<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ·±å…¥ç†è§£Pythonæµç¨‹æ§åˆ¶ï¼šä»ç®—æ³•è®¾è®¡åˆ°é¡ºåºæ‰§è¡Œæœºåˆ¶ï¼ˆé™„ä»£ç ï¼‰]]></title>    <link>https://juejin.cn/post/7592431064976932879</link>    <guid>https://juejin.cn/post/7592431064976932879</guid>    <pubDate>2026-01-07T14:30:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064976932879" data-draft-id="7592440247956455439" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£Pythonæµç¨‹æ§åˆ¶ï¼šä»ç®—æ³•è®¾è®¡åˆ°é¡ºåºæ‰§è¡Œæœºåˆ¶ï¼ˆé™„ä»£ç ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-07T14:30:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="love_summer"/> <meta itemprop="url" content="https://juejin.cn/user/1462819851084228"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£Pythonæµç¨‹æ§åˆ¶ï¼šä»ç®—æ³•è®¾è®¡åˆ°é¡ºåºæ‰§è¡Œæœºåˆ¶ï¼ˆé™„ä»£ç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1462819851084228/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    love_summer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:30:18.000Z" title="Wed Jan 07 2026 14:30:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="arduino-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#434f54}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#00979d}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-literal{color:#d35400}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#00979d}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#005c5f}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-comment{color:rgba(149,165,166,.8)}.hljs-meta-keyword{color:#728e00}.hljs-meta{color:#434f54}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-function{color:#728e00}.hljs-number{color:#8a7b52}</style><blockquote>
<p><strong>å¼•è¨€</strong><br/>
æ‰€è°“çš„ç¼–ç¨‹ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹<strong>æ§åˆ¶æµ</strong>çš„é©¾é©­ã€‚æ— è®ºç®—æ³•å¤šä¹ˆå¤æ‚ï¼Œæœ€ç»ˆéƒ½è¦è½¬åŒ–ä¸ºæœºå™¨å¯æ‰§è¡Œçš„çº¿æ€§æŒ‡ä»¤ã€‚ä»Šå¤©æˆ‘ä»¬é‡è¯»ã€Šè·Ÿç€å¨Ÿå­å§å­¦Pythonã€‹ç¬¬4ç« ï¼ŒèŠèŠç¨‹åºæè¿°çš„å·¥ç¨‹ä»·å€¼ï¼Œä»¥åŠPythonä¸­æœ€åŸºç¡€çš„é¡ºåºç»“æ„èƒŒåé‚£äº›ä¼˜é›…çš„è®¾è®¡ã€‚</p>
</blockquote>
<h3 data-id="heading-0">ä¸€ã€ç®—æ³•çš„å¯è§†åŒ–ï¼šç¨‹åºçš„æè¿°æ–¹å¼</h3>
<p>åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œä»£ç å®ç°åªæ˜¯æœ€åçš„ä¸€ç¯ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§ä¸å…·ä½“è¯­è¨€æ— å…³çš„æ–¹å¼æ¥æè¿°ç®—æ³•é€»è¾‘ã€‚æ–‡ä¸­æåˆ°çš„ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«å¯¹åº”äº†ä¸åŒåœºæ™¯ä¸‹çš„éœ€æ±‚ï¼š</p>
<h4 data-id="heading-1">1. IPOæ¨¡å‹ï¼šæ•°æ®æµçš„æœ¬è´¨</h4>
<p>Input -&gt; Process -&gt; Outputã€‚è¿™ä¸ä»…æ˜¯ç¼–å†™Pythonç¨‹åºçš„æ­¥éª¤ï¼Œæ›´æ˜¯æ‰€æœ‰æ•°æ®å¤„ç†çš„é€šç”¨èŒƒå¼ã€‚å®ƒæé†’æˆ‘ä»¬ï¼š<strong>ä¸è¦ä¸€ä¸Šæ¥å°±å†™ä»£ç ï¼Œå…ˆææ¸…æ¥šè¾“å…¥æ˜¯ä»€ä¹ˆï¼Œè¦è¾“å‡ºä»€ä¹ˆ</strong>ã€‚</p>
<h4 data-id="heading-2">2. æµç¨‹å›¾ï¼šé€»è¾‘çš„å¯è§†åŒ–</h4>
<p>æµç¨‹å›¾é€šè¿‡æ ‡å‡†çš„ç¬¦å·ï¼ˆèµ·æ­¢æ¡†ã€åˆ¤æ–­æ¡†ç­‰ï¼‰å°†é€»è¾‘å…·è±¡åŒ–ã€‚</p>
<ul>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå‘éæŠ€æœ¯äººå‘˜è§£é‡Šé€»è¾‘ï¼Œæˆ–è€…ç”¨äºå¤æ‚çš„ç®—æ³•è®¾è®¡è¯„å®¡ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caeb9037619242b986c60a804c8d1daf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG92ZV9zdW1tZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768401018&amp;x-signature=LFOCHKipGbSYuXjLP26hTjyE9LQ%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h4 data-id="heading-3">3. ä¼ªä»£ç ï¼šè¯­è¨€çš„æ— å…³æ€§</h4>
<p>ä¼ªä»£ç æ˜¯é€»è¾‘çš„â€œéª¨æ¶â€ã€‚å®ƒå‰¥ç¦»äº†è¯­æ³•çš„ç»†èŠ‚ï¼Œåªä¿ç•™ç®—æ³•æ ¸å¿ƒã€‚ä¾‹å¦‚è®¡ç®—åœ†çš„é¢ç§¯ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cb8c4c717b2434b81aa4b37331bc396~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG92ZV9zdW1tZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768401018&amp;x-signature=z2%2BPmSRUGtH1v9unWTNrDvhxwec%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å…ˆä¸“æ³¨äºç®—æ³•çš„æ­£ç¡®æ€§ï¼Œå†è€ƒè™‘å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äºŒã€é¡ºåºæ‰§è¡Œä¸Pythonçš„è¯­æ³•ç³–</h3>
<p>é¡ºåºç»“æ„æ˜¯æ‰€æœ‰ç¼–ç¨‹è¯­è¨€é»˜è®¤çš„æ‰§è¡Œæµï¼š<code>Statement1 -&gt; Statement2 -&gt; Statement3</code>ã€‚ä½†åœ¨Pythonä¸­ï¼Œç”±äºå…¶å¯¹èµ‹å€¼æ“ä½œçš„å¼ºå¤§æ”¯æŒï¼Œé¡ºåºç»“æ„å†™èµ·æ¥æ ¼å¤–â€œæ€§æ„Ÿâ€ã€‚</p>
<h4 data-id="heading-5">2.1 é“¾å¼èµ‹å€¼</h4>
<pre><code class="hljs language-python" lang="python">a = b = c = <span class="hljs-number">100</span>
</code></pre>
<p>è¿™ä¸ä»…å‡å°‘äº†ä»£ç è¡Œæ•°ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒä¿è¯äº†å¤šä¸ªå˜é‡å¼•ç”¨çš„æ˜¯<strong>åŒä¸€ä¸ªå†…å­˜å¯¹è±¡</strong>ï¼ˆå¯¹äºä¸å¯å˜å¯¹è±¡å¦‚æ•´æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-6">2.2 åºåˆ—è§£åŒ…</h4>
<p>è¿™æ˜¯PythonåŒºåˆ«äºC/Javaçš„ä¸€å¤§ç‰¹è‰²ã€‚</p>
<pre><code class="hljs language-python" lang="python">a, b, c, d = <span class="hljs-string">'room'</span>  <span class="hljs-comment"># å­—ç¬¦ä¸²ä¹Ÿæ˜¯åºåˆ—</span>
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šç­‰å·å³è¾¹æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œå·¦è¾¹æ˜¯å¯¹åº”æ•°é‡çš„å˜é‡ã€‚Pythonä¼šå°†åºåˆ—å…ƒç´ ä¾æ¬¡èµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šè¿™ä¸ªç‰¹æ€§éå¸¸å¼ºå¤§ï¼Œå¸¸ç”¨äºå‡½æ•°å¤šè¿”å›å€¼çš„æ¥æ”¶ã€å˜é‡äº¤æ¢ï¼ˆ<code>a, b = b, a</code>ï¼‰ç­‰åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-7">2.3 è¾“å…¥ä¸ç±»å‹è½¬æ¢</h4>
<p>åœ¨Pythonä¸­ï¼Œ<code>input()</code> æ°¸è¿œè¿”å›å­—ç¬¦ä¸²ã€‚ä¸ºäº†è·å–æ•°å€¼å‹æ•°æ®ï¼Œæ–‡ä¸­ä½¿ç”¨äº† <code>eval()</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python">age = <span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥æ‚¨çš„å¹´é¾„:'</span>))
</code></pre>
<ul>
<li><strong>æ³¨æ„</strong>ï¼š<code>eval()</code> å‡½æ•°ä¼šæ‰§è¡Œå­—ç¬¦ä¸²ä¸­çš„Pythonè¡¨è¾¾å¼ï¼Œè™½ç„¶æ–¹ä¾¿ï¼Œä½†åœ¨å¤„ç†ä¸å¯ä¿¡çš„ç”¨æˆ·è¾“å…¥æ—¶å­˜åœ¨å®‰å…¨é£é™©ï¼ˆå¦‚æ³¨å…¥æ”»å‡»ï¼‰ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®ä½¿ç”¨ <code>int()</code> æˆ– <code>float()</code> è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ã€‚</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€ä»£ç å®æˆ˜</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ¶µç›–äº†èµ‹å€¼ã€è§£åŒ…ã€è¾“å…¥è¾“å‡ºçš„å®Œæ•´ç¤ºä¾‹ï¼ˆç¤ºä¾‹4-1ï¼‰ï¼Œå±•ç¤ºäº†Pythoné¡ºåºç»“æ„çš„å…¸å‹å†™æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># coding:utf-8</span>
<span class="hljs-comment"># èµ‹å€¼ä¸é“¾å¼èµ‹å€¼</span>
name = <span class="hljs-string">'ç‹æ°'</span>
a = b = c = d = <span class="hljs-number">100</span>
<span class="hljs-comment"># åºåˆ—è§£åŒ…</span>
a, b, c, d = <span class="hljs-string">'room'</span>
<span class="hljs-comment"># äº¤äº’å¼è¾“å…¥ä¸è¾“å‡º</span>
name = <span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥æ‚¨çš„å§“å:'</span>)
<span class="hljs-comment"># æ¨èå†™æ³•ï¼šage = int(input(...))</span>
age = <span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥æ‚¨çš„å¹´é¾„:'</span>)) 
lucky_number = <span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥æ‚¨çš„å¹¸è¿æ•°å­—:'</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">'å§“å:'</span>, name)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'å¹´é¾„:'</span>, age)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'å¹¸è¿æ•°å­—:'</span>, lucky_number)
</code></pre>
<p><strong>è¿è¡Œæ•ˆæœï¼š</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cc275b2d3b94a7c887fa3ee39217aba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG92ZV9zdW1tZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768401018&amp;x-signature=prozDyINHWo0paG%2FrH7VJazWlks%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<h2 data-id="heading-10">é¡ºåºç»“æ„è™½ç„¶ç®€å•ï¼Œä½†ç»“åˆPythonçš„<strong>é“¾å¼èµ‹å€¼</strong>å’Œ<strong>åºåˆ—è§£åŒ…</strong>ï¼Œèƒ½å†™å‡ºéå¸¸ä¼˜é›…çš„ä»£ç ã€‚æŒæ¡å¥½è¿™äº›åŸºç¡€ç‰¹æ€§ï¼Œæ˜¯ç¼–å†™é«˜è´¨é‡Pythonä»£ç çš„ç¬¬ä¸€æ­¥ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ¢è®¨<strong>é€‰æ‹©ç»“æ„ï¼ˆåˆ†æ”¯ï¼‰</strong>ï¼Œçœ‹çœ‹Pythonæ˜¯å¦‚ä½•å¤„ç†é€»è¾‘åˆ¤æ–­çš„ã€‚</h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡çœŸå®çš„æµå¼è¸©å‘ï¼šfetchEventSource vs fetchæµè¯»å–çš„æœ¬è´¨åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7592507671083483146</link>    <guid>https://juejin.cn/post/7592507671083483146</guid>    <pubDate>2026-01-08T01:45:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592507671083483146" data-draft-id="7592438587389362214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡çœŸå®çš„æµå¼è¸©å‘ï¼šfetchEventSource vs fetchæµè¯»å–çš„æœ¬è´¨åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-08T01:45:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»‘åœŸè±†"/> <meta itemprop="url" content="https://juejin.cn/user/3421335917433006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡çœŸå®çš„æµå¼è¸©å‘ï¼šfetchEventSource vs fetchæµè¯»å–çš„æœ¬è´¨åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3421335917433006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»‘åœŸè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T01:45:27.000Z" title="Thu Jan 08 2026 01:45:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å‰ç«¯æ¥å…¥<code>AI</code>ã€<code>OCR</code>æˆ–<strong>å¤§æ¨¡å‹</strong>èƒ½åŠ›æ—¶ï¼Œ<strong>æµå¼è¿”å›</strong>å‡ ä¹å·²ç»æˆä¸ºæ ‡é…ï¼šæœåŠ¡ç«¯ä¸€è¾¹è®¡ç®—ï¼Œä¸€è¾¹é€šè¿‡<code>text/event-stream</code>æŠŠç»“æœé€æ­¥æ¨é€ç»™å‰ç«¯ï¼Œç”¨æˆ·ä¹Ÿèƒ½å®æ—¶çœ‹åˆ°å†…å®¹ç”Ÿæˆçš„è¿‡ç¨‹ã€‚çœ‹èµ·æ¥è¿™æ˜¯ä¸€ä¸ªå·²ç»è¢«â€œæ ‡å‡†åŒ–â€çš„æŠ€æœ¯åœºæ™¯ï¼Œä½†çœŸæ­£è½åˆ°å·¥ç¨‹å®è·µä¸­ï¼Œå¾ˆå¤šäººéƒ½ä¼šé‡åˆ°ä¸€ä¸ªéå¸¸éšè”½ã€å´æå…¶è‡´å‘½çš„é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>åŒæ ·æ˜¯æµå¼è¯·æ±‚ï¼Œæœ‰çš„å®ç°ç¨³å®šå¯é ï¼Œæœ‰çš„å´æ€»æ˜¯å°‘å­—ã€æ–­å¥ã€å†…å®¹ä¸¢å¤±ï¼Œç”šè‡³å®Œå…¨æ— æ³•å¤ç° Bugã€‚</strong></p>
</blockquote>
<p>æœ€å¸¸è§çš„å¯¹æ¯”ï¼Œå°±æ˜¯ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>fetch + response.body.getReader()</code>ï¼šé—®é¢˜é¢‘å‘ï¼Œå´å¾ˆéš¾å®šä½</li>
<li>ä½¿ç”¨<code>fetchEventSource</code>ï¼šå‡ ä¹ä¸å‡ºé—®é¢˜</li>
</ul>
<p>ä¹ä¸€çœ‹ï¼Œä¸¤è€…éƒ½åŸºäº<code>fetch</code>ï¼Œéƒ½èƒ½â€œè¾¹æ”¶è¾¹å¤„ç†æ•°æ®â€ï¼Œç”šè‡³æœåŠ¡ç«¯è¿”å›çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œä½†å®é™…æ•ˆæœå´å¤©å·®åœ°åˆ«ã€‚å¾ˆå¤šäººä¼šæŠŠåŸå› å½’ç»“ä¸ºâ€œç½‘ç»œä¸ç¨³å®šâ€æˆ–â€œæµè§ˆå™¨<code>bug</code>â€ï¼Œå´å¿½ç•¥äº†ä¸€ä¸ªæ›´å…³é”®çš„äº‹å®ï¼š</p>
<blockquote>
<p><strong>é—®é¢˜å¹¶ä¸å‡ºåœ¨ç½‘ç»œå±‚ï¼Œè€Œå‡ºåœ¨å‰ç«¯å¯¹â€œæµâ€çš„ç†è§£å±‚çº§ä¸Šã€‚</strong></p>
</blockquote>
<p>æœ¬æ–‡å°†åŸºäºä¸€æ¬¡çœŸå®çš„å·¥ç¨‹å®è·µï¼Œå¯¹æ¯”<code>fetchEventSource</code>ä¸<code>fetch</code>æ‰‹åŠ¨è¯»å–æµè¿™ä¸¤ç§å®ç°æ–¹å¼ï¼Œä»<strong>åè®®å±‚ã€ä¼ è¾“å±‚åˆ°å‰ç«¯è§£æå±‚</strong>é€å±‚æ‹†è§£å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«ï¼Œé‡ç‚¹åˆ†æï¼š</p>
<ul>
<li><strong>2</strong>ç§æ–¹å¼åœ¨è®¾è®¡ç›®æ ‡ä¸Šçš„æ ¹æœ¬å·®å¼‚</li>
<li>ä¸ºä»€ä¹ˆæ‰‹å†™æµè§£æææ˜“å‡ºç°â€œçœ‹ä¸è§çš„ä¸¢æ•°æ®â€</li>
<li>ä»¥åŠè¿™äº›â€œä¸¢åŒ…é—®é¢˜â€ç©¶ç«Ÿæ˜¯å¦‚ä½•åœ¨å‰ç«¯è§£æé˜¶æ®µæ‚„ç„¶å‘ç”Ÿçš„</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ åœ¨ä¸‹æ¬¡é¢å¯¹æµå¼æ¥å£æ—¶ï¼Œä¸å†åªåœç•™åœ¨â€œèƒ½è·‘å°±è¡Œâ€ï¼Œè€Œæ˜¯çœŸæ­£ç«™åœ¨<strong>æ­£ç¡®çš„æŠ½è±¡å±‚</strong>ä¸Šåšé€‰æ‹©ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å…ˆçœ‹é¡¹ç›®ä¸­è¿™ä¸¤æ®µä»£ç åœ¨â€œåšä»€ä¹ˆâ€</h2>
<p>é‚£å¼€å§‹è¿™æ¬¡çš„ä¸»é¢˜ï¼Œå…ˆæ¥çœ‹çœ‹é¡¹ç›®ä¸­æ›¾å†™è¿‡çš„ä¸¤æ®µä»£ç ï¼Œé¦–å…ˆæ¥çœ‹çœ‹ä½¿ç”¨<code>fetch + reader</code>æ¥å®ç°æµå¼è¯»å–çš„ä»£ç ã€‚</p>
<h3 data-id="heading-2">1ï¸âƒ£ fetch + readerï¼šç«™åœ¨ã€Œå­—èŠ‚æµã€å·¥ä½œ</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">res</span> = await fetch(url, { method: <span class="hljs-string">"POST"</span>, body: formData })
const <span class="hljs-attr">reader</span> = res.body!.getReader()
const <span class="hljs-attr">decoder</span> = new TextDecoder(<span class="hljs-string">"utf-8"</span>)

while (!done) {
  const { value } = await reader.read()
  let <span class="hljs-attr">chunk</span> = decoder.decode(value)

  // å¤„ç†RECORD_ID
  if (chunk.includes('RECORD_ID') || chunk.match(/^\d+:end/)) {
    const <span class="hljs-attr">match1</span> = chunk.match(/^data:RECORD_ID:(\d+):end(.*)$/s)  
    const <span class="hljs-attr">match2</span> = chunk.match(/^RECORD_ID:(\d+):end(.*)$/s)       
    const <span class="hljs-attr">match3</span> = chunk.match(/^(\d+):end(.*)$/s)                
    const <span class="hljs-attr">match4</span> = chunk.match(/^RECORD_ID:(\d+)(.*)$/s)           

    const <span class="hljs-attr">match</span> = match1 || match2 || match3 || match4
    if (match) {
      const <span class="hljs-attr">idMatch</span> = match[<span class="hljs-number">1</span>]
      if (idMatch) {
        <span class="hljs-attr">recordId.value</span> = parseInt(idMatch)
      }
    }
  }

  // å»é™¤data:
  <span class="hljs-attr">chunk</span> = chunk.replaceAll(<span class="hljs-string">'data:'</span>, <span class="hljs-string">''</span>)
  // å»é™¤RECORD_ID:xxx
  <span class="hljs-attr">chunk</span> = chunk.replace(/RECORD_ID:\d+/g, <span class="hljs-string">''</span>)
  // å»é™¤:end
  <span class="hljs-attr">chunk</span> = chunk.replaceAll(<span class="hljs-string">':end'</span>, <span class="hljs-string">''</span>)
  // å»é™¤æ¢è¡Œ
  <span class="hljs-attr">chunk</span> = chunk.replace(/\n+/g, <span class="hljs-string">''</span>)

  // å¤„ç†STREAM_COMPLETEï¼ˆç»“æŸæ ‡è®°ï¼‰
  if (chunk.includes('STREAM_COMPLETE')) {
    <span class="hljs-attr">chunk</span> = chunk.replaceAll(<span class="hljs-string">'STREAM_COMPLETE'</span>, <span class="hljs-string">''</span>)
    <span class="hljs-attr">isStreaming.value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-attr">done</span> = <span class="hljs-literal">true</span>
  }
  inputValue.value += chunk
}

</code></pre>
<p>è¿™æ®µä»£ç çš„ç‰¹ç‚¹éå¸¸æ˜æ˜¾ï¼š</p>
<ul>
<li>æ‹¿åˆ°çš„æ˜¯<strong>ä¸å®šé•¿Uint8Array</strong></li>
<li>æ¯æ¬¡<code>read()</code>ï¼š
<ul>
<li><strong>å¯èƒ½æ˜¯åŠæ¡æ¶ˆæ¯</strong></li>
<li><strong>ä¹Ÿå¯èƒ½æ˜¯å¤šæ¡æ¶ˆæ¯æ‹¼åœ¨ä¸€èµ·</strong></li>
</ul>
</li>
<li>æ‰€æœ‰åè®®è§£æé€»è¾‘éƒ½åœ¨å‰ç«¯è‡ªå·±å†™</li>
</ul>
<p>ğŸ‘‰ æœ¬è´¨ä¸Šæ˜¯åœ¨ <strong>â€œè‡ªå·±å®ç°ä¸€ä¸ªSSEè§£æå™¨â€</strong> ã€‚</p>
<h3 data-id="heading-3">2ï¸âƒ£ fetchEventSourceï¼šç«™åœ¨ã€Œäº‹ä»¶å±‚ã€å·¥ä½œ</h3>
<p>ç„¶åå†æ¥çœ‹çœ‹ä½¿ç”¨<code>fetchEventSource</code>æ’ä»¶ä¼˜åŒ–è¿‡çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchEventSource</span>(<span class="hljs-string">`<span class="hljs-subst">${baseURL4}</span>/ai/imgToStr`</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-title class_">Accept</span>: <span class="hljs-string">"text/event-stream"</span>,
    <span class="hljs-string">"access-token"</span>: <span class="hljs-title function_">getToken</span>()
  },
  <span class="hljs-attr">body</span>: formData,
  <span class="hljs-attr">openWhenHidden</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// é¡µé¢ç¦»å¼€å†å›æ¥ä¹Ÿä¼šç»§ç»­è¯·æ±‚</span>
  <span class="hljs-attr">onmessage</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">data</span>)
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">data</span>.<span class="hljs-property">event</span> === <span class="hljs-string">"recordId"</span>) {
      recordId.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>.<span class="hljs-property">content</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data.<span class="hljs-property">data</span>.<span class="hljs-property">event</span> === <span class="hljs-string">"message"</span>) {
      inputValue.<span class="hljs-property">value</span> += data.<span class="hljs-property">data</span>.<span class="hljs-property">content</span>
    }
  },
  <span class="hljs-attr">onerror</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
    <span class="hljs-keyword">throw</span> err
  }
})

</code></pre>
<p>å¯ä»¥æ³¨æ„åˆ°å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<ul>
<li>æ²¡æœ‰è‡ªå·±å¤„ç†<code>chunk</code></li>
<li>æ²¡æœ‰è‡ªå·±æ‹†åˆ†æ¢è¡Œ</li>
<li>ç›´æ¥æ‹¿åˆ°<code>e.data</code>ï¼Œå°±æ˜¯ä¸€æ¡å®Œæ•´äº‹ä»¶</li>
</ul>
<p>ğŸ‘‰ å› ä¸ºï¼š<code>fetchEventSource</code><strong>å¹¶ä¸æ˜¯â€œè¯»å­—èŠ‚æµâ€</strong> ï¼Œè€Œæ˜¯ï¼š<strong>ä¸¥æ ¼æŒ‰ç…§ SSE åè®®ï¼Œè§£æå®Œä¸€æ•´æ¡äº‹ä»¶åï¼Œæ‰å›è°ƒonmessage</strong></p>
<h2 data-id="heading-4">äºŒã€ä»€ä¹ˆæ˜¯SSEåè®®ï¼Ÿ</h2>
<p><strong>SSEï¼ˆServer-Sent Eventsï¼‰</strong> æ˜¯ä¸€ç§åŸºäº<code>HTTP</code>çš„å•å‘æ¨é€åè®®ï¼Œæµè§ˆå™¨é€šè¿‡ä¸€æ¬¡æ™®é€šçš„<code>HTTP</code>è¯·æ±‚ï¼Œä¸æœåŠ¡ç«¯å»ºç«‹ä¸€æ¡<strong>é•¿è¿æ¥</strong>ï¼Œä¹‹åæœåŠ¡ç«¯å¯ä»¥æŒç»­å‘å®¢æˆ·ç«¯æ¨é€äº‹ä»¶æ•°æ®ã€‚</p>
<p>å®ƒçš„å‡ ä¸ªå…³é”®ç‰¹å¾éå¸¸é‡è¦ï¼š</p>
<ul>
<li>åŸºäº <strong>HTTP/1.1 æˆ– HTTP/2</strong></li>
<li>æœåŠ¡ç«¯ä¸»åŠ¨æ¨é€ï¼Œ<strong>å®¢æˆ·ç«¯åªæ¥æ”¶</strong></li>
<li>æ•°æ®æ ¼å¼æ˜¯<strong>çº¯æ–‡æœ¬</strong></li>
<li>ä½¿ç”¨<code>text/event-stream</code>ä½œä¸º<code>Content-Type</code></li>
</ul>
<p>åœ¨å‰ç«¯ä»£ç ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªè¯·æ±‚å¤´ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">Accept:</span> <span class="hljs-keyword">text</span>/<span class="hljs-keyword">event</span>-stream
</code></pre>
<p>è¿™å¹¶ä¸æ˜¯éšä¾¿å†™çš„ï¼Œè€Œæ˜¯æ˜ç¡®å‘Šè¯‰æœåŠ¡ç«¯ï¼š<strong>æˆ‘æœŸæœ›ä½ ç”¨SSEåè®®æ ¼å¼ï¼ŒæŒç»­å‘æˆ‘æ¨é€äº‹ä»¶ã€‚</strong></p>
<h3 data-id="heading-5">SSEå¹¶ä¸æ˜¯â€œéšä¾¿åå­—ç¬¦ä¸²â€</h3>
<p>æˆ‘ä»¬å¾ˆå¤šäººè¯¯ä»¥ä¸º<code>SSE</code>å°±æ˜¯â€œæœåŠ¡ç«¯ä¸æ–­<code>res.write()</code>å­—ç¬¦ä¸²â€ï¼Œè¿™æ˜¯å¯¼è‡´åç»­å„ç§è§£æé—®é¢˜çš„æ ¹æºã€‚</p>
<p><strong>SSEæ˜¯æœ‰ä¸¥æ ¼æ–‡æœ¬æ ¼å¼è§„èŒƒçš„ã€‚</strong> ä¸€æ¡æœ€åŸºæœ¬çš„<code>SSE</code>äº‹ä»¶é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span>: hello world
</code></pre>
<p>æ³¨æ„ä¸¤ä¸ªéå¸¸å…³é”®çš„ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸€è¡Œä»¥å­—æ®µåå¼€å¤´ï¼ˆæœ€å¸¸è§çš„æ˜¯<code>data:</code>ï¼‰</li>
<li><strong>ä¸¤ä¸ªæ¢è¡Œç¬¦<code>\n\n</code> æ‰è¡¨ç¤ºä¸€æ¡äº‹ä»¶çš„ç»“æŸ</strong></li>
</ol>
<p>å®Œæ•´ä¸€ç‚¹çš„äº‹ä»¶å¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">id: 123</span>
<span class="hljs-section">event: message</span>
<span class="hljs-section">data: hello</span>
<span class="hljs-section">data: world</span>
</code></pre>
<p>æµè§ˆå™¨åœ¨è§£ææ—¶ï¼Œä¼šæŠŠå¤šè¡Œ<code>data:</code>è‡ªåŠ¨æ‹¼æ¥æˆä¸€æ¡å®Œæ•´æ¶ˆæ¯ï¼š</p>
<pre><code class="hljs">hello
world
</code></pre>
<p>æœ€ç»ˆäº¤ç»™ä¸Šå±‚çš„ï¼Œå°±æ˜¯ä¸€æ¡<strong>å®Œæ•´çš„äº‹ä»¶æ•°æ®</strong>ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œ<code>SSE</code>åè®®ä¹Ÿä»‹ç»çš„å·®ä¸å¤šäº†ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¤§è‡´é€æäº†ä¸€ç‚¹åœ¨é¡¹ç›®ä¸­ä¸ºå•¥ä¼šé€‰æ‹©ä½¿ç”¨<code>fetchEventSource</code>çš„åŸå› äº†ï¼Œä¸‹é¢å†æ¥çœ‹çœ‹è¿™ä¸¤ç§å®ç°æ–¹æ³•çš„æœ¬è´¨åŒºåˆ«ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€ä¸¤è€…æœ€æ ¸å¿ƒçš„æœ¬è´¨åŒºåˆ«ï¼ˆä¸æ˜¯APIï¼Œè€Œæ˜¯å±‚çº§ï¼‰</h2>








































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>fetchEventSource</th><th>fetch + reader</th></tr></thead><tbody><tr><td>å·¥ä½œå±‚çº§</td><td>äº‹ä»¶å±‚ï¼ˆSSEåè®®ï¼‰</td><td>å­—èŠ‚æµå±‚ï¼ˆTCP chunkï¼‰</td></tr><tr><td>æ˜¯å¦ç†è§£<code>data:</code> / <code>\n\n</code></td><td>âœ… å†…ç½®</td><td>âŒ éœ€è¦æ‰‹å†™</td></tr><tr><td>æ˜¯å¦ä¿è¯ä¸€æ¡æ¶ˆæ¯å®Œæ•´</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>æ˜¯å¦è‡ªåŠ¨ç¼“å†²</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>æ˜¯å¦å¤„ç†æ‹†åŒ…/ç²˜åŒ…</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>ä¸¢æ•°æ®é£é™©</td><td>æä½</td><td>å¾ˆé«˜</td></tr></tbody></table>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>fetchEventSourceæ¶ˆè´¹çš„æ˜¯â€œè¯­ä¹‰å®Œæ•´çš„äº‹ä»¶â€<br/>
fetch + readeræ¶ˆè´¹çš„æ˜¯â€œè¿˜æ²¡æˆå½¢çš„å­—èŠ‚ç¢ç‰‡â€</strong></p>
</blockquote>
<h2 data-id="heading-7">ä¸‰ã€é‡ç‚¹ï¼šä¸ºä»€ä¹ˆfetchæ–¹å¼æ›´å®¹æ˜“â€œä¸¢æ•°æ®â€ï¼Ÿ</h2>
<p>é€šè¿‡ä¸Šé¢çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬æ¸…æ¥šäº†ä¸¤è€…æœ€æœ¬è´¨çš„åŒºåˆ«ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å›åˆ°ä»£ç æœ¬èº«ï¼Œæ¥çœ‹çœ‹åˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´<code>fetch</code>æ–¹å¼â€œä¸¢æ•°æ®â€â†’</p>
<h3 data-id="heading-8">1ï¸âƒ£ é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼šTCPä¸ä¼šä¸¢åŒ…ï¼Œä½†ä½ ä¼šâ€œè¯»ä¸¢â€</h3>
<p>å¾ˆå¤šäººè¯´â€œ<code>fetch</code>ä¼šä¸¢åŒ…â€ï¼Œè¿™æ˜¯<strong>ä¸ä¸¥è°¨ä½†å·¥ç¨‹ä¸Šæˆç«‹</strong>çš„è¯´æ³•ã€‚</p>
<p>å‡†ç¡®è®²æ˜¯ï¼š<strong>TCPå±‚ä¸ä¸¢ï¼Œä½†å‰ç«¯çš„â€œè§£ææ–¹å¼â€å¯¼è‡´äº†è¯­ä¹‰ä¸¢å¤±</strong></p>
<h3 data-id="heading-9">2ï¸âƒ£ ä¸¢æ•°æ®çš„ç¬¬ä¸€ä¸ªåŸå› ï¼šSSEæ¶ˆæ¯è¢«æ‹†æˆå¤šä¸ªchunk</h3>
<p>åœ¨ä¸Šé¢ä»‹ç»<code>SSE</code>åè®®ä¸­ï¼Œæˆ‘ä»¬æ¸…æ¥šçŸ¥é“ä¸€æ¡æœ€åŸºæœ¬çš„<code>SSE</code>äº‹ä»¶æ˜¯å•¥æ ·çš„ï¼Œè¿™é‡Œå¸¦å…¥ä¸€ä¸‹çœŸå®è¯·æ±‚å†ä»‹ç»ä¸€ä¸‹ä¸€æ¡<code>SSE</code>äº‹ä»¶çš„å®Œæ•´è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span>:xxx
<span class="hljs-keyword">data</span>:yyy
</code></pre>
<p>ä½†åœ¨ç½‘ç»œå±‚ï¼Œå®ƒ<strong>å¯èƒ½ä¼šè¢«æ‹†æˆè¿™æ ·åˆ°è¾¾å‰ç«¯</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç¬¬<span class="hljs-number">1</span>æ¬¡ <span class="hljs-built_in">read</span>(): <span class="hljs-string">"data:xxx\ndata:"</span>
ç¬¬<span class="hljs-number">2</span>æ¬¡ <span class="hljs-built_in">read</span>(): <span class="hljs-string">"yyy\n\n"</span>
</code></pre>
<p>è€Œåœ¨ä»£ç é‡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">chunk</span> = decoder.decode(value)
<span class="hljs-attr">chunk</span> = chunk.replaceAll(<span class="hljs-string">'data:'</span>, <span class="hljs-string">''</span>)
<span class="hljs-attr">chunk</span> = chunk.replace(/\n+/g, <span class="hljs-string">''</span>)
inputValue.value += chunk
</code></pre>
<p>é—®é¢˜æ¥äº†ï¼š</p>
<ul>
<li>å‡è®¾<code>chunk</code>ä¸€å®šæ˜¯â€œå®Œæ•´è¯­ä¹‰â€</li>
<li>å®é™…ä¸Š<code>chunk</code>åªæ˜¯ <strong>ä»»æ„åˆ‡å‰²çš„å­—èŠ‚ç‰‡æ®µ</strong></li>
<li><code>replace + æ‹¼æ¥</code>æ˜¯<strong>ç ´åæ€§æ“ä½œ</strong></li>
</ul>
<p>ğŸ‘‰ ä¸€æ—¦æ‹†åœ¨<code>data:</code>ã€<code>RECORD_ID:</code>ã€<code>:end</code>ä¸­é—´ï¼Œ<br/>
<strong>è¿™ä¸€æ®µè¯­ä¹‰å°±å†ä¹Ÿè¿˜åŸä¸å›æ¥äº†</strong></p>
<p>è¿™å°±æ˜¯<strong>çœ‹èµ·æ¥æ²¡æŠ¥é”™ï¼Œä½†å†…å®¹å°‘å­—ã€ä¹±å­—</strong>çš„æ ¹æºã€‚</p>
<h3 data-id="heading-10">3ï¸âƒ£ ç¬¬äºŒä¸ªåŸå› ï¼šchunkä¸­å¯èƒ½åŒ…å«ã€Œå¤šæ¡æ¶ˆæ¯ã€</h3>
<p>åè¿‡æ¥ï¼ŒæœåŠ¡ç«¯ä¸€æ¬¡<code>flush</code>ï¼Œä¹Ÿå¯èƒ½è¢«æµè§ˆå™¨åˆå¹¶æˆä¸€ä¸ª<code>chunk</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span>:hello\n\n
<span class="hljs-keyword">data</span>:world\n\n
</code></pre>
<p>ä¸€æ¬¡<code>read()</code>æ‹¿åˆ°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span>:hello\n\ndata:world\n\n
</code></pre>
<p>è€Œåœ¨ä»£ç é‡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">chunk.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">'data:'</span>, <span class="hljs-string">''</span>)
chunk.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">''</span>)
</code></pre>
<p>ä¼šç›´æ¥å˜æˆï¼š</p>
<pre><code class="hljs">helloworld
</code></pre>
<p>åˆ°è¿™é‡Œå¯ä»¥å‘ç°å·²ç»<strong>ä¸¢æ‰äº†â€œäº‹ä»¶è¾¹ç•Œâ€è¿™ä¸ªæœ€é‡è¦çš„ä¿¡æ¯</strong>ã€‚</p>
<h3 data-id="heading-11">4ï¸âƒ£ ç¬¬ä¸‰ä¸ªåŸå› ï¼šTextDecoderä½¿ç”¨æ–¹å¼æœ¬èº«å°±æœ‰å‘</h3>
<pre><code class="hljs language-php" lang="php">decoder.<span class="hljs-title function_ invoke__">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">false</span> })
</code></pre>
<ul>
<li><code>stream: false</code> è¡¨ç¤º<strong>æ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªâ€œç‹¬ç«‹å­—ç¬¦ä¸²â€</strong></li>
<li>å¦‚æœ<code>UTF-8</code>å­—ç¬¦è¢«æ‹†æˆ2æ¬¡<code>Uint8Array</code></li>
<li><strong>å¤šå­—èŠ‚å­—ç¬¦ä¼šç›´æ¥æŸå</strong></li>
</ul>
<p>æ­£ç¡®æ–¹å¼å…¶å®æ˜¯ï¼š</p>
<pre><code class="hljs language-php" lang="php">decoder.<span class="hljs-title function_ invoke__">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> })
</code></pre>
<p>ä½†å³ä¾¿å¦‚æ­¤ï¼Œ<strong>è¯­ä¹‰è¾¹ç•Œé—®é¢˜ä¾ç„¶å­˜åœ¨</strong>ã€‚</p>
<h2 data-id="heading-12">å››ã€ä¸ºä»€ä¹ˆfetchEventSourceå‡ ä¹ä¸ä¼šå‡ºç°è¿™äº›é—®é¢˜ï¼Ÿ</h2>
<p>å› ä¸ºå®ƒ<strong>å·²ç»å¸®ä½ åšå®Œäº†è¿™äº›è„æ´»</strong></p>
<h3 data-id="heading-13">fetchEventSourceå†…éƒ¨åšäº†ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>æŒç»­è¯»å–<code>response stream</code></li>
<li>å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª<code>buffer</code></li>
<li>æŒ‰<code>SSE</code>è§„èŒƒè§£æï¼š
<ul>
<li><code>data:</code></li>
<li><code>id:</code></li>
<li><code>event:</code></li>
<li><code>\n\n</code>ä½œä¸ºäº‹ä»¶ç»“æŸæ ‡å¿—</li>
</ul>
</li>
<li><strong>åªæœ‰åœ¨ä¸€æ•´æ¡äº‹ä»¶å®Œæ•´å</strong>
<ul>
<li>æ‰è§¦å‘<code>onmessage</code></li>
<li>å¹¶ä¸”ä¿è¯<code>e.data</code>æ˜¯å®Œæ•´å­—ç¬¦ä¸²</li>
</ul>
</li>
</ol>
<p>ğŸ‘‰ æ‰€ä»¥æ‹¿åˆ°çš„æ°¸è¿œæ˜¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  data: <span class="hljs-string">"{...å®Œæ•´JSON...}"</span>
}
</code></pre>
<p>è€Œä¸æ˜¯ç¢ç‰‡ã€‚</p>
<h2 data-id="heading-14">äº”ã€ç»“è®ºï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-15">âœ… ä»€ä¹ˆåœºæ™¯å¿…é¡»ç”¨ fetchEventSourceï¼Ÿ</h3>
<ul>
<li><code>SSE / text-event-stream</code></li>
<li><code>AI</code>æµå¼è¾“å‡º</li>
<li><code>OCR</code>/<code>LLM</code>/é•¿æ–‡æœ¬é€æ­¥è¿”å›</li>
<li>éœ€è¦<strong>ä¸¥æ ¼ä¿è¯å†…å®¹ä¸ä¸¢ã€ä¸ä¹±ã€ä¸å°‘</strong></li>
</ul>
<p>ğŸ‘‰ <strong>é¦–é€‰ fetchEventSource</strong></p>
<h3 data-id="heading-16">âš ï¸ ä»€ä¹ˆæ—¶å€™æ‰è¯¥ç”¨fetch + readerï¼Ÿ</h3>
<ul>
<li>æ˜ç¡®çŸ¥é“è¿™æ˜¯ï¼š
<ul>
<li>äºŒè¿›åˆ¶æµ</li>
<li>æ–‡ä»¶æµ</li>
<li>è‡ªå®šä¹‰åè®®</li>
</ul>
</li>
<li>æˆ–è€…ï¼š
<ul>
<li>è‡ªå·±å®ç°å®Œæ•´buffer</li>
<li>è‡ªå·±æŒ‰<code>\n\n</code> æ‹†äº‹ä»¶</li>
<li>æ˜ç¡®å¤„ç†æ‹†åŒ…ã€ç²˜åŒ…ã€UTF-8è¾¹ç•Œ
å¦åˆ™ï¼š</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>fetch + reader â‰  SSEå®¢æˆ·ç«¯<br/>
åªæ˜¯ä¸€ä¸ªâ€œå­—èŠ‚è¯»å–å·¥å…·â€</strong></p>
</blockquote>
<p>æœ€åï¼Œä¸€å¥è¯æ€»ç»“ï¼š<strong>fetchEventSourceæ˜¯â€œåè®®çº§æ¶ˆè´¹â€ï¼Œå¤©ç„¶é˜²ä¸¢åŒ…ï¼›è€Œfetchæµè¯»å–æ˜¯â€œå­—èŠ‚çº§æ¶ˆè´¹â€ï¼Œææ˜“åœ¨è§£æé˜¶æ®µä¸¢è¯­ä¹‰</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[rust crate undoc ä»‹ç»]]></title>    <link>https://juejin.cn/post/7592501225004056627</link>    <guid>https://juejin.cn/post/7592501225004056627</guid>    <pubDate>2026-01-07T15:47:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592501225004056627" data-draft-id="7592455394062811174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="rust crate undoc ä»‹ç»"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2026-01-07T15:47:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Andrew_Ryan"/> <meta itemprop="url" content="https://juejin.cn/user/3993068510655703"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            rust crate undoc ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3993068510655703/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Andrew_Ryan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:47:00.000Z" title="Wed Jan 07 2026 15:47:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€ã€å·¥å…·åŸºç¡€ä¿¡æ¯</h2>
<ol>
<li><strong>å®šä½</strong>ï¼šä¸€æ¬¾é«˜æ€§èƒ½ Rust åº“ï¼Œä¸»æ‰“ Microsoft Office æ–‡æ¡£ï¼ˆDOCXã€XLSXã€PPTXï¼‰å†…å®¹æå–ï¼Œæ”¯æŒè½¬æ¢ä¸ºå¤šç§æ ¼å¼ã€‚</li>
<li><strong>ç‰ˆæœ¬ä¸æ›´æ–°</strong>ï¼šå½“å‰ç‰ˆæœ¬ 0.1.10ï¼Œ2025 å¹´ 12 æœˆ 21 æ—¥å‘å¸ƒï¼›å†å²ç‰ˆæœ¬ä» 0.1.1 åˆ° 0.1.9ï¼Œå¤šé›†ä¸­åœ¨ 2025 å¹´ 12 æœˆ 20-21 æ—¥æ›´æ–°ï¼Œä¸”è‡ªå¸¦é€šè¿‡ GitHub Releases å®ç°çš„è‡ªæ›´æ–°æœºåˆ¶ï¼ˆå¯æ£€æŸ¥æ›´æ–°ã€æ›´æ–°åˆ°æœ€æ–°ç‰ˆã€å¼ºåˆ¶é‡è£…ï¼‰ã€‚</li>
<li><strong>æ–‡æ¡£è¦†ç›–ä¸è§„æ¨¡</strong>ï¼šæ–‡æ¡£è¦†ç›–ç‡ 91.49%ï¼ˆ235 ä¸ªé¡¹ç›®ä¸­ 215 ä¸ªæœ‰æ–‡æ¡£ï¼Œ38 ä¸ªé¡¹ç›®ä¸­ 14 ä¸ªå¸¦ç¤ºä¾‹ï¼‰ï¼›æºç å¤§å° 368.97 kBï¼Œæ–‡æ¡£å¤§å° 3.9 MBã€‚</li>
<li><strong>ä¾èµ–é¡¹</strong>ï¼šåŒ…å« quick-xmlï¼ˆ^0.37ï¼‰ã€rayonï¼ˆ^1.10ï¼‰ã€regexï¼ˆ^1.11ï¼‰ã€serdeï¼ˆ^1.0ï¼‰ã€serde_jsonï¼ˆ^1.0ï¼‰ã€thiserrorï¼ˆ^2.0ï¼‰ã€tokioï¼ˆ^1.42ï¼Œå¯é€‰ï¼‰ã€unicode-normalizationï¼ˆ^0.1ï¼‰ã€zipï¼ˆ^2.2ï¼‰ã€tempfileï¼ˆ^3.14ï¼‰ç­‰ã€‚</li>
<li><strong>æ‰€æœ‰æƒ</strong>ï¼šç”± iyulab-caveman ç»´æŠ¤ï¼Œä»“åº“åœ°å€ä¸º iyulab/undoc000ï¼Œå¯åœ¨ crates.io è·å–ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h2>
<ol>
<li>
<p><strong>æ ¼å¼æ”¯æŒ</strong></p>
<ul>
<li><strong>è¾“å…¥æ ¼å¼</strong>ï¼šDOCXï¼ˆWordï¼‰ã€XLSXï¼ˆExcelï¼‰ã€PPTXï¼ˆPowerPointï¼‰ï¼Œå‡å·²å®ç°å®Œæ•´æ”¯æŒã€‚</li>
<li><strong>è¾“å‡ºæ ¼å¼</strong>ï¼šMarkdownï¼ˆå¸¦ç»“æ„åŒ–æ’ç‰ˆï¼Œå«æ ‡é¢˜ã€åˆ—è¡¨ã€è¡¨æ ¼ç­‰ï¼‰ã€Plain Textï¼ˆçº¯æ–‡æœ¬ï¼Œæ— æ ¼å¼æ ‡è®°ï¼‰ã€JSONï¼ˆå«å®Œæ•´å…ƒæ•°æ®ï¼Œå¦‚æ ‡é¢˜ã€ä½œè€…ã€åˆ›å»ºæ—¶é—´ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å†…å®¹å¤„ç†èƒ½åŠ›</strong></p>
<ul>
<li>ä¿ç•™æ–‡æ¡£ç»“æ„ï¼šåŒ…æ‹¬æ ‡é¢˜å±‚çº§ã€åˆ—è¡¨ï¼ˆæœ‰åº / æ— åºåŠåµŒå¥—ï¼‰ã€è¡¨æ ¼ã€è¡Œå†…æ ¼å¼ï¼ˆç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ï¼‰ã€‚</li>
<li>ä¸“é¡¹åŠŸèƒ½ï¼šPPTX è¡¨æ ¼å®Œæ•´è§£æã€CJK æ–‡æœ¬æ™ºèƒ½é—´è·ï¼ˆæ”¯æŒä¸­éŸ©æ—¥å†…å®¹ï¼‰ã€èµ„æºæå–ï¼ˆå›¾ç‰‡ã€å›¾è¡¨ã€åµŒå…¥å¼åª’ä½“ï¼‰ã€æ–‡æœ¬æ¸…ç†ï¼ˆå¤šé¢„è®¾ï¼Œé€‚é… LLM è®­ç»ƒæ•°æ®å‡†å¤‡ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼šåŸºäº Rayon å®ç°å¹¶è¡Œå¤„ç†ï¼ˆå¤šç« èŠ‚ / å·¥ä½œè¡¨ / å¹»ç¯ç‰‡ï¼‰ã€é€šè¿‡ quick-xml å®ç°é«˜æ•ˆ XML è§£æã€æ”¯æŒå¤§æ–‡æ¡£å†…å­˜é«˜æ•ˆå¤„ç†ï¼Œè¿˜æä¾› C-ABI FFIï¼ˆå¯ä½œä¸º C#ã€Python ç­‰è¯­è¨€çš„åŸç”Ÿåº“ï¼‰ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€å®‰è£…æ–¹å¼</h2>
<h3 data-id="heading-3">ï¼ˆä¸€ï¼‰é¢„ç¼–è¯‘äºŒè¿›åˆ¶åŒ…ï¼ˆæ¨èï¼‰</h3>






























<table><thead><tr><th>å¹³å°</th><th>æ¶æ„</th><th>ä¸‹è½½ä¸å®‰è£…å‘½ä»¤</th></tr></thead><tbody><tr><td>Windows</td><td>x64</td><td>1. ä¸‹è½½ï¼š<code>Invoke-WebRequest -Uri "https://github.com/iyulab/undoc/releases/latest/download/undoc-cli-x86_64-pc-windows-msvc.zip" -OutFile "undoc.zip"</code>2. è§£å‹ï¼š<code>Expand-Archive -Path "undoc.zip" -DestinationPath "."</code>3. ï¼ˆå¯é€‰ï¼‰ç§»åŠ¨åˆ° PATH ç›®å½•ï¼š<code>Move-Item -Path "undoc.exe" -Destination "$env:LOCALAPPDATA\Microsoft\WindowsApps"</code>4. éªŒè¯ï¼š<code>undoc version</code></td></tr><tr><td>Linux</td><td>x64</td><td>1. ä¸‹è½½ï¼š<code>curl -LO https://github.com/iyulab/undoc/releases/latest/download/undoc-cli-x86_64-unknown-linux-gnu.tar.gz</code>2. è§£å‹ï¼š<code>tar -xzf undoc-cli-x86_64-unknown-linux-gnu.tar.gz</code>3. å®‰è£…ï¼š<code>sudo mv undoc /usr/local/bin/</code>ï¼ˆç³»ç»Ÿçº§ï¼‰æˆ–<code>mkdir -p ~/.local/bin &amp;&amp; mv undoc ~/.local/bin/ &amp;&amp; echo 'export PATH="$HOME/.local/bin:$PATH"' &gt;&gt; ~/.bashrc &amp;&amp; source ~/.bashrc</code>ï¼ˆç”¨æˆ·çº§ï¼‰4. éªŒè¯ï¼š<code>undoc version</code></td></tr><tr><td>macOS</td><td>Intel</td><td>1. ä¸‹è½½ï¼š<code>curl -LO https://github.com/iyulab/undoc/releases/latest/download/undoc-cli-x86_64-apple-darwin.tar.gz</code>2. è§£å‹ï¼š<code>tar -xzf undoc-cli-x86_64-apple-darwin.tar.gz</code>3. å®‰è£…ï¼š<code>sudo mv undoc /usr/local/bin/</code>4. éªŒè¯ï¼š<code>undoc version</code></td></tr><tr><td>macOS</td><td>Apple Siliconï¼ˆM1/M2/M3ï¼‰</td><td>1. ä¸‹è½½ï¼š<code>curl -LO https://github.com/iyulab/undoc/releases/latest/download/undoc-cli-aarch64-apple-darwin.tar.gz</code>2. è§£å‹ï¼š<code>tar -xzf undoc-cli-aarch64-apple-darwin.tar.gz</code>3. å®‰è£…ï¼š<code>sudo mv undoc /usr/local/bin/</code>4. éªŒè¯ï¼š<code>undoc version</code></td></tr></tbody></table>
<h3 data-id="heading-4">ï¼ˆäºŒï¼‰Cargo å®‰è£…ï¼ˆéœ€å·²å®‰è£… Rustï¼‰</h3>
<ul>
<li>å®‰è£… CLIï¼š<code>cargo install undoc-cli</code></li>
<li>é¡¹ç›®æ·»åŠ åº“ä¾èµ–ï¼š<code>cargo add undoc</code></li>
</ul>
<h2 data-id="heading-5">å››ã€ä½¿ç”¨æŒ‡å—</h2>
<h3 data-id="heading-6">ï¼ˆä¸€ï¼‰CLI å‘½ä»¤ä½¿ç”¨</h3>
<ol>
<li>
<p><strong>æ ¸å¿ƒå‘½ä»¤</strong></p>























































<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>undoc &lt;file&gt; [output]</code></td><td>æå–æ‰€æœ‰æ ¼å¼ï¼ˆMarkdownã€æ–‡æœ¬ã€JSONï¼‰+ åª’ä½“åˆ°è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤å‘½ä»¤ï¼‰</td><td><code>undoc document.docx ./output</code></td></tr><tr><td><code>undoc convert &lt;file&gt; [OPTIONS]</code></td><td>åŒé»˜è®¤å‘½ä»¤ï¼Œæ˜¾å¼æŒ‡å®šè½¬æ¢</td><td>-</td></tr><tr><td><code>undoc markdown/&lt;file&gt; [OPTIONS]</code>ï¼ˆåˆ«å<code>md</code>ï¼‰</td><td>ä»…è½¬æ¢ä¸º Markdown</td><td><code>undoc md document.docx --frontmatter -o report.md</code>ï¼ˆå¸¦ YAML å‰ç«¯ matterï¼‰</td></tr><tr><td><code>undoc text &lt;file&gt; [OPTIONS]</code></td><td>ä»…è½¬æ¢ä¸ºçº¯æ–‡æœ¬</td><td><code>undoc text document.docx --cleanup standard -o output.txt</code>ï¼ˆå¸¦æ–‡æœ¬æ¸…ç†ï¼‰</td></tr><tr><td><code>undoc json &lt;file&gt; [OPTIONS]</code></td><td>ä»…è½¬æ¢ä¸º JSON</td><td><code>undoc json document.docx --compact -o output.json</code>ï¼ˆç´§å‡‘ JSON æ ¼å¼ï¼‰</td></tr><tr><td><code>undoc info &lt;file&gt;</code></td><td>æ˜¾ç¤ºæ–‡æ¡£ä¿¡æ¯ï¼ˆæ ¼å¼ã€ç« èŠ‚æ•°ã€èµ„æºæ•°ã€æ ‡é¢˜ã€ä½œè€…ç­‰ï¼‰</td><td><code>undoc info document.docx</code></td></tr><tr><td><code>undoc extract &lt;file&gt; [OPTIONS]</code></td><td>ä»…æå–èµ„æºï¼ˆå›¾ç‰‡ç­‰ï¼‰</td><td><code>undoc extract presentation.pptx -o ./media</code></td></tr><tr><td><code>undoc update [OPTIONS]</code></td><td>è‡ªæ›´æ–°</td><td><code>undoc update --check</code>ï¼ˆæ£€æŸ¥æ›´æ–°ï¼‰</td></tr><tr><td><code>undoc version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td><td>-</td></tr></tbody></table>
</li>
<li>
<p><strong>Markdown è½¬æ¢å…³é”®é€‰é¡¹</strong></p>



































<table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>-o, --output</code></td><td>è¾“å‡ºæ–‡ä»¶è·¯å¾„</td><td>stdoutï¼ˆæ ‡å‡†è¾“å‡ºï¼‰</td></tr><tr><td><code>-f, --frontmatter</code></td><td>åŒ…å« YAML å‰ç«¯ matter</td><td>false</td></tr><tr><td><code>--table-mode</code></td><td>è¡¨æ ¼æ¸²æŸ“æ¨¡å¼ï¼ˆ<code>markdown</code>/<code>html</code>/<code>ascii</code>ï¼‰</td><td>markdown</td></tr><tr><td><code>--cleanup</code></td><td>æ–‡æœ¬æ¸…ç†é¢„è®¾ï¼ˆ<code>minimal</code>/<code>standard</code>/<code>aggressive</code>ï¼‰</td><td>none</td></tr><tr><td><code>--max-heading</code></td><td>æœ€å¤§æ ‡é¢˜å±‚çº§ï¼ˆ1-6ï¼‰</td><td>6</td></tr></tbody></table>
</li>
<li>
<p><strong>æ‰¹é‡è½¬æ¢ç¤ºä¾‹</strong></p>
<ul>
<li>Shellï¼š<code>for f in *.docx; do undoc md "$f" -o "${f%.docx}.md"; done</code></li>
<li>PowerShellï¼š<code>Get-ChildItem *.docx | ForEach-Object { undoc md $_.FullName -o "$($_.BaseName).md" }</code></li>
</ul>
</li>
</ol>
<h3 data-id="heading-7">ï¼ˆäºŒï¼‰Rust åº“ä½¿ç”¨</h3>
<ol>
<li><strong>å¿«é€Ÿå¼€å§‹</strong></li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> undoc::{parse_file, render};
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> undoc::<span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-comment">// è§£ææ–‡æ¡£</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">doc</span> = <span class="hljs-title function_ invoke__">parse_file</span>(<span class="hljs-string">"document.docx"</span>)?;
    <span class="hljs-comment">// è½¬æ¢ä¸ºMarkdown</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">options</span> = render::RenderOptions::<span class="hljs-title function_ invoke__">default</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">markdown</span> = render::<span class="hljs-title function_ invoke__">to_markdown</span>(&amp;doc, &amp;options)?;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, markdown);
    <span class="hljs-comment">// è·å–çº¯æ–‡æœ¬</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">text</span> = render::<span class="hljs-title function_ invoke__">to_text</span>(&amp;doc, &amp;options)?;
    <span class="hljs-comment">// è·å–JSON</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">json</span> = render::<span class="hljs-title function_ invoke__">to_json</span>(&amp;doc, render::JsonFormat::Pretty)?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<ol start="2">
<li><strong>è‡ªå®šä¹‰æ¸²æŸ“é€‰é¡¹</strong></li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> undoc::render::{RenderOptions, CleanupPreset, TableFallback};
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">options</span> = RenderOptions::<span class="hljs-title function_ invoke__">new</span>()
    .<span class="hljs-title function_ invoke__">with_frontmatter</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// å¸¦YAMLå‰ç«¯matter</span>
    .<span class="hljs-title function_ invoke__">with_table_fallback</span>(TableFallback::Html) <span class="hljs-comment">// è¡¨æ ¼ fallback ä¸ºHTML</span>
    .<span class="hljs-title function_ invoke__">with_cleanup_preset</span>(CleanupPreset::Aggressive) <span class="hljs-comment">// æ¿€è¿›æ–‡æœ¬æ¸…ç†</span>
    .<span class="hljs-title function_ invoke__">with_max_heading</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// æœ€å¤§æ ‡é¢˜å±‚çº§3</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">markdown</span> = render::<span class="hljs-title function_ invoke__">to_markdown</span>(&amp;doc, &amp;options)?;
</code></pre>
<ol start="3">
<li><strong>æ–‡æ¡£ç»“æ„æ“ä½œ</strong>ï¼šå¯è®¿é—®å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€åˆ›å»ºæ—¶é—´ï¼‰ã€è¿­ä»£ç« èŠ‚ä¸å…ƒç´ ã€æå–èµ„æºæ–‡ä»¶ã€‚</li>
<li><strong>æ ¼å¼æ£€æµ‹</strong>ï¼šæ”¯æŒä»æ–‡ä»¶è·¯å¾„ï¼ˆ<code>detect_format_from_path</code>ï¼‰æˆ–å­—èŠ‚æ•°ç»„ï¼ˆ<code>detect_format_from_bytes</code>ï¼‰æ£€æµ‹æ–‡æ¡£æ ¼å¼ã€‚</li>
</ol>
<h3 data-id="heading-8">ï¼ˆä¸‰ï¼‰C# /.NET é›†æˆ</h3>
<ol>
<li><strong>è·å–åŸç”Ÿåº“</strong>ï¼šä» GitHub Releases ä¸‹è½½ï¼ˆWindows x64 ä¸º<code>undoc.dll</code>ã€Linux x64 ä¸º<code>libundoc.so</code>ã€macOS ä¸º<code>libundoc.dylib</code>ï¼‰ï¼Œæˆ–é€šè¿‡<code>cargo build --release --features ffi</code>ä»æºç æ„å»ºã€‚</li>
<li><strong>C# åŒ…è£…å™¨ä½¿ç”¨</strong></li>
</ol>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Undoc;
<span class="hljs-comment">// è§£æå¹¶è½¬æ¢ä¸ºMarkdown</span>
<span class="hljs-built_in">string</span> markdown = UndocNative.ToMarkdown(<span class="hljs-string">"document.docx"</span>);
<span class="hljs-comment">// è§£æå¹¶è½¬æ¢ä¸ºçº¯æ–‡æœ¬</span>
<span class="hljs-built_in">string</span> text = UndocNative.ToText(<span class="hljs-string">"document.docx"</span>);
<span class="hljs-comment">// è§£æå¹¶è½¬æ¢ä¸ºJSON</span>
<span class="hljs-built_in">string</span> json = UndocNative.ToJson(<span class="hljs-string">"document.docx"</span>);
<span class="hljs-comment">// ä»å­—èŠ‚æ•°ç»„è§£æ</span>
<span class="hljs-built_in">byte</span>[] data = File.ReadAllBytes(<span class="hljs-string">"document.docx"</span>);
<span class="hljs-built_in">string</span> markdown = UndocNative.ToMarkdownFromBytes(data);
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#![allow(warnings)]</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-keyword">use</span> undoc::{to_json, render::JsonFormat};
    <span class="hljs-keyword">use</span> undoc::{parse_file, to_markdown};

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">path</span> = <span class="hljs-string">"E:/demo.xlsx"</span>;

    <span class="hljs-comment">// Simple text extraction</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">text</span> = undoc::<span class="hljs-title function_ invoke__">extract_text</span>(path)?;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, text);

    <span class="hljs-comment">// Convert to Markdown</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">markdown</span> = <span class="hljs-title function_ invoke__">to_markdown</span>(path)?;
    std::fs::<span class="hljs-title function_ invoke__">write</span>(<span class="hljs-string">"output.md"</span>, markdown)?;


    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">json</span> = <span class="hljs-title function_ invoke__">to_json</span>(path, JsonFormat::Compact)?;
    std::fs::<span class="hljs-title function_ invoke__">write</span>(<span class="hljs-string">"output.json"</span>, json)?;

    <span class="hljs-comment">// Full parsing with access to structure</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">doc</span> = <span class="hljs-title function_ invoke__">parse_file</span>(path)?;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Sections: {}"</span>, doc.sections.<span class="hljs-title function_ invoke__">len</span>());
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Resources: {}"</span>, doc.resources.<span class="hljs-title function_ invoke__">len</span>());
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringCloudAlibaba]]></title>    <link>https://juejin.cn/post/7592483877986402310</link>    <guid>https://juejin.cn/post/7592483877986402310</guid>    <pubDate>2026-01-07T15:52:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592483877986402310" data-draft-id="7592159803411496996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringCloudAlibaba"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T15:52:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ihgry"/> <meta itemprop="url" content="https://juejin.cn/user/3210229685954718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringCloudAlibaba
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3210229685954718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ihgry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:52:15.000Z" title="Wed Jan 07 2026 15:52:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Nacos</h3>
<h4 data-id="heading-1">ä¸‹è½½å®‰è£…</h4>
<ul>
<li>ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos%2Ftags" target="_blank" title="https://github.com/alibaba/nacos/tags" ref="nofollow noopener noreferrer">github.com/alibaba/nacâ€¦</a></li>
<li>å¯åŠ¨ï¼š<code>startup.cmd -m standalone</code></li>
<li>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8848%2Fnacos%2F" target="_blank" title="http://localhost:8848/nacos/" ref="nofollow noopener noreferrer">http://localhost:8848/nacos/</a>     è´¦å·å¯†ç ï¼šnacos</li>
</ul>
<h4 data-id="heading-2">åŸºç¡€æ¦‚å¿µ</h4>
<ul>
<li>nacosé…ç½®ä¸­å¿ƒé€šè¿‡<code>namespace</code>ã€<code>group</code> å’Œ <code>dataId</code> æ¥å”¯ä¸€ç¡®å®šä¸€æ¡é…ç½®ï¼Œ</li>
<li>dataIdçš„æ ¼å¼ï¼š<code>${prefix}-${spring.profiles.active}.${file-extension}</code>
<ul>
<li><code>prefix</code>ï¼šé»˜è®¤ä¸º<code>spring.application.name</code></li>
<li><code>spring.profiles.active</code>ï¼šå½“å‰æ¿€æ´»çš„ç¯å¢ƒï¼Œå½“<code>spring.profiles.active</code>ä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦<code>-</code>ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataIdçš„æ‹¼æ¥æ ¼å¼å˜ æˆï¼š<code>${prefix}.${file-extension}</code></li>
<li><code>${file-extension}</code>ï¼šé»˜è®¤ä¸º<code>properties</code></li>
</ul>
</li>
<li>æ‹‰å–å¤šä¸ªå…±äº«æ–‡ä»¶ï¼Œè¦åœ¨åŒä¸€å‘½åç©ºé—´ä¸‹ï¼Œä¸èƒ½è·¨å‘½åç©ºé—´</li>
<li>æ³¨æ„springbootå’Œspringcloudçš„ç‰ˆæœ¬å¯¹åº”</li>
</ul>
<h4 data-id="heading-3">é…ç½®ä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;
    
&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p>å®Œæ•´<code>bootstrap.properties</code>é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.application.name=testccb
spring.cloud.nacos.config.username=nacos
spring.cloud.nacos.config.password=nacos
spring.cloud.nacos.config.server-addr=192.168.1.211:8848
spring.cloud.nacos.config.namespace=4f4b-363e-47a5-8a-dbd288c
spring.cloud.nacos.config.group=com.iotsh

# æ‹‰å–å…±äº«çš„é…ç½®
spring.cloud.nacos.config.extension-configs[0].data-id=testccb.properties
spring.cloud.nacos.config.extension-configs[0].group=ccb
spring.cloud.nacos.config.extension-configs[0].refresh=true
</code></pre>
</li>
</ul>
<h4 data-id="heading-4">æ³¨å†Œä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
</ul>
<ul>
<li>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-properties" lang="properties">spring.cloud.nacos.discovery.server-addr=192.168.1.211:8848
spring.cloud.nacos.discovery.username=nacos
spring.cloud.nacos.discovery.password=nacos
spring.cloud.nacos.discovery.namespace=ed4b94b3-deff-49f1-8973-34029756083d
</code></pre>
</li>
<li>
<p>ä¸»å¯åŠ¨ç±»ï¼š<code>@EnableDiscoveryClient</code></p>
</li>
</ul>
<h3 data-id="heading-5">OpenFeign</h3>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-properties" lang="properties">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p>ä¸»å¯åŠ¨ç±»ï¼š<code>@EnableFeignClients </code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@EnableDiscoveryClient</span>
<span class="hljs-meta">@EnableFeignClients</span> 
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EurekaClientApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(CategoryApplication.class,args);
    }
}
</code></pre>
</li>
<li>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">feign:</span>
  <span class="hljs-attr">client:</span>
    <span class="hljs-attr">config:</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">connect-timeout:</span> <span class="hljs-number">5000</span>
        <span class="hljs-attr">read-timeout:</span> <span class="hljs-number">5000</span>
</code></pre>
</li>
<li>
<p>åˆ›å»º<code>FeignClient</code> (è°ƒç”¨è€…)ï¼Œæ³¨æ„ä¼ å‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FeignClient(value = "product")</span> <span class="hljs-comment">// è¢«è°ƒç”¨çš„æœåŠ¡åç§°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductClient</span> {
    
    <span class="hljs-meta">@RequestMapping("/status")</span> <span class="hljs-comment">// è¢«è°ƒç”¨çš„æœåŠ¡æ¥å£</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">status</span><span class="hljs-params">()</span>;

    <span class="hljs-meta">@GetMapping("/paramRequest")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">paramRequest</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam("id")</span> Integer id, <span class="hljs-meta">@RequestParam("name")</span> String name)</span>;

    <span class="hljs-meta">@PostMapping("/bodyRequest")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">bodyRequest</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span>;
}
</code></pre>
</li>
<li>
<p>Controllerä¸­ä½¿ç”¨</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductClient productClient;  

    <span class="hljs-meta">@GetMapping("/find")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">find</span><span class="hljs-params">()</span>{
        <span class="hljs-keyword">return</span> productClient.status();
    }
}
</code></pre>
</li>
</ul>
<ul>
<li>
<p>è¢«è°ƒç”¨çš„æœåŠ¡</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    <span class="hljs-comment">// æ²¡æœ‰å‚æ•°</span>
    <span class="hljs-meta">@RequestMapping("/status")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">status</span><span class="hljs-params">()</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"client b is ok!"</span>;
    }

    <span class="hljs-comment">// paramå‚æ•°</span>
    <span class="hljs-meta">@GetMapping("/paramRequest")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">paramRequest</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam("id")</span> Integer id, <span class="hljs-meta">@RequestParam("name")</span> String name)</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"paramRequest method is ok!, id:"</span> + id +<span class="hljs-string">", name:"</span>+ name;
    }

    <span class="hljs-comment">// bodyæœ‰å‚æ•°</span>
    <span class="hljs-meta">@PostMapping("/bodyRequest")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">bodyRequest</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"bodyRequest method is ok!, user:"</span> + user.toString();
    }
}
</code></pre>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScriptå‡½æ•°ç±»å‹å…¨æ”»ç•¥ï¼šä»åŸºç¡€çº¦æŸåˆ°é«˜çº§ç©æ³•]]></title>    <link>https://juejin.cn/post/7592455394062368806</link>    <guid>https://juejin.cn/post/7592455394062368806</guid>    <pubDate>2026-01-07T13:26:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592455394062368806" data-draft-id="7592424951661428762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScriptå‡½æ•°ç±»å‹å…¨æ”»ç•¥ï¼šä»åŸºç¡€çº¦æŸåˆ°é«˜çº§ç©æ³•"/> <meta itemprop="keywords" content="TypeScript"/> <meta itemprop="datePublished" content="2026-01-07T13:26:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScriptå‡½æ•°ç±»å‹å…¨æ”»ç•¥ï¼šä»åŸºç¡€çº¦æŸåˆ°é«˜çº§ç©æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:26:20.000Z" title="Wed Jan 07 2026 13:26:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScriptå‡½æ•°ç±»å‹å…¨æ”»ç•¥ï¼šä»åŸºç¡€çº¦æŸåˆ°é«˜çº§ç©æ³•</h2>
<p>å‡½æ•°æ˜¯TypeScriptä¸­æœ€æ ¸å¿ƒçš„å¤ç”¨å•å…ƒï¼Œä¹Ÿæ˜¯ç±»å‹çº¦æŸçš„é«˜é¢‘åœºæ™¯ã€‚å¾ˆå¤šå¼€å‘è€…åªä¼šç»™å‡½æ•°åŠ ç®€å•çš„å‚æ•°/è¿”å›å€¼ç±»å‹ï¼Œå´å¿½ç•¥äº†å¯é€‰å‚æ•°ã€readonlyå‚æ•°ã€é«˜é˜¶å‡½æ•°ç­‰å®ç”¨ç‰¹æ€§ã€‚æœ¬æ–‡ä¼šä»åŸºç¡€åˆ°è¿›é˜¶ï¼ŒæŠŠTSå‡½æ•°ç±»å‹çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹è®²é€ï¼Œè¦†ç›–æ—¥å¸¸å¼€å‘æ‰€æœ‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€æ ¸å¿ƒï¼šFunctionç±»å‹ä¸å‡½æ•°ç±»å‹è¡¨è¾¾å¼</h3>
<p>TSä¸­æè¿°å‡½æ•°ç±»å‹æœ‰ä¸¤ç§æ ¸å¿ƒæ–¹å¼ï¼š<code>Function</code> ç±»å‹ï¼ˆå®½æ³›ï¼‰å’Œ**å‡½æ•°ç±»å‹è¡¨è¾¾å¼ï¼Œå…ˆåˆ†æ¸…è¿™ä¸¤ç§å†™æ³•çš„åŒºåˆ«ã€‚</p>
<h4 data-id="heading-2">1. Functionç±»å‹ï¼ˆä¸æ¨èï¼‰</h4>
<p><code>Function</code> æ˜¯TSçš„å†…ç½®ç±»å‹ï¼Œä»£è¡¨â€œä»»æ„å‡½æ•°â€ï¼Œä½†å®ƒè¿‡äºå®½æ³›ï¼Œä¼šä¸¢å¤±ç±»å‹çº¦æŸçš„æ„ä¹‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®½æ³›çš„Functionç±»å‹ï¼šèƒ½æ¥æ”¶ä»»ä½•å‡½æ•°ï¼Œä½†æ— æ³•çº¦æŸå‚æ•°/è¿”å›å€¼</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">fn</span>: <span class="hljs-title class_">Function</span>;
fn = <span class="hljs-function">() =&gt;</span> <span class="hljs-number">123</span>; <span class="hljs-comment">// ä»»æ„å‡½æ•°éƒ½èƒ½èµ‹å€¼</span>
fn = <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">string</span></span>) =&gt;</span> a; <span class="hljs-comment">//  æ— ç±»å‹æ£€æŸ¥</span>
<span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">//è°ƒç”¨æ—¶å‚æ•°ä»»æ„ï¼Œæ— æŠ¥é”™</span>
</code></pre>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ— æ³•çº¦æŸå‚æ•°ä¸ªæ•°ã€ç±»å‹å’Œè¿”å›å€¼ï¼Œç›¸å½“äºå¼±åŒ–äº†TSçš„ç±»å‹æ£€æŸ¥ï¼Œä»…é€‚åˆå®Œå…¨ä¸ç¡®å®šå‡½æ•°ç»“æ„çš„æç«¯åœºæ™¯ã€‚</p>
<h4 data-id="heading-3">2. å‡½æ•°ç±»å‹è¡¨è¾¾å¼ï¼ˆæ¨èï¼‰</h4>
<p>ç”¨ <code>(å‚æ•°: ç±»å‹) =&gt; è¿”å›å€¼ç±»å‹</code> çš„è¯­æ³•ï¼Œç²¾å‡†æè¿°å‡½æ•°ç»“æ„ï¼Œæ˜¯æ—¥å¸¸å¼€å‘çš„é¦–é€‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰ç²¾å‡†çš„å‡½æ•°ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">AddFunc</span> = <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;

<span class="hljs-comment">// èµ‹å€¼ï¼šå¿…é¡»ä¸¥æ ¼åŒ¹é…å‚æ•°å’Œè¿”å›å€¼ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-title class_">AddFunc</span> = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y; <span class="hljs-comment">//  æ­£ç¡®</span>
<span class="hljs-comment">// const add2: AddFunc = (x: string, y: string) =&gt; x + y; //  æŠ¥é”™ï¼šå‚æ•°ç±»å‹ä¸åŒ¹é…</span>
</code></pre>
<h3 data-id="heading-4">äºŒã€å‚æ•°è¿›é˜¶ï¼šå¯é€‰/é»˜è®¤/è§£æ„/rest/åªè¯»å‚æ•°</h3>
<p>å‡½æ•°å‚æ•°çš„çº¦æŸæ˜¯TSå‡½æ•°ç±»å‹çš„æ ¸å¿ƒï¼ŒæŒæ¡ä»¥ä¸‹5ç§å‚æ•°ç±»å‹ã€‚</p>
<h4 data-id="heading-5">1. å¯é€‰å‚æ•°ï¼ˆ?ï¼‰</h4>
<p>ç”¨ <code>?</code> æ ‡è®°å‚æ•°ï¼Œè¡¨ç¤ºâ€œå¯ä¼ å¯ä¸ä¼ â€ï¼Œ<strong>å¿…é¡»æ”¾åœ¨å¿…é€‰å‚æ•°ä¹‹å</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// messageæ˜¯å¯é€‰å‚æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, message?: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> message ? <span class="hljs-string">`<span class="hljs-subst">${message}</span>, <span class="hljs-subst">${name}</span>`</span> : <span class="hljs-string">`Hello, <span class="hljs-subst">${name}</span>`</span>;
}

<span class="hljs-title function_">greet</span>(<span class="hljs-string">"å¼ ä¸‰"</span>); <span class="hljs-comment">//  æ­£ç¡®ï¼Œè¿”å› "Hello, å¼ ä¸‰"</span>
<span class="hljs-title function_">greet</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-string">"æ—©ä¸Šå¥½"</span>); <span class="hljs-comment">//  æ­£ç¡®ï¼Œè¿”å› "æ—©ä¸Šå¥½, æå››"</span>
<span class="hljs-comment">// greet(undefined, "Hi"); //  æŠ¥é”™ï¼šå¿…é€‰å‚æ•°nameä¸èƒ½çœç•¥</span>
</code></pre>
<h4 data-id="heading-6">2. å‚æ•°é»˜è®¤å€¼</h4>
<p>å‚æ•°å¸¦é»˜è®¤å€¼æ—¶ï¼Œè‡ªåŠ¨æˆä¸ºå¯é€‰å‚æ•°ï¼Œç±»å‹ä¼šæ ¹æ®é»˜è®¤å€¼æ¨å¯¼ï¼ˆä¹Ÿå¯æ˜¾å¼çº¦æŸï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// counté»˜è®¤å€¼ä¸º10ï¼Œç±»å‹è‡ªåŠ¨æ¨å¯¼ä¸ºnumber</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">repeat</span>(<span class="hljs-params">str: <span class="hljs-built_in">string</span>, count = <span class="hljs-number">10</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">repeat</span>(count);
}

<span class="hljs-title function_">repeat</span>(<span class="hljs-string">"TS"</span>); <span class="hljs-comment">//  æ­£ç¡®ï¼Œé‡å¤10æ¬¡</span>
<span class="hljs-title function_">repeat</span>(<span class="hljs-string">"JS"</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">//  æ­£ç¡®ï¼Œé‡å¤5æ¬¡</span>
<span class="hljs-comment">// repeat("React", "5"); //  æŠ¥é”™ï¼šcountå¿…é¡»æ˜¯number</span>
</code></pre>
<h4 data-id="heading-7">3. å‚æ•°è§£æ„ï¼ˆå¯¹è±¡/æ•°ç»„ï¼‰</h4>
<p>å‡½æ•°å‚æ•°æ˜¯å¯¹è±¡/æ•°ç»„æ—¶ï¼Œå¯ç›´æ¥è§£æ„å¹¶çº¦æŸç±»å‹ï¼Œè®©ä»£ç æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å¯¹è±¡è§£æ„ + ç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };
<span class="hljs-keyword">function</span> <span class="hljs-title function_">printUser</span>(<span class="hljs-params">{ name, age }: User</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å§“åï¼š<span class="hljs-subst">${name}</span>ï¼Œå¹´é¾„ï¼š<span class="hljs-subst">${age}</span>`</span>);
}

<span class="hljs-comment">// 2. æ•°ç»„è§£æ„ + ç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">printArr</span>(<span class="hljs-params">[a, b]: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>]</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b);
}

<span class="hljs-title function_">printUser</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> }); <span class="hljs-comment">//  æ­£ç¡®</span>
<span class="hljs-title function_">printArr</span>([<span class="hljs-number">1</span>, <span class="hljs-string">"TS"</span>]); <span class="hljs-comment">//  æ­£ç¡®</span>
</code></pre>
<h4 data-id="heading-8">4. restå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰</h4>
<p>ç”¨ <code>...</code> æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œç±»å‹å¿…é¡»æ˜¯<strong>æ•°ç»„</strong>ï¼Œä¸”åªèƒ½æ”¾åœ¨å‚æ•°åˆ—è¡¨æœ€åï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ±‚å’Œå‡½æ•°ï¼šæ¥æ”¶ä»»æ„å¤šä¸ªæ•°å­—å‚æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...nums: <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> acc + curr, <span class="hljs-number">0</span>);
}

<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">//  æ­£ç¡®ï¼Œè¿”å›3</span>
<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œè¿”å›10</span>
<span class="hljs-comment">// sum(1, "2"); //  æŠ¥é”™ï¼šrestå‚æ•°å¿…é¡»æ˜¯number[]</span>
</code></pre>
<h4 data-id="heading-9">5. readonlyåªè¯»å‚æ•°</h4>
<p>ç”¨ <code>readonly</code> çº¦æŸå‚æ•°ï¼ˆé€šå¸¸æ˜¯æ•°ç»„/å¯¹è±¡ï¼‰ï¼Œé¿å…å‡½æ•°å†…éƒ¨ä¿®æ”¹å…¥å‚ï¼Œæå‡ä»£ç å¥å£®æ€§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// çº¦æŸæ•°ç»„å‚æ•°ä¸ºåªè¯»ï¼Œç¦æ­¢ä¿®æ”¹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">printArr</span>(<span class="hljs-params">arr: <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-comment">// arr.push(4); //  æŠ¥é”™ï¼šreadonlyæ•°ç»„ä¸èƒ½è°ƒç”¨push</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);
}

<span class="hljs-title function_">printArr</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">//  æ­£ç¡®</span>

<span class="hljs-comment">// çº¦æŸå¯¹è±¡å‚æ•°çš„å±æ€§ä¸ºåªè¯»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">printObj</span>(<span class="hljs-params">obj: { <span class="hljs-keyword">readonly</span> name: <span class="hljs-built_in">string</span> }</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-comment">// obj.name = "æå››"; //  æŠ¥é”™ï¼šnameæ˜¯åªè¯»å±æ€§</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">name</span>);
}
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€è¿”å›å€¼è¿›é˜¶ï¼švoidç±»å‹ä¸neverç±»å‹</h3>
<p>TSå¯¹å‡½æ•°è¿”å›å€¼çš„çº¦æŸä¸æ­¢åŸºç¡€ç±»å‹ï¼Œ<code>void</code> å’Œ <code>never</code> æ˜¯ä¸¤ä¸ªç‰¹æ®Šä¸”å¸¸ç”¨çš„è¿”å›å€¼ç±»å‹ã€‚</p>
<h4 data-id="heading-11">1. voidç±»å‹ï¼šæ— è¿”å›å€¼</h4>
<p>å‡½æ•°æ²¡æœ‰returnï¼ˆæˆ–return undefinedï¼‰æ—¶ï¼Œè¿”å›å€¼ç±»å‹ä¸º <code>void</code>ï¼Œè¡¨ç¤ºâ€œæ— ä»»ä½•è¿”å›å€¼â€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// çº¯æ‰“å°å‡½æ•°ï¼Œæ— è¿”å›å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);
  <span class="hljs-comment">// return undefined; // å¯é€‰ï¼Œvoidå…è®¸è¿”å›undefined</span>
}

<span class="hljs-keyword">const</span> res = <span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello TS"</span>); <span class="hljs-comment">// resçš„ç±»å‹ä¸ºvoid</span>
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼š<code>void</code> ä¸æ˜¯ <code>undefined</code>â€”â€”<code>void</code> è¡¨ç¤ºâ€œå‡½æ•°æ— è¿”å›å€¼â€ï¼Œè€Œ <code>undefined</code> æ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼›ä½†å‡½æ•°è¿”å› <code>undefined</code> æ—¶ï¼Œå¯èµ‹å€¼ç»™ <code>void</code> ç±»å‹å˜é‡ã€‚</p>
<h4 data-id="heading-12">2. neverç±»å‹ï¼šæ°¸ä¸è¿”å›</h4>
<p>å‡½æ•°æ°¸è¿œä¸ä¼šæ‰§è¡Œå®Œï¼ˆæŠ›å‡ºé”™è¯¯ã€æ— é™å¾ªç¯ï¼‰æ—¶ï¼Œè¿”å›å€¼ç±»å‹ä¸º <code>never</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœºæ™¯1ï¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throwError</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg); <span class="hljs-comment">// å‡½æ•°æ‰§è¡Œåˆ°è¿™é‡Œç»ˆæ­¢ï¼Œæ°¸ä¸è¿”å›</span>
}

<span class="hljs-comment">// åœºæ™¯2ï¼šæ— é™å¾ªç¯çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span>(<span class="hljs-params"/>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {} <span class="hljs-comment">// æ°¸è¿œä¸ä¼šé€€å‡ºå¾ªç¯</span>
}

<span class="hljs-comment">// åœºæ™¯3ï¼šç©·å°½æ£€æŸ¥ï¼ˆç¡®ä¿switchè¦†ç›–æ‰€æœ‰æƒ…å†µï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = <span class="hljs-string">"success"</span> | <span class="hljs-string">"error"</span> | <span class="hljs-string">"pending"</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleStatus</span>(<span class="hljs-params">status: Status</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">switch</span> (status) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"success"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æˆåŠŸ"</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"error"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¤±è´¥"</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"pending"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŠ è½½ä¸­"</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-attr">default</span>:
      <span class="hljs-comment">// è‹¥æ¼å†™caseï¼Œè¿™é‡Œä¼šæç¤ºï¼šstatusç±»å‹ä¸ºneverï¼Œæ— æ³•èµ‹å€¼</span>
      <span class="hljs-keyword">const</span> <span class="hljs-attr">_exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = status;
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æœªçŸ¥çŠ¶æ€ï¼š<span class="hljs-subst">${_exhaustiveCheck}</span>`</span>);
  }
}
</code></pre>
<h3 data-id="heading-13">å››ã€å‡½æ•°å†…çš„å±€éƒ¨ç±»å‹</h3>
<p>TSå…è®¸åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ç±»å‹ï¼ˆå±€éƒ¨ç±»å‹ï¼‰ï¼Œä½œç”¨åŸŸä»…é™å‡½æ•°å†…éƒ¨ï¼Œé¿å…å…¨å±€ç±»å‹æ±¡æŸ“ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å‡½æ•°å†…çš„å±€éƒ¨ç±»å‹ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</span>
  <span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };
  
  <span class="hljs-keyword">const</span> <span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> };
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);
}

<span class="hljs-title function_">handleUser</span>();
<span class="hljs-comment">// const u: User = { name: "æå››", age: 30 }; // æŠ¥é”™ï¼šUseræœªå®šä¹‰</span>
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç±»å‹ä»…åœ¨å½“å‰å‡½æ•°å†…ä½¿ç”¨ï¼Œæ— éœ€æš´éœ²åˆ°å…¨å±€ï¼Œæå‡ä»£ç å°è£…æ€§ã€‚</p>
<h3 data-id="heading-14">äº”ã€é«˜é˜¶å‡½æ•°ï¼šå‡½æ•°ä½œä¸ºå‚æ•°/è¿”å›å€¼</h3>
<p>é«˜é˜¶å‡½æ•°æ˜¯â€œæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°â€æˆ–â€œè¿”å›å‡½æ•°â€çš„å‡½æ•°ï¼ŒTSå¯¹é«˜é˜¶å‡½æ•°çš„ç±»å‹çº¦æŸæ˜¯è¿›é˜¶é‡ç‚¹ã€‚</p>
<h4 data-id="heading-15">1. å‡½æ•°ä½œä¸ºå‚æ•°</h4>
<p>æœ€å¸¸è§çš„åœºæ™¯ï¼ˆå¦‚æ•°ç»„çš„map/filterï¼‰ï¼Œç”¨å‡½æ•°ç±»å‹è¡¨è¾¾å¼çº¦æŸå…¥å‚å‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰é«˜é˜¶å‡½æ•°ï¼šæ¥æ”¶æ•°ç»„å’Œå¤„ç†å‡½æ•°ï¼Œè¿”å›æ–°æ•°ç»„</span>
<span class="hljs-keyword">function</span> mapArr&lt;T, U&gt;(<span class="hljs-attr">arr</span>: T[], <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">item: T</span>) =&gt;</span> U): U[] {
  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">map</span>(handler);
}

<span class="hljs-comment">// ä½¿ç”¨ï¼šTSè‡ªåŠ¨æ¨å¯¼ç±»å‹</span>
<span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> strNums = <span class="hljs-title function_">mapArr</span>(nums, <span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> n.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// strNums: string[]</span>
<span class="hljs-keyword">const</span> doubles = <span class="hljs-title function_">mapArr</span>(nums, <span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> n * <span class="hljs-number">2</span>); <span class="hljs-comment">// doubles: number[]</span>
</code></pre>
<h4 data-id="heading-16">2. å‡½æ•°ä½œä¸ºè¿”å›å€¼</h4>
<p>è¿”å›å‡½æ•°æ—¶ï¼Œç”¨å‡½æ•°ç±»å‹è¡¨è¾¾å¼çº¦æŸè¿”å›å€¼çš„ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é«˜é˜¶å‡½æ•°ï¼šè¿”å›ä¸€ä¸ªåŠ æ³•å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createAddFunc</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span></span>): <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x + num;
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> add5 = <span class="hljs-title function_">createAddFunc</span>(<span class="hljs-number">5</span>);
<span class="hljs-keyword">const</span> res = <span class="hljs-title function_">add5</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// res: numberï¼Œå€¼ä¸º15</span>
</code></pre>
<h3 data-id="heading-17">å…­ã€å‡½æ•°é‡è½½ï¼šå¤„ç†å¤šç±»å‹å…¥å‚/è¿”å›å€¼</h3>
<p>å½“å‡½æ•°éœ€è¦æ”¯æŒâ€œä¸åŒå‚æ•°ç±»å‹/æ•°é‡ â†’ ä¸åŒè¿”å›å€¼ç±»å‹â€æ—¶ï¼Œç”¨<strong>å‡½æ•°é‡è½½</strong>å®ç°ç²¾å‡†çº¦æŸï¼ˆé¿å…è”åˆç±»å‹çš„æ¨¡ç³Šæ€§ï¼‰ã€‚</p>
<h4 data-id="heading-18">1. å‡½æ•°é‡è½½çš„åŸºç¡€å†™æ³•</h4>
<p>å…ˆå†™â€œé‡è½½ç­¾åâ€ï¼ˆå®šä¹‰å‚æ•°-è¿”å›å€¼çš„å¯¹åº”å…³ç³»ï¼‰ï¼Œå†å†™â€œå®ç°ç­¾åâ€ï¼ˆå®é™…é€»è¾‘ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ­¥éª¤1ï¼šå®šä¹‰é‡è½½ç­¾åï¼ˆå¯å†™å¤šä¸ªï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">formatData</span>(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å…¥å‚string â†’ è¿”å›string</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">formatData</span>(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span>[]; <span class="hljs-comment">// å…¥å‚number â†’ è¿”å›number[]</span>

<span class="hljs-comment">// æ­¥éª¤2ï¼šå®šä¹‰å®ç°ç­¾å</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">formatData</span>(<span class="hljs-params">data: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>[] {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data === <span class="hljs-string">"string"</span>) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">toUpperCase</span>(); <span class="hljs-comment">// åŒ¹é…ç¬¬ä¸€ä¸ªé‡è½½</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-title class_">String</span>(data), <span class="hljs-title class_">Number</span>); <span class="hljs-comment">// åŒ¹é…ç¬¬äºŒä¸ªé‡è½½</span>
  }
}

<span class="hljs-comment">// è°ƒç”¨ï¼šTSè‡ªåŠ¨æ¨å¯¼è¿”å›å€¼ç±»å‹</span>
<span class="hljs-keyword">const</span> strRes = <span class="hljs-title function_">formatData</span>(<span class="hljs-string">"ts"</span>); <span class="hljs-comment">// strRes: string</span>
<span class="hljs-keyword">const</span> numRes = <span class="hljs-title function_">formatData</span>(<span class="hljs-number">123</span>); <span class="hljs-comment">// numRes: number[]</span>
<span class="hljs-comment">// formatData(true); // æŠ¥é”™ï¼šæ— åŒ¹é…çš„é‡è½½ç­¾å</span>
</code></pre>
<h4 data-id="heading-19">2. å‡½æ•°é‡è½½çš„æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>é‡è½½ç­¾ååªç”¨äºç±»å‹æ£€æŸ¥ï¼Œä¸ä¼šæ‰§è¡Œï¼Œé€»è¾‘å…¨éƒ¨å†™åœ¨å®ç°ç­¾åä¸­ï¼›</li>
<li>å®ç°ç­¾åçš„å‚æ•°ç±»å‹éœ€åŒ…å«æ‰€æœ‰é‡è½½ç­¾åçš„å‚æ•°ç±»å‹ï¼›</li>
<li>é¿å…è¿‡åº¦é‡è½½ï¼šç®€å•åœºæ™¯ç”¨è”åˆç±»å‹å³å¯ï¼Œé‡è½½é€‚åˆâ€œå‚æ•°å’Œè¿”å›å€¼å¼ºå…³è”â€çš„åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-20">ä¸ƒã€ç®­å¤´å‡½æ•°çš„ç±»å‹çº¦æŸ</h3>
<p>ç®­å¤´å‡½æ•°æ˜¯TSä¸­æœ€å¸¸ç”¨çš„å‡½æ•°å½¢å¼ï¼Œå…¶ç±»å‹çº¦æŸæ›´ç®€æ´ï¼Œä¸”æ— éœ€å¤„ç†thisæŒ‡å‘é—®é¢˜ã€‚</p>
<h4 data-id="heading-21">1. ç®­å¤´å‡½æ•°çš„åŸºç¡€ç±»å‹çº¦æŸ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–¹å¼1ï¼šç›´æ¥çº¦æŸå‚æ•°å’Œè¿”å›å€¼</span>
<span class="hljs-keyword">const</span> add = (<span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> a + b;

<span class="hljs-comment">// æ–¹å¼2ï¼šç”¨ç±»å‹åˆ«åçº¦æŸï¼ˆå¤ç”¨åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">AddFunc</span> = <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">add2</span>: <span class="hljs-title class_">AddFunc</span> = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b;
</code></pre>
<h4 data-id="heading-22">2. ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘ï¼ˆæ— éœ€çº¦æŸï¼‰</h4>
<p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œä¼šç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸçš„thisï¼ŒTSä¼šè‡ªåŠ¨æ¨å¯¼ï¼Œæ— éœ€æ‰‹åŠ¨çº¦æŸï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> user = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,
  <span class="hljs-comment">// ç®­å¤´å‡½æ•°çš„thisç»§æ‰¿è‡ªå¤–å±‚ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯windowï¼‰</span>
  <span class="hljs-attr">sayHi</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// TSæç¤ºï¼šthisä¸Šä¸å­˜åœ¨nameå±æ€§</span>
  },
  <span class="hljs-comment">// æ™®é€šå‡½æ•°çš„thisæŒ‡å‘userå®ä¾‹</span>
  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// æ­£ç¡®ï¼ŒthisæŒ‡å‘user</span>
  },
};
</code></pre>
<h3 data-id="heading-23">å…«ã€å®æˆ˜é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-24">1. é¿å…ç”¨anyå¼±åŒ–å‡½æ•°ç±»å‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  é”™è¯¯ï¼šanyå¯¼è‡´ç±»å‹æ£€æŸ¥å¤±æ•ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleData</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">any</span> {
  <span class="hljs-keyword">return</span> data;
}

<span class="hljs-comment">//  æ­£ç¡®ï¼šç”¨æ³›å‹æ›¿ä»£any</span>
<span class="hljs-keyword">function</span> handleData&lt;T&gt;(<span class="hljs-attr">data</span>: T): T {
  <span class="hljs-keyword">return</span> data;
}
</code></pre>
<h4 data-id="heading-25">2. å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å¿…é€‰å‚æ•°å</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  æŠ¥é”™ï¼šå¯é€‰å‚æ•°ä¸èƒ½åœ¨å¿…é€‰å‚æ•°å‰</span>
<span class="hljs-comment">// function fn(a?: number, b: string): void {}</span>

<span class="hljs-comment">//  æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">b: <span class="hljs-built_in">string</span>, a?: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> {}
</code></pre>
<h4 data-id="heading-26">3. restå‚æ•°åªèƒ½æœ‰ä¸€ä¸ªä¸”æ”¾æœ€å</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  æŠ¥é”™ï¼šrestå‚æ•°å¿…é¡»æ˜¯æœ€åä¸€ä¸ª</span>
<span class="hljs-comment">// function fn(...nums: number[], a: string): void {}</span>

<span class="hljs-comment">//  æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a: <span class="hljs-built_in">string</span>, ...nums: <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-built_in">void</span> {}
</code></pre>
<h4 data-id="heading-27">4. é‡è½½ç­¾åä¸å®ç°ç­¾åè¦å…¼å®¹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  æŠ¥é”™ï¼šå®ç°ç­¾åçš„è¿”å›å€¼ä¸å…¼å®¹é‡è½½ç­¾å</span>
<span class="hljs-comment">// function fn(a: string): string;</span>
<span class="hljs-comment">// function fn(a: number): number;</span>
<span class="hljs-comment">// function fn(a: string | number): string { ... }</span>

<span class="hljs-comment">//  æ­£ç¡®ï¼šå®ç°ç­¾åè¿”å›å€¼åŒ…å«æ‰€æœ‰é‡è½½è¿”å›å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> { ... }
</code></pre>
<h3 data-id="heading-28">ä¹ã€æ ¸å¿ƒæ€»ç»“</h3>
<ol>
<li>å‡½æ•°ç±»å‹æè¿°ï¼šä¼˜å…ˆç”¨ã€Œå‡½æ•°ç±»å‹è¡¨è¾¾å¼ã€ï¼Œé¿å…å®½æ³›çš„<code>Function</code>ç±»å‹ï¼›</li>
<li>å‚æ•°çº¦æŸï¼šæŒæ¡å¯é€‰å‚æ•°ï¼ˆ?ï¼‰ã€é»˜è®¤å€¼ã€è§£æ„ã€restå‚æ•°ã€readonlyå‚æ•°ï¼Œè¦†ç›–æ‰€æœ‰å‚æ•°åœºæ™¯ï¼›</li>
<li>è¿”å›å€¼çº¦æŸï¼š<code>void</code>è¡¨ç¤ºæ— è¿”å›å€¼ï¼Œ<code>never</code>è¡¨ç¤ºæ°¸ä¸è¿”å›ï¼ˆå¸¸ç”¨äºé”™è¯¯/å¾ªç¯ï¼‰ï¼›</li>
<li>è¿›é˜¶ç‰¹æ€§ï¼šå±€éƒ¨ç±»å‹æå‡å°è£…æ€§ï¼Œé«˜é˜¶å‡½æ•°ç”¨æ³›å‹çº¦æŸå‚æ•°/è¿”å›å€¼ï¼Œé‡è½½é€‚é…å¤šç±»å‹å…¥å‚ï¼›</li>
<li>é¿å‘æ ¸å¿ƒï¼šä¸ç”¨anyå¼±åŒ–ç±»å‹ï¼Œå‚æ•°ä½ç½®ï¼ˆå¯é€‰/restï¼‰éµå®ˆè§„åˆ™ï¼Œé‡è½½ç­¾åä¸å®ç°ç­¾åå…¼å®¹ã€‚</li>
</ol>
<p>æŒæ¡è¿™äº›çŸ¥è¯†ç‚¹ï¼Œä½ çš„TSå‡½æ•°ç±»å‹çº¦æŸä¼šæ—¢ç²¾å‡†åˆçµæ´»ï¼Œå½»åº•å‘Šåˆ«â€œå‡½æ•°ç±»å‹æŠ¥é”™å´æ‰¾ä¸åˆ°åŸå› â€çš„é—®é¢˜ï½</p>
<pre><code class="hljs"/></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ« scrollIntoView çš„â€œè¶Šçº§æ»šåŠ¨â€ï¼šä¸€è¡Œä»£ç è§£å†³æ¨ªå‘æ»šåŠ¨é—®é¢˜]]></title>    <link>https://juejin.cn/post/7592455394062254118</link>    <guid>https://juejin.cn/post/7592455394062254118</guid>    <pubDate>2026-01-07T12:52:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592455394062254118" data-draft-id="7592079304923414538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ« scrollIntoView çš„â€œè¶Šçº§æ»šåŠ¨â€ï¼šä¸€è¡Œä»£ç è§£å†³æ¨ªå‘æ»šåŠ¨é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-07T12:52:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="donecoding"/> <meta itemprop="url" content="https://juejin.cn/user/3192637500430093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ« scrollIntoView çš„â€œè¶Šçº§æ»šåŠ¨â€ï¼šä¸€è¡Œä»£ç è§£å†³æ¨ªå‘æ»šåŠ¨é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3192637500430093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    donecoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:52:03.000Z" title="Wed Jan 07 2026 12:52:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©åœ¨å¼€å‘ä¸­é‡åˆ°äº†ä¸€ä¸ªå…¸å‹çš„æ»šåŠ¨é—®é¢˜ï¼šåœ¨ä¸€ä¸ªæ¨ªå‘æ»šåŠ¨çš„å®¹å™¨ä¸­ï¼Œå½“å­å…ƒç´ è°ƒç”¨ <code>scrollIntoView()</code> æ–¹æ³•æ—¶ï¼Œæ„å¤–è§¦å‘äº†æ•´ä¸ªé¡µé¢çš„ <code>body</code> æ»šåŠ¨ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„å®¹å™¨å†…éƒ¨æ»šåŠ¨ã€‚</p>
<p>ç»è¿‡è°ƒè¯•ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªç®€å•å´é²œä¸ºäººçŸ¥çš„è§£å†³æ–¹æ¡ˆï¼Œä»Šå¤©åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜é‡ç°</h2>
<h3 data-id="heading-2">åœºæ™¯æè¿°</h3>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¨ªå‘æ»šåŠ¨çš„äº§å“åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-scroll-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-list"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-item"</span>&gt;</span>äº§å“1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-item"</span>&gt;</span>äº§å“2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-item"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"target-product"</span>&gt;</span>ç›®æ ‡äº§å“<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ›´å¤šäº§å“é¡¹ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å¯¹åº”çš„ CSSï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.product-scroll-container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">overflow-x</span>: auto;
  <span class="hljs-attribute">overflow-y</span>: hidden;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
}

<span class="hljs-selector-class">.product-list</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">width</span>: max-content;
}

<span class="hljs-selector-class">.product-item</span> {
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">160px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
}
</code></pre>
<h3 data-id="heading-3">é—®é¢˜ä»£ç </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœŸæœ›ï¼šåœ¨å®¹å™¨å†…æ¨ªå‘æ»šåŠ¨åˆ°ç›®æ ‡äº§å“</span>
<span class="hljs-comment">// å®é™…ï¼šæ•´ä¸ªé¡µé¢å‘ç”Ÿæ»šåŠ¨</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'target-product'</span>).<span class="hljs-title function_">scrollIntoView</span>({
  <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>
});
</code></pre>
<h2 data-id="heading-4">é—®é¢˜åˆ†æ</h2>
<h3 data-id="heading-5">ä¸ºä»€ä¹ˆä¼šè§¦å‘ body æ»šåŠ¨ï¼Ÿ</h3>
<ol>
<li>
<p><strong>é»˜è®¤å‚æ•°é™·é˜±</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é»˜è®¤è¡Œä¸ºç­‰ä»·äº</span>
element.<span class="hljs-title function_">scrollIntoView</span>({
  <span class="hljs-attr">block</span>: <span class="hljs-string">'start'</span>,    <span class="hljs-comment">// é»˜è®¤å€¼</span>
  <span class="hljs-attr">inline</span>: <span class="hljs-string">'nearest'</span>  <span class="hljs-comment">// é»˜è®¤å€¼</span>
});
</code></pre>
</li>
<li>
<p><strong>æµè§ˆå™¨æ»šåŠ¨é€»è¾‘</strong>ï¼š</p>
<ul>
<li>å½“ <code>block: 'start'</code> æ—¶ï¼Œæµè§ˆå™¨ä¼šå°è¯•è®©å…ƒç´ çš„<strong>é¡¶éƒ¨</strong>å¯¹é½æ»šåŠ¨å®¹å™¨çš„é¡¶éƒ¨</li>
<li>å¦‚æœå®¹å™¨é«˜åº¦ä¸è¶³æˆ–å…ƒç´ ä½ç½®ç‰¹æ®Šï¼Œæµè§ˆå™¨å¯èƒ½ä¼šé€‰æ‹©æ›´å¤–å±‚çš„æ»šåŠ¨å®¹å™¨</li>
<li>æœ€ç»ˆå¯èƒ½è§¦å‘ <code>body</code> æˆ– <code>html</code> å…ƒç´ çš„æ»šåŠ¨</li>
</ul>
</li>
<li>
<p><strong>å®¹å™¨é«˜åº¦å½±å“</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®¹å™¨é«˜åº¦ï¼š200px</span>
<span class="hljs-comment">// å…ƒç´ é«˜åº¦ï¼š160px + padding</span>
<span class="hljs-comment">// å½“å°è¯• 'start' å¯¹é½æ—¶ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„å‚ç›´è°ƒæ•´</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-6">è§£å†³æ–¹æ¡ˆï¼šç¥å¥‡çš„ <code>block: 'nearest'</code></h2>
<h3 data-id="heading-7">ä¸€è¡Œä»£ç è§£å†³é—®é¢˜</h3>
<pre><code class="hljs language-javascript" lang="javascript">targetElement.<span class="hljs-title function_">scrollIntoView</span>({
  <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
  <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,     <span class="hljs-comment">// å…³é”®å˜åŒ–ï¼</span>
  <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>      <span class="hljs-comment">// æ°´å¹³æ–¹å‘å±…ä¸­</span>
});
</code></pre>
<h3 data-id="heading-8">ä¸ºä»€ä¹ˆ <code>nearest</code> èƒ½è§£å†³é—®é¢˜ï¼Ÿ</h3>
<p><code>block: 'nearest'</code> çš„è¡Œä¸ºé€»è¾‘ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½åˆ¤æ–­</strong>ï¼šæ£€æŸ¥å…ƒç´ ç›¸å¯¹äºè§†å£çš„ä½ç½®</li>
<li><strong>æœ€å°æ»šåŠ¨</strong>ï¼šé€‰æ‹©éœ€è¦æ»šåŠ¨æœ€å°‘çš„å¯¹é½æ–¹å¼</li>
<li><strong>é¿å…å†²çª</strong>ï¼šå¦‚æœå…ƒç´ å·²ç»åœ¨å‚ç›´æ–¹å‘ä¸Šå¯è§ï¼Œå°±ä¸æ»šåŠ¨</li>
</ol>
<p>å¯¹äºæ¨ªå‘æ»šåŠ¨å®¹å™¨ï¼š</p>
<ul>
<li>å‚ç›´æ–¹å‘ï¼šä¿æŒç°çŠ¶ï¼ˆä¸è§¦å‘ä¸å¿…è¦çš„æ»šåŠ¨ï¼‰</li>
<li>æ°´å¹³æ–¹å‘ï¼šæŒ‰æŒ‡å®šæ–¹å¼å¯¹é½ï¼ˆå¦‚ <code>center</code>ï¼‰</li>
</ul>
<h3 data-id="heading-9">å„ç§å¯¹é½æ–¹å¼å¯¹æ¯”</h3>



































<table><thead><tr><th>å‚æ•°</th><th>è¡Œä¸º</th><th>æ¨ªå‘æ»šåŠ¨åœºæ™¯</th><th>æ˜¯å¦æ¨è</th></tr></thead><tbody><tr><td><code>block: 'start'</code></td><td>é¡¶éƒ¨å¯¹é½</td><td>âŒ å¯èƒ½è§¦å‘bodyæ»šåŠ¨</td><td>ä¸æ¨è</td></tr><tr><td><code>block: 'center'</code></td><td>å‚ç›´å±…ä¸­</td><td>âŒ å¯èƒ½è§¦å‘bodyæ»šåŠ¨</td><td>ä¸æ¨è</td></tr><tr><td><code>block: 'end'</code></td><td>åº•éƒ¨å¯¹é½</td><td>âŒ å¯èƒ½è§¦å‘bodyæ»šåŠ¨</td><td>ä¸æ¨è</td></tr><tr><td><code>block: 'nearest'</code></td><td>æœ€è¿‘å¯¹é½</td><td>âœ… åªæ»šåŠ¨å¿…è¦æ–¹å‘</td><td><strong>æ¨è</strong></td></tr></tbody></table>
<h2 data-id="heading-10">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-11">åœºæ™¯ä¸€ï¼šTab åˆ‡æ¢ç»„ä»¶</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TabComponent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">container</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = container;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tabs</span> = container.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.tab-item'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }
  
  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">tab</span> =&gt;</span> {
      tab.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scrollToTab</span>(tab));
    });
  }
  
  <span class="hljs-title function_">scrollToTab</span>(<span class="hljs-params">tab</span>) {
    <span class="hljs-comment">// æ—§æ–¹å¼ï¼šå¯èƒ½å¯¼è‡´é¡µé¢è·³åŠ¨</span>
    <span class="hljs-comment">// tab.scrollIntoView({ behavior: 'smooth', inline: 'center' });</span>
    
    <span class="hljs-comment">// æ–°æ–¹å¼ï¼šå¹³ç¨³æ»šåŠ¨</span>
    tab.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
      <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,    <span class="hljs-comment">// é¿å…å‚ç›´è·³åŠ¨</span>
      <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>     <span class="hljs-comment">// æ°´å¹³å±…ä¸­</span>
    });
  }
}
</code></pre>
<h3 data-id="heading-12">åœºæ™¯äºŒï¼šå›¾ç‰‡è½®æ’­æŒ‡ç¤ºå™¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Carousel</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">slides</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.slide'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dots</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.dot'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = <span class="hljs-number">0</span>;
  }
  
  <span class="hljs-title function_">goToSlide</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = index;
    <span class="hljs-keyword">const</span> slide = <span class="hljs-variable language_">this</span>.<span class="hljs-property">slides</span>[index];
    
    <span class="hljs-comment">// å¹³æ»‘æ»šåŠ¨åˆ°æŒ‡å®šå¹»ç¯ç‰‡</span>
    slide.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
      <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,      <span class="hljs-comment">// é‡è¦ï¼šä¿æŒå‚ç›´ä½ç½®</span>
      <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>       <span class="hljs-comment">// æ°´å¹³å±…ä¸­æ˜¾ç¤º</span>
    });
    
    <span class="hljs-comment">// æ›´æ–°æŒ‡ç¤ºå™¨çŠ¶æ€</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateDots</span>();
  }
  
  <span class="hljs-title function_">updateDots</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dots</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">dot, i</span>) =&gt;</span> {
      dot.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'active'</span>, i === <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>);
    });
  }
}
</code></pre>
<h3 data-id="heading-13">åœºæ™¯ä¸‰ï¼šèŠå¤©æ¶ˆæ¯æ»šåŠ¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ChatUI</span> {
  <span class="hljs-title function_">scrollToLatestMessage</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> messages = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.message'</span>);
    <span class="hljs-keyword">const</span> lastMessage = messages[messages.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
    
    <span class="hljs-keyword">if</span> (lastMessage) {
      lastMessage.<span class="hljs-title function_">scrollIntoView</span>({
        <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
        <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,    <span class="hljs-comment">// é¿å…é¡µé¢æ•´ä½“æ»šåŠ¨</span>
        <span class="hljs-attr">inline</span>: <span class="hljs-string">'nearest'</span>
      });
    }
  }
  
  <span class="hljs-title function_">scrollToMessage</span>(<span class="hljs-params">messageId</span>) {
    <span class="hljs-keyword">const</span> message = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(messageId);
    <span class="hljs-keyword">if</span> (message) {
      <span class="hljs-comment">// å…ˆç¡®ä¿æ¶ˆæ¯å¯è§</span>
      message.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = <span class="hljs-string">'1'</span>;
      
      message.<span class="hljs-title function_">scrollIntoView</span>({
        <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
        <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
        <span class="hljs-attr">inline</span>: <span class="hljs-string">'nearest'</span>
      });
      
      <span class="hljs-comment">// é«˜äº®æ•ˆæœ</span>
      message.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'#fff9c4'</span>;
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        message.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">''</span>;
      }, <span class="hljs-number">2000</span>);
    }
  }
}
</code></pre>
<h2 data-id="heading-14">å…¼å®¹æ€§å¤„ç†</h2>
<h3 data-id="heading-15">æµè§ˆå™¨å…¼å®¹æ€§ç°çŠ¶</h3>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼Œ<code>scrollIntoView</code> çš„åŸºæœ¬åŠŸèƒ½åœ¨å„ä¸ªç°ä»£æµè§ˆå™¨ä¸­éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒï¼š</p>
<ul>
<li>âœ… Chrome 1+</li>
<li>âœ… Firefox 1+</li>
<li>âœ… Safari 1+</li>
<li>âœ… Edge 12+</li>
<li>âœ… Opera 12.1+</li>
</ul>
<p>ä½†æ˜¯ï¼Œå‚æ•°å¯¹è±¡çš„æ”¯æŒæƒ…å†µæœ‰æ‰€ä¸åŒï¼š</p>

































<table><thead><tr><th>ç‰¹æ€§</th><th>Chrome</th><th>Firefox</th><th>Safari</th><th>Edge</th></tr></thead><tbody><tr><td><code>behavior: 'smooth'</code></td><td>61+</td><td>36+</td><td>ä¸æ”¯æŒ</td><td>79+</td></tr><tr><td><code>block</code> å‚æ•°</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td></tr><tr><td><code>inline</code> å‚æ•°</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td><td>å…¨éƒ¨æ”¯æŒ</td></tr></tbody></table>
<h3 data-id="heading-16">å¹³æ»‘æ»šåŠ¨çš„ polyfill</h3>
<p>å¯¹äºä¸æ”¯æŒ <code>behavior: 'smooth'</code> çš„æµè§ˆå™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">smoothScrollIntoView</span>(<span class="hljs-params">element, options = {}</span>) {
  <span class="hljs-keyword">const</span> defaultOptions = {
    <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
    <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>,
    ...options
  };
  
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ”¯æŒå¹³æ»‘æ»šåŠ¨</span>
  <span class="hljs-keyword">const</span> supportsSmooth = <span class="hljs-string">'scrollBehavior'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>;
  
  <span class="hljs-keyword">if</span> (supportsSmooth &amp;&amp; <span class="hljs-keyword">typeof</span> element.<span class="hljs-property">scrollIntoView</span> === <span class="hljs-string">'function'</span>) {
    <span class="hljs-comment">// ä½¿ç”¨åŸç”Ÿå¹³æ»‘æ»šåŠ¨</span>
    element.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
      <span class="hljs-attr">block</span>: defaultOptions.<span class="hljs-property">block</span>,
      <span class="hljs-attr">inline</span>: defaultOptions.<span class="hljs-property">inline</span>
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ CSS æˆ– JS åŠ¨ç”»</span>
    element.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">block</span>: defaultOptions.<span class="hljs-property">block</span>,
      <span class="hljs-attr">inline</span>: defaultOptions.<span class="hljs-property">inline</span>
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ CSS å¹³æ»‘æ»šåŠ¨çš„é™çº§æ–¹æ¡ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addSmoothScrollPolyfill</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!(<span class="hljs-string">'scrollBehavior'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>)) {
    <span class="hljs-keyword">const</span> style = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
    style.<span class="hljs-property">textContent</span> = <span class="hljs-string">`
      html {
        scroll-behavior: smooth;
      }
    `</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(style);
  }
}
</code></pre>
<h2 data-id="heading-17">é«˜çº§æŠ€å·§å’Œæœ€ä½³å®è·µ</h2>
<h3 data-id="heading-18">1. <strong>ç»“åˆ Intersection Observer</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartScroller</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">onIntersection</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
      { <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.5</span> }
    );
  }
  
  <span class="hljs-title function_">scrollToElement</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-comment">// å…ˆè§‚å¯Ÿå…ƒç´ æ˜¯å¦åœ¨è§†å£ä¸­</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(element);
    
    <span class="hljs-comment">// æ‰§è¡Œæ»šåŠ¨</span>
    element.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
      <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
      <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>
    });
    
    <span class="hljs-comment">// 3ç§’ååœæ­¢è§‚å¯Ÿ</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">unobserve</span>(element);
    }, <span class="hljs-number">3000</span>);
  }
  
  <span class="hljs-title function_">onIntersection</span>(<span class="hljs-params">entries</span>) {
    entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å…ƒç´ å·²è¿›å…¥è§†å£'</span>);
        <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œè§¦å‘å…¶ä»–åŠ¨ç”»æˆ–æ•ˆæœ</span>
      }
    });
  }
}
</code></pre>
<h3 data-id="heading-19">2. <strong>æ€§èƒ½ä¼˜åŒ–ï¼šé˜²æŠ–å¤„ç†</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createDebouncedScroll</span>(<span class="hljs-params">delay = <span class="hljs-number">150</span></span>) {
  <span class="hljs-keyword">let</span> timeoutId = <span class="hljs-literal">null</span>;
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">element, options = {}</span>) {
    <span class="hljs-keyword">if</span> (timeoutId) {
      <span class="hljs-built_in">clearTimeout</span>(timeoutId);
    }
    
    timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      element.<span class="hljs-title function_">scrollIntoView</span>({
        <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
        <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
        <span class="hljs-attr">inline</span>: options.<span class="hljs-property">inline</span> || <span class="hljs-string">'center'</span>,
        ...options
      });
      timeoutId = <span class="hljs-literal">null</span>;
    }, delay);
  };
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> debouncedScroll = <span class="hljs-title function_">createDebouncedScroll</span>();
<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'scroll-button'</span>);
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">debouncedScroll</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'target-element'</span>));
});
</code></pre>
<h3 data-id="heading-20">3. <strong>å¯è®¿é—®æ€§è€ƒè™‘</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">accessibleScrollTo</span>(<span class="hljs-params">element, options = {}</span>) {
  <span class="hljs-keyword">const</span> defaultOptions = {
    <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
    <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
    <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">focus</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦èšç„¦åˆ°å…ƒç´ </span>
    <span class="hljs-attr">announce</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦å±å¹•é˜…è¯»å™¨æ’­æŠ¥</span>
  };
  
  <span class="hljs-keyword">const</span> config = { ...defaultOptions, ...options };
  
  <span class="hljs-comment">// æ‰§è¡Œæ»šåŠ¨</span>
  element.<span class="hljs-title function_">scrollIntoView</span>({
    <span class="hljs-attr">behavior</span>: config.<span class="hljs-property">behavior</span>,
    <span class="hljs-attr">block</span>: config.<span class="hljs-property">block</span>,
    <span class="hljs-attr">inline</span>: config.<span class="hljs-property">inline</span>
  });
  
  <span class="hljs-comment">// å¯è®¿é—®æ€§å¢å¼º</span>
  <span class="hljs-keyword">if</span> (config.<span class="hljs-property">focus</span>) {
    element.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'tabindex'</span>, <span class="hljs-string">'-1'</span>);
    element.<span class="hljs-title function_">focus</span>();
    
    <span class="hljs-comment">// ç§»é™¤ tabindex é¿å…å½±å“æ­£å¸¸ tab é¡ºåº</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      element.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">'tabindex'</span>);
    }, <span class="hljs-number">100</span>);
  }
  
  <span class="hljs-keyword">if</span> (config.<span class="hljs-property">announce</span> &amp;&amp; <span class="hljs-string">'liveRegion'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">announceToScreenReader</span>(<span class="hljs-string">`å·²æ»šåŠ¨åˆ° <span class="hljs-subst">${element.textContent}</span>`</span>);
  }
}
</code></pre>
<h2 data-id="heading-21">å¸¸è§é—®é¢˜è§£ç­”</h2>
<h3 data-id="heading-22">Q1ï¼šä¸ºä»€ä¹ˆæœ‰æ—¶å€™è¿˜æ˜¯ä¼šæœ‰è½»å¾®è·³åŠ¨ï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ  CSS çº¦æŸ</span>
.<span class="hljs-property">scroll</span>-container {
  overflow-<span class="hljs-attr">x</span>: auto;
  overflow-<span class="hljs-attr">y</span>: hidden; <span class="hljs-comment">/* æ˜ç¡®ç¦æ­¢å‚ç›´æ»šåŠ¨ */</span>
  scrollbar-<span class="hljs-attr">width</span>: thin; <span class="hljs-comment">/* ç°ä»£æµè§ˆå™¨ */</span>
  -webkit-overflow-<span class="hljs-attr">scrolling</span>: touch; <span class="hljs-comment">/* iOS å¹³æ»‘æ»šåŠ¨ */</span>
}
</code></pre>
<h3 data-id="heading-23">Q2ï¼šå¦‚ä½•ç¡®ä¿åœ¨ç§»åŠ¨ç«¯ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mobileSafeScroll</span>(<span class="hljs-params">element</span>) {
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åœ¨ç§»åŠ¨ç«¯</span>
  <span class="hljs-keyword">const</span> isMobile = <span class="hljs-regexp">/iPhone|iPad|iPod|Android/i</span>.<span class="hljs-title function_">test</span>(navigator.<span class="hljs-property">userAgent</span>);
  
  element.<span class="hljs-title function_">scrollIntoView</span>({
    <span class="hljs-attr">behavior</span>: isMobile ? <span class="hljs-string">'auto'</span> : <span class="hljs-string">'smooth'</span>, <span class="hljs-comment">// ç§»åŠ¨ç«¯å¯èƒ½ä¸æ”¯æŒsmooth</span>
    <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
    <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>
  });
  
  <span class="hljs-comment">// ç§»åŠ¨ç«¯é¢å¤–å¤„ç†</span>
  <span class="hljs-keyword">if</span> (isMobile) {
    <span class="hljs-comment">// é˜²æ­¢æ»šåŠ¨ç©¿é€</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = <span class="hljs-string">'hidden'</span>;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = <span class="hljs-string">''</span>;
    }, <span class="hljs-number">300</span>);
  }
}
</code></pre>
<h3 data-id="heading-24">Q3ï¼šå¦‚ä½•å¤„ç†åµŒå¥—æ»šåŠ¨å®¹å™¨ï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">scrollInNestedContainer</span>(<span class="hljs-params">element, containerSelector</span>) {
  <span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(containerSelector);
  <span class="hljs-keyword">if</span> (!container) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨å®¹å™¨å†…</span>
  <span class="hljs-keyword">if</span> (container.<span class="hljs-title function_">contains</span>(element)) {
    <span class="hljs-comment">// è®¡ç®—ç›¸å¯¹ä½ç½®</span>
    <span class="hljs-keyword">const</span> containerRect = container.<span class="hljs-title function_">getBoundingClientRect</span>();
    <span class="hljs-keyword">const</span> elementRect = element.<span class="hljs-title function_">getBoundingClientRect</span>();
    
    <span class="hljs-keyword">const</span> scrollLeft = elementRect.<span class="hljs-property">left</span> - containerRect.<span class="hljs-property">left</span> + container.<span class="hljs-property">scrollLeft</span>;
    
    container.<span class="hljs-title function_">scrollTo</span>({
      <span class="hljs-attr">left</span>: scrollLeft - (container.<span class="hljs-property">clientWidth</span> - elementRect.<span class="hljs-property">width</span>) / <span class="hljs-number">2</span>,
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤æ–¹æ³•</span>
    element.<span class="hljs-title function_">scrollIntoView</span>({
      <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
      <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,
      <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>
    });
  }
}
</code></pre>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>é€šè¿‡ä»Šå¤©çš„å®è·µï¼Œæˆ‘ä»¬å­¦åˆ°äº†ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„æŠ€å·§ï¼š<strong>ä½¿ç”¨ <code>block: 'nearest'</code> å¯ä»¥é¿å… <code>scrollIntoView</code> çš„æ„å¤–æ»šåŠ¨è¡Œä¸º</strong>ã€‚</p>
<h3 data-id="heading-26">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>é—®é¢˜æ ¹æº</strong>ï¼š<code>scrollIntoView</code> é»˜è®¤çš„ <code>block: 'start'</code> å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„å‚ç›´æ»šåŠ¨</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ”¹ç”¨ <code>block: 'nearest'</code> ä¿æŒå‚ç›´ä½ç½®ä¸å˜</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ¨ªå‘æ»šåŠ¨å®¹å™¨ã€Tabç»„ä»¶ã€è½®æ’­å›¾ç­‰</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒï¼Œå¹³æ»‘æ»šåŠ¨éœ€è¦é™çº§å¤„ç†</li>
</ol>
<h3 data-id="heading-27">æ¨èå†™æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯¹äºæ¨ªå‘æ»šåŠ¨ï¼Œæ¨èä½¿ç”¨ï¼š</span>
element.<span class="hljs-title function_">scrollIntoView</span>({
  <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
  <span class="hljs-attr">block</span>: <span class="hljs-string">'nearest'</span>,    <span class="hljs-comment">// é¿å…å‚ç›´æ»šåŠ¨</span>
  <span class="hljs-attr">inline</span>: <span class="hljs-string">'center'</span>     <span class="hljs-comment">// æ°´å¹³å±…ä¸­</span>
});

<span class="hljs-comment">// å¯¹äºçºµå‘æ»šåŠ¨ï¼Œæ¨èä½¿ç”¨ï¼š</span>
element.<span class="hljs-title function_">scrollIntoView</span>({
  <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>,
  <span class="hljs-attr">block</span>: <span class="hljs-string">'center'</span>,     <span class="hljs-comment">// å‚ç›´å±…ä¸­</span>
  <span class="hljs-attr">inline</span>: <span class="hljs-string">'nearest'</span>    <span class="hljs-comment">// é¿å…æ°´å¹³æ»šåŠ¨</span>
});
</code></pre>
<p>æœ‰æ—¶å€™ï¼Œæœ€ç®€å•çš„ä¸€è¡Œä»£ç è°ƒæ•´ï¼Œå°±èƒ½è§£å†³å›°æ‰°å·²ä¹…çš„é—®é¢˜ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°æŒæ¡ <code>scrollIntoView</code> çš„ä½¿ç”¨æŠ€å·§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨ monaco ä¸­å®ç°è‡ªå®šä¹‰è¯­è¨€çš„é«˜äº®]]></title>    <link>https://juejin.cn/post/7592452108797296683</link>    <guid>https://juejin.cn/post/7592452108797296683</guid>    <pubDate>2026-01-07T13:39:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592452108797296683" data-draft-id="7591407298415034374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨ monaco ä¸­å®ç°è‡ªå®šä¹‰è¯­è¨€çš„é«˜äº®"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2026-01-07T13:39:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å²³å‡ºäºå±±"/> <meta itemprop="url" content="https://juejin.cn/user/2717648476454536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨ monaco ä¸­å®ç°è‡ªå®šä¹‰è¯­è¨€çš„é«˜äº®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648476454536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å²³å‡ºäºå±±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:39:33.000Z" title="Wed Jan 07 2026 13:39:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>å¦‚ä¸‹ä»£ç ï¼Œåœ¨ monaco ä¸Šæ³¨å†Œ <code>mylang</code> è¯­è¨€ï¼Œå¹¶è®¾ç½®è¯æ³•åˆ†æè§„åˆ™ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ³¨å†Œè¯­è¨€</span>
monaco.<span class="hljs-property">languages</span>.<span class="hljs-title function_">register</span>({ <span class="hljs-attr">id</span>: <span class="hljs-string">'myLang'</span> });
<span class="hljs-comment">// è®¾ç½®è¯æ³•åˆ†æè§„åˆ™</span>
monaco.<span class="hljs-property">languages</span>.<span class="hljs-title function_">setMonarchTokensProvider</span>(<span class="hljs-string">'myLang'</span>, {
  <span class="hljs-attr">tokenizer</span>: {}
});
<span class="hljs-comment">// é¢œè‰²ä¸»é¢˜è®¾ç½®</span>
monaco.<span class="hljs-property">editor</span>.<span class="hljs-title function_">defineTheme</span>(<span class="hljs-string">'logTheme'</span>, {});
</code></pre>
<p>å…¶ä¸­ <code>tokenizer</code> å¯¹è±¡å°±æ˜¯ç”¨æ¥æè¿°ä¸€ä¸ªè¯­è¨€å®šä¹‰çš„ JSON å¯¹è±¡ã€‚</p>
<p>Monaco Editor çš„ <strong>Tokenizerï¼ˆåˆ†è¯å™¨ï¼‰</strong> æ˜¯å®ç°ä»£ç é«˜äº®çš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒé€šè¿‡ <strong>Monarch</strong> åº“ï¼ˆä¸€ä¸ªåŸºäº JSON çš„å£°æ˜å¼è¯­æ³•ï¼‰å°†æºä»£ç æ–‡æœ¬æ‹†åˆ†ä¸ºä¸€ç³»åˆ—å¸¦æœ‰â€œç±»å‹æ ‡ç­¾â€çš„ <strong>Token</strong>ï¼ˆè®°å·ï¼‰ï¼Œéšåç¼–è¾‘å™¨æ ¹æ®ä¸»é¢˜ï¼ˆThemeï¼‰ä¸ºè¿™äº›æ ‡ç­¾æ¶‚ä¸Šä¸åŒçš„é¢œè‰²ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±é€æ­¥æ¥äº†è§£ä¸‹è¿™ä¸ªè§„èŒƒã€‚</p>
<h2 data-id="heading-0">è¯æ³•åˆ†æç®€å•åŸç†</h2>
<p>Monaco çš„ Tokenizer æ˜¯ä¸€ä¸ª<strong>çŠ¶æ€æœº</strong>ã€‚å®ƒé€è¡Œæ‰«æä»£ç ï¼Œå¹¶å§‹ç»ˆå¤„äºæŸä¸ªç‰¹å®šçš„â€œçŠ¶æ€â€ä¸­ï¼ˆé»˜è®¤åˆå§‹çŠ¶æ€ä¸º <code>root</code>ï¼‰ã€‚å…¶æ ¸å¿ƒæ¦‚å¿µæœ‰ï¼š</p>
<ul>
<li>
<p><strong>çŠ¶æ€ï¼ˆStatesï¼‰</strong> ï¼šè§£æå™¨å§‹ç»ˆå¤„äºæŸä¸ªç‰¹å®šçŠ¶æ€ï¼ˆåˆå§‹ä¸º <code>root</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ­£åˆ™åŒ¹é…ï¼ˆRegex Matchingï¼‰</strong> ï¼šåœ¨å½“å‰çŠ¶æ€ä¸‹ï¼ŒæŒ‰é¡ºåºç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å½“å‰è¡Œã€‚</p>
</li>
<li>
<p><strong>åŠ¨ä½œï¼ˆActionsï¼‰</strong> ï¼šåŒ¹é…æˆåŠŸåæ‰§è¡Œæ“ä½œï¼Œå¦‚èµ‹äºˆ Token ç±»å‹ã€åˆ‡æ¢çŠ¶æ€ï¼ˆ<code>next</code>ï¼‰æˆ–æ¨å…¥çŠ¶æ€æ ˆï¼ˆ<code>push</code>ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-1">è¯æ³•åˆ†æç®€å•æ•™ç¨‹</h2>
<h3 data-id="heading-2">åˆçº§ï¼šåŸºç¡€åŒ¹é…ï¼ˆçº¿æ€§è§„åˆ™ï¼‰</h3>
<p>è¿™æ˜¯æœ€ç®€å•çš„å½¢æ€ï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥ç»™åŒ¹é…åˆ°çš„æ–‡å­—æ‰“ä¸Šâ€œæ ‡ç­¾â€ï¼ˆToken Typeï¼‰ã€‚</p>
<p>æ­¤æ—¶ Tokenizer åƒä¸€ä¸ªç®€å•çš„è¿‡æ»¤å™¨ï¼Œæ‰«æåˆ°å“ªç®—å“ªï¼Œæ²¡æœ‰â€œä¸Šä¸‹æ–‡â€æ¦‚å¿µã€‚</p>
<pre><code class="hljs language-js" lang="js">monaco.<span class="hljs-property">languages</span>.<span class="hljs-title function_">setMonarchTokensProvider</span>(<span class="hljs-string">'myLang'</span>, {
  <span class="hljs-attr">tokenizer</span>: {
    <span class="hljs-attr">root</span>: [
      [<span class="hljs-regexp">/\b(if|else|return)\b/</span>, <span class="hljs-string">"keyword"</span>], <span class="hljs-comment">// åŒ¹é…å…³é”®å­—</span>
      [<span class="hljs-regexp">/[0-9]+/</span>, <span class="hljs-string">"number"</span>],               <span class="hljs-comment">// åŒ¹é…æ•°å­—</span>
      [<span class="hljs-regexp">/[+-*/]/</span>, <span class="hljs-string">"operator"</span>],            <span class="hljs-comment">// åŒ¹é…è¿ç®—ç¬¦</span>
      [<span class="hljs-regexp">/[a-zA-Z_]\w*/</span>, <span class="hljs-string">"identifier"</span>],     <span class="hljs-comment">// åŒ¹é…å˜é‡å</span>
    ]
  }
});
</code></pre>
<h3 data-id="heading-3">ä¸­çº§ï¼šçŠ¶æ€åˆ‡æ¢ï¼ˆå¤„ç†å­—ç¬¦ä¸²ï¼‰</h3>
<p>ç®€å•çš„æ­£åˆ™æ— æ³•å¤„ç†è·¨è¶Šå¤šä¸ªå­—ç¬¦çš„ç»“æ„ï¼ˆå¦‚å¼•å·åŒ…å›´çš„å†…å®¹ï¼‰ã€‚æˆ‘ä»¬éœ€è¦å¼•å…¥ <strong>çŠ¶æ€ï¼ˆStatesï¼‰</strong> ã€‚</p>
<p>å¦‚ä¸‹ç¤ºä¾‹ï¼šè¯†åˆ«è¢«åŒå¼•å·åŒ…å›´çš„å­—ç¬¦ä¸²ï¼Œä¸”æ”¯æŒè½¬ä¹‰å­—ç¬¦ <code>"</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js">monaco.<span class="hljs-property">languages</span>.<span class="hljs-title function_">setMonarchTokensProvider</span>(<span class="hljs-string">'myLang'</span>, {
  <span class="hljs-attr">tokenizer</span>: {
    <span class="hljs-attr">root</span>: [
      [<span class="hljs-regexp">/"/</span>, <span class="hljs-string">'string.quote'</span>, <span class="hljs-string">'@string'</span>], <span class="hljs-comment">// åŒ¹é…åˆ° " æ—¶ï¼Œæ ‡ä¸º string.quote å¹¶è¿›å…¥ string çŠ¶æ€</span>
    ],
    <span class="hljs-attr">string</span>: [
      [<span class="hljs-regexp">/\./</span>, <span class="hljs-string">'string.escape'</span>],  <span class="hljs-comment">// åŒ¹é…è½¬ä¹‰å­—ç¬¦ å¦‚ "</span>
      [<span class="hljs-regexp">/[^"]/</span>, <span class="hljs-string">'string'</span>],        <span class="hljs-comment">// åŒ¹é…é " å­—ç¬¦</span>
      [<span class="hljs-regexp">/"/</span>, <span class="hljs-string">'string.quote'</span>, <span class="hljs-string">'@pop'</span>]  <span class="hljs-comment">// / é‡åˆ°é—­åˆå¼•å·ï¼Œé€€å‡ºçŠ¶æ€å›åˆ° root</span>
    ]
  },
});
</code></pre>
<h3 data-id="heading-4">é«˜çº§ï¼šåµŒå¥—ä¸æ ˆæ“ä½œï¼ˆå¤šè¡Œæ³¨é‡Šä¸åµŒå¥—ç»“æ„ï¼‰</h3>
<p>è¯†åˆ«å¤šè¡Œæ³¨é‡Š <code>/* ... */</code>ï¼Œä¸”æ”¯æŒæ³¨é‡ŠåµŒå¥—å¦‚ <code>/* a /* b */ c */</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js">monaco.<span class="hljs-property">languages</span>.<span class="hljs-title function_">setMonarchTokensProvider</span>(<span class="hljs-string">'myLang'</span>, {
  <span class="hljs-attr">tokenizer</span>: {
    <span class="hljs-attr">root</span>: [
        [<span class="hljs-comment">//*/, 'comment', '@comment'], // åŒ¹é…åˆ° /* è¿›å…¥æ³¨é‡ŠçŠ¶æ€</span>
    ],
    
    <span class="hljs-attr">comment</span>: [
        [<span class="hljs-regexp">/[^/*]+/</span>, <span class="hljs-string">'comment'</span>],
        [<span class="hljs-comment">//*/, 'comment', '@push'], // æ”¯æŒåµŒå¥—æ³¨é‡Š</span>
        [<span class="hljs-string">'\*/'</span>, <span class="hljs-string">'comment'</span>, <span class="hljs-string">'@pop'</span>],
        [<span class="hljs-regexp">/[/*]/</span>, <span class="hljs-string">'comment'</span>],
    ],
  },
});
</code></pre>
<h2 data-id="heading-5">ä¸»é¢˜</h2>
<p>å½“é…ç½®å¥½è¯æ³•åˆ†æåï¼Œä½¿ç”¨äº†é»˜è®¤çš„ token ï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œå¯¹åº”çš„è¯­è¨€é«˜äº®ã€‚</p>
<p>å½“è¯æ³•åˆ†æè§„åˆ™ä¸­é…ç½®äº†è‡ªå®šä¹‰çš„ tokenï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®è‡ªå®šä¹‰ token çš„é¢œè‰²ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Define a new theme that contains only rules that match this language</span>
monaco.<span class="hljs-property">editor</span>.<span class="hljs-title function_">defineTheme</span>(<span class="hljs-string">"myCoolTheme"</span>, {
    <span class="hljs-attr">base</span>: <span class="hljs-string">"vs"</span>,
    <span class="hljs-attr">inherit</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">rules</span>: [
        { <span class="hljs-attr">token</span>: <span class="hljs-string">"custom-info"</span>, <span class="hljs-attr">foreground</span>: <span class="hljs-string">"808080"</span> },
        { <span class="hljs-attr">token</span>: <span class="hljs-string">"custom-error"</span>, <span class="hljs-attr">foreground</span>: <span class="hljs-string">"ff0000"</span>, <span class="hljs-attr">fontStyle</span>: <span class="hljs-string">"bold"</span> },
        { <span class="hljs-attr">token</span>: <span class="hljs-string">"custom-notice"</span>, <span class="hljs-attr">foreground</span>: <span class="hljs-string">"FFA500"</span> },
        { <span class="hljs-attr">token</span>: <span class="hljs-string">"custom-date"</span>, <span class="hljs-attr">foreground</span>: <span class="hljs-string">"008800"</span> },
    ],
    <span class="hljs-attr">colors</span>: {
        <span class="hljs-string">"editor.foreground"</span>: <span class="hljs-string">"#000000"</span>,
    },
});
</code></pre>
<h2 data-id="heading-6">Tokenizer å®šä¹‰è¯¦è§£</h2>
<blockquote>
<p>æ›´å¤šå†…å®¹å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmicrosoft.github.io%2Fmonaco-editor%2Fmonarch.html" target="_blank" title="https://microsoft.github.io/monaco-editor/monarch.html" ref="nofollow noopener noreferrer">microsoft.github.io/monaco-editâ€¦</a></p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¼ªä»£ç ç¤ºæ„</span>
<span class="hljs-comment">// tokenizer çš„å®šä¹‰</span>
<span class="hljs-attr">tokenizer</span>: {
   <span class="hljs-comment">// åŒ…å«è‹¥å¹²çŠ¶æ€(state)</span>
   <span class="hljs-comment">// xxxx çŠ¶æ€(state)</span>
   <span class="hljs-attr">xxxx</span>: [
      <span class="hljs-comment">// xxxx çŠ¶æ€ä¸‹åŒ…å«è‹¥å¹²è§„åˆ™(rule)ï¼Œ</span>
      [regex,  action],  <span class="hljs-comment">// è§„åˆ™ç”± æ­£åˆ™è¡¨è¾¾å¼(regex) ä¸åŠ¨ä½œ(action) ç»„æˆ</span>
   ]
}
</code></pre>
<h3 data-id="heading-7">çŠ¶æ€</h3>
<p>åˆ†è¯å™¨ï¼ˆtokenizerï¼‰ç”±ä¸€ä¸ªå®šä¹‰çŠ¶æ€çš„å¯¹è±¡æ„æˆã€‚åˆ†è¯å™¨çš„åˆå§‹çŠ¶æ€æ˜¯å…¶å®šä¹‰ä¸­çš„ç¬¬ä¸€ä¸ªçŠ¶æ€ã€‚å½“åˆ†è¯å™¨å¤„äºæŸä¸ªç‰¹å®šçŠ¶æ€æ—¶ï¼Œåªä¼šåº”ç”¨è¯¥çŠ¶æ€ä¸‹çš„è§„åˆ™ã€‚æ‰€æœ‰è§„åˆ™æŒ‰é¡ºåºè¿›è¡ŒåŒ¹é…ï¼Œå½“ç¬¬ä¸€ä¸ªè§„åˆ™åŒ¹é…æˆåŠŸåï¼Œå°±ä¼šæ‰§è¡Œå…¶å¯¹åº”çš„æ“ä½œæ¥ç¡®å®šè¯æ³•å•å…ƒç±»åˆ«ï¼Œåç»­è§„åˆ™ä¸å†è¿›è¡Œå°è¯•ã€‚å› æ­¤ï¼Œä»¥æœ€é«˜æ•ˆçš„æ–¹å¼å¯¹è§„åˆ™è¿›è¡Œæ’åºå¯èƒ½å¾ˆé‡è¦ï¼Œä¾‹å¦‚ï¼Œå°†ç©ºç™½ç¬¦å’Œæ ‡è¯†ç¬¦è§„åˆ™æ”¾åœ¨å‰é¢ã€‚</p>
<h3 data-id="heading-8">è§„åˆ™</h3>
<p>æ¯ä¸ªçŠ¶æ€éƒ½è¢«å®šä¹‰ä¸ºä¸€ç»„è§„åˆ™æ•°ç»„ï¼Œè¿™äº›è§„åˆ™ç”¨äºåŒ¹é…è¾“å…¥ã€‚è§„åˆ™å¯ä»¥é‡‡ç”¨ä»¥ä¸‹å½¢å¼ï¼š</p>
<p><strong><code>[</code></strong> <em><strong><code>regex</code></strong></em> <strong><code>,</code></strong> <em><strong><code>action</code></strong></em> <strong><code>]</code></strong></p>
<p><code>{ regex: </code><em><code>regex</code></em><code>, action: </code><em><code>action</code></em><code> }</code> çš„ç®€å†™</p>
<p><strong><code>[</code></strong> <em><strong><code>regex</code></strong></em> <strong><code>,</code></strong> <em><strong><code>action</code></strong></em> <strong><code>,</code></strong> <em><strong><code>next</code></strong></em> <strong><code>]</code></strong></p>
<p><code>{ regex: </code><em><code>regex</code></em><code>, action: </code><em><code>action</code></em><code>{next: </code><em><code>next</code></em><code>} }</code> çš„ç®€å†™</p>
<p><strong><code>{regex:</code></strong> <em><strong><code>regex</code></strong></em> <strong><code>, action:</code></strong> <em><strong><code>action</code></strong></em> <strong><code>}</code></strong></p>
<p>Â Â å½“æ­£åˆ™è¡¨è¾¾å¼ä¸å½“å‰è¾“å…¥åŒ¹é…æ—¶ï¼Œå°±ä¼šæ‰§è¡Œç›¸åº”æ“ä½œæ¥è®¾ç½®è¯æ³•å•å…ƒçš„ç±»åˆ«ã€‚æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregexï¼‰æ—¢å¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆä½¿ç”¨/regex/çš„å½¢å¼ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚ç¤ºä¾‹å¦‚ä¸Šè¿°ã€ŒåŸºç¡€åŒ¹é…ã€å†…å®¹ã€‚</p>
<p><strong><code>{ include:</code></strong> <em><strong><code>state</code></strong></em> <strong><code>}</code></strong></p>
<p>Â Â ç”¨äºå¯¹è§„åˆ™è¿›è¡Œè‰¯å¥½çš„ç»„ç»‡ï¼Œå¹¶æ‰©å±•ä¸ºåœ¨çŠ¶æ€ä¸­å®šä¹‰çš„æ‰€æœ‰è§„åˆ™ã€‚è¿™æ˜¯é¢„å…ˆæ‰©å±•çš„ï¼Œå¯¹æ€§èƒ½æ²¡æœ‰å½±å“ã€‚å¦‚ä¸‹ç¤ºä¾‹ï¼ŒåŒ…å«çš„ <code>@whitespace</code> çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">tokenizer</span>: {
    <span class="hljs-attr">root</span>: [
      <span class="hljs-comment">// ... others</span>
      <span class="hljs-comment">// whitespace</span>
      { <span class="hljs-attr">include</span>: <span class="hljs-string">'@whitespace'</span> },
    ],

    <span class="hljs-attr">comment</span>: [
      [<span class="hljs-regexp">/[^/*]+/</span>, <span class="hljs-string">'comment'</span> ],
      [<span class="hljs-comment">//*/,    'comment', '@push' ],    // nested comment</span>
      [<span class="hljs-string">"\*/"</span>,    <span class="hljs-string">'comment'</span>, <span class="hljs-string">'@pop'</span>  ],
      [<span class="hljs-regexp">/[/*]/</span>,   <span class="hljs-string">'comment'</span> ]
    ],

    <span class="hljs-attr">whitespace</span>: [
      [<span class="hljs-regexp">/[ \t\r\n]+/</span>, <span class="hljs-string">'white'</span>],
      [<span class="hljs-comment">//*/,       'comment', '@comment' ],</span>
      [<span class="hljs-comment">///.*$/,    'comment'],</span>
    ],
  },
</code></pre>
<h3 data-id="heading-9">åŠ¨ä½œ</h3>
<p>ä¸€ä¸ªåŠ¨ä½œå†³å®šäº†ç”Ÿæˆçš„è¯æ³•å•å…ƒï¼ˆtokenï¼‰ç±»åˆ«ã€‚ä¸€ä¸ªåŠ¨ä½œå¯ä»¥æœ‰ä»¥ä¸‹å½¢å¼ï¼š</p>
<ul>
<li><em><strong><code>string</code></strong></em></li>
</ul>
<p>æ˜¯ <code>{ token: </code><em><code>string</code></em><code> }</code> çš„ç®€å†™ã€‚</p>
<ul>
<li>
<p><strong><code>[</code></strong> <em><strong><code>action1</code></strong></em> <strong><code>,...,</code></strong> <em><strong><code>actionN</code></strong></em> <strong><code>]</code></strong></p>
<ul>
<li>
<p>Â Â ä¸€ä¸ªåŒ…å« N ä¸ªåŠ¨ä½œçš„æ•°ç»„ã€‚è¿™ä»…åœ¨æ­£åˆ™è¡¨è¾¾å¼æ°å¥½ç”± N ä¸ªç»„ï¼ˆå³å¸¦æ‹¬å·çš„éƒ¨åˆ†ï¼‰ç»„æˆæ—¶æ‰è¢«å…è®¸ã€‚ç”±äºåˆ†è¯å™¨çš„å·¥ä½œæ–¹å¼ï¼Œä½ å¿…é¡»ä»¥è¿™æ ·ä¸€ç§æ–¹å¼å®šä¹‰è¿™äº›ç»„ï¼šæ‰€æœ‰ç»„éƒ½å‡ºç°åœ¨é¡¶çº§ä½ç½®å¹¶æ¶µç›–æ•´ä¸ªè¾“å…¥ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¸¦æœ‰ASCIIç è½¬ä¹‰åºåˆ—çš„å­—ç¬¦å®šä¹‰ä¸ºï¼š</p>
</li>
<li>
<pre><code class="hljs language-js" lang="js">/(<span class="hljs-string">')(\(?:[abnfrt]|[xX][0-9]{2}))('</span>)/, [<span class="hljs-string">'string'</span>,<span class="hljs-string">'string.escape'</span>,<span class="hljs-string">'string'</span>]]
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong><code>{ token:</code></strong> <em><strong><code>tokenclass</code></strong></em> <strong><code>}</code></strong></p>
<ul>
<li>
<p>Â Â ä¸€ä¸ªå®šä¹‰ç”¨äº CSS æ¸²æŸ“çš„è¯æ³•å•å…ƒï¼ˆtokenï¼‰ç±»åˆ«çš„å¯¹è±¡ã€‚å¸¸è§çš„è¯æ³•å•å…ƒï¼ˆtokenï¼‰ä¾‹å¦‚æœ‰â€œkeywordâ€ï¼ˆå…³é”®å­—ï¼‰ã€â€œcommentâ€ï¼ˆæ³¨é‡Šï¼‰æˆ–â€œidentifierâ€ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ç‚¹æ¥è¡¨ç¤ºå±‚çº§åŒ–çš„CSSåç§°ï¼Œæ¯”å¦‚â€œtype.identifierâ€æˆ–â€œstring.escapeâ€ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ä¸€ä¸ªåŠ¨ä½œå¯¹è±¡å¯ä»¥åŒ…å«æ›´å¤šå½±å“è¯æ³•åˆ†æå™¨çŠ¶æ€çš„å­—æ®µã€‚ä»¥ä¸‹å±æ€§æ˜¯å¯è¯†åˆ«çš„ï¼š</p>
<ul>
<li><strong><code>next:</code></strong> <em><strong><code>state</code></strong></em></li>
</ul>
<p>Â Â ï¼ˆå­—ç¬¦ä¸²ï¼‰å¦‚æœå·²å®šä¹‰ï¼Œå®ƒä¼šå°†å½“å‰çŠ¶æ€æ¨å…¥åˆ†è¯å™¨æ ˆï¼Œå¹¶ä½¿ state æˆä¸ºå½“å‰çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œè¿™å¯ç”¨äºå¼€å§‹å¯¹å—æ³¨é‡Šè¿›è¡Œåˆ†è¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-string">'/\*'</span>, <span class="hljs-string">'comment'</span>, <span class="hljs-string">'@comment'</span> ]
</code></pre>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä»¥ä¸‹å†…å®¹çš„ç®€å†™å½¢å¼</p>
<p><code>{ regex: '/\*', action: { token: 'comment', next: '@comment' } }</code></p>
</blockquote>
<p>Â Â åœ¨è¿™é‡Œï¼ŒåŒ¹é…åˆ°çš„ <code>/*</code> è¢«èµ‹äºˆâ€œcommentâ€è¯æ³•å•å…ƒï¼Œåˆ†è¯å™¨ä¼šä½¿ç”¨ <code>@comment</code> çŠ¶æ€ä¸‹çš„è§„åˆ™ç»§ç»­åŒ¹é…è¾“å…¥ã€‚</p>
<p>Â Â nextå±æ€§å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®ŠçŠ¶æ€ï¼š</p>
<ul>
<li><code>"@pop"</code></li>
</ul>
<p>Â Â Â Â å¼¹å‡ºåˆ†è¯å™¨æ ˆä»¥è¿”å›åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œè¿™å¯ç”¨äºåœ¨çœ‹åˆ°ç»“æŸæ ‡è®°åä»å—æ³¨é‡Šåˆ†è¯çŠ¶æ€è¿”å›ï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-string">'\*/'</span>, <span class="hljs-string">'comment'</span>, <span class="hljs-string">'@pop'</span>]
</code></pre>
<ul>
<li><code>"@push"</code></li>
</ul>
<p>Â Â Â Â æ¨å…¥å½“å‰çŠ¶æ€å¹¶ç»§ç»­ä¿æŒå½“å‰çŠ¶æ€ã€‚åœ¨çœ‹åˆ°æ³¨é‡Šå¼€å§‹æ ‡è®°æ—¶å¤„ç†åµŒå¥—å—æ³¨é‡Šå¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œåœ¨@commentçŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-string">'/\*'</span>, <span class="hljs-string">'comment'</span>, <span class="hljs-string">'@push'</span>]
</code></pre>
<ul>
<li><code>"@popall"</code></li>
</ul>
<p>Â Â Â Â å¼¹å‡ºåˆ†è¯å™¨æ ˆä¸­çš„æ‰€æœ‰å†…å®¹å¹¶è¿”å›åˆ°é¡¶å±‚çŠ¶æ€ã€‚è¿™å¯ç”¨äºåœ¨æ¢å¤è¿‡ç¨‹ä¸­ä»æ·±å±‚åµŒå¥—çº§åˆ«â€œè·³è½¬â€å›åˆå§‹çŠ¶æ€ã€‚</p>
<ul>
<li>
<p><strong><code>{ cases: { guard1: action1, ..., guardN: actionN } }</code></strong></p>
<ul>
<li>Â Â æœ€åä¸€ç§åŠ¨ä½œå¯¹è±¡æ˜¯ cases è¯­å¥ã€‚cases å¯¹è±¡åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå­—æ®µéƒ½å……å½“ä¸€ä¸ªå®ˆå«æ¡ä»¶ã€‚æ¯ä¸ªå®ˆå«æ¡ä»¶éƒ½ä¼šåº”ç”¨äºåŒ¹é…åˆ°çš„è¾“å…¥ï¼Œä¸€æ—¦å…¶ä¸­ä¸€ä¸ªå®ˆå«æ¡ä»¶åŒ¹é…æˆåŠŸï¼Œå°±ä¼šæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºè¿™äº›æœ¬èº«å°±æ˜¯åŠ¨ä½œï¼Œæ‰€ä»¥ cases å¯ä»¥åµŒå¥—ã€‚ä½¿ç”¨ cases æ˜¯ä¸ºäº†æé«˜æ•ˆç‡ï¼šä¾‹å¦‚ï¼Œæˆ‘ä»¬å…ˆåŒ¹é…æ ‡è¯†ç¬¦ï¼Œç„¶åæ£€æŸ¥è¯¥æ ‡è¯†ç¬¦æ˜¯å¦å¯èƒ½æ˜¯å…³é”®å­—æˆ–å†…ç½®å‡½æ•°ï¼š</li>
<li>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-regexp">/[a-z_$][a-zA-Z0-9_$]*/</span>,
  { <span class="hljs-attr">cases</span>: {
      <span class="hljs-string">'@typeKeywords'</span>: <span class="hljs-string">'keyword.type'</span>,
      <span class="hljs-string">'@keywords'</span>: <span class="hljs-string">'keyword'</span>,
      <span class="hljs-string">'@default'</span>: <span class="hljs-string">'identifier'</span>
   } }
]
</code></pre>
</li>
</ul>
</li>
</ul>
<p>Â Â å®ˆå«æ¡ä»¶å¯ä»¥åŒ…æ‹¬ï¼š</p>
<p>Â Â <code>"@keywords"</code></p>
<p>Â Â Â Â keywords å±æ€§å¿…é¡»åœ¨è¯­è¨€å¯¹è±¡ä¸­å®šä¹‰ï¼Œå¹¶ä¸”ç”±å­—ç¬¦ä¸²æ•°ç»„ç»„æˆã€‚å¦‚æœåŒ¹é…åˆ°çš„è¾“å…¥ä¸è¯¥æ•°ç»„ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ˆå«æ¡ä»¶å°±ä¼šæˆåŠŸã€‚ï¼ˆæ³¨æ„ï¼šæ‰€æœ‰æƒ…å†µéƒ½ä¼šé¢„å…ˆç¼–è¯‘ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨é«˜æ•ˆçš„å“ˆå¸Œæ˜ å°„æ¥æµ‹è¯•è¯¥åˆ—è¡¨ï¼‰ã€‚é«˜çº§ç”¨æ³•ï¼šå¦‚æœè¯¥å±æ€§æŒ‡å‘å•ä¸ªå­—ç¬¦ä¸²ï¼ˆè€Œéæ•°ç»„ï¼‰ï¼Œå®ƒä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºæµ‹è¯•åŒ¹é…åˆ°çš„è¾“å…¥ã€‚</p>
<p>Â Â <code>"@default"</code></p>
<p>Â Â Â Â ï¼ˆæˆ–"@"æˆ–""ï¼‰é»˜è®¤çš„å®ˆå«æ¡ä»¶ï¼Œå§‹ç»ˆä¼šæˆåŠŸã€‚</p>
<p>Â Â <code>"@eos"</code></p>
<p>Â Â Â Â å¦‚æœåŒ¹é…åˆ°çš„è¾“å…¥å·²åˆ°è¾¾è¡Œå°¾ï¼Œåˆ™æˆåŠŸã€‚</p>
<p>Â Â <code>"regex"</code></p>
<p>Â Â Â Â å¦‚æœå®ˆå«æ¡ä»¶ä¸æ˜¯ä»¥@ï¼ˆæˆ–$ï¼‰å­—ç¬¦å¼€å¤´ï¼Œåˆ™ä¼šè¢«è§£é‡Šä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºæµ‹è¯•åŒ¹é…åˆ°çš„è¾“å…¥ã€‚æ³¨æ„ï¼šè¯¥æ­£åˆ™è¡¨è¾¾å¼ä¼šè¢«åŠ ä¸Šå‰ç¼€^å’Œåç¼€$ï¼Œå› æ­¤å®ƒå¿…é¡»ä¸åŒ¹é…åˆ°çš„è¾“å…¥å®Œå…¨åŒ¹é…ã€‚è¿™å¯ç”¨äºæµ‹è¯•ç‰¹å®šçš„è¾“å…¥ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æ¥è‡ªKokaè¯­è¨€çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒä½¿ç”¨è¿™ä¸€ç‰¹æ€§æ ¹æ®å£°æ˜è¿›å…¥ä¸åŒçš„åˆ†è¯å™¨çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-regexp">/[a-z](\w|-[a-zA-Z])*/</span>,
  { <span class="hljs-attr">cases</span>:{ <span class="hljs-string">'@keywords'</span>: {
               <span class="hljs-attr">cases</span>: { <span class="hljs-string">'alias'</span>              : { <span class="hljs-attr">token</span>: <span class="hljs-string">'keyword'</span>, <span class="hljs-attr">next</span>: <span class="hljs-string">'@alias-type'</span> }
                      , <span class="hljs-string">'struct'</span>             : { <span class="hljs-attr">token</span>: <span class="hljs-string">'keyword'</span>, <span class="hljs-attr">next</span>: <span class="hljs-string">'@struct-type'</span> }
                      , <span class="hljs-string">'type|cotype|rectype'</span>: { <span class="hljs-attr">token</span>: <span class="hljs-string">'keyword'</span>, <span class="hljs-attr">next</span>: <span class="hljs-string">'@type'</span> }
                      , <span class="hljs-string">'module|as|import'</span>   : { <span class="hljs-attr">token</span>: <span class="hljs-string">'keyword'</span>, <span class="hljs-attr">next</span>: <span class="hljs-string">'@module'</span> }
                      , <span class="hljs-string">'@default'</span>           : <span class="hljs-string">'keyword'</span> }
            }
          , <span class="hljs-string">'@builtins'</span>: <span class="hljs-string">'predefined'</span>
          , <span class="hljs-string">'@default'</span> : <span class="hljs-string">'identifier'</span> }
  }
]
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueå˜åŒ–å“åº”]]></title>    <link>https://juejin.cn/post/7592531796039794722</link>    <guid>https://juejin.cn/post/7592531796039794722</guid>    <pubDate>2026-01-07T13:45:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796039794722" data-draft-id="7592276645361991680" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueå˜åŒ–å“åº”"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T13:45:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ ‘å±±èŒ¶"/> <meta itemprop="url" content="https://juejin.cn/user/3200024337714491"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueå˜åŒ–å“åº”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3200024337714491/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ ‘å±±èŒ¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:45:59.000Z" title="Wed Jan 07 2026 13:45:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å“åº”å¼ä¾¦æµ‹</h2>
<h3 data-id="heading-1">1. å¯¹è±¡ä¾¦æµ‹</h3>
<h4 data-id="heading-2">Vue2 å®ç°æ–¹å¼</h4>
<p>Vue2 ä½¿ç”¨Â <code>Object.defineProperty</code>Â æ¥æ£€æµ‹å¯¹è±¡çš„å˜åŒ–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> car = {}
<span class="hljs-keyword">let</span> val = <span class="hljs-number">3000</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(car, <span class="hljs-string">'price'</span>, {
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'priceå±æ€§è¢«è¯»å–äº†'</span>)
    <span class="hljs-keyword">return</span> val
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">newVal</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'priceå±æ€§è¢«ä¿®æ”¹äº†'</span>)
    val = newVal
  }
})
</code></pre>
<p>Vue2 é€šè¿‡é€’å½’çš„Â <code>Observer</code>Â å°†å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§è½¬æ¢ä¸ºå¯è§‚æµ‹å¯¹è±¡<br/>
åœ¨ getter ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨ setter ä¸­é€šçŸ¥ä¾èµ–æ›´æ–°</p>
<p><strong>ä¾èµ–</strong>ï¼šæ•°æ®å˜åŒ–çš„æ—¶å€™ä¼šå»é€šçŸ¥è§†å›¾ï¼Œä½†æ˜¯ä¸èƒ½å…¨å±€å»é€šçŸ¥ï¼Œæ‰€ä»¥è¦æ”¶é›†è°ä½¿ç”¨äº†è¿™ä¸ªæ•°æ®ï¼Œè¿™ä¸ªè°ï¼Œå°±æ˜¯ä¾èµ–</p>
<p>åœ¨vueä¸­ï¼Œè°å¾—åˆ°æ•°æ®è°å°±æ˜¯ä¾èµ–ï¼Œä¼šç»™è°åˆ›å»ºä¸€ä¸ªWaterå®ä¾‹ï¼Œç”¨è¿™ä¸ªå®ä¾‹æ¥ä»£è¡¨ä¾èµ–ï¼Œç”±Waterå»é€šçŸ¥çœŸæ­£çš„ä¾èµ–ï¼Œä¸Šæ–¹é‚£ä¸ªupdateå°±æ˜¯Waterçš„ä¸œè¥¿</p>
<p>vueåœ¨getteré‡Œé¢æ”¶é›†ä¾èµ–ï¼Œåœ¨setteré‡Œé¢é€šçŸ¥ä¾èµ–å»è¿›è¡Œæ›´æ–°<br/>
vueä¸ºæ¯ä¸ªæ•°æ®éƒ½å»ºç«‹äº†ä¸€ä¸ªä¾èµ–ç®¡ç†å™¨ï¼ŒæŠŠè¿™ä¸ªæ•°æ®çš„æ‰€æœ‰ä¾èµ–éƒ½ç®¡ç†èµ·æ¥</p>
<p><strong>ä¾èµ–ç®¡ç†å™¨å®ç°ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¾èµ–ç®¡ç†å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dep</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span> = []
  }
  
  <span class="hljs-title function_">addSub</span>(<span class="hljs-params">sub</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">push</span>(sub)
  }
  
  <span class="hljs-title function_">removeSub</span>(<span class="hljs-params">sub</span>) {
    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">indexOf</span>(sub)
    <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>)
    }
  }
  
  <span class="hljs-title function_">depend</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">target</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addSub</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">target</span>)
    }
  }
  
  <span class="hljs-title function_">notify</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> subs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">slice</span>()
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, l = subs.<span class="hljs-property">length</span>; i &lt; l; i++) {
      subs[i].<span class="hljs-title function_">update</span>() <span class="hljs-comment">// é€šçŸ¥ä¾èµ–æ›´æ–°</span>
    }
  }
}
</code></pre>
<p><strong>æµç¨‹ï¼š</strong></p>
<p>æ•°æ®é€šè¿‡ç›‘å¬å™¨è½¬æ¢æˆæ‹¥æœ‰ getter å’Œ setter çš„å½¢å¼<br/>
å¤–ç•Œé€šè¿‡ Watcher è¯»å–æ•°æ®ï¼Œè§¦å‘ getter å°† Watcher æ·»åŠ åˆ°ä¾èµ–æ•°ç»„<br/>
æ•°æ®å˜åŒ–æ—¶ï¼Œsetter è°ƒç”¨ Watcherï¼ˆä¾èµ–ï¼‰å‘é€é€šçŸ¥<br/>
Watcher æœ€ç»ˆé€šçŸ¥å¤–ç•Œï¼Œå¼•å‘è§†å›¾æ›´æ–°æˆ–å…¶ä»–æ“ä½œ</p>
<h4 data-id="heading-3">Vue3 å®ç°æ–¹å¼</h4>
<p>Vue3 ä½¿ç”¨Â <code>Proxy</code>Â æ¥æ£€æµ‹å˜åŒ–ã€‚</p>
<ul>
<li>å¯ä»¥ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡ï¼Œæ— éœ€é€’å½’éå†</li>
<li>å¯ä»¥ç›‘å¬æ–°å¢å’Œåˆ é™¤çš„å±æ€§</li>
<li>æ€§èƒ½æ›´å¥½</li>
</ul>
<h3 data-id="heading-4">2. æ•°ç»„ä¾¦æµ‹</h3>
<h4 data-id="heading-5">Vue2 å®ç°æ–¹å¼</h4>
<p>æ•°ç»„æ— æ³•ç›´æ¥ä½¿ç”¨Â <code>Object.defineProperty</code>Â è¿›è¡Œä¾¦æµ‹ã€‚</p>
<ol>
<li>å°è£…æ•°ç»„çš„åŸç”Ÿæ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿè¢«ä¾¦æµ‹</li>
<li>ä½¿ç”¨å˜å¼‚æ–¹æ³•ï¼ˆmutator methodsï¼‰æ¥è§¦å‘æ›´æ–°</li>
</ol>
<p><code>Array</code>åŸå‹ä¸­å¯ä»¥æ”¹å˜æ•°ç»„è‡ªèº«å†…å®¹çš„æ–¹æ³•æœ‰7ä¸ªï¼Œåˆ†åˆ«æ˜¯<code>push</code>,<code>pop</code>,<code>shift</code>,<code>unshift</code>,<code>splice</code>,<code>sort</code>,<code>reverse</code></p>
<p><strong>å®ç°åŸç†ï¼š</strong></p>
<ul>
<li>åˆ›å»ºç»§æ‰¿è‡ªÂ <code>Array.prototype</code>Â çš„æ–°å¯¹è±¡</li>
<li>é‡å†™ä¸Šè¿°7ä¸ªæ–¹æ³•ï¼Œåœ¨è°ƒç”¨åŸç”Ÿæ–¹æ³•åæ‰‹åŠ¨è§¦å‘æ›´æ–°é€šçŸ¥</li>
<li>æ•°ç»„ä¾ç„¶ä½¿ç”¨ getter æ”¶é›†ä¾èµ–ï¼Œä½†é€šè¿‡å°è£…çš„æ•°ç»„æ–¹æ³•æ„ŸçŸ¥å˜åŒ–</li>
</ul>
<p>ä¸è¶³çš„åœ°æ–¹åœ¨äºï¼Œé€šè¿‡ä¸‹æ ‡æ“ä½œçš„æ—¶å€™ï¼Œvueæ— æ³•ç›‘å¬åˆ°ï¼Œæ‰€ä»¥vueæä¾›äº†Vue.setå’ŒVue.deleteè¿™å‡ ä¸ªæ–¹æ³•</p>
<h4 data-id="heading-6">Vue3 å®ç°æ–¹å¼</h4>
<p>Vue3 ä½¿ç”¨Â <code>Proxy</code>Â å¯ä»¥ç›‘å¬åˆ°æ•°ç»„çš„æ‰€æœ‰å˜åŒ–ã€‚</p>
<ul>
<li>å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„ä¸‹æ ‡æ“ä½œ</li>
<li>å¯ä»¥ç›‘å¬æ•°ç»„é•¿åº¦çš„å˜åŒ–</li>
<li>æ— éœ€ç‰¹æ®Šå¤„ç†æ•°ç»„æ–¹æ³•</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(array, {
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value, receiver</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°ç»„çš„<span class="hljs-subst">${property}</span>å±æ€§è¢«ä¿®æ”¹ä¸º<span class="hljs-subst">${value}</span>`</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value, receiver)
  }
})
</code></pre>
<h3 data-id="heading-7">æ€»ç»“å¯¹æ¯”</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Vue2 (Object.defineProperty)</th><th>Vue3 (Proxy)</th></tr></thead><tbody><tr><td>å¯¹è±¡ç›‘å¬</td><td>éœ€è¦é€’å½’éå†å¯¹è±¡å±æ€§</td><td>ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡</td></tr><tr><td>æ–°å¢å±æ€§</td><td>æ— æ³•è‡ªåŠ¨ä¾¦æµ‹ï¼Œéœ€è¦Vue.set</td><td>è‡ªåŠ¨ä¾¦æµ‹</td></tr><tr><td>åˆ é™¤å±æ€§</td><td>æ— æ³•è‡ªåŠ¨ä¾¦æµ‹ï¼Œéœ€è¦Vue.delete</td><td>è‡ªåŠ¨ä¾¦æµ‹</td></tr><tr><td>æ•°ç»„ç›‘å¬</td><td>é‡å†™7ä¸ªæ•°ç»„æ–¹æ³•</td><td>ç›´æ¥ç›‘å¬æ‰€æœ‰å˜åŒ–</td></tr><tr><td>æ•°ç»„ä¸‹æ ‡æ“ä½œ</td><td>æ— æ³•ä¾¦æµ‹</td><td>å¯ä»¥ä¾¦æµ‹</td></tr><tr><td>æ€§èƒ½</td><td>é€’å½’åˆå§‹åŒ–æˆæœ¬é«˜</td><td>æƒ°æ€§ç›‘å¬ï¼Œæ€§èƒ½æ›´å¥½</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[visactor vTable åœ¨ç§»åŠ¨ç«¯æ”¯æŒ ellipsis æ°”æ³¡]]></title>    <link>https://juejin.cn/post/7592438587389804582</link>    <guid>https://juejin.cn/post/7592438587389804582</guid>    <pubDate>2026-01-07T14:11:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587389804582" data-draft-id="7592455394062286886" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="visactor vTable åœ¨ç§»åŠ¨ç«¯æ”¯æŒ ellipsis æ°”æ³¡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T14:11:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pimkle"/> <meta itemprop="url" content="https://juejin.cn/user/4177799914731624"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            visactor vTable åœ¨ç§»åŠ¨ç«¯æ”¯æŒ ellipsis æ°”æ³¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4177799914731624/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pimkle
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:11:21.000Z" title="Wed Jan 07 2026 14:11:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‰è¨€ï¼š</p>
<p>ä¸ºäº†ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</p>
<p>VTable å†…éƒ¨åœ¨ç§»åŠ¨ç«¯æ•…æ„å±è”½äº†çœç•¥å·æ°”æ³¡çš„å±•ç¤º</p>
<p>æœ¬æ–‡æ—¨åœ¨æä¾›ç›¸å¯¹ä½“éªŒè¾ƒå¥½çš„ç§»åŠ¨ç«¯çš„ ellipsis æ°”æ³¡å±•ç¤ºå®Œæ•´ä¿¡æ¯çš„è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<h2 data-id="heading-0">1. é…ç½®å¥½ refï¼Œä»¥ä¾›å¼•ç”¨</h2>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">VTable</span>
      <span class="hljs-attr">:id</span>=<span class="hljs-string">"uid"</span>
      <span class="hljs-attr">ref</span>=<span class="hljs-string">"tableRef"</span>
      <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span>
    /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">const</span> tableRef = <span class="hljs-title function_">ref</span>();
</code></pre>
<h2 data-id="heading-1">2. åˆ¤æ–­å½“å‰ cell æ˜¯å¦æ˜¯æº¢å‡ºçš„</h2>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isCellTextOverflow</span>(<span class="hljs-params">tableInstance: <span class="hljs-built_in">any</span>, col: <span class="hljs-built_in">number</span>, row: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-comment">// getCellOverflowText è¿”å›éç©ºå­—ç¬¦ä¸²è¯´æ˜æœ‰æº¢å‡º</span>
  <span class="hljs-keyword">const</span> overflowText = tableInstance.<span class="hljs-title function_">getCellOverflowText</span>(col, row);
  <span class="hljs-keyword">return</span> !!overflowText;
}
</code></pre>
<h2 data-id="heading-2">3. å±•ç¤ºæ°”æ³¡</h2>
<p>æœ‰ 2 ç§æ–¹æ¡ˆï¼Œä¼˜ç¼ºç‚¹æ¯”è¾ƒå¦‚ä¸‹è¡¨ï¼š</p>




















<table><thead><tr><th>æ°”æ³¡æ–¹æ¡ˆ</th><th>VTable åŸç”Ÿæ°”æ³¡</th><th>è‡ªå®šä¹‰æ°”æ³¡</th></tr></thead><tbody><tr><td>ä¼˜ç‚¹</td><td>é…ç½®ç®€å• <br/> å‡ºç°çš„ä½ç½®ä¸éœ€è¦å¤§é‡è®¡ç®—</td><td>é•¿çš„å¥½çœ‹ <br/> ç”¨æˆ·æ“ä½œçµæ´» ç‚¹å‡»æ»šåŠ¨ç­‰å°±ä¼šåŠæ—¶æ¶ˆå¤±</td></tr><tr><td>ç¼ºç‚¹</td><td>æ ·å¼ä¸‘ <br/> ç”¨æˆ·æ“ä½œä¸çµæ´»ï¼Œä¸ä¼šåŠæ—¶æ¶ˆå¤±</td><td>é…ç½®ç¹ç</td></tr></tbody></table>
<h3 data-id="heading-3">3.1 VTable åŸç”Ÿæ°”æ³¡</h3>
<h4 data-id="heading-4">3.1.1 å¼€å¯ tooltip å¼€å…³</h4>
<p>å¦‚æœå¯ä»¥åœ¨åˆå§‹åŒ–é…ç½® <code>VTable</code> çš„ <code>config</code> çš„è¯
ç›´æ¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒæŠŠ <code>config.tootip.isShowOverflowTextTooltip</code> é…ç½®ä¸º <code>true</code> å³å¯ã€‚</p>
<p>å¦‚æœå¼€å‘æ²¡æœ‰é…ç½® <code>VTable</code> <code>config</code> çš„åˆå§‹åŒ–æƒé™çš„è¯ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>VTable</code> åˆå§‹åŒ–å¥½åï¼Œé€šè¿‡ <code>updateOption</code> æ¥æ›´æ–°é…ç½®ï¼Œæ³¨æ„ä¸è¦è¦†ç›–æ‰åŸç”Ÿçš„å…¶ä»–é…ç½®é¡¹ã€‚</p>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">const</span> tableInstance = tableRef.<span class="hljs-property">value</span>?.<span class="hljs-property">table</span>;
tableInstance.<span class="hljs-title function_">updateOption</span>({
    ...tableInstance.<span class="hljs-property">options</span>,
    <span class="hljs-attr">tooltip</span>: {
      ...tableInstance.<span class="hljs-property">options</span>.<span class="hljs-property">tooltip</span>,
      <span class="hljs-attr">isShowOverflowTextTooltip</span>: <span class="hljs-literal">true</span>,
    }
});
</code></pre>
<h4 data-id="heading-5">3.1.2 ç›‘å¬ç”¨æˆ·çš„ç‚¹å‡»äº‹ä»¶å±•ç¤º tooltip</h4>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">TABLE_EVENT_TYPE</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@visactor/vtable'</span>;

tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">TABLE_EVENT_TYPE</span>.<span class="hljs-property">CLICK_CELL</span>, <span class="hljs-function">(<span class="hljs-params">args: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> isOverflow = <span class="hljs-title function_">isCellTextOverflow</span>(tableInstance, col, row);
    <span class="hljs-keyword">if</span> (!isOverflow) {
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// è°ƒç”¨å†…éƒ¨ TooltipHandler æ‰‹åŠ¨æ˜¾ç¤ºæ°”æ³¡</span>
      <span class="hljs-comment">// æ³¨æ„ï¼šinternalProps æ˜¯å†…éƒ¨å±æ€§ï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ TypeScript ç±»å‹å…¼å®¹ï¼ˆå¦‚éœ€ï¼‰</span>
      tableInstance.<span class="hljs-property">internalProps</span>.<span class="hljs-property">tooltipHandler</span>.<span class="hljs-title function_">showTooltip</span>(col, row);
    }, <span class="hljs-number">10</span>);
});
</code></pre>
<p>ç‚¹å‡»æœ‰æº¢å‡ºçš„ cellï¼Œå°±ä¼šåœ¨ cell é™„è¿‘å±•ç¤ºå‡ºæ¥çš„ VTable åŸç”Ÿçš„æ°”æ³¡äº†ï¼Œé•¿å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸‘çš„ï¼Œå¦‚æœè¦ç”¨çš„è¯ï¼Œå»ºè®®åœ¨ <code>VTable</code> çš„ <code>option</code> é‡ŒåŠ ç‚¹æ ·å¼çš„é…ç½®ã€‚</p>
<p>å¦å¤–è¿™ä¸ªæ°”æ³¡çš„æ¶ˆå¤±é€»è¾‘æ˜¯ <code>VTable</code> åŸç”Ÿè‡ªå·±æ§åˆ¶çš„ï¼Œçµæ•åº¦ä¹Ÿè¾ƒä¸€èˆ¬ï¼Œä¸ä¼šåŠæ—¶æ¶ˆå¤±ï¼Œæœ‰ç²¾åŠ›ä¹Ÿå¯ç”»æ—¶é—´ç›‘å¬ä¼˜åŒ–ï¼Œè°ƒç”¨ <code>VTable</code> åŸç”Ÿå‡½æ•°çš„éšè—æ–¹æ³•ã€‚</p>
<h3 data-id="heading-6">3.2 è‡ªå®šä¹‰ DIV å±•ç¤º tooltip</h3>
<h4 data-id="heading-7">3.2.1 å†™ä¸ªè‡ªå®šä¹‰çš„ div</h4>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"tooltipTxt"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ left, top }"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-popup"</span>&gt;</span>
  {{ tooltipTxt }}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">const</span> tooltipTxt = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> left = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'0px'</span>);
<span class="hljs-keyword">const</span> top = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'0px'</span>);
</code></pre>
<p>é…ä¸ªå¥½çœ‹ç‚¹çš„æ°”æ³¡æ ·å¼</p>
<pre><code class="hljs language-SCSS" lang="SCSS"><span class="hljs-selector-class">.custom-popup</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.65</span>);
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">8px</span>;
  &amp;<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-comment">/* è¾¹æ¡†å®½åº¦ï¼šä¸Š4px | å³4px | ä¸‹4px | å·¦0ï¼ˆä»…å³è¾¹æ¡†æœ‰å®½åº¦ï¼‰ */</span>
    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">4px</span> <span class="hljs-number">4px</span> <span class="hljs-number">4px</span> <span class="hljs-number">0</span>;
    <span class="hljs-attribute">border-style</span>: solid;
    <span class="hljs-comment">/* è¾¹æ¡†é¢œè‰²ï¼šä¸Šé€æ˜ | å³ç°è‰² | ä¸‹é€æ˜ | å·¦é€æ˜ï¼ˆä»…å³è¾¹æ¡†æ˜¾ç¤ºï¼‰ */</span>
    <span class="hljs-attribute">border-color</span>: transparent <span class="hljs-number">#333</span> transparent transparent;
    <span class="hljs-comment">/* æ¶ˆé™¤é»˜è®¤ç©ºç™½ï¼ˆé¿å…å­—ä½“/è¡Œé«˜å¯¼è‡´çš„é—´éš™ï¼‰ */</span>
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: -<span class="hljs-number">6px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">margin</span>: auto;
    <span class="hljs-attribute">position</span>: absolute;
  }
}
</code></pre>
<h4 data-id="heading-8">3.2.2 ç›‘å¬å¹¶ä¸”å±•ç¤ºè‡ªå®šä¹‰æ°”æ³¡</h4>
<pre><code class="hljs language-Typescript" lang="Typescript">tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-string">'click_cell'</span>, <span class="hljs-function">(<span class="hljs-params">args: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
    <span class="hljs-comment">// å…ˆæŠŠæ—§çš„æ°”æ³¡å¹²æ‰</span>
    tooltipTxt.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;

    <span class="hljs-keyword">const</span> { col, row, value } = args;

    <span class="hljs-comment">// è¿‡æ»¤éæ•°æ®è¡Œ</span>
    <span class="hljs-keyword">if</span> (col &lt; <span class="hljs-number">0</span> || row &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æº¢å‡º</span>
    <span class="hljs-keyword">const</span> isOverflow = <span class="hljs-title function_">isCellTextOverflow</span>(tableInstance, col, row, value);

    <span class="hljs-keyword">if</span> (!isOverflow) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// 1. è·å–åˆ—å®½</span>
    <span class="hljs-keyword">const</span> colWidth = tableInstance.<span class="hljs-title function_">getColWidth</span>(col);
    <span class="hljs-comment">// 1. è·å–åˆ—é«˜</span>
    <span class="hljs-keyword">const</span> colHeight = tableInstance.<span class="hljs-title function_">getRowHeight</span>(col);

    <span class="hljs-keyword">const</span> { offsetX, offsetY } = args.<span class="hljs-property">event</span>;
    left.<span class="hljs-property">value</span> = offsetX - colWidth * <span class="hljs-number">0.2</span> + <span class="hljs-string">'px'</span>;
    top.<span class="hljs-property">value</span> = offsetY - colHeight / <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>;
    tooltipTxt.<span class="hljs-property">value</span> = value;
});
</code></pre>
<h4 data-id="heading-9">3.2.3 ç›‘å¬ç‚¹å‡»/æ»šåŠ¨äº‹ä»¶ éšè—æ°”æ³¡</h4>
<pre><code class="hljs language-Typescript" lang="Typescript"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">TABLE_EVENT_TYPE</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@visactor/vtable'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">hideTooltip</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (tooltipTxt.<span class="hljs-property">value</span>) {
    tooltipTxt.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  }
};

<span class="hljs-keyword">const</span> tableInstance = tableRef.<span class="hljs-property">value</span>?.<span class="hljs-property">table</span>;<span class="hljs-keyword">const</span> tableInstance = tableRef.<span class="hljs-property">value</span>?.<span class="hljs-property">table</span>;

tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">TABLE_EVENT_TYPE</span>.<span class="hljs-property">SCROLL</span>, hideTooltip);
tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">TABLE_EVENT_TYPE</span>.<span class="hljs-property">RESIZE_COLUMN</span>, hideTooltip);
<span class="hljs-comment">// ç›‘å¬æ ‘å½¢ç»“æ„å˜åŒ–ï¼ˆå±•å¼€/æŠ˜å è§¦å‘æ—¶ä¹Ÿå¼ºåˆ¶å…³æ‰ï¼ŒåŒé‡ä¿é™©ï¼‰</span>
tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">TABLE_EVENT_TYPE</span>.<span class="hljs-property">TREE_HIERARCHY_STATE_CHANGE</span>, hideTooltip);
<span class="hljs-comment">// å¦‚æœä½ ç”¨äº†è‡ªåŠ¨é«˜åº¦çš„æ–¹æ¡ˆï¼Œå»ºè®®ä¹Ÿç›‘å¬ UPDATED</span>
tableInstance.<span class="hljs-title function_">on</span>(<span class="hljs-variable constant_">TABLE_EVENT_TYPE</span>.<span class="hljs-property">UPDATED</span>, hideTooltip);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, hideTooltip, <span class="hljs-literal">true</span>);
});

<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, hideTooltip, <span class="hljs-literal">true</span>);
});
</code></pre>
<h2 data-id="heading-10">4. æ€»ç»“</h2>
<p>æä¾›çš„ä¸¤ä¸ªè§£å†³æ€è·¯æ€§èƒ½æ¶ˆè€—éƒ½ä¸å¤§ï¼Œéƒ½å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[substringå’Œsubstræœ‰ä»€ä¹ˆåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7592531796039942178</link>    <guid>https://juejin.cn/post/7592531796039942178</guid>    <pubDate>2026-01-07T14:53:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796039942178" data-draft-id="7592531796039909410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="substringå’Œsubstræœ‰ä»€ä¹ˆåŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T14:53:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            substringå’Œsubstræœ‰ä»€ä¹ˆåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:53:09.000Z" title="Wed Jan 07 2026 14:53:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>substring()</code>Â å’ŒÂ <code>substr()</code>Â éƒ½æ˜¯ç”¨äºæˆªå–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬åœ¨å‚æ•°å«ä¹‰å’Œè¡Œä¸ºä¸Šæœ‰é‡è¦åŒºåˆ«ã€‚<strong><code>substr()</code>Â ç°å·²åºŸå¼ƒ</strong>ï¼Œä¸å»ºè®®åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-0">ä¸»è¦åŒºåˆ«å¯¹æ¯”è¡¨</h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th><code>substring(start, end)</code></th><th><code>substr(start, length)</code></th></tr></thead><tbody><tr><td><strong>å‚æ•°å«ä¹‰</strong></td><td>start: èµ·å§‹ç´¢å¼• end: ç»“æŸç´¢å¼•</td><td>start: èµ·å§‹ç´¢å¼• length: è¦æˆªå–çš„å­—ç¬¦æ•°</td></tr><tr><td><strong>ç»“æŸå‚æ•°</strong></td><td>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»“æŸç´¢å¼•ï¼ˆä¸åŒ…å«ï¼‰</td><td>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æˆªå–çš„é•¿åº¦</td></tr><tr><td><strong>è´Ÿæ•°å‚æ•°</strong></td><td>å°†è´Ÿæ•°è½¬æ¢ä¸º 0</td><td>è´Ÿæ•° start: ä»å­—ç¬¦ä¸²æœ«å°¾å€’æ•° è´Ÿæ•° length: è¿”å›ç©ºå­—ç¬¦ä¸²</td></tr><tr><td><strong>å‚æ•°é¡ºåº</strong></td><td>å¦‚æœ start &gt; endï¼Œä¼šè‡ªåŠ¨äº¤æ¢å‚æ•°</td><td>ä¸ä¼šäº¤æ¢å‚æ•°</td></tr><tr><td><strong>ECMAScript çŠ¶æ€</strong></td><td><strong>æ¨èä½¿ç”¨</strong></td><td><strong>å·²åºŸå¼ƒ</strong>Â (ä¸æ¨èä½¿ç”¨)</td></tr><tr><td><strong>æ›¿ä»£æ–¹æ¡ˆ</strong></td><td>æœ¬èº«å¯ç”¨</td><td>ä½¿ç”¨Â <code>slice()</code>Â æˆ–Â <code>substring()</code></td></tr></tbody></table>
<h2 data-id="heading-1">è¯¦ç»†è¯´æ˜</h2>
<h3 data-id="heading-2"><code>substring(startIndex, endIndex)</code></h3>
<ul>
<li><strong>å‚æ•°</strong>ï¼š
<ul>
<li><code>startIndex</code>ï¼šå¿…éœ€ï¼Œèµ·å§‹ä½ç½®ï¼ˆåŒ…å«ï¼‰</li>
<li><code>endIndex</code>ï¼šå¯é€‰ï¼Œç»“æŸä½ç½®ï¼ˆä¸åŒ…å«ï¼‰</li>
</ul>
</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>å¦‚æœçœç•¥Â <code>endIndex</code>ï¼Œåˆ™æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾</li>
<li>å¦‚æœä»»ä¸€å‚æ•°ä¸ºè´Ÿæ•°ï¼Œä¼šè¢«å½“ä½œ 0 å¤„ç†</li>
<li>å¦‚æœÂ <code>startIndex &gt; endIndex</code>ï¼Œä¼šè‡ªåŠ¨äº¤æ¢ä¸¤ä¸ªå‚æ•°</li>
<li>å¦‚æœå‚æ•°æ˜¯Â <code>NaN</code>ï¼Œä¼šè¢«å½“ä½œ 0</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">"Hello World"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>));      <span class="hljs-comment">// "World"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>, <span class="hljs-number">11</span>));  <span class="hljs-comment">// "World"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>, <span class="hljs-number">7</span>));   <span class="hljs-comment">// "W"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>));   <span class="hljs-comment">// "Hel" (å‚æ•°è‡ªåŠ¨äº¤æ¢)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(-<span class="hljs-number">3</span>));     <span class="hljs-comment">// "Hello World" (è´Ÿæ•°å˜0)</span>
</code></pre>
<h3 data-id="heading-3"><code>substr(startIndex, length)</code>Â âŒï¼ˆå·²åºŸå¼ƒï¼‰</h3>
<ul>
<li><strong>å‚æ•°</strong>ï¼š
<ul>
<li><code>startIndex</code>ï¼šå¿…éœ€ï¼Œèµ·å§‹ä½ç½®</li>
<li><code>length</code>ï¼šå¯é€‰ï¼Œè¦æˆªå–çš„å­—ç¬¦æ•°</li>
</ul>
</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š
<ul>
<li><code>startIndex</code>Â å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºä»å­—ç¬¦ä¸²æœ«å°¾å€’æ•°</li>
<li>å¦‚æœÂ <code>length</code>Â ä¸º 0 æˆ–è´Ÿæ•°ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²</li>
<li>å¦‚æœçœç•¥Â <code>length</code>ï¼Œåˆ™æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">"Hello World"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">6</span>));       <span class="hljs-comment">// "World"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">6</span>, <span class="hljs-number">5</span>));    <span class="hljs-comment">// "World"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">6</span>, <span class="hljs-number">1</span>));    <span class="hljs-comment">// "W"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(-<span class="hljs-number">3</span>));      <span class="hljs-comment">// "rld" (ä»å€’æ•°ç¬¬3ä¸ªå¼€å§‹)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(-<span class="hljs-number">5</span>, <span class="hljs-number">2</span>));   <span class="hljs-comment">// "Wo"</span>
</code></pre>
<h2 data-id="heading-4">ç°ä»£æ›¿ä»£æ–¹æ¡ˆï¼š<code>slice()</code></h2>
<p>ç”±äºÂ <code>substr()</code>Â å·²åºŸå¼ƒï¼Œ<strong>æ¨èä½¿ç”¨Â <code>slice()</code>Â ä½œä¸ºæ›¿ä»£</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">"Hello World"</span>;

<span class="hljs-comment">// åŸºæœ¬ç”¨æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>));       <span class="hljs-comment">// "World"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>, <span class="hljs-number">11</span>));   <span class="hljs-comment">// "World"</span>

<span class="hljs-comment">// æ”¯æŒè´Ÿæ•°ç´¢å¼•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">5</span>));      <span class="hljs-comment">// "World" (æœ€å5ä¸ªå­—ç¬¦)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">6</span>));   <span class="hljs-comment">// "Hello" (ä»å¼€å¤´åˆ°å€’æ•°ç¬¬6ä¸ª)</span>

<span class="hljs-comment">// è´Ÿæ•°å‚æ•°è¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>, -<span class="hljs-number">1</span>));   <span class="hljs-comment">// "Worl" (ä»ç´¢å¼•6åˆ°å€’æ•°ç¬¬1ä¸ª)</span>
</code></pre>
<h2 data-id="heading-5">ä¸‰ç§æ–¹æ³•å¯¹æ¯”</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">"JavaScript"</span>;

<span class="hljs-comment">// æ­£æ•°å‚æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">4</span>, <span class="hljs-number">7</span>));  <span class="hljs-comment">// "Scr" (ç´¢å¼•4åˆ°7)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>));     <span class="hljs-comment">// "Scr" (ä»ç´¢å¼•4å¼€å§‹ï¼Œå–3ä¸ªå­—ç¬¦)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">4</span>, <span class="hljs-number">7</span>));      <span class="hljs-comment">// "Scr" (ç´¢å¼•4åˆ°7)</span>

<span class="hljs-comment">// è´Ÿæ•°å‚æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(-<span class="hljs-number">3</span>));     <span class="hljs-comment">// "JavaScript" (è´Ÿæ•°å˜0)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(-<span class="hljs-number">3</span>));        <span class="hljs-comment">// "ipt" (æœ€å3ä¸ªå­—ç¬¦)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">3</span>));         <span class="hljs-comment">// "ipt" (æœ€å3ä¸ªå­—ç¬¦)</span>

<span class="hljs-comment">// å‚æ•°äº¤æ¢</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">7</span>, <span class="hljs-number">4</span>));   <span class="hljs-comment">// "Scr" (è‡ªåŠ¨äº¤æ¢ä¸º4,7)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">substr</span>(<span class="hljs-number">7</span>, <span class="hljs-number">4</span>));      <span class="hljs-comment">// "ipt" (ä»ç´¢å¼•7å–4ä¸ªï¼Œå®é™…åªæœ‰3ä¸ª)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">slice</span>(<span class="hljs-number">7</span>, <span class="hljs-number">4</span>));       <span class="hljs-comment">// "" (start&gt;endï¼Œè¿”å›ç©º)</span>
</code></pre>
<h2 data-id="heading-6">æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>ä¸å†ä½¿ç”¨Â <code>substr()</code></strong> ï¼Œå› ä¸ºå®ƒæ˜¯å·²åºŸå¼ƒçš„æ—§æ–¹æ³•</li>
<li><strong>æ ¹æ®éœ€æ±‚é€‰æ‹©</strong>ï¼š
<ul>
<li>ä½¿ç”¨Â <code>substring()</code>ï¼šå½“éœ€è¦æ˜ç¡®çš„å¼€å§‹å’Œç»“æŸç´¢å¼•æ—¶</li>
<li>ä½¿ç”¨Â <code>slice()</code>ï¼šå½“éœ€è¦è´Ÿæ•°ç´¢å¼•åŠŸèƒ½æ—¶ï¼Œæˆ–ä½œä¸ºÂ <code>substr()</code>Â çš„æ›¿ä»£</li>
</ul>
</li>
<li><strong>è®°å¿†æŠ€å·§</strong>ï¼š
<ul>
<li><code>substring</code>ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯"åˆ°å“ªé‡Œç»“æŸ"</li>
<li><code>substr</code>ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯"è¦æˆªå–å¤šé•¿"ï¼ˆå·²åºŸå¼ƒï¼‰</li>
<li><code>slice</code>ï¼šç±»ä¼¼äºæ•°ç»„çš„Â <code>slice</code>Â æ–¹æ³•ï¼Œæ”¯æŒè´Ÿæ•°ç´¢å¼•</li>
</ul>
</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼š<strong>è¯·ä½¿ç”¨Â <code>slice()</code>Â æˆ–Â <code>substring()</code>ï¼Œé¿å…ä½¿ç”¨Â <code>substr()</code>ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ Vue æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œä¸èƒ½éšä¾¿ç”¨æ•°ç»„ä¸‹æ ‡å½“ keyï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592501225003909171</link>    <guid>https://juejin.cn/post/7592501225003909171</guid>    <pubDate>2026-01-07T14:57:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592501225003909171" data-draft-id="7592444642278277130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ Vue æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œä¸èƒ½éšä¾¿ç”¨æ•°ç»„ä¸‹æ ‡å½“ keyï¼Ÿ"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-07T14:57:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ Vue æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œä¸èƒ½éšä¾¿ç”¨æ•°ç»„ä¸‹æ ‡å½“ keyï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:57:34.000Z" title="Wed Jan 07 2026 14:57:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>çœ‹ä¼¼ç®€å•çš„åˆ—è¡¨æ¸²æŸ“ï¼ŒèƒŒåéšè—ç€ Vue çš„æ¸²æŸ“ä¼˜åŒ–ç„æœºã€‚</p>
</blockquote>
<p>åœ¨ Vue é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ¸²æŸ“åˆ—è¡¨æ•°æ®ã€‚å¾ˆå¤šäººä¸ºäº†æ–¹ä¾¿ï¼Œéšæ‰‹å°±ç”¨æ•°ç»„ç´¢å¼•ä½œä¸º key å€¼ï¼Œä½†è¿™ç§åšæ³•å¯èƒ½ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚ä»Šå¤©å°±æ¥æ·±å…¥æ¢è®¨ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆ Vue å®˜æ–¹ä¸æ¨èè¿™æ ·åšã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åˆè¯† Vue åˆ—è¡¨æ¸²æŸ“ä¸ key çš„ä½œç”¨</h2>
<h3 data-id="heading-1">1.1 Vue åˆ—è¡¨æ¸²æŸ“åŸºç¡€</h3>
<p>åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Â <code>v-for</code>Â æŒ‡ä»¤æ¥æ¸²æŸ“åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"itemÂ inÂ items"</span>Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
Â Â Â Â Â Â Â Â {{Â item.nameÂ }}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">items</span>:Â [
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">1</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'è‹¹æœ'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">2</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'é¦™è•‰'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">3</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'æ©™å­'</span>Â }
Â Â Â Â Â Â ]
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">1.2 key çš„ç¥ç§˜ä½œç”¨</h3>
<p>key çš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ© VueÂ <strong>è¯†åˆ«èŠ‚ç‚¹çš„èº«ä»½</strong>ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„ DOM æ›´æ–°ã€‚Vue é€šè¿‡ key æ¥åˆ¤æ–­å“ªäº›å…ƒç´ æ˜¯æ–°çš„ã€å“ªäº›æ˜¯æ—§çš„ï¼Œä»¥åŠå…ƒç´ æ˜¯å¦è¢«ç§»åŠ¨è¿‡ã€‚</p>
<p>æ²¡æœ‰ key æ—¶ï¼ŒVue ä¼šé‡‡ç”¨ "å°±åœ°å¤ç”¨" ç­–ç•¥ï¼Œè¿™å¯èƒ½å¯¼è‡´ï¼š</p>
<ul>
<li>â€¢ ä¸å¿…è¦çš„ DOM æ“ä½œ</li>
<li>â€¢ çŠ¶æ€æ··ä¹±ï¼ˆå¦‚è¡¨å•è¾“å…¥å€¼é”™ä¹±ï¼‰</li>
<li>â€¢ æ€§èƒ½ä¸‹é™</li>
</ul>
<h2 data-id="heading-3">äºŒã€ä¸‹æ ‡ä½œä¸º key çš„é—®é¢˜å‰–æ</h2>
<h3 data-id="heading-4">2.1 é—®é¢˜åœºæ™¯å†ç°</h3>
<p>å…ˆçœ‹ä¸€ä¸ªå¸¸è§çš„é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"removeFirstItem"</span>&gt;</span>åˆ é™¤ç¬¬ä¸€é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-comment">&lt;!--Â é”™è¯¯ç¤ºèŒƒï¼šä½¿ç”¨ä¸‹æ ‡ä½œä¸ºÂ keyÂ --&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,Â index)Â inÂ items"</span>Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
Â Â Â Â Â Â Â Â {{Â item.nameÂ }}Â 
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¤‡æ³¨"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">items</span>:Â [
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">1</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'è‹¹æœ'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">2</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'é¦™è•‰'</span>Â },
Â Â Â Â Â Â Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">3</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'æ©™å­'</span>Â }
Â Â Â Â Â Â ]
Â Â Â Â }
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">removeFirstItem</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">shift</span>()Â <span class="hljs-comment">//Â åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span>
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2.2 åˆ é™¤æ“ä½œçš„é—®é¢˜æ¼”ç¤º</h3>
<p>å‡è®¾æˆ‘ä»¬åœ¨ä¸‰ä¸ªè¾“å…¥æ¡†ä¸­åˆ†åˆ«è¾“å…¥ï¼š</p>
<ul>
<li>â€¢ ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ï¼š "æˆ‘å–œæ¬¢è‹¹æœ"</li>
<li>â€¢ ç¬¬äºŒä¸ªè¾“å…¥æ¡†ï¼š "é¦™è•‰å¾ˆç”œ"</li>
<li>â€¢ ç¬¬ä¸‰ä¸ªè¾“å…¥æ¡†ï¼š "æ©™å­å¯Œå«VC"</li>
</ul>
<p>å½“æˆ‘ä»¬ç‚¹å‡»"åˆ é™¤ç¬¬ä¸€é¡¹"æŒ‰é’®åï¼Œä½ æœŸæœ›çœ‹åˆ°çš„æ˜¯ï¼š</p>
<ul>
<li>â€¢ åˆ é™¤"è‹¹æœ"è¿™ä¸€è¡Œï¼Œè¾“å…¥æ¡†å†…å®¹"æˆ‘å–œæ¬¢è‹¹æœ"æ¶ˆå¤±</li>
<li>â€¢ "é¦™è•‰"å’Œ"æ©™å­"ä¿æŒä¸å˜</li>
</ul>
<p>ä½†å®é™…ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<h2 data-id="heading-6">ä¸‰ã€Vue çš„ Diff ç®—æ³•ä¸ key çš„å…³ç³»</h2>
<h3 data-id="heading-7">3.1 Vue çš„è™šæ‹Ÿ DOM Diff ç®—æ³•</h3>
<p>ä¸ºäº†ç†è§£ key çš„é‡è¦æ€§ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ Vue çš„æ›´æ–°æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">æ•°æ®å˜åŒ–é‡æ–°æ¸²æŸ“è™šæ‹ŸDOMæ–°æ—§è™šæ‹ŸDOMå¯¹æ¯” Diffç®—æ³•æ ¹æ®<span class="hljs-keyword">key</span>è¯†åˆ«èŠ‚ç‚¹èŠ‚ç‚¹å¯å¤ç”¨èŠ‚ç‚¹éœ€æ›´æ–°èŠ‚ç‚¹éœ€ç§»åŠ¨æœ€å°åŒ–DOMæ“ä½œ
</code></pre>
<h3 data-id="heading-8">3.2 ä¸‹æ ‡ä½œä¸º key æ—¶çš„ Diff è¿‡ç¨‹</h3>
<p>å½“ä½¿ç”¨ä¸‹æ ‡ä½œä¸º key æ—¶ï¼Œåˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ åçš„å¯¹æ¯”è¿‡ç¨‹ï¼š</p>
<p><strong>åˆ é™¤å‰ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ç´¢å¼•:Â 0Â Â Â Â 1Â Â Â Â 2</span>
<span class="hljs-section">key:Â Â 0Â Â Â Â 1Â Â Â Â 2</span>
<span class="hljs-section">å€¼:Â Â Â è‹¹æœÂ é¦™è•‰Â æ©™å­</span>
<span class="hljs-section">è¾“å…¥:Â æˆ‘å–œæ¬¢è‹¹æœÂ é¦™è•‰å¾ˆç”œÂ æ©™å­å¯Œå«VC</span>
</code></pre>
<p><strong>åˆ é™¤åï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ç´¢å¼•:Â 0Â Â Â Â 1</span>
<span class="hljs-section">key:Â Â 0Â Â Â Â 1</span>
<span class="hljs-section">å€¼:Â Â Â é¦™è•‰Â æ©™å­</span>
<span class="hljs-section">è¾“å…¥:Â ???Â ???</span>
</code></pre>
<p>Vue çš„ Diff ç®—æ³•ä¼šè¿™æ ·æ¯”è¾ƒï¼š</p>
<ol>
<li>
<ol>
<li>key=0 çš„å…ƒç´ ï¼šæ—§å€¼æ˜¯"è‹¹æœ"ï¼Œæ–°å€¼æ˜¯"é¦™è•‰" â†’Â <strong>æ›´æ–°å†…å®¹</strong></li>
</ol>
</li>
<li>
<ol start="2">
<li>key=1 çš„å…ƒç´ ï¼šæ—§å€¼æ˜¯"é¦™è•‰"ï¼Œæ–°å€¼æ˜¯"æ©™å­" â†’Â <strong>æ›´æ–°å†…å®¹</strong></li>
</ol>
</li>
<li>
<ol start="3">
<li>key=2 çš„å…ƒç´ ï¼šæ–°è™šæ‹ŸDOMä¸­ä¸å­˜åœ¨ â†’Â <strong>åˆ é™¤</strong></li>
</ol>
</li>
</ol>
<p>ç»“æœæ˜¯ï¼š</p>
<ul>
<li>â€¢ åŸæœ¬ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†çš„"æˆ‘å–œæ¬¢è‹¹æœ"ä¼šå‡ºç°åœ¨æ–°çš„ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ï¼ˆæ˜¾ç¤º"é¦™è•‰"ï¼‰</li>
<li>â€¢ åŸæœ¬ç¬¬äºŒä¸ªè¾“å…¥æ¡†çš„"é¦™è•‰å¾ˆç”œ"ä¼šå‡ºç°åœ¨æ–°çš„ç¬¬äºŒä¸ªè¾“å…¥æ¡†ï¼ˆæ˜¾ç¤º"æ©™å­"ï¼‰</li>
<li>â€¢ ç”¨æˆ·è¾“å…¥å†…å®¹å’Œæ˜¾ç¤ºçš„æ•°æ®å®Œå…¨é”™ä½ï¼</li>
</ul>
<h3 data-id="heading-9">3.3 æ­£ç¡®ä½¿ç”¨ key çš„ Diff è¿‡ç¨‹</h3>
<p>ä½¿ç”¨å”¯ä¸€ id ä½œä¸º keyï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;liÂ <span class="hljs-attr">v-for</span>=<span class="hljs-string">"itemÂ inÂ items"</span>Â :key=<span class="hljs-string">"item.id"</span>&gt;
</code></pre>
<p><strong>åˆ é™¤å‰ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">key:Â Â 1Â Â Â Â 2Â Â Â Â 3</span>
<span class="hljs-section">å€¼:Â Â Â è‹¹æœÂ é¦™è•‰Â æ©™å­</span>
<span class="hljs-section">è¾“å…¥:Â æˆ‘å–œæ¬¢è‹¹æœÂ é¦™è•‰å¾ˆç”œÂ æ©™å­å¯Œå«VC</span>
</code></pre>
<p><strong>åˆ é™¤åï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">key:Â Â 2Â Â Â Â 3</span>
<span class="hljs-section">å€¼:Â Â Â é¦™è•‰Â æ©™å­</span>
<span class="hljs-section">è¾“å…¥:Â é¦™è•‰å¾ˆç”œÂ æ©™å­å¯Œå«VC</span>
</code></pre>
<p>Vue çš„ Diff ç®—æ³•ï¼š</p>
<ol>
<li>
<ol>
<li>key=1 çš„å…ƒç´ ï¼šæ–°è™šæ‹ŸDOMä¸­ä¸å­˜åœ¨ â†’Â <strong>åˆ é™¤</strong></li>
</ol>
</li>
<li>
<ol start="2">
<li>key=2 çš„å…ƒç´ ï¼šæ–°æ—§éƒ½å­˜åœ¨ï¼Œå†…å®¹éƒ½æ˜¯"é¦™è•‰" â†’Â <strong>å¤ç”¨èŠ‚ç‚¹</strong></li>
</ol>
</li>
<li>
<ol start="3">
<li>key=3 çš„å…ƒç´ ï¼šæ–°æ—§éƒ½å­˜åœ¨ï¼Œå†…å®¹éƒ½æ˜¯"æ©™å­" â†’Â <strong>å¤ç”¨èŠ‚ç‚¹</strong></li>
</ol>
</li>
</ol>
<p>å®Œç¾åŒ¹é…ï¼ç”¨æˆ·è¾“å…¥çŠ¶æ€å¾—åˆ°ä¿ç•™ã€‚</p>
<h2 data-id="heading-10">å››ã€å„ç§æ“ä½œåœºæ™¯åˆ†æ</h2>
<h3 data-id="heading-11">4.1 æ•°ç»„æ“ä½œçš„å…¨é¢åˆ†æ</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä»£ç æ¼”ç¤ºä¸åŒæ“ä½œçš„å½±å“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â æµ‹è¯•å„ç§æ•°ç»„æ“ä½œ</span>
<span class="hljs-attr">methods</span>:Â {
Â Â <span class="hljs-comment">//Â 1.Â å¤´éƒ¨æ·»åŠ å…ƒç´ </span>
Â Â <span class="hljs-title function_">addToHead</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">unshift</span>({Â 
Â Â Â Â Â Â <span class="hljs-attr">id</span>:Â <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),Â 
Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'æ–°æ°´æœ'</span>Â 
Â Â Â Â })
Â Â },
Â Â 
Â Â <span class="hljs-comment">//Â 2.Â ä¸­é—´æ’å…¥å…ƒç´ </span>
Â Â <span class="hljs-title function_">insertMiddle</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">0</span>,Â {
Â Â Â Â Â Â <span class="hljs-attr">id</span>:Â <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'æ’å…¥çš„æ°´æœ'</span>
Â Â Â Â })
Â Â },
Â Â 
Â Â <span class="hljs-comment">//Â 3.Â æ’åºæ“ä½œ</span>
Â Â <span class="hljs-title function_">sortItems</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a,Â b</span>)Â =&gt;</span>Â a.<span class="hljs-property">name</span>.<span class="hljs-title function_">localeCompare</span>(b.<span class="hljs-property">name</span>))
Â Â },
Â Â 
Â Â <span class="hljs-comment">//Â 4.Â è¿‡æ»¤æ“ä½œ</span>
Â Â <span class="hljs-title function_">filterItems</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>Â =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span>Â =&gt;</span>Â 
Â Â Â Â Â Â item.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'æœ'</span>)
Â Â Â Â )
Â Â },
Â Â 
Â Â <span class="hljs-comment">//Â 5.Â äº¤æ¢ä½ç½®</span>
Â Â <span class="hljs-title function_">swapItems</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>Â &gt;=Â <span class="hljs-number">2</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â [first,Â second]Â =Â [<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>],Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[<span class="hljs-number">1</span>]]
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>,Â <span class="hljs-number">2</span>,Â second,Â first)
Â Â Â Â }
Â Â }
}
</code></pre>
<h3 data-id="heading-12">4.2 æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h3>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¤§å‹åˆ—è¡¨æ¥æµ‹è¯•æ€§èƒ½å·®å¼‚ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"shuffleItems"</span>&gt;</span>éšæœºæ‰“ä¹±<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ“ä½œè€—æ—¶:Â {{Â operationTimeÂ }}ms<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">&lt;!--Â ä½¿ç”¨ä¸‹æ ‡ä½œä¸ºÂ keyÂ --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">v-if</span>=<span class="hljs-string">"useIndexKey"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä½¿ç”¨ä¸‹æ ‡ä½œä¸ºÂ keyÂ ({{Â items.lengthÂ }}Â é¡¹)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,Â index)Â inÂ items"</span>Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â {{Â item.nameÂ }}Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"item.remark"</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">&lt;!--Â ä½¿ç”¨Â idÂ ä½œä¸ºÂ keyÂ --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">v-else</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä½¿ç”¨Â idÂ ä½œä¸ºÂ keyÂ ({{Â items.lengthÂ }}Â é¡¹)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"itemÂ inÂ items"</span>Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â {{Â item.nameÂ }}Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"item.remark"</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">items</span>:Â [],
Â Â Â Â Â Â <span class="hljs-attr">useIndexKey</span>:Â <span class="hljs-literal">true</span>,
Â Â Â Â Â Â <span class="hljs-attr">operationTime</span>:Â <span class="hljs-number">0</span>
Â Â Â Â }
Â Â },
Â Â <span class="hljs-title function_">created</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-comment">//Â ç”ŸæˆÂ 1000Â æ¡æµ‹è¯•æ•°æ®</span>
Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateTestData</span>(<span class="hljs-number">1000</span>)
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">generateTestData</span>(<span class="hljs-params">count</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â fruitsÂ =Â [<span class="hljs-string">'è‹¹æœ'</span>,Â <span class="hljs-string">'é¦™è•‰'</span>,Â <span class="hljs-string">'æ©™å­'</span>,Â <span class="hljs-string">'è‘¡è„'</span>,Â <span class="hljs-string">'è¥¿ç“œ'</span>,Â <span class="hljs-string">'è è'</span>,Â <span class="hljs-string">'èŠ’æœ'</span>]
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>Â =Â <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({Â <span class="hljs-attr">length</span>:Â countÂ },Â <span class="hljs-function">(<span class="hljs-params">_,Â i</span>)Â =&gt;</span>Â ({
Â Â Â Â Â Â Â Â <span class="hljs-attr">id</span>:Â iÂ +Â <span class="hljs-number">1</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">`<span class="hljs-subst">${fruits[iÂ %Â fruits.length]}</span><span class="hljs-subst">${iÂ +Â <span class="hljs-number">1</span>}</span>`</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">remark</span>:Â <span class="hljs-string">''</span>
Â Â Â Â Â Â }))
Â Â Â Â },
Â Â Â Â 
Â Â Â Â <span class="hljs-title function_">shuffleItems</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â startTimeÂ =Â performance.<span class="hljs-title function_">now</span>()
Â Â Â Â Â Â 
Â Â Â Â Â Â <span class="hljs-comment">//Â Fisher-YatesÂ æ´—ç‰Œç®—æ³•</span>
Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-keyword">let</span>Â iÂ =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>Â -Â <span class="hljs-number">1</span>;Â iÂ &gt;Â <span class="hljs-number">0</span>;Â i--)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â jÂ =Â <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()Â *Â (iÂ +Â <span class="hljs-number">1</span>))
Â Â Â Â Â Â Â Â ;[<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[i],Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[j]]Â =Â [<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[j],Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[i]]
Â Â Â Â Â Â }
Â Â Â Â Â Â 
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">()Â =&gt;</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">operationTime</span>Â =Â performance.<span class="hljs-title function_">now</span>()Â -Â startTime
Â Â Â Â Â Â })
Â Â Â Â }
Â Â }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-13">äº”ã€ç‰¹æ®Šæƒ…å†µä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">5.1 ä»€ä¹ˆæ—¶å€™å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ä½œä¸º keyï¼Ÿ</h3>
<p>è™½ç„¶ä¸€èˆ¬ä¸æ¨èï¼Œä½†åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œä½¿ç”¨ä¸‹æ ‡ä½œä¸º key æ˜¯å¯ä»¥æ¥å—çš„ï¼š</p>
<ol>
<li>1.Â <strong>é™æ€åˆ—è¡¨</strong>ï¼šåˆ—è¡¨æ°¸è¿œä¸ä¼šæ”¹å˜ï¼ˆå¢åˆ æ”¹æ’åºï¼‰</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--Â å›ºå®šçš„å¯¼èˆªèœå•Â --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">a</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item,Â index)Â inÂ fixedNavItems"</span>Â 
Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
Â Â Â Â Â <span class="hljs-attr">:href</span>=<span class="hljs-string">"item.link"</span>&gt;</span>
Â Â Â Â {{Â item.textÂ }}
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
</code></pre>
<ol>
<li>2.Â <strong>çº¯å±•ç¤ºæ— çŠ¶æ€</strong>ï¼šåˆ—è¡¨é¡¹æ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼Œæ²¡æœ‰è¡¨å•å…ƒç´ </li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--Â åªè¯»çš„ç»Ÿè®¡æ•°æ®å±•ç¤ºÂ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(stat,Â index)Â inÂ statistics"</span>Â 
Â Â Â Â Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
Â Â Â Â Â <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>{{Â stat.labelÂ }}:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>Â <span class="hljs-attr">class</span>=<span class="hljs-string">"value"</span>&gt;</span>{{Â stat.valueÂ }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-15">5.2 æœ€ä½³å®è·µæŒ‡å—</h3>
<ol>
<li>1.Â <strong>ä¼˜å…ˆä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦</strong></li>
</ol>
<pre><code class="hljs language-bash" lang="bash">//Â ä»åç«¯è·å–çš„æ•°æ®é€šå¸¸æœ‰Â <span class="hljs-built_in">id</span>
:key=<span class="hljs-string">"item.id"</span>

//Â æ²¡æœ‰Â <span class="hljs-built_in">id</span>Â æ—¶å¯ä»¥ç”Ÿæˆ
:key=<span class="hljs-string">"`<span class="hljs-variable">${item.type}</span>-<span class="hljs-variable">${item.timestamp}</span>`"</span>
</code></pre>
<ol>
<li>2.Â <strong>å¤æ‚åœºæ™¯çš„ key ç”Ÿæˆç­–ç•¥</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">computed</span>:Â {
Â Â <span class="hljs-title function_">itemsWithKey</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>Â =&gt;</span>Â ({
Â Â Â Â Â Â ...item,
Â Â Â Â Â Â <span class="hljs-comment">//Â ç»„åˆå¤šä¸ªå­—æ®µç”Ÿæˆå”¯ä¸€Â key</span>
Â Â Â Â Â Â <span class="hljs-attr">compositeKey</span>:Â <span class="hljs-string">`<span class="hljs-subst">${item.<span class="hljs-keyword">type</span>}</span>-<span class="hljs-subst">${item.category}</span>-<span class="hljs-subst">${item.createTime}</span>`</span>
Â Â Â Â }))
Â Â }
}
</code></pre>
<ol>
<li>3.Â <strong>é¿å…çš„å¸¸è§é”™è¯¯</strong></li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">//Â é”™è¯¯ï¼šä½¿ç”¨å¯èƒ½é‡å¤çš„å€¼</span>
:key=<span class="hljs-string">"item.name"</span>Â Â <span class="hljs-comment">//Â åç§°å¯èƒ½é‡å¤</span>

<span class="hljs-comment">//Â é”™è¯¯ï¼šä½¿ç”¨ä¸ç¨³å®šçš„å€¼</span>
:key=<span class="hljs-string">"Math.random()"</span>Â Â <span class="hljs-comment">//Â æ¯æ¬¡æ¸²æŸ“éƒ½ä¸åŒï¼Œå®Œå…¨å¤±å»å¤ç”¨æ„ä¹‰</span>

<span class="hljs-comment">//Â é”™è¯¯ï¼šä½¿ç”¨å¯èƒ½å˜åŒ–çš„å€¼</span>
:key=<span class="hljs-string">"item.index"</span>Â Â <span class="hljs-comment">//Â å¦‚æœÂ itemÂ çš„å±æ€§ä¼šå˜åŒ–</span>
</code></pre>
<h3 data-id="heading-16">5.3 å®æˆ˜ä¸­çš„ key ç®¡ç†æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â æ–¹æ¡ˆ1ï¼šä½¿ç”¨Â SymbolÂ ç¡®ä¿å”¯ä¸€æ€§</span>
<span class="hljs-title function_">generateItems</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">return</span>Â dataFromAPI.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>Â =&gt;</span>Â ({
Â Â Â Â ...item,
Â Â Â Â <span class="hljs-attr">uniqueKey</span>:Â <span class="hljs-title class_">Symbol</span>()
Â Â }))
}

<span class="hljs-comment">//Â æ–¹æ¡ˆ2ï¼šä½¿ç”¨Â UUID</span>
<span class="hljs-keyword">import</span>Â {Â v4Â <span class="hljs-keyword">as</span>Â uuidv4Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'uuid'</span>

<span class="hljs-title function_">created</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>Â =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialItems</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>Â =&gt;</span>Â ({
Â Â Â Â ...item,
Â Â Â Â <span class="hljs-attr">uuid</span>:Â item.<span class="hljs-property">uuid</span>Â ||Â <span class="hljs-title function_">uuidv4</span>()
Â Â }))
}

<span class="hljs-comment">//Â æ–¹æ¡ˆ3ï¼šç»´æŠ¤ä¸€ä¸ªè‡ªå¢Â ID</span>
<span class="hljs-keyword">let</span>Â globalIdÂ =Â <span class="hljs-number">0</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â {
Â Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â <span class="hljs-attr">items</span>:Â []
Â Â Â Â }
Â Â },
Â Â <span class="hljs-attr">methods</span>:Â {
Â Â Â Â <span class="hljs-title function_">addItem</span>(<span class="hljs-params">newItem</span>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({
Â Â Â Â Â Â Â Â ...newItem,
Â Â Â Â Â Â Â Â <span class="hljs-attr">localId</span>:Â ++globalIdÂ Â <span class="hljs-comment">//Â æœ¬åœ°ç”Ÿæˆçš„å”¯ä¸€ID</span>
Â Â Â Â Â Â })
Â Â Â Â }
Â Â }
}
</code></pre>
<h2 data-id="heading-17">å…­ã€Vue 3 ä¸­çš„å˜åŒ–ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-18">6.1 Vue 3 çš„ä¼˜åŒ–</h3>
<p>Vue 3 åœ¨è™šæ‹Ÿ DOM çš„ Diff ç®—æ³•ä¸Šåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä½† key çš„é‡è¦æ€§ä¾ç„¶ä¸å˜ã€‚Vue 3 å¼•å…¥çš„Â <code>Fragment</code>Â å’ŒÂ <code>Teleport</code>Â ç­‰ç‰¹æ€§ï¼Œä½¿å¾—æ­£ç¡®çš„ key ä½¿ç”¨æ›´åŠ é‡è¦ã€‚</p>
<h3 data-id="heading-19">6.2 Composition API ä¸­çš„åˆ—è¡¨æ¸²æŸ“</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span>Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"itemÂ inÂ items"</span>Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
Â Â Â Â Â Â {{Â item.nameÂ }}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>Â <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span>Â {Â refÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span>Â itemsÂ =Â <span class="hljs-title function_">ref</span>([
Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">1</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'Apple'</span>Â },
Â Â {Â <span class="hljs-attr">id</span>:Â <span class="hljs-number">2</span>,Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'Banana'</span>Â }
])

<span class="hljs-comment">//Â æ·»åŠ æ–°é¡¹ç›®</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">addItem</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â items.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
Â Â Â Â <span class="hljs-attr">id</span>:Â <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),Â <span class="hljs-comment">//Â ä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€ID</span>
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'NewÂ Fruit'</span>
Â Â })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€æ€»ç»“</h2>
<h3 data-id="heading-21">å…³é”®è¦ç‚¹å›é¡¾</h3>
<ol>
<li>1.Â <strong>key çš„ä½œç”¨</strong>ï¼šå¸®åŠ© Vue è¯†åˆ«èŠ‚ç‚¹ï¼Œå®ç°é«˜æ•ˆçš„ DOM æ›´æ–°</li>
<li>2.Â <strong>ä¸‹æ ‡ä½œä¸º key çš„é—®é¢˜</strong>ï¼š</li>
<li>
<ul>
<li>â€¢ åˆ—è¡¨é¡ºåºå˜åŒ–æ—¶å¯¼è‡´çŠ¶æ€é”™ä¹±</li>
<li>â€¢ æ€§èƒ½ä¸‹é™ï¼ˆä¸å¿…è¦çš„ DOM æ“ä½œï¼‰</li>
<li>â€¢ ç”¨æˆ·ä½“éªŒé—®é¢˜ï¼ˆå¦‚è¡¨å•è¾“å…¥é”™ä½ï¼‰</li>
</ul>
</li>
<li>3.Â <strong>æ­£ç¡®ä½¿ç”¨ key çš„å¥½å¤„</strong>ï¼š</li>
<li>
<ul>
<li>â€¢ å‡†ç¡®å¤ç”¨ DOM èŠ‚ç‚¹</li>
<li>â€¢ ä¿æŒç»„ä»¶çŠ¶æ€</li>
<li>â€¢ æå‡æ¸²æŸ“æ€§èƒ½</li>
</ul>
</li>
</ol>
<h3 data-id="heading-22">å®æˆ˜å»ºè®®</h3>
<ol>
<li>1.Â <strong>é»˜è®¤ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦</strong>ä½œä¸º key</li>
<li>2.Â <strong>å¦‚æœæ•°æ®æ²¡æœ‰å”¯ä¸€æ ‡è¯†</strong>ï¼Œåœ¨è·å–æ•°æ®æ—¶æ·»åŠ </li>
<li>3.Â <strong>é™æ€åˆ—è¡¨</strong>å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹æ ‡ï¼Œä½†è¦æ˜ç¡®æ ‡æ³¨åŸå› </li>
<li>4.Â <strong>å§‹ç»ˆè€ƒè™‘åˆ—è¡¨å¯èƒ½çš„å˜åŒ–</strong>ï¼ˆæ’åºã€è¿‡æ»¤ã€åˆ†é¡µç­‰ï¼‰</li>
</ol>
<h3 data-id="heading-23">æœ€åçš„æ€è€ƒ</h3>
<p>åœ¨ Vue å¼€å‘ä¸­ï¼Œkey çš„æ­£ç¡®ä½¿ç”¨æ˜¯ä¼˜åŒ–æ€§èƒ½ã€ç¡®ä¿æ­£ç¡®æ€§çš„é‡è¦ä¸€ç¯ã€‚è™½ç„¶ä½¿ç”¨ä¸‹æ ‡ä½œä¸º key çœ‹èµ·æ¥æ–¹ä¾¿ï¼Œä½†æ½œåœ¨çš„é—®é¢˜å¯èƒ½ä¼šåœ¨åç»­å¼€å‘ä¸­é€ æˆæ›´å¤§çš„éº»çƒ¦ã€‚</p>
<p>è®°ä½ï¼š<strong>å¥½çš„ key åº”è¯¥æ˜¯ç¨³å®šã€å”¯ä¸€ä¸”å¯é¢„æµ‹çš„</strong>ã€‚èŠ±ä¸€ç‚¹æ—¶é—´ä¸ºåˆ—è¡¨é¡¹é€‰æ‹©åˆé€‚çš„ keyï¼Œå¯ä»¥é¿å…è®¸å¤šéš¾ä»¥è°ƒè¯•çš„é—®é¢˜ï¼Œå¹¶æå‡åº”ç”¨çš„æ•´ä½“æ€§èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[NormalUnpackèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7592759902675337262</link>    <guid>https://juejin.cn/post/7592759902675337262</guid>    <pubDate>2026-01-08T01:53:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592759902675337262" data-draft-id="7592759902675255342" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[NormalUnpackèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-08T01:53:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[NormalUnpackèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T01:53:32.000Z" title="Thu Jan 08 2026 01:53:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<h2 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½æ¦‚è¿°</h2>
<p>æ³•çº¿è§£åŒ…èŠ‚ç‚¹ï¼ˆNormal Unpack Nodeï¼‰æ˜¯Unity URPæ¸²æŸ“ç®¡çº¿ä¸­å¤„ç†æ³•çº¿è´´å›¾æ•°æ®çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯<strong>å¯¹å‹ç¼©å­˜å‚¨çš„æ³•çº¿å‘é‡</strong>è¿›è¡Œè§£å‹ç¼©è½¬æ¢ã€‚è¯¥èŠ‚ç‚¹é€šè¿‡ç‰¹å®šç®—æ³•å°†çº¹ç†é‡‡æ ·ç»“æœä¸­çš„å‹ç¼©æ³•çº¿æ•°æ®è¿˜åŸä¸ºç¬¦åˆæ¸²æŸ“ç®¡çº¿è¦æ±‚çš„3Då‘é‡ï¼Œæœ‰æ•ˆè§£å†³ç›´æ¥é‡‡æ ·æ³•çº¿è´´å›¾æ—¶å¯èƒ½å‡ºç°çš„æ ¼å¼å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">æŠ€æœ¯ä»·å€¼</h3>
<ul>
<li><strong>æ ¼å¼å…¼å®¹æ€§</strong>ï¼šè‡ªåŠ¨å¤„ç†RGï¼ˆçº¢ç»¿é€šé“ï¼‰æˆ–RGBï¼ˆå…¨é€šé“ï¼‰å­˜å‚¨çš„æ³•çº¿è´´å›¾æ ¼å¼</li>
<li><strong>ç©ºé—´è½¬æ¢</strong>ï¼šæ”¯æŒåˆ‡çº¿ç©ºé—´ï¼ˆTangent Spaceï¼‰å’Œå¯¹è±¡ç©ºé—´ï¼ˆObject Spaceï¼‰ä¸¤ç§è¾“å‡ºæ¨¡å¼</li>
<li><strong>é”™è¯¯è¡¥æ•‘</strong>ï¼šåœ¨æ³•çº¿è´´å›¾ç±»å‹è®¾ç½®é”™è¯¯æ—¶æä¾›æ•°æ®æ¢å¤æ–¹æ¡ˆ</li>
</ul>
<h2 data-id="heading-2">ç«¯å£ä¸å‚æ•°è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/NormalUnpackNodeThumb.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">ç«¯å£é…ç½®</h3>
<p>æ³•çº¿è§£åŒ…èŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªæ ¸å¿ƒç«¯å£ï¼š</p>
<ul>
<li><strong>è¾“å…¥ç«¯å£ï¼ˆInï¼‰</strong>ï¼šæ¥æ”¶é‡‡æ ·åçš„çº¹ç†æ•°æ®ï¼ˆVector4ç±»å‹ï¼‰ï¼ŒåŒ…å«RGBAå››ä¸ªé€šé“å€¼</li>
<li><strong>è¾“å‡ºç«¯å£ï¼ˆOutï¼‰</strong>ï¼šè¾“å‡ºè½¬æ¢åçš„æ³•çº¿å‘é‡ï¼ˆVector3ç±»å‹ï¼‰ï¼ŒåŒ…å«XYZä¸‰ä¸ªåˆ†é‡</li>
</ul>
<h3 data-id="heading-4">æ§åˆ¶å‚æ•°</h3>
<p>è¯¥èŠ‚ç‚¹æä¾›ä¸¤ä¸ªå…³é”®æ§åˆ¶å‚æ•°ï¼š</p>
<ul>
<li><strong>Spaceï¼ˆç©ºé—´æ¨¡å¼ï¼‰</strong>ï¼šå†³å®šè¾“å‡ºæ³•çº¿çš„åæ ‡ç©ºé—´
<ul>
<li><strong>Tangentï¼ˆåˆ‡çº¿ç©ºé—´ï¼‰</strong>ï¼šé€‚ç”¨äºæ ‡å‡†æ³•çº¿è´´å›¾ï¼Œä½¿ç”¨UnpackNormalmapRGorAGå‡½æ•°å¤„ç†RGé€šé“æ•°æ®</li>
<li><strong>Objectï¼ˆå¯¹è±¡ç©ºé—´ï¼‰</strong>ï¼šé€‚ç”¨äºå¯¹è±¡ç©ºé—´æ³•çº¿è´´å›¾ï¼Œä½¿ç”¨UnpackNormalmapRGBå‡½æ•°å¤„ç†RGBé€šé“æ•°æ®</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">æŠ€æœ¯å®ç°åŸç†</h2>
<h3 data-id="heading-6">æ³•çº¿æ•°æ®å­˜å‚¨æœºåˆ¶</h3>
<p>æ³•çº¿è´´å›¾é€šå¸¸é‡‡ç”¨å‹ç¼©å­˜å‚¨æ–¹å¼ä»¥èŠ‚çœçº¹ç†å†…å­˜ï¼š</p>
<ul>
<li><strong>RGå­˜å‚¨</strong>ï¼šä»…ä½¿ç”¨çº¢è‰²å’Œç»¿è‰²é€šé“å­˜å‚¨æ³•çº¿çš„XYåˆ†é‡ï¼ŒZåˆ†é‡é€šè¿‡å…¬å¼è®¡ç®—å¾—å‡º</li>
<li><strong>RGBå­˜å‚¨</strong>ï¼šä½¿ç”¨å…¨é€šé“å­˜å‚¨æ³•çº¿å‘é‡ï¼Œé€‚ç”¨äºå¯¹è±¡ç©ºé—´æ³•çº¿è´´å›¾</li>
</ul>
<h3 data-id="heading-7">ç©ºé—´è½¬æ¢é€»è¾‘</h3>
<p>èŠ‚ç‚¹æ ¹æ®Spaceå‚æ•°æ‰§è¡Œä¸åŒçš„ç©ºé—´è½¬æ¢ï¼š</p>
<ul>
<li><strong>åˆ‡çº¿ç©ºé—´æ¨¡å¼</strong>ï¼šå°†å‹ç¼©çš„RGæ•°æ®è½¬æ¢ä¸ºåˆ‡çº¿ç©ºé—´ä¸‹çš„æ³•çº¿å‘é‡ï¼Œå…¶Zåˆ†é‡é€šè¿‡å…¬å¼è®¡ç®—ï¼š<code>Z = sqrt(1 - XÂ² - YÂ²)</code></li>
<li><strong>å¯¹è±¡ç©ºé—´æ¨¡å¼</strong>ï¼šç›´æ¥å¤„ç†RGBé€šé“æ•°æ®ï¼Œé€šè¿‡UnpackNormalmapRGBå‡½æ•°å°†å‹ç¼©çš„RGBå€¼è½¬æ¢ä¸ºå¯¹è±¡ç©ºé—´æ³•çº¿å‘é‡</li>
</ul>
<h2 data-id="heading-8">å…¸å‹åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-9">æ³•çº¿è´´å›¾ç±»å‹é”™è¯¯è¡¥æ•‘</h3>
<p>å½“è¯¯å°†æ³•çº¿è´´å›¾è®¾ä¸ºDefaultç±»å‹æ—¶ï¼Œè¯¥èŠ‚ç‚¹å¯é€šè¿‡æ‰‹åŠ¨è§£å‹æ¢å¤æ³•çº¿æ•°æ®ï¼š</p>
<ol>
<li>ä½¿ç”¨Sample Texture 2DèŠ‚ç‚¹é‡‡æ ·æ³•çº¿è´´å›¾</li>
<li>å°†é‡‡æ ·ç»“æœè¿æ¥è‡³Normal UnpackèŠ‚ç‚¹çš„è¾“å…¥ç«¯å£</li>
<li>æ ¹æ®è´´å›¾ç±»å‹é€‰æ‹©Tangentæˆ–Objectç©ºé—´æ¨¡å¼</li>
</ol>
<h3 data-id="heading-10">å¤šé€šé“çº¹ç†å¤ç”¨</h3>
<p>åœ¨éœ€è¦åŒæ—¶ä½¿ç”¨æ³•çº¿è´´å›¾å’Œå…¶ä»–çº¹ç†çš„åœºæ™¯ä¸­ï¼š</p>
<ul>
<li>é€šè¿‡Channel SplitèŠ‚ç‚¹åˆ†ç¦»æ³•çº¿è´´å›¾çš„RGé€šé“</li>
<li>å°†åˆ†ç¦»åçš„é€šé“è¿æ¥è‡³Normal UnpackèŠ‚ç‚¹</li>
<li>ä¸ä¸»çº¹ç†è¿›è¡Œæ··åˆå¤„ç†</li>
</ul>
<h3 data-id="heading-11">è·¨å¹³å°å…¼å®¹å¤„ç†</h3>
<p>é’ˆå¯¹ä¸åŒå¹³å°çš„æ³•çº¿è´´å›¾å·®å¼‚ï¼š</p>
<ul>
<li>å¯¹ç§»åŠ¨ç«¯å¹³å°ä½¿ç”¨RGå­˜å‚¨æ¨¡å¼</li>
<li>å¯¹PCç«¯å¹³å°ä½¿ç”¨RGBå­˜å‚¨æ¨¡å¼</li>
<li>é€šè¿‡æ¡ä»¶åˆ¤æ–­èŠ‚ç‚¹é€‰æ‹©å¯¹åº”çš„è§£å‹æ–¹å¼</li>
</ul>
<h2 data-id="heading-12">æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨å†…ç½®é‡‡æ ·</strong>ï¼šåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨Sample Texture 2DèŠ‚ç‚¹å¹¶è®¾ç½®Typeä¸ºNormalæ›´ä¸ºé«˜æ•ˆ</li>
<li><strong>ç©ºé—´æ¨¡å¼é€‰æ‹©</strong>ï¼šåˆ‡çº¿ç©ºé—´æ¨¡å¼é€‚ç”¨äºæ ‡å‡†æ³•çº¿è´´å›¾ï¼Œå¯¹è±¡ç©ºé—´æ¨¡å¼é€‚ç”¨äºé¢„è®¡ç®—çš„å¯¹è±¡ç©ºé—´æ³•çº¿</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­å¤šæ¬¡ä½¿ç”¨è¯¥èŠ‚ç‚¹ï¼Œå¯è€ƒè™‘åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­é¢„è®¡ç®—éƒ¨åˆ†ç»“æœ</li>
<li><strong>è°ƒè¯•æŠ€å·§</strong>ï¼šé€šè¿‡å°†è¾“å‡ºæ³•çº¿è¿æ¥è‡³ColorèŠ‚ç‚¹ï¼Œå¯è§†åŒ–æ³•çº¿æ–¹å‘ä»¥éªŒè¯è§£å‹æ•ˆæœ</li>
</ol>
<h2 data-id="heading-13">ä»£ç ç”Ÿæˆç¤ºä¾‹</h2>
<h3 data-id="heading-14">åˆ‡çº¿ç©ºé—´æ¨¡å¼</h3>
<p><code>void Unity_NormalUnpack_float(float4 In, out float3 Out) {     Out = UnpackNormalmapRGorAG(In); }</code></p>
<p>è¯¥å‡½æ•°å°†RGé€šé“æ•°æ®è½¬æ¢ä¸ºåˆ‡çº¿ç©ºé—´æ³•çº¿å‘é‡ï¼ŒZåˆ†é‡é€šè¿‡è®¡ç®—å¾—å‡ºã€‚</p>
<h3 data-id="heading-15">å¯¹è±¡ç©ºé—´æ¨¡å¼</h3>
<p><code>void Unity_NormalUnpackRGB_float(float4 In, out float3 Out) {     Out = UnpackNormalmapRGB(In); }</code></p>
<p>è¯¥å‡½æ•°ç›´æ¥å¤„ç†RGBé€šé“æ•°æ®ï¼Œå°†å…¶è½¬æ¢ä¸ºå¯¹è±¡ç©ºé—´æ³•çº¿å‘é‡ã€‚</p>
<h2 data-id="heading-16">å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-17">æ³•çº¿è´´å›¾æ˜¾ç¤ºå¼‚å¸¸</h3>
<ul>
<li><strong>æ£€æŸ¥è´´å›¾ç±»å‹</strong>ï¼šç¡®ä¿çº¹ç†å¯¼å…¥è®¾ç½®ä¸­æ­£ç¡®æ ‡è®°ä¸ºNormal Map</li>
<li><strong>éªŒè¯ç©ºé—´æ¨¡å¼</strong>ï¼šæ ¹æ®è´´å›¾ç±»å‹é€‰æ‹©æ­£ç¡®çš„Spaceå‚æ•°</li>
<li><strong>æ£€æŸ¥é€šé“é¡ºåº</strong>ï¼šç¡®è®¤è´´å›¾çš„RGBé€šé“é¡ºåºä¸é¢„æœŸä¸€è‡´</li>
</ul>
<h3 data-id="heading-18">æ€§èƒ½é—®é¢˜</h3>
<ul>
<li><strong>å‡å°‘èŠ‚ç‚¹ä½¿ç”¨</strong>ï¼šåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å†…ç½®é‡‡æ ·ä»£æ›¿æ‰‹åŠ¨è§£å‹</li>
<li><strong>ä¼˜åŒ–è®¡ç®—</strong>ï¼šé¿å…åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­é‡å¤è®¡ç®—ç›¸åŒæ•°æ®</li>
<li><strong>ä½¿ç”¨LOD</strong>ï¼šå¯¹è¿œè·ç¦»ç‰©ä½“ä½¿ç”¨ç®€åŒ–æ³•çº¿è´´å›¾</li>
</ul>
<h2 data-id="heading-19">é«˜çº§åº”ç”¨æŠ€å·§</h2>
<h3 data-id="heading-20">è‡ªå®šä¹‰çº¹ç†é‡‡æ ·æµç¨‹</h3>
<p>é€šè¿‡ç»„åˆä½¿ç”¨Normal UnpackèŠ‚ç‚¹å’Œå…¶ä»–èŠ‚ç‚¹ï¼Œå¯ä»¥å®ç°æ›´å¤æ‚çš„æ³•çº¿å¤„ç†ï¼š</p>
<ol>
<li>ä½¿ç”¨Sample Texture 2DèŠ‚ç‚¹é‡‡æ ·æ³•çº¿è´´å›¾</li>
<li>é€šè¿‡Normal UnpackèŠ‚ç‚¹è§£å‹æ³•çº¿å‘é‡</li>
<li>ä½¿ç”¨Normal BlendèŠ‚ç‚¹æ··åˆå¤šä¸ªæ³•çº¿è´´å›¾</li>
<li>æœ€ç»ˆå°†å¤„ç†åçš„æ³•çº¿åº”ç”¨äºå…‰ç…§è®¡ç®—</li>
</ol>
<h3 data-id="heading-21">åŠ¨æ€æ³•çº¿ç”Ÿæˆ</h3>
<p>ç»“åˆHeight Mapå’ŒNormal From HeightèŠ‚ç‚¹ï¼Œå¯ä»¥å®æ—¶ç”Ÿæˆæ³•çº¿è´´å›¾ï¼š</p>
<ol>
<li>ä½¿ç”¨Sample Texture 2DèŠ‚ç‚¹é‡‡æ ·é«˜åº¦å›¾</li>
<li>é€šè¿‡Normal From HeightèŠ‚ç‚¹ç”Ÿæˆæ³•çº¿è´´å›¾</li>
<li>ä½¿ç”¨Normal UnpackèŠ‚ç‚¹å¤„ç†ç”Ÿæˆçš„æ³•çº¿</li>
<li>å°†ç»“æœåº”ç”¨äºè¡¨é¢å…‰ç…§è®¡ç®—</li>
</ol>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´å…¨çƒæœ€å—æ¬¢è¿çš„JSé‰´æƒæ¡†æ¶Better Authï¼Œ3åˆ†é’Ÿå¸¦ä½ å­¦ä¼š]]></title>    <link>https://juejin.cn/post/7592432859863007266</link>    <guid>https://juejin.cn/post/7592432859863007266</guid>    <pubDate>2026-01-07T14:35:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859863007266" data-draft-id="7592276645362139136" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´å…¨çƒæœ€å—æ¬¢è¿çš„JSé‰´æƒæ¡†æ¶Better Authï¼Œ3åˆ†é’Ÿå¸¦ä½ å­¦ä¼š"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-07T14:35:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©™å­çš„AIç¬”è®°"/> <meta itemprop="url" content="https://juejin.cn/user/4010667128656254"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´å…¨çƒæœ€å—æ¬¢è¿çš„JSé‰´æƒæ¡†æ¶Better Authï¼Œ3åˆ†é’Ÿå¸¦ä½ å­¦ä¼š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4010667128656254/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©™å­çš„AIç¬”è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:35:21.000Z" title="Wed Jan 07 2026 14:35:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4213d9e24124b0294748b42336f0451~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5a2Q55qEQUnnrJTorrA=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768403709&amp;x-signature=FhoN8F%2FKhw0na8D74mfDHcr5vD4%3D" alt="2025JSæ¦œå•.png" loading="lazy"/></p>
<p>2025å¹´ JavaScript 10å¤§æœ€å—æ¬¢è¿çš„å‰ç«¯é¡¹ç›®å·²ç»å…¬å¸ƒï¼Œ<strong>Better Auth</strong>ä½œä¸ºé‡Œé¢å”¯ä¸€çš„é‰´æƒæ¡†æ¶ï¼Œå—åˆ°äº†ç‰¹åˆ«æ¨èï¼Œå¦‚æœä½ è¿˜å¯¹å®ƒä¸å¤ªäº†è§£ï¼Œè¯·èŠ±3åˆ†é’Ÿæ—¶é—´ï¼Œæˆ‘å°†å¸¦ä½ å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<hr/>
<h2 data-id="heading-0">Better Auth æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Better Auth æ˜¯ä¸€ä¸ªæ¡†æ¶æ— å…³çš„ã€é€šç”¨çš„èº«ä»½éªŒè¯å’Œæˆæƒæ¡†æ¶ï¼Œä¸“ä¸º TypeScript è®¾è®¡ã€‚å®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯<strong>åŠŸèƒ½å…¨é¢ï¼Œå¼€ç®±å³ç”¨</strong>ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒèƒ½åŠ›ä¸€è§ˆ</h3>













































<table><thead><tr><th>åŠŸèƒ½ç±»åˆ«</th><th>å…·ä½“èƒ½åŠ›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åŸºç¡€è®¤è¯</td><td>é‚®ç®±å¯†ç ç™»å½•</td><td>å†…ç½®å®‰å…¨çš„å¯†ç å“ˆå¸Œå’ŒéªŒè¯</td></tr><tr><td>ç¤¾äº¤ç™»å½•</td><td>OAuth æ”¯æŒ</td><td>GitHubã€Googleã€Discordã€Twitter ç­‰ä¸»æµå¹³å°</td></tr><tr><td>å®‰å…¨å¢å¼º</td><td>2FA åŒå› ç´ è®¤è¯</td><td>ä¸ºè´¦æˆ·æä¾›é¢å¤–å®‰å…¨å±‚ï¼ˆé‚®ç®±ã€æ‰‹æœºéªŒè¯ç ç­‰ï¼‰</td></tr><tr><td>ä¼šè¯ç®¡ç†</td><td>å¤šä¼šè¯æ”¯æŒ</td><td>æ”¯æŒç”¨æˆ·åŒæ—¶ç™»å½•å¤šä¸ªè®¾å¤‡</td></tr><tr><td>ä¼ä¸šåŠŸèƒ½</td><td>SaaS å¤šç§Ÿæˆ·æ”¯æŒ</td><td>ç»„ç»‡ã€å›¢é˜Ÿã€æˆå‘˜å’Œé‚€è¯·ç®¡ç†</td></tr><tr><td>é«˜çº§åŠŸèƒ½</td><td>SSO å•ç‚¹ç™»å½•</td><td>åˆ›å»ºè‡ªå·±çš„èº«ä»½æä¾›å•†</td></tr><tr><td>æ‰©å±•æ€§</td><td>æ’ä»¶ç”Ÿæ€</td><td>é€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½</td></tr></tbody></table>
<p>è¿™äº›åŠŸèƒ½ï¼ŒBetter Auth éƒ½å°è£…å¥½äº†ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸‹å°±èƒ½ç”¨ã€‚</p>
<p>ç›¸æ¯”ä¼ ç»Ÿçš„è®¤è¯æ–¹æ¡ˆï¼ˆæ¯”å¦‚ NextAuth.jsï¼‰ï¼ŒBetter Auth æœ‰å‡ ä¸ªæ˜æ˜¾çš„ä¼˜åŠ¿ï¼š</p>
<ol start="0">
<li><strong>æ¡†æ¶æ— å…³</strong>ï¼šä¸ç»‘å®šç‰¹å®šæ¡†æ¶ï¼ŒReactã€Vueã€Svelteã€Next.jsã€Nuxt éƒ½èƒ½ç”¨</li>
<li><strong>TypeScript åŸç”Ÿ</strong>ï¼šå®Œæ•´çš„ç±»å‹æ”¯æŒï¼Œå¼€å‘ä½“éªŒæ›´å¥½</li>
<li><strong>æ’ä»¶åŒ–æ¶æ„</strong>ï¼šéœ€è¦ä»€ä¹ˆåŠŸèƒ½å°±åŠ ä»€ä¹ˆæ’ä»¶ï¼Œä¸ä¼šå¼•å…¥ä¸å¿…è¦çš„ä¾èµ–</li>
<li><strong>ç°ä»£åŒ–è®¾è®¡</strong>ï¼šé‡‡ç”¨æœ€æ–°çš„ Web æ ‡å‡†å’Œæœ€ä½³å®è·µ</li>
</ol>
<hr/>
<h2 data-id="heading-2">ä¸‹é¢ä»¥ Next.js + React å¸¦å¤§å®¶å¿«é€Ÿä¸Šæ‰‹ï¼ˆExpress+ Vue ä¹ŸåŸºæœ¬ä¸€æ ·ï¼‰</h2>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥ Next.js å’Œ React ä¸ºä¾‹ï¼Œçœ‹çœ‹å¦‚ä½•å¿«é€Ÿé›†æˆ Better Authã€‚</p>
<h3 data-id="heading-3">ä¸€ã€å®‰è£…å’ŒåŸºç¡€é…ç½®</h3>
<p>é¦–å…ˆå®‰è£… Better Authï¼š</p>
<pre><code class="hljs">npm install better-auth
</code></pre>
<p>ç„¶ååˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ <code>.env</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">BETTER_AUTH_SECRET</span>=<span class="hljs-number">32</span>ä½ä»¥ä¸Šå¯†é’¥
<span class="hljs-attr">BETTER_AUTH_URL</span>=http://localhost:<span class="hljs-number">3000</span>
</code></pre>
<p>è¿™é‡Œ <code>BETTER_AUTH_SECRET</code> ç”¨äºåŠ å¯†å’Œå“ˆå¸Œï¼Œå¿…é¡»è‡³å°‘ 32 ä¸ªå­—ç¬¦ã€‚ä½ å¯ä»¥ç”¨ <code>openssl rand -base64 32</code> ç”Ÿæˆä¸€ä¸ªã€‚</p>
<h3 data-id="heading-4">äºŒã€åˆ›å»ºæœåŠ¡ç«¯è®¤è¯å®ä¾‹</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆæˆ– <code>lib/</code>ã€<code>utils/</code> æ–‡ä»¶å¤¹ï¼‰åˆ›å»º <code>auth.ts</code>ï¼š</p>
<pre><code class="hljs language-php" lang="php">import { betterAuth } <span class="hljs-keyword">from</span> <span class="hljs-string">"better-auth"</span>;
import { Pool } <span class="hljs-keyword">from</span> <span class="hljs-string">"pg"</span>; <span class="hljs-comment">// ä»¥ PostgreSQL ä¸ºä¾‹</span>
â€‹
export <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">auth</span> = <span class="hljs-title function_ invoke__">betterAuth</span>({
 <span class="hljs-attr">Â database</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pool</span>({
 Â  <span class="hljs-attr">Â host</span>: process.env.DB_HOST,
 Â  <span class="hljs-attr">Â port</span>: <span class="hljs-number">5432</span>,
 Â  <span class="hljs-attr">Â user</span>: process.env.DB_USER,
 Â  <span class="hljs-attr">Â password</span>: process.env.DB_PASSWORD,
 Â  <span class="hljs-attr">Â database</span>: process.env.DB_NAME,
  }),
});
</code></pre>
<p>å¦‚æœä½ ç”¨çš„æ˜¯ SQLite æˆ–è€…æƒ³ç”¨ ORMï¼ˆæ¯”å¦‚ Drizzleã€Prismaï¼‰ï¼ŒBetter Auth ä¹Ÿæä¾›äº†å¯¹åº”çš„é€‚é…å™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ Drizzle</span>
<span class="hljs-keyword">import</span> { drizzleAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"better-auth/adapters/drizzle"</span>;
<span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/db"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> auth = <span class="hljs-title function_">betterAuth</span>({
 Â <span class="hljs-attr">database</span>: <span class="hljs-title function_">drizzleAdapter</span>(db, {
 Â  Â <span class="hljs-attr">provider</span>: <span class="hljs-string">"pg"</span>, <span class="hljs-comment">// æˆ– "mysql", "sqlite"</span>
  }),
});
</code></pre>
<h3 data-id="heading-5">ä¸‰ã€åˆ›å»ºæ•°æ®åº“è¡¨</h3>
<p>Better Auth æä¾›äº† CLI å·¥å…·æ¥ç®¡ç†æ•°æ®åº“ schemaï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆè¿ç§»æ–‡ä»¶</span>
npx @better-auth/cli generate
â€‹
<span class="hljs-comment"># æˆ–è€…ç›´æ¥è¿ç§»ï¼ˆä»…æ”¯æŒ Kysely é€‚é…å™¨ï¼‰</span>
npx @better-auth/cli migrate
</code></pre>
<h3 data-id="heading-6">å››ã€åœ¨ Next.js ä¸­æŒ‚è½½ API è·¯ç”±</h3>
<p>åœ¨ Next.js App Router ä¸­ï¼Œåˆ›å»º <code>app/api/auth/[...all]/route.ts</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { auth } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/lib/auth"</span>;
<span class="hljs-keyword">import</span> { toNextJsHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">"better-auth/next-js"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">POST</span> } = <span class="hljs-title function_">toNextJsHandler</span>(auth.<span class="hljs-property">handler</span>);
</code></pre>
<p>è¿™æ ·ç›¸å½“äºä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œæ‰€æœ‰ <code>/api/auth/*</code> çš„è¯·æ±‚éƒ½ä¼šè¢« Better Auth å¤„ç†ã€‚</p>
<h3 data-id="heading-7">äº”ã€åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹</h3>
<p>åœ¨å®¢æˆ·ç«¯ï¼Œåˆ›å»º <code>lib/auth-client.ts</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createAuthClient } <span class="hljs-keyword">from</span> <span class="hljs-string">"better-auth/react"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> authClient = <span class="hljs-title function_">createAuthClient</span>({
 Â <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"http://localhost:3000"</span>, <span class="hljs-comment">// å¦‚æœæ˜¯åŒåŸŸï¼Œä¸€èˆ¬å°±å¯ä»¥çœç•¥</span>
});
</code></pre>
<h3 data-id="heading-8">å…­ã€åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨</h3>
<p>å¥½äº†ï¼Œç°åœ¨å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è®¤è¯åŠŸèƒ½äº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">"use client"</span>;
â€‹
<span class="hljs-keyword">import</span> { authClient } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/lib/auth-client"</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginPage</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> [email, setEmail] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
 Â <span class="hljs-keyword">const</span> [password, setPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSignUp</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
 Â  Â <span class="hljs-keyword">const</span> { data, error } = <span class="hljs-keyword">await</span> authClient.<span class="hljs-property">signUp</span>.<span class="hljs-title function_">email</span>({
 Â  Â  Â email,
 Â  Â  Â password,
 Â  Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"ç”¨æˆ·"</span>, <span class="hljs-comment">// å¯é€‰</span>
 Â  Â  Â <span class="hljs-attr">callbackURL</span>: <span class="hljs-string">"/dashboard"</span>,
 Â   });
â€‹
 Â  Â <span class="hljs-keyword">if</span> (error) {
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ³¨å†Œå¤±è´¥:"</span>, error);
 Â   } <span class="hljs-keyword">else</span> {
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ³¨å†ŒæˆåŠŸ:"</span>, data);
 Â  Â  Â <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œåšé‡å®šå‘</span>
 Â   }
  };
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSignIn</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
 Â  Â <span class="hljs-keyword">const</span> { data, error } = <span class="hljs-keyword">await</span> authClient.<span class="hljs-property">signIn</span>.<span class="hljs-title function_">email</span>({
 Â  Â  Â email,
 Â  Â  Â password,
 Â  Â  Â <span class="hljs-attr">callbackURL</span>: <span class="hljs-string">"/dashboard"</span>,
 Â  Â  Â <span class="hljs-attr">rememberMe</span>: <span class="hljs-literal">true</span>,
 Â   });
â€‹
 Â  Â <span class="hljs-keyword">if</span> (error) {
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ç™»å½•å¤±è´¥:"</span>, error);
 Â   } <span class="hljs-keyword">else</span> {
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç™»å½•æˆåŠŸ:"</span>, data);
 Â   }
  };
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
 Â  Â  Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>
 Â  Â  Â  Â <span class="hljs-attr">value</span>=<span class="hljs-string">{email}</span>
 Â  Â  Â  Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setEmail(e.target.value)}
 Â  Â  Â  Â placeholder="é‚®ç®±"
 Â  Â  Â /&gt;
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
 Â  Â  Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span>
 Â  Â  Â  Â <span class="hljs-attr">value</span>=<span class="hljs-string">{password}</span>
 Â  Â  Â  Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setPassword(e.target.value)}
 Â  Â  Â  Â placeholder="å¯†ç "
 Â  Â  Â /&gt;
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>æ³¨å†Œ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignIn}</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-9">ä¸ƒã€è·å–å½“å‰ä¼šè¯</h3>
<p>ä½¿ç”¨ <code>useSession</code> hook æ¥è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">"use client"</span>;
â€‹
<span class="hljs-keyword">import</span> { authClient } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/lib/auth-client"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: session, isPending } = authClient.<span class="hljs-title function_">useSession</span>();
â€‹
 Â <span class="hljs-keyword">if</span> (isPending) {
 Â  Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
â€‹
 Â <span class="hljs-keyword">if</span> (!session?.<span class="hljs-property">user</span>) {
 Â  Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ¬¢è¿ï¼Œ{session.user.name}ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é‚®ç®±ï¼š{session.user.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> authClient.signOut()}&gt;é€€å‡ºç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä¹Ÿå¯ä»¥åœ¨æœåŠ¡ç«¯è·å–ä¼šè¯ä¿¡æ¯ï¼Œæ¯”å¦‚åœ¨ Next.js çš„ Server Component ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { auth } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/lib/auth"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ServerProfile</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> auth.<span class="hljs-property">api</span>.<span class="hljs-title function_">getSession</span>({
 Â  Â <span class="hljs-attr">headers</span>: <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"next/headers"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">m</span>) =&gt;</span> m.<span class="hljs-title function_">headers</span>()),
  });
â€‹
 Â <span class="hljs-keyword">if</span> (!session) {
 Â  Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
â€‹
 Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¬¢è¿ï¼Œ{session.user.name}ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-10">å…«ã€æ·»åŠ ç¤¾äº¤ç™»å½•</h3>
<p>ä»¥æ·»åŠ GitHub ç™»å½•ä¸ºä¾‹ï¼Œåªéœ€è¦åœ¨æœåŠ¡ç«¯é…ç½®ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> { betterAuth } from <span class="hljs-string">"better-auth"</span>;
<span class="hljs-keyword">import</span> { github } from <span class="hljs-string">"better-auth/plugins"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> auth = <span class="hljs-built_in">betterAuth</span>({
 Â database: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Pool</span>({ <span class="hljs-comment">/* ... */</span> }),
 Â plugins: [
 Â  Â <span class="hljs-built_in">github</span>({
 Â  Â  Â clientId: process.env.GITHUB_CLIENT_ID!,
 Â  Â  Â clientSecret: process.env.GITHUB_CLIENT_SECRET!,
 Â   }),
  ],
});
</code></pre>
<p>ç„¶ååœ¨å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">button</span> onClick={() =&gt; authClient<span class="hljs-selector-class">.signIn</span><span class="hljs-selector-class">.social</span>({ provider: <span class="hljs-string">"github"</span> })}&gt;
  ä½¿ç”¨ GitHub ç™»å½•
&lt;/<span class="hljs-selector-tag">button</span>&gt;
</code></pre>
<p>å›½å¤–çš„ä¸»æµè½¯ä»¶ï¼ŒGoogleã€Hugging faceã€Twitter ç­‰éƒ½æ”¯æŒï¼Œä½†æ˜¯å›½å†…çš„é’‰é’‰ã€å¾®ä¿¡ç™»å½•éœ€è¦è‡ªè¡Œå®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-11">Better Auth vs ä¼ ç»Ÿæ–¹æ¡ˆ</h2>








































<table><thead><tr><th>ç‰¹æ€§</th><th>æ‰‹å†™è®¤è¯</th><th>Better Auth</th></tr></thead><tbody><tr><td>TypeScript æ”¯æŒ</td><td>éœ€è¦è‡ªå·±å†™ç±»å‹</td><td>åŸç”Ÿæ”¯æŒ</td></tr><tr><td>æ¡†æ¶æ— å…³</td><td>-</td><td>-</td></tr><tr><td>æ’ä»¶ç”Ÿæ€</td><td>-</td><td>ä¸°å¯Œ(è´¦å·å¯†ç ã€OAuth2ã€ç¬¬ä¸‰æ–¹ç™»å½•ç­‰ç­‰)</td></tr><tr><td>å¤šç§Ÿæˆ·æ”¯æŒ</td><td>éœ€è¦è‡ªå·±å®ç°</td><td>å†…ç½®</td></tr><tr><td>2FA æ”¯æŒ</td><td>éœ€è¦è‡ªå·±å®ç°</td><td>å†…ç½®</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>é™¡å³­</td><td>å¹³ç¼“</td></tr></tbody></table>
<hr/>
<p>åœ¨AIå…¨æ ˆæ—¶ä»£ï¼Œ Better Authé€æ¸æˆä¸ºäº†JSå¼€å‘è€…è¿›è¡Œé‰´æƒå¼€å‘çš„ç¬¬ä¸€é€‰æ‹©ï¼Œæ‰€ä»¥å®ƒåŒæ ·å¼€æ”¾äº†MCPï¼Œå¯ä»¥åœ¨AI Codingæ—¶å€™æ›´æ–¹ä¾¿åœ°è°ƒç”¨ã€‚</p>
<hr/>
<p>æˆ‘çš„å…¬ä¼—å·ï¼šæ©™å­çš„AIå‰ç«¯ç¬”è®°ï¼Œè°¢è°¢å¤§å®¶å…³æ³¨ï¼Œåç»­ä¼šæŒç»­è¾“å‡ºæ›´å¤šå‰ç«¯ AI æ·±å±‚æ¬¡å¹²è´§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Object.assignå’Œæ‰©å±•è¿ç®—ç¬¦æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7592432859863121954</link>    <guid>https://juejin.cn/post/7592432859863121954</guid>    <pubDate>2026-01-07T15:07:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859863121954" data-draft-id="7592432859863105570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Object.assignå’Œæ‰©å±•è¿ç®—ç¬¦æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T15:07:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Object.assignå’Œæ‰©å±•è¿ç®—ç¬¦æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ï¼Œä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:07:37.000Z" title="Wed Jan 07 2026 15:07:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>Object.assign()</code>Â å’Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆSpread OperatorÂ <code>...</code>ï¼‰éƒ½æ˜¯<strong>æµ…æ‹·è´ï¼ˆShallow Copyï¼‰</strong> ï¼Œä¸æ˜¯æ·±æ‹·è´ï¼ˆDeep Copyï¼‰ã€‚å®ƒä»¬åªå¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ï¼ŒåµŒå¥—å¯¹è±¡ä»ç„¶æ˜¯å¼•ç”¨ã€‚</p>
<h2 data-id="heading-0">ä¸¤è€…ç›¸åŒç‚¹ï¼šéƒ½æ˜¯æµ…æ‹·è´</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç¤ºä¾‹ï¼šéƒ½æ˜¯æµ…æ‹·è´</span>
<span class="hljs-keyword">const</span> original = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-attr">address</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">"åŒ—äº¬"</span>,
    <span class="hljs-attr">street</span>: <span class="hljs-string">"é•¿å®‰è¡—"</span>
  }
};

<span class="hljs-comment">// ä½¿ç”¨ Object.assign</span>
<span class="hljs-keyword">const</span> copy1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, original);
<span class="hljs-comment">// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</span>
<span class="hljs-keyword">const</span> copy2 = { ...original };

<span class="hljs-comment">// ä¿®æ”¹åŸå§‹å¯¹è±¡çš„åµŒå¥—å±æ€§</span>
original.<span class="hljs-property">address</span>.<span class="hljs-property">city</span> = <span class="hljs-string">"ä¸Šæµ·"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy1.<span class="hljs-property">address</span>.<span class="hljs-property">city</span>); <span class="hljs-comment">// "ä¸Šæµ·" - è¢«å½±å“äº†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy2.<span class="hljs-property">address</span>.<span class="hljs-property">city</span>); <span class="hljs-comment">// "ä¸Šæµ·" - è¢«å½±å“äº†</span>

<span class="hljs-comment">// ä½†ç¬¬ä¸€å±‚å±æ€§æ˜¯ç‹¬ç«‹çš„</span>
original.<span class="hljs-property">name</span> = <span class="hljs-string">"æå››"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy1.<span class="hljs-property">name</span>); <span class="hljs-comment">// "å¼ ä¸‰" - ä¸å—å½±å“</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy2.<span class="hljs-property">name</span>); <span class="hljs-comment">// "å¼ ä¸‰" - ä¸å—å½±å“</span>
</code></pre>
<h2 data-id="heading-1">ä¸»è¦åŒºåˆ«å¯¹æ¯”è¡¨</h2>























































<table><thead><tr><th>ç‰¹æ€§</th><th><code>Object.assign()</code></th><th>æ‰©å±•è¿ç®—ç¬¦Â <code>...</code></th></tr></thead><tbody><tr><td><strong>è¯­æ³•</strong></td><td>å‡½æ•°å½¢å¼ï¼š<code>Object.assign(target, source1, source2...)</code></td><td>è¿ç®—ç¬¦ï¼š<code>{ ...source1, ...source2 }</code></td></tr><tr><td><strong>åˆå¹¶å¯¹è±¡</strong></td><td>æ”¯æŒå¤šä¸ªæºå¯¹è±¡</td><td>æ”¯æŒå¤šä¸ªæºå¯¹è±¡</td></tr><tr><td><strong>è¿”å›å€¼</strong></td><td>è¿”å›ç›®æ ‡å¯¹è±¡</td><td>è¿”å›æ–°å¯¹è±¡</td></tr><tr><td><strong>åŸå‹é“¾å±æ€§</strong></td><td>ä¸å¤åˆ¶åŸå‹é“¾ä¸Šçš„å±æ€§</td><td>ä¸å¤åˆ¶åŸå‹é“¾ä¸Šçš„å±æ€§</td></tr><tr><td><strong>Symbolå±æ€§</strong></td><td>å¤åˆ¶Symbolå±æ€§</td><td>å¤åˆ¶Symbolå±æ€§</td></tr><tr><td><strong>å¯æšä¸¾æ€§</strong></td><td>åªå¤åˆ¶å¯æšä¸¾å±æ€§</td><td>åªå¤åˆ¶å¯æšä¸¾å±æ€§</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>ç›¸å¯¹è¾ƒæ…¢</td><td>ç›¸å¯¹è¾ƒå¿«ï¼ˆç°ä»£JSå¼•æ“ä¼˜åŒ–ï¼‰</td></tr><tr><td><strong>ç©ºå€¼å¤„ç†</strong></td><td><code>null</code>Â æˆ–Â <code>undefined</code>Â ä¼šæŠ¥é”™</td><td>ä¼šå¿½ç•¥Â <code>null</code>Â æˆ–Â <code>undefined</code></td></tr><tr><td><strong>å¯è¯»æ€§</strong></td><td>è¾ƒè€çš„æ–¹å¼ï¼Œä»£ç è¾ƒé•¿</td><td>æ›´ç°ä»£ï¼Œè¯­æ³•æ›´ç®€æ´</td></tr></tbody></table>
<h2 data-id="heading-2">è¯¦ç»†å¯¹æ¯”å’Œç¤ºä¾‹</h2>
<h3 data-id="heading-3">1. åŸºæœ¬ç”¨æ³•å·®å¼‚</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">c</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">d</span>: <span class="hljs-number">4</span> };

<span class="hljs-comment">// Object.assign</span>
<span class="hljs-keyword">const</span> merged1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj1, obj2);
<span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦</span>
<span class="hljs-keyword">const</span> merged2 = { ...obj1, ...obj2 };

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(merged1); <span class="hljs-comment">// { a: 1, b: 2, c: 3, d: 4 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(merged2); <span class="hljs-comment">// { a: 1, b: 2, c: 3, d: 4 }</span>
</code></pre>
<h3 data-id="heading-4">2. å¤„ç† null/undefined çš„åŒºåˆ«</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Object.assign é‡åˆ° null æˆ– undefined ä¼šæŠ¥é”™</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> result1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-literal">null</span>);
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e); <span class="hljs-comment">// TypeError: Cannot convert undefined or null to object</span>
}

<span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦ä¼šå¿½ç•¥ null æˆ– undefined</span>
<span class="hljs-keyword">const</span> result2 = { ...<span class="hljs-literal">null</span>, ...<span class="hljs-literal">undefined</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2); <span class="hljs-comment">// { a: 1 } - null/undefined è¢«å¿½ç•¥</span>
</code></pre>
<h3 data-id="heading-5">3. åˆå¹¶å¤šä¸ªå¯¹è±¡çš„å·®å¼‚</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> objA = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> objB = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> objC = { <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };

<span class="hljs-comment">// Object.assign - ç›´æ¥åˆå¹¶å¤šä¸ª</span>
<span class="hljs-keyword">const</span> mergedA = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, objA, objB, objC);

<span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦ - éœ€è¦æ˜¾å¼å±•å¼€å¤šä¸ª</span>
<span class="hljs-keyword">const</span> mergedB = { ...objA, ...objB, ...objC };

<span class="hljs-comment">// å¤æ‚åˆå¹¶ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> defaults = { <span class="hljs-attr">theme</span>: <span class="hljs-string">"dark"</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span> };
<span class="hljs-keyword">const</span> userSettings = { <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span> };
<span class="hljs-keyword">const</span> override = { <span class="hljs-attr">theme</span>: <span class="hljs-string">"light"</span> };

<span class="hljs-comment">// ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°é…ç½®åˆå¹¶</span>
<span class="hljs-keyword">const</span> settings1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, defaults, userSettings, override);
<span class="hljs-keyword">const</span> settings2 = { ...defaults, ...userSettings, ...override };

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(settings1); <span class="hljs-comment">// { theme: "light", fontSize: 16 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(settings2); <span class="hljs-comment">// { theme: "light", fontSize: 16 }</span>
</code></pre>
<h3 data-id="heading-6">4. åŸå‹é“¾å’Œä¸å¯æšä¸¾å±æ€§</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> proto = { <span class="hljs-attr">protoProp</span>: <span class="hljs-string">"proto"</span> };
<span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(proto, {
  <span class="hljs-attr">enumerableProp</span>: { <span class="hljs-attr">value</span>: <span class="hljs-string">"enumerable"</span>, <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">nonEnumerableProp</span>: { <span class="hljs-attr">value</span>: <span class="hljs-string">"non-enumerable"</span>, <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span> }
});

<span class="hljs-comment">// ä¸¤è€…éƒ½ä¸å¤åˆ¶åŸå‹é“¾å±æ€§å’Œä¸å¯æšä¸¾å±æ€§</span>
<span class="hljs-keyword">const</span> copy1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj);
<span class="hljs-keyword">const</span> copy2 = { ...obj };

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy1); <span class="hljs-comment">// { enumerableProp: "enumerable" }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy2); <span class="hljs-comment">// { enumerableProp: "enumerable" }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy1.<span class="hljs-property">protoProp</span>); <span class="hljs-comment">// undefined</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy2.<span class="hljs-property">protoProp</span>); <span class="hljs-comment">// undefined</span>
</code></pre>
<h3 data-id="heading-7">5. å¯¹æ•°ç»„çš„ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦å¯¹æ•°ç»„æ›´è‡ªç„¶</span>
<span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];

<span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦åˆå¹¶æ•°ç»„</span>
<span class="hljs-keyword">const</span> mergedArr1 = [...arr1, ...arr2];

<span class="hljs-comment">// Object.assign ä¹Ÿå¯ä»¥ç”¨äºæ•°ç»„ï¼Œä½†ä¸å¤ªç›´è§‚</span>
<span class="hljs-keyword">const</span> mergedArr2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>([], arr1, arr2);
<span class="hljs-comment">// æ³¨æ„ï¼šObject.assignç”¨äºæ•°ç»„æ—¶ï¼Œä¼šæŠŠæ•°ç»„å½“ä½œå¯¹è±¡å¤„ç†</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mergedArr1); <span class="hljs-comment">// [1, 2, 3, 4, 5, 6]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mergedArr2); <span class="hljs-comment">// [1, 2, 3, 4, 5, 6]</span>
</code></pre>
<h3 data-id="heading-8">6. æ€§èƒ½è€ƒè™‘</h3>
<p>åœ¨ç°ä»£ JavaScript å¼•æ“ä¸­ï¼Œæ‰©å±•è¿ç®—ç¬¦é€šå¸¸æ¯”Â <code>Object.assign()</code>Â æ€§èƒ½æ›´å¥½ï¼Œå°¤å…¶æ˜¯åœ¨åˆ›å»ºæ–°å¯¹è±¡æ—¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦é€šå¸¸æ›´å¿«</span>
<span class="hljs-keyword">const</span> data = { <span class="hljs-comment">/* å¤§é‡æ•°æ® */</span> };

<span class="hljs-comment">// æ–¹å¼1ï¼šæ‰©å±•è¿ç®—ç¬¦ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">const</span> fastCopy = { ...data };

<span class="hljs-comment">// æ–¹å¼2ï¼šObject.assign</span>
<span class="hljs-keyword">const</span> slowCopy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, data);
</code></pre>
<h2 data-id="heading-9">å¦‚ä½•å®ç°æ·±æ‹·è´ï¼Ÿ</h2>
<p>å¦‚æœä½ éœ€è¦çœŸæ­£çš„æ·±æ‹·è´ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<h3 data-id="heading-10">1. JSON æ–¹æ³•ï¼ˆæœ‰å±€é™æ€§ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> deepCopy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(original));
<span class="hljs-comment">// ç¼ºç‚¹ï¼šä¸èƒ½å¤åˆ¶å‡½æ•°ã€Symbolã€undefinedã€å¾ªç¯å¼•ç”¨ç­‰</span>
</code></pre>
<h3 data-id="heading-11">2. é€’å½’å‡½æ•°</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) <span class="hljs-keyword">return</span> obj;
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>) <span class="hljs-keyword">return</span> obj.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">deepClone</span>(item));
  
  <span class="hljs-keyword">const</span> cloned = {};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) {
    <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
      cloned[key] = <span class="hljs-title function_">deepClone</span>(obj[key]);
    }
  }
  <span class="hljs-keyword">return</span> cloned;
}
</code></pre>
<h3 data-id="heading-12">3. ç¬¬ä¸‰æ–¹åº“</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Lodash</span>
<span class="hljs-keyword">const</span> cloned = _.<span class="hljs-title function_">cloneDeep</span>(original);

<span class="hljs-comment">// æˆ–ä½¿ç”¨ç°ä»£æµè§ˆå™¨å†…ç½®çš„APIï¼ˆå®éªŒæ€§ï¼‰</span>
<span class="hljs-keyword">const</span> cloned = <span class="hljs-title function_">structuredClone</span>(original);
</code></pre>
<h2 data-id="heading-13">æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</strong>ï¼Œè¯­æ³•æ›´ç®€æ´ç›´è§‚</li>
<li><strong>æ˜ç¡®çŸ¥é“æ˜¯æµ…æ‹·è´</strong>ï¼Œä¸è¦è¯¯ä»¥ä¸ºæ˜¯æ·±æ‹·è´</li>
<li><strong>éœ€è¦æ·±æ‹·è´æ—¶</strong>ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ·±æ‹·è´æ–¹æ¡ˆ</li>
<li><strong>åˆå¹¶é…ç½®æ—¶</strong>ï¼Œåé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„ï¼ˆä¸¤è€…ç›¸åŒï¼‰</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ¨èï¼šä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</span>
<span class="hljs-keyword">const</span> config = { ...defaultConfig, ...userConfig, ...overrideConfig };

<span class="hljs-comment">// æˆ–è€…å½“ç›®æ ‡å¯¹è±¡å·²å­˜åœ¨æ—¶ï¼Œä½¿ç”¨Object.assign</span>
<span class="hljs-keyword">const</span> existingObj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(existingObj, newProps); <span class="hljs-comment">// ä¿®æ”¹ç°æœ‰å¯¹è±¡</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¶æ„æ–¹æ³•ï¼ˆäºŒï¼‰ï¼šUMLå‰ç«¯å»ºæ¨¡çš„ä¸€èˆ¬æ–¹æ³•å’Œå·¥å…·]]></title>    <link>https://juejin.cn/post/7592410399917457449</link>    <guid>https://juejin.cn/post/7592410399917457449</guid>    <pubDate>2026-01-07T15:14:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592410399917457449" data-draft-id="7592241336288886835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¶æ„æ–¹æ³•ï¼ˆäºŒï¼‰ï¼šUMLå‰ç«¯å»ºæ¨¡çš„ä¸€èˆ¬æ–¹æ³•å’Œå·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶,UML"/> <meta itemprop="datePublished" content="2026-01-07T15:14:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¶æ„æ–¹æ³•ï¼ˆäºŒï¼‰ï¼šUMLå‰ç«¯å»ºæ¨¡çš„ä¸€èˆ¬æ–¹æ³•å’Œå·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:14:09.000Z" title="Wed Jan 07 2026 15:14:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2a6ac6106ad4aac974c0217a3099838~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768403826&amp;x-signature=GZ5WG9SJkIaw1njJMio%2F3pH4s00%3D" alt="image.png" loading="lazy"/>
å¦‚æœè¯´ <strong>4+1 è§†å›¾æ¨¡å‹</strong> æ˜¯æ¶æ„è®¾è®¡çš„**â€œæ€æƒ³æ¡†æ¶â€ <strong>ï¼ˆæˆ‘ä»¬è¦ç”»å“ªå‡ å¼ å›¾ï¼‰ï¼Œé‚£ä¹ˆ UML (Unified Modeling Language) å°±æ˜¯æ¶æ„è®¾è®¡çš„</strong>â€œé€šç”¨è¯­è¨€â€**ï¼ˆè¿™å‡ å¼ å›¾å…·ä½“æ€ä¹ˆç”»ï¼‰ã€‚</p>
<p>å¾ˆå¤šå‰ç«¯å¼€å‘è€…å¬åˆ° UML ä¼šè§‰å¾—é‚£æ˜¯åç«¯å†™ Java çš„äººæ‰ç”¨çš„ä¸œè¥¿ã€‚å…¶å®ä¸ç„¶ã€‚</p>
<p>å‰ç«¯æ¶æ„å¸ˆå¦‚æœä¸æŒæ¡ UMLï¼Œå°±åƒå»ºç­‘å¸ˆåªä¼šå£è¿°â€œè¿™é‡Œæœ‰ä¸ªæŸ±å­â€ï¼Œå´ç”»ä¸å‡ºç²¾ç¡®çš„å›¾çº¸ã€‚</p>
<p>â€œUML ä¸æ˜¯æ•™æ¡ï¼Œè€Œæ˜¯è®©ä½ çš„è®¾è®¡æ–‡æ¡£èƒ½è¢«å…¨çƒç¨‹åºå‘˜è¯»æ‡‚çš„ Esperantoï¼ˆä¸–ç•Œè¯­ï¼‰ã€‚â€</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[UMLå›¾åˆ†ç±»] --&gt; B[ç»“æ„å›¾]
    A --&gt; C[è¡Œä¸ºå›¾]
    
    B --&gt; B1[ç±»å›¾]
    B --&gt; B2[å¯¹è±¡å›¾]
    B --&gt; B3[ç»„ä»¶å›¾]
    B --&gt; B4[éƒ¨ç½²å›¾]
    B --&gt; B5[åŒ…å›¾]
    
    C --&gt; C1[ç”¨ä¾‹å›¾]
    C --&gt; C2[æ´»åŠ¨å›¾]
    C --&gt; C3[çŠ¶æ€æœºå›¾]
    C --&gt; C4[äº¤äº’å›¾]
    
    C4 --&gt; C4a[æ—¶åºå›¾]
    C4 --&gt; C4b[åä½œå›¾]
    C4 --&gt; C4c[äº¤äº’æ¦‚è§ˆå›¾]
    C4 --&gt; C4d[æ—¶åºå›¾]
</code></pre>
<p>æˆ‘å°†<strong>æŒ‘é€‰æœ€é€‚åˆå‰ç«¯æ¶æ„</strong>çš„ 5 ç§ UML å›¾ï¼Œå¹¶ç»“åˆ Mermaid ä»£ç è¿›è¡Œæ¼”ç¤ºã€‚</p>
<hr/>
<h3 data-id="heading-0">1. ä¸ºä»€ä¹ˆå‰ç«¯éœ€è¦ UMLï¼Ÿ</h3>
<p>åœ¨æ²¡æœ‰ UML çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”»å›¾é€šå¸¸æ˜¯â€œéšæ„å‘æŒ¥â€ï¼šåœ†åœˆä»£è¡¨ç»„ä»¶ï¼Œæ–¹å—ä»£è¡¨æ•°æ®åº“ï¼Œç®­å¤´ä»£è¡¨è¯·æ±‚ã€‚ä½†æ–°æ¥çš„åŒäº‹çœ‹ä¸æ‡‚ï¼š<em>è¿™ä¸ªç®­å¤´æ˜¯æ•°æ®æµå‘ï¼Œè¿˜æ˜¯ä¾èµ–å…³ç³»ï¼Ÿ</em></p>
<p>UML è§£å†³äº†<strong>æ­§ä¹‰æ€§</strong>ã€‚å®ƒè§„å®šï¼š</p>
<ul>
<li>å®çº¿ç®­å¤´ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ˜¯å…³è”ã€‚</li>
<li>è™šçº¿ç®­å¤´ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‡¢</mo></mrow><annotation encoding="application/x-tex">\dashrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.437em;"/><span class="mrel amsrm">â‡¢</span></span></span></span></span> æ˜¯ä¾èµ–ã€‚</li>
<li>ç©ºå¿ƒè±å½¢ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‹„</mo></mrow><annotation encoding="application/x-tex">\diamond</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord">â‹„</span></span></span></span></span> æ˜¯èšåˆã€‚</li>
</ul>
<p>æŒæ¡ UMLï¼Œå°±æ˜¯æŒæ¡äº†<strong>æŠ€æœ¯è®¾è®¡çš„æ ‡å‡†è¡¨è¾¾èƒ½åŠ›</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">2. å‰ç«¯æ¶æ„å¸ˆå¿…é¡»æŒæ¡çš„ 5 ç§ UML å›¾</h3>
<p>æˆ‘ä»¬å°†å®ƒä»¬æ˜ å°„å› <strong>4+1 è§†å›¾</strong>ï¼Œè®©ä½ çš„çŸ¥è¯†ä½“ç³»é—­ç¯ã€‚</p>
<h4 data-id="heading-2">â‘  ç”¨ä¾‹å›¾ (Use Case Diagram)</h4>
<ul>
<li><strong>å¯¹åº”è§†å›¾</strong>ï¼šåœºæ™¯è§†å›¾ (Scenarios)</li>
<li><strong>å‰ç«¯è§†è§’</strong>ï¼š<strong>è°ï¼ˆActorï¼‰</strong> åœ¨è¿™ä¸ªé¡µé¢ä¸Šèƒ½ <strong>åšä»€ä¹ˆï¼ˆUse Caseï¼‰</strong> ï¼Ÿ</li>
<li><strong>ä½œç”¨</strong>ï¼šç•Œå®šç³»ç»Ÿè¾¹ç•Œã€‚æ¯”å¦‚ï¼Œâ€œæ™®é€šç”¨æˆ·â€åªèƒ½æµè§ˆï¼Œâ€œç®¡ç†å‘˜â€å¯ä»¥åˆ é™¤ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    %% è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„ç”¨ä¾‹å›¾é£æ ¼
    User((Cç«¯ç”¨æˆ·))
    Admin((ç®¡ç†å‘˜))
    
    subgraph System [ç”µå•†å‰å°ç³»ç»Ÿ]
        direction TB
        UC1(æµè§ˆå•†å“)
        UC2(åŠ å…¥è´­ç‰©è½¦)
        UC3(åå°ä¸‹æ¶å•†å“)
    end
    
    User --&gt; UC1
    User --&gt; UC2
    Admin --&gt; UC3
</code></pre>
<h4 data-id="heading-3">â‘¡ ç±»å›¾ (Class Diagram)</h4>
<ul>
<li><strong>å¯¹åº”è§†å›¾</strong>ï¼šé€»è¾‘è§†å›¾ (Logical)</li>
<li><strong>å‰ç«¯è§†è§’</strong>ï¼š<strong>æ•°æ®æ¨¡å‹ (Interfaces/Entities)</strong> å’Œ <strong>ç»„ä»¶å…³ç³»</strong>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šæè¿° TypeScript æ¥å£å®šä¹‰ã€React/Vue ç»„ä»¶çš„ Props ç»§æ‰¿å…³ç³»ã€‚è¿™æ˜¯é‡æ„æ—¶æœ€æœ‰ç”¨çš„å›¾ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
    %% å®šä¹‰æ¥å£
    class User {
        +String id
        +String name
        +login()
    }
    
    class Cart {
        +List~Item~ items
        +calcTotal()
    }
    
    class Product {
        +String sku
        +Number price
    }
    
    %% å…³ç³»æè¿°
    User "1" --&gt; "1" Cart : æ‹¥æœ‰ &gt;
    Cart "1" o-- "*" Product : åŒ…å« &gt;
</code></pre>
<h4 data-id="heading-4">â‘¢ æ—¶åºå›¾ (Sequence Diagram) â€”â€” <strong>æœ€é‡è¦çš„å›¾</strong></h4>
<ul>
<li><strong>å¯¹åº”è§†å›¾</strong>ï¼šå¤„ç†è§†å›¾ (Process)</li>
<li><strong>å‰ç«¯è§†è§’</strong>ï¼š<strong>ç»„ä»¶ã€BFFã€åç«¯æœåŠ¡ä¹‹é—´çš„äº¤äº’é¡ºåº</strong>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šç†æ¸…å¼‚æ­¥æµç¨‹ã€‚æ¯”å¦‚ OAuth2 ç™»å½•æµç¨‹ã€æ”¯ä»˜å›è°ƒæµç¨‹ã€‚å‰ç«¯æœ€å®¹æ˜“å‡º Bug çš„åœ°æ–¹éƒ½åœ¨æ—¶åºä¸Šã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant UI as å‰ç«¯é¡µé¢
    participant BFF as BFFå±‚(Node)
    participant Auth as è®¤è¯æœåŠ¡
    
    User-&gt;&gt;UI: ç‚¹å‡»ç™»å½•
    UI-&gt;&gt;BFF: POST /api/login
    BFF-&gt;&gt;Auth: éªŒè¯è´¦å·å¯†ç 
    Auth--&gt;&gt;BFF: è¿”å› Token
    BFF--&gt;&gt;UI: Set-Cookie: Token
    UI--&gt;&gt;User: è·³è½¬è‡³é¦–é¡µ
</code></pre>
<h4 data-id="heading-5">â‘£ çŠ¶æ€å›¾ (State Diagram)</h4>
<ul>
<li><strong>å¯¹åº”è§†å›¾</strong>ï¼šå¤„ç†è§†å›¾ (Process)</li>
<li><strong>å‰ç«¯è§†è§’</strong>ï¼š<strong>å¤æ‚ UI çš„çŠ¶æ€æµè½¬</strong>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šæè¿°ä¸€ä¸ªå¯¹è±¡ï¼ˆå¦‚â€œè®¢å•â€ã€â€œæ’­æ”¾å™¨â€ã€â€œè¡¨å•â€ï¼‰ç”Ÿå‘½å‘¨æœŸå†…çš„æ‰€æœ‰çŠ¶æ€ã€‚æ¯”å¦‚è®¢å•ä»â€œå¾…æ”¯ä»˜â€åˆ°â€œå·²å‘è´§â€çš„å„ç§å˜è¿æ¡ä»¶ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">stateDiagram-v2
    [*] --&gt; Idle: é¡µé¢åŠ è½½
    Idle --&gt; Loading: ç”¨æˆ·ç‚¹å‡»æœç´¢
    Loading --&gt; Success: æ¥å£è¿”å› 200
    Loading --&gt; Error: æ¥å£è¿”å› 500
    
    Success --&gt; Idle: é‡æ–°æœç´¢
    Error --&gt; Loading: ç‚¹å‡»é‡è¯•
</code></pre>
<h4 data-id="heading-6">â‘¤ éƒ¨ç½²å›¾ (Deployment Diagram)</h4>
<ul>
<li><strong>å¯¹åº”è§†å›¾</strong>ï¼šç‰©ç†è§†å›¾ (Physical)</li>
<li><strong>å‰ç«¯è§†è§’</strong>ï¼š<strong>ä»£ç æ„å»ºåå»å“ªäº†ï¼Ÿ</strong></li>
<li><strong>ä½œç”¨</strong>ï¼šå±•ç¤º CDNã€Nginxã€å®¹å™¨ã€å®¢æˆ·ç«¯ç¯å¢ƒçš„æ‹“æ‰‘ç»“æ„ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    %% ================= æ ·å¼å®šä¹‰ =================
    classDef plain fill:#fff,stroke:#333,stroke-width:1px;
    classDef server fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;

    subgraph Client ["ç”¨æˆ·ç»ˆç«¯ (Client)"]
        direction TB
        Browser["Chrome/Safari"]:::plain
        App["App WebView"]:::plain
    end
    
    subgraph Network ["ç½‘ç»œå±‚ (Network)"]
        direction TB
        CDN(("CDN åŠ é€Ÿ")):::plain
        LB["Nginx è´Ÿè½½å‡è¡¡"]:::plain
    end
    
    subgraph Server ["æœåŠ¡ç«¯å®¹å™¨ (Server)"]
        direction TB
        %% ä¿®å¤ç‚¹ï¼šè¿™é‡Œå¿…é¡»åŠ åŒå¼•å· "..." å¦åˆ™æŠ¥é”™
        Node["SSR æœåŠ¡ (Pod)"]:::server
        API["åç«¯ API (Pod)"]:::server
    end
    
    %% è¿æ¥å…³ç³»
    Browser --&gt; CDN
    App --&gt; CDN
    CDN --&gt; LB
    LB --&gt; Node
    Node --&gt; API
</code></pre>
<h3 data-id="heading-7">3. å·¥å…·æ¨è (Tooling)</h3>
<p>ä½œä¸ºæ¶æ„å¸ˆï¼Œå·¥å…·çš„é€‰æ‹©ä½“ç°äº†æ•ˆç‡ã€‚</p>
<ol>
<li>
<p><strong>Mermaid (å¼ºçƒˆæ¨è)</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä»£ç å³å›¾è¡¨ (Diagram as Code)ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šç›´æ¥å†™åœ¨ Markdown æ–‡æ¡£ã€Notion æˆ–æ˜é‡‘æ–‡ç« é‡Œã€‚åˆ©äºç‰ˆæœ¬æ§åˆ¶ï¼ˆGit Diff èƒ½çœ‹å‡ºå›¾æ”¹äº†å“ªé‡Œï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>PlantUML</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåŠŸèƒ½æœ€å¼ºå¤§ï¼Œæ”¯æŒæœ€æ ‡å‡†çš„ UML è§„èŒƒã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šéå¸¸å¤æ‚çš„åç«¯æ¶æ„è®¾è®¡ã€‚</li>
</ul>
</li>
<li>
<p><strong>Draw.io / Excalidraw</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæ‹–æ‹½å¼ï¼Œæ‰‹ç»˜é£ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šå¤´è„‘é£æš´ï¼ŒPPT å±•ç¤ºï¼ˆExcalidraw çš„æ‰‹ç»˜é£éå¸¸é€‚åˆæŠ€æœ¯åˆ†äº«ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>éšæ„å‘æŒ¥</strong></p>
<ul>
<li>ç°åœ¨æœ‰å¾ˆå¤šAIå·¥ä½œæµçš„ç»˜å›¾ç½‘ç«™</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">4. è§‚ç‚¹å»ºè®®</h3>
<ol>
<li><strong>UML ä¸æ˜¯ä¸ºäº†ç”»ç»™åˆ«äººçœ‹ï¼Œè€Œæ˜¯ä¸ºäº†å¸®è‡ªå·±æƒ³æ¸…æ¥š</strong>ã€‚å¾ˆå¤šæ—¶å€™å›¾ç”»ä¸å‡ºæ¥ï¼Œè¯´æ˜é€»è¾‘æ²¡ç†é¡ºã€‚</li>
<li><strong>å‰ç«¯ä¸è¦è¿‡åº¦è®¾è®¡</strong>ã€‚ä¸éœ€è¦æŠŠæ¯ä¸€ä¸ªå‡½æ•°éƒ½ç”»è¿›ç±»å›¾é‡Œï¼Œåªç”»<strong>æ ¸å¿ƒé¢†åŸŸæ¨¡å‹</strong>å’Œ<strong>å…³é”®äº¤äº’é“¾è·¯</strong>ã€‚</li>
<li><strong>å›¾æ–‡ä¸ç¬¦æ˜¯ç¾éš¾</strong>ã€‚å¦‚æœä»£ç æ”¹äº†ï¼Œå›¾å¿…é¡»æ›´æ–°ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¨è Mermaidï¼ˆä»£ç åŒ–ï¼‰çš„åŸå› ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ã€Œä»é›¶åˆ°ä¸€ã€æˆ‘ç”¨ Node BFF æ‰‹æ’¸ä¸€ä¸ª Vue3 SSR é¡¹ç›®ï¼ˆé™„æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7592501225003991091</link>    <guid>https://juejin.cn/post/7592501225003991091</guid>    <pubDate>2026-01-07T15:18:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592501225003991091" data-draft-id="7592497088790462491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ã€Œä»é›¶åˆ°ä¸€ã€æˆ‘ç”¨ Node BFF æ‰‹æ’¸ä¸€ä¸ª Vue3 SSR é¡¹ç›®ï¼ˆé™„æºç ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-07T15:18:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="404æ˜Ÿçƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/193147068224126"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ã€Œä»é›¶åˆ°ä¸€ã€æˆ‘ç”¨ Node BFF æ‰‹æ’¸ä¸€ä¸ª Vue3 SSR é¡¹ç›®ï¼ˆé™„æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/193147068224126/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    404æ˜Ÿçƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:18:48.000Z" title="Wed Jan 07 2026 15:18:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æˆ‘ç”¨ BFF å®ç°äº†ä¸€ä¸ª SSR</h2>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Node.js ä½œä¸ºä¸­é—´å±‚ï¼ˆBFFï¼‰ï¼Œç»“åˆ Vue 3 å’Œ Vite å®ç°æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/221b851b531f44a9b7cbb93403d45356~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgNDA05pif55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768403927&amp;x-signature=Ts23OfvEE5iiAilgiGObB1PeJdA%3D" alt="é¡¹ç›®é¢„è§ˆ" loading="lazy"/></p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦ SSRï¼Ÿ</h3>
<p>åœ¨ä¼ ç»Ÿçš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œæµè§ˆå™¨é¦–å…ˆåŠ è½½ä¸€ä¸ªç©ºç™½çš„ HTMLï¼Œç„¶åé€šè¿‡ JavaScript åŠ¨æ€æ¸²æŸ“é¡µé¢å†…å®¹ã€‚è¿™ç§æ–¹å¼å­˜åœ¨ä¸¤ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼š</p>

















<table><thead><tr><th>é—®é¢˜</th><th>å½±å“</th></tr></thead><tbody><tr><td><strong>é¦–å±åŠ è½½æ…¢</strong></td><td>ç”¨æˆ·éœ€è¦ç­‰å¾… JS ä¸‹è½½ã€è§£æã€æ‰§è¡Œåæ‰èƒ½çœ‹åˆ°å†…å®¹</td></tr><tr><td><strong>SEO ä¸å‹å¥½</strong></td><td>æœç´¢å¼•æ“çˆ¬è™«å¯èƒ½æ— æ³•æ­£ç¡®ç´¢å¼•åŠ¨æ€ç”Ÿæˆçš„å†…å®¹</td></tr></tbody></table>
<p><strong>SSRï¼ˆServer-Side Renderingï¼‰</strong> å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™äº›é—®é¢˜â€”â€”åœ¨æœåŠ¡ç«¯å°±æŠŠé¡µé¢æ¸²æŸ“æˆå®Œæ•´çš„ HTMLï¼Œæµè§ˆå™¨æ‹¿åˆ°åç›´æ¥å±•ç¤ºã€‚</p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ BFFï¼Ÿ</h3>
<p><strong>BFFï¼ˆBackend For Frontendï¼‰</strong> æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼ŒæŒ‡çš„æ˜¯ä¸“é—¨ä¸ºå‰ç«¯æœåŠ¡çš„åç«¯å±‚ã€‚åœ¨ SSR åœºæ™¯ä¸­ï¼ŒNode.js ä½œä¸º BFF æ‰¿æ‹…ä¸¤ä¸ªæ ¸å¿ƒèŒè´£ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â NodeÂ BFFÂ èŒè´£Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Â Â <span class="hljs-number">1</span>ï¸âƒ£Â Â SSRÂ æ¸²æŸ“ï¼šå°†Â VueÂ ç»„ä»¶æ¸²æŸ“ä¸ºÂ <span class="hljs-selector-tag">HTML</span>Â å­—ç¬¦ä¸²Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”‚Â Â <span class="hljs-number">2</span>ï¸âƒ£Â Â APIÂ ä»£ç†ï¼šæä¾›å‰ç«¯éœ€è¦çš„æ¥å£ï¼Œèšåˆåç«¯æœåŠ¡Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-3">é¡¹ç›®æ¶æ„</h3>
<p>æˆ‘å®ç°çš„è¿™ä¸ª SSR é¡¹ç›®æ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æµè§ˆå™¨è¯·æ±‚
Â Â Â Â â”‚
Â Â Â Â â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â Â Â Â Â Â Â Â Â Â Node.jsÂ (Express)Â Â Â Â Â Â Â Â Â Â Â â”‚
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â BFFÂ ä¸­é—´å±‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Â Â â€¢Â å¤„ç†Â /api/*Â è¯·æ±‚Â â†’Â è¿”å›Â JSONÂ Â Â Â Â Â Â â”‚
â”‚Â Â â€¢Â å¤„ç†é¡µé¢è¯·æ±‚Â â†’Â SSRÂ æ¸²æŸ“Â HTMLÂ Â Â Â Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Â Â Â Â â”‚
Â Â Â Â â–¼
æµè§ˆå™¨æ˜¾ç¤ºÂ â†’Â JSÂ åŠ è½½Â â†’Â HydrationÂ æ¿€æ´»
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå®ç°</h3>
<h4 data-id="heading-5">1. é¡¹ç›®å…¥å£åˆ†ç¦»</h4>
<p>SSR é¡¹ç›®éœ€è¦ä¸¤ä¸ªå…¥å£æ–‡ä»¶ï¼š</p>




















<table><thead><tr><th>æ–‡ä»¶</th><th>è¿è¡Œç¯å¢ƒ</th><th>èŒè´£</th></tr></thead><tbody><tr><td><code>entry-server.js</code></td><td>Node.js</td><td>æ¸²æŸ“ Vue ç»„ä»¶ä¸º HTML å­—ç¬¦ä¸²</td></tr><tr><td><code>entry-client.js</code></td><td>æµè§ˆå™¨</td><td>æ¿€æ´»é™æ€ HTMLï¼Œæ¢å¤äº¤äº’èƒ½åŠ›</td></tr></tbody></table>
<p><strong>æœåŠ¡ç«¯å…¥å£ <code>entry-server.js</code>ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â {Â renderToStringÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">"vue/server-renderer"</span>;
<span class="hljs-keyword">import</span>Â {Â createAppÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">"./main.js"</span>;

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">render</span>(<span class="hljs-params">url</span>)Â {
Â Â <span class="hljs-keyword">const</span>Â {Â app,Â router,Â piniaÂ }Â =Â <span class="hljs-title function_">createApp</span>();

Â Â <span class="hljs-comment">//Â è®¾ç½®æœåŠ¡ç«¯è·¯ç”±</span>
Â Â router.<span class="hljs-title function_">push</span>(url);
Â Â <span class="hljs-keyword">await</span>Â router.<span class="hljs-title function_">isReady</span>();

Â Â <span class="hljs-comment">//Â æ¸²æŸ“ä¸ºÂ HTMLÂ å­—ç¬¦ä¸²</span>
Â Â <span class="hljs-keyword">const</span>Â htmlÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">renderToString</span>(app);

Â Â <span class="hljs-comment">//Â è¿”å›Â HTMLÂ å’ŒçŠ¶æ€ï¼ˆç”¨äºå®¢æˆ·ç«¯è¿˜åŸï¼‰</span>
Â Â <span class="hljs-keyword">const</span>Â stateÂ =Â pinia.<span class="hljs-property">state</span>.<span class="hljs-property">value</span>;
Â Â <span class="hljs-keyword">return</span>Â {Â html,Â stateÂ };
}
</code></pre>
<p><strong>å®¢æˆ·ç«¯å…¥å£ <code>entry-client.js</code>ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â {Â createAppÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">"./main.js"</span>;

<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">hydrate</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â {Â app,Â router,Â piniaÂ }Â =Â <span class="hljs-title function_">createApp</span>();

Â Â <span class="hljs-keyword">await</span>Â router.<span class="hljs-title function_">isReady</span>();

Â Â <span class="hljs-comment">//Â è¿˜åŸæœåŠ¡ç«¯çŠ¶æ€</span>
Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-variable language_">window</span>.<span class="hljs-property">__PINIA_STATE__</span>)Â {
Â Â Â Â pinia.<span class="hljs-property">state</span>.<span class="hljs-property">value</span>Â =Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">__PINIA_STATE__</span>;
Â Â }

Â Â <span class="hljs-comment">//Â æ¿€æ´»æœåŠ¡ç«¯æ¸²æŸ“çš„Â HTML</span>
Â Â app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">"#app"</span>);
}

<span class="hljs-title function_">hydrate</span>();
</code></pre>
<h4 data-id="heading-6">2. BFF æœåŠ¡å™¨å®ç°</h4>
<p>è¿™æ˜¯æ•´ä¸ª SSR çš„æ ¸å¿ƒâ€”â€”<code>server.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â expressÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">"express"</span>;
<span class="hljs-keyword">import</span>Â {Â renderToStringÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">"vue/server-renderer"</span>;

<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">createServer</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â appÂ =Â <span class="hljs-title function_">express</span>();

Â Â <span class="hljs-comment">//Â ==========Â BFFÂ APIÂ æ¥å£Â ==========</span>
Â Â app.<span class="hljs-title function_">get</span>(<span class="hljs-string">"/api/hello"</span>,Â <span class="hljs-function">(<span class="hljs-params">req,Â res</span>)Â =&gt;</span>Â {
Â Â Â Â res.<span class="hljs-title function_">json</span>({
Â Â Â Â Â Â <span class="hljs-attr">message</span>:Â <span class="hljs-string">"ä½ å¥½ï¼Œè¿™æ˜¯æ¥è‡ªÂ NodeÂ BFFÂ çš„å“åº”ï¼"</span>,
Â Â Â Â Â Â <span class="hljs-attr">timestamp</span>:Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
Â Â Â Â });
Â Â });

Â Â <span class="hljs-comment">//Â ==========Â SSRÂ æ¸²æŸ“Â ==========</span>
Â Â app.<span class="hljs-title function_">use</span>(<span class="hljs-string">"*"</span>,Â <span class="hljs-keyword">async</span>Â (req,Â res)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">const</span>Â urlÂ =Â req.<span class="hljs-property">originalUrl</span>;

Â Â Â Â <span class="hljs-comment">//Â 1.Â è¯»å–Â HTMLÂ æ¨¡æ¿</span>
Â Â Â Â <span class="hljs-keyword">let</span>Â templateÂ =Â fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"index.html"</span>,Â <span class="hljs-string">"utf-8"</span>);

Â Â Â Â <span class="hljs-comment">//Â 2.Â åŠ è½½æœåŠ¡ç«¯å…¥å£</span>
Â Â Â Â <span class="hljs-keyword">const</span>Â {Â renderÂ }Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">"./src/entry-server.js"</span>);

Â Â Â Â <span class="hljs-comment">//Â 3.Â æ‰§è¡Œæ¸²æŸ“</span>
Â Â Â Â <span class="hljs-keyword">const</span>Â {Â <span class="hljs-attr">html</span>:Â appHtml,Â stateÂ }Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">render</span>(url);

Â Â Â Â <span class="hljs-comment">//Â 4.Â æ³¨å…¥æ¸²æŸ“ç»“æœ</span>
Â Â Â Â <span class="hljs-keyword">let</span>Â finalHtmlÂ =Â template.<span class="hljs-title function_">replace</span>(<span class="hljs-string">"&lt;!--ssr-outlet--&gt;"</span>,Â appHtml);

Â Â Â Â <span class="hljs-comment">//Â 5.Â æ³¨å…¥åˆå§‹çŠ¶æ€</span>
Â Â Â Â finalHtmlÂ =Â finalHtml.<span class="hljs-title function_">replace</span>(
Â Â Â Â Â Â <span class="hljs-string">"&lt;/head&gt;"</span>,
Â Â Â Â Â Â <span class="hljs-string">`&lt;script&gt;window.__PINIA_STATE__Â =Â <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(
Â Â Â Â Â Â Â Â state
Â Â Â Â Â Â )}</span>&lt;/script&gt;&lt;/head&gt;`</span>
Â Â Â Â );

Â Â Â Â <span class="hljs-comment">//Â 6.Â è¿”å›å®Œæ•´Â HTML</span>
Â Â Â Â res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">set</span>({Â <span class="hljs-string">"Content-Type"</span>:Â <span class="hljs-string">"text/html"</span>Â }).<span class="hljs-title function_">end</span>(finalHtml);
Â Â });

Â Â app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
}
</code></pre>
<h4 data-id="heading-7">3. çŠ¶æ€ç®¡ç†ä¸ Hydration</h4>
<p>SSR æœ€å…³é”®çš„ä¸€æ­¥æ˜¯ <strong>çŠ¶æ€åŒæ­¥</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">  æœåŠ¡ç«¯æ¸²æŸ“æ—¶Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å®¢æˆ·ç«¯æ¿€æ´»æ—¶
Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â Â Â â–¼Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â PiniaÂ çŠ¶æ€Â Â â”‚Â â”€â”€åºåˆ—åŒ–æ³¨å…¥<span class="hljs-selector-tag">HTML</span>â”€â”€â†’Â â”‚Â Â è¿˜åŸçŠ¶æ€Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â Â Â â–¼Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â–¼
Â Â æ¸²æŸ“Â <span class="hljs-selector-tag">HTML</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Hydration
</code></pre>
<p>æœåŠ¡ç«¯ä¼šå°† Pinia çŠ¶æ€åºåˆ—åŒ–åæ³¨å…¥åˆ° HTML ä¸­ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
Â Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">__PINIA_STATE__</span>Â =Â {Â <span class="hljs-attr">counter</span>:Â {Â <span class="hljs-attr">count</span>:Â <span class="hljs-number">5</span>Â }Â };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å®¢æˆ·ç«¯åŠ è½½åè¯»å–è¿™ä¸ªçŠ¶æ€ï¼Œç¡®ä¿ Hydration æ—¶çŠ¶æ€ä¸€è‡´ï¼Œé¿å…"é—ªçƒ"é—®é¢˜ã€‚</p>
<h3 data-id="heading-8">SSR å®Œæ•´æµç¨‹</h3>
<p>æ•´ä¸ª SSR çš„å·¥ä½œæµç¨‹å¯ä»¥æ€»ç»“ä¸ºï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SSRÂ å®Œæ•´æµç¨‹Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â Â Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Â Â Â Â Â Â Â Â â–¼Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â–¼
Â Â Â ã€æœåŠ¡ç«¯é˜¶æ®µã€‘Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ã€å®¢æˆ·ç«¯é˜¶æ®µã€‘
Â Â Â Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â <span class="hljs-number">1</span>.Â æ¥æ”¶è¯·æ±‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">4</span>.Â æµè§ˆå™¨æ˜¾ç¤ºÂ <span class="hljs-selector-tag">HTML</span>
Â Â Â Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â <span class="hljs-number">2</span>.Â VueÂ ç»„ä»¶æ¸²æŸ“ä¸ºÂ <span class="hljs-selector-tag">HTML</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">5</span>.Â åŠ è½½å®¢æˆ·ç«¯Â JS
Â Â Â Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â <span class="hljs-number">3</span>.Â æ³¨å…¥çŠ¶æ€å¹¶è¿”å›Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">6</span>.Â HydrationÂ æ¿€æ´»
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">7</span>.Â åº”ç”¨å¯äº¤äº’Â âœ¨
</code></pre>
<h3 data-id="heading-9">å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒ</h3>
<p>é¡¹ç›®æ”¯æŒä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š</p>

















<table><thead><tr><th>æ¨¡å¼</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>é›†æˆ Viteï¼Œæ”¯æŒ HMR çƒ­æ›´æ–°</td></tr><tr><td><strong>ç”Ÿäº§æ¨¡å¼</strong></td><td>é¢„æ„å»ºäº§ç‰©ï¼Œæ€§èƒ½æ›´ä¼˜</td></tr></tbody></table>
<pre><code class="hljs language-arduino" lang="arduino">#Â å¼€å‘æ¨¡å¼
npmÂ runÂ dev

#Â ç”Ÿäº§æ„å»ºÂ +Â å¯åŠ¨
npmÂ runÂ build
npmÂ runÂ serve
</code></pre>
<h3 data-id="heading-10">åŠŸèƒ½æ¼”ç¤º</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9ae479b1d7d479f80a6497880848620~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgNDA05pif55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768403927&amp;x-signature=l6zHoj13TmSZjTVsHV4ALc5m0w8%3D" alt="åŠŸèƒ½æ¼”ç¤º" loading="lazy"/></p>
<p>æ¼”ç¤ºå†…å®¹ï¼š</p>
<ul>
<li>â€¢ âœ… è®¡æ•°å™¨çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰</li>
<li>â€¢ âœ… BFF API è°ƒç”¨ï¼ˆExpressï¼‰</li>
<li>â€¢ âœ… è·¯ç”±åˆ‡æ¢ï¼ˆVue Routerï¼‰</li>
<li>â€¢ âœ… å®¢æˆ·ç«¯ Hydration</li>
</ul>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„ Vue 3 SSR åº”ç”¨ï¼Œæ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li>
<ol>
<li><strong>BFF æ¶æ„</strong>ï¼šNode.js åŒæ—¶æ‰¿æ‹… API æœåŠ¡å’Œ SSR æ¸²æŸ“èŒè´£</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>å…¥å£åˆ†ç¦»</strong>ï¼šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å„è‡ªæœ‰ç‹¬ç«‹çš„å…¥å£æ–‡ä»¶</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>çŠ¶æ€åŒæ­¥</strong>ï¼šæœåŠ¡ç«¯çŠ¶æ€åºåˆ—åŒ–æ³¨å…¥ HTMLï¼Œå®¢æˆ·ç«¯è¿˜åŸå Hydration</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>Vite åŠ æŒ</strong>ï¼šå¼€å‘ä½“éªŒæä½³ï¼ŒHMR ç§’çº§åˆ·æ–°</li>
</ol>
</li>
</ol>
<p>å¦‚æœä½ ä¹Ÿæƒ³äº†è§£ SSRï¼Œæ¬¢è¿ Clone è¿™ä¸ªé¡¹ç›®å­¦ä¹ ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">  gitÂ <span class="hljs-built_in">clone</span>Â https://github.com/xiaogao007/vue3-ssr-demo
</code></pre>
<hr/>
<p><strong>ä½œè€…ï¼šå°é«˜</strong><br/>
<strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaogao007%2Fvue3-ssr-demo" target="_blank" title="https://github.com/xiaogao007/vue3-ssr-demo" ref="nofollow noopener noreferrer">vue3-ssr-demo</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦æ‹†è§£ï¼šä» npm install åˆ°æ‰‹å†™ä¸€ä¸ªå…¨å±€ CLI å·¥å…·]]></title>    <link>https://juejin.cn/post/7592759902675468334</link>    <guid>https://juejin.cn/post/7592759902675468334</guid>    <pubDate>2026-01-08T02:01:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592759902675468334" data-draft-id="7592552501579022362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦æ‹†è§£ï¼šä» npm install åˆ°æ‰‹å†™ä¸€ä¸ªå…¨å±€ CLI å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-08T02:01:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€šæ å¬é£é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/2682464103830750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦æ‹†è§£ï¼šä» npm install åˆ°æ‰‹å†™ä¸€ä¸ªå…¨å±€ CLI å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2682464103830750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€šæ å¬é£é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T02:01:59.000Z" title="Thu Jan 08 2026 02:01:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æ‰§è¡Œ <code>npm install @vue/cli -g</code>ã€‚æ‰§è¡Œå®Œåï¼Œä¸ºä»€ä¹ˆå°±èƒ½åœ¨ç»ˆç«¯éšå¤„è¾“å…¥ <code>vue</code> å‘½ä»¤ï¼Ÿç”µè„‘èƒŒååšäº†ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‹¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„å‘½ä»¤ï¼Ÿæœ¬æ–‡å°†å¸¦ä½ ä¸€æ¢ç©¶ç«Ÿã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ å‘½ä»¤æ‹†è§£ï¼š<code>npm install @vue/cli -g</code></h2>
<ul>
<li><strong>npm</strong>: Node åŒ…ç®¡ç†å™¨ï¼Œè´Ÿè´£ä¸‹è½½ã€å®‰è£…å’Œç®¡ç†ä¾èµ–ã€‚</li>
<li><strong>install (i)</strong>: å‘Šè¯‰ npm æ‰§è¡Œå®‰è£…åŠ¨ä½œã€‚</li>
<li><strong>@vue/cli</strong>: åŒ…åã€‚<code>@vue</code> æ˜¯ç»„ç»‡å‘½åç©ºé—´ï¼Œ<code>cli</code> æ˜¯å…·ä½“å·¥å…·ã€‚</li>
<li><strong>-g (Global)</strong>: <strong>å…³é”®å‚æ•°</strong>ã€‚è¡¨ç¤ºå…¨å±€å®‰è£…ï¼Œè¿™æ˜¯å‘½ä»¤èƒ½â€œéšå¤„å¯ç”¨â€çš„å‰æã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€ æ ¸å¿ƒåŸç†ï¼šä¸ºä»€ä¹ˆå…¨å±€å®‰è£…åå‘½ä»¤èƒ½éšå¤„å¯ç”¨ï¼Ÿ</h2>
<p>å½“ä½ æŒ‰ä¸‹å›è½¦é”®æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿå†…éƒ¨ç»å†äº†ä¸€åœºâ€œæ¥åŠ›èµ›â€ï¼š</p>
<h3 data-id="heading-2">1. å¯»æ‰¾â€œå¿«æ·æ–¹å¼â€</h3>
<p>åœ¨ Windows æˆ– macOS/Linux ä¸­ï¼Œç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªç¯å¢ƒå˜é‡å« <strong>PATH</strong>ã€‚</p>
<ul>
<li>å½“ä½ å…¨å±€å®‰è£…åŒ…æ—¶ï¼Œnpm ä¼šæŠŠåŒ…ä¸‹è½½åˆ°å…¨å±€ç›®å½•ï¼Œå¹¶åŒæ—¶åœ¨ç³»ç»Ÿçš„ PATH è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ª<strong>åŒåçš„å¿«æ·æ–¹å¼ï¼ˆè½¯é“¾æ¥ï¼‰</strong>ã€‚</li>
<li>å½“ä½ è¾“å…¥ <code>vue</code> æ—¶ï¼ŒShellï¼ˆç»ˆç«¯ï¼‰ä¼šå» PATH åŒ…å«çš„æ–‡ä»¶å¤¹é‡ŒæŒ¨ä¸ªæ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†è¿™ä¸ªå¿«æ·æ–¹å¼ã€‚</li>
</ul>
<h3 data-id="heading-3">2. è¯†åˆ«â€œè§£é‡Šå™¨â€ï¼ˆShebangï¼‰</h3>
<p>æ‰¾åˆ°æ–‡ä»¶åï¼Œç³»ç»Ÿä¼šè¯»å–æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚é€šå¸¸ CLI å·¥å…·çš„ç¬¬ä¸€è¡Œæ˜¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>
</code></pre>
<p>è¿™è¡Œä»£ç å« <strong>Shebang</strong>ã€‚å®ƒå‘Šè¯‰æ“ä½œç³»ç»Ÿï¼šâ€œè™½ç„¶è¿™çœ‹èµ·æ¥æ˜¯ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œä½†è¯·è°ƒç”¨ <strong>Node.js</strong> æ¥è¿è¡Œæˆ‘â€ã€‚</p>
<h3 data-id="heading-4">3. è¿è¡Œè„šæœ¬</h3>
<p>ç³»ç»Ÿå¯åŠ¨ Node.jsï¼Œå¹¶å°†å‰©ä¸‹çš„å‚æ•°ï¼ˆå¦‚ <code>create my-project</code>ï¼‰ä¼ é€’ç»™è„šæœ¬ï¼Œè„šæœ¬å¼€å§‹æ‰§è¡Œé€»è¾‘ï¼ˆå¦‚åˆ›å»ºæ–‡ä»¶å¤¹ã€æ‹‰å–æ¨¡æ¿ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ å®æˆ˜ï¼šæ‰‹å†™ä¸€ä¸ªè‡ªå·±çš„ CLI å‘½ä»¤</h2>
<p>ç†è§£å‘½ä»¤æœ€å¥½çš„æ–¹å¼æ˜¯è‡ªå·±å†™ä¸€ä¸ªã€‚</p>
<h3 data-id="heading-6">1. åˆå§‹åŒ–é¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> my-cli &amp;&amp; <span class="hljs-built_in">cd</span> my-cli
npm init -y
</code></pre>
<h3 data-id="heading-7">2. åˆ›å»ºæ ¸å¿ƒä»£ç  <code>index.js</code></h3>
<p>æ–‡ä»¶é¡¶éƒ¨å¿…é¡»åŠ ä¸Š Shebangï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä½ å¥½ï¼è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå…¨å±€å‘½ä»¤ï¼"</span>);

<span class="hljs-comment">// è·å–ç”¨æˆ·è¾“å…¥çš„å‚æ•°</span>
<span class="hljs-keyword">const</span> args = process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>);
<span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ è¾“å…¥çš„å‚æ•°æ˜¯: <span class="hljs-subst">${args.join(<span class="hljs-string">', '</span>)}</span>`</span>);
}
</code></pre>
<h3 data-id="heading-8">3. é…ç½® <code>package.json</code></h3>
<p>æ·»åŠ  <code>bin</code> å­—æ®µï¼Œå»ºç«‹â€œå‘½ä»¤åâ€åˆ°â€œè„šæœ¬æ–‡ä»¶â€çš„æ˜ å°„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hi-cli"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bin"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"hi-cli"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./index.js"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">4. æœ¬åœ°æ¨¡æ‹Ÿå®‰è£…</h3>
<p>åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm <span class="hljs-built_in">link</span>
</code></pre>
<p>ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨ç”µè„‘ä»»ä½•åœ°æ–¹è¾“å…¥ <code>hi-cli hello</code> çœ‹çœ‹æ•ˆæœäº†ï¼</p>
<hr/>
<h2 data-id="heading-10">å››ã€ è¿›é˜¶ï¼šnpm å®ƒæ˜¯å¦‚ä½•æ‰¾åˆ°ä»£ç å¹¶ä¸‹è½½çš„ï¼Ÿ</h2>
<p>å½“ä½ æ‰§è¡Œå®‰è£…å‘½ä»¤æ—¶ï¼Œnpm ç»å†äº†ä»¥ä¸‹æµç¨‹ï¼š</p>
<ol>
<li><strong>ç¡®å®šæºï¼ˆRegistryï¼‰</strong>ï¼šæ£€æŸ¥æ˜¯å» npm å®˜æ–¹æºï¼ˆregistry.npmjs.orgï¼‰è¿˜æ˜¯æ·˜å®é•œåƒæºã€‚</li>
<li><strong>è·å–å…ƒæ•°æ®</strong>ï¼šè¯·æ±‚æœåŠ¡å™¨è·å–åŒ…çš„ JSON ä¿¡æ¯ï¼ˆåŒ…å«æ‰€æœ‰ç‰ˆæœ¬å·ã€ä¸‹è½½åœ°å€ã€å“ˆå¸Œå€¼ï¼‰ã€‚</li>
<li><strong>ä¸‹è½½å‹ç¼©åŒ…</strong>ï¼šæ ¹æ®ç‰ˆæœ¬è¦æ±‚æ‰¾åˆ° <code>.tar.gz</code> åœ°å€ï¼Œä¸‹è½½åˆ°æœ¬åœ°ç¼“å­˜ã€‚</li>
<li><strong>æ ¡éªŒä¸è§£å‹</strong>ï¼šé€šè¿‡å“ˆå¸Œå€¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å®Œæ•´ï¼Œç„¶åè§£å‹åˆ°å…¨å±€ <code>node_modules</code>ã€‚</li>
<li><strong>ç”Ÿæˆè½¯é“¾</strong>ï¼šæ ¹æ® <code>package.json</code> é‡Œçš„ <code>bin</code> é…ç½®ï¼Œåœ¨ç³»ç»Ÿ PATH ä¸‹ç”Ÿæˆå¯æ‰§è¡Œçš„å¿«æ·æ–¹å¼ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-11">äº”ã€ æˆæœåˆ†äº«ï¼šå¦‚ä½•å‘å¸ƒä½ çš„å‘½ä»¤åˆ° npmï¼Ÿ</h2>
<p>æƒ³è®©å…¨ä¸–ç•Œçš„äººéƒ½ç”¨ä½ çš„ <code>hi-cli</code>ï¼Ÿåªéœ€ç®€å•å‡ æ­¥ï¼š</p>
<h3 data-id="heading-12">1. æ³¨å†Œä¸éªŒè¯</h3>
<ul>
<li>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2F" target="_blank" title="https://www.npmjs.com/" ref="nofollow noopener noreferrer">npmjs.com</a> æ³¨å†Œè´¦å·ã€‚</li>
<li><strong>å¿…é¡»</strong>å»é‚®ç®±å®ŒæˆéªŒè¯ï¼ˆå¦åˆ™å‘å¸ƒä¼šæŠ¥ 403 é”™è¯¯ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-13">2. ç™»å½•ä¸å‘å¸ƒ</h3>
<ol>
<li><strong>åˆ‡æ¢åˆ°å®˜æ–¹æº</strong>ï¼ˆå¦‚æœæ˜¯æ·˜å®æºæ— æ³•å‘å¸ƒï¼‰ï¼š
<code>npm config set registry https://registry.npmjs.org/</code></li>
<li><strong>ç™»å½•</strong>ï¼š
<code>npm login</code></li>
<li><strong>å‘å¸ƒ</strong>ï¼š
<code>npm publish</code>
<em>(å¦‚æœæ˜¯ä½œç”¨åŸŸåŒ…å¦‚ @me/hi-cliï¼Œéœ€ä½¿ç”¨ <code>npm publish --access public</code>)</em></li>
</ol>
<h3 data-id="heading-14">3. å…³äºæ·˜å®é•œåƒ</h3>
<p>ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¸Šä¼ åˆ°æ·˜å®é•œåƒã€‚å®˜æ–¹ npm å‘å¸ƒåï¼Œæ·˜å®é•œåƒé€šå¸¸ä¼šåœ¨å‡ åˆ†é’Ÿå†…è‡ªåŠ¨åŒæ­¥ã€‚å¦‚æœæ²¡æœ‰åŒæ­¥ï¼Œå¯ä»¥å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fnpmmirror.com%2F" target="_blank" title="https://npmmirror.com/" ref="nofollow noopener noreferrer">npmmirror.com</a> æ‰‹åŠ¨ç‚¹å‡» <strong>Sync</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-15">å…­ã€ æ€»ç»“</h2>
<ol>
<li><strong>å‘½ä»¤çš„æœ¬è´¨</strong>ï¼šæ˜¯ä¸€ä¸ªåœ¨ <code>package.json</code> ä¸­é…ç½®äº†åå­—ã€å¹¶è¢«æ”¾åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡è·¯å¾„ä¸‹çš„æ™®é€šè„šæœ¬æ–‡ä»¶ã€‚</li>
<li><strong>å…¨å±€å®‰è£…çš„æ„ä¹‰</strong>ï¼šåœ¨äºå»ºç«‹ç³»ç»Ÿçº§å¿«æ·æ–¹å¼ã€‚</li>
<li><strong>å¼€å‘è€…çš„åŠ›é‡</strong>ï¼šé€šè¿‡ npm æ³¨å†Œè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€é”®è·å–å¹¶å¤ç”¨å…¨ä¸–ç•Œå¼€å‘è€…çš„æ™ºæ…§ã€‚</li>
</ol>
<hr/>
<p><em>å¸Œæœ›è¿™ä»½ç¬”è®°å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[tp_router: å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å†™è·¯ç”±è¡¨äº†]]></title>    <link>https://juejin.cn/post/7592276645361811456</link>    <guid>https://juejin.cn/post/7592276645361811456</guid>    <pubDate>2026-01-07T11:55:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361811456" data-draft-id="7592431064976572431" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="tp_router: å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å†™è·¯ç”±è¡¨äº†"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-07T11:55:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœªæ¥çŒ«å’ªèŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/1081575169340526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            tp_router: å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å†™è·¯ç”±è¡¨äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575169340526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœªæ¥çŒ«å’ªèŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:55:15.000Z" title="Wed Jan 07 2026 11:55:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨è¿‡ <code>go_router</code> å’Œ <code>auto_router</code> çš„éƒ½çŸ¥é“ï¼Œè·¯ç”±è¡¨è¿˜æ˜¯è¦è‡ªå·±æ‰‹å†™ã€‚</p>
<p>é¡µé¢ä¸€å¤šï¼Œç»´æŠ¤èµ·æ¥æ˜¯çœŸçš„çƒ¦ã€‚æ”¹ä¸ªè·¯å¾„è¦æ”¹å¥½å‡ ä¸ªåœ°æ–¹ï¼Œå‚æ•°ä¼ é€’è¿˜å®¹æ˜“å‡ºé”™ã€‚</p>
<p><strong>TpRouter å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼šåŠ ä¸ªæ³¨è§£ï¼Œè·¯ç”±è¡¨è‡ªåŠ¨ç”Ÿæˆï¼Œå‚æ•°ç±»å‹å®‰å…¨ã€‚</strong></p>
<blockquote>
<p>tp = teleportï¼ˆä¼ é€ï¼‰ï¼Œå°±åƒ LOL é‡Œçš„ä¼ é€æŠ€èƒ½ï¼Œä¸€é”®åˆ°è¾¾ç›®çš„åœ°ã€‚</p>
</blockquote>
<h2 data-id="heading-0">çœ‹ä»£ç </h2>
<h3 data-id="heading-1">ä»¥å‰æ€ä¹ˆå†™</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å®šä¹‰è·¯ç”±è¡¨</span>
<span class="hljs-keyword">final</span> routes = {
  <span class="hljs-string">'/user'</span>: (context) =&gt; UserPage(
    id: <span class="hljs-built_in">int</span>.parse(ModalRoute.of(context)!.settings.arguments <span class="hljs-keyword">as</span> <span class="hljs-built_in">String</span>),
  ),
};

<span class="hljs-comment">// è·³è½¬</span>
Navigator.pushNamed(context, <span class="hljs-string">'/user'</span>, arguments: <span class="hljs-string">'42'</span>);
</code></pre>
<p>å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œç±»å‹ä¸å®‰å…¨ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“é”™äº†ã€‚</p>
<h3 data-id="heading-2">ç°åœ¨æ€ä¹ˆå†™</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åŠ ä¸ªæ³¨è§£ï¼Œæ„é€ å‡½æ•°å‚æ•°è‡ªåŠ¨è¯†åˆ«</span>
<span class="hljs-meta">@TpRoute</span>(path: <span class="hljs-string">'/user/:id'</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> id;  <span class="hljs-comment">// è‡ªåŠ¨ä»è·¯å¾„è§£æ</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> section;
  
  <span class="hljs-keyword">const</span> UserPage({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.id,
    <span class="hljs-keyword">this</span>.section = <span class="hljs-string">'profile'</span>,
    <span class="hljs-keyword">super</span>.key,
  });
}

<span class="hljs-comment">// æ³¨è§£ä¼šç”Ÿæˆ UserRoute å¯¹è±¡</span>
<span class="hljs-comment">// è·³è½¬å°±æ˜¯è°ƒç”¨ .tp()</span>
UserRoute(id: <span class="hljs-number">42</span>, section: <span class="hljs-string">'posts'</span>).tp(context);
</code></pre>
<p>è¿è¡Œ <code>dart run build_runner build</code>ï¼Œè·¯ç”±è¡¨è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b58dddf381614afcb52365b4b8e142ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyq5p2l54yr5ZKq6Iqx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392532&amp;x-signature=R00OPi62Lf%2FZLTWsfRJf6UJLC5s%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">æ ¸å¿ƒåŠŸèƒ½</h2>
<p><strong>æ³¨è§£é©±åŠ¨</strong> - åœ¨é¡µé¢ç±»ä¸ŠåŠ  <code>@TpRoute</code>ï¼Œè·¯ç”±è¡¨è‡ªåŠ¨ç”Ÿæˆ<br/>
<strong>ç±»å‹å®‰å…¨</strong> - æ„é€ å‡½æ•°å‚æ•°è‡ªåŠ¨æ˜ å°„ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹<br/>
<strong>API ç®€å•</strong> - <code>.tp(context)</code> ä¸€é”®ä¼ é€</p>
<h2 data-id="heading-4">å¯¹æ¯” auto_route</h2>
<p>auto_route ä¹Ÿç”¨æ³¨è§£ï¼Œä½†è¿˜æ˜¯è¦æ‰‹å†™è·¯ç”±è¡¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@AutoRoute</span>()
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{ ... }

<span class="hljs-comment">// è¿˜è¦åœ¨ @AutoRouterConfig é‡Œæ‰‹åŠ¨é…ç½®</span>
<span class="hljs-meta">@AutoRouterConfig</span>(routes: [
  AutoRoute(page: UserRoute.page, path: <span class="hljs-string">'/user/:id'</span>),
  AutoRoute(page: HomeRoute.page, path: <span class="hljs-string">'/'</span>),
  <span class="hljs-comment">// é¡µé¢ä¸€å¤šï¼Œè¿™é‡Œå°±å¾ˆé•¿...</span>
])
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppRouter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RootStackRouter</span> </span>{}
</code></pre>
<p><strong>TpRouter ä¸ç”¨ã€‚</strong> åŠ å®Œæ³¨è§£ç›´æ¥ buildï¼Œè·¯ç”±è¡¨å…¨è‡ªåŠ¨ç”Ÿæˆï¼Œé›¶é…ç½®ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@TpRoute</span>(path: <span class="hljs-string">'/user/:id'</span>)  <span class="hljs-comment">// è·¯å¾„å†™åœ¨è¿™é‡Œ</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{ ... }

<span class="hljs-comment">// main.dart åªéœ€è¦</span>
<span class="hljs-keyword">final</span> router = TpRouter(routes: tpRoutes);  <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆçš„åˆ—è¡¨</span>
</code></pre>
<p>é¡µé¢è¶Šå¤šï¼Œä¼˜åŠ¿è¶Šæ˜æ˜¾ã€‚</p>
<h2 data-id="heading-5">å…¶ä»–åŠŸèƒ½</h2>
<p><strong>é‡å®šå‘å®ˆå«</strong></p>
<pre><code class="hljs language-dart" lang="dart">FutureOr&lt;TpRouteBase?&gt; checkAuth(BuildContext context, ProtectedRoute route) {
  <span class="hljs-keyword">if</span> (!AuthService.isLoggedIn) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> LoginRoute();
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
}

<span class="hljs-meta">@TpRoute</span>(path: <span class="hljs-string">'/protected'</span>, redirect: checkAuth)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProtectedPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{ ... }
</code></pre>
<p><strong>Shell è·¯ç”±ï¼ˆåº•éƒ¨å¯¼èˆªæ ï¼‰</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@TpShellRoute</span>(navigatorKey: <span class="hljs-string">'main'</span>, isIndexedStack: <span class="hljs-keyword">true</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainShell</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{ ... }

<span class="hljs-meta">@TpRoute</span>(path: <span class="hljs-string">'/'</span>, parentNavigatorKey: <span class="hljs-string">'main'</span>, branchIndex: <span class="hljs-number">0</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{ ... }
</code></pre>
<h2 data-id="heading-6">å®‰è£…</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">tp_router:</span> <span class="hljs-string">^0.1.0</span>
  <span class="hljs-attr">tp_router_annotation:</span> <span class="hljs-string">^0.1.0</span>

<span class="hljs-attr">dev_dependencies:</span>
  <span class="hljs-attr">build_runner:</span> <span class="hljs-string">^2.4.0</span>
  <span class="hljs-attr">tp_router_generator:</span> <span class="hljs-string">^0.1.0</span>
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() {
  <span class="hljs-keyword">final</span> router = TpRouter(routes: tpRoutes);
  runApp(MaterialApp.router(routerConfig: router.routerConfig));
}
</code></pre>
<h2 data-id="heading-7">é“¾æ¥</h2>
<ul>
<li>GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flwj1994%2Ftp_router" target="_blank" title="https://github.com/lwj1994/tp_router" ref="nofollow noopener noreferrer">github.com/lwj1994/tp_â€¦</a></li>
<li>pub.dev: <a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Ftp_router" target="_blank" title="https://pub.dev/packages/tp_router" ref="nofollow noopener noreferrer">pub.dev/packages/tpâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»„ä»¶åŒ–]]></title>    <link>https://juejin.cn/post/7592276645361893376</link>    <guid>https://juejin.cn/post/7592276645361893376</guid>    <pubDate>2026-01-07T12:33:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361893376" data-draft-id="7592089325912408064" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»„ä»¶åŒ–"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-07T12:33:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XRay"/> <meta itemprop="url" content="https://juejin.cn/user/3966693685869288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»„ä»¶åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693685869288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XRay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:33:50.000Z" title="Wed Jan 07 2026 12:33:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéšç€å‚ä¸äººå‘˜çš„å¢å¤šä»¥åŠåŠŸèƒ½çš„å¢åŠ ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨åˆç†çš„å¼€å‘æ¶æ„ï¼Œä»£ç ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè€¦åˆè¶Šæ¥è¶Šä¸¥é‡ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>ç»„ä»¶åŒ–</strong>åº”è¿è€Œç”Ÿã€‚</p>
<h2 data-id="heading-1">ç»„ä»¶åŒ–çš„ä¼˜åŠ¿</h2>
<p>ç»„ä»¶åŒ–å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š<br/></p>
<ol>
<li>å¯ä»¥å•ç‹¬è°ƒè¯•å’Œè¿è¡Œå•ç‹¬çš„ä¸šåŠ¡æ¨¡å—ï¼Œè¿™æ ·å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºè‡ªå·±è´Ÿè´£çš„ä¸šåŠ¡æ¨¡å—çš„å¼€å‘ï¼Œæé«˜å¼€å‘çš„æ•ˆç‡ã€‚</li>
<li>å¯ä»¥é™ä½ä»£ç çš„è€¦åˆåº¦ï¼Œä¸ä¼šå¯¼è‡´ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œæ–°åŠ å…¥çš„å¼€å‘äººå‘˜ä¹Ÿæ›´å®¹æ˜“ä¸Šæ‰‹é¡¹ç›®ã€‚å„ä¸šåŠ¡æ¨¡å—ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œä¹Ÿä¼šå‡å°‘æäº¤ä»£ç å†²çªçš„é—®é¢˜ã€‚</li>
<li>å¯ä»¥çµæ´»é…ç½®ä¾èµ–çš„æ¨¡å—ï¼Œè®©åŸºç¡€æ¨¡å—æ›´å¥½åœ°å¾—åˆ°é‡ç”¨ã€‚</li>
<li>å¯ä»¥è®©å¼€å‘äººå‘˜çš„åˆ†å·¥æ›´åŠ æ˜ç¡®ï¼Œåˆ«çš„æ¨¡å—çš„å¼€å‘äººå‘˜ä¸èƒ½è½»æ˜“ä¿®æ”¹ä½ è´Ÿè´£çš„æ¨¡å—çš„ä»£ç ã€‚</li>
</ol>
<h2 data-id="heading-2">ç¤ºä¾‹</h2>
<p>ä¸‹é¢æˆ‘å°±ç”¨ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¥è§£é‡Šå¦‚ä½•å®ç°Appçš„ç»„ä»¶åŒ–ã€‚</p>
<p>ç°åœ¨æœ‰ä¸€ä¸ªåº”ç”¨å¸‚åœº App ï¼Œè¯¥ App åŒ…å«5ä¸ªæ¨¡å—ï¼š</p>
<ul>
<li><code>appæ¨¡å—</code>ï¼šApp çš„å…¥å£ï¼›</li>
<li><code>homeæ¨¡å—</code>ï¼šApp çš„é¦–é¡µï¼Œä¸»è¦ç”¨äºå±•ç¤ºé¦–é¡µæ¨èä¸‹è½½çš„åº”ç”¨ï¼›</li>
<li><code>gameæ¨¡å—</code>ï¼šä¸»è¦ç”¨äºå±•ç¤ºæ¨èä¸‹è½½çš„æ¸¸æˆåº”ç”¨ï¼›</li>
<li><code>downloadæ¨¡å—</code>ï¼šä¸»è¦ç”¨äºå±•ç¤ºä¸‹è½½é¡¹çš„åˆ—è¡¨å’Œä¸‹è½½é¡¹çš„æ§åˆ¶ï¼›</li>
<li><code>baseæ¨¡å—</code>ï¼šæä¾› BaseActivity ã€ BaseFragment ã€å›¾ç‰‡åŠ è½½ã€ç½‘ç»œè¯·æ±‚ç­‰åŸºç¡€èƒ½åŠ›ï¼Œå„ä¸ªä¸šåŠ¡æ¨¡å—éƒ½éœ€è¦ä¾èµ–å®ƒï¼›</li>
</ul>
<p>app æ¨¡å—éœ€è¦ä¾èµ– home æ¨¡å—å’Œ game æ¨¡å—ï¼ŒåŒæ—¶ï¼Œhome æ¨¡å—å’Œ game æ¨¡å—éœ€è¦æ˜¾ç¤ºåº”ç”¨çš„ä¸‹è½½è¿›åº¦ï¼Œéœ€è¦ä¾èµ– download æ¨¡å—ï¼Œè¿™æ ·ï¼Œæ²¡æœ‰å®ç°ç»„ä»¶åŒ–ä¹‹å‰ï¼Œå„æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03290b05500549eda1dd6929889a69de~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=896&amp;h=966&amp;s=75829&amp;e=png&amp;b=fdfdfd" alt="image.png" width="50%" loading="lazy"/>
<h4 data-id="heading-3">ç»„ä»¶ç‹¬ç«‹è°ƒè¯•</h4>
<p>å®ç°ç»„ä»¶åŒ–ï¼Œé¦–å…ˆæˆ‘ä»¬è¦è®© home æ¨¡å—ã€ game æ¨¡å—ã€ download æ¨¡å—è¿™å‡ ä¸ªä¸šåŠ¡æ¨¡å—å¯ä»¥å•ç‹¬è°ƒè¯•å’Œè¿è¡Œï¼Œå¦‚ä½•å®ç°å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨å·¥ç¨‹çš„ gradle.properties ä¸­é…ç½®ä¸€ä¸ªå¸¸é‡å€¼ <code>moduleRunAlone</code> ï¼Œå€¼ä¸º true å³è¡¨ç¤ºè¿™å‡ ä¸ªä¸šåŠ¡æ¨¡å—å¯ä»¥ç‹¬ç«‹è°ƒè¯•å’Œè¿è¡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Enables the module to run alone</span>
<span class="hljs-attr">moduleRunAlone</span> = <span class="hljs-literal">true</span>
</code></pre>
<p>ç„¶ååœ¨å„ä¸šåŠ¡æ¨¡å—çš„ build.gradle ä¸­è¯»å– moduleRunAlone çš„å€¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">if(moduleRunAlone<span class="hljs-selector-class">.toBoolean</span>()){
    apply plugin: <span class="hljs-string">'com.android.application'</span>
}else{
    apply plugin: <span class="hljs-string">'com.android.library'</span>
}

android {
    sourceSets {
        <span class="hljs-selector-tag">main</span> {
            // å•ç‹¬è°ƒè¯•ä¸é›†æˆè°ƒè¯•æ—¶ä½¿ç”¨ä¸åŒçš„ AndroidManifest<span class="hljs-selector-class">.xml</span> æ–‡ä»¶
            if (moduleRunAlone<span class="hljs-selector-class">.toBoolean</span>()) {
                manifest<span class="hljs-selector-class">.srcFile</span> '<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/moduleManifest/AndroidManifest<span class="hljs-selector-class">.xml</span>'
            } else {
                manifest<span class="hljs-selector-class">.srcFile</span> '<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/AndroidManifest<span class="hljs-selector-class">.xml</span>'
            }
        }
    }
}
</code></pre>
<p>Android Studio å¼€å‘ Android é¡¹ç›®ä½¿ç”¨çš„æ˜¯ Gradle æ¥æ„å»ºçš„ï¼Œ Gradle æä¾›äº† 3 ç§æ’ä»¶ï¼Œè¿™é‡Œé€šè¿‡è¯»å– moduleRunAlone çš„å€¼æ¥é…ç½® module çš„ç±»å‹ï¼š<br/></p>
<ul>
<li><code> application æ’ä»¶</code>ï¼šapply plugin: 'com.android.application'<br/></li>
<li><code> library æ’ä»¶</code>ï¼šapply plugin: 'com.android.library'<br/></li>
</ul>
<p>åœ¨å¯¹åº”çš„ä¸šåŠ¡æ¨¡å—ä¸­ï¼Œæ–°å»º moduleManifest ç›®å½•ï¼Œæ·»åŠ æ¨¡å—å•ç‹¬è°ƒè¯•å¯¹åº”çš„ AndroidManifest.xml æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61fc93d10a184d7487c8d963c090681c~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=606&amp;h=598&amp;s=56356&amp;e=png&amp;b=fefcfc" alt="image.png" width="50%" loading="lazy"/>
<p>ç„¶ååœ¨ build.gradle ä¸­æ ¹æ® moduleRunAlone çš„å€¼æ¥é…ç½®ä¸åŒçš„ AndroidManifest.xml æ–‡ä»¶çš„è·¯å¾„ã€‚</p>
<p>åœ¨ home æ¨¡å—ä¸­ï¼Œé›†æˆè°ƒè¯•çš„å…¥å£é¡µé¢æ˜¯ HomeFragment ï¼Œå•ç‹¬è°ƒè¯•éœ€è¦æœ‰å…¥å£ Activity ï¼Œè¿™é‡Œæˆ‘ä»¬æ–°å»º HomeActivity ä½œä¸ºå…¥å£ Activity :</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_home);

        <span class="hljs-type">FragmentManager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getSupportFragmentManager();
        <span class="hljs-type">FragmentTransaction</span> <span class="hljs-variable">ft</span> <span class="hljs-operator">=</span> manager.beginTransaction();
        ft.add(R.id.container_fragment, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HomeFragment</span>());
        ft.commit();
    }
}
</code></pre>
<p>activity_home.xml:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/container_fragment"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">"parent"</span>
        <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">"parent"</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span>
</code></pre>
<p>è¿™æ ·å•ç‹¬è°ƒè¯•çš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ HomeActivity æ¥å¯åŠ¨ HomeFragmentäº†ã€‚</p>
<p>å•ç‹¬è°ƒè¯•çš„ AndroidManifest.xml ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">package</span>=<span class="hljs-string">"com.example.home"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">application</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".HomeApp"</span>
        <span class="hljs-attr">android:allowBackup</span>=<span class="hljs-string">"true"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/Theme.AppCompat.Light.NoActionBar"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">".HomeActivity"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.MAIN"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.LAUNCHER"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<p>è¿™æ ·é…ç½®å®Œæˆåï¼ŒæŠŠ moduleRunAlone çš„å€¼æ”¹ä¸º true ï¼Œç„¶å Sync Project ï¼Œ home æ¨¡å—å°±å¯ä»¥å•ç‹¬è¿è¡Œäº†ï¼Œè¿™æ ·å°±æŠŠ home æ¨¡å—æ”¹é€ æˆäº†ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹è°ƒè¯•è¿è¡Œçš„<strong>ç»„ä»¶</strong>ã€‚</p>
<h4 data-id="heading-4">é¡µé¢è·³è½¬</h4>
<p>ç»„ä»¶åŒ–çš„æ ¸å¿ƒæ˜¯è§£è€¦ï¼Œç»„ä»¶é—´ä¸èƒ½æœ‰ä¾èµ–ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°ç»„ä»¶é—´çš„é¡µé¢è·³è½¬å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ç‚¹å‡» HomeFragment ä¸­çš„æŸä¸ªåº”ç”¨åï¼Œæˆ‘éœ€è¦è·³è½¬åˆ° download ç»„ä»¶ä¸‹çš„ DownloadActivity æ¥ä¸‹è½½è¯¥åº”ç”¨ï¼Œç”±äº home ç»„ä»¶ä¸ä¾èµ– download ç»„ä»¶ï¼Œç›´æ¥è·³è½¬æ˜¯è¡Œä¸é€šçš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ ARouter æ¥è¿›è¡Œè·³è½¬ã€‚</p>
<p>ARouter æ˜¯é˜¿é‡Œå¼€å‘çš„ï¼Œæ˜¯ä¸€ä¸ªå¸®åŠ©å®‰å“ App è¿›è¡Œç»„ä»¶åŒ–æ”¹é€ çš„è·¯ç”±æ¡†æ¶ã€‚</p>
<p>å‰é¢æåˆ°ï¼Œå„ä¸ªä¸šåŠ¡æ¨¡å—éƒ½ä¾èµ– base æ¨¡å—ï¼Œæˆ‘ä»¬åœ¨ base æ¨¡å—çš„ build.gradle ä¸­ä½¿ç”¨ api æ¥æ·»åŠ  ARouter ä¾èµ–ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">api <span class="hljs-string">"com.alibaba:arouter-api:1.5.2"</span>
</code></pre>
<p>è¿™æ ·åœ¨å„ä¸ªä¸šåŠ¡æ¨¡å—ä¸­å¯ä»¥ä¼ é€’ä¾èµ–ARouteråº“ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ arouter-compiler çš„ annotationProcessor ä¾èµ–éœ€è¦åœ¨æ‰€æœ‰ä½¿ç”¨åˆ° ARouter çš„æ¨¡å—ä¸­å•ç‹¬æ·»åŠ ï¼Œå¦åˆ™æ— æ³•ç”Ÿæˆç´¢å¼•æ–‡ä»¶ï¼Œä¼šå¯¼è‡´æ— æ³•è·³è½¬æˆåŠŸï¼Œå¹¶ä¸”è¿˜è¦åœ¨å¯¹åº”æ¨¡å—çš„ build.gradle ä¸­æ·»åŠ ç‰¹å®šé…ç½®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ home æ¨¡å—çš„ build.gradle æ·»åŠ çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">android {
    defaultConfig {
        javaCompileOptions {
            annotationProcessorOptions {
                <span class="hljs-variable language_">arguments</span> = [ moduleName : project.<span class="hljs-title function_">getName</span>() ]
            }
        }
    }
}

dependencies {
    <span class="hljs-comment">//ä½¿ç”¨ARouterçš„æ¨¡å—éœ€æ·»åŠ è¿™ä¸ªä¾èµ–</span>
    annotationProcessor <span class="hljs-string">'com.alibaba:arouter-compiler:1.1.4'</span>
}
</code></pre>
<p>åœ¨DownloadActivityä¸Šæ·»åŠ æ³¨è§£ <code>@Route(path = "/download/DownloadActivity")</code> ï¼Œè·¯å¾„æ³¨æ„è‡³å°‘éœ€è¦æœ‰ä¸¤çº§ï¼Œå‰é¢çš„ download å¯¹åº”æ¨¡å—åï¼Œä¸ build.gradle ä¸­é…ç½®çš„ moduleName å¯¹åº”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Route(path = "/download/DownloadActivity")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DownloadActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_download);
        ...
    }
} 
</code></pre>
<p>ä» HomeFragment è·³è½¬åˆ° DownloadActivity éœ€è°ƒç”¨ä½¿ç”¨ ARouter è¿›è¡Œè·³è½¬ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeFragment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fragment</span> {

    <span class="hljs-meta">@Nullable</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> LayoutInflater inflater, <span class="hljs-meta">@Nullable</span> ViewGroup container, <span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> inflater.inflate(R.layout.fragment_home, container, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">return</span> view;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onViewCreated</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View view, <span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onViewCreated(view, savedInstanceState);
        ...
        <span class="hljs-type">Button</span> <span class="hljs-variable">btnDownload</span> <span class="hljs-operator">=</span> view.findViewById(R.id.btn_download);
        btnDownload.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View v)</span> {
                <span class="hljs-comment">// ä½¿ç”¨ ARouter è¿›è¡Œè·³è½¬</span>
                ARouter.getInstance()
                        .build(<span class="hljs-string">"/download/DownloadActivity"</span>)
                        .navigation();
            }
        });
        ...
    }
}
</code></pre>
<p>æ­¤æ—¶è¿˜æ— æ³•è·³è½¬æˆåŠŸï¼Œè¦åœ¨ app æ¨¡å—çš„ Application ä¸­åˆå§‹åŒ– ARouter :</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onCreate();
        <span class="hljs-keyword">if</span>(BuildConfig.DEBUG){
            ARouter.openLog();
            ARouter.openDebug();
        }
        ARouter.init(<span class="hljs-built_in">this</span>);
        ...
    }
} 
</code></pre>
<p>ç”±äºç»„ä»¶é—´ä¸èƒ½æœ‰ä¾èµ–ï¼Œ home ç»„ä»¶ä¸èƒ½ä¾èµ– download ç»„ä»¶ï¼Œä½†æ˜¯ home ç»„ä»¶å’Œ download ç»„ä»¶éƒ½éœ€è¦å‚ä¸ç¼–è¯‘ï¼Œå¦åˆ™ä¸èƒ½ç”Ÿæˆè·¯ç”±ï¼Œå¯ä»¥è®© app æ¨¡å—ä¾èµ– home æ¨¡å—å’Œ download æ¨¡å—æ¥å®Œæˆç¼–è¯‘ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Gradle 3.0 æ–°æä¾›çš„ä¾èµ–æ–¹å¼ runtimeOnly ï¼Œé€šè¿‡ runtimeOnly æ–¹å¼ä¾èµ–æ—¶ï¼Œä¾èµ–é¡¹ä»…åœ¨è¿è¡Œæ—¶å¯è§ï¼Œç¼–è¯‘æœŸé—´ä¾èµ–é¡¹çš„ä»£ç æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œåˆ™ app æ¨¡å—çš„ build.gradle é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">dependencies {
    runtimeOnly <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">':home'</span>)</span>
    runtimeOnly <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":download"</span>)</span>
    runtimeOnly <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":game"</span>)</span>
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":base"</span>)</span>
}
</code></pre>
<p>è¿™æ ·åœ¨ç¼–è¯‘æœŸï¼Œ app æ¨¡å—ä¸ home æ¨¡å—ã€ download æ¨¡å—ã€ game æ¨¡å—éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼Œé‚£ä¹ˆåœ¨ app æ¨¡å—ä¸­çš„ HomeActivity ä¸­å’Œæ€ä¹ˆæ‹¿åˆ° home æ¨¡å—ä¸­çš„ HomeFragment å’Œ game æ¨¡å—ä¸­çš„ GameFragment ï¼Œå®ç°è¿™ä¸¤ä¸ª Fragment çš„åˆ‡æ¢å‘¢ï¼Ÿç­”æ¡ˆè¿˜æ˜¯ä½¿ç”¨ ARouter ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RadioGroup</span>.OnCheckedChangeListener {

    Fragment mHomeTabFragment;

    Fragment mGameTabFragment;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_home);

        <span class="hljs-type">RadioGroup</span> <span class="hljs-variable">rg_tab</span> <span class="hljs-operator">=</span> findViewById(R.id.tabs);
        rg_tab.setOnCheckedChangeListener(<span class="hljs-built_in">this</span>);

        initDefaultFragment();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCheckedChanged</span><span class="hljs-params">(RadioGroup group, <span class="hljs-type">int</span> checkedId)</span> {
        hideAllFragments();
        <span class="hljs-keyword">switch</span> (checkedId) {
            <span class="hljs-keyword">case</span> R.id.main_tab_home:
                replaceFragment(<span class="hljs-number">0</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> R.id.main_tab_game:
                replaceFragment(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">break</span>;
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initDefaultFragment</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (mHomeTabFragment == <span class="hljs-literal">null</span>) {
            mHomeTabFragment = (Fragment) ARouter.getInstance().build(<span class="hljs-string">"/home/homeFragment"</span>).navigation();
        }
        <span class="hljs-type">FragmentTransaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getSupportFragmentManager().beginTransaction();
        transaction.replace(R.id.container_fragment, mHomeTabFragment, <span class="hljs-string">"home"</span>);
        transaction.commit();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">replaceFragment</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> {
        <span class="hljs-type">FragmentTransaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getSupportFragmentManager().beginTransaction();
        <span class="hljs-keyword">switch</span> (position) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> (mHomeTabFragment == <span class="hljs-literal">null</span>) {
                    mHomeTabFragment = (Fragment) ARouter.getInstance().build(<span class="hljs-string">"/home/homeFragment"</span>).navigation();
                    transaction.add(R.id.container_fragment, mHomeTabFragment, <span class="hljs-string">"home"</span>);
                }
                transaction.show(mHomeTabFragment);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                <span class="hljs-keyword">if</span> (mGameTabFragment == <span class="hljs-literal">null</span>) {
                    mGameTabFragment = (Fragment) ARouter.getInstance().build(<span class="hljs-string">"/game/gameFragment"</span>).navigation();
                    transaction.add(R.id.container_fragment, mGameTabFragment, <span class="hljs-string">"game"</span>);
                }
                transaction.show(mGameTabFragment);
                <span class="hljs-keyword">break</span>;
        }
        transaction.commitAllowingStateLoss();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideAllFragments</span><span class="hljs-params">()</span> {
        <span class="hljs-type">FragmentTransaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getSupportFragmentManager().beginTransaction();
        <span class="hljs-keyword">if</span> (mHomeTabFragment != <span class="hljs-literal">null</span>) {
            transaction.hide(mHomeTabFragment);
        }
        <span class="hljs-keyword">if</span> (mGameTabFragment != <span class="hljs-literal">null</span>) {
            transaction.hide(mGameTabFragment);
        }
        transaction.commitAllowingStateLoss();
    }
}
</code></pre>
<h4 data-id="heading-5">ç»„ä»¶é—´é€šä¿¡</h4>
<p>æœ‰æ—¶å€™ç»„ä»¶ä¹‹é—´æ²¡æœ‰åŠæ³•åšåˆ°å®Œå…¨éš”ç¦»ï¼Œæ¯”å¦‚ï¼Œhome ç»„ä»¶çš„ HomeFragment ä¸­éœ€è¦æ˜¾ç¤ºæŸä¸€ä¸ªåº”ç”¨çš„ä¸‹è½½è¿›åº¦ï¼Œ home ç»„ä»¶ä¸ download ç»„ä»¶ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä» download æ¨¡å—ä¸­æ‹†åˆ†å‡ºä¸€ä¸ªæš´éœ²çš„æ¨¡å—ï¼šexport_downloadï¼Œé‡Œé¢æä¾›æ¥å£ç»™ home ç»„ä»¶ä½¿ç”¨ã€‚</p>
<p>å¹³æ—¶å¼€å‘ä¸­æˆ‘ä»¬å¸¸ç”¨æ¥å£è¿›è¡Œè§£è€¦ï¼Œä¸éœ€è¦å…³å¿ƒæ¥å£çš„å…·ä½“å®ç°ï¼Œé¿å…æ¥å£è°ƒç”¨ä¸ä¸šåŠ¡é€»è¾‘å®ç°ä¹‹é—´ç´§å¯†å…³è”ï¼Œè¿™é‡Œç»„ä»¶é—´çš„é€šä¿¡ä¹Ÿæ˜¯é‡‡ç”¨ç›¸åŒçš„æ€è·¯ã€‚</p>
<p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ª library æ¨¡å—ï¼šexport_download ï¼Œ home æ¨¡å—å’Œ download æ¨¡å—éƒ½ä¾èµ– export_download æ¨¡å—ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨ home æ¨¡å—å’Œ download æ¨¡å—çš„ build.grale ä¸­æ·»åŠ </span>
dependencies {
    implementation <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">":export_download"</span>)</span>
}
</code></pre>
<p>åœ¨ export_download æ¨¡å—ä¸­æ·»åŠ  IDownloadService ç»§æ‰¿ IProvider ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IDownloadService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IProvider</span> {
    <span class="hljs-type">int</span> <span class="hljs-title function_">getDownloadProgress</span><span class="hljs-params">(String name)</span>;
}
</code></pre>
<p>download æ¨¡å—ä¸­æœ‰å¯¹è¿™ä¸ªæ¥å£çš„å…·ä½“å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Route(path = "/download/service")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DownloadServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDownloadService</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getDownloadProgress</span><span class="hljs-params">(String name)</span> {
        Map&lt;String, Integer&gt; progressMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        progressMap.put(<span class="hljs-string">"tiktok"</span>, <span class="hljs-number">47</span>);
        progressMap.put(<span class="hljs-string">"weibo"</span>, <span class="hljs-number">89</span>);
        <span class="hljs-keyword">return</span> progressMap.get(name);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(Context context)</span> {

    }
}
</code></pre>
<p>è¿™æ ·ï¼Œåœ¨é›†æˆè°ƒè¯•æ¨¡å¼ä¸‹ï¼Œhome æ¨¡å—ä¸­çš„ HomeFragment å¯ä»¥é€šè¿‡ ARouter æ¥è·å–å…¶ä¸­æŸä¸ªåº”ç”¨çš„ä¸‹è½½è¿›åº¦ï¼Œè¿™æ ·å°±å®ç°äº†ç»„ä»¶é—´çš„é€šä¿¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Route(path = "/home/homeFragment")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeFragment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fragment</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onViewCreated</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View view, <span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onViewCreated(view, savedInstanceState);

        <span class="hljs-type">TextView</span> <span class="hljs-variable">tv1</span> <span class="hljs-operator">=</span> view.findViewById(R.id.tv1);
        <span class="hljs-type">IDownloadService</span> <span class="hljs-variable">downloadService</span> <span class="hljs-operator">=</span> (IDownloadService) ARouter.getInstance().build(<span class="hljs-string">"/download/service"</span>).navigation();
        tv1.setText(<span class="hljs-string">"Weibo:"</span> + downloadService.getDownloadProgress(<span class="hljs-string">"weibo"</span>) + <span class="hljs-string">"%"</span>);
    }

}
</code></pre>
<h4 data-id="heading-6">Applicaiton çš„ç”Ÿå‘½å‘¨æœŸåˆ†å‘</h4>
<p>æˆ‘ä»¬é€šå¸¸ä¼šåœ¨ app æ¨¡å—çš„ Application çš„ onCreate() æ–¹æ³•ä¸­åšä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œè€Œä¸šåŠ¡ç»„ä»¶æœ‰æ—¶ä¹Ÿéœ€è¦æ‰§è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œç›´æ¥ä¸€è‚¡è„‘éƒ½åœ¨ app æ¨¡å—çš„ Application ä¸­åˆå§‹åŒ–ä¸å°±è¡Œäº†å—ï¼Œä½†æ˜¯è¿™æ ·åšä¼šå¸¦æ¥é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ› app æ¨¡å—ä¸ä¸šåŠ¡ç»„ä»¶ä¹‹é—´çš„ä»£ç æ˜¯éš”ç¦»ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›ç»„ä»¶å†…éƒ¨çš„ä»»åŠ¡è¦åœ¨ç»„ä»¶å†…éƒ¨åˆå§‹åŒ–ã€‚</p>
<p>è¿™é‡Œä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhufeiyang%2FAndroid-AppLifecycleMgr" title="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhufeiyang%2FAndroid-AppLifecycleMgr" target="_blank"><strong>AppLifeCycleæ’ä»¶</strong></a> ï¼Œå®ƒå¯ä»¥è®©ä¸šåŠ¡ç»„ä»¶æ— ä¾µå…¥åœ°è·å– Application ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¸“é—¨ç”¨åœ¨ç»„ä»¶åŒ–å¼€å‘ä¸­ï¼Œä½¿ç”¨å app æ¨¡å—çš„ Application çš„ç”Ÿå‘½å‘¨æœŸä¼šä¸»åŠ¨åˆ†å‘ç»™ä¸šåŠ¡ç»„ä»¶ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<br/></p>
<ol>
<li>åœ¨é¡¹ç›®çš„ build.gradle ä¸­æ·»åŠ  applifecycle æ’ä»¶ä»“ï¼š</li>
</ol>
<pre><code class="hljs language-rust" lang="rust">buildscript {
    repositories {
        <span class="hljs-title function_ invoke__">google</span>()
        <span class="hljs-title function_ invoke__">jcenter</span>()

        <span class="hljs-comment">// applifecycle æ’ä»¶ä»“ä¹Ÿæ˜¯ jitpack</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//jitpack.io' }</span>
    }
    dependencies {
        classpath <span class="hljs-symbol">'com</span>.android.tools.build:gradle:<span class="hljs-number">4.2</span>.<span class="hljs-number">2</span>'

        <span class="hljs-comment">// åŠ è½½æ’ä»¶ applifecycle</span>
        classpath <span class="hljs-symbol">'com</span>.github.hufeiyang.Android-AppLifecycleMgr:applifecycle-plugin:<span class="hljs-number">1.0</span>.<span class="hljs-number">3</span>' }
}

allprojects {
    repositories {
        <span class="hljs-title function_ invoke__">google</span>()
        <span class="hljs-title function_ invoke__">jcenter</span>()

        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//jitpack.io' }</span>
    }
}
</code></pre>
<ol start="2">
<li>åœ¨ app çš„ build.grale ä¸­æ·»åŠ ï¼š</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ·»åŠ ä½¿ç”¨æ’ä»¶ applifecycle</span>
apply plugin: <span class="hljs-string">'com.hm.plugin.lifecycle'</span>
</code></pre>
<ol start="3">
<li>åœ¨ base æ¨¡å—ä¸­æ·»åŠ ä¾èµ–ï¼š</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// base æ¨¡å—çš„ build.grale</span>
dependencies {
    api <span class="hljs-string">'com.github.hufeiyang.Android-AppLifecycleMgr:applifecycle-api:1.0.4'</span>
}
</code></pre>
<ol start="4">
<li>åœ¨ä¸šåŠ¡ç»„ä»¶ä¸­æ·»åŠ ä¾èµ–ï¼š</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino">dependencies { 
    annotationProcessor <span class="hljs-string">'com.github.hufeiyang.Android-AppLifecycleMgr:applifecycle-compiler:1.0.4'</span>
}
</code></pre>
<ol start="5">
<li>Sync Projectåï¼Œåœ¨ä¸šåŠ¡ç»„ä»¶ä¸­æ–°å»ºç±»å®ç° IApplicationLifecycleCallbacks æ¥å£å¹¶æ·»åŠ  <code>@AppLifecycle</code> æ³¨è§£ï¼Œç”¨äºæ¥æ”¶ Application ç”Ÿå‘½å‘¨æœŸçš„åˆ†å‘ï¼Œå¦‚ download æ¨¡å—æ–°å»ºç±»å¦‚ä¸‹ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@AppLifecycle</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeAppLifecycleCallbacks</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IApplicationLifecycleCallbacks</span> {


    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPriority</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Context context)</span> {
        Log.i(<span class="hljs-string">"HomeApp"</span>, <span class="hljs-string">"onCreate"</span>);
        <span class="hljs-comment">//å¯åœ¨æ­¤å¤„åšæ¨¡å—å†…ä»»åŠ¡çš„åˆå§‹åŒ–</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onTerminate</span><span class="hljs-params">()</span> {

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onLowMemory</span><span class="hljs-params">()</span> {

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onTrimMemory</span><span class="hljs-params">(<span class="hljs-type">int</span> level)</span> {

    }
}
</code></pre>
<p>å®ç°çš„æ–¹æ³•æœ‰ onCreate() ã€ onTerminate() ã€ onLowMemory() ã€ onTrimMemory() ã€ getPriority() ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ onCreate() æ–¹æ³•ï¼Œå¯åœ¨æ­¤å¤„åšæ¨¡å—å†…ä»»åŠ¡çš„åˆå§‹åŒ–ã€‚è¿˜å¯ä»¥é€šè¿‡ getPriority() æ–¹æ³•è®¾ç½®å¤šä¸ªæ¨¡å—ä¸­ onCreate() æ–¹æ³•è°ƒç”¨çš„ä¼˜å…ˆé¡ºåºã€‚</p>
<ol start="6">
<li>åœ¨ app çš„ Application ä¸­è§¦å‘ç”Ÿå‘½å‘¨æœŸçš„åˆ†å‘ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onCreate();
        Log.i(<span class="hljs-string">"App"</span>, <span class="hljs-string">"onCreate"</span>);
        ...
        ApplicationLifecycleManager.init();
        ApplicationLifecycleManager.onCreate(<span class="hljs-built_in">this</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onTerminate</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onTerminate();

        ApplicationLifecycleManager.onTerminate();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onLowMemory</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onLowMemory();

        ApplicationLifecycleManager.onLowMemory();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onTrimMemory</span><span class="hljs-params">(<span class="hljs-type">int</span> level)</span> {
        <span class="hljs-built_in">super</span>.onTrimMemory(level);

        ApplicationLifecycleManager.onTrimMemory(level);
    }

}
</code></pre>
<p>App è¿è¡Œåé€šè¿‡æ‰“å°å¯ä»¥çœ‹åˆ° HomeAppLifecycleCallbacks çš„ onCreate() æ–¹æ³•ä¹Ÿä¼šéšä¹‹æ‰§è¡Œã€‚</p>
<p>HomeAppLifecycleCallbacks ç”¨äºé›†æˆè°ƒè¯•ä¸­ï¼Œæ¨¡å—ç‹¬ç«‹è°ƒè¯•å¯ä»¥è‡ªå·±æ–°å»ºä¸€ä¸ª HomeApp æ¥æ‰§è¡Œç‹¬ç«‹è°ƒè¯•è¿è¡Œéœ€è¦çš„åˆå§‹åŒ–æ“ä½œã€‚</p>
<p>å®ç°ç»„ä»¶åŒ–åï¼Œå„æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bee5dc62894f45cfb84c5c4198a79417~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=914&amp;h=926&amp;s=108926&amp;e=png&amp;b=fefefe" alt="image.png" width="70%" loading="lazy"/>
<p>app æ¨¡å—ä¾èµ–æ‰€æœ‰çš„ä¸šåŠ¡æ¨¡å—ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°ä¸‹è½½çš„æ¨¡å—éƒ½éœ€è¦ä¾èµ– export_download æ¨¡å—ï¼Œè¿˜æœ‰ï¼Œæ‰€æœ‰æ¨¡å—éƒ½éœ€è¦ä¾èµ– base æ¨¡å—ã€‚è¿™é‡Œæ‰€æœ‰æ¨¡å—é—´çš„ä¾èµ–å…³ç³»éƒ½ä¸ä½¿ç”¨ api ä¼ é€’ä¾èµ–ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†åç»­ä¾èµ–çš„çµæ´»é…ç½®ã€‚åç»­å¯ä»¥æŠŠå„ä¸ªæ¨¡å—ç¼–è¯‘ç”Ÿæˆçš„ aar åŒ…éƒ½ä¸Šä¼ åˆ° maven ä»“åº“ï¼Œè¿™æ ·å¯ä»¥åƒä¾èµ–æ™®é€šæ’ä»¶ä¸€æ ·é…ç½®ä¾èµ–çš„æ¨¡å—ï¼Œè¿™æ ·åšè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œåˆ«çš„æ¨¡å—çš„å¼€å‘äººå‘˜æ²¡æœ‰åŠæ³•è½»æ˜“ä¿®æ”¹ä½ è´Ÿè´£çš„æ¨¡å—çš„ä»£ç äº†ã€‚</p>
<p>Demoåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FEnzoXRay%2FMyComponent" target="_blank" title="https://github.com/EnzoXRay/MyComponent" ref="nofollow noopener noreferrer">github.com/EnzoXRay/Myâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹ä¹â€”â€”å¯åŠ¨æ€§èƒ½ä¼˜åŒ–:Bootã€å†·å¯åŠ¨ä¸çƒ­å¯åŠ¨]]></title>    <link>https://juejin.cn/post/7592432859862974498</link>    <guid>https://juejin.cn/post/7592432859862974498</guid>    <pubDate>2026-01-07T14:15:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862974498" data-draft-id="7592276645362089984" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹ä¹â€”â€”å¯åŠ¨æ€§èƒ½ä¼˜åŒ–:Bootã€å†·å¯åŠ¨ä¸çƒ­å¯åŠ¨"/> <meta itemprop="keywords" content="Android,Debug,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-01-07T14:15:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹ä¹â€”â€”å¯åŠ¨æ€§èƒ½ä¼˜åŒ–:Bootã€å†·å¯åŠ¨ä¸çƒ­å¯åŠ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:15:43.000Z" title="Wed Jan 07 2026 14:15:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¯åŠ¨é€Ÿåº¦,æ˜¯ç”¨æˆ·å¯¹Appçš„ç¬¬ä¸€å°è±¡ã€‚æ…¢ä¸€ç§’,å¯èƒ½å°±æµå¤±äº†ä¸€ä¸ªç”¨æˆ·ã€‚æœ¬æ–‡å°†å¸¦ä½ ç³»ç»ŸåŒ–åœ°æ”»å…‹Androidä¸‰ç§å¯åŠ¨ç±»å‹çš„æ€§èƒ½ä¼˜åŒ–éš¾é¢˜ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>å¯åŠ¨æ€§èƒ½æ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„å…³é”®æŒ‡æ ‡ã€‚æ ¹æ®Googleçš„ç»Ÿè®¡,å¯åŠ¨æ—¶é—´æ¯å¢åŠ 1ç§’,ç”¨æˆ·ç•™å­˜ç‡ä¼šä¸‹é™çº¦5%ã€‚åœ¨å®é™…é¡¹ç›®ä¸­,å¯åŠ¨è€—æ—¶è¶…è¿‡3ç§’çš„åº”ç”¨å¾€å¾€é¢ä¸´ç”¨æˆ·æµå¤±å’Œä¸šåŠ¡å‹åŠ›ã€‚</p>
<p>å…¸å‹çš„å¯åŠ¨æ€§èƒ½é—®é¢˜è¡¨ç°ä¸º:</p>
<ul>
<li>ç‚¹å‡»å›¾æ ‡åå‡ºç°ç™½å±,æŒç»­1ç§’ä»¥ä¸Š</li>
<li>Logoæ˜¾ç¤ºé˜¶æ®µè€—æ—¶è¿‡é•¿</li>
<li>é¦–é¡µå†…å®¹åŠ è½½ç¼“æ…¢,ç”¨æˆ·éœ€è¦ç­‰å¾…3ç§’ä»¥ä¸Šæ‰èƒ½çœ‹åˆ°å†…å®¹</li>
</ul>
<p>é¢å¯¹å¯åŠ¨æ€§èƒ½é—®é¢˜,å¸¸è§çš„ä¼˜åŒ–æ€è·¯åŒ…æ‹¬:</p>
<ul>
<li>Applicationåˆå§‹åŒ–ä¼˜åŒ–</li>
<li>ActivityåŠ è½½æµç¨‹ä¼˜åŒ–</li>
<li>ç½‘ç»œè¯·æ±‚å¼‚æ­¥åŒ–</li>
<li>é¦–å±èµ„æºåŠ è½½ä¼˜åŒ–</li>
</ul>
<p>ç„¶è€Œ,ä»…å‡­ç»éªŒåˆ¤æ–­å¾€å¾€æ— æ³•å‡†ç¡®å®šä½æ€§èƒ½ç“¶é¢ˆã€‚<strong>æ€§èƒ½ä¼˜åŒ–å¿…é¡»åŸºäºæ•°æ®é©±åŠ¨,é€šè¿‡ä¸“ä¸šçš„æ€§èƒ½åˆ†æå·¥å…·å®šä½é—®é¢˜ã€‚</strong></p>
<p>æœ¬æ–‡å°†ç³»ç»ŸåŒ–åœ°è®²è§£Androidä¸‰ç§å¯åŠ¨ç±»å‹çš„ä¼˜åŒ–æ–¹æ³•,å¸®åŠ©ä½ ä¹Ÿèƒ½å®ç°ä»3ç§’åˆ°1ç§’çš„æ€§èƒ½é£è·ƒã€‚</p>
<p><strong>è¯»å®Œæœ¬æ–‡,ä½ å°†å­¦ä¼š:</strong></p>
<ol>
<li>âœ… åŒºåˆ†System Bootã€å†·å¯åŠ¨ã€çƒ­å¯åŠ¨ä¸‰ç§å¯åŠ¨ç±»å‹</li>
<li>âœ… ä½¿ç”¨Systrace/Perfettoç²¾ç¡®æµ‹é‡å¯åŠ¨æ€§èƒ½</li>
<li>âœ… æŒæ¡Applicationã€Activityã€é¦–å±æ¸²æŸ“ä¸‰é˜¶æ®µçš„ä¼˜åŒ–æŠ€å·§</li>
<li>âœ… å­¦ä¼šSystem Bootçš„æ·±åº¦ä¼˜åŒ–(å†…æ ¸ã€Initã€Zygoteã€SystemServer)</li>
<li>âœ… å»ºç«‹CI/CDè‡ªåŠ¨åŒ–å¯åŠ¨æ€§èƒ½ç›‘æ§ä½“ç³»</li>
<li>âœ… äº†è§£è½¦æœºåœºæ™¯çš„ç‰¹æ®Šä¼˜åŒ–ç­–ç•¥</li>
</ol>
<hr/>
<h2 data-id="heading-1">ä¸€ã€å¯åŠ¨ç±»å‹è¯¦è§£:ä¸‰ç§å¯åŠ¨,ä¸‰ç§ç­–ç•¥</h2>
<p>å¾ˆå¤šå¼€å‘è€…ä¼šæŠŠ"å¯åŠ¨ä¼˜åŒ–"ç¬¼ç»Ÿåœ°å½“æˆä¸€ä»¶äº‹,ä½†å®é™…ä¸ŠAndroidçš„å¯åŠ¨åˆ†ä¸º<strong>ä¸‰ç§å®Œå…¨ä¸åŒçš„ç±»å‹</strong>,å®ƒä»¬çš„è§¦å‘åœºæ™¯ã€ä¼˜åŒ–ç­–ç•¥å’Œæ€§èƒ½åŸºå‡†éƒ½æˆªç„¶ä¸åŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e87424e8434c4e168779846d5002b6aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768400142&amp;x-signature=UbsKmum%2BZcRlNaPa4VN8P4jcJMg%3D" alt="09-01-launch-types-comparison.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.1 ä¸‰ç§å¯åŠ¨ç±»å‹å…¨é¢å¯¹æ¯”</h3>









































<table><thead><tr><th align="left">å¯åŠ¨ç±»å‹</th><th align="left">è§¦å‘åœºæ™¯</th><th align="left">è¿›ç¨‹çŠ¶æ€</th><th align="left">å…¸å‹è€—æ—¶</th><th align="left">ä¼˜åŒ–éš¾åº¦</th><th align="left">ä¸»è¦ä¼˜åŒ–ç‚¹</th><th align="left">å…³é”®æŒ‡æ ‡</th></tr></thead><tbody><tr><td align="left"><strong>System Boot</strong></td><td align="left">è®¾å¤‡å¼€æœº<br/>è®¾å¤‡é‡å¯</td><td align="left">ç³»ç»Ÿä»é›¶å¯åŠ¨</td><td align="left">20-60ç§’</td><td align="left">â­â­â­â­â­</td><td align="left">BootLoader<br/>Kernel<br/>Init<br/>Zygote<br/>SystemServer</td><td align="left"><code>boot_progress_*</code>äº‹ä»¶<br/><code>ACTION_BOOT_COMPLETED</code></td></tr><tr><td align="left"><strong>å†·å¯åŠ¨</strong></td><td align="left">Appé¦–æ¬¡å®‰è£…åå¯åŠ¨<br/>Appè¢«ç³»ç»Ÿæ€æ­»åå¯åŠ¨<br/>è®¾å¤‡é‡å¯åé¦–æ¬¡å¯åŠ¨App</td><td align="left">è¿›ç¨‹ä¸å­˜åœ¨<br/>éœ€è¦åˆ›å»ºè¿›ç¨‹</td><td align="left">1-5ç§’</td><td align="left">â­â­â­â­</td><td align="left">Application<br/>Activity<br/>é¦–å±æ¸²æŸ“</td><td align="left"><code>reportFullyDrawn()</code><br/><code>TotalTime</code>æŒ‡æ ‡</td></tr><tr><td align="left"><strong>çƒ­å¯åŠ¨</strong></td><td align="left">Appä»åå°æ¢å¤<br/>æŒ‰Homeåå†æ‰“å¼€<br/>åˆ‡æ¢åˆ°å…¶ä»–Appåè¿”å›</td><td align="left">è¿›ç¨‹å­˜åœ¨<br/>Activityéœ€é‡å»º</td><td align="left">0.3-1ç§’</td><td align="left">â­â­â­</td><td align="left">Activityæ¢å¤<br/>ViewçŠ¶æ€æ¢å¤<br/>æ•°æ®åˆ·æ–°</td><td align="left"><code>onRestart()</code><br/><code>onResume()</code>è€—æ—¶</td></tr></tbody></table>
<p><strong>ä¸‰è€…çš„æœ¬è´¨åŒºåˆ«</strong>:</p>
<ol>
<li><strong>System Boot</strong>: ç³»ç»Ÿçº§å¯åŠ¨,æ¶‰åŠç¡¬ä»¶åˆå§‹åŒ–ã€å†…æ ¸åŠ è½½ã€ç³»ç»ŸæœåŠ¡å¯åŠ¨,å½±å“æ‰€æœ‰åº”ç”¨</li>
<li><strong>å†·å¯åŠ¨</strong>: è¿›ç¨‹çº§å¯åŠ¨,ä»æ— åˆ°æœ‰åˆ›å»ºè¿›ç¨‹ã€åŠ è½½ä»£ç ã€åˆå§‹åŒ–åº”ç”¨</li>
<li><strong>çƒ­å¯åŠ¨</strong>: Activityçº§å¯åŠ¨,è¿›ç¨‹å·²å­˜åœ¨,åªéœ€æ¢å¤Activityå’ŒUIçŠ¶æ€</li>
</ol>
<p><strong>ä¼˜åŒ–ç­–ç•¥çš„å·®å¼‚</strong>:</p>
<ul>
<li>System Bootéœ€è¦ä»BootLoaderã€Kernelã€Frameworkå±‚é¢ä¼˜åŒ–,éœ€è¦ç³»ç»Ÿçº§æƒé™</li>
<li>å†·å¯åŠ¨éœ€è¦ä¼˜åŒ–Applicationã€Activityã€æ¸²æŸ“æµç¨‹,åº”ç”¨å¼€å‘è€…å¯æ§</li>
<li>çƒ­å¯åŠ¨ä¸»è¦ä¼˜åŒ–Activityç”Ÿå‘½å‘¨æœŸå’Œæ•°æ®æ¢å¤,ç›¸å¯¹ç®€å•</li>
</ul>
<h3 data-id="heading-3">1.2 System Boot:ç³»ç»Ÿå¯åŠ¨çš„å®Œæ•´é“¾è·¯</h3>
<p>System Bootæ˜¯ç”¨æˆ·å¼€æœºååˆ°çœ‹åˆ°Launcheræ¡Œé¢çš„å®Œæ•´è¿‡ç¨‹,æ¶‰åŠä»ç¡¬ä»¶åˆ°è½¯ä»¶çš„å¤šä¸ªé˜¶æ®µã€‚</p>
<p><strong>å¯åŠ¨æµç¨‹å›¾</strong>:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cb79ae86efe437bb737f742ea2fcfee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768400142&amp;x-signature=aGscd%2F04XhuKxzjx6jfO6kE4yls%3D" alt="09-02-system-boot-timeline.png" loading="lazy"/></p>
<p><strong>å„é˜¶æ®µè¯¦è§£</strong>:</p>
<p><strong>1. BootLoaderé˜¶æ®µ (2-5ç§’)</strong></p>
<ul>
<li><strong>èŒè´£</strong>: ç¡¬ä»¶è‡ªæ£€ã€å†…å­˜åˆå§‹åŒ–ã€åŠ è½½Kernelåˆ°å†…å­˜</li>
<li><strong>å…³é”®æ–‡ä»¶</strong>: <code>aboot.img</code> (Android BootLoader)</li>
<li><strong>ä¼˜åŒ–ç©ºé—´</strong>: æœ‰é™,ä¸»è¦å—ç¡¬ä»¶é™åˆ¶</li>
</ul>
<p><strong>2. Kernelé˜¶æ®µ (3-8ç§’)</strong></p>
<ul>
<li>
<p><strong>èŒè´£</strong>:</p>
<ul>
<li>åˆå§‹åŒ–CPUã€å†…å­˜ã€I/Oå­ç³»ç»Ÿ</li>
<li>åŠ è½½è®¾å¤‡é©±åŠ¨(æ˜¾ç¤ºã€è§¦æ‘¸ã€éŸ³é¢‘ç­‰)</li>
<li>æŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿ</li>
<li>å¯åŠ¨ç¬¬ä¸€ä¸ªç”¨æˆ·ç©ºé—´è¿›ç¨‹ <code>/init</code></li>
</ul>
</li>
<li>
<p><strong>å…³é”®äº‹ä»¶</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">[    0.000000] Booting Linux on physical CPU 0x0
[    1.234567] Freeing unused kernel memory: 1024K
[    2.345678] init: init first stage started!
</code></pre>
</li>
<li>
<p><strong>ä¼˜åŒ–ç©ºé—´</strong>: ä¸­ç­‰,å¯ç²¾ç®€é©±åŠ¨ã€ä¼˜åŒ–æŒ‚è½½</p>
</li>
</ul>
<p><strong>3. Inité˜¶æ®µ (5-10ç§’)</strong></p>
<ul>
<li>
<p><strong>èŒè´£</strong>:</p>
<ul>
<li>è§£æå¹¶æ‰§è¡Œ <code>init.rc</code> è„šæœ¬</li>
<li>åˆ›å»ºæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹</li>
<li>å¯åŠ¨å±æ€§æœåŠ¡ <code>property_service</code></li>
<li>å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹:
<ul>
<li><code>servicemanager</code> (BinderæœåŠ¡ç®¡ç†)</li>
<li><code>surfaceflinger</code> (æ˜¾ç¤ºæœåŠ¡)</li>
<li><code>zygote</code> (è¿›ç¨‹å­µåŒ–å™¨)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å…³é”®ä»£ç </strong>:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// system/core/init/init.cpp</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>** argv)</span> </span>{
    <span class="hljs-comment">// è§£æinit.rc</span>
    Parser parser;
    parser.<span class="hljs-built_in">ParseConfig</span>(<span class="hljs-string">"/init.rc"</span>);

    <span class="hljs-comment">// å¯åŠ¨æœåŠ¡</span>
    ServiceList&amp; sm = ServiceList::<span class="hljs-built_in">GetInstance</span>();
    sm.<span class="hljs-built_in">StartServices</span>();
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜åŒ–ç©ºé—´</strong>: å¤§,å¯å¹¶è¡Œå¯åŠ¨ã€å»¶è¿Ÿå¯åŠ¨éå…³é”®æœåŠ¡</p>
</li>
</ul>
<p><strong>4. Zygoteé˜¶æ®µ (2-5ç§’)</strong></p>
<p>Zygoteæ˜¯æ‰€æœ‰Appè¿›ç¨‹çš„"çˆ¶è¿›ç¨‹",é€šè¿‡<code>fork()</code>æœºåˆ¶å¿«é€Ÿåˆ›å»ºæ–°è¿›ç¨‹ã€‚</p>
<ul>
<li>
<p><strong>èŒè´£</strong>:</p>
<ul>
<li>é¢„åŠ è½½å¸¸ç”¨ç±» (çº¦5000ä¸ªç±»)</li>
<li>é¢„åŠ è½½ç³»ç»Ÿèµ„æº</li>
<li>åˆ›å»ºJVMå’ŒARTè¿è¡Œæ—¶</li>
<li>ç­‰å¾…Socketè¿æ¥(æ¥æ”¶forkè¯·æ±‚)</li>
</ul>
</li>
<li>
<p><strong>å…³é”®ä»£ç </strong>:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// frameworks/base/core/java/com/android/internal/os/ZygoteInit.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String argv[])</span> {
    <span class="hljs-comment">// é¢„åŠ è½½ç±»</span>
    preloadClasses();

    <span class="hljs-comment">// é¢„åŠ è½½èµ„æº</span>
    preloadResources();

    <span class="hljs-comment">// é¢„åŠ è½½å…±äº«åº“</span>
    preloadSharedLibraries();

    <span class="hljs-comment">// å¯åŠ¨SystemServer</span>
    forkSystemServer();

    <span class="hljs-comment">// è¿›å…¥Loop,ç­‰å¾…åˆ›å»ºAppè¿›ç¨‹</span>
    runSelectLoop();
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preloadClasses</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// åŠ è½½ /system/etc/preloaded-classes ä¸­çš„ç±»</span>
    <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> ClassLoader.getSystemResourceAsStream(<span class="hljs-string">"preloaded-classes"</span>);
    <span class="hljs-comment">// ... åŠ è½½çº¦5000ä¸ªç±»,è€—æ—¶2-3ç§’</span>
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜åŒ–ç©ºé—´</strong>: å¤§,å¯ç²¾ç®€é¢„åŠ è½½ç±»åˆ—è¡¨</p>
</li>
</ul>
<p><strong>5. SystemServeré˜¶æ®µ (5-15ç§’)</strong></p>
<p>SystemServeræ˜¯Androidç³»ç»Ÿçš„æ ¸å¿ƒè¿›ç¨‹,è¿è¡Œç€æ‰€æœ‰ç³»ç»ŸæœåŠ¡ã€‚</p>
<ul>
<li>
<p><strong>èŒè´£</strong>:</p>
<ul>
<li>å¯åŠ¨Bootstrap Services (æ ¸å¿ƒæœåŠ¡):
<ul>
<li><code>ActivityManagerService</code> (AMS)</li>
<li><code>PowerManagerService</code> (PMS)</li>
<li><code>PackageManagerService</code> (PMS)</li>
</ul>
</li>
<li>å¯åŠ¨Core Services (å¿…é¡»æœåŠ¡):
<ul>
<li><code>BatteryService</code></li>
<li><code>UsageStatsService</code></li>
</ul>
</li>
<li>å¯åŠ¨Other Services (å…¶ä»–æœåŠ¡):
<ul>
<li><code>WindowManagerService</code> (WMS)</li>
<li><code>InputManagerService</code> (IMS)</li>
<li><code>LocationManagerService</code></li>
<li>...çº¦80ä¸ªæœåŠ¡</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å…³é”®ä»£ç </strong>:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// frameworks/base/services/java/com/android/server/SystemServer.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// é˜¶æ®µ1: å¯åŠ¨BootstrapæœåŠ¡</span>
    startBootstrapServices();

    <span class="hljs-comment">// é˜¶æ®µ2: å¯åŠ¨CoreæœåŠ¡</span>
    startCoreServices();

    <span class="hljs-comment">// é˜¶æ®µ3: å¯åŠ¨OtheræœåŠ¡</span>
    startOtherServices();

    <span class="hljs-comment">// è¿›å…¥Loop</span>
    Looper.loop();
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startBootstrapServices</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å¯åŠ¨AMS</span>
    mActivityManagerService = ActivityManagerService.Lifecycle.startService(
        mSystemServiceManager, atm);

    <span class="hljs-comment">// å¯åŠ¨PMS</span>
    mPackageManagerService = PackageManagerService.main(...);
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜åŒ–ç©ºé—´</strong>: æœ€å¤§,å¯åˆ†é˜¶æ®µå¯åŠ¨ã€å»¶è¿Ÿå¯åŠ¨</p>
</li>
</ul>
<p><strong>6. Launcheré˜¶æ®µ (3-5ç§’)</strong></p>
<ul>
<li><strong>èŒè´£</strong>: æ˜¾ç¤ºæ¡Œé¢å›¾æ ‡,å“åº”ç”¨æˆ·ç‚¹å‡»</li>
<li><strong>å…³é”®æŒ‡æ ‡</strong>: <code>ACTION_BOOT_COMPLETED</code> å¹¿æ’­å‘é€æ—¶é—´</li>
</ul>
<p><strong>Bootæ€§èƒ½åŸºå‡†</strong>:</p>

































<table><thead><tr><th align="left">è®¾å¤‡ç±»å‹</th><th align="right">ä¼˜ç§€</th><th align="right">è‰¯å¥½</th><th align="right">ä¸€èˆ¬</th><th align="right">è¾ƒå·®</th></tr></thead><tbody><tr><td align="left">æ——èˆ°æ‰‹æœº</td><td align="right">&lt; 20s</td><td align="right">20-30s</td><td align="right">30-40s</td><td align="right">&gt; 40s</td></tr><tr><td align="left">ä¸­ç«¯æ‰‹æœº</td><td align="right">&lt; 25s</td><td align="right">25-35s</td><td align="right">35-45s</td><td align="right">&gt; 45s</td></tr><tr><td align="left">è½¦è½½ç³»ç»Ÿ</td><td align="right">&lt; 10s</td><td align="right">10-15s</td><td align="right">15-20s</td><td align="right">&gt; 20s</td></tr></tbody></table>
<h3 data-id="heading-4">1.3 Appå†·å¯åŠ¨:ä»ç‚¹å‡»åˆ°å¯è§çš„å…¨è¿‡ç¨‹</h3>
<p>å†·å¯åŠ¨æ˜¯ç”¨æˆ·ç‚¹å‡»Appå›¾æ ‡å,ç³»ç»Ÿåˆ›å»ºè¿›ç¨‹ã€åŠ è½½ä»£ç ã€åˆå§‹åŒ–Applicationã€å¯åŠ¨Activityã€æ¸²æŸ“é¦–å±çš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<p><strong>å¯åŠ¨æµç¨‹å›¾</strong>:</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ç‚¹å‡»å›¾æ ‡
   â†“
Launcheré€šçŸ¥<span class="hljs-built_in">ActivityManagerService</span>(AMS)
   â†“
AMSæ£€æŸ¥è¿›ç¨‹æ˜¯å¦å­˜åœ¨
   â†“
è¿›ç¨‹ä¸å­˜åœ¨,é€šçŸ¥Zygote forkæ–°è¿›ç¨‹
   â†“
Zygote forkè¿›ç¨‹ (<span class="hljs-number">100</span>-<span class="hljs-number">300ms</span>)
   â†“
æ–°è¿›ç¨‹å¯åŠ¨,åŠ è½½Application
   â†“
Application<span class="hljs-selector-class">.onCreate</span>() æ‰§è¡Œ (<span class="hljs-number">200</span>-<span class="hljs-number">800ms</span>)
   â”œâ”€ SDKåˆå§‹åŒ–
   â”œâ”€ æ•°æ®åº“åˆå§‹åŒ–
   â””â”€ é…ç½®åŠ è½½
   â†“
AMSé€šçŸ¥å¯åŠ¨Activity
   â†“
Activity<span class="hljs-selector-class">.onCreate</span>() æ‰§è¡Œ (<span class="hljs-number">300</span>-<span class="hljs-number">1000ms</span>)
   â”œâ”€ <span class="hljs-built_in">setContentView</span>()
   â”œâ”€ æ•°æ®åŠ è½½
   â””â”€ UIåˆå§‹åŒ–
   â†“
Activity<span class="hljs-selector-class">.onStart</span>() / <span class="hljs-built_in">onResume</span>() æ‰§è¡Œ
   â†“
é¦–å¸§æ¸²æŸ“ (measure â†’ layout â†’ draw) (<span class="hljs-number">100</span>-<span class="hljs-number">300ms</span>)
   â†“
ç”¨æˆ·çœ‹åˆ°é¦–å±!
</code></pre>
<p><strong>è€—æ—¶åˆ†å¸ƒå‚è€ƒ</strong> (æŸç”µå•†Appå®æµ‹æ•°æ®):</p>









































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="right">è€—æ—¶</th><th align="right">å æ¯”</th><th align="left">å¯ä¼˜åŒ–ç©ºé—´</th></tr></thead><tbody><tr><td align="left">forkè¿›ç¨‹</td><td align="right">200ms</td><td align="right">9%</td><td align="left">âŒ ç³»ç»Ÿæ§åˆ¶</td></tr><tr><td align="left">Application.onCreate()</td><td align="right">800ms</td><td align="right">38%</td><td align="left">âœ… å»¶è¿Ÿ/å¼‚æ­¥åˆå§‹åŒ–</td></tr><tr><td align="left">Activity.onCreate()</td><td align="right">800ms</td><td align="right">38%</td><td align="left">âœ… å¼‚æ­¥åŠ è½½/é¢„åŠ è½½</td></tr><tr><td align="left">é¦–å±æ¸²æŸ“</td><td align="right">300ms</td><td align="right">14%</td><td align="left">âœ… å¸ƒå±€/å›¾ç‰‡ä¼˜åŒ–</td></tr><tr><td align="left"><strong>æ€»è®¡</strong></td><td align="right"><strong>2100ms</strong></td><td align="right"><strong>100%</strong></td><td align="left"><strong>ä¼˜åŒ–åˆ°950ms</strong></td></tr></tbody></table>
<p><strong>å…³é”®æ—¶é—´èŠ‚ç‚¹</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æµ‹é‡å„é˜¶æ®µè€—æ—¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApp</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// åˆå§‹åŒ–æ“ä½œ</span>
        initSDKs()

        <span class="hljs-keyword">val</span> appTime = System.currentTimeMillis() - startTime
        Log.d(<span class="hljs-string">"Performance"</span>, <span class="hljs-string">"Applicationè€—æ—¶: <span class="hljs-subst">${appTime}</span>ms"</span>)
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// ç­‰å¾…é¦–å¸§æ¸²æŸ“</span>
        window.decorView.viewTreeObserver.addOnPreDrawListener(
            <span class="hljs-keyword">object</span> : ViewTreeObserver.OnPreDrawListener {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onPreDraw</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
                    window.decorView.viewTreeObserver.removeOnPreDrawListener(<span class="hljs-keyword">this</span>)
                    <span class="hljs-keyword">val</span> totalTime = System.currentTimeMillis() - startTime
                    Log.d(<span class="hljs-string">"Performance"</span>, <span class="hljs-string">"Activity+é¦–å±è€—æ—¶: <span class="hljs-subst">${totalTime}</span>ms"</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                }
            }
        )
    }
}
</code></pre>
<p><strong>å†·å¯åŠ¨æ€§èƒ½åŸºå‡†</strong>:</p>









































<table><thead><tr><th align="left">è¯„çº§</th><th align="left">è€—æ—¶èŒƒå›´</th><th align="left">ç”¨æˆ·ä½“éªŒ</th><th align="left">å»ºè®®</th></tr></thead><tbody><tr><td align="left">âœ… ä¼˜ç§€</td><td align="left">&lt; 1s</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td><td align="left">ä¿æŒ,å¯ä½œä¸ºæ ‡æ†</td></tr><tr><td align="left">âš ï¸ è‰¯å¥½</td><td align="left">1-1.5s</td><td align="left">è½»å¾®ç­‰å¾…æ„Ÿ</td><td align="left">æœ‰ä¼˜åŒ–ç©ºé—´</td></tr><tr><td align="left">âš ï¸ ä¸€èˆ¬</td><td align="left">1.5-2s</td><td align="left">æ˜æ˜¾ç­‰å¾…</td><td align="left">éœ€è¦ä¼˜åŒ–</td></tr><tr><td align="left">âŒ è¾ƒå·®</td><td align="left">2-3s</td><td align="left">è¾ƒé•¿ç­‰å¾…</td><td align="left">å¿…é¡»ä¼˜åŒ–</td></tr><tr><td align="left">âŒ å¾ˆå·®</td><td align="left">&gt; 3s</td><td align="left">æƒ³å…³é—­App</td><td align="left">ä¸¥é‡é—®é¢˜</td></tr></tbody></table>
<h3 data-id="heading-5">1.4 Appçƒ­å¯åŠ¨:ä»åå°æ¢å¤çš„å¿«é€Ÿè·¯å¾„</h3>
<p>çƒ­å¯åŠ¨æ˜¯Appè¿›ç¨‹å·²å­˜åœ¨,åªéœ€æ¢å¤Activityå’ŒUIçŠ¶æ€çš„å¿«é€Ÿå¯åŠ¨æ–¹å¼ã€‚</p>
<p><strong>å¯åŠ¨æµç¨‹å›¾</strong>:</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ä»Recentæˆ–æŒ‰è¿”å›é”®
   â†“
<span class="hljs-built_in">ActivityManagerService</span>(AMS)æ£€æµ‹åˆ°è¿›ç¨‹å­˜åœ¨
   â†“
ç›´æ¥æ¢å¤Activityæ ˆ
   â†“
Activity<span class="hljs-selector-class">.onRestart</span>() æ‰§è¡Œ (<span class="hljs-number">10</span>-<span class="hljs-number">50ms</span>)
   â†“
Activity<span class="hljs-selector-class">.onStart</span>() æ‰§è¡Œ (<span class="hljs-number">10</span>-<span class="hljs-number">50ms</span>)
   â†“
Activity<span class="hljs-selector-class">.onResume</span>() æ‰§è¡Œ (<span class="hljs-number">30</span>-<span class="hljs-number">100ms</span>)
   â”œâ”€ åˆ·æ–°æ•°æ®
   â””â”€ æ¢å¤UIçŠ¶æ€
   â†“
Viewé‡å»º/æ›´æ–° (<span class="hljs-number">50</span>-<span class="hljs-number">150ms</span>)
   â†“
é¦–å¸§æ¸²æŸ“ (<span class="hljs-number">50</span>-<span class="hljs-number">100ms</span>)
   â†“
ç”¨æˆ·çœ‹åˆ°ç•Œé¢!
</code></pre>
<p><strong>è€—æ—¶åˆ†å¸ƒ</strong> (æŸç¤¾äº¤Appå®æµ‹æ•°æ®):</p>















































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="right">è€—æ—¶</th><th align="right">å æ¯”</th><th align="left">å¯ä¼˜åŒ–ç©ºé—´</th></tr></thead><tbody><tr><td align="left">onRestart()</td><td align="right">20ms</td><td align="right">4%</td><td align="left">âœ… é¿å…é‡å¤æ“ä½œ</td></tr><tr><td align="left">onStart()</td><td align="right">30ms</td><td align="right">6%</td><td align="left">âœ… ç¼“å­˜æ•°æ®</td></tr><tr><td align="left">onResume()</td><td align="right">150ms</td><td align="right">30%</td><td align="left">âœ… å¼‚æ­¥åˆ·æ–°</td></tr><tr><td align="left">Viewé‡å»º</td><td align="right">200ms</td><td align="right">40%</td><td align="left">âœ… çŠ¶æ€ç¼“å­˜</td></tr><tr><td align="left">æ¸²æŸ“æ›´æ–°</td><td align="right">100ms</td><td align="right">20%</td><td align="left">âœ… å±€éƒ¨åˆ·æ–°</td></tr><tr><td align="left"><strong>æ€»è®¡</strong></td><td align="right"><strong>500ms</strong></td><td align="right"><strong>100%</strong></td><td align="left"><strong>ä¼˜åŒ–åˆ°300ms</strong></td></tr></tbody></table>
<p><strong>çƒ­å¯åŠ¨æ€§èƒ½åŸºå‡†</strong>:</p>

























<table><thead><tr><th align="left">è¯„çº§</th><th align="left">è€—æ—¶èŒƒå›´</th><th align="left">ç”¨æˆ·ä½“éªŒ</th></tr></thead><tbody><tr><td align="left">âœ… ä¼˜ç§€</td><td align="left">&lt; 300ms</td><td align="left">å³æ—¶å“åº”</td></tr><tr><td align="left">âš ï¸ è‰¯å¥½</td><td align="left">300-500ms</td><td align="left">è½»å¾®å»¶è¿Ÿ</td></tr><tr><td align="left">âŒ è¾ƒå·®</td><td align="left">&gt; 500ms</td><td align="left">æ˜æ˜¾å¡é¡¿</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">äºŒã€System Bootå¯åŠ¨ä¼˜åŒ–:ç³»ç»Ÿçº§æ€§èƒ½è°ƒä¼˜</h2>
<p>System Bootä¼˜åŒ–ä¸»è¦é’ˆå¯¹<strong>ç³»ç»Ÿå¼€å‘è€…</strong>å’Œ<strong>è½¦è½½ç³»ç»Ÿå·¥ç¨‹å¸ˆ</strong>,éœ€è¦ç³»ç»Ÿçº§æƒé™å’Œæºç è®¿é—®ã€‚æ™®é€šAppå¼€å‘è€…å¯ä»¥è·³è¿‡æ­¤èŠ‚ã€‚</p>
<h3 data-id="heading-7">2.1 Bootæ€§èƒ½åˆ†ææ–¹æ³•</h3>
<h4 data-id="heading-8">æ–¹æ³•1: ä½¿ç”¨Bootchartåˆ†ææ•´ä½“å¯åŠ¨æ—¶é—´</h4>
<p>Bootchartæ˜¯Androidæä¾›çš„Bootæ€§èƒ½åˆ†æå·¥å…·,ç”ŸæˆCPUã€I/Oã€è¿›ç¨‹çš„æ—¶é—´å›¾è¡¨ã€‚</p>
<p><strong>å¼€å¯Bootchart</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¼€å¯bootchart (é‡å¯ç”Ÿæ•ˆ)</span>
adb root
adb shell <span class="hljs-string">'echo 1 &gt; /data/bootchart/enabled'</span>
adb reboot

<span class="hljs-comment"># 2. è®¾å¤‡å¯åŠ¨å®Œæˆå,è·å–bootchartæ•°æ®</span>
adb pull /data/bootchart bootchart/

<span class="hljs-comment"># 3. ç”ŸæˆPNGå›¾è¡¨ (éœ€è¦bootchartå·¥å…·)</span>
bootchart bootchart/

<span class="hljs-comment"># æŸ¥çœ‹ç”Ÿæˆçš„ bootchart.png</span>
</code></pre>
<p><strong>Bootchartå›¾è¡¨è§£è¯»</strong>:</p>
<ul>
<li><strong>CPUä½¿ç”¨ç‡</strong>: å“ªä¸ªè¿›ç¨‹å ç”¨CPUæœ€å¤š</li>
<li><strong>I/Oç­‰å¾…</strong>: æ˜¯å¦æœ‰I/Oç“¶é¢ˆ</li>
<li><strong>è¿›ç¨‹å¯åŠ¨é¡ºåº</strong>: å“ªäº›è¿›ç¨‹å¯åŠ¨æ—©,å“ªäº›å¯åŠ¨æ™š</li>
<li><strong>å…³é”®æ—¶é—´èŠ‚ç‚¹</strong>: <code>boot_progress_*</code> äº‹ä»¶</li>
</ul>
<h4 data-id="heading-9">æ–¹æ³•2: ä½¿ç”¨Systraceåˆ†æå¯åŠ¨ç»†èŠ‚</h4>
<p>Systraceå¯ä»¥æŠ“å–Bootè¿‡ç¨‹çš„è¯¦ç»†trace,åˆ†ææ¯ä¸ªæœåŠ¡çš„å¯åŠ¨è€—æ—¶ã€‚</p>
<p><strong>æŠ“å–Boot Trace</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³•1: å¼€æœºæ—¶è‡ªåŠ¨æŠ“å– (éœ€è¦ä¿®æ”¹init.rc)</span>
<span class="hljs-comment"># åœ¨ init.rc ä¸­æ·»åŠ :</span>
on boot
    <span class="hljs-comment"># å¼€å¯ftrace</span>
    write /sys/kernel/debug/tracing/tracing_on 1
    write /sys/kernel/debug/tracing/events/sched/enable 1

<span class="hljs-comment"># æ–¹æ³•2: æ‰‹åŠ¨æŠ“å–é‡å¯åçš„trace</span>
adb shell atrace --async_start -b 32768 -c \
    <span class="hljs-built_in">sched</span> freq idle load disk mmc am wm gfx view dalvik

<span class="hljs-comment"># é‡å¯è®¾å¤‡</span>
adb reboot

<span class="hljs-comment"># å¯åŠ¨å®Œæˆååœæ­¢æŠ“å–</span>
adb wait-for-device
adb shell atrace --async_stop -o /data/local/tmp/boot_trace.txt
adb pull /data/local/tmp/boot_trace.txt

<span class="hljs-comment"># ä½¿ç”¨Perfetto UIæŸ¥çœ‹</span>
<span class="hljs-comment"># æ‰“å¼€ ui.perfetto.dev,ä¸Šä¼ traceæ–‡ä»¶</span>
</code></pre>
<p><strong>å…³é”®æŒ‡æ ‡æŸ¥çœ‹</strong>:</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åœ¨Perfetto UIçš„SQLæŸ¥è¯¢ä¸­æ‰§è¡Œ</span>
<span class="hljs-comment">-- æŸ¥çœ‹boot_progressäº‹ä»¶çš„æ—¶é—´</span>
<span class="hljs-keyword">SELECT</span>
  ts <span class="hljs-operator">/</span> <span class="hljs-number">1e9</span> <span class="hljs-keyword">AS</span> time_sec,
  name,
  <span class="hljs-built_in">CAST</span>(<span class="hljs-keyword">value</span> <span class="hljs-keyword">AS</span> TEXT) <span class="hljs-keyword">AS</span> timestamp_ms
<span class="hljs-keyword">FROM</span> counter
<span class="hljs-keyword">JOIN</span> counter_track <span class="hljs-keyword">ON</span> counter.track_id <span class="hljs-operator">=</span> counter_track.id
<span class="hljs-keyword">WHERE</span> counter_track.name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'boot_progress%'</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> ts;
</code></pre>
<h4 data-id="heading-10">æ–¹æ³•3: ä½¿ç”¨logcatåˆ†æå…³é”®äº‹ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿‡æ»¤bootç›¸å…³æ—¥å¿—</span>
adb logcat -d | grep -E <span class="hljs-string">"boot_progress|SystemServer"</span>

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹:</span>
<span class="hljs-comment"># boot_progress_start: 12345</span>
<span class="hljs-comment"># boot_progress_preload_start: 15678</span>
<span class="hljs-comment"># boot_progress_preload_end: 18901</span>
<span class="hljs-comment"># boot_progress_system_run: 21234</span>
<span class="hljs-comment"># boot_progress_pms_start: 22345</span>
<span class="hljs-comment"># boot_progress_pms_ready: 28901</span>
<span class="hljs-comment"># boot_progress_ams_ready: 32345</span>
<span class="hljs-comment"># boot_progress_enable_screen: 35678</span>
</code></pre>
<h3 data-id="heading-11">2.2 Kernelå¯åŠ¨ä¼˜åŒ–</h3>
<h4 data-id="heading-12">ä¼˜åŒ–1: ç²¾ç®€å†…æ ¸é…ç½®</h4>
<p><strong>ç§»é™¤ä¸éœ€è¦çš„åŠŸèƒ½</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘å†…æ ¸é…ç½® kernel/.config</span>
<span class="hljs-comment"># ç¦ç”¨ä¸éœ€è¦çš„åŠŸèƒ½å¯å‡å°‘å†…æ ¸å¤§å°å’Œå¯åŠ¨æ—¶é—´</span>

<span class="hljs-comment"># ç¤ºä¾‹:ç¦ç”¨è°ƒè¯•åŠŸèƒ½</span>
CONFIG_DEBUG_KERNEL=n
CONFIG_DEBUG_INFO=n
CONFIG_KALLSYMS=n

<span class="hljs-comment"># ç¦ç”¨ä¸éœ€è¦çš„æ–‡ä»¶ç³»ç»Ÿ</span>
CONFIG_BTRFS_FS=n
CONFIG_XFS_FS=n

<span class="hljs-comment"># ç¦ç”¨ä¸éœ€è¦çš„ç½‘ç»œåè®®</span>
CONFIG_NETFILTER=n
CONFIG_IPV6=n

<span class="hljs-comment"># é‡æ–°ç¼–è¯‘å†…æ ¸</span>
make -j8
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: èŠ‚çœ1-2ç§’</p>
<h4 data-id="heading-13">ä¼˜åŒ–2: ä¼˜åŒ–æ–‡ä»¶ç³»ç»ŸæŒ‚è½½</h4>
<p><strong>å¹¶è¡ŒæŒ‚è½½åˆ†åŒº</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿®æ”¹ init.rc</span>
<span class="hljs-comment"># ä¼˜åŒ–å‰:ä¸²è¡ŒæŒ‚è½½</span>
on fs
    mount ext4 /dev/block/by-name/system /system
    mount ext4 /dev/block/by-name/vendor /vendor
    mount ext4 /dev/block/by-name/userdata /data

<span class="hljs-comment"># ä¼˜åŒ–å:å¹¶è¡ŒæŒ‚è½½</span>
on fs
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"mount ext4 /dev/block/by-name/system /system &amp;"</span>
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"mount ext4 /dev/block/by-name/vendor /vendor &amp;"</span>
    mount ext4 /dev/block/by-name/userdata /data
</code></pre>
<p><strong>ä½¿ç”¨noatimeé€‰é¡¹</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‚è½½æ—¶ç¦ç”¨atime(è®¿é—®æ—¶é—´)æ›´æ–°,å‡å°‘I/O</span>
mount ext4 /dev/block/by-name/userdata /data noatime,nosuid,nodev
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: èŠ‚çœ0.5-1ç§’</p>
<h4 data-id="heading-14">ä¼˜åŒ–3: å»¶è¿ŸåŠ è½½éå…³é”®é©±åŠ¨</h4>
<p><strong>ä¿®æ”¹é©±åŠ¨åˆå§‹åŒ–é¡ºåº</strong>:</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// drivers/video/display_driver.c</span>
<span class="hljs-comment">// ä¼˜åŒ–å‰:device_initcall (å¯åŠ¨é˜¶æ®µ6)</span>
device_initcall(display_driver_init);

<span class="hljs-comment">// ä¼˜åŒ–å:late_initcall (å¯åŠ¨é˜¶æ®µ7,å»¶åæ‰§è¡Œ)</span>
late_initcall(display_driver_init);
</code></pre>
<p><strong>æŒ‰éœ€åŠ è½½é©±åŠ¨</strong>:</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å°†é©±åŠ¨ç¼–è¯‘ä¸ºæ¨¡å—,å¯åŠ¨åå†åŠ è½½</span>
<span class="hljs-comment">// Kconfig</span>
config DISPLAY_DRIVER
    tristate <span class="hljs-string">"Display Driver"</span>  # æ”¹ä¸ºtristateè€Œé<span class="hljs-type">bool</span>
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: èŠ‚çœ1-3ç§’</p>
<h3 data-id="heading-15">2.3 Inité˜¶æ®µä¼˜åŒ–</h3>
<h4 data-id="heading-16">ä¼˜åŒ–1: å¹¶è¡Œå¯åŠ¨æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># init.rc</span>
<span class="hljs-comment"># ä¼˜åŒ–å‰:ä¸²è¡Œå¯åŠ¨</span>
on boot
    start serviceA
    start serviceB
    start serviceC

<span class="hljs-comment"># ä¼˜åŒ–å:å¹¶è¡Œå¯åŠ¨(ä½¿ç”¨&amp;åå°æ‰§è¡Œ)</span>
on boot
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"start serviceA &amp;"</span>
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"start serviceB &amp;"</span>
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"start serviceC &amp;"</span>
</code></pre>
<h4 data-id="heading-17">ä¼˜åŒ–2: å»¶è¿Ÿå¯åŠ¨éå…³é”®æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># init.rc</span>
<span class="hljs-comment"># ä¼˜åŒ–å‰:æ‰€æœ‰æœåŠ¡åœ¨booté˜¶æ®µå¯åŠ¨</span>
on boot
    start critical_service
    start non_critical_service_1
    start non_critical_service_2

<span class="hljs-comment"># ä¼˜åŒ–å:å…³é”®æœåŠ¡ç«‹å³å¯åŠ¨,éå…³é”®æœåŠ¡å»¶å</span>
on boot
    start critical_service

<span class="hljs-comment"># Bootå®Œæˆåå†å¯åŠ¨éå…³é”®æœåŠ¡</span>
on property:sys.boot_completed=1
    start non_critical_service_1
    start non_critical_service_2
</code></pre>
<h4 data-id="heading-18">ä¼˜åŒ–3: ç²¾ç®€init.rc</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç§»é™¤ä¸éœ€è¦çš„onè§¦å‘å™¨å’Œexecå‘½ä»¤</span>
<span class="hljs-comment"># åˆå¹¶é‡å¤çš„å±æ€§è®¾ç½®</span>
<span class="hljs-comment"># ä¼˜åŒ–å‰:</span>
on boot
    setprop prop1 value1
on boot
    setprop prop2 value2

<span class="hljs-comment"># ä¼˜åŒ–å:</span>
on boot
    setprop prop1 value1
    setprop prop2 value2
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: Inité˜¶æ®µä»10ç§’ä¼˜åŒ–åˆ°6ç§’</p>
<h3 data-id="heading-19">2.4 Zygoteå¯åŠ¨ä¼˜åŒ–</h3>
<h4 data-id="heading-20">ä¼˜åŒ–1: ç²¾ç®€é¢„åŠ è½½ç±»åˆ—è¡¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘é¢„åŠ è½½ç±»åˆ—è¡¨</span>
<span class="hljs-comment"># frameworks/base/config/preloaded-classes</span>

<span class="hljs-comment"># ä¼˜åŒ–å‰:çº¦5000ä¸ªç±»</span>
<span class="hljs-comment"># ä¼˜åŒ–å:ç§»é™¤ä¸å¸¸ç”¨çš„ç±»,ä¿ç•™çº¦3500ä¸ª</span>

<span class="hljs-comment"># åˆ†ææ–¹æ³•:é€šè¿‡SystraceæŸ¥çœ‹å“ªäº›ç±»çœŸæ­£è¢«ä½¿ç”¨</span>
<span class="hljs-comment"># ç§»é™¤ç¤ºä¾‹:</span>
<span class="hljs-comment"># android.bluetooth.*  # å¦‚æœè®¾å¤‡æ— è“ç‰™</span>
<span class="hljs-comment"># android.nfc.*        # å¦‚æœè®¾å¤‡æ— NFC</span>
<span class="hljs-comment"># com.android.internal.telephony.*  # å¦‚æœè®¾å¤‡æ— ç”µè¯åŠŸèƒ½</span>
</code></pre>
<p><strong>éªŒè¯è„šæœ¬</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># ç»Ÿè®¡ç±»çš„ä½¿ç”¨é¢‘ç‡</span>
adb logcat -c
adb logcat | grep <span class="hljs-string">"Class load"</span> &gt; class_usage.log
<span class="hljs-comment"># è¿è¡Œä¸€å¤©ååˆ†æ</span>
awk <span class="hljs-string">'{print $NF}'</span> class_usage.log | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr &gt; class_frequency.txt
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: Zygoteå¯åŠ¨ä»5ç§’ä¼˜åŒ–åˆ°3ç§’</p>
<h4 data-id="heading-21">ä¼˜åŒ–2: ä¼˜åŒ–é¢„åŠ è½½èµ„æº</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// frameworks/base/core/java/android/app/ApplicationLoaders.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preloadResources</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¼˜åŒ–å‰:é¢„åŠ è½½æ‰€æœ‰drawable</span>
    <span class="hljs-type">Resources</span> <span class="hljs-variable">resources</span> <span class="hljs-operator">=</span> Resources.getSystem();
    resources.preloadDrawables();

    <span class="hljs-comment">// ä¼˜åŒ–å:åªé¢„åŠ è½½å¸¸ç”¨drawable</span>
    <span class="hljs-type">int</span>[] commonDrawables = {
        android.R.drawable.ic_menu_add,
        android.R.drawable.ic_menu_delete,
        <span class="hljs-comment">// ... åªåˆ—å‡ºæœ€å¸¸ç”¨çš„100ä¸ª</span>
    };
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> id : commonDrawables) {
        resources.getDrawable(id, <span class="hljs-literal">null</span>);
    }
}
</code></pre>
<p><strong>å®æµ‹æ•ˆæœ</strong>: èŠ‚çœ0.5-1ç§’</p>
<h3 data-id="heading-22">2.5 SystemServerå¯åŠ¨ä¼˜åŒ–</h3>
<p>SystemServeræ˜¯ä¼˜åŒ–ç©ºé—´æœ€å¤§çš„ç¯èŠ‚,åŒ…å«çº¦80ä¸ªç³»ç»ŸæœåŠ¡ã€‚</p>
<h4 data-id="heading-23">ä¼˜åŒ–1: åˆ†é˜¶æ®µã€åˆ†ä¼˜å…ˆçº§å¯åŠ¨æœåŠ¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// frameworks/base/services/java/com/android/server/SystemServer.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// é˜¶æ®µ1: Bootstrap Services (å¿…é¡»ç«‹å³å¯åŠ¨)</span>
    startBootstrapServices();
    <span class="hljs-comment">// AMS, PMS, PowerManager...</span>

    <span class="hljs-comment">// é˜¶æ®µ2: Core Services (å¿…é¡»æœåŠ¡,ä½†å¯ç¨å)</span>
    startCoreServices();
    <span class="hljs-comment">// BatteryService, UsageStatsService...</span>

    <span class="hljs-comment">// é˜¶æ®µ3: Other Services (å¯å»¶åå¯åŠ¨)</span>
    startOtherServices();
    <span class="hljs-comment">// LocationManager, NetworkPolicy, MediaRouter...</span>

    <span class="hljs-comment">// é˜¶æ®µ4: å»¶è¿ŸæœåŠ¡ (Bootå®Œæˆåå¯åŠ¨)</span>
    mHandler.postDelayed(() -&gt; {
        startDelayedServices();
    }, <span class="hljs-number">5000</span>);
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startDelayedServices</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// éå…³é”®æœåŠ¡å»¶å5ç§’å¯åŠ¨</span>
    <span class="hljs-comment">// ä¾‹å¦‚:TelephonyRegistry, NetworkTime, Wallpaper...</span>
}
</code></pre>
<h4 data-id="heading-24">ä¼˜åŒ–2: å¹¶è¡Œå¯åŠ¨æœåŠ¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// SystemServer.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startOtherServices</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¼˜åŒ–å‰:ä¸²è¡Œå¯åŠ¨</span>
    startService(LocationManagerService.class);
    startService(NetworkPolicyManagerService.class);
    startService(MediaRouterService.class);

    <span class="hljs-comment">// ä¼˜åŒ–å:å¹¶è¡Œå¯åŠ¨(ä½¿ç”¨çº¿ç¨‹æ± )</span>
    <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">4</span>);

    executor.submit(() -&gt; startService(LocationManagerService.class));
    executor.submit(() -&gt; startService(NetworkPolicyManagerService.class));
    executor.submit(() -&gt; startService(MediaRouterService.class));

    <span class="hljs-comment">// ç­‰å¾…å…³é”®æœåŠ¡å¯åŠ¨å®Œæˆ</span>
    executor.shutdown();
    executor.awaitTermination(<span class="hljs-number">10</span>, TimeUnit.SECONDS);
}
</code></pre>
<h4 data-id="heading-25">ä¼˜åŒ–3: å»¶è¿Ÿåˆå§‹åŒ–æœåŠ¡å†…éƒ¨é€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¤ºä¾‹: LocationManagerService</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LocationManagerService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ILocationManager</span>.Stub {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">systemReady</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¼˜åŒ–å‰:systemReadyæ—¶å°±åŠ è½½æ‰€æœ‰Provider</span>
        loadProviders();

        <span class="hljs-comment">// ä¼˜åŒ–å:å»¶è¿ŸåŠ è½½,åªåŠ è½½å¿…é¡»çš„GPS Provider</span>
        loadGpsProvider();

        <span class="hljs-comment">// å…¶ä»–Provideråœ¨é¦–æ¬¡ä½¿ç”¨æ—¶å†åŠ è½½</span>
        mHandler.postDelayed(() -&gt; {
            loadNetworkProvider();
            loadPassiveProvider();
        }, <span class="hljs-number">10000</span>);
    }
}
</code></pre>
<p><strong>Bootä¼˜åŒ–æ•ˆæœæ€»ç»“</strong>:</p>









































<table><thead><tr><th align="left">ä¼˜åŒ–é¡¹</th><th align="right">ä¼˜åŒ–å‰</th><th align="right">ä¼˜åŒ–å</th><th align="right">èŠ‚çœæ—¶é—´</th></tr></thead><tbody><tr><td align="left">Kernelå¯åŠ¨</td><td align="right">8s</td><td align="right">5s</td><td align="right">3s â¬‡ï¸</td></tr><tr><td align="left">Inité˜¶æ®µ</td><td align="right">10s</td><td align="right">6s</td><td align="right">4s â¬‡ï¸</td></tr><tr><td align="left">Zygoteå¯åŠ¨</td><td align="right">5s</td><td align="right">3s</td><td align="right">2s â¬‡ï¸</td></tr><tr><td align="left">SystemServerå¯åŠ¨</td><td align="right">15s</td><td align="right">9s</td><td align="right">6s â¬‡ï¸</td></tr><tr><td align="left"><strong>æ€»Bootæ—¶é—´</strong></td><td align="right"><strong>48s</strong></td><td align="right"><strong>33s</strong></td><td align="right"><strong>15s â¬‡ï¸ (31%)</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-26">ä¸‰ã€Appå†·å¯åŠ¨ä¼˜åŒ–:ä»3ç§’åˆ°1ç§’çš„å®æˆ˜</h2>
<p>Appå†·å¯åŠ¨æ˜¯ç”¨æˆ·æœ€å¸¸é‡åˆ°çš„åœºæ™¯,ä¹Ÿæ˜¯ä¼˜åŒ–æ•ˆæœæœ€æ˜æ˜¾çš„é¢†åŸŸã€‚æœ¬èŠ‚å°†æä¾›å®Œæ•´çš„ã€å¯è½åœ°çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6c31764bc96441f8a922d4f6da97ae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768400142&amp;x-signature=coOcq7eMXsjX85NM%2BsSoP89GfG8%3D" alt="09-03-cold-launch-optimization-tree.png" loading="lazy"/></p>
<h3 data-id="heading-27">3.1 å†·å¯åŠ¨æ€§èƒ½æµ‹é‡</h3>
<h4 data-id="heading-28">æ–¹æ³•1: ä½¿ç”¨adbå‘½ä»¤å¿«é€Ÿæµ‹é‡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œå…¨å†·å¯åŠ¨ (æ¸…é™¤æ•°æ®+force-stop)</span>
adb shell am force-stop com.example.myapp
adb shell pm clear com.example.myapp

<span class="hljs-comment"># å¯åŠ¨å¹¶æµ‹é‡æ—¶é—´</span>
adb shell am start-activity -W com.example.myapp/.MainActivity

<span class="hljs-comment"># è¾“å‡º:</span>
<span class="hljs-comment"># Starting: Intent { act=android.intent.action.MAIN ... }</span>
<span class="hljs-comment"># Status: ok</span>
<span class="hljs-comment"># Activity: com.example.myapp/.MainActivity</span>
<span class="hljs-comment"># ThisTime: 1245        â† Activityå¯åŠ¨è€—æ—¶</span>
<span class="hljs-comment"># TotalTime: 1245       â† æ€»å¯åŠ¨è€—æ—¶ (è¿™å°±æ˜¯å†·å¯åŠ¨æ—¶é—´)</span>
<span class="hljs-comment"># WaitTime: 1267        â† åŒ…æ‹¬ç³»ç»Ÿå¤„ç†æ—¶é—´</span>
<span class="hljs-comment"># Complete</span>
</code></pre>
<h4 data-id="heading-29">æ–¹æ³•2: ä½¿ç”¨Systraceç²¾ç¡®åˆ†æ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ¸…é™¤Appæ•°æ®</span>
adb shell am force-stop com.example.myapp
adb shell pm clear com.example.myapp

<span class="hljs-comment"># 2. åå°å¯åŠ¨systrace</span>
python systrace.py -t 10 -o launch.html \
    <span class="hljs-built_in">sched</span> freq gfx view wm am dalvik res \
    -a com.example.myapp &amp;

<span class="hljs-comment"># 3. ç­‰å¾…2ç§’è®©systraceå‡†å¤‡å¥½</span>
<span class="hljs-built_in">sleep</span> 2

<span class="hljs-comment"># 4. å¯åŠ¨App</span>
adb shell am start-activity -W com.example.myapp/.MainActivity

<span class="hljs-comment"># 5. æ‰“å¼€traceåˆ†æ</span>
google-chrome launch.html
</code></pre>
<p><strong>Traceä¸­æŸ¥æ‰¾å…³é”®æ—¶é—´ç‚¹</strong>:</p>
<ul>
<li><code>bindApplication</code>: Applicationå¼€å§‹åˆ›å»º</li>
<li><code>activityStart</code>: Activityå¼€å§‹å¯åŠ¨</li>
<li><code>Choreographer#doFrame</code>: é¦–å¸§å¼€å§‹æ¸²æŸ“</li>
<li><code>reportFullyDrawn</code>: åº”ç”¨è‡ªå·±ä¸ŠæŠ¥çš„å¯åŠ¨å®Œæˆæ—¶é—´</li>
</ul>
<h4 data-id="heading-30">æ–¹æ³•3: ä»£ç ä¸­ç²¾ç¡®è®¡æ—¶</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MyApplication.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApp</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">var</span> appStartTime = <span class="hljs-number">0L</span>
        <span class="hljs-keyword">var</span> appCreateTime = <span class="hljs-number">0L</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attachBaseContext</span><span class="hljs-params">(base: <span class="hljs-type">Context</span>)</span></span> {
        <span class="hljs-keyword">super</span>.attachBaseContext(base)
        appStartTime = System.currentTimeMillis()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// Applicationåˆå§‹åŒ–æ“ä½œ</span>
        initSDKs()

        appCreateTime = System.currentTimeMillis() - appStartTime
        Log.d(<span class="hljs-string">"LaunchTime"</span>, <span class="hljs-string">"Application.onCreateè€—æ—¶: <span class="hljs-subst">${appCreateTime}</span>ms"</span>)
    }
}

<span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">val</span> activityStartTime = System.currentTimeMillis()
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-keyword">val</span> activityCreateTime = System.currentTimeMillis() - activityStartTime
        Log.d(<span class="hljs-string">"LaunchTime"</span>, <span class="hljs-string">"Activity.onCreateè€—æ—¶: <span class="hljs-subst">${activityCreateTime}</span>ms"</span>)

        <span class="hljs-comment">// ç­‰å¾…é¦–å¸§æ¸²æŸ“å®Œæˆ</span>
        window.decorView.viewTreeObserver.addOnPreDrawListener(
            <span class="hljs-keyword">object</span> : ViewTreeObserver.OnPreDrawListener {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onPreDraw</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
                    window.decorView.viewTreeObserver.removeOnPreDrawListener(<span class="hljs-keyword">this</span>)

                    <span class="hljs-keyword">val</span> totalTime = System.currentTimeMillis() - MyApp.appStartTime
                    <span class="hljs-keyword">val</span> renderTime = System.currentTimeMillis() - activityStartTime

                    Log.d(<span class="hljs-string">"LaunchTime"</span>, <span class="hljs-string">"""
                        ==== å¯åŠ¨æ€§èƒ½ç»Ÿè®¡ ====
                        Applicationè€—æ—¶: <span class="hljs-subst">${MyApp.appCreateTime}</span>ms
                        Activityè€—æ—¶: <span class="hljs-subst">${activityCreateTime}</span>ms
                        é¦–å¸§æ¸²æŸ“è€—æ—¶: <span class="hljs-subst">${renderTime - activityCreateTime}</span>ms
                        æ€»å¯åŠ¨æ—¶é—´: <span class="hljs-subst">${totalTime}</span>ms
                        ======================
                    """</span>.trimIndent())

                    <span class="hljs-comment">// ä¸ŠæŠ¥åˆ°æœåŠ¡å™¨</span>
                    reportLaunchTime(totalTime)

                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                }
            }
        )
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">reportLaunchTime</span><span class="hljs-params">(time: <span class="hljs-type">Long</span>)</span></span> {
        <span class="hljs-comment">// ä¸ŠæŠ¥å¯åŠ¨æ—¶é—´åˆ°Firebase/è‡ªå»ºæœåŠ¡å™¨</span>
        FirebasePerformance.getInstance()
            .newTrace(<span class="hljs-string">"cold_start"</span>)
            .apply {
                putMetric(<span class="hljs-string">"duration_ms"</span>, time)
                start()
                stop()
            }
    }
}
</code></pre>
<h3 data-id="heading-31">3.2 Application.onCreate()ä¼˜åŒ–</h3>
<p>Application.onCreate()æ˜¯å†·å¯åŠ¨çš„ç¬¬ä¸€ä¸ªç“¶é¢ˆ,å¾ˆå¤šå¼€å‘è€…ä¹ æƒ¯åœ¨è¿™é‡Œåˆå§‹åŒ–å„ç§SDK,å¯¼è‡´å¯åŠ¨ç¼“æ…¢ã€‚</p>
<h4 data-id="heading-32">åé¢æ¡ˆä¾‹:å…¸å‹çš„æ…¢Application</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ç³Ÿç³•çš„Applicationå®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BadApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// é—®é¢˜1: åŒæ­¥åˆå§‹åŒ–å¤šä¸ªç¬¬ä¸‰æ–¹SDK (è€—æ—¶500ms+)</span>
        BuglySDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"app_id"</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">// 180ms</span>
        UmengSDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"umeng_key"</span>)      <span class="hljs-comment">// 150ms</span>
        WeChatSDK.registerApp(<span class="hljs-string">"wx_app_id"</span>)    <span class="hljs-comment">// 200ms</span>

        <span class="hljs-comment">// é—®é¢˜2: åŒæ­¥æ•°æ®åº“æ“ä½œ (è€—æ—¶150ms)</span>
        DatabaseHelper.getInstance(<span class="hljs-keyword">this</span>).<span class="hljs-keyword">init</span>()

        <span class="hljs-comment">// é—®é¢˜3: åŒæ­¥æ–‡ä»¶I/O (è€—æ—¶100ms)</span>
        ConfigManager.loadFromDisk(<span class="hljs-keyword">this</span>)

        <span class="hljs-comment">// é—®é¢˜4: å¤æ‚çš„åˆå§‹åŒ–é€»è¾‘ (è€—æ—¶200ms)</span>
        initGlobalConfig()
        preloadAssets()

        <span class="hljs-comment">// æ€»è€—æ—¶: 1000ms+</span>
        <span class="hljs-comment">// ç”¨æˆ·ä½“éªŒ: ç™½å±1ç§’,å¾ˆç³Ÿç³•</span>
    }
}
</code></pre>
<h4 data-id="heading-33">ä¼˜åŒ–ç­–ç•¥1: å»¶è¿Ÿåˆå§‹åŒ– (Lazy Initialization)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… ä¼˜åŒ–å: åªåˆå§‹åŒ–å¿…é¡»çš„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// åªåˆå§‹åŒ–å´©æºƒä¸ŠæŠ¥ (å¿…é¡»ç«‹å³åˆå§‹åŒ–,å¦åˆ™æ•è·ä¸åˆ°æ—©æœŸå´©æºƒ)</span>
        BuglySDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"app_id"</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">// 180ms</span>

        <span class="hljs-comment">// å…¶ä»–SDKåœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶åˆå§‹åŒ–</span>
        Looper.myQueue().addIdleHandler {
            Thread {
                delayedInit()
            }.start()
            <span class="hljs-literal">false</span>  <span class="hljs-comment">// åªæ‰§è¡Œä¸€æ¬¡</span>
        }

        <span class="hljs-comment">// Application.onCreateè€—æ—¶: 180ms (å‡å°‘82%)</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">delayedInit</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// å»¶è¿Ÿ5ç§’ååˆå§‹åŒ–éå…³é”®SDK</span>
        Thread.sleep(<span class="hljs-number">5000</span>)
        UmengSDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"umeng_key"</span>)
        WeChatSDK.registerApp(<span class="hljs-string">"wx_app_id"</span>)
        DatabaseHelper.getInstance(<span class="hljs-keyword">this</span>).<span class="hljs-keyword">init</span>()
        ConfigManager.loadFromDisk(<span class="hljs-keyword">this</span>)
    }
}
</code></pre>
<p><strong>IdleHandleråŸç†</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Looper.myQueue().addIdleHandler ä¼šåœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶æ‰§è¡Œ</span>
<span class="hljs-comment">// å³: MessageQueueä¸­æ²¡æœ‰æ¶ˆæ¯éœ€è¦å¤„ç†æ—¶</span>

<span class="hljs-comment">// å®ç°åŸç†(ç®€åŒ–ç‰ˆ):</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageQueue</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">next</span><span class="hljs-params">()</span></span>: Message? {
        <span class="hljs-comment">// ... è·å–ä¸‹ä¸€ä¸ªæ¶ˆæ¯</span>

        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ¶ˆæ¯,æ‰§è¡ŒIdleHandler</span>
        <span class="hljs-keyword">if</span> (message == <span class="hljs-literal">null</span> &amp;&amp; idleHandlers.isNotEmpty()) {
            <span class="hljs-keyword">for</span> (handler <span class="hljs-keyword">in</span> idleHandlers) {
                handler.queueIdle()
            }
        }

        <span class="hljs-keyword">return</span> message
    }
}
</code></pre>
<h4 data-id="heading-34">ä¼˜åŒ–ç­–ç•¥2: å¼‚æ­¥åˆå§‹åŒ– (Async Initialization)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ›´å¥½çš„æ–¹æ¡ˆ: å¹¶è¡Œå¼‚æ­¥åˆå§‹åŒ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BetterApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> initExecutor = Executors.newFixedThreadPool(<span class="hljs-number">3</span>)

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// å´©æºƒä¸ŠæŠ¥å¿…é¡»åŒæ­¥åˆå§‹åŒ–</span>
        BuglySDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"app_id"</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">// 180ms</span>

        <span class="hljs-comment">// å…¶ä»–SDKå¼‚æ­¥å¹¶è¡Œåˆå§‹åŒ–</span>
        initExecutor.submit { UmengSDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"umeng_key"</span>) }      <span class="hljs-comment">// 150ms</span>
        initExecutor.submit { WeChatSDK.registerApp(<span class="hljs-string">"wx_app_id"</span>) }    <span class="hljs-comment">// 200ms</span>
        initExecutor.submit { DatabaseHelper.getInstance(<span class="hljs-keyword">this</span>).<span class="hljs-keyword">init</span>() }  <span class="hljs-comment">// 150ms</span>

        <span class="hljs-comment">// Application.onCreateè€—æ—¶: 180ms</span>
        <span class="hljs-comment">// å…¶ä»–SDKåœ¨åå°å¹¶è¡Œåˆå§‹åŒ–,äº’ä¸é˜»å¡</span>
    }
}
</code></pre>
<h4 data-id="heading-35">ä¼˜åŒ–ç­–ç•¥3: æ‡’åŠ è½½ (Lazy Loading)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æœ€ä½³æ–¹æ¡ˆ: æŒ‰éœ€åŠ è½½</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BestApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-comment">// ä½¿ç”¨Kotlinçš„lazyå§”æ‰˜,é¦–æ¬¡ä½¿ç”¨æ—¶æ‰åˆå§‹åŒ–</span>
    <span class="hljs-keyword">val</span> database <span class="hljs-keyword">by</span> lazy {
        DatabaseHelper.getInstance(<span class="hljs-keyword">this</span>).apply { <span class="hljs-keyword">init</span>() }
    }

    <span class="hljs-keyword">val</span> config <span class="hljs-keyword">by</span> lazy {
        ConfigManager.loadFromDisk(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()

        <span class="hljs-comment">// åªåˆå§‹åŒ–å´©æºƒä¸ŠæŠ¥</span>
        BuglySDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"app_id"</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">// 180ms</span>

        <span class="hljs-comment">// Application.onCreateè€—æ—¶: 180ms (å‡å°‘82%)</span>
        <span class="hljs-comment">// databaseå’Œconfigåªåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶æ‰åˆå§‹åŒ–</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)

        <span class="hljs-comment">// é¦–æ¬¡è®¿é—®æ—¶æ‰åˆå§‹åŒ–database</span>
        <span class="hljs-keyword">val</span> app = application <span class="hljs-keyword">as</span> BestApplication
        <span class="hljs-keyword">val</span> user = app.database.getUserInfo()  <span class="hljs-comment">// æ­¤æ—¶æ‰æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–</span>
    }
}
</code></pre>
<h4 data-id="heading-36">ä¼˜åŒ–ç­–ç•¥4: å¯åŠ¨å™¨æ¨¡å¼ (Startup Library)</h4>
<p>ä½¿ç”¨Googleçš„App Startupåº“ç®¡ç†åˆå§‹åŒ–æµç¨‹:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// build.gradle</span>
dependencies {
    implementation <span class="hljs-string">"androidx.startup:startup-runtime:1.1.1"</span>
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šä¹‰åˆå§‹åŒ–å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UmengInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        UmengSDK.<span class="hljs-keyword">init</span>(context, <span class="hljs-string">"umeng_key"</span>)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; {
        <span class="hljs-comment">// å£°æ˜ä¾èµ–å…³ç³»</span>
        <span class="hljs-keyword">return</span> emptyList()
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Unit</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
        DatabaseHelper.getInstance(context).<span class="hljs-keyword">init</span>()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; {
        <span class="hljs-keyword">return</span> emptyList()
    }
}
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- AndroidManifest.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">provider</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.startup.InitializationProvider"</span>
    <span class="hljs-attr">android:authorities</span>=<span class="hljs-string">"${applicationId}.androidx-startup"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.UmengInitializer"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.DatabaseInitializer"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"androidx.startup"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">provider</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Applicationä¸­ä¸éœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–,Startupåº“ä¼šè‡ªåŠ¨æŒ‰ä¾èµ–é¡ºåºåˆå§‹åŒ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApp</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        <span class="hljs-comment">// åªéœ€è¦åˆå§‹åŒ–å´©æºƒä¸ŠæŠ¥</span>
        BuglySDK.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">"app_id"</span>, <span class="hljs-literal">false</span>)
    }
}
</code></pre>
<p><strong>Applicationä¼˜åŒ–æ•ˆæœå¯¹æ¯”</strong>:</p>















































<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="right">Applicationè€—æ—¶</th><th align="right">ä¼˜åŒ–å¹…åº¦</th><th align="left">ç”¨æˆ·ä½“éªŒ</th><th align="left">å®ç°éš¾åº¦</th></tr></thead><tbody><tr><td align="left">åŸå§‹æ–¹æ¡ˆ</td><td align="right">1000ms</td><td align="right">-</td><td align="left">ç™½å±1ç§’</td><td align="left">ç®€å•</td></tr><tr><td align="left">å»¶è¿Ÿåˆå§‹åŒ–</td><td align="right">180ms</td><td align="right">â¬‡ï¸ 82%</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td><td align="left">ç®€å•</td></tr><tr><td align="left">å¼‚æ­¥åˆå§‹åŒ–</td><td align="right">180ms</td><td align="right">â¬‡ï¸ 82%</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td><td align="left">ä¸­ç­‰</td></tr><tr><td align="left">æ‡’åŠ è½½</td><td align="right">180ms</td><td align="right">â¬‡ï¸ 82%</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td><td align="left">ç®€å•</td></tr><tr><td align="left">Startupåº“</td><td align="right">180ms</td><td align="right">â¬‡ï¸ 82%</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td><td align="left">ä¸­ç­‰</td></tr></tbody></table>
<h3 data-id="heading-37">3.3 Activity.onCreate()ä¼˜åŒ–</h3>
<p>Activity.onCreate()æ˜¯å†·å¯åŠ¨çš„ç¬¬äºŒä¸ªç“¶é¢ˆ,ä¸»è¦è€—æ—¶åœ¨æ•°æ®åŠ è½½å’ŒUIæ¸²æŸ“ã€‚</p>
<h4 data-id="heading-38">åé¢æ¡ˆä¾‹:å…¸å‹çš„æ…¢Activity</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ç³Ÿç³•çš„Activityå®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BadActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// é—®é¢˜1: ä¸»çº¿ç¨‹åŒæ­¥ç½‘ç»œè¯·æ±‚ (è€—æ—¶400ms)</span>
        <span class="hljs-keyword">val</span> userInfo = NetworkApi.getUserInfoSync()  <span class="hljs-comment">// é˜»å¡ä¸»çº¿ç¨‹!</span>

        <span class="hljs-comment">// é—®é¢˜2: ä¸»çº¿ç¨‹åŒæ­¥æ•°æ®åº“æŸ¥è¯¢ (è€—æ—¶200ms)</span>
        <span class="hljs-keyword">val</span> products = DatabaseHelper.queryProducts()

        <span class="hljs-comment">// é—®é¢˜3: å¤æ‚çš„RecyclerViewåˆå§‹åŒ– (è€—æ—¶300ms)</span>
        recyclerView.adapter = ComplexAdapter(products)
        recyclerView.layoutManager = GridLayoutManager(<span class="hljs-keyword">this</span>, <span class="hljs-number">2</span>)

        <span class="hljs-comment">// é—®é¢˜4: åŠ è½½30å¼ å¤§å›¾ç‰‡ (è€—æ—¶500ms)</span>
        loadAllImages(products)

        <span class="hljs-comment">// Activity.onCreateè€—æ—¶: 1400ms</span>
        <span class="hljs-comment">// åŠ ä¸ŠApplication 180ms = æ€»å¯åŠ¨æ—¶é—´ 1580ms</span>
        <span class="hljs-comment">// ç”¨æˆ·ä½“éªŒ: ç™½å±1.6ç§’,éå¸¸ç³Ÿç³•</span>
    }
}
</code></pre>
<h4 data-id="heading-39">ä¼˜åŒ–ç­–ç•¥1: å¼‚æ­¥åŠ è½½æ•°æ®</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… ä¼˜åŒ–å: å¼‚æ­¥åŠ è½½,å…ˆæ˜¾ç¤ºå ä½</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// å…ˆæ˜¾ç¤ºéª¨æ¶å±/å ä½UI</span>
        showSkeletonScreen()

        <span class="hljs-comment">// å¼‚æ­¥åŠ è½½æ•°æ®</span>
        lifecycleScope.launch {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åœ¨IOçº¿ç¨‹åŠ è½½æ•°æ®</span>
                <span class="hljs-keyword">val</span> userInfo = withContext(Dispatchers.IO) {
                    NetworkApi.getUserInfoSync()
                }

                <span class="hljs-keyword">val</span> products = withContext(Dispatchers.IO) {
                    DatabaseHelper.queryProducts()
                }

                <span class="hljs-comment">// åˆ‡å›ä¸»çº¿ç¨‹æ›´æ–°UI</span>
                withContext(Dispatchers.Main) {
                    hideSkeletonScreen()
                    updateUI(userInfo, products)
                }
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                showError(e)
            }
        }

        <span class="hljs-comment">// Activity.onCreateè€—æ—¶: 80ms (åªæ¸²æŸ“éª¨æ¶å±)</span>
        <span class="hljs-comment">// æ•°æ®åœ¨åå°åŠ è½½,ä¸é˜»å¡å¯åŠ¨</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">showSkeletonScreen</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// æ˜¾ç¤ºéª¨æ¶å±åŠ¨ç”»</span>
        skeletonView.visibility = View.VISIBLE
        contentView.visibility = View.GONE
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">hideSkeletonScreen</span><span class="hljs-params">()</span></span> {
        skeletonView.visibility = View.GONE
        contentView.visibility = View.VISIBLE
    }
}
</code></pre>
<h4 data-id="heading-40">ä¼˜åŒ–ç­–ç•¥2: æ•°æ®é¢„åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨SplashActivityé¢„åŠ è½½æ•°æ®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SplashActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_splash)

        <span class="hljs-comment">// åœ¨æ˜¾ç¤ºSplashçš„åŒæ—¶,é¢„åŠ è½½æ•°æ®</span>
        lifecycleScope.launch {
            <span class="hljs-comment">// å¹¶è¡Œé¢„åŠ è½½å¤šä¸ªæ•°æ®æº</span>
            <span class="hljs-keyword">val</span> userInfoDeferred = async(Dispatchers.IO) {
                NetworkApi.getUserInfoSync()
            }

            <span class="hljs-keyword">val</span> configDeferred = async(Dispatchers.IO) {
                NetworkApi.getConfig()
            }

            <span class="hljs-keyword">val</span> productsDeferred = async(Dispatchers.IO) {
                DatabaseHelper.queryProducts()
            }

            <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰æ•°æ®åŠ è½½å®Œæˆ</span>
            <span class="hljs-keyword">val</span> userInfo = userInfoDeferred.await()
            <span class="hljs-keyword">val</span> config = configDeferred.await()
            <span class="hljs-keyword">val</span> products = productsDeferred.await()

            <span class="hljs-comment">// ç¼“å­˜åˆ°å…¨å±€å•ä¾‹</span>
            DataCache.userInfo = userInfo
            DataCache.config = config
            DataCache.products = products

            <span class="hljs-comment">// å»¶è¿Ÿ1ç§’(å±•ç¤ºSplash),ç„¶åè·³è½¬ä¸»é¡µ</span>
            delay(<span class="hljs-number">1000</span>)
            startActivity(Intent(<span class="hljs-keyword">this</span><span class="hljs-symbol">@SplashActivity</span>, MainActivity::<span class="hljs-keyword">class</span>.java))
            finish()
        }
    }
}

<span class="hljs-comment">// MainActivityç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨é¢„åŠ è½½çš„æ•°æ®,æ— éœ€ç­‰å¾…</span>
        <span class="hljs-keyword">val</span> userInfo = DataCache.userInfo
        <span class="hljs-keyword">val</span> products = DataCache.products

        <span class="hljs-keyword">if</span> (userInfo != <span class="hljs-literal">null</span> &amp;&amp; products != <span class="hljs-literal">null</span>) {
            updateUI(userInfo, products)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é™çº§æ–¹æ¡ˆ:æ•°æ®æœªå‡†å¤‡å¥½,å¼‚æ­¥åŠ è½½</span>
            loadDataAsync()
        }

        <span class="hljs-comment">// Activity.onCreateè€—æ—¶: 80ms</span>
        <span class="hljs-comment">// æ€»å¯åŠ¨æ—¶é—´: 180ms + 80ms = 260ms (ä¼˜åŒ–å‰1580ms,å‡å°‘83%)</span>
    }
}
</code></pre>
<h4 data-id="heading-41">ä¼˜åŒ–ç­–ç•¥3: å¸ƒå±€ä¼˜åŒ–</h4>
<p><strong>ä½¿ç”¨ViewStubå»¶è¿ŸåŠ è½½</strong>:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- activity_main.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é¦–å±å¯è§çš„å†…å®¹ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span> <span class="hljs-attr">...</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">RecyclerView</span> <span class="hljs-attr">...</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- éé¦–å±å†…å®¹ä½¿ç”¨ViewStubå»¶è¿ŸåŠ è½½ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ViewStub</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/stub_detail_panel"</span>
        <span class="hljs-attr">android:layout</span>=<span class="hljs-string">"@layout/layout_detail_panel"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">ViewStub</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/stub_comment_section"</span>
        <span class="hljs-attr">android:layout</span>=<span class="hljs-string">"@layout/layout_comment_section"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// éœ€è¦æ—¶æ‰åŠ è½½</span>
findViewById&lt;ViewStub&gt;(R.id.stub_detail_panel).inflate()
</code></pre>
<p><strong>ä½¿ç”¨ConstraintLayoutå‡å°‘å±‚çº§</strong>:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä¼˜åŒ–å‰: åµŒå¥—5å±‚ (measure/layoutè€—æ—¶150ms) --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">RelativeLayout</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">RelativeLayout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¼˜åŒ–å: åªæœ‰2å±‚ (measure/layoutè€—æ—¶50ms) --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ConstraintLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">"parent"</span>
        <span class="hljs-attr">app:layout_constraintStart_toStartOf</span>=<span class="hljs-string">"parent"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ConstraintLayout</span>&gt;</span>
</code></pre>
<p><strong>å¼‚æ­¥Inflateå¸ƒå±€</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¯¹äºå¤æ‚å¸ƒå±€,ä½¿ç”¨AsyncLayoutInflaterå¼‚æ­¥åŠ è½½</span>
AsyncLayoutInflater(<span class="hljs-keyword">this</span>).inflate(R.layout.complex_layout, container) { view, resid, parent -&gt;
    <span class="hljs-comment">// åœ¨ä¸»çº¿ç¨‹å›è°ƒ,æ·»åŠ åˆ°å®¹å™¨</span>
    parent?.addView(view)
}
</code></pre>
<h4 data-id="heading-42">ä¼˜åŒ–ç­–ç•¥4: å›¾ç‰‡ä¼˜åŒ–</h4>
<p><strong>æ‡’åŠ è½½å›¾ç‰‡</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨Coil/Glideçš„å ä½ç¬¦å’Œæ‡’åŠ è½½</span>
imageView.load(<span class="hljs-string">"https://example.com/image.jpg"</span>) {
    placeholder(R.drawable.placeholder)  <span class="hljs-comment">// å…ˆæ˜¾ç¤ºå ä½å›¾</span>
    crossfade(<span class="hljs-literal">true</span>)  <span class="hljs-comment">// æ·¡å…¥æ·¡å‡º</span>
    memoryCacheKey(<span class="hljs-string">"user_avatar_<span class="hljs-subst">${userId}</span>"</span>)  <span class="hljs-comment">// å†…å­˜ç¼“å­˜</span>
}
</code></pre>
<p><strong>åªåŠ è½½å¯è§åŒºåŸŸçš„å›¾ç‰‡</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// RecyclerViewåªåŠ è½½å¯è§Itemçš„å›¾ç‰‡</span>
recyclerView.addOnScrollListener(<span class="hljs-keyword">object</span> : RecyclerView.OnScrollListener() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onScrollStateChanged</span><span class="hljs-params">(recyclerView: <span class="hljs-type">RecyclerView</span>, newState: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">when</span> (newState) {
            RecyclerView.SCROLL_STATE_IDLE -&gt; {
                <span class="hljs-comment">// åœæ­¢æ»šåŠ¨æ—¶æ‰åŠ è½½å›¾ç‰‡</span>
                Glide.with(context).resumeRequests()
            }
            <span class="hljs-keyword">else</span> -&gt; {
                <span class="hljs-comment">// æ»šåŠ¨ä¸­æš‚åœåŠ è½½</span>
                Glide.with(context).pauseRequests()
            }
        }
    }
})
</code></pre>
<p><strong>ä½¿ç”¨WebPæ ¼å¼</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†PNG/JPGè½¬æ¢ä¸ºWebP (å‡å°30-50%æ–‡ä»¶å¤§å°)</span>
cwebp input.png -q 80 -o output.webp
</code></pre>
<h3 data-id="heading-43">3.4 é¦–å±æ¸²æŸ“ä¼˜åŒ–</h3>
<p>é¦–å±æ¸²æŸ“æ˜¯ç”¨æˆ·æ„ŸçŸ¥å¯åŠ¨å®Œæˆçš„å…³é”®æ—¶åˆ»ã€‚</p>
<h4 data-id="heading-44">æµ‹é‡é¦–å±æ¸²æŸ“æ—¶é—´</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// ç›‘å¬é¦–å¸§ç»˜åˆ¶å®Œæˆ</span>
        window.decorView.post {
            <span class="hljs-keyword">val</span> renderTime = System.currentTimeMillis() - startTime
            Log.d(<span class="hljs-string">"Performance"</span>, <span class="hljs-string">"é¦–å±æ¸²æŸ“è€—æ—¶: <span class="hljs-subst">${renderTime}</span>ms"</span>)

            <span class="hljs-comment">// ä¸ŠæŠ¥ç»™åˆ†æå¹³å°</span>
            Analytics.track(<span class="hljs-string">"first_screen_render"</span>, mapOf(<span class="hljs-string">"duration"</span> to renderTime))
        }
    }
}
</code></pre>
<h4 data-id="heading-45">ä¼˜åŒ–RecyclerViewé¦–å±åŠ è½½</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¼˜åŒ–RecyclerViewæ€§èƒ½</span>
recyclerView.apply {
    <span class="hljs-comment">// 1. è®¾ç½®å›ºå®šå¤§å° (è·³è¿‡measure)</span>
    setHasFixedSize(<span class="hljs-literal">true</span>)

    <span class="hljs-comment">// 2. å¢åŠ Viewç¼“å­˜</span>
    setItemViewCacheSize(<span class="hljs-number">20</span>)  <span class="hljs-comment">// é»˜è®¤2,å¢åŠ åˆ°20</span>
    recycledViewPool.setMaxRecycledViews(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>)

    <span class="hljs-comment">// 3. é¢„å– (prefetch)</span>
    (layoutManager <span class="hljs-keyword">as</span>? LinearLayoutManager)?.apply {
        isItemPrefetchEnabled = <span class="hljs-literal">true</span>
        initialPrefetchItemCount = <span class="hljs-number">4</span>
    }

    <span class="hljs-comment">// 4. ä½¿ç”¨DiffUtilå¢é‡æ›´æ–°</span>
    adapter = MyAdapter().apply {
        submitList(dataList)
    }
}
</code></pre>
<h4 data-id="heading-46">ä½¿ç”¨å¯åŠ¨çª—å£ (SplashScreen API)</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- themes.xml --&gt;</span>
<span class="hljs-comment">&lt;!-- å®šä¹‰å¯åŠ¨ä¸»é¢˜,æ˜¾ç¤ºè‡ªå®šä¹‰èƒŒæ™¯ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AppTheme.Launcher"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"Theme.SplashScreen"</span>&gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"windowSplashScreenBackground"</span>&gt;</span>@color/splash_background<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"windowSplashScreenAnimatedIcon"</span>&gt;</span>@drawable/ic_launcher<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"postSplashScreenTheme"</span>&gt;</span>@style/AppTheme<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- AndroidManifest.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MainActivity"</span>
    <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/AppTheme.Launcher"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.MAIN"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.LAUNCHER"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// å®‰è£…SplashScreen</span>
        <span class="hljs-keyword">val</span> splashScreen = installSplashScreen()

        <span class="hljs-comment">// ä¿æŒSplashScreenç›´åˆ°æ•°æ®å‡†å¤‡å¥½</span>
        <span class="hljs-keyword">var</span> isReady = <span class="hljs-literal">false</span>
        splashScreen.setKeepOnScreenCondition { !isReady }

        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// å¼‚æ­¥åŠ è½½æ•°æ®</span>
        lifecycleScope.launch {
            loadData()
            isReady = <span class="hljs-literal">true</span>  <span class="hljs-comment">// æ•°æ®å‡†å¤‡å¥½,ç§»é™¤SplashScreen</span>
        }
    }
}
</code></pre>
<p><strong>Activityä¼˜åŒ–æ•ˆæœå¯¹æ¯”</strong>:</p>















































<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="right">Activity+æ¸²æŸ“è€—æ—¶</th><th align="right">æ€»å¯åŠ¨æ—¶é—´</th><th align="right">ä¼˜åŒ–å¹…åº¦</th></tr></thead><tbody><tr><td align="left">åŸå§‹æ–¹æ¡ˆ</td><td align="right">1400ms</td><td align="right">1580ms</td><td align="right">-</td></tr><tr><td align="left">å¼‚æ­¥åŠ è½½</td><td align="right">80ms</td><td align="right">260ms</td><td align="right">â¬‡ï¸ 84%</td></tr><tr><td align="left">æ•°æ®é¢„åŠ è½½</td><td align="right">80ms</td><td align="right">260ms</td><td align="right">â¬‡ï¸ 84%</td></tr><tr><td align="left">å¸ƒå±€ä¼˜åŒ–</td><td align="right">50ms</td><td align="right">230ms</td><td align="right">â¬‡ï¸ 85%</td></tr><tr><td align="left">å›¾ç‰‡ä¼˜åŒ–</td><td align="right">80ms</td><td align="right">260ms</td><td align="right">â¬‡ï¸ 84%</td></tr><tr><td align="left"><strong>ç»¼åˆä¼˜åŒ–</strong></td><td align="right"><strong>50ms</strong></td><td align="right"><strong>230ms</strong></td><td align="right"><strong>â¬‡ï¸ 85%</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-47">å››ã€Appçƒ­å¯åŠ¨ä¼˜åŒ–:æ¯«ç§’çº§çš„ç”¨æˆ·ä½“éªŒ</h2>
<p>çƒ­å¯åŠ¨æ˜¯Appä»åå°æ¢å¤çš„åœºæ™¯,è™½ç„¶æ¯”å†·å¯åŠ¨å¿«,ä½†ä¼˜åŒ–ä¸å½“ä»ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°å¡é¡¿ã€‚</p>
<h3 data-id="heading-48">4.1 çƒ­å¯åŠ¨æ€§èƒ½æµ‹é‡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹é‡çƒ­å¯åŠ¨æ—¶é—´</span>
<span class="hljs-comment"># 1. å¯åŠ¨App</span>
adb shell am start-activity com.example.myapp/.MainActivity

<span class="hljs-comment"># 2. æŒ‰Homeé”®(Appè¿›å…¥åå°)</span>
adb shell input keyevent KEYCODE_HOME

<span class="hljs-comment"># 3. ç­‰å¾…2ç§’</span>

<span class="hljs-comment"># 4. é‡æ–°å¯åŠ¨Appå¹¶æµ‹é‡</span>
adb shell am start-activity -W com.example.myapp/.MainActivity

<span class="hljs-comment"># è¾“å‡º:</span>
<span class="hljs-comment"># TotalTime: 450ms  â† è¿™å°±æ˜¯çƒ­å¯åŠ¨æ—¶é—´</span>
</code></pre>
<h3 data-id="heading-49">4.2 çƒ­å¯åŠ¨ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-50">ç­–ç•¥1: é¿å…onResume()ä¸­çš„é‡å¤æ“ä½œ</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ä¸å¥½çš„åšæ³•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onResume()

        <span class="hljs-comment">// æ¯æ¬¡onResumeéƒ½æ‰§è¡Œ,åŒ…æ‹¬çƒ­å¯åŠ¨</span>
        loadUserInfo()       <span class="hljs-comment">// 400ms</span>
        loadProductList()    <span class="hljs-comment">// 300ms</span>
        updateUI()          <span class="hljs-comment">// 100ms</span>

        <span class="hljs-comment">// çƒ­å¯åŠ¨è€—æ—¶: 800ms (å¤ªæ…¢!)</span>
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… å¥½çš„åšæ³•: åŒºåˆ†é¦–æ¬¡å’Œåç»­Resume</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isFirstResume = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onResume()

        <span class="hljs-keyword">if</span> (isFirstResume) {
            <span class="hljs-comment">// é¦–æ¬¡Resume: åŠ è½½æ‰€æœ‰æ•°æ®</span>
            loadUserInfo()
            loadProductList()
            updateUI()
            isFirstResume = <span class="hljs-literal">false</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// çƒ­å¯åŠ¨: åªåˆ·æ–°å¿…è¦æ•°æ®</span>
            refreshData()  <span class="hljs-comment">// åªåˆ·æ–°æ—¶é—´æ•æ„Ÿçš„æ•°æ®,å¦‚æ¶ˆæ¯æ•°ã€é€šçŸ¥ç­‰</span>
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refreshData</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// åªåˆ·æ–°å¢é‡æ•°æ®,è€—æ—¶50ms</span>
        lifecycleScope.launch {
            <span class="hljs-keyword">val</span> newMessages = withContext(Dispatchers.IO) {
                MessageApi.getNewMessages()
            }
            updateMessageBadge(newMessages)
        }
    }
}
</code></pre>
<h4 data-id="heading-51">ç­–ç•¥2: ç¼“å­˜ViewçŠ¶æ€</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¿å­˜å’Œæ¢å¤æ»šåŠ¨ä½ç½®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> scrollPosition = <span class="hljs-number">0</span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSaveInstanceState</span><span class="hljs-params">(outState: <span class="hljs-type">Bundle</span>)</span></span> {
        <span class="hljs-keyword">super</span>.onSaveInstanceState(outState)
        <span class="hljs-comment">// ä¿å­˜æ»šåŠ¨ä½ç½®</span>
        scrollPosition = recyclerView.computeVerticalScrollOffset()
        outState.putInt(<span class="hljs-string">"scroll_position"</span>, scrollPosition)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onRestoreInstanceState</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>)</span></span> {
        <span class="hljs-keyword">super</span>.onRestoreInstanceState(savedInstanceState)
        <span class="hljs-comment">// æ¢å¤æ»šåŠ¨ä½ç½®</span>
        scrollPosition = savedInstanceState.getInt(<span class="hljs-string">"scroll_position"</span>, <span class="hljs-number">0</span>)
        recyclerView.post {
            recyclerView.scrollBy(<span class="hljs-number">0</span>, scrollPosition)
        }
    }
}
</code></pre>
<h4 data-id="heading-52">ç­–ç•¥3: ä½¿ç”¨Fragmentç¼“å­˜</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ViewPager2ç¼“å­˜Fragment,é¿å…é‡å¤åˆ›å»º</span>
viewPager.offscreenPageLimit = <span class="hljs-number">2</span>  <span class="hljs-comment">// ç¼“å­˜å·¦å³å„2é¡µ</span>

<span class="hljs-comment">// FragmentManagerå¤ç”¨Fragment</span>
supportFragmentManager.beginTransaction()
    .replace(R.id.container, fragment, <span class="hljs-string">"tag"</span>)
    .commit()

<span class="hljs-comment">// ä¸‹æ¬¡ä½¿ç”¨æ—¶å…ˆæŸ¥æ‰¾ç¼“å­˜</span>
<span class="hljs-keyword">val</span> cachedFragment = supportFragmentManager.findFragmentByTag(<span class="hljs-string">"tag"</span>)
<span class="hljs-keyword">if</span> (cachedFragment != <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// å¤ç”¨ç¼“å­˜çš„Fragment</span>
    supportFragmentManager.beginTransaction()
        .show(cachedFragment)
        .commit()
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// åˆ›å»ºæ–°Fragment</span>
}
</code></pre>
<p><strong>çƒ­å¯åŠ¨ä¼˜åŒ–æ•ˆæœ</strong>:</p>



































<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="right">çƒ­å¯åŠ¨è€—æ—¶</th><th align="right">ä¼˜åŒ–å¹…åº¦</th><th align="left">ç”¨æˆ·ä½“éªŒ</th></tr></thead><tbody><tr><td align="left">åŸå§‹æ–¹æ¡ˆ</td><td align="right">800ms</td><td align="right">-</td><td align="left">æ˜æ˜¾å¡é¡¿</td></tr><tr><td align="left">é¿å…é‡å¤æ“ä½œ</td><td align="right">300ms</td><td align="right">â¬‡ï¸ 62.5%</td><td align="left">è½»å¾®å»¶è¿Ÿ</td></tr><tr><td align="left">ç¼“å­˜ViewçŠ¶æ€</td><td align="right">250ms</td><td align="right">â¬‡ï¸ 68.75%</td><td align="left">å‡ ä¹æ— æ„ŸçŸ¥</td></tr><tr><td align="left">Fragmentç¼“å­˜</td><td align="right">200ms</td><td align="right">â¬‡ï¸ 75%</td><td align="left">å³æ—¶å“åº”</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-53">äº”ã€è½¦æœºåœºæ™¯ç‰¹æ®Šä¼˜åŒ–</h2>
<p>è½¦è½½ç³»ç»Ÿå¯¹å¯åŠ¨æ€§èƒ½è¦æ±‚æ›´é«˜,åŒæ—¶æœ‰ç‰¹æ®Šçš„çº¦æŸæ¡ä»¶ã€‚</p>
<h3 data-id="heading-54">5.1 è½¦æœºBootä¼˜åŒ–ç‰¹ç‚¹</h3>
<p><strong>æŒ‘æˆ˜</strong>:</p>
<ul>
<li>å¯åŠ¨æ—¶é—´è¦æ±‚æ›´ä¸¥æ ¼ (&lt; 10ç§’åˆ°Launcher,&lt; 5ç§’åˆ°å€’è½¦å½±åƒ)</li>
<li>ç¡¬ä»¶èµ„æºç›¸å¯¹å—é™ (CPUã€RAMæ¯”æ——èˆ°æ‰‹æœºä½)</li>
<li>å®‰å…¨å…³é”®åŠŸèƒ½å¿…é¡»å¿«é€Ÿå¯ç”¨ (å€’è½¦å½±åƒã€èƒå‹ç›‘æµ‹)</li>
</ul>
<p><strong>ä¼˜åŒ–ç­–ç•¥</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># init.rc: å…³é”®æœåŠ¡ä¼˜å…ˆå¯åŠ¨</span>
on boot
    <span class="hljs-comment"># ä¼˜å…ˆçº§1: å€’è½¦å½±åƒç›¸å…³ (å¿…é¡»3ç§’å†…å¯ç”¨)</span>
    start camera_hal
    start rvc_service  <span class="hljs-comment"># Rear View Camera</span>

    <span class="hljs-comment"># ä¼˜å…ˆçº§2: ä»ªè¡¨æ˜¾ç¤º</span>
    start instrument_cluster

    <span class="hljs-comment"># ä¼˜å…ˆçº§3: å…¶ä»–åŠŸèƒ½ (å»¶åå¯åŠ¨)</span>
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"start media_service &amp;"</span>
    <span class="hljs-built_in">exec</span> - root -- /system/bin/sh -c <span class="hljs-string">"start navi_service &amp;"</span>
</code></pre>
<h3 data-id="heading-55">5.2 è½¦æœºAppå¯åŠ¨ä¼˜åŒ–</h3>
<p><strong>Launcheré¢„åŠ è½½å¸¸ç”¨App</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CarLauncher</span> : <span class="hljs-type">Activity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_launcher)

        <span class="hljs-comment">// åœ¨Launcheræ˜¾ç¤ºå,åå°é¢„åŠ è½½å¯¼èˆªå’ŒéŸ³ä¹App</span>
        window.decorView.post {
            preloadApp(<span class="hljs-string">"com.example.navi"</span>)
            preloadApp(<span class="hljs-string">"com.example.music"</span>)
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">preloadApp</span><span class="hljs-params">(packageName: <span class="hljs-type">String</span>)</span></span> {
        Thread {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// å¯åŠ¨Appä½†ä¸æ˜¾ç¤º</span>
                <span class="hljs-keyword">val</span> intent = packageManager.getLaunchIntentForPackage(packageName)
                intent?.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
                startActivity(intent)

                <span class="hljs-comment">// å»¶è¿Ÿ1ç§’åç§»åˆ°åå° (è¿›ç¨‹å·²åˆ›å»º,ä¸‹æ¬¡å¯åŠ¨æ›´å¿«)</span>
                Thread.sleep(<span class="hljs-number">1000</span>)

                <span class="hljs-keyword">val</span> am = getSystemService(Context.ACTIVITY_SERVICE) <span class="hljs-keyword">as</span> ActivityManager
                am.moveTaskToBack(<span class="hljs-literal">true</span>)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                Log.e(<span class="hljs-string">"Preload"</span>, <span class="hljs-string">"é¢„åŠ è½½å¤±è´¥: <span class="hljs-variable">$packageName</span>"</span>, e)
            }
        }.start()
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-56">å…­ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-57">6.1 å¯åŠ¨ä¼˜åŒ–æ–¹æ³•è®º</h3>
<p>âœ… <strong>1. æµ‹é‡ä¼˜å…ˆ,æ•°æ®é©±åŠ¨</strong></p>
<ul>
<li>ä¸è¦å‡­æ„Ÿè§‰ä¼˜åŒ–,å…ˆç”¨Systrace/Perfettoç²¾ç¡®æµ‹é‡</li>
<li>æ‰¾åˆ°çœŸæ­£çš„ç“¶é¢ˆ,è€Œéæƒ³è±¡ä¸­çš„ç“¶é¢ˆ</li>
<li>ä¼˜åŒ–å‰åéƒ½è¦æµ‹é‡,éªŒè¯æ•ˆæœ</li>
</ul>
<p>âœ… <strong>2. åˆ†é˜¶æ®µä¼˜åŒ–</strong></p>
<ul>
<li>Applicationé˜¶æ®µ: å»¶è¿Ÿåˆå§‹åŒ–ã€å¼‚æ­¥åˆå§‹åŒ–ã€æ‡’åŠ è½½</li>
<li>Activityé˜¶æ®µ: å¼‚æ­¥åŠ è½½æ•°æ®ã€é¢„åŠ è½½ã€éª¨æ¶å±</li>
<li>é¦–å±æ¸²æŸ“: å¸ƒå±€ä¼˜åŒ–ã€å›¾ç‰‡æ‡’åŠ è½½ã€RecyclerViewä¼˜åŒ–</li>
</ul>
<p>âœ… <strong>3. å¼‚æ­¥ä¸ºç‹</strong></p>
<ul>
<li>èƒ½å¼‚æ­¥çš„åšå†³ä¸åŒæ­¥</li>
<li>ä¸»çº¿ç¨‹åªåšUIç›¸å…³æ“ä½œ</li>
<li>ä½¿ç”¨Coroutines/RxJavaç®¡ç†å¼‚æ­¥ä»»åŠ¡</li>
</ul>
<p>âœ… <strong>4. å»¶è¿ŸåŠ è½½</strong></p>
<ul>
<li>éå¿…é¡»çš„åŠŸèƒ½å»¶ååˆå§‹åŒ–</li>
<li>éé¦–å±çš„å†…å®¹å»¶ååŠ è½½</li>
<li>ä½¿ç”¨IdleHandlerã€postDelayedã€lazyç­‰æœºåˆ¶</li>
</ul>
<p>âœ… <strong>5. æŒç»­ç›‘æ§</strong></p>
<ul>
<li>å»ºç«‹CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•</li>
<li>çº¿ä¸Šç›‘æ§å¯åŠ¨æ€§èƒ½</li>
<li>è®¾ç½®æ€§èƒ½é˜ˆå€¼,é˜²æ­¢å€’é€€</li>
</ul>
<h3 data-id="heading-58">6.2 é¿å‘æŒ‡å—</h3>
<p>âŒ <strong>ä¸è¦åœ¨Applicationä¸­åšå¤ªå¤šäº‹æƒ…</strong></p>
<ul>
<li>Application.onCreate()åªåˆå§‹åŒ–å´©æºƒä¸ŠæŠ¥ç­‰å¿…é¡»çš„æœåŠ¡</li>
<li>å…¶ä»–SDKå¼‚æ­¥æˆ–å»¶è¿Ÿåˆå§‹åŒ–</li>
</ul>
<p>âŒ <strong>ä¸è¦åœ¨ä¸»çº¿ç¨‹åšç½‘ç»œè¯·æ±‚å’Œæ•°æ®åº“æ“ä½œ</strong></p>
<ul>
<li>æ°¸è¿œä¸è¦åœ¨ä¸»çº¿ç¨‹åšè€—æ—¶æ“ä½œ</li>
<li>ä½¿ç”¨Coroutinesçš„Dispatchers.IO</li>
</ul>
<p>âŒ <strong>ä¸è¦è¿‡æ—©åˆå§‹åŒ–ä¸éœ€è¦çš„SDK</strong></p>
<ul>
<li>å¾ˆå¤šSDKæ”¯æŒå»¶è¿Ÿåˆå§‹åŒ–</li>
<li>æ‡’åŠ è½½:ç”¨åˆ°æ—¶å†åˆå§‹åŒ–</li>
</ul>
<p>âŒ <strong>ä¸è¦åœ¨é¦–å±åŠ è½½æ‰€æœ‰æ•°æ®</strong></p>
<ul>
<li>å…ˆæ˜¾ç¤ºéª¨æ¶å±,ç»™ç”¨æˆ·å³æ—¶åé¦ˆ</li>
<li>æ•°æ®å¼‚æ­¥åŠ è½½,åˆ†æ‰¹æ¸²æŸ“</li>
</ul>
<p>âŒ <strong>ä¸è¦å¿½ç•¥å¯åŠ¨çª—å£çš„ä½“éªŒ</strong></p>
<ul>
<li>ä½¿ç”¨SplashScreen APIæä¾›å¹³æ»‘è¿‡æ¸¡</li>
<li>é¿å…ç™½å±</li>
</ul>
<h3 data-id="heading-59">6.3 æ€§èƒ½åŸºå‡†å‚è€ƒ</h3>
<p><strong>å†·å¯åŠ¨æ€§èƒ½åŸºå‡†</strong>:</p>









































<table><thead><tr><th align="left">åº”ç”¨ç±»å‹</th><th align="right">ä¼˜ç§€</th><th align="right">è‰¯å¥½</th><th align="right">éœ€ä¼˜åŒ–</th></tr></thead><tbody><tr><td align="left">ç¤¾äº¤ç±»</td><td align="right">&lt; 0.8s</td><td align="right">0.8-1.5s</td><td align="right">&gt; 1.5s</td></tr><tr><td align="left">ç”µå•†ç±»</td><td align="right">&lt; 1s</td><td align="right">1-1.8s</td><td align="right">&gt; 1.8s</td></tr><tr><td align="left">å·¥å…·ç±»</td><td align="right">&lt; 0.5s</td><td align="right">0.5-1s</td><td align="right">&gt; 1s</td></tr><tr><td align="left">æ¸¸æˆç±»</td><td align="right">&lt; 2s</td><td align="right">2-3s</td><td align="right">&gt; 3s</td></tr><tr><td align="left">è½¦æœºåº”ç”¨</td><td align="right">&lt; 0.8s</td><td align="right">0.8-1.2s</td><td align="right">&gt; 1.2s</td></tr></tbody></table>
<p><strong>çƒ­å¯åŠ¨æ€§èƒ½åŸºå‡†</strong>:</p>

















<table><thead><tr><th align="left">åº”ç”¨ç±»å‹</th><th align="right">ä¼˜ç§€</th><th align="right">è‰¯å¥½</th><th align="right">éœ€ä¼˜åŒ–</th></tr></thead><tbody><tr><td align="left">æ‰€æœ‰ç±»å‹</td><td align="right">&lt; 300ms</td><td align="right">300-500ms</td><td align="right">&gt; 500ms</td></tr></tbody></table>
<h3 data-id="heading-60">6.4 å‚è€ƒèµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Fvitals%2Flaunch-time" target="_blank" title="https://developer.android.com/topic/performance/vitals/launch-time" ref="nofollow noopener noreferrer">Androidå®˜æ–¹:å¯åŠ¨æ€§èƒ½ä¼˜åŒ–</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2F" target="_blank" title="https://perfetto.dev/" ref="nofollow noopener noreferrer">Perfettoæ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Flibraries%2Fapp-startup" target="_blank" title="https://developer.android.com/topic/libraries/app-startup" ref="nofollow noopener noreferrer">App Startupåº“</a></li>
</ul>
<p><strong>æºç å‚è€ƒ</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fmaster%3Asystem%2Fcore%2Finit%2F" target="_blank" title="https://cs.android.com/android/platform/superproject/+/master:system/core/init/" ref="nofollow noopener noreferrer">Android Initè¿›ç¨‹æºç </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fmaster%3Aframeworks%2Fbase%2Fcore%2Fjava%2Fcom%2Fandroid%2Finternal%2Fos%2FZygoteInit.java" target="_blank" title="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/com/android/internal/os/ZygoteInit.java" ref="nofollow noopener noreferrer">Zygoteæºç </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fmaster%3Aframeworks%2Fbase%2Fservices%2Fjava%2Fcom%2Fandroid%2Fserver%2FSystemServer.java" target="_blank" title="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/services/java/com/android/server/SystemServer.java" ref="nofollow noopener noreferrer">SystemServeræºç </a></li>
</ul>
<p><strong>å·¥å…·é“¾</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdevices%2Ftech%2Fdebug%2Fsystrace" target="_blank" title="https://source.android.com/devices/tech/debug/systrace" ref="nofollow noopener noreferrer">Systraceç”¨æˆ·æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffirebase.google.com%2Fproducts%2Fperformance" target="_blank" title="https://firebase.google.com/products/performance" ref="nofollow noopener noreferrer">Firebase Performance</a></li>
</ul>
<hr/>
<ul>
<li><a href="https://juejin.cn/post/7591075684066541583" target="_blank" title="https://juejin.cn/post/7591075684066541583">ä¸Šä¸€ç¯‡ï¼šç³»ç»Ÿæ€§èƒ½åˆ†æåŸºç¡€:Systraceä¸Perfettoå…¥é—¨</a></li>
<li><a href="https://juejin.cn/post/7587473691170095104" target="_blank" title="https://juejin.cn/post/7587473691170095104">ç³»åˆ—ç›®å½•: Androidç³»ç»Ÿç¨³å®šæ€§ä¸æ€§èƒ½ä¼˜åŒ–</a></li>
</ul>
<blockquote>
<p><strong>ä½œè€…ç®€ä»‹</strong>: å¤šå¹´Androidç³»ç»Ÿå¼€å‘ç»éªŒ,ä¸“æ³¨äºç³»ç»Ÿç¨³å®šæ€§ä¸æ€§èƒ½ä¼˜åŒ–é¢†åŸŸã€‚æ¬¢è¿å…³æ³¨æœ¬ç³»åˆ—,ä¸€èµ·æ·±å…¥Androidç³»ç»Ÿçš„ç²¾å½©ä¸–ç•Œ!</p>
</blockquote>
<hr/>
<h3 data-id="heading-61">ğŸ‰ æ„Ÿè°¢å…³æ³¨,è®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥Androidç³»ç»Ÿçš„ç²¾å½©ä¸–ç•Œ!</h3>
<h3 data-id="heading-62"><strong>æ‰¾åˆ°æˆ‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a></h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python 3.12 æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªè®©ä½ çš„ä»£ç æ•ˆç‡æå‡30%çš„æŠ€å·§]]></title>    <link>https://juejin.cn/post/7592431064977227791</link>    <guid>https://juejin.cn/post/7592431064977227791</guid>    <pubDate>2026-01-08T00:16:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064977227791" data-draft-id="7592276645362384896" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python 3.12 æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªè®©ä½ çš„ä»£ç æ•ˆç‡æå‡30%çš„æŠ€å·§"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-08T00:16:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python 3.12 æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªè®©ä½ çš„ä»£ç æ•ˆç‡æå‡30%çš„æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T00:16:56.000Z" title="Thu Jan 08 2026 00:16:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Python 3.12 æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªè®©ä½ çš„ä»£ç æ•ˆç‡æå‡30%çš„æŠ€å·§</strong></h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>Python 3.12 äº2023å¹´10æœˆæ­£å¼å‘å¸ƒï¼Œå¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§å’Œä¼˜åŒ–ã€‚è¿™äº›æ”¹è¿›ä¸ä»…å¢å¼ºäº†è¯­è¨€çš„è¡¨ç°åŠ›ï¼Œè¿˜åœ¨æ€§èƒ½ã€å¼€å‘æ•ˆç‡å’Œä»£ç å¯è¯»æ€§æ–¹é¢æä¾›äº†æ˜¾è‘—çš„æå‡ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Python 3.12 ä¸­äº”ä¸ªæœ€å…·å®æˆ˜ä»·å€¼çš„æ–°ç‰¹æ€§ï¼Œå¹¶é€šè¿‡å®é™…ç¤ºä¾‹å±•ç¤ºå¦‚ä½•åˆ©ç”¨è¿™äº›ç‰¹æ€§å°†ä½ çš„ä»£ç æ•ˆç‡æå‡è‡³å°‘30%ã€‚æ— è®ºä½ æ˜¯æ•°æ®ç§‘å­¦å®¶ã€Webå¼€å‘è€…è¿˜æ˜¯è‡ªåŠ¨åŒ–è„šæœ¬ç¼–å†™è€…ï¼Œè¿™äº›æŠ€å·§éƒ½èƒ½å¸®åŠ©ä½ å†™å‡ºæ›´å¿«ã€æ›´ä¼˜é›…çš„ä»£ç ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. ç±»å‹ç³»ç»Ÿå¢å¼ºï¼šæ›´ç²¾ç¡®çš„æ³›å‹æ³¨è§£ï¼ˆPEP 695ï¼‰</h3>
<h4 data-id="heading-3"><strong>èƒŒæ™¯ä¸é—®é¢˜</strong></h4>
<p>Python çš„ç±»å‹æ³¨è§£ç³»ç»Ÿè‡ª PEP 484 å¼•å…¥ä»¥æ¥ä¸æ–­æ¼”è¿›ï¼Œä½†åœ¨æ³›å‹ç±»å‹çš„ä½¿ç”¨ä¸Šä»ç„¶å­˜åœ¨ä¸€äº›å†—ä½™å’Œä¸å¤Ÿç›´è§‚çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªæ³›å‹ç±»éœ€è¦æ˜¾å¼ç»§æ‰¿ <code>Generic[T]</code>ï¼Œå¹¶ä¸”åœ¨å¤šä¸ªåœ°æ–¹é‡å¤ç±»å‹å˜é‡ <code>T</code>ã€‚</p>
<h4 data-id="heading-4"><strong>Python 3.12 çš„è§£å†³æ–¹æ¡ˆ</strong></h4>
<p>PEP 695 å¼•å…¥äº†æ›´ç®€æ´çš„æ³›å‹è¯­æ³•ï¼Œå…è®¸ç›´æ¥åœ¨ç±»æˆ–å‡½æ•°å®šä¹‰ä¸­å£°æ˜ç±»å‹å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python 3.11åŠä¹‹å‰</span>
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Generic</span>, TypeVar

T = TypeVar(<span class="hljs-string">'T'</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Box</span>(<span class="hljs-type">Generic</span>[T]):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value: T</span>) -&gt; <span class="hljs-literal">None</span>:
        self.value = value

<span class="hljs-comment"># Python 3.12</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Box</span>[T]:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value: T</span>) -&gt; <span class="hljs-literal">None</span>:
        self.value = value
</code></pre>
<h4 data-id="heading-5"><strong>æ€§èƒ½ä¸æ•ˆç‡æå‡</strong></h4>
<ul>
<li><strong>å‡å°‘æ ·æ¿ä»£ç </strong>ï¼šä¸å†éœ€è¦æ˜¾å¼å¯¼å…¥ <code>Generic</code> å’Œ <code>TypeVar</code>ï¼Œä»£ç æ›´ç®€æ´ã€‚</li>
<li><strong>ç¼–è¾‘å™¨æ”¯æŒæ›´å¥½</strong>ï¼šæ–°è¯­æ³•æ›´å®¹æ˜“è¢«é™æ€ç±»å‹æ£€æŸ¥å™¨ï¼ˆå¦‚ mypyï¼‰è¯†åˆ«ï¼Œå‡å°‘è¯¯æŠ¥ã€‚</li>
<li><strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œè¿™ç§æ”¹è¿›å¯ä»¥æ˜¾è‘—å‡å°‘ç±»å‹ç›¸å…³çš„ä»£ç é‡ï¼Œæå‡å¼€å‘é€Ÿåº¦ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">2. Per-Interpreter GILï¼ˆPEP 684ï¼‰ï¼šè§£é”çœŸæ­£çš„å¹¶è¡Œè®¡ç®—</h3>
<h4 data-id="heading-7"><strong>èƒŒæ™¯ä¸é—®é¢˜</strong></h4>
<p>Python çš„å…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰ä¸€ç›´æ˜¯å¤šçº¿ç¨‹æ€§èƒ½çš„ç“¶é¢ˆã€‚è™½ç„¶å¤šè¿›ç¨‹å¯ä»¥ç»•è¿‡ GILï¼Œä½†è¿›ç¨‹é—´é€šä¿¡çš„å¼€é”€è¾ƒé«˜ã€‚</p>
<h4 data-id="heading-8"><strong>Python 3.12 çš„è§£å†³æ–¹æ¡ˆ</strong></h4>
<p>PEP 684 å¼•å…¥äº†â€œæ¯è§£é‡Šå™¨ GILâ€ï¼Œå…è®¸åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­åˆ›å»ºå¤šä¸ªè§£é‡Šå™¨å®ä¾‹ï¼Œæ¯ä¸ªè§£é‡Šå™¨æœ‰è‡ªå·±çš„ GILã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨å•è¿›ç¨‹ä¸­å®ç°çœŸæ­£çš„å¹¶è¡Œçº¿ç¨‹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">def</span> <span class="hljs-title function_">worker</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Running in interpreter <span class="hljs-subst">{sys.implementation}</span>"</span>)

interpreter1 = threading.Thread(target=worker)
interpreter2 = threading.Thread(target=worker)
interpreter1.start()
interpreter2.start()
</code></pre>
<h4 data-id="heading-9"><strong>æ€§èƒ½ä¸æ•ˆç‡æå‡</strong></h4>
<ul>
<li><strong>CPUå¯†é›†å‹ä»»åŠ¡åŠ é€Ÿ</strong>ï¼šå¯¹äºç§‘å­¦è®¡ç®—æˆ–æ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå¯ä»¥åˆ†é…å¤šä¸ªè§£é‡Šå™¨å¹¶è¡Œè¿è¡Œã€‚</li>
<li><strong>å…¼å®¹æ€§ä¿ç•™</strong>ï¼šç°æœ‰å•çº¿ç¨‹ä»£ç æ— éœ€ä¿®æ”¹å³å¯è¿è¡Œã€‚</li>
<li><strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼šåœ¨æ•°æ®é¢„å¤„ç†æµæ°´çº¿ä¸­ï¼Œä½¿ç”¨å¤šè§£é‡Šå™¨å¯ä»¥å°†ä»»åŠ¡è¿è¡Œæ—¶é—´ç¼©çŸ­30%ä»¥ä¸Šã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">3. Buffer Protocolæ”¹è¿›ï¼ˆPEP 688ï¼‰ï¼šæ›´é«˜æ•ˆçš„æ•°æ®å…±äº«</h3>
<h4 data-id="heading-11"><strong>èƒŒæ™¯ä¸é—®é¢˜</strong></h4>
<p>Python çš„ç¼“å†²åŒºåè®®ï¼ˆBuffer Protocolï¼‰æ˜¯é«˜æ€§èƒ½åº“ï¼ˆå¦‚ NumPyï¼‰ä¸ C/C++æ‰©å±•äº¤äº’çš„åŸºç¡€ã€‚ç„¶è€Œï¼Œç°æœ‰çš„æ¥å£è¾ƒä¸ºå¤æ‚ï¼Œä¸”ç¼ºä¹å¯¹åªè¯»ç¼“å†²åŒºçš„æ”¯æŒã€‚</p>
<h4 data-id="heading-12"><strong>Python 3.12 çš„è§£å†³æ–¹æ¡ˆ</strong></h4>
<p>PEP 688 æ”¹è¿›äº†ç¼“å†²åŒºåè®®ï¼Œå¼•å…¥äº†æ›´ç®€å•çš„ API <code>PyBuffer.from_memory()</code>ï¼Œå¹¶æ”¯æŒåªè¯»ç¼“å†²åŒºï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=np.int32)
buffer = <span class="hljs-built_in">memoryview</span>(arr)
<span class="hljs-comment"># Python 3.12å¯ä»¥ç›´æ¥ä»å†…å­˜åˆ›å»ºåªè¯»ç¼“å†²åŒº</span>
readonly_buffer = buffer.toreadonly()
</code></pre>
<h4 data-id="heading-13"><strong>æ€§èƒ½ä¸æ•ˆç‡æå‡</strong></h4>
<ul>
<li><strong>å‡å°‘å†…å­˜æ‹·è´</strong>ï¼šç›´æ¥åœ¨åŸç”Ÿæ•°æ®ç±»å‹ï¼ˆå¦‚ NumPyæ•°ç»„ï¼‰å’Œ Pythonå¯¹è±¡é—´å…±äº«å†…å­˜ã€‚</li>
<li><strong>å®‰å…¨æ€§å¢å¼º</strong>ï¼šé€šè¿‡åªè¯»ç¼“å†²åŒºé¿å…æ„å¤–ä¿®æ”¹æ•°æ®ã€‚</li>
<li><strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼šåœ¨å›¾åƒå¤„ç†æˆ–æœºå™¨å­¦ä¹ ä¸­ï¼Œæ•°æ®ä¼ è¾“å¼€é”€å¯é™ä½20%-30%ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-14">4. F-Stringè°ƒè¯•å¢å¼ºï¼ˆPEP 701ï¼‰ï¼šæ›´å¼ºå¤§çš„å†…è”è¡¨è¾¾å¼</h3>
<h4 data-id="heading-15"><strong>èƒŒæ™¯ä¸é—®é¢˜</strong></h4>
<p>F-stringæ˜¯ Pythonä¸­éå¸¸æµè¡Œçš„å­—ç¬¦ä¸²æ ¼å¼åŒ–å·¥å…·ï¼Œä½†åœ¨å¤æ‚è¡¨è¾¾å¼æˆ–åµŒå¥—ä½¿ç”¨æ—¶å­˜åœ¨é™åˆ¶ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python 3.11ä¼šæŠ¥é”™</span>
value = <span class="hljs-string">"hello"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">f"<span class="hljs-subst">{value}</span>"</span>}</span>"</span>)
</code></pre>
<h4 data-id="heading-16"><strong>Python 3.12çš„è§£å†³æ–¹æ¡ˆ</strong></h4>
<p>PEP701æ”¾å®½äº†F-stringçš„é™åˆ¶ï¼š
1.å…è®¸åµŒå¥—F-stringã€‚
2.æ”¯æŒå¤šè¡Œè¡¨è¾¾å¼ã€‚
3.æ”¯æŒæ³¨é‡Šã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python3.12åˆæ³•ï¼š</span>
x=<span class="hljs-number">42</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"The answer is <span class="hljs-subst">{x}</span> and squared is <span class="hljs-subst">{x*x #è®¡ç®—å¹³æ–¹}</span>"</span>)
</code></pre>
<p>####æ€§èƒ½å’Œæ•ˆç‡æå‡ï¼š
â€¢å¼€å‘æ•ˆç‡æé«˜:å‡å°‘å› è¯­æ³•é™åˆ¶å¯¼è‡´çš„ä»£ç é‡æ„ã€‚
â€¢è°ƒè¯•æ›´æ–¹ä¾¿:ç›´æ¥åœ¨F-stringä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜è®¡ç®—é€»è¾‘ã€‚
å®æˆ˜ç¤ºä¾‹:æ—¥å¿—è®°å½•æˆ–åŠ¨æ€SQLç”Ÿæˆåœºæ™¯ä¸‹å¯èŠ‚çœå¤§é‡æ‹¼æ¥å­—ç¬¦ä¸²æ—¶é—´ã€‚</p>
<hr/>
<p>###5.Error Messagesä¼˜åŒ–:æ›´å‹å¥½çš„æŠ¥é”™ä¿¡æ¯</p>
<p>èƒŒæ™¯ä¸é—®é¢˜:
Pythonä»¥æ¸…æ™°æ˜“æ‡‚çš„é”™è¯¯ä¿¡æ¯è‘—ç§°,ä½†æŸäº›æƒ…å†µä¸‹ä»æ˜¾æ™¦æ¶©,æ¯”å¦‚ç¼©è¿›é”™è¯¯æˆ–NameErrorã€‚</p>
<p>Python3.12æ”¹è¿›:
â€¢ç¼©è¿›é”™è¯¯ç°åœ¨ä¼šæ˜¾ç¤ºå…·ä½“å·®å¼‚ä½ç½®ã€‚
â€¢NameErrorä¼šå»ºè®®ç›¸ä¼¼åç§°å˜é‡(ç±»ä¼¼GitHub Copilot)ã€‚</p>
<p>ç¤ºä¾‹:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Before:</span>
lst=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]
prnit(lst) <span class="hljs-comment"># NameError: name 'prnit' is not defined</span>

<span class="hljs-comment"># After:</span>
lst=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]
prnit(lst) 
<span class="hljs-comment"># NameError: name 'prnit' is not defined.Did you mean 'print'?</span>
</code></pre>
<p>æ€§èƒ½ä¸æ•ˆç‡æå‡:
â€¢è°ƒè¯•æ—¶é—´ç¼©çŸ­50%ä»¥ä¸Šã€‚
â€¢ç‰¹åˆ«æœ‰åˆ©äºæ–°æ‰‹å¼€å‘è€…ã€‚</p>
<hr/>
<p>æ€»ç»“</p>
<p>Python3.12é€šè¿‡ç±»å‹ç³»ç»Ÿå¢å¼ºã€å¹¶è¡Œè®¡ç®—æ”¯æŒã€ç¼“å†²åŒºåè®®æ”¹è¿›ç­‰ç‰¹æ€§ä¸ºå¼€å‘è€…æä¾›äº†å…¨æ–¹ä½çš„æ•ˆç‡æå‡å·¥å…·é“¾ï¼š</p>
<p>1.PEP695ä½¿æ³›å‹ä»£ç æ›´ç®€æ´ç›´è§‚ï¼›
2.Per-interpreterGILå¼€å¯çœŸæ­£å¤šçº¿ç¨‹æ—¶ä»£ï¼›
3.PEP688è®©æ•°æ®äº¤æ¢é›¶æ‹·è´ï¼›
4.F-stringæˆä¸ºå®Œå…¨ä½“ï¼›
5.error messagesèŠ‚çœè°ƒè¯•æ—¶é—´ã€‚</p>
<p>å»ºè®®æ‰€æœ‰è¿½æ±‚æ€§èƒ½å’Œå¼€å‘ä½“éªŒçš„å¼€å‘è€…å°½å¿«å‡çº§åˆ°Python3.12å¹¶åº”ç”¨è¿™äº›æ–°ç‰¹æ€§</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ PHP çš„ä¸‰å¤§ä¼˜åŠ¿ è¿™é—¨"è€å°†"ä¸ºä½•ä¾ç„¶é‡è¦]]></title>    <link>https://juejin.cn/post/7592483877986566150</link>    <guid>https://juejin.cn/post/7592483877986566150</guid>    <pubDate>2026-01-08T00:15:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592483877986566150" data-draft-id="7592452108797788203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ PHP çš„ä¸‰å¤§ä¼˜åŠ¿ è¿™é—¨&quot;è€å°†&quot;ä¸ºä½•ä¾ç„¶é‡è¦"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2026-01-08T00:15:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ PHP çš„ä¸‰å¤§ä¼˜åŠ¿ è¿™é—¨"è€å°†"ä¸ºä½•ä¾ç„¶é‡è¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T00:15:39.000Z" title="Thu Jan 08 2026 00:15:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2026 å¹´ PHP çš„ä¸‰å¤§ä¼˜åŠ¿ è¿™é—¨"è€å°†"ä¸ºä½•ä¾ç„¶é‡è¦</h2>
<p>PHP "å¿«æ­»äº†"è¿™å¥è¯å–Šäº†è¿™ä¹ˆå¤šå¹´ï¼Œå¦‚æœçœŸæœ‰æ¥ä¸–ï¼Œå®ƒçš„ç®€å†åº”è¯¥å·²ç»ç›¸å½“å¯è§‚äº†ã€‚</p>
<p>ä½ å¤§æ¦‚è§è¿‡è¿™äº›è®ºè°ƒï¼š"PHP è¿‡æ—¶äº†"ã€"ç°åœ¨æ²¡äººç”¨ PHP åšæ­£ç»ç³»ç»Ÿäº†"ã€"åªæœ‰è€é¡¹ç›®è¿˜åœ¨ç”¨"ã€‚è¿™äº›è¯´æ³•ä¹Ÿä¸ç®—å…¨é”™â€”â€”ç¡®å®æœ‰å¤§é‡é—ç•™ PHP ä»£ç åœ¨è¿è¡Œã€‚ä½†è¿˜æœ‰å¦ä¸€ä¸ªç°å®å¾ˆå°‘è¢«æåŠï¼šPHP ä»ç„¶åœ¨é©±åŠ¨å¤§é‡ç”Ÿäº§ç¯å¢ƒçš„åç«¯ç³»ç»Ÿï¼Œæ–°çš„ PHP é¡¹ç›®ä¹Ÿåœ¨ä¸æ–­å‡ºç°ï¼Œå› ä¸ºå›¢é˜Ÿæƒ³è¦çš„ä¸œè¥¿å’Œäº”å¹´ã€åå¹´å‰ä¸€æ ·ï¼š</p>
<ul>
<li>å¯é¢„æµ‹çš„éƒ¨ç½²æµç¨‹</li>
<li>å¿«é€Ÿè¿­ä»£</li>
<li>æˆç†Ÿçš„ç”Ÿæ€</li>
<li>èƒ½å¤Ÿç»å—å¤šäººåä½œã€å¤šå¹´ç»´æŠ¤çš„å¯è¯»ä»£ç </li>
</ul>
<p>æˆ‘å–œæ¬¢è¿™ç±»é—®é¢˜ï¼Œå› ä¸ºå®ƒé€¼ä½ æŠŠè¯è¯´æ¸…æ¥šã€‚ä¸æ˜¯"æˆ‘å–œæ¬¢ç”¨"ï¼Œä¸æ˜¯"å®ƒå¾ˆæµè¡Œ"ï¼Œè€Œæ˜¯ä½ åœ¨ç”Ÿäº§ä»£ç ä¸­èƒ½å®é™…æŒ‡å‡ºçš„å·¥ç¨‹ä¼˜åŠ¿ã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„å›ç­”ï¼Œå†™ç»™ä¸¤ç±»è¯»è€…ï¼š</p>
<ul>
<li><strong>å¦‚æœä½ åˆšæ¥è§¦åç«¯å¼€å‘</strong>ï¼šä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ¸…æ™°çš„å¿ƒæ™ºæ¨¡å‹ï¼Œç†è§£ PHP ä¸ºä½•ä»ç„¶é€‚åˆ Web ç³»ç»Ÿã€‚</li>
<li><strong>å¦‚æœä½ ç»éªŒä¸°å¯Œ</strong>ï¼šä½ ä¼šçœ‹åˆ°ç°ä»£ PHP å®è·µï¼ˆç±»å‹ã€é™æ€åˆ†æã€æ¸…æ™°è¾¹ç•Œã€åŠ¡å®çš„ API æ¨¡å¼ï¼‰å¦‚ä½•æŠŠ"PHP å®¹æ˜“ä¸Šæ‰‹"å˜æˆ"PHP å¯é "ã€‚</li>
</ul>
<p>æˆ‘ä¼šå°½é‡ç”¨å¹³å®çš„è¯­è¨€ï¼Œä½†ä¸ä¼šå›é¿æŠ€æœ¯ç»†èŠ‚ã€‚çœŸå®çš„ç³»ç»Ÿæœ¬æ¥å°±æ˜¯æŠ€æœ¯æ€§çš„ã€‚ç›®æ ‡æ˜¯è®©è¿™äº›æŠ€æœ¯å†…å®¹å˜å¾—æ˜“æ‡‚ä¸”å®ç”¨ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fphp-3-biggest-strengths-2026" target="_blank" title="https://catchadmin.com/post/2026-01/php-3-biggest-strengths-2026" ref="nofollow noopener noreferrer">åŸæ–‡ 2026 å¹´ PHP çš„ä¸‰å¤§ä¼˜åŠ¿ è¿™é—¨"è€å°†"ä¸ºä½•ä¾ç„¶é‡è¦</a></p>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯"ä¼˜åŠ¿"ï¼šåœ¨çœŸå®åç«¯å·¥ä½œä¸­çš„å®šä¹‰</h3>
<p>å¼€å‘è€…æ¯”è¾ƒè¯­è¨€æ—¶ï¼Œè®¨è®ºç»å¸¸è·‘ååˆ°æ€§èƒ½åŸºå‡†ã€è¯­æ³•åå¥½æˆ–è€…äº’è”ç½‘æ–‡åŒ–ã€‚ä½†å½“ä½ åœ¨æ„å»º API æˆ– Web åç«¯æ—¶ï¼Œ"ä¼˜åŠ¿"é€šå¸¸æ„å‘³ç€ä¸€äº›æ›´æ— èŠâ€”â€”ä¹Ÿæ›´é‡è¦çš„ä¸œè¥¿ï¼š</p>
<ul>
<li>èƒ½å¦å¿«é€Ÿäº¤ä»˜åŠŸèƒ½è€Œä¸åŸ‹ä¸‹ç»´æŠ¤é™·é˜±ï¼Ÿ</li>
<li>èƒ½å¦é›†æˆæ•°æ®åº“ã€é˜Ÿåˆ—å’Œç¬¬ä¸‰æ–¹ API è€Œä¸ä»å¤´é€ è½®å­ï¼Ÿ</li>
<li>èƒ½å¦å¤„ç†æ··ä¹±çš„æ•°æ®å’Œè¾¹ç¼˜æƒ…å†µè€Œä¸æŠŠä»£ç å˜æˆé¬¼å±‹ï¼Ÿ</li>
</ul>
<p>è¿™å°±æ˜¯ PHP æœ€æ“…é•¿çš„é¢†åŸŸã€‚ä¸æ˜¯å› ä¸ºå®ƒæœ€ä¼˜é›…ï¼Œè€Œæ˜¯å› ä¸ºå®ƒçš„å½¢çŠ¶åˆšå¥½å¥‘åˆå¤§å¤šæ•° Web åç«¯ã€‚</p>
<p>å¸¦ç€è¿™ä¸ªæ€è·¯ï¼Œæ¥çœ‹ PHP åœ¨ 2026 å¹´çš„ä¸‰å¤§ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-2">ä¼˜åŠ¿ä¸€ï¼šWeb åŸç”Ÿçš„ç”Ÿäº§åŠ›ï¼ˆPHP å¤©ç„¶å¥‘åˆ HTTP ä¸–ç•Œï¼‰</h3>
<p>å¤§å¤šæ•°åç«¯éƒ½æ˜¯ HTTP æœºå™¨ã€‚è¿™ä¸æ˜¯æ¯”å–»ï¼Œè€Œæ˜¯æ—¥å¸¸å·¥ä½œï¼š</p>
<ul>
<li>è¯·æ±‚è¿›æ¥</li>
<li>æ ¡éªŒå¹¶è§„èŒƒåŒ–</li>
<li>è°ƒç”¨æœåŠ¡ / æ•°æ®åº“ / å¤–éƒ¨ API</li>
<li>è¿”å› JSON</li>
<li>è®°å½•æ—¥å¿—å’Œè¿½è¸ª</li>
<li>å¾ªç¯</li>
</ul>
<p>PHP çš„ç¬¬ä¸€ä¸ªä¼˜åŠ¿æ˜¯å®ƒåœ¨è¿™ä¸ªå¾ªç¯é‡Œæ„Ÿè§‰å¾ˆè‡ªç„¶ã€‚ä½ ä¸éœ€è¦åœ¨å¤„ç†è¯·æ±‚ä¹‹å‰"æ­å»ºä¸–ç•Œ"ã€‚PHP çš„é»˜è®¤æ¨¡å‹å°±æ˜¯é¢å‘ Web çš„ï¼Œè¿™ä¸€ç‚¹å¾€å¾€è¢«ä½ä¼°äº†ã€‚</p>
<h4 data-id="heading-3">ç»å…¸çš„ PHP æ‰§è¡Œæ¨¡å‹ä¸ºä½•ä»ç„¶æœ‰ç”¨</h4>
<p>PHP ä¼ ç»Ÿçš„è¯·æ±‚ç”Ÿå‘½å‘¨æœŸå¾ˆç®€å•ï¼š</p>
<ol>
<li>å¼€å§‹è¯·æ±‚</li>
<li>è¿è¡Œä»£ç </li>
<li>è¿”å›å“åº”</li>
<li>ç»“æŸè¯·æ±‚</li>
</ol>
<p>ç„¶åä¸‹ä¸€ä¸ªè¯·æ±‚ä»å¤´å¼€å§‹ã€‚</p>
<p>æœ‰äººæŠŠè¿™å½“æˆç›¸å¯¹äºé•¿é©»æœåŠ¡å™¨çš„åŠ£åŠ¿ï¼Œä½†åœ¨å®è·µä¸­å®ƒå¾€å¾€æ˜¯ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å†…å­˜æ³„æ¼ä¸ä¼šé‚£ä¹ˆè‡´å‘½ï¼Œå› ä¸ºè¿›ç¨‹ä¼šå›æ”¶ã€‚</li>
<li>æ¯ä¸ªè¯·æ±‚å¤©ç„¶éš”ç¦»ã€‚</li>
<li>ä¸å¤ªå¯èƒ½æ„å¤–ä¾èµ–å†…å­˜çŠ¶æ€ã€‚</li>
<li>è°ƒè¯•å¾€å¾€æ›´ç®€å•ï¼Œå› ä¸ºæ¯ä¸ªè¯·æ±‚æœ‰æ¸…æ™°çš„è¾¹ç•Œã€‚</li>
</ul>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨é•¿é©»æ¨¡å¼è·‘ PHPï¼ˆRoadRunnerã€Swoole ç­‰ï¼‰ï¼Œå®ƒä»¬åœ¨ç‰¹å®šåœºæ™¯ä¸‹ç¡®å®å¾ˆå¥½ã€‚ä½†ç»å…¸æ¨¡å‹å¯¹è®¸å¤š API ä»ç„¶æ˜¯å¯é çš„é»˜è®¤é€‰æ‹©ï¼Œå› ä¸ºå®ƒç¨³å®šä¸”å¯¹è¿ç»´å‹å¥½ã€‚</p>
<h4 data-id="heading-4">ä¸€ä¸ª"çº¯ PHP"çš„ API å…¥å£ï¼ˆå±•ç¤ºåŸºæœ¬å½¢æ€ï¼‰</h4>
<p>å³ä½¿ä½ åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ Laravel æˆ– Symfonyï¼ˆå¤§å¤šæ•°æ­£ç»åº”ç”¨ç¡®å®è¯¥ç”¨ï¼‰ï¼Œçœ‹çœ‹ PHP ä¸ºä½•åœ¨ Web å·¥ä½œä¸­é«˜æ•ˆè¿˜æ˜¯æœ‰å¸®åŠ©çš„ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);
<span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../vendor/autoload.php'</span>;
<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'Content-Type: application/json; charset=utf-8'</span>);
<span class="hljs-variable">$method</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">'REQUEST_METHOD'</span>] ?? <span class="hljs-string">'GET'</span>;
<span class="hljs-variable">$path</span> = <span class="hljs-title function_ invoke__">parse_url</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">'REQUEST_URI'</span>] ?? <span class="hljs-string">'/'</span>, PHP_URL_PATH) ?: <span class="hljs-string">'/'</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jsonResponse</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$payload</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$status</span> = <span class="hljs-number">200</span></span>): <span class="hljs-title">void</span> </span>{
    <span class="hljs-title function_ invoke__">http_response_code</span>(<span class="hljs-variable">$status</span>);
    <span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">json_encode</span>(<span class="hljs-variable">$payload</span>, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES);
    <span class="hljs-keyword">exit</span>;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">readJsonBody</span>(<span class="hljs-params"/>): <span class="hljs-title">array</span> </span>{
    <span class="hljs-variable">$raw</span> = <span class="hljs-title function_ invoke__">file_get_contents</span>(<span class="hljs-string">'php://input'</span>) ?: <span class="hljs-string">''</span>;
    <span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">json_decode</span>(<span class="hljs-variable">$raw</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$data</span>) ? <span class="hljs-variable">$data</span> : [];
}
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$method</span> === <span class="hljs-string">'GET'</span> &amp;&amp; <span class="hljs-variable">$path</span> === <span class="hljs-string">'/health'</span>) {
    <span class="hljs-title function_ invoke__">jsonResponse</span>([<span class="hljs-string">'ok'</span> =&gt; <span class="hljs-literal">true</span>, <span class="hljs-string">'time'</span> =&gt; <span class="hljs-title function_ invoke__">date</span>(DATE_ATOM)]);
}
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$method</span> === <span class="hljs-string">'POST'</span> &amp;&amp; <span class="hljs-variable">$path</span> === <span class="hljs-string">'/users'</span>) {
    <span class="hljs-variable">$body</span> = <span class="hljs-title function_ invoke__">readJsonBody</span>();
    <span class="hljs-variable">$email</span> = <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>((<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$body</span>[<span class="hljs-string">'email'</span>] ?? <span class="hljs-string">''</span>)));
    <span class="hljs-variable">$name</span>  = <span class="hljs-title function_ invoke__">trim</span>((<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$body</span>[<span class="hljs-string">'name'</span>] ?? <span class="hljs-string">''</span>));
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">filter_var</span>(<span class="hljs-variable">$email</span>, FILTER_VALIDATE_EMAIL)) {
        <span class="hljs-title function_ invoke__">jsonResponse</span>([<span class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Invalid email'</span>], <span class="hljs-number">422</span>);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$name</span> === <span class="hljs-string">''</span>) {
        <span class="hljs-title function_ invoke__">jsonResponse</span>([<span class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Name is required'</span>], <span class="hljs-number">422</span>);
    }
    <span class="hljs-variable">$id</span> = <span class="hljs-title function_ invoke__">random_int</span>(<span class="hljs-number">1000</span>, <span class="hljs-number">9999</span>);
    <span class="hljs-title function_ invoke__">jsonResponse</span>([<span class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$id</span>, <span class="hljs-string">'email'</span> =&gt; <span class="hljs-variable">$email</span>, <span class="hljs-string">'name'</span> =&gt; <span class="hljs-variable">$name</span>], <span class="hljs-number">201</span>);
}
<span class="hljs-title function_ invoke__">jsonResponse</span>([<span class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Not found'</span>], <span class="hljs-number">404</span>);
</code></pre>
<p>è¿™ä¸æ˜¯"æœ€ä½³å®è·µæ¶æ„"ï¼Œä½†å®ƒæ¼”ç¤ºäº†æ ¸å¿ƒæ€æƒ³ï¼šPHP çš„ Web å¾ªç¯ç›´æ¥ä¸”æ˜“æ‡‚ã€‚è¿™å°±æ˜¯åŸºç¡€çš„ç”Ÿäº§åŠ›ä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-5">"å¿«"ä¸"ä¹±"çš„åŒºåˆ«ï¼šè–„ handlerï¼ŒçœŸæœåŠ¡</h4>
<p>PHP çš„ Web ç”Ÿäº§åŠ›è¦æˆä¸ºé•¿æœŸä¼˜åŠ¿ï¼Œå‰ææ˜¯ä¿æŒè¾¹ç•Œæ¸…æ™°ã€‚æœ€å®¹æ˜“å¤±å»è¿™ä¸ªä¼˜åŠ¿çš„æ–¹å¼å°±æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¡è¿›æ§åˆ¶å™¨ã€‚</p>
<p>ä¸€ä¸ªå¯æ‰©å±•çš„æ¨¡å¼ï¼š</p>
<ul>
<li><strong>Handler / æ§åˆ¶å™¨</strong>ï¼šè§£ç è¯·æ±‚ã€è°ƒç”¨æœåŠ¡ã€ç¼–ç å“åº”</li>
<li><strong>æœåŠ¡</strong>ï¼šä¸šåŠ¡é€»è¾‘ + ç¼–æ’</li>
<li><strong>Repository / Client</strong>ï¼šå­˜å‚¨ + å¤–éƒ¨ API è°ƒç”¨</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªä¸æ¡†æ¶æ— å…³çš„å°ä¾‹å­ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreateUserHandler</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> UserService <span class="hljs-variable">$service</span>
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$body</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-variable">$input</span> = <span class="hljs-title class_">CreateUserInput</span>::<span class="hljs-title function_ invoke__">fromArray</span>(<span class="hljs-variable">$body</span>);
        <span class="hljs-variable">$user</span>  = <span class="hljs-variable language_">$this</span>-&gt;service-&gt;<span class="hljs-title function_ invoke__">create</span>(<span class="hljs-variable">$input</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">UserResource</span>::<span class="hljs-title function_ invoke__">toArray</span>(<span class="hljs-variable">$user</span>);
    }
}
</code></pre>
<p>Handler è¯»èµ·æ¥åƒä¸€æ®µå™è¿°ã€‚è¿™å°±å¯¹äº†ã€‚</p>
<p>ç°åœ¨æœåŠ¡æ¥åšçœŸæ­£çš„å†³ç­–ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> UserRepository <span class="hljs-variable">$users</span>
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params">CreateUserInput <span class="hljs-variable">$input</span></span>): <span class="hljs-title">User</span>
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;users-&gt;<span class="hljs-title function_ invoke__">existsByEmail</span>(<span class="hljs-variable">$input</span>-&gt;email)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">DomainException</span>(<span class="hljs-string">'Email already registered'</span>);
        }
        <span class="hljs-variable">$user</span> = <span class="hljs-title class_">User</span>::<span class="hljs-title function_ invoke__">register</span>(<span class="hljs-variable">$input</span>-&gt;email, <span class="hljs-variable">$input</span>-&gt;name);
        <span class="hljs-variable language_">$this</span>-&gt;users-&gt;<span class="hljs-title function_ invoke__">save</span>(<span class="hljs-variable">$user</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$user</span>;
    }
}
</code></pre>
<p>è¿™ä¸ªç»“æ„å¹¶ä¸èŠ±å“¨ï¼Œä½†å®ƒèƒ½é˜²æ­¢ä»£ç åº“åœ¨å…­ä¸ªæœˆå†…å˜æˆæ„å¤§åˆ©é¢ã€‚</p>
<h4 data-id="heading-6">çœŸå®ä¸–ç•Œçš„ API å·¥ä½œï¼šè¶…æ—¶å’Œé‡è¯•æ˜¯åŠŸèƒ½çš„ä¸€éƒ¨åˆ†</h4>
<p>PHP ä¿æŒå®ç”¨çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œåš PHP åç«¯çš„å›¢é˜Ÿå¾€å¾€å¾ˆæ—©å°±è¢«è¿«é¢å¯¹ Web çš„ç°å®ã€‚ä¸æ˜¯å› ä¸º PHP ç‰¹æ®Šï¼Œè€Œæ˜¯å› ä¸º Web æœ¬èº«å°±ä¸å®½å®¹ã€‚</p>
<p>å¦‚æœä½ è°ƒç”¨å¤–éƒ¨ API å´ä¸è®¾è¶…æ—¶ã€ä¸è®¾é‡è¯•ç­–ç•¥ï¼Œä½ å°±æ˜¯åœ¨åŸ‹ä¸‹æœªæ¥çš„äº‹æ•…ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç”¨ Guzzle å†™çš„å°è£…ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­èƒ½æ­£ç»å¹²æ´»ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">GuzzleHttp</span>\<span class="hljs-title">Client</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">GuzzleHttp</span>\<span class="hljs-title">Exception</span>\<span class="hljs-title">GuzzleException</span>;
<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShippingClient</span>
</span>{
    <span class="hljs-keyword">private</span> Client <span class="hljs-variable">$http</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$baseUrl</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$token</span></span>)
    </span>{
        <span class="hljs-variable language_">$this</span>-&gt;http = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Client</span>([
            <span class="hljs-string">'base_uri'</span> =&gt; <span class="hljs-title function_ invoke__">rtrim</span>(<span class="hljs-variable">$baseUrl</span>, <span class="hljs-string">'/'</span>) . <span class="hljs-string">'/'</span>,
            <span class="hljs-string">'timeout'</span> =&gt; <span class="hljs-number">3.0</span>,
            <span class="hljs-string">'connect_timeout'</span> =&gt; <span class="hljs-number">1.0</span>,
            <span class="hljs-string">'headers'</span> =&gt; [
                <span class="hljs-string">'Authorization'</span> =&gt; <span class="hljs-string">"Bearer <span class="hljs-subst">{$token}</span>"</span>,
                <span class="hljs-string">'Accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
            ],
        ]);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLabel</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$payload</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-variable">$attempts</span> = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-variable">$attempts</span>++;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-variable">$resp</span> = <span class="hljs-variable language_">$this</span>-&gt;http-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-string">'labels'</span>, [<span class="hljs-string">'json'</span> =&gt; <span class="hljs-variable">$payload</span>]);
                <span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">json_decode</span>((<span class="hljs-keyword">string</span>)<span class="hljs-variable">$resp</span>-&gt;<span class="hljs-title function_ invoke__">getBody</span>(), <span class="hljs-literal">true</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$data</span>) ? <span class="hljs-variable">$data</span> : [];
            } <span class="hljs-keyword">catch</span> (GuzzleException <span class="hljs-variable">$e</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-variable">$attempts</span> &gt;= <span class="hljs-number">3</span>) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">'Shipping API failed after retries'</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">$e</span>);
                }
                <span class="hljs-comment">// small exponential backoff + jitter</span>
                <span class="hljs-title function_ invoke__">usleep</span>((<span class="hljs-keyword">int</span>)(<span class="hljs-number">100_000</span> * <span class="hljs-variable">$attempts</span>) + <span class="hljs-title function_ invoke__">random_int</span>(<span class="hljs-number">0</span>, <span class="hljs-number">50_000</span>));
            }
        }
    }
}
</code></pre>
<p>å½“äº’è”ç½‘æœ¬èº«æ˜¯ä½ çš„ä¾èµ–æ—¶ï¼Œè¿™ç§ä»£ç æ˜¯å¿…é¡»çš„â€”â€”è€Œ PHP å¾ˆé€‚åº”è¿™ä¸ªåœºæ™¯ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ˜¯ä¼˜åŠ¿ä¸€</strong>ï¼šPHP å¥‘åˆ HTTP å·¥ä½œçš„å½¢çŠ¶ï¼Œè®©å›¢é˜Ÿèƒ½å¿«é€Ÿæ„å»ºåŠŸèƒ½è€Œä¸ç”¨ä¸å¹³å°å¯¹æŠ—ã€‚</p>
<h3 data-id="heading-7">ä¼˜åŠ¿äºŒï¼šç”Ÿæ€æˆç†Ÿåº¦ï¼ˆComposer + æ¡†æ¶ + æ ‡å‡†é™ä½é£é™©ï¼‰</h3>
<p>PHP çš„ç¬¬äºŒä¸ªä¼˜åŠ¿æ˜¯æ æ†ã€‚</p>
<p>å¾ˆå¤šè¯­è¨€éƒ½èƒ½åš Web å¼€å‘ã€‚ä½†èƒ½è®©"æ— èŠçš„éƒ¨åˆ†"ä»¥å¯å¤ç”¨çš„æ–¹å¼è¢«è§£å†³ã€è®©å›¢é˜Ÿèƒ½æ‹›åˆ°å·²ç»ç†Ÿæ‚‰è¿™äº›æ¨¡å¼çš„äººï¼Œè¿™æ ·çš„æˆç†Ÿç”Ÿæ€å¹¶ä¸å¤šã€‚</p>
<p>å½“ä½ é€‰æ‹© PHPï¼Œä½ é€‰æ‹©çš„ä¸åªæ˜¯è¯­æ³•ï¼Œè¿˜æœ‰ï¼š</p>
<ul>
<li>Composer + Packagist</li>
<li>Laravel / Symfonyï¼ˆä»¥åŠå…¶ä»–æ¡†æ¶ï¼‰</li>
<li>PSR æ ‡å‡†ï¼ˆäº’æ“ä½œæ€§ï¼‰</li>
<li>ç¨³å®šçš„å·¥å…·é“¾ï¼ˆæµ‹è¯•ã€é™æ€åˆ†æã€æ ¼å¼åŒ–ã€é‡æ„ï¼‰</li>
</ul>
<p>ç”Ÿæ€çš„æˆç†Ÿåº¦èƒ½é™ä½é£é™©ã€‚é£é™©æ‰æ˜¯çœŸæ­£èŠ±é’±çš„åœ°æ–¹ã€‚</p>
<h4 data-id="heading-8">Composerï¼šè®©ç»“æ„åŒ–æˆä¸ºå¸¸æ€çš„å®‰é™åŸºçŸ³</h4>
<p>Composer ä¸åªæ˜¯ä¾èµ–ç®¡ç†â€”â€”å®ƒæ¨åŠ¨ä½ èµ°å‘æ¨¡å—åŒ–çš„ä»£ç åº“ï¼Œç”¨è‡ªåŠ¨åŠ è½½å’Œå‘½åç©ºé—´ã€‚</p>
<p>ä¸€ä¸ªæœ€å°çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"require"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"php"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"monolog/monolog"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"guzzlehttp/guzzle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"autoload"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"psr-4"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"App\\"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¸€æ—¦ä½ é‡‡ç”¨ PSR-4 è‡ªåŠ¨åŠ è½½ï¼Œä½ çš„ä»£ç å°±ä¸å†æ˜¯"æ–‡ä»¶"ï¼Œè€Œå¼€å§‹å˜æˆ"æ¨¡å—"ã€‚è¿™ä¸ªè½¬å˜æ˜¯ç°ä»£ PHP æ¯”è€åˆ»æ¿å°è±¡æ›´æ˜“ç»´æŠ¤çš„é‡è¦åŸå› ã€‚</p>
<h4 data-id="heading-9">æ¡†æ¶ï¼šç”¨æ— èŠçš„æ–¹æ¡ˆè§£å†³æ— èŠçš„é—®é¢˜ï¼ˆè¿™æ­£æ˜¯é‡ç‚¹ï¼‰</h4>
<p>æ¡†æ¶å¯èƒ½è¢«è¿‡åº¦ä½¿ç”¨ï¼Œä½†"ä¸ç”¨æ¡†æ¶"çš„åšæ³•åœ¨åº”ç”¨å¢é•¿åå¾€å¾€æ›´ç³Ÿã€‚</p>
<p>Laravel å’Œ Symfony ä¸ºä½ ä¸æƒ³é‡æ–°å‘æ˜çš„ä¸œè¥¿æä¾›äº†å¯é çš„é»˜è®¤æ–¹æ¡ˆï¼š</p>
<ul>
<li>è·¯ç”±å’Œä¸­é—´ä»¶</li>
<li>æ ¡éªŒå’Œè¯·æ±‚å¤„ç†</li>
<li>DI å®¹å™¨æ¨¡å¼</li>
<li>ç¼“å­˜å’Œé˜Ÿåˆ—</li>
<li>æ•°æ®åº“è¿ç§»</li>
<li>ç»“æ„åŒ–çš„é”™è¯¯å¤„ç†</li>
</ul>
<p>å¤§å¤šæ•°ç”Ÿäº§äº‹æ•…ä¸æ˜¯æ¥è‡ªç²¾å¦™çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯æ¥è‡ªèƒ¶æ°´ä»£ç ï¼šè¶…æ—¶ã€é‡è¯•ã€ä¸ä¸€è‡´çš„æ ¡éªŒã€éƒ¨åˆ†å¤±è´¥ã€æ„å¤–çš„ payloadã€ä¸ä¸€è‡´çš„é”™è¯¯å“åº”ã€‚</p>
<p>æ¡†æ¶é»˜è®¤æ–¹æ¡ˆå‡å°‘è¿™äº›äº‹æ•…ï¼Œå› ä¸ºä½ å»ºç«‹åœ¨å·²ç»ç»å†è¿‡æˆåƒä¸Šä¸‡ä¸ªç”Ÿäº§ç³»ç»Ÿè€ƒéªŒçš„æ¨¡å¼ä¹‹ä¸Šã€‚</p>
<h4 data-id="heading-10">PSR æ ‡å‡†ï¼šè®©ä½ çš„ä»£ç ä¸å†è¢«é”æ­»</h4>
<p>æ ‡å‡†åœ¨ä½ é›†æˆåº“æˆ–è€…è¶…å‡ºæœ€åˆå†³ç­–æ—¶æœ€ä¸ºé‡è¦ã€‚</p>
<p>ä¾‹å¦‚ï¼šPSR-3 æ—¥å¿—ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;
<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BillingService</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> LoggerInterface <span class="hljs-variable">$logger</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">charge</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> <span class="hljs-variable">$userId</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$amountCents</span></span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable language_">$this</span>-&gt;logger-&gt;<span class="hljs-title function_ invoke__">info</span>(<span class="hljs-string">'Charge request'</span>, [
            <span class="hljs-string">'userId'</span> =&gt; <span class="hljs-variable">$userId</span>,
            <span class="hljs-string">'amountCents'</span> =&gt; <span class="hljs-variable">$amountCents</span>,
        ]);
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p>è¿™ä¸ªç±»ä¸åœ¨ä¹ä½ ä»Šå¤©ç”¨ Monolog è¿˜æ˜¯æ˜å¤©æ¢æˆåˆ«çš„æ—¥å¿—åº“ã€‚è¿™ç§è§£è€¦æ‰èƒ½è®©ç³»ç»Ÿæ¼”è¿›ã€‚</p>
<h4 data-id="heading-11">å·¥å…·é“¾ï¼šå’Œ 2015 å¹´ç›¸æ¯”ï¼Œç°ä»£ PHP åƒæ¢äº†ä¸€é—¨è¯­è¨€</h4>
<p>å¾ˆå¤š"PHP é»‘"æ¥è‡ªäºå¯¹è€ä»£ç åº“çš„ä½“éªŒï¼šå¼±ç±»å‹ã€ä¸ä¸€è‡´çš„æ¨¡å¼ã€"å…ˆä¸Šçº¿å†è¯´"çš„æ–‡åŒ–ã€‚</p>
<p>ç°ä»£ PHP å›¢é˜Ÿé€šå¸¸ä¼šç”¨ä¸€å¥—ç®€å•çš„è´¨é‡å·¥å…·é“¾ï¼š</p>
<ul>
<li>ä¸¥æ ¼ç±»å‹</li>
<li>é™æ€åˆ†æï¼ˆPHPStan / Psalmï¼‰</li>
<li>æµ‹è¯•ï¼ˆPHPUnit / Pestï¼‰</li>
<li>æ ¼å¼åŒ–ï¼ˆPHP-CS-Fixerï¼‰</li>
<li>è‡ªåŠ¨é‡æ„ï¼ˆRectorï¼‰</li>
</ul>
<p>è¿™å¥—ç»„åˆä¼šæ”¹å˜ä½ å†™ä»£ç çš„æ–¹å¼ã€‚ç›®æ ‡ä¸æ˜¯å®Œç¾ï¼Œè€Œæ˜¯å°½æ—©æš´éœ²é—®é¢˜ï¼Œè®©ä»£ç åœ¨è¿­ä»£ä¸­ä¿æŒå¯è¯»ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå°ä¾‹å­ï¼Œé™æ€åˆ†æå¸®ä½ é¿å…ä¸€ä¸ªè¿è¡Œæ—¶ bugï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserRepository</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findByEmail</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span></span>): <span class="hljs-title">User</span>
    </span>{
        <span class="hljs-comment">// DB lookup...</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// bug</span>
    }
}
</code></pre>
<p>é…ç½®å¥½é™æ€åˆ†æåï¼Œè¿™ä¼šç«‹å³è¢«æ ‡è®°å‡ºæ¥ã€‚</p>
<p>PHP çš„æµ‹è¯•ä¹Ÿä¸å¿…å¾ˆé‡ã€‚ä¸€ä¸ªèšç„¦çš„æµ‹è¯•å¯ä»¥è¯»èµ·æ¥åƒæ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MoneyTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">TestCase</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testItAddsMoneyInSameCurrency</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable">$a</span> = <span class="hljs-title class_">Money</span>::<span class="hljs-title function_ invoke__">usd</span>(<span class="hljs-number">1000</span>);
        <span class="hljs-variable">$b</span> = <span class="hljs-title class_">Money</span>::<span class="hljs-title function_ invoke__">usd</span>(<span class="hljs-number">250</span>);
        <span class="hljs-variable">$sum</span> = <span class="hljs-variable">$a</span>-&gt;<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-variable">$b</span>);
        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">assertSame</span>(<span class="hljs-number">1250</span>, <span class="hljs-variable">$sum</span>-&gt;<span class="hljs-title function_ invoke__">cents</span>());
        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">assertSame</span>(<span class="hljs-string">'USD'</span>, <span class="hljs-variable">$sum</span>-&gt;<span class="hljs-title function_ invoke__">currency</span>());
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ˜¯ä¼˜åŠ¿äºŒ</strong>ï¼šPHP çš„ç”Ÿæ€è®©ä½ èƒ½å¿«é€Ÿäº¤ä»˜å¹¶å®‰å…¨æ„å»ºï¼Œå› ä¸ºå·¥å…·é“¾å’Œæƒ¯ä¾‹éƒ½å·²æˆç†Ÿã€‚</p>
<h3 data-id="heading-12">ä¼˜åŠ¿ä¸‰ï¼šåŠ¡å®çš„æ•°æ®ç®¡é“ï¼ˆPHP æ“…é•¿"ä¹±è¿›ã€å¹²å‡€å‡º"ï¼‰</h3>
<p>å¦‚æœä½ åšè¿‡ä¸€æ®µæ—¶é—´åç«¯ï¼Œä½ å°±çŸ¥é“çœŸç›¸ï¼šè¿™ä»½å·¥ä½œå°±æ˜¯æ•°æ®è½¬æ¢ã€‚</p>
<p>è¯·æ±‚è¿›æ¥æ ¼å¼å¥‡æ€ªã€‚æ•°æ®åº“è¡Œå–å‡ºæ¥æ ¼å¼å¥‡æ€ªã€‚å¤–éƒ¨ API è¿”å›çš„æ˜¯"å·®ä¸å¤šæ˜¯ä½ æœŸæœ›çš„"ã€‚Webhook åœ¨ä¸æ–¹ä¾¿çš„æ—¶å€™é‡è¯•ã€‚è¾¹ç¼˜æƒ…å†µåœ¨å‘¨äº”å‘ç”Ÿã€‚</p>
<p>PHP åœ¨è¿™ç±»å·¥ä½œä¸Šç‰¹åˆ«å¼ºï¼Œå› ä¸ºå®ƒåœ¨ä¸¤ç§æ¨¡å¼ä¸‹éƒ½å¾ˆè‡ªå¦‚ï¼š</p>
<ul>
<li>å¿«é€Ÿæ“ä½œï¼ˆå­—ç¬¦ä¸²ã€æ•°ç»„ã€JSONï¼‰</li>
<li>ç»“æ„åŒ–ä»£ç ï¼ˆDTOã€å€¼å¯¹è±¡ã€æšä¸¾ã€readonly å±æ€§ï¼‰</li>
</ul>
<p>ä¸ºäº†è¯´æ˜æˆ‘çš„æ„æ€ï¼Œæ¥æ„å»ºä¸€ä¸ªç°å®çš„ç®¡é“ï¼šå¤„ç†æ¥è‡ªæ”¯ä»˜æä¾›å•†çš„ webhookã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æµ‹è¯•ï¼Œå› ä¸ºå®ƒç»“åˆäº†ï¼š</p>
<ul>
<li>å®‰å…¨éªŒè¯</li>
<li>å¹‚ç­‰æ€§ï¼ˆé‡è¯•ï¼‰</li>
<li>è½½è·è§„èŒƒåŒ–</li>
<li>çŠ¶æ€å˜æ›´</li>
<li>ä¼˜é›…å¤„ç†æœªçŸ¥äº‹ä»¶ç±»å‹</li>
</ul>
<h4 data-id="heading-13">æ­¥éª¤ä¸€ï¼šä¿æŒè½½è·è¾¹ç•Œæ˜¾å¼åŒ–ï¼ˆDTO ä¼˜äºåŸå§‹æ•°ç»„ï¼‰</h4>
<p>æ•°ç»„åœ¨è¾¹ç•Œå¤„æ²¡é—®é¢˜ï¼Œä½†åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä¼ é€’åŸå§‹æ•°ç»„ä¼šå˜å¾—ç—›è‹¦ã€‚æ‰€ä»¥ï¼šå°½æ—©è§£æï¼Œå°½æ—©ç»“æ„åŒ–ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebhookEvent</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$id</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$type</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$createdAtEpoch</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">array</span> <span class="hljs-variable">$data</span>
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromArray</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$payload</span></span>): <span class="hljs-title">self</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>(
            id: (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'id'</span>] ?? <span class="hljs-string">''</span>),
            type: (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'type'</span>] ?? <span class="hljs-string">''</span>),
            createdAtEpoch: (<span class="hljs-keyword">int</span>)(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'created_at'</span>] ?? <span class="hljs-number">0</span>),
            data: <span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$payload</span>[<span class="hljs-string">'data'</span>] ?? <span class="hljs-literal">null</span>) ? <span class="hljs-variable">$payload</span>[<span class="hljs-string">'data'</span>] : []
        );
    }
}
</code></pre>
<p>è¿™æ˜¯åŠ¡å®çš„åšæ³•ï¼šæˆ‘ä»¬ä¾èµ–çš„å­—æ®µç”¨å¼ºç±»å‹ï¼ŒåŸå§‹æ•°æ®ç•™ç€çµæ´»æ€§ï¼Œæ–°å­—æ®µåŠ è¿›æ¥ä¹Ÿä¸ä¼šç‚¸ã€‚</p>
<h4 data-id="heading-14">æ­¥éª¤äºŒï¼šéªŒè¯ç­¾åï¼ˆä¸è¦"ä¿¡ä»» JSON"ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebhookSignatureVerifier</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$secret</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">verify</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$rawBody</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$signatureHeader</span></span>): <span class="hljs-title">bool</span>
    </span>{
        <span class="hljs-variable">$expected</span> = <span class="hljs-title function_ invoke__">hash_hmac</span>(<span class="hljs-string">'sha256'</span>, <span class="hljs-variable">$rawBody</span>, <span class="hljs-variable">$this</span>-&gt;secret);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">hash_equals</span>(<span class="hljs-variable">$expected</span>, <span class="hljs-variable">$signatureHeader</span>);
    }
}
</code></pre>
<p>è¿™é‡Œ <code>hash_equals</code> å¾ˆé‡è¦ï¼Œç”¨äºé¿å…æ—¶åºæ”»å‡»ã€‚è¿™æ˜¯ä¸ªå°ç»†èŠ‚ï¼Œä½†è¿™ç±»ä¹ æƒ¯æ­£æ˜¯åŒºåˆ†ä¸šä½™ä»£ç å’Œç”Ÿäº§ä»£ç çš„åœ°æ–¹ã€‚</p>
<h4 data-id="heading-15">æ­¥éª¤ä¸‰ï¼šå¹‚ç­‰æ€§ï¼ˆå› ä¸º webhook ä¼šé‡è¯•ï¼‰</h4>
<p>å¦‚æœä½ å¤„ç†åŒä¸€ä¸ªäº‹ä»¶ä¸¤æ¬¡ï¼Œä½ å¯èƒ½ä¼šï¼š</p>
<ul>
<li>é‡å¤æ›´æ–°è®¢é˜…</li>
<li>é‡å¤å‘é€é‚®ä»¶</li>
<li>é‡å¤ç»™è´¦æˆ·åŠ æ¬¾</li>
</ul>
<p>æ‰€ä»¥è¦å­˜å‚¨å·²å¤„ç†çš„äº‹ä»¶ IDã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebhookIdempotencyStore</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PDO <span class="hljs-variable">$pdo</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasProcessed</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$eventId</span></span>): <span class="hljs-title">bool</span>
    </span>{
        <span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"SELECT 1 FROM processed_webhooks WHERE event_id = :id"</span>);
        <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>([<span class="hljs-string">':id'</span> =&gt; <span class="hljs-variable">$eventId</span>]);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">bool</span>)<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchColumn</span>();
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">markProcessed</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$eventId</span></span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">prepare</span>(
            <span class="hljs-string">"INSERT INTO processed_webhooks (event_id, processed_at)
             VALUES (:id, NOW())"</span>
        );
        <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>([<span class="hljs-string">':id'</span> =&gt; <span class="hljs-variable">$eventId</span>]);
    }
}
</code></pre>
<h4 data-id="heading-16">æ­¥éª¤å››ï¼šå¹²å‡€åœ°æ˜ å°„äº‹ä»¶ç±»å‹ï¼ˆæšä¸¾å¾ˆæœ‰å¸®åŠ©ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">PaymentEventType</span>: <span class="hljs-title">string</span>
</span>{
    <span class="hljs-keyword">case</span> PaymentSucceeded = <span class="hljs-string">'payment.succeeded'</span>;
    <span class="hljs-keyword">case</span> PaymentFailed = <span class="hljs-string">'payment.failed'</span>;
}
</code></pre>
<h4 data-id="heading-17">æ­¥éª¤äº”ï¼šç”¨äº‹åŠ¡å‹ handler æŠŠå®ƒä»¬ç»„åˆèµ·æ¥</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PaymentWebhookHandler</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> WebhookSignatureVerifier <span class="hljs-variable">$verifier</span>,
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> WebhookIdempotencyStore <span class="hljs-variable">$idem</span>,
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PaymentService <span class="hljs-variable">$payments</span>,
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PDO <span class="hljs-variable">$pdo</span>
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$rawBody</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$signatureHeader</span></span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">$this</span>-&gt;verifier-&gt;<span class="hljs-title function_ invoke__">verify</span>(<span class="hljs-variable">$rawBody</span>, <span class="hljs-variable">$signatureHeader</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">'Invalid webhook signature'</span>);
        }
        <span class="hljs-variable">$payload</span> = <span class="hljs-title function_ invoke__">json_decode</span>(<span class="hljs-variable">$rawBody</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$payload</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">'Invalid JSON'</span>);
        }
        <span class="hljs-variable">$event</span> = <span class="hljs-title class_">WebhookEvent</span>::<span class="hljs-title function_ invoke__">fromArray</span>(<span class="hljs-variable">$payload</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$event</span>-&gt;id === <span class="hljs-string">''</span> || <span class="hljs-variable">$event</span>-&gt;type === <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">'Missing event fields'</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;idem-&gt;<span class="hljs-title function_ invoke__">hasProcessed</span>(<span class="hljs-variable">$event</span>-&gt;id)) {
            <span class="hljs-keyword">return</span>; <span class="hljs-comment">// safe no-op</span>
        }
        <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">beginTransaction</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">dispatch</span>(<span class="hljs-variable">$event</span>);
            <span class="hljs-variable language_">$this</span>-&gt;idem-&gt;<span class="hljs-title function_ invoke__">markProcessed</span>(<span class="hljs-variable">$event</span>-&gt;id);
            <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">commit</span>();
        } <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Throwable</span> <span class="hljs-variable">$e</span>) {
            <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">rollBack</span>();
            <span class="hljs-keyword">throw</span> <span class="hljs-variable">$e</span>;
        }
    }
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatch</span>(<span class="hljs-params">WebhookEvent <span class="hljs-variable">$event</span></span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-variable">$type</span> = <span class="hljs-title class_">PaymentEventType</span>::<span class="hljs-title function_ invoke__">tryFrom</span>(<span class="hljs-variable">$event</span>-&gt;type);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$type</span> === <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// unknown event type: ignore or log</span>
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-variable">$paymentId</span> = (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$event</span>-&gt;data[<span class="hljs-string">'payment_id'</span>] ?? <span class="hljs-string">''</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$paymentId</span> === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">match</span> (<span class="hljs-variable">$type</span>) {
            <span class="hljs-title class_">PaymentEventType</span>::<span class="hljs-variable constant_">PaymentSucceeded</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;payments-&gt;<span class="hljs-title function_ invoke__">markSucceeded</span>(<span class="hljs-variable">$paymentId</span>),
            <span class="hljs-title class_">PaymentEventType</span>::<span class="hljs-variable constant_">PaymentFailed</span>    =&gt; <span class="hljs-variable language_">$this</span>-&gt;payments-&gt;<span class="hljs-title function_ invoke__">markFailed</span>(<span class="hljs-variable">$paymentId</span>),
        };
    }
}
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªå¹²å‡€çš„ç®¡é“ï¼š</p>
<ol>
<li>éªŒè¯çœŸå®æ€§</li>
<li>è§£æè½½è·</li>
<li>è§„èŒƒåŒ–ä¸º DTO</li>
<li>å¼ºåˆ¶å¹‚ç­‰æ€§</li>
<li>äº‹åŠ¡</li>
<li>åˆ†å‘é¢†åŸŸåŠ¨ä½œ</li>
<li>å®¹å¿æœªçŸ¥äº‹ä»¶</li>
</ol>
<p>è¿™å°±æ˜¯ PHP æ“…é•¿çš„"Web ç°å®"ä»£ç ï¼šå¤„ç†é‚£äº›çœŸæ­£é‡è¦çš„è„æ´»ï¼ŒåŒæ—¶ä¿æŒå¯è¯»ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ˜¯ä¼˜åŠ¿ä¸‰</strong>ï¼šå¤§å¤šæ•°åç«¯éƒ½æ˜¯æ•°æ®ç®¡é“ï¼Œè€Œ PHP åœ¨çœŸå®ä¸–ç•Œçº¦æŸä¸‹æ„å»ºå¯ç†è§£çš„ç®¡é“æ–¹é¢å¾ˆå¼ºã€‚</p>
<h3 data-id="heading-18">é¢å¤–å†…å®¹ï¼šæ¸¸æ ‡åˆ†é¡µçš„å®è·µæ·±å…¥ï¼ˆå› ä¸ºå®ƒæŠŠä¸‰ä¸ªä¼˜åŠ¿ä¸²åœ¨ä¸€èµ·ï¼‰</h3>
<p>åˆ†é¡µæ˜¯é‚£ç§çœ‹èµ·æ¥ç®€å•ã€ç­‰ç”¨æˆ·ç¿»åˆ°æ·±é¡µæ‰æš´éœ²é—®é¢˜çš„åŠŸèƒ½ã€‚å®ƒä¹Ÿæ˜¯ä¸ªå¥½ä¾‹å­ï¼Œèƒ½è¯´æ˜ PHP ä¸ºä½•è¿˜æ²¡è¿‡æ—¶ï¼šå®ƒåŒæ—¶æ¶‰åŠ HTTPã€SQL æ€§èƒ½å’Œå“åº”è®¾è®¡ã€‚</p>
<h4 data-id="heading-19">ä¸ºä»€ä¹ˆ OFFSET ä¼šä¼¤å®³ä½ </h4>
<p>Offset åˆ†é¡µï¼ˆ<code>LIMIT 20 OFFSET 100000</code>ï¼‰è¿«ä½¿æ•°æ®åº“æ‰«æå¹¶ä¸¢å¼ƒå¤§é‡è¡Œã€‚åœ¨å¤§è¡¨ä¸Šï¼Œæ·±é¡µä¼šå˜æ…¢ã€‚</p>
<p>å®ƒåœ¨å¹¶å‘å†™å…¥æ—¶ä¹Ÿå¯èƒ½ä¸ä¸€è‡´ï¼šæ’å…¥/åˆ é™¤å¯èƒ½å¯¼è‡´"çª—å£"ç§»åŠ¨æ—¶å‡ºç°è·³è¿‡æˆ–é‡å¤ã€‚</p>
<p>æ¸¸æ ‡åˆ†é¡µï¼ˆkeyset/seekï¼‰é€šè¿‡ä½¿ç”¨ç¨³å®šçš„æ’åºå’Œä»£è¡¨"ä½ ä¸Šæ¬¡åœåœ¨å“ªé‡Œ"çš„æ¸¸æ ‡æ¥é¿å…è¿™äº›é—®é¢˜ã€‚</p>
<h4 data-id="heading-20">è§„åˆ™ä¸€ï¼šæ¸¸æ ‡é€»è¾‘å¿…é¡»åŒ¹é…æ’åºæ–¹å‘</h4>
<p>å¦‚æœä½ æŒ‰æœ€æ–°ä¼˜å…ˆæ’åºï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
</code></pre>
<ul>
<li>ä¸‹ä¸€é¡µåº”è¯¥è·å–"æ›´æ—©"çš„è¡Œ</li>
<li>æ‰€ä»¥æ¡ä»¶ç”¨ <code>&lt;</code></li>
</ul>
<p>å¦‚æœä½ çš„æ•°æ®åº“æ”¯æŒå…ƒç»„æ¯”è¾ƒï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id, created_at, total_cents
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> (created_at, id) <span class="hljs-operator">&lt;</span> (?, ?)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT ?
</code></pre>
<p>å¦‚æœä¸æ”¯æŒï¼Œç”¨æ˜¾å¼é€»è¾‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id, created_at, total_cents
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&lt;</span> ?
   <span class="hljs-keyword">OR</span> (created_at <span class="hljs-operator">=</span> ? <span class="hljs-keyword">AND</span> id <span class="hljs-operator">&lt;</span> ?)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT ?
</code></pre>
<h4 data-id="heading-21">è§„åˆ™äºŒï¼šæ¸¸æ ‡åº”è¯¥æ˜¯ä¸é€æ˜çš„ä¸”é˜²ç¯¡æ”¹</h4>
<p>æ¸¸æ ‡é€šå¸¸æ˜¯ä¸€ä¸ªç±»ä¼¼ <code>(created_at, id)</code> çš„å¯¹ï¼Œåºåˆ—åŒ–ç»™å®¢æˆ·ç«¯ã€‚Base64 ç¼–ç åœ¨ä¼ è¾“æ—¶æ²¡é—®é¢˜â€”â€”ä½†ä¸æ˜¯å®‰å…¨æªæ–½ã€‚å¦‚æœä½ æƒ³é˜²æ­¢å®¢æˆ·ç«¯ä¼ªé€ æ¸¸æ ‡ï¼Œå°±ç­¾åå®ƒã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cursor</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$createdAtIso</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$id</span>
    </span>) </span>{}
}
<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CursorCodec</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$secret</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">encode</span>(<span class="hljs-params">Cursor <span class="hljs-variable">$cursor</span></span>): <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-variable">$json</span> = <span class="hljs-title function_ invoke__">json_encode</span>([
            <span class="hljs-string">'created_at'</span> =&gt; <span class="hljs-variable">$cursor</span>-&gt;createdAtIso,
            <span class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$cursor</span>-&gt;id
        ], JSON_UNESCAPED_SLASHES);
        <span class="hljs-variable">$b64</span> = <span class="hljs-title function_ invoke__">rtrim</span>(<span class="hljs-title function_ invoke__">strtr</span>(<span class="hljs-title function_ invoke__">base64_encode</span>(<span class="hljs-variable">$json</span>), <span class="hljs-string">'+/'</span>, <span class="hljs-string">'-_'</span>), <span class="hljs-string">'='</span>);
        <span class="hljs-variable">$sig</span> = <span class="hljs-title function_ invoke__">hash_hmac</span>(<span class="hljs-string">'sha256'</span>, <span class="hljs-variable">$b64</span>, <span class="hljs-variable">$this</span>-&gt;secret);
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$b64</span> . <span class="hljs-string">'.'</span> . <span class="hljs-variable">$sig</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decode</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$token</span></span>): <span class="hljs-title">Cursor</span>
    </span>{
        <span class="hljs-variable">$parts</span> = <span class="hljs-title function_ invoke__">explode</span>(<span class="hljs-string">'.'</span>, <span class="hljs-variable">$token</span>, <span class="hljs-number">2</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">count</span>(<span class="hljs-variable">$parts</span>) !== <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid cursor'</span>);
        }
        [<span class="hljs-variable">$b64</span>, <span class="hljs-variable">$sig</span>] = <span class="hljs-variable">$parts</span>;
        <span class="hljs-variable">$expected</span> = <span class="hljs-title function_ invoke__">hash_hmac</span>(<span class="hljs-string">'sha256'</span>, <span class="hljs-variable">$b64</span>, <span class="hljs-variable">$this</span>-&gt;secret);
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">hash_equals</span>(<span class="hljs-variable">$expected</span>, <span class="hljs-variable">$sig</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Cursor signature mismatch'</span>);
        }
        <span class="hljs-variable">$json</span> = <span class="hljs-title function_ invoke__">base64_decode</span>(<span class="hljs-title function_ invoke__">strtr</span>(<span class="hljs-variable">$b64</span>, <span class="hljs-string">'-_'</span>, <span class="hljs-string">'+/'</span>), <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$json</span> === <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid cursor encoding'</span>);
        }
        <span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">json_decode</span>(<span class="hljs-variable">$json</span>, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$data</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid cursor payload'</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cursor</span>(
            createdAtIso: (<span class="hljs-keyword">string</span>)(<span class="hljs-variable">$data</span>[<span class="hljs-string">'created_at'</span>] ?? <span class="hljs-string">''</span>),
            id: (<span class="hljs-keyword">int</span>)(<span class="hljs-variable">$data</span>[<span class="hljs-string">'id'</span>] ?? <span class="hljs-number">0</span>)
        );
    }
}
</code></pre>
<h4 data-id="heading-22">Repository æ–¹æ³•ï¼šè¿”å›æ¡ç›® + ä¸‹ä¸€ä¸ªæ¸¸æ ‡</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderRepository</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PDO <span class="hljs-variable">$pdo</span></span>) </span>{}
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> array{items: list&lt;array&gt;, next: ?Cursor}
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listPage</span>(<span class="hljs-params">?Cursor <span class="hljs-variable">$after</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$limit</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-variable">$limit</span> = <span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">1</span>, <span class="hljs-title function_ invoke__">min</span>(<span class="hljs-variable">$limit</span>, <span class="hljs-number">100</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$after</span> === <span class="hljs-literal">null</span>) {
            <span class="hljs-variable">$sql</span> = <span class="hljs-string">"SELECT id, created_at, total_cents
                    FROM orders
                    ORDER BY created_at DESC, id DESC
                    LIMIT :limit"</span>;
            <span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-variable">$sql</span>);
            <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">':limit'</span>, <span class="hljs-variable">$limit</span>, PDO::<span class="hljs-variable constant_">PARAM_INT</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable">$sql</span> = <span class="hljs-string">"SELECT id, created_at, total_cents
                    FROM orders
                    WHERE created_at &lt; :created_at
                       OR (created_at = :created_at AND id &lt; :id)
                    ORDER BY created_at DESC, id DESC
                    LIMIT :limit"</span>;
            <span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;pdo-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-variable">$sql</span>);
            <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">':created_at'</span>, <span class="hljs-variable">$after</span>-&gt;createdAtIso);
            <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">':id'</span>, <span class="hljs-variable">$after</span>-&gt;id, PDO::<span class="hljs-variable constant_">PARAM_INT</span>);
            <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">':limit'</span>, <span class="hljs-variable">$limit</span>, PDO::<span class="hljs-variable constant_">PARAM_INT</span>);
        }
        <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
        <span class="hljs-variable">$rows</span> = <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>(PDO::<span class="hljs-variable constant_">FETCH_ASSOC</span>);
        <span class="hljs-variable">$items</span> = <span class="hljs-title function_ invoke__">array_map</span>(fn(<span class="hljs-variable">$r</span>) =&gt; [
            <span class="hljs-string">'id'</span> =&gt; (<span class="hljs-keyword">int</span>)<span class="hljs-variable">$r</span>[<span class="hljs-string">'id'</span>],
            <span class="hljs-string">'created_at'</span> =&gt; (<span class="hljs-keyword">string</span>)<span class="hljs-variable">$r</span>[<span class="hljs-string">'created_at'</span>],
            <span class="hljs-string">'total_cents'</span> =&gt; (<span class="hljs-keyword">int</span>)<span class="hljs-variable">$r</span>[<span class="hljs-string">'total_cents'</span>],
        ], <span class="hljs-variable">$rows</span>);
        <span class="hljs-variable">$next</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$items</span> !== []) {
            <span class="hljs-variable">$last</span> = <span class="hljs-variable">$items</span>[<span class="hljs-title function_ invoke__">count</span>(<span class="hljs-variable">$items</span>) - <span class="hljs-number">1</span>];
            <span class="hljs-variable">$next</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cursor</span>(<span class="hljs-variable">$last</span>[<span class="hljs-string">'created_at'</span>], <span class="hljs-variable">$last</span>[<span class="hljs-string">'id'</span>]);
        }
        <span class="hljs-keyword">return</span> [<span class="hljs-string">'items'</span> =&gt; <span class="hljs-variable">$items</span>, <span class="hljs-string">'next'</span> =&gt; <span class="hljs-variable">$next</span>];
    }
}
</code></pre>
<p>ç°åœ¨ä½ çš„ handler å¯ä»¥è§£ç  <code>after</code>ã€è·å–ç»“æœã€ç¼–ç  <code>next_cursor</code>â€”â€”ä¸€ä¸ªæ¨ªè·¨ HTTP + SQL + JSON å“åº”çš„å¹²å‡€ç«¯åˆ°ç«¯ç®¡é“ã€‚</p>
<p>è¿™å°±æ˜¯å®è·µä¸­çš„æœ€ä½³å¹³è¡¡ç‚¹ï¼šPHP çš„ Web åŸç”Ÿç‰¹æ€§ã€ç”Ÿæ€å·¥å…·å’Œæ•°æ®å¤„ç†èƒ½åŠ›åœ¨è¿™é‡Œæ±‡åˆã€‚</p>
<h3 data-id="heading-23">PHP ä¸æ˜¯æœ€ä½³é»˜è®¤é€‰æ‹©çš„åœºæ™¯ï¼ˆä»¥åŠå¥½å›¢é˜Ÿæ€ä¹ˆåšï¼‰</h3>
<p>PHP ä¸æ˜¯ä¸‡èƒ½çš„æœ€ä½³å·¥å…·ï¼š</p>
<ul>
<li>CPU å¯†é›†å‹å·¥ä½œè´Ÿè½½ï¼ˆè§†é¢‘å¤„ç†ã€å¤§è§„æ¨¡æ•°å€¼è®¡ç®—ï¼‰</li>
<li>å°†æé«˜å¹¶å‘çš„ socket æœåŠ¡å™¨ä½œä¸ºé»˜è®¤æ¶æ„</li>
<li>è¦æ±‚å‰åç«¯ç”¨åŒä¸€é—¨è¯­è¨€å…±äº«ä¸¥æ ¼ç±»å‹çš„ç»„ç»‡</li>
</ul>
<p>ä½†å¤§å¤šæ•°æˆåŠŸçš„å›¢é˜Ÿä¸ä¼šæŠŠè¿™å½“æˆé‡å†™ä¸€åˆ‡çš„ç†ç”±ã€‚ä»–ä»¬åšçš„æ˜¯ Web ä¸€ç›´é¼“åŠ±çš„äº‹ï¼šç»„åˆç³»ç»Ÿã€‚</p>
<ul>
<li>åœ¨ PHP å¼ºçš„åœ°æ–¹ä¿ç•™ API è¡¨é¢ã€‚</li>
<li>æŠŠé‡è®¡ç®—å¸è½½ç»™ worker æˆ–ä¸“é—¨çš„æœåŠ¡ã€‚</li>
<li>ç”¨é˜Ÿåˆ—å¤„ç†åå°ä»»åŠ¡ã€‚</li>
<li>åœ¨æ€ªç½ªè¯­è¨€ä¹‹å‰å…ˆä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢å’Œç¼“å­˜ã€‚</li>
</ul>
<p>è¿™ä¸æ˜¯ä»€ä¹ˆ"PHP ç”¨æˆ·çš„è‡ªæˆ‘å®‰æ…°"ï¼Œè¿™å°±æ˜¯æ­£å¸¸çš„ç³»ç»Ÿè®¾è®¡ã€‚</p>
<h3 data-id="heading-24">ç»“è®º</h3>
<p>å›åˆ°æœ€åˆçš„é—®é¢˜â€”â€”PHP çš„ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>Web åŸç”Ÿçš„ç”Ÿäº§åŠ›</strong>ï¼šPHP å¤©ç„¶å¥‘åˆ HTTP å·¥ä½œï¼Œä¿æŒæ„å»ºå¾ªç¯å¿«é€Ÿã€‚</li>
<li><strong>ç”Ÿæ€æˆç†Ÿåº¦</strong>ï¼šComposer + æ¡†æ¶ + æ ‡å‡† + å·¥å…·é“¾ç»™ä½ æ æ†å¹¶é™ä½é£é™©ã€‚</li>
<li><strong>åŠ¡å®çš„æ•°æ®ç®¡é“</strong>ï¼šPHP æ“…é•¿æŠŠæ··ä¹±çš„çœŸå®ä¸–ç•Œæ•°æ®è½¬æ¢æˆå¹²å‡€ã€ç¨³å®šçš„è¾“å‡ºâ€”â€”åŒæ—¶ä¸è®©ä»£ç å˜å¾—ä¸å¯è¯»ã€‚</li>
</ul>
<p>å¦‚æœä½ æƒ³è®© PHP æ„Ÿè§‰ç°ä»£ï¼ˆè€Œä¸æ˜¯åƒé‚£äº›åˆ»æ¿å°è±¡ï¼‰ï¼Œæ–¹æ³•å§‹ç»ˆå¦‚ä¸€ï¼š</p>
<ul>
<li>ä¿æŒ handler/æ§åˆ¶å™¨è–„</li>
<li>ç”¨ DTO/å€¼å¯¹è±¡å»ºæ¨¡è¾¹ç•Œ</li>
<li>æŠŠè¶…æ—¶ã€é‡è¯•å’Œå¹‚ç­‰æ€§å½“ä½œä¸€ç­‰åŠŸèƒ½</li>
<li>æŒ‰è¯»å–æ–¹å¼å»ºç´¢å¼•ï¼ˆå°¤å…¶æ˜¯åˆ†é¡µï¼‰</li>
<li>ç”¨æµ‹è¯• + é™æ€åˆ†æä¿æŠ¤é‡æ„</li>
</ul>
<p>PHP ä¸éœ€è¦è¿½çƒ­ç‚¹ã€‚å®ƒåªè¦ç»§ç»­åšå®ƒæ“…é•¿çš„äº‹å°±å¤Ÿäº†ï¼šè·‘é‚£äº›å®ç”¨ã€å¥½ç»´æŠ¤ã€èƒ½ç¨³å®šä¸Šçº¿çš„ Web ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AOSP å‘å¸ƒèŠ‚å¥è°ƒæ•´ï¼šä¸€å¹´ä¸¤æ›´]]></title>    <link>https://juejin.cn/post/7592440247956701199</link>    <guid>https://juejin.cn/post/7592440247956701199</guid>    <pubDate>2026-01-08T00:28:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592440247956701199" data-draft-id="7592148975849242667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AOSP å‘å¸ƒèŠ‚å¥è°ƒæ•´ï¼šä¸€å¹´ä¸¤æ›´"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-08T00:28:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AOSP å‘å¸ƒèŠ‚å¥è°ƒæ•´ï¼šä¸€å¹´ä¸¤æ›´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T00:28:11.000Z" title="Thu Jan 08 2026 00:28:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6c4d0cc6ebd4c6b820b406207267dac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768436890&amp;x-signature=hSPV2T575WDVctYlObs38%2B3pYtg%3D" alt="0107_1.png" loading="lazy"/></p>
<p>å¸‚é¢ä¸Šæ¯ä¸€æ¬¾å®‰å“æ‰‹æœºä¸å¹³æ¿æ‰€æ­è½½çš„æ“ä½œç³»ç»Ÿï¼Œå‡åŸºäº <strong>AOSP</strong>ï¼ˆå³ Android å¼€æºé¡¹ç›®ï¼‰å¼€å‘ã€‚è°·æ­Œä»¥å®½æ¾çš„ Apache 2.0 è®¸å¯è¯å‘å¸ƒ <strong>AOSP</strong> ä»£ç ï¼Œå¼€å‘è€…æ— éœ€ä»˜è´¹ï¼Œä¹Ÿä¸å¿…å…¬å¼€è‡ªèº«çš„ä¿®æ”¹ç‰ˆæœ¬ï¼Œå³å¯åŸºäºè¯¥é¡¹ç›®å¼€å‘ã€ä¿®æ”¹å¹¶åˆ†å‘è‡ªæœ‰æ“ä½œç³»ç»Ÿã€‚</p>
<p>è‡ª <strong>AOSP</strong> é¡¹ç›®å¯åŠ¨ä»¥æ¥ï¼Œè°·æ­Œå‡ ä¹ä¼šåœ¨æ¯ä¸€ä»£ç§»åŠ¨è®¾å¤‡å®‰å“ç³»ç»Ÿç‰ˆæœ¬å‘å¸ƒåï¼ŒåŒæ­¥å¼€æ”¾å¯¹åº”çš„æºä»£ç ï¼Œé€šå¸¸åœ¨è‡ªå®¶ Pixel ç³»åˆ—è®¾å¤‡æ¨é€æ›´æ–°åçš„æ•°å¤©å†…å°±ä¼šå®Œæˆå¼€æºæ“ä½œã€‚</p>
<p>ç„¶è€Œä»ä»Šå¹´èµ·ï¼Œè°·æ­Œå¯¹å®‰å“æºä»£ç çš„å‘å¸ƒè®¡åˆ’åšå‡ºé‡å¤§è°ƒæ•´ï¼š<strong>AOSP</strong> æºä»£ç å°†æ”¹ä¸ºæ¯å¹´ä»…å‘å¸ƒä¸¤æ¬¡ã€‚</p>
<p>æ®è°·æ­Œé€éœ²ï¼Œè‡ª 2026 å¹´èµ·ï¼Œ<strong>AOSP</strong> æ–°æºä»£ç å°†å›ºå®šåœ¨æ¯å¹´ç¬¬äºŒå­£åº¦ï¼ˆQ2ï¼‰ä¸ç¬¬å››å­£åº¦ï¼ˆQ4ï¼‰å‘å¸ƒã€‚è°ƒæ•´çš„ç›®çš„æ˜¯ä¿éšœå®‰å“ç”Ÿæ€çš„å¹³å°ç¨³å®šæ€§ï¼Œå¹¶æ›´å¥½åœ°é€‚é…å®‰å“çš„ä¸»å¹²ç¨³å®šå¼€å‘æ¨¡å¼ã€‚</p>
<p>å¦‚ä»Šè®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fwhatsnew%2Fsite-updates%3Fhl%3Dzh-cn%26year%3D2025" target="_blank" title="https://source.android.com/docs/whatsnew/site-updates?hl=zh-cn&amp;year=2025" ref="nofollow noopener noreferrer">source.android.com</a>ï¼Œä¼šçœ‹åˆ°ä¸€åˆ™ç¡®è®¤è¯¥å˜åŠ¨çš„å…¬å‘Šæ¨ªå¹…ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>è‡ª 2026 å¹´èµ·ï¼Œä¸ºäº†ä¸æˆ‘ä»¬çš„ä¸»å¹²ç¨³å®šå¼€å‘æ¨¡å‹ä¿æŒä¸€è‡´ï¼Œå¹¶ç¡®ä¿ç”Ÿæ€ç³»ç»Ÿçš„å¹³å°ç¨³å®šæ€§ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬ 2 å­£åº¦å’Œç¬¬ 4 å­£åº¦å°†æºä»£ç å‘å¸ƒåˆ° AOSPã€‚å¯¹äºæ„å»º AOSP å’Œå‘ AOSP è´¡çŒ®ä»£ç ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ <code>android-latest-release</code> è€Œä¸æ˜¯ <code>aosp-main</code>ã€‚<code>android-latest-release</code> æ¸…å•åˆ†æ”¯å°†å§‹ç»ˆå¼•ç”¨æ¨é€åˆ° AOSP çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜… <a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fwhatsnew%2Fsite-updates%3Fhl%3Dzh-cn%23aosp-changes" target="_blank" title="https://source.android.com/docs/whatsnew/site-updates?hl=zh-cn#aosp-changes" ref="nofollow noopener noreferrer">AOSP å˜æ›´</a>ã€‚</p>
</blockquote>
<p>è¿‡å»ï¼Œè°·æ­Œä¼šé…åˆå®‰å“ç³»ç»Ÿçš„å­£åº¦æ›´æ–°å‘å¸ƒæºä»£ç ï¼Œä¸€å¹´æ€»è®¡å››æ¬¡ã€‚æ­¤æ¬¡è°ƒæ•´åï¼Œå‘å¸ƒé¢‘æ¬¡ä»ä¸€å¹´å››æ¬¡ç¼©å‡ä¸ºä¸¤æ¬¡ï¼Œèšç„¦äºç¬¬äºŒå­£åº¦çš„é‡å¤§æ›´æ–°ä¸ç¬¬å››å­£åº¦çš„å°å¹…æ›´æ–°ï¼Œè¿™ä¸¤ä¸ªç‰ˆæœ¬éƒ½ä¼šåŒ…å«é¢å‘å¼€å‘è€…çš„åŠŸèƒ½å˜æ›´ã€‚</p>
<p>è°·æ­Œå‘è¨€äººå°±è¿™ä¸€å†³ç­–è¡¥å……è¯´æ˜ï¼Œè°ƒæ•´æœ‰åŠ©äºç®€åŒ–å¼€å‘æµç¨‹ï¼Œé™ä½å¤šä»£ç åˆ†æ”¯çš„ç®¡ç†å¤æ‚åº¦ï¼Œä¸ºå®‰å“å¹³å°å¼€å‘è€…æä¾›æ›´ç¨³å®šã€æ›´å®‰å…¨çš„ä»£ç ã€‚</p>
<p>å‘è¨€äººåŒæ—¶å¼ºè°ƒï¼Œè°·æ­Œå¯¹ <strong>AOSP</strong> çš„æŠ•å…¥æ‰¿è¯ºä¸ä¼šæ”¹å˜ï¼Œæ–°çš„å‘å¸ƒè®¡åˆ’å°†åŠ©åŠ›å®‰å“ç”Ÿæ€æ„å»ºæ›´åšå®ã€æ›´å®‰å…¨çš„æŠ€æœ¯åº•åº§ã€‚æ­¤å¤–ï¼Œè°·æ­Œæ˜ç¡®è¡¨ç¤ºå®‰å…¨è¡¥ä¸çš„å‘å¸ƒæµç¨‹ä¿æŒä¸å˜ï¼Œä»ä¼šåƒç°åœ¨è¿™æ ·ï¼Œæ¯æœˆåœ¨ä¸“å±çš„å®‰å…¨è¡¥ä¸åˆ†æ”¯ä¸ºç›¸å…³ç³»ç»Ÿç‰ˆæœ¬æ¨é€æ›´æ–°ã€‚</p>
<blockquote>
<p>åŸæ–‡<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.androidauthority.com%2Faosp-source-code-schedule-3630018%2F" target="_blank" title="https://www.androidauthority.com/aosp-source-code-schedule-3630018/" ref="nofollow noopener noreferrer">www.androidauthority.com/aosp-sourceâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆçº§ä¸ä¸­çº§çš„Androidé¢è¯•é¢˜åŒºåˆ«åœ¨å“ªé‡Œ]]></title>    <link>https://juejin.cn/post/7592432859863384098</link>    <guid>https://juejin.cn/post/7592432859863384098</guid>    <pubDate>2026-01-08T00:27:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859863384098" data-draft-id="7590309337861439529" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆçº§ä¸ä¸­çº§çš„Androidé¢è¯•é¢˜åŒºåˆ«åœ¨å“ªé‡Œ"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2026-01-08T00:27:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆçº§ä¸ä¸­çº§çš„Androidé¢è¯•é¢˜åŒºåˆ«åœ¨å“ªé‡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T00:27:40.000Z" title="Thu Jan 08 2026 00:27:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><em>æœ¬ç³»åˆ—ä¸ºå°è¯´ã€Šé€†è¢­è¥¿äºŒæ——ã€‹çš„æŠ€æœ¯è®²è§£ï¼Œç”¨äºè¯¦ç»†è¯´æ˜<a href="https://juejin.cn/post/7591702898080841743" target="_blank" title="https://juejin.cn/post/7591702898080841743">å‰§æƒ…</a>é‡Œæ¶‰åŠçš„å¼€å‘ç»†èŠ‚ã€‚</em></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f404616b11d74f0bb61f2a71df107127~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768436859&amp;x-signature=xPICbVkUMgFu3REROHPAFp9Wqk8%3D" alt="11.png" loading="lazy"/></p>
<h2 data-id="heading-0">Android æ–‡ä»¶ç³»ç»Ÿ</h2>
<p>Android æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€å¥—ç»“æ„åŒ–ç¯å¢ƒï¼Œè´Ÿè´£ç®¡ç† Android è®¾å¤‡ä¸Šçš„æ•°æ®å­˜å‚¨ï¼Œè®©åº”ç”¨å’Œç”¨æˆ·èƒ½é«˜æ•ˆåœ°å­˜å‚¨ã€è·å–å’Œç®¡ç†æ–‡ä»¶ã€‚</p>
<p>å®ƒåŸºäº Linux æ–‡ä»¶ç³»ç»Ÿæ¶æ„å®ç°ï¼Œæ—¢ä¸ºåº”ç”¨æä¾›äº†ç§æœ‰å’Œå…±äº«çš„å­˜å‚¨ç©ºé—´ï¼Œåˆéµå¾ªä¸¥æ ¼çš„å®‰å…¨ä¸æƒé™æ¨¡å‹ã€‚</p>
<h3 data-id="heading-1">é¢è¯•é—®é¢˜</h3>
<p>Android å¦‚ä½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ‰§è¡Œå®‰å…¨ä¸æƒé™æ§åˆ¶ï¼Ÿ</p>
<p>æœ‰å“ªäº›æœºåˆ¶èƒ½é˜²æ­¢åº”ç”¨è®¿é—®å…¶ä»–åº”ç”¨çš„ç§æœ‰æ•°æ®ï¼Ÿ</p>
<h3 data-id="heading-2">æ ¸å¿ƒç»„ä»¶</h3>
<p>Android æ–‡ä»¶ç³»ç»ŸåŒ…å«å¤šä¸ªç›®å½•å’Œåˆ†åŒºï¼Œæ¯ä¸ªéƒ½æœ‰æ˜ç¡®çš„ç”¨é€”ï¼š</p>
<ul>
<li><strong>ç³»ç»Ÿåˆ†åŒºï¼ˆ/systemï¼‰</strong>ï¼šå­˜å‚¨æ ¸å¿ƒç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒ…æ‹¬ Android æ¡†æ¶åº“ã€ç³»ç»Ÿåº”ç”¨å’Œé…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªåˆ†åŒºå¯¹æ™®é€šç”¨æˆ·å’Œåº”ç”¨æ˜¯åªè¯»çš„ï¼Œé˜²æ­¢æ„å¤–æˆ–æ¶æ„ä¿®æ”¹ã€‚</li>
<li><strong>æ•°æ®åˆ†åŒºï¼ˆ/dataï¼‰</strong>ï¼šå­˜å‚¨åº”ç”¨ä¸“å±æ•°æ®ï¼Œæ¯”å¦‚æ•°æ®åº“ã€åå¥½è®¾ç½®ã€ç”¨æˆ·ç”Ÿæˆçš„æ–‡ä»¶ã€‚æ¯ä¸ªåº”ç”¨éƒ½æœ‰ç‹¬ç«‹çš„ <code>/data/data/[åŒ…å]</code> ç›®å½•ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚</li>
<li><strong>ç¼“å­˜åˆ†åŒºï¼ˆ/cacheï¼‰</strong>ï¼šç”¨äºå­˜å‚¨ä¸´æ—¶æ•°æ®ï¼ˆå¦‚ç³»ç»Ÿæ›´æ–°åŒ…ã€ç¼“å­˜æ–‡ä»¶ï¼‰ï¼Œè¿™äº›æ•°æ®ä¸éœ€è¦åœ¨è®¾å¤‡é‡å¯åä¿ç•™ã€‚</li>
<li><strong>å¤–éƒ¨å­˜å‚¨ï¼ˆ/sdcard æˆ– /storageï¼‰</strong>ï¼šæä¾›å¤šåº”ç”¨å¯è®¿é—®çš„å…±äº«å­˜å‚¨ç©ºé—´ï¼Œå¸¸ç”¨äºå­˜æ”¾å›¾ç‰‡ã€è§†é¢‘ã€æ–‡æ¡£ç­‰åª’ä½“æ–‡ä»¶ï¼Œå¯æ˜¯å†…ç½®å­˜å‚¨æˆ–å¯å¸è½½çš„ SD å¡ã€‚</li>
<li><strong>ä¸´æ—¶æ–‡ä»¶ï¼ˆ/tmpï¼‰</strong>ï¼šåº”ç”¨è¿è¡Œæ—¶å­˜å‚¨ä¸´æ—¶æ–‡ä»¶çš„ä½ç½®ï¼Œé€šå¸¸åœ¨åº”ç”¨æˆ–ç³»ç»Ÿé‡å¯åä¼šè¢«æ¸…ç©ºã€‚</li>
</ul>
<h3 data-id="heading-3">Android ä¸­çš„æ–‡ä»¶è®¿é—®æ–¹å¼</h3>
<p>åº”ç”¨é€šè¿‡ Android æ¡†æ¶æä¾›çš„ API ä¸æ–‡ä»¶ç³»ç»Ÿäº¤äº’ã€‚æ ¹æ®æ–‡ä»¶çš„å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸéœ€æ±‚ï¼Œåº”ç”¨å¯ä»¥å°†æ–‡ä»¶å­˜åœ¨ä¸åŒä½ç½®ï¼š</p>
<ul>
<li><strong>å†…éƒ¨å­˜å‚¨</strong>ï¼šåº”ç”¨æ²™ç›’å†…çš„ç§æœ‰å­˜å‚¨ï¼Œä»…å½“å‰åº”ç”¨å¯è®¿é—®ï¼Œé€‚åˆå­˜æ”¾æ•æ„Ÿæˆ–åº”ç”¨ä¸“å±æ•°æ®ã€‚</li>
<li><strong>å¤–éƒ¨å­˜å‚¨</strong>ï¼šå¤šåº”ç”¨å¯è®¿é—®çš„å…±äº«å­˜å‚¨ï¼Œç”¨äºå­˜æ”¾ç”¨æˆ·ç”Ÿæˆçš„å†…å®¹æˆ–éœ€è¦åœ¨åº”ç”¨å¤–è®¿é—®çš„åª’ä½“æ–‡ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-4">æ–‡ä»¶æƒé™ä¸å®‰å…¨</h3>
<p>Android æ–‡ä»¶ç³»ç»Ÿå¼ºåˆ¶ä½¿ç”¨ä¸¥æ ¼çš„æƒé™æ¨¡å‹ï¼š</p>
<ul>
<li><strong>åº”ç”¨ç§æœ‰æ•°æ®</strong>ï¼šå­˜åœ¨åº”ç”¨å†…éƒ¨å­˜å‚¨çš„æ•°æ®æ˜¯ç§æœ‰çš„ï¼Œä»…è¯¥åº”ç”¨å¯è®¿é—®ã€‚</li>
<li><strong>å…±äº«æ–‡ä»¶</strong>ï¼šåº”ç”¨é—´å…±äº«æ–‡ä»¶éœ€é€šè¿‡å¤–éƒ¨å­˜å‚¨ï¼Œæˆ–ç»“åˆé€‚å½“æƒé™çš„ <code>Content Provider</code> å®ç°ã€‚</li>
<li><strong>ä½œç”¨åŸŸå­˜å‚¨</strong>ï¼šAndroid 10 å¼•å…¥ï¼Œé™åˆ¶äº†å¯¹å…±äº«å­˜å‚¨çš„ç›´æ¥è®¿é—®ï¼Œè¦æ±‚åº”ç”¨é€šè¿‡ <code>MediaStore</code> æˆ– SAFï¼ˆå­˜å‚¨è®¿é—®æ¡†æ¶ï¼‰API æ“ä½œæ–‡ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-5">æ€»ç»“</h3>
<p>Android æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€å¥—å¥å£®ä¸”å®‰å…¨çš„ç¯å¢ƒï¼Œä¸ºåº”ç”¨å’Œç”¨æˆ·ç»„ç»‡ã€ç®¡ç†æ•°æ®å­˜å‚¨ã€‚å®ƒä¸ºç³»ç»Ÿæ–‡ä»¶ã€åº”ç”¨ä¸“å±æ•°æ®å’Œå…±äº«å†…å®¹æä¾›äº†ä¸“ç”¨ç©ºé—´ï¼ŒåŒæ—¶éµå¾ªä¸¥æ ¼çš„å®‰å…¨ä¸æƒé™æ§åˆ¶ã€‚</p>
<p>å¼€å‘è€…é€šè¿‡å„ç±» API ä¸è¯¥ç³»ç»Ÿäº¤äº’ï¼Œå®ç°ç¬¦åˆåº”ç”¨éœ€æ±‚çš„é«˜æ•ˆã€å®‰å…¨çš„æ–‡ä»¶ç®¡ç†ã€‚</p>
<h2 data-id="heading-6">ARTã€Dalvik å’Œ Dex ç¼–è¯‘å™¨</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8453e186fbc24cc9b373d7291c5ccc36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768436859&amp;x-signature=HtN3aFDmo7d2FZ3cOWpnsQ58Aro%3D" alt="22.jpeg" loading="lazy"/></p>
<p>Android åº”ç”¨ä¾èµ–ç‹¬ç‰¹çš„è¿è¡Œæ—¶ç¯å¢ƒå’Œç¼–è¯‘æµç¨‹åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œï¼Œå…¶ä¸­ Android Runtimeï¼ˆ<strong>ART</strong>ï¼‰ã€<strong>Dalvik</strong> å’Œ <strong>Dex ç¼–è¯‘å™¨</strong> æ˜¯æ ¸å¿ƒè§’è‰²ï¼Œå®ƒä»¬ç¡®ä¿åº”ç”¨åœ¨æ€§èƒ½ã€å†…å­˜æ•ˆç‡å’Œè®¾å¤‡å…¼å®¹æ€§ä¸Šè¾¾åˆ°ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-7">é¢è¯•é—®é¢˜</h3>
<p><strong>ART</strong> ä¸­çš„æå‰ç¼–è¯‘ï¼ˆ<strong>AOT</strong>ï¼‰ä¸ <strong>Dalvik</strong> ä¸­çš„å³æ—¶ç¼–è¯‘ï¼ˆ<strong>JIT</strong>ï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p>å¯¹åº”ç”¨å¯åŠ¨é€Ÿåº¦å’Œ CPU å ç”¨æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</p>
<h3 data-id="heading-8">Android Runtimeï¼ˆARTï¼‰</h3>
<p><strong>ART</strong> æ˜¯ Android 4.4ï¼ˆKitKatï¼‰ä¸­å¼•å…¥çš„æ‰˜ç®¡å¼è¿è¡Œæ—¶ï¼Œä» Android 5.0ï¼ˆLollipopï¼‰å¼€å§‹æˆä¸ºé»˜è®¤è¿è¡Œæ—¶ï¼Œæ›¿ä»£äº† <strong>Dalvik</strong> è´Ÿè´£æ‰§è¡Œ Android åº”ç”¨ï¼Œå¹¶å¸¦æ¥äº†å¤šé¡¹å¢å¼ºã€‚</p>
<p><strong>ART</strong> é‡‡ç”¨ <strong>æå‰ç¼–è¯‘ï¼ˆAOTï¼‰</strong> æ–¹å¼å¤„ç†åº”ç”¨ï¼šåœ¨åº”ç”¨å®‰è£…æ—¶å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç ï¼Œçœå»äº†è¿è¡Œæ—¶çš„ <strong>å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰</strong> æ­¥éª¤ï¼Œä»è€ŒåŠ å¿«åº”ç”¨å¯åŠ¨é€Ÿåº¦ã€é™ä½è¿è¡Œæ—¶çš„ CPU å ç”¨ã€‚</p>
<p><strong>ART</strong> çš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ€§èƒ½æå‡</strong>ï¼š<strong>AOT</strong> ç¼–è¯‘ç”Ÿæˆä¼˜åŒ–åçš„æœºå™¨ç ï¼Œå‡å°‘è¿è¡Œæ—¶å¼€é”€ã€‚</li>
<li><strong>åƒåœ¾å›æ”¶</strong>ï¼šå¼•å…¥äº†æ”¹è¿›çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæå‡å†…å­˜ç®¡ç†æ•ˆç‡ã€‚</li>
<li><strong>è°ƒè¯•ä¸æ€§èƒ½åˆ†ææ”¯æŒ</strong>ï¼šæä¾›æ›´å¼ºå¤§çš„å¼€å‘è€…å·¥å…·ï¼Œæ¯”å¦‚è¯¦ç»†çš„å †æ ˆè·Ÿè¸ªå’Œå†…å­˜ä½¿ç”¨åˆ†æåŠŸèƒ½ã€‚</li>
</ul>
<h3 data-id="heading-9">Dalvik</h3>
<p><strong>Dalvik</strong> æ˜¯ <strong>ART</strong> ä¹‹å‰ Android çš„åˆä»£è¿è¡Œæ—¶ï¼Œè®¾è®¡ç”¨äºåœ¨å†…å­˜å’Œç®—åŠ›æœ‰é™çš„è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œåº”ç”¨ã€‚</p>
<p><strong>Dalvik</strong> é‡‡ç”¨ <strong>å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰</strong> æ–¹å¼ï¼šåœ¨è¿è¡Œæ—¶å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç ã€‚è¿™ç§æ–¹å¼å‡å°‘äº†åº”ç”¨å®‰è£…æ—¶é—´ï¼Œä½†å®æ—¶ç¼–è¯‘ä¼šå¢åŠ è¿è¡Œæ—¶å¼€é”€ã€‚</p>
<p><strong>Dalvik</strong> çš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç´§å‡‘çš„å­—èŠ‚ç </strong>ï¼šä½¿ç”¨ <code>.dex</code>ï¼ˆ<strong>Dalvik</strong> å¯æ‰§è¡Œæ–‡ä»¶ï¼‰æ ¼å¼ï¼Œä¼˜åŒ–äº†å†…å­˜å ç”¨å’Œæ‰§è¡Œæ•ˆç‡ã€‚</li>
<li><strong>åŸºäºå¯„å­˜å™¨çš„è™šæ‹Ÿæœº</strong>ï¼šä¸åŒäº Java è™šæ‹Ÿæœºçš„æ ˆå¼ç»“æ„ï¼Œ<strong>Dalvik</strong> æ˜¯åŸºäºå¯„å­˜å™¨çš„ï¼Œæå‡äº†æŒ‡ä»¤æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ul>
<p><strong>Dalvik</strong> çš„å±€é™æ€§ï¼ˆå¦‚å¯åŠ¨æ…¢ã€CPU å ç”¨é«˜ï¼‰ï¼Œä½¿å…¶åœ¨ Android æ–°ç‰ˆæœ¬ä¸­è¢« <strong>ART</strong> å–ä»£ã€‚</p>
<h3 data-id="heading-10">Dex ç¼–è¯‘å™¨</h3>
<p><strong>Dex ç¼–è¯‘å™¨</strong> è´Ÿè´£å°† Java/Kotlin ç¼–è¯‘å™¨ç”Ÿæˆçš„ Java å­—èŠ‚ç ï¼Œè½¬æ¢ä¸º <code>.dex</code>ï¼ˆ<strong>Dalvik</strong> å¯æ‰§è¡Œæ–‡ä»¶ï¼‰æ ¼å¼ã€‚è¿™ç§ <code>.dex</code> æ–‡ä»¶ä½“ç§¯ç´§å‡‘ï¼Œä¸“ä¸º <strong>Dalvik</strong> å’Œ <strong>ART</strong> è¿è¡Œæ—¶ç¯å¢ƒä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-11">Dex ç¼–è¯‘å™¨çš„æ ¸å¿ƒä½œç”¨</h3>
<p><strong>Dex ç¼–è¯‘å™¨</strong> æ˜¯ Android åº”ç”¨é«˜æ•ˆè¿è¡Œçš„å…³é”®ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¤š dex æ”¯æŒ</strong>ï¼šå½“åº”ç”¨æ–¹æ³•æ•°è¶…è¿‡ 64K é™åˆ¶æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†å­—èŠ‚ç æ‹†åˆ†åˆ°å¤šä¸ª <code>.dex</code> æ–‡ä»¶ä¸­ã€‚</li>
<li><strong>å­—èŠ‚ç ä¼˜åŒ–</strong>ï¼šå¯¹å­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ï¼Œæå‡ Android è®¾å¤‡ä¸Šçš„å†…å­˜å ç”¨å’Œæ‰§è¡Œæ€§èƒ½ã€‚</li>
</ul>
<p>Dex ç¼–è¯‘æµç¨‹å·²é›†æˆåˆ° Android æ„å»ºç³»ç»Ÿä¸­ï¼Œåœ¨åº”ç”¨å¼€å‘çš„æ„å»ºé˜¶æ®µè‡ªåŠ¨æ‰§è¡Œã€‚</p>
<h3 data-id="heading-12">ä» Dalvik åˆ° ART çš„è¿‡æ¸¡</h3>
<p>ä» <strong>Dalvik</strong> åˆ° <strong>ART</strong> çš„åˆ‡æ¢ï¼Œæ˜¯ Android è¿è¡Œæ—¶ç¯å¢ƒçš„é‡å¤§å‡çº§ã€‚<strong>ART</strong> çš„ <strong>AOT</strong> ç¼–è¯‘ã€å¢å¼ºå‹åƒåœ¾å›æ”¶å’Œæ€§èƒ½åˆ†æèƒ½åŠ›ï¼Œä¸ºå¼€å‘è€…å’Œç”¨æˆ·å¸¦æ¥äº†æ›´å¥½çš„ä½“éªŒã€‚ç”±äºä½¿ç”¨äº† <code>.dex</code> æ–‡ä»¶ï¼Œä¸º <strong>Dalvik</strong> è®¾è®¡çš„åº”ç”¨å¯ä»¥æ— ç¼å…¼å®¹ <strong>ART</strong>ï¼Œè®©å¼€å‘è€…èƒ½å¹³æ»‘è¿ç§»ã€‚</p>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p><strong>ART</strong>ã€<strong>Dalvik</strong> å’Œ <strong>Dex ç¼–è¯‘å™¨</strong> æ˜¯ Android åº”ç”¨æ‰§è¡Œçš„åŸºç¡€ï¼š<strong>ART</strong> ä»¥ <strong>AOT</strong> ç¼–è¯‘å’Œæ€§èƒ½æå‡å–ä»£äº†ä¾èµ– <strong>JIT</strong> çš„ <strong>Dalvik</strong>ï¼›<strong>Dex ç¼–è¯‘å™¨</strong> åˆ™é€šè¿‡å°† Java å­—èŠ‚ç è½¬æ¢ä¸ºé€‚é…ä¸¤ç§è¿è¡Œæ—¶çš„ <code>.dex</code> æ–‡ä»¶ï¼Œè¡”æ¥äº†æ•´ä¸ªæµç¨‹ã€‚è¿™äº›ç»„ä»¶å…±åŒä¿éšœäº† Android åº”ç”¨çš„é«˜æ•ˆã€å¿«é€Ÿå’Œå¯é è¿è¡Œã€‚</p>
<h2 data-id="heading-14">APK æ–‡ä»¶ä¸ AAB æ–‡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«</h2>
<p>Android åº”ç”¨çš„åˆ†å‘å’Œå®‰è£…ä¸»è¦ä½¿ç”¨ä¸¤ç§æ ¼å¼ï¼š<strong>APK</strong>ï¼ˆAndroid å®‰è£…åŒ…ï¼‰å’Œ <strong>AAB</strong>ï¼ˆAndroid App Bundleï¼‰ã€‚ä¸¤è€…éƒ½ç”¨äºäº¤ä»˜åº”ç”¨ï¼Œä½†åœ¨ç”¨é€”ã€ç»“æ„å’Œå®‰è£…æµç¨‹ä¸Šæœ‰æ˜¾è‘—å·®å¼‚ã€‚</p>
<h3 data-id="heading-15">é¢è¯•é—®é¢˜</h3>
<p>AAB æ ¼å¼å¦‚ä½•é’ˆå¯¹ä¸åŒè®¾å¤‡é…ç½®ä¼˜åŒ–åº”ç”¨äº¤ä»˜ï¼Ÿç›¸æ¯”ä¼ ç»Ÿ APK åˆ†å‘æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ</p>
<h3 data-id="heading-16">APKï¼ˆAndroid å®‰è£…åŒ…ï¼‰</h3>
<p><strong>APK</strong> æ˜¯ä¼ ç»Ÿçš„ Android åº”ç”¨åˆ†å‘/å®‰è£…æ ¼å¼ï¼Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯å®‰è£…åŒ…ï¼ŒåŒ…å«åº”ç”¨åœ¨è®¾å¤‡ä¸Šè¿è¡Œæ‰€éœ€çš„æ‰€æœ‰èµ„æºã€ä»£ç å’Œå…ƒæ•°æ®ã€‚</p>
<p><strong>APK</strong> æ˜¯è‡ªåŒ…å«çš„ï¼Œä¼šåŒ…å«é€‚é…æ‰€æœ‰è®¾å¤‡é…ç½®ï¼ˆå¦‚å±å¹•å¯†åº¦ã€CPU æ¶æ„ã€è¯­è¨€ï¼‰çš„èµ„æºâ€”â€”è¿™ä¼šå¯¼è‡´æ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œå› ä¸ºå…¶ä¸­å¯èƒ½åŒ…å«å¯¹å½“å‰è®¾å¤‡æ— ç”¨çš„èµ„æºã€‚</p>
<p><strong>APK</strong> å¯ä»¥ç›´æ¥å®‰è£…åˆ°è®¾å¤‡ï¼Œä¹Ÿèƒ½åœ¨å®˜æ–¹åº”ç”¨å•†åº—å¤–åˆ†äº«æˆ–ä¾§è½½ã€‚ä½†å¼€å‘è€…éœ€è¦è‡ªè¡Œç®¡ç†å¤šè®¾å¤‡çš„é…ç½®é€‚é…ï¼ŒAPK ä¸­å¾€å¾€ä¼šåŒ…å«ç‰¹å®šè®¾å¤‡ä¸éœ€è¦çš„èµ„æºã€‚</p>
<h3 data-id="heading-17">AABï¼ˆAndroid App Bundleï¼‰</h3>
<p><strong>AAB</strong> æ˜¯ Google æ¨å‡ºçš„å‘å¸ƒæ ¼å¼ï¼Œå¹¶éåƒ <strong>APK</strong> é‚£æ ·çš„å¯ç›´æ¥å®‰è£…æ ¼å¼ã€‚å¼€å‘è€…å°† <strong>AAB</strong> ä¸Šä¼ åˆ° Google Playï¼Œç”±å•†åº—åœ¨ä¸‹è½½æ—¶ç”Ÿæˆé€‚é…ç›®æ ‡è®¾å¤‡çš„ä¼˜åŒ– <strong>APK</strong>ã€‚</p>
<p><strong>AAB</strong> æ˜¯æ¨¡å—åŒ–çš„ï¼Œä¼šå°†ä¸åŒé…ç½®çš„èµ„æºå’Œä»£ç æ‹†åˆ†æˆç‹¬ç«‹çš„ <code>bundle</code>ã€‚<strong>Google Play</strong> åˆ©ç”¨è¿™ç§ç»“æ„ï¼Œåªå‘ç”¨æˆ·äº¤ä»˜å¯¹åº”è®¾å¤‡æ‰€éœ€çš„èµ„æºå’Œä»£ç ï¼ˆæ¯”å¦‚ç‰¹å®šå±å¹•å°ºå¯¸ã€CPU æ¶æ„ã€è¯­è¨€çš„ç‰ˆæœ¬ï¼‰ï¼Œä»è€Œå‡å°åº”ç”¨åœ¨è®¾å¤‡ä¸Šçš„ä½“ç§¯ã€‚</p>
<p>ç”±äº <strong>AAB</strong> æ˜¯åœ¨æœåŠ¡ç«¯å¤„ç†çš„ï¼Œå®ƒä¸èƒ½ç›´æ¥å®‰è£…ã€‚å¼€å‘è€…è‹¥è¦ä¾§è½½ï¼Œéœ€è¦å€ŸåŠ© <code>bundletool</code> ç­‰å·¥å…·ç”Ÿæˆå¯å®‰è£…çš„ <strong>APK</strong>ã€‚</p>
<h3 data-id="heading-18">APK ä¸ AAB çš„æ ¸å¿ƒåŒºåˆ«</h3>
<ol>
<li>
<p><strong>ç”¨é€”ä¸ç»“æ„</strong></p>
<ul>
<li><strong>APK</strong>ï¼šåŒ…å«æ‰€æœ‰é…ç½®èµ„æºå’Œä»£ç çš„å®Œæ•´å®‰è£…åŒ…ã€‚</li>
<li><strong>AAB</strong>ï¼šæ¨¡å—åŒ–çš„å‘å¸ƒæ ¼å¼ï¼Œä¼šç”Ÿæˆé€‚é…è®¾å¤‡çš„ <strong>APK</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ–‡ä»¶ä½“ç§¯</strong></p>
<ul>
<li><strong>APK</strong>ï¼šåŒ…å«æ‰€æœ‰è®¾å¤‡çš„èµ„æºï¼Œä½“ç§¯è¾ƒå¤§ã€‚</li>
<li><strong>AAB</strong>ï¼šå¯ç”Ÿæˆæ›´å°çš„ä¼˜åŒ– <strong>APK</strong>ï¼Œå‡å°‘ç”¨æˆ·ç«¯çš„åº”ç”¨ä½“ç§¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ†å‘æ–¹å¼</strong></p>
<ul>
<li><strong>APK</strong>ï¼šå¯ç›´æ¥åˆ†äº«ã€ä¾§è½½åˆ°è®¾å¤‡ã€‚</li>
<li><strong>AAB</strong>ï¼šéœ€ä¸Šä¼ åˆ° <strong>Google Play</strong>ï¼Œç”±å•†åº—ç”Ÿæˆä¼˜åŒ– <strong>APK</strong> ååˆ†å‘ç»™ç”¨æˆ·ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç®¡ç†æ–¹å¼</strong></p>
<ul>
<li><strong>APK</strong>ï¼šå¼€å‘è€…éœ€æ‰‹åŠ¨ç®¡ç†èµ„æºå’Œé…ç½®ã€‚</li>
<li><strong>AAB</strong>ï¼šå°†é…ç½®ç®¡ç†äº¤ç”± <strong>Google Play</strong> è‡ªåŠ¨åŒ–å¤„ç†ã€‚</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·ä¸å…¼å®¹æ€§</strong></p>
<ul>
<li><strong>APK</strong>ï¼šæ”¯æŒæ‰€æœ‰ Android è®¾å¤‡å’Œåº”ç”¨å•†åº—ã€‚</li>
<li><strong>AAB</strong>ï¼šé»˜è®¤éœ€è¦ <strong>Google Play</strong> æˆ– <code>bundletool</code> ç”Ÿæˆå¯å®‰è£… <strong>APK</strong>ï¼Œä¸å…¼å®¹é <strong>Google</strong> åº”ç”¨å•†åº—ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-19">æ€»ç»“</h3>
<p><strong>APK</strong> æ˜¯ç‹¬ç«‹çš„å¯ç›´æ¥å®‰è£…åŒ…ï¼Œè€Œ <strong>AAB</strong> æ˜¯é¢å‘ç°ä»£åˆ†å‘çš„æ ¼å¼ï¼Œèƒ½ç”Ÿæˆé€‚é…è®¾å¤‡çš„ <strong>APK</strong>ã€‚å¼€å‘è€…ä½¿ç”¨ <strong>AAB</strong> å¯ä»¥è·å¾—æ›´å°çš„åº”ç”¨ä½“ç§¯å’Œè‡ªåŠ¨åŒ–çš„é…ç½®ç®¡ç†ï¼Œè€Œ <strong>APK</strong> ä»æ˜¯ä¾§è½½ï¼ˆç»•è¿‡å®˜æ–¹åº”ç”¨å•†åº—å®‰è£… Appï¼‰å’Œé <strong>Google Play</strong> åˆ†å‘çš„å¿…è¦é€‰æ‹©ã€‚ç†è§£ä¸¤è€…çš„å·®å¼‚ï¼Œèƒ½å¸®åŠ©å¼€å‘è€…æ ¹æ®åˆ†å‘ç­–ç•¥é€‰æ‹©åˆé€‚çš„æ ¼å¼ã€‚</p>
<h2 data-id="heading-20">R8 ä¼˜åŒ–</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb9874991e2244dd8595e5c60eb59b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768436859&amp;x-signature=cRwUBpar1jltd5BKE%2Fxa16OyCiA%3D" alt="33.png" loading="lazy"/></p>
<p><strong>R8</strong> æ˜¯ Android æ„å»ºæµç¨‹ä¸­ç”¨äºå‡å° <strong>APK/AAB</strong> ä½“ç§¯ã€æå‡è¿è¡Œæ€§èƒ½çš„ä»£ç å‹ç¼©ä¸ä¼˜åŒ–å·¥å…·ã€‚å®ƒå–ä»£äº†æ—§çš„ <strong>ProGuard</strong> å·¥å…·ï¼Œæ— ç¼é›†æˆåˆ° Android æ„å»ºç³»ç»Ÿä¸­ï¼Œæä¾›ä»£ç å‹ç¼©ã€ä¼˜åŒ–ã€æ··æ·†å’Œèµ„æºç®¡ç†ç­‰è¿›é˜¶åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-21">é¢è¯•é—®é¢˜</h3>
<p><strong>R8</strong> ä¼˜åŒ–å¦‚ä½•æå‡åº”ç”¨æ€§èƒ½å¹¶å‡å° <strong>APK/AAB</strong> ä½“ç§¯ï¼Ÿ</p>
<p><strong>R8</strong> ä¸ <strong>ProGuard</strong> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå®ƒå¸¦æ¥äº†å“ªäº›ä¼˜åŠ¿ï¼Ÿ</p>
<h3 data-id="heading-22">R8 çš„å·¥ä½œåŸç†</h3>
<p><strong>R8</strong> åœ¨æ„å»ºé˜¶æ®µå¤„ç†åº”ç”¨ä»£ç ï¼Œå®ç°ä»¥ä¸‹ç›®æ ‡ï¼š</p>
<ul>
<li><strong>ä»£ç å‹ç¼©</strong>ï¼šç§»é™¤ä»£ç åº“ä¸­æœªä½¿ç”¨çš„ç±»ã€æ–¹æ³•ã€å­—æ®µå’Œå±æ€§ï¼Œå‡å°æœ€ç»ˆ <strong>APK/AAB</strong> çš„ä½“ç§¯ã€‚</li>
<li><strong>ä»£ç ä¼˜åŒ–</strong>ï¼šç®€åŒ–å’Œé‡æ„ä»£ç ä»¥æå‡è¿è¡Œæ€§èƒ½ï¼ŒåŒ…æ‹¬å†…è”æ–¹æ³•ã€ç§»é™¤å†—ä½™ä»£ç ã€åˆå¹¶é‡å¤ä»£ç å—ç­‰ã€‚</li>
<li><strong>ä»£ç æ··æ·†</strong>ï¼šé‡å‘½åç±»ã€æ–¹æ³•å’Œå­—æ®µçš„åç§°ï¼Œå¢åŠ é€†å‘å·¥ç¨‹çš„éš¾åº¦ã€‚</li>
<li><strong>èµ„æºä¼˜åŒ–</strong>ï¼šç§»é™¤æœªä½¿ç”¨çš„èµ„æºï¼ˆå¦‚å¸ƒå±€ã€<code>Drawable</code>ã€å­—ç¬¦ä¸²ï¼‰ï¼Œè¿›ä¸€æ­¥å‡å°åº”ç”¨ä½“ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-23">R8 ä¼˜åŒ–çš„æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>æ— ç”¨ä»£ç ç§»é™¤</strong>ï¼šåˆ†æä»£ç åº“ï¼Œè¯†åˆ«å¹¶åˆ é™¤åº”ç”¨æ— æ³•è®¿é—®æˆ–æœªä½¿ç”¨çš„ä»£ç ã€‚</li>
<li><strong>æ–¹æ³•å†…è”</strong>ï¼šå°†çŸ­æ–¹æ³•ç›´æ¥å†…è”åˆ°è°ƒç”¨å¤„ï¼Œå‡å°‘æ–¹æ³•è°ƒç”¨å¼€é”€ï¼Œæå‡è¿è¡Œæ€§èƒ½ã€‚</li>
<li><strong>ç±»åˆå¹¶</strong>ï¼šå°†ç›¸ä¼¼çš„ç±»æˆ–æ¥å£åˆå¹¶ï¼Œå‡å°å†…å­˜å ç”¨å¹¶æå‡æ•ˆç‡ã€‚</li>
<li><strong>ä¸å¯è¾¾ä»£ç æ¶ˆé™¤</strong>ï¼šå®Œå…¨ç§»é™¤æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç è·¯å¾„ã€‚</li>
<li><strong>å¸¸é‡æŠ˜å ä¸ä¼ æ’­</strong>ï¼šç®€åŒ–è¡¨è¾¾å¼ï¼Œå°†å˜é‡æ›¿æ¢ä¸ºå…¶å¸¸é‡å€¼ã€‚</li>
<li><strong>ä»£ç æ··æ·†</strong>ï¼šç”¨æ›´çŸ­ã€æ— æ„ä¹‰çš„åç§°æ›¿æ¢ä»£ç ä¸­çš„æœ‰æ„ä¹‰å‘½åï¼Œæ—¢å‡å°ä½“ç§¯åˆæå‡é€†å‘éš¾åº¦ã€‚</li>
</ul>
<h3 data-id="heading-24">R8 çš„é…ç½®</h3>
<p><strong>R8</strong> ä½¿ç”¨ <strong>ProGuard</strong> è§„åˆ™è¿›è¡Œé…ç½®ï¼Œä½ å¯ä»¥æŒ‡å®šå“ªäº›ä»£ç éœ€è¦æ’é™¤åœ¨å‹ç¼©ã€æ··æ·†æˆ–ä¼˜åŒ–ä¹‹å¤–ã€‚å¸¸è§åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¿ç•™åå°„ç”¨ä»£ç </strong>ï¼šé€šè¿‡åå°„è®¿é—®çš„ç±»æˆ–æ–¹æ³•ï¼Œå¿…é¡»åœ¨ <strong>ProGuard</strong> è§„åˆ™ä¸­æ˜¾å¼ä¿ç•™ã€‚</li>
<li><strong>æ’é™¤ç¬¬ä¸‰æ–¹åº“</strong>ï¼šéƒ¨åˆ†åº“å¯èƒ½éœ€è¦ç‰¹å®šè§„åˆ™æ‰èƒ½é¿å…åŠŸèƒ½å¼‚å¸¸ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šä¿ç•™æŸä¸ªç±»çš„ <strong>ProGuard</strong> è§„åˆ™</p>
<pre><code class="hljs language-kotlin" lang="kotlin">-keep <span class="hljs-keyword">class</span> <span class="hljs-title class_">com</span>.<span class="hljs-title">example</span>.<span class="hljs-title">myapp</span>.<span class="hljs-title">MyClass</span> { *; }
</code></pre>
<h3 data-id="heading-25">R8 çš„ä¼˜åŠ¿</h3>
<ul>
<li><strong>æ·±åº¦é›†æˆ</strong>ï¼šå†…ç½®åˆ° Android æ„å»ºç³»ç»Ÿä¸­ï¼Œåªéœ€é…ç½® <strong>ProGuard</strong> è§„åˆ™ï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚</li>
<li><strong>æ›´é«˜æ•ˆç‡</strong>ï¼šå°†å‹ç¼©ã€ä¼˜åŒ–ã€æ··æ·†åˆå¹¶ä¸ºå•æ¬¡å¤„ç†ï¼Œæ¯” <strong>ProGuard</strong> æ›´å¿«æ›´é«˜æ•ˆã€‚</li>
<li><strong>å‡å°åº”ç”¨ä½“ç§¯</strong>ï¼šç§»é™¤æœªä½¿ç”¨çš„ä»£ç å’Œèµ„æºï¼Œæ˜¾è‘—é™ä½æœ€ç»ˆ <strong>APK/AAB</strong> çš„å¤§å°ã€‚</li>
<li><strong>å¢å¼ºå®‰å…¨æ€§</strong>ï¼šæ··æ·†åŠŸèƒ½å¢åŠ äº†æ”»å‡»è€…é€†å‘å·¥ç¨‹çš„éš¾åº¦ï¼Œä¿æŠ¤çŸ¥è¯†äº§æƒã€‚</li>
</ul>
<h3 data-id="heading-26">R8 çš„å±€é™æ€§</h3>
<ul>
<li><strong>è¿‡åº¦å‹ç¼©é£é™©</strong>ï¼šè‹¥é…ç½®ä¸å½“ï¼Œ<strong>R8</strong> å¯èƒ½ç§»é™¤é—´æ¥å¼•ç”¨çš„ä»£ç æˆ–èµ„æºï¼Œå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</li>
<li><strong>é…ç½®å¤æ‚åº¦</strong>ï¼šå¯¹äºä½¿ç”¨åå°„æˆ–åŠ¨æ€ç±»åŠ è½½çš„å¤æ‚é¡¹ç›®ï¼Œç¼–å†™ <strong>ProGuard</strong> è§„åˆ™ä¼šæ¯”è¾ƒæœ‰æŒ‘æˆ˜ã€‚</li>
<li><strong>è°ƒè¯•éš¾åº¦æå‡</strong>ï¼šæ··æ·†ä¼šè®©å †æ ˆè·Ÿè¸ªåŒ…å«æ— æ„ä¹‰çš„åç§°ï¼Œå¢åŠ è°ƒè¯•éš¾åº¦ã€‚</li>
</ul>
<h3 data-id="heading-27">æ€»ç»“</h3>
<p><strong>R8</strong> æ˜¯ç°ä»£ Android å¼€å‘ä¸­å¿…ä¸å¯å°‘çš„å·¥å…·ï¼Œæä¾›äº†å…¨é¢çš„ä»£ç å‹ç¼©ã€ä¼˜åŒ–å’Œæ··æ·†èƒ½åŠ›ã€‚å®ƒé€šè¿‡å‡å°åº”ç”¨ä½“ç§¯ã€æå‡è¿è¡Œæ€§èƒ½ã€å¢å¼ºå®‰å…¨æ€§ï¼Œå¸®åŠ©å¼€å‘è€…äº¤ä»˜é«˜æ•ˆç´§å‡‘çš„åº”ç”¨ã€‚æ­£ç¡®é…ç½® <strong>ProGuard</strong> è§„åˆ™æ˜¯å…³é”®ï¼Œèƒ½é¿å…å¿…è¦ä»£ç è¢«è¯¯åˆ ï¼Œä¿è¯åŠŸèƒ½æ­£å¸¸ã€‚</p>
<h2 data-id="heading-28">å‡å°åº”ç”¨ä½“ç§¯</h2>
<p>ä¼˜åŒ– Android åº”ç”¨ä½“ç§¯å¯¹æå‡ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯å¯¹äºå­˜å‚¨æœ‰é™æˆ–ç½‘ç»œè¾ƒæ…¢çš„ç”¨æˆ·ã€‚å¯ä»¥é€šè¿‡å¤šç§ç­–ç•¥åœ¨ä¸å½±å“åŠŸèƒ½çš„å‰æä¸‹å‡å°åº”ç”¨ä½“ç§¯ã€‚</p>
<h3 data-id="heading-29">é¢è¯•é—®é¢˜</h3>
<p>ä½ çš„åº”ç”¨åŒ…å«é«˜æ¸…å›¾ç‰‡ï¼Œå¯¼è‡´ <strong>APK/AAB</strong> ä½“ç§¯å¤§å¹…å¢åŠ ã€‚å¦‚ä½•åœ¨ä¿è¯ç”»è´¨çš„å‰æä¸‹ä¼˜åŒ–å›¾ç‰‡èµ„æºï¼Ÿåº”è¯¥ç”¨ä»€ä¹ˆæ ¼å¼å®ç°æœ€é«˜æ•ˆçš„å‹ç¼©ï¼Ÿ</p>
<p>ä½ çš„åº”ç”¨åŒ…å«å¤šä¸ªåŠŸèƒ½ï¼Œä½†å¤§éƒ¨åˆ†ç”¨æˆ·å¾ˆå°‘ä½¿ç”¨å…¶ä¸­ä¸€äº›ã€‚å¦‚ä½•å®ç°æ–¹æ¡ˆæ¥å‡å°åˆå§‹å®‰è£…åŒ…ä½“ç§¯ï¼ŒåŒæ—¶è®©è¿™äº›åŠŸèƒ½åœ¨éœ€è¦æ—¶å¯ç”¨ï¼Ÿ</p>
<h3 data-id="heading-30">ç§»é™¤æœªä½¿ç”¨çš„èµ„æº</h3>
<p>æœªä½¿ç”¨çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€å¸ƒå±€ã€å­—ç¬¦ä¸²ï¼‰ä¼šä¸å¿…è¦åœ°å¢å¤§ <strong>APK/AAB</strong> ä½“ç§¯ã€‚Android Studio çš„ <strong>Lint</strong> å·¥å…·å¯ä»¥å¸®ä½ è¯†åˆ«è¿™äº›èµ„æºã€‚ç§»é™¤åï¼Œåœ¨ <code>build.gradle</code> ä¸­å¼€å¯ <code>shrinkResources</code>ï¼Œè®©æ„å»ºæµç¨‹è‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨èµ„æºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    buildTypes {
        release {
            minifyEnabled <span class="hljs-literal">true</span>
            shrinkResources <span class="hljs-literal">true</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-31">å¯ç”¨ R8 ä»£ç å‹ç¼©</h3>
<p><strong>R8</strong> æ˜¯ Android é»˜è®¤çš„ä»£ç å‹ç¼©ä¸ä¼˜åŒ–å·¥å…·ï¼Œä¼šç§»é™¤æœªä½¿ç”¨çš„ç±»å’Œæ–¹æ³•ï¼ŒåŒæ—¶æ··æ·†ä»£ç ä»¥å‡å°ä½“ç§¯ã€‚æ­£ç¡®é…ç½® <strong>ProGuard</strong> è§„åˆ™å¯ä»¥é¿å…å…³é”®ä»£ç æˆ–åå°„ç±»åº“è¢«è¯¯åˆ ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    buildTypes {
        release {
            minifyEnabled <span class="hljs-literal">true</span>
            proguardFiles getDefaultProguardFile(<span class="hljs-string">'proguard-android-optimize.txt'</span>), <span class="hljs-string">'proguard-rules.pro'</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-32">ä¼˜åŒ–èµ„æº</h3>
<p>ä¼˜åŒ–å›¾ç‰‡ã€XML ç­‰èµ„æºå¯ä»¥æ˜¾è‘—å‡å°åº”ç”¨ä½“ç§¯ï¼š</p>
<ul>
<li><strong>çŸ¢é‡å›¾ï¼ˆVector Drawablesï¼‰</strong>ï¼šç”¨çŸ¢é‡å›¾æ›¿ä»£ <strong>PNG</strong>ã€<strong>JPEG</strong> ç­‰ä½å›¾ï¼Œæ—¢èƒ½ç¼©æ”¾åˆèƒ½èŠ‚çœç©ºé—´ã€‚</li>
<li><strong>å›¾ç‰‡å‹ç¼©</strong>ï¼šä½¿ç”¨ <strong>TinyPNG</strong> æˆ– <strong>ImageMagick</strong> ç­‰å·¥å…·å‹ç¼©ä½å›¾ï¼Œåœ¨ç”»è´¨æ— æ˜æ˜¾æŸå¤±çš„å‰æä¸‹å‡å°ä½“ç§¯ã€‚</li>
<li><strong>WebP æ ¼å¼</strong>ï¼šå°†å›¾ç‰‡è½¬ä¸º <strong>WebP</strong> æ ¼å¼ï¼Œå®ƒæ¯” <strong>PNG</strong> æˆ– <strong>JPEG</strong> çš„å‹ç¼©ç‡æ›´é«˜ã€‚</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼ˆå¯ç”¨çŸ¢é‡å›¾æ”¯æŒï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    defaultConfig {
        vectorDrawables.useSupportLibrary = <span class="hljs-literal">true</span>
    }
}
</code></pre>
<h3 data-id="heading-33">ä½¿ç”¨ AAB</h3>
<p>åˆ‡æ¢åˆ° <strong>AAB</strong> æ ¼å¼åï¼Œ<strong>Google Play</strong> ä¼šç”Ÿæˆé€‚é…ç›®æ ‡è®¾å¤‡çš„ä¼˜åŒ– <strong>APK</strong>ï¼ŒåªåŒ…å«å¯¹åº”è®¾å¤‡æ‰€éœ€çš„èµ„æºå’Œä»£ç ï¼ˆå¦‚ç‰¹å®šå±å¹•å¯†åº¦ã€CPU æ¶æ„ã€è¯­è¨€ï¼‰ï¼Œä»è€Œå‡å°åº”ç”¨ä½“ç§¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    bundle {
        density {
            enableSplit <span class="hljs-literal">true</span>
        }
        abi {
            enableSplit <span class="hljs-literal">true</span>
        }
        language {
            enableSplit <span class="hljs-literal">true</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-34">ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–</h3>
<p>æ£€æŸ¥é¡¹ç›®ä¾èµ–ï¼Œç§»é™¤æœªä½¿ç”¨æˆ–å†—ä½™çš„åº“ã€‚å¯ä»¥ç”¨ Android Studio çš„ <strong>Gradle Dependency Analyzer</strong> è¯†åˆ«ä½“ç§¯è¾ƒå¤§çš„åº“å’Œä¼ é€’ä¾èµ–ã€‚</p>
<h3 data-id="heading-35">ä¼˜åŒ–åŸç”Ÿåº“</h3>
<p>è‹¥åº”ç”¨åŒ…å«åŸç”Ÿåº“ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ç­–ç•¥å‡å°å…¶å½±å“ï¼š</p>
<ul>
<li><strong>æ’é™¤æœªä½¿ç”¨çš„æ¶æ„</strong>ï¼šåœ¨ <code>build.gradle</code> ä¸­ç”¨ <code>abiFilters</code> åªä¿ç•™æ‰€éœ€çš„ <strong>ABI</strong>ã€‚</li>
<li><strong>å‰¥ç¦»è°ƒè¯•ç¬¦å·</strong>ï¼šç”¨ <code>stripDebugSymbols</code> ç§»é™¤åŸç”Ÿåº“ä¸­çš„è°ƒè¯•ç¬¦å·ã€‚</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">android {
    defaultConfig {
        ndk {
            abiFilters <span class="hljs-string">"armeabi-v7a"</span>, <span class="hljs-string">"arm64-v8a"</span> <span class="hljs-comment">// åªä¿ç•™éœ€è¦çš„ ABI</span>
        }
    }
    packagingOptions {
        exclude <span class="hljs-string">"**/lib/**/*.so.debug"</span>
    }
}
</code></pre>
<h3 data-id="heading-36">é€šè¿‡ ProGuard è§„åˆ™å‡å°‘è°ƒè¯•ä¿¡æ¯</h3>
<p>è°ƒè¯•å…ƒæ•°æ®ä¼šå¢å¤§ <strong>APK/AAB</strong> ä½“ç§¯ï¼Œå¯ä»¥åœ¨ <code>proguard-rules.pro</code> ä¸­é…ç½®ç§»é™¤è¿™äº›ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">-dontwarn com.example.usedlibrary.**</span>
<span class="hljs-deletion">-keep class com.example.important.** { *; }</span>
</code></pre>
<h3 data-id="heading-37">ä½¿ç”¨åŠ¨æ€åŠŸèƒ½æ¨¡å—</h3>
<p>åŠ¨æ€åŠŸèƒ½æ¨¡å—å¯ä»¥å°†ä¸å¸¸ç”¨çš„åŠŸèƒ½æ‹†åˆ†ä¸ºæŒ‰éœ€åŠ è½½çš„æ¨¡å—ï¼Œå‡å°åˆå§‹ä¸‹è½½åŒ…çš„ä½“ç§¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dynamicFeatures = [<span class="hljs-string">":feature1"</span>, <span class="hljs-string">":feature2"</span>]
</code></pre>
<h3 data-id="heading-38">é¿å…åº”ç”¨å†…åŒ…å«å¤§å‹èµ„æº</h3>
<ul>
<li>å°†è§†é¢‘ã€é«˜æ¸…å›¾ç‰‡ç­‰å¤§å‹èµ„æºæ‰˜ç®¡åˆ° <strong>CDN</strong>ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ã€‚</li>
<li>åª’ä½“å†…å®¹ä½¿ç”¨æµå¼ä¼ è¾“ï¼Œè€Œéæ‰“åŒ…åˆ°åº”ç”¨ä¸­ã€‚</li>
</ul>
<h3 data-id="heading-39">æ€»ç»“</h3>
<p>å‡å° Android åº”ç”¨ä½“ç§¯éœ€è¦ç»“åˆå¤šç§ç­–ç•¥ï¼šç§»é™¤æœªä½¿ç”¨èµ„æºã€å¯ç”¨ <strong>AAB</strong> ä»£ç å‹ç¼©ã€ä¼˜åŒ–èµ„æºã€ä½¿ç”¨ <strong>AAB</strong> æ ¼å¼ç­‰ã€‚æ­¤å¤–ï¼Œæ£€æŸ¥ä¾èµ–ã€ä¼˜åŒ–åŸç”Ÿåº“ã€æ¨¡å—åŒ–åŠŸèƒ½ä¹Ÿèƒ½è¿›ä¸€æ­¥å‡å°ä½“ç§¯ã€‚è¿™äº›å®è·µèƒ½è®©åº”ç”¨æ›´è½»é‡åŒ–ã€æ€§èƒ½æ›´å¥½ï¼ŒåŒæ—¶æä¾›å‡ºè‰²çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-40">è¿›ç¨‹</h2>
<p>åœ¨ Android ä¸­ï¼Œè¿›ç¨‹æ˜¯åº”ç”¨ç»„ä»¶çš„è¿è¡Œç¯å¢ƒã€‚æ¯ä¸ª Android åº”ç”¨éƒ½åœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­ä»¥å•çº¿ç¨‹è¿è¡Œï¼Œä¸å…¶ä»–åº”ç”¨éš”ç¦»ï¼Œä»¥æ­¤ä¿è¯ç³»ç»Ÿå®‰å…¨ã€å†…å­˜ç®¡ç†å’Œå®¹é”™æ€§ã€‚Android è¿›ç¨‹ç”± Linux å†…æ ¸ç®¡ç†ï¼Œéµå¾ªä¸¥æ ¼çš„ç”Ÿå‘½å‘¨æœŸè§„åˆ™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒä¸€åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆå³ä¸»çº¿ç¨‹ï¼‰ä¸­ã€‚</p>
<h3 data-id="heading-41">é¢è¯•é—®é¢˜</h3>
<p>ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåº”ç”¨ï¼Œå…¶ä¸­ä¸åŒçš„ Android ç»„ä»¶éœ€è¦è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­ã€‚å¦‚ä½•åœ¨ <code>AndroidManifest</code> ä¸­é…ç½®ï¼Ÿä½¿ç”¨å¤šè¿›ç¨‹æœ‰å“ªäº›æ½œåœ¨å¼Šç«¯ï¼Ÿ</p>
<p>Android ç³»ç»Ÿåœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œä¼šé€šè¿‡åŸºäºä¼˜å…ˆçº§çš„è¿›ç¨‹ç®¡ç†ç³»ç»Ÿå†³å®šæ€æ­»å“ªäº›è¿›ç¨‹ã€‚è¯·è§£é‡Šç³»ç»Ÿå¦‚ä½•ç»™è¿›ç¨‹æ’åºä¼˜å…ˆçº§ï¼Ÿå¼€å‘è€…åº”è¯¥éµå¾ªå“ªäº›ç­–ç•¥é˜²æ­¢é‡è¦è¿›ç¨‹è¢«ç»ˆæ­¢ï¼Ÿ</p>
<h3 data-id="heading-42">å·¥ä½œåŸç†</h3>
<p>å½“å¯åŠ¨ä¸€ä¸ª Android åº”ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šé€šè¿‡ Linux çš„ <code>fork()</code> ç³»ç»Ÿè°ƒç”¨ä¸ºå…¶åˆ›å»ºæ–°è¿›ç¨‹ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ <strong>Dalvik</strong> æˆ– <strong>ART</strong> è™šæ‹Ÿæœºçš„ç‹¬ç«‹å®ä¾‹ï¼Œæ”¯æŒä»£ç çš„å®‰å…¨ç‹¬ç«‹æ‰§è¡Œã€‚Android ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…å”¯ä¸€çš„ Linux ç”¨æˆ· IDï¼ˆUIDï¼‰ï¼Œä»¥æ­¤å®ç°ä¸¥æ ¼çš„å®‰å…¨è¾¹ç•Œï¼ŒåŒ…æ‹¬æƒé™æ§åˆ¶å’Œæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ã€‚</p>
<h3 data-id="heading-43">åº”ç”¨ç»„ä»¶ä¸è¿›ç¨‹çš„å…³è”</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒä¸€åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¤§å¤šæ•°åº”ç”¨éƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ã€‚ä¸è¿‡å¼€å‘è€…å¯ä»¥åœ¨ <code>AndroidManifest.xml</code> ä¸­é€šè¿‡ <code>android:process</code> å±æ€§è‡ªå®šä¹‰è¿›ç¨‹åˆ†é…ï¼Œè¯¥å±æ€§å¯ç”¨äº <code>&lt;activity&gt;</code>ã€<code>&lt;service&gt;</code>ã€<code>&lt;receiver&gt;</code>ã€<code>&lt;provider&gt;</code> ç­‰ç»„ä»¶ï¼Œè®©ç»„ä»¶è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹æˆ–é€‰æ‹©æ€§å…±äº«è¿›ç¨‹ã€‚</p>
<p><code>&lt;application&gt;</code> å…ƒç´ ä¹Ÿæ”¯æŒè¯¥å±æ€§ï¼Œç”¨äºå®šä¹‰æ‰€æœ‰ç»„ä»¶çš„é»˜è®¤è¿›ç¨‹ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">service</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MyService"</span>
    <span class="hljs-attr">android:process</span>=<span class="hljs-string">":remote"</span> /&gt;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒæœåŠ¡ <code>MyService</code> è¿è¡Œåœ¨åä¸º <code>:remote</code> çš„ç‹¬ç«‹è¿›ç¨‹ä¸­ï¼Œå®ç°äº†ç‹¬ç«‹è¿è¡Œå’Œæ›´é«˜çš„å®¹é”™æ€§ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸åŒåº”ç”¨çš„ç»„ä»¶å¦‚æœæ‹¥æœ‰ç›¸åŒçš„ Linux ç”¨æˆ· ID ä¸”ç­¾åä¸€è‡´ï¼Œå¯ä»¥å…±äº«åŒä¸€ä¸ªè¿›ç¨‹ã€‚Android ä¼šæ ¹æ®ç³»ç»Ÿèµ„æºéœ€æ±‚åŠ¨æ€ç®¡ç†è¿›ç¨‹ï¼šå½“å†…å­˜ä¸è¶³æ—¶ï¼Œä¼šç»ˆæ­¢ä¼˜å…ˆçº§è¾ƒä½çš„è¿›ç¨‹ï¼›è€Œå½“å…³è”ç»„ä»¶éœ€è¦å·¥ä½œæ—¶ï¼Œç³»ç»Ÿä¼šé‡å¯è¿›ç¨‹ï¼Œä»¥æ­¤ä¿è¯ç³»ç»Ÿæ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„æœ€ä¼˜ã€‚</p>
<h3 data-id="heading-44">è¿›ç¨‹ä¸åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</h3>
<p>Android ä¼šæ ¹æ®ç³»ç»Ÿå†…å­˜å’Œåº”ç”¨å½“å‰çŠ¶æ€ï¼ŒæŒ‰ç…§ä¸¥æ ¼çš„ä¼˜å…ˆçº§å±‚çº§ç®¡ç†è¿›ç¨‹å’Œåº”ç”¨ç”Ÿå‘½å‘¨æœŸï¼š</p>
<ol>
<li><strong>å‰å°è¿›ç¨‹</strong>ï¼šæ­£åœ¨ä¸ç”¨æˆ·äº¤äº’çš„è¿›ç¨‹ï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼Œå‡ ä¹ä¸ä¼šè¢«æ€æ­»ã€‚</li>
<li><strong>å¯è§è¿›ç¨‹</strong>ï¼šå¯¹ç”¨æˆ·å¯è§ä½†æœªäº¤äº’çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚å¯¹è¯æ¡†åçš„ <code>Activity</code>ï¼‰ã€‚</li>
<li><strong>æœåŠ¡è¿›ç¨‹</strong>ï¼šè¿è¡Œåå°æœåŠ¡çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚åŒæ­¥æ•°æ®ã€æ’­æ”¾éŸ³ä¹ï¼‰ã€‚</li>
<li><strong>ç¼“å­˜è¿›ç¨‹</strong>ï¼šé—²ç½®çš„è¿›ç¨‹ï¼Œä¿ç•™åœ¨å†…å­˜ä¸­ä»¥ä¾¿å¿«é€Ÿé‡å¯ï¼Œä¼˜å…ˆçº§æœ€ä½ï¼Œå†…å­˜ä¸è¶³æ—¶ä¼šè¢«ä¼˜å…ˆæ€æ­»ã€‚</li>
</ol>
<p>Android ç³»ç»Ÿä¼šè‡ªåŠ¨ç»ˆæ­¢ä½ä¼˜å…ˆçº§è¿›ç¨‹ä»¥é‡Šæ”¾å†…å­˜ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šã€‚</p>
<h3 data-id="heading-45">å®‰å…¨ä¸æƒé™</h3>
<p>æ¯ä¸ª Android è¿›ç¨‹éƒ½é€šè¿‡ Linux å®‰å…¨æ¨¡å‹å®ç°æ²™ç›’éš”ç¦»ï¼Œå¼ºåˆ¶åŸºäºæƒé™çš„è®¿é—®æ§åˆ¶ã€‚è¿™ç§éš”ç¦»ç¡®ä¿åº”ç”¨æ— æ³•è®¿é—®å…¶ä»–è¿›ç¨‹çš„æ•°æ®ï¼Œé™¤éé€šè¿‡ Android æƒé™ç³»ç»Ÿæ˜¾å¼æˆäºˆæƒé™ã€‚è¿™ä¸ªå®‰å…¨æ¨¡å‹æ˜¯ Android å¤šä»»åŠ¡ç¯å¢ƒçš„åŸºç¡€ï¼ŒåŒæ—¶ä¿éšœäº†ç³»ç»Ÿç¨³å®šæ€§å’Œæ•°æ®éšç§ã€‚</p>
<h3 data-id="heading-46">æ€»ç»“</h3>
<p>Android ä¸­çš„è¿›ç¨‹æ˜¯åº”ç”¨ç»„ä»¶çš„è¿è¡Œç¯å¢ƒï¼Œä¿è¯äº†éš”ç¦»ã€å®‰å…¨ã€é«˜æ•ˆçš„è¿è¡Œã€‚è¿›ç¨‹ç”±ç³»ç»Ÿåˆ›å»ºã€è°ƒåº¦å’Œç»ˆæ­¢ï¼Œä¾æ®å†…å­˜çº¦æŸã€ç”¨æˆ·æ´»åŠ¨å’Œåº”ç”¨ä¼˜å…ˆçº§ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡æ¸…å•æ–‡ä»¶çš„é…ç½®å’Œæƒé™ç®¡ç†ï¼Œè¿›ä¸€æ­¥æ§åˆ¶è¿›ç¨‹è¡Œä¸ºï¼Œå®ç°å¥å£®ã€å¯æ‰©å±•çš„åº”ç”¨å¼€å‘ã€‚</p>
<h3 data-id="heading-47">è¿›é˜¶ï¼šä½•ä¸º Android çš„å››å¤§ç»„ä»¶</h3>
<p><code>Activity</code>ã€<code>Service</code>ã€å¹¿æ’­ã€<code>ContentProvider</code> è¢«ç§°ä¸º Android å››å¤§ç»„ä»¶ï¼Œæ˜¯å› ä¸ºå®ƒä»¬æ˜¯åº”ç”¨ä¸ç³»ç»Ÿã€å…¶ä»–åº”ç”¨äº¤äº’çš„æ ¸å¿ƒæ„å»ºå—ã€‚è¿™äº›ç»„ä»¶ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€å®šä¹‰åº”ç”¨è¡Œä¸ºã€å®ç°è¿›ç¨‹é—´é€šä¿¡ï¼Œä¸ Android çš„è¿›ç¨‹å’Œåº”ç”¨ç”Ÿå‘½å‘¨æœŸæ¨¡å‹ç´§å¯†å…³è”ã€‚</p>
<h3 data-id="heading-48">å„ç»„ä»¶ä¸ Android è¿›ç¨‹çš„å…³è”</h3>
<ol>
<li><strong>Activity</strong>ï¼šä»£è¡¨ä¸€ä¸ªå¸¦ç•Œé¢çš„å±å¹•ï¼Œæ˜¯ç”¨æˆ·äº¤äº’çš„å…¥å£ï¼Œä¸ Android è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸé«˜åº¦ç»‘å®šã€‚å½“ç”¨æˆ·æ‰“å¼€åº”ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šå¯åŠ¨ <code>Activity</code> å¹¶åˆ›å»ºå¯¹åº”çš„è¿›ç¨‹ï¼›å¦‚æœè¿›ç¨‹è¢«æ€æ­»ï¼Œ<code>Activity</code> ä¹Ÿä¼šé”€æ¯ï¼Œé‡å¯åº”ç”¨ä¼šåˆ›å»ºæ–°è¿›ç¨‹ã€‚</li>
<li><strong>Service</strong>ï¼šåœ¨æ— ç•Œé¢çš„æƒ…å†µä¸‹æ‰§è¡Œåå°æ“ä½œï¼Œå³ä½¿åº”ç”¨ä¸å¯è§ä¹Ÿèƒ½è¿è¡Œï¼ˆæ¯”å¦‚æ’­æ”¾éŸ³ä¹ã€ä¸‹è½½æ–‡ä»¶ï¼‰ã€‚<code>Service</code> å¯ä»¥è¿è¡Œåœ¨åº”ç”¨çš„é»˜è®¤è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¸…å•ä¸­çš„ <code>android:process</code> å±æ€§æŒ‡å®šç‹¬ç«‹è¿›ç¨‹ã€‚</li>
<li><strong>å¹¿æ’­</strong>ï¼šè®©åº”ç”¨æ¥æ”¶å¹¶å“åº”ç³»ç»Ÿçº§å¹¿æ’­æ¶ˆæ¯ï¼ˆæ¯”å¦‚ç½‘ç»œå˜åŒ–ã€ç”µæ± çŠ¶æ€æ›´æ–°ï¼‰ã€‚å³ä½¿åº”ç”¨æœªè¿è¡Œï¼Œå¹¿æ’­è§¦å‘æ—¶ç³»ç»Ÿä¹Ÿä¼šå¯åŠ¨å¯¹åº”çš„è¿›ç¨‹ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚</li>
<li><strong>ContentProvider</strong>ï¼šç®¡ç†åº”ç”¨çš„å…±äº«æ•°æ®ï¼Œæä¾›å¯¹é›†ä¸­å¼æ•°æ®åº“çš„è¯»å†™èƒ½åŠ›ï¼Œæ”¯æŒè¿›ç¨‹é—´é€šä¿¡â€”â€”è¿™æ„å‘³ç€å®ƒå¯ä»¥è·¨åº”ç”¨å…±äº«æ•°æ®ï¼Œéœ€è¦ç³»ç»Ÿå®‰å…¨é«˜æ•ˆåœ°ç®¡ç†è¿›ç¨‹ã€‚</li>
</ol>
<h3 data-id="heading-49">ä¸ Android è¿›ç¨‹çš„å…³è”</h3>
<p>è¿™äº›ç»„ä»¶ä¸ Android è¿›ç¨‹ç»‘å®šï¼Œå› ä¸ºç³»ç»Ÿä¼šæ ¹æ®åº”ç”¨ä½¿ç”¨æƒ…å†µã€å†…å­˜å¯ç”¨æ€§å’Œä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†è¿›ç¨‹ã€‚å½“ç»„ä»¶è¢«è§¦å‘ï¼ˆæ¯”å¦‚æ‰“å¼€ <code>Activity</code>ã€æ¥æ”¶å¹¿æ’­ï¼‰æ—¶ï¼Œå¦‚æœè¿›ç¨‹æœªè¿è¡Œï¼ŒAndroid ä¼šå¯åŠ¨å¯¹åº”çš„è¿›ç¨‹ã€‚æ¯ä¸ªç»„ä»¶ä¹Ÿå¯ä»¥é€šè¿‡æ¸…å•ä¸­çš„ <code>android:process</code> å±æ€§åˆ†é…ç‹¬ç«‹è¿›ç¨‹ï¼Œä¸ºèµ„æºå¯†é›†å‹ä»»åŠ¡æä¾›æ›´å¤§çš„çµæ´»æ€§ã€‚</p>
<p>è¿™æ„å‘³ç€å››å¤§ç»„ä»¶éƒ½å¯ä»¥åœ¨ Android ç³»ç»Ÿä¸­æ‹¥æœ‰ä¸“å±è¿›ç¨‹ã€‚ç”±äºè¿™äº›ç»„ä»¶å¯ä»¥é…ç½®ä¸ºè¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­ï¼Œå®ƒä»¬è·å¾—äº†ç³»ç»Ÿçº§èƒ½åŠ›ï¼Œæ¯”å…¶ä»–ç»„ä»¶æ›´å¼ºå¤§ã€æ›´ç‹¬ç«‹ã€‚è¿™ç§è®¾è®¡æ”¯æŒåå°æ‰§è¡Œã€è¿›ç¨‹é—´é€šä¿¡å’Œç³»ç»Ÿçº§äº¤äº’ï¼Œè®© Android åº”ç”¨èƒ½é«˜æ•ˆå¤„ç†å¤æ‚çš„å¤šè¿›ç¨‹ä»»åŠ¡ã€‚</p>
<p>æ€»çš„æ¥è¯´ã€‚</p>
<p><code>Activity</code>ã€<code>Service</code>ã€å¹¿æ’­ã€<code>ContentProvider</code> æ˜¯ Android çš„æ ¸å¿ƒç»„ä»¶ï¼Œå› ä¸ºå®ƒä»¬å®ç°äº†åº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ã€ç”¨æˆ·äº¤äº’å’Œåº”ç”¨é—´é€šä¿¡ã€‚å®ƒä»¬ä¸ Android è¿›ç¨‹æ¨¡å‹çš„ç´§å¯†å…³è”ï¼Œä¿è¯äº†é«˜æ•ˆçš„è¿›ç¨‹ç®¡ç†ã€æœ€ä¼˜çš„èµ„æºåˆ©ç”¨å’Œç³»ç»Ÿçº§ä»»åŠ¡åè°ƒï¼Œæ˜¯ Android åº”ç”¨å¼€å‘çš„åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°ˆè°ˆæˆ‘å¯¹ Claude Code ä¹‹çˆ¶13æ¡æŠ€å·§çš„ç†è§£]]></title>    <link>https://juejin.cn/post/7592452108797952043</link>    <guid>https://juejin.cn/post/7592452108797952043</guid>    <pubDate>2026-01-08T01:02:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592452108797952043" data-draft-id="7592451588847960083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°ˆè°ˆæˆ‘å¯¹ Claude Code ä¹‹çˆ¶13æ¡æŠ€å·§çš„ç†è§£"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-08T01:02:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°ˆè°ˆæˆ‘å¯¹ Claude Code ä¹‹çˆ¶13æ¡æŠ€å·§çš„ç†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T01:02:17.000Z" title="Thu Jan 08 2026 01:02:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…ƒæ—¦å‡æœŸåˆšè¿‡å°±çœ‹åˆ°äº† <code>Claude Code</code> ä½œè€…å‘å¸ƒçš„ 13 æ¡æŠ€å·§ï¼Œä½†æ˜¯æœ€è¿‘å®åœ¨å¤ªå¿™ï¼Œæ²¡æ¥å¾—åŠä»”ç»†å­¦ä¹ ã€‚</p>
<p>æ˜¨å¤©å’Œæœ‹å‹èŠåˆ°è¿™ä¸ªï¼Œæ‰å†æ¬¡æƒ³èµ·ã€‚</p>
<p>ç”±äºæœ€è¿‘ä¸€æ®µæ—¶é—´ <code>Claude Code</code> çš„ä½¿ç”¨æ²¡æœ‰åƒ <code>TRAE</code> å’Œ <code>Cursor</code> é‚£ä¹ˆå¤šï¼Œä»Šå¤©å°±ç»“åˆæˆ‘çš„ç»éªŒï¼Œå’Œå¤§å®¶èŠèŠæˆ‘å¯¹è¿™ 13 æ¡æŠ€å·§çš„çš„ç†è§£å’Œå®è·µã€‚</p>
<h2 data-id="heading-0">ç»ˆç«¯å¤šå¼€å¹¶è¡Œ</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>åœ¨ç»ˆç«¯å¹¶è¡Œè¿è¡Œ 5 ä¸ª Claude å®ä¾‹ï¼Œä¸ºæ¯ä¸ªæ ‡ç­¾é¡µç¼–å·ï¼ˆ1-5ï¼‰ï¼Œåˆ©ç”¨ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½æé†’éœ€è¦äººå·¥è¾“å…¥çš„ä»»åŠ¡ï¼Œæé«˜å¤šä»»åŠ¡å¤„ç†æ•ˆç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c15fe645a5b7411bb7d96e46b4c6b298~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768438936&amp;x-signature=Oya%2B85NmafcCHUCBn1CNlPqoREQ%3D" alt="" loading="lazy"/></p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>ç°åœ¨å„ä¸ª <code>AI IDE</code> å‡ ä¹éƒ½æ”¯æŒäº†å¤š <code>Agent</code> å¹¶è¡Œçš„ç‰¹æ€§ï¼Œè¿™ä¸ªç‰¹æ€§å¯¹æ•ˆç‡çš„æå‡å¹¶ä¸æ˜¯<code>30%</code>ã€<code>40%</code>è¿™æ ·å¢åŠ çš„ï¼Œè€Œæ˜¯éšç€ <code>Agent</code> çš„å¯åŠ¨æˆå€å¢åŠ ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯è‡ªåŠ¨åŒ–çš„æ ¹æœ¬æ„ä¹‰ï¼ˆæˆ‘è®¤ä¸º AI æœ¬èº«å°±æ˜¯ä¸€ç§é«˜çº§çš„è‡ªåŠ¨åŒ–ï¼‰ã€‚</p>
<p>åœ¨è¿˜æ²¡æœ‰è¯¥ç‰¹æ€§çš„æ—¶å€™ï¼Œæˆ‘å’Œå¾ˆå¤šä¼™ä¼´éƒ½æ˜¯é€šè¿‡ <strong>IDE å¤šå¼€</strong>ã€<strong>å¤š IDE åˆ‡æ¢</strong>å®ç°å¹¶è¡Œå¼€å‘çš„æ•ˆæœï¼Œä¸è¿‡ï¼Œç»ˆç©¶ä¸å¦‚ç°åœ¨è¿™æ ·é«˜æ•ˆã€‚</p>
<h2 data-id="heading-1">å¤šç«¯æ— ç¼è”åŠ¨</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ç»“åˆç½‘é¡µç«¯ï¼ˆ5-10ä¸ªä¼šè¯ï¼‰ä¸ç§»åŠ¨ç«¯ï¼ˆå¦‚iOSåº”ç”¨ï¼‰å¹¶è¡Œåä½œï¼Œä½¿ç”¨<code>--teleport</code>å‘½ä»¤åœ¨ä¸åŒè®¾å¤‡é—´åŒæ­¥ä¼šè¯è¿›åº¦ï¼Œå®ç°è·¨å¹³å°æ— ç¼è¡”æ¥ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>é’ˆå¯¹å¯ä»¥è¿è¡Œé•¿ä»»åŠ¡çš„æ¨¡å‹ï¼Œå¤šç«¯åˆ‡æ¢ç¡®å®éå¸¸æœ‰æ•ˆã€‚</p>
<p>ä½ å¯ä»¥åœ¨å¤–å‡ºã€ä¼‘æ¯çš„æ—¶å€™æŒæ§å¼€å‘ä»»åŠ¡çš„è¿›åº¦ï¼Œæˆ–è€…è¿›è¡Œæ–°çš„å¼€å‘ä»»åŠ¡çš„å¯åŠ¨ã€‚</p>
<p>ç”±äº <code>AI IDE</code> çš„ç•Œé¢ç‰¹æ€§ï¼Œä¸€ç›´æ²¡æœ‰å®è·µè¿‡ï¼Œåç»­å¯ä»¥å°è¯•é€šè¿‡ <strong>VS æ’ä»¶</strong>ç»“åˆ <strong>APP</strong> çš„æ¨¡å¼è¯•è¯•ã€‚</p>
<h2 data-id="heading-2">ä¼˜é€‰æ€è€ƒæ¨¡å‹</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ä½¿ç”¨å¸¦æœ‰â€œæ€è€ƒè¿‡ç¨‹ï¼ˆthinkingï¼‰â€çš„ <code>Opus 4.5</code> æ¨¡å‹ï¼Œå°½ç®¡é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ›´æ™ºèƒ½ã€æ›´æ“…é•¿è°ƒç”¨å·¥å…·ï¼Œèƒ½å‡å°‘äººå·¥å¼•å¯¼ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>è¿™ä¸ªè¯´å®è¯ï¼Œä¸ªäººæœ€è¿‘å·²ç»å¾ˆå°‘æ³¨æ„äº†ï¼Œæ¯•ç«Ÿç°åœ¨çš„å‡ ä¸ªä¸»æµ <code>Coding</code> æ¨¡å‹åº”è¯¥éƒ½æ˜¯â€œæ€è€ƒâ€æ¨¡å‹ã€‚</p>
<h2 data-id="heading-3">å›¢é˜Ÿå…±ç”¨è§„èŒƒ</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ç»´æŠ¤ä¸€ä¸ªå›¢é˜Ÿå…±äº«çš„ <code>claude.md</code> æ–‡ä»¶ï¼Œè®°å½•é¡¹ç›®è§„èŒƒã€ç¼–ç ä¹ æƒ¯å’Œ <code>Claude</code> çš„é”™è¯¯æ¡ˆä¾‹ï¼Œå®šæœŸæ›´æ–°å¹¶æäº¤åˆ° <code>Git</code> ä»“åº“ï¼Œé¿å…é‡å¤çŠ¯é”™ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>è¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨ï¼Œä¸ä»…é™äºç»Ÿä¸€å›¢é˜Ÿä»£ç ç”Ÿæˆçš„è§„èŒƒã€‚æ›´æ˜¯å¯ä»¥é€šè¿‡å¤§å®¶çš„å†™ä½œï¼Œæ›´å¿«ã€æ›´å…¨é¢åœ°æ•´ç†å‡ºä¸€å¥—å®Œå–„çš„ <code>claude.md</code>ã€‚</p>
<p><code>Cursor</code> æ˜¯ç›´æ¥æ”¯æŒè¯†åˆ« <code>claude.md</code>ï¼Œå›½å†…çš„å…¶å®ƒ IDE ä¼°è®¡ä¹Ÿå¾ˆå¿«ä¼šæ”¯æŒï¼Œæ¯•ç«Ÿ <code>claude.md</code> å‡ ä¹å·²ç»å¿«è¦æˆä¸ºä¸€ä¸ªé»˜è®¤çš„æ ‡å‡†äº†ã€‚</p>
<h2 data-id="heading-4">å®¡æŸ¥å³åˆ»æ›´æ–°</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>åœ¨ä»£ç å®¡æŸ¥ï¼ˆPRï¼‰è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ <code>@.claude</code> æŒ‡ä»¤å°†æ–°å‘ç°çš„è§„åˆ™æˆ–è§„èŒƒè‡ªåŠ¨æ·»åŠ åˆ° <code>claude.md</code>ï¼Œåˆ©ç”¨ <code>Claude Code</code> çš„ <code>GitHub Action</code> å®ç°è‡ªåŠ¨åŒ–æ›´æ–°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/741a2da512cc428381061dfb0eacd58b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768438936&amp;x-signature=k1%2FK5o3ddrg4lcFQ%2BiqBTDUBZc0%3D" alt="" loading="lazy"/></p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>å›½å¤–ä»–ä»¬æ™®éæ¥å— <code>Github</code> æ–¹å¼å¼€å‘ï¼Œæ‰€ä»¥ï¼Œ<code>Claude Code</code> æœ‰å¼€å‘ä¸“é—¨çš„ <code>Github</code> åº”ç”¨ï¼Œå¯ä»¥ç›´æ¥åœ¨ <code>Issue</code> å’Œ <code>PR</code> é˜¶æ®µè°ƒç”¨ <code>Claude</code>ã€‚</p>
<p>ä½†æ®æˆ‘äº†è§£ï¼Œå›½å†…ç›®å‰æ²¡æœ‰ç°æˆçš„æ–¹æ¡ˆã€‚</p>
<p><code>Claude Code</code> å’Œç§æœ‰ä»“åº“ï¼Œè¿˜å¯ä»¥å€ŸåŠ© <code>Git Hook</code> å’Œ <code>Claude Agent SDK</code> è‡ªè¡Œå¼€å‘ï¼Œ<code>AI IDE</code> çš„è¯ï¼Œç¡®å®æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<h2 data-id="heading-5">å…ˆè°‹è€ŒååŠ¨</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ä»»åŠ¡å¼€å§‹å‰å…ˆå¯ç”¨â€œè®¡åˆ’æ¨¡å¼ï¼ˆ<code>Plan Mode</code>ï¼‰â€ï¼ˆåŒå‡» <code>Shift+Tab</code>ï¼‰ï¼Œä¸ <code>Claude</code> æ²Ÿé€šç¡®è®¤æ–¹æ¡ˆï¼Œæ»¡æ„åå†åˆ‡æ¢åˆ°â€œè‡ªåŠ¨æ¥å—ä¿®æ”¹æ¨¡å¼â€æ‰§è¡Œï¼Œé™ä½è¯•é”™æˆæœ¬ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>è¿™ä¸ªä¹‹å‰èŠè¿‡å¾ˆå¤šæ¬¡ï¼Œç”šè‡³åœ¨æ²¡æœ‰ <code>Plan</code> æ¨¡å¼æ—¶ï¼Œæˆ‘å°±åœ¨åˆ†äº«å‚è€ƒâ€œ<strong>è´¹æ›¼å­¦ä¹ æ³•</strong>â€è®© AI å…ˆå¤è¿°ä¸€éä¼šå¤§å¤§æå‡å›ç­”è´¨é‡ã€‚</p>
<p>å…¶å®æœ¬è´¨éƒ½æ˜¯è®© AI å’Œä½ çš„æ€ç»´<strong>å¯¹é½</strong>ï¼Œå› ä¸ºåŒæ ·çš„æ–‡å­—å¯èƒ½åœ¨ä½ å’Œ AI çš„ç†è§£ä¸­æ˜¯ä¸ä¸€æ ·çš„ï¼Œåªæœ‰ AI å†æ¬¡è¿”å›ä¸€è‡´ï¼Œæ‰è¯æ˜ä½ ä»¬ç†è§£åŒæ­¥äº†ã€‚</p>
<p>ç°åœ¨ <code>Cursor/TRAE</code> ç­‰å„ç±» <code>AI IDE</code> éƒ½æ”¯æŒäº† <code>Plan</code> æ¨¡å¼ï¼Œå¤§å®¶ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>
<p>ä¸‹é¢ 3 ä¸ªæŠ€å·§ï¼ˆ<strong>é«˜é¢‘æ“ä½œæŒ‡ä»¤åŒ–ã€éƒ¨ç½²ä¸“ç”¨å­æ™ºèƒ½ä½“ã€è‡ªåŠ¨æ ¼å¼åŒ–</strong>ï¼‰åœ¨æˆ‘çš„ç†è§£ä¸­ï¼Œåº”è¯¥æ˜¯åŒæ ·çš„ç›®çš„ï¼Œéƒ½æ˜¯è‡ªåŠ¨åŒ–æé«˜æ•ˆç‡ï¼Œä¸ç®¡æ˜¯<strong>æŒ‡ä»¤</strong>æ–¹å¼ã€<strong>å­æ™ºèƒ½ä½“</strong>æ–¹å¼ï¼Œè¿˜æ˜¯<strong>é’©å­</strong>æ–¹å¼ã€‚</p>
<h2 data-id="heading-6">é«˜é¢‘æ“ä½œæŒ‡ä»¤åŒ–</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>å°†æ¯å¤©é‡å¤çš„å†…å¾ªç¯å·¥ä½œæµï¼ˆå¦‚æäº¤ä»£ç ã€åˆå¹¶åˆ†æ”¯ç­‰ï¼‰å°è£…ä¸ºæ–œæ å‘½ä»¤ï¼ˆ<code>Slash Commands</code>ï¼‰ï¼Œå­˜æ”¾åœ¨<code>.claude/commands/</code>ç›®å½•å¹¶æäº¤åˆ°<code>Git</code>ï¼Œå‡å°‘é‡å¤è¾“å…¥ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p><code>Cursor</code> æ˜¯ç›´æ¥æ”¯æŒ <code>Claude</code> æŒ‡ä»¤çš„ï¼Œè®¾ç½®ä¸­å‹¾é€‰å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287f207c80204d03a20bf525e193808c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768438936&amp;x-signature=19hIr%2FxcFd%2FrvU6IqEBRHxDcT6w%3D" alt="" loading="lazy"/></p>
<p><code>TRAE</code> æš‚æ—¶å°šæœªæ”¯æŒè¯¥ç±»ç‰¹æ€§ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åˆ›å»ºæ™ºèƒ½ä½“æ¨¡æ‹Ÿã€‚</p>
<h2 data-id="heading-7">éƒ¨ç½²ä¸“ç”¨å­æ™ºèƒ½ä½“</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ä½¿ç”¨ç‰¹å®šåŠŸèƒ½çš„å­æ™ºèƒ½ä½“ï¼ˆ<code>Subagents</code>ï¼‰ï¼Œå¦‚ <code>code-simplifier</code> ç®€åŒ–ä»£ç ã€<code>verify-app</code> è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼Œè‡ªåŠ¨åŒ–å¸¸è§æµç¨‹ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>ç°åœ¨ <code>AI IDE</code> å·²ç»æ™®éæ”¯æŒè‡ªå®šä¹‰æ™ºèƒ½ä½“äº†ã€‚</p>
<p>å°¤å…¶æ˜¯ <code>TRAE</code> çš„æ™ºèƒ½ä½“è¿˜æ”¯æŒ <code>Claude Code</code> ä¸»æ™ºèƒ½ä½“è‡ªåŠ¨è°ƒç”¨å­æ™ºèƒ½ä½“çš„ç‰¹æ€§ï¼ŒæŒºå¥½ç”¨çš„ã€‚</p>
<h2 data-id="heading-8">è‡ªåŠ¨æ ¼å¼åŒ–</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ä½¿ç”¨ <code>PostToolUse</code> é’©å­è‡ªåŠ¨ä¿®æ­£ <code>Claude</code> ç”Ÿæˆä»£ç çš„æ ¼å¼ç»†èŠ‚ï¼Œé¿å…åœ¨æŒç»­é›†æˆï¼ˆCIï¼‰ä¸­å› æ ¼å¼é—®é¢˜æŠ¥é”™ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>æ ¼å¼ä¸è§„æ•´è™½ç„¶ä¸å½±å“ AI é˜…è¯»ï¼Œä½†ç°åœ¨çš„ AI å°šæœªè¾¾åˆ°ç”Ÿæˆè´¨é‡100%æ¥å—çš„ç¨‹åº¦ï¼Œå› æ­¤è‰¯å¥½çš„æ ¼å¼åŒ–è¿˜æ˜¯éå¸¸æœ‰åˆ©äºæˆ‘ä»¬ CR å’Œæ¥æ‰‹çš„ã€‚</p>
<p><code>AI IDE</code> éƒ½æ˜¯ <code>VS Code</code> ç³»çš„æ¶æ„ï¼Œå¯ä»¥å€ŸåŠ©å„ç±»è¯­è¨€çš„æ ¼å¼åŒ–æ’ä»¶è¿›è¡Œæ›¿ä»£å®ç°ã€‚</p>
<h2 data-id="heading-9">æƒé™ç²¾ç»†åŒ–ç®¡ç†</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>é€šè¿‡<code>/permissions</code>å‘½ä»¤é¢„å…ˆæ‰¹å‡†å®‰å…¨çš„<code>Bash</code>å‘½ä»¤ç™½åå•ï¼Œé…ç½®ä¿å­˜åœ¨<code>.claude/settings.json</code>ä¸­ï¼Œå›¢é˜Ÿå…±äº«ï¼Œå¹³è¡¡å®‰å…¨ä¸æ“ä½œæµç•…åº¦ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>æƒé™ç®¡ç†å¾ˆé‡è¦ï¼Œ<code>Cursor/TRAE</code> éƒ½æä¾›äº†è‡ªå®šä¹‰ <code>Auto Run</code> çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3568ef34f5a44149632c632e1159484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768438936&amp;x-signature=R1Lpm5gfce5hrQUej17DaMH%2BIeE%3D" alt="" loading="lazy"/></p>
<p>æ ¹æ®è‡ªå·±çš„æƒ…å†µï¼ŒæŠŠä¸€äº›å¸¸ç”¨ä½†ä¸å±é™©çš„å‘½ä»¤åŠ å…¥ç™½åå•ï¼Œå°†å¤§å¤§é™ä½ä½ è¢« AI é€šçŸ¥æ‰“æ–­çš„é¢‘ç‡ã€‚</p>
<p>ä¸‹é¢ 3 ä¸ªæŠ€å·§ï¼ˆ<strong>å…¨å·¥å…·é“¾é›†æˆ</strong>ã€<strong>é•¿ä»»åŠ¡æ— äººå€¼å®ˆ</strong>ã€<strong>æ„å»ºéªŒè¯é—­ç¯</strong>ï¼‰æˆ‘æ„Ÿè§‰åˆæ˜¯ä¸€ç»„çš„ï¼Œå¹¶ä¸”è¿˜æ˜¯å±‚å±‚é€’è¿›çš„ã€‚</p>
<h2 data-id="heading-10">å…¨å·¥å…·é“¾é›†æˆ</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>é€šè¿‡<code>MCP</code>æœåŠ¡å™¨é›†æˆ <code>Slack</code>ã€<code>BigQuery</code>ã€<code>Sentry</code> ç­‰å¤–éƒ¨å·¥å…·ï¼Œè®© <code>Claude</code> èƒ½è·¨å¹³å°æ“ä½œï¼ˆå¦‚æœç´¢ <code>Slack</code> æ¶ˆæ¯ã€è¿è¡Œ <code>BigQuery</code> æŸ¥è¯¢ã€æŠ“å–é”™è¯¯æ—¥å¿—ï¼‰ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>å·¥å…·é“¾æ‰“é€šè‚¯å®šæ˜¯å¤§å®¶æ‰€æœŸæœ›çš„ï¼Œè°éƒ½ä¸å–œæ¬¢åœ¨ä¸€ä¸ªå·¥å…·ä¸­å¹²çš„å¥½å¥½æ—¶ï¼Œéœ€è¦ <code>Alt+Tab</code> åˆ‡æ¢å·¥å…·ã€‚</p>
<p>è€Œè¿™ä¹Ÿæ˜¯åé¢ 2 ä¸ªæŠ€å·§çš„åŸºç¡€ï¼šå·¥å…·é›†æˆçš„è¶Šå¤šï¼ŒAI ä»»åŠ¡è¢«ä¸­æ–­çš„å¯èƒ½å°±ä¼šè¶Šå°‘ã€‚</p>
<p>æœ€è¿‘å‡ å¹´ï¼Œå›½å†…è¶Šæ¥è¶Šå¤šçš„ç”Ÿæ€æä¾›äº† API æ¥å£ï¼Œå†åŠ ä¸Šä»Šå¹´çš„ MCPï¼Œè¶Šæ¥è¶Šå¤šçš„å·¥å…·å·²ç»å¯ä»¥è¢« AI æ¥å…¥ã€‚</p>
<h2 data-id="heading-11">é•¿ä»»åŠ¡æ— äººå€¼å®ˆ</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œé‡‡ç”¨åå°éªŒè¯ã€<code>stop</code>é’©å­æˆ– <code>Ralph-Wiggum</code> æ’ä»¶è¿›è¡Œè‡ªåŠ¨åŒ–éªŒè¯ï¼Œé…åˆæ²™ç®±æ¨¡å¼æˆ– <code>--permission-mode=dontask</code> é¿å…æƒé™ä¸­æ–­ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>è¿™ä¸€ç‚¹ä¹Ÿæ˜¯æˆ‘ä»¬å›¢é˜Ÿç›®å‰ä¸€ç›´åœ¨åŠªåŠ›çš„æ–¹å‘ï¼š</p>
<p>é€šè¿‡å„ç§å·¥ç¨‹åŒ–æ‰‹æ®µï¼Œé€æ­¥æå‡ <code>AI Coding</code> ä»»åŠ¡çš„é•¿åº¦å’Œå¤æ‚åº¦ï¼Œå¸®æˆ‘ä»¬èŠ‚çœå‡ºæ›´åŠ å¤§å—çš„æ—¶é—´ï¼Œå¯ä»¥åšæ›´å¤šå…¶ä»–çš„äº‹æƒ…ã€‚</p>
<p>æ­¤å¤„ <code>AI Coding</code> ä»»åŠ¡å¹¶ä¸æ˜¯ä¸€æ¬¡ AI å¯¹è¯ï¼Œè€Œæ˜¯é€šè¿‡ <code>Agent</code> æ¶æ„è‡ªè¡Œå®ç°ç›®æ ‡åˆ†è§£ã€å·¥å…·è°ƒç”¨ã€å¤šè½® AI è¯·æ±‚çš„ä¸€ä¸ªå®Œæ•´ç›®æ ‡å®Œæˆè¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-12">æ„å»ºéªŒè¯é—­ç¯</h2>
<p><strong>åŸæ–‡æ€è·¯</strong></p>
<p>ä¸º<code>Claude</code>æä¾›æ˜ç¡®çš„éªŒè¯æ–¹æ³•ï¼ˆå¦‚è¿è¡Œæµ‹è¯•è„šæœ¬ã€æ‰“å¼€æµè§ˆå™¨æµ‹è¯•UIï¼‰ï¼Œé€šè¿‡åé¦ˆé—­ç¯æå‡æœ€ç»ˆç»“æœè´¨é‡ï¼Œè¿™æ˜¯æé«˜äº§å‡ºè´¨é‡çš„å…³é”®æŠ€å·§ã€‚</p>
<p><strong>ç†è§£/å®è·µ</strong></p>
<p>å¦‚æœè¯´â€œé•¿ä»»åŠ¡æ— äººå€¼å®ˆâ€æ˜¯ <code>AI Coding</code> çš„æœŸæœ›ç›®æ ‡çš„è¯ï¼Œâ€œæ„ä»¶éªŒè¯é—­ç¯â€å°±æ˜¯å®ç°è¿™ä¸ªç›®æ ‡çš„ä¿è¯ã€‚</p>
<p>æ¯•ç«Ÿï¼Œé•¿ä»»åŠ¡æ‰§è¡Œåï¼Œç»“æœä¸å¥½ï¼Œé‚£ä¸€åˆ‡éƒ½å…è°ˆã€‚</p>
<p>å› æ­¤ï¼Œå»ºç«‹ä¸€ä¸ªè‰¯å¥½çš„éªŒè¯æ–¹æ³•ï¼Œå¯ä»¥å¤§å¤§é™ä½ä»»åŠ¡è¿”å·¥çš„å‡ ç‡ã€‚</p>
<hr/>
<p>è¿™ 13 æ¡æŠ€å·§æ•´ä½“ä¸Šè¿˜æ˜¯éå¸¸æ˜æ™°ä¸”æœ‰æ•ˆçš„ï¼Œå¤§å®¶å¯ä»¥ç»“åˆè‡ªå·±çš„æƒ…å†µè¿›è¡Œå°è¯•ã€‚</p>
<p>å¦‚æœä½ å¯¹è¿™ 13 æ¡æŠ€å·§æœ‰ä»€ä¹ˆä¸åŒçš„ç†è§£æˆ–ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# å¤§å‚AIå…¨æ˜¯é»‘è¯ï¼ŸOoderé SkillæŠ€æœ¯3å¤©è½åœ°ä¼ä¸šçº§åº”ç”¨ï¼Œè¿™æ‰æ˜¯çœŸå®ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7592439090096685099</link>    <guid>https://juejin.cn/post/7592439090096685099</guid>    <pubDate>2026-01-07T23:04:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592439090096685099" data-draft-id="7592410399917555753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# å¤§å‚AIå…¨æ˜¯é»‘è¯ï¼ŸOoderé SkillæŠ€æœ¯3å¤©è½åœ°ä¼ä¸šçº§åº”ç”¨ï¼Œè¿™æ‰æ˜¯çœŸå®ç”¨ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-07T23:04:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # å¤§å‚AIå…¨æ˜¯é»‘è¯ï¼ŸOoderé SkillæŠ€æœ¯3å¤©è½åœ°ä¼ä¸šçº§åº”ç”¨ï¼Œè¿™æ‰æ˜¯çœŸå®ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T23:04:01.000Z" title="Wed Jan 07 2026 23:04:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åˆ·åˆ°å¤ªå¤šå¤§å‚AIå‘å¸ƒä¼šï¼Œå…¨æ˜¯RAGã€æ¨¡å‹å¾®è°ƒã€å¤šæ¨¡æ€è¿™äº›é»‘è¯å †ç Œï¼Œå¬ç€é«˜å¤§ä¸Šï¼Œè½¬å¤´é—®è½åœ°æ¡ˆä¾‹ï¼Œè¦ä¹ˆè¯­ç„‰ä¸è¯¦ï¼Œè¦ä¹ˆè¿˜åœ¨å®éªŒå®¤é˜¶æ®µâ€¦ğŸ¤”</p>
<p>çœŸä¸æ˜¯æ ï¼Œä¼ä¸šè¦çš„ä»æ¥ä¸æ˜¯â€œæ ¸æ­¦å™¨çº§åˆ«çš„æ¦‚å¿µâ€ï¼Œè€Œæ˜¯èƒ½å¿«é€Ÿè§£å†³å®é™…ç—›ç‚¹çš„æŠ€æœ¯ï¼å°±åƒè¡¨å•é‡æ„è¿™ä¸ªä¼ä¸šç³»ç»Ÿç¿»æ–°çš„è€å¤§éš¾â€”â€”å äº†60%å·¥ä½œé‡ï¼Œæ—§è¡¨å•è‡ƒè‚¿éš¾ç»´æŠ¤ã€æ–°æ ·å¼é€‚é…æ…¢ï¼Œäººå·¥æ”¹åŠ¨è¾„å‡ å‘¨èµ·æ­¥ã€‚</p>
<p>è€ŒOoderç›´æ¥ç”¨SkillæŠ€æœ¯ç ´å±€ï¼Œ3å¤©å°±æ¨å‡ºäº†ä¼ä¸šçº§è¡¨å•è‡ªåŠ¨åŒ–é‡æ„æ–¹æ¡ˆï¼Œæ²¡æœ‰è™šå¤´å·´è„‘çš„æ¦‚å¿µï¼Œå…¨æ˜¯èƒ½ç›´æ¥è½åœ°çš„ç¡¬å®åŠ›ï¼</p>
<p>å…ˆç»™ä¸æ‡‚çš„æœ‹å‹ç§‘æ™®ä¸‹æ ¸å¿ƒï¼š<strong>Skillæ˜¯Anthropicæ¨å‡ºçš„æ ‡å‡†åŒ–æŠ€æœ¯</strong>ï¼Œç®€å•è¯´å°±æ˜¯æŠŠç‰¹å®šä»»åŠ¡çš„ä¸“ä¸šæµç¨‹ã€ä»£ç è„šæœ¬ã€èµ„æºæ¨¡æ¿æ‰“åŒ…æˆâ€œæ™ºèƒ½æ’ä»¶â€ï¼Œè®©é€šç”¨AIç¬é—´æ‹¥æœ‰é¢†åŸŸä¸“å®¶çº§èƒ½åŠ›ï¼Œä¸ç”¨åå¤æ•™ã€ä¸ç”¨ç£¨æµç¨‹ã€‚</p>
<p>Ooderçš„ç‰›å°±åœ¨äºï¼ŒæŠŠSkillæŠ€æœ¯ç²¾å‡†é€‚é…ä¼ä¸šè¡¨å•é‡æ„åœºæ™¯ï¼Œè¿˜å’ŒAIã€è‡ªå®¶RADå·¥å…·é“¾æ·±åº¦ç»‘æ­»ï¼Œå½¢æˆäº†ä¸€å¥—é—­ç¯ï¼š</p>
<p>âœ… å…ˆé Skillå®šæ ‡å‡†ï¼šå°è£…è¡¨å•æ‹†åˆ†è§„åˆ™ã€A2UIæ ·å¼æ¨¡æ¿ã€æ³¨è§£è§£æè„šæœ¬ï¼Œä¸ç®¡å“ªä¸ªå›¢é˜Ÿç”¨ï¼Œè¾“å‡ºçš„ä»£ç éƒ½ç¬¦åˆä¼ä¸šè§„èŒƒï¼Œé¿å…æ‚ä¹±æ— ç« ï¼›</p>
<p>âœ… å†è®©AIåšæ™ºèƒ½å†³ç­–ï¼šSkillæä¾›åŸºç¡€æ¡†æ¶ï¼ŒAIåŸºäºä¸šåŠ¡è¯­ä¹‰è‡ªåŠ¨åˆ¤æ–­â€œç”¨æˆ·åã€å¯†ç å½’ä¸ºåŸºæœ¬ä¿¡æ¯â€â€œé‚®ç®±å½’ä¸ºè”ç³»ä¿¡æ¯â€ï¼Œåˆ†å—ä¸ç”Ÿç¡¬ï¼Œä¸ç”¨äººå·¥å¹²é¢„ï¼›</p>
<p>âœ… æœ€åRADå·¥å…·é“¾å…œåº•ï¼šè‡ªåŠ¨ç¼–è¯‘æ ¡éªŒã€ç”Ÿæˆé‡æ„æŠ¥å‘Šï¼Œè¿˜æ”¯æŒMQTTå®æ—¶ç›‘æ§ä»»åŠ¡çŠ¶æ€ï¼Œå¤§è§„æ¨¡é‡æ„ä¹Ÿä¸æ€•å‡ºé—®é¢˜ã€‚</p>
<p>æ”¾ä¸ªç›´è§‚å¯¹æ¯”ï¼Œæ„Ÿå—ä¸‹æ•ˆç‡ï¼š</p>
<p>æ—§è¡¨å•ä»£ç ï¼ˆæ‰å¹³è‡ƒè‚¿ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@FormAnnotation</span>(title = <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯è¡¨å•"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserForm</span> {
    <span class="hljs-meta">@FieldAnnotation</span>(name = <span class="hljs-string">"ç”¨æˆ·å"</span>, <span class="hljs-keyword">type</span> = <span class="hljs-title class_">FieldType</span>.<span class="hljs-property">TEXT</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> username;
    <span class="hljs-meta">@FieldAnnotation</span>(name = <span class="hljs-string">"å¯†ç "</span>, <span class="hljs-keyword">type</span> = <span class="hljs-title class_">FieldType</span>.<span class="hljs-property">PASSWORD</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> password;
    <span class="hljs-meta">@FieldAnnotation</span>(name = <span class="hljs-string">"é‚®ç®±"</span>, <span class="hljs-keyword">type</span> = <span class="hljs-title class_">FieldType</span>.<span class="hljs-property">EMAIL</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> email;
    <span class="hljs-comment">// æ›´å¤šå­—æ®µ...</span>
}
</code></pre>
<p>é‡æ„åä»£ç ï¼ˆåˆ†å—æ¸…æ™°ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@BlockFormAnnotation(title = <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯è¡¨å•"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserForm</span> {
    <span class="hljs-meta">@GroupItemAnnotation(title = <span class="hljs-string">"åŸºæœ¬ä¿¡æ¯"</span>, order = 1)</span>
    <span class="hljs-keyword">public</span> static <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicInfo</span> {
        <span class="hljs-meta">@FieldAnnotation(name = <span class="hljs-string">"ç”¨æˆ·å"</span>, type = FieldType.TEXT)</span>
        <span class="hljs-keyword">private</span> String username;
        <span class="hljs-meta">@FieldAnnotation(name = <span class="hljs-string">"å¯†ç "</span>, type = FieldType.PASSWORD)</span>
        <span class="hljs-keyword">private</span> String password;
    }
    <span class="hljs-meta">@GroupItemAnnotation(title = <span class="hljs-string">"è”ç³»ä¿¡æ¯"</span>, order = 2)</span>
    <span class="hljs-keyword">public</span> static <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContactInfo</span> {
        <span class="hljs-meta">@FieldAnnotation(name = <span class="hljs-string">"é‚®ç®±"</span>, type = FieldType.EMAIL)</span>
        <span class="hljs-keyword">private</span> String email;
    }
}
</code></pre>
<p>å…³é”®æ˜¯è¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Skillè´Ÿè´£â€œæŒ‰è§„çŸ©å¹²æ´»â€ï¼ŒAIè´Ÿè´£â€œèªæ˜åœ°å¹²æ´»â€ï¼ŒåŸæ¥1ä¸ªå·¥ç¨‹å¸ˆ1å¤©æ”¹1ä¸ªè¡¨å•ï¼Œç°åœ¨1åˆ†é’Ÿæå®šï¼Œè¿˜é›¶å‡ºé”™ã€‚</p>
<p>è€Œä¸”éƒ¨ç½²è¶…ç®€å•ï¼ä¸ç®¡æ˜¯æœ¬åœ°æµ‹è¯•è¿˜æ˜¯äº‘ç«¯è§„æ¨¡åŒ–è¿è¡Œï¼Œéƒ½æœ‰ç°æˆå®æˆ˜ä»£ç å¯ç›´æ¥å¤ç”¨ï¼Œè¿™æ‰æ˜¯ä¼ä¸šçº§æŠ€æœ¯è¯¥æœ‰çš„å‹å¥½åº¦ï½</p>
<p>å…ˆçœ‹æœ¬åœ°Soloç¯å¢ƒæ³¨å†Œæµ‹è¯•ï¼ˆå¼€å‘å¿…å¤‡ï¼Œå¿«é€ŸéªŒè¯åŠŸèƒ½ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.nio.file.Files;
<span class="hljs-keyword">import</span> java.nio.file.Path;
<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSONObject;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SoloSkillRegister</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONFIG_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">"skill-config.json"</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åŠ è½½Skillé…ç½®æ–‡ä»¶</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">configContent</span> <span class="hljs-operator">=</span> Files.readString(Path.of(CONFIG_PATH));
            <span class="hljs-type">JSONObject</span> <span class="hljs-variable">configJson</span> <span class="hljs-operator">=</span> JSONObject.parseObject(configContent);
            
            <span class="hljs-comment">// 2. åˆå§‹åŒ–è¡¨å•é‡æ„Skill</span>
            <span class="hljs-type">OoderFormRefactorSkill</span> <span class="hljs-variable">skill</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OoderFormRefactorSkill</span>();
            skill.init(configJson);
            
            <span class="hljs-comment">// 3. æ‰§è¡Œæµ‹è¯•ï¼ŒéªŒè¯åŠŸèƒ½å¯ç”¨æ€§</span>
            skill.test();
            
            <span class="hljs-comment">// 4. æœ¬åœ°è¯•è·‘é‡æ„ï¼ˆè¾“å…¥æ—§è¡¨å•ä»£ç ï¼Œè¾“å‡ºç»“æœï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">oldFormCode</span> <span class="hljs-operator">=</span> Files.readString(Path.of(<span class="hljs-string">"old/UserForm.java"</span>));
            <span class="hljs-type">String</span> <span class="hljs-variable">refactoredCode</span> <span class="hljs-operator">=</span> skill.execute(oldFormCode);
            
            <span class="hljs-comment">// 5. ä¿å­˜ç»“æœï¼Œæœ¬åœ°æŸ¥çœ‹æ•ˆæœ</span>
            Files.writeString(Path.of(<span class="hljs-string">"new/UserForm.java"</span>), refactoredCode);
            System.out.println(<span class="hljs-string">"Skill test completed successfully!"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"Error during skill registration: "</span> + e.getMessage());
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>å†çœ‹äº‘ç«¯éƒ¨ç½²ç¯å¢ƒæ³¨å†Œï¼ˆä¼ä¸šè§„æ¨¡åŒ–ä½¿ç”¨ï¼‰ï¼š</p>
<ol>
<li>æŠŠSkillæ‰“åŒ…æˆå‹ç¼©åŒ…ï¼ˆå«ä¸»ç±»ã€é…ç½®ã€è„šæœ¬ï¼‰ï¼›2. ç™»å½•Ooder-RADå¹³å°â†’è¿›å…¥Skillç®¡ç†â†’ä¸Šä¼ åŒ…ï¼›3. é…ç½®å‚æ•°ï¼ˆå¤ç”¨æœ¬åœ°é…ç½®ï¼Œæ”¹æ”¹ç¯å¢ƒåœ°å€å³å¯ï¼‰ï¼›4. å¯ç”¨Skillï¼Œå°±èƒ½æ‰¹é‡è·‘è¡¨å•é‡æ„ä»»åŠ¡äº†ï¼</li>
</ol>
<p>æ ¸å¿ƒçš„Skillä¸»ç±»å®ç°ä¹Ÿç»™å¤§å®¶æ”¾è¿™ï¼ˆè¡¨å•é‡æ„çš„æ ¸å¿ƒé€»è¾‘éƒ½åœ¨è¿™ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OoderFormRefactorSkill</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Skill</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">JSON</span><span class="hljs-built_in">Object</span> config;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">init</span>(<span class="hljs-params">JSONObject config</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = config;
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"OoderFormRefactorSkill initialized with config: "</span> + config);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">SkillContext context</span>) {
        <span class="hljs-comment">// 1. è·å–å¾…é‡æ„çš„æ—§è¡¨å•ä»£ç </span>
        <span class="hljs-title class_">String</span> formCode = context.<span class="hljs-title function_">getInput</span>(<span class="hljs-string">"formCode"</span>);
        
        <span class="hljs-comment">// 2. æ‰§è¡Œæ ¸å¿ƒé‡æ„é€»è¾‘ï¼ˆè¯†åˆ«æ—§ç»“æ„â†’åˆ†å—â†’ç”Ÿæˆæ–°ä»£ç ï¼‰</span>
        <span class="hljs-title class_">String</span> refactoredCode = <span class="hljs-title function_">refactorForm</span>(formCode);
        
        <span class="hljs-comment">// 3. è¾“å‡ºé‡æ„ç»“æœ</span>
        context.<span class="hljs-title function_">setOutput</span>(<span class="hljs-string">"refactoredCode"</span>, refactoredCode);
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"Form refactoring completed!"</span>);
    }
    
    <span class="hljs-comment">// è¡¨å•é‡æ„æ ¸å¿ƒé€»è¾‘</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">refactorForm</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> formCode</span>) {
        <span class="hljs-comment">// 1. è¯†åˆ«æ—§ç‰ˆè¡¨å•ç»“æ„ï¼ˆè§£æ@FormAnnotationæ³¨è§£ï¼‰</span>
        <span class="hljs-comment">// 2. æŒ‰ä¸šåŠ¡è¯­ä¹‰æ‹†åˆ†è¡¨å•ï¼ˆå’ŒAIååŒï¼Œç²¾å‡†åˆ†å—ï¼‰</span>
        <span class="hljs-comment">// 3. ç”Ÿæˆç¬¦åˆOoderè§„èŒƒçš„æ–°ç‰ˆä»£ç </span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">generateRefactoredForm</span>(formCode);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">generateRefactoredForm</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> formCode</span>) {
        <span class="hljs-comment">// ç”Ÿæˆé‡æ„åçš„åˆ†å—è¡¨å•ä»£ç ï¼ˆå¯¹åº”å‰é¢çš„é‡æ„åç¤ºä¾‹ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"// é‡æ„åçš„è¡¨å•ä»£ç ..."</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"OoderFormRefactorSkill test executed!"</span>);
    }
}
</code></pre>
<p>è¿˜æœ‰MQTTé›†æˆå®ç°ï¼ˆå®æ—¶ç›‘æ§ä»»åŠ¡çŠ¶æ€ï¼Œè¿ç»´å¿…å¤‡ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> net.ooder.framework.mqtt.<span class="hljs-keyword">annotation</span>.MQTTAnnotation;
<span class="hljs-keyword">import</span> net.ooder.framework.web.<span class="hljs-keyword">annotation</span>.RequestMapping;
<span class="hljs-keyword">import</span> net.ooder.framework.web.<span class="hljs-keyword">annotation</span>.ResponseBody;

<span class="hljs-meta">@RequestMapping(name = <span class="hljs-string">"UserJMQ"</span>)</span>
<span class="hljs-meta">@MQTTAnnotation</span>
<span class="hljs-meta">@ResponseBody</span>
<span class="hljs-keyword">public</span> ResultModel&lt;JMQConfig&gt; getUserJMQ() {
    ResultModel&lt;JMQConfig&gt; resultModel = new ResultModel&lt;&gt;();
    
    <span class="hljs-comment">// è·å–MQTTé…ç½®ï¼Œå®ç°ä»»åŠ¡çŠ¶æ€å®æ—¶æ¨é€</span>
    JMQConfig jmqConfig = new JMQConfig();
    jmqConfig.setBrokerUrl(<span class="hljs-string">"tcp://mqtt.example.com:1883"</span>);
    jmqConfig.setClientId(<span class="hljs-string">"ooder-client-"</span> + UUID.randomUUID());
    jmqConfig.setUsername(<span class="hljs-string">"ooder"</span>);
    jmqConfig.setPassword(<span class="hljs-string">"password"</span>);
    
    resultModel.setData(jmqConfig);
    <span class="hljs-keyword">return</span> resultModel;
}
</code></pre>
<p>æœ€åè¡¥å…¨æ ¸å¿ƒçš„Skillé…ç½®æ–‡ä»¶ï¼ˆskill-config.jsonï¼‰ï¼Œæ”¹æ”¹å‚æ•°å°±èƒ½ç”¨ï¼š</p>
<p>ç»™å¤§å®¶æ”¾ä¸ªæ ¸å¿ƒçš„Skillé…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆå®é™…ç”¨çš„æ—¶å€™æ”¹æ”¹å‚æ•°å°±è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"skill"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"OoderFormRefactorSkill"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"defaultPriority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"P0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dsmEngine"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:8080/dsm"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"authToken"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30000</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maxRetries"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"compilation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mvn compile"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60000</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"basePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main/java"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"packageBase"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"net.ooder.dsm.aggregation.api.method"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mqttConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"brokerUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tcp://mqtt.ooder.com:1883"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"qos"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reconnectInterval"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç»™å¤§å®¶æ”¾ä¸ªæ ¸å¿ƒçš„Skillé…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆå®é™…ç”¨çš„æ—¶å€™æ”¹æ”¹å‚æ•°å°±è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"skill"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"OoderFormRefactorSkill"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Skillå”¯ä¸€æ ‡è¯†ï¼Œç¡®ä¿èƒ½è¢«RADå·¥å…·é“¾è¯†åˆ«</span>
  <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å¯SkillåŠŸèƒ½</span>
  <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dsmEngine"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// è¯­ä¹‰è§£æå¼•æ“é…ç½®ï¼Œæ”¯æ’‘AIåˆ†å—å†³ç­–</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:8080/dsm"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30000</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"compilation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// ç¼–è¯‘æ ¡éªŒé…ç½®ï¼Œè‡ªåŠ¨å…œåº•ä»£ç è´¨é‡</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mvn compile -DskipTests"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// è¾“å‡ºæ§åˆ¶ï¼Œé¿å…è¦†ç›–æ—§ä»£ç ï¼Œå®‰å…¨ç¬¬ä¸€</span>
      <span class="hljs-attr">"basePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main/java"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"overwritePolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"merge"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"backupOldCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mqttConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// å®æ—¶ç›‘æ§é…ç½®ï¼Œå¤§è§„æ¨¡ä»»åŠ¡ä¸æ€•å‡ºé—®é¢˜</span>
      <span class="hljs-attr">"brokerUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tcp://mqtt.ooder.com:1883"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"qos"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reconnectInterval"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…³é”®é…ç½®&amp;ä»£ç è¯´æ˜ï¼š</p>
<ul>
<li>é…ç½®æ–‡ä»¶é‡Œçš„<code>dsmEngine</code>æ˜¯æ”¯æ’‘AIè¯­ä¹‰åˆ†å—çš„æ ¸å¿ƒï¼Œ<code>mqttConfig</code>è´Ÿè´£å®æ—¶æ¨é€ä»»åŠ¡çŠ¶æ€ï¼›</li>
<li>æœ¬åœ°æ³¨å†Œä»£ç æ ¸å¿ƒæ˜¯â€œåŠ è½½é…ç½®â†’åˆå§‹åŒ–Skillâ†’æµ‹è¯•â†’è¯•è·‘é‡æ„â€ï¼Œä¸€æ­¥åˆ°ä½éªŒè¯åŠŸèƒ½ï¼›</li>
<li>Skillä¸»ç±»çš„<code>execute</code>æ–¹æ³•æ˜¯æ ¸å¿ƒï¼Œæ¥æ”¶æ—§è¡¨å•ä»£ç ï¼Œè¾“å‡ºé‡æ„ç»“æœï¼Œé€»è¾‘æ¸…æ™°å¯å¤ç”¨ï¼›</li>
<li>æ‰€æœ‰ä»£ç éƒ½éµå¾ªOoder-RADå·¥å…·é“¾çš„â€œæ¥å£åŒ–è®¾è®¡ã€åˆ†å—è®¾è®¡â€ç†å¿µï¼Œä¿è¯å¯ç»´æŠ¤æ€§ã€‚</li>
</ul>
<p>è¿™æ‰æ˜¯ä¼ä¸šéœ€è¦çš„AIæŠ€æœ¯â€”â€”ä¸æ˜¯æ‹¿é»‘è¯åŒ…è£…æ¦‚å¿µï¼Œè€Œæ˜¯ç”¨æˆç†Ÿçš„Skillæ ‡å‡†åŒ–èƒ½åŠ›ï¼Œè§£å†³çœŸå®çš„æ•ˆç‡ç—›ç‚¹ã€‚Ooderè¿™æ³¢æ“ä½œï¼ŒæŠŠâ€œAIè½åœ°éš¾â€çš„é—®é¢˜ç›´æ¥ç»™æ‰“ç©¿äº†ï¼</p>
<p>å¯¹ä¼ä¸šçº§AIè½åœ°æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œè¯„è®ºåŒºå¯ä»¥èŠèŠä½ ä»¬é‡åˆ°çš„å‘ï¼Œæˆ–è€…é—®SkillæŠ€æœ¯çš„å…·ä½“ç»†èŠ‚ï½</p>
<p>#ä¼ä¸šçº§AI #æŠ€æœ¯è½åœ° #SkillæŠ€æœ¯ #Ooderæ¡†æ¶ #ç¨‹åºå‘˜å¹²è´§ #ç³»ç»Ÿç¿»æ–° #è¡¨å•é‡æ„ #Javaå®æˆ˜ #å¼€å‘æ•ˆç‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Netcup VPS è¿‡æˆ·å…¨æ”»ç•¥ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰å…¨åœ°å°†æœåŠ¡å™¨ Push ç»™æ–°ç”¨æˆ·]]></title>    <link>https://juejin.cn/post/7592431064977113103</link>    <guid>https://juejin.cn/post/7592431064977113103</guid>    <pubDate>2026-01-07T15:51:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064977113103" data-draft-id="7592432859863203874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Netcup VPS è¿‡æˆ·å…¨æ”»ç•¥ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰å…¨åœ°å°†æœåŠ¡å™¨ Push ç»™æ–°ç”¨æˆ·"/> <meta itemprop="keywords" content="æœåŠ¡å™¨"/> <meta itemprop="datePublished" content="2026-01-07T15:51:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Netcup VPS è¿‡æˆ·å…¨æ”»ç•¥ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰å…¨åœ°å°†æœåŠ¡å™¨ Push ç»™æ–°ç”¨æˆ·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:51:29.000Z" title="Wed Jan 07 2026 15:51:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Netcup</strong> ä½œä¸ºæ¬§æ´²è‘—åçš„æœåŠ¡å™¨å‚å•†ï¼Œä»¥å…¶æé«˜çš„æ€§ä»·æ¯”è‘—ç§°ã€‚å¾ˆå¤šæœ‹å‹å¯èƒ½æŠ¢è´­åˆ°äº†â€œç¡¬ç›˜ç¿»å€æ¬¾â€æƒ³è¦å‡ºå”®ï¼Œæˆ–è€…å› ä¸ºä¸šåŠ¡è°ƒæ•´éœ€è¦å°†æœåŠ¡å™¨è½¬ç§»åˆ°å¦ä¸€ä¸ªè´¦å·ä¸‹ã€‚</p>
<p>åœ¨ VPS åœˆå­é‡Œï¼Œæˆ‘ä»¬é€šå¸¸ç§°è¿™ç§æ“ä½œä¸º <strong>â€œPushâ€</strong>ã€‚åœ¨ Netcup å®˜æ–¹çš„å®šä¹‰ä¸­ï¼Œè¿™è¢«ç§°ä¸º <strong>â€œäº§å“åˆåŒè½¬ç§»â€</strong> æˆ– <strong>â€œæ‰€æœ‰æƒå˜æ›´ (Owner Change)â€</strong>ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å®‰å…¨ã€é¡ºåˆ©åœ°å®Œæˆè¿™ä¸€è¿‡ç¨‹å‘¢ï¼Ÿä»Šå¤©çš„æ•™ç¨‹å°†æ‰‹æŠŠæ‰‹å¸¦ä½ èµ°å®Œå…¨æµç¨‹ã€‚</p>
<h3 data-id="heading-0">å†™åœ¨å‰é¢çš„æ³¨æ„äº‹é¡¹</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæœ‰å‡ ç‚¹å®˜æ–¹è§„åˆ™éœ€è¦äº†è§£ï¼š</p>
<ol>
<li><strong>æœåŠ¡è¿ç»­æ€§ï¼š</strong> åœ¨è½¬ç§»æœŸé—´ï¼ŒæœåŠ¡å™¨å’Œè™šæ‹Ÿä¸»æœºå°†ç»§ç»­æ­£å¸¸è¿è¡Œï¼Œ<strong>ä¸ä¼šä¸­æ–­æœåŠ¡</strong>ã€‚</li>
<li><strong>è´¹ç”¨é—®é¢˜ï¼š</strong> Netcup çš„å†…éƒ¨è½¬ç§»é€šå¸¸æ˜¯<strong>å…è´¹</strong>çš„ï¼ˆé’ˆå¯¹ VPS äº§å“ï¼‰ã€‚ä½†å¦‚æœæ˜¯è½¬ç§»åŸŸåï¼Œåˆ™ä¼šäº§ç”Ÿæ‰€æœ‰è€…å˜æ›´è´¹ç”¨ã€‚</li>
<li><strong>è´¦å•è´£ä»»ï¼š</strong> è½¬ç§»å®Œæˆåï¼Œè¯¥äº§å“æœªæ¥çš„å‘ç¥¨å°†å¼€å…·ç»™<strong>æ–°æ‰€æœ‰è€…</strong>ã€‚</li>
<li><strong>é™åˆ¶æ¡ä»¶ï¼š</strong> åªæœ‰åœ¨å½“å‰æ‰€æœ‰å‘ç¥¨éƒ½å·²ç»“æ¸…çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½æ‰§è¡Œè½¬ç§»ã€‚</li>
</ol>
<h3 data-id="heading-1">ç¬¬ä¸€é˜¶æ®µï¼šè½¬å‡ºæ–¹ï¼ˆåŸå·ä¸»ï¼‰æ“ä½œæŒ‡å—</h3>
<p>å¦‚æœä½ æ˜¯å–å®¶æˆ–åŸå·ä¸»ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ç”Ÿæˆè½¬ç§»ç ã€‚</p>
<h4 data-id="heading-2">1. è¿›å…¥äº§å“ç®¡ç†</h4>
<p>é¦–å…ˆï¼Œç™»å½•ä½ çš„ Netcup CCP (Customer Control Panel) é¢æ¿ã€‚ç‚¹å‡»å·¦ä¾§èœå•çš„ <strong>Products</strong>ï¼Œæ‰¾åˆ°ä½ æƒ³è¦è½¬ç§»çš„é‚£å°æœåŠ¡å™¨ï¼Œç‚¹å‡»å‰æ–¹çš„<strong>æ”¾å¤§é•œå›¾æ ‡</strong>è¿›å…¥è¯¦æƒ…é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9ee57ca6d5a485184473dcbb50dbb26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=nX9d%2F70hHd7WZ79yk6ImtPBEL5M%3D" alt="iShot_2026-01-07_22.31.26.webp" loading="lazy"/></p>
<h4 data-id="heading-3">2. å‘èµ·æ‰€æœ‰æƒå˜æ›´</h4>
<p>åœ¨äº§å“è¯¦æƒ…é¡µä¸­ï¼Œç‚¹å‡»é¡¶éƒ¨çš„ <strong>Cancellation</strong>ï¼ˆå–æ¶ˆï¼‰é€‰é¡¹å¡ã€‚ä¸è¦æ‹…å¿ƒï¼Œè¿™ä¸€æ­¥ä¸æ˜¯è¦æ³¨é”€æœåŠ¡å™¨ï¼Œè€Œæ˜¯è½¬ç§»å…¥å£åœ¨è¿™é‡Œã€‚</p>
<p>åœ¨é¡µé¢ä¸­æ‰¾åˆ°å¹¶ç‚¹å‡» <strong>Add product to owner change</strong>ï¼ˆå˜æ›´æ‰€æœ‰è€…ï¼‰æŒ‰é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c14dffa4bde423fa73e14bdb8ddf20d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=%2BLw%2BgqXNx2ddzV45Dax7e50c8aE%3D" alt="image-MLfD.webp" loading="lazy"/></p>
<h4 data-id="heading-4">3. æ£€æŸ¥ä¾èµ–å…³ç³»</h4>
<p>ç³»ç»Ÿä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ¡†ï¼Œå‘ŠçŸ¥ä½ è½¬ç§»çš„åæœï¼ˆæ¥æ”¶æ–¹å°†æ¥ç®¡åˆåŒå’Œæ•°æ®ï¼‰ã€‚ç¡®è®¤æ— è¯¯åï¼Œç‚¹å‡»å³ä¸‹è§’çš„ <strong>Check dependencies</strong>ï¼ˆæ£€æŸ¥ä¾èµ–ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd90966ddf404294a117b2e9b7abb71b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=eZAAPatxcqgErRl1S0YQw4up4S4%3D" alt="image-wEnA.webp" loading="lazy"/></p>
<blockquote>
<p><strong>å…³é”®æç¤ºï¼š</strong></p>
<ul>
<li>æ¥æ”¶æ–¹å°†æ¥ç®¡æ•´ä¸ªåˆåŒåŠæ•°æ®ã€‚</li>
<li>å¦‚æœæ˜¯åŸŸåè½¬ç§»ï¼Œæ¥æ”¶æ–¹éœ€è¦æ”¯ä»˜è´¹ç”¨ã€‚</li>
<li>å¦‚æœæ˜¯ä¸ºäº†é˜²æ­¢æ´—é’±ï¼Œè‹¥åœ¨è½¬ç§»å‰å–æ¶ˆåˆåŒï¼Œæ—§æ‰€æœ‰è€…æ”¯ä»˜çš„æœ€åä¸€å¼ å‘ç¥¨ä¸äºˆé€€æ¬¾ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-5">4. æ¿€æ´»æ‰€æœ‰æƒå˜æ›´</h4>
<p>ä¾èµ–æ£€æŸ¥é€šè¿‡åï¼Œä¼šå¼¹å‡ºæœ€ç»ˆç¡®è®¤çª—å£ã€‚ç‚¹å‡»åº•éƒ¨çš„ <strong>Activate owner change</strong>ï¼ˆæ¿€æ´»æ‰€æœ‰æƒå˜æ›´ï¼‰ã€‚</p>
<h4 data-id="heading-6">5. è·å–è½¬ç§»ç  (Auth Code)</h4>
<p>æ“ä½œå®Œæˆåï¼Œä½ å°†è·å¾—ä¸€ä¸² <strong>è½¬ç§»ä»£ç </strong>ï¼ˆå¦‚ä¸‹å›¾çº¢æ¡†æ‰€ç¤ºï¼‰ã€‚</p>
<ul>
<li><strong>æœ‰æ•ˆæœŸï¼š</strong> è¯¥ä»£ç æœ‰æ•ˆæœŸä¸º <strong>14å¤©</strong>ã€‚</li>
<li><strong>æ“ä½œï¼š</strong> å°†æ­¤ä»£ç å¤åˆ¶å¹¶å‘é€ç»™â€œæ¥æ”¶æ–¹â€ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7e367911bc4451db1d1ad8eed12427f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=u%2FtmG51ThR4rzqjRYQqi7yIln74%3D" alt="image-AWuh.webp" loading="lazy"/></p>
<blockquote>
<p>**åæ‚”äº†æ€ä¹ˆåŠï¼Ÿ**å¦‚æœä½ ä¸æƒ³å–äº†ï¼Œæˆ–è€…äº¤æ˜“å–æ¶ˆï¼Œä½ å¯ä»¥éšæ—¶å›åˆ°äº§å“çš„ <strong>Cancellation</strong> é€‰é¡¹å¡ï¼Œå°†äº§å“ä¸è½¬ç§»ä»£ç åˆ†ç¦»ï¼ˆæ’¤é”€è½¬ç§»ï¼‰ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7aede050a8447529ff30d7482569d31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=ipquS7Y1ElyIAlHbesGME0dt16I%3D" alt="image-zwez.webp" loading="lazy"/></p>
<h3 data-id="heading-7">ç¬¬äºŒé˜¶æ®µï¼šæ¥æ”¶æ–¹ï¼ˆä¹°å®¶/æ–°å·ä¸»ï¼‰æ“ä½œæŒ‡å—</h3>
<p><strong>å‰ç½®æ¡ä»¶ï¼š</strong> æ¥æ”¶æ–¹å¿…é¡»å·²ç»æ‹¥æœ‰ä¸€ä¸ªæ³¨å†Œå¥½ä¸”æ¿€æ´»çš„ Netcup è´¦å·ã€‚</p>
<h4 data-id="heading-8">1. è¿›å…¥æ‰€æœ‰æƒå˜æ›´å…¥å£</h4>
<p>ç™»å½•ä½ çš„ CCP é¢æ¿ï¼Œåœ¨é¦–é¡µçš„å³ä¸Šè§’æ‰¾åˆ°å¹¶ç‚¹å‡» <strong>Change of ownership</strong>ï¼ˆæ‰€æœ‰æƒå˜æ›´ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45646fa8872b49d3adde13074946ff6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=zCKecbUJ7ZVeQV7VExpq3dJWDP0%3D" alt="image-uCRV.webp" loading="lazy"/></p>
<h4 data-id="heading-9">2. è¾“å…¥è½¬ç§»ç </h4>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼ˆçº¢æ¡†ä½ç½®ï¼‰ï¼Œè¾“å…¥å–å®¶æä¾›ç»™ä½ çš„ <strong>è½¬ç§»ä»£ç </strong>ï¼Œç„¶åç‚¹å‡»åº•éƒ¨çš„ <strong>Check dependencies</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d31141de29d47baaf6c677af3cf7648~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=pvDv0cxGpClHzHyrKfLZAvhX2mk%3D" alt="image-wxOx.webp" loading="lazy"/></p>
<h4 data-id="heading-10">3. ç¡®è®¤å¹¶æ¥æ”¶äº§å“</h4>
<p>ç³»ç»Ÿä¼šæ˜¾ç¤ºè¯¥è½¬ç§»ç å¯¹åº”çš„äº§å“è¯¦æƒ…ï¼ˆè¯·åŠ¡å¿…æ ¸å¯¹äº§å“é…ç½®å’Œè´¹ç”¨æ˜¯å¦ä¸çº¦å®šä¸€è‡´ï¼‰ã€‚ç¡®è®¤æ— è¯¯åï¼Œç‚¹å‡»åº•éƒ¨çš„ <strong>Activate owner change</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/883f24d1b66b4fa88e4d91819c2abb24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=FeMAYo39A7CsWbfFCBwRHe%2FEH7Y%3D" alt="image-QpNA.webp" loading="lazy"/></p>
<h4 data-id="heading-11">4. è½¬ç§»å®Œæˆ</h4>
<p>ç‚¹å‡»ç¡®è®¤åï¼Œç³»ç»Ÿä¼šå¤„ç†è½¬ç§»è¯·æ±‚ã€‚ä¸€æ—¦å®Œæˆï¼ŒåŒæ–¹ï¼ˆè½¬å‡ºæ–¹å’Œæ¥æ”¶æ–¹ï¼‰éƒ½ä¼šæ”¶åˆ° Netcup å‘æ¥çš„ç¡®è®¤é‚®ä»¶é€šçŸ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/643790dac22341619402310688ca4ff0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768406027&amp;x-signature=Zbr8PWzJUpvp9ZgMRt8P5%2BHWwqk%3D" alt="image-tWUM.webp" loading="lazy"/></p>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šç®€å•çš„å‡ æ­¥ï¼Œä½ å°±å¯ä»¥è½»æ¾å®Œæˆ Netcup VPS çš„ Push æ“ä½œã€‚æ•´ä¸ªè¿‡ç¨‹å®˜æ–¹ä¸æ”¶å–æ‰‹ç»­è´¹ï¼ˆVPSç±»ï¼‰ï¼Œä¸”æ— éœ€å®¢æœä»‹å…¥ï¼Œéå¸¸é«˜æ•ˆã€‚</p>
<p>å¦‚æœä½ åœ¨æ“ä½œè¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•æŠ¥é”™æˆ–ç–‘é—®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p>
<blockquote>
<p>åŸæ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.legacyvps.com%2Farchives%2Fhow-to-transfer-push-netcup-vps-guide" target="_blank" title="https://www.legacyvps.com/archives/how-to-transfer-push-netcup-vps-guide" ref="nofollow noopener noreferrer">www.legacyvps.com/archives/hoâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Squoosh WASM çš„æµè§ˆå™¨ç«¯å›¾ç‰‡è½¬æ¢åº“]]></title>    <link>https://juejin.cn/post/7592483877986451462</link>    <guid>https://juejin.cn/post/7592483877986451462</guid>    <pubDate>2026-01-07T18:21:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592483877986451462" data-draft-id="7592148975849553963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Squoosh WASM çš„æµè§ˆå™¨ç«¯å›¾ç‰‡è½¬æ¢åº“"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-01-07T18:21:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump_jump"/> <meta itemprop="url" content="https://juejin.cn/user/4230576474692765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Squoosh WASM çš„æµè§ˆå™¨ç«¯å›¾ç‰‡è½¬æ¢åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576474692765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump_jump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T18:21:01.000Z" title="Wed Jan 07 2026 18:21:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>åœ¨ Web å¼€å‘ä¸­ï¼Œå›¾ç‰‡å¤„ç†æ˜¯ä¸€ä¸ªå¸¸è§éœ€æ±‚ã€‚ä¼ ç»Ÿæ–¹æ¡ˆè¦ä¹ˆä¾èµ–æœåŠ¡ç«¯å¤„ç†ï¼Œè¦ä¹ˆä½¿ç”¨ Canvas APIï¼Œä½†å‰è€…å¢åŠ æœåŠ¡å™¨è´Ÿæ‹…ï¼Œåè€…åœ¨å‹ç¼©è´¨é‡ä¸Šä¸å°½äººæ„ã€‚Google çš„ Squoosh é¡¹ç›®æä¾›äº†åŸºäº WASM çš„é«˜è´¨é‡å›¾ç‰‡ç¼–è§£ç å™¨ï¼Œä½†ç›´æ¥ä½¿ç”¨æ¯”è¾ƒç¹çã€‚</p>
<p>äºæ˜¯æˆ‘å°è£…äº† use-squooshï¼Œä¸€ä¸ªé›¶ä¾èµ–çš„æµè§ˆå™¨ç«¯å›¾ç‰‡è½¬æ¢åº“ï¼Œé€šè¿‡ CDN æŒ‰éœ€åŠ è½½ç¼–è§£ç å™¨ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåº“</h2>
<h3 data-id="heading-1">ç°æœ‰æ–¹æ¡ˆçš„å±€é™æ€§</h3>






























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>æœåŠ¡ç«¯å¤„ç†</td><td>ç¨³å®šå¯é </td><td>å¢åŠ æœåŠ¡å™¨è´Ÿæ‹…ã€ç½‘ç»œå¼€é”€</td></tr><tr><td>Canvas API</td><td>æ— ä¾èµ–</td><td>JPEG è´¨é‡å·®ã€ä¸æ”¯æŒ WebP ç¼–ç </td></tr><tr><td>ç›´æ¥ä½¿ç”¨ @jsquash</td><td>è´¨é‡å¥½</td><td>éœ€è¦æ‰‹åŠ¨ç®¡ç†å¤šä¸ªåŒ…ã€é…ç½® WASM</td></tr><tr><td>åœ¨çº¿å·¥å…·</td><td>ç®€å•</td><td>éšç§é£é™©ã€æ‰¹é‡å¤„ç†ä¸ä¾¿</td></tr></tbody></table>
<h3 data-id="heading-2">Canvas çš„è´¨é‡é—®é¢˜</h3>
<p>Canvas çš„ <code>toBlob()</code> å’Œ <code>toDataURL()</code> æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†å­˜åœ¨æ˜æ˜¾ç¼ºé™·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Canvas æ–¹å¼</span>
canvas.<span class="hljs-title function_">toBlob</span>(callback, <span class="hljs-string">'image/jpeg'</span>, <span class="hljs-number">0.8</span>);
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ol>
<li>JPEG ç¼–ç å™¨è´¨é‡è¾ƒå·®ï¼ŒåŒç­‰æ–‡ä»¶å¤§å°ä¸‹æ¸…æ™°åº¦ä¸å¦‚ä¸“ä¸šç¼–ç å™¨</li>
<li>ä¸æ”¯æŒ WebP ç¼–ç ï¼ˆéƒ¨åˆ†æ—§æµè§ˆå™¨ï¼‰</li>
<li>æ— æ³•ç²¾ç¡®æ§åˆ¶ç¼–ç å‚æ•°</li>
</ol>
<h3 data-id="heading-3">Squoosh çš„ä¼˜åŠ¿</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fsquoosh.app%2F" target="_blank" title="https://squoosh.app/" ref="nofollow noopener noreferrer">Squoosh</a> æ˜¯ Google Chrome Labs å¼€å‘çš„å›¾ç‰‡å‹ç¼©å·¥å…·ï¼Œå…¶æ ¸å¿ƒæ˜¯ä¸€ç³»åˆ—ç¼–è¯‘ä¸º WASM çš„é«˜æ€§èƒ½ç¼–è§£ç å™¨ï¼š</p>
<ul>
<li><strong>MozJPEG</strong>ï¼šMozilla ä¼˜åŒ–çš„ JPEG ç¼–ç å™¨ï¼ŒåŒç­‰è´¨é‡ä¸‹æ–‡ä»¶æ›´å°</li>
<li><strong>libwebp</strong>ï¼šGoogle å®˜æ–¹ WebP ç¼–è§£ç å™¨</li>
<li><strong>OxiPNG</strong>ï¼šRust ç¼–å†™çš„ PNG ä¼˜åŒ–å™¨</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnickreese%2FjSquash" target="_blank" title="https://github.com/nickreese/jSquash" ref="nofollow noopener noreferrer">@jsquash</a> å°†è¿™äº›ç¼–è§£ç å™¨å°è£…ä¸ºç‹¬ç«‹çš„ npm åŒ…ï¼Œä½†ç›´æ¥ä½¿ç”¨éœ€è¦ï¼š</p>
<ol>
<li>å®‰è£…å¤šä¸ªåŒ…ï¼ˆ@jsquash/webpã€@jsquash/pngã€@jsquash/jpegï¼‰</li>
<li>æ‰‹åŠ¨å¤„ç† WASM æ–‡ä»¶åŠ è½½</li>
<li>ç®¡ç†ç¼–è§£ç å™¨çš„åˆå§‹åŒ–</li>
</ol>
<p>use-squoosh è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p>
<h2 data-id="heading-4">æ ¸å¿ƒè®¾è®¡æ€è·¯</h2>
<h3 data-id="heading-5">é›¶ä¾èµ– + CDN åŠ è½½</h3>
<p>æœ€æ ¸å¿ƒçš„è®¾è®¡å†³ç­–æ˜¯ï¼š<strong>ä¸æ‰“åŒ…ç¼–è§£ç å™¨ï¼Œè¿è¡Œæ—¶ä» CDN åŠ è½½</strong>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç¼–è§£ç å™¨é€šè¿‡åŠ¨æ€ import ä» CDN åŠ è½½</span>
<span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${cdnConfig.baseUrl}</span>/@jsquash/webp@<span class="hljs-subst">${version}</span>/encode.js`</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* @vite-ignore */</span> url);
</code></pre>
<p><strong>å¥½å¤„ï¼š</strong></p>
<ol>
<li>åº“æœ¬èº«ä½“ç§¯æå°ï¼ˆ&lt; 5KB gzippedï¼‰</li>
<li>ç¼–è§£ç å™¨æŒ‰éœ€åŠ è½½ï¼Œä¸ä½¿ç”¨çš„æ ¼å¼ä¸ä¼šä¸‹è½½</li>
<li>åˆ©ç”¨ CDN ç¼“å­˜ï¼Œå¤šé¡¹ç›®å…±äº«åŒä¸€ä»½ WASM</li>
</ol>
<p><strong>åŠ è½½æ—¶æœºï¼š</strong></p>
<ul>
<li>é¦–æ¬¡è°ƒç”¨è½¬æ¢å‡½æ•°æ—¶åŠ è½½å¯¹åº”æ ¼å¼çš„ç¼–è§£ç å™¨</li>
<li>åŠ è½½åç¼“å­˜åˆ° <code>window</code> å¯¹è±¡ï¼Œé¡µé¢å†…å¤ç”¨</li>
<li>æ”¯æŒé¢„åŠ è½½å…³é”®æ ¼å¼</li>
</ul>
<h3 data-id="heading-6">Promise ç¼“å­˜é¿å…ç«æ€</h3>
<p>å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½åŒæ—¶è§¦å‘å¤šæ¬¡åŠ è½½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šå¯èƒ½é‡å¤åŠ è½½</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getEncoder</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!cache.<span class="hljs-property">encoder</span>) {
    cache.<span class="hljs-property">encoder</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(url);  <span class="hljs-comment">// å¹¶å‘æ—¶ä¼šå¤šæ¬¡è§¦å‘</span>
  }
  <span class="hljs-keyword">return</span> cache.<span class="hljs-property">encoder</span>;
}
</code></pre>
<p>è§£å†³æ–¹æ¡ˆæ˜¯ç¼“å­˜ Promise è€Œéç»“æœï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹ï¼šç¼“å­˜ Promise</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCodec</span>(<span class="hljs-params"><span class="hljs-keyword">type</span>: CodecType</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-title function_">getCache</span>();
  <span class="hljs-keyword">if</span> (!cache[<span class="hljs-keyword">type</span>]) {
    <span class="hljs-comment">// ç¼“å­˜ Promise æœ¬èº«ï¼Œè€Œé await åçš„ç»“æœ</span>
    cache[<span class="hljs-keyword">type</span>] = <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* @vite-ignore */</span> url);
  }
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> cache[<span class="hljs-keyword">type</span>];
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>;
}
</code></pre>
<p>è¿™æ ·å³ä½¿å¹¶å‘è°ƒç”¨ï¼Œä¹Ÿåªä¼šè§¦å‘ä¸€æ¬¡ç½‘ç»œè¯·æ±‚ã€‚</p>
<h3 data-id="heading-7">å…¨å±€ç¼“å­˜æ”¯æŒå¤šé¡¹ç›®å…±äº«</h3>
<p>ç¼–è§£ç å™¨æŒ‚è½½åˆ° <code>window</code> å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCache</span>(<span class="hljs-params"/>): <span class="hljs-title class_">CodecCache</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">"undefined"</span>) {
    <span class="hljs-keyword">const</span> key = cdnConfig.<span class="hljs-property">cacheKey</span>;
    <span class="hljs-keyword">if</span> (!(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)[key]) {
      (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)[key] = <span class="hljs-title function_">createEmptyCache</span>();
    }
    <span class="hljs-keyword">return</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)[key];
  }
  <span class="hljs-keyword">return</span> moduleCache;  <span class="hljs-comment">// éæµè§ˆå™¨ç¯å¢ƒå›é€€</span>
}
</code></pre>
<p><strong>å¥½å¤„ï¼š</strong></p>
<ul>
<li>åŒä¸€é¡µé¢å¤šä¸ªç»„ä»¶/åº“ä½¿ç”¨ use-squooshï¼Œå…±äº«ç¼–è§£ç å™¨</li>
<li>é¡µé¢å¯¼èˆªä¸é‡æ–°åŠ è½½ï¼ˆSPA åœºæ™¯ï¼‰</li>
<li>å¯é…ç½® <code>cacheKey</code> å®ç°éš”ç¦»</li>
</ul>
<h2 data-id="heading-8">å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-9">æ ¼å¼è‡ªåŠ¨æ£€æµ‹</h3>
<p>å½“è¾“å…¥æ˜¯ <code>Blob</code> æˆ– <code>File</code> æ—¶ï¼Œè‡ªåŠ¨ä» MIME ç±»å‹æ£€æµ‹æ ¼å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">FORMAT_MAP</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ImageFormat</span>&gt; = {
  <span class="hljs-string">"image/png"</span>: <span class="hljs-string">"png"</span>,
  <span class="hljs-string">"image/jpeg"</span>: <span class="hljs-string">"jpeg"</span>,
  <span class="hljs-string">"image/webp"</span>: <span class="hljs-string">"webp"</span>,
  <span class="hljs-comment">// åŒæ—¶æ”¯æŒæ‰©å±•å</span>
  <span class="hljs-attr">png</span>: <span class="hljs-string">"png"</span>,
  <span class="hljs-attr">jpeg</span>: <span class="hljs-string">"jpeg"</span>,
  <span class="hljs-attr">jpg</span>: <span class="hljs-string">"jpeg"</span>,
  <span class="hljs-attr">webp</span>: <span class="hljs-string">"webp"</span>,
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">convert</span>(<span class="hljs-params">
  input: <span class="hljs-built_in">ArrayBuffer</span> | Blob | File,
  options: ConvertOptions = {},
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ArrayBuffer</span>&gt; {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">buffer</span>: <span class="hljs-title class_">ArrayBuffer</span>;
  <span class="hljs-keyword">let</span> fromFormat = options.<span class="hljs-property">from</span>;

  <span class="hljs-keyword">if</span> (input <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Blob</span> || input <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">File</span>) {
    buffer = <span class="hljs-keyword">await</span> input.<span class="hljs-title function_">arrayBuffer</span>();
    <span class="hljs-comment">// è‡ªåŠ¨æ£€æµ‹æ ¼å¼</span>
    <span class="hljs-keyword">if</span> (!fromFormat &amp;&amp; input.<span class="hljs-property">type</span>) {
      fromFormat = <span class="hljs-title function_">getFormat</span>(input.<span class="hljs-property">type</span>) ?? <span class="hljs-literal">undefined</span>;
    }
  } <span class="hljs-keyword">else</span> {
    buffer = input;
  }

  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-10">è§£ç  -&gt; ç¼–ç æµç¨‹</h3>
<p>å›¾ç‰‡è½¬æ¢æœ¬è´¨æ˜¯ï¼šè§£ç ä¸º ImageData â†’ ç¼–ç ä¸ºç›®æ ‡æ ¼å¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">decode</span>(<span class="hljs-params">
  buffer: <span class="hljs-built_in">ArrayBuffer</span>,
  <span class="hljs-keyword">type</span>: ImageFormat,
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ImageData</span>&gt; {
  <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">type</span>.<span class="hljs-title function_">toLowerCase</span>()) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"png"</span>: {
      <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPngDecoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">decoder</span>(buffer);
    }
    <span class="hljs-keyword">case</span> <span class="hljs-string">"jpeg"</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">"jpg"</span>: {
      <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getJpegDecoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">decoder</span>(buffer);
    }
    <span class="hljs-keyword">case</span> <span class="hljs-string">"webp"</span>: {
      <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getWebpDecoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">decoder</span>(buffer);
    }
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unsupported decode type: <span class="hljs-subst">${<span class="hljs-keyword">type</span>}</span>`</span>);
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">encode</span>(<span class="hljs-params">
  imageData: ImageData,
  <span class="hljs-keyword">type</span>: ImageFormat,
  options: { quality?: <span class="hljs-built_in">number</span> } = {},
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ArrayBuffer</span>&gt; {
  <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">type</span>.<span class="hljs-title function_">toLowerCase</span>()) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"png"</span>: {
      <span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPngEncoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">encoder</span>(imageData);  <span class="hljs-comment">// PNG æ— æŸï¼Œä¸éœ€è¦ quality</span>
    }
    <span class="hljs-keyword">case</span> <span class="hljs-string">"jpeg"</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">"jpg"</span>: {
      <span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getJpegEncoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">encoder</span>(imageData, { <span class="hljs-attr">quality</span>: options.<span class="hljs-property">quality</span> ?? <span class="hljs-number">75</span> });
    }
    <span class="hljs-keyword">case</span> <span class="hljs-string">"webp"</span>: {
      <span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getWebpEncoder</span>();
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">encoder</span>(imageData, { <span class="hljs-attr">quality</span>: options.<span class="hljs-property">quality</span> ?? <span class="hljs-number">75</span> });
    }
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unsupported encode type: <span class="hljs-subst">${<span class="hljs-keyword">type</span>}</span>`</span>);
  }
}
</code></pre>
<h3 data-id="heading-11">CDN é…ç½®ç³»ç»Ÿ</h3>
<p>æ”¯æŒè‡ªå®šä¹‰ CDN åœ°å€å’Œç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CDNConfig</span> {
  baseUrl?: <span class="hljs-built_in">string</span>;      <span class="hljs-comment">// CDN åŸºç¡€è·¯å¾„</span>
  webpVersion?: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// @jsquash/webp ç‰ˆæœ¬</span>
  pngVersion?: <span class="hljs-built_in">string</span>;   <span class="hljs-comment">// @jsquash/png ç‰ˆæœ¬</span>
  jpegVersion?: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// @jsquash/jpeg ç‰ˆæœ¬</span>
  cacheKey?: <span class="hljs-built_in">string</span>;     <span class="hljs-comment">// window ç¼“å­˜ key</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">defaultCDNConfig</span>: <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">CDNConfig</span>&gt; = {
  <span class="hljs-attr">baseUrl</span>: <span class="hljs-string">"https://cdn.jsdelivr.net/npm"</span>,
  <span class="hljs-attr">webpVersion</span>: <span class="hljs-string">"1.5.0"</span>,
  <span class="hljs-attr">pngVersion</span>: <span class="hljs-string">"3.1.1"</span>,
  <span class="hljs-attr">jpegVersion</span>: <span class="hljs-string">"1.6.0"</span>,
  <span class="hljs-attr">cacheKey</span>: <span class="hljs-string">"__ImageConverterCache__"</span>,
};
</code></pre>
<p><strong>æ™ºèƒ½ç¼“å­˜æ¸…é™¤ï¼š</strong> åªæœ‰ CDN ç›¸å…³é…ç½®å˜æ›´æ—¶æ‰æ¸…é™¤ç¼“å­˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">configure</span>(<span class="hljs-params">config: CDNConfig</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">cdnKeys</span>: (keyof <span class="hljs-title class_">CDNConfig</span>)[] = [
    <span class="hljs-string">"baseUrl"</span>, <span class="hljs-string">"webpVersion"</span>, <span class="hljs-string">"pngVersion"</span>, <span class="hljs-string">"jpegVersion"</span>,
  ];

  <span class="hljs-comment">// åªæœ‰è¿™äº›å­—æ®µå˜æ›´æ‰æ¸…é™¤ç¼“å­˜</span>
  <span class="hljs-keyword">const</span> needsClearCache = cdnKeys.<span class="hljs-title function_">some</span>(
    <span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> key <span class="hljs-keyword">in</span> config &amp;&amp; config[key] !== cdnConfig[key],
  );

  cdnConfig = { ...cdnConfig, ...config };

  <span class="hljs-keyword">if</span> (needsClearCache) {
    <span class="hljs-title function_">clearCache</span>();
  }
}
</code></pre>
<h3 data-id="heading-12">ç¼–è§£ç å™¨ URL ç”Ÿæˆ</h3>
<p>ç»Ÿä¸€ç®¡ç†ç¼–è§£ç å™¨çš„åŒ…åã€ç‰ˆæœ¬å’Œæ–‡ä»¶è·¯å¾„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">codecConfig</span>: <span class="hljs-title class_">Record</span>&lt;
  <span class="hljs-title class_">CodecType</span>,
  { <span class="hljs-attr">pkg</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">version</span>: keyof <span class="hljs-title class_">CDNConfig</span>; <span class="hljs-attr">file</span>: <span class="hljs-built_in">string</span> }
&gt; = {
  <span class="hljs-attr">webpEncoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/webp"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"webpVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"encode.js"</span> },
  <span class="hljs-attr">webpDecoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/webp"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"webpVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"decode.js"</span> },
  <span class="hljs-attr">pngEncoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/png"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"pngVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"encode.js"</span> },
  <span class="hljs-attr">pngDecoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/png"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"pngVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"decode.js"</span> },
  <span class="hljs-attr">jpegEncoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/jpeg"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"jpegVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"encode.js"</span> },
  <span class="hljs-attr">jpegDecoder</span>: { <span class="hljs-attr">pkg</span>: <span class="hljs-string">"@jsquash/jpeg"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"jpegVersion"</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">"decode.js"</span> },
};

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCodec</span>(<span class="hljs-params"><span class="hljs-keyword">type</span>: CodecType</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-title function_">getCache</span>();
  <span class="hljs-keyword">if</span> (!cache[<span class="hljs-keyword">type</span>]) {
    <span class="hljs-keyword">const</span> { pkg, version, file } = codecConfig[<span class="hljs-keyword">type</span>];
    <span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${cdnConfig.baseUrl}</span>/<span class="hljs-subst">${pkg}</span>@<span class="hljs-subst">${cdnConfig[version]}</span>/<span class="hljs-subst">${file}</span>`</span>;
    cache[<span class="hljs-keyword">type</span>] = <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* @vite-ignore */</span> url);
  }
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> cache[<span class="hljs-keyword">type</span>];
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>;
}
</code></pre>
<h2 data-id="heading-13">ä½¿ç”¨æ–¹å¼</h2>
<h3 data-id="heading-14">åŸºæœ¬ä½¿ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { convert, pngToWebp, compress } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-squoosh'</span>;

<span class="hljs-comment">// æ–‡ä»¶é€‰æ‹©å™¨è·å–å›¾ç‰‡</span>
<span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];

<span class="hljs-comment">// PNG è½¬ WebP</span>
<span class="hljs-keyword">const</span> webpBuffer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">pngToWebp</span>(file, { <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span> });

<span class="hljs-comment">// é€šç”¨è½¬æ¢</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">convert</span>(file, {
  <span class="hljs-attr">from</span>: <span class="hljs-string">'png'</span>,    <span class="hljs-comment">// Blob/File å¯çœç•¥ï¼Œè‡ªåŠ¨æ£€æµ‹</span>
  <span class="hljs-attr">to</span>: <span class="hljs-string">'webp'</span>,
  <span class="hljs-attr">quality</span>: <span class="hljs-number">85</span>
});

<span class="hljs-comment">// å‹ç¼©ï¼ˆä¿æŒåŸæ ¼å¼ï¼‰</span>
<span class="hljs-keyword">const</span> compressed = <span class="hljs-keyword">await</span> <span class="hljs-title function_">compress</span>(file, {
  <span class="hljs-attr">format</span>: <span class="hljs-string">'jpeg'</span>,
  <span class="hljs-attr">quality</span>: <span class="hljs-number">70</span>
});
</code></pre>
<h3 data-id="heading-15">é…ç½® CDN</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { configure } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-squoosh'</span>;

<span class="hljs-comment">// ä½¿ç”¨ unpkg</span>
<span class="hljs-title function_">configure</span>({ <span class="hljs-attr">baseUrl</span>: <span class="hljs-string">'https://unpkg.com'</span> });

<span class="hljs-comment">// ä½¿ç”¨è‡ªæ‰˜ç®¡ CDN</span>
<span class="hljs-title function_">configure</span>({ <span class="hljs-attr">baseUrl</span>: <span class="hljs-string">'https://your-cdn.com/npm'</span> });

<span class="hljs-comment">// é”å®šç‰¹å®šç‰ˆæœ¬</span>
<span class="hljs-title function_">configure</span>({
  <span class="hljs-attr">webpVersion</span>: <span class="hljs-string">'1.5.0'</span>,
  <span class="hljs-attr">pngVersion</span>: <span class="hljs-string">'3.1.1'</span>,
  <span class="hljs-attr">jpegVersion</span>: <span class="hljs-string">'1.6.0'</span>
});
</code></pre>
<h3 data-id="heading-16">é¢„åŠ è½½ä¼˜åŒ–é¦–å±</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { preload, isLoaded } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-squoosh'</span>;

<span class="hljs-comment">// é¡µé¢åŠ è½½æ—¶é¢„åŠ è½½å¸¸ç”¨æ ¼å¼</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">preload</span>([<span class="hljs-string">'webp'</span>, <span class="hljs-string">'png'</span>]);

<span class="hljs-comment">// æ£€æŸ¥åŠ è½½çŠ¶æ€</span>
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isLoaded</span>(<span class="hljs-string">'webp'</span>)) {
  <span class="hljs-comment">// WebP ç¼–è§£ç å™¨å·²å°±ç»ª</span>
}
</code></pre>
<h3 data-id="heading-17">å·¥å…·å‡½æ•°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { toBlob, toDataURL, download } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-squoosh'</span>;

<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">pngToWebp</span>(file);

<span class="hljs-comment">// è½¬ä¸º Blob</span>
<span class="hljs-keyword">const</span> blob = <span class="hljs-title function_">toBlob</span>(buffer, <span class="hljs-string">'image/webp'</span>);

<span class="hljs-comment">// è½¬ä¸º Data URLï¼ˆç”¨äº img.srcï¼‰</span>
<span class="hljs-keyword">const</span> dataUrl = <span class="hljs-keyword">await</span> <span class="hljs-title function_">toDataURL</span>(buffer, <span class="hljs-string">'image/webp'</span>);

<span class="hljs-comment">// è§¦å‘ä¸‹è½½</span>
<span class="hljs-title function_">download</span>(buffer, <span class="hljs-string">'converted.webp'</span>, <span class="hljs-string">'image/webp'</span>);
</code></pre>
<h2 data-id="heading-18">è‡ªæ‰˜ç®¡ CDN</h2>
<p>å¦‚æœä¸æƒ³ä¾èµ–å…¬å…± CDNï¼Œå¯ä»¥è‡ªæ‰˜ç®¡ç¼–è§£ç å™¨æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-19">ç›®å½•ç»“æ„è¦æ±‚</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">your-cdn.com/npm/
  <span class="hljs-meta">@jsquash</span>/
    <span class="hljs-symbol">webp@</span><span class="hljs-number">1.5</span><span class="hljs-number">.0</span>/
      encode.js
      decode.js
    <span class="hljs-symbol">png@</span><span class="hljs-number">3.1</span><span class="hljs-number">.1</span>/
      encode.js
      decode.js
    <span class="hljs-symbol">jpeg@</span><span class="hljs-number">1.6</span><span class="hljs-number">.0</span>/
      encode.js
      decode.js
</code></pre>
<h3 data-id="heading-20">è·å–æ–‡ä»¶</h3>
<p>ä» npm ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½ @jsquash åŒ…</span>
npm pack @jsquash/webp@1.5.0
npm pack @jsquash/png@3.1.1
npm pack @jsquash/jpeg@1.6.0

<span class="hljs-comment"># è§£å‹å¹¶éƒ¨ç½²åˆ° CDN</span>
</code></pre>
<h3 data-id="heading-21">é…ç½®ä½¿ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">configure</span>({
  <span class="hljs-attr">baseUrl</span>: <span class="hljs-string">'https://your-cdn.com/npm'</span>,
  <span class="hljs-attr">webpVersion</span>: <span class="hljs-string">'1.5.0'</span>,
  <span class="hljs-attr">pngVersion</span>: <span class="hljs-string">'3.1.1'</span>,
  <span class="hljs-attr">jpegVersion</span>: <span class="hljs-string">'1.6.0'</span>
});
</code></pre>
<h2 data-id="heading-22">å‹ç¼©æ•ˆæœå¯¹æ¯”</h2>
<p>ä»¥ä¸€å¼  1920x1080 çš„ PNG æˆªå›¾ä¸ºä¾‹ï¼š</p>









































<table><thead><tr><th>è¾“å‡ºæ ¼å¼</th><th>Quality</th><th>æ–‡ä»¶å¤§å°</th><th>å‹ç¼©ç‡</th></tr></thead><tbody><tr><td>åŸå§‹ PNG</td><td>-</td><td>2.1 MB</td><td>-</td></tr><tr><td>WebP</td><td>80</td><td>186 KB</td><td>91%</td></tr><tr><td>WebP</td><td>90</td><td>312 KB</td><td>85%</td></tr><tr><td>JPEG</td><td>80</td><td>245 KB</td><td>88%</td></tr><tr><td>JPEG</td><td>90</td><td>398 KB</td><td>81%</td></tr></tbody></table>
<p>WebP åœ¨åŒç­‰è§†è§‰è´¨é‡ä¸‹ï¼Œæ–‡ä»¶å¤§å°æ¯” JPEG å°çº¦ 25-35%ã€‚</p>
<h2 data-id="heading-23">æµè§ˆå™¨å…¼å®¹æ€§</h2>
<p>éœ€è¦æ”¯æŒ WebAssembly å’ŒåŠ¨æ€ importï¼š</p>

























<table><thead><tr><th>æµè§ˆå™¨</th><th>æœ€ä½ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>Chrome</td><td>57+</td></tr><tr><td>Firefox</td><td>52+</td></tr><tr><td>Safari</td><td>11+</td></tr><tr><td>Edge</td><td>16+</td></tr></tbody></table>
<p>è¦†ç›–å…¨çƒ 95%+ çš„ç”¨æˆ·ã€‚</p>
<h2 data-id="heading-24">ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”</h2>

































































<table><thead><tr><th>ç‰¹æ€§</th><th>use-squoosh</th><th>browser-image-compression</th><th>ç›´æ¥ä½¿ç”¨ @jsquash</th></tr></thead><tbody><tr><td>åŒ…å¤§å°</td><td>&lt; 5KB</td><td>~50KB</td><td>~2KB Ã— 6</td></tr><tr><td>è¿è¡Œæ—¶ä¾èµ–</td><td>CDN åŠ è½½</td><td>æ‰“åŒ…åœ¨å†…</td><td>éœ€æ‰‹åŠ¨é…ç½®</td></tr><tr><td>WebP æ”¯æŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>PNG ä¼˜åŒ–</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>è´¨é‡æ§åˆ¶</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>è‡ªåŠ¨æ ¼å¼æ£€æµ‹</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>é¢„åŠ è½½</td><td>âœ…</td><td>âŒ</td><td>éœ€æ‰‹åŠ¨</td></tr><tr><td>è‡ªå®šä¹‰ CDN</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>TypeScript</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr></tbody></table>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>use-squoosh é€šè¿‡ä»¥ä¸‹è®¾è®¡å®ç°äº†æ˜“ç”¨çš„æµè§ˆå™¨ç«¯å›¾ç‰‡è½¬æ¢ï¼š</p>
<ol>
<li><strong>é›¶ä¾èµ–è®¾è®¡</strong>ï¼šç¼–è§£ç å™¨æŒ‰éœ€ä» CDN åŠ è½½ï¼Œåº“æœ¬èº«æè½»é‡</li>
<li><strong>Promise ç¼“å­˜</strong>ï¼šé¿å…å¹¶å‘åœºæ™¯é‡å¤åŠ è½½</li>
<li><strong>å…¨å±€å…±äº«</strong>ï¼šå¤šç»„ä»¶/é¡¹ç›®å¤ç”¨ç¼–è§£ç å™¨</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰ CDN å’Œç‰ˆæœ¬é”å®š</li>
<li><strong>TypeScript</strong>ï¼šå®Œæ•´ç±»å‹å®šä¹‰ï¼Œå¼€å‘ä½“éªŒå¥½</li>
</ol>
<p>é¡¹ç›®å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwsafight%2Fuse-squoosh" target="_blank" title="https://github.com/wsafight/use-squoosh" ref="nofollow noopener noreferrer">github.com/wsafight/usâ€¦</a></p>
<p>æ¬¢è¿æå‡º issue å’Œ PRã€‚</p>
<h2 data-id="heading-26">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsquoosh.app%2F" target="_blank" title="https://squoosh.app/" ref="nofollow noopener noreferrer">Squoosh</a> - Google çš„åœ¨çº¿å›¾ç‰‡å‹ç¼©å·¥å…·</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjamsinclair%2FjSquash" target="_blank" title="https://github.com/jamsinclair/jSquash" ref="nofollow noopener noreferrer">jSquash</a> - Squoosh ç¼–è§£ç å™¨çš„ npm å°è£…</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebassembly.org%2F" target="_blank" title="https://webassembly.org/" ref="nofollow noopener noreferrer">WebAssembly</a> - æµè§ˆå™¨ç«¯é«˜æ€§èƒ½è¿è¡Œæ—¶</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è®²æ¸…ï¼šä¸»æµå¤§æ¨¡å‹æ¨ç†éƒ¨ç½²æ¡†æ¶ï¼švLLMã€SGLangã€TensorRT-LLMã€ollamaã€XInference]]></title>    <link>https://juejin.cn/post/7592451049233776686</link>    <guid>https://juejin.cn/post/7592451049233776686</guid>    <pubDate>2026-01-07T16:49:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592451049233776686" data-draft-id="7592507671082123274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è®²æ¸…ï¼šä¸»æµå¤§æ¨¡å‹æ¨ç†éƒ¨ç½²æ¡†æ¶ï¼švLLMã€SGLangã€TensorRT-LLMã€ollamaã€XInference"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2026-01-07T16:49:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è®²æ¸…ï¼šä¸»æµå¤§æ¨¡å‹æ¨ç†éƒ¨ç½²æ¡†æ¶ï¼švLLMã€SGLangã€TensorRT-LLMã€ollamaã€XInference
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T16:49:31.000Z" title="Wed Jan 07 2026 16:49:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç³»ç»Ÿæ€§æ¢³ç†å½“å‰ä¸»æµçš„å¤§æ¨¡å‹æ¨ç†éƒ¨ç½²æ¡†æ¶ï¼ŒåŒ…æ‹¬vLLMã€SGLangã€TensorRT-LLMã€Ollamaã€XInferenceç­‰ã€‚</p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„è¿…çŒ›æ¼”è¿›ï¼Œæ¨ç†éƒ¨ç½²æ¡†æ¶ä½œä¸ºè´¯é€šæ¨¡å‹èƒ½åŠ›ä¸è½åœ°åº”ç”¨çš„æ ¸å¿ƒæ¢çº½ï¼Œå…¶æˆ˜ç•¥ä»·å€¼æ­£æŒç»­æ”€å‡ã€‚æœ¬æ–‡æ—¨åœ¨å¯¹å½“å‰ä¸šç•Œå¹¿æ³›é‡‡ç”¨çš„ vLLMã€SGLangã€TensorRT-LLMã€Ollama ä¸ XInference ç­‰ä¸»æµæ¨ç†æ¡†æ¶å±•å¼€ç³»ç»Ÿæ€§å½’çº³ï¼Œå›´ç»•æ ¸å¿ƒæŠ€æœ¯è·¯å¾„ã€ç³»ç»Ÿæ¶æ„è®¾è®¡ã€å…³é”®æ€§èƒ½æŒ‡æ ‡åŠå…¸å‹é€‚ç”¨åœºæ™¯ç­‰å¤šç»´åº¦è¿›è¡Œæ·±åº¦å‰–æï¼Œä¸ºå¤§æ¨¡å‹åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„é€‰å‹å†³ç­–æä¾›åšå®ä¾æ®ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€vLLMï¼šåŸºäºPyTorchçš„é«˜æ€§èƒ½æ¨ç†å¼•æ“</h2>
<p>vLLMï¼ˆVectorized Large Language Model Serving Systemï¼‰æ˜¯åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡å›¢é˜Ÿæ¨å‡ºçš„å¼€æºæ¨ç†ç³»ç»Ÿï¼Œæ—¨åœ¨çªç ´å¤§æ¨¡å‹éƒ¨ç½²ä¸­æ˜¾å­˜åˆ©ç”¨ç‡ä½ä¸æ¨ç†ååé‡å—é™çš„åŒé‡æŒ‘æˆ˜ã€‚</p>
<p>å…¶æŠ€æœ¯çªç ´ä¾æ‰˜äºä¸¤é¡¹æ ¸å¿ƒæœºåˆ¶ï¼šâ€ŒPagedAttentionâ€Œï¼ˆåˆ†é¡µæ³¨æ„åŠ›ï¼‰ä¸â€ŒContinuous Batchingâ€Œï¼ˆè¿ç»­æ‰¹å¤„ç†ï¼‰ï¼ŒäºŒè€…å‡å—æ“ä½œç³»ç»Ÿå†…å­˜åˆ†é¡µæœºåˆ¶å¯å‘ï¼Œé‡æ„äº†æ³¨æ„åŠ›è®¡ç®—ä¸è¯·æ±‚è°ƒåº¦çš„åº•å±‚é€»è¾‘ï¼Œä»è€Œåœ¨ä¸ç‰ºç‰²ç²¾åº¦çš„å‰æä¸‹ï¼Œå¤§å¹…ä¼˜åŒ–äº†æ˜¾å­˜ç®¡ç†æ•ˆç‡ä¸å¹¶å‘æ¨ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20bd5b8e3af742cd8c7ccaf2f3c6191b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=woLOEdn3PAwLSSVPn8446ItOfNo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p>
<h3 data-id="heading-1">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>vLLM çš„åº•å±‚æ¶æ„æ„å»ºäº PyTorch ä¹‹ä¸Šï¼Œç»ç”±æ·±åº¦ç³»ç»Ÿçº§ä¼˜åŒ–ï¼Œè¾¾æˆå“è¶Šçš„æ¨ç†æ€§èƒ½ã€‚å…¶æ ‡å¿—æ€§æŠ€æœ¯çªç ´ä¸ºï¼š</p>
<p>PagedAttentionï¼šå—æ“ä½œç³»ç»Ÿåˆ†é¡µç®¡ç†æœºåˆ¶å¯å‘ï¼Œå°†æ³¨æ„åŠ›æœºåˆ¶ä¸­çš„é”®å€¼ç¼“å­˜ï¼ˆKV Cacheï¼‰ä»¥éè¿ç»­æ–¹å¼éƒ¨ç½²äºæ˜¾å­˜ä¸­ã€‚ç›¸è¾ƒä¼ ç»Ÿæ¡†æ¶ä¸ºæ¯ä¸ªè¯·æ±‚å¼ºåˆ¶åˆ†é…è¿ç»­æ˜¾å­˜å—çš„æ¨¡å¼ï¼ŒvLLM å°† KV Cache æ‹†åˆ†ä¸ºå›ºå®šå°ºå¯¸çš„â€œé¡µâ€ï¼Œå®ç°æ˜¾å­˜ç©ºé—´çš„åŠ¨æ€è°ƒåº¦ä¸é«˜æ•ˆå¤ç”¨ï¼Œä»è€Œå½»åº•ç¼“è§£äº†æ˜¾å­˜ç¢ç‰‡åŒ–ã€é¢„ç•™å†—ä½™ä¸å¹¶å‘å®¹é‡å—é™ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ã€‚è¯¥æ¶æ„ä½¿æ˜¾å­˜åˆ©ç”¨ç‡ç”±ä¼ ç»Ÿæ–¹æ¡ˆçš„ 60% æ˜¾è‘—è·ƒå‡è‡³ 95% ä»¥ä¸Šï¼Œæ˜¾è‘—å¢å¼ºç³»ç»Ÿå¯¹é«˜å¹¶å‘è¯·æ±‚çš„æ‰¿è½½èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/651dd0050a7b4efd836761904c526f60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=7ym6l%2FJ%2Bmrq%2FGbHv9fzFkhS2VxY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>PagedAttentionï¼šKV ç¼“å­˜è¢«åˆ’åˆ†ä¸ºå—ï¼›å—åœ¨å†…å­˜ç©ºé—´ä¸­ä¸éœ€è¦è¿ç»­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/156af1818ad14d1089b02c24dc26c61c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=PVbhohNBapolCWSpoFGuivZSuDY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨ PagedAttention çš„è¯·æ±‚ç¤ºä¾‹ç”Ÿæˆè¿‡ç¨‹</p>
<p>Continuous Batchingâ€Œï¼šçªç ´ä¼ ç»Ÿæ‰¹é‡ç­‰å¾…æœºåˆ¶ï¼Œæ”¯æŒæ–°è¯·æ±‚å®æ—¶æ’å…¥å¤„ç†é˜Ÿåˆ—ï¼Œå®ç°GPUèµ„æºçš„é›¶ç©ºé—²è¿è¡Œã€‚è¯¥æœºåˆ¶æ˜¾è‘—é™ä½é«˜å¹¶å‘åœºæ™¯ä¸‹çš„TTFTï¼ˆé¦–å­—å‡ºè¯æ—¶é—´ï¼‰ï¼Œåœ¨Llama3.1-170B-FP8å•H100ç¯å¢ƒä¸‹ï¼ŒTTFTä½è‡³123msï¼Œä¼˜äºTensorRT-LLMï¼ˆ194msï¼‰ä¸SGLangï¼ˆ340msï¼‰ã€‚</p>
<p>å¤šå¡å¹¶è¡Œä¼˜åŒ–â€Œï¼šå…¨é¢å…¼å®¹å¼ é‡å¹¶è¡Œï¼ˆTensor Parallelismï¼‰ä¸æµæ°´çº¿å¹¶è¡Œï¼ˆPipeline Parallelismï¼‰ï¼Œä¾æ‰˜NCCL/MPIç­‰é«˜æ€§èƒ½é€šä¿¡æ¡†æ¶ï¼Œå®ç°æ¨¡å‹å‚æ•°çš„ç²¾ç»†åŒ–åˆ‡åˆ†ä¸é«˜æ•ˆåŒæ­¥ï¼Œåœ¨é™ä½æ˜¾å­˜å ç”¨çš„åŒæ—¶ï¼Œæ˜¾è‘—å¢å¼ºæ•´ä½“ååèƒ½åŠ›ã€‚</p>
<p>é‡åŒ–ä¼˜åŒ–æ”¯æŒâ€Œï¼šåŸç”Ÿé›†æˆGPTQã€AWQç­‰å…ˆè¿›é‡åŒ–ç®—æ³•ï¼Œç²¾å‡†å‹ç¼©æ¨¡å‹å‚æ•°è§„æ¨¡ï¼Œå¤§å¹…æå‡GPUè®¡ç®—å¯†åº¦ä¸æ¨ç†æ•ˆç‡ï¼Œå®ç°æ€§èƒ½ä¸èµ„æºæ¶ˆè€—çš„æœ€ä¼˜å¹³è¡¡ã€‚</p>
<h3 data-id="heading-2">2ã€é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™åˆ†æ</h3>
<p>é€‚ç”¨åœºæ™¯â€Œï¼švLLM ä¸“ä¸ºé«˜å¹¶å‘ä¼ä¸šçº§åº”ç”¨è®¾è®¡ï¼Œå¦‚åœ¨çº¿å®¢æœã€é‡‘èäº¤æ˜“ä¸æ™ºèƒ½æ–‡æ¡£å¤„ç†ç­‰å¯¹å»¶è¿Ÿä¸ååé‡æœ‰ä¸¥è‹›è¦æ±‚çš„åœºæ™¯ï¼›æ— è®ºåœ¨å•å¡è¿˜æ˜¯å¤šå¡éƒ¨ç½²ç¯å¢ƒä¸‹ï¼Œå‡èƒ½ç»´æŒæä½çš„ TTFTï¼Œå®Œç¾å¥‘åˆå¯¹å“åº”é€Ÿåº¦æœ‰æè‡´éœ€æ±‚çš„å®æ—¶ç³»ç»Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ef8215bd6604fe8b100e64752ad677c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=eKvCQ7bEXcSy%2BGImBF2MZy68ZhY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€SGLangï¼šåŸºäºRadixæ ‘çš„é«˜ååæ¨ç†å¼•æ“</h2>
<p>SGLang æ˜¯ä¼¯å…‹åˆ©å›¢é˜Ÿæ‰“é€ çš„å¦ä¸€æ¬¾å¤§æ¨¡å‹æ¨ç†å¼•æ“ï¼Œè‡´åŠ›äºä¼˜åŒ– LLM çš„ååæ€§èƒ½ä¸å“åº”æ—¶å»¶ï¼ŒåŒæ—¶é™ä½ç¼–ç¨‹å¤æ‚åº¦ã€‚</p>
<p>å…¶æ ¸å¿ƒæœºåˆ¶ä¸º RadixAttentionï¼Œå€ŸåŠ©ç²¾ç»†åŒ–çš„ç¼“å­˜ç­–ç•¥ä¸ç»“æ„åŒ–è¾“å‡ºå¢å¼ºï¼Œæœ‰æ•ˆæ”¯æ’‘é«˜å¹¶å‘æœåŠ¡éœ€æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dcde3c4bbec498392f0e6f431e5def9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=tVaBSEcdUhdWVNKad4vdjURhSdM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>SGLangçš„æ ¸å¿ƒçªç ´åœ¨äºé›†æˆäº†RadixAttentionæŠ€æœ¯ä¸ç»“æ„åŒ–è¾“å‡ºæœºåˆ¶ï¼š</p>
<p>RadixAttentionâ€Œï¼šé€šè¿‡åŸºæ•°æ ‘ï¼ˆRadix Treeï¼‰å¯¹KVç¼“å­˜çš„å…¬å…±å‰ç¼€è¿›è¡Œé«˜æ•ˆå¤ç”¨ï¼Œç»“åˆLRUé©±é€ç­–ç•¥ä¸å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼Œæ˜¾è‘—æå‡ç¼“å­˜åˆ©ç”¨ç‡ã€‚ä¸åŒäºä¼ ç»Ÿæ¡†æ¶åœ¨æ¨ç†ç»“æŸåå³ä¸¢å¼ƒç¼“å­˜ï¼ŒSGLangæŒä¹…åŒ–ä¿ç•™æç¤ºä¸ç”Ÿæˆå†…å®¹çš„KVçŠ¶æ€äºåŸºæ•°æ ‘ç»“æ„ä¸­ï¼Œä»è€Œæ”¯æŒå¿«é€Ÿçš„å‰ç¼€åŒ¹é…ã€ç¼“å­˜å¤ç”¨ã€åŠ¨æ€æ’å…¥ä¸æ™ºèƒ½é©±é€ã€‚è¯¥è®¾è®¡æå¤§å¢å¼ºäº†ç³»ç»Ÿåœ¨å¤šè½®äº¤äº’ä¸åºåˆ—è§„åˆ’åœºæ™¯ä¸‹çš„æ€§èƒ½ï¼Œå®æµ‹è¡¨æ˜ï¼Œåœ¨Llama-7Bæ¨¡å‹ä¸Šæ‰§è¡Œå¤šè½®å¯¹è¯ä»»åŠ¡æ—¶ï¼Œå…¶ååé‡è¾ƒvLLMæå‡è¾¾5å€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1a0f1ad3f14b19a2dd83705acb6a8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=kbWpjP1m3nEUKTKxesc6IIW4rD0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>RadixAttention æ“ä½œç¤ºä¾‹ï¼Œé‡‡ç”¨ LRU é©±é€ç­–ç•¥ï¼Œå±•ç¤ºäº†ä¹ä¸ªæ­¥éª¤</p>
<p>ç»“æ„åŒ–è¾“å‡ºâ€Œï¼šå€ŸåŠ©æ­£åˆ™è¡¨è¾¾å¼å®æ–½çº¦æŸè§£ç ï¼Œå¯ç›´æ¥ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ç»“æ„åŒ–æ ¼å¼ï¼ˆå¦‚JSONã€XMLï¼‰ï¼Œæ˜¾è‘—æå‡APIè°ƒç”¨ä¸æ•°æ®å¤„ç†çš„æ•ˆç‡ã€‚è¯¥æœºåˆ¶ä»¤SGLangåœ¨å“åº”ç»“æ„åŒ–æŸ¥è¯¢æ—¶æ›´ä¸ºæ•æ·ï¼Œå¤§å¹…é™ä½åç»­è§£æè´Ÿæ‹…ã€‚</p>
<p>è½»é‡æ¨¡å—åŒ–æ¶æ„â€Œï¼šè°ƒåº¦å™¨åŸºäºçº¯Pythonæ„å»ºï¼Œä»£ç ç²¾ç®€å´å…·å¤‡ä¼˜å¼‚çš„å¯æ‰©å±•æ€§ã€‚å…¶è®¾è®¡æ”¯æŒè·¨GPUçš„ç¼“å­˜å…±äº«ï¼Œæœ‰æ•ˆç¼“è§£å¤šå¡å¹¶è¡Œè®¡ç®—ä¸­çš„èµ„æºå†—ä½™é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f1bc818d48c4cca9ad1c4a1d4d5bbc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=Caj1GGY2tnre3ImMa3YlJh9AVMs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-5">é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™</h3>
<p>é€‚ç”¨åœºæ™¯â€Œï¼šSGLang åœ¨é«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„ç³»ç»Ÿä¸­è¡¨ç°å“è¶Šï¼Œå°¤å…¶é€‚ç”¨äºâ€Œå¤§è§„æ¨¡å¹¶è¡Œè¯·æ±‚å¤„ç†â€Œçš„ç¯å¢ƒï¼Œä¾‹å¦‚â€ŒAIé©±åŠ¨çš„å®¢æœä¸­å°â€Œã€â€Œåœ¨çº¿å¹¿å‘ŠæŠ•æ”¾å¼•æ“â€Œå’Œâ€Œç‰©è”ç½‘è®¾å¤‡å®æ—¶å“åº”ç½‘å…³â€Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd6e02f832d54311abab0cfe5fa5feaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=ZsgmvZFAlm9ouDf%2BITSWtNKOMBA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸‰ã€TensorRT-LLMï¼šNVIDIAçš„æ·±åº¦ä¼˜åŒ–æ¨ç†å¼•æ“</h2>
<p>TensorRT-LLM æ˜¯ NVIDIA åŸºäº TensorRT æ„å»ºçš„é«˜æ€§èƒ½æ¨ç†å¼•æ“ï¼Œä¸“ä¸ºå¤§è¯­è¨€æ¨¡å‹ä¼˜åŒ–ï¼Œè‡´åŠ›äºå…¨é¢é‡Šæ”¾ NVIDIA GPU çš„ç®—åŠ›ä¼˜åŠ¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63e6d76da44548efa005336944bbfe6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=fXj%2Fm0ErEyrrRODYkuWpnoZK8ww%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-7">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>TensorRT-LLMçš„æ ¸å¿ƒæŠ€æœ¯åŒ…æ‹¬ï¼š</p>
<p>é¢„ç¼–è¯‘ä¼˜åŒ–â€Œï¼šå€ŸåŠ©TensorRTçš„ç«¯åˆ°ç«¯ä¼˜åŒ–æ¡†æ¶ï¼Œå¯¹æ¨¡å‹æ‰§è¡Œç¦»çº¿ç¼–è¯‘ï¼Œç”Ÿæˆé«˜åº¦ç²¾ç‚¼çš„TensorRTå¼•æ“æ–‡ä»¶ã€‚å°½ç®¡è¯¥è¿‡ç¨‹å¼•å…¥ä¸€å®šçš„å†·å¯åŠ¨å¼€é”€ï¼Œå´èƒ½å¤§å¹…å¢å¼ºæ¨ç†æ•ˆç‡ä¸ç³»ç»Ÿååèƒ½åŠ›ã€‚</p>
<p>é‡åŒ–æ”¯æŒâ€Œï¼šå…¼å®¹FP8ã€FP4ä¸INT4ç­‰å¤šç§ä½ç²¾åº¦é‡åŒ–ç­–ç•¥ï¼Œé€šè¿‡ç²¾åº¦å‹ç¼©æœ‰æ•ˆé™ä½æ˜¾å­˜æ¶ˆè€—å¹¶åŠ é€Ÿæ¨ç†æµç¨‹ã€‚åœ¨FP8æ¨¡å¼ä¸‹ï¼ŒTensorRT-LLMå¯ç»´æŒè¿‘ä¼¼åŸç”Ÿç²¾åº¦çš„è¾“å‡ºè´¨é‡ï¼ŒåŒæ—¶æ˜¾å­˜éœ€æ±‚ä¸‹é™è¶…40%ã€‚</p>
<p>å†…æ ¸çº§ä¼˜åŒ–â€Œï¼šå¯¹Transformerç»“æ„ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼ˆå¦‚è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€å‰é¦ˆç¥ç»ç½‘ç»œç­‰ï¼‰å®æ–½åº•å±‚CUDAå†…æ ¸é‡æ„ï¼Œå®ç°è®¡ç®—å¯†é›†å‹æ“ä½œçš„æè‡´å¹¶è¡Œä¸å†…å­˜è®¿é—®ä¼˜åŒ–ï¼Œä»è€Œåœ¨NVIDIA GPUå¹³å°è¾¾æˆå“è¶Šæ€§èƒ½è¡¨ç°ã€‚</p>
<p>å¼ é‡å¹¶è¡Œä¸æµæ°´çº¿å¹¶è¡Œâ€Œï¼šæ”¯æŒè·¨å¤šGPUèŠ‚ç‚¹çš„åˆ†å¸ƒå¼æ¨ç†ï¼Œèåˆå¼ é‡å¹¶è¡Œä¸æµæ°´çº¿å¹¶è¡Œç­–ç•¥ï¼Œçµæ´»æ‰©å±•æ¨¡å‹å‚æ•°è§„æ¨¡ï¼Œæ˜¾è‘—æå‡å•ä½æ—¶é—´å†…çš„è¯·æ±‚å¤„ç†å®¹é‡ã€‚</p>
<h3 data-id="heading-8">2ã€é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™</h3>
<p>é€‚ç”¨åœºæ™¯ï¼šTensorRT-LLMç‰¹åˆ«é€‚åˆå¯¹å»¶è¿Ÿè¦æ±‚æé«˜çš„ä¼ä¸šçº§åº”ç”¨ï¼Œå¦‚å®æ—¶å®¢æœç³»ç»Ÿã€é‡‘èé«˜é¢‘äº¤æ˜“å’Œéœ€è¦å¿«é€Ÿå“åº”çš„APIæœåŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d59ad32091f41ffa1931b748a40257d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=FvK41B6gBYVhePIiQ7ELR4ugcCo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-9">å››ã€Ollamaï¼šè½»é‡çº§çš„æœ¬åœ°æ¨ç†å¹³å°</h2>
<p>Ollamaæ˜¯ç”±AIç¤¾åŒºå¼€å‘çš„è½»é‡çº§æœ¬åœ°æ¨ç†å¹³å°ï¼Œä¸“æ³¨äºç®€åŒ–å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²å’Œè¿è¡Œï¼Œç‰¹åˆ«é€‚åˆä¸ªäººå¼€å‘è€…å’Œç ”ç©¶è€…ã€‚</p>
<h3 data-id="heading-10">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>Ollamaçš„æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<p>åŸºäºGoè¯­è¨€çš„å°è£…â€Œï¼šOllamaé‡‡ç”¨Goè¯­è¨€æ„å»ºï¼Œé€šè¿‡æ¨¡å—åŒ–æ¶æ„å°†æ¨¡å‹æƒé‡ã€è¿è¡Œä¾èµ–ä¸ç¯å¢ƒé…ç½®ç»Ÿä¸€æ‰“åŒ…ä¸ºå®¹å™¨åŒ–å•å…ƒï¼Œç”¨æˆ·æ— éœ€é…ç½®åº•å±‚ç»„ä»¶ï¼Œä»…éœ€æ‰§è¡Œå•æ¡å‘½ä»¤å³å¯å¯åŠ¨æ¨¡å‹æœåŠ¡ã€‚</p>
<p>llama.cppé›†æˆâ€Œï¼šOllamaå†…åµŒllama.cppâ€”â€”è¿™ä¸€é«˜æ•ˆçš„å¤§è¯­è¨€æ¨¡å‹æ¨ç†å¼•æ“ï¼Œå…¼å®¹1.5ä½ã€2ä½ã€3ä½ã€4ä½ã€5ä½ã€6ä½ä¸8ä½æ•´æ•°é‡åŒ–æ–¹æ¡ˆï¼Œå®ç°è½»é‡çº§æ¨ç†æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<p>è·¨å¹³å°æ”¯æŒâ€Œï¼šåŸç”Ÿé€‚é…macOSã€Windowsä¸Linuxä¸‰å¤§æ“ä½œç³»ç»Ÿï¼Œå¯¹ARMæ¶æ„è®¾å¤‡é«˜åº¦ä¼˜åŒ–ï¼Œå°¤å…¶åœ¨è‹¹æœMç³»åˆ—èŠ¯ç‰‡ä¸Šè¡¨ç°ä¼˜å¼‚ã€‚</p>
<p>æœ¬åœ°åŒ–éƒ¨ç½²â€Œï¼šæ”¯æŒæ— ç½‘ç»œä¾èµ–çš„å®Œå…¨ç¦»çº¿è¿è¡Œï¼Œå…¨é¢ä¿éšœæ•°æ®ä¸å¤–æ³„ã€éšç§ä¸æ³„éœ²ï¼Œé€‚ç”¨äºå¯¹å®‰å…¨æ€§è¦æ±‚ä¸¥è‹›çš„ç§æœ‰åŒ–åœºæ™¯ã€‚</p>
<p>ä½ç¡¬ä»¶é—¨æ§›â€Œï¼šä¸ä¾èµ–é«˜æ€§èƒ½GPUï¼Œå¯åœ¨æ¶ˆè´¹çº§ç¬”è®°æœ¬ã€åµŒå…¥å¼ç»ˆç«¯åŠè¾¹ç¼˜è®¡ç®—èŠ‚ç‚¹ä¸Šæµç•…è¿è¡Œï¼Œæ˜¾è‘—é™ä½å¤§æ¨¡å‹è½åœ°çš„ç¡¬ä»¶æˆæœ¬ã€‚</p>
<h3 data-id="heading-11">2ã€é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™</h3>
<p>é€‚ç”¨åœºæ™¯ï¼šOllamaç‰¹åˆ«é€‚åˆä¸ªäººå¼€å‘è€…ã€æ•™è‚²å±•ç¤ºå’Œæœ¬åœ°éšç§è¦æ±‚é«˜çš„åœºæ™¯ï¼Œå¦‚ä¸ªäººçŸ¥è¯†åº“ã€æ•™è‚²æ¼”ç¤ºå’ŒåŸå‹éªŒè¯ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65e4d22e147440a1b5ee039da9446f1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=5xRpMdZflF14UndbOK0MiplccyQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-12">äº”ã€XInferenceï¼šåˆ†ç¦»å¼éƒ¨ç½²çš„åˆ†å¸ƒå¼æ¨ç†æ¡†æ¶</h2>
<p>XInferenceæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼æ¨ç†æ¡†æ¶ï¼Œä¸“æ³¨äºç®€åŒ–AIæ¨¡å‹çš„è¿è¡Œå’Œé›†æˆï¼Œç‰¹åˆ«é€‚åˆä¼ä¸šçº§å¤§è§„æ¨¡éƒ¨ç½²ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577fbf5bce0b4fd78b192693ea7199bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=wS6s81W3VgI8TGdpeKHSBKxLg3U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-13">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>XInferenceçš„æ ¸å¿ƒæ¶æ„ï¼š</p>
<p>APIå±‚â€Œï¼šé‡‡ç”¨FastAPIæ­å»ºï¼Œå…¼å®¹RESTfulè§„èŒƒä¸OpenAIæ¥å£æ ‡å‡†ï¼Œæ— ç¼å¯¹æ¥ç°æœ‰ç³»ç»Ÿç”Ÿæ€ã€‚</p>
<p>Core Serviceå±‚â€Œï¼šä¾æ‰˜è‡ªç ”Xoscaræ¡†æ¶ï¼Œé«˜æ•ˆæŠ½è±¡åˆ†å¸ƒå¼è°ƒåº¦ä¸é€šä¿¡é€»è¾‘ï¼ŒåŸç”Ÿæ”¯æŒå¤šGPUå¹¶è¡ŒåŠKubernetesé›†ç¾¤å¼¹æ€§ä¼¸ç¼©ã€‚</p>
<p>Actorå±‚â€Œï¼šç”±ModelActorå®ä¾‹æ„æˆï¼Œæ‰¿æ‹…æ¨¡å‹åŠ è½½ä¸æ¨ç†æ‰§è¡ŒèŒè´£ï¼Œå„å®ä¾‹éƒ¨ç½²äºActorPoolå†…ï¼Œå®ç°ç‹¬ç«‹è°ƒåº¦ä¸è‡ªæ²»ç®¡ç†ã€‚</p>
<p>åˆ†ç¦»å¼éƒ¨ç½²â€Œï¼šå°†Prefillä¸Decodeé˜¶æ®µåˆ†åˆ«æ˜ å°„è‡³ä¸åŒGPUï¼Œå€ŸåŠ©DeepEPé€šä¿¡åº“å®ç°KVCacheä½å»¶è¿Ÿä¼ è¾“ï¼Œæ˜¾è‘—å¢å¼ºç¡¬ä»¶èµ„æºååŒæ•ˆç‡ã€‚</p>
<p>ç®—å­ä¼˜åŒ–â€Œï¼šåœ¨Actorå±‚é›†æˆFlashMLAä¸DeepGEMMç®—å­ï¼Œå…¨é¢é€‚é…æµ·å…‰DCUä¸NVIDIA Hopper GPUæ¶æ„ï¼Œæœ€å¤§åŒ–ç®—åŠ›ååèƒ½åŠ›ã€‚</p>
<p>è¿ç»­æ‰¹å¤„ç†â€Œï¼šèåˆvLLMè¿ç»­æ‰¹å¤„ç†æœºåˆ¶ï¼ŒåŠ¨æ€èšåˆè¯·æ±‚æµï¼Œä¼˜åŒ–è°ƒåº¦ç­–ç•¥ï¼ŒæŒç»­æå‡GPUä½¿ç”¨ç‡ä¸ååæ€§èƒ½ã€‚</p>
<h3 data-id="heading-14">2ã€é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™</h3>
<p>é€‚ç”¨åœºæ™¯ï¼šXInferenceç‰¹åˆ«é€‚åˆä¼ä¸šçº§å¤§è§„æ¨¡éƒ¨ç½²ï¼Œå¦‚æ™ºèƒ½å®¢æœç³»ç»Ÿã€çŸ¥è¯†åº“é—®ç­”å’Œéœ€è¦åˆ†å¸ƒå¼æ‰©å±•çš„åœºæ™¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acb3d730c0d54ab38ca92a8f2513510a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=FD1PgPJjamPL3UPPwV%2BVCuge1V4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-15">å…­ã€LightLLMï¼šè½»é‡çº§é«˜æ€§èƒ½æ¨ç†æ¡†æ¶</h2>
<p>LightLLMæ˜¯ä¸€ä¸ªåŸºäºPythonçš„LLMæ¨ç†å’ŒæœåŠ¡æ¡†æ¶ï¼Œä»¥è½»é‡çº§è®¾è®¡ã€æ˜“äºæ‰©å±•å’Œé«˜é€Ÿæ€§èƒ½è€Œé—»åã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92fb78eb6e854e6e97526b978027cb5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=k6Oq9%2BblekNgJUbsrbVIY%2BR6018%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-16">1ã€æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</h3>
<p>LightLLMçš„æ ¸å¿ƒæŠ€æœ¯åŒ…æ‹¬ï¼š</p>
<p>ä¸‰è¿›ç¨‹å¼‚æ­¥åä½œâ€Œï¼šç”±ç‹¬ç«‹è¿›ç¨‹åˆ†åˆ«æ‰¿æ‹… tokenizationã€æ¨¡å‹æ¨ç†ä¸ detokenization ä»»åŠ¡ï¼Œè¾¾æˆå¼‚æ­¥è¿è¡Œï¼Œæœ‰æ•ˆç¼“è§£ I/O ç“¶é¢ˆã€‚</p>
<p>åŠ¨æ€æ‰¹å¤„ç†â€Œï¼šä¾æ®è¯·æ±‚ç‰¹å¾ä¸ç³»ç»Ÿè´Ÿè½½å®æ—¶ä¼˜åŒ–æ‰¹å¤„ç†ç­–ç•¥ï¼Œåœ¨ååé‡ä¸å»¶è¿Ÿä¹‹é—´å®ç°ç²¾å‡†å¹³è¡¡ã€‚</p>
<p>TokenAttention æœºåˆ¶â€Œï¼šé‡‡ç”¨ä»¥ token ä¸ºç²’åº¦çš„ KV ç¼“å­˜ç®¡ç†æ–¹æ¡ˆï¼Œå½»åº•æ¶ˆé™¤å†…å­˜å†—ä½™ï¼Œå…¼å®¹ int8 KV Cacheï¼Œä½¿æœ€å¤§ token ååèƒ½åŠ›æå‡è¿‘ 2 å€ã€‚</p>
<p>é›¶å¡«å…… (nopad-Attention)â€Œï¼šç²¾å‡†é€‚é…è¾“å…¥åºåˆ—é•¿åº¦çš„æ˜¾è‘—å·®å¼‚ï¼Œè§„é¿ä¼ ç»Ÿå¡«å……ç­–ç•¥å¯¼è‡´çš„è®¡ç®—èµ„æºå†—ä½™ã€‚</p>
<p>FlashAttention é›†æˆâ€Œï¼šå¤§å¹…åŠ é€Ÿæ³¨æ„åŠ›è¿ç®—æ•ˆç‡ï¼ŒåŒæ­¥å‰Šå‡ GPU æ˜¾å­˜æ¶ˆè€—ã€‚</p>
<p>å¼ é‡å¹¶è¡ŒæŠ€æœ¯â€Œï¼šååŒå¤š GPU å®ç°å¼ é‡çº§å¹¶è¡Œè®¡ç®—ï¼Œæ˜¾è‘—åŠ å¿«è¶…å¤§è§„æ¨¡æ¨¡å‹çš„æ¨ç†å“åº”é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-17">2ã€é€‚ç”¨åœºæ™¯ä¸ä¼˜åŠ¿å±€é™</h3>
<p>é€‚ç”¨åœºæ™¯ï¼šLightLLMç‰¹åˆ«é€‚åˆéœ€è¦é«˜ååé‡çš„åœºæ™¯ï¼Œå¦‚å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹APIæœåŠ¡ã€å¤šæ¨¡æ€æ¨¡å‹åœ¨çº¿æ¨ç†å’Œé«˜å¹¶å‘èŠå¤©æœºå™¨äººåç«¯ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1111a91156c34e8399197bc64bed23b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=74dtweg%2BEcBzOfsL14DK3CkwCoQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-18">ä¸ƒã€å›½äº§ç¡¬ä»¶é€‚é…æ¡†æ¶ï¼šæ˜‡è…¾ä¸LMDeploy</h2>
<p>éšç€å›½äº§AIèŠ¯ç‰‡çš„å‘å±•ï¼Œé’ˆå¯¹æ˜‡è…¾ç­‰å›½äº§ç¡¬ä»¶çš„æ¨ç†æ¡†æ¶ä¹Ÿæ—¥ç›Šæˆç†Ÿã€‚æ˜‡è…¾AIå¤„ç†å™¨å’ŒLMDeployæ˜¯å›½äº§ç¡¬ä»¶é€‚é…çš„ä»£è¡¨ã€‚</p>
<h3 data-id="heading-19">1ã€æ˜‡è…¾AIå¤„ç†å™¨æ¡†æ¶</h3>
<p>æ˜‡è…¾AIå¤„ç†å™¨æ˜¯åä¸ºä¾æ‰˜è‡ªç ”è¾¾èŠ¬å¥‡æ¶æ„æ‰“é€ çš„ä¸“ç”¨AIåŠ é€ŸèŠ¯ç‰‡ï¼Œå…¶æ¨ç†ä½“ç³»æ ¸å¿ƒåŒ…å«ä»¥ä¸‹ä¸‰å¤§ç»„ä»¶ï¼š</p>
<p>MindSpore Inference[12]â€Œï¼šåä¸ºè‡ªç ”çš„æ¨ç†å¼•æ“ï¼Œæ·±åº¦é€‚é…æ˜‡è…¾è¾¾èŠ¬å¥‡æ¶æ„ï¼Œå®ç°æ•´å›¾ä¸‹æ²‰è‡³èŠ¯ç‰‡çš„On-Deviceæ‰§è¡Œï¼Œèåˆå…³é”®ç®—å­ï¼ˆå¦‚çŸ©é˜µä¹˜æ³•ä¸æ¿€æ´»å‡½æ•°ï¼‰ï¼Œå¹¶ä¾æ‰˜é™æ€å›¾ä¼˜åŒ–ç­–ç•¥ï¼Œæ˜¾è‘—å¢å¼ºæ¨ç†æ•ˆç‡ã€‚</p>
<p>CBQé‡åŒ–æŠ€æœ¯â€Œï¼šç”±åä¸ºè¯ºäºšæ–¹èˆŸå®éªŒå®¤ä¸ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ååŒç ”å‘çš„è·¨å—é‡å»ºåè®­ç»ƒé‡åŒ–æ–¹æ¡ˆï¼Œä»…éœ€0.1%çš„åŸå§‹è®­ç»ƒæ•°æ®ï¼Œå³å¯ä¸€é”®å°†å¤§æ¨¡å‹å‹ç¼©è‡³åŸä½“ç§¯çš„1/7ï¼ŒåŒæ—¶ä¿æŒæµ®ç‚¹ç²¾åº¦è¾¾99%ï¼ŒçœŸæ­£è¾¾æˆâ€œè½»é‡ä¸é™æ™ºâ€çš„ç›®æ ‡ã€‚</p>
<p>æ˜‡è…¾CANNè½¯ä»¶æ ˆâ€Œï¼šæ„å»ºå¤šå±‚æ¬¡å¼€å‘æ¥å£ä½“ç³»ï¼Œé€šè¿‡AscendCLä¸TBEä¸¤å¤§ç¼–ç¨‹æ¥å£ï¼Œèµ‹èƒ½å„ç±»AIåº”ç”¨åœ¨CANNå¹³å°ä¸Šçš„é«˜æ•ˆéƒ¨ç½²ä¸æé€Ÿè¿è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d016f2e8914849c48fed4f0f87e3f748~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=ptIIOrNup9bt6g2gTdTPssKfvp8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-20">2ã€LMDeployï¼šè§†è§‰è¯­è¨€æ··åˆä»»åŠ¡ä¸“å®¶</h3>
<p>LMDeployæ˜¯ç”±ä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤æ¨¡å‹å‹ç¼©å’Œéƒ¨ç½²å›¢é˜Ÿå¼€å‘çš„éƒ¨ç½²å·¥å…·ç®±ï¼Œä¸“æ³¨äºå¤§è¯­è¨€æ¨¡å‹å’Œè§†è§‰è¯­è¨€æ¨¡å‹çš„éƒ¨ç½²ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ace6cfd47b0340cf8f8ad2ee6855c6c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=0o0SY0RQFrDR16vECXTOtvBcCrU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ ¸å¿ƒæŠ€æœ¯ï¼š</p>
<p>å›½äº§GPUæ·±åº¦é€‚é…â€Œï¼Œæ·±åº¦ä¼˜åŒ–æ˜‡è…¾ç­‰å›½äº§ç¡¬ä»¶æ¶æ„</p>
<p>æ˜¾å­˜ä¼˜åŒ–â€Œï¼Œé‡‡ç”¨åŠ¨æ€é‡åŒ–ä¸æ¨¡å‹åˆ‡åˆ†æŠ€æœ¯ï¼Œæ˜¾è‘—å‹ç¼©æ˜¾å­˜å ç”¨</p>
<p>å¤šæ¨¡æ€èåˆæ”¯æŒâ€Œï¼ŒååŒå¤„ç†è§†è§‰ä¸è¯­è¨€è·¨æ¨¡æ€æ•°æ®æµ</p>
<p>TurboMindå¼•æ“â€Œï¼Œå®ç°é«˜æ•ˆ4bitæ¨ç†çš„CUDA kernelåŠ é€Ÿ</p>
<p>3ã€é€‚ç”¨åœºæ™¯ï¼š</p>
<p>å›½å†…ä¼ä¸šã€æ”¿åºœæœºæ„éƒ¨ç½²ï¼Œè§†è§‰è¯­è¨€æ··åˆä»»åŠ¡ã€‚</p>
<h2 data-id="heading-21">å…«ã€æ¡†æ¶é€‰å‹å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯åˆ†æ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e39adaedaf749a6b926592bc6ca0e3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768409371&amp;x-signature=1woyhO3Qmfk%2BgtdMSzX2wslkGqw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€å</p>
<p>å¤§æ¨¡å‹æ¨ç†éƒ¨ç½²æ¡†æ¶çš„é€‰å‹éœ€ç»¼åˆè€ƒé‡ä¸šåŠ¡åœºæ™¯ã€ç¡¬ä»¶æ¡ä»¶ä¸é•¿æœŸæ¼”è¿›è·¯å¾„ã€‚åœ¨ä¼ä¸šçº§é«˜å¹¶å‘éœ€æ±‚ä¸‹ï¼ŒvLLMä¸TensorRT-LLMå…·å¤‡æœ€ä¼˜æ€§èƒ½ï¼›SGLangåˆ™åœ¨é«˜ååä¸å¤šè½®äº¤äº’åœºæ™¯ä¸­ä¼˜åŠ¿çªå‡ºï¼›Ollamaé€‚ç”¨äºä¸ªäººå¼€å‘ä¸æ•æ·åŸå‹éªŒè¯ï¼›XInferenceå’ŒLightLLMåœ¨åˆ†å¸ƒå¼æ¶æ„ä¸è¾¹ç¼˜ç«¯éƒ¨ç½²ä¸­å±•ç°å‡ºå¹¿é˜”å‰æ™¯ï¼›LMDeployä¸æ˜‡è…¾æ¡†æ¶åˆ™åœ¨å›½äº§åŒ–ç¡¬ä»¶ç”Ÿæ€é€‚é…æ–¹é¢å…·æœ‰ä¸å¯æ›¿ä»£æ€§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå¼‚å¸¸é“¾ï¼šè°æ‰æ˜¯ç½ªé­ç¥¸é¦–ï¼Ÿä¸€æ¢"The above exception"çš„æ—¶é—´é¡ºåº]]></title>    <link>https://juejin.cn/post/7592148975849504811</link>    <guid>https://juejin.cn/post/7592148975849504811</guid>    <pubDate>2026-01-07T15:15:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975849504811" data-draft-id="7592148975849488427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå¼‚å¸¸é“¾ï¼šè°æ‰æ˜¯ç½ªé­ç¥¸é¦–ï¼Ÿä¸€æ¢&quot;The above exception&quot;çš„æ—¶é—´é¡ºåº"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-07T15:15:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå¼‚å¸¸é“¾ï¼šè°æ‰æ˜¯ç½ªé­ç¥¸é¦–ï¼Ÿä¸€æ¢"The above exception"çš„æ—¶é—´é¡ºåº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:15:27.000Z" title="Wed Jan 07 2026 15:15:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Pythonå¼‚å¸¸é“¾ï¼šè°æ‰æ˜¯ç½ªé­ç¥¸é¦–ï¼Ÿä¸€æ¢"The above exception"çš„æ—¶é—´é¡ºåº</h2>
<blockquote>
<p>å½“ä½ çœ‹åˆ°PythonæŠ¥é”™ä¿¡æ¯ä¸­çš„"The above exception was the direct cause of the following exception"æ—¶ï¼Œæ˜¯å¦æ›¾ç–‘æƒ‘è¿‡ï¼šåˆ°åº•å“ªä¸ªå¼‚å¸¸å…ˆå‘ç”Ÿï¼Ÿå“ªä¸ªæ‰æ˜¯é—®é¢˜çš„æ ¹æºï¼Ÿæœ¬æ–‡å°†æ·±å…¥Pythonå¼‚å¸¸é“¾æœºåˆ¶ï¼Œæ­å¼€å¼‚å¸¸å‘ç”Ÿé¡ºåºçš„ç¥ç§˜é¢çº±ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ä¸ªè®©äººå›°æƒ‘çš„æŠ¥é”™</h3>
<p>è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå…¸å‹çš„å¼‚å¸¸é“¾æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">try</span>:
    <span class="hljs-number">1</span> / <span class="hljs-number">0</span>  <span class="hljs-comment"># ç¬¬ä¸€æ­¥ï¼šé™¤é›¶é”™è¯¯</span>
<span class="hljs-keyword">except</span> ZeroDivisionError <span class="hljs-keyword">as</span> e:
    <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"æ–°çš„é”™è¯¯"</span>) <span class="hljs-keyword">from</span> e  <span class="hljs-comment"># ç¬¬äºŒæ­¥ï¼šæŠ›å‡ºæ–°å¼‚å¸¸</span>
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Traceback (most recent <span class="hljs-keyword">call</span> last):
  File <span class="hljs-string">"test.py"</span>, line <span class="hljs-number">2</span>, <span class="hljs-keyword">in</span> &lt;<span class="hljs-keyword">module</span>&gt;
    <span class="hljs-number">1</span> / <span class="hljs-number">0</span>
<span class="hljs-symbol">ZeroDivisionError:</span> division <span class="hljs-keyword">by</span> zero

The above exception was the direct cause <span class="hljs-keyword">of</span> the following exception:

Traceback (most recent <span class="hljs-keyword">call</span> last):
  File <span class="hljs-string">"test.py"</span>, line <span class="hljs-number">4</span>, <span class="hljs-keyword">in</span> &lt;<span class="hljs-keyword">module</span>&gt;
    raise ValueError(<span class="hljs-string">"æ–°çš„é”™è¯¯"</span>) <span class="hljs-keyword">from</span> e
<span class="hljs-symbol">ValueError:</span> æ–°çš„é”™è¯¯
</code></pre>
<p>é—®é¢˜æ¥äº†ï¼š<strong>å“ªä¸ªå¼‚å¸¸å…ˆå‘ç”Ÿï¼Ÿå“ªä¸ªæ‰æ˜¯"above exception"ï¼Ÿ</strong></p>
<h3 data-id="heading-2">å¼‚å¸¸é“¾çš„æ—¶é—´å¯†ç </h3>
<h4 data-id="heading-3">æ ¸å¿ƒåŸåˆ™ï¼šæ—¶é—´é€†åºå±•ç¤ºï¼Œæ ¹æºæœ€å…ˆå‘ç”Ÿ</h4>
<p>Pythonçš„å¼‚å¸¸é“¾å±•ç¤ºéµå¾ªä¸€ä¸ªçœ‹ä¼¼åç›´è§‰ä½†æå…¶åˆç†çš„åŸåˆ™ï¼š</p>
<blockquote>
<p><strong>å¼‚å¸¸ä¿¡æ¯æ˜¾ç¤ºé¡ºåºä¸å‘ç”Ÿæ—¶é—´ç›¸åï¼Œä½†æ–‡æœ¬æè¿°æ˜ç¡®æŒ‡å‡ºå› æœå…³ç³»</strong></p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_exception_timeline</span>():
    <span class="hljs-string">"""å¼‚å¸¸æ—¶é—´çº¿æ¼”ç¤º"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== å¼‚å¸¸å‘ç”Ÿçš„æ—¶é—´çº¿ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"t1: åŸå§‹å¼‚å¸¸å‘ç”Ÿ (ZeroDivisionError)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"t2: æ–°å¼‚å¸¸è¢«è§¦å‘ (ValueError)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"t3: å¼‚å¸¸é“¾è¢«å±•ç¤º (æ˜¾ç¤ºé¡ºåº)"</span>)
    <span class="hljs-built_in">print</span>()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== æ˜¾ç¤ºé¡ºåº ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. ZeroDivisionError (t1å‘ç”Ÿçš„å¼‚å¸¸)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. 'The above exception...' (è¿æ¥æ–‡æœ¬)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. ValueError (t2å‘ç”Ÿçš„å¼‚å¸¸)"</span>)

show_exception_timeline()
</code></pre>
<h4 data-id="heading-4">æ–‡æœ¬æè¿°çš„ç²¾ç¡®å«ä¹‰</h4>
<p>è®©æˆ‘ä»¬è§£æå…³é”®å¥å­çš„è¯­æ³•ç»“æ„ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"The above exception"</span> - æŒ‡ä»£çš„æ˜¯ï¼š
âœ… åœ¨æ–‡æœ¬ä¸­ä½ç½®é ä¸Šçš„å¼‚å¸¸
âœ… åœ¨æ—¶é—´çº¿ä¸Šå…ˆå‘ç”Ÿçš„å¼‚å¸¸
âœ… åœ¨å› æœå…³ç³»ä¸­çš„<span class="hljs-string">"å› "</span>ï¼ˆcauseï¼‰

<span class="hljs-string">"was the direct cause of the following exception"</span> - è¡¨ç¤ºï¼š
âœ… ä¸Šé¢çš„å¼‚å¸¸å¯¼è‡´äº†ä¸‹é¢çš„å¼‚å¸¸
âœ… å› æœå…³ç³»æ˜¯ç›´æ¥çš„ï¼ˆdirect causeï¼‰
âœ… æ—¶é—´é¡ºåºæ˜¯å…ˆåå…³ç³»
</code></pre>
<h3 data-id="heading-5">ä¸¤ç§å¼‚å¸¸é“¾çš„æ—¶åºåˆ†æ</h3>
<h4 data-id="heading-6">1. æ˜¾å¼å¼‚å¸¸é“¾ï¼ˆExplicit Chainingï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¡ˆä¾‹ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥åçš„å¤„ç†</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_database</span>():
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># t1: å°è¯•è¿æ¥ï¼Œæ–‡ä»¶ä¸å­˜åœ¨</span>
        <span class="hljs-built_in">open</span>(<span class="hljs-string">"config.db"</span>, <span class="hljs-string">"r"</span>)  
    <span class="hljs-keyword">except</span> FileNotFoundError <span class="hljs-keyword">as</span> original_error:
        <span class="hljs-comment"># t2: åŒ…è£…æˆæ•°æ®åº“é”™è¯¯</span>
        <span class="hljs-keyword">raise</span> DatabaseError(<span class="hljs-string">"æ•°æ®åº“é…ç½®ä¸¢å¤±"</span>) <span class="hljs-keyword">from</span> original_error

<span class="hljs-comment"># æ—¶é—´çº¿ï¼š</span>
<span class="hljs-comment"># t1: FileNotFoundError - "config.db"ä¸å­˜åœ¨</span>
<span class="hljs-comment"># t2: DatabaseError - åŒ…è£…åçš„æ•°æ®åº“é”™è¯¯</span>
</code></pre>
<p><strong>è¾“å‡ºåˆ†æï¼š</strong></p>
<pre><code class="hljs language-perl" lang="perl">Traceback (most recent call <span class="hljs-keyword">last</span>):      <span class="hljs-comment"># â† è¿™æ˜¯t1æ—¶åˆ»çš„å¼‚å¸¸</span>
  File <span class="hljs-string">"db.py"</span>, line <span class="hljs-number">3</span>, in connect_database
    <span class="hljs-keyword">open</span>(<span class="hljs-string">"config.db"</span>, <span class="hljs-string">"r"</span>)
FileNotFoundError: [Errno <span class="hljs-number">2</span>] No such file <span class="hljs-keyword">or</span> directory: <span class="hljs-string">'config.db'</span>

The above exception was the direct cause of the following exception:  <span class="hljs-comment"># â† t1å¯¼è‡´t2</span>

Traceback (most recent call <span class="hljs-keyword">last</span>):      <span class="hljs-comment"># â† è¿™æ˜¯t2æ—¶åˆ»çš„å¼‚å¸¸  </span>
  File <span class="hljs-string">"db.py"</span>, line <span class="hljs-number">6</span>, in connect_database
    raise DatabaseError(<span class="hljs-string">"æ•°æ®åº“é…ç½®ä¸¢å¤±"</span>) from original_error
DatabaseError: æ•°æ®åº“é…ç½®ä¸¢å¤±
</code></pre>
<h4 data-id="heading-7">2. éšå¼å¼‚å¸¸é“¾ï¼ˆImplicit Chainingï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¡ˆä¾‹ï¼šå¼‚å¸¸å¤„ç†ä¸­çš„æ„å¤–é”™è¯¯</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_data</span>():
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># t1: æ•°æ®æ ¼å¼é”™è¯¯</span>
        <span class="hljs-built_in">int</span>(<span class="hljs-string">"invalid"</span>)  
    <span class="hljs-keyword">except</span> ValueError:
        <span class="hljs-comment"># t2: åœ¨å¤„ç†å¼‚å¸¸æ—¶ä¸å°å¿ƒå¼•å‘äº†æ–°å¼‚å¸¸</span>
        <span class="hljs-built_in">print</span>(undefined_variable)  <span class="hljs-comment"># NameError</span>

<span class="hljs-comment"># æ—¶é—´çº¿ï¼š</span>
<span class="hljs-comment"># t1: ValueError - æ•°æ®è½¬æ¢å¤±è´¥</span>
<span class="hljs-comment"># t2: NameError - å˜é‡æœªå®šä¹‰ï¼ˆæ„å¤–é”™è¯¯ï¼‰</span>
</code></pre>
<p><strong>è¾“å‡ºåˆ†æï¼š</strong></p>
<pre><code class="hljs language-perl" lang="perl">Traceback (most recent call <span class="hljs-keyword">last</span>):      <span class="hljs-comment"># â† t1æ—¶åˆ»çš„å¼‚å¸¸</span>
  File <span class="hljs-string">"data.py"</span>, line <span class="hljs-number">3</span>, in process_data
    <span class="hljs-keyword">int</span>(<span class="hljs-string">"invalid"</span>)
ValueError: invalid literal <span class="hljs-keyword">for</span> <span class="hljs-keyword">int</span>() with base <span class="hljs-number">10</span>: <span class="hljs-string">'invalid'</span>

During handling of the above exception, another exception occurred:  <span class="hljs-comment"># â† t1å¤„ç†ä¸­å‘ç”Ÿt2</span>

Traceback (most recent call <span class="hljs-keyword">last</span>):      <span class="hljs-comment"># â† t2æ—¶åˆ»çš„å¼‚å¸¸</span>
  File <span class="hljs-string">"data.py"</span>, line <span class="hljs-number">6</span>, in process_data
    <span class="hljs-keyword">print</span>(undefined_variable)
NameError: name <span class="hljs-string">'undefined_variable'</span> is <span class="hljs-keyword">not</span> <span class="hljs-keyword">defined</span>
</code></pre>
<h3 data-id="heading-8">åº•å±‚å®ç°ï¼šCPythonçš„å¼‚å¸¸é“¾æºç è§£æ</h3>
<h4 data-id="heading-9">å¼‚å¸¸å¯¹è±¡ç»“æ„ï¼ˆCå±‚é¢ï¼‰</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// Python/Objects/exceptions.c ä¸­çš„æ ¸å¿ƒç»“æ„</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    PyObject_HEAD
    PyObject *dict;           <span class="hljs-comment">// å¼‚å¸¸å±æ€§å­—å…¸</span>
    PyObject *args;           <span class="hljs-comment">// å¼‚å¸¸å‚æ•°</span>
    PyObject *traceback;      <span class="hljs-comment">// å›æº¯ä¿¡æ¯ (__traceback__)</span>
    PyObject *context;        <span class="hljs-comment">// éšå¼é“¾ (__context__) </span>
    PyObject *cause;          <span class="hljs-comment">// æ˜¾å¼é“¾ (__cause__)</span>
    <span class="hljs-type">char</span> suppress_context;    <span class="hljs-comment">// æ˜¯å¦æŠ‘åˆ¶ä¸Šä¸‹æ–‡</span>
} PyBaseExceptionObject;
</code></pre>
<h4 data-id="heading-10">å¼‚å¸¸é“¾æ‰“å°é€»è¾‘ï¼ˆPythonå±‚é¢ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Lib/traceback.py ä¸­çš„å…³é”®å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TracebackException</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">format</span>(<span class="hljs-params">self, *, chain=<span class="hljs-literal">True</span></span>):
        <span class="hljs-string">"""æ ¼å¼åŒ–å¼‚å¸¸ï¼ŒåŒ…æ‹¬å¼‚å¸¸é“¾"""</span>
        <span class="hljs-keyword">if</span> chain:
            <span class="hljs-comment"># é€’å½’å¤„ç†å¼‚å¸¸é“¾</span>
            <span class="hljs-keyword">if</span> self.exc.__cause__ <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
                <span class="hljs-comment"># æ˜¾å¼å¼‚å¸¸é“¾</span>
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">from</span> self.format_chain(self.exc.__cause__)
                <span class="hljs-keyword">yield</span> <span class="hljs-string">'\nThe above exception was the direct cause of the following exception:\n\n'</span>
            <span class="hljs-keyword">elif</span> (self.exc.__context__ <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> 
                  <span class="hljs-keyword">not</span> self.exc.__suppress_context__):
                <span class="hljs-comment"># éšå¼å¼‚å¸¸é“¾  </span>
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">from</span> self.format_chain(self.exc.__context__)
                <span class="hljs-keyword">yield</span> <span class="hljs-string">'\nDuring handling of the above exception, another exception occurred:\n\n'</span>
        
        <span class="hljs-comment"># æœ€åæ˜¾ç¤ºå½“å‰å¼‚å¸¸ï¼ˆæœ€æ–°çš„å¼‚å¸¸ï¼‰</span>
        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">from</span> self.format_exception_only()
</code></pre>
<h4 data-id="heading-11">å¼‚å¸¸é“¾æ„å»ºè¿‡ç¨‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python/ceval.c ä¸­çš„å¼‚å¸¸å¤„ç†é€»è¾‘</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">raise_exception_chain</span>():
    <span class="hljs-string">"""å¼‚å¸¸é“¾æ„å»ºçš„ç®€åŒ–é€»è¾‘"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== å¼‚å¸¸é“¾æ„å»ºè¿‡ç¨‹ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. åŸå§‹å¼‚å¸¸å‘ç”Ÿï¼Œè®¾ç½®å½“å‰å¼‚å¸¸"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. åœ¨exceptå—ä¸­ï¼ŒPythonè‡ªåŠ¨ä¿å­˜__context__"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. å¦‚æœä½¿ç”¨'from'è¯­æ³•ï¼Œè®¾ç½®__cause__å±æ€§"</span>)  
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"4. æ–°å¼‚å¸¸æˆä¸º'å½“å‰å¼‚å¸¸'"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"5. æ˜¾ç¤ºæ—¶ï¼Œä»æœ€æ—©çš„å¼‚å¸¸å¼€å§‹é€’å½’å±•ç¤º"</span>)
</code></pre>
<h3 data-id="heading-12">å®é™…åº”ç”¨ï¼šå¦‚ä½•æ­£ç¡®è§£è¯»å¼‚å¸¸é“¾</h3>
<h4 data-id="heading-13">è°ƒè¯•æŠ€å·§ï¼šå¿«é€Ÿå®šä½æ ¹æœ¬åŸå› </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">debug_exception_chain</span>():
    <span class="hljs-string">"""å¼‚å¸¸é“¾è°ƒè¯•æœ€ä½³å®è·µ"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ¨¡æ‹Ÿå¤æ‚çš„å¼‚å¸¸é“¾</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æ ¹æºé—®é¢˜ï¼šæ–‡ä»¶ä¸å­˜åœ¨</span>
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"nonexistent.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:
                data = f.read()
        <span class="hljs-keyword">except</span> FileNotFoundError <span class="hljs-keyword">as</span> file_error:
            <span class="hljs-comment"># ä¸­é—´å±‚ï¼šå°è¯•åˆ›å»ºé»˜è®¤é…ç½®</span>
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"default.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:  <span class="hljs-comment"># é»˜è®¤æ–‡ä»¶ä¹Ÿä¸å­˜åœ¨</span>
                    default_data = f.read()
            <span class="hljs-keyword">except</span> FileNotFoundError <span class="hljs-keyword">as</span> default_error:
                <span class="hljs-comment"># æœ€ç»ˆå¼‚å¸¸ï¼šé…ç½®ç³»ç»Ÿå®Œå…¨å¤±è´¥</span>
                <span class="hljs-keyword">raise</span> ConfigurationError(<span class="hljs-string">"ç³»ç»Ÿé…ç½®å®Œå…¨ä¸¢å¤±"</span>) <span class="hljs-keyword">from</span> default_error
    <span class="hljs-keyword">except</span> ConfigurationError <span class="hljs-keyword">as</span> final_error:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== å¼‚å¸¸é“¾åˆ†æ ==="</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœ€ç»ˆå¼‚å¸¸: <span class="hljs-subst">{final_error}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç›´æ¥åŸå› : <span class="hljs-subst">{final_error.__cause__}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å®Œæ•´å¼‚å¸¸é“¾:"</span>)
        <span class="hljs-keyword">import</span> traceback
        traceback.print_exc()

debug_exception_chain()
</code></pre>
<h4 data-id="heading-14">è¾“å‡ºè§£è¯»æŒ‡å—</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_traceback_output</span>():
    <span class="hljs-string">"""æ•™ä½ å¦‚ä½•è§£è¯»å¼‚å¸¸è¾“å‡º"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"""
=== å¼‚å¸¸é“¾è¾“å‡ºè§£è¯»æŒ‡å— ===

è¾“å‡ºç»“æ„ï¼š
1. æœ€æ—©çš„å¼‚å¸¸ï¼ˆæ ¹æœ¬åŸå› ï¼‰
   â†“ 
2. è¿æ¥æ–‡æœ¬ï¼ˆè¡¨æ˜å› æœå…³ç³»ï¼‰
   â†“
3. æœ€æ–°çš„å¼‚å¸¸ï¼ˆæœ€ç»ˆæš´éœ²çš„é”™è¯¯ï¼‰

é˜…è¯»é¡ºåºï¼š
âœ… è°ƒè¯•æ—¶ï¼šä»ä¸‹å¾€ä¸Šçœ‹ï¼ˆæ‰¾æœ€ç»ˆå¼‚å¸¸ï¼‰
âœ… æ‰¾æ ¹å› ï¼šä»ä¸Šå¾€ä¸‹çœ‹ï¼ˆæ‰¾æœ€æ—©å¼‚å¸¸ï¼‰

æ—¶é—´é¡ºåºï¼š
ä¸Š -&gt; ä¸‹ï¼šä»æ—© -&gt; æ™š
å·¦ -&gt; å³ï¼šä»å›  -&gt; æœ
"""</span>)

analyze_traceback_output()
</code></pre>
<h3 data-id="heading-15">å¸¸è§è¯¯åŒºä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-16">âŒ å¸¸è§è¯¯åŒº</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯¯åŒº1ï¼šå¿½è§†å¼‚å¸¸é“¾ä¿¡æ¯</span>
<span class="hljs-keyword">try</span>:
    risky_operation()
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-comment"># åªæ‰“å°æœ€æ–°å¼‚å¸¸ï¼Œä¸¢å¤±äº†ä¸Šä¸‹æ–‡</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)  <span class="hljs-comment"># ä¸¢å¤±äº†æ ¹æœ¬åŸå› ä¿¡æ¯</span>

<span class="hljs-comment"># è¯¯åŒº2ï¼šé”™è¯¯çš„å¼‚å¸¸åŒ…è£…</span>
<span class="hljs-keyword">try</span>:
    process_data()
<span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:
    <span class="hljs-comment"># æ²¡æœ‰ä½¿ç”¨fromï¼Œå¯¼è‡´å¼‚å¸¸é“¾æ–­è£‚</span>
    <span class="hljs-keyword">raise</span> CustomError(<span class="hljs-string">"å¤„ç†å¤±è´¥"</span>)  <span class="hljs-comment"># ä¸¢å¤±äº†åŸå§‹å¼‚å¸¸ä¿¡æ¯</span>
</code></pre>
<h4 data-id="heading-17">âœ… æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®è·µ1ï¼šä¿æŒå®Œæ•´çš„å¼‚å¸¸é“¾</span>
<span class="hljs-keyword">try</span>:
    risky_operation()
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-comment"># ä½¿ç”¨raise ... from ...ä¿æŒå¼‚å¸¸é“¾</span>
    <span class="hljs-keyword">raise</span> CustomError(<span class="hljs-string">"æ“ä½œå¤±è´¥"</span>) <span class="hljs-keyword">from</span> e

<span class="hljs-comment"># å®è·µ2ï¼šæä¾›æ¸…æ™°çš„é”™è¯¯ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">try</span>:
    parse_config(file_path)
<span class="hljs-keyword">except</span> FileNotFoundError <span class="hljs-keyword">as</span> e:
    <span class="hljs-keyword">raise</span> ConfigurationError(
        <span class="hljs-string">f"é…ç½®æ–‡ä»¶ <span class="hljs-subst">{file_path}</span> ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥å®‰è£…å®Œæ•´æ€§"</span>
    ) <span class="hljs-keyword">from</span> e
</code></pre>
<h3 data-id="heading-18">æ€»ç»“ï¼šå¼‚å¸¸é“¾çš„æ—¶é—´å“²å­¦</h3>
<p>ç†è§£Pythonå¼‚å¸¸é“¾çš„å…³é”®åœ¨äºæŠŠæ¡<strong>æ—¶é—´é¡ºåº</strong>ä¸<strong>æ˜¾ç¤ºé¡ºåº</strong>çš„å…³ç³»ï¼š</p>
<ol>
<li>
<p><strong>æ—¶é—´é¡ºåº</strong>ï¼šå¼‚å¸¸æŒ‰å‘ç”Ÿæ—¶é—´ä»æ—©åˆ°æ™š</p>
<ul>
<li>t1: åŸå§‹å¼‚å¸¸ï¼ˆæ ¹æœ¬åŸå› ï¼‰</li>
<li>t2: ä¸­é—´å¼‚å¸¸ï¼ˆå¯é€‰ï¼‰</li>
<li>t3: æœ€ç»ˆå¼‚å¸¸ï¼ˆè¢«æ•è·çš„å¼‚å¸¸ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ˜¾ç¤ºé¡ºåº</strong>ï¼šä¸ºäº†è°ƒè¯•æ–¹ä¾¿ï¼Œ<strong>é€†åºå±•ç¤º</strong></p>
<ul>
<li>ç¬¬1éƒ¨åˆ†ï¼šæœ€æ—©å¼‚å¸¸ï¼ˆabove exceptionï¼‰</li>
<li>ç¬¬2éƒ¨åˆ†ï¼šè¿æ¥æ–‡æœ¬ï¼ˆå› æœå…³ç³»ï¼‰</li>
<li>ç¬¬3éƒ¨åˆ†ï¼šæœ€æ–°å¼‚å¸¸ï¼ˆfollowing exceptionï¼‰</li>
</ul>
</li>
<li>
<p><strong>å› æœå…³ç³»</strong>ï¼šæ–‡æœ¬æè¿°æ˜ç¡®æŒ‡å‡ºè°å¯¼è‡´äº†è°</p>
<ul>
<li>"The above exception" = æ—¶é—´çº¿ä¸Šçš„"å› "</li>
<li>"the following exception" = æ—¶é—´çº¿ä¸Šçš„"æœ"</li>
</ul>
</li>
</ol>
<p>è®°ä½è¿™ä¸ªå£è¯€ï¼š<strong>"ä¸Šçœ‹ä¸‹ï¼Œå› åˆ°æœï¼›è°ƒè¯•æ—¶ï¼Œä¸‹æ‰¾é”™"</strong> - ä»ä¸Šå¾€ä¸‹çœ‹æ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œä»ä¸‹å¾€ä¸Šçœ‹æ‰¾åˆ°æœ€ç»ˆé”™è¯¯ä½ç½®ã€‚</p>
<p>å¼‚å¸¸é“¾æœºåˆ¶ä½“ç°äº†Pythonè®¾è®¡çš„äººæ€§åŒ–ï¼šæ—¢ä¿æŒäº†æŠ€æœ¯çš„ä¸¥è°¨æ€§ï¼ˆæ—¶é—´é¡ºåºï¼‰ï¼Œåˆè€ƒè™‘äº†ç”¨æˆ·çš„å®ç”¨æ€§ï¼ˆè°ƒè¯•ä¾¿åˆ©ï¼‰ã€‚ç†è§£äº†è¿™ä¸ªæœºåˆ¶ï¼Œä½ å°±æ‹¥æœ‰äº†å¿«é€Ÿå®šä½å¤æ‚é”™è¯¯çš„è¶…èƒ½åŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç å†œçš„å¦‡äº§ç§‘å®ä¹ è®°å½•]]></title>    <link>https://juejin.cn/post/7592497088790478875</link>    <guid>https://juejin.cn/post/7592497088790478875</guid>    <pubDate>2026-01-07T15:20:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592497088790478875" data-draft-id="7592501225003958323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç å†œçš„å¦‡äº§ç§‘å®ä¹ è®°å½•"/> <meta itemprop="keywords" content="Android,äººå·¥æ™ºèƒ½,Java"/> <meta itemprop="datePublished" content="2026-01-07T15:20:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡ç”Ÿçš„ç å†œ"/> <meta itemprop="url" content="https://juejin.cn/user/1072714335397869"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç å†œçš„å¦‡äº§ç§‘å®ä¹ è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1072714335397869/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡ç”Ÿçš„ç å†œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:20:20.000Z" title="Wed Jan 07 2026 15:20:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è½¬çœ¼é—´ï¼Œ2025 å¹´åˆç»“æŸäº†ï¼Œæœ¬æ‰“ç®—æ€»ç»“ä¸‹å»å¹´çš„å¾—å¤±ï¼Œå†å¹»æƒ³ä¸‹ 2026 å¹´å³å°†å®ç°çš„ flagã€‚ç„¶é¹…ï¼Œé™¤äº†è‚¥è‚‰ä¸å¾®è–„çš„å·¥èµ„ï¼Œå¥½åƒåˆ«æ— æ‰€è·ã€‚å¸éƒ½çš„æˆ¿å­ï¼Œæ²¡èˆå¾—åœ¨ 2024 å¹´åº•å‰²è‚‰ï¼Œç°åœ¨åˆè·Œäº† 100 ä¸ªã€‚ç‹—çš„ï¼Œè¿™è¿˜æ€»ç»“ä¸ªè›‹ï¼Œåšå†³ä¸èƒ½è®©ä½ ä»¬çœ‹ç¬‘è¯ğŸ˜­ã€‚ã€‚ã€‚</p>
<p>æƒ³èµ·ä¹‹å‰ä¸»åŠ¨åˆ é™¤çš„æ²¡äººçœ‹çš„ä»˜è´¹æ–‡ç« ï¼Œå»æ‰æ•æ„Ÿå†…å®¹ï¼Œæ°´ä¸€ç¯‡æ–‡ç« ï¼Œèµšç‚¹äººæ°”ï¼Œå¼¥è¡¥ä¸‹æˆ‘çš„ç²¾ç¥æŸå¤±ã€‚</p>
<p>æœ¬æ–‡éå°è¯´ï¼Œéæ ‡é¢˜å…šï¼Œéƒ½æ˜¯æˆ‘è‡ªå·±çš„äº²èº«ç»å†ã€‚è™½ç„¶å·²è¿‡å»å¤šå¹´ï¼Œè‡³ä»Šä¾ç„¶è®°å¾—ä¸€äº›æœ‰æ„æ€çš„ç»†èŠ‚ï¼Œæ•…ä½œæ­¤æ–‡ï¼Œåˆ†äº«è¿™æ®µéš¾å¿˜åˆéš¾å¾—çš„ç»å†ï¼Œäº¦æ˜¯å¯¹é’æ˜¥çš„çºªå¿µå§ã€‚</p>
<p>è™½ç„¶æˆ‘çš„åŸºæœ¬æƒ…å†µåœ¨ä¹‹å‰çš„æ–‡ç« æœ‰ä»‹ç»è¿‡ï¼Œé˜²æ­¢æœ‰æ–°è¯»è€…ï¼Œè¿˜æ˜¯å†å•°å—¦ä¸‹ï¼š</p>
<ol>
<li>è¿‡å»æ˜¯ç”·çš„ï¼Œç°åœ¨ä¹Ÿæ˜¯ï¼Œæœªæ¥åº”è¯¥ä¹Ÿæ˜¯ï¼Ÿ</li>
<li>5 å¹´åŒ»å­¦æœ¬ç§‘ï¼Œåœ¨åŒ»é™¢å®ä¹ äº†å°åŠå¹´</li>
<li>è·¨è€ƒè®¡ç®—æœºç¡•å£«ï¼Œæ¯•ä¸šåä¸€ç›´å½“ç å†œ</li>
</ol>
<p>å¦ˆçš„ï¼Œæ—¶é—´è¿‡çš„å¤ªå¿«äº†ï¼Œå®ä¹ å·²ç»æ˜¯ 18 å¹´å‰çš„äº‹äº†ã€‚é¥æƒ³å½“å¹´ï¼Œæˆ‘è¿˜æ˜¯ä¸ªçº¯æƒ…çš„å°å¤„ç”·ï¼Œå®ä¹ çš„ç¬¬ä¸€ç«™å±…ç„¶è¢«åˆ†åˆ°äº†å¦‡äº§ç§‘ï¼Œå’Œå¦å¤–ä¸¤ä¸ªå¥³ç”Ÿä¸€èµ·ï¼Œç­é‡Œçš„ç”·ç”Ÿæ— ä¸ç¾¡æ…•ã€‚</p>
<p>è¯šç„¶ï¼ŒåŒ»ç”Ÿçœ¼é‡Œä¸åº”è¯¥æœ‰æ€§åˆ«ä¹‹åˆ†ï¼Œå®ä¹ ä¹Ÿæ˜¯ä¸ªä¸¥è‚ƒçš„äº‹ã€‚ä½†ï¼Œè¡€æ°”æ–¹åˆšçš„å¹´é¾„ï¼Œä½ è¦è¯´æ²¡æœ‰ä»€ä¹ˆå¥‡æ€ªçš„æƒ³æ³•ï¼Œé‚£è‚¯å®šæ˜¯å‡çš„ã€‚å°±è¿™æ ·ï¼Œå¸¦ç€å¥½å¥‡ã€æ¿€åŠ¨ã€å…´å¥‹ã€ç´§å¼ çš„å¤æ‚å¿ƒæƒ…ï¼Œå¼€å§‹äº†å®ä¹ ä¹‹æ—…ã€‚</p>
<p>å¯æƒœçš„æ˜¯ï¼Œæˆ‘å½“æ—¶çš„æ‰‹æœºæ˜¯è¯ºåŸºäºšã€ŒN-GAGE QDã€ï¼Œä¸å¸¦æ‘„åƒå¤´ï¼Œæ²¡æœ‰ç•™ä¸‹å®ä¹ ç›¸å…³çš„å›¾ç‰‡ï¼Œæœ‰ç‚¹é—æ†¾ã€‚è¿™æ˜¯åŒå­¦çš„ç™¾ä¸‡åƒç´ æ‰‹æœºæ‹çš„ QDï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbce12ec5c7242ed8719cd7593bf3ec7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeO55Sf55qE56CB5Yac:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768404020&amp;x-signature=zYwExiddKeMx%2BDAHWH06OFxyKfU%3D" alt="QD" loading="lazy"/></p>
<p>å¯èƒ½æ˜¯æœ¬ç§‘ç”Ÿçš„ç¼˜æ•…ï¼Œå®ä¹ ä¸éœ€è¦å»é—¨è¯Šï¼Œéƒ½åœ¨ä½é™¢éƒ¨ï¼Œæ²¡æœ‰å·¥èµ„ã€‚ä¸»è¦å·¥ä½œå†…å®¹æ˜¯ï¼š</p>
<ol>
<li>å’ŒåŒ»ç”Ÿä¸€èµ·æŸ¥æˆ¿</li>
<li>å»æ‰‹æœ¯å®¤å­¦ä¹ æ‰‹æœ¯æ“ä½œ</li>
<li>æ¢è¯ï¼Œä»…æŸäº›ç§‘å®¤</li>
<li>å†™ç—…æ¡ˆï¼Œä»…æŸäº›ç§‘å®¤</li>
</ol>
<h2 data-id="heading-0">1. æŸ¥æˆ¿</h2>
<p>ä¸ºäº†å‡†å¤‡è€ƒç ”ï¼Œæˆ‘æ²¡ä¸Šè¿‡ä¸€èŠ‚ã€Šå¦‡äº§ç§‘å­¦ã€‹çš„è¯¾ï¼Œéƒ½è·‘éš”å£å†œå¤§å»æ—å¬è®¡ç®—æœºç³»è¯¾ç¨‹äº†ã€‚æ‰€ä»¥ï¼ŒæŸ¥æˆ¿æ—¶ï¼Œæˆ‘éƒ½æ˜¯èº²åœ¨æœ€åé¢ï¼Œç”Ÿæ€•ä¸»ä»»é—®æˆ‘ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>æŸå¤©ï¼Œæˆ‘åˆšèµ°è¿›ç—…æˆ¿ï¼Œä¸€ä¸ªç—…äººçªç„¶å¤§å–Šï¼š</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰ç”·åŒ»ç”Ÿï¼Ÿï¼</p>
</blockquote>
<p>æˆ‘è„¸ä¸€çº¢ï¼Œé»˜é»˜åœ°é€€äº†å‡ºå»ï¼Œåœ¨é—¨å£å°´å°¬åœ°ç«™ç€ã€‚å¹¸å¥½ï¼Œä¸»ä»»å¸®æˆ‘è§£äº†å›´ï¼Œå‘Šè¯‰å¥¹åŒ»ç”Ÿçœ¼é‡Œæ²¡æœ‰ç”·å¥³ï¼Œåªæœ‰ç—…äººï¼Œæ›´æ²¡æœ‰è§„å®šå¦‡äº§ç§‘åŒ»ç”Ÿå¿…é¡»æ˜¯å¥³çš„ã€‚</p>
<p>æŸ¥å®Œæˆ¿ï¼Œå°±åœ¨åŒ»ç”ŸåŠå…¬å®¤å¾…ç€ï¼Œçœ‹ä¹¦æˆ–èŠå¤©ï¼Œæ²¡äººç®¡ã€‚æˆ‘å½“æ—¶åœ¨çœ‹ Javaï¼Œä¼°è®¡åŒ»ç”Ÿè§‰å¾—æˆ‘åœ¨è£…é€¼æˆ–è€…æœ‰æ¯›ç—…ï¼Œå…¶å®æˆ‘ä¹Ÿæ˜¯åœ¨è£…é€¼ï¼Œçº¯å±çº¸ä¸Šè°ˆå…µï¼Œä»æœªåœ¨ç”µè„‘ä¸Šå†™è¿‡ä¸€å¥ Java ä»£ç ã€‚</p>
<p>å¦‚æœæœ‰æ‰‹æœ¯ï¼Œå°±å»æ‰‹æœ¯å®¤è§‚å¯Ÿå­¦ä¹ ï¼Œå½“ç„¶ï¼Œæ˜¯åœ¨æ—è¾¹ç«™ç€çœ‹ï¼ŒåŸºæœ¬æ²¡æœ‰ä¸Šæ‰‹çš„æœºä¼šã€‚å¥½å‡ ä¸ªè§„åŸ¹çš„åŒ»ç”Ÿç­‰ç€å‘¢ï¼Œè½®ä¸åˆ°å®ä¹ ç”Ÿã€‚</p>
<h2 data-id="heading-1">2. æ‰‹æœ¯</h2>
<p>å°è±¡æœ€æ·±çš„æ˜¯ï¼Œæœ‰ä¸ªå¹´è½»çš„å¥³ç—…äººï¼Œçœ¼ç…ç€å°±è¦æ‰‹æœ¯äº†ï¼Œå¥¹è¿˜åœ¨ä¸ç´§ä¸æ…¢åœ°åŒ–å¦†ã€‚åæ¥ï¼Œæ®åŒ»ç”Ÿè¯´ï¼Œå¥¹æ˜¯æ€•ä¸‹ä¸æ¥æ‰‹æœ¯å°ï¼Œæƒ³æŠŠæœ€ç¾å¥½çš„ä¸€é¢ç•™åœ¨ä¸–ä¸Šã€‚å°±æŒºæ„Ÿæ…¨çš„ï¼Œå¦‚æœæˆ‘å“ªå¤©è¦åšå¤§æ‰‹æœ¯ï¼Œå¤§æ¦‚ä¹Ÿä¼šç²¾å¿ƒæ‰“æ‰®ä¸€ç•ªå§ã€‚</p>
<p>è¯è¯´å›æ¥ï¼Œå¥¹çš„æ‰‹æœ¯å¾ˆå°ï¼Œå‡ ä¹æ— é£é™©ï¼Œä»è¿›å»åˆ°å‡ºæ¥ä¹Ÿå°±ä¸ªæŠŠå°æ—¶ã€‚å—¨ï¼Œç™½æ„Ÿæ…¨äº†ï¼Œæµªè´¹æ„Ÿæƒ…ã€‚</p>
<p>å¦ä¸€ä¸ªç—…äººï¼Œä¸­å­¦ç”Ÿï¼Œå·§å…‹åŠ›å›Šè‚¿å‰¥ç¦»æœ¯ï¼ŒåŠéº»ã€‚æ‰‹æœ¯è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†ç¼“è§£å¥¹çš„ç´§å¼ å¿ƒç†ï¼ŒåŒ»ç”Ÿå’Œå¥¹èŠç€å¤©ã€‚å¥¹è¯´åœ¨ç½‘ä¸ŠæŸ¥äº†ï¼Œè¿™ä¸ªç—…è¦å¦‚ä½•æ²»ç–—ï¼Œæ‰‹æœ¯åº”è¯¥æ€ä¹ˆåšï¼Œè¯´çš„å¤´å¤´æ˜¯é“ã€‚ç›´æ¥æŠŠä¸»ä»»ç»™æ•´ä¸ä¼šäº†ï¼Œå»ºè®®å¥¹åœ¨ç½‘ä¸Šæ‰‹æœ¯ã€‚ã€‚ã€‚</p>
<p>æŸå¤©ï¼Œåˆæ˜¯ä¸€å°å¦‡ç§‘å¸¸è§æ‰‹æœ¯ï¼Œæˆ‘åœ¨å¤–é¢ç«™ç€ï¼Œå¿ƒä¸åœ¨ç„‰åœ°çœ‹ç€ä¸»ä»»æ“ä½œã€‚å¿«ç»“æŸæ—¶ï¼Œé‡Œé¢çš„åŒå­¦çªç„¶åšå‘•åçŠ¶ã€‚æˆ‘æœé‡Œé¢çŸäº†ä¸€çœ¼ï¼Œç¡®å®éå¸¸ä¸é€‚ã€‚åŸæ¥æ˜¯èœèŠ±æ ·èµ˜ç”Ÿç‰©ï¼Œè·ŸèŠ±èœçœŸçš„ä¸€æ¨¡ä¸€æ ·ã€‚çœ‹ç…§ç‰‡è¿˜å¥½ï¼Œå®ç‰©çœŸçš„ä»¤äººåèƒƒï¼Œç›´æ¥å¯¼è‡´æˆ‘å¥½ä¹…ä¸åƒèŠ±èœã€‚</p>
<h2 data-id="heading-2">3. æ¥ç”Ÿ</h2>
<p>æèµ·æ‰‹æœ¯ï¼Œå¤šå°‘æœ‰ç‚¹æ‚²å‡‰çš„æ„Ÿè§‰ï¼Œå‰–è…¹äº§å¯èƒ½æ˜¯å”¯ä¸€ä¸€ä¸ªå½“äº‹äººå’Œå®¶å±éƒ½ç¿˜é¦–ä»¥ç›¼çš„æ‰‹æœ¯äº†ã€‚ä¿å®ˆä¼°è®¡ï¼Œæˆ‘å‚åŠ è¿‡ 5 åœºå‰–è…¹äº§ï¼Œä¹Ÿèƒ½ç®—æ˜¯ä¸ªæ¥ç”Ÿå©†äº†ğŸ˜ã€‚ç®—èµ·æ¥ï¼Œè¿™äº›å¨ƒï¼Œä»Šå¹´å°±è¦é«˜è€ƒäº†ï¼Œç¥ä»–ä»¬å¥½è¿ã€‚</p>
<p>å½“å¹´ï¼Œå‰–è…¹äº§ç®¡çš„å¾ˆæ¾ï¼Œåªè¦äº§å¦‡è¦æ±‚ï¼Œå°±å¯ä»¥å‰–ï¼Œä¸éœ€è¦ä»€ä¹ˆæ‰‹æœ¯æŒ‡å¾ã€‚å› æ­¤ï¼Œå‡ ä¹æ²¡æœ‰æ„¿æ„é¡ºäº§çš„ã€‚é™¤å»éº»é†‰å’Œå”¤é†’çš„æ—¶é—´ï¼ŒåŠä¸ªå°æ—¶ä»¥å†…æå®šï¼Œå¤§æ¦‚æ˜¯æœ€å¿«çš„æ‰‹æœ¯ä¹‹ä¸€äº†ã€‚</p>
<p>æŸå¤©ï¼Œæ²¡æœ‰æ‰‹æœ¯å®‰æ’ï¼Œæˆ‘å’ŒåŒå­¦åœ¨åŒ»ç”ŸåŠå…¬å®¤èŠå¤©ï¼Œä¸€ä¸ªåŒ»ç”Ÿèµ°è¿‡æ¥ï¼Œå‘Šè¯‰æˆ‘ä»¬å¥½ä¸å®¹æ˜“æœ‰ä¸ªé¡ºäº§çš„äº§å¦‡ï¼Œè®©æˆ‘ä»¬å»çœ‹çœ‹ã€‚æˆ‘åˆšèµ°åˆ°äº§æˆ¿é—¨å£ï¼Œå†æ¬¡è¢«è½°å‡ºæ¥äº†ï¼Œå¤ªè¿‡çªç„¶ï¼Œæˆ‘éƒ½å¿˜äº†æ˜¯å®¶å±è¿˜æ˜¯äº§å¦‡ä¸‹è¾¾çš„ã€Œé€å®¢ä»¤ã€ã€‚</p>
<p>ç„¶åï¼Œæˆ‘å°±å›åŒ»ç”ŸåŠå…¬å®¤äº†ï¼Œyesterday once moreã€‚ã€‚ã€‚</p>
<h2 data-id="heading-3">4. æ’æ›²</h2>
<p>å¾€åçš„æ—¥å­ï¼Œæœ´å®æ— åä¸”æ¯ç‡¥ã€‚åˆä¸€ä¸ªå°æ’æ›²çš„å‘ç”Ÿï¼Œæ‰“ç ´äº†è¿™ç§å¹³é™çš„ç”Ÿæ´»ï¼Œç»ˆç”Ÿéš¾å¿˜ã€‚</p>
<p>é‚£å¤©ï¼Œæˆ‘ã€åŒå­¦ã€ç®¡åŸ¹åŒ»ç”Ÿåœ¨åŠå…¬å®¤æ— æ‰€äº‹äº‹ã€‚èµ°è¿›æ¥ä¸€ä½æ‰“æ‰®æ—¶é«¦çš„å¹´è½»å¥³æ€§ï¼Œå¼€å£é“ï¼š</p>
<blockquote>
<p>ä½ ä»¬è¿™é‡Œèƒ½ä¿®è¡¥å—ï¼Ÿ</p>
</blockquote>
<p>æˆ‘ä»¬ä¸€è„¸æ‡µé€¼åœ°çœ‹ç€å¥¹ï¼ŒåŒ»ç”Ÿé—®å¥¹è¡¥ä»€ä¹ˆï¼Œæ˜¯ä¸æ˜¯èµ°é”™åœ°æ–¹äº†ï¼Œè¿™é‡Œæ˜¯ä½é™¢éƒ¨ã€‚åªè§å¥¹åœ¨åŒ»ç”Ÿè€³è¾¹å°å£°è¯´ç€ä»€ä¹ˆï¼Œç„¶ååŒ»ç”ŸæŠŠæˆ‘å’ŒåŒå­¦æ”¯å¼€ï¼Œç‹¬è‡ªæŠŠå¥¹å¸¦åˆ°å¦ä¸€ä¸ªæˆ¿é—´é‡Œæ²Ÿé€šå»äº†ã€‚</p>
<p>å“¦ï½ï½ï¼Œæˆ‘æ‡‚äº†ï¼Œå’ŒåŒå­¦ç›¸è§†ä¸€ç¬‘ï¼Œä½ æ‡‚äº†å—ï¼Ÿ</p>
<h2 data-id="heading-4">5. ä¸¢äºº</h2>
<p>å› ä¸ºå¦‡äº§ç§‘æ˜¯å®ä¹ çš„ç¬¬ä¸€ç«™ï¼Œæ‹…å¿ƒå½±å“æ¯•ä¸šï¼Œå³ä½¿æ²¡å•¥äº‹ï¼Œæˆ‘ä¹Ÿæ˜¯æ¯å¤©åˆ°å²—ã€‚è€Œä¸”ï¼Œå½“æ—¶å°±ä¸šæ¯”è¾ƒå›°éš¾ï¼Œéš”å£ç”Ÿç‰©ä¸“ä¸šçš„æœˆè–ªå±…ç„¶åªæœ‰ 800 å…ƒã€‚æˆ‘åœ¨å‡†å¤‡è·¨è€ƒï¼Œåœ¨çŸ¥é“äº†å®ä¹ çš„åŸºæœ¬æµç¨‹åï¼Œåé¢çš„ç§‘å®¤å°±æ²¡æ€ä¹ˆä¸Šå¿ƒäº†ï¼Œåæ­£ä¹Ÿæ²¡å·¥èµ„ã€‚</p>
<p>1 ä¸ªæœˆåï¼Œè½®è½¬åˆ°éª¨ç§‘ï¼Œç»å†äº†å€¼å¤œç­ã€ç¼é’ˆã€æ¢è¯ç­‰ç­‰ï¼Œæœ‰æœºä¼šå†å†™ã€‚åˆ 1 ä¸ªæœˆï¼Œè½¬åˆ°å„¿ç§‘ï¼ŒåŸºæœ¬å°±æ˜¯æ‰“é…±æ²¹äº†ã€‚å†åé¢ï¼Œæˆ‘ä¹Ÿå¿˜äº†ã€‚ã€‚ã€‚</p>
<p>æ•´ä¸ªå®ä¹ æœŸï¼Œè¿˜æœ‰ä»¶æç¬‘çš„äº‹ï¼Œæˆ‘ã€Œä¸¢äººã€äº†ï¼Œç‰©ç†æ„ä¹‰ä¸Šçš„ã€Œä¸¢äººã€ã€‚</p>
<p>æˆ‘å’Œå½“æ—¶å¥³æœ‹å‹åœ¨ä¸€ä¸ªåŒ»é™¢å®ä¹ ï¼Œéª‘è‡ªè¡Œè½¦å¸¦ç€å¥¹ä¸€èµ·ã€‚æŸå¤©ï¼Œåˆ°åŒ»é™¢åï¼Œå§æ§½ï¼Œååº§çš„äººå‘¢ï¼Ÿä¸¢äº†ï¼Ÿ</p>
<p>å¥¹æ²¡æœ‰æ‰‹æœºï¼Œèµ¶ç´§å›å»æ‰¾ï¼ŒåŸæ¥æ˜¯å«Œæˆ‘æ•…æ„èµ°å‘æ´¼çš„åœ°æ–¹ï¼Œå®³å¾—å¥¹é¢ èµ·æ¥äº†ã€‚è¶æˆ‘ä¸æ³¨æ„ï¼Œè·³è½¦äº†ï¼Œæˆ‘å±…ç„¶ä¸æ¯«æ²¡æœ‰å¯Ÿè§‰åˆ°ï¼Œä¸€è·¯éª‘åˆ°åŒ»é™¢ã€‚åªèƒ½æ€ªå¥¹å¤ªè½»äº†ï¼Œ80 æ–¤éƒ½ä¸åˆ°ã€‚ã€‚ã€‚</p>
<p>å¤šå¹´ä»¥åï¼Œéª‘æ‘©æ‰˜è½¦ï¼Œå¨ƒåœ¨å‰é¢ï¼Œè€å©†ååé¢ï¼Œå»å¤–é¢åƒé¥­ã€‚åˆ°é¥­åº—åï¼Œåœå¥½è½¦ï¼Œé—®å¨ƒï¼Œä½ å¦ˆå‘¢ï¼Ÿç­”æ›°ï¼Œä¸çŸ¥é“å•Šã€‚å§æ§½ï¼Ÿï¼Ÿåˆä¸¢äº†ï¼Ÿï¼Ÿ</p>
<p>å°±æ˜¯ä¸‹å›¾è¿™è¾†ä½›æ²™ 350 æ‘©æ‰˜è½¦ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78ec1a469f0b43b1aacda9edc5c704e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeO55Sf55qE56CB5Yac:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768404020&amp;x-signature=otdCP1Ci5y0M0eyWRu%2BnwaDeIi4%3D" alt="ä½›æ²™350" loading="lazy"/></p>
<p>å› ä¸ºå¥¹æ²¡å¸¦æ‰‹æœºï¼Œåªèƒ½å¸¦å¨ƒå›å»æ²¿è·¯æ‰¾ï¼Œå¯æƒœå¹¶æ²¡æœ‰å‘ç°å¥¹çš„è¸ªè¿¹ã€‚åº”è¯¥æ˜¯å›å®¶äº†å§ï¼Ÿ</p>
<p>æœç„¶ï¼Œåˆ°å®¶åï¼Œå¥¹è¯´è¿˜æ²¡æ¥å¾—åŠä¸Šè½¦ï¼Œæˆ‘å°±ä¸€æŠŠæ²¹é—¨é£å‡ºå»äº†ï¼Œå®³å¾—å¥¹è¢«è·¯äººå˜²ç¬‘ã€‚ç„¶åï¼Œå¨ƒä¸€ç›´åµç€è¦å‡ºå»åƒï¼Œæ—¢ç„¶éƒ½å›æ¥äº†ï¼Œè¿˜æ˜¯åƒä¸­åˆå‰©çš„å§ã€‚ã€‚ã€‚</p>
<p>æœ€åï¼Œæ”¾ä¸€å¼ å½“å¹´çš„ç…§ç‰‡å§ï¼Œè¯æ˜æˆ‘çœŸçš„å­¦è¿‡åŒ»ï¼Œè‡³å°‘ç©¿è¿‡ç™½å¤§è¤‚ï¼Œæ—è¾¹çš„å°±æ˜¯å½“å¹´è¢«æˆ‘ä¸¢ä¸‹çš„å¥³æœ‹å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a37298aa426c4babb4999f6957c4157c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeO55Sf55qE56CB5Yac:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768404020&amp;x-signature=zi3FFtg%2BzuU9oEqurdH6Opn5mv0%3D" alt="ç™½å¤§è¤‚" loading="lazy"/></p>
<p>ä»–å¦ˆçš„ï¼ŒçœŸæ€€å¿µè‡ªå·±å½“å¹´æƒŠäººçš„å‘é‡å•Šã€‚</p>
<p>å•¥ï¼Ÿä½ é—®æˆ‘å½“å¹´çš„å¥³æœ‹å‹å’Œç°åœ¨çš„è€å©†æ˜¯ä¸æ˜¯åŒä¸€ä¸ªäººï¼Ÿæˆ‘è€äº†ï¼Œè®°ä¸å¾—äº†ã€‚ã€‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL ç´¢å¼•å¤±æ•ˆçš„ 12 å®—ç½ªï¼šä¸€æ¡ SQL æ˜¯æ€æ ·æŠŠç´¢å¼•è¸¢å‡ºæ‰§è¡Œè®¡åˆ’çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592452108797526059</link>    <guid>https://juejin.cn/post/7592452108797526059</guid>    <pubDate>2026-01-07T15:33:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592452108797526059" data-draft-id="7592159803411480612" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL ç´¢å¼•å¤±æ•ˆçš„ 12 å®—ç½ªï¼šä¸€æ¡ SQL æ˜¯æ€æ ·æŠŠç´¢å¼•è¸¢å‡ºæ‰§è¡Œè®¡åˆ’çš„ï¼Ÿ"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2026-01-07T15:33:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL ç´¢å¼•å¤±æ•ˆçš„ 12 å®—ç½ªï¼šä¸€æ¡ SQL æ˜¯æ€æ ·æŠŠç´¢å¼•è¸¢å‡ºæ‰§è¡Œè®¡åˆ’çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:33:54.000Z" title="Wed Jan 07 2026 15:33:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>â€œæ˜æ˜å»ºäº†ç´¢å¼•ï¼Œä¸ºä»€ä¹ˆ EXPLAIN è¯´æ²¡ç”¨ï¼Ÿâ€<br/>
å¦‚æœä½ æ›¾åœ¨å‡Œæ™¨ 3 ç‚¹å¯¹ç€ç›‘æ§æ›²çº¿æ€€ç–‘äººç”Ÿï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºä½ å†™çš„ã€‚<br/>
ä¸‹æ–‡å°†å¸¦ä½ æ·±å…¥ MySQL ä¼˜åŒ–å™¨ã€å­˜å‚¨å¼•æ“ä¸æ‰§è¡Œå™¨ä¸‰ç•Œï¼Œç”¨ 12 ä¸ªçœŸå®åœºæ™¯å¤ç›˜â€œç´¢å¼•å¤±æ•ˆâ€çš„å…¨é“¾è·¯åŸå› ï¼Œå¹¶ç»™å‡ºå¯è½åœ°çš„è¯Šæ–­ä¸ä¿®å¤æ–¹æ¡ˆã€‚è¯»å®Œå³å¯å»ºç«‹è‡ªå·±çš„â€œç´¢å¼•å¤±æ•ˆæ’æŸ¥ SOPâ€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…ˆå»ºç«‹ç»Ÿä¸€è¯­è¨€ï¼šå¦‚ä½•åˆ¤æ–­â€œæ²¡æœ‰å‘½ä¸­ç´¢å¼•â€</h2>
<ol>
<li>æ‹¿åˆ°æ‰§è¡Œè®¡åˆ’
<pre><code class="hljs language-sql" lang="sql">EXPLAIN FORMAT<span class="hljs-operator">=</span>JSON <span class="hljs-keyword">SELECT</span> â€¦\G
</code></pre>
</li>
<li>çœ‹ <code>key</code> åˆ—
<ul>
<li>NULLï¼šä¼˜åŒ–å™¨è®¤ä¸º<strong>æ— å¯ç”¨ç´¢å¼•</strong></li>
<li>æœ‰å€¼ä½† <code>rows</code> å¾ˆå¤§ï¼šç”¨äº†ç´¢å¼•ä½†<strong>è¿‡æ»¤æ€§å‡ ä¹ä¸ºé›¶</strong>ï¼ˆåŠå¤±æ•ˆï¼‰</li>
</ul>
</li>
<li>å†çœ‹ <code>type</code> åˆ—
<ul>
<li><code>ALL</code> å…¨è¡¨æ‰«æ â†’ 100% å¤±æ•ˆ</li>
<li><code>index</code> å…¨ç´¢å¼•æ‰«æ â†’ æ¯” ALL ç•¥å¥½ï¼Œä»æ˜¯å¤±æ•ˆ</li>
<li><code>range</code>/<code>ref</code>/<code>eq_ref</code> â†’ æ­£å¸¸å‘½ä¸­</li>
</ul>
</li>
<li>ç”¨ <code>optimizer_trace</code> ç¿»ä¼˜åŒ–å™¨é»‘ç›’
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SET</span> optimizer_trace<span class="hljs-operator">=</span>"enabled=on";
<span class="hljs-keyword">SELECT</span> â€¦;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> INFORMATION_SCHEMA.OPTIMIZER_TRACE\G
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-1">äºŒã€12 å®—ç½ªå…¨æ™¯å›¾</h2>
































































































<table><thead><tr><th>ç¼–å·</th><th>å¤±æ•ˆåœºæ™¯</th><th>è´£ä»»æ–¹</th><th>å¿«é€Ÿè¯†åˆ«</th><th>ä¿®å¤æ‰‹æ®µ</th></tr></thead><tbody><tr><td>1</td><td>å¯¹åˆ—åšè¿ç®—/å‡½æ•°</td><td>å¼€å‘è€…</td><td><code>WHERE DATE(create_time)=â€¦</code></td><td>æ”¹å†™æˆèŒƒå›´</td></tr><tr><td>2</td><td>éšå¼ç±»å‹è½¬æ¢</td><td>å¼€å‘è€…/DBA</td><td><code>varchar_col=123</code></td><td>ä¿æŒç±»å‹ä¸€è‡´</td></tr><tr><td>3</td><td>å·¦å‰ç¼€ä¸­æ–­</td><td>å¼€å‘è€…</td><td><code>LIKE '%abc'</code></td><td>æ”¹å³æ¨¡ç³Šæˆ– ES</td></tr><tr><td>4</td><td>OR æ¡ä»¶è·¨åˆ—</td><td>å¼€å‘è€…</td><td><code>a=1 OR b=2</code></td><td>æ‹† UNION</td></tr><tr><td>5</td><td>èŒƒå›´åˆ—åæ–­å¤åˆç´¢å¼•</td><td>å¼€å‘è€…</td><td>(a,b,c) ä¸­ a&gt;â€¦ å b ä¸å¯ç”¨</td><td>è°ƒæ•´é¡ºåº</td></tr><tr><td>6</td><td>å›è¡¨æˆæœ¬è¿‡å¤§</td><td>ä¼˜åŒ–å™¨</td><td><code>SELECT *</code> ä¸”è¿‡æ»¤æ€§ä½</td><td>è¦†ç›–ç´¢å¼•</td></tr><tr><td>7</td><td>ç»Ÿè®¡ä¿¡æ¯å¤±çœŸ</td><td>ä¼˜åŒ–å™¨</td><td><code>SHOW INDEX</code> Cardinalityâ‰ˆ1</td><td>ANALYZE</td></tr><tr><td>8</td><td>æ•°æ®åˆ†å¸ƒå€¾æ–œ</td><td>æ•°æ®</td><td>æŸå€¼å  90%</td><td>åŠ æç¤ºæˆ–è¿‡æ»¤</td></tr><tr><td>9</td><td>ç´¢å¼•å¤±æ•ˆäº NULL</td><td>å­˜å‚¨å¼•æ“</td><td><code>IS NULL</code> èµ°å…¨è¡¨</td><td>æ”¹å¯ç©ºç­–ç•¥</td></tr><tr><td>10</td><td>é”å†²çªå¯¼è‡´ä¼˜åŒ–å™¨é€€ç¼©</td><td>å¹¶å‘</td><td>FOR UPDATE å…¨è¡¨é”</td><td>æ‹†åˆ†äº‹åŠ¡</td></tr><tr><td>11</td><td>å°è¡¨å…¨è¡¨æ›´å¿«</td><td>ä¼˜åŒ–å™¨</td><td><code>rows</code>&lt;~20</td><td>å¿½ç•¥å³å¯</td></tr><tr><td>12</td><td>å‚æ•°å—…æ¢/æŸ¥è¯¢ç¼“å­˜</td><td>åº”ç”¨å±‚</td><td>åŒ SQL ä¸åŒå‚æ•°</td><td>å¼ºåˆ¶ plan</td></tr></tbody></table>
<p>ä¸‹é¢é€æ¡å±•å¼€ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€è¯¦ç»†å¤ç›˜</h2>
<h3 data-id="heading-3">å®—ç½ª 1ï¼šåœ¨ç´¢å¼•åˆ—ä¸Šâ€œåŒ…ä¸€å±‚å‡½æ•°â€</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¾‹ï¼šæ±‚å½“å¤©è®¢å•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> <span class="hljs-type">DATE</span>(create_time) <span class="hljs-operator">=</span> CURDATE();
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šB+ æ ‘å­˜å‚¨çš„æ˜¯åŸå§‹å€¼ï¼Œå¯¹åˆ—åšè¿ç®—åæ— æ³•èµ°æ ‘æœç´¢ã€‚</li>
<li><strong>è¯Šæ–­</strong>ï¼šEXPLAIN çš„ <code>key</code>=NULLï¼Œ<code>Extra</code>=Using whereã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&gt;=</span> CURDATE()
  <span class="hljs-keyword">AND</span> create_time <span class="hljs-operator">&lt;</span> CURDATE()<span class="hljs-operator">+</span><span class="hljs-type">INTERVAL</span> <span class="hljs-number">1</span> <span class="hljs-keyword">DAY</span>;
</code></pre>
</li>
</ul>
<h3 data-id="heading-4">å®—ç½ª 2ï¼šéšå¼ç±»å‹è½¬æ¢ï¼ˆå­—ç¬¦ä¸²â†’æ•°å­—ï¼‰</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¡¨ï¼šphone char(11) PK</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">WHERE</span> phone <span class="hljs-operator">=</span> <span class="hljs-number">13800138000</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šå­—ç¬¦ä¸²åˆ—æ”¶åˆ°æ•°å­—å‚æ•°ï¼ŒMySQL ä¼šéšå¼ <code>CAST(phone AS DECIMAL)</code>ï¼Œç­‰ä»·äºå¯¹åˆ—åŠ å‡½æ•°ã€‚</li>
<li><strong>è¯Šæ–­</strong>ï¼š<code>SHOW WARNINGS</code> ä¼šå‡ºç° <code>Truncated wrong DOUBLE value</code>ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼šå‚æ•°åŠ å¼•å·ã€‚</li>
</ul>
<h3 data-id="heading-5">å®—ç½ª 3ï¼šLIKE å·¦æ¨¡ç³Šæˆ–ä¸¤ç«¯æ¨¡ç³Š</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> sku <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%iPhone%'</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šB+ æ ‘åªèƒ½åˆ©ç”¨â€œæœ€å·¦å‰ç¼€â€ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<ul>
<li>ä¸šåŠ¡æ”¹ä¸ºâ€œå³æ¨¡ç³Šâ€ <code>iPhone%</code></li>
<li>æˆ–èµ°å…¨æ–‡ç´¢å¼•ï¼ˆ<code>FULLTEXT</code>ï¼‰/ES</li>
<li>æˆ–ç”Ÿæˆåˆ— <code>reverse_name</code> å¹¶å»ºç´¢å¼•ï¼Œå† <code>WHERE reverse_name LIKE REVERSE('%iPhone')</code></li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">å®—ç½ª 4ï¼šOR è·¨ä¸åŒåˆ—</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> a<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">OR</span> b<span class="hljs-operator">=</span><span class="hljs-number">2</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šMySQL 5.7 ä»¥å‰åªèƒ½ç”¨ä¸€ä¸ªç´¢å¼•ï¼Œä¼˜åŒ–å™¨é€‰æ‹©â€œåˆå¹¶â€æˆ–â€œå…¨è¡¨â€ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> a<span class="hljs-operator">=</span><span class="hljs-number">1</span>
<span class="hljs-keyword">UNION</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> b<span class="hljs-operator">=</span><span class="hljs-number">2</span>;
</code></pre>
æˆ– 5.7 å¼€å¯ <code>index_merge</code>+<code>union</code> å¹¶åˆ†åˆ«å»º (a)ã€(b) å•åˆ—ç´¢å¼•ã€‚</li>
</ul>
<h3 data-id="heading-7">å®—ç½ª 5ï¼šå¤åˆç´¢å¼•é‡åˆ°â€œèŒƒå›´â€åæ–­è£‚</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç´¢å¼• (a,b,c)</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> a<span class="hljs-operator">&gt;</span><span class="hljs-number">100</span> <span class="hljs-keyword">AND</span> b<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">AND</span> c<span class="hljs-operator">=</span><span class="hljs-number">2</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼ša&gt;100 æ˜¯èŒƒå›´ï¼Œbã€c åœ¨ B+ æ ‘å±‚é¢å·²æ— åºï¼Œåªèƒ½ç”¨åˆ° aã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼šæŠŠè¿‡æ»¤æ€§æœ€é«˜çš„åˆ—æ”¾æœ€å·¦ï¼›æˆ–æŠŠèŒƒå›´æ¡ä»¶æ”¹ä¸º <code>IN()</code>ï¼ˆç­‰å€¼ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">å®—ç½ª 6ï¼šå›è¡¨æˆæœ¬ &gt; å…¨è¡¨æˆæœ¬</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¡¨ 1 äº¿è¡Œï¼Œidx(status)ï¼Œstatus åªæœ‰ 0/1</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> status<span class="hljs-operator">=</span><span class="hljs-number">1</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šäºŒçº§ç´¢å¼•â†’ä¸»é”®â†’å›è¡¨ï¼Œéšæœº IO æ”¾å¤§ï¼›ä¼˜åŒ–å™¨ä¼°ç®— <code>rows=5kw</code> ç›´æ¥é€‰ ALLã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<ul>
<li>åªæŸ¥éœ€è¦çš„åˆ—ï¼ˆè¦†ç›–ç´¢å¼•ï¼‰</li>
<li>æˆ–æŠŠçŠ¶æ€åˆ—æ‹†æˆæšä¸¾åˆ†åŒº/åˆ†è¡¨</li>
<li>æˆ–åŠ  <code>FORCE INDEX</code> æç¤ºï¼ˆè°¨æ…ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">å®—ç½ª 7ï¼šç»Ÿè®¡ä¿¡æ¯è¿‡æœŸ</h3>
<pre><code class="hljs language-sql" lang="sql">ANALYZE <span class="hljs-keyword">TABLE</span> t;  <span class="hljs-comment">-- ä¸€é”®æ²»æ„ˆ</span>
</code></pre>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤§é‡ DELETE å <code>Cardinality</code> æ‰åˆ° 1ï¼Œä¼˜åŒ–å™¨è®¤ä¸ºâ€œå…¨è¡¨å·®ä¸å¤šâ€ã€‚</li>
<li><strong>è¯Šæ–­</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> INDEX <span class="hljs-keyword">FROM</span> t\G  <span class="hljs-comment">-- çœ‹ Cardinality</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> mysql.innodb_index_stats <span class="hljs-keyword">WHERE</span> table_name<span class="hljs-operator">=</span><span class="hljs-string">'t'</span>;
</code></pre>
</li>
<li><strong>ä¿®å¤</strong>ï¼šå®šæœŸ <code>ANALYZE</code>ï¼Œæˆ–å¼€å¯ <code>innodb_stats_auto_recalc=1</code>ã€‚</li>
</ul>
<h3 data-id="heading-10">å®—ç½ª 8ï¼šæ•°æ®å€¾æ–œâ€”â€”â€œçƒ­ç‚¹å€¼â€</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç´¢å¼• (city)ï¼Œ90% è®¢å•åœ¨ "Shanghai"</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> city<span class="hljs-operator">=</span><span class="hljs-string">'Shanghai'</span> LIMIT <span class="hljs-number">10</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šMySQL 5.7 æ²¡æœ‰ç›´æ–¹å›¾ï¼ŒæŒ‰å¹³å‡åˆ†å¸ƒä¼°ç®—ï¼Œå‘ç°â€œå›è¡¨ 90%â€â†’å…¨è¡¨ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<ul>
<li>8.0 å»ºç›´æ–¹å›¾ <code>ANALYZE TABLE orders UPDATE HISTOGRAM ON city;</code></li>
<li>æˆ–ä¸šåŠ¡å±‚åŠ  <code>AND create_time&gt;...</code> ç¼©å°åŒºé—´</li>
<li>æˆ–æ‹†åˆ†åŒºè¡¨</li>
</ul>
</li>
</ul>
<h3 data-id="heading-11">å®—ç½ª 9ï¼šç´¢å¼•åˆ—å…è®¸ NULL</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç´¢å¼• (expire_time)</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> coupon <span class="hljs-keyword">WHERE</span> expire_time <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šInnoDB æŠŠ NULL æ”¾åœ¨ B+ æ ‘æœ€å°ç«¯ï¼ŒèŒƒå›´å¤ªå¤§ï¼›ä¼˜åŒ–å™¨é€‰ ALLã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼šè®¾è®¡æ—¶å°½é‡ <code>NOT NULL DEFAULT '1970-01-01'</code> å¹¶å»ºä¼ªå€¼ç´¢å¼•ã€‚</li>
</ul>
<h3 data-id="heading-12">å®—ç½ª 10ï¼šé”å†²çªå¯¼è‡´ä¼˜åŒ–å™¨é€€ç¼©</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> a<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- åŒæ—¶å¦ä¸€ä¼šè¯</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> a<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
</code></pre>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šå¤§é‡è¡Œé”ç­‰å¾…ï¼Œä¼˜åŒ–å™¨ä¸ºå‡å°‘é”èŒƒå›´ç›´æ¥å‡çº§è¡¨é”â†’å…¨è¡¨ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼šæ‹†åˆ†äº‹åŠ¡ã€é™ä½éš”ç¦»çº§åˆ«ã€ç”¨ <code>SELECT ... LOCK IN SHARE MODE</code> æˆ–ä¹è§‚é”ã€‚</li>
</ul>
<h3 data-id="heading-13">å®—ç½ª 11ï¼šå°è¡¨å…¨è¡¨æ›´å¿«</h3>
<ul>
<li><strong>åŸç†</strong>ï¼š&lt; ~20 è¡Œï¼Œä¼˜åŒ–å™¨ä¼°ç®—å…¨è¡¨é¡ºåºè¯»ä¸€æ¬¡å®Œæˆã€‚</li>
<li><strong>å¤„ç†</strong>ï¼šå¿½ç•¥å³å¯ï¼Œå‘½ä¸­ç´¢å¼•åè€Œæ…¢ã€‚</li>
</ul>
<h3 data-id="heading-14">å®—ç½ª 12ï¼šå‚æ•°å—…æ¢ï¼ˆPlan Cacheï¼‰</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é¢„ç¼–è¯‘è¯­å¥</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t <span class="hljs-keyword">WHERE</span> status<span class="hljs-operator">=</span>? ;
</code></pre>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç¬¬ä¸€æ¬¡ä¼  status=0ï¼ˆ0 å  99%ï¼‰ï¼ŒPlan Cache æŠŠâ€œå…¨è¡¨â€ç¼“å­˜ä¸‹æ¥ï¼Œåç»­ä¼  status=2 ä¹Ÿå¤ç”¨ã€‚</li>
<li><strong>ä¿®å¤</strong>ï¼š
<ul>
<li>8.0 å·²å–æ¶ˆ Query Cacheï¼Œå¯å¼€ <code>histogram</code>+<code>reanalyze</code></li>
<li>æˆ– <code>FORCE INDEX</code></li>
<li>æˆ– SQL å±‚æ‹†åˆ†ä¸¤æ¡è¯­å¥</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-15">å››ã€ä¸€å¼ æ€ç»´å¯¼å›¾ï¼ˆæ–‡å­—ç‰ˆï¼‰</h2>
<pre><code class="hljs language-sql" lang="sql">EXPLAIN æ˜¾ç¤ºæœªèµ°ç´¢å¼•
â”œâ”€ å¼€å‘è€…å±‚
â”‚  â”œâ”€ åˆ—è¿ç®—<span class="hljs-operator">/</span>å‡½æ•°
â”‚  â”œâ”€ éšå¼è½¬æ¢
â”‚  â”œâ”€ <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%xx'</span>
â”‚  â”œâ”€ <span class="hljs-keyword">OR</span> è·¨åˆ—
â”‚  â””â”€ å¤åˆç´¢å¼•æ–­æ¡£
â”œâ”€ æ•°æ®å±‚
â”‚  â”œâ”€ å€¾æ–œçƒ­ç‚¹
â”‚  â”œâ”€ <span class="hljs-keyword">NULL</span> è¿‡å¤š
â”‚  â””â”€ å°è¡¨
â”œâ”€ ä¼˜åŒ–å™¨å±‚
â”‚  â”œâ”€ ç»Ÿè®¡ä¿¡æ¯æ—§
â”‚  â”œâ”€ å›è¡¨æˆæœ¬é«˜
â”‚  â””â”€ é”é€€ç¼©
â””â”€ åº”ç”¨å±‚
   â”œâ”€ å‚æ•°å—…æ¢
   â””â”€ é¢„ç¼–è¯‘å¤ç”¨åè®¡åˆ’
</code></pre>
<hr/>
<h2 data-id="heading-16">äº”ã€10 åˆ†é’Ÿå®šä½ SOPï¼ˆchecklistï¼‰</h2>
<ol>
<li>è·‘ <code>EXPLAIN</code> + <code>type=ALL</code> â†’ ç¡®è®¤å…¨è¡¨</li>
<li>è·‘ <code>SHOW WARNINGS</code> â†’ çœ‹éšå¼è½¬æ¢</li>
<li>è·‘ <code>SHOW INDEX</code> â†’ çœ‹ Cardinality</li>
<li>è·‘ <code>ANALYZE</code> â†’ åˆ·æ–°ç»Ÿè®¡ä¿¡æ¯</li>
<li>è·‘ <code>OPTIMIZER_TRACE</code> â†’ çœ‹ä¼˜åŒ–å™¨æ€ä¹ˆç®— cost</li>
<li>æ£€æŸ¥ SQL æ˜¯å¦æœ‰ <code>DATE()</code>ã€<code>LIKE '%'</code>ã€ORã€IS NULL</li>
<li>æ£€æŸ¥è¡¨è¡Œæ•° <code>&lt; 20</code>ï¼Ÿ</li>
<li>æ£€æŸ¥æœ€å·¦å‰ç¼€æ˜¯å¦æ–­è£‚</li>
<li>æ£€æŸ¥æ˜¯å¦éœ€è¦è¦†ç›–ç´¢å¼•</li>
<li>æ£€æŸ¥æ˜¯å¦é”ç­‰å¾…/é•¿äº‹åŠ¡</li>
</ol>
<hr/>
<h2 data-id="heading-17">å…­ã€æ€»ç»“ä¸€å¥è¯</h2>
<blockquote>
<p><strong>ç´¢å¼•ä¸æ˜¯â€œå»ºäº†å°±æ°¸è¿œæœ‰ç”¨â€ï¼Œå®ƒä¼šåœ¨ç»Ÿè®¡ä¿¡æ¯ã€æ•°æ®åˆ†å¸ƒã€æŸ¥è¯¢å†™æ³•ã€é”å†²çªã€æˆæœ¬ä¼°ç®—ç­‰å¤šæ¡é“¾è·¯è¢«â€œè¸¢å‡ºâ€æ‰§è¡Œè®¡åˆ’ã€‚</strong><br/>
æŒæ¡ 12 å®—ç½ª + 10 åˆ†é’Ÿ SOPï¼Œä½ å°±èƒ½åœ¨å‡Œæ™¨ 3 ç‚¹å¿«é€Ÿè¯´å‡ºï¼šâ€œåˆ«æ…Œï¼Œæ˜¯ç¬¬ 7 æ¡ï¼ŒANALYZE ä¸€ä¸‹å°±å¥½ã€‚â€</p>
</blockquote>
<p>æŠŠè¿™å¼  checklist è´´åœ¨å·¥ä½ï¼Œä¸‹æ¬¡ DBA è¯´â€œæ²¡èµ°ç´¢å¼•â€æ—¶ï¼Œä½ å¯ä»¥è‡ªä¿¡åœ°å›å¤ï¼šâ€œæˆ‘å¸®ä½ æŠŠ 12 æ¡éƒ½æ‰«äº†ä¸€éï¼Œæ˜¯ç¬¬ 3 æ¡ï¼ŒLIKE å·¦æ¨¡ç³Šï¼Œå·²æ”¹å³æ¨¡ç³Šï¼ŒQPS æå‡ 37 å€ã€‚â€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´ç»ˆæ€»ç»“ï¼šæˆ‘ä¸AIâ€”â€”å‡å°‘å†…è€—ã€ç–¯ç‹‚å­¦ä¹ ã€äº«å—ä¹è¶£]]></title>    <link>https://juejin.cn/post/7592531796040089634</link>    <guid>https://juejin.cn/post/7592531796040089634</guid>    <pubDate>2026-01-07T15:57:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796040089634" data-draft-id="7589839433321742399" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´ç»ˆæ€»ç»“ï¼šæˆ‘ä¸AIâ€”â€”å‡å°‘å†…è€—ã€ç–¯ç‹‚å­¦ä¹ ã€äº«å—ä¹è¶£"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,OpenAI"/> <meta itemprop="datePublished" content="2026-01-07T15:57:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªå«ç…¤çƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/1732486058745054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´ç»ˆæ€»ç»“ï¼šæˆ‘ä¸AIâ€”â€”å‡å°‘å†…è€—ã€ç–¯ç‹‚å­¦ä¹ ã€äº«å—ä¹è¶£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1732486058745054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªå«ç…¤çƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T15:57:03.000Z" title="Wed Jan 07 2026 15:57:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çœ‹è¿‡æˆ‘ä¹‹å‰æ–‡ç« çš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œæˆ‘ç°åœ¨ä¸€å®¶å°å…¬å¸åšä¸­å±‚ç®¡ç†ï¼Œå¸¦ç€ç ”å‘éƒ¨é—¨äºŒåå¤šä¸ªäººã€‚</p>
<p>å¹³æ—¶æ—¢åšç®¡ç†å·¥ä½œï¼Œä¹Ÿä¼šå†™ç‚¹ä»£ç ã€‚</p>
<p>ä½†æ˜¯å§‹ç»ˆä¸å¤ªæ“…é•¿ç®¡ç†ã€‚</p>
<p>æ—©ä¸Šä¹ç‚¹ä¸åˆ°ï¼Œååœ¨å·¥ä½ä¸Šï¼Œå…ˆæ³¡ä¸Šä¸€æ¯å’–å•¡ï¼Œæ‰“å¼€ç”µè„‘ã€‚</p>
<p>é£ä¹¦æ¶ˆæ¯ä¸æ–­è·³å‡ºæ¥ï¼Œæ—¥ç¨‹ä¼šè®®åƒä¸€æ¡è´ªåƒè›‡ã€‚</p>
<p>éƒ¨é—¨ç»ç†çš„å¤´è¡”ï¼Œå¬èµ·æ¥æŒºåƒå›äº‹ã€‚å®é™…æƒ…å†µæ˜¯ï¼Œæ•‘ç«ã€å¼€ä¼šã€å’Œé¢†å¯¼å¯¹é½ã€å’Œä¸‹å±åè°ƒã€å’Œå¤–éƒ¨å•ä½ååŒï¼Œä»¥åŠâ€¦â€¦åœ¨æ·±å¤œæ€€ç–‘äººç”Ÿã€‚</p>
<p>æˆ‘ä¸€ç›´ä¸å¤ªæ“…é•¿ç®¡ç†ã€‚æŠ€æœ¯å‡ºèº«çš„äººæœ‰ä¸ªé€šç—…ï¼Œè§‰å¾—äº‹æƒ…å¯¹å°±æ˜¯å¯¹ï¼Œé”™å°±æ˜¯é”™ï¼ŒæŒ‰é“ç†æ¥å°±è¡Œã€‚</p>
<p>ä½†ç°å®ä»æ¥ä¸æŒ‰é“ç†æ¥ï¼Œäººä»æ¥æ˜¯å¤æ‚çš„åŠ¨ç‰©ã€‚</p>
<p>æ‰€ä»¥ 2025 å¹´æˆ‘é‡åˆ° AI çš„æ—¶å€™ï¼Œæœ€å¼€å§‹çœŸçš„åªæ˜¯è¯•è¯•ã€‚</p>
<p>ç»“æœè¯•ç€è¯•ç€ï¼Œå°±ç¦»ä¸å¼€äº†ã€‚</p>
<p>ç¦»ä¸å¼€åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ã€‚</p>
<p>æœ‰æ—¶å€™æˆ‘ç”šè‡³è§‰å¾—ï¼Œæˆ‘ä¸æ˜¯å¸¦ç€äºŒåå¤šä¸ªäººçš„ç ”å‘è´Ÿè´£äººï¼Œæˆ‘æ˜¯å¸¦ç€äºŒåå¤šä¸ªäººå¤–åŠ ä¸€ä¸ªæ°¸è¿œåœ¨çº¿çš„å˜´æ›¿ã€ç§˜ä¹¦ã€å®¡ç¨¿äººã€ä»¥åŠä¸€ä¸ªä¸å«Œæˆ‘å•°å—¦çš„ä¸´æ—¶å¿ƒç†å’¨è¯¢ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. å…ˆä»ä¸å†…è€—å¼€å§‹</h2>
<p>æˆ‘ä»¥å‰ç‰¹åˆ«æ€•ä¸€ä»¶äº‹ï¼šè¯´äº‹æƒ…è¯´ä¸æ¸…æ¥šã€‚</p>
<p>æ¯”å¦‚å¼€ä¼šæ—¶å€™çœ‹ä¼¼è¯´å¾—æŒºé¡ºï¼Œç»“æœæ•£ä¼šåä¸€å †äººæ¥é—®ï¼šä½ åˆšåˆšé‚£ä¸ªåˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ã€‚éœ€æ±‚è¯„å®¡æ—¶å¤§å®¶ç‚¹å¤´ï¼Œä¸‰å¤©åå‘ç°æ¯ä¸ªäººç†è§£éƒ½ä¸ä¸€æ ·ã€‚è·¨éƒ¨é—¨å¯¹é½æ—¶ç¬‘ç€è¯´æ²¡é—®é¢˜ï¼Œè½¬å¤´å°±åœ¨ç¾¤é‡Œäº’ç›¸ç”©é”…ã€‚</p>
<p>è¿™ä¼šè®©æˆ‘å¾ˆçƒ¦èºã€‚ç„¶åä¸æ–­è´£æ€ªè‡ªå·±ã€ä¸æ–­è‡ªçœã€å†…è€—ã€‚</p>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œæœ€éš¾çš„ä¸æ˜¯åšå†³å®šï¼Œæ˜¯æŠŠå†³å®šè®²æ¸…æ¥šï¼ŒæŠŠè¾¹ç•Œè®²æ¸…æ¥šï¼ŒæŠŠä¸ºä»€ä¹ˆè®²æ¸…æ¥šã€‚</p>
<p>AI åœ¨è¿™ä»¶äº‹ä¸ŠçœŸæ˜¯æ•‘å‘½äº†ã€‚</p>
<p>æˆ‘ä¸å†é€¼è‡ªå·±ä¸€æ¬¡å†™å‡ºå®Œç¾çš„æ–¹æ¡ˆã€å®Œç¾çš„æ±‡æŠ¥ã€å®Œç¾çš„åŒæ­¥ã€‚</p>
<p>ç°åœ¨å…ˆæŠŠåŸè¯å†™å‡ºæ¥ï¼Œå“ªæ€•å¾ˆç³™ï¼Œå“ªæ€•åƒåæ§½ï¼Œå“ªæ€•é€»è¾‘ä¹±ã€‚</p>
<p>ç„¶åä¸¢ç»™ AIï¼šæŠŠå®ƒæ•´ç†ä¸€ä¸‹ï¼Œä½†ä¸è¦è£…ï¼Œä¸è¦è™šï¼Œè¦èƒ½è®©äººä¸€çœ¼çœ‹æ‡‚æˆ‘æƒ³æ¨è¿›ä»€ä¹ˆã€‚</p>
<p>å®ƒå°±ä¼šç»™æˆ‘ä¸€ä¸ªéª¨æ¶ã€‚ç›®æ ‡ã€èŒƒå›´ã€é£é™©ã€é€‰é¡¹ã€éœ€è¦è°æ‹æ¿ã€éœ€è¦è°é…åˆã€‚</p>
<p>æˆ‘å†æ”¹æˆæˆ‘çš„è¯­æ°”ã€‚å°‘ä¸€ç‚¹æ¸©æŸ”ï¼Œå¤šä¸€ç‚¹çœŸå®ã€‚å°‘ä¸€ç‚¹å¤§è¯ï¼Œå¤šä¸€ç‚¹å…·ä½“ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å¾ˆå¥‡å¦™ã€‚</p>
<p>å¥½åƒï¼Œå¹¶æ²¡æœ‰è®©æˆ‘å˜å¾—æ›´ç²¾äºç®¡ç†ï¼Œåªæ˜¯ç»ˆäºæœ‰åŠæ³•æŠŠæˆ‘è„‘å­é‡Œé‚£å›¢çº¿å›¢æ‘Šå¼€æ¥ï¼Œä¸è‡³äºæ¯æ¬¡æ²Ÿé€šéƒ½åƒæŠŠçº¿å›¢ç›´æ¥æ‰”ç»™åˆ«äººã€‚</p>
<hr/>
<h2 data-id="heading-1">2. æŠŠä¼šè®®å˜å°‘ã€å˜ç²¾</h2>
<p>ä»¥å‰æˆ‘ä¹ŸçŸ¥é“æ–‡æ¡£é‡è¦ã€‚ä½†å¿™èµ·æ¥ï¼Œæ–‡æ¡£æ€»æ˜¯æ”¾åˆ°æœ€åä¸€ä¸ªä¼˜å…ˆçº§ã€‚</p>
<p>å¯¹ç†å·¥ç”·æ¥è®²ï¼Œå†™æ–‡æ¡£å¾ˆç—›è‹¦ã€‚</p>
<p>å°¤å…¶æ˜¯æˆ‘è¿™ç§ä¹ æƒ¯å†™ä»£ç çš„äººï¼Œè®©æˆ‘å†™ä¸€æ®µå¯è¯»çš„è¯´æ˜ï¼Œä¼šä¸‹æ„è¯†å»å†™å¾—åƒæ³¨é‡Šï¼Œè¿˜å†™å¾—å¾ˆç”Ÿç¡¬ã€‚</p>
<p>AI è®©å†™æ–‡æ¡£ä¸å†é‚£ä¹ˆç—›è‹¦ã€‚</p>
<p>å€’ä¹Ÿä¸æ˜¯è¯´å®ƒå†™å¾—æœ‰å¤šå¥½ï¼Œåªæ˜¯å®ƒè®©å¼€å¤´çš„ç¬¬ä¸€æ­¥å˜å¾—è½»æ¾äº†èµ·æ¥ã€‚</p>
<p>ç°åœ¨å¾ˆå¤šä¼šè®®ï¼Œæˆ‘çš„å‰ç½®æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<p>å…ˆå†™ä¸€æ®µèƒŒæ™¯å’Œç°çŠ¶ï¼Œè¶Šæœ´å®è¶Šå¥½ã€‚ä¸è¦ä¿®è¾ï¼Œå°±æŠŠäº‹å®æ‘†å‡ºæ¥ã€‚<br/>
å†å†™æˆ‘æ‹…å¿ƒçš„ç‚¹ï¼Œè¶Šå¦è¯šè¶Šå¥½ã€‚ä¸è¦è£…ï¼Œæ€•å•¥å°±å†™å•¥ã€‚<br/>
ç„¶åè®© AI æŠŠå®ƒå˜æˆä¸€ä¸ªå¯ä»¥è®¨è®ºçš„æ–‡æ¡£ç»“æ„ã€‚</p>
<p>ç„¶åä¼šè®®ä¸Šï¼Œå¤§å®¶å°±å¯¹ç€è¿™é—®æ–‡æ¡£å»è®¨è®ºï¼Œè€Œä¸æ˜¯æƒ³åˆ°ä»€ä¹ˆè®²ä»€ä¹ˆã€ä¹±å‘æŒ¥ã€‚</p>
<p>æœ€æ˜æ˜¾çš„æ„Ÿå—ï¼Œè½¦è½±è¾˜è¯å˜å°‘äº†ã€‚</p>
<hr/>
<h2 data-id="heading-2">3. mermaid æµç¨‹å›¾</h2>
<p>è¿™ä¸€å¹´æˆ‘åšå¾—æœ€åšæŒçš„ä¸€ä»¶äº‹ï¼Œæ˜¯æ¨åŠ¨å›¢é˜Ÿç”¨ mermaid ç”»æµç¨‹å›¾ã€‚</p>
<p>æˆ‘ä»¥å‰ä¹Ÿå¾ˆå°‘ç”»å›¾ï¼Œè§‰å¾—è¿™ç©æ„å„¿å¤ªéº»çƒ¦äº†ã€‚</p>
<p>å“ªæ€•æ˜¯drawioï¼Œä¹Ÿå¾—æ‹–æ¥æ‹–å»ã€æ”¹æ¥æ”¹å»ï¼Œäº‹å€åŠŸåŠã€‚</p>
<p>AI æŠŠè¿™ä»¶äº‹çš„é—¨æ§›ç›´æ¥ç æ‰äº†ã€‚</p>
<p>ç°åœ¨æˆ‘ç»å¸¸å¹²ä¸€ä»¶å¾ˆä¸è®²æ­¦å¾·çš„äº‹æƒ…ï¼š</p>
<p>æŠŠäº§å“åŒå­¦ä¸€æ®µä¸€æ®µçš„æ–‡å­—æè¿°å¤åˆ¶å‡ºæ¥ï¼Œä¸¢ç»™ AIï¼Œè®©å®ƒç›´æ¥è½¬æˆ mermaid è¯­æ³•ã€‚<br/>
å†è®©å®ƒæ ¹æ®æˆ‘ä»¬è¯„å®¡çš„è®¨è®ºç»“æœè¿­ä»£æµç¨‹ã€‚<br/>
æœ€åæ¸²æŸ“å‡ºæ¥ï¼Œè´´è¿›æ–‡æ¡£ã€‚</p>
<p>ä¸ºæ­¤è¿˜ä¸“é—¨è®©CodeXå†™äº†ä¸ªmermaidå¯è§†åŒ–å·¥å…·ï¼Œè¿˜èƒ½æ–¹ä¾¿åœ°å¯¼å‡ºå›¾ç‰‡ã€‚</p>
<p>ç°åœ¨æµç¨‹å›¾æ˜¯å¤§å®¶ä¸€èµ·æ”¹æ–‡å­—ï¼ŒAI è´Ÿè´£æŠŠæ–‡å­—å˜æˆå›¾ã€‚</p>
<p>è¿™å˜åŒ–å¯¹ä¸šåŠ¡æµç¨‹ç†è§£å¤ªå¤§äº†ã€‚</p>
<p>å¾ˆå¤šéœ€æ±‚äº‰è®®ï¼Œä¸æ˜¯æŠ€æœ¯å®ç°é—®é¢˜ï¼Œæ˜¯æµç¨‹ç†è§£ä¸ä¸€è‡´ã€‚æµç¨‹ä¸€ç”»å‡ºæ¥ï¼Œå“ªé‡Œç»•ã€å“ªé‡Œæ¼ã€å“ªé‡Œè´£ä»»ä¸æ¸…ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥ã€‚</p>
<p>æ–°åŒå­¦ä¹Ÿæ›´å®¹æ˜“ä¸Šæ‰‹ã€‚ä½ ç»™ä»–çœ‹ä¸€æ®µå£å¤´æè¿°ï¼Œå¯èƒ½ä¸€è„¸æ‡µé€¼ã€‚ä½†æ˜¯ç»™ä»–çœ‹ä¸€å¼ æµç¨‹å›¾ï¼Œä»–ç»å¯¹å°±çŸ¥é“è¯¥ä»å“ªä¸€æ­¥å¼€å§‹äº†ã€‚</p>
<p>æˆ‘ç”šè‡³è§‰å¾—ï¼ŒAI åœ¨å›¢é˜Ÿåä½œé‡Œæœ€å¼ºçš„åœ°æ–¹ï¼Œæ˜¯æŠŠ <strong>å…±è¯†</strong> å¯è§†åŒ–ï¼Œè€Œä¸ä»…ä»…æ˜¯å†™ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-3">4. æŠŠæ²Ÿé€šå½“ä½œä¸€é—¨æŠ€èƒ½</h2>
<p>å¦ç™½è®²ã€‚</p>
<p>ä»¥å‰å¾ˆç¾¡æ…•é‚£äº›æ²Ÿé€šèƒ½åŠ›å¾ˆå¼ºçš„äººã€‚</p>
<p>è®²è¯ä¸è´¹åŠ›ï¼Œæ‹æ¿ä¸çº ç»“ï¼Œæ¨è¿›ä¸å¿ƒè™šï¼Œé‡åˆ°å†²çªè¿˜èƒ½æŠŠåœºé¢æ”¶å¾—å¹²å¹²å‡€å‡€ã€‚</p>
<p>å¯æˆ‘ä¸æ˜¯é‚£ç§äººã€‚</p>
<p>é‡åˆ°å†²çªæƒ³ç»•å¼€ã€‚é‡åˆ°äººæƒ…ä¼šä¸çŸ¥æ‰€æªã€‚é‡åˆ°è·¨éƒ¨é—¨æ²Ÿé€šä¼šç„¦è™‘ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“å¯¹æ–¹æƒ³å¬ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥é“æˆ‘è¯´çš„ä¼šä¸ä¼šè¢«è¯¯è§£ã€‚</p>
<p>AI ç»™äº†æˆ‘ä¸€ä¸ªç»ƒä¹ çš„æœºä¼šã€‚</p>
<p>æ¯”å¦‚æˆ‘è¦å’Œé¢†å¯¼è°ˆä¸€æ¬¡æ¯”è¾ƒéš¾çš„è¯é¢˜ï¼Œæˆ‘ä¼šå…ˆæŠŠäº‹å®å†™å‡ºæ¥ï¼ŒæŠŠæˆ‘çœŸæ­£çš„æ‹…å¿ƒå†™å‡ºæ¥ï¼ŒæŠŠæˆ‘å¸Œæœ›è¾¾æˆçš„ç»“æœå†™å‡ºæ¥ã€‚ç„¶åè®© AI ç»™æˆ‘å‡ ä¸ªè¡¨è¾¾æ–¹å¼ï¼š</p>
<p>ä¸€ç§åç›´æ¥ï¼Œä¸€ç§åæ¸©å’Œï¼Œä¸€ç§ååªè°ˆäº‹å®ä¸è°ˆæƒ…ç»ªã€‚</p>
<p>å€Ÿç€å®ƒçš„ç»“æ„ï¼Œå†å»å¤ç›˜ã€è®°å½•ã€å°è¯•ï¼Œè®©è‡ªå·±å°½é‡å†·é™ã€æ¸…æ™°ï¼Œä¸è¢«æƒ…ç»ªå¸¦ç€èµ°ã€‚</p>
<p>æœ‰æ—¶å€™æ€»å®³æ€•è¯´é”™ï¼Œç»“æœè¶Šæƒ³è¶Šä¸æ•¢å¼€å£ã€‚</p>
<p>ç°åœ¨ç»ˆäºé€æ¸è°ƒæ•´äº†è¿‡æ¥ï¼Œå…ˆæŠŠè¯è¯´å‡ºæ¥ï¼Œå†å»è°ƒæ•´ã€‚</p>
<p>æ²Ÿé€šä¸æ˜¯å¤©èµ‹ï¼Œæ˜¯ç»ƒå‡ºæ¥çš„ã€‚</p>
<p>åªä¸è¿‡ä»¥å‰å¾—çœ‹ä¸€å¤§å †çš„ä¹¦ã€ä¸€å¤§å †çš„èµ„æ–™å»äº†è§£ã€å­¦ä¹ ï¼Œç°åœ¨å¯ä»¥ç›´æ¥å’ŒAIå»æ¨¡æ‹Ÿã€å¤ç›˜ã€‚</p>
<hr/>
<h2 data-id="heading-4">5. äº«å—åšäº§å“çš„ä¹è¶£</h2>
<p>å¦‚æœè¯´ç®¡ç†ä¸Šçš„å˜åŒ–æ˜¯æˆ‘å˜ç¨³äº†ï¼Œé‚£ä»Šå¹´æœ€è®©æˆ‘å¼€å¿ƒçš„äº‹æƒ…ï¼Œæ˜¯æˆ‘åˆæ‰¾å›äº†åšç‹¬ç«‹äº§å“æ—¶é‚£ç§çº¯ç²¹ã€‚</p>
<p>æˆ‘æœ‰å¾ˆå¤šå¤©é©¬è¡Œç©ºçš„æƒ³æ³•ã€‚ä»¥å‰æˆ‘ä¹Ÿæƒ³åšï¼Œä½†å¾ˆå®¹æ˜“è¢«ç°å®æ‰“å›å»ã€‚</p>
<p>å› ä¸ºä¸€æƒ³åˆ°ï¼š</p>
<p>è¦æ­é¡¹ç›®ç»“æ„ã€è¦æŸ¥æ–‡æ¡£ã€è¦è¡¥æµ‹è¯•ã€è¦å†™ READMEã€è¦å¤„ç†å„ç§è¾¹è§’çŠ¶å†µâ€¦â€¦</p>
<p>ç›´æ¥æŠŠå¿ƒæ€§ç£¨æ²¡äº†ã€‚</p>
<p>ä»Šå¹´ä¸ä¸€æ ·äº†ã€‚</p>
<p>å„ç§ AI ç¼–è¾‘å™¨å’Œç¼–ç¨‹åŠ©æ‰‹æ¥è¸µè€Œè‡³ã€‚</p>
<p>cursorã€kiroã€windsurfã€codexã€claude code â€¦â€¦</p>
<p>æˆ‘è¿™ç§æƒ³æ³•å¤šçš„äººï¼Œç»ˆäºå¯ä»¥æ”¾å¼€æ‰‹è„šè¿ˆå‡ºä¸€å¤§æ­¥äº†ã€‚</p>
<p>è¿™è¾¹AI IDE å¸®æˆ‘æŠŠé‡å¤åŠ³åŠ¨å…¨éƒ¨æ¥è¿‡å»äº†ã€‚</p>
<p>æ‰€è°“çš„Vibe Codingã€‚</p>
<p>è„šæ‰‹æ¶ã€æ ·æ¿ä»£ç ã€æ¥å£æ ·ä¾‹ã€æ–‡æ¡£éª¨æ¶ã€æµ‹è¯•ç‚¹æ¸…å•ã€ç”šè‡³ä¸€äº›æˆ‘æ‡’å¾—å†™ä½†åˆå¿…é¡»å†™çš„è¯´æ˜ï¼Œéƒ½èƒ½å…ˆç»™æˆ‘ä¸€ä¸ªå¯ç”¨çš„ç‰ˆæœ¬ã€‚</p>
<p>å¾—ä»¥æŠŠç²¾åŠ›ç•™ç»™æ›´æ ¸å¿ƒçš„éƒ¨åˆ†ï¼š</p>
<p>äº§å“æ€ä¹ˆè®¾è®¡ï¼ŒåŠŸèƒ½æ€ä¹ˆå–èˆï¼Œä½“éªŒæ€ä¹ˆæ‰“ç£¨ï¼Œæ€ä¹ˆè®©å®ƒæ›´åƒä¸€ä¸ªäººçœŸçš„ä¼šæƒ³ç”¨çš„ä¸œè¥¿ã€‚</p>
<p>æ‰€ä»¥æˆ‘åˆæŠŠ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FwuuJiawei%2Fsnail-todolist" target="_blank" title="https://github.com/wuuJiawei/snail-todolist" ref="nofollow noopener noreferrer">github.com/wuuJiawei/sâ€¦</a> è¿™ç§é¡¹ç›®æ‹¾èµ·æ¥äº†ï¼Œä¹Ÿå¼€å§‹åšä¸€äº›æ–‡å­—æ”¾ç½®ç±»çš„å°æ¸¸æˆï¼Œæ‰“ç®—åç»­å¼€æºã€‚</p>
<p>è¿™äº›ä½œå“å¯èƒ½å·²ç»çƒ‚å¤§è¡—äº†ï¼Œä½†å®ƒä»¬çš„é€æ­¥å®Œå–„ï¼Œè¿˜æ˜¯è®©æˆ‘å¾ˆæœ‰æˆå°±æ„Ÿçš„ã€‚</p>
<p>é‚£ç§å¼€å¿ƒä¸æ˜¯å®Œæˆ KPI çš„å¼€å¿ƒï¼Œæ˜¯åšå‡ºä¸€ä¸ªäº§å“çš„å¼€å¿ƒã€‚</p>
<p>å¾ˆä¹…æ²¡æœ‰äº†ã€‚</p>
<hr/>
<h2 data-id="heading-5">6. ä½†æ˜¯ä¹Ÿæœ‰ä»£ä»·</h2>
<p>ä½†å¿…é¡»æ‰¿è®¤ï¼ŒAI ç”¨ä¹…äº†ä¹‹åï¼Œä¼šæœ‰ä¸€ä¸ªæ˜æ˜¾çš„å‰¯ä½œç”¨ã€‚</p>
<p>è¿‡åº¦çš„è·¯å¾„ä¾èµ–ã€‚</p>
<p>ä»¥å‰é‡åˆ°é—®é¢˜ï¼Œä¼šå…ˆè‡ªå·±æƒ³ã€‚æƒ³ä¸é€šå†æŸ¥èµ„æ–™ï¼Œä¸è¡Œå†é—®æœ‹å‹ã€‚</p>
<p>ç°åœ¨é‡åˆ°é—®é¢˜ï¼Œç¬¬ä¸€ååº”å®Œå…¨æ˜¯ï¼šé—® AIã€‚</p>
<p>å®ƒå¤ªå¿«äº†ï¼Œå¤ªæ–¹ä¾¿äº†ï¼Œå¤ªå¥½ç”¨äº†ã€‚</p>
<p>å¿«åˆ°æˆ‘æœ‰æ—¶å€™ç”šè‡³æ²¡ç»™è‡ªå·±äº”åˆ†é’Ÿæ€è€ƒçš„æœºä¼šã€‚</p>
<p>æœ‰æ—¶å€™è¿™ä¼šè®©æˆ‘ä¸å®‰ã€‚</p>
<p>ä¹Ÿè®¸äººç”Ÿæœ€æ€•çš„ä¸æ˜¯æ…¢ï¼Œæ˜¯å¤±å»åˆ¤æ–­åŠ›ï¼Œæˆ‘ä¸ç¡®å®šã€‚</p>
<p>æˆ‘å¯ä»¥å€Ÿå·¥å…·æé«˜æ•ˆç‡ï¼Œä½†ç»å¯¹ä¸èƒ½æŠŠè‡ªå·±çš„æ€è€ƒå¤–åŒ…å‡ºå»ã€‚</p>
<p>æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜åï¼Œæˆ‘ç»™è‡ªå·±ç«‹äº†å‡ ä¸ªå°è§„çŸ©ï¼š</p>
<p>ç¢°åˆ°é—®é¢˜å…ˆè‡ªå·±æƒ³äº”åˆ†é’Ÿï¼Œå†é—®ã€‚</p>
<p>é—®çš„æ—¶å€™å…ˆå†™å‡ºæˆ‘çš„çŒœæµ‹ï¼Œè®© AI æ¥åé©³æˆ‘ï¼Œè€Œä¸æ˜¯ç›´æ¥è¦ç­”æ¡ˆã€‚</p>
<p>è®© AI ç»™æ–¹æ¡ˆæ—¶ï¼Œä¹Ÿè®©å®ƒåˆ—å‡ºé£é™©å’Œå¯éªŒè¯ç‚¹ã€‚</p>
<p>è¿™äº›è§„çŸ©å¯èƒ½æ¯”è¾ƒlowï¼Œä½†å¤šå°‘èƒ½è®©æˆ‘å¿ƒé‡Œç¨å¾®è¸å®ä¸€ç‚¹ï¼Œè‡³å°‘æˆ‘è¿˜æ„¿æ„åœä¸‹æ¥æ€è€ƒã€‚</p>
<p>æˆ‘å¸Œæœ›æˆ‘ç¦»ä¸å¼€ AIï¼Œæ˜¯å› ä¸ºæˆ‘å­¦ä¼šäº†æ›´é«˜æ•ˆåœ°åˆ›é€ ï¼Œè€Œä¸æ˜¯å› ä¸ºæˆ‘å¤±å»äº†è‡ªå·±ç‹¬ç«‹é¢å¯¹é—®é¢˜çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-6">7. å˜åŒ–å¾ˆå°ï¼Œåˆå¾ˆçœŸå®</h2>
<p>å›é¡¾æ•´ä¸ª2025å¹´ã€‚</p>
<p>æˆ‘æ²¡æœ‰çªç„¶å˜æˆç®¡ç†å­¦çš„ç²¾è‹±ã€‚</p>
<p>æˆ‘è¿˜æ˜¯ä¼šç„¦è™‘ï¼Œè¿˜æ˜¯ä¼šçƒ¦èºï¼Œè¿˜æ˜¯ä¼šåœ¨æŸäº›æ²Ÿé€šä¸ŠçŠ¯è ¢ï¼Œè¿˜æ˜¯ä¼šåœ¨å¤œé‡Œemoã€‚</p>
<p>ä½†ç¡®å®æœ‰ä¸€äº›å®å®åœ¨åœ¨çš„å˜åŒ–ï¼š</p>
<p>æˆ‘æ›´æ„¿æ„å†™ä¸‹æ¥ï¼ŒæŠŠäº‹æƒ…è¯´æ¸…æ¥šã€‚</p>
<p>æˆ‘æ›´æ„¿æ„ç”»å‡ºæ¥ï¼Œç”¨æµç¨‹å›¾è¾¾æˆå…±è¯†ã€‚</p>
<p>æˆ‘æ›´æ„¿æ„ç»ƒä¹ æ²Ÿé€šã€‚</p>
<p>æˆ‘æŠŠæ›´å¤šæ—¶é—´ä»é‡å¤åŠ³åŠ¨é‡Œæ‹¿å›æ¥ï¼Œæ”¾åˆ°åˆ›é€ æ€§çš„éƒ¨åˆ†ã€‚</p>
<p>æˆ‘ä¹Ÿå¼€å§‹è®¤çœŸè­¦æƒ•è·¯å¾„ä¾èµ–ï¼Œæé†’è‡ªå·±è¦ç‹¬ç«‹æ€è€ƒã€‚</p>
<p>ä»23å¹´çš„åæ§½åˆ°ç°åœ¨å®Œå…¨ç¦»ä¸å¼€ï¼ŒAIçš„å‘å±•å¿«å¾—æœ‰ç‚¹ç¦»è°±ã€‚</p>
<p>ä½†å®ƒä¹Ÿå¾ˆç¬¦åˆæˆ‘è¿™ç§äººã€‚</p>
<p>æˆ‘æœ¬æ¥å°±ä¸æ˜¯é‚£ç§å–œæ¬¢å®å¤§å™äº‹çš„äººã€‚</p>
<p>æˆ‘åªåœ¨ä¹ä¸€ä»¶äº‹ï¼šæ¯å¤©å·¥ä½œå’Œç”Ÿæ´»é‡Œï¼Œæ˜¯ä¸æ˜¯çœŸçš„å˜è½»äº†ä¸€ç‚¹ç‚¹ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œç¡®å®è½»äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€]]></title>    <link>https://juejin.cn/post/7592276645362106368</link>    <guid>https://juejin.cn/post/7592276645362106368</guid>    <pubDate>2026-01-07T14:07:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645362106368" data-draft-id="7592440247956422671" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-07T14:07:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:07:47.000Z" title="Wed Jan 07 2026 14:07:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>CES 2026 åˆšåˆšåœ¨æ‹‰æ–¯ç»´åŠ æ–¯è½ä¸‹å¸·å¹•ï¼Œè™½ç„¶å±•å°ä¸Šé‚£äº›è·³èˆã€åç©ºç¿»çš„æœºå™¨äººä¾æ—§å¸ç›ï¼Œä½†å¯¹äºå’±ä»¬è¿™äº›çœŸæ­£åœ¨æå…·èº«æ™ºèƒ½å¼€å‘çš„â€œç‚¼ä¸¹å¸ˆâ€æ¥è¯´ï¼ŒçœŸæ­£çš„ç¡¬èœå…¶å®è—åœ¨ä»£ç å’Œæ•°æ®é‡Œã€‚</p>
<p>æ™ºå…ƒæœºå™¨äººï¼ˆAgibotï¼‰è¿™æ¬¡å‘å¸ƒäº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ä¸œè¥¿â€”â€”Genie Sim 3.0ã€‚å¦‚æœä¸ä»”ç»†çœ‹ï¼Œä½ å¯èƒ½è§‰å¾—è¿™åªæ˜¯åˆä¸€ä¸ªä»¿çœŸè½¯ä»¶ï¼Œä½†å…³é”®åœ¨äºå®ƒçš„å‰ç¼€ï¼šè¿™æ˜¯å…¨çƒé¦–ä¸ªç”±å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰é©±åŠ¨çš„å¼€æºæœºå™¨äººä»¿çœŸå¹³å°ã€‚</p>
<p>è¯´å¾—ç›´ç™½ç‚¹ï¼Œä»¥å‰æˆ‘ä»¬åœ¨ä»¿çœŸç¯å¢ƒé‡Œè®­ç»ƒæœºå™¨äººï¼Œæœ€ç—›è‹¦çš„ä¸æ˜¯å†™ç®—æ³•ï¼Œè€Œæ˜¯æ­åœºæ™¯ã€‚ä¸ºäº†è®©æœºå™¨äººå­¦ä¼šæ”¶æ‹¾æ¡Œå­ï¼Œä½ å¾—åœ¨è½¯ä»¶é‡Œä¸€ä¸ªä¸ªæ‘†æ”¾æ¯å­ã€ç›˜å­ï¼Œè¿˜å¾—è°ƒæ•´å…‰ç…§ã€æ‘©æ“¦åŠ›ã€‚è¿™ç®€ç›´æ˜¯åœ¨â€œæ‰‹æ“â€ä¸–ç•Œï¼Œæ•ˆç‡ä½åˆ°è®©äººå¤´ç§ƒã€‚</p>
<p>Genie Sim 3.0 è§£å†³çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæŠŠé‚£ç§è´¹æ—¶è´¹åŠ›çš„â€œæ‰‹æ“â€å˜æˆäº†ä¸€å¥è¯çš„äº‹å„¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.02.38-1024x380.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.02.38-1024x380.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36aea8840cf4444da2271ca908ab65e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=l2UtfDIWvs5FjNo8Sp908UsvCiU%3D" alt="iShot_2026-01-07_22.02.38" loading="lazy"/></a></p>
<p><strong>å½“ä¸Šå¸æ¨¡å¼å˜æˆäº†â€œèŠå¤©çª—å£â€</strong></p>
<p>è¿™ä¸ªå¹³å°æœ€æ ¸å¿ƒçš„çªç ´ï¼Œåœ¨äºå®ƒå¬å¾—æ‡‚äººè¯ã€‚åŸºäº NVIDIA Isaac Sim æ„å»ºçš„åº•åº§ä¸Šï¼Œæ™ºå…ƒæ¥å…¥äº† LLMã€‚ç°åœ¨çš„ç©æ³•å˜æˆäº†ï¼šä½ åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥â€œç”Ÿæˆä¸€ä¸ªç”±äºæ˜¨æ™šèšä¼šè€Œæ¯ç›˜ç‹¼è—‰çš„é¤æ¡Œåœºæ™¯ï¼Œè¦æœ‰å‰©èœå’Œå€’ä¸‹çš„é…’æ¯â€ï¼Œå‡ åˆ†é’Ÿåï¼Œå‡ åƒç”šè‡³ä¸Šä¸‡ä¸ªç¬¦åˆæè¿°ä½†ç»†èŠ‚å„å¼‚çš„ 3D åœºæ™¯å°±ç”Ÿæˆå¥½äº†ã€‚</p>
<p>è¿™ä¸ªâ€œä¸‡çº§åœºæ™¯ç”Ÿæˆåˆ†é’Ÿçº§å®Œæˆâ€çš„å‚æ•°ï¼Œå¯¹äºéœ€è¦æµ·é‡æ•°æ®å–‚å…»çš„å…·èº«æ¨¡å‹æ¥è¯´ï¼Œä¸ä»…ä»…æ˜¯æ•ˆç‡æå‡ï¼Œç®€ç›´å°±æ˜¯é™ç»´æ‰“å‡»ã€‚å®ƒæ„å‘³ç€ä½ å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€ï¼Œå¿«é€Ÿæ„å»ºå‡ºå„ç§æç«¯æ¡ˆä¾‹ï¼ˆCorner Caseï¼‰ï¼Œä¸“é—¨é’ˆå¯¹æœºå™¨äººçš„å¼±é¡¹è¿›è¡Œç‰¹è®­ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.02.59-1024x618.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.02.59-1024x618.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5add82e6c3b49569712f8f9f62242ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=%2FmdivXPYrCyTYHqZ2%2BN94UjTdB0%3D" alt="iShot_2026-01-07_22.02.59" loading="lazy"/></a></p>
<p><strong>æ‹’ç»â€œè™šå‡â€çš„ç²¾ç»†åº¦</strong></p>
<p>ä»¿çœŸè®­ç»ƒæœ€å¤§çš„å‘æ˜¯â€œSim-to-Real Gapâ€ï¼ˆè™šå®è¿ç§»é¸¿æ²Ÿï¼‰ã€‚åœ¨æ¨¡æ‹Ÿå™¨é‡Œæœºå™¨äººæ˜¯ä¸ªç¥æªæ‰‹ï¼Œæ”¾åˆ°çœŸæœºä¸Šè¿ç“¶æ°´éƒ½æŠ“ä¸ç¨³ï¼ŒåŸå› é€šå¸¸æ˜¯ç‰©ç†å¼•æ“ä¸å‡†æˆ–è€…è§†è§‰æ¸²æŸ“å¤ªå‡ã€‚</p>
<p>Genie Sim 3.0 å±…ç„¶æ•¢å®£ç§°è™šå®å·®å¼‚å°äº 10%ï¼Œè¿™åº•æ°”æ¥è‡ªäºå®ƒçš„â€œæ•°å­—å­ªç”Ÿçº§â€å¤åˆ»èƒ½åŠ›ã€‚å®ƒä¸ä»…ä»…æ˜¯ç”»å¾—åƒï¼Œè€Œæ˜¯ç‰©ç†å±æ€§ä¸Šçš„åƒã€‚æ¯”å¦‚ä½ æƒ³åœ¨è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œé‡ŒåŠ ä¸€æŠŠç°å®ä¸­çš„æ¤…å­ï¼Œä¸éœ€è¦å¤æ‚çš„å»ºæ¨¡ï¼Œæ‹¿ç€æ‰‹æœºå¯¹ç€æ¤…å­æ‹ä¸€æ®µ 60 ç§’çš„ç¯ç»•è§†é¢‘ï¼Œç®—æ³•å°±èƒ½ç”Ÿæˆå¸¦ç²¾ç¡®ç½‘æ ¼å’Œçº¹ç†çš„ä»¿çœŸæ¨¡å‹ã€‚</p>
<p>è¿™ç§æŠŠç°å®ç‰©ä½“â€œç¬é—´ä¼ é€â€è¿›è™šæ‹Ÿä¸–ç•Œçš„èƒ½åŠ›ï¼Œå¯¹äºåƒè¶…å¸‚ä¸Šè´§ã€ç‰©æµåˆ†æ‹£è¿™ç§ç‰©å“æå…¶</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.03.18-1024x370.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.03.18-1024x370.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3863c7cf9f14462bf915c170531ebd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=ZJV%2BOnX0GB7X1ejPc%2BREYV5GabI%3D" alt="iShot_2026-01-07_22.03.18" loading="lazy"/></a></p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7592410399917359145</link>    <guid>https://juejin.cn/post/7592410399917359145</guid>    <pubDate>2026-01-07T14:35:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592410399917359145" data-draft-id="7592410399917326377" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Django,Python"/> <meta itemprop="datePublished" content="2026-01-07T14:35:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:35:38.000Z" title="Wed Jan 07 2026 14:35:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">èƒŒæ™¯æ•…äº‹</h3>
<p>åœ¨é˜…è¯» Django æºç æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„å®ç°ç»†èŠ‚ï¼š<code>list()</code> å‡½æ•°åœ¨è½¬æ¢å¯¹è±¡ä¸ºåˆ—è¡¨æ—¶ï¼Œä¼šä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„ <code>__len__</code> æ–¹æ³•æ¥è·å–é•¿åº¦ä¿¡æ¯ã€‚è¿™ä¸ªä¼˜åŒ–ç­–ç•¥è®©æˆ‘å¯¹ Python çš„å†…ç½®æœºåˆ¶æœ‰äº†æ–°çš„è®¤è¯†ã€‚</p>
<h3 data-id="heading-1">åŸç†è§£æ</h3>
<p><code>list()</code> å‡½æ•°åœ¨å¤„ç†å¯è¿­ä»£å¯¹è±¡æ—¶ï¼Œä¼šå°è¯•è°ƒç”¨ <code>__len__</code> æ–¹æ³•æ¥é¢„å…ˆåˆ†é…å†…å­˜ç©ºé—´ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨è¿­ä»£è¿‡ç¨‹ä¸­é¢‘ç¹æ‰©å®¹ï¼Œæé«˜æ€§èƒ½ã€‚è¿™åœ¨ Django çš„ QuerySet å®ç°ä¸­å°¤å…¶é‡è¦ï¼Œå› ä¸ºæ•°æ®åº“æŸ¥è¯¢çš„ç»“æœé›†å¤§å°æ˜¯å·²çŸ¥çš„ã€‚</p>
<h3 data-id="heading-2">éªŒè¯ Demo</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestIterable</span>:
    <span class="hljs-string">"""æµ‹è¯•å¯è¿­ä»£å¯¹è±¡ï¼Œç”¨äºéªŒè¯ list() æ˜¯å¦ä¼šè°ƒç”¨ __len__"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, items</span>):
        self.items = items
        self.len_call_count = <span class="hljs-number">0</span>
        self.iter_call_count = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é‡è½½é•¿åº¦æ–¹æ³•ï¼Œè®°å½•è°ƒç”¨æ¬¡æ•°"""</span>
        self.len_call_count += <span class="hljs-number">1</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"__len__ è¢«è°ƒç”¨äº†ç¬¬ <span class="hljs-subst">{self.len_call_count}</span> æ¬¡"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.items)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é‡è½½è¿­ä»£æ–¹æ³•ï¼Œè®°å½•è°ƒç”¨æ¬¡æ•°"""</span>
        self.iter_call_count += <span class="hljs-number">1</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"__iter__ è¢«è°ƒç”¨äº†ç¬¬ <span class="hljs-subst">{self.iter_call_count}</span> æ¬¡"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(self.items)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_stats</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–è°ƒç”¨ç»Ÿè®¡"""</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'len_calls'</span>: self.len_call_count,
            <span class="hljs-string">'iter_calls'</span>: self.iter_call_count
        }

<span class="hljs-comment"># éªŒè¯å®éªŒ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_list_len_call</span>():
    <span class="hljs-string">"""éªŒè¯ list() ä¼šè°ƒç”¨ __len__ çš„æµ‹è¯•å‡½æ•°"""</span>
    
    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¯¹è±¡</span>
    test_data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    test_obj = TestIterable(test_data)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== å®éªŒå¼€å§‹ï¼šéªŒè¯ list() å¯¹ __len__ çš„è°ƒç”¨ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ•°æ®ï¼š<span class="hljs-subst">{test_data}</span>"</span>)
    
    <span class="hljs-comment"># è°ƒç”¨ list() è½¬æ¢</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè°ƒç”¨ list() è¿›è¡Œè½¬æ¢..."</span>)
    result = <span class="hljs-built_in">list</span>(test_obj)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nè½¬æ¢ç»“æœï¼š<span class="hljs-subst">{result}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è°ƒç”¨ç»Ÿè®¡ï¼š<span class="hljs-subst">{test_obj.get_stats()}</span>"</span>)
    
    <span class="hljs-comment"># éªŒè¯ç»“æœ</span>
    stats = test_obj.get_stats()
    <span class="hljs-keyword">if</span> stats[<span class="hljs-string">'len_calls'</span>] &gt; <span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… éªŒè¯æˆåŠŸï¼šlist() ç¡®å®è°ƒç”¨äº† __len__ æ–¹æ³•ï¼"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   __len__ è¢«è°ƒç”¨äº† <span class="hljs-subst">{stats[<span class="hljs-string">'len_calls'</span>]}</span> æ¬¡"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâŒ éªŒè¯å¤±è´¥ï¼šlist() æ²¡æœ‰è°ƒç”¨ __len__ æ–¹æ³•"</span>)
    
    <span class="hljs-keyword">if</span> stats[<span class="hljs-string">'iter_calls'</span>] &gt; <span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   __iter__ è¢«è°ƒç”¨äº† <span class="hljs-subst">{stats[<span class="hljs-string">'iter_calls'</span>]}</span> æ¬¡"</span>)
    
    <span class="hljs-keyword">return</span> stats[<span class="hljs-string">'len_calls'</span>] &gt; <span class="hljs-number">0</span>

<span class="hljs-comment"># è¿›é˜¶æµ‹è¯•ï¼šä¸åŒé•¿åº¦çš„æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">performance_comparison</span>():
    <span class="hljs-string">"""ä¸åŒé•¿åº¦å¯¹è±¡çš„æ€§èƒ½å¯¹æ¯”æµ‹è¯•"""</span>
    
    <span class="hljs-keyword">import</span> time
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">SizedIterable</span>:
        <span class="hljs-string">"""å¸¦é•¿åº¦çš„å¯è¿­ä»£å¯¹è±¡"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n</span>):
            self.n = n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> self.n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">range</span>(self.n))
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnsizedIterable</span>:
        <span class="hljs-string">"""ä¸å¸¦é•¿åº¦çš„å¯è¿­ä»£å¯¹è±¡"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n</span>):
            self.n = n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">range</span>(self.n))
    
    <span class="hljs-comment"># æµ‹è¯•ä¸åŒå¤§å°çš„æ•°æ®</span>
    sizes = [<span class="hljs-number">1000</span>, <span class="hljs-number">10000</span>, <span class="hljs-number">100000</span>]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== æ€§èƒ½å¯¹æ¯”æµ‹è¯• ==="</span>)
    <span class="hljs-keyword">for</span> size <span class="hljs-keyword">in</span> sizes:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næµ‹è¯•æ•°æ®é‡ï¼š<span class="hljs-subst">{size}</span>"</span>)
        
        <span class="hljs-comment"># æµ‹è¯•å¸¦é•¿åº¦çš„å¯¹è±¡</span>
        sized = SizedIterable(size)
        start = time.time()
        <span class="hljs-built_in">list</span>(sized)
        sized_time = time.time() - start
        
        <span class="hljs-comment"># æµ‹è¯•ä¸å¸¦é•¿åº¦çš„å¯¹è±¡</span>
        unsized = UnsizedIterable(size)
        start = time.time()
        <span class="hljs-built_in">list</span>(unsized)
        unsized_time = time.time() - start
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  å¸¦ __len__ çš„å¯¹è±¡ï¼š<span class="hljs-subst">{sized_time:<span class="hljs-number">.6</span>f}</span> ç§’"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ä¸å¸¦ __len__ çš„å¯¹è±¡ï¼š<span class="hljs-subst">{unsized_time:<span class="hljs-number">.6</span>f}</span> ç§’"</span>)
        <span class="hljs-keyword">if</span> sized_time &lt; unsized_time:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ€§èƒ½æå‡ï¼š<span class="hljs-subst">{((unsized_time - sized_time) / unsized_time * <span class="hljs-number">100</span>):<span class="hljs-number">.2</span>f}</span>%"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># è¿è¡ŒåŸºç¡€éªŒè¯</span>
    test_list_len_call()
    
    <span class="hljs-comment"># è¿è¡Œæ€§èƒ½å¯¹æ¯”</span>
    performance_comparison()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== å®éªŒç»“è®º ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. list() å‡½æ•°ç¡®å®ä¼šè°ƒç”¨å¯¹è±¡çš„ __len__ æ–¹æ³•"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. è¿™ç§æœºåˆ¶å¯ä»¥é¢„å…ˆåˆ†é…å†…å­˜ï¼Œæé«˜æ€§èƒ½"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. åœ¨ Django ç­‰å¤§å‹æ¡†æ¶ä¸­ï¼Œè¿™ç§ä¼˜åŒ–ç‰¹åˆ«é‡è¦"</span>)
</code></pre>
<h3 data-id="heading-3">Django æºç ä¸­çš„åº”ç”¨</h3>
<p>åœ¨ Django çš„ <code>QuerySet</code> ç±»ä¸­ï¼Œè¿™ç§æœºåˆ¶è¢«å¹¿æ³›è¿ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Django æºç ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">QuerySet</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, model, query</span>):
        self.model = model
        self.query = query
        self._result_cache = <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–æŸ¥è¯¢ç»“æœé•¿åº¦"""</span>
        <span class="hljs-keyword">if</span> self._result_cache <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-comment"># æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢è·å–æ•°é‡</span>
            self._result_cache = <span class="hljs-built_in">list</span>(self)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self._result_cache)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è¿­ä»£æŸ¥è¯¢ç»“æœ"""</span>
        <span class="hljs-comment"># æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢å¹¶è¿”å›è¿­ä»£å™¨</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(self.execute_query())
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_query</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œå®é™…çš„æ•°æ®åº“æŸ¥è¯¢"""</span>
        <span class="hljs-comment"># è¿™é‡Œä¼šæ‰§è¡Œ SQL æŸ¥è¯¢å¹¶è¿”å›ç»“æœ</span>
        <span class="hljs-keyword">pass</span>
</code></pre>
<h3 data-id="heading-4">æ€§èƒ½ä¼˜åŒ–åˆ†æ</h3>
<ol>
<li><strong>å†…å­˜é¢„åˆ†é…</strong>ï¼šé€šè¿‡ <code>__len__</code> é¢„å…ˆçŸ¥é“ç»“æœå¤§å°ï¼Œå¯ä»¥ä¸€æ¬¡æ€§åˆ†é…æ­£ç¡®å¤§å°çš„å†…å­˜</li>
<li><strong>é¿å…æ‰©å®¹</strong>ï¼šå‡å°‘äº†åˆ—è¡¨åŠ¨æ€æ‰©å®¹çš„å¼€é”€</li>
<li><strong>æ•°æ®åº“ä¼˜åŒ–</strong>ï¼šåœ¨ Django ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>count()</code> æŸ¥è¯¢å¿«é€Ÿè·å–æ•°é‡è€Œä¸è·å–æ‰€æœ‰æ•°æ®</li>
</ol>
<h3 data-id="heading-5">å®é™…åº”ç”¨å»ºè®®</h3>
<ol>
<li><strong>å®ç° <code>__len__</code> æ–¹æ³•</strong>ï¼šå¦‚æœä½ çš„å¯è¿­ä»£å¯¹è±¡çŸ¥é“é•¿åº¦ï¼Œä¸€å®šè¦å®ç° <code>__len__</code></li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå¯¹äºæ˜‚è´µçš„è®¡ç®—ï¼Œå¯ä»¥åœ¨ <code>__len__</code> ä¸­å®ç°ç¼“å­˜</li>
<li><strong>å»¶è¿ŸåŠ è½½</strong>ï¼šåƒ Django ä¸€æ ·ï¼Œå¯ä»¥å»¶è¿Ÿå®é™…æ•°æ®çš„åŠ è½½ç›´åˆ°çœŸæ­£éœ€è¦æ—¶</li>
</ol>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æœºåˆ¶èƒŒåï¼Œä½“ç°äº† Python å’Œ Django å¯¹æ€§èƒ½ä¼˜åŒ–çš„æ·±åº¦æ€è€ƒã€‚é€šè¿‡å®ç° <code>__len__</code> æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½è®©ä»£ç æ›´åŠ  Pythonicï¼Œè¿˜èƒ½è·å¾—å®è´¨æ€§çš„æ€§èƒ½æå‡ã€‚è¿™åœ¨å¤„ç†å¤§æ•°æ®é›†æˆ–æ•°æ®åº“æŸ¥è¯¢æ—¶å°¤å…¶é‡è¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592431064976949263</link>    <guid>https://juejin.cn/post/7592431064976949263</guid>    <pubDate>2026-01-07T14:42:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064976949263" data-draft-id="7591942733366607906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,Trae"/> <meta itemprop="datePublished" content="2026-01-07T14:42:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:42:54.000Z" title="Wed Jan 07 2026 14:42:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼æˆ‘æ˜¯ [<a href="https://juejin.cn/user/465848660928872" target="_blank" title="https://juejin.cn/user/465848660928872">æå‰é€€ä¼‘çš„ java çŒ¿</a>]ï¼Œä¸€åæ‘¸çˆ¬æ»šæ‰“ 7 å¹´çš„ Java å¼€å‘ç»„é•¿ï¼Œæ—¥å¸¸ä¸»æ‰“ä¸€ä¸ªã€Œ5 ç‚¹å‡†æ—¶ä¸‹ç­ã€ï¼ˆæ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–è¿˜åœ¨æ¥ï¼Œéšæ—¶ @ğŸ˜‰ï¼‰</p>
</blockquote>
<p>å‡ºæ¥å¹´ç»ˆæ€»ç»“äº†ï¼ä»Šå¤©ä¸èŠæŠ€æœ¯å¹²è´§ï¼Œåªå” å”  25 å¹´çš„ã€Œå‰¯ä¸šè¡€æ³ªå²ã€å’Œã€ŒAI å¯¹æˆ‘çš„æš´å‡»æ”¹å˜ã€</p>
<h2 data-id="heading-1">25å¹´ æˆ‘çš„é¢å¤–æ”¶å…¥</h2>
<p>å…³æ³¨æˆ‘çš„éƒ½çŸ¥é“ï¼Œæˆ‘ç›®å‰çš„å·¥ä½œç®—æ˜¯æ¯”è¾ƒè½»æ¾å§ï¼Œ25å¹´å‡ ä¹éƒ½æ˜¯5ç‚¹å‡†æ—¶ä¸‹ç­ğŸ˜ è¿™ä¸€å¹´æˆ‘æœ‰å¾ˆå¤šæ—¶é—´å»æ€è€ƒå»å°è¯•ã€‚
è¿™ä¸€å¹´èŠ±äº†å¾ˆå¤šæ—¶é—´å†™åšå®¢ã€åšè‡ªåª’ä½“ã€ä¹Ÿå¼€è¿‡å‡ æ¬¡ç›´æ’­ã€å¶å°”ä¹Ÿåœ¨æ¥æ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–ç­‰æœ‰å¿æœåŠ¡ã€‚</p>
<p>åšå®¢å’Œè‡ªåª’ä½“èŠ±çš„æ—¶é—´æ¯”è¾ƒå¤šï¼Œåšå®¢å†™äº†60ç¯‡ï¼ˆæœ€é«˜é˜…è¯»4wï¼‰ã€è§†é¢‘114ä¸ªï¼ˆæœ€é«˜æ’­æ”¾27wï¼‰ã€‚åšè¿™äº›å†…å®¹ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´ï¼Œä½†æ˜¯æ”¶ç›Šå˜›éå¸¸çš„å°‘ åšå®¢+è‡ªåª’ä½“+æ¨¡æ‹Ÿé¢è¯• ä¸€å…±ä¹Ÿåªæœ‰4000RMBå§ğŸ˜­ã€‚è¿˜ä¸å¦‚å¤šä¹°å‡ ä¸‡åŸºé‡‘å‘¢ï¼Œå»å¹´çš„åŸºé‡‘æ”¶ç›Šç‡è¿˜ä¸é”™33ä¸ªç‚¹ï¼ˆä¹°çš„ä¸å¤šä¸åˆ°6ä½æ•°ğŸ˜‚ï¼‰ã€‚</p>
<h2 data-id="heading-2">25å¹´AIå¯¹æˆ‘å½±å“</h2>
<p>25å¹´å¯¹æˆ‘ä»¥åŠå¯¹æ‰€æœ‰çš„ç¨‹åºå‘˜éƒ½æ˜¯éå¸¸é‡è¦çš„ä¸€å¹´ï¼Œè¿™ä¸€å¹´çœŸçš„æ€èµ·äº†AI ç¼–ç¨‹æµªæ½®ï¼ŒAIæŠ€æœ¯çš„é©å‘½ï¼Œæœ‰äº›ç¨‹åºå‘˜å€ŸåŠ©è¿™æ³¢æŠ€æœ¯é©å‘½ <code>ALL IN</code> ä¸€äººå…¬å¸ï¼Œåšç‹¬ç«‹å¼€å‘ã€‚ä¹Ÿæœ‰å¾ˆå¤šç¨‹åºå‘˜æ‹¥æŠ±AI æŠ€æœ¯æ¡†æ¶è·³æ§½æ¶¨è–ªçš„ï¼Œä¹Ÿæœ‰äººåˆ©ç”¨AIå·¥å…·åšå†…å®¹å˜ç°çš„ï¼Œè€Œæˆ‘åªæ˜¯ç”¨äº†AI IDE å¸®æˆ‘æé«˜å·¥ä½œæ•ˆç‡ï¼Œå­¦ä¹ æ•ˆç‡ã€‚</p>
<p>æ‰€ä»¥è¿™ä¸€å¹´AIçš„æŠ€æœ¯é©å‘½ï¼ŒAI ç¼–ç¨‹å¯¹æˆ‘æ¥è¯´æ˜¯æ²¡æœ‰ç›´æ¥ç»™æˆ‘å¸¦æ¥é¢å¤–çš„æ”¶å…¥çš„ğŸ˜‚ã€‚å¯¹æˆ‘çš„ç›´æ¥å½±å“å°±æ˜¯å·¥ä½œæ•ˆç‡çš„äººæå‡ä»¥åŠæœªæ¥</p>
<h3 data-id="heading-3">æˆ‘æ˜¯å¦‚ä½•ç”¨ä¸ŠTrae AI</h3>
<p>æˆ‘ç®—æ˜¯æ˜é‡‘æ·±åº¦æ´»è·ƒç”¨æˆ·äº†ï¼Œ24å¹´çš„æ—¶å€™æ˜é‡‘åœ¨æ¨å¹¿<code>MarsCode</code>æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘å°±å“åº”å¹³å°å·å¬åœ¨IDEAä¸­ä¸‹è½½ä½“éªŒäº†ã€‚25å¹´çš„æ˜¥èŠ‚å‰å°±åœ¨æ˜é‡‘ä¸Šå…³æ³¨åˆ°traeæœ‰ä½“éªŒç‰ˆå¯ä»¥é¢„çº¦ä½¿ç”¨ï¼Œå¹´åæˆ‘å°±ç”¨ä¸Šäº†ã€‚</p>
<p>è¯´å®è¯å½“æ—¶å¯¹javaçš„æ”¯æŒè¿˜ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰“å¼€å·¥ç¨‹å…¨æ˜¯çº¢è‰²è­¦å‘Šã€‚è€Œä¸”ç‚¹å‡»æ–¹æ³•ç±»åä¹Ÿæ— æ³•è·³è½¬ã€‚ä½†æ˜¯å†™å‡ºæ¥çš„ä»£ç è¿˜è¡Œï¼Œæ¯”åœ¨ <code>idea</code> ä¸­å®‰è£…çš„ <code>MarsCode</code> å¥½å¾ˆå¤šï¼Œå› ä¸ºå¯¹å·¥ç¨‹çš„ç†è§£èƒ½åŠ›è¿˜è¡Œï¼Œèƒ½ç›´æ¥å¯¹å·¥ç¨‹çš„å¤šä¸ªæ–‡ä»¶è¿›è¡Œç›´æ¥ä¿®æ”¹ï¼Œå°±æ˜¯cursorçš„æ€§ä»·æ¯”ç‰ˆæœ¬ã€‚åæ¥ä¹Ÿæ˜¯ä¸€ç›´ç”¨ç€ä¹Ÿæ˜¯è§è¯äº†TRAEä¸€ä¸¤å¤©ä¸€æ›´æ–°çš„é«˜é¢‘å‘ç‰ˆï¼Œä¹Ÿæ˜¯è§è¯äº†å®ƒçš„æˆé•¿å†ç¨‹å§ï¼</p>
<h3 data-id="heading-4">TRAEå¯¹æˆ‘çš„å¸®åŠ©</h3>
<p>ä½ ä»¬å¯èƒ½ä¼šè¯´å¦‚æœæˆ‘ç”¨<code>Cursor</code>å¯¹æˆ‘çš„å¸®åŠ©å¯èƒ½æ›´å¤§ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿä¸å¦è®¤ã€‚å› ä¸ºæˆ‘ç¡®å®æ²¡æœ‰ç”¨è¿‡ <code>cursor</code> å»å†™æˆ‘çš„å®é™…é¡¹ç›®ã€‚ä½†æ˜¯TRAEå›½é™…ä»˜è´¹ç‰ˆï¼Œæ˜¯èƒ½æ»¡è¶³æˆ‘ç›®å‰å®é™…å¼€å‘éœ€æ±‚çš„ï¼Œå¹¶ä¸”ä»·æ ¼ä¹Ÿç›¸å¯¹æ¥è¯´ä½ä¸€äº›ã€‚</p>
<p>å› ä¸ºåç«¯å’Œå‰ç«¯ä¸ä¸€æ ·ï¼ŒAIåœ¨å¸®ä½ å®Œæˆéœ€æ±‚çš„æ—¶å€™ï¼Œä½ è¿˜æ˜¯éœ€è¦å’ŒAIæ²Ÿé€šä½ çš„éœ€æ±‚æˆ–è€…è¯´å®ç°çš„é€»è¾‘ï¼Œåªè¦æˆ‘ä»¬æè¿°æ¸…æ¥šçš„é€»è¾‘æˆ–è€…ä¸šåŠ¡éœ€æ±‚ï¼Œtrea ç»™æˆ‘çš„ä»£åŸºæœ¬ä¸Šéƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåªæ˜¯åœ¨ä»£ç å®ç°çš„é€»è¾‘æœ‰æ—¶å€™éœ€è¦ä¼˜åŒ–ï¼ŒäºŒæ¬¡æ²Ÿé€šä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<p>æ‰€ä»¥ä»Šå¹´çš„Trae å¯¹æˆ‘çš„å¼€å‘æ•ˆç‡å¹³å‡æé«˜50%ï¼Œå¸®æˆ‘å®Œæˆäº†ä¸¤ä¸ªé‡éš¾ç‚¹é¡¹ç›®çš„æ”»åšå·¥ä½œï¼Œè®©æˆ‘è½»æ¾ä¸å°‘ğŸ§˜â€â™€ï¸ã€‚åŒæ—¶åœ¨ä»£ç ä¼˜åŒ–ä¸Šé¢ä¹Ÿç»™æˆ‘çœäº†ä¸å°‘çš„å·¥ä½œé‡ï¼Œæ¯”å¦‚ä»£ç æ³¨é‡Šå®Œå–„ã€ä»£ç ç»“æœçš„è°ƒæ•´ã€å…¬å…±æ–¹æ³•çš„å°è£…ã€æ–¹æ¡ˆçš„è°ƒä¼˜ã€‚ä»¥å‰è¿™äº›å·¥ä½œéƒ½å¾—è‡ªå·±æ‰‹åŠ¨è°ƒæ•´ï¼Œè°ƒæ•´ä¹‹åè¿˜å®¹æ˜“å‡ºé—®é¢˜ï¼Œä»Šå¹´éƒ½æ˜¯ Trae å¸®æˆ‘è‡ªåŠ¨åŒ–å¤„ç†äº†ã€‚</p>
<p>é™¤äº†å¼€å‘æ•ˆç‡çš„æå‡ä¸Šé¢ï¼Œå¯¹è‡ªå·±çš„å­¦ä¹ æ•ˆç‡ä¹Ÿæå‡äº†ä¸å°‘ã€‚ä»æ¡†æ¶æºç çš„é˜…è¯»ï¼Œåˆ°æŠ€æœ¯åšå®¢çš„ç¼–å†™ä»¥åŠæ²¡æœ‰ç”¨çš„æŠ€æœ¯æ¡†æ¶çš„é›†æˆä½¿ç”¨è¿™äº›æ–¹é¢ä¹Ÿéƒ½å¸®äº†æˆ‘ä¸å°‘å¿™ğŸ‘</p>
<p>ä»¥å‰åœ¨å®é™…å¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šç”¨å•¥ç®—æ³•ï¼Œç°åœ¨<code>vibe coding</code>ç¯å¢ƒä¸‹é¢ï¼Œä¸šåŠ¡ä»£ç ä¹Ÿèƒ½å®Œç¾å°†ç®—æ³•èå…¥è¿›æ¥äº†å“ˆå“ˆğŸ˜ çœ‹ä¸æ‡‚çš„æˆ‘å°±ç®¡ä¸äº†é‚£ä¹ˆå¤šäº†ğŸŒš</p>
<h3 data-id="heading-5">TRAEæ”¹å˜äº†æˆ‘26å¹´çš„è®¡åˆ’</h3>
<p>è¿™æ ·ä¸€å¹´æ˜æ˜¾èƒ½æ„Ÿå—åˆ°<code>TRAE</code>çš„é«˜é€Ÿå‘å±•ï¼Œèƒ½æ„Ÿå—åˆ°<code>AI ç¼–ç¨‹</code>çš„å‘å±•é€Ÿåº¦ä¹‹ææ€–ã€‚æ‰€ä»¥æˆ‘å¯¹æœªæ¥çš„è®¡åˆ’ä¹Ÿåœ¨è°ƒæ•´ï¼Œæˆ‘æƒ³åˆ©ç”¨AI åˆ©ç”¨TRAE åšå…¨æ ˆç ”å‘äº†ã€‚</p>
<blockquote>
<p>å…¶å®æˆ‘ç¬¬ä¸€ä»½å·¥ä½œå°±æ˜¯åš <code>NodeJs</code> å…¨æ ˆå¼€å‘çš„ï¼ŒğŸ˜æ²¡æƒ³åˆ°å§ï¼Œæˆ‘ä¸€ä¸ªjavaåšä¸»æœ€å¼€å§‹å®é™…ä¸Šæ˜¯Nodeå…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆã€‚</p>
</blockquote>
<p><strong>ä¸ºä»€ä¹ˆç°åœ¨æƒ³è½¬å…¨æ ˆäº†</strong>â“<br/>
å› ä¸ºä»Šå¹´ç”¨äº†<code>TRAE AI IDE</code>ç¼–ç¨‹å•Šï¼Œåšå…¨æ ˆç ”å‘çš„å¼€å‘æ•ˆç‡ï¼Œå¼€å‘æˆæœ¬ä¼šå†æ¬¡é™ä½ã€‚å¯¹äºç‹¬ç«‹å¼€å‘è€…æ¥è¯´çœŸçš„æ˜¯å¤©å¤§çš„å¥½äº‹å•ŠğŸš€<br/>
26å¹´æˆ‘ä¹Ÿæƒ³å°è¯•åšç‹¬ç«‹å¼€å‘ğŸƒï¼šâ€œå…„å¼Ÿä»¬æœ‰å•å­å—ï¼Ÿç»™é’±å°±åšâ€</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p><strong>25å¹´</strong>ï¼Œæ˜¯ã€Œè¯•æ°´å‰¯ä¸šã€è¸©å‘æˆé•¿ã€çš„ä¸€å¹´ï¼›ä¹Ÿæ˜¯ã€Œè¢« AI é¢ è¦†è®¤çŸ¥ã€çš„ä¸€å¹´ â€”â€” æ²¡é  AI èµšå‰¯ä¸šé’±ï¼Œä½†é å®ƒæ•‘äº†å·¥ä½œæ•ˆç‡ã€‚</p>
<p><strong>26å¹´</strong>ï¼Œä¾ç„¶æ²¡æœ‰æ‰¾åˆ°è‡ªå·±åšå®šè¦åšçš„æ–¹å‘ï¼Œé‚£å°±å¤§èƒ†å°è¯•å§ï¼šç”¨ TRAE åšå…¨æ ˆç‹¬ç«‹å¼€å‘ï¼ŒæŠŠã€Œ5 ç‚¹ä¸‹ç­ã€çš„æ—¶é—´ï¼Œæ¢æˆã€Œè‡ªå·±è¯´äº†ç®—çš„æ”¶å…¥ã€ğŸ’ªï¼</p>
<p>æœ€åï¼Œæƒ³é—®å…„å¼Ÿä»¬ä¸€ä¸ªé—®é¢˜ï¼šä½ ä»¬26 å¹´æœ‰æ²¡æœ‰å•¥å°ç›®æ ‡ï¼Ÿè¯„è®ºåŒºå” å” ï½ä½ å¥½ï¼Œ2026ï¼æ„¿æˆ‘ä»¬éƒ½èƒ½é æŠ€æœ¯ã€é è¶‹åŠ¿ï¼Œèµšæ›´å¤šçš„é’±ï¼Œæ‘¸æ›´çˆ½çš„é±¼ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼]]></title>    <link>https://juejin.cn/post/7592276645361926144</link>    <guid>https://juejin.cn/post/7592276645361926144</guid>    <pubDate>2026-01-07T13:08:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361926144" data-draft-id="7592531796039696418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼"/> <meta itemprop="keywords" content="API"/> <meta itemprop="datePublished" content="2026-01-07T13:08:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´”åº†æ‰ä¸¨é™è§…"/> <meta itemprop="url" content="https://juejin.cn/user/1521379821230269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379821230269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´”åº†æ‰ä¸¨é™è§…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:08:34.000Z" title="Wed Jan 07 2026 13:08:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘è¢«è°·æ­Œæ–°å‘å¸ƒçš„ <strong>Nano Bananaï¼ˆGemini 2.5 Flash Imageï¼‰å›¾åƒç”Ÿæˆæ¨¡å‹</strong> éœ¸å±äº†ã€‚</p>
<p>ä»æ‰‹åŠç§’å˜çœŸäººçº§ Cosplayï¼Œåˆ°ä¸€é”®ç»Ÿä¸€å¤šå›¾é£æ ¼ï¼Œä»ä¸ªæ€§åŒ–å¤´åƒåˆ°äº§å“æ¦‚å¿µè®¾è®¡ï¼Œç”šè‡³è¿é™æ€ç”»ä½œéƒ½èƒ½ä¸€é”®ç”Ÿæˆç”µå½±çº§åŠ¨æ€åˆ†é•œâ€”â€”è¿™æ³¢ AI ç”Ÿå›¾æµªæ½®ï¼ŒçœŸçš„åœ¨é‡æ–°å®šä¹‰åˆ›ä½œï¼</p>
<p>Ace Data Cloud å¹³å° <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud" target="_blank" title="https://platform.acedata.cloud" ref="nofollow noopener noreferrer">platform.acedata.cloud</a> ç°ä¹Ÿæ¨å‡º <strong>Nano Banana API</strong>ï¼šä»·æ ¼ï¼šçº¦ Â¥0.10/å¼ ï¼Œæˆæœ¬ç›¸æ¯”å®˜æ–¹ç›´æ¥çœä¸€åŠï¼Œæ€§èƒ½æ•ˆæœæ¯«ä¸æ‰“æŠ˜ã€‚æ˜¯æ›´å¿«ã€æ›´ç¨³ã€æ›´çœé’±çš„å›¾ç‰‡ç”Ÿäº§çº¿</p>
<h2 data-id="heading-0">Nano Banana å¼ºåœ¨å“ªï¼Ÿ</h2>
<p>å®ƒæœ€å‰å®³çš„åœ°æ–¹ï¼Œæ˜¯èƒ½è½»æ¾å®ç° <strong>é«˜ç²¾åº¦çš„ä¸€è‡´æ€§ç”Ÿæˆ</strong>ã€‚
æ— è®ºæ˜¯æ¢èƒŒæ™¯ã€æ”¹é£æ ¼ã€è°ƒè¡¨æƒ…ï¼Œè¿˜æ˜¯å¤„ç†å¤æ‚åŠ¨ä½œä¸æœè£…ï¼Œè¿‡æ¸¡éƒ½éå¸¸è‡ªç„¶ï¼Œæ•ˆæœé«˜åº¦ç»Ÿä¸€ï¼Œå‡ ä¹çœ‹ä¸å‡º AI ç”Ÿæˆçš„ç—•è¿¹ï¼</p>
<h2 data-id="heading-1">è¶…å®ç”¨çš„ç©æ³•ç¤ºä¾‹</h2>
<h3 data-id="heading-2">1. 2D å›¾ç‰‡è½¬ 3D æ‰‹åŠ</h3>
<p>å½“å‰æœ€ç«çš„å‡ºåœˆç©æ³•ï¼</p>
<p><strong>æŒ‡ä»¤</strong>ï¼šç”Ÿæˆä¸€å¹…å›¾ç‰‡ä¸­è§’è‰²çš„å•†å“åŒ–æ¨¡å‹ï¼Œç¯å¢ƒå†™å®ã€‚æ¨¡å‹æ”¾ç”µè„‘æ¡Œä¸Šï¼Œä½¿ç”¨åœ†å½¢äºšå…‹åŠ›åº•åº§ã€‚ç”µè„‘å±å¹•æ˜¾ç¤ºå»ºæ¨¡è¿‡ç¨‹ï¼Œæ—è¾¹æ”¾ç½®å°æœ‰åŸå›¾çš„ BANDAI åŒ…è£…ç›’ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4388ec619e746349a550c3460f786f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=d1WEgwJGJhNHbe44gqtPXK9ynU8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2. äº§å“å†…éƒ¨ç»“æ„è§£æ</h3>
<p><strong>æç¤ºè¯</strong>ï¼šè¶…è¯¦ç»†çš„äº§å“çˆ†ç‚¸è§†å›¾ï¼Œé‡‘å±é›¶ä»¶å’Œç”µå­å…ƒä»¶æ¼‚æµ®åœ¨åŠç©ºä¸­ï¼Œå®Œç¾æ’åˆ—ï¼Œæ­ç¤ºå†…éƒ¨ç»“æ„ï¼Œæœªæ¥ä¸»ä¹‰æŠ€æœ¯ç¾å­¦ï¼Œ8K åˆ†è¾¨ç‡ï¼ŒæŸ”å’Œçš„ç”µå½±ç…§æ˜ï¼Œé«˜åº¦é€¼çœŸã€‚èƒŒæ™¯æ˜¯çº¯ç™½è‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16aeb5715a7148ce9e79af69ba26bb46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=FWLPezT590JP6PCDryMtv1ilmzk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3. è€ç…§ç‰‡ä¿®å¤</h3>
<p><strong>æç¤ºè¯</strong>ï¼šè¯·ä¿®å¤è¿™å¼ å……æ»¡åˆ’ç—•çš„é»‘ç™½è€ç…§ç‰‡ã€‚ç§»é™¤æ‰€æœ‰æ±¡ç‚¹å’Œç ´æŸï¼Œå¤§å¹…æå‡æ¸…æ™°åº¦ï¼Œå¹¶è¿›è¡Œè‡ªç„¶ã€é€¼çœŸçš„ä¸Šè‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00a9f4b1f3ce4b25bb88347544cb5ff0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=9x5k0XDJaIX8dNSDKEJFWqBxgIE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4. å¤šå…ƒç´ ç»„å›¾ / ç”µå•†äº§å“æ¤å…¥</h3>
<p><strong>æç¤ºè¯</strong>ï¼šä¸€ä½æ¨¡ç‰¹ç«™åœ¨ä¸€è¾†ç™½è‰²çš„è½¦å‰é¢æ‘†æ‹ï¼Œåœºæ™¯ä¸ºè¡—åŒºè·¯é¢ï¼Œä¸¤è¾¹æ˜¯å»ºç­‘ã€‚å¥¹ç©¿ç€é»‘è‰²è¿è¡£è£™å’Œç™½è‰²é«˜è·Ÿé‹ï¼Œä¸€æ‰‹æ‹ç€ç™½è‰²çš„åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4be6f4a969e49e7ba35fb95b114e0fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=OFs2BOGP7J3x%2BTT0vZ3BNMo3ih8%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰æ›´å¤šå®ç”¨åœºæ™¯ï¼šä¸€é”®æ¢è£…/æ¢è¡¨æƒ…/æ¢åŠ¨ä½œã€å¤šè§’åº¦é•œå¤´ã€äººç‰©åˆå½±ã€è¡¨æƒ…åŒ…ä¹å®«æ ¼ã€æ¨¡ç‰¹ OOTD æœè£…å¹³é“ºå±•ç¤ºã€æ‰‹ç¨¿è½¬ 3D å®ç‰©å›¾ã€å»ºç­‘ç­‰è½´æµ‹å»ºæ¨¡ã€åœ°å›¾è½¬å®æ™¯è§£æâ€¦â€¦ç»Ÿç»Ÿéƒ½èƒ½é«˜æ•ˆå®Œæˆï¼</p>
<p>åœ¨å±•ç¤ºäº† Nano Banana å¦‚æ­¤å¤šä»¤äººæƒŠè‰³çš„ç©æ³•ä¹‹åï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼šè¿™ä¹ˆå¼ºå¤§çš„èƒ½åŠ›ï¼Œæ¥å…¥èµ·æ¥ä¸€å®šå¾ˆå¤æ‚ï¼Œæˆæœ¬ä¹Ÿå¾ˆéš¾æ§åˆ¶å§ï¼Ÿ
æ— è®ºæ˜¯ AI äº§å“çš„å¼€å‘è€…æƒ³è¦å¿«é€Ÿé›†æˆï¼Œè¿˜æ˜¯ä¸ªäººç”¨æˆ·å¸Œæœ›ç›´æ¥ä½“éªŒï¼ŒAce Data Cloud éƒ½è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ã€å¯æ§ä¸”ç»æµã€‚</p>
<h2 data-id="heading-6">ä»·æ ¼</h2>
<p>è¯´åˆ°ä»·æ ¼ï¼ŒAce Data Cloud ç»å¯¹æ˜¯ä½ çš„æ€§ä»·æ¯”ä¹‹é€‰ï¼š</p>
<ul>
<li>Google å®˜æ–¹ï¼šçº¦ç¾å…ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.039</mn><mi mathvariant="normal">/</mi><mtext>å¼ ï¼ŒæŒ‰</mtext></mrow><annotation encoding="application/x-tex">0.039/å¼ ï¼ŒæŒ‰ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.039/</span><span class="mord cjk_fallback">å¼ ï¼ŒæŒ‰</span></span></span></span></span>1 â‰ˆ Â¥7.2 è®¡ç®—ï¼Œäººæ°‘å¸å¤§çº¦ Â¥0.28/å¼ ã€‚</li>
<li>AceDataCloudï¼šç»Ÿä¸€ Â¥0.10/å¼ ã€‚</li>
</ul>
<p>å¦å¤–å¹¶å‘æ”¯æŒæ›´å®½è£•ï¼Œå“åº”æ›´ç¨³å®šï¼Œæä¾›ä¸“å±å®¢æœï¼Œ7Ã—24 å°æ—¶å¯ç”¨æ€§ä¿éšœï¼Œå…·ä½“ä»·æ ¼ä¸é…é¢è¯·è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fservices%2Fnano-banana" target="_blank" title="https://platform.acedata.cloud/services/nano-banana" ref="nofollow noopener noreferrer">platform.acedata.cloud/services/naâ€¦</a>ã€‚</p>
<h2 data-id="heading-7">å¿«é€Ÿæ¥å…¥ï¼Œç«‹å³ä½“éªŒé«˜å“è´¨ä½æˆæœ¬å›¾åƒç”Ÿæˆï¼</h2>
<p>æˆ‘ä»¬æä¾›ç®€æ´çš„ API å’Œå®Œæ•´çš„å¼€å‘æ–‡æ¡£ï¼ŒåŠ©ä½ å¿«é€Ÿé›†æˆåˆ°æ—¢æœ‰å·¥ä½œæµæˆ–æ–°äº§å“ã€‚</p>
<ul>
<li>å¼€å‘é›†æˆæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fdocuments%2Fnano-banana-images-integration" target="_blank" title="https://platform.acedata.cloud/documents/nano-banana-images-integration" ref="nofollow noopener noreferrer">platform.acedata.cloud/documents/nâ€¦</a></li>
<li>ç«‹å³è´­ä¹°ä¸ä½¿ç”¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fservices%2Fnano-banana" target="_blank" title="https://platform.acedata.cloud/services/nano-banana" ref="nofollow noopener noreferrer">platform.acedata.cloud/documents/nâ€¦</a></li>
<li>æŠ€æœ¯æ”¯æŒä¸å’¨è¯¢ï¼šéšæ—¶è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯å›¢é˜Ÿï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fsupport" target="_blank" title="https://platform.acedata.cloud/support" ref="nofollow noopener noreferrer">platform.acedata.cloud/support</a></li>
</ul>
<p>ä¸‹é¢æ˜¯æ ·ä¾‹è°ƒç”¨è¯´æ˜ï¼Œè½»æ¾ä¸€ä¸ª API å°±èƒ½å¾—åˆ°ä½ æƒ³è¦çš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST <span class="hljs-string">'https://api.acedata.cloud/nano-banana/images'</span> \
  -H <span class="hljs-string">'authorization: Bearer {token}'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'content-type: application/json'</span> \
  -d <span class="hljs-string">'{
    "action": "generate",
    "prompt": "A photorealistic close-up portrait of an elderly Japanese ceramicist with deep, sun-etched wrinkles and a warm, knowing smile. He is carefully inspecting a freshly glazed tea bowl. The setting is his rustic, sun-drenched workshop. The scene is illuminated by soft, golden hour light streaming through a window, highlighting the fine texture of the clay. Captured with an 85mm portrait lens, resulting in a soft, blurred background (bokeh). The overall mood is serene and masterful. Vertical portrait orientation."
  }'</span>
</code></pre>
<p>è¿”å›ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"056f0589-a3dd-4ec2-8440-ad61f5038dfa"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c48de83f-0077-426e-b02b-ff1d58179064"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A photorealistic close-up portrait of an elderly Japanese ceramicist with deep, sun-etched wrinkles and a warm, knowing smile. He is carefully inspecting a freshly glazed tea bowl. The setting is his rustic, sun-drenched workshop. The scene is illuminated by soft, golden hour light streaming through a window, highlighting the fine texture of the clay. Captured with an 85mm portrait lens, resulting in a soft, blurred background (bokeh). The overall mood is serene and masterful. Vertical portrait orientation."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://platform.cdn.acedata.cloud/nanobanana/69790adb-c85d-4362-ad9e-0c9ba4352cf4.png"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…¶ä¸­ image_url å°±æ˜¯ Nano Banana ç”Ÿæˆçš„çš„å›¾ç‰‡ï¼Œæ°¸ä¹…å¯è®¿é—®ã€‚</p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯ Ace Data Cloud çš„ Nano Banana API çš„ä»‹ç»ï¼Œå¿«æ¥è¯•è¯•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢]]></title>    <link>https://juejin.cn/post/7592438587389591590</link>    <guid>https://juejin.cn/post/7592438587389591590</guid>    <pubDate>2026-01-07T13:14:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587389591590" data-draft-id="7592424951661346842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T13:14:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:14:45.000Z" title="Wed Jan 07 2026 13:14:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>åœ¨GISå¼€å‘ä¸­ï¼Œç©ºé—´æŸ¥è¯¢å’Œå±æ€§æŸ¥è¯¢éƒ½æ˜¯å¸¸è§çš„åŸºç¡€æ“ä½œï¼Œæ˜¯æ¯ä¸€ä¸ªGISeréƒ½è¦æŒæ¡çš„å¿…å¤‡æŠ€èƒ½ã€‚å®ç°é«˜æ•ˆçš„æ•°æ®æŸ¥è¯¢åŠŸèƒ½å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œæå‡æ•°æ®å¯è§†åŒ–æ•ˆç‡ã€‚</p>
</blockquote>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œæœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDALå®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢åŠŸèƒ½</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQtb_BJw91nKrFMeoa7WcxA" target="_blank" title="https://mp.weixin.qq.com/s/Qtb_BJw91nKrFMeoa7WcxA" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFLWfZItLj24JYicQEX-PbQ" target="_blank" title="https://mp.weixin.qq.com/s/FLWfZItLj24JYicQEX-PbQ" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu0539e3CM2q4Y3MbMxxZKQ" target="_blank" title="https://mp.weixin.qq.com/s/u0539e3CM2q4Y3MbMxxZKQ" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2. ç©ºé—´æŸ¥è¯¢</h2>
<p>åœ¨<code>GDAL</code>ä¸­ï¼Œæœ‰ä¸¤ä¸ªå›¾å±‚æ–¹æ³•å¯ä»¥ç”¨äºå®ç°ç©ºé—´æŸ¥è¯¢ï¼Œåˆ†åˆ«æ˜¯<code>SetSpatialFilter</code>å’Œ<code>SetSpatialFilterRect</code>ã€‚æ­¤ç§æŸ¥è¯¢æ–¹å¼ä¸ºç›´æ¥åœ¨æºæ•°æ®ä¸Šæ“ä½œï¼Œè¿”å›ç»“æœä¸ºæŸ¥è¯¢å›¾å±‚ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å‚æ•°
Â  Â  -geomï¼šç”¨äºå‡ ä½•æŸ¥è¯¢çš„å‡ ä½•å¯¹è±¡
"""</span>
SetSpatialFilter(geom)

<span class="hljs-string">"""
å‚æ•°ï¼š
Â  Â  -minxï¼šæœ€å°xåæ ‡
Â  Â  -minyï¼šæœ€å°yåæ ‡
Â  Â  -maxxï¼šæœ€å¤§xåæ ‡
Â  Â  -maxyï¼šæœ€å¤§yåæ ‡
"""</span>
SetSpatialFilterRect(minx,miny,maxx,maxy)
</code></pre>
<p>ä¼ å…¥<code>None</code>å€¼æ—¶é‡ç½®æŸ¥è¯¢ã€‚</p>
<p><code>sourceLayer.SetSpatialFilter(None)</code></p>
<p>åœ¨è¿›è¡Œæ­£å¼æŸ¥è¯¢å‰å’Œä»¥å‰çš„æ–‡ç« ä¸€æ ·ï¼Œé¦–å…ˆè·å–æ•°æ®é©±åŠ¨ï¼Œæ·»åŠ æ•°æ®æºï¼Œè·å–å›¾å±‚æ•°æ®ã€‚å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>SpatialFilter</code>ç”¨äºå®ç°ç©ºé—´æŸ¥è¯¢ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª<code>sourcePath</code>ä¼ é€’æºæ•°æ®å›¾å±‚è·¯å¾„ï¼Œå¦ä¸€ä¸ª<code>selectPath</code>ç”¨äºå®šä¹‰æŸ¥è¯¢å›¾å±‚è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šå›¾å±‚å±æ€§è¿‡æ»¤
å‚æ•°ï¼š
Â  Â  -sourcePathï¼šå¾…æŸ¥è¯¢ Shp æ–‡ä»¶è·¯å¾„
Â  Â  -selectPathï¼šæŸ¥è¯¢ Shp æ–‡ä»¶è·¯å¾„
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">SpatialFilter</span>(<span class="hljs-params">sourcePath,selectPath</span>):
</code></pre>
<p>åœ¨ä»¥ä¸‹ä»£ç ä¸­å®Œæˆå›¾å±‚æ•°æ®çš„è¯»å–æ“ä½œã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ³¨å†Œæ‰€æœ‰é©±åŠ¨</span>
ogr.RegisterAll()

<span class="hljs-comment"># æ·»åŠ æ•°æ®é©±åŠ¨</span>
<span class="hljs-attr">shpDriver</span> = ogr.GetDriverByName(<span class="hljs-string">"ESRI Shapefile"</span>)

checkFilePath(sourcePath,shpDriver)
checkFilePath(selectPath,shpDriver)

<span class="hljs-comment"># æ‰“å¼€æ•°æ®æº</span>
<span class="hljs-attr">sourceDs</span> = shpDriver.Open(sourcePath)
<span class="hljs-attr">selectDs</span> = shpDriver.Open(selectPath)

<span class="hljs-attr">hasDs</span> = sourceDs and selectDs

ifÂ hasDs is None:
Â  Â Â print("æ•°æ®æºæ‰“å¼€å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è·¯å¾„ï¼")
Â  Â Â returnÂ False

<span class="hljs-comment"># è·å–å›¾å±‚</span>
<span class="hljs-attr">sourceLayer</span> = sourceDs.GetLayer(<span class="hljs-number">0</span>)
<span class="hljs-attr">selectLayer</span> = selectDs.GetLayer(<span class="hljs-number">0</span>)
</code></pre>
<p>ä¸‹é¢å¯¹å‡ ä½•æŸ¥è¯¢ä»¥åŠçŸ©å½¢æŸ¥è¯¢ä¸¤ç§å®ç°æ–¹å¼è¿›è¡Œä»‹ç»ã€‚</p>
<h3 data-id="heading-4">2.1. å‡ ä½•æŸ¥è¯¢</h3>
<p>é€šè¿‡å›¾å±‚æ–¹æ³•<code>GetNextFeature</code>è·å–ç¬¬ä¸€ä¸ªè¦ç´ å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è·å–æŸ¥è¯¢å‡ ä½•å¯¹è±¡</span>
queryFeat = selectLayer.GetNextFeature()
queryGeom = queryFeat.GetGeometryRef()

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ idï¼š<span class="hljs-subst">{queryFeat.GetField(<span class="hljs-string">'Id'</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å‡ ä½•å¯¹è±¡ï¼š<span class="hljs-subst">{queryGeom}</span>"</span>)
</code></pre>
<p>å°†å‡ ä½•å¯¹è±¡ä¼ å…¥<code>SetSpatialFilter</code>æ–¹æ³•è¿›è¡Œç©ºé—´è¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilter(queryGeom)
</code></pre>
<p>æŸ¥è¯¢å®Œæˆä¹‹åä¼ å…¥<code>None</code>å€¼ç»“æŸæŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç»“æŸæŸ¥è¯¢</span>
sourceLayer.SetSpatialFilter(<span class="hljs-literal">None</span>)
</code></pre>
<p>ä»¥ä¸‹ä¸ºå‡ ä½•æŸ¥è¯¢éƒ¨åˆ†ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è·å–æŸ¥è¯¢å‡ ä½•å¯¹è±¡</span>
queryFeat = selectLayer.GetNextFeature()
queryGeom = queryFeat.GetGeometryRef()

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ idï¼š<span class="hljs-subst">{queryFeat.GetField(<span class="hljs-string">'Id'</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å‡ ä½•å¯¹è±¡ï¼š<span class="hljs-subst">{queryGeom}</span>"</span>)

<span class="hljs-comment"># è·å–è¦ç´ æ•°é‡</span>
featureCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{featureCount}</span>"</span>)

<span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilter(queryGeom)

queryFeatCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{queryFeatCount}</span>"</span>)

<span class="hljs-comment"># ç»“æŸæŸ¥è¯¢</span>
sourceLayer.SetSpatialFilter(<span class="hljs-literal">None</span>)
finalFeatCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é‡ç½®æŸ¥è¯¢åè¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{finalFeatCount}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"n~~~~~~~æ–¹å¼ä¸€ï¼šç»“æŸå‡ ä½•æŸ¥è¯¢~~~~~~~"</span>)
</code></pre>
<p>è‹¥æœ‰å…´è¶£ï¼Œè¿˜å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰å‡ ä½•å¯¹è±¡è¿›è¡Œç©ºé—´æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"># è‡ªå®šä¹‰GeometryæŸ¥è¯¢å¯¹è±¡
customGeom = ogr<span class="hljs-selector-class">.Geometry</span>(ogr.wkbPolygon)
ringGeom = ogr<span class="hljs-selector-class">.Geometry</span>(ogr.wkbLinearRing)

ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">102.884350</span>,<span class="hljs-number">32.501570</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">105.025865</span>,<span class="hljs-number">74.974949</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">50.417235</span>,<span class="hljs-number">55.701314</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">50.417235</span>,<span class="hljs-number">32.501570</span>)

ringGeom<span class="hljs-selector-class">.CloseRings</span>()
customGeom<span class="hljs-selector-class">.AddGeometry</span>(ringGeom)

# è·å–è¦ç´ æ•°é‡
featureCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š{featureCount}")

# ç©ºé—´è¿‡æ»¤
sourceLayer<span class="hljs-selector-class">.SetSpatialFilter</span>(customGeom)

queryFeatCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"æŸ¥è¯¢è¦ç´ æ•°é‡ï¼š{queryFeatCount}")

# ç»“æŸæŸ¥è¯¢
sourceLayer<span class="hljs-selector-class">.SetSpatialFilter</span>(None)
finalFeatCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"é‡ç½®æŸ¥è¯¢åè¦ç´ æ•°é‡ï¼š{finalFeatCount}")

<span class="hljs-built_in">print</span>("n~~~~~~~æ–¹å¼ä¸€ï¼šç»“æŸå‡ ä½•æŸ¥è¯¢~~~~~~~")
</code></pre>
<p>å¦‚ä¸‹ä¸ºå‡ ä½•æŸ¥è¯¢è¾“å‡ºç»“æœï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95efe0becdf84f98bb76613a0fc7c261~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=iOYocBh%2BXYApgsDLu%2Fog2RWEnSM%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸‹ä¸ºè¯¥è¦ç´ åœ¨ArcGISä¸­æŸ¥è¯¢æ˜¾ç¤ºç»“æœã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9789ecdeaa2d43328988ff28493fca8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=M75JzvNtCKnOSGvfwA3Ri9DXzho%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.2. çŸ©å½¢æŸ¥è¯¢</h3>
<p>çŸ©å½¢æŸ¥è¯¢ä¸»è¦è°ƒç”¨<code>SetSpatialFilterRect</code>æ–¹æ³•ï¼Œä¼ å…¥xã€yåæ ‡å³å¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è·å–è¦ç´ æ•°é‡</span>
<span class="hljs-attr">featureCount2</span> = sourceLayer.GetFeatureCount()
print(f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š{featureCount2}")

<span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilterRect(-16.9994,23.1235,42.9111,49.5852,)
<span class="hljs-attr">queryFeatCount2</span> = sourceLayer.GetFeatureCount()
</code></pre>
<p>å¦‚ä¸‹ä¸ºçŸ©å½¢æŸ¥è¯¢è¾“å‡ºç»“æœï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d71422c541d243eeb627f9ee8da9a568~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=zJKaDRkoS3mc4%2BbOWNSSgAuleLo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">3. æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨<code>windows</code>å¼€å‘ç¯å¢ƒä¸­åŒæ—¶å®‰è£…<code>GDAL</code>ä¸<code>PostGIS</code>ï¼Œå…¶ä¸­æŠ•å½±åº“<code>PROJ</code>çš„ç¯å¢ƒå˜é‡æŒ‡å‘<code>PostGIS</code>çš„å®‰è£…è·¯å¾„ï¼Œåœ¨è¿è¡ŒGDALç¨‹åºæ—¶ï¼Œæ¶‰åŠåˆ°è¦ç´ ã€å‡ ä½•ä¸æŠ•å½±æ“ä½œæ—¶ä¼šå¯¼è‡´å¼‚å¸¸ã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a20c99d86ece4e94945575f5dd2dfeef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=wFc%2Bg1jRSlpvJAgjVqfCimEzAFc%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“æ„æ€ä¸º<code>GDAL</code>ä¸æ”¯æŒ<code>PostGIS</code>æ’ä»¶ä¸­çš„æŠ•å½±åº“ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ¢æŠ•å½±åº“æˆ–è€…å‡çº§ç‰ˆæœ¬ã€‚</p>
<p><code>RuntimeError: PROJ: proj_identify: D:Program FilesPostgreSQL13sharecontribpostgis-3.5projproj.db contains DATABASE.LAYOUT.VERSION.MINOR = 2 whereas a number &gt;= 5 is expected. It comes from another PROJ installation.</code><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaa206b42a22447698ffd8d2c99fcebc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=13lCvi8KLvpFLaXaj1nMreVjpzQ%3D" alt="" loading="lazy"/></p>
<p>è§£å†³åŠæ³•ä¸ºä¿®æ”¹<code>PROJ</code>çš„ç¯å¢ƒå˜é‡åˆ°<code>GDAL</code>æ”¯æŒçš„ç‰ˆæœ¬æˆ–è€…åœ¨<code>GDAL</code>ç¨‹åºå¼€å¤´æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">os.environ[<span class="hljs-string">'PROJ_LIB'</span>] = <span class="hljs-string">r'D:\Programs\Python\Python311\Libsite-packages\osgeo\data\proj'</span>
</code></pre>
<p><strong><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96ec425a1f434059864294ee5f0c6693~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=svCqI80nkfTv4AB9Wrf952G2%2FN0%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>olæ•°æ®</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/041b4dfbed454281930ca8928c946711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=rJ3psxcuBZQBWQej5Djt6Sk1jps%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8dcf265046f5430eafbcd9ea5eb3f9d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=Wt3lrzwOpkq6UPvmUavdLaCr3PM%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d06e8a4f8c466d879956636c0cc562~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=plpKFUw6OF2F8USoCJe%2Fq1B01oI%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d49d5a4d0f74a589b29d70c5f1e0224~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=UkriPTGY%2BreB1Mc7jJ0W11sJGLI%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEyUADPYCf7O_9b0u8LUQCg" target="_blank" title="https://mp.weixin.qq.com/s/EyUADPYCf7O_9b0u8LUQCg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®å±æ€§æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FRdlldTRZ6c7FzfjBSdSPMg" target="_blank" title="https://mp.weixin.qq.com/s/RdlldTRZ6c7FzfjBSdSPMg" ref="nofollow noopener noreferrer">GDAL å®ç°åˆ›å»ºå‡ ä½•å¯¹è±¡</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FTUdUHgYra6oMlOaRIL1m4w" target="_blank" title="https://mp.weixin.qq.com/s/TUdUHgYra6oMlOaRIL1m4w" ref="nofollow noopener noreferrer">GDAL å®ç°è‡ªå®šä¹‰æ•°æ®åæ ‡ç³»</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPGxwhRbuiRUKIpT2D2cVGQ" target="_blank" title="https://mp.weixin.qq.com/s/PGxwhRbuiRUKIpT2D2cVGQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡æ•°æ®è¯»å†™</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fi77nCatd4V2nuybZFIs-xA" target="_blank" title="https://mp.weixin.qq.com/s/i77nCatd4V2nuybZFIs-xA" ref="nofollow noopener noreferrer">GDAL æ•°æ®ç±»å‹å¤§å…¨</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†]]></title>    <link>https://juejin.cn/post/7592531796039778338</link>    <guid>https://juejin.cn/post/7592531796039778338</guid>    <pubDate>2026-01-07T13:36:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796039778338" data-draft-id="7592531796039712802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-07T13:36:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:36:47.000Z" title="Wed Jan 07 2026 13:36:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¦‚æœè¦ç»™ 2025 å¹´ä¸€ä¸ªå…³é”®è¯ï¼Œé‚£ä¸€å®šæ˜¯ï¼š<strong>å†²å‡»</strong>ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘ä»¬è¿˜æ²¡æ¥å¾—åŠä» AI çš„éœ‡æƒŠä¸­ç¼“è¿‡ç¥æ¥ï¼Œå®ƒå°±å·²ç»ä¸ä»…æ˜¯å·¥å…·ï¼Œè€Œæ˜¯æˆäº†æˆ‘ä»¬èº«è¾¹çš„â€œåŒäº‹â€ã€‚</p>
<p>ç«™åœ¨ 2026 å¹´åˆçš„èŠ‚ç‚¹å›æœ›ï¼Œæˆ‘æ•²ä¸‹çš„æ¯ä¸€è¡Œä»£ç é‡Œï¼Œä¼¼ä¹éƒ½è—ç€ AI çš„å½±å­ã€‚</p>
</blockquote>
<h2 data-id="heading-0">â© 2025ï¼šè¢«æŒ‰ä¸‹çš„åŠ é€Ÿé”®</h2>
<p>æ•…äº‹çš„ä¼ç¬”å…¶å®åŸ‹åœ¨ 2025 å¹´åˆã€‚</p>
<p>å½“ <strong>DeepSeek R1</strong> å¸¦ç€é‚£ç¯‡åä¸ºã€ŠIncentivizing Reasoning Capability in LLMs via Reinforcement Learningã€‹çš„è®ºæ–‡æ¨ªç©ºå‡ºä¸–æ—¶ï¼Œåœˆå†…äººéƒ½åœ¨è¯´ï¼šâ€œå¤§çš„è¦æ¥äº†ã€‚â€</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¨¡å‹çš„å‘å¸ƒï¼Œæ›´åƒæ˜¯ä¸€æ¬¡èŒƒå¼è½¬ç§»ã€‚å®ƒè¯æ˜äº†çº¯ç²¹çš„å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰å¯ä»¥è®©å¤§æ¨¡å‹å…·å¤‡æƒŠäººçš„æ¨ç†èƒ½åŠ›ã€‚<strong>ä»é‚£ä¸€åˆ»èµ·ï¼ŒAI çš„å‘å±•ä»¿ä½›è¢«æŒ‰ä¸‹äº†åå€åŠ é€Ÿé”®</strong>ã€‚æ¨¡å‹è¿­ä»£ä¸å†æ˜¯æŒ‰å¹´ç®—ï¼Œè€Œæ˜¯æŒ‰å‘¨ç®—ã€‚æ—©ä¸Šåˆšå­¦ä¼šæ€ä¹ˆåœ¨è¿™ä¸ªæ¨¡å‹é‡Œå†™ Promptï¼Œæ™šä¸Šå°±å‘å¸ƒäº†åŠæ‰“å®ƒçš„æ–°ä¸€ä»£æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬è¿™ç¾¤å¼€å‘è€…ï¼Œå°±åƒååœ¨è¿‡å±±è½¦ç¬¬ä¸€æ’çš„ä¹˜å®¢ï¼Œè¿˜æ²¡æ¥å¾—åŠç³»å¥½å®‰å…¨å¸¦ï¼Œå°±è¢«æ¨å‘äº†æœªçŸ¥çš„è½¨é“ã€‚</p>
<h3 data-id="heading-1">é‚£åœºåä¸º Manus çš„â€œèµ›åšçƒŸèŠ±â€</h3>
<p>è®°å¿†æœ€æ·±åˆ»çš„ï¼Œè«è¿‡äº 2025 å¹´ 3 æœˆçš„é‚£åœºâ€œç‹‚æ¬¢â€ã€‚</p>
<p>ä¸€ä¸ªåä¸º <strong>Manus</strong> çš„é¡¹ç›®çªç„¶æ€å‡ºé‡å›´ã€‚å…¨ç½‘åˆ·å±ã€å®˜åª’çƒ­æ§ã€ä¸€æšé‚€è¯·ç è¢«ç‚’åˆ° 10 ä¸‡å¤©ä»·ã€‚å½“æ—¶æ‰€æœ‰çš„æŠ€æœ¯ç¾¤éƒ½åœ¨è®¨è®ºå®ƒï¼Œä»¿ä½›å®ƒå°±æ˜¯ä¸­å›½å›¢é˜Ÿæ‰“é€ çš„â€œå…¨çƒé¦–æ¬¾é€šç”¨ Agentâ€ï¼Œæ˜¯ AI é©å‘½çš„ç»ˆç‚¹ç«™ã€‚</p>
<p>æˆ‘ä¹Ÿæ›¾å¿ƒåŠ¨è¿‡ï¼Œç”šè‡³å¹»æƒ³è¿‡æœ‰äº†å®ƒæ˜¯ä¸æ˜¯å°±èƒ½èººç€å†™ä»£ç äº†ã€‚</p>
<p>ç„¶è€Œï¼Œç°å®æ¯”ç”µå½±æ›´é­”å¹»ã€‚ä»…ä»… 4 ä¸ªæœˆåï¼Œå‰§æƒ…æ€¥è½¬ç›´ä¸‹ï¼šæ¸…ç©ºå¾®åšã€é”åŒºä¸­å›½ã€è£å‘˜ 80%ã€æ€»éƒ¨è¿å¾€æ–°åŠ å¡â€¦â€¦ åŸæœ¬çš„â€œå›½è´§ä¹‹å…‰â€ç¬é—´å˜æˆäº†ç½‘å‹å£ä¸­çš„â€œå¸åœˆç›˜å­â€å’Œâ€œéª—å­å…¬å¸â€ã€‚</p>
<p><strong>çœ¼çœ‹ä»–èµ·æœ±æ¥¼ï¼Œçœ¼çœ‹ä»–æ¥¼å¡Œäº†</strong>ã€‚Manus å°±åƒä¸€åœºåä¸½çš„èµ›åšçƒŸèŠ±ï¼Œç‚¸å“äº† 2025 çš„å¤©ç©ºï¼Œä¹Ÿç•™ä¸‹äº†æ»¡åœ°é¸¡æ¯›ã€‚ä½†ä¹Ÿæ­£æ˜¯è¿™åœºé—¹å‰§ï¼Œè®©æˆ‘æ¸…é†’åœ°è®¤è¯†åˆ°ï¼š<strong>ç‚’ä½œçš„æ¦‚å¿µç»ˆå°†é€€æ½®ï¼Œåªæœ‰çœŸæ­£èƒ½è½åœ°çš„å·¥å…·ï¼Œæ‰èƒ½ç•™åœ¨å¼€å‘è€…çš„ IDE é‡Œã€‚</strong></p>
<h2 data-id="heading-2">æˆ‘çš„å¼€å‘å·¥ä½œæµï¼šIDEA + Cursor</h2>
<p>ä½œä¸ºä¸€åæ•´å¤©å’Œ Spring Boot æ‰“äº¤é“çš„ Java å¼€å‘è€…ï¼Œæˆ‘å¯¹ AI çš„æ€åº¦å…¶å®ç»å†äº†ä¸€ä¸ªæ¼«é•¿çš„â€œ<strong>æŠ—æ‹’ -&gt; å°è¯• -&gt; ä¾èµ–</strong>â€çš„è¿‡ç¨‹ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†æœ€é€‚åˆè‡ªå·±çš„ç©æ³•ã€‚</p>
<h3 data-id="heading-3">ä»å‰²è£‚åˆ°èåˆ</h3>
<p>èµ·åˆï¼Œ<strong>GitHub Copilot</strong> åˆšåµŒå…¥ IDEA æ—¶ï¼Œæˆ‘åªæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªâ€œé«˜çº§ç‚¹çš„è‡ªåŠ¨è¡¥å…¨â€ã€‚å®ƒèƒ½å¸®æˆ‘å†™å†™ Getter/Setterï¼Œæˆ–è€…ç”Ÿæˆä¸€æ®µé€šç”¨çš„å·¥å…·ç±»ä»£ç ï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<p>ç›´åˆ° <strong>Cursor</strong> å‡ºç°ã€‚ä½†è¯´å®è¯ï¼Œè®©ä¸€ä¸ª Java å¼€å‘è€…å½»åº•æ”¾å¼ƒ JetBrains å…¨å®¶æ¡¶å»ç”¨ VS Codeï¼ˆCursor çš„åº•åº§ï¼‰ï¼Œæ˜¯ä¸ç°å®çš„ã€‚IDEA å¼ºå¤§çš„é‡æ„åŠŸèƒ½ã€å®Œç¾çš„ Maven ä¾èµ–æ ‘è§†å›¾ã€ä¸æ»‘çš„ Debug ä½“éªŒï¼Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬èµ–ä»¥ç”Ÿå­˜çš„ç©ºæ°”å’Œæ°´ã€‚</p>
<p>æ‰€ä»¥æˆ‘æ²¡æœ‰é€‰æ‹©â€œéæ­¤å³å½¼â€çš„ç«™é˜Ÿï¼Œè€Œæ˜¯æ ¹æ®åœºæ™¯æ··ç€ç”¨ï¼š</p>
<ul>
<li><strong>IDEA</strong>ï¼šå½“æˆ‘è¦æ¢³ç†å¤æ‚çš„ç»§æ‰¿å…³ç³»ï¼Œæ’æŸ¥å› ä¸ºç‰ˆæœ¬å†²çªå¯¼è‡´çš„ <code>NoSuchMethodError</code>ï¼Œæˆ–è€…è¿›è¡Œå¤§è§„æ¨¡çš„é‡æ„æ—¶ï¼Œæˆ‘ä¼šå›åˆ° IDEAã€‚å®ƒçš„é™æ€åˆ†æèƒ½åŠ›å’Œç´¢å¼•é€Ÿåº¦ï¼Œç›®å‰ä¾ç„¶æ˜¯ä¸šç•Œå¤©èŠ±æ¿ï¼Œç»™æˆ‘ä¸€ç§è¸å®çš„å®‰å…¨æ„Ÿã€‚</li>
<li><strong>Cursor</strong>ï¼šå½“æˆ‘è¦å†™ä¸€ä¸ªæ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œæˆ–è€…éœ€è¦å¿«é€Ÿå®ç°ä¸€ä¸ªéªŒè¯æ€§çš„ Demo æ—¶ï¼Œæˆ‘ä¼šä¸€é”®åˆ‡æ¢åˆ° Cursorã€‚
<ul>
<li>â€œåŸºäºè¿™ä¸ª Interface ç”Ÿæˆç­–ç•¥æ¨¡å¼çš„ä¸‰ä¸ªå®ç°ç±»ï¼Œå¹¶è¡¥å…… Unit Testã€‚â€</li>
<li>â€œåˆ†æè¿™æ®µæŠ¥é”™å †æ ˆï¼Œç»™å‡ºæœ€å¯èƒ½çš„ä¸‰ä¸ªåŸå› ã€‚â€</li>
</ul>
</li>
</ul>
<p>IDEA ä»£è¡¨ç€å·¥ç¨‹çš„ä¸¥è°¨ï¼ŒCursor ä»£è¡¨ç€åˆ›é€ çš„é€Ÿåº¦ã€‚<strong>åœ¨ 2025 å¹´ï¼Œä¸€ä¸ªæˆç†Ÿçš„å¼€å‘è€…ï¼Œåº”å½“å­¦ä¼šåŒæ—¶é©¾é©­è¿™ä¸¤ç§åŠ›é‡ã€‚</strong></p>
<p><strong>å½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘ä¸å†æ˜¯åœ¨â€œå†™â€ä»£ç ï¼Œè€Œæ˜¯åœ¨â€œç¼–ç»‡â€é€»è¾‘ã€‚</strong></p>
<h2 data-id="heading-4">ğŸ“ˆ é‚£äº›â€œå›ä¸å»â€çš„å˜åŒ–</h2>
<p>å¦‚æœéè¦æ€»ç»“ 2025 å¹´å¯¹æˆ‘æ”¹å˜æœ€å¤§çš„ä¸¤ç‚¹ï¼Œé‚£ä¸€å®šæ˜¯ï¼š</p>
<h3 data-id="heading-5">1. å­¦ä¹ é€Ÿåº¦çš„è´¨å˜</h3>
<p>åœ¨ä»¥å‰ï¼ŒæŠ€æœ¯æ ˆä¹‹é—´çš„å£å’æ˜¯æé«˜çš„ã€‚æƒ³ä» Java è·¨è¶Šåˆ° Rust æˆ–è€… Goï¼Œä¸­é—´éš”ç€åšåšçš„æ–‡æ¡£å’Œæ— æ•°ä¸ªè·‘ä¸é€šçš„ "Hello World"ã€‚é‚£ç§é¢å¯¹é™Œç”Ÿé¢†åŸŸæ—¶çš„æ— åŠ›æ„Ÿï¼Œæ˜¯é˜»ç¢æˆ‘ä»¬æ¢ç´¢çš„æœ€å¤§ç»Šè„šçŸ³ã€‚</p>
<p>ç°åœ¨ï¼Œè¿™é“å¢™è¢« AI æ¨å€’äº†ã€‚</p>
<blockquote>
<p>â€œHey AIï¼Œæˆ‘æ˜¯ Java ç†Ÿæ‰‹ï¼Œæƒ³ç”¨ Rust å†™ä¸ªé«˜å¹¶å‘çˆ¬è™«ï¼Œè¯·å¯¹æ¯” Java çš„å¹¶å‘æ¨¡å‹ï¼Œç»™æˆ‘ä¸€ä¸ªæœ€ä½³å®è·µçš„ Project Structureã€‚â€</p>
</blockquote>
<p>å‡ ç§’é’Ÿåï¼ŒçŸ¥è¯†çš„ç²¾åè¢«æç‚¼ã€å¯¹æ¯”ã€å‘ˆç°ã€‚<strong>æˆ‘ä»¬ä¸å†éœ€è¦ä¸ºäº†å–ä¸€æ¯æ°´è€Œå»é“ºè®¾æ•´æ¡è‡ªæ¥æ°´ç®¡</strong>ã€‚</p>
<p><strong>ä½†è¿™ä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜â€”â€”â€œé‰´ä¼ªèƒ½åŠ›â€ã€‚</strong>
AI ç»å¸¸ä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ï¼Œç‰¹åˆ«æ˜¯åœ¨æœ€æ–°çš„æŠ€æœ¯é¢†åŸŸã€‚è¿™å€’é€¼æˆ‘ä»ä¸€ä¸ªâ€œæœç´¢è€…â€è¿›åŒ–ä¸ºäº†â€œéªŒè¯è€…â€ã€‚ä»¥å‰æˆ‘ 90% çš„æ—¶é—´åœ¨æ‰¾èµ„æ–™ï¼Œ10% çš„æ—¶é—´åœ¨éªŒè¯ï¼›ç°åœ¨æˆ‘ 10% çš„æ—¶é—´åœ¨è·å–æ–¹æ¡ˆï¼Œ90% çš„æ—¶é—´åœ¨å®¡è§†ä»£ç çš„åˆç†æ€§ã€‚<strong>AI ç»™äº†æˆ‘é£ç¿”çš„ç¿…è†€ï¼Œä½†æˆ‘å¿…é¡»è‡ªå·±æŒæ¡æ–¹å‘ç›˜ï¼Œå¦åˆ™éšæ—¶ä¼šæ‰è¿›å®ƒç¼–ç»‡çš„é€»è¾‘é™·é˜±é‡Œã€‚</strong></p>
<h3 data-id="heading-6">2. å¼€å§‹è®°å½•ï¼Œä¿ç•™è‡ªæˆ‘</h3>
<p>ä»Šå¹´æˆ‘ä¹Ÿå¼€å§‹äº†æŠ€æœ¯å†™ä½œã€‚</p>
<p>èµ·åˆåŠ¨æœºå¾ˆå•çº¯ï¼Œå°±æ˜¯ä¸ºäº†å¯¹æŠ—é—å¿˜ã€‚å› ä¸ºåœ¨é‚£ä¸ªäººæœºäº¤äº’å¦‚æ­¤é«˜é¢‘çš„æ—¶ä»£ï¼Œ<strong>å¦‚æœä¸è®°å½•ç‚¹ä»€ä¹ˆï¼Œè®°å¿†å¾ˆå¿«å°±ä¼šè¢«æ–°çš„ Token å†²åˆ·æ‰ã€‚</strong></p>
<p>ä½†åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€äº› AI æ— æ³•æ›¿ä»£çš„ä¸œè¥¿â€”â€”<strong>â€œæƒ…ç»ªâ€</strong>ã€‚
AI èƒ½ç”Ÿæˆå®Œç¾æ— ç‘•çš„ä»£ç è§£é‡Šï¼Œä½†å®ƒå†™ä¸å‡ºæ·±å¤œæ’æŸ¥ Bug æ—¶é‚£ç§æŠ“å¿ƒæŒ è‚çš„ç„¦è™‘ï¼Œå†™ä¸å‡ºç»ˆäºå®šä½åˆ°é—®é¢˜æ—¶é‚£ç§ä¹Ÿå°±æ˜¯ä¿®æ”¹äº†ä¸€è¡Œé…ç½®çš„ç‹‚å–œï¼Œæ›´å†™ä¸å‡ºé¢å¯¹å¥‡è‘©éœ€æ±‚æ—¶é‚£ç§â€œæ— è¯­å‡å™â€çš„æ— å¥ˆã€‚</p>
<p>æˆ‘å¼€å§‹å°è¯•åœ¨æŠ€æœ¯æ–‡ç« é‡Œèå…¥è¿™äº›â€œäººå‘³å„¿â€ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œ<strong>æŠ€æœ¯å¾—æ˜¯æœ‰æ¸©åº¦çš„ã€‚</strong> å†™ä½œæˆä¸ºäº†æˆ‘åœ¨è¿™ä¸ªæ•°æ®æ´ªæµä¸­ï¼Œç¡®ç«‹â€œè‡ªæˆ‘å­˜åœ¨æ„Ÿâ€çš„é”šç‚¹ã€‚</p>
<h2 data-id="heading-7">ğŸ”š æ€è€ƒä¸å¿§è™‘</h2>
<p>2025 å¹´è¿‡å»äº†ï¼Œä¸ç®¡æ˜¯ Manus çš„éª—å±€ï¼Œè¿˜æ˜¯ Cursor çš„å´›èµ·ï¼Œéƒ½å·²æˆä¸ºå†å²ã€‚</p>
<p>è¯´å®è¯ï¼Œé¢å¯¹ AI å¦‚æ­¤è¿…çŒ›çš„å‘å±•ï¼Œæˆ‘å¿ƒé‡Œå…¶å®æ˜¯<strong>ç™¾æ„Ÿäº¤é›†</strong>çš„ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œæˆ‘äº«å—ç€æ•ˆç‡æå‡å¸¦æ¥çš„å¿«æ„Ÿã€‚
å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä¹Ÿæ·±æ·±åœ°å¿§è™‘ï¼š<strong>æˆ‘çš„ä¸å¯æ›¿ä»£æ€§è¿˜å‰©å¤šå°‘ï¼Ÿ</strong></p>
<p>å²—ä½æ˜¯å¦ä¼šå› ä¸ºæ•ˆç‡æå‡è€Œç¼©å‡ï¼Ÿé‚£äº›ç”± AI ç”Ÿæˆçš„ã€æˆ‘å¹¶æ²¡æœ‰å®Œå…¨ç†è§£ç»†èŠ‚çš„ä»£ç ï¼Œä¼šä¸ä¼šæˆä¸ºæœªæ¥é¡¹ç›®é‡Œçš„â€œå®šæ—¶ç‚¸å¼¹â€ï¼Ÿè¿™ç§å¯¹é¡¹ç›®æŒæ§åŠ›ä»â€œç»å¯¹ç¡®å®šâ€å˜æˆâ€œæ¦‚ç‡ç¡®å®šâ€çš„æ„Ÿè§‰ï¼Œç”±äºé»‘ç›’çš„å­˜åœ¨ï¼Œå¶å°”ä¼šè®©æˆ‘æ„Ÿåˆ°ä¸å®‰ã€‚</p>
<p><strong>è¶Šæ˜¯ç®€å•ï¼Œæˆ‘è¶Šå¸¸åœ¨æ·±å¤œåé—®è‡ªå·±ï¼šå¦‚æœæ˜å¤©æ‹”æ‰ç½‘çº¿ï¼Œæ²¡æœ‰äº† Copilotï¼Œæ²¡æœ‰äº† Cursorï¼Œæˆ‘æ˜¯å¦è¿˜èƒ½å†™å‡ºä¼˜é›…çš„ä»£ç ï¼Ÿæˆ‘æ˜¯å¦è¿˜è®°å¾— HashMap çš„åº•å±‚å®ç°ï¼Ÿ</strong></p>
<p>è¿™ç§åé—®è®©æˆ‘ä¿æŒæ¸…é†’ã€‚
æˆ‘ä¸æ’æ–¥ AIï¼Œæˆ‘ä¾èµ–å®ƒï¼Œèµç¾å®ƒã€‚ä½†æˆ‘æ›´è­¦æƒ•å®ƒå¸¦æ¥çš„æ€æƒ³æ‡’æƒ°ã€‚
æˆ‘ä»¬ä¸èƒ½å› ä¸ºæœ‰äº†è®¡ç®—å™¨ï¼Œå°±å¿˜è®°äº†ä¹ä¹ä¹˜æ³•è¡¨èƒŒåçš„é€»è¾‘ï¼›ä¹Ÿä¸èƒ½å› ä¸ºæœ‰äº† AIï¼Œå°±ä¸§å¤±äº†ç‹¬ç«‹æ€è€ƒå’Œä»é›¶æ„å»ºçš„èƒ½åŠ›ã€‚</p>
<p><strong>å› ä¸º AI åªèƒ½ç»™å‡ºç­”æ¡ˆï¼Œä½†çœŸæ­£è§£å†³é—®é¢˜çš„ï¼Œæ°¸è¿œæ˜¯é‚£ä¸ªæŒç»­å­¦ä¹ ã€ä¸æ–­æ€è€ƒçš„ä½ ã€‚</strong></p>
<p>æ­£å¦‚æ¯•åŠ ç´¢æ‰€è¯´ï¼š</p>
<blockquote>
<p><strong>â€œè®¡ç®—æœºæ¯«æ— ç”¨å¤„ã€‚å®ƒä»¬åªèƒ½ç»™ä½ ç­”æ¡ˆã€‚â€</strong>
<em>(Computers are useless. They can only give you answers.)</em></p>
</blockquote>
<p>2026ï¼Œæ„¿æˆ‘ä»¬éƒ½èƒ½åšé‚£ä¸ª<strong>æå‡ºé—®é¢˜çš„äºº</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨]]></title>    <link>https://juejin.cn/post/7592148975849259051</link>    <guid>https://juejin.cn/post/7592148975849259051</guid>    <pubDate>2026-01-07T13:52:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975849259051" data-draft-id="7589893170386223104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨"/> <meta itemprop="keywords" content="å‰ç«¯,Coze"/> <meta itemprop="datePublished" content="2026-01-07T13:52:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°è¨€è¥¿è¥¿é‡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/332466136029851"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/332466136029851/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°è¨€è¥¿è¥¿é‡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:52:36.000Z" title="Wed Jan 07 2026 13:52:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ç°å¦‚ä»Š AI åº”ç”¨å¼€å‘å˜å¾—è¶Šæ¥è¶Šâ€œå¹³æ°‘åŒ–â€ï¼Œå³ä½¿ä½ ä¸æ‡‚ä»»ä½•æ·±åº¦å­¦ä¹ ï¼Œä¹Ÿèƒ½é€šè¿‡â€œç©â€ä¸€äº› AI å¼€å‘å¹³å°æ¥åšå‡ºä¸€äº›æœ‰è¶£åˆæ™ºèƒ½çš„å°å·¥å…·ã€‚è€Œè¿™å…¶ä¸­ä¸å¾—ä¸æçš„å°±æ˜¯<strong>âœ¨å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ä¸€ç«™å¼AIåº”ç”¨å¼€å‘å¹³å° Coze äº†</strong>ã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆè¦é€‰æ‹© <strong>Coze</strong> å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºå…¶<strong>å¼ºå¤§çš„ä½ä»£ç å¼€å‘èƒ½åŠ›</strong>ï¼Œå³ä½¿æ˜¯å°ç™½ä¹Ÿå¯é€šè¿‡å¯è§†åŒ–ç•Œé¢â€œæ­ç§¯æœ¨â€ä¸€æ ·ç¼–æ’å·¥ä½œæµâ€”â€”æ¯”å¦‚ä¸Šä¼ å›¾ç‰‡ã€è°ƒç”¨å¤§æ¨¡å‹ã€ç”Ÿæˆæ–°å›¾åƒç­‰ç­‰ï¼Œå¹¶ä¸”å…¨ç¨‹æ— éœ€å†™å¤æ‚çš„åç«¯æˆ–ç®—æ³•ä»£ç ï¼Œæå¤§é™ä½äº† AI é›†æˆé—¨æ§›ğŸ’¡ã€‚</p>
<p>æ‹¥æœ‰äº†å·¥ä½œæµåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¼˜ç§€çš„ç°ä»£å‰ç«¯æ¡†æ¶ <strong>Vue3</strong> ï¼Œé€šè¿‡å…¶ç®€æ´çš„è¯­æ³•ã€å“åº”å¼æ•°æ®å’Œç»„ä»¶åŒ–æ€æƒ³ï¼Œè®©é¡µé¢äº¤äº’å¼€å‘å˜å¾—é«˜æ•ˆåˆç›´è§‚ã€‚ä¸ä»…å‘ç”¨æˆ·å±•ç¤ºæˆ‘ä»¬çš„å¼€å‘æˆæœï¼Œä¹Ÿè¦â€œæ¥ä½â€ç”¨æˆ·æ“ä½œï¼Œæœ€åå†æŠŠç»“æœå±•ç¤ºå‡ºæ¥ã€‚</p>
<p>æœ¬æ–‡å°±ä»¥â€œå® ç‰©å˜å†°çƒè¿åŠ¨å‘˜â€ä¸ºä¾‹ï¼Œ<strong>è”åˆ Coze çš„â€œAI èƒ½åŠ›â€ä¸ Vue3 çš„â€œäº¤äº’è¡¨ç°åŠ›â€</strong> æ¥æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ä½¿ç”¨è¿™ä¸¤é¡¹æŠ€æœ¯ï¼Œä»é›¶æ­å»ºä¸€ä¸ªå®Œæ•´çš„ AI åº”ç”¨ã€‚</p>
<h2 data-id="heading-1">é¡¹ç›®ç®€ä»‹</h2>
<p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº <strong>Vue3 + Coze AI å·¥ä½œæµ</strong> çš„è½»é‡çº§ Web åº”ç”¨ï¼Œå®ç°ç”¨æˆ·ä¸Šä¼ ä¸€å¼ å® ç‰©ç…§ç‰‡ï¼Œé€‰æ‹©é˜Ÿæœç¼–å·ã€é¢œè‰²ã€æ‹…ä»»çš„ä½ç½®ã€æŒæ†æ‰‹ä»¥åŠè‰ºæœ¯é£æ ¼ï¼Œå³å¯ç”Ÿæˆè¯¥å® ç‰©åŒ–èº«â€œå†°çƒè¿åŠ¨å‘˜â€çš„å›¾åƒã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½ï¼š</h3>
<ul>
<li>æ–‡ä»¶ä¸Šä¼ å¹¶é¢„è§ˆ</li>
<li>ç”¨æˆ·é…ç½®å‚æ•°ï¼ˆé˜Ÿæœã€é£æ ¼ç­‰ï¼‰</li>
<li>è°ƒç”¨ Coze å·¥ä½œæµè¿›è¡Œ AI å¤„ç†</li>
<li>è¿”å›ç”Ÿæˆçš„å›¾åƒå¹¶å±•ç¤º</li>
</ul>
<h2 data-id="heading-3">ğŸ“‚ é¡¹ç›®ç»“æ„è¯´æ˜</h2>
<pre><code class="hljs language-arduino" lang="arduino">project-root/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ App.vue          # ä¸»é¡µé¢ç»„ä»¶
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ vite.config.js
â””â”€â”€ package.json
</code></pre>
<p>æˆ‘ä»¬åªç”¨äº†ä¸€ä¸ªä¸»æ–‡ä»¶ <code>App.vue</code> æ¥å®Œæˆå…¨éƒ¨åŠŸèƒ½ï¼Œé€‚åˆå¿«é€ŸåŸå‹å¼€å‘ã€‚</p>
<h2 data-id="heading-4">ğŸ¤– Coze å¹³å°å¼€å‘è¯¦è§£ï¼ˆä½ä»£ç ï¼‰</h2>
<h3 data-id="heading-5">æ•´ä½“æµç¨‹æ¦‚è¿°ï¼š</h3>
<ol>
<li><strong>å¼€å§‹èŠ‚ç‚¹</strong>ï¼šæ¥æ”¶æ‰€æœ‰è¾“å…¥æ•°æ®ã€‚</li>
<li><strong>å›¾åƒç†è§£èŠ‚ç‚¹</strong>ï¼šåˆ†æç…§ç‰‡å†…å®¹ï¼Œæå–å® ç‰©å›¾ç‰‡çš„å…³é”®ç‰¹å¾ã€‚</li>
<li><strong>ç‰¹å¾æå–èŠ‚ç‚¹</strong>ï¼šå°†ç‰¹å¾è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æè¿°ã€‚</li>
<li><strong>ä»£ç èŠ‚ç‚¹</strong>ï¼šå¤„ç†ç”¨æˆ·æä¾›çš„å‚æ•°æˆ–ç”Ÿæˆé»˜è®¤å€¼æ¥æè¿°ä¸€åªå® ç‰©ä½œä¸ºâ€œå†°çƒè¿åŠ¨å‘˜â€çš„å¤–è§‚å’Œç‰¹æ€§</li>
<li><strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong>ï¼šç»“åˆç”¨æˆ·é€‰æ‹©å’Œå›¾ç‰‡ç‰¹å¾æ¥ç”Ÿæˆéœ€è¦å±•ç°ç»™ç”¨æˆ·çš„å›¾ç‰‡</li>
<li><strong>ç»“æŸèŠ‚ç‚¹</strong>ï¼šå°†ç”Ÿæˆçš„æ–°å›¾åƒå±•ç¤ºç»™ç”¨æˆ·ã€‚</li>
</ol>
<p>ä»è¾“å…¥å›¾ç‰‡å¼€å§‹ï¼Œç»è¿‡å›¾åƒç†è§£ã€ç‰¹å¾æå–ã€ä»£ç å¤„ç†ä¸å›¾åƒç”Ÿæˆï¼Œæœ€ç»ˆè¾“å‡ºç»“æœçš„å®Œæ•´æµç¨‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/426b3ef3488b4e6785d0f9c81cfafaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=UpPbl48Zgojr04EXmJ3ZUV16%2Fko%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6">ä¸€ã€å¼€å§‹èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæµç¨‹å…¥å£ï¼Œæ¥æ”¶ç”¨æˆ·çš„åŸå§‹è¾“å…¥æ•°æ®ï¼Œå¯åŠ¨åç»­æµç¨‹ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8feb15d81e684fa4a459ab917e8bdc10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=aEB73IXSTWS95z%2FKl7nMTib1zUw%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p>






















































<table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>picture</code></td><td>Image</td><td>æ˜¯</td><td>â€”</td><td>â€”</td></tr><tr><td><code>style</code></td><td>String</td><td>å¦</td><td>å†™å®</td><td>ç”Ÿæˆç…§ç‰‡çš„è‰ºæœ¯é£æ ¼</td></tr><tr><td><code>uniform_number</code></td><td>Number</td><td>å¦</td><td>10</td><td>è¿åŠ¨å‘˜çš„å·ç </td></tr><tr><td><code>uniform_color</code></td><td>String</td><td>å¦</td><td>çº¢</td><td>çƒè¡£é¢œè‰²</td></tr><tr><td><code>position</code></td><td>Number</td><td>å¦</td><td>â€”</td><td>æ•´æ•°æšä¸¾ï¼Œ0ã€1ã€2ï¼Œåˆ†åˆ«ä¸ºå®ˆé—¨å‘˜ã€å‰é”‹ã€åå«ï¼Œé»˜è®¤éšæœº</td></tr><tr><td><code>shooting_hand</code></td><td>Number</td><td>å¦</td><td>â€”</td><td>æŒæ†æ‰‹ï¼Œæ•´æ•°æšä¸¾0ã€1ï¼Œåˆ†åˆ«ä¸ºå·¦æ‰‹ã€å³æ‰‹ï¼Œé»˜è®¤éšæœº</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1366419c9ff647dab76092467e0204bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Mg1N%2FFVaxds8l3pVM%2FmN09qpqQY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">äºŒã€å›¾åƒç†è§£èŠ‚ç‚¹ï¼š<code>imgUnderstand</code></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šä½¿ç”¨AIæ¨¡å‹åˆ†æå›¾åƒå†…å®¹ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2e99d45c5004671be24c8c98dade677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=1ug0GUm3JyHW%2F%2B7Pvocoeq1ukOs%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<p><strong>è¾“å…¥</strong>ï¼š</p>
<ul>
<li><code>text</code>ï¼šè¿™åº”è¯¥æ˜¯ä¸€å¼ å® ç‰©å›¾ç‰‡ï¼Œè¯·è¯¦ç»†æè¿°å® ç‰©çš„å¤–è²Œç‰¹å¾ã€‚</li>
<li><code>url</code>ï¼šé€‰æ‹©ä»å¼€å§‹å–åˆ°çš„å›¾ç‰‡</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80a5d2fc6eab4111879b92e745e3a87f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=oORGFh%2BgPDQywj7UYsN8srDA2io%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è¾“å‡º</strong>ï¼šé€šè¿‡â€œæŸ¥çœ‹ç¤ºä¾‹â€å¯ä»¥æŸ¥çœ‹è¾“å‡ºæ•ˆæœ</p>
<ul>
<li><code>author</code>ï¼šä½œè€…ä¿¡æ¯</li>
<li><code>content</code>ï¼šå›¾åƒæè¿°æ–‡æœ¬</li>
<li><code>msg</code>ï¼šè¿”å›æ¶ˆæ¯</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/277a3ddb497c482a8f99e3a8b5e45b46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=a8inWfyAdhRtbInw6JrvfBQumvI%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ç‰¹å¾æå–èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå¯¹æ–‡æœ¬è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œæå–å…³é”®è¯æˆ–ç»“æ„åŒ–ä¿¡æ¯ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9eb4a621c20641288938982677475d79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Ap7wnZaeq2wsYECffI7IpOLIKNE%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>æ¨¡å‹</strong>ï¼šè±†åŒ…Â·1.5 Â· Pro Â· 32kï¼ˆé»˜è®¤å³å¯ï¼‰</p>
<p><strong>æŠ€èƒ½</strong>ï¼šæ— éœ€é…ç½®æŠ€èƒ½</p>
<p><strong>è¾“å…¥</strong>ï¼šè¿æ¥<strong>å›¾åƒç†è§£èŠ‚ç‚¹</strong>ä¼šè‡ªåŠ¨é…ç½® <code>imgUnderstand</code> çš„ <code>content</code> å­—æ®µä¸º <code>input</code> ä¸­çš„å˜é‡å€¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ee47831a6704f049954c9dfbfd65d6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=FwtijCWW7qYvel0GRLnDVA9fqHc%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/>
<strong>ç³»ç»Ÿæç¤ºè¯</strong>ï¼šä¸ºå¯¹è¯æä¾›ç³»ç»Ÿçº§æŒ‡å¯¼ï¼Œåœ¨æ­¤ä¹‹ä¸­å¯ä»¥ä½¿ç”¨{{å˜é‡å}}ç­‰æ–¹å¼å¼•ç”¨å˜é‡ï¼ˆæ­¤å¤„æˆ‘ä»¬å¯¼å…¥æ–‡å­—æç¤ºè¯å³å¯ï¼‰</p>
<pre><code class="hljs">ä½ æ˜¯åŠ¨ç‰©å­¦å®¶ï¼Œè´Ÿè´£ä»åŠ¨ç‰©æè¿°ä¸­æå–å‡ºè¯¥åŠ¨ç‰©ï¼ˆä¸»è¦æ˜¯å¤–è¡¨ï¼‰é‡Œæœ€æœ‰ç‹¬ç‰¹æ€§çš„ç‰¹å¾ï¼Œä¾‹å¦‚ç‰¹å¾çš„è‚¤è‰²ã€è¡¨æƒ…ã€ç¥æ€ã€åŠ¨ä½œç­‰ç­‰ã€‚
</code></pre>
<p><strong>ç”¨æˆ·æç¤ºè¯</strong>ï¼šå‘æ¨¡å‹æä¾›ç”¨æˆ·æŒ‡ä»¤ï¼ˆæ­¤å¤„æˆ‘ä»¬å¯¼å…¥è¾“å…¥å˜é‡<code>input</code>ï¼‰</p>
<pre><code class="hljs language-css" lang="css">{{<span class="hljs-selector-tag">input</span>}}
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š<code>output</code>ï¼ˆé»˜è®¤å³å¯ï¼‰</p>
<hr/>
<h3 data-id="heading-9">å››ã€ä»£ç èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæ‰§è¡Œè‡ªå®šä¹‰ä»£ç é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å¤„ç†ç”¨æˆ·æä¾›çš„å‚æ•°æˆ–ç”Ÿæˆé»˜è®¤å€¼</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/174af5b840094b168a08be9c16bc87f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=hAmiFKaKidL2mxEkSMlqcpTfBN4%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å…¥</strong>ï¼šä»<strong>å¼€å§‹èŠ‚ç‚¹</strong>é‡Œé¢å¯¼å…¥<code>shooting_hand</code>ã€<code>style</code>ã€<code>uniform_number</code>ã€<code>uniform_color</code>ã€<code>position</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b0214e8358c4463890c65aaa2ece1de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=IK9xxmQeQ1FsCeXAnfHuGym2%2BWc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä»£ç é€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">random</span> = (<span class="hljs-params">start: <span class="hljs-built_in">number</span>, end: <span class="hljs-built_in">number</span></span>) =&gt; {
    <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ª [0, 1) ä¹‹é—´çš„éšæœºæ•°</span>
    <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
    <span class="hljs-comment">// çº¿æ€§æ’å€¼ + å‘ä¸‹å–æ•´</span>
    <span class="hljs-comment">// start * (1 - p) + end * p åªä¼šè®©æ•°æ®å±…äº[start, end)ä¹‹é—´</span>
    <span class="hljs-comment">// å†å‘ä¸‹å–æ•´ä½¿æ•°æ®åªä¸ºæ•´æ•°å¹¶ä¸”å°äºend</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(start * (<span class="hljs-number">1</span> - p) + end * p);
}

<span class="hljs-comment">//å¯¹ç”¨æˆ·ä¼ å…¥çš„å‚æ•°è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†å’Œé»˜è®¤å€¼å¡«å……ï¼Œä»¥ä¾¿åç»­ç”¨äºå›¾åƒç”Ÿæˆ prompt çš„æ„å»º</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">{ params }: Args</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Output</span>&gt; {
    <span class="hljs-keyword">if</span> (params.<span class="hljs-property">position</span> == <span class="hljs-literal">null</span>) params.<span class="hljs-property">position</span> = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);
    <span class="hljs-keyword">if</span> (params.<span class="hljs-property">shooting_hand</span> == <span class="hljs-literal">null</span>) params.<span class="hljs-property">shooting_hand</span> = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>);

    <span class="hljs-keyword">const</span> style = params.<span class="hljs-property">style</span> || <span class="hljs-string">'å†™å®'</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-attr">uniform_number</span>:<span class="hljs-built_in">string</span> = (params.<span class="hljs-property">uniform_number</span> || <span class="hljs-number">10</span>).<span class="hljs-title function_">toString</span>();
    <span class="hljs-keyword">const</span> uniform_color = params.<span class="hljs-property">uniform_color</span> || <span class="hljs-string">'çº¢'</span>;
    <span class="hljs-keyword">const</span> position = params.<span class="hljs-property">position</span>  == <span class="hljs-number">0</span> ? <span class="hljs-string">'å®ˆé—¨å‘˜'</span>: (params.<span class="hljs-property">position</span> == <span class="hljs-number">1</span> ? <span class="hljs-string">'å‰é”‹'</span>: <span class="hljs-string">'åå«'</span>);
    <span class="hljs-keyword">const</span> shooting_hand = params.<span class="hljs-property">shooting_hand</span> == <span class="hljs-number">0</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span>;
    <span class="hljs-keyword">const</span> empty_hand = params.<span class="hljs-property">shooting_hand</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span>;

    <span class="hljs-comment">// æ„å»ºè¾“å‡ºå¯¹è±¡</span>
    <span class="hljs-keyword">const</span> ret = {
        style,
        uniform_number,
        uniform_color,
        position,
        shooting_hand,
    };

    <span class="hljs-keyword">return</span> ret;
}
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35e679b6cd98469b96b3f396076950a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=zdaGnl8bizBLMpo2bELZMha1ivY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-10">äº”ã€å›¾åƒç”ŸæˆèŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®æè¿°ç”Ÿæˆæ–°å›¾åƒã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ddd6a9d71c4f5689d43391c768b3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=FnVWlH52RpPGgeayQE8XPMMHCOg%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<p><strong>æ¨¡å‹è®¾ç½®</strong>ï¼šé€‰æ‹©<strong>é€šç”¨</strong>å³å¯ï¼Œæ¯”ä¾‹æŒ‰ç…§è‡ªèº«å–œå¥½è°ƒèŠ‚</p>
<p><strong>å‚è€ƒå›¾</strong>ï¼šæ·»åŠ å‚è€ƒå›¾ï¼Œæ¨¡å‹é€‰æ‹©â€œå½¢è±¡ä¸€è‡´â€ï¼Œå‚è€ƒå›¾é€‰æ‹©å¼€å§‹èŠ‚ç‚¹ä¸­çš„ <code>picture</code>ï¼Œç¨‹åº¦è°ƒä¸º 0.7</p>
<blockquote>
<p><strong>ç¨‹åº¦</strong>ï¼šå†³å®šäº†å‚è€ƒå›¾å¯¹æœ€ç»ˆç”Ÿæˆå›¾åƒçš„å½±å“ç¨‹åº¦ã€‚æ•°å€¼èŒƒå›´é€šå¸¸æ˜¯ä»0åˆ°1ï¼Œå…¶ä¸­0è¡¨ç¤ºå®Œå…¨ä¸è€ƒè™‘å‚è€ƒå›¾ï¼Œè€Œ1è¡¨ç¤ºå°½å¯èƒ½åœ°æ¨¡ä»¿å‚è€ƒå›¾ã€‚</p>
</blockquote>
<p><strong>è¾“å…¥</strong>ï¼š</p>
<ul>
<li><code>description</code>ï¼šå›¾ç‰‡æè¿°ï¼Œå¯¼å…¥<code>imgUnderstand</code>èŠ‚ç‚¹ä¸­çš„<code>content</code></li>
<li>ä»<strong>ä»£ç èŠ‚ç‚¹</strong>é‡Œé¢å¯¼å…¥å¤„ç†åçš„<code>shooting_hand</code>ã€<code>style</code>ã€<code>uniform_number</code>ã€<code>uniform_color</code>ã€<code>position</code></li>
<li><code>details</code>ï¼šè¯¦ç»†ä¿¡æ¯ï¼Œå¯¼å…¥<strong>ç‰¹å¾æå–èŠ‚ç‚¹</strong>ä¸­çš„<code>output</code>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed8e1f625a744f4ab18335c855c8682b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=nTE3xMaAGhcnhLQVQMeJ7I9ppf8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æç¤ºè¯</strong>ï¼šç”Ÿæˆå†…å®¹çš„æç¤ºè¯ï¼Œåˆ†ä¸ºä¸¤ç±»</p>
<ul>
<li>æ­£å‘æç¤ºè¯ï¼šå¼•å¯¼ç”Ÿæˆå†…å®¹</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">ç”¨åŠ¨ç‰©çš„å½¢è±¡å’Œç‰¹å¾ï¼Œå°†è¯¥åŠ¨ç‰©**æ‹Ÿäºº**ä¸ºä¸€åå® ç‰©å„¿ç«¥å†°çƒå‘˜ï¼Œç”Ÿæˆ{{style}}é£æ ¼çš„å†°çƒçƒå‘˜ç…§ç‰‡ï¼Œçƒå‘˜èº«ç©¿
{{uniform_color}}è‰²é˜Ÿæœï¼Œä½©æˆ´åŒè‰²çš„å†°çƒå¤´ç›”ï¼Œé˜Ÿæœå·ç ä¸º{{uniform_number}}å·ï¼Œçƒå‘˜ä½ç½®æ˜¯{{position}}ï¼Œ
ç”¨{{shooting_hand}}æ¡ç€çƒæ†ï¼Œå¦ä¸€åªæ‰‹ç©ºç€ã€‚è¯¥ç…§ç‰‡å›¾åƒé£æ ¼ä¸º{{style}}ã€‚

<span class="hljs-comment"># åŠ¨ç‰©å½¢è±¡æè¿°</span>
{{description}}

<span class="hljs-comment"># ç‹¬ç‰¹å¤–è²Œç‰¹å¾</span>
{{details}}

<span class="hljs-comment"># æ³¨æ„</span>
- ç…§ç‰‡ä¸­åº”å¼ºåŒ–åŠ¨ç‰©ç‹¬ç‰¹çš„å¤–è²Œç‰¹å¾ï¼Œä»¥å¢åŠ è¾¨è¯†åº¦
- å¦‚æœçƒå‘˜ä½ç½®æ˜¯å®ˆé—¨å‘˜ï¼Œç”»é¢ä¸­åº”è¯¥æœ‰å†°çƒçƒé—¨
</code></pre>
<ul>
<li>åå‘æç¤ºè¯ï¼šæ’é™¤ä¸è‰¯æˆ–æ— å…³å…ƒç´ </li>
</ul>

<pre><code class="hljs">çƒå‘˜åŒæ‰‹å„æ¡ä¸€æ ¹çƒæ†
çƒå‘˜æœªä½©æˆ´å¤´ç›”
çƒå‘˜åƒä¸œè¥¿
ç”»é¢ä¸­å‡ºç°é™¤äº†å†°çƒä¹‹å¤–çš„å…¶ä»–çƒç±»
åœ°ç‚¹ä¸åœ¨å†°çƒèµ›åœº
çƒå‘˜å››è¶³ç«™ç«‹
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š</p>
<ul>
<li><code>data</code>ï¼šç”Ÿæˆå›¾åƒçš„äºŒè¿›åˆ¶æ•°æ®æˆ–URL</li>
<li><code>msg</code>ï¼šçŠ¶æ€ä¿¡æ¯</li>
</ul>
<hr/>
<h3 data-id="heading-11">å…­ã€ç»“æŸèŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå·¥ä½œæµçš„æœ€ç»ˆèŠ‚ç‚¹ï¼Œè¿”å›å·¥ä½œæµè¿è¡Œåçš„ç»“æœä¿¡æ¯ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/313572efb6f2415ca6c38b880592ca13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Y4q6zvTBRzDTvoUFzjtbdy%2FEKyw%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å‡ºå˜é‡</strong>ï¼šè¿æ¥<strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong></p>
<ul>
<li><code>output</code>ï¼šæœ€ç»ˆç»“æœï¼Œå˜é‡å€¼ä¸º<strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong>ä¸­çš„<code>data</code></li>
</ul>
<p><strong>å›ç­”å†…å®¹</strong>ï¼šç¼–è¾‘æ™ºèƒ½ä½“å›å¤çš„å†…å®¹ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ä¿®æ”¹ç›´æ¥è¾“å‡ºå›¾ç‰‡ï¼ˆä¸éœ€è¦æµå¼è¾“å‡ºï¼‰</p>
<pre><code class="hljs language-lua" lang="lua">{{<span class="hljs-built_in">output</span>}}
</code></pre>
<blockquote>
<p><strong>æµå¼è¾“å‡º</strong>ï¼šå›å¤å†…å®¹ä¸­çš„å¤§è¯­è¨€æ¨¡å‹çš„ç”Ÿæˆå†…å®¹å°†ä¼šé€å­—æµå¼è¾“å‡ºï¼›å…³é—­åï¼Œå›å¤å†…å®¹å°†å…¨éƒ¨ç”Ÿæˆåä¸€æ¬¡æ€§è¾“å‡º</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">æµ‹è¯•ï¼š</h3>
<p>åœ¨è¿æ¥å¥½å·¥ä½œæµåï¼Œæˆ‘ä»¬å½“ç„¶éœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œä»¥ä¿è¯èŠ‚ç‚¹ä¸­æ²¡æœ‰å‘ç”Ÿé”™è¯¯</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cd4b8787c1f47c8a29f41843d9bab89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=crJiIUw%2F2Itw59Nn127M%2B8hR3dc%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<h3 data-id="heading-13">åè¯ï¼š</h3>
<p>å½“ç„¶ï¼Œåœ¨ä½ æµ‹è¯•æ— è¯¯ä¹‹åï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„å‘å¸ƒæ¥å‘åˆ«äººåˆ†äº«ä½ ç¬¬ä¸€æ¬¡åˆ›ä½œçš„å·¥ä½œæµã€‚</p>
<p>å‘å¸ƒä¹‹åï¼Œåœ¨ä½ èµ„æºåº“ä¸­çš„å·¥ä½œæµä¸­å°±èƒ½æ‰¾åˆ°ä½ æ‰€å‘å¸ƒçš„èµ„æºäº†ã€‚</p>
<h2 data-id="heading-14">ğŸ’» å‰ç«¯å®ç°è¯¦è§£ï¼ˆVue3 + JavaScriptï¼‰</h2>
<h3 data-id="heading-15">ä¸€ã€ <code>&lt;template&gt;</code> â€”â€” è§†è§‰å±‚å¸ƒå±€</h3>
<p>é¦–å…ˆæˆ‘ä»¬ç¡®å®šç»„ä»¶çš„ä¸»è¦åŠŸèƒ½ä¸º---ç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶æ ¹æ®ä¸åŒçš„å‚æ•°ï¼ˆå¦‚é˜Ÿæœç¼–å·ã€é¢œè‰²ç­‰ï¼‰è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬çš„UIå¸ƒå±€ï¼ŒåŒ…æ‹¬ä¸¤å—åŒºåŸŸï¼šè¾“å…¥åŒºåŸŸï¼ˆç”¨äºä¸Šä¼ å›¾ç‰‡å’Œé€‰æ‹©å‚æ•°ï¼‰å’Œ è¾“å‡ºåŒºåŸŸï¼ˆå±•ç¤ºç”Ÿæˆçš„ç»“æœï¼‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¾“å…¥åŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"file-input"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"uploadImage"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"updateImageData"</span> <span class="hljs-attr">required</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgPreview"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgPreview"</span> /&gt;</span>
      <span class="hljs-comment">&lt;!-- ç”¨æˆ·é€‰æ‹©å‚æ•°åŒºåŸŸ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"settings"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœç¼–å·ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_number"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœé¢œè‰²ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_color"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"çº¢"</span>&gt;</span>çº¢<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"è“"</span>&gt;</span>è“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç»¿"</span>&gt;</span>ç»¿<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç™½"</span>&gt;</span>ç™½<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"é»‘"</span>&gt;</span>é»‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"settings"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"position"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span>å®ˆé—¨å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span>å…ˆé”‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"2"</span>&gt;</span>åå«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŒæ†ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"shooting_hand"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span>å·¦æ‰‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span>å³æ‰‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é£æ ¼ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"style"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"å†™å®"</span>&gt;</span>å†™å®<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ä¹é«˜"</span>&gt;</span>ä¹é«˜<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"å›½æ¼«"</span>&gt;</span>å›½æ¼«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ—¥æ¼«"</span>&gt;</span>æ—¥æ¼«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ²¹ç”»"</span>&gt;</span>æ²¹ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ¶‚é¸¦"</span>&gt;</span>æ¶‚é¸¦<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç´ æ"</span>&gt;</span>ç´ æ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"generate"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"generate"</span>&gt;</span>ç”Ÿæˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¾“å‡ºåŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"output"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"generated"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgUrl"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgUrl"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"status"</span>&gt;</span>{{ status }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-16">1ã€è¾“å…¥éƒ¨åˆ†ï¼ˆ<code>input</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"uploadImage"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"updateImageData"</span> <span class="hljs-attr">required</span> /&gt;</span>
</code></pre>
<p>è¿™æ®µä»£ç å®ç°äº† <strong>è®©ç”¨æˆ·é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¹¶ä¸”è§¦å‘é¢„è§ˆæ›´æ–°</strong></p>
<ul>
<li><code>type="file"</code>ï¼šå£°æ˜è¿™æ˜¯ä¸€ä¸ª<strong>æ–‡ä»¶ä¸Šä¼ æ§ä»¶</strong>ï¼Œç‚¹å‡»åä¼šå¼¹å‡ºç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ã€‚</li>
<li><code>accept="image/*"</code>ï¼š<strong>é™åˆ¶ç”¨æˆ·åªèƒ½é€‰æ‹©å›¾ç‰‡æ–‡ä»¶</strong>ï¼Œé˜²æ­¢æ— æ•ˆè¾“å…¥ã€‚Â </li>
<li><code>@change="updateImageData"</code>ï¼šå½“ç”¨æˆ·<strong>é€‰ä¸­ä¸€å¼ å›¾ç‰‡å</strong>ï¼Œä¼šç«‹å³è§¦å‘Â updateImageDataÂ æ–¹æ³•ï¼ˆç”¨äºå°†å›¾ç‰‡æ–‡ä»¶è½¬æ¢ä¸ºå¯ä»¥ç›´æ¥é¢„è§ˆçš„ URLï¼‰</li>
<li><code>ref="uploadImage"</code>ï¼šä¸ºè¿™ä¸ª input å…ƒç´ æ³¨å†Œä¸€ä¸ªÂ <strong>å¼•ç”¨æ ‡è¯†</strong>ï¼Œæ–¹ä¾¿åœ¨ <code>&lt;script setup&gt;</code> ä¸­é€šè¿‡å£°æ˜ä¸€ä¸ªç›¸åŒåç§°çš„ ref å˜é‡ æ¥ç›´æ¥è®¿é—®è¯¥ DOM å…ƒç´ ã€‚</li>
<li><code>required</code>ï¼š è¡¨ç¤ºè¯¥å­—æ®µæ˜¯<strong>å¿…å¡«é¡¹</strong>ã€‚</li>
</ul>
<blockquote>
<h5 data-id="heading-17">å¯¹æ¯” <code>ref</code> å’Œ <code>v-model</code>:</h5>
<ul>
<li><code>v-model</code>ï¼šåŒæ­¥â€œæ•°æ®å€¼â€ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨æ›´æ–°ï¼ˆ<strong>å…³å¿ƒçš„æ˜¯â€œå€¼â€æœ¬èº«</strong>ï¼‰</li>
<li><code>ref</code>ï¼šè·å–â€œDOMå…ƒç´ â€ï¼Œè€Œä¸”éœ€è¦æ‰‹åŠ¨æ›´æ–°ï¼ˆ<strong>éœ€è¦è®¿é—® DOM çš„åŸç”Ÿèƒ½åŠ›</strong>ï¼‰</li>
</ul>
<p>âš ï¸å¹¶ä¸”åœ¨ <strong><code>&lt;input type="file"&gt;</code>ä¸­Â æ— æ³•ä½¿ç”¨Â <code>v-model</code></strong>ï¼</p>
<p>å› ä¸ºæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸å…è®¸ JSÂ <strong>è®¾ç½®</strong>Â file input çš„å€¼ï¼Œåªèƒ½<strong>è¯»å–</strong>ã€‚æ‰€ä»¥å¿…é¡»ç”¨Â <code>ref</code>Â æ¥è¯»å–ç”¨æˆ·é€‰ä¸­çš„æ–‡ä»¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgPreview"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgPreview"</span> /&gt;</span>
</code></pre>
<p>åœ¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åï¼Œéœ€è¦åŠæ—¶ç»™äºˆ<strong>ç”¨æˆ·åé¦ˆ</strong>ï¼ˆè®©ç”¨æˆ·çŸ¥é“è‡ªå·±è¡Œä¸ºé©±åŠ¨äº†é¡µé¢ï¼Œè€Œä¸æ˜¯æ¯«æ— ä½œç”¨ï¼‰ï¼Œæ‰€ä»¥éœ€è¦å±•ç¤ºé¢„è§ˆå›¾ï¼Œè®©ç”¨æˆ·çŸ¥é“ä¸Šä¼ å›¾ç‰‡æˆåŠŸäº†ã€‚</p>
<ul>
<li><code>:src="imgPreview"</code>ï¼šåŠ¨æ€ç»‘å®šå“åº”å¼å˜é‡ imgPreviewï¼Œç”¨äºè‡ªåŠ¨æ›´æ–°å›¾ç‰‡ã€‚</li>
<li><code>v-if="imgPreview"</code>ï¼šæ¡ä»¶æ¸²æŸ“ï¼Œåªæœ‰å½“ç”¨æˆ·æˆåŠŸä¸Šä¼ åæ‰èƒ½æ¸²æŸ“<code>&lt;img&gt;</code>å…ƒç´ ï¼Œé¿å…æœªä¸Šä¼ æ—¶æ˜¾ç¤ºç©ºç™½å ä½å›¾ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-18">2ã€ç”¨æˆ·é€‰æ‹©å‚æ•°éƒ¨åˆ†ï¼ˆ<code>settings</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœé¢œè‰²ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_color"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"çº¢"</span>&gt;</span>çº¢<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å“åº”å¼çš„é€‰æ‹©å™¨</strong>ï¼Œä»¥ä¾¿äºç”¨æˆ·é€‰æ‹©å‚æ•°</p>
<ul>
<li><code>&lt;label&gt;é˜Ÿæœé¢œè‰²ï¼š&lt;/label&gt;</code>ï¼šæä¾›æ–‡å­—è¯´æ˜ï¼Œå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªä¸‹æ‹‰æ¡†çš„ä½œç”¨</li>
<li><code>&lt;select&gt;</code>ï¼šHTML çš„ä¸‹æ‹‰é€‰æ‹©æ§ä»¶</li>
<li><code>v-model="uniform_color"</code>ï¼š<strong>åŒå‘ç»‘å®š</strong> uniform_color ç”¨äºåŒæ­¥ç”¨æˆ·é€‰æ‹©æ•°æ®</li>
<li><code>&lt;option value="çº¢"&gt;çº¢&lt;/option&gt;</code>ï¼šæ¯ä¸ªÂ <code>&lt;option&gt;</code>Â ä»£è¡¨ä¸€ä¸ªå¯é€‰é¡¹ï¼Œè¯¥é€‰é¡¹è¢«é€‰ä¸­æ—¶ï¼Œèµ‹ç»™Â uniform_colorÂ çš„<strong>å®é™…å€¼</strong>å°±ä¸ºçº¢</li>
</ul>
<hr/>
<h4 data-id="heading-19">3ã€è¾“å‡ºéƒ¨åˆ†ï¼ˆ<code>output</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgUrl"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgUrl"</span>&gt;</span>
</code></pre>
<p>åŒä¸Šï¼Œç»‘å®šçš„å“åº”å¼å˜é‡ imgUrl ç”¨äºè¿”è¿˜ Coze å·¥ä½œæµç”Ÿæˆåçš„å›¾ç‰‡</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"status"</span>&gt;</span>{{ status }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>æ˜¾ç¤ºå½“å‰æ“ä½œçš„çŠ¶æ€æç¤ºä¿¡æ¯</strong>ï¼Œä¸ºç”¨æˆ·æä¾›åŠæ—¶çš„åé¦ˆ</p>
<ul>
<li><code>v-if="status"</code>ï¼šåªæœ‰å½“Â statusÂ æœ‰å†…å®¹æ—¶æ‰æ¸²æŸ“</li>
<li><code>{{ status }}</code>ï¼šå°†Â statusÂ çš„æ–‡æœ¬å†…å®¹æ’å…¥åˆ°é¡µé¢ä¸­</li>
</ul>
<hr/>
<h3 data-id="heading-20">äºŒã€<code>&lt;script setup&gt;</code> â€”â€” ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ</h3>
<p>åŸºäºä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘ä»¬çš„å¼€å‘æµç¨‹æ€»ä½“ä¸ºï¼š<strong>å®šä¹‰å“åº”å¼çŠ¶æ€ï¼ˆæ•°æ®å±‚ï¼‰</strong> --&gt; <strong>å®ç°å›¾ç‰‡é¢„è§ˆï¼ˆæœ¬åœ°äº¤äº’ï¼‰</strong> --&gt; <strong>å®ç°æ–‡ä»¶ä¸Šä¼ åˆ° Cozeï¼ˆå‰ç½®ä¾èµ–ï¼‰</strong> --&gt; <strong>è°ƒç”¨å·¥ä½œæµç”Ÿæˆå›¾åƒï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰</strong> --&gt; <strong>ç¯å¢ƒå˜é‡ä¸ API é…ç½®ï¼ˆæ”¯æ’‘ä¿¡æ¯ï¼‰</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// --------------- å®šä¹‰å“åº”å¼çŠ¶æ€ -------------------</span>
<span class="hljs-keyword">const</span> uniform_number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> uniform_color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'çº¢'</span>);
<span class="hljs-keyword">const</span> position = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> shooting_hand = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> style = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'å†™å®'</span>)
<span class="hljs-comment">// æ•°æ®çŠ¶æ€</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);     <span class="hljs-comment">// åé¦ˆç”¨æˆ·å½“å‰æ“ä½œçŠ¶æ€ï¼ˆç©º / ä¸Šä¼ ä¸­ / ç”Ÿæˆä¸­ / é”™è¯¯ï¼‰</span>
<span class="hljs-keyword">const</span> imgUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);     <span class="hljs-comment">// ç”¨äºå­˜å‚¨æœ€ç»ˆç”Ÿæˆçš„å›¾ç‰‡ URL</span>
<span class="hljs-keyword">const</span> imgPreview = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç”¨äºæœ¬åœ°é¢„è§ˆç”¨æˆ·ä¸Šä¼ çš„åŸå›¾</span>

<span class="hljs-comment">// --------------- å›¾ç‰‡é¢„è§ˆæ¨¡å— -------------------</span>
<span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(file);
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}


<span class="hljs-comment">// --------------- å¤§å‚å¸¸ç”¨ä¸šåŠ¡è¯·æ±‚ ----------------</span>
<span class="hljs-keyword">const</span> patToken = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_PAT_TOKEN</span>;
<span class="hljs-keyword">const</span> uploadUrl = <span class="hljs-string">'https://api.coze.cn/v1/files/upload'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadFile</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(); 
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(uploadUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>
    },
    <span class="hljs-attr">body</span>: formData
  })

  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ret);

  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
}

<span class="hljs-comment">// --------------- ç”Ÿæˆå›¾ç‰‡æ¨¡å— -------------------</span>
<span class="hljs-keyword">const</span> workflowUrl = <span class="hljs-string">'https://api.coze.cn/v1/workflow/run'</span>;
<span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'XXXXXXX'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">generate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ ä¸­..."</span>
  <span class="hljs-keyword">const</span> file_id = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadFile</span>();
  <span class="hljs-keyword">if</span> (!file_id) <span class="hljs-keyword">return</span>;
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨ç”Ÿæˆ..."</span>;

<span class="hljs-comment">// workflow è°ƒç”¨ </span>
  <span class="hljs-keyword">const</span> parameters = {
    <span class="hljs-attr">picture</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      file_id
    }),
    <span class="hljs-attr">style</span>: style.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_color</span>: uniform_color.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_number</span>: uniform_number.<span class="hljs-property">value</span>,
    <span class="hljs-attr">position</span>: position.<span class="hljs-property">value</span>,
    <span class="hljs-attr">shooting_hand</span>: shooting_hand.<span class="hljs-property">value</span>,
  }

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(workflowUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>,
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      workflow_id,
      parameters
    })
  });
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-21">1ã€å®šä¹‰å“åº”å¼çŠ¶æ€ï¼ˆæ•°æ®å±‚ï¼‰:</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©å‚æ•°ï¼Œå¹¶ä¸”è®¾å®šåˆå§‹å€¼</span>
<span class="hljs-keyword">const</span> uniform_number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> uniform_color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'çº¢'</span>);
<span class="hljs-keyword">const</span> position = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> shooting_hand = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> style = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'å†™å®'</span>)

<span class="hljs-comment">// æ•°æ®çŠ¶æ€</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç©º -&gt; ä¸Šä¼ ä¸­ -&gt; ç”Ÿæˆä¸­ -&gt; ç”ŸæˆæˆåŠŸ</span>
<span class="hljs-keyword">const</span> imgUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç”Ÿæˆå›¾ç‰‡url</span>
</code></pre>
<hr/>
<h4 data-id="heading-22">2ã€å›¾ç‰‡é¢„è§ˆåŠŸèƒ½ï¼ˆæœ¬åœ°äº¤äº’ï¼‰:</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-comment">// console.log(file);</span>
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}
</code></pre>
<h5 data-id="heading-23">å®šä¹‰å“åº”å¼å¼•ç”¨</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
</code></pre>
<p>æ ‡è®°æ¨¡æ¿ä¸­çš„ <code>&lt;input type="file"&gt;</code>å…ƒç´ ï¼ŒæœªæŒ‚è½½å‰ä¸º nullï¼Œä¾¿äºè®¿é—®è¯¥DOMå…ƒç´ </p>
<h5 data-id="heading-24">ç”Ÿå‘½å‘¨æœŸé’©å­ï¼šç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œçš„æ“ä½œ</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// null -&gt; DOMå¯¹è±¡ ï¼ˆå˜åŒ–ï¼‰</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
</code></pre>
<p>è¾“å‡ºÂ uploadImage.valueÂ åˆ°æ§åˆ¶å°ï¼Œä¾¿äºæ£€æŸ¥æ­¤æ—¶æ˜¯å¦å·²ç»æ­£ç¡®ç»‘å®šäº†Â <code>&lt;input&gt;</code>Â å…ƒç´ ã€‚å¦‚æœç»‘å®šæˆåŠŸï¼ŒuploadImage.valueÂ å°±æŒ‡å‘ä¸Šé¢çš„Â <code>&lt;input&gt;</code>Â å…ƒç´ ã€‚</p>
<h5 data-id="heading-25">æ›´æ–°å›¾ç‰‡æ•°æ®æ–¹æ³•</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©æ–‡ä»¶åè°ƒç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-comment">// console.log(uploadImage.value.files); </span>
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-comment">// console.log(file);</span>
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}
</code></pre>
<ul>
<li><code>if (!input.files || input.files.length === 0) return;</code>ï¼šåˆ¤æ–­ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ä¸­æ˜¯å¦è‡³å°‘åŒ…å«ä¸€ä¸ªæ–‡ä»¶</li>
<li><code>const file = input.files[0];</code>ï¼šå–å‡ºç”¨æˆ·ä¸Šä¼ çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼ˆå› ä¸ºä¸çŸ¥é“ç”¨æˆ·ä¼šä¸Šä¼ å¤šå°‘æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å•æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªï¼‰</li>
<li><code>reader.readAsDataURL(file);</code>ï¼šç”¨æ–°åˆ›å»ºçš„ FileReader å®ä¾‹ä¸Šçš„ readAsDataURL æ–¹æ³•å°†æ–‡ä»¶<strong>è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²</strong>ï¼ˆè¿™ç§æ ¼å¼å¯ä»¥ç›´æ¥ä½œä¸ºå›¾åƒçš„URLä½¿ç”¨ï¼‰</li>
<li><code>reader.onload = (e) =&gt; {    imgPreview.value = e.target.result; }</code>ï¼šonload æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ï¼ˆå›è°ƒå‡½æ•°ï¼‰ï¼Œä¼šè‡ªåŠ¨è§¦å‘ load äº‹ä»¶ï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯<code>äº‹ä»¶å¯¹è±¡ e</code>ï¼Œè€Œ<code>e.target</code>æŒ‡çš„æ˜¯è§¦å‘è¯¥äº‹ä»¶çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯readerï¼‰ï¼Œ<code>e.target.result</code>å°±æ˜¯è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”èµ‹å€¼ç»™æœ¬åœ°é¢„è§ˆçš„å“åº”å¼æ•°æ® imgPreviewï¼Œè¿™æ ·é¡µé¢ä¸Šå°±ä¼šè‡ªåŠ¨æ›´æ–°</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<strong>æ–‡ä»¶è¯»å–æ˜¯å¼‚æ­¥çš„</strong>ï¼Œä¸èƒ½ç›´æ¥å†™Â <code>let result = reader.readAsDataURL(file)</code>ï¼Œå¿…é¡»ç”¨å›è°ƒæˆ– Promiseã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f2a7f836d474508a2d4f47aa47e8e4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=uPl1F7WGs8mOwFXVakjSo%2FPR%2Bl8%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-26">3ã€æ–‡ä»¶ä¸Šä¼ è‡³ Coze äº‘æœåŠ¡ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> patToken = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_PAT_TOKEN</span>;
<span class="hljs-keyword">const</span> uploadUrl = <span class="hljs-string">'https://api.coze.cn/v1/files/upload'</span>;
<span class="hljs-comment">// å…ˆä¸Šä¼ åˆ°cozeæœåŠ¡å™¨ </span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadFile</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©ºè¡¨å•ç”¨äºæäº¤æ•°æ®</span>
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(); <span class="hljs-comment">// FormDataä¸“é—¨ç”¨äºæ„å»ºform-dataæ ¼å¼æ•°æ®çš„å¯¹è±¡ï¼Œå¸¸ç”¨äºä¼ è¾“æ–‡ä»¶</span>
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);

  <span class="hljs-comment">// å‘ coze å‘é€httpè¯·æ±‚ ä¸Šä¼ </span>
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(uploadUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, 
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>
    },
    <span class="hljs-attr">body</span>: formData
  })

  <span class="hljs-comment">// ç­‰å¾…è¿”è¿˜å†…å®¹ï¼ˆå¼‚æ­¥ï¼‰ï¼Œå¹¶è½¬æ¢ä¸ºjsonæ ¼å¼</span>
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-comment">// console.log(ret);</span>

  <span class="hljs-comment">// é”™è¯¯åˆ¤æ–­</span>
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
}
</code></pre>
<ul>
<li><code>const patToken = import.meta.env.VITE_PAT_TOKEN;</code>ï¼šè·å–è®¤è¯ä»¤ç‰Œï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º<code>.env</code>æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ”¾ç½®ä½ çš„ç§æœ‰è®¿é—®ä»¤ç‰Œã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c31a1d3ca7d54cd78c2f3a8e478d70d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=BlC8TlnD3eCLqJVyyBQzp9Ij7aI%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>const uploadUrl = 'https://api.coze.cn/v1/files/upload';</code>ï¼šCoze å®˜æ–¹æä¾›çš„<strong>æ–‡ä»¶ä¸Šä¼  API åœ°å€</strong>ã€‚</li>
<li><code>formData.append('file', input.files[0]);</code>ï¼šå°†ç”¨æˆ·é€‰ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶é™„åŠ åˆ°è¡¨å•å­—æ®µåä¸ºÂ <code>file</code>Â çš„å­—æ®µä¸Š</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šCoze API è¦æ±‚å­—æ®µåå¿…é¡»æ˜¯Â <code>'file'</code>ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
</blockquote>
<ul>
<li><code>const res = await fetch(uploadUrl, {...})</code>ï¼šå‘ Coze ä¸Šä¼ æ–‡ä»¶</li>
</ul>
<h5 data-id="heading-27">å“åº”ç»“æ„ï¼ˆCoze API è§„èŒƒï¼‰ï¼š</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();

  <span class="hljs-comment">// é”™è¯¯åˆ¤æ–­</span>
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
</code></pre>
<p>Coze çš„ API é€šå¸¸è¿”å›å¦‚ä¸‹ JSON ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"file-abc123xyz"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// â† æˆ‘ä»¬éœ€è¦çš„ file_id</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cat.jpg"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123456</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><code>ret.code !== 0</code>ï¼šåˆ¤æ–­æ˜¯å¦å‡ºé”™ï¼ˆ<code>code === 0</code>Â è¡¨ç¤ºæˆåŠŸï¼‰ã€‚</li>
<li><code>status.value = ret.msg</code>ï¼šå°†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</li>
<li><code>return ret.data.id</code>ï¼šæˆåŠŸæ—¶è¿”å›Â <code>file_id</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œä¾›åç»­å·¥ä½œæµè°ƒç”¨ä½¿ç”¨ã€‚</li>
</ul>
<blockquote>
<p>æ³¨ï¼š è¿™ä¸ªÂ <code>file_id</code>Â æ˜¯ Coze ç³»ç»Ÿå†…éƒ¨å¯¹æ–‡ä»¶çš„å”¯ä¸€å¼•ç”¨ï¼Œåç»­åœ¨è°ƒç”¨å·¥ä½œæµæ—¶ï¼Œåªéœ€ä¼ é€’è¿™ä¸ª IDï¼Œæ— éœ€å†ä¼ æ•´ä¸ªæ–‡ä»¶ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-28">4ã€è§¦å‘ Coze å·¥ä½œæµç”Ÿæˆå›¾åƒï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> workflowUrl = <span class="hljs-string">'https://api.coze.cn/v1/workflow/run'</span>;
<span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'XXXXXXX'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">generate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ ä¸­..."</span>
  <span class="hljs-keyword">const</span> file_id = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadFile</span>();
  <span class="hljs-keyword">if</span> (!file_id) <span class="hljs-keyword">return</span>;
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨ç”Ÿæˆ..."</span>;

<span class="hljs-comment">// workflow è°ƒç”¨ </span>
  <span class="hljs-keyword">const</span> parameters = {
    <span class="hljs-attr">picture</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      file_id
    }),
    <span class="hljs-attr">style</span>: style.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_color</span>: uniform_color.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_number</span>: uniform_number.<span class="hljs-property">value</span>,
    <span class="hljs-attr">position</span>: position.<span class="hljs-property">value</span>,
    <span class="hljs-attr">shooting_hand</span>: shooting_hand.<span class="hljs-property">value</span>,
  }

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(workflowUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>,
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      workflow_id,
      parameters
    })
  });
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
}
</code></pre>
<ul>
<li><code>const workflowUrl = 'https://api.coze.cn/v1/workflow/run';</code>ï¼šCoze å®˜æ–¹æä¾›çš„Â <strong>å·¥ä½œæµæ‰§è¡Œ API åœ°å€</strong></li>
<li><code>const workflow_id = 'XXXXXXX';</code>ï¼šä½ åœ¨ Coze æ§åˆ¶å°åˆ›å»ºçš„å·¥ä½œæµçš„å”¯ä¸€ IDï¼ˆåœ¨ Coze Bot æˆ– Workflow ç¼–æ’ç•Œé¢å¯æ‰¾åˆ°ï¼‰</li>
<li><code>const file_id = await uploadFile();</code>ï¼šå–åˆ°è¿”å›çš„Â file_id</li>
</ul>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå…ˆä¸Šä¼ ï¼Ÿ</strong><br/>
Coze çš„å·¥ä½œæµæ— æ³•ç›´æ¥å¤„ç†å‰ç«¯çš„æœ¬åœ°æ–‡ä»¶æˆ– Base64ï¼Œå¿…é¡»ä½¿ç”¨ä¹‹å‰é€šè¿‡æ¥å£ä¸Šä¼ åè¿”å›çš„Â <code>file_id</code>ã€‚</p>
</blockquote>
<h5 data-id="heading-29">è§£ææœ€ç»ˆå›¾ç‰‡ URL</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
</code></pre>
<p><strong>â— ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ¬¡Â <code>JSON.parse</code>ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ Coze å·¥ä½œæµ API çš„<strong>ç‰¹æ®Šè®¾è®¡</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€å±‚Â <code>ret.data</code>Â æ˜¯ä¸€ä¸ªÂ <strong>JSON å­—ç¬¦ä¸²</strong>ï¼ˆä¸æ˜¯å¯¹è±¡ï¼ï¼‰
<pre><code class="hljs language-js" lang="js">ret.<span class="hljs-property">data</span> === <span class="hljs-string">'{"data":"https://cdn.coze.com/generated.jpg"}'</span>
</code></pre>
</li>
<li>æ‰€ä»¥å¿…é¡»ç”¨Â <code>JSON.parse(ret.data)</code>Â å¾—åˆ°çœŸæ­£çš„å¯¹è±¡ï¼š
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = { <span class="hljs-attr">data</span>: <span class="hljs-string">"https://cdn.coze.com/generated.jpg"</span> };
</code></pre>
</li>
</ul>
<p>æœ€ç»ˆå›¾ç‰‡ URL åœ¨Â <code>data.data</code>Â ä¸­ã€‚</p>
<blockquote>
<p>ğŸ“Œ è¿™æ˜¯å› ä¸º Coze å·¥ä½œæµçš„è¾“å‡ºé€šå¸¸è¢«å°è£…ä¸ºå­—ç¬¦ä¸²ï¼Œç¡®ä¿å…¼å®¹æ€§</p>
</blockquote>
<hr/>
<h3 data-id="heading-30">ä¸‰ã€CSS æ ·å¼ä¼˜åŒ–</h3>
<pre><code class="hljs language-css" lang="css">    <span class="hljs-selector-class">.container</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-direction</span>: row;
      <span class="hljs-attribute">align-items</span>: start;
      <span class="hljs-attribute">justify-content</span>: start;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
      <span class="hljs-attribute">font-size</span>: .<span class="hljs-number">85rem</span>;
    }

    <span class="hljs-selector-class">.input</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-direction</span>: column;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-number">330px</span>;
    }

    <span class="hljs-selector-class">.output</span> {
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">min-height</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">text-align</span>: left;
    }

    <span class="hljs-selector-class">.generated</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
      <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> black;
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">align-items</span>: center;
    }

    <span class="hljs-selector-class">.output</span> <span class="hljs-selector-tag">img</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    }
</code></pre>
<hr/>
<p>æ•ˆæœæ¼”ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f46b5c39435b435da095d3c354f715a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=HmA9yxV2d3l4hXlQKZScR2jwRK4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">ğŸ“š å­¦ä¹ èµ„æºæ¨è</h2>

























<table><thead><tr><th>ç±»åˆ«</th><th>æ¨èå†…å®¹</th></tr></thead><tbody><tr><td>Vue3</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue å®˜æ–¹æ–‡æ¡£</a></td></tr><tr><td>Coze</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcoze.com%2Fdocs" target="_blank" title="https://coze.com/docs" ref="nofollow noopener noreferrer">Coze å¼€å‘è€…ä¸­å¿ƒ</a></td></tr><tr><td>REST API</td><td>MDN Fetch API æ–‡æ¡£</td></tr><tr><td>å‰ç«¯å·¥ç¨‹åŒ–</td><td>Viteã€Webpackã€JavaScript</td></tr></tbody></table>
<h2 data-id="heading-32">ğŸ“ æœ€å</h2>
<p>è¿™ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ªç®€å•çš„â€œAIå›¾åƒç”Ÿæˆå™¨â€ï¼Œæ›´æ˜¯ç°ä»£ Web å¼€å‘çš„ä¸€ä¸ªç¼©å½±ï¼š<strong>å‰ç«¯è´Ÿè´£äº¤äº’ä¸ä½“éªŒï¼ŒAI æä¾›æ™ºèƒ½èƒ½åŠ›ï¼ŒAPI è¿æ¥ä¸¤è€…</strong>ğŸ˜Šï¼Œè¿™ä¹Ÿæ˜¯å½“ä¸‹çš„è¶‹åŠ¿ï¼š<strong>æ— ä»£ç /ä½ä»£ç  + å¯è§†åŒ– AI ç¼–æ’ + å‰ç«¯é›†æˆ</strong></p>
<h3 data-id="heading-33">AI åŸç”Ÿåº”ç”¨ã€çš„å´›èµ·</h3>
<ul>
<li>
<p>ä¼ ç»Ÿ AI å¼€å‘ï¼šéœ€è¦ç®—æ³•å·¥ç¨‹å¸ˆ + åç«¯ + å‰ç«¯ï¼Œå‘¨æœŸé•¿ã€æˆæœ¬é«˜ã€‚</p>
</li>
<li>
<p>æ–°èŒƒå¼ï¼ˆCoze ä»£è¡¨ï¼‰ï¼š</p>
<ul>
<li><strong>ä¸šåŠ¡äººå‘˜/å‰ç«¯å¼€å‘è€…</strong>Â é€šè¿‡æ‹–æ‹½å·¥ä½œæµï¼Œç»„åˆå¤§æ¨¡å‹ã€æ’ä»¶ã€çŸ¥è¯†åº“ï¼›</li>
<li><strong>å‰ç«¯ç›´æ¥è°ƒç”¨å·¥ä½œæµ API</strong>ï¼Œåƒè°ƒç”¨æ™®é€šæ¥å£ä¸€æ ·è·å– AI ç»“æœï¼›</li>
<li><strong>æ— éœ€ç»´æŠ¤åç«¯æœåŠ¡</strong>ï¼ŒCoze æ‰˜ç®¡æ‰§è¡Œç¯å¢ƒã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿™å°±æ˜¯Â  <strong>â€œAI as a Serviceâ€ï¼ˆAI å³æœåŠ¡ï¼‰</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ]]></title>    <link>https://juejin.cn/post/7592432859862745122</link>    <guid>https://juejin.cn/post/7592432859862745122</guid>    <pubDate>2026-01-07T12:24:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862745122" data-draft-id="7592432859862728738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-07T12:24:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:24:47.000Z" title="Wed Jan 07 2026 12:24:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆMLLMsï¼‰é¢†åŸŸï¼Œæ€ç»´é“¾ï¼ˆCoTï¼‰ä¸€ç›´è¢«è§†ä¸ºæå‡æ¨ç†èƒ½åŠ›çš„æ ¸å¿ƒæŠ€æœ¯ã€‚ç„¶è€Œï¼Œé¢å¯¹å¤æ‚çš„é•¿ç¨‹ã€è§†è§‰ä¸­å¿ƒä»»åŠ¡ï¼Œè¿™ç§åŸºäºæ–‡æœ¬ç”Ÿæˆçš„æ¨ç†æ–¹å¼æ­£é¢ä¸´ç“¶é¢ˆï¼šæ–‡æœ¬éš¾ä»¥ç²¾ç¡®è¿½è¸ªè§†è§‰ä¿¡æ¯çš„å˜åŒ–ã€‚å½¢è±¡åœ°è¯´ï¼Œæ¨¡å‹ä¸çŸ¥é“è‡ªå·±æƒ³åˆ°å“ªä¸€æ­¥äº†ï¼Œå¯¹åº”å›¾åƒæ˜¯ä»€ä¹ˆçŠ¶æ€ã€‚</p>
<p>å°½ç®¡è¿‘æœŸçš„ã€ŒThinking with Imageã€èŒƒå¼å¯ä»¥é€šè¿‡å·¥å…·ç­‰å¯¹å›¾åƒè¿›è¡Œæ“ä½œï¼Œä½†å®ƒä»¬éš¾ä»¥æ‰©å±•åˆ°æ›´å¤æ‚çš„é•¿ç¨‹ä»»åŠ¡ï¼Œä¸”åœ¨å¤šè½®äº¤äº’ä¸­æœ¬èº«å¼€é”€å·¨å¤§ã€‚</p>
<p>è¿‘æ—¥ï¼Œæ¥è‡ªä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤ã€å—äº¬å¤§å­¦ã€é¦™æ¸¯ä¸­æ–‡å¤§å­¦å’Œä¸Šæµ·äº¤é€šå¤§å­¦çš„ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ç§å…¨æ–°çš„ç”Ÿæˆå¼å¤šæ¨¡æ€æ¨ç†ï¼ˆGenerative Multimodal Reasoningï¼‰èŒƒå¼ï¼Œå¹¶å‘å¸ƒäº†æ¨¡å‹Â <strong>DiffThinker</strong>ã€‚</p>
<p>DiffThinker å½»åº•æ‰“ç ´äº†ã€Œå¤šæ¨¡æ€è¾“å…¥ -&gt; æ–‡æœ¬è¾“å‡ºã€çš„ä¼ ç»Ÿå®šå¼ï¼Œå°†æ¨ç†è¿‡ç¨‹é‡æ„ä¸ºå›¾åƒåˆ°å›¾åƒï¼ˆImage-to-Imageï¼‰çš„ç”Ÿæˆä»»åŠ¡ã€‚é€šè¿‡æ‰©æ•£æ¨¡å‹ï¼ˆDiffusion Modelsï¼‰ï¼ŒDiffThinker èƒ½å¤Ÿåœ¨è§†è§‰ç©ºé—´ä¸­ç›´æ¥ç”Ÿæˆæ¨ç†è·¯å¾„ã€‚</p>
<p>å®éªŒç»“æœä»¤äººæƒŠè®¶ï¼šåœ¨åŒ…å«é•¿ç¨‹è§„åˆ’ã€ç»„åˆä¼˜åŒ–ã€çº¦æŸæ»¡è¶³ã€ç©ºé—´æ¨ç†ç­‰ 7 é¡¹è§†è§‰ä¸­å¿ƒçš„å¤æ‚ä»»åŠ¡ä¸­ï¼ŒDiffThinker çš„è¡¨ç°æ˜¾è‘—ä¼˜äºåŒ…æ‹¬Â GPT-5 (+314.2%)Â å’ŒÂ Gemini-3-Flash (+111.6%)Â åœ¨å†…çš„é¡¶å°–é—­æºæ¨¡å‹ï¼Œä»¥åŠç»è¿‡ç›¸åŒæ•°æ®å¾®è°ƒçš„ Qwen3-VL-32B åŸºçº¿ (+39.0%)ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb4417ae72074fcf9d1118ee24b6dc29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=moVIA8MMmI3d0Ue5vl%2BYD093Dpk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p><strong>è®ºæ–‡æ ‡é¢˜ï¼šDiffThinker: Towards Generative Multimodal Reasoning with Diffusion Models</strong></p>
</li>
<li>
<p><strong>è®ºæ–‡åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.24165" target="_blank" title="https://arxiv.org/abs/2512.24165" ref="nofollow noopener noreferrer">arxiv.org/abs/2512.24â€¦</a></p>
</li>
<li>
<p><strong>é¡¹ç›®ä¸»é¡µ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiffthinker-project.github.io" target="_blank" title="https://diffthinker-project.github.io" ref="nofollow noopener noreferrer">diffthinker-project.github.io</a></p>
</li>
<li>
<p><strong>ä»£ç ä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flcqysl%2FDiffThinker" target="_blank" title="https://github.com/lcqysl/DiffThinker" ref="nofollow noopener noreferrer">github.com/lcqysl/Diffâ€¦</a></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd535b274cfc4cccbea1a19e97a4ae79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=5dKPHGIMhMZyPzDrX88aBm0GS7Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-0">01 ä»ã€Œä»¥æ–‡æ€è€ƒã€åˆ°ã€Œä»¥å›¾æ€è€ƒã€</h4>
<h4 data-id="heading-1"/>
<p>ç°æœ‰çš„å¤šæ¨¡æ€å¤§æ¨¡å‹åœ¨å¤„ç†è§†è§‰æ¨ç†ä»»åŠ¡æ—¶ï¼Œéš¾ä»¥è¿½è¸ªè§†è§‰ä¿¡æ¯çš„å˜åŒ–ã€‚æ¯”å¦‚åœ¨ç©ºé—´å¯¼èˆªä»»åŠ¡ï¼ˆVSPã€Maze ç­‰ï¼‰ä¸­ï¼Œæ¨¡å‹ä»…é è¯­è¨€åˆ†æè·¯å¾„ï¼Œä½†è¾“å…¥å›¾åƒä¸å˜ï¼Œè·¯å¾„ä¸€é•¿å°±å¾ˆå®¹æ˜“ã€Œçœ‹èµ°çœ¼ã€ï¼Œä¸çŸ¥é“è‡ªå·±å·²ç»èµ°åˆ°äº†å“ªã€‚åˆæ¯”å¦‚æ‹¼å›¾ä»»åŠ¡ï¼Œæ¨¡å‹å¦‚æœä¸èƒ½ç›´æ¥å¯¹æ‹¼å›¾æ“ä½œï¼Œå¾ˆéš¾å‡­ç©ºæƒ³è±¡å‡ºç­”æ¡ˆã€‚å³ä¾¿æ˜¯æœ€æ–°çš„ã€ŒThinking with Imageã€èŒƒå¼ï¼Œä¹Ÿå¾€å¾€ä¾èµ–äºå¤šè½®å¯¹è¯å’Œå·¥å…·è°ƒç”¨ï¼Œå¯¼è‡´æ¨ç†é“¾è·¯æé•¿ï¼Œéš¾ä»¥æ‰©å±•åˆ°å¤æ‚åœºæ™¯ã€‚</p>
<p>ç ”ç©¶å›¢é˜Ÿè¿˜åœ¨é¡¹ç›®ä¸»é¡µæä¾›äº†å‡ ä¸ªå°æ¸¸æˆï¼Œä»¥ç›´è§‚ç†è§£äººä¸ MLLM çš„æ€ç»´èŒƒå¼å·®å¼‚ã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸èƒ½è®©æ¨¡å‹ç›´æ¥ã€Œçœ‹ã€ç€é—®é¢˜ï¼ŒæŠŠç­”æ¡ˆã€Œç”»ã€å‡ºæ¥ï¼Ÿ</p>
<p>DiffThinker æå‡ºçš„æ ¸å¿ƒç†å¿µæ­£æ˜¯å¦‚æ­¤ã€‚ç ”ç©¶å›¢é˜Ÿè®¤ä¸ºï¼Œå¤šæ¨¡æ€æ¨ç†ä¸åº”å±€é™äºç¬¦å·ç©ºé—´ï¼Œè€Œåº”å›å½’è§†è§‰ç©ºé—´ï¼Œåˆ©ç”¨æ‰©æ•£æ¨¡å‹ç›´æ¥ç”Ÿæˆç­”æ¡ˆã€‚å…·ä½“æ¥è¯´ï¼ŒDiffThinker åŸºäº Qwen-Image-Editï¼Œé…åˆ Flow Matching è®­ç»ƒç›´æ¥ç”¨å›¾åƒç”Ÿäº§ç­”æ¡ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f5d457b9c674fb888bf9a3ab8e832a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=jtMLT1k%2BniBDQtRVjCg4mIKZHVk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-2">02 DiffThinker çš„å››å¤§æ ¸å¿ƒç‰¹æ€§</h4>
<h4 data-id="heading-3"/>
<p>ä½œä¸ºå…¨æ–°çš„ç”Ÿæˆå¼æ¨ç†èŒƒå¼ï¼ŒDiffThinker å±•ç°å‡ºäº†ä¼ ç»Ÿ MLLM éš¾ä»¥ä¼åŠçš„å››å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>é«˜æ•ˆæ¨ç†ï¼ˆEfficient Reasoningï¼‰</strong> ç›¸æ¯”äº MLLM åŠ¨è¾„ç”Ÿæˆæ•°åƒä¸ª Token çš„é•¿æ€ç»´é“¾ï¼ŒDiffThinker åœ¨è®­ç»ƒå’Œæ¨ç†æ•ˆç‡ä¸Šå‡è¡¨ç°å‡ºè‰²ï¼Œä¸”å‡†ç¡®ç‡æ›´é«˜ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f1ecd1a19924de7b0e311205c10d58f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=G5G3KIO6QxWwj4GwhkWbGaMdkeo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p><strong>å¯æ§æ¨ç†ï¼ˆControllable Reasoningï¼‰</strong> MLLM çš„è¾“å‡ºé•¿åº¦ä¸å¯é¢„æµ‹ï¼Œå¸¸å‡ºç°è¿‡é•¿æ€ç»´é“¾ç”šè‡³è¾“å‡ºå´©æºƒå¯¼è‡´æ­»å¾ªç¯ã€‚è€Œ DiffThinker é€šè¿‡å›ºå®šæ­¥æ•°çš„æ¬§æ‹‰æ±‚è§£å™¨ï¼Œèƒ½å¤Ÿä»¥ç¡®å®šçš„è®¡ç®—é¢„ç®—å®Œæˆæ¨ç†ï¼Œä¸å—ä»»åŠ¡é€»è¾‘å¤æ‚åº¦çš„å¹²æ‰°ã€‚</p>
</li>
<li>
<p><strong>åŸç”Ÿå¹¶è¡Œæ¨ç†ï¼ˆNative Parallel Reasoningï¼‰</strong> è¿™æ˜¯æ‰©æ•£æ¨¡å‹ç‹¬æœ‰çš„ä¼˜åŠ¿ã€‚åœ¨æ¨ç†æ—¶ï¼ŒDiffThinker èƒ½å¤Ÿåœ¨è§†è§‰ç©ºé—´ä¸­åŒæ—¶æ¢ç´¢å¤šæ¡æ½œåœ¨è·¯å¾„ï¼Œå¹¶éšç€å»å™ªè¿‡ç¨‹é€æ­¥æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚è¿™ä½¿å¾—æ¨¡å‹å¯ä»¥ã€Œè¾¹ç”»è¾¹æ¨ç†ã€ï¼Œæ›´ç›´è§‚ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3aa9dbcd05d4f14b2fc7bcc73babc55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=0nsJhTCpGXFe6nK0FEIZXvaokVc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>ååŒæ¨ç†ï¼ˆCollaborative Reasoningï¼‰</strong> DiffThinker è¿˜å¯ä»¥ä¸ MLLM åˆä½œã€‚å®ƒç”Ÿæˆå¤šä¸ªå€™é€‰è§†è§‰è§£ï¼Œå†ç”± MLLM è¿›è¡Œé€»è¾‘éªŒè¯ã€‚å®éªŒæ˜¾ç¤ºï¼Œè¿™ç§ã€ŒDiffThinker ç”Ÿæˆ + MLLM éªŒè¯ã€çš„ç»„åˆï¼Œæ€§èƒ½å®ç°ã€Œ1+1&gt;2ã€ï¼Œè¶…è¶Šäº†ä»»ä½•å•ä¸€æ¨¡å‹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ce9a52c2d3c4ea7b09efae18c518f02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=YeU5mc7V6efM4ebWqzV7VuKTbLA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-4">03 å®éªŒç»“æœï¼šç¢¾å‹çº§çš„æ€§èƒ½</h4>
<h4 data-id="heading-5"/>
<p>ç ”ç©¶å›¢é˜Ÿåœ¨å››ä¸ªé¢†åŸŸçš„ä¸ƒå¤§ä»»åŠ¡ä¸Šè¿›è¡Œäº†ç³»ç»Ÿè¯„æµ‹ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>åºåˆ—è§„åˆ’</strong>ï¼šVSPï¼ŒVSP-Superï¼ŒMazeï¼ˆè¿·å®«ï¼‰</p>
</li>
<li>
<p><strong>ç»„åˆä¼˜åŒ–</strong>ï¼šTSPï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰</p>
</li>
<li>
<p><strong>çº¦æŸæ»¡è¶³</strong>ï¼šSudokuï¼ˆæ•°ç‹¬ï¼‰</p>
</li>
<li>
<p><strong>ç©ºé—´é…ç½®</strong>ï¼šJigsawï¼ˆæ‹¼å›¾ï¼‰ï¼ŒVisPuzzle</p>
</li>
</ul>
<p>ä¸»è¦ç»“æœå¦‚ä¸‹ï¼šÂ </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aa35037206f46adbcbfc9538e7d7ef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=P14puYPy5f%2FAr%2Bh%2F%2Bm5ZKIVG4Hc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>DiffThinker åœ¨æ‰€æœ‰ä»»åŠ¡ä¸Šçš„å¹³å‡å¾—åˆ†é«˜è¾¾Â 87.4ï¼Œè€Œ GPT-5 ä»…ä¸º 21.1ï¼ŒGemini-3-Flash ä¸º 41.3ã€‚åŒæ•°æ®è®­ç»ƒçš„ Qwen3-VL-32B ä¹Ÿåªæœ‰Â 62.9ã€‚</p>
<h4 data-id="heading-6">04 è§†é¢‘ç”Ÿæˆ vs å›¾åƒç”Ÿæˆ</h4>
<h4 data-id="heading-7"/>
<p>æ—¢ç„¶æ˜¯è§†è§‰æ¨ç†ï¼Œç”¨è§†é¢‘æ¨¡å‹ï¼ˆVideo Generationï¼‰ä¼šä¸ä¼šæ›´å¥½ï¼Ÿ</p>
<p>å›¢é˜ŸåŸºäº Wan2.2-TI2V-5B å¼€å‘äº† DiffThinker-Video ç‰ˆæœ¬ã€‚ç»“æœå‘ç°ï¼Œè™½ç„¶è§†é¢‘èƒ½å±•ç¤ºåŠ¨æ€è¿‡ç¨‹ï¼Œä½†åœ¨æ¨ç†å‡†ç¡®ç‡ä¸Šåè€Œä¸å¦‚å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œä¸”æ¨ç†æ—¶é—´å¢åŠ äº†è¿‘ä¸€å€ï¼ˆ1.1s vs 2.0sï¼‰ã€‚è¿™è¡¨æ˜ï¼Œåœ¨å½“å‰çš„ç®—åŠ›ä¸æ¨¡å‹æ¶æ„ä¸‹ï¼Œã€Œä»¥å›¾æ€è€ƒã€ä»æ˜¯æ¯”ã€Œä»¥è§†é¢‘æ€è€ƒã€æ›´é«˜æ•ˆçš„è·¯å¾„ã€‚</p>
<h4 data-id="heading-8">05 ç»“è¯­</h4>
<h4 data-id="heading-9"/>
<p>DiffThinker çš„å‡ºç°ï¼Œæ ‡å¿—ç€Â <strong>ç”Ÿæˆå¼å¤šæ¨¡æ€æ¨ç†ï¼ˆGenerative Multimodal Reasoningï¼‰</strong> Â æ—¶ä»£çš„å¼€å¯ã€‚å®ƒè¯æ˜äº†æ‰©æ•£æ¨¡å‹ä¸ä»…èƒ½ç”»ç”»ï¼Œè¿˜èƒ½è¿›è¡Œä¸¥å¯†çš„é€»è¾‘æ¨ç†ã€‚</p>
<p>å¯¹äºé•¿ç¨‹ã€è§†è§‰ä¸­å¿ƒçš„å¤æ‚ä»»åŠ¡ï¼Œå°†æ¨ç†è¿‡ç¨‹ä»ã€Œæ–‡æœ¬æµã€è½¬å˜ä¸ºã€Œè§†è§‰æµã€ï¼Œæˆ–è®¸æ­£æ˜¯é€šå¾€ä¸‹ä¸€ä»£é€šç”¨äººå·¥æ™ºèƒ½çš„å…³é”®ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7591806035758923818</link>    <guid>https://juejin.cn/post/7591806035758923818</guid>    <pubDate>2026-01-06T07:59:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591806035758923818" data-draft-id="7591806035758907434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-01-06T07:59:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T07:59:54.000Z" title="Tue Jan 06 2026 07:59:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    21
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ—¥å¿—æ˜¯å¼€å‘è€…çš„â€œçœ¼ç›â€â€”â€”æ’æŸ¥é—®é¢˜ã€å®šä½æ•…éšœã€ç›‘æ§ç³»ç»ŸçŠ¶æ€ï¼Œéƒ½ç¦»ä¸å¼€æ—¥å¿—ã€‚ä½†å®é™…é¡¹ç›®é‡Œï¼Œå¾ˆå¤šæ—¥å¿—è¾“å‡ºå´å¤„äºâ€œèƒ½ç”¨ä½†ä¸å¥½ç”¨â€çš„çŠ¶æ€ï¼šè¦ä¹ˆçº§åˆ«æ··ä¹±ï¼ˆ debug æ—¥å¿—å……æ–¥ç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œè¦ä¹ˆå†…å®¹æ®‹ç¼ºï¼ˆç¼ºå°‘å…³é”®ä¸Šä¸‹æ–‡ï¼‰ï¼Œè¦ä¹ˆæ ¼å¼æ‚ä¹±ï¼ˆéš¾ä»¥è§£æï¼‰ï¼Œç”šè‡³å› æ—¥å¿—è¾“å‡ºä¸å½“å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä»â€œä¸ºä»€ä¹ˆè¦ä¼˜åŒ–æ—¥å¿—â€â€œä¼˜åŒ–ä»€ä¹ˆâ€â€œæ€ä¹ˆä¼˜åŒ–â€ä¸‰ä¸ªç»´åº¦ï¼Œå…¨é¢æŒæ¡æ—¥å¿—è¾“å‡ºçš„ä¼˜åŒ–æŠ€å·§ï¼Œè®©æ—¥å¿—çœŸæ­£æˆä¸ºç³»ç»Ÿè¿ç»´çš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šä¸ºä»€ä¹ˆè¦ä¼˜åŒ–æ—¥å¿—è¾“å‡ºï¼Ÿ</h3>
<p>å¾ˆå¤šå¼€å‘è€…è§‰å¾—â€œæ—¥å¿—åªè¦èƒ½æ‰“å‡ºæ¥å°±è¡Œâ€ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒåŠ£è´¨æ—¥å¿—çš„ä»£ä»·è¿œè¶…æƒ³è±¡ï¼š</p>
<ul>
<li><strong>æ’æŸ¥é—®é¢˜æ•ˆç‡ä½</strong>ï¼šæ—¥å¿—ç¼ºå°‘è¯·æ±‚IDã€ç”¨æˆ·IDç­‰ä¸Šä¸‹æ–‡ï¼Œé¢å¯¹æµ·é‡æ—¥å¿—æ— æ³•å¿«é€Ÿå®šä½æŸä¸€æ¬¡è¯·æ±‚çš„å®Œæ•´é“¾è·¯ï¼›çº§åˆ«æ··ä¹±å¯¼è‡´å…³é”®é”™è¯¯æ—¥å¿—è¢«æ·¹æ²¡åœ¨ debug æ—¥å¿—ä¸­ï¼›</li>
<li><strong>ç³»ç»Ÿæ€§èƒ½æŸè€—å¤§</strong>ï¼šæ— èŠ‚åˆ¶è¾“å‡ºå¤§é‡æ—¥å¿—ï¼ˆå°¤å…¶æ˜¯ debug çº§ï¼‰ï¼Œä¼šå ç”¨å¤§é‡ç£ç›˜IOå’Œç½‘ç»œå¸¦å®½ï¼›åŒæ­¥æ—¥å¿—å†™å…¥åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè¿˜ä¼šæ‹–æ…¢æ¥å£å“åº”é€Ÿåº¦ï¼›</li>
<li><strong>å®‰å…¨é£é™©é«˜</strong>ï¼šæ—¥å¿—ä¸­æ˜æ–‡è¾“å‡ºç”¨æˆ·å¯†ç ã€æ‰‹æœºå·ã€é“¶è¡Œå¡å·ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œè¿åæ•°æ®å®‰å…¨è§„èŒƒï¼Œå¯èƒ½å¼•å‘åˆè§„é£é™©ï¼›</li>
<li><strong>æ—¥å¿—è§£æå›°éš¾</strong>ï¼šéç»“æ„åŒ–æ—¥å¿—ï¼ˆå¦‚è‡ªç”±æ–‡æœ¬ï¼‰æ— æ³•è¢«ELKç­‰æ—¥å¿—åˆ†æå·¥å…·é«˜æ•ˆè§£æï¼Œæ— æ³•å®ç°è‡ªåŠ¨åŒ–ç›‘æ§å‘Šè­¦ï¼Œåªèƒ½é äººå·¥æ£€ç´¢ï¼Œæ•ˆç‡æä½ã€‚</li>
</ul>
<p>è€Œä¼˜åŒ–åçš„æ—¥å¿—ï¼Œèƒ½å®ç°â€œå¿«é€Ÿå®šä½é—®é¢˜ã€ä½æ€§èƒ½æŸè€—ã€å®‰å…¨åˆè§„ã€å¯è‡ªåŠ¨åŒ–åˆ†æâ€çš„ç›®æ ‡ï¼Œè¿™ä¹Ÿæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè¿ç»´çš„åŸºç¡€è¦æ±‚ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„æ ¸å¿ƒæ–¹å‘ï¼š6ä¸ªâ€œå¿…é¡»æå®šâ€çš„å…³é”®ç‚¹</h3>
<p>æ—¥å¿—ä¼˜åŒ–ä¸æ˜¯â€œç‚«æŠ€â€ï¼Œè€Œæ˜¯å›´ç»•â€œå®ç”¨ã€é«˜æ•ˆã€å®‰å…¨â€å±•å¼€çš„ç³»ç»Ÿæ€§ä¼˜åŒ–ã€‚æ ¸å¿ƒèšç„¦ä»¥ä¸‹6ä¸ªå…³é”®ç‚¹ï¼Œè¦†ç›–ä»è¾“å‡ºè§„èŒƒåˆ°æ€§èƒ½ã€å®‰å…¨çš„å…¨ç»´åº¦ï¼š</p>
<h4 data-id="heading-3">1. è§„èŒƒæ—¥å¿—çº§åˆ«ï¼šä¸æ»¥ç”¨ã€ä¸æ··æ·†</h4>
<p>æ—¥å¿—çº§åˆ«æ˜¯æ—¥å¿—çš„â€œä¼˜å…ˆçº§æ ‡ç­¾â€ï¼Œä¸åŒçº§åˆ«å¯¹åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæ»¥ç”¨çº§åˆ«ä¼šç›´æ¥å¯¼è‡´æ—¥å¿—å¤±æ•ˆã€‚ä¸»æµæ—¥å¿—æ¡†æ¶ï¼ˆSLF4J+Logback/Log4j2ï¼‰çš„çº§åˆ«ä»é«˜åˆ°ä½åˆ†ä¸ºï¼š<code>ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE</code>ï¼Œæ¯ä¸ªçº§åˆ«éƒ½æœ‰æ˜ç¡®çš„ä½¿ç”¨è¾¹ç•Œï¼š</p>
<ul>
<li><strong>ERROR</strong>ï¼šç³»ç»Ÿæ ¸å¿ƒæµç¨‹å¼‚å¸¸ï¼Œå¿…é¡»äººå·¥ä»‹å…¥å¤„ç†ã€‚ä¾‹å¦‚ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥ã€ç¬¬ä¸‰æ–¹æœåŠ¡è°ƒç”¨è¶…æ—¶ï¼ˆæ— æ³•é‡è¯•ï¼‰ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¼‚å¸¸ï¼ˆå¦‚è®¢å•åˆ›å»ºå¤±è´¥ï¼‰ï¼› æ³¨æ„ï¼šåªè®°å½•â€œå¼‚å¸¸äº‹å®â€ï¼Œä¸è®°å½•â€œé¢„æœŸå†…çš„å¤±è´¥â€ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯ï¼‰ï¼Œä¸”å¿…é¡»é™„å¸¦å¼‚å¸¸å †æ ˆä¿¡æ¯ï¼›</li>
<li><strong>WARN</strong>ï¼šç³»ç»Ÿå‡ºç°éæ ¸å¿ƒæµç¨‹å¼‚å¸¸ï¼Œä½†ä¸å½±å“ä¸»æµç¨‹è¿è¡Œï¼Œéœ€å…³æ³¨åç»­è¶‹åŠ¿ã€‚ä¾‹å¦‚ï¼šç¼“å­˜å‡»ç©¿ã€éæ ¸å¿ƒæ¥å£è°ƒç”¨è¶…æ—¶ï¼ˆå·²é‡è¯•æˆåŠŸï¼‰ã€é…ç½®é¡¹ç¼ºå¤±ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰ï¼›</li>
<li><strong>INFO</strong>ï¼šç³»ç»Ÿæ ¸å¿ƒæµç¨‹çš„å…³é”®èŠ‚ç‚¹ï¼Œç”¨äºè¿½è¸ªä¸šåŠ¡é“¾è·¯ã€‚ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•æˆåŠŸã€è®¢å•æ”¯ä»˜å®Œæˆã€æœåŠ¡å¯åŠ¨æˆåŠŸï¼› æ³¨æ„ï¼šINFOçº§åˆ«æ—¥å¿—åº”â€œå°‘è€Œç²¾â€ï¼Œé¿å…æ¯ä¸€æ­¥æ“ä½œéƒ½æ‰“INFOï¼Œå¦åˆ™ä¼šå¯¼è‡´æ—¥å¿—å†—ä½™ï¼›</li>
<li><strong>DEBUG</strong>ï¼šå¼€å‘/æµ‹è¯•ç¯å¢ƒç”¨äºå®šä½é—®é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”Ÿäº§ç¯å¢ƒå¿…é¡»å…³é—­ã€‚ä¾‹å¦‚ï¼šæ–¹æ³•å…¥å‚å‡ºå‚ã€å¾ªç¯å†…çš„ä¸­é—´ç»“æœã€ç¬¬ä¸‰æ–¹æ¥å£çš„è¯¦ç»†å“åº”ï¼›</li>
<li><strong>TRACE</strong>ï¼šæ¯”DEBUGæ›´ç»†è‡´çš„è°ƒè¯•ä¿¡æ¯ï¼ˆå¦‚æ¡†æ¶å†…éƒ¨è°ƒç”¨ç»†èŠ‚ï¼‰ï¼Œä¸€èˆ¬ä»…åœ¨æ¡†æ¶è°ƒè¯•æ—¶ä½¿ç”¨ï¼Œä¸šåŠ¡ä»£ç å°½é‡ä¸ä½¿ç”¨ã€‚</li>
</ul>
<p>åä¾‹ä¸æ­£ä¾‹å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åä¾‹1ï¼šç”¨ERRORè®°å½•é¢„æœŸå†…çš„å¤±è´¥ï¼ˆç”¨æˆ·è¾“å…¥é”™è¯¯ï¼‰</span>
if (StringUtils.isEmpty(userId)) {
    log<span class="hljs-selector-class">.error</span>("ç”¨æˆ·IDä¸ºç©ºï¼Œæ— æ³•æŸ¥è¯¢è®¢å•"); <span class="hljs-comment">// é”™è¯¯ï¼šç”¨æˆ·è¾“å…¥é”™è¯¯å±äºé¢„æœŸå†…ï¼Œåº”ä½¿ç”¨WARN</span>
    return Result<span class="hljs-selector-class">.fail</span>("ç”¨æˆ·IDä¸èƒ½ä¸ºç©º");
}

<span class="hljs-comment">// åä¾‹2ï¼šç”¨INFOè®°å½•è°ƒè¯•ä¿¡æ¯</span>
log<span class="hljs-selector-class">.info</span>("æŸ¥è¯¢è®¢å•å…¥å‚ï¼šorderNo={}", orderNo); <span class="hljs-comment">// é”™è¯¯ï¼šå…¥å‚è®°å½•å±äºè°ƒè¯•ä¿¡æ¯ï¼Œåº”ä½¿ç”¨DEBUG</span>
<span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderService<span class="hljs-selector-class">.getByOrderNo</span>(orderNo);

<span class="hljs-comment">// æ­£ä¾‹</span>
if (StringUtils.isEmpty(userId)) {
    log<span class="hljs-selector-class">.warn</span>("ç”¨æˆ·IDä¸ºç©ºï¼Œæ‹’ç»æŸ¥è¯¢è®¢å•ï¼Œè¯·æ±‚å‚æ•°ï¼š{}", requestParams); <span class="hljs-comment">// WARNè®°å½•é¢„æœŸå†…å¼‚å¸¸ï¼Œé™„å¸¦å‚æ•°</span>
    return Result<span class="hljs-selector-class">.fail</span>("ç”¨æˆ·IDä¸èƒ½ä¸ºç©º");
}

try {
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderService<span class="hljs-selector-class">.getByOrderNo</span>(orderNo);
    log<span class="hljs-selector-class">.info</span>("è®¢å•æŸ¥è¯¢æˆåŠŸï¼ŒorderNo={}, userId={}", orderNo, userId); <span class="hljs-comment">// INFOè®°å½•æ ¸å¿ƒæµç¨‹èŠ‚ç‚¹</span>
} catch (Exception e) {
    log<span class="hljs-selector-class">.error</span>("è®¢å•æŸ¥è¯¢å¤±è´¥ï¼ŒorderNo={}, userId={}", orderNo, userId, e); <span class="hljs-comment">// ERRORè®°å½•å¼‚å¸¸ï¼Œé™„å¸¦å †æ ˆ</span>
    return Result<span class="hljs-selector-class">.fail</span>("æŸ¥è¯¢å¤±è´¥");
}
</code></pre>
<h4 data-id="heading-4">2. ç»“æ„åŒ–æ—¥å¿—ï¼šè®©æ—¥å¿—â€œå¯è§£æã€å¯æ£€ç´¢â€</h4>
<p>ä¼ ç»Ÿçš„â€œæ–‡æœ¬æ—¥å¿—â€ï¼ˆå¦‚ <code>2024-05-20 10:30:00.123 INFO [main] c.d.OrderController - è®¢å•åˆ›å»ºæˆåŠŸ</code>ï¼‰è™½ç„¶äººç±»å¯è¯»ï¼Œä½†æœºå™¨éš¾ä»¥è§£æï¼Œæ— æ³•å¿«é€Ÿæå–å…³é”®ä¿¡æ¯ï¼ˆå¦‚è®¢å•å·ã€ç”¨æˆ·IDï¼‰ã€‚è€Œ<strong>ç»“æ„åŒ–æ—¥å¿—</strong>ï¼ˆå¦‚JSONæ ¼å¼ï¼‰èƒ½å°†æ—¥å¿—å­—æ®µæ ‡å‡†åŒ–ï¼Œå®Œç¾é€‚é…ELKï¼ˆElasticsearch+Logstash+Kibanaï¼‰ç­‰æ—¥å¿—åˆ†æå·¥å…·ï¼Œå®ç°å¿«é€Ÿæ£€ç´¢ã€è¿‡æ»¤å’Œå¯è§†åŒ–ã€‚</p>
<p>Spring Booté»˜è®¤ä½¿ç”¨SLF4J+Logbackï¼Œå®ç°JSONç»“æ„åŒ–æ—¥å¿—åªéœ€ç®€å•é…ç½®ï¼š</p>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–ï¼ˆè‹¥ä½¿ç”¨Logbackï¼‰</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ—¥å¿—JSONæ ¼å¼åŒ–ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.logstash.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logstash-logback-encoder<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰é…ç½®logback-spring.xml</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä¸Šä¸‹æ–‡åç§°ï¼šåŒºåˆ†ä¸åŒæœåŠ¡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">contextName</span>&gt;</span>order-service<span class="hljs-tag">&lt;/<span class="hljs-name">contextName</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å®šä¹‰æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼šJSONæ ¼å¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"net.logstash.logback.encoder.LogstashEncoder"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- å›ºå®šå­—æ®µï¼šæœåŠ¡åã€æ—¥å¿—çº§åˆ«ã€æ—¶é—´æˆ³ç­‰ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includeMdcKeyName</span>&gt;</span>requestId<span class="hljs-tag">&lt;/<span class="hljs-name">includeMdcKeyName</span>&gt;</span> <span class="hljs-comment">&lt;!-- åŒ…å«è¯·æ±‚IDï¼ˆé“¾è·¯è¿½è¸ªï¼‰ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includeMdcKeyName</span>&gt;</span>userId<span class="hljs-tag">&lt;/<span class="hljs-name">includeMdcKeyName</span>&gt;</span>     <span class="hljs-comment">&lt;!-- åŒ…å«ç”¨æˆ·ID --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">customFields</span>&gt;</span>"service":"order-service","env":"prod"<span class="hljs-tag">&lt;/<span class="hljs-name">customFields</span>&gt;</span> <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰å›ºå®šå­—æ®µ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">fieldNames</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">timestamp</span>&gt;</span>timestamp<span class="hljs-tag">&lt;/<span class="hljs-name">timestamp</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>level<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">message</span>&gt;</span>message<span class="hljs-tag">&lt;/<span class="hljs-name">message</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>logger<span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">thread</span>&gt;</span>thread<span class="hljs-tag">&lt;/<span class="hljs-name">thread</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">stack_trace</span>&gt;</span>stackTrace<span class="hljs-tag">&lt;/<span class="hljs-name">stack_trace</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">fieldNames</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ ¹æ—¥å¿—çº§åˆ«ï¼šç”Ÿäº§ç¯å¢ƒè®¾ä¸ºINFO --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰åŒ…æ—¥å¿—çº§åˆ«ï¼šå¦‚mapperå±‚è®¾ä¸ºWARNï¼Œå‡å°‘å†—ä½™ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.demo.mapper"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"WARN"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h5 data-id="heading-7">ï¼ˆ3ï¼‰è¾“å‡ºæ•ˆæœï¼ˆJSONæ ¼å¼ï¼‰</h5>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"service"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"order-service"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prod"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"req-20240520103000123"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1001"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-05-20T10:30:00.123+08:00"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"INFO"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼ŒorderNo=ORDER20240520001"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"logger"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.demo.controller.OrderController"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"thread"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http-nio-8080-exec-2"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼˜åŠ¿ï¼šå¯é€šè¿‡Kibanaå¿«é€Ÿæ£€ç´¢â€œrequestId=req-20240520103000123â€çš„æ‰€æœ‰æ—¥å¿—ï¼Œè¿˜åŸå®Œæ•´è¯·æ±‚é“¾è·¯ï¼›ä¹Ÿå¯æŒ‰â€œuserIdâ€â€œorderNoâ€ç­‰å­—æ®µè¿‡æ»¤ï¼Œå®šä½ç‰¹å®šç”¨æˆ·çš„æ“ä½œæ—¥å¿—ã€‚</p>
<h4 data-id="heading-8">3. æ—¥å¿—å†…å®¹è¦ç´ ï¼šè®©æ¯ä¸€æ¡æ—¥å¿—éƒ½â€œæœ‰ä»·å€¼â€</h4>
<p>ä¸€æ¡æœ‰ä»·å€¼çš„æ—¥å¿—ï¼Œå¿…é¡»åŒ…å«â€œè°ï¼ˆç”¨æˆ·/è¯·æ±‚ï¼‰åœ¨ä»€ä¹ˆæ—¶å€™åšäº†ä»€ä¹ˆï¼Œç»“æœå¦‚ä½•ï¼Œå…³é”®å‚æ•°æ˜¯ä»€ä¹ˆâ€ã€‚æ ¸å¿ƒè¦ç´ åº”åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é“¾è·¯æ ‡è¯†</strong>ï¼šrequestIdï¼ˆè¯·æ±‚IDï¼‰ï¼Œç”¨äºä¸²è”ä¸€æ¬¡è¯·æ±‚çš„å…¨é“¾è·¯æ—¥å¿—ï¼ˆåˆ†å¸ƒå¼ç³»ç»Ÿå¿…å¤‡ï¼‰ï¼›</li>
<li><strong>ä¸»ä½“æ ‡è¯†</strong>ï¼šuserIdï¼ˆç”¨æˆ·IDï¼‰ã€tenantIdï¼ˆç§Ÿæˆ·IDï¼‰ï¼Œç”¨äºå®šä½ç‰¹å®šç”¨æˆ·/ç§Ÿæˆ·çš„æ“ä½œï¼›</li>
<li><strong>ä¸šåŠ¡å‚æ•°</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡IDï¼ˆå¦‚orderNoã€productIdï¼‰ï¼Œä¾¿äºå®šä½å…·ä½“ä¸šåŠ¡åœºæ™¯ï¼›</li>
<li><strong>æ“ä½œæè¿°</strong>ï¼šæ¸…æ™°è¯´æ˜å½“å‰æ“ä½œï¼ˆå¦‚â€œè®¢å•åˆ›å»ºâ€â€œæ”¯ä»˜å›è°ƒå¤„ç†â€ï¼‰ï¼›</li>
<li><strong>ç»“æœçŠ¶æ€</strong>ï¼šæˆåŠŸ/å¤±è´¥ï¼Œå¤±è´¥æ—¶éœ€åŒ…å«å¼‚å¸¸ä¿¡æ¯ï¼ˆå †æ ˆæˆ–é”™è¯¯ç ï¼‰ã€‚</li>
</ul>
<p>å®æˆ˜æŠ€å·§ï¼šä½¿ç”¨MDCï¼ˆMapped Diagnostic Contextï¼‰ä¼ é€’é“¾è·¯/ä¸»ä½“æ ‡è¯†ï¼Œé¿å…åœ¨æ¯ä¸ªæ—¥å¿—è¯­å¥ä¸­é‡å¤æ‹¼æ¥å‚æ•°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.slf4j.MDC;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> java.util.UUID;

<span class="hljs-comment">// è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼šç”ŸæˆrequestIdå¹¶æ”¾å…¥MDC</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€requestId</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">requestId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        MDC.put(<span class="hljs-string">"requestId"</span>, requestId);
        <span class="hljs-comment">// ä»è¯·æ±‚å¤´è·å–userIdï¼ˆå¦‚ç™»å½•åæ”¾å…¥ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"userId"</span>);
        <span class="hljs-keyword">if</span> (userId != <span class="hljs-literal">null</span>) {
            MDC.put(<span class="hljs-string">"userId"</span>, userId);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ¸…é™¤MDCï¼Œé¿å…çº¿ç¨‹å¤ç”¨å¯¼è‡´çš„å‚æ•°æ±¡æŸ“</span>
        MDC.clear();
    }
}

<span class="hljs-comment">// é…ç½®æ‹¦æˆªå™¨</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> {
        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LogInterceptor</span>()).addPathPatterns(<span class="hljs-string">"/**"</span>);
    }
}

<span class="hljs-comment">// ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨ï¼ˆæ— éœ€æ‹¼æ¥requestIdå’ŒuserIdï¼‰</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(OrderController.class);

    <span class="hljs-meta">@PostMapping("/order/create")</span>
    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> OrderCreateDTO dto)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> orderService.create(dto);
            <span class="hljs-comment">// æ—¥å¿—è‡ªåŠ¨åŒ…å«MDCä¸­çš„requestIdå’ŒuserId</span>
            log.info(<span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼ŒorderNo={}, å•†å“IDåˆ—è¡¨={}"</span>, orderNo, dto.getProductIds());
            <span class="hljs-keyword">return</span> Result.success(orderNo);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è®¢å•åˆ›å»ºå¤±è´¥ï¼Œè¯·æ±‚å‚æ•°={}"</span>, dto, e);
            <span class="hljs-keyword">return</span> Result.fail(<span class="hljs-string">"åˆ›å»ºå¤±è´¥"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-9">4. æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘æ—¥å¿—å¯¹ç³»ç»Ÿçš„æŸè€—</h4>
<p>æ—¥å¿—è¾“å‡ºæœ¬è´¨æ˜¯IOæ“ä½œï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸æ°å½“çš„æ—¥å¿—è¾“å‡ºä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚æ ¸å¿ƒä¼˜åŒ–æ‰‹æ®µåŒ…æ‹¬ï¼š</p>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰é¿å…æ— æ•ˆæ—¥å¿—æ‹¼æ¥</h5>
<p>ä½¿ç”¨SLF4Jçš„å ä½ç¬¦ <code>{} </code>è€Œéå­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆ<code>+</code>ï¼‰ï¼Œé¿å…åœ¨æ—¥å¿—çº§åˆ«ä¸æ»¡è¶³æ—¶äº§ç”Ÿæ— æ•ˆçš„å­—ç¬¦ä¸²æ‹¼æ¥å¼€é”€ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// åä¾‹ï¼šå³ä½¿æ—¥å¿—çº§åˆ«æ˜¯WARNï¼Œä¹Ÿä¼šæ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œäº§ç”Ÿæ€§èƒ½æŸè€—</span>
<span class="hljs-built_in">log</span>.debug(<span class="hljs-string">"è®¢å•æŸ¥è¯¢ï¼ŒorderNo="</span> + orderNo + <span class="hljs-string">", userId="</span> + userId);

<span class="hljs-comment">// æ­£ä¾‹ï¼šä½¿ç”¨å ä½ç¬¦ï¼Œæ—¥å¿—çº§åˆ«ä¸æ»¡è¶³æ—¶ä¸ä¼šæ‰§è¡Œå‚æ•°æ‹¼æ¥</span>
<span class="hljs-built_in">log</span>.debug(<span class="hljs-string">"è®¢å•æŸ¥è¯¢ï¼ŒorderNo={}, userId={}"</span>, orderNo, userId);
</code></pre>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰é«˜å¹¶å‘åœºæ™¯ä½¿ç”¨å¼‚æ­¥æ—¥å¿—</h5>
<p>åŒæ­¥æ—¥å¿—ä¼šé˜»å¡ä¸šåŠ¡çº¿ç¨‹ï¼Œç›´åˆ°æ—¥å¿—å†™å…¥å®Œæˆï¼›å¼‚æ­¥æ—¥å¿—åˆ™é€šè¿‡ç‹¬ç«‹çº¿ç¨‹å†™å…¥æ—¥å¿—ï¼Œä¸é˜»å¡ä¸šåŠ¡çº¿ç¨‹ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚Logbacké…ç½®å¼‚æ­¥æ—¥å¿—ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¼‚æ­¥æ—¥å¿—é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ASYNC_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.AsyncAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">discardingThreshold</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">discardingThreshold</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¸ä¸¢å¼ƒæ—¥å¿—ï¼ˆå…³é”®ä¸šåŠ¡å»ºè®®ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">queueSize</span>&gt;</span>1024<span class="hljs-tag">&lt;/<span class="hljs-name">queueSize</span>&gt;</span> <span class="hljs-comment">&lt;!-- é˜Ÿåˆ—å¤§å°ï¼šæ ¹æ®å¹¶å‘é‡è°ƒæ•´ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"FILE"</span> /&gt;</span> <span class="hljs-comment">&lt;!-- å…³è”æ–‡ä»¶è¾“å‡ºappender --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>
</code></pre>
<h5 data-id="heading-12">ï¼ˆ3ï¼‰æ§åˆ¶æ—¥å¿—è¾“å‡ºé‡</h5>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒå…³é—­DEBUG/TRACEçº§åˆ«æ—¥å¿—ï¼›</li>
<li>é¿å…åœ¨å¾ªç¯å†…è¾“å‡ºæ—¥å¿—ï¼ˆå¦‚éå†1000æ¡æ•°æ®æ—¶ï¼Œæ¯æ¡éƒ½æ‰“æ—¥å¿—ï¼‰ï¼›</li>
<li>å¯¹é«˜é¢‘æ¥å£çš„æ—¥å¿—è¿›è¡ŒæŠ½æ ·è¾“å‡ºï¼ˆå¦‚æ¯100æ¬¡è¯·æ±‚è¾“å‡º1æ¬¡æ—¥å¿—ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-13">ï¼ˆ4ï¼‰åˆç†è®¾ç½®æ—¥å¿—æ»šåŠ¨ç­–ç•¥</h5>
<p>é¿å…å•ä¸ªæ—¥å¿—æ–‡ä»¶è¿‡å¤§ï¼Œå¯¼è‡´æ£€ç´¢ç¼“æ…¢ã€‚é€šè¿‡æ—¥å¿—æ»šåŠ¨ç­–ç•¥æŒ‰æ—¶é—´/å¤§å°åˆ†å‰²æ—¥å¿—ï¼Œä¾‹å¦‚ï¼šæŒ‰å¤©æ»šåŠ¨ï¼Œæ¯å¤©ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼›å•ä¸ªæ–‡ä»¶è¶…è¿‡100MBæ—¶å¼ºåˆ¶æ»šåŠ¨ã€‚Logbacké…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>logs/order-service.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>logs/order-service.%d{yyyy-MM-dd}.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¿ç•™30å¤©æ—¥å¿— --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">totalSizeCap</span>&gt;</span>10GB<span class="hljs-tag">&lt;/<span class="hljs-name">totalSizeCap</span>&gt;</span> <span class="hljs-comment">&lt;!-- æ—¥å¿—æ€»å¤§å°é™åˆ¶ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">triggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span> <span class="hljs-comment">&lt;!-- å•ä¸ªæ–‡ä»¶æœ€å¤§100MB --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">triggeringPolicy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span>
    <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span>
<span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span>
</code></pre>
<h4 data-id="heading-14">5. å®‰å…¨è„±æ•ï¼šä¿æŠ¤æ•æ„Ÿä¿¡æ¯ä¸æ³„éœ²</h4>
<p>æ—¥å¿—ä¸­è‹¥åŒ…å«ç”¨æˆ·å¯†ç ã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€é“¶è¡Œå¡å·ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œä¼šè¿åã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ç­‰åˆè§„è¦æ±‚ã€‚æ ¸å¿ƒè„±æ•ç­–ç•¥ï¼šâ€œèƒ½ä¸è¾“å‡ºå°±ä¸è¾“å‡ºï¼Œå¿…é¡»è¾“å‡ºåˆ™è„±æ•â€ã€‚</p>
<h5 data-id="heading-15">ï¼ˆ1ï¼‰å¸¸è§è„±æ•åœºæ™¯ä¸æ–¹æ³•</h5>
<ul>
<li><strong>æ¥å£å…¥å‚/å‡ºå‚è„±æ•</strong>ï¼šå¯¹åŒ…å«æ•æ„Ÿä¿¡æ¯çš„DTOå­—æ®µè¿›è¡Œè„±æ•ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰JSONåºåˆ—åŒ–å™¨å®ç°ï¼›</li>
<li><strong>æ—¥å¿—è¯­å¥è„±æ•</strong>ï¼šå¯¹å…³é”®æ•æ„Ÿå‚æ•°æ‰‹åŠ¨è„±æ•ï¼ˆå¦‚æ‰‹æœºå·ä¿ç•™å‰3å4ä½ï¼‰ï¼›</li>
<li><strong>å…¨å±€æ‹¦æˆªè„±æ•</strong>ï¼šé€šè¿‡Logbackçš„è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œå¯¹æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯è‡ªåŠ¨æ‹¦æˆªè„±æ•ã€‚</li>
</ul>
<h5 data-id="heading-16">ï¼ˆ2ï¼‰å®æˆ˜ï¼šè‡ªå®šä¹‰JSONåºåˆ—åŒ–å™¨è„±æ•</h5>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">import</span> com.fasterxml.jackson.core.<span class="hljs-type">JsonGenerator</span>;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.<span class="hljs-type">JsonSerializer</span>;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.<span class="hljs-type">SerializerProvider</span>;
<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;

<span class="hljs-comment">// æ‰‹æœºå·è„±æ•åºåˆ—åŒ–å™¨</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileDesensitizer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JsonSerializer&lt;String&gt;</span> </span>{
    <span class="hljs-meta">@Override</span>
    public void serialize(<span class="hljs-type">String</span> mobile, <span class="hljs-type">JsonGenerator</span> gen, <span class="hljs-type">SerializerProvider</span> serializers) <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span> {
        <span class="hljs-keyword">if</span> (mobile != <span class="hljs-literal">null</span> &amp;&amp; mobile.length() == <span class="hljs-number">11</span>) {
            gen.writeString(mobile.replaceAll(<span class="hljs-string">"(\d{3})\d{4}(\d{4})"</span>, <span class="hljs-string">"$1****$2"</span>));
        } <span class="hljs-keyword">else</span> {
            gen.writeString(mobile);
        }
    }
}

<span class="hljs-comment">// åœ¨DTOä¸­ä½¿ç”¨</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDTO</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> userId;
    
    <span class="hljs-meta">@JsonSerialize</span>(<span class="hljs-keyword">using</span> = <span class="hljs-type">MobileDesensitizer</span>.<span class="hljs-keyword">class</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> mobile; <span class="hljs-comment">// åºåˆ—åŒ–æ—¶è‡ªåŠ¨è„±æ•</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> username;
    <span class="hljs-comment">// çœç•¥getter/setter</span>
}

<span class="hljs-comment">// æ—¥å¿—è¾“å‡ºæ•ˆæœï¼šmobile=138****1234</span>
log.info(<span class="hljs-string">"ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œç”¨æˆ·ä¿¡æ¯={}"</span>, userDTO);
</code></pre>
<h5 data-id="heading-17">ï¼ˆ3ï¼‰å®æˆ˜ï¼šLogbackå…¨å±€è„±æ•è½¬æ¢å™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> ch.qos.logback.classic.pattern.ClassicConverter;
<span class="hljs-keyword">import</span> ch.qos.logback.classic.spi.ILoggingEvent;
<span class="hljs-keyword">import</span> java.util.regex.Pattern;

<span class="hljs-comment">// æ—¥å¿—å…¨å±€è„±æ•è½¬æ¢å™¨ï¼šåŒ¹é…æ‰‹æœºå·ã€èº«ä»½è¯å·</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogDesensitizerConverter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ClassicConverter</span> {
    <span class="hljs-comment">// æ‰‹æœºå·æ­£åˆ™ï¼š11ä½æ•°å­—</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Pattern</span> <span class="hljs-variable">MOBILE_PATTERN</span> <span class="hljs-operator">=</span> Pattern.compile(<span class="hljs-string">"1[3-9]\d{9}"</span>);
    <span class="hljs-comment">// èº«ä»½è¯å·æ­£åˆ™ï¼š18ä½ï¼ˆå«Xï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Pattern</span> <span class="hljs-variable">ID_CARD_PATTERN</span> <span class="hljs-operator">=</span> Pattern.compile(<span class="hljs-string">"\d{17}[0-9Xx]"</span>);

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">convert</span><span class="hljs-params">(ILoggingEvent event)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> event.getMessage();
        <span class="hljs-keyword">if</span> (message == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        <span class="hljs-comment">// æ‰‹æœºå·è„±æ•</span>
        message = MOBILE_PATTERN.matcher(message).replaceAll(<span class="hljs-string">"****"</span>);
        <span class="hljs-comment">// èº«ä»½è¯å·è„±æ•ï¼ˆä¿ç•™å‰6å4ï¼‰</span>
        message = ID_CARD_PATTERN.matcher(message).replaceAll(<span class="hljs-string">"$1****$2"</span>);
        <span class="hljs-keyword">return</span> message;
    }
}

<span class="hljs-comment">// åœ¨logback-spring.xmlä¸­é…ç½®</span>
&lt;conversionRule conversionWord=<span class="hljs-string">"msg"</span> converterClass=<span class="hljs-string">"com.demo.log.LogDesensitizerConverter"</span> /&gt;
</code></pre>
<h4 data-id="heading-18">6. æ—¥å¿—ç›‘æ§å‘Šè­¦ï¼šè®©æ—¥å¿—â€œä¸»åŠ¨è¯´è¯â€</h4>
<p>ä¼˜åŒ–åçš„æ—¥å¿—ä¸ä»…è¦â€œå¯æ£€ç´¢â€ï¼Œè¿˜è¦èƒ½â€œä¸»åŠ¨å‘Šè­¦â€â€”â€”å½“ç³»ç»Ÿå‡ºç°å¼‚å¸¸æ—¶ï¼Œé€šè¿‡æ—¥å¿—ç›‘æ§å·¥å…·åŠæ—¶è§¦å‘å‘Šè­¦ï¼Œé¿å…æ•…éšœæ‰©å¤§ã€‚æ ¸å¿ƒå®ç°æ–¹æ¡ˆï¼šELKæ ˆ + å‘Šè­¦æ’ä»¶ï¼ˆå¦‚Elastic Alertï¼‰ã€‚</p>
<h5 data-id="heading-19">ï¼ˆ1ï¼‰ELKæ ˆæ—¥å¿—æµè½¬æµç¨‹</h5>
<ol>
<li>Logbackå°†ç»“æ„åŒ–æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼›</li>
<li>Logstashè¯»å–æ—¥å¿—æ–‡ä»¶ï¼Œè¿‡æ»¤ã€è§£ææ—¥å¿—ï¼ˆå¦‚æå–å­—æ®µï¼‰ï¼›</li>
<li>Logstashå°†å¤„ç†åçš„æ—¥å¿—å†™å…¥Elasticsearchï¼›</li>
<li>Kibanaå¯¹æ¥Elasticsearchï¼Œå®ç°æ—¥å¿—æ£€ç´¢ã€å¯è§†åŒ–ï¼›</li>
<li>é…ç½®å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ERRORæ—¥å¿—5åˆ†é’Ÿå†…è¶…è¿‡10æ¡ã€å‡ºç°â€œæ•°æ®åº“è¿æ¥å¤±è´¥â€æ—¥å¿—ï¼‰ï¼Œè§¦å‘é’‰é’‰/çŸ­ä¿¡/é‚®ä»¶å‘Šè­¦ã€‚</li>
</ol>
<h5 data-id="heading-20">ï¼ˆ2ï¼‰å…³é”®å‘Šè­¦è§„åˆ™å»ºè®®</h5>
<ul>
<li>ERRORçº§åˆ«æ—¥å¿—æ•°é‡çªå¢ï¼ˆå¦‚5åˆ†é’Ÿå†…è¶…è¿‡é˜ˆå€¼ï¼‰ï¼›</li>
<li>å‡ºç°ç‰¹å®šé”™è¯¯æ—¥å¿—ï¼ˆå¦‚â€œæ•°æ®åº“è¿æ¥è¶…æ—¶â€â€œNPEâ€â€œæœåŠ¡ç†”æ–­â€ï¼‰ï¼›</li>
<li>æ ¸å¿ƒä¸šåŠ¡æ—¥å¿—ç¼ºå¤±ï¼ˆå¦‚10åˆ†é’Ÿå†…æ— â€œè®¢å•æ”¯ä»˜æˆåŠŸâ€æ—¥å¿—ï¼Œå¯èƒ½æ”¯ä»˜æœåŠ¡å¼‚å¸¸ï¼‰ï¼›</li>
<li>æ¥å£å“åº”æ—¶é—´å¼‚å¸¸ï¼ˆé€šè¿‡æ—¥å¿—ä¸­çš„è€—æ—¶å­—æ®µç›‘æ§ï¼Œå¦‚è€—æ—¶è¶…è¿‡5ç§’ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-21">ä¸‰ã€æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„â€œé¿å‘æŒ‡å—â€</h3>
<p>åœ¨æ—¥å¿—ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå®¹æ˜“é™·å…¥ä¸€äº›è¯¯åŒºï¼Œä»¥ä¸‹æ˜¯å¸¸è§å‘ç‚¹åŠè§„é¿æ–¹æ³•ï¼š</p>
<ul>
<li><strong>å‘ç‚¹1ï¼šæ—¥å¿—çº§åˆ«â€œä¸€åˆ€åˆ‡â€</strong> ï¼šæ‰€æœ‰åŒ…éƒ½ä½¿ç”¨ç›¸åŒçš„æ—¥å¿—çº§åˆ«ï¼ˆå¦‚æ ¹æ—¥å¿—è®¾ä¸ºDEBUGï¼‰ï¼Œå¯¼è‡´ç”Ÿäº§ç¯å¢ƒæ—¥å¿—çˆ†ç‚¸ã€‚ è§„é¿ï¼šæ ¹æ—¥å¿—è®¾ä¸ºINFOï¼Œå¯¹ç‰¹å®šåŒ…ï¼ˆå¦‚mapperã€ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼‰å•ç‹¬è®¾ä¸ºWARNï¼›</li>
<li><strong>å‘ç‚¹2ï¼šæ—¥å¿—å†…å®¹â€œè¶Šè¯¦ç»†è¶Šå¥½â€</strong> ï¼šè¾“å‡ºå®Œæ•´çš„è¯·æ±‚ä½“ã€å“åº”ä½“ï¼ŒåŒ…å«å¤§é‡å†—ä½™ä¿¡æ¯ã€‚ è§„é¿ï¼šåªè¾“å‡ºæ ¸å¿ƒä¸šåŠ¡å‚æ•°ï¼Œæ•æ„Ÿä¿¡æ¯è„±æ•ï¼Œé¿å…è¾“å‡ºå¤§æ–‡æœ¬ï¼ˆå¦‚JSONæ•°ç»„ã€æ–‡ä»¶å†…å®¹ï¼‰ï¼›</li>
<li><strong>å‘ç‚¹3ï¼šå¼‚æ­¥æ—¥å¿—â€œæ»¥ç”¨â€</strong> ï¼šæ‰€æœ‰æ—¥å¿—éƒ½ç”¨å¼‚æ­¥è¾“å‡ºï¼Œå¯¼è‡´æ—¥å¿—ä¸¢å¤±ï¼ˆé˜Ÿåˆ—æ»¡æ—¶å¯èƒ½ä¸¢å¼ƒæ—¥å¿—ï¼‰ã€‚ è§„é¿ï¼šå…³é”®ä¸šåŠ¡æ—¥å¿—ï¼ˆå¦‚æ”¯ä»˜ã€è®¢å•ï¼‰ä½¿ç”¨åŒæ­¥æ—¥å¿—æˆ–é…ç½®ä¸ä¸¢å¼ƒçš„å¼‚æ­¥æ—¥å¿—ï¼›éå…³é”®æ—¥å¿—å¯ä½¿ç”¨å¼‚æ­¥ï¼›</li>
<li><strong>å‘ç‚¹4ï¼šå¿½ç•¥æ—¥å¿—æ¸…ç†</strong>ï¼šæ—¥å¿—æ— ä¿ç•™æœŸé™ï¼Œå¯¼è‡´ç£ç›˜ç©ºé—´è¢«å æ»¡ã€‚ è§„é¿ï¼šé…ç½®æ—¥å¿—ä¿ç•™æœŸé™ï¼ˆå¦‚30å¤©ï¼‰å’Œæ€»å¤§å°é™åˆ¶ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ—¥å¿—ï¼›</li>
<li><strong>å‘ç‚¹5ï¼šMDCæœªæ¸…ç†</strong>ï¼šçº¿ç¨‹æ± å¤ç”¨å¯¼è‡´MDCä¸­çš„å‚æ•°æ±¡æŸ“ï¼ˆå¦‚å‰ä¸€ä¸ªè¯·æ±‚çš„requestIdè¢«åç»­è¯·æ±‚å¤ç”¨ï¼‰ã€‚ è§„é¿ï¼šåœ¨è¯·æ±‚ç»“æŸåï¼ˆæ‹¦æˆªå™¨afterCompletionï¼‰æ¸…é™¤MDCï¼›çº¿ç¨‹æ± ä½¿ç”¨æ—¶ï¼Œæ‰‹åŠ¨ä¼ é€’MDCå‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-22">å››ã€æ€»ç»“ï¼šæ—¥å¿—ä¼˜åŒ–çš„æ ¸å¿ƒåŸåˆ™</h3>
<p>æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„æ ¸å¿ƒä¸æ˜¯â€œè¿½æ±‚å¤æ‚çš„é…ç½®â€ï¼Œè€Œæ˜¯å›´ç»•â€œ<strong>è§„èŒƒã€å®ç”¨ã€å®‰å…¨ã€é«˜æ•ˆ</strong>â€å››ä¸ªå…³é”®è¯ï¼š</p>
<ul>
<li>è§„èŒƒï¼šæŒ‰åœºæ™¯ä½¿ç”¨æ—¥å¿—çº§åˆ«ï¼Œç»Ÿä¸€æ—¥å¿—æ ¼å¼ï¼›</li>
<li>å®ç”¨ï¼šæ—¥å¿—å†…å®¹åŒ…å«å…³é”®è¦ç´ ï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜ï¼›</li>
<li>å®‰å…¨ï¼šæ•æ„Ÿä¿¡æ¯è„±æ•ï¼Œç¬¦åˆåˆè§„è¦æ±‚ï¼›</li>
<li>é«˜æ•ˆï¼šå‡å°‘æ—¥å¿—å¯¹ç³»ç»Ÿæ€§èƒ½çš„æŸè€—ï¼Œå®ç°è‡ªåŠ¨åŒ–ç›‘æ§å‘Šè­¦ã€‚</li>
</ul>
<p>å…¶å®æ—¥å¿—ä¼˜åŒ–æ²¡æœ‰â€œé“¶å¼¹â€ï¼Œéœ€è¦ç»“åˆä¸šåŠ¡åœºæ™¯ä¸æ–­è°ƒæ•´ã€‚å»ºè®®ä»â€œè§„èŒƒæ—¥å¿—çº§åˆ«â€â€œæ·»åŠ é“¾è·¯æ ‡è¯†â€â€œç»“æ„åŒ–è¾“å‡ºâ€è¿™ä¸‰ä¸ªåŸºç¡€ç‚¹å…¥æ‰‹ï¼Œé€æ­¥è½åœ°æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨è„±æ•ï¼Œè®©æ—¥å¿—çœŸæ­£æˆä¸ºç³»ç»Ÿç¨³å®šæ€§çš„â€œå®ˆæŠ¤è€…â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592068193419542537</link>    <guid>https://juejin.cn/post/7592068193419542537</guid>    <pubDate>2026-01-06T09:45:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592068193419542537" data-draft-id="7591986565855248430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-06T09:45:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T09:45:47.000Z" title="Tue Jan 06 2026 09:45:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae941bc5b84447eb9b8c3fbeeb10fded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=NDECseIzJLciZpHyxLk6xOkKvno%3D" alt="" loading="lazy"/></p>
<p>TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼å·²å†…ç½® 3 ç§æ¨¡å‹â€”â€”<strong>Gemini-3-Pro-Preview</strong>ã€<strong>GPT-5-medium</strong> å’Œ <strong>Kimi-K2-0905</strong>ã€‚ä¸åŒæ¨¡å‹åœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸åŒç¯èŠ‚å„æœ‰æ‰€é•¿ï¼Œé€‰æ‹©æ¨¡å‹çš„æ ¸å¿ƒå¹¶é â€œå“ªæ¬¾æ¨¡å‹æœ€ä¼˜â€ï¼Œè€Œæ˜¯<strong>å“ªæ¬¾æ¨¡å‹æœ€é€‚é…ä½ è¦äº¤ä»˜çš„ä»»åŠ¡ã€‚</strong></p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä¸ºä½ æä¾›çš„ä¸€ç§æ¨¡å‹é€‰æ‹©æ€è·¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4479ede51bd442ffb04ce9d9b36368b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=zI%2BUwxucEy4TOIpzgO3%2B9TP8fdg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>Gemini-3-Pro-Previewï¼šé€‚ç”¨äºæ™ºèƒ½ä½“é©±åŠ¨ã€é•¿å‘¨æœŸã€å¤šæ¨¡æ€ä»»åŠ¡</strong></h2>
<p>å½“ä»»åŠ¡åœºæ™¯å®½æ³›ã€å„ç¯èŠ‚ç›¸äº’å…³è”ï¼Œä¸”éœ€è¦åœ¨ä¸Šä¸‹æ–‡é‡Œç»Ÿç­¹å¤šä¸ªåŠ¨æ€æ¨¡å—æ—¶ï¼ŒGemini-3-Pro-Preview çš„ä¼˜åŠ¿æœ€ä¸ºçªå‡ºï¼š</p>
<ul>
<li>
<p>æ“…é•¿æ™ºèƒ½ä½“é©±åŠ¨çš„ç¼–ç æµç¨‹ â€”â€” ç›¸æ¯”å•æ¬¡æŒ‡ä»¤è°ƒç”¨ï¼Œé€šè¿‡å‘½ä»¤è¡Œç•Œé¢ / å·¥å…·è°ƒç”¨æµç¨‹è¿è¡Œæ—¶è¡¨ç°æ›´ä½³</p>
</li>
<li>
<p>å…·å¤‡å‡ºè‰²çš„å¤šæ¨¡æ€ç†è§£èƒ½åŠ›ï¼ˆæ¶µç›–æ–‡æœ¬ã€ä»£ç ã€è®¾è®¡è§„èŒƒã€UI è®¾è®¡ï¼‰ï¼Œéå¸¸é€‚åˆå…¨æ ˆå¼€å‘å·¥ä½œ</p>
</li>
<li>
<p>é•¿å‘¨æœŸä»»åŠ¡è¡¨ç°ç¨³å®šå¯é  â€”â€” å¯èƒœä»»å¤§å‹ä»£ç åº“çš„è¿ç§»ã€æ¶æ„è°ƒæ•´ä»¥åŠå…¨å±€è°ƒè¯•å·¥ä½œ</p>
</li>
</ul>
<h3 data-id="heading-1"><strong>å›½é™…ç‰ˆ SOLO + Gemini-3-Pro-Preview é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p>å½“ä»»åŠ¡å±äº â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€ çš„ç±»å‹æ—¶ï¼ŒGemini-3-Pro-Preview é€šå¸¸æ˜¯ä¼˜é€‰æ–¹æ¡ˆã€‚</p>
<ul>
<li>
<p>Gemini-3-Pro-Preview æ™ºèƒ½ä½“å¯å……å½“ UI å·¥ç¨‹å¸ˆï¼ŒåŸºäºå¤šæ¨¡æ€è¾“å…¥çš„è®¾è®¡è§„èŒƒç”Ÿæˆç•Œé¢å¹¶æŒç»­è¿­ä»£ä¼˜åŒ–</p>
</li>
<li>
<p>æ™ºèƒ½ä½“å¯å¹¶è¡Œå¤„ç†åç«¯é€»è¾‘ã€åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰æˆ–æ•°æ®æ¨¡å‹çš„å¼€å‘å·¥ä½œ</p>
</li>
<li>
<p>TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼è´Ÿè´£ç»Ÿç­¹åè°ƒå„æ™ºèƒ½ä½“ï¼ŒGemini-3-Pro-Preview åˆ™ä¿éšœå„å±‚çº§çš„ä¸€è‡´æ€§</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76b7ffeb89ee46afa11120face703d49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=A%2BclyRnjo1eIl9i4PYNz8ms3k54%3D" alt="gemini-3-use-case (1).gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7648d7d46b0c413a9314c5ddbc6a4e4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=3KeZkFO2YrC4pDiOr1ytVPtTudk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>GPT-5-mediumï¼šé€‚ç”¨äºç»“æ„åŒ–è¿­ä»£ä¸ç”Ÿäº§çº§åˆ«çš„ä»£ç ä¿®æ”¹</strong></h2>
<p>GPT-5-medium å°±åƒä¸€ä½ç»éªŒä¸°å¯Œçš„èµ„æ·±å·¥ç¨‹å¸ˆï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°å°†éœ€è¦ä¸¥è°¨æ€è€ƒã€å‘¨å¯†è§„åˆ’çš„ä¿®æ”¹ä»»åŠ¡äº¤ä»˜ç»™å®ƒï¼š</p>
<ul>
<li>
<p>æ“…é•¿é‡æ„ã€è°ƒè¯•å¾ªç¯ã€æµ‹è¯•æ¡†æ¶æ­å»ºç­‰è¿­ä»£å¼ç¼–ç æµç¨‹</p>
</li>
<li>
<p>å…¼é¡¾å¼ºå¤§çš„é€šç”¨æ¨ç†èƒ½åŠ›ä¸ç¼–ç èƒ½åŠ›ï¼Œç»™å‡ºçš„æ–¹æ¡ˆæ›´é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</p>
</li>
<li>
<p>æ‹¥æœ‰è¶…å¤§ä¸Šä¸‹æ–‡çª—å£ï¼ˆæœ€é«˜ 272kï¼‰ï¼Œèƒ½å¤Ÿåº”å¯¹å¤æ‚çš„å®é™…é¡¹ç›®éœ€æ±‚</p>
</li>
<li>
<p>é…å¥—å·¥å…·ç”Ÿæ€æˆç†Ÿï¼Œåœ¨å„ç±»ç¼–è¾‘å™¨ã€åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰å’Œæ’ä»¶ä¸­è¡¨ç°ç¨³å®š</p>
</li>
</ul>
<h3 data-id="heading-3"><strong>å›½é™…ç‰ˆ SOLO + GPT-5-medium é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p><strong>1. ç³»ç»Ÿé‡æ„</strong></p>
<ul>
<li>
<p>å°†å¤§è§„æ¨¡é‡æ„ä»»åŠ¡æ‹†è§£ä¸ºæ¸…æ™°çš„æ­¥éª¤ï¼Œé€æ­¥æ¨è¿›</p>
</li>
<li>
<p>ç¡®ä¿é‡æ„è¿‡ç¨‹ä¸­å„æ¨¡å—çš„æ ¸å¿ƒçº¦æŸæ¡ä»¶å§‹ç»ˆæœ‰æ•ˆ</p>
</li>
</ul>
<p><strong>2. é—ç•™ä»£ç è°ƒè¯•</strong></p>
<ul>
<li>
<p>è·¨æ–‡ä»¶è¿½è¸ªä¸šåŠ¡é€»è¾‘ï¼Œå®šä½é—®é¢˜æ ¹æº</p>
</li>
<li>
<p>éµå¾ª â€œå…ˆå†™æµ‹è¯•ï¼Œå†æ”¹ä»£ç â€ çš„æµç¨‹ï¼Œé™ä½ä¿®æ”¹é£é™©</p>
</li>
</ul>
<p>GPT-5-medium ä¸ TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼çš„ <strong>Plan</strong> å°¤ä¸ºå¥‘åˆï¼Œå¯ä»¥ç”Ÿæˆæ¸…æ™°çš„æ–¹æ¡ˆã€æœ‰æ¡ç†åœ°æ‰§è¡Œä»»åŠ¡å¹¶ç”Ÿæˆé«˜åº¦å‡†ç¡®çš„ç»“æœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbeccdfb227b4945ae184ebeb1b70276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=gtHBAic6mnjwMyAwR3nag1OpoUo%3D" alt="gpt-5-use-case (1).gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26ea123f7c2c409d96267dfa8bc5dcf2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=vov8JF3%2BeqGXYoaq3IKP6lmA93Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>Kimi-K2-0905ï¼šé€‚ç”¨äºæ‰§è¡Œé«˜æ•ˆè‡ªåŠ¨åŒ–ã€é«˜æ€§ä»·æ¯”çš„ä»»åŠ¡</strong></h2>
<p>Kimi-K2-0905 å†³ç­–æœæ–­ã€å“åº”è¿…é€Ÿï¼Œèƒ½å¤Ÿé«˜æ•ˆæ¨è¿›ä»»åŠ¡ï¼Œæ˜¯æ— éœ€äººå·¥å¹²é¢„çš„è‡ªåŠ¨åŒ–ä»»åŠ¡çš„ç†æƒ³é€‰æ‹©ï¼šå®ƒæ“…é•¿å¤šæ­¥éª¤é€»è¾‘å¤„ç†ä¸è‡ªä¸»åŒ–å·¥ä½œæµï¼Œå°¤å…¶é€‚ç”¨äºç ”å‘è°ƒç ”æˆ–è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘ä»»åŠ¡ï¼›å• token ä½¿ç”¨æˆæœ¬è¿œä½äºå¤šæ•°å•†ç”¨é—­æºæ¨¡å‹ï¼Œæ€§ä»·æ¯”çªå‡ºï¼Œåœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­è¿è¡Œé€Ÿåº¦æå¿«ï¼Œå»¶è¿Ÿä½ï¼Œèƒ½å¤Ÿå®ç°å¿«é€Ÿè¿­ä»£ã€‚</p>
<h3 data-id="heading-5"><strong>å›½é™…ç‰ˆ SOLO + Kimi-K2-0905 é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p><strong>1. å¤„ç†é‡å¤æ€§æˆ–æœºæ¢°æ€§å¼€å‘å·¥ä½œï¼š</strong> æ¸…ç†å†—ä½™ä»£ç ã€ç”Ÿæˆé€šç”¨æ¨¡æ¿ä»£ç ã€è½¬æ¢æ•°æ®æ ¼å¼ã€ç»Ÿä¸€é‡æ„ä»£ç è¯­è¨€é£æ ¼</p>
<p><strong>2. ä½œä¸ºå­æ™ºèƒ½ä½“æ‰§è¡Œè¾…åŠ©ä»»åŠ¡ï¼š</strong> Kimi-K2-0905 å¯ä»¥è‡ªä¸»è¿è¡Œå¤„ç†åå°è¾…åŠ©ä»»åŠ¡ï¼Œä½ å°±èƒ½ä¸“æ³¨äºæ›´é¡¶å±‚çš„å†³ç­–å·¥ä½œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82f5c208a50e404bbffc204aeb1ed935~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=05fGP964ypi7GZlSWIBAMTl5S3A%3D" alt="kimi-k2-use-case (1).gif" loading="lazy"/></p>
<p><strong>SOLO æ¨¡å¼æ¨¡å‹é€‰å‹æ ¸å¿ƒæ€è·¯æ€»ç»“</strong></p>
<p>åœ¨ TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ï¼Ÿä½ å¯ä»¥åƒå¸¦é¢†ä¸€æ”¯çœŸå®çš„å·¥ç¨‹å¸ˆå›¢é˜Ÿä¸€æ ·ï¼Œæ ¹æ®ä»»åŠ¡ç‰¹ç‚¹çµæ´»è°ƒåº¦ã€åˆç†åˆ†å·¥ï¼Œè®©æ¯ä¸ªæ¨¡å‹å‘æŒ¥å…¶æœ€å¤§ä¼˜åŠ¿ã€‚</p>
<ul>
<li>
<p><strong>Gemini-3-Pro-Previewï¼š</strong> æ“…é•¿å¹¿åº¦è¦†ç›–ã€ä¸Šä¸‹æ–‡ç»Ÿç­¹ã€å¤šæ¨¡æ€èåˆä¸ç³»ç»ŸåŒ–æ€è€ƒã€‚</p>
</li>
<li>
<p><strong>GPT-5-mediumï¼š</strong> ä»¥ç¨³å®šå¯é è§é•¿ï¼Œå–„äºç»“æ„åŒ–æ¨è¿›å’Œç”Ÿäº§çº§è¿­ä»£ä¼˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>Kimi-K2-0905ï¼š</strong> è¿½æ±‚æé€Ÿæ‰§è¡Œå’Œè‡ªä¸»è¿è¡Œï¼Œå…·å¤‡é«˜æ€§ä»·æ¯”ï¼Œä¸“æ³¨è½åœ°æ‰§è¡Œã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†]]></title>    <link>https://juejin.cn/post/7591767753850650666</link>    <guid>https://juejin.cn/post/7591767753850650666</guid>    <pubDate>2026-01-06T03:45:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591767753850650666" data-draft-id="7591672090790248467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-06T03:45:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:45:36.000Z" title="Tue Jan 06 2026 03:45:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæœ›å®¸</p>
<p>æœ¬æ–‡å¸Œæœ›æä¾›ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œæ¥ç†è§£è¿™äº›å®¹æ˜“æ··æ·†çš„æŠ€æœ¯æ¦‚å¿µï¼šNginxã€Ingressã€Ingress Controllerã€Ingress APIã€Nginx Ingressã€Higressã€Gateway APIã€‚</p>
<h2 data-id="heading-0">Nginx å’Œ Kubernetes</h2>
<p>æˆ‘ä»¬å…ˆæŒ‰å’Œ Kubernetes æ˜¯å¦æœ‰å…³ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p>
<p>Nginx æ˜¯åœ¨æ²¡æœ‰ Kubernetes çš„å¹´ä»£ï¼Œæµé‡å…¥å£ä¸Šçš„äº‹å®æ ‡å‡†ï¼Œæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ä»»ä½• Linux/Windows æœåŠ¡å™¨ä¸Šçš„ Web æœåŠ¡å™¨ã€‚æä¾›ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>æ¥æ”¶è¯·æ±‚ï¼›</li>
<li>è½¬å‘è¯·æ±‚ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ï¼›</li>
<li>ç®€å•çš„æµé‡æ²»ç†ï¼Œä¾‹å¦‚é™æµã€ç¼“å­˜ã€é‡å†™ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd7062a881f4a6d9cc2ada7cc8512a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=uzoRWXoxMs7FDMj2Vy22eEFCS9I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œ Ingress APIã€Ingress Controllerã€Nginx Ingressã€Higressã€Gateway API éƒ½ä¾èµ– Kubernetesï¼ŒKubernetes å‡ºç°åï¼Œæ‰æœ‰äº†è¿™äº›æ¦‚å¿µã€‚å…¶ä¸­ï¼ŒIngress API æ˜¯ Kubernetes ç®¡ç†æµé‡çš„è§„èŒƒï¼ŒIngress Controller æ˜¯è§„èŒƒçš„å®ç°ç»„ä»¶ï¼ŒNginx Ingress å’Œ Higress éƒ½æ˜¯è§„èŒƒçš„å®Œæ•´å®ç°å’ŒåŠŸèƒ½æ‰©å±•ï¼ŒGateway API åˆ™æ˜¯ Ingress API çš„å‡çº§å’Œä¸‹ä¸€ä»£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d12816faa7a4342b1ff8495770e6e81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=UbK6IYYkyOT4E0JO0hyRiUMuFa0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒIngress ç»å¸¸å•ç‹¬å‡ºç°ï¼Œéœ€è¦åŸºäºè¯­å¢ƒæ¥åˆ¤æ–­ï¼Œæœ‰å¯èƒ½æ˜¯æŒ‡ Ingress APIï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æŒ‡ Ingress èµ„æºï¼Œå³ç”¨æˆ·ç¼–å†™çš„å…·ä½“é…ç½®å¯¹è±¡ï¼ˆYAMLï¼‰ï¼Œéµå¾ª Ingress APIã€‚</p>
<h2 data-id="heading-1">Ingress API å’Œ Ingress Controller</h2>
<p>Ingress API å’Œ Ingress Controller åˆ†åˆ«æ˜¯ Kubernetes æµé‡ç®¡ç†çš„è§„èŒƒå’Œæ‰§è¡Œå™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70e786088cf74b80ad3fe085eff71744~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=IUxS0SpEqn1id8D5XVsSuNDgL6M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Ingress API</strong>ï¼šç”¨å£°æ˜å¼çš„æ–¹å¼ï¼Œæè¿°å¤–éƒ¨æµé‡å¦‚ä½•è¿›å…¥é›†ç¾¤é‡Œçš„ Serviceï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å¦‚ä½•é€šè¿‡åŸŸåè®¿é—®æœåŠ¡ï¼›</li>
<li>å¦‚ä½•æ ¹æ® URL è·¯å¾„è·¯ç”±åˆ°ä¸åŒåç«¯æœåŠ¡ï¼›</li>
<li>åç«¯æœåŠ¡æ˜¯è°ï¼›</li>
<li>æ˜¯å¦å¯ç”¨ HTTPS åŠ å¯†ã€‚</li>
</ul>
<p>å½¢è±¡åœ°è¯´ï¼ŒIngress API å¯ä»¥ç†è§£ä½ Kubernetes ä¸­ç®¡ç†æµé‡çš„è¯´æ˜ä¹¦ã€‚</p>
<p><strong>Ingress Controller</strong>ï¼šæ˜¯ Ingress API çš„å®ç°ç»„ä»¶ï¼Œå³æ‰§è¡Œè€…ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›‘å¬ Ingress èµ„æºå˜åŒ–ï¼›</li>
<li>å°† Ingress è§„åˆ™è½¬æ¢ä¸ºå®é™…çš„åå‘ä»£ç†é…ç½®ï¼›</li>
<li>æ¥æ”¶å¤–éƒ¨æµé‡å¹¶æŒ‰è§„åˆ™è·¯ç”±ï¼›</li>
<li>å¤„ç† TLS ç»ˆæ­¢ï¼ˆHTTPS è§£å¯†ï¼‰ï¼›</li>
<li>æä¾›å¥åº·æ£€æŸ¥ã€è´Ÿè½½å‡è¡¡ã€é‡è¯•ç­‰æµé‡æ²»ç†èƒ½åŠ›ã€‚</li>
</ul>
<p>é€šè¿‡ä»¥ä¸Šèƒ½åŠ›ï¼ŒIngress Controller å°±å®ç°äº†Â Kubernetes å…¥å£æµé‡çš„ç®¡ç†ã€‚</p>
<h2 data-id="heading-2">Nginx Ingress å’Œ Higress</h2>
<p>Nginx Ingress å’Œ Higress éƒ½æ˜¯ Ingress API çš„å®Œæ•´å®ç°å’ŒåŠŸèƒ½æ‰©å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdf9b79f58a34f3c98776a7ff13cfc0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=r7HDDeYxrZL2F3%2FB47YddrB0Ibk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Nginx Ingressï¼šç”¨ Nginx ä½œä¸ºåº•å±‚å®ç°çš„ Ingress APIï¼Œæ§åˆ¶é¢å’Œæ•°æ®é¢è€¦åˆåœ¨åŒä¸€ä¸ªè¿›ç¨‹/å®¹å™¨ä¸­ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ã€æ˜“ç”¨ã€ç¤¾åŒºå¹¿æ³›ã€‚</p>
<p><strong>ç¼ºç‚¹æ˜¯ï¼š</strong></p>
<ul>
<li>ä¸æ˜¯åŸç”Ÿçš„ Ingress APIï¼ŒIngress API è¯­ä¹‰åå¼±ï¼›</li>
<li>æ‰©å±•é  Annotationï¼ˆå·¥ç¨‹å™©æ¢¦ï¼‰ï¼›</li>
<li>ç”Ÿæˆ nginx.conf + reloadï¼ŒåŠ¨æ€é…ç½®èƒ½åŠ›å¼±ï¼ˆé¢‘ç¹ reload å½±å“æ€§èƒ½ï¼‰ã€‚</li>
</ul>
<p>é€‚ç”¨äºç®€å•ã€ç¨³å®šã€å°è§„æ¨¡çš„åœºæ™¯ã€‚</p>
<p>Higressï¼šæ•°æ®é¢æ˜¯åŸºäº Enovyï¼Œæ§åˆ¶é¢ç»™åŸºäº istioï¼Œæ˜¯åŸç”Ÿçš„ Ingress APIã€‚</p>
<p><strong>ä¼˜ç‚¹æ˜¯ï¼š</strong></p>
<ul>
<li>æ§åˆ¶é¢ä¸æ•°æ®é¢è§£è€¦ï¼Œå¯ç‹¬ç«‹æ‰©ç¼©å®¹ï¼›</li>
<li>åŸºäº xDS åè®®ï¼Œå®ç°çœŸæ­£çš„åŠ¨æ€é…ç½®ï¼ˆæ—  reloadï¼Œé›¶ä¸­æ–­ï¼‰ï¼›</li>
<li>åŸç”Ÿæ”¯æŒæ’ä»¶æ‰©å±•ï¼šWasmã€Luaã€Go æ’ä»¶ç”±æ§åˆ¶é¢ç»Ÿä¸€ç®¡ç†å¹¶ä¸‹å‘ï¼›</li>
<li><strong>å…¼å®¹å¤šåè®® &amp; å¤šæ ‡å‡†ï¼šåŒæ—¶æ”¯æŒ Ingress API å’Œ Gateway APIã€‚</strong></li>
</ul>
<p>ç¼ºç‚¹æ˜¯ï¼Œç›¸æ¯”Â Nginx å¹¿æ³›çš„ç¤¾åŒºåŸºç¡€ï¼ŒHigress ä¸ºä»£è¡¨çš„åŸç”Ÿ Ingress APIï¼Œéƒ¨ç½²å’Œç»´æŠ¤å­˜åœ¨å­¦ä¹ æˆæœ¬ã€‚</p>
<p>é€‚ç”¨äºé«˜æ€§èƒ½ã€é«˜æ‰©å±•ã€ä¼ä¸šçº§çš„åœºæ™¯ã€‚</p>
<h2 data-id="heading-3">Nginx Ingress é€€å½¹</h2>
<p>11æœˆï¼ŒKubernetes SIG Network å’Œå®‰å…¨å“åº”å§”å‘˜ä¼šå®£å¸ƒ Ingress NGINX é€€å½¹ã€‚ï¼ˆâš ï¸Â NGINX å¹¶æœªé€€å½¹ã€‚ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb08cd46ccda4305bddddd7ad9805fb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=PFongHPha%2BYCvUwdh4n8D0w6o8s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ„å‘³ç€ï¼š</strong></p>
<ul>
<li>Ingress NGINX å°½åŠ›ç»´æŠ¤æœåŠ¡è‡³ 2026 å¹´ 3 æœˆï¼›</li>
<li>ä¸å†å‘å¸ƒä»»ä½•æ–°ç‰ˆæœ¬ï¼›</li>
<li>ä¸å†ä¿®å¤ä»»ä½•æ¼æ´ï¼›</li>
<li>ä¹Ÿä¸ä¼šæ›´æ–°ä»»ä½•å¯èƒ½å‘ç°çš„å®‰å…¨æ¼æ´ï¼›</li>
<li>GitHub ä»£ç åº“å°†è®¾ç½®ä¸ºåªè¯»ï¼Œä»…ä¾›å‚è€ƒï¼›</li>
<li>ç°æœ‰çš„ Ingress NGINX éƒ¨ç½²å°†ç»§ç»­è¿è¡Œï¼Œå®‰è£…æ–‡ä»¶ä¹Ÿå°†ç»§ç»­å¯ç”¨ã€‚</li>
</ul>
<p>å¼•å‘é€€å½¹çš„æ ¹æœ¬åŸå› ï¼šï¼š</p>
<ul>
<li>å¤šå¹´æ¥ï¼Œè¯¥é¡¹ç›®åªæœ‰ä¸€ä¸¤ä¸ªäººåˆ©ç”¨ä¸šä½™æ—¶é—´ï¼Œåœ¨å·¥ä½œä¹‹ä½™è¿›è¡Œå¼€å‘å·¥ä½œï¼›</li>
<li>å°è¯•å’Œ Gateway API ç¤¾åŒºåˆä½œå¼€å‘ä¸€ä¸ªæ›¿ä»£æ§åˆ¶å™¨ï¼Œä½†æœªèƒ½æ¿€å‘æ›´å¤šäººå‚ä¸ Ingress NGINX çš„ç»´æŠ¤ã€‚</li>
</ul>
<h2 data-id="heading-4">Higressï¼šNginx Ingress é€€å½¹çš„æ›¿ä»£ä¼˜å…ˆæ–¹æ¡ˆ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a54f7fbf0fc4243a9779926978f1659~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=NKPqzNS5csEVsz%2BQSxagvB963no%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>Kubernetes å®˜æ–¹æ¨èï¼Œå³å®˜æ–¹ç¤¾åŒºæ–‡æ¡£ä¸­è¿›è¡Œäº†è¯´æ˜ï¼›</li>
<li>å¯¹ Nginx Ingress çš„ Annotation å…¼å®¹åº¦æœ€é«˜ï¼Œæ”¯æŒ 51 ç§ï¼Œè¦†ç›– 90% çš„ç”¨æˆ·åœºæ™¯ï¼Œè¿™æ„å‘³ç€ç°æœ‰çš„ K8s Ingress YAML æ–‡ä»¶æ— éœ€å¤§é‡ä¿®æ”¹å³å¯å®Œæˆè¿ç§»ï¼›</li>
<li>é•¿æœŸæŠ•å…¥ï¼Œå¹¶æä¾›ä¼ä¸šç‰ˆæœåŠ¡ï¼Œå³é˜¿é‡Œäº‘ API ç½‘å…³ï¼›</li>
<li>æä¾›ç›‘å¬ K8s Ingressï¼ˆIngress æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºå¸Œæœ›ä¿æŒ K8s åŸç”Ÿå·¥ä½œæµï¼ˆå¦‚GitOpsï¼‰çš„å›¢é˜Ÿï¼›å’Œæ§åˆ¶å°é…ç½® APIï¼ˆAPI ç®¡ç†æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºéœ€è¦é›†ä¸­æ²»ç†å’Œç²¾ç»†åŒ–ç®¡ç†çš„åœºæ™¯ã€‚</li>
</ul>
<h2 data-id="heading-5">Gateway API å’Œ Ingress API</h2>
<p>Gateway API æ˜¯ Ingress API è§„èŒƒçš„è¶…é›†å’Œä¸‹ä¸€ä»£ã€‚ä»–çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†è§£å†³ Ingress API è‡ªèº«æ— æ³•æå®šçš„é—®é¢˜ã€‚å…¶ä¸­ï¼ŒHigress å·²ç»æ”¯æŒ Gateway API æ ‡å‡†ï¼Œç”¨æˆ·å¯ä» Ingress API å¹³æ»‘è¿ç§»è‡³ Gateway APIã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de4cb0684f4a4544b910ef82aef57fe3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=FhslJ6330cnp%2FjzVpgK4s7yRLKw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Ingress API å­˜åœ¨çš„é—®é¢˜ï¼ŒGateway API è¿™æ ·å»è§£å†³ï¼š</p>
<p>èŒè´£ä¸æ¸…ï¼Œåæœæ˜¯ Ingress æ˜¯â€œä¸€äººå†™å…¨â€ï¼Œæ²¡æœ‰æƒé™è¾¹ç•Œã€‚<strong>-&gt; Gateway API é€šè¿‡è§’è‰²åˆ†ç¦»è§£å†³ï¼Œå®šä¹‰åŸºç¡€è®¾æ–½æä¾›è€…ã€é›†ç¾¤ç®¡ç†å‘˜ã€åº”ç”¨å¼€å‘è€…ã€‚</strong></p>
<p>åŠŸèƒ½è¡¨è¾¾èƒ½åŠ›å¼±ï¼Œä¾èµ– Controller ç‰¹æœ‰æ‰©å±•ï¼Œåæœæ˜¯ä¸æ ‡å‡†ã€ä¸åŒå®ç°ä¹‹é—´è¿ç§»æˆæœ¬é«˜ã€‚<strong>-&gt; Gateway API é€šè¿‡ Wasmã€æ’ä»¶ã€æœåŠ¡ç½‘æ ¼é›†æˆè§£å†³æ‰©å±•çš„æ ‡å‡†åŒ–ã€‚</strong></p>
<p>ä»…æ”¯æŒ HTTP/HTTPSï¼Œæ— æ³•å¤„ç† TCP/UDP/gRPC ç­‰åè®®ã€‚<strong>-&gt; äº‘åŸç”Ÿåº”ç”¨æ—©å·²ä¸åªæ˜¯ Web æœåŠ¡ï¼ŒGateway API é€šè¿‡ç»Ÿä¸€çš„ APIï¼Œç®¡ç†æ‰€æœ‰å—åŒ—å‘æµé‡ã€‚</strong></p>
<p>æ— æ³•è¡¨è¾¾å¤æ‚è·¯ç”±é€»è¾‘ï¼Œå¾®æœåŠ¡æ²»ç†éœ€æ±‚è¿œè¶… Ingress èƒ½åŠ›ã€‚<strong>-&gt; Gateway API æ”¯æŒ Wasmã€æ’ä»¶ã€æœåŠ¡ç½‘æ ¼é›†æˆï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„é«˜çº§è·¯ç”±è§£å†³ã€‚</strong></p>
<p>ä¸€ä¸ª Ingress Controller å…¨å±€å…±äº«ï¼Œç¼ºä¹å¤šç§Ÿæˆ·éš”ç¦»ï¼Œå¤šç§Ÿæˆ·åœºæ™¯ä¸‹å­˜åœ¨å®‰å…¨å’Œé…ç½®å†²çªé£é™©ã€‚<strong>-&gt; Gateway API æä¾›äº†ç‹¬ç«‹ Gateway çš„å®ä¾‹ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢]]></title>    <link>https://juejin.cn/post/7592017365140308020</link>    <guid>https://juejin.cn/post/7592017365140308020</guid>    <pubDate>2026-01-06T00:32:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592017365140308020" data-draft-id="7591702898080759823" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-06T00:32:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T00:32:34.000Z" title="Tue Jan 06 2026 00:32:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•æ¥è®²ï¼ŒAI Agent å®ç°çš„çš„å¤§é€»è¾‘å°±æ˜¯ä¸€ä¸ªå¤§çš„å¾ªç¯ + è·å–ä¸Šä¸‹æ–‡ + ä¸åœçš„ LLM è°ƒç”¨ + å·¥å…·çš„è°ƒç”¨ã€‚</p>
<p>é‚£ä¹ˆä¸€ä¸ªå…³é”®é—®é¢˜å°±å‡ºç°äº†ï¼šè¿™ä¸ªå¾ªç¯ä»€ä¹ˆæ—¶å€™åº”è¯¥åœæ­¢ï¼Ÿå¦‚æœå¤„ç†ä¸å½“ï¼ŒAgent å¯èƒ½ä¼šé™·å…¥æ— é™å¾ªç¯ï¼Œæµªè´¹è®¡ç®—èµ„æºï¼Œæˆ–è€…è¿‡æ—©åœæ­¢è€Œæ— æ³•å®Œæˆä»»åŠ¡ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ AI Agent åœæ­¢ç­–ç•¥çš„æ ¸å¿ƒè®¾è®¡æ€è·¯ã€‚</p>
<h2 data-id="heading-0">å¸¸ç”¨åœæ­¢ç­–ç•¥</h2>
<p>AI Agent åœæ­¢ç­–ç•¥æ— å¤–ä¹ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<ol>
<li>ç¡¬æ€§é™åˆ¶</li>
</ol>
<p>æœ€ç®€å•ç²—æš´çš„æ–¹æ³•ï¼š</p>
<ul>
<li>æœ€å¤§æ­¥æ•°é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šå¾ªç¯ 30 æ¬¡ï¼‰</li>
<li>æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šè·‘ 5 åˆ†é’Ÿï¼‰</li>
<li>API è°ƒç”¨æ¬¡æ•°é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šè°ƒ 100 æ¬¡ï¼‰</li>
<li>API è°ƒç”¨ Token æ•°é™åˆ¶</li>
</ul>
<p>è¿™ç§æ–¹æ³•ç®€å•æœ‰æ•ˆï¼Œä½†ç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚ç»å¸¸å‡ºç°ä»»åŠ¡åšåˆ°ä¸€åŠè¢«å¼ºåˆ¶åœæ­¢çš„æƒ…å†µã€‚</p>
<ol start="2">
<li>ä»»åŠ¡å®Œæˆæ£€æµ‹</li>
</ol>
<p>è®© LLM åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ¯æ¬¡å¾ªç¯åé—® LLM</span>
<span class="hljs-attr">response</span> = llm.ask(<span class="hljs-string">"ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆï¼Ÿ"</span>)
if <span class="hljs-attr">response</span> == <span class="hljs-string">"æ˜¯"</span>:
    stop()
</code></pre>
<ol start="3">
<li>æ˜¾å¼åœæ­¢ä¿¡å·</li>
</ol>
<p>ç»™ Agent ä¸€ä¸ªä¸“é—¨çš„"åœæ­¢"å·¥å…·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tools</span> = [
    <span class="hljs-string">"search"</span>,
    <span class="hljs-string">"calculate"</span>, 
    <span class="hljs-string">"terminate"</span>  <span class="hljs-comment"># ä¸“é—¨ç”¨æ¥åœæ­¢</span>
]
</code></pre>
<p>å½“ Agent è°ƒç”¨ terminate å·¥å…·æ—¶å°±åœæ­¢ã€‚è¿™ä¸ªæ–¹æ³•ä¸é”™ï¼Œä½†éœ€è¦åœ¨ prompt é‡Œæ•™ä¼š Agent ä»€ä¹ˆæ—¶å€™è¯¥è°ƒç”¨å®ƒã€‚</p>
<ol start="4">
<li>å¾ªç¯æ£€æµ‹</li>
</ol>
<p>æ£€æµ‹ Agent æ˜¯å¦åœ¨åšé‡å¤çš„äº‹ï¼š</p>
<ul>
<li>è¿ç»­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªå·¥å…·</li>
<li>åŠ¨ä½œåºåˆ—å‡ºç°å¾ªç¯æ¨¡å¼ï¼ˆAâ†’Bâ†’Aâ†’B...ï¼‰</li>
<li>è¾“å‡ºå†…å®¹é«˜åº¦ç›¸ä¼¼</li>
</ul>
<ol start="5">
<li>é”™è¯¯ç´¯ç§¯</li>
</ol>
<p>è¿ç»­å¤±è´¥å¤šæ¬¡å°±æ”¾å¼ƒï¼š</p>
<pre><code class="hljs language-css" lang="css">if consecutive_errors &gt; <span class="hljs-number">3</span>:
    <span class="hljs-built_in">stop</span>(<span class="hljs-string">"è¿ç»­å¤±è´¥å¤ªå¤šæ¬¡"</span>)
</code></pre>
<ol start="6">
<li>ç”¨æˆ·ä¸­æ–­</li>
</ol>
<p>è®©ç”¨æˆ·èƒ½éšæ—¶å–Šåœã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥ OpenManus å’Œ Gemini CLI çš„æºç æ¥çœ‹ä¸€ä¸‹ä»–ä»¬æ˜¯æ€ä¹ˆåšçš„ã€‚</p>
<h2 data-id="heading-1">OpenManus çš„åœæ­¢é€»è¾‘</h2>
<p>OpenManus çš„åœæ­¢æœºåˆ¶è®¾è®¡å¾—æ¯”è¾ƒå®Œæ•´ï¼Œå®ƒç”¨äº†ä¸€ä¸ªå¤šå±‚é˜²æŠ¤çš„æ€è·¯ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒï¼šterminate å·¥å…·</h2>
<p>OpenManus ç»™æ¯ä¸ª Agent éƒ½é…äº†ä¸€ä¸ª terminate å·¥å…·ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Terminate</span>(<span class="hljs-title class_ inherited__">BaseTool</span>):
    name: <span class="hljs-built_in">str</span> = <span class="hljs-string">"terminate"</span>
    description = <span class="hljs-string">"""å½“è¯·æ±‚å·²æ»¡è¶³æˆ–æ— æ³•ç»§ç»­æ—¶ç»ˆæ­¢äº¤äº’ã€‚
    å®Œæˆæ‰€æœ‰ä»»åŠ¡åï¼Œè°ƒç”¨æ­¤å·¥å…·ç»“æŸå·¥ä½œã€‚"""</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self, status: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"äº¤äº’å·²å®Œæˆï¼ŒçŠ¶æ€ï¼š<span class="hljs-subst">{status}</span>"</span>
        
ä»¥ä¸Šä¸ºç¤ºä¾‹ï¼ŒåŸå§‹ä»£ç ï¼š
<span class="hljs-keyword">from</span> app.tool.base <span class="hljs-keyword">import</span> BaseTool


_TERMINATE_DESCRIPTION = <span class="hljs-string">"""Terminate the interaction when the request is met OR if the assistant cannot proceed further with the task.
When you have finished all the tasks, call this tool to end the work."""</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Terminate</span>(<span class="hljs-title class_ inherited__">BaseTool</span>):
    name: <span class="hljs-built_in">str</span> = <span class="hljs-string">"terminate"</span>
    description: <span class="hljs-built_in">str</span> = _TERMINATE_DESCRIPTION
    parameters: <span class="hljs-built_in">dict</span> = {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: {
            <span class="hljs-string">"status"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">"The finish status of the interaction."</span>,
                <span class="hljs-string">"enum"</span>: [<span class="hljs-string">"success"</span>, <span class="hljs-string">"failure"</span>],
            }
        },
        <span class="hljs-string">"required"</span>: [<span class="hljs-string">"status"</span>],
    }

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self, status: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""Finish the current execution"""</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"The interaction has been completed with status: <span class="hljs-subst">{status}</span>"</span>
</code></pre>
<p>OpenManus ä½¿ç”¨çš„æ˜¯æ–¹æ¡ˆ 3ï¼ŒæŠŠã€Œä½•æ—¶åœæ­¢ã€çš„å†³ç­–æƒäº¤ç»™äº† LLMã€‚prompt é‡Œä¼šæ˜ç¡®å‘Šè¯‰ Agentï¼šä»»åŠ¡å®Œæˆäº†å°±è°ƒç”¨ terminateã€‚</p>
<h2 data-id="heading-3">çŠ¶æ€æœºç®¡ç†</h2>
<p>OpenManus ç”¨çŠ¶æ€æœºæ¥ç®¡ç† Agent çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class AgentState(Enum):
    <span class="hljs-attr">IDLE</span> = <span class="hljs-string">"idle"</span>
    <span class="hljs-attr">RUNNING</span> = <span class="hljs-string">"running"</span>  
    <span class="hljs-attr">FINISHED</span> = <span class="hljs-string">"finished"</span>
    <span class="hljs-attr">ERROR</span> = <span class="hljs-string">"error"</span>
</code></pre>
<p>å½“æ£€æµ‹åˆ°ç‰¹æ®Šå·¥å…·ï¼ˆå¦‚ terminateï¼‰è¢«è°ƒç”¨æ—¶ï¼Œä¼šè§¦å‘çŠ¶æ€è½¬æ¢ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_handle_special_tool</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, result: <span class="hljs-type">Any</span></span>):
    <span class="hljs-keyword">if</span> name.lower() == <span class="hljs-string">"terminate"</span>:
        self.state = AgentState.FINISHED
        logger.info(<span class="hljs-string">"ğŸ ä»»åŠ¡å®Œæˆï¼"</span>)
</code></pre>
<h2 data-id="heading-4">æ­¥æ•°é™åˆ¶</h2>
<p>ä¸åŒç±»å‹çš„ Agent æœ‰ä¸åŒçš„æ­¥æ•°ä¸Šé™ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ToolCallAgent: 30 æ­¥</span>
<span class="hljs-comment"># SWEAgent: 20 æ­¥</span>
<span class="hljs-comment"># PlanningFlow: å¯é…ç½®</span>

<span class="hljs-keyword">while</span> self.current_step &lt; self.max_steps <span class="hljs-keyword">and</span> self.state != AgentState.FINISHED:
    self.current_step += <span class="hljs-number">1</span>
    <span class="hljs-keyword">await</span> self.step()

<span class="hljs-keyword">if</span> self.current_step &gt;= self.max_steps:
    results.append(<span class="hljs-string">f"è¾¾åˆ°æœ€å¤§æ­¥æ•°é™åˆ¶ (<span class="hljs-subst">{self.max_steps}</span>)"</span>)
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªä¿åº•æœºåˆ¶ï¼Œé˜²æ­¢ Agent æ— é™è¿è¡Œã€‚</p>
<h2 data-id="heading-5">å¡æ­»æ£€æµ‹</h2>
<p>OpenManus è¿˜ä¼šæ£€æµ‹ Agent æ˜¯å¦å¡ä½äº†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_stuck</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„ assistant æ¶ˆæ¯</span>
    <span class="hljs-comment"># å¦‚æœæœ€è¿‘çš„å›å¤éƒ½ä¸€æ ·ï¼Œè¯´æ˜å¡ä½äº†</span>
    recent_messages = self.get_recent_assistant_messages()
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(recent_messages)) == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<h2 data-id="heading-6">Planning Agent çš„ç»“æŸé€»è¾‘</h2>
<h3 data-id="heading-7">1. è®¡åˆ’å®Œæˆçš„åˆ¤æ–­æœºåˆ¶</h3>
<p>PlanningFlow çš„ç»“æŸåˆ¤æ–­å¹¶ä¸æ˜¯ç®€å•æ£€æŸ¥æ‰€æœ‰æ­¥éª¤æ˜¯å¦å®Œæˆï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨ä¸»æ‰§è¡Œå¾ªç¯ä¸­</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    <span class="hljs-comment"># è·å–å½“å‰éœ€è¦æ‰§è¡Œçš„æ­¥éª¤</span>
    self.current_step_index, step_info = <span class="hljs-keyword">await</span> self._get_current_step_info()
    
    <span class="hljs-comment"># å¦‚æœæ²¡æœ‰æ›´å¤šæ´»è·ƒæ­¥éª¤ï¼Œåˆ™ç»“æŸè®¡åˆ’</span>
    <span class="hljs-keyword">if</span> self.current_step_index <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        result += <span class="hljs-keyword">await</span> self._finalize_plan()
        <span class="hljs-keyword">break</span>
</code></pre>
<h3 data-id="heading-8">2. æ­¥éª¤çŠ¶æ€æ£€æŸ¥é€»è¾‘</h3>
<p>_get_current_step_info() æ–¹æ³•è´Ÿè´£åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æœªå®Œæˆçš„æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥æ‰¾ç¬¬ä¸€ä¸ªéå®ŒæˆçŠ¶æ€çš„æ­¥éª¤</span>
<span class="hljs-keyword">for</span> i, step <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(steps):
    <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-built_in">len</span>(step_statuses):
        status = PlanStepStatus.NOT_STARTED.value
    <span class="hljs-keyword">else</span>:
        status = step_statuses[i]
    
    <span class="hljs-comment"># å¦‚æœæ­¥éª¤çŠ¶æ€ä¸ºæ´»è·ƒçŠ¶æ€ï¼ˆæœªå¼€å§‹æˆ–è¿›è¡Œä¸­ï¼‰ï¼Œè¿”å›è¯¥æ­¥éª¤</span>
    <span class="hljs-keyword">if</span> status <span class="hljs-keyword">in</span> PlanStepStatus.get_active_statuses():
        <span class="hljs-keyword">return</span> i, step_info

<span class="hljs-comment"># å¦‚æœæ²¡æ‰¾åˆ°æ´»è·ƒæ­¥éª¤ï¼Œè¿”å› None</span>
<span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>
</code></pre>
<p>å…¶ä¸­ get_active_statuses() è¿”å› ["not_started", "in_progress"]ï¼Œæ„å‘³ç€åªæœ‰å½“æ‰€æœ‰æ­¥éª¤éƒ½æ˜¯ "completed" æˆ– "blocked" çŠ¶æ€æ—¶ï¼Œè®¡åˆ’æ‰ä¼šç»“æŸã€‚</p>
<h3 data-id="heading-9">3. è®¡åˆ’ç»“æŸå¤„ç†</h3>
<p>å½“æ²¡æœ‰æ›´å¤šæ´»è·ƒæ­¥éª¤æ—¶ï¼Œä¼šè°ƒç”¨ _finalize_plan() æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_finalize_plan</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""ä½¿ç”¨ LLM ç”Ÿæˆè®¡åˆ’å®Œæˆæ€»ç»“"""</span>
    plan_text = <span class="hljs-keyword">await</span> self._get_plan_text()
    
    <span class="hljs-comment"># ä½¿ç”¨ LLM ç”Ÿæˆæ€»ç»“</span>
    system_message = Message.system_message(
        <span class="hljs-string">"You are a planning assistant. Your task is to summarize the completed plan."</span>
    )
    
    user_message = Message.user_message(
        <span class="hljs-string">f"The plan has been completed. Here is the final plan status:\n\n<span class="hljs-subst">{plan_text}</span>\n\nPlease provide a summary of what was accomplished and any final thoughts."</span>
    )
    
    response = <span class="hljs-keyword">await</span> self.llm.ask(messages=[user_message], system_msgs=[system_message])
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Plan completed:\n\n<span class="hljs-subst">{response}</span>"</span>
</code></pre>
<h2 data-id="heading-10">Gemini CLI çš„åœæ­¢é€»è¾‘</h2>
<p>Gemini CLI çš„è®¾è®¡æ€è·¯å®Œå…¨ä¸åŒï¼Œå®ƒç”¨äº†ä¸€ä¸ªæ›´ä¼˜é›…ä½†ä¹Ÿæ›´å¤æ‚çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-11">subagent çš„åœæ­¢é€»è¾‘</h2>
<h3 data-id="heading-12">1. è¾¾åˆ°æœ€å¤§è½®æ¬¡ï¼ˆMAX_TURNSï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.runConfig.max_turns &amp;&amp; turnCounter &gt;= <span class="hljs-keyword">this</span>.runConfig.max_turns) {
    <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.MAX_TURNS;
    <span class="hljs-keyword">break</span>;
}
</code></pre>
<p>è¿™æ˜¯æœ€ç®€å•çš„ä¿æŠ¤æœºåˆ¶ï¼Œé˜²æ­¢æ— é™å¾ªç¯ã€‚</p>
<h3 data-id="heading-13">2. æ‰§è¡Œè¶…æ—¶ï¼ˆTIMEOUTï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">durationMin</span> = (Date.now() - startTime) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
if (durationMin &gt;= this.runConfig.max_time_minutes) {
    <span class="hljs-attr">this.output.terminate_reason</span> = SubagentTerminateMode.TIMEOUT<span class="hljs-comment">;</span>
    break<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ³¨æ„è¿™é‡Œæ£€æŸ¥äº†ä¸¤æ¬¡è¶…æ—¶ï¼š</p>
<ul>
<li>åœ¨è°ƒç”¨ LLM ä¹‹å‰æ£€æŸ¥ä¸€æ¬¡</li>
<li>åœ¨è°ƒç”¨ LLM ä¹‹ååˆæ£€æŸ¥ä¸€æ¬¡</li>
</ul>
<p>è¿™æ˜¯å› ä¸º LLM è°ƒç”¨å¯èƒ½å¾ˆè€—æ—¶ï¼Œè¦ç¡®ä¿ä¸ä¼šè¶…æ—¶å¤ªå¤šã€‚</p>
<h3 data-id="heading-14">3. ç”¨æˆ·ä¸­æ–­ï¼ˆé€šè¿‡ AbortSignalï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (abortController.signal.aborted) <span class="hljs-keyword">return</span>;
</code></pre>
<p>è¿™ä¸ªæ£€æŸ¥å‡ºç°åœ¨ stream å¤„ç†å¾ªç¯é‡Œï¼Œç¡®ä¿èƒ½åŠæ—¶å“åº”ç”¨æˆ·çš„å–æ¶ˆæ“ä½œã€‚</p>
<h3 data-id="heading-15">4. é”™è¯¯å¼‚å¸¸ï¼ˆERRORï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">catch</span> (<span class="hljs-keyword">error</span>) {
    console.<span class="hljs-keyword">error</span>(<span class="hljs-comment">'Error during subagent execution:', error);</span>
    this.output.terminate_reason = SubagentTerminateMode.<span class="hljs-keyword">ERROR</span>;
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">error</span>;
}
</code></pre>
<p>ä»»ä½•æœªæ•è·çš„å¼‚å¸¸éƒ½ä¼šå¯¼è‡´åœæ­¢ã€‚</p>
<h3 data-id="heading-16">5. ç›®æ ‡å®Œæˆï¼ˆGOALï¼‰</h3>
<p>ç›®æ ‡å®Œæˆçš„åˆ¤æ–­åˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<p>æƒ…å†µAï¼šæ²¡æœ‰é¢„å®šè¾“å‡ºè¦æ±‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.outputConfig || Object.keys(<span class="hljs-keyword">this</span>.outputConfig.outputs).length === <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// æ²¡æœ‰è¦æ±‚ç‰¹å®šè¾“å‡ºï¼ŒLLM ä¸è°ƒç”¨å·¥å…·å°±è®¤ä¸ºå®Œæˆäº†</span>
    <span class="hljs-keyword">if</span> (functionCalls.length === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.GOAL;
        <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>æƒ…å†µBï¼šæœ‰é¢„å®šè¾“å‡ºè¦æ±‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰è¦æ±‚çš„å˜é‡éƒ½å·²è¾“å‡º</span>
<span class="hljs-keyword">const</span> remainingVars = Object.keys(<span class="hljs-keyword">this</span>.outputConfig.outputs).filter(
    (key) =&gt; !(key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.output.emitted_vars)
);

<span class="hljs-keyword">if</span> (remainingVars.length === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.GOAL;
    <span class="hljs-keyword">break</span>;
}
</code></pre>
<h2 data-id="heading-17">å£°æ˜å¼è¾“å‡ºç³»ç»Ÿçš„å®ç°</h2>
<p>å£°æ˜å¼è¾“å‡ºç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ outputConfigï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é¢„å…ˆå£°æ˜éœ€è¦ä»€ä¹ˆè¾“å‡º</span>
<span class="hljs-keyword">this</span>.outputConfig = {
    outputs: {
        <span class="hljs-string">"summary"</span>: <span class="hljs-string">"string"</span>,
        <span class="hljs-string">"recommendations"</span>: <span class="hljs-string">"array"</span>, 
        <span class="hljs-string">"risk_score"</span>: <span class="hljs-string">"number"</span>
    }
};

<span class="hljs-comment">// Agent é€šè¿‡ self.emitvalue å·¥å…·æ¥äº§ç”Ÿè¾“å‡º</span>
<span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨ä¼šæŠŠå€¼å­˜åˆ° this.output.emitted_vars é‡Œ</span>
<span class="hljs-keyword">this</span>.output.emitted_vars = {
    <span class="hljs-string">"summary"</span>: <span class="hljs-string">"è¿™æ˜¯æ€»ç»“..."</span>,
    <span class="hljs-string">"recommendations"</span>: [<span class="hljs-string">"å»ºè®®1"</span>, <span class="hljs-string">"å»ºè®®2"</span>]
    <span class="hljs-comment">// risk_score è¿˜æ²¡è¾“å‡º</span>
};
</code></pre>
<p>ç³»ç»Ÿä¼šä¸æ–­æ£€æŸ¥ emitted_vars æ˜¯å¦åŒ…å«äº†æ‰€æœ‰ outputs ä¸­å£°æ˜çš„å˜é‡ã€‚åªæœ‰å…¨éƒ¨è¾“å‡ºäº†æ‰è®¤ä¸ºç›®æ ‡å®Œæˆã€‚</p>
<h2 data-id="heading-18">Nudge æœºåˆ¶</h2>
<p>Nudgeï¼ˆè½»æ¨ï¼‰æœºåˆ¶ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (functionCalls.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {  <span class="hljs-comment">// LLM åœæ­¢è°ƒç”¨å·¥å…·äº†</span>
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å˜é‡æ²¡è¾“å‡º</span>
    <span class="hljs-keyword">const</span> remainingVars = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">outputConfig</span>.<span class="hljs-property">outputs</span>).<span class="hljs-title function_">filter</span>(
        <span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> !(key <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">output</span>.<span class="hljs-property">emitted_vars</span>)
    );
    
    <span class="hljs-keyword">if</span> (remainingVars.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// è¿˜æœ‰å˜é‡æ²¡è¾“å‡ºï¼Œ"æ¨"å®ƒä¸€ä¸‹</span>
        <span class="hljs-keyword">const</span> nudgeMessage = <span class="hljs-string">`You have stopped calling tools but have not emitted 
        the following required variables: <span class="hljs-subst">${remainingVars.join(<span class="hljs-string">', '</span>)}</span>. 
        Please use the 'self.emitvalue' tool to emit them now, 
        or continue working if necessary.`</span>;
        
        <span class="hljs-comment">// æŠŠæé†’ä½œä¸ºæ–°çš„ç”¨æˆ·æ¶ˆæ¯å‘ç»™ LLM</span>
        currentMessages = [{
            <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
            <span class="hljs-attr">parts</span>: [{ <span class="hljs-attr">text</span>: nudgeMessage }]
        }];
        
        <span class="hljs-comment">// ç»§ç»­å¾ªç¯ï¼Œä¸é€€å‡º</span>
    }
}
</code></pre>
<h2 data-id="heading-19">å®Œæ•´çš„ subagent æ‰§è¡Œæµç¨‹</h2>
<pre><code class="hljs language-arduino" lang="arduino">å¼€å§‹
  â†“
<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
  æ£€æŸ¥æ˜¯å¦è¶…æ—¶/è¶…è½®æ¬¡ â†’ æ˜¯ â†’ é€€å‡º
    â†“ å¦
  è°ƒç”¨ LLM
    â†“
  LLM è¿”å›å·¥å…·è°ƒç”¨ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ‰§è¡Œå·¥å…· â†’ æ£€æŸ¥ç›®æ ‡æ˜¯å¦å®Œæˆ
    â”‚         â”œâ”€ æ˜¯ â†’ é€€å‡º
    â”‚         â””â”€ å¦ â†’ ç»§ç»­å¾ªç¯
    â”‚
    â””â”€ å¦ï¼ˆLLM åœæ­¢è°ƒç”¨å·¥å…·ï¼‰
         â†“
       æœ‰é¢„å®šè¾“å‡ºè¦æ±‚å—ï¼Ÿ
         â”œâ”€ æ²¡æœ‰ â†’ é€€å‡ºï¼ˆè®¤ä¸ºå®Œæˆï¼‰
         â””â”€ æœ‰ â†’ æ£€æŸ¥æ˜¯å¦éƒ½è¾“å‡ºäº†
                   â”œâ”€ æ˜¯ â†’ é€€å‡º
                   â””â”€ å¦ â†’ Nudge æé†’ â†’ ç»§ç»­å¾ªç¯
}
</code></pre>
<h2 data-id="heading-20">ä¸‰å±‚å¾ªç¯æ£€æµ‹æœºåˆ¶</h2>
<h3 data-id="heading-21">ç¬¬ä¸€å±‚ï¼šå·¥å…·è°ƒç”¨é‡å¤æ£€æµ‹</h3>
<p>è¿™æ˜¯æœ€ç®€å•ç›´æ¥çš„æ£€æµ‹ï¼Œé’ˆå¯¹ Agent åå¤è°ƒç”¨ç›¸åŒå·¥å…·çš„æƒ…å†µã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> checkToolCallLoop(toolCall: { name: string; args: <span class="hljs-keyword">object</span> }): boolean {
    <span class="hljs-comment">// æŠŠå·¥å…·åå’Œå‚æ•°ä¸€èµ·å“ˆå¸Œï¼Œç”Ÿæˆå”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">this</span>.getToolCallKey(toolCall);
    
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastToolCallKey === key) {
        <span class="hljs-comment">// å’Œä¸Šæ¬¡è°ƒç”¨å®Œå…¨ä¸€æ ·ï¼Œè®¡æ•°+1</span>
        <span class="hljs-keyword">this</span>.toolCallRepetitionCount++;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ä¸ä¸€æ ·ï¼Œé‡ç½®è®¡æ•°</span>
        <span class="hljs-keyword">this</span>.lastToolCallKey = key;
        <span class="hljs-keyword">this</span>.toolCallRepetitionCount = <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">// è¿ç»­5æ¬¡è°ƒç”¨ç›¸åŒå·¥å…·+ç›¸åŒå‚æ•° = å¾ªç¯</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.toolCallRepetitionCount &gt;= TOOL_CALL_LOOP_THRESHOLD) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>è§¦å‘æ¡ä»¶ï¼šè¿ç»­ 5 æ¬¡è°ƒç”¨å®Œå…¨ç›¸åŒçš„å·¥å…·ï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰ã€‚</p>
<p>è¿™ç§æ£€æµ‹å¾ˆä¸¥æ ¼â€”â€”å¿…é¡»æ˜¯è¿ç»­çš„ã€å®Œå…¨ç›¸åŒçš„è°ƒç”¨ã€‚å¦‚æœä¸­é—´æ’å…¥äº†å…¶ä»–å·¥å…·è°ƒç”¨ï¼Œè®¡æ•°å°±ä¼šé‡ç½®ã€‚</p>
<h3 data-id="heading-22">ç¬¬äºŒå±‚ï¼šå†…å®¹é‡å¤æ£€æµ‹ï¼ˆ"å’’è¯­"æ£€æµ‹ï¼‰</h3>
<p>è¿™æ˜¯æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œç”¨æ¥æ£€æµ‹ LLM è¾“å‡ºé‡å¤å†…å®¹çš„æƒ…å†µï¼Œå°±åƒåœ¨å¿µå’’è¯­ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> checkContentLoop(content: string): boolean {
    <span class="hljs-comment">// 1. å…ˆæ£€æŸ¥æ˜¯å¦åœ¨ç‰¹æ®Šå†…å®¹å—ä¸­ï¼ˆä»£ç å—ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">const</span> numFences = (content.match(/```/g) ?? []).length;
    <span class="hljs-keyword">const</span> hasTable = /(^|\n)\s*(|.*||[|+-]{<span class="hljs-number">3</span>,})/.test(content);
    <span class="hljs-comment">// ... æ£€æŸ¥å„ç§æ ¼å¼</span>
    
    <span class="hljs-comment">// åœ¨ä»£ç å—ä¸­ä¸æ£€æµ‹å¾ªç¯ï¼ˆä»£ç æœ¬æ¥å°±å¯èƒ½æœ‰é‡å¤ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inCodeBlock) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// 2. æŠŠæ–°å†…å®¹åŠ å…¥å†å²</span>
    <span class="hljs-keyword">this</span>.streamContentHistory += content;
    
    <span class="hljs-comment">// 3. ä¿æŒå†å²åœ¨ 1000 å­—ç¬¦ä»¥å†…</span>
    <span class="hljs-keyword">this</span>.truncateAndUpdate();
    
    <span class="hljs-comment">// 4. åˆ†æå†…å®¹å—æ˜¯å¦é‡å¤</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.analyzeContentChunksForLoop();
}
</code></pre>
<p>æ ¸å¿ƒç®—æ³•æ˜¯æ»‘åŠ¨çª—å£ + å“ˆå¸Œæ£€æµ‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> analyzeContentChunksForLoop(): boolean {
    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.hasMoreChunksToProcess()) {
        <span class="hljs-comment">// æå– 50 å­—ç¬¦çš„å—</span>
        <span class="hljs-keyword">const</span> currentChunk = <span class="hljs-keyword">this</span>.streamContentHistory.substring(
            <span class="hljs-keyword">this</span>.lastContentIndex,
            <span class="hljs-keyword">this</span>.lastContentIndex + CONTENT_CHUNK_SIZE  <span class="hljs-comment">// 50</span>
        );
        
        <span class="hljs-comment">// è®¡ç®—å“ˆå¸Œ</span>
        <span class="hljs-keyword">const</span> chunkHash = createHash(<span class="hljs-string">'sha256'</span>).update(currentChunk).digest(<span class="hljs-string">'hex'</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥è¿™ä¸ªå—æ˜¯å¦é‡å¤å‡ºç°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isLoopDetectedForChunk(currentChunk, chunkHash)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// æ»‘åŠ¨çª—å£å‘å‰ç§»åŠ¨ 1 ä¸ªå­—ç¬¦</span>
        <span class="hljs-keyword">this</span>.lastContentIndex++;
    }
}
</code></pre>
<p>åˆ¤æ–­å¾ªç¯çš„æ¡ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> isLoopDetectedForChunk(chunk: string, hash: string): boolean {
    <span class="hljs-keyword">const</span> existingIndices = <span class="hljs-keyword">this</span>.contentStats.<span class="hljs-keyword">get</span>(hash);
    
    <span class="hljs-keyword">if</span> (!existingIndices) {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¸ªå—ï¼Œè®°å½•ä½ç½®</span>
        <span class="hljs-keyword">this</span>.contentStats.<span class="hljs-keyword">set</span>(hash, [<span class="hljs-keyword">this</span>.lastContentIndex]);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// éªŒè¯å†…å®¹ç¡®å®ç›¸åŒï¼ˆé˜²æ­¢å“ˆå¸Œç¢°æ’ï¼‰</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isActualContentMatch(chunk, existingIndices[<span class="hljs-number">0</span>])) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    existingIndices.push(<span class="hljs-keyword">this</span>.lastContentIndex);
    
    <span class="hljs-comment">// éœ€è¦å‡ºç°è‡³å°‘ 10 æ¬¡</span>
    <span class="hljs-keyword">if</span> (existingIndices.length &lt; CONTENT_LOOP_THRESHOLD) {  <span class="hljs-comment">// 10</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šè¿™ 10 æ¬¡å¿…é¡»è·ç¦»å¾ˆè¿‘ï¼ˆå¹³å‡è·ç¦» â‰¤ 75 å­—ç¬¦ï¼‰</span>
    <span class="hljs-keyword">const</span> recentIndices = existingIndices.slice(-CONTENT_LOOP_THRESHOLD);
    <span class="hljs-keyword">const</span> totalDistance = recentIndices[recentIndices.length - <span class="hljs-number">1</span>] - recentIndices[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> averageDistance = totalDistance / (CONTENT_LOOP_THRESHOLD - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> maxAllowedDistance = CONTENT_CHUNK_SIZE * <span class="hljs-number">1.5</span>;  <span class="hljs-comment">// 75</span>
    
    <span class="hljs-keyword">return</span> averageDistance &lt;= maxAllowedDistance;
}
</code></pre>
<p>è§¦å‘æ¡ä»¶ï¼šåŒä¸€ä¸ª 50 å­—ç¬¦çš„å†…å®¹å—ï¼Œåœ¨å¾ˆçŸ­çš„è·ç¦»å†…é‡å¤å‡ºç° 10 æ¬¡ã€‚</p>
<h3 data-id="heading-23">ç¬¬ä¸‰å±‚ï¼šLLM æ™ºèƒ½æ£€æµ‹</h3>
<p>è¿™æ˜¯æœ€é«˜çº§çš„æ£€æµ‹ï¼Œç”¨ AI æ¥åˆ¤æ–­ AI æ˜¯å¦é™·å…¥å¾ªç¯ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">private</span> async <span class="hljs-title function_ invoke__">checkForLoopWithLLM</span>(<span class="hljs-attr">signal</span>: AbortSignal) {
    <span class="hljs-comment">// å–æœ€è¿‘ 20 è½®å¯¹è¯</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">recentHistory</span> = this.config
        .<span class="hljs-title function_ invoke__">getGeminiClient</span>()
        .<span class="hljs-title function_ invoke__">getHistory</span>()
        .<span class="hljs-title function_ invoke__">slice</span>(-LLM_LOOP_CHECK_HISTORY_COUNT);  <span class="hljs-comment">// 20</span>
    
    <span class="hljs-comment">// æ¸…ç†å†å²ï¼ˆå»æ‰æ‚¬ç©ºçš„å‡½æ•°è°ƒç”¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">trimmedHistory</span> = this.<span class="hljs-title function_ invoke__">trimRecentHistory</span>(recentHistory);
    
    <span class="hljs-comment">// è®© Gemini Flash æ¨¡å‹åˆ†æ</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">result</span> = await this.config.<span class="hljs-title function_ invoke__">getBaseLlmClient</span>().<span class="hljs-title function_ invoke__">generateJson</span>({
        <span class="hljs-attr">contents</span>: [...trimmedHistory, { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">parts</span>: [{ <span class="hljs-attr">text</span>: taskPrompt }] }],
        <span class="hljs-attr">schema</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
            <span class="hljs-attr">properties</span>: {
                <span class="hljs-attr">reasoning</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span> },
                <span class="hljs-attr">confidence</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'number'</span> }  // <span class="hljs-number">0</span>-<span class="hljs-number">1</span> ä¹‹é—´
            }
        },
        <span class="hljs-attr">model</span>: DEFAULT_GEMINI_FLASH_MODEL,
        <span class="hljs-attr">systemInstruction</span>: LOOP_DETECTION_SYSTEM_PROMPT
    });
    
    <span class="hljs-keyword">if</span> (result[<span class="hljs-string">'confidence'</span>] &gt; <span class="hljs-number">0.9</span>) {
        <span class="hljs-comment">// é«˜ç½®ä¿¡åº¦è®¤ä¸ºæ˜¯å¾ªç¯</span>
        console.<span class="hljs-title function_ invoke__">warn</span>(result[<span class="hljs-string">'reasoning'</span>]);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>è§¦å‘æ—¶æœºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">async turnStarted(signal: AbortSignal) {
    <span class="hljs-keyword">this</span>.turnsInCurrentPrompt++;
    
    <span class="hljs-keyword">if</span> (
        <span class="hljs-keyword">this</span>.turnsInCurrentPrompt &gt;= LLM_CHECK_AFTER_TURNS &amp;&amp;  <span class="hljs-comment">// è‡³å°‘ 30 è½®</span>
        <span class="hljs-keyword">this</span>.turnsInCurrentPrompt - <span class="hljs-keyword">this</span>.lastCheckTurn &gt;= <span class="hljs-keyword">this</span>.llmCheckInterval
    ) {
        <span class="hljs-keyword">this</span>.lastCheckTurn = <span class="hljs-keyword">this</span>.turnsInCurrentPrompt;
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.checkForLoopWithLLM(signal);
    }
}
</code></pre>
<ul>
<li>å¿…é¡»æ‰§è¡Œè¶…è¿‡ 30 è½®æ‰å¼€å§‹æ£€æŸ¥ï¼ˆé¿å…è¯¯åˆ¤ï¼‰</li>
<li>ä¸æ˜¯æ¯è½®éƒ½æ£€æŸ¥ï¼Œæœ‰é—´éš”ï¼ˆé»˜è®¤ 3 è½®ï¼‰</li>
<li>é—´éš”ä¼šæ ¹æ®ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´ï¼ˆ5-15 è½®ï¼‰</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€è°ƒæ•´æ£€æŸ¥é¢‘ç‡</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">llmCheckInterval</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(
    <span class="hljs-variable constant_">MIN_LLM_CHECK_INTERVAL</span> +  <span class="hljs-comment">// 5</span>
    (<span class="hljs-variable constant_">MAX_LLM_CHECK_INTERVAL</span> - <span class="hljs-variable constant_">MIN_LLM_CHECK_INTERVAL</span>) * (<span class="hljs-number">1</span> - result[<span class="hljs-string">'confidence'</span>])
    <span class="hljs-comment">// ç½®ä¿¡åº¦è¶Šé«˜ï¼Œæ£€æŸ¥è¶Šé¢‘ç¹</span>
);
</code></pre>
<h2 data-id="heading-24">ä¸‰ç§å¾ªç¯ç±»å‹</h2>
<p>ç³»ç»Ÿå®šä¹‰äº†ä¸‰ç§å¾ªç¯ç±»å‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">LoopType</span> {
    CONSECUTIVE_IDENTICAL_TOOL_CALLS,  <span class="hljs-comment">// è¿ç»­ç›¸åŒå·¥å…·è°ƒç”¨</span>
    CHANTING_IDENTICAL_SENTENCES,      <span class="hljs-comment">// é‡å¤è¾“å‡ºç›¸åŒå†…å®¹</span>
    LLM_DETECTED_LOOP                  <span class="hljs-comment">// LLM æ£€æµ‹åˆ°çš„é€»è¾‘å¾ªç¯</span>
}
</code></pre>
<p>æ¯ç§éƒ½æœ‰ä¸åŒçš„æ£€æµ‹æ–¹æ³•å’Œè§¦å‘æ¡ä»¶ã€‚</p>
<p>è¿™æ¯”è¾ƒé€‚åˆå¤„ç†é•¿å¯¹è¯åœºæ™¯ï¼Œæ—¢èƒ½æœ‰æ•ˆæ£€æµ‹å¾ªç¯ï¼Œåˆä¸ä¼šå› ä¸ºè¿‡äºæ•æ„Ÿè€Œè¯¯åˆ¤æ­£å¸¸çš„è¿­ä»£æ“ä½œã€‚</p>
<h2 data-id="heading-25">å°ç»“</h2>
<p>AI Agent çš„åœæ­¢ç­–ç•¥æ˜¯ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†ä½†æå…¶é‡è¦çš„æŠ€æœ¯é—®é¢˜ã€‚ä»åŸç†ä¸Šçœ‹ï¼ŒAgent å°±æ˜¯ä¸€ä¸ªå¤§å¾ªç¯ï¼Œä¸æ–­è°ƒç”¨ LLM å’Œå·¥å…·æ¥å®Œæˆä»»åŠ¡ï¼Œä½†å¦‚æœæ²¡æœ‰åˆç†çš„åœæ­¢æœºåˆ¶ï¼Œå°±ä¼šå‡ºç°æ— é™å¾ªç¯æµªè´¹èµ„æºï¼Œæˆ–è€…è¿‡æ—©åœæ­¢æ— æ³•å®Œæˆä»»åŠ¡çš„é—®é¢˜ã€‚å¸¸è§çš„åœæ­¢æ–¹æ¡ˆåŒ…æ‹¬ç¡¬æ€§é™åˆ¶ï¼ˆæ­¥æ•°ã€æ—¶é—´ã€APIè°ƒç”¨æ¬¡æ•°ï¼‰ã€ä»»åŠ¡å®Œæˆæ£€æµ‹ã€æ˜¾å¼åœæ­¢ä¿¡å·ã€å¾ªç¯æ£€æµ‹ã€é”™è¯¯ç´¯ç§¯å’Œç”¨æˆ·ä¸­æ–­ç­‰ï¼Œå®é™…åº”ç”¨ä¸­éœ€è¦ç»„åˆä½¿ç”¨å¤šç§ç­–ç•¥ã€‚</p>
<p>OpenManus é‡‡ç”¨äº†ç›¸å¯¹ç®€å•ç›´æ¥çš„è®¾è®¡ï¼šç»™æ¯ä¸ª Agent é…å¤‡ terminate å·¥å…·ï¼Œè®© LLM è‡ªå·±å†³å®šä½•æ—¶åœæ­¢ï¼ŒåŒæ—¶ç”¨çŠ¶æ€æœºç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œé…åˆæ­¥æ•°é™åˆ¶ä½œä¸ºä¿åº•ï¼Œå¹¶ç¡®ä¿æ— è®ºå¦‚ä½•åœæ­¢éƒ½ä¼šæ­£ç¡®æ¸…ç†èµ„æºã€‚</p>
<p>è€Œ Gemini CLI çš„è®¾è®¡æ›´åŠ ç²¾å·§ï¼Œæ ¸å¿ƒæ˜¯å£°æ˜å¼è¾“å‡ºç³»ç»Ÿâ€”â€”é¢„å…ˆå®šä¹‰éœ€è¦ä»€ä¹ˆè¾“å‡ºï¼Œåªæœ‰å…¨éƒ¨è¾“å‡ºæ‰ç®—å®Œæˆï¼Œå¦‚æœ Agent åœæ­¢è°ƒç”¨å·¥å…·ä½†è¿˜æœ‰å˜é‡æœªè¾“å‡ºï¼Œç³»ç»Ÿä¼šé€šè¿‡ Nudge æœºåˆ¶æ¸©å’Œæé†’ï¼›åœ¨å¾ªç¯æ£€æµ‹ä¸Šï¼ŒGemini å®ç°äº†ä¸‰å±‚é˜²æŠ¤ï¼šå·¥å…·è°ƒç”¨é‡å¤æ£€æµ‹ï¼ˆè¿ç»­5æ¬¡ç›¸åŒè°ƒç”¨ï¼‰ã€å†…å®¹é‡å¤æ£€æµ‹ï¼ˆæ»‘åŠ¨çª—å£+å“ˆå¸Œç®—æ³•æ£€æµ‹"å’’è¯­"ç°è±¡ï¼‰ã€ä»¥åŠç”¨ LLM åˆ†æå¯¹è¯å†å²åˆ¤æ–­æ˜¯å¦é™·å…¥é€»è¾‘å¾ªç¯ã€‚</p>
<p>å®è·µä¸­çš„å…³é”®æ˜¯ä¸è¦ä¾èµ–å•ä¸€åœæ­¢æœºåˆ¶ï¼Œè¦ç»„åˆä½¿ç”¨å¤šç§ç­–ç•¥å½¢æˆå¤šå±‚é˜²æŠ¤ï¼Œç»™ LLM æ˜ç¡®çš„åœæ­¢æŒ‡å¼•ï¼Œä¸ºä¸åŒç±»å‹çš„åœæ­¢åŸå› æä¾›æ¸…æ™°çš„ç”¨æˆ·åé¦ˆï¼Œå¹¶ç¡®ä¿èµ„æºèƒ½å¤Ÿå¯é æ¸…ç†ã€‚åœæ­¢ç­–ç•¥çš„æœ¬è´¨æ˜¯åœ¨"è®© Agent å®Œæˆä»»åŠ¡"å’Œ"é˜²æ­¢å¤±æ§"ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot åŸç†ä¸“é¢˜]]></title>    <link>https://juejin.cn/post/7592088192506134582</link>    <guid>https://juejin.cn/post/7592088192506134582</guid>    <pubDate>2026-01-06T05:17:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592088192506134582" data-draft-id="7590961898399203366" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot åŸç†ä¸“é¢˜"/> <meta itemprop="keywords" content="Spring Boot,Java,Spring"/> <meta itemprop="datePublished" content="2026-01-06T05:17:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªé‡Œçš„ç ´æ°´ç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/4394111849466414"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot åŸç†ä¸“é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4394111849466414/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªé‡Œçš„ç ´æ°´ç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T05:17:41.000Z" title="Tue Jan 06 2026 05:17:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¼˜å…ˆçº§ä¸æ‰“åŒ…</h2>
<ol>
<li>å‘½ä»¤è¡Œå‚æ•°</li>
<li>ç³»ç»Ÿç¯å¢ƒ</li>
<li>properties</li>
<li>yml</li>
<li>yaml</li>
</ol>
<blockquote>
<p>æ‰“åŒ…æ’ä»¶</p>
</blockquote>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${spring-boot.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.example.DemoApplication<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">skip</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">skip</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<blockquote>
<p>æ‰“åŒ…åè¿è¡Œï¼Œå¸¦é¢å¤–å‚æ•°</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">java -Dserver.port=9000 -jar dd.jar
</code></pre>
<h2 data-id="heading-1">Bean ä½œç”¨åŸŸ</h2>





























<table><thead><tr><th>ä½œç”¨åŸŸ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>singleton</td><td>å®¹å™¨å†…åŒ åç§° çš„ bean åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹ï¼‰ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>prototype</td><td>æ¯æ¬¡ä½¿ç”¨è¯¥ bean æ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆéå•ä¾‹/å¤šä¾‹ï¼‰</td></tr><tr><td>request</td><td>æ¯ä¸ªè¯·æ±‚èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr><tr><td>session</td><td>æ¯ä¸ªä¼šè¯èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr><tr><td>application</td><td>æ¯ä¸ªåº”ç”¨èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr></tbody></table>
<blockquote>
<p>é…ç½® Scope æ³¨è§£ï¼Œé€‰æ‹©å•ä¾‹</p>
</blockquote>
<ul>
<li>Lazy è¡¨ç¤ºå»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤æ˜¯å¯åŠ¨æ—¶åŠ è½½ï¼Œé…ç½®åè¡¨ç¤ºå»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨åŠ è½½</li>
<li>SCOPE_SINGLETON å•ä¾‹</li>
<li>SCOPE_PROTOTYPE éå•ä¾‹</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Lazy</span>
<span class="hljs-meta">@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicController</span> {}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å•ä¾‹æ˜¯æ— çŠ¶æ€çš„ï¼Œå¤šä¾‹æ˜¯æœ‰çŠ¶æ€çš„ã€‚</li>
<li>å•ä¾‹æ˜¯èŠ‚çº¦èµ„æºï¼Œæå‡æ€§èƒ½</li>
<li>å•ä¾‹beanï¼šå¦‚æœæ˜¯æ— çŠ¶æ€çš„beanï¼Œå†…éƒ¨ä¸ä¿å­˜ä»»ä½•çŠ¶æ€ä¿¡æ¯ï¼Œåˆ™æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li>
<li>å•ä¾‹beanï¼šå¦‚æœæ˜¯æœ‰çŠ¶æ€çš„beanï¼Œå†…éƒ¨ä¼šä¿å­˜çŠ¶æ€ä¿¡æ¯ï¼Œå¤šä¸ªçº¿ç¨‹ä¼šåŒæ—¶æ“ä½œè¯¥beanæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ ·çš„beanåˆ™æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</li>
</ol>
<h2 data-id="heading-2">èµ·æ­¥ä¾èµ–</h2>
<p>ä¾èµ–ï¼Œå…·æœ‰ä¼ é€’æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4724f85fadbb4fdc8fa7ef6d32531cbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=toz%2BAjKy9M%2FMpFsJJX1HOGbduuo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e08b52d87ac486fa565654983cad758~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=gSjphezX%2ByiC0AJKK%2Fj4rvUwD94%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">è‡ªåŠ¨é…ç½®</h2>
<p>SpringBootçš„è‡ªåŠ¨é…ç½®å°±æ˜¯å½“springé¡¹ç›®å¯åŠ¨åï¼Œä¸€äº›é…ç½®ç±»ã€beanå¯¹è±¡å°±è‡ªåŠ¨å­˜å…¥åˆ°äº†IOCå®¹å™¨ä¸­ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»å£°æ˜ï¼Œä»è€Œç®€åŒ–äº†å¼€å‘ï¼Œçœå»äº†ç¹ççš„é…ç½®æ“ä½œã€‚</p>
<blockquote>
<p>æ¯”å¦‚ï¼šå¼•å…¥äº†redisä¾èµ–ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥Redisä½¿ç”¨ã€‚</p>
</blockquote>
<p>å®ç°æ–¹æ¡ˆä¸€</p>
<p>åŠ å…¥å¦ä¸€ä¸ªé¡¹ç›®çš„ä¾èµ–ï¼Œå¼•å…¥ä¾èµ–ï¼Œå¹¶åœ¨ä¸»ç±»ä¸ŠåŠ ä¸ŠåŒ…æ‰«æï¼Œæ‰«æè¯¥ä¾èµ–çš„åŒ…ï¼Œä¸æ¨èï¼Œ<strong>åŸå› æ˜¯æ“ä½œéº»çƒ¦+æ€§èƒ½ä½</strong></p>
<p>å®ç°æ–¹æ¡ˆäºŒ</p>
<p>ç±»ä¸éœ€è¦åŠ ä»»ä½•æ³¨è§£ï¼Œç›´æ¥ä½¿ç”¨ Import å¯¼å…¥ï¼Œæˆ–è€…ä½¿ç”¨Imort å¯¼å…¥ä¸€ä¸ªé…ç½®ç±»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Import(TokenService.class)</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {
</code></pre>
<blockquote>
<p>é…ç½®ç±»ä»£ç </p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyImportSelector</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ImportSelector</span> {

    <span class="hljs-comment">// è¿”å›å¤šä¸ªç±»çš„å…¨é™å®šå‘½å</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String[] selectImports(AnnotationMetadata importingClassMetadata) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"com.example.aop.RecordTimeAspect2"</span>};
    }
}

</code></pre>
<p>å®ç°æ–¹æ¡ˆä¸‰ï¼šåŠ æ³¨è§£çš„æ–¹å¼ï¼Œæœ€å®ç”¨</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ ¸å¿ƒè¿˜æ˜¯ç”¨æ–¹å¼äºŒ</span>
<span class="hljs-meta">@Import(MyImportSelector.class)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> EnableHeaderConfig {
}

</code></pre>
<h2 data-id="heading-4">æ¡ä»¶åˆ¤æ–­ / è‡ªåŠ¨é…ç½®</h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ç»å¸¸éœ€è¦åˆ¤æ–­è¯¥ç±»åº”ä¸åº”è¯¥æ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ã€‚</p>
<ul>
<li>
<p>ä½œç”¨ï¼šæŒ‰ç…§ä¸€å®šçš„æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨æ»¡è¶³ç»™å®šæ¡ä»¶åæ‰ä¼šæ³¨å†Œå¯¹åº”çš„beanå¯¹è±¡åˆ°Spring IOCå®¹å™¨ä¸­ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šæ–¹æ³•ã€ç±»</p>
</li>
<li>
<p>@Conditional æœ¬èº«æ˜¯ä¸€ä¸ªçˆ¶æ³¨è§£ï¼Œæ´¾ç”Ÿå‡ºå¤§é‡çš„å­æ³¨è§£ï¼š</p>
</li>
<li>
<p>@ConditionalOnClassï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦æœ‰å¯¹åº”å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
<li>
<p>@ConditionalOnMissingBeanï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ²¡æœ‰å¯¹åº”çš„beanï¼ˆç±»å‹ æˆ– åç§°ï¼‰ ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
<li>
<p>@ConditionalOnPropertyï¼šåˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æœ‰å¯¹åº”å±æ€§å’Œå€¼ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span>
<span class="hljs-comment">// åˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨io.jsonwebtoken.Jwtsï¼Œå¦‚æœæœ‰å°±åˆ›å»ºè¯¥Bean</span>
<span class="hljs-meta">@ConditionalOnClass(name = "io.jsonwebtoken.Jwts")</span>
<span class="hljs-comment">// åˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨è¯¥ç±»ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºè¯¥Bean</span>
<span class="hljs-meta">@ConditionalOnMissingBean</span>
<span class="hljs-comment">// åˆ¤æ–­å±æ€§å€¼æ˜¯å¦ä¸ºtrue,åœ¨é…ç½®æ–‡ä»¶ä¸­</span>
<span class="hljs-meta">@ConditionalOnProperty(name = "enable", havingValue = "true")</span>
<span class="hljs-keyword">public</span> RecordTimeAspect2 <span class="hljs-title function_">recordTimeAspect2</span><span class="hljs-params">()</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecordTimeAspect2</span>();
}
</code></pre>
<blockquote>
<p>è‡ªå·±å®šä¹‰è‡ªåŠ¨é…ç½®ç±»çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆ? å¦‚ä½•å®Œæˆè‡ªåŠ¨é…ç½®ï¼Ÿ</p>
</blockquote>
<ol>
<li>å®šä¹‰è‡ªåŠ¨é…ç½®ç±»</li>
<li>å°†è‡ªåŠ¨é…ç½®ç±»é…ç½®åœ¨ META-INF/spring/</li>
<li>org.springframework.boot.autoconfigure.AutoConfiguration.importsæ–‡ä»¶ä¸­</li>
</ol>
<h2 data-id="heading-5">è‡ªå®šä¹‰Starter</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c64e0497e1dd44f2bbf70cec02697ff6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=gUvg2PstGvemeg%2BcwsxvkHJtkuk%3D" alt="image.png" loading="lazy"/></p>
<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰aliyun-oss-spring-boot-starterï¼Œå®Œæˆé˜¿é‡Œäº‘OSSæ“ä½œå·¥å…·ç±» AliyunOSSOperator çš„è‡ªåŠ¨é…ç½®ã€‚</p>
<p>ç›®æ ‡ï¼šå¼•å…¥èµ·æ­¥ä¾èµ–å¼•å…¥ä¹‹åï¼Œè¦æƒ³ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œæ³¨å…¥ AliyunOSSOperator ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºaliyun-oss-spring-boot-starteræ¨¡å—</li>
<li>åˆ›å»ºaliyun-oss-spring-boot-autoconfigureæ¨¡å—ï¼Œåœ¨starterä¸­å¼•å…¥è¯¥æ¨¡å—</li>
<li>åœ¨aliyun-oss-spring-boot-autoconfigureæ¨¡å—ä¸­çš„å®šä¹‰è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œå¹¶å®šä¹‰è‡ªåŠ¨é…ç½®æ–‡ä»¶ META-INF/spring/xxxx.imports</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/394d2c5291894d1590ce164173b56718~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=5JWr0ECT7kmrzFmW0ityFVo%2Bl18%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„ï¼šé€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ— éœ€è¦é€‰ä¾èµ–</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f69e841e347b46b38a91e476c10033f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=lhLVPCRXLPQ1DLTTPdfyymuTxrE%3D" alt="image.png" loading="lazy"/></p>
<p>åªéœ€è¦ä¾èµ–æ˜¯ spring-boot-starter å°±å¯ä»¥ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!--    å¸®åŠ©yamlæç¤º    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableConfigurationProperties(OSSProperties.class)</span> <span class="hljs-comment">// å¼•å…¥é…ç½®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OSSConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> OSS <span class="hljs-title function_">endpoint</span><span class="hljs-params">(OSSProperties ossProperties)</span> {
        <span class="hljs-type">DefaultCredentialProvider</span> <span class="hljs-variable">defaultCredentialProvider</span> <span class="hljs-operator">=</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultCredentialProvider</span>(ossProperties.getAccessKeyId(), ossProperties.getSecretAccessKey());
        <span class="hljs-type">ClientBuilderConfiguration</span> <span class="hljs-variable">clientBuilderConfiguration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientBuilderConfiguration</span>();
        clientBuilderConfiguration.setSignatureVersion(SignVersion.V4);
        <span class="hljs-keyword">return</span> OSSClientBuilder.create()
                .endpoint(<span class="hljs-string">"https://"</span> + ossProperties.getEndpoint())
                .credentialsProvider(defaultCredentialProvider)
                .clientConfiguration(clientBuilderConfiguration)
                .region(extractRegion(ossProperties.getEndpoint()))
                .build();
    }

    <span class="hljs-comment">/**
     * è·å– region
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">extractRegion</span><span class="hljs-params">(String endpoint)</span> {
        <span class="hljs-keyword">if</span> (endpoint == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> endpoint.indexOf(<span class="hljs-string">"oss-"</span>);
        <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> endpoint.indexOf(<span class="hljs-string">".aliyuncs.com"</span>);
        <span class="hljs-keyword">if</span> (start == -<span class="hljs-number">1</span> || end == -<span class="hljs-number">1</span> || start + <span class="hljs-number">4</span> &gt;= end)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Invalid endpoint: "</span> + endpoint);
        <span class="hljs-keyword">return</span> endpoint.substring(start + <span class="hljs-number">4</span>, end);
    }

}

</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ConfigurationProperties(prefix = "aliun.oss")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OSSProperties</span> {

    <span class="hljs-keyword">private</span> String endpoint;
    <span class="hljs-keyword">private</span> String accessKeyId;
    <span class="hljs-keyword">private</span> String secretAccessKey;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼]]></title>    <link>https://juejin.cn/post/7592119218029559842</link>    <guid>https://juejin.cn/post/7592119218029559842</guid>    <pubDate>2026-01-06T12:13:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592119218029559842" data-draft-id="7591350620189343750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-06T12:13:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T12:13:02.000Z" title="Tue Jan 06 2026 12:13:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    92
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>æˆ‘æ˜¯[<a href="https://juejin.cn/user/465848660928872" title="https://juejin.cn/user/465848660928872" target="_blank">æå‰é€€ä¼‘çš„javaçŒ¿</a>]ï¼Œä¸€å7å¹´javaå¼€å‘ç»éªŒçš„å¼€å‘ç»„é•¿ï¼Œåˆ†äº«å·¥ä½œä¸­çš„å„ç§é—®é¢˜ï¼ï¼ˆéœ€è¦æ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–ä¹Ÿå¯æ‰¾æˆ‘ï¼‰</p>
</blockquote>
<p>å‰ä¸€ä¸¤å‘¨ï¼Œå…¬å¸çš„ä¸šåŠ¡å‡ºäº†é‡å¤§é—®é¢˜ã€‚æ•°æ®åº“çš„æœåŠ¡å™¨<code>CPU 100%</code>ç„¶åä¸€äº›é‡è¦çš„æŠ½å¥–ä¸šåŠ¡ç«Ÿç„¶å‡ºç°ç‰©å“è¶…é¢†çš„æƒ…å†µã€‚</p>
<p>åŒäº‹çš„åé¦ˆå°±æ˜¯ ä¸€ä¸ªäº‹åŠ¡é‡Œé¢ åªæ‰§è¡Œäº†ååŠéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯é¢†å–è®°å½•æ’å…¥ï¼ˆ<code>Bæ“ä½œ</code>ï¼‰æˆåŠŸäº†ï¼Œåº“å­˜æ‰£å‡ï¼ˆ<code>Aæ“ä½œ</code>ï¼‰æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<p><strong>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼ˆå¤§å®¶çœ‹ä¸€ä¸‹äº‹åŠ¡æ˜¯å¦å¤±æ•ˆğŸ¤¶ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">//----------------------------------------controllerä»£ç ---------------------------------------</span>
<span class="hljs-meta">@RedisRateLimiter(value = 100,limit = 1)</span>
<span class="hljs-meta">@PostMapping(value = "/grabCoupon")</span>
<span class="hljs-keyword">public</span> Res&lt;?&gt; equityClaim(<span class="hljs-meta">@RequestBody</span> GrabCouponReqEx req) {
    .........service ä½¿ç”¨<span class="hljs-meta">@Resource</span> æ³¨å…¥..... 
    <span class="hljs-keyword">return</span> service.grabCouponTrans(req);
}
    
    
---------------------------------------service implä»£ç ----------------------------------------
<span class="hljs-meta">@Transactional(rollbackFor = RuntimeException.class)</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Result&lt;?&gt; grabCouponTrans(GrabCouponReqEx req) {
       <span class="hljs-comment">// å¯¹æ‰€æœ‰ä»£ç è¿›è¡Œ tryï¼Œç„¶åæŠ›å‡ºRuntimException è®©æ¡†æ¶å›æ»š</span>
       <span class="hljs-keyword">try</span>{
       .............................
        <span class="hljs-comment">//âœ… Aæ“ä½œï¼šåº“å­˜æ‰£å‡ï¼Œè¿™ä¸ªåœ°æ–¹å¯¹åº“å­˜-1ï¼Œå¦‚æœæ›´æ–°è¡Œæ•°å¤§ä¸0è¿”å›true </span>
        <span class="hljs-comment">//UPDATE t SET num =  num -1  WHERE id = #{id} AND num &gt; 0;</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isok</span> <span class="hljs-operator">=</span> reduceInventory(id);
        <span class="hljs-keyword">if</span> (isok) {
            <span class="hljs-comment">// âœ…Bæ“ä½œï¼šæ’å…¥é¢†å–è®°å½•ï¼Œæ’å…¥æˆåŠŸè¿”å› true</span>
            <span class="hljs-type">Boolean</span> <span class="hljs-variable">insetSuc</span> <span class="hljs-operator">=</span> insertRecord(record);
            <span class="hljs-keyword">if</span> (!insetSuc) {
               <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"é¢†å–å¤±è´¥ï¼"</span>);
            }
            <span class="hljs-keyword">return</span> result;
        } 
    }<span class="hljs-keyword">catch</span> (Exception e){
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"xxxx"</span>);
    }
}
</code></pre>
<p>ğŸ§”ï¼šå¾ˆå¤šç½‘å‹éƒ½è¯´thisè°ƒç”¨äº†<code>reduceInventoryã€insertRecord</code>æ–¹æ³•äº‹ç‰©ä¸ä¼šç”Ÿæ•ˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4464aa6bbe42da89307602f692718f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o-Q5YmN6YCA5LyR55qEamF2YeeMvw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393316&amp;x-signature=YlSIwmf4XV4khQT8BxkCTSGx%2FnY%3D" alt="e9415f300e26bac81e2e9599d1a096a4.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d730201350a46ca8a0fbb5e9c9efb5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o-Q5YmN6YCA5LyR55qEamF2YeeMvw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393316&amp;x-signature=68zS8pvZVwWpPyJF%2FIa%2BwvyPoaE%3D" alt="a9753e917f19a33cfe906f84c83b2110.jpg" loading="lazy"/></p>
<blockquote>
<p>âœ”è¿™ç§ç†è§£è‚¯å®šæ˜¯ä¸å¯¹çš„ï¼Œthisè°ƒç”¨çš„å¤–å±‚æ–¹æ³•æ˜¯åŠ äº†äº‹ç‰©æ³¨è§£ï¼Œå¹¶ä¸”æ˜¯@Resourceæ³¨å…¥è°ƒç”¨ï¼Œæ˜¯èƒ½è¢«ä»£ç†çš„ã€‚å¤–å±‚æ–¹æ³•éƒ½è¢«æ‹¦æˆªäº†ä»£ç†äº†ï¼Œæ–¹æ³•å†…éƒ¨å†thisè°ƒç”¨ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé»˜è®¤å°±åŠ å…¥å½“å‰äº‹åŠ¡äº†ï¼Œå¦‚æœå†…éƒ¨æ–¹æ³•é€šè¿‡å®¹å™¨å¯¹è±¡è·å–ï¼Œå¹¶ä¸”æœ‰äº‹ç‰©æ³¨è§£è¿™æ—¶å€™å°±æ˜¯çœ‹äº‹ç‰©çš„ä¼ æ’­æœºåˆ¶äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äº‹åŠ¡æºç åˆ†æ</h2>
<p>ä¸‹é¢å°±æ˜¯äº‹åŠ¡æ‹¦æˆªå™¨ä¸»è¦çš„ä»£ç é€»è¾‘ <code>TransactionAspectSupport.invokeWithinTransaction</code>:</p>
<ul>
<li>åˆ›å»ºæˆ–è·å–äº‹åŠ¡</li>
<li>æ‰§è¡Œä¸šåŠ¡æ–¹æ³•</li>
<li>æ•æ‰å¼‚å¸¸ï¼šæœ‰å¼‚å¸¸å¤„ç†å›æ»šã€æ²¡æœ‰åŒ¹é…åˆ°å›æ»šå¼‚å¸¸åˆ™æäº¤äº‹åŠ¡</li>
<li>æ¸…ç†äº‹åŠ¡ä¿¡æ¯</li>
<li>æäº¤äº‹åŠ¡</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">invokeWithinTransaction</span><span class="hljs-params">(Method method, <span class="hljs-meta">@Nullable</span> Class&lt;?&gt; targetClass,
       <span class="hljs-keyword">final</span> InvocationCallback invocation)</span> <span class="hljs-keyword">throws</span> Throwable {

    <span class="hljs-comment">// If the transaction attribute is null, the method is non-transactional.</span>
    <span class="hljs-type">TransactionAttributeSource</span> <span class="hljs-variable">tas</span> <span class="hljs-operator">=</span> getTransactionAttributeSource();
    <span class="hljs-keyword">final</span> <span class="hljs-type">TransactionAttribute</span> <span class="hljs-variable">txAttr</span> <span class="hljs-operator">=</span> (tas != <span class="hljs-literal">null</span> ? tas.getTransactionAttribute(method, targetClass) : <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">final</span> <span class="hljs-type">TransactionManager</span> <span class="hljs-variable">tm</span> <span class="hljs-operator">=</span> determineTransactionManager(txAttr);
    
    <span class="hljs-comment">// å¤„ç†å“åº”å¼äº‹åŠ¡ï¼ˆSpring 5.2+ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.reactiveAdapterRegistry != <span class="hljs-literal">null</span> &amp;&amp; tm <span class="hljs-keyword">instanceof</span> ReactiveTransactionManager) {
       ............................
       <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-type">PlatformTransactionManager</span> <span class="hljs-variable">ptm</span> <span class="hljs-operator">=</span> asPlatformTransactionManager(tm);
    <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">joinpointIdentification</span> <span class="hljs-operator">=</span> methodIdentification(method, targetClass, txAttr);

    <span class="hljs-keyword">if</span> (txAttr == <span class="hljs-literal">null</span> || !(ptm <span class="hljs-keyword">instanceof</span> CallbackPreferringPlatformTransactionManager)) {
        
       <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤1ï¼šåˆ›å»ºæˆ–è·å–äº‹åŠ¡ï¼ˆåˆ›å»ºæ–°äº‹åŠ¡è¿˜æ˜¯æ²¿ç”¨ä½¿ç”¨å°±çœ‹ä¼ æ’­æœºåˆ¶äº†ï¼‰</span>
       <span class="hljs-comment">// Standard transaction demarcation with getTransaction and commit/rollback calls.</span>
       <span class="hljs-type">TransactionInfo</span> <span class="hljs-variable">txInfo</span> <span class="hljs-operator">=</span> createTransactionIfNecessary(ptm, txAttr, joinpointIdentification);

       Object retVal;
       <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤2ï¼šæ‰§è¡Œä¸šåŠ¡æ–¹æ³•ï¼ˆAOPé“¾çš„ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨æˆ–ç›®æ ‡æ–¹æ³•ï¼‰ </span>
          (æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼šå†…éƒ¨è°ƒç”¨çš„æ–¹æ³•ä½¿ç”¨<span class="hljs-built_in">this</span>æŒ‡å‘é»˜è®¤ä¹Ÿæ˜¯è¢«æ‹¦æˆªçš„ï¼Œ
          å¦‚æœæœ‰äº‹åŠ¡æ³¨è§£å¹¶ä¸”é€šè¿‡å®¹å™¨å¯¹è±¡è°ƒç”¨ï¼Œæ‰§è¡Œçš„æ—¶å€™å°±ä¼šå†æ¬¡è¢«æ‹¦æˆªï¼Œæ­¤æ—¶äº‹åŠ¡çš„ä¼ æ’­æœºåˆ¶çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†)
          <span class="hljs-comment">// This is an around advice: Invoke the next interceptor in the chain.</span>
          <span class="hljs-comment">// This will normally result in a target object being invoked.</span>
          retVal = invocation.proceedWithInvocation();
       }
       <span class="hljs-keyword">catch</span> (Throwable ex) {
          <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤3ï¼šå¼‚å¸¸å¤„ç†å›æ»š</span>
          <span class="hljs-comment">// target invocation exception</span>
          completeTransactionAfterThrowing(txInfo, ex);
          <span class="hljs-keyword">throw</span> ex;
       }
       <span class="hljs-keyword">finally</span> {
          <span class="hljs-comment">//âœ…å…³é”®æ­¥éª¤4ï¼šæ¸…ç†äº‹åŠ¡ä¿¡æ¯</span>
          cleanupTransactionInfo(txInfo);
       }

       <span class="hljs-keyword">if</span> (retVal != <span class="hljs-literal">null</span> &amp;&amp; vavrPresent &amp;&amp; VavrDelegate.isVavrTry(retVal)) {
          <span class="hljs-comment">// Set rollback-only in case of Vavr failure matching our rollback rules...</span>
          <span class="hljs-type">TransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> txInfo.getTransactionStatus();
          <span class="hljs-keyword">if</span> (status != <span class="hljs-literal">null</span> &amp;&amp; txAttr != <span class="hljs-literal">null</span>) {
             retVal = VavrDelegate.evaluateTryFailure(retVal, txAttr, status);
          }
       }
       <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤5ï¼šæäº¤äº‹åŠ¡</span>
       commitTransactionAfterReturning(txInfo);
       <span class="hljs-keyword">return</span> retVal;
    }

    <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//**JTAï¼ˆJava Transaction APIï¼‰** Â æˆ–éœ€è¦å›è°ƒæœºåˆ¶çš„äº‹åŠ¡ç®¡ç†å™¨</span>
      <span class="hljs-comment">//...........................................................</span>
    }
}
</code></pre>
<h3 data-id="heading-2">ä¸€ã€åˆ›å»ºè·å–äº‹åŠ¡</h3>
<p>åˆ›å»ºäº‹åŠ¡ä¿¡æ¯<code>createTransactionIfNecessary</code>ï¼Œå¦‚æœä¹‹å‰å·²ç»å­˜åœ¨äº‹åŠ¡å°±èµ°éœ€è¦åˆ¤æ–­äº‹åŠ¡çš„ä¼ æ’­æœºåˆ¶äº†</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> TransactionInfo <span class="hljs-title function_">createTransactionIfNecessary</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> PlatformTransactionManager tm,
        <span class="hljs-meta">@Nullable</span> TransactionAttribute txAttr, <span class="hljs-keyword">final</span> String joinpointIdentification)</span> {
    
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æŒ‡å®šåç§°ï¼Œä½¿ç”¨æ–¹æ³•æ ‡è¯†ä½œä¸ºäº‹åŠ¡åç§°</span>
    <span class="hljs-keyword">if</span> (txAttr != <span class="hljs-literal">null</span> &amp;&amp; txAttr.getName() == <span class="hljs-literal">null</span>) {
        txAttr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelegatingTransactionAttribute</span>(txAttr) {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> joinpointIdentification;
            }
        };
    }
    
    <span class="hljs-type">TransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (txAttr != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// âœ…å…³é”®ï¼šæ ¹æ®ä¼ æ’­è¡Œä¸ºè·å–äº‹åŠ¡çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (tm != <span class="hljs-literal">null</span>) {
            status = tm.getTransaction(txAttr);  <span class="hljs-comment">// è¿™é‡Œå¤„ç†PROPAGATION_REQUIREDç­‰</span>
        }
        <span class="hljs-comment">// ...</span>
    }
    
    <span class="hljs-comment">// âœ…å‡†å¤‡äº‹åŠ¡ä¿¡æ¯</span>
    <span class="hljs-keyword">return</span> prepareTransactionInfo(tm, txAttr, joinpointIdentification, status);
}
</code></pre>
<p>è¿™æ˜¯æ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼Œåœ¨Â <code>AbstractPlatformTransactionManager.getTransaction()</code>Â ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> TransactionStatus <span class="hljs-title function_">getTransaction</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionDefinition definition)</span> <span class="hljs-keyword">throws</span> TransactionException {
    <span class="hljs-comment">// 1. è·å–äº‹åŠ¡å®šä¹‰</span>
    <span class="hljs-type">TransactionDefinition</span> <span class="hljs-variable">def</span> <span class="hljs-operator">=</span> (definition != <span class="hljs-literal">null</span> ? definition : TransactionDefinition.withDefaults());
    
    <span class="hljs-comment">// 2. è·å–ç°æœ‰äº‹åŠ¡ï¼ˆå¤„ç†ä¼ æ’­è¡Œä¸ºï¼‰</span>
    <span class="hljs-type">Object</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> doGetTransaction();
    
    <span class="hljs-comment">// 3. æ£€æŸ¥å½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡</span>
    <span class="hljs-keyword">if</span> (isExistingTransaction(transaction)) {
        <span class="hljs-comment">// å·²å­˜åœ¨äº‹åŠ¡ï¼šæ ¹æ®ä¼ æ’­è¡Œä¸ºå¤„ç†</span>
        <span class="hljs-keyword">return</span> handleExistingTransaction(def, transaction, debugEnabled);
    }
    
    <span class="hljs-comment">// 4. æ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šæ£€æŸ¥è¶…æ—¶ç­‰è®¾ç½®</span>
    <span class="hljs-keyword">if</span> (def.getTimeout() &lt; TransactionDefinition.TIMEOUT_DEFAULT) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidTimeoutException</span>(<span class="hljs-string">"Invalid transaction timeout"</span>, def.getTimeout());
    }
    
    <span class="hljs-comment">// 5. éœ€è¦æ–°äº‹åŠ¡ï¼šPROPAGATION_REQUIRED, PROPAGATION_REQUIRES_NEW, PROPAGATION_NESTED</span>
    <span class="hljs-keyword">if</span> (def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_MANDATORY) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalTransactionStateException</span>(<span class="hljs-string">"No existing transaction found for transaction marked with propagation 'mandatory'"</span>);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_REQUIRED ||
             def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_REQUIRES_NEW ||
             def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_NESTED) {
        
        <span class="hljs-comment">// æŒ‚èµ·ç°æœ‰èµ„æºï¼ˆå¦‚æœæœ‰ï¼‰</span>
        <span class="hljs-type">SuspendedResourcesHolder</span> <span class="hljs-variable">suspendedResources</span> <span class="hljs-operator">=</span> suspend(<span class="hljs-literal">null</span>);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">newSynchronization</span> <span class="hljs-operator">=</span> (getTransactionSynchronization() != SYNCHRONIZATION_NEVER);
            <span class="hljs-type">DefaultTransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> newTransactionStatus(
                def, transaction, <span class="hljs-literal">true</span>, newSynchronization, debugEnabled, suspendedResources);
            
            <span class="hljs-comment">// å…³é”®ï¼šå¼€å§‹æ–°äº‹åŠ¡</span>
            doBegin(transaction, def);
            prepareSynchronization(status, def);
            <span class="hljs-keyword">return</span> status;
        }
        <span class="hljs-keyword">catch</span> (RuntimeException | Error ex) {
            resume(<span class="hljs-literal">null</span>, suspendedResources);
            <span class="hljs-keyword">throw</span> ex;
        }
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 6. ç©ºäº‹åŠ¡ï¼šPROPAGATION_SUPPORTS, PROPAGATION_NOT_SUPPORTED, PROPAGATION_NEVER</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">newSynchronization</span> <span class="hljs-operator">=</span> (getTransactionSynchronization() == SYNCHRONIZATION_ALWAYS);
        <span class="hljs-keyword">return</span> prepareTransactionStatus(def, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, newSynchronization, debugEnabled, <span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h3 data-id="heading-3">äºŒã€å¼‚å¸¸å›æ»š</h3>
<p>æ‰§è¡Œå›æ»š ï¼š åŒ¹é…æŒ‡å®šè®¾ç½®çš„å¼‚å¸¸ï¼ŒåŒ¹é…ä¸åˆ°å°±åŒ¹é… RuntimeException æˆ– Error</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">completeTransactionAfterThrowing</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionInfo txInfo, Throwable ex)</span> {
    <span class="hljs-keyword">if</span> (txInfo != <span class="hljs-literal">null</span> &amp;&amp; txInfo.getTransactionStatus() != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// å…³é”®ï¼šæ ¹æ®å›æ»šè§„åˆ™å†³å®šæ˜¯å¦å›æ»š</span>
        <span class="hljs-keyword">if</span> (txInfo.transactionAttribute != <span class="hljs-literal">null</span> &amp;&amp; txInfo.transactionAttribute.rollbackOn(ex)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œå›æ»š ï¼š åŒ¹é…æŒ‡å®šè®¾ç½®çš„å¼‚å¸¸ï¼ŒåŒ¹é…ä¸åˆ°å°±åŒ¹é… RuntimeException æˆ– Error</span>
                txInfo.getTransactionManager().rollback(txInfo.getTransactionStatus());
            }
            <span class="hljs-keyword">catch</span> (TransactionSystemException ex2) {
                <span class="hljs-comment">// è®°å½•é”™è¯¯ä½†ä¸æŠ›å‡º</span>
                logger.error(<span class="hljs-string">"Application exception overridden by rollback exception"</span>, ex);
                ex2.initApplicationException(ex);
                <span class="hljs-keyword">throw</span> ex2;
            }
            <span class="hljs-keyword">catch</span> (RuntimeException | Error ex2) {
                logger.error(<span class="hljs-string">"Application exception overridden by rollback exception"</span>, ex);
                <span class="hljs-keyword">throw</span> ex2;
            }
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ä¸æ»¡è¶³å›æ»šæ¡ä»¶ï¼Œæäº¤äº‹åŠ¡</span>
            <span class="hljs-keyword">try</span> {
                txInfo.getTransactionManager().commit(txInfo.getTransactionStatus());
            }
            <span class="hljs-keyword">catch</span> (TransactionSystemException ex2) {
                <span class="hljs-comment">// ... å¼‚å¸¸å¤„ç†</span>
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-4">ä¸‰ã€ä¸ºä»€ä¹ˆæ¸…ç†äº‹åŠ¡ä¿¡æ¯åæ‰æäº¤äº‹åŠ¡</h3>
<p>åœ¨æ ‡å‡†äº‹åŠ¡åˆ†æ”¯æ‰§è¡Œé€»è¾‘å¦‚ä¸‹ï¼Œæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µå°±æ˜¯å…ˆæ¸…ç†äº‹åŠ¡ä¿¡æ¯ç„¶åæäº¤äº‹åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> {
    retVal = invocation.proceedWithInvocation();  <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡æ–¹æ³•</span>
}
<span class="hljs-keyword">catch</span> (Throwable ex) {
    completeTransactionAfterThrowing(txInfo, ex);  <span class="hljs-comment">// å¼‚å¸¸å›æ»š</span>
    <span class="hljs-keyword">throw</span> ex;
}
<span class="hljs-keyword">finally</span> {
    cleanupTransactionInfo(txInfo);  <span class="hljs-comment">// æ¸…ç†äº‹åŠ¡ä¿¡æ¯</span>
}

commitTransactionAfterReturning(txInfo);  <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
</code></pre>
<h4 data-id="heading-5">1.äº‹åŠ¡ä¿¡æ¯ä¸äº‹åŠ¡çŠ¶æ€åˆ†ç¦»</h4>
<p>é¦–å…ˆç†è§£ä¸¤ä¸ªå…³é”®æ¦‚å¿µï¼š</p>
<ul>
<li><strong>TransactionInfo</strong>ï¼šçº¿ç¨‹ç»‘å®šçš„äº‹åŠ¡ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>TransactionStatus</strong>ï¼šå®é™…çš„äº‹åŠ¡çŠ¶æ€ï¼ˆåŒ…å«æ•°æ®åº“è¿æ¥ã€å›æ»šæ ‡è®°ç­‰ï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionInfo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PlatformTransactionManager transactionManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TransactionAttribute transactionAttribute;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String joinpointIdentification;
    <span class="hljs-keyword">private</span> TransactionStatus transactionStatus;  <span class="hljs-comment">// å®é™…äº‹åŠ¡çŠ¶æ€</span>
    <span class="hljs-keyword">private</span> TransactionInfo oldTransactionInfo;   <span class="hljs-comment">// æ—§çš„äº‹åŠ¡ä¿¡æ¯ï¼ˆç”¨äºåµŒå¥—äº‹åŠ¡ï¼‰</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šæäº¤äº‹åŠ¡éœ€è¦çš„æ˜¯Â <code>TransactionStatus</code>ï¼Œè€Œä¸æ˜¯Â <code>TransactionInfo</code>ã€‚æ¸…ç†çš„æ˜¯çº¿ç¨‹ç»‘å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å®é™…çš„äº‹åŠ¡çŠ¶æ€ã€‚</p>
<h4 data-id="heading-6">2. cleanupTransactionInfo å®é™…åšäº†ä»€ä¹ˆï¼Ÿ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanupTransactionInfo</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionInfo txInfo)</span> {
    <span class="hljs-keyword">if</span> (txInfo != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ¢å¤çº¿ç¨‹çš„äº‹åŠ¡çŠ¶æ€åˆ°ä¹‹å‰çš„çŠ¶æ€</span>
        txInfo.restoreThreadLocalStatus();
    }
}

<span class="hljs-comment">// TransactionInfo.restoreThreadLocalStatus()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">restoreThreadLocalStatus</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å°†çº¿ç¨‹ç»‘å®šæ¢å¤åˆ°æ—§çš„äº‹åŠ¡ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</span>
    TransactionSynchronizationManager.bindResource(
        <span class="hljs-built_in">this</span>.transactionManager, <span class="hljs-built_in">this</span>.oldTransactionInfo);
}
</code></pre>
<p><strong>é‡ç‚¹</strong>ï¼š<code>cleanupTransactionInfo</code>Â åªæ˜¯æ¢å¤çº¿ç¨‹çš„ ThreadLocal çŠ¶æ€ï¼Œ<strong>å¹¶ä¸å½±å“å®é™…äº‹åŠ¡çš„è¿æ¥å’ŒçŠ¶æ€</strong>ã€‚</p>
<h4 data-id="heading-7">3. è¯¦ç»†æ‰§è¡Œæ—¶åºåˆ†æ</h4>
<p>å¯ä»¥çœ‹ä¸€ä¸‹é¢äº‹åŠ¡åµŒå¥—çš„æ¡ˆä¾‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodA</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// äº‹åŠ¡Aå¼€å§‹</span>
        userRepository.updateA();
        
        <span class="hljs-comment">// è°ƒç”¨ methodBï¼ˆREQUIRES_NEWï¼‰</span>
        userServiceProxy.methodB();  <span class="hljs-comment">// é€šè¿‡ä»£ç†è°ƒç”¨</span>
        
        <span class="hljs-comment">// äº‹åŠ¡Aç»§ç»­</span>
        userRepository.updateA2();
    }
    
    <span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRES_NEW)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodB</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// äº‹åŠ¡Bå¼€å§‹ï¼ˆæŒ‚èµ·äº‹åŠ¡Aï¼‰</span>
        logRepository.save();
        <span class="hljs-comment">// äº‹åŠ¡Bæäº¤</span>
    }
}
</code></pre>
<p><strong>æ‰§è¡Œæ—¶åºï¼š</strong> å¤§æ¦‚çš„é€»è¾‘å°±æ˜¯ï¼Œæ‰§è¡Œå®Œä¸€ä¸ªäº‹åŠ¡å°±éœ€è¦ç«‹å³æŠŠå½“å‰äº‹åŠ¡æ–¹æ³•çš„å¤–å±‚æ–¹æ³•çš„äº‹åŠ¡ç»™æ¢å¤ï¼ˆå­˜åœ¨çš„è¯ï¼‰ã€‚</p>
<pre><code class="hljs language-text" lang="text">æ—¶é—´è½´ï¼š
â”‚
â”œâ”€ è¿›å…¥ methodA()
â”‚   â”œâ”€ åˆ›å»º TransactionInfo_Aï¼ˆç»‘å®šåˆ° ThreadLocalï¼‰
â”‚   â”œâ”€ å¼€å§‹äº‹åŠ¡A
â”‚   â”‚
â”‚   â”œâ”€ è°ƒç”¨ methodB()ï¼ˆé€šè¿‡ä»£ç†ï¼‰
â”‚   â”‚   â”œâ”€ åˆ›å»º TransactionInfo_Bï¼ˆç»‘å®šåˆ° ThreadLocalï¼Œä¿å­˜æ—§çš„ TransactionInfo_Aï¼‰
â”‚   â”‚   â”œâ”€ æŒ‚èµ·äº‹åŠ¡A
â”‚   â”‚   â”œâ”€ å¼€å§‹äº‹åŠ¡B
â”‚   â”‚   â”œâ”€ æ‰§è¡Œä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€ æ¸…ç†é˜¶æ®µï¼š
â”‚   â”‚   â”‚   â”œâ”€ cleanupTransactionInfo(TransactionInfo_B) 
â”‚   â”‚   â”‚   â”‚   â””â”€ æ¢å¤ ThreadLocal åˆ° TransactionInfo_A âœ“
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€ æäº¤äº‹åŠ¡B âœ“
â”‚   â”‚   â”‚   â”‚   â””â”€ éœ€è¦äº‹åŠ¡Bçš„ TransactionStatusï¼Œä½†ä¸éœ€è¦ ThreadLocal çš„ TransactionInfo_B
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€ æ¢å¤äº‹åŠ¡A
â”‚   â”‚   â””â”€ è¿”å›
â”‚   â”‚
â”‚   â””â”€ methodA ç»§ç»­æ‰§è¡Œ
â”‚       â”œâ”€ ä½¿ç”¨ TransactionInfo_Aï¼ˆå·²æ¢å¤ï¼‰
â”‚       â”œâ”€ æäº¤äº‹åŠ¡A
â”‚       â””â”€ æ¸…ç† TransactionInfo_A
â””â”€ ç»“æŸ
</code></pre>
<h4 data-id="heading-8">4. æäº¤äº‹åŠ¡ä¸éœ€è¦ ThreadLocal ç»‘å®š</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// AbstractPlatformTransactionManager.commit()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">(TransactionStatus status)</span> <span class="hljs-keyword">throws</span> TransactionException {
    <span class="hljs-comment">// ç›´æ¥ä» TransactionStatus è·å–å®é™…äº‹åŠ¡å¯¹è±¡</span>
    <span class="hljs-type">DefaultTransactionStatus</span> <span class="hljs-variable">defStatus</span> <span class="hljs-operator">=</span> (DefaultTransactionStatus) status;
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦å›æ»š</span>
    <span class="hljs-keyword">if</span> (defStatus.isLocalRollbackOnly() || defStatus.isGlobalRollbackOnly()) {
        processRollback(defStatus, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// å®é™…æäº¤</span>
    processCommit(defStatus);
}

<span class="hljs-comment">// DataSourceTransactionManager.doCommit()</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doCommit</span><span class="hljs-params">(DefaultTransactionStatus status)</span> {
    <span class="hljs-type">DataSourceTransactionObject</span> <span class="hljs-variable">txObject</span> <span class="hljs-operator">=</span> (DataSourceTransactionObject) status.getTransaction();
    <span class="hljs-type">Connection</span> <span class="hljs-variable">con</span> <span class="hljs-operator">=</span> txObject.getConnectionHolder().getConnection();
    
    <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨è¿æ¥æäº¤</span>
    con.commit();  <span class="hljs-comment">// ä¸éœ€è¦ ThreadLocal ä¿¡æ¯</span>
}
</code></pre>
<p><strong>å…³é”®</strong>ï¼šæäº¤æ“ä½œåªéœ€è¦ï¼š</p>
<ol>
<li>æ•°æ®åº“è¿æ¥ï¼ˆä» TransactionStatus è·å–ï¼‰</li>
<li>äº‹åŠ¡çŠ¶æ€ï¼ˆæ˜¯å¦æ ‡è®°ä¸ºå›æ»šï¼‰</li>
</ol>
<blockquote>
<p>â—æ˜ç™½äº‹åŠ¡ä¼ æ’­æœºåˆ¶ä»¥åŠäº‹åŠ¡çš„ç›¸å…³ä¿¡æ¯æ˜¯ç»‘å®šåˆ°ThreadLocalä¸­ä¹‹åï¼Œç”¨å¼‚æ­¥çš„æ—¶å€™å°±è¦æ³¨æ„äº‹åŠ¡å¤±æ•ˆçš„é—®é¢˜äº†</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591744411739160576</link>    <guid>https://juejin.cn/post/7591744411739160576</guid>    <pubDate>2026-01-06T01:37:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591744411739160576" data-draft-id="7588098335790874624" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,MySQL,SQL"/> <meta itemprop="datePublished" content="2026-01-06T01:37:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Sailing"/> <meta itemprop="url" content="https://juejin.cn/user/307518988100237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/307518988100237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Sailing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T01:37:33.000Z" title="Tue Jan 06 2026 01:37:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šå¼€å‘è€…ä¹ æƒ¯æŠŠæ•°æ®åº“è¡¨å½“â€œå­˜å‚¨æ¡¶â€ï¼šå­˜æ•°æ®ã€æŸ¥æ•°æ®ã€åˆ æ•°æ®å°±å®Œäº‹äº†ã€‚</p>
<p>ä½†å¦‚æœä½ è¿˜åœç•™åœ¨è¿™ä¸ªè®¤çŸ¥ï¼Œä½ å¯èƒ½<strong>é”™è¿‡äº†æ•°æ®åº“çœŸæ­£çš„ä»·å€¼</strong>â€”â€”ä¸€å¼ è®¾è®¡åˆç†çš„è¡¨ï¼Œå®Œå…¨å¯ä»¥æˆä¸º <strong>åŠ¨æ€é…ç½®ã€ä¸šåŠ¡ç­–ç•¥å’Œç³»ç»Ÿè¿è¥çš„ç§˜å¯†æ­¦å™¨</strong>ã€‚å­¦ä¼šè¿™ä¸€ç‚¹ï¼Œä½ çš„ç³»ç»Ÿçµæ´»åº¦å’Œå¯ç»´æŠ¤æ€§èƒ½ç«‹åˆ»ç¿»å€ã€‚</p>
<p>æœ¬æ–‡å°±ä»¥ <strong>ç³»ç»Ÿé…ç½®è¡¨ï¼ˆsystem_configï¼‰</strong> ä¸ºä¾‹ï¼ŒèŠèŠæ•°æ®åº“è¡¨è¿˜èƒ½è¿™æ ·ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0609f81aed0a47829af4ab0d87f5328c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2FpbGluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768268253&amp;x-signature=rRiAJaahrka263GcKhowFNcoqMg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¼ ç»Ÿç”¨é€” vs æ½œåœ¨ç”¨é€”</h2>
<h3 data-id="heading-1">ä¼ ç»Ÿç”¨é€”</h3>
<p>å¤§å¤šæ•°å¼€å‘è€…çš„ç¬¬ä¸€å°è±¡æ˜¯è¿™æ ·ï¼šç”¨æ•°æ®åº“è¡¨å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•ã€æ—¥å¿—ç­‰ã€‚å…¸å‹åœºæ™¯æ˜¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
  email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<p>å­˜å‚¨ã€æŸ¥è¯¢ã€ç»Ÿè®¡â€”â€”æ²¡é”™ï¼Œä½†è¿™åªæ˜¯æ•°æ®åº“è¡¨çš„æœ€åŸºç¡€ç”¨é€”ã€‚</p>
<h3 data-id="heading-2">æ½œåœ¨ç”¨é€”ï¼ˆç³»ç»Ÿé…ç½®è¡¨ï¼‰</h3>
<p>å¦‚æœæˆ‘ä»¬ç¨å¾®è·³å‡ºæ€è·¯ï¼Œä¸€å¼ è¡¨å®Œå…¨å¯ä»¥æ‰¿æ‹… <strong>ç³»ç»Ÿé…ç½®ã€åŠŸèƒ½å¼€å…³ã€è§„åˆ™å‚æ•°</strong> ç­‰åŠ¨æ€å¯é…ç½®çš„è§’è‰²ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> system_config (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  config_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'é…ç½®é”®'</span>,
  config_value <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">500</span>) COMMENT <span class="hljs-string">'é…ç½®å€¼'</span>,
  description <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) COMMENT <span class="hljs-string">'é…ç½®è¯´æ˜'</span>,
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 COMMENT<span class="hljs-operator">=</span><span class="hljs-string">'ç³»ç»Ÿé…ç½®è¡¨'</span>;
</code></pre>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥ï¼š</p>
<ul>
<li>å³æ—¶å¼€å¯/å…³é—­åŠŸèƒ½ï¼š<code>enable_ai_hackathon = true</code></li>
<li>è°ƒæ•´ä¸šåŠ¡å‚æ•°ï¼š<code>max_team_member = 5</code></li>
<li>å˜æ›´æ–‡æ¡ˆé“¾æ¥ï¼š<code>hackathon_rule_url = https://...</code></li>
</ul>
<p><strong>æ’å…¥ä¸æ›´æ–°ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ–°å¢é…ç½®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> system_config (config_key, config_value, description)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'enable_ai'</span>, <span class="hljs-string">'true'</span>, <span class="hljs-string">'æ˜¯å¦å¼€å¯ AI'</span>);

<span class="hljs-comment">-- è°ƒæ•´å‚æ•°</span>
<span class="hljs-keyword">UPDATE</span> system_config
<span class="hljs-keyword">SET</span> config_value <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>
<span class="hljs-keyword">WHERE</span> config_key <span class="hljs-operator">=</span> <span class="hljs-string">'enable_ai'</span>;
</code></pre>
<blockquote>
<p>å°æŠ€å·§ï¼šè¿™æ ·åšï¼Œä½ å°±èƒ½åœ¨ä¸æ”¹ä»£ç çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€è°ƒæ•´ç³»ç»Ÿè¡Œä¸ºã€‚</p>
</blockquote>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆç”¨è¡¨åšé…ç½®æ¯”ç¯å¢ƒå˜é‡æ›´çµæ´»</h2>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”ï¼š<code>env</code> æ–‡ä»¶æˆ–è€… Redis æ›´æ–¹ä¾¿å•Šï¼</p>
<p>è¡¨æ ¼å¸®ä½ å¯¹æ¯”ä¸€ä¸‹ï¼š</p>









































<table><thead><tr><th>ç»´åº¦</th><th>æ•°æ®åº“é…ç½®</th><th>ç¯å¢ƒå˜é‡</th><th>Redis</th></tr></thead><tbody><tr><td>æŒä¹…åŒ–</td><td>âœ…</td><td>âœ…</td><td>âš ï¸</td></tr><tr><td>åŠ¨æ€ä¿®æ”¹</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>é‡å¯ç”Ÿæ•ˆ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>åå°ç®¡ç†</td><td>âœ…</td><td>âŒ</td><td>âš ï¸</td></tr><tr><td>å®¡è®¡ &amp; å†å²</td><td>âœ…</td><td>âŒ</td><td>âš ï¸</td></tr></tbody></table>
<p>æ•°æ®åº“é…ç½®è¡¨æ˜¯ <strong>ä¸šåŠ¡é…ç½®çš„â€œçœŸæºâ€</strong> ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´ã€åå°ç®¡ç†ï¼Œè¿˜èƒ½ä¿ç•™å®¡è®¡è®°å½•ã€‚</p>
<p>Redis å¯ä»¥åšç¼“å­˜åŠ é€Ÿï¼Œenv æ–‡ä»¶ç®¡ç†å¯åŠ¨çº§é…ç½®å’Œæ•æ„Ÿä¿¡æ¯ï¼Œä¸‰è€…ç»“åˆå°±æ˜¯æˆç†Ÿçš„<strong>ä¸‰å±‚é…ç½®ä½“ç³»</strong>ã€‚</p>
<h2 data-id="heading-4">å»¶ä¼¸ç©æ³•ï¼šè®©è¡¨ä¸ä»…å­˜æ•°æ®</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f16d49d6f574e1b9a61f24b5b8464aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2FpbGluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768268253&amp;x-signature=E5dHZR1%2FdJuQE2QnvxGRlivppD4%3D" alt="image.png" loading="lazy"/></p>
<p>é™¤äº†é…ç½®è¡¨ï¼Œæ•°æ®åº“è¡¨è¿˜æœ‰å…¶ä»–â€œä¸åªæ˜¯å­˜æ•°æ®â€çš„ç©æ³•ã€‚ä¸‹é¢ç”¨ SQL ç¤ºä¾‹è¯´æ˜ï¼š</p>
<h3 data-id="heading-5">1.  <strong>ç°åº¦ç­–ç•¥è¡¨</strong></h3>
<p>ç”¨æ¥å­˜ AB æµ‹è¯•æˆ–å®éªŒå‚æ•°ï¼Œæ¯”å¦‚æ–°åŠŸèƒ½åªç»™éƒ¨åˆ†ç”¨æˆ·çœ‹åˆ°ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> feature_flag (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  feature_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'åŠŸèƒ½æ ‡è¯†'</span>,
  group_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) COMMENT <span class="hljs-string">'åˆ†ç»„ï¼Œä¾‹å¦‚ A/B æµ‹è¯•åˆ†ç»„'</span>,
  enabled <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span> COMMENT <span class="hljs-string">'æ˜¯å¦å¯ç”¨'</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> feature_flag (feature_key, group_name, enabled)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'new_ui'</span>, <span class="hljs-string">'group_A'</span>, <span class="hljs-literal">TRUE</span>);
</code></pre>
<h3 data-id="heading-6">2. <strong>åŠŸèƒ½å¼€å…³è¡¨</strong></h3>
<p>æ§åˆ¶ç³»ç»ŸæŸä¸ªåŠŸèƒ½æ˜¯å¦å¼€å¯ï¼Œæ— éœ€æ”¹ä»£ç é‡æ–°éƒ¨ç½²ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> feature_switch (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  switch_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'å¼€å…³æ ‡è¯†'</span>,
  is_on <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span> COMMENT <span class="hljs-string">'å¼€å…³çŠ¶æ€'</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- è°ƒæ•´å‚æ•°</span>
<span class="hljs-keyword">UPDATE</span> feature_switch
<span class="hljs-keyword">SET</span> is_on <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span>
<span class="hljs-keyword">WHERE</span> switch_key <span class="hljs-operator">=</span> <span class="hljs-string">'enable_ai'</span>;
</code></pre>
<h3 data-id="heading-7">3. <strong>å®¡è®¡æ—¥å¿—è¡¨</strong></h3>
<p>ä¸å‚ä¸ç³»ç»ŸåŠ¨æ€è¡Œä¸ºï¼Œå®ƒä»…ä»…æ˜¯è®°å½•æ“ä½œå†å²ï¼Œæ–¹ä¾¿æ’æŸ¥ã€‚ä¸¾ä¾‹ï¼š<code>user_id=123, action='delete', target_id=456</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> audit_log (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  user_id <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  action <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  target_id <span class="hljs-type">INT</span> COMMENT <span class="hljs-string">'æ“ä½œå¯¹è±¡'</span>,
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> audit_log (user_id, action, target_id)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">123</span>, <span class="hljs-string">'delete'</span>, <span class="hljs-number">456</span>);
</code></pre>
<h3 data-id="heading-8">4.  <strong>ä¸´æ—¶ä»»åŠ¡è¡¨</strong></h3>
<p>å­˜å®šæ—¶ä»»åŠ¡æˆ–çŠ¶æ€ä¿¡æ¯ï¼Œè®©ç³»ç»ŸæŒ‰ç…§è¡¨é‡Œçš„æ•°æ®è‡ªåŠ¨æ‰§è¡Œæ“ä½œã€‚ä¸¾ä¾‹ï¼šä»»åŠ¡é˜Ÿåˆ— <code>task_name='send_email', status='pending'</code>ï¼Œç³»ç»Ÿä¼šå®šæœŸæ£€æŸ¥å¹¶æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> scheduled_task (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  task_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  status <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'pending'</span> COMMENT <span class="hljs-string">'ä»»åŠ¡çŠ¶æ€: pending/running/done'</span>,
  execute_at <span class="hljs-type">TIMESTAMP</span> COMMENT <span class="hljs-string">'è®¡åˆ’æ‰§è¡Œæ—¶é—´'</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> scheduled_task (task_name, status, execute_at)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'send_email'</span>, <span class="hljs-string">'pending'</span>, <span class="hljs-string">'2025-12-28 10:00:00'</span>);
</code></pre>
<blockquote>
<p>æ ¸å¿ƒæ€æƒ³ï¼šæŠŠâ€œ<strong>åŠ¨æ€ã€å¯è°ƒæ•´ã€ç³»ç»Ÿå…³é”®ä¿¡æ¯</strong>â€æ”¾åœ¨è¡¨é‡Œï¼Œè€Œä¸æ˜¯å†™æ­»åœ¨ä»£ç é‡Œæˆ–é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™æ ·ç³»ç»Ÿæ›´çµæ´»ã€æ›´å¯æ§ã€‚</p>
</blockquote>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>æ•°æ®åº“è¡¨ä¸ä»…æ˜¯å­˜æ•°æ®çš„å®¹å™¨ï¼Œå®ƒè¿˜æ˜¯<strong>åŠ¨æ€é…ç½®ä¸­å¿ƒ</strong>ç­‰ã€‚å¸®åŠ©æˆ‘ä»¬æå‡é¡¹ç›®çš„çµæ´»åº¦ã€è¿ç»´ã€é£æ§ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯å°†ç³»ç»Ÿé…ç½®æ”¾åˆ°ç¯å¢ƒå˜é‡ï¼Œä¸å¦¨è¯•è¯•æ”¾åˆ°æ•°æ®åº“è¡¨ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨]]></title>    <link>https://juejin.cn/post/7591871204567810074</link>    <guid>https://juejin.cn/post/7591871204567810074</guid>    <pubDate>2026-01-06T03:45:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591871204567810074" data-draft-id="7591694511244787750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-06T03:45:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:45:36.000Z" title="Tue Jan 06 2026 03:45:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨</h2>
<blockquote>
<p>æ·±å…¥ç†è§£Spring IoCæ ¸å¿ƒåŸç†ï¼Œé€šè¿‡æ³¨è§£å’Œåå°„æœºåˆ¶æ‰‹å†™ä¸€ä¸ªç®€æ˜“ç‰ˆIoCå®¹å™¨ï¼ŒæŒæ¡ä¾èµ–æ³¨å…¥çš„æœ¬è´¨ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1. å¼•è¨€ï¼šSpring IoCçš„é­”åŠ›</h3>
<p>åœ¨Springæ¡†æ¶ä¸­ï¼ŒIoCï¼ˆæ§åˆ¶åè½¬ï¼‰å’ŒDIï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ˜¯æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚åªéœ€ä¸€ä¸ª<code>@Autowired</code>æ³¨è§£ï¼ŒSpringå°±èƒ½è‡ªåŠ¨å¸®æˆ‘ä»¬æ³¨å…¥ä¾èµ–å¯¹è±¡ï¼Œè¿™èƒŒåçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æœ¬æ–‡å°†é€šè¿‡<strong>æ³¨è§£+åå°„</strong>çš„æ–¹å¼ï¼Œæ‰‹å†™ä¸€ä¸ªç®€æ˜“ç‰ˆSpring IoCå®¹å™¨ï¼Œè®©ä½ æ·±å…¥ç†è§£ï¼š</p>
<ul>
<li>æ³¨è§£æ˜¯å¦‚ä½•è¢«æ‰«æå’Œè§£æçš„</li>
<li>Beanæ˜¯å¦‚ä½•è¢«åˆ›å»ºå’Œç®¡ç†çš„</li>
<li>ä¾èµ–æ³¨å…¥æ˜¯å¦‚ä½•å®ç°çš„</li>
<li>Springå®¹å™¨çš„è¿è¡Œæœºåˆ¶</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8973d982964b4b1eab85947f180db86b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=psXeyOKXMKmYg1GutFFHZ0z9dnU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-2">1.1 ä¸ºä»€ä¹ˆè¦æ‰‹å†™IoCï¼Ÿ</h4>
<ul>
<li><strong>ç†è§£åŸç†</strong> - çŸ¥å…¶ç„¶æ›´çŸ¥å…¶æ‰€ä»¥ç„¶</li>
<li><strong>é¢è¯•å¿…å¤‡</strong> - Spring IoCæ˜¯é¢è¯•é«˜é¢‘è€ƒç‚¹</li>
<li><strong>æå‡èƒ½åŠ›</strong> - æŒæ¡åå°„ã€æ³¨è§£ç­‰æ ¸å¿ƒæŠ€æœ¯</li>
<li><strong>æ¡†æ¶é€‰å‹</strong> - ç†è§£æ¡†æ¶è®¾è®¡æ€æƒ³</li>
</ul>
<hr/>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ¦‚å¿µï¼šIoCã€DIã€æ³¨è§£ã€åå°„</h3>
<h4 data-id="heading-4">2.1 æ§åˆ¶åè½¬ï¼ˆIoCï¼‰</h4>
<p><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šå¯¹è±¡è‡ªå·±åˆ›å»ºä¾èµ–</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>(); <span class="hljs-comment">// ä¸»åŠ¨åˆ›å»º</span>
}
</code></pre>
<p><strong>IoCæ–¹å¼</strong>ï¼šå¯¹è±¡ç”±å®¹å™¨åˆ›å»ºå’Œæ³¨å…¥</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao; <span class="hljs-comment">// è¢«åŠ¨æ¥æ”¶</span>
}
</code></pre>
<p><strong>æ§åˆ¶åè½¬</strong>å°±æ˜¯æŠŠå¯¹è±¡åˆ›å»ºå’Œä¾èµ–ç®¡ç†çš„æ§åˆ¶æƒï¼Œä»åº”ç”¨ä»£ç è½¬ç§»åˆ°IoCå®¹å™¨ã€‚</p>
<h4 data-id="heading-5">2.2 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h4>
<p>ä¾èµ–æ³¨å…¥æ˜¯IoCçš„å®ç°æ–¹å¼ï¼Œæœ‰ä¸‰ç§æ³¨å…¥æ–¹å¼ï¼š</p>
<p><strong>â‘  æ„é€ å™¨æ³¨å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserDao userDao;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserDao userDao)</span> {
        <span class="hljs-built_in">this</span>.userDao = userDao;
    }
}
</code></pre>
<p><strong>â‘¡ Setteræ³¨å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> {
        <span class="hljs-built_in">this</span>.userDao = userDao;
    }
}
</code></pre>
<p><strong>â‘¢ å­—æ®µæ³¨å…¥</strong>ï¼ˆæœ€å¸¸ç”¨ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;
}
</code></pre>
<h4 data-id="heading-6">2.3 Javaæ³¨è§£</h4>
<p>æ³¨è§£æ˜¯Java 5å¼•å…¥çš„å…ƒæ•°æ®æ ‡è®°æœºåˆ¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰æ³¨è§£</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="hljs-comment">// è¿è¡Œæ—¶ä¿ç•™</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>           <span class="hljs-comment">// ä½œç”¨äºç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Component {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}

<span class="hljs-comment">// ä½¿ç”¨æ³¨è§£</span>
<span class="hljs-meta">@Component("userService")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
}
</code></pre>
<h4 data-id="heading-7">2.4 Javaåå°„</h4>
<p>åå°„å…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»ä¿¡æ¯å¹¶æ“ä½œå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŠ è½½ç±»</span>
Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">"com.example.UserService"</span>);

<span class="hljs-comment">// æ£€æŸ¥æ³¨è§£</span>
<span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Component.class)) {
    <span class="hljs-type">Component</span> <span class="hljs-variable">component</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Component.class);
    <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> component.value();
}

<span class="hljs-comment">// åˆ›å»ºå®ä¾‹</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> clazz.getDeclaredConstructor().newInstance();

<span class="hljs-comment">// è·å–å­—æ®µ</span>
Field[] fields = clazz.getDeclaredFields();

<span class="hljs-comment">// è®¾ç½®å­—æ®µå€¼</span>
field.setAccessible(<span class="hljs-literal">true</span>);
field.set(instance, value);
</code></pre>
<hr/>
<h3 data-id="heading-8">3. ç¬¬ä¸€æ­¥ï¼šå®šä¹‰æ ¸å¿ƒæ³¨è§£</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ddbd78b7e934e5182131b248e56cc9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=ra%2BrLzOTjz6FwTJdqvPd3hTz0z4%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆå®šä¹‰æˆ‘ä»¬è‡ªå·±çš„æ³¨è§£ï¼Œæ¨¡æ‹ŸSpringçš„æ ¸å¿ƒæ³¨è§£ã€‚</p>
<h4 data-id="heading-9">3.1 @Componentæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æ ‡è®°ç»„ä»¶ç±»ï¼Œç±»ä¼¼Springçš„<span class="hljs-doctag">@Component</span>
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Component {
    <span class="hljs-comment">/**
     * Beanåç§°ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™
     */</span>
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}
</code></pre>
<h4 data-id="heading-10">3.2 @Autowiredæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * è‡ªåŠ¨æ³¨å…¥ä¾èµ–ï¼Œç±»ä¼¼Springçš„<span class="hljs-doctag">@Autowired</span>
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target({ElementType.FIELD, ElementType.METHOD, ElementType.CONSTRUCTOR})</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Autowired {
    <span class="hljs-comment">/**
     * æ˜¯å¦å¿…é¡»æ³¨å…¥
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-11">3.3 @Qualifieræ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æŒ‡å®šè¦æ³¨å…¥çš„Beanåç§°
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target({ElementType.FIELD, ElementType.PARAMETER})</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Qualifier {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;
}
</code></pre>
<h4 data-id="heading-12">3.4 @Scopeæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æŒ‡å®šBeançš„ä½œç”¨åŸŸ
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Scope {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"singleton"</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-13">4. ç¬¬äºŒæ­¥ï¼šå®ç°åŒ…æ‰«æå™¨</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4af5705699904ec59afb178a2de40530~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=hGjQnrutKn0W7I6011yrjaXuUkg%3D" alt="" loading="lazy"/></p>
<p>åŒ…æ‰«æå™¨è´Ÿè´£æ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œæ‰¾å‡ºå¸¦æœ‰<code>@Component</code>æ³¨è§£çš„ç±»ã€‚</p>
<h4 data-id="heading-14">4.1 ClassScannerç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.net.URL;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ç±»æ‰«æå™¨ï¼šæ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassScanner</span> {

    <span class="hljs-comment">/**
     * æ‰«ææŒ‡å®šåŒ…ä¸‹å¸¦æœ‰<span class="hljs-doctag">@Component</span>æ³¨è§£çš„ç±»
     *
     * <span class="hljs-doctag">@param</span> basePackage åŸºç¡€åŒ…è·¯å¾„ï¼Œå¦‚"com.example"
     * <span class="hljs-doctag">@return</span> å¸¦æœ‰<span class="hljs-doctag">@Component</span>æ³¨è§£çš„Classåˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Class&lt;?&gt;&gt; scanComponents(String basePackage) {
        List&lt;Class&lt;?&gt;&gt; classList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°†åŒ…åè½¬æ¢ä¸ºè·¯å¾„</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">packagePath</span> <span class="hljs-operator">=</span> basePackage.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'/'</span>);

            <span class="hljs-comment">// è·å–åŒ…çš„URLè·¯å¾„</span>
            <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> Thread.currentThread().getContextClassLoader();
            <span class="hljs-type">URL</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> classLoader.getResource(packagePath);

            <span class="hljs-keyword">if</span> (resource == <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"åŒ…è·¯å¾„ä¸å­˜åœ¨: "</span> + basePackage);
                <span class="hljs-keyword">return</span> classList;
            }

            <span class="hljs-comment">// è·å–åŒ…çš„æ–‡ä»¶è·¯å¾„</span>
            <span class="hljs-type">File</span> <span class="hljs-variable">packageDir</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(resource.getFile());

            <span class="hljs-comment">// é€’å½’æ‰«ææ‰€æœ‰ç±»æ–‡ä»¶</span>
            scanClasses(packageDir, basePackage, classList);

        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }

        <span class="hljs-keyword">return</span> classList;
    }

    <span class="hljs-comment">/**
     * é€’å½’æ‰«æç›®å½•ä¸‹çš„æ‰€æœ‰ç±»æ–‡ä»¶
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanClasses</span><span class="hljs-params">(File dir, String packageName, List&lt;Class&lt;?&gt;&gt; classList)</span> {
        <span class="hljs-keyword">if</span> (!dir.exists() || !dir.isDirectory()) {
            <span class="hljs-keyword">return</span>;
        }

        File[] files = dir.listFiles();
        <span class="hljs-keyword">if</span> (files == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">for</span> (File file : files) {
            <span class="hljs-keyword">if</span> (file.isDirectory()) {
                <span class="hljs-comment">// é€’å½’æ‰«æå­ç›®å½•</span>
                scanClasses(file, packageName + <span class="hljs-string">"."</span> + file.getName(), classList);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (file.getName().endsWith(<span class="hljs-string">".class"</span>)) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// è·å–ç±»å</span>
                    <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> packageName + <span class="hljs-string">"."</span> +
                        file.getName().replace(<span class="hljs-string">".class"</span>, <span class="hljs-string">""</span>);

                    <span class="hljs-comment">// åŠ è½½ç±»</span>
                    Class&lt;?&gt; clazz = Class.forName(className);

                    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@Componentæ³¨è§£</span>
                    <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Component.class)) {
                        classList.add(clazz);
                        System.out.println(<span class="hljs-string">"æ‰«æåˆ°ç»„ä»¶: "</span> + className);
                    }

                } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-15">5. ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºBeanå·¥å‚</h3>
<p>Beanå·¥å‚è´Ÿè´£å­˜å‚¨å’Œç®¡ç†æ‰€æœ‰çš„Beanå®ä¾‹ã€‚</p>
<h4 data-id="heading-16">5.1 BeanDefinitionç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-comment">/**
 * Beanå®šä¹‰ä¿¡æ¯
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanDefinition</span> {
    <span class="hljs-keyword">private</span> String beanName;
    <span class="hljs-keyword">private</span> Class&lt;?&gt; beanClass;
    <span class="hljs-keyword">private</span> String scope;
    <span class="hljs-keyword">private</span> Object singletonInstance;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BeanDefinition</span><span class="hljs-params">(String beanName, Class&lt;?&gt; beanClass, String scope)</span> {
        <span class="hljs-built_in">this</span>.beanName = beanName;
        <span class="hljs-built_in">this</span>.beanClass = beanClass;
        <span class="hljs-built_in">this</span>.scope = scope;
    }

    <span class="hljs-comment">// Getterå’ŒSetteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBeanName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> beanName; }
    <span class="hljs-keyword">public</span> Class&lt;?&gt; getBeanClass() { <span class="hljs-keyword">return</span> beanClass; }
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getScope</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> scope; }
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getSingletonInstance</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> singletonInstance; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSingletonInstance</span><span class="hljs-params">(Object instance)</span> {
        <span class="hljs-built_in">this</span>.singletonInstance = instance;
    }
}
</code></pre>
<h4 data-id="heading-17">5.2 BeanFactoryç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> com.myspring.annotation.Scope;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;

<span class="hljs-comment">/**
 * Beanå·¥å‚ï¼šåˆ›å»ºå’Œç®¡ç†Beanå®ä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanFactory</span> {

    <span class="hljs-comment">// å­˜å‚¨Beanå®šä¹‰ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> Map&lt;String, BeanDefinition&gt; beanDefinitionMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-comment">/**
     * æ³¨å†ŒBeanå®šä¹‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerBeanDefinition</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-comment">// è·å–Beanåç§°</span>
        <span class="hljs-type">Component</span> <span class="hljs-variable">component</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Component.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> component.value();
        <span class="hljs-keyword">if</span> (beanName.isEmpty()) {
            <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ç±»åé¦–å­—æ¯å°å†™</span>
            beanName = toLowerFirstCase(clazz.getSimpleName());
        }

        <span class="hljs-comment">// è·å–ä½œç”¨åŸŸ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-string">"singleton"</span>;
        <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Scope.class)) {
            <span class="hljs-type">Scope</span> <span class="hljs-variable">scopeAnnotation</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Scope.class);
            scope = scopeAnnotation.value();
        }

        <span class="hljs-comment">// åˆ›å»ºBeanDefinitionå¹¶æ³¨å†Œ</span>
        <span class="hljs-type">BeanDefinition</span> <span class="hljs-variable">beanDefinition</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanDefinition</span>(beanName, clazz, scope);
        beanDefinitionMap.put(beanName, beanDefinition);

        System.out.println(<span class="hljs-string">"æ³¨å†ŒBean: "</span> + beanName + <span class="hljs-string">", ä½œç”¨åŸŸ: "</span> + scope);
    }

    <span class="hljs-comment">/**
     * è·å–Beanå®ä¾‹
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String beanName)</span> {
        <span class="hljs-type">BeanDefinition</span> <span class="hljs-variable">beanDefinition</span> <span class="hljs-operator">=</span> beanDefinitionMap.get(beanName);
        <span class="hljs-keyword">if</span> (beanDefinition == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Beanä¸å­˜åœ¨: "</span> + beanName);
        }

        <span class="hljs-comment">// å•ä¾‹æ¨¡å¼</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"singleton"</span>.equals(beanDefinition.getScope())) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> beanDefinition.getSingletonInstance();
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                instance = createBean(beanDefinition);
                beanDefinition.setSingletonInstance(instance);
            }
            <span class="hljs-keyword">return</span> instance;
        }

        <span class="hljs-comment">// åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°å®ä¾‹</span>
        <span class="hljs-keyword">return</span> createBean(beanDefinition);
    }

    <span class="hljs-comment">/**
     * æ ¹æ®ç±»å‹è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanDefinitionMap.values()) {
            <span class="hljs-keyword">if</span> (clazz.isAssignableFrom(bd.getBeanClass())) {
                <span class="hljs-keyword">return</span> getBean(bd.getBeanName());
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Beanä¸å­˜åœ¨: "</span> + clazz.getName());
    }

    <span class="hljs-comment">/**
     * åˆ›å»ºBeanå®ä¾‹
     */</span>
    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">createBean</span><span class="hljs-params">(BeanDefinition beanDefinition)</span> {
        <span class="hljs-keyword">try</span> {
            Class&lt;?&gt; clazz = beanDefinition.getBeanClass();
            <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> clazz.getDeclaredConstructor().newInstance();
            System.out.println(<span class="hljs-string">"åˆ›å»ºBeanå®ä¾‹: "</span> + beanDefinition.getBeanName());
            <span class="hljs-keyword">return</span> instance;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆ›å»ºBeanå¤±è´¥: "</span> +
                beanDefinition.getBeanName(), e);
        }
    }

    <span class="hljs-comment">/**
     * é¦–å­—æ¯å°å†™
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">toLowerFirstCase</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-type">char</span>[] chars = str.toCharArray();
        chars[<span class="hljs-number">0</span>] += <span class="hljs-number">32</span>;
        <span class="hljs-keyword">return</span> String.valueOf(chars);
    }

    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰Beanåç§°
     */</span>
    <span class="hljs-keyword">public</span> Map&lt;String, BeanDefinition&gt; <span class="hljs-title function_">getBeanDefinitions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> beanDefinitionMap;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-18">6. ç¬¬å››æ­¥ï¼šå®ç°ä¾èµ–æ³¨å…¥</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a946239e474c49afa084fedc306c28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=DVcfiJ9%2B0hiocLdWCI52ymbIc6o%3D" alt="" loading="lazy"/></p>
<p>ä¾èµ–æ³¨å…¥æ˜¯IoCå®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œé€šè¿‡åå°„è‡ªåŠ¨ä¸ºBeanæ³¨å…¥ä¾èµ–ã€‚</p>
<h4 data-id="heading-19">6.1 DependencyInjectorç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Autowired;
<span class="hljs-keyword">import</span> com.myspring.annotation.Qualifier;
<span class="hljs-keyword">import</span> java.lang.reflect.Field;

<span class="hljs-comment">/**
 * ä¾èµ–æ³¨å…¥å™¨ï¼šä¸ºBeanæ³¨å…¥ä¾èµ–
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DependencyInjector</span> {

    <span class="hljs-keyword">private</span> BeanFactory beanFactory;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DependencyInjector</span><span class="hljs-params">(BeanFactory beanFactory)</span> {
        <span class="hljs-built_in">this</span>.beanFactory = beanFactory;
    }

    <span class="hljs-comment">/**
     * ä¸ºæ‰€æœ‰Beanæ‰§è¡Œä¾èµ–æ³¨å…¥
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">injectDependencies</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            injectBean(bean);
        }
    }

    <span class="hljs-comment">/**
     * ä¸ºå•ä¸ªBeanæ³¨å…¥ä¾èµ–
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">injectBean</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();

        <span class="hljs-comment">// è·å–æ‰€æœ‰å­—æ®µ</span>
        Field[] fields = clazz.getDeclaredFields();

        <span class="hljs-keyword">for</span> (Field field : fields) {
            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@Autowiredæ³¨è§£</span>
            <span class="hljs-keyword">if</span> (!field.isAnnotationPresent(Autowired.class)) {
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-type">Autowired</span> <span class="hljs-variable">autowired</span> <span class="hljs-operator">=</span> field.getAnnotation(Autowired.class);

            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// ç¡®å®šè¦æ³¨å…¥çš„Bean</span>
                <span class="hljs-type">Object</span> <span class="hljs-variable">dependency</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@QualifieræŒ‡å®šBeanåç§°</span>
                <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Qualifier.class)) {
                    <span class="hljs-type">Qualifier</span> <span class="hljs-variable">qualifier</span> <span class="hljs-operator">=</span> field.getAnnotation(Qualifier.class);
                    <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> qualifier.value();
                    dependency = beanFactory.getBean(beanName);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// æ ¹æ®ç±»å‹æŸ¥æ‰¾Bean</span>
                    dependency = beanFactory.getBean(field.getType());
                }

                <span class="hljs-comment">// åå°„è®¾ç½®å­—æ®µå€¼</span>
                field.setAccessible(<span class="hljs-literal">true</span>);
                field.set(bean, dependency);

                System.out.println(<span class="hljs-string">"æ³¨å…¥ä¾èµ–: "</span> + clazz.getSimpleName() +
                    <span class="hljs-string">"."</span> + field.getName());

            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">if</span> (autowired.required()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¾èµ–æ³¨å…¥å¤±è´¥: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + field.getName(), e);
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-20">7. ç¬¬äº”æ­¥ï¼šå®Œå–„ç”Ÿå‘½å‘¨æœŸ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b1c98c1e6b1400dab18685675fd8503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=o%2BpKs8o%2Fd4yWCSXFgxEllUuttSg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">7.1 ç”Ÿå‘½å‘¨æœŸæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * Beanåˆå§‹åŒ–åè°ƒç”¨
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PostConstruct {
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * Beané”€æ¯å‰è°ƒç”¨
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PreDestroy {
}
</code></pre>
<h4 data-id="heading-22">7.2 ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.PostConstruct;
<span class="hljs-keyword">import</span> com.myspring.annotation.PreDestroy;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;

<span class="hljs-comment">/**
 * Beanç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LifecycleManager</span> {

    <span class="hljs-comment">/**
     * æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokeInitMethod</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();
        Method[] methods = clazz.getDeclaredMethods();

        <span class="hljs-keyword">for</span> (Method method : methods) {
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(PostConstruct.class)) {
                <span class="hljs-keyword">try</span> {
                    method.setAccessible(<span class="hljs-literal">true</span>);
                    method.invoke(bean);
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + method.getName());
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œå¤±è´¥"</span>, e);
                }
            }
        }
    }

    <span class="hljs-comment">/**
     * æ‰§è¡Œé”€æ¯æ–¹æ³•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokeDestroyMethod</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();
        Method[] methods = clazz.getDeclaredMethods();

        <span class="hljs-keyword">for</span> (Method method : methods) {
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(PreDestroy.class)) {
                <span class="hljs-keyword">try</span> {
                    method.setAccessible(<span class="hljs-literal">true</span>);
                    method.invoke(bean);
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œé”€æ¯æ–¹æ³•: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + method.getName());
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-23">8. å®Œæ•´ç¤ºä¾‹ï¼šä½¿ç”¨æ‰‹å†™IoC</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7225b7399aa845969344a1bd35e85acc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=9f5E7fmFFl60d8nQ0ZgahrLKiw8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-24">8.1 åˆ›å»ºApplicationContext</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * åº”ç”¨ä¸Šä¸‹æ–‡ï¼šæ•´åˆæ‰€æœ‰åŠŸèƒ½
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApplicationContext</span> {

    <span class="hljs-keyword">private</span> BeanFactory beanFactory;
    <span class="hljs-keyword">private</span> DependencyInjector injector;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ApplicationContext</span><span class="hljs-params">(String basePackage)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºBeanå·¥å‚</span>
        beanFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanFactory</span>();

        <span class="hljs-comment">// 2. æ‰«æç»„ä»¶</span>
        System.out.println(<span class="hljs-string">"========== å¼€å§‹æ‰«æç»„ä»¶ =========="</span>);
        List&lt;Class&lt;?&gt;&gt; componentClasses = ClassScanner.scanComponents(basePackage);

        <span class="hljs-comment">// 3. æ³¨å†ŒBeanå®šä¹‰</span>
        System.out.println(<span class="hljs-string">"\n========== æ³¨å†ŒBeanå®šä¹‰ =========="</span>);
        <span class="hljs-keyword">for</span> (Class&lt;?&gt; clazz : componentClasses) {
            beanFactory.registerBeanDefinition(clazz);
        }

        <span class="hljs-comment">// 4. å®ä¾‹åŒ–æ‰€æœ‰å•ä¾‹Bean</span>
        System.out.println(<span class="hljs-string">"\n========== å®ä¾‹åŒ–å•ä¾‹Bean =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"singleton"</span>.equals(bd.getScope())) {
                beanFactory.getBean(bd.getBeanName());
            }
        }

        <span class="hljs-comment">// 5. ä¾èµ–æ³¨å…¥</span>
        System.out.println(<span class="hljs-string">"\n========== æ‰§è¡Œä¾èµ–æ³¨å…¥ =========="</span>);
        injector = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DependencyInjector</span>(beanFactory);
        injector.injectDependencies();

        <span class="hljs-comment">// 6. æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•</span>
        System.out.println(<span class="hljs-string">"\n========== æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            LifecycleManager.invokeInitMethod(bean);
        }

        System.out.println(<span class="hljs-string">"\n========== IoCå®¹å™¨å¯åŠ¨å®Œæˆ ==========\n"</span>);
    }

    <span class="hljs-comment">/**
     * è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String beanName)</span> {
        <span class="hljs-keyword">return</span> beanFactory.getBean(beanName);
    }

    <span class="hljs-comment">/**
     * æ ¹æ®ç±»å‹è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;T&gt; clazz)</span> {
        <span class="hljs-keyword">return</span> (T) beanFactory.getBean(clazz);
    }

    <span class="hljs-comment">/**
     * å…³é—­å®¹å™¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"\n========== å…³é—­IoCå®¹å™¨ =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            LifecycleManager.invokeDestroyMethod(bean);
        }
    }
}
</code></pre>
<h4 data-id="heading-25">8.2 ç¼–å†™æµ‹è¯•ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.dao;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserDao: ä¿å­˜ç”¨æˆ·æ•°æ®"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.service;

<span class="hljs-keyword">import</span> com.example.dao.UserDao;
<span class="hljs-keyword">import</span> com.myspring.annotation.Autowired;
<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> com.myspring.annotation.PostConstruct;
<span class="hljs-keyword">import</span> com.myspring.annotation.PreDestroy;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(String username)</span> {
        System.out.println(<span class="hljs-string">"UserService: æ³¨å†Œç”¨æˆ· "</span> + username);
        userDao.save();
    }

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserServiceåˆå§‹åŒ–å®Œæˆ"</span>);
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserServiceå‡†å¤‡é”€æ¯"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example;

<span class="hljs-keyword">import</span> com.example.service.UserService;
<span class="hljs-keyword">import</span> com.myspring.core.ApplicationContext;

<span class="hljs-comment">/**
 * æµ‹è¯•ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºIoCå®¹å™¨</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApplicationContext</span>(<span class="hljs-string">"com.example"</span>);

        <span class="hljs-comment">// è·å–Beanå¹¶ä½¿ç”¨</span>
        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> context.getBean(UserService.class);
        userService.register(<span class="hljs-string">"å¼ ä¸‰"</span>);

        <span class="hljs-comment">// å…³é—­å®¹å™¨</span>
        context.close();
    }
}
</code></pre>
<h4 data-id="heading-26">8.3 è¿è¡Œè¾“å‡º</h4>
<pre><code class="hljs language-makefile" lang="makefile">========== å¼€å§‹æ‰«æç»„ä»¶ ==========
<span class="hljs-section">æ‰«æåˆ°ç»„ä»¶: com.example.dao.UserDao</span>
<span class="hljs-section">æ‰«æåˆ°ç»„ä»¶: com.example.service.UserService</span>

========== æ³¨å†ŒBeanå®šä¹‰ ==========
<span class="hljs-section">æ³¨å†ŒBean: userDao, ä½œç”¨åŸŸ: singleton</span>
<span class="hljs-section">æ³¨å†ŒBean: userService, ä½œç”¨åŸŸ: singleton</span>

========== å®ä¾‹åŒ–å•ä¾‹Bean ==========
<span class="hljs-section">åˆ›å»ºBeanå®ä¾‹: userDao</span>
<span class="hljs-section">åˆ›å»ºBeanå®ä¾‹: userService</span>

========== æ‰§è¡Œä¾èµ–æ³¨å…¥ ==========
<span class="hljs-section">æ³¨å…¥ä¾èµ–: UserService.userDao</span>

========== æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• ==========
<span class="hljs-section">æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•: UserService.init</span>
UserServiceåˆå§‹åŒ–å®Œæˆ

========== IoCå®¹å™¨å¯åŠ¨å®Œæˆ ==========

<span class="hljs-section">UserService: æ³¨å†Œç”¨æˆ· å¼ ä¸‰</span>
<span class="hljs-section">UserDao: ä¿å­˜ç”¨æˆ·æ•°æ®</span>

========== å…³é—­IoCå®¹å™¨ ==========
<span class="hljs-section">æ‰§è¡Œé”€æ¯æ–¹æ³•: UserService.destroy</span>
UserServiceå‡†å¤‡é”€æ¯
</code></pre>
<hr/>
<h3 data-id="heading-27">9. æ€»ç»“</h3>
<h4 data-id="heading-28">9.1 æ ¸å¿ƒè¦ç‚¹</h4>
<p>é€šè¿‡æ‰‹å†™IoCå®¹å™¨ï¼Œæˆ‘ä»¬æ·±å…¥ç†è§£äº†ï¼š</p>
<ol>
<li><strong>æ³¨è§£æœºåˆ¶</strong> - ä½¿ç”¨<code>@Retention</code>ã€<code>@Target</code>å®šä¹‰æ³¨è§£</li>
<li><strong>åå°„æŠ€æœ¯</strong> - ç±»åŠ è½½ã€å®ä¾‹åˆ›å»ºã€å­—æ®µæ³¨å…¥</li>
<li><strong>æ‰«æè§£æ</strong> - é€’å½’æ‰«æåŒ…è·¯å¾„ï¼Œè§£ææ³¨è§£ä¿¡æ¯</li>
<li><strong>Beanç®¡ç†</strong> - å•ä¾‹/åŸå‹æ¨¡å¼ï¼ŒBeanå®šä¹‰å­˜å‚¨</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong> - è‡ªåŠ¨æŸ¥æ‰¾å’Œæ³¨å…¥ä¾èµ–å¯¹è±¡</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong> - åˆå§‹åŒ–å’Œé”€æ¯å›è°ƒæ–¹æ³•</li>
</ol>
<h4 data-id="heading-29">9.2 ä¸Spring IoCçš„å¯¹æ¯”</h4>








































<table><thead><tr><th>åŠŸèƒ½</th><th>æ‰‹å†™ç‰ˆæœ¬</th><th>Spring IoC</th></tr></thead><tbody><tr><td>æ³¨è§£æ‰«æ</td><td>ç®€å•é€’å½’</td><td>é«˜æ€§èƒ½ASMå­—èŠ‚ç æ‰«æ</td></tr><tr><td>Beanç®¡ç†</td><td>Mapå­˜å‚¨</td><td>å¤šçº§ç¼“å­˜+å¾ªç¯ä¾èµ–å¤„ç†</td></tr><tr><td>ä¾èµ–æ³¨å…¥</td><td>å­—æ®µæ³¨å…¥</td><td>å­—æ®µ+æ„é€ å™¨+Setter</td></tr><tr><td>ä½œç”¨åŸŸ</td><td>singleton/prototype</td><td>æ›´å¤šä½œç”¨åŸŸ</td></tr><tr><td>AOPæ”¯æŒ</td><td>æ— </td><td>å®Œæ•´AOPæ¡†æ¶</td></tr><tr><td>æ€§èƒ½ä¼˜åŒ–</td><td>åŸºç¡€</td><td>å¤§é‡ä¼˜åŒ–ç­–ç•¥</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>