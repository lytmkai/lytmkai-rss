<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[SOLO Coder å®è·µï½œç»™å¼€æºäº‘ç›˜ Cloudreve åŠ ä¸ª AI å¯¹è¯åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7573592127298240562</link>    <guid>https://juejin.cn/post/7573592127298240562</guid>    <pubDate>2025-11-18T02:56:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573592127298240562" data-draft-id="7573589277004054566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SOLO Coder å®è·µï½œç»™å¼€æºäº‘ç›˜ Cloudreve åŠ ä¸ª AI å¯¹è¯åŠŸèƒ½"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-18T02:56:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SOLO Coder å®è·µï½œç»™å¼€æºäº‘ç›˜ Cloudreve åŠ ä¸ª AI å¯¹è¯åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T02:56:14.000Z" title="Tue Nov 18 2025 02:56:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/749b11d4371d4c8d9db419e6002f45bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=78kZMcKhdgLFxm8MEM9PpzEXJ3Q%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä½œè€…ä»‹ç»ï¼šåˆ˜æ˜Ÿè¾°ï¼ŒTRAE æŠ€æœ¯ä¸“å®¶</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d535a33641e14520857916eff5bb3bec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=a%2FQJZ%2FQY3mdn6dDP3kPUUCdltb0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>é¡¹ç›®èƒŒæ™¯</strong></h2>
<h3 data-id="heading-1"><strong>Cloudreve ç®€ä»‹</strong></h3>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcloudreve%2Fcloudreve" target="_blank" title="https://github.com/cloudreve/cloudreve" ref="nofollow noopener noreferrer">github.com/cloudreve/câ€¦</a></p>
<p>Cloudreve æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„<strong>è‡ªæ‰˜ç®¡æ–‡ä»¶ç®¡ç†ä¸åˆ†äº«ç³»ç»Ÿ</strong>ï¼Œæ”¯æŒå°†æ–‡ä»¶å­˜å‚¨åˆ°å¤šç§äº‘æœåŠ¡ï¼ˆå¦‚æœ¬åœ°å­˜å‚¨ã€S3ã€OneDriveã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯ COS ç­‰ï¼‰ã€‚è¯¥é¡¹ç›®æä¾›äº†å®Œæ•´çš„<strong>ç½‘é¡µç‰ˆç½‘ç›˜ä½“éªŒ</strong>ï¼ŒåŒ…æ‹¬æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€åœ¨çº¿é¢„è§ˆã€åˆ†äº«é“¾æ¥ã€å¤šç”¨æˆ·ä¸åˆ†ç»„ç®¡ç†ï¼Œä»¥åŠ WebDAV æ¥å…¥ç­‰åŠŸèƒ½ã€‚</p>
<p><strong>é¡¹ç›®äº®ç‚¹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p>æ”¯æŒå¤šç§äº‘å­˜å‚¨æœåŠ¡çš„ç»Ÿä¸€ç®¡ç†</p>
</li>
<li>
<p>å‰åç«¯ä¸€ä½“åŒ–çš„è‡ªéƒ¨ç½²æ–¹æ¡ˆï¼ˆGo + React æŠ€æœ¯æ ˆï¼‰</p>
</li>
<li>
<p>æ–‡ä»¶åŠ å¯†ã€å‹ç¼©ã€æ–­ç‚¹ç»­ä¼ ã€åœ¨çº¿é¢„è§ˆç­‰åŠŸèƒ½é½å…¨</p>
</li>
<li>
<p>é€‚ç”¨äºä¸ªäººç½‘ç›˜ã€å›¢é˜Ÿæ–‡ä»¶åä½œã€è½»é‡çº§ç§æœ‰äº‘ç­‰åœºæ™¯</p>
</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> ğŸŒ©ï¸ Cloudreve æ˜¯ä¸€ä¸ªå¼€æºçš„ã€å¯è‡ªå·±æ­å»ºçš„å¤šäº‘æ–‡ä»¶ç®¡ç†å¹³å°ï¼Œè®©ä½ æ‹¥æœ‰å±äºè‡ªå·±çš„ã€Œç½‘ç›˜ç³»ç»Ÿã€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d08a57f7abc4bb181e0c73b6b3efb62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=F6PKwP4M0c06mO%2F9q6CLcx2ORCI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf5c0109a0db4f279ca542a3a54a5f6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=BFSrSB8pLgq%2BQ%2Bfo%2B2E5%2B9mSf68%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>é¡¹ç›®ç†è§£</strong></h2>
<p>é¢å¯¹ä¸€ä¸ªé™Œç”Ÿçš„å¼€æºé¡¹ç›®ï¼Œå¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ï¼Ÿå¯ä»¥ç›´æ¥æŠŠé—®é¢˜äº¤ç»™ SOLO Coderï¼Œè®©å®ƒæŠŠå¤æ‚çš„é¡¹ç›®æ‹†è§£ä¸ºå¯ç†è§£çš„æ¨¡å—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/344587d235224e0d8d7c3987949168bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=llbRSP3KUJJz1nSjzlrcz4tdBD4%3D" alt="" loading="lazy"/></p>
<p>æ ¹æ®ä»»åŠ¡æ‹†è§£ï¼ŒCoder å†™äº† 6 ç¯‡æŠ€æœ¯æŠ¥å‘Šï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c75b056c81fc418bbc9086826b2c89b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=payXeh7PkBbW7lEMBVd2Xm5vd8k%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆéœ€è¦ç†è§£é¡¹ç›®çš„å®è§‚ç»“æ„ã€‚Coder ç»˜åˆ¶äº†æ•´ä½“æ¶æ„åˆ†ææ–‡æ¡£ï¼Œæ¶µç›–æŠ€æœ¯æ ˆã€éƒ¨ç½²æ–¹å¼å’Œæ•°æ®æµç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1214c883383a4896b1768bca7f43b310~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=hs1y0GhCbgFkHwU1azRvxixbh3A%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯æ–‡æ¡£å®Œæ•´å†…å®¹ï¼š</p>
<h3 data-id="heading-3"><strong>01-project-overview.md - é¡¹ç›®æ•´ä½“æ¶æ„æ¦‚è§ˆ</strong></h3>
<ul>
<li>
<p>æŠ€æœ¯æ ˆåˆ†æï¼ˆReact + Go + æ•°æ®åº“ï¼‰</p>
</li>
<li>
<p>éƒ¨ç½²æ¶æ„å›¾å’Œæ•°æ®æµç¨‹</p>
</li>
<li>
<p>æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»</p>
</li>
</ul>

<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Cloudreve é¡¹ç›®æ•´ä½“æ¶æ„åˆ†æ</span>

<span class="hljs-section">## é¡¹ç›®æ¦‚è¿°</span>

Cloudreve æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è‡ªæ‰˜ç®¡ç½‘ç›˜ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å­˜å‚¨åç«¯ï¼Œæä¾›å®Œæ•´çš„æ–‡ä»¶ç®¡ç†ã€åˆ†äº«ã€ç”¨æˆ·ç®¡ç†ç­‰åŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚

<span class="hljs-section">## æŠ€æœ¯æ ˆæ€»è§ˆ</span>

<span class="hljs-section">### å‰ç«¯æŠ€æœ¯æ ˆ</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ¡†æ¶**</span>: React 18 + TypeScript
<span class="hljs-bullet">-</span> <span class="hljs-strong">**UI åº“**</span>: Material-UI (MUI) v6
<span class="hljs-bullet">-</span> <span class="hljs-strong">**çŠ¶æ€ç®¡ç†**</span>: Redux Toolkit
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è·¯ç”±**</span>: React Router v6
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ„å»ºå·¥å…·**</span>: Vite
<span class="hljs-bullet">-</span> <span class="hljs-strong">**HTTP å®¢æˆ·ç«¯**</span>: Axios
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ‹–æ‹½**</span>: React DnD
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å›½é™…åŒ–**</span>: i18next

<span class="hljs-section">### åç«¯æŠ€æœ¯æ ˆ</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¯­è¨€**</span>: Go 1.23
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Web æ¡†æ¶**</span>: Gin
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ORM**</span>: Ent (Facebook å¼€æºçš„ Go ORM)
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ•°æ®åº“**</span>: æ”¯æŒ MySQLã€PostgreSQLã€SQLite
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è®¤è¯**</span>: JWT + Session
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–‡ä»¶å­˜å‚¨**</span>: æ”¯æŒæœ¬åœ°ã€é˜¿é‡Œäº‘ OSSã€AWS S3ã€è…¾è®¯äº‘ COS ç­‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä»»åŠ¡é˜Ÿåˆ—**</span>: å†…ç½®ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ

<span class="hljs-section">## é¡¹ç›®ç»“æ„</span>

<span class="hljs-code">```mermaid
graph TB
    subgraph "Cloudreve é¡¹ç›®ç»“æ„"
        A[æ ¹ç›®å½•] --&gt; B[Cloudreve/]
        A --&gt; C[assets/]
        A --&gt; D[.trae/]
        
        B --&gt; B1[main.go - å…¥å£æ–‡ä»¶]
        B --&gt; B2[routers/ - è·¯ç”±å±‚]
        B --&gt; B3[service/ - ä¸šåŠ¡é€»è¾‘å±‚]
        B --&gt; B4[ent/ - æ•°æ®æ¨¡å‹å±‚]
        B --&gt; B5[pkg/ - å·¥å…·åŒ…]
        B --&gt; B6[middleware/ - ä¸­é—´ä»¶]
        B --&gt; B7[inventory/ - åº“å­˜ç®¡ç†]
        B --&gt; B8[application/ - åº”ç”¨é…ç½®]
        
        C --&gt; C1[src/ - å‰ç«¯æºç ]
        C --&gt; C2[assets/ - é™æ€èµ„æº]
        C --&gt; C3[locales/ - å›½é™…åŒ–æ–‡ä»¶]
        
        C1 --&gt; C11[component/ - React ç»„ä»¶]
        C1 --&gt; C12[redux/ - çŠ¶æ€ç®¡ç†]
        C1 --&gt; C13[api/ - API æ¥å£]
        C1 --&gt; C14[router/ - å‰ç«¯è·¯ç”±]
        C1 --&gt; C15[session/ - ä¼šè¯ç®¡ç†]
    end
```</span>

<span class="hljs-section">## æ ¸å¿ƒæ¶æ„è®¾è®¡</span>

<span class="hljs-section">### 1. åˆ†å±‚æ¶æ„</span>

<span class="hljs-code">```mermaid
graph TB
    subgraph "åç«¯åˆ†å±‚æ¶æ„"
        A[è·¯ç”±å±‚ - routers/] --&gt; B[æ§åˆ¶å™¨å±‚ - controllers/]
        B --&gt; C[æœåŠ¡å±‚ - service/]
        C --&gt; D[æ•°æ®è®¿é—®å±‚ - ent/]
        D --&gt; E[æ•°æ®åº“]
        
        F[ä¸­é—´ä»¶å±‚ - middleware/] --&gt; B
        G[å·¥å…·åŒ… - pkg/] --&gt; C
    end
```</span>

<span class="hljs-section">### 2. å‰ç«¯ç»„ä»¶æ¶æ„</span>

<span class="hljs-code">```mermaid
graph TB
    subgraph "å‰ç«¯ç»„ä»¶æ¶æ„"
        A[App.tsx - æ ¹ç»„ä»¶] --&gt; B[Frame/ - æ¡†æ¶ç»„ä»¶]
        A --&gt; C[Pages/ - é¡µé¢ç»„ä»¶]
        
        B --&gt; B1[NavBarFrame - å¯¼èˆªæ¡†æ¶]
        B --&gt; B2[HeadlessFrame - æ— å¤´æ¡†æ¶]
        
        B1 --&gt; B11[TopAppBar - é¡¶éƒ¨æ ]
        B1 --&gt; B12[AppDrawer - ä¾§è¾¹æ ]
        B1 --&gt; B13[AppMain - ä¸»å†…å®¹åŒº]
        
        C --&gt; C1[FileManager/ - æ–‡ä»¶ç®¡ç†å™¨]
        C --&gt; C2[Login/ - ç™»å½•é¡µé¢]
        C --&gt; C3[Admin/ - ç®¡ç†é¡µé¢]
        
        C1 --&gt; C11[Explorer/ - æ–‡ä»¶æµè§ˆå™¨]
        C1 --&gt; C12[Uploader/ - æ–‡ä»¶ä¸Šä¼ å™¨]
        C1 --&gt; C13[Viewers/ - æ–‡ä»¶æŸ¥çœ‹å™¨]
    end
```</span>

<span class="hljs-section">## éƒ¨ç½²æ¶æ„</span>

Cloudreve æ”¯æŒä¸¤ç§éƒ¨ç½²æ¨¡å¼ï¼š

<span class="hljs-section">### 1. å•æœºæ¨¡å¼ (Master Mode)</span>
<span class="hljs-code">```mermaid
graph LR
    A[ç”¨æˆ·] --&gt; B[Nginx/åå‘ä»£ç†]
    B --&gt; C[Cloudreve ä¸»èŠ‚ç‚¹]
    C --&gt; D[æ•°æ®åº“]
    C --&gt; E[æ–‡ä»¶å­˜å‚¨]
```</span>

<span class="hljs-section">### 2. é›†ç¾¤æ¨¡å¼ (Master-Slave Mode)</span>
<span class="hljs-code">```mermaid
graph TB
    A[ç”¨æˆ·] --&gt; B[è´Ÿè½½å‡è¡¡å™¨]
    B --&gt; C[Cloudreve ä¸»èŠ‚ç‚¹]
    B --&gt; D[Cloudreve ä»èŠ‚ç‚¹ 1]
    B --&gt; E[Cloudreve ä»èŠ‚ç‚¹ 2]
    
    C --&gt; F[å…±äº«æ•°æ®åº“]
    D --&gt; G[æœ¬åœ°å­˜å‚¨ 1]
    E --&gt; H[æœ¬åœ°å­˜å‚¨ 2]
    
    C -.-&gt; D
    C -.-&gt; E
```</span>

<span class="hljs-section">## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</span>

<span class="hljs-section">### 1. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</span>
<span class="hljs-bullet">-</span> ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
<span class="hljs-bullet">-</span> ç”¨æˆ·ç»„ç®¡ç†
<span class="hljs-bullet">-</span> å­˜å‚¨é…é¢ç®¡ç†
<span class="hljs-bullet">-</span> 2FA åŒå› å­è®¤è¯
<span class="hljs-bullet">-</span> Passkey æ”¯æŒ

<span class="hljs-section">### 2. æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</span>
<span class="hljs-bullet">-</span> æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€é¢„è§ˆ
<span class="hljs-bullet">-</span> æ–‡ä»¶å¤¹ç®¡ç†
<span class="hljs-bullet">-</span> æ–‡ä»¶åˆ†äº«ï¼ˆå…¬å¼€/ç§å¯†ï¼‰
<span class="hljs-bullet">-</span> æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶
<span class="hljs-bullet">-</span> æ‰¹é‡æ“ä½œ

<span class="hljs-section">### 3. å­˜å‚¨ç³»ç»Ÿ</span>
<span class="hljs-bullet">-</span> å¤šå­˜å‚¨åç«¯æ”¯æŒ
<span class="hljs-bullet">-</span> å­˜å‚¨ç­–ç•¥ç®¡ç†
<span class="hljs-bullet">-</span> æ–‡ä»¶åŠ å¯†
<span class="hljs-bullet">-</span> ç¼©ç•¥å›¾ç”Ÿæˆ
<span class="hljs-bullet">-</span> åª’ä½“å…ƒæ•°æ®æå–

<span class="hljs-section">### 4. ä»»åŠ¡ç³»ç»Ÿ</span>
<span class="hljs-bullet">-</span> å¼‚æ­¥ä»»åŠ¡å¤„ç†
<span class="hljs-bullet">-</span> ç¦»çº¿ä¸‹è½½
<span class="hljs-bullet">-</span> æ–‡ä»¶å‹ç¼©/è§£å‹
<span class="hljs-bullet">-</span> å®šæ—¶ä»»åŠ¡

<span class="hljs-section">### 5. èŠå¤©ç³»ç»Ÿ (å·²å®ç°)</span>
<span class="hljs-bullet">-</span> OpenRouter API é›†æˆ
<span class="hljs-bullet">-</span> æµå¼å¯¹è¯æ”¯æŒ
<span class="hljs-bullet">-</span> å¤šæ¨¡æ€æ–‡ä»¶å¤„ç†
<span class="hljs-bullet">-</span> æ–‡ä»¶ä¸Šä¸‹æ–‡åˆ†æ

<span class="hljs-section">## æ•°æ®æµæ¶æ„</span>

<span class="hljs-code">```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as å‰ç«¯ (React)
    participant R as è·¯ç”±å±‚ (Gin)
    participant S as æœåŠ¡å±‚
    participant D as æ•°æ®å±‚ (Ent)
    participant DB as æ•°æ®åº“

    U-&gt;&gt;F: ç”¨æˆ·æ“ä½œ
    F-&gt;&gt;R: HTTP è¯·æ±‚
    R-&gt;&gt;R: ä¸­é—´ä»¶å¤„ç† (è®¤è¯/æˆæƒ)
    R-&gt;&gt;S: è°ƒç”¨ä¸šåŠ¡æœåŠ¡
    S-&gt;&gt;D: æ•°æ®æ“ä½œ
    D-&gt;&gt;DB: SQL æŸ¥è¯¢
    DB--&gt;&gt;D: è¿”å›æ•°æ®
    D--&gt;&gt;S: è¿”å›å®ä½“
    S--&gt;&gt;R: è¿”å›ç»“æœ
    R--&gt;&gt;F: JSON å“åº”
    F--&gt;&gt;U: æ›´æ–°ç•Œé¢
```</span>

<span class="hljs-section">## å…³é”®è®¾è®¡ç‰¹ç‚¹</span>

<span class="hljs-section">### 1. æ¨¡å—åŒ–è®¾è®¡</span>
<span class="hljs-bullet">-</span> å‰åç«¯å®Œå…¨åˆ†ç¦»
<span class="hljs-bullet">-</span> ç»„ä»¶åŒ–å¼€å‘
<span class="hljs-bullet">-</span> æ’ä»¶å¼å­˜å‚¨åç«¯
<span class="hljs-bullet">-</span> ä¸­é—´ä»¶æ¶æ„

<span class="hljs-section">### 2. å¯æ‰©å±•æ€§</span>
<span class="hljs-bullet">-</span> æ”¯æŒé›†ç¾¤éƒ¨ç½²
<span class="hljs-bullet">-</span> æ°´å¹³æ‰©å±•èƒ½åŠ›
<span class="hljs-bullet">-</span> æ’ä»¶ç³»ç»Ÿ
<span class="hljs-bullet">-</span> API ç‰ˆæœ¬ç®¡ç†

<span class="hljs-section">### 3. å®‰å…¨æ€§</span>
<span class="hljs-bullet">-</span> JWT è®¤è¯
<span class="hljs-bullet">-</span> RBAC æƒé™æ§åˆ¶
<span class="hljs-bullet">-</span> æ–‡ä»¶åŠ å¯†
<span class="hljs-bullet">-</span> CSRF ä¿æŠ¤
<span class="hljs-bullet">-</span> è¾“å…¥éªŒè¯

<span class="hljs-section">### 4. æ€§èƒ½ä¼˜åŒ–</span>
<span class="hljs-bullet">-</span> ç¼“å­˜æœºåˆ¶
<span class="hljs-bullet">-</span> å¼‚æ­¥ä»»åŠ¡å¤„ç†
<span class="hljs-bullet">-</span> æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ 
<span class="hljs-bullet">-</span> CDN æ”¯æŒ
<span class="hljs-bullet">-</span> æ•°æ®åº“è¿æ¥æ± 

<span class="hljs-section">## å¼€å‘ç¯å¢ƒè¦æ±‚</span>

<span class="hljs-section">### å‰ç«¯å¼€å‘</span>
<span class="hljs-bullet">-</span> Node.js 18+
<span class="hljs-bullet">-</span> npm æˆ– yarn
<span class="hljs-bullet">-</span> ç°ä»£æµè§ˆå™¨

<span class="hljs-section">### åç«¯å¼€å‘</span>
<span class="hljs-bullet">-</span> Go 1.23+
<span class="hljs-bullet">-</span> æ•°æ®åº“ (MySQL/PostgreSQL/SQLite)
<span class="hljs-bullet">-</span> Redis (å¯é€‰ï¼Œç”¨äºç¼“å­˜)

<span class="hljs-section">## é¡¹ç›®ç‰¹è‰²åŠŸèƒ½</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å¤šå­˜å‚¨åç«¯**</span>: æ”¯æŒæœ¬åœ°ã€äº‘å­˜å‚¨ç­‰å¤šç§å­˜å‚¨æ–¹å¼
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**WebDAV æ”¯æŒ**</span>: å¯é€šè¿‡ WebDAV åè®®è®¿é—®æ–‡ä»¶
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**Office åœ¨çº¿ç¼–è¾‘**</span>: é›†æˆ WOPI åè®®æ”¯æŒ Office æ–‡æ¡£åœ¨çº¿ç¼–è¾‘
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**åª’ä½“å¤„ç†**</span>: æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘çš„é¢„è§ˆå’Œå…ƒæ•°æ®æå–
<span class="hljs-bullet">5.</span> <span class="hljs-strong">**ç¦»çº¿ä¸‹è½½**</span>: æ”¯æŒ Aria2 ç¦»çº¿ä¸‹è½½
<span class="hljs-bullet">6.</span> <span class="hljs-strong">**æ–‡ä»¶åˆ†äº«**</span>: çµæ´»çš„æ–‡ä»¶åˆ†äº«æœºåˆ¶
<span class="hljs-bullet">7.</span> <span class="hljs-strong">**AI èŠå¤©**</span>: é›†æˆ OpenRouter API çš„æ™ºèƒ½å¯¹è¯åŠŸèƒ½

<span class="hljs-section">## æ€»ç»“</span>

Cloudreve æ˜¯ä¸€ä¸ªæ¶æ„æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´çš„ç°ä»£åŒ–ç½‘ç›˜ç³»ç»Ÿã€‚å…¶å‰åç«¯åˆ†ç¦»çš„è®¾è®¡ã€æ¨¡å—åŒ–çš„æ¶æ„ã€ä»¥åŠä¸°å¯Œçš„åŠŸèƒ½ç‰¹æ€§ï¼Œä¸ºå¼€å‘è€…æä¾›äº†è‰¯å¥½çš„æ‰©å±•åŸºç¡€ã€‚ç‰¹åˆ«æ˜¯å·²ç»å®ç°çš„èŠå¤©åŠŸèƒ½ï¼Œä¸ºä½ è¦å¼€å‘çš„ä¾§è¾¹æ å¯¹è¯åŠŸèƒ½æä¾›äº†å¾ˆå¥½çš„å‚è€ƒå’ŒåŸºç¡€ã€‚

ä¸‹ä¸€æ­¥å»ºè®®æ·±å…¥äº†è§£å‰ç«¯ç»„ä»¶æ¶æ„å’Œåç«¯æœåŠ¡å±‚çš„å…·ä½“å®ç°ï¼Œè¿™å°†æœ‰åŠ©äºä½ æ›´å¥½åœ°ç†è§£å¦‚ä½•åœ¨ç°æœ‰æ¶æ„åŸºç¡€ä¸Šæ·»åŠ æ–°åŠŸèƒ½ã€‚
</code></pre>
<h3 data-id="heading-4"><strong>02-frontend-architecture.md - å‰ç«¯æ¶æ„è¯¦è§£</strong></h3>
<ul>
<li>
<p>React + TypeScript + Material-UI æŠ€æœ¯æ ˆ</p>
</li>
<li>
<p>ç»„ä»¶å±‚æ¬¡ç»“æ„å’ŒçŠ¶æ€ç®¡ç†</p>
</li>
<li>
<p>è·¯ç”±ç³»ç»Ÿå’Œæ€§èƒ½ä¼˜åŒ–ç­–ç•¥</p>
</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Cloudreve å‰ç«¯æ¶æ„å­¦ä¹ æŒ‡å—</span>

<span class="hljs-comment">## å‰ç«¯æŠ€æœ¯æ ˆè¯¦è§£</span>

<span class="hljs-comment">### æ ¸å¿ƒæŠ€æœ¯æ ˆ</span>
- **React 18**: ä½¿ç”¨æœ€æ–°çš„ React ç‰¹æ€§ï¼ŒåŒ…æ‹¬ Hooksã€Suspenseã€Concurrent Features
- **TypeScript**: æä¾›ç±»å‹å®‰å…¨å’Œæ›´å¥½çš„å¼€å‘ä½“éªŒ
- **Material-UI (MUI) v6**: Google Material Design è®¾è®¡è¯­è¨€çš„ React å®ç°
- **Redux Toolkit**: ç°ä»£åŒ–çš„ Redux çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆ
- **React Router v6**: å£°æ˜å¼è·¯ç”±ç®¡ç†
- **Vite**: å¿«é€Ÿçš„æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨

<span class="hljs-comment">### å¼€å‘å·¥å…·é“¾</span>
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier**: ä»£ç æ ¼å¼åŒ–
- **Husky**: Git hooks ç®¡ç†
- **TypeScript**: é™æ€ç±»å‹æ£€æŸ¥

<span class="hljs-comment">## é¡¹ç›®ç»“æ„è¯¦è§£</span>

```
assets/src/
â”œâ”€â”€ component/           <span class="hljs-comment"># React ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Common/         <span class="hljs-comment"># é€šç”¨ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Frame/          <span class="hljs-comment"># æ¡†æ¶ç»„ä»¶</span>
â”‚   â”œâ”€â”€ FileManager/    <span class="hljs-comment"># æ–‡ä»¶ç®¡ç†å™¨ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Pages/          <span class="hljs-comment"># é¡µé¢ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Admin/          <span class="hljs-comment"># ç®¡ç†åå°ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Viewers/        <span class="hljs-comment"># æ–‡ä»¶æŸ¥çœ‹å™¨ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Uploader/       <span class="hljs-comment"># æ–‡ä»¶ä¸Šä¼ ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Icons/          <span class="hljs-comment"># å›¾æ ‡ç»„ä»¶</span>
â”‚   â””â”€â”€ Dialogs/        <span class="hljs-comment"># å¯¹è¯æ¡†ç»„ä»¶</span>
â”œâ”€â”€ redux/              <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
â”‚   â”œâ”€â”€ hooks.ts        <span class="hljs-comment"># Redux hooks</span>
â”‚   â”œâ”€â”€ store.ts        <span class="hljs-comment"># Store é…ç½®</span>
â”‚   â””â”€â”€ slices/         <span class="hljs-comment"># Redux slices</span>
â”œâ”€â”€ api/                <span class="hljs-comment"># API æ¥å£</span>
â”‚   â”œâ”€â”€ api.ts          <span class="hljs-comment"># API å‡½æ•°</span>
â”‚   â”œâ”€â”€ request.ts      <span class="hljs-comment"># è¯·æ±‚å°è£…</span>
â”‚   â””â”€â”€ types.ts        <span class="hljs-comment"># ç±»å‹å®šä¹‰</span>
â”œâ”€â”€ router/             <span class="hljs-comment"># è·¯ç”±é…ç½®</span>
â”œâ”€â”€ session/            <span class="hljs-comment"># ä¼šè¯ç®¡ç†</span>
â”œâ”€â”€ util/               <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â””â”€â”€ App.tsx             <span class="hljs-comment"># æ ¹ç»„ä»¶</span>
```

<span class="hljs-comment">## ç»„ä»¶æ¶æ„è®¾è®¡</span>

<span class="hljs-comment">### 1. æ¡†æ¶ç»„ä»¶å±‚æ¬¡ç»“æ„</span>

```mermaid
graph TB
    subgraph "æ¡†æ¶ç»„ä»¶æ¶æ„"
        A<span class="hljs-section">[App.tsx]</span> --&gt; B<span class="hljs-section">[NavBarFrame]</span>
        A --&gt; C<span class="hljs-section">[HeadlessFrame]</span>
        
        B --&gt; D<span class="hljs-section">[TopAppBar]</span>
        B --&gt; E<span class="hljs-section">[AppDrawer]</span>
        B --&gt; F<span class="hljs-section">[AppMain]</span>
        
        D --&gt; D1<span class="hljs-section">[UserAction]</span>
        D --&gt; D2<span class="hljs-section">[SearchBar]</span>
        D --&gt; D3<span class="hljs-section">[NavBarMainActions]</span>
        
        E --&gt; E1<span class="hljs-section">[SideNavItem]</span>
        E --&gt; E2<span class="hljs-section">[StorageSummary]</span>
        E --&gt; E3<span class="hljs-section">[PageNavigation]</span>
        
        F --&gt; F1<span class="hljs-section">[FileManager]</span>
        F --&gt; F2<span class="hljs-section">[Pages]</span>
        F --&gt; F3<span class="hljs-section">[Admin]</span>
    end
```

<span class="hljs-comment">### 2. æ–‡ä»¶ç®¡ç†å™¨ç»„ä»¶ç»“æ„</span>

```mermaid
graph TB
    subgraph "æ–‡ä»¶ç®¡ç†å™¨ç»„ä»¶"
        A<span class="hljs-section">[FileManager]</span> --&gt; B<span class="hljs-section">[TopBar]</span>
        A --&gt; C<span class="hljs-section">[Explorer]</span>
        A --&gt; D<span class="hljs-section">[Uploader]</span>
        A --&gt; E<span class="hljs-section">[Viewers]</span>
        A --&gt; F<span class="hljs-section">[Dialogs]</span>
        
        B --&gt; B1<span class="hljs-section">[Breadcrumb]</span>
        B --&gt; B2<span class="hljs-section">[TopActions]</span>
        B --&gt; B3<span class="hljs-section">[ViewOptions]</span>
        
        C --&gt; C1<span class="hljs-section">[FileList]</span>
        C --&gt; C2<span class="hljs-section">[ContextMenu]</span>
        C --&gt; C3<span class="hljs-section">[DragDrop]</span>
        
        D --&gt; D1<span class="hljs-section">[UploadQueue]</span>
        D --&gt; D2<span class="hljs-section">[ProgressBar]</span>
        
        E --&gt; E1<span class="hljs-section">[ImageViewer]</span>
        E --&gt; E2<span class="hljs-section">[VideoPlayer]</span>
        E --&gt; E3<span class="hljs-section">[DocumentViewer]</span>
        
        F --&gt; F1<span class="hljs-section">[CreateNew]</span>
        F --&gt; F2<span class="hljs-section">[ShareDialog]</span>
        F --&gt; F3<span class="hljs-section">[DeleteConfirm]</span>
    end
```

<span class="hljs-comment">## çŠ¶æ€ç®¡ç†æ¶æ„</span>

<span class="hljs-comment">### Redux Store ç»“æ„</span>

```typescript
// store.ts æ ¸å¿ƒé…ç½®
export const <span class="hljs-attr">store</span> = configureStore({
  reducer: {
    // å…¨å±€çŠ¶æ€
    globalState: globalStateSlice.reducer,
    // æ–‡ä»¶ç®¡ç†å™¨çŠ¶æ€
    explorer: explorerSlice.reducer,
    // ç”¨æˆ·çŠ¶æ€
    user: userSlice.reducer,
    // ä¸Šä¼ çŠ¶æ€
    uploader: uploaderSlice.reducer,
    // å¯¹è¯æ¡†çŠ¶æ€
    dialog: dialogSlice.reducer,
  },
  middleware: (getDefaultMiddleware) =&gt;
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: <span class="hljs-section">[FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]</span>,
      },
    }),
})<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### çŠ¶æ€ç®¡ç†æ¨¡å¼</span>

```mermaid
graph LR
    subgraph "Redux æ•°æ®æµ"
        A<span class="hljs-section">[Component]</span> --&gt; B<span class="hljs-section">[Action]</span>
        B --&gt; C<span class="hljs-section">[Reducer]</span>
        C --&gt; D<span class="hljs-section">[Store]</span>
        D --&gt; A
        
        E<span class="hljs-section">[Middleware]</span> --&gt; C
        F<span class="hljs-section">[DevTools]</span> --&gt; D
    end
```

<span class="hljs-comment">### ä¸»è¦ Slice è¯´æ˜</span>

<span class="hljs-comment">#### 1. globalStateSlice</span>
```typescript
interface GlobalState {
  // ä¾§è¾¹æ çŠ¶æ€
  drawerOpen: boolean<span class="hljs-comment">;</span>
  mobileDrawerOpen: boolean<span class="hljs-comment">;</span>
  // ä¸»é¢˜è®¾ç½®
  theme: 'light' | 'dark' | 'auto'<span class="hljs-comment">;</span>
  // è¯­è¨€è®¾ç½®
  language: string<span class="hljs-comment">;</span>
  // åŠ è½½çŠ¶æ€
  loading: boolean<span class="hljs-comment">;</span>
}
```

<span class="hljs-comment">#### 2. explorerSlice</span>
```typescript
interface ExplorerState {
  // å½“å‰è·¯å¾„
  currentPath: string<span class="hljs-comment">;</span>
  // æ–‡ä»¶åˆ—è¡¨
  files: FileResponse<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  // é€‰ä¸­çš„æ–‡ä»¶
  selectedFiles: string<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  // è§†å›¾æ¨¡å¼
  viewMode: 'list' | 'grid' | 'small'<span class="hljs-comment">;</span>
  // æ’åºæ–¹å¼
  sortBy: string<span class="hljs-comment">;</span>
  sortOrder: 'asc' | 'desc'<span class="hljs-comment">;</span>
}
```

<span class="hljs-comment">## è·¯ç”±ç³»ç»Ÿ</span>

<span class="hljs-comment">### è·¯ç”±é…ç½®ç»“æ„</span>

```typescript
// router/index.tsx
export const <span class="hljs-attr">router</span> = createBrowserRouter([
  {
    path: <span class="hljs-string">"/"</span>,
    element: &lt;App /&gt;,
    errorElement: &lt;ErrorBoundary /&gt;,
    children: [
      { path: <span class="hljs-string">"/"</span>, element: &lt;HomeRedirect /&gt; },
      {
        path: <span class="hljs-string">"/"</span>,
        element: &lt;HeadlessFrame /&gt;,
        children: [
          // ç™»å½•ç›¸å…³è·¯ç”±
          {
            path: <span class="hljs-string">"/session"</span>,
            element: &lt;SessionIntro /&gt;,
            children: [
              { path: <span class="hljs-string">"/session"</span>, element: &lt;SignIn /&gt; },
              { path: <span class="hljs-string">"signup"</span>, element: &lt;SignUp /&gt; },
              { path: <span class="hljs-string">"activate"</span>, element: &lt;Activate /&gt; },
              { path: <span class="hljs-string">"reset"</span>, element: &lt;Reset /&gt; },
            ],
          },
        ],
      },
    ],
  },
])<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### è·¯ç”±å®ˆå«æœºåˆ¶</span>

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant R as Router
    participant A as Auth Guard
    participant S as Session
    participant C as Component

    U-&gt;&gt;R: è®¿é—®è·¯ç”±
    R-&gt;&gt;A: æ£€æŸ¥æƒé™
    A-&gt;&gt;S: éªŒè¯ä¼šè¯
    alt å·²ç™»å½•
        S--&gt;&gt;A: è¿”å›ç”¨æˆ·ä¿¡æ¯
        A--&gt;&gt;R: å…è®¸è®¿é—®
        R-&gt;&gt;C: æ¸²æŸ“ç»„ä»¶
        C--&gt;&gt;U: æ˜¾ç¤ºé¡µé¢
    else æœªç™»å½•
        S--&gt;&gt;A: è¿”å›æœªè®¤è¯
        A--&gt;&gt;R: é‡å®šå‘ç™»å½•
        R-&gt;&gt;U: è·³è½¬ç™»å½•é¡µ
    end
```

<span class="hljs-comment">## ç»„ä»¶è®¾è®¡æ¨¡å¼</span>

<span class="hljs-comment">### 1. å®¹å™¨ç»„ä»¶ vs å±•ç¤ºç»„ä»¶</span>

```typescript
// å®¹å™¨ç»„ä»¶ - è´Ÿè´£æ•°æ®å’Œé€»è¾‘
const FileManagerContainer: <span class="hljs-attr">React.FC</span> = () =&gt; {
  const <span class="hljs-attr">dispatch</span> = useAppDispatch()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">files</span> = useAppSelector(state =&gt; state.explorer.files)<span class="hljs-comment">;</span>
  
  const <span class="hljs-attr">handleFileSelect</span> = (fileId: string) =&gt; {
    dispatch(selectFile(fileId))<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
  
  return (
    &lt;FileList 
      <span class="hljs-attr">files</span>={files}
      <span class="hljs-attr">onFileSelect</span>={handleFileSelect}
    /&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// å±•ç¤ºç»„ä»¶ - è´Ÿè´£ UI æ¸²æŸ“
interface FileListProps {
  files: FileResponse<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  onFileSelect: (fileId: string) =&gt; void<span class="hljs-comment">;</span>
}

const FileList: React.FC&lt;FileListProps&gt; = ({ files, onFileSelect }) =&gt; {
  return (
    &lt;List&gt;
      {files.map(<span class="hljs-attr">file</span> =&gt; (
        &lt;FileItem 
          <span class="hljs-attr">key</span>={file.id}
          <span class="hljs-attr">file</span>={file}
          <span class="hljs-attr">onClick</span>={() =&gt; <span class="hljs-literal">on</span>FileSelect(file.id)}
        /&gt;
      ))}
    &lt;/List&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### 2. è‡ªå®šä¹‰ Hooks</span>

```typescript
// hooks/useFileManager.ts
export const <span class="hljs-attr">useFileManager</span> = () =&gt; {
  const <span class="hljs-attr">dispatch</span> = useAppDispatch()<span class="hljs-comment">;</span>
  const { files, currentPath, loading } = useAppSelector(<span class="hljs-attr">state</span> =&gt; state.explorer)<span class="hljs-comment">;</span>
  
  const <span class="hljs-attr">loadFiles</span> = useCallback(async (path: string) =&gt; {
    dispatch(setLoading(true))<span class="hljs-comment">;</span>
    try {
      const <span class="hljs-attr">response</span> = await api.listFiles(path)<span class="hljs-comment">;</span>
      dispatch(setFiles(response.data))<span class="hljs-comment">;</span>
    } catch (error) {
      // é”™è¯¯å¤„ç†
    } finally {
      dispatch(setLoading(false))<span class="hljs-comment">;</span>
    }
  }, <span class="hljs-section">[dispatch]</span>)<span class="hljs-comment">;</span>
  
  return {
    files,
    currentPath,
    loading,
    loadFiles,
  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### 3. é«˜é˜¶ç»„ä»¶ (HOC)</span>

```typescript
// hoc/withAuth.tsx
export const <span class="hljs-attr">withAuth</span> = &lt;P extends object&gt;(
  Component: React.ComponentType&lt;P&gt;
) =&gt; {
  return (props: P) =&gt; {
    const { user } = useAppSelector(<span class="hljs-attr">state</span> =&gt; state.user)<span class="hljs-comment">;</span>
    
    if (!user) {
      return &lt;Navigate <span class="hljs-attr">to</span>=<span class="hljs-string">"/session"</span> /&gt;<span class="hljs-comment">;</span>
    }
    
    return &lt;Component {...props} /&gt;<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// ä½¿ç”¨æ–¹å¼
const <span class="hljs-attr">ProtectedPage</span> = withAuth(FileManager)<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## Material-UI ä¸»é¢˜ç³»ç»Ÿ</span>

<span class="hljs-comment">### ä¸»é¢˜é…ç½®</span>

```typescript
// App.tsx ä¸­çš„ä¸»é¢˜é…ç½®
export const <span class="hljs-attr">applyThemeWithOverrides</span> = (themeConfig: ThemeOptions): ThemeOptions =&gt; {
  return {
    ...themeConfig,
    shape: {
      borderRadius: 12,
    },
    components: {
      MuiButton: {
        styleOverrides: {
          root: {
            textTransform: "none",
          },
        },
      },
      MuiTooltip: {
        defaultProps: {
          enterDelay: 500,
        },
      },
    },
  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### å“åº”å¼è®¾è®¡</span>

```typescript
// ä½¿ç”¨ MUI çš„æ–­ç‚¹ç³»ç»Ÿ
const <span class="hljs-attr">useStyles</span> = () =&gt; {
  const <span class="hljs-attr">theme</span> = useTheme()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">isMobile</span> = useMediaQuery(theme.breakpoints.down(<span class="hljs-string">'sm'</span>))<span class="hljs-comment">;</span>
  const <span class="hljs-attr">isTablet</span> = useMediaQuery(theme.breakpoints.down(<span class="hljs-string">'md'</span>))<span class="hljs-comment">;</span>
  
  return {
    container: {
      padding: isMobile ? theme.spacing(1) : theme.spacing(3),
      gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fill, minmax(200px, 1fr))',
    },
  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## API é›†æˆæ¨¡å¼</span>

<span class="hljs-comment">### è¯·æ±‚å°è£…</span>

```typescript
// api/request.ts
const <span class="hljs-attr">instance</span> = axios.create({
  baseURL: '/api/v4',
})<span class="hljs-comment">;</span>

// è¯·æ±‚æ‹¦æˆªå™¨
instance.interceptors.request.use(async (config) =&gt; {
  const <span class="hljs-attr">token</span> = await SessionManager.getAccessToken()<span class="hljs-comment">;</span>
  if (token) {
    <span class="hljs-attr">config.headers.Authorization</span> = `Bearer <span class="hljs-variable">${token}</span>`<span class="hljs-comment">;</span>
  }
  return config<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>

// å“åº”æ‹¦æˆªå™¨
instance.interceptors.response.use(
  (response) =&gt; response,
  async (error) =&gt; {
    if (error.response?.<span class="hljs-attr">status</span> === <span class="hljs-number">401</span>) {
      // å¤„ç†è®¤è¯å¤±è´¥
      await SessionManager.refreshToken()<span class="hljs-comment">;</span>
    }
    return Promise.reject(error)<span class="hljs-comment">;</span>
  }
)<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### API å‡½æ•°è®¾è®¡</span>

```typescript
// api/explorer.ts
export const <span class="hljs-attr">explorerAPI</span> = {
  // è·å–æ–‡ä»¶åˆ—è¡¨
  listFiles: (path: string): Promise&lt;Response&lt;FileResponse<span class="hljs-section">[]</span>&gt;&gt; =&gt; {
    return request.get('/file/list', { params: { path } })<span class="hljs-comment">;</span>
  },
  
  // ä¸Šä¼ æ–‡ä»¶
  uploadFile: (
    file: File, 
    path: string, 
    onProgress?: (progress: number) =&gt; void
  ): Promise&lt;Response&lt;FileResponse&gt;&gt; =&gt; {
    const <span class="hljs-attr">formData</span> = new FormData()<span class="hljs-comment">;</span>
    formData.append('file', file)<span class="hljs-comment">;</span>
    formData.append('path', path)<span class="hljs-comment">;</span>
    
    return request.post('/file/upload', formData, {
      onUploadProgress: (progressEvent) =&gt; {
        const <span class="hljs-attr">progress</span> = Math.round(
          (progressEvent.loaded * 100) / progressEvent.total
        )<span class="hljs-comment">;</span>
        onProgress?.(progress)<span class="hljs-comment">;</span>
      },
    })<span class="hljs-comment">;</span>
  },
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## å›½é™…åŒ– (i18n) ç³»ç»Ÿ</span>

<span class="hljs-comment">### é…ç½®ç»“æ„</span>

```typescript
// i18n.ts
import i18n from 'i18next'<span class="hljs-comment">;</span>
import Backend from 'i18next-http-backend'<span class="hljs-comment">;</span>
import LanguageDetector from 'i18next-browser-languagedetector'<span class="hljs-comment">;</span>

i18n
  .use(Backend)
  .use(LanguageDetector)
  .init({
    fallbackLng: 'en-US',
    debug: false,
    
    interpolation: {
      escapeValue: false,
    },
    
    backend: {
      loadPath: '/assets/locales/{{lng}}/{{ns}}.json',
    },
  })<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### ä½¿ç”¨æ–¹å¼</span>

```typescript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const FileManager: <span class="hljs-attr">React.FC</span> = () =&gt; {
  const { t } = useTranslation()<span class="hljs-comment">;</span>
  
  return (
    &lt;Box&gt;
      &lt;Typography <span class="hljs-attr">variant</span>=<span class="hljs-string">"h6"</span>&gt;
        {t('fileManager.title')}
      &lt;/Typography&gt;
      &lt;Button&gt;
        {t('common.upload')}
      &lt;/Button&gt;
    &lt;/Box&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</span>

<span class="hljs-comment">### 1. ä»£ç åˆ†å‰²</span>

```typescript
// è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
const <span class="hljs-attr">FileManager</span> = lazy(() =&gt; import(<span class="hljs-string">'../component/FileManager/FileManager'</span>))<span class="hljs-comment">;</span>
const <span class="hljs-attr">AdminPanel</span> = lazy(() =&gt; import(<span class="hljs-string">'../component/Admin/AdminPanel'</span>))<span class="hljs-comment">;</span>

// åœ¨è·¯ç”±ä¸­ä½¿ç”¨
&lt;Route 
  <span class="hljs-attr">path</span>=<span class="hljs-string">"/files"</span> 
  <span class="hljs-attr">element</span>={
    &lt;Suspense <span class="hljs-attr">fallback</span>={&lt;Loading /&gt;}&gt;
      &lt;FileManager /&gt;
    &lt;/Suspense&gt;
  } 
/&gt;
```

<span class="hljs-comment">### 2. ç»„ä»¶ä¼˜åŒ–</span>

```typescript
// ä½¿ç”¨ React.memo ä¼˜åŒ–æ¸²æŸ“
const <span class="hljs-attr">FileItem</span> = React.memo&lt;FileItemProps&gt;(({ file, <span class="hljs-literal">on</span>Select }) =&gt; {
  return (
    &lt;ListItem <span class="hljs-attr">onClick</span>={() =&gt; <span class="hljs-literal">on</span>Select(file.id)}&gt;
      &lt;ListItemText <span class="hljs-attr">primary</span>={file.name} /&gt;
    &lt;/ListItem&gt;
  )<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>

// ä½¿ç”¨ useMemo ä¼˜åŒ–è®¡ç®—
const FileList: React.FC&lt;FileListProps&gt; = ({ files, filter }) =&gt; {
  const <span class="hljs-attr">filteredFiles</span> = useMemo(() =&gt; {
    return files.filter(<span class="hljs-attr">file</span> =&gt; 
      file.name.toLowerCase().includes(filter.toLowerCase())
    )<span class="hljs-comment">;</span>
  }, <span class="hljs-section">[files, filter]</span>)<span class="hljs-comment">;</span>
  
  return (
    &lt;List&gt;
      {filteredFiles.map(<span class="hljs-attr">file</span> =&gt; (
        &lt;FileItem <span class="hljs-attr">key</span>={file.id} file={file} /&gt;
      ))}
    &lt;/List&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">### 3. è™šæ‹Ÿæ»šåŠ¨</span>

```typescript
// ä½¿ç”¨ react-virtuoso å¤„ç†å¤§åˆ—è¡¨
import { Virtuoso } from 'react-virtuoso'<span class="hljs-comment">;</span>

const VirtualFileList: React.FC&lt;{ files: FileResponse<span class="hljs-section">[]</span> }&gt; = ({ files }) =&gt; {
  return (
    &lt;Virtuoso
      <span class="hljs-attr">data</span>={files}
      <span class="hljs-attr">itemContent</span>={(index, file) =&gt; (
        &lt;FileItem <span class="hljs-attr">key</span>={file.id} file={file} /&gt;
      )}
      <span class="hljs-attr">style</span>={{ height: <span class="hljs-string">'400px'</span> }}
    /&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## é”™è¯¯å¤„ç†æœºåˆ¶</span>

<span class="hljs-comment">### é”™è¯¯è¾¹ç•Œ</span>

```typescript
// component/Common/ErrorBoundary.tsx
class ErrorBoundary extends React.Component&lt;Props, State&gt; {
  constructor(props: Props) {
    super(props)<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.state</span> = { hasError: <span class="hljs-literal">false</span> }<span class="hljs-comment">;</span>
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true }<span class="hljs-comment">;</span>
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by boundary:', error, errorInfo)<span class="hljs-comment">;</span>
  }

  render() {
    if (this.state.hasError) {
      return &lt;ErrorFallback /&gt;<span class="hljs-comment">;</span>
    }

    return this.props.children<span class="hljs-comment">;</span>
  }
}
```

<span class="hljs-comment">### å…¨å±€é”™è¯¯å¤„ç†</span>

```typescript
// åœ¨ request.ts ä¸­ç»Ÿä¸€å¤„ç†é”™è¯¯
instance.interceptors.response.use(
  (response) =&gt; response,
  (error) =&gt; {
    const <span class="hljs-attr">message</span> = error.response?.data?.message || error.message<span class="hljs-comment">;</span>
    
    // æ˜¾ç¤ºé”™è¯¯æç¤º
    enqueueSnackbar(message, { 
      variant: 'error',
      action: &lt;DefaultCloseAction /&gt;
    })<span class="hljs-comment">;</span>
    
    return Promise.reject(error)<span class="hljs-comment">;</span>
  }
)<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## æµ‹è¯•ç­–ç•¥</span>

<span class="hljs-comment">### å•å…ƒæµ‹è¯•</span>

```typescript
// __tests__/FileItem.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'<span class="hljs-comment">;</span>
import { FileItem } from '../FileItem'<span class="hljs-comment">;</span>

describe('FileItem', () =&gt; {
  const <span class="hljs-attr">mockFile</span> = {
    id: '1',
    name: 'test.txt',
    size: 1024,
  }<span class="hljs-comment">;</span>

  it('renders file name correctly', () =&gt; {
    render(&lt;FileItem <span class="hljs-attr">file</span>={mockFile} <span class="hljs-literal">on</span>Select={jest.fn()} /&gt;)<span class="hljs-comment">;</span>
    expect(screen.getByText('test.txt')).toBeInTheDocument()<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>

  it('calls onSelect when clicked', () =&gt; {
    const <span class="hljs-attr">onSelect</span> = jest.fn()<span class="hljs-comment">;</span>
    render(&lt;FileItem <span class="hljs-attr">file</span>={mockFile} <span class="hljs-literal">on</span>Select={<span class="hljs-literal">on</span>Select} /&gt;)<span class="hljs-comment">;</span>
    
    fireEvent.click(screen.getByText('test.txt'))<span class="hljs-comment">;</span>
    expect(onSelect).toHaveBeenCalledWith('1')<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
```

<span class="hljs-comment">## å¼€å‘æœ€ä½³å®è·µ</span>

<span class="hljs-comment">### 1. ç»„ä»¶è®¾è®¡åŸåˆ™</span>
- **å•ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **å¯å¤ç”¨æ€§**: è®¾è®¡é€šç”¨çš„ç»„ä»¶æ¥å£
- **å¯æµ‹è¯•æ€§**: ä¾¿äºç¼–å†™å•å…ƒæµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**: é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

<span class="hljs-comment">### 2. çŠ¶æ€ç®¡ç†åŸåˆ™</span>
- **æœ€å°åŒ–çŠ¶æ€**: åªå­˜å‚¨å¿…è¦çš„çŠ¶æ€
- **ä¸å¯å˜æ›´æ–°**: ä½¿ç”¨ Redux Toolkit çš„ Immer
- **å¼‚æ­¥å¤„ç†**: ä½¿ç”¨ createAsyncThunk å¤„ç†å¼‚æ­¥æ“ä½œ

<span class="hljs-comment">### 3. ä»£ç ç»„ç»‡åŸåˆ™</span>
- **æŒ‰åŠŸèƒ½åˆ†ç»„**: ç›¸å…³ç»„ä»¶æ”¾åœ¨åŒä¸€ç›®å½•
- **ç±»å‹å®šä¹‰**: ä¸ºæ‰€æœ‰ props å’ŒçŠ¶æ€å®šä¹‰ç±»å‹
- **æ–‡æ¡£æ³¨é‡Š**: ä¸ºå¤æ‚ç»„ä»¶æ·»åŠ  JSDoc æ³¨é‡Š

<span class="hljs-comment">## æ€»ç»“</span>

Cloudreve çš„å‰ç«¯æ¶æ„é‡‡ç”¨äº†ç°ä»£åŒ–çš„ React ç”Ÿæ€ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

1. **ç±»å‹å®‰å…¨**: å…¨é¢ä½¿ç”¨ TypeScript
2. **ç»„ä»¶åŒ–**: é«˜åº¦æ¨¡å—åŒ–çš„ç»„ä»¶è®¾è®¡
3. **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ Redux Toolkit è¿›è¡ŒçŠ¶æ€ç®¡ç†
4. **UI ä¸€è‡´æ€§**: åŸºäº Material-UI çš„è®¾è®¡ç³»ç»Ÿ
5. **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€è™šæ‹Ÿæ»šåŠ¨ç­‰ä¼˜åŒ–ç­–ç•¥
6. **å›½é™…åŒ–**: å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒ
7. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯è¾¹ç•Œå’Œé”™è¯¯å¤„ç†æœºåˆ¶

è¿™ä¸ªæ¶æ„ä¸ºä½ å¼€å‘ä¾§è¾¹æ å¯¹è¯åŠŸèƒ½æä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œä½ å¯ä»¥å‚è€ƒç°æœ‰çš„ç»„ä»¶è®¾è®¡æ¨¡å¼å’ŒçŠ¶æ€ç®¡ç†æ–¹å¼æ¥å®ç°æ–°åŠŸèƒ½ã€‚
</code></pre>
<h3 data-id="heading-5"><strong>03-backend-architecture.md - åç«¯æ¶æ„æŒ‡å—</strong></h3>
<ul>
<li>
<p>Go è¯­è¨€åŸºç¡€çŸ¥è¯†ï¼ˆä¸“ä¸ºå‰ç«¯å¼€å‘è€…ï¼‰</p>
</li>
<li>
<p>Gin æ¡†æ¶å’Œ Ent ORM ä½¿ç”¨</p>
</li>
<li>
<p>æœåŠ¡å±‚è®¾è®¡å’Œè®¤è¯ç³»ç»Ÿ</p>
</li>
</ul>

<pre><code class="hljs language-scss" lang="scss"># Cloudreve åç«¯æ¶æ„å­¦ä¹ æŒ‡å—

## Go è¯­è¨€åŸºç¡€çŸ¥è¯†

### ä¸ºä»€ä¹ˆé€‰æ‹© Go
- **é«˜æ€§èƒ½**: ç¼–è¯‘å‹è¯­è¨€ï¼Œæ¥è¿‘ C/C++ çš„æ€§èƒ½
- **å¹¶å‘æ”¯æŒ**: åŸç”Ÿçš„ goroutine å’Œ channel æ”¯æŒ
- **ç®€æ´è¯­æ³•**: å­¦ä¹ æ›²çº¿å¹³ç¼“ï¼Œä»£ç å¯è¯»æ€§å¼º
- **ä¸°å¯Œç”Ÿæ€**: ä¼˜ç§€çš„ Web æ¡†æ¶å’Œå·¥å…·é“¾
- **å†…å­˜å®‰å…¨**: åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé¿å…å†…å­˜æ³„æ¼

### Go è¯­è¨€æ ¸å¿ƒæ¦‚å¿µ

#### <span class="hljs-number">1</span>. åŒ… (Package) ç³»ç»Ÿ
```go
// åŒ…å£°æ˜
package main

// å¯¼å…¥å…¶ä»–åŒ…
import (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)

// å‡½æ•°å®šä¹‰
func <span class="hljs-built_in">main</span>() {
    fmt<span class="hljs-selector-class">.Println</span>("Hello, World!")
}
```

#### <span class="hljs-number">2</span>. ç»“æ„ä½“ (Struct)
```go
<span class="hljs-comment">// å®šä¹‰ç»“æ„ä½“</span>
type User struct {
    ID       int    `json:<span class="hljs-string">"id"</span>`
    Name     string `json:<span class="hljs-string">"name"</span>`
    Email    string `json:<span class="hljs-string">"email"</span>`
    Password string `json:<span class="hljs-string">"-"</span>` // ä¸åºåˆ—åŒ–åˆ° JSON
}

<span class="hljs-comment">// ç»“æ„ä½“æ–¹æ³•</span>
func (u *User) <span class="hljs-built_in">GetDisplayName</span>() string {
    return u<span class="hljs-selector-class">.Name</span>
}
```

#### <span class="hljs-number">3</span>. æ¥å£ (Interface)
```go
<span class="hljs-comment">// å®šä¹‰æ¥å£</span>
type UserService interface {
    <span class="hljs-built_in">CreateUser</span>(user *User) error
    <span class="hljs-built_in">GetUser</span>(id int) (*User, error)
    <span class="hljs-built_in">UpdateUser</span>(user *User) error
    <span class="hljs-built_in">DeleteUser</span>(id int) error
}

<span class="hljs-comment">// å®ç°æ¥å£</span>
type userServiceImpl struct {
    db *sql<span class="hljs-selector-class">.DB</span>
}

func (s *userServiceImpl) <span class="hljs-built_in">CreateUser</span>(user *User) error {
    <span class="hljs-comment">// å®ç°é€»è¾‘</span>
    return nil
}
```

#### <span class="hljs-number">4</span>. é”™è¯¯å¤„ç†
```go
func <span class="hljs-built_in">GetUser</span>(id int) (*User, error) {
    if id &lt;= <span class="hljs-number">0</span> {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("invalid user id: %d", id)
    }
    
    user, err := db.<span class="hljs-built_in">FindUser</span>(id)
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to find user: %w", err)
    }
    
    return user, nil
}

<span class="hljs-comment">// ä½¿ç”¨</span>
user, err := <span class="hljs-built_in">GetUser</span>(<span class="hljs-number">123</span>)
if err != nil {
    log<span class="hljs-selector-class">.Printf</span>("Error: %v", err)
    return
}
```

## Cloudreve åç«¯æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶å’Œåº“
- **Gin**: é«˜æ€§èƒ½çš„ HTTP Web æ¡†æ¶
- **Ent**: Facebook å¼€æºçš„ Go ORM æ¡†æ¶
- **Cobra**: å‘½ä»¤è¡Œåº”ç”¨æ¡†æ¶
- **JWT**: JSON Web Token è®¤è¯
- **Viper**: é…ç½®ç®¡ç†
- **Logrus**: ç»“æ„åŒ–æ—¥å¿—

### æ•°æ®åº“æ”¯æŒ
- **MySQL**: ä¸»è¦ç”Ÿäº§æ•°æ®åº“
- **PostgreSQL**: ä¼ä¸šçº§æ•°æ®åº“
- **SQLite**: è½»é‡çº§åµŒå…¥å¼æ•°æ®åº“

## é¡¹ç›®æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

```mermaid
graph TB
    subgraph <span class="hljs-string">"Cloudreve åç«¯åˆ†å±‚æ¶æ„"</span>
        A[HTTP å±‚] --&gt; B[è·¯ç”±å±‚ - routers/]
        B --&gt; C[æ§åˆ¶å™¨å±‚ - controllers/]
        C --&gt; D[æœåŠ¡å±‚ - service/]
        D --&gt; E[æ•°æ®è®¿é—®å±‚ - ent/]
        E --&gt; F[æ•°æ®åº“]
        
        G[ä¸­é—´ä»¶å±‚ - middleware/] --&gt; C
        H[å·¥å…·åŒ… - pkg/] --&gt; D
        I[åº”ç”¨é…ç½® - application/] --&gt; D
    end
```

### ç›®å½•ç»“æ„è¯¦è§£

```
Cloudreve/
â”œâ”€â”€ main.go                 # åº”ç”¨å…¥å£
â”œâ”€â”€ cmd/                    # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ root.go            # æ ¹å‘½ä»¤
â”‚   â”œâ”€â”€ server.go          # æœåŠ¡å™¨å‘½ä»¤
â”‚   â””â”€â”€ migrate.go         # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ routers/               # è·¯ç”±å±‚
â”‚   â”œâ”€â”€ router.go          # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ controllers/       # æ§åˆ¶å™¨
â”œâ”€â”€ service/               # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ admin/            # ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ user/             # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ explorer/         # æ–‡ä»¶ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ chat/             # èŠå¤©æœåŠ¡
â”œâ”€â”€ ent/                   # æ•°æ®æ¨¡å‹å±‚ (Ent ORM)
â”‚   â”œâ”€â”€ schema/           # æ•°æ®åº“æ¨¡å¼å®šä¹‰
â”‚   â”œâ”€â”€ migrate/          # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ *.go              # ç”Ÿæˆçš„å®ä½“ä»£ç 
â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ auth.go           # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ cors.go           # è·¨åŸŸä¸­é—´ä»¶
â”‚   â””â”€â”€ session.go        # ä¼šè¯ä¸­é—´ä»¶
â”œâ”€â”€ pkg/                   # å·¥å…·åŒ…
â”‚   â”œâ”€â”€ auth/             # è®¤è¯å·¥å…·
â”‚   â”œâ”€â”€ cache/            # ç¼“å­˜å·¥å…·
â”‚   â”œâ”€â”€ conf/             # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ util/             # é€šç”¨å·¥å…·
â”œâ”€â”€ inventory/             # åº“å­˜ç®¡ç†
â””â”€â”€ application/           # åº”ç”¨é…ç½®
```

## Gin æ¡†æ¶è¯¦è§£

### åŸºæœ¬ç”¨æ³•

```go
package main

import (
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
    <span class="hljs-string">"net/http"</span>
)

func <span class="hljs-built_in">main</span>() {
    <span class="hljs-comment">// åˆ›å»º Gin å¼•æ“</span>
    r := gin.<span class="hljs-built_in">Default</span>()
    
    // å®šä¹‰è·¯ç”±
    r.<span class="hljs-built_in">GET</span>(<span class="hljs-string">"/ping"</span>, <span class="hljs-built_in">func</span>(c *gin.Context) {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusOK, gin.H{
            "message": "pong",
        })
    })
    
    <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨</span>
    r<span class="hljs-selector-class">.Run</span>(":<span class="hljs-number">8080</span>")
}
```

### è·¯ç”±ç»„ç»‡

```go
<span class="hljs-comment">// routers/router.go</span>
func <span class="hljs-built_in">InitRouter</span>(dep dependency.Dep) *gin<span class="hljs-selector-class">.Engine</span> {
    r := gin.<span class="hljs-built_in">New</span>()
    
    // å…¨å±€ä¸­é—´ä»¶
    r.<span class="hljs-built_in">Use</span>(gin.<span class="hljs-built_in">Recovery</span>())
    r.<span class="hljs-built_in">Use</span>(middleware.<span class="hljs-built_in">CORS</span>())
    
    // API ç‰ˆæœ¬åˆ†ç»„
    v4 := r.<span class="hljs-built_in">Group</span>(<span class="hljs-string">"/api/v4"</span>)
    
    // ç”¨æˆ·ç›¸å…³è·¯ç”±
    user := v4.<span class="hljs-built_in">Group</span>(<span class="hljs-string">"/user"</span>)
    user.<span class="hljs-built_in">Use</span>(middleware.<span class="hljs-built_in">LoginRequired</span>())
    {
        user<span class="hljs-selector-class">.GET</span>("/info", controllers.GetUserInfo)
        user<span class="hljs-selector-class">.PUT</span>("/info", controllers.UpdateUserInfo)
    }
    
    <span class="hljs-comment">// æ–‡ä»¶ç›¸å…³è·¯ç”±</span>
    file := v4.<span class="hljs-built_in">Group</span>(<span class="hljs-string">"/file"</span>)
    {
        file<span class="hljs-selector-class">.GET</span>("/list", controllers.ListFiles)
        file<span class="hljs-selector-class">.POST</span>("/upload", controllers.UploadFile)
    }
    
    return r
}
```

### ä¸­é—´ä»¶ç³»ç»Ÿ

```go
<span class="hljs-comment">// middleware/auth.go</span>
func <span class="hljs-built_in">LoginRequired</span>() gin<span class="hljs-selector-class">.HandlerFunc</span> {
    return <span class="hljs-built_in">func</span>(c *gin.Context) {
        <span class="hljs-comment">// ä»è¯·æ±‚å¤´è·å– token</span>
        token := c.<span class="hljs-built_in">GetHeader</span>(<span class="hljs-string">"Authorization"</span>)
        if token == <span class="hljs-string">""</span> {
            c<span class="hljs-selector-class">.JSON</span>(http.StatusUnauthorized, gin.H{
                "error": "Missing authorization token",
            })
            c<span class="hljs-selector-class">.Abort</span>()
            return
        }
        
        <span class="hljs-comment">// éªŒè¯ token</span>
        user, err := <span class="hljs-built_in">validateToken</span>(token)
        if err != nil {
            c<span class="hljs-selector-class">.JSON</span>(http.StatusUnauthorized, gin.H{
                "error": "Invalid token",
            })
            c<span class="hljs-selector-class">.Abort</span>()
            return
        }
        
        <span class="hljs-comment">// å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°ä¸Šä¸‹æ–‡</span>
        c<span class="hljs-selector-class">.Set</span>("user", user)
        c<span class="hljs-selector-class">.Next</span>()
    }
}
```

## Ent ORM æ¡†æ¶

### æ¨¡å¼å®šä¹‰

```go
<span class="hljs-comment">// ent/schema/user.go</span>
package schema

import (
    "entgo.io/ent"
    "entgo.io/ent/schema/field"
    "entgo.io/ent/schema/edge"
)

<span class="hljs-comment">// User ç”¨æˆ·å®ä½“</span>
type User struct {
    ent<span class="hljs-selector-class">.Schema</span>
}

<span class="hljs-comment">// Fields å­—æ®µå®šä¹‰</span>
func (User) <span class="hljs-built_in">Fields</span>() <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Field</span> {
    return <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Field</span>{
        field<span class="hljs-selector-class">.String</span>("name").
            <span class="hljs-built_in">NotEmpty</span>().
            <span class="hljs-built_in">Comment</span>("ç”¨æˆ·å"),
        field<span class="hljs-selector-class">.String</span>("email").
            <span class="hljs-built_in">Unique</span>().
            <span class="hljs-built_in">Comment</span>("é‚®ç®±"),
        field<span class="hljs-selector-class">.String</span>("password").
            <span class="hljs-built_in">Sensitive</span>().
            <span class="hljs-built_in">Comment</span>("å¯†ç "),
        field<span class="hljs-selector-class">.Time</span>("created_at").
            Default(time.Now).
            <span class="hljs-built_in">Comment</span>("åˆ›å»ºæ—¶é—´"),
    }
}

<span class="hljs-comment">// Edges å…³è”å…³ç³»</span>
func (User) <span class="hljs-built_in">Edges</span>() <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Edge</span> {
    return <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Edge</span>{
        edge<span class="hljs-selector-class">.To</span>("files", File.Type).
            <span class="hljs-built_in">Comment</span>("ç”¨æˆ·æ–‡ä»¶"),
        edge<span class="hljs-selector-class">.To</span>("groups", Group.Type).
            <span class="hljs-built_in">Through</span>("user_groups", UserGroup.Type).
            <span class="hljs-built_in">Comment</span>("ç”¨æˆ·ç»„"),
    }
}
```

### æ•°æ®åº“æ“ä½œ

```go
<span class="hljs-comment">// service/user/user.go</span>
type UserService struct {
    client *ent<span class="hljs-selector-class">.Client</span>
}

func <span class="hljs-built_in">NewUserService</span>(client *ent.Client) *UserService {
    return &amp;UserService{client: client}
}

<span class="hljs-comment">// åˆ›å»ºç”¨æˆ·</span>
func (s *UserService) <span class="hljs-built_in">CreateUser</span>(ctx context.Context, req *CreateUserRequest) (*ent.User, error) {
    user, err := s.client.User.
        <span class="hljs-built_in">Create</span>().
        <span class="hljs-built_in">SetName</span>(req.Name).
        <span class="hljs-built_in">SetEmail</span>(req.Email).
        <span class="hljs-built_in">SetPassword</span>(<span class="hljs-built_in">hashPassword</span>(req.Password)).
        <span class="hljs-built_in">Save</span>(ctx)
    
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to create user: %w", err)
    }
    
    return user, nil
}

<span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·</span>
func (s *UserService) <span class="hljs-built_in">GetUser</span>(ctx context.Context, id int) (*ent.User, error) {
    user, err := s.client.User.
        <span class="hljs-built_in">Query</span>().
        <span class="hljs-built_in">Where</span>(user.<span class="hljs-built_in">ID</span>(id)).
        <span class="hljs-built_in">WithFiles</span>().  // é¢„åŠ è½½æ–‡ä»¶å…³è”
        <span class="hljs-built_in">Only</span>(ctx)
    
    if err != nil {
        if ent<span class="hljs-selector-class">.IsNotFound</span>(err) {
            return nil, fmt<span class="hljs-selector-class">.Errorf</span>("user not found")
        }
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to get user: %w", err)
    }
    
    return user, nil
}

<span class="hljs-comment">// æ›´æ–°ç”¨æˆ·</span>
func (s *UserService) <span class="hljs-built_in">UpdateUser</span>(ctx context.Context, id int, req *UpdateUserRequest) (*ent.User, error) {
    user, err := s.client.User.
        <span class="hljs-built_in">UpdateOneID</span>(id).
        <span class="hljs-built_in">SetName</span>(req.Name).
        <span class="hljs-built_in">SetEmail</span>(req.Email).
        <span class="hljs-built_in">Save</span>(ctx)
    
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to update user: %w", err)
    }
    
    return user, nil
}
```

## æ§åˆ¶å™¨å±‚è®¾è®¡

### æ§åˆ¶å™¨ç»“æ„

```go
<span class="hljs-comment">// routers/controllers/user.go</span>
package controllers

import (
    "github.com/gin-gonic/gin"
    "github.com/cloudreve/Cloudreve/v4/service/user"
)

<span class="hljs-comment">// GetUserInfo è·å–ç”¨æˆ·ä¿¡æ¯</span>
func <span class="hljs-built_in">GetUserInfo</span>(c *gin.Context) {
    <span class="hljs-comment">// ä»ä¸Šä¸‹æ–‡è·å–ç”¨æˆ·</span>
    currentUser, exists := c.<span class="hljs-built_in">Get</span>(<span class="hljs-string">"user"</span>)
    if !exists {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusUnauthorized, gin.H{
            "error": "User not found in context",
        })
        return
    }
    
    user := currentUser.(*ent.User)
    
    // è¿”å›ç”¨æˆ·ä¿¡æ¯
    c.<span class="hljs-built_in">JSON</span>(http.StatusOK, gin.H{
        "data": gin.H{
            "id":    user.ID,
            <span class="hljs-string">"name"</span>:  user.Name,
            <span class="hljs-string">"email"</span>: user.Email,
        },
    })
}

<span class="hljs-comment">// UpdateUserInfo æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span>
func <span class="hljs-built_in">UpdateUserInfo</span>(c *gin.Context) {
    <span class="hljs-selector-tag">var</span> req user<span class="hljs-selector-class">.UpdateUserRequest</span>
    
    <span class="hljs-comment">// ç»‘å®šè¯·æ±‚å‚æ•°</span>
    if err := c.<span class="hljs-built_in">ShouldBindJSON</span>(&amp;req); err != nil {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusBadRequest, gin.H{
            "error": err.Error(),
        })
        return
    }
    
    <span class="hljs-comment">// è·å–å½“å‰ç”¨æˆ·</span>
    currentUser := c.<span class="hljs-built_in">MustGet</span>(<span class="hljs-string">"user"</span>).(*ent.User)
    
    // è°ƒç”¨æœåŠ¡å±‚
    userService := user.<span class="hljs-built_in">NewUserService</span>(ent.<span class="hljs-built_in">GetClient</span>())
    updatedUser, err := userService.<span class="hljs-built_in">UpdateUser</span>(c.Request.<span class="hljs-built_in">Context</span>(), currentUser.ID, &amp;req)
    if err != nil {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusInternalServerError, gin.H{
            "error": err.Error(),
        })
        return
    }
    
    c<span class="hljs-selector-class">.JSON</span>(http.StatusOK, gin.H{
        "data": updatedUser,
    })
}
```

### å‚æ•°ç»‘å®šå’ŒéªŒè¯

```go
<span class="hljs-comment">// service/user/types.go</span>
type CreateUserRequest struct {
    Name     string `json:<span class="hljs-string">"name"</span> binding:<span class="hljs-string">"required,min=2,max=50"</span>`
    Email    string `json:<span class="hljs-string">"email"</span> binding:<span class="hljs-string">"required,email"</span>`
    Password string `json:<span class="hljs-string">"password"</span> binding:<span class="hljs-string">"required,min=6"</span>`
}

type UpdateUserRequest struct {
    Name  string `json:<span class="hljs-string">"name"</span> binding:<span class="hljs-string">"omitempty,min=2,max=50"</span>`
    Email string `json:<span class="hljs-string">"email"</span> binding:<span class="hljs-string">"omitempty,email"</span>`
}

<span class="hljs-comment">// è‡ªå®šä¹‰éªŒè¯å™¨</span>
func <span class="hljs-built_in">ValidatePassword</span>(fl validator.FieldLevel) bool {
    password := fl.<span class="hljs-built_in">Field</span>().<span class="hljs-built_in">String</span>()
    // å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—
    hasLetter := regexp.<span class="hljs-built_in">MustCompile</span>(`[a-zA-Z]`).<span class="hljs-built_in">MatchString</span>(password)
    hasNumber := regexp.<span class="hljs-built_in">MustCompile</span>(`[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]`).<span class="hljs-built_in">MatchString</span>(password)
    return hasLetter &amp;&amp; hasNumber
}
```

## æœåŠ¡å±‚è®¾è®¡æ¨¡å¼

### ä¾èµ–æ³¨å…¥

```go
<span class="hljs-comment">// application/dependency/dependency.go</span>
type Dep interface {
    <span class="hljs-built_in">Logger</span>() logging<span class="hljs-selector-class">.Logger</span>
    <span class="hljs-built_in">ConfigProvider</span>() conf<span class="hljs-selector-class">.Provider</span>
    <span class="hljs-built_in">DatabaseClient</span>() *ent<span class="hljs-selector-class">.Client</span>
    <span class="hljs-built_in">CacheProvider</span>() cache<span class="hljs-selector-class">.Driver</span>
}

type dep struct {
    logger         logging<span class="hljs-selector-class">.Logger</span>
    configProvider conf<span class="hljs-selector-class">.Provider</span>
    dbClient       *ent<span class="hljs-selector-class">.Client</span>
    cacheProvider  cache<span class="hljs-selector-class">.Driver</span>
}

func <span class="hljs-built_in">NewDep</span>() Dep {
    return &amp;dep{
        logger:         logging.<span class="hljs-built_in">NewLogger</span>(),
        configProvider: conf.<span class="hljs-built_in">NewProvider</span>(),
        dbClient:       ent.<span class="hljs-built_in">NewClient</span>(),
        cacheProvider:  cache.<span class="hljs-built_in">NewRedisDriver</span>(),
    }
}
```

### æœåŠ¡æ¥å£è®¾è®¡

```go
<span class="hljs-comment">// service/user/interface.go</span>
type Service interface {
    <span class="hljs-built_in">CreateUser</span>(ctx context.Context, req *CreateUserRequest) (*ent.User, error)
    <span class="hljs-built_in">GetUser</span>(ctx context.Context, id int) (*ent.User, error)
    <span class="hljs-built_in">UpdateUser</span>(ctx context.Context, id int, req *UpdateUserRequest) (*ent.User, error)
    <span class="hljs-built_in">DeleteUser</span>(ctx context.Context, id int) error
    <span class="hljs-built_in">ListUsers</span>(ctx context.Context, req *ListUsersRequest) ([]*ent.User, error)
}

<span class="hljs-comment">// service/user/service.go</span>
type service struct {
    dep    dependency<span class="hljs-selector-class">.Dep</span>
    client *ent<span class="hljs-selector-class">.Client</span>
    logger logging<span class="hljs-selector-class">.Logger</span>
}

func <span class="hljs-built_in">NewService</span>(dep dependency.Dep) Service {
    return &amp;service{
        dep:    dep,
        client: dep.<span class="hljs-built_in">DatabaseClient</span>(),
        logger: dep.<span class="hljs-built_in">Logger</span>(),
    }
}
```

## è®¤è¯å’Œæˆæƒç³»ç»Ÿ

### JWT è®¤è¯

```go
<span class="hljs-comment">// pkg/auth/jwt.go</span>
type JWTAuth struct {
    secretKey <span class="hljs-selector-attr">[]</span>byte
    issuer    string
}

type Claims struct {
    UserID int    `json:<span class="hljs-string">"user_id"</span>`
    Email  string `json:<span class="hljs-string">"email"</span>`
    jwt.RegisteredClaims
}

func (j *JWTAuth) <span class="hljs-built_in">GenerateToken</span>(user *ent.User) (string, error) {
    claims := &amp;Claims{
        UserID: user.ID,
        Email:  user.Email,
        RegisteredClaims: jwt.RegisteredClaims{
            ExpiresAt: jwt.<span class="hljs-built_in">NewNumericDate</span>(time.<span class="hljs-built_in">Now</span>().<span class="hljs-built_in">Add</span>(<span class="hljs-number">24</span> * time.Hour)),
            IssuedAt:  jwt.<span class="hljs-built_in">NewNumericDate</span>(time.<span class="hljs-built_in">Now</span>()),
            Issuer:    j.issuer,
        },
    }
    
    token := jwt.<span class="hljs-built_in">NewWithClaims</span>(jwt.SigningMethodHS256, claims)
    return token.<span class="hljs-built_in">SignedString</span>(j.secretKey)
}

func (j *JWTAuth) <span class="hljs-built_in">ValidateToken</span>(tokenString string) (*Claims, error) {
    token, err := jwt.<span class="hljs-built_in">ParseWithClaims</span>(tokenString, &amp;Claims{}, <span class="hljs-built_in">func</span>(token *jwt.Token) (interface{}, error) {
        return j<span class="hljs-selector-class">.secretKey</span>, nil
    })
    
    if err != nil {
        return nil, err
    }
    
    if claims, ok := token.Claims.(*Claims); ok &amp;&amp; token<span class="hljs-selector-class">.Valid</span> {
        return claims, nil
    }
    
    return nil, fmt<span class="hljs-selector-class">.Errorf</span>("invalid token")
}
```

### æƒé™æ§åˆ¶

```go
<span class="hljs-comment">// middleware/rbac.go</span>
func <span class="hljs-built_in">RequirePermission</span>(permission string) gin<span class="hljs-selector-class">.HandlerFunc</span> {
    return <span class="hljs-built_in">func</span>(c *gin.Context) {
        user := c.<span class="hljs-built_in">MustGet</span>(<span class="hljs-string">"user"</span>).(*ent.User)
        
        // æ£€æŸ¥ç”¨æˆ·æƒé™
        hasPermission, err := <span class="hljs-built_in">checkUserPermission</span>(user.ID, permission)
        if err != nil {
            c<span class="hljs-selector-class">.JSON</span>(http.StatusInternalServerError, gin.H{
                "error": "Failed to check permission",
            })
            c<span class="hljs-selector-class">.Abort</span>()
            return
        }
        
        if !hasPermission {
            c<span class="hljs-selector-class">.JSON</span>(http.StatusForbidden, gin.H{
                "error": "Insufficient permissions",
            })
            c<span class="hljs-selector-class">.Abort</span>()
            return
        }
        
        c<span class="hljs-selector-class">.Next</span>()
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ–¹å¼</span>
admin := v4.<span class="hljs-built_in">Group</span>(<span class="hljs-string">"/admin"</span>)
admin.<span class="hljs-built_in">Use</span>(middleware.<span class="hljs-built_in">LoginRequired</span>())
admin.<span class="hljs-built_in">Use</span>(middleware.<span class="hljs-built_in">RequirePermission</span>(<span class="hljs-string">"admin:read"</span>))
{
    admin<span class="hljs-selector-class">.GET</span>("/users", controllers.ListUsers)
}
```

## æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ

### å­˜å‚¨æ¥å£è®¾è®¡

```go
<span class="hljs-comment">// pkg/filesystem/driver.go</span>
type Driver interface {
    <span class="hljs-comment">// ä¸Šä¼ æ–‡ä»¶</span>
    <span class="hljs-built_in">Put</span>(ctx context.Context, path string, file io.Reader) error
    
    <span class="hljs-comment">// è·å–æ–‡ä»¶</span>
    <span class="hljs-built_in">Get</span>(ctx context.Context, path string) (io.ReadCloser, error)
    
    <span class="hljs-comment">// åˆ é™¤æ–‡ä»¶</span>
    <span class="hljs-built_in">Delete</span>(ctx context.Context, path string) error
    
    <span class="hljs-comment">// è·å–æ–‡ä»¶ä¿¡æ¯</span>
    <span class="hljs-built_in">Stat</span>(ctx context.Context, path string) (*FileInfo, error)
    
    <span class="hljs-comment">// åˆ—å‡ºæ–‡ä»¶</span>
    <span class="hljs-built_in">List</span>(ctx context.Context, path string) ([]*FileInfo, error)
}

type FileInfo struct {
    Name    string
    Size    int64
    ModTime <span class="hljs-selector-tag">time</span><span class="hljs-selector-class">.Time</span>
    IsDir   bool
}
```

### æœ¬åœ°å­˜å‚¨å®ç°

```go
<span class="hljs-comment">// pkg/filesystem/local.go</span>
type LocalDriver struct {
    rootPath string
}

func <span class="hljs-built_in">NewLocalDriver</span>(rootPath string) Driver {
    return &amp;LocalDriver{rootPath: rootPath}
}

func (d *LocalDriver) <span class="hljs-built_in">Put</span>(ctx context.Context, path string, file io.Reader) error {
    fullPath := filepath.<span class="hljs-built_in">Join</span>(d.rootPath, path)
    
    // ç¡®ä¿ç›®å½•å­˜åœ¨
    if err := os.<span class="hljs-built_in">MkdirAll</span>(filepath.<span class="hljs-built_in">Dir</span>(fullPath), <span class="hljs-number">0755</span>); err != nil {
        return fmt<span class="hljs-selector-class">.Errorf</span>("failed to create directory: %w", err)
    }
    
    <span class="hljs-comment">// åˆ›å»ºæ–‡ä»¶</span>
    dst, err := os.<span class="hljs-built_in">Create</span>(fullPath)
    if err != nil {
        return fmt<span class="hljs-selector-class">.Errorf</span>("failed to create file: %w", err)
    }
    defer dst<span class="hljs-selector-class">.Close</span>()
    
    <span class="hljs-comment">// å¤åˆ¶æ–‡ä»¶å†…å®¹</span>
    _, err = io<span class="hljs-selector-class">.Copy</span>(dst, file)
    if err != nil {
        return fmt<span class="hljs-selector-class">.Errorf</span>("failed to write file: %w", err)
    }
    
    return nil
}

func (d *LocalDriver) <span class="hljs-built_in">Get</span>(ctx context.Context, path string) (io.ReadCloser, error) {
    fullPath := filepath.<span class="hljs-built_in">Join</span>(d.rootPath, path)
    
    file, err := os.<span class="hljs-built_in">Open</span>(fullPath)
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to open file: %w", err)
    }
    
    return file, nil
}
```

## èŠå¤©æœåŠ¡å®ç°

### OpenRouter å®¢æˆ·ç«¯

```go
<span class="hljs-comment">// pkg/openrouter/client.go</span>
type Client struct {
    apiKey     string
    baseURL    string
    httpClient *http<span class="hljs-selector-class">.Client</span>
    logger     logging<span class="hljs-selector-class">.Logger</span>
}

type ChatRequest struct {
    Model       string    `json:<span class="hljs-string">"model"</span>`
    Messages    []Message `json:<span class="hljs-string">"messages"</span>`
    Stream      bool      `json:<span class="hljs-string">"stream"</span>`
    Temperature float64   `json:<span class="hljs-string">"temperature"</span>`
    MaxTokens   int       `json:<span class="hljs-string">"max_tokens"</span>`
}

type Message struct {
    Role    string `json:<span class="hljs-string">"role"</span>`
    Content string `json:<span class="hljs-string">"content"</span>`
}

func (c *Client) <span class="hljs-built_in">Chat</span>(ctx context.Context, req ChatRequest) (*ChatResponse, error) {
    reqBody, err := json.<span class="hljs-built_in">Marshal</span>(req)
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to marshal request: %w", err)
    }
    
    httpReq, err := http.<span class="hljs-built_in">NewRequestWithContext</span>(ctx, <span class="hljs-string">"POST"</span>, c.baseURL+<span class="hljs-string">"/chat/completions"</span>, bytes.<span class="hljs-built_in">NewReader</span>(reqBody))
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to create request: %w", err)
    }
    
    httpReq<span class="hljs-selector-class">.Header</span><span class="hljs-selector-class">.Set</span>("Authorization", "Bearer "+c.apiKey)
    httpReq<span class="hljs-selector-class">.Header</span><span class="hljs-selector-class">.Set</span>("Content-Type", "application/json")
    
    resp, err := c.httpClient.<span class="hljs-built_in">Do</span>(httpReq)
    if err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to send request: %w", err)
    }
    defer resp<span class="hljs-selector-class">.Body</span><span class="hljs-selector-class">.Close</span>()
    
    <span class="hljs-selector-tag">var</span> chatResp ChatResponse
    if err := json.<span class="hljs-built_in">NewDecoder</span>(resp.Body).<span class="hljs-built_in">Decode</span>(&amp;chatResp); err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to decode response: %w", err)
    }
    
    return &amp;chatResp, nil
}
```

### æµå¼å“åº”å¤„ç†

```go
<span class="hljs-comment">// service/chat/chat.go</span>
type StreamCallback <span class="hljs-built_in">func</span>(content string, done bool) error

func (s *ChatService) <span class="hljs-built_in">StreamChat</span>(ctx context.Context, user *ent.User, message string, callback StreamCallback) error {
    req := openrouter.ChatRequest{
        Model: <span class="hljs-string">"google/gemini-2.5-pro"</span>,
        Messages: []openrouter.Message{
            {
                Role:    <span class="hljs-string">"system"</span>,
                Content: <span class="hljs-string">"ä½ æ˜¯ Cloudreve äº‘ç›˜çš„ AI åŠ©æ‰‹"</span>,
            },
            {
                Role:    <span class="hljs-string">"user"</span>,
                Content: message,
            },
        },
        Stream:      true,
        Temperature: <span class="hljs-number">0.7</span>,
        MaxTokens:   <span class="hljs-number">2000</span>,
    }
    
    return s<span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.ChatStream</span>(ctx, req, callback)
}

<span class="hljs-comment">// åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨</span>
func <span class="hljs-built_in">ChatStream</span>(c *gin.Context) {
    <span class="hljs-comment">// è®¾ç½® SSE å“åº”å¤´</span>
    c<span class="hljs-selector-class">.Header</span>("Content-Type", "text/event-stream")
    c<span class="hljs-selector-class">.Header</span>("Cache-Control", "no-cache")
    c<span class="hljs-selector-class">.Header</span>("Connection", "keep-alive")
    
    <span class="hljs-comment">// è·å–å‚æ•°</span>
    service := ParametersFromContext[*chatsvc.Service](c, ChatParameterCtx)
    user := c.<span class="hljs-built_in">MustGet</span>(<span class="hljs-string">"user"</span>).(*ent.User)
    
    // åˆ›å»ºèŠå¤©æœåŠ¡
    chatService := chatsvc.<span class="hljs-built_in">NewChatService</span>(dep)
    
    // æµå¼å›è°ƒ
    callback := <span class="hljs-built_in">func</span>(content string, done bool) error {
        data := map[string]interface{}{
            "choices": []map[string]interface{}{
                {
                    "delta": map[string]interface{}{
                        "<span class="hljs-attribute">content</span>": content,
                    },
                    "finish_reason": nil,
                },
            },
        }
        
        if done {
            data<span class="hljs-selector-attr">[<span class="hljs-string">"choices"</span>]</span>.([]map[string]interface{})<span class="hljs-selector-attr">[0]</span><span class="hljs-selector-attr">[<span class="hljs-string">"finish_reason"</span>]</span> = "stop"
        }
        
        jsonData, _ := json.<span class="hljs-built_in">Marshal</span>(data)
        fmt.<span class="hljs-built_in">Fprintf</span>(c.Writer, <span class="hljs-string">"data: %s\n\n"</span>, jsonData)
        c.Writer.<span class="hljs-built_in">Flush</span>()
        
        return nil
    }
    
    <span class="hljs-comment">// æ‰§è¡Œæµå¼èŠå¤©</span>
    err := chatService.<span class="hljs-built_in">StreamChat</span>(c.Request.<span class="hljs-built_in">Context</span>(), user, service.Message, callback)
    if err != nil {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusInternalServerError, gin.H{"error": err.Error()})
        return
    }
}
```

## é”™è¯¯å¤„ç†å’Œæ—¥å¿—

### ç»Ÿä¸€é”™è¯¯å¤„ç†

```go
<span class="hljs-comment">// pkg/errors/errors.go</span>
type AppError struct {
    <span class="hljs-selector-tag">Code</span>    int    `json:<span class="hljs-string">"code"</span>`
    Message string `json:<span class="hljs-string">"message"</span>`
    Details string `json:<span class="hljs-string">"details,omitempty"</span>`
}

func (e *AppError) <span class="hljs-built_in">Error</span>() string {
    return e<span class="hljs-selector-class">.Message</span>
}

func <span class="hljs-built_in">NewAppError</span>(code int, message string) *AppError {
    return &amp;AppError{
        <span class="hljs-selector-tag">Code</span>:    code,
        Message: message,
    }
}

<span class="hljs-comment">// é¢„å®šä¹‰é”™è¯¯</span>
<span class="hljs-selector-tag">var</span> (
    ErrUserNotFound     = NewAppError(<span class="hljs-number">404</span>, "User not found")
    ErrInvalidPassword  = <span class="hljs-built_in">NewAppError</span>(<span class="hljs-number">400</span>, "Invalid password")
    ErrUnauthorized     = <span class="hljs-built_in">NewAppError</span>(<span class="hljs-number">401</span>, "Unauthorized")
    ErrForbidden        = <span class="hljs-built_in">NewAppError</span>(<span class="hljs-number">403</span>, "Forbidden")
)
```

### ç»“æ„åŒ–æ—¥å¿—

```go
<span class="hljs-comment">// pkg/logging/logger.go</span>
type Logger interface {
    <span class="hljs-built_in">Debug</span>(msg string, fields ...Field)
    <span class="hljs-built_in">Info</span>(msg string, fields ...Field)
    <span class="hljs-built_in">Warn</span>(msg string, fields ...Field)
    <span class="hljs-built_in">Error</span>(msg string, fields ...Field)
    <span class="hljs-built_in">Fatal</span>(msg string, fields ...Field)
}

type Field struct {
    Key   string
    Value interface{}
}

func <span class="hljs-built_in">String</span>(key, value string) Field {
    return Field{Key: key, Value: value}
}

func <span class="hljs-built_in">Int</span>(key string, value int) Field {
    return Field{Key: key, Value: value}
}

<span class="hljs-comment">// ä½¿ç”¨æ–¹å¼</span>
logger<span class="hljs-selector-class">.Info</span>("User created successfully",
    String("user_id", user.ID),
    <span class="hljs-built_in">String</span>("email", user.Email),
    <span class="hljs-built_in">String</span>("ip", c.ClientIP()),
)
```

## é…ç½®ç®¡ç†

### é…ç½®ç»“æ„

```go
<span class="hljs-comment">// pkg/conf/conf.go</span>
type Config struct {
    System   SystemConfig   `mapstructure:<span class="hljs-string">"system"</span>`
    Database DatabaseConfig `mapstructure:<span class="hljs-string">"database"</span>`
    Redis    RedisConfig    `mapstructure:<span class="hljs-string">"redis"</span>`
    Storage  StorageConfig  `mapstructure:<span class="hljs-string">"storage"</span>`
}

type SystemConfig struct {
    Mode        string `mapstructure:<span class="hljs-string">"mode"</span>`
    Port        int    `mapstructure:<span class="hljs-string">"port"</span>`
    Debug       bool   `mapstructure:<span class="hljs-string">"debug"</span>`
    SessionName string `mapstructure:<span class="hljs-string">"session_name"</span>`
}

type DatabaseConfig struct {
    Type     string `mapstructure:<span class="hljs-string">"type"</span>`
    Host     string `mapstructure:<span class="hljs-string">"host"</span>`
    Port     int    `mapstructure:<span class="hljs-string">"port"</span>`
    User     string `mapstructure:<span class="hljs-string">"user"</span>`
    Password string `mapstructure:<span class="hljs-string">"password"</span>`
    Name     string `mapstructure:<span class="hljs-string">"name"</span>`
}

<span class="hljs-comment">// åŠ è½½é…ç½®</span>
func <span class="hljs-built_in">LoadConfig</span>(path string) (*Config, error) {
    viper<span class="hljs-selector-class">.SetConfigFile</span>(path)
    viper<span class="hljs-selector-class">.SetConfigType</span>("yaml")
    
    if err := viper.<span class="hljs-built_in">ReadInConfig</span>(); err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to read config: %w", err)
    }
    
    <span class="hljs-selector-tag">var</span> config Config
    if err := viper.<span class="hljs-built_in">Unmarshal</span>(&amp;config); err != nil {
        return nil, fmt<span class="hljs-selector-class">.Errorf</span>("failed to unmarshal config: %w", err)
    }
    
    return &amp;config, nil
}
```

## æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

```go
<span class="hljs-comment">// service/user/user_test.go</span>
func <span class="hljs-built_in">TestUserService_CreateUser</span>(t *testing.T) {
    <span class="hljs-comment">// è®¾ç½®æµ‹è¯•æ•°æ®åº“</span>
    client := enttest.<span class="hljs-built_in">Open</span>(t, <span class="hljs-string">"sqlite3"</span>, <span class="hljs-string">"file:ent?mode=memory&amp;cache=shared&amp;_fk=1"</span>)
    defer client.<span class="hljs-built_in">Close</span>()
    
    // åˆ›å»ºæœåŠ¡
    service := <span class="hljs-built_in">NewUserService</span>(client)
    
    // æµ‹è¯•æ•°æ®
    req := &amp;CreateUserRequest{
        Name:     <span class="hljs-string">"Test User"</span>,
        Email:    <span class="hljs-string">"test@example.com"</span>,
        Password: <span class="hljs-string">"password123"</span>,
    }
    
    <span class="hljs-comment">// æ‰§è¡Œæµ‹è¯•</span>
    user, err := service.<span class="hljs-built_in">CreateUser</span>(context.<span class="hljs-built_in">Background</span>(), req)
    
    // æ–­è¨€
    assert.<span class="hljs-built_in">NoError</span>(t, err)
    assert.<span class="hljs-built_in">NotNil</span>(t, user)
    assert.<span class="hljs-built_in">Equal</span>(t, req.Name, user.Name)
    assert.<span class="hljs-built_in">Equal</span>(t, req.Email, user.Email)
}
```

### é›†æˆæµ‹è¯•

```go
<span class="hljs-comment">// test/integration/api_test.go</span>
func <span class="hljs-built_in">TestUserAPI</span>(t *testing.T) {
    <span class="hljs-comment">// è®¾ç½®æµ‹è¯•æœåŠ¡å™¨</span>
    router := <span class="hljs-built_in">setupTestRouter</span>()
    
    // åˆ›å»ºç”¨æˆ·
    createReq := `{"name":<span class="hljs-string">"Test User"</span>,<span class="hljs-string">"email"</span>:<span class="hljs-string">"test@example.com"</span>,<span class="hljs-string">"password"</span>:<span class="hljs-string">"password123"</span>}`
    w := httptest.<span class="hljs-built_in">NewRecorder</span>()
    req, _ := http.<span class="hljs-built_in">NewRequest</span>(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"/api/v4/user"</span>, strings.<span class="hljs-built_in">NewReader</span>(createReq))
    req.Header.<span class="hljs-built_in">Set</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>)
    
    router.<span class="hljs-built_in">ServeHTTP</span>(w, req)
    
    assert.<span class="hljs-built_in">Equal</span>(t, http.StatusCreated, w.Code)
    
    var response map[string]interface{}
    json<span class="hljs-selector-class">.Unmarshal</span>(w.Body.Bytes(), &amp;response)
    
    assert<span class="hljs-selector-class">.Equal</span>(t, "Test User", response["data"].(map[string]interface{})<span class="hljs-selector-attr">[<span class="hljs-string">"name"</span>]</span>)
}
```

## æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–

```go
<span class="hljs-comment">// ä½¿ç”¨ç´¢å¼•</span>
func (User) <span class="hljs-built_in">Indexes</span>() <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Index</span> {
    return <span class="hljs-selector-attr">[]</span>ent<span class="hljs-selector-class">.Index</span>{
        index<span class="hljs-selector-class">.Fields</span>("email")<span class="hljs-selector-class">.Unique</span>(),
        index<span class="hljs-selector-class">.Fields</span>("name", "created_at"),
    }
}

<span class="hljs-comment">// æ‰¹é‡æ“ä½œ</span>
func (s *UserService) <span class="hljs-built_in">CreateUsers</span>(ctx context.Context, users []*CreateUserRequest) ([]*ent.User, error) {
    bulk := <span class="hljs-built_in">make</span>([]*ent.UserCreate, <span class="hljs-built_in">len</span>(users))
    for i, req := range users {
        bulk<span class="hljs-selector-attr">[i]</span> = s<span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.User</span><span class="hljs-selector-class">.Create</span>().
            <span class="hljs-built_in">SetName</span>(req.Name).
            <span class="hljs-built_in">SetEmail</span>(req.Email).
            <span class="hljs-built_in">SetPassword</span>(hashPassword(req.Password))
    }
    
    return s<span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.User</span><span class="hljs-selector-class">.CreateBulk</span>(bulk...)<span class="hljs-selector-class">.Save</span>(ctx)
}

<span class="hljs-comment">// é¢„åŠ è½½å…³è”</span>
func (s *UserService) <span class="hljs-built_in">GetUserWithFiles</span>(ctx context.Context, id int) (*ent.User, error) {
    return s<span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.User</span>.
        <span class="hljs-built_in">Query</span>().
        <span class="hljs-built_in">Where</span>(user.ID(id)).
        <span class="hljs-built_in">WithFiles</span>(func(q *ent.FileQuery) {
            <span class="hljs-selector-tag">q</span><span class="hljs-selector-class">.Order</span>(ent.Desc(file.FieldCreatedAt)).
              <span class="hljs-built_in">Limit</span>(<span class="hljs-number">10</span>)
        }).
        <span class="hljs-built_in">Only</span>(ctx)
}
```

### ç¼“å­˜ç­–ç•¥

```go
<span class="hljs-comment">// pkg/cache/cache.go</span>
type Cache interface {
    <span class="hljs-built_in">Get</span>(ctx context.Context, key string) (string, error)
    <span class="hljs-built_in">Set</span>(ctx context.Context, key string, value string, ttl time.Duration) error
    <span class="hljs-built_in">Delete</span>(ctx context.Context, key string) error
}

<span class="hljs-comment">// åœ¨æœåŠ¡ä¸­ä½¿ç”¨ç¼“å­˜</span>
func (s *UserService) <span class="hljs-built_in">GetUser</span>(ctx context.Context, id int) (*ent.User, error) {
    cacheKey := fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"user:%d"</span>, id)
    
    // å°è¯•ä»ç¼“å­˜è·å–
    cached, err := s.cache.<span class="hljs-built_in">Get</span>(ctx, cacheKey)
    if err == nil {
        <span class="hljs-selector-tag">var</span> user ent<span class="hljs-selector-class">.User</span>
        if json<span class="hljs-selector-class">.Unmarshal</span>([]byte(cached), &amp;user) == nil {
            return &amp;user, nil
        }
    }
    
    <span class="hljs-comment">// ä»æ•°æ®åº“è·å–</span>
    user, err := s.client.User.<span class="hljs-built_in">Get</span>(ctx, id)
    if err != nil {
        return nil, err
    }
    
    <span class="hljs-comment">// å­˜å…¥ç¼“å­˜</span>
    if data, err := json.<span class="hljs-built_in">Marshal</span>(user); err == nil {
        s<span class="hljs-selector-class">.cache</span><span class="hljs-selector-class">.Set</span>(ctx, cacheKey, string(data), <span class="hljs-selector-tag">time</span><span class="hljs-selector-class">.Hour</span>)
    }
    
    return user, nil
}
```

## éƒ¨ç½²å’Œè¿ç»´

### Docker åŒ–

```dockerfile
# Dockerfile
FROM golang:<span class="hljs-number">1.23</span>-alpine AS builder

WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download

COPY . .
RUN CGO_ENABLED=<span class="hljs-number">0</span> GOOS=linux go build -o cloudreve .

FROM alpine:latest
RUN apk --no-cache add ca-certificates
WORKDIR /root/

COPY --from=builder /app/cloudreve .
COPY --from=builder /app/conf.ini .

EXPOSE <span class="hljs-number">5212</span>
CMD [<span class="hljs-string">"./cloudreve"</span>]
```

### å¥åº·æ£€æŸ¥

```go
// routers/controllers/health.go
func <span class="hljs-built_in">HealthCheck</span>(c *gin.Context) {
    <span class="hljs-comment">// æ£€æŸ¥æ•°æ®åº“è¿æ¥</span>
    if err := <span class="hljs-built_in">checkDatabase</span>(); err != nil {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusServiceUnavailable, gin.H{
            "status": "unhealthy",
            "error":  err.Error(),
        })
        return
    }
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜è¿æ¥</span>
    if err := <span class="hljs-built_in">checkCache</span>(); err != nil {
        c<span class="hljs-selector-class">.JSON</span>(http.StatusServiceUnavailable, gin.H{
            "status": "unhealthy",
            "error":  err.Error(),
        })
        return
    }
    
    c<span class="hljs-selector-class">.JSON</span>(http.StatusOK, gin.H{
        "status": "healthy",
        "timestamp": time.Now()<span class="hljs-selector-class">.Unix</span>(),
    })
}
```

## æ€»ç»“

Cloudreve çš„åç«¯æ¶æ„å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

<span class="hljs-number">1</span>. **æ¸…æ™°çš„åˆ†å±‚è®¾è®¡**: è·¯ç”±ã€æ§åˆ¶å™¨ã€æœåŠ¡ã€æ•°æ®è®¿é—®å±‚èŒè´£åˆ†æ˜
<span class="hljs-number">2</span>. **ç°ä»£åŒ–çš„ ORM**: ä½¿ç”¨ Ent æä¾›ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œ
<span class="hljs-number">3</span>. **å®Œå–„çš„ä¸­é—´ä»¶ç³»ç»Ÿ**: è®¤è¯ã€æˆæƒã€æ—¥å¿—ã€é”™è¯¯å¤„ç†ç­‰
<span class="hljs-number">4</span>. **çµæ´»çš„å­˜å‚¨ç³»ç»Ÿ**: æ”¯æŒå¤šç§å­˜å‚¨åç«¯
<span class="hljs-number">5</span>. **å¼ºå¤§çš„èŠå¤©åŠŸèƒ½**: é›†æˆ OpenRouter API æ”¯æŒ AI å¯¹è¯
<span class="hljs-number">6</span>. **è‰¯å¥½çš„æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
<span class="hljs-number">7</span>. **æ€§èƒ½ä¼˜åŒ–**: ç¼“å­˜ã€æ•°æ®åº“ä¼˜åŒ–ã€å¹¶å‘å¤„ç†

è¿™ä¸ªæ¶æ„ä¸ºä½ å¼€å‘ä¾§è¾¹æ å¯¹è¯åŠŸèƒ½æä¾›äº†åšå®çš„åŸºç¡€ï¼Œä½ å¯ä»¥å‚è€ƒç°æœ‰çš„èŠå¤©æœåŠ¡å®ç°æ¥æ‰©å±•æ–°åŠŸèƒ½ã€‚
</code></pre>
<h3 data-id="heading-6"><strong>04-api-communication.md - API é€šä¿¡æœºåˆ¶</strong></h3>
<ul>
<li>RESTful API è®¾è®¡è§„èŒƒ</li>
<li>JWT è®¤è¯æµç¨‹å’Œ SSE æµå¼ä¼ è¾“</li>
<li>é”™è¯¯å¤„ç†å’Œç¼“å­˜ç­–ç•¥</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino"># Cloudreve å‰åç«¯é€šä¿¡æœºåˆ¶è¯¦è§£

## API è®¾è®¡æ¦‚è§ˆ

Cloudreve é‡‡ç”¨ RESTful API è®¾è®¡ï¼Œå‰åç«¯é€šè¿‡ HTTP/HTTPS åè®®è¿›è¡Œé€šä¿¡ã€‚API éµå¾ªç»Ÿä¸€çš„è®¾è®¡è§„èŒƒï¼Œæä¾›æ¸…æ™°çš„æ¥å£å®šä¹‰å’Œé”™è¯¯å¤„ç†æœºåˆ¶ã€‚

### API ç‰ˆæœ¬ç®¡ç†

```
åŸºç¡€è·¯å¾„: /api/v4
å½“å‰ç‰ˆæœ¬: v4
```

æ‰€æœ‰ API è¯·æ±‚éƒ½ä½¿ç”¨ `/api/v4` ä½œä¸ºåŸºç¡€è·¯å¾„ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†å’Œå‘åå…¼å®¹ã€‚

## è¯·æ±‚å“åº”æ ¼å¼

### ç»Ÿä¸€å“åº”æ ¼å¼

```typescript
interface Response&lt;T&gt; {
  data: T;           <span class="hljs-comment">// å“åº”æ•°æ®</span>
  code: number;      <span class="hljs-comment">// çŠ¶æ€ç </span>
  msg: string;       <span class="hljs-comment">// æ¶ˆæ¯</span>
  error?: string;    <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span>
  correlation_id?: string; <span class="hljs-comment">// è¯·æ±‚è¿½è¸ªID</span>
}
```

### æˆåŠŸå“åº”ç¤ºä¾‹

```json
{
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"ç”¨æˆ·å"</span>,
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"user@example.com"</span>
  },
  <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">"success"</span>
}
```

### é”™è¯¯å“åº”ç¤ºä¾‹

```json
{
  <span class="hljs-string">"data"</span>: null,
  <span class="hljs-string">"code"</span>: <span class="hljs-number">400</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">"å‚æ•°éªŒè¯å¤±è´¥"</span>,
  <span class="hljs-string">"error"</span>: <span class="hljs-string">"email field is required"</span>,
  <span class="hljs-string">"correlation_id"</span>: <span class="hljs-string">"req-123456789"</span>
}
```

## è®¤è¯æœºåˆ¶

### JWT Token è®¤è¯

```mermaid
sequenceDiagram
    participant C as å®¢æˆ·ç«¯
    participant S as æœåŠ¡å™¨
    participant DB as æ•°æ®åº“

    C-&gt;&gt;S: POST /api/v4/session/<span class="hljs-built_in">token</span> (ç”¨æˆ·å/å¯†ç )
    S-&gt;&gt;DB: éªŒè¯ç”¨æˆ·å‡­æ®
    DB--&gt;&gt;S: è¿”å›ç”¨æˆ·ä¿¡æ¯
    S--&gt;&gt;C: è¿”å› JWT Token
    
    Note over C: å­˜å‚¨ Token åˆ° localStorage
    
    C-&gt;&gt;S: GET /api/v4/user/<span class="hljs-built_in">info</span> (Authorization: Bearer &lt;token&gt;)
    S-&gt;&gt;S: éªŒè¯ Token
    S--&gt;&gt;C: è¿”å›ç”¨æˆ·ä¿¡æ¯
```

### Token ç®¡ç†

#### <span class="hljs-number">1.</span> è·å– Token

```typescript
<span class="hljs-comment">// å‰ç«¯ç™»å½•è¯·æ±‚</span>
<span class="hljs-type">const</span> loginRequest = {
  email: <span class="hljs-string">"user@example.com"</span>,
  password: <span class="hljs-string">"password123"</span>
};

<span class="hljs-type">const</span> response = await axios.<span class="hljs-built_in">post</span>(<span class="hljs-string">'/api/v4/session/token'</span>, loginRequest);
<span class="hljs-type">const</span> { access_token, refresh_token } = response.data;

<span class="hljs-comment">// å­˜å‚¨ Token</span>
SessionManager.<span class="hljs-built_in">setTokens</span>(access_token, refresh_token);
```

#### <span class="hljs-number">2.</span> è¯·æ±‚æ‹¦æˆªå™¨

```typescript
<span class="hljs-comment">// api/request.ts</span>
instance.interceptors.request.<span class="hljs-built_in">use</span>(<span class="hljs-built_in">async</span> (config) =&gt; {
  <span class="hljs-type">const</span> token = await SessionManager.<span class="hljs-built_in">getAccessToken</span>();
  <span class="hljs-keyword">if</span> (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  <span class="hljs-keyword">return</span> config;
});
```

#### <span class="hljs-number">3.</span> Token åˆ·æ–°æœºåˆ¶

```typescript
instance.interceptors.response.<span class="hljs-built_in">use</span>(
  (response) =&gt; response,
  <span class="hljs-built_in">async</span> (error) =&gt; {
    <span class="hljs-keyword">if</span> (error.response?.status === <span class="hljs-number">401</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å°è¯•åˆ·æ–° Token</span>
        await SessionManager.<span class="hljs-built_in">refreshToken</span>();
        <span class="hljs-comment">// é‡è¯•åŸè¯·æ±‚</span>
        <span class="hljs-keyword">return</span> instance.<span class="hljs-built_in">request</span>(error.config);
      } <span class="hljs-built_in">catch</span> (refreshError) {
        <span class="hljs-comment">// åˆ·æ–°å¤±è´¥ï¼Œè·³è½¬ç™»å½•é¡µ</span>
        router.<span class="hljs-built_in">push</span>(<span class="hljs-string">'/session'</span>);
      }
    }
    <span class="hljs-keyword">return</span> Promise.<span class="hljs-built_in">reject</span>(error);
  }
);
```

## æ ¸å¿ƒ API æ¥å£

### <span class="hljs-number">1.</span> ç”¨æˆ·è®¤è¯ API

#### ç™»å½•
```http
POST /api/v4/session/token
Content-Type: application/json

{
  <span class="hljs-string">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
  <span class="hljs-string">"password"</span>: <span class="hljs-string">"password123"</span>
}
```

å“åº”ï¼š
```json
{
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"access_token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiIs..."</span>,
    <span class="hljs-string">"refresh_token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiIs..."</span>,
    <span class="hljs-string">"expires_in"</span>: <span class="hljs-number">3600</span>,
    <span class="hljs-string">"user"</span>: {
      <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"ç”¨æˆ·å"</span>,
      <span class="hljs-string">"email"</span>: <span class="hljs-string">"user@example.com"</span>
    }
  },
  <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>
}
```

#### åˆ·æ–° Token
```http
POST /api/v4/session/refresh
Content-Type: application/json

{
  <span class="hljs-string">"refresh_token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiIs..."</span>
}
```

#### ç™»å‡º
```http
DELETE /api/v4/session/token
Authorization: Bearer &lt;access_token&gt;
```

### <span class="hljs-number">2.</span> æ–‡ä»¶ç®¡ç† API

#### è·å–æ–‡ä»¶åˆ—è¡¨
```http
GET /api/v4/file/list?path=/documents&amp;sort=name&amp;order=asc
Authorization: Bearer &lt;access_token&gt;
```

å“åº”ï¼š
```json
{
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"files"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-string">"file_123"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"document.pdf"</span>,
        <span class="hljs-string">"size"</span>: <span class="hljs-number">1024000</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"file"</span>,
        <span class="hljs-string">"created_at"</span>: <span class="hljs-string">"2023-01-01T00:00:00Z"</span>,
        <span class="hljs-string">"path"</span>: <span class="hljs-string">"cloudreve://my/documents/document.pdf"</span>
      }
    ],
    <span class="hljs-string">"total"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"path"</span>: <span class="hljs-string">"/documents"</span>
  },
  <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">"success"</span>
}
```

#### æ–‡ä»¶ä¸Šä¼ 
```http
POST /api/v4/file/upload
Authorization: Bearer &lt;access_token&gt;
Content-Type: multipart/form-data

file: &lt;binary_data&gt;
path: /documents
```

#### æ–‡ä»¶ä¸‹è½½
```http
GET /api/v4/file/download/&lt;file_id&gt;
Authorization: Bearer &lt;access_token&gt;
```

### <span class="hljs-number">3.</span> èŠå¤© API

#### æ™®é€šèŠå¤©
```http
POST /api/v4/chat
Authorization: Bearer &lt;access_token&gt;
Content-Type: application/json

{
  <span class="hljs-string">"message"</span>: <span class="hljs-string">"è¯·å¸®æˆ‘æ€»ç»“ä¸€ä¸‹æ–‡æ¡£å†…å®¹"</span>
}
```

å“åº”ï¼š
```json
{
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"response"</span>: <span class="hljs-string">"æ ¹æ®æ‚¨çš„æ–‡æ¡£å†…å®¹ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹é¢..."</span>,
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"google/gemini-2.5-pro"</span>,
    <span class="hljs-string">"usage"</span>: {
      <span class="hljs-string">"prompt_tokens"</span>: <span class="hljs-number">100</span>,
      <span class="hljs-string">"completion_tokens"</span>: <span class="hljs-number">200</span>,
      <span class="hljs-string">"total_tokens"</span>: <span class="hljs-number">300</span>
    }
  },
  <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">"success"</span>
}
```

#### æµå¼èŠå¤©
```http
POST /api/v4/chat/stream
Authorization: Bearer &lt;access_token&gt;
Content-Type: application/json

{
  <span class="hljs-string">"message"</span>: <span class="hljs-string">"è¯·å¸®æˆ‘åˆ†æè¿™äº›æ–‡ä»¶"</span>
}
```

å“åº”ï¼ˆSSE æ ¼å¼ï¼‰ï¼š
```
Content-Type: text/event-stream
Cache-Control: no-cache
Connection: keep-alive

data: {<span class="hljs-string">"choices"</span>:[{<span class="hljs-string">"delta"</span>:{<span class="hljs-string">"content"</span>:<span class="hljs-string">"æ ¹æ®"</span>},<span class="hljs-string">"finish_reason"</span>:null}]}

data: {<span class="hljs-string">"choices"</span>:[{<span class="hljs-string">"delta"</span>:{<span class="hljs-string">"content"</span>:<span class="hljs-string">"æ‚¨çš„"</span>},<span class="hljs-string">"finish_reason"</span>:null}]}

data: {<span class="hljs-string">"choices"</span>:[{<span class="hljs-string">"delta"</span>:{<span class="hljs-string">"content"</span>:<span class="hljs-string">"æ–‡ä»¶"</span>},<span class="hljs-string">"finish_reason"</span>:null}]}

data: {<span class="hljs-string">"choices"</span>:[{<span class="hljs-string">"delta"</span>:{<span class="hljs-string">"content"</span>:<span class="hljs-string">""</span>},<span class="hljs-string">"finish_reason"</span>:<span class="hljs-string">"stop"</span>}]}
```

## é”™è¯¯å¤„ç†æœºåˆ¶

### HTTP çŠ¶æ€ç è§„èŒƒ

| çŠ¶æ€ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| <span class="hljs-number">200</span> | æˆåŠŸ | è¯·æ±‚æˆåŠŸå¤„ç† |
| <span class="hljs-number">201</span> | åˆ›å»ºæˆåŠŸ | èµ„æºåˆ›å»ºæˆåŠŸ |
| <span class="hljs-number">400</span> | è¯·æ±‚é”™è¯¯ | å‚æ•°éªŒè¯å¤±è´¥ |
| <span class="hljs-number">401</span> | æœªè®¤è¯ | Token æ— æ•ˆæˆ–è¿‡æœŸ |
| <span class="hljs-number">403</span> | æƒé™ä¸è¶³ | æ²¡æœ‰è®¿é—®æƒé™ |
| <span class="hljs-number">404</span> | èµ„æºä¸å­˜åœ¨ | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ |
| <span class="hljs-number">409</span> | å†²çª | èµ„æºå†²çªï¼ˆå¦‚é‚®ç®±å·²å­˜åœ¨ï¼‰ |
| <span class="hljs-number">422</span> | éªŒè¯å¤±è´¥ | ä¸šåŠ¡é€»è¾‘éªŒè¯å¤±è´¥ |
| <span class="hljs-number">500</span> | æœåŠ¡å™¨é”™è¯¯ | å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ |

### é”™è¯¯å“åº”æ ¼å¼

```typescript
interface ErrorResponse {
  code: number;
  msg: string;
  error?: string;
  details?: {
    field: string;
    message: string;
  }[];
  correlation_id?: string;
}
```

### å‰ç«¯é”™è¯¯å¤„ç†

```typescript
<span class="hljs-comment">// å…¨å±€é”™è¯¯å¤„ç†</span>
instance.interceptors.response.<span class="hljs-built_in">use</span>(
  (response) =&gt; response,
  (error) =&gt; {
    <span class="hljs-type">const</span> { response } = error;
    
    <span class="hljs-keyword">if</span> (response) {
      <span class="hljs-type">const</span> { status, data } = response;
      
      <span class="hljs-keyword">switch</span> (status) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">400</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(data.msg || <span class="hljs-string">'è¯·æ±‚å‚æ•°é”™è¯¯'</span>, { variant: <span class="hljs-string">'error'</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(<span class="hljs-string">'ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•'</span>, { variant: <span class="hljs-string">'error'</span> });
          router.<span class="hljs-built_in">push</span>(<span class="hljs-string">'/session'</span>);
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(<span class="hljs-string">'æƒé™ä¸è¶³'</span>, { variant: <span class="hljs-string">'error'</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(<span class="hljs-string">'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨'</span>, { variant: error<span class="hljs-number">'</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">500</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(<span class="hljs-string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>, { variant: <span class="hljs-string">'error'</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
          <span class="hljs-built_in">enqueueSnackbar</span>(data.msg || <span class="hljs-string">'æœªçŸ¥é”™è¯¯'</span>, { variant: <span class="hljs-string">'error'</span> });
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">enqueueSnackbar</span>(<span class="hljs-string">'ç½‘ç»œè¿æ¥é”™è¯¯'</span>, { variant: <span class="hljs-string">'error'</span> });
    }
    
    <span class="hljs-keyword">return</span> Promise.<span class="hljs-built_in">reject</span>(error);
  }
);
```

## æµå¼æ•°æ®ä¼ è¾“

### <span class="hljs-built_in">Server</span>-<span class="hljs-function">Sent <span class="hljs-title">Events</span> <span class="hljs-params">(SSE)</span>

Cloudreve ä½¿ç”¨ SSE åè®®å®ç°æµå¼æ•°æ®ä¼ è¾“ï¼Œä¸»è¦ç”¨äºèŠå¤©åŠŸèƒ½çš„å®æ—¶å“åº”ã€‚

#### å‰ç«¯ SSE å¤„ç†

```typescript
<span class="hljs-comment">// æµå¼èŠå¤©å®ç°</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> streamChat </span>= <span class="hljs-built_in">async</span> (
  message: string,
  onMessage: (content: string) =&gt; <span class="hljs-type">void</span>,
  onComplete: () =&gt; <span class="hljs-type">void</span>,
  onError: (error: Error) =&gt; <span class="hljs-type">void</span>
) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-type">const</span> token = await SessionManager.<span class="hljs-built_in">getAccessToken</span>();
    
    <span class="hljs-type">const</span> response = await <span class="hljs-built_in">fetch</span>(<span class="hljs-string">'/api/v4/chat/stream'</span>, {
      method: <span class="hljs-string">'POST'</span>,
      headers: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        <span class="hljs-string">'Authorization'</span>: `Bearer ${token}`,
      },
      body: JSON.<span class="hljs-built_in">stringify</span>({ message }),
    });
    
    <span class="hljs-keyword">if</span> (!response.ok) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(`HTTP ${response.status}: ${response.statusText}`);
    }
    
    <span class="hljs-type">const</span> reader = response.body?.<span class="hljs-built_in">getReader</span>();
    <span class="hljs-type">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-built_in">TextDecoder</span>();
    
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-type">const</span> { done, value } = await reader!.<span class="hljs-built_in">read</span>();
      
      <span class="hljs-keyword">if</span> (done) {
        <span class="hljs-built_in">onComplete</span>();
        <span class="hljs-keyword">break</span>;
      }
      
      <span class="hljs-type">const</span> chunk = decoder.<span class="hljs-built_in">decode</span>(value);
      <span class="hljs-type">const</span> lines = chunk.<span class="hljs-built_in">split</span>(<span class="hljs-string">'\n'</span>);
      
      <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> line of lines) {
        <span class="hljs-keyword">if</span> (line.<span class="hljs-built_in">startsWith</span>(<span class="hljs-string">'data: '</span>)) {
          <span class="hljs-type">const</span> data = line.<span class="hljs-built_in">slice</span>(<span class="hljs-number">6</span>);
          
          <span class="hljs-keyword">if</span> (data === <span class="hljs-string">'[DONE]'</span>) {
            <span class="hljs-built_in">onComplete</span>();
            <span class="hljs-keyword">return</span>;
          }
          
          <span class="hljs-keyword">try</span> {
            <span class="hljs-type">const</span> parsed = JSON.<span class="hljs-built_in">parse</span>(data);
            <span class="hljs-type">const</span> content = parsed.choices?.[<span class="hljs-number">0</span>]?.delta?.content;
            
            <span class="hljs-keyword">if</span> (content) {
              <span class="hljs-built_in">onMessage</span>(content);
            }
            
            <span class="hljs-keyword">if</span> (parsed.choices?.[<span class="hljs-number">0</span>]?.finish_reason === <span class="hljs-string">'stop'</span>) {
              <span class="hljs-built_in">onComplete</span>();
              <span class="hljs-keyword">return</span>;
            }
          } <span class="hljs-built_in">catch</span> (parseError) {
            console.<span class="hljs-built_in">warn</span>(<span class="hljs-string">'Failed to parse SSE data:'</span>, data);
          }
        }
      }
    }
  } <span class="hljs-built_in">catch</span> (error) {
    <span class="hljs-built_in">onError</span>(error as Error);
  }
};
```

#### åç«¯ SSE å®ç°

```go
<span class="hljs-comment">// æ§åˆ¶å™¨ä¸­çš„æµå¼å“åº”</span>
<span class="hljs-function">func <span class="hljs-title">ChatStream</span><span class="hljs-params">(c *gin.Context)</span> </span>{
    <span class="hljs-comment">// è®¾ç½® SSE å“åº”å¤´</span>
    c.<span class="hljs-built_in">Header</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/event-stream"</span>)
    c.<span class="hljs-built_in">Header</span>(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"no-cache"</span>)
    c.<span class="hljs-built_in">Header</span>(<span class="hljs-string">"Connection"</span>, <span class="hljs-string">"keep-alive"</span>)
    c.<span class="hljs-built_in">Header</span>(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"*"</span>)
    
    <span class="hljs-comment">// è·å–å‚æ•°</span>
    service := ParametersFromContext[*chatsvc.Service](c, ChatParameterCtx)
    user := c.<span class="hljs-built_in">MustGet</span>(<span class="hljs-string">"user"</span>).(*ent.User)
    
    <span class="hljs-comment">// åˆ›å»ºèŠå¤©æœåŠ¡</span>
    chatService := chatsvc.<span class="hljs-built_in">NewChatService</span>(dep)
    
    <span class="hljs-comment">// æµå¼å›è°ƒå‡½æ•°</span>
    callback := <span class="hljs-built_in">func</span>(content string, done <span class="hljs-type">bool</span>) error {
        data := map[string]interface{}{
            <span class="hljs-string">"id"</span>:      <span class="hljs-string">"chatcmpl-"</span> + <span class="hljs-built_in">generateID</span>(),
            <span class="hljs-string">"object"</span>:  <span class="hljs-string">"chat.completion.chunk"</span>,
            <span class="hljs-string">"created"</span>: time.<span class="hljs-built_in">Now</span>().<span class="hljs-built_in">Unix</span>(),
            <span class="hljs-string">"model"</span>:   <span class="hljs-string">"google/gemini-2.5-pro"</span>,
            <span class="hljs-string">"choices"</span>: []map[string]interface{}{
                {
                    <span class="hljs-string">"index"</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-string">"delta"</span>: map[string]interface{}{
                        <span class="hljs-string">"content"</span>: content,
                    },
                    <span class="hljs-string">"finish_reason"</span>: nil,
                },
            },
        }
        
        <span class="hljs-keyword">if</span> done {
            data[<span class="hljs-string">"choices"</span>].([]map[string]interface{})[<span class="hljs-number">0</span>][<span class="hljs-string">"finish_reason"</span>] = <span class="hljs-string">"stop"</span>
        }
        
        jsonData, _ := json.<span class="hljs-built_in">Marshal</span>(data)
        fmt.<span class="hljs-built_in">Fprintf</span>(c.Writer, <span class="hljs-string">"data: %s\n\n"</span>, jsonData)
        c.Writer.<span class="hljs-built_in">Flush</span>()
        
        <span class="hljs-keyword">return</span> nil
    }
    
    <span class="hljs-comment">// æ‰§è¡Œæµå¼èŠå¤©</span>
    err := chatService.<span class="hljs-built_in">StreamChatWithFiles</span>(c.Request.<span class="hljs-built_in">Context</span>(), user, service.Message, callback)
    <span class="hljs-keyword">if</span> err != nil {
        errorData := map[string]interface{}{
            <span class="hljs-string">"error"</span>: map[string]interface{}{
                <span class="hljs-string">"message"</span>: err.<span class="hljs-built_in">Error</span>(),
                <span class="hljs-string">"type"</span>:    <span class="hljs-string">"server_error"</span>,
            },
        }
        jsonData, _ := json.<span class="hljs-built_in">Marshal</span>(errorData)
        fmt.<span class="hljs-built_in">Fprintf</span>(c.Writer, <span class="hljs-string">"data: %s\n\n"</span>, jsonData)
        c.Writer.<span class="hljs-built_in">Flush</span>()
    }
    
    <span class="hljs-comment">// å‘é€ç»“æŸæ ‡è®°</span>
    fmt.<span class="hljs-built_in">Fprintf</span>(c.Writer, <span class="hljs-string">"data: [DONE]\n\n"</span>)
    c.Writer.<span class="hljs-built_in">Flush</span>()
}
```

## æ–‡ä»¶ä¸Šä¼ æœºåˆ¶

### åˆ†ç‰‡ä¸Šä¼ 

å¯¹äºå¤§æ–‡ä»¶ï¼ŒCloudreve æ”¯æŒåˆ†ç‰‡ä¸Šä¼ æœºåˆ¶ï¼š

```mermaid
sequenceDiagram
    participant C as å®¢æˆ·ç«¯
    participant S as æœåŠ¡å™¨
    participant FS as æ–‡ä»¶ç³»ç»Ÿ

    C-&gt;&gt;S: <span class="hljs-number">1.</span> åˆ›å»ºä¸Šä¼ ä¼šè¯
    S--&gt;&gt;C: è¿”å› session_id
    
    loop åˆ†ç‰‡ä¸Šä¼ 
        C-&gt;&gt;S: <span class="hljs-number">2.</span> ä¸Šä¼ åˆ†ç‰‡ (session_id, chunk_index, chunk_data)
        S-&gt;&gt;FS: å­˜å‚¨åˆ†ç‰‡
        S--&gt;&gt;C: è¿”å›ä¸Šä¼ è¿›åº¦
    end
    
    C-&gt;&gt;S: <span class="hljs-number">3.</span> å®Œæˆä¸Šä¼  (session_id)
    S-&gt;&gt;FS: åˆå¹¶åˆ†ç‰‡
    S--&gt;&gt;C: è¿”å›æ–‡ä»¶ä¿¡æ¯
```

#### å‰ç«¯åˆ†ç‰‡ä¸Šä¼ å®ç°

```typescript
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> uploadFileWithProgress = <span class="hljs-built_in">async</span> (
  file: <span class="hljs-built_in">File</span>,
  path: string,
  onProgress: (progress: number) =&gt; <span class="hljs-type">void</span>
): Promise&lt;FileResponse&gt; =&gt; {
  <span class="hljs-type">const</span> CHUNK_SIZE = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>; <span class="hljs-comment">// 1MB per chunk</span>
  <span class="hljs-type">const</span> totalChunks = Math.<span class="hljs-built_in">ceil</span>(file.size / CHUNK_SIZE);
  
  <span class="hljs-comment">// 1. åˆ›å»ºä¸Šä¼ ä¼šè¯</span>
  <span class="hljs-type">const</span> sessionResponse = await api.<span class="hljs-built_in">post</span>(<span class="hljs-string">'/file/upload/session'</span>, {
    name: file.name,
    size: file.size,
    path: path,
    chunks: totalChunks,
  });
  
  <span class="hljs-type">const</span> sessionId = sessionResponse.data.session_id;
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 2. åˆ†ç‰‡ä¸Šä¼ </span>
    <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; totalChunks; i++) {
      <span class="hljs-type">const</span> start = i * CHUNK_SIZE;
      <span class="hljs-type">const</span> end = Math.<span class="hljs-built_in">min</span>(start + CHUNK_SIZE, file.size);
      <span class="hljs-type">const</span> chunk = file.<span class="hljs-built_in">slice</span>(start, end);
      
      <span class="hljs-type">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FormData</span>();
      formData.<span class="hljs-built_in">append</span>(<span class="hljs-string">'chunk'</span>, chunk);
      formData.<span class="hljs-built_in">append</span>(<span class="hljs-string">'session_id'</span>, sessionId);
      formData.<span class="hljs-built_in">append</span>(<span class="hljs-string">'chunk_index'</span>, i.<span class="hljs-built_in">toString</span>());
      
      await api.<span class="hljs-built_in">post</span>(<span class="hljs-string">'/file/upload/chunk'</span>, formData, {
        headers: {
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'multipart/form-data'</span>,
        },
      });
      
      <span class="hljs-comment">// æ›´æ–°è¿›åº¦</span>
      <span class="hljs-type">const</span> progress = Math.<span class="hljs-built_in">round</span>(((i + <span class="hljs-number">1</span>) / totalChunks) * <span class="hljs-number">100</span>);
      <span class="hljs-built_in">onProgress</span>(progress);
    }
    
    <span class="hljs-comment">// 3. å®Œæˆä¸Šä¼ </span>
    <span class="hljs-type">const</span> completeResponse = await api.<span class="hljs-built_in">post</span>(<span class="hljs-string">'/file/upload/complete'</span>, {
      session_id: sessionId,
    });
    
    <span class="hljs-keyword">return</span> completeResponse.data;
  } <span class="hljs-built_in">catch</span> (error) {
    <span class="hljs-comment">// ä¸Šä¼ å¤±è´¥ï¼Œæ¸…ç†ä¼šè¯</span>
    await api.<span class="hljs-built_in">delete</span>(`/file/upload/session/${sessionId}`);
    <span class="hljs-keyword">throw</span> error;
  }
};
```

## ç¼“å­˜ç­–ç•¥

### å‰ç«¯ç¼“å­˜

#### <span class="hljs-number">1.</span> HTTP ç¼“å­˜

```typescript
<span class="hljs-comment">// ä¸ºé™æ€èµ„æºè®¾ç½®ç¼“å­˜</span>
<span class="hljs-type">const</span> cacheableRequests = [
  <span class="hljs-string">'/api/v4/site/config'</span>,
  <span class="hljs-string">'/api/v4/user/info'</span>,
];

instance.interceptors.request.<span class="hljs-built_in">use</span>((config) =&gt; {
  <span class="hljs-keyword">if</span> (cacheableRequests.<span class="hljs-built_in">some</span>(url =&gt; config.url?.<span class="hljs-built_in">includes</span>(url))) {
    config.headers[<span class="hljs-string">'Cache-Control'</span>] = <span class="hljs-string">'max-age=300'</span>; <span class="hljs-comment">// 5åˆ†é’Ÿç¼“å­˜</span>
  }
  <span class="hljs-keyword">return</span> config;
});
```

#### <span class="hljs-number">2.</span> å†…å­˜ç¼“å­˜

```typescript
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiCache</span> {
  <span class="hljs-keyword">private</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>&lt;string, { data: any; expires: number }&gt;();
  
  <span class="hljs-built_in">get</span>(key: string): any | null {
    <span class="hljs-type">const</span> item = <span class="hljs-keyword">this</span>.cache.<span class="hljs-built_in">get</span>(key);
    <span class="hljs-keyword">if</span> (!item || Date.<span class="hljs-built_in">now</span>() &gt; item.expires) {
      <span class="hljs-keyword">this</span>.cache.<span class="hljs-built_in">delete</span>(key);
      <span class="hljs-keyword">return</span> null;
    }
    <span class="hljs-keyword">return</span> item.data;
  }
  
  <span class="hljs-built_in">set</span>(key: string, data: any, ttl: number = <span class="hljs-number">300000</span>): <span class="hljs-type">void</span> {
    <span class="hljs-keyword">this</span>.cache.<span class="hljs-built_in">set</span>(key, {
      data,
      expires: Date.<span class="hljs-built_in">now</span>() + ttl,
    });
  }
  
  <span class="hljs-built_in">clear</span>(): <span class="hljs-type">void</span> {
    <span class="hljs-keyword">this</span>.cache.<span class="hljs-built_in">clear</span>();
  }
}

<span class="hljs-type">const</span> apiCache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ApiCache</span>();

<span class="hljs-comment">// åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­ä½¿ç”¨ç¼“å­˜</span>
instance.interceptors.request.<span class="hljs-built_in">use</span>((config) =&gt; {
  <span class="hljs-keyword">if</span> (config.method === <span class="hljs-string">'GET'</span>) {
    <span class="hljs-type">const</span> cacheKey = `${config.url}?${JSON.<span class="hljs-built_in">stringify</span>(config.params)}`;
    <span class="hljs-type">const</span> cached = apiCache.<span class="hljs-built_in">get</span>(cacheKey);
    
    <span class="hljs-keyword">if</span> (cached) {
      <span class="hljs-comment">// è¿”å›ç¼“å­˜çš„ Promise</span>
      <span class="hljs-keyword">return</span> Promise.<span class="hljs-built_in">resolve</span>({
        ...config,
        adapter: () =&gt; Promise.<span class="hljs-built_in">resolve</span>({
          data: cached,
          status: <span class="hljs-number">200</span>,
          statusText: <span class="hljs-string">'OK'</span>,
          headers: {},
          config,
        }),
      });
    }
  }
  
  <span class="hljs-keyword">return</span> config;
});
```

### åç«¯ç¼“å­˜

```go
<span class="hljs-comment">// ç¼“å­˜ä¸­é—´ä»¶</span>
<span class="hljs-function">func <span class="hljs-title">CacheMiddleware</span><span class="hljs-params">(ttl time.Duration)</span> gin.HandlerFunc </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">func</span>(c *gin.Context) {
        <span class="hljs-keyword">if</span> c.Request.Method != <span class="hljs-string">"GET"</span> {
            c.<span class="hljs-built_in">Next</span>()
            <span class="hljs-keyword">return</span>
        }
        
        cacheKey := fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"api:%s:%s"</span>, c.Request.URL.Path, c.Request.URL.RawQuery)
        
        <span class="hljs-comment">// å°è¯•ä»ç¼“å­˜è·å–</span>
        <span class="hljs-keyword">if</span> cached, err := cache.<span class="hljs-built_in">Get</span>(c.Request.<span class="hljs-built_in">Context</span>(), cacheKey); err == nil {
            c.<span class="hljs-built_in">Header</span>(<span class="hljs-string">"X-Cache"</span>, <span class="hljs-string">"HIT"</span>)
            c.<span class="hljs-built_in">Data</span>(<span class="hljs-number">200</span>, <span class="hljs-string">"application/json"</span>, []<span class="hljs-built_in">byte</span>(cached))
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// åŒ…è£… ResponseWriter ä»¥æ•è·å“åº”</span>
        w := &amp;responseWriter{
            ResponseWriter: c.Writer,
            body:          &amp;bytes.Buffer{},
        }
        c.Writer = w
        
        c.<span class="hljs-built_in">Next</span>()
        
        <span class="hljs-comment">// ç¼“å­˜å“åº”</span>
        <span class="hljs-keyword">if</span> w.status == <span class="hljs-number">200</span> {
            cache.<span class="hljs-built_in">Set</span>(c.Request.<span class="hljs-built_in">Context</span>(), cacheKey, w.body.<span class="hljs-built_in">String</span>(), ttl)
        }
    }
}
```

## è·¨åŸŸå¤„ç†

### CORS é…ç½®

```go
<span class="hljs-comment">// middleware/cors.go</span>
func <span class="hljs-built_in">CORS</span>() gin.HandlerFunc {
    <span class="hljs-keyword">return</span> cors.<span class="hljs-built_in">New</span>(cors.Config{
        AllowOrigins:     []string{<span class="hljs-string">"http://localhost:3000"</span>, <span class="hljs-string">"https://yourdomain.com"</span>},
        AllowMethods:     []string{<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>, <span class="hljs-string">"PUT"</span>, <span class="hljs-string">"DELETE"</span>, <span class="hljs-string">"OPTIONS"</span>},
        AllowHeaders:     []string{<span class="hljs-string">"Origin"</span>, <span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"Authorization"</span>},
        ExposeHeaders:    []string{<span class="hljs-string">"Content-Length"</span>},
        AllowCredentials: <span class="hljs-literal">true</span>,
        MaxAge:           <span class="hljs-number">12</span> * time.Hour,
    })
}
```

### é¢„æ£€è¯·æ±‚å¤„ç†

```typescript
<span class="hljs-comment">// å‰ç«¯å¤„ç†é¢„æ£€è¯·æ±‚</span>
axios.defaults.withCredentials = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// è‡ªå®šä¹‰é¢„æ£€è¯·æ±‚å¤„ç†</span>
instance.interceptors.request.<span class="hljs-built_in">use</span>((config) =&gt; {
  <span class="hljs-comment">// å¯¹äºå¤æ‚è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ OPTIONS é¢„æ£€è¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (config.method !== <span class="hljs-string">'GET'</span> &amp;&amp; config.method !== <span class="hljs-string">'POST'</span>) {
    config.headers[<span class="hljs-string">'Content-Type'</span>] = <span class="hljs-string">'application/json'</span>;
  }
  
  <span class="hljs-keyword">return</span> config;
});
```

## API ç‰ˆæœ¬å…¼å®¹

### ç‰ˆæœ¬ç­–ç•¥

```typescript
<span class="hljs-comment">// API ç‰ˆæœ¬ç®¡ç†</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> API_VERSIONS = {
  V3: <span class="hljs-string">'/api/v3'</span>,
  V4: <span class="hljs-string">'/api/v4'</span>,
} as <span class="hljs-type">const</span>;

<span class="hljs-comment">// æ ¹æ®åŠŸèƒ½é€‰æ‹© API ç‰ˆæœ¬</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> createApiClient = (version: keyof typeof API_VERSIONS = <span class="hljs-string">'V4'</span>) =&gt; {
  <span class="hljs-keyword">return</span> axios.<span class="hljs-built_in">create</span>({
    baseURL: API_VERSIONS[version],
    timeout: <span class="hljs-number">10000</span>,
  });
};

<span class="hljs-comment">// å‘åå…¼å®¹å¤„ç†</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> legacyApiCall = <span class="hljs-built_in">async</span> (endpoint: string, data: any) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å°è¯•ä½¿ç”¨æ–°ç‰ˆæœ¬ API</span>
    <span class="hljs-keyword">return</span> await v4Client.<span class="hljs-built_in">post</span>(endpoint, data);
  } <span class="hljs-built_in">catch</span> (error) {
    <span class="hljs-keyword">if</span> (error.response?.status === <span class="hljs-number">404</span>) {
      <span class="hljs-comment">// å›é€€åˆ°æ—§ç‰ˆæœ¬ API</span>
      console.<span class="hljs-built_in">warn</span>(`Falling back to v3 API <span class="hljs-keyword">for</span> ${endpoint}`);
      <span class="hljs-keyword">return</span> await v3Client.<span class="hljs-built_in">post</span>(endpoint, data);
    }
    <span class="hljs-keyword">throw</span> error;
  }
};
```

## æ€§èƒ½ä¼˜åŒ–

### è¯·æ±‚ä¼˜åŒ–

#### <span class="hljs-number">1.</span> è¯·æ±‚åˆå¹¶

```typescript
<span class="hljs-comment">// æ‰¹é‡è¯·æ±‚åˆå¹¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestBatcher</span> {
  <span class="hljs-keyword">private</span> batches = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>&lt;string, any[]&gt;();
  <span class="hljs-keyword">private</span> timers = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>&lt;string, NodeJS.Timeout&gt;();
  
  <span class="hljs-built_in">batch</span>&lt;T&gt;(
    key: string,
    request: any,
    batchFn: (requests: any[]) =&gt; Promise&lt;T[]&gt;,
    delay: number = <span class="hljs-number">100</span>
  ): Promise&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.batches.<span class="hljs-built_in">has</span>(key)) {
        <span class="hljs-keyword">this</span>.batches.<span class="hljs-built_in">set</span>(key, []);
      }
      
      <span class="hljs-type">const</span> batch = <span class="hljs-keyword">this</span>.batches.<span class="hljs-built_in">get</span>(key)!;
      batch.<span class="hljs-built_in">push</span>({ request, resolve, reject });
      
      <span class="hljs-comment">// æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timers.<span class="hljs-built_in">has</span>(key)) {
        <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-keyword">this</span>.timers.<span class="hljs-built_in">get</span>(key)!);
      }
      
      <span class="hljs-comment">// è®¾ç½®æ–°çš„å®šæ—¶å™¨</span>
      <span class="hljs-type">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-built_in">async</span> () =&gt; {
        <span class="hljs-type">const</span> currentBatch = <span class="hljs-keyword">this</span>.batches.<span class="hljs-built_in">get</span>(key)!;
        <span class="hljs-keyword">this</span>.batches.<span class="hljs-built_in">delete</span>(key);
        <span class="hljs-keyword">this</span>.timers.<span class="hljs-built_in">delete</span>(key);
        
        <span class="hljs-keyword">try</span> {
          <span class="hljs-type">const</span> requests = currentBatch.<span class="hljs-built_in">map</span>(item =&gt; item.request);
          <span class="hljs-type">const</span> results = await <span class="hljs-built_in">batchFn</span>(requests);
          
          currentBatch.forEach((item, index) =&gt; {
            item.<span class="hljs-built_in">resolve</span>(results[index]);
          });
        } <span class="hljs-built_in">catch</span> (error) {
          currentBatch.forEach(item =&gt; {
            item.<span class="hljs-built_in">reject</span>(error);
          });
        }
      }, delay);
      
      <span class="hljs-keyword">this</span>.timers.<span class="hljs-built_in">set</span>(key, timer);
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-type">const</span> batcher = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RequestBatcher</span>();

<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> getUserInfo = (userId: number) =&gt; {
  <span class="hljs-keyword">return</span> batcher.<span class="hljs-built_in">batch</span>(
    <span class="hljs-string">'getUserInfo'</span>,
    userId,
    <span class="hljs-built_in">async</span> (userIds: number[]) =&gt; {
      <span class="hljs-type">const</span> response = await api.<span class="hljs-built_in">post</span>(<span class="hljs-string">'/user/batch'</span>, { ids: userIds });
      <span class="hljs-keyword">return</span> response.data;
    }
  );
};
```

#### <span class="hljs-number">2.</span> è¯·æ±‚å»é‡

```typescript
<span class="hljs-comment">// è¯·æ±‚å»é‡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestDeduplicator</span> {
  <span class="hljs-keyword">private</span> pending = <span class="hljs-keyword">new</span> Map&lt;string, Promise&lt;any&gt;&gt;();
  
  <span class="hljs-built_in">dedupe</span>&lt;T&gt;(key: string, requestFn: () =&gt; Promise&lt;T&gt;): Promise&lt;T&gt; {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.pending.<span class="hljs-built_in">has</span>(key)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pending.<span class="hljs-built_in">get</span>(key)!;
    }
    
    <span class="hljs-type">const</span> promise = <span class="hljs-built_in">requestFn</span>().<span class="hljs-built_in">finally</span>(() =&gt; {
      <span class="hljs-keyword">this</span>.pending.<span class="hljs-built_in">delete</span>(key);
    });
    
    <span class="hljs-keyword">this</span>.pending.<span class="hljs-built_in">set</span>(key, promise);
    <span class="hljs-keyword">return</span> promise;
  }
}

<span class="hljs-type">const</span> deduplicator = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RequestDeduplicator</span>();

<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> getFileList = (path: string) =&gt; {
  <span class="hljs-type">const</span> key = `fileList:${path}`;
  <span class="hljs-keyword">return</span> deduplicator.<span class="hljs-built_in">dedupe</span>(key, () =&gt; 
    api.<span class="hljs-built_in">get</span>(<span class="hljs-string">'/file/list'</span>, { params: { path } })
  );
};
```

## ç›‘æ§å’Œè°ƒè¯•

### è¯·æ±‚æ—¥å¿—

```typescript
<span class="hljs-comment">// è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶</span>
instance.interceptors.request.<span class="hljs-built_in">use</span>((config) =&gt; {
  <span class="hljs-type">const</span> requestId = <span class="hljs-built_in">generateRequestId</span>();
  config.metadata = { requestId, startTime: Date.<span class="hljs-built_in">now</span>() };
  
  console.<span class="hljs-built_in">log</span>(`[${requestId}] ${config.method?.<span class="hljs-built_in">toUpperCase</span>()} ${config.url}`, {
    params: config.params,
    data: config.data,
  });
  
  <span class="hljs-keyword">return</span> config;
});

instance.interceptors.response.<span class="hljs-built_in">use</span>(
  (response) =&gt; {
    <span class="hljs-type">const</span> { requestId, startTime } = response.config.metadata;
    <span class="hljs-type">const</span> duration = Date.<span class="hljs-built_in">now</span>() - startTime;
    
    console.<span class="hljs-built_in">log</span>(`[${requestId}] Response ${response.status} (${duration}ms)`, {
      data: response.data,
    });
    
    <span class="hljs-keyword">return</span> response;
  },
  (error) =&gt; {
    <span class="hljs-type">const</span> { requestId, startTime } = error.config?.metadata || {};
    <span class="hljs-type">const</span> duration = Date.<span class="hljs-built_in">now</span>() - startTime;
    
    console.<span class="hljs-built_in">error</span>(`[${requestId}] Error ${error.response?.status} (${duration}ms)`, {
      error: error.response?.data,
    });
    
    <span class="hljs-keyword">return</span> Promise.<span class="hljs-built_in">reject</span>(error);
  }
);
```

### æ€§èƒ½ç›‘æ§

```typescript
<span class="hljs-comment">// API æ€§èƒ½ç›‘æ§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiMonitor</span> {
  <span class="hljs-keyword">private</span> metrics = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>&lt;string, {
    count: number;
    totalTime: number;
    errors: number;
  }&gt;();
  
  <span class="hljs-built_in">record</span>(endpoint: string, duration: number, success: <span class="hljs-type">boolean</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.metrics.<span class="hljs-built_in">has</span>(endpoint)) {
      <span class="hljs-keyword">this</span>.metrics.<span class="hljs-built_in">set</span>(endpoint, { count: <span class="hljs-number">0</span>, totalTime: <span class="hljs-number">0</span>, errors: <span class="hljs-number">0</span> });
    }
    
    <span class="hljs-type">const</span> metric = <span class="hljs-keyword">this</span>.metrics.<span class="hljs-built_in">get</span>(endpoint)!;
    metric.count++;
    metric.totalTime += duration;
    
    <span class="hljs-keyword">if</span> (!success) {
      metric.errors++;
    }
  }
  
  <span class="hljs-built_in">getStats</span>() {
    <span class="hljs-type">const</span> stats = Array.<span class="hljs-built_in">from</span>(<span class="hljs-keyword">this</span>.metrics.<span class="hljs-built_in">entries</span>()).<span class="hljs-built_in">map</span>(([endpoint, metric]) =&gt; ({
      endpoint,
      count: metric.count,
      avgTime: metric.totalTime / metric.count,
      errorRate: metric.errors / metric.count,
    }));
    
    <span class="hljs-keyword">return</span> stats.<span class="hljs-built_in">sort</span>((a, b) =&gt; b.avgTime - a.avgTime);
  }
}

<span class="hljs-type">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ApiMonitor</span>();

<span class="hljs-comment">// åœ¨æ‹¦æˆªå™¨ä¸­ä½¿ç”¨</span>
instance.interceptors.response.<span class="hljs-built_in">use</span>(
  (response) =&gt; {
    <span class="hljs-type">const</span> duration = Date.<span class="hljs-built_in">now</span>() - response.config.metadata.startTime;
    monitor.<span class="hljs-built_in">record</span>(response.config.url!, duration, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> response;
  },
  (error) =&gt; {
    <span class="hljs-type">const</span> duration = Date.<span class="hljs-built_in">now</span>() - error.config?.metadata?.startTime;
    monitor.<span class="hljs-built_in">record</span>(error.config?.url!, duration, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">return</span> Promise.<span class="hljs-built_in">reject</span>(error);
  }
);
```

## æ€»ç»“

Cloudreve çš„å‰åç«¯é€šä¿¡æœºåˆ¶å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

<span class="hljs-number">1.</span> **ç»Ÿä¸€çš„ API è®¾è®¡**: RESTful é£æ ¼ï¼Œæ¸…æ™°çš„æ¥å£è§„èŒƒ
<span class="hljs-number">2.</span> **å®Œå–„çš„è®¤è¯æœºåˆ¶**: JWT Token + è‡ªåŠ¨åˆ·æ–°
<span class="hljs-number">3.</span> **çµæ´»çš„é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯æ ¼å¼å’Œå¤„ç†ç­–ç•¥
<span class="hljs-number">4.</span> **æµå¼æ•°æ®æ”¯æŒ**: SSE åè®®å®ç°å®æ—¶é€šä¿¡
<span class="hljs-number">5.</span> **é«˜æ•ˆçš„æ–‡ä»¶ä¼ è¾“**: åˆ†ç‰‡ä¸Šä¼ æ”¯æŒå¤§æ–‡ä»¶
<span class="hljs-number">6.</span> **æ™ºèƒ½ç¼“å­˜ç­–ç•¥**: å‰åç«¯å¤šå±‚ç¼“å­˜ä¼˜åŒ–
<span class="hljs-number">7.</span> **æ€§èƒ½ç›‘æ§**: å®Œæ•´çš„è¯·æ±‚ç›‘æ§å’Œè°ƒè¯•æœºåˆ¶

è¿™å¥—é€šä¿¡æœºåˆ¶ä¸ºä½ å¼€å‘ä¾§è¾¹æ å¯¹è¯åŠŸèƒ½æä¾›äº†å¯é çš„åŸºç¡€ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ç°æœ‰çš„ API æ¥å£å’Œé€šä¿¡æ¨¡å¼æ¥å®ç°æ–°åŠŸèƒ½ã€‚
</code></pre>
<h3 data-id="heading-7"><strong>05-development-guide.md - å¼€å‘æµç¨‹æŒ‡å—</strong></h3>
<ul>
<li>
<p>ç¯å¢ƒæ­å»ºå’Œå¼€å‘å·¥ä½œæµ</p>
</li>
<li>
<p>è°ƒè¯•æŠ€å·§å’Œæ€§èƒ½ä¼˜åŒ–</p>
</li>
<li>
<p>éƒ¨ç½²æµç¨‹å’Œæœ€ä½³å®è·µ</p>
</li>
</ul>
<blockquote>
<p>å› ç¯‡å¹…é™åˆ¶ï¼Œå®Œæ•´æ–‡æ¡£å†…å®¹è¯¦è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FO65Ay8h1S6jbK_j67jQVDg" target="_blank" title="https://mp.weixin.qq.com/s/O65Ay8h1S6jbK_j67jQVDg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/O65Ay8h1Sâ€¦</a></p>
</blockquote>
<h3 data-id="heading-8"><strong>06-chat-feature-extension.md - èŠå¤©åŠŸèƒ½æ‰©å±•å®ç°æ–¹æ¡ˆ</strong></h3>
<ul>
<li>
<p>åŸºäºç°æœ‰èŠå¤©åŠŸèƒ½çš„ä¾§è¾¹æ æ‰©å±•</p>
</li>
<li>
<p>å®Œæ•´çš„å‰åç«¯ä»£ç ç¤ºä¾‹</p>
</li>
<li>
<p>æ–‡ä»¶å¤¹ä¸Šä¸‹æ–‡è¯»å–å’Œ AI å¯¹è¯é›†æˆ</p>
</li>
</ul>
<blockquote>
<p>å› ç¯‡å¹…é™åˆ¶ï¼Œå®Œæ•´æ–‡æ¡£å†…å®¹è¯¦è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FO65Ay8h1S6jbK_j67jQVDg" target="_blank" title="https://mp.weixin.qq.com/s/O65Ay8h1S6jbK_j67jQVDg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/O65Ay8h1Sâ€¦</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb0e8142224a4b3d998726c7bfecac32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=hMYrTL9aIgepbNietMJntPYejkE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9"><strong>æ¨¡å—é‡æ„</strong></h2>
<h3 data-id="heading-10"><strong>åˆ†æå¹¶è§„åˆ’é‡æ„</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a38acf5942b948578c636054c1df6fe7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=SHj%2BiM7YijijumkImq44YMSQdkA%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b243bc6b1a74472a9b6a8a0b0650674f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=pREIpCB2EreCJD3a1Fjzqw%2FqygQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11"><strong>é‡æ„è®¡åˆ’è¯¦æƒ…</strong></h3>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-section"># Cloudreve å‰ç«¯é‡æ„ä¼˜åŒ–è®¡åˆ’</span>

<span class="hljs-section">## ğŸ“Š é¡¹ç›®ç°çŠ¶åˆ†æ</span>

<span class="hljs-section">### æŠ€æœ¯æ ˆæ¦‚å†µ</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**React 18.2.0 + TypeScript 5.2.2**</span> - ç°ä»£åŒ–æŠ€æœ¯æ ˆ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Material-UI 6.x**</span> - æˆç†Ÿçš„ç»„ä»¶åº“
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Redux Toolkit**</span> - ç°ä»£çŠ¶æ€ç®¡ç†
<span class="hljs-bullet">-</span> <span class="hljs-strong">**119ä¸ªä¾èµ–åŒ…**</span> - ä¾èµ–è¾ƒä¸ºå¤æ‚

<span class="hljs-section">### ä¸»è¦é—®é¢˜è¯†åˆ«</span>
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**æ€§èƒ½é—®é¢˜**</span>: Bundleè¿‡å¤§ã€ç¼ºå°‘è™šæ‹ŸåŒ–ã€ä¸å¿…è¦çš„é‡æ¸²æŸ“
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ä»£ç è´¨é‡**</span>: 75ä¸ªæ–‡ä»¶ä½¿ç”¨anyç±»å‹ã€ç»„ä»¶èŒè´£ä¸æ¸…ã€ä»£ç é‡å¤
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**æ¶æ„é—®é¢˜**</span>: ç»„ä»¶è€¦åˆåº¦é«˜ã€çŠ¶æ€ç®¡ç†åˆ†æ•£ã€ç¼ºå°‘æŠ½è±¡å±‚
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**æŠ€æœ¯å€ºåŠ¡**</span>: 8ä¸ªTODOæ ‡è®°ã€é‡å¤æ ·å¼å®šä¹‰ã€é”™è¯¯å¤„ç†ä¸ç»Ÿä¸€

<span class="hljs-section">## ğŸ¯ é‡æ„ä¼˜å…ˆçº§æ’åº</span>

<span class="hljs-section">### ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šå¿«é€Ÿèƒœåˆ©é¡¹ç›®ï¼ˆ2-3å‘¨ï¼‰</span>
<span class="hljs-strong">**é£é™©ï¼šğŸŸ¢ä½ | æ”¶ç›Šï¼šğŸ’°ğŸ’°ä¸­é«˜**</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ä»£ç è§„èŒƒç»Ÿä¸€**</span>
<span class="hljs-bullet">   -</span> ç»Ÿä¸€TypeScripté…ç½®ï¼Œæ¶ˆé™¤anyç±»å‹æ»¥ç”¨
<span class="hljs-bullet">   -</span> å»ºç«‹ç»„ä»¶å‘½åè§„èŒƒå’Œæ–‡ä»¶ç»„ç»‡æ ‡å‡†
<span class="hljs-bullet">   -</span> å®æ–½è‡ªåŠ¨åŒ–ä»£ç æ ¼å¼åŒ–

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å›½é™…åŒ–ä¼˜åŒ–**</span>
<span class="hljs-bullet">   -</span> ä¼˜åŒ–10ç§è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„
<span class="hljs-bullet">   -</span> å®æ–½æŒ‰éœ€åŠ è½½æœºåˆ¶
<span class="hljs-bullet">   -</span> ç»Ÿä¸€ç¿»è¯‘keyå‘½åè§„èŒƒ

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å·¥å…·å‡½æ•°æŠ½å–**</span>
<span class="hljs-bullet">   -</span> åˆ›å»ºç»Ÿä¸€çš„æ—¶é—´æ ¼å¼åŒ–ã€æ–‡ä»¶ç±»å‹åˆ¤æ–­å·¥å…·
<span class="hljs-bullet">   -</span> æŠ½å–é‡å¤çš„APIè°ƒç”¨æ¨¡å¼
<span class="hljs-bullet">   -</span> å»ºç«‹å…¬å…±Hookåº“

<span class="hljs-section">### ç¬¬äºŒä¼˜å…ˆçº§ï¼šæ€§èƒ½ä¼˜åŒ–é¡¹ç›®ï¼ˆ3-4å‘¨ï¼‰</span>
<span class="hljs-strong">**é£é™©ï¼šğŸ”´é«˜ | æ”¶ç›Šï¼šğŸ’°ğŸ’°ğŸ’°é«˜**</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**Bundleä¼˜åŒ–**</span>
<span class="hljs-bullet">   -</span> å®æ–½ç²¾ç»†åŒ–ä»£ç åˆ†å‰²ï¼Œé¢„è®¡å‡å°‘35%åŒ…å¤§å°
<span class="hljs-bullet">   -</span> ä¼˜åŒ–Monaco Editorã€Excalidrawç­‰å¤§å‹åº“çš„åŠ è½½
<span class="hljs-bullet">   -</span> å®æ–½æ‡’åŠ è½½å’Œé¢„åŠ è½½ç­–ç•¥

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ç»„ä»¶æ€§èƒ½ä¼˜åŒ–**</span>
<span class="hljs-bullet">   -</span> ä¸ºæ ¸å¿ƒç»„ä»¶æ·»åŠ React.memoå’ŒuseCallback
<span class="hljs-bullet">   -</span> å®æ–½è™šæ‹Ÿæ»šåŠ¨è§£å†³é•¿åˆ—è¡¨æ€§èƒ½é—®é¢˜
<span class="hljs-bullet">   -</span> ä¼˜åŒ–æ–‡ä»¶ç¼©ç•¥å›¾åŠ è½½æœºåˆ¶

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**è¿è¡Œæ—¶ä¼˜åŒ–**</span>
<span class="hljs-bullet">   -</span> ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜
<span class="hljs-bullet">   -</span> ä¼˜åŒ–çŠ¶æ€æ›´æ–°é¢‘ç‡
<span class="hljs-bullet">   -</span> å®æ–½æ™ºèƒ½ç¼“å­˜ç­–ç•¥

<span class="hljs-section">### ç¬¬ä¸‰ä¼˜å…ˆçº§ï¼šæ¶æ„é‡æ„é¡¹ç›®ï¼ˆ4-6å‘¨ï¼‰</span>
<span class="hljs-strong">**é£é™©ï¼šğŸ”´é«˜ | æ”¶ç›Šï¼šğŸ’°ğŸ’°ğŸ’°é«˜**</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ç»„ä»¶æ¶æ„é‡æ„**</span>
<span class="hljs-bullet">   -</span> é‡æ„GridFileç­‰å¤§å‹ç»„ä»¶ï¼ˆ463è¡Œâ†’æ‹†åˆ†ä¸ºå¤šä¸ªå°ç»„ä»¶ï¼‰
<span class="hljs-bullet">   -</span> åˆ†ç¦»æ•°æ®è·å–å’ŒUIæ¸²æŸ“é€»è¾‘
<span class="hljs-bullet">   -</span> å»ºç«‹ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€ç®¡ç†

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**çŠ¶æ€ç®¡ç†ä¼˜åŒ–**</span>
<span class="hljs-bullet">   -</span> é‡æ„èŠå¤©ç³»ç»Ÿçš„çŠ¶æ€ç®¡ç†
<span class="hljs-bullet">   -</span> ç»Ÿä¸€Reduxå’Œæœ¬åœ°çŠ¶æ€çš„ä½¿ç”¨æ¨¡å¼
<span class="hljs-bullet">   -</span> å®æ–½çŠ¶æ€æœºç®¡ç†å¤æ‚çŠ¶æ€è½¬æ¢

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**ä¾èµ–å‡çº§**</span>
<span class="hljs-bullet">   -</span> åˆ†æ‰¹å‡çº§æ ¸å¿ƒä¾èµ–åŒ…
<span class="hljs-bullet">   -</span> è§£å†³å®‰å…¨æ¼æ´å’Œå…¼å®¹æ€§é—®é¢˜
<span class="hljs-bullet">   -</span> è·å¾—æ–°ç‰ˆæœ¬ç‰¹æ€§æ”¯æŒ

<span class="hljs-section">## ğŸš€ å®æ–½ç­–ç•¥</span>

<span class="hljs-section">### æ¸è¿›å¼é‡æ„æ–¹æ¡ˆ</span>
<span class="hljs-code">```
é˜¶æ®µä¸€ï¼ˆ2-3å‘¨ï¼‰ï¼šåŸºç¡€ä¼˜åŒ–
â”œâ”€â”€ ä»£ç è§„èŒƒç»Ÿä¸€
â”œâ”€â”€ å›½é™…åŒ–ä¼˜åŒ–  
â””â”€â”€ æŠ€æœ¯å€ºåŠ¡æ¸…ç†

é˜¶æ®µäºŒï¼ˆ3-4å‘¨ï¼‰ï¼šæ€§èƒ½ä¼˜åŒ–
â”œâ”€â”€ Bundleåˆ†å‰²ä¼˜åŒ–
â”œâ”€â”€ ç»„ä»¶æ¸²æŸ“ä¼˜åŒ–
â””â”€â”€ ç¼“å­˜ç­–ç•¥å®æ–½

é˜¶æ®µä¸‰ï¼ˆ4-6å‘¨ï¼‰ï¼šæ¶æ„é‡æ„
â”œâ”€â”€ ç»„ä»¶æ‹†åˆ†é‡æ„
â”œâ”€â”€ çŠ¶æ€ç®¡ç†ç»Ÿä¸€
â””â”€â”€ ä¾èµ–ç‰ˆæœ¬å‡çº§
```</span>

<span class="hljs-section">### æµ‹è¯•å’Œè´¨é‡ä¿è¯</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è‡ªåŠ¨åŒ–æµ‹è¯•**</span>: æ ¸å¿ƒç»„ä»¶90%+è¦†ç›–ç‡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ€§èƒ½æµ‹è¯•**</span>: FCP&lt;1.5s, LCP&lt;2.5sç›®æ ‡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å›æ»šè®¡åˆ’**</span>: æ¯é˜¶æ®µè®¾ç½®ç¨³å®šç‰ˆæœ¬æ ‡ç­¾
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç›‘æ§å‘Šè­¦**</span>: å®æ—¶ç›‘æ§å…³é”®æ€§èƒ½æŒ‡æ ‡

<span class="hljs-section">## ğŸ“ˆ é¢„æœŸæ”¶ç›Š</span>

<span class="hljs-section">### æ€§èƒ½æå‡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**åŠ è½½é€Ÿåº¦**</span>: æå‡50%
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Bundleå¤§å°**</span>: å‡å°‘35%
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å†…å­˜å ç”¨**</span>: é™ä½20-30%

<span class="hljs-section">### å¼€å‘æ•ˆç‡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–°åŠŸèƒ½å¼€å‘**</span>: é€Ÿåº¦æå‡40%
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç»„ä»¶å¤ç”¨ç‡**</span>: æå‡60%
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Bugä¿®å¤æ—¶é—´**</span>: å‡å°‘40%

<span class="hljs-section">### ä»£ç è´¨é‡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æŠ€æœ¯å€ºåŠ¡**</span>: å‡å°‘80%
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æµ‹è¯•è¦†ç›–ç‡**</span>: è¾¾åˆ°85%+
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç±»å‹å®‰å…¨**</span>: æ¶ˆé™¤75ä¸ªanyç±»å‹ä½¿ç”¨

<span class="hljs-section">## âš ï¸ é£é™©æ§åˆ¶</span>

<span class="hljs-section">### æŠ€æœ¯é£é™©ç¼“è§£</span>
<span class="hljs-bullet">-</span> æ¸è¿›å¼é‡æ„é¿å…å¤§çˆ†ç‚¸å¼æ”¹åŠ¨
<span class="hljs-bullet">-</span> å……åˆ†çš„è‡ªåŠ¨åŒ–å’Œæ‰‹å·¥æµ‹è¯•
<span class="hljs-bullet">-</span> ç°åº¦å‘å¸ƒå’Œå®æ—¶ç›‘æ§

<span class="hljs-section">### é¡¹ç›®é£é™©ç®¡ç†</span>
<span class="hljs-bullet">-</span> æ¯å‘¨è¿›åº¦å’Œè´¨é‡è¯„å®¡
<span class="hljs-bullet">-</span> æ˜ç¡®çš„é‡Œç¨‹ç¢‘å’Œäº¤ä»˜ç‰©
<span class="hljs-bullet">-</span> å¤‡ç”¨æ–¹æ¡ˆå’ŒçŸ¥è¯†åˆ†äº«æœºåˆ¶

<span class="hljs-section">## ğŸ’¼ èµ„æºéœ€æ±‚</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**äººåŠ›**</span>: å‰ç«¯æ¶æ„å¸ˆ1äºº + é«˜çº§å·¥ç¨‹å¸ˆ2äºº + å·¥ç¨‹å¸ˆ1äºº
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ—¶é—´**</span>: æ€»è®¡13-16å‘¨
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å·¥å…·**</span>: è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ã€æ€§èƒ½ç›‘æ§å·¥å…·ã€CI/CDæµæ°´çº¿

è¿™ä¸ªé‡æ„è®¡åˆ’é€šè¿‡ç§‘å­¦çš„ä¼˜å…ˆçº§æ’åºå’Œé£é™©æ§åˆ¶ï¼Œç¡®ä¿åœ¨æå‡ä»£ç è´¨é‡çš„åŒæ—¶ä¿æŒé¡¹ç›®ç¨³å®šæ€§ï¼Œä¸ºé•¿æœŸçš„å¯ç»´æŠ¤æ€§å’Œå¼€å‘æ•ˆç‡å¥ å®šåŸºç¡€ã€‚
</code></pre>
<h3 data-id="heading-12"><strong>é‡æ„å®æ–½ç»“æœ</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed106812a2e4451f9d7dde99b3110e86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=sDw3gqwosSQmuCv4rXsFLbn%2BSz0%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71621d638a9442a1966fa481eef3a3e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=VVWK46lP8jA0gEGh4hImskngD%2FY%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86e8de53d9894f608e9012012ad386eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=rhZVUNICSjbJfihDET%2F%2F1MEo0oc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35d3584594a34692a93ae213af2edbc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=EASH%2B%2BKH5eup8CL53NcMqxbLzf4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13"><strong>åŠŸèƒ½è¿­ä»£</strong></h2>
<p>åœ¨å®Œæˆé¡¹ç›®ç†è§£å’Œä»£ç ä¼˜åŒ–åï¼Œæ­£å¼è¿›å…¥åŠŸèƒ½å¼€å‘é˜¶æ®µã€‚æˆ‘è®¡åˆ’ä¸º Cloudreve æ·»åŠ ä¸€ä¸ªæ™ºèƒ½å¯¹è¯åŠŸèƒ½ï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€ä¸äº‘ç›˜äº¤äº’ã€‚</p>
<h3 data-id="heading-14"><strong>å‡†å¤‡å·¥ä½œï¼šæ¥å…¥ Context7 MCP</strong></h3>
<p>ä¸ºäº†æé«˜ AI å¯¹ OpenRouter API çš„ç†è§£å’Œä½¿ç”¨èƒ½åŠ›ï¼Œæˆ‘å…ˆæ¥å…¥äº† Context7 MCP æœåŠ¡ã€‚</p>
<p><strong>Context7 é“¾æ¥ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fcontext7.com%3Fq%3Dopenrouter" target="_blank" title="https://context7.com?q=openrouter" ref="nofollow noopener noreferrer">context7.com?q=openrouter</a></p>
<p><strong>MCP é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"context7"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://mcp.context7.com/mcp"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/000fed0186eb4531a9b3d9163ff64b4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=Mv%2FmE1oZ5%2BUCsfbT4wbPVwRgFyM%3D" alt="" loading="lazy"/></p>
<p align="center">Context7 MCP é…ç½®ç•Œé¢</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3b77040a0f34d24a8df19056abd0a76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=UWlKqSJvyujlMJH5mt4en%2Bxbk%2BM%3D" alt="" loading="lazy"/></p>
<p align="center">MCP æœåŠ¡çŠ¶æ€</p>
<h3 data-id="heading-15"><strong>ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€å¯¹è¯åŠŸèƒ½</strong></h3>
<p><strong>éœ€æ±‚è§„åˆ’</strong></p>
<p>æ‰“å¼€ Planï¼Œæ˜ç¡®åŸºç¡€å¯¹è¯åŠŸèƒ½çš„æ ¸å¿ƒéœ€æ±‚ã€‚</p>
<p><strong>éœ€æ±‚æè¿°ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">éœ€æ±‚ï¼š
ç»™äº‘ç›˜åŠ ä¸ª AI å¯¹è¯åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€è·Ÿ AI èŠå¤©

åç«¯ ï¼š
<span class="hljs-deletion">- æ–°å¢æµå¼å¯¹è¯æ¥å£å¹¶æ³¨å†Œåˆ°è·¯ç”±ä¸­ï¼Œéœ€è¦èº«ä»½é‰´æƒ</span>
<span class="hljs-deletion">- é›†æˆ OpenRouter è°ƒç”¨æ¨¡å‹</span>

å‰ç«¯ ï¼š
<span class="hljs-deletion">- å³ä¸‹è§’åŠ ä¸ªåœ†å½¢æ‚¬æµ®æŒ‰é’®</span>
<span class="hljs-deletion">- ç‚¹å‡»å¼¹å‡º 600px å®½çš„ä¾§è¾¹æ å¯¹è¯é¢æ¿</span>
<span class="hljs-deletion">- åŸºæœ¬çš„èŠå¤©ç•Œé¢ï¼šæ¶ˆæ¯åˆ—è¡¨ + è¾“å…¥æ¡†</span>
<span class="hljs-deletion">- è°ƒç”¨æµå¼å¯¹è¯æ¥å£æ—¶ï¼Œå¤„ç†å¥½é‰´æƒå‚æ•°ã€æµå¼è¾“å‡ºçŠ¶æ€</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c4fdfa41fc948a4a2e85d39fd4b9e43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=0b6PtVj9WiV3hroEpAZe8gWNiTQ%3D" alt="" loading="lazy"/></p>
<p>Coder ä¼šè‡ªåŠ¨è°ƒç”¨å†…ç½®çš„ Search Agent åˆ†æé¡¹ç›®ç»“æ„ï¼Œç†è§£ä»£ç ä¸Šä¸‹æ–‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/531d8d6529fc4849ba172c8ff5cde9fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=1PFGSyJ9ptLPanIxbTGwP7MASC8%3D" alt="" loading="lazy"/></p>
<p align="center">Search Agent å·¥ä½œè¿‡ç¨‹</p>
<p>åˆ†æå®Œæˆåï¼ŒCoder å°†æŠ€æœ¯æ–¹æ¡ˆä»¥æ–‡æ¡£å½¢å¼å‘ˆç°ï¼Œæ”¯æŒå®æ—¶ä¿®æ”¹å’Œç¼–è¾‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0969b63c5ad471e9681b69689819455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=rYrZaNhWCV%2Ftf7RnQZR8bsPEvuY%3D" alt="" loading="lazy"/></p>
<p align="center">æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£</p>
<h4 data-id="heading-16"><strong>ä»»åŠ¡æ‰§è¡Œ</strong></h4>
<p>ç¡®è®¤æ–¹æ¡ˆåï¼ŒCoder ä¼šæ ¹æ®æŠ€æœ¯è§„åˆ’è‡ªåŠ¨æ‹†è§£ä»»åŠ¡å¹¶åˆ†æ­¥æ‰§è¡Œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bc4e5bed4644204837f2389623260cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=0aCkB8F%2BsDVjpnM2CaKZ0%2FXNz7A%3D" alt="" loading="lazy"/></p>
<p align="center">ä»»åŠ¡æ‹†è§£åˆ—è¡¨</p>
<p>åœ¨å®æ–½è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å®æ—¶çœ‹åˆ°æ¯ä¸ªæ­¥éª¤çš„çŠ¶æ€æ›´æ–°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e973700b38df4cfabbcacb23665b6e40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=CubWtnj1VSsDyRphP%2BxgppbOpDY%3D" alt="" loading="lazy"/></p>
<p align="center">å®æ–½è¿›åº¦è¿½è¸ª</p>
<p>å¼€å‘å®Œæˆåï¼ŒCoder ä¼šè‡ªåŠ¨å¯åŠ¨é¡¹ç›®è¿›è¡Œé¢„è§ˆéªŒè¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6c3c56fc76347d78e450509f1e164ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=YW7Vw2onWpJ6qZgpYpz%2BaCF1KTs%3D" alt="" loading="lazy"/></p>
<p align="center">è‡ªåŠ¨å¯åŠ¨é¢„è§ˆ</p>
<p><strong>å®ç°æ•ˆæœï¼š</strong></p>
<p>å¯¹è¯åŠŸèƒ½å·²ç»æˆåŠŸå®ç°ï¼ŒUI é£æ ¼ä¸ Cloudreve åŸç”Ÿç•Œé¢ä¿æŒé«˜åº¦ä¸€è‡´ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ceb9310336146a79dc16ac837dc6a4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=8I20e%2Fj9tKqXqbTBNe56DqVkAPM%3D" alt="" loading="lazy"/></p>
<p align="center">å¯¹è¯åŠŸèƒ½ç•Œé¢</p>
<h3 data-id="heading-17"><strong>ç¬¬äºŒé˜¶æ®µï¼šå¢é‡è¿­ä»£ï¼Œå¢åŠ å¤šæ¨¡æ€å¬å›</strong></h3>
<p>åŸºç¡€å¯¹è¯åŠŸèƒ½å®Œæˆåï¼Œæˆ‘è¿›ä¸€æ­¥æå‡ºäº†æ›´é«˜çº§çš„éœ€æ±‚ï¼šè®© AI èƒ½å¤Ÿç†è§£å’Œæ£€ç´¢äº‘ç›˜ä¸­çš„æ–‡ä»¶å†…å®¹ã€‚</p>
<p><strong>å¢å¼ºéœ€æ±‚</strong></p>
<p><strong>éœ€æ±‚æè¿°ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">éœ€æ±‚ï¼š
AI èŠå¤©æ”¯æŒå¤šæ¨¡æ€æ–‡ä»¶æ™ºèƒ½æ£€ç´¢

åç«¯ï¼š
<span class="hljs-deletion">- æµå¼å¯¹è¯æ¥å£ä¸­è¯»å–å…¨é‡äº‘ç›˜æ–‡å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡æä¾›ç»™æ¨¡å‹ï¼Œæ¨¡å‹é€šè¿‡æ–‡ä»¶å…ƒä¿¡æ¯åŠå¤šæ¨¡æ€å†…å®¹è¿›è¡Œæ–‡ä»¶å¬å›</span>
<span class="hljs-deletion">- è¿”å›ï¼šsummary + file list çš„ç»“æ„ï¼Œå‰ç«¯æ¸²æŸ“ä¸ºæ–‡æœ¬ + GUI åˆ—è¡¨</span>
<span class="hljs-deletion">- é—®"å¸®æˆ‘æ‰¾åŒ…å«å°ç‹—çš„å›¾ç‰‡"è¿™ç±»é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿå¬å›æ–‡ä»¶å…ƒä¿¡æ¯æˆ–æ–‡ä»¶å†…å®¹ä¸ç”¨æˆ·æ„å›¾ç›¸å…³çš„æ–‡ä»¶</span>

å‰ç«¯ï¼š
<span class="hljs-deletion">- æ¶ˆæ¯ä¸­å±•ç¤ºæ–‡ä»¶åˆ—è¡¨</span>
<span class="hljs-deletion">- 3 åˆ—ç½‘æ ¼å¸ƒå±€ï¼Œæ˜¾ç¤ºç¼©ç•¥å›¾ã€æ–‡ä»¶å</span>
</code></pre>
<p><strong>å®ç°æ•ˆæœ</strong></p>
<p>Coder ä¼šè‡ªåŠ¨å¯åŠ¨å‰åç«¯æœåŠ¡ï¼Œå¹¶é€šè¿‡ç»ˆç«¯è¿›è¡ŒåŠŸèƒ½æµ‹è¯•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/806ec905e34e4d118e7a6ca2b7a247b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=Ir0CL9WSmCDnmy2mWPPu7WT5jgs%3D" alt="" loading="lazy"/></p>
<p align="center">åŠŸèƒ½æµ‹è¯•è¿‡ç¨‹</p>
<p><strong>æœ€ç»ˆæ•ˆæœï¼š</strong></p>
<p>ç³»ç»ŸæˆåŠŸå®ç°äº†æ–‡ä»¶å†…å®¹è¯†åˆ«å’Œæ™ºèƒ½å¬å›åŠŸèƒ½ã€‚å½“ç”¨æˆ·è¯¢é—®"å¸®æˆ‘æ‰¾åŒ…å«å°ç‹—çš„å›¾ç‰‡"æ—¶ï¼ŒAI èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å›¾ç‰‡å†…å®¹å¹¶è¿”å›ç›¸å…³æ–‡ä»¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d018f95c7f24fe78a42f3f539caf686~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=mXFmRh%2F8fbZoot3avhyHlDb5jrs%3D" alt="" loading="lazy"/></p>
<p align="center">æ–‡ä»¶å¬å›æ•ˆæœå±•ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/581c966bbfde4d35b71c95b4ceabcb1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764039376&amp;x-signature=xz9gTKrb1g%2BuhEQ7lJ9mSmvTFBc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-18"><strong>æ€»ç»“ä¸æ€è€ƒ</strong></h2>
<p>é€šè¿‡è¿™æ¬¡å®è·µï¼Œå¯ä»¥çœ‹åˆ° SOLO Coder åœ¨é¡¹ç›®ç†è§£ã€ä»£ç é‡æ„åˆ°åŠŸèƒ½å¼€å‘çš„æ¯ä¸ªç¯èŠ‚éƒ½å¯ä»¥æä¾›æ”¯æŒã€‚è¿™ä¸ªé¡¹ç›®æœªæ¥è¿˜å¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢çš„æœ‰ï¼šæ›´å¤æ‚çš„å¤šæ¨¡æ€äº¤äº’åœºæ™¯ã€æ™ºèƒ½æ–‡ä»¶ç®¡ç†å’Œæ¨èå’ŒåŸºäºç”¨æˆ·è¡Œä¸ºçš„ä¸ªæ€§åŒ–ä½“éªŒï¼Œæ¬¢è¿å¤§å®¶å»åˆ›é€ ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day 12ï¼š09. åŸºäºNuxtå¼€å‘åšå®¢é¡¹ç›®-ä½¿ç”¨NuxtContentæ„å»ºåšå®¢æ¨¡å—]]></title>    <link>https://juejin.cn/post/7573776814927446035</link>    <guid>https://juejin.cn/post/7573776814927446035</guid>    <pubDate>2025-11-18T03:30:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573776814927446035" data-draft-id="7573631442312609798" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day 12ï¼š09. åŸºäºNuxtå¼€å‘åšå®¢é¡¹ç›®-ä½¿ç”¨NuxtContentæ„å»ºåšå®¢æ¨¡å—"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-18T03:30:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”³é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/4353721775165486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day 12ï¼š09. åŸºäºNuxtå¼€å‘åšå®¢é¡¹ç›®-ä½¿ç”¨NuxtContentæ„å»ºåšå®¢æ¨¡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721775165486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”³é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T03:30:51.000Z" title="Tue Nov 18 2025 03:30:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.hljs-comment,.hljs-quote,.hljs-variable{color:green}.hljs-built_in,.hljs-keyword,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#00f}.hljs-addition,.hljs-attribute,.hljs-literal,.hljs-section,.hljs-string,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type{color:#a31515}.hljs-deletion,.hljs-meta,.hljs-selector-attr,.hljs-selector-pseudo{color:#2b91af}.hljs-doctag{color:grey}.hljs-attr{color:red}.hljs-bullet,.hljs-link,.hljs-symbol{color:#00b0e8}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df86e40dd69f4632aa6fba29585aa97d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=hlKOs9cGdzZA2mWGMfDpYXHJyow%3D" alt="PixPin_2025-11-18_11-05-26.gif" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>ç”¨å®˜ç½‘çš„ä»‹ç»æ¥è¯´ï¼Œè¿™å…¶å®æ˜¯ä¸“ä¸º<code>Nuxt</code>å¼€å‘äººå‘˜è®¾è®¡çš„ä¸€æ¬¾å¼ºå¤§çš„åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„<code>CMS</code> ç³»ç»Ÿã€‚å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcontent.nuxt.com%2F%25EF%25BC%258C" target="_blank" title="https://content.nuxt.com/%EF%BC%8C" ref="nofollow noopener noreferrer">content.nuxt.com/ï¼Œ</a> è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œæˆ‘æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°æ¯”è¾ƒå¥½çš„ä¸­æ–‡ç¿»è¯‘ç«™ç‚¹ï¼Œæˆ‘å»ºè®®å¤§å®¶ç›´æ¥çœ‹å®˜ç½‘åŸæ–‡æ¡£ï¼Œé¿å…å› ä¸ºç‰ˆæœ¬ä¸åŒè€Œè¸©å‘ã€‚</p>
<h2 data-id="heading-1">äºŒã€é¡µé¢å¸ƒå±€è®¾è®¡</h2>
<p>è¿™é‡Œæˆ‘å‚è€ƒäº†ä¸€äº›åšå®¢ç«™ç‚¹çš„è®¾è®¡ï¼Œæˆ‘å¸Œæœ›å·¦è¾¹æ˜¯ä¸€ä¸ªåˆé›†çš„å±•ç¤ºï¼Œç‚¹å‡»ä¸“æ ï¼Œå³ä¾§æ˜¾ç¤ºå‡ºå…·ä½“çš„æ–‡ç« åˆ—è¡¨ï¼Œç‚¹å‡»æ–‡ç« åè¿›å…¥è¯¦ç»†å†…å®¹æŸ¥çœ‹é¡µé¢ã€‚å¤§æ¦‚å¾—ç¤ºæ„å›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ccd1e5bb7bb4cf0a69ea8dd71991bbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=IdkxqcHBZeh4KJZzTqrhE6Svoc0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ•´åˆ NuxtContent</h2>
<h3 data-id="heading-3">1. å®‰è£…æ¨¡å—</h3>
<pre><code class="hljs language-bash" lang="bash">npx nuxt module add content
</code></pre>
<blockquote>
<p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œä½ åº”è¯¥ä¼šç¢°åˆ°ä»¥ä¸‹æŠ¥é”™</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/593829820eb84d31bde4b711840ac596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=9ooJIyauHnPpiHfBd3LUTTkRC8s%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ä¸è¦æ…Œï¼Œé¦–å…ˆæˆ‘æ˜¯å®Œå…¨æŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œæ“ä½œçš„ï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œè‚¯å®šä¼šæœ‰äººåé¦ˆï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´æˆ‘å°±å»<code>github</code>çš„ <code>issues</code> é‡Œç¿»äº†ä¸€ä¸‹ï¼Œæœä¸å…¶ç„¶ï¼Œæœ‰å¾ˆå¤šäººéƒ½åé¦ˆäº†è¿™ä¸ªé—®é¢˜ï¼Œæ„Ÿå…´è¶£çš„è‡ªå·±å»äº†è§£ä¸€ä¸‹ã€‚è¿™é‡Œæˆ‘ç»™å‡ºç›´è¾¾é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnuxt%2Fcontent%2Fissues%3Fq%3DCould%2520not%2520locate%2520the%2520bindings%2520file%25EF%25BC%258C%25E6%259C%2580%25E7%25BB%2588%25E5%25BE%2597%25E5%2587%25BA%25E7%259A%2584%25E7%25BB%2593%25E8%25AE%25BA%25E6%2598%25AF" target="_blank" title="https://github.com/nuxt/content/issues?q=Could%20not%20locate%20the%20bindings%20file%EF%BC%8C%E6%9C%80%E7%BB%88%E5%BE%97%E5%87%BA%E7%9A%84%E7%BB%93%E8%AE%BA%E6%98%AF" ref="nofollow noopener noreferrer">github.com/nuxt/contenâ€¦</a> <code>node</code> ç‰ˆæœ¬è¿‡é«˜ï¼Œåœ¨ <code>pnpm@10</code> ä¹‹åæœ‰ä¸€äº›ç ´åæ€§çš„æ›´æ–°ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffb00d567622427ab42a07d60d286184~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=gGY5Z%2FX8TNd1Uq%2BCwEP4PKyJ1GQ%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>é‡æ–°å®‰è£…ä¸€ä¸‹ä¸€æ¥ <code>pnpm i</code>ï¼Œæˆ‘å‘ç°äº†è¿™ä¸ª</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b812468c433d434883cab1da321bdd5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=2B85YMmsyIYEwzGLQ5sK6q%2F3gjI%3D" alt="image.png" loading="lazy"/></p>
<p>æ ¹æ®æç¤ºï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹æ‰§è¡Œ<code>pnpm approve-builds</code>, å¹¶ä¸”å‹¾é€‰ä¸Šä»¥ä¸‹ä¾èµ–</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63da803f46c745bc8a1c1b9c53a6a1e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=Vl4Ot2LinkEkYyp7Hi%2FNmp8Azn4%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æŠ¥é”™ï¼Œå®‰è£…ä¸æˆåŠŸ</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/851c020d46924ae4bc1635ed0b023e9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=VrLodekcEFhp6fkxrhmFsY%2B62uM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b88fe256d4e495eb781a518a1993fab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=DJjtUEkI5wyUUSlcIBwAfp6GVYQ%3D" alt="image.png" loading="lazy"/>
å¤§è‡´æ„æ€æ˜¯è¯´ï¼Œå®ƒéœ€è¦ä¾èµ–æˆ‘æœ¬åœ°çš„ <code>Visual Studio</code> æ¥è¿›è¡Œç¼–è¯‘ï¼Œè¿˜å’Œ <code>c++</code>æœ‰ç‚¹å…³ç³»ï¼Œè¯´å·§ä¸å·§ï¼Œæˆ‘å‰å‡ å¤©åˆšæŠŠè¿™ç©æ„å¸è½½äº†ï¼Œä¹‹å‰å­¦ä¹ <code>c#</code>çš„æ—¶å€™è£…è¿‡ã€‚æˆ‘è‚¯å®šä¸ä¼šå†è£…å›å»äº†ï¼Œè¿™æœ‰ç‚¹åç›´è§‰äº†ï¼Œéš¾é“æˆ‘ç”¨è¿™ä¸ªè¿˜å¾—ä¸ºä½ è£…ä¸ªæœ¬åœ°çš„ç¼–è¯‘å™¨å˜›ã€‚<strong>æˆ‘éƒ½æ‡’å¾—å»è¯•è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘è§‰å¾—å¾ˆä¸åˆç†ã€‚</strong></p>
<blockquote>
<p>æˆ‘åˆå»å®˜ç½‘æ‰«äº†ä¸€é , æœäº†ä¸€ä¸‹å…³é”®è¯ <code>better-sqlite3</code></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30767b105a4741f98cb6a8904c6e0468~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=w%2FCsckh5Na0IuEQ9cvnQS%2FtZqlk%3D" alt="image.png" loading="lazy"/></p>
<p>éå¸¸å¥½ï¼Œ<code>install</code> çš„æ—¶å€™å®˜æ–¹è¿™é‡Œæœ‰æç¤º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a09ec99768c4bafb50fe096f88849ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=cS%2FCIEAjhQzu3c150Uqp5EL5nXg%3D" alt="image.png" loading="lazy"/></p>
<p>ä¿®æ”¹é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40131dec09264d57b4ad0f14d72a5960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=dzJkmxuGSv34n%2FZgR%2BdO7%2FvYuMw%3D" alt="image.png" loading="lazy"/></p>
<p>é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œè¿è¡ŒæˆåŠŸã€‚</p>
<p><strong>é—®é¢˜è§£å†³ã€‚</strong></p>
<p>å°†åˆšåˆšæ‰§è¡Œ <code>pnpm approve-builds</code> é€ æˆçš„å½±å“è¿˜åŸ</p>
<ul>
<li>åˆ é™¤ç”Ÿæˆçš„ <code>pnpm-workspace.yaml</code> æ–‡ä»¶</li>
<li>å¸è½½ <code>sqlite3</code> ç›¸å…³ä¾èµ–</li>
</ul>
<blockquote>
<p><strong>åçœï¼Œçœ‹æ–‡æ¡£è¿˜æ˜¯ä¸å¤Ÿä»”ç»†å•Šï¼</strong>
è€½è¯¯äº†ä¸€äº›æ—¶é—´ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿™ä¸ªæ’æŸ¥æ­¥éª¤è¿˜æ˜¯æ¯”è¾ƒæœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥èŠ±äº†å¤§é‡ç¯‡å¹…è®°å½•ä¸‹æ¥äº†ï¼Œå¸Œæœ›å¯¹çœ‹æˆ‘åšå®¢çš„ä½ èƒ½æœ‰æ‰€å¸®åŠ©ã€‚</p>
</blockquote>
<h3 data-id="heading-4">2. ç»„ç»‡æˆ‘ä»¬çš„æ–‡ä»¶ç»“æ„</h3>
<h4 data-id="heading-5">1. é¡µé¢ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">pages                
â”œâ”€ blog              
â”‚  â”œâ”€ index.vue      <span class="hljs-comment"># é»˜è®¤åŠ è½½é¡µé¢</span>
â”‚  â””â”€ <span class="hljs-section">[...slug]</span>.vue  <span class="hljs-comment"># åŠ¨æ€è¯¦æƒ…é¡µ</span>
â”œâ”€ about.vue         
â”œâ”€ index.vue         
â””â”€ tools.vue         
</code></pre>
<h4 data-id="heading-6">2. æ–‡æ¡£ç»“æ„ (æ²¡æœ‰ content ç›®å½•è‡ªå·±æ–°å»ºä¸€ä¸ª)</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">content</span>           
â””â”€ blog           
   â””â”€ v2h         
      â”œâ”€ day1<span class="hljs-selector-class">.md</span>  
      â””â”€ day2<span class="hljs-selector-class">.md</span>  
</code></pre>
<blockquote>
<p>è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹ï¼Œ<code>blog</code> æ˜¯ä¸€ä¸ªåˆé›†ï¼Œè¡¨ç¤ºè¿™é‡Œå­˜æ”¾çš„æ˜¯æ‰€æœ‰åšå®¢æ–‡ç« ï¼Œ<code>v2h</code> æ„æ€æ˜¯ <code>value 2 hours</code> æ¯å¤©ä¸¤å°æ—¶è¿™ä¸ªä¸“æ çš„æ„æ€ï¼Œ<code>day1.md</code> åˆ™è¡¨ç¤ºä¸“æ ä¸‹çš„æ–‡ç« ã€‚</p>
</blockquote>
<h3 data-id="heading-7">3. è¯»å–æ–‡ä»¶å†…å®¹</h3>
<p>æ¥ä¸‹æ¥å°±æ˜¯å°†æˆ‘ä»¬çš„åšå®¢æ–‡ç« ï¼Œè¯»å–åˆ°é¡µé¢ä¸­ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ŠçŸ¥<code>blog</code>ç›®å½•ï¼Œä½œä¸ºåˆé›†é…ç½®</p>
<h4 data-id="heading-8">1. æ–°å»º content.config.ts</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineCollection, defineContentConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nuxt/content'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineContentConfig</span>({
    <span class="hljs-attr">collections</span>: {
        <span class="hljs-attr">blog</span>: <span class="hljs-title function_">defineCollection</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'page'</span>,
            <span class="hljs-attr">source</span>: <span class="hljs-string">'blog/**/*.md'</span>,

        })
    }
})
</code></pre>
<h4 data-id="heading-9">2. æµ‹è¯•ä¸€ä¸‹<code>api</code></h4>
<p>æ–°å»ºä¸€äº›æ–‡æ¡£ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹</p>
<pre><code class="hljs language-bash" lang="bash">content           
â””â”€ blog           
   â”œâ”€ miniapp      <span class="hljs-comment"># å°ç¨‹åºä¸“æ </span>
   â”‚  â””â”€ aaa.md   
   â””â”€ v2h         <span class="hljs-comment"># æ¯å¤©ä¸¤å°æ—¶ä¸“æ åˆé›†</span>
      â”œâ”€ day1.md  
      â””â”€ day2.md  
</code></pre>
<p>åœ¨ <code>blog/index.vue</code>ä¸­è¯»å–æ–‡ä»¶å¯¼èˆªä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'navigation'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">queryCollectionNavigation</span>(<span class="hljs-string">'blog'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åšå®¢<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- &lt;div&gt;{{ allPosts }}&lt;/div&gt; --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ data }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>æŸ¥çœ‹è¾“å‡ºå†…å®¹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Blog"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Miniapp"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog/miniapp"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog/miniapp"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                    <span class="hljs-punctuation">{</span>
                        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Aaa"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog/miniapp/aaa"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog/miniapp/aaa"</span>
                    <span class="hljs-punctuation">}</span>
                <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"V2h"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog/v2h"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog/v2h"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                    <span class="hljs-punctuation">{</span>
                        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Day1"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog/v2h/day1"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog/v2h/day1"</span>
                    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-punctuation">{</span>
                        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Day2"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/blog/v2h/day2"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"stem"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"blog/v2h/day2"</span>
                    <span class="hljs-punctuation">}</span>
                <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<blockquote>
<p>è¿”å›äº†æ•´ä¸ªæ–‡æ¡£ç»“æ„ã€‚æœ‰äº†è¿™ä¸ªæˆ‘ä¹ˆå°±å¯ä»¥è½»æ¾çš„ç»„ç»‡å¥½å·¦ä¾§çš„ç›®å½•ç»“æ„äº†ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/456089a3676644e4ba7620777cd7ff04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=38xCgzfuN%2BEy9EdSbMXfuhIjlQU%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'navigation'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">queryCollectionNavigation</span>(<span class="hljs-string">'blog'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"full-height-container grid grid-cols-5 gap-6 p-6"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å·¦ä¾§å¯¼èˆªæ  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-span-1 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4 border-b border-gray-100"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-semibold text-gray-800"</span>&gt;</span>åšå®¢ä¸“æ <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu menu-lg rounded-box w-full h-full"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"columns in data![0]!.children"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">details</span> <span class="hljs-attr">open</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span>{{ columns.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"article in columns.children"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>{{ article.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">details</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å³ä¾§å†…å®¹åŒº --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-span-4 bg-white rounded-xl shadow-lg flex flex-col overflow-hidden"</span>&gt;</span>{{ data }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

</code></pre>
<blockquote>
<p>å®Œå–„ä¸¤ç‚¹ï¼ŒåŸºæœ¬ä¸Šå°±æˆå‹äº†ã€‚</p>
<ol>
<li>ç‚¹å‡»ä¸€çº§èœå•çš„æ—¶å€™å³ä¾§åˆ†é¡µå±•ç¤ºä¸“æ ä¸‹æ‰€æœ‰æ–‡ç« åˆ—è¡¨</li>
<li>ç‚¹å‡»å­é›†èœå•ï¼Œç›´æ¥è¿›å…¥æ–‡ç« è¯¦æƒ…</li>
</ol>
</blockquote>
<h2 data-id="heading-10">å››ã€æœ€ç»ˆæˆæœå±•ç¤º</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df86e40dd69f4632aa6fba29585aa97d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=hlKOs9cGdzZA2mWGMfDpYXHJyow%3D" alt="PixPin_2025-11-18_11-05-26.gif" loading="lazy"/>
ç¤ºä¾‹ä»£ç ï¼š</p>
<p><code>blog/index.vue</code></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">ContentNavigationItem</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nuxt/content'</span>

<span class="hljs-keyword">const</span> currentPage = ref&lt;<span class="hljs-title class_">ContentNavigationItem</span>[]&gt;([])
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>()
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'navigation'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">queryCollectionNavigation</span>(<span class="hljs-string">'blog'</span>, [<span class="hljs-string">'description'</span>])
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleColumnsClick</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">title: string</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">value</span>?.[<span class="hljs-number">0</span>]?.<span class="hljs-property">children</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'No navigation data found'</span>)
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-comment">// è¿‡æ»¤åŒ¹é…çš„é¡¹</span>
  <span class="hljs-keyword">const</span> filteredItems = data.<span class="hljs-property">value</span>[<span class="hljs-number">0</span>].<span class="hljs-property">children</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">title</span> === title)
  <span class="hljs-keyword">if</span> (!filteredItems?.[<span class="hljs-number">0</span>]?.<span class="hljs-property">children</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'No Content data found'</span>)
    <span class="hljs-keyword">return</span>
  }
  currentPage.<span class="hljs-property">value</span> = filteredItems[<span class="hljs-number">0</span>]?.<span class="hljs-property">children</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleArticleClick</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">path: string</span>) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">navigateTo</span>(path)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"full-height-container grid grid-cols-5 p-6"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å·¦ä¾§å¯¼èˆªæ  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-span-1 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4 border-b border-gray-100"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-semibold text-gray-800"</span>&gt;</span>åšå®¢ä¸“æ <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu menu-lg rounded-box w-full h-full"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"columns in data![0]!.children"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">details</span> <span class="hljs-attr">open</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">summary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleColumnsClick(columns.title)"</span>&gt;</span>{{ columns.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"before:w-px"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"article in columns.children"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleArticleClick(article.path)"</span>&gt;</span>{{ article.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">details</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å³ä¾§å†…å®¹åŒº --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-span-4 flex flex-col gap-4 px-20"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in currentPage"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.path"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"item.path"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card card-side bg-base-100 shadow-sm px-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">figure</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-40 h-20"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/image-20251031133400797.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">" "</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-body"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-title"</span>&gt;</span>{{ item.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ item.description }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

</code></pre>
<p><code>blog/[...slug].vue</code></p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
const route = useRoute()
const { data: post } = await useAsyncData(route.path, () =&gt; {
  return queryCollection('blog').path(route.path).first()
})
&lt;/script&gt;
&lt;template&gt;
  &lt;div class="h-screen"&gt;&lt;ContentRenderer v-if="post" :value="post" /&gt;&lt;/div&gt;
&lt;/template&gt;
&lt;style scoped lang="scss"&gt;&lt;/style&gt;

</code></pre>
<h2 data-id="heading-11">äº”ã€æ€»ç»“</h2>
<p>åˆ°è¿™é‡ŒåŸºæœ¬ç»“æ„ç®—æ˜¯å®šä¸‹æ¥äº†ï¼Œåç»­å°±æ˜¯å†…å®¹çš„å¡«å……ï¼Œä»¥åŠè§‚æ„Ÿä¸Šçš„ä¼˜åŒ–äº†ã€‚</p>
<p>å½“ç„¶è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡ï¼Œæœ€ç»ˆä¼šé›†æˆåå°ç®¡ç†ç³»ç»Ÿï¼Œå®Œæˆä¸€å¥—çœŸæ­£çš„ <code>CMS</code> å‘å¸ƒç³»ç»Ÿã€‚æ‰€ä»¥å¦‚æœä½ è§‰å¾—éº»çƒ¦ï¼Œæˆ–è€…å¯¹äº <code>NuxtContent</code>å¹¶ä¸æ„Ÿå…´è¶£ï¼Œå®Œå…¨å¯ä»¥å¿½ç•¥è¿™ä¸€èŠ‚å†…å®¹ã€‚</p>
<blockquote>
<p>åœ¨è¿›è¡Œæ ·å¼è°ƒæ•´çš„æ—¶å€™ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ª<code>bug</code>ï¼Œ<strong>inspira-ui</strong> å’Œ <strong>daisyui</strong> çš„æ ·å¼è¡¨å˜é‡å­˜åœ¨å‘½åå†²çªã€‚</p>
<p>æ¯”å¦‚ï¼š<strong>inspira-ui</strong> å®šä¹‰ <code> --border: oklch(0.922 0 0);</code> æ˜¯é¢œè‰²å±æ€§ï¼Œè€Œ <strong>daisyui</strong> å®šä¹‰çš„æ˜¯å®½åº¦å±æ€§ <code>--border: 1px;</code></p>
<p>å¯¼è‡´å±æ€§å€¼è¦†ç›–ï¼Œè¿™è‚¯å®šä¸æ˜¯ä¸ªä¾‹ï¼Œæš‚æ—¶è®°å½•ä¸€ä¸‹ï¼Œåç»­å†è€ƒè™‘æ€ä¹ˆè§£å†³ã€‚</p>
<p>ç›®å‰ä¼šå¯¼è‡´  <strong>daisyui</strong> çš„èœå•å·¦è¾¹æ²¡æœ‰ç«–çº¿</p>
<p>æˆ‘ç›®å‰çš„è§£å†³æ–¹æ¡ˆæ˜¯ç›´æ¥åœ¨æ ‡ç­¾è¦†ç›–å›å»</p>
<p><code>&lt;ul class="before:w-px"&gt;</code></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e87041c758194a9a9bb8256570492027~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764041451&amp;x-signature=qDeiaaxUlGaEn7fJRMV3T2m6KsE%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚ä½ çš„â€œä¸ªäººå…¬å¸â€ä»è¿™ç¬¬ä¸€ä¸ª2å°æ—¶å¼€å§‹ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è¿›å±•æˆ–é‡åˆ°çš„å¡ç‚¹ï¼Œæˆ‘ä¼šé€ä¸€æŸ¥çœ‹ï¼Œå°½å¯èƒ½çš„å¸®åŠ©è§£å†³ã€‚æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ130ï¼‰Redisçš„å‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573519273030664238</link>    <guid>https://juejin.cn/post/7573519273030664238</guid>    <pubDate>2025-11-17T23:02:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573519273030664238" data-draft-id="7573528564026556462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ130ï¼‰Redisçš„å‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T23:02:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ130ï¼‰Redisçš„å‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T23:02:08.000Z" title="Mon Nov 17 2025 23:02:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰æ˜¯Redisä¸­ä¸€ç§ç´§å‡‘å‹çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨å°é‡çš„å­—ç¬¦ä¸²æˆ–æ•´æ•°ã€‚å®ƒçš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜ï¼Œå°¤å…¶é€‚ç”¨äºå­˜å‚¨çŸ­å°æ•°æ®çš„åœºæ™¯ï¼Œå¦‚åˆ—è¡¨æˆ–å“ˆå¸Œè¡¨ä¸­çš„å°‘é‡å…ƒç´ ã€‚Ziplisté€šè¿‡è¿ç»­çš„å†…å­˜å—å­˜å‚¨æ•°æ®ï¼Œå¹¶ä½¿ç”¨ä¸€ç§ç´§å‡‘çš„ç¼–ç æ–¹å¼æ¥è¡¨ç¤ºå­—ç¬¦ä¸²å’Œæ•´æ•°ï¼Œä»è€Œå‡å°‘å†…å­˜å ç”¨ã€‚</p>
<h3 data-id="heading-0">ä¸»è¦ç»“æ„</h3>
<p>Ziplistçš„ç»“æ„å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šè¡¨å¤´ã€æ•°æ®é¡¹å’Œè¡¨å°¾ã€‚</p>
<ol>
<li><strong>è¡¨å¤´</strong>ï¼šåŒ…å«ä¸¤ä¸ªå­—æ®µï¼š<code>zlbytes</code>å’Œ<code>zltail</code>ã€‚
<ul>
<li><code>zlbytes</code>ï¼šæ•´ä¸ªå‹ç¼©åˆ—è¡¨æ‰€å çš„å­—èŠ‚æ•°ã€‚</li>
<li><code>zltail</code>ï¼šåˆ°å‹ç¼©åˆ—è¡¨å°¾éƒ¨çš„åç§»é‡ã€‚</li>
<li><code>zllen</code>ï¼šå‹ç¼©åˆ—è¡¨åŒ…å«çš„èŠ‚ç‚¹æ•°ã€‚</li>
</ul>
</li>
<li><strong>æ•°æ®é¡¹</strong>ï¼šæ¯ä¸ªæ•°æ®é¡¹éƒ½æœ‰ä¸‰éƒ¨åˆ†ï¼šå‰ç½®èŠ‚ç‚¹é•¿åº¦ã€ç¼–ç æ–¹å¼å’Œå®é™…æ•°æ®ã€‚</li>
<li><strong>è¡¨å°¾</strong>ï¼šç”¨ä¸€ä¸ªå­—èŠ‚<code>0xFF</code>æ ‡è¯†å‹ç¼©åˆ—è¡¨çš„ç»“æŸã€‚</li>
</ol>
<h4 data-id="heading-1">å‹ç¼©åˆ—è¡¨çš„å®Œæ•´ç»“æ„</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/*  
 * |&lt;zlbytes&gt;|&lt;zltail&gt;|&lt;zllen&gt;|&lt;entry&gt;...|&lt;entry&gt;|&lt;zlend&gt;|
 */</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ziplist</span> {</span>
    <span class="hljs-type">uint32_t</span> zlbytes;  <span class="hljs-comment">// å‹ç¼©åˆ—è¡¨æ‰€å ç”¨çš„æ€»å­—èŠ‚æ•°</span>
    <span class="hljs-type">uint32_t</span> zltail;   <span class="hljs-comment">// åˆ°å‹ç¼©åˆ—è¡¨å°¾éƒ¨çš„åç§»é‡</span>
    <span class="hljs-type">uint16_t</span> zllen;    <span class="hljs-comment">// å‹ç¼©åˆ—è¡¨åŒ…å«çš„èŠ‚ç‚¹æ•°</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> entries[]; <span class="hljs-comment">// å‹ç¼©åˆ—è¡¨çš„å®é™…æ•°æ®éƒ¨åˆ†</span>
} ziplist;
</code></pre>
<h3 data-id="heading-2">æ•°æ®é¡¹çš„ç»“æ„</h3>
<p>æ¯ä¸ªæ•°æ®é¡¹ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li><strong>å‰ç½®èŠ‚ç‚¹é•¿åº¦ï¼ˆPrevEntryLengthï¼‰</strong>ï¼šè¡¨ç¤ºå‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ã€‚</li>
<li><strong>ç¼–ç æ–¹å¼ï¼ˆEncodingï¼‰</strong>ï¼šè¡¨ç¤ºå½“å‰èŠ‚ç‚¹çš„ç±»å‹å’Œç¼–ç æ–¹å¼ã€‚</li>
<li><strong>å®é™…æ•°æ®ï¼ˆContentï¼‰</strong>ï¼šå½“å‰èŠ‚ç‚¹çš„å®é™…æ•°æ®ã€‚</li>
</ol>
<h4 data-id="heading-3">æ•°æ®é¡¹çš„ç»“æ„å®šä¹‰</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ziplistEntry</span> {</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> prevrawlen;  <span class="hljs-comment">// å‰ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> encoding;    <span class="hljs-comment">// å½“å‰èŠ‚ç‚¹çš„æ•°æ®ç±»å‹å’Œç¼–ç æ–¹å¼</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *p;         <span class="hljs-comment">// æŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆ</span>
} ziplistEntry;
</code></pre>
<h3 data-id="heading-4">ä¸»è¦æ“ä½œ</h3>
<h4 data-id="heading-5">1. å‹ç¼©åˆ—è¡¨çš„åˆ›å»º</h4>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„å‹ç¼©åˆ—è¡¨ï¼Œå¹¶åˆå§‹åŒ–å…¶å¤´éƒ¨å’Œå°¾éƒ¨ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *<span class="hljs-title function_">ziplistNew</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> {
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> bytes = ZIPLIST_HEADER_SIZE+<span class="hljs-number">1</span>; <span class="hljs-comment">// å¤´éƒ¨ + å°¾éƒ¨</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *zl = zmalloc(bytes);

    ZIPLIST_BYTES(zl) = intrev32ifbe(bytes);  <span class="hljs-comment">// è®¾ç½® zlbytes</span>
    ZIPLIST_TAIL_OFFSET(zl) = intrev32ifbe(ZIPLIST_HEADER_SIZE);  <span class="hljs-comment">// è®¾ç½® zltail</span>
    ZIPLIST_LENGTH(zl) = <span class="hljs-number">0</span>;  <span class="hljs-comment">// è®¾ç½® zllen</span>
    zl[bytes<span class="hljs-number">-1</span>] = ZIP_END;  <span class="hljs-comment">// è®¾ç½® zlend</span>

    <span class="hljs-keyword">return</span> zl;
}
</code></pre>
<h4 data-id="heading-6">2. æ’å…¥æ“ä½œ</h4>
<p>æ’å…¥ä¸€ä¸ªæ–°çš„æ•°æ®é¡¹åˆ°å‹ç¼©åˆ—è¡¨ä¸­ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *<span class="hljs-title function_">ziplistInsert</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *zl, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *p, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *s, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> slen)</span> {
    <span class="hljs-type">size_t</span> curlen = intrev32ifbe(ZIPLIST_BYTES(zl));
    <span class="hljs-type">size_t</span> reqlen;
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> encoding = <span class="hljs-number">0</span>;
    <span class="hljs-type">long</span> <span class="hljs-type">long</span> value;

    <span class="hljs-comment">// è®¡ç®—æ’å…¥æ•°æ®æ‰€éœ€çš„ç©ºé—´</span>
    <span class="hljs-keyword">if</span> (zipTryEncoding(s, slen, &amp;value, &amp;encoding)) {
        reqlen = zipIntSize(encoding);
    } <span class="hljs-keyword">else</span> {
        reqlen = slen;
    }

    <span class="hljs-comment">// è®¡ç®—æ–°èŠ‚ç‚¹çš„æ€»é•¿åº¦</span>
    reqlen += zipStorePrevEntryLength(<span class="hljs-literal">NULL</span>, curlen);
    reqlen += zipStoreEntryEncoding(<span class="hljs-literal">NULL</span>, encoding, slen);

    zl = zrealloc(zl, curlen + reqlen);
    p = zl + (p - zl);

    <span class="hljs-comment">// æ›´æ–°å¤´éƒ¨ä¿¡æ¯</span>
    memmove(p + reqlen, p, curlen - (p - zl));
    zipStorePrevEntryLength(p, curlen);
    p += zipStoreEntryEncoding(p, encoding, slen);
    
    <span class="hljs-keyword">if</span> (encoding == ZIP_INT_8B) {
        p[<span class="hljs-number">0</span>] = (<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>)value;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (encoding == ZIP_INT_16B) {
        <span class="hljs-type">int16_t</span> i16 = (<span class="hljs-type">int16_t</span>)value;
        <span class="hljs-built_in">memcpy</span>(p, &amp;i16, <span class="hljs-keyword">sizeof</span>(i16));
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (encoding == ZIP_INT_32B) {
        <span class="hljs-type">int32_t</span> i32 = (<span class="hljs-type">int32_t</span>)value;
        <span class="hljs-built_in">memcpy</span>(p, &amp;i32, <span class="hljs-keyword">sizeof</span>(i32));
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (encoding == ZIP_INT_64B) {
        <span class="hljs-type">int64_t</span> i64 = (<span class="hljs-type">int64_t</span>)value;
        <span class="hljs-built_in">memcpy</span>(p, &amp;i64, <span class="hljs-keyword">sizeof</span>(i64));
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">memcpy</span>(p, s, slen);
    }

    ZIPLIST_BYTES(zl) = intrev32ifbe(curlen + reqlen);
    ZIPLIST_TAIL_OFFSET(zl) = intrev32ifbe(curlen + reqlen - (p - zl));
    ZIPLIST_LENGTH(zl) = intrev16ifbe(intrev16ifbe(ZIPLIST_LENGTH(zl)) + <span class="hljs-number">1</span>);

    <span class="hljs-keyword">return</span> zl;
}
</code></pre>
<h4 data-id="heading-7">3. åˆ é™¤æ“ä½œ</h4>
<p>ä»å‹ç¼©åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªæ•°æ®é¡¹ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *<span class="hljs-title function_">ziplistDelete</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *zl, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> **p)</span> {
    <span class="hljs-type">size_t</span> curlen = intrev32ifbe(ZIPLIST_BYTES(zl));
    <span class="hljs-type">size_t</span> reqlen = zipRawEntryLength(*p);
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *ptr = *p;
    <span class="hljs-type">size_t</span> offset = ptr - zl;

    <span class="hljs-comment">// åˆ é™¤èŠ‚ç‚¹</span>
    memmove(ptr, ptr+reqlen, curlen-(offset+reqlen));
    zl = zrealloc(zl, curlen-reqlen);

    <span class="hljs-comment">// æ›´æ–°å¤´éƒ¨ä¿¡æ¯</span>
    ZIPLIST_BYTES(zl) = intrev32ifbe(curlen-reqlen);
    ZIPLIST_TAIL_OFFSET(zl) = intrev32ifbe(intrev32ifbe(ZIPLIST_TAIL_OFFSET(zl))-reqlen);
    ZIPLIST_LENGTH(zl) = intrev16ifbe(intrev16ifbe(ZIPLIST_LENGTH(zl))<span class="hljs-number">-1</span>);

    <span class="hljs-keyword">return</span> zl;
}
</code></pre>
<h3 data-id="heading-8">è¾…åŠ©å‡½æ•°</h3>
<h4 data-id="heading-9">ç¼–ç å’Œå­˜å‚¨é•¿åº¦</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">zipStorePrevEntryLength</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *p, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> len)</span> {
    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">return</span> (len &lt; ZIP_BIG_PREVLEN) ? <span class="hljs-number">1</span> : <span class="hljs-number">5</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (len &lt; ZIP_BIG_PREVLEN) {
            p[<span class="hljs-number">0</span>] = len;
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            p[<span class="hljs-number">0</span>] = ZIP_BIG_PREVLEN;
            <span class="hljs-built_in">memcpy</span>(p+<span class="hljs-number">1</span>, &amp;len, <span class="hljs-keyword">sizeof</span>(len));
            <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
        }
    }
}

<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">zipStoreEntryEncoding</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *p, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> encoding, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> rawlen)</span> {
    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">if</span> (ZIP_IS_STR(encoding)) {
            <span class="hljs-keyword">if</span> (rawlen &lt;= <span class="hljs-number">0x3f</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rawlen &lt;= <span class="hljs-number">0x3fff</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (ZIP_IS_STR(encoding)) {
            <span class="hljs-keyword">if</span> (rawlen &lt;= <span class="hljs-number">0x3f</span>) {
                p[<span class="hljs-number">0</span>] = ZIP_STR_06B | rawlen;
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rawlen &lt;= <span class="hljs-number">0x3fff</span>) {
                p[<span class="hljs-number">0</span>] = ZIP_STR_14B | ((rawlen &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0x3f</span>);
                p[<span class="hljs-number">1</span>] = rawlen &amp; <span class="hljs-number">0xff</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                p[<span class="hljs-number">0</span>] = ZIP_STR_32B;
                <span class="hljs-built_in">memcpy</span>(p+<span class="hljs-number">1</span>, &amp;rawlen, <span class="hljs-keyword">sizeof</span>(rawlen));
                <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
            }
        } <span class="hljs-keyword">else</span> {
            p[<span class="hljs-number">0</span>] = encoding;
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-10">ç¤ºä¾‹ä½¿ç”¨</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *zl = ziplistNew();
    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *p;

    <span class="hljs-comment">// æ’å…¥æ•°æ®é¡¹</span>
    zl = ziplistInsert(zl, zl + ZIPLIST_HEADER_SIZE, (<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *)<span class="hljs-string">"hello"</span>, <span class="hljs-number">5</span>);
    zl = ziplistInsert(zl, zl + ZIPLIST_HEADER_SIZE, (<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *)<span class="hljs-string">"world"</span>, <span class="hljs-number">5</span>);

    p = zl + ZIPLIST_HEADER_SIZE;
    <span class="hljs-keyword">while</span> (*p != ZIP_END) {
        <span class="hljs-comment">// è®¿é—®æ•°æ®é¡¹</span>
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, p + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ‰“å°æ•°æ®é¡¹å†…å®¹</span>
        p += zipRawEntryLength(p);
    }

    <span class="hljs-comment">// åˆ é™¤æ•°æ®é¡¹</span>
    zl = ziplistDelete(zl, &amp;p);

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>æ€»ç»“ï¼šå‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰é€šè¿‡ç´§å‡‘çš„å†…å­˜å¸ƒå±€å’Œçµæ´»çš„ç¼–ç æ–¹å¼å®ç°äº†é«˜æ•ˆçš„å†…å­˜åˆ©ç”¨ã€‚å®ƒé€‚ç”¨äºå­˜å‚¨çŸ­å°æ•°æ®çš„åœºæ™¯ï¼Œé€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æ•°æ®ç»“æ„ï¼Œä¿è¯äº†é«˜æ•ˆçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Hologres æ„å»ºæ™ºèƒ½é©¾é©¶å›¾åƒé«˜æ€§èƒ½åˆ†æç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7573708620870975540</link>    <guid>https://juejin.cn/post/7573708620870975540</guid>    <pubDate>2025-11-18T10:16:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573708620870975540" data-draft-id="7573679820632342563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Hologres æ„å»ºæ™ºèƒ½é©¾é©¶å›¾åƒé«˜æ€§èƒ½åˆ†æç³»ç»Ÿ"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2025-11-18T10:16:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Hologres æ„å»ºæ™ºèƒ½é©¾é©¶å›¾åƒé«˜æ€§èƒ½åˆ†æç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T10:16:35.000Z" title="Tue Nov 18 2025 10:16:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æ·±å…¥å‘å±•ï¼Œä¼ä¸šå¯¹æ•°æ®çš„åˆ©ç”¨å·²ä¸å†å±€é™äºä¼ ç»Ÿçš„ç»“æ„åŒ–æ•°æ®åˆ†æã€‚è¶Šæ¥è¶Šå¤šçš„è¡Œä¸šå¼€å§‹ä¾èµ–å¤šæ¨¡æ€æ•°æ®è¿›è¡Œæ™ºèƒ½å†³ç­–ï¼Œæ¶µç›–å•†å“æ¨èã€é©¾é©¶è¡Œä¸ºåˆ†æã€é‡‘èé£æ§ã€æ•™è‚²ä¸ªæ€§åŒ–ç­‰å¤šä¸ªåœºæ™¯ã€‚è¿™äº›åœºæ™¯æ™®éå…·å¤‡ä¸€ä¸ªå…±åŒç‰¹å¾ï¼š<strong>æ•°æ®å½¢æ€å¤šæ ·ã€åˆ†æéœ€æ±‚å¤æ‚ã€æ£€ç´¢æ–¹å¼å¤šå…ƒ</strong>ã€‚Hologres 4.0çš„æ•´ä½“æ¶æ„å›´ç»•â€œå¤šæ¨¡æ€åˆ†ææ£€ç´¢ all-in-oneâ€è®¾è®¡ï¼Œå®ç°â€œä¸€ä»½æ•°æ®ã€ä¸€ä»½è®¡ç®—ã€å¤šæ¨¡åˆ†æâ€çš„ä¸€ç«™å¼ç›®æ ‡ï¼Œä¸€æ¡SQLå³å¯å®Œæˆä»æ•°æ®æ¥å…¥ã€AIåŠ å·¥åˆ°å¤šæ¨¡æŸ¥è¯¢çš„å…¨æµç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/954b03bd631747bc9ecdbc804bc7276b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764065957&amp;x-signature=UXzee7usV9IDcPSda96iKERLGV8%3D" alt="image.png" loading="lazy"/></p>
<p>æ™ºèƒ½é©¾é©¶åœºæ™¯ä¸­ï¼Œå¯ä»¥çœ‹åˆ°é‡‡é›†çš„è½¦æœºå„ç§ä¿¡å·æ•°æ®ï¼Œä»¥å¤§å®½è¡¨çš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚è¿™äº›ä¿¡å·æ•°æ®é€šå¸¸ä¼šåŒ…å«ç»“æ„åŒ–æ•°æ®ï¼ˆè½¦è¾†çŠ¶æ€ã€è½¦æœºç‰ˆæœ¬ç­‰ï¼‰ã€åŠç»“æ„åŒ–æ•°æ®ï¼ˆè½¦æœºä¿¡å·ï¼‰ã€éç»“æ„åŒ–æ•°æ®ï¼ˆè½¨è¿¹ç…§ç‰‡ç­‰ï¼‰ã€‚åœ¨ä¸šåŠ¡åº”ç”¨çš„æ—¶å€™ï¼Œè¦è¿›è¡Œç‚¹æŸ¥ã€OLAPåˆ†æã€å…¨æ–‡æ£€ç´¢ã€å‘é‡æ£€ç´¢ã€æ··åˆæ£€ç´¢ç­‰å¤šç§åœºæ™¯ã€‚</p>
<p>ä¼ ç»Ÿæ¶æ„å¾€å¾€ä¾èµ–å¤šä¸ªç‹¬ç«‹å¼•æ“ååŒå·¥ä½œï¼Œå¯¼è‡´ç³»ç»Ÿå¤æ‚ã€æˆæœ¬é«˜æ˜‚ã€æ•°æ®ä¸ä¸€è‡´ç­‰é—®é¢˜é¢‘å‘ã€‚AIæ—¶ä»£çš„åº”ç”¨éœ€è¦åœ¨ä¸€ä¸ªç»Ÿä¸€å¹³å°ä¸Šå®ŒæˆOLAPåˆ†æã€ç‚¹æŸ¥æœåŠ¡ã€å…¨æ–‡æ£€ç´¢ã€å‘é‡æœç´¢ä»¥åŠAIæ¨ç†ç­‰å¤šç§èƒ½åŠ›çš„èåˆä½¿ç”¨ã€‚æœ¬æ–‡ä»¥è‡ªåŠ¨é©¾é©¶å›¾åƒæ•°æ®é›†ä¸ºä¾‹ï¼Œä»‹ç»Hologreså¦‚ä½•åœ¨ä¼ ç»Ÿçš„ç»“æ„åŒ–åˆ†æçš„åŸºç¡€ä¸Šï¼Œå®Œæˆæ–‡æœå›¾ã€å›¾æœå›¾ç­‰å¤šæ¨¡æ€åˆ†æåœºæ™¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e2915b7deb45cea3632a5a2ee92aea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764065957&amp;x-signature=gavDrk9mOWaDApHcEgrFfrQ12UA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>åŸºäºHologresæ„å»ºè‡ªåŠ¨é©¾é©¶å›¾åƒé«˜æ€§èƒ½åˆ†æç³»ç»Ÿ</strong></h2>
<p>åœ¨è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿä¸­ï¼Œè½¦è¾†å›¾ç‰‡åˆ†ææ˜¯ç¯å¢ƒæ„ŸçŸ¥æ¨¡å—çš„æ ¸å¿ƒåœºæ™¯ä¹‹ä¸€ï¼Œä¸»è¦ç”¨äºå®æ—¶è§£æè½¦è¾†å†…å¤–éƒ¨æ‘„åƒå¤´æ•æ‰çš„è§†è§‰ä¿¡æ¯ï¼Œä»¥å®ç°å¯¹å‘¨å›´ç¯å¢ƒçš„ç²¾å‡†ç†è§£ä¸å†³ç­–ã€‚æœ¬æ–‡ä»¥BDDè‡ªåŠ¨é©¾é©¶æ•°æ®é›†ä¸ºä¾‹æ¨¡æ‹Ÿè‡ªåŠ¨é©¾é©¶åœºæ™¯ï¼Œæ¨¡æ‹ŸçœŸå®é©¾é©¶åœºæ™¯ï¼Œé‡‡é›†10ä¸‡å¼ åŒ…æ‹¬é©¾é©¶åŒºåŸŸã€åœ°ç†ã€ç¯å¢ƒã€å¤©æ°”å¤šæ ·æ€§ç­‰æ•°æ®çš„å›¾ç‰‡ï¼Œé€šè¿‡å¯¹å›¾ç‰‡çš„åˆ†æä¸æ£€ç´¢ï¼Œè¿›è¡Œäº†è¡Œé©¶è½¨è¿¹åˆ†æã€ç¯å¢ƒæ„ŸçŸ¥ä¼˜åŒ–åŠè¡Œäººè½¦è¾†è¯†åˆ«ç²¾åº¦æå‡ç­‰å…¨æ ˆæŠ€æœ¯éªŒè¯ï¼Œæå‡ç³»ç»Ÿå¯¹å¤æ‚äº¤é€šåœºæ™¯çš„é€‚åº”èƒ½åŠ›ã€å®‰å…¨æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p>åŸºäºHologresæ„å»ºè‡ªåŠ¨é©¾é©¶å›¾åƒé«˜æ€§èƒ½åˆ†æç³»ç»ŸåŒ…å«çš„ä¸»è¦èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ul>
<li>éç»“æ„åŒ–æ•°æ®ï¼ˆObject Tableï¼‰ï¼šæ”¯æŒé€šè¿‡è¡¨çš„å½¢å¼è¯»å–OSSä¸­éç»“æ„åŒ–æ•°æ®ï¼ˆPDFã€IMAGEã€PPTç­‰ï¼‰ã€‚</li>
<li>AI Functionï¼šåœ¨Hologresä¸­å¯ä»¥ç”¨æ ‡å‡†SQLçš„æ–¹å¼è°ƒç”¨Functionï¼Œè‡ªåŠ¨è°ƒç”¨å†…ç½®å¤§æ¨¡å‹ï¼Œå®ŒæˆAIæœåŠ¡å»ºè®¾åœºæ™¯ã€‚
<ul>
<li>æ•°æ®åŠ å·¥ï¼šæä¾›Embedã€Chunkç®—å­ï¼Œå¯ä»¥å¯¹éç»“æ„åŒ–æ•°æ®åŠ å·¥æˆç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼Œæ— éœ€ä½¿ç”¨å¤–éƒ¨ç®—æ³•å°±èƒ½è‡ªåŠ¨Embedã€‚</li>
<li>æ•°æ®æ£€ç´¢å’Œåˆ†æï¼šæä¾›ai_genã€ai_summarizeç­‰ç®—å­ï¼Œä½¿ç”¨SQLå°±èƒ½å¯¹æ•°æ®è¿›è¡Œæ¨ç†ã€é—®é¢˜æ€»ç»“ä»¥åŠç¿»è¯‘ç­‰èƒ½åŠ›ã€‚</li>
</ul>
</li>
<li>Dynamic Tableä»‹ç»ï¼šæ”¯æŒå¢é‡åˆ·æ–°æ¨¡å¼å¯¹éç»“æ„åŒ–æ•°æ®è‡ªåŠ¨åŠ å·¥ï¼Œæ¯æ¬¡åªè®¡ç®—å¢é‡çš„æ•°æ®æœ‰æ•ˆå‡å°‘é‡å¤è®¡ç®—ï¼Œé™ä½èµ„æºåˆ©ç”¨ç‡ã€‚</li>
<li>å‘é‡æ£€ç´¢ï¼šæ”¯æŒæ ‡å‡†SQLçš„å‘é‡æ£€ç´¢ï¼Œç”¨äºéç»“æ„åŒ–æ•°æ®çš„ç›¸ä¼¼åº¦æœç´¢ã€åœºæ™¯è¯†åˆ«ç­‰ï¼Œåœ¨åŒä¸€ä¸ªæŸ¥è¯¢ä¸­å¯ä»¥è‡ªç”±åœ°å®ç°å‘é‡å’Œæ ‡é‡çš„æ£€ç´¢ã€‚</li>
<li>å…¨æ–‡æ£€ç´¢ï¼šé€šè¿‡å€’æ’ç´¢å¼•ã€åˆ†è¯ç­‰æœºåˆ¶å®ç°å¯¹éç»“æ„åŒ–æ•°æ®çš„é«˜æ•ˆæ£€ç´¢ï¼Œæ”¯æŒå…³é”®è¯åŒ¹é…ã€çŸ­è¯­æ£€ç´¢ç­‰ä¸°å¯Œçš„æ£€ç´¢æ–¹å¼ï¼Œå®ç°æ›´åŠ çµæ´»çš„æ£€ç´¢ã€‚</li>
</ul>
<h2 data-id="heading-1"><strong>æ–¹æ¡ˆä¼˜åŠ¿</strong></h2>
<p>é€šè¿‡å¦‚ä¸Šæ ¸å¿ƒèƒ½åŠ›ï¼Œåœ¨Hologresä¸­å¯¹å›¾ç‰‡æ£€ç´¢çš„æ ¸å¿ƒä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å®Œæ•´çš„<strong><strong>AI</strong></strong>æ•°æ®å¤„ç†æµç¨‹</strong>ï¼šæ¶µç›–ä»æ•°æ®Embedã€Chunkã€å¢é‡åŠ å·¥å’Œæ£€ç´¢/åˆ†æçš„å…¨æµç¨‹ï¼Œä¸ä½¿ç”¨å¤§æ•°æ®ç³»ç»Ÿä¸€æ ·è½»æ¾æ„å»ºAIåº”ç”¨ã€‚</li>
<li><strong>æ ‡å‡†<strong><strong>SQL</strong></strong>åŠ å·¥å›¾ç‰‡æ•°æ®</strong>ï¼šæ— éœ€ä½¿ç”¨ä¸“ç”¨å¼€å‘è¯­è¨€ï¼Œ<strong>çº¯SQL</strong>å°±èƒ½å®Œæˆå›¾ç‰‡æ•°æ®æå–ã€åŠ å·¥ã€‚</li>
<li><strong>ä¸€ä¸ªå¹³å°æ”¯æŒè·¨æ¨¡æ€æ£€ç´¢</strong>ï¼šæ”¯æŒä»¥æ–‡æœå›¾ã€ä»¥å›¾æœå›¾ï¼Œè¯­ä¹‰ç†è§£çªç ´å…³é”®è¯å±€é™ï¼Œåœ¨Hologreså°±èƒ½å®ç°è·¨æ¨¡æ€æ£€ç´¢ã€‚</li>
<li><strong>æ£€ç´¢æ›´ç²¾å‡†ã€çµæ´»å’Œæ™ºèƒ½</strong>ï¼šå¯ä»¥è½»æ¾æ„å»ºâ€œå…³é”®è¯+è¯­ä¹‰+å¤šæ¨¡æ€â€çš„æ··åˆæ£€ç´¢é“¾è·¯ï¼Œè¦†ç›–ä»ç²¾å‡†æœç´¢åˆ°æ„å›¾ç†è§£çš„å…¨åœºæ™¯éœ€æ±‚ã€‚è¿˜èƒ½ç»“åˆAI Functionå®ç°å¯¹ç”¨æˆ·æ„å›¾çš„æ·±åº¦ç†è§£ï¼Œè¯­ä¹‰å…³è”å’Œä¸Šä¸‹æ–‡æ¨ç†ï¼Œå®ç°æ›´æ™ºèƒ½çš„æ£€ç´¢èƒ½åŠ›ã€‚</li>
<li><strong>æ•°æ®ä¸å‡ºåº“ï¼Œå®‰å…¨æ€§æ›´é«˜</strong>ï¼šä¸éœ€è¦å°†æ•°æ®å¯¼å‡ºåˆ°å¤–éƒ¨ç³»ç»Ÿï¼Œä¸Hologresçš„å¤šç§å®‰å…¨èƒ½åŠ›æ— ç¼é›†æˆï¼Œå¹¶é«˜æ•ˆä¿æŠ¤æ•°æ®å®‰å…¨ã€‚</li>
</ul>
<h2 data-id="heading-2">æ–¹æ¡ˆæµç¨‹</h2>
<p>æœ¬æ¬¡æ–¹æ¡ˆçš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ•°æ®é›†å‡†å¤‡ã€‚</li>
</ol>
<p>å°†å›¾ç‰‡æ•°æ®ä¸Šä¼ è‡³OSSå­˜å‚¨ã€‚</p>
<ol start="2">
<li>å›¾ç‰‡åŠ å·¥ã€‚</li>
</ol>
<p>ä½¿ç”¨Object Tableè¯»å–å›¾ç‰‡çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œç„¶ååˆ›å»ºå¢é‡åˆ·æ–°çš„Dynamic Tableå¯¹æ•°æ®è¿›è¡ŒEmbedï¼Œå¹¶ä¸ºDynamic Tableæ„å»ºå‘é‡ç´¢å¼•ï¼Œä»¥ä¾¿åç»­æ£€ç´¢èƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç´¢å¼•çš„åŠŸèƒ½ã€‚</p>
<ol start="3">
<li>ä½¿ç”¨ai_embedç®—å­å°†è‡ªç„¶è¯­è¨€çš„é—®é¢˜è¿›è¡ŒEmbeddingï¼Œç„¶åä½¿ç”¨å‘é‡æ£€ç´¢è¾“å‡ºTop Nçš„ç»“æœã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61d6d9715947417bbfa09193822f216c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764065957&amp;x-signature=GSSEtM2lHOc6a8afhygWFOuFuuc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>å‡†å¤‡å·¥ä½œ</strong></h2>
<ol>
<li>æ•°æ®å‡†å¤‡</li>
</ol>
<p>æœ¬æ–‡ä½¿ç”¨ModelScopeå…¬å¼€çš„BDD100K è‡ªåŠ¨é©¾é©¶å›¾åƒæ•°æ®é›†ä¸­<code>val.zip</code>æ–‡ä»¶ï¼Œæ¨¡æ‹Ÿå¤šä¸ªè½¦è¾†çœŸæ˜¯è¡Œé©¶æ•°æ®ã€‚</p>
<ol start="2">
<li>ç¯å¢ƒå‡†å¤‡</li>
</ol>
<ul>
<li>è´­ä¹°Hologres V4.0åŠä»¥ä¸Šç‰ˆæœ¬å®ä¾‹å¹¶åˆ›å»ºæ•°æ®åº“ã€‚</li>
<li>è´­ä¹°AIèµ„æºã€‚</li>
</ul>
<p>æœ¬æ–‡ä»¥<code>large-96core-512GB-384GB</code>ã€1ä¸ªèŠ‚ç‚¹ä¸ºä¾‹ã€‚</p>
<ul>
<li>æ¨¡å‹éƒ¨ç½²ã€‚æœ¬æ¬¡æ–¹æ¡ˆä½¿ç”¨çš„æ¨¡å‹ä»¥åŠåˆ†é…çš„èµ„æºä¸ºï¼š</li>
</ul>







<table><thead><tr><th/><th/></tr></thead></table>





































<table><thead><tr><th align="left"><strong>ç±»åˆ«</strong></th><th align="left"><strong>ç¤ºä¾‹å€¼</strong></th></tr></thead><tbody><tr><td align="left"><strong>æ¨¡å‹åç§°</strong></td><td align="left">image_embed</td></tr><tr><td align="left"><strong>æ¨¡å‹ç±»åˆ«</strong></td><td align="left">clip-ViT-B-32</td></tr><tr><td align="left"><strong>æ¨¡å‹ä½œç”¨æè¿°</strong></td><td align="left">å›¾ç‰‡Embedding</td></tr><tr><td align="left"><strong>å•å‰¯æœ¬CPUï¼ˆCoreï¼‰</strong></td><td align="left">7</td></tr><tr><td align="left"><strong>å•å‰¯æœ¬å†…å­˜</strong></td><td align="left">30 GB</td></tr><tr><td align="left"><strong>å•å‰¯æœ¬GPU</strong></td><td align="left">1å¡(96 GB)</td></tr><tr><td align="left"><strong>èµ„æºå‰¯æœ¬æ•°</strong></td><td align="left">1</td></tr></tbody></table>
<p><strong>è¯´æ˜ï¼š</strong>ä¸Šè¿°æ¨¡å‹çš„èµ„æºå‡ä¸ºé»˜è®¤åˆ†é…çš„èµ„æºã€‚</p>
<h2 data-id="heading-4"><strong>æ“ä½œæ­¥éª¤</strong></h2>
<p>1.ä¸‹è½½å›¾ç‰‡æ•°æ®å¹¶å¯¼å…¥è‡³OSSã€‚</p>
<ul>
<li>ä¸‹è½½BDD100K è‡ªåŠ¨é©¾é©¶å›¾åƒæ•°æ®é›†ä¸­çš„æ–‡ä»¶ã€‚</li>
<li>ç™»å½•OSSç®¡ç†æ§åˆ¶å°ï¼Œåˆ›å»ºBucketå¹¶å°†å·²ä¸‹è½½çš„æ–‡ä»¶ä¸Šä¼ è‡³è¯¥Bucketè·¯å¾„ä¸‹ã€‚ä¸Šä¼ æ“ä½œè¯¦æƒ…ï¼Œè¯·å‚è§ç®€å•ä¸Šä¼ ã€‚</li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong>æ–‡ä»¶å¤¹åç§°è¯·ä½¿ç”¨å°å†™ã€‚</p>
<ol start="2">
<li>è´¦å·æˆæƒã€‚</li>
</ol>
<p>a. ç™»å½•RAMæ§åˆ¶å°ï¼Œåˆ›å»ºé˜¿é‡Œäº‘RAMè§’è‰²å¹¶æˆäºˆOSSçš„ç›¸å…³æƒé™ã€‚
æ¨èæˆäºˆAliyunOSSReadOnlyAccessæƒé™ã€‚</p>
<p>b.ä¸ºä¸Šè¿°é˜¿é‡Œäº‘RAMè§’è‰²æ·»åŠ ç™»å½•å’ŒHologresçš„è®¿é—®æƒé™ã€‚</p>
<ul>
<li>é˜¿é‡Œäº‘è´¦å·ï¼ˆä¸»è´¦å·ï¼‰</li>
</ul>
<p>ä¿®æ”¹RAMè§’è‰²çš„ä¿¡ä»»ç­–ç•¥ã€‚é‡ç‚¹éœ€æ›´æ–°å¦‚ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>Action:æ›´æ–°ä¸º sts:AssumeRole.</li>
<li>Service:æ›´æ–°ä¸º hologres.aliyuncs.com</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sts:AssumeRole"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Principal"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"RAM"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"acs:ram::1866xxxx:root"</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Service"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"hologres.aliyuncs.com"</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"Version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li>RAMç”¨æˆ·ï¼ˆå­è´¦å·ï¼‰</li>
</ul>
<ol>
<li>ä¸ºRAMç”¨æˆ·æˆæƒã€‚</li>
</ol>
<ul>
<li>åœ¨<strong>æƒé™ç®¡ç† &gt; æƒé™ç­–ç•¥</strong>é¡µé¢ï¼Œå•å‡»<strong>åˆ›å»ºæƒé™ç­–ç•¥</strong>ï¼Œå¹¶é€‰æ‹©<strong>è„šæœ¬ç¼–è¾‘</strong>æ¨¡å¼åˆ›å»ºæƒé™ç­–ç•¥ã€‚å…·ä½“æ“ä½œï¼Œè¯·å‚è§åˆ›å»ºè‡ªå®šä¹‰æƒé™ç­–ç•¥</li>
</ul>
<p>Hologreså¯é€šè¿‡è¯¥ç­–ç•¥åˆ¤æ–­å½“å‰RAMç”¨æˆ·æ˜¯å¦å…·å¤‡åˆ›å»ºå¯¹åº”RAMè§’è‰²çš„æƒé™ã€‚æƒé™ç­–ç•¥å†…å®¹å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"Version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hologram:GrantAssumeRole"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Resource"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;arnè´¦å·&gt;"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li>åœ¨<strong>èº«ä»½ç®¡ç† &gt; ç”¨æˆ·</strong>é¡µé¢ï¼Œå•å‡»ç›®æ ‡RAMç”¨æˆ·<strong>æ“ä½œ</strong>åˆ—ä¸­çš„<strong>æ·»åŠ æƒé™</strong>ï¼Œä¸ºRAMç”¨æˆ·ï¼ˆå­è´¦å·ï¼‰æˆäºˆä¸Šè¿°æ­¥éª¤å·²åˆ›å»ºçš„æƒé™ç­–ç•¥ã€‚å…·ä½“æ“ä½œï¼Œè¯·å‚è§ä¸ºRAMç”¨æˆ·æˆæƒã€‚</li>
</ul>
<ol start="2">
<li>ä¸ºå·²åˆ›å»ºçš„RAMè§’è‰²æˆæƒã€‚</li>
</ol>
<p>ä¿®æ”¹RAMè§’è‰²çš„ä¿¡ä»»ç­–ç•¥ã€‚é‡ç‚¹éœ€æ›´æ–°å¦‚ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>Actionï¼šæ›´æ–°ä¸ºsts:AssumeRoleã€‚</li>
<li>Serviceï¼šæ›´æ–°ä¸ºhologres.aliyuncs.comã€‚</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sts:AssumeRole"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"Principal"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"RAM"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"acs:ram::1866xxxx:root"</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Service"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"hologres.aliyuncs.com"</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"Version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li>å¯¹å›¾ç‰‡è¿›è¡ŒEmbeddingã€‚</li>
</ol>
<p>åˆ›å»ºObject Tableå’ŒDynamic Tableè¯»å–å›¾ç‰‡å…ƒæ•°æ®ï¼Œå¹¶å¯¹å›¾ç‰‡åŠ å·¥Embeddingã€‚å› ä¸ºæµç¨‹è¾ƒé•¿ï¼ŒHologresç›´æ¥å°†è¿‡ç¨‹å°è£…æˆé™„å½•ï¼šå­˜å‚¨è¿‡ç¨‹ã€‚è¯¥å­˜å‚¨è¿‡ç¨‹åŒ…æ‹¬çš„èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€å¼ Object Tableï¼Œç”¨äºè¯»å–å›¾ç‰‡çš„å…ƒæ•°æ®ã€‚</li>
<li>åˆ›å»ºä¸€å¼ å¢é‡åˆ·æ–°çš„Dynamic Tableç»“æœè¡¨ï¼Œç”¨äºå­˜å‚¨åŠ å·¥åçš„æ•°æ®ï¼Œå¹¶è®¾ç½®å‘é‡ç´¢å¼•ã€‚è¯¥Dynamic Tableæœªè®¾ç½®è‡ªåŠ¨åˆ·æ–°ï¼Œéœ€è¦æ‰‹åŠ¨åˆ·æ–°ã€‚</li>
<li>Dynamic Tableçš„åˆ·æ–°è¿‡ç¨‹ä¸­ä¼šä½¿ç”¨ai_embedå¯¹å›¾ç‰‡è¿›è¡ŒEmbeddingã€‚</li>
</ul>
<p>è¯¥å­˜å‚¨è¿‡ç¨‹çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--å­˜å‚¨è¿‡ç¨‹ï¼Œåˆ›å»ºObject Tableå’ŒDynamic Tableï¼Œä½¿ç”¨dtå¯¹å›¾ç‰‡è¿›è¡ŒEmbedding</span>
<span class="hljs-keyword">CALL</span> create_image_table_from_oss(
    oss_path <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'oss://xxxx/bdd100k/val/images'</span>,
    oss_endpoint <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'oss-cn-hangzhou-internal.aliyuncs.com'</span>,
    oss_role_arn <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'acs:ram::1xxxx:role/xxxx'</span>,
    image_table <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'public.dt_image_bdd100k'</span>,
    embedding_model <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span><span class="hljs-string">'image_embed'</span>
);
</code></pre>
<ol start="4">
<li>åˆ·æ–°ç»“æœè¡¨ã€‚</li>
</ol>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤åˆ›å»ºçš„Object Tableå’ŒDynamic Tableéƒ½éœ€è¦æ‰‹åŠ¨åˆ·æ–°ï¼Œæ‰èƒ½å®Œæˆæ•°æ®åŠ å·¥ã€‚è¯¥æ­¥éª¤å·²è¢«å°è£…ä¸ºé™„å½•ï¼šå­˜å‚¨è¿‡ç¨‹ï¼Œè¯¥å­˜å‚¨è¿‡ç¨‹åŒ…æ‹¬çš„èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ·æ–°ä¸€æ¬¡Object Tableè·å–å›¾ç‰‡å…ƒæ•°æ®ã€‚</li>
<li>åˆ·æ–°ä¸€æ¬¡Dynamic Tableï¼Œè¿›è¡Œå›¾ç‰‡çš„EmbeddingåŠ å·¥ã€‚</li>
</ul>
<p>è¯¥å­˜å‚¨è¿‡ç¨‹çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--åˆ·æ–°Dynamic Tableï¼Œå°†å›¾ç‰‡Embedding</span>
<span class="hljs-keyword">CALL</span> refresh_image_table(
    image_table <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-string">'public.dt_image_bdd100k'</span>
);
</code></pre>
<ol start="5">
<li>å›¾ç‰‡æ£€ç´¢ã€‚</li>
</ol>
<p>å›¾ç‰‡æ•°æ®å¤„ç†è¿‡åå¯ä»¥ä½¿ç”¨å‘é‡æ£€ç´¢å’ŒAI Functionè¿›è¡Œæ£€ç´¢ã€‚</p>
<p><strong>ä»¥æ–‡æœå›¾ï¼š</strong></p>
<p>å¦‚æœä½¿ç”¨clip-ViT-B-32æ¨¡å‹è¿›è¡Œä»¥æ–‡æœå›¾ï¼Œé—®é¢˜è¯·ä½¿ç”¨è‹±æ–‡ã€‚å¦‚æœæ˜¯ä¸­æ–‡é—®é¢˜ï¼Œè¯·æ¢æˆLLMæ¨¡å‹ã€‚ä»¥æ–‡æœå›¾çš„ç¤ºä¾‹SQLå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--ä»¥æ–‡æœå›¾</span>
<span class="hljs-keyword">SELECT</span>
    object_uri,
    approx_cosine_distance (embedding_vector, ai_embed (<span class="hljs-string">'image_embed'</span>, <span class="hljs-string">'a red car in the rain'</span>)) <span class="hljs-keyword">AS</span> score
<span class="hljs-keyword">FROM</span>
    public.dt_image_bdd100k
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
    score <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">1</span>;

                            object_uri                         <span class="hljs-operator">|</span>  score   
<span class="hljs-comment">---------------------------------------------------------------+-------</span>
 oss:<span class="hljs-operator">/</span><span class="hljs-comment">/****/</span>bd<span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span>k<span class="hljs-operator">/</span>val<span class="hljs-operator">/</span>images<span class="hljs-operator">/</span>b836b14a<span class="hljs-operator">-</span>fb13<span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span>.jpgï½œ <span class="hljs-number">0.322337151</span>
(<span class="hljs-number">5</span> <span class="hljs-keyword">rows</span>)
</code></pre>
<p>åœ¨OSSä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªç»“æœçš„å›¾ç‰‡å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74b4c914d822445ebf39ca0181b51a47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764065957&amp;x-signature=pKp7g4Lu4ubZpCntviH6qdPW6H8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä»¥å›¾æœå›¾ï¼š</strong></p>
<p>ä»¥å›¾æœå›¾çš„ç¤ºä¾‹SQLå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--ä»¥å›¾æœå›¾</span>
<span class="hljs-keyword">SELECT</span>
    object_uri,
    approx_cosine_distance (embedding_vector, ai_embed (<span class="hljs-string">'image_embed'</span>, to_file (<span class="hljs-string">'oss://xxxx/val/images/b9b53753-91a5d5f8.jpg'</span>, <span class="hljs-string">'oss-cn-hangzhou-internal.aliyuncs.com'</span>, <span class="hljs-string">'acs:ram::18xxx:role/xxx'</span>))) <span class="hljs-keyword">AS</span> score
<span class="hljs-keyword">FROM</span>
    public.dt_image_bdd100k
<span class="hljs-keyword">WHERE</span>
    object_uri <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">'oss://hm-**-hangzhou/bd****k/val/images/b9b53753-91a5****.jpg'</span> <span class="hljs-comment">--æ’é™¤è‡ªèº«</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
    score <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">1</span>;

                          object_uri                           <span class="hljs-operator">|</span>  score   
<span class="hljs-comment">---------------------------------------------------------------+------</span>
 oss:<span class="hljs-operator">/</span><span class="hljs-comment">/****/</span>bd<span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span>k<span class="hljs-operator">/</span>val<span class="hljs-operator">/</span>images<span class="hljs-operator">/</span>c0e9b7c4<span class="hljs-operator">-</span>cd8b<span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span>.jpg <span class="hljs-operator">|</span> <span class="hljs-number">0.918008327</span>
</code></pre>
<p>åœ¨OSSä¸­æ‰¾åˆ°å¬å›çš„å›¾ç‰‡ï¼Œå¹¶åšå¯¹æ¯”ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98bb4d9d1b17467990c1a03b84160c69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764065957&amp;x-signature=3ZVmWanJAhS%2B0GlZ%2Bd3H1XZjW%2FY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">é™„å½•ï¼šå­˜å‚¨è¿‡ç¨‹</h2>
<ul>
<li>åˆ›å»ºObject Tableå’ŒDynamic Table </li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- QueryæŸ¥è¯¢ç»“æœé»˜è®¤é™åˆ¶200è¡Œï¼Œå¦‚éœ€æ›´å¤šæ•°æ®è¯·ä¿®æ”¹limitï¼Œæœ€å¤šå±•ç¤º10000è¡Œæˆ–20Mã€‚</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> create_image_table_from_oss(
    oss_path TEXT,
    oss_endpoint TEXT,
    oss_role_arn TEXT,
    image_table TEXT,
    embedding_model TEXT <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
    overwrite <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span>
)
<span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
    image_schema_name TEXT;
    image_table_name TEXT;
    obj_table_name TEXT;
    full_image_table_ident TEXT;
    full_obj_ident TEXT;
    embed_expr TEXT;
    create_sql TEXT;
    embedding_dims <span class="hljs-type">INT</span>;
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- 1. æ‹† schema name + table name</span>
    IF <span class="hljs-built_in">position</span>(<span class="hljs-string">'.'</span> <span class="hljs-keyword">in</span> image_table) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
        image_schema_name :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">1</span>);
        image_table_name  :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">ELSE</span>
        image_schema_name :<span class="hljs-operator">=</span> <span class="hljs-string">'public'</span>;
        image_table_name  :<span class="hljs-operator">=</span> image_table;
    <span class="hljs-keyword">END</span> IF;

    obj_table_name :<span class="hljs-operator">=</span> image_table_name <span class="hljs-operator">||</span> <span class="hljs-string">'_obj_table'</span>;

    full_image_table_ident :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, image_table_name);
    full_obj_ident    :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, obj_table_name);
    
    <span class="hljs-comment">-- 2. å¦‚æœéœ€è¦è¦†ç›–ï¼Œå…ˆåˆ è¡¨å’Œç´¢å¼•</span>
    IF overwrite <span class="hljs-keyword">THEN</span>
        <span class="hljs-keyword">DECLARE</span>
            dyn_table_exists <span class="hljs-type">BOOLEAN</span>;
            rec RECORD;
        <span class="hljs-keyword">BEGIN</span>
            <span class="hljs-comment">-- æ£€æŸ¥ dynamic table æ˜¯å¦å­˜åœ¨</span>
            <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">EXISTS</span> (
                <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span>
                <span class="hljs-keyword">FROM</span> pg_class c
                <span class="hljs-keyword">JOIN</span> pg_namespace n <span class="hljs-keyword">ON</span> n.oid <span class="hljs-operator">=</span> c.relnamespace
                <span class="hljs-keyword">WHERE</span> c.relname <span class="hljs-operator">=</span> image_table_name
                <span class="hljs-keyword">AND</span> n.nspname <span class="hljs-operator">=</span> image_schema_name
            )
            <span class="hljs-keyword">INTO</span> dyn_table_exists;

            IF dyn_table_exists <span class="hljs-keyword">THEN</span>
                <span class="hljs-comment">-- 2.1 å…³é—­åŠ¨æ€è¡¨è‡ªåŠ¨åˆ·æ–°</span>
                <span class="hljs-comment">-- RAISE NOTICE 'Disabling auto refresh for %', full_image_table_ident;</span>
                <span class="hljs-comment">-- EXECUTE format('ALTER TABLE IF EXISTS %s SET (auto_refresh_enable=false)', full_image_table_ident);</span>

                <span class="hljs-comment">-- 2.2 æŸ¥æ‰¾ RUNNING åˆ·æ–°ä»»åŠ¡å¹¶å–æ¶ˆ</span>
                <span class="hljs-keyword">FOR</span> rec <span class="hljs-keyword">IN</span>
                    <span class="hljs-keyword">EXECUTE</span> format(
                        $f$
                        <span class="hljs-keyword">SELECT</span> query_job_id
                            <span class="hljs-keyword">FROM</span> hologres.hg_dynamic_table_refresh_log(<span class="hljs-operator">%</span>L)
                            <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'RUNNING'</span>;
                        $f$,
                        image_table
                    )
                LOOP
                    RAISE NOTICE <span class="hljs-string">'Found running refresh job: %'</span>, rec.query_job_id;
                    IF hologres.hg_internal_cancel_query_job(rec.query_job_id::<span class="hljs-type">bigint</span>) <span class="hljs-keyword">THEN</span>
                        RAISE NOTICE <span class="hljs-string">'Cancel job % succeeded.'</span>, rec.query_job_id;
                    <span class="hljs-keyword">ELSE</span>
                        RAISE WARNING <span class="hljs-string">'Cancel job % failed.'</span>, rec.query_job_id;
                    <span class="hljs-keyword">END</span> IF;
                <span class="hljs-keyword">END</span> LOOP;

                <span class="hljs-comment">-- 2.3 åˆ é™¤ Dynamic Table</span>
                <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'DROP TABLE IF EXISTS %s;'</span>, full_image_table_ident);
            <span class="hljs-keyword">ELSE</span>
                RAISE NOTICE <span class="hljs-string">'Dynamic table % does not exist, skip cancel job and drop.'</span>, full_image_table_ident;
            <span class="hljs-keyword">END</span> IF;

            <span class="hljs-comment">-- 2.4 æ— è®ºå¦‚ä½•ï¼ŒObject Table éƒ½è¦åˆ é™¤</span>
            <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'DROP OBJECT TABLE IF EXISTS %s;'</span>, full_obj_ident);
        <span class="hljs-keyword">END</span>;
    <span class="hljs-keyword">END</span> IF;

    <span class="hljs-comment">-- 3. åˆ›å»º Object Table</span>
    RAISE NOTICE <span class="hljs-string">'Create object table: %'</span>, obj_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(
        $f$
        <span class="hljs-keyword">CREATE</span> OBJECT <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">%</span>s
        <span class="hljs-keyword">WITH</span> (
            path <span class="hljs-operator">=</span> <span class="hljs-operator">%</span>L,
            oss_endpoint <span class="hljs-operator">=</span> <span class="hljs-operator">%</span>L,
            role_arn <span class="hljs-operator">=</span> <span class="hljs-operator">%</span>L
        );
        $f$,
        full_obj_ident,
        oss_path,
        oss_endpoint,
        oss_role_arn
    );

    <span class="hljs-keyword">COMMIT</span>;

    <span class="hljs-comment">-- 4. åˆ·æ–° Object Table</span>
    RAISE NOTICE <span class="hljs-string">'Refresh object table: %'</span>, obj_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'REFRESH OBJECT TABLE %s;'</span>, full_obj_ident);

    <span class="hljs-keyword">COMMIT</span>;

    <span class="hljs-comment">-- 5. embedding æ¨¡å‹é€‰æ‹©</span>
    IF embedding_model <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> length(<span class="hljs-built_in">trim</span>(embedding_model)) <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
        embed_expr :<span class="hljs-operator">=</span> <span class="hljs-string">'ai_embed(file)'</span>;

        <span class="hljs-keyword">EXECUTE</span> <span class="hljs-string">'SELECT array_length(ai_embed(''dummy''), 1)'</span>
        <span class="hljs-keyword">INTO</span> embedding_dims;
    <span class="hljs-keyword">ELSE</span>
        embed_expr :<span class="hljs-operator">=</span> format(<span class="hljs-string">'ai_embed(%L, file)'</span>, embedding_model);

        <span class="hljs-keyword">EXECUTE</span> format(
            <span class="hljs-string">'SELECT array_length(ai_embed(%L, ''dummy''), 1)'</span>,
            embedding_model
        )
        <span class="hljs-keyword">INTO</span> embedding_dims;
    <span class="hljs-keyword">END</span> IF;

    RAISE NOTICE <span class="hljs-string">'embedding dimension is: %'</span>, embedding_dims;

    <span class="hljs-comment">-- 6. åˆ›å»º RAG è¾“å‡ºåŠ¨æ€è¡¨</span>
    RAISE NOTICE <span class="hljs-string">'create dynamic table: %'</span>, image_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(
        $f$
        <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DYNAMIC</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">%</span>s(
            <span class="hljs-keyword">CHECK</span>(array_ndims(embedding_vector) <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">AND</span> array_length(embedding_vector, <span class="hljs-number">1</span>) <span class="hljs-operator">=</span> <span class="hljs-operator">%</span>s)
        )
        <span class="hljs-keyword">WITH</span> (
            vectors <span class="hljs-operator">=</span> <span class="hljs-string">'{
                "embedding_vector": {
                    "algorithm": "HGraph",
                    "distance_method": "Cosine",
                    "builder_params": {
                    "base_quantization_type": "sq8_uniform",
                    "max_degree": 64,
                    "ef_construction": 400,
                    "precise_quantization_type": "fp32",
                    "use_reorder": true
                    }
                }
            }'</span>,
            auto_refresh_mode <span class="hljs-operator">=</span> <span class="hljs-string">'incremental'</span>,
            freshness <span class="hljs-operator">=</span> <span class="hljs-string">'5 minutes'</span>,
            auto_refresh_enable <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>
        ) <span class="hljs-keyword">AS</span>
        <span class="hljs-keyword">SELECT</span>
            object_uri,
            etag,
            <span class="hljs-operator">%</span>s <span class="hljs-keyword">AS</span> embedding_vector
        <span class="hljs-keyword">FROM</span> <span class="hljs-operator">%</span>s;
        $f$,
        full_image_table_ident,
        embedding_dims,
        embed_expr,
        obj_table_name
    );

    <span class="hljs-keyword">COMMIT</span>;

    RAISE NOTICE <span class="hljs-string">''</span>;
    RAISE NOTICE <span class="hljs-string">'Create image table success: %'</span>, image_table;
    RAISE NOTICE <span class="hljs-string">'    Vector index is: %.embedding_vector'</span>, image_table;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;
</code></pre>
<ul>
<li>Object Tableå’ŒDynamic Table</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> refresh_image_table(
    image_table TEXT
)
<span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
    image_schema_name TEXT;
    image_table_name   TEXT;
    obj_table_name TEXT;
    full_image_table_ident TEXT;
    full_obj_ident    TEXT;
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- 1. è§£æ schema å’Œè¡¨å</span>
    IF <span class="hljs-built_in">position</span>(<span class="hljs-string">'.'</span> <span class="hljs-keyword">in</span> image_table) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
        image_schema_name :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">1</span>);
        image_table_name  :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">ELSE</span>
        image_schema_name :<span class="hljs-operator">=</span> <span class="hljs-string">'public'</span>;
        image_table_name  :<span class="hljs-operator">=</span> image_table;
    <span class="hljs-keyword">END</span> IF;

    obj_table_name :<span class="hljs-operator">=</span> image_table_name <span class="hljs-operator">||</span> <span class="hljs-string">'_obj_table'</span>;

    full_image_table_ident :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, image_table_name);
    full_obj_ident    :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, obj_table_name);

    <span class="hljs-comment">-- 2. åˆ·æ–° Object Table</span>
    RAISE NOTICE <span class="hljs-string">'Refreshing Object Table: %'</span>, obj_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'REFRESH OBJECT TABLE %s;'</span>, full_obj_ident);

    <span class="hljs-comment">-- 3. åˆ·æ–° Dynamic Table</span>
    RAISE NOTICE <span class="hljs-string">'Refreshing Dynamic Table: %'</span>, image_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'REFRESH TABLE %s;'</span>, full_image_table_ident);

    RAISE NOTICE <span class="hljs-string">'Refresh image table complete: %'</span>, image_table;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;
</code></pre>
<ul>
<li>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> drop_image_table(
    image_table TEXT
)
<span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
    image_schema_name TEXT;
    image_table_name   TEXT;
    obj_table_name TEXT;
    full_image_table_ident TEXT;
    full_obj_ident    TEXT;
    rec RECORD;
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- 1. è§£æ schema å’Œè¡¨å</span>
    IF <span class="hljs-built_in">position</span>(<span class="hljs-string">'.'</span> <span class="hljs-keyword">in</span> image_table) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
        image_schema_name :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">1</span>);
        image_table_name   :<span class="hljs-operator">=</span> split_part(image_table, <span class="hljs-string">'.'</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">ELSE</span>
        image_schema_name :<span class="hljs-operator">=</span> <span class="hljs-string">'public'</span>;
        image_table_name   :<span class="hljs-operator">=</span> image_table;
    <span class="hljs-keyword">END</span> IF;

    obj_table_name :<span class="hljs-operator">=</span> image_table_name <span class="hljs-operator">||</span> <span class="hljs-string">'_obj_table'</span>;

    full_image_table_ident :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, image_table_name);
    full_obj_ident    :<span class="hljs-operator">=</span> format(<span class="hljs-string">'%I.%I'</span>, image_schema_name, obj_table_name);

    <span class="hljs-comment">-- 2. åˆ é™¤è¡¨</span>
    <span class="hljs-comment">-- 2.1 å…³é—­åŠ¨æ€è¡¨è‡ªåŠ¨åˆ·æ–°</span>
    <span class="hljs-comment">-- RAISE NOTICE 'Disabling auto refresh for %', full_image_table_ident;</span>
    <span class="hljs-comment">-- EXECUTE format('ALTER TABLE IF EXISTS %s SET (auto_refresh_enable=false)', full_image_table_ident);</span>

    <span class="hljs-comment">-- 2.2 æŸ¥æ‰¾ RUNNING åˆ·æ–°ä»»åŠ¡å¹¶å–æ¶ˆ</span>
    <span class="hljs-keyword">FOR</span> rec <span class="hljs-keyword">IN</span>
        <span class="hljs-keyword">EXECUTE</span> format(
            $f$
            <span class="hljs-keyword">SELECT</span> query_job_id
                <span class="hljs-keyword">FROM</span> hologres.hg_dynamic_table_refresh_log(<span class="hljs-operator">%</span>L)
                <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'RUNNING'</span>;
            $f$,
            image_table
        )
    LOOP
        RAISE NOTICE <span class="hljs-string">'Found running refresh job: %'</span>, rec.query_job_id;
        IF hologres.hg_internal_cancel_query_job(rec.query_job_id::<span class="hljs-type">bigint</span>) <span class="hljs-keyword">THEN</span>
            RAISE NOTICE <span class="hljs-string">'Cancel job % succeeded.'</span>, rec.query_job_id;
        <span class="hljs-keyword">ELSE</span>
            RAISE WARNING <span class="hljs-string">'Cancel job % failed.'</span>, rec.query_job_id;
        <span class="hljs-keyword">END</span> IF;
    <span class="hljs-keyword">END</span> LOOP;

    <span class="hljs-comment">-- 2.3 åˆ é™¤ Dynamic Table</span>
    RAISE NOTICE <span class="hljs-string">'Dropping Dynamic Table: %'</span>, image_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'DROP TABLE IF EXISTS %s;'</span>, full_image_table_ident);

    <span class="hljs-comment">-- 2.4 åˆ é™¤ Object Table</span>
    RAISE NOTICE <span class="hljs-string">'Dropping Object Table: %'</span>, obj_table_name;
    <span class="hljs-keyword">EXECUTE</span> format(<span class="hljs-string">'DROP OBJECT TABLE IF EXISTS %s;'</span>, full_obj_ident);

    RAISE NOTICE <span class="hljs-string">'Drop image table complete: %'</span>, image_table;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;
</code></pre>
<p>å¦‚æœæƒ³ä½“éªŒæ›´å¤šæ“ä½œæµç¨‹ï¼Œæ¬¢è¿åˆ°é˜¿é‡Œäº‘å®˜ç½‘é¢†å–Hologreså…è´¹è¯•ç”¨ï¼Œå¼€é€šHologres4.0ï¼Œå¹¶æŒ‰ç…§æ“ä½œæ–‡æ¡£å®è·µã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fhologres%2Fuser-guide%2Fvisual-data-analysis-for-autonomous-driving" target="_blank" title="https://help.aliyun.com/zh/hologres/user-guide/visual-data-analysis-for-autonomous-driving" ref="nofollow noopener noreferrer">help.aliyun.com/zh/hologresâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Numpyã€Panads]]></title>    <link>https://juejin.cn/post/7574204970775805979</link>    <guid>https://juejin.cn/post/7574204970775805979</guid>    <pubDate>2025-11-19T07:24:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970775805979" data-draft-id="7568841625603719219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Numpyã€Panads"/> <meta itemprop="keywords" content="pandas,NumPy,Python"/> <meta itemprop="datePublished" content="2025-11-19T07:24:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªé‡Œçš„ç ´æ°´ç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/4394111849466414"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Numpyã€Panads
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4394111849466414/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªé‡Œçš„ç ´æ°´ç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:24:41.000Z" title="Wed Nov 19 2025 07:24:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h3 data-id="heading-0">Numpy</h3>
<p>ç”¨æ¥å­˜å‚¨å’Œå¤„ç†å¤§å‹çŸ©é˜µ</p>
<p>NumPyé‡è¦åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ol>
<li>é«˜æ€§èƒ½ç§‘å­¦è®¡ç®—å’Œæ•°æ®åˆ†æçš„åŸºç¡€åŒ…</li>
<li>ndarrayï¼Œå¤šç»´æ•°ç»„ï¼Œå…·æœ‰çŸ¢é‡è¿ç®—èƒ½åŠ›ï¼Œå¿«é€Ÿã€èŠ‚çœç©ºé—´</li>
<li>çŸ©é˜µè¿ç®—ï¼Œæ— éœ€å¾ªç¯ï¼Œå¯å®Œæˆç±»ä¼¼Matlabä¸­çš„çŸ¢é‡è¿ç®—</li>
<li>ç”¨äºè¯»å†™ç£ç›˜æ•°æ®çš„å·¥å…·ä»¥åŠç”¨äºæ“ä½œå†…å­˜æ˜ å°„æ–‡ä»¶çš„å·¥å…·</li>
</ol>
<h4 data-id="heading-1">Numpy å±æ€§</h4>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># ç”Ÿæˆ15ä¸ªæ•°æ®</span>
arr = np.arange(<span class="hljs-number">15</span>)
<span class="hljs-built_in">print</span>(arr) <span class="hljs-comment"># [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14]</span>
</code></pre>
<blockquote>
<p>è½¬æ¢æˆ 3 è¡Œ 5 åˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è½¬æ¢</span>
reshape = arr.reshape(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(reshape)
<span class="hljs-comment"># [[ 0  1  2  3  4]</span>
<span class="hljs-comment"># [ 5  6  7  8  9]</span>
<span class="hljs-comment"># [10 11 12 13 14]]</span>


<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„ç»´åº¦(è½´)ï¼š<span class="hljs-subst">{reshape.ndim}</span>'</span>) <span class="hljs-comment"># å‡ ç»´æ•°ç»„ã€‚è½´å°±æ˜¯å‡ </span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„å½¢çŠ¶ï¼š<span class="hljs-subst">{reshape.shape}</span>'</span>) <span class="hljs-comment"># å‡ è¡Œå‡ åˆ— (è¡Œæ•°ï¼Œåˆ—æ•°)</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„å…ƒç´ ç±»å‹ï¼š<span class="hljs-subst">{reshape.dtype}</span>'</span>)<span class="hljs-comment"># æ•´å‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰€å å­—èŠ‚æ•°ï¼š<span class="hljs-subst">{reshape.itemsize}</span>'</span>) <span class="hljs-comment">#int32 4å­—èŠ‚ int64 8å­—èŠ‚</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼š<span class="hljs-subst">{reshape.size}</span>'</span>) <span class="hljs-comment"># é•¿åº¦</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„ç±»å‹ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(reshape)}</span>'</span>) <span class="hljs-comment"># &lt;class 'numpy.ndarray'&gt;</span>

<span class="hljs-comment"># æ•°ç»„çš„ç»´åº¦(è½´)ï¼š2</span>
<span class="hljs-comment"># æ•°ç»„çš„å½¢çŠ¶ï¼š(3, 5)</span>
<span class="hljs-comment"># æ•°ç»„çš„å…ƒç´ ç±»å‹ï¼šint64</span>
<span class="hljs-comment"># æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰€å å­—èŠ‚æ•°ï¼š8</span>
<span class="hljs-comment"># æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼š15</span>
<span class="hljs-comment"># æ•°ç»„çš„ç±»å‹ï¼š&lt;class 'numpy.ndarray'&gt;</span>
</code></pre>
<h4 data-id="heading-2">åˆ›å»º ndarray</h4>
<p>NumPyæ•°ç»„æ˜¯ä¸€ä¸ªå¤šç»´çš„æ•°ç»„å¯¹è±¡ï¼ˆçŸ©é˜µï¼‰ï¼Œç§°ä¸ºndarrayï¼Œå…·æœ‰çŸ¢é‡ç®—æœ¯è¿ç®—èƒ½åŠ›å’Œå¤æ‚çš„å¹¿æ’­èƒ½åŠ›ï¼Œå¹¶å…·æœ‰æ‰§è¡Œé€Ÿåº¦å¿«å’ŒèŠ‚çœç©ºé—´çš„ç‰¹ç‚¹ã€‚</p>
<p>æ³¨æ„ï¼š<strong>ndarrayçš„ä¸‹æ ‡ä»0å¼€å§‹ï¼Œä¸”æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹</strong>ã€‚</p>
<h5 data-id="heading-3">array å‡½æ•°</h5>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># å°†æ™®é€šæ•°ç»„è½¬æ¢æˆ numpy</span>
arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>])
</code></pre>
<blockquote>
<p>æŒ‡å®šå­—èŠ‚ç±»å‹ï¼Œæ³¨æ„å¦‚æœæ˜¯å°æ•°ï¼Œç”¨çš„æ˜¯æ•´å‹ï¼Œä¼šç›´æ¥ç æ‰ï¼Œå¹¶ä¸æ˜¯å››èˆäº”å…¥</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">array = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], dtype=np.int32)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„å…ƒç´ ç±»å‹ï¼š<span class="hljs-subst">{array.dtype}</span>'</span>)  <span class="hljs-comment"># æ•´å‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰€å å­—èŠ‚æ•°ï¼š<span class="hljs-subst">{array.itemsize}</span>'</span>)  <span class="hljs-comment">#int32 4å­—èŠ‚ int64 8å­—èŠ‚</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æ•°ç»„çš„ç±»å‹ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(array)}</span>'</span>)  <span class="hljs-comment"># &lt;class 'numpy.ndarray'&gt;</span>
</code></pre>
<h5 data-id="heading-4">arange å‡½æ•°</h5>
<p>åŒ…å·¦ä¸åŒ…å³</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œä»2åˆ°10ï¼Œæ­¥é•¿ä¸º2</span>
array = np.arange(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(array) <span class="hljs-comment"># [2 4 6 8]</span>
</code></pre>
<h5 data-id="heading-5">random éšæœºæ•°</h5>
<blockquote>
<p>random.rand</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># éšæœºæ•°, 0-1, 3 è¡Œ 4 åˆ—</span>
array = np.random.rand(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
<span class="hljs-built_in">print</span>(array)

<span class="hljs-comment"># [[0.31049238 0.75832324 0.37506145 0.32252616]</span>
<span class="hljs-comment">#  [0.38807463 0.93432297 0.17881305 0.88305402]</span>
<span class="hljs-comment">#  [0.41024363 0.28271881 0.86731565 0.53035414]]</span>
</code></pre>
<blockquote>
<p>random.randint æ•´æ•°</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># éšæœºæ•°, -1-4, 3 è¡Œ 4 åˆ—</span>
array = np.random.randint(-<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, size=(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>))
<span class="hljs-built_in">print</span>(array)

<span class="hljs-comment"># [[ 3  2  1  1]</span>
<span class="hljs-comment">#  [ 3  4  3 -1]</span>
<span class="hljs-comment">#  [ 1  0  3  0]]</span>
</code></pre>
<blockquote>
<p>random.uniform åŒ…å«å°æ•°</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># éšæœºæ•°, -1-4, 3 è¡Œ 4 åˆ—ï¼ŒåŒ…å«å°æ•°</span>
array = np.random.uniform(-<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, size=(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>))
<span class="hljs-built_in">print</span>(array)

<span class="hljs-comment"># [[ 4.67745816  4.20730726  2.1148062   1.7430438 ]</span>
<span class="hljs-comment">#  [ 4.13875101  3.95117814 -0.91604952  0.31978374]</span>
<span class="hljs-comment">#  [ 2.18948176  2.99218651  4.02325524  2.29999013]]</span>
</code></pre>
<blockquote>
<p>randn</p>
</blockquote>
<p>ç”Ÿæˆæ­£æ€åˆ†å¸ƒï¼Œçš„æµ®ç‚¹æ•°ï¼Œ3è¡Œ5åˆ—ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
f = np.random.randn(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(f)
</code></pre>
<h5 data-id="heading-6">åˆ›å»ºç­‰æ¯”æ•°åˆ—</h5>
<p>logspace(èµ·å§‹æ¬¡å¹‚ï¼Œç»“æŸæ¬¡å¹‚ï¼Œæ•°å­—ä¸ªæ•°, base=åŸºæ•°) -&gt; ç”Ÿæˆç­‰æ¯”æ•°åˆ—ï¼Œé»˜è®¤åŸºæ•°æ˜¯10ï¼Œå³ï¼š10çš„èµ·å§‹æ¬¡å¹‚ ~ 10çš„ç»“æŸæ¬¡å¹‚ï¼ŒåŒ…å·¦åŒ…å³</p>
<p>éœ€æ±‚ï¼šåˆ›å»ºé•¿åº¦ä¸º 5 çš„ç­‰æ¯”æ•°åˆ—ï¼Œèµ·å§‹æ¬¡å¹‚ä¸º1ï¼Œç»“æŸæ¬¡å¹‚ä¸º3</p>
<p>è¿‡ç¨‹ï¼šä¼šè‡ªåŠ¨è®¡ç®—ï¼Œæ¯ç”Ÿæˆä¸€ä¸ªæ•°å­—ï¼ŒåŠ å¤šå°‘å¹‚åˆé€‚ã€‚ä¸­é—´ä¼šå˜ï¼Œå¼€å§‹å’Œç»“å°¾ä¸ä¼šå˜ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
n = np.logspace(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, base=<span class="hljs-number">10</span>)
<span class="hljs-built_in">print</span>(n)
<span class="hljs-comment"># [  10.           31.6227766   100.          316.22776602 1000.        ]</span>
</code></pre>
<h5 data-id="heading-7">åˆ›å»ºç­‰å·®æ•°åˆ—</h5>
<p>np.linspace(èµ·å§‹å€¼ï¼Œç»“æŸå€¼ï¼Œå…ƒç´ ä¸ªæ•°, endpoint=True)</p>
<p>ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„ç­‰å·®æ•°åˆ—ï¼Œé»˜è®¤åŒ…å·¦åŒ…å³ã€‚</p>
<ul>
<li>endpointï¼šè®¾ç½®ä¸ºfalseï¼Œå¯ä»¥ä¸åŒ…å³</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œä»1å¼€å§‹ï¼Œåˆ°10ç»“æŸï¼Œå…±10ä¸ªæ•°ï¼ŒåŒ…å³</span>
n = np.linspace(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, endpoint=<span class="hljs-literal">True</span>)
<span class="hljs-built_in">print</span>(n)
<span class="hljs-comment"># [ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10.]</span>
</code></pre>
<h4 data-id="heading-8">æ•°æ®ç±»å‹è½¬æ¢</h4>
<h5 data-id="heading-9">1. æŠŠå…ƒç´ ç±»å‹ä¸º np.float64 -&gt; np.int32</h5>
<ol>
<li>zeros åˆ›å»ºç”¨ 0 å¡«å……çš„æ•°ç»„</li>
<li>astype ç”¨äºå°†è°ƒç”¨è€…è½¬æ¢æˆæŒ‡å®šç±»å‹ï¼Œè¿”å›</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># ç”Ÿæˆ 3è¡Œ4åˆ—ç”¨0å¡«å……çš„æ•°ç»„ï¼Œç±»å‹æ˜¯float</span>
zeros = np.zeros((<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), dtype=np.float64)
<span class="hljs-built_in">print</span>(zeros)
<span class="hljs-comment"># [[0. 0. 0. 0.]</span>
<span class="hljs-comment">#  [0. 0. 0. 0.]</span>
<span class="hljs-comment">#  [0. 0. 0. 0.]]</span>
<span class="hljs-comment"># </span>
<span class="hljs-comment"># å°†zerosæ•°ç»„è½¬æ¢æˆæ•´å‹</span>
astype = zeros.astype(np.int32)
<span class="hljs-built_in">print</span>(astype)
<span class="hljs-comment"># [[0 0 0 0]</span>
<span class="hljs-comment">#  [0 0 0 0]</span>
<span class="hljs-comment">#  [0 0 0 0]]</span>
</code></pre>
<h4 data-id="heading-10">Numpy å†…ç½®å‡½æ•°</h4>
<pre><code class="hljs language-py" lang="py">f = [[-<span class="hljs-number">0.30398695</span>  <span class="hljs-number">0.39242509</span>  <span class="hljs-number">0.83707249</span> -<span class="hljs-number">0.5360649</span> ]
 [-<span class="hljs-number">0.10631079</span> -<span class="hljs-number">0.69037792</span> -<span class="hljs-number">0.47947986</span> -<span class="hljs-number">1.06188956</span>]
 [-<span class="hljs-number">0.45553133</span> -<span class="hljs-number">0.49964343</span>  <span class="hljs-number">1.3645323</span>   <span class="hljs-number">0.26271202</span>]]
</code></pre>
<p>æ ¹æ®ä¸Šé¢çš„ f è¿›è¡Œå‡½æ•°è¿ç®—ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># å¤©èŠ±æ¿æ•°ï¼Œå‘ä¸Šå–æ•´</span>
<span class="hljs-built_in">print</span>(np.ceil(f))
<span class="hljs-comment"># [[-0.  1.  1. -0.]</span>
<span class="hljs-comment">#  [-0. -0. -0. -1.]</span>
<span class="hljs-comment">#  [-0. -0.  2.  1.]]</span>

<span class="hljs-comment"># åœ°æ¿æ•°ï¼Œå‘ä¸‹å–æ•´</span>
<span class="hljs-built_in">print</span>(np.floor(f))
<span class="hljs-comment"># [[-1.  0.  0. -1.]</span>
<span class="hljs-comment">#  [-1. -1. -1. -2.]</span>
<span class="hljs-comment">#  [-1. -1.  1.  0.]]</span>

<span class="hljs-comment"># å››èˆäº”å…¥</span>
<span class="hljs-built_in">print</span>(np.rint(f))
<span class="hljs-comment"># [[-0.  0.  1. -1.]</span>
<span class="hljs-comment">#  [-0. -1. -0. -1.]</span>
<span class="hljs-comment">#  [-0. -0.  1.  0.]]</span>

<span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span>
<span class="hljs-built_in">print</span>(np.isnan(f))
<span class="hljs-comment"># [[False False False False]</span>
<span class="hljs-comment">#  [False False False False]</span>
<span class="hljs-comment">#  [False False False False]]</span>

<span class="hljs-comment"># çŸ©é˜µä¹˜æ³•</span>
<span class="hljs-comment"># çŸ©é˜µä¹˜æ³•çš„æ„æ€æ˜¯ï¼Œnp.multiply() ä¼šå¯¹æ•°ç»„ x å’Œ y çš„æ¯ä¸ªå¯¹åº”ä½ç½®çš„å…ƒç´ æ‰§è¡Œä¹˜æ³•è¿ç®—ã€‚</span>
<span class="hljs-built_in">print</span>(np.multiply(f, f))
<span class="hljs-comment"># [[0.09240807 0.15399745 0.70069035 0.28736557]</span>
<span class="hljs-comment">#  [0.01130198 0.47662167 0.22990094 1.12760944]</span>
<span class="hljs-comment">#  [0.20750879 0.24964356 1.8619484  0.0690176 ]]</span>

<span class="hljs-comment"># çŸ©é˜µé™¤æ³•</span>
<span class="hljs-comment"># æ„æ€æ˜¯ï¼Œä¼šå¯¹æ•°ç»„ x å’Œ y çš„æ¯ä¸ªå¯¹åº”ä½ç½®çš„å…ƒç´ æ‰§è¡Œé™¤æ³•è¿ç®—ã€‚</span>
<span class="hljs-built_in">print</span>(np.divide(f, f))
<span class="hljs-comment"># [[1. 1. 1. 1.]</span>
<span class="hljs-comment">#  [1. 1. 1. 1.]</span>
<span class="hljs-comment">#  [1. 1. 1. 1.]]</span>

<span class="hljs-comment"># æ¡ä»¶è¿ç®—</span>
<span class="hljs-built_in">print</span>(np.where(f &gt; <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>))
<span class="hljs-comment"># [[0 1 1 0]</span>
<span class="hljs-comment">#  [0 0 0 0]</span>
<span class="hljs-comment">#  [0 0 1 1]]</span>
</code></pre>
<h4 data-id="heading-11">ç»Ÿè®¡å‡½æ•°</h4>
<p>æ•°æ®å±•ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3eb4486427b4e4994a48d1add0d7c75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=cTVd%2BGTqUrlj7WZWGlWEwPQMZRY%3D" alt="image.png" loading="lazy"/></p>
<p>0 æ˜¯åˆ—ï¼Œ1æ˜¯è¡Œ</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åˆ›å»º3è¡Œ4åˆ—æ•°æ®</span>
f = np.arange(<span class="hljs-number">12</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)

<span class="hljs-comment"># æ±‚æ‰€æœ‰çš„å’Œ</span>
<span class="hljs-built_in">print</span>(f.<span class="hljs-built_in">sum</span>()) <span class="hljs-comment"># 66</span>
<span class="hljs-comment"># æ±‚æ¯åˆ—çš„å’Œ</span>
<span class="hljs-built_in">print</span>(f.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">0</span>)) <span class="hljs-comment"># [12 15 18 21]</span>
<span class="hljs-comment"># æ±‚æ¯è¡Œçš„å’Œ</span>
<span class="hljs-built_in">print</span>(f.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>)) <span class="hljs-comment"># [ 6 22 38]</span>

<span class="hljs-comment"># æ±‚ç´¯åŠ å’Œï¼Œä¼šæŠŠæ•°ç»„è½¬æˆä¸€ç»´æ•°ç»„ï¼Œè¿›è¡Œç´¯åŠ </span>
<span class="hljs-built_in">print</span>(f.cumsum()) <span class="hljs-comment"># [ 0  1  3  6 10 15 21 28 36 45 55 66]</span>
<span class="hljs-comment"># æŒ‰åˆ—ç»Ÿè®¡ï¼Œç¬¬ä¸€åˆ—ï¼Œ0ï¼Œ4ï¼Œ8ï¼Œç»“æœå°±æ˜¯ï¼Œ0+0ï¼Œ0+4ï¼Œ0+4+8</span>
<span class="hljs-built_in">print</span>(f.cumsum(axis=<span class="hljs-number">0</span>))
<span class="hljs-comment"># [[ 0  1  2  3]</span>
<span class="hljs-comment">#  [ 4  6  8 10]</span>
<span class="hljs-comment">#  [12 15 18 21]]</span>
<span class="hljs-comment"># æŒ‰è¡Œç»Ÿè®¡</span>
<span class="hljs-built_in">print</span>(f.cumsum(axis=<span class="hljs-number">1</span>))
<span class="hljs-comment"># [[ 0  1  3  6]</span>
<span class="hljs-comment">#  [ 4  9 15 22]</span>
<span class="hljs-comment">#  [ 8 17 27 38]]</span>
</code></pre>
<h4 data-id="heading-12">å»é‡å’Œæ’åº</h4>
<blockquote>
<p>å»é‡</p>
</blockquote>
<p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª3è¡Œ3åˆ—çš„æ•°ç»„ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šé‡å¤çš„ã€‚é€šè¿‡uniqueæ‰§è¡Œäº†å»é‡ï¼Œå‘ç°å˜æˆä¸€ç»´æ•°ç»„äº†ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“arrçš„éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arr = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]])
<span class="hljs-comment"># [[1 2 1]</span>
<span class="hljs-comment">#  [2 3 4]</span>
<span class="hljs-comment">#  [3 4 5]]</span>
<span class="hljs-comment"># æ‰§è¡Œå»é‡</span>
<span class="hljs-built_in">print</span>(np.unique(arr)) <span class="hljs-comment"># [1 2 3 4 5]</span>
</code></pre>
<blockquote>
<p>æ’åº</p>
</blockquote>
<p>ä¸ä¼šå½±å“åŸæ•°ç»„ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arr = np.array([<span class="hljs-number">33</span>, <span class="hljs-number">11</span>, <span class="hljs-number">22</span>, <span class="hljs-number">66</span>, <span class="hljs-number">55</span>])
<span class="hljs-built_in">print</span>(arr) <span class="hljs-comment"># [33 11 22 66 55]</span>
<span class="hljs-built_in">print</span>(np.sort(arr)) <span class="hljs-comment"># [11 22 33 55 66]</span>
</code></pre>
<p>å½±å“åŸæ•°ç»„</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arr = np.array([<span class="hljs-number">33</span>, <span class="hljs-number">11</span>, <span class="hljs-number">22</span>, <span class="hljs-number">66</span>, <span class="hljs-number">55</span>])
arr.sort()
<span class="hljs-built_in">print</span>(arr) <span class="hljs-comment"># [11 22 33 55 66]</span>
</code></pre>
<h3 data-id="heading-13">çŸ©é˜µè¿ç®—</h3>
<h4 data-id="heading-14">å¤šç»´æ•°ç»„è¿ç®—</h4>
<blockquote>
<p>ç›¸åŠ ï¼Œç›¸å‡ï¼Œç›¸ä¹˜ï¼Œç›¸é™¤</p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°æ¯ä¸€åˆ—ç›¸åŠ äº†ï¼Œå¿…é¡»æ˜¯å…ƒç´ ä¸ªæ•°ä¸€ä¸€å¯¹åº”ï¼Œå¦‚æœAçš„æ•°ç»„æ˜¯6ä¸ªï¼ŒBçš„æ•°ç»„å¿…é¡»æ˜¯6ä¸ªï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œä¼šæŠ¥é”™ã€‚å¤šç»´ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arr = np.array([<span class="hljs-number">33</span>, <span class="hljs-number">11</span>, <span class="hljs-number">22</span>, <span class="hljs-number">66</span>, <span class="hljs-number">55</span>])
<span class="hljs-built_in">print</span>(arr)<span class="hljs-comment"># [33 11 22 66 55]</span>
a = np.arange(<span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(a) <span class="hljs-comment"># [0 1 2 3 4]</span>

<span class="hljs-built_in">print</span>(arr + a) <span class="hljs-comment"># [33 12 24 69 59]</span>
</code></pre>
<h4 data-id="heading-15">çŸ©é˜µä¹˜æ³•ï¼ŒçŸ©é˜µAçš„è¡Œæ•° = çŸ©é˜µBçš„åˆ—æ•°</h4>
<p>å°† A çš„ 1,2,3 è¿™ä¸€è¡Œï¼Œå»å’Œ B çš„ 9,6,5 è¿™ä¸€åˆ—ï¼Œå»é€ä¸ªå…ƒç´ ç›¸ä¹˜ï¼Œç„¶åå†é€ä¸ªå…ƒç´ ç›¸åŠ ï¼Œç­‰äº C çš„ç¬¬ä¸€ä¸ªæ•°å­—</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eda21201be0e442784d9a2a48f24eab0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=gJ%2BoEB%2BpgNOPVMavChOmZIinBtc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb1ab56df747400788dc3fce28229a6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=t1VDGlJiEXAxC9B8uno9A9g9uVY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>å…ƒç´ ä¸ªæ•°ä¸ä¸€è‡´ä¹Ÿä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arr = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])
<span class="hljs-built_in">print</span>(arr)
<span class="hljs-comment"># [[1 2 3]</span>
<span class="hljs-comment">#  [4 5 6]]</span>
a = np.array([[<span class="hljs-number">9</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>]])
<span class="hljs-built_in">print</span>(a)
<span class="hljs-comment"># [[9 8]</span>
<span class="hljs-comment">#  [6 5]</span>
<span class="hljs-comment">#  [3 2]]</span>
<span class="hljs-built_in">print</span>(arr.dot(a))
<span class="hljs-built_in">print</span>(np.dot(arr, a)) <span class="hljs-comment"># ç»“æœå’Œä¸Šé¢ä¸€æ ·</span>
<span class="hljs-comment"># [[30 24]</span>
<span class="hljs-comment">#  [84 69]]</span>
</code></pre>
<h2 data-id="heading-16">Pandas</h2>
<p>Pandas æ˜¯ Python çš„ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…</p>
<p>Pandasåœ¨æ•°æ®å¤„ç†ä¸Šå…·æœ‰ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>åº•å±‚æ˜¯åŸºäºNumpyæ„å»ºçš„ï¼Œæ‰€ä»¥è¿è¡Œé€Ÿåº¦ç‰¹åˆ«çš„å¿«</li>
<li>æœ‰ä¸“é—¨çš„å¤„ç†ç¼ºå¤±æ•°æ®çš„API</li>
<li>å¼ºå¤§è€Œçµæ´»çš„åˆ†ç»„ã€èšåˆã€è½¬æ¢åŠŸèƒ½</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/515c7ed9af004b9d95b8894a3bf12bb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=JN0Z8At4CdaeEdIPcuAG1zUIB5o%3D" alt="image.png" loading="lazy"/></p>
<p>é€‚ç”¨åœºæ™¯:</p>
<ul>
<li>æ•°æ®é‡å¤§åˆ°Excelä¸¥é‡å¡é¡¿ï¼Œä¸”åˆéƒ½æ˜¯å•æœºæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨Pandas</li>
<li>Pandasç”¨äºå¤„ç†å•æœºæ•°æ®(å°æ•°æ®é›†(ç›¸å¯¹äºå¤§æ•°æ®æ¥è¯´))</li>
<li>åœ¨å¤§æ•°æ®ETLæ•°æ®ä»“åº“ä¸­ï¼Œå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—åŠå¤„ç†çš„ç¯èŠ‚ä½¿ç”¨Pandas</li>
</ul>
<p>ä¸èƒ½å¤„ç† GB ä»¥ä¸Šçš„æ•°æ®</p>
<h3 data-id="heading-17">è¯»å– CSV æ–‡ä»¶</h3>
<p><strong>é…ç½®ä¸€äº›å‚æ•°</strong></p>
<blockquote>
<p>è®¾ç½®æ˜¾ç¤ºçš„æœ€å¤§è¡Œæ•°å’Œåˆ—æ•°ä¸ºNone</p>
<p>pd.set_option('display.max_rows', None) pd.set_option('display.max_columns', None)</p>
</blockquote>
<blockquote>
<p>æ¢å¤æ˜¾ç¤ºçš„æœ€å¤§è¡Œæ•°åˆ°é»˜è®¤å€¼</p>
<p>pd.reset_option('display.max_rows') # æ¢å¤æ˜¾ç¤ºçš„æœ€å¤§åˆ—æ•°åˆ°é»˜è®¤å€¼ pd.reset_option('display.max_columns')</p>
</blockquote>
<blockquote>
<p>æ¢å¤æ‰€æœ‰é€‰é¡¹åˆ°é»˜è®¤å€¼ pd.reset_option('all')</p>
</blockquote>
<p><strong>å¼€å§‹</strong></p>
<p>é¦–å…ˆè¦ç¡®ä¿å·¥ä½œè·¯å¾„ï¼Œå¯ä»¥é€šè¿‡ <code>os.getcwd()</code> è·å–å·¥ä½œç›®å½•ï¼Œä½¿ç”¨ <code>os.chdir(r'E:\')</code> ä¿®æ”¹è·¯å¾„ã€‚<strong>å› ä¸ºæ¯æ¬¡éƒ½ä¼šé»˜è®¤åˆ°ç”¨æˆ·è·¯å¾„ä¸‹</strong>ã€‚</p>
<p>å¦‚æœç¼–ç æ˜¯ä¸æ­£ç¡®çš„ï¼Œä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤ä¼šæ‰“å°æ‰€æœ‰ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># å¯¼å…¥</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment"># åŠ è½½è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œå¹¶æŒ‡å®šç¼–ç </span>
csv = pd.read_csv(<span class="hljs-string">'./1960-2019å…¨çƒGDPæ•°æ®.csv'</span>, encoding=<span class="hljs-string">'gbk'</span>)
<span class="hljs-comment"># print(csv)</span>

head = csv.head() <span class="hljs-comment"># æŸ¥çœ‹å‰ 5 è¡Œ</span>
head = csv.head(<span class="hljs-number">10</span>) <span class="hljs-comment"># æŸ¥çœ‹å‰ 10 è¡Œ</span>
</code></pre>
<h3 data-id="heading-18">æ›²çº¿ç”Ÿæˆ / æ•°æ®æ£€ç´¢</h3>
<p>éœ€æ±‚ï¼šæ£€ç´¢å‡ºä¸­å›½ï¼ŒæŒ‰ç…§å¹´ä»½æŸ¥çœ‹(å¹¶ä¸”å°†å¹´ä»½è®¾ç½®ä¸ºè¡Œ)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a77584cd995452eb2e6ed51012e23a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=eoLKknlP5u2aqJjyPu5hPvm6RjU%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„ Pandas ç»˜åˆ¶å›¾éœ€è¦çš„æ˜¯ <strong>matplotlib</strong>ï¼Œpip install matplotlib</p>
</blockquote>
<p>åœ¨è®¾ç½®ç´¢å¼•çš„æ—¶å€™ï¼Œinplace è¡¨ç¤ºçš„æ˜¯å¦åœ¨åŸæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œé»˜è®¤false</p>
<p>GDP æ˜¯è¡¨ä¸­çš„å­—æ®µï¼Œè¡¨ç¤ºç»˜åˆ¶é‚£ä¸€åˆ—ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
csv = pd.read_csv(<span class="hljs-string">'./1960-2019å…¨çƒGDPæ•°æ®.csv'</span>, encoding=<span class="hljs-string">'gbk'</span>)
<span class="hljs-comment"># è·å–ä¸­å›½æ•°æ®</span>
s = csv[csv.country == <span class="hljs-string">'ä¸­å›½'</span>]
<span class="hljs-comment"># è®¾ç½®è¡Œåˆ—</span>
s.set_index(<span class="hljs-string">'year'</span>, inplace=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># ç»˜åˆ¶ GDP æŠ˜çº¿å›¾</span>
s.GDP.plot()
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7de981ba978846ee9e2dbb36d2c649e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=KXPLfpMn3tb4%2FOTZIokNsvLSyuU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å‰é¢æ˜¯ä¸€ä¸ªå›¾ä¸€ä¸ªæŠ˜ç°ï¼Œå¦‚æœæ˜¯å¤šä¸ªå‘¢</strong></p>
<p>æ³¨æ„ï¼šåªèƒ½é€šè¿‡ <code>s.GDP.plot()</code> è¿™ç§æ–¹å¼å»ç»˜åˆ¶ï¼Œå½“å¤šä¸ªå­—æ®µä¸€æ ·æ—¶ï¼Œè‡ªåŠ¨åˆå¹¶</p>
<p>æœ‰ä¸ªå‘ï¼š<code>inplace=True</code> è¡¨ç¤º <strong>åŸåœ°ä¿®æ”¹ DataFrame</strong>ï¼Œè¿™æ ·å°±ä¸èƒ½é“¾å¼è°ƒç”¨äº†ã€‚</p>
<p>é‚£å¦‚æœæƒ³ä¿®æ”¹é¢œè‰²å‘¢ï¼Œå’ŒåŠ ä¸Šå›¾ä¾‹å‘¢ã€‚æ³¨æ„ï¼Œå›¾ä¾‹çš„åç§°é»˜è®¤æ˜¯è¡Œåã€‚æ¯”å¦‚GDPå°±æ˜¯GDPï¼Œé€šè¿‡ color å’Œ legendï¼Œé€šè¿‡ label å±æ€§å‘¢ï¼Œè®¾ç½®å›¾ä¾‹çš„åç§°ã€‚</p>
<p>æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œä¸­æ–‡æ˜¯ä¹±ç å•Šï¼Œè¿™æ˜¯å› ä¸º <code>matplotlib</code> æ˜¯ UTF-8çš„ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
csv = pd.read_csv(<span class="hljs-string">'./1960-2019å…¨çƒGDPæ•°æ®.csv'</span>, encoding=<span class="hljs-string">'gbk'</span>)

<span class="hljs-comment"># è·å–ä¸­å›½æ•°æ®</span>
s = csv[csv.country == <span class="hljs-string">'ä¸­å›½'</span>].set_index(<span class="hljs-string">'year'</span>)
<span class="hljs-comment"># è·å–æ—¥æœ¬æ•°æ®</span>
j = csv[csv.country == <span class="hljs-string">'æ—¥æœ¬'</span>].set_index(<span class="hljs-string">'year'</span>)
<span class="hljs-comment"># è·å–ç¾å›½æ•°æ®</span>
u = csv[csv.country == <span class="hljs-string">'ç¾å›½'</span>].set_index(<span class="hljs-string">'year'</span>)

s.GDP.plot(color=<span class="hljs-string">'red'</span>, legend=<span class="hljs-literal">True</span>, label=<span class="hljs-string">'ä¸­å›½'</span>)
j.GDP.plot(color=<span class="hljs-string">'gray'</span>, legend=<span class="hljs-literal">True</span>, label=<span class="hljs-string">'æ—¥æœ¬'</span>)
u.GDP.plot(color=<span class="hljs-string">'blue'</span>, legend=<span class="hljs-literal">True</span>, label=<span class="hljs-string">'ç¾å›½'</span>)
</code></pre>
<blockquote>
<p>ä¿®å¤ä¹±ç </p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> plt
plt.rcParams[<span class="hljs-string">'font.sans-serif'</span>] = [<span class="hljs-string">'SimHei'</span>]
plt.rcParams[<span class="hljs-string">'axes.unicode_minus'</span>] = <span class="hljs-literal">False</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b418a163a6894dbfbb07f47822b8c0ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=eqYQyiEh4Y%2FIPCrz7qIAbmLJ5QE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-19">Pandas æ•°æ®ç»“æ„</h3>
<p>åœ¨ pandas ä¸­æ²¡æœ‰è¡Œçš„æ¦‚å¿µã€‚</p>
<p>çœ‹å›¾ä¸­ï¼Œå…¶ä¸­ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5~è¿™ä¸€åˆ—<strong>æ˜¯ç´¢å¼•åˆ—</strong></p>
<p>ç´¢å¼•åˆ—çš„å·¦ä¾§è¿˜éšè—äº†ä¸€åˆ—ï¼Œå«è¡Œç´¢å¼•åˆ—ï¼Œçœ‹ä¸åˆ°ï¼Œä½†æ˜¯æœ‰ï¼Œæ— æ³•ä¿®æ”¹ã€‚</p>
<p>yearï¼Œcountryï¼ŒGDPï¼Œè¿™ä¸€è¡Œ<strong>å«åˆ—å</strong>ã€‚</p>
<p>æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ª <strong>Series å¯¹è±¡</strong></p>
<p>è¿˜éšè—äº†ä¸€ä¸ªåˆ—çš„ç¼–å·ï¼Œä¸‹æ–¹å›¾ä¸­ï¼Œyearçš„ç¼–å·æ˜¯0ï¼Œcountry æ˜¯1ï¼ŒGDP æ˜¯2ã€‚</p>
<p>è¿™ä¸€æ•´ä¸ªå›¾ï¼Œå«åšDataFrameå¯¹è±¡
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8561742183554d75ab7db379ddd99717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=HO%2BjZZbIL5Qk2Rjl7Gon0sjvwV0%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-20">Series å¯¹è±¡çš„åˆ›å»º</h4>
<p>Seriesä¹Ÿæ˜¯Pandasä¸­çš„æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„å¯¹è±¡ï¼Œæ˜¯ DataFrame çš„åˆ—å¯¹è±¡ï¼Œseries æœ¬èº«ä¹Ÿå…·æœ‰ç´¢å¼•ã€‚</p>
<p>Series æ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œç”±ä¸‹é¢ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9db985194a344530be6c2f9322a5f3a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=emLdyOlUl23QGCQjMdQZqjbMO9M%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>é€šè¿‡åˆ—è¡¨åˆ›å»º seriesï¼Œä½¿ç”¨ index è®¾ç½®ç´¢å¼•</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
series = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], index=[<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>])
<span class="hljs-built_in">print</span>(series)
<span class="hljs-comment"># a    1</span>
<span class="hljs-comment"># b    2</span>
<span class="hljs-comment"># c    3</span>
<span class="hljs-comment"># dtype: int64</span>
</code></pre>
<ol start="2">
<li>é€šè¿‡å…ƒç»„åˆ›å»º series</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
s3 = pd.Series((<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-string">'ç”·'</span>, <span class="hljs-number">23</span>), index=[<span class="hljs-string">'name'</span>, <span class="hljs-string">'sex'</span>, <span class="hljs-string">'age'</span>])
<span class="hljs-built_in">print</span>(s3)
<span class="hljs-comment"># name    å¼ ä¸‰</span>
<span class="hljs-comment"># sex      ç”·</span>
<span class="hljs-comment"># age     23</span>
<span class="hljs-comment"># dtype: object</span>
</code></pre>
<ol start="3">
<li>é€šè¿‡å­—å…¸ç”Ÿæˆï¼Œé»˜è®¤keyæ˜¯ç´¢å¼•ï¼Œvalueæ˜¯æ•°æ®</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
s3 = pd.Series({<span class="hljs-string">'name'</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-string">'age'</span>: <span class="hljs-number">18</span>, <span class="hljs-string">'sex'</span>: <span class="hljs-string">'ç”·'</span>})
<span class="hljs-built_in">print</span>(s3)
<span class="hljs-comment"># name    å¼ ä¸‰</span>
<span class="hljs-comment"># age     18</span>
<span class="hljs-comment"># sex      ç”·</span>
<span class="hljs-comment"># dtype: object</span>
</code></pre>
<ol start="4">
<li>å°† numpy çš„ ndarray å¯¹è±¡è½¬æ¢æˆ series</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
arange = np.arange(<span class="hljs-number">5</span>)
s3 = pd.Series(arange)
<span class="hljs-built_in">print</span>(s3)
</code></pre>
<h4 data-id="heading-21">Series çš„å¸¸ç”¨å±æ€§</h4>
<ul>
<li>æˆ‘å¸Œæœ›è·å–ç´¢å¼•åˆ—</li>
<li>æˆ‘å¸Œæœ›è·å–æ•°å€¼åˆ—</li>
<li>æˆ‘å¸Œæœ›æ ¹æ®ç´¢å¼•è·å–æ•°æ®</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
s1 = pd.Series(data=[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>)], index=[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-string">'ABCDEF'</span>])
<span class="hljs-built_in">print</span>(s1)
<span class="hljs-comment"># A    0</span>
<span class="hljs-comment"># B    1</span>
<span class="hljs-comment"># C    2</span>
<span class="hljs-comment"># D    3</span>
<span class="hljs-comment"># E    4</span>
<span class="hljs-comment"># F    5</span>
<span class="hljs-comment"># dtype: int64</span>

<span class="hljs-comment"># ç´¢å¼•åˆ—</span>
<span class="hljs-built_in">print</span>(s1.index)
<span class="hljs-comment"># æ•°æ®åˆ—</span>
<span class="hljs-built_in">print</span>(s1.values)
<span class="hljs-comment"># æ ¹æ®ç´¢å¼•Dæ‰¾å€¼</span>
<span class="hljs-built_in">print</span>(s1[<span class="hljs-string">'D'</span>])
</code></pre>
<h4 data-id="heading-22">DataFrame å¯¹è±¡</h4>
<p>DataFrameæ˜¯ä¸€ä¸ªç±»ä¼¼äºäºŒç»´æ•°ç»„æˆ–è¡¨æ ¼(å¦‚excel)çš„å¯¹è±¡ï¼Œæ—¢æœ‰è¡Œç´¢å¼•ï¼Œåˆæœ‰åˆ—ç´¢å¼•</p>
<ul>
<li>è¡Œç´¢å¼•ï¼Œè¡¨æ˜ä¸åŒè¡Œï¼Œæ¨ªå‘ç´¢å¼•ï¼Œå«indexï¼Œ0è½´ï¼Œaxis=0</li>
<li>åˆ—ç´¢å¼•ï¼Œè¡¨æ˜ä¸åŒåˆ—ï¼Œçºµå‘ç´¢å¼•ï¼Œå«columnsï¼Œ1è½´ï¼Œaxis=1</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b47844ede8cf45cf9d7554fc8fdcfb02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=mnRQTBApJ8avp7l6orbpjmbNXiA%3D" alt="image.png" loading="lazy"/></p>
<p>é™¤äº†ä¹‹å‰ç”¨ csvæ–‡ä»¶è¯»å–è·å– DataFrame è¿˜æœ‰å¾ˆå¤šæ–¹å¼</p>
<ol>
<li>åˆ›å»º DataFrame å¯¹è±¡ï¼Œå­—å…¸ + åˆ—è¡¨çš„æ–¹å¼</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
data_dict = {
    <span class="hljs-string">'æ—¥æœŸ'</span>: [<span class="hljs-string">'2025-11-08'</span>, <span class="hljs-string">'2025-11-09'</span>, <span class="hljs-string">'2025-11-10'</span>],
    <span class="hljs-string">'æ¸©åº¦'</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
    <span class="hljs-string">'æ¹¿åº¦'</span>: [<span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">60</span>]
}
<span class="hljs-comment"># æŠŠä¸Šé¢çš„æ•°æ®å­—å…¸è½¬æ¢æˆDataFrame</span>
s1 = pd.DataFrame(data=data_dict, index=[<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>])
<span class="hljs-built_in">print</span>(s1)
<span class="hljs-comment">#            æ—¥æœŸ  æ¸©åº¦  æ¹¿åº¦</span>
<span class="hljs-comment"># A  2025-11-08   5  60</span>
<span class="hljs-comment"># B  2025-11-09   3  70</span>
<span class="hljs-comment"># C  2025-11-10   4  60</span>
</code></pre>
<ol start="2">
<li>åˆ›å»º DataFrame å¯¹è±¡ï¼Œåˆ—è¡¨åŠ å…ƒç»„çš„æ–¹å¼ï¼Œä¸ä¸€å®šæ˜¯å…ƒç»„ï¼Œåˆ—è¡¨+åˆ—è¡¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li>
</ol>
<p>é€šè¿‡ columns è®¾ç½®åˆ—åï¼Œé€šè¿‡indexè®¾ç½®ç´¢å¼•</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
data_dc = [
    (<span class="hljs-string">'2025-11-08'</span>, <span class="hljs-number">5</span>, <span class="hljs-number">60</span>),
    (<span class="hljs-string">'2025-11-09'</span>, <span class="hljs-number">3</span>, <span class="hljs-number">70</span>),
    (<span class="hljs-string">'2025-11-10'</span>, <span class="hljs-number">4</span>, <span class="hljs-number">60</span>)
]
s2 = pd.DataFrame(data=data_dc, columns=[<span class="hljs-string">'æ—¥æœŸ'</span>, <span class="hljs-string">'æ¸©åº¦'</span>, <span class="hljs-string">'æ¹¿åº¦'</span>], index=[<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>])
<span class="hljs-built_in">print</span>(s2)

<span class="hljs-comment">#            æ—¥æœŸ  æ¸©åº¦  æ¹¿åº¦</span>
<span class="hljs-comment"># A  2025-11-08   5  60</span>
<span class="hljs-comment"># B  2025-11-09   3  70</span>
<span class="hljs-comment"># C  2025-11-10   4  60</span>
</code></pre>
<ol start="3">
<li>é€šè¿‡ numpy åˆ›å»º</li>
</ol>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
s3 = pd.DataFrame(np.arange(<span class="hljs-number">9</span>).reshape(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))
<span class="hljs-built_in">print</span>(s3)
<span class="hljs-comment">#    0  1  2</span>
<span class="hljs-comment"># 0  0  1  2</span>
<span class="hljs-comment"># 1  3  4  5</span>
<span class="hljs-comment"># 2  6  7  8</span>
</code></pre>
<h4 data-id="heading-23">DataFrame å¸¸ç”¨å±æ€§</h4>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
score = np.random.randint(<span class="hljs-number">40</span>, <span class="hljs-number">101</span>, size=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>))
score_df = pd.DataFrame(score)
<span class="hljs-comment"># èµ‹å€¼</span>
score_df.columns = [<span class="hljs-string">'è¯­æ–‡'</span>, <span class="hljs-string">'æ•°å­¦'</span>, <span class="hljs-string">'è‹±è¯­'</span>, <span class="hljs-string">'ç‰©ç†'</span>, <span class="hljs-string">'åŒ–å­¦'</span>]
score_df.index = [<span class="hljs-string">'åŒå­¦'</span> + <span class="hljs-built_in">str</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]
</code></pre>
<p>å·²æœ‰æ•°æ®æ˜¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2629b685ba004c3a8450a8c0e2e4e76b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=6OMDke%2F0ltr4wjUppbroPLVT%2BUc%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼Œæ‰“å°çš„ dtype è™½ç„¶æ˜¯ objectï¼Œä½†æ˜¯è¡¨ç¤ºçš„æ„æ€æ˜¯å­—ç¬¦ä¸²ï¼Œç­‰äº str</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è·å–å½¢çŠ¶</span>
<span class="hljs-built_in">print</span>(score_df.shape) <span class="hljs-comment"># (10, 5)</span>
<span class="hljs-comment"># è·å–ç´¢å¼•</span>
<span class="hljs-built_in">print</span>(score_df.index) <span class="hljs-comment"># Index(['åŒå­¦0',....], dtype='object')</span>
<span class="hljs-comment"># è·å–æ•°æ®</span>
<span class="hljs-built_in">print</span>(score_df.values)
<span class="hljs-comment"># [[92 81 63 79 83]</span>
<span class="hljs-comment"># ...</span>
<span class="hljs-comment">#  [71 89 90 94 64]]</span>
<span class="hljs-comment"># è½¬æ¢æˆ numpy</span>
<span class="hljs-built_in">print</span>(score_df.to_numpy())
<span class="hljs-comment"># è¡Œåˆ—ï¼Œæ•°æ®è½¬æ¢ï¼Œä¹‹å‰æ˜¯è¡Œçš„è½¬æˆåˆ—ï¼Œä¹‹å‰æ˜¯åˆ—çš„è½¬æˆè¡Œ</span>
<span class="hljs-built_in">print</span>(score_df.T)
<span class="hljs-comment">#     åŒå­¦0  åŒå­¦1  åŒå­¦2  åŒå­¦3  åŒå­¦4  åŒå­¦5  åŒå­¦6  åŒå­¦7  åŒå­¦8  åŒå­¦9</span>
<span class="hljs-comment"># è¯­æ–‡   92   51   58   40   43   40   71   76   56   71</span>
<span class="hljs-comment"># æ•°å­¦   81   54   96   84   67   44   70   80   99   89</span>
<span class="hljs-comment"># è‹±è¯­   63   92   41   46   96   44   93   90   64   90</span>
<span class="hljs-comment"># ç‰©ç†   79   66   43   98   76   64   43   92   48   94</span>
<span class="hljs-comment"># åŒ–å­¦   83   45   48   45   84   52   54   58   99   64</span>
<span class="hljs-comment"># size å¤§å°ï¼Œç»Ÿè®¡çš„å…ƒç´ ä¸ªæ•°ã€‚åªåŒ…å«æ•°æ®</span>
<span class="hljs-built_in">print</span>(score_df.size) <span class="hljs-comment"># 50</span>
<span class="hljs-comment"># è·å–æ•°æ®ç±»å‹</span>
<span class="hljs-built_in">print</span>(score_df.dtypes)
<span class="hljs-comment"># è¯­æ–‡    int32</span>
<span class="hljs-comment"># æ•°å­¦    int32</span>
<span class="hljs-comment"># è‹±è¯­    int32</span>
<span class="hljs-comment"># ç‰©ç†    int32</span>
<span class="hljs-comment"># åŒ–å­¦    int32</span>
<span class="hljs-comment"># dtype: object</span>
</code></pre>
<h4 data-id="heading-24">å¸¸ç”¨æ–¹æ³•</h4>
<p>å·²çŸ¥æ•°æ® <code>score_df</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6b87b7c329b4f42a17627748c520d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=5aj3PyIGfMzesBGmUBlA9Pc3e58%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æŸ¥çœ‹å‰5è¡Œ</span>
score_df.head()
<span class="hljs-comment"># æŸ¥çœ‹å‰10è¡Œ</span>
score_df.head(<span class="hljs-number">10</span>)

<span class="hljs-comment"># æŸ¥çœ‹å5è¡Œ</span>
score_df.tail()
<span class="hljs-comment"># æŸ¥çœ‹å10è¡Œ</span>
score_df.tail(<span class="hljs-number">10</span>)
</code></pre>
<p><strong>è·å–æ–¹æ³•çš„æè¿°ä¿¡æ¯ç»Ÿè®¡ä¿¡æ¯ç­‰</strong></p>
<pre><code class="hljs language-py" lang="py">score_df.describe()
</code></pre>


















































<table><thead><tr><th>è¡Œå</th><th>å«ä¹‰</th><th>ç¤ºä¾‹è§£é‡Šï¼ˆä»¥â€œè¯­æ–‡â€ä¸ºä¾‹ï¼‰</th></tr></thead><tbody><tr><td><strong>count</strong></td><td>éç©ºï¼ˆæœ‰æ•ˆï¼‰æ ·æœ¬æ•°</td><td>ä¸€å…±æœ‰ 10 ä¸ªå­¦ç”Ÿçš„è¯­æ–‡æˆç»©</td></tr><tr><td><strong>mean</strong></td><td>å¹³å‡å€¼ï¼ˆç®—æœ¯å¹³å‡æ•°ï¼‰</td><td>å¹³å‡è¯­æ–‡æˆç»©æ˜¯ 67 åˆ†</td></tr><tr><td><strong>std</strong></td><td>æ ‡å‡†å·®ï¼ˆstandard deviationï¼‰</td><td>æˆç»©çš„æ³¢åŠ¨ç¨‹åº¦æ˜¯ 19.9ï¼Œè¯´æ˜åˆ†æ•°å·®è·è¾ƒå¤§</td></tr><tr><td><strong>min</strong></td><td>æœ€å°å€¼</td><td>è¯­æ–‡æœ€ä½åˆ† 41</td></tr><tr><td><strong>25%</strong></td><td>ç¬¬ 1 å››åˆ†ä½æ•°ï¼ˆQ1ï¼‰</td><td>æœ‰ 25% çš„å­¦ç”Ÿè¯­æ–‡ â‰¤ 50.5</td></tr><tr><td><strong>50%</strong></td><td>ä¸­ä½æ•°ï¼ˆQ2ï¼‰</td><td>ä¸€åŠå­¦ç”Ÿè¯­æ–‡ â‰¤ 64ï¼Œå¦ä¸€åŠ â‰¥ 64</td></tr><tr><td><strong>75%</strong></td><td>ç¬¬ 3 å››åˆ†ä½æ•°ï¼ˆQ3ï¼‰</td><td>æœ‰ 75% çš„å­¦ç”Ÿè¯­æ–‡ â‰¤ 82.75</td></tr><tr><td><strong>max</strong></td><td>æœ€å¤§å€¼</td><td>è¯­æ–‡æœ€é«˜åˆ† 98</td></tr></tbody></table>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è·å–æ•°æ®çš„æè¿°æ€§ï¼Œè¯¦ç»†ä¿¡æ¯</span>
score_df.info()
<span class="hljs-comment"># &lt;class 'pandas.core.frame.DataFrame'&gt;</span>
<span class="hljs-comment"># Index: 10 entries, åŒå­¦0 to åŒå­¦9</span>
<span class="hljs-comment"># Data columns (total 5 columns):</span>
<span class="hljs-comment">#  #   Column  Non-Null Count  Dtype</span>
<span class="hljs-comment"># ---  ------  --------------  -----</span>
<span class="hljs-comment">#  0   è¯­æ–‡      10 non-null     int32</span>
<span class="hljs-comment">#  1   æ•°å­¦      10 non-null     int32</span>
<span class="hljs-comment">#  2   è‹±è¯­      10 non-null     int32</span>
<span class="hljs-comment">#  3   ç‰©ç†      10 non-null     int32</span>
<span class="hljs-comment">#  4   åŒ–å­¦      10 non-null     int32</span>
<span class="hljs-comment"># dtypes: int32(5)</span>
<span class="hljs-comment"># memory usage: 280.0+ bytes</span>
</code></pre>
<h4 data-id="heading-25">ç´¢å¼•æ“ä½œ</h4>
<p>å·²çŸ¥æ•°æ®æ˜¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b68ba851a30e4bc68d08364b22c73748~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=vlzYN%2BwdB0SNRetT7fRWsGIwYBA%3D" alt="image.png" loading="lazy"/></p>
<p>æ–°å¢ä¸€åˆ—ï¼Œåˆ—åæ˜¯ åŒå­¦0ï¼Œå€¼å…¨éƒ¨æ˜¯ stu</p>
<pre><code class="hljs language-py" lang="py">score_df[<span class="hljs-string">'åŒå­¦0'</span>] = <span class="hljs-string">'stu'</span>
<span class="hljs-comment"># åˆ é™¤åˆ—ï¼Œaxis = 1 æ˜¯åˆ—</span>
score_df.drop(<span class="hljs-string">'åŒå­¦0'</span>, axis=<span class="hljs-number">1</span>, inplace=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78d8d9b72cdb446a956f2b2146a44fab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=RtwrSwMtE%2FkYteM3%2FqqLogQTO0A%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è®¾ç½®ç´¢å¼•åˆ—</p>
</blockquote>
<p>reset_indexï¼Œå¯ä»¥è¢«æ‰§è¡Œå¤šæ¬¡ï¼Œä½†æ˜¯æ‰§è¡Œå¤šæ¬¡æœ‰ä¸Šé™ï¼Œä¼šå°† index å’Œ level0ç½®é¡¶è¿‡å»ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è®¾ç½®</span>
score_df.reset_index(<span class="hljs-string">'month'</span>, drop=<span class="hljs-literal">False</span>, inplace=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># å–æ¶ˆè®¾ç½®ç´¢å¼•åˆ—</span>
score_df.reset_index(inplace=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># è®¾ç½®å¤šåˆ—ç´¢å¼•</span>
score_df.reset_index([<span class="hljs-string">'month'</span>, <span class="hljs-string">'year'</span>], drop=<span class="hljs-literal">False</span>, inplace=<span class="hljs-literal">True</span>)
</code></pre>
<h4 data-id="heading-26">æ•°æ®ç±»å‹</h4>


















































<table><thead><tr><th>Pandasæ•°æ®ç±»å‹</th><th>è¯´æ˜</th><th>å¯¹åº”çš„Pythonç±»å‹</th></tr></thead><tbody><tr><td>Object</td><td>å­—ç¬¦ä¸²ç±»å‹</td><td>string</td></tr><tr><td>int</td><td>æ•´æ•°ç±»å‹</td><td>int</td></tr><tr><td>float</td><td>æµ®ç‚¹æ•°ç±»å‹</td><td>float</td></tr><tr><td>datetime</td><td>æ—¥æœŸæ—¶é—´ç±»å‹</td><td>datetimeåŒ…ä¸­çš„datetimeç±»å‹</td></tr><tr><td>timedelta</td><td>æ—¶é—´å·®ç±»å‹</td><td>datetimeåŒ…ä¸­çš„timedeltaç±»å‹</td></tr><tr><td>category</td><td>åˆ†ç±»ç±»å‹</td><td>æ— åŸç”Ÿç±»å‹ï¼Œå¯ä»¥è‡ªå®šä¹‰</td></tr><tr><td>bool</td><td>å¸ƒå°”ç±»å‹</td><td>boolï¼ˆTrue,Falseï¼‰</td></tr><tr><td>nan</td><td>ç©ºå€¼ç±»å‹</td><td>None</td></tr></tbody></table>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.to_datetime(<span class="hljs-string">'2025-11-10'</span>)
<span class="hljs-comment"># &lt;class 'pandas._libs.tslibs.timestamps.Timestamp'&gt;</span>
pd.to_datetime([<span class="hljs-string">'2025-11-10'</span>, <span class="hljs-string">'2025-11-11'</span>, <span class="hljs-string">'2025-11-12'</span>])
<span class="hljs-comment"># DatetimeIndex(['2025-11-10', '2025-11-11', '2025-11-12'], dtype='datetime64[ns]', freq=None)</span>
</code></pre>
<blockquote>
<p>è®¡ç®—æ—¶é—´é—´éš”</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
start = pd.to_datetime(<span class="hljs-string">'2025-11-10'</span>)
end = pd.to_datetime(<span class="hljs-string">'2025-11-13'</span>)

result = end - start
<span class="hljs-built_in">print</span>(result) <span class="hljs-comment"># 3 days 00:00:00</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(result)) <span class="hljs-comment"># &lt;class 'pandas._libs.tslibs.timedeltas.Timedelta'&gt;</span>
</code></pre>
<p><strong>category ç±»å‹</strong></p>
<p>æ­¤æ—¶æœ‰é‡å¤çš„æ•°æ®ã€‚</p>
<p>æ‰“å°ç»“æœä¸ºï¼š</p>
<p>0     apple<br/>
1      pear<br/>
2    orange<br/>
3     apple<br/>
4      pear<br/>
dtype: object<br/></p>
<p>åŠ ä¸Š dtype = categoryï¼Œæ•°æ®ä¸€æ ·ï¼Œä½†æ˜¯æ‰“å°çš„å€¼ç±»å‹æ˜¯3ä¸ªï¼Œå‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œåªå­˜å‚¨å”¯ä¸€å€¼ã€‚</p>
<p>0     apple<br/>
1      pear<br/>
2    orange<br/>
3     apple<br/>
4      pear<br/>
dtype: category <br/>
Categories (3, object): ['apple', 'orange', 'pear']</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment"># f = pd.Series(['apple', 'pear', 'orange', 'apple', 'pear'])</span>
f = pd.Series([<span class="hljs-string">'apple'</span>, <span class="hljs-string">'pear'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'apple'</span>, <span class="hljs-string">'pear'</span>], dtype=<span class="hljs-string">'category'</span>)
</code></pre>
<h3 data-id="heading-27">æ“ä½œ pandas æ•°æ®</h3>
<h4 data-id="heading-28">ä½¿ç”¨è¯­æ³•å’Œ loc è·å–</h4>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60609a3e4ebb47f0902eb4ec1d6fe8b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=%2BbI9c7mROIKFmtU37TAyqaHbuLI%3D" alt="image.png" loading="lazy"/></p>
<p>å› ä¸ºæ—¶é—´è®¾ç½®äº†ç´¢å¼•ï¼Œæ‰€ä»¥æ˜¯æŒ‰ç…§æ—¶é—´æ’çš„ï¼Œæ³¨æ„ï¼šå¿…é¡»æ˜¯å…ˆåˆ—åè¡Œ</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è·å– open åˆ—</span>
sd[<span class="hljs-string">'open'</span>]

<span class="hljs-comment"># å¿…é¡»æ˜¯5ä¸ªï¼Œå› ä¸ºæ˜¯5è¡Œï¼Œæ§åˆ¶æ˜¯å¦æŸ¥çœ‹è¿™ä¸€è¡Œã€‚</span>
sd.head(<span class="hljs-number">5</span>)[[<span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>]]
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22472a30bb2a46448be347fdcb276d9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=Pg6qS8EHOllxh1uobR4DKuQ4n0Y%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è·å–åˆ°å…·ä½“çš„æ•°æ®ï¼Œè¯­æ³•ï¼šsd[åˆ—][è¡Œ] </span>
sd[<span class="hljs-string">'open'</span>][<span class="hljs-string">'2018-02-23'</span>] <span class="hljs-comment"># 22.88</span>
<span class="hljs-comment"># è¿™ä¹Ÿæ˜¯è·å–çš„ï¼Œåªä¸è¿‡æ˜¯å…ˆè¡Œååˆ—ï¼Œè¯­æ³•ï¼šsd.loc[è¡Œ, åˆ—]</span>
sd.loc[<span class="hljs-string">'2018-02-23'</span>, <span class="hljs-string">'open'</span>]
</code></pre>
<blockquote>
<p>è·å–åŒºé—´çš„æ•°æ®ï¼Œè¯­æ³•ï¼šloc[å¼€å§‹:ç»“æŸ, åˆ—å]ï¼Œä¸æŒ‡å®šåˆ—ï¼Œæ˜¯æ‰€æœ‰åˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">sd.loc[<span class="hljs-string">'2018-02-27'</span>:<span class="hljs-string">'2018-02-22'</span>, <span class="hljs-string">'open'</span>]
<span class="hljs-comment"># è·å–å¤šåˆ—</span>
sd.loc[<span class="hljs-string">'2018-02-27'</span>:<span class="hljs-string">'2018-02-22'</span>, [<span class="hljs-string">'open'</span>, <span class="hljs-string">'high'</span>]]
<span class="hljs-comment"># å†™ä¸€ä¸ª : å·ä¹Ÿæ˜¯æ‰€æœ‰åˆ—</span>
sd.loc[<span class="hljs-string">'2018-02-27'</span>:<span class="hljs-string">'2018-02-22'</span>, :]
<span class="hljs-comment"># éƒ½ä¸å†™ï¼Œæ‰€æœ‰æ—¶é—´ï¼Œæ‰€æœ‰åˆ—</span>
sd.loc[:, :]
</code></pre>
<h4 data-id="heading-29">ä½¿ç”¨ iloc è·å–</h4>
<p>iloc æ˜¯æ“ä½œç´¢å¼•çš„</p>
<blockquote>
<p>è·å–ç¬¬æŒ‡å®šè¡Œæ‰€æœ‰åˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è·å–ç¬¬ 0 è¡Œæ‰€æœ‰</span>
<span class="hljs-built_in">print</span>(sd.iloc[<span class="hljs-number">0</span>])
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f15887b4a5f344799598f806de99d52f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=kdS%2FjLbZj3YtgVokZTwhF19CY34%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è·å–æŒ‡å®šè¡Œçš„æŒ‡å®šåˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">sd.iloc[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]
</code></pre>
<blockquote>
<p>åŒºé—´æŸ¥æ‰¾</p>
</blockquote>
<p>è·å–å‰å››è¡Œæ•°æ®ï¼Œåªè¦ç¬¬0åˆ—ã€‚</p>
<pre><code class="hljs language-py" lang="py">sd.iloc[:<span class="hljs-number">4</span>, <span class="hljs-number">0</span>]
</code></pre>
<p>è·å–å‰å››è¡Œï¼Œå¹¶ä¸”è¦ç¬¬0~4åˆ—</p>
<pre><code class="hljs language-py" lang="py">sd.iloc[:<span class="hljs-number">4</span>, <span class="hljs-number">0</span>:<span class="hljs-number">4</span>]
<span class="hljs-comment"># è·å–å‰å››è¡Œï¼Œæ‰€æœ‰åˆ—</span>
sd.iloc[:<span class="hljs-number">4</span>, :]
<span class="hljs-comment"># è·å–æ‰€æœ‰è¡Œæ‰€æœ‰åˆ—</span>
sd.iloc[:, :]
</code></pre>
<p>åŠ ä¸Šæ­¥é•¿</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># ä»ç¬¬1è¡Œåˆ°ç¬¬5è¡Œï¼Œæ­¥é•¿ä¸º2ï¼Œè·å–2~5åˆ—</span>
sd.iloc[<span class="hljs-number">1</span>:<span class="hljs-number">5</span>:<span class="hljs-number">2</span>, <span class="hljs-number">2</span>:<span class="hljs-number">5</span>]
</code></pre>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æŸ¥çœ‹ç¬¬ 0 è¡Œå’Œç¬¬2è¡Œ</span>
sd.iloc[[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]]
</code></pre>
<h4 data-id="heading-30">åˆ é™¤ã€æ·»åŠ ã€ä¿®æ”¹</h4>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åˆ é™¤ axis = 1 çš„åˆ—ï¼Œåˆ—åæ˜¯ma20å’Œma10</span>
sd.drop([<span class="hljs-string">'ma20'</span>, <span class="hljs-string">'ma10'</span>], axis=<span class="hljs-number">1</span>)
</code></pre>
<p>åœ¨è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åˆ—åè¿›è¡Œèµ‹å€¼ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ </p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># å°†openåˆ—çš„å€¼è®¾ç½®ä¸º1</span>
sd[<span class="hljs-string">'open'</span>] = <span class="hljs-number">1</span>
<span class="hljs-comment"># å› ä¸ºaiåˆ—æ²¡æœ‰ï¼Œæ­¤æ—¶æ˜¯æ–°å¢</span>
sd[<span class="hljs-string">'ai'</span>] = <span class="hljs-string">'333'</span>
<span class="hljs-comment"># è¿™æ ·æ–°å¢çš„æ—¶å€™ï¼Œä¼šæ¯è¡Œè¿›è¡Œè®¡ç®—ï¼Œè€Œä¸æ˜¯æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªæ•°æ®</span>
sd[<span class="hljs-string">'diff'</span>] = sd[<span class="hljs-string">'high'</span>] - sd[<span class="hljs-string">'low'</span>]
</code></pre>
<p>ç»†èŠ‚ï¼šæ–¹æ‹¬å·é‡Œå†™åˆ—åå’Œ.åˆ—åï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ç‰¹æ®Šå†…å®¹ï¼Œç›´æ¥å†™å‡ºæ¥ï¼Œå¹¶ä¸åˆè§„</p>
<h4 data-id="heading-31">æ’åº</h4>
<p>å·²çŸ¥ sd æ•°æ®å¦‚ä¸‹å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd7b91eb0d4b464ab3f6142324f5ab58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=HZpBHQLl2kCv4wg4yo7uNL3qTbM%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ascendingï¼šç­‰äº false æ˜¯é™åºæ’åº</li>
<li>æ³¨æ„axis åªèƒ½æ˜¯ 0</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># é»˜è®¤æ˜¯å‡åºæ’åºï¼ŒæŒ‡å®šåˆ—å</span>
sd.sort_values(<span class="hljs-string">'åˆ—å'</span>, ascending=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># å¤šåˆ—åæ’åº</span>
sd.sort_values([<span class="hljs-string">'åˆ—å'</span>, <span class="hljs-string">'åˆ—å'</span>])
<span class="hljs-comment"># å¤šåˆ—åæ’åºï¼Œå¹¶å•ç‹¬æŒ‡å®šæ’åºè§„åˆ™</span>
sd.sort_values([<span class="hljs-string">'åˆ—å'</span>, <span class="hljs-string">'åˆ—å'</span>], ascending=[<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>])
<span class="hljs-comment"># æ ¹æ®ç´¢å¼•æ’åºï¼Œé»˜è®¤æ˜¯Trueï¼Œå‡åº</span>
sd.sort_index(ascending=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># è¿™æ ·ä¹Ÿå¯ä»¥</span>
sd.åˆ—å.sort_values()
</code></pre>
<h3 data-id="heading-32">pandas åŸºç¡€è¿ç®—</h3>
<p>å·²çŸ¥ open æ•°æ®å¦‚ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7abbf742ca664307ba70c9ee37dab198~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=Z3CzU1kWXkfrMxS984ulbRhOIoo%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>åŸºç¡€è¿ç®—ç¬¦ +-*/ éƒ½ä¸€æ ·</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># ä¸´æ—¶æ•°æ®ï¼Œæ­¤æ—¶ s çš„ç»“æœæ˜¯openè¿™ä¸€åˆ— + 1çš„æ•°æ®</span>
s = <span class="hljs-built_in">open</span> + <span class="hljs-number">1</span>
<span class="hljs-comment"># æ­¤æ—¶è¿”å›çš„ s ä¹Ÿæ˜¯åŠ  1 çš„</span>
s = <span class="hljs-built_in">open</span>.add(<span class="hljs-number">1</span>)

<span class="hljs-comment"># ä¿®æ”¹åŸæ•°æ® + 1</span>
<span class="hljs-built_in">open</span> += <span class="hljs-number">1</span>
</code></pre>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åŠ æ³•æ˜¯ openï¼Œå‡æ³•æ˜¯ sub</span>
<span class="hljs-built_in">open</span>.sub(<span class="hljs-number">1</span>)
</code></pre>
<blockquote>
<p>å¯ä»¥è¿›è¡Œä¸¤ä¸ªå­—æ®µç›¸è®¡ç®—ã€‚ç©ºç”¨Nanå¡«å……</p>
</blockquote>
<p><strong>å®ç°å¯¹æ•´ä¸ªDataFrameè¡¨åŠ  1</strong></p>
<p>å·²çŸ¥æ•´ä¸ªè¡¨çš„æ•°æ®ä¸º sd</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5430fb7dbc9496aa5ca17567fd7c2ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=fmz6DgSEO9D%2FkOQjaEO%2FQweEjas%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py">sd + <span class="hljs-number">1</span>
</code></pre>
<h3 data-id="heading-33">pandas é€»è¾‘è¿ç®—</h3>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9c0185a3b3543ea912de41b2ab24f84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=M08OjkiIrGgiaMJUhHJw3gxl6No%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># ç­›é€‰å‡º open çš„å€¼å¤§äº 23 çš„</span>
sd[sd.<span class="hljs-built_in">open</span> &gt; <span class="hljs-number">23</span>]
<span class="hljs-comment"># å¤šæ¡ä»¶åˆ¤æ–­æ–¹å¼ä¸€</span>
sd[(sd.<span class="hljs-built_in">open</span> &gt;= <span class="hljs-number">23</span>) &amp; (sd.<span class="hljs-built_in">open</span> &lt;= <span class="hljs-number">24</span>)]
sd[(sd[<span class="hljs-string">'open'</span>] &gt;= <span class="hljs-number">23</span>) &amp; (sd[<span class="hljs-string">'open'</span>] &lt;= <span class="hljs-number">24</span>)]
</code></pre>
<blockquote>
<p>é€»è¾‘è¿ç®—å‡½æ•°æ–¹å¼</p>
</blockquote>
<ul>
<li>queryï¼šå¯ä»¥ç›´æ¥å†™è¡¨è¾¾å¼</li>
<li>isinï¼šç­‰äºæ¯”è¾ƒ</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æŸ¥è¯¢å‡ºæ¥ open çš„å€¼åœ¨ 23 å’Œ 24 ä¹‹é—´</span>
sd.query(<span class="hljs-string">'open &gt;= 23 &amp; open &lt;= 24'</span>)
<span class="hljs-comment"># æŸ¥è¯¢å‡ºæ¥ open ç­‰äº 23.8æˆ–è€…ç­‰äº22.8</span>
sd[(sd.<span class="hljs-built_in">open</span> == <span class="hljs-number">23.8</span>) | (sd.<span class="hljs-built_in">open</span> == <span class="hljs-number">22.8</span>)]
<span class="hljs-comment"># query æ–¹å¼</span>
sd.query(<span class="hljs-string">'open in [22.8, 23.8]'</span>)
<span class="hljs-comment"># isin æ–¹å¼</span>
sd[sd.<span class="hljs-built_in">open</span>.isin([<span class="hljs-number">22.8</span>, <span class="hljs-number">23.8</span>])]
</code></pre>
<h3 data-id="heading-34">ç»Ÿè®¡å‡½æ•°</h3>
<p>å·²çŸ¥æ•°æ®æ˜¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fec87eeacdc84dbf9cb2d845b2c9ba87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=3K0rWMeFgZhFmIihEKkJw4UQNGg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># ç»Ÿè®¡æ¯åˆ—æ•°æ®çš„æ€»æ¡æ•°</span>
sd.count()
sd.count(axis=<span class="hljs-number">0</span>)

<span class="hljs-comment"># ç»Ÿè®¡æ¯è¡Œæœ‰å¤šå°‘åˆ—</span>
sd.count(axis=<span class="hljs-string">'columns'</span>)
<span class="hljs-comment"># ç»Ÿè®¡æ¯åˆ—æœ‰å¤šå°‘è¡Œ</span>
sd.count(axis=<span class="hljs-string">'rows'</span>)

<span class="hljs-comment"># æŸ¥çœ‹æ¯åˆ—æœ€å¤§å€¼</span>
sd.<span class="hljs-built_in">max</span>()
sd.<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment"># æŒ‰è¡Œç´¢å¼•ç»Ÿè®¡æœ€å¤§å€¼</span>
sd.<span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>)
<span class="hljs-comment"># æœ€å°å€¼  min</span>
<span class="hljs-comment"># æŸ¥çœ‹å¹³å‡å€¼</span>
sd.mean()

</code></pre>
<p>æ–¹å·®æ€ä¹ˆç®—å‘¢ï¼Œæ¯ä¸ªå€¼å’Œå¹³å‡å€¼çš„å·®å€¼ã€‚</p>
<p>æ¯ä¸ªå€¼å’Œ å¹³å‡å€¼çš„å·®çš„ä¸€ä¸ªå¹³æ–¹å’Œçš„å¹³å‡å€¼ã€‚</p>
<p>æ ‡å‡†å·®ç­‰äº æ–¹å·®å¼€æ ¹å·ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æŸ¥çœ‹æ¯åˆ—çš„æ ‡å‡†å·®(std)ï¼Œæ–¹å·®(var)</span>
sd.std()
sd.var()
</code></pre>
<p>æ±‚ä¸­ä½æ•°ï¼Œå°†æ•°æ®ä»å°åˆ°å¤§æ’åºï¼Œå–ä¸­é—´çš„é‚£ä¸ªæ•°å­—ï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œå–ä¸­é—´ä¸¤ä¸ªæ•°å­—çš„å¹³å‡å€¼ã€‚</p>
<pre><code class="hljs language-py" lang="py">df = pd.DataFrame({
    <span class="hljs-string">'col1'</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>], <span class="hljs-comment"># æ’åºåï¼š2,2,3,4,4,5</span>
    <span class="hljs-string">'col2'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>]  <span class="hljs-comment"># æ’åºåï¼š0,1,2,2,3,4</span>
})
df.median()
<span class="hljs-comment"># col1    3.5ï¼Œ3å’Œ4ä¹‹é—´å°±æ˜¯3.5</span>
<span class="hljs-comment"># col2    2.0 # ä¸¤ä¸ªä¸€æ ·å°±æ˜¯ 2</span>
<span class="hljs-comment"># dtype: float64</span>
</code></pre>
<p>å¦‚æœä¸æ˜¯å¶æ•°ï¼Œæ˜¯å¥‡æ•°ï¼Œç›´æ¥å–ä¸­é—´çš„æ•°å­—</p>
<pre><code class="hljs language-py" lang="py">df = pd.DataFrame({
    <span class="hljs-string">'col1'</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">10</span>], <span class="hljs-comment"># æ’åºåï¼š2,2,3,4,4,5,10</span>
    <span class="hljs-string">'col2'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">10</span>]  <span class="hljs-comment"># æ’åºåï¼š0,1,2,2,3,4,10</span>
})
<span class="hljs-comment"># æ±‚ä¸­ä½æ•°</span>
df.median()
<span class="hljs-comment"># col1    4.0</span>
<span class="hljs-comment"># col2    2.0</span>
<span class="hljs-comment"># dtype: float64</span>

<span class="hljs-comment"># æ±‚æœ€å¤§å€¼ä½ç½®ï¼Œæ‰¾å‡ºè¡Œ ç´¢å¼•</span>
df.idxmax()
<span class="hljs-comment"># df.idxmax(1) # å¦‚æœæ˜¯1æ²¡æœ‰æ„ä¹‰ï¼Œæ±‚å‡ºæ¥çš„æ˜¯åˆ—å</span>
<span class="hljs-comment"># col1    6</span>
<span class="hljs-comment"># col2    6</span>
<span class="hljs-comment"># dtype: int64</span>
</code></pre>
<h3 data-id="heading-35">ç´¯åŠ å’Œå‡½æ•°</h3>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cf8cd43a2c749569243ccf5622cfa74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=m4vU9P5dKwjsL0%2F29HfinHnjoIA%3D" alt="image.png" loading="lazy"/></p>
<p>è®¡ç®—æ¯åˆ—çš„ç´¯åŠ å’Œ</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æ±‚æ¯åˆ—ç´¯åŠ å’Œ</span>
sd.cumsum()
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ae3e824e5f24a359ad22eee18e4d28d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=uq18T2KJZzztXBNmOSzyCDaCH6U%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è®¡ç®— open åˆ—</span>
sd.<span class="hljs-built_in">open</span>.cumsum()
<span class="hljs-comment"># ç»˜åˆ¶æ‰€æœ‰åˆ—çš„å¯è§†åŒ–å›¾</span>
sd.cumsum().plot()
</code></pre>
<h3 data-id="heading-36">apply å‡½æ•°æ‰§è¡Œè‡ªå®šä¹‰å‡½æ•°</h3>
<p>apply(å‡½æ•°å¯¹è±¡ï¼Œaxis=0)</p>
<p>æ‰§è¡Œè‡ªå®šä¹‰å‡½æ•°ï¼ŒæŒ‰è¡Œ 1 æˆ–è€… æŒ‰åˆ— 0  ä¼ å…¥æ•°æ®ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æ±‚æ¯è¡Œçš„æœ€å¤§å€¼</span>
sd.apply(<span class="hljs-keyword">lambda</span> col: col.<span class="hljs-built_in">max</span>(), axis=<span class="hljs-number">0</span>)
<span class="hljs-comment"># æ±‚æ¯è¡Œçš„æœ€å°å€¼</span>
sd.apply(<span class="hljs-keyword">lambda</span> col: col.<span class="hljs-built_in">max</span>(), axis=<span class="hljs-number">0</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3b05c736067411196b43d64e5e377dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=xqY08RI2VR3XRNm8HsN%2FpJkUh3w%3D" alt="image.png" loading="lazy"/></p>
<p>ä»¥è¡Œçš„æ–¹å¼ä¼ å…¥</p>
<pre><code class="hljs language-py" lang="py">sd.apply(<span class="hljs-keyword">lambda</span> row: row.<span class="hljs-built_in">max</span>(), axis=<span class="hljs-number">1</span>)
</code></pre>
<h3 data-id="heading-37">è¯»å†™æ–‡ä»¶</h3>
<p>csv æ˜¯ä»¥é€—å·åˆ†éš”ï¼Œtsv æ˜¯ä»¥ Tab åˆ†å‰²ã€‚</p>
<blockquote>
<p>è¯»å– CSV</p>
</blockquote>
<ul>
<li>index_colï¼šè®¾ç½®ç´¢å¼•åˆ—</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è¯»å–æ‰€æœ‰åˆ—</span>
sd = pd.read_csv(<span class="hljs-string">'./stock_day.csv'</span>)
<span class="hljs-comment"># åŠ è½½æŒ‡å®šåˆ—</span>
sd = pd.read_csv(<span class="hljs-string">'./stock_day.csv'</span>, usecols=[<span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>])
</code></pre>
<blockquote>
<p>å†™å…¥ csv</p>
</blockquote>
<ul>
<li>indexï¼šæ˜¯å¦å°†ç´¢å¼•å†™å…¥ï¼Œé»˜è®¤True</li>
<li>headerï¼šæ˜¯å¦å°†è¡¨å¤´å†™å…¥ï¼Œé»˜è®¤True</li>
</ul>
<pre><code class="hljs language-py" lang="py">sd.to_csv(<span class="hljs-string">'./testHead10.csv'</span>, index=<span class="hljs-literal">True</span>, header=<span class="hljs-literal">True</span>)
</code></pre>
<blockquote>
<p>è¯»å– TSV</p>
</blockquote>
<ul>
<li>columnsï¼šæŒ‡å®šå†™å‡ºçš„åˆ—</li>
<li>sepï¼šæŒ‰ \t åˆ†å‰²</li>
<li>mode='a'ï¼šè¡¨ç¤ºè¿½åŠ </li>
</ul>
<pre><code class="hljs language-py" lang="py">sd.to_csv(<span class="hljs-string">'./testHead10.tsv'</span>, sep=<span class="hljs-string">'\t'</span>, columns=[<span class="hljs-string">'low'</span>])
</code></pre>
<h3 data-id="heading-38">è¯»å†™ SQL</h3>
<p>åˆ›å»ºå¼•æ“å¯¹è±¡</p>
<ul>
<li>mysql+pymysqlï¼šè¦æ“ä½œçš„æ•°æ®åº“ï¼Œå…·ä½“ç”¨çš„åŒ…</li>
<li>root:123456ï¼šè¦æ“ä½œçš„æ•°æ®åº“çš„è´¦å·å’Œå¯†ç </li>
<li>localhost:3306ï¼šæ•°æ®åº“çš„IPå’Œç«¯å£</li>
<li>my_projectï¼šæ•°æ®åº“è¡¨</li>
<li>charsetï¼šç è¡¨</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># å¯¼åŒ…</span>
<span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> create_engine
engine =  create_engine(<span class="hljs-string">'mysql+pymysql://root:123456@localhost:3306/my_project?charset=utf8'</span>)
<span class="hljs-comment"># Engine(mysql+pymysql://root:***@localhost:3306/my_project?charset=utf8)</span>
</code></pre>
<blockquote>
<p>å†™å…¥</p>
</blockquote>
<ul>
<li>å‚æ•°ä¸€ï¼šå¯¼å…¥çš„sqlè¡¨å</li>
<li>å‚æ•°äºŒï¼šè¿æ¥å¯¹è±¡</li>
<li>å‚æ•°ä¸‰ï¼šæ˜¯å¦åŒ…å«ç´¢å¼•</li>
<li>å‚æ•°å››ï¼šå¯¼å…¥æ¨¡å¼ï¼ˆå¦‚æœè¡¨åå­˜åœ¨ï¼‰ï¼Œfail/æŠ¥é”™, replace/è¦†ç›–ï¼Œappend/è¿½åŠ </li>
</ul>
<pre><code class="hljs language-py" lang="py">sd = pd.read_csv(<span class="hljs-string">'./csvç¤ºä¾‹æ–‡ä»¶.csv'</span>, encoding=<span class="hljs-string">'GBK'</span>, index_col=<span class="hljs-number">0</span>)
sd.to_sql(<span class="hljs-string">'person_info'</span>, engine, index=<span class="hljs-literal">False</span>, if_exists=<span class="hljs-string">'replace'</span>)
</code></pre>
<blockquote>
<p>è¯»å…¥</p>
</blockquote>
<ul>
<li>å‚æ•°ä¸€ï¼šsqlè¯­å¥</li>
<li>å‚æ•°äºŒï¼šå¼•æ“å¯¹è±¡</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> create_engine
engine =  create_engine(<span class="hljs-string">'mysql+pymysql://root:123456@localhost:3306/my_project?charset=utf8'</span>)
pd.read_sql(<span class="hljs-string">'select * from person_info'</span>, engine)
</code></pre>
<h3 data-id="heading-39">æ•°æ®è½¬JSON</h3>
<ul>
<li>ensure_asciiï¼šæ˜¯å¦å°†ä¸­æ–‡è½¬æ¢ä¸º ASCII ç </li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> json
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå­—å…¸ </span>
dict_data = {<span class="hljs-string">'name'</span>: <span class="hljs-string">'ä¹”å³°'</span>, <span class="hljs-string">'age'</span>: <span class="hljs-number">38</span>, <span class="hljs-string">'sex'</span>: <span class="hljs-string">'ç”·'</span>}

<span class="hljs-comment"># å°†å­—å…¸è½¬ä¸ºJSON</span>
json2 = json.dumps(dict_data, ensure_ascii=<span class="hljs-literal">False</span>)

<span class="hljs-comment"># å°† JSON è½¬æ¢ä¸º å­—å…¸</span>
newDict = json.loads(json2)
</code></pre>
<h3 data-id="heading-40">è¯»å–JSONæ–‡ä»¶</h3>
<p>é¦–å…ˆ json æ–‡ä»¶æ˜¯å¦‚ä¸‹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¹”å³°"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">38</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"sex"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”·"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¹”å³°2"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">39</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"sex"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”·"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¹”å³°3"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">40</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"sex"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”·"</span><span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li>å‚æ•°ä¸€ï¼šæ˜¯è·¯å¾„</li>
<li>å‚æ•°äºŒï¼šæ˜¯è¯»å–æ–¹å¼ï¼Œè¡¨ç¤ºæ¯ä¸ªå¯¹è±¡æ˜¯ä¸€è¡Œ
<ul>
<li>recordsï¼šæ¯ä¸ªå¯¹è±¡ä¸€è¡Œ</li>
<li>columnsï¼šä»¥åˆ—ä¸ºä¸»</li>
<li>indexï¼šä»¥ç´¢å¼•ä¸ºä¸»</li>
</ul>
</li>
<li>å‚æ•°ä¸‰ï¼šæ˜¯ä¸€è¡Œä¸€è¡Œçš„è¯»å–</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.read_json(<span class="hljs-string">'./my.json'</span>, orient=<span class="hljs-string">'records'</span>, lines=<span class="hljs-literal">True</span>)
</code></pre>
<h3 data-id="heading-41">å†™å…¥ JSON æ–‡ä»¶</h3>
<p>å·²çŸ¥æ•°æ®æ˜¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b50c47543db4622996fd78d6920f418~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=riGZlvYIbUerlpW6VkCnuIw3ZEs%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df.to_json(<span class="hljs-string">'./my_to.json'</span>)
<span class="hljs-comment"># æ•ˆæœåŒä¸Š</span>
df.to_json(<span class="hljs-string">'./my_to.json'</span>, orient=<span class="hljs-string">'columns'</span>)
</code></pre>
<p>è½¬æ¢åæ˜¯
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75574631e44a4bcfb880c25e81784765~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=SSI2M%2FG77OdS%2FNMHcWMaTei5xfQ%3D" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æ˜¯æŒ‰è¡Œè¯»å–ï¼Œè¿”å›åˆ—è¡¨ orient='records'</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df.to_json(<span class="hljs-string">'./my_to.json'</span>, orient=<span class="hljs-string">'records'</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be0ec92072674092a7bcb9383e21c4c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=l2MEZfTCi%2Ba5QPXemKVlrQV4odg%3D" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æ¯ä¸ªå¯¹è±¡ä¸€è¡Œä¸€è¡Œï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œlines = True</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df.to_json(<span class="hljs-string">'./my_to.json'</span>, orient=<span class="hljs-string">'records'</span>, lines=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d746ce7f57844592a3d1e8a004f1b951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=Kk0HWiketX1rX%2F9kinduGIP0bT4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-42">DateFrame åˆ—æ“ä½œ</h3>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48fbd78536734f4e87a53892a4ddc2ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=8aAvkQ6PiNTIkBB%2FwKVAKdI8jgU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è¿™äº›éƒ½ä¼šä¿®æ”¹åŸå§‹æ•°æ®</strong></p>
<p>å¢åŠ  col1 åˆ—ï¼Œå€¼å…¨æ˜¯ 2</p>
<pre><code class="hljs language-py" lang="py">sd[<span class="hljs-string">'col1'</span>] = <span class="hljs-number">2</span>
</code></pre>
<p>å¢åŠ col2 åˆ—ï¼Œæ¯åˆ—æŒ‡å®šæ•°æ®ï¼Œè¿™ç§æ–¹å¼ï¼Œå‡è®¾è¯¥ DataFrameï¼Œæœ‰äº”åˆ—ï¼Œå°±åªèƒ½æŒ‡å®š 5 ä¸ªï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<pre><code class="hljs language-py" lang="py">sd[<span class="hljs-string">'col2'</span>] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
</code></pre>
<p>è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–åˆ—è®¡ç®—</p>
<pre><code class="hljs language-py" lang="py">sd[<span class="hljs-string">'col3'</span>] = sd.year * <span class="hljs-number">2</span>
</code></pre>
<p><strong>ä¸ä¼šä¿®æ”¹åŸå§‹æ•°æ®çš„</strong></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æ·»åŠ ä¸€åˆ— cole = 1</span>
sd.assign(cole = <span class="hljs-number">1</span>)
sd.assign(cole = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])
sd.assign(cole = sd.year * <span class="hljs-number">2</span>)
</code></pre>
<blockquote>
<p>ä½¿ç”¨ series å¯¹è±¡ä¼ å…¥ï¼Œå¦‚æœè¡Œæ•°å¯¹ä¸é½ï¼Œä½¿ç”¨ NAN å¡«å……</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
series = pd.Series([<span class="hljs-string">'æ®µå»¶åº†'</span>, <span class="hljs-string">'ç‹ä¼Ÿ'</span>, <span class="hljs-string">'å¶äºŒå¨˜'</span>, <span class="hljs-string">'ç‹å°è™'</span>])
sd.assign(col = series)
</code></pre>
<blockquote>
<p>ä½¿ç”¨å‡½æ•°</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fun1</span>(<span class="hljs-params">df</span>):
    <span class="hljs-comment"># è¿”å›ç´¢å¼•</span>
    <span class="hljs-keyword">return</span> df.index.values

sd.assign(col = fun1)
</code></pre>
<blockquote>
<p>ä¸€æ¬¡æ·»åŠ å¤šä¸ªåˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">sd.assign(
    col=<span class="hljs-number">2</span>, <span class="hljs-comment"># åˆ—1</span>
    col1=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>] <span class="hljs-comment"># åˆ—2</span>
)
</code></pre>
<h4 data-id="heading-43">åˆ é™¤</h4>
<blockquote>
<p>åˆ é™¤è¡Œ</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åˆ é™¤ç¬¬ 0 è¡Œï¼Œä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œè¿™æ˜¯æ ¹æ®ç´¢å¼•</span>
sd.drop([<span class="hljs-number">0</span>])
<span class="hljs-comment"># æ•ˆæœåŒä¸Š</span>
sd.drop([<span class="hljs-number">0</span>], axis = <span class="hljs-number">0</span>)

<span class="hljs-comment"># åˆ é™¤å¤šè¡Œ</span>
sd.drop([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>])
</code></pre>
<blockquote>
<p>åˆ é™¤åˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åˆ é™¤åˆ—</span>
sd.drop([<span class="hljs-string">'year'</span>, <span class="hljs-string">'col'</span>, <span class="hljs-string">'col1'</span>], axis=<span class="hljs-number">1</span>)
</code></pre>
<p>ä¿®æ”¹åŸæ•°æ®ï¼Œåˆ é™¤åˆ—</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">del</span> sd[<span class="hljs-string">'year'</span>]
</code></pre>
<h4 data-id="heading-44">å»é‡</h4>
<p><strong>dataframe çš„å»é‡</strong></p>
<p>å·²çŸ¥æ•°æ® sd æ•°æ®æ˜¯ 9930 è¡Œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fd7435363544689b20b1c2793b2228e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=kgwcaS68pMDYfewfV0VZJhDlB4U%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æ‰§è¡Œå»é‡</span>
sd.drop_duplicates()
</code></pre>
<p><strong>serires çš„å»é‡</strong></p>
<p>å‡è®¾æœ‰ä¸ª s å˜é‡æ˜¯seriesç±»å‹</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># å»é‡</span>
s.unique()
<span class="hljs-comment"># å»é‡</span>
s.drop_duplicates()
</code></pre>
<h4 data-id="heading-45">ä¿®æ”¹</h4>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># ä¿®æ”¹df5ï¼Œçš„GDPåˆ—ä¸º 66ï¼Œä¸´æ—¶ä¿®æ”¹</span>
df5.assign(GDP=<span class="hljs-number">66</span>)
<span class="hljs-comment"># åŒä¸Š</span>
df5[<span class="hljs-string">'GDP'</span>] = [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]
</code></pre>
<p>replace æ›¿æ¢</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># å°† sd2 çš„ year å­—æ®µçš„ 1960 ä¿®æ”¹ä¸º 2025</span>
sd2.year.replace(<span class="hljs-number">1960</span>, <span class="hljs-number">2025</span>)

<span class="hljs-comment"># æ›¿æ¢å¤šä¸ªå€¼ï¼Œæ–¹å¼ä¸€</span>
sd2.replace([<span class="hljs-number">1960</span>, <span class="hljs-string">'æ—¥æœ¬'</span>, <span class="hljs-string">'ä¸­å›½'</span>], [<span class="hljs-number">2025</span>, <span class="hljs-string">'é¬¼å­'</span>, <span class="hljs-string">'é¾™å›½'</span>])
<span class="hljs-comment"># å¤šä¸ªå€¼ï¼Œæ–¹å¼äºŒ</span>
sd2.replace({<span class="hljs-number">1960</span>: <span class="hljs-number">2025</span>, <span class="hljs-string">'æ—¥æœ¬'</span>: <span class="hljs-string">'é¬¼å­'</span>, <span class="hljs-string">'ä¸­å›½'</span>: <span class="hljs-string">'é¾™å›½'</span>})
</code></pre>
<h3 data-id="heading-46">æŸ¥è¯¢dataFrameä¸­çš„æ•°æ®</h3>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># é»˜è®¤å–å‰5è¡Œæ•°æ®</span>
df.head()
df.head(<span class="hljs-number">10</span>) <span class="hljs-comment"># å–å‰10è¡Œ</span>

<span class="hljs-comment"># é»˜è®¤å–å5è¡Œæ•°æ®</span>
df.tail()
df.tail(<span class="hljs-number">15</span>) <span class="hljs-comment"># å€’æ•°15è¡Œ</span>
</code></pre>
<blockquote>
<p>è·å–ä¸€åˆ—æˆ–å¤šåˆ—æ•°æ®</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">df[<span class="hljs-string">'country'</span>]
df.country
df[[<span class="hljs-string">'country'</span>, <span class="hljs-string">'GDP'</span>]] <span class="hljs-comment"># è¿”å›æ–°çš„df</span>
</code></pre>
<blockquote>
<p>ç´¢å¼•ä¸‹æ ‡åˆ‡ç‰‡å–è¡Œ</p>
</blockquote>
<p>æ ¼å¼ï¼š<code>df[start:stop:step]</code></p>
<pre><code class="hljs language-py" lang="py">df[:<span class="hljs-number">3</span>] <span class="hljs-comment"># å–å‰3è¡Œ</span>
df[:<span class="hljs-number">5</span>:<span class="hljs-number">2</span>] <span class="hljs-comment"># å–å‰5è¡Œï¼Œæ­¥é•¿ä¸º2</span>
df[<span class="hljs-number">1</span>::<span class="hljs-number">3</span>] <span class="hljs-comment"># å–ç¬¬2è¡Œåˆ°æœ€åæ‰€æœ‰è¡Œï¼Œæ­¥é•¿ä¸º3</span>
</code></pre>
<blockquote>
<p>æŸ¥æ‰¾æ•°æ®</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">df.query(<span class="hljs-string">'country=="å¸•åŠ³"'</span>)
df[df[<span class="hljs-string">'country'</span>]==<span class="hljs-string">'å¸•åŠ³'</span>]
</code></pre>
<p><strong>å¤šæ¡ä»¶æŸ¥è¯¢</strong></p>
<pre><code class="hljs language-py" lang="py">df.query(<span class="hljs-string">'country=="ä¸­å›½" or country=="æ—¥æœ¬" or country=="ç¾å›½"'</span>).query(<span class="hljs-string">'year in ["2015", "2016", "2017", "2018", "2019"]'</span>)
df.query(<span class="hljs-string">'(country=="ä¸­å›½" or country=="æ—¥æœ¬" or country=="ç¾å›½") and year in ["2015", "2016", "2017", "2018", "2019"]'</span>)
</code></pre>
<h3 data-id="heading-47">æ’åºå‡½æ•°</h3>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3a068a249324e658e6b4f92841003a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=ciSrSSLADX3vaC9D30IIwap9EQ4%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æ ¹æ®ç´¢å¼•æ’åºï¼Œé»˜è®¤å‡åºï¼Œ ascending è®¾ç½®ä¸ºfalse ï¼Œé™åº</span>
sd.sort_index(ascending=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># æŒ‰ç…§å­—æ®µæ’åºï¼Œé»˜è®¤å‡åºï¼Œascending è®¾ç½® Falseï¼Œé™åº</span>
sd.sort_values(<span class="hljs-string">'GDP'</span>, ascending=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># å¦‚æœyearä¸€æ ·ï¼ŒæŒ‰ç…§GDPæ’åºï¼Œé™åºæ’åº</span>
sd.sort_values([<span class="hljs-string">'year'</span>, <span class="hljs-string">'GDP'</span>], ascending=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># å¦‚æœyearä¸€æ ·ï¼ŒæŒ‰ç…§GDPæ’åºï¼Œyear æ˜¯é™åºæ’åºï¼ŒGDP æ˜¯å‡åºæ’åº</span>
sd.sort_values([<span class="hljs-string">'year'</span>, <span class="hljs-string">'GDP'</span>], ascending=[<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>])
</code></pre>
<blockquote>
<p>æ’åå‡½æ•°ï¼Œrank</p>
</blockquote>
<p>å®šä¹‰æ•°æ®</p>
<pre><code class="hljs language-py" lang="py">df = pd.DataFrame({
    <span class="hljs-string">'å§“å'</span>: [<span class="hljs-string">'å°æ˜'</span>, <span class="hljs-string">'å°ç¾'</span>, <span class="hljs-string">'å°å¼º'</span>, <span class="hljs-string">'å°å…°'</span>],
    <span class="hljs-string">'æˆç»©'</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>]
})
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/346ebebee08043de823be823b2bc5d2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=ajmexwask3iysxC4kEiNcYS216o%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># æŒ‰ç…§æ’åï¼Œé™åºæ’åºï¼Œè¯„åˆ†ä¸€è‡´ï¼Œå–å¹³å‡å€¼</span>
df.rank(ascending=<span class="hljs-literal">False</span>)
df.rank(ascending=<span class="hljs-literal">False</span>, method=<span class="hljs-string">'average'</span>)
<span class="hljs-comment"># è¯„åˆ†ä¸€è‡´ï¼Œå–æœ€å°å€¼</span>
df.rank(ascending=<span class="hljs-literal">False</span>, method=<span class="hljs-string">'min'</span>)
<span class="hljs-comment"># è¯„åˆ†ä¸€è‡´ï¼Œå–æœ€å¤§å€¼</span>
df.rank(ascending=<span class="hljs-literal">False</span>, method=<span class="hljs-string">'max'</span>)
<span class="hljs-comment"># è¯„åˆ†ä¸€è‡´ï¼Œæ•°å€¼ç›¸åŒï¼Œå®Œå…¨ç­‰ä»·äºSQLä¸­çš„dense_rank()ï¼Œå®Œå…¨ç­‰äº minå‡½æ•°</span>
df.rank(ascending=<span class="hljs-literal">False</span>, method=<span class="hljs-string">'dense'</span>)
</code></pre>
<h3 data-id="heading-48">ç¼ºå¤±å€¼å¤„ç†</h3>
<p>å·²çŸ¥ sd æ•°æ®ä¸º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fc8895bf35340dbaf0f10f5eca7c081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=SP5abdEvJCHFZGl1GpZh6zzVEyI%3D" alt="image.png" loading="lazy"/></p>
<p>æŸ¥çœ‹ä¿¡æ¯</p>
<pre><code class="hljs language-py" lang="py">sd.info()

<span class="hljs-comment"># &lt;class 'pandas.core.frame.DataFrame'&gt;</span>
<span class="hljs-comment"># RangeIndex: 1000 entries, 0 to 999 # æœ‰ 0 ~ 999 è¡Œæ•°æ®</span>
<span class="hljs-comment"># Data columns (total 12 columns):</span>
<span class="hljs-comment">#  #   Column              Non-Null Count  Dtype  </span>
<span class="hljs-comment"># ---  ------              --------------  -----  </span>
<span class="hljs-comment">#  0   Rank                1000 non-null   int64  </span>
<span class="hljs-comment">#  1   Title               1000 non-null   object </span>
<span class="hljs-comment">#  2   Genre               1000 non-null   object </span>
<span class="hljs-comment">#  3   Description         1000 non-null   object </span>
<span class="hljs-comment">#  4   Director            1000 non-null   object </span>
<span class="hljs-comment">#  5   Actors              1000 non-null   object </span>
<span class="hljs-comment">#  6   Year                1000 non-null   int64  </span>
<span class="hljs-comment">#  7   Runtime (Minutes)   1000 non-null   int64  </span>
<span class="hljs-comment">#  8   Rating              1000 non-null   float64</span>
<span class="hljs-comment">#  9   Votes               1000 non-null   int64  </span>
<span class="hljs-comment">#  10  Revenue (Millions)  872 non-null    float64 # 872è¡Œéç©º</span>
<span class="hljs-comment">#  11  Metascore           936 non-null    float64 # 936è¡Œéç©º</span>
<span class="hljs-comment"># dtypes: float64(3), int64(4), object(5)</span>
<span class="hljs-comment"># memory usage: 93.9+ KB</span>
</code></pre>
<blockquote>
<p>åˆ¤æ–­ç¼ºå¤±å€¼</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># æ‰“å°çš„åˆ—è¡¨æœ‰ true çš„å°±æ˜¯ç©ºå€¼</span>
sd.isnull()
<span class="hljs-comment"># æ‰“å°çš„åˆ—è¡¨æœ‰ true çš„æ˜¯éç©ºå€¼</span>
sd.notnull()
<span class="hljs-comment"># æ‰“å°ç¼ºå¤±å€¼çš„ä¸ªæ•°</span>
sd.isnull().<span class="hljs-built_in">sum</span>()
<span class="hljs-comment"># æ‰“å°éç¼ºå¤±å€¼çš„ä¸ªæ•°</span>
sd.notnull().<span class="hljs-built_in">sum</span>()
<span class="hljs-comment"># ä½¿ç”¨ numpy çš„allæ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦å…¨éƒ¨ä¸ä¸ºç©ºï¼Œæœ‰ä¸€ä¸ªå°± false</span>
np.<span class="hljs-built_in">all</span>(sd.notnull())
</code></pre>
<blockquote>
<p>åˆ é™¤ç¼ºå¤±å€¼</p>
</blockquote>
<p>æ¯”å¦‚ï¼ŒA å­—æ®µ å’Œ B å­—æ®µï¼ŒBå­—æ®µä¸ºç©ºï¼Œé‚£ä¹ˆå³ä½¿Aå­—æ®µä¸ä¸ºç©ºï¼Œä¹Ÿä¼šåˆ é™¤ã€‚</p>
<p>ä½†æ˜¯ç´¢å¼•ä¼šç•™ä¸‹ï¼Œæ¯”å¦‚åˆ é™¤äº† 8 è¡Œï¼Œé‚£ä¹ˆ 9 ç´¢å¼•ä¸ä¼šå¾€å‰é ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åˆ é™¤è¡Œ</span>
sd.dropna()
<span class="hljs-comment"># åˆ é™¤åˆ—</span>
sd.dropna(axis=<span class="hljs-number">1</span>)
</code></pre>
<blockquote>
<p>å¡«å……ç¼ºå¤±å€¼</p>
</blockquote>
<p>æ ¹æ®å¹³å‡å€¼ï¼Œå¡«å……æ‰€æœ‰åˆ—ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># è®¡ç®—å¹³å‡å€¼</span>
avg = sd[<span class="hljs-string">'Revenue (Millions)'</span>].mean()
<span class="hljs-comment"># æ‰§è¡Œå¡«å……</span>
sd.fillna(avg, inplace=<span class="hljs-literal">True</span>)
</code></pre>
<blockquote>
<p>å¾ªç¯éå†ï¼Œæ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼ï¼Œç”¨æ¯åˆ—çš„å¹³å‡å€¼å¡«å……æ¯åˆ—</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">for</span> col_name <span class="hljs-keyword">in</span> sd:
    <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼</span>
    <span class="hljs-keyword">if</span> sd[col_name].isnull().<span class="hljs-built_in">sum</span>() &gt; <span class="hljs-number">0</span>:
        <span class="hljs-comment"># è®¡ç®—æ¯åˆ—å¹³å‡å€¼</span>
        mean_value = sd[col_name].mean()
        <span class="hljs-comment"># å¡«å……ç»™æ¯åˆ—</span>
        sd[col_name] = sd[col_name].fillna(mean_value)
</code></pre>
<blockquote>
<p>å¦‚æœè¡¨ç¤ºç©ºçš„ä¸æ˜¯NaNå‘¢ï¼Œé‚£è¯¥æ€ä¹ˆå¤„ç†</p>
</blockquote>
<p>å·²çŸ¥æ•°æ®é›†ä¸­ä½¿ç”¨çš„æ˜¯ ? å·ä½œä¸ºç©ºå€¼ï¼Œå¤„ç†é€»è¾‘æ˜¯ï¼šå…ˆè¿›è¡Œæ›´æ¢æˆ nanï¼Œå†è¿›è¡Œåˆ é™¤</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-comment"># åŠ è½½æ•°æ®</span>
wis = pd.read_csv(<span class="hljs-string">"https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"</span>)
<span class="hljs-comment"># å°†é—®å·æ›¿æ¢ä¸ºç©º</span>
wis.replace(<span class="hljs-string">'?'</span>, np.nan, inplace=<span class="hljs-literal">True</span>)
<span class="hljs-comment"># è¿›è¡Œåˆ é™¤</span>
wis.dropna(inplace=<span class="hljs-literal">True</span>)
</code></pre>
<h3 data-id="heading-49">æ•°æ®åˆå¹¶</h3>
<p><strong>concat å¯ä»¥åˆå¹¶å¤šä¸ª DataFrame å¯¹è±¡ï¼Œå¯ä»¥è¡Œä¹Ÿå¯ä»¥åˆ—åˆå¹¶</strong></p>
<p>å·²çŸ¥æ•°æ®å¦‚ä¸‹</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
left = pd.DataFrame({<span class="hljs-string">'key1'</span>: [<span class="hljs-string">'K0'</span>, <span class="hljs-string">'K0'</span>, <span class="hljs-string">'K1'</span>, <span class="hljs-string">'K2'</span>],
                     <span class="hljs-string">'key2'</span>: [<span class="hljs-string">'K0'</span>, <span class="hljs-string">'K1'</span>, <span class="hljs-string">'K0'</span>, <span class="hljs-string">'K1'</span>],
                     <span class="hljs-string">'A'</span>: [<span class="hljs-string">'A0'</span>, <span class="hljs-string">'A1'</span>, <span class="hljs-string">'A2'</span>, <span class="hljs-string">'A3'</span>],
                     <span class="hljs-string">'B'</span>: [<span class="hljs-string">'B0'</span>, <span class="hljs-string">'B1'</span>, <span class="hljs-string">'B2'</span>, <span class="hljs-string">'B3'</span>]})

right = pd.DataFrame({<span class="hljs-string">'key1'</span>: [<span class="hljs-string">'K0'</span>, <span class="hljs-string">'K1'</span>, <span class="hljs-string">'K1'</span>, <span class="hljs-string">'K2'</span>],
                      <span class="hljs-string">'key2'</span>: [<span class="hljs-string">'K0'</span>, <span class="hljs-string">'K0'</span>, <span class="hljs-string">'K0'</span>, <span class="hljs-string">'K0'</span>],
                      <span class="hljs-string">'C'</span>: [<span class="hljs-string">'C0'</span>, <span class="hljs-string">'C1'</span>, <span class="hljs-string">'C2'</span>, <span class="hljs-string">'C3'</span>],
                      <span class="hljs-string">'D'</span>: [<span class="hljs-string">'D0'</span>, <span class="hljs-string">'D1'</span>, <span class="hljs-string">'D2'</span>, <span class="hljs-string">'D3'</span>]})
</code></pre>
<blockquote>
<p>left</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0856721b3fcc4e91957ec41e97a42316~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=yniykAU6UpHB2ur6bL9ENbbcRyY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>right</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/322ab8a02ebb42df80b313c5eb4bc47f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=KwqlQLzno2iu2pC6PeSVH2mP07M%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>åˆå¹¶ç»“æœ</p>
</blockquote>
<ul>
<li>åˆ—åä¸€æ ·ï¼Œåˆ—åˆå¹¶</li>
<li>åˆ—åä¸ä¸€æ ·ï¼Œè¡Œåˆå¹¶</li>
<li>é»˜è®¤æ˜¯çºµå‘åˆå¹¶</li>
</ul>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.concat([left, right])
<span class="hljs-comment"># åŒä¸Š</span>
<span class="hljs-comment"># pd.concat([left, right], axis=0)</span>
</code></pre>
<p>ä¸Šè¿°ä¼šå‘ç°ï¼Œç´¢å¼•å±…ç„¶å‡ºç°äº†é‡å¤ï¼Œå»é™¤ç´¢å¼•é‡å¤ï¼Œå¿½ç•¥ç´¢å¼•</p>
<pre><code class="hljs language-py" lang="py">pd.concat([left, right], axis=<span class="hljs-number">0</span>, ignore_index=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/444b4501dd4f4e738eda491fed37bcef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=KIbygPuWEKrWrbIZwoiZajTS9t4%3D" alt="image.png" loading="lazy"/></p>
<p>åˆ—åˆå¹¶å‘¢ï¼Œç›´æ¥å¾€åé¢å †å å°±å¯ä»¥ï¼Œä½†æ˜¯ä¼šå‚è€ƒè¡Œç´¢å¼•</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.concat([left, right], axis=<span class="hljs-number">1</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f616017cd4a949759ebcdfbac6d3179d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=TfZKzX3nZKH7e%2BaMSUUdza94K3c%3D" alt="image.png" loading="lazy"/></p>
<p>è¡Œç´¢å¼•ä¸ä¸€è‡´æ¼”ç¤ºï¼Œä¼šä½¿ç”¨ç©ºå¡«å……</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.concat([left, right], axis=<span class="hljs-number">1</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40a580db36174ddf88f5ab175f328d26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=YHhDf%2BkljYqP%2BayN3NyiPwFPg1s%3D" alt="image.png" loading="lazy"/></p>
<p><strong>merge</strong></p>
<p>åªèƒ½ä¸¤ä¸ªä¸¤ä¸ªåˆå¹¶</p>
<ul>
<li>å‚æ•°1ï¼šç¬¬ä¸€ä¸ªdfå¯¹è±¡</li>
<li>å‚æ•°2ï¼šç¬¬äºŒä¸ªdfå¯¹è±¡</li>
<li>å‚æ•°3ï¼šhow è¿æ¥æ–¹å¼
<ul>
<li>left å·¦å¤–è¿æ¥ï¼Œ</li>
<li>right å³å¤–è¿æ¥</li>
<li>inner å†…è¿æ¥</li>
<li>outer å…¨è¿æ¥ï¼Œæ»¡å¤–è¿æ¥</li>
</ul>
</li>
<li>å‚æ•°4ï¼šon å…³è”å­—æ®µï¼Œè¡¨ç¤ºå‚è€ƒè°åˆå¹¶</li>
</ul>
<blockquote>
<p>å·¦å¤–è¿æ¥</p>
</blockquote>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.merge(left, right, how=<span class="hljs-string">'left'</span>, on=[<span class="hljs-string">'key1'</span>])
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b321da93de3d4d5784e0ba4848406021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=61f6C0M%2BFawWL0WizInL%2FzCVJUs%3D" alt="image.png" loading="lazy"/></p>
<p>ç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5419cf5298449be89ff6143fb75f7c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141881&amp;x-signature=ZqMnyqyurTJEKX9bNXNrQaTrMT4%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>å³è¿æ¥</p>
</blockquote>
<p>ä¹Ÿæ˜¯æŒ‰ç…§å³è¡¨ï¼Œå»ä¸€ä¸€çš„æ‰¾ï¼Œæ‰¾ä¸åˆ°å°±ä¸¢å¼ƒå·¦è¡¨çš„ã€‚</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
pd.merge(left, right, how=<span class="hljs-string">'right'</span>, on=[<span class="hljs-string">'key1'</span>, <span class="hljs-string">'key2'</span>])
</code></pre>
<blockquote>
<p>å†…è¿æ¥ï¼ŒåŸºäºå·¦å³è¡¨å…¨æœ‰</p>
</blockquote>
<pre><code class="hljs language-py" lang="py">pd.merge(left, right, how=<span class="hljs-string">'inner'</span>, on=[<span class="hljs-string">'key1'</span>, <span class="hljs-string">'key2'</span>])
</code></pre>
<blockquote>
<p>å…¨è¿æ¥</p>
</blockquote>
<p>ä¼šåŸºäºå·¦è¡¨çš„å…¨éƒ¨å’Œå³è¡¨çš„å…¨éƒ¨</p>
<pre><code class="hljs language-py" lang="py">pd.merge(left, right, how=<span class="hljs-string">'outer'</span>, on=[<span class="hljs-string">'key1'</span>, <span class="hljs-string">'key2'</span>])
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ131ï¼‰Redisçš„æ•´æ•°é›†åˆï¼ˆIntsetï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573525927793868826</link>    <guid>https://juejin.cn/post/7573525927793868826</guid>    <pubDate>2025-11-17T23:03:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573525927793868826" data-draft-id="7573519273030680622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ131ï¼‰Redisçš„æ•´æ•°é›†åˆï¼ˆIntsetï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T23:03:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ131ï¼‰Redisçš„æ•´æ•°é›†åˆï¼ˆIntsetï¼‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T23:03:10.000Z" title="Mon Nov 17 2025 23:03:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ•´æ•°é›†åˆï¼ˆIntsetï¼‰æ˜¯Redisä¸­çš„ä¸€ç§ç´§å‡‘å‹æ•°æ®ç»“æ„ï¼Œä¸“é—¨ç”¨äºå­˜å‚¨æ•´æ•°é›†åˆã€‚è¿™ç§é›†åˆé€šè¿‡æ•°ç»„ä¿å­˜æ•°æ®ï¼Œå¹¶æ ¹æ®éœ€è¦åŠ¨æ€è°ƒæ•´æ•°ç»„çš„å¤§å°å’Œæ•´æ•°çš„å­˜å‚¨æ ¼å¼ï¼ˆ16ä½ã€32ä½æˆ–64ä½ï¼‰ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„å­˜å‚¨å’ŒæŸ¥è¯¢ã€‚</p>
<h3 data-id="heading-0">ä¸»è¦ç»“æ„</h3>
<p>æ•´æ•°é›†åˆçš„åŸºæœ¬ç»“æ„åŒ…æ‹¬ä¸€ä¸ªå¤´éƒ¨å’Œä¸€ä¸ªæ•´æ•°æ•°ç»„ã€‚å¤´éƒ¨åŒ…å«äº†æ•´æ•°é›†åˆçš„å…ƒæ•°æ®ï¼Œå¦‚ç¼–ç æ–¹å¼ã€å…ƒç´ æ•°é‡ç­‰ã€‚æ•°ç»„éƒ¨åˆ†åˆ™ç”¨äºå­˜å‚¨å®é™…çš„æ•´æ•°æ•°æ®ã€‚</p>
<h4 data-id="heading-1">å¤´éƒ¨ç»“æ„</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">intset</span> {</span>
    <span class="hljs-type">uint32_t</span> encoding;   <span class="hljs-comment">// ç¼–ç æ–¹å¼ï¼šè¡¨ç¤ºå½“å‰ä½¿ç”¨çš„æ•´æ•°ç±»å‹ï¼ˆ16ä½ã€32ä½æˆ–64ä½ï¼‰</span>
    <span class="hljs-type">uint32_t</span> length;     <span class="hljs-comment">// é›†åˆä¸­çš„å…ƒç´ æ•°é‡</span>
    <span class="hljs-type">int8_t</span> contents[];   <span class="hljs-comment">// æ•´æ•°æ•°ç»„ï¼Œå®é™…å­˜å‚¨æ•°æ®çš„åœ°æ–¹</span>
} intset;
</code></pre>
<h3 data-id="heading-2">ä¸»è¦æ“ä½œ</h3>
<h4 data-id="heading-3">1. åˆ›å»ºæ•´æ•°é›†åˆ</h4>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„æ•´æ•°é›†åˆå¹¶åˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-c" lang="c">intset *<span class="hljs-title function_">intsetNew</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> {
    intset *is = zmalloc(<span class="hljs-keyword">sizeof</span>(intset));
    is-&gt;encoding = intrev32ifbe(INTSET_ENC_INT16);  <span class="hljs-comment">// é»˜è®¤ç¼–ç æ–¹å¼ä¸º16ä½æ•´æ•°</span>
    is-&gt;length = <span class="hljs-number">0</span>;  <span class="hljs-comment">// åˆå§‹é›†åˆé•¿åº¦ä¸º0</span>
    <span class="hljs-keyword">return</span> is;
}
</code></pre>
<h4 data-id="heading-4">2. æŸ¥æ‰¾æ“ä½œ</h4>
<p>æŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">uint8_t</span> <span class="hljs-title function_">intsetFind</span><span class="hljs-params">(intset *is, <span class="hljs-type">int64_t</span> value)</span> {
    <span class="hljs-type">uint32_t</span> pos;
    <span class="hljs-keyword">if</span> (intsetSearch(is, value, &amp;pos)) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}

<span class="hljs-type">int</span> <span class="hljs-title function_">intsetSearch</span><span class="hljs-params">(intset *is, <span class="hljs-type">int64_t</span> value, <span class="hljs-type">uint32_t</span> *pos)</span> {
    <span class="hljs-type">int</span> min = <span class="hljs-number">0</span>, max = intrev32ifbe(is-&gt;length) - <span class="hljs-number">1</span>, mid = <span class="hljs-number">-1</span>;
    <span class="hljs-type">int64_t</span> cur;
    <span class="hljs-keyword">if</span> (intrev32ifbe(is-&gt;length) == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (pos) *pos = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-keyword">while</span> (max &gt;= min) {
        mid = (min + max) / <span class="hljs-number">2</span>;
        cur = intsetGetEncoded(is, mid);
        <span class="hljs-keyword">if</span> (value &gt; cur) {
            min = mid + <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value &lt; cur) {
            max = mid - <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">break</span>;
        }
    }

    <span class="hljs-keyword">if</span> (value == cur) {
        <span class="hljs-keyword">if</span> (pos) *pos = mid;
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (pos) *pos = min;
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
}
</code></pre>
<h4 data-id="heading-5">3. æ’å…¥æ“ä½œ</h4>
<p>å‘æ•´æ•°é›†åˆä¸­æ’å…¥ä¸€ä¸ªæ•´æ•°ã€‚æ ¹æ®éœ€è¦è°ƒæ•´ç¼–ç æ–¹å¼å¹¶é‡æ–°åˆ†é…å†…å­˜ã€‚</p>
<pre><code class="hljs language-c" lang="c">intset *<span class="hljs-title function_">intsetAdd</span><span class="hljs-params">(intset *is, <span class="hljs-type">int64_t</span> value, <span class="hljs-type">uint8_t</span> *success)</span> {
    <span class="hljs-type">uint8_t</span> valenc = _intsetValueEncoding(value);
    <span class="hljs-type">uint32_t</span> pos;
    <span class="hljs-keyword">if</span> (success) *success = <span class="hljs-number">1</span>;

    <span class="hljs-comment">// æŸ¥æ‰¾æ’å…¥ä½ç½®</span>
    <span class="hljs-keyword">if</span> (intsetSearch(is, value, &amp;pos)) {
        <span class="hljs-keyword">if</span> (success) *success = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> is;
    }

    <span class="hljs-comment">// å¦‚æœéœ€è¦æ›´å¤§çš„ç¼–ç æ ¼å¼</span>
    <span class="hljs-keyword">if</span> (valenc &gt; intrev32ifbe(is-&gt;encoding)) {
        <span class="hljs-keyword">return</span> intsetUpgradeAndAdd(is, value);
    }

    <span class="hljs-comment">// ä¸ºæ–°å…ƒç´ åˆ†é…ç©ºé—´</span>
    is = intsetResize(is, intrev32ifbe(is-&gt;length) + <span class="hljs-number">1</span>);

    <span class="hljs-comment">// ç§»åŠ¨å…ƒç´ ä»¥è…¾å‡ºæ’å…¥ä½ç½®</span>
    <span class="hljs-keyword">if</span> (pos &lt; intrev32ifbe(is-&gt;length)) {
        intsetMoveTail(is, pos, intrev32ifbe(is-&gt;length) - pos);
    }

    <span class="hljs-comment">// æ’å…¥æ–°å…ƒç´ </span>
    intsetSet(is, pos, value);
    is-&gt;length = intrev32ifbe(intrev32ifbe(is-&gt;length) + <span class="hljs-number">1</span>);

    <span class="hljs-keyword">return</span> is;
}

<span class="hljs-type">static</span> <span class="hljs-type">uint8_t</span> _intsetValueEncoding(<span class="hljs-type">int64_t</span> v) {
    <span class="hljs-keyword">if</span> (v &lt; INT32_MIN || v &gt; INT32_MAX) <span class="hljs-keyword">return</span> INTSET_ENC_INT64;
    <span class="hljs-keyword">if</span> (v &lt; INT16_MIN || v &gt; INT16_MAX) <span class="hljs-keyword">return</span> INTSET_ENC_INT32;
    <span class="hljs-keyword">return</span> INTSET_ENC_INT16;
}
</code></pre>
<h4 data-id="heading-6">4. åˆ é™¤æ“ä½œ</h4>
<p>ä»æ•´æ•°é›†åˆä¸­åˆ é™¤ä¸€ä¸ªæ•´æ•°ã€‚</p>
<pre><code class="hljs language-c" lang="c">intset *<span class="hljs-title function_">intsetRemove</span><span class="hljs-params">(intset *is, <span class="hljs-type">int64_t</span> value, <span class="hljs-type">int</span> *success)</span> {
    <span class="hljs-type">uint8_t</span> valenc = _intsetValueEncoding(value);
    <span class="hljs-type">uint32_t</span> pos;
    <span class="hljs-keyword">if</span> (success) *success = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (valenc &lt;= intrev32ifbe(is-&gt;encoding) &amp;&amp; intsetSearch(is, value, &amp;pos)) {
        <span class="hljs-type">uint32_t</span> len = intrev32ifbe(is-&gt;length);

        <span class="hljs-comment">// ç§»åŠ¨å°¾éƒ¨å…ƒç´ ä»¥è¦†ç›–è¢«åˆ é™¤å…ƒç´ </span>
        <span class="hljs-keyword">if</span> (pos &lt; (len - <span class="hljs-number">1</span>)) {
            intsetMoveTail(is, pos + <span class="hljs-number">1</span>, len - (pos + <span class="hljs-number">1</span>));
        }
        is = intsetResize(is, len - <span class="hljs-number">1</span>);
        is-&gt;length = intrev32ifbe(len - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (success) *success = <span class="hljs-number">1</span>;
    }

    <span class="hljs-keyword">return</span> is;
}
</code></pre>
<h3 data-id="heading-7">è¾…åŠ©å‡½æ•°</h3>
<h4 data-id="heading-8">è·å–å’Œè®¾ç½®å…ƒç´ </h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">int64_t</span> <span class="hljs-title function_">intsetGetEncoded</span><span class="hljs-params">(intset *is, <span class="hljs-type">int</span> pos)</span> {
    <span class="hljs-type">int64_t</span> v64;
    <span class="hljs-type">int32_t</span> v32;
    <span class="hljs-type">int16_t</span> v16;
    <span class="hljs-type">uint32_t</span> encoding = intrev32ifbe(is-&gt;encoding);

    <span class="hljs-keyword">if</span> (encoding == INTSET_ENC_INT64) {
        <span class="hljs-built_in">memcpy</span>(&amp;v64, ((<span class="hljs-type">int64_t</span>*)is-&gt;contents) + pos, <span class="hljs-keyword">sizeof</span>(v64));
        <span class="hljs-keyword">return</span> intrev64ifbe(v64);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (encoding == INTSET_ENC_INT32) {
        <span class="hljs-built_in">memcpy</span>(&amp;v32, ((<span class="hljs-type">int32_t</span>*)is-&gt;contents) + pos, <span class="hljs-keyword">sizeof</span>(v32));
        <span class="hljs-keyword">return</span> intrev32ifbe(v32);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">memcpy</span>(&amp;v16, ((<span class="hljs-type">int16_t</span>*)is-&gt;contents) + pos, <span class="hljs-keyword">sizeof</span>(v16));
        <span class="hljs-keyword">return</span> intrev16ifbe(v16);
    }
}

<span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title function_">intsetSet</span><span class="hljs-params">(intset *is, <span class="hljs-type">int</span> pos, <span class="hljs-type">int64_t</span> value)</span> {
    <span class="hljs-type">uint32_t</span> encoding = intrev32ifbe(is-&gt;encoding);

    <span class="hljs-keyword">if</span> (encoding == INTSET_ENC_INT64) {
        ((<span class="hljs-type">int64_t</span>*)is-&gt;contents)[pos] = intrev64ifbe(value);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (encoding == INTSET_ENC_INT32) {
        ((<span class="hljs-type">int32_t</span>*)is-&gt;contents)[pos] = intrev32ifbe(value);
    } <span class="hljs-keyword">else</span> {
        ((<span class="hljs-type">int16_t</span>*)is-&gt;contents)[pos] = intrev16ifbe(value);
    }
}
</code></pre>
<h4 data-id="heading-9">è°ƒæ•´å†…å­˜å¤§å°</h4>
<pre><code class="hljs language-c" lang="c">intset *<span class="hljs-title function_">intsetResize</span><span class="hljs-params">(intset *is, <span class="hljs-type">uint32_t</span> len)</span> {
    <span class="hljs-type">uint32_t</span> size = len * intrev32ifbe(is-&gt;encoding);
    is = zrealloc(is, <span class="hljs-keyword">sizeof</span>(intset) + size);
    <span class="hljs-keyword">return</span> is;
}
</code></pre>
<h3 data-id="heading-10">ç¤ºä¾‹ä½¿ç”¨</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    intset *is = intsetNew();
    <span class="hljs-type">uint8_t</span> success;

    <span class="hljs-comment">// æ’å…¥æ•´æ•°</span>
    is = intsetAdd(is, <span class="hljs-number">10</span>, &amp;success);
    is = intsetAdd(is, <span class="hljs-number">20</span>, &amp;success);
    is = intsetAdd(is, <span class="hljs-number">30</span>, &amp;success);

    <span class="hljs-comment">// æŸ¥æ‰¾æ•´æ•°</span>
    <span class="hljs-keyword">if</span> (intsetFind(is, <span class="hljs-number">20</span>)) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"20 exists in the set.\n"</span>);
    }

    <span class="hljs-comment">// åˆ é™¤æ•´æ•°</span>
    is = intsetRemove(is, <span class="hljs-number">20</span>, &amp;success);
    <span class="hljs-keyword">if</span> (!intsetFind(is, <span class="hljs-number">20</span>)) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"20 has been removed from the set.\n"</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>æ€»ç»“ï¼šæ•´æ•°é›†åˆï¼ˆIntsetï¼‰é€šè¿‡ç´§å‡‘çš„å†…å­˜å¸ƒå±€å’Œçµæ´»çš„ç¼–ç æ–¹å¼å®ç°äº†é«˜æ•ˆçš„å­˜å‚¨å’ŒæŸ¥è¯¢æ“ä½œã€‚å®ƒé€‚ç”¨äºå­˜å‚¨å°èŒƒå›´çš„æ•´æ•°é›†åˆï¼Œé€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æ•°æ®ç»“æ„ï¼Œä¿è¯äº†é«˜æ•ˆçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨csså®ç°ç«‹ä½“æ‹è§’è£…é¥°æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7574230922313711622</link>    <guid>https://juejin.cn/post/7574230922313711622</guid>    <pubDate>2025-11-19T07:05:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574230922313711622" data-draft-id="7573468493569212452" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨csså®ç°ç«‹ä½“æ‹è§’è£…é¥°æ•ˆæœ"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-11-19T07:05:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MoMoDad"/> <meta itemprop="url" content="https://juejin.cn/user/2788017221151342"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨csså®ç°ç«‹ä½“æ‹è§’è£…é¥°æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017221151342/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MoMoDad
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:05:52.000Z" title="Wed Nov 19 2025 07:05:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee0665ec6388439a84186431b8e454e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9Nb0RhZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764140752&amp;x-signature=9W3VP46XITpuZyR%2BejPk%2BetmcDc%3D" alt="845fb88aab529dbde41e3f17eb667494.jpeg" loading="lazy"/></p>
<h2 data-id="heading-0">5 åˆ†é’Ÿå®ç°é«˜çº§æ„Ÿç«‹ä½“æ‹è§’ï¼CSS ä¼ªå…ƒç´  + DOM èŠ‚ç‚¹å®æˆ˜</h2>
<p>åœ¨ç™»å½•è¡¨å•ã€å¡ç‰‡ç»„ä»¶ç­‰ UI è®¾è®¡ä¸­ï¼Œä¸€ä¸ªç²¾è‡´çš„æ‹è§’æ•ˆæœèƒ½ç¬é—´æå‡ç•Œé¢é«˜çº§æ„Ÿã€‚ä»Šå¤©åˆ†äº«ä¸€ç§ç®€å•å®ç”¨çš„è“è‰²ç«‹ä½“æ‹è§’å®ç°æ–¹æ¡ˆï¼Œä»…ç”¨ CSS ä¼ªå…ƒç´ å’Œå°‘é‡ DOM èŠ‚ç‚¹ï¼Œå°±èƒ½åšå‡ºè§†è§‰æƒŠè‰³çš„ç«‹ä½“è¾¹è§’æ•ˆæœï¼Œæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ï½</p>
<h3 data-id="heading-1">ä¸€ã€æ•ˆæœé¢„è§ˆä¸åº”ç”¨åœºæ™¯</h3>
<p>å…ˆçœ‹æœ€ç»ˆå®ç°æ•ˆæœï¼šå®¹å™¨å››ä¸ªè§’è½å‘ˆç°è“è‰²ï¼ˆ#0f9cfbï¼‰ç«‹ä½“è¾¹æ¡†ï¼Œè¾¹è§’çº¿æ¡åˆ©è½ï¼Œè‡ªå¸¦å…‰å½±å±‚æ¬¡æ„Ÿï¼Œæ²¡æœ‰å¤æ‚çš„ SVG æˆ–å›¾ç‰‡ä¾èµ–ã€‚</p>
<p>è¿™ç§æ•ˆæœé€‚ç”¨äºå¤šç§åœºæ™¯ï¼š</p>
<ul>
<li>ç™»å½• / æ³¨å†Œè¡¨å•çš„è¾¹æ¡†è£…é¥°</li>
<li>æ•°æ®å¡ç‰‡ã€å¼¹çª—çš„è¾¹è§’å¼ºåŒ–</li>
<li>æŒ‰é’®ã€å¯¼èˆªæ çš„è§†è§‰ç‚¹ç¼€</li>
<li>ä¸ªäººåšå®¢ã€åå°ç³»ç»Ÿçš„ UI å‡çº§</li>
</ul>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼šçº¯ CSS å®ç°ï¼Œä»£ç ç®€æ´å¯å¤ç”¨ï¼Œæ”¯æŒçµæ´»è°ƒæ•´é¢œè‰²ã€å°ºå¯¸ï¼Œå…¼å®¹æ€§è¦†ç›–ä¸»æµæµè§ˆå™¨ã€‚</p>
<h3 data-id="heading-2">äºŒã€å®ç°æ­¥éª¤æ‹†è§£</h3>
<h4 data-id="heading-3">1. HTML ç»“æ„æ­å»º</h4>
<p>é¦–å…ˆéœ€è¦ä¸€ä¸ªå®¹å™¨å…ƒç´ å’Œä¸¤ä¸ªç”¨äºä¸‹æ‹è§’çš„ DOM èŠ‚ç‚¹ï¼Œç»“æ„æç®€ï¼š</p>
<p>html</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-form"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ä¸‹å·¦ã€ä¸‹å³æ‹è§’DOMèŠ‚ç‚¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"corner corner-bl"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"corner corner-br"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- è¡¨å•å†…å®¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-content"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç”¨æˆ·ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"å¯†ç "</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å®¹å™¨<code>.login-form</code>ä½œä¸ºåŸºç¡€è½½ä½“ï¼Œå†…éƒ¨ä¸¤ä¸ª<code>.corner</code>èŠ‚ç‚¹ä¸“é—¨å®ç°ä¸‹ä¸¤è§’æ•ˆæœï¼Œè¡¨å•å†…å®¹æŒ‰éœ€æ·»åŠ å³å¯ã€‚</p>
<h4 data-id="heading-4">2. æ ¸å¿ƒ CSS å®ç°é€»è¾‘</h4>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰åŸºç¡€å®¹å™¨è®¾ç½®</h5>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.login-form</span> {
  <span class="hljs-attribute">position</span>: relative; <span class="hljs-comment">/* å…³é”®ï¼šä¸ºä¼ªå…ƒç´ å’Œå­èŠ‚ç‚¹å®šä½ */</span>
  <span class="hljs-attribute">width</span>: <span class="hljs-number">350px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>); <span class="hljs-comment">/* è½»å¾®é˜´å½±å¢å¼ºç«‹ä½“ */</span>
}
</code></pre>
<p><code>position: relative</code>æ˜¯å®ç°æ‹è§’å®šä½çš„å‰æï¼Œèƒ½è®©åç»­ä¼ªå…ƒç´ å’Œ<code>.corner</code>èŠ‚ç‚¹åŸºäºå®¹å™¨è¿›è¡Œç»å¯¹å®šä½ã€‚</p>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰ä¸Šä¸¤è§’ï¼šä¼ªå…ƒç´ å®ç°</h5>
<p>åˆ©ç”¨<code>::before</code>å’Œ<code>::after</code>ä¼ªå…ƒç´ åˆ›å»ºä¸Šå·¦ã€ä¸Šå³æ‹è§’ï¼Œæ— éœ€é¢å¤– DOM èŠ‚ç‚¹ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.login-form</span> {
  &amp;<span class="hljs-selector-pseudo">::before</span>,
  &amp;<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>; <span class="hljs-comment">/* ä¼ªå…ƒç´ å¿…é¡»æœ‰contentå±æ€§ */</span>
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">30px</span>; <span class="hljs-comment">/* æ‹è§’å¤§å°ï¼Œå¯è°ƒæ•´ */</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>; <span class="hljs-comment">/* æ‹è§’é¢œè‰² */</span>
  }

  <span class="hljs-comment">/* ä¸Šå·¦è§’ï¼šä¿ç•™ä¸Šè¾¹æ¡†å’Œå·¦è¾¹æ¡† */</span>
  &amp;<span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
    <span class="hljs-attribute">border-right</span>: <span class="hljs-number">5px</span> solid transparent; <span class="hljs-comment">/* é€æ˜è¾¹æ¡†å®ç°æ‹è§’æ•ˆæœ */</span>
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">5px</span> solid transparent;
  }

  <span class="hljs-comment">/* ä¸Šå³è§’ï¼šä¿ç•™ä¸Šè¾¹æ¡†å’Œå³è¾¹æ¡† */</span>
  &amp;<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
    <span class="hljs-attribute">border-right</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">5px</span> solid transparent;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">5px</span> solid transparent;
  }
}
</code></pre>
<p>æ ¸å¿ƒåŸç†ï¼šé€šè¿‡<code>transparent</code>é€æ˜è¾¹æ¡†ä¸å®è‰²è¾¹æ¡†ç»„åˆï¼Œåˆ©ç”¨ CSS è¾¹æ¡†çš„æ¢¯å½¢ç‰¹æ€§ï¼Œè‡ªç„¶å½¢æˆæ‹è§’å½¢çŠ¶ã€‚</p>
<h5 data-id="heading-7">ï¼ˆ3ï¼‰ä¸‹ä¸¤è§’ï¼šDOM èŠ‚ç‚¹å®ç°</h5>
<p>ä¸‹ä¸¤è§’ä½¿ç”¨ç‹¬ç«‹ DOM èŠ‚ç‚¹<code>.corner</code>å®ç°ï¼Œä¸ä¼ªå…ƒç´ é€»è¾‘ä¸€è‡´ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.corner</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>; <span class="hljs-comment">/* ä¸ä¼ªå…ƒç´ ä¿æŒæ ·å¼ç»Ÿä¸€ */</span>
}

<span class="hljs-comment">/* ä¸‹å·¦è§’ï¼šä¿ç•™ä¸‹è¾¹æ¡†å’Œå·¦è¾¹æ¡† */</span>
<span class="hljs-selector-class">.corner-bl</span> {
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
  <span class="hljs-attribute">border-top</span>: <span class="hljs-number">5px</span> solid transparent;
  <span class="hljs-attribute">border-right</span>: <span class="hljs-number">5px</span> solid transparent;
}

<span class="hljs-comment">/* ä¸‹å³è§’ï¼šä¿ç•™ä¸‹è¾¹æ¡†å’Œå³è¾¹æ¡† */</span>
<span class="hljs-selector-class">.corner-br</span> {
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
  <span class="hljs-attribute">border-right</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#0f9cfb</span>;
  <span class="hljs-attribute">border-top</span>: <span class="hljs-number">5px</span> solid transparent;
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">5px</span> solid transparent;
}
</code></pre>
<p>ä¸ºä»€ä¹ˆä¸‹ä¸¤è§’ä¸ç”¨ä¼ªå…ƒç´ ï¼Ÿå› ä¸ºä¸€ä¸ªå…ƒç´ æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªä¼ªå…ƒç´ ï¼ˆ<code>::before</code>å’Œ<code>::after</code>ï¼‰ï¼Œå››ä¸ªæ‹è§’éœ€è¦å››ä¸ªç‹¬ç«‹ â€œè½½ä½“â€ï¼Œå› æ­¤ä¸‹ä¸¤è§’é‡‡ç”¨è½»é‡ DOM èŠ‚ç‚¹è¡¥å……ï¼Œä¸å½±å“é¡µé¢æ€§èƒ½ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€å…³é”®æŠ€æœ¯ç‚¹è§£æ</h3>
<h4 data-id="heading-9">1. é€æ˜è¾¹æ¡†å®ç°æ‹è§’çš„åŸç†</h4>
<p>CSS è¾¹æ¡†é»˜è®¤æ˜¯æ¢¯å½¢ç»“æ„ï¼Œå½“å…ƒç´ å®½é«˜å›ºå®šæ—¶ï¼Œå››ä¸ªè¾¹æ¡†ä¼šè‡ªç„¶æ‹¼æ¥ã€‚é€šè¿‡å°†ä¸éœ€è¦çš„è¾¹æ¡†è®¾ä¸º<code>transparent</code>ï¼Œåªä¿ç•™æ‹è§’æ‰€éœ€çš„ä¸¤ä¸ªé‚»è¾¹å®è‰²ï¼Œå°±èƒ½å½¢æˆç²¾å‡†çš„æ‹è§’æ•ˆæœã€‚</p>
<p>æ¯”å¦‚ä¸Šå·¦è§’åªä¿ç•™<code>border-top</code>å’Œ<code>border-left</code>ä¸ºå®è‰²ï¼Œå…¶ä½™ä¸¤ä¸ªæ–¹å‘ä¸ºé€æ˜ï¼Œè§†è§‰ä¸Šå°±å½¢æˆäº†å·¦ä¸Šè§’çš„ç«‹ä½“è¾¹æ¡†ã€‚</p>
<h4 data-id="heading-10">2. ä¼ªå…ƒç´ çš„æ­£ç¡®ä½¿ç”¨è§„èŒƒ</h4>
<ul>
<li>ä¼ªå…ƒç´ å¿…é¡»è®¾ç½®<code>content</code>å±æ€§ï¼ˆç©ºå€¼ä¹Ÿå¯ï¼‰ï¼Œå¦åˆ™æ— æ³•ç”Ÿæ•ˆ</li>
<li>æ¨èä½¿ç”¨åŒå†’å·<code>::before</code>/<code>::after</code>ï¼ˆCSS3 è§„èŒƒï¼‰ï¼Œå…¼å®¹å•å†’å·å†™æ³•ä½†å¯è¯»æ€§æ›´å¼º</li>
<li>ä¼ªå…ƒç´ é»˜è®¤æ˜¯è¡Œå†…å…ƒç´ ï¼Œéœ€é€šè¿‡<code>position: absolute</code>è„±ç¦»æ–‡æ¡£æµï¼Œæ‰èƒ½è¿›è¡Œå®šä½å’Œå°ºå¯¸è®¾ç½®</li>
</ul>
<h4 data-id="heading-11">3. æ ·å¼ç»Ÿä¸€æ€§ä¼˜åŒ–</h4>
<p>åŸä»£ç ä¸­å­˜åœ¨é‡å¤æ ·å¼ï¼Œå¯é€šè¿‡ CSS å˜é‡ä¼˜åŒ–ï¼Œæ–¹ä¾¿åç»­è°ƒæ•´ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.login-form</span> {
  <span class="hljs-attr">--corner-color</span>: <span class="hljs-number">#0f9cfb</span>; <span class="hljs-comment">/* æ‹è§’é¢œè‰²å˜é‡ */</span>
  <span class="hljs-attr">--corner-size</span>: <span class="hljs-number">30px</span>;     <span class="hljs-comment">/* æ‹è§’å¤§å°å˜é‡ */</span>
  <span class="hljs-attr">--border-width</span>: <span class="hljs-number">5px</span>;     <span class="hljs-comment">/* è¾¹æ¡†å®½åº¦å˜é‡ */</span>
  
  &amp;<span class="hljs-selector-pseudo">::before</span>,
  &amp;<span class="hljs-selector-pseudo">::after</span>,
  <span class="hljs-selector-class">.corner</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-built_in">var</span>(--corner-size);
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">var</span>(--corner-size);
    <span class="hljs-attribute">border-width</span>: <span class="hljs-built_in">var</span>(--border-width);
  }
  
  <span class="hljs-comment">/* åç»­æ ·å¼ç›´æ¥å¼•ç”¨å˜é‡å³å¯ */</span>
}
</code></pre>
<p>é€šè¿‡ CSS å˜é‡ï¼Œåªéœ€ä¿®æ”¹ä¸€å¤„å°±èƒ½å…¨å±€æ”¹å˜æ‹è§’çš„é¢œè‰²ã€å¤§å°ï¼Œç»´æŠ¤æ€§å¤§å¹…æå‡ã€‚</p>
<h3 data-id="heading-12">å››ã€æ‹“å±•ä¸è¿›é˜¶ä¼˜åŒ–</h3>
<h4 data-id="heading-13">1. å…¶ä»–å®ç°æ–¹æ¡ˆå¯¹æ¯”</h4>
<p>é™¤äº†æœ¬æ–‡çš„ä¼ªå…ƒç´  + DOM èŠ‚ç‚¹æ–¹æ¡ˆï¼Œè¿˜æœ‰ä¸¤ç§å¸¸è§å®ç°æ–¹å¼ï¼š</p>





























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ä¼ªå…ƒç´  + DOM èŠ‚ç‚¹</td><td>å…¼å®¹æ€§å¥½ï¼Œå®ç°ç®€å•</td><td>éœ€è¦ 2 ä¸ªé¢å¤– DOM èŠ‚ç‚¹</td><td>å¤§å¤šæ•°å¸¸è§„åœºæ™¯</td></tr><tr><td>clip-path è£å‰ª</td><td>çº¯ CSS æ— é¢å¤–èŠ‚ç‚¹</td><td>æ‹è§’çº¿æ¡ä¸å¤Ÿçµæ´»</td><td>ç®€å•åˆ‡è§’æ•ˆæœ</td></tr><tr><td>CSS Mask é®ç½©</td><td>æ”¯æŒå¤æ‚å½¢çŠ¶</td><td>å…¼å®¹æ€§ç¨å·®ï¼ˆIE ä¸æ”¯æŒï¼‰</td><td>é«˜çº§å®šåˆ¶åŒ–æ‹è§’</td></tr></tbody></table>
<p>æœ¬æ–‡æ–¹æ¡ˆå¹³è¡¡äº†æ˜“ç”¨æ€§å’Œå…¼å®¹æ€§ï¼Œæ˜¯æ—¥å¸¸å¼€å‘çš„æœ€ä¼˜é€‰æ‹©ä¹‹ä¸€ã€‚</p>
<h4 data-id="heading-14">2. å…¼å®¹æ€§è¯´æ˜</h4>
<ul>
<li>æ”¯æŒ Chromeã€Firefoxã€Edge ç­‰ç°ä»£æµè§ˆå™¨</li>
<li>å…¼å®¹ IE10+ï¼ˆéœ€å°†åŒå†’å·ä¼ªå…ƒç´ æ”¹ä¸ºå•å†’å·<code>:before</code>/<code>:after</code>ï¼‰</li>
<li>é€æ˜è¾¹æ¡†ç‰¹æ€§åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨ä¸­å‡èƒ½æ­£å¸¸æ˜¾ç¤º</li>
</ul>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>è¿™ç§è“è‰²ç«‹ä½“æ‹è§’æ•ˆæœé€šè¿‡ â€œä¼ªå…ƒç´  + DOM èŠ‚ç‚¹â€ çš„ç»„åˆï¼Œä»¥æç®€ä»£ç å®ç°äº†é«˜çº§ UI è´¨æ„Ÿï¼Œæ ¸å¿ƒåœ¨äºåˆ©ç”¨ CSS è¾¹æ¡†ç‰¹æ€§å’Œå®šä½æŠ€å·§ã€‚ä»£ç å¯ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼Œè¿˜èƒ½é€šè¿‡ CSS å˜é‡çµæ´»è°ƒæ•´æ ·å¼ï¼Œé€‚é…ä¸åŒé¡¹ç›®éœ€æ±‚ã€‚</p>
<p>å¦‚æœéœ€è¦æ›´å¤æ‚çš„æ‹è§’æ•ˆæœï¼ˆå¦‚ 3D æŠ˜å è§’ã€æ¸å˜æ‹è§’ï¼‰ï¼Œå¯ä»¥å°è¯•ç»“åˆ<code>perspective</code>é€è§†å±æ€§æˆ–æ¸å˜èƒŒæ™¯è¿›ä¸€æ­¥æ‹“å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» AI Coding åˆ°æŠ€æœ¯å€ºåŠ¡ï¼ŒCloudflare 3ä¸ªå°æ—¶æ‰å…¨é¢æ¢å¤ï¼Œå‡ºæ¥æ··çš„ï¼Œè¿Ÿæ—©è¦è¿˜çš„]]></title>    <link>https://juejin.cn/post/7574105194166861870</link>    <guid>https://juejin.cn/post/7574105194166861870</guid>    <pubDate>2025-11-19T07:39:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574105194166861870" data-draft-id="7574040813749534771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» AI Coding åˆ°æŠ€æœ¯å€ºåŠ¡ï¼ŒCloudflare 3ä¸ªå°æ—¶æ‰å…¨é¢æ¢å¤ï¼Œå‡ºæ¥æ··çš„ï¼Œè¿Ÿæ—©è¦è¿˜çš„"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-19T07:39:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ‘_"/> <meta itemprop="url" content="https://juejin.cn/user/1471609400466218"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» AI Coding åˆ°æŠ€æœ¯å€ºåŠ¡ï¼ŒCloudflare 3ä¸ªå°æ—¶æ‰å…¨é¢æ¢å¤ï¼Œå‡ºæ¥æ··çš„ï¼Œè¿Ÿæ—©è¦è¿˜çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1471609400466218/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ‘_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:39:31.000Z" title="Wed Nov 19 2025 07:39:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´11 æœˆ18 æ—¥ï¼Œçœ‹ä¼¼å¹³å¸¸çš„ä¸€å¤©ï¼Œå´å› ä¸ºäº’è”ç½‘éª¨å¹²å¹³å°ä¹‹ä¸€â€”â€”Cloudflareçªç„¶ã€ŒæŒ‚äº†ã€è€Œå˜å¾—ä¸å†å¹³å¸¸ã€‚åŒ…æ‹¬ X ã€ChatGPTã€Canva ç­‰å¤§ç‰ŒæœåŠ¡çº·çº·å‡ºç°è®¿é—®ä¸­æ–­ã€500 é”™è¯¯ã€åˆ·å±æŠ¥é”™ã€‚è°ä¹Ÿæ²¡æƒ³åˆ°ï¼Œæˆ‘ä»¬æ‰€èµ–ä»¥ä¸ºç†æ‰€å½“ç„¶çš„ç½‘åœ¨çš„ä½“éªŒï¼Œç«Ÿåœ¨ä¸€ç¬é—´è¢«æŠ½ç©ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb4dbc5f1be24fec81d9c12b2b3ed109~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142770&amp;x-signature=bBFHfq2kJ438pkFb3YxtR07UB5s%3D" alt="image.png" loading="lazy"/>
Cloudflare æ•…éšœçš„æ—¶å€™ï¼Œæˆ‘æ­£å¥½åœ¨è¯•ä¸€ä¸ª AI Coding å·¥å…·ã€‚å†™ç€å†™ç€ä»£ç çªç„¶è¿ä¸ä¸Šä¾èµ–ï¼Œæ¥å£å…¨çº¢ï¼ŒIDE å´©æºƒå¾—æ¯”æˆ‘è¿˜å¿«ã€‚æˆ‘å½“æ—¶ä»¥ä¸ºåˆæ˜¯æˆ‘ç”µè„‘æŠ½é£äº†ï¼Œé‡å¯ã€åˆ‡ç½‘ã€VPN æ¢å‡ºå£ï¼Œæ²¡ç”¨ã€‚ç­‰æˆ‘åˆ·åˆ°æ¶ˆæ¯æ‰æ„è¯†åˆ°â€”â€”ä¸æ˜¯æˆ‘ä¸è¡Œï¼Œæ˜¯äº’è”ç½‘ç—…äº†ã€‚</p>
<p>Cloudflare å…¨çƒæ³¢åŠ¨ï¼Œ3 ä¸ªå°æ—¶æ‰å…¨é¢æ¢å¤ã€‚æœ‰äººè¯´è¿™æ¬¡é”…æ˜¯ 600G çš„ DDoS å¤§ç«ç®­ï¼Œæœ‰äººè¯´æ˜¯å†…éƒ¨é…ç½®å†²çªï¼Œè¿˜æœ‰äººè¯´æ˜¯æ··åˆå› ç´ å åŠ ã€‚ä½†è¯´å®è¯ï¼Œæˆ‘å¯¹åŸå› å¹¶ä¸æ•æ„Ÿï¼ŒçœŸæ­£æˆ³ä¸­æˆ‘çš„ï¼Œæ˜¯å®ƒæ‰€æš´éœ²å‡ºæ¥çš„<strong>æŠ€æœ¯å€ºåŠ¡</strong>ã€‚
å…·å®˜æ–¹å‘æ–‡æè¿°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06f1771b30cc4aeea3f0e8157ccfc247~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142770&amp;x-signature=cVAP0P%2BS7EBy3lg4994KlR9k7%2Bg%3D" alt="image.png" loading="lazy"/>
å‡ºé”™åŸå› å¹¶éé»‘å®¢ï¼Œè€Œæ˜¯ä¸€ä»½è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®ï¼ç‰¹å¾æ–‡ä»¶æ„å¤–è†¨èƒ€ï¼Œå¯¼è‡´å…¶è¾¹ç¼˜ä»£ç†æˆ–äº¤é€šåˆ†é…ç³»ç»Ÿå´©æºƒã€‚Cloudflare è‡ªå·±ç§°ï¼Œé”™è¯¯æ–‡ä»¶æ¯”é¢„æœŸå¤§ <strong>ä¸¤å€</strong>ï¼Œç³»ç»Ÿè¯»å–è¯¥æ–‡ä»¶æ—¶å‡ºç°å¤±è´¥ã€‚</p>
<p>æˆ‘ä»¬è¿™ä¸¤å¹´æ²‰è¿· AI å¼€å‘ï¼Œå†™ä»£ç çš„é€Ÿåº¦é£èµ·æ¥äº†ã€‚è‡ªåŠ¨å®Œæˆã€è‡ªåŠ¨è¡¥å…¨ã€è‡ªåŠ¨ç”Ÿæˆã€è‡ªåŠ¨ä¼˜åŒ–ï¼Œå†™åç«¯åƒæ‰“æ¸¸æˆå¼€äº†ç¥è£…ã€‚å¯ä»£ç å†™å¾—å¿«ï¼Œä¸ä»£è¡¨ç³»ç»Ÿè®¾è®¡æƒ³å¾—æ·±ã€‚è¶Šæ¥è¶Šå¤šäººåœ¨ä¸è€ƒè™‘æ‰©å±•ä¸è€ƒè™‘å…¼å®¹ä¸è€ƒè™‘æ•…éšœéš”ç¦»çš„å‰æä¸‹ç–¯ç‹‚æ¨è¿›ä¸Šçº¿ã€‚å› ä¸ºèƒ½è·‘ã€èƒ½ç”¨ã€èƒ½äº¤ä»˜ã€èƒ½æ‹¿æˆæœï¼Œè‡³äºåº•å±‚æ€ä¹ˆæ”¯æ’‘ï¼Œåæ­£ä»¥åå†è¯´ã€‚</p>
<p>ä»¥åå†è¯´è¿™å››ä¸ªå­—ï¼Œæ˜¯æŠ€æœ¯å€ºåŠ¡æœ€å¤§çš„åˆ©æ¯æ¥æºã€‚Cloudflare å€’ä¸‹çš„è¿™ä¸‰ä¸ªå°æ—¶ï¼Œè®©æˆ‘å¿½ç„¶æ„è¯†åˆ°ï¼šé‚£ä¹ˆåºå¤§çš„åŸºç¡€è®¾æ–½å°šä¸”è¦ä¸ºè‡ªå·±çš„æŠ€æœ¯å†å²ä¹°å•ï¼Œæˆ‘ä»¬è¿™äº›å†™ä¸šåŠ¡ã€å†™æœåŠ¡ã€å†™ AI åº”ç”¨çš„äººï¼Œå°±æ›´é€ƒä¸æ‰ã€‚</p>
<p>ç°åœ¨ AI Coding å¾ˆå¼ºï¼Œèƒ½å¸®æˆ‘ä»¬å†™å‡ºæ•´æ®µæ•´æ®µçœ‹èµ·æ¥æ²¡æ¯›ç—…çš„ä»£ç ã€‚ä½†ä½ åªè¦è®©å®ƒæ¥æ‰‹ 3 ä¸ªæœˆä»¥ä¸Šçš„é¡¹ç›®ï¼Œå°±ä¼šçœ‹åˆ°ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼š**é€»è¾‘æ˜¯å¯¹çš„ï¼Œç»“æ„å´åœ¨ä¸€ç‚¹ç‚¹å˜å½¢ï¼Œèƒ½è·‘ä½†è¶Šæ¥è¶Šéš¾ç»´æŠ¤ã€‚**è¿™ä¸æ€ª AIï¼Œå®ƒæ²¡æœ‰ç”Ÿæ´»ç»éªŒï¼Œä¹Ÿæ²¡æœ‰æŠ€æœ¯å€ºåŠ¡æ„è¯†ã€‚å®ƒå¤©çœŸï¼Œå®ƒæ€•é”™ï¼Œä½†å®ƒä¸æ€•ä¹±ã€‚</p>
<p>çœŸæ­£æ€•ä¹±çš„äººï¼Œæ˜¯æˆ‘ä»¬ã€‚Cloudflare è¿™ä¸€æˆ˜è®©æˆ‘é‡æ–°æƒ³èµ·ä¸€ä¸ªç»å…¸æ®µå­ï¼š</p>
<blockquote>
<p>ç¨‹åºå‘˜ä¸æ˜¯ä¿® Bug çš„ï¼Œæ˜¯å¿è¿˜æŠ€æœ¯å€ºåŠ¡çš„ã€‚</p>
</blockquote>
<p>è€Œæœ€åè®½çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜åœ¨å¾€ä¿¡ç”¨å¡é‡Œæ›´ç”¨åŠ›åœ°é€æ”¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5998f9b0547474da73dfff0173a482a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142770&amp;x-signature=upuenZkdD7rOVGM42h0CFm%2BPWCM%3D" alt="image.png" loading="lazy"/>
å½“æ™šæˆ‘æŠŠç™½å¤© AI å†™çš„ä¸€æ®µè„šæœ¬ç¿»å‡ºæ¥çœ‹ï¼Œè™½ç„¶åŠŸèƒ½æ²¡é—®é¢˜ï¼Œä½†å¼‚å¸¸å¤„ç†ç¼ºå¤±ã€èµ„æºé‡Šæ”¾ä¸å®Œæ•´ã€é€»è¾‘è€¦åˆè¿‡é«˜â€”â€”è·‘å¾—é£å¿«ï¼Œä½†åŸ‹é›·æ›´å¿«ã€‚æˆ‘å°±åœ¨æ—è¾¹ç»™å®ƒåŠ è¡¥ä¸ï¼Œå°±åƒç»™æœªæ¥çš„æˆ‘ç•™ä¸€æ¡å›å®¶çš„è·¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æœªæ¥ä½ çœ‹åˆ°è¿™é‡Œçš„æ—¶å€™åˆ«éª‚æˆ‘ï¼Œæˆ‘æ˜¯çœŸçš„æœ‰åæ€è¿‡</span>
<span class="hljs-keyword">try</span>:
    result = core_operation(data)
<span class="hljs-keyword">except</span> TimeoutError:
    logger.warning(<span class="hljs-string">"Timeout occurred, retrying..."</span>)
    <span class="hljs-keyword">return</span> retry_operation(data)
<span class="hljs-keyword">finally</span>:
    cleanup()
</code></pre>
<p>æˆ‘è¾¹å†™è¾¹ç¬‘ã€‚ç¬‘è‡ªå·±å½“åˆä»¥ä¸ºæ•ˆç‡è¶Šé«˜è¶Šå¥½ï¼Œç°åœ¨åè€Œæ‡‚äº†é€Ÿåº¦ä¸ç­‰äºç¨³å®šã€‚</p>
<p>Cloudflare ä¸‰å°æ—¶æ¢å¤ä¹‹åï¼Œæ•´ä¸ªæŠ€æœ¯åœˆä¸€è¾¹ç»§ç»­åæ§½ï¼Œä¸€è¾¹ç»§ç»­ç”¨ã€‚é‚£ç§çˆ±æ¨äº¤ç»‡çš„æ„Ÿè§‰ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œå› ä¸ºæˆ‘ä»¬æ¯ä¸ªäººéƒ½æœ‰è¿‡è¿™ç§ç»å†â€”â€”ç³»ç»Ÿå´©äº†ï¼Œå®¢æˆ·åœ¨é—®ï¼Œé¢†å¯¼åœ¨è¿½ï¼Œè‡ªå·±åœ¨å‡Œæ™¨ä¿®ï¼Œç†¬è¿‡å±æœºçš„é‚£ä¸€ç§’ä½ å–Šè€å­ä¸å¹²äº†ï¼Œç­‰æœåŠ¡æ¢å¤åˆé»˜ä¸ä½œå£°ç»§ç»­ä¸Šçº¿ä¸‹ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
<p>æˆ‘ä»¬éƒ½ä¸€æ ·ã€‚Cloudflare ä¹Ÿä¸€æ ·ã€‚ä¸æ˜¯è¯´ Cloudflareé”™â€”â€”å®ƒå·²ç»åšå¾—å¤Ÿå¥½äº†ã€‚è€Œæ˜¯è¿™ä¸‰ä¸ªå°æ—¶å†æ¬¡æé†’æˆ‘ä»¬æ‰€æœ‰å†™ä»£ç çš„äººï¼š<strong>å†™å¾—å¿«ï¼Œæ˜¯çº¢åˆ©ï¼›ä¿®å¾—åŠ¨ï¼Œæ˜¯å®åŠ›ï¼›æ’‘å¾—ä½ï¼Œæ˜¯åº•æ°”ã€‚</strong></p>
<p>å†™å¾—æƒŠè‰³ä¸æ˜¯æ°´å¹³ï¼Œ<strong>å†™å¾—ä¹…æ‰æ˜¯ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ae75363bf9c4017b9a03c51b49ae2e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142770&amp;x-signature=%2BymDTOXINLBuf0HjPvfULxokwpU%3D" alt="image.png" loading="lazy"/>
å¦‚æœå“ªä¸€å¤© AI Coding èƒ½åšåˆ°è‡ªåŠ¨è¯†åˆ«æŠ€æœ¯å€ºã€è‡ªåŠ¨é‡æ„ã€è‡ªåŠ¨æ²»ç†ï¼Œé‚£å°†ä¼šæ˜¯å¼€å‘é¢†åŸŸçœŸæ­£çš„é©å‘½ã€‚ä½†åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦è€è€å®å®é¢å¯¹ä¸€å¥è€è¯ï¼š</p>
<p><strong>å‡ºæ¥æ··çš„ï¼ŒæŠ€æœ¯å€ºè¿Ÿæ—©è¦æ¢çš„ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3Då®æˆ˜æ¡ˆä¾‹ï¼ˆé£è¡Œçš„ç«ç®­/åˆ›å»º3Då¯¼èˆª/ç¿»ä¹¦æ•ˆæœ/åˆ›å»ºé•¿æ–¹ä½“/ç¯ç¯ç›¸æ‰£æ•ˆæœï¼‰]]></title>    <link>https://juejin.cn/post/7573985572400742415</link>    <guid>https://juejin.cn/post/7573985572400742415</guid>    <pubDate>2025-11-19T07:10:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573985572400742415" data-draft-id="7573892573346578484" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3Då®æˆ˜æ¡ˆä¾‹ï¼ˆé£è¡Œçš„ç«ç®­/åˆ›å»º3Då¯¼èˆª/ç¿»ä¹¦æ•ˆæœ/åˆ›å»ºé•¿æ–¹ä½“/ç¯ç¯ç›¸æ‰£æ•ˆæœï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-11-19T07:10:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Crystal328"/> <meta itemprop="url" content="https://juejin.cn/user/2359973194513272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3Då®æˆ˜æ¡ˆä¾‹ï¼ˆé£è¡Œçš„ç«ç®­/åˆ›å»º3Då¯¼èˆª/ç¿»ä¹¦æ•ˆæœ/åˆ›å»ºé•¿æ–¹ä½“/ç¯ç¯ç›¸æ‰£æ•ˆæœï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2359973194513272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Crystal328
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:10:25.000Z" title="Wed Nov 19 2025 07:10:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. é£è¡Œçš„ç«ç®­</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dea5b2bed524cbb9a27631fdad4628c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141025&amp;x-signature=W1aqVNqNY%2FAwSGeSo1d2H85nXJw%3D" alt="rocket.gif" loading="lazy"/>
å¼€å‘æ­¥éª¤ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šæ’å…¥ç«ç®­å›¾ï¼Œç„¶ååˆ©ç”¨è‡ªå®šä¹‰åŠ¨ç”»ï¼Œå®ç°ç«ç®­æ²¿å·¦ä¸Šè§’å’Œå³ä¸‹è§’æ–¹å‘æ¥ä¼šç§»åŠ¨</li>
<li>ç¬¬äºŒæ­¥ï¼šå®šä¹‰ä¸€ä¸ªå®½ 1px å’Œé«˜ 160pxï¼ŒèƒŒæ™¯é¢œè‰²ä¸ºè“è‰²çš„ç›’å­ï¼Œç„¶åå®šä½åˆ°ç«ç®­æ—è¾¹ï¼Œå†æ—‹è½¬ä¸€å®šçš„è§’åº¦</li>
<li>ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰åŠ¨ç”»ï¼Œå®ç°çº¿æ¡ï¼ˆæ°”æµï¼‰ä»ä¸Šå¾€ä¸‹ç§»åŠ¨ï¼ˆY è½´ç§»åŠ¨ï¼‰ï¼Œç„¶åä»é€æ˜åˆ°ä¸é€æ˜å†åˆ°é€æ˜çš„æ•ˆæœ</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.rocket</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">animation</span>: fly <span class="hljs-number">0.5s</span> linear infinite alternate;
        }

        <span class="hljs-comment">/* ç«ç®­é£è¡ŒåŠ¨ç”» */</span>
        <span class="hljs-keyword">@keyframes</span> fly {
            <span class="hljs-number">0%</span> {
                <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">30px</span>, -<span class="hljs-number">30px</span>);
            }

            <span class="hljs-number">100%</span> {
                <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">30px</span>, <span class="hljs-number">30px</span>);
            }
        }

        <span class="hljs-selector-class">.line</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">1px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">160px</span>;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">background-color</span>: blue;
        }

        <span class="hljs-selector-class">.pos1</span> {
            <span class="hljs-attribute">top</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">400px</span>;
        }

        <span class="hljs-selector-class">.pos2</span> {
            <span class="hljs-attribute">top</span>: <span class="hljs-number">240px</span>;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">450px</span>;
        }

        <span class="hljs-selector-class">.pos3</span> {
            <span class="hljs-attribute">top</span>: <span class="hljs-number">290px</span>;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">500px</span>;
        }

        <span class="hljs-selector-class">.pos4</span> {
            <span class="hljs-attribute">top</span>: <span class="hljs-number">320px</span>;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">550px</span>;
        }

        <span class="hljs-selector-class">.animation-cloud</span> {
            <span class="hljs-attribute">animation</span>: cloud <span class="hljs-number">1s</span> linear <span class="hljs-built_in">var</span>(--delay) infinite backwards;

        }

        <span class="hljs-comment">/* æµäº‘åŠ¨ç”» */</span>

        <span class="hljs-keyword">@keyframes</span> cloud {
            <span class="hljs-number">0%</span> {
                <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
                <span class="hljs-comment">/* å…ˆæ—‹è½¬åä½ç§» */</span>
                <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">55deg</span>) <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">200px</span>);
            }

            <span class="hljs-number">70%</span> {
                <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
            }

            <span class="hljs-number">100%</span> {
                <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
                <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">55deg</span>) <span class="hljs-built_in">translateY</span>(<span class="hljs-number">200px</span>);

            }
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/rocket.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rocket"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line pos1 animation-cloud"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"--delay:0s"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line pos2 animation-cloud"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"--delay:0.4s"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line pos3 animation-cloud"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"--delay:0.6s"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"line pos4 animation-cloud"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"--delay:0.8s"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-1">2. åˆ›å»º3Då¯¼èˆª</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb9af9ac7a644c3a89d543c19fb2cdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141025&amp;x-signature=RFC1cSfndJVTh2ouzvMAKmr0fCI%3D" alt="nav.gif" loading="lazy"/>
å¼€å‘æ­¥éª¤</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåˆ©ç”¨ ul æ ‡ç­¾æ¥åˆ¶ä½œç®€å•çš„å¯¼èˆªå¸ƒå±€</li>
<li>ç¬¬äºŒæ­¥ï¼šåœ¨æ¯ä¸ª li ä¸­æ·»åŠ ä¸€ä¸ª div ç”¨æ¥å®ç°æ—‹è½¬æ•ˆæœï¼Œåé¢æ—‹è½¬å°±æ˜¯è¦æ—‹è½¬è¿™ä¸ª div</li>
<li>ç¬¬ä¸‰æ­¥ï¼šåˆ©ç”¨ transform æ¥è°ƒæ•´ä¸¤ä¸ª a æ ‡ç­¾çš„æ„æˆçš„ç›’å­çš„ä½ç½®</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>3Då¯¼èˆª<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span>, <span class="hljs-selector-tag">ul</span> ,<span class="hljs-selector-tag">li</span>,<span class="hljs-selector-tag">a</span> {
            <span class="hljs-attribute">list-style</span>: none;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">text-decoration</span>: none;
            <span class="hljs-attribute">color</span>: white;
        }
        <span class="hljs-selector-tag">ul</span> {
            <span class="hljs-attribute">display</span>: block;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#87ceeb</span>; 
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">200px</span> auto;
            <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">200px</span>;

        }
        <span class="hljs-selector-tag">li</span> {
            <span class="hljs-attribute">float</span>: left;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
            <span class="hljs-attribute">line-height</span>: <span class="hljs-number">50px</span>;
            <span class="hljs-attribute">perspective</span>: <span class="hljs-number">300px</span>; <span class="hljs-comment">/* é€è§†è·ç¦» */</span>
        }
        <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> {
            <span class="hljs-attribute">display</span>: block;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">50px</span>;
        }
        <span class="hljs-selector-class">.box</span> {
            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
            <span class="hljs-comment">/* border: 1px solid red; */</span>
            <span class="hljs-comment">/* å­å…ƒç´ åœ¨3DçŠ¶æ€ä¸‹å‘ˆç° */</span>
            <span class="hljs-attribute">transform-style</span>: preserve-<span class="hljs-number">3</span>d;
            <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">50%</span> -<span class="hljs-number">25px</span>;

        }
        <span class="hljs-selector-class">.front</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#87ceeb</span>;
        }
        <span class="hljs-selector-class">.bottom</span> {
            <span class="hljs-attribute">background-color</span>: khaki;
            <span class="hljs-comment">/* ä¿®æ”¹æ—‹è½¬ä¸­å¿ƒç‚¹ */</span>
            <span class="hljs-attribute">transform-origin</span>: top center;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(-<span class="hljs-number">90deg</span>);
        }
        <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.box</span> {
            <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">50%</span> -<span class="hljs-number">25px</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">90deg</span>);
            <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"front"</span>&gt;</span>å‰ç«¯<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom"</span>&gt;</span>å‰ç«¯<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"front"</span>&gt;</span>å‰ç«¯å¼€å‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom"</span>&gt;</span>å‰ç«¯å¼€å‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"front"</span>&gt;</span>æ¶æ„å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom"</span>&gt;</span>æ¶æ„å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"front"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">""</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bottom"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">3. ç¿»ä¹¦æ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36e78a09f34a41b1a2da2c17ba0598ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141025&amp;x-signature=FNJZvLvbJXrwDKQ%2FT88rdfplORY%3D" alt="book.gif" loading="lazy"/></p>
<ul>
<li>æ„å»º.book ç›’å­ï¼Œç„¶ååœ¨.book ä¸­æ„å»º.page,åé¢åœ¨æ—‹è½¬ç¿»é¡µæ•ˆæœæ—¶ï¼Œæ—‹è½¬çš„å°±æ˜¯.page è¿™ä¸ªç›’å­</li>
<li>.page æ²¿ç€ Y è½´çš„åæ–¹å‘æ—‹è½¬ 180deg æ¥å®ç°ç¿»é¡µæ•ˆæœï¼Œç¿»é¡µæ—¶ï¼ŒæŠŠè½¬æ¢åŸç‚¹è®¾ç½®ä¸ºå·¦è¾¹ä¸­é—´ä½ç½®ï¼ˆtransform-origin:left;</li>
<li>åœ¨.page ç›’å­ä¸­ï¼Œæ„å»ºä¸¤ä¸ª divï¼Œ.front ä½œä¸ºä¸€é¡µçš„æ­£é¢ï¼Œ.back ä½œä¸ºä¸€é¡µçš„åé¢ã€‚ç”¨ç»å¯¹å®šä½æ§åˆ¶ä½ç½®</li>
<li>è¦å®ç°ç¿»è½¬æ—¶ï¼Œèƒ½çœ‹åˆ°ä¸€é¡µçš„èƒŒé¢ï¼Œåˆ™ç»™.back ç›’å­æ·»åŠ  transform:translateZ(-1)ï¼Œä½¿å…¶ä¸æ­£é¢æ‹‰å¼€ä¸€ç‚¹è·ç¦»</li>
<li>è¦ä½¿ç¿»è½¬åèƒ½çœ‹åˆ°ä¹¦çš„åé¢æ˜¯æ­£é¢æœä¸Šçš„ï¼Œåˆ™éœ€è¦å…ˆæŠŠ.back æ—‹è½¬ 180deg ï¼Œå³ transform:rotateY(-180deg)</li>
</ul>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç¿»ä¹¦æ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.book</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">100px</span> auto;
            <span class="hljs-attribute">position</span>: relative;
            <span class="hljs-attribute">perspective</span>: <span class="hljs-number">1000px</span>;
        }
        <span class="hljs-selector-class">.page</span> {
            <span class="hljs-attribute">width</span>: inherit;
            <span class="hljs-attribute">height</span>: inherit;
            <span class="hljs-attribute">transform-style</span>: preserve-<span class="hljs-number">3</span>d;
            <span class="hljs-attribute">transform-origin</span>: left;
        }
        <span class="hljs-selector-class">.first</span> {
            <span class="hljs-attribute">background-color</span>: orange;
        }
        <span class="hljs-selector-class">.second</span> {
            <span class="hljs-attribute">background-color</span>: yellow;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">top</span>:<span class="hljs-number">0</span>;
            <span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;
            <span class="hljs-attribute">z-index</span>: -<span class="hljs-number">1</span>;
        }
        <span class="hljs-selector-class">.page-item</span> {
            <span class="hljs-attribute">width</span>: inherit;
            <span class="hljs-attribute">height</span>: inherit;
            <span class="hljs-attribute">position</span>: relative;
        }
        <span class="hljs-selector-class">.front</span> {
            <span class="hljs-attribute">background-color</span>: pink;
        }
        <span class="hljs-selector-class">.back</span> {
            <span class="hljs-attribute">background-color</span>: purple;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">top</span>:<span class="hljs-number">0</span>;
            <span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;
            <span class="hljs-comment">/* z-index: -1; */</span>
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(-<span class="hljs-number">1px</span>) <span class="hljs-built_in">rotateY</span>(-<span class="hljs-number">180deg</span>);
        }
        <span class="hljs-selector-class">.book</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.page</span><span class="hljs-selector-class">.first</span> {
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateY</span>(-<span class="hljs-number">180deg</span>);
            <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;
        }
        <span class="hljs-selector-tag">img</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">display</span>: block;
            <span class="hljs-attribute">object-fit</span>: cover;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"book"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç¬¬ä¸€é¡µ --&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page first"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ­£é¢ --&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page-item front"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/cover1.png"</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
         <span class="hljs-comment">&lt;!-- åé¢ --&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page-item back"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/cover2.png"</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç¬¬äºŒé¡µ --&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page second"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./images/cover3.png"</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">4. åˆ›å»ºé•¿æ–¹ä½“</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37371035eedb447e8f216c568455d2e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141025&amp;x-signature=hVqKRD4x%2FqiRsJ2rHUycyb2Ey%2FQ%3D" alt="rectangle.gif" loading="lazy"/>
å¼€å‘æ­¥éª¤ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>.container</code>Â çš„å®¹å™¨ï¼Œç”¨æ¥æ”¾ç«‹æ–¹ä½“ã€‚æˆ‘ä»¬ç«™åœ¨ç¦»è¿™ä¸ªå®¹å™¨Â <code>900px</code>Â çš„åœ°æ–¹ï¼Œæ¥è§‚å¯Ÿé‡Œé¢çš„ç«‹æ–¹ä½“ã€‚æ‰€ä»¥è®¾ç½®<code>perspective: 900px;</code></li>
<li>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>.mybox</code>Â çš„å®¹å™¨ï¼Œç”¨æ¥æ„å»ºç«‹æ–¹ä½“ã€‚æ‰€ä»¥éœ€è¦è®¾ç½®Â <code>transform-style: preserve-3d;</code>ï¼Œå°†å­å…ƒç´ åœ¨ 3D ç©ºé—´å±•ç¤º</li>
<li>ç¬¬ä¸‰æ­¥ï¼šåœ¨å®¹å™¨ä¸­æ„å»º 6 ä¸ªé•¿æ–¹å½¢ï¼Œåˆ†åˆ«ä»£è¡¨æ­£æ–¹ä½“çš„ 6 ä¸ªé¢</li>
<li>ç¬¬å››æ­¥ï¼šé€šè¿‡å®šä½æŠŠå…ƒç´ å åœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡ä½ç§»ï¼Œæ—‹è½¬æ¥ç§»åŠ¨æ¯ä¸ªé¢çš„ä½ç½®</li>
<li>ç¬¬äº”æ­¥ï¼šç»™å®¹å™¨è®¾ç½®ä¸€ä¸ªæ—‹è½¬è§’åº¦ï¼Œè¿™æ ·çœ‹æ­£æ–¹ä½“æ›´ç«‹ä½“ä¸€äº›</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.container</span> {
            <span class="hljs-attribute">height</span>: <span class="hljs-number">700px</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid red;
            <span class="hljs-attribute">perspective</span>: <span class="hljs-number">1000px</span>;
        }

        <span class="hljs-selector-class">.mybox</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid blue;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">200px</span> auto <span class="hljs-number">0</span>;
            <span class="hljs-attribute">transform-style</span>: preserve-<span class="hljs-number">3</span>d;
            <span class="hljs-comment">/* å¯ä¸åŠ  å› ä¸ºæœ‰ä¸Šé¢çš„transform-style: preserve-3d; */</span>
            <span class="hljs-attribute">position</span>: relative;
        }

        <span class="hljs-selector-class">.mybox</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-comment">/* ä¸­å¿ƒæ—‹è½¬ é˜²æ­¢è§†è§‰æ”¾å¤§ */</span>
            <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">50%</span> -<span class="hljs-number">100px</span>;
            <span class="hljs-attribute">transform</span>:  <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">180deg</span>);
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">6s</span> ease ;
        }

        <span class="hljs-selector-class">.face</span> {
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        }

        <span class="hljs-selector-class">.before</span>,
        <span class="hljs-selector-class">.after</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
        }

        <span class="hljs-selector-class">.before</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">240</span>, <span class="hljs-number">224</span>, <span class="hljs-number">79</span>, <span class="hljs-number">0.7</span>);
        }

        <span class="hljs-selector-class">.after</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">79</span>, <span class="hljs-number">224</span>, <span class="hljs-number">240</span>, <span class="hljs-number">0.8</span>);
        }

        <span class="hljs-selector-class">.top</span>,
        <span class="hljs-selector-class">.bottom</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
        }

        <span class="hljs-selector-class">.top</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">99</span>, <span class="hljs-number">71</span>, <span class="hljs-number">0.7</span>);
        }

        <span class="hljs-selector-class">.bottom</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">138</span>, <span class="hljs-number">43</span>, <span class="hljs-number">226</span>, <span class="hljs-number">0.7</span>);
        }

        <span class="hljs-selector-class">.left</span>,
        <span class="hljs-selector-class">.right</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
        }

        <span class="hljs-selector-class">.left</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">60</span>, <span class="hljs-number">179</span>, <span class="hljs-number">113</span>, <span class="hljs-number">0.5</span>);
        }

        <span class="hljs-selector-class">.right</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">210</span>, <span class="hljs-number">20</span>, <span class="hljs-number">147</span>, <span class="hljs-number">0.7</span>);
        }

        <span class="hljs-comment">/* ä½ç½®è°ƒæ•´ */</span>
        <span class="hljs-selector-class">.after</span> {
            <span class="hljs-comment">/* æœ€åé¢zè½´ç§»åŠ¨-200px */</span>
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(-<span class="hljs-number">200px</span>);
        }

        <span class="hljs-selector-class">.top</span> {
            <span class="hljs-comment">/* ä¸Šé¢å…ˆyè½´åæ–¹å‘å¹³ç§»ä¸Šå»ç„¶åå†å‘åæŠ˜å è¿‡å»*/</span>
            <span class="hljs-attribute">transform-origin</span>: bottom;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">100%</span>) <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">90deg</span>);
        }
        <span class="hljs-selector-class">.bottom</span> {
            <span class="hljs-comment">/* ä¸‹é¢å…ˆyè½´æ­£æ–¹å‘å¹³ç§»ä¸‹å»ç„¶åå†å‘å‰æŠ˜å è¿‡å»*/</span>
            <span class="hljs-attribute">transform-origin</span>: top;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">300px</span>) <span class="hljs-built_in">rotateX</span>(-<span class="hljs-number">90deg</span>);
        }
        <span class="hljs-selector-class">.left</span> {
            <span class="hljs-comment">/* å·¦ä¾§å…ˆxè½´åæ–¹å‘å¹³ç§»è¿‡å»ç„¶åå†å‘å³æŠ˜å è¿‡å»*/</span>
            <span class="hljs-attribute">transform-origin</span>: right;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">200px</span>) <span class="hljs-built_in">rotateY</span>(-<span class="hljs-number">90deg</span>);
        }
        <span class="hljs-selector-class">.right</span> {
            <span class="hljs-comment">/* å³ä¾§å…ˆxè½´æ­£æ–¹å‘å¹³ç§»è¿‡å»ç„¶åå†å‘å·¦æŠ˜å è¿‡å»*/</span>
            <span class="hljs-attribute">transform-origin</span>: left;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">400px</span>) <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">90deg</span>);
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ç«‹ä½“ç›’å­ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mybox"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face before"</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face after"</span>&gt;</span>12<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face top"</span>&gt;</span>21<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face bottom"</span>&gt;</span>22<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face left"</span>&gt;</span>31<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"face right"</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-4">5. ç¯ç¯ç›¸æ‰£</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/330b824cfc1d4c1b8b960e39a3eba7c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3J5c3RhbDMyOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764141025&amp;x-signature=bbEhSnoILVSnzwOMpL79yeectFM%3D" alt="ring.png" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç¯ç¯ç›¸æ‰£<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.wrap</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid red;
            <span class="hljs-attribute">transform-style</span>: preserve-<span class="hljs-number">3</span>d;
        }
        <span class="hljs-selector-class">.ring</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
            <span class="hljs-attribute">float</span>: left;
        }
        <span class="hljs-selector-class">.tomato</span> {
            <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid tomato;
            <span class="hljs-attribute">margin-right</span>: -<span class="hljs-number">60px</span>;
        }
        <span class="hljs-selector-class">.skyblue</span> {
            <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid skyblue;
            <span class="hljs-comment">/* è“è‰²ç¯å‘xè½´æ—‹è½¬ */</span>
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">1deg</span>);
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ring tomato"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ring skyblue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ²¹çŒ´è„šæœ¬æ‹¦æˆªfetchå’Œxhrè¯·æ±‚ï¼Œå®ç°ä¿®æ”¹æœåŠ¡ç«¯æ¥å£åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7574230586970161158</link>    <guid>https://juejin.cn/post/7574230586970161158</guid>    <pubDate>2025-11-19T07:30:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574230586970161158" data-draft-id="7574007967886377023" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ²¹çŒ´è„šæœ¬æ‹¦æˆªfetchå’Œxhrè¯·æ±‚ï¼Œå®ç°ä¿®æ”¹æœåŠ¡ç«¯æ¥å£åŠŸèƒ½"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-19T07:30:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mine_mine"/> <meta itemprop="url" content="https://juejin.cn/user/1503787635454567"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ²¹çŒ´è„šæœ¬æ‹¦æˆªfetchå’Œxhrè¯·æ±‚ï¼Œå®ç°ä¿®æ”¹æœåŠ¡ç«¯æ¥å£åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1503787635454567/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mine_mine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:30:34.000Z" title="Wed Nov 19 2025 07:30:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä½¿ç”¨è¯´æ˜</h3>
<ol>
<li>ä¿®æ”¹ç¬¬7è¡Œçš„<code>match</code></li>
<li>ç¬¬15~34è¡Œï¼Œæ˜¯æˆ‘è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ï¼Œéœ€è¦æ”¹æˆä½ è‡ªå·±çš„</li>
<li>ç¬¬42è¡Œçš„<code>API_CONFIG</code>å®šä¹‰äº†æ¯ä¸ªæ¥å£çš„åŒ¹é…æ–¹å¼å’Œå›è°ƒå‡½æ•°ï¼Œä¹Ÿéœ€è¦æ”¹æˆä½ è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘</li>
<li>ä¿®æ”¹å®Œæˆåï¼Œå¤åˆ¶åˆ°æ²¹çŒ´è„šæœ¬ä¸­å³å¯</li>
</ol>
<h3 data-id="heading-1">ä»£ç </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name         æ¥å£ä¿®æ”¹è„šæœ¬</span>
<span class="hljs-comment">// @namespace    http://tampermonkey.net/</span>
<span class="hljs-comment">// @version      1.1</span>
<span class="hljs-comment">// @description  é€šç”¨æ¥å£æ‹¦æˆªå’Œå“åº”ä¿®æ”¹è„šæœ¬ï¼Œæ”¯æŒè‡ªå®šä¹‰é…ç½®</span>
<span class="hljs-comment">// @author       You</span>
<span class="hljs-comment">// @match        *://*/*</span>
<span class="hljs-comment">// @grant        unsafeWindow</span>
<span class="hljs-comment">// @run-at       document-start</span>
<span class="hljs-comment">// ==/UserScript==</span>
(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-string">'use strict'</span>;

    <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒè´¦å·ä¸ç”Ÿäº§ç¯å¢ƒæ ‡è¯†ï¼ˆä¸šåŠ¡åœºæ™¯ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ï¼‰</span>
    <span class="hljs-keyword">const</span> currentAccount = <span class="hljs-string">"acc1"</span>;

    <span class="hljs-keyword">const</span> accountConf = {
        <span class="hljs-string">"acc1"</span>: {
            <span class="hljs-string">"æ€»äººæ•°"</span>: <span class="hljs-number">400</span>,
            <span class="hljs-string">"deptMemberCount"</span>: {
                <span class="hljs-string">"éƒ¨é—¨1"</span>: <span class="hljs-number">150</span>,
                <span class="hljs-string">"éƒ¨é—¨2"</span>: <span class="hljs-number">80</span>,
            },
        },
        <span class="hljs-string">"acc2"</span>: {
            <span class="hljs-string">"æ€»äººæ•°"</span>: <span class="hljs-number">3574</span>,
            <span class="hljs-string">"deptMemberCount"</span>: {
                <span class="hljs-string">"éƒ¨é—¨1"</span>: <span class="hljs-number">3380</span>,
                <span class="hljs-string">"éƒ¨é—¨2"</span>: <span class="hljs-number">1256</span>,
            },
        }
    }

    <span class="hljs-keyword">const</span> config = accountConf[currentAccount] || accountConf[<span class="hljs-string">"acc1"</span>];

    <span class="hljs-comment">// ç”¨äºå­˜å‚¨è¯·æ±‚ä¿¡æ¯çš„Map</span>
    <span class="hljs-keyword">const</span> requestMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

    <span class="hljs-comment">// æ¥å£åœ°å€ä¸ä¿®æ”¹å›è°ƒå‡½æ•°çš„æ˜ å°„</span>
    <span class="hljs-comment">// æ¥å£åœ°å€ä½¿ç”¨çš„æ˜¯ url.includes æ–¹å¼åŒ¹é…ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹</span>
    <span class="hljs-comment">// å›è°ƒå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šresponseï¼ˆå“åº”æ•°æ®å¯¹è±¡ï¼‰ï¼ŒrequestInfoï¼ˆè¯·æ±‚ä¿¡æ¯å¯¹è±¡ï¼‰</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_CONFIG</span> = {
        <span class="hljs-string">'get_sub_depts_page'</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">response, requestInfo</span>) {
            <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">result</span>) <span class="hljs-keyword">return</span> response;

            <span class="hljs-keyword">const</span> list = response.<span class="hljs-property">result</span>.<span class="hljs-property">list</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; list.<span class="hljs-property">length</span>; i++) {
                <span class="hljs-keyword">if</span> (list[i][<span class="hljs-string">'name'</span>] <span class="hljs-keyword">in</span> config[<span class="hljs-string">'deptMemberCount'</span>]) {
                    list[i].<span class="hljs-property">memberCount</span> = config[<span class="hljs-string">'deptMemberCount'</span>][list[i][<span class="hljs-string">'name'</span>]];
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">return</span> response;
        },
        <span class="hljs-string">'statistic_realtime'</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">response, requestInfo</span>) {
            <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">result</span>) <span class="hljs-keyword">return</span> response;

            response.<span class="hljs-property">result</span>.<span class="hljs-property">activeCount</span> = config[<span class="hljs-string">'æ€»äººæ•°'</span>] - <span class="hljs-number">1</span>;
            response.<span class="hljs-property">result</span>.<span class="hljs-property">memCount</span> = config[<span class="hljs-string">'æ€»äººæ•°'</span>];
            <span class="hljs-keyword">return</span> response;
        },
        <span class="hljs-comment">// ...</span>
    };

    <span class="hljs-comment">// XHR æ‹¦æˆª</span>
    <span class="hljs-keyword">const</span> originalOpen = <span class="hljs-title class_">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">open</span>;
    <span class="hljs-title class_">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">open</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">method, url</span>) {
        <span class="hljs-comment">// å­˜å‚¨è¯·æ±‚ä¿¡æ¯</span>
        requestMap.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>, {
            <span class="hljs-attr">method</span>: method,
            <span class="hljs-attr">url</span>: url,
            <span class="hljs-attr">body</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">// XHRçš„bodyä¼šåœ¨sendæ—¶è®¾ç½®</span>
        });

        <span class="hljs-comment">// æŸ¥æ‰¾åŒ¹é…çš„æ¥å£é…ç½®</span>
        <span class="hljs-keyword">let</span> matchedCallback = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [path, callback] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable constant_">API_CONFIG</span>)) {
            <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">includes</span>(path)) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆªåˆ°æ¥å£: <span class="hljs-subst">${url}</span>`</span>);
                matchedCallback = callback;
                <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-keyword">if</span> (matchedCallback) {
            <span class="hljs-keyword">const</span> originalOnReadyStateChange = <span class="hljs-variable language_">this</span>.<span class="hljs-property">onreadystatechange</span>;
            <span class="hljs-keyword">const</span> xhr = <span class="hljs-variable language_">this</span>;

            <span class="hljs-variable language_">this</span>.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
                <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span> &amp;&amp; xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">const</span> response = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(xhr.<span class="hljs-property">responseText</span>);
                        <span class="hljs-keyword">const</span> requestInfo = requestMap.<span class="hljs-title function_">get</span>(xhr) || {};
                        <span class="hljs-keyword">const</span> modifiedResponse = <span class="hljs-title function_">matchedCallback</span>(response, requestInfo);

                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(xhr, <span class="hljs-string">'responseText'</span>, {
                            <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
                            <span class="hljs-attr">value</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(modifiedResponse)
                        });

                        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(xhr, <span class="hljs-string">'response'</span>, {
                            <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
                            <span class="hljs-attr">value</span>: modifiedResponse
                        });
                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`xhr - <span class="hljs-subst">${url}</span> - å·²ä¿®æ”¹`</span>);
                    } <span class="hljs-keyword">catch</span> (e) {
                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¿®æ”¹å“åº”å¤±è´¥:'</span>, e);
                    }
                }

                <span class="hljs-keyword">if</span> (originalOnReadyStateChange) {
                    originalOnReadyStateChange.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
                }
            };
        }

        originalOpen.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
    };

    <span class="hljs-comment">// XHR send æ‹¦æˆªï¼Œç”¨äºè·å–è¯·æ±‚ä½“</span>
    <span class="hljs-keyword">const</span> originalSend = <span class="hljs-title class_">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">send</span>;
    <span class="hljs-title class_">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">send</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">body</span>) {
        <span class="hljs-comment">// æ›´æ–°è¯·æ±‚ä¿¡æ¯ä¸­çš„body</span>
        <span class="hljs-keyword">const</span> requestInfo = requestMap.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">if</span> (requestInfo) {
            requestInfo.<span class="hljs-property">body</span> = body;
        }

        <span class="hljs-keyword">return</span> originalSend.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
    };

    <span class="hljs-comment">// Fetch æ‹¦æˆª</span>
    <span class="hljs-keyword">const</span> originalFetch = <span class="hljs-variable language_">window</span>.<span class="hljs-property">fetch</span>;

    <span class="hljs-variable language_">window</span>.<span class="hljs-property">unsafeWindow</span>.<span class="hljs-property">fetch</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">input, init</span>) {
        <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span> ? input : input.<span class="hljs-property">url</span>;
        <span class="hljs-keyword">const</span> method = (init &amp;&amp; init.<span class="hljs-property">method</span>) || <span class="hljs-string">'GET'</span>;
        <span class="hljs-keyword">const</span> body = (init &amp;&amp; init.<span class="hljs-property">body</span>) || <span class="hljs-literal">null</span>;

        <span class="hljs-comment">// æŸ¥æ‰¾åŒ¹é…çš„æ¥å£é…ç½®</span>
        <span class="hljs-keyword">let</span> matchedCallback = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [path, callback] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable constant_">API_CONFIG</span>)) {
            <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">includes</span>(path)) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆªåˆ°fetchè¯·æ±‚: <span class="hljs-subst">${url}</span>`</span>);
                matchedCallback = callback;
                <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-keyword">if</span> (!matchedCallback) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">originalFetch</span>(input, init);
        }

        <span class="hljs-comment">// åˆ›å»ºè¯·æ±‚ä¿¡æ¯å¯¹è±¡</span>
        <span class="hljs-keyword">const</span> requestInfo = {
            <span class="hljs-attr">method</span>: method,
            <span class="hljs-attr">url</span>: url,
            <span class="hljs-attr">body</span>: body
        };

        <span class="hljs-keyword">return</span> <span class="hljs-title function_">originalFetch</span>(input, init).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
            <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">text</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(text);
                    <span class="hljs-keyword">const</span> modifiedData = <span class="hljs-title function_">matchedCallback</span>(data, requestInfo);
                    <span class="hljs-keyword">const</span> modifiedText = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(modifiedData);

                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`fetch - <span class="hljs-subst">${url}</span> - å·²ä¿®æ”¹`</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(modifiedText, {
                        <span class="hljs-attr">status</span>: response.<span class="hljs-property">status</span>,
                        <span class="hljs-attr">statusText</span>: response.<span class="hljs-property">statusText</span>,
                        <span class="hljs-attr">headers</span>: response.<span class="hljs-property">headers</span>
                    });
                } <span class="hljs-keyword">catch</span> (e) {
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¿®æ”¹fetchå“åº”å¤±è´¥:'</span>, e);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(text, {
                        <span class="hljs-attr">status</span>: response.<span class="hljs-property">status</span>,
                        <span class="hljs-attr">statusText</span>: response.<span class="hljs-property">statusText</span>,
                        <span class="hljs-attr">headers</span>: response.<span class="hljs-property">headers</span>
                    });
                }
            });
        });
    };

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥å£ä¿®æ”¹è„šæœ¬å·²åŠ è½½ï¼Œå½“å‰é…ç½®çš„æ¥å£æ•°é‡:'</span>, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable constant_">API_CONFIG</span>).<span class="hljs-property">length</span>);
})();
</code></pre>
<h3 data-id="heading-2">å…¶ä»–è¯´æ˜</h3>
<ol>
<li>æ–‡ç« å‚è€ƒäº†<a href="https://juejin.cn/post/7135590843544502308" target="_blank" title="https://juejin.cn/post/7135590843544502308">æ²¹çŒ´è„šæœ¬é‡å†™fetchå’Œxhrè¯·æ±‚</a>ï¼Œå†åŠ ä¸Šå¤§æ¨¡å‹æ”¹æˆæ‰¹å¤„ç†çš„æ–¹å¼ï¼Œæ„Ÿè°¢å¤§ä½¬çš„åˆ†äº«ã€‚</li>
<li>é™¤äº†ä½¿ç”¨æ²¹çŒ´å¤–ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.scriptcat.org%2Fdocs%2Fuse%2Fscript_installation%2F" target="_blank" title="https://docs.scriptcat.org/docs/use/script_installation/" ref="nofollow noopener noreferrer">è„šæœ¬çŒ«</a>ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li>
<li>æœ¬åœ°è°ƒè¯•æœŸé—´ï¼Œä¸ºäº†æ–¹ä¾¿å†™ä»£ç ï¼Œå¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F165517728" target="_blank" title="https://zhuanlan.zhihu.com/p/165517728" ref="nofollow noopener noreferrer">åˆ©ç”¨@requireè°ƒç”¨æœ¬åœ°è„šæœ¬çš„æ–¹æ³•</a>ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compose ä¸­çš„ç³»ç»ŸåŒºåŸŸé€‚é…]]></title>    <link>https://juejin.cn/post/7574020645863473203</link>    <guid>https://juejin.cn/post/7574020645863473203</guid>    <pubDate>2025-11-19T07:31:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574020645863473203" data-draft-id="7574040813749354547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compose ä¸­çš„ç³»ç»ŸåŒºåŸŸé€‚é…"/> <meta itemprop="keywords" content="Android,Android Jetpack"/> <meta itemprop="datePublished" content="2025-11-19T07:31:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ¨å­äºˆå½¤"/> <meta itemprop="url" content="https://juejin.cn/user/2691232911860727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compose ä¸­çš„ç³»ç»ŸåŒºåŸŸé€‚é…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2691232911860727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ¨å­äºˆå½¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:31:33.000Z" title="Wed Nov 19 2025 07:31:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œç•Œé¢å…ƒç´ å¸¸å¸¸éœ€è¦é¿å¼€ç³»ç»Ÿå…³é”®åŒºåŸŸï¼ˆå¦‚çŠ¶æ€æ ã€å¯¼èˆªæ ï¼‰å’Œä¸´æ—¶å‡ºç°çš„äº¤äº’åŒºåŸŸï¼ˆå¦‚è¾“å…¥æ³•ï¼‰ï¼Œä»¥ç¡®ä¿å†…å®¹å®Œæ•´å¯è§ä¸”äº¤äº’æµç•…ã€‚Compose æä¾›äº†è¾ƒå¤šä¾¿æ·çš„ Modifier æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…è½»æ¾å®ç°è¿™ç±»é€‚é…éœ€æ±‚ï¼Œæ— éœ€æ‰‹åŠ¨è®¡ç®—å¤æ‚çš„è¾¹è·å€¼ã€‚</p>
<h2 data-id="heading-0">å¸¸ç”¨ç³»ç»ŸåŒºåŸŸ Padding Modifier</h2>
<ol>
<li>
<p><strong><code>Modifier.statusBarsPadding()</code></strong></p>
<p>ä¸ºç»„ä»¶é¡¶éƒ¨æ·»åŠ ä¸çŠ¶æ€æ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Ffoundation%2Flayout%2Fpackage-summary%23(androidx.compose.foundation.layout.WindowInsets.Companion).statusBars()" target="_blank" title="https://developer.android.google.cn/reference/kotlin/androidx/compose/foundation/layout/package-summary#(androidx.compose.foundation.layout.WindowInsets.Companion).statusBars()" ref="nofollow noopener noreferrer">StatusBar</a>ï¼‰åŒ¹é…çš„å†…è¾¹è·ï¼Œé¿å…å†…å®¹è¢«é¡¶éƒ¨çŠ¶æ€æ é®æŒ¡ã€‚</p>
</li>
<li>
<p><strong><code>Modifier.navigationBarsPadding()</code></strong></p>
<p>ä¸ºç»„ä»¶æ·»åŠ ä¸å¯¼èˆªæ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Ffoundation%2Flayout%2Fpackage-summary%23(androidx.compose.foundation.layout.WindowInsets.Companion).navigationBars()" target="_blank" title="https://developer.android.google.cn/reference/kotlin/androidx/compose/foundation/layout/package-summary#(androidx.compose.foundation.layout.WindowInsets.Companion).navigationBars()" ref="nofollow noopener noreferrer">NavigationBar</a>ï¼‰åŒ¹é…çš„å†…è¾¹è·ï¼Œé€‚é…è™šæ‹Ÿå¯¼èˆªé”®æˆ–å…¨é¢å±æ‰‹åŠ¿åŒºåŸŸã€‚</p>
</li>
<li>
<p><strong><code>Modifier.imePadding()</code></strong></p>
<p>å½“è¾“å…¥æ³•ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Ffoundation%2Flayout%2Fpackage-summary%3Fhl%3Dzh-cn%23(androidx.compose.foundation.layout.WindowInsets.Companion).ime()" target="_blank" title="https://developer.android.google.cn/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=zh-cn#(androidx.compose.foundation.layout.WindowInsets.Companion).ime()" ref="nofollow noopener noreferrer">IME</a>ï¼‰å¼¹å‡ºæ—¶ï¼Œä¸ºç»„ä»¶åº•éƒ¨æ·»åŠ ä¸è¾“å…¥æ³•é«˜åº¦åŒ¹é…çš„å†…è¾¹è·ï¼Œç¡®ä¿è¾“å…¥æ¡†æˆ–åº•éƒ¨æŒ‰é’®ä¸ä¼šè¢«è¾“å…¥æ³•é®æŒ¡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-1">ä½¿ç”¨ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ImePaddingDemo</span><span class="hljs-params">(modifier: <span class="hljs-type">Modifier</span> = Modifier)</span></span> {
    Column(
        modifier = modifier
            .fillMaxWidth()
            <span class="hljs-comment">// é€‚é…çŠ¶æ€æ å’Œå¯¼èˆªæ ï¼Œç¡®ä¿æ•´ä½“å¸ƒå±€é¿å¼€ç³»ç»Ÿå›ºå®šåŒºåŸŸ</span>
            .statusBarsPadding()
            .navigationBarsPadding()
            <span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰å†…è¾¹è·ï¼Œè°ƒæ•´å†…å®¹ä¸è¾¹ç¼˜çš„è·ç¦»</span>
            .padding(horizontal = <span class="hljs-number">30.</span>dp, vertical = <span class="hljs-number">20.</span>dp)
            <span class="hljs-comment">// æ·»åŠ è¾“å…¥æ³•é€‚é…ï¼Œç¡®ä¿è¾“å…¥æ³•å¼¹å‡ºæ—¶å†…å®¹ä¸Šç§»ä¸è¢«é®æŒ¡</span>
            .imePadding(),
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        <span class="hljs-comment">// è¾“å…¥æ¡†</span>
        TextField(
            value = <span class="hljs-string">""</span>,
            onValueChange = {}
        )
        Spacer(modifier = Modifier.weight(<span class="hljs-number">1f</span>))
        Button(
            onClick = {},
            modifier = Modifier
                .fillMaxWidth()
                .height(<span class="hljs-number">48.</span>dp)
        ) {
            Text(text = <span class="hljs-string">"ç¡®å®š"</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-2">æ³¨æ„äº‹é¡¹</h3>
<p>ä½¿ç”¨ imePadding() æ—¶ï¼Œéœ€åœ¨ AndroidManifest.xml ä¸­ä¸ºå¯¹åº” Activity æ·»åŠ é…ç½®ï¼Œå¦åˆ™åœ¨ Android 11ï¼ˆAPI 30ï¼‰ä»¥ä¸‹è®¾å¤‡å¯èƒ½æ— æ³•ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".YourActivity"</span>
    <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">"adjustResize"</span>  &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">å…³é”®é…ç½®</span> <span class="hljs-attr">--</span>&gt;</span>
    ... &gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>

</code></pre>
<h3 data-id="heading-3">æ•ˆæœå¯¹æ¯”</h3>
<p>é€šè¿‡ä¸Šè¿°é€‚é…ï¼Œå¯åœ¨ä¸åŒç³»ç»Ÿç‰ˆæœ¬ä¸­è·å¾—ä¸€è‡´çš„ä½“éªŒï¼š å·¦è¾¹æ˜¯ Android 15ï¼Œ å³è¾¹æ˜¯ Android 10 ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0aaa1658700a431490645a7976369a24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyo5a2Q5LqI5b2k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143572&amp;x-signature=2p08N%2BwRJr6OB7kgD%2F9cYaLsoB8%3D" alt="cxxyv-i0rfl.gif" width="30%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8ea828e085f45388d0c2e942c148d12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyo5a2Q5LqI5b2k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143572&amp;x-signature=9MCez4No1LrF0eY1i1wXyxRvc0I%3D" alt="jot8b-zuczo.gif" width="33%" loading="lazy"/>
<h2 data-id="heading-4">æºç åˆ†æ</h2>
<p><em>statusBarsPadding()ã€navigationBarsPadding()ã€imePadding() éƒ½æ˜¯é€šè¿‡ windowInsetsPadding() æ¥å®ç°çš„ã€‚</em></p>
<p>ä»¥çŠ¶æ€æ ä¸ºä¾‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> Modifier.<span class="hljs-title">statusBarsPadding</span><span class="hljs-params">()</span></span> =
    windowInsetsPadding(debugInspectorInfo { name = <span class="hljs-string">"statusBarsPadding"</span> } ) { statusBars } 
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Suppress(<span class="hljs-string">"NOTHING_TO_INLINE"</span>)</span>
<span class="hljs-meta">@Stable</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> Modifier.<span class="hljs-title">windowInsetsPadding</span><span class="hljs-params">(
    <span class="hljs-keyword">noinline</span> inspectorInfo: <span class="hljs-type">InspectorInfo</span>.() -&gt; <span class="hljs-type">Unit</span>,
    <span class="hljs-keyword">crossinline</span> insetsCalculation: <span class="hljs-type">WindowInsetsHolder</span>.() -&gt; <span class="hljs-type">WindowInsets</span>,
)</span></span>: Modifier =
    composed(inspectorInfo) {
        <span class="hljs-keyword">val</span> composeInsets = WindowInsetsHolder.current()
        remember(composeInsets) {
            <span class="hljs-keyword">val</span> insets = composeInsets.insetsCalculation()
            InsetsPaddingModifier(insets)
        }
    }
</code></pre>
<h3 data-id="heading-5"><strong>WindowInsetsHolder.current()</strong></h3>
<p>WindowInsetsHolder æ˜¯ Compose å†…éƒ¨ç»´æŠ¤çš„ä¸€ä¸ªâ€œå½“å‰çª—å£ Insets æä¾›è€…â€ï¼Œé‡Œé¢æœ‰ statusBars / navigationBars / ime ç­‰å„ç§ insetsã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">current</span><span class="hljs-params">()</span></span>: WindowInsetsHolder {
    <span class="hljs-keyword">val</span> view = LocalView.current
    <span class="hljs-keyword">val</span> insets = getOrCreateFor(view)

    DisposableEffect(insets) {
        insets.incrementAccessors(view)
        onDispose { insets.decrementAccessors(view) }
    }
    <span class="hljs-keyword">return</span> insets
}

<span class="hljs-comment">/**
 * Returns the [WindowInsetsHolder] associated with [view] or creates one and associates it.
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getOrCreateFor</span><span class="hljs-params">(view: <span class="hljs-type">View</span>)</span></span>: WindowInsetsHolder {
    <span class="hljs-keyword">return</span> synchronized(viewMap) {
        viewMap.getOrPut(view) {
            <span class="hljs-keyword">val</span> insets = <span class="hljs-literal">null</span>
            WindowInsetsHolder(insets, view)
        }
    }
}
</code></pre>
<p>LocalView.current ç”¨äºåœ¨ Compose ä¸­è·å–å½“å‰ç»„åˆæ ‘æ‰€å…³è”çš„ AndroidComposeViewã€‚é€šè¿‡è¯¥ View è¿›ä¸€æ­¥è°ƒç”¨ getOrCreateFor() æ–¹æ³•ï¼Œè·å– WindowInsetsHolder å¯¹è±¡ã€‚</p>
<p>æ ¸å¿ƒå°±æ˜¯ incrementAccessors æ–¹æ³•ï¼Œé¦–æ¬¡è®¿é—®æ—¶ä¸º View æ³¨å†Œ InsetsListener ç›‘å¬å™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">incrementAccessors</span><span class="hljs-params">(view: <span class="hljs-type">View</span>)</span></span> {
    <span class="hljs-keyword">if</span> (accessCount == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// add listeners</span>
        ViewCompat.setOnApplyWindowInsetsListener(view, insetsListener)

        <span class="hljs-keyword">if</span> (view.isAttachedToWindow) {
            view.requestApplyInsets()
        }
        view.addOnAttachStateChangeListener(insetsListener)

        ViewCompat.setWindowInsetsAnimationCallback(view, insetsListener)
    }
    accessCount++
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InsetsListener</span>(<span class="hljs-keyword">val</span> composeInsets: WindowInsetsHolder) :
    WindowInsetsAnimationCompat.Callback(
        <span class="hljs-keyword">if</span> (composeInsets.consumes) DISPATCH_MODE_STOP <span class="hljs-keyword">else</span> DISPATCH_MODE_CONTINUE_ON_SUBTREE
    ),
    Runnable,
    OnApplyWindowInsetsListener,
    OnAttachStateChangeListener {
    

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onProgress</span><span class="hljs-params">(
        insets: <span class="hljs-type">WindowInsetsCompat</span>,
        runningAnimations: <span class="hljs-type">MutableList</span>&lt;<span class="hljs-type">WindowInsetsAnimationCompat</span>&gt;,
    )</span></span>: WindowInsetsCompat {
        composeInsets.update(insets)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (composeInsets.consumes) WindowInsetsCompat.CONSUMED <span class="hljs-keyword">else</span> insets
    }


    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onApplyWindowInsets</span><span class="hljs-params">(view: <span class="hljs-type">View</span>, insets: <span class="hljs-type">WindowInsetsCompat</span>)</span></span>: WindowInsetsCompat {
        <span class="hljs-comment">// Keep track of the most recent insets we've seen, to ensure onEnd will always use the</span>
        <span class="hljs-comment">// most recently acquired insets</span>
        savedInsets = insets
        composeInsets.updateImeAnimationTarget(insets)
        <span class="hljs-keyword">if</span> (prepared) {
            <span class="hljs-comment">// There may be no callback on R if the animation is canceled after onPrepare(),</span>
            <span class="hljs-comment">// so we won't know if the onPrepare() was canceled or if this is an</span>
            <span class="hljs-comment">// onApplyWindowInsets() after the cancelation. We'll just post the value</span>
            <span class="hljs-comment">// and if it is still preparing then we just use the value.</span>
            <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT == Build.VERSION_CODES.R) {
                view.post(<span class="hljs-keyword">this</span>)
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!runningAnimation) {
            <span class="hljs-comment">// If an animation is running, rely on onProgress() to update the insets</span>
            <span class="hljs-comment">// On APIs less than 30 where the IME animation is backported, this avoids reporting</span>
            <span class="hljs-comment">// the final insets for a frame while the animation is running.</span>
            composeInsets.updateImeAnimationSource(insets)
            composeInsets.update(insets)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (composeInsets.consumes) WindowInsetsCompat.CONSUMED <span class="hljs-keyword">else</span> insets
    }

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>InsetsListener æŒæœ‰ WindowInsetsHolderï¼ˆcomposeInsetsï¼‰ï¼Œåœ¨ä¸¤ç±»åœºæ™¯è§¦å‘æ›´æ–°ï¼š</p>
<ul>
<li>onProgressï¼šè½¯é”®ç›˜åŠ¨ç”»çŠ¶æ€ä¸‹æ›´æ–° Insets</li>
<li>onApplyWindowInsetsï¼šéåŠ¨ç”»çŠ¶æ€ä¸‹æ›´æ–° Insets</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">update</span><span class="hljs-params">(windowInsets: <span class="hljs-type">WindowInsetsCompat</span>, types: <span class="hljs-type">Int</span> = <span class="hljs-number">0</span>)</span></span> {
     ime.update(insets, types)
     navigationBars.update(insets, types)
     statusBars.update(insets, types)
     <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>WindowInsetsHolder çš„ update æ–¹æ³•ä¼šå°†åŸå§‹ WindowInsetsCompat åˆ†åˆ«æ›´æ–°è¾“å…¥æ³•ã€å¯¼èˆªæ ã€çŠ¶æ€æ ç­‰å­åŒºåŸŸçš„ Insets ä¿¡æ¯ï¼Œä¸ºä¸Šå±‚é€‚é…æä¾›æ•°æ®æ”¯æŒã€‚</p>
<h3 data-id="heading-6">InsetsPaddingModifier(insets)</h3>
<p>å®ƒåŒæ—¶åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>LayoutModifier â€”â€” åœ¨ layout é˜¶æ®µâ€œå¢åŠ  paddingâ€</li>
<li>ModifierLocalConsumer â€”â€” è¯»å–ä¸Šæ¸¸å·²ç»â€œæ¶ˆè´¹è¿‡â€çš„ insets</li>
<li>ModifierLocalProvider â€”â€” æŠŠâ€œå·²æ¶ˆè´¹çš„ insetsâ€ç»§ç»­å‘ä¸‹æ¸¸ä¼ é€’</li>
</ol>
<p>æ‰€ä»¥å®ƒæ—¢æ˜¯ <strong>Insets çš„æ¶ˆè´¹è€…</strong>ï¼Œä¹Ÿæ˜¯ <strong>Insets æ¶ˆè´¹æƒ…å†µçš„æä¾›è€…</strong>ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">val</span> ModifierLocalConsumedWindowInsets = modifierLocalOf { WindowInsets(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>) }

<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InsetsPaddingModifier</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> insets: WindowInsets) :
    LayoutModifier, ModifierLocalConsumer, ModifierLocalProvider&lt;WindowInsets&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> unconsumedInsets: WindowInsets <span class="hljs-keyword">by</span> mutableStateOf(insets)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> consumedInsets: WindowInsets <span class="hljs-keyword">by</span> mutableStateOf(insets)

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> MeasureScope.<span class="hljs-title">measure</span><span class="hljs-params">(
        measurable: <span class="hljs-type">Measurable</span>,
        constraints: <span class="hljs-type">Constraints</span>,
    )</span></span>: MeasureResult {
        <span class="hljs-keyword">val</span> left = unconsumedInsets.getLeft(<span class="hljs-keyword">this</span>, layoutDirection)
        <span class="hljs-keyword">val</span> top = unconsumedInsets.getTop(<span class="hljs-keyword">this</span>)
        <span class="hljs-keyword">val</span> right = unconsumedInsets.getRight(<span class="hljs-keyword">this</span>, layoutDirection)
        <span class="hljs-keyword">val</span> bottom = unconsumedInsets.getBottom(<span class="hljs-keyword">this</span>)

        <span class="hljs-keyword">val</span> horizontal = left + right
        <span class="hljs-keyword">val</span> vertical = top + bottom

        <span class="hljs-keyword">val</span> childConstraints = constraints.offset(-horizontal, -vertical)
        <span class="hljs-keyword">val</span> placeable = measurable.measure(childConstraints)

        <span class="hljs-keyword">val</span> width = constraints.constrainWidth(placeable.width + horizontal)
        <span class="hljs-keyword">val</span> height = constraints.constrainHeight(placeable.height + vertical)
        <span class="hljs-keyword">return</span> layout(width, height) { placeable.place(left, top) }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onModifierLocalsUpdated</span><span class="hljs-params">(scope: <span class="hljs-type">ModifierLocalReadScope</span>)</span></span> {
        with(scope) {
            <span class="hljs-keyword">val</span> consumed = ModifierLocalConsumedWindowInsets.current
            unconsumedInsets = insets.exclude(consumed)
            consumedInsets = consumed.union(insets)
        }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> key: ProvidableModifierLocal&lt;WindowInsets&gt;
        <span class="hljs-keyword">get</span>() = ModifierLocalConsumedWindowInsets

    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> value: WindowInsets
        <span class="hljs-keyword">get</span>() = consumedInsets

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<ol>
<li>
<p><strong>è®¡ç®— padding</strong></p>
<ul>
<li>unconsumedInsetsï¼šå½“å‰è¿™ä¸ª Modifier è¿˜éœ€è¦å¤„ç†çš„ Insetsï¼ˆå·²ç»å‰”æ‰ä¸Šæ¸¸æ¶ˆè´¹è¿‡çš„éƒ¨åˆ†ï¼‰ã€‚</li>
<li>getLeft/getTop/getRight/getBottomï¼šæ ¹æ®å½“å‰ MeasureScopeï¼ˆåŒ…å« densityï¼‰å’Œ layoutDirectionï¼Œå°† WindowInsets è½¬æ¢æˆå„æ–¹å‘çš„åƒç´ å€¼ã€‚</li>
</ul>
</li>
<li>
<p><strong>æµ‹é‡å­é¡¹ï¼šç¼©å°çº¦æŸï¼ˆç›¸å½“äºé¢„ç•™ padding ç©ºé—´ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> childConstraints = constraints.offset(-horizontal, -vertical)
<span class="hljs-keyword">val</span> placeable = measurable.measure(childConstraints)
</code></pre>
<p>æµ‹é‡å­ç»„ä»¶æ—¶ï¼Œä¼šå…ˆæŠŠ padding å ç”¨çš„ç©ºé—´ä»çˆ¶çº¦æŸä¸­æ‰£é™¤ï¼Œè®©å­ç»„ä»¶åªåœ¨â€œæ‰£é™¤ padding åçš„å‰©ä½™ç©ºé—´â€ä¸­æµ‹é‡è‡ªå·±ã€‚è¿™æ ·ä¿è¯å­ç»„ä»¶ä¸ä¼šå ç”¨ padding åŒºåŸŸï¼Œä¹Ÿä¸ä¼šè¢«å‹ç¼©æˆ–å˜å½¢ã€‚</p>
</li>
<li>
<p><strong>å¸ƒå±€è‡ªèº«ï¼šæ‰©å±•å°ºå¯¸ + åç§»å­é¡¹</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> width = constraints.constrainWidth(placeable.width + horizontal)
<span class="hljs-keyword">val</span> height = constraints.constrainHeight(placeable.height + vertical)
<span class="hljs-keyword">return</span> layout(width, height) { placeable.place(left, top) }
</code></pre>
<ul>
<li>æ•´ä½“å¤§å° = å†…å®¹å°ºå¯¸ + padding</li>
<li>å­é¡¹æ”¾ç½®åœ¨ (left, top)ï¼Œä¹Ÿå°±æ˜¯â€œæŠŠå†…å®¹å¾€å³ä¸‹å¹³ç§»â€ï¼Œå½¢æˆ padding æ•ˆæœã€‚</li>
</ul>
</li>
<li>
<p><strong>Insets æ¶ˆè´¹æœºåˆ¶ï¼šModifierLocalConsumer +</strong> <strong>ModifierLocalProvider</strong></p>
<p>è¿™æ˜¯è¿™æ®µä»£ç æœ€æœ‰æ„æ€ã€ä¹Ÿæœ€å®¹æ˜“å¿½ç•¥çš„éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onModifierLocalsUpdated</span><span class="hljs-params">(scope: <span class="hljs-type">ModifierLocalReadScope</span>)</span></span> {
    with(scope) {
        <span class="hljs-keyword">val</span> consumed = ModifierLocalConsumedWindowInsets.current
        unconsumedInsets = insets.exclude(consumed)
        consumedInsets = consumed.union(insets)
    }
}

<span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> key: ProvidableModifierLocal&lt;WindowInsets&gt;
    <span class="hljs-keyword">get</span>() = ModifierLocalConsumedWindowInsets

<span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> value: WindowInsets
    <span class="hljs-keyword">get</span>() = consumedInsets
</code></pre>
<p><strong>è¿™æ®µä»£ç è´Ÿè´£ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>
<p>è¯»å–ï¼šä¸Šæ¸¸ Modifier å·²ç»æ¶ˆè´¹è¿‡å“ªäº› WindowInsets</p>
</li>
<li>
<p>å†³å®šï¼šå½“å‰ Modifier è¿˜éœ€è¦å¤„ç†å“ªäº› Insetsï¼ˆunconsumedInsetsï¼‰</p>
</li>
<li>
<p>æ›´æ–°ï¼šæ–°çš„â€œåˆ°ç›®å‰ä¸ºæ­¢å·²æ¶ˆè´¹é›†åˆâ€ï¼ˆconsumedInsets = consumed.union(insets)ï¼‰</p>
</li>
<li>
<p>æš´éœ²ï¼šæŠŠ consumedInsets æä¾›ç»™ä¸‹æ¸¸ Modifierï¼Œä½œä¸º ModifierLocalConsumedWindowInsets.current çš„æ–°å€¼</p>
</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆè¦â€œæ¶ˆè´¹â€ï¼Ÿ</strong></p>
<p>è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">TestDemo</span><span class="hljs-params">()</span></span> {
    Column(
        Modifier
            .fillMaxSize()
            .statusBarsPadding()
            .background(Color.Gray)
    ) {
        Box(
            Modifier
                .fillMaxSize()
                .statusBarsPadding()
                .background(Color.Red)
        )
    }
}
</code></pre>
<p>å¦‚æœä¸åšâ€œæ¶ˆè´¹â€æœºåˆ¶ï¼š</p>
<ul>
<li>
<p>å¤–å±‚ Column ä¼šæ ¹æ® statusBar Insets åŠ ä¸€å±‚ paddingTop</p>
</li>
<li>
<p>å†…å±‚ Box ä¹Ÿä¼šå†åŠ ä¸€å±‚åŒæ ·çš„ paddingTop</p>
</li>
</ul>
<p>ç°åœ¨æœ‰äº† ModifierLocal çš„â€œæ¶ˆè´¹â€æœºåˆ¶ï¼š</p>
<ul>
<li>
<p>å¤–å±‚ statusBarsPadding()ï¼š</p>
<ul>
<li>ä¸Šæ¸¸ consumed = 0</li>
<li>è‡ªå·±çš„ insets = statusBars</li>
<li>unconsumedInsets = statusBars.exclude(0) = statusBars</li>
<li>æµ‹é‡æ—¶ä½¿ç”¨å®Œæ•´ statusBar é«˜åº¦åš padding</li>
<li>è®¡ç®— consumedInsets = 0.union(statusBars) = statusBars</li>
<li>å¾€ä¸‹æ¸¸æä¾›ï¼šModifierLocalConsumedWindowInsets = statusBars</li>
</ul>
</li>
<li>
<p>å†…å±‚ statusBarsPadding()ï¼š</p>
<ul>
<li>è¯»å–åˆ°ä¸Šæ¸¸ consumed = statusBars</li>
<li>è‡ªå·±çš„ insets = statusBars</li>
<li>unconsumedInsets = statusBars.exclude(statusBars) = 0</li>
<li>æµ‹é‡æ—¶ â†’ padding ä¸º 0ï¼ˆä¸ä¼šé‡å¤é¡¶ä¸€æ¬¡ï¼‰</li>
<li>consumedInsets = statusBars union statusBars = statusBarsï¼ˆä¸å˜ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2219c37a504e4dddb05fc397befb1937~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyo5a2Q5LqI5b2k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143572&amp;x-signature=JNQid8C%2FBVGYELreRqYhECoWevc%3D" alt="" width="30%" loading="lazy"/>
<blockquote>
<p>å³ä½¿ä½ åœ¨åµŒå¥—ç»“æ„ä¸­å¤šæ¬¡ä½¿ç”¨ statusBarsPadding()ï¼Œåªæœ‰æœ€å¤–å±‚é‚£ä¸€æ¬¡ä¼šçœŸæ­£äº§ç”Ÿ paddingï¼Œå†…éƒ¨çš„è‡ªç„¶â€œå¿½ç•¥â€æ‰ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯ exclude / union çš„ç”¨å¤„ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è®²æ¸…ï¼šä»è¯­è¨€å­¦åˆ°æ·±åº¦å­¦ä¹ NLPè‡ªç„¶è¯­è¨€å¤„ç†]]></title>    <link>https://juejin.cn/post/7574245125027594259</link>    <guid>https://juejin.cn/post/7574245125027594259</guid>    <pubDate>2025-11-19T07:42:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574245125027594259" data-draft-id="7574230922313383942" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è®²æ¸…ï¼šä»è¯­è¨€å­¦åˆ°æ·±åº¦å­¦ä¹ NLPè‡ªç„¶è¯­è¨€å¤„ç†"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-19T07:42:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è®²æ¸…ï¼šä»è¯­è¨€å­¦åˆ°æ·±åº¦å­¦ä¹ NLPè‡ªç„¶è¯­è¨€å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:42:04.000Z" title="Wed Nov 19 2025 07:42:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>åŸºç¡€æ¦‚å¿µ</strong></p>
<p>20ä¸–çºª60å¹´ä»£ï¼Œæœºå™¨æ€ä¹ˆç†è§£è‡ªç„¶è¯­è¨€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab7ae2ff4fac41479726f518dedda085~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=HhFpagJaX2IpJ1RTVyUhulZ7VV0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸Šå›¾æ˜¯æ—©æœŸå¯¹è‡ªç„¶è¯­è¨€å¤„ç†çš„ç†è§£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60bd38929e964361a157b9e6042ea27b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=otqIAehyvqTbxnF%2F6O%2Fz%2FUGp9%2Bg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰å› å¯¹äººç±»è¯­è¨€çš„è®¡ç®—å»ºæ¨¡ä¸åˆ†æéœ€æ±‚æ—¥ç›Šå¢é•¿è€Œå¤‡å—å…³æ³¨ã€‚å…¶åº”ç”¨åœºæ™¯å·²è¦†ç›–æœºå™¨ç¿»è¯‘ã€åƒåœ¾é‚®ä»¶æ£€æµ‹ã€ä¿¡æ¯æå–ã€è‡ªåŠ¨æ‘˜è¦ã€åŒ»ç–—è¯Šæ–­åŠé—®ç­”ç³»ç»Ÿç­‰å¤šä¸ªé¢†åŸŸã€‚</p>
<p><strong>1.å‰è¨€</strong></p>
<p>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä½œä¸ºäººå·¥æ™ºèƒ½ä¸è¯­è¨€å­¦çš„äº¤å‰é¢†åŸŸï¼Œä¸“æ³¨äºé€šè¿‡è®¡ç®—æœºæŠ€æœ¯è§£æäººç±»è¯­è¨€ä¸­çš„è¯­å¥æˆ–è¯æ±‡ã€‚</p>
<p>å…¶æ ¸å¿ƒç›®æ ‡åœ¨äºå‡å°‘ç”¨æˆ·æ“ä½œè´Ÿæ‹…ï¼Œå®ç°ä»¥è‡ªç„¶è¯­è¨€ä¸ºåª’ä»‹çš„äººæœºäº¤äº’ã€‚ç”±äºå¤šæ•°ç”¨æˆ·å¯¹æœºå™¨è¯­è¨€ç¼ºä¹äº†è§£ï¼ŒNLPæŠ€æœ¯ä½¿å¾—è¿™ç±»ç”¨æˆ·èƒ½å¤Ÿç›´æ¥ä½¿ç”¨æ—¥å¸¸è¯­è¨€ä¸è®¾å¤‡æ²Ÿé€šã€‚</p>
<p>è¯­è¨€æœ¬è´¨ä¸Šæ˜¯ç”±è§„åˆ™æˆ–ç¬¦å·æ„æˆçš„ç³»ç»Ÿã€‚äººä»¬é€šè¿‡ç¬¦å·çš„ç»„åˆå®ç°ä¿¡æ¯ä¼ é€’æˆ–å‘å¸ƒã€‚</p>
<p>NLPæŠ€æœ¯ä¸»è¦æ¶µç›–ä¸¤å¤§åˆ†æ”¯ï¼šè‡ªç„¶è¯­è¨€ç†è§£ï¼ˆNLUï¼‰å’Œè‡ªç„¶è¯­è¨€ç”Ÿæˆï¼ˆNLGï¼‰ï¼Œåˆ†åˆ«å¯¹åº”æ–‡æœ¬è§£æä¸å†…å®¹ç”Ÿæˆä¸¤å¤§åŠŸèƒ½ä»»åŠ¡ï¼ˆå›¾ 1ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b26db17af0314469bcbd7aee7d220561~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=uKxTL9AEeBhkp%2FXlKdjck1O7Crc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ 1ï¼šNLP çš„ç²—åˆ†ç±»</p>
<p>è¯­è¨€å­¦ä½œä¸ºç ”ç©¶è¯­è¨€çš„ç§‘å­¦ä½“ç³»ï¼Œæ¶µç›–å¤šä¸ªæ ¸å¿ƒåˆ†æ”¯ï¼šå…¶ä¸­éŸ³ç³»å­¦ï¼ˆPhonologyï¼‰èšç„¦å£°éŸ³è¡¨å¾ï¼Œè¯æ€å­¦ï¼ˆMorphologyï¼‰æ¢ç©¶æ„è¯è§„å¾‹ï¼Œå¥æ³•å­¦ï¼ˆSyntaxï¼‰è§£æè¯­å¥ç»“æ„ï¼Œè¯­ä¹‰å¥æ³•å­¦ï¼ˆSemantics syntaxï¼‰ä¸è¯­ç”¨å­¦ï¼ˆPragmaticsï¼‰å…±åŒæ„æˆæ„ä¹‰ç†è§£çš„åŸºç¡€æ¡†æ¶ã€‚</p>
<p>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰çš„å…¸å‹ç ”ç©¶ä»»åŠ¡åŒ…æ‹¬ï¼šè‡ªåŠ¨æ‘˜è¦ï¼ˆå°†æ–‡æœ¬å…³é”®ä¿¡æ¯æŒ‰ç‰¹å®šæ ¼å¼æµ“ç¼©ï¼‰ã€æŒ‡ä»£æ¶ˆè§£ï¼ˆCo-Reference Resolutionï¼‰ï¼ˆè¯†åˆ«è·¨å¥å­çš„æŒ‡ä»£åŒä¸€æ€§ï¼‰ã€è¯­ç¯‡åˆ†æï¼ˆæ„å»ºæ–‡æœ¬çš„å®è§‚ç»“æ„ï¼‰ã€æœºå™¨ç¿»è¯‘ï¼ˆå®ç°è·¨è¯­è¨€è‡ªåŠ¨è½¬æ¢ï¼‰ã€è¯­ç´ åˆ‡åˆ†ï¼ˆMorphological Segmentationï¼‰ï¼ˆåˆ†è§£è¯æ±‡å¹¶æ ‡æ³¨è¯ç´ ç±»åˆ«ï¼‰ã€å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰ï¼ˆå®šä½ä¸“æœ‰åè¯ï¼‰ã€å…‰å­¦å­—ç¬¦è¯†åˆ«ï¼ˆOCRï¼‰ï¼ˆä»PDFç­‰æ–‡æ¡£ä¸­æå–æ–‡å­—ï¼‰ä»¥åŠè¯æ€§æ ‡æ³¨ï¼ˆåˆ¤å®šå¥å­ä¸­æ¯ä¸ªå•è¯çš„è¯­æ³•å±æ€§ï¼‰ã€‚</p>
<p>å°½ç®¡è¿™äº›ä»»åŠ¡åœ¨è¡¨é¢å½¢æ€ä¸Šå·®å¼‚æ˜¾è‘—ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­å¾€å¾€éœ€è¦å¤šä»»åŠ¡ååŒå¤„ç†ã€‚</p>
<p><strong>2.NLP çš„å±‚çº§</strong></p>
<p>ä½œä¸ºè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸæœ€å…·è§£é‡Šæ€§çš„æ¡†æ¶ï¼Œè¯­è¨€å±‚çº§é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªå…³é”®é˜¶æ®µå®ç°æ–‡æœ¬ç”Ÿæˆï¼šâ€Œå†…å®¹è§„åˆ’â€Œï¼ˆContent Planningï¼‰ã€â€Œè¯­å¥è§„åˆ’â€Œï¼ˆSentence Planningï¼‰ä¸â€Œè¡¨å±‚å®ç°â€Œï¼ˆSurface Realizationï¼‰ã€‚ï¼ˆå›¾ 2ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f83e8ec125442ab8fc3d5414620ea82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=lgNcxQcyqBtcGgxHHOocdoV9aKI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ 2ï¼šNLP æ¶æ„çš„é˜¶æ®µ</p>
<p>è¯­è¨€å­¦æ˜¯æ¶‰åŠåˆ°è¯­è¨€ã€è¯­å¢ƒå’Œå„ç§è¯­è¨€å½¢å¼çš„å­¦ç§‘ã€‚ä¸ NLP ç›¸å…³çš„é‡è¦æœ¯è¯­åŒ…æ‹¬ï¼š</p>
<p>éŸ³ç³»å­¦</p>
<p>å½¢æ€å­¦</p>
<p>è¯æ±‡å­¦</p>
<p>å¥æ³•å­¦</p>
<p>è¯­ä¹‰å­¦</p>
<p>è¯­ç¯‡åˆ†æ</p>
<p>è¯­ç”¨å­¦</p>
<p><strong>3.è‡ªç„¶è¯­è¨€ç”Ÿæˆ</strong></p>
<p>NLG æ˜¯ä»å†…åœ¨è¡¨å¾ç”Ÿæˆæœ‰å«ä¹‰çš„çŸ­è¯­ã€å¥å­å’Œæ®µè½çš„å¤„ç†è¿‡ç¨‹ã€‚</p>
<p>å®ƒæ˜¯ NLP çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å››ä¸ªé˜¶æ®µï¼šç¡®å®šç›®æ ‡ã€é€šè¿‡åœºæ™¯è¯„ä¼°è§„åˆ’å¦‚ä½•å®ç°ç›®æ ‡ã€å¯ç”¨çš„å¯¹è¯æºã€æŠŠè§„åˆ’å®ç°ä¸ºæ–‡æœ¬ï¼Œå¦‚ä¸‹å›¾ 3ã€‚ç”Ÿæˆä¸ç†è§£æ˜¯ç›¸åçš„è¿‡ç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1492bab1ac424062920f067f3ae57159~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=JNqnAC8nd1VhtdfazQN5UgyKALQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ 3ï¼šNLG çš„ç»„ä»¶</p>
<p><strong>4.NLP çš„åº”ç”¨</strong></p>
<p>NLP å¯è¢«ä»–åº”ç”¨äºå„ç§é¢†åŸŸï¼Œä¾‹å¦‚æœºå™¨ç¿»è¯‘ã€åƒåœ¾é‚®ä»¶æ£€æµ‹ã€ä¿¡æ¯æå–ç­‰ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œè¯¥è®ºæ–‡å¯¹ä»¥ä¸‹ NLP çš„åº”ç”¨è¿›è¡Œäº†ä»‹ç»ï¼š</p>
<p>æœºå™¨ç¿»è¯‘</p>
<p>æ–‡æœ¬åˆ†ç±»</p>
<p>åƒåœ¾é‚®ä»¶è¿‡æ»¤</p>
<p>ä¿¡æ¯æå–</p>
<p>è‡ªåŠ¨æ‘˜è¦</p>
<p>å¯¹è¯ç³»ç»Ÿ</p>
<p>åŒ»ç–—</p>
<p><strong>5.æ·±åº¦å­¦ä¹ ä¸­çš„ NLP</strong></p>
<p>åŸæ–‡å¯¹è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰çš„åŸºç¡€æ€§ä»‹ç»å­˜åœ¨ä¸€å®šå±€é™ï¼Œå°¤å…¶æ˜¯æœªå……åˆ†æ¶µç›–æ·±åº¦å­¦ä¹ åœ¨è¯¥é¢†åŸŸçš„æœ€æ–°åº”ç”¨è¿›å±•ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼•ç”¨äº†åŒ—äº¬ç†å·¥å¤§å­¦çš„ç ”ç©¶è®ºæ–‡ï¼Œç³»ç»Ÿæ¢³ç†äº†NLPä¸­ä¸æ·±åº¦å­¦ä¹ ç›¸å…³çš„æ ¸å¿ƒæ¨¡å‹ä¸æ–¹æ³•ï¼ŒåŒ…æ‹¬â€Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰â€Œã€â€Œå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰â€Œã€â€Œé€’å½’ç¥ç»ç½‘ç»œï¼ˆRecNNï¼‰â€Œã€‚</p>
<p>åŒæ—¶æ·±å…¥æ¢è®¨äº†è®°å¿†å¢å¼ºç­–ç•¥ã€æ³¨æ„åŠ›æœºåˆ¶ï¼Œä»¥åŠæ— ç›‘ç£æ¨¡å‹ã€å¼ºåŒ–å­¦ä¹ æ¨¡å‹ã€æ·±åº¦ç”Ÿæˆæ¨¡å‹åœ¨è¯­è¨€ä»»åŠ¡ä¸­çš„å®è·µåº”ç”¨ã€‚</p>
<p>æ­¤å¤–ï¼Œè®ºæ–‡è¿˜å…¨é¢åˆ†æäº†å½“å‰ä¸»æµæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ—¨åœ¨ä»æŠ€æœ¯æ¼”è¿›è§†è§’å‘ˆç°NLPçš„å‘å±•å…¨è²Œã€‚</p>
<p>è¿‘å¹´æ¥ï¼Œæ·±åº¦å­¦ä¹ åœ¨è®¡ç®—æœºè§†è§‰ä¸æ¨¡å¼è¯†åˆ«é¢†åŸŸçš„çªç ´æ€§æˆæœï¼Œæ˜¾è‘—æ¨åŠ¨äº†åŸºäºæ–°æ–¹æ³•çš„NLPç ”ç©¶çƒ­æ½®ã€‚</p>
<p>ä¼ ç»ŸNLPè§£å†³æ–¹æ¡ˆé•¿æœŸä¾èµ–æµ…å±‚æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚SVMå’Œlogisticå›å½’ï¼‰ï¼Œå…¶è®­ç»ƒè¿‡ç¨‹éœ€å¤„ç†é«˜ç»´ç¨€ç–ç‰¹å¾ã€‚</p>
<p>è€Œè¿‘å¹´æ¥ï¼ŒåŸºäºå¯†é›†å‘é‡è¡¨å¾çš„ç¥ç»ç½‘ç»œåœ¨å¤šé¡¹NLPä»»åŠ¡ä¸­è¡¨ç°ä¼˜å¼‚ï¼Œè¿™ä¸€å˜é©æºäºè¯åµŒå…¥æŠ€æœ¯ä¸æ·±åº¦å­¦ä¹ çš„æˆåŠŸç»“åˆã€‚</p>
<p>æ·±åº¦å­¦ä¹ å®ç°äº†å¤šå±‚æ¬¡è‡ªåŠ¨ç‰¹å¾å­¦ä¹ çš„å¯èƒ½ï¼Œå½»åº•æ”¹å˜äº†ä¼ ç»ŸNLPç³»ç»Ÿä¾èµ–äººå·¥è®¾è®¡ç‰¹å¾çš„è€—æ—¶ä¸”ä¸å®Œå¤‡çš„ç°çŠ¶ã€‚</p>
<p>2011å¹´ï¼ŒCollobertç­‰å­¦è€…é€šè¿‡å®éªŒè¯å®ï¼Œå³ä¾¿æ˜¯åŸºç¡€çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œä¹Ÿèƒ½åœ¨å®ä½“å‘½åè¯†åˆ«ï¼ˆNERï¼‰ã€è¯­ä¹‰è§’è‰²æ ‡æ³¨ï¼ˆSRLï¼‰ã€è¯æ€§æ ‡æ³¨ï¼ˆPOS taggingï¼‰ç­‰ä»»åŠ¡ä¸­è¶…è¶Šä¼ ç»Ÿæœ€ä¼˜æ–¹æ³•ã€‚</p>
<p>æ­¤åï¼Œæ›´å¤æ‚çš„æ·±åº¦å­¦ä¹ ç®—æ³•è¢«ç›¸ç»§æå‡ºä»¥åº”å¯¹NLPæŒ‘æˆ˜ã€‚</p>
<p>è¯¥è®ºæ–‡ä¸ä»…æ€»ç»“äº†CNNã€RNNã€RecNNç­‰å…³é”®æ¨¡å‹ï¼Œè¿˜è¯¦ç»†é˜è¿°äº†è®°å¿†å¢å¼ºç­–ç•¥ã€æ³¨æ„åŠ›æœºåˆ¶ï¼Œä»¥åŠæ— ç›‘ç£/å¼ºåŒ–å­¦ä¹ æ¨¡å‹ã€æ·±åº¦ç”Ÿæˆæ¨¡å‹åœ¨è¯­è¨€ä»»åŠ¡ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚</p>
<p>2016å¹´Goldbergçš„æ•™ç¨‹è™½å¯¹NLPä¸­çš„æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼ˆå¦‚word2vecã€CNNï¼‰è¿›è¡Œäº†æ¦‚è¿°ï¼Œä½†æœªç³»ç»Ÿè®¨è®ºå„ç±»æ¶æ„è®¾è®¡ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå½“å‰è®ºæ–‡æä¾›äº†æ›´å®Œæ•´çš„ç†è®ºæ¡†æ¶ä¸å®è·µè§†è§’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe5e30bbf3cd468b8bf554bb4f8c5dd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=urOHhyhi%2FfFYosLFqK76ZlpzMvE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‘˜è¦ï¼šé€šè¿‡å¤šå±‚å¤„ç†ç»“æ„å­¦ä¹ æ•°æ®çš„å±‚æ¬¡åŒ–ç‰¹å¾ï¼Œæ·±åº¦å­¦ä¹ æ–¹æ³•å·²åœ¨å¤šä¸ªé¢†åŸŸå–å¾—æœ€ä¼˜æ€§èƒ½ã€‚</p>
<p>è¿‘å¹´æ¥ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸæ¶Œç°å‡ºä¼—å¤šåˆ›æ–°æ¨¡å‹ä¸æŠ€æœ¯ã€‚æœ¬æ–‡ç³»ç»Ÿæ¢³ç†äº†NLPä»»åŠ¡ä¸­ä¸æ·±åº¦å­¦ä¹ ç›¸å…³çš„æ ¸å¿ƒæ¨¡å‹ä¸æ–¹æ³•ï¼Œå¹¶å…¨é¢ç»¼è¿°å…¶å‘å±•è„‰ç»œã€‚</p>
<p>é€šè¿‡å¯¹æ¯”åˆ†æå„ç±»æ¨¡å‹ï¼Œæ·±å…¥é˜é‡Šäº†NLPä¸­æ·±åº¦å­¦ä¹ çš„å†å²æ¼”è¿›ã€å½“å‰è¿›å±•ä¸æœªæ¥è¶‹åŠ¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/110700697dba4c57b07833980ece5fcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142923&amp;x-signature=SHVmfsyj2H9x0lmpsEngtU2L4A0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€ä¸ª D ç»´å‘é‡çš„åˆ†å¸ƒå¼å‘é‡è¡¨è¾¾ï¼Œå…¶ä¸­ D &lt;&lt; Vï¼ŒV æ˜¯è¯æ±‡çš„å¤§å°ã€‚</p>
<p>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é—ªè€€NeurIPS 2025ï¼å¿«æ‰‹13ç¯‡è®ºæ–‡å…¥é€‰ï¼ŒSpotlight æˆæœè·»èº«å‰ä¸‰ï¼]]></title>    <link>https://juejin.cn/post/7574084898878324777</link>    <guid>https://juejin.cn/post/7574084898878324777</guid>    <pubDate>2025-11-19T07:40:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574084898878324777" data-draft-id="7574084898878226473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é—ªè€€NeurIPS 2025ï¼å¿«æ‰‹13ç¯‡è®ºæ–‡å…¥é€‰ï¼ŒSpotlight æˆæœè·»èº«å‰ä¸‰ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T07:40:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«æ‰‹æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3736571181793721"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é—ªè€€NeurIPS 2025ï¼å¿«æ‰‹13ç¯‡è®ºæ–‡å…¥é€‰ï¼ŒSpotlight æˆæœè·»èº«å‰ä¸‰ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3736571181793721/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«æ‰‹æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:40:22.000Z" title="Wed Nov 19 2025 07:40:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>NeurIPSï¼ˆConference on Neural Information Processing Systemsï¼‰æ˜¯ç¥ç»ä¿¡æ¯å¤„ç†ç³»ç»Ÿé¢†åŸŸæœ€å…·å½±å“åŠ›çš„ä¼šè®®ï¼Œä¸“æ³¨äºæœºå™¨å­¦ä¹ ã€è®¡ç®—ç¥ç»ç§‘å­¦å’Œç»Ÿè®¡å­¦çš„äº¤å‰ç ”ç©¶ã€‚NeurIPS 2025å°†äº12æœˆ2æ—¥è‡³12æœˆ7æ—¥åœ¨ç¾å›½åŠ åˆ©ç¦å°¼äºšå·åœ£åœ°äºšå“¥ä¸¾åŠï¼Œæœ¬å±Šå…±æ”¶åˆ°äº†21,575ç¯‡æœ‰æ•ˆè®ºæ–‡æäº¤ï¼Œæœ€ç»ˆæœ‰5,290ç¯‡è¢«æ¥æ”¶ï¼Œæ•´ä½“å½•ç”¨ç‡ä¸º24.52%ã€‚å…¶ä¸­å¿«æ‰‹å…±æœ‰13ç¯‡è®ºæ–‡å…¥é€‰NeurIPS2025ï¼ŒåŒ…æ‹¬å¯çµå›¢é˜Ÿçš„8ç¯‡ã€‚è¿™äº›è®ºæ–‡æ¶µç›–è§†é¢‘ç”Ÿæˆä¸ä¼˜åŒ–ã€å¤šæ¨¡æ€å¤§æ¨¡å‹è¯„ä¼°ä¸é²æ£’æ€§ç ”ç©¶ã€è§†é¢‘å‹ç¼©ä¸è¡¨å¾ã€æƒ…æ„Ÿè®¡ç®—ä¸è·¨æ¨¡æ€åŒæ­¥ã€ä»¥åŠå®æ—¶è§†é¢‘æµåˆ†æä¸åº”ç”¨ç­‰æ–¹å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6b59ecd48634c21bb81cf91900bad3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=M9FjGZHou4GBGpkZu%2Bl%2F%2BKR4ok4%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡ç²¾é€‰</strong></p>
<p><strong>è®ºæ–‡01ï¼šOmniSync: Towards Universal Lip Synchronization via Diffusion Transformers</strong></p>
<p><strong>| è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2505.21448" target="_blank" title="https://arxiv.org/abs/2505.21448" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.21â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fziqiaopeng.github.io%2FOmniSync%2F" target="_blank" title="https://ziqiaopeng.github.io/OmniSync/" ref="nofollow noopener noreferrer">ziqiaopeng.github.io/OmniSync/</a></strong></p>
<p>**|****è®ºæ–‡ç®€ä»‹ï¼š**å”‡è¯­åŒæ­¥æŠ€æœ¯æ—¨åœ¨å°†è§†é¢‘ä¸­äººç‰©çš„å”‡éƒ¨è¿åŠ¨ä¸å¯¹åº”çš„è¯­éŸ³éŸ³é¢‘è¿›è¡Œç²¾å‡†å¯¹é½ï¼Œè¯¥ä»»åŠ¡å¯¹åˆ¶ä½œé€¼çœŸä¸”å¯Œæœ‰è¡¨ç°åŠ›çš„è§†é¢‘å†…å®¹è‡³å…³é‡è¦ã€‚ç„¶è€Œç°æœ‰æ–¹æ³•æ™®éä¾èµ–å‚è€ƒå›¾ï¼‹æ˜¾å¼æ©ç å†ä¿®å¤çš„æ–¹æ¡ˆï¼Œå¯¼è‡´å…¶åœ¨èº«ä»½ä¸€è‡´æ€§ã€å§¿æ€å˜åŒ–ã€é¢éƒ¨é®æŒ¡åŠé£æ ¼åŒ–å†…å®¹å¤„ç†ä¸Šçš„é²æ£’æ€§å—é™ã€‚æ­¤å¤–ï¼Œç”±äºéŸ³é¢‘ä¿¡å·æä¾›çš„æ¡ä»¶çº¦æŸå¼±äºè§†è§‰çº¿ç´¢ï¼ŒåŸå§‹è§†é¢‘ä¸­çš„å”‡å½¢ä¿¡æ¯æ³„éœ²ä¼šæ˜¾è‘—å½±å“åŒæ­¥è´¨é‡ã€‚æœ¬æ–‡æå‡ºäº†é€šç”¨å”‡è¯­åŒæ­¥æ¡†æ¶OmniSyncï¼Œé€šè¿‡å¼•å…¥åŸºäºæ‰©æ•£å˜æ¢å™¨æ¨¡å‹çš„æ— æ©ç è®­ç»ƒèŒƒå¼ï¼Œå®ç°æ— éœ€æ˜¾å¼æ©ç çš„ç›´æ¥å¸§ç¼–è¾‘ï¼Œåœ¨ä¿æŒè‡ªç„¶é¢éƒ¨åŠ¨æ€ä¸è§’è‰²èº«ä»½çš„åŒæ—¶æ”¯æŒæ— é™æ—¶é•¿æ¨ç†ã€‚æ¨ç†è¿‡ç¨‹ä¸­é‡‡ç”¨åŸºäºæµåŒ¹é…çš„æ¸è¿›å™ªå£°åˆå§‹åŒ–ç­–ç•¥ï¼Œåœ¨ç¡®ä¿å§¿æ€ä¸èº«ä»½ä¸€è‡´æ€§çš„å‰æä¸‹å®ç°ç²¾å‡†çš„å£å‹ç¼–è¾‘ã€‚é’ˆå¯¹éŸ³é¢‘å¼±æ¡ä»¶é—®é¢˜ï¼Œåˆ›æ–°æ€§åœ°å¼€å‘åŠ¨æ€æ—¶ç©ºåˆ†ç±»å™¨æ— å¼•å¯¼æœºåˆ¶ï¼ˆDS-CFGï¼‰ï¼Œå¯è‡ªé€‚åº”è°ƒæ•´æ—¶ç©ºç»´åº¦çš„å¼•å¯¼å¼ºåº¦ã€‚åŒæ—¶æ„å»ºé¦–ä¸ªé¢å‘AIç”Ÿæˆè§†é¢‘çš„AIGC-LipSyncå¤šåœºæ™¯è¯„ä¼°åŸºå‡†ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼ŒOmniSyncåœ¨çœŸå®è§†é¢‘ä¸AIç”Ÿæˆè§†é¢‘ä¸­å‡æ˜¾è‘—è¶…è¶Šç°æœ‰æ–¹æ³•ï¼Œåœ¨è§†è§‰è´¨é‡ä¸å”‡è¯­åŒæ­¥ç²¾åº¦ä¸Šå‡è¾¾åˆ°æœ€ä¼˜æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08e138861b5a4c9ba5f3f8f644e2737e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=XmeaukC%2BT5r6mIDfIm9%2FQHL6R0A%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡02ï¼š**<strong>Decoupling Contrastive Decoding: Robust Hallucination Mitigation in Multimodal Large Language Models</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2504.08809" target="_blank" title="https://arxiv.org/abs/2504.08809" ref="nofollow noopener noreferrer">arxiv.org/abs/2504.08â€¦</a></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**å°½ç®¡å¤šæ¨¡æ€å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆMLLMsï¼‰åœ¨å¤æ‚çš„å¤šæ¨¡æ€ç†è§£ä»»åŠ¡ä¸­å±•ç°å‡ºäº†å“è¶Šçš„æ¨ç†èƒ½åŠ›ï¼Œä½†å®ƒä»¬ä»å­˜åœ¨ä¼—æ‰€å‘¨çŸ¥çš„â€œå¹»è§‰â€é—®é¢˜ï¼šç”Ÿæˆçš„è¾“å‡ºä¸æ˜æ˜¾çš„è§†è§‰æˆ–äº‹å®è¯æ®ä¸ç¬¦ã€‚ç›®å‰ï¼ŒåŸºäºè®­ç»ƒçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ç›´æ¥åå¥½ä¼˜åŒ–ï¼ˆDPOï¼‰ï¼Œåˆ©ç”¨æˆå¯¹çš„åå¥½æ•°æ®æ¥æŠ‘åˆ¶å¹»è§‰ã€‚ç„¶è€Œï¼Œç”±äºå¯èƒ½æ€§ä½ç§»ï¼Œå®ƒä»¬æœ‰å¯èƒ½ç‰ºç‰²ä¸€èˆ¬çš„æ¨ç†èƒ½åŠ›ã€‚åŒæ—¶ï¼Œæ— éœ€è®­ç»ƒçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚å¯¹æ¯”è§£ç ï¼Œé€šè¿‡ä»å¤±çœŸçš„è¾“å…¥ä¸­å‡å»ä¼°è®¡çš„å¹»è§‰æ¨¡å¼æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚ç„¶è€Œï¼Œè¿™äº›æ‰‹å·¥åˆ¶ä½œçš„å¹²æ‰°ï¼ˆä¾‹å¦‚ï¼Œå‘å›¾åƒæ·»åŠ å™ªå£°ï¼‰å¯èƒ½æ— æ³•å¾ˆå¥½åœ°æ•æ‰çœŸå®çš„å¹»è§‰æ¨¡å¼ã€‚ä¸ºäº†é¿å…ç°æœ‰æ–¹æ³•çš„è¿™äº›å¼±ç‚¹ï¼Œå¹¶å®ç°â€œç¨³å¥â€çš„å¹»è§‰ç¼“è§£ï¼ˆå³ä¿æŒä¸€èˆ¬çš„æ¨ç†æ€§èƒ½ï¼‰ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ¡†æ¶ï¼šè§£è€¦å¯¹æ¯”è§£ç ï¼ˆDCDï¼‰ã€‚å…·ä½“è€Œè¨€ï¼ŒDCD åœ¨åå¥½æ•°æ®é›†ä¸­è§£è€¦æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬çš„å­¦ä¹ ï¼Œå¹¶åœ¨ MLLM å†…åˆ†åˆ«è®­ç»ƒæ­£å›¾åƒæŠ•å½±å’Œè´Ÿå›¾åƒæŠ•å½±ã€‚è´Ÿå‘æŠ•å½±éšå¼åœ°æ¨¡æ‹Ÿäº†çœŸå®çš„å¹»è§‰æ¨¡å¼ï¼Œè¿™ä½¿å¾—åœ¨å¯¹æ¯”è§£ç æ¨ç†é˜¶æ®µèƒ½å¤Ÿç”Ÿæˆå…·æœ‰è§†è§‰æ„ŸçŸ¥çš„è´Ÿå‘å›¾åƒã€‚æˆ‘ä»¬çš„ DCD é€šè¿‡é¿å…æˆå¯¹ä¼˜åŒ–æ¥ç¼“è§£ä¼¼ç„¶ä½ç§»ï¼Œå¹¶ä¸”æ— éœ€æ‰‹å·¥é™è´¨å°±èƒ½ç¨³å¥åœ°æ³›åŒ–ã€‚åœ¨å¹»è§‰åŸºå‡†æµ‹è¯•å’Œä¸€èˆ¬æ¨ç†ä»»åŠ¡ä¸Šçš„å¤§é‡æ¶ˆèç ”ç©¶è¡¨æ˜ DCD çš„æœ‰æ•ˆæ€§ï¼Œå³å®ƒåœ¨æŠ‘åˆ¶å¹»è§‰æ–¹é¢ä¸ DPO ç›¸å½“ï¼ŒåŒæ—¶ä¿æŒäº†ä¸€èˆ¬èƒ½åŠ›ï¼Œå¹¶ä¸”ä¼˜äºæ‰‹å·¥è®¾è®¡çš„å¯¹æ¯”è§£ç æ–¹æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab61e7826e4a4011a330e6c7569829dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=RqFjGty2uuyECuRLXkky41ytAgE%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡03ï¼šLiveStar: Live Streaming Assistant for Real-World Online Video Understanding</strong></p>
<p><strong>| è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenreview.net%2Fforumid%3D4n7IifN7yr%26referrer%3D%255BAuthor%2520Console%255D" target="_blank" title="https://openreview.net/forumid=4n7IifN7yr&amp;referrer=%5BAuthor%20Console%5D" ref="nofollow noopener noreferrer">openreview.net/forumid=4n7â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyzy-bupt%2FLiveStar" target="_blank" title="https://github.com/yzy-bupt/LiveStar" ref="nofollow noopener noreferrer">github.com/yzy-bupt/Liâ€¦</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**å°½ç®¡ç¦»çº¿è§†é¢‘ç†è§£çš„è§†é¢‘å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆVideo-LLMsï¼‰å–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä½†ç°æœ‰çš„åœ¨çº¿ Video-LLMs é€šå¸¸éš¾ä»¥åŒæ—¶å¤„ç†è¿ç»­çš„é€å¸§è¾“å…¥å¹¶ç¡®å®šæœ€ä½³å“åº”æ—¶æœºï¼Œè¿™å¾€å¾€ä¼šå½±å“å®æ—¶å“åº”èƒ½åŠ›å’Œå™äº‹è¿è´¯æ€§ã€‚ä¸ºäº†è§£å†³è¿™äº›å±€é™æ€§ï¼Œæˆ‘ä»¬æ¨å‡ºäº† LiveStarï¼Œè¿™æ˜¯ä¸€æ¬¾å¼€åˆ›æ€§çš„ç›´æ’­åŠ©æ‰‹ï¼Œé€šè¿‡è‡ªé€‚åº”æµè§£ç å®ç°äº†å§‹ç»ˆåœ¨çº¿çš„ä¸»åŠ¨å“åº”ã€‚å…·ä½“è€Œè¨€ï¼ŒLiveStar åŒ…å«ï¼šï¼ˆ1ï¼‰ä¸€ç§è®­ç»ƒç­–ç•¥ï¼Œèƒ½å¤Ÿå¯¹å¯å˜é•¿åº¦çš„è§†é¢‘æµè¿›è¡Œå¢é‡è§†é¢‘è¯­è¨€å¯¹é½ï¼Œä¿æŒåŠ¨æ€å˜åŒ–çš„å¸§åºåˆ—ä¸­çš„æ—¶é—´ä¸€è‡´æ€§ï¼›ï¼ˆ2ï¼‰ä¸€ç§å“åº”æ²‰é»˜è§£ç æ¡†æ¶ï¼Œé€šè¿‡å•æ¬¡å‰å‘ä¼ é€’éªŒè¯æ¥ç¡®å®šæœ€ä½³ä¸»åŠ¨å“åº”æ—¶æœºï¼›ï¼ˆ3ï¼‰é€šè¿‡å³°å€¼æœ«å°¾å†…å­˜å‹ç¼©å®ç°å†…å­˜æ„ŸçŸ¥åŠ é€Ÿï¼Œä»¥ä¾¿åœ¨ 10 åˆ†é’Ÿä»¥ä¸Šçš„è§†é¢‘ä¸Šè¿›è¡Œåœ¨çº¿æ¨ç†ï¼Œå¹¶ç»“åˆæµå¼é”®å€¼ç¼“å­˜å®ç° 1.53 å€çš„æ¨ç†é€Ÿåº¦æå‡ã€‚æˆ‘ä»¬è¿˜æ„å»ºäº†ä¸€ä¸ª OmniStar æ•°æ®é›†ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒå’ŒåŸºå‡†æµ‹è¯•çš„å…¨é¢æ•°æ®é›†ï¼Œæ¶µç›–äº† 15 ç§ä¸åŒçš„çœŸå®ä¸–ç•Œåœºæ™¯ä»¥åŠ 5 é¡¹åœ¨çº¿è§†é¢‘ç†è§£çš„è¯„ä¼°ä»»åŠ¡ã€‚åœ¨ä¸‰ä¸ªåŸºå‡†æµ‹è¯•ä¸­çš„å¹¿æ³›å®éªŒè¡¨æ˜ï¼ŒLiveStar è¾¾åˆ°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œåœ¨è¯­ä¹‰æ­£ç¡®æ€§æ–¹é¢å¹³å‡æé«˜äº† 19.5%ï¼Œä¸ç°æœ‰çš„åœ¨çº¿è§†é¢‘è¯­è¨€æ¨¡å‹ç›¸æ¯”ï¼Œæ—¶é—´å·®å¼‚å‡å°‘äº† 18.1%ï¼ŒåŒæ—¶åœ¨ OmniStar çš„æ‰€æœ‰äº”é¡¹ä»»åŠ¡ä¸­ï¼Œæ¯ç§’å¸§æ•°æé«˜äº† 12.0%ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a730eaee9d074424a80578ca6cdc8a5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=aPUINn8pgIO1va2AyQMk86UVIfk%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡04ï¼š**<strong>MME-VideoOCR: Evaluating OCR-Based Capabilities of Multimodal LLMs in Video Scenarios</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2505.21333" target="_blank" title="https://arxiv.org/abs/2505.21333" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.21â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmme-videoocr.github.io%2F" target="_blank" title="https://mme-videoocr.github.io/" ref="nofollow noopener noreferrer">mme-videoocr.github.io/</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ï¼ˆMLLMï¼‰åœ¨é™æ€å›¾åƒå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼ˆOCRï¼‰ä»»åŠ¡ä¸­å·²å–å¾—æ˜¾è‘—æˆæ•ˆï¼Œç„¶è€Œå…¶åœ¨è§†é¢‘OCRåœºæ™¯ä¸‹çš„æ€§èƒ½å´å› è¿åŠ¨æ¨¡ç³Šã€æ—¶åºå˜åŒ–åŠè§†é¢‘ç‰¹æœ‰çš„è§†è§‰æ•ˆæœç­‰å› ç´ å¤§å¹…å—é™ã€‚ä¸ºç»™å®ç”¨å‹MLLMè®­ç»ƒæä¾›æ˜ç¡®æŒ‡å¯¼ï¼Œæ¨å‡ºäº†æ¶µç›–å…¨åœºæ™¯è§†é¢‘OCRåº”ç”¨çš„è¯„ä¼°ä½“ç³»MME-VideoOCRã€‚è¯¥åŸºå‡†åŒ…å«10å¤§ç±»ä»»åŠ¡ï¼ˆå…±25é¡¹å­ä»»åŠ¡ï¼‰ï¼Œè¦†ç›–44ç§å·®å¼‚åŒ–åœºæ™¯ï¼Œä¸ä»…æ¶‰åŠæ–‡æœ¬è¯†åˆ«ä»»åŠ¡ï¼Œæ›´åŒ…å«éœ€è¦å¯¹è§†é¢‘æ–‡æœ¬å†…å®¹è¿›è¡Œæ·±åº¦ç†è§£ä¸æ¨ç†çš„ä»»åŠ¡ç±»å‹ã€‚æ•°æ®é›†åŒ…å«1,464æ®µä¸åŒåˆ†è¾¨ç‡ã€å®½é«˜æ¯”åŠæ—¶é•¿çš„è§†é¢‘ï¼Œå¹¶é…æœ‰2,000ç»„ç²¾å¿ƒæ„å»ºçš„äººå·¥æ ‡æ³¨é—®ç­”å¯¹ã€‚é€šè¿‡å¯¹15ä¸ªå‰æ²¿MLLMæ¨¡å‹çš„è¯„ä¼°å‘ç°ï¼Œè¡¨ç°æœ€ä½³çš„æ¨¡å‹ï¼ˆGemini-2.5 Proï¼‰åœ¨2000åˆ†æ»¡åˆ†ä¸­å¾—åˆ†ä»ä¸è¶³1500ã€‚ç»†ç²’åº¦åˆ†æè¡¨æ˜ï¼šç°æœ‰æ¨¡å‹åœ¨å•å¸§æˆ–å°‘é‡å¸§åŒ…å«ç›®æ ‡æ–‡æœ¬çš„ä»»åŠ¡ä¸­è¡¨ç°ä¼˜å¼‚ï¼Œä½†å¯¹éœ€è¦å…¨å±€è§†é¢‘ç†è§£çš„ä»»åŠ¡å“åº”èƒ½åŠ›æ˜æ˜¾ä¸è¶³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e2a881e188948a78761581fd584627d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=Jxwfdij5toWNkwJAeYrOjtjEP3s%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡05ï¼š**<strong>Neural B-frame Video Compression with Bi-directional Reference Harmonization</strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkwai%2FNVC" target="_blank" title="https://github.com/kwai/NVC" ref="nofollow noopener noreferrer">github.com/kwai/NVC</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**è¿‘å¹´æ¥ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„ç«¯åˆ°ç«¯è§†é¢‘å‹ç¼©ï¼ˆNVCï¼‰å–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä½†ä¸ P å¸§å‹ç¼©ç›¸æ¯”ï¼Œå¯¹ç«¯åˆ°ç«¯è§†é¢‘ B å¸§å‹ç¼©çš„ç ”ç©¶ä»ç›¸å¯¹ä¸è¶³ã€‚B å¸§å‹ç¼©å¯é‡‡ç”¨åŒå‘å‚è€ƒå¸§ä»¥è·å¾—æ›´ä¼˜çš„å‹ç¼©æ€§èƒ½ã€‚ç„¶è€Œï¼ŒB å¸§çš„åˆ†å±‚ç¼–ç ç»“æ„ä½¿å¾—æ—¶åŸŸé¢„æµ‹å˜å¾—å¤æ‚ï¼Œå°¤å…¶æ˜¯åœ¨å¸§è·¨åº¦è¾ƒå¤§çš„å±‚çº§ï¼Œè¿™ä¼šå¯¼è‡´ä¸¤ä¸ªå‚è€ƒå¸§çš„è´¡çŒ®ä¸å‡åŒ€ã€‚ä¸ºäº†å……åˆ†åˆ©ç”¨åŒå‘å‚è€ƒä¿¡æ¯ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç«¯åˆ°ç«¯è§†é¢‘ B å¸§å‹ç¼©æ–¹æ³•ï¼Œç§°ä¸ºåŒå‘å‚è€ƒå‡è¡¡çš„è§†é¢‘å‹ç¼©ï¼Œå…¶ç»“åˆäº†æˆ‘ä»¬æå‡ºçš„åŒå‘è¿åŠ¨èšåˆå’ŒåŒå‘ä¸Šä¸‹æ–‡èåˆæŠ€æœ¯ã€‚åŒå‘è¿åŠ¨èšåˆæŠ€æœ¯åœ¨è¿åŠ¨å‹ç¼©ä¸­èšåˆå¤šä¸ªå°ºåº¦å…‰æµï¼Œä»è€Œåœ¨å¤§èŒƒå›´å†…å®ç°æ›´ç²¾ç¡®çš„è¿åŠ¨è¡¥å¿ã€‚ç„¶åï¼ŒåŒå‘ä¸Šä¸‹æ–‡èåˆæŠ€æœ¯åœ¨è¿åŠ¨è¡¥å¿ç²¾åº¦çš„æŒ‡å¯¼ä¸‹ï¼Œæ˜¾å¼åœ°å¯¹å‚è€ƒä¸Šä¸‹æ–‡çš„æƒé‡è¿›è¡Œå»ºæ¨¡ã€‚å‡­å€Ÿæ›´é«˜æ•ˆçš„è¿åŠ¨å’Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°å¹³è¡¡åŒå‘å‚è€ƒä¿¡æ¯ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¼˜äºä»¥å¾€æœ€å…ˆè¿›çš„ NVC æ–¹æ³•ï¼Œç”šè‡³åœ¨ HEVC æ•°æ®é›†ä¸Šè¶…è¶Šäº†ä¼ ç»Ÿç¼–ç å™¨ VTM-RA é…ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c4962a31df4d1f9d9d27f466664f25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=yQKk76iQHWafDtN5zFV7CYoo0Gs%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡06ï¼š**<strong>VFRTok: Variable Frame Rates Video Tokenizer with Duration-Proportional Information Assumption</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2505.12053" target="_blank" title="https://arxiv.org/abs/2505.12053" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.12â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKwaiVGI%2FVFRTok" target="_blank" title="https://github.com/KwaiVGI/VFRTok" ref="nofollow noopener noreferrer">github.com/KwaiVGI/VFRâ€¦</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**åŸºäºæ½œæ‰©æ•£æ¨¡å‹çš„ç°ä»£è§†é¢‘ç”Ÿæˆæ¡†æ¶ï¼Œå—é™äºå¸§æ¯”ä¾‹ä¿¡æ¯å‡è®¾è€Œå­˜åœ¨è¡¨å¾ä½æ•ˆé—®é¢˜ã€‚ç°æœ‰åˆ†è¯å™¨æä¾›å›ºå®šçš„æ—¶é—´å‹ç¼©ç‡ï¼Œå¯¼è‡´æ‰©æ•£æ¨¡å‹è®¡ç®—æˆæœ¬éšå¸§ç‡çº¿æ€§å¢é•¿ã€‚æœ¬æ–‡æå‡ºæ—¶é•¿æ¯”ä¾‹ä¿¡æ¯å‡è®¾ï¼šè§†é¢‘ä¿¡æ¯å®¹é‡çš„ä¸Šé™ä¸æ—¶é•¿è€Œéå¸§æ•°æˆæ­£æ¯”ã€‚åŸºäºè¯¥æ´è§ï¼Œæ¨å‡ºäº†VFRTokâ€”â€”åŸºäºTransformerçš„è§†é¢‘åˆ†è¯å™¨ï¼Œé€šè¿‡ç¼–ç å™¨ä¸è§£ç å™¨é—´çš„éå¯¹ç§°å¸§ç‡è®­ç»ƒï¼Œå®ç°å¯å˜å¸§ç‡ç¼–è§£ç ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡æå‡ºéƒ¨åˆ†æ—‹è½¬ä½ç½®åµŒå…¥ï¼ˆPartial RoPEï¼‰æŠ€æœ¯è§£è€¦ä½ç½®å»ºæ¨¡ä¸å†…å®¹å»ºæ¨¡ï¼Œä»è€Œæ¢ç´¢æ¨¡å‹è¯­ä¹‰è·Ÿéšèƒ½åŠ›ã€‚è¯¥æŠ€æœ¯æœ‰æ•ˆå¢å¼ºå†…å®¹æ„ŸçŸ¥èƒ½åŠ›ï¼Œæ˜¾è‘—æå‡è§†é¢‘ç”Ÿæˆè´¨é‡ã€‚å¾—ç›Šäºç´§å‡‘è¿ç»­çš„æ—¶ç©ºè¡¨å¾ï¼ŒVFRTokä»…éœ€ç°æœ‰åˆ†è¯å™¨1/8çš„tokené‡å³å¯å®ç°å…·æœ‰ç«äº‰åŠ›çš„é‡å»ºè´¨é‡ï¼Œå¹¶è¾¾æˆä¸šç•Œé¢†å…ˆçš„ç”Ÿæˆä¿çœŸåº¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82dc05851d794840a3df32155751e534~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=AtjX3ycTrIf1O1jws1CJiZ3ehJY%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡07ï¼š**<strong>VidEmo: Affective-Tree Reasoning for Emotion-Centric Video Foundation Models</strong></p>
<p><strong>| è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2511.02712" target="_blank" title="https://arxiv.org/pdf/2511.02712" ref="nofollow noopener noreferrer">arxiv.org/pdf/2511.02â€¦</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**å°½ç®¡è§†é¢‘å¤§è¯­è¨€æ¨¡å‹ï¼ˆVideoLLMsï¼‰åœ¨è§†é¢‘æƒ…æ„Ÿåˆ†æé¢†åŸŸå–å¾—äº†é‡è¦è¿›å±•ï¼Œä½†æƒ…æ„Ÿçš„åŠ¨æ€æ€§ä¸ä¾èµ–å¤šç§çº¿ç´¢çš„å¤æ‚ç‰¹æ€§ï¼Œä¾ç„¶å¯¹æ¨¡å‹çš„æ¨ç†èƒ½åŠ›æå‡ºäº†å·¨å¤§æŒ‘æˆ˜ã€‚æœ¬ç ”ç©¶æå‡ºäº†æƒ…æ„Ÿçº¿ç´¢å¼•å¯¼çš„æ¨ç†æ¡†æ¶ï¼Œç³»ç»Ÿæ•´åˆäº†åŸºç¡€å±æ€§æ„ŸçŸ¥ã€è¡¨è¾¾åˆ†æä¸é«˜é˜¶æƒ…æ„Ÿç†è§£ä¸‰å¤§é˜¶æ®µã€‚æ ¸å¿ƒåœ¨äºè®¾è®¡äº†ä¸“æ³¨äºæƒ…æ„Ÿæ¨ç†ä¸æŒ‡ä»¤éµå¾ªçš„è§†é¢‘æƒ…æ„ŸåŸºç¡€æ¨¡å‹å®¶æ—VidEmoï¼Œå¹¶é€šè¿‡ä¸¤é˜¶æ®µè°ƒä¼˜ç­–ç•¥å®ç°æ€§èƒ½æå‡ï¼šç¬¬ä¸€é˜¶æ®µé‡‡ç”¨è¯¾ç¨‹å¼æƒ…æ„Ÿå­¦ä¹ é€æ­¥æ³¨å…¥æƒ…æ„ŸçŸ¥è¯†ï¼Œç¬¬äºŒé˜¶æ®µé€šè¿‡æƒ…æ„Ÿæ ‘å¼ºåŒ–å­¦ä¹ å¢å¼ºæ¨ç†èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œæ„å»ºäº†æƒ…æ„Ÿé©±åŠ¨çš„æ•°æ®åŸºç¡€è®¾æ–½ï¼Œæ¨å‡ºç»†ç²’åº¦æƒ…æ„Ÿæ•°æ®é›†Emo-CFGï¼Œæ¶µç›–2.1Må¤šæ ·åŒ–æŒ‡ä»¤æ ·æœ¬ï¼ŒåŒ…æ‹¬å¯è§£é‡Šçš„æƒ…æ„Ÿé—®ç­”ã€ç»†ç²’åº¦æè¿°åŠç›¸å…³æ¨ç†ã€‚å®éªŒè¡¨æ˜ï¼ŒVidEmoåœ¨15é¡¹äººåƒä»»åŠ¡ä¸­æ ‘ç«‹äº†æ–°SOTAï¼Œæ˜¾è‘—æå‡äº†å¤æ‚æƒ…æ„ŸçŠ¶æ€ç†è§£çš„åˆç†æ€§ä¸å‡†ç¡®æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39b2a19425fe4c60b0c9fc9d49710ab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=DJQfBoddRP3H3NWp3XEFYm%2FVtys%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡08ï¼š**<strong>Who You Are Matters: Bridging Topics and Social Roles via LLM-Enhanced Logical Recommendation</strong></p>
<p><strong>| è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Farxiv.org%2Fabs%2F2505.10940" target="_blank" title="http://arxiv.org/abs/2505.10940" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.10â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCode2Q%2FTagCF" target="_blank" title="https://github.com/Code2Q/TagCF" ref="nofollow noopener noreferrer">github.com/Code2Q/TagCâ€¦</a></strong></p>
<p>****| è®ºæ–‡ç®€ä»‹ï¼š<strong>æ¨èç³»ç»Ÿé€šè¿‡æ¨æ–­ç”¨æˆ·ç‰¹å¾å’Œå†å²è¡Œä¸ºä¸­çš„åå¥½ï¼Œç­›é€‰å‡ºå¯¹ç”¨æˆ·æœ‰ä»·å€¼çš„å†…å®¹æˆ–å…´è¶£ç‚¹ã€‚ä¸»æµæ–¹æ³•éƒ½ä¾§é‡äºå‘ç°å’Œå»ºæ¨¡ item ç²’åº¦çš„å†…å®¹å…´è¶£ç‚¹ï¼ˆå³ topic modelingï¼‰ï¼Œå¹¶åŸºäºå†å²äº¤äº’æ•æ‰ç”¨æˆ·å¯¹è¿™äº›å…´è¶£ç‚¹çš„åå¥½ã€‚è¿™ç§èŒƒå¼è™½ç„¶æœ‰æ•ˆï¼Œä½†å¾€å¾€è¿‡äºæ³¨é‡ä»¥ item ä¸ºå•ä½çš„ç†è§£ä»»åŠ¡ï¼Œå¿½è§†äº†ç”¨æˆ·ç²’åº¦å¯¹ç‰¹å¾ã€ç¤¾äº¤è§’è‰²å’Œå…¶éœ€æ±‚ç‰¹æ€§çš„å»ºæ¨¡ï¼Œå³ user role modeling ã€‚ç„¶è€Œï¼Œè¿™äº›å› ç´ åœ¨å»ºæ¨¡ä¸Šå¾ˆå¯èƒ½æ˜¯å½±å“ç›¸å…³å…´è¶£å’Œç”¨æˆ·åå¥½è¿ç§»çš„å…³é”®é€»è¾‘æ··æ‚å› ç´ ã€‚</strong></p>
<p>**</p>
<p>ä¸ºäº†å¼¥è¡¥è¿™ä¸€ç¼ºå¤±çš„å»ºæ¨¡è§’åº¦ï¼Œè®©æ¨èç³»ç»Ÿä»â€œçŸ¥å…¶ç„¶â€è¿›æ­¥åˆ°â€œçŸ¥å…¶æ‰€ä»¥ç„¶â€ï¼š1ï¼‰å›¢é˜Ÿå¼•å…¥äº†ç”¨æˆ·è§’è‰²è¯†åˆ«ä»»åŠ¡å’Œè¡Œä¸ºé€»è¾‘å»ºæ¨¡ä»»åŠ¡ï¼Œæ—¨åœ¨æ˜¾å¼å»ºæ¨¡ç”¨æˆ·è§’è‰²å’Œç‰¹æ€§ï¼Œå¹¶å­¦ä¹  item topic (tag) ä¸ user role (tag) ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œä½¿æ¨èç³»ç»Ÿç ”ç©¶ä»å›å½’ç¤¾ä¼šç§‘å­¦æœ¬è´¨ã€‚2ï¼‰æ­¤å¤–ï¼Œæ–‡ç« ä¹Ÿè¯æ˜äº†å¯ä»¥é€šè¿‡ä¸€ç§é«˜æ•ˆçš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸æ¨èç³»ç»Ÿçš„é›†æˆæ¡†æ¶æ¥æ˜¾å¼è§£å†³è¿™äº›ä»»åŠ¡ï¼Œå¹¶æå‡ºäº† TagCF æ–¹æ³•ï¼Œåšåˆ°ç†è§£ç”¨æˆ·ç¤¾ä¼šè§’è‰²å’Œéœ€æ±‚çš„åŒæ—¶æå‡æ¨èæ•ˆæœã€‚3ï¼‰æœ€åï¼Œä½œè€…åœ¨å·¥ä¸šç¯å¢ƒä¸­çš„åœ¨çº¿å®éªŒå’Œå…¬å¼€æ•°æ®é›†ä¸Šçš„ç¦»çº¿å®éªŒä¸­éªŒè¯äº† TagCF çš„æœ‰æ•ˆæ€§ã€‚å®éªŒè¯æ˜ï¼Œä¸å…´è¶£ç‚¹å»ºæ¨¡ç›¸æ¯”ï¼Œç”¨æˆ·è§’è‰²å»ºæ¨¡ç­–ç•¥å¯èƒ½æ˜¯æ›´ä¼˜çš„é€‰æ‹©ã€‚åŒæ—¶ï¼Œæ–‡ç« ä¹Ÿæä¾›äº†è¯æ®è¡¨æ˜ï¼Œæå–çš„é€»è¾‘å›¾åœ¨ç»éªŒä¸Šæ˜¯ä¸€ç§é€šç”¨ä¸”å¯è¿ç§»çš„çŸ¥è¯†ï¼Œèƒ½å¤Ÿæƒ åŠå¹¿æ³›çš„æ¨èä»»åŠ¡ã€‚</p>
<p>**</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c3aa74d69974b75b2b7577da57f9597~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=M1d2lqYj0ozVpP0q8K5lE40jPNM%3D" alt="" loading="lazy"/></p>
<p>**è®ºæ–‡09ï¼š**<strong>Diffusion Model as a Noise-Aware Latent Reward Model for Step-Level Preference Optimization</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2502.01051" target="_blank" title="https://arxiv.org/abs/2502.01051" ref="nofollow noopener noreferrer">arxiv.org/abs/2502.01â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKwai-Kolors%2FLPO%2Ftree%2Fmain" target="_blank" title="https://github.com/Kwai-Kolors/LPO/tree/main" ref="nofollow noopener noreferrer">github.com/Kwai-Kolorsâ€¦</a></strong></p>
<p><strong>| è®ºæ–‡ç®€ä»‹ï¼šåœ¨å›¾åƒç”Ÿæˆé¢†åŸŸï¼Œåå¥½ä¼˜åŒ–çš„ç›®æ ‡æ˜¯è®©æ¨¡å‹æ›´å¥½åœ°ç¬¦åˆäººç±»çš„å®¡ç¾æ ‡å‡†ã€‚ä»¥å¾€çš„åšæ³•é€šå¸¸ä¾èµ–è§†è§‰-è¯­è¨€æ¨¡å‹ï¼ˆVLMsï¼‰ä½œä¸ºåƒç´ çº§çš„å¥–åŠ±æ¨¡å‹ï¼Œä»¥æ­¤æ¥è¿‘ä¼¼äººç±»çš„åå¥½ã€‚ç„¶è€Œï¼Œå½“è¿™äº›æ¨¡å‹åº”ç”¨äºæ­¥éª¤çº§ï¼ˆstep-awareï¼‰çš„åå¥½ä¼˜åŒ–æ—¶ï¼Œå®ƒä»¬åœ¨å¤„ç†ä¸åŒæ—¶é—´æ­¥çš„å™ªå£°å›¾åƒæ—¶å¸¸å¸¸é‡åˆ°å›°éš¾ï¼Œå¹¶ä¸”éœ€è¦å¤æ‚çš„è½¬æ¢æ‰èƒ½å›åˆ°åƒç´ ç©ºé—´ã€‚æˆ‘ä»¬å‘ç°é¢„è®­ç»ƒçš„æ‰©æ•£æ¨¡å‹åœ¨å™ªå£°æ½œåœ¨ç©ºé—´ä¸­è¿›è¡Œæ­¥éª¤çº§å¥–åŠ±å»ºæ¨¡çš„èƒ½åŠ›éå¸¸å‡ºè‰²ï¼Œå› ä¸ºå®ƒä»¬æœ¬èº«å°±æ˜¯ä¸ºäº†å¤„ç†ä¸åŒå™ªå£°æ°´å¹³çš„æ½œåœ¨å›¾åƒè€Œè®¾è®¡çš„ã€‚åŸºäºè¿™ä¸€å‘ç°ï¼Œæˆ‘ä»¬æå‡ºäº†æ½œåœ¨å¥–åŠ±æ¨¡å‹ï¼ˆLatent Reward Model, LRMï¼‰ï¼Œè¯¥æ¨¡å‹åˆ©ç”¨æ‰©æ•£æ¨¡å‹çš„ç»„ä»¶æ¥é¢„æµ‹ä»»æ„æ—¶é—´æ­¥çš„æ½œåœ¨å›¾åƒåå¥½ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ¨å‡ºäº†æ½œåœ¨åå¥½ä¼˜åŒ–ï¼ˆLatent Preference Optimization, LPOï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å…¨æ–°çš„æ­¥éª¤çº§åå¥½ä¼˜åŒ–æ–¹æ³•ï¼Œèƒ½å¤Ÿç›´æ¥åœ¨å™ªå£°æ½œåœ¨ç©ºé—´ä¸­è¿›è¡Œã€‚å®éªŒç»“æœæ˜¾ç¤ºï¼ŒLPOä¸ä»…æ˜¾è‘—æå‡äº†æ¨¡å‹åœ¨æ•´ä½“äººç±»åå¥½å¾—åˆ†ã€å›¾æ–‡ç›¸å…³æ€§å’Œå›¾åƒç¾å­¦è´¨é‡çš„åå¥½ä¸€è‡´æ€§ï¼Œè€Œä¸”åœ¨è®­ç»ƒé€Ÿåº¦ä¸Šä¹Ÿæ¯”ç°æœ‰çš„åå¥½ä¼˜åŒ–æ–¹æ³•å¿«äº†2.5åˆ°28å€ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9a8810f849f478c8427bdfbcff31796~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=aKIJLt3yG29Fohg5mrN07PgsJw0%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡10ï¼š Flow-GRPO: Training Flow Matching Models via Online RL</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2505.05470" target="_blank" title="https://arxiv.org/abs/2505.05470" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.05â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyifan123%2Fflow%255C_grpo" target="_blank" title="https://github.com/yifan123/flow%5C_grpo" ref="nofollow noopener noreferrer">github.com/yifan123/flâ€¦</a></strong></p>
<p><strong>|</strong> **è®ºæ–‡ç®€ä»‹ï¼š**æå‡ºFlow-GRPOï¼Œè¿™æ˜¯é¦–ä¸ªå°†åœ¨çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰èå…¥æµåŒ¹é…æ¨¡å‹çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•é‡‡ç”¨ä¸¤å¤§æ ¸å¿ƒç­–ç•¥ï¼šï¼ˆ1ï¼‰é€šè¿‡ODEåˆ°SDEçš„è½¬æ¢ï¼Œå°†ç¡®å®šæ€§å¸¸å¾®åˆ†æ–¹ç¨‹ï¼ˆODEï¼‰è½¬åŒ–ä¸ºç­‰ä»·éšæœºå¾®åˆ†æ–¹ç¨‹ï¼ˆSDEï¼‰ï¼Œè¯¥è½¬æ¢è¿‡ç¨‹åœ¨å…¨éƒ¨æ—¶é—´æ­¥ä¸Šä¿æŒåŸå§‹æ¨¡å‹çš„è¾¹é™…åˆ†å¸ƒä¸€è‡´æ€§ï¼Œä¸ºå¼ºåŒ–å­¦ä¹ æ¢ç´¢æä¾›ç»Ÿè®¡é‡‡æ ·åŸºç¡€ï¼›ï¼ˆ2ï¼‰é‡‡ç”¨é™å™ªæ­¥éª¤ç¼©å‡ç­–ç•¥ï¼Œåœ¨ä¿æŒåŸå§‹æ¨ç†æ­¥æ•°çš„åŒæ—¶å‡å°‘è®­ç»ƒé™å™ªæ­¥éª¤ï¼Œæ˜¾è‘—æå‡é‡‡æ ·æ•ˆç‡ä¸”ä¸ç‰ºç‰²æ€§èƒ½ã€‚å®éªŒè¡¨æ˜ï¼ŒFlow-GRPOåœ¨å¤šé¡¹æ–‡æœ¬ç”Ÿæˆå›¾åƒä»»åŠ¡ä¸­æˆæ•ˆæ˜¾è‘—ï¼šåœ¨ç»„åˆç”Ÿæˆä»»åŠ¡ä¸­ï¼Œç»RLè°ƒä¼˜çš„SD3.5-Mæ¨¡å‹å®ç°äº†è¿‘ä¹å®Œç¾çš„ç‰©ä½“æ•°é‡ã€ç©ºé—´å…³ç³»åŠç»†ç²’åº¦å±æ€§ç”Ÿæˆï¼Œå°†GenEvalå‡†ç¡®ç‡ä»63%æå‡è‡³95%ï¼›åœ¨è§†è§‰æ–‡æœ¬æ¸²æŸ“ä»»åŠ¡ä¸­ï¼Œå‡†ç¡®ç‡ä»59%è·ƒå‡è‡³92%ï¼Œå¤§å¹…ä¼˜åŒ–äº†æ–‡æœ¬ç”Ÿæˆè´¨é‡ï¼›è¯¥æ–¹æ³•è¿˜æ˜¾è‘—æå‡äº†äººç±»åå¥½å¯¹é½åº¦ã€‚å°¤ä¸ºé‡è¦çš„æ˜¯ï¼Œå®éªŒåŸºæœ¬æœªå‡ºç°å¥–åŠ±ä½œå¼Šç°è±¡â€”â€”å³å¥–åŠ±æå‡æœªä¼´éšå¯æ„ŸçŸ¥çš„å›¾åƒè´¨é‡ä¸‹é™æˆ–å¤šæ ·æ€§å‡æŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19ae7e9d872f4ef5a6a3b37a7183c1ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=LIhrbXMejl6k4qCKpv%2Bu%2BPaMYKA%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡11ï¼šImproving Video Generation with Human Feedback</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2501.13918" target="_blank" title="https://arxiv.org/abs/2501.13918" ref="nofollow noopener noreferrer">arxiv.org/abs/2501.13â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgongyeliu.github.io%2Fvideoalign%2F" target="_blank" title="https://gongyeliu.github.io/videoalign/" ref="nofollow noopener noreferrer">gongyeliu.github.io/videoalign/</a></strong></p>
<p><strong>|</strong> **è®ºæ–‡ç®€ä»‹ï¼š**å°½ç®¡flow matchingæŠ€æœ¯æ¨åŠ¨è§†é¢‘ç”Ÿæˆå–å¾—é‡å¤§è¿›å±•ï¼Œä½†è¿åŠ¨è´¨é‡ä¸ä½³åŠæ–‡æœ¬éµå¾ªç­‰é—®é¢˜ä¾ç„¶å­˜åœ¨ã€‚æœ¬ç ”ç©¶æ„å»ºäº†ç³»ç»Ÿæ€§æµç¨‹ï¼Œåˆ©ç”¨äººç±»åé¦ˆä¼˜åŒ–è§†é¢‘ç”Ÿæˆæ¨¡å‹ä¼˜åŒ–ä¸Šè¿°é—®é¢˜ã€‚å…·ä½“è€Œè¨€ï¼Œé¦–å…ˆæ„å»ºäº†é’ˆå¯¹ç°ä»£è§†é¢‘ç”Ÿæˆæ¨¡å‹çš„å¤§è§„æ¨¡äººç±»åå¥½æ•°æ®é›†ï¼Œæ¶µç›–å¤šç»´åº¦çš„æˆå¯¹æ ‡æ³¨ï¼›éšåæå‡ºVideoRewardå¤šç»´åº¦è§†é¢‘å¥–åŠ±æ¨¡å‹ï¼Œæ·±å…¥æ¢ç©¶æ ‡æ³¨æ–¹æ¡ˆä¸ä¸åŒè®¾è®¡é€‰æ‹©å¯¹å¥–åŠ±æ•ˆèƒ½çš„å½±å“ã€‚åŸºäºç»Ÿä¸€å¼ºåŒ–å­¦ä¹ æ¡†æ¶â€”â€”å³åœ¨KLæ­£åˆ™åŒ–çº¦æŸä¸‹å®ç°å¥–åŠ±æœ€å¤§åŒ–ï¼Œä¸ºåŸºäºæµçš„æ¨¡å‹æå‡ºä¸‰ç§å¯¹é½ç®—æ³•ï¼šåŒ…æ‹¬ä¸¤ç§è®­ç»ƒæ—¶ç­–ç•¥ï¼ˆç›´æ¥åå¥½ä¼˜åŒ–Flow-DPOã€å¥–åŠ±åŠ æƒå›å½’Flow-RWRï¼‰ï¼Œä»¥åŠä¸€ç§æ¨ç†æ—¶æŠ€æœ¯Flow-NRGï¼Œè¯¥æŠ€æœ¯å°†å¥–åŠ±å¼•å¯¼ç›´æ¥åº”ç”¨äºå«å™ªè§†é¢‘ã€‚å®éªŒè¡¨æ˜ï¼šVideoRewardæ˜¾è‘—è¶…è¶Šç°æœ‰å¥–åŠ±æ¨¡å‹ï¼ŒFlow-DPOæ€§èƒ½ä¼˜äºFlow-RWRåŠç›‘ç£å¾®è°ƒæ–¹æ³•ï¼›æ­¤å¤–Flow-NRGæ”¯æŒç”¨æˆ·åœ¨æ¨ç†æ—¶è‡ªå®šä¹‰å¤šç›®æ ‡æƒé‡ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–è§†é¢‘è´¨é‡éœ€æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f090b9a101ba460eb9b0475bbc6d2dbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=JHdq6AR%2BjDE7YUXc5F8H1oCyDX0%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡12ï¼šMVU-Eval: Towards Multi-Video Understanding Evaluation for Multimodal LLMs</strong></p>
<p><strong>|</strong> <strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.07250" target="_blank" title="https://arxiv.org/abs/2511.07250" ref="nofollow noopener noreferrer">arxiv.org/abs/2511.07â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdatasets%2FMVU-Eval-Team%2FMVU-Eval-Data" target="_blank" title="https://huggingface.co/datasets/MVU-Eval-Team/MVU-Eval-Data" ref="nofollow noopener noreferrer">huggingface.co/datasets/MVâ€¦</a></strong></p>
<p><strong>|</strong> **è®ºæ–‡ç®€ä»‹ï¼š**å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ï¼ˆMLLMï¼‰çš„å‡ºç°å°†äººå·¥æ™ºèƒ½èƒ½åŠ›æ‰©å±•è‡³è§†è§‰é¢†åŸŸï¼Œç„¶è€Œç°æœ‰è¯„ä¼°åŸºå‡†ä»å±€é™äºå•ä¸€è§†é¢‘ç†è§£ï¼Œå¿½è§†äº†ç°å®åœºæ™¯ï¼ˆå¦‚ä½“è‚²èµ›äº‹åˆ†æä¸è‡ªåŠ¨é©¾é©¶ï¼‰ä¸­å¯¹å¤šè§†é¢‘ç†è§£çš„è¿«åˆ‡éœ€æ±‚ã€‚ä¸ºå¼¥è¡¥è¿™ä¸€é‡è¦ç©ºç™½ï¼Œæ¨å‡ºäº†é¦–ä¸ªç»¼åˆæ€§è¯„ä¼°åŸºå‡†MVU-Evalï¼Œä¸“é—¨ç”¨äºè¯„æµ‹MLLMçš„å¤šè§†é¢‘ç†è§£èƒ½åŠ›ã€‚è¯¥åŸºå‡†ä¸»è¦é€šè¿‡1,824ç»„è·¨é¢†åŸŸç²¾é€‰é—®ç­”å¯¹ï¼ˆè¦†ç›–4,959æ®µè§†é¢‘ï¼‰è¯„ä¼°å…«é¡¹æ ¸å¿ƒèƒ½åŠ›ï¼Œæ¶µç›–åŸºç¡€æ„ŸçŸ¥ä»»åŠ¡ä¸é«˜é˜¶æ¨ç†ä»»åŠ¡ã€‚è¿™äº›èƒ½åŠ›ä¸¥æ ¼å¯¹æ ‡è‡ªåŠ¨é©¾é©¶ä¸­çš„å¤šä¼ æ„Ÿå™¨ä¿¡æ¯åˆæˆã€ä½“è‚²èµ›äº‹å¤šè§†è§’åˆ†æç­‰å®é™…åº”ç”¨åœºæ™¯ã€‚é€šè¿‡å¯¹å‰æ²¿å¼€æºä¸é—­æºæ¨¡å‹çš„å¹¿æ³›è¯„æµ‹ï¼Œæ­ç¤ºäº†å½“å‰MLLMåœ¨å¤šè§†é¢‘ç†è§£èƒ½åŠ›æ–¹é¢å­˜åœ¨çš„æ˜¾è‘—æ€§èƒ½å·®è·ä¸å±€é™ã€‚æœ¬åŸºå‡†æ•°æ®é›†å·²å…¬å¼€å…±äº«ï¼Œä»¥æ¨åŠ¨æœªæ¥ç ”ç©¶å‘å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f3492e635044c64aaddec91547ae038~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=qmph9VidERXd%2F3vr8vVfSzcdnPA%3D" alt="" loading="lazy"/></p>
<p><strong>è®ºæ–‡13ï¼šTraining-Free Efficient Video Generation via Dynamic Token Carving</strong></p>
<p><strong>| è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2505.16864" target="_blank" title="https://arxiv.org/abs/2505.16864" ref="nofollow noopener noreferrer">arxiv.org/abs/2505.16â€¦</a></strong></p>
<p><strong>| é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjulianjuaner.github.io%2Fprojects%2Fjenga%2F" target="_blank" title="https://julianjuaner.github.io/projects/jenga/" ref="nofollow noopener noreferrer">julianjuaner.github.io/projects/jeâ€¦</a></strong></p>
<p>**| è®ºæ–‡ç®€ä»‹ï¼š**å°½ç®¡è§†é¢‘æ‰©æ•£å˜æ¢å™¨ï¼ˆDiTï¼‰æ¨¡å‹å±•ç°å‡ºå“è¶Šçš„ç”Ÿæˆè´¨é‡ï¼Œä½†å…¶å®é™…éƒ¨ç½²å› åºå¤§çš„è®¡ç®—éœ€æ±‚è€Œå—åˆ°ä¸¥é‡é˜»ç¢ã€‚è¿™ç§ä½æ•ˆæ€§æºäºä¸¤ä¸ªå…³é”®æŒ‘æˆ˜ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶ç›¸å¯¹äºä»¤ç‰Œé•¿åº¦çš„äºŒæ¬¡æ–¹å¤æ‚åº¦ï¼Œä»¥åŠæ‰©æ•£æ¨¡å‹å›ºæœ‰çš„å¤šæ­¥ç”Ÿæˆç‰¹æ€§ã€‚ä¸ºçªç ´è¿™äº›é™åˆ¶ï¼Œæå‡ºäº†Jengaâ€”â€”ä¸€ç§åˆ›æ–°æ¨ç†æ¡†æ¶ï¼Œæ•´åˆäº†åŠ¨æ€æ³¨æ„åŠ›é›•åˆ»ä¸æ¸è¿›å¼åˆ†è¾¨ç‡ç”ŸæˆæŠ€æœ¯ã€‚è¯¥æ–¹æ³•åŸºäºä¸¤ä¸ªæ ¸å¿ƒæ´è§ï¼š(1) æ—©æœŸå»å™ªæ­¥éª¤æ— éœ€é«˜åˆ†è¾¨ç‡æ½œåœ¨è¡¨å¾ï¼›(2) åæœŸæ­¥éª¤æ— éœ€å¯†é›†æ³¨æ„åŠ›è®¡ç®—ã€‚Jengaé€šè¿‡åŸºäº3Dç©ºé—´å¡«å……æ›²çº¿çš„å—çŠ¶æ³¨æ„åŠ›æœºåˆ¶åŠ¨æ€ç­›é€‰å…³é”®ä»¤ç‰Œäº¤äº’ï¼ŒåŒæ—¶é‡‡ç”¨æ¸è¿›åˆ†è¾¨ç‡ç­–ç•¥åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­é€æ­¥æå‡æ½œåœ¨è¡¨å¾æ¸…æ™°åº¦ã€‚å®éªŒè¡¨æ˜ï¼ŒJengaåœ¨å¤šä¸ªå‰æ²¿è§†é¢‘æ‰©æ•£æ¨¡å‹ä¸Šå®ç°æ˜¾è‘—åŠ é€Ÿï¼ˆåœ¨VBenchåŸºå‡†æµ‹è¯•ä¸­å–å¾—8.83å€åŠ é€Ÿä¸”æ€§èƒ½ä»…ä¸‹é™0.01%ï¼‰ã€‚ä½œä¸ºå³æ’å³ç”¨è§£å†³æ–¹æ¡ˆï¼ŒJengaæ— éœ€æ¨¡å‹é‡è®­ç»ƒå³å¯å°†æ¨ç†æ—¶å»¶ä»æ•°åˆ†é’Ÿç¼©çŸ­è‡³ç§’çº§ï¼Œä½¿ç°ä»£ç¡¬ä»¶è®¾å¤‡èƒ½å¤Ÿå®ç°å®ç”¨åŒ–çš„é«˜è´¨é‡è§†é¢‘ç”Ÿæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96ef3638b1934f059d048e8da75daab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=FwVBIzYnnZPCisDOZ4rrPiQ0cSc%3D" alt="" loading="lazy"/></p>
<p>å¿«æ‰‹å±•ä½é€Ÿè§ˆ</p>
<p>å…¨çƒé¡¶ä¼š NeurIPS 2025 å·²å°±ä½ï¼Œå¿«æ‰‹å¸¦ç€ä¼—å¤šå‰æ²¿æŠ€æœ¯å¹²è´§ç­‰ä½ æ¥ï¼ ç°åœºæ›´æœ‰è®¾è®¡æ„Ÿæ‹‰æ»¡çš„ token å®ä½“å¡ã€å®šåˆ¶æ¬¾å†°ç®±è´´ç­‰ä¸“å±ç¤¼å“ï¼Œåˆ°åœºäº’åŠ¨å°±èƒ½æ”¶å…¥å›Šä¸­ï½æœŸå¾…å’Œæ¯ä¸€ä½çƒ­çˆ±æŠ€æœ¯çš„ä½ ï¼Œåœ¨ä¼šåœºç¢°æ’æ€æƒ³ç«èŠ±ï¼Œå…±æ¢ AI æœªæ¥ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/209972f5d93b4646b1c117e39c3b4984~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=hQgN6aa1Vv0wMwbTGBWJ%2BfA30Zs%3D" alt="" loading="lazy"/></p>
<p>NeurIPS 2025 ä¼šåœºå¹³é¢å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/779807bb1fc245599e4be6e438837b3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764142821&amp;x-signature=VPUETZXyxQXjROhsErRAgnoSs24%3D" alt="" loading="lazy"/></p>
<p>å®šåˆ¶æ¬¾å†°ç®±è´´</p>
<p><strong>ç»“è¯­</strong></p>
<p>ä½œä¸ºä¸€å®¶ä»¥äººå·¥æ™ºèƒ½ä¸ºæ ¸å¿ƒé©±åŠ¨åŠ›å’ŒæŠ€æœ¯ä¾æ‰˜çš„ç§‘æŠ€å…¬å¸ï¼Œå¿«æ‰‹è‡´åŠ›äºæŒç»­æ·±åŒ–ç ”å‘æŠ•å…¥ï¼Œå°†æŠ€æœ¯æ‰“é€ ä¸ºé©±åŠ¨ä¸šåŠ¡å¢é•¿çš„å¼ºåŠ²å¼•æ“ã€‚åŒæ—¶ï¼Œå…¬å¸å°†åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸä¸æ–­æ¢ç´¢ï¼Œç§¯ææ¨åŠ¨å‰æ²¿æŠ€æœ¯åœ¨ä¸šåŠ¡åœºæ™¯ä¸­çš„è½åœ°åº”ç”¨ã€‚æ¬²è·å–ç›¸å…³è®ºæ–‡çš„è¯¦å°½å†…å®¹ä¸æ·±åº¦è§£è¯»ï¼Œæ•¬è¯·å…³æ³¨å¿«æ‰‹æŠ€æœ¯å…¬ä¼—å·çš„åç»­æ›´æ–°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡æ•°æ®åº“æƒé™å°æ”¹åŠ¨ï¼Œå¦‚ä½•æ‹–å®åŠä¸ªäº’è”ç½‘ï¼Ÿâ€”â€”Cloudflare 2025-11-18 å¤§æ•…éšœå¤ç›˜]]></title>    <link>https://juejin.cn/post/7574041466710491179</link>    <guid>https://juejin.cn/post/7574041466710491179</guid>    <pubDate>2025-11-19T07:26:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466710491179" data-draft-id="7574041466710458411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡æ•°æ®åº“æƒé™å°æ”¹åŠ¨ï¼Œå¦‚ä½•æ‹–å®åŠä¸ªäº’è”ç½‘ï¼Ÿâ€”â€”Cloudflare 2025-11-18 å¤§æ•…éšœå¤ç›˜"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-19T07:26:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Starduster"/> <meta itemprop="url" content="https://juejin.cn/user/3350967174302167"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡æ•°æ®åº“æƒé™å°æ”¹åŠ¨ï¼Œå¦‚ä½•æ‹–å®åŠä¸ªäº’è”ç½‘ï¼Ÿâ€”â€”Cloudflare 2025-11-18 å¤§æ•…éšœå¤ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3350967174302167/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Starduster
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:26:05.000Z" title="Wed Nov 19 2025 07:26:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´ 11 æœˆ 18 æ—¥ï¼ŒCloudflare å‘ç”Ÿäº† 2019 å¹´ä»¥æ¥æœ€ä¸¥é‡çš„ä¸€æ¬¡å…¨çƒç½‘ç»œæ•…éšœã€‚å¤§æ‰¹ä¾èµ– Cloudflare çš„ç½‘ç«™å’ŒæœåŠ¡ï¼ˆåŒ…æ‹¬ ChatGPTã€Xã€æ¸¸æˆã€å„ç±» SaaSï¼‰åœ¨æ•°å°æ—¶å†…æŒç»­è¿”å› 5xx é”™è¯¯ï¼Œç”¨æˆ·çœ‹åˆ°çš„å°±æ˜¯ â€œCloudflare ç½‘ç»œå†…éƒ¨å‡ºé”™â€ çš„æŠ¥é”™é¡µã€‚</p>
<p>äº‹å Cloudflare å‘å¸ƒäº†è¯¦ç»†çš„äº‹æ•…æŠ¥å‘Šï¼šè¿™ <strong>ä¸æ˜¯é»‘å®¢æ”»å‡»</strong>ï¼Œè€Œæ˜¯ä¸€è¿ä¸²ç”± <strong>ClickHouse æ•°æ®åº“æƒé™å˜æ›´</strong> å¼•å‘çš„è¿é”ååº”ï¼Œæœ€ç»ˆå¯¼è‡´æ ¸å¿ƒä»£ç†ç¨‹åºå´©æºƒã€‚</p>
<p>ä¸‹æ–‡æˆ‘ä»¬æŒ‰è¿™æ ·å‡ ä¸ªé—®é¢˜æ¥è®²ï¼š</p>
<ol>
<li>è¿™æ¬¡äº‹æ•…è¡¨å±‚ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</li>
<li>æŠ€æœ¯ä¸Šåˆ°åº•æ˜¯æ€æ ·çš„ä¸€æ¡ â€œå¤šç±³è¯ºéª¨ç‰Œé“¾â€ï¼Ÿ</li>
<li><strong>ClickHouse æƒé™å˜æ›´</strong> åˆ°åº•æ”¹äº†å•¥ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºäº‹ï¼Ÿ</li>
<li>æˆ‘ä»¬èƒ½ä»ä¸­å­¦åˆ°å“ªäº›é€šç”¨çš„å·¥ç¨‹ç»éªŒï¼Ÿ</li>
</ol>
<hr/>
<h2 data-id="heading-0">ä¸€ã€äº‹æ•…æ¦‚è§ˆï¼šä»é”™è¯¯é¡µåˆ°æ ¸å¿ƒä»£ç†å´©æºƒ</h2>
<h3 data-id="heading-1">1. å¤–åœ¨è¡¨ç°</h3>
<ul>
<li>
<p>æ—¶é—´ï¼š</p>
<ul>
<li><strong>11:20 UTC å·¦å³</strong>ï¼šCloudflare ç½‘ç»œå¼€å§‹å¤§è§„æ¨¡è¿”å› 5xxï¼›</li>
<li><strong>14:30 å·¦å³</strong>ï¼šæ ¸å¿ƒæµé‡åŸºæœ¬æ¢å¤ï¼›</li>
<li><strong>17:06</strong>ï¼šCloudflare å®£å¸ƒæ‰€æœ‰ç³»ç»Ÿæ¢å¤æ­£å¸¸ã€‚</li>
</ul>
</li>
<li>
<p>ç”¨æˆ·èƒ½æ„ŸçŸ¥åˆ°çš„ç—‡çŠ¶ï¼š</p>
<ul>
<li>è®¿é—®å¤§é‡ç½‘ç«™æ—¶ï¼Œé¡µé¢ç›´æ¥æ˜¾ç¤º Cloudflare çš„é”™è¯¯é¡µï¼›</li>
<li>è®¸å¤šç™»å½•ã€éªŒè¯ç ã€äººæœºæ ¡éªŒç•Œé¢å®Œå…¨æ— æ³•åŠ è½½ï¼ˆTurnstile æŒ‚äº†ï¼‰ï¼›</li>
<li>ä¸€éƒ¨åˆ†ä½¿ç”¨ Cloudflare Access / Zero Trust çš„å†…éƒ¨ç³»ç»Ÿç™»å½•å¤±æ•ˆã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">2. é«˜å±‚æŠ€æœ¯åŸå› ï¼ˆä¸€å¥è¯ç‰ˆï¼‰</h3>
<blockquote>
<p>ä¸€æ¬¡ ClickHouse æƒé™å˜æ›´ â†’ æŸ¥è¯¢ system.columns è¡Œä¸ºå˜åŒ– â†’ ç”Ÿæˆçš„ Bot Management ç‰¹å¾é…ç½®æ–‡ä»¶ â€œç¿»å€è†¨èƒ€â€ â†’ è¶…è¿‡ä»£ç†æ¨¡å—è®¾å®šçš„ç‰¹å¾ä¸Šé™ â†’ æ–°ä»£ç† FL2 é‡Œä¸€æ®µ Rust ä»£ç  <code>unwrap()</code> è§¦å‘ panic â†’ æ ¸å¿ƒä»£ç†ç¨‹åºå´©æºƒï¼Œå‘å…¨ç½‘è¿”å› 5xxã€‚</p>
</blockquote>
<p>æ³¨æ„ï¼š<strong>æ•°æ®åº“æœ¬èº«æ²¡ â€œåâ€</strong> ï¼ŒClickHouse æŒ‰æ–‡æ¡£è§„å®šçš„è¡Œä¸ºæ­£ç¡®å·¥ä½œï¼›é—®é¢˜åœ¨äºä¸Šå±‚ç‰¹å¾ç”Ÿæˆé€»è¾‘å¯¹å®ƒåšäº†é”™è¯¯å‡è®¾ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€ClickHouse æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç»™æ²¡ç”¨è¿‡çš„äººä¸€ä¸ª 3 åˆ†é’Ÿç‰ˆï¼‰</h2>
<p>è¦ç†è§£äº‹æ•…é‡Œé‚£æ¡å‘äººçš„ SQLï¼Œæˆ‘ä»¬å…ˆå¿«é€Ÿè®¤è¯†ä¸€ä¸‹ ClickHouseã€‚</p>
<p>ä½ å¯ä»¥æŠŠ ClickHouse ç†è§£æˆä¸€ä¸ªï¼š</p>
<blockquote>
<p><strong>é«˜æ€§èƒ½çš„åˆ—å¼åˆ†ææ•°æ®åº“</strong>ï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨å’ŒæŸ¥è¯¢æµ·é‡æ—¥å¿—ã€ç›‘æ§ã€åŸ‹ç‚¹æ•°æ®ã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒå®ƒçš„ä¸‰ç‚¹ç‰¹æ€§ï¼š</p>
<h3 data-id="heading-4">1. å¤šä¸ª database &amp; å¤šç§è¡¨ç±»å‹</h3>
<p>å’Œ MySQL ä¸€æ ·ï¼ŒClickHouse æœ‰å¤šä¸ª databaseï¼ˆåº“ï¼‰ï¼Œæ¯ä¸ªåº“é‡Œæœ‰å¾ˆå¤šè¡¨ã€‚<br/>
ä½†å®ƒè¿˜å¼•å…¥äº† <strong>åˆ†å¸ƒå¼è¡¨ï¼ˆDistributedï¼‰</strong> çš„æ¦‚å¿µï¼Œç”¨æ¥ç»Ÿä¸€æŸ¥è¯¢åˆ†ç‰‡æ•°æ®ã€‚</p>
<p>åœ¨ Cloudflare çš„æ¶æ„é‡Œï¼ˆæ ¹æ®å®˜æ–¹æè¿°ï¼‰ï¼š</p>
<ul>
<li><code>default</code> æ•°æ®åº“ï¼šæ”¾çš„æ˜¯ <strong>Distributed è¡¨</strong>ï¼Œæ¯”å¦‚ <code>default.http_requests_features</code>ï¼Œå¯¹ç”¨æˆ·æ¥è¯´æ˜¯é€»è¾‘ä¸Šçš„ â€œæ•´å¼ è¡¨â€ï¼›</li>
<li><code>r0</code> æ•°æ®åº“ï¼šæ”¾çš„æ˜¯å®é™…åˆ†ç‰‡ä¸Šçš„ <strong>æœ¬åœ°ç‰©ç†è¡¨</strong>ï¼Œæ¯”å¦‚ <code>r0.http_requests_features</code>ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š<strong>ä¸¤è¾¹éƒ½æœ‰åŒåè¡¨</strong>ï¼Œä¸€ä¸ªæ˜¯èšåˆè§†å›¾ï¼Œä¸€ä¸ªæ˜¯çœŸå®å­˜å‚¨ã€‚</p>
<h3 data-id="heading-5">2. system.* ç³»ç»Ÿè¡¨ï¼šç±»ä¼¼ information_schema</h3>
<p>ClickHouse æœ‰ä¸€å¥— <code>system.*</code> è¡¨ç”¨æ¥æä¾›å…ƒæ•°æ®ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>system.tables</code>ï¼šæœ‰å“ªäº›è¡¨ï¼›</li>
<li><code>system.columns</code>ï¼šæ‰€æœ‰è¡¨é‡Œæœ‰å“ªäº›åˆ—ã€‚</li>
</ul>
<p><code>system.columns</code> çš„å…¸å‹ç”¨æ³•ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span>Â database,Â <span class="hljs-keyword">table</span>,Â name,Â type
<span class="hljs-keyword">FROM</span>Â system.columns
<span class="hljs-keyword">WHERE</span>Â <span class="hljs-keyword">table</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">'http_requests_features'</span>;
</code></pre>
<p>è¿™æœ‰ç‚¹åƒ MySQL çš„ <code>information_schema.columns</code>ã€‚</p>
<p><strong>å…³é”®ç‚¹ï¼š</strong> <code>system.columns</code> åªä¼šæ˜¾ç¤º <strong>å½“å‰ç”¨æˆ·æœ‰æƒé™çœ‹åˆ°çš„è¡¨çš„åˆ—ä¿¡æ¯</strong>ã€‚å¦‚æœä½ æ²¡æƒé™è®¿é—®æŸä¸ªåº“ / è¡¨ï¼Œé‚£å®ƒåœ¨ <code>system.columns</code> ä¸­å°± â€œé€æ˜æ¶ˆå¤±â€ï¼Œæ ¹æœ¬ä¸ä¼šå‡ºç°åœ¨ç»“æœé‡Œã€‚</p>
<h3 data-id="heading-6">3. RBAC æƒé™æ¨¡å‹</h3>
<p>ClickHouse æ”¯æŒè§’è‰² / æƒé™ï¼ˆRBACï¼‰ï¼š</p>
<ul>
<li>
<p>å¯ä»¥é’ˆå¯¹ï¼šåº“ã€è¡¨ã€åˆ—ã€ç”šè‡³è¡Œåš SELECT/INSERT ç­‰æƒé™æ§åˆ¶ï¼›</p>
</li>
<li>
<p>å…¸å‹æˆæƒè¯­æ³•ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">GRANTÂ <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">ON</span>Â <span class="hljs-keyword">default</span>.*Â <span class="hljs-keyword">TO</span>Â some_role;
GRANTÂ <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">ON</span>Â r0.http_requests_featuresÂ <span class="hljs-keyword">TO</span>Â some_role;
</code></pre>
</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<em><em>ä½ ç»™äº†ä»€ä¹ˆæƒé™ï¼Œå°±ä¼šå½±å“ system.</em> è§†å›¾ä¸­ç”¨æˆ·èƒ½çœ‹åˆ°ä»€ä¹ˆ</em>*ã€‚</p>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€é‚£ Cloudflare è¿™æ¬¡åˆ°åº•æ”¹äº†ä»€ä¹ˆæƒé™ï¼Ÿ</h2>
<p>Cloudflare åœ¨æŠ¥å‘Šé‡Œæè¿°ï¼Œä»–ä»¬æƒ³åšä¸€ä»¶ â€œçœ‹èµ·æ¥å¾ˆåˆç†â€ çš„äº‹ï¼š</p>
<blockquote>
<p>è®©è¿è¡Œåˆ†å¸ƒå¼æŸ¥è¯¢çš„ä¸æ˜¯å•ä¸€çš„ â€œç³»ç»Ÿè´¦å·â€ï¼Œè€Œæ˜¯å‘èµ·è¯·æ±‚çš„é‚£ä¸ªçœŸå®ç”¨æˆ·ï¼Œè¿™æ ·é™æµã€é…é¢ã€æƒé™æ§åˆ¶éƒ½æ›´ç»†ç²’åº¦ã€‚</p>
</blockquote>
<p>ä¸ºæ­¤ï¼Œä»–ä»¬åœ¨ ClickHouse ä¸Šåšäº†ä¸€ä¸ªå˜æ›´ï¼ˆç®€åŒ–ç†è§£ï¼Œå¤§è‡´æ˜¯è¿™æ ·ï¼‰ï¼š</p>
<p>ä¹‹å‰ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">GRANTÂ <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">ON</span>Â <span class="hljs-keyword">default</span>.*Â <span class="hljs-keyword">TO</span>Â role_for_analytics;
--Â ç”¨æˆ·åªçœ‹å¾—åˆ°Â <span class="hljs-keyword">default</span>Â åº“çš„è¡¨å’Œåˆ—
</code></pre>
<p>ä¹‹åï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">GRANTÂ <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">ON</span>Â <span class="hljs-keyword">default</span>.*Â <span class="hljs-keyword">TO</span>Â role_for_analytics;
GRANTÂ <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">ON</span>Â r0.*Â Â Â Â Â Â Â <span class="hljs-keyword">TO</span>Â role_for_analytics;
--Â ç”¨æˆ·ç°åœ¨ä¹Ÿèƒ½çœ‹åˆ°Â r0Â åº“é‡Œçš„åº•å±‚ç‰©ç†è¡¨
</code></pre>
<p>è¿™ä¸ªæ“ä½œå¯¼è‡´çš„æ•ˆæœæ˜¯ï¼š</p>
<blockquote>
<p>åŒä¸€ä¸ªç”¨æˆ·åœ¨æŸ¥è¯¢ <code>system.columns</code> æ—¶ï¼Œ<strong>åŸæœ¬åªä¼šçœ‹åˆ° <code>default</code> åº“çš„åˆ—ï¼Œç°åœ¨ä¼šåŒæ—¶çœ‹åˆ° <code>default</code> + <code>r0</code> ä¸¤å¥—æ•°æ®</strong>ã€‚</p>
</blockquote>
<p>è¿™æœ¬èº«æ˜¯ ClickHouse å®Œå…¨æ­£å¸¸ã€ç¬¦åˆæ–‡æ¡£çš„è¡Œä¸ºã€‚</p>
<p><strong>å‘åœ¨ä¸Šå±‚ï¼š</strong> Cloudflare çš„æŸæ®µä¸šåŠ¡ä»£ç é»˜è®¤è®¤ä¸º â€œåªä¼šæœ‰ default é‚£ä¸€ä»½â€ã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€é‚£æ¡ â€œå‘æ­»äººä¸å¿å‘½â€ çš„ SQLï¼šç‰¹å¾æ–‡ä»¶å¦‚ä½•è¢« â€œç¿»å€è†¨èƒ€â€</h2>
<p>Cloudflare çš„ Bot Management éœ€è¦ä¸ºè‡ªå·±çš„æœºå™¨å­¦ä¹ æ¨¡å‹ç”Ÿæˆä¸€ä¸ª <strong>â€œç‰¹å¾é…ç½®æ–‡ä»¶ï¼ˆfeature fileï¼‰â€</strong> ï¼Œé‡Œé¢åˆ—å‡ºå„ç§ç‰¹å¾åç§°ã€ç±»å‹ç­‰ã€‚è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸‹å‘ç»™å…¨ç½‘çš„ä»£ç†ï¼Œç”¨æ¥ç»™æ¯ä¸ªè¯·æ±‚æ‰“ bot scoreã€‚</p>
<p>åœ¨ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œæœ‰è¿™æ ·ä¸€æ¡ SQLï¼ˆå®˜æ–¹æŠ¥å‘Šé‡Œç»™å‡ºæ¥çš„ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span>Â name,Â type
<span class="hljs-keyword">FROM</span>Â system.columns
<span class="hljs-keyword">WHERE</span>Â <span class="hljs-keyword">table</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">'http_requests_features'</span>
<span class="hljs-keyword">ORDER</span>Â <span class="hljs-keyword">BY</span>Â name;
</code></pre>
<p>æˆ‘ä»¬æ³¨æ„ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>å®ƒåªæŒ‰ <code>table</code> è¿‡æ»¤ï¼Œæ²¡æœ‰ç®¡ <code>database</code>ï¼›</li>
<li>ä¹‹å‰ç”¨æˆ·åªçœ‹å¾—åˆ° <code>default.http_requests_features</code>ï¼›</li>
<li>ç»“æœè¢«ç›´æ¥ç”¨æ¥æ‹¼è£… â€œç‰¹å¾åˆ—è¡¨â€ã€‚</li>
</ol>
<h3 data-id="heading-9">1. å˜æ›´å‰ï¼šä¸€åˆ‡æ­£å¸¸</h3>
<p>æƒé™å˜æ›´ä¹‹å‰ï¼Œ<code>system.columns</code> é‡Œå¯¹è¿™ä¸ªæŸ¥è¯¢è¿”å›çš„ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼ˆç¤ºæ„ï¼‰ï¼š</p>





























<table><thead><tr><th>database</th><th>table</th><th>name</th><th>type</th></tr></thead><tbody><tr><td>default</td><td>http_requests_features</td><td>feature_a</td><td>UInt8</td></tr><tr><td>default</td><td>http_requests_features</td><td>feature_b</td><td>Float32</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr></tbody></table>
<p>ç‰¹å¾ç”Ÿæˆç¨‹åºæ‹¿åˆ°è¿™äº›è¡Œï¼Œç”Ÿæˆä¸€ä¸ªæœ‰ N ä¸ªç‰¹å¾çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ 60 ä¸ªï¼Œå®Œå…¨åœ¨ä»£ç†æ¨¡å—è®¾å®šçš„ â€œæœ€å¤š 200 ä¸ªç‰¹å¾â€ ä¸Šé™ä¹‹å†…ã€‚</p>
<h3 data-id="heading-10">2. å˜æ›´åï¼šåŒåè¡¨ + æƒé™ = æ•°æ®ç¿»å€</h3>
<p>ä¸€æ—¦ç»™äº† <code>r0.*</code> çš„æƒé™ï¼Œè¿™æ¡ SQL çš„ç»“æœå°±å˜æˆäº†ï¼š</p>















































<table><thead><tr><th>database</th><th>table</th><th>name</th><th>type</th></tr></thead><tbody><tr><td>default</td><td>http_requests_features</td><td>feature_a</td><td>UInt8</td></tr><tr><td>default</td><td>http_requests_features</td><td>feature_b</td><td>Float32</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>r0</td><td>http_requests_features</td><td>feature_a</td><td>UInt8</td></tr><tr><td>r0</td><td>http_requests_features</td><td>feature_b</td><td>Float32</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ï¼š<strong>åŒæ ·çš„åˆ—åœ¨ <code>default</code> å’Œ <code>r0</code> ä¸‹å„å‡ºç°äº†ä¸€é</strong>ã€‚</p>
<p>ç”±äºä¸Šå±‚ä»£ç å®Œå…¨æ²¡çœ‹ <code>database</code> å­—æ®µï¼Œåªæ‹¿ <code>name</code>ã€<code>type</code> å°±ç”¨ï¼Œç­‰äºæ˜¯ï¼š</p>
<blockquote>
<p>åŸæœ‰ N æ¡ç‰¹å¾è®°å½• â†’ ç°åœ¨å˜æˆäº†çº¦ 2N æ¡ã€‚</p>
</blockquote>
<p>äºæ˜¯ï¼ŒBot Management ç”Ÿæˆçš„ç‰¹å¾é…ç½®æ–‡ä»¶å¤§å°ç›´æ¥ <strong>ç¿»å€è†¨èƒ€</strong>ã€‚</p>
<h3 data-id="heading-11">3. ä»£ç†æ¨¡å—ä¸­çš„ä¸Šé™ + <code>unwrap()</code> panic</h3>
<p>Cloudflare çš„ä»£ç†æ¨¡å—ï¼ˆå°¤å…¶æ˜¯æ–°ä¸€ä»£ FL2ï¼‰é‡Œï¼Œå¯¹ç‰¹å¾æ•°é‡è®¾äº†ä¸€ä¸ªç¡¬ä¸Šé™ï¼Œä¾‹å¦‚ 200ï¼ˆæŠ¥å‘Šé‡Œæåˆ°æ­¤å‰é€šå¸¸åªç”¨åˆ° ~60 ä¸ªï¼‰ã€‚è¿™ä¸ªæ¨¡å—å¤§è‡´åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>æŒ‰ä¸Šé™é¢„åˆ†é…å­˜å‚¨ç‰¹å¾çš„å†…å­˜ï¼›</li>
<li>åœ¨åŠ è½½é…ç½®æ—¶ï¼Œå¦‚æœå‘ç°ç‰¹å¾æ¡æ•°è¶…å‡ºäº†é¢„æœŸï¼Œå°±ä¼šèµ°ä¸€æ¡é”™è¯¯è·¯å¾„ã€‚</li>
</ol>
<p>é—®é¢˜å°±å‡ºåœ¨è¿™æ¡é”™è¯¯è·¯å¾„ä¸Šï¼š</p>
<ul>
<li>åœ¨ FL2 çš„ Rust ä»£ç ä¸­ï¼Œæœ‰åœ°æ–¹å¯¹ä¸€ä¸ª <code>Result</code> è°ƒç”¨äº† <code>unwrap()</code>ï¼›</li>
<li>åœ¨æ­£å¸¸æƒ…å†µä¸‹è¿™æ˜¯ <code>Ok(...)</code>ï¼Œä¸ä¼šå‡ºäº‹ï¼›</li>
<li>ä½†å½“ç‰¹å¾æ¡æ•°è¶…å‡ºä¸Šé™æ—¶ï¼Œå®ƒå˜æˆäº† <code>Err(...)</code>ï¼Œ<code>unwrap()</code> ç›´æ¥ <code>panic</code>ï¼›</li>
<li>panic å¯¼è‡´æ•´ä¸ªä»£ç†è¿›ç¨‹å´©æºƒï¼Œæ— æ³•å¤„ç†è¯·æ±‚ï¼Œäºæ˜¯å‘å¤–ç»Ÿä¸€è¿”å› 5xxã€‚</li>
</ul>
<p>è€Œè¿™æ°å¥½å‘ç”Ÿåœ¨ Cloudflare æœ€æ ¸å¿ƒçš„æµé‡è·¯å¾„ä¸Šï¼Œäºæ˜¯å°±å‡ºç°äº†æˆ‘ä»¬çœ‹åˆ°çš„ â€œåŠä¸ªäº’è”ç½‘éƒ½æŒ‚äº†â€ çš„ç°è±¡ã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€è¿™ä¸€é“¾è·¯é‡ŒçœŸæ­£çš„å‡ ä¸ª â€œå‘ç‚¹â€</h2>
<p>å¦‚æœä»æ¶æ„å’Œå·¥ç¨‹è§’åº¦æ‹†è§£ï¼Œè¿™æ¡é“¾è·¯é‡Œè‡³å°‘æœ‰äº”ä¸ªå…³é”®å‘ï¼š</p>
<h3 data-id="heading-13">1. æŠŠ â€œå†…éƒ¨ç”Ÿæˆçš„é…ç½®â€ å½“æˆäº†å®Œå…¨å¯ä¿¡</h3>
<p>ç‰¹å¾æ–‡ä»¶æ˜¯ Cloudflare è‡ªå·±å†…éƒ¨ç®¡é“ç”Ÿæˆçš„ï¼Œä¸æ˜¯ç”¨æˆ·ç›´æ¥ä¸Šä¼ çš„ã€‚å·¥ç¨‹å¸ˆé€šå¸¸ä¼šä¸‹æ„è¯†è§‰å¾—ï¼š</p>
<blockquote>
<p>â€œè¿™æ˜¯æˆ‘ä»¬è‡ªå·±ç³»ç»Ÿç”Ÿæˆçš„ä¸œè¥¿ï¼Œåº”è¯¥æ˜¯é è°±çš„ã€‚â€</p>
</blockquote>
<p>äºæ˜¯ï¼š</p>
<ul>
<li>æ²¡æœ‰å¯¹ç‰¹å¾æ•°é‡åšä¸¥æ ¼æ ¡éªŒæˆ–ç¡¬æ€§æˆªæ–­ï¼›</li>
<li>æ²¡æœ‰åšå¥½ â€œæ–‡ä»¶å¼‚å¸¸æ—¶çš„é™çº§ç­–ç•¥â€ï¼ˆæ¯”å¦‚å¿½ç•¥å¤šä½™ç‰¹å¾ / å›é€€ä¸Šä¸€ç‰ˆæœ¬ / å…³é—­ Bot æ¨¡å—ï¼‰ã€‚</li>
</ul>
<p>ä½†ç°å®æ˜¯ï¼š<strong>åªè¦é“¾è·¯ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œâ€œå†…éƒ¨é…ç½®â€ å°±éœ€è¦åƒä¸å¯ä¿¡è¾“å…¥ä¸€æ ·å¯¹å¾…</strong>ã€‚</p>
<h3 data-id="heading-14">2. SQL æŸ¥è¯¢å¯¹ç³»ç»Ÿè¡¨è¡Œä¸ºåšäº†éšå¼å‡è®¾</h3>
<p>é‚£æ¡ SQL çš„éšå«å‡è®¾æ˜¯ï¼š</p>
<blockquote>
<p>â€œæˆ‘æŸ¥ <code>system.columns</code> è¿‡æ»¤æŸä¸ª table åï¼Œå°±åªä¼šè¿”å› default åº“é‚£ä¸€ä»½ã€‚â€</p>
</blockquote>
<p>è€Œ ClickHouse çš„è¡Œä¸ºå®šä¹‰æ˜¯ï¼š</p>
<blockquote>
<p>åªè¦ä½ å¯¹æŸä¸ªè¡¨æœ‰æƒé™ï¼Œå®ƒçš„åˆ—å°±ä¼šå‡ºç°åœ¨ <code>system.columns</code> ä¸­ï¼Œ<strong>å“ªæ€•æœ‰å¤šä¸ªåº“é‡Œæœ‰åŒåè¡¨ã€‚</strong></p>
</blockquote>
<p>è¿™å…¶å®æ˜¯ä¸¤å¥—æ¨¡å‹çš„æ€ç»´å†²çªï¼š</p>
<ul>
<li>ä¸šåŠ¡ä¾§ï¼šé»˜è®¤ â€œä¸€ä¸ªé€»è¾‘è¡¨å â†’ ä¸€ä»½å…ƒæ•°æ®â€ï¼›</li>
<li>DB ä¾§ï¼šå…è®¸ â€œå¤šä¸ª database + å¤šä¸ªåŒåè¡¨å…¨éƒ½åˆæ³•å­˜åœ¨â€ã€‚</li>
</ul>
<h3 data-id="heading-15">3. æƒé™ï¼ˆRBACï¼‰å˜æ›´æ²¡æœ‰åæ¨ä¾èµ–ç³»ç»Ÿ</h3>
<p>ClickHouse çš„ RBAC æ˜¯å…¨å±€å½±å“çš„ï¼š</p>
<ul>
<li>
<p>ä¸€æ—¦ä½ å¯¹ <code>r0.*</code> æˆäºˆ SELECTï¼Œç”¨æˆ·å°±ç†æ‰€å½“ç„¶èƒ½çœ‹åˆ° <code>r0</code> ä¸‹çš„è¡¨å’Œ system.* ä¸­ç›¸åº”æ¡ç›®ï¼›</p>
</li>
<li>
<p>ä½†è¿™æ¬¡æƒé™å˜æ›´çš„å†³ç­–è·¯å¾„ï¼Œå¾ˆå¯èƒ½åªå…³æ³¨äº† â€œå­æŸ¥è¯¢ç”¨å®é™…ç”¨æˆ·èº«ä»½æ‰§è¡Œâ€ çš„éœ€æ±‚ï¼Œæ²¡æœ‰ç³»ç»Ÿæ€§åœ°æ¢³ç†ï¼š</p>
<ul>
<li>å“ªäº›ä¸Šå±‚æµç¨‹ä¾èµ– <code>system.columns</code>ï¼Ÿ</li>
<li>è¿™äº›æµç¨‹æ˜¯å¦å¯¹ <code>database</code> åšäº†åŒºåˆ†ï¼Ÿ</li>
<li>æ˜¯å¦å‡è®¾ â€œä¸€å¼ è¡¨ååªæœ‰ä¸€ä»½å…ƒæ•°æ®â€ï¼Ÿ</li>
</ul>
</li>
</ul>
<h3 data-id="heading-16">4. æ ¸å¿ƒè·¯å¾„é‡Œç”¨äº† â€œä¼šå´©æ•´ä¸ªè¿›ç¨‹â€ çš„é”™è¯¯å¤„ç†æ–¹å¼</h3>
<p>åœ¨é«˜å¯ç”¨ç³»ç»Ÿé‡Œï¼Œä¸€èˆ¬ä¼šå°½é‡é¿å…åœ¨æ ¸å¿ƒè·¯å¾„ä¸­ï¼š</p>
<ul>
<li>ç›´æ¥ <code>panic</code>ï¼›</li>
<li>åœ¨é”™è¯¯åˆ†æ”¯è°ƒç”¨ <code>unwrap()</code>ã€<code>expect()</code> ä¹‹ç±»ä¼šç»ˆæ­¢è¿›ç¨‹çš„æ–¹æ³•ã€‚</li>
</ul>
<p>æ›´ç†æƒ³çš„åšæ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¯¹ â€œéæ ¸å¿ƒåŠŸèƒ½â€ æ¨¡å—çš„é”™è¯¯è¦èƒ½ <strong>fail-open / fail-closed å¯é…ç½®</strong>ï¼›</li>
<li>æ›´ä¸Šå±‚æœ‰ä¸€ä¸ª â€œç†”æ–­â€ ç‚¹ï¼Œèƒ½æŠŠæŸäº›æ¨¡å—å½»åº•æ‘˜é™¤ï¼Œè€Œä¸æ˜¯è®©å®ƒä»¬æŠŠæ•´ä¸ªä»£ç†æ‹‰è·¨ã€‚</li>
</ul>
<p>Cloudflare åœ¨æŠ¥å‘Šä¸­ä¹Ÿæåˆ°ï¼Œä»Šåä¼šæ›´ä¸¥æ ¼åœ°å®¡æŸ¥ä»£ç†ä¸­å„ç»„ä»¶çš„ failure modeï¼Œå¹¶å¢åŠ æ›´å¤š â€œå…¨å±€ kill switchâ€ã€‚</p>
<h3 data-id="heading-17">5. ç¼ºå°‘ä¸€çœ¼å°±èƒ½çœ‹å‡º â€œfeature æ•°é‡å¼‚å¸¸â€ çš„ç›‘æ§</h3>
<p>è€ƒè™‘åˆ° Bot Management æ˜¯ä¸€ä¸ªé«˜åº¦ä¾èµ–é…ç½®çš„æ¨¡å—ï¼š</p>
<ul>
<li>
<p>å¦‚æœåœ¨ â€œæ¯æ¬¡å‘å¸ƒæ–°ç‰¹å¾æ–‡ä»¶â€ æ—¶å°±æœ‰ç›‘æ§ï¼š</p>
<ul>
<li>ç»Ÿè®¡ç‰¹å¾æ•°ï¼›</li>
<li>ä¸å‰ä¸€ç‰ˆæœ¬åšå¯¹æ¯”ï¼ˆä¾‹å¦‚è¶…è¿‡ 2 å€å°±æŠ¥è­¦ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p>é‚£ä¹ˆè¿™æ¬¡é—®é¢˜å¯èƒ½åœ¨å½±å“å…¨ç½‘ä¹‹å‰å°±è¢«æŒ¡åœ¨å®éªŒ / ç°åº¦é˜¶æ®µã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…­ã€ç»™ä¸äº†è§£ ClickHouse çš„è¯»è€…çš„ä¸€ç‚¹ â€œæ€»ç»“ç‰ˆæ•™è®­â€</h2>
<p>ä½ å®Œå…¨å¯ä»¥æŠŠè¿™æ¬¡äº‹æ•…å½“æˆä¸€ä¸ªé€šç”¨çš„ <strong>â€œç³»ç»Ÿè®¾è®¡åä¾‹â€</strong> ï¼Œè€Œä¸æ˜¯ä»…ä»…å½’å’äºæŸä¸ªæ•°æ®åº“æˆ–æŸè¡Œ Rust ä»£ç ï¼š</p>
<ol>
<li>
<p><strong>æ‰€æœ‰é…ç½®éƒ½è¦å½“ â€œä¸å¯ä¿¡è¾“å…¥â€ å¤„ç†</strong></p>
<ul>
<li>ä¸åªæ˜¯ç”¨æˆ·è¡¨å•ï¼›</li>
<li>åŒ…æ‹¬å†…éƒ¨ç®¡é“ç”Ÿæˆçš„ JSONã€ç‰¹å¾æ–‡ä»¶ã€å…ƒæ•°æ®å¿«ç…§â€¦â€¦ä¸€æ—¦é“¾è·¯è¶³å¤Ÿé•¿ï¼Œå®ƒä»¬éšæ—¶å¯èƒ½å’Œé¢„æœŸä¸ä¸€è‡´ã€‚</li>
</ul>
</li>
<li>
<p><em><em>system.</em> / information_schema è¿™ç±»å…ƒæ•°æ®æŸ¥è¯¢è¦å†™å¾— â€œä¿å®ˆâ€</em> *</p>
<ul>
<li>æ˜ç¡®åŠ ä¸Š <code>database = 'xxx'</code>ï¼›</li>
<li>æˆ–è€…åœ¨åº”ç”¨å±‚åšå»é‡ä¸é™åˆ¶ï¼›</li>
<li>æŠŠ â€œåªä¼šæœ‰ä¸€ä»½â€ çš„å‡è®¾å†™æˆæ˜¾å¼æ¡ä»¶ï¼Œè€Œä¸æ˜¯éšå«åœ¨ â€œç°åœ¨åˆšå¥½æ²¡æœ‰åŒåè¡¨â€ çš„å·§åˆé‡Œã€‚</li>
</ul>
</li>
<li>
<p><strong>æƒé™å’Œå…ƒæ•°æ®è§†å›¾é«˜åº¦è€¦åˆæ—¶ï¼Œå˜æ›´è¦åæ¨åˆ°æ‰€æœ‰ä¾èµ–æ–¹</strong></p>
<ul>
<li>ç»™æŸä¸ªåº“åŠ äº† SELECT æƒé™ï¼Œçœ‹ä¼¼æ˜¯ â€œç»™åˆ«äººå¤šäº†ä¸€ç‚¹æ•°æ®è®¿é—®èƒ½åŠ›â€ï¼›</li>
<li>å®é™…ä¸Šæ”¹å˜çš„æ˜¯ï¼š<strong>ç³»ç»Ÿè¡¨ / è§†å›¾ / æŠ¥è¡¨ / é…ç½®ç”Ÿæˆ</strong> ç­‰ä¸€æ•´æ¡é“¾è·¯çš„è¾“å…¥ç©ºé—´ã€‚</li>
</ul>
</li>
<li>
<p><strong>åœ¨æ ¸å¿ƒç»„ä»¶é‡Œï¼Œé”™è¯¯ä¼˜å…ˆ degrade è€Œä¸æ˜¯ crash</strong></p>
<ul>
<li>ä¾‹å¦‚ï¼šBot ç‰¹å¾æ–‡ä»¶åŠ è½½å¤±è´¥æ—¶ï¼Œå¯ä»¥å…ˆæŠŠè¯¥æ¨¡å—æš‚æ—¶è§†ä¸º â€œå…³é—­â€ï¼Œè®©æµé‡ä»¥æ›´å¼±çš„é˜²æŠ¤é€šè¿‡ï¼›</li>
<li>çœŸè¦ panicï¼Œä¹Ÿå°½é‡æŠŠ panic æ§åˆ¶åœ¨æŸä¸ª â€œå®‰å…¨è¾¹ç•Œâ€ ä¹‹å†…ï¼Œè€Œä¸æ˜¯å½“åœºæŠŠæ•´ä¸ªä»£ç†å¹²æ‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç›‘æ§ä¸ä»…è¦çœ‹ â€œè¯·æ±‚é‡ã€é”™è¯¯ç‡â€ï¼Œä¹Ÿè¦çœ‹ â€œé…ç½®å’Œå…ƒæ•°æ®çš„å¥åº·åº¦â€</strong></p>
<ul>
<li>ç‰¹å¾æ•°ã€é…ç½®å°ºå¯¸ã€å­—æ®µæ•°é‡ã€schema å˜åŒ–ï¼Œè¿™äº›ä¹Ÿæ˜¯å¼‚å¸¸çš„é‡è¦ä¿¡å·ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-19">ä¸ƒã€ç»“è¯­</h2>
<p>ä» â€œæ”¹äº†ä¸€ä¸ªæ•°æ®åº“æƒé™â€ åˆ° â€œå…¨çƒå¤§é‡ç½‘ç«™ 5xxâ€ï¼Œä¸­é—´éš”ç€çš„æ˜¯ï¼š</p>
<ul>
<li>å…ƒæ•°æ®è¡Œä¸ºçš„ç»†å¾®æ”¹å˜ï¼›</li>
<li>ä¸šåŠ¡ä»£ç å¯¹ç³»ç»Ÿè¡¨çš„éšå¼å‡è®¾ï¼›</li>
<li>ä¸å¤Ÿé˜²å¾¡æ€§çš„é”™è¯¯å¤„ç†ï¼›</li>
<li>å¯¹å†…éƒ¨é…ç½®ç¼ºä¹ â€œåƒä¸å¯ä¿¡è¾“å…¥ä¸€æ ·â€ çš„æ•¬ç•ã€‚</li>
</ul>
<p>å¦‚æœä½ åœ¨åšæ—¥å¿—å¹³å°ã€é£æ§ç³»ç»Ÿã€åŸ‹ç‚¹åˆ†æï¼Œæˆ–è€…ä»»ä½•ä¾èµ– <strong>â€œé…ç½® + å¤§è§„æ¨¡åˆ†å¸ƒå¼æœåŠ¡â€</strong> çš„æ¶æ„ï¼Œè¿™æ¬¡ Cloudflare çš„äº‹æ•…å€¼å¾—ä½ è®¤çœŸè¯»ä¸€éåŸå§‹æŠ¥å‘Šï¼Œç„¶åå¯¹ç…§è‡ªå·±çš„ç³»ç»Ÿé—®ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œå¦‚æœæ˜¯æˆ‘è¿™å¥—ç³»ç»Ÿï¼Œåªæ”¹ä¸€ä¸ªæƒé™æˆ– schemaï¼Œä¼šä¸ä¼šä¹Ÿæœ‰ç±»ä¼¼çš„è¿é”ååº”ï¼Ÿâ€</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reqable 3.0ç‰ˆæœ¬äº‘åŒæ­¥çš„å®è·µè¿‡ç¨‹]]></title>    <link>https://juejin.cn/post/7573995798604021775</link>    <guid>https://juejin.cn/post/7573995798604021775</guid>    <pubDate>2025-11-19T07:45:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798604021775" data-draft-id="7573989365614510080" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reqable 3.0ç‰ˆæœ¬äº‘åŒæ­¥çš„å®è·µè¿‡ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æµ‹è¯•"/> <meta itemprop="datePublished" content="2025-11-19T07:45:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MegatronKing"/> <meta itemprop="url" content="https://juejin.cn/user/2559318798642792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reqable 3.0ç‰ˆæœ¬äº‘åŒæ­¥çš„å®è·µè¿‡ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318798642792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MegatronKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:45:38.000Z" title="Wed Nov 19 2025 07:45:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Reqable 3.0ä¸Šçº¿äº†çš„äº‘æœåŠ¡åŠŸèƒ½ï¼Œæ”¯æŒæ•°æ®äº‘ç«¯å­˜å‚¨å’Œå¤šè®¾å¤‡å®æ—¶åŒæ­¥ï¼Œå°±è¿™ä¸€ä¸ªä¸å¤§ä¸å°çš„åŠŸèƒ½å´èŠ±è´¹äº†æˆ‘ä»¬å¾ˆå¤§çš„å¿ƒæ€å’Œç²¾åŠ›ï¼Œä»Šå¤©å†™äº†è¿™ç¯‡æ–‡ç« æ¥å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘ä»¬çš„å®è·µè¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆï¼Œå¤§å®¶å¯ä»¥å…ˆçœ‹çœ‹ä¸‹é¢çš„Reqableçš„å¤šè®¾å¤‡äº‘åŒæ­¥çš„è§†é¢‘ï¼Œå·¦è¾¹æ˜¯æ‰‹æœºï¼Œå³è¾¹æ˜¯ç”µè„‘ã€‚åœ¨å³è¾¹ç”µè„‘ä¸Šæ“ä½œæ•°æ®æ—¶ï¼Œå·¦è¾¹æ‰‹æœºä¸Šå¯ä»¥å®æ—¶çœ‹åˆ°æœ€æ–°çš„APIæ•°æ®ï¼Œè¿™å¯¹å›¢é˜Ÿå¤šäººåä½œéå¸¸æœ‰ç”¨ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5768f3c202be41f08bd3a9f1d4af7348~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVnYXRyb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143138&amp;x-signature=HhOi1txzLWLY7kT6j%2BiEGDnak5s%3D" alt="output.gif" loading="lazy"/></p>
<p>ä¸‹é¢ç®€å•èŠèŠæˆ‘ä»¬çš„æ€è€ƒå’Œå®è·µè¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-0">1. æ–¹æ¡ˆè°ƒç ”</h3>
<p>ä»…ä»…å®ç°æ•°æ®å­˜å‚¨åˆ°äº‘ç«¯å…¶å®å¹¶ä¸éš¾ï¼Œæš´åŠ›ç‚¹ä¸€ä¸ªä¸Šä¼ å’Œä¸€ä¸ªä¸‹è½½æ¥å£å¯èƒ½å°±å¹²å®Œäº‹äº†ã€‚ä½†æ˜¯ä¸ºäº†ç”¨æˆ·ä½“éªŒæˆ‘ä»¬å¹¶ä¸èƒ½è¿™ä¹ˆåšï¼Œæœ‰å¾ˆå¤šéœ€è¦è€ƒè™‘çš„ç‚¹ï¼Œæ¯”å¦‚ä¸‹é¢è¿™äº›ã€‚</p>
<ul>
<li>
<p>æ•°æ®ä½•æ—¶ä¸Šä¼ ï¼Œä½•æ—¶ä¸‹è½½ï¼Ÿè¿™ä¸ªé—®é¢˜æœ¬è´¨å…¶å®å°±æ˜¯å¦‚ä½•ä¿è¯æœ¬åœ°æ•°æ®å’Œäº‘ç«¯æ•°æ®çš„æ—¶æ•ˆæ€§ã€‚ç®€å•ç‚¹çš„æ–¹å¼ï¼Œæ˜¯äº¤ç»™ç”¨æˆ·å»æ“ä½œï¼Œç”¨æˆ·æ‰‹åŠ¨è§¦å‘ä¸Šä¼ äº‘ç«¯ï¼Œæ‰‹åŠ¨è§¦å‘ä»äº‘ç«¯ä¸‹è½½ã€‚é€»è¾‘å¤æ‚äº›ï¼Œå†å¢åŠ ä¸€ä¸ªå®šæ—¶é€»è¾‘ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å’ŒæœåŠ¡å™¨äº¤äº’ä¸€æ¬¡ï¼Œä¸Šä¼ æ•°æ®æˆ–è€…ä¸‹è½½æ•°æ®ã€‚è®©ç”¨æˆ·æ¥æ“ä½œï¼Œä½“éªŒå¿…ç„¶ä¸ä¼šå¾ˆå¥½ï¼Œæ¯”å¦‚æ•°æ®å¿˜è®°åŒæ­¥äº†ç­‰ç­‰ã€‚</p>
</li>
<li>
<p>å¦‚ä½•è§£å†³æ•°æ®ç‰ˆæœ¬å†²çªï¼Ÿå•è®¾å¤‡çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå‡ºç°æ•°æ®ç‰ˆæœ¬é—®é¢˜ã€‚ä½†æ˜¯å¤šè®¾å¤‡çš„æ—¶å€™ï¼Œå¿…ç„¶ä¼šå‡ºç°ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚æ¯”å¦‚ä¸¤å°è®¾å¤‡åŒæ—¶ä¸Šä¼ æ•°æ®ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®å¥½è§£å†³ï¼Œå…ˆæ¥å…ˆå­˜å‚¨ï¼Œååˆ°çš„å¤±è´¥ã€‚è¿™ä¸ªé—®é¢˜è¡ç”Ÿå¼€æ¥ï¼Œè¿˜æœ‰ä¸€äº›æƒ…å†µï¼Œä¾‹å¦‚æœ¬åœ°æ•°æ®å’Œäº‘ç«¯æ•°æ®éƒ½æ›´æ–°äº†é‡‡ç”¨å“ªä¸€ä¸ªï¼Œæ— è®ºæœ€åæ˜¯ä¿ç•™æœ¬åœ°æ•°æ®è¿˜æ˜¯ä¿ç•™äº‘ç«¯æ•°æ®ï¼Œéƒ½æœ‰æ•°æ®ä¸¢å¤±äº†ï¼Œä¸¢å¤±æ•°æ®çš„æ¦‚ç‡å’Œå¤šå°‘å–å†³äºä¸Šä¸€ä¸ªé—®é¢˜ä¸­åŒæ­¥çš„æ—¶æ•ˆæ€§ï¼ŒåŒæ­¥çš„é—´éš”è¶Šé•¿ï¼Œä¸¢å¤±æ•°æ®çš„æ¦‚ç‡å’Œæ•°æ®é‡å°±è¶Šå¤§ã€‚</p>
</li>
<li>
<p>å¦‚ä½•ä¸Šä¼ ï¼Œå¦‚ä½•ä¸‹è½½ï¼Ÿåœ¨æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼ŒæŠŠæ‰€æœ‰æ•°æ®ä¸€èµ·ä¸¢åˆ°æ¥å£å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœæ•°æ®é‡å¤§äº†ï¼Œå°±éå¸¸ä¸åˆé€‚äº†ï¼ŒåŒæ­¥æ—¶é—´å˜æ…¢ä¸è¯´ï¼ŒæœåŠ¡å™¨çš„å¸¦å®½ä¹Ÿåƒä¸æ¶ˆã€‚æˆ‘ä»¬æ²¡åŠæ³•æ§åˆ¶ç”¨æˆ·æ¥å£åˆ°åº•æœ‰å¤šå°‘ï¼Œå¯èƒ½ä¸€ä¸ªAPIçš„è¯·æ±‚ä½“å°±å¥½å‡ Mäº†ã€‚å¯¹æ­¤ï¼Œæˆ‘ä»¬åªèƒ½åšå¢é‡æ›´æ–°ï¼Œæ¯”å¦‚å¯ä»¥è€ƒè™‘ç”¨gitæ¥ç®¡ç†æ•°æ®ã€‚ä¸ºäº†ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å†³å®šæ—¢è¦åšå®æ—¶åˆè¦åšå¢é‡æ›´æ–°ã€‚æ— è®ºæ˜¯RESTæ¥å£ï¼Œè¿˜æ˜¯GITç®¡ç†ï¼Œæˆ–è€…æ˜¯WebdavåŒæ­¥æ–‡ä»¶ï¼Œä¼¼ä¹éƒ½æ— æ³•æ»¡è¶³ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå·±æ¥é€ ä¸ªè½®å­äº†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">2. WebSocketé•¿è¿æ¥</h3>
<p>å› ä¸ºè€ƒè™‘åˆ°è¦åšå®æ—¶æ€§ï¼Œæˆ‘ä»¬åªèƒ½ä¸Šé•¿è¿æ¥äº†ã€‚å¸¸ç”¨çš„é•¿è¿æ¥ç½‘ç»œé€šä¿¡æ–¹æ¡ˆæœ‰WebSocketã€MQTTã€HTTP2ç­‰ï¼Œç›¸å¯¹æ¥è¯´WebSocketæ›´åŠ ç¨³å¦¥ä¸€ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç›®å‰é‡‡ç”¨çš„æ–¹æ¡ˆã€‚</p>
<p>è‡³äºå¢é‡ä¸Šä¼ ï¼Œå°±æ˜¯ç”¨æˆ·æ¯ä¸€ä¸ªæ“ä½œéƒ½éœ€è¦å®æ—¶é€šè¿‡WebSocketæ¥ä¸æœåŠ¡å™¨è¿›è¡ŒåŒæ­¥ï¼Œæ¯”å¦‚åˆ›å»ºäº†ä¸€ä¸ªAPIè¯·æ±‚ï¼Œä¿®æ”¹äº†æŸä¸ªç¯å¢ƒå˜é‡ï¼Œä¿®æ”¹äº†APIè¯·æ±‚çš„æ•°æ®ï¼Œåˆ é™¤äº†é›†åˆç­‰ç­‰ï¼Œæ— éœ€å°†å…¨éƒ¨æ•°æ®éƒ½ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œåªéœ€å°†ç”¨æˆ·çš„æ“ä½œæŒ‡ä»¤å’Œæ“ä½œçš„ç›¸å…³çš„æ•°æ®ä¸Šä¼ å³å¯ã€‚</p>
<p>æœåŠ¡å™¨æ¥æ”¶åˆ°ç”¨æˆ·çš„æ“ä½œæŒ‡ä»¤åï¼Œæ›´æ–°äº‘ç«¯æ•°æ®ï¼Œå†å°†æ“ä½œæŒ‡ä»¤å’Œæ•°æ®å‘é€ç»™æ‰€æœ‰è¿æ¥çš„å…¶ä»–è®¾å¤‡ï¼Œå…¶ä»–è®¾å¤‡æ¥æ”¶åˆ°æœåŠ¡å™¨ä¸‹å‘çš„æŒ‡ä»¤åæ›´æ–°æœ¬åœ°æ•°æ®ï¼Œè¿™æ ·ä¿è¯æœåŠ¡å™¨å’Œæ‰€æœ‰çš„å®¢æˆ·ç«¯æ•°æ®éƒ½æ˜¯æœ€æ–°ä¸”ä¸€è‡´çš„ã€‚</p>
<p>å¢é‡æ›´æ–°å¾ˆå®¹æ˜“å‡ºç°æ•°æ®ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ¯”å¦‚æŸå°è®¾å¤‡æ¥æ”¶åˆ°æ“ä½œæŒ‡ä»¤åæ•°æ®å¤„ç†å‡ºé”™ï¼Œè¿™æ—¶å€™è¿™å°è®¾å¤‡çš„æ•°æ®å°±æ— æ³•å’Œå…¶ä»–è®¾å¤‡ä¿æŒä¸€è‡´äº†ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å°±éœ€è¦åšå…¨é‡åŒæ­¥äº†ã€‚æ­¤å¤–ï¼Œæ¯æ¬¡å¯åŠ¨åº”ç”¨åŠ è½½æ•°æ®åï¼Œä¸ºäº†ä¿æŒæ•°æ®ä¸€è‡´ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšå…¨é‡åŒæ­¥ã€‚</p>
<p>å…¨é‡åŒæ­¥å¦‚æœè§¦å‘å¤ªè¿‡é¢‘ç¹ï¼Œå¯¹æœåŠ¡å™¨ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å‹åŠ›ï¼Œæ¯”å¦‚ç”¨æˆ·æœ‰å‡ åä¸ªAPIé›†åˆï¼Œä»…ä»…å› ä¸ºä¸€ä¸ªæ“ä½œæŒ‡ä»¤æ²¡æ³•å®Œæˆï¼Œæ‰€æœ‰é›†åˆæ•°æ®éƒ½ä»æœåŠ¡å™¨ä¸‹è½½ä¸€éï¼Œå°±å¤ªæµªè´¹èµ„æºäº†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªAPIé›†åˆéƒ½å¢åŠ äº†ä¸€ä¸ªrevisionå­—æ®µï¼ŒæœåŠ¡ç«¯é›†åˆæ•°æ®æ¯æ›´æ–°ä¸€æ¬¡revisionå€¼éƒ½åŠ 1ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å…¨é‡åŒæ­¥çš„æ—¶å€™ä¸Šä¼ æœ¬åœ°çš„revisionï¼Œå¦‚æœæœ¬åœ°çš„revisionå’ŒæœåŠ¡ç«¯ç›¸åŒï¼ŒæœåŠ¡å™¨å°±æ— éœ€å°†æ•°æ®åŒæ­¥ç»™å®¢æˆ·ç«¯ã€‚</p>
<h3 data-id="heading-2">3. ç¦»å®Œç¾è¿˜æœ‰è·ç¦»</h3>
<p>æˆ‘ä»¬è¿™ç§æ–¹æ¡ˆè™½ç„¶è§£å†³äº†æ•°æ®å®æ—¶æ€§å’Œæ•°æ®å¢é‡æ›´æ–°ä¸¤ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å´æœ‰ä¸€ä¸ªéå¸¸å¤§çš„ç¼ºç‚¹ï¼Œå°±æ˜¯å¤ªä¾èµ–æœåŠ¡å™¨äº†ã€‚å¦‚æœæœåŠ¡å™¨æ•…éšœæˆ–è€…ç”¨æˆ·è®¾å¤‡ç¦»çº¿ï¼Œç”¨æˆ·çš„æ“ä½œæŒ‡ä»¤æ— æ³•åŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä¸€ç§æ–¹æ¡ˆæ˜¯æŠŠç”¨æˆ·çš„æ“ä½œæŒ‡ä»¤å’Œæ•°æ®å…¨éƒ¨å­˜å‚¨åˆ°æœ¬åœ°ï¼Œç­‰ç½‘ç»œæ¢å¤å†åŒæ­¥ã€‚ä½†æ˜¯æ“ä½œæŒ‡ä»¤å›¤ç§¯è¿‡å¤šåˆè¯¥æ€ä¹ˆåŠï¼Œç¼“å­˜æ•°æ®ä¼šçˆ†ç‚¸ï¼›å¦å¤–ï¼Œå°±å¤šå°è®¾å¤‡éƒ½ç¼“å­˜äº†æ“ä½œæŒ‡ä»¤ï¼ŒåŒæ—¶éƒ½åŒæ­¥åˆ°æœåŠ¡å™¨è¯¥æ€ä¹ˆå¤„ç†ã€‚</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä¹Ÿæ²¡æƒ³åˆ°ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªå¥½å­¦ç«å“Postmanç­‰ä¸€æ ·ï¼Œåœ¨æ— æ³•è¿æ¥æœåŠ¡å™¨çš„æ—¶å€™é›†åˆå˜æˆåªè¯»çŠ¶æ€ã€‚å½“ç„¶ï¼Œå’ŒPostmanå®Œå…¨ä¾èµ–äº‘ç«¯ä¸åŒï¼ŒReqableä¸ä¼šå‡ºç°é›†åˆæ•°æ®åŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µï¼Œåœ¨æœ¬åœ°ä»ç„¶ä¼šæœ‰æ•°æ®ã€‚å³ä½¿æˆ‘ä»¬æœåŠ¡å™¨æ•…éšœï¼Œç”¨æˆ·ä»ç„¶å¯ä»¥æ­£å¸¸æŸ¥çœ‹é›†åˆæ•°æ®å’Œè¿›è¡ŒAPIæµ‹è¯•ï¼Œä¹Ÿå¯ä»¥æ–°å»ºAPIæµ‹è¯•ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šä¸­æ–­å¤§å®¶çš„å·¥ä½œï¼Œé™åˆ¶å°±æ˜¯æ–°å»ºæˆ–è€…ä¿®æ”¹çš„APIæ— æ³•ä¿å­˜åˆ°é›†åˆï¼Œé›†åˆå†…çš„æ•°æ®ä¹Ÿæ²¡åŠæ³•åˆ é™¤ã€‚</p>
<h3 data-id="heading-3">4. æœåŠ¡ç«¯è®¾è®¡</h3>
<p>åœ¨ä¹‹å‰æˆ‘ä»¬å¯¹åç«¯æ˜¯ç”¨Javaè¿˜æ˜¯Pythonæ¥å®ç°çº ç»“äº†å¾ˆä¹…ï¼Œæœ€ç»ˆé‡‡çº³äº†å¤šæ•°çš„å»ºè®®ä½¿ç”¨Javaï¼Œé¦–é€‰å½“ç„¶æ˜¯Spring Bootäº†ã€‚æˆ‘ä»¬ä¹‹å‰åç«¯æ˜¯ä½¿ç”¨Dartæ¥å†™çš„ï¼Œè¿™æ¬¡å…¨éƒ¨ä½¿ç”¨Javaæ¥é‡å†™äº†ã€‚</p>
<p>æˆ‘ä»¬æŠŠåç«¯åˆ†æˆäº†å¤šä¸ªå­é¡¹ç›®æ¥å®ç°ï¼Œä¾‹å¦‚å¸¸ç”¨çš„æ¥å£APIï¼Œç™»å½•æ³¨å†Œç­‰ç­‰ä½œä¸ºä¸€ä¸ªå­é¡¹ç›®ï¼Œäº‘æœåŠ¡ä½œä¸ºå¦ä¸€ä¸ªå­é¡¹ç›®ï¼Œå’Œäº§å“åŠŸèƒ½ä¸ç›¸å…³çš„åƒäº‹ä»¶ç»Ÿè®¡ä¹Ÿå•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œæ¯ä¸ªå­é¡¹ç›®æ”¾åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šå•ç‹¬éƒ¨ç½²ã€‚è¿™æ ·æœ‰ä¸ªå¥½å¤„ï¼Œåƒå¸¸è§„çš„æ¥å£æ›´æ–°ä¼šæ¯”è¾ƒé¢‘ç¹ï¼Œé‡æ–°éƒ¨ç½²ç”¨æˆ·ä¹Ÿä¸ä¼šæœ‰æ„ŸçŸ¥ï¼Œåƒäº‘æœåŠ¡ä½¿ç”¨é•¿è¿æ¥ï¼Œæˆ‘ä»¬å°½é‡ä¸å»åŠ¨ï¼Œå› ä¸ºåªè¦ä¸€é‡æ–°éƒ¨ç½²æ‰€æœ‰å®¢æˆ·ç«¯éƒ½ä¼šæ„ŸçŸ¥åˆ°ã€‚å¦å¤–ä¸€ä¸ªè€ƒè™‘ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„è§„åˆ’ï¼Œäº‘æœåŠ¡è¿™éƒ¨åˆ†ä»£ç åé¢ä¼šå¼€æºå‡ºæ¥ï¼Œä¾›ç”¨æˆ·ç§æœ‰éƒ¨ç½²ï¼Œå¦‚æœä¸æ”¾å¿ƒå°†æ•°æ®å­˜å‚¨åˆ°æˆ‘ä»¬æœåŠ¡å™¨ä¸Šé¢çš„è¯ã€‚</p>
<p>å¯¹äºæ•°æ®å­˜å‚¨ï¼Œæˆ‘ä»¬é‡‡è´­äº†è…¾è®¯äº‘çš„é«˜å¯ç”¨MySQLæ•°æ®ï¼Œè‡ªå¸¦å®¹ç¾ã€‚ä¸ºäº†ç¨³å¦¥èµ·è§ï¼Œæˆ‘ä»¬è¿˜ä¼šæ¯æ—¥å°†æ•°æ®è‡ªåŠ¨å¤‡ä»½åˆ°é˜¿é‡Œäº‘ï¼Œæ¯•ç«Ÿé¸¡è›‹ä¸èƒ½æ”¾ä¸€ä¸ªç¯®å­é‡Œï¼Œå¤§å®¶çš„æ•°æ®æ˜¯æ— ä»·çš„ã€‚</p>
<h3 data-id="heading-4">5. åç»­è§„åˆ’</h3>
<p>ç›®å‰é˜¶æ®µï¼Œå¤šè®¾å¤‡åŒæ­¥åªèƒ½åœ¨åŒä¸€ä¸ªè´¦æˆ·ä¸‹é¢è¿›è¡Œï¼Œåç»­æˆ‘ä»¬ä¼šå¢åŠ å›¢é˜ŸåŠŸèƒ½ï¼ŒåŒä¸€ä¸ªå›¢é˜Ÿæˆå‘˜ä¹‹é—´å¯ä»¥è®¿é—®å’ŒåŒæ­¥åŒä¸€ä¸ªé›†åˆçš„æ•°æ®ã€‚å¦å¤–ï¼Œå°±æ˜¯ä¸åŒå›¢é˜Ÿä¸åŒè´¦æˆ·ä¹‹é—´çš„æ•°æ®åˆ†äº«åŠŸèƒ½ï¼Œä¾‹å¦‚å¯ä»¥åœ¨Reqableå†…å°†æ•°æ®ç›´æ¥åˆ†äº«ç»™æŒ‡å®šçš„ç”¨æˆ·ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªé‡è¦çš„äº‹é¡¹ï¼Œå°±æ˜¯å¦‚ä½•è®©ç”¨æˆ·è‡ªè¡Œéƒ¨ç½²ï¼Œç”±äºæ–°ç‰ˆæœ¬åˆšä¸Šçº¿ï¼Œè¿˜æœ‰è®¸å¤šåœ°æ–¹éœ€è¦å†æ€è™‘å’Œæ‰“ç£¨ï¼Œé¡¹ç›®è¿˜ä¼šæœ‰ä¸å°çš„å˜åŠ¨ï¼Œè¿™äº‹æƒ…ä¹Ÿæ€¥ä¸å¾—ã€‚</p>
<h3 data-id="heading-5">6. ç«å“å¯¹æ¯”</h3>
<p>æœ€åï¼Œç®€å•èŠèŠä¸€äº›çŸ¥åç«å“çš„å®ç°æ–¹æ¡ˆï¼Œä»¥åŠå„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚</p>
<ul>
<li>
<p>Postmanï¼Œæ–¹æ¡ˆå’Œæˆ‘ä»¬ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é€šè¿‡WebSocketå‘æœåŠ¡å™¨åŒæ­¥ç”¨æˆ·çš„æ“ä½œæŒ‡ä»¤å¹¶æ¥æ”¶å…¶ä»–è´¦æˆ·æˆ–è€…è®¾å¤‡çš„ä¿®æ”¹æŒ‡ä»¤ï¼Œç„¶åæ›´æ–°äº‘ç«¯å’Œæœ¬åœ°æ•°æ®ã€‚åªè¦æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼ŒAPIé›†åˆä¾¿ä¼šè¿›å…¥åªè¯»çŠ¶æ€ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸¤è€…æœ‰ä¸€ä¸ªæœ€å¤§çš„ä¸åŒç‚¹ï¼ŒPostmanæœ¬è´¨æ˜¯ä¸ªæµè§ˆå™¨ï¼Œæ•°æ®æ¯æ¬¡éƒ½éœ€è¦ä»æœåŠ¡å™¨æ‹‰å–ï¼Œè€Œä¸”æ•°æ®åªæ˜¯ç¼“å­˜åœ¨æœ¬åœ°è€Œä¸æ˜¯å­˜å‚¨åœ¨æœ¬åœ°ï¼Œæ–­ç½‘æ‰“å¼€Postmanå¯ä»¥çœ‹åˆ°ä»€ä¹ˆæ•°æ®éƒ½æ²¡æœ‰ï¼ŒåŠ è½½ä¸å‡ºæ¥ï¼Œç›´æ¥å½±å“åˆ°ç”¨æˆ·çš„å·¥ä½œï¼Œè€ŒReqableæœ¬åœ°çš„æ•°æ®ä»ç„¶å¯ä»¥æŸ¥çœ‹å’Œä½¿ç”¨ã€‚</p>
</li>
<li>
<p>Brunoï¼Œä¸»è¦æ˜¯é€šè¿‡Gitæ¥ç®¡ç†å’ŒåŒæ­¥æ•°æ®ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ›¾ç»æ€è€ƒè¿‡çš„æ–¹æ¡ˆä¹‹ä¸€ã€‚Brunoä½¿ç”¨æ–‡ä»¶æ¥ç»„ç»‡APIæ•°æ®ï¼Œé€šè¿‡Gitå‘½ä»¤æ¥æäº¤å’Œæ›´æ–°æ–‡ä»¶ã€‚ç”±äºä½¿ç”¨æ–‡æœ¬æè¿°è¯­è¨€ï¼Œå¯ä»¥ç›´è§‚åœ°è®©ç”¨æˆ·å¤„ç†æ•°æ®ç‰ˆæœ¬å†²çªã€‚ç¼ºç‚¹æ˜¯æ— æ³•åšåˆ°å®æ—¶åŒæ­¥ï¼Œä¸Šä¼ æ•°æ®ï¼Œéœ€è¦ä¿®æ”¹ã€æäº¤ã€æ¨é€ä¸‰æ­¥èµ°ï¼Œä¸‹è½½æ•°æ®è¿˜éœ€è¦æš‚å­˜æœ¬åœ°çš„ä¿®æ”¹ï¼Œå…¶å®å¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">7. ç»“è¯­</h3>
<p>Reqableè™½ç„¶è¿˜æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œä½†æˆ‘ä»¬ä¸€ç›´åœ¨åŠªåŠ›æ›´æ–°ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œè‡´åŠ›äºåšæœ€å¥½çš„APIå·¥å…·ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒï¼æ¬¢è¿è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freqable.com%2F" target="_blank" title="https://reqable.com/" ref="nofollow noopener noreferrer">reqable.com/</a></p>
<p>è°¢è°¢å¤§å®¶ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[5æ­¥æ„å»ºä¼ä¸šçº§RAGåº”ç”¨ï¼šDifyä¸LangChain v1.0é›†æˆå®æˆ˜]]></title>    <link>https://juejin.cn/post/7574041466710655019</link>    <guid>https://juejin.cn/post/7574041466710655019</guid>    <pubDate>2025-11-19T07:45:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466710655019" data-draft-id="7574069837532692516" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="5æ­¥æ„å»ºä¼ä¸šçº§RAGåº”ç”¨ï¼šDifyä¸LangChain v1.0é›†æˆå®æˆ˜"/> <meta itemprop="keywords" content="LangChain,LLM,Agent"/> <meta itemprop="datePublished" content="2025-11-19T07:45:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            5æ­¥æ„å»ºä¼ä¸šçº§RAGåº”ç”¨ï¼šDifyä¸LangChain v1.0é›†æˆå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:45:03.000Z" title="Wed Nov 19 2025 07:45:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fde45c850f3548c1875b911b2e13ace1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143102&amp;x-signature=Ijh%2F8lNZLGOWaB6VecWzEC0xXwE%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†é€šè¿‡äº”ä¸ªå…³é”®æ­¥éª¤ï¼Œå¸¦æ‚¨ä»é›¶å¼€å§‹æŒæ¡Difyä¸LangChain v1.0çš„é›†æˆæŠ€æœ¯ï¼Œæ„å»ºå±äºè‡ªå·±çš„ä¼ä¸šçº§RAGåº”ç”¨ã€‚</p>
<h2 data-id="heading-0">Difyæ ¸å¿ƒåŠŸèƒ½è§£æï¼šä½ä»£ç å¼€å‘çš„å¼ºå¤§å¼•æ“</h2>
<p>Difyä½œä¸ºå¼€æºçš„LLMåº”ç”¨å¼€å‘å¹³å°ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå°†å¤æ‚çš„AIå·¥ç¨‹èƒ½åŠ›å°è£…ä¸ºç›´è§‚çš„å¯è§†åŒ–å·¥å…·ã€‚åœ¨é›†æˆLangChainæ—¶ï¼Œä»¥ä¸‹ç‰¹æ€§å°¤ä¸ºå…³é”®ï¼š</p>
<p><strong>å¯è§†åŒ–å·¥ä½œæµç¼–æ’</strong>å…è®¸å¼€å‘è€…é€šè¿‡æ‹–æ‹½èŠ‚ç‚¹æ„å»ºå¤æ‚AIæµç¨‹ã€‚Difyçš„Chatflowå¼•æ“æ”¯æŒæ¡ä»¶åˆ†æ”¯ã€å¾ªç¯é€»è¾‘å’Œå¹¶è¡Œä»»åŠ¡å¤„ç†ï¼Œè¿™æ„å‘³ç€å³ä½¿æ˜¯éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½è®¾è®¡å‡ºåŒ…å«RAGæ£€ç´¢ã€å·¥å…·è°ƒç”¨å’Œå¤šæ¨¡å‹åä½œçš„é«˜çº§åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨å®¢æœåœºæ™¯ä¸­ï¼Œå¯è½»æ¾é…ç½®"ç”¨æˆ·æé—®â†’æ„å›¾è¯†åˆ«â†’çŸ¥è¯†åº“æ£€ç´¢â†’LLMç”Ÿæˆâ†’å¤šæ¸ é“åˆ†å‘"çš„å®Œæ•´æµç¨‹ã€‚</p>
<p><strong>æ¨¡å‹ç½‘å…³</strong>åŠŸèƒ½è§£å†³äº†å¤šæ¨¡å‹ç®¡ç†çš„ç—›ç‚¹ã€‚Difyæ”¯æŒOpenAIã€Anthropicã€Llamaç­‰æ•°ç™¾ç§æ¨¡å‹çš„ç»Ÿä¸€æ¥å…¥ï¼Œé€šè¿‡æ ‡å‡†åŒ–APIæŠ½è±¡ï¼Œä½¿LangChainè°ƒç”¨ä¸åŒæ¨¡å‹æ—¶æ— éœ€ä¿®æ”¹ä»£ç ã€‚æŸç”µå•†å¹³å°åˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œåœ¨ä¿ƒé”€é«˜å³°æœŸè‡ªåŠ¨å°†ç®€å•æŸ¥è¯¢åˆ‡æ¢è‡³å¼€æºæ¨¡å‹ï¼Œå¤æ‚æ¨ç†ä¿ç•™GPT-4ï¼Œä½¿æˆæœ¬é™ä½40%åŒæ—¶ä¿æŒæœåŠ¡è´¨é‡ã€‚</p>
<p><strong>RAGå¼•æ“</strong>ç»è¿‡æ·±åº¦ä¼˜åŒ–ï¼Œæ”¯æŒ20+æ–‡æ¡£æ ¼å¼è§£æå’Œæ··åˆæ£€ç´¢ç­–ç•¥ã€‚Difyçš„çˆ¶å­åˆ†æ®µæŠ€æœ¯å°†æ–‡æ¡£æ‹†åˆ†ä¸ºè¯­ä¹‰å—ï¼ˆçˆ¶æ®µï¼‰å’Œç»†èŠ‚å—ï¼ˆå­æ®µï¼‰ï¼Œç»“åˆBM25å…³é”®è¯æ£€ç´¢ä¸å‘é‡æ£€ç´¢ï¼Œä½¿å¬å›ç‡æå‡25%ã€‚åœ¨ä»£ç å®ç°ä¸­ï¼Œåªéœ€é€šè¿‡å‡ è¡Œé…ç½®å³å¯å¯ç”¨è¿™ä¸€é«˜çº§ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Dify RAGé…ç½®ç¤ºä¾‹ï¼ˆéœ€dify-client==1.9.1ï¼‰  </span>
fromÂ dify_clientÂ importÂ DifyClient  
  
<span class="hljs-attr">client</span> = DifyClient(api_key=<span class="hljs-string">"your_api_key"</span>)  
client.knowledge.create_dataset(  
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">"ä¼ä¸šçŸ¥è¯†åº“"</span>,  
Â  Â  <span class="hljs-attr">retrieval_strategy</span>=<span class="hljs-string">"hybrid"</span>,Â  <span class="hljs-comment"># æ··åˆæ£€ç´¢æ¨¡å¼  </span>
Â  Â  <span class="hljs-attr">chunking_strategy</span>={  
Â  Â  Â  Â  "mode":Â "semantic",  
Â  Â  Â  Â  "parent_chunk_size":Â 500,  
Â  Â  Â  Â  "child_chunk_size":Â 100,  
Â  Â  Â  Â  "overlap_rate":Â 0.15  
Â  Â  }  
)
</code></pre>
<p><strong>Agentæ¡†æ¶</strong>æ”¯æŒFunction Callingä¸ReActæ¨¡å¼ï¼Œå†…ç½®50+å·¥å…·é›†æˆã€‚é€šè¿‡Difyçš„å·¥å…·å¸‚åœºï¼Œå¯ä¸€é”®æ·»åŠ LangChainçš„å„ç§å·¥å…·èƒ½åŠ›ï¼Œå¦‚SerpAPIæœç´¢ã€WolframAlphaè®¡ç®—ç­‰ï¼Œä¸ºæ™ºèƒ½ä½“æ‰©å±•ä¸°å¯Œçš„å¤–éƒ¨èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-1">LangChain v1.0æ–°ç‰¹æ€§è§£è¯»ï¼šæ„å»ºç”Ÿäº§çº§Agentçš„åˆ©å™¨</h2>
<p>2025å¹´10æœˆå‘å¸ƒçš„LangChain v1.0å¸¦æ¥äº†æ¶æ„å±‚é¢çš„é‡å¤§é©æ–°ï¼Œè¿™äº›å˜åŒ–æ·±åˆ»å½±å“äº†ä¸Difyçš„é›†æˆæ–¹å¼ï¼š</p>
<p><strong>ç»Ÿä¸€AgentæŠ½è±¡</strong>æ˜¯æœ€æ˜¾è‘—çš„æ›´æ–°ã€‚v1.0å°†åŸæœ‰çš„å„ç±»Chainå’ŒAgentç»Ÿä¸€ä¸ºåŸºäºLangGraphæ„å»ºçš„Â <code>create_agent</code>Â æ¥å£ï¼Œå¤§å¹…ç®€åŒ–äº†å¤æ‚é€»è¾‘çš„å®ç°ã€‚ä¸æ—§ç‰ˆç›¸æ¯”ï¼Œä»£ç é‡å‡å°‘60%ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># LangChain v1.0 Agentåˆ›å»ºï¼ˆéœ€langchain==1.0.0ï¼‰  </span>
<span class="hljs-keyword">from</span>Â langchain.agentsÂ <span class="hljs-keyword">import</span>Â create_agent  
<span class="hljs-keyword">from</span>Â langchain_anthropicÂ <span class="hljs-keyword">import</span>Â ChatAnthropic  
  
<span class="hljs-comment"># å®šä¹‰å·¥å…·  </span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_weather</span>(<span class="hljs-params">location:Â <span class="hljs-built_in">str</span></span>) -&gt;Â <span class="hljs-built_in">str</span>:  
Â  Â  <span class="hljs-string">"""è·å–æŒ‡å®šä½ç½®çš„å¤©æ°”ä¿¡æ¯"""</span>  
Â  Â  <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"<span class="hljs-subst">{location}</span>çš„å¤©æ°”æ˜¯æ™´æœ—çš„"</span>  
  
<span class="hljs-comment"># åˆ›å»ºAgentï¼ˆå°‘äº10è¡Œä»£ç ï¼‰  </span>
model = ChatAnthropic(model=<span class="hljs-string">"claude-3-5-sonnet-20241022"</span>)  
agent = create_agent(  
Â  Â  model=model,  
Â  Â  tools=[get_weather],  
Â  Â  system_prompt=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„AIåŠ©æ‰‹"</span>  
)  
  
<span class="hljs-comment"># æ‰§è¡Œ  </span>
result = agent.invoke({<span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:Â <span class="hljs-string">"user"</span>,Â <span class="hljs-string">"content"</span>:Â <span class="hljs-string">"åŒ—äº¬å¤©æ°”å¦‚ä½•ï¼Ÿ"</span>}]})
</code></pre>
<p><strong>ä¸­é—´ä»¶æœºåˆ¶</strong>ä¸ºAgentæä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ã€‚å¼€å‘è€…å¯é€šè¿‡Â <code>middleware</code>Â å‚æ•°æ³¨å…¥é€šç”¨é€»è¾‘ï¼Œå¦‚å¯¹è¯æ‘˜è¦ã€æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ã€å·¥å…·æƒé™æ§åˆ¶ç­‰ã€‚ä¾‹å¦‚ï¼Œæ·»åŠ å¯¹è¯æ‘˜è¦ä¸­é—´ä»¶è§£å†³é•¿å¯¹è¯ä¸Šä¸‹æ–‡è¶…é™é—®é¢˜ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ langchain.agents.middlewareÂ importÂ summarization_middleware  
  
<span class="hljs-attr">agent</span> = create_agent(  
Â  Â  <span class="hljs-attr">model</span>=model,  
Â  Â  <span class="hljs-attr">tools</span>=[get_weather],  
Â  Â  <span class="hljs-attr">middleware</span>=[  
Â  Â  Â  Â  summarization_middleware(  
Â  Â  Â  Â  Â  Â  model=<span class="hljs-string">"openai:gpt-4o-mini"</span>,  
Â  Â  Â  Â  Â  Â  max_tokens_before_summary=<span class="hljs-number">4000</span>,  
Â  Â  Â  Â  Â  Â  messages_to_keep=<span class="hljs-number">20</span>  
Â  Â  Â  Â  )  
Â  Â  ]  
)

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/631261eaf6b8457d93cdcf08acc1545d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143102&amp;x-signature=abjJZckkgEYMPNntIVxsp9Mlj2M%3D" alt="image.png" loading="lazy"/>
LangChain v1.0æ¶æ„å›¾</p>
<p><strong>æ ‡å‡†åŒ–å†…å®¹å—</strong>ä½¿å·¥å…·è°ƒç”¨å’Œå¤šæ¨¡æ€å¤„ç†æ›´åŠ æ¸…æ™°ã€‚v1.0å¼•å…¥çš„Â <code>content_blocks</code>Â ç»“æ„ç»Ÿä¸€äº†ä¸åŒç±»å‹æ¶ˆæ¯çš„è¡¨ç¤ºæ–¹å¼ï¼Œæ— è®ºæ˜¯æ–‡æœ¬ã€å·¥å…·è°ƒç”¨è¿˜æ˜¯å›¾åƒURLï¼Œéƒ½èƒ½ä»¥ä¸€è‡´çš„æ ¼å¼åœ¨ç³»ç»Ÿä¸­æµè½¬ï¼Œè¿™ä¸ºDifyä¸LangChainä¹‹é—´çš„æ•°æ®äº¤æ¢æä¾›äº†ä¾¿åˆ©ã€‚</p>
<h2 data-id="heading-2">é›†æˆæ­¥éª¤æŒ‡å—ï¼šä»ç¯å¢ƒé…ç½®åˆ°APIè°ƒç”¨</h2>
<p>é›†æˆDifyä¸LangChainéœ€è¦å®Œæˆä¸‰ä¸ªå…³é”®æ­¥éª¤ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»æ¯ä¸€æ­¥çš„æ“ä½œè¦ç‚¹å’Œä»£ç å®ç°ï¼š</p>
<p><strong>ç¯å¢ƒé…ç½®</strong>éœ€è¦å‡†å¤‡ä¸¤ä¸ªæ ¸å¿ƒä¾èµ–åº“ã€‚å»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»é¡¹ç›®ä¾èµ–ï¼Œç¡®ä¿ç‰ˆæœ¬å…¼å®¹æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ  </span>
python -m venv dify-env  
<span class="hljs-built_in">source</span>Â dify-env/bin/activateÂ  <span class="hljs-comment"># Linux/Mac  </span>
<span class="hljs-comment"># dify-env\Scripts\activate Â # Windows  </span>
  
<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆæŒ‡å®šæœ€æ–°ç‰ˆæœ¬ï¼‰  </span>
pip install dify-client==1.9.1 langchain==1.0.0 python-dotenv
</code></pre>
<p>åœ¨Difyå¹³å°ç«¯ï¼Œéœ€è¦åˆ›å»ºåº”ç”¨å¹¶è·å–APIå¯†é’¥ã€‚ç™»å½•Difyæ§åˆ¶å°åï¼Œé€šè¿‡"è®¾ç½®â†’APIè®¿é—®"åˆ›å»ºæ–°çš„è®¿é—®å‡­è¯ï¼ŒåŒæ—¶ç¡®ä¿å·²å¯ç”¨"å¤–éƒ¨å·¥å…·è°ƒç”¨"æƒé™ã€‚å°†è·å–çš„APIå¯†é’¥å­˜å‚¨åœ¨Â <code>.env</code>Â æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">DIFY_API_KEY</span>=your_dify_api_key  
<span class="hljs-attr">LANGCHAIN_API_KEY</span>=your_langchain_api_key
</code></pre>
<p><strong>æ ¸å¿ƒAPIè°ƒç”¨</strong>åˆ†ä¸ºä¸¤ç§æ¨¡å¼ã€‚å½“Difyä½œä¸ºå‰ç«¯ç•Œé¢ï¼ŒLangChainå¤„ç†åç«¯é€»è¾‘æ—¶ï¼Œå¯é€šè¿‡Difyçš„è‡ªå®šä¹‰å·¥å…·è°ƒç”¨LangChainæœåŠ¡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Difyè‡ªå®šä¹‰å·¥å…·é…ç½®ç¤ºä¾‹ï¼ˆDify 1.9.1+ï¼‰  </span>
<span class="hljs-keyword">import</span>Â requests  
<span class="hljs-keyword">from</span>Â dify_clientÂ <span class="hljs-keyword">import</span>Â DifyClient  
<span class="hljs-keyword">import</span>Â os  
<span class="hljs-keyword">from</span>Â dotenvÂ <span class="hljs-keyword">import</span>Â load_dotenv  
  
load_dotenv()  
client = DifyClient(api_key=os.getenv(<span class="hljs-string">"DIFY_API_KEY"</span>))  
  
<span class="hljs-comment"># åˆ›å»ºè°ƒç”¨LangChainçš„è‡ªå®šä¹‰å·¥å…·  </span>
tool_config = {  
Â  Â  <span class="hljs-string">"name"</span>:Â <span class="hljs-string">"langchain_agent"</span>,  
Â  Â  <span class="hljs-string">"description"</span>:Â <span class="hljs-string">"è°ƒç”¨LangChainå¤„ç†å¤æ‚é€»è¾‘"</span>,  
Â  Â  <span class="hljs-string">"parameters"</span>: {  
Â  Â  Â  Â  <span class="hljs-string">"query"</span>: {<span class="hljs-string">"type"</span>:Â <span class="hljs-string">"string"</span>,Â <span class="hljs-string">"description"</span>:Â <span class="hljs-string">"ç”¨æˆ·æŸ¥è¯¢å†…å®¹"</span>}  
Â  Â  },  
Â  Â  <span class="hljs-string">"request_config"</span>: {  
Â  Â  Â  Â  <span class="hljs-string">"url"</span>:Â <span class="hljs-string">"https://your-langchain-server/api/process"</span>,  
Â  Â  Â  Â  <span class="hljs-string">"method"</span>:Â <span class="hljs-string">"POST"</span>,  
Â  Â  Â  Â  <span class="hljs-string">"headers"</span>: {  
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Content-Type"</span>:Â <span class="hljs-string">"application/json"</span>,  
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Authorization"</span>:Â <span class="hljs-string">f"BearerÂ <span class="hljs-subst">{os.getenv(<span class="hljs-string">'LANGCHAIN_API_KEY'</span>)}</span>"</span>  
Â  Â  Â  Â  },  
Â  Â  Â  Â  <span class="hljs-string">"body"</span>: {<span class="hljs-string">"query"</span>:Â <span class="hljs-string">"{{query}}"</span>}  
Â  Â  }  
}  
  
client.tool.create(tool_config)
</code></pre>
<p>åä¹‹ï¼Œå½“LangChainéœ€è¦è®¿é—®Difyçš„çŸ¥è¯†åº“æ—¶ï¼Œå¯ä½¿ç”¨Dify Python SDKï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># LangChainè°ƒç”¨DifyçŸ¥è¯†åº“ç¤ºä¾‹ï¼ˆLangChain v1.0+ï¼‰  </span>
fromÂ langchain.retrieversÂ importÂ DifyRetriever  
importÂ os  
fromÂ dotenvÂ importÂ load_dotenv  
  
load_dotenv()  
<span class="hljs-attr">retriever</span> = DifyRetriever(  
Â  Â  <span class="hljs-attr">api_key</span>=os.getenv(<span class="hljs-string">"DIFY_API_KEY"</span>),  
Â  Â  <span class="hljs-attr">dataset_id</span>=<span class="hljs-string">"your_dataset_id"</span>,  
Â  Â  <span class="hljs-attr">top_k</span>=<span class="hljs-number">5</span>,  
Â  Â  <span class="hljs-attr">score_threshold</span>=<span class="hljs-number">0.7</span>  
)  
  
<span class="hljs-comment"># åœ¨LangChainä¸­ä½¿ç”¨Difyæ£€ç´¢å™¨  </span>
fromÂ langchain.chainsÂ importÂ RetrievalQA  
fromÂ langchain_openaiÂ importÂ ChatOpenAI  
  
<span class="hljs-attr">llm</span> = ChatOpenAI(model=<span class="hljs-string">"gpt-4o"</span>)  
<span class="hljs-attr">qa_chain</span> = RetrievalQA.from_chain_type(  
Â  Â  <span class="hljs-attr">llm</span>=llm,  
Â  Â  <span class="hljs-attr">chain_type</span>=<span class="hljs-string">"stuff"</span>,  
Â  Â  <span class="hljs-attr">retriever</span>=retriever  
)  
  
<span class="hljs-attr">result</span> = qa_chain.invoke({<span class="hljs-string">"query"</span>:Â <span class="hljs-string">"ä¼ä¸šäº§å“å®šä»·ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"</span>})
</code></pre>
<p><strong>æ•°æ®æµè½¬è®¾è®¡</strong>éœ€è¦æ³¨æ„ä¸Šä¸‹æ–‡ä¿æŒã€‚åœ¨å¤šè½®å¯¹è¯åœºæ™¯ä¸­ï¼Œéœ€å°†Difyçš„ä¼šè¯IDä¼ é€’ç»™LangChainï¼Œç¡®ä¿å¯¹è¯å†å²çš„è¿ç»­æ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¸¦ä¼šè¯ä¸Šä¸‹æ–‡çš„è°ƒç”¨ç¤ºä¾‹ï¼ˆDify 1.9.1+ï¼‰  </span>
defÂ process_query(query:Â str, conversation_id:Â <span class="hljs-attr">str</span>Â =Â None):  
Â  Â  <span class="hljs-comment"># 1. ä»Difyè·å–çŸ¥è¯†åº“æ£€ç´¢ç»“æœ  </span>
Â  Â  <span class="hljs-attr">retrieval_result</span> = client.knowledge.retrieve(  
Â  Â  Â  Â  <span class="hljs-attr">dataset_id</span>=<span class="hljs-string">"your_dataset_id"</span>,  
Â  Â  Â  Â  <span class="hljs-attr">query</span>=query,  
Â  Â  Â  Â  <span class="hljs-attr">conversation_id</span>=conversation_id  
Â  Â  )  
  
Â  Â  <span class="hljs-comment"># 2. è°ƒç”¨LangChainå¤„ç†æ£€ç´¢ç»“æœ  </span>
Â  Â  <span class="hljs-attr">langchain_response</span> = requests.post(  
Â  Â  Â  Â  "https://your-langchain-server/api/process",  
Â  Â  Â  Â  <span class="hljs-attr">json</span>={  
Â  Â  Â  Â  Â  Â  "query": query,  
Â  Â  Â  Â  Â  Â  "context": retrieval_result<span class="hljs-section">["documents"]</span>,  
Â  Â  Â  Â  Â  Â  "conversation_id": conversation_id  
Â  Â  Â  Â  },  
Â  Â  Â  Â  <span class="hljs-attr">headers</span>={<span class="hljs-string">"Authorization"</span>:Â f<span class="hljs-string">"BearerÂ {os.getenv('LANGCHAIN_API_KEY')}"</span>}  
Â  Â  )  
  
Â  Â  <span class="hljs-comment"># 3. å°†ç»“æœè¿”å›ç»™Difyæ›´æ–°ä¼šè¯  </span>
Â  Â  ifÂ conversation_id:  
Â  Â  Â  Â  client.conversation.update(  
Â  Â  Â  Â  Â  Â  <span class="hljs-attr">conversation_id</span>=conversation_id,  
Â  Â  Â  Â  Â  Â  <span class="hljs-attr">messages</span>=[{<span class="hljs-string">"role"</span>:Â <span class="hljs-string">"assistant"</span>,Â <span class="hljs-string">"content"</span>: langchain_response.json()[<span class="hljs-string">"result"</span>]}]  
Â  Â  Â  Â  )  
  
Â  Â  returnÂ langchain_response.json()
</code></pre>
<h2 data-id="heading-3">å®æˆ˜æ¡ˆä¾‹æ¼”ç¤ºï¼šä¼ä¸šçŸ¥è¯†åº“æ™ºèƒ½é—®ç­”ç³»ç»Ÿ</h2>
<p>æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿç»“åˆDifyçš„å¯è§†åŒ–ç•Œé¢å’ŒLangChainçš„é«˜çº§æ£€ç´¢èƒ½åŠ›ï¼Œæ”¯æŒPDFæ–‡æ¡£è§£æã€è¯­ä¹‰æ£€ç´¢å’Œå¤šè½®å¯¹è¯ã€‚</p>
<p><strong>ç³»ç»Ÿæ¶æ„</strong>åˆ†ä¸ºå››ä¸ªå±‚æ¬¡ã€‚ç”¨æˆ·é€šè¿‡Difyçš„Webç•Œé¢æé—®ï¼Œè¯·æ±‚é¦–å…ˆç»è¿‡Difyçš„æ„å›¾è¯†åˆ«æ¨¡å—ï¼Œç„¶åè°ƒç”¨LangChainçš„RAGé“¾å¤„ç†ï¼Œæ£€ç´¢ç»“æœæ¥è‡ªDifyç®¡ç†çš„çŸ¥è¯†åº“ï¼Œæœ€ç»ˆç”±LLMç”Ÿæˆå›ç­”å¹¶è¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd17f0bf63f415cb6264d7effbee59e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143102&amp;x-signature=%2F6WIES2BOUCbNGdhU5bQVuvGMjE%3D" alt="" loading="lazy"/></p>
<p>RAGç³»ç»Ÿæ¶æ„å›¾</p>
<p><strong>æ•°æ®å‡†å¤‡</strong>é˜¶æ®µéœ€è¦ä¸Šä¼ æ–‡æ¡£å¹¶æ„å»ºçŸ¥è¯†åº“ã€‚é€šè¿‡Difyçš„"çŸ¥è¯†åº“"åŠŸèƒ½ä¸Šä¼ ä¼ä¸šæ–‡æ¡£ï¼ˆæ”¯æŒPDFã€DOCXç­‰20+æ ¼å¼ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œæ–‡æœ¬æå–å’Œåˆ†å—å¤„ç†ã€‚æ¨èä½¿ç”¨ä»¥ä¸‹åˆ†å—ç­–ç•¥ï¼š</p>
<ul>
<li>â€¢ çˆ¶å—å¤§å°ï¼š400-600å­—ç¬¦ï¼ˆä¿ç•™ä¸Šä¸‹æ–‡è¯­ä¹‰ï¼‰</li>
<li>â€¢ å­å—å¤§å°ï¼š100-200å­—ç¬¦ï¼ˆå®ç°ç²¾ç¡®åŒ¹é…ï¼‰</li>
<li>â€¢ é‡å ç‡ï¼š10-15%ï¼ˆé¿å…å…³é”®ä¿¡æ¯æˆªæ–­ï¼‰</li>
</ul>
<p>åœ¨LangChainç«¯ï¼Œéœ€è¦é…ç½®å‘é‡å­˜å‚¨å’ŒåµŒå…¥æ¨¡å‹ã€‚è¿™é‡Œä½¿ç”¨FAISSä½œä¸ºå‘é‡æ•°æ®åº“ï¼Œé…åˆBGEåµŒå…¥æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># LangChainæ£€ç´¢é“¾é…ç½®ï¼ˆv1.0+ï¼‰  </span>
fromÂ langchain.vectorstoresÂ importÂ FAISS  
fromÂ langchain.embeddingsÂ importÂ HuggingFaceEmbeddings  
fromÂ langchain.text_splitterÂ importÂ RecursiveCharacterTextSplitter  
fromÂ langchain.document_loadersÂ importÂ PyPDFLoader  
  
<span class="hljs-comment"># åŠ è½½Difyå¯¼å‡ºçš„çŸ¥è¯†åº“æ–‡æ¡£  </span>
<span class="hljs-attr">loader</span> = PyPDFLoader(<span class="hljs-string">"dify_knowledge_export.pdf"</span>)  
<span class="hljs-attr">documents</span> = loader.load()  
  
<span class="hljs-comment"># æ–‡æœ¬åˆ†å—  </span>
<span class="hljs-attr">text_splitter</span> = RecursiveCharacterTextSplitter(  
Â  Â  <span class="hljs-attr">chunk_size</span>=<span class="hljs-number">500</span>,  
Â  Â  <span class="hljs-attr">chunk_overlap</span>=<span class="hljs-number">50</span>,  
Â  Â  <span class="hljs-attr">separators</span>=[<span class="hljs-string">"\n\n"</span>,Â <span class="hljs-string">"\n"</span>,Â <span class="hljs-string">". "</span>,Â <span class="hljs-string">" "</span>,Â <span class="hljs-string">""</span>]  
)  
<span class="hljs-attr">splits</span> = text_splitter.split_documents(documents)  
  
<span class="hljs-comment"># åˆ›å»ºå‘é‡å­˜å‚¨  </span>
<span class="hljs-attr">embeddings</span> = HuggingFaceEmbeddings(model_name=<span class="hljs-string">"BAAI/bge-small-en-v1.5"</span>)  
<span class="hljs-attr">vectorstore</span> = FAISS.from_documents(documents=splits, embedding=embeddings)  
vectorstore.save_local("faiss_index")
</code></pre>
<p><strong>æ ¸å¿ƒä»£ç å®ç°</strong>åŒ…å«Difyå·¥ä½œæµè®¾è®¡å’ŒLangChainæ£€ç´¢é“¾ä¸¤éƒ¨åˆ†ã€‚åœ¨Difyä¸­åˆ›å»ºæ–°çš„"å¯¹è¯å‹åº”ç”¨"ï¼Œç„¶åè®¾è®¡å¦‚ä¸‹å·¥ä½œæµï¼š</p>
<ol start="0">
<li>
<ol start="0">
<li>æ·»åŠ "ç”¨æˆ·è¾“å…¥"èŠ‚ç‚¹æ¥æ”¶æé—®</li>
</ol>
</li>
<li>
<ol start="2">
<li>æ·»åŠ "çŸ¥è¯†åº“æ£€ç´¢"èŠ‚ç‚¹è·å–ç›¸å…³æ–‡æ¡£</li>
</ol>
</li>
<li>
<ol start="3">
<li>æ·»åŠ "å·¥å…·è°ƒç”¨"èŠ‚ç‚¹è°ƒç”¨LangChainå¤„ç†é€»è¾‘</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ·»åŠ "LLMç”Ÿæˆ"èŠ‚ç‚¹ç”Ÿæˆæœ€ç»ˆå›ç­”</li>
</ol>
</li>
<li>
<ol start="5">
<li>æ·»åŠ "è¾“å‡º"èŠ‚ç‚¹å±•ç¤ºç»“æœ</li>
</ol>
</li>
</ol>
<p>LangChainç«¯å®ç°é«˜çº§æ£€ç´¢é€»è¾‘ï¼ŒåŒ…æ‹¬æ··åˆæ£€ç´¢å’Œç»“æœé‡æ’ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># LangChainé«˜çº§æ£€ç´¢å®ç°ï¼ˆv1.0+ï¼‰  </span>
fromÂ langchain.retrieversÂ importÂ ContextualCompressionRetriever  
fromÂ langchain.retrievers.document_compressorsÂ importÂ CohereRerank  
fromÂ langchain_community.retrieversÂ importÂ BM25Retriever  
fromÂ langchain.retrieversÂ importÂ EnsembleRetriever  
  
<span class="hljs-comment"># åŠ è½½å‘é‡å­˜å‚¨  </span>
<span class="hljs-attr">vectorstore</span> = FAISS.load_local(<span class="hljs-string">"faiss_index"</span>, embeddings, allow_dangerous_deserialization=<span class="hljs-literal">True</span>)  
<span class="hljs-attr">vector_retriever</span> = vectorstore.as_retriever(search_kwargs={<span class="hljs-string">"k"</span>:Â <span class="hljs-number">10</span>})  
  
<span class="hljs-comment"># åˆå§‹åŒ–BM25æ£€ç´¢å™¨ï¼ˆå…³é”®è¯æ£€ç´¢ï¼‰  </span>
<span class="hljs-attr">bm25_retriever</span> = BM25Retriever.from_documents(documents=splits)  
<span class="hljs-attr">bm25_retriever.k</span> =Â <span class="hljs-number">10</span>  
  
<span class="hljs-comment"># ç»„åˆæ£€ç´¢å™¨  </span>
<span class="hljs-attr">ensemble_retriever</span> = EnsembleRetriever(  
Â  Â  <span class="hljs-attr">retrievers</span>=[vector_retriever, bm25_retriever],  
Â  Â  <span class="hljs-attr">weights</span>=[<span class="hljs-number">0.7</span>,Â <span class="hljs-number">0.3</span>]  
)  
  
<span class="hljs-comment"># æ·»åŠ é‡æ’å™¨  </span>
<span class="hljs-attr">compressor</span> = CohereRerank(model=<span class="hljs-string">"rerank-english-v3.0"</span>)  
<span class="hljs-attr">compression_retriever</span> = ContextualCompressionRetriever(  
Â  Â  <span class="hljs-attr">base_compressor</span>=compressor,  
Â  Â  <span class="hljs-attr">base_retriever</span>=ensemble_retriever  
)  
  
<span class="hljs-comment"># åˆ›å»ºRAGé“¾  </span>
fromÂ langchain.chainsÂ importÂ RetrievalQA  
fromÂ langchain.chat_modelsÂ importÂ ChatOpenAI  
  
<span class="hljs-attr">llm</span> = ChatOpenAI(model_name=<span class="hljs-string">"gpt-4o"</span>, temperature=<span class="hljs-number">0.3</span>)  
<span class="hljs-attr">qa_chain</span> = RetrievalQA.from_chain_type(  
Â  Â  <span class="hljs-attr">llm</span>=llm,  
Â  Â  <span class="hljs-attr">chain_type</span>=<span class="hljs-string">"stuff"</span>,  
Â  Â  <span class="hljs-attr">retriever</span>=compression_retriever,  
Â  Â  <span class="hljs-attr">return_source_documents</span>=<span class="hljs-literal">True</span>  
)  
  
<span class="hljs-comment"># å¯åŠ¨FastAPIæœåŠ¡ä¾›Difyè°ƒç”¨  </span>
fromÂ fastapiÂ importÂ FastAPI  
importÂ uvicorn  
fromÂ pydanticÂ importÂ BaseModel  
  
<span class="hljs-attr">app</span> = FastAPI()  
  
classÂ QueryRequest(BaseModel):  
Â  Â  query:Â str  
  
@app.post("/process")  
asyncÂ defÂ process_query(request: QueryRequest):  
Â  Â  <span class="hljs-attr">result</span> = qa_chain({<span class="hljs-string">"query"</span>: request.query})  
Â  Â  returnÂ {  
Â  Â  Â  Â  "result": result<span class="hljs-section">["result"]</span>,  
Â  Â  Â  Â  "sources": <span class="hljs-section">[doc.metadata.get("source")Â forÂ docÂ inÂ result["source_documents"]]</span>  
Â  Â  }  
  
ifÂ <span class="hljs-attr">__name__</span> ==Â <span class="hljs-string">"__main__"</span>:  
Â  Â  uvicorn.run(app, <span class="hljs-attr">host</span>=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8000</span>)
</code></pre>
<p><strong>éƒ¨ç½²ä¸æµ‹è¯•</strong>éœ€è¦å¯åŠ¨LangChainæœåŠ¡å¹¶åœ¨Difyä¸­é…ç½®å·¥å…·åœ°å€ã€‚å°†LangChainæœåŠ¡éƒ¨ç½²åˆ°å…¬ç½‘å¯è®¿é—®çš„æœåŠ¡å™¨ï¼Œç„¶ååœ¨Difyçš„è‡ªå®šä¹‰å·¥å…·ä¸­å¡«å†™æœåŠ¡URLã€‚æµ‹è¯•æ—¶ï¼Œå¯ä¸Šä¼ ä¼ä¸šäº§å“æ‰‹å†Œå¹¶æé—®"è¯·ä»‹ç»äº§å“çš„æ ¸å¿ƒåŠŸèƒ½"ï¼Œç³»ç»Ÿåº”èƒ½å‡†ç¡®æ£€ç´¢ç›¸å…³å†…å®¹å¹¶ç”Ÿæˆå›ç­”ã€‚</p>
<h2 data-id="heading-4">æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<p>ä¼ä¸šçº§åº”ç”¨éœ€è¦å…³æ³¨æ€§èƒ½å’Œå¯é æ€§ï¼Œä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥å¯æ˜¾è‘—æå‡ç³»ç»Ÿè¡¨ç°ï¼š</p>
<p><strong>å‘é‡æ£€ç´¢ä¼˜åŒ–</strong>ä»ä¸‰ä¸ªæ–¹é¢ç€æ‰‹ã€‚è°ƒæ•´åˆ†å—å¤§å°å’Œé‡å ç‡ï¼šå®éªŒè¡¨æ˜ï¼ŒæŠ€æœ¯æ–‡æ¡£ä½¿ç”¨300-500å­—ç¬¦çš„åˆ†å—å¤§å°ï¼Œé…åˆ10-15%çš„é‡å ç‡ï¼Œå¯ä½¿å¬å›ç‡æå‡18%ã€‚é€‰æ‹©åˆé€‚çš„åµŒå…¥æ¨¡å‹ï¼šå¯¹äºä¸­æ–‡åœºæ™¯ï¼ŒBGE-M3æ¨¡å‹åœ¨æ£€ç´¢ä»»åŠ¡ä¸Šè¡¨ç°ä¼˜äºä¼ ç»Ÿæ¨¡å‹ã€‚ä¼˜åŒ–å‘é‡æ•°æ®åº“å‚æ•°ï¼šFAISSçš„HNSWç´¢å¼•å¯é€šè¿‡è°ƒæ•´Â <code>nlist</code>Â å’ŒÂ <code>ef_construction</code>Â å‚æ•°å¹³è¡¡é€Ÿåº¦ä¸ç²¾åº¦ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># FAISSç´¢å¼•ä¼˜åŒ–ç¤ºä¾‹  </span>
<span class="hljs-attr">index</span> = faiss.IndexHNSWFlat(dimension, hnsw_params.M)  
<span class="hljs-attr">index.hnsw.efConstruction</span> =Â <span class="hljs-number">200</span>Â  <span class="hljs-comment"># æ„å»ºæ—¶ç²¾åº¦ï¼ˆå€¼è¶Šå¤§è¶Šç²¾ç¡®ï¼Œé€Ÿåº¦è¶Šæ…¢ï¼‰  </span>
<span class="hljs-attr">index.hnsw.efSearch</span> =Â <span class="hljs-number">100</span>Â  <span class="hljs-comment"># æŸ¥è¯¢æ—¶ç²¾åº¦  </span>
faiss.write_index(index,Â "optimized_index.faiss")
</code></pre>
<p><strong>ç¼“å­˜ç­–ç•¥</strong>æœ‰æ•ˆå‡å°‘é‡å¤è®¡ç®—ã€‚å®ç°ä¸‰çº§ç¼“å­˜æœºåˆ¶ï¼šRedisç¼“å­˜é«˜é¢‘æŸ¥è¯¢ç»“æœï¼ˆTTL=1å°æ—¶ï¼‰ï¼ŒDifyå†…ç½®ç¼“å­˜å­˜å‚¨çŸ¥è¯†åº“æ£€ç´¢ç»“æœï¼ˆTTL=12å°æ—¶ï¼‰ï¼Œå®¢æˆ·ç«¯ç¼“å­˜ä¿å­˜ç”¨æˆ·ä¼šè¯ï¼ˆTTL=24å°æ—¶ï¼‰ã€‚ä»¥ä¸‹æ˜¯Redisç¼“å­˜å®ç°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Redisç¼“å­˜å®ç°  </span>
<span class="hljs-keyword">import</span>Â redis  
<span class="hljs-keyword">from</span>Â functoolsÂ <span class="hljs-keyword">import</span>Â lru_cache  
  
r = redis.Redis(host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-number">6379</span>, db=<span class="hljs-number">0</span>)  
  
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">cache_decorator</span>(<span class="hljs-params">ttl=<span class="hljs-number">3600</span></span>):  
Â  Â  <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):  
Â  Â  Â  Â  <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):  
Â  Â  Â  Â  Â  Â  key =Â <span class="hljs-string">f"cache:<span class="hljs-subst">{func.__name__}</span>:<span class="hljs-subst">{<span class="hljs-built_in">str</span>(args)}</span>:<span class="hljs-subst">{<span class="hljs-built_in">str</span>(kwargs)}</span>"</span>  
Â  Â  Â  Â  Â  Â  cached_result = r.get(key)  
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">if</span>Â cached_result:  
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">eval</span>(cached_result)  
Â  Â  Â  Â  Â  Â  result = func(*args, **kwargs)  
Â  Â  Â  Â  Â  Â  r.setex(key, ttl,Â <span class="hljs-built_in">str</span>(result))  
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span>Â result  
Â  Â  Â  Â  <span class="hljs-keyword">return</span>Â wrapper  
Â  Â  <span class="hljs-keyword">return</span>Â decorator  
  
<span class="hljs-meta">@cache_decorator(<span class="hljs-params">ttl=<span class="hljs-number">3600</span></span>)  </span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">rag_query</span>(<span class="hljs-params">query:Â <span class="hljs-built_in">str</span></span>):  
Â  Â  <span class="hljs-keyword">return</span>Â qa_chain({<span class="hljs-string">"query"</span>: query})
</code></pre>
<p><strong>å¹¶å‘æ§åˆ¶</strong>é˜²æ­¢ç³»ç»Ÿè¿‡è½½ã€‚åœ¨Difyä¸­é…ç½®APIè¯·æ±‚é™æµï¼ˆé€šè¿‡"è®¾ç½®â†’å®‰å…¨"ï¼‰ï¼Œæ¨èå€¼ä¸ºæ™®é€šç”¨æˆ·5 QPSï¼Œç®¡ç†å‘˜10 QPSã€‚LangChainæœåŠ¡ç«¯ä½¿ç”¨FastAPIçš„é™æµä¸­é—´ä»¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># FastAPIé™æµé…ç½®  </span>
<span class="hljs-keyword">from</span>Â fastapiÂ <span class="hljs-keyword">import</span>Â FastAPI, Request, HTTPException  
<span class="hljs-keyword">from</span>Â fastapi.middleware.corsÂ <span class="hljs-keyword">import</span>Â CORSMiddleware  
<span class="hljs-keyword">from</span>Â slowapiÂ <span class="hljs-keyword">import</span>Â Limiter, _rate_limit_exceeded_handler  
<span class="hljs-keyword">from</span>Â slowapi.utilÂ <span class="hljs-keyword">import</span>Â get_remote_address  
<span class="hljs-keyword">from</span>Â slowapi.errorsÂ <span class="hljs-keyword">import</span>Â RateLimitExceeded  
  
limiter = Limiter(key_func=get_remote_address)  
app = FastAPI()  
app.state.limiter = limiter  
app.add_exception_handler(RateLimitExceeded, _rate_limit_exceeded_handler)  
  
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/process"</span></span>)  </span>
<span class="hljs-meta">@limiter.limit(<span class="hljs-params"><span class="hljs-string">"10/minute"</span></span>)  </span>
<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_query</span>(<span class="hljs-params">request: Request, query: QueryRequest</span>):  
Â  Â  <span class="hljs-comment"># å¤„ç†è¯·æ±‚é€»è¾‘</span>
</code></pre>
<p><strong>ç›‘æ§ä¸è°ƒä¼˜</strong>æ˜¯æŒç»­ä¼˜åŒ–çš„åŸºç¡€ã€‚é›†æˆPrometheuså’ŒGrafanaç›‘æ§å…³é”®æŒ‡æ ‡ï¼šAPIå“åº”æ—¶é—´ï¼ˆç›®æ ‡P99&lt;1ç§’ï¼‰ã€æ£€ç´¢å‡†ç¡®ç‡ï¼ˆé€šè¿‡ç”¨æˆ·åé¦ˆæ”¶é›†ï¼‰ã€ç¼“å­˜å‘½ä¸­ç‡ï¼ˆç›®æ ‡&gt;80%ï¼‰ã€‚å®šæœŸåˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œä¼˜åŒ–åˆ†å—ç­–ç•¥å’Œæç¤ºè¯æ¨¡æ¿ã€‚</p>
<h2 data-id="heading-5">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>é›†æˆè¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…å¸¸é‡åˆ°ä»¥ä¸‹æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æä¾›ç»è¿‡éªŒè¯çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<p><strong>ä¾èµ–å†²çª</strong>æ˜¯æœ€å¸¸è§çš„é—®é¢˜ã€‚å½“Difyå’ŒLangChainå¯¹åŒä¸€ä¾èµ–åº“æœ‰ä¸åŒç‰ˆæœ¬è¦æ±‚æ—¶ï¼ˆå¦‚pydanticï¼‰ï¼Œä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»å¹¶åˆ›å»ºÂ <code>requirements.txt</code>Â é”å®šç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># requirements.txtï¼ˆé€‚é…Dify 1.9.1å’ŒLangChain v1.0ï¼‰  </span>
<span class="hljs-attr">dify-client</span>==<span class="hljs-number">1.9</span>.<span class="hljs-number">1</span>  
<span class="hljs-attr">langchain</span>==<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span>  
<span class="hljs-attr">python-dotenv</span>==<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span>  
<span class="hljs-attr">pydantic</span>==<span class="hljs-number">2.5</span>.<span class="hljs-number">2</span>  
<span class="hljs-attr">fastapi</span>==<span class="hljs-number">0.104</span>.<span class="hljs-number">1</span>  
<span class="hljs-attr">uvicorn</span>==<span class="hljs-number">0.24</span>.<span class="hljs-number">0</span>  
<span class="hljs-attr">redis</span>==<span class="hljs-number">4.6</span>.<span class="hljs-number">0</span>  
<span class="hljs-attr">faiss-cpu</span>==<span class="hljs-number">1.7</span>.<span class="hljs-number">4</span>
</code></pre>
<p>å¤„ç†æ–¹æ³•ï¼šåˆ é™¤ç°æœ‰ç¯å¢ƒï¼Œé‡æ–°åˆ›å»ºå¹¶å®‰è£…é”å®šç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span>Â -rf dify-env  
python -m venv dify-env  
<span class="hljs-built_in">source</span>Â dify-env/bin/activate  
pip install -r requirements.txt
</code></pre>
<p><strong>APIè°ƒç”¨å¤±è´¥</strong>æ’æŸ¥æ­¥éª¤ï¼šé¦–å…ˆæ£€æŸ¥Difyçš„APIå¯†é’¥æ˜¯å¦å…·æœ‰æ­£ç¡®æƒé™ï¼Œå…¶æ¬¡éªŒè¯ç½‘ç»œè¿æ¥ï¼ˆç‰¹åˆ«æ˜¯ç§æœ‰åŒ–éƒ¨ç½²æ—¶çš„é˜²ç«å¢™è®¾ç½®ï¼‰ï¼Œæœ€åæŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ã€‚Difyçš„"æ—¥å¿—"é¡µé¢æä¾›å·¥å…·è°ƒç”¨çš„å®Œæ•´è®°å½•ï¼ŒåŒ…æ‹¬è¯·æ±‚å‚æ•°å’Œå“åº”å†…å®¹ã€‚</p>
<p><strong>æ€§èƒ½ç“¶é¢ˆ</strong>è¯Šæ–­æµç¨‹ï¼šä½¿ç”¨LangChainçš„ tracing åŠŸèƒ½è¯†åˆ«æ…¢ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¯ç”¨LangChainè¿½è¸ª  </span>
importÂ langchain  
<span class="hljs-attr">langchain.verbose</span> =Â <span class="hljs-literal">True</span>  
<span class="hljs-attr">langchain.debug</span> =Â <span class="hljs-literal">True</span>  
  
<span class="hljs-comment"># æˆ–ä½¿ç”¨LangSmith  </span>
os.environ<span class="hljs-section">["LANGCHAIN_TRACING_V2"]</span> =Â "true"  
os.environ<span class="hljs-section">["LANGCHAIN_API_KEY"]</span> =Â "your_langsmith_key"  
os.environ<span class="hljs-section">["LANGCHAIN_PROJECT"]</span> =Â "dify-integration"
</code></pre>
<p><strong>å®‰å…¨é—®é¢˜</strong>ä¸å¯å¿½è§†ã€‚ç¡®ä¿æ‰€æœ‰APIå¯†é’¥é€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’ï¼Œä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ã€‚Difyç§æœ‰åŒ–éƒ¨ç½²æ—¶ï¼Œå¯ç”¨HTTPSå¹¶é…ç½®IPç™½åå•ï¼Œé™åˆ¶ç®¡ç†æ¥å£è®¿é—®ã€‚LangChainå·¥å…·è°ƒç”¨ä½¿ç”¨æ²™ç®±ç¯å¢ƒï¼Œç‰¹åˆ«æ˜¯ä»£ç æ‰§è¡Œç±»å·¥å…·ã€‚</p>
<h2 data-id="heading-6">æœªæ¥å±•æœ›ä¸è¿›é˜¶æ–¹å‘</h2>
<p>Difyä¸LangChainçš„é›†æˆæŠ€æœ¯æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œä»¥ä¸‹è¶‹åŠ¿å€¼å¾—å…³æ³¨ï¼š</p>
<p><strong>å¤šæ¨¡æ€èƒ½åŠ›</strong>å°†æˆä¸ºä¸‹ä¸€ä»£åº”ç”¨çš„æ ‡é…ã€‚Difyå·²æ”¯æŒå›¾åƒå’Œè¯­éŸ³è¾“å…¥ï¼Œç»“åˆLangChainçš„å¤šæ¨¡æ€æ¨¡å‹è°ƒç”¨ï¼Œå¯æ„å»ºæ›´è‡ªç„¶çš„äº¤äº’ä½“éªŒã€‚ä¾‹å¦‚ï¼Œé›¶å”®åœºæ™¯ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ å•†å“å›¾ç‰‡å³å¯è·å–ä»·æ ¼å¯¹æ¯”å’Œè´­ä¹°å»ºè®®ã€‚</p>
<p><strong>æ™ºèƒ½ä½“åä½œ</strong>ç³»ç»Ÿè§£å†³å¤æ‚ä»»åŠ¡ã€‚é€šè¿‡Difyç¼–æ’å¤šä¸ªLangChainæ™ºèƒ½ä½“ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“ä¸“æ³¨äºç‰¹å®šé¢†åŸŸï¼ˆå¦‚æ³•å¾‹ã€è´¢åŠ¡ã€æŠ€æœ¯æ”¯æŒï¼‰ï¼Œå®ç°é—®é¢˜çš„åˆ†å¸ƒå¼è§£å†³ã€‚æŸå’¨è¯¢å…¬å¸å·²ç”¨æ­¤æ¶æ„å°†é¡¹ç›®ææ¡ˆç”Ÿæˆæ—¶é—´ä»3å¤©ç¼©çŸ­è‡³4å°æ—¶ã€‚</p>
<p><strong>LLMOpså®è·µ</strong>è‡ªåŠ¨åŒ–æ¨¡å‹ä¼˜åŒ–ã€‚Difyçš„æ ‡æ³¨åŠŸèƒ½ç»“åˆLangChainçš„è¯„ä¼°æ¡†æ¶ï¼Œå½¢æˆ"æ•°æ®æ”¶é›†â†’æ¨¡å‹å¾®è°ƒâ†’æ•ˆæœè¯„ä¼°"çš„é—­ç¯ã€‚ä¼ä¸šå¯é€šè¿‡ç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–ç§æœ‰æ¨¡å‹ï¼Œä½¿å›ç­”å‡†ç¡®ç‡æ¯æœˆæå‡5-8%ã€‚</p>
<p><strong>è¾¹ç¼˜è®¡ç®—éƒ¨ç½²</strong>æ‹“å±•åº”ç”¨åœºæ™¯ã€‚éšç€æ¨¡å‹å°å‹åŒ–æŠ€æœ¯çš„å‘å±•ï¼ŒDifyä¸LangChainçš„è½»é‡ç‰ˆæœ¬å¯éƒ¨ç½²åœ¨è¾¹ç¼˜è®¾å¤‡ï¼Œå¦‚å·¥å‚çš„å·¥ä¸šå¹³æ¿æˆ–åŒ»ç–—ç°åœºçš„ç§»åŠ¨ç»ˆç«¯ï¼Œå®ç°ä½å»¶è¿Ÿã€é«˜éšç§çš„AIåº”ç”¨ã€‚</p>
<p>è¿›é˜¶å­¦ä¹ è·¯å¾„å»ºè®®ï¼šæŒæ¡LangGraphæ„å»ºçŠ¶æ€ç®¡ç†çš„å¤æ‚å·¥ä½œæµï¼Œå­¦ä¹ Difyçš„æ’ä»¶å¼€å‘æ‰©å±•ç³»ç»Ÿèƒ½åŠ›ï¼Œç ”ç©¶RAGä¸å¾®è°ƒç»“åˆçš„çŸ¥è¯†æ³¨å…¥æŠ€æœ¯ã€‚é€šè¿‡å‚ä¸å¼€æºç¤¾åŒºï¼ˆDifyåœ¨GitHubå·²æœ‰4.4ä¸‡æ˜Ÿæ ‡ï¼‰ï¼Œè·Ÿè¸ªæœ€æ–°æŠ€æœ¯åŠ¨æ€å’Œæœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-7">ç»“è¯­ï¼šé‡Šæ”¾AIç”Ÿäº§åŠ›çš„æ— é™å¯èƒ½</h2>
<p>Difyä¸LangChain v1.0çš„é›†æˆï¼Œä»£è¡¨äº†AIåº”ç”¨å¼€å‘çš„æ–°èŒƒå¼â€”â€”æ— éœ€åœ¨æ˜“ç”¨æ€§å’Œçµæ´»æ€§ä¹‹é—´å¦¥åã€‚é€šè¿‡æœ¬æ–‡ä»‹ç»çš„äº”ä¸ªæ­¥éª¤ï¼Œæ‚¨å·²ç»æŒæ¡äº†æ„å»ºä¼ä¸šçº§RAGåº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ï¼šä»Difyçš„å¯è§†åŒ–å·¥ä½œæµè®¾è®¡ï¼Œåˆ°LangChainçš„é«˜çº§æ£€ç´¢å®ç°ï¼›ä»æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ç­–ç•¥ï¼Œåˆ°å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™å°†è¿™äº›çŸ¥è¯†åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­äº†ã€‚æ— è®ºæ‚¨æ˜¯å¸Œæœ›æå‡å®¢æœæ•ˆç‡ã€ä¼˜åŒ–å†…éƒ¨çŸ¥è¯†åº“ï¼Œè¿˜æ˜¯æ„å»ºå…¨æ–°çš„AIäº§å“ï¼ŒDifyä¸LangChainçš„ç»„åˆéƒ½èƒ½ä¸ºæ‚¨æä¾›å¼ºå¤§çš„æŠ€æœ¯æ”¯æ’‘ã€‚è®°ä½ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯åŠ¨æ‰‹å®è·µâ€”â€”å¼€å§‹æ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªé›†æˆåº”ç”¨ï¼Œä½“éªŒAIç”Ÿäº§åŠ›çš„é©å‘½æ€§æå‡ï¼</p>
<h2 data-id="heading-8">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ç”¨Traeç”Ÿæˆäº†ä¸€ä¸ªEcharts 3DæŸ±çŠ¶å›¾çš„Demo]]></title>    <link>https://juejin.cn/post/7574045294611529763</link>    <guid>https://juejin.cn/post/7574045294611529763</guid>    <pubDate>2025-11-19T07:48:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574045294611529763" data-draft-id="7573995798603759631" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ç”¨Traeç”Ÿæˆäº†ä¸€ä¸ªEcharts 3DæŸ±çŠ¶å›¾çš„Demo"/> <meta itemprop="keywords" content="Trae,å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-19T07:48:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰‘ä¸€"/> <meta itemprop="url" content="https://juejin.cn/user/4147782344247918"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ç”¨Traeç”Ÿæˆäº†ä¸€ä¸ªEcharts 3DæŸ±çŠ¶å›¾çš„Demo
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4147782344247918/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰‘ä¸€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:48:33.000Z" title="Wed Nov 19 2025 07:48:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨å¼€å‘ä¸ªäººçš„å¤§å±é¡¹ç›®ï¼Œä½œä¸ºç®€å†çš„ä¸€éƒ¨åˆ†æ‰¾å·¥ä½œçš„æ—¶å€™æ‹¿å‡ºæ¥æ’‘æ’‘é—¨é¢ã€‚</p>
<p>å¯¹äºå‰ç«¯è€Œè¨€ï¼Œæœ€éš¾çš„å¹¶ä¸æ˜¯æŠ€æœ¯éƒ¨åˆ†ï¼Œè€Œæ˜¯ UI éƒ¨åˆ†ï¼Œæ¯•ç«Ÿå‰ç«¯å¤§éƒ¨åˆ†æ—¶å€™åªæ˜¯<strong>åˆ‡å›¾ä»”</strong>ï¼Œè€Œä¸æ˜¯<strong>è®¾è®¡å¸ˆ</strong>ã€‚</p>
<p>ä½†æ˜¯æˆ‘ç°åœ¨æ‰¾åˆ°äº†ä¸€ä¸ªæ–°çš„æ–¹æ¡ˆï¼Œç”¨ AI å·¥å…·ã€‚æ¯”å¦‚æˆ‘ç°åœ¨ç”¨çš„ Traeï¼Œå¤§é¢ä¸Šçš„æ¡†æ¶è¿˜æ˜¯å»ºè®®ä¸ªäººå†™ï¼Œæ¯•ç«ŸAIè™½ç„¶æ™ºèƒ½ï¼Œä½†ä¸ªäººæ‰æ˜¯ä»£ç çš„æœ€ç»ˆæŠŠæ§è€…ã€‚</p>
<p>Echartså®˜ç½‘ä¸Šæ‰¾äº†æ‰¾å…³äºæŸ±çŠ¶å›¾çš„å†…å®¹ï¼Œæ— æ³•è¾¾åˆ°ä»¥ä¸‹çš„æ•ˆæœï¼Œåœ¨ç½‘ä¸Šæœäº†æœï¼Œå‘ç°ä¹Ÿæ²¡æœ‰ç±»ä¼¼çš„æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bde63c4c5834c99a0d2360c6fddd150~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5YmR5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143313&amp;x-signature=LuG6e9hkMpMdrVcjmy2wiebQ4DI%3D" alt="image.png" loading="lazy"/></p>
<p>äºæ˜¯ç”¨ Trae ç®€å•å†™äº†ä¸€ä¸ªæŒ‡ä»¤ï¼š</p>
<p><strong>è¯·å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªEchartsæŸ±çŠ¶å›¾ç»„ä»¶ï¼Œå†…å®¹æ˜¯ä¸€ä¸ªæŸ±çŠ¶å›¾ï¼Œä½†æ˜¯æŸ±å­æ˜¾ç°å‡ºä¸€ç§3Dæ•ˆæœã€‚åˆ†åˆ«ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼ŒæŸ±å­çš„é¡¶ç«¯æ˜¯ä¸€ä¸ªå››è¾¹å½¢ï¼Œå·¦å³ä¸¤ä¾§å„æ˜¯ä¸€ä¸ªæ¸å˜çš„å››è¾¹å½¢ï¼Œä¸‰ä¸ªå›¾å½¢ç»„æˆä¸€ä¸ªä¾§è§†å›¾çš„3DæŸ±å­æ•ˆæœã€‚</strong></p>
<p>Traeè¡¨ç¤ºè¿™ç§æ•ˆæœåœ¨æŸ±çŠ¶å›¾ä¸­ä¸å­˜åœ¨ï¼Œæ¨èä½¿ç”¨Echartsçš„<code>custom</code>è‡ªè¡Œå¼€å‘ï¼Œå¹¶ç»™å‡ºäº†ç›¸åº”çš„å¼€å‘é€»è¾‘ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å…ˆç”ŸæˆæŸ±å­æ•ˆæœ</span>
<span class="hljs-comment">// ç»˜åˆ¶å·¦ä¾§é¢</span>
<span class="hljs-keyword">const</span> barLeft = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
    <span class="hljs-attr">shape</span>: {
        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
    },
    <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
        <span class="hljs-keyword">const</span> xAxisPoint = shape.<span class="hljs-property">xAxisPoint</span>;
        <span class="hljs-keyword">const</span> c0 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span>];
        <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">7</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">const</span> c2 = [xAxisPoint[<span class="hljs-number">0</span>] - <span class="hljs-number">7</span>, xAxisPoint[<span class="hljs-number">1</span>] - <span class="hljs-number">3</span>];
        <span class="hljs-keyword">const</span> c3 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">2</span>, xAxisPoint[<span class="hljs-number">1</span>]];
        ctx
            .<span class="hljs-title function_">moveTo</span>(c0[<span class="hljs-number">0</span>], c0[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">closePath</span>();
    },
});
<span class="hljs-comment">// ç»˜åˆ¶å³ä¾§é¢</span>
<span class="hljs-keyword">const</span> barRight = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
    <span class="hljs-attr">shape</span>: {
        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
    },
    <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
        <span class="hljs-keyword">const</span> xAxisPoint = shape.<span class="hljs-property">xAxisPoint</span>;
        <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span>];
        <span class="hljs-keyword">const</span> c2 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">2</span>, xAxisPoint[<span class="hljs-number">1</span>]];
        <span class="hljs-keyword">const</span> c3 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">10</span>, xAxisPoint[<span class="hljs-number">1</span>] - <span class="hljs-number">5</span>];
        <span class="hljs-keyword">const</span> c4 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">10</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">5</span>];
        ctx
            .<span class="hljs-title function_">moveTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c4[<span class="hljs-number">0</span>], c4[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">closePath</span>();
    },
});
<span class="hljs-comment">// ç»˜åˆ¶é¡¶é¢</span>
<span class="hljs-keyword">const</span> barTop = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
    <span class="hljs-attr">shape</span>: {
        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
    },
    <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
        <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span> + <span class="hljs-number">3</span>];
        <span class="hljs-keyword">const</span> c2 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">10</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">5</span>]; <span class="hljs-comment">//å³ç‚¹</span>
        <span class="hljs-keyword">const</span> c3 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">0</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">7</span>];
        <span class="hljs-keyword">const</span> c4 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">7</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">1</span>];
        ctx
            .<span class="hljs-title function_">moveTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">lineTo</span>(c4[<span class="hljs-number">0</span>], c4[<span class="hljs-number">1</span>])
            .<span class="hljs-title function_">closePath</span>();
    },
});
</code></pre>
<p>å°†æ¸²æŸ“å®Œæˆçš„é¢æ³¨å†Œåˆ°Echartsä¸­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ³¨å†Œä¸‰ä¸ªé¢å›¾å½¢</span>
echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barLeft"</span>, barLeft);
echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barRight"</span>, barRight);
echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barTop"</span>, barTop);
</code></pre>
<p>åº”ç”¨å·²ç»æ³¨å†Œå¥½çš„é¢ï¼Œç”ŸæˆEchartsæŸ±çŠ¶å›¾ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">series</span>: [
    {
        <span class="hljs-attr">type</span>: <span class="hljs-string">"custom"</span>,
        <span class="hljs-attr">renderItem</span>: <span class="hljs-function">(<span class="hljs-params">params, api</span>) =&gt;</span> {
            <span class="hljs-keyword">let</span> barLeftStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.8)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.6)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.8</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.3)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(0,0,0,0.2)"</span>},
            ]);
            <span class="hljs-keyword">let</span> barRightStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255,1)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255, 0.6)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.8</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255, 0.3)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(0,0,0,0.2)"</span>},
            ]);
            <span class="hljs-keyword">let</span> barTopStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 1)"</span>},
                {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 1)"</span>},
            ]);
    },
],
</code></pre>
<h4 data-id="heading-0">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">createCharts</span> = (<span class="hljs-params">data</span>) =&gt; {
    <span class="hljs-keyword">const</span> myChart = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'firstCharts'</span>));
    <span class="hljs-comment">// ç»˜åˆ¶å·¦ä¾§é¢</span>
    <span class="hljs-keyword">const</span> barLeft = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
        <span class="hljs-attr">shape</span>: {
            <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
        },
        <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
            <span class="hljs-keyword">const</span> xAxisPoint = shape.<span class="hljs-property">xAxisPoint</span>;
            <span class="hljs-keyword">const</span> c0 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span>];
            <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">7</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">const</span> c2 = [xAxisPoint[<span class="hljs-number">0</span>] - <span class="hljs-number">7</span>, xAxisPoint[<span class="hljs-number">1</span>] - <span class="hljs-number">3</span>];
            <span class="hljs-keyword">const</span> c3 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">2</span>, xAxisPoint[<span class="hljs-number">1</span>]];
            ctx
                .<span class="hljs-title function_">moveTo</span>(c0[<span class="hljs-number">0</span>], c0[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">closePath</span>();
        },
    });
    <span class="hljs-comment">// ç»˜åˆ¶å³ä¾§é¢</span>
    <span class="hljs-keyword">const</span> barRight = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
        <span class="hljs-attr">shape</span>: {
            <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
        },
        <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
            <span class="hljs-keyword">const</span> xAxisPoint = shape.<span class="hljs-property">xAxisPoint</span>;
            <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span>];
            <span class="hljs-keyword">const</span> c2 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">2</span>, xAxisPoint[<span class="hljs-number">1</span>]];
            <span class="hljs-keyword">const</span> c3 = [xAxisPoint[<span class="hljs-number">0</span>] + <span class="hljs-number">10</span>, xAxisPoint[<span class="hljs-number">1</span>] - <span class="hljs-number">5</span>];
            <span class="hljs-keyword">const</span> c4 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">10</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">5</span>];
            ctx
                .<span class="hljs-title function_">moveTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c4[<span class="hljs-number">0</span>], c4[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">closePath</span>();
        },
    });
    <span class="hljs-comment">// ç»˜åˆ¶é¡¶é¢</span>
    <span class="hljs-keyword">const</span> barTop = echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">extendShape</span>({
        <span class="hljs-attr">shape</span>: {
            <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,
        },
        <span class="hljs-attr">buildPath</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ctx, shape</span>) {
            <span class="hljs-keyword">const</span> c1 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">2</span>, shape.<span class="hljs-property">y</span> + <span class="hljs-number">3</span>];
            <span class="hljs-keyword">const</span> c2 = [shape.<span class="hljs-property">x</span> + <span class="hljs-number">10</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">5</span>]; <span class="hljs-comment">//å³ç‚¹</span>
            <span class="hljs-keyword">const</span> c3 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">0</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">7</span>];
            <span class="hljs-keyword">const</span> c4 = [shape.<span class="hljs-property">x</span> - <span class="hljs-number">7</span>, shape.<span class="hljs-property">y</span> - <span class="hljs-number">1</span>];
            ctx
                .<span class="hljs-title function_">moveTo</span>(c1[<span class="hljs-number">0</span>], c1[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c2[<span class="hljs-number">0</span>], c2[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c3[<span class="hljs-number">0</span>], c3[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">lineTo</span>(c4[<span class="hljs-number">0</span>], c4[<span class="hljs-number">1</span>])
                .<span class="hljs-title function_">closePath</span>();
        },
    });
    <span class="hljs-comment">// æ³¨å†Œä¸‰ä¸ªé¢å›¾å½¢</span>
    echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barLeft"</span>, barLeft);
    echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barRight"</span>, barRight);
    echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title function_">registerShape</span>(<span class="hljs-string">"barTop"</span>, barTop);
    <span class="hljs-keyword">let</span> option = {
        <span class="hljs-attr">tooltip</span>: {
            <span class="hljs-attr">trigger</span>: <span class="hljs-string">"axis"</span>,
            <span class="hljs-attr">formatter</span>: <span class="hljs-string">'&lt;b&gt;{b}&lt;/b&gt; &lt;br/&gt; å»ºè®¾å®Œæˆåº¦: &lt;b style="color: #2AB6FF"&gt;{c}%&lt;/b&gt;'</span>
        },
        <span class="hljs-attr">grid</span>: {
            <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>,
            <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
            <span class="hljs-attr">containLabel</span>: <span class="hljs-literal">true</span>,
        },
        <span class="hljs-attr">xAxis</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">"category"</span>,
            <span class="hljs-attr">data</span>: data.<span class="hljs-property">name</span>,
            <span class="hljs-attr">axisLine</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">lineStyle</span>: {
                    <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(255,255,255,0.5)"</span>,
                },
            },
            <span class="hljs-attr">axisLabel</span>: {
                <span class="hljs-attr">interval</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">textStyle</span>: {
                    <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(255,255,255,0.5)"</span>,
                },
            },
            <span class="hljs-attr">axisTick</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,
            }
        },
        <span class="hljs-attr">yAxis</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">"value"</span>,
            <span class="hljs-attr">axisLine</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">lineStyle</span>: {
                    <span class="hljs-attr">color</span>: <span class="hljs-string">"#7ebaf2"</span>,
                },
            },
            <span class="hljs-attr">splitLine</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,
            },
            <span class="hljs-attr">axisTick</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,
            },
            <span class="hljs-attr">splitNumber</span>: <span class="hljs-number">4</span>,
            <span class="hljs-attr">axisLabel</span>: {
                <span class="hljs-attr">fontSize</span>: <span class="hljs-number">12</span>,
                <span class="hljs-attr">textStyle</span>: {
                    <span class="hljs-attr">color</span>: <span class="hljs-string">"#FFF"</span>,
                },
            },
        },
        <span class="hljs-attr">series</span>: [
            {
                <span class="hljs-attr">type</span>: <span class="hljs-string">"custom"</span>,
                <span class="hljs-attr">renderItem</span>: <span class="hljs-function">(<span class="hljs-params">params, api</span>) =&gt;</span> {
                    <span class="hljs-keyword">let</span> barLeftStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.8)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.6)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.8</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 0.3)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(0,0,0,0.2)"</span>},
                    ]);
                    <span class="hljs-keyword">let</span> barRightStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255,1)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255, 0.6)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0.8</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(23,176,255, 0.3)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(0,0,0,0.2)"</span>},
                    ]);
                    <span class="hljs-keyword">let</span> barTopStyle = <span class="hljs-keyword">new</span> echarts.<span class="hljs-property">graphic</span>.<span class="hljs-title class_">LinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, [
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 1)"</span>},
                        {<span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(27, 126, 242, 1)"</span>},
                    ]);
                    <span class="hljs-keyword">const</span> location = api.<span class="hljs-title function_">coord</span>([api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>), api.<span class="hljs-title function_">value</span>(<span class="hljs-number">1</span>)]);
                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">"group"</span>,
                        <span class="hljs-attr">children</span>: [
                            {
                                <span class="hljs-attr">type</span>: <span class="hljs-string">"barLeft"</span>,
                                <span class="hljs-attr">shape</span>: {
                                    api,
                                    <span class="hljs-attr">xValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>),
                                    <span class="hljs-attr">yValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">1</span>),
                                    <span class="hljs-attr">x</span>: location[<span class="hljs-number">0</span>],
                                    <span class="hljs-attr">y</span>: location[<span class="hljs-number">1</span>],
                                    <span class="hljs-attr">xAxisPoint</span>: api.<span class="hljs-title function_">coord</span>([api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>), <span class="hljs-number">0</span>]),
                                },
                                <span class="hljs-attr">style</span>: {
                                    <span class="hljs-attr">fill</span>: barLeftStyle,
                                },
                            },
                            {
                                <span class="hljs-attr">type</span>: <span class="hljs-string">"barRight"</span>,
                                <span class="hljs-attr">shape</span>: {
                                    api,
                                    <span class="hljs-attr">xValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>),
                                    <span class="hljs-attr">yValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">1</span>),
                                    <span class="hljs-attr">x</span>: location[<span class="hljs-number">0</span>],
                                    <span class="hljs-attr">y</span>: location[<span class="hljs-number">1</span>],
                                    <span class="hljs-attr">xAxisPoint</span>: api.<span class="hljs-title function_">coord</span>([api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>), <span class="hljs-number">0</span>]),
                                },
                                <span class="hljs-attr">style</span>: {
                                    <span class="hljs-attr">fill</span>: barRightStyle,
                                },
                            },
                            {
                                <span class="hljs-attr">type</span>: <span class="hljs-string">"barTop"</span>,
                                <span class="hljs-attr">shape</span>: {
                                    api,
                                    <span class="hljs-attr">xValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>),
                                    <span class="hljs-attr">yValue</span>: api.<span class="hljs-title function_">value</span>(<span class="hljs-number">1</span>),
                                    <span class="hljs-attr">x</span>: location[<span class="hljs-number">0</span>],
                                    <span class="hljs-attr">y</span>: location[<span class="hljs-number">1</span>],
                                    <span class="hljs-attr">xAxisPoint</span>: api.<span class="hljs-title function_">coord</span>([api.<span class="hljs-title function_">value</span>(<span class="hljs-number">0</span>), <span class="hljs-number">0</span>]),
                                },
                                <span class="hljs-attr">style</span>: {
                                    <span class="hljs-attr">fill</span>: barTopStyle,
                                },
                            },
                        ],
                    };
                },
                <span class="hljs-attr">data</span>: data.<span class="hljs-property">value</span>,
            },
        ],
        <span class="hljs-attr">animation</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">animationDuration</span>: <span class="hljs-number">1000</span>
    };
    myChart.<span class="hljs-title function_">setOption</span>(option);
};
</code></pre>
<p><strong>Ps:</strong> å…¶ä»–ä¸æ˜ä¹‹å¤„å¯ä»¥å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fecharts.apache.org%2Fzh%2Foption.html%23series-custom.type" target="_blank" title="https://echarts.apache.org/zh/option.html#series-custom.type" ref="nofollow noopener noreferrer">Echartså®˜æ–¹æ–‡æ¡£ custom ç¯‡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS ç›¸å¯¹é¢œè‰²ï¼šå‘Šåˆ« 180 ä¸ªé¢œè‰²å˜é‡çš„è®¾è®¡ç³»ç»Ÿå™©æ¢¦]]></title>    <link>https://juejin.cn/post/7574045294611546147</link>    <guid>https://juejin.cn/post/7574045294611546147</guid>    <pubDate>2025-11-19T07:51:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574045294611546147" data-draft-id="7574245788948283407" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS ç›¸å¯¹é¢œè‰²ï¼šå‘Šåˆ« 180 ä¸ªé¢œè‰²å˜é‡çš„è®¾è®¡ç³»ç»Ÿå™©æ¢¦"/> <meta itemprop="keywords" content="CSS,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T07:51:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§çŸ¥é—²é—²i"/> <meta itemprop="url" content="https://juejin.cn/user/3799545205237111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS ç›¸å¯¹é¢œè‰²ï¼šå‘Šåˆ« 180 ä¸ªé¢œè‰²å˜é‡çš„è®¾è®¡ç³»ç»Ÿå™©æ¢¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3799545205237111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§çŸ¥é—²é—²i
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:51:30.000Z" title="Wed Nov 19 2025 07:51:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ç»„ä»¶åº“ä¸­çš„é¢œè‰²å˜é‡è¾¾åˆ° 180 ä¸ªæ—¶ï¼Œä¸€æ¬¡å“ç‰Œè‰²å˜æ›´å°±æˆäº†å‰ç«¯å¼€å‘çš„å™©æ¢¦ã€‚CSS ç›¸å¯¹é¢œè‰²è¯­æ³•å°†å½»åº•æ”¹å˜è¿™ä¸€ç°çŠ¶ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ä¸ªè®©äººæ²‰é»˜çš„ç°å®</h2>
<p>æœ€è¿‘åœ¨æ’æŸ¥ä¸€ä¸ªç»„ä»¶åº“çš„ä¸»é¢˜ BUG æ—¶ï¼Œæˆ‘ä»¬å‘ç°äº†ä»¤äººéœ‡æƒŠçš„äº‹å®ï¼šè¿™ä¸ªçœ‹ä¼¼æˆç†Ÿçš„è®¾è®¡ç³»ç»Ÿä¸­ï¼Œç«Ÿç„¶å®šä¹‰äº† <strong>180 ä¸ªé¢œè‰²å˜é‡</strong>ã€‚</p>
<p>æ›´å¯æ€•çš„æ˜¯ï¼Œæ¯æ¬¡å“ç‰Œä¸»è‰²è°ƒæ•´ï¼Œéƒ½éœ€è¦åœ¨ 3 ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­åŒæ­¥ä¿®æ”¹ 15 ç§æ·±æµ…å˜åŒ–ã€hover çŠ¶æ€ã€é€æ˜åº¦å˜ä½“â€¦â€¦è®¾è®¡åŒå­¦è½»ææ·¡å†™çš„ä¸€å¥"ä¸»è‰²æƒ³ä»åè“è°ƒæˆæ›´ç´«ä¸€ç‚¹"ï¼Œæ„å‘³ç€å·¥ç¨‹ä¾§éœ€è¦ï¼š</p>
<ul>
<li>
<p>æ‰‹åŠ¨ä¿®æ”¹ 15+ ä¸ªå˜é‡</p>
</li>
<li>
<p>åå¤å¯¹æ¯” hoverã€active çŠ¶æ€æ˜¯å¦åè°ƒ</p>
</li>
<li>
<p>ä»”ç»†æ£€æŸ¥åŠé€æ˜èƒŒæ™¯æ˜¯å¦æ¼æ”¹</p>
</li>
<li>
<p>ç¡®ä¿æ•´ä¸ªé¢œè‰²ä½“ç³»ä¿æŒå’Œè°</p>
</li>
</ul>
<p>æ¼æ”¹ä¸€ä¸ªå˜é‡ï¼Œhover çŠ¶æ€æ˜¾å¾—æ€ªå¼‚ï¼›æ¼æ”¹ä¸¤ä¸ªï¼Œæ•´å¥—ä¸»é¢˜å°±å¼€å§‹"å‘è„"ã€‚</p>
<h2 data-id="heading-1">ä¼ ç»Ÿé¢œè‰²ç³»ç»Ÿçš„å›°å¢ƒ</h2>
<p>å½“å‰ç»å¤§å¤šæ•°è®¾è®¡ç³»ç»Ÿçš„é…è‰²æ–¹æ¡ˆå¯ä»¥æ¦‚æ‹¬ä¸ºï¼š<strong>é äººè‚‰å¤åˆ¶çš„"é¢œè‰²å†œåœº"</strong>ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* ä¸»è‰²ç³» */</span>
  <span class="hljs-attr">--color-primary</span>: <span class="hljs-number">#3b82f6</span>;
  <span class="hljs-attr">--color-primary-hover</span>: <span class="hljs-number">#2563eb</span>;
  <span class="hljs-attr">--color-primary-active</span>: <span class="hljs-number">#1d4ed8</span>;
  <span class="hljs-attr">--color-primary-light</span>: <span class="hljs-number">#93c5fd</span>;
  <span class="hljs-attr">--color-primary-dark</span>: <span class="hljs-number">#1e40af</span>;
  
  <span class="hljs-comment">/* è¾…åŠ©è‰²ç³» */</span>
  <span class="hljs-attr">--color-secondary</span>: <span class="hljs-number">#8b5cf6</span>;
  <span class="hljs-attr">--color-secondary-hover</span>: <span class="hljs-number">#7c3aed</span>;
  <span class="hljs-attr">--color-secondary-active</span>: <span class="hljs-number">#6d28d9</span>;
  
  <span class="hljs-comment">/* ç»§ç»­è¡ç”Ÿ... */</span>
}
</code></pre>
<p>è¿™ç§æ¨¡å¼çš„ç—›ç‚¹æ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li>
<p><strong>ç»´æŠ¤æˆæœ¬é«˜</strong>ï¼šä¸€ä¸ªä¸»è‰²ç³»éœ€è¦åå‡ äºŒåä¸ªå˜é‡</p>
</li>
<li>
<p><strong>åŒæ­¥å›°éš¾</strong>ï¼šå¤šå¤„å®šä¹‰çš„å˜é‡å®¹æ˜“é—æ¼</p>
</li>
<li>
<p><strong>ä¸å¯é </strong>ï¼šæ‰‹åŠ¨è°ƒè‰²ä¾èµ–ä¸ªäººæ„Ÿè§‰ï¼Œç¼ºä¹ç³»ç»Ÿæ€§</p>
</li>
</ul>
<h2 data-id="heading-2">CSS ç›¸å¯¹é¢œè‰²ï¼šé©å‘½æ€§çš„è§£å†³æ–¹æ¡ˆ</h2>
<p>CSS ç›¸å¯¹é¢œè‰²è¯­æ³•å¼•å…¥çš„ <code>from</code> å…³é”®å­—ï¼Œè®©é¢œè‰²ä»"æ­»å€¼"å˜æˆ"æ´»å…¬å¼"ã€‚</p>
<h3 data-id="heading-3">åŸºç¡€è¯­æ³•</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">color</span>-function(<span class="hljs-selector-tag">from</span> origin-<span class="hljs-attribute">color</span> channel1 channel2 channel3 / alpha)
</code></pre>
<p>æ‹†è§£è¯´æ˜ï¼š</p>
<ul>
<li>
<p><code>color-function</code>ï¼šè¾“å‡ºæ ¼å¼ï¼Œå¦‚ <code>rgb()</code>ã€<code>hsl()</code>ã€<code>oklch()</code></p>
</li>
<li>
<p><code>from</code>ï¼šå…³é”®å­—ç¬¦ï¼Œå£°æ˜é¢œè‰²æ¥æº</p>
</li>
<li>
<p><code>origin-color</code>ï¼šåŸºå‡†é¢œè‰²ï¼Œæ”¯æŒ hexã€RGBã€HSL ç­‰æ ¼å¼</p>
</li>
<li>
<p><code>channel1 ~ 3</code>ï¼šå¯è®¿é—®å’Œä¿®æ”¹çš„é€šé“å€¼</p>
</li>
<li>
<p><code>alpha</code>ï¼šå¯é€‰é€æ˜åº¦é€šé“</p>
</li>
</ul>
<h3 data-id="heading-4">å®é™…åº”ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-attr">--primary</span>: <span class="hljs-number">#3b82f6</span>;
}
â€‹
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--primary);
}
â€‹
<span class="hljs-selector-class">.button</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-comment">/* åŸºäºä¸»è‰²è‡ªåŠ¨è®¡ç®— hover çŠ¶æ€ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">hsl</span>(from <span class="hljs-built_in">var</span>(--primary) h s <span class="hljs-built_in">calc</span>(l - <span class="hljs-number">10</span>));
}
</code></pre>
<p>è¿™ä¸€è¡Œ <code>hsl(from ...)</code> çš„æ”¹å˜ï¼Œå°† hover æ•ˆæœä»"å†™æ­»"å˜æˆäº†"ç›¸å¯¹åŸºè‰²ã€è‡ªåŠ¨è”åŠ¨"ã€‚ä»æ­¤ï¼Œå“ç‰Œè‰²åªéœ€ä¿®æ”¹ä¸€ä¸ª <code>--primary</code> å˜é‡ï¼Œæ‰€æœ‰è¡ç”ŸçŠ¶æ€è‡ªåŠ¨è·Ÿéšã€‚</p>
<h2 data-id="heading-5">from å…³é”®å­—çš„é­”åŠ›</h2>
<p><code>from</code> çš„æ ¸å¿ƒä½œç”¨æ˜¯å°†é¢œè‰²åˆ†è§£ä¸ºé€šé“å€¼ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿåƒæ­ä¹é«˜ä¸€æ ·é‡æ–°ç»„åˆï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/* å°†ç»¿è‰²åˆ†è§£ä¸º RGB é€šé“ */</span>
<span class="hljs-built_in">rgb</span>(from green r g b)  <span class="hljs-comment">/* è¾“å‡º: rgb(0 128 0) */</span>
â€‹
<span class="hljs-comment">/* ç”¨ç»¿è‰²é€šé“åˆ›å»ºç°åº¦ */</span>
<span class="hljs-built_in">rgb</span>(from green g g g)  <span class="hljs-comment">/* è¾“å‡º: rgb(128 128 128) */</span>
â€‹
<span class="hljs-comment">/* éšæ„è°ƒæ¢é€šé“é¡ºåº */</span>
<span class="hljs-built_in">rgb</span>(from green b r g)  <span class="hljs-comment">/* è¾“å‡º: rgb(0 0 128) */</span>
</code></pre>
<h3 data-id="heading-6">è·¨è‰²å½©ç©ºé—´è½¬æ¢</h3>
<p><code>from</code> è‡ªåŠ¨å¤„ç†è‰²å½©ç©ºé—´è½¬æ¢ï¼Œè®©é¢œè‰²æ ¼å¼ä¸å†æˆä¸ºéšœç¢ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/* RGB è½¬ HSL */</span>
<span class="hljs-built_in">hsl</span>(from rgb(<span class="hljs-number">255</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>) h s l)
â€‹
<span class="hljs-comment">/* Hex è½¬ OKLCH */</span>
<span class="hljs-built_in">oklch</span>(from #<span class="hljs-number">3</span>b82f6 l c h)
</code></pre>
<p>è¿™å¯¹è®¾è®¡ç³»ç»Ÿæ„ä¹‰é‡å¤§ï¼šæºå¤´å­˜å‚¨æ ¼å¼ä¸å†é‡è¦ï¼Œä½¿ç”¨ç«¯å§‹ç»ˆä½¿ç”¨ç»Ÿä¸€çš„å¯è®¡ç®—ç©ºé—´ã€‚</p>
<h2 data-id="heading-7">calc()ï¼šé¢œè‰²è®¡ç®—çš„å¼•æ“</h2>
<p>çœŸæ­£çš„å¨åŠ›åœ¨äºå°† <code>calc()</code> ä¸é¢œè‰²é€šé“ç»“åˆï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/* å˜äº®ï¼šæé«˜äº®åº¦ */</span>
<span class="hljs-built_in">hsl</span>(from blue h s calc(l + <span class="hljs-number">20</span>))
â€‹
<span class="hljs-comment">/* å˜æš—ï¼šé™ä½äº®åº¦ */</span>  
<span class="hljs-built_in">hsl</span>(from blue h s calc(l - <span class="hljs-number">20</span>))
â€‹
<span class="hljs-comment">/* åŠé€æ˜ï¼šè°ƒæ•´é€æ˜åº¦ */</span>
<span class="hljs-built_in">rgb</span>(from blue r g b / calc(alpha * <span class="hljs-number">0.5</span>))
â€‹
<span class="hljs-comment">/* è°ƒè‰²ï¼šæ—‹è½¬è‰²ç›¸ */</span>
<span class="hljs-built_in">hsl</span>(from blue calc(h + <span class="hljs-number">180</span>) s l)
</code></pre>
<p>å¤§éƒ¨åˆ†é¢œè‰²è¡ç”Ÿé€»è¾‘éƒ½å¯ä»¥å½’ç»“ä¸ºï¼š<strong>é€šé“ + åç§»é‡</strong> æˆ– <strong>é€šé“ Ã— ç³»æ•°</strong>ã€‚</p>
<h2 data-id="heading-8">OKLCHï¼šæ›´æ™ºèƒ½çš„è‰²å½©ç©ºé—´</h2>
<p>è™½ç„¶ HSL å¾ˆæµè¡Œï¼Œä½†å®ƒæœ‰ä¸ªè‡´å‘½ç¼ºé™·ï¼š<strong>äº®åº¦æ„ŸçŸ¥ä¸å‡</strong>ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">hsl</span>(<span class="hljs-number">220</span> <span class="hljs-number">80%</span> <span class="hljs-number">50%</span>)  <span class="hljs-comment">/* è“è‰² */</span>
<span class="hljs-built_in">hsl</span>(<span class="hljs-number">120</span> <span class="hljs-number">80%</span> <span class="hljs-number">50%</span>)  <span class="hljs-comment">/* ç»¿è‰² */</span>
</code></pre>
<p>ç†è®ºä¸Šä¸¤è€…äº®åº¦ç›¸åŒï¼Œä½†äººçœ¼æ„ŸçŸ¥ä¸­ç»¿è‰²æ˜æ˜¾æ›´äº®ã€‚OKLCH è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>Lï¼ˆLightnessï¼‰</strong>ï¼š0-1ï¼Œæ„ŸçŸ¥äº®åº¦ï¼Œæ›´ç¬¦åˆäººçœ¼</p>
</li>
<li>
<p><strong>Cï¼ˆChromaï¼‰</strong>ï¼š0-çº¦0.37ï¼Œé¢œè‰²çº¯åº¦</p>
</li>
<li>
<p><strong>Hï¼ˆHueï¼‰</strong>ï¼š0-360ï¼Œè‰²ç›¸è§’åº¦</p>
<p>oklch(0.55 0.15 260)  /* è“è‰² <em>/
oklch(0.55 0.15 140)  /</em> ç»¿è‰² */</p>
</li>
</ul>
<p>åœ¨ OKLCH ä¸­ï¼Œç›¸åŒçš„ L å€¼åœ¨ä¸åŒè‰²ç›¸é—´å…·æœ‰ä¸€è‡´çš„äº®åº¦æ„ŸçŸ¥ï¼Œè¿™è®©ç¨‹åºåŒ–è°ƒè‰²æ›´åŠ å¯é ã€‚</p>
<h2 data-id="heading-9">æ„å»ºæ™ºèƒ½é¢œè‰²ç³»ç»Ÿ</h2>
<h3 data-id="heading-10">ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å“ç‰ŒåŸºè‰²</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* åªç”¨å®šä¹‰ 4 ä¸ªåŸºç¡€å“ç‰Œè‰² */</span>
  <span class="hljs-attr">--brand-primary</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.55</span> <span class="hljs-number">0.2</span> <span class="hljs-number">265</span>);
  <span class="hljs-attr">--brand-success</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.65</span> <span class="hljs-number">0.18</span> <span class="hljs-number">145</span>);
  <span class="hljs-attr">--brand-error</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.6</span> <span class="hljs-number">0.25</span> <span class="hljs-number">25</span>);
  <span class="hljs-attr">--brand-warning</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.75</span> <span class="hljs-number">0.15</span> <span class="hljs-number">85</span>);
}
</code></pre>
<h3 data-id="heading-11">ç¬¬äºŒæ­¥ï¼šæŒ‰è§„åˆ™ç”Ÿæˆå®Œæ•´è‰²æ¿</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-comment">/* Primary è‰²ç³» - å…¨éƒ¨ä»åŸºè‰²æ´¾ç”Ÿ */</span>
  <span class="hljs-attr">--primary</span>: <span class="hljs-built_in">var</span>(--brand-primary);
  <span class="hljs-attr">--primary-hover</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) <span class="hljs-built_in">calc</span>(l - <span class="hljs-number">0.1</span>) c h);
  <span class="hljs-attr">--primary-active</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) <span class="hljs-built_in">calc</span>(l - <span class="hljs-number">0.15</span>) c h);
  <span class="hljs-attr">--primary-light</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) <span class="hljs-built_in">calc</span>(l + <span class="hljs-number">0.2</span>) <span class="hljs-built_in">calc</span>(c * <span class="hljs-number">0.5</span>) h);
  <span class="hljs-attr">--primary-lighter</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) <span class="hljs-built_in">calc</span>(l + <span class="hljs-number">0.3</span>) <span class="hljs-built_in">calc</span>(c * <span class="hljs-number">0.3</span>) h);
  <span class="hljs-attr">--primary-alpha-10</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) l c h / <span class="hljs-number">0.1</span>);
  <span class="hljs-attr">--primary-alpha-20</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) l c h / <span class="hljs-number">0.2</span>);
  
  <span class="hljs-comment">/* å…¶ä»–è‰²ç³»é‡‡ç”¨ç›¸åŒæ¨¡å¼ */</span>
  <span class="hljs-attr">--success</span>: <span class="hljs-built_in">var</span>(--brand-success);
  <span class="hljs-attr">--success-hover</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-success) <span class="hljs-built_in">calc</span>(l - <span class="hljs-number">0.1</span>) c h);
  <span class="hljs-attr">--success-light</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-success) <span class="hljs-built_in">calc</span>(l + <span class="hljs-number">0.2</span>) <span class="hljs-built_in">calc</span>(c * <span class="hljs-number">0.5</span>) h);
}
</code></pre>
<p>å››ä¸ªåŸºè‰²å˜é‡ï¼Œæ‰©å±•å‡ºå®Œæ•´çš„é¢œè‰²ä½“ç³»ã€‚å“ç‰Œè‰²è°ƒæ•´æ—¶ï¼Œåªéœ€ä¿®æ”¹å››ä¸ªåŸºç¡€å€¼ã€‚</p>
<h2 data-id="heading-12">æš—è‰²æ¨¡å¼çš„é©å‘½</h2>
<p>ä¼ ç»Ÿæš—è‰²æ¨¡å¼éœ€è¦ç»´æŠ¤ä¸¤å¥— tokenï¼Œç°åœ¨åªéœ€ä¸€ä¸ªå…¬å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-attr">--surface</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.98</span> <span class="hljs-number">0.02</span> <span class="hljs-number">240</span>);
  <span class="hljs-attr">--text</span>: <span class="hljs-built_in">oklch</span>(<span class="hljs-number">0.25</span> <span class="hljs-number">0.03</span> <span class="hljs-number">240</span>);
}
â€‹
<span class="hljs-selector-attr">[data-theme=<span class="hljs-string">"dark"</span>]</span> {
  <span class="hljs-comment">/* äº®åº¦åè½¬å®ç°æš—è‰²æ¨¡å¼ */</span>
  <span class="hljs-attr">--surface</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--surface) <span class="hljs-built_in">calc</span>(<span class="hljs-number">1</span> - l) c h);
  <span class="hljs-attr">--text</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--text) <span class="hljs-built_in">calc</span>(<span class="hljs-number">1</span> - l) c h);
}
</code></pre>
<h2 data-id="heading-13">å®æˆ˜é«˜çº§æŠ€å·§</h2>
<h3 data-id="heading-14">1. æ™ºèƒ½é˜´å½±ç³»ç»Ÿ</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attr">--card-bg</span>: <span class="hljs-built_in">var</span>(--primary);
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--card-bg);
  <span class="hljs-attribute">box-shadow</span>: 
    <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">6px</span> <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--card-bg) l c h / <span class="hljs-number">0.2</span>),
    <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--card-bg) l c h / <span class="hljs-number">0.15</span>);
}
</code></pre>
<p>é˜´å½±è‡ªåŠ¨é€‚åº”èƒŒæ™¯è‰²ï¼Œä¸»é¢˜åˆ‡æ¢æ—¶è‡ªç„¶è¿‡æ¸¡ã€‚</p>
<h3 data-id="heading-15">2. ç¡®ä¿å¯è¯»æ€§çš„æ–‡æœ¬é¢œè‰²</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.tag</span> {
  <span class="hljs-attr">--tag-bg</span>: <span class="hljs-built_in">var</span>(--primary);
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--tag-bg);
  <span class="hljs-comment">/* æ–‡æœ¬äº®åº¦æ¯”èƒŒæ™¯é«˜ 0.6ï¼Œç¡®ä¿å¯¹æ¯”åº¦ */</span>
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--tag-bg) <span class="hljs-built_in">calc</span>(l + <span class="hljs-number">0.6</span>) c h);
}
</code></pre>
<h3 data-id="heading-16">3. å“ç‰ŒåŒ–åŠé€æ˜é®ç½©</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.modal-backdrop</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--brand-primary) l c h / <span class="hljs-number">0.7</span>);
}
</code></pre>
<h2 data-id="heading-17">æµè§ˆå™¨æ”¯æŒä¸æ¸è¿›å¢å¼º</h2>
<p>æˆªè‡³ 2025 å¹´ï¼Œç›¸å¯¹é¢œè‰²å·²è·å¾—è‰¯å¥½æ”¯æŒï¼š</p>
<ul>
<li>
<p>Chrome 119+ âœ…</p>
</li>
<li>
<p>Firefox 128+ âœ…</p>
</li>
<li>
<p>Safari 16.4+ âœ…</p>
</li>
<li>
<p>Edge 119+ âœ…</p>
</li>
</ul>
<p>è¦†ç›–ç‡çº¦ 83%ï¼Œå¯¹äºä¸æ”¯æŒçš„ç¯å¢ƒå¯æä¾›é™æ€å›é€€ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#2563eb</span>; <span class="hljs-comment">/* å›é€€å€¼ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--primary) <span class="hljs-built_in">calc</span>(l - <span class="hljs-number">0.1</span>) c h);
}
</code></pre>
<h2 data-id="heading-18">é¿å‘æŒ‡å—</h2>
<ol>
<li>
<p><strong>é¿å…è¿‡æ·±æ´¾ç”Ÿé“¾</strong>ï¼šä»åŸºè‰²ç›´æ¥æ¨å¯¼ï¼Œæœ€å¤šä¸¤å±‚</p>
</li>
<li>
<p><strong>æ§åˆ¶ Chroma èŒƒå›´</strong>ï¼šOKLCH ä¸­ Chroma è¶…è¿‡ 0.37 å¯èƒ½å¯¼è‡´é¢œè‰²æº¢å‡º</p>
</li>
<li>
<p><strong>æ­£ç¡®ä½¿ç”¨ Alpha</strong>ï¼š<code>oklch(0.6 0.2 265 / 0.5)</code> è€Œé <code>oklch(0.6 0.2 265 0.5)</code></p>
</li>
</ol>
<h2 data-id="heading-19">æ€»ç»“ï¼šä»å°å‡çº§åˆ°å¤§å˜é©</h2>
<p>CSS ç›¸å¯¹é¢œè‰²è§£å†³çš„ä¸ä»…æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œæ›´æ˜¯è®¾è®¡ç³»ç»Ÿç»´æŠ¤çš„å“²å­¦å˜é©ï¼š</p>
<ul>
<li>
<p><strong>ä¸»é¢˜åˆ‡æ¢ä¸å†æ˜¯ç¾éš¾</strong>ï¼šæ”¹ä¸€ä¸ªå˜é‡ï¼Œå…¨ç«™è‡ªæ´½</p>
</li>
<li>
<p><strong>é¢œè‰² Token çœŸæ­£é›†ä¸­ç®¡ç†</strong>ï¼šä»åˆ†æ•£å®šä¹‰åˆ°ç»Ÿä¸€æºå¤´</p>
</li>
<li>
<p><strong>è®¾è®¡è§„åˆ™åŒ–</strong>ï¼šæ·±æµ…ã€çŠ¶æ€ã€é€æ˜åº¦éƒ½æˆä¸ºå¯å¤ç”¨çš„å…¬å¼</p>
</li>
<li>
<p><strong>å¼€å‘ä½“éªŒæå‡</strong>ï¼šä»æœºæ¢°è°ƒè‰²åˆ°æ™ºèƒ½æ¨å¯¼</p>
</li>
</ul>
<p>ä¸‹ä¸€æ¬¡é‡æ„é…è‰²ç³»ç»Ÿæ—¶ï¼Œä¸å¦¨å°è¯•å°†åŸºå‡†è‰²ã€çŠ¶æ€è‰²ã€æš—è‰²æ¨¡å¼ã€åŠé€æ˜å±‚å…¨éƒ¨äº¤ç»™ç›¸å¯¹é¢œè‰²è®¡ç®—ã€‚é‚£ç§"æ”¹ä¸€å¤„ï¼Œå…¨å±€è”åŠ¨"çš„æµç•…ä½“éªŒï¼Œç¡®å®è®©äººä¸Šå¤´ã€‚</p>
<p>ä» 180 ä¸ªé¢œè‰²å˜é‡åˆ° 4 ä¸ªåŸºè‰²å˜é‡ï¼Œè¿™ä¸åªæ˜¯æ•°é‡çš„å‡å°‘ï¼Œæ›´æ˜¯è®¾è®¡ç³»ç»Ÿç»´æŠ¤ç†å¿µçš„è´¨çš„é£è·ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GraphRAG å…¨æµç¨‹å®æˆ˜æŒ‡å—ï¼šä»å…¥é—¨åˆ°ä¸šåŠ¡è½åœ°]]></title>    <link>https://juejin.cn/post/7574041466710704171</link>    <guid>https://juejin.cn/post/7574041466710704171</guid>    <pubDate>2025-11-19T07:53:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466710704171" data-draft-id="7574230586970324998" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GraphRAG å…¨æµç¨‹å®æˆ˜æŒ‡å—ï¼šä»å…¥é—¨åˆ°ä¸šåŠ¡è½åœ°"/> <meta itemprop="keywords" content="LLM,Agent,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-19T07:53:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GraphRAG å…¨æµç¨‹å®æˆ˜æŒ‡å—ï¼šä»å…¥é—¨åˆ°ä¸šåŠ¡è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T07:53:32.000Z" title="Wed Nov 19 2025 07:53:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<blockquote>
<p>æœ¬æ–‡å…¨é¢è§£æå¾®è½¯å¼€æºçš„ GraphRAG é¡¹ç›®ï¼Œä»å®ƒæ˜¯ä»€ä¹ˆã€æ€ä¹ˆç”¨ã€å¦‚ä½•ä¼˜åŒ–è¿è¡Œæ€§èƒ½ã€ç”Ÿæˆå“ªäº›å…³é”®æ–‡ä»¶ï¼Œåˆ°å¦‚ä½•é›†æˆåˆ°ä½ è‡ªå·±çš„ä¸šåŠ¡ä¸­ã€‚å†…å®¹æ·±å…¥ä½†é€šä¿—ï¼Œé€‚åˆå¼€å‘è€…ã€æ•°æ®åˆ†æå¸ˆã€AIå·¥ç¨‹å¸ˆå­¦ä¹ å‚è€ƒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ GraphRAGï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<p>GraphRAGï¼ˆGraph Retrieval-Augmented Generationï¼‰æ˜¯å¾®è½¯ç ”ç©¶å›¢é˜Ÿå‘å¸ƒçš„å¼€æºé¡¹ç›®ï¼Œå®ƒæ˜¯ä¸€ç§â€œå›¾å¢å¼ºçš„æ£€ç´¢ç”Ÿæˆç³»ç»Ÿâ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37b7a1d7ca2b42b4a9035287a82d4384~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=jBi5Qnxayfwimlb9brKhGTn2wlw%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¼ ç»Ÿçš„RAGä¸åŒï¼ŒGraphRAGä¸ä»…ä»…æ˜¯â€œæ£€ç´¢+ç”Ÿæˆâ€ï¼Œå®ƒå¼•å…¥äº†å›¾ç»“æ„ï¼Œä½¿å¾—RAGå…·å¤‡ä»¥ä¸‹<strong>å…³é”®èƒ½åŠ›</strong>ï¼š</p>

























<table><thead><tr><th>èƒ½åŠ›</th><th>æè¿°</th></tr></thead><tbody><tr><td>ç»“æ„åŒ–ç†è§£</td><td>æ„å»ºæ–‡æ¡£å†…çš„<strong>å®ä½“-å…³ç³»å›¾è°±</strong></td></tr><tr><td>å…¨å±€æ´å¯Ÿ</td><td>å¯¹æ–‡æ¡£ä¸­çš„çŸ¥è¯†ç‚¹è¿›è¡Œç¤¾åŒºèšç±»å’Œè¯­ä¹‰æ€»ç»“</td></tr><tr><td>ç²¾ç¡®æŸ¥è¯¢</td><td>æä¾›<strong>å±€éƒ¨è¯­ä¹‰æœç´¢</strong>ä¸<strong>å…¨å±€çŸ¥è¯†æ€»ç»“</strong>ä¸¤ç§æ–¹å¼</td></tr><tr><td>å¯è§£é‡Šæ€§å¼º</td><td>æ¯ä¸ªç»“è®ºéƒ½å¯ä»¥å›æº¯åŸå§‹å®ä½“ã€æ–‡æœ¬ã€ç¤¾åŒº</td></tr></tbody></table>
<h3 data-id="heading-1">ä½¿ç”¨GraphRAGçš„å…¸å‹åœºæ™¯ï¼š</h3>
<ul>
<li><strong>é•¿æ–‡æ¡£é—®ç­”ï¼ˆæ–‡æ¡£QAï¼‰</strong> ï¼šå¦‚æ³•å¾‹æ–‡ä¹¦ã€æ”¿ç­–æ–‡ä»¶ã€è´¢æŠ¥ç­‰</li>
<li><strong>ç»“æ„åŒ–æ‘˜è¦ç”Ÿæˆ</strong>ï¼šéœ€è¦ä»æµ·é‡æ–‡æœ¬ä¸­æç‚¼ç»“æ„åŒ–çŸ¥è¯†</li>
<li><strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šä¸æ‰‹å†™è§„åˆ™ã€çº¯é LLMè‡ªåŠ¨æå–å…³ç³»</li>
<li><strong>ä¼ä¸šæ•°æ®æ´å¯Ÿ</strong>ï¼šå¯¹å…¬å¸èµ„æ–™ã€é¡¹ç›®æŠ¥å‘Šè¿›è¡Œç»“æ„å»ºæ¨¡å’Œåˆ†æ</li>
</ul>
<h3 data-id="heading-2">ğŸ†š GraphRAG vs ä¼ ç»Ÿ RAG vs Embedding Search</h3>















































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»ŸEmbedding Search</th><th>æ™®é€šRAG</th><th><strong>GraphRAG</strong></th></tr></thead><tbody><tr><td>åŸºäºå‘é‡æ£€ç´¢</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>ä¸Šä¸‹æ–‡ç”Ÿæˆ</td><td>âŒ</td><td>âœ…</td><td>âœ…</td></tr><tr><td>çŸ¥è¯†å…³ç³»å»ºæ¨¡</td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>ç¤¾åŒºèšç±»åˆ†æ</td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å…¨å±€ç»“æ„å›ç­”</td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å¯è§£é‡Šæ€§</td><td>ä¸­</td><td>ä½</td><td><strong>é«˜</strong></td></tr></tbody></table>
<p>ç®€è¨€ä¹‹ï¼ŒGraphRAGæ˜¯å¯¹RAGçš„<strong>èƒ½åŠ›å‡çº§</strong>ï¼Œä¸ä»…å¯é—®ï¼Œè¿˜èƒ½è§£é‡Šâ€œçŸ¥è¯†æ˜¯å¦‚ä½•æ„æˆçš„â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4afa685742df4709b990c6e101318a94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=JKUNLl8AyOLpGctEczOtH9Jo32I%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">äºŒã€å¦‚ä½•è·‘é€š GraphRAGï¼Ÿä»0åˆ°1å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-4"/>
<h3 data-id="heading-5">1. å®‰è£…ç¯å¢ƒï¼ˆæ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼‰</h3>
<pre><code class="hljs">â€‹
pip install graphrag
ä¸å†éœ€è¦ Poetryã€æºç å…‹éš†ç­‰ç¹çæ­¥éª¤ã€‚GraphRAG å·²æ­£å¼å‘å¸ƒåˆ° PyPIã€‚
â€‹
</code></pre>
<hr/>
<h3 data-id="heading-6"/>
<h3 data-id="heading-7">2. åˆå§‹åŒ–é¡¹ç›®ç›®å½•</h3>
<p>ä½¿ç”¨å®˜æ–¹å‘½ä»¤å¿«é€Ÿåˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">graphrag init --root ./ragtest
è¿™ä¸€æ­¥ä¼šç”Ÿæˆæ ‡å‡†çš„ç›®å½•ç»“æ„ï¼š
ragtest/
â”œâ”€â”€ settings.yaml Â  Â  Â 
<span class="hljs-comment"># ä¸»é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ prompts/ Â  Â  Â  Â  Â  
<span class="hljs-comment"># æç¤ºè¯æ¨¡æ¿</span>
â”œâ”€â”€ .
<span class="hljs-built_in">env</span>
<span class="hljs-comment"># å­˜æ”¾APIå¯†é’¥ï¼ˆéœ€æ‰‹åŠ¨å¡«å…¥ï¼‰</span>
â””â”€â”€ input/ Â  Â  Â  Â  Â  Â  
<span class="hljs-comment"># â—éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œç”¨æ¥æ”¾ä½ è¦åˆ†æçš„æ–‡æ¡£</span>
â€‹
</code></pre>
<hr/>
<h3 data-id="heading-8"/>
<h3 data-id="heading-9">3. é…ç½® API å¯†é’¥</h3>
<p>ç¼–è¾‘Â <code>.env</code>Â æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keyã€‚ä¾‹å¦‚ä½¿ç”¨ç¡…åŸºæµåŠ¨ APIï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">GRAPHRAG_API_KEY</span> = sk-your-siliconflow-api-key
åŒæ—¶ï¼Œåœ¨settings.yamlä¸­è®¾ç½® API æä¾›æ–¹ï¼š
</code></pre>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">models:</span>
<span class="hljs-section">default_chat_model:</span>
<span class="hljs-section">type: openai_chat</span>
<span class="hljs-section">api_base: https://api.siliconflow.cn/v1</span>
<span class="hljs-section">api_key: ${GRAPHRAG_API_KEY}</span>
<span class="hljs-section">model: deepseek-ai/DeepSeek-V3</span>
<span class="hljs-section">encoding_model: cl100k_base</span>
<span class="hljs-section">concurrent_requests: 3</span>
<span class="hljs-section">requests_per_minute: 30</span>
<span class="hljs-section">default_embedding_model:</span>
<span class="hljs-section">type: openai_embedding</span>
<span class="hljs-section">api_base: https://api.siliconflow.cn/v1</span>
<span class="hljs-section">api_key: ${GRAPHRAG_API_KEY}</span>
<span class="hljs-section">model: BAAI/bge-large-zh-v1.5</span>
<span class="hljs-section">encoding_model: cl100k_base</span>
<span class="hljs-section">concurrent_requests: 3</span>
<span class="hljs-section">requests_per_minute: 30</span>
</code></pre>
<h3 data-id="heading-10">4. æ·»åŠ æ–‡æ¡£åˆ° input ç›®å½•</h3>
<p>å°†ä½ éœ€è¦å¤„ç†çš„æ–‡æ¡£æ”¾å…¥Â <code>ragtest/input/</code>Â ç›®å½•ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ragtest/
â”œâ”€â”€ settings.yaml Â  <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ prompts/ Â  Â  Â   <span class="hljs-comment"># æç¤ºè¯æ¨¡æ¿</span>
â”œâ”€â”€ input/ Â  Â  Â  Â   <span class="hljs-comment"># æ•°æ®è¾“å…¥ç›®å½•ï¼ˆéœ€æ‰‹åŠ¨åˆ›å»ºï¼‰</span>
â”œâ”€â”€ .<span class="hljs-built_in">env</span> Â  Â  Â  Â  Â   <span class="hljs-comment"># å­˜å‚¨APIå¯†é’¥</span>
â””â”€â”€ output/ Â  Â  Â  Â  <span class="hljs-comment"># è‡ªåŠ¨ç”Ÿæˆçš„ç´¢å¼•ç»“æœ</span>
æ”¯æŒ.txt,.pdf,.docxç­‰å¤šç§æ ¼å¼ã€‚
</code></pre>
<hr/>
<h3 data-id="heading-11">5. è¿è¡Œç´¢å¼•æ„å»ºå‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ragtest
graphrag index --root .
è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹è¿‡ç¨‹ï¼š
</code></pre>
<ol>
<li>æ–‡æœ¬åˆ†å—</li>
<li>å®ä½“è¯†åˆ«ä¸å…³ç³»æå–ï¼ˆè°ƒç”¨å¤§æ¨¡å‹ï¼‰</li>
<li>æ„å»ºå®ä½“-å…³ç³»å›¾è°±</li>
<li>ç¤¾åŒºæ£€æµ‹ï¼ˆLeidenç®—æ³•ï¼‰</li>
<li>ç”Ÿæˆç¤¾åŒºæ‘˜è¦ï¼ˆè°ƒç”¨å¤§æ¨¡å‹ï¼‰</li>
<li>åµŒå…¥è®¡ç®— + å‘é‡ç´¢å¼•æ„å»º</li>
</ol>
<blockquote>
<p>è¿™ä¸ªè¿‡ç¨‹ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">6. è¿è¡ŒæŸ¥è¯¢å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># å…¨å±€æŸ¥è¯¢ï¼ˆé—®ç»“æ„åŒ–ä¸»é¢˜ï¼‰</span>
graphrag query --root . --method global <span class="hljs-string">"å…¬å¸çš„æ ¸å¿ƒé¡¹ç›®æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
<span class="hljs-comment"># å±€éƒ¨æŸ¥è¯¢ï¼ˆé—®ç»†èŠ‚è¯­ä¹‰ï¼‰</span>
graphrag query --root . --method <span class="hljs-built_in">local</span> <span class="hljs-string">"å¼ ä¸‰çš„èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
éœ€è¦åœ¨åŒ…å« settings.yaml é…ç½®æ–‡ä»¶çš„ç›®å½•ä¸­è¿è¡Œï¼Œä¹Ÿå°±æ˜¯ ragtest ç›®å½•ã€‚
<span class="hljs-built_in">cd</span> ragtest  <span class="hljs-comment"># åˆ‡æ¢åˆ°åŒ…å«settings.yamlçš„ç›®å½•</span>
ç¤ºä¾‹ï¼š
graphrag query --root . --method global --query <span class="hljs-string">"å¼ é£æ˜¯è°çš„å…„å¼Ÿ"</span>
Missing reports <span class="hljs-keyword">for</span> communities: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498] Â  Â  Â  Â 
SUCCESS: Global Search Response:
å¼ é£æ˜¯åˆ˜å¤‡çš„å…„å¼Ÿã€‚åœ¨ä¸‰å›½æ—¶æœŸï¼Œå¼ é£ä¸åˆ˜å¤‡ã€å…³ç¾½å¹¶ç§°ä¸ºâ€˜æ¡ƒå›­ä¸‰ç»“ä¹‰â€™ï¼Œä¸‰äººç»“ä¸ºå¼‚å§“å…„å¼Ÿï¼Œå…±åŒå‚ä¸äº†ä¸‰å›½çš„è¯¸å¤šå†å²äº‹ä»¶ã€‚[Data: Reports (1, 3)] Â  Â  Â 

</code></pre>
<hr/>
<h2 data-id="heading-13">ä¸‰ã€ragtestç›®å½•ç»“æ„è¯¦è§£</h2>
<p>ä¸€æ—¦è¿è¡Œå®Œç´¢å¼•å‘½ä»¤ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">ragtest/
â”œâ”€â”€ input/                          <span class="hljs-meta"># è¾“å…¥æ•°æ®</span>
â”‚   â””â”€â”€ three_kingdomspart.txt      <span class="hljs-meta"># æˆ‘ä»¬ç»™å®šçš„æ–‡æ¡£ï¼Œæ¯”å¦‚ä¸‰å›½æ¼”ä¹‰</span>
â”œâ”€â”€ output/                         <span class="hljs-meta"># ä¸»è¦è¾“å‡ºæ–‡ä»¶</span>
â”‚   â”œâ”€â”€ documents.parquet           <span class="hljs-meta"># æ–‡æ¡£è¡¨</span>
â”‚   â”œâ”€â”€ text_units.parquet          <span class="hljs-meta"># æ–‡æœ¬å•å…ƒè¡¨</span>
â”‚   â”œâ”€â”€ entities.parquet            <span class="hljs-meta"># å®ä½“è¡¨</span>
â”‚   â”œâ”€â”€ relationships.parquet       <span class="hljs-meta"># å…³ç³»è¡¨</span>
â”‚   â”œâ”€â”€ communities.parquet         <span class="hljs-meta"># ç¤¾åŒºè¡¨</span>
â”‚   â”œâ”€â”€ community_reports.parquet   <span class="hljs-meta"># ç¤¾åŒºæŠ¥å‘Šè¡¨</span>
â”‚   â”œâ”€â”€ covariates.parquet          <span class="hljs-meta"># åå˜é‡è¡¨ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ lancedb/                    <span class="hljs-meta"># å‘é‡æ•°æ®åº“</span>
â”‚       â””â”€â”€ <span class="hljs-literal">default</span>/                <span class="hljs-meta"># å­˜å‚¨æ–‡æœ¬åµŒå…¥å‘é‡</span>
â”œâ”€â”€ cache/                          <span class="hljs-meta"># ç¼“å­˜æ–‡ä»¶</span>
â”‚   â”œâ”€â”€ base_text_units.parquet     <span class="hljs-meta"># åŸºç¡€æ–‡æœ¬å•å…ƒç¼“å­˜</span>
â”‚   â”œâ”€â”€ extracted_entities.parquet  <span class="hljs-meta"># æå–çš„å®ä½“ç¼“å­˜</span>
â”‚   â”œâ”€â”€ extracted_relationships.parquet <span class="hljs-meta"># æå–çš„å…³ç³»ç¼“å­˜</span>
â”‚   â””â”€â”€ ... (å…¶ä»–ä¸­é—´ç¼“å­˜æ–‡ä»¶)
â””â”€â”€ logs/                           <span class="hljs-meta"># è¿è¡Œæ—¥å¿—</span>
â””â”€â”€ indexing-engine.log         <span class="hljs-meta"># ç´¢å¼•è¿‡ç¨‹æ—¥å¿—</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">å››ã€GraphRAGè¾“å‡ºæ–‡ä»¶è¯¦è§£</h2>
<h3 data-id="heading-15"/>
<h3 data-id="heading-16">1ï¸âƒ£Â <code>documents.parquet</code>ï¼ˆæ–‡æ¡£è¡¨ï¼‰</h3>
<ul>
<li>å­˜å‚¨åŸå§‹æ–‡æ¡£çš„å…ƒä¿¡æ¯ä¸å…¨æ–‡å†…å®¹</li>
<li>æ¯ä¸ªæ–‡æ¡£ä¸€ä¸ªæ¡ç›®ï¼Œè®°å½•å…¶Â <code>title</code>ã€<code>text</code>ã€<code>doc_id</code></li>
<li><code>å°±æ˜¯åŸå§‹æ–‡æ¡£çš„æ¡ç›®</code></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5504baf2c6974f3db0cbf160f8392fec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=tFoheLOqg16exALwLL5H%2F7423KM%3D" alt="" loading="lazy"/></p>
<p><code>2ï¸âƒ£</code>Â <code>text_units.parquet</code>ï¼ˆæ–‡æœ¬å•å…ƒè¡¨ï¼‰</p>
<ul>
<li>å°†æ¯ä¸ªæ–‡æ¡£åˆ†å—ï¼ˆchunkï¼‰åçš„åˆ‡ç‰‡å†…å®¹</li>
<li>æ¯ä¸€å—å¯¹åº”ä¸€æ¬¡LLMè°ƒç”¨ï¼ˆå¦‚å®ä½“æå–ï¼‰</li>
<li>å°±æ˜¯åˆ‡åˆ†åçš„æ¯ä¸€ä¸ªchunkçš„å†…å®¹</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eacad25c74ba4319aff921f604e81169~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=8Ka8oJUAifnLyn63EZvXD5HZ3Wo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">3ï¸âƒ£Â <code>entities.parquet</code>ï¼ˆå®ä½“è¡¨ï¼‰</h3>
<ul>
<li>æ‰€æœ‰æ–‡æ¡£ä¸­æå–å‡ºçš„<strong>äººç‰©ã€ç»„ç»‡ã€åœ°ç‚¹ã€äº‹ä»¶</strong></li>
<li>åŒ…å«ï¼šå®ä½“åç§°ã€ç±»å‹ã€é¢‘ç‡ã€æè¿°ã€å‡ºç°åœ¨å“ªäº›å—ä¸­</li>
<li>æ˜¯çŸ¥è¯†å›¾è°±çš„"èŠ‚ç‚¹"</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8401aedd1fc4b3ea7017ae146740aa2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=xV8Vav93VxeCV%2BIUU3KxO8pCZNs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-18">4ï¸âƒ£Â <code>relationships.parquet</code>ï¼ˆå…³ç³»è¡¨ï¼‰</h3>
<ul>
<li>æ¯å¯¹å®ä½“ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼ˆå¦‚â€œå¼ ä¸‰-ç®¡ç†-äº§å“éƒ¨â€ï¼‰</li>
<li>åŒ…å«æè¿°ã€å…³ç³»ç±»å‹ã€æƒé‡ç­‰</li>
<li>æ˜¯çŸ¥è¯†å›¾è°±çš„"è¾¹"</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c93116e8a9949eab283385a5d6a780d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=3cFcsrQ6v0%2BJvBGw%2B8FG00kcxic%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-19">5ï¸âƒ£Â <code>communities.parquet</code>ï¼ˆç¤¾åŒºè¡¨ï¼‰</h3>
<ul>
<li>åŸºäºå›¾è°±è¿è¡Œç¤¾åŒºæ£€æµ‹ç®—æ³•ï¼Œèšå‡ºâ€œä¸»é¢˜ç»„â€</li>
<li>æ¯ä¸ªç¤¾åŒºåŒ…å«ä¸€ç»„ç›¸å…³çš„å®ä½“ï¼ˆå¦‚æŸäº§å“çº¿å›¢é˜Ÿï¼‰</li>
<li>ä½œç”¨æ˜¯å‘ç°"ä¸»é¢˜é›†ç¾¤"</li>
<li><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d827a523ca04834af2d9a1a7d5787c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=v%2FGMQQ%2FxRHuY4GksiCjZx0P9VMo%3D" alt="" loading="lazy"/></li>
</ul>
<h3 data-id="heading-20">6ï¸âƒ£Â <code>community_reports.parquet</code>ï¼ˆç¤¾åŒºæŠ¥å‘Šè¡¨ï¼‰</h3>
<ul>
<li>å¯¹æ¯ä¸ªç¤¾åŒºï¼Œè°ƒç”¨LLMç”Ÿæˆçš„ç»“æ„åŒ–æ‘˜è¦</li>
<li>åŒ…æ‹¬æŠ¥å‘Šæ ‡é¢˜ã€æ‘˜è¦ã€ä¸»è¦å‘ç°</li>
<li>é¢å‘çš„æ˜¯ç”¨æˆ·ï¼Œç”¨çš„æ˜¯è‡ªç„¶è¯­è¨€</li>
<li>Qwenæ¨¡å‹å®¹æ˜“å¤±è´¥ï¼Œå¾—æ¢ä¸ªåˆé€‚çš„æ¨¡å‹</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2c1f2953fee4844be3c5d5013b3dce5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764143612&amp;x-signature=ODalo1ZH5fUcNq%2B3yErUBls4OyE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-21">7ï¸âƒ£Â <code>lancedb/</code>ï¼ˆå‘é‡æ•°æ®åº“ï¼‰</h3>
<ul>
<li>æ¯ä¸ªæ–‡æœ¬å•å…ƒçš„å‘é‡è¡¨ç¤ºï¼Œç”¨äºå±€éƒ¨è¯­ä¹‰æœç´¢</li>
</ul>
<hr/>
<h2 data-id="heading-22">äº”ã€GraphRAGæ˜¯å¦ç”¨åˆ°GPUï¼Ÿç”¨çš„æ˜¯APIè¿˜æ˜¯æœ¬åœ°æ¨ç†ï¼Ÿ</h2>
<h3 data-id="heading-23">âœ… GraphRAG é»˜è®¤æ˜¯Â <strong>çº¯CPU + APIæ¶æ„</strong></h3>
<ul>
<li>å¤§æ¨¡å‹ï¼ˆLLMï¼‰çš„ç”Ÿæˆä»»åŠ¡ â†’ è°ƒç”¨è¿œç¨‹APIï¼ˆå¦‚OpenAIã€DeepSeekã€ç¡…åŸºæµåŠ¨ï¼‰</li>
<li>å‘é‡åµŒå…¥ â†’ è°ƒç”¨APIè¿”å›å‘é‡</li>
<li>å›¾è°±æ„å»ºä¸èšç±» â†’ æœ¬åœ°CPUå®Œæˆ</li>
</ul>
<blockquote>
<p>æ— éœ€å®‰è£…æœ¬åœ°å¤§æ¨¡å‹ï¼Œä¹Ÿä¸éœ€è¦GPUã€‚åªéœ€é…ç½®å¥½API Keyï¼Œå³å¯å…¨æµç¨‹è¿è¡Œã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-24">å…­ã€å¦‚ä½•è®©GraphRAGè·‘å¾—æ›´å¿«ï¼Ÿæ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<p>è™½ç„¶GraphRAGä¸ä¾èµ–GPUï¼Œä½†å®ƒå¯¹ç½‘ç»œå’ŒAPIé€Ÿç‡éå¸¸æ•æ„Ÿã€‚</p>
<h3 data-id="heading-25">å¸¸è§å¯¼è‡´è¿è¡Œæ…¢çš„åŸå› ï¼š</h3>
<ol start="0">
<li><strong>æ–‡æœ¬åˆ†å—å¤ªå¤š</strong>ï¼ˆé»˜è®¤1200å­—ç¬¦ä¸€å—ï¼‰</li>
<li><strong>å¹¶å‘è¯·æ±‚å¤ªé«˜ï¼ŒAPIæœåŠ¡é™é€Ÿ</strong></li>
<li><strong>æå–çš„å®ä½“ç§ç±»å¤ªå¤šï¼ˆé»˜è®¤4ç±»ï¼‰</strong></li>
<li><strong>å¯ç”¨äº†å¤šè½®æå–æˆ–å¤§ç¤¾åŒºå¤„ç†</strong></li>
</ol>
<h3 data-id="heading-26">âœ… ä¼˜åŒ–å»ºè®®æ¸…å•ï¼š</h3>
<h4 data-id="heading-27">1. å‡å°æ–‡æœ¬å—å¤§å°ï¼Œé™ä½è¯·æ±‚é‡</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">chunks:</span>
  <span class="hljs-attr">size:</span> <span class="hljs-number">600</span>     <span class="hljs-comment"># é»˜è®¤1200ï¼Œå‡å°å¯ä»¥å‡å°‘æ¯æ¬¡Tokené‡</span>
  <span class="hljs-attr">overlap:</span> <span class="hljs-number">50</span>
</code></pre>
<h4 data-id="heading-28">2. é™åˆ¶å®ä½“ç±»å‹</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">extract_graph:</span>
  <span class="hljs-attr">entity_types:</span> [<span class="hljs-string">person</span>, <span class="hljs-string">organization</span>]
</code></pre>
<h4 data-id="heading-29">3. é™ä½å¹¶å‘å¹¶é™é€Ÿï¼ˆå°¤å…¶ç”¨ç¡…åŸºæµåŠ¨æ—¶ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">models:</span>
  <span class="hljs-attr">default_chat_model:</span>
    <span class="hljs-attr">concurrent_requests:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">requests_per_minute:</span> <span class="hljs-number">30</span>
</code></pre>
<h4 data-id="heading-30">4. å¯ç”¨ç¼“å­˜</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">cache:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">file</span>
  <span class="hljs-attr">base_dir:</span> <span class="hljs-string">"cache"</span>
</code></pre>
<h4 data-id="heading-31">5. å…ˆç”¨å°æ–‡æ¡£æµ‹è¯•ï¼Œé€æ­¥æ‰©å¤§è§„æ¨¡</h4>
<h4 data-id="heading-32"/>
<h4 data-id="heading-33">è¿›ä¸€æ­¥çš„æ€§èƒ½ä¼˜åŒ–æ¸…å•</h4>
<h4 data-id="heading-34"/>













































<table><thead><tr><th>ä¼˜åŒ–ç‚¹</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Chunk Size &amp; Overlap è°ƒå‚</strong></td><td>â€¢ è‹¥ä¾›åº”å•†æŒ‰Â <em>token/min</em>Â è®¡è´¹/é™é€Ÿï¼Œ<strong>å‡å° chunk</strong>Â å¯è®©å•æ¬¡ token-loadâ†“ï¼Œé™ä½è¢«é™é€Ÿæ¦‚ç‡ï¼›ä½†è¯·æ±‚æ•°ä¼šå¢å¤šã€‚â€¢ è‹¥æŒ‰Â <em>req/min</em>Â é™é€Ÿï¼Œ<strong>å¢å¤§ chunk</strong>ï¼ˆ1500-2000 tokensï¼‰+Â <strong>overlap 50â†’20</strong>Â å¯ä»¥æ˜¾è‘—å‡å°‘è°ƒç”¨æ¬¡æ•°ã€‚</td><td>å¤§æ–‡ä»¶ / é™é€Ÿä¸¥æ ¼</td></tr><tr><td><strong>åœç”¨ Claim ä¸ Gleanings</strong></td><td>åœ¨Â <code>settings.yaml</code>ï¼š<code>claim_extraction.enabled: false``extract_graph.max_gleanings: 0</code></td><td>åªæƒ³è¦å®ä½“-å…³ç³»-ç¤¾åŒºæ—¶</td></tr><tr><td><strong>åˆ†é˜¶æ®µæ‰§è¡Œ</strong></td><td>å…ˆè·‘Â <code>graphrag index --root . --method embeddings</code>Â åªè®¡ç®—åµŒå…¥ï¼Œç¡®è®¤é€Ÿåº¦ OK åå†è·‘å®Œæ•´æµæ°´çº¿ã€‚</td><td>è¶…é•¿è¯­æ–™è¯•è·‘</td></tr><tr><td><strong>æœ¬åœ°åµŒå…¥æ¨¡å‹</strong></td><td>ç”¨Â <code>api_base: http://localhost:11434</code>Â + Ollama embeddingï¼ˆnomic-embedï¼‰å¯æŠŠ 60-70 %çš„ API è°ƒç”¨è½¬æœ¬åœ°ï¼Œé€Ÿåº¦å’Œæˆæœ¬åŒé™ã€‚</td><td>æœ‰ GPU / CPU å……è£•</td></tr><tr><td><strong>é€’å¢æ‰¹å¤„ç†</strong></td><td>åˆ©ç”¨Â <code>parallelization.stagger</code>ï¼ˆ0.3-0.5ï¼‰è®©è¯·æ±‚æ‰¹æ¬¡äº¤é”™ï¼Œæ›´å¹³æ»‘åœ°åˆ©ç”¨é™é¢ã€‚</td><td>ä¾›åº”å•†æ”¯æŒå¹¶å‘é«˜ä½†é™é€Ÿ</td></tr><tr><td><strong>æ–‡æœ¬é¢„æ¸…æ´—</strong></td><td>å»é™¤é¡µçœ‰é¡µè„šã€æ¨¡æ¿é‡å¤æ®µï¼Œå¯å‡å°‘ 10-30 % æ— æ•ˆ tokenã€‚</td><td>PDF æ‰¹é‡å¯¼å…¥</td></tr><tr><td><strong>é‡ç”¨ Prompt æ¨¡æ¿</strong></td><td>æŠŠé•¿ç³»ç»Ÿ prompt å†™è¿›Â <code>prompt_template:</code>Â æ–‡ä»¶å¹¶å¼•ç”¨ï¼Œå¯æ˜¾è‘—å‡å°æ¯æ¬¡ tokenã€‚</td><td>è‡ªå®šä¹‰ prompt å¾ˆé•¿æ—¶</td></tr></tbody></table>
<h4 data-id="heading-35"/>
<h4 data-id="heading-36"/>
<hr/>
<h2 data-id="heading-37">ä¸ƒã€æˆ‘æƒ³æ¥å…¥è‡ªå·±é¡¹ç›®ï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ</h2>
<p>GraphRAGæ˜¯<strong>æ ‡å‡†è¾“å‡ºç»“æ„+è‡ªå®šä¹‰é…ç½®é©±åŠ¨</strong>çš„ç³»ç»Ÿï¼Œä½ åªéœ€è¦ï¼š</p>
<h3 data-id="heading-38">âœ… è°ƒæ•´é…ç½®æ–‡ä»¶Â <code>settings.yaml</code></h3>
<ul>
<li>å®ä½“ç±»å‹é€‚é…ä½ ä¸šåŠ¡é¢†åŸŸ</li>
<li>åˆ†å—ç­–ç•¥æŒ‰æ–‡æ¡£ç‰¹ç‚¹è°ƒæ•´</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">extract_graph:</span>
  <span class="hljs-attr">entity_types:</span> [<span class="hljs-string">person</span>, <span class="hljs-string">department</span>, <span class="hljs-string">project</span>]
  <span class="hljs-attr">prompt:</span> <span class="hljs-string">prompts/extract_business.txt</span>
<span class="hljs-attr">chunks:</span>
  <span class="hljs-attr">size:</span> <span class="hljs-number">1000</span>
  <span class="hljs-attr">overlap:</span> <span class="hljs-number">100</span>
</code></pre>
<h3 data-id="heading-39">âœ… ä¿®æ”¹æç¤ºè¯æ¨¡æ¿</h3>
<p>åœ¨Â <code>prompts/</code>Â ä¸­ç¼–å†™è‡ªå®šä¹‰æ¨¡æ¿ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·ä»ä»¥ä¸‹æ–‡æœ¬ä¸­æå–ï¼š
<span class="hljs-deletion">- PERSON: å‘˜å·¥ã€å®¢æˆ·ã€åˆä½œä¼™ä¼´</span>
<span class="hljs-deletion">- DEPARTMENT: å…¬å¸å†…éƒ¨éƒ¨é—¨</span>
<span class="hljs-deletion">- PROJECT: é¡¹ç›®/äº§å“</span>
</code></pre>
<h3 data-id="heading-40">âœ… ä½¿ç”¨GraphRAGç”Ÿæˆç»“æ„åŒ–ç»“æœå¹¶æ¥å…¥ä½ ç³»ç»Ÿ</h3>
<p>ä½ å¯ä»¥å°†ç”Ÿæˆçš„Â <code>entities.parquetï¼Œ``relationships.parquetï¼Œ``community_reports.parquet</code>ä½œä¸ºä½ ç³»ç»Ÿçš„çŸ¥è¯†ç»“æ„ã€æ ‡ç­¾æºã€ç”šè‡³é—®ç­”åŸºç¡€ã€‚</p>
<hr/>
<h2 data-id="heading-41">âœ… æ€»ç»“</h2>

































<table><thead><tr><th>åŠŸèƒ½</th><th>GraphRAG</th></tr></thead><tbody><tr><td>æ–‡æ¡£ç»“æ„å»ºæ¨¡</td><td>âœ…</td></tr><tr><td>å®ä½“/å…³ç³»æŠ½å–</td><td>âœ…</td></tr><tr><td>ç¤¾åŒºèšç±»åˆ†æ</td><td>âœ…</td></tr><tr><td>å¤šå±‚æ¬¡é—®ç­”æ”¯æŒ</td><td>âœ…</td></tr><tr><td>æ— éœ€æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹</td><td>âœ…</td></tr><tr><td>æ”¯æŒä¼ä¸šå®šåˆ¶</td><td>âœ…</td></tr></tbody></table>
<p>GraphRAG å°±åƒæ˜¯ä¸€ä¸ª<strong>è‡ªåŠ¨åŒ–çŸ¥è¯†å·¥å‚</strong>ï¼Œå¸®ä½ ä»æ— ç»“æ„æ–‡æœ¬ä¸­æç‚¼å‡ºæœ‰ç»“æ„çš„å›¾è°±å’Œæ´å¯Ÿã€‚åªè¦ä½ é…ç½®å¾—å½“ï¼Œå®ƒå¯ä»¥æ— ç¼é›†æˆåˆ°ä½ ä»»ä½•AIç›¸å…³çš„ä¸šåŠ¡ç³»ç»Ÿä¸­ã€‚</p>
<hr/>
<p>ğŸ“ é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fgraphrag" target="_blank" title="https://github.com/microsoft/graphrag" ref="nofollow noopener noreferrer">github.com/microsoft/gâ€¦</a></p>
<p>ğŸ“– å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fgraphrag%3Ftab%3Dreadme-ov-file" target="_blank" title="https://github.com/microsoft/graphrag?tab=readme-ov-file" ref="nofollow noopener noreferrer">github.com/microsoft/gâ€¦</a></p>
<h2 data-id="heading-42">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IDEA + Maven å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…åœ°åˆ‡æ¢ Dev å’Œ Prod ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7574204970774888475</link>    <guid>https://juejin.cn/post/7574204970774888475</guid>    <pubDate>2025-11-19T05:50:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970774888475" data-draft-id="7574020645862621235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IDEA + Maven å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…åœ°åˆ‡æ¢ Dev å’Œ Prod ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼Ÿ"/> <meta itemprop="keywords" content="Spring Boot"/> <meta itemprop="datePublished" content="2025-11-19T05:50:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…ƒYäº¨H"/> <meta itemprop="url" content="https://juejin.cn/user/2839351584888617"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IDEA + Maven å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…åœ°åˆ‡æ¢ Dev å’Œ Prod ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2839351584888617/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…ƒYäº¨H
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T05:50:43.000Z" title="Wed Nov 19 2025 05:50:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">IDEA + Maven å®æˆ˜ï¼šå¦‚ä½•ä¼˜é›…åœ°åˆ‡æ¢ Dev å’Œ Prod ç¯å¢ƒè¿›è¡Œæ‰“åŒ…ï¼Ÿ</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä¸€ä¸ªç—›ç‚¹ï¼š**æœ¬åœ°å¼€å‘ï¼ˆDevï¼‰<strong>è¿æ¥çš„æ˜¯æµ‹è¯•æ•°æ®åº“ï¼Œè€Œ</strong>ä¸Šçº¿ï¼ˆProdï¼‰**éœ€è¦è¿æ¥ç”Ÿäº§æ•°æ®åº“ã€‚å¦‚æœåœ¨æ‰“åŒ…æ—¶æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“å› ä¸ºè¯¯æ“ä½œå¯¼è‡´ç”Ÿäº§äº‹æ•…ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨ <strong>Maven Profiles</strong> ç»“åˆ <strong>IDEA</strong>ï¼Œå®ç°â€œä¸€é”®åˆ‡æ¢â€ç¯å¢ƒæ‰“åŒ…ï¼Œå½»åº•å‘Šåˆ«æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ—¶ä»£ã€‚</p>
<hr/>
<h3 data-id="heading-1">æ ¸å¿ƒåŸç†</h3>
<p>Maven æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½å« <strong>Profilesï¼ˆé…ç½®æ–‡ä»¶ï¼‰</strong>ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šå¥—ç¯å¢ƒé…ç½®ï¼ˆå¦‚ <code>dev</code>ã€<code>test</code>ã€<code>prod</code>ï¼‰ï¼Œå¹¶é€šè¿‡å˜é‡æ§åˆ¶ Maven åœ¨æ„å»ºï¼ˆBuildï¼‰è¿‡ç¨‹ä¸­åŠ è½½ä¸åŒçš„èµ„æºæ–‡ä»¶ã€‚</p>
<hr/>
<h3 data-id="heading-2">æ–¹æ¡ˆä¸€ï¼šåŸºäºç›®å½•éš”ç¦»ï¼ˆé€šç”¨æ–¹æ¡ˆï¼Œæ¨èï¼‰</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ä¼ ç»Ÿçš„ SSM é¡¹ç›®ï¼Œæˆ–è€…å¸Œæœ›æ‰“åŒ…åçš„ jar åŒ…ä¸­<strong>åªåŒ…å«</strong>å½“å‰ç¯å¢ƒé…ç½®ï¼Œä¸åŒ…å«å…¶ä»–ç¯å¢ƒçš„æ‚ä¹±æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-3">1. è§„åˆ’é¡¹ç›®ç›®å½•</h4>
<p>åœ¨ <code>src/main/resources</code> ä¸‹ï¼Œä¸ºä¸åŒç¯å¢ƒå»ºç«‹ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ï¼š</p>
<pre><code class="hljs language-text" lang="text">src/main/resources
â”œâ”€â”€ config-dev             &lt;-- å¼€å‘ç¯å¢ƒç›®å½•
â”‚   â””â”€â”€ application.properties (æ•°æ®åº“URL: 127.0.0.1)
â”œâ”€â”€ config-prod            &lt;-- ç”Ÿäº§ç¯å¢ƒç›®å½•
â”‚   â””â”€â”€ application.properties (æ•°æ®åº“URL: 192.168.x.x)
â”œâ”€â”€ mapper                 &lt;-- å…¬å…±èµ„æº
â””â”€â”€ logback.xml            &lt;-- å…¬å…±èµ„æº
</code></pre>
<h4 data-id="heading-4">2. é…ç½® <code>pom.xml</code></h4>
<p>æˆ‘ä»¬éœ€è¦åšä¸¤ä»¶äº‹ï¼šå®šä¹‰å˜é‡ã€æ§åˆ¶èµ„æºåŠ è½½ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 1. å®šä¹‰ Profiles --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">env</span>&gt;</span>config-dev<span class="hljs-tag">&lt;/<span class="hljs-name">env</span>&gt;</span> <span class="hljs-comment">&lt;!-- å®šä¹‰å˜é‡ env æŒ‡å‘å¯¹åº”æ–‡ä»¶å¤¹ --&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span> <span class="hljs-comment">&lt;!-- é»˜è®¤æ¿€æ´» dev --&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">env</span>&gt;</span>config-prod<span class="hljs-tag">&lt;/<span class="hljs-name">env</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 2. åŠ¨æ€èµ„æºåŠ è½½ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- åŠ è½½å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources/${env}<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- åŠ è½½å…¬å…±èµ„æºï¼Œå¹¶æ’é™¤ç¯å¢ƒæ–‡ä»¶å¤¹ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">excludes</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">exclude</span>&gt;</span>config-dev/**<span class="hljs-tag">&lt;/<span class="hljs-name">exclude</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">exclude</span>&gt;</span>config-prod/**<span class="hljs-tag">&lt;/<span class="hljs-name">exclude</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">excludes</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">æ–¹æ¡ˆäºŒï¼šSpring Boot èµ„æºè¿‡æ»¤ï¼ˆSpringBoot ä¸“ç”¨ï¼‰</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> Spring Boot é¡¹ç›®ï¼Œåˆ©ç”¨å…¶å¤šç¯å¢ƒé…ç½®æœºåˆ¶ï¼ˆ<code>application-{profile}.yml</code>ï¼‰ã€‚</p>
<h4 data-id="heading-6">1. è§„åˆ’é¡¹ç›®ç›®å½•</h4>
<p>æ–‡ä»¶é€šå¸¸å¹³é“ºåœ¨ resources ç›®å½•ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">src/main/resources
â”œâ”€â”€ application.yml       &lt;-- ä¸»å…¥å£é…ç½®
â”œâ”€â”€ application-dev.yml   &lt;-- å¼€å‘é…ç½®è¯¦æƒ…
â””â”€â”€ application-prod.yml  &lt;-- ç”Ÿäº§é…ç½®è¯¦æƒ…
</code></pre>
<h4 data-id="heading-7">2. ä¿®æ”¹ <code>application.yml</code></h4>
<p>åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ Maven çš„å ä½ç¬¦ï¼ˆSpring Boot æ¨èä½¿ç”¨ <code>@...@</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span>
    <span class="hljs-attr">active:</span> <span class="hljs-string">@profiles.active@</span>  <span class="hljs-comment"># è¿™é‡Œçš„å€¼å°†ç”± Maven æ‰“åŒ…æ—¶åŠ¨æ€æ›¿æ¢</span>
</code></pre>
<h4 data-id="heading-8">3. é…ç½® <code>pom.xml</code></h4>
<p>å¼€å¯èµ„æºè¿‡æ»¤ï¼ˆFilteringï¼‰ï¼Œè®© Maven è§£ææ–‡ä»¶ä¸­çš„å ä½ç¬¦ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">profiles.active</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">profiles.active</span>&gt;</span> <span class="hljs-comment">&lt;!-- å¯¹åº” application-dev.yml --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">profiles.active</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">profiles.active</span>&gt;</span> <span class="hljs-comment">&lt;!-- å¯¹åº” application-prod.yml --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span> <span class="hljs-comment">&lt;!-- å…³é”®ï¼šå¿…é¡»å¼€å¯è¿‡æ»¤ --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-9">å®æ“ï¼šåœ¨ IDEA ä¸­ä¸€é”®åˆ‡æ¢</h3>
<p>é…ç½®å®Œæˆåï¼Œåœ¨ IntelliJ IDEA ä¸­çš„æ“ä½œæ­¥éª¤å®Œå…¨ä¸€è‡´ï¼š</p>
<ol>
<li><strong>æ‰“å¼€ Maven é¢æ¿</strong>ï¼šç‚¹å‡» IDEA å³ä¾§ä¾§è¾¹æ çš„ <code>Maven</code> æ ‡ç­¾ã€‚</li>
<li><strong>æ‰¾åˆ° Profiles</strong>ï¼šå±•å¼€é¡¹ç›®ä¸‹çš„ <code>Profiles</code> æ–‡ä»¶å¤¹ã€‚</li>
<li><strong>å‹¾é€‰ç¯å¢ƒ</strong>ï¼š
<ul>
<li>æƒ³æ‰“ç”Ÿäº§åŒ…ï¼šå‹¾é€‰ <code>prod</code>ï¼ˆæ­¤æ—¶ <code>dev</code> ä¼šè‡ªåŠ¨å–æ¶ˆå‹¾é€‰ï¼‰ã€‚</li>
<li>æƒ³æ‰“å¼€å‘åŒ…ï¼šå‹¾é€‰ <code>dev</code>ã€‚</li>
</ul>
</li>
<li><strong>æ‰§è¡Œæ‰“åŒ…</strong>ï¼š
<ul>
<li>åœ¨ <code>Lifecycle</code> ä¸‹ï¼ŒåŒå‡» <code>clean</code>ï¼ˆæ¸…ç†æ—§æ–‡ä»¶ï¼‰ã€‚</li>
<li>åŒå‡» <code>package</code>ï¼ˆå¼€å§‹æ‰“åŒ…ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>ğŸ’¡ å°æŠ€å·§</strong>ï¼šå‹¾é€‰ Profile åï¼Œå¦‚æœä»£ç ä¸­å¯¹å˜é‡çš„å¼•ç”¨çˆ†çº¢ï¼Œå¯ä»¥ç‚¹å‡» Maven é¢æ¿å·¦ä¸Šè§’çš„ <strong>"Reload All Maven Projects"</strong>ï¼ˆåˆ·æ–°å›¾æ ‡ï¼‰æ¥åŒæ­¥çŠ¶æ€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">éªŒè¯ç»“æœ</h3>
<p>ä¸è¦ç›²ç›®ç›¸ä¿¡é…ç½®ï¼Œå»ºè®®ç¬¬ä¸€æ¬¡æ‰“åŒ…åè¿›è¡ŒéªŒè¯ï¼š</p>
<ol>
<li>æ‰“åŒ…å®Œæˆåï¼Œåœ¨é¡¹ç›®å·¦ä¾§æ–‡ä»¶æ ‘ä¸­æ‰¾åˆ° <code>target</code> ç›®å½•ã€‚</li>
<li>å±•å¼€ <code>target/classes</code> æˆ–è§£å‹ç”Ÿæˆçš„ <code>.jar</code> åŒ…ã€‚</li>
<li><strong>æ–¹æ¡ˆä¸€éªŒè¯</strong>ï¼šæ£€æŸ¥æ ¹ç›®å½•ä¸‹æ˜¯å¦æœ‰ <code>application.properties</code>ï¼Œä¸”å†…å®¹æ˜¯å¦ä¸ºç”Ÿäº§åº“åœ°å€ã€‚</li>
<li><strong>æ–¹æ¡ˆäºŒéªŒè¯</strong>ï¼šæ‰“å¼€ <code>application.yml</code>ï¼Œæ£€æŸ¥ <code>active: @profiles.active@</code> æ˜¯å¦å·²è¢«æ›¿æ¢ä¸º <code>active: prod</code>ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-11">è¿›é˜¶ï¼šCI/CD å‘½ä»¤è¡Œæ‰“åŒ…</h3>
<p>å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨ Jenkins æˆ– GitLab CI è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸éœ€è¦å›¾å½¢ç•Œé¢ï¼Œåªéœ€åœ¨å‘½ä»¤ä¸­åŠ å…¥ <code>-P</code> å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“åŒ…å¼€å‘ç¯å¢ƒ</span>
mvn clean package -Pdev

<span class="hljs-comment"># æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒ</span>
mvn clean package -Pprod
</code></pre>
<hr/>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p>é€šè¿‡ <strong>Maven Profiles</strong>ï¼Œæˆ‘ä»¬å®ç°äº†ç¯å¢ƒé…ç½®ä¸ä»£ç çš„è§£è€¦ï¼š</p>
<ul>
<li><strong>å®‰å…¨æ€§æå‡</strong>ï¼šé¿å…äº†æ‰‹åŠ¨ä¿®æ”¹é…ç½®å¯¼è‡´çš„ç”Ÿäº§äº‹æ•…ã€‚</li>
<li><strong>æ•ˆç‡æå‡</strong>ï¼šIDEA å›¾å½¢åŒ–å‹¾é€‰ï¼Œä¸€é”®åˆ‡æ¢ã€‚</li>
<li><strong>æ ‡å‡†åŒ–</strong>ï¼šæ— è®ºæ˜¯æœ¬åœ°è¿è¡Œè¿˜æ˜¯æœåŠ¡å™¨æ„å»ºï¼Œéƒ½ç»Ÿä¸€ç®¡ç†ã€‚</li>
</ul>
<p>å»ºè®®æ ¹æ®ä½ çš„é¡¹ç›®ç±»å‹ï¼ˆæ™®é€š Maven é¡¹ç›®é€‰æ–¹æ¡ˆä¸€ï¼ŒSpring Boot é€‰æ–¹æ¡ˆäºŒï¼‰å°½å¿«æ¥å…¥è¿™å¥—æµç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Quarkus WebSocket å…¥é—¨å®è·µ]]></title>    <link>https://juejin.cn/post/7573989365614182400</link>    <guid>https://juejin.cn/post/7573989365614182400</guid>    <pubDate>2025-11-19T06:07:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573989365614182400" data-draft-id="7573978809365626880" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Quarkus WebSocket å…¥é—¨å®è·µ"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-19T06:07:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¹³å‡¡çš„Joe"/> <meta itemprop="url" content="https://juejin.cn/user/1047162215998333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Quarkus WebSocket å…¥é—¨å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1047162215998333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¹³å‡¡çš„Joe
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:07:06.000Z" title="Wed Nov 19 2025 06:07:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰æœŸå‡†å¤‡&amp;ç¯å¢ƒè¯´æ˜</h3>
<ul>
<li>JDK 21 (å¤§äº17å°±è¡Œ)</li>
<li>Quarkus Cli 3.29.3</li>
<li>quarkus mavenå·¥ç¨‹</li>
</ul>
<p>å®‰è£…æœ€æ–°çš„æ’ä»¶</p>
<pre><code class="hljs language-bash" lang="bash">quarkus ext add websockets-next
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸ç”¨ quarkus-websockets?</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91c7b2a68cc44b3c8214a73866c20f2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bmz5Yeh55qESm9l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764140072&amp;x-signature=4Xu0fa0yN2mGeS0TnJ54GdgS8fw%3D" alt="image.png" loading="lazy"/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fquarkus.net.cn%2Fguides%2Fwebsockets-next-tutorial%23quarkus-websockets-vs-quarkus-websockets-next" target="_blank" title="https://quarkus.net.cn/guides/websockets-next-tutorial#quarkus-websockets-vs-quarkus-websockets-next" ref="nofollow noopener noreferrer">quarkus.net.cn/guides/websâ€¦</a></p>
<h3 data-id="heading-1">å¼€å‘å®¢æˆ·ç«¯</h3>
<p><strong>ç›®æ ‡</strong>: è¿æ¥åˆ°æŒ‡å®šçš„wsæœåŠ¡å™¨</p>
<p><strong>æµç¨‹æ­¥éª¤:</strong></p>
<ul>
<li><strong>å®šä¹‰å®¢æˆ·ç«¯ç«¯ç‚¹ï¼ˆ@WebSocketClientï¼‰</strong>
Quarkus çš„ WebSocket Next å®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯éœ€è¦ä¸€ä¸ª <code>@WebSocketClient</code> æ³¨è§£çš„ç±»ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> org.acme;

<span class="hljs-keyword">import</span> io.quarkus.websockets.next.OnTextMessage;
<span class="hljs-keyword">import</span> io.quarkus.websockets.next.WebSocketClient;
<span class="hljs-keyword">import</span> io.quarkus.websockets.next.WebSocketClientConnection;
<span class="hljs-keyword">import</span> jakarta.inject.Inject;

<span class="hljs-meta">@WebSocketClient(path = "/echo")</span> <span class="hljs-comment">// è¿œç¨‹ ws çš„è·¯å¾„ï¼ˆç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyWsClient</span> {

    <span class="hljs-meta">@Inject</span>
    WebSocketClientConnection connection;

    <span class="hljs-meta">@OnTextMessage</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(String msg)</span> {
        System.out.println(<span class="hljs-string">"&gt;&gt;&gt; æ”¶åˆ°æœåŠ¡å™¨æ¶ˆæ¯: "</span> + msg);
    }
}

</code></pre>
<ul>
<li>åªè¦è¿œç¨‹ ws æœåŠ¡å™¨åœ¨ <code>/echo</code> è·¯å¾„ä¸Šï¼Œè¿™ä¸ªç«¯ç‚¹å°±èƒ½æ¥æ”¶æ¶ˆæ¯ã€‚</li>
</ul>

<ul>
<li><strong>ä½¿ç”¨ WebSocketConnector ä¸»åŠ¨è¿æ¥è¿œç¨‹ ws</strong><br/>
éœ€è¦ä¸€ä¸ªä¸šåŠ¡ç±»ä¸»åŠ¨è°ƒç”¨ connector.connect()ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> org.acme;

<span class="hljs-keyword">import</span> io.quarkus.websockets.next.WebSocketConnector;
<span class="hljs-keyword">import</span> io.quarkus.websockets.next.WebSocketClientConnection;
<span class="hljs-keyword">import</span> jakarta.inject.Inject;
<span class="hljs-keyword">import</span> jakarta.inject.Singleton;

<span class="hljs-keyword">import</span> java.net.URI;

<span class="hljs-meta">@Singleton</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WsClientRunner</span> {

    <span class="hljs-meta">@Inject</span>
    WebSocketConnector&lt;MyWsClient&gt; connector;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">connect</span><span class="hljs-params">()</span> {
        <span class="hljs-type">URI</span> <span class="hljs-variable">uri</span> <span class="hljs-operator">=</span> URI.create(<span class="hljs-string">"ws://localhost:9000"</span>); <span class="hljs-comment">// å¤–éƒ¨ ws æœåŠ¡</span>

        <span class="hljs-type">WebSocketClientConnection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connector
                .baseUri(uri)      <span class="hljs-comment">// ws://localhost:9000</span>
                .connectAndAwait(); <span class="hljs-comment">// é˜»å¡ç›´åˆ°è¿æ¥æˆåŠŸ</span>

        System.out.println(<span class="hljs-string">"&gt;&gt;&gt; å·²è¿æ¥åˆ°å¤–éƒ¨ WebSocket æœåŠ¡"</span>);

        <span class="hljs-comment">// ä¸»åŠ¨å‘é€ä¸€æ¡æ¶ˆæ¯</span>
        conn.sendTextAndAwait(<span class="hljs-string">"Hello WS Server!"</span>);
    }
}

</code></pre>
<ul>
<li><strong>å‘é€æ¶ˆæ¯ / æ¥æ”¶æ¶ˆæ¯</strong><br/>
æ ¹æ®ä¸šåŠ¡é€»è¾‘è¿›è¡Œä¸»åŠ¨æˆ–è‡ªåŠ¨è¿æ¥åˆ°WSæœåŠ¡å™¨</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.quarkus.runtime.StartupEvent;
<span class="hljs-keyword">import</span> jakarta.enterprise.event.Observes;

<span class="hljs-meta">@Singleton</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Startup</span> {

    <span class="hljs-meta">@Inject</span>
    WsClientRunner runner;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">(<span class="hljs-meta">@Observes</span> StartupEvent ev)</span> {
        runner.connect();
    }
}

</code></pre>
<h2 data-id="heading-2">ğŸ“Œ é‡ç‚¹è¯´æ˜</h2>





























<table><thead><tr><th>éœ€æ±‚</th><th>å¯¹åº”ç”¨æ³•</th></tr></thead><tbody><tr><td>ä¸»åŠ¨è¿æ¥å¤–éƒ¨ ws æœåŠ¡</td><td><strong>WebSocketConnector</strong></td></tr><tr><td>æ¥æ”¶æ¶ˆæ¯</td><td>åœ¨ <code>@WebSocketClient</code> ä¸­å†™ <code>@OnTextMessage</code></td></tr><tr><td>å‘é€æ¶ˆæ¯</td><td>connection.sendText() / sendTextAndAwait()</td></tr><tr><td>é…è·¯å¾„å‚æ•°</td><td><code>.pathParam("name", "abc")</code></td></tr><tr><td>è¿æ¥å¤šä¸ª ws</td><td>ä½¿ç”¨ <code>Instance&lt;WebSocketConnector&lt;T&gt;&gt;</code></td></tr></tbody></table>
<p>Quarkus WebSockets Next å®¢æˆ·ç«¯æœ¬è´¨ä¸Šæ˜¯<strong>å…¨å¼‚æ­¥ã€è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸçš„ WebSocket å®¢æˆ·ç«¯</strong>ï¼Œæ¯”ä¼ ç»Ÿ Java WebSocket API å¥½ç”¨å¤ªå¤šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€SpringBootã€‘37 æ ¸å¿ƒåŠŸèƒ½ - é«˜çº§ç‰¹æ€§- Spring Boot ä¸­çš„ è‡ªå®šä¹‰ Starter å®Œæ•´æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7574069837532119076</link>    <guid>https://juejin.cn/post/7574069837532119076</guid>    <pubDate>2025-11-19T06:10:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574069837532119076" data-draft-id="7573971406416068651" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€SpringBootã€‘37 æ ¸å¿ƒåŠŸèƒ½ - é«˜çº§ç‰¹æ€§- Spring Boot ä¸­çš„ è‡ªå®šä¹‰ Starter å®Œæ•´æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T06:10:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€SpringBootã€‘37 æ ¸å¿ƒåŠŸèƒ½ - é«˜çº§ç‰¹æ€§- Spring Boot ä¸­çš„ è‡ªå®šä¹‰ Starter å®Œæ•´æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:10:26.000Z" title="Wed Nov 19 2025 06:10:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨Â Spring BootÂ ä¸­ï¼Œè‡ªå®šä¹‰ Starter æ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„æ–¹å¼ï¼Œå¯ä»¥å°†å¸¸ç”¨çš„åŠŸèƒ½æ¨¡å—å°è£…æˆå¯å¤ç”¨çš„ç»„ä»¶ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ Starterï¼Œå¹¶æä¾›å®Œæ•´çš„ä½¿ç”¨æµç¨‹å’Œä»£ç ç¤ºä¾‹ã€‚</p>
<hr/>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸€ã€è‡ªå®šä¹‰ Starter åŸç†</h3>
<p>Spring Boot çš„[è‡ªåŠ¨é…ç½®]æœºåˆ¶ä¾èµ–äºÂ <code>META-INF/spring.factories</code>Â æ–‡ä»¶ä¸­çš„Â <code>EnableAutoConfiguration</code>Â [é…ç½®é¡¹]ã€‚å½“é¡¹ç›®å¯åŠ¨æ—¶ï¼ŒSpring Boot ä¼šæ‰«ææ‰€æœ‰Â <code>META-INF/spring.factories</code>Â æ–‡ä»¶ï¼ŒåŠ è½½å…¶ä¸­æŒ‡å®šçš„è‡ªåŠ¨é…ç½®ç±»ã€‚</p>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å¯åŠ¨æµç¨‹å›¾è§£ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">starter â†’ autoconfigure â†’ spring-boot-starter
         â†‘
         â””â”€ META-INF/spring.factories

AIå†™ä»£ç 
123
</code></pre>
<ul>
<li><code>starter</code>ï¼šMaven/Gradle ä¾èµ–åŒ…ï¼ˆå¯åŠ¨å™¨ï¼‰</li>
<li><code>autoconfigure</code>ï¼šåŒ…å«è‡ªåŠ¨é…ç½®é€»è¾‘çš„åŒ…</li>
<li><code>spring.factories</code>ï¼šé…ç½®è‡ªåŠ¨é…ç½®ç±»çš„å…¥å£æ–‡ä»¶</li>
</ul>
<hr/>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€é¡¹ç›®ç»“æ„è®¾è®¡</h3>
<p>æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„â€œHello Worldâ€åŠŸèƒ½ä¸ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>atguigu-hello-spring-boot-starter</code>Â çš„è‡ªå®šä¹‰ Starterã€‚</p>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1. æ¨¡å—åˆ’åˆ†</h4>
<pre><code class="hljs language-css" lang="css">â”œâ”€â”€ atguigu-hello-spring-boot-starter (Starter)
â”‚   â”œâ”€â”€ pom<span class="hljs-selector-class">.xml</span>
â”‚   â””â”€â”€ <span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/java/com/atguigu/hello/HelloService<span class="hljs-selector-class">.java</span>
â”‚
â”œâ”€â”€ atguigu-hello-spring-boot-starter-autoconfigure (Autoconfigure)
â”‚   â”œâ”€â”€ pom<span class="hljs-selector-class">.xml</span>
â”‚   â”œâ”€â”€ <span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/java/com/atguigu/hello/config/HelloAutoConfiguration<span class="hljs-selector-class">.java</span>
â”‚   â”œâ”€â”€ <span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/java/com/atguigu/hello/config/HelloProperties<span class="hljs-selector-class">.java</span>
â”‚   â””â”€â”€ <span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/resources/META-INF/spring<span class="hljs-selector-class">.factories</span>

AIå†™ä»£ç 
<span class="hljs-number">123456789</span>
</code></pre>
<hr/>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€ä»£ç å®ç°</h3>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1. åˆ›å»º Autoconfigure æ¨¡å—</h4>
<h5 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>pom.xml</code></h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.atguigu<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>atguigu-hello-spring-boot-starter-autoconfigure<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-autoconfigure<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>

AIå†™ä»£ç xml
12345678910111213141516171819202122232425
</code></pre>
<h5 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>HelloProperties.java</code>ï¼ˆé…ç½®å±æ€§ç±»ï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">atguigu</span>.<span class="hljs-property">hello</span>.<span class="hljs-property">config</span>;

<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">context</span>.<span class="hljs-property">properties</span>.<span class="hljs-property">ConfigurationProperties</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Component</span>;

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"hello"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloProperties</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> message = <span class="hljs-string">"Hello, World!"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getMessage</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> message;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;
    }
}

<span class="hljs-variable constant_">AI</span>å†™ä»£ç java
è¿è¡Œ
<span class="hljs-number">12345678910111213141516171819</span>
</code></pre>
<h5 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>HelloAutoConfiguration.java</code>ï¼ˆè‡ªåŠ¨é…ç½®ç±»ï¼‰</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.atguigu.hello.config;

<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
<span class="hljs-keyword">import</span> org.springframework.boot.context.properties.EnableConfigurationProperties;
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Configuration;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableConfigurationProperties(HelloProperties.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloAutoConfiguration</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnMissingBean</span>
    <span class="hljs-keyword">public</span> HelloService helloService(HelloProperties properties) {
        <span class="hljs-keyword">return</span> new HelloService(properties.getMessage());
    }
}

AIå†™ä»£ç java
è¿è¡Œ
<span class="hljs-number">1234567891011121314151617</span>
</code></pre>
<h5 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>HelloService.java</code>ï¼ˆä¸šåŠ¡é€»è¾‘ç±»ï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino">package com.atguigu.hello;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> message;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HelloService</span><span class="hljs-params">(<span class="hljs-type">String</span> message)</span> </span>{
        <span class="hljs-keyword">this</span>.message = message;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-title">sayHello</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> message;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">printHello</span><span class="hljs-params">()</span> </span>{
        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-built_in">sayHello</span>());
    }
}

AIå†™ä»£ç java
è¿è¡Œ
<span class="hljs-number">123456789101112131415161718</span>
</code></pre>
<h5 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>META-INF/spring.factories</code></h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.autoconfigure.EnableAutoConfiguration</span>=\
com.atguigu.hello.config.HelloAutoConfiguration

AIå†™ä»£ç properties
12
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼š<code>spring.factories</code>Â æ–‡ä»¶å¿…é¡»æ”¾åœ¨Â <code>src/main/resources/META-INF/</code>Â ç›®å½•ä¸‹ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2. åˆ›å»º Starter æ¨¡å—</h4>
<h5 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>pom.xml</code></h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.atguigu<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>atguigu-hello-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¼•å…¥ autoconfigure åŒ… --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.atguigu<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>atguigu-hello-spring-boot-starter-autoconfigure<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>

AIå†™ä»£ç xml
123456789101112131415161718192021222324252627
</code></pre>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼šè¿™ä¸ª starter åªæ˜¯ä¸€ä¸ªâ€œé—¨é¢â€ï¼ŒçœŸæ­£å®ç°è‡ªåŠ¨é…ç½®çš„æ˜¯Â <code>autoconfigure</code>Â æ¨¡å—ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ä½¿ç”¨è‡ªå®šä¹‰ Starter</h3>
<h4 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1. åœ¨ç›®æ ‡é¡¹ç›®ä¸­å¼•å…¥ Starter</h4>
<h5 data-id="heading-16"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><code>pom.xml</code></h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.atguigu<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>atguigu-hello-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

AIå†™ä»£ç xml
12345
</code></pre>
<h4 data-id="heading-17"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2. é…ç½®æ–‡ä»¶Â <code>application.yml</code></h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">hello:</span>
  message: <span class="hljs-string">"Hello, Spring Boot!"</span>

AIå†™ä»£ç yaml
12
</code></pre>
<h4 data-id="heading-18"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3. ç¼–å†™æµ‹è¯•ä»£ç </h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">DemoApplication</span>.<span class="hljs-property">class</span>, args);
    }

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">HelloService</span> helloService;

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        helloService.<span class="hljs-title function_">printHello</span>(); <span class="hljs-comment">// è¾“å‡º: Hello, Spring Boot!</span>
    }
}

<span class="hljs-variable constant_">AI</span>å†™ä»£ç java
è¿è¡Œ
<span class="hljs-number">123456789101112131415</span>
</code></pre>
<hr/>
<h3 data-id="heading-19"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äº”ã€å®Œæ•´æµç¨‹æ€»ç»“</h3>

































<table><thead><tr><th>æ­¥éª¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>1</td><td>åˆ›å»ºÂ <code>autoconfigure</code>Â æ¨¡å—ï¼ŒåŒ…å«è‡ªåŠ¨é…ç½®é€»è¾‘</td></tr><tr><td>2</td><td>ç¼–å†™Â <code>@Configuration</code>Â ç±»ï¼Œä½¿ç”¨Â <code>@EnableConfigurationProperties</code>Â ç»‘å®šé…ç½®</td></tr><tr><td>3</td><td>åœ¨Â <code>META-INF/spring.factories</code>Â ä¸­æ³¨å†Œè‡ªåŠ¨é…ç½®ç±»</td></tr><tr><td>4</td><td>åˆ›å»ºÂ <code>starter</code>Â æ¨¡å—ï¼Œä»…ä¾èµ–Â <code>autoconfigure</code></td></tr><tr><td>5</td><td>åœ¨ä¸»é¡¹ç›®ä¸­å¼•å…¥Â <code>starter</code>ï¼Œæ— éœ€é¢å¤–é…ç½®</td></tr><tr><td>6</td><td>é€šè¿‡Â <code>application.yml</code>Â è®¾ç½®å‚æ•°ï¼Œè‡ªåŠ¨ç”Ÿæ•ˆ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-20"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å…­ã€å…³é”®æ³¨è§£è¯´æ˜</h3>





























<table><thead><tr><th>æ³¨è§£</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>@Configuration</code></td><td>æ ‡è®°ä¸ºé…ç½®ç±»</td></tr><tr><td><code>@EnableConfigurationProperties</code></td><td>å¯ç”¨é…ç½®å±æ€§ç»‘å®š</td></tr><tr><td><code>@ConditionalOnMissingBean</code></td><td>å½“å®¹å™¨ä¸­æ²¡æœ‰è¯¥ Bean æ—¶æ‰åˆ›å»º</td></tr><tr><td><code>@Component</code></td><td>å°†ç±»æ³¨å†Œä¸º Spring Bean</td></tr><tr><td><code>@ConfigurationProperties</code></td><td>ç»‘å®šé…ç½®æ–‡ä»¶å‰ç¼€å±æ€§</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-21"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸ƒã€æ‰©å±•å»ºè®®</h3>
<ul>
<li>æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼ˆå¦‚Â <code>dev</code>,Â <code>prod</code>ï¼‰</li>
<li>æ·»åŠ æ—¥å¿—è®°å½•æˆ–ç›‘æ§åŠŸèƒ½</li>
<li>ä½¿ç”¨Â <code>@ConditionalOnClass</code>Â æˆ–Â <code>@ConditionalOnProperty</code>Â å®ç°æ›´å¤æ‚çš„æ¡ä»¶åˆ¤æ–­</li>
<li>æä¾›æ¥å£ä¾›å¤–éƒ¨æ‰©å±•</li>
</ul>
<hr/>
<h3 data-id="heading-22"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å…«ã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><code>spring.factories</code>Â æ–‡ä»¶æ ¼å¼å¿…é¡»æ­£ç¡®ï¼Œä¸èƒ½æœ‰ç©ºæ ¼æˆ–æ¢è¡Œé”™è¯¯ã€‚</li>
<li>ç¡®ä¿Â <code>autoconfigure</code>Â æ¨¡å—çš„Â <code>spring-boot-autoconfigure</code>Â ä¾èµ–å·²æ·»åŠ ã€‚</li>
<li>å¯åŠ¨å™¨æ¨¡å—ä¸è¦ç›´æ¥å†™ä¸šåŠ¡é€»è¾‘ï¼Œåªåšä¾èµ–ç®¡ç†ã€‚</li>
<li>ç‰ˆæœ¬å·ä¿æŒä¸€è‡´ï¼Œé¿å…å†²çªã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-23"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¹ã€è¿è¡Œæ•ˆæœ</h3>
<p>å¯åŠ¨é¡¹ç›®åï¼Œ[æ§åˆ¶å°è¾“å‡º]ï¼š</p>
<pre><code class="hljs">Hello, Spring Boot!

AIå†™ä»£ç 
1
</code></pre>
<p>è¯´æ˜è‡ªå®šä¹‰ Starter æˆåŠŸåŠ è½½å¹¶æ‰§è¡Œäº†è‡ªåŠ¨é…ç½®é€»è¾‘ã€‚</p>
<hr/>
<p>âœ…Â <strong>æ€»ç»“</strong>ï¼šé€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†ä»»ä½•åŠŸèƒ½å°è£…ä¸ºå¯å¤ç”¨çš„ Spring Boot Starterï¼Œæå‡å¼€å‘æ•ˆç‡ä¸ä»£ç å¤ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Webpackâ€”â€”æ’ä»¶å®ç°çš„ç†è§£]]></title>    <link>https://juejin.cn/post/7573995798603087887</link>    <guid>https://juejin.cn/post/7573995798603087887</guid>    <pubDate>2025-11-19T05:46:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798603087887" data-draft-id="7573968791202627630" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Webpackâ€”â€”æ’ä»¶å®ç°çš„ç†è§£"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2025-11-19T05:46:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ·è¿™ä¸ªåå­—"/> <meta itemprop="url" content="https://juejin.cn/user/3646404655847591"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Webpackâ€”â€”æ’ä»¶å®ç°çš„ç†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3646404655847591/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ·è¿™ä¸ªåå­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T05:46:33.000Z" title="Wed Nov 19 2025 05:46:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>Webpack æ’ä»¶æ˜¯ Webpack ä¸­éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼ŒPluginsè´¯ç©¿æ•´ä¸ªé¡¹ç›®æ„å»ºè¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e0dcb24571045daaa2756537dae83bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LW36L-Z5Liq5ZCN5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764136488&amp;x-signature=EuAzvUqZGrev9rs%2FrvZgZKIpJ%2Bc%3D" alt="" loading="lazy"/></p>
<p>Webpack çš„æ’ä»¶åŒ…æ‹¬å†…ç½®æ’ä»¶å’Œé…ç½®ä¸­çš„æ’ä»¶ï¼ŒWebpack åœ¨å¤„ç†æ’ä»¶æ—¶ï¼Œä¼šå°†å®ƒä»¬éƒ½çº³å…¥åˆ°ç¼–è¯‘ç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>
<h2 data-id="heading-0">å†…ç½®æ’ä»¶</h2>
<p>å†…ç½®æ’ä»¶ä¼šåœ¨ webpack ç¼–è¯‘è¿‡ç¨‹çš„ç‰¹å®šé˜¶æ®µè‡ªåŠ¨æ‰§è¡Œã€‚å®ƒä»¬æ˜¯ç”± webpack æ ¸å¿ƒå›¢é˜Ÿç»´æŠ¤çš„ï¼Œç”¨äºå®ç° webpack çš„æ ¸å¿ƒåŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå½“ webpack é…ç½®ä¸­è®¾ç½®äº† <code>mode</code> ä¸º 'production' æ—¶ï¼Œwebpack ä¼šè‡ªåŠ¨å¯ç”¨ä¸€äº›å†…ç½®æ’ä»¶ï¼Œå¦‚ <code>TerserPlugin</code>ï¼ˆç”¨äºä»£ç å‹ç¼©ï¼‰ç­‰ã€‚</p>
<h2 data-id="heading-1">é…ç½®æ’ä»¶</h2>
<p>åœ¨ webpack é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>plugins</code> æ•°ç»„ä¸­æ·»åŠ è‡ªå®šä¹‰æ’ä»¶æˆ–ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚è¿™äº›æ’ä»¶ä¼šåœ¨ webpack åˆå§‹åŒ–æ—¶æ³¨å†Œåˆ° Tappable é’©å­ä¸Šå¹¶åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰§è¡Œã€‚</p>
<h2 data-id="heading-2">Tappable åº“</h2>
<p>webpack çš„æ’ä»¶ç³»ç»Ÿæ˜¯åŸºäº Tapable åº“å®ç°çš„ï¼Œå®ƒæä¾›äº†å¤šç§é’©å­ï¼ˆhooksï¼‰ç±»å‹ï¼Œå¦‚ <code>SyncHook</code>ã€<code>AsyncSeriesHook</code> ç­‰ã€‚æ’ä»¶é€šè¿‡åœ¨è¿™äº›é’©å­ä¸Šæ³¨å†Œäº‹ä»¶å›è°ƒæ¥åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ã€‚æƒ³è¦æ·±å…¥ç†è§£webpack çš„æ’ä»¶ç³»ç»Ÿå°±éœ€è¦äº†è§£ Tappable æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>
<p>Tapableæ˜¯ä¸€ä¸ªç”¨äºäº‹ä»¶å‘å¸ƒè®¢é˜…æ‰§è¡Œçš„åº“ï¼Œç±»ä¼¼äºNode.jsçš„EventEmitterï¼Œä½†æ›´åŠ å¼ºå¤§ï¼Œæ”¯æŒå¤šç§ç±»å‹çš„äº‹ä»¶é’©å­ï¼ˆHookï¼‰ã€‚åœ¨webpackä¸­ï¼ŒTapableè¢«ç”¨æ¥åˆ›å»ºå„ç§é’©å­ï¼Œè¿™äº›é’©å­åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸åŒæ—¶æœºè¢«è§¦å‘ã€‚æ’ä»¶é€šè¿‡æ³¨å†Œè¿™äº›é’©å­æ¥ä»‹å…¥ç¼–è¯‘è¿‡ç¨‹ï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½ã€‚</p>
<p><strong>å®‰è£… Tappable</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm install tapable
</code></pre>
<p>ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªwebpackç¼–è¯‘è¿‡ç¨‹çš„ç®€å•ç¤ºä¾‹ï¼š</p>
<ol>
<li>å¼•å…¥Tapableåº“ï¼Œå¹¶åˆ›å»ºä¸€ç§ç±»å‹çš„é’©å­ï¼ˆä¾‹å¦‚SyncHookï¼ŒåŒæ­¥é’©å­ï¼‰ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªæ’ä»¶ï¼Œè¯¥æ’ä»¶åœ¨é’©å­ä¸Šæ³¨å†Œä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚</li>
<li>åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è§¦å‘é’©å­ï¼Œä»è€Œæ‰§è¡Œæ’ä»¶æ³¨å†Œçš„å¤„ç†å‡½æ•°ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">SyncHook</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tapable'</span>);

<span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªåŒæ­¥é’©å­å®ä¾‹ï¼ŒæŒ‡å®šå‚æ•°åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> hook = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'arg1'</span>, <span class="hljs-string">'arg2'</span>]);

<span class="hljs-comment">// 2. æ³¨å†Œæ’ä»¶</span>
<span class="hljs-comment">// æ’ä»¶å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ªapplyæ–¹æ³•ï¼Œapplyæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼ˆæˆ‘ä»¬è¿™é‡Œç®€å•ç”¨hookå¯¹è±¡æ¨¡æ‹Ÿç¼–è¯‘å™¨ï¼‰</span>
<span class="hljs-comment">// åœ¨applyæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨é’©å­ä¸Šæ³¨å†Œä¸€ä¸ªå¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPlugin</span> {
  <span class="hljs-title function_">apply</span>(<span class="hljs-params">compiler</span>) {
    compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span> = hook; <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªdoneé’©å­</span>
    hook.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyPlugin'</span>, <span class="hljs-function">(<span class="hljs-params">arg1, arg2</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPluginè¢«è°ƒç”¨ï¼Œå‚æ•°ä¸º:'</span>, arg1, arg2);
    });
  }
}

<span class="hljs-comment">// 3. æ¨¡æ‹Ÿwebpackç¼–è¯‘å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Compiler</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span> = {
      <span class="hljs-comment">// æˆ‘ä»¬è¿™é‡Œç”¨ä¸€ä¸ªSyncHookå®ä¾‹ä½œä¸ºdoneé’©å­</span>
      <span class="hljs-attr">done</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'arg1'</span>, <span class="hljs-string">'arg2'</span>])
    };
  }

  <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¨¡æ‹Ÿç¼–è¯‘è¿‡ç¨‹...</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¼€å§‹ç¼–è¯‘...'</span>);
    <span class="hljs-comment">// ç¼–è¯‘å®Œæˆåè§¦å‘doneé’©å­ï¼Œå¹¶ä¼ é€’å‚æ•°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">call</span>(<span class="hljs-string">'å‚æ•°1'</span>, <span class="hljs-string">'å‚æ•°2'</span>);
  }
}

<span class="hljs-comment">// 4. ä½¿ç”¨æ’ä»¶</span>
<span class="hljs-keyword">const</span> compiler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compiler</span>();
<span class="hljs-keyword">const</span> myPlugin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPlugin</span>();
myPlugin.<span class="hljs-title function_">apply</span>(compiler); <span class="hljs-comment">// æ’ä»¶æ³¨å†Œï¼Œå°†å¤„ç†å‡½æ•°æŒ‚è½½åˆ°é’©å­ä¸Š</span>

<span class="hljs-comment">// 5. å¼€å§‹ç¼–è¯‘ï¼Œè§¦å‘é’©å­</span>
compiler.<span class="hljs-title function_">run</span>();
</code></pre>
<p>ä¸Šé¢ä½¿ç”¨äº† Tappable ä¸­çš„ SyncHook åŒæ­¥é’©å­å®ä¾‹ï¼Œå…¶å® Tapable æä¾›äº†å¤šç§ç±»å‹çš„ Hookï¼ˆé’©å­ï¼‰ï¼Œç”¨äºä¸åŒçš„åœºæ™¯ï¼Œå¯ä»¥è‡ªè¡Œäº†è§£ï¼Œä¸æ˜¯æœ¬ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œæœ¬ç¯‡æ–‡ç« åªä»¥æ¯”è¾ƒç®€å•çš„ SyncHook åŒæ­¥é’©å­æ¥ç†è§£æ’ä»¶çš„å®ç°ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªä¸œè¥¿éœ€è¦åŒºåˆ†ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> hook = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'arg1'</span>, <span class="hljs-string">'arg2'</span>]); <span class="hljs-comment">// Tappable çš„é’©å­</span>
compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span> = hook; <span class="hljs-comment">// webpack çš„é’©å­</span>
</code></pre>
<h3 data-id="heading-3">Tapable ä¸­ SyncHook é’©å­çš„å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SyncHook</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">args = []</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_args</span> = args; <span class="hljs-comment">// å‚æ•°åç§°æ•°ç»„</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taps</span> = [];    <span class="hljs-comment">// å­˜å‚¨æ³¨å†Œçš„ webpack æ’ä»¶</span>
  }

  <span class="hljs-comment">// æ³¨å†ŒåŒæ­¥æ’ä»¶</span>
  <span class="hljs-title function_">tap</span>(<span class="hljs-params">name, fn</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taps</span>.<span class="hljs-title function_">push</span>({
      name,
      <span class="hljs-attr">type</span>: <span class="hljs-string">'sync'</span>,
      fn
    });
  }

  <span class="hljs-comment">// è§¦å‘é’©å­æ‰§è¡Œ</span>
  <span class="hljs-title function_">call</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-comment">// ç¡®ä¿å‚æ•°æ•°é‡æ­£ç¡®</span>
    <span class="hljs-keyword">const</span> finalArgs = args.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_args</span>.<span class="hljs-property">length</span>);

    <span class="hljs-comment">// ä¾æ¬¡æ‰§è¡Œæ‰€æœ‰æ³¨å†Œçš„å‡½æ•°</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">taps</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> tap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taps</span>[i];
      tap.<span class="hljs-property">fn</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, finalArgs);
    }
  }
}
</code></pre>
<h2 data-id="heading-4">ç¼–è¯‘è¿‡ç¨‹ä¸­æ’ä»¶çš„è°ƒç”¨åŸç†</h2>
<p><strong>Compiler ç±»å®ç°</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆçš„ Compiler ç±»å®šä¹‰</span>
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">Tapable</span>, <span class="hljs-title class_">SyncHook</span>, <span class="hljs-title class_">AsyncSeriesHook</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tapable'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compiler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Tapable</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">context</span>) {
    <span class="hljs-variable language_">super</span>();

    <span class="hljs-comment">// 1. æ ¸å¿ƒå±æ€§åˆå§‹åŒ–</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span> = context; <span class="hljs-comment">// ä¸Šä¸‹æ–‡è·¯å¾„</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {}; <span class="hljs-comment">// é…ç½®é€‰é¡¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createHooks</span>(); <span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸé’©å­</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// ç¼–è¯‘å™¨åç§°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentCompilation</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// çˆ¶çº§ compilation</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span> = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// æ ¹ç¼–è¯‘å™¨</span>

    <span class="hljs-comment">// 2. æ–‡ä»¶ç³»ç»Ÿ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputFileSystem</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è¾“å…¥æ–‡ä»¶ç³»ç»Ÿ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">outputFileSystem</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è¾“å‡ºæ–‡ä»¶ç³»ç»Ÿ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">intermediateFileSystem</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä¸­é—´æ–‡ä»¶ç³»ç»Ÿ</span>

    <span class="hljs-comment">// 3. è®°å½•å’Œç¼“å­˜</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">records</span> = {}; <span class="hljs-comment">// æ„å»ºè®°å½•</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchFileSystem</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç›‘å¬æ–‡ä»¶ç³»ç»Ÿ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// ç¼“å­˜</span>

    <span class="hljs-comment">// 4. çŠ¶æ€ç®¡ç†</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨è¿è¡Œ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchMode</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ˜¯å¦ä¸ºç›‘å¬æ¨¡å¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">idle</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ˜¯å¦ç©ºé—²</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modifiedFiles</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// ä¿®æ”¹çš„æ–‡ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">removedFiles</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// åˆ é™¤çš„æ–‡ä»¶</span>
  }

  <span class="hljs-comment">// åˆ›å»ºç”Ÿå‘½å‘¨æœŸé’©å­</span>
  <span class="hljs-title function_">_createHooks</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åˆå§‹åŒ–é˜¶æ®µ</span>
      <span class="hljs-attr">initialize</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([]),

      <span class="hljs-comment">// æ„å»ºå¼€å§‹å‰</span>
      <span class="hljs-attr">environment</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([]),
      <span class="hljs-attr">afterEnvironment</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([]),
      <span class="hljs-attr">entryOption</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'context'</span>, <span class="hljs-string">'entry'</span>]),

      <span class="hljs-comment">// æ„å»ºè¿‡ç¨‹</span>
      <span class="hljs-attr">beforeRun</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'compiler'</span>]),
      <span class="hljs-attr">run</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'compiler'</span>]),
      <span class="hljs-attr">beforeCompile</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'params'</span>]),
      <span class="hljs-attr">compile</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'params'</span>]),
      <span class="hljs-attr">thisCompilation</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'compilation'</span>, <span class="hljs-string">'params'</span>]),
      <span class="hljs-attr">compilation</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'compilation'</span>, <span class="hljs-string">'params'</span>]),
      <span class="hljs-attr">make</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncParallelHook</span>([<span class="hljs-string">'compilation'</span>]),
      <span class="hljs-attr">afterCompile</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'compilation'</span>]),

      <span class="hljs-comment">// è¾“å‡ºé˜¶æ®µ</span>
      <span class="hljs-attr">emit</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'compilation'</span>]),
      <span class="hljs-attr">afterEmit</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'compilation'</span>]),

      <span class="hljs-comment">// å®Œæˆé˜¶æ®µ</span>
      <span class="hljs-attr">done</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([<span class="hljs-string">'stats'</span>]),
      <span class="hljs-attr">failed</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'error'</span>]),
      <span class="hljs-attr">invalid</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([<span class="hljs-string">'filename'</span>, <span class="hljs-string">'changeTime'</span>]),
      <span class="hljs-attr">watchClose</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([]),
      <span class="hljs-attr">shutdown</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncSeriesHook</span>([])
    };
  }

  <span class="hljs-comment">// è¿è¡Œæ„å»º</span>
  <span class="hljs-title function_">run</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-comment">// æ„å»ºæµç¨‹å®ç°</span>
     <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">callback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Compiler is already running'</span>));
    }

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">finalCallback</span> = (<span class="hljs-params">err, stats</span>) =&gt; {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> = <span class="hljs-literal">false</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_cleanup</span>();
      <span class="hljs-keyword">if</span> (callback) <span class="hljs-title function_">callback</span>(err, stats);
    };

    <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> = <span class="hljs-literal">true</span>;

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ ========== å¼€å§‹æ„å»ºæµç¨‹ ==========\n'</span>);

    <span class="hljs-comment">// æ‰§è¡Œæ„å»ºæµç¨‹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_run</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-title function_">finalCallback</span>(err);

      <span class="hljs-comment">// ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯</span>
      <span class="hljs-keyword">const</span> stats = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_getStats</span>(startTime);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nğŸ“Š ç”Ÿæˆæ„å»ºç»Ÿè®¡ä¿¡æ¯'</span>);

      <span class="hljs-comment">// è§¦å‘ done é’©å­</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">callAsync</span>(stats, <span class="hljs-function">(<span class="hljs-params">hookErr</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (hookErr) <span class="hljs-keyword">return</span> <span class="hljs-title function_">finalCallback</span>(hookErr);
        <span class="hljs-title function_">finalCallback</span>(<span class="hljs-literal">null</span>, stats);
      });
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">_run</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// 1. è§¦å‘ beforeRun é’©å­</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ é˜¶æ®µ 1: å‡†å¤‡æ„å»ºç¯å¢ƒ'</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">beforeRun</span>.<span class="hljs-title function_">promise</span>(<span class="hljs-variable language_">this</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   âœ… beforeRun å®Œæˆ\n'</span>);

      <span class="hljs-comment">// 2. è§¦å‘ run é’©å­</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ é˜¶æ®µ 2: å¯åŠ¨æ„å»ºæµç¨‹'</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">run</span>.<span class="hljs-title function_">promise</span>(<span class="hljs-variable language_">this</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   âœ… run å®Œæˆ\n'</span>);

      <span class="hljs-comment">// 3. è¯»å–è®°å½•ï¼ˆç”¨äºå¢é‡æ„å»ºï¼‰</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ é˜¶æ®µ 3: è¯»å–æ„å»ºè®°å½•'</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_readRecords</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   âœ… è®°å½•è¯»å–å®Œæˆ\n'</span>);

      <span class="hljs-comment">// 4. æ‰§è¡Œç¼–è¯‘</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ é˜¶æ®µ 4: æ‰§è¡Œç¼–è¯‘'</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_compile</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   âœ… ç¼–è¯‘å®Œæˆ\n'</span>);

      <span class="hljs-title function_">callback</span>();

    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'âŒ æ„å»ºè¿‡ç¨‹å‡ºé”™:'</span>, error);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">failed</span>.<span class="hljs-title function_">call</span>(error);
      <span class="hljs-title function_">callback</span>(error);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">_readRecords</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">recordsInputPath</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">recordsOutputPath</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ“– è¯»å–æ„å»ºè®°å½•æ–‡ä»¶...'</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">50</span>));
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   âœ… æ„å»ºè®°å½•åŠ è½½å®Œæˆ'</span>);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">_compile</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆ›å»ºç¼–è¯‘å‚æ•°</span>
    <span class="hljs-keyword">const</span> params = {
      <span class="hljs-attr">normalModuleFactory</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createNormalModuleFactory</span>(),
      <span class="hljs-attr">contextModuleFactory</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createContextModuleFactory</span>()
    };

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ”§ åˆ›å»ºç¼–è¯‘å‚æ•°'</span>);

    <span class="hljs-comment">// è§¦å‘ beforeCompile é’©å­</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ¯ è§¦å‘ beforeCompile é’©å­'</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">beforeCompile</span>.<span class="hljs-title function_">promise</span>(params);

    <span class="hljs-comment">// è§¦å‘ compile é’©å­</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ¯ è§¦å‘ compile é’©å­'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">call</span>(params);

    <span class="hljs-comment">// åˆ›å»º compilation å¯¹è±¡</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ—ï¸  åˆ›å»º compilation å¯¹è±¡'</span>);
    <span class="hljs-keyword">const</span> compilation = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createCompilation</span>();
    compilation.<span class="hljs-property">params</span> = params;

    <span class="hljs-comment">// è§¦å‘ compilation ç›¸å…³é’©å­</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">thisCompilation</span>.<span class="hljs-title function_">call</span>(compilation, params);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">compilation</span>.<span class="hljs-title function_">call</span>(compilation, params);

    <span class="hljs-comment">// è§¦å‘ make é’©å­ - æ ¸å¿ƒæ„å»ºé˜¶æ®µ</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ¯ è§¦å‘ make é’©å­ - å¼€å§‹æ„å»ºæ¨¡å—'</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">make</span>.<span class="hljs-title function_">promise</span>(compilation);

    <span class="hljs-comment">// å¯†å° compilationï¼ˆå®Œæˆæ¨¡å—æ„å»ºï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ”’ å¯†å° compilation'</span>);
    <span class="hljs-keyword">await</span> compilation.<span class="hljs-title function_">seal</span>();

    <span class="hljs-comment">// è§¦å‘ afterCompile é’©å­</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ¯ è§¦å‘ afterCompile é’©å­'</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">afterCompile</span>.<span class="hljs-title function_">promise</span>(compilation);

    <span class="hljs-comment">// ç”Ÿæˆèµ„æº</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ“„ ç”Ÿæˆè¾“å‡ºèµ„æº'</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_emitAssets</span>(compilation);
  }

  <span class="hljs-title function_">_createNormalModuleFactory</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ­ åˆ›å»º NormalModuleFactory'</span>);
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'NormalModuleFactory'</span>,
      <span class="hljs-attr">context</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>
    };
  }

  <span class="hljs-title function_">_createContextModuleFactory</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ­ åˆ›å»º ContextModuleFactory'</span>);
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'ContextModuleFactory'</span>
    };
  }

  <span class="hljs-title function_">_cleanup</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ æ¸…ç†æ„å»ºç¯å¢ƒ'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fileTimestamps</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">contextTimestamps</span>.<span class="hljs-title function_">clear</span>();
  }

  <span class="hljs-comment">// åˆ›å»º compilation</span>
  <span class="hljs-title function_">createCompilation</span>(<span class="hljs-params">params</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compilation</span>(<span class="hljs-variable language_">this</span>, params);
  }

  <span class="hljs-comment">// åˆ›å»ºç¼–è¯‘å‚æ•°</span>
  <span class="hljs-title function_">newCompilationParams</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">normalModuleFactory</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNormalModuleFactory</span>(),
      <span class="hljs-attr">contextModuleFactory</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createContextModuleFactory</span>()
    };
  }
}
</code></pre>
<p><strong>webpack æ–¹æ³•å®ç°</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Compiler</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Compiler'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">webpack</span>(<span class="hljs-params">config</span>) {
  <span class="hljs-comment">// åˆå¹¶é…ç½®ï¼Œè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œç›´æ¥ä½¿ç”¨ä¼ å…¥çš„é…ç½®</span>
  <span class="hljs-keyword">const</span> options = config;
  <span class="hljs-comment">// åˆ›å»ºCompilerå®ä¾‹ï¼Œä¼ å…¥ä¸Šä¸‹æ–‡ï¼ˆé€šå¸¸ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼‰</span>
  <span class="hljs-keyword">const</span> compiler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compiler</span>(options.<span class="hljs-property">context</span> || process.<span class="hljs-title function_">cwd</span>());
  <span class="hljs-comment">// å°†é…ç½®èµ‹å€¼ç»™compiler</span>
  compiler.<span class="hljs-property">options</span> = options;
  <span class="hljs-comment">// æ³¨å†Œé…ç½®ä¸­çš„æ’ä»¶</span>
  <span class="hljs-keyword">if</span> (options.<span class="hljs-property">plugins</span> &amp;&amp; <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(options.<span class="hljs-property">plugins</span>)) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> plugin <span class="hljs-keyword">of</span> options.<span class="hljs-property">plugins</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> plugin === <span class="hljs-string">'function'</span>) {
        plugin.<span class="hljs-title function_">call</span>(compiler, compiler);
      } <span class="hljs-keyword">else</span> {
        plugin.<span class="hljs-title function_">apply</span>(compiler);
      }
    }
  }
  <span class="hljs-comment">// è¿”å›compilerå®ä¾‹</span>
  <span class="hljs-keyword">return</span> compiler;
}

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = webpack;
</code></pre>
<p><strong>è¿è¡Œç¼–è¯‘</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./webpack'</span>);

<span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">context</span>: __dirname,
  <span class="hljs-attr">plugins</span>: [
    {
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">compiler</span>) {
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyPlugin'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPlugin: æ„å»ºå®Œæˆï¼'</span>);
        });
      }
    }
  ]
};

<span class="hljs-keyword">const</span> compiler = <span class="hljs-title function_">webpack</span>(config);

compiler.<span class="hljs-title function_">run</span>(<span class="hljs-function">(<span class="hljs-params">err, stats</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ„å»ºå¤±è´¥:'</span>, err);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ„å»ºæˆåŠŸï¼Œç»Ÿè®¡ä¿¡æ¯:'</span>, stats.<span class="hljs-title function_">toString</span>());
});
</code></pre>
<p><strong>æˆ‘ä»¬é…ç½®çš„è‡ªå®šä¹‰æˆ–ç¬¬ä¸‰æ–¹æ’ä»¶ä¼šè¢«å­˜å‚¨åœ¨</strong> <strong>Tapable é’©å­å®ä¾‹çš„ taps é˜Ÿåˆ—ä¸­ï¼Œç„¶åæœ€ç»ˆæ³¨å†Œåˆ° webpack ç¼–è¯‘å™¨ï¼ˆcomplierï¼‰çš„ä¸åŒçš„é’©å­é‡Œï¼Œæœ€ååœ¨ webpack ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ã€‚</strong></p>
<p><strong>ä»¥ webpack compile é’©å­æ€»ç»“è¿è¡Œè¿‡ç¨‹</strong></p>
<ul>
<li>åˆ›å»º Tappable åŒæ­¥é’©å­å®ä¾‹ï¼ŒæŒ‡å®šå‚æ•°åˆ—è¡¨</li>
<li>æ³¨å†Œæ’ä»¶</li>
<li>è§¦å‘ compile é’©å­</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Compiler ç±»</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compiler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Tapable</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">context</span>) {
    <span class="hljs-variable language_">super</span>();

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createHooks</span>(); <span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸé’©å­</span>
  }
  <span class="hljs-comment">// åˆ›å»ºç”Ÿå‘½å‘¨æœŸé’©å­</span>
  <span class="hljs-title function_">_createHooks</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åˆ›å»º Tappable åŒæ­¥é’©å­å®ä¾‹ï¼ŒæŒ‡å®šå‚æ•°åˆ—è¡¨</span>
      <span class="hljs-attr">initialize</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncHook</span>([]),
    };
  }

  <span class="hljs-comment">// è¿è¡Œæ„å»º</span>
  <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è§¦å‘ compile é’©å­ï¼Œæ­¤å¤„ä¼šè°ƒç”¨æ’ä»¶é…ç½®çš„å›è°ƒå‡½æ•°</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'   ğŸ¯ è§¦å‘ compile é’©å­'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">call</span>(params);
  }
}

<span class="hljs-comment">// webpack æ’ä»¶é…ç½®</span>
<span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">plugins</span>: [
    {
      <span class="hljs-comment">// æ³¨å†Œæ’ä»¶</span>
      <span class="hljs-comment">// å‘åŒä¸€ä¸ªé’©å­å¤šæ³¨å†Œå‡ ä¸ªå›è°ƒå‡½æ•°</span>
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">compiler</span>) {
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyPlugin1'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPlugin1: compileï¼'</span>);
        });
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyPlugin3'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPlugin2: compileï¼'</span>);
        });
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">compile</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyPlugin3'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MyPlugin3: compileï¼'</span>);
        });
      }
    }
  ]
};
</code></pre>
<p>å¥½äº†ï¼Œè¿™å°±æ˜¯æˆ‘å¯¹ webpack æ’ä»¶çš„ç†è§£åŒ…æ‹¬é…ç½®ã€æ³¨å†Œã€å›è°ƒçš„æ•´ä¸ªæµç¨‹ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹æ•¬è¯·æ–§æ­£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mavençˆ¶å­æ¨¡å—Deployçš„é‚£äº›å‘]]></title>    <link>https://juejin.cn/post/7574069837531922468</link>    <guid>https://juejin.cn/post/7574069837531922468</guid>    <pubDate>2025-11-19T05:50:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574069837531922468" data-draft-id="7574007967885852735" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mavençˆ¶å­æ¨¡å—Deployçš„é‚£äº›å‘"/> <meta itemprop="keywords" content="åç«¯,maven"/> <meta itemprop="datePublished" content="2025-11-19T05:50:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mavençˆ¶å­æ¨¡å—Deployçš„é‚£äº›å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T05:50:23.000Z" title="Wed Nov 19 2025 05:50:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èµ·å› </h2>
<p>å‰ä¸¤å¤©é‡åˆ°ä¸ªæŒºå‘çš„é—®é¢˜ã€‚æˆ‘ä»¬æœ‰ä¸ªåŸºç¡€æœåŠ¡æ¡†æ¶å«financial-platform,æ˜¯å…¸å‹çš„çˆ¶å­ç»“æ„,çˆ¶å·¥ç¨‹ä¸‹é¢æŒ‚äº†common-utilsã€message-clientã€db-starterè¿™å‡ ä¸ªå­æ¨¡å—ã€‚è¿™æ¬¡éœ€è¦å‡çº§message-clientæ¨¡å—,å¢åŠ äº†RocketMQçš„ä¸€äº›æ–°ç‰¹æ€§,ç‰ˆæœ¬ä»1.2.5-SNAPSHOTæ”¹åˆ°1.3.0-SNAPSHOTã€‚</p>
<p>å½“æ—¶æƒ³çš„æŒºç®€å•çš„,å°±æ˜¯æŠŠæ•´ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬éƒ½æ”¹äº†,ç„¶ååªdeployè¿™ä¸ªmessage-clientæ¨¡å—ä¸Šå»å°±è¡Œäº†ã€‚æ¯•ç«Ÿè¿™ä¸ªæ¨¡å—çœ‹èµ·æ¥æŒºç‹¬ç«‹çš„,ä¹Ÿä¸ä¾èµ–å…¶å®ƒå…„å¼Ÿæ¨¡å—,åº”è¯¥æ²¡é—®é¢˜å§?</p>
<p>ç»“æœè¢«ç°å®æ•™è‚²äº†ã€‚</p>
<h2 data-id="heading-1">æ‹‰å–å¤±è´¥</h2>
<p>æ”¹å®Œç‰ˆæœ¬å·,deployä¸Šå»å,ä¸šåŠ¡ç³»ç»Ÿå¼•ç”¨è¿™ä¸ªmessage-clientçš„æ—¶å€™å°±æŠ¥é”™äº†:</p>
<pre><code class="hljs language-arduino" lang="arduino">Could <span class="hljs-keyword">not</span> find artifact com.financial:message-client:jar:<span class="hljs-number">1.3</span><span class="hljs-number">.0</span>-SNAPSHOT
</code></pre>
<p>æˆ‘å½“æ—¶å°±æ‡µäº†,æ˜æ˜åˆšdeployä¸Šå»å•Š,æ€ä¹ˆå°±æ‰¾ä¸åˆ°å‘¢? å»Nexusç§æœä¸Šçœ‹,message-client-1.3.0-SNAPSHOT.jarç¡®å®åœ¨é‚£å„¿èººç€,ä½†å°±æ˜¯æ‹‰ä¸ä¸‹æ¥ã€‚</p>
<p>åæ¥å‘ç°Mavenåœ¨å°è¯•ä¸‹è½½ä¾èµ–çš„æ—¶å€™ä¼šæŠ¥pomæ‰¾ä¸åˆ°çš„è­¦å‘Š:</p>
<pre><code class="hljs language-arduino" lang="arduino">Could <span class="hljs-keyword">not</span> find artifact com.financial:financial-platform:pom:<span class="hljs-number">1.3</span><span class="hljs-number">.0</span>-SNAPSHOT
</code></pre>
<h2 data-id="heading-2">æç„¶å¤§æ‚Ÿ</h2>
<p>è¿™æ—¶å€™æ‰ååº”è¿‡æ¥,è™½ç„¶message-clientä¸ä¾èµ–common-utilsæˆ–db-starterè¿™äº›å…„å¼Ÿæ¨¡å—,ä½†æ˜¯å®ƒçš„pom.xmlé‡Œæœ‰è¿™ä¹ˆä¸€æ®µ:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.financial<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>financial-platform<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>
</code></pre>
<p>Mavenæ‹‰å–message-clientçš„æ—¶å€™,ä¼šå…ˆå»æ‰¾å®ƒçš„çˆ¶pomã€‚çˆ¶pomæ‰¾ä¸åˆ°,åé¢çš„äº‹å„¿å°±éƒ½é»„äº†ã€‚</p>
<p>æ•´ä¸ªä¾èµ–è§£æçš„æµç¨‹æ˜¯è¿™æ ·çš„:</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant B as ä¸šåŠ¡ç³»ç»Ÿ
    participant N as Nexusç§æœ
    participant P as financial-platform
    participant M as message-client
    
    B-&gt;&gt;N: è¯·æ±‚message-client:1.3.0-SNAPSHOT
    N-&gt;&gt;N: æ‰¾åˆ°message-clientçš„jar
    N-&gt;&gt;N: è¯»å–message-clientçš„pom
    N-&gt;&gt;P: éœ€è¦financial-platform:1.3.0-SNAPSHOTçš„pom
    P--&gt;&gt;N: 404 Not Found
    N--&gt;&gt;B: ä¾èµ–è§£æå¤±è´¥
</code></pre>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆéœ€è¦çˆ¶pom</h2>
<p>æœ‰äººå¯èƒ½ä¼šé—®,message-clientéƒ½å·²ç»æ˜¯ä¸ªå®Œæ•´çš„jaräº†,ä¸ºä»€ä¹ˆè¿˜è¦çˆ¶pomå‘¢?</p>
<p>å…¶å®çˆ¶pomé‡Œä¼šå®šä¹‰å¾ˆå¤šä¸œè¥¿:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- financial-platformçˆ¶pomé‡Œé€šå¸¸æœ‰è¿™äº› --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">spring-boot.version</span>&gt;</span>2.7.18<span class="hljs-tag">&lt;/<span class="hljs-name">spring-boot.version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rocketmq.version</span>&gt;</span>4.9.7<span class="hljs-tag">&lt;/<span class="hljs-name">rocketmq.version</span>&gt;</span>
    ...
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ç»Ÿä¸€ç®¡ç†RocketMQã€Redisã€PostgreSQLç­‰ç‰ˆæœ¬ --&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">pluginManagement</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ’ä»¶é…ç½® --&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">pluginManagement</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<p>message-clientçš„pomå¯èƒ½ä¼šå¼•ç”¨çˆ¶pomé‡Œå®šä¹‰çš„å±æ€§å’Œé…ç½®ã€‚Mavenéœ€è¦æŠŠçˆ¶å­pomåˆå¹¶èµ·æ¥,æ‰èƒ½å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ã€å¯æ‰§è¡Œçš„pomã€‚</p>
<p>Mavenæ„å»ºæœ‰æ•ˆpomçš„è¿‡ç¨‹å¾ˆç®€å•:è§£æå­æ¨¡å—pomæ—¶,å¦‚æœå‘ç°æœ‰parentæ ‡ç­¾,å°±å»Nexusæ‰¾çˆ¶pomã€‚æ‰¾åˆ°ååˆå¹¶çˆ¶å­é…ç½®,å¦‚æœçˆ¶pomè¿˜æœ‰parent,å°±ç»§ç»­å¾€ä¸Šæ‰¾ã€‚ä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚,ç„¶åä»ä¸Šåˆ°ä¸‹åˆå¹¶æ‰€æœ‰é…ç½®,æœ€åç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„æœ‰æ•ˆpomã€‚</p>
<h2 data-id="heading-4">æ­£ç¡®çš„åšæ³•</h2>
<p>æ‰€ä»¥æ­£ç¡®çš„åšæ³•æ˜¯,æŠŠçˆ¶pomå’Œmessage-clientéƒ½deployä¸Šå»:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨financial-platformçˆ¶å·¥ç¨‹ç›®å½•æ‰§è¡Œ</span>
mvn clean deploy
</code></pre>
<p>è¿™æ ·Mavenä¼šæŠŠçˆ¶pomå’Œæ‰€æœ‰å­æ¨¡å—éƒ½å‘å¸ƒåˆ°Nexusã€‚å³ä½¿ä½ åªæ”¹äº†message-client,çˆ¶pomä¹Ÿå¾—å‘ä¸Šå»,å› ä¸ºç‰ˆæœ¬å·å˜äº†ã€‚</p>
<h2 data-id="heading-5">Mavençš„ç»§æ‰¿å’Œèšåˆ</h2>
<p>è¯´åˆ°è¿™å„¿,é¡ºä¾¿èŠèŠMavençš„ç»§æ‰¿å’Œèšåˆ,å¾ˆå¤šäººå®¹æ˜“ææ··ã€‚</p>
<p>ç»§æ‰¿æ˜¯å­æ¨¡å—ç»§æ‰¿çˆ¶pomçš„é…ç½®,é€šè¿‡<code>&lt;parent&gt;</code>æ ‡ç­¾å®ç°ã€‚èšåˆæ˜¯çˆ¶å·¥ç¨‹ç®¡ç†å¤šä¸ªå­æ¨¡å—,é€šè¿‡<code>&lt;modules&gt;</code>æ ‡ç­¾å®ç°ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph ç»§æ‰¿å…³ç³»
    P1[financial-platform&lt;br/&gt;é…ç½®å’Œä¾èµ–ç‰ˆæœ¬] -.ç»§æ‰¿.-&gt; C1[common-utils&lt;br/&gt;ä½¿ç”¨çˆ¶é…ç½®]
    P1 -.ç»§æ‰¿.-&gt; C2[message-client&lt;br/&gt;ä½¿ç”¨çˆ¶é…ç½®]
    P1 -.ç»§æ‰¿.-&gt; C3[db-starter&lt;br/&gt;ä½¿ç”¨çˆ¶é…ç½®]
    end
    
    subgraph èšåˆå…³ç³»
    P2[financial-platform] --èšåˆ--&gt; C4[common-utils]
    P2 --èšåˆ--&gt; C5[message-client]
    P2 --èšåˆ--&gt; C6[db-starter]
    end
    
    style P1 fill:#e1f5ff
    style P2 fill:#ffe1f5
</code></pre>
<p>çˆ¶pomé‡Œæ˜¯è¿™æ ·çš„:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- èšåˆ: ç®¡ç†æœ‰å“ªäº›å­æ¨¡å— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>common-utils<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>message-client<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>db-starter<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç»§æ‰¿: æä¾›ç»™å­æ¨¡å—çš„é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.rocketmq<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rocketmq-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${rocketmq.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>
</code></pre>
<p>å­æ¨¡å—message-clienté‡Œæ˜¯è¿™æ ·çš„:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç»§æ‰¿: æŒ‡å®šä»å“ªä¸ªçˆ¶pomç»§æ‰¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.financial<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>financial-platform<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å®é™…ä½¿ç”¨çš„ä¾èµ–,ç‰ˆæœ¬ä»çˆ¶pomç»§æ‰¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.rocketmq<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rocketmq-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ç‰ˆæœ¬å·ä»çˆ¶pomçš„dependencyManagementç»§æ‰¿ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>è¿™ä¸¤ä¸ªæ˜¯ç‹¬ç«‹çš„æœºåˆ¶,å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚ä½†å¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬ä¼šä¸€èµ·ç”¨,æ—¢è®©çˆ¶å·¥ç¨‹èšåˆç®¡ç†å­æ¨¡å—,åˆè®©å­æ¨¡å—ç»§æ‰¿çˆ¶é…ç½®ã€‚</p>
<h2 data-id="heading-6">åæ¥æˆ‘ä»¬çš„å¤„ç†</h2>
<p>æˆ‘ä»¬ç°åœ¨çš„åšæ³•æ˜¯,æ¯æ¬¡ç‰ˆæœ¬å‡çº§,ä¸ç®¡æ”¹äº†å‡ ä¸ªæ¨¡å—,éƒ½æ‰§è¡Œå®Œæ•´çš„deployã€‚è™½ç„¶ä¼šæŠŠcommon-utilsã€message-clientã€db-starteréƒ½å‘ä¸€é,æœ‰ç‚¹æµªè´¹,ä½†èµ·ç ä¸ä¼šå‡ºå¹ºè›¾å­ã€‚</p>
<p>å¦å¤–åœ¨Jenkinsçš„CIæµç¨‹é‡ŒåŠ äº†ä¸ªæ£€æŸ¥,å¦‚æœpomçš„ç‰ˆæœ¬å·å˜äº†,å¿…é¡»å…¨é‡deploy,ä¸å…è®¸åªdeployå•ä¸ªæ¨¡å—ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># Jenkinsé‡Œçš„æ£€æŸ¥è„šæœ¬</span>
VERSION=$(mvn <span class="hljs-built_in">help</span>:evaluate -Dexpression=project.version -q -DforceStdout)

<span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$VERSION</span> == *<span class="hljs-string">"SNAPSHOT"</span>* ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ£€æµ‹åˆ°SNAPSHOTç‰ˆæœ¬: <span class="hljs-variable">$VERSION</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ‰§è¡Œå…¨é‡deployåˆ°Nexus"</span>
    mvn clean deploy -DskipTests
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Releaseç‰ˆæœ¬: <span class="hljs-variable">$VERSION</span>"</span> 
    <span class="hljs-comment"># releaseç‰ˆæœ¬èµ°å‘å¸ƒå®¡æ‰¹æµç¨‹</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"éœ€è¦å®¡æ‰¹åæ‰èƒ½deploy"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</code></pre>
<h2 data-id="heading-7">å®é™…æ¡ˆä¾‹åˆ†æ</h2>
<p>æˆ‘ä»¬å†çœ‹ä¸€ä¸ªå®é™…çš„åœºæ™¯ã€‚å‡è®¾ä¸šåŠ¡ç³»ç»Ÿorder-serviceéœ€è¦å¼•ç”¨æˆ‘ä»¬å‡çº§åçš„message-client:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- order-serviceçš„pom.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.financial<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>message-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>Mavenæ„å»ºorder-serviceçš„æ—¶å€™,ä¼šå…ˆä»æœ¬åœ°æˆ–Nexusä¸‹è½½message-clientçš„jarå’Œpomã€‚è¯»å–message-clientçš„pomæ—¶å‘ç°å®ƒä¾èµ–çˆ¶pom financial-platform:1.3.0,äºæ˜¯ç»§ç»­å»æ‰¾çˆ¶pomã€‚å¦‚æœçˆ¶pomä¸å­˜åœ¨,æ•´ä¸ªæ„å»ºå°±å¤±è´¥äº†ã€‚æ‰¾åˆ°çˆ¶pomå,Mavenä¼šåˆå¹¶çˆ¶å­é…ç½®,ç„¶åé€’å½’è§£ææ‰€æœ‰ä¼ é€’ä¾èµ–,æœ€åæ‰èƒ½æˆåŠŸæ„å»ºã€‚</p>
<p>æ‰€ä»¥ä½ çœ‹,è¿™æ˜¯ä¸ªé“¾å¼ååº”ã€‚ä¸­é—´ä»»ä½•ä¸€ç¯ç¼ºå¤±,æ•´ä¸ªæ„å»ºéƒ½ä¼šæŒ‚æ‰ã€‚</p>
<p>å°±è¿™æ ·å§,å¸Œæœ›èƒ½å¸®åˆ°é‡åˆ°ç±»ä¼¼é—®é¢˜çš„æœ‹å‹ã€‚è¿™ä¸ªå‘æˆ‘ä»¬å·²ç»è¸©è¿‡äº†,ä½ ä»¬å°±åˆ«å†è¸©äº†ã€‚ä¸‹æ¬¡å‡çº§message-clientåŠ æ–°åŠŸèƒ½çš„æ—¶å€™,è®°å¾—æŠŠæ•´ä¸ªframeworkéƒ½deployä¸Šå»,çœå¾—ä¸šåŠ¡ç³»ç»Ÿé‚£è¾¹æ‰¾ä½ éº»çƒ¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSï¼šç»˜åˆ¶å‡ ä½•å›¾å½¢ (Shape)]]></title>    <link>https://juejin.cn/post/7573989365614034944</link>    <guid>https://juejin.cn/post/7573989365614034944</guid>    <pubDate>2025-11-19T05:42:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573989365614034944" data-draft-id="7573978809365512192" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSï¼šç»˜åˆ¶å‡ ä½•å›¾å½¢ (Shape)"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-19T05:42:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChinaDragon"/> <meta itemprop="url" content="https://juejin.cn/user/3966693681410840"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSï¼šç»˜åˆ¶å‡ ä½•å›¾å½¢ (Shape)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693681410840/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChinaDragon
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T05:42:49.000Z" title="Wed Nov 19 2025 05:42:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€å‡ ä½•å›¾å½¢ç»˜åˆ¶æ¦‚è¿°</h3>
<blockquote>
<p>ç»˜åˆ¶å‡ ä½•å›¾å½¢æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯é€šè¿‡ç»˜åˆ¶ç»„ä»¶<strong>Shape</strong>ç›´æ¥ç»˜åˆ¶å‡ºå‡ ä½•å›¾å½¢ï¼›äºŒæ˜¯é€šè¿‡å½¢çŠ¶è£å‰ªå±æ€§<strong>clipShape</strong>å°†ç»„ä»¶è£å‰ªæˆå‡ ä½•å›¾å½¢ã€‚</p>
</blockquote>
<h4 data-id="heading-1">1.1 ä½¿ç”¨åœºæ™¯</h4>

















<table><thead><tr><th align="left">ç»˜åˆ¶æ–¹å¼</th><th align="left">ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left">ç»˜åˆ¶å‡ ä½•å›¾å½¢ (Shape)</td><td align="left">ç”¨äºåˆ›å»ºæŒ‡å®šå½¢çŠ¶çš„ç»„ä»¶ï¼Œåœ¨é¡µé¢ä¸Šç›´æ¥ç»˜åˆ¶å‡ºå‡ ä½•å›¾å½¢ã€‚</td></tr><tr><td align="left">å½¢çŠ¶è£å‰ª (clipShape)</td><td align="left">ç”¨äºå°†ç»„ä»¶è£å‰ªä¸ºæŒ‡å®šçš„å‡ ä½•å›¾å½¢ã€‚</td></tr></tbody></table>
<h4 data-id="heading-2">1.2 çº¦æŸé™åˆ¶</h4>
<blockquote>
<ul>
<li>å¯¹ç»˜åˆ¶ç»„ä»¶ï¼Œæ—¢å¯ç”¨Shapeç»„ä»¶ä½œä¸ºçˆ¶ç»„ä»¶å®ç°ç±»ä¼¼SVGçš„æ•ˆæœï¼Œä¹Ÿå¯å•ç‹¬ä½¿ç”¨å„ç§å½¢çŠ¶çš„å­ç»„ä»¶è¿›è¡Œç»˜åˆ¶ã€‚</li>
<li>å¯¹å½¢çŠ¶è£å‰ªå±æ€§ï¼Œè£å‰ªä¸ä¼šå¯¼è‡´è¢«è£å‰ªåŒºåŸŸæ— æ³•å“åº”ç»‘å®šçš„æ‰‹åŠ¿äº‹ä»¶ã€‚</li>
</ul>
</blockquote>
<h3 data-id="heading-3">äºŒã€Shapeç»„ä»¶ç®€ä»‹</h3>
<blockquote>
<p>ç»˜åˆ¶ç»„ä»¶ç”¨äºåœ¨é¡µé¢ç»˜åˆ¶å›¾å½¢ï¼ŒShapeç»„ä»¶æ˜¯ç»˜åˆ¶ç»„ä»¶çš„çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶ä¸­ä¼šæè¿°æ‰€æœ‰ç»˜åˆ¶ç»„ä»¶å‡æ”¯æŒçš„é€šç”¨å±æ€§ã€‚å…·ä½“ç”¨æ³•è¯·å‚è€ƒShapeã€‚</p>
</blockquote>
<h3 data-id="heading-4">ä¸‰ã€åˆ›å»ºç»˜åˆ¶ç»„ä»¶</h3>
<blockquote>
<p>ç»˜åˆ¶ç»„ä»¶å¯ä»¥ç”±ä»¥ä¸‹ä¸¤ç§å½¢å¼åˆ›å»ºï¼š</p>
<ul>
<li>ç»˜åˆ¶ç»„ä»¶ä½¿ç”¨Shapeä½œä¸ºçˆ¶ç»„ä»¶ï¼Œå®ç°ç±»ä¼¼SVGçš„æ•ˆæœã€‚æ¥å£è°ƒç”¨ä¸ºä»¥ä¸‹å½¢å¼ï¼š</li>
</ul>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">Shape(value?: PixelMap)
</code></pre>
<blockquote>
<p>è¯¥æ¥å£ç”¨äºåˆ›å»ºå¸¦æœ‰çˆ¶ç»„ä»¶çš„ç»˜åˆ¶ç»„ä»¶ï¼Œå…¶ä¸­valueç”¨äºè®¾ç½®ç»˜åˆ¶ç›®æ ‡ï¼Œå¯å°†å›¾å½¢ç»˜åˆ¶åœ¨æŒ‡å®šçš„PixelMapå¯¹è±¡ä¸­ï¼Œè‹¥æœªè®¾ç½®ï¼Œåˆ™åœ¨å½“å‰ç»˜åˆ¶ç›®æ ‡ä¸­è¿›è¡Œç»˜åˆ¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
  Rect().width(300).height(50)
}
</code></pre>
<blockquote>
<ul>
<li>ç»˜åˆ¶ç»„ä»¶å•ç‹¬ä½¿ç”¨ï¼Œç”¨äºåœ¨é¡µé¢ä¸Šç»˜åˆ¶æŒ‡å®šçš„å›¾å½¢ã€‚æœ‰7ç§ç»˜åˆ¶ç±»å‹ï¼Œåˆ†åˆ«ä¸ºCircleï¼ˆåœ†å½¢ï¼‰ã€Ellipseï¼ˆæ¤­åœ†å½¢ï¼‰ã€Lineï¼ˆç›´çº¿ï¼‰ã€Polylineï¼ˆæŠ˜çº¿ï¼‰ã€Polygonï¼ˆå¤šè¾¹å½¢ï¼‰ã€Pathï¼ˆè·¯å¾„ï¼‰ã€Rectï¼ˆçŸ©å½¢ï¼‰ã€‚ä»¥Circleçš„æ¥å£è°ƒç”¨ä¸ºä¾‹ï¼š</li>
</ul>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">Circle(value?: { width?: string | number, height?: string | number })
</code></pre>
<blockquote>
<p>è¯¥æ¥å£ç”¨äºåœ¨é¡µé¢ç»˜åˆ¶åœ†å½¢ï¼Œå…¶ä¸­widthç”¨äºè®¾ç½®åœ†å½¢çš„å®½åº¦ï¼Œheightç”¨äºè®¾ç½®åœ†å½¢çš„é«˜åº¦ï¼Œåœ†å½¢ç›´å¾„ç”±å®½é«˜æœ€å°å€¼ç¡®å®šã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">Circle({ width: 150, height: 150 })
</code></pre>
<h3 data-id="heading-5">å››ã€å½¢çŠ¶è§†å£viewPort</h3>
<pre><code class="hljs language-bash" lang="bash">viewPort(value: { x?: number | string, y?: number | string, width?: number | string, height?: number | string })
</code></pre>
<blockquote>
<p>å½¢çŠ¶è§†å£viewPortæŒ‡å®šç”¨æˆ·ç©ºé—´ä¸­çš„ä¸€ä¸ªçŸ©å½¢ï¼Œè¯¥çŸ©å½¢æ˜ å°„åˆ°ä¸ºå…³è”çš„SVGå…ƒç´ å»ºç«‹çš„è§†åŒºè¾¹ç•Œã€‚viewPortå±æ€§çš„å€¼åŒ…å«xã€yã€widthå’Œheightå››ä¸ªå¯é€‰å‚æ•°ï¼Œxå’Œyè¡¨ç¤ºè§†åŒºçš„å·¦ä¸Šè§’åæ ‡ï¼Œwidthå’Œheightè¡¨ç¤ºå…¶å°ºå¯¸ã€‚ <br/>
ä»¥ä¸‹ä¸‰ä¸ªç¤ºä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨viewPortï¼š</p>
</blockquote>
<blockquote>
<ul>
<li>é€šè¿‡å½¢çŠ¶è§†å£å¯¹å›¾å½¢è¿›è¡Œæ”¾å¤§ä¸ç¼©å°ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b69584544cfc4aa9bc9041a7547e9306~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=yrxZBsAcvpqgulw5BLPG4q1RwNw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ViewPortShape.etsä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">class tmp {
  x: number = 0
  y: number = 0
  width: number = 75
  height: number = 75
}

class tmp1 {
  x:number = 0
  y:number = 0
  width:number = 300
  height:number = 300
}
@Component
<span class="hljs-built_in">export</span> default struct ViewPortShape {
  viep: tmp = new tmp();
  viep1: tmp1 = new tmp1();

  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
      Text(<span class="hljs-string">'é€šè¿‡å½¢çŠ¶è§†å£å¯¹å›¾å½¢è¿›è¡Œæ”¾å¤§ä¸ç¼©å°'</span>).fontColor(Color.Blue).fontSize(20).fontWeight(FontWeight.Medium).margin({ top: 40 })
      // ç”»ä¸€ä¸ªå®½é«˜éƒ½ä¸º75çš„åœ†
      Text(<span class="hljs-string">'åŸå§‹å°ºå¯¸Circleç»„ä»¶'</span>).margin({top: 16})
      Circle({ width: 75, height: 75 }).fill(<span class="hljs-string">'#E87361'</span>)

      Row({ space: 10 }) {
        <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
          // åˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º150çš„shapeç»„ä»¶ï¼ŒèƒŒæ™¯è‰²ä¸ºé»„è‰²ï¼Œä¸€ä¸ªå®½é«˜éƒ½ä¸º75çš„viewPortã€‚
          // ç”¨ä¸€ä¸ªè“è‰²çš„çŸ©å½¢æ¥å¡«å……viewPortï¼Œåœ¨viewPortä¸­ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º75çš„åœ†ã€‚
          // ç»˜åˆ¶ç»“æŸï¼ŒviewPortä¼šæ ¹æ®ç»„ä»¶å®½é«˜æ”¾å¤§ä¸¤å€ã€‚
          Text(<span class="hljs-string">'shapeå†…æ”¾å¤§çš„Circleç»„ä»¶'</span>)
          <span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
            Rect().width(<span class="hljs-string">'100%'</span>).height(<span class="hljs-string">'100%'</span>).fill(<span class="hljs-string">'#0097D4'</span>)
            Circle({ width: 75, height: 75 }).fill(<span class="hljs-string">'#E87361'</span>)
          }
          .viewPort(this.viep)
          .width(150)
          .height(150)
          .backgroundColor(<span class="hljs-string">'#F5DC62'</span>)
        }

        <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
          // åˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º150çš„shapeç»„ä»¶ï¼ŒèƒŒæ™¯è‰²ä¸ºé»„è‰²ï¼Œä¸€ä¸ªå®½é«˜éƒ½ä¸º300çš„viewPortã€‚
          // ç”¨ä¸€ä¸ªç»¿è‰²çš„çŸ©å½¢æ¥å¡«å……viewPortï¼Œåœ¨viewPortä¸­ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º75çš„åœ†ã€‚
          // ç»˜åˆ¶ç»“æŸï¼ŒviewPortä¼šæ ¹æ®ç»„ä»¶å®½é«˜ç¼©å°ä¸¤å€ã€‚
          Text(<span class="hljs-string">'Shapeå†…ç¼©å°çš„Circleç»„ä»¶'</span>)
          <span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
            Rect().width(<span class="hljs-string">'100%'</span>).height(<span class="hljs-string">'100%'</span>).fill(<span class="hljs-string">'#BDDB69'</span>)
            Circle({width: 75, height: 75}).fill(<span class="hljs-string">'#E87361'</span>)
          }
          .viewPort(this.viep1)
          .width(150)
          .height(150)
          .backgroundColor(<span class="hljs-string">'#F5DC62'</span>)
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<ul>
<li>åˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º300çš„shapeç»„ä»¶ï¼ŒèƒŒæ™¯è‰²ä¸ºé»„è‰²ï¼Œåˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º300çš„viewPortã€‚ç”¨ä¸€ä¸ªè“è‰²çš„çŸ©å½¢æ¥å¡«å……viewPortï¼Œåœ¨viewPortä¸­ç»˜åˆ¶ä¸€ä¸ªåŠå¾„ä¸º75çš„åœ†ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb6f53a7268f4de3a59dc7425640f357~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=jn7ug%2FhTh%2BOSpFmApzJYSzFZu7E%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">class tmp {
  x: number = 0
  y: number = 0
  width: number = 300
  height: number = 300
}

@Entry
@Component
struct Index {
  viep: tmp = new tmp();

  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
      <span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
        Rect().width(<span class="hljs-string">"100%"</span>).height(<span class="hljs-string">"100%"</span>).fill(<span class="hljs-string">"#0097D4"</span>)
        Circle({ width: 150, height: 150 }).fill(<span class="hljs-string">"#E87361"</span>)
      }
      .viewPort(this.viep)
      .width(300)
      .height(300)
      .backgroundColor(<span class="hljs-string">"#F5DC62"</span>)
    }
  }
}
</code></pre>
<blockquote>
<ul>
<li>åˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º300çš„shapeç»„ä»¶ï¼ŒèƒŒæ™¯è‰²ä¸ºé»„è‰²ï¼Œåˆ›å»ºä¸€ä¸ªå®½é«˜éƒ½ä¸º300çš„viewPortã€‚ç”¨ä¸€ä¸ªè“è‰²çš„çŸ©å½¢æ¥å¡«å……viewPortï¼Œåœ¨viewPortä¸­ç»˜åˆ¶ä¸€ä¸ªåŠå¾„ä¸º75çš„åœ†ï¼Œå°†viewPortå‘å³æ–¹å’Œä¸‹æ–¹å„å¹³ç§»150ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c71c742662424351a7bfb6a3fe9b143f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=pB8hlf8mgXwzZVbgelXHR8BwG88%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">class tmp {
  x: number = -150
  y: number = -150
  width: number = 300
  height: number = 300
}

@Entry
@Component
struct Index {
  viep: tmp = new tmp();

  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    <span class="hljs-function"><span class="hljs-title">Column</span></span>() {
      <span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
        Rect().width(<span class="hljs-string">"100%"</span>).height(<span class="hljs-string">"100%"</span>).fill(<span class="hljs-string">"#0097D4"</span>)
        Circle({ width: 150, height: 150 }).fill(<span class="hljs-string">"#E87361"</span>)
      }
      .viewPort(this.viep)
      .width(300)
      .height(300)
      .backgroundColor(<span class="hljs-string">"#F5DC62"</span>)
    }
  }
}
</code></pre>
<h3 data-id="heading-6">äº”ã€è‡ªå®šä¹‰æ ·å¼</h3>
<blockquote>
<p>ç»˜åˆ¶ç»„ä»¶æ”¯æŒé€šè¿‡å„ç§å±æ€§æ›´æ”¹ç»„ä»¶æ ·å¼ã€‚</p>
</blockquote>
<blockquote>
<ul>
<li>é€šè¿‡fillå¯ä»¥è®¾ç½®ç»„ä»¶å¡«å……åŒºåŸŸé¢œè‰²ã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06009ec13a4a435381649a18ff978317~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=lwRd5tua8afHpbqOiFHNXmXhyTs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<strong>ç¤ºä¾‹ä»£ç </strong></p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">@Component
<span class="hljs-built_in">export</span> default struct PathShape {
  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    Column({ space: 10 }) {
      Path()
        .width(100)
        .height(100)
        .commands(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)
        .fill(<span class="hljs-string">"#E87361"</span>)
        .strokeWidth(0)
    }
    .margin({top: 20})
  }
}
</code></pre>
<blockquote>
<ul>
<li>é€šè¿‡strokeå¯ä»¥è®¾ç½®ç»„ä»¶è¾¹æ¡†é¢œè‰²ã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0929265252a043d0a59ab2f2574bcd9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=Aj8rH06KXhuVbV2O0xmlLmv%2B50k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">Path()
  .width(100)
  .height(100)
  .fillOpacity(0)
  .commands(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)
  .stroke(Color.Red)
</code></pre>
<blockquote>
<ul>
<li>é€šè¿‡strokeOpacityå¯ä»¥è®¾ç½®è¾¹æ¡†é€æ˜åº¦ã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b158095931ad47d193335b6cf5123215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=KQq4Johq4AsfkLXpfpEZ8R%2FSjiQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">Path()
  .width(100)
  .height(100)
  .fillOpacity(0)
  .commands(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)
  .stroke(Color.Red)
  .strokeWidth(10)
  .strokeOpacity(0.2)
</code></pre>
<blockquote>
<ul>
<li>é€šè¿‡strokeLineJoinå¯ä»¥è®¾ç½®çº¿æ¡æ‹è§’ç»˜åˆ¶æ ·å¼ã€‚æ‹è§’ç»˜åˆ¶æ ·å¼åˆ†ä¸ºBevel(ä½¿ç”¨æ–œè§’è¿æ¥è·¯å¾„æ®µ)ã€Miter(ä½¿ç”¨å°–è§’è¿æ¥è·¯å¾„æ®µ)ã€Round(ä½¿ç”¨åœ†è§’è¿æ¥è·¯å¾„æ®µ)ã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2dfe54d071344c3ae46c846b9643c67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=QNdmQPlGLq8M0ALsbhWnptjU7%2BI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">Polyline()
  .width(100)
  .height(100)
  .fillOpacity(0)
  .stroke(Color.Red)
  .strokeWidth(8)
  .points([[20, 0], [0, 100], [100, 90]])
   // è®¾ç½®æŠ˜çº¿æ‹è§’å¤„ä¸ºåœ†å¼§
  .strokeLineJoin(LineJoinStyle.Round)
</code></pre>
<blockquote>
<ul>
<li>é€šè¿‡strokeMiterLimitè®¾ç½®æ–œæ¥é•¿åº¦ä¸è¾¹æ¡†å®½åº¦æ¯”å€¼çš„æé™å€¼ã€‚
æ–œæ¥é•¿åº¦è¡¨ç¤ºå¤–è¾¹æ¡†å¤–è¾¹äº¤ç‚¹åˆ°å†…è¾¹äº¤ç‚¹çš„è·ç¦»ï¼Œè¾¹æ¡†å®½åº¦å³strokeWidthå±æ€§çš„å€¼ã€‚strokeMiterLimitå–å€¼éœ€å¤§äºç­‰äº1ï¼Œä¸”åœ¨strokeLineJoinå±æ€§å–å€¼LineJoinStyle.Miteræ—¶ç”Ÿæ•ˆã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d340c8a6dbc247708f1c530b558b1b86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=yArZ%2BE388txrkCRfxXKilUUiAnA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">Polyline()
  .width(100)
  .height(100)
  .fillOpacity(0)
  .stroke(Color.Red)
  .strokeWidth(10)
  .points([[20, 0], [20, 100], [100, 100]])
  // è®¾ç½®æŠ˜çº¿æ‹è§’å¤„ä¸ºå°–è§’
  .strokeLineJoin(LineJoinStyle.Miter)
  // è®¾ç½®æ–œæ¥é•¿åº¦ä¸çº¿å®½çš„æ¯”å€¼
  .strokeMiterLimit(1/Math.sin(45))
Polyline()
  .width(100)
  .height(100)
  .fillOpacity(0)
  .stroke(Color.Red)
  .strokeWidth(10)
  .points([[20, 0], [20, 100], [100, 100]])
  .strokeLineJoin(LineJoinStyle.Miter)
  .strokeMiterLimit(1.42)
</code></pre>
<blockquote>
<ul>
<li>é€šè¿‡antiAliasè®¾ç½®æ˜¯å¦å¼€å¯æŠ—é”¯é½¿ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼ˆå¼€å¯æŠ—é”¯é½¿ï¼‰ã€‚
<strong>æ•ˆæœå›¾</strong> <br/></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f18119f97c2448eda5c2928c7e8f7b69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=Je6xaKpvCzB9V4nHbh2o1Uc%2FsrY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">//å¼€å¯æŠ—é”¯é½¿
Circle()
  .width(150)
  .height(200)
  .fillOpacity(0)
  .strokeWidth(5)
  .stroke(Color.Black)
</code></pre>
<blockquote>
<p><strong>å…³é—­æŠ—é”¯é½¿</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7801fb5cd20e42f8ac3ebf3c18906ed6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=hf6xZKINhsdyU6jkpbdCDp7gPE4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">//å…³é—­æŠ—é”¯é½¿
Circle()
  .width(150)
  .height(200)
  .fillOpacity(0)
  .strokeWidth(5)
  .stroke(Color.Black)
  .antiAlias(<span class="hljs-literal">false</span>)
</code></pre>
<h3 data-id="heading-7">å…­ã€åœºæ™¯ç¤ºä¾‹</h3>
<h4 data-id="heading-8">6.1 ç»˜åˆ¶å°é—­è·¯å¾„</h4>
<blockquote>
<p>åœ¨Shapeçš„(-80, -5)ç‚¹ç»˜åˆ¶ä¸€ä¸ªå°é—­è·¯å¾„ï¼Œå¡«å……é¢œè‰²0x317AF7ï¼Œçº¿æ¡å®½åº¦3ï¼Œè¾¹æ¡†é¢œè‰²çº¢è‰²ï¼Œæ‹è§’æ ·å¼é”è§’ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1220dc58b57a49e996f8ac25e2c5e5dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=kd%2Fh2Km0EL07EiJHbEnAoYCeriw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">@Entry
@Component
struct ShapeExample {
  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    Column({ space: 10 }) {
      <span class="hljs-function"><span class="hljs-title">Shape</span></span>() {
        Path().width(200).height(60).commands(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)
      }
      .viewPort({ x: -80, y: -5, width: 500, height: 300 })
      .fill(0x317AF7)
      .stroke(Color.Red)
      .strokeWidth(3)
      .strokeLineJoin(LineJoinStyle.Miter)
      .strokeMiterLimit(5)
    }.width(<span class="hljs-string">'100%'</span>).margin({ top: 15 })
  }
}
</code></pre>
<h4 data-id="heading-9">6.2 ç»˜åˆ¶åœ†å’Œåœ†ç¯</h4>
<blockquote>
<p>ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º150çš„åœ†ï¼Œå’Œä¸€ä¸ªç›´å¾„ä¸º150ã€çº¿æ¡ä¸ºçº¢è‰²è™šçº¿çš„åœ†ç¯ï¼ˆå®½é«˜è®¾ç½®ä¸ä¸€è‡´æ—¶ä»¥çŸ­è¾¹ä¸ºç›´å¾„ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65fd6aacbfad4333abdce798aef43359~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=YCvO5MDA9Zj1ezYhYkt87IATgqU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">@Entry
@Component
struct CircleExample {
  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    Column({ space: 10 }) {
      //ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º150çš„åœ†
      Circle({ width: 150, height: 150 })
      //ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º150ã€çº¿æ¡ä¸ºçº¢è‰²è™šçº¿çš„åœ†ç¯
      Circle()
        .width(150)
        .height(200)
        .fillOpacity(0)
        .strokeWidth(3)
        .stroke(Color.Red)
        .strokeDashArray([1, 2])
    }.width(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<h4 data-id="heading-10">6.3 UIè§†è§‰å±æ€§ä½œç”¨æ•ˆæœ</h4>
<blockquote>
<p><strong>è¯´æ˜</strong>
backgroundColorã€linearGradientç­‰é€šç”¨å±æ€§ä½œç”¨äºç»„ä»¶çš„èƒŒæ™¯åŒºåŸŸï¼Œè€Œä¸ä¼šåœ¨ç»„ä»¶å…·ä½“çš„å†…å®¹åŒºåŸŸç”Ÿæ•ˆã€‚</p>
</blockquote>
<blockquote>
<p><strong>æ•ˆæœå›¾</strong> <br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a01b301a5b1454d9afbcab8dd269917~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hpbmFEcmFnb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764135769&amp;x-signature=mRKanvi85US6zSbpDRWAwHFzXdE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">@Entry
@Component
struct CircleExample {
  <span class="hljs-function"><span class="hljs-title">build</span></span>() {
    Column({ space: 10 }) {
      //ç»˜åˆ¶ä¸€ä¸ªç›´å¾„ä¸º150çš„åœ†
      Circle()
        .width(150)
        .height(200)
        .backgroundColor(Color.Pink) // ä¼šç”Ÿæ•ˆåœ¨ä¸€ä¸ª150*200å¤§å°çš„çŸ©å½¢åŒºåŸŸï¼Œè€Œéä»…åœ¨ç»˜åˆ¶çš„ä¸€ä¸ªç›´å¾„ä¸º150çš„åœ†å½¢åŒºåŸŸ
    }.width(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kimi å¼€æºå³çˆ†ç«ï¼K2 Thinking æœ‰å“ªäº›å®ç”¨ç©æ³•ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573985572400283663</link>    <guid>https://juejin.cn/post/7573985572400283663</guid>    <pubDate>2025-11-19T06:10:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573985572400283663" data-draft-id="7573892573347233844" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kimi å¼€æºå³çˆ†ç«ï¼K2 Thinking æœ‰å“ªäº›å®ç”¨ç©æ³•ï¼Ÿ"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-11-19T06:10:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kimi å¼€æºå³çˆ†ç«ï¼K2 Thinking æœ‰å“ªäº›å®ç”¨ç©æ³•ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:10:07.000Z" title="Wed Nov 19 2025 06:10:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Kimi æœ€è¿‘å¼€æºäº†æ€è€ƒæ¨¡å‹ï¼šKimi K2 Thinkingã€‚æŒ‰ç…§å®˜æ–¹ä»‹ç»ï¼Œå®ƒæŒæ¡ã€Œè¾¹æ€è€ƒï¼Œè¾¹ä½¿ç”¨å·¥å…·ã€çš„èƒ½åŠ›ã€‚</p>
<p>å¯ä»¥è‡ªä¸»å®ç°é«˜è¾¾ 300 æ­¥çš„å·¥å…·è°ƒç”¨ï¼Œè§£å†³å¤æ‚é—®é¢˜ã€‚</p>
<p>è€Œä¸”åœ¨ã€Œäººç±»ç»ˆæè€ƒè¯•ã€ä¸­ä¸€ä¸¾è¶…è¶Š GPT-5ï¼Œæ‹¿åˆ°äº† SOTA æ°´å¹³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/758a65b80e154e7c80422aa2de2a0b5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=Ms%2BAJD2Oa86BtCW3IS2fq%2B0Cf9I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>PSï¼šäººç±»ç»ˆæè€ƒè¯•æ˜¯ä¸€ç§é«˜éš¾åº¦æ¨ç†ä¸é€šç”¨æ™ºåŠ›æµ‹è¯•ï¼Œå¯ä»¥æµ‹è¯• AI å¤§æ¨¡å‹åœ¨äººç±»æé™èƒ½åŠ›è¾¹ç•Œä¸Šçš„é€šç”¨æ¨ç†ä¸æ™ºèƒ½æ°´å¹³ã€‚</p>
<p>å¦‚æœæƒ³åœ¨å®˜ç½‘ä½“éªŒæœ€æ–°çš„èƒ½åŠ›ï¼Œå¯ä»¥ç›´æ¥åœ¨ kimi.com å¼€å¯é•¿æ€è€ƒ + K2 å°±è¡Œäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/283ba24d64d048f6884f7d49245f9ef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=W9IWQpra8AP%2FMWveL6OdgTzxVzg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚ä½•æƒ³åœ¨ Claude Code ä¸­ä½¿ç”¨ï¼Œæˆ‘ä¸‹é¢ä¹Ÿæœ‰æ•™ç¨‹ï¼Œä¸€æ­¥æ­¥é…ç½®å°±å¥½äº†ã€‚æˆ‘å…ˆæ¥æµ‹å‡ ä¸ª Caseï¼Œçœ‹çœ‹ Kimi æœ€æ–°èƒ½åŠ›æœ‰å“ªäº›å®ç”¨å¥½ç©çš„è½åœ°åœºæ™¯ã€‚</p>
<h2 data-id="heading-0">01ã€æ–‡ç« é…å›¾åŠ¨èµ·æ¥</h2>
<p>åµŒå…¥æ–‡ç« é‡Œé¢çš„ SVGï¼šKimi K2 Thinking æ¨¡å‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79e9a365c8094153bbf9ac3f3462aad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=MndS4DjBlzErA66MYnLpBHnfVmw%3D" alt="image.png" loading="lazy"/>
å¯ä»¥ç”¨ Kimi ä¸ºè‡ªå·±å†™çš„æ–‡ç« ç”Ÿæˆç±»ä¼¼çš„é«˜çº§é…å›¾ã€‚<br/>
è§£å†³åˆ›ä½œè€…çš„ç—›ç‚¹ï¼Œä¸ç”¨ä¸ºç”¨å¹²å·´å·´çš„æ–‡å­—å‘æ„ï¼Œæ–‡ç« æ’å…¥æœ‰æ›´é«˜çº§çš„é…å›¾ï¼Œè¯»è€…æ›´æ„¿æ„å¾€ä¸‹çœ‹ã€‚æç¤ºè¯å¦‚ä¸‹ï¼Œå‚è€ƒæ²ƒæ ¹çš„ Promptï¼Œæˆ‘æ”¹äº†ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">è¯·æœç´¢ kimi k2 thinking å¼€æºæ¨¡å‹çš„äº®ç‚¹ã€‚å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªç½‘é¡µï¼šä½¿ç”¨ svg ç”»å‡ºäº®ç‚¹æ€»ç»“ã€‚ ç½‘é¡µæœ‰ä¸€ä¸ªå¤åˆ¶æŒ‰é’®ï¼Œç‚¹å‡»å¤åˆ¶åæˆ‘å¯ä»¥ç›´æ¥æŠŠ svg å¯è§†åŒ–ç²˜è´´åˆ°å…¬ä¼—å·ç¼–è¾‘å™¨ã€‚
<span class="hljs-meta">## è¦æ±‚1.Â æ•´ä¸ªé¡µé¢åº”è¯¥æç®€è®¾è®¡ï¼Œé…è‰²åˆç†ï¼Œæµ…è‰²è°ƒä¸ºä¸»2.Â ä¸è¦æœ‰ä»»ä½•bodyæ ·å¼ã€buttonæ ·å¼æˆ–å…¶ä»–CSSè£…é¥°ã€‚3.Â é™¤äº†SVGå›¾è¡¨æœ¬èº«å’Œä¸€ä¸ªå¤åˆ¶æŒ‰é’®ä¹‹å¤–ï¼Œä¸è¦æœ‰å…¶ä»–HTMLå…ƒç´ ã€‚å¤åˆ¶æŒ‰é’®åº”è¯¥æ”¾ç½®åœ¨é¡µé¢æœ€åº•éƒ¨ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç å®ç°å¤åˆ¶åŠŸèƒ½ï¼š</span>
```<span class="hljs-function">javascriptasyncÂ <span class="hljs-title">functioncopySVG</span>()</span> {Â Â <span class="hljs-keyword">const</span>Â svgElement = document.getElementById(<span class="hljs-string">'Chart'</span>);Â Â <span class="hljs-keyword">const</span>Â svgData =Â <span class="hljs-keyword">new</span>Â XMLSerializer().serializeToString(svgElement);
Â Â <span class="hljs-keyword">try</span>Â {Â  Â Â <span class="hljs-keyword">const</span>Â clipboardItem =Â <span class="hljs-keyword">new</span>Â ClipboardItem({Â  Â  Â Â <span class="hljs-string">'image/svg+xml'</span>:Â <span class="hljs-keyword">new</span>Â Blob([svgData], { type:Â <span class="hljs-string">'image/svg+xml'</span>Â }),Â  Â  Â Â <span class="hljs-string">'text/html'</span>:Â <span class="hljs-keyword">new</span>Â Blob([svgData], { type:Â <span class="hljs-string">'text/html'</span>Â })Â  Â  });Â  Â Â Â  Â Â <span class="hljs-keyword">await</span>Â navigator.clipboard.write([clipboardItem]);Â  Â  alert(<span class="hljs-string">'SVGå·²æˆåŠŸå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼'</span>);Â  }Â <span class="hljs-keyword">catch</span>Â (err) {Â  Â  console.error(<span class="hljs-string">'å¤åˆ¶å¤±è´¥:'</span>, err);Â  Â  alert(<span class="hljs-string">'å¤åˆ¶å¤±è´¥'</span>);Â  }}```<span class="hljs-number">4.</span>Â é¡µé¢åŠ è½½æ—¶JavaScriptè‡ªåŠ¨ç”ŸæˆåŒ…å«çœŸå®æ•°æ®å’ŒSVGåŸç”ŸåŠ¨ç”»çš„å®Œæ•´SVGï¼Œç”Ÿæˆåè¿™ä¸ªSVGæ˜¯å®Œå…¨è‡ªåŒ…å«çš„ã€‚<span class="hljs-number">5.</span>Â å¤åˆ¶åŠŸèƒ½åªéœ€ç®€å•åºåˆ—åŒ–è¿™ä¸ªå·²ç”Ÿæˆçš„SVGå…ƒç´ ã€‚å¤åˆ¶å‡ºå»çš„SVGå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼ŒåŒ…å«çœŸå®çš„æ•°æ®æ ‡æ³¨å’Œåˆç†å‡ºåœºåŠ¨ç”»æ•ˆæœï¼Œæ— éœ€ä»»ä½•å¤–éƒ¨JavaScriptæ”¯æŒã€‚
</code></pre>
<p>åŸºäºè¿™ä¸ªæ€è·¯ï¼Œå…¶å®è¿˜å¯ä»¥æœ‰å¾ˆå¤šæœ‰æ„æ€çš„ç©æ³•ã€‚æ¯”å¦‚è®© Kimi ç›´æ¥ç”Ÿäº§å¯ä»¥äº¤äº’çš„ç©æ³•ï¼Œç›´æ¥ç²˜è´´åˆ°å…¬ä¼—å·ç¼–è¾‘å™¨é‡Œé¢ã€‚è¿™æ ·å…¬ä¼—å·æ–‡ç« å°±ä¸ä»…ä»…æ˜¯åªè¯»ï¼Œè€Œæ˜¯å¯ä»¥äº’åŠ¨çš„äº†ã€‚åé¢å°è¯•ä¸‹ã€‚</p>
<h2 data-id="heading-1">02ã€å¤šè½®æœç´¢+è”ç½‘å·¥å…·è°ƒç”¨</h2>
<p>æœ€æ–°çš„ Kimi K2 Thinking æ¨¡å‹åœ¨å¤æ‚æœç´¢å’Œæµè§ˆåœºæ™¯ä¸Šè¡¨ç°å¾ˆä¸é”™ã€‚è¿™ä¸ªåœºæ™¯å¤ªåˆšéœ€äº†ï¼Œæ¯•ç«Ÿå¾ˆå¤šäººç”¨ AI ä¸»è¦æ˜¯ä¸ºäº†ã€Œæœä¸œè¥¿ã€ã€‚</p>
<p>å¦‚æœä½ æƒ³äº†è§£çš„ç­”æ¡ˆæ¥è‡ªäº’è”ç½‘å„ä¸ªåœ°æ–¹ï¼Œä½¿ç”¨ Kimi K2 é•¿æ€è€ƒä¼šç»™ä½ è¯¦ç»†ä¸”æ»¡æ„çš„ç­”æ¡ˆã€‚</p>
<p>è‹±é›„è”ç›ŸSèµ›æŠ¥é“å’Œåæ¢—æ¯”å¦‚æç¤ºè¯ï¼šè¯·æ·±åº¦æœç´¢å…¨ç½‘å…³äºè‹±é›„è”ç›Ÿ S1-S15 çš„ç›¸å…³æŠ¥é“ï¼Œç”Ÿæˆä¸€ä¸ªè¯¦ç»†çš„æŠ¥å‘Šç»™æˆ‘ã€‚ä¹Ÿéœ€è¦åŒ…æ‹¬å›½å†…å¤–çŸ¥åçš„ç”µç«é€‰æ‰‹çš„æ¢—ï¼Œä¹Ÿè¯¦ç»†çš„æè¿°ä¸€ä¸‹æ¢—çš„ç”±æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3afb011bb2f4408b8afb9319d1663325~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=i7cHPkA6Ix1IAu26ISB8VBo4dHc%3D" alt="image.png" loading="lazy"/></p>
<p>S èµ›ä¸Šå‡ºç°çš„åæ¢—éƒ½æ€»ç»“äº†å‡ºæ¥ï¼Œæ¯”å¦‚Â The Shy å¤©ç¥ä¸‹å‡¡ã€4396ã€Clearlove ä¸ºä»€ä¹ˆå«å‚é•¿ã€‚ä»¥åŠæˆ‘ç»å¸¸ç”¨çš„æ ‡é¢˜Â YYDS ç«Ÿç„¶æ˜¯ UZI å‘æ˜çš„ï¼Œæˆ‘æœ¬æ¥ä»¥ä¸ºæ˜¯ AI å¹»è§‰ï¼Ÿåˆç¡®è®¤äº†ä¸€ä¸‹ï¼Œè¿˜çœŸæ˜¯ã€‚ã€‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f4d7eb8ac59481bb52237404f07e830~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=gcO4XYBvwqbgKKb7D%2BAN77jaCd8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒKimi ä¸æ˜¯æœç´¢å‡ ä¸ªç½‘é¡µåä¸€è‚¡è„‘å…¨ä¸¢ç»™ AI æ€»ç»“åˆ†æç»™ç­”æ¡ˆã€‚å®ƒè¿›è¡Œäº† 3 æ¬¡æœç´¢ -&gt; æµè§ˆç½‘é¡µ -&gt; æ€è€ƒçš„å¾ªç¯ï¼Œæœç´¢äº† 102 ä¸ªç½‘é¡µï¼Œæœ€ç»ˆæ‰ç»™åˆ°ä¸€ä¸ªæ¨ç†åçš„ç­”å¤ã€‚</p>
<p>Open AI ä¹‹å‰å‘å¸ƒè¿‡ä¸€ä¸ªåŸºå‡†æµ‹è¯•ï¼Œä¸“é—¨è¡¡é‡ AIÂ åœ¨ä¿¡æ¯è¿‡è½½ç¯å¢ƒä¸­èƒ½å¦åˆ¨æ ¹é—®åº•ã€‚</p>
<p>è¿™ä¸ªä»»åŠ¡ï¼Œäººç±»å¹³å‡åªèƒ½è¾¾åˆ° 29.2% çš„æˆç»©ã€‚Kimi K2 Thinking çš„æˆç»©æ˜¯ 60.2% ï¼Œç›®å‰ç¬¬ä¸€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/552374d278b34cf5a2e5a13814576e4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=fNpFYXVg9sHT27GyDzTSAQjFysg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¼ å®¶ç•Œç™¾äººè’é‡æ±‚ç”Ÿæ¢³ç†</p>
<p>å› ä¸º Kimi K2 Thinking å¯ä»¥åœ¨æµ·é‡ä¿¡æ¯ä¸­åˆ¨æ ¹é—®åœ°ï¼Œç®€ç›´å¯ä»¥ä½œä¸ºè¿½çƒ­ç‚¹äº‹ä»¶çš„åˆ©å™¨ã€‚</p>
<p>æ¯”å¦‚æœ€è¿‘å¼ å®¶ç•Œç™¾äººè’é‡æ±‚ç”Ÿçš„å‰å› åæœæ˜¯å•¥ï¼Œæœ‰å“ªäº›å¥½ç©çš„äº‹å„¿ã€‚</p>
<p>ç½—æ°¸æµ©æ’­å®¢èŠ‚ç›®æ€»ç»“</p>
<p>æˆ‘åˆæµ‹è¯•äº†ä¸€ä¸ª Case è®© Kimi K2 é•¿æ€è€ƒè¾“å‡ºä¸€ä¸ªæŠ¥å‘Šï¼ŒæŠŠç½—æ°¸æµ©æ‰€æœ‰æ’­å®¢èŠ‚ç›®éƒ½æ¢³ç†å¥½ï¼Œå‘ç»™æˆ‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d376c13b7054d6c85e6387c7944fa36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=VRAL3Q3SezXG2SXqy61lez0Dme4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒKimi è¿›è¡Œäº†Â 6 è½®æ€è€ƒ+è”ç½‘å·¥å…·è°ƒç”¨æ‰æŠŠæ‰€æœ‰æœŸèŠ‚ç›®çš„ä¿¡æ¯æ‹¿åˆ°ï¼Œæ•´ç†å¥½å‘ç»™æˆ‘ã€‚</p>
<p>é¡ºç€æˆ‘åˆå‘Šè¯‰ Kimiï¼šç”Ÿæˆçš„æŠ¥å‘Š UI ä¸é«˜çº§ï¼Œæˆ‘æƒ³è¦ä¹”å¸ƒæ–¯é‚£ç§ç®€æ´é£æ ¼ï¼Œé…ä¸Šå‚è€ƒæˆ‘å›¾ç‰‡ä¸­çš„é…è‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18bff347c730419d8b622962ed1336cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=CFEHhycavWbpeSQk%2BfUhH%2Bba4k0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ä¸€ä¼šå„¿ï¼Œ ä¸€ä¸ªç®€æ´ã€æ¸…çˆ½é…è‰²çš„æŠ¥å‘Šå°±ç”Ÿæˆäº†ã€‚ç„¶åç»§ç»­é—® Kimiï¼Œæˆ‘æƒ³è¯¦ç»†äº†è§£è´¾æ¨ŸæŸ¯è¿™ä¸€æœŸï¼Œèƒ½å¦å¸®æˆ‘è¾“å‡ºä¸€ä¸ªæ€»ç»“æ•´ç†ä¸€ä¸‹è¿™ä¸€æœŸçš„å†…å®¹ã€‚</p>
<p>å®ƒå°±ä¼šåŸºäºæˆ‘ä¹‹å‰çš„ UI åå¥½ï¼Œç”Ÿæˆä¸€ä¸ªç½—æ°¸æµ©è®¿è°ˆè´¾æ¨ŸæŸ¯é‚£ä¸€æœŸçš„ä¸“é¢˜æ€»ç»“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/258fd5da43be4ef5b27c0537ed7929ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=fS2%2FgTLf5vwmjtUgjJKeYTu912M%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">03ã€ç¼–ç¨‹èƒ½åŠ›æå‡</h2>
<p>å¤åˆ»ä¸€ä¸ªç®€å•çš„ Word ç¼–è¾‘å™¨Kimi K2 Thinking æ¨¡å‹çš„ Coding èƒ½åŠ›ä¹Ÿå¢å¼ºäº†ï¼Œæµ‹è¯•äº†å®ƒä»¬çš„å®˜æ–¹ Case èƒ½å¦å¤ç°ï¼šå¤åˆ»ä¸€ä¸ªç®€å•çš„ Word ç¼–è¾‘å™¨ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå­—ä½“å¤§å°ã€æ¼”ç¤ºã€å±…ä¸­ã€åŠ ç²—ã€è¡Œé—´è·ã€æ’å…¥å›¾ç‰‡ç­‰ç­‰ï¼Œæ–‡æ¡£ç¼–è¾‘å™¨çš„åŸºç¡€åŠŸèƒ½ï¼Œä¸€å£æ°”éƒ½å®ç°äº†ã€‚å• HTML ç½‘é¡µå¤åˆ» Mac OS</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/641089d681834f729a18f4a97043d46b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=pnjw2YydNjJXMHgb9KZba55GqwE%3D" alt="image.png" loading="lazy"/></p>
<p>æç¤ºè¯ï¼šDesign and create a web os like mac os full functional features from text editor , to dile manager to paint to video editor and all important mac os pre bundled software Use whatever libraries to get this done but make sure I can paste it all into a single HTML file and open it in Chrome.make it interesting and highly detail , shows details that no one expected go full creative and full beauty in one code block.</p>
<p>å¯ä»¥çœ‹åˆ° Kimi K2 Thinking é€šè¿‡å• HTML å¤åˆ»äº†ä¸€ä¸ªç®€æ˜“çš„ Mac OS ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/510528bd646c44fdab3357f025e0bfc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=eTOqBvcdkPU5RJPsvbuX1bZyl2E%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">04ã€æ¥å…¥ Claude Code</h2>
<p>å¯ä»¥åœ¨ Claude Code ä¸­æ¥å…¥ Kimi K2 Thinkingã€‚é¦–å…ˆå»æœˆä¹‹æš—é¢çš„ AI å¼€æ”¾å¹³å°è·å– API Keyã€‚</p>
<p>æ‰“å¼€ä¸‹é¢è¿™ä¸ªç½‘å€ï¼Œæ‰¾åˆ°æ–°å»º API Key æŒ‰é’®ï¼Œåˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„å¯†é’¥ï¼Œå¤åˆ¶åä¸€å®šè¦ä¿å­˜å¥½ï¼Œè€Œä¸”ä¸è¦éšä¾¿å‘ç»™åˆ«äººã€‚</p>
<pre><code class="hljs language-perl" lang="perl">è·å– API Keyï¼šhttps:<span class="hljs-regexp">//pla</span>tform.moonshot.cn/console/api-<span class="hljs-keyword">keys</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6aebad6d165649abb16b703344eba607~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=iTthgG2pNnIItBvTQDSZmY3mrNE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ä½ è¯·æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è®¾ç½®ç¯å¢ƒå˜é‡ä½¿ç”¨Â <code>kimi-k2-thinking</code>Â æ¨¡å‹ï¼Œå¹¶å¯åŠ¨ Claudeã€‚</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">Linux/macOS å¯åŠ¨é«˜é€Ÿç‰ˆ kimi-k2-thinking-turbo æ¨¡å‹<span class="hljs-built_in">export</span>Â ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropicexportÂ ANTHROPIC_AUTH_TOKEN=<span class="hljs-variable">${YOUR_MOONSHOT_API_KEY}</span><span class="hljs-built_in">export</span>Â ANTHROPIC_MODEL=kimi-k2-thinking-turboexportÂ ANTHROPIC_DEFAULT_OPUS_MODEL=kimi-k2-thinking-turboexportÂ ANTHROPIC_DEFAULT_SONNET_MODEL=kimi-k2-thinking-turboexportÂ ANTHROPIC_DEFAULT_HAIKU_MODEL=kimi-k2-thinking-turboexportÂ CLAUDE_CODE_SUBAGENT_MODEL=kimi-k2-thinking-turboÂ claude</span>
</code></pre>
<p>æ³¨æ„ä¸Šé¢Â YOUR_MOONSHOT_API_KEYÂ è¿™é‡Œè¦è¾“å…¥ä½ åˆšåˆšå¤åˆ¶çš„ API Keyã€‚</p>
<p>å°†ä¸Šé¢è¿™äº›å‘½ä»¤å¤åˆ¶åˆ°ç»ˆç«¯é‡Œé¢å°±è¡Œäº†ã€‚å¦‚æœæ˜¾ç¤º kimi-k2-thinking-turbo å°±è¡Œäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0904636192a4264b5568ced308cd929~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764137407&amp;x-signature=EDRLP3rE4BQQdk2OYuKCjQuy4nU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ›´å¤šè§†é¢‘è¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F8nAJ-Efuzmq1F-DF1iJS2w" target="_blank" title="https://mp.weixin.qq.com/s/8nAJ-Efuzmq1F-DF1iJS2w" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/8nAJ-Efuzâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangSmithæœ¬åœ°éƒ¨ç½²LangGraphåº”ç”¨]]></title>    <link>https://juejin.cn/post/7573995798603137039</link>    <guid>https://juejin.cn/post/7573995798603137039</guid>    <pubDate>2025-11-19T05:52:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798603137039" data-draft-id="7573985572400152591" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangSmithæœ¬åœ°éƒ¨ç½²LangGraphåº”ç”¨"/> <meta itemprop="keywords" content="Agent,LangChain,Python"/> <meta itemprop="datePublished" content="2025-11-19T05:52:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FreeCode"/> <meta itemprop="url" content="https://juejin.cn/user/1282499717900794"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangSmithæœ¬åœ°éƒ¨ç½²LangGraphåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282499717900794/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FreeCode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T05:52:06.000Z" title="Wed Nov 19 2025 05:52:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>æœ¬æ–‡å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨LangSmithåœ¨æœ¬åœ°éƒ¨ç½²LangGraphåº”ç”¨ï¼Œä»¥ä¾¿è¿›è¡Œæµ‹è¯•å’Œå¼€å‘ã€‚</p>
<h2 data-id="heading-0">å‡†å¤‡</h2>
<ul>
<li>ä¸€ä¸ª LangSmith è´¦å·ï¼šå¯åœ¨ smith.langchain.com æ³¨å†Œæˆ–ç™»å½•ã€‚</li>
<li>ä¸€ä¸ª LangSmith API å¯†é’¥ï¼šè¯·å‚è€ƒã€Šåˆ›å»º API å¯†é’¥æŒ‡å—ã€‹æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-1">å®‰è£…LangGraph CLI</h2>
<pre><code class="hljs language-bash" lang="bash">pip install -U <span class="hljs-string">"langgraph-cli[inmem]"</span>
</code></pre>
<h2 data-id="heading-2">åˆ›å»ºLangGraphåº”ç”¨</h2>
<p>ä»new-langgraph-project-pythonæ¨¡æ¿åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚è¯¥æ¨¡æ¿å±•ç¤ºäº†ä¸€ä¸ªå•èŠ‚ç‚¹åº”ç”¨ï¼Œä½ å¯ä»¥ç”¨è‡ªå·±çš„é€»è¾‘å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">langgraph new path/to/your/app --template new-langgraph-project-python
</code></pre>
<h2 data-id="heading-3">å®‰è£…ä¾èµ–</h2>
<p>åœ¨æ–°å»ºçš„LangGraphåº”ç”¨çš„æ ¹ç›®å½•ä¸‹ï¼Œä»¥ç¼–è¾‘æ¨¡å¼å®‰è£…ä¾èµ–é¡¹ï¼Œè¿™æ ·æœåŠ¡å™¨å°±ä¼šä½¿ç”¨ä½ çš„æœ¬åœ°ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> path/to/your/app
pip install -e .
</code></pre>
<h2 data-id="heading-4">åˆ›å»º.env æ–‡ä»¶</h2>
<p>åœ¨æ–°å»ºçš„LangGraphåº”ç”¨æ ¹ç›®å½•ä¸­ï¼Œä¼šæ‰¾åˆ°ä¸€ä¸ª.env.example æ–‡ä»¶ã€‚è¯·åœ¨è¯¥åº”ç”¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.env æ–‡ä»¶ï¼Œå°†.env.example æ–‡ä»¶çš„å†…å®¹å¤åˆ¶åˆ°.env æ–‡ä»¶ä¸­ï¼Œå¹¶å¡«å†™å¿…è¦çš„ API å¯†é’¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">LANGSMITH_API_KEY=lsv2...
</code></pre>
<h2 data-id="heading-5">å¯åŠ¨æ™ºèƒ½ä½“æœåŠ¡å™¨</h2>
<p>åœ¨æœ¬åœ°å¯åŠ¨æ™ºèƒ½ä½“æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">langgraph dev
</code></pre>
<p>langgraph dev å‘½ä»¤ä¼šä»¥å†…å­˜æ¨¡å¼ï¼ˆin-memory modeï¼‰å¯åŠ¨æ™ºèƒ½ä½“æœåŠ¡å™¨ï¼ˆAgent Serverï¼‰ã€‚æ­¤æ¨¡å¼é€‚ç”¨äºå¼€å‘å’Œæµ‹è¯•åœºæ™¯ã€‚</p>
<h2 data-id="heading-6">æµ‹è¯•API</h2>
<p>å®‰è£…LangGraph Python SDK</p>
<pre><code class="hljs language-bash" lang="bash">pip install langgraph-sdk
</code></pre>
<p>æµ‹è¯•API</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph_sdk <span class="hljs-keyword">import</span> get_client
<span class="hljs-keyword">import</span> asyncio

client = get_client(url=<span class="hljs-string">"http://localhost:2024"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> client.runs.stream(
        <span class="hljs-literal">None</span>,  <span class="hljs-comment"># Threadless run</span>
        <span class="hljs-string">"agent"</span>, <span class="hljs-comment"># Name of assistant. Defined in langgraph.json.</span>
        <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"messages"</span>: [{
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"human"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"What is LangGraph?"</span>,
            }],
        },
    ):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Receiving new event of type: <span class="hljs-subst">{chunk.event}</span>..."</span>)
        <span class="hljs-built_in">print</span>(chunk.data)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\n"</span>)

asyncio.run(main())
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» GPT-4 åˆ° Gemini 3 Proï¼šä¸€ä¸ªäº”å­æ£‹æ¸¸æˆè§è¯çš„ AI ä¸¤å¹´è¿›åŒ–å²]]></title>    <link>https://juejin.cn/post/7573995798603251727</link>    <guid>https://juejin.cn/post/7573995798603251727</guid>    <pubDate>2025-11-19T06:20:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798603251727" data-draft-id="7573989365614280704" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» GPT-4 åˆ° Gemini 3 Proï¼šä¸€ä¸ªäº”å­æ£‹æ¸¸æˆè§è¯çš„ AI ä¸¤å¹´è¿›åŒ–å²"/> <meta itemprop="keywords" content="Gemini"/> <meta itemprop="datePublished" content="2025-11-19T06:20:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— æ³•é£"/> <meta itemprop="url" content="https://juejin.cn/user/2506542240789629"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» GPT-4 åˆ° Gemini 3 Proï¼šä¸€ä¸ªäº”å­æ£‹æ¸¸æˆè§è¯çš„ AI ä¸¤å¹´è¿›åŒ–å²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542240789629/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— æ³•é£
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:20:22.000Z" title="Wed Nov 19 2025 06:20:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å‰è¨€</strong></p>
<p>ä¸¤å¹´å‰ï¼Œå½“ GPT-4 åˆšåˆšæ¨ªç©ºå‡ºä¸–æ—¶ï¼Œæˆ‘æ€€ç€æ¿€åŠ¨çš„å¿ƒæƒ…å°è¯•ç”¨å®ƒå†™ä¸€ä¸ªäº”å­æ£‹æ¸¸æˆã€‚é‚£æ®µç»å†æˆ‘è®°å½•åœ¨äº†æ˜é‡‘æ–‡ç« ã€Š<a href="https://juejin.cn/post/7212491760734355516" target="_blank" title="https://juejin.cn/post/7212491760734355516">GPT-4å¤šè½®å¯¹è¯ç”Ÿæˆäº”å­æ£‹æ¸¸æˆ</a>ã€‹ä¸­ã€‚å½“æ—¶ï¼Œä¸ºäº†å¾—åˆ°ä¸€ä¸ªèƒ½è·‘çš„ Demoï¼Œæˆ‘ä¸ GPT-4 è¿›è¡Œäº†æ¼«é•¿çš„å¤šè½®å¯¹è¯ï¼šä¿®å¤ Bugã€è°ƒæ•´æ ·å¼ã€çº æ­£é€»è¾‘ï¼Œä»¿ä½›åœ¨å¸¦ä¸€ä¸ªè™½ç„¶èªæ˜ä½†ç”±äºâ€œå¥å¿˜â€å’Œâ€œç²—å¿ƒâ€è€Œéœ€è¦ä¸æ–­çº æ­£çš„å®ä¹ ç”Ÿã€‚</p>
<p>æ—¶å…‰èè‹’ï¼Œä¸¤å¹´åçš„ä»Šå¤©ï¼Œæˆ‘æ‹¿åˆ°äº† <strong>Gemini 3 Pro</strong>ã€‚æŠ±ç€åŒæ ·çš„å‘½é¢˜ï¼Œæˆ‘å†æ¬¡è¾“å…¥äº†é‚£ä¸ªéœ€æ±‚ï¼šâ€œå¸®æˆ‘å†™ä¸€ä¸ªäº”å­æ£‹äººæœºå¯¹æˆ˜æ¸¸æˆâ€ã€‚</p>
<p>è¿™ä¸€æ¬¡ï¼Œæ²¡æœ‰å¤šè½®å¯¹è¯ï¼Œæ²¡æœ‰æŠ¥é”™è°ƒè¯•ã€‚å®ƒç›´æ¥ç”©ç»™äº†æˆ‘ä¸€ä¸ªå•æ–‡ä»¶ï¼Œæˆ‘å¤åˆ¶ã€ç²˜è´´ã€æ‰“å¼€â€”â€”<strong>å®ƒä¸ä»…èƒ½è·‘ï¼Œè€Œä¸”â€œæ‡‚â€æˆ˜æœ¯ï¼Œç”šè‡³è¿ UI çš„æ¸å˜è‰²éƒ½åšå¥½äº†ã€‚</strong></p>
<p>è¿™ç¯‡æ–‡ç« ï¼Œä¸ä»…æ˜¯å¯¹ä»£ç çš„å¤ç›˜ï¼Œæ›´æ˜¯å¯¹è¿™ä¸¤å¹´ AI å‘å±•é€Ÿåº¦çš„ä¸€æ¬¡å¾®è§‚è§è¯ã€‚</p>
<h2 data-id="heading-0">1. ç›´è§‚å¯¹æ¯”ï¼šä»â€œæ‹¼ç§¯æœ¨â€åˆ°â€œ3Dæ‰“å°â€</h2>
<h3 data-id="heading-1">ä¸¤å¹´å‰çš„ GPT-4 ä½“éªŒ</h3>
<p>åœ¨ä¸¤å¹´å‰çš„é‚£ç¯‡æ–‡ç« ä¸­ï¼Œå¼€å‘è¿‡ç¨‹æ˜¯ç¢ç‰‡åŒ–çš„ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡ä¸¢å¤±</strong>ï¼šä»£ç å¤ªé•¿æ—¶ï¼ŒGPT-4 ä¼šä¸­æ–­ï¼Œéœ€è¦æˆ‘æç¤ºâ€œç»§ç»­â€ã€‚</li>
<li><strong>é€»è¾‘å‰²è£‚</strong>ï¼šHTMLã€CSS å’Œ JS å¾€å¾€æ˜¯åˆ†å¼€ç”Ÿæˆçš„ï¼Œéœ€è¦æˆ‘æ‰‹åŠ¨ç»„è£…ã€‚</li>
<li><strong>è°ƒè¯•å¾ªç¯</strong>ï¼šæœ€å¼€å§‹ç”Ÿæˆçš„ AI é€»è¾‘ç»å¸¸åªä¼šéšæœºè½å­ï¼Œæˆ–è€…ä¸ä»…ä¸å µæˆ‘çš„æ£‹ï¼Œè¿˜ä¸‹åœ¨å·²ç»è¢«å ç”¨çš„æ ¼å­ä¸Šã€‚æˆ‘éœ€è¦åå¤å‘Šè¯‰å®ƒï¼šâ€œä½ è¿™é‡Œé€»è¾‘ä¸å¯¹ï¼Œåº”è¯¥å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©ºâ€ã€‚</li>
</ol>
<h3 data-id="heading-2">ä»Šå¤©çš„ Gemini 3 Pro ä½“éªŒ</h3>
<p>è¿™æ˜¯ Gemini 3 Pro ç»™æˆ‘ç”Ÿæˆçš„å®Œæ•´ä»£ç ï¼ˆè§æ–‡æœ«é™„å½•ï¼‰ã€‚</p>
<p><strong>ç»“æœæ˜¯æƒŠäººçš„ï¼š</strong></p>
<ul>
<li><strong>One-Shotï¼ˆä¸€æ¬¡æˆå‹ï¼‰</strong> ï¼šå®ƒåœ¨ä¸€ä¸ª HTML æ–‡ä»¶ä¸­å®Œæ•´å°è£…äº†ç»“æ„ã€æ ·å¼å’Œé€»è¾‘ï¼Œæ²¡æœ‰ä»»ä½•æˆªæ–­ã€‚</li>
<li><strong>å®¡ç¾åœ¨çº¿</strong>ï¼šå®ƒæ²¡æœ‰ç»™æˆ‘ä¸€ä¸ªé»‘ç™½æ ¼å­çš„ç®€é™‹æ£‹ç›˜ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨äº† <code>#dcb35c</code> æœ¨çº¹åº•è‰²ï¼Œæ£‹å­ç”šè‡³ä½¿ç”¨äº† <code>RadialGradient</code> å¾„å‘æ¸å˜æ¥æ¨¡æ‹Ÿå…‰å½±ç«‹ä½“æ„Ÿã€‚</li>
<li><strong>é€»è¾‘å®Œå¤‡</strong>ï¼šèµ¢æ³•æ•°ç»„ (<code>wins</code>)ã€èµ¢æ³•ç»Ÿè®¡ (<code>myWin</code>, <code>computerWin</code>)ã€å¯å‘å¼è¯„åˆ† (<code>myScore</code>, <code>computerScore</code>) ä¸€æ°”å‘µæˆã€‚</li>
</ul>
<h2 data-id="heading-3">2. ä»£ç æ·±åº¦è§£æï¼šAI çœŸçš„æ‡‚â€œç®—æ³•â€äº†</h2>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ Gemini 3 Pro ç”Ÿæˆçš„æ ¸å¿ƒ AI é€»è¾‘ï¼Œè¿™åœ¨ä¸¤å¹´å‰æ˜¯éœ€è¦æˆ‘å¼•å¯¼å¾ˆä¹…æ‰èƒ½å†™å‡ºæ¥çš„ã€‚</p>
<h3 data-id="heading-4">èµ¢æ³•æ•°ç»„çš„é¢„è®¡ç®—</h3>
<p>ä»£ç ä¸­æœ‰ä¸€ä¸ªéå¸¸ç»å…¸çš„äº”å­æ£‹ç®—æ³•å®ç°â€”â€”<strong>èµ¢æ³•æ•°ç»„</strong>ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åˆå§‹åŒ–èµ¢æ³•æ•°ç»„</span>
<span class="hljs-function">function <span class="hljs-title">initWins</span>()</span>{
    <span class="hljs-comment">// ... çœç•¥å¾ªç¯ ...</span>
    <span class="hljs-comment">// æ¨ªçº¿ã€ç«–çº¿ã€æ–œçº¿ã€åæ–œçº¿</span>
    <span class="hljs-comment">// ç»Ÿè®¡å‡ºæ‰€æœ‰å¯èƒ½è¿æˆ5å­çš„çº¿ï¼Œæ€»å…±572ç§ï¼ˆ15x15æ£‹ç›˜ï¼‰</span>
}
</code></pre>
<p>Gemini 3 Pro åœ¨åˆå§‹åŒ–æ—¶ï¼Œç›´æ¥è®¡ç®—äº†æ£‹ç›˜ä¸Šæ‰€æœ‰æ¨ªã€ç«–ã€æ’‡ã€æºèƒ½æ„æˆäº”è¿ç çš„æƒ…å†µï¼Œå¹¶åœ¨å†…å­˜ä¸­æ„å»ºäº†ä¸€ä¸ªä¸‰ç»´æ•°ç»„ã€‚è¿™æ„å‘³ç€å®ƒâ€œçŸ¥é“â€äº”å­æ£‹çš„èƒœåˆ©æ¡ä»¶ä¸ä»…ä»…æ˜¯â€œçœ‹åˆ°5ä¸ªå­â€ï¼Œè€Œæ˜¯åŸºäºæ•°å­¦ä¸Šçš„ç»„åˆå¯èƒ½æ€§ã€‚</p>
<h3 data-id="heading-5">å¯å‘å¼è¯„åˆ†ç³»ç»Ÿ</h3>
<p>æœ€è®©æˆ‘æƒŠè®¶çš„æ˜¯ <code>computerAI</code> å‡½æ•°ä¸­çš„è¯„åˆ†é€»è¾‘ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ‹¦æˆªç©å®¶</span>
<span class="hljs-built_in">if</span>(myWin[k] == <span class="hljs-number">1</span>) myScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">200</span>;
else <span class="hljs-built_in">if</span>(myWin[k] == <span class="hljs-number">2</span>) myScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">400</span>;
else <span class="hljs-built_in">if</span>(myWin[k] == <span class="hljs-number">3</span>) myScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">2000</span>;
else <span class="hljs-built_in">if</span>(myWin[k] == <span class="hljs-number">4</span>) myScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">10000</span>;

<span class="hljs-comment">// ç”µè„‘è¿›æ”»</span>
<span class="hljs-built_in">if</span>(computerWin[k] == <span class="hljs-number">1</span>) computerScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">220</span>;
else <span class="hljs-built_in">if</span>(computerWin[k] == <span class="hljs-number">2</span>) computerScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">420</span>;
else <span class="hljs-built_in">if</span>(computerWin[k] == <span class="hljs-number">3</span>) computerScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">2100</span>;
else <span class="hljs-built_in">if</span>(computerWin[k] == <span class="hljs-number">4</span>) computerScore<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> += <span class="hljs-number">20000</span>;
</code></pre>
<p><strong>æ³¨æ„è¿™é‡Œçš„ç»†èŠ‚ï¼š</strong></p>
<ol>
<li><strong>æ”»å®ˆå…¼å¤‡</strong>ï¼šå®ƒåŒæ—¶è®¡ç®—äº†â€œå°å µç©å®¶â€çš„åˆ†æ•°å’Œâ€œè‡ªå·±è¿›æ”»â€çš„åˆ†æ•°ã€‚</li>
<li><strong>æƒé‡å·®å¼‚</strong>ï¼šæ³¨æ„çœ‹ï¼ŒåŒæ ·æ˜¯è¿3å­ï¼Œç”µè„‘è¿›æ”»çš„åˆ†æ•° (2100) ç•¥é«˜äºæ‹¦æˆªç©å®¶çš„åˆ†æ•° (2000)ã€‚è¿™è¯´æ˜ AI è¢«è®¾å®šä¸º**â€œåœ¨ç¡®ä¿å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆè¿›æ”»â€**çš„æ¿€è¿›ç­–ç•¥ã€‚</li>
<li><strong>ç»æ€åˆ¤æ–­</strong>ï¼šå½“è¾¾åˆ° 4 å­æ—¶ï¼Œåˆ†æ•°ç›´æ¥è·³è·ƒåˆ°ä¸‡çº§ï¼Œç¡®ä¿ AI èƒ½å¤Ÿè¯†åˆ«â€œå†²å››â€å’Œâ€œé˜²å®ˆå†²å››â€çš„æœ€é«˜ä¼˜å…ˆçº§ã€‚</li>
</ol>
<p>ä¸¤å¹´å‰ï¼ŒGPT-4 ç”Ÿæˆçš„ä»£ç å¾€å¾€åªæ˜¯éšæœºæ‰¾ç©ºä½ï¼Œæˆ–è€…ä»…ä»…åˆ¤æ–­å‘¨å›´ä¸€æ ¼æ˜¯å¦æœ‰å­ã€‚è€Œç°åœ¨çš„ Gemini 3 Pro ç›´æ¥å†™å‡ºäº†ä¸€ä¸ªå…·å¤‡<strong>è´ªå¿ƒç®—æ³•</strong>é›å½¢çš„ AIã€‚</p>
<h2 data-id="heading-6">3. ä¸¤å¹´çš„æŠ€æœ¯è·¨è¶Šï¼šæˆ‘ä»¬ç»å†äº†ä»€ä¹ˆï¼Ÿ</h2>
<p>é€šè¿‡è¿™ä¸ªäº”å­æ£‹ Demoï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ° AI è¿›åŒ–çš„ä¸‰ä¸ªç»´åº¦ï¼š</p>
<h3 data-id="heading-7">1. ä¸Šä¸‹æ–‡çª—å£ä¸æ¨ç†æ·±åº¦çš„è´¨å˜</h3>
<p>ä¸¤å¹´å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå¤§ä»»åŠ¡æ‹†è§£æˆå°ä»»åŠ¡å–‚ç»™ AIã€‚ç°åœ¨ï¼ŒGemini 3 Pro çš„ä¸Šä¸‹æ–‡çª—å£å’Œæ¨ç†èƒ½åŠ›å…è®¸å®ƒåœ¨ä¸€æ¬¡è¾“å‡ºä¸­å¤„ç†<strong>å…¨å±€ä¾èµ–</strong>ã€‚å®ƒæ¸…æ¥šå®šä¹‰åœ¨ç¬¬ 10 è¡Œçš„ CSS ç±»åéœ€è¦åœ¨ç¬¬ 50 è¡Œçš„ HTML ä¸­ä½¿ç”¨ï¼Œä»¥åŠç¬¬ 100 è¡Œçš„ JS é€»è¾‘è¦æ“ä½œç¬¬ 20 è¡Œçš„ Canvas DOMã€‚è¿™ç§<strong>å…¨å±€ä¸€è‡´æ€§</strong>æ˜¯æœ€å¤§çš„è¿›æ­¥ã€‚</p>
<h3 data-id="heading-8">2. ä»â€œæ¨¡ä»¿è€…â€åˆ°â€œå·¥ç¨‹å¸ˆâ€</h3>
<p>ä»¥å‰çš„ AI åƒæ˜¯åœ¨ Stack Overflow ä¸Šæœç´¢ä»£ç ç‰‡æ®µå¹¶æ‹¼æ¥ï¼ˆå¸¸å¸¸æ‹¼é”™ï¼‰ã€‚ç°åœ¨çš„ AI æ›´åƒæ˜¯ä¸€ä¸ªå·¥ç¨‹å¸ˆã€‚å®ƒè€ƒè™‘äº†ï¼š</p>
<ul>
<li><strong>UI äº¤äº’</strong>ï¼šç‚¹å‡»åç¨ä½œå»¶è¿Ÿ (<code>setTimeout</code>) å†è®©ç”µè„‘è½å­ï¼Œä¸ºäº†è®© UI åˆ·æ–°ï¼Œé¿å…æµè§ˆå™¨å‡æ­»ã€‚</li>
<li><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼šæ¸¸æˆç»“æŸåé”å®šç‚¹å‡»äº‹ä»¶ (<code>if (over) return</code>)ã€‚</li>
<li><strong>ä»£ç è§„èŒƒ</strong>ï¼šå˜é‡å‘½åæ¸…æ™°ï¼Œæ³¨é‡Šè¯¦å°½ã€‚</li>
</ul>
<h3 data-id="heading-9">3. å¤šæ¨¡æ€ç†è§£çš„åå“º</h3>
<p>è™½ç„¶è¿™æ¬¡æ˜¯çº¯ä»£ç ç”Ÿæˆï¼Œä½† Gemini 3 Pro å¯¹é¢œè‰²çš„è¿ç”¨ï¼ˆæœ¨çº¹è‰²ã€æ¸å˜æ£‹å­ï¼‰æš—ç¤ºäº†å®ƒå¯¹ç‰©ç†ä¸–ç•Œâ€œäº”å­æ£‹â€è§†è§‰æ ·è²Œçš„æ·±åˆ»ç†è§£ã€‚å®ƒä¸ä»…ä»…æ˜¯åœ¨å†™ä»£ç ï¼Œå®ƒæ˜¯åœ¨â€œæ„å»ºâ€ä¸€ä¸ªå®ƒè®¤çŸ¥ä¸­çš„æ¸¸æˆåœºæ™¯ã€‚</p>
<h2 data-id="heading-10">4. ç»“è¯­</h2>
<p>ä¸¤å¹´å‰ï¼Œæˆ‘åœ¨ Juejin æ–‡ç« çš„ç»“å°¾å¯èƒ½è¿˜åœ¨æ„Ÿå¹ï¼šâ€œAI è¾…åŠ©ç¼–ç¨‹çš„æ—¶ä»£æ¥äº†ï¼Œä½†è¿˜éœ€è¦äººæ¥æŠŠå…³ã€‚â€</p>
<p>ä»Šå¤©ï¼Œçœ‹ç€ Gemini 3 Pro ç”Ÿæˆçš„è¿™ä¸ªæ— éœ€ä¿®æ”¹ã€ç›´æ¥è¿è¡Œã€ç”šè‡³æœ‰ç‚¹éš¾èµ¢çš„äº”å­æ£‹æ¸¸æˆï¼Œæˆ‘å¿…é¡»æ›´æ–°æˆ‘çš„è§‚ç‚¹ï¼š<strong>AI å·²ç»ä»â€œå‰¯é©¾é©¶â€å¼€å§‹å°è¯•æ¡ä½æ–¹å‘ç›˜äº†ã€‚</strong></p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€é—¨æ§›çš„å†ä¸€æ¬¡æé«˜å’Œé™ä½â€”â€”ç¼–å†™åŸºç¡€ä»£ç çš„é—¨æ§›é™åˆ°äº†é›¶ï¼Œä½†ç†è§£å¤æ‚ç³»ç»Ÿã€ä¼˜åŒ–ç®—æ³•æƒé‡çš„é—¨æ§›ä¾ç„¶å­˜åœ¨ã€‚</p>
<p>é™„ï¼šGemini 3 Pro ç”Ÿæˆçš„å®Œæ•´ä»£ç ä¸æ•ˆæœå›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de04beb2ab6e4423a01d8d880a0562ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5rOV6aOe:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138021&amp;x-signature=1Lw6ieN4JvObhev8xuvK%2FeYzaAY%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>äº”å­æ£‹äººæœºå¯¹æˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> {
            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Microsoft YaHei'</span>, sans-serif;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f0f0f0</span>;
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">flex-direction</span>: column;
            <span class="hljs-attribute">align-items</span>: center;
            <span class="hljs-attribute">justify-content</span>: center;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        }

        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
        }

        <span class="hljs-selector-id">#game-container</span> {
            <span class="hljs-attribute">position</span>: relative;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">25px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>);
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dcb35c</span>; <span class="hljs-comment">/* æœ¨çº¹åº•è‰² */</span>
        }

        <span class="hljs-selector-tag">canvas</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dcb35c</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">display</span>: block;
        }

        <span class="hljs-selector-class">.status-bar</span> {
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">align-items</span>: center;
        }

        <span class="hljs-selector-id">#status</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;
            <span class="hljs-attribute">font-weight</span>: bold;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
        }

        <span class="hljs-selector-tag">button</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">border</span>: none;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
            <span class="hljs-attribute">transition</span>: background <span class="hljs-number">0.3s</span>;
        }

        <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#45a049</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>äº”å­æ£‹ - äººæœºå¯¹æˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"game-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chess"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"450"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"450"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-bar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"status"</span>&gt;</span>å½“å‰å›åˆ: ç©å®¶ (é»‘æ£‹)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"restartGame()"</span>&gt;</span>é‡æ–°å¼€å§‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// é…ç½®å‚æ•°</span>
        <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chess'</span>);
        <span class="hljs-keyword">const</span> context = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
        <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>);
        
        <span class="hljs-keyword">const</span> gridSize = <span class="hljs-number">30</span>; <span class="hljs-comment">// æ ¼å­å¤§å°</span>
        <span class="hljs-keyword">const</span> padding = <span class="hljs-number">15</span>;  <span class="hljs-comment">// æ£‹ç›˜è¾¹ç¼˜ç•™ç™½</span>
        <span class="hljs-keyword">const</span> boardSize = <span class="hljs-number">15</span>; <span class="hljs-comment">// 15x15 æ£‹ç›˜</span>
        
        <span class="hljs-keyword">let</span> chessBoard = []; <span class="hljs-comment">// æ£‹ç›˜çŠ¶æ€æ•°ç»„ 0:ç©º, 1:é»‘(ç©å®¶), 2:ç™½(ç”µè„‘)</span>
        <span class="hljs-keyword">let</span> me = <span class="hljs-literal">true</span>; <span class="hljs-comment">// true: ç©å®¶å›åˆ, false: ç”µè„‘å›åˆ</span>
        <span class="hljs-keyword">let</span> over = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ¸¸æˆç»“æŸæ ‡å¿—</span>
        
        <span class="hljs-comment">//èµ¢æ³•æ•°ç»„</span>
        <span class="hljs-keyword">let</span> wins = [];
        <span class="hljs-comment">//èµ¢æ³•ç»Ÿè®¡æ•°ç»„</span>
        <span class="hljs-keyword">let</span> myWin = [];
        <span class="hljs-keyword">let</span> computerWin = [];
        <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// èµ¢æ³•æ€»æ•°</span>

        <span class="hljs-comment">// åˆå§‹åŒ–æ¸¸æˆ</span>
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">initGame</span>();
        };

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">initGame</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// é‡ç½®å˜é‡</span>
            me = <span class="hljs-literal">true</span>;
            over = <span class="hljs-literal">false</span>;
            chessBoard = [];
            statusText.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰å›åˆ: ç©å®¶ (é»‘æ£‹)"</span>;
            statusText.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">"#333"</span>;

            <span class="hljs-comment">// åˆå§‹åŒ–æ£‹ç›˜æ•°ç»„</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; boardSize; i++){
                chessBoard[i] = [];
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; boardSize; j++){
                    chessBoard[i][j] = <span class="hljs-number">0</span>;
                }
            }

            <span class="hljs-comment">// åˆå§‹åŒ–èµ¢æ³•ç»Ÿè®¡</span>
            <span class="hljs-title function_">initWins</span>();
            
            <span class="hljs-comment">// ç»˜åˆ¶æ£‹ç›˜</span>
            <span class="hljs-title function_">drawChessBoard</span>();
        }

        <span class="hljs-comment">// ç»˜åˆ¶æ£‹ç›˜ç½‘æ ¼</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">drawChessBoard</span>(<span class="hljs-params"/>) {
            context.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
            context.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">"#555"</span>;
            
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; boardSize; i++) {
                <span class="hljs-comment">// ç«–çº¿</span>
                context.<span class="hljs-title function_">moveTo</span>(padding + i * gridSize, padding);
                context.<span class="hljs-title function_">lineTo</span>(padding + i * gridSize, canvas.<span class="hljs-property">height</span> - padding);
                context.<span class="hljs-title function_">stroke</span>();
                <span class="hljs-comment">// æ¨ªçº¿</span>
                context.<span class="hljs-title function_">moveTo</span>(padding, padding + i * gridSize);
                context.<span class="hljs-title function_">lineTo</span>(canvas.<span class="hljs-property">width</span> - padding, padding + i * gridSize);
                context.<span class="hljs-title function_">stroke</span>();
            }
        }

        <span class="hljs-comment">// ç»˜åˆ¶æ£‹å­</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">oneStep</span>(<span class="hljs-params">i, j, me</span>) {
            context.<span class="hljs-title function_">beginPath</span>();
            context.<span class="hljs-title function_">arc</span>(padding + i * gridSize, padding + j * gridSize, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);
            context.<span class="hljs-title function_">closePath</span>();
            
            <span class="hljs-keyword">let</span> gradient = context.<span class="hljs-title function_">createRadialGradient</span>(
                padding + i * gridSize + <span class="hljs-number">2</span>, padding + j * gridSize - <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, 
                padding + i * gridSize + <span class="hljs-number">2</span>, padding + j * gridSize - <span class="hljs-number">2</span>, <span class="hljs-number">0</span>
            );

            <span class="hljs-keyword">if</span> (me) { <span class="hljs-comment">// é»‘æ£‹</span>
                gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0</span>, <span class="hljs-string">"#0a0a0a"</span>);
                gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"#636766"</span>);
            } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// ç™½æ£‹</span>
                gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0</span>, <span class="hljs-string">"#d1d1d1"</span>);
                gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"#f9f9f9"</span>);
            }
            
            context.<span class="hljs-property">fillStyle</span> = gradient;
            context.<span class="hljs-title function_">fill</span>();
        }

        <span class="hljs-comment">// ç©å®¶ç‚¹å‡»è½å­</span>
        canvas.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
            <span class="hljs-keyword">if</span> (over || !me) <span class="hljs-keyword">return</span>;

            <span class="hljs-keyword">let</span> x = e.<span class="hljs-property">offsetX</span>;
            <span class="hljs-keyword">let</span> y = e.<span class="hljs-property">offsetY</span>;
            
            <span class="hljs-keyword">let</span> i = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x / gridSize);
            <span class="hljs-keyword">let</span> j = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(y / gridSize);

            <span class="hljs-keyword">if</span> (chessBoard[i][j] == <span class="hljs-number">0</span>) {
                <span class="hljs-title function_">oneStep</span>(i, j, <span class="hljs-literal">true</span>);
                chessBoard[i][j] = <span class="hljs-number">1</span>; <span class="hljs-comment">// 1ä»£è¡¨é»‘æ£‹</span>

                <span class="hljs-comment">// æ£€æŸ¥ç©å®¶æ˜¯å¦èƒœåˆ©</span>
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k = <span class="hljs-number">0</span>; k &lt; count; k++){
                    <span class="hljs-keyword">if</span>(wins[i][j][k]){
                        myWin[k]++;
                        computerWin[k] = <span class="hljs-number">6</span>; <span class="hljs-comment">// è®¾ç½®å¼‚å¸¸å€¼ï¼Œå› ä¸ºå¯¹æ–¹ä¸å¯èƒ½åœ¨è¿™ä¸ªèµ¢æ³•ä¸Šèµ¢äº†</span>
                        <span class="hljs-keyword">if</span>(myWin[k] == <span class="hljs-number">5</span>){
                            statusText.<span class="hljs-property">innerText</span> = <span class="hljs-string">"æ­å–œä½ ï¼ä½ èµ¢äº†ï¼"</span>;
                            statusText.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">"red"</span>;
                            over = <span class="hljs-literal">true</span>;
                        }
                    }
                }

                <span class="hljs-keyword">if</span> (!over) {
                    me = !me;
                    statusText.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰å›åˆ: ç”µè„‘ (æ€è€ƒä¸­...)"</span>;
                    <span class="hljs-built_in">setTimeout</span>(computerAI, <span class="hljs-number">50</span>); <span class="hljs-comment">// ç¨ä½œå»¶è¿Ÿï¼Œè®©UIåˆ·æ–°</span>
                }
            }
        }

        <span class="hljs-comment">// ç”µè„‘AIé€»è¾‘</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">computerAI</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">let</span> myScore = []; <span class="hljs-comment">// ç©å®¶åˆ†æ•°ï¼ˆé˜²å®ˆï¼‰</span>
            <span class="hljs-keyword">let</span> computerScore = []; <span class="hljs-comment">// ç”µè„‘åˆ†æ•°ï¼ˆè¿›æ”»ï¼‰</span>
            <span class="hljs-keyword">let</span> max = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ€é«˜åˆ†</span>
            <span class="hljs-keyword">let</span> u = <span class="hljs-number">0</span>, v = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ€ä½³è½å­ç‚¹</span>

            <span class="hljs-comment">// åˆå§‹åŒ–åˆ†æ•°æ•°ç»„</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; boardSize; i++){
                myScore[i] = [];
                computerScore[i] = [];
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; boardSize; j++){
                    myScore[i][j] = <span class="hljs-number">0</span>;
                    computerScore[i][j] = <span class="hljs-number">0</span>;
                }
            }

            <span class="hljs-comment">// éå†æ£‹ç›˜æ‰€æœ‰ç©ºç‚¹è¿›è¡Œè¯„åˆ†</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; boardSize; i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; boardSize; j++){
                    <span class="hljs-keyword">if</span>(chessBoard[i][j] == <span class="hljs-number">0</span>){
                        <span class="hljs-comment">// éå†æ‰€æœ‰èµ¢æ³•</span>
                        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k = <span class="hljs-number">0</span>; k &lt; count; k++){
                            <span class="hljs-keyword">if</span>(wins[i][j][k]){
                                <span class="hljs-comment">// è®¡ç®—æ‹¦æˆªç©å®¶çš„åˆ†æ•°</span>
                                <span class="hljs-keyword">if</span>(myWin[k] == <span class="hljs-number">1</span>) myScore[i][j] += <span class="hljs-number">200</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(myWin[k] == <span class="hljs-number">2</span>) myScore[i][j] += <span class="hljs-number">400</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(myWin[k] == <span class="hljs-number">3</span>) myScore[i][j] += <span class="hljs-number">2000</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(myWin[k] == <span class="hljs-number">4</span>) myScore[i][j] += <span class="hljs-number">10000</span>;

                                <span class="hljs-comment">// è®¡ç®—ç”µè„‘è¿›æ”»çš„åˆ†æ•°</span>
                                <span class="hljs-keyword">if</span>(computerWin[k] == <span class="hljs-number">1</span>) computerScore[i][j] += <span class="hljs-number">220</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(computerWin[k] == <span class="hljs-number">2</span>) computerScore[i][j] += <span class="hljs-number">420</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(computerWin[k] == <span class="hljs-number">3</span>) computerScore[i][j] += <span class="hljs-number">2100</span>;
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(computerWin[k] == <span class="hljs-number">4</span>) computerScore[i][j] += <span class="hljs-number">20000</span>;
                            }
                        }

                        <span class="hljs-comment">// ç»¼åˆè¯„åˆ†ï¼Œå†³å®šæœ€ä½³è½å­</span>
                        <span class="hljs-comment">// åªè¦è¯¥ç‚¹æ€»åˆ†æ¯”å½“å‰æœ€é«˜åˆ†é«˜ï¼Œå°±æ›´æ–°</span>
                        <span class="hljs-keyword">if</span>(myScore[i][j] &gt; max){
                            max = myScore[i][j];
                            u = i; v = j;
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(myScore[i][j] == max){
                            <span class="hljs-keyword">if</span>(computerScore[i][j] &gt; computerScore[u][v]){
                                u = i; v = j;
                            }
                        }
                        
                        <span class="hljs-keyword">if</span>(computerScore[i][j] &gt; max){
                            max = computerScore[i][j];
                            u = i; v = j;
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(computerScore[i][j] == max){
                            <span class="hljs-keyword">if</span>(myScore[i][j] &gt; myScore[u][v]){
                                u = i; v = j;
                            }
                        }
                    }
                }
            }

            <span class="hljs-comment">// ç”µè„‘è½å­</span>
            <span class="hljs-title function_">oneStep</span>(u, v, <span class="hljs-literal">false</span>);
            chessBoard[u][v] = <span class="hljs-number">2</span>; <span class="hljs-comment">// 2ä»£è¡¨ç™½æ£‹</span>

            <span class="hljs-comment">// æ£€æŸ¥ç”µè„‘æ˜¯å¦èƒœåˆ©</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k = <span class="hljs-number">0</span>; k &lt; count; k++){
                <span class="hljs-keyword">if</span>(wins[u][v][k]){
                    computerWin[k]++;
                    myWin[k] = <span class="hljs-number">6</span>;
                    <span class="hljs-keyword">if</span>(computerWin[k] == <span class="hljs-number">5</span>){
                        statusText.<span class="hljs-property">innerText</span> = <span class="hljs-string">"é—æ†¾ï¼Œç”µè„‘èµ¢äº†ï¼"</span>;
                        statusText.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">"blue"</span>;
                        over = <span class="hljs-literal">true</span>;
                    }
                }
            }

            <span class="hljs-keyword">if</span> (!over) {
                me = !me;
                statusText.<span class="hljs-property">innerText</span> = <span class="hljs-string">"å½“å‰å›åˆ: ç©å®¶ (é»‘æ£‹)"</span>;
            }
        }

        <span class="hljs-comment">// åˆå§‹åŒ–èµ¢æ³•æ•°ç»„ï¼ˆè¿™æ˜¯ç®—æ³•æ ¸å¿ƒï¼šé¢„å…ˆè®¡ç®—æ‰€æœ‰å¯èƒ½çš„è¿çº¿ï¼‰</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">initWins</span>(<span class="hljs-params"/>){
            wins = [];
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;boardSize; i++){
                wins[i] = [];
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>; j&lt;boardSize; j++){
                    wins[i][j] = [];
                }
            }
            
            count = <span class="hljs-number">0</span>;

            <span class="hljs-comment">// æ¨ªçº¿èµ¢æ³•</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;boardSize; i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>; j&lt;boardSize-<span class="hljs-number">4</span>; j++){
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">5</span>; k++){
                        wins[i][j+k][count] = <span class="hljs-literal">true</span>;
                    }
                    count++;
                }
            }

            <span class="hljs-comment">// ç«–çº¿èµ¢æ³•</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;boardSize; i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>; j&lt;boardSize-<span class="hljs-number">4</span>; j++){
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">5</span>; k++){
                        wins[j+k][i][count] = <span class="hljs-literal">true</span>;
                    }
                    count++;
                }
            }

            <span class="hljs-comment">// æ–œçº¿èµ¢æ³• ( \ )</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;boardSize-<span class="hljs-number">4</span>; i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>; j&lt;boardSize-<span class="hljs-number">4</span>; j++){
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">5</span>; k++){
                        wins[i+k][j+k][count] = <span class="hljs-literal">true</span>;
                    }
                    count++;
                }
            }

            <span class="hljs-comment">// åæ–œçº¿èµ¢æ³• ( / )</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;boardSize-<span class="hljs-number">4</span>; i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=boardSize-<span class="hljs-number">1</span>; j&gt;<span class="hljs-number">3</span>; j--){
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">5</span>; k++){
                        wins[i+k][j-k][count] = <span class="hljs-literal">true</span>;
                    }
                    count++;
                }
            }

            <span class="hljs-comment">// åˆå§‹åŒ–ç»Ÿè®¡æ•°ç»„</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;count; i++){
                myWin[i] = <span class="hljs-number">0</span>;
                computerWin[i] = <span class="hljs-number">0</span>;
            }
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">restartGame</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">initGame</span>();
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œå¤–å–Appç‹¬ç«‹ä¸Šçº¿ï¼Œè¶…çº§Appå¦‚ä½•é›†æˆæµ·é‡å°ç¨‹åºï¼Ÿ]]></title>    <link>https://juejin.cn/post/7574007967886164031</link>    <guid>https://juejin.cn/post/7574007967886164031</guid>    <pubDate>2025-11-19T06:20:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574007967886164031" data-draft-id="7573993452579274795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œå¤–å–Appç‹¬ç«‹ä¸Šçº¿ï¼Œè¶…çº§Appå¦‚ä½•é›†æˆæµ·é‡å°ç¨‹åºï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-19T06:20:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FinClip"/> <meta itemprop="url" content="https://juejin.cn/user/395479918322696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œå¤–å–Appç‹¬ç«‹ä¸Šçº¿ï¼Œè¶…çº§Appå¦‚ä½•é›†æˆæµ·é‡å°ç¨‹åºï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479918322696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FinClip
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:20:51.000Z" title="Wed Nov 19 2025 06:20:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>11æœˆ17æ—¥ï¼Œäº¬ä¸œæ­£å¼æ¨å‡ºå¤–å–ç‹¬ç«‹Appï¼Œä¸ä»…æä¾›å¤–å–æœåŠ¡ï¼Œæ›´æ•´åˆäº†â€œå¤–å–+å³æ—¶é›¶å”®+ç‚¹è¯„+é…’æ—…+è´­ç‰©â€ç­‰æœ¬åœ°ç”Ÿæ´»æœåŠ¡äºä¸€ä½“ ã€‚åŒæ—¶ï¼Œå¤–å–Appä¸äº¬ä¸œä¸»ç«™æ‰“é€šï¼ŒåŒæ­¥ä¸Šçº¿äº¬ä¸œç‚¹è¯„å’Œäº¬ä¸œçœŸæ¦œä¸¤å¤§é…å¥—æœåŠ¡ï¼Œæ»¡è¶³â€œæœ¬åœ°ç”Ÿæ´»+æ—¥å¸¸è´­ç‰©â€ç­‰ä¸åŒåœºæ™¯ä¸‹çš„å¤šå…ƒéœ€æ±‚ï¼ŒåŠ ç æœ¬åœ°ç”Ÿæ´»èµ›é“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed494654ab2c496985e0b63a7eb48a25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138051&amp;x-signature=IHHvG97ZcjmOjXUSRzbDMJz10%2B8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>äº¬ä¸œå¤–å–Appç‹¬ç«‹ä¸Šçº¿èƒŒåï¼Œåæ˜ å‡ºä¸€ä¸ªæ˜æ˜¾çš„è¡Œä¸šè¶‹åŠ¿ï¼šåœ¨ç«äº‰æ—¥ç›Šæ¿€çƒˆçš„å¸‚åœºç¯å¢ƒä¸­ï¼Œå¿«é€Ÿæ„å»ºå¤šå…ƒåŒ–æœåŠ¡èƒ½åŠ›ã€æ‰“é€ ä¸€ç«™å¼ç”¨æˆ·ä½“éªŒï¼Œå·²æˆä¸ºä¼ä¸šåº”å¯¹ç«äº‰çš„å…³é”®ä¸¾æªã€‚Â </p>
<p>ç„¶è€Œï¼Œä¼ä¸šè‡ªå»ºå®Œæ•´ç”Ÿæ€/è¶…çº§Appå¾€å¾€é¢ä¸´ç€é‡é‡æŒ‘æˆ˜ï¼š</p>
<p>1.å¤šç«¯å¼€å‘æˆæœ¬é«˜ï¼šä¼ä¸šå¸Œæœ›å¿«é€Ÿå¼•å…¥å¤šå…ƒæœåŠ¡ã€æ„å»ºè‡ªæœ‰ç”Ÿæ€ï¼Œä½†æ¯æ¥å…¥ä¸€é¡¹æ–°ä¸šåŠ¡ï¼Œéƒ½éœ€é’ˆå¯¹iOSã€Androidã€HarmonyOSç­‰ç³»ç»Ÿç‹¬ç«‹å¼€å‘ï¼Œå¯¼è‡´å¼€å‘æˆæœ¬é«˜ã€ä¸Šçº¿å‘¨æœŸé•¿ã€‚Â </p>
<p>2.ä½“éªŒä¸æ€§èƒ½éš¾å…¼é¡¾ï¼šä¼ä¸šæ—¢è¦ä¿è¯å¤šä¸šåŠ¡æ¨¡å—ç‹¬ç«‹å¼€å‘ä¸å¿«é€Ÿä¸Šçº¿ï¼Œåˆè¦åœ¨ä¸åŒç»ˆç«¯ä¸Šæä¾›ç»Ÿä¸€ã€æµç•…çš„åŸç”Ÿç”¨æˆ·ä½“éªŒã€‚Â </p>
<p>3.å®‰å…¨è¿è¥ç®¡æ§éš¾ï¼šéšç€ç”Ÿæ€æœåŠ¡å¢å¤šï¼Œå¦‚ä½•åœ¨ä¸å½±å“ä¸Šçº¿æ•ˆç‡çš„å‰æä¸‹ï¼Œç¡®ä¿å†…å®¹å®‰å…¨å¯æ§ã€åŠŸèƒ½å¹³ç¨³å‘å¸ƒï¼Œå¹¶å®ç°å¤šä¸šåŠ¡çº¿çš„æœ‰åºç®¡ç†ï¼Œæˆä¸ºä¼ä¸šæŒç»­è¿è¥çš„å…³é”®éš¾é¢˜ã€‚</p>
<p>é’ˆå¯¹ä»¥ä¸Šç—›ç‚¹ï¼ŒFinClipè¶…çº§åº”ç”¨æ™ºèƒ½å¹³å°ä»¥â€œä¸€æ¬¡å¼€å‘ã€å¤šç«¯è¿è¡Œâ€ä¸ºæ ¸å¿ƒèƒ½åŠ›ï¼Œä¸ºä¼ä¸šæä¾›æ„å»ºè‡ªä¸»è¶…çº§åº”ç”¨çš„å¯é åº•åº§ã€‚</p>
<p><strong>ä¸€ã€é›†æˆä¸€æ¬¡ï¼Œé€‚é…æ— é™åœºæ™¯</strong></p>
<p>å¦‚åŒäº¬ä¸œå¤–å–Appéœ€è¦æ•´åˆå¤šå…ƒæœåŠ¡ï¼Œä¼ä¸šAppåŒæ ·é¢ä¸´ç€ç”Ÿæ€åŒ–å‘å±•çš„è¿«åˆ‡éœ€æ±‚ã€‚Â </p>
<p>åœ¨é›†æˆFinClipå°ç¨‹åºSDK åï¼Œä¼ä¸šçš„Appæ— è®ºæ˜¯iOS ã€Androidï¼Œè¿˜æ˜¯HarmonyOSçš„Appè®¾å¤‡ä¸Šï¼Œéƒ½èƒ½è·å¾—è¿è¡Œå°ç¨‹åºçš„èƒ½åŠ›ã€‚Â </p>
<p>å¦ä¸€æ–¹é¢ï¼ŒFinClipå°ç¨‹åºAPI å’Œç»„ä»¶ä¸å¾®ä¿¡ä¿æŒé«˜åº¦ä¸€è‡´ï¼Œæ”¯æŒä½¿ç”¨è‡ªå®šä¹‰APIï¼Œè¿˜æä¾›äº†åœ°å›¾ã€è“ç‰™ã€WebRTC ç­‰å¤šç§æ‰©å±•SDKã€‚é€šè¿‡FinClipé›†æˆï¼Œä¼ä¸šå³å¯è®©ç°æœ‰Appè·å¾—è¿è¡Œå°ç¨‹åºçš„èƒ½åŠ›ï¼Œå¿«é€Ÿå¼•å…¥å„ç±»ç¬¬ä¸‰æ–¹æœåŠ¡æˆ–è‡ªå»ºæ–°ä¸šåŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0de93492a46940b8b5da64e96482560b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138051&amp;x-signature=TaH%2BexzDl7iGNyOARtwhCc3Fylw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äºŒã€å¼€å‘ä¸€æ¬¡ï¼Œä½“éªŒå¤§å¹…æå‡</strong></p>
<p>äº¬ä¸œå¤–å–Appçš„å¤šå…ƒæœåŠ¡æ•´åˆèƒŒåï¼Œæ˜¯å¯¹æŠ€æœ¯æ¶æ„çš„å‡çº§ã€‚æ—¢è¦ä¿è¯å„æœåŠ¡æ¨¡å—çš„ç‹¬ç«‹è¿­ä»£ï¼Œåˆè¦ç¡®ä¿ç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒï¼Œè¿™æ­£æ˜¯å°ç¨‹åºæŠ€æœ¯çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚Â </p>
<p>ä½¿ç”¨ FinClipå°ç¨‹åºSDKå‡çº§é€‚é…åŸºäºAppæˆ–HTML5å¼€å‘çš„åŠŸèƒ½é¡µé¢ï¼Œä¸ä»…èƒ½å¤Ÿæä¾›åª²ç¾åŸç”Ÿå¼€å‘çš„ç”¨æˆ·ä½“éªŒï¼Œè¿˜å…·å¤‡æ›´åŠ ä¸°å¯Œçš„ç³»ç»Ÿä¸è®¾å¤‡æƒé™è°ƒç”¨èƒ½åŠ›ï¼Œè®©æ¯ä¸ªä¸šåŠ¡æ¨¡å—éƒ½èƒ½ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒã€‚ç›¸å…³æ•°æ®æ˜¾ç¤ºï¼ŒåŸºäºFinClipæ„å»ºçš„ä¸šåŠ¡æ¨¡å—ï¼Œå…¶åŠ è½½é€Ÿåº¦è¾ƒä¼ ç»ŸH5æå‡çº¦60%ï¼Œç”¨æˆ·æ“ä½œæµç•…åº¦æ˜¾è‘—æ”¹å–„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56fcd888932c442e99194c1c0248fad4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138051&amp;x-signature=UDKHMJVyXA%2Fey%2BFPvbckmesJ8Ko%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸‰ã€å¤šåœºæ™¯å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></p>
<p>æœ¬åœ°ç”Ÿæ´»ç±»Appéœ€è¦ç®¡ç†ä¼—å¤šç¬¬ä¸‰æ–¹å•†å®¶ï¼Œä¼ä¸šå¼•å…¥å¤šå…ƒæœåŠ¡æ—¶ï¼ŒåŒæ ·éœ€è¦å®Œå–„çš„ç®¡ç†æœºåˆ¶ã€‚é‚£ä¹ˆï¼Œå®‰å…¨ç®¡æ§å’Œè¿è¥æ•ˆç‡è‡³å…³é‡è¦ã€‚ é’ˆå¯¹æ­¤ç±»ä¼ä¸šå®¢æˆ·éœ€æ±‚ï¼ŒFinClipæä¾›ä»å¼€å‘ã€æµ‹è¯•ã€å®¡æ ¸åˆ°å‘å¸ƒçš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚Â </p>
<p>å®‰å…¨æ²™ç®±æŠ€æœ¯ï¼šä»£ç ä¸ä¸šåŠ¡å†…å®¹å‡ä¸å®¿ä¸»åº”ç”¨éš”ç¦»ï¼Œç¡®ä¿æ¯ä¸ªå°ç¨‹åºéƒ½èƒ½åœ¨å®‰å…¨ç¯å¢ƒä¸­ç‹¬ç«‹è¿è¡Œï¼Œä¿éšœç”¨æˆ·æ•°æ®ä¸ä¿¡æ¯å®‰å…¨ï¼›Â </p>
<p>å®¡æ ¸æœºåˆ¶ï¼šå°ç¨‹åºä¸Šä¸‹æ¶å®¡æ ¸ã€å†…å®¹å®¡æ ¸ã€ç¡®ä¿ç”¨æˆ·ç«¯æµè§ˆçš„ä¿¡æ¯éƒ½å¤„äºç»Ÿä¸€ç›‘ç®¡ä¹‹ä¸‹ï¼Œå¹³è¡¡äº†ä¸šåŠ¡æ•æ·ä¸å®‰å…¨åˆè§„ï¼›Â </p>
<p>ç°åº¦å‘å¸ƒåŠŸèƒ½ï¼šå®æ—¶æ›´æ–°å°ç¨‹åºå†…å®¹ï¼ŒA/Bæµ‹è¯•æ–°åŠŸèƒ½ï¼Œå¯åŠ©åŠ›ä¼ä¸šçµæ´»å“åº”çƒ­ç‚¹äº‹ä»¶ï¼Œæå¤§ç¼©çŸ­å¼€å‘å‘¨æœŸå¹¶æå‡è¿è¥æ•ˆç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62c04fecf73d429e98ab30bede6694d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138051&amp;x-signature=QUUnNeohLNketoOvnE6U4QGqdBc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å¤®å›½ä¼ã€é‡‘èã€èåª’ç­‰å¤šè¡Œä¸šå®¢æˆ·é€‰æ‹©FinClip</strong></p>
<p>FinClipå‡­å€Ÿå…¶å“è¶Šçš„ç”Ÿæ€æ•´åˆã€æ•æ·å¼€å‘ä¸ç”Ÿæ€æ„å»ºèƒ½åŠ›ï¼Œæ­£åŠ©åŠ›ä¼ä¸šæ‰“é€ è¶…çº§App,ä¸°å¯Œåº”ç”¨å†…ç”Ÿæ€ï¼Œææ•ˆä¸šåŠ¡ã€‚</p>
<p>å¤§å‹å¤®å›½ä¼ï¼Œå€ŸåŠ©FinClipï¼Œé€šè¿‡å¯¹æ——ä¸‹æ•°åä¸ªAppçš„é‡ç»„ï¼Œé›†æˆæµ·é‡å°ç¨‹åºï¼Œå½¢æˆäº†ä¸‰å¤§ä¸»åŠ›Appï¼Œè¦†ç›–â€œé‡‘è+æœ¬åœ°ç”Ÿæ´»â€åŠ©åŠ›ä¼ä¸šå®ç°ä»â€œåˆ†æ•£è¿è¥â€åˆ°â€œç”Ÿæ€ååŒâ€å˜ï¼Œæ˜¾è‘—æå‡äº†å®¢æˆ·ä½“éªŒä¸ä¸šåŠ¡æ•ˆç‡ã€‚Â </p>
<p>é‡‘èè¡Œä¸šï¼ŒæŸåˆ¸å•†Appé€šè¿‡å¼•å…¥FinClipï¼Œå¿«é€Ÿæ„å»ºäº†è¡Œæƒ…ã€äº¤æ˜“ã€èµ„è®¯ã€ç†è´¢ç­‰å¤šå…ƒæœåŠ¡ç”Ÿæ€ã€‚æ–°ä¸šåŠ¡ä¸Šçº¿å‘¨æœŸä»åŸæ¥çš„ä¸€ä¸ªæœˆç¼©çŸ­è‡³ä¸€å‘¨ï¼Œç”¨æˆ·æ´»è·ƒåº¦æå‡40%ï¼ŒæˆåŠŸå®ç°äº†ä»å•ä¸€äº¤æ˜“å·¥å…·åˆ°ç»¼åˆé‡‘èæœåŠ¡å¹³å°çš„è½¬å‹ã€‚Â </p>
<p>èåª’è¡Œä¸šï¼ŒåŸºäºFinClipå¯å¿«é€Ÿæ­å»ºä¼ åª’å°ç¨‹åºå¼€æ”¾å¹³å°ï¼Œè¿è¥è‡ªæœ‰å°ç¨‹åºå¼€æ”¾ç”Ÿæ€å¹³å°ï¼Œå¸å¼•ç¬¬ä¸‰æ–¹æœåŠ¡å•†åŠå¼€å‘è€…å…¥é©»ï¼ˆå¦‚ç”µå•†ã€ç¥¨åŠ¡ã€æ•™è‚²ï¼‰ï¼Œä¹Ÿå¯å°†è‡ªæœ‰å†…å®¹/æœåŠ¡å°è£…æˆå°ç¨‹åºï¼Œè¾“å‡ºåˆ°å…¶ä»–é›†æˆFinClipçš„ç”Ÿæ€ï¼ˆå¦‚è½¦æœºã€æ™ºæ…§å±ï¼‰ï¼Œæ‹“å±•åˆ†å‘æ¸ é“ä¸å½±å“åŠ›ã€‚</p>
<p>æœªæ¥ï¼Œå‡¡æ³°æå®¢FinClipå°†æŒç»­å®Œå–„æŠ€æœ¯èƒ½åŠ›ï¼Œè‡´åŠ›äºä¸ºä¼ä¸šæä¾›æœ€å¯é çš„æŠ€æœ¯æ”¯æ’‘ï¼Œå¿«é€Ÿæ„å»ºä¼ä¸šè‡ªå·±çš„è¶…çº§Appç”Ÿæ€ï¼Œåœ¨æ¿€çƒˆçš„å¸‚åœºç«äº‰ä¸­èµ¢å¾—å…ˆæœºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ä»£ç å®è·µã€‘æ— éœ€å¤æ‚æ­£åˆ™ï¼é˜¿é‡Œäº‘SLSä¸€é”®æå®šæ—¥å¿—è„±æ•ï¼Œå‘Šåˆ«éšç§æ•°æ®â€œè£¸å¥”â€ï¼]]></title>    <link>https://juejin.cn/post/7573950036897611816</link>    <guid>https://juejin.cn/post/7573950036897611816</guid>    <pubDate>2025-11-19T06:22:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897611816" data-draft-id="7573995798603104271" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ä»£ç å®è·µã€‘æ— éœ€å¤æ‚æ­£åˆ™ï¼é˜¿é‡Œäº‘SLSä¸€é”®æå®šæ—¥å¿—è„±æ•ï¼Œå‘Šåˆ«éšç§æ•°æ®â€œè£¸å¥”â€ï¼"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-11-19T06:22:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ä»£ç å®è·µã€‘æ— éœ€å¤æ‚æ­£åˆ™ï¼é˜¿é‡Œäº‘SLSä¸€é”®æå®šæ—¥å¿—è„±æ•ï¼Œå‘Šåˆ«éšç§æ•°æ®â€œè£¸å¥”â€ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:22:12.000Z" title="Wed Nov 19 2025 06:22:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå­™ç‰æ¢…</p>
<p>æ³¨ï¼šæœ¬æ–‡æ•°æ®éƒ½ä¸ºæ¨¡æ‹Ÿç”Ÿæˆã€‚</p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>è¿‡å»ä¸¤å¹´ï¼Œç”µå•†å®¢æœã€å·¥å•ã€ç‰©æµç­‰ç¯èŠ‚çš„è‡ªåŠ¨åŒ–æ­£æ€¥é€Ÿæ¨è¿›ã€‚ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹å¯ä»¥åŒæ—¶å¤„ç†ä¸Šç™¾æ¡é€€æ¬¾è¯·æ±‚ã€ç‰©æµæŸ¥è¯¢ã€è´¦å•è¿½è¸ªï¼›å®ƒä¸çŸ¥ç–²å€¦åœ°ä¸ç”¨æˆ·å¯¹è¯ï¼Œä¹Ÿåœ¨åå°ä¸åœè°ƒç”¨æ¥å£ã€è®°å½•æ—¥å¿—ã€æ±‡æ€»æŠ¥è¡¨ã€‚åœ¨è¿™äº›è‡ªåŠ¨åŒ–äº¤äº’ä¸­ï¼Œéšè—ç€å¤§é‡æ•æ„Ÿæ•°æ®ï¼š</p>
<ul>
<li>ç”¨æˆ·å’¨è¯¢é‡Œå¯èƒ½å‡ºç°æ‰‹æœºå·ã€è®¢å•å·ã€æ”¶è´§åœ°å€ï¼›</li>
<li>åç«¯ä¸šåŠ¡æ—¥å¿—ä¸­å¸¸å¸¸åŒ…å«é“¶è¡Œå¡å·ã€æ¥å£ IPã€è´¦æˆ· IDï¼›</li>
<li>å·¥å•æµè½¬è¿‡ç¨‹ä¸­ç”šè‡³ä¼šé™„å¸¦å†…éƒ¨ Tokenã€ç”¨æˆ·åã€‚</li>
</ul>
<p>è¿™äº›ä¿¡æ¯è‹¥åœ¨ç³»ç»Ÿå†…æœªç»å¤„ç†åœ°æµè½¬ã€å­˜å‚¨æˆ–å¯¼å‡ºï¼Œä¸ä»…è¿åæ•°æ®æœ€å°åŒ–åŸåˆ™ï¼Œæ›´å¯èƒ½åœ¨è°ƒè¯•ã€å…±äº«æˆ–å¯¼å‡ºæ—¥å¿—æ—¶æ„å¤–æ³„éœ²ã€‚ç„¶è€Œï¼Œç°å®åœºæ™¯ä¸­æˆ‘ä»¬åˆæ— æ³•ç®€å•åœ°â€œå°‘æ‰“æ—¥å¿—â€æˆ–â€œå»æ‰å­—æ®µâ€ã€‚æ—¥å¿—æ˜¯è¿ç»´æ’éšœçš„å·¥å…·ï¼Œæ˜¯è¿è¥åˆ†æçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯å®‰å…¨å®¡è®¡çš„ä¾æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d79330b583f484babcfb07f4fde58a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=2GDYgWYDPxM6fuOjvzVyYCJa7YE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ¬æ–‡å°†ä»¥ä¸€ä¸ªç”µå•† Copilot Demo ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å€ŸåŠ©é˜¿é‡Œäº‘æ—¥å¿—æœåŠ¡ï¼ˆSLSï¼‰çš„è„±æ•å‡½æ•°ï¼Œåœ¨ä¸æ”¹å˜ä¸šåŠ¡é€»è¾‘çš„å‰æä¸‹ï¼Œç¡®ä¿ç³»ç»Ÿä¸­çš„æ•æ„Ÿæ•°æ®éšç§å®‰å…¨ã€‚</p>
<h2 data-id="heading-1">æ–¹æ¡ˆå…¨æ™¯ï¼šæ™ºèƒ½åŒ–ä¸æ•°æ®å®‰å…¨çš„èåˆ</h2>
<h3 data-id="heading-2">æ•´ä½“è®¾è®¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83eb3adc4ab7499b96d730db48ce1af1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=tXyhsItYc8G0C2EfXKKyBjy9wiU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç³»ç»Ÿçš„ä¸Šå±‚ç¼–æ’ç”± Dify å¹³å°å®Œæˆï¼ŒDify è´Ÿè´£åè°ƒç”¨æˆ·è¾“å…¥ã€æ„å›¾è¯†åˆ«ã€è°ƒç”¨åç«¯æœåŠ¡ä»¥åŠç”Ÿæˆå›å¤ï¼Œæ˜¯æ•´ä¸ª Copilot ç³»ç»Ÿçš„ä¸­æ¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a75a28ab8a9d4389a3078812ed3c43b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=Z5C4QSoOqMTZCizyJeYuZ9wZsVc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½†åœ¨å®è·µä¸­å‘ç°ä¸€ä¸ªå…³é”®é—®é¢˜ï¼ŒDify è‡ªèº«çš„æ•°æ®é“¾è·¯è§‚æµ‹å¹¶ä¸ç»†ç²’åº¦ï¼Œä¸»è¦ä½“ç°åœ¨ï¼š</p>
<ul>
<li>å¹³å°ä¸»è¦æä¾›èŠ‚ç‚¹çº§æ‰§è¡Œæ—¥å¿—ï¼›</li>
<li>ä½†å¯¹ä¸‹æ¸¸ API è°ƒç”¨ã€å¼‚å¸¸å †æ ˆã€è€—æ—¶åˆ†å¸ƒçš„è§‚æµ‹æœ‰é™ï¼›</li>
<li>å‡ºç°æ•…éšœæ—¶ï¼ŒDify å†…ç½®æ—¥å¿—å¾€å¾€ä¸è¶³ä»¥æ”¯æ’‘æ’éšœä¸å®¡è®¡ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œé€‰æ‹©åœ¨ Dify æœåŠ¡éƒ¨ç½²ä¾§é€šè¿‡ LoongCollector é‡‡é›†æœåŠ¡æ—¥å¿—ï¼Œé€šè¿‡ LoongCollector å°†æ—¥å¿—ç»Ÿä¸€æ¨é€åˆ° SLS LogStoreã€‚</p>
<ul>
<li><strong>æ•°æ®æµï¼š</strong> é‡‡é›†æ¥æºç»Ÿä¸€ï¼ŒåŒæ—¶é‡‡é›† Dify ç¼–æ’æ—¥å¿—ã€åç«¯æœåŠ¡æ—¥å¿—ã€ç³»ç»Ÿæ ‡å‡†è¾“å‡ºï¼Œå¹¶ä»¥å›ºå®šçš„æ—¥å¿—æ ¼å¼è¾“å‡ºï¼Œå®Œæ•´çš„æ•°æ®æµè½¬æ—¶åºå›¾å¦‚ä¸‹ï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74a78ddd734647d0bd49aa6104d471a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=s4nnlwiNFu3WxYRppyC%2FpNU4gac%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>å†™å…¥è„±æ•ï¼š</strong> é€šè¿‡å†™å…¥å¤„ç†å™¨é…ç½® SPL è„±æ•ï¼ˆmaskï¼‰å‡½æ•°ï¼Œç¡®ä¿æ•æ„Ÿå­—æ®µåœ¨å…¥åº“æ—¶å·²è¢«æ‰“ç ã€‚</li>
<li><strong>ä½¿ç”¨å±‚ï¼š</strong> ä¸ç®¡æ˜¯è¿ç»´ã€è¿è¥æˆ–è€…å®‰å…¨åŒå­¦ï¼Œéƒ½å¯ä»¥åŸºäºè„±æ•çš„ Logstore æ•°æ®åšå¯ä»¥åšç›¸å…³ä¸šåŠ¡åˆ†æã€‚</li>
</ul>
<h3 data-id="heading-3">æ—¥å¿—é“¾è·¯</h3>
<h4 data-id="heading-4">æ•°æ®é‡‡é›†</h4>
<p>LoongCollector <strong>[</strong> <strong>1]</strong> ä½œä¸ºä¸€æ¬¾è½»é‡çº§æ—¥å¿—é‡‡é›†å·¥å…·ï¼Œæ”¯æŒé‡‡é›†ä¸»æœºæ–‡æœ¬æ—¥å¿—ã€Kubernetes é›†ç¾¤å®¹å™¨æ—¥å¿—ã€HTTP æ•°æ®ç­‰ä¸åŒçš„æ•°æ®æºï¼Œå½“å‰ Copilot Demo æ—¥å¿—ä»¥ JSON æ ¼å¼æ‰“å°åœ¨ä¸»æœºæ—¥å¿—ç›®å½•ä¸­ï¼Œæ­¤å¤„æ¥å…¥å•è¡Œæ–‡æœ¬æ—¥å¿—å³å¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bb658e2a9104128bbbcdb9652c01c99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=751php4g2O6bwhd7WVPDbG5BEME%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é…ç½®æ—¥å¿—æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9e0be7190cb48ec9590fc71d6320670~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=8z7eTUvkSJMNJUZy8XNpbulrJho%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-5">å†™å…¥è„±æ•</h4>
<p>SLS æä¾›çš„ maskï¼ˆè„±æ•ï¼‰å‡½æ•°ï¼Œæ”¯æŒå†…ç½®å’Œå…³é”®å­—åŒ¹é…ä¸¤ç§æ¨¡å¼ï¼Œèƒ½é«˜æ•ˆã€ç²¾å‡†åœ°è¯†åˆ«å¹¶è„±æ•æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼š</p>
<ul>
<li><strong>å†…ç½®åŒ¹é…ï¼ˆbuildinï¼‰ï¼š</strong> mask å‡½æ•°å¼€ç®±å³ç”¨ï¼Œå†…ç½®äº†å¯¹å¸¸è§ 6 ç§æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ‰‹æœºå·ã€èº«ä»½è¯ã€é‚®ç®±ã€IP åœ°å€ã€åº§æœºç”µè¯ã€é“¶è¡Œå¡å·ï¼‰çš„è¯†åˆ«èƒ½åŠ›ã€‚</li>
<li><strong>å…³é”®å­—åŒ¹é…ï¼ˆkeywordï¼‰ï¼š</strong> æ™ºèƒ½è¯†åˆ«ä»»æ„æ–‡æœ¬ä¸­ç¬¦åˆ "key":"value"ã€'key':'value' æˆ– key=value ç­‰å¸¸è§ KV å¯¹æ ¼å¼çš„æ•æ„Ÿä¿¡æ¯ã€‚</li>
</ul>
<p>é’ˆå¯¹æ–‡ä¸­ç”µå•† copilot æ—¥å¿—ï¼Œåœ¨å¯¹åº”çš„ project ä¸­æ–°å»ºæ•°æ®å¤„ç†å™¨ï¼ˆé…ç½®ä¸‹å›¾ SPL é…ç½®ï¼‰ï¼Œå³å¯æ™ºèƒ½è¯†åˆ«å¹¶å¯¹ IP åœ°å€ã€é‚®ç®±ç­‰æ•æ„Ÿå†…å®¹è¿›è¡Œè„±æ•ã€‚å…¶ä¸­æ‰‹æœºå·ã€èº«ä»½è¯å·ã€ä¿¡ç”¨å¡å·ã€å§“åä»¥åŠåœ°å€ä¿¡æ¯ï¼Œå®šåˆ¶åŒ–åœ°ä¿ç•™å‰åç¼€ã€‚è¯¦ç»†é…ç½®ä»‹ç»å¯å‚è§ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247577547%26idx%3D1%26sn%3D0653117a7cc1e6ee70c91f513de40f8c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247577547&amp;idx=1&amp;sn=0653117a7cc1e6ee70c91f513de40f8c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ— éœ€å¤æ‚æ­£åˆ™ï¼šSLS æ–°è„±æ•å‡½æ•°è®©éšç§ä¿æŠ¤æ›´ç®€å•é«˜æ•ˆ</a>ã€‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4a643d492824b328009c44155837595~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=ihy4Ww%2BgnWRCtoW0N3BI1WM9j8w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>é…ç½®å†™å…¥å¤„ç†å™¨ä½¿ä»»åŠ¡ç”Ÿæ•ˆï¼šé€‰æ‹©å¾…åº”ç”¨çš„ logstoreï¼Œåœ¨å†™å…¥å¤„ç†å™¨ tab ä¸­åº”ç”¨ä¸Šé¢æ–°å»ºçš„å¤„ç†ä»»åŠ¡ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d21501f8d73a406ab2304abeef3be246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=QBdJMUlldQjEGl9OLUpxjKbA2nI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>è„±æ•å‰åæ—¥å¿—å¯¹æ¯”</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ef2a903f89049d4bb3ebc2c2fe2de53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=E7EiBePUuVejlJiHne7g8Wad9pQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹æ¯”è„±æ•å‰çš„æ•°æ®å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li><strong>æŒ‰éœ€ä¿ç•™ï¼Œå®‰å…¨ä¸å¯ç”¨æ€§å…¼é¡¾ï¼š</strong> é’ˆå¯¹ä¸åŒæ•æ„Ÿå­—æ®µï¼Œå¯å®šåˆ¶åŒ–ä¿ç•™å‰åç¼€å­—ç¬¦ã€‚æ‰‹æœºå·ä¿ç•™å‰ä¸‰åå››ä½ï¼Œæ—¢ä¿æŠ¤äº†ç”¨æˆ·éšç§ï¼Œåˆæ–¹ä¾¿è¿ç»´äººå‘˜è¿›è¡Œé—®é¢˜æ’æŸ¥å’Œç”¨æˆ·èº«ä»½æ ¸éªŒï¼Œåœ¨ä¿éšœå®‰å…¨çš„åŒæ—¶å…¼é¡¾äº†æ•°æ®å¯ç”¨æ€§ã€‚</li>
<li><strong>é…ç½®æç®€ï¼Œæ— éœ€æ­£åˆ™ï¼š</strong> å…³é”®å­—åŒ¹é…æ¨¡å¼ä¸‹ï¼Œå³ä½¿æ•°æ®åµŒå¥—å¤šå±‚ JSON ç»“æ„ï¼Œä¹Ÿåªéœ€é…ç½®æœ€å†…å±‚çš„ Key å³å¯ç²¾å‡†åŒ¹é… Value è¿›è¡Œè„±æ•ï¼ŒåŒæ—¶æ— éœ€ç¼–å†™å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼æ¥å…¼å®¹å„ç§Â key:valueÂ å¯¹æ ¼å¼ï¼Œå¤§å¤§é™ä½äº†é…ç½®éš¾åº¦ã€‚</li>
<li><strong>ä¸­æ–‡ç²¾å‡†è„±æ•ï¼š</strong> å§“åä¸åœ°å€ç²¾ç¡®æŒ‰ç…§é…ç½®çš„è§„åˆ™è¿›è¡Œæ‰“ç ï¼Œé¿å…å› ç¼–ç é—®é¢˜å¯¼è‡´è„±æ•å¤±æ•ˆã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œmask å‡½æ•°ç›¸è¾ƒäºä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œè„±æ•ï¼Œåœ¨æ€§èƒ½ä¸Šå…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œå¯æœ‰æ•ˆé™ä½æ—¥å¿—å¤„ç†å»¶è¿Ÿï¼Œæå‡æ•´ä½“æ€§èƒ½ã€‚å°¤å…¶æ˜¯åœ¨å¤æ‚æˆ–è€…æ•°æ®é‡å·¨å¤§çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½ä¼˜åŠ¿æ›´ä¸ºæ˜æ˜¾ã€‚</p>
<h3 data-id="heading-6">ä½¿ç”¨å±‚æ—¥å¿—åˆ†æ</h3>
<p>æ•°æ®è„±æ•è®©åŒä¸€ä»½æ—¥å¿—å‘ˆç°å‡ºä¸‰ç§â€œè§†è§’â€ï¼š</p>
<ul>
<li>è¿ç»´çœ‹åˆ°è°ƒç”¨é“¾ä¸æ€§èƒ½ç“¶é¢ˆï¼Œå´çœ‹ä¸åˆ°éšç§ï¼›</li>
<li>è¿è¥çœ‹åˆ°è¶‹åŠ¿ã€æ•ˆç‡ä¸ä½“éªŒï¼Œå´çœ‹ä¸åˆ°ä¸ªä½“ï¼›</li>
<li>å®‰å…¨çœ‹åˆ°ç­–ç•¥æ‰§è¡Œä¸ç•™ç—•è¯æ®ï¼Œå´æ— éœ€æ‹…å¿ƒé—æ¼ã€‚</li>
</ul>
<p>åœ¨è¿™å¥—ä½“ç³»ä¸­ï¼Œæ•°æ®ä¸å†æ˜¯ä¸€åº§å­¤å²›ï¼Œè€Œæ˜¯ä¸€å¥—æœ‰è¾¹ç•Œçš„æ™ºèƒ½èµ„äº§ï¼Œæ•°æ®åˆè§„ã€åˆ†æã€æ’éšœä¸‰è€…å¯ä»¥å¹¶è¡Œã€‚</p>
<h4 data-id="heading-7">è¿ç»´å·¥ç¨‹å¸ˆï¼šå®šä½</h4>
<p>å¯¹äºè¿ç»´å›¢é˜Ÿæ¥è¯´ï¼Œä»¥å¾€æ’éšœå¾€å¾€ä¾èµ–åŒ…å«ç”¨æˆ·æ‰‹æœºå·ã€åœ°å€ã€è´¦æˆ·å·çš„æ˜æ–‡æ—¥å¿—ï¼Œè¿™åœ¨åˆè§„ä¸Šå­˜åœ¨é«˜é£é™©ã€‚ç°åœ¨ï¼Œè„±æ•åçš„æ—¥å¿—è®©è¿™ä¸€è¿‡ç¨‹ä»æºå¤´å®‰å…¨åŒ–ï¼Œåœ¨é—®é¢˜å®šä½åœºæ™¯ä¸­é€šè¿‡ trace_id æ£€ç´¢å³å¯å¤åŸæ•´ä¸ªè°ƒç”¨é“¾ï¼š</p>
<ul>
<li>ä» Copilot çš„æ„å›¾è¯†åˆ«å¼€å§‹ï¼›</li>
<li>åˆ°è®¢å•æœåŠ¡ â†’ é€€æ¬¾æœåŠ¡ â†’ ç¬¬ä¸‰æ–¹æ”¯ä»˜ç½‘å…³ï¼›</li>
<li>å†åˆ°è¿”å›ç»“æœä¸è€—æ—¶ã€‚</li>
</ul>
<p>éœ€è¦æ ¸å¯¹ç”¨æˆ·èº«ä»½æ—¶ï¼Œæ—¥å¿—é‡Œåªä¿ç•™äº†è„±æ•åçš„é“¶è¡Œå¡å·ã€æ‰‹æœºå·ç­‰ä¿¡æ¯ï¼Œè¶³ä»¥å’Œä¸šåŠ¡ä¾§â€œåŒä¸€ç”¨æˆ·â€æ¯”å¯¹ï¼Œè€Œä¸ä¼šæš´éœ²åŸå€¼ã€‚å³ä¾¿æ˜¯è·¨å›¢é˜ŸåæŸ¥ï¼Œä¹Ÿèƒ½ç›´æ¥åœ¨è„±æ•æ—¥å¿—ä¸Šå®šä½é—®é¢˜ï¼Œé¿å…æ³„éœ²é£é™©ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b7626e260964278bdffe89bd2eb4c3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=FJGb7hrts8EBGgGumn1jRZrgz9c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-8">è¿è¥å›¢é˜Ÿï¼šåˆ†æ</h4>
<p>æŠ¥è¡¨çš„ä»·å€¼åœ¨äºå‘ç°æ•´ä½“è¶‹åŠ¿ï¼Œè€Œéçª¥æ¢ä¸ªäººä¿¡æ¯ã€‚åœ¨è„±æ•è¿è¥æŠ¥è¡¨ä¸­ï¼Œç”¨æˆ·ä¿¡æ¯å·²åŒ¿ååŒ–å¤„ç†ï¼Œä»…ä¿ç•™å…³é”®ä¸šåŠ¡æŒ‡æ ‡ï¼ŒåŠ©åŠ›å›¢é˜Ÿä»æ•°æ®ä¸­æŒ–æ˜æ´å¯Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9ed7869461b4a6793ea26c5815076c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=mZzOqanzh4OOZDJaDIX1rX8gq5o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»è¿™ä»½æŠ¥è¡¨ä¸­ï¼Œè¿è¥å›¢é˜Ÿå¯ä»¥å¿«é€Ÿäº†è§£ï¼š</p>
<ul>
<li>æ•´ä½“æ¦‚å†µï¼šUVã€PV ç­‰å…³é”®æŒ‡æ ‡ï¼ŒCopilot äº¤äº’æ¬¡æ•°ï¼Œä»¥åŠå’¨è¯¢æ€»é‡ï¼Œå¿«é€ŸæŒæ¡è¿è¥æ¦‚å†µã€‚</li>
<li>å’¨è¯¢åˆ†ç±»ï¼šé€€æ¬¾ã€å•†å“ã€ç‰©æµå’¨è¯¢å æ¯”ï¼Œæ¸…æ™°äº†è§£ç”¨æˆ·å…³æ³¨ç‚¹ã€‚</li>
<li>é—®é¢˜åˆ†ç±»ï¼šæŒæ¡ç”¨æˆ·æé—®çš„ä¾§é‡ç‚¹ï¼Œå¦‚åŠŸèƒ½ã€ä»·æ ¼ã€è§„æ ¼ç­‰ã€‚</li>
<li>é‡å¤å’¨è¯¢ç‡ï¼šè¡¡é‡æœåŠ¡è´¨é‡ï¼Œå¿«é€Ÿå®šä½éœ€è¦ä¼˜åŒ–çš„ç¯èŠ‚ã€‚</li>
<li>ç”¨æˆ·è¡Œä¸ºï¼šå’¨è¯¢åè´­ä¹°è½¬åŒ–æ¼æ–—ï¼Œä»¥åŠçƒ­é—¨å’¨è¯¢å…³é”®è¯ï¼ŒåŠ©åŠ›ä¼˜åŒ–äº§å“å’Œè¥é”€ç­–ç•¥ã€‚</li>
<li>é‡ç‚¹ç”¨æˆ·ï¼šTop 10 å’¨è¯¢ç”¨æˆ·ï¼Œè™½ç„¶ç”¨æˆ·ä¿¡æ¯è„±æ•ï¼Œä½†å¯é€šè¿‡ VIP ç­‰çº§å’Œå’¨è¯¢æ¬¡æ•°ï¼Œåˆ¶å®šå·®å¼‚åŒ–æœåŠ¡ç­–ç•¥ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼ŒæŠ¥è¡¨ä¸­æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯éƒ½ç»è¿‡è„±æ•å¤„ç†ï¼Œç”µè¯å·ç ã€å§“åç­‰ä¸ªäººä¿¡æ¯å‡è¢«æ©ç ï¼Œç¡®ä¿æ— æ³•åæ¨åˆ°å…·ä½“ç”¨æˆ·ï¼Œå……åˆ†ä¿éšœç”¨æˆ·éšç§ã€‚</p>
<h4 data-id="heading-9">å®‰å…¨ä¸åˆè§„å›¢é˜Ÿï¼šå®¡è®¡</h4>
<p>å¯¹å®‰å…¨ä¸åˆè§„å›¢é˜Ÿè€Œè¨€ï¼Œæ—¥å¿—çš„æœ€å¤§é£é™©åœ¨äºâ€œå­˜é‡æ˜æ–‡â€ã€‚æœ¬æ–‡ä¸­çš„è„±æ•æ–¹æ¡ˆå°†è„±æ•å‰ç½®ï¼šæ•°æ®åœ¨å†™å…¥å‰å·²è¢«å¤„ç†ï¼Œè¿™ä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†æ•æ„Ÿæ•°æ®è„±æ•è¦†ç›–ä¸å…¨ä¸å¯¼å‡ºæ˜æ–‡æ•°æ®çš„å¯èƒ½ã€‚æ­¤å¤–ï¼ŒSLS è¿˜æä¾›å®Œå–„çš„åˆè§„æ”¯æ’‘èƒ½åŠ›ï¼š</p>
<ul>
<li>æ•°æ®å­˜å‚¨ï¼šæ”¯æŒè‡ªå®šä¹‰æ—¥å¿—å­˜å‚¨æ—¶é—´ï¼Œå¯¹ç½‘ç»œå®¡è®¡ç›¸å…³æ—¥å¿—è®¾ç½®&gt;180 å¤©çš„å­˜å‚¨å¤©æ•°ï¼Œæ»¡è¶³å®‰å…¨å®¡è®¡è¦æ±‚ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74b8b1078a96406a98f0163cd7ee6b71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138132&amp;x-signature=BOycSKEa8NPiuRrKi9GeAchF0Ws%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>æ•°æ®æ“ä½œå®¡è®¡ï¼šæ—¥å¿—ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨ç”¨æˆ·çº§æ“ä½œè¡Œä¸ºï¼Œè¿™äº›ä¸ç®¡æ˜¯ç®¡æ§å±‚é¢çš„æ§åˆ¶å°æ“ä½œã€OpenAPI è°ƒç”¨ï¼Œæˆ–è€…æ•°æ®é¢çš„ä¸šåŠ¡æ—¥å¿—ä½¿ç”¨ï¼Œä»»ä½•äººæŸ¥çœ‹ã€åˆ†æã€å¯¼å‡ºæ—¥å¿—ï¼Œéƒ½åªåœ¨æˆæƒèŒƒå›´å†…çœ‹åˆ°åº”å½“çœ‹åˆ°çš„å†…å®¹ã€‚åŒæ—¶Â CloudLens for SLS <strong>[</strong> <strong>2]</strong> è¿˜æä¾› Projectã€Logstore çš„èµ„äº§ä½¿ç”¨ç›‘æ§ã€‚</li>
</ul>
<h2 data-id="heading-10">å°ç»“</h2>
<p>å½“ LoongCollector çš„æ—¥å¿—é‡‡é›†ä¸ LogStore çš„æ•°æ®è„±æ•è¿æˆé—­ç¯ï¼Œæ—¥å¿—åœ¨è½åº“åŒæ—¶å®Œæˆå®‰å…¨è½¬åŒ–ã€‚è¿ç»´èƒ½å®šä½ï¼Œè¿è¥èƒ½åˆ†æï¼Œå®‰å…¨èƒ½å®¡è®¡ã€‚è¿™ä¸æ˜¯ä¸€æ¬¡æ€§çš„åŠ å›ºï¼Œè€Œæ˜¯ä¸€æ¡å¯å¤ç”¨çš„è·¯å¾„ï¼šå†™å…¥ä¾§è„±æ• + é»˜è®¤è„±æ•è½åº“ + è§’è‰²åŒ–è®¿é—®ã€‚ä»¥æ­¤ä¸ºåŸºçº¿ï¼Œä¼ä¸šèƒ½æ”¾å¿ƒæ‰©å±• Copilot çš„ä¸šåŠ¡è¦†ç›–ï¼Œè®©â€œæ•ˆç‡çº¢åˆ©â€ä¸â€œåˆè§„ç¡®å®šæ€§â€å¹¶è¡Œå­˜åœ¨ã€‚</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â LoongCollector</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fsls%2Fwhat-is-sls-loongcollector" target="_blank" title="https://help.aliyun.com/zh/sls/what-is-sls-loongcollector" ref="nofollow noopener noreferrer">help.aliyun.com/zh/sls/whatâ€¦</a></p>
<p>[2]Â CloudLens for SLS</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fsls%2Fcloudlens-for-sls%2F" target="_blank" title="https://help.aliyun.com/zh/sls/cloudlens-for-sls/" ref="nofollow noopener noreferrer">help.aliyun.com/zh/sls/clouâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[N8NåŸºç¡€å…¥é—¨æŒ‡å—ï¼šå¼€æºå·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°æŠ€æœ¯å®è·µ]]></title>    <link>https://juejin.cn/post/7574230922313252870</link>    <guid>https://juejin.cn/post/7574230922313252870</guid>    <pubDate>2025-11-19T06:25:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574230922313252870" data-draft-id="7574084898877669417" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="N8NåŸºç¡€å…¥é—¨æŒ‡å—ï¼šå¼€æºå·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°æŠ€æœ¯å®è·µ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,å·¥ä½œæµå¼•æ“"/> <meta itemprop="datePublished" content="2025-11-19T06:25:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HuskyYellow"/> <meta itemprop="url" content="https://juejin.cn/user/2999123452110574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            N8NåŸºç¡€å…¥é—¨æŒ‡å—ï¼šå¼€æºå·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°æŠ€æœ¯å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123452110574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HuskyYellow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:25:13.000Z" title="Wed Nov 19 2025 06:25:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æŠ€æœ¯æ¦‚è¿°</h2>
<p>N8Næ˜¯ä¸€æ¬¾åŸºäºNode.jsæ„å»ºçš„å¼€æºå·¥ä½œæµè‡ªåŠ¨åŒ–å·¥å…·ï¼Œé‡‡ç”¨å¯è§†åŒ–æµç¨‹å›¾æ–¹å¼è®¾è®¡å’Œæ‰§è¡Œè‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚è¯¥å¹³å°é€šè¿‡èŠ‚ç‚¹å¼ç¼–ç¨‹æ¨¡å‹ï¼Œå…è®¸ç”¨æˆ·è¿æ¥å„ç§åº”ç”¨ç¨‹åºã€APIå’Œæ•°æ®åº“ï¼Œå®ç°å¤æ‚ä¸šåŠ¡æµç¨‹çš„è‡ªåŠ¨åŒ–å¤„ç†ã€‚</p>
<h2 data-id="heading-1">å­¦ä¹ ä¸å®æ–½é—¨æ§›</h2>
<p>åœ¨å®æ–½n8nå·¥ä½œæµè‡ªåŠ¨åŒ–è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·é€šå¸¸é¢ä¸´ä»¥ä¸‹æŠ€æœ¯éšœç¢ï¼š</p>
<ul>
<li><strong>æ–‡æ¡£æœ¬åœ°åŒ–ä¸è¶³</strong>ï¼šå®˜æ–¹æ–‡æ¡£ä»¥è‹±æ–‡ä¸ºä¸»ï¼Œç¼ºä¹å¤šè¯­è¨€æ”¯æŒï¼Œå¢åŠ äº†éè‹±è¯­ç¯å¢ƒä¸‹çš„å­¦ä¹ éš¾åº¦</li>
<li><strong>èŠ‚ç‚¹æ“ä½œå¤æ‚åº¦</strong>ï¼šèŠ‚ç‚¹é…ç½®å‚æ•°ç¹å¤šï¼Œæ•°æ®å¤„ç†é€»è¾‘éœ€è¦æ·±å…¥ç†è§£</li>
<li><strong>å®è·µæ¡ˆä¾‹ç¨€ç¼º</strong>ï¼šç¼ºä¹ç”Ÿäº§ç¯å¢ƒä¸‹çš„æˆç†Ÿå®æ–½æ¡ˆä¾‹å‚è€ƒ</li>
<li><strong>æŠ€æœ¯æ”¯æŒæœ‰é™</strong>ï¼šç¤¾åŒºèµ„æºåˆ†æ•£ï¼Œé—®é¢˜è§£å†³æ•ˆç‡è¾ƒä½</li>
</ul>
<h2 data-id="heading-2">é€‚ç”¨äººç¾¤ä¸æŠ€èƒ½è¦æ±‚</h2>
<p>n8nä½œä¸ºä½ä»£ç å¼€å‘å¹³å°ï¼Œå¯¹ä½¿ç”¨è€…æå‡ºä»¥ä¸‹æŠ€èƒ½è¦æ±‚ï¼š</p>

























<table><thead><tr><th>å¿…å¤‡æŠ€èƒ½</th><th>å…·ä½“è¦æ±‚</th><th>é‡è¦æ€§è¯´æ˜</th></tr></thead><tbody><tr><td>é€»è¾‘æ€ç»´èƒ½åŠ›</td><td>ç†è§£æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯æ§åˆ¶ã€æ•°æ®è¾“å…¥è¾“å‡ºç­‰åŸºæœ¬ç¼–ç¨‹æ¦‚å¿µ</td><td>æ ¸å¿ƒèƒ½åŠ›ï¼Œç›´æ¥å½±å“å·¥ä½œæµè®¾è®¡çš„åˆç†æ€§ä¸æ‰§è¡Œæ•ˆç‡</td></tr><tr><td>ç½‘ç»œè®¿é—®èƒ½åŠ›</td><td>èƒ½å¤Ÿè®¿é—®å›½é™…äº’è”ç½‘èµ„æº</td><td>å¿…è¦æ¡ä»¶ï¼Œç”¨äºè·å–å®˜æ–¹æ–‡æ¡£ã€ç¤¾åŒºæ”¯æŒå’Œç¬¬ä¸‰æ–¹æ’ä»¶</td></tr><tr><td>é—®é¢˜æ’æŸ¥èƒ½åŠ›</td><td>å…·å¤‡åŸºæœ¬çš„è°ƒè¯•æŠ€èƒ½å’Œé—®é¢˜åˆ†æèƒ½åŠ›</td><td>å…³é”®èƒ½åŠ›ï¼Œç¡®ä¿å·¥ä½œæµç¨³å®šè¿è¡Œå’Œå¿«é€Ÿæ•…éšœæ’é™¤</td></tr></tbody></table>
<h2 data-id="heading-3">æŠ€æœ¯ä»·å€¼ä¸åº”ç”¨åœºæ™¯</h2>
<p>n8nä½œä¸ºä¼ä¸šçº§è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼Œå…¶æ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ï¼š</p>
<ul>
<li><strong>æå‡å·¥ä½œæµæ•ˆç‡</strong>ï¼šé€šè¿‡è‡ªåŠ¨åŒ–å‡å°‘äººå·¥å¹²é¢„ï¼Œæé«˜ä¸šåŠ¡å¤„ç†é€Ÿåº¦å’Œå‡†ç¡®æ€§</li>
<li><strong>é™ä½è¿è¥æˆæœ¬</strong>ï¼šå‡å°‘é‡å¤æ€§åŠ³åŠ¨ï¼Œä¼˜åŒ–äººåŠ›èµ„æºé…ç½®</li>
<li><strong>å®ç°ç³»ç»Ÿé›†æˆ</strong>ï¼šæ‰“ç ´æ•°æ®å­¤å²›ï¼Œå®ç°ä¼ä¸šå†…éƒ¨ç³»ç»Ÿçš„æ— ç¼è¿æ¥</li>
<li><strong>åŠ é€Ÿæ•°å­—åŒ–è½¬å‹</strong>ï¼šå¿«é€Ÿæ„å»ºå’Œéƒ¨ç½²è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒä¸šåŠ¡åˆ›æ–°</li>
</ul>
<p>å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆå’Œåˆ†å‘ä¸šåŠ¡æŠ¥è¡¨</li>
<li>è¡¨å•æ•°æ®çš„è‡ªåŠ¨å¤„ç†ä¸å­˜å‚¨</li>
<li>å¤šç³»ç»Ÿé—´çš„æ•°æ®åŒæ­¥ä¸é›†æˆ</li>
<li>å®¢æˆ·æœåŠ¡æµç¨‹çš„è‡ªåŠ¨åŒ–å¤„ç†</li>
<li>å®šæ—¶ä»»åŠ¡çš„è°ƒåº¦ä¸æ‰§è¡Œ</li>
</ul>
<h2 data-id="heading-4">å¹³å°å¯¹æ¯”åˆ†æ</h2>
<p>åœ¨é€‰æ‹©è‡ªåŠ¨åŒ–å·¥å…·æ—¶ï¼Œäº†è§£ä¸åŒå¹³å°çš„æŠ€æœ¯ç‰¹æ€§å’Œé€‚ç”¨åœºæ™¯è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯n8nä¸Difyã€Cozeä¸‰ä¸ªå¹³å°çš„æŠ€æœ¯å¯¹æ¯”ï¼š</p>
<h3 data-id="heading-5">æ ¸å¿ƒåŠŸèƒ½å¯¹æ¯”</h3>













































































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>n8n</th><th>Dify</th><th>Coze</th></tr></thead><tbody><tr><td>äº§å“å®šä½</td><td>è‡ªåŠ¨åŒ–æµç¨‹å¹³å°</td><td>å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°</td><td>å¤šè½®å¯¹è¯AIåŠ©æ‰‹å¹³å°</td></tr><tr><td>ä¸»è¦ç”¨é€”</td><td>ç³»ç»Ÿæ‰“é€šã€ä»»åŠ¡è‡ªåŠ¨åŒ–</td><td>å¿«é€Ÿå¼€å‘AIåº”ç”¨ï¼ˆAPIæˆ–å‰ç«¯ï¼‰</td><td>æ„å»ºèŠå¤©æœºå™¨äººå¹¶åµŒå…¥å„ç±»åœºæ™¯</td></tr><tr><td>å¼€æºæ€§è´¨</td><td>âœ… å®Œå…¨å¼€æº</td><td>âœ… éƒ¨åˆ†å¼€æº</td><td>âŒ é—­æºï¼ˆå­—èŠ‚è·³åŠ¨ï¼‰</td></tr><tr><td>å¤§æ¨¡å‹æ¥å…¥</td><td>âœ… æ”¯æŒOpenAIç­‰ï¼Œè‡ªè¡Œé…ç½®</td><td>âœ… å†…ç½®å¤šå®¶æ¨¡å‹ï¼ˆOpenAIã€Azureã€Moonshotç­‰ï¼‰</td><td>âœ… å†…ç½®æ¨¡å‹</td></tr><tr><td>å¤šè½®å¯¹è¯æ”¯æŒ</td><td>âŒ ä¸åŸç”Ÿæ”¯æŒ</td><td>âœ… Workflowæ”¯æŒä¸Šä¸‹æ–‡ç®¡ç†</td><td>âœ… å†…ç½®ä¸Šä¸‹æ–‡è®°å¿†å’Œå¤šè½®å¯¹è¯èƒ½åŠ›</td></tr><tr><td>APIé›†æˆèƒ½åŠ›</td><td>âœ… å¼ºï¼Œå¯é›†æˆä»»æ„API</td><td>âœ… æ”¯æŒè‡ªå®šä¹‰å¤–éƒ¨API</td><td>âœ… å¯è¿æ¥å¤–éƒ¨APIå¢å¼ºBot</td></tr><tr><td>æµç¨‹æ§åˆ¶é€»è¾‘</td><td>âœ… å¯è§†åŒ–æµç¨‹å›¾ï¼ˆå¼ºï¼‰</td><td>â– åŸºç¡€æµç¨‹é€»è¾‘</td><td>â– æ’ä»¶é€»è¾‘æ§åˆ¶</td></tr><tr><td>å‰ç«¯äº¤äº’èƒ½åŠ›</td><td>âŒ æ— åŸç”ŸUIï¼Œéœ€é…åˆå…¶ä»–æ¡†æ¶</td><td>âœ… Chat Appã€Web Appç”Ÿæˆå™¨</td><td>âœ… BotèŠå¤©çª—å£ï¼Œå¯åµŒå…¥å…¬ä¼—å·ã€å°ç¨‹åºã€ç½‘é¡µç­‰</td></tr><tr><td>ç”¨æˆ·æƒé™/åä½œ</td><td>âœ… å¤šç”¨æˆ·ã€RBACï¼ˆéœ€è‡ªå»ºï¼‰</td><td>âœ… å›¢é˜Ÿåä½œæ”¯æŒ</td><td>âœ… å¤šBotç®¡ç†ï¼Œå¹³å°å†…æƒé™æ§åˆ¶</td></tr><tr><td>é€‚ç”¨äººç¾¤</td><td>æŠ€æœ¯å¼€å‘è€…ã€è‡ªåŠ¨åŒ–çˆ±å¥½è€…</td><td>AIåº”ç”¨å¼€å‘è€…</td><td>è¿è¥ã€äº§å“ã€éæŠ€æœ¯ç”¨æˆ·</td></tr><tr><td>å…¸å‹åº”ç”¨åœºæ™¯</td><td>è‡ªåŠ¨å‘é€æ—¥æŠ¥ã€å¤„ç†è¡¨å•æ•°æ®ã€å¯¹æ¥å¤šä¸ªç³»ç»Ÿ</td><td>AIå®¢æœã€AIå·¥å…·ç®±ã€æ–‡æ¡£é—®ç­”API</td><td>å…¬ä¼—å·AIå®¢æœã€ç½‘ç«™AIåŠ©æ‰‹ã€SaaSé›†æˆBot</td></tr></tbody></table>
<h3 data-id="heading-6">æŠ€æœ¯é€‰å‹å»ºè®®</h3>
<p>å„å¹³å°å‡æœ‰å…¶ç‹¬ç‰¹ä¼˜åŠ¿ï¼ŒæŠ€æœ¯é€‰å‹åº”åŸºäºå…·ä½“ä¸šåŠ¡éœ€æ±‚ï¼š</p>
<ul>
<li><strong>n8n</strong>ï¼šé€‚åˆéœ€è¦é«˜åº¦å®šåˆ¶åŒ–å’Œç³»ç»Ÿé›†æˆèƒ½åŠ›çš„æŠ€æœ¯å›¢é˜Ÿï¼Œç‰¹åˆ«æ“…é•¿å¤æ‚å·¥ä½œæµçš„è‡ªåŠ¨åŒ–å¤„ç†</li>
<li><strong>Dify</strong>ï¼šä¸“æ³¨äºAIåº”ç”¨å¼€å‘ï¼Œé€‚åˆå¿«é€Ÿæ„å»ºåŸºäºå¤§æ¨¡å‹çš„æ™ºèƒ½åº”ç”¨</li>
<li><strong>Coze</strong>ï¼šé¢å‘éæŠ€æœ¯ç”¨æˆ·ï¼Œæä¾›ä¾¿æ·çš„èŠå¤©æœºå™¨äººå¼€å‘ä½“éªŒ</li>
</ul>
<p>æŠ€æœ¯é€‰å‹çš„æ ¸å¿ƒåœ¨äºåŒ¹é…ä¸šåŠ¡ç›®æ ‡ï¼Œè€Œéçº ç»“äºå·¥å…·æœ¬èº«çš„ä¼˜åŠ£ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™ä¸‰ä¸ªå¹³å°ä¹Ÿå¯ä»¥æ ¹æ®åœºæ™¯éœ€æ±‚è¿›è¡Œäº’è¡¥ä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini 3.0é‡ç£…å‘å¸ƒï¼æŠ€æœ¯å…¨é¢çªç ´ï¼šç™¾ä¸‡ä¸Šä¸‹æ–‡ã€å…¨æ¨¡æ€æ¨ç†ä¸å¼€å‘è€…ç”Ÿæ€é‡æ„]]></title>    <link>https://juejin.cn/post/7574084898877866025</link>    <guid>https://juejin.cn/post/7574084898877866025</guid>    <pubDate>2025-11-19T06:27:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574084898877866025" data-draft-id="7574069837532348452" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini 3.0é‡ç£…å‘å¸ƒï¼æŠ€æœ¯å…¨é¢çªç ´ï¼šç™¾ä¸‡ä¸Šä¸‹æ–‡ã€å…¨æ¨¡æ€æ¨ç†ä¸å¼€å‘è€…ç”Ÿæ€é‡æ„"/> <meta itemprop="keywords" content="Gemini,äººå·¥æ™ºèƒ½,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-11-19T06:27:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini 3.0é‡ç£…å‘å¸ƒï¼æŠ€æœ¯å…¨é¢çªç ´ï¼šç™¾ä¸‡ä¸Šä¸‹æ–‡ã€å…¨æ¨¡æ€æ¨ç†ä¸å¼€å‘è€…ç”Ÿæ€é‡æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:27:53.000Z" title="Wed Nov 19 2025 06:27:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©å‡Œæ™¨ï¼Œè°·æ­Œæ­£å¼å‘å¸ƒGemini 3.0æ¨¡å‹ï¼Œåœ¨æŠ€æœ¯æ¶æ„å’Œå¼€å‘è€…ä½“éªŒæ–¹é¢å¸¦æ¥é‡å¤§é©æ–°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03770552bc2a422aa74e0722b25006d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138473&amp;x-signature=70xd8Cu0TNegtmtBU%2BdDuF5CB%2B8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§åˆ†æ</h2>
<p>Gemini 3.0æœ€å¼•äººæ³¨ç›®çš„ç‰¹æ€§æ˜¯å…¶ç™¾ä¸‡çº§tokençš„ä¸Šä¸‹æ–‡çª—å£ã€‚è¿™ä¸€çªç ´æ„å‘³ç€æ¨¡å‹èƒ½å¤Ÿä¸€æ¬¡æ€§å¤„ç†å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£ã€å¤§å‹ä»£ç åº“æˆ–å¤æ‚ç³»ç»Ÿè®¾è®¡æ–‡æ¡£ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…ç°åœ¨å¯ä»¥ç›´æ¥å°†æ•´ä¸ªé¡¹ç›®ä»£ç åº“è¾“å…¥æ¨¡å‹ï¼Œè·å¾—åŸºäºå…¨å±€ä¸Šä¸‹æ–‡çš„ä»£ç åˆ†æå’Œä¼˜åŒ–å»ºè®®ï¼Œæ— éœ€å†é‡‡ç”¨åˆ†æ®µå¤„ç†çš„å¤æ‚æ–¹æ¡ˆã€‚</p>
<p>å¤šæ¨¡æ€æ¨ç†èƒ½åŠ›æ–¹é¢ï¼Œè¯¥æ¨¡å‹ä¹Ÿå®ç°äº†è´¨çš„é£è·ƒã€‚Gemini 3.0åœ¨MMMU-Proæµ‹è¯•ä¸­è·å¾—81%çš„å¾—åˆ†ï¼Œè¯æ˜å…¶èƒ½å¤Ÿæ·±åº¦ç†è§£æŠ€æœ¯å›¾è¡¨ã€æ¶æ„å›¾å’Œç”¨æˆ·ç•Œé¢è®¾è®¡ã€‚å¼€å‘è€…å¯ä»¥å€ŸåŠ©è¿™ä¸€èƒ½åŠ›ï¼Œå®ç°ä»è®¾è®¡ç¨¿åˆ°ä»£ç çš„è‡ªåŠ¨ç”Ÿæˆï¼Œæˆ–è€…è¿›è¡Œè·¨æ¨¡æ€çš„æŠ€æœ¯æ–‡æ¡£åˆ†æå’Œç”Ÿæˆã€‚</p>
<p>åŒæ—¶ï¼Œç¼–ç¨‹èƒ½åŠ›åŒæ ·è¿æ¥å·¨å¤§æå‡ã€‚è¯¥æ¨¡å‹å·²ç»åœ¨WebDevç«æŠ€åœºç™»é¡¶ï¼Œåœ¨Terminal-Bench 2.0æµ‹è¯•ä¸­è·å¾—54.2%çš„å¾—åˆ†ï¼Œåœ¨SWE-bench VerifiedåŸºå‡†æµ‹è¯•ä¸­è¿œè¶…å‰æœŸç‰ˆæœ¬ã€‚è¿™äº›è¿›æ­¥ä½“ç°åœ¨å®é™…ç¼–ç åœºæ™¯ä¸­ï¼ŒåŒ…æ‹¬æ›´å¥½çš„ä»£ç è´¨é‡ã€æ›´å‡†ç¡®çš„ç®—æ³•å®ç°ï¼Œä»¥åŠæ›´å¼ºçš„ç³»ç»Ÿæ¶æ„è®¾è®¡èƒ½åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21f7fe67abf54055b27e6c9f8fc09346~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138473&amp;x-signature=RL0gAsFr4Zng6S0dKTU1cyFCDmM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">å¼€å‘è€…å·¥å…·é“¾å‡çº§</h2>
<p>è°·æ­ŒåŒæ­¥æ¨å‡ºçš„Antigravityå¹³å°ä»£è¡¨ç€å¼€å‘èŒƒå¼çš„é‡è¦è½¬å˜ã€‚è¿™ä¸ªåŸºäºGemini 3.0çš„æ™ºèƒ½ä½“å¼€å‘ç¯å¢ƒï¼Œå°†AIä»ä»£ç å»ºè®®å·¥å…·å‡çº§ä¸ºèƒ½å¤Ÿè‡ªä¸»è§„åˆ’å¹¶æ‰§è¡Œå¤æ‚å¼€å‘ä»»åŠ¡çš„åä½œä¼™ä¼´ã€‚å¹³å°æ¼”ç¤ºæ¡ˆä¾‹æ˜¾ç¤ºï¼Œæ™ºèƒ½ä½“èƒ½å¤Ÿç†è§£éœ€æ±‚æè¿°ï¼Œè‡ªä¸»è®¾è®¡ç³»ç»Ÿæ¶æ„ï¼Œç¼–å†™å®ç°ä»£ç ï¼Œå¹¶é€šè¿‡æµè§ˆå™¨ç¯å¢ƒéªŒè¯æ‰§è¡Œæ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e1282f6f3884f01bbcee544c0ba3bf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138473&amp;x-signature=Ua%2FfntqS6uAK7Ztr%2FU3321wtpDw%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨å·¥å…·é›†æˆæ–¹é¢ï¼ŒGemini 3.0å±•ç°å‡ºå¼ºå¤§çš„ç”Ÿæ€é€‚é…èƒ½åŠ›ã€‚è¯¥æ¨¡å‹ç°å·²æ”¯æŒCursorã€GitHubã€JetBrainsã€Replitç­‰ä¸»æµå¼€å‘å·¥å…·ï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»çš„æŠ€æœ¯é€‰å‹ç©ºé—´ã€‚ç‰¹åˆ«æ˜¯åœ¨ä»£ç é‡æ„ã€æŠ€æœ¯å€ºåŠ¡æ¸…ç†ã€è·¨è¯­è¨€ç§»æ¤ç­‰å¤æ‚ä»»åŠ¡ä¸­ï¼Œè¿™äº›å·¥å…·é›†æˆèƒ½å¤Ÿæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h2 data-id="heading-2">å®é™…å¼€å‘åœºæ™¯æµ‹è¯•</h2>
<p>åœ¨æŠ€æœ¯æµ‹è¯•ä¸­ï¼ŒGemini 3.0å±•ç°å‡ºå¤šé¡¹ä»¤äººæƒŠå–œçš„èƒ½åŠ›ã€‚åœ¨ä»£ç ç”Ÿæˆæ–¹é¢ï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆå®Œæ•´çš„å…¨æ ˆåº”ç”¨ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢ã€åç«¯APIå’Œæ•°æ®åº“è®¾è®¡ã€‚åœ¨ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸­ï¼Œå®ƒèƒ½å¤Ÿç†è§£å¤æ‚çš„æŠ€æœ¯éœ€æ±‚ï¼Œæä¾›åˆç†çš„æ¶æ„æ–¹æ¡ˆå¹¶ç”Ÿæˆç›¸åº”çš„å®ç°ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6fb57b28267442a887bb8e053f97139~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138473&amp;x-signature=G92Gk%2F1dxlCD6Lyfo35lAb56lUg%3D" alt="image.png" loading="lazy"/></p>
<p>ç‰¹åˆ«å€¼å¾—å…³æ³¨çš„æ˜¯å…¶åœ¨ä»£ç ç†è§£å’Œé‡æ„æ–¹é¢çš„è¡¨ç°ã€‚æµ‹è¯•æ˜¾ç¤ºï¼Œè¯¥æ¨¡å‹èƒ½å¤Ÿå¿«é€Ÿç†è§£å¤§å‹é—ç•™ç³»ç»Ÿçš„ä»£ç ç»“æ„ï¼Œè¯†åˆ«æ½œåœ¨çš„æŠ€æœ¯é£é™©ï¼Œå¹¶æå‡ºå…·ä½“çš„é‡æ„å»ºè®®ã€‚è¿™ç§èƒ½åŠ›å¯¹äºç»´æŠ¤å’Œä¼˜åŒ–ç°æœ‰ç³»ç»Ÿå…·æœ‰é‡è¦ä»·å€¼ã€‚</p>
<p>ä»ä¼ä¸šåº”ç”¨è§’åº¦ï¼ŒGemini 3.0åœ¨å®‰å…¨æ€§å’Œå¯é æ€§æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡ã€‚ç»è¿‡è°·æ­Œæœ€å…¨é¢çš„å®‰å…¨è¯„ä¼°ï¼Œè¯¥æ¨¡å‹åœ¨æŠ—æ³¨å…¥æ”»å‡»ã€å®‰å…¨é˜²æŠ¤ç­‰æ–¹é¢éƒ½æœ‰æ˜æ˜¾æ”¹è¿›ã€‚å¯¹äºå¤„ç†æ•æ„Ÿä»£ç å’Œå•†ä¸šé€»è¾‘çš„ä¼ä¸šå¼€å‘åœºæ™¯ï¼Œè¿™äº›å®‰å…¨å¢å¼ºç‰¹æ€§å°¤ä¸ºé‡è¦ã€‚</p>
<h2 data-id="heading-3">å¼€å‘å»ºè®®ä¸æœ€ä½³å®è·µ</h2>
<p>åŸºäºå½“å‰çš„æŠ€æœ¯ç‰¹æ€§ï¼Œå»ºè®®å¼€å‘å›¢é˜Ÿé‡ç‚¹å…³æ³¨ä»¥ä¸‹å‡ ä¸ªæ–¹å‘ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›çš„å……åˆ†åˆ©ç”¨ï¼Œè€ƒè™‘é‡æ–°è®¾è®¡å¼€å‘å·¥ä½œæµä»¥å‘æŒ¥å…¶å¤„ç†å¤§å‹ä»£ç åº“çš„ä¼˜åŠ¿ï¼›</li>
<li>å…¶æ¬¡æ˜¯æ™ºèƒ½ä½“åä½œå¼€å‘æ¨¡å¼çš„æ¢ç´¢ï¼Œå°†é‡å¤æ€§ç¼–ç ä»»åŠ¡å§”æ‰˜ç»™AIæ™ºèƒ½ä½“æ‰§è¡Œï¼›</li>
<li>æœ€åæ˜¯è·¨æ¨¡æ€å¼€å‘èƒ½åŠ›çš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠUIè®¾è®¡å’ŒæŠ€æœ¯æ–‡æ¡£ç”Ÿæˆçš„å¼€å‘åœºæ™¯ä¸­ã€‚</li>
</ul>
<p>å…¨ä¸–ç•Œéƒ½åœ¨æœŸå¾…çš„Gemini 3ï¼Œåœ¨è´¨çš„é£è·ƒä¸­ï¼Œå®ç°äº†AIå¤§æ¨¡å‹åˆä¸€æ¬¡â€œå²è¯—çº§â€é£è·ƒã€‚æ›´æœ‰ç½‘å‹è¡¨ç¤ºï¼Œâ€œè¿™æ‰æ˜¯çœŸæ­£çš„äººå·¥æ™ºèƒ½â€ã€‚</p>
<p>æœªæ¥ï¼Œéšç€Gemini 3æ­£å¼äº®ç›¸ï¼ŒAIå¤§æ¨¡å‹çš„ç«äº‰æ ¼å±€å°†å†æ¬¡æ´—ç‰Œã€‚è°·æ­Œç”¨å®é™…æˆæœè¯æ˜ï¼ŒAIæŠ€æœ¯çš„å‘å±•é€Ÿåº¦ä»åœ¨åŠ å¿«ï¼Œæœªæ¥çš„å¯èƒ½æ€§æ¯”æˆ‘ä»¬æƒ³è±¡çš„æ›´ä¸ºå¹¿é˜”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼šåŠŸèƒ½æ‹“ç•Œä¸ä¸šåŠ¡èµ‹èƒ½]]></title>    <link>https://juejin.cn/post/7574020645862981683</link>    <guid>https://juejin.cn/post/7574020645862981683</guid>    <pubDate>2025-11-19T06:36:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574020645862981683" data-draft-id="7574204970774954011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼šåŠŸèƒ½æ‹“ç•Œä¸ä¸šåŠ¡èµ‹èƒ½"/> <meta itemprop="keywords" content="AIGC,AIOps"/> <meta itemprop="datePublished" content="2025-11-19T06:36:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è´§æ‹‰æ‹‰æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/1768489241815070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼šåŠŸèƒ½æ‹“ç•Œä¸ä¸šåŠ¡èµ‹èƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1768489241815070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è´§æ‹‰æ‹‰æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:36:35.000Z" title="Wed Nov 19 2025 06:36:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§æ¨¡å‹å·²æˆä¸ºé©±åŠ¨å„è¡Œä¸šæ™ºèƒ½åŒ–è½¬å‹çš„æ ¸å¿ƒå¼•æ“ï¼Œè´§æ‹‰æ‹‰åŸºäºè‡ªèº«åœ¨ç‰©æµé¢†åŸŸ AI è½åœ°çš„æ·±åšç§¯ç´¯ï¼Œç‡å…ˆå¸ƒå±€å¹¶æ‰“é€ äº†è´§æ‹‰æ‹‰çš„<strong>å¤§æ¨¡å‹åº”ç”¨ä¸€ç«™å¼å¼€å‘å¹³å° -- æ‚Ÿç©ºå¹³å°</strong>ã€‚ä¾æ‰˜æ‚Ÿç©ºå¹³å°ï¼Œäº¤ä»˜ AI Workflowã€AI Agentã€å¤šæ¨¡æ€çŸ¥è¯†å¼•æ“ã€AI æ’ä»¶ç­‰åŠŸèƒ½ç§¯æœ¨ï¼Œå·²åœ¨åå‡ ä¸ªéƒ¨é—¨è½åœ°æ•°åä¸Šç™¾ä¸ª AI åœºæ™¯ã€‚è¯å®äº†è´§æ‹‰æ‹‰åœ¨å¤§æ¨¡å‹è½åœ°ä¹‹è·¯ä¸Šçš„åšå®šæ­¥ä¼å’Œæˆæœã€‚</p>
<p>å¦‚ä»Šï¼Œéšç€å…¬å¸ä¸šåŠ¡æŒç»­æ‰©å¼ ã€åœºæ™¯æ—¥ç›Šå¤æ‚ï¼Œä»¥åŠç”¨æˆ·å¯¹æ™ºèƒ½åŒ–ä½“éªŒè¦æ±‚çš„ä¸æ–­æå‡ï¼ŒåŸæœ‰çš„å¤§æ¨¡å‹åº”ç”¨ä½“ç³»é¢ä¸´ç€æ–°çš„æœºé‡å’ŒæŒ‘æˆ˜ã€‚å¦‚ä½•åœ¨å·²æœ‰çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ‹“å±•èƒ½åŠ›è¾¹ç•Œï¼Œä½¿å…¶æ›´å¥½çš„æœåŠ¡äºä¼ä¸šçš„å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œæˆä¸ºäº†æˆ‘ä»¬äºŸå¾…æ”»å…‹çš„å…³é”®è¯¾é¢˜ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼ŒåŠŸèƒ½æ‹“ç•Œä¸ä¸šåŠ¡èµ‹èƒ½ï¼Œæˆä¸ºäº†æ‚Ÿç©ºä¸‹ä¸€é˜¶æ®µçš„æ ¸å¿ƒæˆ˜ç•¥ï¼Œä¸‹é¢æˆ‘å°†è¯¦ç»†ä»‹ç»ã€‚</p>
<h2 data-id="heading-1">è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨ç°çŠ¶åˆ†æ</h2>
<p>åœ¨è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨ä¸å¼€å‘åˆæœŸï¼Œæˆ‘ä»¬é¢ä¸´å¤šé¡¹æŒ‘æˆ˜ï¼Œä¾‹å¦‚ï¼Œå¦‚ä½•ç»Ÿä¸€ç»“æ„åŒ–å’Œéç»“æ„åŒ–ä¼ä¸šçŸ¥è¯†ã€å¦‚ä½•åŠ¨æ€ç»„åˆä¸šåŠ¡é€»è¾‘å’Œå¤§æ¨¡å‹ç­‰ï¼Œé’ˆå¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬åšäº†é’ˆå¯¹æ€§çªç ´ï¼šæ„å»ºäº†ä¸€å¥—å¤šæ¨¡æ€çŸ¥è¯†å¼•æ“ï¼Œæä¾›äº†ä¸€å¥—è‡ªç ”çš„ AI Workflow å¼•æ“ç­‰ï¼Œåœ¨å‰æ–‡ä¸­å·²æœ‰è¯¦ç»†ä»‹ç»ï¼Œåœ¨æ­¤ä¸åšèµ˜è¿°ã€‚</p>
<p>å°½ç®¡è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å·²å–å¾—é˜¶æ®µæ€§è¿›å±•ï¼Œä½†éšç€ä¸šåŠ¡æ„ˆå‘æ·±å…¥ï¼Œåœºæ™¯æ„ˆå‘å¤æ‚ï¼Œæˆ‘ä»¬é¢ä¸´ç€æ–°ä¸€è½®çš„é—®é¢˜ä¸æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-2">1. åº”ç”¨å®‰å…¨æŒ‘æˆ˜</h3>
<p>æˆªè‡³å½“å‰ï¼Œæ‚Ÿç©ºå¹³å°å·²æ‰˜ç®¡ 7k+ ä¸ª AI åº”ç”¨ï¼Œè¿™äº› AI åº”ç”¨ç±»å‹æ¶‰åŠ AI Workflowã€Single-Agentã€Multi-Agentã€LangChainã€LangGraph ç­‰ï¼Œè¦†ç›–åå‡ ä¸ªä¸šåŠ¡éƒ¨é—¨çš„åœºæ™¯ç‚¹ã€‚å¦‚ä½•ä¿è¯å¦‚æ­¤å¤šçš„ AI åº”ç”¨ç¨³å®šã€å¯é ã€äº’ä¸å½±å“ï¼Œå³åº”ç”¨å®‰å…¨é—®é¢˜ï¼Œæˆä¸ºäº†é‡ä¸­ä¹‹é‡ã€‚</p>
<ul>
<li>è¿è¡Œå®‰å…¨ï¼šAI åº”ç”¨ä¹‹é—´è¿è¡Œæ—¶æ€æ²¡æœ‰å®Œå…¨éš”ç¦»ï¼Œéƒ¨åˆ†æµç¨‹ã€èµ„æºã€ä¾èµ–å¤„äºå…±ç”¨å’ŒæŠ¢å çŠ¶æ€</li>
<li>æ•°æ®å®‰å…¨ï¼šä¸šåŠ¡ä½¿ç”¨ AI åº”ç”¨ï¼Œè¾“å…¥å¯èƒ½åŒ…å«ä¼ä¸šæ•æ„Ÿä¿¡æ¯ï¼Œè¾“å‡ºå¯èƒ½ç”¨äºå¤–éƒ¨ï¼Œä¾‹å¦‚ App ç«¯ï¼Œå®¹æ˜“å¼•å‘èˆ†æƒ…é£é™©</li>
<li>æ•ˆæœå®‰å…¨ï¼šAI æµç¨‹æœ€ç»ˆè¾“å‡ºæ˜¯é»‘ç›’ä¸”å‘æ•£çš„ï¼Œå¦‚ä½•åšåˆ° AI è¾“å‡ºçš„å¯è¯„æµ‹ã€å¯è§‚æµ‹ã€å¯è®°å½•ã€æ˜¯æ•ˆæœå®‰å…¨çš„å‰æ</li>
</ul>
<h3 data-id="heading-3">2. æ¨ç†æ€§èƒ½ç“¶é¢ˆ</h3>
<p>åœ¨ä¸€äº›å¤æ‚ä¸šåŠ¡åœºæ™¯ï¼Œä¾‹å¦‚ DeepSearchã€BI é—®æ•°ã€AI é€‰è½¦ç­‰ï¼Œä¸šåŠ¡æµç¨‹å¤æ‚ï¼Œå•æ¬¡æ¨ç†è°ƒç”¨ï¼Œå¯èƒ½æ¶‰åŠæ•°åä¸ªèŠ‚ç‚¹ç¯èŠ‚æ‰§è¡Œï¼Œä¸”ä¸­é—´æ¶‰åŠå¤šæ¬¡ä¸åŒå¤§æ¨¡å‹çš„è°ƒç”¨ã€MCP è¿è¡Œã€Agent å†³ç­–ç­‰ï¼Œå¹¶ä¸”å¯¹æ•´ä½“æ¨ç†è€—æ—¶æœ‰è¦æ±‚ã€‚AI åº”ç”¨çš„æ¨ç†æ€§èƒ½é€æ¸åˆ°è¾¾äº†ä¸€ä¸ªç“¶é¢ˆã€‚</p>
<ul>
<li>å¤æ‚æµç¨‹æ¨ç†æ…¢ï¼šåŸºäº DAG çš„ä¸²è¡ŒåŒ–æµç¨‹ï¼Œåœ¨æ¨ç†æ—¶ä¸¥æ ¼éµå¾ªä¸²è¡ŒåŒ–ï¼Œä¼šè®©æµç¨‹è€—æ—¶å‘ˆçº¿æ€§å¢åŠ </li>
<li>èµ„æºä¸å‡è¡¡å ç”¨ï¼šAI åº”ç”¨æµé‡ä¸åŒäºä¼ ç»ŸæœåŠ¡ï¼Œå…·æœ‰å‘¨æœŸæ€§ã€ä¸´æ—¶æ€§ã€çªå‘æ€§çš„ç‰¹ç‚¹ï¼Œææ˜“é€ æˆæœåŠ¡èµ„æºä¸å‡è¡¡</li>
<li>å¤§æ¨¡å‹è´Ÿè½½çˆ†æ»¡ï¼šéšç€ä¸šåŠ¡å’Œè°ƒç”¨é‡ä¸Šæ¶¨ï¼Œæ¨¡å‹è´Ÿè½½é£™å‡ï¼Œå¦‚ä½•åœ¨ä¸šåŠ¡å†…éƒ¨å’Œä¸šåŠ¡é—´å¹³è¡¡ä½¿ç”¨è´Ÿè½½ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè€å¤§éš¾é—®é¢˜</li>
</ul>
<h3 data-id="heading-4">3. å¿«é€Ÿæ‹“å±•å›°å¢ƒ</h3>
<ul>
<li>
<p>åœºæ™¯é€‚é…æˆæœ¬è¾ƒé«˜ï¼šä¸åŒä¸šåŠ¡éƒ¨é—¨åè®®ã€æ¥å£ã€èƒ½åŠ›å·®å¼‚å¤§ï¼Œç°æœ‰ AI Tool æ³¨å†Œæœºåˆ¶éš¾ä»¥ç›´æ¥é€‚é…</p>
</li>
<li>
<p>æ’ä»¶å¼€å‘éƒ¨ç½²å›°éš¾ï¼šAI æ’ä»¶çš„ä½¿ç”¨ä¾èµ–ä¼ ç»ŸæœåŠ¡éƒ¨ç½²æµç¨‹ï¼Œæ‚Ÿç©ºç°æ— æ³•æ”¯æŒå¤šè¯­è¨€çš„æ’ä»¶æ‰˜ç®¡ã€‚</p>
</li>
<li>
<p>å¹³å°æ¶æ„æ‰©å±•ä¸è¶³ï¼šç°æœ‰å¹³å°æ¶æ„å¯èƒ½éš¾ä»¥æ”¯æ’‘åº”ç”¨æ•°é‡å’Œç±»å‹çš„çˆ†å‘å¼å¢é•¿ï¼Œå¹³å°æœ¬èº«çš„æ‰©å±•æ€§æˆä¸ºäº†æˆä¸ºäº†ç“¶é¢ˆ</p>
</li>
</ul>
<p>ç»¼ä¸Šç°çŠ¶ï¼Œæ¨åŠ¨è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘è¿›è¡ŒåŠŸèƒ½æ‹“ç•Œä¸ä¸šåŠ¡èµ‹èƒ½ï¼Œå…·æœ‰æå¼ºçš„å¿…è¦æ€§å’Œæˆ˜ç•¥æ„ä¹‰ã€‚</p>
<h2 data-id="heading-5">è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘åŠŸèƒ½æ‹“ç•Œ</h2>
<h3 data-id="heading-6">1. æ‚Ÿç©ºæ–°æ¶æ„æ€»è§ˆ</h3>
<p>ä¸ºäº†åº”å¯¹å½“å‰å¹³å°æ¶æ„æœ¬èº«çš„ä¸è¶³ï¼Œåœ¨åŸæœ‰å•æœåŠ¡æ¶æ„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å®Œæˆäº†å¹³å°æ¶æ„æ‹†åˆ†ï¼Œé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œ æŒ‰ç…§åŠŸèƒ½æ¨¡å—åˆ’åˆ†æœåŠ¡ï¼ŒæœåŠ¡é—´é€šä¿¡äº¤äº’ï¼ŒèŒè´£æ¸…æ™°ã€‚</p>
<p>ä¸ºåº”å¯¹è¿è¡Œå®‰å…¨ã€èµ„æºä¸å‡è¡¡ç­‰é—®é¢˜ï¼Œæ‚Ÿç©ºå¼•å…¥ Serverless æ— æœåŠ¡å™¨åº”ç”¨ï¼Œå®ç° AI è¿è¡Œæ—¶æ€æ²™ç›’ï¼Œè§£å†³äº†ç¯å¢ƒéš”ç¦»å’Œèµ„æºæŠ¢å çš„ç°è±¡ã€‚æ­¤å¤–ï¼Œæ‚Ÿç©ºä¿æŒå‰æ²¿æŠ€æœ¯å¼•è¿›ï¼Œé€šè¿‡æ¨åŠ¨è´§æ‹‰æ‹‰ MCP å¸‚åœºï¼Œæ•´åˆä¸åŒéƒ¨é—¨èƒ½åŠ›ç»Ÿä¸€è¾“å‡ºï¼Œä»¥åº”å¯¹åœºæ™¯é€‚é…æˆæœ¬é«˜çš„é—®é¢˜ã€‚æœ€åï¼Œæ‚Ÿç©ºå¹³å°è”åŠ¨ä¿¡æ¯å®‰å…¨ã€é£æ§ç­‰å¤šæ–¹éƒ¨é—¨ï¼Œæ„å»ºäº† AI åº”ç”¨å…¨æ–¹ä½çš„å®‰å…¨æ£€æµ‹å’Œæ‹¦æˆªä½“ç³»ï¼Œç¡®ä¿ä¼ä¸šå®‰å…¨ã€‚</p>
<ul>
<li>æ‚Ÿç©ºæ–°æ¶æ„å¦‚ä¸‹ï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030fb8a55bee43db99643b0559328153~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=xJ3nr8FK9pvWI9tJArcr%2BqH9pvU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">2. åŸºäº DAG çš„å¹¶è¡Œæ¨ç† AI Workflow å¼•æ“</h3>
<p>æ‚Ÿç©ºæ”¯æŒçš„è‡ªç ” AI Workflow å¼•æ“ï¼Œæä¾›çµæ´»ã€é€šç”¨ã€ä¸Šæ‰‹å¿«ã€è¿è¡Œç¨³å®šçš„ AI æµç¨‹ç¼–æ’èƒ½åŠ›ï¼Œå¯å¿«é€Ÿæ„å»ºå¯æ‰©å±•çš„ä¼ä¸šçº§ AI åº”ç”¨ã€‚ä½†é¢å¯¹å¤æ‚ä¸šåŠ¡ï¼Œå…¶æ¨ç†æ€§èƒ½å’Œé€Ÿåº¦å·²ç»åˆ°è¾¾äº†ç“¶é¢ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e821baff812948b18ce02b10c30cc0c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=QVWKQz9wzW7BBORsPwAQaJzZWoA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-8">2.1 å¹¶è¡Œå¤æ‚æ¨ç†</h4>
<p>AI å·¥ä½œæµçš„å¹¶è¡Œæ¨ç†åœ¨ DIfy å’Œä¸­ä¹Ÿæœ‰ç›¸ä¼¼èƒ½åŠ›ä»‹ç»ï¼Œå¹¶è¡Œæ¨ç†å…è®¸å¤šä¸ªå·¥ä½œæµèŠ‚ç‚¹æˆ–åˆ†æ”¯åœ¨åŒä¸€æ—¶é—´å†…å…±åŒè§¦å‘æ‰§è¡Œï¼Œå¹¶è¡ŒèŠ‚ç‚¹/åˆ†æ”¯é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œèƒ½å¤ŸåŒæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œæ›´å¥½çš„æå‡ AI å·¥ä½œæµçš„æ•´ä½“è¿è¡Œæ•ˆç‡ã€‚å®ç°åŸç†æ˜¯åŸºäº DAG å›¾ç®—æ³•ï¼Œç»“åˆèŠ‚ç‚¹ä¾èµ–å˜é‡é©±åŠ¨ï¼Œé…åˆåŠ¨æ€æ ‡è®°å‰ªæå®Œæˆã€‚</p>
<p>åŒ…å«ä»¥ä¸‹ä½¿ç”¨å¹¶è¡Œæ¨ç†æ¨¡å¼ï¼š</p>
<p><strong>1. åŸºç¡€å¹¶è¡Œ</strong></p>
<p>åŸºç¡€å¹¶è¡Œæ˜¯æŒ‡ <code>å¼€å§‹-&gt;å¹¶è¡Œç»“æ„-&gt;ç»“æŸ</code> ä¸‰å±‚å…³ç³»ï¼Œä¹Ÿæ˜¯å¹¶è¡Œæ¨ç†çš„æœ€å°å•å…ƒï¼Œè¿™ç§æ¨¡å¼æœ€ä¸ºç›´è§‚ï¼Œç”¨æˆ·è¾“å…¥å˜é‡åï¼Œå·¥ä½œæµèƒ½å¤ŸåŒæ—¶è¿è¡Œå¤šä¸ªèŠ‚ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff51d678838b49c788f3ccc17550e106~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=XqidU%2FY28aRxYp8HYZPOKmXqDK0%3D" alt="" loading="lazy"/></p>
<p><strong>2. åµŒå¥—å¹¶è¡Œ</strong></p>
<p>åµŒå¥—å¹¶è¡Œæ˜¯æŒ‡ <code>å¼€å§‹-&gt;å¹¶è¡Œç»“æ„ -&gt; å¹¶è¡Œç»“æ„-&gt; .... -&gt; å¹¶è¡Œç»“æ„-&gt;ç»“æŸ</code> å¤šå±‚å…³ç³»ï¼Œé€‚ç”¨äºå†…éƒ¨å¤æ‚çš„æµç¨‹ã€‚æ¯”å¦‚éœ€è¦å…ˆå®Œæˆè¯·æ±‚å¤–éƒ¨ APIï¼Œåœ¨å°†å“åº”ç»“æœæ•´åˆååŒæ—¶äº¤ç»™ä¸‹æ¸¸å¤šä¸ªèŠ‚ç‚¹æ‰§è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99892f6085a74cd2a850e98830922d62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=wQAbe0v0uuEWY5Vp%2BD0FIMhfyp4%3D" alt="" loading="lazy"/></p>
<p><strong>3. è¿­ä»£å¹¶è¡Œ</strong></p>
<p>è¿­ä»£å¹¶è¡Œç”¨äºåœ¨ä¸šåŠ¡æœ‰å¾ªç¯é€»è¾‘æˆ–æ‰¹å¤„ç†é€»è¾‘ï¼Œå¯ä»¥åœ¨å¾ªç¯ä½“å’Œæ‰¹å¤„ç†ä½“å†…æ”¯æŒç¼–æ’å¹¶è¡Œç»“æ„ï¼ŒåŠ é€Ÿä¸€è½®è¿­ä»£å†…å„èŠ‚ç‚¹æ‰§è¡Œæ•ˆç‡ï¼Œä»¥åŠå¤šè½®è¿­ä»£é—´çš„å¹¶å‘æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/093edfdbc5194a968e3b090905b6a7b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=e3PfReVWqz6KRXGQHINPQ86yR1Y%3D" alt="" loading="lazy"/></p>
<p><strong>4. æ¡ä»¶/æ„å›¾å¹¶è¡Œ</strong></p>
<p>æ¡ä»¶åˆ†æ”¯å¹¶è¡Œæ˜¯æ ¹æ®æŒ‡å®šæ¡ä»¶è¿è¡Œä¸åŒçš„å¹¶è¡Œç»“æ„ï¼Œæ­¤å¤–ä¹Ÿæ”¯æŒå¤šä¸ªæ¡ä»¶åŒæ—¶å‘½ä¸­è¿è¡Œå¤šä¸ªå¹¶è¡Œç»“æ„ã€‚</p>
<p>æ‚Ÿç©ºä¹Ÿæ‰©å±•äº†æ„å›¾èŠ‚ç‚¹çš„èƒ½åŠ›ï¼Œå¯æ ¹æ®å‘½ä¸­ç”¨æˆ·æ„å›¾ï¼Œè¿è¡Œä¸åŒçš„å¹¶è¡Œç»“æ„ï¼Œç”šè‡³ä¹Ÿå¯ä»¥åŒæ—¶å‘½ä¸­å¤šä¸ªæ„å›¾é€‰é¡¹ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªæ„å›¾ä¸‹çš„å¹¶è¡Œç»“æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1747ca66e6fa42ba8981df68d17f260f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=Hc4PzIFGmAwAq8OpCi58X93yQC0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-9">2.2 å¤§æ¨¡å‹æµé‡è°ƒåº¦</h4>
<p>æ‚Ÿç©ºå¹³å°å·²å­˜åœ¨ä¸ƒåƒå¤šä¸ª AI åº”ç”¨ï¼Œæ—¥å‡æ‰¿è½½äº†æ•°ç™¾ä¸Šåƒä¸‡æ¬¡ AI åº”ç”¨è°ƒç”¨ï¼Œè€Œ AI åº”ç”¨çš„è¡Œä¸ºä¸æ€§èƒ½åˆé«˜åº¦ä¾èµ–æ¨¡å‹æœåŠ¡ï¼Œæ¨¡å‹æœåŠ¡å—é™äºåº•å±‚ç®—åŠ›èµ„æºï¼Œæ™®éå­˜åœ¨è¾ƒä½çš„æ¥å£é™æµé˜ˆå€¼ï¼Œä¸”ç›¸æ¯”ä¼ ç»Ÿ API æœåŠ¡ï¼Œå…¶å“åº”å»¶è¿Ÿï¼ˆRTï¼‰å’Œè°ƒç”¨æˆåŠŸç‡æ³¢åŠ¨è¾ƒå¤§ï¼ŒæœåŠ¡å¯ç”¨æ€§ç›¸å¯¹ä¸ç¨³å®šï¼Œå¯¹ä¸Šå±‚ AI åº”ç”¨çš„è¿ç»­æ€§å’Œä½“éªŒæ„æˆæŒ‘æˆ˜ã€‚</p>
<p>æ¨¡å‹è°ƒç”¨çš„æŒ‘æˆ˜æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li><strong>æ¨¡å‹å¤šï¼š</strong> ä¸€ä¸ª AI Workflow ä¸­å¯èƒ½ä½¿ç”¨å¤šä¸ªå¤§æ¨¡å‹ï¼Œè¿™äº›å¤§æ¨¡å‹èŠ‚ç‚¹åˆ†æ•£åœ¨å·¥ä½œæµçš„è¿è¡Œé“¾è·¯ä¸­ï¼Œä¸”è¿™äº›æ¨¡å‹ä¾›åº”å•†ä¸åŒï¼Œè§„èŒƒä¹Ÿä¸åŒã€è°ƒç”¨æ–¹å¼ä¹Ÿå¯èƒ½ä¸åŒã€‚</li>
<li><strong>æ¨¡æ€å¤šï¼š</strong> ä¸€ä¸ª AI Workflow ä¸­å¯èƒ½åŒ…å«è¯­è¨€æ¨¡å‹ã€å›¾åƒç†è§£æ¨¡å‹ã€å›¾åƒç”Ÿæˆæ¨¡å‹ã€è¯­éŸ³æ¨¡å‹ã€Embedding æ¨¡å‹ç­‰ï¼Œç”¨äºå¤„ç†ä¸åŒçš„è¾“å…¥æ¨¡æ€ï¼Œæ¨¡æ€é—´æ•°æ®æ¨¡å¼å’Œåè®®ç¼ºä¹ç»Ÿä¸€æ ‡å‡†</li>
<li><strong>åœºæ™¯å¤šï¼š</strong> ä¸åŒä¸šåŠ¡åœºæ™¯å¯¹ AI åº”ç”¨éœ€æ±‚å·®å¼‚æ˜¾è‘—ï¼Œæœ‰çš„è¦æ±‚ç¨³å®šæ€§ï¼Œæœ‰çš„éœ€è¦å¼ºé™æµï¼Œæœ‰çš„éœ€è¦é€»è¾‘å®¹é”™ï¼Œæœ‰çš„åªåœ¨å›ºå®šæ—¶æ®µé«˜å³°è°ƒç”¨ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/377b8b5140d1442fb0277dcbe683b522~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=Td37B5faeQ7Ve3Nmu%2FuZL1YA1lg%3D" alt="image.png" loading="lazy"/></p>
<p>é¢å¯¹ AI åº”ç”¨å’Œæ¨¡å‹è°ƒç”¨çš„æŒ‘æˆ˜ï¼Œè§£æ³•å°±æ˜¯ç»Ÿä¸€æ¨¡å‹æœåŠ¡çš„æµé‡è°ƒåº¦ï¼Œä»é‡è¦æ€§ä¸Šæœ€æºå¤´åˆ’åˆ†æ ¸å¿ƒä¸šåŠ¡å’Œæ™®é€šä¸šåŠ¡ï¼Œæ‰€æœ‰ä¸šåŠ¡ Workflow è¿è¡Œä¸­æ¨¡å‹èŠ‚ç‚¹çš„æµé‡éƒ½ä¼šèµ°åˆ°æµé‡è°ƒåº¦æ¨¡å—ï¼Œåœ¨æµé‡è°ƒåº¦æ¨¡å—ï¼Œå®Œæˆé‰´æƒã€æ¨¡æ€åŠ è½½ã€é£é™©æ‹¦æˆªç­‰å‰ç½®åŠ¨ä½œã€‚æ ¹æ®æ˜¯å¦æ ¸å¿ƒï¼Œåˆ¤æ–­æ¨¡å‹æµé‡èµ°æ™®é€š Model Endpoint æˆ–æ ¸å¿ƒä¸“å±çš„ Endpointã€‚</p>
<p>æ­¤å¤–ï¼Œé’ˆå¯¹æœ‰ä½æ—¶å»¶è¦æ±‚çš„ä¸šåŠ¡ï¼Œæä¾›æ¨¡å‹çš„ TPM ä¿éšœï¼Œå¯æ ¹æ®é…ç½®æˆ–å®šæ—¶ç­–ç•¥ï¼Œæ‰‹åŠ¨æˆ–è‡ªåŠ¨çš„å¼€å¯ TPM ä¿éšœã€‚å¯¹äºç¨³å®šæ€§è¦æ±‚é«˜çš„ä¸šåŠ¡ï¼Œæä¾›å¯è‡ªå®šä¹‰çš„é€»è¾‘å®¹é”™ç­–ç•¥å’Œæ¨¡å‹çš„ fallback æœºåˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9c9f1ab462345d7ad91f3548678022c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=xLFMSlWGthBUiZ2bbAmbdNffnWQ%3D" alt="image.png" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼ŒæŸä¸ªä¸šåŠ¡ Workflow çš„é€»è¾‘å®¹é”™å’Œ fallback ç­–ç•¥å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e490234e04da4ebba20b90507be0766a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=o5eNiBmUUvWvn4XPl0YF4ImVVoA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">2.3 å¼‚æ­¥äº‹ä»¶è§¦å‘</h4>
<p>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæœ‰éƒ¨åˆ†ä¸šåŠ¡è¯‰æ±‚æ˜¯åŸºäºä¸šåŠ¡è‡ªèº«äº‹ä»¶è§¦å‘æ—¶ï¼Œå¼€å§‹ AI Workflow çš„æ¨ç†ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‘˜å·¥é€šè¿‡ä¼ä¸šåŠå…¬è½¯ä»¶ï¼ˆé£ä¹¦ï¼‰åœ¨ç¾¤ç»„ä¸­å‘é€äº†æ¶ˆæ¯ï¼Œéœ€è¦ç›‘å¬æ¶ˆæ¯æ¨é€äº‹ä»¶ï¼Œè¿è¡Œ AI Chat å·¥ä½œæµï¼›æˆ–æ˜¯ç ”å‘æäº¤äº†ä¸€ä¸ª Gitlab Merge Requestï¼Œè§¦å‘äº† Gitlab MR Webhookï¼Œè¿è¡Œ AI ä»£ç å®¡æŸ¥å·¥ä½œæµï¼›ç”šè‡³æ˜¯æ¨é€äº†ä¸€æ¡ Kafka Messageï¼Œå½“ Consumer åˆ° Message æ—¶ï¼Œè¿è¡Œ AI å·¥ä½œæµã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ca19f8602f846fa9464a903c895b447~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=lx7DCbbOm7%2BP3%2BpZ4TohqSCM0KY%3D" alt="image.png" loading="lazy"/></p>
<p>æ‚Ÿç©ºå·²æ”¯æŒ/æ­£åœ¨æ”¯æŒçš„äº‹ä»¶ç±»å‹ï¼š</p>
<ul>
<li>
<p>æ¶ˆæ¯è§¦å‘ï¼šé€šè¿‡é€šç”¨çš„åŠå…¬è½¯ä»¶å’Œå…¶ä»–ç»ˆç«¯äº¤äº’è½¯ä»¶ï¼Œå®ç°å•èŠ/ç¾¤ç»„æ¶ˆæ¯è§¦å‘ AI å·¥ä½œæµ</p>
</li>
<li>
<p>Kafka äº‹ä»¶è§¦å‘ï¼šKafka å…³è”ä¸‹æ¸¸ AI å·¥ä½œæµï¼Œé€šè¿‡æ¨é€äº‹ä»¶åˆ° Kafkaï¼ŒAI å·¥ä½œæµå®æ—¶æ¶ˆè´¹æ—¶é—´ï¼Œå¹¶åŸºäºäº‹ä»¶å†…å®¹ä½œä¸ºè¾“å…¥è¿è¡Œ</p>
</li>
<li>
<p>Webhook è§¦å‘ï¼šæä¾›è‡ªå®šä¹‰çš„ Webhook åœ°å€ï¼Œæ¥æ”¶å¤–éƒ¨ç³»ç»Ÿçš„ HTTP è¯·æ±‚åè¿è¡Œå·¥ä½œæµï¼Œæ”¯æŒä¸å¤–éƒ¨ç³»ç»Ÿçš„æ— ç¼é›†æˆ</p>
</li>
<li>
<p>å®šæ—¶è§¦å‘ï¼šæŒ‰å›ºå®šæ—¶é—´é—´éš”ï¼ˆæ¯å°æ—¶ã€æ¯å¤©ï¼‰æˆ– Cron è§„åˆ™è¿è¡Œ AI å·¥ä½œæµï¼Œæ¯”è¾ƒé€‚åˆå‘¨æœŸæ€§ä»»åŠ¡</p>
</li>
<li>
<p>APIï¼šé€šè¿‡åŒæ­¥ï¼ˆæµå¼/éæµå¼ï¼‰å’Œå¼‚æ­¥æäº¤ APIï¼Œæ‰‹åŠ¨è§¦å‘å·¥ä½œæµè¿è¡Œ</p>
</li>
</ul>
<h4 data-id="heading-11">2.4 æ„å»ºå…¨æ–¹ä½çš„å®‰å…¨æ‹¦æˆª</h4>
<p>ä¼ä¸š AI ä½¿ç”¨ï¼Œå®‰å…¨æ˜¯ä¸€åˆ‡çš„åŸºçŸ³ã€‚ä¼ä¸š AI ä½¿ç”¨ä¸­æ¶‰åŠæ³•åŠ¡çº¦æŸã€ç®—æ³•å¤‡æ¡ˆã€æ•°æ®åˆè§„ã€æ¶‰æ•æ¶‰æ”¿ã€æ–‡æœ¬æ£€æµ‹ã€å¤šæ¨¡æ€è¯†åˆ«ã€å®¡è®¡ç•™å­˜ç­‰ç¯èŠ‚ï¼Œéƒ½éœ€è¦åšå¥½å®‰å…¨é…å¥—æŠŠå…³å’Œæ‹¦æˆªèƒ½åŠ›ã€‚å…¶ä¸­ AI è¿è¡Œæ—¶åŠ¨æ€çš„çŸ¥è¯†ã€å›¾ç‰‡ã€ç¦»çº¿æ–‡ä»¶ã€ä»£ç ã€ç¯å¢ƒã€ä¾èµ–ã€æ—¥å¿—ç­‰å¤„ç†ç¯èŠ‚å’Œæ•°æ®ï¼Œå°½é‡ä¸å‡ºå†…ç½‘ï¼ŒæŒ‰éœ€éš”ç¦»ã€‚éœ€è¦å‡ºå†…ç½‘ï¼Œåšå¥½æ£€æµ‹å’Œæ‹¦æˆªæœºåˆ¶ã€‚</p>
<ul>
<li>å®‰å…¨ç¯èŠ‚æ€»è§ˆï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44a678e8e44b4bc783b186e0d0c1e877~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=ZJN3P1xNrAH1K4QOj%2FIsWCbdfUc%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>æ•°æ®å®‰å…¨èƒ½åŠ›å»ºè®¾ï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/757a9a0836614d9b9d2b2bf140fb17d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=5TsteIlPRy1x5Ifi5As4UaDOkpo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">3. æ¨åŠ¨ä¼ä¸š MCP</h3>
<blockquote>
<p>"All problems in computer science can be solved by another level of indirection" -- Butler Lampson åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæŠ½è±¡å±‚è§£å†³ã€‚</p>
</blockquote>
<p>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ˜¯ä¸€é¡¹å¼€æ”¾æ ‡å‡†åè®®ï¼Œæ—¨åœ¨æ­å»ºå¤§æ¨¡å‹å’Œå¤–éƒ¨å·¥å…·ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’é€šé“ã€‚é€šè¿‡ MCP åè®®ï¼Œå¼€å‘è€…ä¸ç”¨ä¸ºæ¯ä¸ªå¤–éƒ¨å·¥å…·ç¼–å†™å¤æ‚çš„æ¥å£ï¼Œå³å¯æ¥å…¥æµ·é‡ç¬¬ä¸‰æ–¹å·¥å…·ã€‚MCP æŠ€æœ¯ç»†èŠ‚ç›¸ä¿¡å„ä½è¯»è€…éƒ½å¾ˆç†Ÿæ‚‰ï¼Œåœ¨æ­¤ä¸åšèµ˜è¿°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf8b675b94b24d5d8b9c62601e8fbf85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=A48serqTdjqSEPRfYRuJG%2BQ0p8c%3D" alt="" loading="lazy"/></p>
<p>é’ˆå¯¹è´§æ‹‰æ‹‰å†…å„éƒ¨é—¨å’Œä¸šåŠ¡çš„åè®®ã€æ¥å£ã€èƒ½åŠ›å·®å¼‚å¤§ã€AI æ’ä»¶æ¥å…¥æˆæœ¬è¾ƒé«˜çš„é—®é¢˜ï¼ŒMCP é€šè¿‡ç»Ÿä¸€ã€æ ‡å‡†ã€æ˜“é›†æˆç­‰ä¼˜ç‚¹ï¼Œæˆä¸ºäº†æ‚Ÿç©º AI Agent ä½¿ç”¨ Tools çš„é¦–é€‰ã€‚</p>
<h4 data-id="heading-13">3.1 MCP äº¤äº’å®ç°</h4>
<p>è¿™é‡Œæˆ‘ä»¬åŸºäºæ‚Ÿç©º Supervisor æ¨¡å¼çš„ Multi Agent ä½¿ç”¨åœºæ™¯ï¼Œæ¢å¯»è´§æ‹‰æ‹‰ AI Agent + MCP çš„äº¤äº’æ–¹å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fe903b4a274485ea2cc188c3a8917d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=A6BNDSjmTW%2BhQ7EaGCXC5jBrSM0%3D" alt="image.png" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œåœ¨ AI Workflow ä¸­ï¼Œå¤§æ¨¡å‹ä¹Ÿå¯å…³è” MCP ä½¿ç”¨ï¼Œå°†å•ä¸€çš„æ¨¡å‹å‡çº§ä¸ºåŸºäº ReAct æ¨¡å¼çš„ Agentï¼Œå†ç»“åˆå·¥ä½œæµæ¨¡å¼ï¼Œä¹Ÿèƒ½è¾¾åˆ° Multi Agent çš„å¦ç±»å®ç°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b397649ed51a490ab25b1ecf4dc06e5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=aWBCdwcQzj0uNDU7M%2BwUpvav0bw%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-14">3.2 MCP å¸‚åœº</h4>
<p>åŸºäº MCP èƒ½åŠ›ï¼Œå¯ä»¥å°†ä¸šåŠ¡é€»è¾‘äº¤è¿˜ç»™ä¸šåŠ¡ï¼Œä¸šåŠ¡è´Ÿè´£è‡ªèº«é¢†åŸŸ MCP çš„å¼€å‘ï¼Œå¹³å°æä¾› MCP çš„æ³¨å†Œï¼Œå¹¶åœ¨ Agent å’Œ Workflow ä¸­ä½¿ç”¨ä¸šåŠ¡æ³¨å†Œçš„ MCP List å³å¯ã€‚æ­¤å¤–åŸºäº Serverless æŠ€æœ¯ï¼Œå¹³å°ä¹Ÿåœ¨æ”¯æŒå°† MCP Package æ‰“åŒ…æˆ Saasï¼Œæ‰˜ç®¡åœ¨å¹³å°ä¸­ã€‚è¿™æ ·å°†è´§æ‹‰æ‹‰å†…éƒ¨çš„ä¸šåŠ¡æœåŠ¡å’Œå¯ç”¨çš„å¼€æº package æ•´åˆï¼Œå½¢æˆäº†è´§æ‹‰æ‹‰å†…éƒ¨çš„ä¼ä¸šçº§ MCP å¸‚åœºï¼Œæ¨åŠ¨éƒ¨é—¨å›¢é˜Ÿé—´çš„èƒ½åŠ›å¤ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/564a2333928e497fbcd04599255cc839~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=8QzN7jFjpaIjvjp0IXYhb%2FImQLA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">4. å¯è§†åŒ–çš„ AI è°ƒè¯•å·¥å…·</h3>
<p>åœ¨å‰æ–‡ä¸­æˆ‘ä»¬ç®€å•ä»‹ç»äº†åº”å¯¹ AI åº”ç”¨è¿è¡Œçš„å¯è§‚æµ‹æ€§ï¼Œä½†æ¯”è¾ƒç®€é™‹åŸºç¡€ï¼Œè€Œä¸ºäº†åº”å¯¹æ—¥è¶‹å¤æ‚çš„ AI ä¸šåŠ¡ï¼Œæˆ‘ä»¬å¯¹åŸæœ‰çš„è§‚æµ‹å·¥å…·åšäº†åŠŸèƒ½å‡çº§ï¼Œå½¢æˆä¸€ä¸ªä¸“æ³¨äº AI åº”ç”¨å¼€å‘å’Œè¿ç»´çš„å¹³å°çº§å·¥å…·ï¼Œç”¨äºè§£å†³ AI åº”ç”¨å¼€å‘å’Œä½¿ç”¨è¿‡ç¨‹ä¸­é¢ä¸´çš„å„ç§æŒ‘æˆ˜ï¼Œæä¾›ä»å¼€å‘ã€è°ƒè¯•ã€è§‚æµ‹ã€è¿½è¸ªçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd13d8576d4a41e3b769e9afb48b2e4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=3HGnDdZyiTpRE%2Fy3bbx6KiMwJus%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-16">4.1 è¯„æµ‹</h4>
<p>æ‚Ÿç©ºæç¤ºè¯è¯„æµ‹åŸºäºç»“æ„åŒ–è¯„ä¼°æ¡†æ¶ï¼Œå¯¹è¯„ä¼°å¯¹è±¡è¿›è¡Œå…¨é¢è´¨é‡ç›‘æ§å’Œä¼˜åŒ–ï¼Œæ ¸å¿ƒåœ¨äºå»ºç«‹å¤šç§è¯„ä¼°ç­–ç•¥ï¼ˆå¦‚ LLM è¯„å§”ã€äººå·¥è¯„å§”ï¼‰ä»¥åŠå¤šç»´åº¦æŒ‡æ ‡ï¼ŒåŒ…æ‹¬è´¨é‡ã€æ€§èƒ½ã€æˆæœ¬ï¼Œç¡®ä¿è¯„ä¼°å¯¹è±¡åœ¨å„æ–¹é¢éƒ½èƒ½è¾¾é¢„æœŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1866d5c438074a53ac8ff2200a4b5114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=2obDXXgYutblk6nahv5Z9elO7bU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-17">4.2 è§‚æµ‹</h4>
<p>åœ¨ AI åº”ç”¨çš„å¼€å‘ä¸ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚è°ƒç”¨é“¾é”™ç»¼å¤æ‚ï¼Œæ‚Ÿç©ºçš„è§‚æµ‹åŠŸèƒ½å¯ä»¥è¿½è¸ªå¹¶è®°å½•ç¯èŠ‚ä¹‹é—´çš„è°ƒç”¨é¡ºåºï¼Œå¸®åŠ©ä¸šåŠ¡åˆ†ææ¨ç†è¡Œä¸ºã€å®šä½é—®é¢˜æˆ–ä¼˜åŒ–æ€§èƒ½ï¼Œå®ç°ä» â€œé»‘ç›’æ¨¡å‹â€ åˆ° â€œé€æ˜å†³ç­–â€ çš„è·¨è¶Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6274cc9613d4561b619d372f7c9d99d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=zU%2BdHPJG5i0Qs6ALZ5%2B8GP3wZLg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">4.3 è¿½è¸ª</h4>
<p>ä¸€æ¬¡ AI æ¨ç†è°ƒç”¨çš„ Context æ—¥å¿—é•¿åº¦å¾ˆå¯èƒ½å¤§äº 1MBï¼Œæ¶‰åŠå¤æ‚ä¸šåŠ¡æˆ–å¤šæ¨¡æ€ AIï¼ŒAI çš„ä¸Šä¸‹æ–‡é•¿åº¦æ›´æ˜¯æš´æ¶¨ï¼Œæ—¥å¢é‡å­˜å‚¨æ¥è¿‘ 1TBï¼Œä¼ ç»Ÿ Kafka+Flink æµå¼å¤„ç†ï¼Œä»¥åŠåŸºäº CK or ES çš„å®æ—¶æœç´¢å¼•æ“å·²ç»ä¸æ»¡è¶³è¿½è¸ªä½¿ç”¨ç°çŠ¶äº†ã€‚å› æ­¤åŸºäº Apache Amoro æ¹–ä»“æŠ€æœ¯ï¼Œå®ç°äº†æ—¥å¿—çš„æµå†™æ‰¹è¯»ï¼Œä»¥åŠåç»­æˆæœ¬è®¡ç®—ã€ä¸šåŠ¡ç»Ÿè®¡ç­‰ ETL è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/963944d090fb4a8e955b97d864e64945~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=93Vn1B5f%2FR%2FyCRMR14YoHrBFs%2Fk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-19">5. æ‰“é€ ä¸€ä½“åŒ–çš„ AI Sandbox</h3>
<p>AI åº”ç”¨æ¨ç†è¿‡ç¨‹ä¸­å¯èƒ½æ¶‰åŠä»£ç æ‰§è¡Œã€API è°ƒç”¨ã€MCP ä½¿ç”¨ã€æ–‡ä»¶è¯»å†™ç­‰æ­¥éª¤ï¼Œè€Œä¹‹å‰çš„æ‚Ÿç©º AI åº”ç”¨å¯¹åº” Application Json Schema é…ç½®ï¼Œæœ¬è´¨ä¸Šè¿è¡Œçš„æ˜¯åŒä¸€å¥—æœåŠ¡ä»£ç ï¼Œè¿™å°±å¯¼è‡´è¿™äº›æ­¥éª¤è¢«æœåŠ¡ç¯å¢ƒã€è¿è¡Œä¾èµ–ã€è¯­è¨€ç‰ˆæœ¬ç­‰å·®å¼‚æ€§é™åˆ¶ã€‚å…·ä½“ç—›ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¯å¢ƒéš”ç¦»ï¼šå•æœåŠ¡æˆ–å•åŠŸèƒ½æ²™ç›’ï¼ˆå¦‚ E2Bã€Browserbase ç­‰ï¼‰éœ€è¦ AI åº”ç”¨è·¨æ²™ç›’é€šä¿¡ï¼Œå¢åŠ å»¶è¿Ÿå’Œå¤æ‚åº¦</li>
<li>å®šåˆ¶å›°éš¾ï¼šä¸åŒ AI åº”ç”¨éœ€è¦é¢„è£…ä¸åŒçš„æŠ€æœ¯æ ˆï¼Œä¼ ç»ŸæœåŠ¡æä¾›ç»Ÿä¸€çš„é¢„ç½®é•œåƒï¼Œæ— æ³•æ»¡è¶³ä¸ªæ€§åŒ–è¯‰æ±‚</li>
<li>æ— æ³•éš”ç¦»ï¼šæ—¢è¦è®© AI åº”ç”¨æ‹¿åˆ°çœŸå®æœåŠ¡èƒ½åŠ›ï¼ˆAPIã€MCPã€DBï¼‰ï¼Œåˆè¦å¼ºéš”ç¦»é¿å…è¶Šæƒå’Œæ•°æ®å¤–æ³„</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78d0e1df9a55458aa59f5d1358ba3956~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=4KN0Ly20%2FHK4TSH3QMCSSY6klj8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‚Ÿç©ºåŸºäºå‡½æ•°è®¡ç®—å’Œ Serverless æ‰“é€ äº†ä¸€å¥—é¢å‘ AI åº”ç”¨è¿è¡Œæ€çš„è™šæ‹Ÿ Sandbox æ¥å£ï¼ŒæŒ‰ç…§åº”ç”¨å’Œå·¥å…·ç²’åº¦ï¼Œå®ç° AI è¿è¡Œæ—¶çš„ä¸»è¦èµ„æºéš”ç¦»å’Œå®‰å…¨éš”ç¦»ï¼Œæå‡äº† AI åº”ç”¨ä»»åŠ¡æ‰§è¡Œçš„æ•ˆç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b859b49902b418a9ec73b5ebbec0e7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=%2FnHObp%2FK2h0wdmVmsmAgiH1D4VY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-20">è´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘èµ‹èƒ½ä¸šåŠ¡</h2>
<h3 data-id="heading-21">1. æ™ºèƒ½é—®æ•°</h3>
<p>é€šè¿‡ SQL æŸ¥æ•°æ®çš„éœ€æ±‚éå¸¸å¹¿æ³›ï¼Œæ— è®ºæ˜¯ç ”å‘å®šä½ï¼Œè¿è¥åˆ†æï¼Œè¿˜æ˜¯ç®¡ç†è€…æŸ¥æŒ‡æ ‡ï¼Œåº•å±‚éƒ½æ˜¯é€šè¿‡å®æ—¶æˆ–å‡†å®æ—¶æ•°ä»“è·å–çš„ï¼ŒåŸºäºæ‚Ÿç©ºå®ç°äº†æ™ºèƒ½é—®æ•°åœºæ™¯çš„è½åœ°ï¼Œæ”¯æŒæŒ‡æ ‡æŸ¥è¯¢ã€å£å¾„æŸ¥è¯¢ã€åŒæ¯”ç¯æ¯”ã€å¯¹æ¯”åˆ†æã€è¶‹åŠ¿åˆ†æã€‚è¦†ç›–è´§æ‹‰æ‹‰ 5 æ¡ä¸šåŠ¡äº§çº¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e0c0583c00044468ca37639548f886f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=lu2knDZcCNasH%2Bm96TWZCoVQmtM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-22">2. æ•°æ®å·¥å‚</h3>
<p>é’ˆå¯¹è´§æ‹‰æ‹‰æ•°æ®å¹³å°ä¸Š 3k+å·¥å…·ï¼Œæ‰“é€ ä¸€ä¸ªèƒ½ç†è§£è‡ªç„¶è¯­è¨€ã€è‡ªä¸»è°ƒåº¦å·¥å…·çš„æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ ï¼Œå®ç°ç²¾å‡†æ‡‚éœ€æ±‚ã€æ™ºèƒ½é…å·¥å…·ã€è‡ªåŠ¨è·‘æµç¨‹ï¼Œå½»åº•æ”¹å˜ç”¨æˆ·ä¸æ•°æ®å·¥å‚çš„äº¤äº’æ–¹å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d9197a1b9cb43d5886b5b7e8e994f0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=yQ0FCPPK2iJFMBl459AVSrmCjlQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1d83baa7154924a389e3766d46e470~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LSn5ouJ5ouJ5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138994&amp;x-signature=sOLnliuNaiibpqEQZmGSd1Lh6rQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-23">æ€»ç»“ä¸å±•æœ›</h2>
<p>è¿‘åŠå¹´ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¹‹å‰åˆ¶å®šçš„ä¸‰ä¸ªç›®æ ‡å·¥ä½œï¼š1. AI ä¸šåŠ¡æŒ–æ˜ä¸èµ‹èƒ½ã€2. Workflow æ‰©å±•ã€3. å¤§æ¨¡å‹å¹¿åœºä¸°å¯Œã€‚è€Œéšç€è´§æ‹‰æ‹‰è½åœ°çš„ AI åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œä»¥åŠè´§æ‹‰æ‹‰å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°æ­å»ºä¸äº¤ä»˜è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éå¸¸è®¤åŒçš„æ˜¯ï¼Œ<strong>AI åº”ç”¨åœ¨ä¼ä¸šè½åœ° 90% çš„å·¥ä½œéƒ½æ˜¯å·¥ç¨‹æ¶æ„è®¾è®¡ï¼ˆè½¯ä»¶å·¥ç¨‹ï¼‰ï¼Œåªæœ‰ 10% æ˜¯çœŸæ­£çš„å¤§æ¨¡å‹ã€‚</strong> åœ¨è¿™ 90%çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰éå¸¸å¤šå¯æ¢ç´¢çš„æ–¹å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Quill 2.x ä» 0 åˆ° 1 å®æˆ˜ - ä¸º AI+Quill æ·±åº¦ç»“åˆé“ºè·¯]]></title>    <link>https://juejin.cn/post/7574204970775117851</link>    <guid>https://juejin.cn/post/7574204970775117851</guid>    <pubDate>2025-11-19T06:22:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970775117851" data-draft-id="7490757296508059700" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Quill 2.x ä» 0 åˆ° 1 å®æˆ˜ - ä¸º AI+Quill æ·±åº¦ç»“åˆé“ºè·¯"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-19T06:22:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="humor"/> <meta itemprop="url" content="https://juejin.cn/user/3227821867810664"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Quill 2.x ä» 0 åˆ° 1 å®æˆ˜ - ä¸º AI+Quill æ·±åº¦ç»“åˆé“ºè·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821867810664/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    humor
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:22:58.000Z" title="Wed Nov 19 2025 06:22:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="atelier-lakeside-light">.hljs-comment,.hljs-quote{color:#5a7b8c}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d22d72}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#935c25}.hljs-bullet,.hljs-string,.hljs-symbol{color:#568c3b}.hljs-section,.hljs-title{color:#257fad}.hljs-keyword,.hljs-selector-tag{color:#6b6bb8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#ebf8ff;color:#516d7b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨AIGCæµªæ½®å¸­å·å„è¡Œå„ä¸šçš„ä»Šå¤©ï¼Œä¸ºåº”ç”¨æ³¨å…¥AIèƒ½åŠ›å·²ä»â€œé”¦ä¸Šæ·»èŠ±â€å˜ä¸ºâ€œæ ¸å¿ƒç«äº‰åŠ›â€ã€‚æ‰“é€ ä¸€ä¸ªæ™ºèƒ½å†™ä½œåŠ©æ‰‹ï¼Œæ·±åº¦èåˆAIä¸å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ— ç–‘æ˜¯æŠ¢å ä¸‹ä¸€ä»£å†…å®¹åˆ›ä½œé«˜åœ°çš„å…³é”®ä¸€æ­¥ã€‚</p>
<p>è€Œä¸€åˆ‡æ™ºèƒ½ç¼–è¾‘çš„åŸºçŸ³ï¼Œåœ¨äºä¸€ä¸ªç¨³å®šã€å¼ºå¤§ä¸”é«˜åº¦å¯å®šåˆ¶çš„åŸºç¡€ç¼–è¾‘å™¨ã€‚æœ¬æ–‡å°†æ·±åº¦è§£æ â€Œ<code>Quill 2.x</code>â€”â€”è¿™ä¸ªåœ¨ç°ä»£Webå¼€å‘ä¸­å¤‡å—é’ççš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è§£å†³æ–¹æ¡ˆã€‚å¿«æ¥å¼€å§‹Quill2.xçš„æ•™ç¨‹å§ï¼</p>
<p>æœ¬æ–‡å°†ä»æ¦‚å¿µè§£æåˆ°å®æˆ˜è½åœ°ï¼Œè¡¥å……æ ¸å¿ƒåŸç†ã€æ±‰åŒ–æ–¹æ¡ˆå’Œé¿å‘æŒ‡å—ï¼Œå¸®ä½ çœŸæ­£åƒé€ Quill 2.xï¼Œçœ‹å®Œå°±èƒ½ç›´æ¥åº”ç”¨åˆ°é¡¹ç›®ä¸­ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Quill æ ¸å¿ƒæ¦‚å¿µï¼šå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆææ‡‚ Quill çš„æ ¸å¿ƒå®šä½ï¼Œé¿å…ç”¨é”™åœºæ™¯ï¼š</p>
<p>Quill æ˜¯ä¸€æ¬¾ã€ŒAPI é©±åŠ¨çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€ï¼Œæ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ã€Œè®©å¼€å‘è€…èƒ½ç²¾å‡†æ§åˆ¶ç¼–è¾‘è¡Œä¸ºã€ã€‚å®ƒä¸åŒäºä¼ ç»Ÿç¼–è¾‘å™¨ï¼ˆå¦‚ TinyMCEã€CKEditorï¼‰çš„ã€Œé…ç½®å¼é»‘ç›’ã€ï¼Œè€Œæ˜¯é€šè¿‡æš´éœ²æ¸…æ™°çš„ API å’Œå†…éƒ¨çŠ¶æ€ï¼Œè®©å¼€å‘è€…åƒæ“ä½œ DOM ä¸€æ ·æ“ä½œç¼–è¾‘å™¨å†…å®¹ã€‚</p>
<p>å‡ ä¸ªå…³é”®æ¦‚å¿µéœ€è¦æ˜ç¡®ï¼š</p>
<ul>
<li><strong>å®¹å™¨ï¼ˆContainerï¼‰</strong> ï¼šç”¨äºæ‰¿è½½ç¼–è¾‘å™¨çš„DOMå…ƒç´ ï¼ŒQuillä¼šæ¥ç®¡è¯¥å…ƒç´ å¹¶æ¸²æŸ“ç¼–è¾‘åŒºåŸŸ</li>
<li><strong>æ¨¡å—ï¼ˆModulesï¼‰</strong> ï¼šç¼–è¾‘å™¨çš„åŠŸèƒ½å•å…ƒï¼ˆå¦‚å·¥å…·æ ã€ä»£ç å—ï¼‰,2.x ä¸­æ¨¡å—éœ€æ˜¾å¼æ³¨å†Œã€‚</li>
<li><strong>ä¸»é¢˜ï¼ˆThemesï¼‰</strong> ï¼šç¼–è¾‘å™¨å¤–è§‚ï¼Œå®˜æ–¹æä¾›Â <code>snow</code>ï¼ˆå¸¦å›ºå®šå·¥å…·æ ï¼‰å’ŒÂ <code>bubble</code>ï¼ˆæ‚¬æµ®å·¥å…·æ ï¼‰ä¸¤ç§ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ·å¼ã€‚</li>
<li><strong>Delta</strong>ï¼šQuill ç‹¬åˆ›çš„å†…å®¹æè¿°æ ¼å¼ï¼ˆç±»ä¼¼ JSONï¼‰ï¼Œç”¨äºè¡¨ç¤ºå†…å®¹æœ¬èº«å’Œå†…å®¹å˜åŒ–ï¼Œæ˜¯å®ç°ååŒç¼–è¾‘ã€ç‰ˆæœ¬æ§åˆ¶çš„æ ¸å¿ƒã€‚</li>
<li><strong>æ ¼å¼ï¼ˆFormatsï¼‰</strong> ï¼šæè¿°å†…å®¹çš„æ ·å¼å±æ€§ï¼ˆå¦‚åŠ ç²—ã€é¢œè‰²ã€é“¾æ¥ï¼‰ï¼Œå¯é€šè¿‡ API æˆ–å·¥å…·æ è§¦å‘ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•ã€‚</li>
</ul>
<h2 data-id="heading-2">äºŒã€åŸç†è§£æï¼šQuill æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p>ç†è§£åº•å±‚åŸç†ï¼Œèƒ½å¸®ä½ æ›´çµæ´»åœ°è§£å†³é—®é¢˜ã€‚Quill çš„æ ¸å¿ƒå·¥ä½œæµç¨‹å¯åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<h3 data-id="heading-3">1. å†…å®¹è¡¨ç¤ºï¼šDelta æ ¼å¼</h3>
<p>ä¼ ç»Ÿç¼–è¾‘å™¨ç”¨ HTML å­—ç¬¦ä¸²æè¿°å†…å®¹ï¼Œä½† HTML å­˜åœ¨ã€ŒåŒå†…å®¹å¤šè¡¨ç¤ºã€ï¼ˆå¦‚Â <code>&lt;b&gt;</code>Â å’ŒÂ <code>&lt;strong&gt;</code>Â éƒ½è¡¨ç¤ºåŠ ç²—ï¼‰ã€ã€Œéš¾ä»¥ diff å¯¹æ¯”ã€ç­‰é—®é¢˜ã€‚è€Œ Delta ç”¨æç®€çš„ç»“æ„è§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p>
<p>Delta æœ¬è´¨æ˜¯ä¸€ä¸ªåŒ…å«Â <code>ops</code>Â æ•°ç»„çš„å¯¹è±¡ï¼Œæ¯ä¸ªÂ <code>op</code>Â ç”±Â <code>insert</code>ï¼ˆå†…å®¹ï¼‰å’ŒÂ <code>attributes</code>ï¼ˆæ ·å¼ï¼‰ç»„æˆã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">// è¡¨ç¤ºã€ŒHello åŠ ç²—æ–‡æœ¬ã€çš„ Delta
{
  ops: [
    { insert: <span class="hljs-string">'è¿™æ˜¯ä¸€æ®µ '</span> },
    { insert: <span class="hljs-string">'åŠ ç²—æ–‡æœ¬'</span>, attributes: { bold: true } }
  ]
}
</code></pre>
<blockquote>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f282864577c430fa028b0fcea1706d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHVtb3I=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138549&amp;x-signature=c3o5trEIYgiemVsi4y%2BCHTMLUIA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ä¼˜åŠ¿ 1ï¼šå”¯ä¸€æ€§ â€”â€” åŒä¸€å†…å®¹åªæœ‰ä¸€ç§ Delta è¡¨ç¤ºï¼Œé¿å…æ­§ä¹‰ã€‚</li>
<li>ä¼˜åŠ¿ 2ï¼šå¯åˆå¹¶ â€”â€” ä¸¤ä¸ª Delta å¯é€šè¿‡ç®—æ³•åˆå¹¶ï¼ˆå¦‚ç”¨æˆ· A å’Œç”¨æˆ· B åŒæ—¶ç¼–è¾‘çš„å†…å®¹ï¼‰ï¼Œæ˜¯ååŒç¼–è¾‘çš„åŸºç¡€ã€‚</li>
<li>ä¼˜åŠ¿ 3ï¼šè½»é‡æ€§ â€”â€” æ¯” HTML æ›´ç®€æ´ï¼Œä¼ è¾“å’Œå­˜å‚¨æˆæœ¬æ›´ä½ã€‚</li>
</ul>
<h3 data-id="heading-4">2. æ¸²æŸ“æœºåˆ¶ï¼š2.x ç‰ˆæœ¬çš„æ€§èƒ½é£è·ƒ</h3>
<p>Quill 1.x ç›´æ¥æ“ä½œ DOM æ¸²æŸ“å†…å®¹ï¼Œå½“å†…å®¹é‡å¤§æ—¶å®¹æ˜“å¡é¡¿ã€‚2.x é‡æ„äº†æ¸²æŸ“é€»è¾‘ï¼Œé‡‡ç”¨ã€Œè™šæ‹Ÿ DOM æ€æƒ³ã€ä¼˜åŒ–ï¼š</p>
<ul>
<li>å†…éƒ¨ç»´æŠ¤ä¸€ä»½ã€Œæ–‡æ¡£æ¨¡å‹ï¼ˆDocument Modelï¼‰ã€ï¼Œä½œä¸ºå†…å®¹çš„å•ä¸€æ•°æ®æºã€‚</li>
<li>å½“å†…å®¹å˜åŒ–ï¼Œå…ˆæ›´æ–°æ–‡æ¡£æ¨¡å‹ï¼Œå†é€šè¿‡ã€Œå·®å¼‚è®¡ç®—ã€åªæ›´æ–°éœ€è¦å˜åŒ–çš„ DOM èŠ‚ç‚¹ã€‚</li>
<li>å‡å°‘ 30% ä»¥ä¸Šçš„ DOM æ“ä½œï¼Œå¤§å¹…æå‡å¤§æ•°æ®é‡åœºæ™¯ï¼ˆå¦‚ä¸‡å­—é•¿æ–‡ï¼‰çš„æµç•…åº¦ã€‚</li>
</ul>
<h3 data-id="heading-5">3. æ¨¡å—æ¶æ„ï¼šåŠŸèƒ½çš„è§£è€¦ä¸æ‰©å±•</h3>
<p>Quill çš„æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡ã€Œæ¨¡å—ã€å®ç°ï¼Œæ ¸å¿ƒæ¨¡å—åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>toolbar</code>ï¼šå·¥å…·æ ï¼Œæ§åˆ¶æ ¼å¼æŒ‰é’®çš„æ˜¾ç¤ºå’Œäº¤äº’ã€‚</li>
<li><code>history</code>ï¼šè®°å½•æ“ä½œå†å²ï¼Œæ”¯æŒæ’¤é”€ / é‡åšã€‚</li>
<li><code>table</code>ï¼š2.x åŸç”Ÿæ”¯æŒçš„è¡¨æ ¼æ¨¡å—ï¼ˆ1.x éœ€ç¬¬ä¸‰æ–¹æ‰©å±•ï¼‰ã€‚</li>
<li><code>clipboard</code>ï¼šå¤„ç†å¤åˆ¶ç²˜è´´ï¼Œè‡ªåŠ¨è¿‡æ»¤å±é™©å†…å®¹ã€‚</li>
</ul>
<p>æ¨¡å—ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå¼€å‘è€…å¯æŒ‰éœ€æ³¨å†Œï¼Œä¹Ÿèƒ½é€šè¿‡Â <code>Quill.register()</code>Â è‡ªå®šä¹‰æ¨¡å—ï¼Œå®ç°åŠŸèƒ½çš„çµæ´»æ‰©å±•ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€å¿«é€Ÿå…¥é—¨ï¼š5 åˆ†é’Ÿæ­å»ºåŸºç¡€ç¼–è¾‘å™¨</h2>
<p><code>å®‰è£…ä¾èµ– -&gt; åŸºç¡€åˆå§‹åŒ– -&gt; æ ¸å¿ƒAPI -&gt; é¢„å‘Š</code></p>
<h3 data-id="heading-7">1. å®‰è£…ä¾èµ–</h3>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-sql" lang="sql"># æ ¸å¿ƒåŒ…ï¼ˆ<span class="hljs-number">2.</span>x ç‰ˆæœ¬ï¼‰
pnpm <span class="hljs-keyword">add</span> quill<span class="hljs-variable">@2</span>.x

# è¡¨æ ¼æ¨¡å—ï¼ˆ<span class="hljs-number">2.</span>x éœ€å•ç‹¬å®‰è£…ï¼ŒåŸç”Ÿæ”¯æŒï¼‰
pnpm <span class="hljs-keyword">add</span> <span class="hljs-variable">@quilljs</span><span class="hljs-operator">/</span><span class="hljs-keyword">table</span>
</code></pre>
<h3 data-id="heading-8">2. åŸºç¡€åˆå§‹åŒ–</h3>
<p><strong>Step 1ï¼šHTML å®¹å™¨</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"editor"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 300px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>Step 2ï¼šå¼•å…¥å¹¶æ³¨å†Œæ¨¡å—</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Quill</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'quill'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'quill/dist/quill.snow.css'</span>; <span class="hljs-comment">// å¼•å…¥ snow ä¸»é¢˜æ ·å¼</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TableModule</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@quilljs/table'</span>; <span class="hljs-comment">// è¡¨æ ¼æ¨¡å—</span>

<span class="hljs-comment">// æ˜¾å¼æ³¨å†Œæ¨¡å— </span>
<span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'modules/table'</span>, <span class="hljs-title class_">TableModule</span>);
</code></pre>
<p><strong>Step 3ï¼šåˆå§‹åŒ–é…ç½® - æ–¹æ¡ˆä¸€</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> quill = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Quill</span>(<span class="hljs-string">'#editor'</span>, {
  theme: <span class="hljs-string">'snow'</span>, <span class="hljs-comment">// é€‰æ‹©ä¸»é¢˜</span>
  modules: {
    toolbar: { 
        container: [
            <span class="hljs-comment">// æ¯ä¸ªæ•°ç»„æ˜¯ä¸€ä¸ªåˆ†ç»„ï¼Œé‡Œè¾¹æ¯ä¸ªé¡¹æ˜¯ä¸€ä¸ªå·¥å…·æ æœ€å°é…ç½®å•å…ƒ</span>
            [<span class="hljs-string">'bold'</span>, <span class="hljs-string">'italic'</span>, <span class="hljs-string">'underline'</span>, <span class="hljs-string">'strike'</span>], <span class="hljs-comment">// åŸºæœ¬æ ¼å¼</span>
            [<span class="hljs-string">'blockquote'</span>, <span class="hljs-string">'code-block'</span>], <span class="hljs-comment">// å—å¼•ç”¨å’Œä»£ç å— </span>
            [{ <span class="hljs-string">'header'</span>: <span class="hljs-number">1</span> }, { <span class="hljs-string">'header'</span>: <span class="hljs-number">2</span> }], <span class="hljs-comment">// æ ‡é¢˜çº§åˆ«</span>
            [{ <span class="hljs-string">'list'</span>: <span class="hljs-string">'ordered'</span>}, { <span class="hljs-string">'list'</span>: <span class="hljs-string">'bullet'</span> }], <span class="hljs-comment">// æœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨ </span>
            [{ <span class="hljs-string">'script'</span>: <span class="hljs-string">'sub'</span>}, { <span class="hljs-string">'script'</span>: <span class="hljs-string">'super'</span> }], <span class="hljs-comment">// ä¸Šæ ‡å’Œä¸‹æ ‡ </span>
            [{ <span class="hljs-string">'indent'</span>: <span class="hljs-string">'-1'</span>}, { <span class="hljs-string">'indent'</span>: <span class="hljs-string">'+1'</span> }], <span class="hljs-comment">// ç¼©è¿›</span>
            [{ <span class="hljs-string">'direction'</span>: <span class="hljs-string">'rtl'</span> }], <span class="hljs-comment">// æ–‡æœ¬æ–¹å‘</span>
            [{ <span class="hljs-string">'size'</span>: [<span class="hljs-string">'small'</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">'large'</span>, <span class="hljs-string">'huge'</span>] }], <span class="hljs-comment">// å­—ä½“å¤§å°</span>
            [{ <span class="hljs-string">'header'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-literal">false</span>] }], <span class="hljs-comment">// æ ‡é¢˜çº§åˆ«ï¼ˆå®Œæ•´ï¼‰ </span>
            [{ <span class="hljs-string">'color'</span>: [] }, { <span class="hljs-string">'background'</span>: [] }], <span class="hljs-comment">// é¢œè‰²é€‰æ‹© </span>
            [{ <span class="hljs-string">'font'</span>: [] }], <span class="hljs-comment">// å­—ä½“é€‰æ‹© </span>
            [{ <span class="hljs-string">'align'</span>: [] }], <span class="hljs-comment">// å¯¹é½æ–¹å¼</span>
            [<span class="hljs-string">'link'</span>, <span class="hljs-string">'image'</span>, <span class="hljs-string">'video'</span>], <span class="hljs-comment">// é“¾æ¥å’Œåª’ä½“ </span>
            [<span class="hljs-string">'clean'</span>] <span class="hljs-comment">// æ¸…é™¤æ ¼å¼ ], </span>
             <span class="hljs-comment">// æ–¹å¼2ï¼šä½¿ç”¨é€‰æ‹©å™¨é…ç½® // container: '#toolbar',</span>
             <span class="hljs-comment">// æ–¹å¼3ï¼šä½¿ç”¨è‡ªå®šä¹‰å·¥å…·æ HTML </span>
             <span class="hljs-comment">// container: document.getElementById('custom-toolbar') }</span>
  },
  placeholder: <span class="hljs-string">'è¯·è¾“å…¥å†…å®¹...'</span>
});
</code></pre>
<p><strong>Step 3ï¼šåˆå§‹åŒ–é…ç½® - æ–¹æ¡ˆ2</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> quill = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Quill</span>(<span class="hljs-string">'#editor'</span>, {
  theme: <span class="hljs-string">'snow'</span>, <span class="hljs-comment">// é€‰æ‹©ä¸»é¢˜</span>
  modules: {
    toolbar: { 
       <span class="hljs-comment">// ä½¿ç”¨é€‰æ‹©å™¨é…ç½®(æˆ–è€…document.getElementById('custom-toolbar'))</span>
        container: <span class="hljs-string">'#toolbar'</span>,
       }
  },
  placeholder: <span class="hljs-string">'è¯·è¾“å…¥å†…å®¹...'</span>
});
</code></pre>

<pre><code class="hljs language-xml" lang="xml">.custom-toolbar {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    align-items: center;
}
.custom-toolbar .ql-formats {
    margin-right: 15px;
    display: flex;
    align-items: center;
}
.custom-toolbar button {
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 5px 10px;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
}
.custom-toolbar button:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}
.custom-toolbar select {
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 5px;
    background: white;
}
        
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"custom-toolbar"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toolbar-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-toolbar"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å­—ä½“å’Œå¤§å° --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-formats"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-font"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-size"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ–‡æœ¬æ ¼å¼ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-formats"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-bold"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"ç²—ä½“"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-italic"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"æ–œä½“"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-underline"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"ä¸‹åˆ’çº¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-strike"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"åˆ é™¤çº¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- é¢œè‰² --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-formats"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-color"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"æ–‡å­—é¢œè‰²"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ql-background"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"èƒŒæ™¯é¢œè‰²"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

        ....
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">3. æ ¸å¿ƒ APIï¼šå†…å®¹æ“ä½œ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è·å– Delta å†…å®¹ï¼ˆæ¨èå­˜å‚¨ï¼‰</span>
<span class="hljs-keyword">const</span> delta = quill.getContents();

<span class="hljs-comment">// è·å– HTML å†…å®¹ï¼ˆç”¨äºå±•ç¤ºï¼‰</span>
<span class="hljs-keyword">const</span> html = quill.root.innerHTML;

<span class="hljs-comment">// è®¾ç½®å†…å®¹ï¼ˆæ”¯æŒ Delta æˆ–çº¯æ–‡æœ¬ï¼‰</span>
quill.setContents([{ insert: <span class="hljs-string">'Hello Quill\n'</span>, attributes: { bold: <span class="hljs-literal">true</span> } }]);

<span class="hljs-comment">// æ’å…¥å†…å®¹ï¼ˆåœ¨å…‰æ ‡ä½ç½®ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">range</span> = quill.getSelection(); <span class="hljs-comment">// è·å–å…‰æ ‡ä½ç½®</span>
quill.insertEmbed(<span class="hljs-keyword">range</span>.index, <span class="hljs-string">'image'</span>, <span class="hljs-string">'https://example.com/img.png'</span>);

<span class="hljs-comment">// æ ‡è®°æ–‡æ¡ˆä¸ºé»„è‰² -- é¢„å‘Šï¼šä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ä¼šé€šè¿‡AIæŸ¥æ‰¾æ–‡æ¡£é”™è¯¯ï¼Œç„¶åç”¨è¿™ä¸ªAPIæ ‡è®°é”™è¯¯å†…å®¹</span>
quill.formatText(
    startIndex, <span class="hljs-comment">// ç´¢å¼•</span>
    endIndex, <span class="hljs-comment">// ç´¢å¼•</span>
    {
      background: <span class="hljs-string">"yellow"</span>
    },
    Quill.sources.SILENT
);

<span class="hljs-comment">// è·å–é€‰åŒºæ ¼å¼</span>
quill.getFormat(index, <span class="hljs-number">1</span>)

<span class="hljs-comment">// æŒ‡å®šä½ç½®è¿½åŠ å†…å®¹ -- éœ€è¦ä¿æŒæ ¼å¼  ï¼ˆé¢„å‘Šï¼šä¸‹ä¸€ç¯‡æˆ‘ä»¬ä¼šç”¨è¿™ä¸ªåŠŸèƒ½å°†AIæ‰©å†™çš„å†…å®¹è¿½åŠ åˆ°æŒ‡å®šä½ç½®ï¼‰</span>
<span class="hljs-keyword">const</span> formats = instance.value.getFormat(
  <span class="hljs-keyword">range</span>.index + <span class="hljs-keyword">range</span>.length - <span class="hljs-number">1</span>,
  <span class="hljs-number">1</span>
);
quill.insertText(index, <span class="hljs-string">'è¿½åŠ å†…å®¹'</span>, formats, Quill.sources.USER);

</code></pre>
<h3 data-id="heading-10">é¢„å‘Š</h3>
<ol>
<li>ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ä¼šé€šè¿‡AIæŸ¥æ‰¾æ–‡æ¡£é”™è¯¯ï¼Œç„¶åç”¨<code>formatText</code>æ ‡è®°é”™è¯¯å†…å®¹</li>
<li>ä¸‹ä¸€ç¯‡æˆ‘ä»¬ä¼šç”¨<code>insertText</code>å°†AIæ‰©å†™çš„å†…å®¹è¿½åŠ åˆ°æŒ‡å®šä½ç½®</li>
<li>æ›´å¤šå†…å®¹è§ä¸‹ä¸€ç¯‡æ–‡ç« </li>
</ol>
<h2 data-id="heading-11">å››ã€æ ¸å¿ƒåŠŸèƒ½å®æˆ˜ï¼šä»æ±‰åŒ–åˆ°åª’ä½“å¤„ç†</h2>
<p><code>æ±‰åŒ– -&gt; å¢åŠ å·¥å…·æ -å›¾ç‰‡ä¸Šä¼  -&gt; è‡ªå®šä¹‰quillæ ¼å¼ -&gt; è‡ªå®šä¹‰quillå±æ€§æ ¼å¼</code></p>
<h3 data-id="heading-12">1. æ±‰åŒ–ï¼šè®©ç¼–è¾‘å™¨ã€Œè¯´ä¸­æ–‡ã€</h3>
<p>Quill é»˜è®¤æç¤ºä¸ºè‹±æ–‡ï¼ˆå¦‚å·¥å…·æ æŒ‰é’®çš„ tooltipï¼‰ï¼Œéœ€æ‰‹åŠ¨æ±‰åŒ–ï¼š</p>
<p><strong>scssä¸ºä¾‹</strong></p>
<h4 data-id="heading-13">æ ‡é¢˜æ±‰åŒ–</h4>
<pre><code class="hljs language-æ ‡é¢˜æ±‰åŒ–" lang="æ ‡é¢˜æ±‰åŒ–">.editor-wrapper {
  :deep(.ql-toolbar) {
    .ql-picker.ql-header {
      width: 70px;

      .ql-picker-label::before,
      .ql-picker-item::before {
        content: "æ­£æ–‡";
      }

      @for $i from 1 through 6 {
        .ql-picker-label[data-value="#{$i}"]::before,
        .ql-picker-item[data-value="#{$i}"]::before {
          content: "æ ‡é¢˜#{$i}";
        }
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-14">å­—ä½“æ±‰åŒ–</h4>
<pre><code class="hljs language-css" lang="css">```å­—ä½“æ±‰åŒ–
<span class="hljs-selector-class">.editor-wrapper</span> {
  :<span class="hljs-built_in">deep</span>(.ql-toolbar) {
    <span class="hljs-selector-class">.ql-picker</span><span class="hljs-selector-class">.ql-font</span> {
      <span class="hljs-selector-class">.ql-picker-item</span>,
      <span class="hljs-selector-class">.ql-picker-label</span> {
        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"SimSun"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"å®‹ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimSun"</span> <span class="hljs-meta">!important</span>;
        }

        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"SimHei"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"é»‘ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimHei"</span> <span class="hljs-meta">!important</span>;
        }

        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"KaiTi"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"æ¥·ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"KaiTi"</span> <span class="hljs-meta">!important</span>;
        }
 

        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"FangSong_GB2312"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"ä»¿å®‹_GB2312"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"FangSong_GB2312"</span>, FangSong <span class="hljs-meta">!important</span>;
          <span class="hljs-attribute">width</span>: <span class="hljs-number">80px</span>;
          <span class="hljs-attribute">overflow</span>: hidden;
          <span class="hljs-attribute">white-space</span>: nowrap;
          <span class="hljs-attribute">text-overflow</span>: ellipsis;
          <span class="hljs-attribute">line-height</span>: <span class="hljs-number">24px</span>;
        }

        
      }
    }
  }

  :<span class="hljs-built_in">deep</span>(.ql-editor) {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimSun"</span>, <span class="hljs-string">"SimHei"</span>, <span class="hljs-string">"KaiTi"</span>, <span class="hljs-string">"FangSong"</span>, <span class="hljs-string">"Times New Roman"</span>,
      sans-serif <span class="hljs-meta">!important</span>;
  }
}

</code></pre>
<h4 data-id="heading-15">æ±‰åŒ–æ€è·¯ä¸€è‡´ï¼Œä¸ä¸€ä¸€åˆ—å‡ºï¼Œæœ‰éœ€è¦å¯éšæ—¶ç§æˆ‘</h4>
<h3 data-id="heading-16">2. å›¾ç‰‡ä¸Šä¼ ï¼šä»æœ¬åœ°åˆ°æœåŠ¡å™¨</h3>
<p>é»˜è®¤å›¾ç‰‡æŒ‰é’®åªèƒ½è¾“å…¥ URLï¼Œéœ€é‡å†™é€»è¾‘å®ç°æœ¬åœ°ä¸Šä¼ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">toolbarOptions</span> = {
  container: <span class="hljs-section">['image']</span>,
  handlers: {
    image: function() {
      const <span class="hljs-attr">input</span> = document.createElement(<span class="hljs-string">'input'</span>)<span class="hljs-comment">;</span>
      <span class="hljs-attr">input.type</span> = <span class="hljs-string">'file'</span><span class="hljs-comment">;</span>
      <span class="hljs-attr">input.accept</span> = <span class="hljs-string">'image/*'</span><span class="hljs-comment">;</span>
      
      <span class="hljs-attr">input.onchange</span> = (e) =&gt; {
        const <span class="hljs-attr">file</span> = e.target.files[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
        if (!file) return<span class="hljs-comment">;</span>
        
        // ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆæ›¿æ¢ä¸ºä½ çš„æ¥å£ï¼‰
        const <span class="hljs-attr">formData</span> = new FormData()<span class="hljs-comment">;</span>
        formData.append('file', file)<span class="hljs-comment">;</span>
        
        fetch('/api/upload', { method: 'POST', body: formData })
          .then(<span class="hljs-attr">res</span> =&gt; res.json())
          .then(<span class="hljs-attr">data</span> =&gt; {
            // æ’å…¥å›¾ç‰‡åˆ°ç¼–è¾‘å™¨
            const <span class="hljs-attr">range</span> = quill.getSelection()<span class="hljs-comment">;</span>
            quill.insertEmbed(range.index, 'image', data.url)<span class="hljs-comment">;</span>
          })<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>
      
      input.click()<span class="hljs-comment">; // è§¦å‘æ–‡ä»¶é€‰æ‹©</span>
    }
  }
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-17">3. è‡ªå®šä¹‰è§„åˆ™ï¼šå­—ä½“è§„åˆ™</h3>
<p><code>æ³¨å†Œå­—ä½“ -&gt; å·¥å…·æ é…ç½® -&gt; cssé€‚é…</code></p>
<h4 data-id="heading-18">æ³¨å†Œå­—ä½“</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Quill</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"quill"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useFontHook</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// // æ³¨å†Œè‡ªå®šä¹‰å­—ä½“</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">Font</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = <span class="hljs-title class_">Quill</span>.<span class="hljs-keyword">import</span>(<span class="hljs-string">"attributors/style/font"</span>);
  <span class="hljs-title class_">Font</span>.<span class="hljs-property">whitelist</span> = [
    <span class="hljs-string">"FangSong_GB2312"</span>,
    <span class="hljs-string">"KaiTi_GB2312"</span>,
    <span class="hljs-string">"FZXBSJW-GB1-0"</span>,
    <span class="hljs-string">"FangSong"</span>,
    <span class="hljs-string">"SimSun"</span>,
    <span class="hljs-string">"SimHei"</span>,
    <span class="hljs-string">"KaiTi"</span>,
    <span class="hljs-string">"Times New Roman"</span>
  ]; <span class="hljs-comment">// å­—ä½“åç§°éœ€ä¸ CSS å®šä¹‰ä¸€è‡´</span>
  <span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>(<span class="hljs-title class_">Font</span>, <span class="hljs-literal">true</span>);

  <span class="hljs-keyword">return</span> {
    <span class="hljs-title class_">Font</span>
  };
};

</code></pre>
<h4 data-id="heading-19">å·¥å…·æ é…ç½®</h4>
<pre><code class="hljs language-å®ä¾‹åŒ–Quillæ—¶å€™é…ç½®fontå†…å®¹" lang="å®ä¾‹åŒ–Quillæ—¶å€™é…ç½®fontå†…å®¹">const { Font } = useFontHook();
... 
toolbar: {
    container: [
        [
            { size: SizeStyle.whitelist }, // è¿™é‡Œæ˜¯è‡ªå®šä¹‰size
            {
              font: Font.whitelist
            }
          ], // custom dropdown
        ]
}

</code></pre>
<h4 data-id="heading-20">cssé€‚é…</h4>
<p>åŒæ±‰åŒ–éƒ¨åˆ†</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.editor-wrapper</span> {
  :<span class="hljs-built_in">deep</span>(.ql-toolbar) {
    <span class="hljs-selector-class">.ql-picker</span><span class="hljs-selector-class">.ql-font</span> {
      <span class="hljs-selector-class">.ql-picker-item</span>,
      <span class="hljs-selector-class">.ql-picker-label</span> {
        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"SimSun"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"å®‹ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimSun"</span> <span class="hljs-meta">!important</span>;
        }

        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"SimHei"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"é»‘ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimHei"</span> <span class="hljs-meta">!important</span>;
        }

        &amp;<span class="hljs-selector-attr">[data-value=<span class="hljs-string">"KaiTi"</span>]</span><span class="hljs-selector-pseudo">::before</span> {
          <span class="hljs-attribute">content</span>: <span class="hljs-string">"æ¥·ä½“"</span>;
          <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"KaiTi"</span> <span class="hljs-meta">!important</span>;
        }
        ...
      }
    }
  }

  :<span class="hljs-built_in">deep</span>(.ql-editor) {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"SimSun"</span>, <span class="hljs-string">"SimHei"</span>, <span class="hljs-string">"KaiTi"</span>, <span class="hljs-string">"FangSong"</span>, <span class="hljs-string">"Times New Roman"</span>,
      sans-serif <span class="hljs-meta">!important</span>;
  }
}

</code></pre>
<h3 data-id="heading-21">4. è‡ªå®šä¹‰å±æ€§æ ¼å¼ -- ä»¥marginï¼Œå€¼ä¸ºemä¸ºä¾‹</h3>
<p>Quillå·¥å…·æ æ˜¯æ²¡æœ‰è¾¹è·æ•ˆæœçš„(æœ‰text-indentï¼Œåœºæ™¯ä¸ä¸€æ ·)ï¼Œéœ€è¦è‡ªè¡Œå†™æ ¼å¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Quill</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"quill"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Parchment</span> = <span class="hljs-title class_">Quill</span>.<span class="hljs-keyword">import</span>(<span class="hljs-string">"parchment"</span>);

<span class="hljs-keyword">const</span> whitelist = [<span class="hljs-string">"2em"</span>, <span class="hljs-string">"4em"</span>, <span class="hljs-string">"6em"</span>, <span class="hljs-string">"8em"</span>];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useMarginHook</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">class</span> <span class="hljs-title class_">MarginAttributor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parchment.StyleAttributor</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">styleName, key</span>) {
      <span class="hljs-variable language_">super</span>(styleName, key, {
        <span class="hljs-attr">scope</span>: <span class="hljs-title class_">Parchment</span>.<span class="hljs-property">Scope</span>.<span class="hljs-property">BLOCK</span>,
        whitelist
      });
    }

    <span class="hljs-title function_">add</span>(<span class="hljs-params">node, value</span>) {
      <span class="hljs-comment">// ç›´æ¥éªŒè¯ä¼ é€’çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨ç™½åå•ä¸­</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">whitelist</span>.<span class="hljs-title function_">includes</span>(value)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">add</span>(node, value);
    }
  }

  <span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>(
    {
      <span class="hljs-string">"formats/custom-margin-left"</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">MarginAttributor</span>(
        <span class="hljs-string">"custom-margin-left"</span>,
        <span class="hljs-string">"margin-left"</span>
      ),
      <span class="hljs-string">"formats/custom-margin-right"</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">MarginAttributor</span>(
        <span class="hljs-string">"custom-margin-right"</span>,
        <span class="hljs-string">"margin-right"</span>
      )
    },
    <span class="hljs-literal">true</span>
  );
}


<span class="hljs-comment">// å·¥å…·æ é…ç½®</span>
<span class="hljs-attr">toolbar</span>: [
  [{ <span class="hljs-string">'custom-margin-left'</span>: [<span class="hljs-string">'2em'</span>, <span class="hljs-string">'4em'</span>, <span class="hljs-string">'6em'</span>, <span class="hljs-string">'8em'</span>] }], 
  [{ <span class="hljs-string">'custom-margin-right'</span>: [<span class="hljs-string">'2em'</span>, <span class="hljs-string">'4em'</span>, <span class="hljs-string">'6em'</span>, <span class="hljs-string">'8em'</span>] }] 
]
</code></pre>
<h2 data-id="heading-22">äº”ã€äº‹ä»¶ä¸æ‰©å±•ï¼šæ·±åº¦æ§åˆ¶ç¼–è¾‘å™¨</h2>
<h3 data-id="heading-23">1. äº‹ä»¶ç›‘å¬ï¼šå“åº”ç¼–è¾‘è¡Œä¸º</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…å®¹å˜åŒ–æ—¶è§¦å‘ï¼ˆç”¨äºè‡ªåŠ¨ä¿å­˜ æˆ–è€… ç»Ÿè®¡å­—æ•°ç­‰ï¼‰</span>
quill.<span class="hljs-title function_">on</span>(<span class="hljs-string">'text-change'</span>, <span class="hljs-function">(<span class="hljs-params">delta, oldDelta, source</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (source === <span class="hljs-string">'user'</span>) { <span class="hljs-comment">// ä»…å¤„ç†ç”¨æˆ·æ“ä½œ</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å†…å®¹å˜åŒ–:'</span>, delta);
  }
});

<span class="hljs-comment">// å…‰æ ‡/é€‰æ‹©èŒƒå›´å˜åŒ–æ—¶è§¦å‘ï¼ˆç”¨äºæ˜¾ç¤ºæ ¼å¼æç¤ºï¼‰</span>
quill.<span class="hljs-title function_">on</span>(<span class="hljs-string">'selection-change'</span>, <span class="hljs-function">(<span class="hljs-params">range, oldRange, source</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (range &amp;&amp; range.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> text = quill.<span class="hljs-title function_">getText</span>(range.<span class="hljs-property">index</span>, range.<span class="hljs-property">length</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é€‰ä¸­æ–‡æœ¬:'</span>, text);
  }
});
</code></pre>
<h3 data-id="heading-24">2. è‡ªå®šä¹‰æ ¼å¼ï¼šæ·»åŠ ã€Œé«˜äº®ã€åŠŸèƒ½</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ³¨å†Œè‡ªå®šä¹‰æ ¼å¼</span>
<span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>({
  <span class="hljs-string">'formats/highlight'</span>: <span class="hljs-keyword">class</span> <span class="hljs-title class_">Highlight</span> {
    <span class="hljs-comment">// ä» DOM ä¸­è¯»å–æ ¼å¼</span>
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">formats</span>(<span class="hljs-params">domNode</span>) {
      <span class="hljs-keyword">return</span> domNode.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> === <span class="hljs-string">'yellow'</span> ? <span class="hljs-string">'yellow'</span> : <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// åº”ç”¨æ ¼å¼åˆ° DOM</span>
    <span class="hljs-title function_">apply</span>(<span class="hljs-params">domNode, value</span>) {
      domNode.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = value === <span class="hljs-string">'yellow'</span> ? <span class="hljs-string">'yellow'</span> : <span class="hljs-string">''</span>;
    }
  }
});

<span class="hljs-comment">// å·¥å…·æ æ·»åŠ é«˜äº®æŒ‰é’®</span>
<span class="hljs-keyword">const</span> toolbarOptions = [
  [{ <span class="hljs-string">'highlight'</span>: <span class="hljs-string">'yellow'</span> }]
];

<span class="hljs-comment">// åˆå§‹åŒ–ç¼–è¾‘å™¨</span>
<span class="hljs-keyword">const</span> quill = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Quill</span>(<span class="hljs-string">'#editor'</span>, {
  <span class="hljs-attr">modules</span>: { <span class="hljs-attr">toolbar</span>: toolbarOptions },
  <span class="hljs-comment">// ...å…¶ä»–é…ç½®</span>
});
</code></pre>
<h3 data-id="heading-25">3. è‡ªå®šä¹‰ module - å¯¼å‡ºæ–‡ä»¶</h3>
<h4 data-id="heading-26">å¢åŠ å·¥å…·æ ã€æ¿€æ´»é…ç½®ã€moduleé…ç½®</h4>
<pre><code class="hljs language-css" lang="css"> toolbar: {
    container: [
        <span class="hljs-string">'exportFile'</span>
    ],
    // æ¿€æ´»handlers -- å¿…é¡»æ‰‹åŠ¨æ¿€æ´» - é‡è¦ï¼ï¼ï¼
    handlers: {
      exportFile: true
    }
 },
 // exportFileæ’ä»¶çš„é…ç½®
  exportFile: {
      apiMethod: ({ htmlContent }) =&gt; {
          const <span class="hljs-selector-tag">html</span> = getFileTemplate(htmlContent);
          downloadDocx({
              <span class="hljs-selector-tag">html</span>
          });
      }
  }
</code></pre>
<h4 data-id="heading-27">æ¨¡å—æ³¨å†Œä¸å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useExportFilePlugin</span>()

<span class="hljs-keyword">import</span> <span class="hljs-title class_">Quill</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"quill"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">QuillIcons</span> {
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
  exportFile?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// ä¿®æ”¹icon</span>
<span class="hljs-keyword">const</span> icons = <span class="hljs-title class_">Quill</span>.<span class="hljs-keyword">import</span>(<span class="hljs-string">"ui/icons"</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">QuillIcons</span>;
<span class="hljs-keyword">const</span> uploadSVG =
  <span class="hljs-string">'&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"&gt;&lt;path fill="currentColor" d="M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"&gt;&lt;/path&gt;&lt;/svg&gt;'</span>;
icons.<span class="hljs-property">exportFile</span> = uploadSVG;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">IApiMethodParams</span> {
  <span class="hljs-attr">htmlContent</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// å®šä¹‰ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ExportFilePluginOptions</span> {
  <span class="hljs-attr">apiMethod</span>: <span class="hljs-function">(<span class="hljs-params">params: IApiMethodParams</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Blob</span>&gt;;
}

 

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useExportFilePlugin</span> = (<span class="hljs-params"/>) =&gt; {
 

  <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExportFilePlugin</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-attr">quill</span>: <span class="hljs-built_in">any</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-attr">toolbar</span>: <span class="hljs-built_in">any</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-attr">apiMethod</span>: <span class="hljs-function">(<span class="hljs-params">params: IApiMethodParams</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Blob</span>&gt;;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">quill: <span class="hljs-built_in">any</span>, options: ExportFilePluginOptions</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">quill</span> = quill;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolbar</span> = quill.<span class="hljs-title function_">getModule</span>(<span class="hljs-string">"toolbar"</span>);

      <span class="hljs-keyword">if</span> (!options?.<span class="hljs-property">apiMethod</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"å¯¼å‡ºmoduleå¿…é¡»ä¼ å…¥apiMethod"</span>);
      }

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">apiMethod</span> = options.<span class="hljs-property">apiMethod</span>;

      <span class="hljs-comment">// æ·»åŠ å·¥å…·æ  </span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolbar</span>.<span class="hljs-title function_">addHandler</span>(<span class="hljs-string">"exportFile"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleExportClick</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleExportClick</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> htmlContent = <span class="hljs-variable language_">this</span>.<span class="hljs-property">quill</span>.<span class="hljs-property">root</span>.<span class="hljs-property">innerHTML</span>;

        <span class="hljs-keyword">if</span> (htmlContent.<span class="hljs-property">trim</span>?.() === <span class="hljs-string">"&lt;p&gt;&lt;br&gt;&lt;/p&gt;"</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å†…å®¹ä¸èƒ½ä¸ºç©º"</span>);
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// ä½¿ç”¨é…ç½®çš„APIæ–¹æ³•</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">apiMethod</span>({ htmlContent });
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¯¼å‡ºå¤±è´¥:"</span>, error);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>({
          error
        });
      }
    }
  }

  <span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">"modules/exportFile"</span>, <span class="hljs-title class_">ExportFilePlugin</span>);
};

</code></pre>
<h3 data-id="heading-28">è‡ªå®šä¹‰moduleæˆ–è§„åˆ™åŸç†ç±»ä¼¼ï¼Œå¾ˆå¤šï¼Œä¸ä¸€ä¸€åˆ—å‡ºï¼Œæœ‰éœ€è¦å¯éšæ—¶ç§æˆ‘</h3>
<h2 data-id="heading-29">å…­ã€é¿å‘æŒ‡å—ï¼šè¿™äº›é—®é¢˜è¦æ³¨æ„</h2>
<h3 data-id="heading-30">1. æ ·å¼å†²çªï¼šç¼–è¾‘å™¨æ ·å¼è¢«å…¨å±€ CSS è¦†ç›–</h3>
<p><strong>é—®é¢˜</strong>ï¼šé¡¹ç›®ä¸­çš„å…¨å±€æ ·å¼ï¼ˆå¦‚Â <code>p { margin: 20px }</code>ï¼‰ä¼šå½±å“ç¼–è¾‘å™¨å†…éƒ¨çš„æ®µè½æ ·å¼ï¼Œå¯¼è‡´æ’ç‰ˆé”™ä¹±ã€‚</p>
<p><strong>è§£å†³</strong>ï¼šç”¨ CSS éš”ç¦»ç¼–è¾‘å™¨æ ·å¼ï¼Œé€šè¿‡çˆ¶çº§ç±»åé™åˆ¶ä½œç”¨åŸŸï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ç»™ç¼–è¾‘å™¨å®¹å™¨æ·»åŠ ç±»å quill-container */</span>
<span class="hljs-selector-class">.quill-container</span> <span class="hljs-selector-class">.ql-editor</span> <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; <span class="hljs-comment">/* è¦†ç›–å…¨å±€æ ·å¼ */</span>
}
<span class="hljs-selector-class">.quill-container</span> <span class="hljs-selector-class">.ql-editor</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h3 data-id="heading-31">2. å›¾ç‰‡ä¸Šä¼ ï¼šè·¨åŸŸé—®é¢˜å¯¼è‡´æ’å…¥å¤±è´¥</h3>
<p><strong>é—®é¢˜</strong>ï¼šä¸Šä¼ å›¾ç‰‡åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ—¶ï¼Œå› è·¨åŸŸé™åˆ¶å¯¼è‡´Â <code>fetch</code>Â è¯·æ±‚å¤±è´¥ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>åç«¯æ¥å£æ·»åŠ  CORS å¤´ï¼ˆ<code>Access-Control-Allow-Origin: *</code>ï¼‰ã€‚</li>
<li>è‹¥æ— æ³•ä¿®æ”¹åç«¯ï¼Œé€šè¿‡æœ¬åœ°æœåŠ¡ç«¯ä»£ç†è½¬å‘è¯·æ±‚ï¼š</li>
</ul>

<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å‰ç«¯è¯·æ±‚æœ¬åœ°ä»£ç†æ¥å£</span>
<span class="hljs-title function_ invoke__">fetch</span>(<span class="hljs-string">'/proxy/upload'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">body</span>: formData })
<span class="hljs-comment">// æœ¬åœ°æœåŠ¡ç«¯å°† /proxy/upload è½¬å‘åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨</span>
</code></pre>
<h3 data-id="heading-32">3. è‡ªå®šä¹‰æ¨¡å—ï¼šé…ç½®åä¸ç”Ÿæ•ˆ</h3>
<p><strong>é—®é¢˜</strong>ï¼šå¦‚â€œå¯¼å‡ºæ¨¡å—â€é…ç½®åï¼Œå·¥å…·æ æŒ‰é’®æ— å“åº”ã€‚</p>
<p><strong>æ ¸å¿ƒåŸå› </strong>ï¼š2.xç‰ˆæœ¬ä¸­ï¼Œè‡ªå®šä¹‰å·¥å…·æ æŒ‰é’®éœ€åœ¨handlersä¸­æ‰‹åŠ¨æ¿€æ´»ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨toolbaré…ç½®ä¸­æ·»åŠ handlersæ¿€æ´»é¡¹ï¼š
<strong>è§£å†³</strong>ï¼š</p>
<pre><code class="hljs language-å®ä¾‹åŒ–quillä¼ å…¥æ¿€æ´»é…ç½®" lang="å®ä¾‹åŒ–quillä¼ å…¥æ¿€æ´»é…ç½®">
modules: {
  toolbar: {
    container: ['exportFile'], // è‡ªå®šä¹‰æŒ‰é’®
    // å¿…é¡»æ‰‹åŠ¨æ¿€æ´»ï¼Œå¦åˆ™æŒ‰é’®ç‚¹å‡»æ— å“åº”
    handlers: { exportFile: true } 
  },
  exportFile: { /* æ¨¡å—é…ç½® */ }
}

</code></pre>
<h3 data-id="heading-33">4. è·å–é€‰ä¸­æ–‡æœ¬ å¾—åˆ°çš„ç»“æœå¤šæ ·æ€§</h3>
<p><strong>ä»£ç </strong> <code>instance.value.getSelection(true)</code></p>
<p><strong>é—®é¢˜</strong> è°ƒç”¨<code>getText()</code>æ—¶ï¼Œè¿”å›ç»“æœå¯èƒ½ä¸ºnullã€ç©ºå¯¹è±¡æˆ–ç©ºå­—ç¬¦ä¸²ï¼Œå¯¼è‡´åç»­æ“ä½œæŠ¥é”™</p>
<p><strong>åŸå› </strong> å…‰æ ‡æœªåœ¨ç¼–è¾‘å™¨å†…ã€ç”¨æˆ·æœªé€‰ä¸­å†…å®¹ç­‰åœºæ™¯ä¼šè¿”å›ä¸åŒç»“æœã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong> å°è£…å·¥å…·å‡½æ•°å¤„ç†è¾¹ç•Œæƒ…å†µï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">/**
 * è·å–é€‰ä¸­æ–‡æœ¬ -- åªåœ¨çœŸæ­£æœ‰é€‰ä¸­å†…å®¹æ—¶å€™è¿”å›ï¼Œå¦åˆ™è¿”å›<span class="hljs-comment">''</span>
 * @param focusæ˜¯å¦èšç„¦ - <span class="hljs-literal">true</span>åˆ™èƒ½è·å–é€‰ä¸­å†…å®¹ï¼›<span class="hljs-literal">false</span>åˆ™ä»£è¡¨å…‰æ ‡ä¸åœ¨å¯Œæ–‡æœ¬ï¼Œä¼šè¿”å›<span class="hljs-comment">'' (éç”¨æˆ·è§¦å‘è¡Œä¸ºé™¤å¤–)</span>
 * @returns obj code:-<span class="hljs-number">1</span>ä»£è¡¨æ²¡æœ‰é€‰ä¸­  -<span class="hljs-number">2</span>ä»£è¡¨ä¸åœ¨ç¼–è¾‘å™¨é‡Œ å…¶ä»–æƒ…å†µæ˜¯æœ‰é€‰ä¸­æ–‡æœ¬
 */
<span class="hljs-keyword">function</span> getSelectionText(focus = <span class="hljs-literal">true</span>) {
  <span class="hljs-keyword">const</span> range = instance.value.getSelection(focus);
  <span class="hljs-keyword">if</span> (range) {
    <span class="hljs-keyword">if</span> (range.length == <span class="hljs-number">0</span>) {
      console.log(<span class="hljs-string">"ç”¨æˆ·æ²¡æœ‰é€‰ä¸­ä»»ä½•å†…å®¹"</span>);
      <span class="hljs-keyword">return</span> {
        code: -<span class="hljs-number">1</span>,
        <span class="hljs-keyword">text</span>: <span class="hljs-string">""</span>,
        range: {}
      };
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">text</span> = instance.value.getText(range.index, range.length);
      <span class="hljs-keyword">return</span> {
        code: <span class="hljs-number">1</span>,
        <span class="hljs-keyword">text</span>,
        range
      };
    }
  } <span class="hljs-keyword">else</span> {
    console.log(<span class="hljs-string">"ç”¨æˆ·å…‰æ ‡ä¸åœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡Œ"</span>);
    <span class="hljs-keyword">return</span> {
      code: -<span class="hljs-number">2</span>,
      <span class="hljs-keyword">text</span>: <span class="hljs-string">""</span>,
      range: {}
    };
  }
}
</code></pre>
<h3 data-id="heading-34">5. vueã€reactæŠ¥é”™ <code>Cannot read properties of null (reading 'offsetTop')</code></h3>
<p><strong>é—®é¢˜</strong> åœ¨Vue3/Reacté¡¹ç›®ä¸­ï¼Œåˆå§‹åŒ–Quillåæ§åˆ¶å°æŠ¥ä¸Šè¿°é”™è¯¯
<strong>åŸå› </strong> æ¡†æ¶å“åº”å¼ç³»ç»Ÿå¹²æ‰°Quillå†…éƒ¨DOMè®¡ç®—é€»è¾‘
<strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<ol>
<li>ç”¨éå“åº”å¼å˜é‡å­˜å‚¨</li>
<li>markRawåŒ…è£¹quillå®ä¾‹ <code>instance.value = markRaw(new Quill('#editor'))</code></li>
</ol>
<h2 data-id="heading-35">ä¸ƒ æ±‰åŒ–æ•ˆæœ</h2>
<p>å·¥å…·æ å’Œä¸‹æ‹‰å†…å®¹å‡ä¸ºä¸­æ–‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba4ee156265d40b79215f343728fc784~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHVtb3I=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764138549&amp;x-signature=C%2FKg5SD3LKmk3Gh64ZDhBTgGBjM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-36">æ€»ç»“ä¸åç»­é¢„å‘Š</h2>
<p>Quill 2.x å‡­å€Ÿã€ŒAPI é©±åŠ¨ã€ã€ŒDelta æ ¼å¼ã€ã€Œæ¨¡å—åŒ–è®¾è®¡ã€ä¸‰å¤§ç‰¹æ€§ï¼Œæˆä¸ºå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ä¼˜è´¨é€‰æ‹©ã€‚æœ¬æ–‡ä»æ¦‚å¿µè§£æï¼ˆæ˜¯ä»€ä¹ˆï¼‰ã€åŸç†å‰–æï¼ˆæ€ä¹ˆå·¥ä½œï¼‰åˆ°å®æˆ˜è½åœ°ï¼ˆå¦‚ä½•ä½¿ç”¨ï¼‰ï¼Œå†åˆ°é¿å‘æŒ‡å—ï¼ˆå¸¸è§é—®é¢˜ï¼‰ï¼Œè¦†ç›–äº† 90% çš„å®ç”¨åœºæ™¯ï¼ŒæŒæ¡è¿™äº›å†…å®¹åï¼Œä½ å¯ä»¥è½»æ¾å®ç°åšå®¢ç¼–è¾‘å™¨ã€åœ¨çº¿æ–‡æ¡£ã€è¯„è®ºç³»ç»Ÿç­‰åŠŸèƒ½</p>
<blockquote>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Š</strong>ï¼šã€ŠAIæ™ºèƒ½å†™ä½œå®æˆ˜ï¼šè®©<code>Quill</code>ç¼–è¾‘å™¨â€œå¬è¯â€èµ·æ¥ã€‹</p>
<p>æˆ‘ä»¬å°†æ·±åº¦èåˆ<code>AI</code>ä¸<code>Quill2</code>ï¼Œå®ç°ä¸‰å¤§æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ol>
<li>AIè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼Œå¡«å……åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</li>
<li>AIè‡ªåŠ¨æ£€æµ‹å†…å®¹é”™è¯¯å¹¶æ ‡è®°ï¼ˆformatText APIï¼‰</li>
<li>AIæ ¹æ®ä¸Šä¸‹æ–‡æ‰©å†™å†…å®¹ï¼ˆinsertText APIï¼‰</li>
<li>...</li>
</ol>
</blockquote>
<h2 data-id="heading-37"><strong>èµ„æºè·å–</strong></h2>
<p>æœ¬æ–‡æ¶‰åŠçš„å®Œæ•´ä»£ç ï¼ˆå«Vue3ã€æ±‰åŒ–ã€è‡ªå®šä¹‰æ ¼å¼ã€è‡ªå®šä¹‰æ¨¡å—ï¼‰å·²æ•´ç†å®Œæ¯•ï¼Œ<strong>ç‚¹èµ+æ”¶è—+è¯„è®º@æˆ‘</strong>ï¼Œå³å¯ç§å‘èµ„æºåŒ…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¾®è§‚åˆ°å®è§‚ï¼šè§†è§‰å’Œå¬è§‰çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7574007967886295103</link>    <guid>https://juejin.cn/post/7574007967886295103</guid>    <pubDate>2025-11-19T06:40:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574007967886295103" data-draft-id="7574084898877915177" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¾®è§‚åˆ°å®è§‚ï¼šè§†è§‰å’Œå¬è§‰çš„åŒºåˆ«"/> <meta itemprop="keywords" content="è®¡ç®—æœºè§†è§‰"/> <meta itemprop="datePublished" content="2025-11-19T06:40:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¾®è§‚åˆ°å®è§‚ï¼šè§†è§‰å’Œå¬è§‰çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:40:46.000Z" title="Wed Nov 19 2025 06:40:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»å¾®è§‚è§’åº¦åˆ†æè§†è§‰å’Œå¬è§‰çš„åŒºåˆ«ï¼Œæˆ‘ä»¬å¯ä»¥æ·±å…¥åˆ°<strong>æ¥æ”¶æœºåˆ¶ã€ä¿¡å·æœ¬è´¨ã€ç¥ç»ç¼–ç å’Œå¤§è„‘å¤„ç†</strong>ç­‰å¤šä¸ªå±‚é¢ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œæ ¸å¿ƒåŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li><strong>è§†è§‰</strong> å¤„ç†çš„æ˜¯ç©ºé—´åˆ†å¸ƒçš„<strong>å…‰å­</strong>ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>ç©ºé—´</strong>å’Œ<strong>æ³¢é•¿</strong>çš„ä¿¡æ¯ã€‚</li>
<li><strong>å¬è§‰</strong> å¤„ç†çš„æ˜¯æ—¶é—´åºåˆ—çš„<strong>å£°æ³¢</strong>ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>æ—¶é—´</strong>å’Œ<strong>é¢‘ç‡</strong>çš„ä¿¡æ¯ã€‚</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬ä»å¾®è§‚è§’åº¦è¿›è¡Œè¯¦ç»†æ‹†è§£ï¼š</p>
<hr/>
<h3 data-id="heading-0">1. èƒ½é‡è½½ä½“ä¸ç‰©ç†æœ¬è´¨</h3>
<ul>
<li>
<p><strong>è§†è§‰</strong></p>
<ul>
<li><strong>è½½ä½“</strong>ï¼šå…‰å­ï¼ˆç”µç£æ³¢é‡å­ï¼‰ã€‚</li>
<li><strong>å¾®è§‚æœ¬è´¨</strong>ï¼šå¤–ç•Œç‰©ä½“å‘å°„æˆ–åå°„çš„å…‰å­ï¼Œæºå¸¦ç€èƒ½é‡å’Œæ³¢é•¿ï¼ˆé¢œè‰²ï¼‰ä¿¡æ¯ã€‚</li>
<li><strong>å…³é”®ç‰¹æ€§</strong>ï¼š<strong>ç›´çº¿ä¼ æ’­</strong>ï¼Œå› æ­¤èƒ½æå¥½åœ°ä¿ç•™ç©ºé—´ç»“æ„ä¿¡æ¯ã€‚å…‰å­èƒ½é‡è¾ƒé«˜ï¼ˆç›¸å¯¹äºå£°æ³¢çš„èƒ½é‡å­ï¼‰ï¼Œå¯ä»¥ç›´æ¥å¼•å‘è§†ç½‘è†œå†…åˆ†å­çš„å…‰åŒ–å­¦ååº”ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¬è§‰</strong></p>
<ul>
<li><strong>è½½ä½“</strong>ï¼šå£°å­ï¼ˆæœºæ¢°æŒ¯åŠ¨çš„èƒ½é‡é‡å­ï¼Œåœ¨ç”Ÿç‰©å­¦ä¸­æ›´å¸¸æè¿°ä¸ºå£°æ³¢å‹åŠ›ï¼‰ã€‚</li>
<li><strong>å¾®è§‚æœ¬è´¨</strong>ï¼šç‰©ä½“æŒ¯åŠ¨å¼•èµ·ç©ºæ°”åˆ†å­å‘ç”Ÿç–å¯†ç›¸é—´çš„æŒ¯åŠ¨ï¼Œå½¢æˆçºµæ³¢ã€‚</li>
<li><strong>å…³é”®ç‰¹æ€§</strong>ï¼š<strong>éœ€è¦ä»‹è´¨</strong>ï¼Œæ˜¯å‹åŠ›æ³¢åœ¨æ—¶é—´ä¸Šçš„å˜åŒ–ã€‚å®ƒæ›´æ“…é•¿ä¼ é€’æ—¶åºå’ŒèŠ‚å¥ä¿¡æ¯ã€‚å£°æ³¢çš„èƒ½é‡ä¸»è¦é€šè¿‡æœºæ¢°æŒ¯åŠ¨ä¼ é€’ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-1">2. æ„Ÿå—å™¨ç»†èƒä¸ä¿¡å·è½¬æ¢</h3>
<ul>
<li>
<p><strong>è§†è§‰</strong></p>
<ul>
<li><strong>æ„Ÿå—å™¨</strong>ï¼šè§†ç½‘è†œä¸Šçš„<strong>è§†æ†ç»†èƒ</strong>å’Œ<strong>è§†é”¥ç»†èƒ</strong>ã€‚</li>
<li><strong>è½¬æ¢æœºåˆ¶ï¼ˆå…‰è½¬å¯¼ï¼‰</strong>ï¼š
<ol>
<li>ç»†èƒå†…æœ‰ç§°ä¸º<strong>è§†è‰²ç´ </strong>çš„æ„Ÿå…‰åˆ†å­ï¼ˆå¦‚è§†ç´«çº¢è´¨ï¼‰ã€‚</li>
<li>ä¸€ä¸ªå…‰å­è¢«è§†è‰²ç´ å¸æ”¶åï¼Œä¼šå¼•èµ·å…¶å†…éƒ¨çš„<strong>11-é¡ºå¼è§†é»„é†›</strong>åˆ†å­å‘ç”Ÿæ„è±¡å˜åŒ–ï¼Œè½¬å˜ä¸º<strong>å…¨åå¼è§†é»„é†›</strong>ã€‚</li>
<li>è¿™ä¸€å˜åŒ–è§¦å‘äº†ä¸€ç³»åˆ—ç”ŸåŒ–çº§è”ååº”ï¼Œæœ€ç»ˆå¯¼è‡´ç»†èƒè†œä¸Šçš„é’ ç¦»å­é€šé“å…³é—­ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šæ„Ÿå…‰ç»†èƒ<strong>è¶…æåŒ–</strong>ï¼ˆæŠ‘åˆ¶çŠ¶æ€ï¼‰ï¼Œç¥ç»é€’è´¨é‡Šæ”¾å‡å°‘ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œè´Ÿå‘â€ä¿¡å·ï¼Œéå¸¸ç‹¬ç‰¹ã€‚</li>
<li>è¿™ç§ç”µä¿¡å·çš„å˜åŒ–è¢«ä¼ é€’ç»™åŒæç»†èƒã€ç¥ç»èŠ‚ç»†èƒï¼Œæœ€ç»ˆé€šè¿‡è§†ç¥ç»ä¼ å‘å¤§è„‘ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>å¬è§‰</strong></p>
<ul>
<li><strong>æ„Ÿå—å™¨</strong>ï¼šå†…è€³è€³èœ—å†…çš„<strong>æ¯›ç»†èƒ</strong>ã€‚</li>
<li><strong>è½¬æ¢æœºåˆ¶ï¼ˆæœºæ¢°ç”µè½¬å¯¼ï¼‰</strong>ï¼š
<ol>
<li>å£°æ³¢å¼•èµ·é¼“è†œå’Œå¬å°éª¨æŒ¯åŠ¨ï¼Œæœ€ç»ˆè½¬åŒ–ä¸ºè€³èœ—å†…æ·‹å·´æ¶²çš„æ³¢åŠ¨ã€‚</li>
<li>æ·‹å·´æ¶²çš„æ³¢åŠ¨å¯¼è‡´<strong>åŸºåº•è†œ</strong>ä¸Šä¸‹æŒ¯åŠ¨ï¼Œå…¶ä¸Šæ–¹çš„æ¯›ç»†èƒéšä¹‹è¿åŠ¨ã€‚</li>
<li>æ¯›ç»†èƒé¡¶ç«¯çš„<strong>é™çº¤æ¯›</strong>æŸéšç€æŒ¯åŠ¨å‘ç”Ÿåæ–œã€‚è¿™ç§åæ–œä¼šæœºæ¢°åœ°æ‹‰å¼€ç»†èƒè†œä¸Šçš„ç¦»å­é€šé“ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šé’¾ç¦»å­å’Œé’™ç¦»å­å†…æµï¼Œæ¯›ç»†èƒ<strong>å»æåŒ–</strong>ï¼ˆå…´å¥‹çŠ¶æ€ï¼‰ã€‚</li>
<li>å»æåŒ–å¼•å‘ç¥ç»é€’è´¨é‡Šæ”¾ï¼Œåˆºæ¿€ç›¸é‚»çš„å¬ç¥ç»çº¤ç»´äº§ç”ŸåŠ¨ä½œç”µä½ã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<p><strong>å¾®è§‚å…³é”®åŒºåˆ«</strong>ï¼šè§†è§‰æ˜¯<strong>å…‰åŒ–å­¦è½¬æ¢</strong>ï¼Œå§‹äºåˆ†å­çš„æ„è±¡å˜åŒ–ï¼›å¬è§‰æ˜¯<strong>æœºæ¢°ç”µè½¬æ¢</strong>ï¼Œå§‹äºçº¤æ¯›çš„ç‰©ç†åæ–œã€‚</p>
<h3 data-id="heading-2">3. ä¿¡æ¯çš„ç¥ç»ç¼–ç æ–¹å¼</h3>
<p>è¿™æ˜¯ä¸¤è€…æœ€æ ¸å¿ƒçš„åŒºåˆ«ï¼Œå†³å®šäº†æˆ‘ä»¬æ„ŸçŸ¥ä¸–ç•Œçš„ä¸åŒç»´åº¦ã€‚</p>
<ul>
<li>
<p><strong>è§†è§‰ - ä¾§é‡äºç©ºé—´ç¼–ç </strong></p>
<ul>
<li><strong>ä½ç½®ä¿¡æ¯</strong>ï¼šè§†ç½‘è†œå…·æœ‰ä¸¥æ ¼çš„<strong>æ‹“æ‰‘æŠ•å°„</strong>å…³ç³»ã€‚è§†ç½‘è†œä¸Šç›¸é‚»çš„æ„Ÿå…‰ç»†èƒï¼Œå…¶ä¿¡å·æœ€ç»ˆä¼šæŠ•å°„åˆ°å¤§è„‘è§†è§‰çš®å±‚çš„ç›¸é‚»åŒºåŸŸã€‚è¿™å½¢æˆäº†ä¸€ä¸ªç²¾ç¡®çš„â€œè„‘å†…åœ°å›¾â€ï¼Œå¿ å®åœ°ä¿ç•™äº†å¤–ç•Œçš„ç©ºé—´å…³ç³»ã€‚</li>
<li><strong>ç‰¹å¾æå–</strong>ï¼šå¤§è„‘çš®å±‚ä¸åŒçš„ç¥ç»å…ƒä¸“é—¨è´Ÿè´£æå–è§†è§‰åœºæ™¯ä¸­çš„ä¸åŒ<strong>ç©ºé—´ç‰¹å¾</strong>ï¼Œå¦‚ï¼š
<ul>
<li><strong>ç®€å•ç»†èƒ</strong>ï¼šå“åº”ç‰¹å®šä½ç½®çš„äº®æš—è¾¹ç•Œã€‚</li>
<li><strong>å¤æ‚ç»†èƒ</strong>ï¼šå“åº”ç‰¹å®šæ–¹å‘çš„çº¿æ¡ï¼Œæ— è®ºå…¶å…·ä½“ä½ç½®ã€‚</li>
<li><strong>é¢œè‰²ç»†èƒ</strong>ï¼šå¤„ç†ä¸åŒæ³¢é•¿ï¼ˆé¢œè‰²ï¼‰çš„å¯¹æ¯”ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li><strong>æ€»ç»“</strong>ï¼šè§†è§‰ä¿¡æ¯è¢«<strong>å¹¶è¡Œå¤„ç†</strong>ï¼Œå¤§è„‘åŒæ—¶å¤„ç†ç‰©ä½“çš„å½¢çŠ¶ã€é¢œè‰²ã€è¿åŠ¨ã€æ·±åº¦ç­‰å¤§é‡ç©ºé—´å±æ€§ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¬è§‰ - ä¾§é‡äºæ—¶é—´ç¼–ç </strong></p>
<ul>
<li><strong>é¢‘ç‡åˆ†æï¼ˆä½ç½®åŸç†ï¼‰</strong>ï¼šè€³èœ—çš„åŸºåº•è†œä¸åŒåŒºåŸŸå¯¹ä¸åŒé¢‘ç‡çš„å£°æ³¢äº§ç”Ÿæœ€å¤§å…±æŒ¯ã€‚é«˜é¢‘å£°æ³¢åœ¨åŸºåº•è†œå…¥å£å¤„æŒ¯åŠ¨æœ€å‰§çƒˆï¼Œä½é¢‘å£°æ³¢åˆ™åœ¨æœ«ç«¯ã€‚è¿™å½¢æˆäº†ä¸€ä¸ª<strong>éŸ³è°ƒæ‹“æ‰‘å›¾</strong>ã€‚ä¸åŒä½ç½®çš„æ¯›ç»†èƒå°†ä¸åŒé¢‘ç‡çš„ä¿¡æ¯ä¼ é€’ç»™å¤§è„‘ã€‚</li>
<li><strong>æ—¶é—´é”å®š</strong>ï¼šå¯¹äºä¸­ä½é¢‘å£°éŸ³ï¼ˆçº¦ below 4000 Hzï¼‰ï¼Œå¬ç¥ç»çº¤ç»´çš„åŠ¨ä½œç”µä½èƒ½å¤Ÿ<strong>é”å®š</strong>åœ¨å£°æ³¢çš„ç‰¹å®šç›¸ä½ä¸Šã€‚è¿™ç§ç²¾ç¡®çš„<strong>æ—¶é—´ç¼–ç </strong>æ˜¯å¤§è„‘åˆ¤æ–­å£°éŸ³é¢‘ç‡å’Œæ„ŸçŸ¥èŠ‚å¥ã€éŸ³è°ƒçš„å…³é”®ã€‚</li>
<li><strong>å¼ºåº¦ç¼–ç </strong>ï¼šå£°éŸ³çš„å“åº¦ä¸»è¦é€šè¿‡æ¿€æ´»çš„æ¯›ç»†èƒæ•°é‡å’Œå¬ç¥ç»çº¤ç»´çš„æ”¾ç”µé¢‘ç‡æ¥ç¼–ç ã€‚</li>
<li><strong>æ€»ç»“</strong>ï¼šå¬è§‰ä¿¡æ¯æ˜¯<strong>ä¸²è¡Œå’Œå¹¶è¡Œç»“åˆ</strong>çš„ï¼Œé¢‘ç‡ä¿¡æ¯æ˜¯å¹¶è¡Œçš„ï¼ˆä¸åŒä½ç½®å¯¹åº”ä¸åŒé¢‘ç‡ï¼‰ï¼Œä½†å£°éŸ³æœ¬èº«æ˜¯ä¸€ä¸ªéšæ—¶é—´å±•å¼€çš„åºåˆ—ï¼Œå¯¹æ—¶é—´é¡ºåºæå…¶æ•æ„Ÿã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">4. å¤§è„‘çš®å±‚å¤„ç†ä¸­æ¢</h3>
<ul>
<li><strong>è§†è§‰</strong>ï¼šä¿¡å·ä¸»è¦ä¼ è‡³å¤§è„‘æ•å¶çš„<strong>åˆçº§è§†è§‰çš®å±‚ï¼ˆV1ï¼‰</strong>ï¼Œç„¶ååˆ†æµåˆ°â€œè…¹ä¾§é€šè·¯â€ï¼ˆé¢å¶ï¼Œè¯†åˆ«ç‰©ä½“æ˜¯ä»€ä¹ˆï¼‰å’Œâ€œèƒŒä¾§é€šè·¯â€ï¼ˆé¡¶å¶ï¼Œå¤„ç†ç©ºé—´ä½ç½®å’Œè¿åŠ¨ï¼‰ã€‚</li>
<li><strong>å¬è§‰</strong>ï¼šä¿¡å·ä¸»è¦ä¼ è‡³å¤§è„‘é¢å¶çš„<strong>åˆçº§å¬è§‰çš®å±‚</strong>ï¼Œä¹ŸæŒ‰â€œä»€ä¹ˆé€šè·¯â€ï¼ˆè¯†åˆ«å£°éŸ³å†…å®¹ï¼Œå¦‚è¨€è¯­ï¼‰å’Œâ€œå“ªé‡Œé€šè·¯â€ï¼ˆå®šä½å£°éŸ³æ¥æºï¼‰è¿›è¡Œåˆ†æµã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">æ€»ç»“å¯¹æ¯”è¡¨</h3>


















































<table><thead><tr><th align="left">ç‰¹å¾ç»´åº¦</th><th align="left">è§†è§‰</th><th align="left">å¬è§‰</th></tr></thead><tbody><tr><td align="left"><strong>èƒ½é‡è½½ä½“</strong></td><td align="left">å…‰å­ï¼ˆç”µç£æ³¢ï¼‰</td><td align="left">å£°å­/å£°æ³¢ï¼ˆæœºæ¢°æ³¢ï¼‰</td></tr><tr><td align="left"><strong>ä¿¡å·æœ¬è´¨</strong></td><td align="left">ç©ºé—´åˆ†å¸ƒã€æ³¢é•¿</td><td align="left">æ—¶é—´åºåˆ—ã€é¢‘ç‡</td></tr><tr><td align="left"><strong>æ„Ÿå—å™¨ç»†èƒ</strong></td><td align="left">è§†æ†/è§†é”¥ç»†èƒ</td><td align="left">æ¯›ç»†èƒ</td></tr><tr><td align="left"><strong>ä¿¡å·è½¬æ¢</strong></td><td align="left"><strong>å…‰åŒ–å­¦è½¬æ¢</strong>ï¼ˆè§†è‰²ç´ æ„è±¡å˜åŒ–ï¼‰</td><td align="left"><strong>æœºæ¢°ç”µè½¬æ¢</strong>ï¼ˆçº¤æ¯›åæ–œï¼‰</td></tr><tr><td align="left"><strong>åˆå§‹ç”µä¿¡å·</strong></td><td align="left">æ„Ÿå…‰ç»†èƒ<strong>è¶…æåŒ–</strong>ï¼ˆæŠ‘åˆ¶ï¼‰</td><td align="left">æ¯›ç»†èƒ<strong>å»æåŒ–</strong>ï¼ˆå…´å¥‹ï¼‰</td></tr><tr><td align="left"><strong>æ ¸å¿ƒç¼–ç åŸåˆ™</strong></td><td align="left"><strong>ç©ºé—´ä½ç½®æ‹“æ‰‘å›¾</strong></td><td align="left"><strong>é¢‘ç‡ä½ç½®æ‹“æ‰‘å›¾</strong> + <strong>æ—¶é—´é”å®š</strong></td></tr><tr><td align="left"><strong>ä¿¡æ¯å¤„ç†ä¾§é‡</strong></td><td align="left">å½¢çŠ¶ã€é¢œè‰²ã€ç©ºé—´å…³ç³»ã€è¿åŠ¨</td><td align="left">éŸ³è°ƒã€èŠ‚å¥ã€æ—¶åºã€è¨€è¯­/éŸ³ä¹</td></tr><tr><td align="left"><strong>æ„ŸçŸ¥ä¼˜åŠ¿</strong></td><td align="left"><strong>â€œæ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªé‡Œï¼Ÿâ€</strong></td><td align="left"><strong>â€œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä»å“ªæ¥ï¼Ÿâ€</strong>ï¼ˆä¸æ—¶é—´æµç´§å¯†ç›¸å…³ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">ç»“è®º</h3>
<p>ä»å¾®è§‚è§’åº¦çœ‹ï¼Œè§†è§‰å’Œå¬è§‰çš„æ ¹æœ¬åŒºåˆ«æºäºå®ƒä»¬æ‰€å¤„ç†çš„ç‰©ç†èƒ½é‡ï¼ˆå…‰ vs. å£°ï¼‰çš„æ ¹æœ¬ä¸åŒã€‚è¿™ç§å·®å¼‚å¯¼è‡´äº†ç”Ÿç‰©è¿›åŒ–å‡ºå®Œå…¨ä¸åŒçš„æ„Ÿå—å™¨ç»†èƒï¼ˆå…‰åŒ–å­¦æ„Ÿå— vs. æœºæ¢°æ„Ÿå—ï¼‰å’Œç¥ç»ç¼–ç ç­–ç•¥ï¼ˆç©ºé—´åœ°å›¾ vs. æ—¶é—´é¢‘ç‡åˆ†æï¼‰ã€‚æœ€ç»ˆï¼Œå®ƒä»¬ä¸ºæˆ‘ä»¬çš„å¤§è„‘æä¾›äº†äº’è¡¥çš„â€œæ•°æ®æµâ€ï¼šè§†è§‰æ„å»ºäº†ä¸€ä¸ªç¨³å®šã€è¯¦ç»†çš„ç©ºé—´ä¸–ç•Œæ¨¡å‹ï¼Œè€Œå¬è§‰åˆ™æ•æ‰ç€è¿™ä¸ªä¸–ç•Œä¸­æµåŠ¨å˜åŒ–çš„ã€å¯Œå«æ„ä¹‰çš„æ—¶é—´äº‹ä»¶åºåˆ—ã€‚</p>
<hr/>
<p>è§†è§‰ä¿¡æ¯ç¡®å®å…·æœ‰å¼ºçƒˆçš„æ—¶é—´åºåˆ—å±æ€§ï¼Œä½†å…¶å¤„ç†æ–¹å¼ä¸å¬è§‰æœ‰æ ¹æœ¬æ€§çš„ä¸åŒã€‚è®©æˆ‘ä»¬æ¥ç»†åŒ–è¿™ä¸ªåŒºåˆ«ã€‚</p>
<h3 data-id="heading-6">è§†è§‰ä¸­çš„æ—¶é—´åºåˆ—ï¼šåŠ¨æ€ä¸å˜åŒ–çš„æ•æ‰</h3>
<p>è§†è§‰ç³»ç»Ÿå¤„ç†æ—¶é—´ä¿¡æ¯ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>è¿åŠ¨æ„ŸçŸ¥</strong>ï¼šè¿™æ˜¯è§†è§‰æ—¶é—´å¤„ç†æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚å¤§è„‘æœ‰ä¸“é—¨çš„è„‘åŒºï¼ˆå¦‚MT/V5åŒºï¼‰æ¥æ£€æµ‹å›¾åƒåœ¨è§†ç½‘è†œä¸Šçš„<strong>ä½ç½®éšæ—¶é—´çš„å˜åŒ–</strong>ã€‚ä¸€ä¸ªè¿åŠ¨çš„ç‰©ä½“ï¼Œå…¶åœ¨è§†ç½‘è†œä¸Šçš„æˆåƒä½ç½®è¿ç»­å˜åŒ–ï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„æ—¶é—´åºåˆ—ä¿¡å·ã€‚</li>
<li><strong>å˜åŒ–æ£€æµ‹</strong>ï¼šå½“åœºæ™¯ä¸­çš„æŸä¸ªéƒ¨åˆ†çªç„¶å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆä¾‹å¦‚äº®åº¦ã€é¢œè‰²ã€ç‰©ä½“çš„å‡ºç°æˆ–æ¶ˆå¤±ï¼‰ï¼Œè§†è§‰ç³»ç»Ÿä¼šäº§ç”Ÿä¸€ä¸ªå¼ºçƒˆçš„ä¿¡å·ã€‚è¿™ä¾èµ–äºå¯¹â€œä¹‹å‰â€å’Œâ€œä¹‹åâ€çŠ¶æ€çš„å¿«é€Ÿæ¯”è¾ƒã€‚</li>
<li><strong>è§†è§‰æš‚ç•™</strong>ï¼šç°è±¡å¦‚çœ‹ç”µå½±ã€åŠ¨ç”»ï¼Œéƒ½ä¾èµ–äºè§†è§‰ç³»ç»Ÿå°†å¿«é€Ÿè¿ç»­å‘ˆç°çš„é™æ€ç”»é¢ï¼ˆæ¯ç§’24å¸§æˆ–æ›´å¤šï¼‰æ•´åˆæˆä¸€ä¸ªå¹³æ»‘çš„è¿åŠ¨å¹»è§‰ã€‚è¿™ç›´æ¥è¯æ˜äº†è§†è§‰å¤„ç†åœ¨æ—¶é—´ä¸Šçš„æ•´åˆèƒ½åŠ›ã€‚</li>
<li><strong>åŠ¨æ€å½¢çŠ¶è¯†åˆ«</strong>ï¼šæˆ‘ä»¬ä¸ä»…èƒ½è¯†åˆ«é™æ€çš„ç‰©ä½“ï¼Œè¿˜èƒ½é€šè¿‡å…¶è¿åŠ¨æ¨¡å¼æ¥è¯†åˆ«ç‰©ä½“ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ä¸€ä¸ªäººèµ°è·¯çš„å§¿æ€ï¼ˆå³â€œç”Ÿç‰©è¿åŠ¨â€ï¼‰å°±èƒ½è¯†åˆ«å‡ºé‚£æ˜¯ä¸ªäººï¼Œç”šè‡³èƒ½åˆ¤æ–­å…¶æƒ…ç»ªã€‚</li>
</ol>
<h3 data-id="heading-7">ä¸å¬è§‰æ—¶é—´å¤„ç†çš„å¾®è§‚æ ¸å¿ƒåŒºåˆ«</h3>
<p>å°½ç®¡ä¸¤è€…éƒ½å¤„ç†æ—¶é—´ä¿¡æ¯ï¼Œä½†å®ƒä»¬çš„<strong>å¤„ç†ç›®æ ‡å’Œç¥ç»æœºåˆ¶çš„ä¾§é‡ç‚¹</strong>æˆªç„¶ä¸åŒã€‚</p>






























<table><thead><tr><th align="left">ç‰¹å¾ç»´åº¦</th><th align="left"><strong>å¬è§‰ï¼ˆæ ¸å¿ƒæ¨¡å¼ï¼‰</strong></th><th align="left"><strong>è§†è§‰ä¸­çš„æ—¶é—´å¤„ç†</strong></th></tr></thead><tbody><tr><td align="left"><strong>ä¿¡æ¯çš„æœ¬è´¨</strong></td><td align="left"><strong>ä¿¡æ¯æœ¬èº«å­˜åœ¨äºæ—¶é—´ç»“æ„ä¸­</strong>ã€‚ä¸€ä¸ªéŸ³ç¬¦ã€ä¸€ä¸ªéŸ³èŠ‚ã€ä¸€æ®µæ—‹å¾‹ï¼Œå…¶<strong>èº«ä»½</strong>æ˜¯ç”±å…¶ç²¾ç¡®çš„æ—¶é—´æ³¢å½¢å’Œé¢‘ç‡å˜åŒ–å®šä¹‰çš„ã€‚</td><td align="left"><strong>ä¿¡æ¯æœ¬èº«ä¸»è¦æ˜¯ç©ºé—´ç»“æ„ï¼Œå˜åŒ–æ˜¯é™„åŠ å±æ€§</strong>ã€‚ä¸€ä¸ªè‹¹æœçš„èº«ä»½æ˜¯å®ƒçš„å½¢çŠ¶å’Œé¢œè‰²ï¼Œå®ƒçš„â€œæ»šåŠ¨â€æ˜¯è¿™ä¸ªè‹¹æœå±æ€§çš„å˜åŒ–ã€‚</td></tr><tr><td align="left"><strong>æ—¶é—´ç²¾åº¦</strong></td><td align="left"><strong>æé«˜ï¼ˆæ¯«ç§’çº§ï¼‰</strong>ã€‚å¤§è„‘éœ€è¦ç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶åºæ¥åˆ¤æ–­å£°éŸ³æ¥æºï¼ˆåŒè€³æ—¶é—´å·®ï¼‰ã€åˆ†è¾¨è¯­éŸ³ä¸­çš„è¾…éŸ³ï¼ˆå¦‚/ba/å’Œ/pa/ï¼‰ã€æ„ŸçŸ¥éŸ³ä¹çš„èŠ‚å¥å’ŒéŸµå¾‹ã€‚</td><td align="left"><strong>ç›¸å¯¹è¾ƒä½ï¼ˆååˆ°å‡ åæ¯«ç§’ï¼‰</strong>ã€‚è™½ç„¶è¿åŠ¨æ„ŸçŸ¥å¾ˆå¿«ï¼Œä½†å…¶æ‰€éœ€çš„æ—¶é—´ç²¾åº¦è¿œä½äºå¬è§‰ä¸­å¯¹éŸ³ç´ å’ŒèŠ‚å¥çš„åŒºåˆ†ã€‚è§†è§‰æš‚ç•™çš„çª—å£å¤§çº¦åœ¨40-100æ¯«ç§’ã€‚</td></tr><tr><td align="left"><strong>ç¥ç»ç¼–ç æœºåˆ¶</strong></td><td align="left"><strong>ç›¸ä½é”å®š</strong>ï¼šå¬ç¥ç»å…ƒçš„æ”¾ç”µä¼šä¸å£°æ³¢çš„ç‰¹å®šç›¸ä½åŒæ­¥ã€‚è¿™ç§ç²¾ç¡®çš„<strong>æ—¶é—´ç¼–ç </strong>æ˜¯é¢‘ç‡å’ŒèŠ‚å¥æ„ŸçŸ¥çš„åŸºç¡€ã€‚</td><td align="left"><strong>å·®åˆ†ä¸ç›¸å…³</strong>ï¼šè¿åŠ¨æ„ŸçŸ¥é€šå¸¸é€šè¿‡æ¯”è¾ƒç›¸é‚»è§†ç½‘è†œåŒºåŸŸä¿¡å·<strong>åˆ°è¾¾çš„æ—¶é—´å·®</strong>ï¼Œæˆ–æ£€æµ‹ç‰¹å®šç¥ç»å…ƒå¯¹è¿åŠ¨æ–¹å‘<strong>çš„é€‰æ‹©æ€§</strong>æ¥å®ç°ã€‚å®ƒæ˜¯ä¸€ç§å¯¹å˜åŒ–çš„<strong>æ£€æµ‹</strong>ï¼Œè€Œéå¯¹åŸå§‹æ³¢å½¢çš„<strong>å¤åˆ¶</strong>ã€‚</td></tr><tr><td align="left"><strong>ä¸€ä¸ªæ¯”å–»</strong></td><td align="left"><strong>ä¹è°±</strong>ï¼šä¹è°±ä¸Šçš„éŸ³ç¬¦å¿…é¡»æŒ‰ä¸¥æ ¼çš„<strong>æ—¶é—´åºåˆ—</strong>æ¼”å¥ï¼Œæ—¶é—´æœ¬èº«å°±æ˜¯éŸ³ä¹çš„<strong>éª¨æ¶</strong>ã€‚</td><td align="left"><strong>è¿ç¯ç”»/ç¿»é¡µåŠ¨ç”»</strong>ï¼šæ¯ä¸€é¡µéƒ½æ˜¯ä¸€å¹…å®Œæ•´çš„<strong>ç©ºé—´ç”»é¢</strong>ï¼Œå¿«é€Ÿç¿»é¡µï¼ˆæ—¶é—´åºåˆ—ï¼‰äº§ç”Ÿäº†è¿åŠ¨çš„<strong>å¹»è§‰</strong>ï¼Œä½†æ¯ä¸€é¡µçš„ç‹¬ç«‹æ€§å¾ˆå¼ºã€‚</td></tr></tbody></table>
<h3 data-id="heading-8">ç»“è®ºä¿®æ­£</h3>
<p>æ›´å‡†ç¡®çš„è¡¨è¿°æ˜¯ï¼š</p>
<ul>
<li><strong>å¬è§‰æ˜¯â€œåŸºäºæ—¶é—´çš„æ„Ÿå®˜â€</strong>ã€‚æ—¶é—´åºåˆ—æ˜¯å…¶ä¿¡æ¯çš„<strong>åŸç”Ÿè½½ä½“</strong>å’Œ<strong>æ ¸å¿ƒå®šä¹‰</strong>ã€‚æ²¡æœ‰ç²¾ç¡®çš„æ—¶é—´å¤„ç†ï¼Œå¬è§‰ä¿¡æ¯å°±å¤±å»äº†æ„ä¹‰ã€‚</li>
<li><strong>è§†è§‰æ˜¯â€œåŸºäºç©ºé—´çš„æ„Ÿå®˜â€</strong>ã€‚å®ƒåŸç”Ÿåœ°ã€å¹¶è¡Œåœ°å¤„ç†ç©ºé—´åˆ†å¸ƒä¿¡æ¯ã€‚ä½†åŒæ—¶ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ªå¼ºå¤§ä¸”å¿…è¦çš„<strong>æ¬¡çº§æ—¶é—´å¤„ç†ç³»ç»Ÿ</strong>ï¼Œä¸“é—¨ç”¨äºè§£æç©ºé—´ä¿¡æ¯<strong>éšæ—¶é—´çš„å˜åŒ–</strong>ï¼Œä»è€Œæ„ŸçŸ¥è¿åŠ¨å’ŒåŠ¨æ€äº‹ä»¶ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œæ‚¨çš„è§‚ç‚¹å®Œå…¨æ­£ç¡®ï¼šè§†è§‰ä¿¡æ¯ç¡®å®åŒ…å«å¹¶å¤„ç†æ—¶é—´åºåˆ—ã€‚å…³é”®çš„åŒºåˆ«åœ¨äºï¼Œæ—¶é—´å¯¹äºå¬è§‰æ˜¯<strong>å®šä¹‰æ€§çš„</strong>ï¼Œè€Œå¯¹äºè§†è§‰ï¼Œæ—¶é—´æ›´å¤šçš„æ˜¯ç”¨äºæè¿°å…¶ç©ºé—´å±æ€§<strong>å¦‚ä½•å˜åŒ–</strong>çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠŠ 16MB ä¸­æ–‡å­—ä½“å‹åˆ° 400KBï¼šæˆ‘å†™äº†ä¸€ä¸ª Vite å­—ä½“å­é›†æ’ä»¶]]></title>    <link>https://juejin.cn/post/7574270661864620059</link>    <guid>https://juejin.cn/post/7574270661864620059</guid>    <pubDate>2025-11-19T06:47:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574270661864620059" data-draft-id="7573670400153944116" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠŠ 16MB ä¸­æ–‡å­—ä½“å‹åˆ° 400KBï¼šæˆ‘å†™äº†ä¸€ä¸ª Vite å­—ä½“å­é›†æ’ä»¶"/> <meta itemprop="keywords" content="Vite,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2025-11-19T06:47:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰¹çº§ä¸šåŠ¡ä¸“å®¶"/> <meta itemprop="url" content="https://juejin.cn/user/2101921961481512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠŠ 16MB ä¸­æ–‡å­—ä½“å‹åˆ° 400KBï¼šæˆ‘å†™äº†ä¸€ä¸ª Vite å­—ä½“å­é›†æ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2101921961481512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰¹çº§ä¸šåŠ¡ä¸“å®¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:47:48.000Z" title="Wed Nov 19 2025 06:47:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>ä¸€ä¸ªçœŸå®çš„å‰ç«¯é¡¹ç›®é‡Œï¼Œæˆ‘é‡åˆ°ä¸€ä¸ªå¾ˆå¸¸è§å´åˆå®¹æ˜“è¢«å¿½è§†çš„é—®é¢˜ï¼šä¸€å¥—ä¸­æ–‡ç•Œé¢ï¼Œä¸ºäº†ä¿è¯è§†è§‰æ•ˆæœå¼•å…¥äº†æ•´å¥—ä¸­æ–‡å­—ä½“æ–‡ä»¶ï¼Œç»“æœå•å­—ä½“å°±å äº†åå‡  MBï¼Œæ„å»ºäº§ç‰©å’Œå®‰è£…åŒ…ä½“ç§¯éƒ½è¢«ä¸¥é‡æ‹–ç´¯ã€‚ç°æœ‰æ–¹æ¡ˆè¦ä¹ˆä¾èµ–è¿è¡Œæ—¶ï¼Œè¦ä¹ˆåœ¨å·¥ç¨‹åŒ–é›†æˆä¸Šä¸å¤ªç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚äºæ˜¯æˆ‘å†³å®šå†™ä¸€ä¸ªä¸“é—¨é¢å‘ Vite çš„å­—ä½“å­é›†åŒ–æ’ä»¶ @fe-fast/vite-plugin-font-subsetï¼šåœ¨æ„å»ºé˜¶æ®µè‡ªåŠ¨æ”¶é›†å®é™…ç”¨åˆ°çš„å­—ç¬¦é›†ï¼Œç”Ÿæˆå­é›†åŒ–åçš„ woff2 å­—ä½“ï¼Œå¹¶æ— ç¼æ›¿æ¢åŸæœ‰èµ„æºï¼Œä¸ä¾µå…¥ä¸šåŠ¡ä»£ç ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä¼šåˆ†äº«è¿™ä¸ªæ’ä»¶è¯ç”Ÿçš„èƒŒæ™¯ã€è®¾è®¡ç›®æ ‡ã€å…³é”®å®ç°æ€è·¯ï¼Œä»¥åŠåœ¨çœŸå®é¡¹ç›®ä¸­å¸¦æ¥çš„ä½“ç§¯ä¼˜åŒ–æ•ˆæœï¼Œå¸Œæœ›èƒ½ç»™åŒæ ·è¢«â€œä¸­æ–‡å­—ä½“ä½“ç§¯â€å›°æ‰°çš„ä½ ä¸€äº›å‚è€ƒã€‚</code></p>
<h2 data-id="heading-0">ä¸€ã€é¡¹ç›®èƒŒæ™¯ï¼š16MB çš„ä¸­æ–‡å­—ä½“ï¼ŒæŠŠåŒ…ä½“ç§¯æ‹–å®äº†</h2>
<p>æˆ‘æ—¥å¸¸ä¸»è¦åšçš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ˜¯åŸºäº <strong>Vue3 + Vite + Pinia + Electron</strong> çš„æ¡Œé¢åº”ç”¨ï¼ˆç”µåŠ›è¡Œä¸šä¸šåŠ¡ç³»ç»Ÿï¼‰ã€‚<br/>
è¿™ä¸ªé¡¹ç›®æœ‰ä¸¤ä¸ªå…¸å‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>ä¸­æ–‡ç•Œé¢ + å¤§é‡ä¸šåŠ¡æœ¯è¯­</strong>ï¼šå‡ ä¹æ‰€æœ‰é¡µé¢éƒ½æ˜¯ä¸­æ–‡ï¼Œä¸”æœ‰ä¸å°‘ä¸“ä¸šåè¯</li>
<li><strong>ç¦»çº¿/å¼±ç½‘åœºæ™¯</strong>ï¼šä¸ä»…è¦æ‰“æˆ Electron å®‰è£…åŒ…ï¼Œè¿˜è¦æ”¯æŒåœ¨å¼±ç½‘ç¯å¢ƒä¸‹æ›´æ–°</li>
</ul>
<p>éšç€åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œæˆ‘å¼€å§‹é¢‘ç¹åœ¨æ„å»ºæ—¥å¿—é‡Œçœ‹åˆ°è¿™æ ·ä¸€æ®µâ€œåˆºçœ¼â€çš„å†…å®¹ï¼š</p>
<ul>
<li><code>src/SiYuanHeiTi</code> ç›®å½•é‡Œæœ‰ä¸¤ä»½ <strong>SourceHanSansCN OTF</strong> å­—ä½“</li>
<li>æ¯ä¸€ä»½å¤§æ¦‚ <strong>8MB+</strong>ï¼ŒåŠ èµ·æ¥å°±æ˜¯ <strong>16MB+ çš„çº¯å­—ä½“èµ„æº</strong></li>
</ul>
<p>å“ªæ€•æˆ‘å·²ç»åšäº†ä¸€äº›ä¼˜åŒ–ï¼š</p>
<ul>
<li>å›¾ç‰‡ç”¨ <code>vite-plugin-imagemin</code> å‹ç¼©</li>
<li>ä»£ç åšäº†åŸºç¡€çš„æ‹†åŒ…å’Œæ‡’åŠ è½½</li>
</ul>
<p>ä½†<strong>æ„å»ºäº§ç‰©é‡Œå­—ä½“èµ„æºä»ç„¶æ˜¯ç»å¯¹å¤§å¤´</strong>ã€‚<br/>
ç®€å•è¯´ï¼š<strong>ç”¨æˆ·åªæ˜¯æ‰“å¼€ä¸€ä¸ªä¸­æ–‡ç•Œé¢ï¼Œå´è¦è¢«è¿«ä¸‹è½½å®Œæ•´ä¸€å¥— GBK å­—åº“ï¼Œè¿™æ˜¾ç„¶å¤ªæµªè´¹äº†ã€‚</strong></p>
<h2 data-id="heading-1">äºŒã€é™ä½“ç§¯çš„å‡ ç§æ€è·¯ï¼Œå¯¹æ¯”ä¸€ä¸‹</h2>
<p>åœ¨çœŸæ­£åŠ¨æ‰‹å†™æ’ä»¶ä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠå¯èƒ½çš„æ–¹æ¡ˆéƒ½è¿‡äº†ä¸€éï¼Œæƒè¡¡äº†ä¸€ä¸‹åˆ©å¼Šã€‚</p>
<h3 data-id="heading-2">æ–¹æ¡ˆ 1ï¼šæ¢æˆç³»ç»Ÿå­—ä½“ / å¸¸è§ Web å­—ä½“</h3>
<ul>
<li><strong>ä¼˜åŠ¿</strong>
<ul>
<li>ä¸éœ€è¦é¢å¤–çš„å­—ä½“æ–‡ä»¶ï¼Œä½“ç§¯å‡ ä¹ä¸º 0</li>
</ul>
</li>
<li><strong>åŠ£åŠ¿</strong>
<ul>
<li>è®¾è®¡åŒå­¦è¾›è‹¦åšçš„ UI é£æ ¼ä¼šè¢«ç ´å</li>
<li>è·¨å¹³å°ï¼ˆWindows/macOSï¼‰æ¸²æŸ“æ•ˆæœä¸å¯æ§ï¼Œç‰¹åˆ«æ˜¯å¤æ‚è¡¨æ ¼ã€å›¾å½¢ç•Œé¢</li>
</ul>
</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>
<ul>
<li>å¯¹è§†è§‰ç»Ÿä¸€è¦æ±‚ä¸é«˜çš„åå°ç³»ç»Ÿã€ç®¡ç†å°</li>
</ul>
</li>
<li><strong>å®ç°éš¾åº¦</strong>ï¼šâ­</li>
</ul>
<h3 data-id="heading-3">æ–¹æ¡ˆ 2ï¼šç›´æ¥å¼•å…¥ç°æˆçš„å­—ä½“å­é›†åŒ–å·¥å…· / åœ¨çº¿æœåŠ¡</h3>
<ul>
<li><strong>ä¼˜åŠ¿</strong>
<ul>
<li>ç°æœ‰æ–¹æ¡ˆæˆç†Ÿï¼Œä¸ç”¨è‡ªå·±â€œé€ è½®å­â€</li>
</ul>
</li>
<li><strong>åŠ£åŠ¿</strong>
<ul>
<li>æœ‰äº›æ˜¯åœ¨çº¿æœåŠ¡ï¼Œä¸é€‚åˆå…¬å¸å†…ç½‘/ç¦»çº¿åœºæ™¯</li>
<li>ä¸€äº›å·¥å…·åªå…³æ³¨å‘½ä»¤è¡Œï¼Œä¸å…³æ³¨ <strong>Vite æ„å»ºæµç¨‹</strong> çš„æ— ç¼é›†æˆ</li>
</ul>
</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>
<ul>
<li>çº¯ Web é¡¹ç›®ã€å¯¹ CI/CD ç¯å¢ƒæ›´è‡ªç”±çš„å›¢é˜Ÿ</li>
</ul>
</li>
<li><strong>å®ç°éš¾åº¦</strong>ï¼šâ­â­â­</li>
</ul>
<h3 data-id="heading-4">æ–¹æ¡ˆ 3ï¼šä½¿ç”¨å·²æœ‰çš„ Vite å­—ä½“å­é›†æ’ä»¶</h3>
<p>æˆ‘ä¹Ÿå°è¯•è¿‡ç¤¾åŒºå·²æœ‰çš„ <code>vite-plugin-font-subset</code> ç­‰æ’ä»¶ï¼Œä½†è¸©åˆ°äº†ä¸¤ä¸ªå‘ï¼š</p>
<ol>
<li><strong>ESM-only ä¸ç°æœ‰å·¥ç¨‹çš„å…¼å®¹é—®é¢˜</strong>
<ul>
<li>
<p>æœ‰çš„æ’ä»¶æ˜¯çº¯ ESM åŒ…ï¼Œè€Œæˆ‘å½“æ—¶çš„æ„å»ºé“¾è·¯é‡Œï¼Œ</p>
<p>vite.config.js ä»ç„¶æ˜¯ä»¥ CJS æ–¹å¼è¢« esbuild å¤„ç†</p>
</li>
<li>
<p>ç›´æ¥ <code>import</code> ä¼šåœ¨åŠ è½½é…ç½®é˜¶æ®µå°±æŠ¥ï¼š</p>
<blockquote>
<p>ESM file cannot be loaded by <code>require</code></p>
</blockquote>
</li>
</ul>
</li>
<li><strong>â€œå¤§é‡ä¸­æ–‡ + ç‰¹æ®Šå­—ç¬¦â€åœºæ™¯éœ€è¦æ›´å¤šå¯é…ç½®æ€§</strong></li>
</ol>
<ul>
<li><strong>ä¼˜åŠ¿</strong>
<ul>
<li>ç†è®ºä¸Šâ€œå¼€ç®±å³ç”¨â€ï¼Œå‡ è¡Œé…ç½®å°±èƒ½è·‘</li>
</ul>
</li>
<li><strong>åŠ£åŠ¿</strong>
<ul>
<li>åœ¨æˆ‘çš„é¡¹ç›®ç¯å¢ƒé‡Œï¼Œå…¼å®¹æ€§å’Œå¯æ‰©å±•æ€§éƒ½æœ‰ä¸€äº›é™åˆ¶</li>
</ul>
</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>
<ul>
<li>Node / Vite é…ç½®å·²ç»å®Œå…¨ ESM åŒ–çš„æ–°é¡¹ç›®</li>
</ul>
</li>
<li><strong>å®ç°éš¾åº¦</strong>ï¼šâ­â­</li>
</ul>
<p><strong>æ¨èé€‰æ‹© &amp; æˆ‘çš„å†³ç­–</strong>ï¼š</p>
<ul>
<li>
<p>åœ¨ç»¼åˆæƒè¡¡ä¹‹åï¼Œæˆ‘é€‰æ‹©äº†ï¼š<br/>
<strong>â€œåœ¨ Vite æ’ä»¶ä½“ç³»å†…ï¼Œå†™ä¸€ä¸ªé€‚é…è‡ªå·±é¡¹ç›®çš„å­—ä½“å­é›†åŒ–æ’ä»¶ï¼Œå¹¶æŠ½è±¡æˆé€šç”¨æ’ä»¶å‘å¸ƒå‡ºæ¥â€</strong>ã€‚</p>
</li>
<li>
<p>äºæ˜¯å°±æœ‰äº†ä»Šå¤©çš„è¿™ä¸ªåŒ…ï¼š<br/>
**</p>
<p>fe-fast/vite-plugin-font-subset**</p>
</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€æˆ‘ç»™æ’ä»¶å®šä¸‹çš„å‡ ä¸ªç›®æ ‡</h2>
<p>åœ¨çœŸæ­£æ•²ä»£ç ä¹‹å‰ï¼Œæˆ‘ç»™è¿™ä¸ªæ’ä»¶å®šäº†å‡ ä¸ªå¾ˆå…·ä½“çš„ç›®æ ‡ï¼š</p>
<ol>
<li>
<p><strong>é›¶è¿è¡Œæ—¶å¼€é”€</strong></p>
<ul>
<li>æ‰€æœ‰å·¥ä½œéƒ½åœ¨ <code>vite build</code> é˜¶æ®µå®Œæˆ</li>
<li>è¿è¡Œæ—¶åªåŠ è½½å­é›†åçš„ woff/woff2 æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>å¯¹ç°æœ‰é¡¹ç›®â€œä¾µå…¥æ„Ÿâ€è¶³å¤Ÿä½</strong></p>
<ul>
<li>åªéœ€è¦åœ¨ <code>vite.config</code> é‡Œå¢åŠ ä¸€ä¸ªæ’ä»¶é…ç½®</li>
<li>ä¸è¦æ±‚ä½ æ”¹åŠ¨ä¸šåŠ¡ä»£ç é‡Œçš„ <code>font-family</code> æˆ–é™æ€èµ„æºå¼•ç”¨æ–¹å¼</li>
</ul>
</li>
<li>
<p><strong>å…¼å®¹æˆ‘å½“å‰çš„å·¥ç¨‹å½¢æ€</strong></p>
<ul>
<li>æ”¯æŒ Electron + Vite çš„åœºæ™¯</li>
<li>é¿å…â€œESM-only æ’ä»¶ + CJS é…ç½®â€è¿™ç§åŠ è½½å¤±è´¥é—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>é»˜è®¤å°±èƒ½è§£å†³â€œä¸­æ–‡å¤§å­—ä½“â€é—®é¢˜</strong></p>
<ul>
<li>åœ¨ä¸é…ç½®ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯¹äºå¸¸è§„çš„ä¸­æ–‡é¡µé¢ï¼Œèƒ½ç›´æ¥å‡æ‰å¤§éƒ¨åˆ†æ— ç”¨å­—å½¢</li>
</ul>
</li>
</ol>
<h2 data-id="heading-6">å››ã€æ ¸å¿ƒæ€è·¯ï¼šä»å­—ç¬¦é›†åˆ°å­é›†å­—ä½“çš„æµæ°´çº¿</h2>
<p>å…·ä½“å®ç°ç»†èŠ‚çº¿ä¸Šå¯ä»¥çœ‹æºç ï¼Œè¿™é‡Œæ›´ä¾§é‡è®²æ¸…æ¥šâ€œæ€è·¯â€ï¼Œæ–¹ä¾¿å¤§å®¶è‡ªå·±æ‰©å±•æˆ–å®ç°ç±»ä¼¼æ’ä»¶ã€‚</p>
<p>æ•´ä¸ªæ’ä»¶çš„æ‰§è¡Œé“¾è·¯ï¼Œå¤§è‡´å¯ä»¥æ‹†æˆå››æ­¥ï¼š</p>
<h3 data-id="heading-7">1. æ”¶é›†å¯èƒ½ä¼šç”¨åˆ°çš„å­—ç¬¦é›†</h3>
<ul>
<li>æ‰«ææ„å»ºäº§ç‰©ï¼ˆæˆ–è€…æºç ï¼‰é‡Œçš„ï¼š
<ul>
<li>æ¨¡æ¿ä¸­çš„ä¸­æ–‡æ–‡æ¡ˆ</li>
<li>å›½é™…åŒ–æ–‡æ¡ˆ JSON</li>
<li>å¸¸è§ UI ç»„ä»¶ä¸­çš„é™æ€å­—ç¬¦</li>
</ul>
</li>
<li>åšä¸€äº›å»é‡å’Œè¿‡æ»¤ï¼Œå¾—åˆ°ä¸€ä¸ª <strong>ç›¸å¯¹å®Œæ•´ä½†ä¸è¿‡åº¦è†¨èƒ€çš„å­—ç¬¦é›†åˆ</strong>ã€‚</li>
</ul>
<blockquote>
<p>è¿™é‡Œçš„å…³é”®æ˜¯å¹³è¡¡ï¼š</p>
<ul>
<li>é›†åˆå¤ªå°ï¼šç”Ÿäº§ç¯å¢ƒä¼šå‡ºç°â€œå£å£å£/å°æ–¹å—â€</li>
<li>é›†åˆå¤ªå¤§ï¼šå­é›†åŒ–æ”¶ç›Šä¼šå˜å·®</li>
</ul>
</blockquote>
<h3 data-id="heading-8">2. è°ƒç”¨å­é›†åŒ–å¼•æ“ç”Ÿæˆå­é›†å­—ä½“</h3>
<ul>
<li>å°†â€œåŸå§‹ OTF/TTF å­—ä½“æ–‡ä»¶ + ä¸Šé¢çš„å­—ç¬¦é›†â€äº¤ç»™å­é›†å·¥å…·</li>
<li>è¾“å‡ºä¸€ä»½æˆ–å¤šä»½æ–°çš„å­—ä½“æ–‡ä»¶ï¼ˆä¼˜å…ˆ woff2ï¼‰</li>
</ul>
<p>åœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œæœ€ç»ˆç”Ÿæˆçš„ç»“æœç±»ä¼¼æ„å»ºæ—¥å¿—ä¸­çš„è¿™ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss">textSourceHanSansCN-<span class="hljs-attribute">Normal</span>-xxxx<span class="hljs-selector-class">.woff2</span>    <span class="hljs-number">223.97</span> kBSourceHanSansCN-Medium-xxxx<span class="hljs-selector-class">.woff2</span>    <span class="hljs-number">224.79</span> kB
</code></pre>
<p>ç›¸æ¯”æœ€åˆ <strong>ä¸¤ä»½ 8MB+ çš„ OTF æ–‡ä»¶</strong>ï¼Œä½“ç§¯å·²ç»è¢«å‹åˆ°äº†å¤§çº¦ååˆ†ä¹‹ä¸€å·¦å³ã€‚</p>
<h3 data-id="heading-9">3. æ›´æ–° CSS / èµ„æºå¼•ç”¨</h3>
<ul>
<li>
<p>åœ¨åŸæœ‰çš„</p>
<p>font-face å£°æ˜åŸºç¡€ä¸Šï¼Œä¿®æ”¹ <code>src</code> æŒ‡å‘å­é›†åŒ–åçš„æ–‡ä»¶</p>
</li>
<li>
<p>å¯¹äº Vite ç”Ÿæˆçš„é™æ€èµ„æºç›®å½•ï¼ˆå¦‚ <code>dist/prsas_static</code>ï¼‰ï¼Œä¿æŒè¾“å‡ºè·¯å¾„ç¨³å®šï¼Œé¿å…ç ´åç°æœ‰å¼•ç”¨</p>
</li>
</ul>
<p>è¿™ä¸€éƒ¨åˆ†çš„ç›®æ ‡æ˜¯ï¼š<strong>å¯¹ä¸šåŠ¡ä»£ç å®Œå…¨é€æ˜</strong>ï¼Œä½ ä»ç„¶å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-css" lang="css">cssbody {  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'SourceHanSansCN'</span>, -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, sans-serif;}
</code></pre>
<p>åªæ˜¯æœ€ç»ˆåŠ è½½çš„èµ„æºï¼Œä¸å†æ˜¯åŸæ¥é‚£ä¸¤ä¸ª 8MB çš„ OTFï¼Œè€Œæ˜¯å‡ ç™¾ KB çš„å­é›† woff2ã€‚</p>
<h3 data-id="heading-10">4. å’Œ Vite æ„å»ºæµç¨‹é›†æˆ</h3>
<ul>
<li>é€šè¿‡ Vite æ’ä»¶ APIï¼Œåœ¨åˆé€‚çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚ <code>configResolved</code>ã€<code>generateBundle</code> ç­‰ï¼‰
<ul>
<li>æ‹¿åˆ°æœ€ç»ˆè¾“å‡ºç›®å½•</li>
<li>è§¦å‘ä¸Šé¢çš„å­é›†åŒ–æµæ°´çº¿</li>
<li>å°†ç”Ÿæˆçš„æ–‡ä»¶å†™å›åˆ° Rollup æ„å»ºäº§ç‰©ä¸­</li>
</ul>
</li>
</ul>
<p>æ ¸å¿ƒåŸåˆ™å°±æ˜¯ï¼š<strong>ä¸æ‰“ç ´ Vite åŸæœ‰å·¥ä½œæµï¼Œåªæ˜¯â€œåœ¨å°¾éƒ¨æ’ä¸€ä¸ªå­é›†åŒ–æ­¥éª¤â€</strong>ã€‚</p>
<h2 data-id="heading-11">äº”ã€åœ¨çœŸå®é¡¹ç›®ä¸­çš„æ•ˆæœ</h2>
<p>ä»¥æˆ‘è¿™ä¸ª Electron + Vite é¡¹ç›®ä¸ºä¾‹ï¼Œå¯ç”¨</p>
<p>fe-fast/vite-plugin-font-subset ä¹‹åï¼š</p>
<ul>
<li>åŸæ¥ä¸¤ä»½ <strong>8MB+ çš„ OTF ä¸­æ–‡å­—ä½“</strong></li>
<li>å˜æˆä¸¤ä»½ <strong>ä¸¤ç™¾å¤š KB çš„ woff2 å­é›†å­—ä½“</strong></li>
<li>å¯¹æ¯”ç»“æœéå¸¸ç›´è§‚ï¼š
<ul>
<li>å®‰è£…åŒ…ä½“ç§¯æ˜æ˜¾ä¸‹é™</li>
<li>é¦–æ¬¡åŠ è½½é€Ÿåº¦ã€å¢é‡æ›´æ–°é€Ÿåº¦éƒ½æœ‰è‚‰çœ¼å¯è§çš„æå‡</li>
<li>ç”¨æˆ·å‡ ä¹æ„Ÿå—ä¸åˆ°è§†è§‰ä¸Šçš„å·®å¼‚</li>
</ul>
</li>
</ul>
<p>é…åˆ <code>vite-plugin-imagemin</code> å¯¹ PNG ç­‰å›¾ç‰‡èµ„æºçš„å‹ç¼©ï¼Œæ•´ä½“æ„å»ºä½“éªŒä¹Ÿå˜æˆäº†ï¼š</p>
<ul>
<li><strong>æ„å»ºæ—¶é—´é•¿ä¸€ç‚¹</strong>ï¼ˆå¤šäº†å­—ä½“å­é›†åŒ–å’Œå›¾ç‰‡å‹ç¼©ï¼‰ï¼Œä½†å±äºâ€œå¯æ¥å—çš„ç¦»çº¿è®¡ç®—â€</li>
<li>æ¢æ¥çš„æ˜¯ <strong>æ›´å°çš„å®‰è£…åŒ…ã€æ›´å¿«çš„é¦–å±ä½“éªŒ</strong>ï¼Œå°¤å…¶é€‚åˆå¼±ç½‘å’Œå†…ç½‘ç¯å¢ƒ</li>
</ul>
<h2 data-id="heading-12">å…­ã€å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ’ä»¶</h2>
<p>ç®€å•è¯´ä¸€ä¸‹ä½¿ç”¨æ–¹å¼ï¼ˆä»…ä½œç¤ºæ„ï¼Œå…·ä½“å‚æ•°å¯ä»¥çœ‹ READMEï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">bashnpm install -D <span class="hljs-keyword">@fe-fast</span>/vite-plugin-font-subset

ts// vite.config.ts / vite.config.jsimport fontSubsetPlugin from <span class="hljs-string">'@fe-fast/vite-plugin-font-subset'</span>export default defineConfig({  plugins: [    <span class="hljs-built_in">vue</span>(),    <span class="hljs-built_in">fontSubsetPlugin</span>({      // ä¸€äº›å¯é€‰é…ç½®ï¼Œä¾‹å¦‚ï¼š      // fonts: [{ path: <span class="hljs-string">'src/SiYuanHeiTi/SourceHanSansCN-Normal.otf'</span>, name: <span class="hljs-string">'SourceHanSansCN'</span> }],      // include: [<span class="hljs-string">'src/**/*.vue'</span>, <span class="hljs-string">'src/**/*.ts'</span>],      // ...    }),  ],})
</code></pre>
<p>åšåˆ°è¿™ä¸€ç‚¹ä¹‹åï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±äº¤ç»™æ„å»ºé˜¶æ®µå¤„ç†å³å¯ã€‚</p>
<h2 data-id="heading-13">ä¸ƒã€è¿‡ç¨‹ä¸­çš„å‡ ä¸ªå‘ &amp; ç»éªŒ</h2>
<p>åœ¨å¼€å‘è¿™ä¸ªæ’ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿé‡åˆ°äº†ä¸€äº›å€¼å¾—è®°å½•çš„å‘ï¼š</p>
<ul>
<li>
<p><strong>ESM vs CJS çš„å…¼å®¹</strong></p>
<ul>
<li>ä¹‹å‰ç”¨å…¶ä»–å­—ä½“æ’ä»¶æ—¶ï¼Œé‡åˆ°è¿‡ <code>ESM file cannot be loaded by require</code> çš„æŠ¥é”™</li>
<li>è¿™ç›´æ¥ä¿ƒä½¿æˆ‘åœ¨å‘å¸ƒè¿™ä¸ªæ’ä»¶æ—¶ï¼Œç‰¹åˆ«æ³¨æ„æ„å»ºç›®æ ‡å’Œå¯¼å‡ºå½¢å¼ï¼Œè®©å®ƒèƒ½æ›´å¥½åœ°å…¼å®¹ç°æœ‰å·¥ç¨‹</li>
</ul>
</li>
<li>
<p><strong>å­—ç¬¦é›†è¿‡äºæ¿€è¿›ä¼šå¯¼è‡´â€œç¼ºå­—â€</strong></p>
<ul>
<li>ä¸€å¼€å§‹æˆ‘åªç»Ÿè®¡äº†æ¨¡æ¿é‡Œçš„ä¸­æ–‡å­—ç¬¦ï¼Œç»“æœçº¿ä¸Šå‘ç°æŸäº›åŠ¨æ€å†…å®¹ä¼šå‡ºç°â€œå£å£å£â€</li>
<li>æœ€ç»ˆæ–¹æ¡ˆæ˜¯ï¼šé€‚åº¦ä¿å®ˆ + é¢„ç•™ä¸€éƒ¨åˆ†å¸¸ç”¨æ±‰å­—èŒƒå›´</li>
</ul>
</li>
<li>
<p><strong>æ„å»ºæ—¶é—´å’Œä½“éªŒçš„å¹³è¡¡</strong></p>
<ul>
<li>å­—ä½“å­é›†åŒ–æœ¬èº«æ˜¯ä¸€ä¸ªâ€œCPU å¯†é›†å‹â€çš„è¿‡ç¨‹</li>
<li>åœ¨å¼€å‘ç¯å¢ƒæˆ‘é»˜è®¤å…³é—­äº†å­é›†åŒ–ï¼Œä»…åœ¨ <code>vite build</code> æ—¶å¯ç”¨ï¼Œä¿è¯æ—¥å¸¸å¼€å‘ä½“éªŒ</li>
</ul>
</li>
</ul>
<h2 data-id="heading-14">å…«ã€æ€»ç»“ä¸å±•æœ›</h2>
<p>fe-fast/vite-plugin-font-subset å…¶å®ä¸æ˜¯ä¸€ä¸ªâ€œç‚«æŠ€â€çš„è½®å­ï¼Œè€Œæ˜¯ä»çœŸå®ä¸šåŠ¡éœ€æ±‚é‡Œé•¿å‡ºæ¥çš„ï¼š</p>
<ul>
<li>å®ƒè§£å†³çš„æ˜¯ä¸€ä¸ªéå¸¸å…·ä½“çš„é—®é¢˜ï¼š<strong>ä¸­æ–‡é¡¹ç›®ä¸­ï¼Œå­—ä½“èµ„æºè¿‡å¤§å¯¼è‡´åŒ…ä½“ç§¯å’ŒåŠ è½½ä½“éªŒå˜å·®</strong></li>
<li>å®ƒä¹Ÿä½“ç°äº†æˆ‘åœ¨åšå‰ç«¯å·¥ç¨‹åŒ–æ—¶çš„ä¸€äº›åå¥½ï¼š
<ul>
<li>ç”¨å¥½ç°æœ‰å·¥å…·é“¾ï¼ˆVite æ’ä»¶ä½“ç³»ï¼‰</li>
<li>ä¼˜å…ˆé€‰æ‹©â€œæ„å»ºæ—¶å¤„ç†â€ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶å¢åŠ å¤æ‚æ€§</li>
<li>é‡åˆ°å…¼å®¹æ€§é—®é¢˜æ—¶ï¼Œé€‚å½“åœ°â€œè‡ªå·±é€ ä¸€ä¸ªæ›´é€‚åˆç°æœ‰å·¥ç¨‹çš„è½®å­â€</li>
</ul>
</li>
</ul>
<p>åç»­æˆ‘è¿˜å¸Œæœ›åœ¨è¿™ä¸ªæ’ä»¶ä¸Šåšå‡ ä»¶äº‹ï¼š</p>
<ul>
<li>æ›´æ™ºèƒ½çš„å­—ç¬¦é›†åˆ†æï¼ˆç»“åˆè·¯ç”±æ‹†åˆ†ã€æŒ‰éœ€å­é›†ï¼‰</li>
<li>æä¾›ç®€å•çš„å¯è§†åŒ–æŠ¥å‘Šï¼Œè®©ä½ ä¸€çœ¼çœ‹åˆ°â€œå­—ä½“å‡è‚¥â€å‰åçš„ä½“ç§¯å¯¹æ¯”</li>
<li>å¢å¼ºå¯¹å¤šè¯­è¨€é¡¹ç›®çš„æ”¯æŒ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘ Serverless è®¡ç®— 10 æœˆäº§å“åŠ¨æ€]]></title>    <link>https://juejin.cn/post/7573985572400611343</link>    <guid>https://juejin.cn/post/7573985572400611343</guid>    <pubDate>2025-11-19T06:53:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573985572400611343" data-draft-id="7573989365614379008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘ Serverless è®¡ç®— 10 æœˆäº§å“åŠ¨æ€"/> <meta itemprop="keywords" content="Serverless"/> <meta itemprop="datePublished" content="2025-11-19T06:53:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘ Serverless è®¡ç®— 10 æœˆäº§å“åŠ¨æ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:53:33.000Z" title="Wed Nov 19 2025 06:53:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç²¾é€‰æ–‡ç« </h2>
<p><strong>æ–‡ç« ä¸€è§ˆï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578636%26idx%3D1%26sn%3D2070218635b259aff0f72f3f1be49581%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578636&amp;idx=1&amp;sn=2070218635b259aff0f72f3f1be49581&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŠ é€Ÿæ™ºèƒ½ä½“å¼€å‘ï¼šä» Serverless è¿è¡Œæ—¶åˆ° Serverless AI è¿è¡Œæ—¶</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578714%26idx%3D1%26sn%3De204dfe2be6eaebaa22a46dcb9020fcb%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578714&amp;idx=1&amp;sn=e204dfe2be6eaebaa22a46dcb9020fcb&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Serverless åº”ç”¨å¼•æ“ SAEï¼šä¸ºä¼ ç»Ÿåº”ç”¨æ‰˜åº•ï¼Œä¸º AI åˆ›æ–°åŠ é€Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578779%26idx%3D1%26sn%3D57a94b319ff2204c8ddfec56c9eb3061%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578779&amp;idx=1&amp;sn=57a94b319ff2204c8ddfec56c9eb3061&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å‰åˆ©æ±½è½¦æºæ‰‹é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼Œæ‰“é€ æ–°ä¸€ä»£ AI åº§èˆ±æ¨ç†å¼•æ“</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578801%26idx%3D1%26sn%3D6822cefeddf2776e578ae8f3228059ec%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578801&amp;idx=1&amp;sn=6822cefeddf2776e578ae8f3228059ec&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ­ç§˜ MCP Streamable HTTP åè®®äº²å’Œæ€§çš„æŠ€æœ¯å†…å¹•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578933%26idx%3D1%26sn%3D3ec88789b105d60d11d52ee6e46f238e%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578933&amp;idx=1&amp;sn=3ec88789b105d60d11d52ee6e46f238e&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆåˆ«äººç”¨ DevPod ç§’å¯ DeepSeek-OCRï¼Œä½ è¿˜åœ¨è£…ç¯å¢ƒï¼Ÿ</a></p>
<h2 data-id="heading-1">äº§å“æœ€æ–°æ¶ˆæ¯</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b02f98c8775f46c390d44e32ac2bc39b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764140013&amp;x-signature=cumUewEyw%2BIAML6CAMLxjT5ZX%2Bc%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·Ÿç€TRAE SOLOå…¨é“¾è·¯çœ‹çœ‹é¡¹ç›®éƒ¨ç½²æœåŠ¡å™¨å…¨æµç¨‹å§]]></title>    <link>https://juejin.cn/post/7574041466710294571</link>    <guid>https://juejin.cn/post/7574041466710294571</guid>    <pubDate>2025-11-19T06:56:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466710294571" data-draft-id="7574084898878062633" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·Ÿç€TRAE SOLOå…¨é“¾è·¯çœ‹çœ‹é¡¹ç›®éƒ¨ç½²æœåŠ¡å™¨å…¨æµç¨‹å§"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-19T06:56:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—å¤ªç™½"/> <meta itemprop="url" content="https://juejin.cn/user/1874034273300919"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·Ÿç€TRAE SOLOå…¨é“¾è·¯çœ‹çœ‹é¡¹ç›®éƒ¨ç½²æœåŠ¡å™¨å…¨æµç¨‹å§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1874034273300919/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—å¤ªç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:56:17.000Z" title="Wed Nov 19 2025 06:56:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è·Ÿç€TRAE SOLOå…¨é“¾è·¯çœ‹çœ‹é¡¹ç›®éƒ¨ç½²æœåŠ¡å™¨å…¨æµç¨‹å§</h2>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åå°†é¡¹ç›®éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”é…ç½®å¥½ä»¥åå¯ä»¥åœ¨å¤–ç½‘è¿›è¡Œè®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash">å®‰è£…nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
</code></pre>
<h3 data-id="heading-1">1ã€ç®€å•æœåŠ¡å™¨ç¯å¢ƒæ­å»º</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å®ç°æŠŠ Node.js é¡¹ç›®éƒ¨ç½²åˆ°<code> /opt/nexus-node-api </code>å¹¶é…ç½®å¤–éƒ¨è®¿é—®</p>
<h4 data-id="heading-2">è¿›å…¥æœåŠ¡å™¨ä»¥åå®‰è£…ç¯å¢ƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°åŒ…åˆ—è¡¨</span>
sudo apt update

<span class="hljs-comment"># å®‰è£… Node.js å’Œ npm</span>
sudo apt install nodejs npm

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
node --version
npm --version
</code></pre>
<h4 data-id="heading-3">é¡¹ç›®åˆ›å»º</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºç›®å½•</span>
sudo <span class="hljs-built_in">mkdir</span> -p /opt/nexus-node-api

<span class="hljs-comment"># è®¾ç½®æ‰€æœ‰è€…å’Œæƒé™</span>
sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /opt/nexus-node-api
<span class="hljs-built_in">chmod</span> -R 755 /opt/nexus-node-api

<span class="hljs-comment"># è¿›å…¥ç›®å½•</span>
<span class="hljs-built_in">cd</span> /opt/nexus-node-api

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªé¡¹ç›®</span>
nano app.js
</code></pre>
<h4 data-id="heading-4">é¡¹ç›®å†…å®¹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/plain'</span> });
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'Hello World!\n'</span>);
});
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-string">'0.0.0.0'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Server running on port 3000`</span>);
});
</code></pre>
<h4 data-id="heading-5">æµ‹è¯•è¿è¡Œä»¥åŠå¤–ç½‘è®¿é—®</h4>
<p>æ³¨æ„ç‚¹ï¼šä¸€å®šè¦æ³¨æ„è¿™ä¸ªæ—¶å€™å¿…é¡»ä¿è¯ä½ çš„æœåŠ¡å™¨é‡Œé¢çš„é˜²ç«å¢™ï¼ˆå®‰å…¨ç»„ï¼‰è§„åˆ™é‡Œé¢æœ‰3000è¿™ä¸ªç«¯å£å·</p>
<pre><code class="hljs language-perl" lang="perl">node app.js

ç°åœ¨è®¿é—® http:<span class="hljs-regexp">//</span>ä½ çš„æœåŠ¡å™¨IP:<span class="hljs-number">3000</span> åº”è¯¥èƒ½çœ‹åˆ° <span class="hljs-string">"Hello World!"</span>
</code></pre>
<h3 data-id="heading-6">2ã€æ­£å¼é¡¹ç›®é…ç½®</h3>
<h4 data-id="heading-7">å¸è½½nodeç¯å¢ƒ</h4>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨nvmæ¥é…ç½®æˆ‘ä»¬çš„ç¯å¢ƒï¼Œå¦‚æœå·²ç»æœ‰çš„ï¼Œæˆ‘ä»¬åˆ é™¤ä¸€ä¸‹å·²ç»æœ‰çš„ç¯å¢ƒ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å¸è½½ nodejs å’Œ npm</span>
sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">remove</span> nodejs npm
sudo apt-<span class="hljs-keyword">get</span> purge nodejs npm
</code></pre>
<h4 data-id="heading-8">å®‰è£…nvm</h4>
<pre><code class="hljs language-bash" lang="bash">// å®‰è£… nvm
<span class="hljs-comment"># å»ºè®®å®‰è£… nvmï¼Œæ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
</code></pre>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘ .bashrc</span>
nano ~/.bashrc

//æ·»åŠ é…ç½® ---ä¸€èˆ¬ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ·»åŠ 
<span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span>
[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; . <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span>
[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; . <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span>

// é‡æ–°åŠ è½½é…ç½®
<span class="hljs-built_in">source</span> ~/.bashrc

// éªŒè¯ nvm å®‰è£…
nvm --version
</code></pre>
<h4 data-id="heading-9">å®‰è£…ç¨³å®šç‰ˆæœ¬node</h4>
<pre><code class="hljs language-csharp" lang="csharp">ubuntuä¸ºä¾‹å­
<span class="hljs-comment">// æŸ¥çœ‹å¯ä»¥å®‰è£…çš„ç¨³å®šç‰ˆæœ¬</span>
nvm ls-remote

<span class="hljs-comment">// è¿™é‡Œæˆ‘å®‰è½¬ç‰ˆæœ¬</span>
nvm install v22<span class="hljs-number">.12</span><span class="hljs-number">.0</span>
<span class="hljs-comment">// ä½¿ç”¨</span>
nvm use v22<span class="hljs-number">.12</span><span class="hljs-number">.0</span>

<span class="hljs-comment">// è®¾ç½®é»˜è®¤ç‰ˆæœ¬</span>
nvm <span class="hljs-keyword">alias</span> <span class="hljs-literal">default</span> v22<span class="hljs-number">.12</span><span class="hljs-number">.0</span>
<span class="hljs-comment">//   pm2</span>
npm i -g pm2
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨pm2å®ˆæŠ¤è¿›ç¨‹</h4>
<p>PM2 æ˜¯ Node åº”ç”¨çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œèƒ½ä¿è¯æœåŠ¡åœ¨åå°æŒç»­è¿è¡Œï¼šè¦ä¸ç„¶å…³é—­çª—å£ä¹‹åï¼Œå°±æ— æ³•è®¿é—®äº†</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£… PM2</span>
npm install pm2 -g

<span class="hljs-comment"># å¯åŠ¨æœåŠ¡å¹¶å‘½åï¼ˆæ–¹ä¾¿ç®¡ç†ï¼‰</span>
pm2 start app.js --name <span class="hljs-string">"node-api-nexus"</span>

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
pm2 list  <span class="hljs-comment"># è‹¥ Status ä¸º online åˆ™è¡¨ç¤ºå¯åŠ¨æˆåŠŸ</span>
</code></pre>
<p>è¿™ä¸ªæ—¶å€™ä¸ç®¡æ€ä¹ˆåˆ·æ–°æˆ‘ä»¬çš„é¡µé¢æˆ–è€…çª—å£ï¼Œå¯ä»¥å§‹ç»ˆç¨³å®šè®¿é—®æˆ‘ä»¬çš„æ¥å£</p>
<h5 data-id="heading-11">pm2 é‡å¯å¯¹åº”çš„æœåŠ¡</h5>
<pre><code class="hljs language-arduino" lang="arduino">pm2 restart <span class="hljs-string">"node-api-nexus"</span>
</code></pre>
<h3 data-id="heading-12">3ã€æœåŠ¡å™¨å®‰è£…mysqlæ•°æ®åº“</h3>
<h4 data-id="heading-13">ç¯å¢ƒæ­å»º</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…mysqlæ•°æ®åº“ï¼Œè¿™é‡Œéœ€è¦æˆ‘ä»¬è¾“å…¥æœåŠ¡å™¨å¯†ç </p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ›´æ–°åŒ…åˆ—è¡¨</span>
sudo apt update

<span class="hljs-meta"># å®‰è£… MySQL æœåŠ¡å™¨ </span>
<span class="hljs-comment">// å®‰è£… MySQL 8.0ï¼ˆUbuntu é»˜è®¤æºå³æä¾› MySQL 8.0ï¼‰</span>
sudo apt install mysql-server -y

<span class="hljs-meta"># å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæç¤ºè¾“å…¥æœåŠ¡å™¨å¯†ç </span>

<span class="hljs-meta"># ç¡®è®¤ MySQL ç‰ˆæœ¬</span>
mysql --version
</code></pre>
<h4 data-id="heading-14">MYSQlæ•°æ®åº“å®‰å…¨é…ç½®</h4>
<h5 data-id="heading-15">è°ƒæ•´ MySQL æœåŠ¡å™¨çš„å®‰å…¨æ€§</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å®‰å…¨é…ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰</span>
sudo mysql_secure_installation

æµ‹è¯•å¯ä»¥éƒ½é€‰n


æŒ‰ç…§æç¤ºé…ç½®ï¼š
æ˜¯å¦å¯ç”¨å¼ºå¯†ç    <span class="hljs-comment">// y </span>
è®¾ç½® root å¯†ç    <span class="hljs-comment">// Le@1996#Lin</span>
ç§»é™¤åŒ¿åç”¨æˆ·
ç¦æ­¢è¿œç¨‹ root ç™»å½•ï¼ˆå¯é€‰ï¼‰
åˆ é™¤æµ‹è¯•æ•°æ®åº“
é‡æ–°åŠ è½½æƒé™è¡¨
</code></pre>

<pre><code class="hljs language-css" lang="css">ç™»å½• MySQL
sudo mysql -u root -<span class="hljs-selector-tag">p</span>
è¾“å…¥å¯†ç å³å¯
</code></pre>
<h4 data-id="heading-16">é…ç½®è¿œç¨‹è®¿é—®ï¼ˆå¯é€‰ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">é…ç½® MySQL å…è®¸æœ¬åœ°è¿æ¥ï¼š

sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf

é…ç½®ä¿¡æ¯
<span class="hljs-section">[mysqld]</span>
<span class="hljs-comment"># ç¡®ä¿ç»‘å®šåˆ°æœ¬åœ°</span>
<span class="hljs-attr">bind-address</span> = <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>

<span class="hljs-comment"># è®¾ç½®ç«¯å£</span>
<span class="hljs-attr">port</span> = <span class="hljs-number">3306</span>

<span class="hljs-comment"># è®¾ç½®å­—ç¬¦é›†</span>
<span class="hljs-attr">character-set-server</span> = utf8mb4
<span class="hljs-attr">collation-server</span> = utf8mb4_unicode_ci
</code></pre>
<h5 data-id="heading-17">ä¿®æ”¹mysqlæ•°æ®åº“é…ç½®</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-comment"># æ³¨é‡Šæ‰åŸæ¥çš„ bind-address æˆ–æ”¹ä¸º 0.0.0.0</span>
<span class="hljs-comment"># bind-address = 127.0.0.1</span>
<span class="hljs-attr">bind-address</span> = <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
<span class="hljs-attr">port</span> = <span class="hljs-number">3306</span>
</code></pre>
<h5 data-id="heading-18">é‡å¯æœåŠ¡,ç™»å½•mysqlåˆ›å»ºè¿œç¨‹è¿æ¥ç”¨æˆ·</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> é‡å¯mysqlæœåŠ¡
sudo systemctl restart mysql

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> ç™»å½•
sudo mysql <span class="hljs-operator">-</span>u root <span class="hljs-operator">-</span>p

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> å¯†ç 
<span class="hljs-number">123456</span>

<span class="hljs-comment">-- åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆ% è¡¨ç¤ºå…è®¸ä»»ä½•IPè¿æ¥ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'è´¦å·'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'å¯†ç '</span>;

<span class="hljs-comment">-- æˆäºˆæƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'å¯†ç '</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;

<span class="hljs-comment">-- æˆ–è€…åªæˆæƒç‰¹å®šæ•°æ®åº“(è·³è¿‡)</span>
<span class="hljs-comment">-- GRANT ALL PRIVILEGES ON your_database.* TO 'remote_user'@'%';</span>

<span class="hljs-comment">-- åˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;

<span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">User</span>, Host <span class="hljs-keyword">FROM</span> mysql.user;

<span class="hljs-comment">-- é€€å‡º</span>
EXIT;

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> é‡å¯ MySQL
sudo systemctl restart mysql

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> è®¾ç½®å¼€æœºè‡ªå¯ï¼ˆé»˜è®¤åº”å·²è®¾ç½®ï¼‰
sudo systemctl enable mysql
</code></pre>
<h3 data-id="heading-19">4ã€navicatè¿œç¨‹mysqlæ•°æ®åº“</h3>
<p>åˆ‡è®°ï¼šä¸€å®šè¦ä¿è¯æˆ‘ä»¬çš„æœåŠ¡å™¨å·²ç»æ·»åŠ äº†æˆ‘ä»¬çš„ç«¯å£3306</p>
<p>æœåŠ¡å™¨å…è®¸æˆ‘ä»¬è¿œç¨‹è¿æ¥</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¼€æ”¾ 3306 ç«¯å£</span>
sudo ufw allow <span class="hljs-number">3306</span>

<span class="hljs-comment"># æˆ–è€…åªå…è®¸ç‰¹å®šIPè®¿é—®ï¼ˆæ›´å®‰å…¨ï¼‰</span>
sudo ufw allow <span class="hljs-keyword">from</span> ä½ çš„æœ¬åœ°IP to <span class="hljs-built_in">any</span> port <span class="hljs-number">3306</span>

<span class="hljs-comment"># æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</span>
sudo ufw status
</code></pre>
<h4 data-id="heading-20">è¿œç¨‹è¿æ¥</h4>
<p>æœ¬åœ°è¿œç¨‹mysqlæ•°æ®åº“,æˆ‘ä½¿ç”¨çš„æ˜¯navicatå·¥å…·ï¼Œè¿™é‡Œç›´æ¥è¾“å…¥æˆ‘ä»¬çš„ä¿¡æ¯</p>
<pre><code class="hljs">è¿æ¥åï¼šè¿œç¨‹æœåŠ¡å™¨,éšä¾¿èµ·åå­—
ä¸»æœºï¼šæœåŠ¡å™¨IP
ç”¨æˆ·åï¼šä¸Šé¢è®¾ç½®çš„
å¯†ç ï¼šä¸Šé¢è®¾ç½®çš„
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6be106fdc964442998cf5af33acacd02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6X5aSq55m9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764140176&amp;x-signature=7QtCZG5aMpkvM1h5oUiXZdBLmA0%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•ä¸€ä¸‹ï¼ŒæœåŠ¡å™¨çš„æ•°æ®åº“å·²ç»è¿æ¥æˆåŠŸäº†</p>
<h4 data-id="heading-21">æ•°æ®åº“è¿æ¥æµ‹è¯•</h4>
<p>æ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘çš„åç§°æ˜¯nexus</p>
<pre><code class="hljs">æ•°æ®åº“åï¼šnexus
å­—ç¬¦é›†ï¼šutf8mb3
æ’åºè§„åˆ™ï¼šutf8mb3_bin
</code></pre>
<p>æ–°å»ºä¸€ä¸ªè¡¨</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `sys_user`;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_user`  (
  `user_id` <span class="hljs-type">int</span>(<span class="hljs-number">0</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">'id'</span>,
  `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å§“å'</span>,
  `age` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å¹´é¾„'</span>,
  `sex` <span class="hljs-type">int</span>(<span class="hljs-number">0</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·æ€§åˆ« 1ç”· 2å¥³ '</span>,
  `create_time` datetime(<span class="hljs-number">0</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  `address` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·çš„åœ°å€'</span>,
  `state` tinyint(<span class="hljs-number">0</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'1 æ­£å¸¸  0 2  ç¦ç”¨'</span>,
  `phone` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ‰‹æœºå·'</span>,
  `username` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·çš„ç™»å½•è´¦å·'</span>,
  `password` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'123456'</span> COMMENT <span class="hljs-string">'ç”¨æˆ·çš„ç™»å½•å¯†ç '</span>,
  `avatar` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å¤´åƒåœ°å€'</span>,
  `update_time` datetime(<span class="hljs-number">0</span>) <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
  `user_height` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'èº«é«˜'</span>,
  `user_weight` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ä½“é‡'</span>,
  `disease` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> utf8mb3_general_ci <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å¥åº·çŠ¶å†µï¼Œæ˜¯å¦æœ‰ç–¾ç—…'</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`user_id`, `password`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE <span class="hljs-operator">=</span> InnoDB AUTO_INCREMENT <span class="hljs-operator">=</span> <span class="hljs-number">55</span> <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> <span class="hljs-operator">=</span> utf8mb3 <span class="hljs-keyword">COLLATE</span> <span class="hljs-operator">=</span> utf8mb3_general_ci ROW_FORMAT <span class="hljs-operator">=</span> <span class="hljs-keyword">Dynamic</span>;
</code></pre>
<h4 data-id="heading-22">æœ¬åœ°è¿è¡Œé¡¹ç›®æµ‹è¯•</h4>
<p>è¿™é‡Œæˆ‘ä»¬ç°åœ¨å°±æœ¬åœ°å¯åŠ¨é¡¹ç›®è¿æ¥æˆ‘ä»¬æœåŠ¡å™¨ï¼Œç„¶åè¿›è¡Œæµ‹è¯•ï¼Œè¿™é‡Œæˆ‘ä»¥å¼€æºçš„Nodeé¡¹ç›®ä¸ºä¾‹ï¼Œä¸»è¦ä¿®æ”¹å››ä¸ªå‚æ•°</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">dbhost</span>=<span class="hljs-string">'xx'</span><span class="hljs-comment">; // æ•°æ®åº“ä¸»æœºåœ°å€ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ•°æ®åº“åˆ™ä½¿ç”¨localhost</span>
const <span class="hljs-attr">dbdatabase</span>=<span class="hljs-string">'xx'</span><span class="hljs-comment">; // æ•°æ®åº“åç§°</span>
const <span class="hljs-attr">dbuser</span>=<span class="hljs-string">'xx'</span><span class="hljs-comment">; // æ•°æ®åº“ç”¨æˆ·å</span>
const <span class="hljs-attr">dbpassword</span>=<span class="hljs-string">'xxx'</span><span class="hljs-comment">; // æ•°æ®åº“å¯†ç </span>
</code></pre>
<p>æœ¬åœ°æµ‹è¯•ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„çº¿ä¸Šæ•°æ®åº“å·²ç»å¯ä»¥ä½¿ç”¨äº†</p>
<h3 data-id="heading-23">5ã€Nodeé¡¹ç›®éƒ¨ç½²</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†nodeé¡¹ç›®éƒ¨ç½²è¿›æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œé¦–å…ˆæŠŠæˆ‘ä»¬é¡¹ç›®éƒ½æ‰”è¿›å»</p>
<h4 data-id="heading-24">é…ç½®ç¯å¢ƒ</h4>
<p>è¿™é‡Œæˆ‘ç”¨çš„æ˜¯yarnï¼Œå®‰è£…ä¸€ä¸‹</p>
<pre><code class="hljs language-arduino" lang="arduino">npm install yarn -g 


<span class="hljs-comment">// é…ç½®ç¯å¢ƒ</span>
yarn

<span class="hljs-comment">// å¯åŠ¨pm2</span>
pm2 start app.js --name <span class="hljs-string">"node-api-nexus"</span>

<span class="hljs-comment">// é‡æ–°å¯åŠ¨pm2 è®¾ç½®å¼€æœºè‡ªå¯</span>
pm2 startup
pm2 save
</code></pre>
<p>æŸ¥çœ‹è¯¦ç»†æ—¥å¿—</p>
<pre><code class="hljs">pm2 logs node-api-nexus
</code></pre>
<p>å¯åŠ¨ä»¥åæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€åœ°å€å¯¹æˆ‘ä»¬çš„ç³»ç»Ÿåå°è¿›è¡Œè®¿é—®äº†</p>
<pre><code class="hljs language-arduino" lang="arduino">http:<span class="hljs-comment">//XXX<span class="hljs-doctag">XXX:</span>3200/</span>
</code></pre>
<h3 data-id="heading-25">6ã€å‰ç«¯éƒ¨ç½²</h3>
<h4 data-id="heading-26">ç¯å¢ƒå®‰è£…</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­éƒ¨ç½²æˆ‘ä»¬çš„å‰ç«¯åº”ç”¨ï¼Œå…ˆç”¨æˆ‘ä»¬çš„é¡¹ç›®è¿æ¥ä¸€ä¸‹æˆ‘ä»¬çš„æ•°æ®åº“å°è¯•ä¸€ä¸‹ OKï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç„¶åæˆ‘ä»¬å¼€å§‹éƒ¨ç½²å‰ç«¯é¡¹ç›®</p>
<pre><code class="hljs language-arduino" lang="arduino">é¡¹ç›®åç§°ä¸ºnexus-vueï¼Œé¡¹ç›®æ‰“åŒ…å¥½çš„è·¯å¾„ä½äº /opt/nexus-vue ä¸‹é¢

<span class="hljs-comment">// æ‰“åŒ…å‰ç«¯é¡¹ç›®</span>
yarn build

<span class="hljs-comment">// æ›´æ–°å’Œå®‰è£…nginx </span>
<span class="hljs-comment">// æ›´æ–°å¯ä»¥è·³è¿‡ ä¹‹å‰æˆ‘ä»¬å·²ç»è¿›è¡Œè¿‡</span>
sudo apt update
sudo apt install nginx

<span class="hljs-comment">// æŸ¥çœ‹ç‰ˆæœ¬</span>
nginx -V
</code></pre>
<h4 data-id="heading-27">é…ç½®nginx</h4>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/nginx/sites-available/nexus-vue

// é…ç½®å¦‚ä¸‹
server {
    listen 80;
    server_name localhost;  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ çš„åŸŸåæˆ–IP</span>

    root /opt/nexus-vue;
    index index.html;

    location / {
        try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.html;
    }

    <span class="hljs-comment"># å¦‚æœéœ€è¦ä»£ç†APIè¯·æ±‚</span>
    location /api {
        proxy_pass http://localhost:3000;
    }
}
server {
    listen 8080;
    server_name localhost;  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ çš„åŸŸåæˆ–IP</span>

    <span class="hljs-comment"># å‰ç«¯é™æ€æ–‡ä»¶</span>
    root /opt/nexus-vue;
    index index.html;

    <span class="hljs-comment"># å‰ç«¯è·¯ç”±</span>
    location / {
        try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.html;
    }

    <span class="hljs-comment"># åç«¯APIè¯·æ±‚</span>
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade <span class="hljs-variable">$http_upgrade</span>;
        proxy_set_header Connection <span class="hljs-string">'upgrade'</span>;
        proxy_set_header Host <span class="hljs-variable">$host</span>;
        proxy_cache_bypass <span class="hljs-variable">$http_upgrade</span>;
    }

    <span class="hljs-comment"># WebSocketè¿æ¥</span>
    location /ws {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade <span class="hljs-variable">$http_upgrade</span>;
        proxy_set_header Connection <span class="hljs-string">"upgrade"</span>;
        proxy_set_header Host <span class="hljs-variable">$host</span>;
    }
}
</code></pre>
<h4 data-id="heading-28">å¼€æ”¾æ¥å£</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">sudo</span> <span class="hljs-string">ufw</span> <span class="hljs-string">allow</span> <span class="hljs-number">8080</span>

<span class="hljs-string">sudo</span> <span class="hljs-string">systemctl</span> <span class="hljs-string">restart</span> <span class="hljs-string">nginx</span>
</code></pre>
<p>å¤„ç†æ—¥å¿—é”™è¯¯</p>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ æ£€æŸ¥nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var</span><span class="hljs-regexp">/log/nginx</span><span class="hljs-regexp">/error.log


/</span><span class="hljs-regexp">/å¼€æ”¾æ–‡ä»¶æƒé™
sudo chmod -R 755 /opt</span><span class="hljs-regexp">/nexus-vue

/</span><span class="hljs-regexp">/ æ£€æŸ¥é…ç½®
sudo nano /etc</span><span class="hljs-regexp">/nginx/sites</span>-available/nexus-vue

/<span class="hljs-regexp">/ é‡æ–°å¯åŠ¨nginx
sudo systemctl restart nginx
</span></code></pre>
<h4 data-id="heading-29">éƒ¨ç½²</h4>
<p>å†™ä¸€ä¸ªæµ‹è¯•é¡µé¢æ‰”è¿›å»</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æˆ‘æ˜¯æµ‹è¯•é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘æ˜¯æµ‹è¯•é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>è®¿é—®æˆ‘ä»¬çš„åœ°å€<code>http://åŸŸåIP:8080/</code></p>
<pre><code class="hljs">è¿™ä¸ªæ—¶å€™å·²ç»å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é¡¹ç›®å·²ç»éƒ¨ç½²ä¸Šå»äº†
</code></pre>
<p>é‡æ–°åŠ è½½ä»¥åï¼Œokï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å…¨é“¾è·¯éƒ½éƒ¨ç½²ä¸Šå»äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fcd06041e5942e1897904d1f5491a45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6X5aSq55m9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764140176&amp;x-signature=Vn5%2Ba7WRF5qXM%2FitGuRJ5%2B%2FySZQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®‰è£… Guacamole å®ç°nvcè¿œç¨‹æ§åˆ¶]]></title>    <link>https://juejin.cn/post/7574204970775543835</link>    <guid>https://juejin.cn/post/7574204970775543835</guid>    <pubDate>2025-11-19T06:57:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574204970775543835" data-draft-id="7574020645863161907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®‰è£… Guacamole å®ç°nvcè¿œç¨‹æ§åˆ¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T06:57:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sunbin"/> <meta itemprop="url" content="https://juejin.cn/user/1293452878560302"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®‰è£… Guacamole å®ç°nvcè¿œç¨‹æ§åˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1293452878560302/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sunbin
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:57:14.000Z" title="Wed Nov 19 2025 06:57:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£… Guacamoleï¼ˆåŸºäº Dockerï¼‰</h2>
<h3 data-id="heading-1">1. åˆ›å»ºæ•°æ®åº“å®¹å™¨</h3>
<pre><code class="hljs language-ini" lang="ini">docker run -d --name guacamoledb \
  -e <span class="hljs-attr">MYSQL_ROOT_PASSWORD</span>=rootpass \
  -e <span class="hljs-attr">MYSQL_DATABASE</span>=guacdb \
  -e <span class="hljs-attr">MYSQL_USER</span>=guacuser \
  -e <span class="hljs-attr">MYSQL_PASSWORD</span>=guacpass \
  mysql:5.7
</code></pre>
<h3 data-id="heading-2">2. ç”Ÿæˆå¹¶åˆå§‹åŒ–æ•°æ®åº“</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆåˆå§‹åŒ– SQL æ–‡ä»¶</span>
docker run --<span class="hljs-built_in">rm</span> guacamole/guacamole \
  /opt/guacamole/bin/initdb.sh --mysql &gt; initdb.sql

<span class="hljs-comment"># å°† SQL æ–‡ä»¶å¤åˆ¶åˆ°æ•°æ®åº“å®¹å™¨</span>
docker <span class="hljs-built_in">cp</span> initdb.sql guacamoledb:/docker-entrypoint-initdb.d/initdb.sql

<span class="hljs-comment"># æ‰§è¡Œ SQL åˆå§‹åŒ–ï¼ˆæ ¹æ®ç¯å¢ƒé€‰æ‹©ã€ä¸¤ç§æ–¹å¼ä»»é€‰å…¶ä¸€ï¼‰</span>
docker <span class="hljs-built_in">exec</span> -i guacamoledb bash -c \
  <span class="hljs-string">'mysql -uroot -prootpass guacdb &lt;/docker-entrypoint-initdb.d/initdb.sql'</span>
  
docker <span class="hljs-built_in">exec</span> -i guacamoledb mysql -uroot -prootpass guacdb &lt; initdb.sql
</code></pre>
<h3 data-id="heading-3">3. å¯åŠ¨ Guacamole æœåŠ¡</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¯åŠ¨ guacd ä»£ç†æœåŠ¡</span>
docker run -d --name guacd <span class="hljs-attr">--restart</span>=always guacamole/guacd

<span class="hljs-comment"># å¯åŠ¨ Guacamole Web æœåŠ¡</span>
docker run -d --name guacamole <span class="hljs-attr">--restart</span>=always \
  -p 8080:8080 \
  --link guacd:guacd \
  --link guacamoledb:mysql \
  -e <span class="hljs-attr">MYSQL_DATABASE</span>=guacdb \
  -e <span class="hljs-attr">MYSQL_USER</span>=guacuser \
  -e <span class="hljs-attr">MYSQL_PASSWORD</span>=guacpass \
  guacamole/guacamole
</code></pre>
<h3 data-id="heading-4">4. è®¿é—® Guacamole</h3>
<p>æµè§ˆå™¨è®¿é—®ï¼š<br/>
<strong><a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fguacamole" target="_blank" title="http://localhost:8080/guacamole" ref="nofollow noopener noreferrer">http://localhost:8080/guacamole</a></strong><br/>
é»˜è®¤è´¦å·å¯†ç ï¼š<strong>guacadmin / guacadmin</strong></p>
<hr/>
<h2 data-id="heading-5">äºŒã€å®‰è£… TightVNC Serverï¼ˆWindowsï¼‰</h2>
<h3 data-id="heading-6">1. ä¸‹è½½å®‰è£…</h3>
<ul>
<li>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tightvnc.com%2Fdownload.php" target="_blank" title="https://www.tightvnc.com/download.php" ref="nofollow noopener noreferrer">www.tightvnc.com/download.phâ€¦</a></li>
<li>ä¸‹è½½ <strong>64-bit å®‰è£…åŒ…</strong>ï¼ŒåŒå‡»è¿è¡Œã€‚</li>
<li>å®‰è£…ç±»å‹é€‰æ‹© <strong>Custom</strong>ï¼Œä»…å‹¾é€‰ <strong>TightVNC Server</strong>ï¼Œç„¶åä¸€è·¯ Nextã€‚</li>
</ul>
<h3 data-id="heading-7">2. è®¾ç½®è®¿é—®å¯†ç </h3>
<p>å®‰è£…æœ€åä¸€æ­¥ä¼šæç¤ºè®¾ç½® <strong>VNC å¯†ç </strong>ï¼Œè¯·ç‰¢è®°ï¼Œåç»­è¿œç¨‹è¿æ¥éœ€ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-8">3. å¯åŠ¨æœåŠ¡</h3>
<ul>
<li>
<p><strong>å›¾å½¢æ–¹å¼</strong>ï¼šç³»ç»Ÿæ‰˜ç›˜å‡ºç° â€œVâ€ å›¾æ ‡ï¼Œå³é”® â†’ <strong>Start TightVNC Server</strong>ã€‚</p>
</li>
<li>
<p><strong>å‘½ä»¤æ–¹å¼</strong>ï¼ˆç®¡ç†å‘˜ CMDï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">"%ProgramFiles%\TightVNC\tvnserver.exe" <span class="hljs-operator">-</span><span class="hljs-keyword">start</span>
</code></pre>
</li>
</ul>
<blockquote>
<p>é»˜è®¤ä½¿ç”¨ç«¯å£ <strong>5900</strong>ï¼ˆæ¡Œé¢å· <code>:0</code>ï¼‰ï¼Œå¯åœ¨ Configuration ä¸­ä¿®æ”¹ä¸ºå›ºå®šç«¯å£ï¼Œå¹¶å‹¾é€‰ <strong>â€œStart server on Windows startupâ€</strong> å®ç°å¼€æœºè‡ªå¯ã€‚</p>
</blockquote>
<h3 data-id="heading-9">4. é…ç½®é˜²ç«å¢™</h3>
<ul>
<li>æ‰“å¼€ <strong>Windows Defender é˜²ç«å¢™</strong> â†’ <strong>å…è®¸åº”ç”¨é€šè¿‡é˜²ç«å¢™</strong>ã€‚</li>
<li>å‹¾é€‰ <strong>TightVNC Server</strong> çš„ä¸“ç”¨å’Œå…¬ç”¨ç½‘ç»œè®¿é—®æƒé™ã€‚</li>
<li>è‹¥ä¿®æ”¹äº†é»˜è®¤ç«¯å£ï¼Œéœ€æ‰‹åŠ¨æ”¾è¡Œå¯¹åº” <strong>TCP ç«¯å£</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€Windows å…³é—­ Ctrl + Alt + Del ç™»å½•æç¤º</h2>
<h3 data-id="heading-11">æ“ä½œæ­¥éª¤ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰ï¼š</h3>
<pre><code class="hljs language-bash" lang="bash">reg add <span class="hljs-string">"HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System"</span> /v DisableCAD /t REG_DWORD /d 1 /f
</code></pre>
<blockquote>
<p>è®¾ç½®å€¼ä¸º <code>1</code> è¡¨ç¤ºç¦ç”¨ Ctrl + Alt + Delï¼Œé‡å¯åç”Ÿæ•ˆã€‚</p>
</blockquote>
<h2 data-id="heading-12">å››ã€åœ¨ Guacamole é‡Œæ·»åŠ  VNC è¿æ¥ï¼ˆWindows æ¡Œé¢ï¼‰</h2>
<p>å‰æï¼š<br/>
â‘  å·²å®Œæˆä¸Šæ–‡ <strong>â€œä¸€ã€å®‰è£… Guacamoleâ€</strong> ï¼›<br/>
â‘¡ å·²å®Œæˆ <strong>â€œäºŒã€å®‰è£… TightVNC Serverâ€</strong> å¹¶ç¡®è®¤ <strong>IP:5900</strong> èƒ½åœ¨å±€åŸŸç½‘ç”¨ VNC-Viewer æ­£å¸¸è¿æ¥ã€‚</p>
<h3 data-id="heading-13">1. ç™»å½• Guacamole ç®¡ç†ç•Œé¢</h3>
<p>æµè§ˆå™¨è®¿é—® <code>http://&lt;Guacamole-IP&gt;:8080/guacamole</code><br/>
é»˜è®¤è´¦å· <code>guacadmin / guacadmin</code></p>
<h3 data-id="heading-14">2. åˆ›å»ºæ–°è¿æ¥ï¼ˆConnections â†’ New Connectionï¼‰</h3>













































<table><thead><tr><th align="left">å­—æ®µ</th><th align="left">å¡«å†™å€¼</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left"><strong>Name</strong></td><td align="left"><code>Win10-VNC</code></td><td align="left">ä»»æ„è‹±æ–‡å</td></tr><tr><td align="left"><strong>Protocol</strong></td><td align="left"><strong>VNC</strong></td><td align="left">ä¸‹æ‹‰é€‰æ‹©</td></tr><tr><td align="left"><strong>Hostname</strong></td><td align="left"><code>192.168.x.x</code></td><td align="left">Windows ä¸»æœº IP</td></tr><tr><td align="left"><strong>Port</strong></td><td align="left"><code>5900</code></td><td align="left">ä¸ TightVNC ç›‘å¬ç«¯å£ä¸€è‡´</td></tr><tr><td align="left"><strong>Password</strong></td><td align="left">ï¼ˆåˆšæ‰è®¾ç½®çš„ VNC å¯†ç ï¼‰</td><td align="left">æ˜æ–‡ä¿å­˜ï¼ŒGuacamole ä¼šè‡ªåŠ¨æäº¤</td></tr><tr><td align="left"><strong>Color depth</strong></td><td align="left">æŒ‰éœ€é€‰ 24/32 ä½</td><td align="left">é»˜è®¤å³å¯</td></tr><tr><td align="left"><strong>Cursor</strong></td><td align="left"><strong>Remote</strong></td><td align="left">æœ¬åœ°å…‰æ ‡æ›´æµç•…</td></tr></tbody></table>
<blockquote>
<p>å…¶ä½™ä¿æŒé»˜è®¤ï¼Œ<strong>Save</strong> å³å¯ã€‚</p>
</blockquote>
<h3 data-id="heading-15">3. æˆæƒç»™ç”¨æˆ·</h3>
<p>åŒä¸€é¡µé¢åˆ‡åˆ° <strong>Permissions</strong> â†’ æŠŠ <strong>guacadmin</strong>ï¼ˆæˆ–æ–°å»ºç”¨æˆ·ï¼‰æ‹–åˆ° <strong>"Current users"</strong> â†’ <strong>Update</strong>ã€‚</p>
<h3 data-id="heading-16">4. ç«‹å³è®¿é—®</h3>
<p>å›åˆ° <strong>Home</strong> â†’ ç‚¹å‡»åˆšåˆ›å»ºçš„ <strong>Win10-VNC</strong> å¡ç‰‡ â†’ ç§’è¿› Windows æ¡Œé¢ã€‚</p>
<hr/>
<h2 data-id="heading-17">äº”ã€å¸¸è§æ‰©å±•åœºæ™¯é€Ÿé…</h2>









































<table><thead><tr><th align="left">åœºæ™¯</th><th align="left">éœ€æ”¹åè®®</th><th align="left">å…³é”®å‚æ•°</th><th align="left">é¢å¤–è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>Windows RDP</strong></td><td align="left">Protocol=<strong>RDP</strong></td><td align="left">Hostnameã€Port=3389ã€Usernameã€Passwordã€Security=<strong>NLA</strong></td><td align="left">ç›®æ ‡æœºéœ€å¼€è¿œç¨‹æ¡Œé¢ã€é˜²ç«å¢™æ”¾è¡Œ 3389</td></tr><tr><td align="left"><strong>Linux SSH</strong></td><td align="left">Protocol=<strong>SSH</strong></td><td align="left">Hostnameã€Port=22ã€Usernameã€Private-key æˆ– Password</td><td align="left">ç§é’¥å¯ç²˜è´´åˆ°Â <strong>Private key</strong>Â æ–‡æœ¬æ¡†</td></tr><tr><td align="left"><strong>Linux VNC</strong></td><td align="left">Protocol=<strong>VNC</strong></td><td align="left">åŒä¸Šç¬¬å››èŠ‚</td><td align="left">å¸¸è§ç«¯å£ 5901ï¼ˆæ¡Œé¢:1ï¼‰</td></tr><tr><td align="left"><strong>æ–‡ä»¶ä¼ è¾“</strong></td><td align="left">RDP åè®®ä¸‹è‡ªåŠ¨å¯ç”¨</td><td align="left">åœ¨Â <strong>Settings</strong>Â é‡Œå¯Â <strong>Drive</strong>Â æ˜ å°„</td><td align="left">ä¼šåœ¨è¿œç¨‹Â *<em>\TSCLIENT*</em>Â çœ‹åˆ°å®¿ä¸»æœºç›®å½•</td></tr><tr><td align="left"><strong>å¤šç”¨æˆ·/LDAP</strong></td><td align="left">éœ€æ”¹Â <code>guacamole.properties</code></td><td align="left">å®˜æ–¹é•œåƒæ”¯æŒ LDAPã€CASã€OpenID ç­‰æ‰©å±•</td><td align="left">æŒ‚è½½æ–°é…ç½®æ–‡ä»¶åé‡å¯å®¹å™¨å³å¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-18">å…­ã€ä¸€é”®å¤‡ä»½ &amp; å‡çº§å»ºè®®</h2>
<ol>
<li>
<p><strong>æ•°æ®åº“å¤‡ä»½</strong></p>
<pre><code class="hljs language-bash" lang="bash">docker <span class="hljs-built_in">exec</span> guacamoledb mysqldump -uroot -prootpass guacdb &gt; guac_backup.sql
</code></pre>
</li>
<li>
<p><strong>å‡çº§é•œåƒ</strong></p>
<pre><code class="hljs language-bash" lang="bash">docker pull guacamole/guacamole
docker stop guacamole &amp;&amp; docker <span class="hljs-built_in">rm</span> guacamole
<span class="hljs-comment"># ç”¨åŒä¸€å‘½ä»¤é‡æ–° runï¼ˆç¬¬å››èŠ‚æ­¥éª¤ 3ï¼‰å³å¯ï¼Œæ•°æ®åœ¨åº“å†…æ— æŸ</span>
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-19">ä¸ƒã€æ’éšœ 3 ç§’è¡¨</h2>






























<table><thead><tr><th align="left">ç°è±¡</th><th align="left">90% åŸå› </th><th align="left">ç§’è§£</th></tr></thead><tbody><tr><td align="left">é»‘å±/è¿ä¸ä¸Š VNC</td><td align="left">Windows é˜²ç«å¢™æ²¡æ”¾è¡Œ 5900</td><td align="left">é˜²ç«å¢™åŠ è§„åˆ™</td></tr><tr><td align="left">Guacamole æŠ¥ â€œConnection closedâ€</td><td align="left">VNC å¯†ç å¡«é”™ / ç«¯å£é”™</td><td align="left">é‡æ–°ç¼–è¾‘è¿æ¥</td></tr><tr><td align="left">RDP æŠ¥ â€œNLA failedâ€</td><td align="left">è´¦å·æˆ–å¯†ç é”™ / ç›®æ ‡æœºæœªå¼€è¿œç¨‹</td><td align="left">æ£€æŸ¥è´¦å·ã€å¼€è¿œç¨‹ã€å…³ NLA å¯é€‰</td></tr><tr><td align="left">é¡µé¢ 404</td><td align="left">åœ°å€æ²¡åŠ Â <code>/guacamole</code></td><td align="left">è¡¥å…¨è·¯å¾„</td></tr></tbody></table>
<hr/>
<p>è‡³æ­¤ï¼Œ <strong>â€œGuacamole å®‰è£… â†’ VNC æ¥å…¥ â†’ RDP/SSH æ‰©å±• â†’ å¤‡ä»½æ’éšœâ€</strong> å…¨æµç¨‹é—­ç¯å®Œæˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯]]></title>    <link>https://juejin.cn/post/7574270661863981083</link>    <guid>https://juejin.cn/post/7574270661863981083</guid>    <pubDate>2025-11-19T04:45:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574270661863981083" data-draft-id="7573958996668923931" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T04:45:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="master_hl"/> <meta itemprop="url" content="https://juejin.cn/user/3268185849868087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Kafka ä¸æ—¶é—´è½®å®ç°é«˜æ€§èƒ½å»¶è¿Ÿæ¶ˆæ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3268185849868087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    master_hl
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:45:06.000Z" title="Wed Nov 19 2025 04:45:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.æ•´ä½“é“¾è·¯</h2>
<h2 data-id="heading-1">Kafka â†’ RocksDB â†’ SystemTimer â†’ TimingWheel â†’ Kafka</h2>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, String message)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, message);
        rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
        systemTimer.add(delayMessage);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, message:{}"</span>, delayMs, topic, message, e);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
    }
}
</code></pre>
<ul>
<li>Kafka ç”Ÿäº§è€…è°ƒç”¨è‡ªå®šä¹‰å»¶è¿Ÿæ¶ˆæ¯æ–¹æ³•</li>
<li>å»¶è¿Ÿæ¶ˆæ¯å…¥åº“ï¼ˆRocksDBï¼‰</li>
<li>å°è£…ä»»åŠ¡åŠ å…¥æ—¶é—´è½®</li>
<li>æ—¶é—´è½®è§¦å‘</li>
<li>runæ–¹æ³•æ‰§è¡Œï¼Œå°†æ¶ˆæ¯å‘é€kafkaï¼Œæ¸…é™¤RocksDB</li>
</ul>
<h2 data-id="heading-2">2.DelayMessageï¼šå»¶è¿Ÿä»»åŠ¡çš„æœ€å°æ•°æ®æ¨¡å‹</h2>
<p>æŠ½è±¡ç±» TimerTask çš„ä¸€ç§ä»»åŠ¡å®ç°</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String message; <span class="hljs-comment">// æ¶ˆæ¯ä½“</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> expireTime; <span class="hljs-comment">// ç»å¯¹å»¶è¿Ÿæ—¶é—´ currentTimeMillis + delayMs</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String topic; <span class="hljs-comment">// ä¸»é¢˜</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Long partitionKey; <span class="hljs-comment">// åˆ†åŒº</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> delayMs; <span class="hljs-comment">// ç›¸å¯¹å»¶è¿Ÿæ—¶é—´</span>
</code></pre>
<h2 data-id="heading-3">3.RocksDBï¼šæ¶ˆæ¯æŒä¹…åŒ–ç»„ä»¶</h2>
<ul>
<li>æœåŠ¡æ¢å¤åé‡æ–°åŠ è½½å»¶è¿Ÿä»»åŠ¡</li>
<li>åˆ é™¤è¶…å‡ºå»¶è¿Ÿä¸Šé™çš„ä»»åŠ¡
<ul>
<li>4.SystemTimerï¼šå»¶è¿Ÿä»»åŠ¡è°ƒåº¦å…¥å£</li>
</ul>
</li>
</ul>
<p><strong>1.systemTimer.add(delayMessage)</strong></p>
<p>å°† DelayMessage/TimerTask å°è£…ä¸º TimerTaskEntryï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯ç¯å½¢æ•°ç»„ä¸­ï¼Œæ¯ä¸ªæ¡¶ä¸‹é¢çš„é“¾è¡¨ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡</p>
<p><strong>2.advanceClock() è§¦å‘ bucket</strong></p>
<p>å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± ï¼Œæ¯ä¸ª500msæ£€æŸ¥ä¸€æ¬¡ delayQueue</p>
<p>å¦‚æœé˜Ÿåˆ—ä¸­æœ‰é“¾è¡¨åˆ°æœŸï¼ˆæ¡¶çš„å·¦è¾¹ç•Œï¼‰ï¼Œåˆ™æ¨è¿›æ—¶é—´è½®ï¼Œå¹¶æ‰§è¡Œæ§½å†…ä»»åŠ¡</p>
<h2 data-id="heading-4">5.TimerTask / TimerTaskEntryï¼šä»»åŠ¡åŒ…è£…ç»“æ„</h2>
<ul>
<li>TimerTaskï¼šæœ€ç»ˆæ‰§è¡Œé€»è¾‘ï¼ˆè°ƒç”¨ KafkaTemplate å‘é€ï¼‰</li>
<li>TimerTaskEntryï¼šç¯å½¢åŒå‘é“¾è¡¨èŠ‚ç‚¹ + expirationMsï¼ˆå…·ä½“çš„å»¶è¿Ÿæ—¶é—´ï¼‰</li>
</ul>
<h3 data-id="heading-5">TimerTask ä¸ TimerTaskEntry åŒå‘ç»‘å®š</h3>
<p>TimerTask æŒæœ‰ TimerTaskEntry çš„å¼•ç”¨</p>
<p>TimerTaskEntry æŒæœ‰ TimerTask çš„å¼•ç”¨</p>
<p><strong>1.å–æ¶ˆä»»åŠ¡</strong></p>
<p>TimerTask å–æ¶ˆä»»åŠ¡æ—¶ï¼Œä¼šå°†æŒæœ‰çš„ TimerTaskEntry ä»»åŠ¡æ¡ç›®ä»é“¾è¡¨ä¸­ç§»é™¤ï¼Œå¹¶å°†å¼•ç”¨ç½®ä¸ºç©ºï¼Œ</p>
<p>åˆ¤æ–­æ˜¯å¦å–æ¶ˆä»»åŠ¡æ—¶ï¼Œä¼šæ ¹æ® TimerTask æŒæœ‰çš„å¼•ç”¨æ˜¯å¦ == this æ¥åˆ¤æ–­</p>
<p><strong>2.åŠ å…¥æ—¶é—´è½®ä¸æ—¶é—´è½®é™çº§</strong></p>
<p>bucket.add(timerTaskEntry) æ—¶ï¼Œéœ€è¦å…ˆç§»é™¤å½“å‰ä»»åŠ¡æ¡ç›®åœ¨é“¾è¡¨ä¸­çš„æ—§å¼•ç”¨ï¼Œé˜²æ­¢é‡å¤æ‰§è¡Œ</p>
<p><strong>3.ä¿è¯çº¿ç¨‹å®‰å…¨</strong></p>
<p>setTimerTaskEntry è®¾ç½®æ¡ç›®æ—¶ï¼Œsynchronized åŠ é”ï¼Œä¿è¯ä¸€ä¸ªä»»åŠ¡åªå±äºä¸€ä¸ªæ¡ç›®</p>
<h2 data-id="heading-6">6.TimerTaskListï¼šæ§½ä½ç»“æ„ä¸è¿‡æœŸæ—¶é—´æœºåˆ¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cef7bc1e89413088bb99874160ccf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWFzdGVyX2hs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764132306&amp;x-signature=SdDxNMTYkqFiQwn4w3mvFJawulk%3D" alt="img" loading="lazy"/></p>
<p>æ—¶é—´è½®ï¼ˆTimingWheelï¼‰æ˜¯ä¸€ä¸ª <strong>å­˜å‚¨å®šæ—¶ä»»åŠ¡çš„ç¯å½¢é˜Ÿåˆ—ï¼Œ</strong></p>
<p><strong>åº•å±‚é‡‡ç”¨æ•°ç»„å®ç°ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥å­˜æ”¾ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åˆ—è¡¨ï¼ˆTimerTaskListï¼‰</strong>ã€‚</p>
<p>TimerTaskList æ˜¯ä¸€ä¸ªç¯å½¢çš„åŒå‘é“¾è¡¨ï¼Œ</p>
<p>é“¾è¡¨ä¸­çš„æ¯ä¸€é¡¹è¡¨ç¤ºçš„éƒ½æ˜¯å®šæ—¶ä»»åŠ¡æ¡ç›®ï¼ˆTimerTaskEntryï¼‰ï¼Œå…¶ä¸­å°è£…äº†çœŸæ­£çš„å®šæ—¶ä»»åŠ¡ TimerTaskã€‚</p>
<h3 data-id="heading-7">ReentrantReadWriteLock è¯»å†™é”</h3>
<p>âœ…æ·»åŠ ä»»åŠ¡æ—¶ï¼ŒåŠ è¯»é”ï¼Œç¦æ­¢å¹¶å‘å†™ï¼ˆflushï¼‰å¹²æ‰°ã€‚</p>
<p>âœ…æ¨è¿›æ—¶é—´è½®æ—¶ï¼Œflushæ‰§è¡Œæ§½å†…ä»»åŠ¡æ—¶ï¼ŒåŠ å†™é”ï¼Œç¦æ­¢å¹¶å‘è¯»ï¼ˆaddï¼‰å†™ï¼ˆflushï¼‰ä¿®æ”¹ç»“æ„ã€‚</p>
<h2 data-id="heading-8">7.TimingWheelï¼šæ—¶é—´è½®æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-9">åŸºæœ¬å±æ€§ç»„æˆ</h3>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// æ—¶é—´è½®æ¯ä¸€æ ¼çš„æ—¶é—´é—´éš”ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦ï¼‰</span>
<span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
<span class="hljs-keyword">private</span> Long interval; <span class="hljs-comment">// æ—¶é—´è½®ä¸€åœˆçš„æ€»ä½“æ—¶é—´è·¨åº¦</span>
<span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
<span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// å…¨å±€å¾…æ‰§è¡Œä»»åŠ¡è®¡æ•°å™¨</span>
<span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; queue; <span class="hljs-comment">// å¤šå±‚æ—¶é—´è½®ä»»åŠ¡å…±äº«é˜Ÿåˆ—</span>
<span class="hljs-keyword">private</span> Long currentTime; <span class="hljs-comment">// æ—¶é—´è½®å½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ—¶é—´ï¼Œæ˜¯ tickMs çš„æ•´æ•°å€</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimingWheel overflowWheel; <span class="hljs-comment">// ä¸Šä¸€è½®ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦æ˜¯å½“å‰è½®çš„æ€»ä½“æ—¶é—´è·¨åº¦ï¼‰</span>
<span class="hljs-keyword">private</span> TimerTaskList[] buckets; <span class="hljs-comment">// ç¯å½¢æ•°ç»„</span>
</code></pre>
<h3 data-id="heading-10">add æ–¹æ³•</h3>
<p>expirationï¼šä»»åŠ¡çš„ç»å¯¹åˆ°æœŸæ—¶é—´ (delayMs + Time.getHiresClockMs())</p>
<p>1.expiration &lt; currentTime + tickMsï¼šä»»åŠ¡åˆ°æœŸï¼Œå¦‚æœæ²¡æœ‰å–æ¶ˆï¼Œäº¤ç”±çº¿ç¨‹æ± æ‰§è¡Œ</p>
<p>2.expiration &lt; currentTime + intervalï¼šä»»åŠ¡è½åˆ°ä¸»è½®ï¼Œæœªåˆ°æœŸï¼ŒåŠ å…¥æ—¶é—´è½®ï¼Œè®¾ç½®åˆ°æœŸæ—¶é—´ï¼ŒåŠ å…¥é˜Ÿåˆ—</p>
<p>3.expiration &gt;= currentTime + intervalï¼šä»»åŠ¡è¶…è¿‡ä¸»è½®è¦†ç›–èŒƒå›´ï¼ŒåŠ å…¥ä¸Šä¸€è½®ï¼ˆé€’å½’è°ƒç”¨ addï¼‰</p>
<h3 data-id="heading-11">advanceClock æ–¹æ³•</h3>
<p>å°è¯•æ¨è¿›æ—¶é—´è½®ï¼Œå½“ timeMs &gt;= currentTime + tickMs æ—¶ï¼Œ</p>
<p>ä»»åŠ¡æ¡ç›®ç»å¯¹åˆ°æœŸæ—¶é—´ &gt;= å½“å‰æ—¶é—´ + åŸºæœ¬æ—¶é—´è·¨åº¦ï¼Œæ›´æ–°æ—¶é—´è½®ï¼Œ</p>
<p>å¦‚æœæœ‰çˆ¶è½®ï¼Œé€’å½’å°è¯•æ¨è¿›çˆ¶è½®ï¼Œçˆ¶è½®çš„ä¸€æ ¼ï¼Œé€šå¸¸ç­‰äºä¸»è½®çš„ä¸€åœˆã€‚</p>
<h2 data-id="heading-12">8.å¤šå±‚æ—¶é—´è½®ï¼šä»»åŠ¡é™çº§æµç¨‹</h2>
<p>å‡è®¾æœ‰ä¸‰å±‚æ—¶é—´è½®</p>
<p>ä¸»è½®ï¼štickMsï¼ˆ1sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ20sï¼‰</p>
<p>çˆ¶è½®ï¼štickMsï¼ˆ20sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ400sï¼‰</p>
<p>çˆ·è½®ï¼štickMsï¼ˆ400sï¼‰wheelSizeï¼ˆ20sï¼‰intervalï¼ˆ8000sï¼‰</p>
<p><strong>ğŸ“Œç¬¬ä¸€æ¬¡æ’å…¥</strong></p>
<ul>
<li>expireTime = 450s</li>
<li>ä¸»è½®è¦†ç›– 0~20s â†’ æ”¾ä¸ä¸‹</li>
<li>è°ƒçˆ¶è½®ï¼ˆ20~400sï¼‰ä»æ”¾ä¸ä¸‹</li>
<li>è°ƒçˆ·è½®ï¼ˆ400~8000sï¼‰å‘½ä¸­</li>
<li>çˆ·è½® slot = 400 ï¼ˆè¦†ç›– 400~800ï¼‰</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œåˆ° 400s æ—¶è§¦å‘ flush</strong></p>
<ul>
<li>é“¾è¡¨é”€æ¯é‡å»ºï¼Œä»çˆ·è½®å›æº¯åˆ°çˆ¶è½®</li>
<li>ä»»åŠ¡å‰©ä½™ï¼š450 - 400 = 50s</li>
</ul>
<p><strong>ğŸ“Œé‡æ–° add â†’ å›æº¯è‡³çˆ¶è½®</strong></p>
<ul>
<li>currentTime = 400sï¼Œçˆ¶è½®è¦†ç›– 400~800</li>
<li>å‰©ä½™ 50s è½å…¥çˆ¶è½®</li>
<li>slot è¦†ç›–èŒƒå›´ 40~60s</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œåˆ° 440s æ—¶è§¦å‘ flush</strong></p>
<ul>
<li>ä»»åŠ¡å‰©ä½™ï¼š50 - 40 = 10s</li>
<li>å‰©ä½™ 10s è½å…¥ä¸»è½®</li>
<li>Slot è¦†ç›–èŒƒå›´ 9~10s</li>
<li>æ’å…¥æˆåŠŸ</li>
</ul>
<p><strong>ğŸ“Œä¸»è½®åœ¨ 450s è§¦å‘ flush</strong></p>
<ul>
<li>æ‰§è¡Œ TimerTask</li>
<li>é€šè¿‡ IrcpKafkaTemplate å‘é€ Kafka</li>
</ul>
<h2 data-id="heading-13">9.æœåŠ¡é‡å¯æ¢å¤æœºåˆ¶ï¼šRocksDB â†’ SystemTimer</h2>
<ul>
<li>RocksIterator æ‰«ææ‰€æœ‰ DelayMessage</li>
<li>åˆ¤å®šæ˜¯å¦è¶…å‡ºæœ€å¤§å»¶è¿Ÿ</li>
<li>åŠ å…¥æ—¶é—´è½®</li>
<li>åˆ é™¤è¿‡æœŸ Key</li>
</ul>
<h2 data-id="heading-14">10.ä»£ç å®ç°</h2>
<h3 data-id="heading-15">IrcpKafkaTemplate (è‡ªå®šä¹‰kafkaå·¥å…·ç±»)</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IrcpKafkaTemplate</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> KafkaTemplate&lt;String, Object&gt; staticKafkaTemplate;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> RocksDB rocksDB;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RocksDBManager rocksdbManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SystemTimer systemTimer;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ScheduledExecutorService executorService;
    
    <span class="hljs-meta">@Value("${delay.mq.max.delay.time:86400000}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> delayMqMaxDelayTime; <span class="hljs-comment">// æ¶ˆæ¯ä»rocksdbä¸­æ¢å¤æ—¶ï¼Œè‹¥è¿‡æœŸæ—¶é—´è¶…è¿‡äº†é…ç½®ï¼Œåˆ™ä¼šä¸¢å¼ƒ</span>
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> KafkaTemplate&lt;String, Object&gt; kafkaTemplate;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">IrcpKafkaTemplate</span><span class="hljs-params">(RocksDBManager rocksdbManager)</span> {
        <span class="hljs-built_in">this</span>.rocksdbManager = rocksdbManager;
        <span class="hljs-built_in">this</span>.systemTimer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemTimer</span>(<span class="hljs-string">"kafka-delay-timer"</span>);
        <span class="hljs-built_in">this</span>.executorService = Executors.newSingleThreadScheduledExecutor();
    }

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> RocksDBException {
        rocksDB = rocksdbManager.getRocksDB();
        staticKafkaTemplate = kafkaTemplate;

        <span class="hljs-comment">// æœåŠ¡å¯åŠ¨æ—¶ï¼Œä»RocksDBæ¢å¤æ•°æ®åˆ°æ—¶é—´è½®</span>
        List&lt;<span class="hljs-type">byte</span>[]&gt; keysToDelete = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">RocksIterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> rocksDB.newIterator()) {
            <span class="hljs-type">long</span> <span class="hljs-variable">l</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            <span class="hljs-keyword">for</span> (it.seekToFirst(); it.isValid(); it.next()) {
                <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(it.value());
                <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> DelayMessage.fromJson(json);
                <span class="hljs-keyword">if</span> (delayMessage.getExpireTime() - l &gt; delayMqMaxDelayTime) {
                    log.warn(<span class="hljs-string">"recover from rocksdb will discard. expireTime:{} - currentTimeMillis:{} &gt; configMaxDelayTime:{}, delayMessage:{}"</span>, delayMessage.getExpireTime(), l, delayMqMaxDelayTime, delayMessage.toJson());
                    keysToDelete.add(delayMessage.getKey());
                    <span class="hljs-keyword">continue</span>;
                }
                log.info(<span class="hljs-string">"recover from rocksdb delayMessage:{}"</span>, delayMessage.toJson());
                systemTimer.add(delayMessage);
            }
        }
        keysToDelete.forEach(key -&gt; {
            <span class="hljs-keyword">try</span> {
                rocksDB.delete(key);
            } <span class="hljs-keyword">catch</span> (RocksDBException e) {
                log.error(<span class="hljs-string">"failed to delete key from RocksDB. key:{}"</span>, key, e);
            }
        });

        executorService.scheduleAtFixedRate(() -&gt; {
            <span class="hljs-keyword">try</span> {
                systemTimer.advanceClock(<span class="hljs-number">200</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"advanceClock error"</span>, e);
            }
        }, <span class="hljs-number">5000</span>, <span class="hljs-number">500</span>, TimeUnit.MILLISECONDS);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> KafkaTemplate&lt;String, Object&gt; <span class="hljs-title function_">getKafkaTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> staticKafkaTemplate;
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯å»¶è¿Ÿå‘é€
     *
     * <span class="hljs-doctag">@param</span> delayMs å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰, å»¶è¿Ÿæ—¶é—´æœ€ä½1000msï¼Œå»ºè®®ä¸€èˆ¬ &gt;=5s
     * <span class="hljs-doctag">@param</span> topic   éœ€è¦å‘é€çš„ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> message éœ€è¦å‘é€çš„æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, message);
            rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
            <span class="hljs-comment">// å¤šæ€</span>
            systemTimer.add(delayMessage);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, message:{}"</span>, delayMs, topic, message, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯å»¶è¿Ÿå‘é€ ä¸” æŒ‡å®šåˆ†åŒº
     *
     * <span class="hljs-doctag">@param</span> delayMs      å»¶è¿Ÿæ—¶é—´, å»¶è¿Ÿæ—¶é—´æœ€ä½1000msï¼Œå»ºè®®ä¸€èˆ¬ &gt;=5s
     * <span class="hljs-doctag">@param</span> topic        éœ€è¦å‘é€çš„ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> partitionKey æ ¹æ®keyè®¡ç®—åˆ†åŒº
     * <span class="hljs-doctag">@param</span> message      éœ€è¦å‘é€çš„æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDelay</span><span class="hljs-params">(<span class="hljs-type">long</span> delayMs, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DelayMessage</span> <span class="hljs-variable">delayMessage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, topic, partitionKey, message);
            rocksDB.put(delayMessage.getKey(), delayMessage.toJson().getBytes());
            systemTimer.add(delayMessage);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendDelayMessage error delayMs:{}, topic:{}, partitionKey:{}, message:{}"</span>, delayMs, topic, partitionKey, message, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯æ­£å¸¸å‘é€
     *
     * <span class="hljs-doctag">@param</span> topic   ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> message æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">send</span><span class="hljs-params">(String topic, String message)</span> {
        kafkaTemplate.send(topic, message);
    }

    <span class="hljs-comment">/**
     * æ¶ˆæ¯æ­£å¸¸å‘é€ ä¸” æŒ‡å®šåˆ†åŒº
     *
     * <span class="hljs-doctag">@param</span> topic        ä¸»é¢˜
     * <span class="hljs-doctag">@param</span> partitionKey æ ¹æ®keyè®¡ç®—åˆ†åŒº
     * <span class="hljs-doctag">@param</span> message      æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">send</span><span class="hljs-params">(String topic, Long partitionKey, String message)</span> {
        kafkaTemplate.send(topic, String.valueOf(partitionKey), message);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeFromRocksdb</span><span class="hljs-params">(DelayMessage delayMessage)</span> <span class="hljs-keyword">throws</span> RocksDBException {
        rocksDB.delete(delayMessage.getKey());
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
        rocksdbManager.close();
        executorService.shutdown();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                executorService.shutdownNow();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            log.error(<span class="hljs-string">"stop executorService error"</span>, e);
            executorService.shutdownNow();
        }
    }
}
</code></pre>
<h3 data-id="heading-16">DelayMessage</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DelayMessage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TimerTask</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXPIRE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"expireTime"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PARTITION_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"partitionKey"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TOPIC</span> <span class="hljs-operator">=</span> <span class="hljs-string">"topic"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MESSAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"message"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DELAY_MS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"delayMs"</span>;

    <span class="hljs-comment">// å»¶è¿Ÿä»»åŠ¡ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String message;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> expireTime;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String topic;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Long partitionKey;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> delayMs;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, String topic, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay &lt; <span class="hljs-number">1000</span> ? <span class="hljs-number">1000</span> : delay;
        <span class="hljs-built_in">this</span>.expireTime = System.currentTimeMillis() + delayMs;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.message = message;
        <span class="hljs-built_in">this</span>.partitionKey = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay &lt; <span class="hljs-number">1000</span> ? <span class="hljs-number">1000</span> : delay;
        <span class="hljs-built_in">this</span>.expireTime = System.currentTimeMillis() + delayMs;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.partitionKey = partitionKey;
        <span class="hljs-built_in">this</span>.message = message;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayMessage</span><span class="hljs-params">(<span class="hljs-type">long</span> delay, <span class="hljs-type">long</span> expireTime, String topic, Long partitionKey, String message)</span> {
        <span class="hljs-built_in">this</span>.delayMs = delay;
        <span class="hljs-built_in">this</span>.expireTime = expireTime;
        <span class="hljs-built_in">this</span>.topic = topic;
        <span class="hljs-built_in">this</span>.partitionKey = partitionKey;
        <span class="hljs-built_in">this</span>.message = message;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTopic</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> topic;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMessage</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> message;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] getKey() {
        <span class="hljs-keyword">return</span> MD5Util.getMd5Str(toJson()).getBytes(StandardCharsets.UTF_8);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] getValue() {
        <span class="hljs-keyword">return</span> message.getBytes(StandardCharsets.UTF_8);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getExpireTime</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expireTime;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getDelayMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> delayMs;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        log.info(<span class="hljs-string">"sendToKafka delayMessage: {}"</span>, toJson());
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (partitionKey == <span class="hljs-literal">null</span>) {
                IrcpKafkaTemplate.getKafkaTemplate().send(topic, message);
            } <span class="hljs-keyword">else</span> {
                IrcpKafkaTemplate.getKafkaTemplate().send(topic, String.valueOf(partitionKey), message);
            }

            <span class="hljs-keyword">try</span> {
                IrcpKafkaTemplate.removeFromRocksdb(<span class="hljs-built_in">this</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"after send kafka, remove from rocksdb error message:{}"</span>, toJson(), e);
            }

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"sendToKafka error delayMessage: {}"</span>, toJson(), e);
        }
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toJson</span><span class="hljs-params">()</span> {
        Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        map.put(MESSAGE, message);
        map.put(TOPIC, topic);
        <span class="hljs-keyword">if</span> (partitionKey != <span class="hljs-literal">null</span>) {
            map.put(PARTITION_KEY, String.valueOf(partitionKey));
        }
        map.put(EXPIRE_TIME, String.valueOf(expireTime));
        map.put(DELAY_MS, String.valueOf(delayMs));
        <span class="hljs-keyword">return</span> JSONUtil.toJsonStr(map);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DelayMessage <span class="hljs-title function_">fromJson</span><span class="hljs-params">(String json)</span> {
        Map&lt;String, String&gt; map = JSONUtil.toBean(json, Map.class);
        <span class="hljs-type">long</span> <span class="hljs-variable">delayMs</span> <span class="hljs-operator">=</span> Long.parseLong(map.get(DELAY_MS));
        <span class="hljs-type">long</span> <span class="hljs-variable">expireTime</span> <span class="hljs-operator">=</span> Long.parseLong(map.get(EXPIRE_TIME));
        <span class="hljs-type">String</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> map.get(TOPIC);
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> map.get(MESSAGE);
        <span class="hljs-type">Long</span> <span class="hljs-variable">partitionKey</span> <span class="hljs-operator">=</span> map.get(PARTITION_KEY) == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : Long.parseLong(map.get(PARTITION_KEY));
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayMessage</span>(delayMs, expireTime, topic, partitionKey, message);
    }
}
</code></pre>
<h3 data-id="heading-17">SystemTimer</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SystemTimer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Timer</span>, Function&lt;TimerTaskEntry, Void&gt; {

    <span class="hljs-keyword">private</span> ExecutorService taskExecutor; <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// åŸºæœ¬æ—¶é—´è·¨åº¦</span>
    <span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
    <span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
    <span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; delayQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayQueue</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">taskCounter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// è®°å½•å¾…æ‰§è¡Œä»»åŠ¡çš„æ•°é‡</span>
    <span class="hljs-keyword">private</span> TimingWheel timingWheel; <span class="hljs-comment">// æ—¶é—´è½®å¯¹è±¡ï¼ˆç®¡ç†æ‰€æœ‰ä»»åŠ¡çš„åˆ†é…å’Œå»¶è¿Ÿè§¦å‘ï¼‰</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReentrantReadWriteLock</span> <span class="hljs-variable">readWriteLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantReadWriteLock</span>();
    <span class="hljs-comment">// è¯»é”ç”¨äºæ·»åŠ ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ReentrantReadWriteLock.<span class="hljs-type">ReadLock</span> <span class="hljs-variable">readLock</span> <span class="hljs-operator">=</span> readWriteLock.readLock();
    <span class="hljs-comment">// å†™é”ç”¨äºæ¨è¿›æ—¶é—´è½®ï¼Œflushæ‰§è¡Œä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ReentrantReadWriteLock.<span class="hljs-type">WriteLock</span> <span class="hljs-variable">writeLock</span> <span class="hljs-operator">=</span> readWriteLock.writeLock();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SystemTimer</span><span class="hljs-params">(String executeName)</span> {
        <span class="hljs-comment">// æ¯æ ¼1sï¼Œæ€»å…±60æ ¼</span>
        tickMs = <span class="hljs-number">1000L</span>;
        wheelSize = <span class="hljs-number">60</span>;
        startMs = Time.getHiresClockMs();
        taskExecutor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>,
                <span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(Integer.MAX_VALUE), r -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r, executeName));
        timingWheel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimingWheel</span>(tickMs, wheelSize, startMs, taskCounter, delayQueue);

        <span class="hljs-comment">// æ¯30sæ‰“å°ä¸€æ¬¡å½“å‰å¾…æ‰§è¡Œä»»åŠ¡æ•°é‡</span>
        Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(() -&gt; {
            log.info(<span class="hljs-string">"delay message for number of tasks pending execution: {}"</span>, size());
        }, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTask timerTask)</span> {
        readLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°† timerTask å°è£…ä¸º TimerTaskEntryï¼Œè®°å½•åˆ°æœŸæ—¶é—´</span>
            addTimerTaskEntry(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskEntry</span>(timerTask, timerTask.getDelayMs() + Time.getHiresClockMs()));
        } <span class="hljs-keyword">finally</span> {
            readLock.unlock();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(<span class="hljs-type">long</span> timeoutMs)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> delayQueue.poll(timeoutMs, TimeUnit.MILLISECONDS);
            <span class="hljs-keyword">if</span> (bucket != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ¨è¿›æ—¶é—´è½®ï¼Œä¸å…è®¸å†™</span>
                writeLock.lock();
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">while</span> (bucket != <span class="hljs-literal">null</span>) {
                        timingWheel.advanceClock(bucket.getExpiration());
                        <span class="hljs-comment">// æ‰§è¡Œæ§½å†…ä»»åŠ¡</span>
                        bucket.flush(<span class="hljs-built_in">this</span>);
                        bucket = delayQueue.poll();
                    }
                } <span class="hljs-keyword">finally</span> {
                    writeLock.unlock();
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            log.error(<span class="hljs-string">"advanceClock interrupted"</span>, e);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> taskCounter.get();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        taskExecutor.shutdown();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTimerTaskEntry</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-keyword">if</span> (!timingWheel.add(timerTaskEntry)) {
            <span class="hljs-comment">// ä»»åŠ¡æ²¡è¢«å–æ¶ˆï¼Œç›´æ¥æäº¤çº¿ç¨‹æ± æ‰§è¡Œ</span>
            <span class="hljs-keyword">if</span> (!timerTaskEntry.cancelled()) {
                taskExecutor.submit(timerTaskEntry.getTimerTask());
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Void <span class="hljs-title function_">apply</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        addTimerTaskEntry(timerTaskEntry);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-18">TimingWheel</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimingWheel</span> {
    <span class="hljs-keyword">private</span> Long tickMs; <span class="hljs-comment">// æ—¶é—´è½®æ¯ä¸€æ ¼çš„æ—¶é—´é—´éš”ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦ï¼‰</span>
    <span class="hljs-keyword">private</span> Integer wheelSize; <span class="hljs-comment">// æ—¶é—´è½®çš„æ ¼å­æ•°</span>
    <span class="hljs-keyword">private</span> Long interval; <span class="hljs-comment">// æ—¶é—´è½®ä¸€åœˆçš„æ€»ä½“æ—¶é—´è·¨åº¦</span>
    <span class="hljs-keyword">private</span> Long startMs; <span class="hljs-comment">// æ—¶é—´è½®çš„èµ·å§‹æ—¶é—´</span>
    <span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// å…¨å±€å¾…æ‰§è¡Œä»»åŠ¡è®¡æ•°å™¨</span>
    <span class="hljs-keyword">private</span> DelayQueue&lt;TimerTaskList&gt; queue; <span class="hljs-comment">// å¤šå±‚æ—¶é—´è½®ä»»åŠ¡å…±äº«é˜Ÿåˆ—</span>
    <span class="hljs-keyword">private</span> Long currentTime; <span class="hljs-comment">// æ—¶é—´è½®å½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ—¶é—´ï¼Œæ˜¯ tickMs çš„æ•´æ•°å€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimingWheel overflowWheel; <span class="hljs-comment">// ä¸Šä¸€è½®ï¼ˆåŸºæœ¬æ—¶é—´è·¨åº¦æ˜¯å½“å‰è½®çš„æ€»ä½“æ—¶é—´è·¨åº¦ï¼‰</span>
    <span class="hljs-keyword">private</span> TimerTaskList[] buckets; <span class="hljs-comment">// ç¯å½¢æ•°ç»„</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimingWheel</span><span class="hljs-params">(Long tickMs, Integer wheelSize, Long startMs, AtomicInteger taskCounter, DelayQueue&lt;TimerTaskList&gt; queue)</span> {
        <span class="hljs-built_in">this</span>.tickMs = tickMs;
        <span class="hljs-built_in">this</span>.wheelSize = wheelSize;
        <span class="hljs-built_in">this</span>.startMs = startMs;
        <span class="hljs-built_in">this</span>.taskCounter = taskCounter;
        <span class="hljs-built_in">this</span>.queue = queue;
        <span class="hljs-built_in">this</span>.interval = tickMs * wheelSize;
        <span class="hljs-built_in">this</span>.currentTime = startMs - (startMs % tickMs);
        <span class="hljs-built_in">this</span>.buckets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskList</span>[wheelSize];
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; buckets.length; i++) {
            buckets[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskList</span>(taskCounter);
        }
    }

    <span class="hljs-comment">/**
     * å°†ä¸€ä¸ªä»»åŠ¡åŠ å…¥æ—¶é—´è½®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">expiration</span> <span class="hljs-operator">=</span> timerTaskEntry.getExpirationMs();

        <span class="hljs-comment">// å¦‚æœä»»åŠ¡å·²ç»å–æ¶ˆï¼Œåˆ™ä¸åŠ å…¥</span>
        <span class="hljs-keyword">if</span> (timerTaskEntry.cancelled()) {
            <span class="hljs-comment">// Cancelled</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-comment">// ä»»åŠ¡åˆ°æœŸï¼ˆåˆ°æœŸæ—¶é—´ &lt; å½“å‰è½®+ä¸‹ä¸€æ ¼æ—¶é—´ï¼‰</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expiration &lt; currentTime + tickMs) {
            <span class="hljs-comment">// Already expired</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expiration &lt; currentTime + interval) {
            <span class="hljs-comment">// è®¡ç®—ä»»åŠ¡åº”è¯¥è½å…¥å“ªä¸€ä¸ªæ§½ä½</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">virtualId</span> <span class="hljs-operator">=</span> expiration / tickMs;
            <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> buckets[(<span class="hljs-type">int</span>) (virtualId % wheelSize)];
            bucket.add(timerTaskEntry);

            <span class="hljs-comment">// è®¾ç½®æ§½ä½çš„åˆ°æœŸæ—¶é—´</span>
            <span class="hljs-keyword">if</span> (bucket.setExpiration(virtualId * tickMs)) {
                queue.offer(bucket);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-comment">// ä»»åŠ¡è¶…å‡ºå½“å‰è½®è¦†ç›–èŒƒå›´ï¼Œæ”¾å…¥çˆ¶è½®</span>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Out of the interval. Put it into the parent timer</span>
            <span class="hljs-keyword">if</span> (overflowWheel == <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// åˆ›å»ºçˆ¶è½®ï¼Œä¸€æ ¼æ—¶é—´ = ä¸»è½®ä¸€åœˆæ—¶é—´</span>
                addOverflowWheel();
            }
            <span class="hljs-keyword">return</span> overflowWheel.add(timerTaskEntry);
        }
    }

    <span class="hljs-comment">/**
     * å°è¯•æ¨è¿›æ—¶é—´è½®çš„æ—¶é’Ÿï¼ˆæ›´æ–°æ—¶é—´è½®å½“å‰çš„æ—¶é’Ÿï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(Long timeMs)</span> {
        <span class="hljs-keyword">if</span> (timeMs &gt;= currentTime + tickMs) {
            <span class="hljs-comment">// æ›´æ–°ä¸ºç›®æ ‡æ ¼å­çš„å·¦è¾¹ç•Œ</span>
            currentTime = timeMs - (timeMs % tickMs);

            <span class="hljs-keyword">if</span> (overflowWheel != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ¨è¿›çˆ¶è½®</span>
                overflowWheel.advanceClock(currentTime);
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOverflowWheel</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (overflowWheel == <span class="hljs-literal">null</span>) {
                overflowWheel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimingWheel</span>(interval, wheelSize, currentTime, taskCounter, queue);
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-19">TimerTask</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-type">Long</span> <span class="hljs-variable">delayMs</span> <span class="hljs-operator">=</span> <span class="hljs-number">3000L</span>;
    <span class="hljs-keyword">protected</span> TimerTaskEntry timerTaskEntry; <span class="hljs-comment">// å½“å‰ä»»åŠ¡æ‰€åœ¨é“¾è¡¨èŠ‚ç‚¹</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancel</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (timerTaskEntry != <span class="hljs-literal">null</span>) {
                timerTaskEntry.remove(); <span class="hljs-comment">// ä»æ—¶é—´è½®æ¡¶ç§»é™¤</span>
            }
            timerTaskEntry = <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-comment">/**
     * åŒå‘ç»‘å®š
     * TimerTask æŒæœ‰ TimerTaskEntry çš„å¼•ç”¨
     * TimerTaskEntry æŒæœ‰ TimerTask çš„å¼•ç”¨
     * &lt;p&gt;
     *     TimerTaskEntryï¼šå°è£…äº† TimerTask å’Œå®ƒçš„è°ƒåº¦ä¿¡æ¯ï¼ˆåˆ°æœŸæ—¶é—´ expirationMsã€æ‰€åœ¨æ¡¶ list ç­‰ï¼‰.
     *     TimerTaskï¼šå®é™…è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯èƒ½æ˜¯ DelayMessageã€DelayMessage2 ç­‰.
     * &lt;/p&gt;
     * ä½œç”¨ï¼š
     * 1.å–æ¶ˆä»»åŠ¡ cancelled() ï¼Œé€šè¿‡å¼•ç”¨æŒ‡å‘åˆ¤æ–­æ˜¯å¦è¢«å–æ¶ˆ
     * 2.é‡å…¥æ—¶é—´è½® SystemTimer#apply()ï¼Œéœ€è¦æ ¹æ® timerTask.remove() --&gt; timerTask.getTimerTaskEntry() æ‰¾åˆ°æ—§æ¡ç›®ï¼Œä»åŸæ¡¶ä¸­ç§»é™¤ï¼Œç„¶åå†æŠŠä»»åŠ¡åŠ å…¥æ–°çš„æ¡¶ä¸­
     * 3.ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œset æ–¹æ³•é” thisï¼Œä¿è¯ä¸€ä¸ªä»»åŠ¡åŒæ—¶åªå±äºä¸€ä¸ªæ¡ç›®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTimerTaskEntry</span><span class="hljs-params">(TimerTaskEntry entry)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">if</span> (timerTaskEntry != <span class="hljs-literal">null</span> &amp;&amp; timerTaskEntry != entry) {
                timerTaskEntry.remove();
            }
            timerTaskEntry = entry;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> TimerTaskEntry <span class="hljs-title function_">getTimerTaskEntry</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTaskEntry;
    }

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getDelayMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> delayMs;
    }
}
</code></pre>
<h3 data-id="heading-20">TimerTaskEntry</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTaskEntry</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;TimerTaskEntry&gt; {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> TimerTaskList list; <span class="hljs-comment">// å½“å‰æ‰€åœ¨æ¡¶</span>
    <span class="hljs-keyword">public</span> TimerTaskEntry next; <span class="hljs-comment">// å‰é©±</span>
    <span class="hljs-keyword">public</span> TimerTaskEntry prev; <span class="hljs-comment">// åç»§</span>
    <span class="hljs-keyword">private</span> TimerTask timerTask; <span class="hljs-comment">// åŒ…å«çš„ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> Long expirationMs; <span class="hljs-comment">// åˆ°æœŸæ—¶é—´ï¼Œç”¨äºæ’åº</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskEntry</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskEntry</span><span class="hljs-params">(TimerTask timerTask, Long expirationMs)</span> {
        <span class="hljs-keyword">if</span> (timerTask != <span class="hljs-literal">null</span>) {
            timerTask.setTimerTaskEntry(<span class="hljs-built_in">this</span>);
        }
        <span class="hljs-built_in">this</span>.timerTask = timerTask;
        <span class="hljs-built_in">this</span>.expirationMs = expirationMs;

    }

    <span class="hljs-comment">/**
     * æ¯ä¸ª timerTask å†…éƒ¨ä¼šæŒæœ‰ä¸€ä¸ªå¼•ç”¨ timerTaskEntryï¼Œè¡¨ç¤ºå½“å‰ä»»åŠ¡è¢«å“ªä¸ªæ¡ç›®ç®¡ç†
     * å¦‚æœå½“å‰ä»»åŠ¡è¢«å–æ¶ˆï¼Œåˆ™ timerTaskEntry ä¼šè¢«è®¾ç½®ä¸º nullï¼Œæˆ–è€… timerTaskEntry ä¼šè¢«è®¾ç½®ä¸ºå…¶ä»– timerTaskEntry
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">cancelled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTask.getTimerTaskEntry() != <span class="hljs-built_in">this</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">()</span> {
        <span class="hljs-type">TimerTaskList</span> <span class="hljs-variable">currentList</span> <span class="hljs-operator">=</span> list;
        <span class="hljs-keyword">while</span> (currentList != <span class="hljs-literal">null</span>) {
            currentList.remove(<span class="hljs-built_in">this</span>);
            currentList = list;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(TimerTaskEntry that)</span> {
        <span class="hljs-keyword">if</span> (that == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullPointerException</span>(<span class="hljs-string">"TimerTaskEntry is null"</span>);
        }
        <span class="hljs-type">Long</span> <span class="hljs-variable">expirationMs1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.expirationMs;
        <span class="hljs-type">Long</span> <span class="hljs-variable">expirationMs2</span> <span class="hljs-operator">=</span> that.expirationMs;
        <span class="hljs-keyword">if</span> (expirationMs1 &lt; expirationMs2) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (expirationMs1 &gt; expirationMs2) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }


    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getExpirationMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expirationMs;
    }

    <span class="hljs-keyword">public</span> TimerTask <span class="hljs-title function_">getTimerTask</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timerTask;
    }

    <span class="hljs-keyword">public</span> TimerTaskList <span class="hljs-title function_">getList</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> list;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setList</span><span class="hljs-params">(TimerTaskList list)</span> {
        <span class="hljs-built_in">this</span>.list = list;
    }
}
</code></pre>
<h3 data-id="heading-21">TimerTaskList</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerTaskList</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Delayed</span> {
    
    <span class="hljs-keyword">private</span> AtomicInteger taskCounter; <span class="hljs-comment">// æ¡¶å†…ä»»åŠ¡æ•°é‡è®¡æ•°å™¨</span>
    <span class="hljs-keyword">private</span> TimerTaskEntry root; <span class="hljs-comment">// å“¨å…µèŠ‚ç‚¹ï¼Œå½¢æˆå¾ªç¯åŒå‘é“¾è¡¨</span>
    <span class="hljs-keyword">private</span> AtomicLong expiration; <span class="hljs-comment">// æ¡¶çš„è¿‡æœŸæ—¶é—´ï¼ˆæ¯ä¸ªæ ¼å­çš„å·¦è¾¹ç•Œï¼‰</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskList</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TimerTaskList</span><span class="hljs-params">(AtomicInteger taskCounter)</span> {
        <span class="hljs-built_in">this</span>.taskCounter = taskCounter;
        <span class="hljs-built_in">this</span>.root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimerTaskEntry</span>(<span class="hljs-literal">null</span>, -<span class="hljs-number">1L</span>);
        <span class="hljs-built_in">this</span>.root.next = root;
        <span class="hljs-built_in">this</span>.root.prev = root;
        <span class="hljs-built_in">this</span>.expiration = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(-<span class="hljs-number">1L</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">setExpiration</span><span class="hljs-params">(Long expirationMs)</span> {
        <span class="hljs-keyword">return</span> expiration.getAndSet(expirationMs) != expirationMs;
    }

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getExpiration</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> expiration.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">foreach</span><span class="hljs-params">(Function&lt;TimerTask, Void&gt; f)</span> {
        <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">entry</span> <span class="hljs-operator">=</span> root.next;
        <span class="hljs-comment">// éå†å¾ªç¯é“¾è¡¨</span>
        <span class="hljs-keyword">while</span> (entry != root) {
            <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">nextEntry</span> <span class="hljs-operator">=</span> entry.next;
            <span class="hljs-comment">// ä»»åŠ¡æœªè¢«å–æ¶ˆ</span>
            <span class="hljs-keyword">if</span> (!entry.cancelled()) {
                f.apply(entry.getTimerTask());
            }

            entry = nextEntry;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">done</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// å¾ªç¯ç›´åˆ°æˆåŠŸåŠ å…¥é“¾è¡¨ï¼ˆä¸»è¦æ˜¯ä¸ºäº†å¤„ç†å¹¶å‘æƒ…å†µä¸‹çš„é‡è¯•ï¼‰</span>
        <span class="hljs-keyword">while</span> (!done) {
            <span class="hljs-comment">// å…ˆç§»é™¤ä»»åŠ¡åœ¨é“¾è¡¨ä¸­æ—§çš„å¼•ç”¨ï¼Œé˜²æ­¢é‡å¤æ‰§è¡Œ</span>
            timerTaskEntry.remove();
            <span class="hljs-comment">// é”æ¡¶</span>
            <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
                <span class="hljs-comment">// é”ä½ä»»åŠ¡æ¡ç›®æœ¬èº«ï¼Œé˜²æ­¢å¤šçº¿ç¨‹æ“ä½œç»Ÿä¸€æ¡ç›®</span>
                <span class="hljs-keyword">synchronized</span> (timerTaskEntry) {
                    <span class="hljs-comment">// æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²ç»ç»‘å®šåˆ°æ¡¶</span>
                    <span class="hljs-keyword">if</span> (timerTaskEntry.getList() == <span class="hljs-literal">null</span>) {
                        <span class="hljs-comment">// æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨ï¼ˆroot.prev æŒ‡å‘å°¾ï¼‰</span>
                        <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">tail</span> <span class="hljs-operator">=</span> root.prev;
                        timerTaskEntry.next = root;
                        timerTaskEntry.prev = tail;
                        <span class="hljs-comment">// ç»‘å®šä»»åŠ¡å’Œå½“å‰æ¡¶</span>
                        timerTaskEntry.setList(<span class="hljs-built_in">this</span>);
                        tail.next = timerTaskEntry;
                        root.prev = timerTaskEntry;

                        <span class="hljs-comment">// ä»»åŠ¡æ•° + 1</span>
                        taskCounter.incrementAndGet();
                        done = <span class="hljs-literal">true</span>;
                    }
                }
            }
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(TimerTaskEntry timerTaskEntry)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-keyword">synchronized</span> (timerTaskEntry) {
                <span class="hljs-keyword">if</span> (timerTaskEntry.getList() == <span class="hljs-built_in">this</span>) {
                    timerTaskEntry.next.prev = timerTaskEntry.prev;
                    timerTaskEntry.prev.next = timerTaskEntry.next;
                    timerTaskEntry.next = <span class="hljs-literal">null</span>;
                    timerTaskEntry.prev = <span class="hljs-literal">null</span>;
                    timerTaskEntry.setList(<span class="hljs-literal">null</span>);
                    taskCounter.decrementAndGet();
                }
            }
        }
    }

    <span class="hljs-comment">/**
     * slotã€é”€æ¯--&gt;é‡å»ºã€‘
     * å¾ªç¯é“¾è¡¨åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦å¯ä»¥æ‰§è¡Œ
     * å¦‚æœä¸èƒ½æ‰§è¡Œï¼Œé™çº§åˆ°ä¸‹ä¸€å±‚æ—¶é—´è½®ï¼Œé‡æ–°åŠ å…¥é“¾è¡¨ï¼Œå¦åˆ™æäº¤çº¿ç¨‹æ± æ‰§è¡Œ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flush</span><span class="hljs-params">(Function&lt;TimerTaskEntry, Void&gt; f)</span> {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
            <span class="hljs-type">TimerTaskEntry</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> root.next;
            <span class="hljs-keyword">while</span> (head != root) {
                remove(head);
                f.apply(head);
                head = root.next;
            }
            <span class="hljs-comment">// é‡ç½®æ¡¶è¿‡æœŸæ—¶é—´</span>
            expiration.set(-<span class="hljs-number">1L</span>);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getDelay</span><span class="hljs-params">(TimeUnit unit)</span> {
        <span class="hljs-keyword">return</span> unit.convert(Long.max(getExpiration() - Time.getHiresClockMs(), <span class="hljs-number">0</span>), TimeUnit.MILLISECONDS);
    }

    <span class="hljs-comment">/**
     * æŒ‰æ¡¶çš„åˆ°æœŸæ—¶é—´æ’åº
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Delayed d)</span> {
        TimerTaskList other;
        <span class="hljs-keyword">if</span> (d <span class="hljs-keyword">instanceof</span> TimerTaskList) {
            other = (TimerTaskList) d;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>(<span class="hljs-string">"can not cast to TimerTaskList"</span>);
        }

        <span class="hljs-keyword">if</span> (getExpiration() &lt; other.getExpiration()) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getExpiration() &gt; other.getExpiration()) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-22">RocksDBManagerï¼ˆç®¡ç† RocksDB å®ä¾‹ï¼‰</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RocksDBManager</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RocksDB rocksDB;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RocksDBManager</span><span class="hljs-params">(<span class="hljs-meta">@Value("${rocksdb.path}")</span> String rocksPath)</span> <span class="hljs-keyword">throws</span> RocksDBException {
        RocksDB.loadLibrary();
        <span class="hljs-type">Options</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Options</span>();
        options.setCreateIfMissing(<span class="hljs-literal">true</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">dbPath</span> <span class="hljs-operator">=</span> rocksPath;
        log.info(<span class="hljs-string">"RocksDBManager get dbPath:{}"</span>, dbPath);
        <span class="hljs-keyword">if</span> (dbPath == <span class="hljs-literal">null</span>) {
            dbPath = <span class="hljs-string">"rocksdb"</span>;
        }
        <span class="hljs-type">File</span> <span class="hljs-variable">dbFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(dbPath);
        <span class="hljs-keyword">if</span> (!dbFile.exists()) {
            <span class="hljs-keyword">if</span> (!dbFile.mkdirs()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to create rocksdb.path directory: "</span> + dbPath);
            }
        }
        rocksDB = RocksDB.open(options, dbPath);
    }

    <span class="hljs-keyword">public</span> RocksDB <span class="hljs-title function_">getRocksDB</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> rocksDB;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            rocksDB.close();
            log.info(<span class="hljs-string">"rocksDB closed."</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"close RocksDB error"</span>, e);
        }
    }
}
</code></pre>
<h3 data-id="heading-23">Timer</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Timer</span> {

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TimerTask timerTask)</span>;
    
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">advanceClock</span><span class="hljs-params">(<span class="hljs-type">long</span> timeoutMs)</span>;

    <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span>;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span>;
}
</code></pre>
<h3 data-id="heading-24">Time</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Time</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Long <span class="hljs-title function_">getHiresClockMs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> TimeUnit.NANOSECONDS.toMillis(System.nanoTime());
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573972055269785638</link>    <guid>https://juejin.cn/post/7573972055269785638</guid>    <pubDate>2025-11-19T06:01:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573972055269785638" data-draft-id="7573969178388185139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-19T06:01:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åº”ç”¨ä¸Šæ¶å…¨æµç¨‹å®æˆ˜è§£æï¼Œä»è¯ä¹¦åˆ°å®¡æ ¸çš„å®Œæ•´å¼€å‘è€…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T06:01:07.000Z" title="Wed Nov 19 2025 06:01:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ— è®ºæ˜¯ç‹¬ç«‹å¼€å‘è€…è¿˜æ˜¯ä¼ä¸šå›¢é˜Ÿï¼Œâ€œiOS åº”ç”¨ä¸Šæ¶â€ éƒ½æ˜¯ç§»åŠ¨å¼€å‘æµç¨‹ä¸­æœ€å…³é”®çš„ç¯èŠ‚ä¹‹ä¸€ã€‚
è‹¹æœç”Ÿæ€ä»¥ä¸¥æ ¼è‘—ç§°ï¼Œæ¶‰åŠè¯ä¹¦ä½“ç³»ã€ç­¾åè§„åˆ™ã€ä¸Šä¼ æ¸ é“ä¸å®¡æŸ¥æœºåˆ¶ï¼›
å°¤å…¶å¯¹äºé¦–æ¬¡ä¸Šæ¶çš„å›¢é˜Ÿè€Œè¨€ï¼Œå¸¸å› ä¸äº†è§£æµç¨‹è€Œå¤šæ¬¡è¢«æ‹’ã€‚</p>
<p>å®é™…ä¸Šï¼Œåªè¦ç†è§£ iOS ä¸Šæ¶ä½“ç³»çš„åº•å±‚ç»“æ„ï¼Œä¸Šæ¶å¹¶ä¸å›°éš¾ã€‚
æ— è®ºä½ ä½¿ç”¨çš„æ˜¯ <strong>macOSã€Windows æˆ– Linux</strong>ï¼Œéƒ½å¯ä»¥å®Œæˆæ•´ä¸ªæµç¨‹ã€‚
ä¸‹é¢å°†ä»¥å·¥ç¨‹å®è·µçš„è§’åº¦ï¼Œæ‹†è§£ä¸€æ¬¡å®Œæ•´çš„ iOS åº”ç”¨ä¸Šæ¶æµç¨‹ï¼Œå¹¶ç»™å‡ºè·¨å¹³å°å¯è¡Œå·¥å…·ç»„åˆæ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸Šæ¶ iOS åº”ç”¨å‰ï¼Œä½ å¿…é¡»å‡†å¤‡ä»€ä¹ˆï¼Ÿ</h2>
<p>ä¸Šæ¶æµç¨‹æœ¬è´¨ä¸Šç”±ä¸‰ç±»æ¡ä»¶æ„æˆï¼š</p>
<h3 data-id="heading-1"><strong>ï¼ˆ1ï¼‰è´¦å·æ¡ä»¶</strong></h3>
<ul>
<li>ä»˜è´¹å¼€å‘è€…è´¦å·ï¼ˆApple Developer Programï¼‰</li>
<li>App Store Connect å¯è®¿é—®</li>
<li>è´¦å·çŠ¶æ€æ­£å¸¸ä¸”æœªè¢«é™åˆ¶</li>
</ul>
<h3 data-id="heading-2"><strong>ï¼ˆ2ï¼‰æŠ€æœ¯æ¡ä»¶</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>App ID</li>
<li>å‘å¸ƒè¯ä¹¦ï¼ˆDistribution Certificateï¼‰</li>
<li>æè¿°æ–‡ä»¶ï¼ˆProvisioning Profileï¼‰</li>
<li>æ­£ç¡®ç­¾åçš„ IPA æ–‡ä»¶</li>
<li>åˆè§„çš„éšç§ç”¨é€”å£°æ˜ï¼ˆInfo.plistï¼‰</li>
</ul>
<h3 data-id="heading-3"><strong>ï¼ˆ3ï¼‰å®¡æ ¸æ¡ä»¶</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>åº”ç”¨å†…å®¹çœŸå®ã€åŠŸèƒ½å®Œæ•´</li>
<li>æˆªå›¾ç¬¦åˆè§„èŒƒ</li>
<li>éšç§æ”¿ç­–é“¾æ¥æœ‰æ•ˆ</li>
<li>ä¸åŒ…å«è¿è§„å†…å®¹</li>
</ul>
<p>æŒæ¡è¿™äº›æ¡ä»¶ï¼Œæ•´ä¸ªä¸Šæ¶è¿‡ç¨‹å°±ä¼šå˜å¾—æ¸…æ™°ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€å¼€å‘è€…è´¦å·ä¸ App Store Connect åˆ›å»ºåº”ç”¨</h2>
<p>æ³¨å†Œå¼€å‘è€…è´¦å·åï¼Œç¬¬ä¸€æ­¥æ˜¯åœ¨ App Store Connect åˆ›å»ºåº”ç”¨æ¡ç›®ï¼š</p>
<ul>
<li>åº”ç”¨åç§°</li>
<li>Bundle IDï¼ˆéœ€ä¸ä»£ç ä¸€è‡´ï¼‰</li>
<li>è¯­è¨€</li>
<li>åˆ†ç±»</li>
<li>å®šä»·æ–¹å¼</li>
<li>SKUï¼ˆå†…éƒ¨è¯†åˆ«ç”¨ï¼‰</li>
</ul>
<p>æ‰€æœ‰æ“ä½œå‡å¯åœ¨ç½‘é¡µç«¯å®Œæˆï¼Œä¸ä¾èµ–æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€è¯ä¹¦ä½“ç³»ï¼šiOS ä¸Šæ¶çš„åŸºç¡€æ ¸å¿ƒ</h2>
<p>iOS çš„è¯ä¹¦ä½“ç³»ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li><strong>App ID</strong>ï¼šå”¯ä¸€æ ‡è¯†åº”ç”¨ï¼Œä¾‹å¦‚ <code>com.demo.app</code></li>
<li><strong>å‘å¸ƒè¯ä¹¦ï¼ˆDistribution Certificateï¼‰</strong></li>
<li><strong>æè¿°æ–‡ä»¶ï¼ˆApp Store Provisioning Profileï¼‰</strong></li>
</ol>
<p>è¿™äº›å†…å®¹å…±åŒå†³å®šä¸€ä¸ª IPA æ˜¯å¦å…·å¤‡ â€œåˆæ³•èº«ä»½â€ã€‚</p>
<h3 data-id="heading-6">å¦‚ä½•ç”Ÿæˆè¯ä¹¦ï¼Ÿ</h3>
<p>ä¼ ç»Ÿæ–¹å¼ï¼šä½¿ç”¨ Mac çš„é’¥åŒ™ä¸²åŠ©æ‰‹ç”Ÿæˆ CSRï¼Œå†åˆ°è‹¹æœåå°åˆ›å»ºè¯ä¹¦ã€‚
è¿™å¯¹ Windows/Linux ç”¨æˆ·éå¸¸ä¸å‹å¥½ã€‚</p>
<h3 data-id="heading-7">è·¨å¹³å°æ–¹å¼ï¼šä½¿ç”¨Appuploaderç”Ÿæˆè¯ä¹¦</h3>
<p>ä¾‹å¦‚ä½¿ç”¨è·¨å¹³å°å·¥å…·è‡ªåŠ¨åˆ›å»ºè¯ä¹¦ä¸æè¿°æ–‡ä»¶
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba676c5b67ed44669464311bd7c66900~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764136866&amp;x-signature=KehTclTp3rajk2LY9NxG9l3yZ1Q%3D" alt="è¯ä¹¦" loading="lazy"/></p>
<p>å®ƒèƒ½åœ¨ <strong>Windows / Linux / macOS</strong> ä¸Šç›´æ¥ç”Ÿæˆè¯ä¹¦æ–‡ä»¶ï¼Œé€‚åˆå›¢é˜Ÿåä½œæˆ–ç¼ºä¹ Mac ç¯å¢ƒçš„å¼€å‘è€…ã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€æ„å»º IPAï¼šä¸åŒæŠ€æœ¯æ ˆçš„æ„å»ºæ–¹å¼</h2>
<p>IPAï¼ˆiOS åº”ç”¨å®‰è£…åŒ…ï¼‰æ˜¯ä¸Šæ¶çš„æ ¸å¿ƒäº§ç‰©ã€‚
ä¸åŒæŠ€æœ¯æ ˆçš„æ„å»ºæ–¹å¼å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-9">1. åŸç”Ÿ iOSï¼ˆSwift/Objective-Cï¼‰</h3>
<p>å¿…é¡»ä½¿ç”¨ Xcode Archive åŠŸèƒ½å¯¼å‡º IPAã€‚</p>
<h3 data-id="heading-10">2. uni-app</h3>
<p>ä½¿ç”¨ <strong>HBuilderX äº‘æ‰“åŒ…</strong> ç”Ÿæˆ IPAï¼Œæ— éœ€æœ¬åœ° Macã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18a740357708499b9bb143452ea55430~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764136866&amp;x-signature=HdlSplI%2BWpzu0wqdk3aEq%2BSa6Mg%3D" alt="hbæ‰“åŒ…" loading="lazy"/></p>
<h3 data-id="heading-11">3. Flutter</h3>
<p>å¯é€‰æ‹©ä»¥ä¸‹äº‘æ„å»ºå¹³å°ï¼š</p>
<ul>
<li>Codemagic</li>
<li>Bitrise</li>
<li>GitHub Actionsï¼ˆMac Runnerï¼‰</li>
</ul>
<h3 data-id="heading-12">4. React Native / Ionic / Capacitor</h3>
<p>å¯ä½¿ç”¨ï¼š</p>
<ul>
<li>Expo Application Services</li>
<li>ç¬¬ä¸‰æ–¹ CI å¹³å°</li>
</ul>
<p>æ„å»ºæˆåŠŸåï¼Œå³å¯ç”Ÿæˆç­¾åå®Œæ•´çš„ IPAã€‚</p>
<hr/>
<h2 data-id="heading-13">äº”ã€ä¸Šä¼  IPAï¼šä¸Šæ¶ iOS åº”ç”¨çš„å…³é”®ä¸€æ­¥</h2>
<p>è‹¹æœå®˜æ–¹æä¾›çš„ä¸Šä¼ å·¥å…·åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>å·¥å…·</th><th>å¹³å°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>Xcode Organizer</td><td>ä»… macOS</td><td>æ‰‹åŠ¨ä¸Šä¼ </td></tr><tr><td>Transporter</td><td>ä»… macOS</td><td>å›¾å½¢åŒ–ä¸Šä¼ </td></tr><tr><td>altool</td><td>ä»… macOS</td><td>å·²åºŸå¼ƒ</td></tr></tbody></table>
<p>å¯¹äº Windows/Linux å¼€å‘è€…æ¥è¯´ï¼Œå¿…é¡»ä½¿ç”¨è·¨å¹³å°ä¸Šä¼ æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-14">å…­ã€è·¨å¹³å°ä¸Šä¼  IPAï¼šå¯åœ¨ä»»æ„ç³»ç»Ÿæ‰§è¡Œ</h2>
<p>è·¨å¹³å°ä¸Šä¼ çš„æ ¸å¿ƒæ˜¯â€œä½¿ç”¨ç¬¦åˆè‹¹æœåè®®çš„ä¸Šä¼ å·¥å…·â€ã€‚</p>
<p>å‘½ä»¤è¡Œä¸Šä¼ ç¤ºä¾‹ï¼ˆå¼€å¿ƒä¸Šæ¶ CLIï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u ios@team.com -p xxx-xxx-xxx-xxx -c 2 -f ./output/MyApp.ipa
</code></pre>
<p>è¯´æ˜ï¼š</p>

























<table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>-u</code></td><td>Apple è´¦å·</td></tr><tr><td><code>-p</code></td><td>App ä¸“ç”¨å¯†ç </td></tr><tr><td><code>-c</code></td><td>ä¸Šä¼ é€šé“ï¼ˆ2 æ¨èï¼‰</td></tr><tr><td><code>-f</code></td><td>æŒ‡å®š IPA æ–‡ä»¶è·¯å¾„</td></tr></tbody></table>
<p>ä¸Šä¼ æˆåŠŸåï¼Œæ„å»ºä¼šè‡ªåŠ¨å‡ºç°åœ¨ï¼š</p>
<ul>
<li><strong>TestFlight</strong></li>
<li>App Store Connect â†’ â€œæ„å»ºç‰ˆæœ¬â€</li>
</ul>
<p>CLI å·¥å…·çš„ä¼˜åŠ¿éå¸¸æ˜æ˜¾ï¼š</p>
<ul>
<li>æ”¯æŒ Windows / Linux / macOS</li>
<li>å¯è‡ªåŠ¨åŒ–æ‰§è¡Œï¼ˆCI/CDï¼‰</li>
<li>ä¸Šä¼ æ—¥å¿—æ¸…æ™°</li>
<li>ä¸ä¾èµ–å®ä½“ Mac</li>
<li>ç¨³å®šæ€§é«˜ï¼Œé€‚åˆå›¢é˜Ÿåä½œ</li>
</ul>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€åœ¨ App Store Connect ä¸­å®Œæˆåº”ç”¨é…ç½®</h2>
<p>ä¸Šä¼ æˆåŠŸåï¼Œå¼€å‘è€…éœ€è¦å¡«å†™ï¼š</p>
<ul>
<li>åº”ç”¨æˆªå›¾ï¼ˆå¤šå°ºå¯¸ï¼‰</li>
<li>åº”ç”¨æè¿°ã€ç®€ä»‹ã€å…³é”®è¯</li>
<li>éšç§æ”¿ç­– URL</li>
<li>æƒé™ç”¨é€”æè¿°</li>
<li>ç‰ˆæœ¬å·å’Œæ„å»ºç‰ˆæœ¬å…³è”</li>
<li>å¹´é¾„åˆ†çº§</li>
<li>æäº¤å®¡æ ¸æ‰€éœ€çš„é—®å·ä¿¡æ¯</li>
</ul>
<p>æ³¨æ„ï¼šæˆªå›¾å¿…é¡»çœŸå®ä¸”å¯¹åº”åº”ç”¨å®é™…ç•Œé¢ã€‚</p>
<hr/>
<h2 data-id="heading-16">å…«ã€å®¡æ ¸æµç¨‹ä¸å¸¸è§æ‹’ç»ç‚¹</h2>
<p>å®¡æ ¸é€šå¸¸ 1â€”3 å¤©ï¼Œæ–°åº”ç”¨å¯èƒ½æ›´ä¹…ã€‚
æ‹’ç»åŸå› å¸¸è§å¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>æ‹’å®¡åŸå› </th><th>è¯´æ˜</th><th>è§£å†³æ–¹å¼</th></tr></thead><tbody><tr><td>éšç§ç”¨é€”æè¿°ç¼ºå¤±</td><td>ç¼ºå°‘æƒé™è¯´æ˜</td><td>æ›´æ–° Info.plist</td></tr><tr><td>æˆªå›¾ä¸åº”ç”¨ä¸ç¬¦</td><td>ä½¿ç”¨éçœŸå® UI</td><td>æ›¿æ¢çœŸå®æˆªå›¾</td></tr><tr><td>åŠŸèƒ½é—ªé€€</td><td>åˆå§‹åŒ–å¼‚å¸¸</td><td>çœŸæœºæµ‹è¯•ä¿®å¤ Bug</td></tr><tr><td>éšç§æ”¿ç­–æ— æ³•è®¿é—®</td><td>URL 404</td><td>æ›´æ¢å¯è®¿é—®ç½‘é¡µ</td></tr><tr><td>ç¬¬ä¸‰æ–¹ç™»å½•æœªæŒ‰è§„èŒƒ</td><td>OAuth æˆ– Apple ç™»å½•å¼‚å¸¸</td><td>è°ƒæ•´é€»è¾‘</td></tr></tbody></table>
<p>åªè¦å‡†å¤‡å……åˆ†ï¼Œé€šå¸¸å¯å¿«é€Ÿé€šè¿‡å®¡æ ¸ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¹ã€è·¨å¹³å°å›¢é˜Ÿçš„å®Œæ•´ä¸Šæ¶æ–¹æ¡ˆï¼ˆç¤ºä¾‹ï¼‰</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ª Windows å›¢é˜Ÿçš„æ ‡å‡†ä¸Šæ¶æµç¨‹ï¼š</p>
<ol>
<li>Windows ä¸­ä½¿ç”¨ uni-app/Flutter/React Native å¼€å‘</li>
<li>ä½¿ç”¨äº‘æ‰“åŒ…å¹³å°ç”Ÿæˆ IPA</li>
<li>åœ¨ Windows ä¸Šä½¿ç”¨ CLI ç”Ÿæˆè¯ä¹¦</li>
<li>ä½¿ç”¨Appuploaderå‘½ä»¤è¡Œä¸Šä¼  IPA</li>
<li>æµè§ˆå™¨ç™»å½• App Store Connect å¡«å†™ä¿¡æ¯</li>
<li>æäº¤å®¡æ ¸å¹¶è·Ÿè¿›ç»“æœ</li>
</ol>
<p>æ•´ä¸ªæµç¨‹å®Œå…¨ä¸ä¾èµ– Macã€‚</p>
<hr/>
<p>iOS åº”ç”¨ä¸Šæ¶çœ‹ä¼¼å¤æ‚ï¼Œä½†æ ¸å¿ƒæµç¨‹å…¶å®éå¸¸æ˜ç¡®ï¼š<strong>è´¦å· â†’ è¯ä¹¦ â†’ æ‰“åŒ… â†’ ä¸Šä¼  â†’ é…ç½® â†’ å®¡æ ¸</strong>ã€‚</p>
<p>å¦‚ä»Šï¼Œé€šè¿‡è·¨å¹³å°å·¥å…·å’Œæˆç†Ÿçš„äº‘æ„å»ºæœåŠ¡ï¼Œå¼€å‘è€…å®Œå…¨å¯ä»¥åœ¨ä»»ä½•ç³»ç»Ÿä¸Šå®Œæˆä¸Šæ¶è¿‡ç¨‹ã€‚
å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.applicationloader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.applicationloader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.applicationloader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰]]></title>    <link>https://juejin.cn/post/7573958996668858395</link>    <guid>https://juejin.cn/post/7573958996668858395</guid>    <pubDate>2025-11-19T04:06:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573958996668858395" data-draft-id="7573972055269081126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Gemini"/> <meta itemprop="datePublished" content="2025-11-19T04:06:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="akå•Š"/> <meta itemprop="url" content="https://juejin.cn/user/237916932030253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€†å¤©ï¼Gemini 3 Proç›´æ¥å°ç¥ ï¼ˆç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/237916932030253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    akå•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:06:56.000Z" title="Wed Nov 19 2025 04:06:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ä¸‰å¥è¯å®Œæˆçš„å°çƒç‰©ç†ä¸–ç•Œ</h2>
<p><em>2025Â·11Â·19</em></p>
<p>æœ€è¿‘åœ¨æµ‹è¯• Gemini 3 Pro çš„ä»£ç ç”Ÿæˆèƒ½åŠ›ï¼Œæˆ‘åšäº†ä¸€ä¸ªå¾ˆç®€å•çš„å®éªŒï¼šç”¨å°½å¯èƒ½å°‘çš„è¯ï¼Œè®©å®ƒå®ç°ä¸€ä¸ªå®Œæ•´çš„äº¤äº’åŠ¨ç”»ã€‚</p>
<p>æœ€åï¼Œæˆ‘åªè¯´äº†ä¸‰å¥è¯ã€‚</p>
<hr/>
<h3 data-id="heading-1">ç¬¬ä¸€å¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œç”Ÿæˆä¸€å †é¢œè‰²å„å¼‚ï¼Œåœ¨ç©ºé—´ä¹±å¼¹çš„å°çƒã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574281654547447843" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574281654547447843" data-src="https://code.juejin.cn/pen/7574281654547447843" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span>
å®ƒè¿”å›äº†ä¸€ä¸ªç»“æ„å®Œæ•´çš„ Canvas åŠ¨ç”»ï¼š</p>
<ul>
<li>éšæœºé¢œè‰²</li>
<li>éšæœºé€Ÿåº¦</li>
<li>å…¨å±</li>
<li>ä¸æ–­åå¼¹</li>
<li>ç‚¹å‡»è¿˜èƒ½ç”Ÿæˆæ–°çš„çƒ</li>
</ul>
<hr/>
<h3 data-id="heading-2">ç¬¬äºŒå¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œä¸è¦å…‰æ•ˆï¼Œå°çƒå¯Œæœ‰å¼¹æ€§ï¼Œå¯ä»¥å¾®å˜å½¢ã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574280045792624686" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574280045792624686" data-src="https://code.juejin.cn/pen/7574280045792624686" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span>
å®ƒè‡ªåŠ¨ç†è§£äº†æˆ‘æƒ³è¦â€œæœå†»çƒâ€â€œæ©¡èƒ¶çƒâ€é‚£ç§è½»å¾®çš„æ‹‰ä¼¸ä¸å‹æ‰æ•ˆæœï¼Œå¹¶é‡æ–°ç»„ç»‡äº†ä»£ç ï¼š</p>
<ul>
<li>ç§»é™¤å…‰æ•ˆä¸å åŠ æ¨¡å¼</li>
<li>ç»™å°çƒåŠ ä¸Šç®€å•çš„ä½“ç§¯æ¸å˜</li>
<li>æ ¹æ®é€Ÿåº¦æ–¹å‘è¿›è¡Œè½»å¾®å˜å½¢ï¼ˆstretch &amp; squashï¼‰</li>
</ul>
<p>æˆ‘æ²¡æœ‰è§£é‡Šå…¬å¼ï¼Œå®ƒè‡ªå·±æ‰¾åˆ°äº†åˆç†å®ç°æ–¹å¼ã€‚<br/>
è¿™ä¸€ç‚¹ç»™æˆ‘ç•™ä¸‹æ¯”è¾ƒæ·±çš„å°è±¡ã€‚</p>
<hr/>
<h3 data-id="heading-3">ç¬¬ä¸‰å¥è¯ï¼š</h3>
<blockquote>
<p><strong>â€œå°çƒä¹‹é—´å¯ä»¥ç›¸äº’ç¢°æ’ï¼Œç¢°æ’åä¼šå˜å½¢ç„¶åå¤åŸã€‚â€</strong></p>
</blockquote>
<p><span href="https://code.juejin.cn/pen/7574273153342373934" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7574273153342373934" data-src="https://code.juejin.cn/pen/7574273153342373934" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p>è¿™æ˜¯æœ€éš¾çš„ä¸€æ­¥ï¼Œå› ä¸ºå·²ç»æ¶‰åŠï¼š</p>
<ul>
<li>çƒä½“ç¢°æ’æ£€æµ‹</li>
<li>åŠ¨é‡è®¡ç®—</li>
<li>é€Ÿåº¦äº¤æ¢</li>
<li>ä½ç½®ä¿®æ­£ï¼ˆé¿å…é‡å ï¼‰</li>
<li>ç¢°æ’ç¬é—´çš„æŒ¤å‹å˜å½¢</li>
</ul>
<p>ç»“æœè¿”å›çš„ä»£ç ä¸ä»…å®ç°äº†å…¨éƒ¨å†…å®¹ï¼Œè€Œä¸”ç»“æ„åŒ–ç¨‹åº¦ä¾ç„¶å¾ˆé«˜ï¼Œä¾¿äºç»§ç»­æ‰©å±•ã€‚</p>
<p>è¿™ä¸ªéƒ¨åˆ†å¦‚æœæˆ‘è‡ªå·±å†™ï¼Œä»é›¶å¼€å§‹è‡³å°‘éœ€è¦ 1ï½2 å°æ—¶ï¼Œå› ä¸ºè¦ä¸æ–­è°ƒè¯•ç¢°æ’ã€ä¿®æ­£é‡å ï¼Œè¿˜æœ‰å˜å½¢çš„æ’å€¼ã€‚</p>
<p>å®ƒä¸€æ¬¡æ€§ç”Ÿæˆçš„ä»£ç æ²¡æœ‰æ˜æ˜¾é€»è¾‘é—®é¢˜ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯æ„å¤–çš„ã€‚</p>
<hr/>
<h3 data-id="heading-4">ç®€å•æ€»ç»“</h3>
<p>è¿™æ¬¡ä½“éªŒéå¸¸ç›´æ¥ï¼Œä¸éœ€è¦å¤¸å¤§ï¼š</p>
<ul>
<li><strong>æˆ‘åªç»™äº†ä¸‰å¥è¯</strong></li>
<li>æ¯å¥è¯éƒ½åœ¨å¢åŠ ç³»ç»Ÿå¤æ‚åº¦</li>
<li>å®ƒèƒ½æŒç»­ä¿æŒä»£ç è´¨é‡</li>
<li>ç”Ÿæˆé€Ÿåº¦å¿«</li>
<li>ç»†èŠ‚å®ç°åˆ°ä½</li>
<li>æ²¡æœ‰å‡ºç°æ˜æ˜¾ bug</li>
</ul>
<p>ä»å®ç”¨è§’åº¦è®²ï¼Œ<strong>å¦‚æœä»¥åè¦å¿«é€ŸéªŒè¯åŠ¨ç”»ã€äº¤äº’ã€ç‰©ç†æ•ˆæœçš„åŸå‹ï¼Œè¿™ç§èƒ½åŠ›éå¸¸æœ‰ç”¨</strong>ã€‚</p>
<p><strong>Gemini 3 Pro</strong> è¡¨ç°å‡ºçš„èƒ½åŠ›è¿œè¶…æˆ‘é¢„æœŸã€‚æˆ‘åªè¯´äº†ä¸‰å¥è¯ï¼Œå®ƒå°±æŠŠä¸€ä¸ªå®Œæ•´çš„å°çƒç‰©ç†ä¸–ç•Œæ­å»ºå¥½äº†â€”â€”ä»éšæœºé¢œè‰²ã€è‡ªç”±å¼¹è·³ï¼Œåˆ°é€Ÿåº¦æ‹‰ä¼¸ã€ç¢°æ’æŒ¤å‹ï¼Œå†åˆ°é˜²ç²˜è¿ä¿®æ­£ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚éƒ½å¤„ç†å¾—äº•äº•æœ‰æ¡ã€‚å®ƒä¸ä»…ç†è§£äº†æˆ‘çš„æ„å›¾ï¼Œè¿˜èƒ½æŠŠå¤æ‚é€»è¾‘è‡ªåŠ¨è½åœ°ï¼Œç”Ÿæˆç»“æ„æ¸…æ™°ã€å¯æ‰©å±•çš„ä»£ç ã€‚è¿™ç§é€Ÿåº¦ã€å‡†ç¡®åº¦å’Œå·¥ç¨‹çº§è´¨é‡ï¼ŒçœŸçš„è®©äººæ„Ÿå—åˆ°å¤§æ¨¡å‹å¸¦æ¥çš„æ•ˆç‡é©å‘½â€”â€”ä½ è¯´çš„ä¸‰å¥è¯ï¼Œå®ƒå‡ ä¹è¯»æ‡‚äº†ä½ çš„è„‘å­ï¼Œå¹¶ç›´æ¥æŠŠæƒ³æ³•å˜æˆç°å®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ]]></title>    <link>https://juejin.cn/post/7573950036897136680</link>    <guid>https://juejin.cn/post/7573950036897136680</guid>    <pubDate>2025-11-19T04:16:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897136680" data-draft-id="7573978809365315584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-19T04:16:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IT_é™ˆå¯’"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IT_é™ˆå¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:16:53.000Z" title="Wed Nov 19 2025 04:16:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Redisæ·±åº¦ä¼˜åŒ–ï¼š10ä¸ªè®©ä½ çš„QPSæå‡50%çš„å…³é”®é…ç½®è§£æ</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Redisä½œä¸ºå½“ä»Šæœ€æµè¡Œçš„å†…å­˜æ•°æ®åº“ä¹‹ä¸€ï¼Œä»¥å…¶é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„ç‰¹æ€§æˆä¸ºä¼—å¤šäº’è”ç½‘ä¼ä¸šçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„å¢é•¿ï¼Œè®¸å¤šå›¢é˜Ÿå‘ç°Redisçš„æ€§èƒ½å¹¶æœªè¾¾åˆ°é¢„æœŸæ°´å¹³ã€‚äº‹å®ä¸Šï¼ŒRedisçš„é»˜è®¤é…ç½®å¾€å¾€æ˜¯ä¸ºé€šç”¨åœºæ™¯è®¾è®¡çš„ï¼Œå¹¶ä¸èƒ½å……åˆ†å‘æŒ¥å…¶æ½œåŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ10ä¸ªå…³é”®é…ç½®é¡¹ï¼Œé€šè¿‡åˆç†çš„è°ƒä¼˜å¯ä»¥è®©ä½ çš„Rediså®ä¾‹QPSï¼ˆQueries Per Secondï¼‰æå‡50%ç”šè‡³æ›´å¤šã€‚</p>
<p>æœ¬æ–‡å°†åŸºäºRedis 6.2åŠä»¥ä¸Šç‰ˆæœ¬ï¼ˆå½“å‰ç¨³å®šç‰ˆï¼‰è¿›è¡Œè®¨è®ºï¼Œæ‰€æœ‰ä¼˜åŒ–å»ºè®®å‡ç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯å¹¶é™„æœ‰åŸç†è¯´æ˜ã€‚æˆ‘ä»¬å°†ä»å†…å­˜ç®¡ç†ã€ç½‘ç»œå¤„ç†ã€æŒä¹…åŒ–ç­–ç•¥ç­‰å¤šä¸ªç»´åº¦å±•å¼€åˆ†æã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–</h2>
<h3 data-id="heading-3">1.1 åˆç†è®¾ç½®<code>maxmemory-policy</code></h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼šnoeviction</span>
<span class="hljs-section"># æ¨èå€¼ï¼švolatile-lruï¼ˆé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼‰</span>
</code></pre>
<p>å½“å†…å­˜è¾¾åˆ°<code>maxmemory</code>é™åˆ¶æ—¶ï¼ŒRedisçš„è¡Œä¸ºç”±è¿™ä¸ªå‚æ•°å†³å®šã€‚é»˜è®¤çš„<code>noeviction</code>ç­–ç•¥ä¼šåœ¨å†…å­˜æ»¡æ—¶æ‹’ç»å†™å…¥è¯·æ±‚ï¼Œè¿™å¯¹é«˜å¯ç”¨ç³»ç»Ÿæ˜¯è‡´å‘½çš„ã€‚</p>
<ul>
<li><strong>volatile-lru</strong>ï¼šä»…å¯¹è®¾ç½®äº†TTLçš„keyè¿›è¡ŒLRUæ·˜æ±°</li>
<li><strong>allkeys-lru</strong>ï¼šå¯¹æ‰€æœ‰keyè¿›è¡ŒLRUæ·˜æ±°</li>
<li><strong>volatile-ttl</strong>ï¼šä¼˜å…ˆæ·˜æ±°å‰©ä½™æ—¶é—´çŸ­çš„key</li>
</ul>
<p>ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®ä½¿ç”¨<code>volatile-lru</code>å¹¶ç¡®ä¿é‡è¦æ•°æ®è®¾ç½®TTLã€‚æ ¹æ®æˆ‘ä»¬çš„å‹åŠ›æµ‹è¯•ï¼Œåˆç†çš„å†…å­˜æ·˜æ±°ç­–ç•¥å¯ä»¥ä½¿çªå‘æµé‡ä¸‹çš„QPSæå‡15%-20%ã€‚</p>
<h3 data-id="heading-4">1.2 è°ƒæ•´<code>hash-max-ziplist-entries</code>å’Œ<code>hash-max-ziplist-value</code></h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼š</span>
<span class="hljs-section"># hash-max-ziplist-entries 512</span>
<span class="hljs-section"># hash-max-ziplist-value 64</span>
</code></pre>
<p>Rediså¯¹å°å“ˆå¸Œè¡¨é‡‡ç”¨ziplistç¼–ç ä»¥èŠ‚çœå†…å­˜ã€‚è¿™ä¸¤ä¸ªå‚æ•°æ§åˆ¶ä½•æ—¶å°†ziplistè½¬æ¢ä¸ºçœŸæ­£çš„å“ˆå¸Œè¡¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹ä¼˜åŒ–é…ç½®ï¼ˆæ ¹æ®å®é™…valueå¤§å°è°ƒæ•´ï¼‰ï¼š</span>
hash-max-ziplist-entries 1024
hash-max-ziplist-value 128
</code></pre>
<p>è¿‡å°çš„é˜ˆå€¼ä¼šå¯¼è‡´é¢‘ç¹çš„ç¼–ç è½¬æ¢æ¶ˆè€—CPUï¼›è¿‡å¤§çš„é˜ˆå€¼åˆ™å¯èƒ½å¢åŠ å†…å­˜ä½¿ç”¨ã€‚åœ¨æˆ‘ä»¬çš„ç”µå•†æ¡ˆä¾‹ä¸­ï¼Œå°†æ­¤å‚æ•°è°ƒå¤§åå‡å°‘äº†30%çš„å†…å­˜ç¢ç‰‡ã€‚</p>
<hr/>
<h2 data-id="heading-5">äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-6">2.1 TCP backlogé˜Ÿåˆ—è°ƒä¼˜</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é»˜è®¤å€¼ï¼štcp-backlog 511</span>
<span class="hljs-section"># æ¨èå€¼ï¼štcp-backlog 2048ï¼ˆéœ€è¦åŒæ­¥è°ƒæ•´ç³»ç»Ÿsomaxconnï¼‰</span>
</code></pre>
<p>è¿™ä¸ªå‚æ•°å†³å®šäº†å·²å®Œæˆè¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ã€‚åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Linuxç³»ç»Ÿéœ€è¦åŒæ—¶ä¿®æ”¹ï¼š</span>
<span class="hljs-built_in">echo</span> 2048 &gt; /proc/sys/net/core/somaxconn
sysctl -w net.core.somaxconn=2048
</code></pre>
<p>æŸç¤¾äº¤å¹³å°åœ¨ç™¾ä¸‡QPSåœºæ™¯ä¸‹å°†æ­¤å‚æ•°ä»511è°ƒæ•´ä¸º2048åï¼Œè¿æ¥å»ºç«‹å¤±è´¥ç‡ä»0.3%é™è‡³0.01%ã€‚</p>
<h3 data-id="heading-7">2.2 Clientè¾“å‡ºç¼“å†²åŒºé™åˆ¶</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Redisé»˜è®¤é…ç½®ï¼š</span>
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub32mb8mb60`
</code></pre>
<p>å¯¹äºæœ‰æ…¢æ¶ˆè´¹è€…çš„å‘å¸ƒè®¢é˜…åœºæ™¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">client-output-buffer-limit pubsub128mb32mb120`
</code></pre>
<p>æŸå®æ—¶æ¶ˆæ¯ç³»ç»Ÿæ›¾å› æœªè°ƒæ•´æ­¤å‚æ•°å¯¼è‡´ä¸»èŠ‚ç‚¹OOMå´©æºƒã€‚</p>
<hr/>
<p>##ä¸‰ã€æŒä¹…åŒ–ç­–ç•¥ä¼˜åŒ–</p>
<p>###3.1 AOFé‡å†™ç­–ç•¥é€‰æ‹©</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Redis6.xæ–°ç‰¹æ€§ï¼š</span>
aof-use-rdb-preamble yes #ï¼ˆé»˜è®¤å·²å¼€å¯ï¼‰
</code></pre>
<p>æ··åˆæŒä¹…åŒ–ç»“åˆäº†RDBçš„å¿«é€Ÿæ¢å¤å’ŒAOFçš„æ•°æ®å®‰å…¨ä¼˜åŠ¿ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">auto</span>-aof-rewrite-percentage100auto-aof-rewrite-min-size64mb`
</code></pre>
<p>æŸé‡‘èç³»ç»Ÿå°†æ­¤é…ç½®ä¸<code>noâ€¢appendfsyncâ€¢onâ€¢rewrite yes</code>é…åˆä½¿ç”¨åå†™å…¥å»¶è¿Ÿé™ä½äº†40%ã€‚</p>
<p>###3.2 RDBå­è¿›ç¨‹ä¼˜åŒ–</p>
<pre><code class="hljs language-bash" lang="bash">repl-diskless-sync <span class="hljs-built_in">yes</span> <span class="hljs-comment">#ï¼ˆé€‚ç”¨äºSSDç¯å¢ƒï¼‰</span>
repl-diskless-sync-delay5 <span class="hljs-comment">#ï¼ˆå•ä½ç§’ï¼‰</span>
</code></pre>
<p>æ— ç›˜å¤åˆ¶å¯æ˜¾è‘—é™ä½ä¸»èŠ‚ç‚¹çš„I/Oå‹åŠ›ä½†ä¼šå¢åŠ ç½‘ç»œè´Ÿè½½éœ€æƒè¡¡ä½¿ç”¨ã€‚</p>
<hr/>
<p>##å››ã€çº¿ç¨‹æ¨¡å‹è¿›é˜¶é…ç½®</p>
<p>###4.1 I/Oçº¿ç¨‹æ± è®¾ç½®</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">io</span>-threads4 #ï¼ˆå»ºè®®ä¸ºCPUæ ¸å¿ƒæ•°çš„<span class="hljs-number">3</span>/<span class="hljs-number">4</span>ï¼‰ <span class="hljs-built_in">io</span>-threads-<span class="hljs-keyword">do</span>-readsyes #ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰
</code></pre>
<p>åœ¨å¤šæ ¸ç¯å¢ƒä¸‹å¯ç”¨I/Oçº¿ç¨‹æ± å¯ä½¿ç½‘ç»œååé‡æå‡300%ã€‚æ³¨æ„çº¿ç¨‹æ•°å¹¶éè¶Šå¤šè¶Šå¥½è¶…è¿‡8ä¸ªé€šå¸¸æ”¶ç›Šé€’å‡ã€‚</p>
<p>###4.2åå°ä»»åŠ¡çº¿ç¨‹</p>
<pre><code class="hljs language-swift" lang="swift">activerehashingyes lazyfree<span class="hljs-operator">-</span><span class="hljs-keyword">lazy</span><span class="hljs-operator">-</span>evictionyes lazyfree<span class="hljs-operator">-</span><span class="hljs-keyword">lazy</span><span class="hljs-operator">-</span>expireyes `
</code></pre>
<p>å¯ç”¨æƒ°æ€§åˆ é™¤å¯ä»¥é¿å…å¤§keyåˆ é™¤æ—¶çš„é˜»å¡ä½†ä¼šç¨å¾®å¢åŠ å†…å­˜ä½¿ç”¨é‡ã€‚</p>
<hr/>
<p>##äº”ã€å†…æ ¸çº§ä¼˜åŒ–</p>
<p>###5.1é€æ˜å¤§é¡µç¦ç”¨</p>
<pre><code class="hljs language-typescript" lang="typescript">echo <span class="hljs-built_in">never</span> &gt; <span class="hljs-regexp">/sys/</span>kernel/mm/transparent_hugepage/enabled <span class="hljs-string">`
</span></code></pre>
<p>THPä¼šå¯¼è‡´RDB/AOFå­è¿›ç¨‹å‡ºç°å»¶è¿Ÿå°–å³°å¿…é¡»ç¦ç”¨ï¼</p>
<p>###5.2 NUMAæ¶æ„ä¼˜åŒ–</p>
<pre><code class="hljs language-css" lang="css">numactl <span class="hljs-attr">--interleave</span>=<span class="hljs-attribute">all</span> redis-server... `
</code></pre>
<p>åœ¨NUMAæ¶æ„æœåŠ¡å™¨ä¸Šè·¨èŠ‚ç‚¹åˆ†é…å†…å­˜å¯é¿å…swap insanityé—®é¢˜ã€‚</p>
<hr/>
<p>##å…­ã€ç›‘æ§ç›¸å…³å…³é”®æŒ‡æ ‡</p>
<p>é™¤äº†ä¸Šè¿°é…ç½®è¿˜éœ€è¦ç›‘æ§è¿™äº›æ ¸å¿ƒæŒ‡æ ‡ï¼š</p>
<p>1.Client_longest_output_list
2.Evicted_keys/sec
3.Keyspace_hits_ratio
4.Replica_lag
5.Memory_fragmentation_ratio&gt;1.5æ—¶éœ€è¦æŠ¥è­¦ï¼</p>
<hr/>
<p>##æ€»ç»“</p>
<p>æœ¬æ–‡ä»‹ç»çš„10é¡¹å…³é”®é…ç½®æ¶µç›–äº†Redisä¼˜åŒ–çš„ä¸»è¦æ–¹å‘ä½†éœ€è¦æ³¨æ„ï¼š</p>
<p>â€¢ä»»ä½•ä¿®æ”¹éƒ½åº”åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯ â€¢ä¸åŒç‰ˆæœ¬é—´å­˜åœ¨è¡Œä¸ºå·®å¼‚ â€¢æœ€ä½³é…ç½®å–å†³äºå…·ä½“å·¥ä½œè´Ÿè½½ç‰¹å¾ â€¢é…å¥—çš„ç³»ç»Ÿè°ƒä¼˜åŒç­‰é‡è¦ ï¼ˆå¦‚å…³é—­swapè°ƒæ•´vm.swappinessç­‰ï¼‰</p>
<p>å»ºè®®é‡‡ç”¨æ¸è¿›å¼ä¼˜åŒ–æ–¹æ³•æ¯æ¬¡åªä¿®æ”¹ä¸€ä¸ªå‚æ•°å¹¶é€šè¿‡åŸºå‡†æµ‹è¯•å·¥å…·å¦‚redis-benchmarkæˆ–memtier_benchmarkéªŒè¯æ•ˆæœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG]]></title>    <link>https://juejin.cn/post/7573950036897202216</link>    <guid>https://juejin.cn/post/7573950036897202216</guid>    <pubDate>2025-11-19T04:26:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573950036897202216" data-draft-id="7574204970774659099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC,LLM"/> <meta itemprop="datePublished" content="2025-11-19T04:26:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…¥é£"/> <meta itemprop="url" content="https://juejin.cn/user/4388906148064231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIæ¦‚å¿µè§£æƒ‘ç³»åˆ— - RAG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906148064231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…¥é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:26:09.000Z" title="Wed Nov 19 2025 04:26:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡å‘å¸ƒäºæ˜é‡‘ï¼Œè½¬è½½è¯·å£°æ˜</p>
</blockquote>
<p>éšç€æœ€è¿‘å‡ å¹´AIåœ¨å„ä¸ªé¢†åŸŸå¤§æ”¾å¼‚å½©ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ‘ä¹Ÿå¯¹AIé‡Œçš„å„ç§æŠ€æœ¯æ¦‚å¿µäº§ç”Ÿäº†æµ“åšçš„å…´è¶£ï¼Œå¸Œæœ›èƒ½è¯¦ç»†äº†è§£è¿™äº›æŠ€æœ¯æ¦‚å¿µå’ŒèƒŒåçš„åŸç†åï¼Œæ‰¾å¯»å’Œå‰ç«¯ç»“åˆçš„ä¸€äº›æ€è·¯ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€èµ·äº†è§£ä¸‹AIé¢†åŸŸå¸¸ç”¨åˆ°çš„ä¸€ä¸ªæŠ€æœ¯â€”â€”<strong>RAGï¼ˆRetrieval-Augmented Generationï¼‰</strong>ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ å¼€å§‹ä¹‹å‰</h2>
<p>åœ¨å¼€å§‹ä»‹ç»RAGä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•å›é¡¾ä¸€ä¸‹å¤§è¯­è¨€æ¨¡å‹LLMçš„åŸç†ã€‚</p>
<p>LLMé€šè¿‡é¢„è®­ç»ƒï¼Œè®©æ¨¡å‹å­¦ä¹ äº†å…¨ç½‘å…¬å¼€çš„çŸ¥è¯†ï¼ˆç½‘é¡µã€ä¹¦ç±ã€è®ºæ–‡ã€ä»£ç ç­‰ç­‰ï¼‰ï¼Œå¾—åˆ°ä¸€å †â€œå‚æ•°â€ï¼Œä¹‹åæ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ¥ä¸æ–­åœ°é¢„æµ‹ä¸‹ä¸€ä¸ªtokenåº”è¯¥æ˜¯ä»€ä¹ˆï¼Œæœ€ç»ˆå¾—åˆ°è¾“å‡ºã€‚</p>
<p>è¿™ç§è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œåœ¨é€šç”¨é¢†åŸŸæœ‰ç€æ¯”è¾ƒå¥½çš„è¡¨ç°ã€‚ä½†æ˜¯æ ¹æ®LLMçš„åŸç†ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å‘ç°å®ƒçš„ä¸€äº›ä¸è¶³ï¼š</p>
<ul>
<li>â€œ<strong>é¢„è®­ç»ƒ</strong>â€ï¼šç”±äºæ˜¯ä½¿ç”¨äº†æ—§çš„æ•°æ®è¿›è¡Œçš„è®­ç»ƒï¼Œå¯¹äºåœ¨è®­ç»ƒä¹‹åäº§ç”Ÿæ–°ä¿¡æ¯ï¼ŒLLMæ— æ³•å›ç­”</li>
<li>â€œ<strong>å…¬å¼€çš„çŸ¥è¯†</strong>â€ï¼šLLMä½¿ç”¨äº†å…¬å¼€çš„çŸ¥è¯†è®­ç»ƒï¼Œå¯¹äºä¸€äº›éå…¬å¼€çš„å†…å®¹ï¼Œæˆ–è€…ä¸“ä¸šæ•°æ®ï¼ŒLLMåŒæ ·æ— æ³•å›ç­”</li>
<li>â€œ<strong>é¢„æµ‹</strong>â€ï¼šå› ä¸ºLLMæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œçœ‹å‰æ–‡ã€çŒœä¸‹æ–‡â€çš„å¤§è§„æ¨¡ç»Ÿè®¡ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥å¯¹äºå®ƒä¸çŸ¥é“çš„ä¿¡æ¯ï¼Œåœ¨å›ç­”æ—¶å¾€å¾€ä¼šâ€œèƒ¡è¯´å…«é“â€ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Hallucinationï¼Œâ€œ<strong>å¹»è§‰</strong>â€</li>
</ul>
<p>å¯¹äºæ™®é€šç”¨æˆ·ä¸€äº›ä¸è¦æ±‚å®æ—¶æ€§çš„é€šç”¨æ€§é—®é¢˜æ¥è¯´ï¼Œä¸Šé¢è¿™äº›ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦æ¶‰åŠåˆ°<strong>å®æ—¶æ€§ã€ä¸“ä¸šæ•°æ®ã€ä¼ä¸šå†…ç§æœ‰æ•°æ®</strong>æ—¶ï¼Œä¸Šé¢çš„é—®é¢˜å°±ä¼šä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œé€šå¸¸æœ‰ä¸‹é¢ä¸¤ä¸ªæ‰‹æ®µï¼š</p>
<ol>
<li>å¾®è°ƒå¤§æ¨¡å‹</li>
<li>æ‰‹åŠ¨ç»™LLMæ·»åŠ é¢å¤–çŸ¥è¯†</li>
</ol>
<h2 data-id="heading-1">äºŒã€ å¾®è°ƒ vs å¤–æŒ‚çŸ¥è¯†åº“</h2>
<h3 data-id="heading-2">1. å¾®è°ƒFine-tuning</h3>
<p>æ‰€è°“<strong>å¾®è°ƒï¼ˆFine-tuningï¼‰</strong>ï¼Œå°±æ˜¯åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç‰¹å®šä»»åŠ¡çš„æ•°æ®ï¼ˆå¦‚ç§æœ‰æ•°æ®ã€ä¸“ä¸šé¢†åŸŸçŸ¥è¯†ã€æœ€æ–°çš„ä¿¡æ¯ç­‰ï¼‰è¿›è¡Œè¿›ä¸€æ­¥è®­ç»ƒï¼Œè®©æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸè¡¨ç°æ›´å¥½ã€‚</p>
<p>ä¸¾ä¸ªæ¯”è¾ƒå½¢è±¡çš„ä¾‹å­ï¼Œé€šè¿‡é¢„è®­ç»ƒå¾—åˆ°çš„å¤§æ¨¡å‹ï¼Œå°±æ˜¯å­¦ä¹ äº†å°å­¦åˆ°é«˜ä¸­çš„é€šè¯†æ•™è‚²çš„çŸ¥è¯†ï¼Œå­¦ä¼šè¯­è¨€ã€æ•°å­¦ã€å¸¸è¯†ã€é€»è¾‘æ€ç»´ï¼ŒçŸ¥è¯†é¢å¹¿ä½†ä¸å¤Ÿä¸“ä¸šã€‚</p>
<p>è€Œå¾®è°ƒé˜¶æ®µï¼ˆFine-tuningï¼‰ç±»ä¼¼äºä¸“ä¸šæ•™è‚²ï¼Œå°±å¥½åƒå­¦ä¹ äº†ä¸“ä¸šé¢†åŸŸè¯¾ç¨‹ã€æˆä¸ºæŸä¸ªé¢†åŸŸçš„ä¸“å®¶ã€‚</p>
<p>å³â€œ<strong>é€šç”¨æ¨¡å‹ + ä¸“ä¸šæ•°æ® + é’ˆå¯¹æ€§è®­ç»ƒ = ä¸“ä¸šæ¨¡å‹</strong>â€ï¼š</p>
<ul>
<li>GPT + ä»£ç æ•°æ® + ä»£ç ä»»åŠ¡è®­ç»ƒ = CodeGPT</li>
<li>GPT + åŒ»å­¦æ•°æ® + åŒ»å­¦ä»»åŠ¡è®­ç»ƒ = MedicalGPT</li>
<li>GPT + æ³•å¾‹æ•°æ® + æ³•å¾‹ä»»åŠ¡è®­ç»ƒ = LegalGPT</li>
</ul>
<h3 data-id="heading-3">2. å¤–æŒ‚çŸ¥è¯†åº“</h3>
<p>åœ¨å’ŒLLMäº¤äº’æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›ç‰¹æ®Šæ‰‹æ®µï¼Œä»å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³ä¿¡æ¯æä¾›ç»™LLMï¼Œç›¸å½“äºç»™AIé…ä¸ª"å¤–æŒ‚çŸ¥è¯†åº“"ï¼Œè®©å®ƒå¯ä»¥è·å–åˆ°ä¸“ä¸šé¢†åŸŸçŸ¥è¯†ã€ç§æœ‰æ•°æ®ã€å®æ—¶ä¿¡æ¯ç­‰ç­‰ã€‚</p>
<p>è€ŒRAGå°±æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ‰‹æ®µã€‚</p>
<h3 data-id="heading-4">3. å¯¹æ¯”</h3>
<p>å¯¹æ¯”è¿™ä¸¤ä¸ªä¸éš¾å‘ç°ï¼Œå¾®è°ƒæ˜¯å†…åŒ–çŸ¥è¯†åˆ°äº†æ¨¡å‹å‚æ•°ä¸­ï¼Œæœ€ç»ˆçš„æ•ˆæœè‚¯å®šæ˜¯ç¨å¾®å¥½ä¸€äº›çš„ã€‚</p>
<p>ä½†æ˜¯è€ƒè™‘åˆ°å¾®è°ƒä¸‹é¢è¿™äº›ç‚¹ï¼š</p>
<ul>
<li>éœ€è¦<strong>å¤§é‡çš„æ ‡æ³¨è®­ç»ƒæ•°æ®</strong>ï¼ˆéœ€è¦å¯¹æ–‡æ¡£ç­‰è¿›è¡Œæ•°æ®æ¸…æ´—ã€æ ‡æ³¨ç­‰ï¼‰</li>
<li><strong>è¾ƒé«˜çš„è®­ç»ƒæˆæœ¬</strong>ï¼ˆæ¯”å¦‚è®­ç»ƒéœ€è¦è¾ƒé«˜çš„ç®—åŠ›ï¼Œæœ‰ä¸å°çš„ç»æµæˆæœ¬å’Œæ—¶é—´æˆæœ¬ï¼‰</li>
<li><strong>è¾ƒé«˜çš„å®ç°éš¾åº¦</strong>ï¼ˆéœ€è¦AIé¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†ï¼‰</li>
<li><strong>æ— æ³•ä¿æŒæ•°æ®æ˜¯æœ€æ–°çš„</strong>ï¼ˆå†…åŒ–çš„çŸ¥è¯†éœ€è¦é‡æ–°è®­ç»ƒæ‰èƒ½æ›´æ–°ï¼‰</li>
</ul>
<p>å¯¹äºä¸ªäººæˆ–è€…ä¸­å°å‹ä¼ä¸šæ¥è¯´ï¼Œé€šè¿‡RAGå¤–æŒ‚çŸ¥è¯†åº“æ˜¯ä¸€ä¸ªæ›´åˆé€‚çš„é€‰æ‹©ï¼š</p>
<ul>
<li>åªéœ€è¦<strong>ç»“æ„åŒ–çš„æ–‡æ¡£</strong></li>
<li><strong>ä¸éœ€è¦è®­ç»ƒ</strong></li>
<li><strong>è¾ƒä½çš„å®ç°éš¾åº¦</strong>ï¼ˆå¤§å¤šæ˜¯å·¥ç¨‹æ–¹é¢çš„å®ç°ï¼‰</li>
<li><strong>çŸ¥è¯†åº“æ›´æ–°å¾ˆæ–¹ä¾¿</strong>ï¼ˆä¸éœ€è¦é‡æ–°è®­ç»ƒï¼Œåªéœ€è¦é‡æ–°å‘é‡åŒ–å³å¯ï¼‰</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€ RAG</h2>
<p>é‚£æˆ‘ä»¬æ¥çœ‹ä¸‹RAGæ˜¯ä»€ä¹ˆï¼Œæ‰€è°“**RAGï¼ˆRetrieval-Augmented Generationï¼‰**æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œå°±æ˜¯ï¼š</p>
<ol>
<li><strong>æ£€ç´¢(Retrieval)</strong>: ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯</li>
<li><strong>å¢å¼º(Augmented)</strong>: å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡</li>
<li><strong>ç”Ÿæˆ(Generation)</strong>: å¤§æ¨¡å‹åŸºäºæ£€ç´¢å†…å®¹ç”Ÿæˆå›ç­”</li>
</ol>
<p>å®ƒçš„æœ¬è´¨å°±æ˜¯ä¸Šé¢è¯´çš„ç»™LLMå¤–æŒ‚ä¸€ä¸ªçŸ¥è¯†åº“ï¼Œè€Œå®ƒçš„å·¥ä½œè¿‡ç¨‹ï¼Œç®€å•æ¥è®²å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1ad7ba2b5f42a386942cf8fc28fd4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=KTxrcrzMzxcBBP5z8CoLWRuXGX8%3D" alt="å·¥ä½œæµç¨‹" loading="lazy"/></p>
<p>è€Œä¸€ä¸ªRAGå®Œæ•´å·¥ç¨‹çš„æ¶æ„ç¤ºæ„å›¾ï¼Œåˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c2962721a194f80aa63ff971265d41c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=K27RmPY7yTRXMXI2mmsP23qWnRA%3D" alt="æ¶æ„ç¤ºæ„å›¾" loading="lazy"/></p>
<p>çœ‹ä¸æ‡‚ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è®²è§£ã€‚</p>
<h2 data-id="heading-6">å››ã€ å‘é‡å’Œå‘é‡åŒ–</h2>
<p>é¦–å…ˆï¼Œæœ€åŸºç¡€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯<strong>å‘é‡ï¼ˆVectorï¼‰<strong>å’Œ</strong>å‘é‡åŒ–ï¼ˆVectorization/Embeddingï¼‰</strong>ã€‚</p>
<h3 data-id="heading-7">å‘é‡ï¼ˆVectorï¼‰</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%2590%2591%25E9%2587%258F" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%90%91%E9%87%8F" ref="nofollow noopener noreferrer">å‘é‡</a>æˆ‘ä»¬åº”è¯¥ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬æœ€æ—©åº”è¯¥åœ¨é«˜ä¸­å°±å­¦è¿‡äº†ï¼Œå°±æ˜¯ä¸€ä¸ªåŒæ—¶å…·æœ‰æ•°å€¼å’Œæ–¹å‘çš„é‡ã€‚ç›¸å¯¹åº”çš„ï¼Œæ ‡é‡åˆ™åªæœ‰æ•°å€¼ï¼Œæ²¡æœ‰æ–¹å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edc9198f575a4e2e8a33e947cbb9e2e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=XnOllMgVb3q2%2Bllup1lty%2Fetqjs%3D" alt="å‘é‡" loading="lazy"/></p>
<p>å‘é‡é€šå¸¸ç”¨ä¸€ä¸ªæœ‰åºçš„æ•°å­—æ•°ç»„æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>2ç»´å‘é‡: [3, 4]ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ‰xè½´å’Œyè½´çš„å¹³é¢ç›´è§’åæ ‡ç³»ï¼Œä»åŸç‚¹æŒ‡å‘[3, 4]è¿™ä¸ªåæ ‡ç‚¹çš„ä¸€ä¸ªå‘é‡</li>
<li>3ç»´å‘é‡: [1, 2, 3]ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ‰xã€yã€zä¸‰ä¸ªè½´çš„ç©ºé—´ç›´è§’åæ ‡ç³»ï¼Œä»åŸç‚¹æ‰§è¡Œ[1, 2, 3]è¿™ä¸ªåæ ‡ç‚¹çš„ä¸€ä¸ªå‘é‡</li>
<li>é«˜ç»´å‘é‡: [0.2, 0.5, 0.1, ..., 0.8]ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåœ¨æ•°å­¦æˆ–è€…è®¡ç®—æœºé¢†åŸŸï¼Œä¸€ä¸ªå‘é‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªç»´åº¦ï¼Œ æ¯”å¦‚æœ‰å‡ ç™¾ç”šè‡³ä¸Šåƒç»´</li>
</ul>
<p>è€Œåœ¨AIé¢†åŸŸï¼Œå‘é‡æ˜¯<strong>åŸå§‹æ•°æ®çš„æ•°å€¼åŒ–è¡¨ç¤º</strong>,ç”¨æ¥æ•æ‰è¯­ä¹‰ä¿¡æ¯ï¼Œæ¯”å¦‚</p>
<ul>
<li>æ–‡æœ¬â€œè‹¹æœå¾ˆå¥½åƒâ€ï¼Œå¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªå‘é‡è¡¨ç¤ºï¼š[0.12, 0.34, 0.89, ..., 0.45]</li>
<li>å›¾ç‰‡ğŸï¼Œå¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªå‘é‡è¡¨ç¤ºï¼š[0.23, 0.67, 0.12, ..., 0.91]</li>
</ul>
<p>è€Œå…·ä½“æ˜¯æ€ä¹ˆæŠŠä¸€ä¸²æ–‡æœ¬æˆ–è€…å›¾ç‰‡è½¬æ¢ä¸ºå‘é‡çš„ï¼Œå°±æ˜¯å‘é‡åŒ–æ‰€åšçš„å·¥ä½œäº†ã€‚</p>
<h3 data-id="heading-8">å‘é‡åŒ–ï¼ˆVectorization/Embeddingï¼‰</h3>
<p>å‘é‡åŒ–ï¼Œå°±æ˜¯å°†éç»“æ„åŒ–åŸå§‹æ•°æ®(æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰)è½¬æ¢ä¸ºå‘é‡çš„è¿‡ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc600b46672646c3890041b2b33a4cb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=c2ehgI%2BjzE1m%2Bt8sIR8pMnuTXt8%3D" alt="å‘é‡åŒ–" loading="lazy"/></p>
<p>è€Œä¸ºäº†å°†ä¸€ä¸ªéç»“æ„åŒ–æ•°æ®ï¼Œå˜ä¸ºå‘é‡ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™è¿™ä¸ªæ•°æ®å®šä¹‰å¥½å®ƒçš„<strong>ç»´åº¦</strong>ã€‚</p>
<p>ä¸–ç•Œä¸Šçš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½å¯ä»¥æ ¹æ®å®ƒåœ¨æŸä¸€é¡¹ç‰¹ç‚¹ä¸Šçš„ç¨‹åº¦è€Œæ‰“ä¸€ä¸ªåˆ†ï¼Œæ•°å€¼è¶Šé«˜ä»£è¡¨è¿™ä¸ªåŸå§‹æ•°æ®åœ¨è¿™ä¸ªç‰¹ç‚¹ä¸Šçš„ç‰¹å¾è¶Šå¼ºçƒˆã€‚æˆ‘ä»¬è§„å®š<strong>æ•°å€¼çš„èŒƒå›´æ˜¯[-1, 1]</strong>ï¼Œ1ä»£è¡¨å®Œå…¨ç¬¦åˆè¿™ä¸ªç‰¹å¾ï¼Œ-1ä»£è¡¨æ‹¥æœ‰å®Œå…¨ç›¸åçš„ç‰¹å¾ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªäºŒç»´çš„å‘é‡ç©ºé—´ï¼š</p>
<ul>
<li>æ¨ªåæ ‡ä»£è¡¨æƒ…æ„Ÿææ€§ï¼Œè¶Šé è¿‘1ä»£è¡¨è¶Šæ­£å‘çš„æƒ…æ„Ÿï¼Œè¶Šé è¿‘-1ä»£è¡¨è¶Šè´Ÿå‘çš„æƒ…æ„Ÿ</li>
<li>çºµåæ ‡ä»£è¡¨å†…å®¹ç±»å‹ï¼Œè¶Šé è¿‘1ä»£è¡¨è¶Šä¸»è§‚çš„è§‚ç‚¹è¯„ä»·ï¼Œè¶Šé è¿‘-1ä»£è¡¨è¶Šå®¢è§‚çš„äº‹å®é™ˆè¿°</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/390da64c4f3c46959adb72cc3bac8778~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=OD4Gca3yZlm%2F0cw9%2BdNiokx6a58%3D" alt="äºŒç»´å‘é‡ç¤ºä¾‹" loading="lazy"/></p>
<p>ä¸Šé¢çš„å‡ ä¸ªåŸå§‹æ–‡æœ¬æ•°æ®é‡Œï¼š</p>
<blockquote>
<ol>
<li>è¿™éƒ¨ç”µå½±å¤ªç²¾å½©äº†ï¼Œæ¼”å‘˜è¡¨æ¼”å®Œç¾
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š+0.9ï¼ˆå¼ºçƒˆæ­£é¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š+0.8ï¼ˆæ˜æ˜¾è§‚ç‚¹è¯„ä»·ï¼‰</li>
<li>åæ ‡ï¼š[0.9, 0.8]</li>
</ul>
</li>
<li>æ°´çš„æ²¸ç‚¹æ˜¯100æ‘„æ°åº¦
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š0.0ï¼ˆå®Œå…¨ä¸­æ€§ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.9ï¼ˆçº¯ç²¹äº‹å®ï¼‰</li>
<li>åæ ‡ï¼š[0.0, -0.9]</li>
</ul>
</li>
<li>è¿™ä¸ªäº§å“è´¨é‡å¾ˆå·®ï¼Œå®Œå…¨ä¸ç¬¦åˆé¢„æœŸ
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.8ï¼ˆæ˜æ˜¾è´Ÿé¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š+0.7ï¼ˆä¸ªäººè¯„ä»·ï¼‰</li>
<li>åæ ‡ï¼š[-0.8, 0.7]</li>
</ul>
</li>
<li>ä»¤äººå¤±æœ›çš„æ˜¯ï¼Œæ•°æ®æ˜¾ç¤ºé”€å”®é¢ä¸‹é™äº†20%"
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.6ï¼ˆè´Ÿé¢æƒ…ç»ªï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.3ï¼ˆåå‘äº‹å®ä½†å¸¦æœ‰ä¸»è§‚è‰²å½©ï¼‰</li>
<li>åæ ‡ï¼š[-0.6, -0.3]</li>
</ul>
</li>
<li>æ•°æ®è¡¨æ˜ç”¨æˆ·æµå¤±ç‡é«˜è¾¾30%
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š-0.7ï¼ˆè´Ÿé¢æƒ…ç»ªï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.8ï¼ˆäº‹å®é™ˆè¿°ï¼Œä¸”æ²¡æœ‰æ˜æ˜¾ä¸»è§‚è¯„ä»·åœ¨é‡Œé¢ï¼‰</li>
<li>åæ ‡ï¼š[-0.7, -0.8]</li>
</ul>
</li>
<li>æˆ‘ä»¬å½©ç¥¨ä¸­äº†500ä¸‡
<ul>
<li>æ¨ªè½´ï¼ˆæƒ…æ„Ÿï¼‰ï¼š+0.9ï¼ˆæ­£é¢ï¼‰</li>
<li>çºµè½´ï¼ˆå†…å®¹ç±»å‹ï¼‰ï¼š-0.8ï¼ˆäº‹å®é™ˆè¿°ï¼Œä¸”æ²¡æœ‰æ˜æ˜¾ä¸»è§‚è¯„ä»·åœ¨é‡Œé¢ï¼‰</li>
<li>åæ ‡ï¼š[0.9, -0.8]</li>
</ul>
</li>
</ol>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬å¯¹åŸå§‹çš„æ–‡æœ¬æ•°æ®ä»ä¸åŒç»´åº¦æ‰“åˆ†åä¼šå‡ºç°</p>
<ul>
<li>ç›¸ä¼¼æ–‡æœ¬ä¼šèšé›†ï¼šæ¯”å¦‚æ‰€æœ‰æ­£é¢è¯„ä»·éƒ½ä¼šé›†ä¸­åœ¨ç¬¬ä¸€è±¡é™</li>
<li>è·ç¦»/å¤¹è§’åæ˜ ç›¸ä¼¼åº¦ï¼šåæ ‡è·ç¦»/å¤¹è§’è¶Šè¿‘ï¼Œæ–‡æœ¬åœ¨æƒ…æ„Ÿå’Œç±»å‹ä¸Šè¶Šç›¸ä¼¼</li>
</ul>
<p>æˆ‘ä»¬çš„ä¾‹å­é‡Œåªæœ‰ä¸¤ä¸ªç»´åº¦ï¼Œè€Œåœ¨å®é™…åº”ç”¨ä¸­å¯èƒ½æœ‰å‡ ç™¾ä¸Šåƒä¸ªç»´åº¦ï¼Œæ¯ä¸ªç»´åº¦ä»£è¡¨ä¸åŒç‰¹å¾ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªé«˜ç»´çš„å‘é‡ç©ºé—´ï¼Œåœ¨å‘é‡ç©ºé—´å†…å¯ä»¥ä½“ç°å‡ºä¸åŒæ•°æ®ä¹‹é—´æˆ–è¿‘æˆ–è¿œçš„å…³ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d73c9a1216941de8e8561882c97ce49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=x6l5%2Bht%2FEBpiFV8T4jiZmApssGU%3D" alt="å‘é‡ç©ºé—´" loading="lazy"/></p>
<p>å¦å¤–ï¼Œå‘é‡åŒ–é™¤äº†å«åšVectorizationå¤–ï¼Œä¹Ÿæ—¶å€™ä¹Ÿä¼šå«åš<strong>Embeddingï¼ŒåµŒå…¥</strong>ã€‚è¿™æ˜¯å› ä¸ºå‘é‡åŒ–çš„è¿‡ç¨‹ï¼Œä¸åªæ˜¯å°†ä¸€ä¸ªéç»“æ„åŒ–æ•°æ®è½¬ä¸ºå‘é‡æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå°†åŸå§‹æ•°æ®çš„è¯­ä¹‰ä¿¡æ¯åµŒå…¥åˆ°äº†å‘é‡ç©ºé—´ä¸­,ä½¿å¾—è¯­ä¹‰å…³ç³»è¢«ä¿ç•™ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œé€šå¸¸æƒ…å†µä¸‹â€œå›½ç‹Kingâ€å’Œâ€œç‹åQueenâ€å¸¸å‡ºç°åœ¨ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œç”·äººManâ€å’Œâ€œå¥³äººWomenâ€ç»å¸¸å‡ºç°åœ¨ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>çš‡å®¤è¯æ±‡ï¼ˆKing, Queen, Princeï¼‰ä¹‹é—´çš„ç›¸ä¼¼åº¦æ•´ä½“å¤§äºå®ƒä»¬ä¸æ™®é€šäººè¯æ±‡ï¼ˆMan, Womenï¼‰çš„ç›¸ä¼¼åº¦ã€‚ä½†æ˜¯â€œå›½ç‹Kingâ€å’Œâ€œç”·äººManâ€ä¹‹é—´åˆæœ‰ä¸€äº›ç›¸ä¼¼ï¼Œâ€œç‹åQueenâ€å’Œâ€œå¥³äººWomenâ€ä¹‹é—´æœ‰ä¸€äº›ç›¸ä¼¼ã€‚</p>
<p>è€Œå°†è¿™å››ä¸ªå•è¯è¿›è¡Œå‘é‡åŒ–åï¼Œå¯èƒ½å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67c9da8bf27840e9bc1bfd49d2774e4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=nJCbBvwp4AicNo3vh5itxY4Xrew%3D" alt="è¯­ä¹‰åµŒå…¥" loading="lazy"/></p>
<p>â€œå›½ç‹Kingâ€ã€â€œç‹åQueenâ€ã€â€œç”·äººManâ€ã€â€œå¥³äººWomenâ€çš„è¯­ä¹‰ä»¥åŠè¯­ä¹‰å…³ç³»è¢«åµŒå…¥äº†å‘é‡ç©ºé—´ï¼Œåšåˆ°äº†ï¼š</p>
<ol>
<li><strong>ä¿æŒè¯­ä¹‰å…³ç³»</strong>: æ„æ€ç›¸è¿‘çš„è¯åœ¨å‘é‡ç©ºé—´ä¸­ä¹Ÿé è¿‘</li>
<li><strong>æ”¯æŒè¯­ä¹‰è¿ç®—</strong>: å®ç°äº†<code>king - man + woman â‰ˆ queen</code>è¿™ç§ç¥å¥‡çš„è¿ç®—</li>
</ol>
<h3 data-id="heading-9">å¦‚ä½•å‘é‡åŒ–</h3>
<p>å‘é‡åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„è¿‡ç¨‹ï¼Œé€šå¸¸éƒ½æ˜¯ä½¿ç”¨æ¨¡å‹æ¥å®ç°çš„ï¼Œå³â€œ<strong>Embedding models</strong>â€ï¼Œæ¯”å¦‚OpenAIçš„text-embedding-ada-002ï¼ˆéœ€è¦APIå¯†é’¥è®¿é—®ï¼‰ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›å¼€æºçš„æ¨¡å‹ã€‚</p>
<p>é€šå¸¸ä¸€ä¸ªæ¨¡å‹å‘é‡åŒ–æ•°æ®åçš„ç»´åº¦è¶Šé«˜ï¼Œåœ¨åç»­è¿›è¡Œä¿¡æ¯æ£€ç´¢æ—¶å°±ä¼šè¶Šç²¾å‡†ã€‚</p>
<p>å…¶å®é™¤äº†è°ƒç”¨æ¨¡å‹è¿™ä¸€æ­¥ä¹‹å¤–ï¼Œå®Œæ•´çš„å‘é‡åŒ–è¿‡ç¨‹è¿˜æœ‰ä¸€äº›å…¶ä»–å·¥ä½œè¦åšï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>è¯»å–æ–‡æ¡£</p>
<ul>
<li>PDF â†’ æå–æ–‡æœ¬</li>
<li>Word â†’ æå–æ–‡æœ¬</li>
<li>Markdown â†’ è¯»å–å†…å®¹</li>
<li>...</li>
</ul>
</li>
<li>
<p>æ¸…æ´—æ–‡æœ¬</p>
<ul>
<li>å»é™¤ä¹±ç </li>
<li>ç»Ÿä¸€æ ¼å¼</li>
<li>å»é™¤æ— ç”¨å†…å®¹ï¼ˆé¡µçœ‰é¡µè„šç­‰ï¼‰</li>
</ul>
</li>
<li>
<p>æŠŠæ–‡æœ¬è¿›è¡Œåˆ‡å‰²ï¼Œå³<strong>æ–‡æœ¬åˆ†å— (Chunking)</strong></p>
<p>ä¸ºä»€ä¹ˆè¦åˆ†å—ï¼Ÿå› ä¸ºåŸå§‹æ–‡æ¡£å¯èƒ½ç‰¹åˆ«é•¿ï¼Œå‡ åƒä¸Šä¸‡å­—ï¼Œä¸æ–¹ä¾¿åç»­è¿›è¡Œå‘é‡åŒ–å’Œæ£€ç´¢ã€‚</p>
<p>è€Œåˆ†å—çš„è§„åˆ™ä¹Ÿæœ‰å¤šç§ï¼Œæ¯”å¦‚æ ¹æ®æ ‡ç‚¹ç¬¦å·åˆ†å‰²ï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨æœ‰çš„å—é•¿åº¦å¾ˆé•¿ï¼Œæœ‰çš„åˆå¾ˆçŸ­çš„æƒ…å†µï¼›ä¹Ÿå¯ä»¥æ ¹æ®å›ºå®šé•¿åº¦åˆ†å‰²ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªå®Œæ•´çš„è¯­ä¹‰è¢«åˆ‡å‰²åˆ°ä¸åŒçš„å—ï¼Œæ¯ä¸ªå—é‡Œçš„éƒ¨åˆ†è¯å˜å¾—æ¯«æ— è¯­ä¹‰ä»·å€¼ã€‚</p>
<p>æ‰€ä»¥RAG åˆ†å‰²ä¸€èˆ¬ç”¨<strong>ç›¸åŒå—å¤§å°</strong> + <strong>å—é‡å </strong>çš„åŠæ³•ï¼Œå³æ‰€è°“çš„<strong>æ»‘åŠ¨çª—å£åˆ†å—</strong>ï¼Œè¿™å’ŒæŒ‰é•¿åº¦æˆªæ–­æ¥åˆ†å‰²æœ‰ç‚¹åƒã€‚ç”¨è¿™ç§åŠæ³•ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½é¿å…æ–‡æ¡£åŸæ„è¢«æˆªæ–­å¯¼è‡´åˆ†å‡ºæ¥çš„ç‰‡æ®µå˜å¾—æ²¡ä»·å€¼ï¼Œè€Œä¸”é‡å å—é‡Œæœ‰é‡å¤çš„ä¿¡æ¯ï¼Œèƒ½è®©æ¨¡å‹æ›´å¥½åœ°ç†è§£æ–‡æ¡£å†…å®¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23760b3089254b1faa25715d6b51db5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=Qe75vFa1bePvu5rKaE0oC%2FQO2BY%3D" alt="æ–‡æœ¬åˆ†å—" loading="lazy"/></p>
</li>
<li>
<p>ä½¿ç”¨æŸä¸ªæ¨¡å‹è¿›è¡Œ<strong>å‘é‡åŒ–ï¼ˆEmbeddingï¼‰</strong></p>
<ul>
<li>
<p>BGE-base-zh (ä¸­æ–‡æ•ˆæœå¥½)</p>
</li>
<li>
<p>all-MiniLM-L6-v2 (è‹±æ–‡ï¼Œè½»é‡)</p>
</li>
<li>
<p>text-embedding-ada-002 (OpenAIï¼Œéœ€è”ç½‘)</p>
<p>å‡è®¾é€‰æ‹©BGE-base-zh (ä¸­æ–‡)ï¼Œè¾“å‡ºç»´åº¦768ç»´ï¼Œæ¨¡å‹å¤§å°çº¦ 400MB</p>
</li>
</ul>
</li>
<li>
<p>å°†å‘é‡åŒ–åçš„æ•°æ®å­˜å…¥å‘é‡æ•°æ®åº“ï¼Œ<strong>æ„å»ºç´¢å¼•ï¼ˆIndexingï¼‰</strong></p>
<p>æ™®é€šçš„æ•°æ®å­˜å‚¨æœ‰æ•°æ®åº“ï¼Œé‚£ä¹ˆå‘é‡çš„å­˜å‚¨ï¼Œä¹Ÿæœ‰ä¸“é—¨çš„<strong>å‘é‡æ•°æ®åº“</strong>ï¼Œå®ƒæ˜¯ä¸“ä¸ºå­˜å‚¨ä¸æ£€ç´¢é«˜ç»´åµŒå…¥å‘é‡è€Œè®¾è®¡çš„æ•°æ®åº“ã€‚æ”¯æŒåŸºäºç›¸ä¼¼åº¦çš„æ£€ç´¢å¹¶å¯ç»“åˆå…ƒæ•°æ®è¿‡æ»¤ï¼Œå¸¸ç”¨äºè¯­ä¹‰æœç´¢ã€æ¨èå’Œ RAGã€‚å¸¸è§çš„æ•°æ®åº“æœ‰ï¼š</p>
<ul>
<li>Chroma</li>
<li>Milvus</li>
<li>Qdrant</li>
</ul>
<p>å‡è®¾é€‰æ‹©Chromaï¼Œé‚£ä¹ˆå®ƒçš„æ¯æ¡è®°å½•çš„å­˜å‚¨ç»“æ„å¤§æ¦‚ä¸ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"doc_1_chunk_1"</span>,
  <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.23</span>, <span class="hljs-number">0.45</span>, ..., <span class="hljs-number">0.12</span>],  <span class="hljs-comment">// 768ç»´å‘é‡</span>
  <span class="hljs-string">"metadata"</span>: {
    <span class="hljs-string">"source"</span>: <span class="hljs-string">"ç³»ç»Ÿæ¶æ„æ–‡æ¡£.pdf"</span>,
    <span class="hljs-string">"chunk_index"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç¬¬ä¸€ç«  ç³»ç»Ÿæ¶æ„..."</span>  <span class="hljs-comment">// åŸå§‹æ–‡æœ¬</span>
  }
}
</code></pre>
</li>
</ol>
<p>åœ¨åšå®Œä¸Šè¿°çš„å‡ ä¸ªæ­¥éª¤ä¹‹åï¼Œå°±ç®—æ˜¯å®Œæˆäº†RAGçš„å‡†å¤‡å·¥ä½œï¼Œå³ç»™LLMå‡†å¤‡å¥½äº†â€œå¤–æŒ‚çš„çŸ¥è¯†åº“â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/260f81589cae4e1297c6b45b0caf0c36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=yJAa8FSOGrhn%2F%2FyTkrWO87puuBo%3D" alt="çŸ¥è¯†åº“å‘é‡åŒ–è¿‡ç¨‹" loading="lazy"/></p>
<h2 data-id="heading-10">äº”ã€ RAG - R (Retrieval)</h2>
<p>åœ¨å‡†å¤‡å¥½çŸ¥è¯†åº“ä¹‹åï¼Œå°±å¯ä»¥å’ŒLLMè¿›è¡Œé—®ç­”äº†ã€‚é‚£åœ¨æå‡ºé—®é¢˜åï¼Œå¦‚ä½•è®©LLMçŸ¥æ™“çŸ¥è¯†åº“çš„å†…å®¹å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯RAGä¸­çš„Rï¼Œ<strong>Retrievalæ£€ç´¢</strong>ã€‚</p>
<p>åœ¨ä¸Šé¢çš„çŸ¥è¯†åº“çš„å‡†å¤‡è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æŸä¸ª<strong>Embedding Model</strong>è¿›è¡Œäº†çŸ¥è¯†åº“çš„å‘é‡åŒ–ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·æå‡ºé—®é¢˜Queryä¹‹åï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ç›¸åŒçš„<strong>Embedding Model</strong>ï¼Œå¯¹ç”¨æˆ·çš„è¾“å…¥Queryè¿›è¡Œç›¸åŒçš„å‘é‡åŒ–ã€‚</p>
<p>åœ¨éƒ½è¿›è¡Œäº†å‘é‡åŒ–ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹åœ¨å‘é‡æ•°æ®åº“ä¸­æ£€ç´¢äº†ã€‚</p>
<h3 data-id="heading-11">ç›¸ä¼¼åº¦åŒ¹é…</h3>
<p>å’Œæ™®é€šæ•°æ®åº“åŸºäºå…³é”®å­—çš„æ£€ç´¢ä¸åŒï¼Œå‘é‡æ•°æ®åº“æ˜¯åŸºäºè¯­ä¹‰çš„æ£€ç´¢ã€‚é‚£æ€ä¹ˆåˆ¤æ–­ä¸¤ä¸ªå‘é‡çš„è¯­ä¹‰æ˜¯å¦æ¥è¿‘ï¼Œå¸¸è§çš„è¡¡é‡æ ‡å‡†æœ‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E4%25BD%2599%25E5%25BC%25A6%25E7%259B%25B8%25E4%25BC%25BC%25E6%2580%25A7" target="_blank" title="https://zh.wikipedia.org/wiki/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E6%80%A7" ref="nofollow noopener noreferrer">ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine Similarityï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E6%25AC%25A7%25E5%2587%25A0%25E9%2587%258C%25E5%25BE%2597%25E8%25B7%259D%25E7%25A6%25BB" target="_blank" title="https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB" ref="nofollow noopener noreferrer">æ¬§æ°L2ï¼ˆEuclidean L2/Square L2ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%2586%2585%25E7%25A7%25AF" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%86%85%E7%A7%AF" ref="nofollow noopener noreferrer">å†…ç§¯IPï¼ˆInner Productï¼‰</a></li>
</ul>
<p>è¿™ä¸‰ä¸ªçš„å…·ä½“å®šä¹‰å’ŒåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š</p>





























<table><thead><tr><th align="left">ç®—æ³•</th><th align="left">å…¬å¼</th><th align="left">å®šä¹‰</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left">ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine Similarityï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c058bf3e2fa240fe95b03ad3ef4aa21f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=gDa6SmnpEIHd89oveBH4KFqrtjc%3D" alt="cosine" loading="lazy"/></td><td align="left">ä½™å¼¦ç›¸ä¼¼åº¦é€šè¿‡æµ‹é‡ä¸¤ä¸ªå‘é‡çš„å¤¹è§’çš„ä½™å¼¦å€¼æ¥åº¦é‡å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚<br/>ä»…åæ˜ æ–¹å‘ä¸€è‡´æ€§è€Œä¸é•¿åº¦æ— å…³ã€‚</td><td align="left">å½“ä½ å…³å¿ƒâ€œè¯­ä¹‰æ–¹å‘/å½¢çŠ¶â€è€Œä¸æƒ³è¢«å‘é‡é•¿åº¦å½±å“ã€‚<br/>å…¸å‹åº”ç”¨åœºæ™¯æœ‰æ–‡æœ¬/å›¾åƒåµŒå…¥æ£€ç´¢ã€RAG å‘é‡æ£€ç´¢ã€è¯­ä¹‰å»é‡ã€è¯­ä¹‰èšåˆã€‚</td></tr><tr><td align="left">æ¬§æ°L2ï¼ˆEuclidean L2/Square L2ï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8cab793bbfb4a82803b42fd700cc3f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=FhSWcpYpL6zDwcbcCjcyRYKFCfI%3D" alt="L2" loading="lazy"/></td><td align="left">å¯¹ä¸¤å‘é‡å·®çš„å¹³æ–¹å’Œå¼€å¹³æ–¹æ¥åº¦é‡å‡ ä½•è·ç¦»ï¼ˆæˆ–å‘é‡è‡ªèº«é•¿åº¦ï¼‰ï¼Œåæ˜ å®ƒä»¬åœ¨ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»ã€‚</td><td align="left">å½“ä½ ä½ éœ€è¦çœŸæ­£çš„å‡ ä½•è·ç¦»ï¼ˆåº¦é‡æ€§è´¨ã€ä¸‰è§’ä¸ç­‰å¼ï¼‰æ—¶ã€‚<br/>å…¸å‹åº”ç”¨åœºæ™¯æœ‰K-means èšç±»ï¼ˆç›®æ ‡æ˜¯å¹³æ–¹ L2ï¼‰ã€æœ€å°äºŒä¹˜/MSEã€å‡ ä½•é‚»è¿‘ã€éƒ¨åˆ† ANN ç´¢å¼•é»˜è®¤ã€‚</td></tr><tr><td align="left">å†…ç§¯ï¼ˆInner Product/Dot Productï¼‰</td><td align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5239a9147eee49e99c2c9aed16456bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=Z7xDZU%2BAC6lutywR%2Fv9%2BEzBfyOY%3D" alt="Inner Product" loading="lazy"/></td><td align="left">å°†ä¸¤ä¸ªå‘é‡å¯¹åº”åˆ†é‡ç›¸ä¹˜åæ±‚å’Œï¼Œå¾—åˆ°åŒæ—¶å—æ–¹å‘ä¸é•¿åº¦å½±å“çš„å¯¹é½ç¨‹åº¦ï¼ˆçº¿æ€§æ‰“åˆ†ï¼‰ã€‚</td><td align="left">å…¸å‹åº”ç”¨åœºæ™¯æœ‰æœ€å¤§å†…ç§¯æœç´¢ï¼ˆMIPSï¼‰ã€æ¨èå¬å›ã€å› å­åˆ†è§£æœº/embedding æ‰“åˆ†ã€‚</td></tr></tbody></table>
<p>è€Œåœ¨RAGè¯­ä¹‰æœç´¢ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦æ¥è®¡ç®—ä¸¤ä¸ªå‘é‡æ˜¯å¦ç›¸ä¼¼ï¼Œå³é€šè¿‡è·‘ç”·çš„ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ï¼Œæ¥åˆ¤æ–­ä¸¤ä¸ªå‘é‡çš„è¯­ä¹‰æ˜¯å¦æ¥è¿‘ã€‚è¿˜æ˜¯ä»¥ä¸Šé¢çš„è¿™ä¸ªå›¾ä¸ºä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f31f8d0a76643deac54c1a6c524ec7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=miXHqjs1ehVgEwvconXBiB2%2F9OQ%3D" alt="å‘é‡ç©ºé—´å¤¹è§’" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªå‘é‡ç©ºé—´é‡Œï¼ŒChickenå’Œâ€œé¸¡â€çš„å›¾ç‰‡ä¹‹é—´ï¼Œå‘é‡çš„å¤¹è§’å¾ˆå°ï¼ŒDogå’ŒWolfå¤¹è§’å¾ˆå°ï¼ŒBananaå’ŒAppleå¤¹è§’å¾ˆå°ï¼ŒAppleå’ŒAppleå…¬å¸çš„Logoå¤¹è§’å¾ˆå°ã€‚ä½†æ˜¯åŠ¨ç‰©å’Œæ°´æœä¹‹é—´çš„å‘é‡å¤¹è§’å°±å¾ˆå¤§äº†ï¼Œè¯­ä¹‰ä¸Šç›¸å·®å¾ˆè¿œã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Ÿ
å› ä¸ºæ–‡æœ¬é•¿åº¦ä¸é‡è¦ï¼ˆä¸€å¥è¯å’Œä¸€æ®µè¯å¯èƒ½è¡¨è¾¾åŒä¸€æ„æ€ï¼‰ï¼Œæˆ‘ä»¬åªå…³å¿ƒè¯­ä¹‰æ–¹å‘æ˜¯å¦ä¸€è‡´ã€‚</p>
</blockquote>
<h3 data-id="heading-12">ANN</h3>
<p>åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œæˆ‘ä»¬è¿˜çœ‹åˆ°äº†ä¸€ä¸ªå«åšApproximate Nearest Neighborï¼ˆANNï¼‰è¿‘ä¼¼æœ€è¿‘é‚»æ£€ç´¢ç®—æ³•çš„ä¸œè¥¿ï¼Œè¿™ä¸ªå’Œä½™å¼¦ç›¸ä¼¼åº¦æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p>
<p>ç®€å•æ¥è®²ï¼ŒANNæ˜¯â€œæ€ä¹ˆå¿«åœ°æ‰¾ç›¸ä¼¼å‘é‡â€ï¼ˆæ£€ç´¢ç®—æ³•/ç´¢å¼•ï¼‰ï¼Œä½™å¼¦ç›¸ä¼¼åº¦æ˜¯â€œç”¨ä»€ä¹ˆæ ‡å‡†è¡¡é‡ç›¸ä¼¼â€ï¼ˆåº¦é‡/æ‰“åˆ†ï¼‰ï¼›åœ¨RAGä¸­å®ƒä»¬æ˜¯é…å¥—ä½¿ç”¨çš„ï¼šç”¨ä½™å¼¦ç›¸ä¼¼åº¦ç­‰åº¦é‡å®šä¹‰â€œè¿‘é‚»â€ï¼Œå†ç”¨ANNåœ¨å¤§è§„æ¨¡å‘é‡åº“ä¸Šé«˜æ•ˆè¿‘ä¼¼åœ°æ‰¾è¿™äº›è¿‘é‚»ã€‚</p>
<h3 data-id="heading-13">å®Œæ•´è¿‡ç¨‹</h3>
<p>åœ¨å®Œæˆæ£€ç´¢åï¼Œé€šå¸¸ä¼šæ‹¿åˆ°Top-Kæœ€ç›¸å…³çš„å‡ æ¡æ•°æ®ã€‚å‡è®¾ç”¨æˆ·è¾“å…¥çš„é—®é¢˜æ˜¯â€œå¦‚ä½•é…ç½®HTTPSï¼Ÿâ€ï¼Œé‚£ä¹ˆè¿‡ç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>ç”¨æˆ·æé—®ï¼šâ€œå¦‚ä½•é…ç½®HTTPSï¼Ÿâ€</p>
</li>
<li>
<p>ç”¨æˆ·é—®é¢˜å‘é‡åŒ–ï¼Œä½¿ç”¨å’Œæ–‡æ¡£å‘é‡åŒ–æ—¶ç›¸åŒçš„Embedding Model</p>
</li>
<li>
<p>å¾—åˆ°Queryçš„å‘é‡</p>
<pre><code class="hljs language-plain" lang="plain">query_vector = [0.31, 0.48, 0.73, ..., 0.15]  // 768ç»´
</code></pre>
</li>
<li>
<p>åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢</p>
</li>
<li>
<p>è®¡ç®—ç›¸ä¼¼åº¦
Chromaè‡ªåŠ¨è®¡ç®—query_vectorä¸æ‰€æœ‰å‘é‡æ•°æ®åº“ä¸­å‘é‡çš„ç›¸ä¼¼åº¦</p>
<ul>
<li>å‘é‡1: [0.23, 0.45, ...] â†’ ç›¸ä¼¼åº¦ 0.45</li>
<li>å‘é‡2: [0.31, 0.52, ...] â†’ ç›¸ä¼¼åº¦ 0.89 â­</li>
<li>å‘é‡3: [0.12, 0.34, ...] â†’ ç›¸ä¼¼åº¦ 0.32</li>
<li>...</li>
<li>å‘é‡8234: [0.29, 0.51, ...] â†’ ç›¸ä¼¼åº¦ 0.91 â­â­</li>
<li>å‘é‡8235: [0.35, 0.48, ...] â†’ ç›¸ä¼¼åº¦ 0.87 â­</li>
<li>...</li>
</ul>
</li>
<li>
<p>è¿”å› Top-K æœ€ç›¸å…³çš„ï¼Œå‡è®¾æˆ‘ä»¬è®¾ç½® K=3ï¼Œè¿”å›ç›¸ä¼¼åº¦æœ€é«˜çš„3ä¸ªæ–‡æœ¬å—</p>
<p>ç»“æœï¼š
a. (ç›¸ä¼¼åº¦ 0.91) "4.2 HTTPSé…ç½®æ­¥éª¤ï¼šé¦–å…ˆéœ€è¦ç”³è¯·SSLè¯ä¹¦..."
b. (ç›¸ä¼¼åº¦ 0.89) "å®‰å…¨é…ç½®ç« èŠ‚ï¼šHTTPSæ˜¯ä¿éšœç½‘ç«™å®‰å…¨çš„å…³é”®..."
c. (ç›¸ä¼¼åº¦ 0.87) "ç¬¬äº”ç«  è¯ä¹¦ç®¡ç†ï¼šSSL/TLSè¯ä¹¦çš„ç”³è¯·ä¸éƒ¨ç½²..."</p>
</li>
</ol>
<h2 data-id="heading-14">å…­ã€ RAG - A (Augmented)</h2>
<p>åœ¨å¾—åˆ°Top-Kç›¸å…³çš„æ•°æ®åï¼Œä¼šæŠŠè¿™å‡ æ¡ç»“æœçš„åŸå§‹æ•°æ®ï¼ˆæ¯æ¡æ•°æ®çš„metadataä¸­ä¼šæœ‰åŸå§‹æ•°æ®ï¼‰ï¼Œå’Œç”¨æˆ·çš„Queryï¼Œä¸€èµ·ç»™LLMã€‚ä¸ºä»€ä¹ˆå«<strong>Augmentedå¢å¼º</strong>å‘¢ï¼Ÿ</p>
<p>å…¶å®Augmentedï¼Œå°±æ˜¯ä¸€ä¸ªPrompt Engineeringæç¤ºè¯å·¥ç¨‹ç›¸å…³çš„å·¥ä½œï¼ŒæŠŠQueryå’ŒçŸ¥è¯†åº“ä¸­çš„ç›¸å…³æ•°æ®ï¼Œé€šè¿‡ä¸€äº›ç‰¹æ®Šçš„Promptç»™åˆ°LLMï¼Œè®©LLMæ›´å¥½åœ°å›ç­”é—®é¢˜ã€‚å³é€šè¿‡æ¸…æ™°çš„ç»“æ„ + æ˜ç¡®çš„æŒ‡ä»¤ï¼Œè®©æ¨¡å‹çŸ¥é“è¯¥å‚è€ƒä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå®Œæ•´çš„å¢å¼ºåçš„æç¤ºè¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯æ”¯æŒåŠ©æ‰‹ã€‚è¯·æ ¹æ®ä»¥ä¸‹å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚

<span class="hljs-section">## å‚è€ƒèµ„æ–™</span>

<span class="hljs-section">### æ–‡æ¡£1ï¼ˆç›¸å…³åº¦ï¼š91%ï¼‰</span>
æ¥æºï¼šç½‘ç»œå®‰å…¨é…ç½®æ‰‹å†Œ.pdf
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—1}

<span class="hljs-section">### æ–‡æ¡£2ï¼ˆç›¸å…³åº¦ï¼š89%ï¼‰</span>
æ¥æºï¼šæœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.pdf  
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—2}

<span class="hljs-section">### æ–‡æ¡£3ï¼ˆç›¸å…³åº¦ï¼š87%ï¼‰</span>
æ¥æºï¼šè¯ä¹¦ç®¡ç†æ–‡æ¡£.pdf
å†…å®¹ï¼š{æ£€ç´¢åˆ°çš„æ–‡æœ¬å—3}

<span class="hljs-section">## å›ç­”è¦æ±‚</span>
<span class="hljs-bullet">1.</span> å¿…é¡»åŸºäºä¸Šè¿°å‚è€ƒèµ„æ–™
<span class="hljs-bullet">2.</span> å¦‚æœèµ„æ–™ä¸è¶³ï¼Œæ˜ç¡®è¯´æ˜
<span class="hljs-bullet">3.</span> ç»™å‡ºå…·ä½“æ­¥éª¤
<span class="hljs-bullet">4.</span> æ ‡æ³¨ä¿¡æ¯æ¥æº

<span class="hljs-section">## ç”¨æˆ·é—®é¢˜</span>
å¦‚ä½•é…ç½®HTTPSï¼Ÿ

<span class="hljs-section">## ä½ çš„å›ç­”</span>
</code></pre>
<h2 data-id="heading-15">ä¸ƒã€ RAG - G (Generation)</h2>
<p>æœ€åä¸€æ­¥çš„Generationç”Ÿæˆï¼Œå°±å’Œå¹³æ—¶ä½¿ç”¨LLMæ²¡ä»€ä¹ˆåŒºåˆ«äº†ï¼ŒLLMä¼šæ ¹æ®æç¤ºè¯ï¼Œæ¥å›ç­”é—®é¢˜å¹¶æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼æ¥è¾“å‡ºå†…å®¹ã€‚å³ï¼š</p>
<ol>
<li>è¯»å–å‚è€ƒèµ„æ–™</li>
<li>ç†è§£ç”¨æˆ·é—®é¢˜</li>
<li>ä»èµ„æ–™ä¸­æå–ç›¸å…³ä¿¡æ¯</li>
<li>ç»„ç»‡æˆç»“æ„åŒ–å›ç­”</li>
<li>é€å­—ç”Ÿæˆè¾“å‡º</li>
</ol>
<p>ä»¥ä¸Šé¢çš„é—®é¢˜ä¸ºä¾‹ï¼ŒLLMæœ€ç»ˆç”Ÿæˆçš„å†…å®¹å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹æ®å‚è€ƒèµ„æ–™ï¼ŒHTTPSé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ç”³è¯·SSLè¯ä¹¦**</span>
<span class="hljs-bullet">   -</span> å¯ä»¥é€šè¿‡Let's Encryptè·å–å…è´¹è¯ä¹¦
<span class="hljs-bullet">   -</span> æˆ–è´­ä¹°å•†ä¸šè¯ä¹¦ï¼ˆæ¥æºï¼šè¯ä¹¦ç®¡ç†æ–‡æ¡£ï¼‰

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**å®‰è£…è¯ä¹¦**</span>

   sudo cp cert.pem /etc/ssl/certs/
   sudo cp key.pem /etc/ssl/private/
   ...

<span class="hljs-bullet">3.</span> ...

</code></pre>
<p>åˆ°è¿™é‡Œï¼Œæ•´ä¸ªRAGçš„è¿‡ç¨‹å°±ç®—æ˜¯ç»“æŸäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b33a3d8f95d4031ac035523fdbbcd1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=gwF2xEzNSGkxNgPSFd5pwcFIdYA%3D" alt="RAGæµç¨‹" loading="lazy"/></p>
<h2 data-id="heading-16">å…«ã€ å®Œæ•´RAGè¿‡ç¨‹</h2>
<p>ç°åœ¨æŠŠä¸Šé¢å‡ ä¸ªæ­¥éª¤ç»“åˆèµ·æ¥ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">ç§æœ‰çš„çŸ¥è¯†åº“
â†’ æ–‡æœ¬åˆ†å—Chunking
â†’ å‘é‡åŒ–Embedding
â†’ å­˜å‚¨å‘é‡æ„å»ºç´¢å¼•Indexing
â†’ ç”¨æˆ·æé—®Query
â†’ æ£€ç´¢Retrieval
â†’ å¢å¼ºAugmented
â†’ ç”ŸæˆGeneration
</code></pre>
<p>ä¹‹åå°±å¾—åˆ°äº†æœ€å¼€å§‹çš„è¿™ä¸ªæ¶æ„ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d206e521d05f4c15a599196edbe8396f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YWl6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764131169&amp;x-signature=EXuJpwvyFGItyYHyV0Mgb6qQSP8%3D" alt="æ¶æ„ç¤ºæ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-17">ä¹ã€ FAQ</h2>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>RAGå’Œä¼ ç»Ÿçš„å…¨æ–‡æ¨¡ç³Šæœç´¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿçš„æ¨¡ç³Šæœç´¢æ˜¯å…³é”®è¯åŒ¹é…çš„ï¼Œæ¯”å¦‚</p>
<ul>
<li>ç”¨æˆ·æœç´¢ï¼š"å¦‚ä½•åšè›‹ç³•"</li>
<li>ç³»ç»ŸåŒ¹é…ï¼šåªèƒ½æ‰¾åˆ°åŒ…å«"è›‹ç³•"å­—æ ·çš„æ–‡æ¡£</li>
<li>ç»“æœï¼šâŒ æ‰¾ä¸åˆ°"çƒ˜ç„™æ•™ç¨‹"ã€"ç”œç‚¹åˆ¶ä½œ"ç­‰ç›¸å…³å†…å®¹</li>
</ul>
<p>è€ŒRAGæœ€é‡è¦çš„ä¸€æ­¥å°±æ˜¯æŠŠçŸ¥è¯†åº“åšäº†å‘é‡åŒ–ï¼Œæ˜¯æ ¹æ®è¯­ä¹‰è¿›è¡Œæœç´¢çš„</p>
<ul>
<li>ç”¨æˆ·æœç´¢ï¼š"å¦‚ä½•åšè›‹ç³•"</li>
<li>ç³»ç»Ÿç†è§£ï¼šç”¨æˆ·æƒ³å­¦ä¹ çƒ˜ç„™æŠ€èƒ½</li>
<li>ç»“æœï¼šâœ… æ‰¾åˆ°"çƒ˜ç„™æ•™ç¨‹"ã€"ç”œç‚¹åˆ¶ä½œ"ã€"é¢åŒ…åˆ¶ä½œ"ç­‰ç›¸å…³å†…å®¹</li>
</ul>
</li>
<li>
<p><strong>æ—¢ç„¶RAGé‡Œé¢è¿˜æ˜¯è¦è¦é€šè¿‡æ„é€ æç¤ºè¯æ¥å§å‚è€ƒèµ„æ–™æ”¾å…¥æç¤ºè¯ï¼Œé‚£è¿™å’Œâ€œç›´æ¥åœ¨é—®é¢˜é‡ŒæŠŠå‚è€ƒæ–‡æ¡£ä¹Ÿè¾“å…¥è¿›å»â€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¦è€ƒè™‘æˆæœ¬å’Œæ•ˆç‡ï¼Œä¸€ä¸ªçŸ¥è¯†åº“å¯èƒ½å¾ˆå¤§ï¼Œæˆç™¾ä¸Šåƒä¸ªæ–‡æ¡£ï¼Œæ•°ä¸‡æ•°åä¸‡å­—ï¼Œåœ¨å®é™…æ“ä½œçš„æ—¶å€™ï¼Œè¦è€ƒè™‘åˆ°ï¼š</p>
<ul>
<li>Tokené™åˆ¶ï¼šGPT-4 æœ€å¤š128K tokens â‰ˆ 10ä¸‡å­—ï¼ŒçŸ¥è¯†åº“æ— æ³•å¡è¿›å»</li>
<li>æˆæœ¬é—®é¢˜ï¼šå³ä½¿èƒ½å¡è¿›å»ï¼Œ128K tokenså¯èƒ½ä¸€æ¬¡è°ƒç”¨å¯èƒ½è¦å‡ ç¾å…ƒï¼Œæˆæœ¬æ¿€å¢</li>
<li>æ•ˆç‡ä½ä¸‹ï¼šLLMè¦è¯»å®Œæ‰€æœ‰æ— å…³å†…å®¹</li>
<li>å“åº”ç¼“æ…¢ï¼šå¤„ç†æµ·é‡æ–‡æœ¬éœ€è¦å¾ˆé•¿æ—¶é—´
æ‰€ä»¥RAGä¸­Ræ£€ç´¢è¿™ä¸€æ­¥ï¼Œå°±æ˜¯åœ¨åšè¿‡æ»¤ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯æŠŠâ€œæ— é™å¤§â€çš„çŸ¥è¯†åº“å˜æˆâ€œåˆšåˆšå¥½â€çš„ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li>
<p><strong>åœ¨åšå‘é‡åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°çš„Embedding Modelå’ŒLLMçš„Modelæœ‰ä»€ä¹ˆå…³è”ï¼Œä¸ºä»€ä¹ˆEmbedding Modelå¯ä»¥è¯†åˆ«åŸå§‹æ•°æ®çš„è¯­ä¹‰ï¼Ÿ</strong></p>
<p>ç®€å•æ¥è®²ï¼Œ<strong>Embeddingæ¨¡å‹</strong>å’Œ<strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼Œä»–ä»¬çš„åŸºç¡€æ¶æ„æ˜¯ç›¸ä¼¼ï¼Œä½†ç›®æ ‡å’Œè®­ç»ƒæ–¹å¼ä¸åŒã€‚
ä¸¤è€…éƒ½åŸºäºTransformeræ¶æ„ï¼Œå³ï¼š</p>
<ul>
<li>å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Multi-Head Attention)</li>
<li>å‰é¦ˆç¥ç»ç½‘ç»œ (Feed-Forward)</li>
<li>å±‚å½’ä¸€åŒ– (Layer Normalization)</li>
<li>ä½ç½®ç¼–ç  (Positional Encoding)</li>
</ul>
<p>ä½†æ˜¯</p>
<ul>
<li>Embedding Modelï¼šä¸“é—¨å­¦ä¹ â€œç†è§£å’Œè¡¨ç¤ºâ€ï¼Œè¾“å‡ºæ˜¯å‘é‡</li>
<li>LLMï¼šä¸“é—¨å­¦ä¹ â€œç”Ÿæˆæ–‡æœ¬â€ï¼Œè¾“å‡ºæ˜¯æ–‡å­—
å®Œæ•´çš„Transformerå¯ä»¥ç†è§£ä¸ºEncoderç¼–ç å™¨ + Decoderè§£ç å™¨ã€‚</li>
</ul>

















<table><thead><tr><th>ç»„æˆ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>Encoderç¼–ç å™¨</td><td>ç†è§£è¾“å…¥ï¼Œæå–ç‰¹å¾</td></tr><tr><td>Decoderè§£ç å™¨</td><td>ç”Ÿæˆè¾“å‡ºï¼Œé€å­—ç”Ÿæˆ</td></tr></tbody></table>
</li>
</ol>
<p>Embeddingæ¨¡å‹ä¸»è¦ç”¨çš„æ˜¯Encoderï¼Œå¤§è¯­è¨€æ¨¡å‹ä¸»è¦ç”¨Decoderã€‚è€ŒEmbeddingæ¨¡å‹ä¹‹æ‰€ä»¥æ¯”LLMå°å¾ˆå¤šï¼ˆå¦‚BGE-base-zhåªæœ‰400Mï¼‰ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒçš„ä»»åŠ¡ç›¸å¯¹ç®€å•ï¼ˆæ˜ å°„åˆ°å‘é‡ç©ºé—´ï¼‰ï¼Œä¸éœ€è¦ç”Ÿæˆèƒ½åŠ›ï¼Œä¹Ÿå°±ä¸éœ€è¦è®°å¿†æµ·é‡çŸ¥è¯†å’Œå¤æ‚çš„æ¨ç†èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-18">åã€ å°ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬ä¸€èµ·äº†è§£äº†ä¸€ä¸‹RAGï¼Œä»¥åŠè¿™ä¸ªæŠ€æœ¯å¦‚ä½•é€šè¿‡å¤–æŒ‚çŸ¥è¯†åº“è§£å†³å¤§è¯­è¨€æ¨¡å‹çš„ä¸‰å¤§å±€é™ï¼š</p>
<ul>
<li>æ—¶æ•ˆæ€§ä¸è¶³ï¼ˆæ— æ³•å¤„ç†è®­ç»ƒåæ–°æ•°æ®ï¼‰</li>
<li>ç§æœ‰æ•°æ®ç¼ºå¤±</li>
<li>å¹»è§‰é—®é¢˜</li>
</ul>
<p>å®ƒçš„æ ¸å¿ƒæœºåˆ¶åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>åŸºäºè¯­ä¹‰çš„å‘é‡åŒ–æ£€ç´¢</li>
<li>ç»“æ„åŒ–æç¤ºè¯å¢å¼ºä¸Šä¸‹æ–‡</li>
<li>ä»¥åŠå¤§æ¨¡å‹çš„çŸ¥è¯†æ•´åˆç”Ÿæˆ</li>
</ul>
<p>è¿™æ ·å°±èƒ½å®ç°ä½æˆæœ¬ã€æ˜“äºç»´æŠ¤çš„ä¸“ä¸šé¢†åŸŸçŸ¥è¯†èåˆã€‚ç›¸æ¯”å¾®è°ƒæ–¹æ¡ˆï¼Œ RAGæ— éœ€è®­ç»ƒæ ‡æ³¨æ•°æ®ä¸”æ”¯æŒå®æ—¶æ›´æ–°ï¼Œé€‚åˆç”¨åœ¨ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ã€å®æ—¶æ”¿ç­–è§£è¯»è¿™äº›åœºæ™¯é‡Œã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è¿™ç¯‡æ–‡ç« ï¼ˆæˆ–è€…è¯´ã€ŠAIæ¦‚å¿µè§£æƒ‘ã€‹è¿™ä¸ªç³»åˆ—ï¼‰æ›´ä¸“æ³¨äºæ¦‚å¿µè§£æƒ‘å’ŒåŸç†è§£æï¼Œæ‰€ä»¥æ²¡æœ‰åŒ…å«ä»€ä¹ˆä»£ç å®æ“ã€‚</p>
<p>å¦å¤–è¿™ä¹Ÿåªæ˜¯ä¸€ä¸ªç®€å•çš„åŸç†è§£æï¼Œå®é™…çš„RAGå·¥ç¨‹ä¸­å¯èƒ½è¿˜ä¼šåŒ…å«å¾ˆå¤šå…¶ä»–çš„æ­¥éª¤ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ–‡æœ¬åˆ†å—æ—¶å¯èƒ½ä¼šåŒæ—¶ä½¿ç”¨è¯­ä¹‰åˆ†å—+æ»‘åŠ¨çª—å£åˆ†å—</li>
<li>Retrievalé˜¶æ®µå¯èƒ½ä¸åªæ˜¯ç”¨å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ï¼Œä¼šä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦+å…³é”®è¯ï¼ˆå¦‚BM25ï¼‰çš„æ··åˆæ£€ç´¢
<ul>
<li>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå‘é‡ç›¸ä¼¼åº¦åªå¯¹è¯­ä¹‰æ•æ„Ÿï¼Œå¯¹å…³é”®è¯ä¸æ•æ„Ÿï¼Œæ¯”å¦‚â€œPython 3.12â€å’Œâ€œPython 3.13â€çš„å‘é‡åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯ç”¨æˆ·å¯èƒ½æ˜¯æé—®å…·ä½“Pythonç‰ˆæœ¬çš„é—®é¢˜</li>
</ul>
</li>
<li>åœ¨Retrievalæ£€ç´¢åè¿˜å¯èƒ½å­˜åœ¨ä¸€ä¸ªRerankingé‡æ’çš„æ­¥éª¤
<ul>
<li>å¯¹å€™é€‰ç‰‡æ®µè¿›è¡Œç²¾ç»†åŒ–æ‰“åˆ†å’Œæ’åº</li>
</ul>
</li>
<li>å¯¹äºç”¨æˆ·çš„é—®é¢˜Queryå¯èƒ½ä¼šå¢åŠ ä¸€ä¸ªQuery Rewriting
<ul>
<li>æ˜¯ä¸ºäº†è®©é—®é¢˜æ›´è§„èŒƒï¼Œæ¯”å¦‚ä»ä¸€ä¸ªå£è¯­åŒ–çš„è¡¨è¾¾åˆ°ä¸€ä¸ªè§„èŒƒåŒ–çš„è¡¨è¾¾</li>
</ul>
</li>
<li>ä½¿ç”¨å¤šè·¯æ£€ç´¢ï¼ˆMulti-Path Retrievalï¼‰ã€ä¸Šä¸‹æ–‡å‹ç¼©ï¼ˆContext Compressionï¼‰ã€è‡ªæˆ‘åæ€ï¼ˆSelf-Reflectionï¼‰ç­‰æ‰‹æ®µè¿›è¡Œä¼˜åŒ–</li>
<li>å¼•å…¥RAGè¯„åˆ†æœºåˆ¶ï¼Œå¯¹RAGçš„è¾“å‡ºç»“æœè¿›è¡Œè¯„ä¼°</li>
<li>...</li>
</ul>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œæœç´¢äº†è§£ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£RAGçš„æ ¸å¿ƒåŸç†å’Œåº”ç”¨åœºæ™¯ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¾›è‹¦å¤§å®¶æŒ‡æ­£ã€‚</p>
<h2 data-id="heading-19">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://juejin.cn/post/7464756728685936694" target="_blank" title="https://juejin.cn/post/7464756728685936694">æ£€ç´¢å¢å¼ºç”ŸæˆæŠ€æœ¯RAGï¼šå‘é‡åŒ–ä¸å¤§æ¨¡å‹çš„ç»“åˆ</a></li>
<li><a href="https://juejin.cn/post/7251903805980524581" target="_blank" title="https://juejin.cn/post/7251903805980524581">è¢« AI å¸¦ç«çš„å‘é‡æ•°æ®åº“æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="https://juejin.cn/post/7554986681502957587#heading-5" target="_blank" title="https://juejin.cn/post/7554986681502957587#heading-5">å¤§æ¨¡å‹ç³»åˆ—æ•™ç¨‹ï¼šä»€ä¹ˆæ˜¯RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆæ¨¡å‹ï¼‰æŠ€æœ¯</a></li>
<li><a href="https://juejin.cn/post/7379831020495732773" target="_blank" title="https://juejin.cn/post/7379831020495732773">RAG-æ£€ç´¢å¢å¼ºç”Ÿæˆ</a></li>
<li><a href="https://juejin.cn/post/7502279037948313651" target="_blank" title="https://juejin.cn/post/7502279037948313651">ç¬¬ä¸€ç« ï¼šRAG å¼€å‘å…¥é—¨ä¸åŸºç¡€æ¦‚å¿µ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F647646322" target="_blank" title="https://zhuanlan.zhihu.com/p/647646322" ref="nofollow noopener noreferrer">æ–‡æœ¬ Embedding åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨å®ç°åŸç†</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweaviate.io%2Fblog%2Fdistance-metrics-in-vector-search" target="_blank" title="https://weaviate.io/blog/distance-metrics-in-vector-search" ref="nofollow noopener noreferrer">Distance Metrics in Vector Search</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdatacream.substack.com%2Fp%2Frag-explained-understanding-embeddings" target="_blank" title="https://datacream.substack.com/p/rag-explained-understanding-embeddings" ref="nofollow noopener noreferrer">RAG Explained: Understanding Embeddings, Similarity, and Retrieval</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶]]></title>    <link>https://juejin.cn/post/7573995798602907663</link>    <guid>https://juejin.cn/post/7573995798602907663</guid>    <pubDate>2025-11-19T04:31:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573995798602907663" data-draft-id="7573904312713625635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶"/> <meta itemprop="keywords" content="å¼€æº,èµ„è®¯,ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-11-19T04:31:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸¤ä¸ªå•†ä¸šæ’ä»¶æ”¹ä¸ºå¼€æºæ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T04:31:00.000Z" title="Wed Nov 19 2025 04:31:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftwo-commercial-plugins-are-now-open-source" target="_blank" title="https://www.nocobase.com/cn/blog/two-commercial-plugins-are-now-open-source" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/twoâ€¦</a></p>
<p>æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œæˆ‘ä»¬å†³å®šå°†ä¸¤æ¬¾å•†ä¸šå·¥ä½œæµæ’ä»¶è°ƒæ•´ä¸ºå¼€æºæ’ä»¶ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs-cn.nocobase.com%2Fhandbook%2Fworkflow-json-query" target="_blank" title="https://docs-cn.nocobase.com/handbook/workflow-json-query" ref="nofollow noopener noreferrer">JSON è®¡ç®—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs-cn.nocobase.com%2Fhandbook%2Fworkflow-json-variable-mapping" target="_blank" title="https://docs-cn.nocobase.com/handbook/workflow-json-variable-mapping" ref="nofollow noopener noreferrer">JSON å˜é‡æ˜ å°„</a></li>
</ul>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆå¼€æºï¼Ÿ</h2>
<p>è¿™ä¸¤æ¬¾æ’ä»¶åœ¨å·¥ä½œæµé‡Œéå¸¸å¸¸ç”¨ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯ SQL ã€HTTP è¯·æ±‚ç­‰èŠ‚ç‚¹çš„ä¸‹æ¸¸å¿…å¤‡èŠ‚ç‚¹ã€‚ä½œä¸ºå•†ä¸šæ’ä»¶ï¼Œå®ƒä»¬ç»å¸¸é˜»æ–­ç¤¾åŒºç‰ˆç”¨æˆ·ä½¿ç”¨ HTTP è¯·æ±‚èŠ‚ç‚¹çš„ä½¿ç”¨ï¼Œå¸¦æ¥ä¸å¥½çš„ä½“éªŒã€‚å› æ­¤æˆ‘ä»¬å†³å®šå°†å®ƒä»¬æ”¹ä¸ºå¼€æºæ’ä»¶ã€‚</p>
<h2 data-id="heading-1">æ’ä»¶ç®€ä»‹</h2>
<h3 data-id="heading-2"><strong>JSON è®¡ç®—</strong></h3>
<p>ç”¨äºå¯¹ä¸Šæ¸¸èŠ‚ç‚¹äº§ç”Ÿçš„å¤æ‚ JSON æ•°æ®è¿›è¡Œè®¡ç®—ã€æå–æˆ–ç»“æ„è½¬æ¢ã€‚</p>
<p>å…¸å‹åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>SQL æŸ¥è¯¢çš„ç»“æœ</li>
<li>HTTP è¯·æ±‚è¿”å›çš„æ•°æ®</li>
</ul>
<p>éƒ½å¯ä»¥é€šè¿‡è¯¥èŠ‚ç‚¹è½¬æ¢æˆä½ åç»­èŠ‚ç‚¹éœ€è¦çš„å˜é‡æ ¼å¼æˆ–å­—æ®µå€¼ã€‚</p>
<h3 data-id="heading-3"><strong>JSON å˜é‡æ˜ å°„</strong></h3>
<p>ç”¨äºå°†ä¸Šæ¸¸èŠ‚ç‚¹ä¸­çš„å¤æ‚ JSON ç»“æ„æ˜ å°„ä¸ºéœ€è¦çš„å˜é‡å½¢æ€ã€‚</p>
<p>å…¸å‹åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä» API/SQL è¿”å›çš„åµŒå¥— JSON é‡Œæå–å…³é”®å­—æ®µ</li>
<li>è°ƒæ•´å­—æ®µåç§°ã€æ•°ç»„ç»“æ„</li>
<li>ä¸ºåç»­èŠ‚ç‚¹å‡†å¤‡å¥½æ›´æ˜“ç”¨çš„å˜é‡</li>
</ul>
<p>æœ‰äº†å®ƒï¼Œä½ æ— éœ€åœ¨æ¯ä¸ªèŠ‚ç‚¹é‡å¤é…ç½®å¤æ‚çš„å­—æ®µè·¯å¾„ã€‚</p>
<h2 data-id="heading-4">å·²è´­ä¹°ç”¨æˆ·çš„è°ƒæ•´</h2>
<p>å·²è´­ç”¨æˆ·çš„æƒç›Šä¸ä¼šå—å½±å“ï¼Œæˆ‘ä»¬ä¼šæŒ‰è§„åˆ™é€€è¿˜å¯¹åº”æ’ä»¶ç‚¹æ•°ï¼š</p>
<ul>
<li>*æ°¸ä¹…ä½¿ç”¨, 1 å¹´å‡çº§ *é€€è¿˜ <strong>2 ä¸ªç‚¹æ•°</strong></li>
<li>*æ°¸ä¹…ä½¿ç”¨å’Œå‡çº§ *é€€è¿˜ <strong>4 ä¸ªç‚¹æ•°</strong></li>
</ul>
<p>ä»¥ä¸Šè°ƒæ•´çš„è§£é‡Šæƒå½’ NocoBase æ¯å…¬å¸æ‰€æœ‰ã€‚å·²ç»è´­ä¹°æˆ–å…‘æ¢äº†è¿™ä¸¤æ¬¾å•†ä¸šæ’ä»¶çš„ç”¨æˆ·ï¼Œèµ é€æƒç›Šå°†åœ¨ 2025 å¹´ 11 æœˆ 23 æ—¥ä¹‹å‰è°ƒæ•´å®Œæˆã€‚</p>
<h2 data-id="heading-5">æœ€å</h2>
<p>æ„Ÿè°¢æ¯ä¸€ä½ NocoBase ç”¨æˆ·å’Œå¼€æºè´¡çŒ®è€…ã€‚ä½ ä»¬çš„éœ€æ±‚ã€åé¦ˆå’Œ Issue æ¨åŠ¨æˆ‘ä»¬ä¸æ–­è¿­ä»£ã€‚æœªæ¥æˆ‘ä»¬ä¼šç»§ç»­åŠ å¿«å¼€å‘èŠ‚å¥ï¼Œä¸ºå¤§å®¶æä¾›æ›´å¼ºçš„èƒ½åŠ›å’Œæ›´å‹å¥½çš„ä»·æ ¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰]]></title>    <link>https://juejin.cn/post/7573993452578308139</link>    <guid>https://juejin.cn/post/7573993452578308139</guid>    <pubDate>2025-11-19T03:17:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573993452578308139" data-draft-id="7573524348129345599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-19T03:17:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¯å·±é…®"/> <meta itemprop="url" content="https://juejin.cn/user/1282456864448692"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pyæ•°æ®ç§‘å­¦å­¦ä¹ ç¬”è®°day4-ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ2ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282456864448692/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¯å·±é…®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:17:57.000Z" title="Wed Nov 19 2025 03:17:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ç©ºé—´æ•°æ®ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–ï¼ˆ1ï¼‰</p>
<h2 data-id="heading-0">ä¸€ã€ç©ºé—´æ•°æ®çš„è¯»å–å’Œé¢„å¤„ç†</h2>
<h3 data-id="heading-1">ï¼ˆ1ï¼‰è¯»å–å’ŒåŠ è½½åœ°ç†æ•°æ®æ–‡ä»¶</h3>
<h5 data-id="heading-2">1. æ ¸å¿ƒå·¥å…·ä¸æ ¸å¿ƒé€»è¾‘</h5>
<ul>
<li>ä¸»è¦åº“ï¼š<strong>GeoPandas</strong>ï¼ˆå…¼å®¹å¤šç§ä¸»æµåœ°ç†æ•°æ®æ ¼å¼ï¼Œæ“ä½œç®€æ´ï¼‰ï¼›</li>
<li>æ ¸å¿ƒé€»è¾‘ï¼šé€šè¿‡ GeoPandas çš„<code>read_file()</code>æ–¹æ³•è¯»å–æ–‡ä»¶ï¼Œè‡ªåŠ¨å°†åœ°ç†æ•°æ®è½¬æ¢ä¸º<strong>GeoDataFrame</strong>ï¼ˆèåˆå‡ ä½•å¯¹è±¡ä¸å±æ€§æ•°æ®çš„ç»“æ„ï¼‰ï¼Œç›´æ¥æ”¯æŒåç»­åˆ†æã€‚</li>
</ul>
<h5 data-id="heading-3">2. å¸¸è§æ ¼å¼ä¸è¯»å–æ–¹æ³•</h5>
<ul>
<li>
<p>é‡ç‚¹æ ¼å¼ï¼šShapefileï¼ˆæœ€å¸¸ç”¨çŸ¢é‡æ ¼å¼ï¼Œå­˜å‚¨ç‚¹ / çº¿ / é¢ï¼‰</p>
<ul>
<li>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># ä¼ å…¥æ–‡ä»¶å®Œæ•´è·¯å¾„ï¼ˆæ³¨æ„è·¯å¾„åˆ†éš”ç¬¦ç”¨"/"æˆ–"\")</span>
gdf = gpd.read_file(<span class="hljs-string">'æ–‡ä»¶è·¯å¾„.shp'</span>)  <span class="hljs-comment"># åç¼€ä¸º.shpï¼Œæ— éœ€é¢å¤–é…ç½®</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>å…¶ä»–æ”¯æŒæ ¼å¼ï¼šGeoJSONã€GPKGï¼ˆGeoPackageï¼‰ã€SHPXï¼ˆShapefile ç´¢å¼•æ–‡ä»¶ï¼‰ã€KML ç­‰</p>
<ul>
<li>è¯»å–æ–¹å¼ç»Ÿä¸€ï¼šä»…éœ€ä¿®æ”¹<code>read_file()</code>çš„æ–‡ä»¶è·¯å¾„ï¼ˆå¸¦å¯¹åº”æ ¼å¼åç¼€ï¼Œå¦‚<code>'æ•°æ®.geojson'</code>ã€<code>'æ•°æ®.gpkg'</code>ï¼‰ï¼Œæ— éœ€æ›´æ¢æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">ï¼ˆ2ï¼‰æ•°æ®é¢„å¤„ç†</h3>
<h5 data-id="heading-5">ä¸€ã€æ•°æ®æ¸…ç†å’Œå»é‡</h5>
<p><strong>ç›®çš„</strong>ï¼šå»é™¤é‡å¤ã€å¼‚å¸¸æ•°æ®ï¼Œä¿è¯æ•°æ®å‡†ç¡®æ€§ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>åˆ é™¤é‡å¤æ•°æ®</strong>ï¼šç”¨Â <code>drop_duplicates()</code>Â ç§»é™¤å®Œå…¨é‡å¤çš„è®°å½•ï¼ˆæˆ–æŒ‰æŒ‡å®šåˆ—å»é‡ï¼‰ï¼›</li>
<li><strong>å¤„ç†å¼‚å¸¸å€¼</strong>ï¼šé€šè¿‡å¸ƒå°”ç´¢å¼•ç­›é€‰æ‰ä¸åˆç†æ•°æ®ï¼ˆå¦‚é¢ç§¯â‰¤0 çš„å¤šè¾¹å½¢ï¼‰ï¼›</li>
<li><strong>ä¿å­˜ç»“æœ</strong>ï¼šç”¨Â <code>to_file()</code>Â å­˜å‚¨æ¸…ç†åçš„æ•°æ®ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd  
gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  <span class="hljs-comment"># è¯»æ•°æ®  </span>
gdf = gdf.drop_duplicates()  <span class="hljs-comment"># å»é‡  </span>
gdf = gdf[gdf[<span class="hljs-string">"shape_area"</span>] &gt; <span class="hljs-number">0</span>]  <span class="hljs-comment"># åˆ å¼‚å¸¸å€¼  </span>
gdf.to_file(<span class="hljs-string">"æ¸…ç†åæ•°æ®è·¯å¾„.shp"</span>)  <span class="hljs-comment"># ä¿å­˜  </span>
</code></pre>
<h5 data-id="heading-6">äºŒã€å¤„ç†ç¼ºå¤±æ•°æ®</h5>
<p><strong>ç›®çš„</strong>ï¼šè¡¥å…¨æˆ–ç§»é™¤ç¼ºå¤±å€¼ï¼Œé¿å…åˆ†æåå·®ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>å¡«å……ç¼ºå¤±å€¼</strong>ï¼šç”¨Â <code>fillna()</code>Â å¡«å……æ•°å€¼ï¼ˆå¦‚å‡å€¼ã€ä¸­ä½æ•°ï¼‰æˆ–åˆ†ç±»å€¼ï¼ˆå¦‚ä¼—æ•°ï¼‰ï¼›</li>
<li><strong>åˆ é™¤ç¼ºå¤±å€¼</strong>ï¼šç”¨Â <code>dropna(subset=åˆ—å)</code>Â ç§»é™¤å…³é”®å±æ€§ï¼ˆå¦‚åç§°ã€åæ ‡ï¼‰ç¼ºå¤±çš„è®°å½•ï¼›</li>
<li><strong>ä¿å­˜ç»“æœ</strong>ï¼šç”¨Â <code>to_file()</code>Â å­˜å‚¨å¤„ç†åçš„æ•°æ®ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  
mean_area = gdf[<span class="hljs-string">"shape_area"</span>].mean()  
gdf[<span class="hljs-string">"shape_area"</span>] = gdf[<span class="hljs-string">"shape_area"</span>].fillna(mean_area)  <span class="hljs-comment"># å¡«å……  </span>
gdf = gdf.dropna(subset=[<span class="hljs-string">"ntaname"</span>])  <span class="hljs-comment"># åˆ é™¤å…³é”®åˆ—ç¼ºå¤±å€¼  </span>
gdf.to_file(<span class="hljs-string">"å¤„ç†åæ•°æ®è·¯å¾„.shp"</span>)  
</code></pre>
<h5 data-id="heading-7">ä¸‰ã€åæ ‡ç³»è½¬æ¢</h5>
<p><strong>ç›®çš„</strong>ï¼šç»Ÿä¸€ä¸åŒæ•°æ®æºçš„åæ ‡ç³»ï¼Œç¡®ä¿ç©ºé—´åˆ†æå¯¹é½ã€‚<strong>æ ¸å¿ƒæ“ä½œ</strong>ï¼š</p>
<ol>
<li><strong>æŸ¥çœ‹åŸåæ ‡ç³»</strong>ï¼šé€šè¿‡Â <code>gdf.crs</code>Â è·å–å½“å‰åæ ‡å‚è€ƒç³»ç»Ÿï¼ˆCRSï¼‰ï¼›</li>
<li><strong>è½¬æ¢åæ ‡ç³»</strong>ï¼šç”¨Â <code>to_crs(ç›®æ ‡EPSGç )</code>Â è½¬æ¢ï¼ˆå¦‚ WGS84 å¯¹åº”Â <code>EPSG:4326</code>ï¼‰ï¼›</li>
<li><strong>éªŒè¯å¹¶ä¿å­˜</strong>ï¼šæ£€æŸ¥è½¬æ¢å CRSï¼Œç”¨Â <code>to_file()</code>Â å­˜å‚¨ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">gdf = gpd.read_file(<span class="hljs-string">"æ•°æ®è·¯å¾„.shp"</span>)  
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸåæ ‡ç³»ï¼š"</span>, gdf.crs)  
gdf = gdf.to_crs(<span class="hljs-string">"EPSG:4326"</span>)  <span class="hljs-comment"># è½¬æ¢åˆ°WGS84  </span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–°åæ ‡ç³»ï¼š"</span>, gdf.crs)  
gdf.to_file(<span class="hljs-string">"è½¬æ¢åæ•°æ®è·¯å¾„.shp"</span>
</code></pre>
<h2 data-id="heading-8">äºŒã€ç©ºé—´æ•°æ®çš„ç»Ÿè®¡åˆ†æ</h2>
<h3 data-id="heading-9">1. ç©ºé—´è¿æ¥</h3>
<p>ç©ºé—´è¿æ¥æ˜¯é€šè¿‡ GeoPandas å°†ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ•°æ®é›†ï¼ˆå«åœ°ç†æ•°æ® + å±æ€§æ•°æ®ï¼‰æŒ‰ â€œå±æ€§å…³è”â€ æˆ– â€œç©ºé—´å…³ç³»â€ åˆå¹¶ï¼Œå®ç°æ•°æ®æ•´åˆä¸å±æ€§ä¼ é€’ï¼Œæ˜¯ åœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼ˆGISï¼‰ åˆ†æçš„æ ¸å¿ƒæ“ä½œã€‚</p>
<h6 data-id="heading-10">ï¼ˆ1ï¼‰å±æ€§è¿æ¥ï¼ˆç”¨æˆ·ç¤ºä¾‹ç±»å‹ï¼‰ï¼šæŒ‰å…±åŒå±æ€§åˆ—åŒ¹é…</h6>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šä¸¤ä¸ªæ•°æ®é›†æœ‰ç›¸åŒæ ‡è¯†åˆ—ï¼ˆå¦‚ç¼–ç ã€åç§°ï¼‰ï¼Œæ— éœ€ç©ºé—´å…³ç³»åˆ¤æ–­ã€‚</li>
</ul>
<blockquote>
<ul>
<li>æ ¸å¿ƒæ–¹æ³•ï¼š<code>GeoDataFrame.merge()</code>ï¼ˆå…¼å®¹ Pandas çš„ merge é€»è¾‘ï¼‰ã€‚</li>
</ul>
</blockquote>
<ul>
<li>
<p>å…³é”®å‚æ•°ï¼š</p>
<ul>
<li><code>left_on</code>ï¼šå·¦æ•°æ®é›†ï¼ˆåœ°ç†æ•°æ® gdfï¼‰çš„è¿æ¥åˆ—ï¼›</li>
<li><code>right_on</code>ï¼šå³æ•°æ®é›†ï¼ˆæ™®é€šæ•°æ® dfï¼‰çš„è¿æ¥åˆ—ï¼›</li>
<li><code>how</code>ï¼šè¿æ¥æ–¹å¼ï¼ˆ<code>left</code>å·¦è¿æ¥ã€<code>inner</code>å†…è¿æ¥ã€<code>outer</code>å¤–è¿æ¥ï¼Œå¸¸ç”¨<code>left</code>ä¿ç•™æ‰€æœ‰åœ°ç†æ•°æ®ï¼‰ã€‚</li>
<li>ä¸çŸ¥é“å·¦å³å†…è¿æ¥ä»€ä¹ˆæ„æ€å¯ä»¥çœ‹<a href="https://juejin.cn/post/7573336057480675334" target="_blank" title="https://juejin.cn/post/7573336057480675334">è¿™ç¯‡æ–‡ç« </a></li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># 1. è¯»æ•°æ®ï¼šåœ°ç†æ•°æ®ï¼ˆgdfï¼‰+ æ™®é€šå±æ€§æ•°æ®ï¼ˆdfï¼‰</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)  <span class="hljs-comment"># å«åœ°ç†å‡ ä½•åˆ—ï¼ˆgeometryï¼‰å’Œå±æ€§åˆ—ï¼ˆå¦‚ntacodeï¼‰</span>
pop_df = pd.read_csv(<span class="hljs-string">"äººå£æ•°æ®.csv"</span>)  <span class="hljs-comment"># æ™®é€šè¡¨æ ¼ï¼Œå«è¿æ¥åˆ—ï¼ˆå¦‚NTA Codeï¼‰</span>

<span class="hljs-comment"># 2. æ•°æ®é¢„å¤„ç†ï¼ˆå¯é€‰ï¼‰ï¼šç­›é€‰ç›®æ ‡æ•°æ®ï¼ˆå¦‚2010å¹´äººå£ï¼‰</span>
pop_df = pop_df[pop_df[<span class="hljs-string">"Year"</span>] == <span class="hljs-number">2010</span>]

<span class="hljs-comment"># 3. æŒ‰å±æ€§è¿æ¥ï¼šé€šè¿‡"ntacode"å’Œ"NTA Code"åŒ¹é…</span>
merged_gdf = gdf.merge(pop_df, left_on=<span class="hljs-string">"ntacode"</span>, right_on=<span class="hljs-string">"NTA Code"</span>, how=<span class="hljs-string">"left"</span>)
</code></pre>
</li>
</ul>
<h6 data-id="heading-11">ï¼ˆ2ï¼‰ ç©ºé—´è¿æ¥ï¼ˆæŒ‰ç©ºé—´å…³ç³»åŒ¹é…ï¼‰ï¼šæ ¸å¿ƒ GIS è¿æ¥æ–¹å¼</h6>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šæ— å…±åŒå±æ€§åˆ—ï¼ŒæŒ‰å‡ ä½•å¯¹è±¡çš„ç©ºé—´å…³ç³»å…³è”ï¼ˆå¦‚ â€œç‚¹åœ¨å¤šè¾¹å½¢å†…â€â€œçº¿ç©¿è¿‡å¤šè¾¹å½¢â€ï¼‰ã€‚</li>
</ul>
<blockquote>
<ul>
<li>æ ¸å¿ƒæ–¹æ³•ï¼š<code>gpd.sjoin()</code>ï¼ˆä¸“é—¨çš„ç©ºé—´è¿æ¥å‡½æ•°ï¼‰ã€‚</li>
</ul>
</blockquote>
<ul>
<li>
<p>å…³é”®å‚æ•°ï¼š</p>
<ul>
<li><code>left_df/right_df</code>ï¼šå¾…è¿æ¥çš„ä¸¤ä¸ª GeoDataFrameï¼ˆå‡éœ€å« geometry åˆ—ï¼‰ï¼›</li>
<li><code>predicate</code>ï¼šç©ºé—´å…³ç³»ï¼ˆ<code>within</code>å«äºã€<code>contains</code>åŒ…å«ã€<code>intersects</code>ç›¸äº¤ç­‰ï¼‰ï¼›</li>
<li><code>how</code>ï¼šè¿æ¥æ–¹å¼ï¼ˆåŒå±æ€§è¿æ¥ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼ˆç‚¹ - å¤šè¾¹å½¢ç©ºé—´è¿æ¥ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡è®¾ï¼šç‚¹æ•°æ®ï¼ˆå±…æ°‘ç‚¹ï¼‰ã€å¤šè¾¹å½¢æ•°æ®ï¼ˆè¡Œæ”¿åŒºï¼‰</span>
points_gdf = gpd.read_file(<span class="hljs-string">"å±…æ°‘ç‚¹.shp"</span>)
poly_gdf = gpd.read_file(<span class="hljs-string">"è¡Œæ”¿åŒº.shp"</span>)

<span class="hljs-comment"># ç©ºé—´è¿æ¥ï¼šå°†æ¯ä¸ªå±…æ°‘ç‚¹å…³è”åˆ°å…¶æ‰€åœ¨çš„è¡Œæ”¿åŒºï¼ˆä¼ é€’è¡Œæ”¿åŒºå±æ€§ï¼‰</span>
spatial_merged_gdf = gpd.sjoin(points_gdf, poly_gdf, predicate=<span class="hljs-string">"within"</span>, how=<span class="hljs-string">"left"</span>)
</code></pre>
</li>
</ul>
<h5 data-id="heading-12">å…³é”®æ­¥éª¤ï¼ˆé€šç”¨æµç¨‹ï¼‰</h5>
<ol>
<li>è¯»å–æ•°æ®ï¼šåœ°ç†æ•°æ®ï¼ˆgdfï¼‰+ å¾…å…³è”æ•°æ®ï¼ˆgdf æˆ–æ™®é€š dfï¼‰ï¼›</li>
<li>æ•°æ®é¢„å¤„ç†ï¼šç­›é€‰ç›®æ ‡æ•°æ®ã€ç»Ÿä¸€åæ ‡ç³»ï¼ˆç©ºé—´è¿æ¥å¿…éœ€ï¼‰ï¼›</li>
<li>æ‰§è¡Œè¿æ¥ï¼šå±æ€§è¿æ¥ç”¨<code>merge()</code>ï¼Œç©ºé—´è¿æ¥ç”¨<code>sjoin()</code>ï¼›</li>
<li>åç»­åˆ†æï¼šåŸºäºåˆå¹¶åçš„æ•°æ®åšç»Ÿè®¡ï¼ˆå¦‚æŒ‰åœ°å—ç»Ÿè®¡äººå£ï¼‰ã€å¯è§†åŒ–ç­‰ã€‚</li>
</ol>
<h5 data-id="heading-13">æ ¸å¿ƒè¦ç‚¹</h5>
<ol>
<li>ç©ºé—´è¿æ¥å‰éœ€ç¡®ä¿ä¸¤ä¸ª GeoDataFrame åæ ‡ç³»ä¸€è‡´ï¼ˆç”¨<code>gdf.to_crs()</code>ç»Ÿä¸€ï¼‰ï¼›</li>
<li>å±æ€§è¿æ¥éœ€ä¿è¯è¿æ¥åˆ—æ ¼å¼ä¸€è‡´ï¼ˆå¦‚ç¼–ç å‡ä¸ºå­—ç¬¦ä¸² / æ•°å€¼ï¼‰ï¼›</li>
<li>è¿æ¥åéœ€æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ï¼ˆå¦‚<code>merged_gdf.isnull().sum()</code>æŸ¥çœ‹ç¼ºå¤±å…³è”ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-14">2. ç©ºé—´ç¼“å†²åŒºåˆ†</h3>
<p>ç©ºé—´ç¼“å†²åŒºåˆ†æçš„æ ¸å¿ƒæ˜¯ä¸ºåœ°ç†å¯¹è±¡ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰åˆ›å»º â€œå½±å“èŒƒå›´â€ï¼ˆå¦‚åœ°é“ç«™ 1000 ç±³æœåŠ¡åœˆï¼‰ï¼Œé€šè¿‡ GeoPandas å®ç°ï¼Œå…³é”®æ­¥éª¤å’Œå‡½æ•°å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-15">ä¸€ã€æ ¸å¿ƒæµç¨‹ä¸å‡½æ•°ç”¨æ³•</h5>
<h6 data-id="heading-16">ï¼ˆ1ï¼‰è¯»å–åœ°ç†æ•°æ®ï¼ˆè·å–åˆ†æå¯¹è±¡ï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šåŠ è½½åŒ…å«åœ°ç†åæ ‡çš„åŸå§‹æ•°æ®ï¼ˆå¦‚åœ°é“ç«™ç‚¹æ•°æ®ï¼‰ã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>geopandas.read_file(filename)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š<code>filename</code>ï¼ˆå¿…å¡«ï¼‰ï¼šåœ°ç†æ•°æ®æ–‡ä»¶è·¯å¾„ï¼ˆæ”¯æŒ Shapefileã€GeoJSON ç­‰æ ¼å¼ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># è¯»å–åœ°é“ç«™Shapefileæ•°æ®</span>
subway_stations = gpd.read_file(<span class="hljs-string">'D:/æ•°æ®/Subway Stations/geo_export_abaf55bb.shp'</span>)
</code></pre>
</li>
<li>
<p><strong>è¯´æ˜</strong>ï¼šè¿”å›<code>GeoDataFrame</code>ï¼ŒåŒ…å«<code>geometry</code>åˆ—ï¼ˆå­˜å‚¨ç‚¹ / çº¿ / é¢åæ ‡ï¼‰å’Œå±æ€§åˆ—ï¼ˆå¦‚ç«™ç‚¹åç§°ï¼‰ã€‚</p>
</li>
</ul>
<h6 data-id="heading-17">ï¼ˆ2ï¼‰ è½¬æ¢åæ ‡ç³»ï¼ˆç¡®ä¿è·ç¦»å•ä½æœ‰æ•ˆï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šå°†æ•°æ®ä» â€œåœ°ç†åæ ‡ç³»ï¼ˆç»çº¬åº¦ï¼Œå•ä½ï¼šåº¦ï¼‰â€ è½¬æ¢ä¸º â€œæŠ•å½±åæ ‡ç³»ï¼ˆå•ä½ï¼šç±³ / åƒç±³ï¼‰â€ï¼Œå¦åˆ™ç¼“å†²åŒºè·ç¦»ä¼šå¤±çœŸã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>GeoDataFrame.to_crs(crs)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š<code>crs</code>ï¼ˆå¿…å¡«ï¼‰ï¼šç›®æ ‡åæ ‡ç³»çš„ EPSG ç ï¼ˆå¦‚<code>"EPSG:2163"</code>ä¸ºç¾å›½ç­‰è·åœ†é”¥æŠ•å½±ï¼Œå•ä½ï¼šç±³ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">target_crs = <span class="hljs-string">'EPSG:2163'</span>  <span class="hljs-comment"># é€‰æ‹©é€‚åˆåˆ†æåŒºåŸŸçš„æŠ•å½±åæ ‡ç³»</span>
subway_stations = subway_stations.to_crs(target_crs)  <span class="hljs-comment"># è½¬æ¢åæ ‡ç³»</span>
</code></pre>
</li>
<li>
<p><strong>å…³é”®</strong>ï¼š</p>
<ul>
<li>åœ°ç†åæ ‡ç³»ï¼ˆå¦‚<code>EPSG:4326</code>ï¼‰çš„ â€œåº¦â€ æ— æ³•ç›´æ¥è¡¨ç¤ºå®é™…è·ç¦»ï¼ˆ1 åº¦â‰ˆ111 åƒç±³ï¼‰ï¼Œå¿…é¡»è½¬æ¢ä¸ºæŠ•å½±åæ ‡ç³»ï¼›</li>
<li>ä¸åŒåœ°åŒºéœ€åŒ¹é…å¯¹åº”æŠ•å½±ï¼ˆå¦‚ä¸­å›½å¸¸ç”¨<code>EPSG:32649</code>ï¼ŒUTM åˆ†åŒºæŠ•å½±ï¼Œå•ä½ï¼šç±³ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h6 data-id="heading-18">ï¼ˆ3ï¼‰ åˆ›å»ºç¼“å†²åŒºï¼ˆæ ¸å¿ƒæ“ä½œï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šä¸ºæ¯ä¸ªåœ°ç†å¯¹è±¡ç”ŸæˆæŒ‡å®šè·ç¦»çš„ â€œå½±å“èŒƒå›´â€ï¼ˆåœ†å½¢ / å¤šè¾¹å½¢ï¼‰ã€‚</p>
<blockquote>
<p><strong>å‡½æ•°</strong>ï¼š<code>GeoSeries.buffer(distance)</code></p>
</blockquote>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>distance</code>ï¼ˆå¿…å¡«ï¼‰ï¼šç¼“å†²åŒºåŠå¾„ï¼Œå•ä½ä¸å½“å‰åæ ‡ç³»ä¸€è‡´ï¼ˆå¦‚æŠ•å½±åæ ‡ç³»ä¸‹ä¸º â€œç±³â€ï¼‰ï¼›</li>
<li><code>resolution</code>ï¼ˆå¯é€‰ï¼‰ï¼šç¼“å†²åŒºè¾¹ç¼˜å¹³æ»‘åº¦ï¼ˆé»˜è®¤ 16ï¼Œå€¼è¶Šå¤§è¶Šæ¥è¿‘åœ†å½¢ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">buffer_radius = <span class="hljs-number">1000</span>  <span class="hljs-comment"># ç¼“å†²åŒºåŠå¾„1000ç±³ï¼ˆå•ä½ç”±åæ ‡ç³»å†³å®šï¼‰</span>
<span class="hljs-comment"># ä¸ºæ¯ä¸ªåœ°é“ç«™çš„ç‚¹åæ ‡åˆ›å»ºç¼“å†²åŒºï¼Œç»“æœå­˜åˆ°æ–°åˆ—"buffer"ä¸­</span>
subway_stations[<span class="hljs-string">'buffer'</span>] = subway_stations[<span class="hljs-string">'geometry'</span>].buffer(buffer_radius)
</code></pre>
</li>
<li>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ç‚¹è¦ç´ â†’ç”Ÿæˆåœ†å½¢ç¼“å†²åŒºï¼›</li>
<li>çº¿è¦ç´ â†’ç”Ÿæˆ â€œç®¡é“çŠ¶â€ ç¼“å†²åŒºï¼ˆæ²¿çº¿è·¯ä¸¤ä¾§æ‰©å±•ï¼‰ï¼›</li>
<li>é¢è¦ç´ â†’ç”Ÿæˆ â€œç¯çŠ¶â€ ç¼“å†²åŒºï¼ˆæ²¿è¾¹ç•Œå‘å¤– / å‘å†…æ‰©å±•ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h6 data-id="heading-19">ï¼ˆ4ï¼‰å¯è§†åŒ–ç»“æœï¼ˆç›´è§‚å±•ç¤ºç¼“å†²åŒºï¼‰</h6>
<p><strong>ç›®çš„</strong>ï¼šç»˜åˆ¶åŸåœ°ç†å¯¹è±¡å’Œç¼“å†²åŒºï¼ŒéªŒè¯åˆ†æç»“æœã€‚</p>
<blockquote>
<p><strong>æ ¸å¿ƒå‡½æ•°</strong>ï¼š</p>
<ul>
<li>
<p><code>GeoDataFrame.plot(ax, color, markersize, alpha, label)</code>ï¼šç»˜åˆ¶åœ°ç†æ•°æ®ï¼›</p>
</li>
<li>
<p><code>matplotlib.pyplot</code>Â è¾…åŠ©å‡½æ•°ï¼šåˆ›å»ºç”»å¸ƒã€æ·»åŠ å›¾ä¾‹ã€æ˜¾ç¤ºå›¾åƒã€‚</p>
</li>
</ul>
</blockquote>
<ul>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># åˆ›å»ºç”»å¸ƒå’Œåæ ‡è½´</span>
fig, ax = plt.subplots()  
<span class="hljs-comment"># ç»˜åˆ¶åŸåœ°é“ç«™ç‚¹ï¼ˆè“è‰²å°ç‚¹ï¼‰</span>
subway_stations.plot(ax=ax, color=<span class="hljs-string">'blue'</span>, markersize=<span class="hljs-number">5</span>, label=<span class="hljs-string">'åœ°é“ç«™'</span>)  
<span class="hljs-comment"># ç»˜åˆ¶ç¼“å†²åŒºï¼ˆæ©™è‰²åŠé€æ˜å¤šè¾¹å½¢ï¼‰</span>
subway_stations[<span class="hljs-string">'buffer'</span>].plot(ax=ax, color=<span class="hljs-string">'orange'</span>, alpha=<span class="hljs-number">0.5</span>, label=<span class="hljs-string">'1000ç±³ç¼“å†²åŒº'</span>)  
ax.set_aspect(<span class="hljs-string">'equal'</span>)  <span class="hljs-comment"># ä¿æŒåœ°å›¾æ¯”ä¾‹ï¼ˆé¿å…æ‹‰ä¼¸å˜å½¢ï¼‰</span>
plt.legend()  <span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹</span>
plt.show()  <span class="hljs-comment"># å±•ç¤ºå›¾åƒ</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-20">äºŒã€å…³é”®æ³¨æ„äº‹é¡¹</h5>
<ol>
<li><strong>åæ ‡ç³»æ˜¯æ ¸å¿ƒå‰æ</strong>ï¼šç¼“å†²åŒºçš„ â€œè·ç¦»â€ï¼ˆå¦‚ 1000 ç±³ï¼‰å¿…é¡»ä¾èµ–æŠ•å½±åæ ‡ç³»ï¼Œå¦åˆ™ç»“æœæ— å®é™…æ„ä¹‰ï¼›</li>
<li><strong><code>buffer()</code>å‚æ•°ä¸å¯¹è±¡åŒ¹é…</strong>ï¼šåŠå¾„å•ä½éœ€ä¸åæ ‡ç³»ä¸€è‡´ï¼Œä¸”æ ¹æ®è¦ç´ ç±»å‹ï¼ˆç‚¹ / çº¿ / é¢ï¼‰ç”Ÿæˆä¸åŒå½¢çŠ¶çš„ç¼“å†²åŒºï¼›</li>
<li><strong>å¯è§†åŒ–æ¯”ä¾‹</strong>ï¼š<code>ax.set_aspect('equal')</code>ç¡®ä¿ç¼“å†²åŒºå½¢çŠ¶æ­£ç¡®ï¼ˆé¿å…åœ†å½¢è¢«æ‹‰ä¼¸ä¸ºæ¤­åœ†ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-21">3. ç©ºé—´æ•°æ®çš„èšåˆå’Œæ±‡æ€»</h3>
<p>ç©ºé—´æ•°æ®çš„èšåˆå’Œæ±‡æ€»æ ¸å¿ƒæ˜¯<strong>æŒ‰ â€œåˆ†ç»„æ¡ä»¶â€ å¯¹åœ°ç†æ•°æ®çš„å±æ€§æˆ–å‡ ä½•å½¢çŠ¶è¿›è¡Œåˆå¹¶ / è®¡ç®—</strong>ï¼Œåˆ†ä¸º â€œå±æ€§èšåˆâ€ï¼ˆç»Ÿè®¡æ•°å€¼ï¼‰å’Œ â€œå‡ ä½•èšåˆâ€ï¼ˆåˆå¹¶å½¢çŠ¶ï¼‰ä¸¤ç±»ï¼Œç¤ºä¾‹ä¸»è¦å±•ç¤ºå±æ€§èšåˆï¼Œä»¥ä¸‹æ˜¯è¯¦ç»†ç”¨æ³•ï¼š</p>
<h5 data-id="heading-22">ä¸€ã€æ ¸å¿ƒç›®çš„</h5>
<p>å°†åˆ†æ•£çš„ç©ºé—´æ•°æ®æŒ‰æŸä¸€åˆ†ç±»æ ‡å‡†ï¼ˆå¦‚è¡Œæ”¿åŒºã€ç±»å‹ï¼‰åˆå¹¶ï¼ŒåŒæ—¶è®¡ç®—è¯¥ç»„çš„ç»Ÿè®¡é‡ï¼ˆå¦‚æ€»é¢ç§¯ã€å¹³å‡äººå£ï¼‰æˆ–åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼ˆå¦‚å°†å¤šä¸ªç¤¾åŒºåˆå¹¶ä¸ºä¸€ä¸ªè¡Œæ”¿åŒºï¼‰ï¼Œç”¨äºå®è§‚åˆ†æï¼ˆå¦‚ â€œæŒ‰åŸå¸‚æ±‡æ€»ä¸‹å±åŒºåŸŸçš„é¢ç§¯â€ï¼‰ã€‚</p>
<h5 data-id="heading-23">äºŒã€å±æ€§èšåˆ</h5>
<p><strong>ä½œç”¨</strong>ï¼šæŒ‰åˆ†ç±»å­—æ®µï¼ˆå¦‚<code>boro_name</code>ï¼Œè¡Œæ”¿åŒºåç§°ï¼‰å¯¹æ•°å€¼å±æ€§ï¼ˆå¦‚<code>shape_area</code>ï¼Œé¢ç§¯ï¼‰è¿›è¡Œæ±‡æ€»è®¡ç®—ï¼ˆæ±‚å’Œã€å‡å€¼ç­‰ï¼‰ã€‚</p>
<h6 data-id="heading-24">æ­¥éª¤ä¸ä»£ç è§£æ</h6>
<ol>
<li>
<p><strong>è¯»å–ç©ºé—´æ•°æ®</strong>ï¼šè·å–åŒ…å«åˆ†ç±»å­—æ®µå’Œå¾…èšåˆå±æ€§çš„<code>GeoDataFrame</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-comment"># è¯»å–åœ°å—æ•°æ®ï¼ˆå«'boro_name'åˆ†ç±»å­—æ®µå’Œ'shape_area'é¢ç§¯å±æ€§ï¼‰</span>
gdf = gpd.read_file(<span class="hljs-string">'åœ°å—æ•°æ®.shp'</span>)
</code></pre>
</li>
<li>
<p><strong>æŒ‰åˆ†ç±»å­—æ®µåˆ†ç»„</strong>ï¼šç”¨<code>groupby(åˆ†ç»„å­—æ®µ)</code>æŒ‡å®šèšåˆçš„ â€œåˆ†ç»„ä¾æ®â€ï¼ˆå¦‚æŒ‰<code>boro_name</code>åˆ†ç»„ï¼Œå³æŒ‰è¡Œæ”¿åŒºåˆ†ç»„ï¼‰ã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹©å±æ€§å¹¶åº”ç”¨èšåˆå‡½æ•°</strong>ï¼šå¯¹åˆ†ç»„åçš„æ•°å€¼å±æ€§ï¼ˆå¦‚<code>shape_area</code>ï¼‰ä½¿ç”¨èšåˆå‡½æ•°ï¼ˆ<code>sum</code>æ±‚å’Œã€<code>mean</code>å‡å€¼ã€<code>count</code>è®¡æ•°ç­‰ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŒ‰'boro_name'åˆ†ç»„ï¼Œå¯¹'shape_area'æ±‚å’Œï¼ˆè®¡ç®—æ¯ä¸ªè¡Œæ”¿åŒºçš„æ€»é¢ç§¯ï¼‰</span>
gdf_area = gdf.groupby(<span class="hljs-string">'boro_name'</span>)[<span class="hljs-string">'shape_area'</span>].<span class="hljs-built_in">sum</span>().reset_index()
</code></pre>
<ul>
<li><code>groupby('boro_name')</code>ï¼šæŒ‰è¡Œæ”¿åŒºåç§°åˆ†ç»„ï¼›</li>
<li><code>['shape_area']</code>ï¼šæŒ‡å®šè¦èšåˆçš„å±æ€§ï¼ˆé¢ç§¯ï¼‰ï¼›</li>
<li><code>.sum()</code>ï¼šèšåˆå‡½æ•°ï¼ˆæ±‚å’Œï¼Œè®¡ç®—æ¯ä¸ªç»„çš„æ€»é¢ç§¯ï¼‰ï¼›</li>
<li><code>.reset_index()</code>ï¼šå°†åˆ†ç»„ç»“æœè½¬æ¢ä¸ºæ™®é€š<code>DataFrame</code>ï¼ˆä¾¿äºæŸ¥çœ‹å’Œåç»­å¤„ç†ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æŸ¥çœ‹ç»“æœ</strong>ï¼šæ‰“å°æˆ–ä½¿ç”¨èšåˆåçš„ç»Ÿè®¡æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(gdf_area.head())  <span class="hljs-comment"># æ˜¾ç¤ºå‰å‡ è¡Œç»“æœï¼ˆæ¯ä¸ªè¡Œæ”¿åŒºåŠå…¶æ€»é¢ç§¯ï¼‰</span>
</code></pre>
</li>
</ol>
<h5 data-id="heading-25">ä¸‰ã€å‡ ä½•èšåˆ</h5>
<p><strong>ä½œç”¨</strong>ï¼šå°†åŒä¸€ç»„çš„å‡ ä½•å¯¹è±¡ï¼ˆå¦‚å¤šä¸ªç¤¾åŒºå¤šè¾¹å½¢ï¼‰åˆå¹¶ä¸ºä¸€ä¸ªæ•´ä½“å‡ ä½•å½¢çŠ¶ï¼ˆå¦‚è¡Œæ”¿åŒºå¤šè¾¹å½¢ï¼‰ï¼ŒåŒæ—¶å¯ä¿ç•™å±æ€§èšåˆç»“æœã€‚</p>
<p><strong>æ ¸å¿ƒå‡½æ•°</strong>ï¼š<code>GeoDataFrame.dissolve(by=åˆ†ç»„å­—æ®µ, aggfunc=èšåˆå‡½æ•°)</code></p>
<ul>
<li><code>by</code>ï¼šæŒ‡å®šåˆ†ç»„å­—æ®µï¼ˆå¦‚<code>boro_name</code>ï¼‰ï¼›</li>
<li><code>aggfunc</code>ï¼šå¯¹å±æ€§çš„èšåˆå‡½æ•°ï¼ˆå¦‚<code>sum</code>ï¼Œå¯é€‰ï¼‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŒ‰'boro_name'åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼Œå¹¶è®¡ç®—æ¯ä¸ªè¡Œæ”¿åŒºçš„æ€»é¢ç§¯</span>
gdf_dissolved = gdf.dissolve(by=<span class="hljs-string">'boro_name'</span>, aggfunc={<span class="hljs-string">'shape_area'</span>: <span class="hljs-string">'sum'</span>})
<span class="hljs-comment"># ç»“æœï¼šæ¯ä¸ªè¡Œæ”¿åŒºä¸€è¡Œï¼Œgeometryåˆ—ä¸ºåˆå¹¶åçš„å¤šè¾¹å½¢ï¼Œshape_areaä¸ºæ€»é¢ç§¯</span>
</code></pre>
<h5 data-id="heading-26">å››ã€å…³é”®è¦ç‚¹</h5>
<ol>
<li>
<p><strong>åˆ†ç»„å­—æ®µé€‰æ‹©</strong>ï¼šéœ€æ˜¯åˆ†ç±»å±æ€§ï¼ˆå¦‚è¡Œæ”¿åŒºåç§°ã€åœ°å—ç±»å‹ï¼‰ï¼Œç¡®ä¿åŒä¸€ç»„çš„å¯¹è±¡æœ‰é€»è¾‘å…³è”ï¼›</p>
</li>
<li>
<p><strong>èšåˆå‡½æ•°åŒ¹é…</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©å‡½æ•°ï¼ˆæ±‚å’Œç”¨äºæ€»é‡ï¼Œå‡å€¼ç”¨äºå¹³å‡æ°´å¹³ï¼Œè®¡æ•°ç”¨äºæ•°é‡ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å±æ€§èšåˆ vs å‡ ä½•èšåˆ</strong>ï¼š</p>
<ul>
<li>ä»…éœ€ç»Ÿè®¡æ•°å€¼ï¼šç”¨<code>groupby</code>ï¼ˆç¤ºä¾‹æ–¹æ³•ï¼‰ï¼›</li>
<li>éœ€åˆå¹¶å‡ ä½•å½¢çŠ¶ï¼šç”¨<code>dissolve</code>ï¼ˆåŒæ—¶å¯åŒ…å«å±æ€§èšåˆï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-27">äºŒã€ç©ºé—´æ•°æ®å¯è§†åŒ–</h2>
<p>ç©ºé—´æ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒæ˜¯é€šè¿‡ GeoPandas ç»“åˆ Matplotlibï¼Œå°†åœ°ç†æ•°æ®ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰ä»¥åœ°å›¾å½¢å¼å±•ç¤ºï¼Œå¹¶é€šè¿‡å¸ƒå±€ä¼˜åŒ–ï¼ˆå›¾ä¾‹ã€æ ‡ç­¾ç­‰ï¼‰å¢å¼ºå¯è¯»æ€§ï¼Œæœ€ç»ˆå¯ä¿å­˜ä¸ºå¤šç§æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯åˆ†åœºæ™¯çš„ç”¨æ³•æ€»ç»“ï¼š</p>
<h5 data-id="heading-28">1.åŸºç¡€åœ°å›¾å¯è§†åŒ–ï¼ˆGeoPandas æ ¸å¿ƒç»˜å›¾ï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šå¿«é€Ÿç»˜åˆ¶åœ°ç†æ•°æ®çš„åŸºç¡€åœ°å›¾ï¼Œå±•ç¤ºå‡ ä½•å½¢çŠ¶åˆ†å¸ƒã€‚</p>
<h6 data-id="heading-29">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>è¯»å–æ•°æ®</strong>ï¼šç”¨<code>gpd.read_file()</code>åŠ è½½åœ°ç†æ•°æ®ï¼ˆå¦‚ Shapefileï¼‰ï¼Œå¾—åˆ°<code>GeoDataFrame</code>ã€‚</p>
<p><strong>ç»˜åˆ¶åœ°å›¾</strong>ï¼šç”¨<code>GeoDataFrame.plot()</code>ç›´æ¥ç»˜åˆ¶ï¼Œé»˜è®¤æ˜¾ç¤ºå‡ ä½•å½¢çŠ¶ã€‚</p>
<p><strong>æ˜¾ç¤ºå›¾åƒ</strong>ï¼šç”¨<code>plt.show()</code>å±•ç¤ºåœ°å›¾ã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># 1. è¯»å–æ•°æ®</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)  <span class="hljs-comment"># å«geometryåˆ—ï¼ˆå‡ ä½•å½¢çŠ¶ï¼‰</span>

<span class="hljs-comment"># 2. ç»˜åˆ¶åŸºç¡€åœ°å›¾</span>
ax = gdf.plot()  <span class="hljs-comment"># è¿”å›åæ ‡è½´å¯¹è±¡ï¼Œå¯ç”¨äºåç»­ä¼˜åŒ–</span>

<span class="hljs-comment"># 3. æ·»åŠ æ ‡é¢˜å¹¶æ˜¾ç¤º</span>
plt.title(<span class="hljs-string">"åŸºç¡€ç©ºé—´æ•°æ®å¯è§†åŒ–"</span>)
plt.show()
</code></pre>
<p><strong>å…³é”®å‡½æ•°</strong>ï¼š</p>
<blockquote>
<ul>
<li><code>gdf.plot()</code>ï¼šåŸºç¡€ç»˜å›¾å‡½æ•°ï¼Œé»˜è®¤ç”¨å•ä¸€é¢œè‰²ç»˜åˆ¶æ‰€æœ‰å‡ ä½•å¯¹è±¡ï¼›è¿”å›<code>matplotlib.axes.Axes</code>å¯¹è±¡ï¼Œä¾¿äºåç»­æ·»åŠ å¸ƒå±€å…ƒç´ ã€‚</li>
</ul>
</blockquote>
<h5 data-id="heading-30">äºŒã€åœ°å›¾å¸ƒå±€ä¸å›¾ä¾‹ä¼˜åŒ–ï¼ˆå¢å¼ºå¯è¯»æ€§ï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šé€šè¿‡åˆ†ç±»ç€è‰²ã€æ·»åŠ å›¾ä¾‹ã€åæ ‡è½´æ ‡ç­¾ã€æŒ‡åŒ—é’ˆç­‰ï¼Œè®©åœ°å›¾æ›´æ˜“ç†è§£ï¼ˆå¦‚æŒ‰é¢ç§¯å¤§å°ç€è‰²ï¼Œå±•ç¤ºåŒºåŸŸå·®å¼‚ï¼‰ã€‚</p>
<h6 data-id="heading-31">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>åˆ›å»ºç”»å¸ƒä¸è½´</strong>ï¼šç”¨<code>plt.subplots(figsize=(å®½, é«˜))</code>å®šä¹‰åœ°å›¾å°ºå¯¸ï¼Œè·å¾—<code>fig</code>ï¼ˆç”»å¸ƒï¼‰å’Œ<code>ax</code>ï¼ˆè½´ï¼‰å¯¹è±¡ã€‚</p>
<p><strong>åˆ†ç±»ç€è‰²ç»˜å›¾</strong>ï¼šåœ¨<code>gdf.plot()</code>ä¸­é€šè¿‡<code>column</code>æŒ‡å®šåˆ†ç±»å­—æ®µï¼ˆå¦‚é¢ç§¯ï¼‰ï¼Œ<code>cmap</code>è®¾ç½®é¢œè‰²æ˜ å°„ï¼Œ<code>legend=True</code>æ·»åŠ å›¾ä¾‹ã€‚</p>
<p><strong>æ·»åŠ å¸ƒå±€å…ƒç´ </strong>ï¼š
æ ‡é¢˜ï¼š<code>plt.title()</code>ï¼›
åæ ‡è½´æ ‡ç­¾ï¼š<code>plt.xlabel()</code>ï¼ˆç»åº¦ï¼‰ã€<code>plt.ylabel()</code>ï¼ˆçº¬åº¦ï¼‰ï¼›
æŒ‡åŒ—é’ˆï¼šç”¨<code>ax.annotate()</code>æ·»åŠ ç®­å¤´æ ‡æ³¨ â€œNâ€ã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> geopandas <span class="hljs-keyword">as</span> gpd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># 1. è¯»å–æ•°æ®</span>
gdf = gpd.read_file(<span class="hljs-string">"åœ°å—æ•°æ®.shp"</span>)

<span class="hljs-comment"># 2. åˆ›å»ºç”»å¸ƒï¼ˆ10x8è‹±å¯¸ï¼‰</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>))

<span class="hljs-comment"># 3. æŒ‰"shape_area"ï¼ˆé¢ç§¯ï¼‰ç€è‰²ï¼Œç”¨"coolwarm"è‰²é˜¶ï¼Œæ˜¾ç¤ºå›¾ä¾‹</span>
gdf.plot(
    ax=ax,  <span class="hljs-comment"># æŒ‡å®šç»˜åˆ¶åˆ°åˆ›å»ºçš„è½´ä¸Š</span>
    column=<span class="hljs-string">"shape_area"</span>,  <span class="hljs-comment"># æŒ‰é¢ç§¯å­—æ®µåˆ†ç±»</span>
    cmap=<span class="hljs-string">"coolwarm"</span>,  <span class="hljs-comment"># é¢œè‰²æ˜ å°„ï¼ˆå†·åˆ°æš–ï¼Œä½“ç°å¤§å°å·®å¼‚ï¼‰</span>
    legend=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹</span>
    legend_kwds={<span class="hljs-string">"label"</span>: <span class="hljs-string">"åŒºåŸŸé¢ç§¯"</span>}  <span class="hljs-comment"># å›¾ä¾‹æ ‡ç­¾</span>
)

<span class="hljs-comment"># 4. æ·»åŠ å¸ƒå±€å…ƒç´ </span>
plt.title(<span class="hljs-string">"æŒ‰é¢ç§¯ç€è‰²çš„ç¤¾åŒºåœ°å›¾"</span>)  <span class="hljs-comment"># æ ‡é¢˜</span>
plt.xlabel(<span class="hljs-string">"ç»åº¦"</span>)  <span class="hljs-comment"># xè½´æ ‡ç­¾</span>
plt.ylabel(<span class="hljs-string">"çº¬åº¦"</span>)  <span class="hljs-comment"># yè½´æ ‡ç­¾</span>

<span class="hljs-comment"># æ·»åŠ æŒ‡åŒ—é’ˆï¼ˆç®­å¤´ä»ä¸‹åˆ°ä¸Šï¼Œæ ‡æ³¨"N"ï¼‰</span>
arrowprops = <span class="hljs-built_in">dict</span>(arrowstyle=<span class="hljs-string">"-&gt;"</span>, linewidth=<span class="hljs-number">1.5</span>, color=<span class="hljs-string">"black"</span>)  <span class="hljs-comment"># ç®­å¤´æ ·å¼</span>
ax.annotate(
    <span class="hljs-string">"N"</span>,  <span class="hljs-comment"># æ ‡æ³¨æ–‡æœ¬</span>
    xy=(<span class="hljs-number">0.06</span>, <span class="hljs-number">0.95</span>),  <span class="hljs-comment"># ç®­å¤´ç»ˆç‚¹ï¼ˆè½´åæ ‡ç³»ï¼š0-1ï¼Œå³ä¸Šè§’ä¸º(1,1)ï¼‰</span>
    xytext=(<span class="hljs-number">0.06</span>, <span class="hljs-number">0.89</span>),  <span class="hljs-comment"># ç®­å¤´èµ·ç‚¹</span>
    arrowprops=arrowprops,
    ha=<span class="hljs-string">"center"</span>, va=<span class="hljs-string">"center"</span>,  <span class="hljs-comment"># æ–‡æœ¬å¯¹é½æ–¹å¼</span>
    xycoords=<span class="hljs-string">"axes fraction"</span>  <span class="hljs-comment"># åæ ‡åŸºäºè½´æ¯”ä¾‹ï¼ˆè€Œéæ•°æ®åæ ‡ï¼‰</span>
)

<span class="hljs-comment"># 5. æ˜¾ç¤ºåœ°å›¾</span>
plt.show()
</code></pre>
<p><strong>å…³é”®å‚æ•°ä¸å‡½æ•°</strong>ï¼š</p>
<blockquote>
<ul>
<li><code>column</code>ï¼šæŒ‡å®šç”¨äºåˆ†ç±»ç€è‰²çš„å±æ€§åˆ—ï¼ˆå¦‚é¢ç§¯ã€äººå£ï¼‰ï¼Œå®ç° â€œthematic mapï¼ˆä¸“é¢˜å›¾ï¼‰â€ï¼›</li>
<li><code>cmap</code>ï¼šé¢œè‰²æ˜ å°„æ–¹æ¡ˆï¼ˆå¦‚<code>"coolwarm"</code>ã€<code>"viridis"</code>ï¼Œè§ Matplotlib å®˜æ–¹æ–‡æ¡£ï¼‰ï¼›</li>
<li><code>legend_kwds</code>ï¼šè‡ªå®šä¹‰å›¾ä¾‹ï¼ˆå¦‚æ ‡ç­¾ã€ä½ç½®ï¼‰ï¼›</li>
<li><code>ax.annotate()</code>ï¼šæ·»åŠ æ–‡æœ¬æ ‡æ³¨ï¼ˆå¦‚æŒ‡åŒ—é’ˆï¼‰ï¼Œ<code>xycoords="axes fraction"</code>ç¡®ä¿æ ‡æ³¨ä½ç½®ä¸éšæ•°æ®ç¼©æ”¾å˜åŒ–ã€‚</li>
</ul>
</blockquote>
<h5 data-id="heading-32">ä¸‰ã€åœ°å›¾è¾“å‡ºä¸ä¿å­˜ï¼ˆæŒä¹…åŒ–ç»“æœï¼‰</h5>
<p><strong>ç›®çš„</strong>ï¼šå°†ç»˜åˆ¶å¥½çš„åœ°å›¾ä¿å­˜ä¸ºå›¾ç‰‡æˆ–æ–‡æ¡£æ ¼å¼ï¼ˆå¦‚ PNGã€PDFï¼‰ï¼Œä¾¿äºåˆ†äº«æˆ–æŠ¥å‘Šä½¿ç”¨ã€‚</p>
<h6 data-id="heading-33">æ ¸å¿ƒæ­¥éª¤ä¸å‡½æ•°</h6>
<blockquote>
<p><strong>ç»˜åˆ¶å¹¶ä¼˜åŒ–åœ°å›¾</strong>ï¼šå®Œæˆå¸ƒå±€ï¼ˆæ ‡é¢˜ã€å›¾ä¾‹ç­‰ï¼‰åï¼Œè°ƒç”¨<code>plt.savefig()</code>ä¿å­˜ã€‚</p>
<p><strong>æŒ‡å®šä¿å­˜å‚æ•°</strong>ï¼š</p>
<ul>
<li>è·¯å¾„ä¸æ ¼å¼ï¼šæ–‡ä»¶ååç¼€å†³å®šæ ¼å¼ï¼ˆ<code>.png</code>ã€<code>.pdf</code>ã€<code>.jpg</code>ç­‰ï¼‰ï¼›</li>
<li><code>dpi</code>ï¼šåˆ†è¾¨ç‡ï¼ˆå¦‚ 300ï¼Œå€¼è¶Šé«˜è¶Šæ¸…æ™°ï¼‰ï¼›</li>
<li><code>bbox_inches="tight"</code>ï¼šé¿å…è¾¹ç¼˜å…ƒç´ ï¼ˆå¦‚å›¾ä¾‹ã€æ ‡é¢˜ï¼‰è¢«è£å‰ªã€‚</li>
</ul>
</blockquote>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ï¼ˆæ‰¿æ¥ä¸Šæ–‡å¸ƒå±€ä¼˜åŒ–åçš„ä»£ç ï¼‰</span>
<span class="hljs-comment"># ä¿å­˜ä¸ºPNGï¼ˆé«˜åˆ†è¾¨ç‡ï¼‰</span>
plt.savefig(
    <span class="hljs-string">"ç¤¾åŒºé¢ç§¯åœ°å›¾.png"</span>,  <span class="hljs-comment"># è·¯å¾„+æ–‡ä»¶å</span>
    dpi=<span class="hljs-number">300</span>,  <span class="hljs-comment"># åˆ†è¾¨ç‡300dpiï¼ˆé€‚åˆæ‰“å°ï¼‰</span>
    bbox_inches=<span class="hljs-string">"tight"</span>  <span class="hljs-comment"># ç´§å‡‘å¸ƒå±€ï¼Œé¿å…è£å‰ª</span>
)

<span class="hljs-comment"># ä¿å­˜ä¸ºPDFï¼ˆçŸ¢é‡æ ¼å¼ï¼Œæ”¾å¤§ä¸å¤±çœŸï¼‰</span>
plt.savefig(
    <span class="hljs-string">"ç¤¾åŒºé¢ç§¯åœ°å›¾.pdf"</span>,
    bbox_inches=<span class="hljs-string">"tight"</span>  <span class="hljs-comment"># PDFæ— éœ€æŒ‡å®šdpiï¼Œé»˜è®¤çŸ¢é‡æ ¼å¼</span>
)
</code></pre>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ä¿å­˜éœ€åœ¨<code>plt.show()</code>ä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ç”»å¸ƒä¼šè¢«æ¸…ç©ºï¼›</li>
<li>çŸ¢é‡æ ¼å¼ï¼ˆPDFã€SVGï¼‰é€‚åˆç¼–è¾‘ï¼ˆå¦‚ç”¨ AI ä¿®æ”¹ï¼‰ï¼Œä½å›¾æ ¼å¼ï¼ˆPNGã€JPGï¼‰é€‚åˆç›´æ¥å±•ç¤ºï¼›</li>
<li><code>dpi</code>ä»…å¯¹ä½å›¾æœ‰æ•ˆï¼Œå»ºè®® 300dpi ç”¨äºå°åˆ·ï¼Œ150dpi ç”¨äºå±å¹•æ˜¾ç¤ºã€‚</li>
</ul>
<h4 data-id="heading-34">æ€»ç»“</h4>
<p>ç©ºé—´æ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒæµç¨‹æ˜¯ï¼š</p>
<ol>
<li><strong>åŸºç¡€ç»˜åˆ¶</strong>ï¼š<code>read_file()</code>è¯»æ•°æ® â†’Â <code>plot()</code>ç»˜åœ°å›¾ â†’Â <code>show()</code>å±•ç¤ºï¼›</li>
<li><strong>å¸ƒå±€ä¼˜åŒ–</strong>ï¼šç”¨<code>subplots()</code>å®šä¹‰å°ºå¯¸ â†’Â <code>column</code>+<code>cmap</code>åˆ†ç±»ç€è‰² â†’ æ·»åŠ æ ‡é¢˜ã€å›¾ä¾‹ã€æŒ‡åŒ—é’ˆï¼›</li>
<li><strong>ä¿å­˜è¾“å‡º</strong>ï¼š<code>savefig()</code>æŒ‰æ ¼å¼ä¿å­˜ï¼Œé€šè¿‡<code>dpi</code>å’Œ<code>bbox_inches</code>æ§åˆ¶è´¨é‡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7573904312713576483</link>    <guid>https://juejin.cn/post/7573904312713576483</guid>    <pubDate>2025-11-19T03:52:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573904312713576483" data-draft-id="7573904312713560099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-11-19T03:52:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ¨æ˜“å£«å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter ç½‘ç»œè¯·æ±‚æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ¨æ˜“å£«å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:52:50.000Z" title="Wed Nov 19 2025 03:52:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>@<a href="https://link.juejin.cn?target=%25E7%259B%25AE%25E5%25BD%2595" target="_blank" title="%E7%9B%AE%E5%BD%95" ref="nofollow noopener noreferrer">TOC</a></p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç½‘ç»œè¯·æ±‚åº“å¯¹æ¯”</h2>
<h3 data-id="heading-1">1. å¸¸ç”¨åº“ç‰¹æ€§å¯¹æ¯”</h3>
<p>åœ¨ Flutter å¼€å‘ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç½‘ç»œè¯·æ±‚åº“æ˜¯æ„å»ºç¨³å®šåº”ç”¨çš„ç¬¬ä¸€æ­¥ã€‚ä¸åŒçš„é¡¹ç›®è§„æ¨¡å’Œå›¢é˜ŸèƒŒæ™¯éœ€è¦ä¸åŒçš„æŠ€æœ¯æ ˆæ”¯æŒã€‚<code>http</code>ã€<code>dio</code>ã€<code>retrofit</code> å’Œ <code>chopper</code> æ˜¯ç›®å‰æœ€ä¸»æµçš„å‡ ç§é€‰æ‹©ã€‚</p>
<ul>
<li><strong><code>http</code></strong>ï¼šç”± Flutter å®˜æ–¹å›¢é˜Ÿç»´æŠ¤ï¼Œè½»é‡ã€ç®€æ´ï¼Œé€‚åˆåˆå­¦è€…æˆ–å¯¹ç½‘ç»œåŠŸèƒ½è¦æ±‚ä¸é«˜çš„å°å‹é¡¹ç›®ã€‚å®ƒæ²¡æœ‰å†…ç½®æ‹¦æˆªå™¨ã€åºåˆ—åŒ–ã€è¶…æ—¶ç­‰é«˜çº§åŠŸèƒ½ï¼Œæ‰€æœ‰é€»è¾‘éƒ½éœ€è¦æ‰‹åŠ¨å®ç°ã€‚</li>
<li><strong><code>dio</code></strong>ï¼šåŠŸèƒ½æä¸ºå¼ºå¤§ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€è¯·æ±‚/å“åº”æ‹¦æˆªã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€è¶…æ—¶é…ç½®ã€è‡ªåŠ¨è§£æã€å–æ¶ˆè¯·æ±‚ç­‰ï¼Œæ˜¯ä¸­å¤§å‹é¡¹ç›®çš„é¦–é€‰ã€‚å…¶ API è®¾è®¡æ¸…æ™°ï¼Œæ‰©å±•æ€§å¼ºï¼Œç¤¾åŒºç”Ÿæ€æˆç†Ÿã€‚</li>
<li><strong><code>retrofit</code> / <code>chopper</code></strong>ï¼šå€Ÿé‰´äº† Android å¹³å°çš„ Retrofit æ¡†æ¶æ€æƒ³ï¼Œé‡‡ç”¨æ³¨è§£æ–¹å¼å®šä¹‰æ¥å£ï¼Œä»£ç ç»“æ„ä¼˜é›…ï¼Œé€‚åˆæœ‰ Android èƒŒæ™¯çš„å¼€å‘è€…ã€‚ä½†å®ƒä»¬ä¾èµ–ä»£ç ç”Ÿæˆå™¨ï¼Œåœ¨çµæ´»æ€§å’Œè°ƒè¯•ä¸Šç•¥é€Šäº dioï¼Œä¸”ç”Ÿæ€ç›¸å¯¹è¾ƒå°ã€‚</li>
</ul>
<blockquote>
<p><strong>æ€»ç»“å»ºè®®</strong>ï¼š</p>
</blockquote>
<ul>
<li><code>dio</code> æ˜¯æœ€å…¨é¢ã€åŠŸèƒ½æœ€å¼ºå¤§çš„é€‰æ‹©ï¼Œé€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚</li>
<li><code>http</code> è½»é‡ç®€å•ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–å­¦ä¹ ä½¿ç”¨ã€‚</li>
<li><code>retrofit</code> å’Œ <code>chopper</code> æä¾›ç±»ä¼¼ Retrofit çš„æ³¨è§£é£æ ¼ï¼Œé€‚åˆä¹ æƒ¯ Android å¼€å‘çš„å›¢é˜Ÿï¼Œä½†ç”Ÿæ€å’Œçµæ´»æ€§ç•¥é€Šäº dioã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€Dio æ·±åº¦ä½¿ç”¨æŒ‡å—</h2>
<h3 data-id="heading-3">1. åŸºç¡€é…ç½®ä¸åˆå§‹åŒ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// dio_client.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DioClient</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> DioClient _instance = DioClient._internal();
  <span class="hljs-keyword">factory</span> DioClient() =&gt; _instance;
  DioClient._internal() {
    _init();
  }

  <span class="hljs-keyword">late</span> Dio dio;

  <span class="hljs-keyword">void</span> _init() {
    dio = Dio(
      BaseOptions(
        baseUrl: <span class="hljs-string">'https://api.example.com'</span>,
        connectTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        receiveTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        sendTimeout: <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">30</span>),
        headers: {
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
          <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>,
        },
      ),
    );

    <span class="hljs-comment">// æ·»åŠ æ‹¦æˆªå™¨</span>
    dio.interceptors.addAll([
      _getLogInterceptor(),
      _getAuthInterceptor(),
      _getErrorInterceptor(),
      _getCacheInterceptor(),
    ]);
  }

  Interceptor _getLogInterceptor() {
    <span class="hljs-keyword">return</span> LogInterceptor(
      request: <span class="hljs-keyword">true</span>,
      requestBody: <span class="hljs-keyword">true</span>,
      responseBody: <span class="hljs-keyword">true</span>,
      responseHeader: <span class="hljs-keyword">false</span>,
      error: <span class="hljs-keyword">true</span>,
      logPrint: (log) =&gt; debugPrint(<span class="hljs-string">'Dio: <span class="hljs-subst">$log</span>'</span>),
    );
  }

  Interceptor _getAuthInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onRequest: (options, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// æ·»åŠ è®¤è¯token</span>
        <span class="hljs-keyword">final</span> token = <span class="hljs-keyword">await</span> _getAuthToken();
        <span class="hljs-keyword">if</span> (token != <span class="hljs-keyword">null</span>) {
          options.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer <span class="hljs-subst">$token</span>'</span>;
        }
        <span class="hljs-keyword">return</span> handler.next(options);
      },
      onResponse: (response, handler) {
        <span class="hljs-comment">// ç»Ÿä¸€å¤„ç†å“åº”</span>
        <span class="hljs-keyword">return</span> handler.next(response);
      },
      onError: (DioException error, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// Tokenè¿‡æœŸå¤„ç†</span>
        <span class="hljs-keyword">if</span> (error.response?.statusCode == <span class="hljs-number">401</span>) {
          <span class="hljs-keyword">final</span> newToken = <span class="hljs-keyword">await</span> _refreshToken();
          <span class="hljs-keyword">if</span> (newToken != <span class="hljs-keyword">null</span>) {
            <span class="hljs-comment">// é‡æ–°å‘èµ·è¯·æ±‚</span>
            <span class="hljs-keyword">final</span> request = error.requestOptions;
            request.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer <span class="hljs-subst">$newToken</span>'</span>;
            <span class="hljs-keyword">return</span> handler.resolve(<span class="hljs-keyword">await</span> dio.fetch(request));
          }
        }
        <span class="hljs-keyword">return</span> handler.next(error);
      },
    );
  }

  Interceptor _getErrorInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onError: (DioException error, handler) {
        <span class="hljs-comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span>
        <span class="hljs-keyword">final</span> networkError = _handleDioError(error);
        <span class="hljs-keyword">return</span> handler.reject(networkError);
      },
    );
  }

  Interceptor _getCacheInterceptor() {
    <span class="hljs-keyword">return</span> InterceptorsWrapper(
      onRequest: (options, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// ç¼“å­˜å¤„ç†</span>
        <span class="hljs-keyword">if</span> (options.extra[<span class="hljs-string">'cache'</span>] == <span class="hljs-keyword">true</span>) {
          <span class="hljs-keyword">final</span> cachedResponse = <span class="hljs-keyword">await</span> _getCachedResponse(options);
          <span class="hljs-keyword">if</span> (cachedResponse != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> handler.resolve(cachedResponse);
          }
        }
        <span class="hljs-keyword">return</span> handler.next(options);
      },
      onResponse: (response, handler) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// ç¼“å­˜å“åº”</span>
        <span class="hljs-keyword">if</span> (response.requestOptions.extra[<span class="hljs-string">'cache'</span>] == <span class="hljs-keyword">true</span>) {
          <span class="hljs-keyword">await</span> _cacheResponse(response);
        }
        <span class="hljs-keyword">return</span> handler.next(response);
      },
    );
  }

  Future&lt;<span class="hljs-built_in">String?</span>&gt; _getAuthToken() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨è·å–token</span>
    <span class="hljs-keyword">final</span> prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
    <span class="hljs-keyword">return</span> prefs.getString(<span class="hljs-string">'auth_token'</span>);
  }

  Future&lt;<span class="hljs-built_in">String?</span>&gt; _refreshToken() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// åˆ·æ–°tokené€»è¾‘</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">'/refresh-token'</span>);
      <span class="hljs-keyword">final</span> newToken = response.data[<span class="hljs-string">'token'</span>];
      <span class="hljs-keyword">final</span> prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
      <span class="hljs-keyword">await</span> prefs.setString(<span class="hljs-string">'auth_token'</span>, newToken);
      <span class="hljs-keyword">return</span> newToken;
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }
  }

  DioException _handleDioError(DioException error) {
    <span class="hljs-keyword">switch</span> (error.type) {
      <span class="hljs-keyword">case</span> DioExceptionType.connectionTimeout:
      <span class="hljs-keyword">case</span> DioExceptionType.sendTimeout:
      <span class="hljs-keyword">case</span> DioExceptionType.receiveTimeout:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'ç½‘ç»œè¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®'</span>,
        );
      <span class="hljs-keyword">case</span> DioExceptionType.badResponse:
        <span class="hljs-keyword">return</span> _handleBadResponse(error);
      <span class="hljs-keyword">case</span> DioExceptionType.cancel:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'è¯·æ±‚å·²å–æ¶ˆ'</span>,
        );
      <span class="hljs-keyword">case</span> DioExceptionType.unknown:
        <span class="hljs-keyword">return</span> DioException(
          requestOptions: error.requestOptions,
          error: <span class="hljs-string">'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®'</span>,
        );
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> error;
    }
  }

  DioException _handleBadResponse(DioException error) {
    <span class="hljs-keyword">final</span> statusCode = error.response?.statusCode;
    <span class="hljs-keyword">final</span> message = error.response?.data?[<span class="hljs-string">'message'</span>] ?? <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>;
    
    <span class="hljs-built_in">String</span> errorMessage;
    <span class="hljs-keyword">switch</span> (statusCode) {
      <span class="hljs-keyword">case</span> <span class="hljs-number">400</span>:
        errorMessage = <span class="hljs-string">'è¯·æ±‚å‚æ•°é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
        errorMessage = <span class="hljs-string">'æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
        errorMessage = <span class="hljs-string">'è®¿é—®è¢«æ‹’ç»'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
        errorMessage = <span class="hljs-string">'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">500</span>:
        errorMessage = <span class="hljs-string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">502</span>:
        errorMessage = <span class="hljs-string">'ç½‘å…³é”™è¯¯'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">503</span>:
        errorMessage = <span class="hljs-string">'æœåŠ¡ä¸å¯ç”¨'</span>;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
        errorMessage = message;
    }
    
    <span class="hljs-keyword">return</span> DioException(
      requestOptions: error.requestOptions,
      error: errorMessage,
      response: error.response,
    );
  }

  Future&lt;Response?&gt; _getCachedResponse(RequestOptions options) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å®ç°ç¼“å­˜é€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _cacheResponse(Response response) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å®ç°ç¼“å­˜å­˜å‚¨é€»è¾‘</span>
  }
}
</code></pre>
<h4 data-id="heading-4">è¯¦ç»†è¯´æ˜ï¼šDio å®¢æˆ·ç«¯çš„å•ä¾‹æ¨¡å¼ä¸æ‹¦æˆªå™¨ä½“ç³»</h4>
<p>ä¸Šè¿°ä»£ç å®ç°äº†ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ <code>DioClient</code>ï¼Œé‡‡ç”¨ <strong>å•ä¾‹æ¨¡å¼</strong>ï¼ˆSingleton Patternï¼‰ï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨åªå­˜åœ¨ä¸€ä¸ª Dio å®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºå’Œèµ„æºæµªè´¹ã€‚</p>
<p><code>BaseOptions</code> é…ç½®äº†åŸºç¡€è¯·æ±‚å‚æ•°ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>baseUrl</code>ï¼šæ‰€æœ‰è¯·æ±‚çš„å‰ç¼€ï¼Œå‡å°‘é‡å¤è¾“å…¥ã€‚</li>
<li><code>timeout</code>ï¼šè¿æ¥ã€å‘é€ã€æ¥æ”¶è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢è¯·æ±‚æ— é™ç­‰å¾…ã€‚</li>
<li><code>headers</code>ï¼šé»˜è®¤è¯·æ±‚å¤´ï¼Œå¦‚å†…å®¹ç±»å‹å’Œæ¥å—æ ¼å¼ã€‚</li>
</ul>
<p><strong>æ‹¦æˆªå™¨ï¼ˆInterceptorsï¼‰</strong> æ˜¯ Dio çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå…è®¸ä½ åœ¨è¯·æ±‚/å“åº”ç”Ÿå‘½å‘¨æœŸä¸­æ’å…¥è‡ªå®šä¹‰é€»è¾‘ï¼š</p>
<ul>
<li><strong>æ—¥å¿—æ‹¦æˆªå™¨</strong>ï¼šæ‰“å°è¯·æ±‚å’Œå“åº”å†…å®¹ï¼Œä¾¿äºè°ƒè¯•ã€‚</li>
<li><strong>é‰´æƒæ‹¦æˆªå™¨</strong>ï¼šåœ¨æ¯ä¸ªè¯·æ±‚å¤´ä¸­è‡ªåŠ¨æ·»åŠ  <code>Authorization</code>ï¼Œå¹¶å¤„ç† 401 é”™è¯¯æ—¶çš„ token åˆ·æ–°ä¸é‡è¯•æœºåˆ¶ï¼ˆå³â€œè‡ªåŠ¨ç»­ç­¾â€ï¼‰ã€‚</li>
<li><strong>é”™è¯¯æ‹¦æˆªå™¨</strong>ï¼šå°† Dio çš„åŸç”Ÿå¼‚å¸¸è½¬æ¢ä¸ºæ›´å‹å¥½çš„ç”¨æˆ·æç¤ºä¿¡æ¯ã€‚</li>
<li><strong>ç¼“å­˜æ‹¦æˆªå™¨</strong>ï¼šæ ¹æ®è¯·æ±‚é…ç½®å†³å®šæ˜¯å¦è¯»å–æˆ–å†™å…¥ç¼“å­˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<p>è¯¥è®¾è®¡å®ç°äº†<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼Œè®©ç½‘ç»œå±‚å…·å¤‡æ—¥å¿—ã€å®‰å…¨ã€å®¹é”™ã€æ€§èƒ½ä¼˜åŒ–ç­‰ä¼ä¸šçº§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€é«˜çº§è¯·æ±‚å°è£…</h2>
<h3 data-id="heading-6">1. API æœåŠ¡ç±»å°è£…</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// api_service.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiService</span> </span>{
  <span class="hljs-keyword">final</span> DioClient _dioClient;

  ApiService(<span class="hljs-keyword">this</span>._dioClient);

  <span class="hljs-comment">// GET è¯·æ±‚å°è£…</span>
  Future&lt;ApiResponse&lt;T&gt;&gt; <span class="hljs-keyword">get</span>&lt;T&gt;(
    <span class="hljs-built_in">String</span> path, {
    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;? queryParameters,
    <span class="hljs-built_in">bool</span> cache = <span class="hljs-keyword">false</span>,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.<span class="hljs-keyword">get</span>(
        path,
        queryParameters: queryParameters,
        options: Options(extra: {<span class="hljs-string">'cache'</span>: cache}),
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// POST è¯·æ±‚å°è£…</span>
  Future&lt;ApiResponse&lt;T&gt;&gt; post&lt;T&gt;(
    <span class="hljs-built_in">String</span> path, {
    <span class="hljs-built_in">dynamic</span> data,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: data,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// æ–‡ä»¶ä¸Šä¼ </span>
  Future&lt;ApiResponse&lt;T&gt;&gt; upload&lt;T&gt;(
    <span class="hljs-built_in">String</span> path,
    <span class="hljs-built_in">String</span> filePath, {
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
    ProgressCallback? onSendProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> formData = FormData.fromMap({
        <span class="hljs-string">'file'</span>: <span class="hljs-keyword">await</span> MultipartFile.fromFile(filePath),
      });

      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: formData,
        onSendProgress: onSendProgress,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'æ–‡ä»¶ä¸Šä¼ å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// å¤šæ–‡ä»¶ä¸Šä¼ </span>
  Future&lt;ApiResponse&lt;T&gt;&gt; uploadMultiple&lt;T&gt;(
    <span class="hljs-built_in">String</span> path,
    <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt; filePaths, {
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson,
    ProgressCallback? onSendProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> formData = FormData();

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> filePath <span class="hljs-keyword">in</span> filePaths) {
        formData.files.add(MapEntry(
          <span class="hljs-string">'files'</span>,
          <span class="hljs-keyword">await</span> MultipartFile.fromFile(filePath),
        ));
      }

      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.post(
        path,
        data: formData,
        onSendProgress: onSendProgress,
      );
      
      <span class="hljs-keyword">return</span> _handleResponse&lt;T&gt;(response, fromJson);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'æ–‡ä»¶ä¸Šä¼ å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// æ–‡ä»¶ä¸‹è½½</span>
  Future&lt;ApiResponse&lt;<span class="hljs-built_in">String</span>&gt;&gt; download(
    <span class="hljs-built_in">String</span> url,
    <span class="hljs-built_in">String</span> savePath, {
    ProgressCallback? onReceiveProgress,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dioClient.dio.download(
        url,
        savePath,
        onReceiveProgress: onReceiveProgress,
      );
      
      <span class="hljs-keyword">if</span> (response.statusCode == <span class="hljs-number">200</span>) {
        <span class="hljs-keyword">return</span> ApiResponse.success(data: savePath);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'ä¸‹è½½å¤±è´¥'</span>);
      }
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: e.error?.toString() ?? <span class="hljs-string">'ä¸‹è½½å¤±è´¥'</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">$e</span>'</span>);
    }
  }

  <span class="hljs-comment">// å–æ¶ˆè¯·æ±‚</span>
  CancelToken createCancelToken() =&gt; CancelToken();

  ApiResponse&lt;T&gt; _handleResponse&lt;T&gt;(Response response, T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">dynamic</span>)? fromJson) {
    <span class="hljs-keyword">if</span> (response.statusCode == <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">final</span> data = response.data;
        
        <span class="hljs-keyword">if</span> (fromJson != <span class="hljs-keyword">null</span>) {
          <span class="hljs-keyword">final</span> parsedData = fromJson(data);
          <span class="hljs-keyword">return</span> ApiResponse.success(data: parsedData);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> ApiResponse.success(data: data <span class="hljs-keyword">as</span> T);
        }
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> ApiResponse.error(message: <span class="hljs-string">'æ•°æ®è§£æå¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> ApiResponse.error(
        message: <span class="hljs-string">'è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.statusCode}</span>'</span>,
        code: response.statusCode,
      );
    }
  }
}
</code></pre>
<h4 data-id="heading-7">è¯¦ç»†è¯´æ˜ï¼šç»Ÿä¸€ API æœåŠ¡å±‚çš„è®¾è®¡æ€æƒ³</h4>
<p><code>ApiService</code> æ˜¯å¯¹ Dio çš„è¿›ä¸€æ­¥å°è£…ï¼Œå±è”½åº•å±‚ç»†èŠ‚ï¼Œæä¾›æ›´é«˜å±‚æ¬¡çš„ API æ¥å£ã€‚</p>
<ul>
<li><strong>æ³›å‹æ”¯æŒ</strong>ï¼šé€šè¿‡ <code>&lt;T&gt;</code> æ”¯æŒä»»æ„æ•°æ®ç±»å‹çš„è¿”å›ï¼Œç»“åˆ <code>fromJson</code> å›è°ƒå®Œæˆ JSON åˆ°æ¨¡å‹çš„è½¬æ¢ã€‚</li>
<li><strong>ç»Ÿä¸€é”™è¯¯å¤„ç†</strong>ï¼šæ•è· <code>DioException</code> å¹¶å°è£…ä¸º <code>ApiResponse.error</code>ï¼Œé¿å…åœ¨ UI å±‚å¤„ç†åŸå§‹å¼‚å¸¸ã€‚</li>
<li><strong>æ–‡ä»¶æ“ä½œæ”¯æŒ</strong>ï¼šå°è£…å•/å¤šæ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½ï¼Œæ”¯æŒè¿›åº¦ç›‘å¬ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>å“åº”å¤„ç†æŠ½è±¡</strong>ï¼š<code>_handleResponse</code> æ–¹æ³•ç»Ÿä¸€åˆ¤æ–­çŠ¶æ€ç ã€è§£ææ•°æ®ã€å¤„ç†å¼‚å¸¸ï¼Œç¡®ä¿æ‰€æœ‰è¯·æ±‚éµå¾ªç›¸åŒé€»è¾‘ã€‚</li>
<li><strong>å–æ¶ˆè¯·æ±‚èƒ½åŠ›</strong>ï¼šæš´éœ² <code>CancelToken</code>ï¼Œå¯åœ¨é¡µé¢é”€æ¯æˆ–ç”¨æˆ·å–æ¶ˆæ—¶ä¸­æ–­è¯·æ±‚ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<p>è¿™ç§å°è£…æ–¹å¼ä½¿å¾—ä¸šåŠ¡ä»£ç åªéœ€å…³å¿ƒâ€œè°ƒä»€ä¹ˆæ¥å£â€ï¼Œè€Œä¸å¿…é‡å¤ç¼–å†™ try-catchã€è§£æã€é”™è¯¯æç¤ºç­‰æ¨¡æ¿ä»£ç ã€‚</p>
<h3 data-id="heading-8">2. ç»Ÿä¸€å“åº”æ¨¡å‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç»Ÿä¸€å“åº”æ¨¡å‹</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiResponse</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-keyword">final</span> T? data;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> message;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int?</span> code;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> success;

  ApiResponse({
    <span class="hljs-keyword">this</span>.data,
    <span class="hljs-keyword">this</span>.message,
    <span class="hljs-keyword">this</span>.code,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.success,
  });

  <span class="hljs-keyword">factory</span> ApiResponse.success({T? data, <span class="hljs-built_in">String?</span> message}) {
    <span class="hljs-keyword">return</span> ApiResponse(
      data: data,
      message: message,
      success: <span class="hljs-keyword">true</span>,
    );
  }

  <span class="hljs-keyword">factory</span> ApiResponse.error({<span class="hljs-built_in">String?</span> message, <span class="hljs-built_in">int?</span> code}) {
    <span class="hljs-keyword">return</span> ApiResponse(
      message: message,
      code: code,
      success: <span class="hljs-keyword">false</span>,
    );
  }

  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> hasData =&gt; data != <span class="hljs-keyword">null</span>;
}
</code></pre>
<h4 data-id="heading-9">è¯¦ç»†è¯´æ˜ï¼šæ ‡å‡†åŒ–å“åº”ç»“æ„çš„ä»·å€¼</h4>
<p><code>ApiResponse&lt;T&gt;</code> æ˜¯ä¸€ä¸ªæ³›å‹å®¹å™¨ç±»ï¼Œç”¨äºåŒ…è£…æ‰€æœ‰ç½‘ç»œè¯·æ±‚çš„ç»“æœã€‚</p>
<p>å®ƒå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç»“æ„ç»Ÿä¸€</strong>ï¼šæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œè¿”å›å€¼éƒ½ç¬¦åˆåŒä¸€ç»“æ„ï¼Œä¾¿äºçŠ¶æ€ç®¡ç†ã€‚</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šé€šè¿‡æ³›å‹ <code>T</code> æ˜ç¡®æŒ‡å®šæ•°æ®ç±»å‹ï¼Œé¿å…ç±»å‹è½¬æ¢é”™è¯¯ã€‚</li>
<li><strong>è¯­ä¹‰æ¸…æ™°</strong>ï¼š<code>success</code> å­—æ®µæ˜ç¡®æ ‡è¯†è¯·æ±‚ç»“æœï¼Œ<code>hasData</code> å¿«é€Ÿåˆ¤æ–­æ˜¯å¦æœ‰æœ‰æ•ˆæ•°æ®ã€‚</li>
<li><strong>ä¾¿äº UI æ˜¾ç¤º</strong>ï¼š<code>message</code> å¯ç›´æ¥ç”¨äº Toast æˆ–é”™è¯¯æç¤ºæ¡†ã€‚</li>
</ul>
<p>è¯¥æ¨¡å‹æ˜¯è¿æ¥ç½‘ç»œå±‚ä¸ UI å±‚çš„æ¡¥æ¢ï¼Œæå¤§æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¥å£®æ€§ã€‚</p>
<h2 data-id="heading-10">å››ã€çŠ¶æ€ç®¡ç†é›†æˆ</h2>
<h3 data-id="heading-11">1. åŸºäº Riverpod çš„ç½‘ç»œçŠ¶æ€ç®¡ç†</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// network_providers.dart</span>
<span class="hljs-keyword">final</span> dioClientProvider = Provider&lt;DioClient&gt;((ref) {
  <span class="hljs-keyword">return</span> DioClient();
});

<span class="hljs-keyword">final</span> apiServiceProvider = Provider&lt;ApiService&gt;((ref) {
  <span class="hljs-keyword">final</span> dioClient = ref.watch(dioClientProvider);
  <span class="hljs-keyword">return</span> ApiService(dioClient);
});

<span class="hljs-comment">// ç”¨æˆ·ç›¸å…³API Provider</span>
<span class="hljs-keyword">final</span> userRepositoryProvider = Provider&lt;UserRepository&gt;((ref) {
  <span class="hljs-keyword">final</span> apiService = ref.watch(apiServiceProvider);
  <span class="hljs-keyword">return</span> UserRepository(apiService);
});

<span class="hljs-comment">// ç”¨æˆ·åˆ—è¡¨çŠ¶æ€ç®¡ç†</span>
<span class="hljs-keyword">final</span> usersProvider = StateNotifierProvider&lt;UsersNotifier, UsersState&gt;((ref) {
  <span class="hljs-keyword">final</span> userRepository = ref.watch(userRepositoryProvider);
  <span class="hljs-keyword">return</span> UsersNotifier(userRepository);
});
</code></pre>
<h4 data-id="heading-12">è¯¦ç»†è¯´æ˜ï¼šä¾èµ–æ³¨å…¥ä¸ Riverpod çš„ä¼˜é›…ç»“åˆ</h4>
<p>Riverpod æä¾›äº†å¼ºå¤§çš„ä¾èµ–æ³¨å…¥æœºåˆ¶ï¼Œä¸Šè¿°ä»£ç ä½¿ç”¨ <code>Provider</code> å’Œ <code>StateNotifierProvider</code> å®ç°äº†åˆ†å±‚è§£è€¦ï¼š</p>
<ul>
<li><code>dioClientProvider</code>ï¼šæä¾›å…¨å±€ Dio å®ä¾‹ã€‚</li>
<li><code>apiServiceProvider</code>ï¼šæ³¨å…¥ Dioï¼Œåˆ›å»º ApiServiceã€‚</li>
<li><code>userRepositoryProvider</code>ï¼šæ³¨å…¥ ApiServiceï¼Œåˆ›å»º UserRepositoryã€‚</li>
<li><code>usersProvider</code>ï¼šæ³¨å…¥ Repositoryï¼Œç®¡ç†ç”¨æˆ·åˆ—è¡¨çŠ¶æ€ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼å®ç°äº† <strong>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰</strong>ï¼Œç»„ä»¶ä¹‹é—´ä¸ç›´æ¥ä¾èµ–å…·ä½“å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ Provider è·å–ä¾èµ–ï¼Œä¾¿äºæ›¿æ¢ã€æµ‹è¯•å’Œå¤ç”¨ã€‚</p>
<h3 data-id="heading-13">2. çŠ¶æ€å®šä¹‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersState</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;User&gt; users;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> isLoading;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> error;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> hasReachedMax;

  <span class="hljs-keyword">const</span> UsersState({
    <span class="hljs-keyword">this</span>.users = <span class="hljs-keyword">const</span> [],
    <span class="hljs-keyword">this</span>.isLoading = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">this</span>.error,
    <span class="hljs-keyword">this</span>.hasReachedMax = <span class="hljs-keyword">false</span>,
  });

  UsersState copyWith({
    <span class="hljs-built_in">List</span>&lt;User&gt;? users,
    <span class="hljs-built_in">bool?</span> isLoading,
    <span class="hljs-built_in">String?</span> error,
    <span class="hljs-built_in">bool?</span> hasReachedMax,
  }) {
    <span class="hljs-keyword">return</span> UsersState(
      users: users ?? <span class="hljs-keyword">this</span>.users,
      isLoading: isLoading ?? <span class="hljs-keyword">this</span>.isLoading,
      error: error ?? <span class="hljs-keyword">this</span>.error,
      hasReachedMax: hasReachedMax ?? <span class="hljs-keyword">this</span>.hasReachedMax,
    );
  }
}
</code></pre>
<h4 data-id="heading-14">è¯¦ç»†è¯´æ˜ï¼šä¸å¯å˜çŠ¶æ€ï¼ˆImmutable Stateï¼‰çš„é‡è¦æ€§</h4>
<p><code>UsersState</code> æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¸å¯å˜çŠ¶æ€ç±»ï¼Œæ‰€æœ‰å­—æ®µéƒ½æ˜¯ <code>final</code>ï¼Œé€šè¿‡ <code>copyWith</code> æ–¹æ³•åˆ›å»ºæ–°å®ä¾‹ã€‚</p>
<p>ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é¿å…å‰¯ä½œç”¨</strong>ï¼šçŠ¶æ€ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹ã€‚</li>
<li><strong>æ˜“äºè°ƒè¯•</strong>ï¼šæ¯æ¬¡çŠ¶æ€å˜åŒ–éƒ½äº§ç”Ÿæ–°å¯¹è±¡ï¼Œä¾¿äºè¿½è¸ªã€‚</li>
<li><strong>å…¼å®¹ Riverpod</strong>ï¼šStateNotifier è¦æ±‚çŠ¶æ€ä¸å¯å˜ã€‚</li>
</ul>
<p><code>isLoading</code> æ§åˆ¶åŠ è½½æŒ‡ç¤ºå™¨ï¼Œ<code>error</code> æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œ<code>hasReachedMax</code> ç”¨äºåˆ¤æ–­æ˜¯å¦å·²åŠ è½½å…¨éƒ¨æ•°æ®ï¼ˆæ”¯æŒåˆ†é¡µåŠ è½½ï¼‰ã€‚</p>
<h3 data-id="heading-15">3. Notifier å®ç°</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersNotifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StateNotifier</span>&lt;<span class="hljs-title">UsersState</span>&gt; </span>{
  <span class="hljs-keyword">final</span> UserRepository _userRepository;
  <span class="hljs-built_in">int</span> _page = <span class="hljs-number">1</span>;
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">false</span>;

  UsersNotifier(<span class="hljs-keyword">this</span>._userRepository) : <span class="hljs-keyword">super</span>(<span class="hljs-keyword">const</span> UsersState());

  Future&lt;<span class="hljs-keyword">void</span>&gt; fetchUsers({<span class="hljs-built_in">bool</span> refresh = <span class="hljs-keyword">false</span>}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (_isLoading) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">if</span> (refresh) {
      _page = <span class="hljs-number">1</span>;
      state = <span class="hljs-keyword">const</span> UsersState(isLoading: <span class="hljs-keyword">true</span>);
    } <span class="hljs-keyword">else</span> {
      state = state.copyWith(isLoading: <span class="hljs-keyword">true</span>);
    }

    <span class="hljs-keyword">try</span> {
      _isLoading = <span class="hljs-keyword">true</span>;
      
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _userRepository.getUsers(page: _page);
      
      <span class="hljs-keyword">if</span> (response.success &amp;&amp; response.hasData) {
        <span class="hljs-keyword">final</span> users = response.data!;
        
        state = state.copyWith(
          users: refresh ? users : [...state.users, ...users],
          isLoading: <span class="hljs-keyword">false</span>,
          error: <span class="hljs-keyword">null</span>,
          hasReachedMax: users.length &lt; <span class="hljs-number">20</span>, <span class="hljs-comment">// å‡è®¾æ¯é¡µ20æ¡</span>
        );
        
        _page++;
      } <span class="hljs-keyword">else</span> {
        state = state.copyWith(
          isLoading: <span class="hljs-keyword">false</span>,
          error: response.message ?? <span class="hljs-string">'åŠ è½½å¤±è´¥'</span>,
        );
      }
    } <span class="hljs-keyword">catch</span> (e) {
      state = state.copyWith(
        isLoading: <span class="hljs-keyword">false</span>,
        error: <span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥: <span class="hljs-subst">$e</span>'</span>,
      );
    } <span class="hljs-keyword">finally</span> {
      _isLoading = <span class="hljs-keyword">false</span>;
    }
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; refresh() =&gt; fetchUsers(refresh: <span class="hljs-keyword">true</span>);
}
</code></pre>
<h4 data-id="heading-16">è¯¦ç»†è¯´æ˜ï¼šçŠ¶æ€é©±åŠ¨ UI çš„å®Œæ•´æµç¨‹</h4>
<p><code>UsersNotifier</code> æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ ¸å¿ƒï¼Œè´Ÿè´£åè°ƒ Repository å¹¶æ›´æ–°çŠ¶æ€ã€‚</p>
<ul>
<li><code>fetchUsers</code> æ–¹æ³•æ ¹æ® <code>refresh</code> å‚æ•°å†³å®šæ˜¯åˆ·æ–°è¿˜æ˜¯åŠ è½½æ›´å¤šã€‚</li>
<li>è¯·æ±‚å‰è®¾ç½® <code>isLoading: true</code>ï¼Œè§¦å‘ UI æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ã€‚</li>
<li>æˆåŠŸååˆå¹¶æ–°æ—§æ•°æ®ï¼ˆåˆ†é¡µåŠ è½½ï¼‰ï¼Œå¤±è´¥åˆ™æ›´æ–° <code>error</code> å­—æ®µã€‚</li>
<li>ä½¿ç”¨ <code>_isLoading</code> æ ‡å¿—é˜²æ­¢é‡å¤è¯·æ±‚ï¼Œæå‡ç¨³å®šæ€§ã€‚</li>
<li><code>refresh()</code> æ–¹æ³•ç®€åŒ–ä¸‹æ‹‰åˆ·æ–°è°ƒç”¨ã€‚</li>
</ul>
<p>è¯¥æ¨¡å¼å®ç°äº†â€œ<strong>è¯·æ±‚ â†’ çŠ¶æ€æ›´æ–° â†’ UI é‡ç»˜</strong>â€çš„é—­ç¯ï¼Œæ˜¯ç°ä»£ Flutter åº”ç”¨çš„æ ‡å‡†èŒƒå¼ã€‚</p>
<h2 data-id="heading-17">äº”ã€æ•°æ®æ¨¡å‹ä¸åºåˆ—åŒ–</h2>
<h3 data-id="heading-18">1. è‡ªåŠ¨ç”Ÿæˆåºåˆ—åŒ–ä»£ç </h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// user.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:json_annotation/json_annotation.dart'</span>;

<span class="hljs-keyword">part</span> <span class="hljs-string">'user.g.dart'</span>;

<span class="hljs-meta">@JsonSerializable</span>()
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> id;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> email;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> avatar;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> createdAt;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> updatedAt;

  User({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.id,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.name,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.email,
    <span class="hljs-keyword">this</span>.avatar,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.createdAt,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.updatedAt,
  });

  <span class="hljs-keyword">factory</span> User.fromJson(<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; json) =&gt; _$UserFromJson(json);
  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; toJson() =&gt; _$UserToJson(<span class="hljs-keyword">this</span>);

  User copyWith({
    <span class="hljs-built_in">int?</span> id,
    <span class="hljs-built_in">String?</span> name,
    <span class="hljs-built_in">String?</span> email,
    <span class="hljs-built_in">String?</span> avatar,
    <span class="hljs-built_in">DateTime?</span> createdAt,
    <span class="hljs-built_in">DateTime?</span> updatedAt,
  }) {
    <span class="hljs-keyword">return</span> User(
      id: id ?? <span class="hljs-keyword">this</span>.id,
      name: name ?? <span class="hljs-keyword">this</span>.name,
      email: email ?? <span class="hljs-keyword">this</span>.email,
      avatar: avatar ?? <span class="hljs-keyword">this</span>.avatar,
      createdAt: createdAt ?? <span class="hljs-keyword">this</span>.createdAt,
      updatedAt: updatedAt ?? <span class="hljs-keyword">this</span>.updatedAt,
    );
  }
}
</code></pre>
<h4 data-id="heading-19">è¯¦ç»†è¯´æ˜ï¼š<code>json_serializable</code> çš„é«˜æ•ˆä¸å®‰å…¨</h4>
<p>æ‰‹åŠ¨ç¼–å†™ <code>fromJson</code> å’Œ <code>toJson</code> å®¹æ˜“å‡ºé”™ä¸”ç¹çã€‚<code>json_annotation</code> + <code>build_runner</code> å¯ä»¥è‡ªåŠ¨ç”Ÿæˆè¿™äº›æ–¹æ³•ã€‚</p>
<ul>
<li><code>@JsonSerializable()</code> æ³¨è§£æ ‡è®°ç±»éœ€è¦åºåˆ—åŒ–ã€‚</li>
<li><code>part 'user.g.dart'</code> æŒ‡å®šç”Ÿæˆæ–‡ä»¶ã€‚</li>
<li>è¿è¡Œ <code>dart run build_runner build</code> è‡ªåŠ¨ç”Ÿæˆ <code>fromJson</code> å’Œ <code>toJson</code>ã€‚</li>
<li><code>copyWith</code> æ”¯æŒå±€éƒ¨æ›´æ–°ï¼Œå¸¸ç”¨äºçŠ¶æ€ç®¡ç†ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼æ—¢ä¿è¯äº†æ€§èƒ½ï¼Œåˆå‡å°‘äº†äººä¸ºé”™è¯¯ã€‚</p>
<h3 data-id="heading-20">2. é€šç”¨å“åº”æ¨¡å‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// api_response_model.dart</span>
<span class="hljs-meta">@JsonSerializable</span>(genericArgumentFactories: <span class="hljs-keyword">true</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiResponseModel</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> code;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> message;
  <span class="hljs-keyword">final</span> T? data;

  ApiResponseModel({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.code,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.message,
    <span class="hljs-keyword">this</span>.data,
  });

  <span class="hljs-keyword">factory</span> ApiResponseModel.fromJson(
    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; json,
    T <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">Object?</span> json) fromJsonT,
  ) =&gt;
      _$ApiResponseModelFromJson(json, fromJsonT);

  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; toJson(<span class="hljs-built_in">Object?</span> <span class="hljs-built_in">Function</span>(T value) toJsonT) =&gt;
      _$ApiResponseModelToJson(<span class="hljs-keyword">this</span>, toJsonT);

  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> isSuccess =&gt; code == <span class="hljs-number">200</span>;
}
</code></pre>
<h4 data-id="heading-21">è¯¦ç»†è¯´æ˜ï¼šæ³›å‹å“åº”æ¨¡å‹çš„é€šç”¨æ€§</h4>
<p>è®¸å¤šåç«¯ API è¿”å›ç»Ÿä¸€ç»“æ„ï¼Œå¦‚ <code>{ code: 200, message: "ok", data: {} }</code>ã€‚</p>
<p><code>ApiResponseModel&lt;T&gt;</code> å°è£…äº†è¿™ç§ç»“æ„ï¼š</p>
<ul>
<li>æ”¯æŒæ³›å‹ <code>T</code>ï¼Œå¯åµŒå¥—ä»»æ„æ•°æ®æ¨¡å‹ã€‚</li>
<li><code>genericArgumentFactories: true</code> å…è®¸ä¼ é€’ <code>fromJsonT</code> å‡½æ•°ï¼Œå®ç°åµŒå¥—å¯¹è±¡è§£æã€‚</li>
<li><code>isSuccess</code> å¿«é€Ÿåˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚</li>
</ul>
<p>è¯¥æ¨¡å‹å¯ç›´æ¥ç”¨äº <code>dio</code> çš„å“åº”è§£æï¼Œå‡å°‘é‡å¤ä»£ç ã€‚</p>
<h2 data-id="heading-22">å…­ã€Repository æ¨¡å¼å®ç°</h2>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// user_repository.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserRepository</span> </span>{
  <span class="hljs-keyword">final</span> ApiService _apiService;

  UserRepository(<span class="hljs-keyword">this</span>._apiService);

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;&gt; getUsers({<span class="hljs-built_in">int</span> page = <span class="hljs-number">1</span>, <span class="hljs-built_in">int</span> limit = <span class="hljs-number">20</span>}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users'</span>,
      queryParameters: {
        <span class="hljs-string">'page'</span>: page,
        <span class="hljs-string">'limit'</span>: limit,
      },
      fromJson: (data) {
        <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">is</span> <span class="hljs-built_in">List</span>) {
          <span class="hljs-keyword">return</span> data.map((e) =&gt; User.fromJson(e)).toList();
        }
        <span class="hljs-keyword">return</span> [];
      },
    );
  }

  Future&lt;ApiResponse&lt;User&gt;&gt; getUserById(<span class="hljs-built_in">int</span> id) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users/<span class="hljs-subst">$id</span>'</span>,
      fromJson: (data) =&gt; User.fromJson(data),
    );
  }

  Future&lt;ApiResponse&lt;User&gt;&gt; updateUser(User user) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.post(
      <span class="hljs-string">'/users/<span class="hljs-subst">${user.id}</span>'</span>,
      data: user.toJson(),
      fromJson: (data) =&gt; User.fromJson(data),
    );
  }

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">String</span>&gt;&gt; uploadAvatar(<span class="hljs-built_in">String</span> filePath) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> _apiService.upload&lt;<span class="hljs-built_in">String</span>&gt;(
      <span class="hljs-string">'/users/avatar'</span>,
      filePath,
      fromJson: (data) =&gt; data[<span class="hljs-string">'url'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">String</span>,
    );
  }
}
</code></pre>
<h4 data-id="heading-23">è¯¦ç»†è¯´æ˜ï¼šRepository æ¨¡å¼çš„åˆ†å±‚ä»·å€¼</h4>
<p>Repository æ˜¯ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®æºä¹‹é—´çš„æŠ½è±¡å±‚ï¼Œå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š</p>
<ul>
<li><strong>éš”ç¦»å˜åŒ–</strong>ï¼šå¦‚æœæœªæ¥æ›´æ¢ç½‘ç»œåº“ï¼ˆå¦‚ä» dio æ”¹ä¸º httpï¼‰ï¼Œåªéœ€ä¿®æ”¹ Repositoryï¼Œä¸å½±å“ä¸Šå±‚ã€‚</li>
<li><strong>ç»Ÿä¸€å…¥å£</strong>ï¼šæ‰€æœ‰ç”¨æˆ·ç›¸å…³è¯·æ±‚é›†ä¸­åœ¨ <code>UserRepository</code>ï¼Œä¾¿äºç»´æŠ¤ã€‚</li>
<li><strong>æ•°æ®è½¬æ¢</strong>ï¼šå°†åŸå§‹ API å“åº”è½¬æ¢ä¸º App å†…éƒ¨æ¨¡å‹ã€‚</li>
<li><strong>æ”¯æŒå¤šæ•°æ®æº</strong>ï¼šæœªæ¥å¯è½»æ¾æ‰©å±•æœ¬åœ°æ•°æ®åº“ã€ç¼“å­˜ç­‰ã€‚</li>
</ul>
<p>å®ƒæ˜¯å®ç° Clean Architecture çš„å…³é”®ä¸€ç¯ã€‚</p>
<h2 data-id="heading-24">ä¸ƒã€UI é›†æˆä¸ä½¿ç”¨</h2>
<h3 data-id="heading-25">1. ç½‘ç»œè¯·æ±‚çŠ¶æ€ Widget</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// network_state_widget.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStateWidget</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> AsyncValue&lt;T&gt; asyncValue;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>(T data) successBuilder;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>()? loadingBuilder;
  <span class="hljs-keyword">final</span> Widget <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">Object</span> error, StackTrace stackTrace)? errorBuilder;
  <span class="hljs-keyword">final</span> VoidCallback? onRetry;

  <span class="hljs-keyword">const</span> NetworkStateWidget({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.asyncValue,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.successBuilder,
    <span class="hljs-keyword">this</span>.loadingBuilder,
    <span class="hljs-keyword">this</span>.errorBuilder,
    <span class="hljs-keyword">this</span>.onRetry,
  });

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> asyncValue.when(
      data: successBuilder,
      loading: loadingBuilder ?? () =&gt; <span class="hljs-keyword">const</span> _LoadingWidget(),
      error: errorBuilder ?? (error, stack) =&gt; _ErrorWidget(
        error: error,
        onRetry: onRetry,
      ),
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_LoadingWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> _LoadingWidget();

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Center(
      child: Padding(
        padding: EdgeInsets.all(<span class="hljs-number">16.0</span>),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            CircularProgressIndicator(),
            SizedBox(height: <span class="hljs-number">16</span>),
            Text(<span class="hljs-string">'åŠ è½½ä¸­...'</span>),
          ],
        ),
      ),
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ErrorWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Object</span> error;
  <span class="hljs-keyword">final</span> VoidCallback? onRetry;

  <span class="hljs-keyword">const</span> _ErrorWidget({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.error,
    <span class="hljs-keyword">this</span>.onRetry,
  });

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Center(
      child: Padding(
        padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">16.0</span>),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            Icon(
              Icons.error_outline,
              size: <span class="hljs-number">64</span>,
              color: Theme.of(context).colorScheme.error,
            ),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            Text(
              error.toString(),
              textAlign: TextAlign.center,
              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                    color: Theme.of(context).colorScheme.error,
                  ),
            ),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            <span class="hljs-keyword">if</span> (onRetry != <span class="hljs-keyword">null</span>)
              FilledButton(
                onPressed: onRetry,
                child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é‡è¯•'</span>),
              ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-26">è¯¦ç»†è¯´æ˜ï¼šçŠ¶æ€æ„ŸçŸ¥å‹ UI ç»„ä»¶çš„è®¾è®¡ç†å¿µ</h4>
<p><code>NetworkStateWidget</code> æ˜¯ä¸€ä¸ªé€šç”¨çš„çŠ¶æ€æ¸²æŸ“ç»„ä»¶ï¼Œæ¥å— <code>AsyncValue</code>ï¼ˆRiverpod æä¾›ï¼‰å¹¶æ ¹æ®å…¶çŠ¶æ€å±•ç¤ºä¸åŒ UIã€‚</p>
<ul>
<li><code>when</code> æ–¹æ³•åˆ†åˆ«å¤„ç† <code>data</code>ã€<code>loading</code>ã€<code>error</code> ä¸‰ç§çŠ¶æ€ã€‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰åŠ è½½å’Œé”™è¯¯ç•Œé¢ã€‚</li>
<li>æä¾› <code>onRetry</code> å›è°ƒï¼Œç‚¹å‡»â€œé‡è¯•â€æŒ‰é’®å¯é‡æ–°å‘èµ·è¯·æ±‚ã€‚</li>
</ul>
<p>è¿™ç§ç»„ä»¶å¯å¤ç”¨äºä»»ä½•å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰ï¼Œæå¤§æå‡ UI å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-27">2. é¡µé¢ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// users_page.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConsumerStatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> UsersPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  ConsumerState&lt;UsersPage&gt; createState() =&gt; _UsersPageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_UsersPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConsumerState</span>&lt;<span class="hljs-title">UsersPage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> ScrollController _scrollController = ScrollController();

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _scrollController.addListener(_onScroll);
    <span class="hljs-comment">// åˆå§‹åŠ è½½æ•°æ®</span>
    WidgetsBinding.instance.addPostFrameCallback((_) {
      ref.read(usersProvider.notifier).fetchUsers();
    });
  }

  <span class="hljs-keyword">void</span> _onScroll() {
    <span class="hljs-keyword">if</span> (_scrollController.position.pixels ==
        _scrollController.position.maxScrollExtent) {
      <span class="hljs-comment">// åŠ è½½æ›´å¤š</span>
      ref.read(usersProvider.notifier).fetchUsers();
    }
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">final</span> usersState = ref.watch(usersProvider);

    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç”¨æˆ·åˆ—è¡¨'</span>),
        actions: [
          IconButton(
            icon: <span class="hljs-keyword">const</span> Icon(Icons.refresh),
            onPressed: () =&gt; ref.read(usersProvider.notifier).refresh(),
          ),
        ],
      ),
      body: NetworkStateWidget(
        asyncValue: AsyncValue.data(usersState),
        onRetry: () =&gt; ref.read(usersProvider.notifier).refresh(),
        successBuilder: (state) {
          <span class="hljs-keyword">return</span> RefreshIndicator(
            onRefresh: () =&gt; ref.read(usersProvider.notifier).refresh(),
            child: ListView.builder(
              controller: _scrollController,
              itemCount: state.users.length + (state.hasReachedMax ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>),
              itemBuilder: (context, index) {
                <span class="hljs-keyword">if</span> (index &gt;= state.users.length) {
                  <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Padding(
                    padding: EdgeInsets.all(<span class="hljs-number">16.0</span>),
                    child: Center(child: CircularProgressIndicator()),
                  );
                }
                
                <span class="hljs-keyword">final</span> user = state.users[index];
                <span class="hljs-keyword">return</span> UserListItem(user: user);
              },
            ),
          );
        },
      ),
    );
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _scrollController.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h4 data-id="heading-28">è¯¦ç»†è¯´æ˜ï¼šå®Œæ•´é¡µé¢çš„æ„å»ºé€»è¾‘</h4>
<p><code>UsersPage</code> å±•ç¤ºäº†å¦‚ä½•å°†ç½‘ç»œã€çŠ¶æ€ã€UI ä¸‰å±‚æ— ç¼é›†æˆï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>ConsumerStatefulWidget</code> è®¿é—® Riverpod çŠ¶æ€ã€‚</li>
<li><code>initState</code> ä¸­ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œå®ç°ä¸Šæ‹‰åŠ è½½æ›´å¤šã€‚</li>
<li><code>ref.watch(usersProvider)</code> ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œè‡ªåŠ¨åˆ·æ–° UIã€‚</li>
<li><code>NetworkStateWidget</code> ç»Ÿä¸€å¤„ç†åŠ è½½ã€æˆåŠŸã€é”™è¯¯çŠ¶æ€ã€‚</li>
<li><code>RefreshIndicator</code> æ”¯æŒä¸‹æ‹‰åˆ·æ–°ã€‚</li>
<li>åˆ—è¡¨æœ«å°¾æ˜¾ç¤ºåŠ è½½æ›´å¤šæŒ‡ç¤ºå™¨ã€‚</li>
</ul>
<p>æ•´ä¸ªé¡µé¢é€»è¾‘æ¸…æ™°ï¼Œç”¨æˆ·ä½“éªŒæµç•…ï¼Œæ˜¯å…¸å‹çš„ç”Ÿäº§çº§å®ç°ã€‚</p>
<h2 data-id="heading-29">å…«ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-30">1. è¯·æ±‚å–æ¶ˆä¸é˜²æŠ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Debouncer</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> delay;
  Timer? _timer;

  Debouncer({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.delay});

  <span class="hljs-keyword">void</span> call(<span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>() action) {
    _timer?.cancel();
    _timer = Timer(delay, action);
  }

  <span class="hljs-keyword">void</span> dispose() {
    _timer?.cancel();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchService</span> </span>{
  <span class="hljs-keyword">final</span> ApiService _apiService;
  CancelToken? _cancelToken;

  SearchService(<span class="hljs-keyword">this</span>._apiService);

  Future&lt;ApiResponse&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;&gt; searchUsers(<span class="hljs-built_in">String</span> query) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„è¯·æ±‚</span>
    _cancelToken?.cancel(<span class="hljs-string">'New search request'</span>);
    _cancelToken = CancelToken();

    <span class="hljs-keyword">return</span> _apiService.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/users/search'</span>,
      queryParameters: {<span class="hljs-string">'q'</span>: query},
      cancelToken: _cancelToken,
      fromJson: (data) {
        <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">is</span> <span class="hljs-built_in">List</span>) {
          <span class="hljs-keyword">return</span> data.map((e) =&gt; User.fromJson(e)).toList();
        }
        <span class="hljs-keyword">return</span> [];
      },
    );
  }
}
</code></pre>
<h4 data-id="heading-31">è¯¦ç»†è¯´æ˜ï¼šé˜²æŠ–ä¸è¯·æ±‚å–æ¶ˆçš„å¿…è¦æ€§</h4>
<ul>
<li><strong>é˜²æŠ–ï¼ˆDebouncerï¼‰</strong>ï¼šåœ¨æœç´¢æ¡†ç­‰é«˜é¢‘è¾“å…¥åœºæ™¯ä¸­ï¼Œé¿å…æ¯æ¬¡è¾“å…¥éƒ½å‘èµ·è¯·æ±‚ï¼Œä»…åœ¨ç”¨æˆ·åœæ­¢è¾“å…¥åå»¶è¿Ÿæ‰§è¡Œï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›ã€‚</li>
<li><strong>å–æ¶ˆè¯·æ±‚ï¼ˆCancelTokenï¼‰</strong>ï¼šå½“æ–°è¯·æ±‚å‘èµ·æ—¶ï¼Œå–æ¶ˆæ—§è¯·æ±‚ï¼Œé˜²æ­¢æ—§å“åº”è¦†ç›–æ–°æ•°æ®ï¼ˆå³â€œç«æ€æ¡ä»¶â€ï¼‰ã€‚</li>
</ul>
<p>ä¸¤è€…ç»“åˆå¯æ˜¾è‘—æå‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-32">2. ç¼“å­˜ç­–ç•¥</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheManager</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> CacheManager _instance = CacheManager._internal();
  <span class="hljs-keyword">factory</span> CacheManager() =&gt; _instance;
  CacheManager._internal();

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; _memoryCache = {};
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> _defaultDuration = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(minutes: <span class="hljs-number">5</span>);

  Future&lt;T?&gt; <span class="hljs-keyword">get</span>&lt;T&gt;(<span class="hljs-built_in">String</span> key) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> cached = _memoryCache[key];
    <span class="hljs-keyword">if</span> (cached != <span class="hljs-keyword">null</span> &amp;&amp; cached <span class="hljs-keyword">is</span> _CacheItem) {
      <span class="hljs-keyword">if</span> (cached.expiry.isAfter(<span class="hljs-built_in">DateTime</span>.now())) {
        <span class="hljs-keyword">return</span> cached.data <span class="hljs-keyword">as</span> T;
      } <span class="hljs-keyword">else</span> {
        _memoryCache.remove(key);
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; <span class="hljs-keyword">set</span>&lt;T&gt;(<span class="hljs-built_in">String</span> key, T data, {<span class="hljs-built_in">Duration?</span> duration}) <span class="hljs-keyword">async</span> {
    _memoryCache[key] = _CacheItem(
      data: data,
      expiry: <span class="hljs-built_in">DateTime</span>.now().add(duration ?? _defaultDuration),
    );
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; remove(<span class="hljs-built_in">String</span> key) <span class="hljs-keyword">async</span> {
    _memoryCache.remove(key);
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; clear() <span class="hljs-keyword">async</span> {
    _memoryCache.clear();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CacheItem</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">dynamic</span> data;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> expiry;

  _CacheItem({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.data, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.expiry});
}
</code></pre>
<h4 data-id="heading-33">è¯¦ç»†è¯´æ˜ï¼šå†…å­˜ç¼“å­˜çš„å®ç°ä¸åº”ç”¨åœºæ™¯</h4>
<p><code>CacheManager</code> æä¾›äº†ä¸€ä¸ªç®€å•çš„å†…å­˜ç¼“å­˜ç³»ç»Ÿï¼Œæ”¯æŒï¼š</p>
<ul>
<li>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ•°æ®é™ˆæ—§ã€‚</li>
<li>è‡ªåŠ¨æ¸…ç†è¿‡æœŸé¡¹ã€‚</li>
<li>æ”¯æŒä»»æ„ç±»å‹æ•°æ®å­˜å‚¨ã€‚</li>
</ul>
<p>å¯ç”¨äºç¼“å­˜ç”¨æˆ·ä¿¡æ¯ã€é…ç½®é¡¹ã€æœç´¢ç»“æœç­‰ä¸å¸¸å˜åŠ¨çš„æ•°æ®ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-34">3. ç½‘ç»œçŠ¶æ€ç›‘æ§</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkConnectivity</span> </span>{
  <span class="hljs-keyword">final</span> Connectivity _connectivity = Connectivity();
  <span class="hljs-keyword">final</span> StreamController&lt;<span class="hljs-built_in">bool</span>&gt; _connectionStatusController = 
      StreamController&lt;<span class="hljs-built_in">bool</span>&gt;.broadcast();

  Stream&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-keyword">get</span> connectionStatus =&gt; _connectionStatusController.stream;

  Future&lt;<span class="hljs-keyword">void</span>&gt; initialize() <span class="hljs-keyword">async</span> {
    _connectivity.onConnectivityChanged.listen((result) {
      _updateConnectionStatus(result);
    });
    
    <span class="hljs-comment">// åˆå§‹æ£€æŸ¥</span>
    <span class="hljs-keyword">final</span> initialResult = <span class="hljs-keyword">await</span> _connectivity.checkConnectivity();
    _updateConnectionStatus(initialResult);
  }

  <span class="hljs-keyword">void</span> _updateConnectionStatus(ConnectivityResult result) {
    <span class="hljs-keyword">final</span> hasConnection = result != ConnectivityResult.none;
    _connectionStatusController.add(hasConnection);
  }

  Future&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-keyword">get</span> isConnected <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> result = <span class="hljs-keyword">await</span> _connectivity.checkConnectivity();
    <span class="hljs-keyword">return</span> result != ConnectivityResult.none;
  }

  <span class="hljs-keyword">void</span> dispose() {
    _connectionStatusController.close();
  }
}
</code></pre>
<h4 data-id="heading-35">è¯¦ç»†è¯´æ˜ï¼šå®æ—¶ç½‘ç»œçŠ¶æ€ç›‘æ§çš„é‡è¦æ€§</h4>
<p>é€šè¿‡ <code>connectivity_plus</code> æ’ä»¶ï¼Œå¯ä»¥ç›‘å¬è®¾å¤‡ç½‘ç»œçŠ¶æ€å˜åŒ–ã€‚</p>
<ul>
<li>åº”ç”¨å¯åŠ¨æ—¶æ£€æŸ¥ç½‘ç»œæ˜¯å¦å¯ç”¨ã€‚</li>
<li>åœ¨æ— ç½‘ç»œæ—¶ç¦ç”¨è¯·æ±‚æˆ–æç¤ºç”¨æˆ·ã€‚</li>
<li>ç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡è¯•å¤±è´¥çš„è¯·æ±‚ã€‚</li>
<li>æå‡ç¦»çº¿ä½“éªŒå’Œåº”ç”¨å¥å£®æ€§ã€‚</li>
</ul>
<p>æ˜¯æ„å»ºé«˜è´¨é‡ App çš„å¿…å¤‡åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-36">ä¹ã€é…ç½®ä¸ä¾èµ–</h2>
<h3 data-id="heading-37">1. <code>pubspec.yaml</code> é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>

  <span class="hljs-comment"># ç½‘ç»œè¯·æ±‚</span>
  <span class="hljs-attr">dio:</span> <span class="hljs-string">^5.0.0</span>
  <span class="hljs-attr">retrofit:</span> <span class="hljs-string">^4.0.1</span>
  <span class="hljs-attr">logger:</span> <span class="hljs-string">^1.1.0</span>
  
  <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
  <span class="hljs-attr">flutter_riverpod:</span> <span class="hljs-string">^2.3.0</span>
  
  <span class="hljs-comment"># åºåˆ—åŒ–</span>
  <span class="hljs-attr">json_annotation:</span> <span class="hljs-string">^4.8.1</span>
  
  <span class="hljs-comment"># ç½‘ç»œçŠ¶æ€ç›‘æ§</span>
  <span class="hljs-attr">connectivity_plus:</span> <span class="hljs-string">^5.0.0</span>
  
  <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨</span>
  <span class="hljs-attr">shared_preferences:</span> <span class="hljs-string">^2.2.0</span>

<span class="hljs-attr">dev_dependencies:</span>
  <span class="hljs-attr">flutter_test:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>
  
  <span class="hljs-comment"># åºåˆ—åŒ–ä»£ç ç”Ÿæˆ</span>
  <span class="hljs-attr">build_runner:</span> <span class="hljs-string">^2.4.0</span>
  <span class="hljs-attr">retrofit_generator:</span> <span class="hljs-string">^4.0.1</span>
  <span class="hljs-attr">json_serializable:</span> <span class="hljs-string">^6.7.1</span>
</code></pre>
<h4 data-id="heading-38">è¯¦ç»†è¯´æ˜ï¼šæ ¸å¿ƒä¾èµ–çš„é€‰æ‹©ä¾æ®</h4>
<ul>
<li><code>dio</code>ï¼šæ ¸å¿ƒç½‘ç»œåº“ï¼ŒåŠŸèƒ½å…¨é¢ã€‚</li>
<li><code>flutter_riverpod</code>ï¼šç°ä»£çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œæ”¯æŒ Provider æ³¨å…¥ã€‚</li>
<li><code>json_serializable</code>ï¼šè‡ªåŠ¨åŒ– JSON åºåˆ—åŒ–ï¼Œå‡å°‘æ ·æ¿ä»£ç ã€‚</li>
<li><code>connectivity_plus</code>ï¼šè·¨å¹³å°ç½‘ç»œçŠ¶æ€æ£€æµ‹ã€‚</li>
<li><code>shared_preferences</code>ï¼šè½»é‡çº§æœ¬åœ°å­˜å‚¨ï¼Œç”¨äºä¿å­˜ token ç­‰ã€‚</li>
<li><code>build_runner</code>ï¼šä»£ç ç”Ÿæˆå·¥å…·ï¼Œé…åˆ <code>json_serializable</code> ä½¿ç”¨ã€‚</li>
</ul>
<p>è¿™äº›åº“å…±åŒæ„æˆäº†ä¸€ä¸ªç°ä»£åŒ– Flutter åº”ç”¨çš„æŠ€æœ¯åº•åº§ã€‚</p>
<h2 data-id="heading-39">åã€æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç§æ·±åº¦é›†æˆçš„ç½‘ç»œè¯·æ±‚æ¶æ„ï¼Œä½ å¯ä»¥æ„å»ºå‡ºï¼š</p>
<ul>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šæ”¯æŒç¼“å­˜ã€é˜²æŠ–ã€å¹¶å‘æ§åˆ¶</li>
<li><strong>å¯ç»´æŠ¤</strong>ï¼šæ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼ˆAPI â†’ Repository â†’ StateNotifier â†’ UIï¼‰</li>
<li><strong>æ˜“æµ‹è¯•</strong>ï¼šä¾èµ–æ³¨å…¥ + æŠ½è±¡æ¥å£ï¼Œä¾¿äºå•å…ƒæµ‹è¯•å’Œ Mock</li>
<li><strong>å¥å£®æ€§é«˜</strong>ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†ã€è‡ªåŠ¨é‡è¯•ã€Token åˆ·æ–°æœºåˆ¶</li>
</ul>
<blockquote>
<p><strong>å…³é”®å»ºè®®</strong>ï¼š</p>
<ul>
<li>æ ¹æ®é¡¹ç›®è§„æ¨¡é€‰æ‹©åˆé€‚çš„æŠ½è±¡å±‚çº§ï¼ˆå°é¡¹ç›®å¯ç®€åŒ– Repository å±‚ï¼‰</li>
<li>åˆç†ä½¿ç”¨æ‹¦æˆªå™¨è¿›è¡Œæ—¥å¿—ã€é‰´æƒã€é”™è¯¯å¤„ç†</li>
<li>ç»“åˆ Riverpod å®ç°çŠ¶æ€é©±åŠ¨ UI æ›´æ–°</li>
<li>å–„ç”¨ <code>json_serializable</code> å‡å°‘æ¨¡æ¿ä»£ç </li>
<li>å§‹ç»ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒï¼šåŠ è½½ã€é”™è¯¯ã€é‡è¯•ã€ç¦»çº¿æ”¯æŒ</li>
</ul>
</blockquote>
<p>æ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Flutter åº”ç”¨ï¼Œä»è®¾è®¡å¥½ç½‘ç»œå±‚å¼€å§‹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7574041466709377067</link>    <guid>https://juejin.cn/post/7574041466709377067</guid>    <pubDate>2025-11-19T03:53:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7574041466709377067" data-draft-id="7574020645862326323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-19T03:53:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å®‰å“è“ç‰™Vincent"/> <meta itemprop="url" content="https://juejin.cn/user/2367661345624539"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidå¤šSDKåˆå¹¶ä¸ºå•ä¸ªJARåŒ…çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2367661345624539/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å®‰å“è“ç‰™Vincent
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T03:53:59.000Z" title="Wed Nov 19 2025 03:53:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç—›ç‚¹</h3>
<ul>
<li><strong>å¤š SDK åˆ†æ•£</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—å•ç‹¬æä¾› JARï¼Œç”¨æˆ·éœ€è¦é€ä¸€é›†æˆå’Œç®¡ç†</li>
<li><strong>è°ƒç”¨å¤æ‚</strong>ï¼šä¸åŒæ¨¡å—é—´å­˜åœ¨ä¾èµ–å’ŒåŒ…åå†²çªï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸æ–¹ä¾¿</li>
<li><strong>å‡çº§ç»´æŠ¤å›°éš¾</strong>ï¼šæ¯æ¬¡æ›´æ–°éƒ½è¦åŒæ­¥å¤šä¸ª JARï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<h2 data-id="heading-1">ä¸€ã€æ ¸å¿ƒåŸç†</h2>
<h3 data-id="heading-2">1.1 æœ€æ¨èçš„æ–¹æ¡ˆï¼šæºç åˆå¹¶ + ä¸‹å±‚åº“ä½œä¸ºâ€œæºç ç›®å½•â€åŠ å…¥</h3>
<p>å¤š SDK åˆå¹¶æ—¶ï¼Œæœ€ç»ˆæœ‰æ•ˆçš„æ„å»ºç¯å¢ƒåªæœ‰é¡¶å±‚ SDKï¼Œå› æ­¤æœ€ç¨³å®šçš„æ–¹å¼æ˜¯ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æºç åˆå¹¶ï¼ˆsourceSetsï¼‰  
<span class="hljs-addition">+ ç§»é™¤æ¨¡å—ä¾èµ–  </span>
<span class="hljs-addition">+ å°†ä¸‹å±‚ SDK ä½œä¸ºæºç ç›®å½•å¼•å…¥ï¼ˆè€Œä¸æ˜¯ moduleï¼‰</span>
</code></pre>
<p>Android Studio ä¼šæŠŠä¸‹å±‚ SDK å½“æˆæ™®é€šæºç ï¼Œè‡ªç„¶ä¸ä¼šçˆ†çº¢ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘ module ä¾èµ–çš„å¤æ‚æœºåˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆä¸èƒ½ç»§ç»­ä½¿ç”¨ module ä¾èµ–ï¼Ÿ</h3>
<pre><code class="hljs language-java" lang="java">dependencies {
    api <span class="hljs-title function_">project</span><span class="hljs-params">(<span class="hljs-string">':sdk-core-lib'</span>)</span>  <span class="hljs-comment">// âŒ ä¸æ¨è</span>
}
</code></pre>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>AAR/JAR è¾“å‡ºä¸ä¸€å®šåŒ…å«æ‰€æœ‰ä¾èµ–æ¨¡å—ä»£ç </li>
<li>éœ€è¦é¢å¤–å¤„ç†ä¼ é€’ä¾èµ–</li>
<li>fat-aar æ’ä»¶åœ¨ Gradle 8+ å…¼å®¹æ€§å·®</li>
<li>æ¨¡å—ä¹‹é—´ BuildConfigã€Manifestã€èµ„æºåˆå¹¶å®¹æ˜“å†²çª</li>
<li><strong>æœ€é‡è¦ï¼šmodule ä¾èµ–è®©ä¸‹å±‚ SDK çš„ build.gradle ç»§ç»­ç”Ÿæ•ˆï¼ˆä¼šå¯¼è‡´æ··æ·†ç­‰é…ç½®éš¾ä»¥ç»Ÿä¸€ç®¡ç†ï¼‰</strong></li>
</ul>
<hr/>
<h3 data-id="heading-4">1.3 æœ€å…³é”®çš„ä¼˜åŒ–ï¼šç”¨ sourceSets æŠŠä¸‹å±‚ SDK å½“æˆâ€œæºç ç›®å½•â€</h3>
<p>æ¯”ç›´æ¥å¤åˆ¶ä»£ç æ›´å¹²å‡€ â€”â€” ä¸‹å±‚ SDK ä¸å†æ˜¯ moduleï¼Œåªæ˜¯ä¸€ä¸ªæºç ç›®å½•ã€‚</p>
<pre><code class="hljs language-css" lang="css">android {
    sourceSets {
        <span class="hljs-selector-tag">main</span> {
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/java'</span>]</span>
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Base/src/main/java'</span>]</span>
            res<span class="hljs-selector-class">.srcDirs</span>  += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/res'</span>]</span>
            res<span class="hljs-selector-class">.srcDirs</span>  += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Base/src/main/res'</span>]</span>
        }
    }
}
</code></pre>
<p>åŒæ—¶ä» <code>settings.gradle</code> ä¸­åˆ é™¤ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">include</span> <span class="hljs-string">':SDK_Core'</span>
<span class="hljs-keyword">include</span> <span class="hljs-string">':SDK_Base'</span>
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>Android Studio èƒ½è¯†åˆ«æºç ï¼Œä¸å†çˆ†çº¢ï¼ˆä½ é‡åˆ°çš„é—®é¢˜çš„æ ¸å¿ƒåŸå› ï¼‰</li>
<li>ä¸å†æœ‰ Gradle module å¸¦æ¥çš„ä¾èµ–é€»è¾‘</li>
<li>å®Œå…¨ç”±é¡¶å±‚ SDK çš„ build.gradle å†³å®šæœ€ç»ˆäº§ç‰©</li>
<li>æºç å…±äº«æ›´å¹²å‡€ï¼Œä¸éœ€è¦å¤åˆ¶</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸å†èƒ½äº«å— Gradle dependency graphï¼ˆå› ä¸ºä¸æ˜¯ moduleï¼‰</li>
<li>æ— æ³•å•ç‹¬ç¼–è¯‘ä¸‹å±‚ SDKï¼ˆä½†é€šç”¨ SDK å¼€å‘é€šå¸¸ä¸éœ€è¦ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">äºŒã€é€‚ç”¨æ¶æ„ä¸åˆå¹¶ç­–ç•¥</h2>
<p>ä»¥å…¸å‹ç»“æ„ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs">SDK_Standardï¼ˆå¯¹å®¢æˆ·çš„æœ€ç»ˆè¾“å‡ºï¼‰
 â”œâ”€â”€ SDK_Core
 â”‚     â””â”€â”€ SDK_Base
</code></pre>
<p>æ‰€æœ‰å·®å¼‚åŒ–åŠŸèƒ½ç”±é¡¶å±‚ SDKï¼ˆStandard / Custom_A / Custom_Bï¼‰å†³å®šã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒè§„åˆ™ï¼ˆâ­ æé‡è¦ï¼‰</h2>
<h3 data-id="heading-7">è§„åˆ™ 1ï¼šæ‰€æœ‰ä¸‹å±‚ SDK å¿…é¡»ä½œä¸ºæºç ç›®å½•å­˜åœ¨</h3>
<p>âŒ ä¸è¦æ˜¯ module<br/>
âŒ ä¸è¦ä½¿ç”¨ä¾èµ–<br/>
âœ” ä½¿ç”¨ sourceSets ç›´æ¥å¼•ç”¨æºç ç›®å½•ï¼ˆä¸ä¼šçˆ†çº¢ï¼‰</p>
<hr/>
<h3 data-id="heading-8">è§„åˆ™ 2ï¼šåªæœ‰é¡¶å±‚ SDK çš„ build.gradle ç”Ÿæ•ˆ</h3>
<p>ä¸‹å±‚çš„ build.gradle å®Œå…¨æ— æ•ˆï¼ˆå› ä¸ºä¸å†æ˜¯ moduleï¼‰ã€‚</p>
<p>å¤±æ•ˆå†…å®¹ï¼š</p>
<ul>
<li>dependencies</li>
<li>buildConfigField</li>
<li>proguard-rules.pro</li>
<li>manifestPlaceholders</li>
</ul>
<p>å…¨éƒ¨è¿ç§»åˆ°é¡¶å±‚ã€‚</p>
<hr/>
<h3 data-id="heading-9">è§„åˆ™ 3ï¼šèµ„æºæ–‡ä»¶è‡ªåŠ¨åˆå¹¶ï¼Œä½†å¿…é¡»é¿å…å†²çª</h3>
<p>å»ºè®®å‘½åè§„èŒƒï¼š</p>





















<table><thead><tr><th>SDK</th><th>å‰ç¼€</th></tr></thead><tbody><tr><td>SDK_Base</td><td>base_</td></tr><tr><td>SDK_Core</td><td>core_</td></tr><tr><td>SDK_Standard</td><td>standard_</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">è§„åˆ™ 4ï¼šé¿å…åŒ…åå†²çª</h3>
<p>ä¸‹å±‚ SDK å¿…é¡»ç‹¬ç«‹åŒ…ç›®å½•ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">com.company.<span class="hljs-keyword">base</span>.**
com.company.core.**
com.company.sdk.standard.**
</code></pre>
<hr/>
<h2 data-id="heading-11">å››ã€å®Œæ•´å®ç°æ­¥éª¤</h2>
<hr/>
<h3 data-id="heading-12">4.1 é¡¶å±‚ build.gradleï¼ˆå”¯ä¸€æœ‰æ•ˆï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">android {
    <span class="hljs-keyword">namespace</span> <span class="hljs-string">'com.company.sdk.standard'</span>
    compileSdk <span class="hljs-number">34</span>

    defaultConfig {
        minSdk <span class="hljs-number">21</span>
        targetSdk <span class="hljs-number">34</span>
    }

    sourceSets {
        main {
            <span class="hljs-comment">// æºç åˆå¹¶</span>
            java.srcDir <span class="hljs-string">'../SDK_Core/src/main/java'</span>
            java.srcDir <span class="hljs-string">'../SDK_Base/src/main/java'</span>

            <span class="hljs-comment">// èµ„æºåˆå¹¶ï¼ˆå¦‚éœ€è¦ï¼‰</span>
            res.srcDir <span class="hljs-string">'../SDK_Core/src/main/res'</span>
            res.srcDir <span class="hljs-string">'../SDK_Base/src/main/res'</span>
        }
    }

    buildTypes {
        release {
            <span class="hljs-function">minifyEnabled <span class="hljs-literal">true</span>
            proguardFiles <span class="hljs-title">getDefaultProguardFile</span><span class="hljs-params">(<span class="hljs-string">'proguard-android-optimize.txt'</span>)</span>,
                         'proguard-rules.pro'
        }
    }
}
</span></code></pre>
<hr/>
<h3 data-id="heading-13">4.2 è¿ç§»æ‰€æœ‰ä¾èµ–åˆ°é¡¶å±‚</h3>
<pre><code class="hljs language-arduino" lang="arduino">dependencies {
    <span class="hljs-comment">// æ¥è‡ª Core</span>
    implementation <span class="hljs-string">'androidx.core:core-ktx:1.12.0'</span>

    <span class="hljs-comment">// æ¥è‡ª Base</span>
    implementation <span class="hljs-string">'com.google.code.gson:gson:2.10.1'</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-14">4.3 BuildConfig å¤±æ•ˆé—®é¢˜ï¼ˆéå¸¸å¸¸è§ï¼‰</h3>
<p>ä¸‹å±‚ SDK ä¸å†æ˜¯ moduleï¼Œæ‰€ä»¥ä¸ä¼šç”Ÿæˆ BuildConfigã€‚</p>
<p>è§£å†³æ–¹å¼ Aï¼ˆæ¨èï¼‰<br/>
ä¿®æ”¹å¼•ç”¨è·¯å¾„ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// from</span>
<span class="hljs-keyword">import</span> com.company.sdk.core.BuildConfig;

<span class="hljs-comment">// to</span>
<span class="hljs-keyword">import</span> com.company.sdk.standard.BuildConfig;
</code></pre>
<p>è§£å†³æ–¹å¼ Bï¼ˆæ— éœ€æ”¹æºç ï¼‰<br/>
æ‰‹åŠ¨åˆ›å»ºå¯¹åº” BuildConfigï¼š</p>
<pre><code class="hljs language-css" lang="css">SDK_Standard/<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/java/com/company/sdk/core/BuildConfig<span class="hljs-selector-class">.java</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">4.4 æ··æ·†è§„åˆ™åˆå¹¶ï¼ˆæ”¾åœ¨é¡¶å±‚ï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># Base</span>
-keep <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.base</span>.** { *; }

<span class="hljs-meta"># Core</span>
-keep <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.core</span>.** { *; }

<span class="hljs-meta"># é¡¶å±‚å¯¹å¤–æ¥å£</span>
-keep <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">com.company.sdk.MTTagBleManager</span> { *; }
</code></pre>
<hr/>
<h3 data-id="heading-16">4.5 æœ€ç»ˆç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">SDK_Standard/
 â”œâ”€â”€ build.gradleï¼ˆå”¯ä¸€æœ‰æ•ˆï¼‰
 â”œâ”€â”€ proguard-rules.pro
 â””â”€â”€ src/main/java/
       â”œâ”€â”€ com/company/sdk/standard/...
       â”œâ”€â”€ com/company/core/...     â† via sourceSets
       â””â”€â”€ com/company/base/...     â† via sourceSets
</code></pre>
<hr/>
<h2 data-id="heading-17">äº”ã€ä¸ºä»€ä¹ˆä¹‹å‰ä»£ç ä¼šçˆ†çº¢ï¼Ÿ</h2>
<p>å› ä¸ºï¼š</p>
<ul>
<li>ä½ åˆ æ‰ settings.gradle é‡Œçš„ include</li>
<li>ä½†æ²¡æœ‰æŠŠ SDK_Core / SDK_Base ä½œä¸º sourceSets æ‰‹åŠ¨åŠ å…¥</li>
<li>Android Studio ä¸çŸ¥é“è¿™äº›ç›®å½•æ˜¯æºç ç›®å½•</li>
<li>æ‰€ä»¥çˆ†çº¢ï¼ˆæ‰¾ä¸åˆ°ç±»ï¼‰</li>
</ul>
<p>åªè¦åŠ ä¸Šè¿™ä¸ªï¼š</p>
<h3 data-id="heading-18">æ ¸å¿ƒç—›ç‚¹</h3>
<ul>
<li><strong>å¤š SDK åˆ†æ•£</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—å•ç‹¬æä¾› JARï¼Œç”¨æˆ·éœ€è¦é€ä¸€é›†æˆå’Œç®¡ç†</li>
<li><strong>è°ƒç”¨å¤æ‚</strong>ï¼šä¸åŒæ¨¡å—é—´å­˜åœ¨ä¾èµ–å’ŒåŒ…åå†²çªï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸æ–¹ä¾¿</li>
<li><strong>å‡çº§ç»´æŠ¤å›°éš¾</strong>ï¼šæ¯æ¬¡æ›´æ–°éƒ½è¦åŒæ­¥å¤šä¸ª JARï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<pre><code class="hljs language-css" lang="css">android {
    sourceSets {
        <span class="hljs-selector-tag">main</span> {
            java<span class="hljs-selector-class">.srcDirs</span> += <span class="hljs-selector-attr">[<span class="hljs-string">'../SDK_Core/src/main/java'</span>]</span>
        }
    }
}
</code></pre>
<p>å³æ—¶æ¢å¤æ­£å¸¸ã€‚</p>
<p>è¿™æ˜¯ä½ ç›®å‰é—®é¢˜çš„æ ¹æºï¼Œå¹¶ä¸”å·²ç»å½»åº•è§£å†³ã€‚</p>
<hr/>
<h2 data-id="heading-19">å…­ã€æ€»ç»“</h2>





























<table><thead><tr><th>èƒ½åŠ›</th><th>ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨æºç ç›®å½•æ–¹å¼</th></tr></thead><tbody><tr><td>ä¸çˆ†çº¢</td><td>Android Studio èƒ½è¯†åˆ«æºç </td></tr><tr><td>æ‰“åŒ…ç¨³å®š</td><td>æ‰€æœ‰ä»£ç ç”±é¡¶å±‚ç»Ÿä¸€æ„å»º</td></tr><tr><td>æ··æ·†ç»Ÿä¸€</td><td>é¿å…å¤š module å†²çª</td></tr><tr><td>å®Œå…¨æ§åˆ¶</td><td>ä¸å†å— module çš„ build.gradle å¹²æ‰°</td></tr><tr><td>å¹²å‡€</td><td>ä¸éœ€è¦å¤åˆ¶æºç </td></tr></tbody></table>
<p>æœ€ç»ˆè¾“å‡ºï¼š</p>
<ul>
<li>å• AAR / å• JAR</li>
<li>å®Œæ•´åŒ…å« Base + Core + Standard çš„å…¨éƒ¨ä»£ç </li>
<li>æ— ä¾èµ–é—®é¢˜</li>
<li>å®Œæ•´å…¼å®¹ Gradle 8+</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7573972055268720678</link>    <guid>https://juejin.cn/post/7573972055268720678</guid>    <pubDate>2025-11-19T02:48:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573972055268720678" data-draft-id="7573896789365833766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-11-19T02:48:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS å¯¹è±¡ï¼šä» â€œæ•£è£…â€ åˆ° â€œç²¾è£…â€ çš„æ™‹çº§ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-19T02:48:05.000Z" title="Wed Nov 19 2025 02:48:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨é˜…è¯»å‰å…ˆè§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å•¥æ˜¯å¯¹è±¡ï¼Ÿè¯´ç™½äº†ï¼ŒJS é‡Œçš„ â€œå¯¹è±¡â€ å°±æ˜¯ä¸ª â€œä¸‡èƒ½æ”¶çº³ç®±â€â€”â€” ä¸ç®¡æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²è¿™äº›é›¶æ•£æ•°æ®ï¼Œè¿˜æ˜¯èƒ½å¹²æ´»çš„æ–¹æ³•ï¼Œéƒ½èƒ½å¾€é‡Œé¢å¡ï¼ŒæŠŠæ‚ä¹±çš„ä¿¡æ¯è§„æ•´å¾—æ˜æ˜ç™½ç™½ã€‚è€Œæ”¯æ’‘è¿™ä¸ª â€œæ”¶çº³ç®±ä½“ç³»â€ çš„ï¼Œä¸€è¾¹æ˜¯åƒ â€œå­¤å®¶å¯¡äººâ€ ä¼¼çš„<strong>åŸå§‹ç±»å‹</strong>ï¼ˆstringã€numberã€booleanã€undefinedã€nullã€Symbolã€bigIntï¼‰ï¼Œå®ƒä»¬å•æ‰“ç‹¬æ–—ï¼Œä¸èƒ½æŒ‚é¢å¤–å±æ€§ï¼›å¦ä¸€è¾¹æ˜¯çƒ­çƒ­é—¹é—¹çš„<strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆä¹Ÿå°±æ˜¯å¯¹è±¡å®¶æ—ï¼‰ï¼Œå®ƒä»¬æ˜¯ â€œç¾¤å±…é€‰æ‰‹â€ï¼Œèƒ½è£…èƒ½å­˜è¿˜èƒ½æ‰©å±•ã€‚</p>
<p>ä»Šå¤©å’±å°±æ¥æ‰’ä¸€æ‰’è¿™ä¸ª â€œæ”¶çº³ç®±â€ æ˜¯å’‹é€ å‡ºæ¥çš„ã€èƒŒåæœ‰å•¥éšè—æ“ä½œã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¯¹è±¡çš„ â€œè¯ç”Ÿè®°â€ï¼šä¸‰ç§åˆ›å»ºæ–¹æ³•</h3>
<p>æƒ³è¦æ‹¥æœ‰ä¸€ä¸ªå¯¹è±¡ï¼ŒJS ç»™äº†ä½ ä¸‰ç§ <strong>å¬å”¤æœ¯</strong>ï¼š</p>
<h4 data-id="heading-2">1. å¯¹è±¡å­—é¢é‡ï¼šâ€œæˆ‘æ‡’æˆ‘éª„å‚²â€</h4>
<p>å°±åƒæˆ‘ä»¬ç‚¹å¤–å–ç›´æ¥é€‰å¥—é¤ï¼Œå¯¹è±¡å­—é¢é‡æ˜¯æœ€ç›´æ¥çš„åˆ›å»ºæ–¹å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">const obj = {
    <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span>
}ï¼›
</code></pre>
<p>ä½ è‚¯å®šä¼šè¯´ï¼šä»€ä¹ˆï¼Ÿå°±è¿™ä¸€ç‚¹ä»£ç ï¼Ÿå¯¹ï¼Œå°±è¿™ä¸€ç‚¹ï¼Œå¯¹è±¡å°±åˆ°æ‰‹äº†ï¼</p>
<h4 data-id="heading-3">2. new Object ()ï¼šâ€œèµ°æµç¨‹ï¼Œå’±æ­£è§„â€</h4>
<p>å¦‚æœä½ æ˜¯ä¸ª â€œæµç¨‹æ§â€ï¼Œå¯ä»¥ç”¨æ„é€ å‡½æ•°æ­£å„¿å…«ç»åˆ›å»ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">obj</span> = new Object()<span class="hljs-comment">; // æ„é€ å‡½æ•°</span>
<span class="hljs-attr">obj.name</span> = <span class="hljs-string">'henry'</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">abc</span> = <span class="hljs-string">'age'</span><span class="hljs-comment">;</span>
obj<span class="hljs-section">[abc]</span> = 18<span class="hljs-comment">;   // åˆ é™¤</span>

delete obj<span class="hljs-section">[abc]</span><span class="hljs-comment">;</span>
console.log(obj)<span class="hljs-comment">;</span>
</code></pre>
<p>æ‰“å°ç»“æœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/917b3f2c7c5945c695ad4ea73cd643aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=9%2BZ9hphXeISuc1%2F0Y4NXj9G9bWU%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç§æ–¹æ³•ä¹Ÿå¯è¡Œï¼Œéå¸¸æ­£è§„ï¼Œèµï¼</p>
<h4 data-id="heading-4">3. new è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼šâ€œæ‰¹é‡ç”Ÿäº§ï¼Œæ•ˆç‡ç‹è€…â€</h4>
<p>å½“ä½ éœ€è¦ â€œå¤åˆ¶ç²˜è´´â€ å¼åˆ›å»ºä¸€å †ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°å°±æ˜¯ä½ çš„ â€œç”Ÿäº§æµæ°´çº¿â€ï¼æ¯”å¦‚æˆ‘ä»¬é€ ä¸ª<code>Person</code>æ„é€ å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {

}
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4a2bc9e446a4931b6196a27c293bbc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=CWGK0BP56LkdEuBoDtTOok%2FxlW4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">äºŒã€æ„é€ å‡½æ•°ï¼šâ€œæ‰¹é‡é€ å¯¹è±¡çš„é»‘ä½œåŠâ€</h3>
<p>æ„é€ å‡½æ•°å°±åƒä¸ª â€œå¯¹è±¡å·¥å‚â€ï¼Œ<strong>è¢« new è°ƒç”¨æ—¶æ‰ç®—æ˜¯çœŸæ­£çš„æ„é€ å‡½æ•°</strong>ã€‚å½“ä½ éœ€è¦æ‰¹é‡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå®ƒå°±æ˜¯ä½ çš„ â€œæ•ˆç‡ç¥å™¨â€ï¼</p>
<p>å…¶ä¸­æ€»å…±æœ‰2ç§æ–¹æ³•ï¼Œæˆ‘ç§°ä¹‹ä¸º<strong>æ‰‹å·¥å°ä½œåŠ</strong> å’Œ <strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>ã€‚</p>
<p>ä½ ä»¬æœ€å–œæ¬¢çš„ä»£ç ç¯èŠ‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‰‹å·¥å°ä½œåŠï¼šæ¯æ¬¡é€ å¯¹è±¡éƒ½å¾—é‡å¤å†™</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Insert</span>(<span class="hljs-params">name, age, job</span>) {
    <span class="hljs-keyword">const</span> obj = {
        <span class="hljs-attr">name</span>: name,
        <span class="hljs-attr">age</span>: age,
        <span class="hljs-attr">job</span>: job
    }
    <span class="hljs-keyword">return</span> obj;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Insert</span>(<span class="hljs-string">'henry'</span>,<span class="hljs-number">19</span>,<span class="hljs-string">'coder'</span>));
</code></pre>
<p>ç»“æœä¹Ÿæ­£ç¡®çš„æ‰“å°å‡ºäº†æˆ‘ä»¬èµ‹çš„å€¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b66e3a35c0cd45b7a193205626dd6276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=J71inPS0Kd2wHd4Wwdf37LMrXrA%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯è¿™ç§å†™æ³•å°±æœ‰ä¸€ä¸ª<strong>ç¼ºç‚¹</strong>ï¼æˆ‘åªæ˜¯ç»™äº†ä¸€ç»„æ•°æ®è¾“å‡ºç»“æœï¼Œé‚£å¦‚æœæ˜¯10ä¸ªå‘¢ï¼Œ100ä¸ªå‘¢ï¼Ÿç”šè‡³æ˜¯è€æ¿è®©ä½ æŠŠå…¨å…¬å¸äººçš„ä¿¡æ¯è¾“å…¥è¿›å»å‘¢ï¼Ÿéš¾é“ä½ ä¸€ä¸ªä¸€ä¸ªå»<code>console.log</code>ï¼Ÿæ˜¾ç„¶åœ¨åºå¤§çš„æ•°æ®ä¸‹è¿™ç§è‚¯å®šæ˜¯ä¸æ¨èçš„ï¼Œé‚£å°±æœ‰è¯·å¦å¤–ä¸€ä½--<strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>é—ªäº®ç™»åœºï¼</p>
<pre><code class="hljs language-ini" lang="ini">// è‡ªåŠ¨åŒ–å·¥å‚ï¼šnewä¸€ä¸‹ï¼Œå¯¹è±¡è‡ªåŠ¨é€ å¥½
function Car(color) {
    <span class="hljs-attr">this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.height</span> = <span class="hljs-string">'1400'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.long</span> = <span class="hljs-string">'4800'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.weight</span> = <span class="hljs-string">'1500'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.color</span> = color<span class="hljs-comment">;</span>
}
const <span class="hljs-attr">car1</span> = new Car(<span class="hljs-string">'purple'</span>)<span class="hljs-comment">; // å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span>
console.log(car1)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bf93326dc884f3ea276ee1ff06669c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=YXniLwq4pQC6ekRd8GgL6w6mgqI%3D" alt="image.png" loading="lazy"/></p>
<p>æ‹¿ä»£ç ä¸­çš„å°ç±³su7ä¸¾ä¾‹å­ï¼š</p>
<p>å¦‚æœé›·æ€»æƒ³è®©ä½ æ‰¹é‡ç”Ÿäº§su7ï¼Œä½ å¦‚æœç”¨<strong>æ‰‹å·¥å°ä½œåŠ</strong> çš„æ–¹æ³•ï¼Œé‚£å¾—å¤šå°‘è¡Œä»£ç å•Šï¼æ¯è¾†è½¦çš„å‹å·ä¿¡æ¯éƒ½å¾—é‡å¤è¾“å…¥ï¼Œæ•ˆç‡ä½çš„æ²¡çœ¼çœ‹ã€‚é‚£ä¹ˆæ€ä¹ˆå»è§£å†³å‘¢ï¼Ÿç®€å•ï¼ä½ å¾ˆå¿«å°±å‘ç°ï¼Œæ¯è¾†è½¦å®ƒçš„é•¿åº¦å•Šï¼Œé«˜åº¦å•Šï¼Œé‡é‡å•Šç­‰ç­‰éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ²¡å¿…è¦å»é‡å¤è¾“å…¥ï¼Œåªæœ‰é¢œè‰²ä¸ä¸€æ ·è€Œå·²ï¼Œæ‰€ä»¥ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬æœ‰è¯·<strong>this</strong>å¸¦æ¥å®ƒçš„<strong>è‡ªåŠ¨åŒ–å·¥å‚</strong>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">function Car(color) {
    <span class="hljs-attr">this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.height</span> = <span class="hljs-string">'1400'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.long</span> = <span class="hljs-string">'4800'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.weight</span> = <span class="hljs-string">'1500'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.color</span> = color<span class="hljs-comment">;</span>
}
const <span class="hljs-attr">car1</span> = new Car(<span class="hljs-string">'purple'</span>)<span class="hljs-comment">; </span>
console.log(car1)<span class="hljs-comment">;</span>
const <span class="hljs-attr">car2</span> = new Car(<span class="hljs-string">'blue'</span>)<span class="hljs-comment">;</span>
console.log(car2)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8e989682718472793a3f6acfe04aaae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=Flnhsq2S6HdEAiV35lYXy9zRqxY%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æ­¤è¿™èˆ¬ï¼Œæˆ‘ä»¬åªéœ€ä¼ è¾“æ¯è¾†è½¦ä¸åŒçš„æ•°æ®ï¼ˆæ¯”å¦‚é¢œè‰²ï¼‰ï¼Œå…¶ä»–çš„å·²ç»å›ºå®šå¥½çš„æ•°æ®æˆ‘ä»¬å°±å¯ä»¥çœç•¥ä¸å†™ï¼Œå¤§å¤§æé«˜äº†æˆ‘ä»¬æ•²ä»£ç çš„æ•ˆç‡ï¼Œå­¦åºŸäº†æ²¡ï¼Ÿ</p>
<h3 data-id="heading-6">ä¸‰ã€new å…³é”®å­—ï¼šâ€œæ„é€ å‡½æ•°çš„å¹•åBOSSâ€</h3>
<p>ä½ ä»¥ä¸º new åªæ˜¯ä¸ªå…³é”®å­—ï¼Ÿå®ƒå¯æ˜¯ â€œå¯¹è±¡è¯ç”Ÿâ€ çš„å¹•åå¯¼æ¼”ï¼å®ƒå¹²äº†ä¸‰ä»¶å¤§äº‹ï¼š</p>
<ol>
<li><strong>åˆ›å»ºä¸€ä¸ª this å¯¹è±¡</strong>ï¼šç›¸å½“äºæ­äº†ä¸ªç©ºèˆå°ï¼›</li>
<li><strong>æ‰§è¡Œæ„é€ å‡½æ•°ä»£ç </strong>ï¼šå¾€ this ä¸Šç‹‚åŠ å±æ€§æ–¹æ³•ï¼ŒæŠŠèˆå°å¸ƒç½®å¥½ï¼›</li>
<li><strong>è¿”å› this å¯¹è±¡</strong>ï¼šæŠŠå¸ƒç½®å¥½çš„èˆå°äº¤ç»™ä½ ã€‚</li>
</ol>
<p>å’±ä»¬ç”¨ä»£ç æ¨¡æ‹Ÿä¸€ä¸‹ new çš„é€»è¾‘ï¼Œä¸€ç›®äº†ç„¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function person() {
    const <span class="hljs-attr">_this</span> = {}<span class="hljs-comment">;   // ç¬¬ä¸€æ­¥ï¼šé€ ä¸ªç©ºthis</span>
    <span class="hljs-attr">_this.name</span> = <span class="hljs-string">'su7'</span><span class="hljs-comment">; // ç¬¬äºŒæ­¥ï¼šå¾€thisä¸ŠåŠ ä¸œè¥¿</span>
    <span class="hljs-attr">_this.color</span> = <span class="hljs-string">'green'</span><span class="hljs-comment">;</span>
    return _this<span class="hljs-comment">;       // ç¬¬ä¸‰æ­¥ï¼šè¿”å›this</span>
    const <span class="hljs-attr">obj</span> = person()<span class="hljs-comment">;</span>
    console.log(obj)<span class="hljs-comment">;   // çœ‹çœ‹å®åŠ›</span>
}
</code></pre>
<p>çœ‹çœ‹å¯¼æ¼”çš„æˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d963be30aed744ac859c72ee420a874a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=h3FPGuBeISsdYNd7%2FF5GcF0qMuA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>this</strong>å·²ç»è¢«å®˜æ–¹å¾ç”¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œåªæ˜¯ç”¨_thisæ¨¡æ‹Ÿthisçš„å¯¹è±¡ï¼Œå¤§å®¶ä¸è¦ææ··äº†å“ˆï¼</p>
<h3 data-id="heading-7">å››ã€åŒ…è£…ç±»ï¼šâ€œåŸå§‹ç±»å‹çš„éšè—é©¬ç”²â€</h3>
<p>ä¾æ—§å…ˆä¸Šä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">str</span> = <span class="hljs-string">'hello'</span><span class="hljs-comment">; </span>
console.log(str.length)<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6c670766a6b4d8c9895493fb8cd34b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=Mu3tvqEwU52Dk9%2BADMN%2F%2F32Sqe8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å°è¾“å‡ºçš„ç»“æœä¸º<code>5</code>ï¼Œä¸º<code>hello</code>çš„é•¿åº¦ï¼Œçœ‹ä¼¼æ²¡æœ‰é—®é¢˜ã€‚Butï¼æœ‰äººä¼šé—®ï¼šä½œè€…ä½ ä¹‹å‰ä¸æ˜¯è¯´åŸå§‹ç±»å‹ä¸æ˜¯ä¸èƒ½æœ‰å±æ€§æ–¹æ³•å—ï¼Ÿé‚£<code>str.length</code>æ˜¯å’‹æ¥çš„ï¼Ÿéšç€è´¨ç–‘å£°è¶Šæ¥è¶Šå¤§ï¼Œæˆ‘ä¹Ÿä¸å«ç³Šï¼Œè¿™å°±ä¸å¾—ä¸è®²è®²<strong>åŒ…è£…ç±»</strong>äº†ã€‚</p>
<p>JS æ˜¯ä¸ª â€œæˆç²¾â€ï¼Œå½“ä½ ç”¨åŸå§‹ç±»å‹å­—é¢é‡æ—¶ï¼Œå®ƒä¼šå·å·ç»™ä½ å¥—ä¸ª â€œåŒ…è£…å¯¹è±¡â€ çš„é©¬ç”²ï¼ˆæ¯”å¦‚<code>new String()</code>ï¼‰ï¼Œè®©åŸå§‹ç±»å‹ä¹Ÿèƒ½ä¸´æ—¶ â€œè£…â€ æˆå¯¹è±¡ç”¨ç”¨ã€‚ä½†è¿™é©¬ç”²å¾ˆ â€œè–„â€â€”â€”<strong>å‚ä¸è¿ç®—æ—¶ä¼šè‡ªåŠ¨æ‹†æˆåŸå§‹ç±»å‹ï¼Œèµ‹å€¼æ—¶è¿˜ä¼šæŠŠä¸´æ—¶åŠ çš„å±æ€§å·å·åˆ æ‰</strong>ï¼</p>
<blockquote>
<p>å…·ä½“æ¥è¯´å°±æ˜¯ï¼šå› ä¸º js æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥åªæœ‰åœ¨èµ‹å€¼è¯­å¥æ‰§è¡Œæ—¶æ‰ä¼šåˆ¤æ–­å€¼çš„ç±»å‹(typeof)ï¼Œå½“å€¼è¢«åˆ¤å®šä¸ºåŸå§‹ç±»å‹æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å°†åŒ…è£…å¯¹è±¡ä¸Šæ·»åŠ çš„å±æ€§ç§»é™¤</p>
</blockquote>
<p>æ‹¿åˆšåˆšçš„<code>hello</code>ä¸¾ä¾‹å­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">str</span> = <span class="hljs-string">'hello'</span><span class="hljs-comment">; // çœ‹ä¼¼æ˜¯åŸå§‹ç±»å‹ï¼Œå®é™…èƒŒåæ˜¯new String('hello')</span>
<span class="hljs-attr">str.length</span> = <span class="hljs-number">2</span><span class="hljs-comment">;    // è¯•å›¾ç»™å®ƒåŠ ä¸ªå±æ€§</span>
console.log(str.length)<span class="hljs-comment">;  // çŒœçŒœæ˜¯2å—ï¼Ÿä¸ï¼Œè¿˜æ˜¯5ï¼å› ä¸ºé©¬ç”²è¢«æ‹†äº†ï¼Œä¸´æ—¶å±æ€§æ²¡äº†</span>
console.log(typeof(str))<span class="hljs-comment">; // ç±»å‹è¿˜æ˜¯stringï¼Œé©¬ç”²åªæ˜¯ä¸´æ—¶ç©¿ç©¿</span>
</code></pre>
<p>ç»“æœå’Œé¢„æœŸä¸€æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79cf8d82069944a493a99c614c120e25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764125285&amp;x-signature=h6uE0ofie3oUHOR7XAkCu%2BTVtOk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>å…¶å® JS é‡Œçš„å¯¹è±¡é€»è¾‘ï¼Œæœ¬è´¨å°±æ˜¯ <strong>â€œæŠŠé›¶æ•£çš„æ•°æ®å’ŒåŠŸèƒ½æ‰“åŒ…æˆæ•´ä½“â€</strong>â€”â€” å­—é¢é‡æ˜¯ â€œéšæ‰‹åŒ…â€ï¼Œæ„é€ å‡½æ•°æ˜¯ â€œæ‰¹é‡ç”Ÿäº§çº¿â€ï¼Œnew æ˜¯ â€œç”Ÿäº§çº¿çš„æ ¸å¿ƒå¼€å…³â€ï¼Œè€ŒåŒ…è£…ç±»åˆ™æ˜¯ â€œè®©é›¶æ•£åŸå§‹å€¼ä¸´æ—¶äº«å—å¯¹è±¡å¾…é‡çš„ä¾¿æ°‘æœåŠ¡â€ã€‚</p>
<p>è¿™äº›è®¾è®¡çœ‹ä¼¼èŠ±é‡Œèƒ¡å“¨ï¼Œå®åˆ™éƒ½æ˜¯ä¸ºäº†å¹³è¡¡ â€œæ˜“ç”¨æ€§â€ å’Œ â€œä¸“ä¸šæ€§â€ï¼šæ—¢ä¸è®©æ–°æ‰‹è§‰å¾—åˆ›å»ºå¯¹è±¡å¤ªå¤æ‚ï¼Œä¹Ÿèƒ½è®©è€æ‰‹é€šè¿‡æ„é€ å‡½æ•°ã€åŒ…è£…ç±»çš„åº•å±‚é€»è¾‘ç©å‡ºèŠ±æ ·ã€‚</p>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œä¸‹æ¬¡å†å†™å¯¹è±¡ç›¸å…³ä»£ç æ—¶ï¼Œä½ ä¸å¦¨æƒ³æƒ³ï¼šæˆ‘è¿™æ˜¯åœ¨ <strong>â€œéšæ‰‹åŒ…ä¸ªå°ç‰©ä»¶â€</strong>ï¼Œè¿˜æ˜¯åœ¨ <strong>â€œå¼€ç”Ÿäº§çº¿æ‰¹é‡é€ è´§â€</strong>ï¼ŸåŸå§‹å€¼çš„ â€œé©¬ç”²â€ ä¼šä¸ä¼šåœ¨è¿ç®—æ—¶æ‰ä¸‹æ¥ï¼Ÿæƒ³é€šè¿™äº›ï¼Œä½ å°±ä¸å†æ˜¯ â€œåªä¼šç”¨å¯¹è±¡â€ çš„æ–°æ‰‹ï¼Œè€Œæ˜¯ â€œæ‡‚å¯¹è±¡åº•å±‚é€»è¾‘â€ çš„è¿›é˜¶ç©å®¶ â€”â€” æ¯•ç«Ÿ JS çš„é­…åŠ›ï¼Œå°±åœ¨äºè¿™äº›çœ‹ä¼¼ <strong>â€œåå¸¸è¯†â€</strong> å´åˆ <strong>â€œè¶…åˆç†â€</strong> çš„è®¾è®¡é‡Œé¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>