<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Pinia è¶…è¿›åŒ–ï¼ä»æ­¤ä¸éœ€è¦ Axios]]></title>    <link>https://juejin.cn/post/7605106957132873762</link>    <guid>https://juejin.cn/post/7605106957132873762</guid>    <pubDate>2026-02-11T01:41:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605106957132873762" data-draft-id="7605042079669026831" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pinia è¶…è¿›åŒ–ï¼ä»æ­¤ä¸éœ€è¦ Axios"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-02-11T01:41:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Forever7_"/> <meta itemprop="url" content="https://juejin.cn/user/3345189000195744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pinia è¶…è¿›åŒ–ï¼ä»æ­¤ä¸éœ€è¦ Axios
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3345189000195744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Forever7_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:41:33.000Z" title="Wed Feb 11 2026 01:41:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Pinia Colada è®© Vue åº”ç”¨ä¸­çš„æ•°æ®è¯·æ±‚å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚å®ƒæ„å»ºäº Pinia ä¹‹ä¸Šï¼Œå½»åº•æ¶ˆé™¤äº†æ•°æ®è¯·æ±‚å¸¦æ¥çš„æ‰€æœ‰å¤æ‚åº¦ä¸æ ·æ¿ä»£ç ã€‚å®ƒå…·å¤‡å®Œæ•´çš„ç±»å‹æ”¯æŒã€å¯æ‘‡æ ‘ä¼˜åŒ–ï¼Œå¹¶ä¸”éµå¾ªä¸ Pinia å’Œ Vue ä¸€è‡´çš„è®¾è®¡ç†å¿µï¼šç®€å•æ˜“ä¸Šæ‰‹ã€çµæ´»å¯æ‰©å±•ã€åŠŸèƒ½å¼ºå¤§ï¼Œè¿˜èƒ½å®ç°æ¸è¿›å¼æ¥å…¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32988634e77b432b9b2221c1d9bec223~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRm9yZXZlcjdf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378893&amp;x-signature=OWmMZ3j64mdzBIknbyU%2BIaVkWK0%3D" alt="640.png" loading="lazy"/></p>
<h3 data-id="heading-0">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li>âš¡ï¸ è‡ªåŠ¨ç¼“å­˜ï¼šæ™ºèƒ½å®¢æˆ·ç«¯ç¼“å­˜ï¼Œè‡ªå¸¦è¯·æ±‚å»é‡èƒ½åŠ›</li>
<li>ğŸ—„ï¸ å¼‚æ­¥çŠ¶æ€ï¼šç®€åŒ–å¼‚æ­¥çŠ¶æ€ç®¡ç†é€»è¾‘</li>
<li>ğŸ”Œ æ’ä»¶ç³»ç»Ÿï¼šåŠŸèƒ½å¼ºå¤§çš„æ’ä»¶æ‰©å±•ä½“ç³»</li>
<li>âœ¨ ä¹è§‚æ›´æ–°ï¼šæœåŠ¡ç«¯å“åº”è¿”å›å‰å³å¯æ›´æ–° UI</li>
<li>ğŸ’¡ åˆç†é»˜è®¤é…ç½®ï¼šå¼€ç®±å³ç”¨ï¼ŒåŒæ—¶ä¿æŒå…¨é‡å¯é…ç½®æ€§</li>
<li>ğŸ§© å†…ç½®æ’ä»¶ï¼šè‡ªåŠ¨é‡æ–°è¯·æ±‚ã€åŠ è½½å»¶è¿Ÿç­‰åŠŸèƒ½ä¸€é”®å¯ç”¨</li>
<li>ğŸ“š ç±»å‹è„šæœ¬æ”¯æŒï¼šä¸šç•Œé¢†å…ˆçš„ TypeScript ç±»å‹ä½“éªŒ</li>
<li>
<ul>
<li>ğŸ’¨ æå°åŒ…ä½“ç§¯ï¼šåŸºç¡€æ ¸å¿ƒä»…çº¦ 2kbï¼Œä¸”å®Œå…¨æ”¯æŒæ‘‡æ ‘ä¼˜åŒ–</li>
</ul>
</li>
<li>ğŸ“¦ é›¶å¤–éƒ¨ä¾èµ–ï¼šé™¤ Pinia å¤–æ— ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–</li>
<li>âš™ï¸ æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼šåŸç”Ÿæ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“</li>
</ul>
<blockquote>
<p>ğŸ“ æ³¨æ„ï¼šPinia Colada å§‹ç»ˆè‡´åŠ›äºæŒç»­æ”¹è¿›å’Œæ¼”è¿›ã€‚æˆ‘ä»¬éå¸¸æ¬¢è¿å¤§å®¶é’ˆå¯¹ç°æœ‰åŠŸèƒ½æˆ–æ–°åŠŸèƒ½æ–¹å‘æä¾›åé¦ˆï¼åŒæ—¶ä¹Ÿé«˜åº¦èµèµå¯¹æ–‡æ¡£ã€Issueã€PRï¼ˆä»£ç åˆå¹¶è¯·æ±‚ï¼‰çš„è´¡çŒ®ã€‚</p>
</blockquote>
<p>å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">npm install pinia @pinia/colada
</code></pre>
<p>å®‰è£…ä½ æ‰€éœ€åŠŸèƒ½å¯¹åº”çš„æ’ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â { createPinia }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'pinia'</span>  
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">PiniaColada</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@pinia/colada'</span>  
  
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())  
<span class="hljs-comment">// éœ€åœ¨ Pinia ä¹‹åå®‰è£…  </span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">PiniaColada</span>, {  
Â Â <span class="hljs-comment">// å¯é€‰é…ç½®é¡¹  </span>
})
</code></pre>
<h3 data-id="heading-1">ä½¿ç”¨æ–¹å¼</h3>
<p>Pinia Colada çš„æ ¸å¿ƒæ˜¯Â <code>useQuery</code>Â å’ŒÂ <code>useMutation</code>Â ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºæ•°æ®æŸ¥è¯¢å’Œæ•°æ®å†™å…¥ã€‚ä»¥ä¸‹æ˜¯ç®€å•ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">  
<span class="hljs-keyword">import</span> { useRoute } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>  
<span class="hljs-keyword">import</span> { useMutation, useQuery, useQueryCache } <span class="hljs-keyword">from</span> <span class="hljs-string">'@pinia/colada'</span>  
<span class="hljs-keyword">import</span> { patchContact, getContactById } <span class="hljs-keyword">from</span> <span class="hljs-string">'~/api/contacts'</span>  
  
<span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>()  
<span class="hljs-keyword">const</span> queryCache = <span class="hljs-title function_">useQueryCache</span>()  
  
<span class="hljs-comment">// æ•°æ®æŸ¥è¯¢  </span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: contact, isPending } = <span class="hljs-title function_">useQuery</span>({  
Â  <span class="hljs-comment">// ç¼“å­˜ä¸­è¯¥æŸ¥è¯¢çš„å”¯ä¸€æ ‡è¯†  </span>
Â  <span class="hljs-attr">key</span>: <span class="hljs-function">() =&gt;</span> [<span class="hljs-string">'contacts'</span>, route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>],  
Â  <span class="hljs-comment">// å®é™…æ‰§è¡Œçš„æŸ¥è¯¢é€»è¾‘  </span>
Â  <span class="hljs-attr">query</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">getContactById</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>),  
})  
  
<span class="hljs-comment">// æ•°æ®å˜æ›´  </span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">mutate</span>: updateContact, isLoading } = <span class="hljs-title function_">useMutation</span>({  
Â  <span class="hljs-comment">// å®é™…æ‰§è¡Œçš„å˜æ›´é€»è¾‘  </span>
Â  <span class="hljs-attr">mutation</span>: patchContact,  
Â  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onSettled</span>(<span class="hljs-params">{ id }</span>) {  
Â  Â  <span class="hljs-comment">// ä½¿ä¸Šè¿°æŸ¥è¯¢å¤±æ•ˆï¼Œè§¦å‘æ•°æ®é‡æ–°è¯·æ±‚  </span>
Â  Â  <span class="hljs-keyword">await</span> queryCache.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">key</span>: [<span class="hljs-string">'contacts'</span>, id], <span class="hljs-attr">exact</span>: <span class="hljs-literal">true</span> })  
Â  },  
})  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  
  
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>  
Â  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>  
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"isPending"</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">ContactCard</span>  
Â  Â  Â  <span class="hljs-attr">v-else</span>  
Â  Â  Â  <span class="hljs-attr">:key</span>=<span class="hljs-string">"contact.id"</span>  
Â  Â  Â  <span class="hljs-attr">:contact</span>=<span class="hljs-string">"contact"</span>  
Â  Â  Â  <span class="hljs-attr">:is-updating</span>=<span class="hljs-string">"isLoading"</span>  
Â  Â  Â  @<span class="hljs-attr">update:contact</span>=<span class="hljs-string">"updateContact"</span>  
Â  Â  /&gt;</span>  
Â  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æƒ³äº†è§£æ›´å¤šæ ¸å¿ƒæ¦‚å¿µåŠä½¿ç”¨æ–¹å¼ï¼Œè¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fpinia-colada.esm.dev%2F" target="_blank" title="https://pinia-colada.esm.dev/" ref="nofollow noopener noreferrer">pinia-colada.esm.dev/</a></p>
<blockquote>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€é”®ç”Ÿæˆä¸“ä¸š README: æ¨¡æ¿ + badges + shields.io + åŠ¨æ€å†…å®¹ï¼ˆbadgesã€visitors countï¼‰]]></title>    <link>https://juejin.cn/post/7604846849465024564</link>    <guid>https://juejin.cn/post/7604846849465024564</guid>    <pubDate>2026-02-11T01:33:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604846849465024564" data-draft-id="7603671627003428904" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€é”®ç”Ÿæˆä¸“ä¸š README: æ¨¡æ¿ + badges + shields.io + åŠ¨æ€å†…å®¹ï¼ˆbadgesã€visitors countï¼‰"/> <meta itemprop="keywords" content="Markdown,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T01:33:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å°å°æ ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1081575170131006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€é”®ç”Ÿæˆä¸“ä¸š README: æ¨¡æ¿ + badges + shields.io + åŠ¨æ€å†…å®¹ï¼ˆbadgesã€visitors countï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575170131006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å°å°æ ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:33:40.000Z" title="Wed Feb 11 2026 01:33:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€é”®ç”Ÿæˆâ€œä¸“ä¸šçº§â€ README çš„æ—¶ä»£å·²ç»åˆ°æ¥ã€‚<br/>
2026 å¹´ï¼Œä½ ä¸å†éœ€è¦ä»é›¶æ‰‹å†™ä¸€å † Markdown + æ‰‹åŠ¨æ”¹ badgesã€‚å€ŸåŠ©ç°æˆæ¨¡æ¿ + Shields.io + åŠ¨æ€ç»Ÿè®¡æœåŠ¡ + ç”Ÿæˆå™¨å·¥å…·ï¼Œ5 åˆ†é’Ÿå°±èƒ½åšå‡ºé«˜é¢œå€¼ã€å¯ç»´æŠ¤ã€å®æ—¶æ›´æ–°çš„ READMEã€‚</p>
<p>è¿™ä¸€æœŸæˆ‘ä»¬ä¸€æ­¥æ­¥æ•™ä½ <strong>ä»æ¨¡æ¿èµ·æ­¥ â†’ åŠ  badges â†’ åŠ åŠ¨æ€å†…å®¹</strong>çš„å…¨æµç¨‹ã€‚æœ€ç»ˆæ•ˆæœï¼š</p>
<ul>
<li>è§†è§‰ç‚¸è£‚ï¼ˆbadges æ•´é½æ’åˆ—ï¼‰</li>
<li>æ•°æ®å®æ—¶ï¼ˆstarsã€forksã€visitorsã€statsï¼‰</li>
<li>ä¸€é”®å¤åˆ¶ç²˜è´´</li>
</ul>
<h3 data-id="heading-0">ä¸€ã€å…ˆé€‰ä¸€ä¸ªå¼ºåŠ› README æ¨¡æ¿ï¼ˆ2026 å¹´ä¸»æµæ¨èï¼‰</h3>
<p>æœ€å—æ¬¢è¿ã€star æœ€é«˜çš„æ¨¡æ¿ä»æ˜¯ <strong>othneildrew/Best-README-Template</strong>ï¼ˆ10w+ starsï¼Œå¸¸å¹´æ›´æ–°ï¼‰ï¼š</p>
<p>æ ¸å¿ƒç»“æ„ï¼ˆå¤åˆ¶è¿™ä¸ªæ¡†æ¶ï¼Œç„¶åå¡«ç©ºï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®åç§°</span>

ä¸€å¥è¯æè¿° + å¾½ç« åŒº

<span class="hljs-section">## ç›®å½•</span>

<span class="hljs-bullet">-</span> [<span class="hljs-string">å…³äºé¡¹ç›®</span>](<span class="hljs-link">#å…³äºé¡¹ç›®</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">å†…ç½®åŠŸèƒ½</span>](<span class="hljs-link">#å†…ç½®åŠŸèƒ½</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">å¿«é€Ÿå¼€å§‹</span>](<span class="hljs-link">#å¿«é€Ÿå¼€å§‹</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">ä½¿ç”¨ç¤ºä¾‹</span>](<span class="hljs-link">#ä½¿ç”¨ç¤ºä¾‹</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">è·¯çº¿å›¾</span>](<span class="hljs-link">#è·¯çº¿å›¾</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">è´¡çŒ®</span>](<span class="hljs-link">#è´¡çŒ®</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">è®¸å¯</span>](<span class="hljs-link">#è®¸å¯</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">è”ç³»æ–¹å¼</span>](<span class="hljs-link">#è”ç³»æ–¹å¼</span>)
<span class="hljs-bullet">-</span> [<span class="hljs-string">è‡´è°¢</span>](<span class="hljs-link">#è‡´è°¢</span>)

<span class="hljs-section">## å…³äºé¡¹ç›®</span>

![<span class="hljs-string">é¡¹ç›®æˆªå›¾</span>](<span class="hljs-link">images/screenshot.png</span>)

é¡¹ç›®èƒŒæ™¯ã€è§£å†³é—®é¢˜ã€æ ¸å¿ƒç‰¹æ€§ã€æŠ€æœ¯æ ˆ...

<span class="hljs-section">### å†…ç½®åŠŸèƒ½</span>

<span class="hljs-bullet">-</span> åŠŸèƒ½1
<span class="hljs-bullet">-</span> åŠŸèƒ½2

<span class="hljs-section">### ç”¨åˆ°çš„æŠ€æœ¯æ ˆ</span>

<span class="hljs-bullet">-</span> [<span class="hljs-string">![Next.js</span>][<span class="hljs-symbol">Next.js</span>]][<span class="hljs-symbol">Next-url</span>]
<span class="hljs-bullet">-</span> [<span class="hljs-string">![React</span>][<span class="hljs-symbol">React.js</span>]][<span class="hljs-symbol">React-url</span>]

...

<span class="hljs-section">## å¿«é€Ÿå¼€å§‹</span>

<span class="hljs-section">### å‰ç½®è¦æ±‚</span>

<span class="hljs-bullet">-</span> Node.js 20+
<span class="hljs-bullet">-</span> pnpm / yarn

<span class="hljs-section">### å®‰è£…</span>

<span class="hljs-code">```bash
git clone https://github.com/username/repo.git
cd repo
pnpm install
</span></code></pre>
<h3 data-id="heading-1">è¿è¡Œ</h3>
<pre><code class="hljs language-bash" lang="bash">pnpm dev
</code></pre>
<p>...</p>
<h2 data-id="heading-2">è´¡çŒ®</h2>
<p>æ¬¢è¿ PRï¼è¯·é˜…è¯» <a href="https://link.juejin.cn?target=CONTRIBUTING.md" target="_blank" title="CONTRIBUTING.md" ref="nofollow noopener noreferrer">CONTRIBUTING.md</a></p>
<h2 data-id="heading-3">è®¸å¯</h2>
<p>Distributed under the MIT License. See <code>LICENSE</code> for more information.</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ªæ¨¡æ¿å¥½ï¼Ÿ</strong></p>
<ul>
<li>ç»“æ„æ¸…æ™°ã€ç« èŠ‚é½å…¨</li>
<li>æ”¯æŒå¤šè¯­è¨€ï¼ˆå¯åŠ ä¸­æ–‡ç‰ˆï¼‰</li>
<li>å¾½ç« åŒºé¢„ç•™ä½ç½®</li>
<li>æ˜“æ‰©å±•ï¼ˆåŠ  mermaid å›¾ã€alerts ç­‰ï¼‰</li>
</ul>
<p>å…¶ä»–å¤‡é€‰ï¼ˆå¦‚æœä½ æ˜¯ä¸ªäºº profile æˆ–ç‰¹å®šç±»å‹é¡¹ç›®ï¼‰ï¼š</p>
<ul>
<li>rahuldkjain/gh-profile-readme-generatorï¼ˆåœ¨çº¿ä¸€é”®ç”Ÿæˆ profile READMEï¼‰</li>
<li>durgeshsamariya/awesome-github-profile-readme-templatesï¼ˆæµ·é‡ç¾åŒ–æ¨¡æ¿ï¼‰</li>
</ul>
<h3 data-id="heading-4">äºŒã€Shields.io Badges ç»ˆæç”¨æ³•ï¼ˆé™æ€ + åŠ¨æ€ï¼‰</h3>
<p>Shields.io æ˜¯ 2026 å¹´ badges çš„ç‹è€…ï¼šæ”¯æŒé™æ€ã€åŠ¨æ€ã€endpointã€JSON ç­‰ã€‚</p>
<p><strong>å¸¸ç”¨é™æ€ badgesï¼ˆå¤åˆ¶å³ç”¨ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">[<span class="hljs-string">![GitHub stars</span>](<span class="hljs-link">https://img.shields.io/github/stars/username/repo?style=social</span>)](<span class="hljs-link">https://github.com/username/repo/stargazers</span>)
[<span class="hljs-string">![GitHub forks</span>](<span class="hljs-link">https://img.shields.io/github/forks/username/repo?style=social</span>)](<span class="hljs-link">https://github.com/username/repo/network/members</span>)
[<span class="hljs-string">![GitHub license</span>](<span class="hljs-link">https://img.shields.io/github/license/username/repo</span>)](<span class="hljs-link">https://github.com/username/repo/blob/main/LICENSE</span>)
[<span class="hljs-string">![npm version</span>](<span class="hljs-link">https://img.shields.io/npm/v/package-name</span>)](<span class="hljs-link">https://www.npmjs.com/package/package-name</span>)
[<span class="hljs-string">![GitHub last commit</span>](<span class="hljs-link">https://img.shields.io/github/last-commit/username/repo</span>)](<span class="hljs-link">https://github.com/username/repo/commits/main</span>)
</code></pre>
<p><strong>æ¨èä¸€æ’ badges å¸ƒå±€</strong>ï¼ˆæ”¾æ ‡é¢˜ä¸‹ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/stargazers"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/stars/username/repo?style=flat-square&amp;logo=github"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Stars"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/network/members"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/forks/username/repo?style=flat-square&amp;logo=github"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Forks"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/issues"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/issues/username/repo?style=flat-square"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Issues"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/blob/main/LICENSE"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/license/username/repo?style=flat-square"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"License"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
</code></pre>
<p><strong>åŠ¨æ€ badges è¿›é˜¶</strong>ï¼ˆç”¨ shields.io endpoint æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼‰ï¼š</p>
<ul>
<li>
<p>GitHub statsï¼šanuraghazra/github-readme-statsï¼ˆè¶…çº§æµè¡Œï¼‰</p>
<pre><code class="hljs language-markdown" lang="markdown">![<span class="hljs-string">Anurag's GitHub stats</span>](<span class="hljs-link">https://github-readme-stats.vercel.app/api?username=yourusername&amp;show_icons=true&amp;theme=radical</span>)
![<span class="hljs-string">Top Langs</span>](<span class="hljs-link">https://github-readme-stats.vercel.app/api/top-langs/?username=yourusername&amp;layout=compact</span>)
</code></pre>
</li>
<li>
<p>Visitors countï¼ˆè®¿å®¢è®¡æ•°ï¼‰â€”â€”2026 å¹´å¸¸ç”¨æœåŠ¡ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fprofile-counter.glitch.me%2F%257B%25E4%25BD%25A0%25E7%259A%2584%25E7%2594%25A8%25E6%2588%25B7%25E5%2590%258D%257D%2Fcount.svg" target="_blank" title="https://profile-counter.glitch.me/%7B%E4%BD%A0%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%7D/count.svg" ref="nofollow noopener noreferrer">profile-counter.glitch.me/{ä½ çš„ç”¨æˆ·å}/couâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhits.seeyoufarm.com%2Fapi%2Fcount%2Fincr%2F%257B%25E4%25BD%25A0%25E7%259A%2584%25E7%2594%25A8%25E6%2588%25B7%25E5%2590%258D%257D.svg%3Furl%3Dhttps%253A%252F%252Fgithub.com%252F%257B%25E4%25BD%25A0%25E7%259A%2584%25E7%2594%25A8%25E6%2588%25B7%25E5%2590%258D%257D%26count_bg%3D%252379C83D%26title_bg%3D%2523555555%26icon%3D%26icon_color%3D%2523E7E7E7%26title%3DVisitors%26edge_flat%3Dfalse" target="_blank" title="https://hits.seeyoufarm.com/api/count/incr/%7B%E4%BD%A0%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%7D.svg?url=https%3A%2F%2Fgithub.com%2F%7B%E4%BD%A0%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%7D&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=Visitors&amp;edge_flat=false" ref="nofollow noopener noreferrer">hits.seeyoufarm.com/api/count/iâ€¦</a></li>
<li>stefanopaolonii/visitor-badgeï¼ˆè‡ªå®šä¹‰é£æ ¼ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">![<span class="hljs-string">Visitors</span>](<span class="hljs-link">https://profile-counter.glitch.me/_Kurl_/count.svg</span>)
</code></pre>
</li>
</ul>
<h3 data-id="heading-5">ä¸‰ã€ä¸€é”®ç”Ÿæˆå·¥å…·ï¼ˆçœŸæ­£â€œä¸€é”®â€ï¼‰</h3>
<p>æ¨èåœ¨çº¿ç”Ÿæˆå™¨ï¼ˆ2026 å¹´æœ€çœäº‹ï¼‰ï¼š</p>
<ol>
<li>
<p><strong>rahuldkjain/gh-profile-readme-generator</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frahuldkjain.github.io%2Fgh-profile-readme-generator" target="_blank" title="https://rahuldkjain.github.io/gh-profile-readme-generator" ref="nofollow noopener noreferrer">rahuldkjain.github.io/gh-profile-â€¦</a></li>
<li>æ”¯æŒï¼šskillsã€social linksã€badgesã€stats cardsã€visitors countã€åŠ¨æ€ GitHub stats</li>
<li>é€‰æ¨¡æ¿ â†’ å¡«ä¿¡æ¯ â†’ å¤åˆ¶ Markdown ä¸€é”®ç²˜è´´</li>
</ul>
</li>
<li>
<p><strong>profile-readme-generator.com</strong></p>
<ul>
<li>ç±»ä¼¼ï¼Œä½† UI æ›´ç°ä»£ï¼Œæ”¯æŒæ›´å¤šåŠ¨æ€å…ƒç´ </li>
</ul>
</li>
<li>
<p><strong>æ‰‹åŠ¨ + GitHub Actions è‡ªåŠ¨åŒ–</strong>ï¼ˆé«˜çº§ï¼‰ï¼š</p>
<ul>
<li>ç”¨ Dynamic Badges Action æ›´æ–° gist ä¸­çš„ JSONï¼Œç„¶å shields.io æ‹‰å–</li>
<li>ä½†å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œç”Ÿæˆå™¨å°±å¤Ÿäº†</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6">å››ã€å®Œæ•´ä¸“ä¸š README ç¤ºä¾‹ç‰‡æ®µï¼ˆå¤åˆ¶æ”¹ç”¨æˆ·åå³å¯ï¼‰</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span>&gt;</span></span>é¡¹ç›®åç§° ğŸš€<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://profile-counter.glitch.me/_Kurl_/count.svg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"è®¿å®¢æ•°"</span> /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/stargazers"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/stars/username/repo?style=flat-square&amp;logo=github"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Stars"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/username/repo/network/members"</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://img.shields.io/github/forks/username/repo?style=flat-square&amp;logo=github"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Forks"</span>/&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://github-readme-stats.vercel.app/api?username=yourusername&amp;show_icons=true&amp;theme=dracula"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"GitHub Stats"</span> /&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>

<span class="hljs-section">## å…³äºé¡¹ç›®</span>

ä¸€å¥è¯ slogan + æ ¸å¿ƒä»·å€¼

![<span class="hljs-string">Demo GIF</span>](<span class="hljs-link">demo.gif</span>)

<span class="hljs-section">## å¿«é€Ÿå¼€å§‹</span>

...
</code></pre>
<p><strong>å°æŠ€å·§</strong>ï¼š</p>
<ul>
<li>ç”¨ <code>&lt;p align="center"&gt;</code> å±…ä¸­ badges</li>
<li>ä¸»é¢˜ç”¨ <code>theme=dracula</code> / <code>radical</code> / <code>tokyonight</code> ç­‰ï¼ˆgithub-readme-stats æ”¯æŒ 20+ ä¸»é¢˜ï¼‰</li>
<li>åŠ¨æ€å†…å®¹æ¯åˆ·æ–° README éƒ½ä¼šæ›´æ–°ï¼ˆGitHub ç¼“å­˜ ~1hï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥Proxy ä¸ Reflect ä»å…¥é—¨åˆ°å®æˆ˜ï¼šES6 å…ƒç¼–ç¨‹æ ¸å¿ƒç‰¹æ€§è¯¦è§£]]></title>    <link>https://juejin.cn/post/7604846849465073716</link>    <guid>https://juejin.cn/post/7604846849465073716</guid>    <pubDate>2026-02-11T01:41:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604846849465073716" data-draft-id="7605106957132857378" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥Proxy ä¸ Reflect ä»å…¥é—¨åˆ°å®æˆ˜ï¼šES6 å…ƒç¼–ç¨‹æ ¸å¿ƒç‰¹æ€§è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-11T01:41:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é©¬_xiaoen"/> <meta itemprop="url" content="https://juejin.cn/user/4438063859920414"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥Proxy ä¸ Reflect ä»å…¥é—¨åˆ°å®æˆ˜ï¼šES6 å…ƒç¼–ç¨‹æ ¸å¿ƒç‰¹æ€§è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4438063859920414/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é©¬_xiaoen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:41:48.000Z" title="Wed Feb 11 2026 01:41:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ğŸ”¥Proxy ä¸ Reflect ä»å…¥é—¨åˆ°å®æˆ˜ï¼šES6 å…ƒç¼–ç¨‹æ ¸å¿ƒç‰¹æ€§è¯¦è§£</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da31f21f4f004c45812386275c82292a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6amsX3hpYW9lbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378909&amp;x-signature=i4vsou3McwiWqh0mmDzMBxQ2%2B6A%3D" alt="Reflect.png" loading="lazy"/></p>
<h3 data-id="heading-1">ğŸš€ä¸€ã€æ ¸å¿ƒä»‹ç»ï¼šä»€ä¹ˆæ˜¯å…ƒç¼–ç¨‹ä¸ Proxy/Reflect</h3>
<h4 data-id="heading-2">1. å…ƒç¼–ç¨‹ï¼ˆMetaprogrammingï¼‰</h4>
<p>å…ƒç¼–ç¨‹æ˜¯æŒ‡<strong>ç¨‹åºå¯ä»¥å¯¹è‡ªèº«ä»£ç è¿›è¡Œæ“ä½œã€ä¿®æ”¹å’Œæ‰©å±•</strong>çš„ç¼–ç¨‹èŒƒå¼ï¼Œç®€å•æ¥è¯´å°±æ˜¯<strong>å†™ä»£ç æ¥æ“ä½œä»£ç </strong>ã€‚åœ¨ JavaScript ä¸­ï¼Œå…ƒç¼–ç¨‹ä¸»è¦ä½“ç°åœ¨å¯¹å¯¹è±¡ã€å‡½æ•°ã€ç±»çš„<strong>è¡Œä¸ºè¿›è¡Œæ‹¦æˆªã€ä¿®æ”¹å’Œå¢å¼º</strong>ï¼Œè€Œ ES6 å¼•å…¥çš„ <strong>Proxy</strong> å’Œ <strong>Reflect</strong> æ­£æ˜¯å®ç° JavaScript å…ƒç¼–ç¨‹çš„æ ¸å¿ƒå·¥å…·ï¼Œè®©å¼€å‘è€…å¯ä»¥ä¼˜é›…åœ°æ‹¦æˆªå¯¹è±¡çš„åº•å±‚æ“ä½œï¼Œå®ç°è‡ªå®šä¹‰è¡Œä¸ºã€‚</p>
<h4 data-id="heading-3">2. Proxy æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>Proxyï¼ˆä»£ç†ï¼‰æ˜¯ ES6 æä¾›çš„<strong>å¯¹è±¡æ‹¦æˆªå™¨</strong>ï¼Œå®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ª<strong>ç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡</strong>ï¼Œå¯¹ä»£ç†å¯¹è±¡çš„æ‰€æœ‰åº•å±‚æ“ä½œï¼ˆå¦‚å±æ€§è¯»å–ã€èµ‹å€¼ã€åˆ é™¤ã€å‡½æ•°è°ƒç”¨ç­‰ï¼‰è¿›è¡Œ<strong>æ‹¦æˆªå’Œè‡ªå®šä¹‰å¤„ç†</strong>ï¼Œè€Œç›®æ ‡å¯¹è±¡æœ¬èº«ä¸ä¼šè¢«ç›´æ¥ä¿®æ”¹ã€‚</p>
<p>ç®€å•ç†è§£ï¼šProxy å°±åƒç›®æ ‡å¯¹è±¡çš„**â€œä¸­é—´ä»£ç†äººâ€**ï¼Œæ‰€æœ‰å¯¹ç›®æ ‡å¯¹è±¡çš„æ“ä½œéƒ½å¿…é¡»ç»è¿‡è¿™ä¸ªä»£ç†äººï¼Œä»£ç†äººå¯ä»¥å†³å®šæ˜¯å¦æ”¾è¡Œã€å¦‚ä½•ä¿®æ”¹æ“ä½œçš„å‚æ•°å’Œè¿”å›å€¼ï¼Œç”šè‡³æ‹’ç»æ‰§è¡Œæ“ä½œã€‚</p>
<h4 data-id="heading-4">3. Reflect æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>Reflectï¼ˆåå°„ï¼‰æ˜¯ ES6 æä¾›çš„<strong>å†…ç½®å¯¹è±¡</strong>ï¼Œå®ƒå°† JavaScript ä¸­<strong>å¯¹è±¡çš„åº•å±‚åŸç”Ÿæ“ä½œ</strong>ï¼ˆå¦‚ <code>Object.getOwnPropertyDescriptor</code>ã€<code>in</code> è¿ç®—ç¬¦ã€<code>delete</code> è¿ç®—ç¬¦ç­‰ï¼‰å°è£…ä¸º<strong>ç»Ÿä¸€çš„æ–¹æ³•</strong>ï¼Œæ”¾åœ¨ Reflect å¯¹è±¡ä¸Šï¼ŒåŒæ—¶<strong>ä¸ Proxy çš„æ‹¦æˆªæ–¹æ³•ä¸€ä¸€å¯¹åº”</strong>ã€‚</p>
<p>Reflect çš„è®¾è®¡åˆè¡·æœ‰ä¸‰ä¸ªï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€åŸç”Ÿæ“ä½œ</strong>ï¼šå°†åˆ†æ•£åœ¨ Objectã€è¿ç®—ç¬¦ä¸­çš„åŸç”Ÿæ“ä½œæ•´åˆï¼Œè®©ä»£ç æ›´è§„èŒƒã€æ›´æ˜“ç»´æŠ¤ï¼›</li>
<li><strong>é…åˆ Proxy ä½¿ç”¨</strong>ï¼šReflect æ–¹æ³•çš„å‚æ•°ã€è¿”å›å€¼ä¸ Proxy æ‹¦æˆªæ–¹æ³•å®Œå…¨åŒ¹é…ï¼Œåœ¨ Proxy ä¸­ä½¿ç”¨ Reflect å¯ä»¥<strong>æ— ç¼è¿˜åŸç›®æ ‡å¯¹è±¡çš„åŸç”Ÿæ“ä½œ</strong>ï¼›</li>
<li><strong>æ›´åˆç†çš„è¿”å›å€¼</strong>ï¼šåŸç”Ÿæ“ä½œçš„è¿”å›å€¼ä¸ç»Ÿä¸€ï¼ˆå¦‚ <code>delete obj.key</code> è¿”å›å¸ƒå°”å€¼ï¼Œ<code>Object.defineProperty</code> å¤±è´¥æŠ›é”™ï¼‰ï¼ŒReflect æ–¹æ³•<strong>ç»Ÿä¸€è¿”å›å¸ƒå°”å€¼è¡¨ç¤ºæ“ä½œæˆåŠŸä¸å¦</strong>ï¼Œå¹¶é€šè¿‡è¿”å›å€¼æ›¿ä»£æŠ›é”™ï¼Œæ›´æ˜“åšé”™è¯¯å¤„ç†ã€‚</li>
</ol>
<h4 data-id="heading-5">4. Proxy ä¸ Reflect çš„æ ¸å¿ƒå…³ç³»</h4>
<p>Proxy è´Ÿè´£<strong>æ‹¦æˆª</strong>å¯¹è±¡çš„åº•å±‚æ“ä½œï¼ŒReflect è´Ÿè´£<strong>æ‰§è¡Œ</strong>å¯¹è±¡çš„åŸç”Ÿåº•å±‚æ“ä½œï¼ŒäºŒè€…æ˜¯<strong>é…å¥—ä½¿ç”¨ã€ç¼ºä¸€ä¸å¯</strong>çš„å…³ç³»ï¼š</p>
<ul>
<li>æ²¡æœ‰ Reflectï¼Œåœ¨ Proxy ä¸­è¿˜åŸåŸç”Ÿæ“ä½œéœ€è¦å†™å¤§é‡å…¼å®¹ä»£ç ï¼Œä¸”æ˜“å‡ºé”™ï¼›</li>
<li>æ²¡æœ‰ Proxyï¼ŒReflect ä»…ä½œä¸ºåŸç”Ÿæ“ä½œçš„å°è£…ï¼Œå¤±å»å…ƒç¼–ç¨‹çš„æ ¸å¿ƒä»·å€¼ã€‚</li>
</ul>
<p>ç®€å•æ€»ç»“ï¼š<strong>Proxy æ‹¦æˆªæ“ä½œï¼ŒReflect æ‰§è¡ŒåŸç”Ÿæ“ä½œ</strong>ï¼ŒäºŒè€…ç»“åˆå®ç°ä¼˜é›…çš„å¯¹è±¡è¡Œä¸ºè‡ªå®šä¹‰ã€‚</p>
<h3 data-id="heading-6">ğŸ¯ äºŒã€Proxy æ ¸å¿ƒç‰¹æ€§ä¸åŸºæœ¬ä½¿ç”¨</h3>
<h4 data-id="heading-7">1. Proxy åŸºæœ¬è¯­æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler);
</code></pre>
<ul>
<li><strong>target</strong>ï¼šè¢«ä»£ç†çš„<strong>ç›®æ ‡å¯¹è±¡</strong>ï¼ˆå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼šæ™®é€šå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ã€ç”šè‡³å¦ä¸€ä¸ª Proxyï¼‰ï¼›</li>
<li><strong>handler</strong>ï¼š<strong>æ‹¦æˆªé…ç½®å¯¹è±¡</strong>ï¼ŒåŒ…å«å¤šä¸ª<strong>æ‹¦æˆªæ–¹æ³•</strong>ï¼ˆä¹Ÿå«é™·é˜±æ–¹æ³•ï¼‰ï¼Œæ¯ä¸ªæ‹¦æˆªæ–¹æ³•å¯¹åº”ä¸€ç§å¯¹ç›®æ ‡å¯¹è±¡çš„åº•å±‚æ“ä½œï¼Œå½“å¯¹ä»£ç†å¯¹è±¡æ‰§è¡Œè¯¥æ“ä½œæ—¶ï¼Œä¼šè§¦å‘å¯¹åº”çš„æ‹¦æˆªæ–¹æ³•ï¼Œæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼›</li>
<li><strong>proxy</strong>ï¼šåˆ›å»ºçš„<strong>ä»£ç†å¯¹è±¡</strong>ï¼Œåç»­æ‰€æœ‰æ“ä½œéƒ½åº”åŸºäºä»£ç†å¯¹è±¡ï¼Œè€Œéç›´æ¥æ“ä½œç›®æ ‡å¯¹è±¡ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒæ³¨æ„</strong>ï¼šProxy å®ç°çš„æ˜¯<strong>æµ…ä»£ç†</strong>ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡æ˜¯åµŒå¥—å¯¹è±¡ï¼ŒåµŒå¥—å¯¹è±¡çš„å±æ€§æ“ä½œä¸ä¼šè§¦å‘é¡¶å±‚ Proxy çš„æ‹¦æˆªæ–¹æ³•ï¼Œéœ€è¦æ‰‹åŠ¨å®ç°æ·±ä»£ç†ã€‚</p>
<h4 data-id="heading-8">2. Proxy çš„æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>éä¾µå…¥å¼æ‹¦æˆª</strong>ï¼šä¸ä¼šä¿®æ”¹ç›®æ ‡å¯¹è±¡æœ¬èº«ï¼Œæ‰€æœ‰è‡ªå®šä¹‰è¡Œä¸ºéƒ½åœ¨ä»£ç†å¯¹è±¡ä¸Šå®ç°ï¼Œç›®æ ‡å¯¹è±¡ä¿æŒçº¯å‡€ï¼›</li>
<li><strong>å…¨é¢çš„æ‹¦æˆªèƒ½åŠ›</strong>ï¼šæ”¯æŒ 13 ç§åº•å±‚æ“ä½œçš„æ‹¦æˆªï¼Œè¦†ç›–å¯¹è±¡çš„æ‰€æœ‰å¸¸ç”¨æ“ä½œï¼ˆå±æ€§è¯»å†™ã€èµ‹å€¼ã€åˆ é™¤ã€å‡½æ•°è°ƒç”¨ã€åŸå‹è®¿é—®ç­‰ï¼‰ï¼›</li>
<li><strong>ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡è§£è€¦</strong>ï¼šæ“ä½œä»£ç†å¯¹è±¡ä¸ä¼šç›´æ¥å½±å“ç›®æ ‡å¯¹è±¡ï¼Œå¯é€šè¿‡ Reflect åœ¨æ‹¦æˆªæ–¹æ³•ä¸­æ‰‹åŠ¨æ‰§è¡Œå¯¹ç›®æ ‡å¯¹è±¡çš„æ“ä½œï¼›</li>
<li><strong>æ— æ„ŸçŸ¥ä½¿ç”¨</strong>ï¼šä»£ç†å¯¹è±¡çš„ç”¨æ³•ä¸ç›®æ ‡å¯¹è±¡å®Œå…¨ä¸€è‡´ï¼Œè°ƒç”¨æ–¹æ— éœ€çŸ¥é“ä»£ç†çš„å­˜åœ¨ï¼Œé™ä½ä½¿ç”¨æˆæœ¬ã€‚</li>
</ul>
<h4 data-id="heading-9">3. Proxy å¸¸ç”¨æ‹¦æˆªæ–¹æ³•ï¼ˆé™·é˜±æ–¹æ³•ï¼‰</h4>
<p>Proxy çš„ <code>handler</code> å¯¹è±¡æä¾›äº† 13 ç§æ‹¦æˆªæ–¹æ³•ï¼Œå¯¹åº”å¯¹è±¡çš„ 13 ç§åº•å±‚æ“ä½œï¼Œä»¥ä¸‹æ˜¯å¼€å‘ä¸­<strong>æœ€å¸¸ç”¨çš„ 8 ç§</strong>ï¼Œå…¶ä½™æ–¹æ³•å¯å‚è€ƒ ES6 å®˜æ–¹æ–‡æ¡£ï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼ã€‚</p>
<p>æ‰€æœ‰æ‹¦æˆªæ–¹æ³•çš„<strong>æ ¸å¿ƒè®¾è®¡</strong>ï¼šå‚æ•°ä¸å¯¹åº”åŸç”Ÿæ“ä½œåŒ¹é…ï¼Œè¿”å›å€¼å†³å®šæ“ä½œçš„æœ€ç»ˆç»“æœï¼Œå¯é€šè¿‡ Reflect æ–¹æ³•æ‰§è¡ŒåŸç”Ÿæ“ä½œã€‚</p>


















































<table><thead><tr><th>æ‹¦æˆªæ–¹æ³•</th><th>å¯¹åº”åŸç”Ÿæ“ä½œ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>get(target, prop, receiver)</code></td><td><code>obj.prop</code> / <code>obj[prop]</code></td><td>æ‹¦æˆªå±æ€§<strong>è¯»å–</strong>æ“ä½œ</td></tr><tr><td><code>set(target, prop, value, receiver)</code></td><td><code>obj.prop = value</code> / <code>obj[prop] = value</code></td><td>æ‹¦æˆªå±æ€§<strong>èµ‹å€¼</strong>æ“ä½œ</td></tr><tr><td><code>has(target, prop)</code></td><td><code>prop in obj</code></td><td>æ‹¦æˆª<strong>in è¿ç®—ç¬¦</strong>çš„åˆ¤æ–­æ“ä½œ</td></tr><tr><td><code>deleteProperty(target, prop)</code></td><td><code>delete obj.prop</code> / <code>delete obj[prop]</code></td><td>æ‹¦æˆª<strong>delete è¿ç®—ç¬¦</strong>çš„åˆ é™¤æ“ä½œ</td></tr><tr><td><code>getOwnPropertyDescriptor(target, prop)</code></td><td><code>Object.getOwnPropertyDescriptor(obj, prop)</code></td><td>æ‹¦æˆªè·å–å±æ€§æè¿°ç¬¦çš„æ“ä½œ</td></tr><tr><td><code>apply(target, thisArg, args)</code></td><td><code>func(...args)</code> / <code>func.call(thisArg, ...args)</code></td><td>æ‹¦æˆª<strong>å‡½æ•°è°ƒç”¨</strong>æ“ä½œï¼ˆä»…å½“ target æ˜¯å‡½æ•°æ—¶ç”Ÿæ•ˆï¼‰</td></tr><tr><td><code>construct(target, args, newTarget)</code></td><td><code>new Func(...args)</code></td><td>æ‹¦æˆª<strong>new è¿ç®—ç¬¦</strong>çš„å®ä¾‹åŒ–æ“ä½œï¼ˆä»…å½“ target æ˜¯æ„é€ å‡½æ•°æ—¶ç”Ÿæ•ˆï¼‰</td></tr><tr><td><code>ownKeys(target)</code></td><td><code>Object.keys(obj)</code> / <code>Object.getOwnPropertyNames(obj)</code></td><td>æ‹¦æˆªè·å–å¯¹è±¡<strong>è‡ªèº«å±æ€§å</strong>çš„æ“ä½œ</td></tr></tbody></table>
<h4 data-id="heading-10">ğŸ“ 4. Proxy åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-11">ç¤ºä¾‹1ï¼šæ‹¦æˆªæ™®é€šå¯¹è±¡çš„å±æ€§è¯»å–å’Œèµ‹å€¼</h5>
<p>å®ç°<strong>å±æ€§ä¸å­˜åœ¨æ—¶çš„é»˜è®¤å€¼</strong>ã€<strong>å±æ€§èµ‹å€¼çš„ç±»å‹æ ¡éªŒ</strong>ï¼Œè¿™æ˜¯ Proxy æœ€ç»å…¸çš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›®æ ‡å¯¹è±¡</span>
<span class="hljs-keyword">const</span> user = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
};

<span class="hljs-comment">// æ‹¦æˆªé…ç½®å¯¹è±¡</span>
<span class="hljs-keyword">const</span> handler = {
  <span class="hljs-comment">// æ‹¦æˆªå±æ€§è¯»å–ï¼šobj.prop</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
    <span class="hljs-comment">// åŸç”Ÿæ“ä½œï¼šReflect.get(target, prop, receiver)</span>
    <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šå±æ€§ä¸å­˜åœ¨æ—¶è¿”å›é»˜è®¤å€¼'æœªçŸ¥'</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver) || <span class="hljs-string">'æœªçŸ¥'</span>;
  },
  <span class="hljs-comment">// æ‹¦æˆªå±æ€§èµ‹å€¼ï¼šobj.prop = value</span>
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value, receiver</span>) {
    <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šå¯¹ageå±æ€§åšç±»å‹æ ¡éªŒï¼Œå¿…é¡»æ˜¯æ•°å­—ä¸”å¤§äº0</span>
    <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'age'</span> &amp;&amp; (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'number'</span> || value &lt;= <span class="hljs-number">0</span>)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å¹´é¾„å¿…é¡»æ˜¯å¤§äº0çš„æ•°å­—'</span>);
    }
    <span class="hljs-comment">// æ‰§è¡ŒåŸç”Ÿèµ‹å€¼æ“ä½œ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, prop, value, receiver);
  }
};

<span class="hljs-comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span>
<span class="hljs-keyword">const</span> proxyUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(user, handler);

<span class="hljs-comment">// æµ‹è¯•å±æ€§è¯»å–</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyUser.<span class="hljs-property">name</span>); <span class="hljs-comment">// å¼ ä¸‰ï¼ˆåŸç”Ÿå€¼ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyUser.<span class="hljs-property">gender</span>); <span class="hljs-comment">// æœªçŸ¥ï¼ˆé»˜è®¤å€¼ï¼Œç›®æ ‡å¯¹è±¡æ— è¯¥å±æ€§ï¼‰</span>

<span class="hljs-comment">// æµ‹è¯•å±æ€§èµ‹å€¼</span>
proxyUser.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyUser.<span class="hljs-property">age</span>); <span class="hljs-comment">// 20ï¼ˆèµ‹å€¼æˆåŠŸï¼‰</span>
proxyUser.<span class="hljs-property">gender</span> = <span class="hljs-string">'ç”·'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyUser.<span class="hljs-property">gender</span>); <span class="hljs-comment">// ç”·ï¼ˆèµ‹å€¼æˆåŠŸï¼‰</span>

<span class="hljs-comment">// æµ‹è¯•éæ³•èµ‹å€¼ï¼šæŠ›å‡ºé”™è¯¯</span>
<span class="hljs-comment">// proxyUser.age = -5; // Uncaught Error: å¹´é¾„å¿…é¡»æ˜¯å¤§äº0çš„æ•°å­—</span>
<span class="hljs-comment">// proxyUser.age = '20'; // Uncaught Error: å¹´é¾„å¿…é¡»æ˜¯å¤§äº0çš„æ•°å­—</span>

<span class="hljs-comment">// ç›®æ ‡å¯¹è±¡ä¼šè¢«åŒæ­¥ä¿®æ”¹ï¼ˆå› ä¸ºåœ¨setä¸­æ‰§è¡Œäº†Reflect.setï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">age</span>); <span class="hljs-comment">// 20</span>
</code></pre>
<h5 data-id="heading-12">ç¤ºä¾‹2ï¼šæ‹¦æˆªæ•°ç»„çš„æ“ä½œï¼Œå®ç°æ•°ç»„æ“ä½œæ—¥å¿—</h5>
<p>æ‹¦æˆªæ•°ç»„çš„<strong>è¯»å–</strong>ã€<strong>èµ‹å€¼</strong>ã€<strong>push</strong> ç­‰æ“ä½œï¼Œè®°å½•æ¯ä¸€æ¬¡æ•°ç»„æ“ä½œçš„æ—¥å¿—ï¼Œé€‚ç”¨äºæ•°æ®ç›‘æ§åœºæ™¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›®æ ‡æ•°ç»„</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-comment">// æ‹¦æˆªé…ç½®</span>
<span class="hljs-keyword">const</span> handler = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[è¯»å–æ•°ç»„] ç´¢å¼•/æ–¹æ³•ï¼š<span class="hljs-subst">${prop}</span>ï¼Œå½“å‰æ•°ç»„ï¼š<span class="hljs-subst">${target}</span>`</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver);
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value, receiver</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[ä¿®æ”¹æ•°ç»„] ç´¢å¼•ï¼š<span class="hljs-subst">${prop}</span>ï¼Œæ—§å€¼ï¼š<span class="hljs-subst">${target[prop]}</span>ï¼Œæ–°å€¼ï¼š<span class="hljs-subst">${value}</span>`</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, prop, value, receiver);
  }
};

<span class="hljs-comment">// åˆ›å»ºä»£ç†æ•°ç»„</span>
<span class="hljs-keyword">const</span> proxyArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(arr, handler);

<span class="hljs-comment">// æµ‹è¯•æ•°ç»„æ“ä½œ</span>
proxyArr[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span>; <span class="hljs-comment">// [ä¿®æ”¹æ•°ç»„] ç´¢å¼•ï¼š0ï¼Œæ—§å€¼ï¼š1ï¼Œæ–°å€¼ï¼š10</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyArr[<span class="hljs-number">0</span>]); <span class="hljs-comment">// [è¯»å–æ•°ç»„] ç´¢å¼•/æ–¹æ³•ï¼š0ï¼Œå½“å‰æ•°ç»„ï¼š10,2,3 â†’ 10</span>
proxyArr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// ä¾æ¬¡è§¦å‘get(push)ã€get(length)ã€set(3,4)ã€set(length,4)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyArr); <span class="hljs-comment">// [è¯»å–æ•°ç»„] ç´¢å¼•/æ–¹æ³•ï¼štoStringï¼Œå½“å‰æ•°ç»„ï¼š10,2,3,4 â†’ [10,2,3,4]</span>
</code></pre>
<h5 data-id="heading-13">ç¤ºä¾‹3ï¼šæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ï¼Œå®ç°å‡½æ•°è°ƒç”¨æ—¥å¿—</h5>
<p>å½“ Proxy çš„ç›®æ ‡å¯¹è±¡æ˜¯<strong>å‡½æ•°</strong>æ—¶ï¼Œå¯é€šè¿‡ <code>apply</code> æ–¹æ³•æ‹¦æˆªå‡½æ•°çš„<strong>æ‰€æœ‰è°ƒç”¨æ–¹å¼</strong>ï¼ˆç›´æ¥è°ƒç”¨ã€callã€applyï¼‰ï¼Œå®ç°é€šç”¨çš„å‡½æ•°å¢å¼ºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›®æ ‡å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;

<span class="hljs-comment">// æ‹¦æˆªé…ç½®ï¼šapplyæ‹¦æˆªå‡½æ•°è°ƒç”¨</span>
<span class="hljs-keyword">const</span> handler = {
  <span class="hljs-title function_">apply</span>(<span class="hljs-params">target, thisArg, args</span>) {
    <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šè®°å½•å‡½æ•°è°ƒç”¨æ—¥å¿—</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[å‡½æ•°è°ƒç”¨] å‡½æ•°åï¼š<span class="hljs-subst">${target.name}</span>ï¼ŒthisæŒ‡å‘ï¼š<span class="hljs-subst">${thisArg}</span>ï¼Œå‚æ•°ï¼š<span class="hljs-subst">${args}</span>`</span>);
    <span class="hljs-comment">// æ‰§è¡ŒåŸç”Ÿå‡½æ•°è°ƒç”¨</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArg, args);
    <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šå¢å¼ºè¿”å›å€¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[å‡½æ•°è¿”å›] ç»“æœï¼š<span class="hljs-subst">${result}</span>`</span>);
    <span class="hljs-keyword">return</span> result;
  }
};

<span class="hljs-comment">// åˆ›å»ºä»£ç†å‡½æ•°</span>
<span class="hljs-keyword">const</span> proxyAdd = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(add, handler);

<span class="hljs-comment">// æµ‹è¯•å‡½æ•°çš„å„ç§è°ƒç”¨æ–¹å¼ï¼Œå‡ä¼šè§¦å‘æ‹¦æˆª</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">proxyAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); 
<span class="hljs-comment">// [å‡½æ•°è°ƒç”¨] å‡½æ•°åï¼šaddï¼ŒthisæŒ‡å‘ï¼šundefinedï¼Œå‚æ•°ï¼š1,2</span>
<span class="hljs-comment">// [å‡½æ•°è¿”å›] ç»“æœï¼š3 â†’ 3</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyAdd.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// [å‡½æ•°è°ƒç”¨] å‡½æ•°åï¼šaddï¼ŒthisæŒ‡å‘ï¼šnullï¼Œå‚æ•°ï¼š3,4</span>
<span class="hljs-comment">// [å‡½æ•°è¿”å›] ç»“æœï¼š7 â†’7</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyAdd.<span class="hljs-title function_">apply</span>({}, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]));
<span class="hljs-comment">// [å‡½æ•°è°ƒç”¨] å‡½æ•°åï¼šaddï¼ŒthisæŒ‡å‘ï¼š{}ï¼Œå‚æ•°ï¼š5,6</span>
<span class="hljs-comment">// [å‡½æ•°è¿”å›] ç»“æœï¼š11 â†’11</span>
</code></pre>
<h3 data-id="heading-14">ğŸš€ ä¸‰ã€Reflect æ ¸å¿ƒç‰¹æ€§ä¸åŸºæœ¬ä½¿ç”¨</h3>
<h4 data-id="heading-15">1. Reflect æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>å†…ç½®å¯¹è±¡</strong>ï¼šReflect æ˜¯ä¸€ä¸ªå†…ç½®çš„é™æ€å¯¹è±¡ï¼Œ<strong>ä¸èƒ½è¢«å®ä¾‹åŒ–</strong>ï¼ˆç±»ä¼¼ Mathï¼‰ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ï¼›</li>
<li><strong>åŸç”Ÿæ“ä½œå°è£…</strong>ï¼šæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¯¹ JavaScript åº•å±‚åŸç”Ÿæ“ä½œçš„å°è£…ï¼Œä¸åº•å±‚æ“ä½œè¡Œä¸ºå®Œå…¨ä¸€è‡´ï¼›</li>
<li><strong>ä¸ Proxy ä¸€ä¸€å¯¹åº”</strong>ï¼šReflect çš„ 13 ä¸ªæ–¹æ³•ä¸ Proxy çš„ 13 ä¸ªæ‹¦æˆªæ–¹æ³•<strong>åç§°å®Œå…¨ç›¸åŒã€å‚æ•°å®Œå…¨ä¸€è‡´</strong>ï¼Œæ˜¯ Proxy çš„æœ€ä½³æ­æ¡£ï¼›</li>
<li><strong>æ“ä½œç»“æœæ ‡å‡†åŒ–</strong>ï¼šæ‰€æœ‰æ–¹æ³•<strong>éƒ½è¿”å›å¸ƒå°”å€¼è¡¨ç¤ºæ“ä½œæ˜¯å¦æˆåŠŸ</strong>ï¼ˆé™¤äº†å°‘æ•°è·å–å€¼çš„æ–¹æ³•å¦‚ Reflect.getï¼‰ï¼Œå¤±è´¥æ—¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè€Œæ˜¯è¿”å› falseï¼Œæ›´æ˜“åšé”™è¯¯å¤„ç†ï¼›</li>
<li><strong>ç»‘å®š this æ›´åˆç†</strong>ï¼šéƒ¨åˆ†åŸç”Ÿæ“ä½œï¼ˆå¦‚ Object.definePropertyï¼‰çš„ this æŒ‡å‘ä¸æ˜ç¡®ï¼ŒReflect æ–¹æ³•çš„ this æŒ‡å‘ç”±å‚æ•°æ˜ç¡®æŒ‡å®šã€‚</li>
</ul>
<h4 data-id="heading-16">2. Reflect ä¸åŸç”Ÿæ“ä½œçš„å¯¹æ¯”</h4>
<p>ä»¥<strong>å±æ€§èµ‹å€¼</strong>ã€<strong>å±æ€§åˆ é™¤</strong>ã€<strong>è·å–å±æ€§æè¿°ç¬¦</strong>ä¸ºä¾‹ï¼Œçœ‹ Reflect å¦‚ä½•è®©åŸç”Ÿæ“ä½œæ›´è§„èŒƒã€æ›´æ˜“ç»´æŠ¤ï¼š</p>



































<table><thead><tr><th>æ“ä½œåœºæ™¯</th><th>åŸç”Ÿæ“ä½œæ–¹å¼</th><th>Reflect æ“ä½œæ–¹å¼</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>å±æ€§èµ‹å€¼</td><td><code>obj.prop = value</code></td><td><code>Reflect.set(obj, prop, value)</code></td><td>è¿”å›å¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦æˆåŠŸï¼Œæ”¯æŒç»‘å®šreceiver</td></tr><tr><td>å±æ€§åˆ é™¤</td><td><code>delete obj.prop</code></td><td><code>Reflect.deleteProperty(obj, prop)</code></td><td>ç»Ÿä¸€è¿”å›å¸ƒå°”å€¼ï¼ŒåŸç”Ÿæ“ä½œå¯¹ä¸å¯é…ç½®å±æ€§è¿”å›trueï¼ˆæ˜“è¯¯å¯¼ï¼‰</td></tr><tr><td>è·å–å±æ€§æè¿°ç¬¦</td><td><code>Object.getOwnPropertyDescriptor(obj, prop)</code></td><td><code>Reflect.getOwnPropertyDescriptor(obj, prop)</code></td><td>å¯¹éå¯¹è±¡ç›®æ ‡ï¼ŒåŸç”Ÿæ“ä½œæŠ›é”™ï¼ŒReflectè¿”å›false</td></tr><tr><td>æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨</td><td><code>prop in obj</code></td><td><code>Reflect.has(obj, prop)</code></td><td>ç»Ÿä¸€æ–¹æ³•è°ƒç”¨ï¼Œæ›¿ä»£è¿ç®—ç¬¦ï¼Œæ›´æ˜“å°è£…</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼šReflect æ“ä½œçš„æ ‡å‡†åŒ–è¿”å›å€¼</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> }); <span class="hljs-comment">// å†»ç»“å¯¹è±¡ï¼Œç¦æ­¢ä¿®æ”¹å±æ€§</span>

<span class="hljs-comment">// åŸç”Ÿèµ‹å€¼ï¼šé™é»˜å¤±è´¥ï¼Œæ— ä»»ä½•æç¤º</span>
obj.<span class="hljs-property">age</span> = <span class="hljs-number">18</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">age</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">// Reflectèµ‹å€¼ï¼šè¿”å›falseï¼Œè¡¨ç¤ºæ“ä½œå¤±è´¥ï¼Œæ— æŠ›é”™</span>
<span class="hljs-keyword">const</span> isSet = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(obj, <span class="hljs-string">'age'</span>, <span class="hljs-number">18</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(isSet); <span class="hljs-comment">// false</span>

<span class="hljs-comment">// åŸç”Ÿåˆ é™¤ï¼šå¯¹å†»ç»“å¯¹è±¡çš„å±æ€§åˆ é™¤ï¼Œè¿”å›trueï¼ˆè¯¯å¯¼ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">delete</span> obj.<span class="hljs-property">name</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">name</span>); <span class="hljs-comment">// å¼ ä¸‰ï¼ˆå®é™…æœªåˆ é™¤ï¼‰</span>

<span class="hljs-comment">// Reflectåˆ é™¤ï¼šè¿”å›falseï¼Œè¡¨ç¤ºæ“ä½œå¤±è´¥</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(obj, <span class="hljs-string">'name'</span>)); <span class="hljs-comment">// false</span>
</code></pre>
<h4 data-id="heading-17">3. Reflect å¸¸ç”¨æ–¹æ³•ä¸ä½¿ç”¨ç¤ºä¾‹</h4>
<p>Reflect å…±æœ‰ 13 ä¸ªé™æ€æ–¹æ³•ï¼Œä¸ Proxy çš„æ‹¦æˆªæ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œä»¥ä¸‹æ˜¯<strong>æœ€å¸¸ç”¨çš„ 8 ç§</strong>ï¼Œå‚æ•°å’Œä½¿ç”¨æ–¹å¼ä¸ Proxy æ‹¦æˆªæ–¹æ³•å®Œå…¨ä¸€è‡´ï¼Œå¯ç›´æ¥åœ¨ Proxy ä¸­ä½¿ç”¨ã€‚</p>
<h5 data-id="heading-18">1. Reflect.get(target, prop, receiver)</h5>
<p>è¯»å–ç›®æ ‡å¯¹è±¡çš„å±æ€§å€¼ï¼Œ<code>receiver</code> ä¸ºå±æ€§è®¿é—®å™¨ï¼ˆgetterï¼‰ä¸­çš„ this æŒ‡å‘ï¼Œå¯é€‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-keyword">get</span> <span class="hljs-title function_">age</span>() { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_age</span>; }, <span class="hljs-attr">_age</span>: <span class="hljs-number">18</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, <span class="hljs-string">'name'</span>)); <span class="hljs-comment">// å¼ ä¸‰</span>
<span class="hljs-comment">// ç»‘å®šgetterçš„thisæŒ‡å‘</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, <span class="hljs-string">'age'</span>, { <span class="hljs-attr">_age</span>: <span class="hljs-number">20</span> })); <span class="hljs-comment">// 20</span>
</code></pre>
<h5 data-id="heading-19">2. Reflect.set(target, prop, value, receiver)</h5>
<p>ä¸ºç›®æ ‡å¯¹è±¡çš„å±æ€§èµ‹å€¼ï¼Œè¿”å›å¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦æˆåŠŸï¼Œ<code>receiver</code> ä¸ºå±æ€§è®¾ç½®å™¨ï¼ˆsetterï¼‰ä¸­çš„ this æŒ‡å‘ï¼Œå¯é€‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(obj, <span class="hljs-string">'age'</span>, <span class="hljs-number">18</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">age</span>); <span class="hljs-comment">// 18</span>

<span class="hljs-keyword">const</span> freezeObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(freezeObj, <span class="hljs-string">'age'</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// falseï¼ˆå†»ç»“å¯¹è±¡ï¼Œèµ‹å€¼å¤±è´¥ï¼‰</span>
</code></pre>
<h5 data-id="heading-20">3. Reflect.has(target, prop)</h5>
<p>æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨äºç›®æ ‡å¯¹è±¡ä¸­ï¼ˆåŒ…æ‹¬è‡ªèº«å’ŒåŸå‹é“¾ï¼‰ï¼Œç­‰ä»·äº <code>prop in obj</code>ï¼Œè¿”å›å¸ƒå°”å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(obj, <span class="hljs-string">'name'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(obj, <span class="hljs-string">'toString'</span>)); <span class="hljs-comment">// trueï¼ˆåŸå‹é“¾ä¸Šçš„å±æ€§ï¼‰</span>
</code></pre>
<h5 data-id="heading-21">4. Reflect.deleteProperty(target, prop)</h5>
<p>åˆ é™¤ç›®æ ‡å¯¹è±¡çš„å±æ€§ï¼Œç­‰ä»·äº <code>delete obj.prop</code>ï¼Œè¿”å›å¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦æˆåŠŸã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(obj, <span class="hljs-string">'age'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">age</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-keyword">const</span> freezeObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(freezeObj, <span class="hljs-string">'name'</span>)); <span class="hljs-comment">// falseï¼ˆå†»ç»“å¯¹è±¡ï¼Œåˆ é™¤å¤±è´¥ï¼‰</span>
</code></pre>
<h5 data-id="heading-22">5. Reflect.apply(target, thisArg, args)</h5>
<p>è°ƒç”¨ç›®æ ‡å‡½æ•°ï¼Œç­‰ä»·äº <code>target.call(thisArg, ...args)</code> æˆ– <code>target.apply(thisArg, args)</code>ï¼Œè¿”å›å‡½æ•°æ‰§è¡Œç»“æœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(add, <span class="hljs-literal">null</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])); <span class="hljs-comment">// 3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>, <span class="hljs-literal">null</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])); <span class="hljs-comment">// 3</span>
</code></pre>
<h5 data-id="heading-23">6. Reflect.construct(target, args, newTarget)</h5>
<p>ç”¨ new è¿ç®—ç¬¦å®ä¾‹åŒ–æ„é€ å‡½æ•°ï¼Œç­‰ä»·äº <code>new target(...args)</code>ï¼Œ<code>newTarget</code> å¯é€‰ï¼ŒæŒ‡å®šå®ä¾‹çš„åŸå‹ï¼Œè¿”å›å®ä¾‹å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(<span class="hljs-title class_">Person</span>, [<span class="hljs-string">'å¼ ä¸‰'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1); <span class="hljs-comment">// Person { name: 'å¼ ä¸‰' }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1 <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Person</span>); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-24">7. Reflect.getOwnPropertyDescriptor(target, prop)</h5>
<p>è·å–ç›®æ ‡å¯¹è±¡å±æ€§çš„æè¿°ç¬¦ï¼Œç­‰ä»·äº <code>Object.getOwnPropertyDescriptor</code>ï¼Œè¿”å›æè¿°ç¬¦å¯¹è±¡æˆ– undefinedï¼Œå¯¹éå¯¹è±¡ç›®æ ‡è¿”å› falseã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> };
<span class="hljs-keyword">const</span> desc = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(obj, <span class="hljs-string">'name'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(desc); <span class="hljs-comment">// { value: 'å¼ ä¸‰', writable: true, enumerable: true, configurable: true }</span>
</code></pre>
<h5 data-id="heading-25">8. Reflect.ownKeys(target)</h5>
<p>è·å–ç›®æ ‡å¯¹è±¡çš„<strong>æ‰€æœ‰è‡ªèº«å±æ€§å</strong>ï¼ˆåŒ…æ‹¬å¯æšä¸¾ã€ä¸å¯æšä¸¾ã€Symbol å±æ€§ï¼‰ï¼Œç­‰ä»·äº <code>Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))</code>ï¼Œè¿”å›å±æ€§åæ•°ç»„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> };
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">'age'</span>, { <span class="hljs-attr">value</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span> });
<span class="hljs-keyword">const</span> sym = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'gender'</span>);
obj[sym] = <span class="hljs-string">'ç”·'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(obj)); <span class="hljs-comment">// ['name', 'age', Symbol(gender)]</span>
</code></pre>
<h3 data-id="heading-26">ğŸ“ å››ã€Proxy ä¸ Reflect ç»“åˆå®æˆ˜</h3>
<p>Proxy ä¸ Reflect çš„ç»“åˆæ˜¯ ES6 å…ƒç¼–ç¨‹çš„æ ¸å¿ƒï¼Œä»¥ä¸‹æ˜¯<strong>å¼€å‘ä¸­æœ€å¸¸è§çš„ 3 ä¸ªå®æˆ˜åœºæ™¯</strong>ï¼Œè¦†ç›–æ•°æ®æ ¡éªŒã€æ•°æ®åŠ«æŒã€å¯¹è±¡ç§æœ‰åŒ–ï¼Œå‡ä¸ºå‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vue3ï¼‰ã€å·¥å…·åº“çš„æ ¸å¿ƒå®ç°æ€è·¯ã€‚</p>
<h4 data-id="heading-27">å®æˆ˜1ï¼šå®ç°å¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ˆ# ç§æœ‰å±æ€§çš„æ›¿ä»£æ–¹æ¡ˆï¼‰</h4>
<p>ES6 æä¾›äº† <code>#</code> å®šä¹‰ç§æœ‰å±æ€§ï¼Œä½†å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ä¸”æ— æ³•åŠ¨æ€æ§åˆ¶ï¼Œé€šè¿‡ Proxy + Reflect å¯å®ç°<strong>æ›´çµæ´»çš„å¯¹è±¡å±æ€§ç§æœ‰åŒ–</strong>ï¼ŒæŒ‡å®šå‰ç¼€ï¼ˆå¦‚ <code>_</code>ï¼‰çš„å±æ€§ä¸ºç§æœ‰å±æ€§ï¼Œç¦æ­¢å¤–éƒ¨è¯»å–å’Œä¿®æ”¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * å®ç°å¯¹è±¡å±æ€§ç§æœ‰åŒ–ï¼šä»¥_å¼€å¤´çš„å±æ€§ä¸ºç§æœ‰å±æ€§ï¼Œç¦æ­¢å¤–éƒ¨è®¿é—®å’Œä¿®æ”¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Proxy</span>} ä»£ç†å¯¹è±¡
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPrivateObj</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-keyword">const</span> handler = {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
      <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šç¦æ­¢è¯»å–ç§æœ‰å±æ€§</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> prop === <span class="hljs-string">'string'</span> &amp;&amp; prop.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'_'</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å±æ€§<span class="hljs-subst">${prop}</span>æ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢è¯»å–`</span>);
      }
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver);
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value, receiver</span>) {
      <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šç¦æ­¢ä¿®æ”¹ç§æœ‰å±æ€§</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> prop === <span class="hljs-string">'string'</span> &amp;&amp; prop.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'_'</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å±æ€§<span class="hljs-subst">${prop}</span>æ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢ä¿®æ”¹`</span>);
      }
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, prop, value, receiver);
    },
    <span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">target, prop</span>) {
      <span class="hljs-comment">// è‡ªå®šä¹‰é€»è¾‘ï¼šç¦æ­¢åˆ é™¤ç§æœ‰å±æ€§</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> prop === <span class="hljs-string">'string'</span> &amp;&amp; prop.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'_'</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å±æ€§<span class="hljs-subst">${prop}</span>æ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢åˆ é™¤`</span>);
      }
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target, prop);
    }
  };
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler);
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">createPrivateObj</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">_age</span>: <span class="hljs-number">18</span>, <span class="hljs-comment">// ç§æœ‰å±æ€§</span>
  <span class="hljs-attr">_gender</span>: <span class="hljs-string">'ç”·'</span> <span class="hljs-comment">// ç§æœ‰å±æ€§</span>
});

<span class="hljs-comment">// æµ‹è¯•å…¬æœ‰å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">name</span>); <span class="hljs-comment">// å¼ ä¸‰</span>
user.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">name</span>); <span class="hljs-comment">// æå››</span>

<span class="hljs-comment">// æµ‹è¯•ç§æœ‰å±æ€§ï¼šå‡æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-comment">// console.log(user._age); // Uncaught Error: å±æ€§_ageæ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢è¯»å–</span>
<span class="hljs-comment">// user._age = 20; // Uncaught Error: å±æ€§_ageæ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢ä¿®æ”¹</span>
<span class="hljs-comment">// delete user._gender; // Uncaught Error: å±æ€§_genderæ˜¯ç§æœ‰å±æ€§ï¼Œç¦æ­¢åˆ é™¤</span>
</code></pre>
<h4 data-id="heading-28">å®æˆ˜2ï¼šå®ç°ç®€æ˜“çš„æ•°æ®åŠ«æŒï¼ˆVue3 å“åº”å¼æ ¸å¿ƒæ€è·¯ï¼‰</h4>
<p>Vue3 çš„å“åº”å¼ç³»ç»Ÿæ ¸å¿ƒå°±æ˜¯<strong>åŸºäº Proxy + Reflect å®ç°çš„æ·±åº¦æ•°æ®åŠ«æŒ</strong>ï¼Œé€šè¿‡æ‹¦æˆªå¯¹è±¡çš„å±æ€§è¯»å–ï¼ˆ<code>get</code>ï¼‰å’Œèµ‹å€¼ï¼ˆ<code>set</code>ï¼‰ï¼Œåœ¨è¯»å–æ—¶æ”¶é›†ä¾èµ–ï¼Œåœ¨èµ‹å€¼æ—¶è§¦å‘æ›´æ–°ã€‚ä»¥ä¸‹å®ç°ä¸€ä¸ª<strong>ç®€æ˜“ç‰ˆçš„å“åº”å¼ç³»ç»Ÿ</strong>ï¼Œè¿˜åŸæ ¸å¿ƒæ€è·¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¾èµ–æ˜ å°„ï¼šå­˜å‚¨å±æ€§ä¸å¯¹åº”çš„æ›´æ–°å‡½æ•°</span>
<span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
<span class="hljs-comment">// å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ›´æ–°å‡½æ•°</span>
<span class="hljs-keyword">let</span> activeEffect = <span class="hljs-literal">null</span>;

<span class="hljs-comment">/**
 * æ³¨å†Œæ›´æ–°å‡½æ•°ï¼ˆæ”¶é›†ä¾èµ–ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">effect</span> - æ›´æ–°å‡½æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">effect</span>(<span class="hljs-params">effectFn</span>) {
  activeEffect = effectFn;
  <span class="hljs-comment">// æ‰§è¡Œä¸€æ¬¡æ›´æ–°å‡½æ•°ï¼Œè§¦å‘å±æ€§è¯»å–ï¼Œå®Œæˆä¾èµ–æ”¶é›†</span>
  <span class="hljs-title function_">effectFn</span>();
  activeEffect = <span class="hljs-literal">null</span>;
}

<span class="hljs-comment">/**
 * è§¦å‘ä¾èµ–æ›´æ–°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string|Symbol</span>} <span class="hljs-variable">prop</span> - å±æ€§å
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, prop</span>) {
  <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">const</span> deps = depsMap.<span class="hljs-title function_">get</span>(prop);
  <span class="hljs-keyword">if</span> (!deps) <span class="hljs-keyword">return</span>;
  <span class="hljs-comment">// æ‰§è¡Œæ‰€æœ‰ç›¸å…³çš„æ›´æ–°å‡½æ•°</span>
  deps.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> <span class="hljs-title function_">fn</span>());
}

<span class="hljs-comment">/**
 * æ”¶é›†ä¾èµ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string|Symbol</span>} <span class="hljs-variable">prop</span> - å±æ€§å
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, prop</span>) {
  <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>;
  <span class="hljs-comment">// å¤šå±‚æ˜ å°„ï¼štarget â†’ prop â†’ effectFn</span>
  <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) targetMap.<span class="hljs-title function_">set</span>(target, (depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()));
  <span class="hljs-keyword">let</span> deps = depsMap.<span class="hljs-title function_">get</span>(prop);
  <span class="hljs-keyword">if</span> (!deps) depsMap.<span class="hljs-title function_">set</span>(prop, (deps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()));
  deps.<span class="hljs-title function_">add</span>(activeEffect);
}

<span class="hljs-comment">/**
 * åˆ›å»ºå“åº”å¼å¯¹è±¡ï¼ˆæ·±åº¦ä»£ç†ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Proxy</span>} ä»£ç†å¯¹è±¡
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-keyword">const</span> handler = {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
      <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver);
      <span class="hljs-comment">// æ”¶é›†ä¾èµ–</span>
      <span class="hljs-title function_">track</span>(target, prop);
      <span class="hljs-comment">// æ·±åº¦ä»£ç†ï¼šå¦‚æœè¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œç»§ç»­åˆ›å»ºå“åº”å¼å¯¹è±¡</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'object'</span> &amp;&amp; result !== <span class="hljs-literal">null</span> ? <span class="hljs-title function_">reactive</span>(result) : result;
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value, receiver</span>) {
      <span class="hljs-keyword">const</span> oldValue = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver);
      <span class="hljs-keyword">const</span> isSet = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, prop, value, receiver);
      <span class="hljs-comment">// åªæœ‰å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰è§¦å‘æ›´æ–°</span>
      <span class="hljs-keyword">if</span> (isSet &amp;&amp; oldValue !== value) {
        <span class="hljs-title function_">trigger</span>(target, prop);
      }
      <span class="hljs-keyword">return</span> isSet;
    }
  };
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler);
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šæ¨¡æ‹ŸVue3çš„å“åº”å¼</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
});

<span class="hljs-comment">// æ³¨å†Œæ›´æ–°å‡½æ•°ï¼šå½“stateçš„å±æ€§å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span>
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å§“åï¼š<span class="hljs-subst">${state.name}</span>ï¼Œå¹´é¾„ï¼š<span class="hljs-subst">${state.age}</span>`</span>);
});

<span class="hljs-comment">// ä¿®æ”¹å±æ€§ï¼Œè§¦å‘æ›´æ–°å‡½æ•°æ‰§è¡Œ</span>
state.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span>; <span class="hljs-comment">// è¾“å‡ºï¼šå§“åï¼šæå››ï¼Œå¹´é¾„ï¼š18</span>
state.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>; <span class="hljs-comment">// è¾“å‡ºï¼šå§“åï¼šæå››ï¼Œå¹´é¾„ï¼š20</span>
state.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>; <span class="hljs-comment">// å€¼æœªå˜åŒ–ï¼Œä¸è§¦å‘æ›´æ–°</span>
</code></pre>
<h4 data-id="heading-29">å®æˆ˜3ï¼šå®ç°å‡½æ•°çš„å‚æ•°æ ¡éªŒä¸è¿”å›å€¼æ ¼å¼åŒ–</h4>
<p>é€šè¿‡ Proxy æ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ï¼ˆ<code>apply</code>ï¼‰ï¼Œç»“åˆ Reflect æ‰§è¡ŒåŸç”Ÿè°ƒç”¨ï¼Œå®ç°<strong>é€šç”¨çš„å‡½æ•°å‚æ•°æ ¡éªŒå’Œè¿”å›å€¼æ ¼å¼åŒ–</strong>ï¼Œæ— éœ€ä¿®æ”¹å‡½æ•°æœ¬èº«ï¼Œå®ç°éä¾µå…¥å¼å¢å¼ºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * å‡½æ•°å¢å¼ºï¼šå‚æ•°æ ¡éªŒ + è¿”å›å€¼æ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">fn</span> - ç›®æ ‡å‡½æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">validateRules</span> - å‚æ•°æ ¡éªŒè§„åˆ™ï¼ˆæ¯ä¸ªå…ƒç´ ä¸ºå¯¹åº”å‚æ•°çš„æ ¡éªŒå‡½æ•°ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">formatFn</span> - è¿”å›å€¼æ ¼å¼åŒ–å‡½æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Proxy</span>} ä»£ç†å‡½æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">enhanceFn</span>(<span class="hljs-params">fn, validateRules = [], formatFn = v =&gt; v</span>) {
  <span class="hljs-keyword">const</span> handler = {
    <span class="hljs-title function_">apply</span>(<span class="hljs-params">target, thisArg, args</span>) {
      <span class="hljs-comment">// 1. å‚æ•°æ ¡éªŒï¼šæ ¡éªŒè§„åˆ™æ•°é‡ä¸å‚æ•°æ•°é‡ä¸€è‡´</span>
      <span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> !== validateRules.<span class="hljs-property">length</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`å‚æ•°æ•°é‡ä¸åŒ¹é…ï¼ŒæœŸæœ›<span class="hljs-subst">${validateRules.length}</span>ä¸ªï¼Œå®é™…<span class="hljs-subst">${args.length}</span>ä¸ª`</span>);
      }
      <span class="hljs-comment">// é€ä¸ªæ ¡éªŒå‚æ•°</span>
      args.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">arg, index</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> isValidate = validateRules[index](arg);
        <span class="hljs-keyword">if</span> (!isValidate) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${index+<span class="hljs-number">1</span>}</span>ä¸ªå‚æ•°<span class="hljs-subst">${arg}</span>æ ¡éªŒå¤±è´¥`</span>);
        }
      });
      <span class="hljs-comment">// 2. æ‰§è¡ŒåŸç”Ÿå‡½æ•°è°ƒç”¨</span>
      <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArg, args);
      <span class="hljs-comment">// 3. è¿”å›å€¼æ ¼å¼åŒ–</span>
      <span class="hljs-keyword">const</span> formatResult = <span class="hljs-title function_">formatFn</span>(result);
      <span class="hljs-keyword">return</span> formatResult;
    }
  };
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(fn, handler);
}

<span class="hljs-comment">// ç›®æ ‡å‡½æ•°ï¼šè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;

<span class="hljs-comment">// å¢å¼ºå‡½æ•°ï¼šå‚æ•°å¿…é¡»æ˜¯æ•°å­—ï¼Œè¿”å›å€¼æ ¼å¼åŒ–ä¸º{ result: ç»“æœ }</span>
<span class="hljs-keyword">const</span> proxyAdd = <span class="hljs-title function_">enhanceFn</span>(
  add,
  [
    <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> <span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>, <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ•°å­—</span>
    <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> <span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>  <span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯æ•°å­—</span>
  ],
  <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> ({ <span class="hljs-attr">result</span>: res })
);

<span class="hljs-comment">// æµ‹è¯•åˆæ³•è°ƒç”¨</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">proxyAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// { result: 3 }</span>

<span class="hljs-comment">// æµ‹è¯•éæ³•è°ƒç”¨ï¼šå‚æ•°æ ¡éªŒå¤±è´¥</span>
<span class="hljs-comment">// console.log(proxyAdd(1, '2')); // Uncaught Error: ç¬¬2ä¸ªå‚æ•°2æ ¡éªŒå¤±è´¥</span>
<span class="hljs-comment">// console.log(proxyAdd(1)); // Uncaught Error: å‚æ•°æ•°é‡ä¸åŒ¹é…ï¼ŒæœŸæœ›2ä¸ªï¼Œå®é™…1ä¸ª</span>
</code></pre>
<h3 data-id="heading-30">ğŸš¨  äº”ã€Proxy ä¸ Reflect çš„å¸¸è§å‘ä¸é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-31">1. Proxy æ˜¯æµ…ä»£ç†ï¼ŒåµŒå¥—å¯¹è±¡éœ€æ‰‹åŠ¨å®ç°æ·±ä»£ç†</h4>
<p><strong>é—®é¢˜</strong>ï¼šProxy é»˜è®¤åªä»£ç†ç›®æ ‡å¯¹è±¡çš„é¡¶å±‚å±æ€§ï¼ŒåµŒå¥—å¯¹è±¡çš„å±æ€§æ“ä½œä¸ä¼šè§¦å‘æ‹¦æˆªï¼Œå¦‚ <code>proxyObj.obj.prop = value</code> ä¸ä¼šè§¦å‘ proxyObj çš„ set æ‹¦æˆªã€‚
<strong>è§£å†³</strong>ï¼šåœ¨ get æ‹¦æˆªæ–¹æ³•ä¸­ï¼Œåˆ¤æ–­è¿”å›å€¼æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œè‹¥æ˜¯åˆ™é€’å½’åˆ›å»º Proxy ä»£ç†ï¼Œå®ç°<strong>æ·±ä»£ç†</strong>ï¼ˆå¦‚å®æˆ˜2ä¸­çš„ reactive å‡½æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-32">2. Reflect.set/deleteProperty å¯¹ä¸å¯å˜å¯¹è±¡è¿”å› falseï¼Œè€ŒéæŠ›é”™</h4>
<p><strong>é—®é¢˜</strong>ï¼šå¯¹å†»ç»“ï¼ˆObject.freezeï¼‰ã€å¯†å°ï¼ˆObject.sealï¼‰çš„å¯¹è±¡æ‰§è¡Œèµ‹å€¼/åˆ é™¤æ“ä½œï¼ŒReflect æ–¹æ³•è¿”å› falseï¼Œè€ŒåŸç”Ÿæ“ä½œä¼šé™é»˜å¤±è´¥ï¼Œè‹¥æœªåˆ¤æ–­è¿”å›å€¼ï¼Œæ˜“å¯¼è‡´é€»è¾‘é”™è¯¯ã€‚
<strong>è§£å†³</strong>ï¼šåœ¨ Proxy çš„ set/deleteProperty æ‹¦æˆªæ–¹æ³•ä¸­ï¼Œ<strong>å¿…é¡»åˆ¤æ–­ Reflect æ–¹æ³•çš„è¿”å›å€¼</strong>ï¼Œæ ¹æ®è¿”å›å€¼åšé”™è¯¯å¤„ç†æˆ–æç¤ºã€‚</p>
<h4 data-id="heading-33">3. ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡çš„åŸå‹é“¾ä¸ä¸€è‡´</h4>
<p><strong>é—®é¢˜</strong>ï¼šProxy ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå…¶åŸå‹é“¾ä¸ç›®æ ‡å¯¹è±¡ä¸åŒï¼Œä½¿ç”¨ <code>instanceof</code> æ—¶å¯èƒ½å‡ºç°ä¸ç¬¦åˆé¢„æœŸçš„ç»“æœï¼ˆä½†å®é™…å¼€å‘ä¸­å½±å“æå°ï¼Œå› ä¸ºä»£ç†å¯¹è±¡çš„ç”¨æ³•ä¸ç›®æ ‡å¯¹è±¡ä¸€è‡´ï¼‰ã€‚
<strong>è§£å†³</strong>ï¼šè‹¥éœ€ä¸¥æ ¼ä¿è¯åŸå‹é“¾ä¸€è‡´ï¼Œå¯é€šè¿‡ <code>Object.setPrototypeOf(proxy, Object.getPrototypeOf(target))</code> æ‰‹åŠ¨è®¾ç½®ä»£ç†å¯¹è±¡çš„åŸå‹ã€‚</p>
<h4 data-id="heading-34">4. æ‹¦æˆª ownKeys æ—¶ï¼Œè¿”å›çš„å±æ€§åå¿…é¡»ç¬¦åˆè§„èŒƒ</h4>
<p><strong>é—®é¢˜</strong>ï¼šåœ¨ ownKeys æ‹¦æˆªæ–¹æ³•ä¸­ï¼Œè‹¥è¿”å›çš„å±æ€§ååŒ…å«<strong>éå­—ç¬¦ä¸²ã€éSymbol</strong>çš„å€¼ï¼Œæˆ–åŒ…å«é‡å¤çš„å±æ€§åï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚
<strong>è§£å†³</strong>ï¼šç¡®ä¿ ownKeys æ‹¦æˆªæ–¹æ³•è¿”å›çš„æ˜¯<strong>ç”±å­—ç¬¦ä¸²å’ŒSymbolç»„æˆçš„æ— é‡å¤æ•°ç»„</strong>ï¼Œå»ºè®®åŸºäº Reflect.ownKeys(target) åšè¿‡æ»¤ï¼Œè€Œéæ‰‹åŠ¨åˆ›å»ºã€‚</p>
<h4 data-id="heading-35">5. Reflect.construct çš„ newTarget å‚æ•°æ˜“è¢«å¿½ç•¥</h4>
<p><strong>é—®é¢˜</strong>ï¼šä½¿ç”¨ Reflect.construct æ—¶ï¼Œè‹¥æœªæŒ‡å®š newTargetï¼Œå®ä¾‹çš„åŸå‹æ˜¯ target.prototypeï¼›è‹¥æŒ‡å®šäº† newTargetï¼Œå®ä¾‹çš„åŸå‹æ˜¯ newTarget.prototypeï¼Œæ˜“å› å¿½ç•¥è¯¥å‚æ•°å¯¼è‡´åŸå‹é“¾é”™è¯¯ã€‚
<strong>è§£å†³</strong>ï¼šæ˜ç¡® Reflect.construct çš„ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å†³å®šæ˜¯å¦æŒ‡å®šï¼Œé¿å…åŸå‹é“¾æ··ä¹±ã€‚</p>
<h3 data-id="heading-36">ğŸ”§ å…­ã€Proxy/Reflect çš„å…¼å®¹æ€§ä¸æ›¿ä»£æ–¹æ¡ˆ</h3>
<h4 data-id="heading-37">1. å…¼å®¹æ€§</h4>
<p>Proxy å’Œ Reflect å‡ä¸º ES6 ç‰¹æ€§ï¼Œå…¼å®¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>æ¡Œé¢ç«¯</strong>ï¼šChrome â‰¥ 49ã€Firefox â‰¥ 18ã€Edge â‰¥ 12ã€Safari â‰¥ 10ï¼›</li>
<li><strong>ç§»åŠ¨ç«¯</strong>ï¼šå¾®ä¿¡å°ç¨‹åº/å…¬ä¼—å·ã€App å†…ç½® Chromium æµè§ˆå™¨å‡æ”¯æŒï¼ŒiOS Safari â‰¥ 10ã€Android WebView â‰¥ 49ï¼›</li>
<li><strong>ä¸æ”¯æŒ</strong>ï¼šIE æµè§ˆå™¨å®Œå…¨ä¸æ”¯æŒï¼Œæ— åŸç”Ÿå…¼å®¹æ–¹æ¡ˆã€‚</li>
</ul>
<h4 data-id="heading-38">2. æ›¿ä»£æ–¹æ¡ˆ</h4>
<p>è‹¥éœ€å…¼å®¹ IE ç­‰ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>æ•°æ®åŠ«æŒ</strong>ï¼šä½¿ç”¨ <code>Object.defineProperty</code> æ›¿ä»£ Proxyï¼ˆVue2 çš„å“åº”å¼æ–¹æ¡ˆï¼‰ï¼Œä½†ä»…èƒ½æ‹¦æˆªå±æ€§çš„è¯»å–å’Œèµ‹å€¼ï¼Œæ— æ³•æ‹¦æˆªæ•°ç»„çš„ push/pop ç­‰æ–¹æ³•ï¼Œä¹Ÿæ— æ³•å®ç°æ·±ä»£ç†çš„è‡ªåŠ¨æ£€æµ‹ï¼›</li>
<li><strong>åŸç”Ÿæ“ä½œå°è£…</strong>ï¼šä½¿ç”¨è‡ªå®šä¹‰å·¥å…·å‡½æ•°å°è£…åŸç”Ÿæ“ä½œï¼Œæ›¿ä»£ Reflectï¼Œä½†éœ€æ‰‹åŠ¨å¤„ç†å„ç§è¾¹ç•Œæƒ…å†µï¼Œä»£ç é‡è¾ƒå¤§ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼šç°ä»£å‰ç«¯å¼€å‘ï¼ˆå¦‚ Vue3ã€React ç”Ÿæ€ï¼‰å‡å·²æ”¾å¼ƒ IE å…¼å®¹ï¼Œå¯æ”¾å¿ƒä½¿ç”¨ Proxy + Reflectï¼Œè¿™æ˜¯æœªæ¥ JavaScript å…ƒç¼–ç¨‹çš„ä¸»æµæ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-39">ğŸ ä¸ƒã€Proxy/Reflect çš„é€‚ç”¨åœºæ™¯</h3>
<p>Proxy + Reflect ä½œä¸º ES6 å…ƒç¼–ç¨‹çš„æ ¸å¿ƒï¼Œé€‚ç”¨äº<strong>éœ€è¦å¯¹å¯¹è±¡/å‡½æ•°çš„åº•å±‚è¡Œä¸ºè¿›è¡Œæ‹¦æˆªã€å¢å¼ºå’Œè‡ªå®šä¹‰</strong>çš„åœºæ™¯ï¼Œæ˜¯å‰ç«¯æ¡†æ¶ã€å·¥å…·åº“ã€é€šç”¨ç»„ä»¶çš„æ ¸å¿ƒå®ç°æŠ€æœ¯ï¼Œå…¸å‹åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å“åº”å¼ç³»ç»Ÿ</strong>ï¼šå¦‚ Vue3 çš„ reactiveã€React çš„ useState åº•å±‚å®ç°ï¼Œé€šè¿‡æ•°æ®åŠ«æŒå®ç°è§†å›¾ä¸æ•°æ®çš„è‡ªåŠ¨åŒæ­¥ï¼›</li>
<li><strong>æ•°æ®æ ¡éªŒ</strong>ï¼šå¦‚è¡¨å•éªŒè¯ã€æ¥å£å‚æ•°æ ¡éªŒï¼Œå¯¹å¯¹è±¡çš„å±æ€§èµ‹å€¼è¿›è¡Œæ‹¦æˆªï¼Œå®ç°å®æ—¶æ ¡éªŒï¼›</li>
<li><strong>å¯¹è±¡ç§æœ‰åŒ–</strong>ï¼šå®ç°çµæ´»çš„ç§æœ‰å±æ€§ï¼Œæ›¿ä»£ ES6 çš„ <code>#</code> ç§æœ‰å±æ€§ï¼Œæ”¯æŒåŠ¨æ€æ§åˆ¶ï¼›</li>
<li><strong>å‡½æ•°å¢å¼º</strong>ï¼šå¦‚æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€å‚æ•°æ ¡éªŒã€è¿”å›å€¼æ ¼å¼åŒ–ï¼Œéä¾µå…¥å¼å¢å¼ºå‡½æ•°åŠŸèƒ½ï¼›</li>
<li><strong>æ•°æ®ç›‘æ§</strong>ï¼šå¦‚åŸ‹ç‚¹ç³»ç»Ÿã€æ•°æ®ç»Ÿè®¡ï¼Œæ‹¦æˆªå¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼Œè®°å½•æ“ä½œæ—¥å¿—ï¼›</li>
<li><strong>æ¨¡æ‹Ÿå®ç°</strong>ï¼šå¦‚æ¨¡æ‹Ÿ Mapã€Setã€Promise ç­‰å†…ç½®å¯¹è±¡ï¼Œè‡ªå®šä¹‰å…¶è¡Œä¸ºï¼›</li>
<li><strong>AOP é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>ï¼šåœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œä¸ºå‡½æ•°æ·»åŠ å‰ç½®/åç½®é€šçŸ¥ï¼Œå®ç°æ—¥å¿—ã€äº‹åŠ¡ã€ç¼“å­˜ç­‰åŠŸèƒ½ã€‚</li>
</ol>
<h3 data-id="heading-40">ğŸ“Œå…«ã€æ€»ç»“</h3>
<ol>
<li><strong>Proxy æ˜¯å¯¹è±¡æ‹¦æˆªå™¨</strong>ï¼Œåˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆª 13 ç§åº•å±‚æ“ä½œï¼Œå®ç°è‡ªå®šä¹‰è¡Œä¸ºï¼Œéä¾µå…¥å¼ä¿®æ”¹å¯¹è±¡è¡Œä¸ºï¼Œæ˜¯ JavaScript å…ƒç¼–ç¨‹çš„æ ¸å¿ƒï¼›</li>
<li><strong>Reflect æ˜¯åŸç”Ÿæ“ä½œå°è£…å™¨</strong>ï¼Œå°†åˆ†æ•£çš„åŸç”Ÿæ“ä½œæ•´åˆä¸ºç»Ÿä¸€çš„é™æ€æ–¹æ³•ï¼Œä¸ Proxy ä¸€ä¸€å¯¹åº”ï¼Œè¿”å›å€¼æ ‡å‡†åŒ–ï¼Œæ˜¯ Proxy çš„æœ€ä½³æ­æ¡£ï¼›</li>
<li><strong>Proxy ä¸ Reflect å¿…é¡»ç»“åˆä½¿ç”¨</strong>ï¼šProxy æ‹¦æˆªæ“ä½œï¼ŒReflect æ‰§è¡ŒåŸç”Ÿæ“ä½œï¼Œé¿å…æ‰‹åŠ¨å®ç°åŸç”Ÿæ“ä½œçš„å…¼å®¹ä»£ç ï¼Œè®©ä»£ç æ›´ä¼˜é›…ã€æ›´æ˜“ç»´æŠ¤ï¼›</li>
<li><strong>Proxy å®ç°æ·±ä»£ç†</strong>ï¼šéœ€åœ¨ get æ‹¦æˆªæ–¹æ³•ä¸­é€’å½’åˆ›å»º Proxyï¼Œå¯¹åµŒå¥—å¯¹è±¡è¿›è¡Œä»£ç†ï¼Œè¿™æ˜¯ Vue3 å“åº”å¼çš„æ ¸å¿ƒæ€è·¯ï¼›</li>
<li><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼šProxy æµ…ä»£ç†ã€çŠ¶æ€ä¸å¯é€†ã€ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡è§£è€¦ï¼›Reflect é™æ€å¯¹è±¡ã€æ ‡å‡†åŒ–è¿”å›å€¼ã€ä¸ Proxy å‚æ•°åŒ¹é…ï¼›</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå“åº”å¼ç³»ç»Ÿã€æ•°æ®æ ¡éªŒã€å¯¹è±¡ç§æœ‰åŒ–ã€å‡½æ•°å¢å¼ºã€æ•°æ®ç›‘æ§ç­‰ï¼Œæ˜¯å‰ç«¯æ¡†æ¶ã€å·¥å…·åº“çš„å¿…å¤‡æŠ€æœ¯ï¼›</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ŒIE å®Œå…¨ä¸æ”¯æŒï¼Œç°ä»£å‰ç«¯å¼€å‘å¯æ”¾å¿ƒä½¿ç”¨ï¼Œæ— éœ€å…¼å®¹ï¼›</li>
<li><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šProxy + Reflect è®© JavaScript æ‹¥æœ‰äº†ä¼˜é›…çš„å…ƒç¼–ç¨‹èƒ½åŠ›ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å†™ä»£ç æ¥æ“ä½œä»£ç ï¼Œå¤§å¹…æå‡ä»£ç çš„çµæ´»æ€§ã€å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
</ol>
<p>Proxy ä¸ Reflect æ˜¯ ES6 ä¸­æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å‰ç«¯è¿›é˜¶çš„å¿…å¤‡çŸ¥è¯†ç‚¹ï¼ŒæŒæ¡äºŒè€…çš„ç»“åˆä½¿ç”¨ï¼Œä¸ä»…èƒ½ç†è§£ Vue3 ç­‰ç°ä»£æ¡†æ¶çš„åº•å±‚å®ç°ï¼Œæ›´èƒ½åœ¨å®é™…å¼€å‘ä¸­å†™å‡ºæ›´ä¼˜é›…ã€æ›´çµæ´»çš„ä»£ç ï¼Œå®ç°å„ç§å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android è¾“å‡ºæœ¬åœ°æ—¥å¿—æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7605107459065593902</link>    <guid>https://juejin.cn/post/7605107459065593902</guid>    <pubDate>2026-02-11T01:20:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605107459065593902" data-draft-id="7604775190212378634" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android è¾“å‡ºæœ¬åœ°æ—¥å¿—æ–‡ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T01:20:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Poorguy9527"/> <meta itemprop="url" content="https://juejin.cn/user/1746465251931063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android è¾“å‡ºæœ¬åœ°æ—¥å¿—æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1746465251931063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Poorguy9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:20:42.000Z" title="Wed Feb 11 2026 01:20:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬åœ°æ–‡ä»¶æ—¥å¿—è¾“å…¥ï¼Œåˆ¶çº¦å¤§å°ã€æ—¶é™</p>
</blockquote>
<h2 data-id="heading-0">javaåº“</h2>
<pre><code class="hljs language-arduino" lang="arduino">dependencies {
  implementation <span class="hljs-string">'org.slf4j:slf4j-api:2.0.7'</span>
  implementation <span class="hljs-string">'com.github.tony19:logback-android:3.0.0'</span>
  testImplementation <span class="hljs-string">'ch.qos.logback:logback-classic:1.2.11'</span>
}

configurations.testImplementation {
  exclude <span class="hljs-keyword">module</span>: <span class="hljs-string">'logback-android'</span>
}
</code></pre>
<h2 data-id="heading-1">logback.xmlé…ç½®</h2>
<p>æ–‡ä»¶è·¯å¾„çš„é…ç½®</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--    å¯ä»¥è¿™æ ·å†™--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"LOG_DIR"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/storage/emulated/0/A_log"</span> /&gt;</span>
<span class="hljs-comment">&lt;!--    ä¹Ÿå¯ä»¥è¿™æ ·å†™--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"LOG_DIR"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${EXT_DIR:-${DATA_DIR}}/B_Log"</span> /&gt;</span>
 

</code></pre>
<h2 data-id="heading-2">æ—¥å¿—çº§åˆ«æ§åˆ¶</h2>
<p>åœ¨logback.xmlä¸­ä¿®æ”¹å¯ä»¥æ§åˆ¶æ—¥å¿—çº§åˆ«ï¼š</p>
<ul>
<li>
<p>DEBUGï¼šæ‰€æœ‰æ—¥å¿—ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</p>
</li>
<li>
<p>INFOï¼šåŠä»¥ä¸Šçº§åˆ«ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</p>
</li>
<li>
<p>WARNï¼šè­¦å‘ŠåŠä»¥ä¸Š</p>
</li>
<li>
<p>ERRORï¼šä»…é”™è¯¯</p>
</li>
</ul>
<h2 data-id="heading-3">Timber</h2>
<pre><code class="hljs language-arduino" lang="arduino">    dependencies {
      implementation <span class="hljs-string">'com.jakewharton.timber:timber:5.0.1'</span>
    }
</code></pre>
<p>ä¸€ä¸ªæ—¥å¿—æ¡†æ¶ï¼Œå¯ä»¥è½¬å‘ã€‚æ­æ¡¥è½¬æ¥æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œå¦‚æ­¤å°±ä¸éœ€è¦åœ¨æ¯ä¸ªç±»ä¸­ LoggerFactory.getLogger()ã€‚
èŠ‚çœä¸å°‘é‡å¤ä»£ç ã€‚</p>
<h3 data-id="heading-4">åœ¨javaä¸­è°ƒç”¨kotlin</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">    <span class="hljs-comment">/**
 * Slf4jTreeæ˜¯ä¸€ä¸ªTimberçš„æ ‘ï¼ˆTreeï¼‰å®ç°ï¼Œç”¨äºå°†Timberæ—¥å¿—è¾“å‡ºé‡å®šå‘åˆ°SLF4Jæ—¥å¿—æ¡†æ¶ã€‚å®ƒé€šè¿‡é‡å†™DebugTreeçš„logæ–¹æ³•ï¼Œæ ¹æ®æ—¥å¿—ä¼˜å…ˆçº§å°†æ—¥å¿—æ¶ˆæ¯å‘é€åˆ°ç›¸åº”çš„SLF4Jæ—¥å¿—çº§åˆ«ã€‚
 * é¿å…æ¯æ¬¡éƒ½è¦åœ¨ä½¿ç”¨ç±»ä¸­get.logger()å®ä¾‹
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Slf4jTree</span> : <span class="hljs-type">DebugTree</span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">log</span><span class="hljs-params">(priority: <span class="hljs-type">Int</span>, tag: <span class="hljs-type">String</span>?, message: <span class="hljs-type">String</span>, t: <span class="hljs-type">Throwable</span>?)</span></span> {
       <span class="hljs-keyword">val</span>  logger  = LoggerFactory.getLogger(tag)<span class="hljs-comment">//timberä¼šè‡ªåŠ¨ç”Ÿæˆtagï¼Œä¸€èˆ¬æ˜¯ç±»å</span>
        <span class="hljs-keyword">when</span> (priority) {
            Log.VERBOSE -&gt; logger.trace(<span class="hljs-string">"{}"</span>, message, t)
            Log.DEBUG -&gt; logger.debug(<span class="hljs-string">"{}"</span>, message, t)
            Log.INFO -&gt; logger.info(<span class="hljs-string">"{}"</span>, message, t)
            Log.WARN -&gt; logger.warn(<span class="hljs-string">"{}"</span>, message, t)
            Log.ERROR, Log.ASSERT -&gt; logger.error(<span class="hljs-string">"{}"</span>, message, t)
        }
    }
}
    
<span class="hljs-keyword">object</span> TimberUtils {

    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">configTimber</span><span class="hljs-params">()</span></span> {
        Timber.plant(Slf4jTree())<span class="hljs-comment">//å¦‚æœç›´æ¥åœ¨javaç±»ä¸­.plan(DebugTree()),IDEä¼šæŠ¥é”™è­¦å‘Šï¼Œè¿™æ˜¯å…¼å®¹é—®é¢˜å¯¼è‡´ã€‚</span>
    }

}
    
    
</code></pre>
<p>åˆå§‹åŒ–</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onCreate();

        TimberUtils.configTimber();<span class="hljs-comment">//Timberä¸èƒ½ç›´æ¥åœ¨javaç±»ä¸­ä½¿ç”¨ï¼Œå› æ­¤é—´æ¥ä½¿ç”¨ã€‚</span>
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨å¤§ç™½è¯ææ‡‚ Object.assign()]]></title>    <link>https://juejin.cn/post/7605106957133103138</link>    <guid>https://juejin.cn/post/7605106957133103138</guid>    <pubDate>2026-02-11T02:21:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605106957133103138" data-draft-id="7604766431227265064" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨å¤§ç™½è¯ææ‡‚ Object.assign()"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-02-11T02:21:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SuperEugene"/> <meta itemprop="url" content="https://juejin.cn/user/2366613652515256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨å¤§ç™½è¯ææ‡‚ Object.assign()
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2366613652515256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SuperEugene
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:21:37.000Z" title="Wed Feb 11 2026 02:21:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Object.assign() åˆ°åº•æ˜¯å•¥ï¼Ÿ</h2>
<p><code>Object.assign()</code> å¯ä»¥æŠŠå¤šä¸ªå¯¹è±¡çš„å±æ€§â€œåˆå¹¶â€åˆ°ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„ç›®æ ‡å¯¹è±¡é‡Œï¼Œå¹¶è¿”å›è¿™ä¸ªç›®æ ‡å¯¹è±¡ã€‚</p>
<p>ç”¨äººè¯è¯´å°±æ˜¯ï¼šæŠŠåé¢å¯¹è±¡é‡Œçš„å±æ€§ï¼Œä¸€ä¸ªä¸ªâ€œæ‹·è´â€åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ä¸Šï¼Œç±»ä¼¼äºâ€œæŠŠä¸œè¥¿å¡è¿›ä¸€ä¸ªç›®æ ‡å¯¹è±¡â€ã€‚</p>
<h2 data-id="heading-1">äºŒã€åŸºæœ¬è¯­æ³•</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(ç›®æ ‡å¯¹è±¡, æºå¯¹è±¡<span class="hljs-number">1</span>, æºå¯¹è±¡<span class="hljs-number">2</span>, ...)
</code></pre>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>ç›®æ ‡å¯¹è±¡</strong>ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯<strong>æºå¯¹è±¡</strong></li>
<li>ä¼šæŠŠæºå¯¹è±¡ä¸Šçš„<strong>å¯æšä¸¾è‡ªæœ‰å±æ€§</strong>å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡</li>
<li>è¿”å›å€¼å°±æ˜¯ä¿®æ”¹åçš„<strong>ç›®æ ‡å¯¹è±¡</strong></li>
</ul>
<p>ps.æœ‰ä¸ç†è§£æšä¸¾æ˜¯ä»€ä¹ˆçš„åŒå­¦å¯<a href="https://juejin.cn/post/7605106957133037602" target="_blank" title="https://juejin.cn/post/7605106957133037602">ç‚¹å‡»æ­¤å¤„</a>ï¼Œä¸€æ–‡å¸¦ä½ è½»æ¾äº†è§£æšä¸¾ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€åŸºç¡€ç¤ºä¾‹</h2>
<h3 data-id="heading-3">ç¤ºä¾‹ 1ï¼šåˆå¹¶ä¸¤ä¸ªå¯¹è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> target = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> source = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target);  <span class="hljs-comment">// { a: 1, b: 2, c: 3 }</span>
</code></pre>
<p>è¯´æ˜ï¼š<code>source</code> çš„ <code>b</code>ã€<code>c</code> è¢«å¤åˆ¶åˆ° <code>target</code>ï¼Œ<code>target</code> è¢«ä¿®æ”¹å¹¶è¿”å›ã€‚</p>
<h3 data-id="heading-4">ç¤ºä¾‹ 2ï¼šåˆå¹¶å¤šä¸ªå¯¹è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> obj3 = { <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };

<span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(obj1, obj2, obj3);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);  <span class="hljs-comment">// { a: 1, b: 2, c: 3 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1);    <span class="hljs-comment">// { a: 1, b: 2, c: 3 } â€”â€” obj1 è¢«ä¿®æ”¹äº†</span>
</code></pre>
<p>è¯´æ˜ï¼šä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹çš„å¯¹è±¡ä¼šä¾æ¬¡åˆå¹¶åˆ° <code>obj1</code>ï¼Œ<code>obj1</code> å°±æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œä¼šè¢«ç›´æ¥æ”¹åŠ¨ã€‚</p>
<h3 data-id="heading-5">ç¤ºä¾‹ 3ï¼šç›¸åŒå±æ€§ä¼šè¢«è¦†ç›–</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> target = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> source = { <span class="hljs-attr">b</span>: <span class="hljs-number">99</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };  <span class="hljs-comment">// b å†²çªäº†</span>

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target);  <span class="hljs-comment">// { a: 1, b: 99, c: 3 }</span>
</code></pre>
<p>è¯´æ˜ï¼šåé¢çš„å¯¹è±¡ä¼šè¦†ç›–å‰é¢çš„åŒåå±æ€§ï¼Œè¿™é‡Œæ˜¯ <code>source</code> çš„ <code>b: 99</code> è¦†ç›–äº†åŸæ¥çš„ <code>b: 2</code>ã€‚</p>
<h2 data-id="heading-6">å››ã€å¸¸è§ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-7">åœºæ™¯ 1ï¼šåˆ›å»ºå¯¹è±¡å‰¯æœ¬ï¼ˆæµ…æ‹·è´ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ˜'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> };
<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, original);

copy.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original.<span class="hljs-property">age</span>);  <span class="hljs-comment">// 18 â€”â€” åŸå¯¹è±¡æ²¡å˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy.<span class="hljs-property">age</span>);      <span class="hljs-comment">// 20</span>
</code></pre>
<p>è¦ç‚¹ï¼šç›®æ ‡å¯¹è±¡ç”¨ç©ºå¯¹è±¡ <code>{}</code>ï¼Œè¿™æ ·ä¸ä¼šä¿®æ”¹åŸå¯¹è±¡ï¼Œåªå¾—åˆ°ä¸€ä»½æµ…æ‹·è´ã€‚</p>
<h3 data-id="heading-8">åœºæ™¯ 2ï¼šç»™å¯¹è±¡æ·»åŠ é»˜è®¤å€¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params">options</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'åŒ¿åç”¨æˆ·'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">role</span>: <span class="hljs-string">'guest'</span>
  }, options);  <span class="hljs-comment">// ç”¨æˆ·ä¼ å…¥çš„ options ä¼šè¦†ç›–é»˜è®¤å€¼</span>
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">createUser</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å°çº¢'</span> }));
<span class="hljs-comment">// { name: 'å°çº¢', age: 0, role: 'guest' }</span>
</code></pre>
<p>è¯´æ˜ï¼šå…ˆç”¨é»˜è®¤å¯¹è±¡ï¼Œå†åˆå¹¶ç”¨æˆ·ä¼ å…¥çš„ <code>options</code>ï¼Œå®ç°é»˜è®¤å€¼é€»è¾‘ã€‚</p>
<h3 data-id="heading-9">åœºæ™¯ 3ï¼šå¤åˆ¶å¹¶ä¿®æ”¹å¯¹è±¡å±æ€§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> };
<span class="hljs-keyword">const</span> updatedUser = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, user, { <span class="hljs-attr">age</span>: <span class="hljs-number">26</span> });

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);         <span class="hljs-comment">// { name: 'å¼ ä¸‰', age: 25 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(updatedUser);  <span class="hljs-comment">// { name: 'å¼ ä¸‰', age: 26 }</span>
</code></pre>
<p>è¯´æ˜ï¼šå…ˆæ‹·è´ <code>user</code> åˆ°ç©ºå¯¹è±¡ï¼Œå†è¦†ç›– <code>age</code>ï¼Œå¾—åˆ°æ–°å¯¹è±¡ï¼ŒåŸå¯¹è±¡ä¸å˜ã€‚</p>
<h2 data-id="heading-10">äº”ã€æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-11">1. æµ…æ‹·è´ï¼Œä¸æ˜¯æ·±æ‹·è´</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">nested</span>: { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> } };
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj1);

obj2.<span class="hljs-property">nested</span>.<span class="hljs-property">b</span> = <span class="hljs-number">999</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-property">nested</span>.<span class="hljs-property">b</span>);  <span class="hljs-comment">// 999 â€”â€” åŸå¯¹è±¡é‡Œçš„åµŒå¥—å¯¹è±¡ä¹Ÿè¢«æ”¹äº†ï¼</span>
</code></pre>
<p>åµŒå¥—å¯¹è±¡è¿˜æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œä¿®æ”¹ <code>obj2.nested</code> ä¼šå½±å“åˆ° <code>obj1.nested</code>ã€‚éœ€è¦æ·±æ‹·è´æ—¶è¦ç”¨é€’å½’ã€ç»“æ„åŒ–å…‹éš†æˆ– <code>lodash.cloneDeep</code> ç­‰ã€‚</p>
<h4 data-id="heading-12">è¡¥å…… - æ·±æµ…æ‹·è´å®šä¹‰ï¼š</h4>
<ul>
<li>æµ…æ‹·è´ï¼šä»…å¤åˆ¶å¯¹è±¡çš„è¡¨å±‚ç»“æ„ï¼Œå¯¹åµŒå¥—çš„å¼•ç”¨ç±»å‹ä»…å¤åˆ¶å†…å­˜å¼•ç”¨ï¼Œæ–°æ—§å¯¹è±¡å…±äº«åµŒå¥—æ•°æ®ã€‚</li>
<li>æ·±æ‹·è´ï¼šå®Œæ•´å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±‚çº§ç»“æ„ï¼ˆå«æ‰€æœ‰åµŒå¥—å¼•ç”¨ç±»å‹ï¼‰ï¼Œæ–°æ—§å¯¹è±¡å®Œå…¨ç‹¬ç«‹ã€æ— æ•°æ®å…±äº«ã€‚</li>
</ul>
<h3 data-id="heading-13">2. åªå¤åˆ¶å¯æšä¸¾è‡ªæœ‰å±æ€§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>({ <span class="hljs-attr">inherit</span>: <span class="hljs-string">'ç»§æ‰¿å±æ€§'</span> });
obj.<span class="hljs-property">own</span> = <span class="hljs-string">'è‡ªæœ‰å±æ€§'</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);  <span class="hljs-comment">// { own: 'è‡ªæœ‰å±æ€§' } â€”â€” ç»§æ‰¿å±æ€§ä¸ä¼šè¢«å¤åˆ¶</span>
</code></pre>
<p>è¯´æ˜ï¼šåªå¤åˆ¶æºå¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ï¼ŒåŸå‹é“¾ä¸Šçš„å±æ€§ä¸ä¼šè¢«å¤åˆ¶ã€‚</p>
<h3 data-id="heading-14">3. ä¼šä¿®æ”¹ç›®æ ‡å¯¹è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> target = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target);  <span class="hljs-comment">// { a: 1, b: 2 } â€”â€” target è¢«æ”¹å˜äº†</span>
</code></pre>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«ç›´æ¥ä¿®æ”¹ï¼Œå¦‚æœä¸å¸Œæœ›å½±å“åŸå¯¹è±¡ï¼Œå¯ä»¥æŠŠç¬¬ä¸€ä¸ªå‚æ•°å†™æˆ <code>{}</code>ã€‚</p>
<h3 data-id="heading-15">4. æºå‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶çš„å¤„ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">123</span>, <span class="hljs-string">'abc'</span>);
<span class="hljs-comment">// å¿½ç•¥ undefinedã€nullã€æ•°å­—ï¼Œå­—ç¬¦ä¸²ä¼šæŒ‰å­—ç¬¦æ‹†åˆ†</span>
<span class="hljs-comment">// ç»“æœ: { 0: 'a', 1: 'b', 2: 'c' }</span>
</code></pre>
<ul>
<li><code>undefined</code>ã€<code>null</code> ä¼šè¢«è·³è¿‡</li>
<li>åŸºæœ¬ç±»å‹ä¼šå…ˆåŒ…è£…æˆå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ä¼šè¢«å½“æˆç±»æ•°ç»„å¯¹è±¡å¤„ç†ï¼Œä¸€èˆ¬ä¸æ¨èè¿™æ ·ç”¨</li>
</ul>
<h2 data-id="heading-16">å…­ã€å’Œå±•å¼€è¿ç®—ç¬¦çš„åŒºåˆ«</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };

<span class="hljs-comment">// æ–¹å¼ 1ï¼šObject.assign</span>
<span class="hljs-keyword">const</span> result1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj1, obj2);

<span class="hljs-comment">// æ–¹å¼ 2ï¼šå±•å¼€è¿ç®—ç¬¦</span>
<span class="hljs-keyword">const</span> result2 = { ...obj1, ...obj2 };

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result1);  <span class="hljs-comment">// { a: 1, b: 2 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result2);  <span class="hljs-comment">// { a: 1, b: 2 }</span>
</code></pre>
<p>ä¸¤è€…éƒ½èƒ½åˆå¹¶å¯¹è±¡ï¼Œé€šå¸¸ç”¨å±•å¼€è¿ç®—ç¬¦ <code>{ ...obj1, ...obj2 }</code> æ›´ç›´è§‚ï¼›éœ€è¦ä¿®æ”¹å·²æœ‰ç›®æ ‡å¯¹è±¡ã€æˆ–è€…å¤„ç†éå¯¹è±¡å‚æ•°æ—¶ï¼Œå†ç”¨ <code>Object.assign</code> æ›´åˆé€‚ã€‚</p>
<h2 data-id="heading-17">ä¸ƒã€æ€»ç»“</h2>





























<table><thead><tr><th>è¦ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ä½œç”¨</td><td>æŠŠå¤šä¸ªæºå¯¹è±¡çš„å±æ€§åˆå¹¶åˆ°ç›®æ ‡å¯¹è±¡</td></tr><tr><td>ç¬¬ä¸€ä¸ªå‚æ•°</td><td>ç›®æ ‡å¯¹è±¡ï¼Œä¼šè¢«ä¿®æ”¹</td></tr><tr><td>è¿”å›å€¼</td><td>ä¿®æ”¹åçš„ç›®æ ‡å¯¹è±¡</td></tr><tr><td>æ‹·è´æ–¹å¼</td><td>æµ…æ‹·è´</td></tr><tr><td>å¸¸è§ç”¨æ³•</td><td>å¯¹è±¡æµ…æ‹·è´ã€æ·»åŠ é»˜è®¤å€¼ã€åˆå¹¶å¤šä¸ªå¯¹è±¡</td></tr></tbody></table>
<p>ä¸€å¥è¯ï¼š<code>Object.assign(ç›®æ ‡, æº1, æº2, ...)</code> å°±æ˜¯â€œæŠŠåé¢çš„å¯¹è±¡å±æ€§ä¾æ¬¡å¡è¿›ç¬¬ä¸€ä¸ªå¯¹è±¡é‡Œâ€ã€‚</p>
<p>ä»¥ä¸Šä¾¿æ˜¯å¯¹Object.assign()çš„åˆ†äº«ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£è®¨è®ºï¼Œä¸å¤§å®¶å…±å‹‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¶…è¶ŠChatGPTï¼ä¸€æ–‡è¯»æ‡‚å¦‚ä½•ç”¨LoRAé«˜æ•ˆå¾®è°ƒæ‰“é€ ä¸“å±è¡Œä¸šå¤§æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7604853010171969577</link>    <guid>https://juejin.cn/post/7604853010171969577</guid>    <pubDate>2026-02-11T00:03:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604853010171969577" data-draft-id="7604964464690298943" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¶…è¶ŠChatGPTï¼ä¸€æ–‡è¯»æ‡‚å¦‚ä½•ç”¨LoRAé«˜æ•ˆå¾®è°ƒæ‰“é€ ä¸“å±è¡Œä¸šå¤§æ¨¡å‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T00:03:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¶…è¶ŠChatGPTï¼ä¸€æ–‡è¯»æ‡‚å¦‚ä½•ç”¨LoRAé«˜æ•ˆå¾®è°ƒæ‰“é€ ä¸“å±è¡Œä¸šå¤§æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:03:28.000Z" title="Wed Feb 11 2026 00:03:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2822eae5aefb4eb19fa1670664858cc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771373009&amp;x-signature=faOFVsnJtmKTrfbNYFmGFaIL%2F7Q%3D" alt="jimeng-2026-02-11-9419-æ‰å¹³åŒ–åŠ¨ç”»é£æ ¼ï¼Œç§‘æŠ€æµ·æŠ¥è®¾è®¡ï¼ŒæŠ€æœ¯åšå®¢å°é¢å›¾ï¼Œæç®€ä¸»ä¹‰æ„å›¾ï¼Œç§‘æŠ€æ„Ÿåè¶³çš„èƒŒæ™¯å…ƒç´ ....png" loading="lazy"/></p>
<h2 data-id="heading-0">è¶…è¶ŠChatGPTï¼ä¸€æ–‡è¯»æ‡‚å¦‚ä½•ç”¨LoRAé«˜æ•ˆå¾®è°ƒæ‰“é€ ä¸“å±è¡Œä¸šå¤§æ¨¡å‹</h2>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šæœ¬æ–‡æ·±åº¦è§£æLoRAå¾®è°ƒæŠ€æœ¯å¦‚ä½•ä»¥<strong>10%è®­ç»ƒæˆæœ¬</strong>å®ç°è¡Œä¸šå¤§æ¨¡å‹å®šåˆ¶åŒ–ï¼Œé€šè¿‡HuggingFace+é­”æ­ç¤¾åŒºå®æˆ˜æ¡ˆä¾‹ï¼Œå¯¹æ¯”å…¨å‚æ•°å¾®è°ƒä¸LoRAåœ¨åŒ»ç–—ã€é‡‘èé¢†åŸŸçš„æ€§èƒ½å·®å¼‚ã€‚ä½ å°†è·å¾—ï¼š1ï¼‰LoRAæ•°å­¦åŸç†å›¾è§£ 2ï¼‰Qwen-7Bæ¨¡å‹å¾®è°ƒå®Œæ•´ä»£ç  3ï¼‰è¡Œä¸šçŸ¥è¯†æ³¨å…¥æŠ€å·§ 4ï¼‰æ¨¡å‹è’¸é¦éƒ¨ç½²æ–¹æ¡ˆã€‚å®æµ‹æ˜¾ç¤ºï¼Œç»LoRAä¼˜åŒ–çš„è¡Œä¸šæ¨¡å‹åœ¨ä¸“ä¸šä»»åŠ¡ä¸­å‡†ç¡®ç‡æå‡37%ï¼Œæ¨ç†é€Ÿåº¦æé«˜5å€ğŸ”¥</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸“å±è¡Œä¸šæ¨¡å‹ï¼Ÿ</h3>
<p>ä¸Šå‘¨ä¸ºæŸä¸‰ç”²åŒ»é™¢éƒ¨ç½²ç—…å†åˆ†æç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å‘ç°é€šç”¨ChatGPTåœ¨åŒ»å­¦æœ¯è¯­è¯†åˆ«ä¸Šé”™è¯¯ç‡é«˜è¾¾42%ã€‚æ›´æ£˜æ‰‹çš„æ˜¯ï¼Œ<strong>å…¨é‡å¾®è°ƒ130äº¿å‚æ•°æ¨¡å‹éœ€8å—A100è®­ç»ƒ3å¤©</strong>ï¼Œæˆæœ¬è¶…2ä¸‡å…ƒã€‚è€Œé‡‡ç”¨LoRAæŠ€æœ¯åï¼Œä»…ç”¨1å—A3090æ˜¾å¡3å°æ—¶å³å®ŒæˆåŒ»ç–—æ¨¡å‹å®šåˆ¶ï¼Œæœ¯è¯­è¯†åˆ«å‡†ç¡®ç‡ä»58%â†’95%ï¼æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ­ç§˜å®ç°è¿‡ç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µæ‹†è§£</h3>
<h4 data-id="heading-3">ğŸ¤– LoRAæŠ€æœ¯åŸç†å‰–æ</h4>
<p>LoRAï¼ˆLow-Rank Adaptationï¼‰é€šè¿‡<strong>ä½ç§©çŸ©é˜µåˆ†è§£</strong>å®ç°å‚æ•°é«˜æ•ˆå¾®è°ƒã€‚å…¶æ ¸å¿ƒå…¬å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">Î”W = BA ï¼ˆå…¶ä¸­ <span class="hljs-selector-tag">B</span>âˆˆâ„^{dÃ—r}, <span class="hljs-selector-tag">A</span>âˆˆâ„^{rÃ—k}, r&lt;&lt;d,kï¼‰
</code></pre>
<p>å°†æƒé‡æ›´æ–°é‡åˆ†è§£ä¸ºä¸¤ä¸ªä½ç§©çŸ©é˜µçš„ä¹˜ç§¯ï¼Œè®­ç»ƒå‚æ•°é‡é™è‡³åŸå§‹0.1%ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    W[åŸå§‹æƒé‡W] --&gt;|å†»ç»“å‚æ•°| Frozen
    W --&gt;|æ·»åŠ ä½ç§©çŸ©é˜µ| Î”W[Î”W=BA]
    Input --&gt;|å‰å‘ä¼ æ’­| Frozen --&gt; +((âŠ•)) --&gt; Output
    Input --&gt; Î”W --&gt; +
</code></pre>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è®­ç»ƒé€Ÿåº¦æå‡ï¼šVRAMå ç”¨å‡å°‘70%</li>
<li>æ¨¡å‹åˆ‡æ¢çµæ´»ï¼šä»…éœ€åŠ è½½15MBçš„LoRAæƒé‡</li>
<li>é¿å…ç¾éš¾æ€§é—å¿˜ï¼šåŸºç¡€æ¨¡å‹èƒ½åŠ›å®Œæ•´ä¿ç•™</li>
</ul>
<hr/>
<h4 data-id="heading-4">ğŸŒ é­”æ­ç¤¾åŒºç”Ÿæ€è§£æ</h4>
<p>é˜¿é‡Œäº‘æ¨å‡ºçš„<strong>ModelScope</strong>å¼€æºå¹³å°æä¾›ï¼š</p>
<ul>
<li>200+é¢„è®­ç»ƒä¸­æ–‡æ¨¡å‹</li>
<li>ä¸€é”®å¼Notebookå¼€å‘ç¯å¢ƒ</li>
<li>è¡Œä¸šæ•°æ®é›†æ‰˜ç®¡ï¼ˆé‡‘è/æ³•å¾‹/åŒ»ç–—ï¼‰
å…³é”®æ•°æ®å¯¹æ¥æ–¹å¼ï¼š</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> modelscope <span class="hljs-keyword">import</span> snapshot_download
model_dir = snapshot_download(<span class="hljs-string">'qwen/Qwen-7B'</span>, revision=<span class="hljs-string">'v1.0.4'</span>)
</code></pre>
<hr/>
<h4 data-id="heading-5">ğŸš€ Qwenç³»åˆ—æ¨¡å‹ç‰¹æ€§</h4>
<p>é€šä¹‰åƒé—®Qwen-7Bç›¸æ¯”LLaMAçš„ä¸‰å¤§çªç ´ï¼š</p>
<ol>
<li><strong>ä¸­æ–‡ä¼˜åŒ–</strong>ï¼šä½¿ç”¨200Bä¸­æ–‡tokené¢„è®­ç»ƒ</li>
<li><strong>é•¿ä¸Šä¸‹æ–‡</strong>ï¼šæ”¯æŒ32Kä¸Šä¸‹æ–‡çª—å£</li>
<li><strong>æŒ‡ä»¤è·Ÿéš</strong>ï¼šRLHFä¼˜åŒ–åçš„chatç‰ˆæœ¬</li>
</ol>
<p>æ€§èƒ½å¯¹æ¯”ï¼š</p>





























<table><thead><tr><th>æ¨¡å‹</th><th>ä¸­æ–‡ç†è§£å¾—åˆ†</th><th>è®­ç»ƒæˆæœ¬</th><th>æ˜¾å­˜éœ€æ±‚</th></tr></thead><tbody><tr><td>ChatGPT-3.5</td><td>82.1</td><td>$13M</td><td>40GB</td></tr><tr><td>LLaMA-7B</td><td>76.3</td><td>$1.2M</td><td>28GB</td></tr><tr><td>Qwen-7B</td><td>âœ… 89.7</td><td>$0.9M</td><td>24GB</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-6">LoRAå¾®è°ƒå®æˆ˜æ•™ç¨‹</h3>
<h4 data-id="heading-7">ç¯å¢ƒæ­å»ºï¼ˆPyTorch 2.1+ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">pip install peft transformers datasets
<span class="hljs-comment"># é­”æ­ç¤¾åŒºç‰¹éœ€ä¾èµ–</span>
pip install modelscope accelerate
</code></pre>
<h4 data-id="heading-8">åŒ»ç–—æ¨¡å‹å¾®è°ƒæ¡ˆä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> peft <span class="hljs-keyword">import</span> LoraConfig, get_peft_model

<span class="hljs-comment"># é…ç½®LoRAå‚æ•°ï¼ˆå…³é”®ï¼ï¼‰</span>
lora_config = LoraConfig(
    r=<span class="hljs-number">8</span>,                  <span class="hljs-comment"># ç§©å¤§å°</span>
    lora_alpha=<span class="hljs-number">32</span>,        <span class="hljs-comment"># ç¼©æ”¾å› å­</span>
    target_modules=[<span class="hljs-string">"q_proj"</span>, <span class="hljs-string">"v_proj"</span>], <span class="hljs-comment"># ä»…ä¿®æ”¹æ³¨æ„åŠ›å±‚</span>
    lora_dropout=<span class="hljs-number">0.05</span>,
    bias=<span class="hljs-string">"none"</span>
)

<span class="hljs-comment"># æ³¨å…¥LoRAåˆ°åŸºç¡€æ¨¡å‹</span>
model = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">"Qwen/Qwen-7B"</span>)
peft_model = get_peft_model(model, lora_config)

<span class="hljs-comment"># è®­ç»ƒå‚æ•°å¯¹æ¯”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¯è®­ç»ƒå‚æ•°: <span class="hljs-subst">{peft_model.num_trainable_parameters()/<span class="hljs-number">1e6</span>:<span class="hljs-number">.2</span>f}</span>M"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»å‚æ•°: <span class="hljs-subst">{peft_model.num_parameters()/<span class="hljs-number">1e9</span>:<span class="hljs-number">.2</span>f}</span>B"</span>)
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š<br/>
å¯è®­ç»ƒå‚æ•°: 8.42M<br/>
æ€»å‚æ•°: 7.01B â†’ <strong>ä»…è®­ç»ƒ0.12%å‚æ•°ï¼</strong></p>
<hr/>
<h4 data-id="heading-9">é‡‘èé¢†åŸŸæ•°æ®é¢„å¤„ç†</h4>
<p>è¡Œä¸šæ¨¡å‹æ•ˆæœçš„æ ¸å¿ƒåœ¨äº<strong>æ•°æ®æ„é€ </strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">build_finance_prompt</span>(<span class="hljs-params">question</span>):
    template = <span class="hljs-string">"""ä½ ä½œä¸ºèµ„æ·±é‡‘èåˆ†æå¸ˆï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
é—®é¢˜ï¼š{question}
å›ç­”éœ€åŒ…å«ï¼š
1. å…³é”®æŒ‡æ ‡è®¡ç®—
2. é£é™©è¯„ä¼°
3. æŠ•èµ„å»ºè®®"""</span>
    <span class="hljs-keyword">return</span> template.<span class="hljs-built_in">format</span>(question=question)

<span class="hljs-comment"># æ•°æ®é›†ç¤ºä¾‹</span>
finance_dataset = [
    {<span class="hljs-string">"input"</span>: build_finance_prompt(<span class="hljs-string">"è®¡ç®—æŸå…¬å¸å½“å‰å¸‚ç›ˆç‡"</span>), 
     <span class="hljs-string">"output"</span>: <span class="hljs-string">"1. å¸‚ç›ˆç‡=å¸‚å€¼/å‡€åˆ©æ¶¦..."</span>}
]
</code></pre>
<hr/>
<h4 data-id="heading-10">é«˜æ•ˆè®­ç»ƒé…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å…³é”®è®­ç»ƒå‚æ•°</span>
<span class="hljs-attr">batch_size:</span> <span class="hljs-number">12</span>
<span class="hljs-attr">learning_rate:</span> <span class="hljs-number">2e-5</span>
<span class="hljs-attr">num_train_epochs:</span> <span class="hljs-number">5</span>
<span class="hljs-attr">max_seq_length:</span> <span class="hljs-number">1024</span>
<span class="hljs-attr">optimizer:</span> <span class="hljs-string">adamw_torch</span>
<span class="hljs-attr">lr_scheduler:</span> <span class="hljs-string">cosine</span>
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[è¡Œä¸šåŸå§‹æ•°æ®] --&gt; B[æŒ‡ä»¤åŒ–é‡æ„]
    B --&gt; C[LoRAå‚æ•°æ³¨å…¥]
    C --&gt; D[åˆ†å¸ƒå¼è®­ç»ƒ]
    D --&gt; E[æƒé‡åˆå¹¶]
    E --&gt; F[æ¨¡å‹è’¸é¦]
    F --&gt; G[APIéƒ¨ç½²]
</code></pre>
<hr/>
<h3 data-id="heading-11">æ€§èƒ½éªŒè¯ä¸éƒ¨ç½²</h3>
<h4 data-id="heading-12">åŒ»ç–—é—®ç­”æµ‹è¯•ç»“æœ</h4>





























<table><thead><tr><th>ä»»åŠ¡ç±»å‹</th><th>é€šç”¨æ¨¡å‹å‡†ç¡®ç‡</th><th>LoRAå¾®è°ƒå</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>ç–¾ç—…è¯Šæ–­</td><td>61.2%</td><td>âœ… 92.7%</td><td>+31.5%</td></tr><tr><td>è¯å“ç›¸äº’ä½œç”¨</td><td>53.8%</td><td>âœ… 89.1%</td><td>+35.3%</td></tr><tr><td>æ£€æŸ¥æŠ¥å‘Šè§£è¯»</td><td>67.4%</td><td>âœ… 95.3%</td><td>+27.9%</td></tr></tbody></table>
<h4 data-id="heading-13">æ¨¡å‹è’¸é¦éƒ¨ç½²æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å°†LoRAæƒé‡åˆå¹¶åˆ°åŸºç¡€æ¨¡å‹</span>
merged_model = peft_model.merge_and_unload()

<span class="hljs-comment"># è’¸é¦åˆ°å°å‹æ¨¡å‹</span>
distiller = DistilLoRA(
    teacher_model=merged_model,
    student_model=AutoModel.from_pretrained(<span class="hljs-string">"Qwen-1.8B"</span>)
)
distiller.train()
</code></pre>
<hr/>
<h3 data-id="heading-14">è¸©å‘å®å½•ï¼šä¸‰å¤§é¿é›·æŒ‡å—</h3>
<ol>
<li>
<p><strong>ç§©é€‰æ‹©é™·é˜±</strong><br/>
r=8åœ¨åŒ»ç–—æ–‡æœ¬è¡¨ç°æœ€ä½³ï¼Œé‡‘èæ•°æ®éœ€r=16ï¼ˆå®æµ‹â†“ï¼‰</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    r=4 --&gt;|åŒ»ç–—æ–‡æœ¬| å‡†ç¡®ç‡87.2%
    r=8 --&gt;|åŒ»ç–—æ–‡æœ¬| å‡†ç¡®ç‡92.7%
    r=16 --&gt;|é‡‘èæ•°æ®| å‡†ç¡®ç‡94.1%
</code></pre>
</li>
<li>
<p><strong>ç¾éš¾æ€§é—å¿˜åº”å¯¹</strong><br/>
æ·»åŠ 10%é€šç”¨æ•°æ®æ··åˆè®­ç»ƒï¼š</p>
<pre><code class="hljs language-python" lang="python">dataset = concatenate_datasets([finance_data, alpaca_zh(<span class="hljs-number">0.1</span>)])
</code></pre>
</li>
<li>
<p><strong>æ¢¯åº¦ç´¯ç§¯æŠ€å·§</strong><br/>
24Gæ˜¾å­˜é…ç½®ï¼š</p>
<pre><code class="hljs language-python" lang="python">training_args.gradient_accumulation_steps = <span class="hljs-number">4</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-15">ç»“è¯­ï¼šAIåä½œå¼€å‘é»„é‡‘æ³•åˆ™</h3>
<p>ç»è¿‡7æ¬¡è¡Œä¸šæ¨¡å‹éƒ¨ç½²å®æˆ˜ï¼Œæ€»ç»“å‡ºä¸‰æ¡é“å¾‹ï¼š</p>
<ol>
<li><strong>ç»“æ„åŒ–è¾“å…¥</strong>ï¼šç”¨<code>task-spec.md</code>æ˜ç¡®çº¦æŸæ¡ä»¶</li>
<li><strong>è®°å¿†åº“ç®¡ç†</strong>ï¼šåœ¨<code>memory-bank/</code>ä¿å­˜æ‰€æœ‰é…ç½®</li>
<li><strong>ç«‹å³éªŒè¯</strong>ï¼šæ¯æ­¥è®­ç»ƒåè¿è¡Œ<code>diagnosis.py</code>æ£€æŸ¥æŒ‡æ ‡</li>
</ol>
<p><strong>è®¨è®ºé—®é¢˜</strong>ï¼š</p>
<ol>
<li>LoRAèƒ½å¦å®Œå…¨æ›¿ä»£å…¨å‚æ•°å¾®è°ƒï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¼šå¤±æ•ˆï¼Ÿ</li>
<li>å¦‚ä½•è®¾è®¡è¡Œä¸šè¯„ä¼°æŒ‡æ ‡ä½“ç³»ï¼Ÿ</li>
<li>æ¨¡å‹è’¸é¦ä¼šå¸¦æ¥å¤šå¤§æ€§èƒ½æŸå¤±ï¼Ÿ</li>
</ol>
<blockquote>
<p><strong>è¡ŒåŠ¨å»ºè®®</strong>ï¼š<br/>
ç«‹å³åœ¨ModelScopeåˆ›å»ºé¡¹ç›®ï¼Œä½¿ç”¨æ–‡æœ«<strong>å®Œæ•´ä»£ç åŒ…</strong>å¼€å¯ä½ çš„è¡Œä¸šæ¨¡å‹å®šåˆ¶ä¹‹æ—…ï¼</p>
</blockquote>
<hr/>
<p><strong>é™„å½•ï¼šå®Œæ•´ä»£ç åŒ…ç»“æ„</strong></p>
<pre><code class="hljs language-bash" lang="bash">â”œâ”€â”€ lora_config.yaml    <span class="hljs-comment"># å¾®è°ƒå‚æ•°æ¨¡æ¿</span>
â”œâ”€â”€ data_builder.py     <span class="hljs-comment"># è¡Œä¸šæ•°æ®å¤„ç†å™¨</span>
â”œâ”€â”€ train_peft.py       <span class="hljs-comment"># è®­ç»ƒè„šæœ¬</span>
â””â”€â”€ inference_api.py    <span class="hljs-comment"># FastAPIéƒ¨ç½²æ–¹æ¡ˆ</span>
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¿«é€Ÿå¯åŠ¨å‘½ä»¤</span>
python train_peft.py \
  --base_model Qwen/Qwen-7B \
  --dataset medical_qa.json \
  --lora_rank <span class="hljs-number">8</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClawç‚¹ç‡ƒäº†æ•´ä¸ªAI Agentç”Ÿæ€ï¼Ÿä»AWS Bedrockçœ‹ä¼ä¸šçº§Agentçš„â€œæ­£è§„å†›â€æ‰“æ³•]]></title>    <link>https://juejin.cn/post/7605051886434140223</link>    <guid>https://juejin.cn/post/7605051886434140223</guid>    <pubDate>2026-02-11T01:15:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605051886434140223" data-draft-id="7605049329778573353" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClawç‚¹ç‡ƒäº†æ•´ä¸ªAI Agentç”Ÿæ€ï¼Ÿä»AWS Bedrockçœ‹ä¼ä¸šçº§Agentçš„â€œæ­£è§„å†›â€æ‰“æ³•"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-11T01:15:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="needn"/> <meta itemprop="url" content="https://juejin.cn/user/3053791707664457"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClawç‚¹ç‡ƒäº†æ•´ä¸ªAI Agentç”Ÿæ€ï¼Ÿä»AWS Bedrockçœ‹ä¼ä¸šçº§Agentçš„â€œæ­£è§„å†›â€æ‰“æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3053791707664457/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    needn
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:15:25.000Z" title="Wed Feb 11 2026 01:15:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 å¼•è¨€</h2>
<p>æœ€è¿‘åœ¨è°ƒç ”AWS Bedrock AgentCoreï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå­æ¨¡å—æ˜¯Browserï¼šå¯ä»¥è®©Agentè‡ªä¸»è®¿é—®æµè§ˆå™¨ã€‚åœ¨å’Œæˆ‘çš„MS Copilotè®¨è®ºä¸ºä»€ä¹ˆè¦å°†Browserå•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œä»€ä¹ˆåº”ç”¨æ¨¡å—éœ€è¦æ‹†åˆ†å‡ºæ¥æ—¶ï¼Œå®ƒç»™äº†æˆ‘ä¸€ä¸ªéå¸¸ç²¾è¾Ÿçš„ç»“è®ºã€‚å¯ä»¥è¯´è¿™æ˜¯è‡³ä»Šä¸ºæ­¢ï¼Œæˆ‘è®¤ä¸ºCopilot"æ€è€ƒ"æœ€æœ‰æ·±åº¦çš„ä¸€æ¬¡å›ç­”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91ec4c9004a841829b398d55a734db69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbmVlZG4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771377328&amp;x-signature=s87Gu8aCKx9oDS%2FElMniWsLcfRU%3D" alt="P1.jpg" loading="lazy"/></p>
<h2 data-id="heading-1">2 ä»€ä¹ˆæ˜¯AgentCoreï¼Ÿ</h2>
<p>AWS Bedrock AgentCoreæ˜¯ä¸€ä¸ªä¼ä¸šçº§AgentæœåŠ¡ï¼Œç”¨äºæ„å»ºã€éƒ¨ç½²å’Œè¿ç»´Agentåº”ç”¨ã€‚æ­¤å‰å¯¹äºAgentçš„å°è±¡æ˜¯å¯ä»¥é€šè¿‡å¤§é‡Webæœç´¢è¿›è¡Œæ·±åº¦ç ”ç©¶ï¼Œæˆ–è€…æ˜¯å¦‚OpenClawä¸€æ ·è‡ªç”±æ“ä½œæµè§ˆå™¨å®Œæˆä¸€ç³»åˆ—æ“ä½œã€‚é‚£ä¹ˆï¼Œè®©Agentç›´æ¥è®¿é—®æµè§ˆå™¨å°±å¯ä»¥äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ç‹¬ç«‹çš„Browserå‘¢ï¼ŸAWSçš„è®¾è®¡ç†å¿µæ˜¯å°†Browserä½œä¸ºä¸€ç­‰åŸºç¡€è®¾æ–½ï¼Œç½®äºéš”ç¦»ç¯å¢ƒä¸­æ¥æ”¯æŒå¤§è§„æ¨¡å¹¶å‘è®¿é—®è¿è¡Œã€‚å®ƒæä¾›äº†ä»¥ä¸‹å‡ ä¸ªå…³é”®èƒ½åŠ›</p>
<ul>
<li>å½•å±å®¡è®¡</li>
<li>ä¼šè¯(session)éš”ç¦»</li>
<li>äººå¯ä»¥éšæ—¶é€šè¿‡Live Viewä»‹å…¥</li>
<li>é”™è¯¯éš”ç¦»(Browserå´©äº†ï¼ŒAgentè¿˜æ´»ç€)</li>
</ul>
<p>å½“ç„¶è¿˜è§£å†³ä¸€ä¸ªé—®é¢˜æ˜¯Browseræœ¬èº«è¿‡äºé‡é‡çº§ï¼Œè€Œå¹¶ä¸æ˜¯æ‰€æœ‰Agentéƒ½éœ€è¦Browserï¼ˆç”šè‡³å¤§éƒ¨åˆ†ä¸éœ€è¦ï¼Ÿï¼‰<br/>
æ›´å®Œæ•´çš„æ¶æ„å¦‚ä¸‹å›¾<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/878a5af23d7a4b52b22c346c1c9dd659~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbmVlZG4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771377328&amp;x-signature=5ssAXuEcJ4KwPpQZLwq6f1on%2Bro%3D" alt="P2.jpg" loading="lazy"/></p>
<p><strong>AgentCore Runtime</strong></p>
<p>Serverlessæ¶æ„ï¼Œæ”¯æŒä»»æ„Agentæ¡†æ¶ä»»æ„LLMã€‚è´Ÿè´£è¿è¡Œä¸»Agentï¼ˆæˆ–è€…å¯èƒ½çš„SubAgent)ï¼Œèµ·åˆ°æ•´ä½“è°ƒåº¦ç¼–æ’ä½œç”¨ï¼Œæ”¯æŒæœ€é•¿8å°æ—¶è¿è¡Œã€‚é‡é‡çº§æ“ä½œéƒ½åº”è¯¥ä¸è¿è¡Œåœ¨è¿™ä¸ªRuntimeé‡Œé¢ã€‚å¯¹åº”äº†Copilotçš„ç»å…¸æ€»ç»“</p>
<blockquote>
<p>è§„åˆ™â‘  å‡¡æ˜¯"ä¸ºäººç±»äº¤äº’è®¾è®¡çš„åº”ç”¨"ï¼Œéƒ½ä¸åº”è¯¥å’ŒAgentåŒè¿›ç¨‹è¿è¡Œ</p>
</blockquote>
<p><strong>AgentCore Browser</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºéš”ç¦»ç¯å¢ƒä¸­çš„Chromeæµè§ˆå™¨runtimeã€‚Agentè®¿é—®æµè§ˆå™¨æ¥è¿›è¡Œé¡µé¢æµè§ˆã€ç‚¹å‡»ã€æ»šåŠ¨ã€å¡«å†™è¡¨å•ç­‰æ“ä½œã€‚æœ‰ç‚¹ç±»ä¼¼UiPath RPAï¼Œåªæ˜¯Agentå¯ä»¥æ›´æ™ºèƒ½çš„æ„ŸçŸ¥é¡µé¢å˜åŒ–ï¼Œä¼ ç»Ÿçš„RPAé¢å¯¹é¡µé¢æ”¹ç‰ˆä¸€èˆ¬å°±æŒ‚äº†ã€‚</p>
<p><strong>AgentCore Interpreter</strong></p>
<p>Sandboxç¯å¢ƒï¼Œè¿è¡ŒAgentç”Ÿæˆçš„"ä¸å¯ä¿¡ä»£ç "ï¼Œå¤„ç†ç¹é‡å¤æ‚é€»è¾‘ã€‚Agentè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç å¯èƒ½æ„å¤–æˆ–ç”±äºè¢«æ”»å‡»è€Œé€ æˆç ´åæ€§å½±å“ï¼Œå®ƒç»ä¸èƒ½ç›´æ¥è¿è¡Œåœ¨AgentCore runtimeä¸­ï¼Œè€ŒSandboxçš„ç‰¹æ€§å¯ä»¥æœ€å¤§ç¨‹åº¦è§„é¿æ­¤ç±»é£é™©ã€‚</p>
<p><strong>AgentCore Gateway</strong></p>
<p>ç‹¬ç«‹æ‰˜ç®¡çš„MCP Server runtimeï¼Œè¿æ¥Agentå’Œæ‰€æœ‰å¤–éƒ¨å·¥å…·/æ•°æ®æºã€‚ï¼ˆMCP Serverä¹Ÿä¸ç”¨è‡ªå·±æ­äº†ï¼‰<br/>
å®ƒæä¾›ä»¥ä¸‹å‡ ç‚¹å…³é”®èƒ½åŠ›</p>
<ul>
<li>
<p>é›†ä¸­çš„äºŒæ¬¡èº«ä»½è®¤è¯ï¼ˆAgentCore runtimeæ˜¯ç¬¬ä¸€æ¬¡ï¼‰</p>
</li>
<li>
<p>REST API(OpenAPIåè®®)æˆ–Lambdaè‡ªåŠ¨è½¬MCPåè®®</p>
</li>
<li>
<p>è¯­ä¹‰æœç´¢å‘ç°å¤–éƒ¨å·¥å…·</p>
</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–AgentCoreè¿˜é›†æˆäº†<strong>Memory</strong>ã€Observabilityã€Policyç­‰èƒ½åŠ›å®Œæˆäº†æ•´ä¸ªAgentå¼€å‘ç”Ÿæ€çš„é—­ç¯ã€‚å°¤å…¶æ˜¯Memoryçš„è®¾è®¡æˆ‘è®¤ä¸ºæå…·å‚è€ƒä»·å€¼ï¼Œç”±äºä¸æœ¬æ–‡ä¸»é¢˜æ— å…³å°±ä¸å†èµ˜è¿°ã€‚</p>
<h2 data-id="heading-2">3 Bedrock vs OpenClaw</h2>
<p>Bedrock AgentCore çš„æ¶æ„è®¾è®¡æ˜¯ä»¤äººå°è±¡æ·±åˆ»çš„ã€‚å®ƒæˆåŠŸé“ºå¹³äº†ä¸€æ¡è¿›é˜¶ä¹‹è·¯ï¼šå°†åŸæœ¬è¿è¡Œåœ¨æœ¬åœ° PC ä¸Šçš„"ç©å…·"Agentï¼Œè½¬åŒ–ä¸ºäº†èƒ½å¤Ÿåœ¨ä¼ä¸šç¯å¢ƒä¸­å®‰å…¨ã€åˆè§„ä¸”é«˜æ•ˆè½åœ°çš„ç”Ÿäº§çº§åº”ç”¨ã€‚</p>
<p>æˆ‘ä»¬å¸¸æŠŠAgentæ¯”ä½œAIå‘˜å·¥ï¼Œé‚£ä¹ˆåœ¨AWSçš„è®¾è®¡ä¸­å……åˆ†è€ƒè™‘åˆ°äº†äººä¸Agentçš„æ ¸å¿ƒå·®å¼‚</p>
<p>äººæ§åˆ¶PCçš„ç‰¹ç‚¹</p>
<ul>
<li>äººæ˜¯å”¯ä¸€è°ƒåº¦è€…</li>
<li>åŒä¸€æ—¶åˆ»åªåšä¸€ä¸¤ä»¶äº‹</li>
<li>å‡ºé”™å¯ä»¥é æ„ŸçŸ¥ã€ç»éªŒã€ç›´è§‰å…œåº•</li>
<li>å®‰å…¨ä¸åˆè§„ä¾èµ–"äººè´Ÿè´£"</li>
</ul>
<p>Agent çš„ç‰¹ç‚¹</p>
<ul>
<li>
<p>å¹¶å‘æ‰§è¡Œ</p>
</li>
<li>
<p>è‡ªåŠ¨åŒ–</p>
</li>
<li>
<p>å‡ºé”™ä¸æ˜“å¯Ÿè§‰ï¼Œå¯èƒ½è‡ªæˆ‘ä¿®å¤ä¹Ÿå¯èƒ½å´©æºƒ</p>
</li>
<li>
<p>å¿…é¡»å¯å®¡è®¡ã€å¯å›æ”¾ã€å¯ç»ˆæ­¢</p>
</li>
</ul>
<p>æœ€è¿‘å…¨ç½‘çˆ†ç«çš„OpenClawå’Œè®©ç¡…è°·SaaSæš´è·Œ3000äº¿ç¾å…ƒçš„Coworkï¼Œéƒ½æ˜¯å¦ä¸€ç§è®¾è®¡å“²å­¦ä¸‹çš„Agentã€‚</p>
<p>å®ƒä»¬é€šå¸¸å·¥ä½œåœ¨æœ¬åœ°PCï¼ŒOpenClawæ›´æ¿€è¿›çš„æ˜¯Agentåœ¨å…¶ä¸­å…·å¤‡ä¸€åˆ‡æƒé™ï¼ŒAgent=ç”¨æˆ·æœ¬èº«ï¼Œå¯ä»¥è¿è¡Œæœ¬åœ°ä¸€åˆ‡çš„åº”ç”¨ç¨‹åºï¼Œé»˜è®¤æƒ…å†µæ²¡æœ‰æ‹†åˆ†ï¼Œæ²¡æœ‰é™åˆ¶ã€‚</p>
<p>æˆ‘è§‰å¾—å®ƒèƒ½å¤Ÿçˆ†ç«çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œè¿™ç¬¦åˆäººä»¬æƒ³è¦çš„Agentçš„æ ·å­ã€‚ä½†é€šè¿‡Bedrockçš„å¯¹æ¯”ä¸éš¾çœ‹å‡ºï¼Œå®ƒä¸é€‚ç”¨äºä¼ä¸šçº§Agentå¼€å‘ã€‚å®ƒç¼ºå°‘å®‰å…¨è¾¹ç•Œï¼Œæ²¡æœ‰æ‰§è¡Œéš”ç¦»ï¼Œç”šè‡³ä¸éœ€è¦Human-in-the-loopã€‚å¯ä»¥è¯´å®ƒåœ¨è¿½æ±‚çš„æ˜¯ä¸ªäººAgentçš„æé™å½¢æ€ã€‚</p>
<p>æ’ä¸€ä¸ªé¢˜å¤–è¯æ˜¯ï¼Œ2018å¹´æˆ‘åœ¨æŸæœåŠ¡å™¨ä¸Šåšè¿‡ä¸€ä¸ªç”¨å¾®ä¿¡è¿›è¡ŒETLè¿ç»´çš„ç©å…·ã€‚åœ¨æœåŠ¡å™¨ä¸Šç™»å½•ä¸ªäººå¾®ä¿¡ï¼Œç„¶åæ‰‹æœºç«¯å‘é€æ¶ˆæ¯ï¼Œå°±å¯ä»¥è§¦å‘æœåŠ¡å™¨è¿è¡Œå‘½ä»¤ã€‚(ä¸‹å›¾ä¸­[Server]å¼€å¤´çš„å¯¹è¯æ˜¯æœåŠ¡å™¨è¿”å›çš„æ¶ˆæ¯)ã€‚è¿™ä¸ªä¸œè¥¿å›å¤´æ¥çœ‹ï¼Œå’ŒOpenClawæƒ³è¦åšçš„äº‹æœ‰ç‚¹ç±»ä¼¼ï¼Œåªæ˜¯å½“æ—¶æ²¡æœ‰LLMï¼Œå®Œå…¨åŸºäºrule-basedæ‰§è¡Œã€‚(å¾®ä¿¡åæ¥åº”è¯¥æ—©å·²ç»å°ç¦äº†è¿™ç§å¼€å‘æ–¹å¼)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f2bf613e2b8456789f3fac6ca456627~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbmVlZG4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771377328&amp;x-signature=G5j7OVd1mq2mScFQ5USiC17Ud9I%3D" alt="P3.jpg" loading="lazy"/></p>
<p>å†æ¥è°ˆåˆ°SaaSçš„æš´è·Œï¼Œæœ‰ä¸ªæç«¯çš„è§‚ç‚¹æ˜¯Agentæœªæ¥ç›´æ¥å¯¹æ¥åº•å±‚Databaseï¼Œä¸­é—´ä¸€åˆ‡éƒ½è¢«å‹ç¼©ï¼Œæœ€ç»ˆå½’0ã€‚ï¼ˆç¡®å®æœ‰ç‚¹è¿‡äºæ¿€è¿›ï¼‰</p>
<p>SaaSæä¾›çš„å¤æ‚UIä¸å†å…·å¤‡ä»»ä½•ä¼˜åŠ¿ï¼Œæˆ‘ä»¬è¦å®Œæˆä»»åŠ¡ï¼ŒAgentå¸®ä½ æ‰§è¡Œï¼Œä¸­é—´æ ¹æœ¬ä¸éœ€è¦UIï¼ŒUIæ˜¯ç»™äººçœ‹çš„ï¼Œåœ¨Agentçš„ä¸–ç•Œé‡Œåè€Œæ˜¯ç´¯èµ˜ï¼Œä¸å†æœ‰ä»·å€¼ã€‚</p>
<p>è¿™å°±callbackäº†å¼•è¨€ä¸­Copilotç»™å‡ºçš„</p>
<blockquote>
<p>è§„åˆ™â‘¡ å‡¡æ˜¯"ä¸ºç¨‹åºè®¿é—®è®¾è®¡çš„ç³»ç»Ÿâ€ï¼Œåº”è¯¥ä¼˜å…ˆç”¨ API/Toolï¼Œè€Œä¸æ˜¯UIè‡ªåŠ¨åŒ–</p>
</blockquote>
<p>æ‰€è°“çš„UIè‡ªåŠ¨åŒ–ï¼Œåªä¸è¿‡æ˜¯é«˜çº§ç‰ˆRPAï¼Œå®ƒå°†æ˜¯ä¸€ä¸ªè¿‡æ¸¡é˜¶æ®µã€‚æœªæ¥é€ Agentçš„éœ€æ±‚è¶Šæ¥è¶Šå¤šï¼Œå¯¹UIçš„éœ€æ±‚è¶Šæ¥è¶Šå°‘ã€‚é‚£è‡ªç„¶åœ°ï¼ŒBrowseréœ€ä¸éœ€è¦æ‹†åˆ†å¯èƒ½ä¸å†æ˜¯é—®é¢˜ï¼Œå› ä¸ºAgentå°±æ ¹æœ¬ä¸éœ€è¦Browserã€‚</p>
<h2 data-id="heading-3">4 æ€»ç»“</h2>
<p>2026å¹´æ¯«æ— ç–‘é—®çš„æ˜¯å…¨çƒä¼šæœ‰å¤§é‡AI Agentåœ¨ä¼ä¸šè½åœ°ã€‚æˆ‘ä»¬ä¸ä»…æ˜¯æ‹¿ç€ç°åœ¨äººä»¬ç”¨çš„è½¯ä»¶æ ·å­æ¥é€ Agentï¼Œé•¿è¿œæ¥çœ‹Agentæœ¬èº«æ›´å°†é¢ è¦†æ•´ä¸ªè½¯ä»¶ä¸šç•Œçš„å½¢æ€ã€‚æˆ‘ä»¬è·ç¦»å¦‚AWSè¿™æ ·çš„å¤´éƒ¨ç©å®¶ï¼Œä»æœ‰ä¸å°‘å·®è·ï¼Œè¿˜éœ€ä¸æ–­è¿½èµ¶ã€‚ä»æ¶æ„å±‚é¢æ€è€ƒæ¬ ç¼ºçš„æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸æ˜¯"æœ€åä¸€å…¬é‡Œ"çš„äº‹äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ Vercel AI SDK ä½¿ç”¨æŒ‡å—ï¼šæµå¼ä¼ è¾“ (Streaming)]]></title>    <link>https://juejin.cn/post/7605107459065708590</link>    <guid>https://juejin.cn/post/7605107459065708590</guid>    <pubDate>2026-02-11T01:34:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605107459065708590" data-draft-id="7605097326727544878" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ Vercel AI SDK ä½¿ç”¨æŒ‡å—ï¼šæµå¼ä¼ è¾“ (Streaming)"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,TypeScript"/> <meta itemprop="datePublished" content="2026-02-11T01:34:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ZaneAI"/> <meta itemprop="url" content="https://juejin.cn/user/186266444380203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ Vercel AI SDK ä½¿ç”¨æŒ‡å—ï¼šæµå¼ä¼ è¾“ (Streaming)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/186266444380203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ZaneAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:34:20.000Z" title="Wed Feb 11 2026 01:34:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©æµå¼ä¼ è¾“ (Streaming)ï¼Ÿ</h2>
<p>åœ¨ä¼ ç»Ÿæ¨¡å¼ï¼ˆBlocking UIï¼‰ä¸‹ï¼Œå¦‚æœå¤§æ¨¡å‹ç”Ÿæˆä¸€ç¯‡ 500 å­—çš„æ–‡ç« éœ€è¦ 10 ç§’ï¼Œç”¨æˆ·å°±å¿…é¡»åœ¨ç™½å±å‰å¹²ç­‰ 10 ç§’ã€‚ è€Œåœ¨ <strong>æµå¼æ¨¡å¼ï¼ˆStreaming UIï¼‰</strong> ä¸‹ï¼Œæ¨¡å‹ç”Ÿæˆç¬¬ä¸€ä¸ªå­—æ—¶ï¼Œå‰ç«¯å°±èƒ½ç«‹å³æ˜¾ç¤ºã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿæ¨¡å¼</strong>ï¼šè¯·æ±‚ -&gt; ç­‰å¾…10s -&gt; ä¸€æ¬¡æ€§æ˜¾ç¤ºå…¨éƒ¨ -&gt; ç»“æŸ</li>
<li><strong>æµå¼æ¨¡å¼</strong>ï¼šè¯·æ±‚ -&gt; 0.5sæ˜¾ç¤ºé¦–å­— -&gt; æŒç»­è¹¦å­— -&gt; ç»“æŸ</li>
</ul>
<p>Vercel AI SDK çš„æ ¸å¿ƒ <code>streamText</code> å‡½æ•°è®©è¿™ä¸€è¿‡ç¨‹å˜å¾—æåº¦ç®€å•ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ› ï¸ å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-2">1. ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li>Node.js 18+</li>
<li>ä¸€ä¸ªå›½å†…å¤§æ¨¡å‹çš„ API Keyï¼ˆæœ¬æ–‡ä»¥ <strong>DeepSeek</strong> ä¸ºä¾‹ï¼ŒKimi/é€šä¹‰åƒé—®åŒç†ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. åˆå§‹åŒ–é¡¹ç›®</h3>
<p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–ï¼š</p>
<p>Bash</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> ai-streaming-demo
<span class="hljs-built_in">cd</span> ai-streaming-demo
npm init -y
</code></pre>
<h3 data-id="heading-4">3. å®‰è£…æ ¸å¿ƒä¾èµ–</h3>
<p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>ai</code>ï¼ˆæ ¸å¿ƒåº“ï¼‰å’Œ <code>@ai-sdk/openai</code>ï¼ˆå…¼å®¹å±‚ï¼‰ã€‚ <em>ä¸ºä»€ä¹ˆè£… openaiï¼Ÿå› ä¸ºç»å¤§å¤šæ•°å›½å†…å¤§æ¨¡å‹ï¼ˆDeepSeek, Moonshot, Qwenï¼‰éƒ½å®Œç¾å…¼å®¹ OpenAI çš„æ¥å£åè®®ï¼è¿™æ˜¯æœ€é€šç”¨çš„æ–¹æ¡ˆã€‚</em></p>
<p>Bash</p>
<pre><code class="hljs language-bash" lang="bash">npm install ai @ai-sdk/openai dotenv
<span class="hljs-comment"># å¦‚æœä½¿ç”¨ TypeScript (æ¨è)</span>
npm install -D tsx typescript @types/node
</code></pre>
<hr/>
<h2 data-id="heading-5">ğŸ’» å®æˆ˜ä»£ç ï¼šæ¥å…¥å›½å†…å¤§æ¨¡å‹</h2>
<p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º <code>index.ts</code> çš„æ–‡ä»¶ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨ Node.js ç¯å¢ƒä¸‹é€šè¿‡æµå¼ä¼ è¾“è°ƒç”¨ DeepSeekã€‚</p>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šé…ç½®â€œä¸‡èƒ½é€‚é…å™¨â€</h3>
<p>å›½å†…å¤§æ¨¡å‹é€šå¸¸æä¾›â€œOpenAI å…¼å®¹æ¥å£â€ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ <code>baseURL</code> å’Œ <code>apiKey</code>ã€‚</p>
<p><strong>æ”¯æŒåˆ—è¡¨å‚è€ƒï¼š</strong></p>
<ul>
<li><strong>DeepSeek (æ·±åº¦æ±‚ç´¢)</strong> : <code>https://api.deepseek.com</code></li>
<li><strong>Moonshot (Kimi)</strong> : <code>https://api.moonshot.cn/v1</code></li>
<li><strong>é˜¿é‡Œäº‘é€šä¹‰åƒé—®</strong>: <code>https://dashscope.aliyuncs.com/compatible-mode/v1</code></li>
</ul>
<h3 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šç¼–å†™æµå¼ä»£ç </h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º <code>index.ts</code>ï¼š</p>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createOpenAI } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ai-sdk/openai'</span>;
<span class="hljs-keyword">import</span> { streamText } <span class="hljs-keyword">from</span> <span class="hljs-string">'ai'</span>;
<span class="hljs-keyword">import</span> dotenv <span class="hljs-keyword">from</span> <span class="hljs-string">'dotenv'</span>;

<span class="hljs-comment">// åŠ è½½ç¯å¢ƒå˜é‡</span>
dotenv.<span class="hljs-title function_">config</span>();

<span class="hljs-comment">// 1. é…ç½®å›½å†…å¤§æ¨¡å‹é€‚é…å™¨</span>
<span class="hljs-comment">// è¿™é‡Œä»¥ DeepSeek ä¸ºä¾‹</span>
<span class="hljs-keyword">const</span> deepseek = <span class="hljs-title function_">createOpenAI</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.deepseek.com'</span>, <span class="hljs-comment">// å…³é”®ï¼šæ›¿æ¢ä¸ºå›½å†…æ¨¡å‹çš„ Base URL</span>
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DEEPSEEK_API_KEY</span>, <span class="hljs-comment">// ä½ çš„ API Key</span>
});

<span class="hljs-comment">// æˆ–è€…é…ç½® Kimi (Moonshot)</span>
<span class="hljs-comment">// const moonshot = createOpenAI({</span>
<span class="hljs-comment">//   baseURL: 'https://api.moonshot.cn/v1',</span>
<span class="hljs-comment">//   apiKey: process.env.MOONSHOT_API_KEY,</span>
<span class="hljs-comment">// });</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ¤– æ­£åœ¨è¿æ¥ DeepSeek V3...\n'</span>);

  <span class="hljs-comment">// 2. å‘èµ·æµå¼è¯·æ±‚</span>
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">streamText</span>({
    <span class="hljs-comment">// ä½¿ç”¨ 'deepseek-chat' æ¨¡å‹ (å¯¹åº” DeepSeek-V3)</span>
    <span class="hljs-attr">model</span>: <span class="hljs-title function_">deepseek</span>(<span class="hljs-string">'deepseek-chat'</span>), 
    <span class="hljs-attr">prompt</span>: <span class="hljs-string">'è¯·ç”¨ä¸¤å¥è¯—å½¢å®¹ä¸€ä¸‹ç¨‹åºå‘˜çš„å‘¨äº”å‚æ™šã€‚'</span>,
    <span class="hljs-comment">// å¯é€‰å‚æ•°</span>
    <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.7</span>,
  });

  <span class="hljs-comment">// 3. å¤„ç†æµå¼è¾“å‡º (æ ¸å¿ƒéƒ¨åˆ†)</span>
  <span class="hljs-comment">// result.textStream æ˜¯ä¸€ä¸ªå¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ (Async Iterable)</span>
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> textPart <span class="hljs-keyword">of</span> result.<span class="hljs-property">textStream</span>) {
    <span class="hljs-comment">// process.stdout.write ä¸ä¼šæ¢è¡Œï¼Œå®ç°æ‰“å­—æœºæ•ˆæœ</span>
    process.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">write</span>(textPart);
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n\nâœ… ç”Ÿæˆå®Œæ¯•ï¼'</span>);
}

<span class="hljs-title function_">main</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
</code></pre>
<h3 data-id="heading-8">ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œ</h3>
<ol>
<li>
<p>åœ¨æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<p>ä»£ç æ®µ</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">DEEPSEEK_API_KEY</span>=sk-xxxxxxxxxxxxxxxxxxxxxxxx
</code></pre>
</li>
<li>
<p>è¿è¡Œä»£ç ï¼š</p>
<p>Bash</p>
<pre><code class="hljs">npx tsx index.ts
</code></pre>
</li>
</ol>
<p><strong>ä½ å°†çœ‹åˆ°ç»ˆç«¯é‡Œå­—æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªâ€œè¹¦â€å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯å¡é¡¿å¾ˆä¹…åä¸€æ¬¡æ€§å‡ºç°ã€‚è¿™å°±æ˜¯ Streaming çš„é­…åŠ›ï¼</strong></p>
<hr/>
<h2 data-id="heading-9">ğŸ§ è¿›é˜¶ï¼šNext.js ä¸­çš„æµå¼å“åº”</h2>
<p>å¦‚æœä½ æ˜¯å‰ç«¯å¼€å‘è€…ï¼Œé€šå¸¸ä¼šåœ¨ Next.js (App Router) ä¸­ä½¿ç”¨å®ƒã€‚Vercel AI SDK æä¾›äº† <code>toDataStreamResponse</code> æ¥ç›´æ¥å°†æµè¿”å›ç»™å‰ç«¯ã€‚</p>
<p>æ–°å»º <code>app/api/chat/route.ts</code>:</p>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createOpenAI } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ai-sdk/openai'</span>;
<span class="hljs-keyword">import</span> { streamText } <span class="hljs-keyword">from</span> <span class="hljs-string">'ai'</span>;

<span class="hljs-keyword">const</span> deepseek = <span class="hljs-title function_">createOpenAI</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.deepseek.com'</span>,
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DEEPSEEK_API_KEY</span>,
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">req: Request</span>) {
  <span class="hljs-keyword">const</span> { messages } = <span class="hljs-keyword">await</span> req.<span class="hljs-title function_">json</span>();

  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">streamText</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-title function_">deepseek</span>(<span class="hljs-string">'deepseek-chat'</span>),
    messages, <span class="hljs-comment">// è‡ªåŠ¨å¤„ç†ä¸Šä¸‹æ–‡</span>
  });

  <span class="hljs-comment">// æ ¸å¿ƒé­”æ³•ï¼šç›´æ¥è½¬æ¢ä¸ºæµå¼å“åº”å¯¹è±¡è¿”å›ç»™å‰ç«¯</span>
  <span class="hljs-keyword">return</span> result.<span class="hljs-title function_">toDataStreamResponse</span>();
}
</code></pre>
<p>å‰ç«¯ï¼ˆReact ç»„ä»¶ï¼‰é…åˆ <code>useChat</code> å³å¯é›¶é…ç½®ä½¿ç”¨ï¼š</p>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>;
<span class="hljs-keyword">import</span> { useChat } <span class="hljs-keyword">from</span> <span class="hljs-string">'ai/react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { messages, input, handleInputChange, handleSubmit } = <span class="hljs-title function_">useChat</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {messages.map(m =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{m.id}</span>&gt;</span>
          {m.role === 'user' ? 'User: ' : 'AI: '}
          {m.content}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ))}
      
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleInputChange}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-10">ğŸ’¡ æ€»ç»“ä¸é¿å‘æŒ‡å—</h2>
<ol>
<li>
<p><strong>å›½å†…ç»„ä»¶ä¼˜å…ˆ</strong>ï¼šè™½ç„¶ Vercel AI SDK å®˜æ–¹æœ‰å¾ˆå¤š Providersï¼Œä½†åˆ©ç”¨ <code>createOpenAI</code> + <code>baseURL</code> æ˜¯è¿æ¥å›½å†…å¤§æ¨¡å‹æœ€ç¨³å®šã€æœ€è½»é‡çš„æ–¹å¼ï¼Œä¸éœ€è¦ç­‰å¾…å®˜æ–¹å‡ºä¸“é—¨çš„ SDK åŒ…ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹åç§°å¯¹åº”</strong>ï¼š</p>
<ul>
<li>DeepSeek: <code>deepseek-chat</code> (V3), <code>deepseek-reasoner</code> (R1)</li>
<li>Kimi: <code>moonshot-v1-8k</code>, <code>moonshot-v1-32k</code></li>
<li>Qwen: <code>qwen-plus</code>, <code>qwen-max</code></li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¦‚æœé‡åˆ° <code>401</code>ï¼Œæ£€æŸ¥ API Keyï¼›å¦‚æœé‡åˆ° <code>404</code>ï¼Œæ£€æŸ¥ <code>baseURL</code> åé¢æ˜¯å¦å¤šåŠ äº†æˆ–å°‘åŠ äº† <code>/v1</code>ï¼ˆDeepSeek ä¸éœ€è¦ <code>/v1</code> ç»“å°¾ï¼Œä½†æŸäº›åº“å¯èƒ½è‡ªåŠ¨å¤„ç†ï¼Œå»ºè®®ä¸¥æ ¼æŒ‰ç…§å‚å•†æ–‡æ¡£å†™ Base URLï¼‰ã€‚</p>
</li>
</ol>
<p>å¸Œæœ›è¿™ç¯‡æ•™ç¨‹èƒ½å¸®ä½ å¿«é€Ÿæ‰“é€šå›½å†…å¤§æ¨¡å‹çš„æµå¼å¼€å‘ä¹‹è·¯ï¼ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» LangChain åˆ° LangGraph æ„å»ºå¯æ§ Agent çš„å·¥ç¨‹å®è·µ]]></title>    <link>https://juejin.cn/post/7605049329778769961</link>    <guid>https://juejin.cn/post/7605049329778769961</guid>    <pubDate>2026-02-11T01:20:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605049329778769961" data-draft-id="7605041451328241707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» LangChain åˆ° LangGraph æ„å»ºå¯æ§ Agent çš„å·¥ç¨‹å®è·µ"/> <meta itemprop="keywords" content="LangChain,OpenAI"/> <meta itemprop="datePublished" content="2026-02-11T01:20:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BugShare"/> <meta itemprop="url" content="https://juejin.cn/user/4469992354742361"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» LangChain åˆ° LangGraph æ„å»ºå¯æ§ Agent çš„å·¥ç¨‹å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4469992354742361/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BugShare
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:20:13.000Z" title="Wed Feb 11 2026 01:20:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥è®²è§£äº†å¦‚ä½•ä½¿ç”¨ <strong>LangChain + Ollama</strong> æ„å»ºæœ¬åœ°å¤§æ¨¡å‹è°ƒç”¨æ–¹æ¡ˆã€‚
ä½†æ˜¯ï¼Œéšç€ä¸šåŠ¡éœ€æ±‚ä¸æ–­å¢é•¿ï¼Œæˆ‘ä»¬å‘ç°ä»…ä»…è°ƒç”¨æ¨¡å‹å·²ç»è¿œè¿œä¸å¤Ÿâ€”â€”æˆ‘ä»¬å¸Œæœ›æ„å»º<strong>å…·å¤‡æ¡ä»¶åˆ¤æ–­ã€æµç¨‹æ§åˆ¶ã€å·¥å…·è°ƒç”¨ä»¥åŠçŠ¶æ€è®°å¿†çš„æ™ºèƒ½ Agent</strong>ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒLangChain çš„ <strong><code>create_agent</code></strong> + LangGraph çš„ <strong>StateGraph</strong> å°±æˆä¸ºäº†çœŸæ­£é¢å‘å·¥ç¨‹çš„åˆ©å™¨ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥è®²æ¸…æ¥šï¼š</p>
<blockquote>
<p><strong>ä»€ä¹ˆæ˜¯ LangGraphï¼Ÿä¸ºä»€ä¹ˆå®ƒæ˜¯æ„å»ºå¯æ§ Agent çš„æœªæ¥ï¼Ÿå¦‚ä½•åœ¨æœ€æ–° API ä¸‹ç”¨ create_agent å’Œ StateGraph æ„å»ºæœ‰çŠ¶æ€æ™ºèƒ½ä½“ï¼Ÿ</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨ LangGraph æ„å»º Agentï¼Ÿ</h2>
<p>åœ¨ LangChain æœ€æ–°ç‰ˆæœ¬ä¸­ï¼ŒAgent API å·²ç»å…¨é¢å‡çº§ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ <strong><code>create_agent</code></strong> æ„å»ºç”Ÿäº§çº§æ™ºèƒ½ä½“ï¼Œå¹¶åŸºäº <strong>LangGraph</strong> å¯¹å†…éƒ¨æµç¨‹è¿›è¡Œå›¾ç»“æ„ç¼–æ’ã€‚</p>
<blockquote>
<p><strong><code>create_agent</code></strong>
æ˜¯ä¸€ä¸ªé«˜é˜¶æ¥å£ï¼Œç”¨äºæ„å»ºå›¾å¼ Agentã€‚å®ƒå†…éƒ¨ä¾èµ– LangGraph æ‰§è¡Œå™¨ï¼Œåœ¨ä¸€ä¸ªçŠ¶æ€å›¾ä¸­é€æ­¥å®Œæˆæ¨¡å‹æ¨ç†ã€å·¥å…·è°ƒç”¨ã€å†³ç­–æµè·³è½¬ç­‰é€»è¾‘ã€‚</p>
</blockquote>
<p>è¿‡å»æˆ‘ä»¬å¯èƒ½ä½¿ç”¨ <strong>Chain + Logic</strong> ç»„åˆæ¥å¤„ç†æµç¨‹ï¼Œä½†éšç€é€»è¾‘å¤æ‚åº¦å¢åŠ ï¼Œçº¿æ€§å†™æ³•å¾ˆéš¾ç»´æŠ¤ã€æ‰©å±•å’Œè°ƒè¯•ã€‚
è€Œ <strong>LangGraph çš„å›¾ç»“æ„</strong> å¯ä»¥è®©æˆ‘ä»¬ï¼š</p>
<ul>
<li>ç”¨ <strong>çŠ¶æ€ï¼ˆstateï¼‰</strong> è¡¨è¾¾å…¨å±€å¯¹è¯æˆ–ä»»åŠ¡ä¿¡æ¯</li>
<li>ç”¨ <strong>èŠ‚ç‚¹ï¼ˆnodesï¼‰</strong> è¡¨è¾¾æµç¨‹é€»è¾‘</li>
<li>ç”¨ <strong>è¾¹ï¼ˆedgesï¼‰</strong> è¡¨è¾¾ä¸åŒåˆ†æ”¯ä¸æ¡ä»¶</li>
<li>ç”¨ <strong>è®°å¿†æ’ä»¶</strong> å®ç°çŸ­æœŸå’Œé•¿æœŸè®°å¿†</li>
</ul>
<p>è¿™ç»„åˆèµ·æ¥ï¼Œå°±å½¢æˆäº†ä¸€ä¸ª<strong>å¯æ§ã€æœ‰çŠ¶æ€æµç¨‹çš„æ™ºèƒ½ Agent</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯ StateGraphï¼Ÿ</h2>
<p><strong>StateGraph</strong> æ˜¯ LangGraph çš„æ ¸å¿ƒæŠ½è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ª<strong>å…·æœ‰å…¨å±€çŠ¶æ€å’ŒèŠ‚ç‚¹æµè½¬é€»è¾‘çš„å›¾</strong>ã€‚
æ¯ä¸ªèŠ‚ç‚¹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li>æ¥æ”¶å½“å‰å…¨å±€çŠ¶æ€</li>
<li>è¿”å›ä¿®æ”¹åçš„çŠ¶æ€æˆ–è·³è½¬æŒ‡ä»¤</li>
</ul>
<p>å®ƒéå¸¸é€‚åˆæŠŠâ€œå¤æ‚æµç¨‹é—®é¢˜â€æ˜ å°„ä¸ºâ€œå›¾çŠ¶æ€æœºâ€ï¼Œæ— è®ºæ˜¯å¯¹è¯ã€å·¥å…·è°ƒç”¨è¿˜æ˜¯å¤šæ­¥éª¤ä»»åŠ¡ã€‚</p>
<p>ç®€åŒ–åçš„ StateGraph å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-flow" lang="flow">StateGraph(StateType)
    â”œâ”€â”€ add_node(name, function)
    â”œâ”€â”€ add_edge(source, target)
    â””â”€â”€ compile()
        â†’ graph.invoke({state input})
</code></pre>
<p>è§£é‡Šä¸€ä¸‹ï¼š</p>
<ul>
<li><strong>StateType</strong>ï¼šå®šä¹‰å…¨å±€çŠ¶æ€ç»“æ„</li>
<li><strong>add_node</strong>ï¼šå®šä¹‰èŠ‚ç‚¹è¡Œä¸ºé€»è¾‘</li>
<li><strong>add_edge</strong>ï¼šå®šä¹‰èŠ‚ç‚¹é—´çš„æµç¨‹è·³è½¬å…³ç³»</li>
</ul>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æ–° APIï¼š<code>create_agent</code> å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<p>ä» LangChain æœ€æ–°ç‰ˆæœ¬å¼€å§‹ï¼Œæ—§çš„ <code>create_react_agent</code> å·²è¢«åºŸå¼ƒï¼Œç»Ÿä¸€ä½¿ç”¨ <strong><code>create_agent</code></strong>ã€‚</p>
<p>ä¸€ä¸ªæœ€ç®€å•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI

model = ChatOpenAI(
    model=<span class="hljs-string">"qwen3:8b"</span>,
    base_url=<span class="hljs-string">"http://localhost:11434/v1"</span>,
    api_key=<span class="hljs-string">"your api key"</span>,
)

agent = create_agent(
    model=model,
    tools=[],
    system_prompt=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œè´Ÿè´£å¤„ç†ç”¨æˆ·è¯·æ±‚ã€‚"</span>,
)

response = agent.invoke({
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä»€ä¹ˆæ˜¯ LangGraphï¼Ÿ"</span>}]
})
<span class="hljs-built_in">print</span>(response)
</code></pre>
<p>ğŸ“Œ é‡ç‚¹è¯´æ˜ï¼š</p>
<ul>
<li><code>model</code> å¯ä»¥æ˜¯ä»»ä½•æ”¯æŒå·¥å…·è°ƒç”¨çš„èŠå¤©æ¨¡å‹</li>
<li><code>tools</code> æ˜¯ Agent å¯è°ƒç”¨çš„å¤–éƒ¨èƒ½åŠ›ï¼ˆå¦‚æ£€ç´¢ã€ä»£ç æ‰§è¡Œç­‰ï¼‰</li>
<li><code>system_prompt</code> æ˜¯ Agent çš„åŸºç¡€è§’è‰²æŒ‡ä»¤</li>
</ul>
<p>å®é™…ä¸Šï¼Œ<strong><code>create_agent</code> å†…éƒ¨ä¼šæ„å»ºä¸€ä¸ª StateGraph</strong>ï¼Œå¹¶æŠŠæ¨¡å‹ + å·¥å…·èŠ‚ç‚¹ç»„åˆæˆå¯æ‰§è¡Œæµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€ç»“åˆ StateGraphï¼šæ„å»ºæ›´å¤æ‚çš„å›¾å¼ Agent</h2>
<p>å¦‚æœä½ å¸Œæœ›åœ¨ Agent å†…éƒ¨å®ç°æ›´å¤æ‚çš„æµç¨‹ï¼ˆå¦‚è¾“å…¥æ ¡éªŒã€åˆ†æ”¯å·¥å…·è°ƒç”¨ã€çŠ¶æ€è®°å½•ç­‰ï¼‰ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>StateGraph</strong>ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹çš„ç¤ºä¾‹ï¼šé€šè¿‡ LLM ç”Ÿæˆå›ç­”å¹¶è®°å½•çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict, Annotated
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, END
<span class="hljs-keyword">from</span> langgraph.graph.message <span class="hljs-keyword">import</span> add_messages
<span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> HumanMessage

<span class="hljs-comment"># 1. å®šä¹‰å…¨å±€çŠ¶æ€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ChatState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    messages: Annotated[<span class="hljs-built_in">list</span>, add_messages]

<span class="hljs-comment"># 2. åˆå§‹åŒ–æ¨¡å‹</span>
llm = ChatOpenAI(
    model=<span class="hljs-string">"qwen3:8b"</span>,
    base_url=<span class="hljs-string">"http://localhost:11434/v1"</span>,
    api_key=<span class="hljs-string">"your api key"</span>,
)

<span class="hljs-comment"># 3. å®šä¹‰èŠ‚ç‚¹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">chat_node</span>(<span class="hljs-params">state: ChatState</span>):
    response = llm.invoke(state[<span class="hljs-string">"messages"</span>])
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: [response]}

<span class="hljs-comment"># 4. æ„å»º StateGraph</span>
graph = StateGraph(ChatState)
graph.add_node(<span class="hljs-string">"chat"</span>, chat_node)
graph.set_entry_point(<span class="hljs-string">"chat"</span>)
graph.add_edge(<span class="hljs-string">"chat"</span>, END)
graph = graph.<span class="hljs-built_in">compile</span>()

<span class="hljs-comment"># ç”Ÿæˆå¯è§†åŒ–å›¾</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"/Users/zhoupb/workspace-ai/atnk-ai/data/demo.png"</span>, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
    f.write(graph.get_graph(xray=<span class="hljs-literal">True</span>).draw_mermaid_png())

<span class="hljs-comment"># 5. è°ƒç”¨</span>
result = graph.invoke(
    {<span class="hljs-string">"messages"</span>: [HumanMessage(content=<span class="hljs-string">"ç”¨ä¸€å¥è¯ä»‹ç»ä»€ä¹ˆæ˜¯ LangGraphï¼Ÿ"</span>)]},
)
<span class="hljs-built_in">print</span>(result[<span class="hljs-string">"messages"</span>][-<span class="hljs-number">1</span>].content)
</code></pre>
<p><img src="http://openwrite.cn/uploads/19748/59446/49bce2b8-b1de-44a7-a613-54e9cc7939f5.png" alt="demo.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><strong>ChatState</strong>ï¼šå…¨å±€çŠ¶æ€ç»“æ„</li>
<li><strong>chat_node</strong>ï¼šå¤„ç†æ¨¡å‹é€»è¾‘çš„èŠ‚ç‚¹</li>
<li><strong>edges</strong>ï¼šä»èµ·ç‚¹ç›´æ¥è¿›å…¥ <code>chat_node</code>ï¼Œå¹¶æ›´æ–°æ¶ˆæ¯çŠ¶æ€</li>
</ul>
<p>ä½ å¯ä»¥åœ¨å›¾å†…ä½¿ç”¨æ›´å¤æ‚çš„èŠ‚ç‚¹è¿æ¥å’Œæ¡ä»¶åˆ†æ”¯ã€‚([docs.langchain.org.cn][2])</p>
<hr/>
<h2 data-id="heading-4">äº”ã€è®°å¿†ï¼ˆMemoryï¼‰å¦‚ä½•é›†æˆï¼Ÿ</h2>
<p>æ™ºèƒ½ä½“çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸€ï¼Œå°±æ˜¯<strong>è®°ä½ä¹‹å‰çš„å¯¹è¯æˆ–æ“ä½œå†å²</strong>ã€‚</p>
<p>LangGraph æä¾›äº†å¼€ç®±å³ç”¨çš„çŸ­æœŸè®°å¿†æœºåˆ¶ï¼ŒåŸºäº <strong>æ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰</strong> å­˜å‚¨çŠ¶æ€ã€‚ä»¥ä¸‹æ˜¯çŸ­æœŸè®°å¿†çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.checkpoint.memory <span class="hljs-keyword">import</span> InMemorySaver

<span class="hljs-comment">#...çœç•¥</span>

<span class="hljs-comment"># ä½¿ç”¨æ£€æŸ¥ç‚¹ä¿å­˜çŠ¶æ€</span>
checkpointer = InMemorySaver()
graph = graph.<span class="hljs-built_in">compile</span>(checkpointer=checkpointer)

<span class="hljs-comment"># ä½¿ç”¨åŒä¸€ä¸ª thread_idï¼Œè§¦å‘â€œè®°å¿†â€</span>
config = {<span class="hljs-string">"configurable"</span>: {<span class="hljs-string">"thread_id"</span>: <span class="hljs-string">"local-chat"</span>}}

<span class="hljs-comment"># ç¬¬ä¸€è½®</span>
result = graph.invoke(
    {<span class="hljs-string">"messages"</span>: [HumanMessage(content=<span class="hljs-string">"ç”¨ä¸€å¥è¯ä»‹ç»ä»€ä¹ˆæ˜¯ LangGraphï¼Ÿ"</span>)]},
    config=config
)
<span class="hljs-built_in">print</span>(result[<span class="hljs-string">"messages"</span>][-<span class="hljs-number">1</span>].content)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">100</span>)

<span class="hljs-comment"># ç¬¬äºŒè½®ï¼ˆä¿ç•™ä¸Šä¸‹æ–‡ï¼‰</span>
result = graph.invoke(
    {<span class="hljs-string">"messages"</span>: [HumanMessage(content=<span class="hljs-string">"ç”¨ä¸€å¥è¯ä»‹ç»å®ƒå’Œ LangChain çš„å…³ç³»ï¼Ÿ"</span>)]},
    config=config
)
<span class="hljs-built_in">print</span>(result[<span class="hljs-string">"messages"</span>][-<span class="hljs-number">1</span>].content)
</code></pre>
<p>åŒä¸€ä¸ª <strong>thread_id</strong> ä¸‹çš„çŠ¶æ€ä¼šè¢«æŒç»­ä¿å­˜ï¼Œå®ç°çŸ­æœŸè®°å¿†ï¼Œéå¸¸é€‚åˆå¤šè½®å¯¹è¯åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-5">å…­ã€å·¥ç¨‹åŒ–å»ºè®®ï¼šå¯æ§ã€å¯è§†åŒ–ä¸éƒ¨ç½²</h2>
<p>åœ¨çœŸå®å·¥ç¨‹åœºæ™¯ä¸‹ï¼Œå›¾å¼ Agent çš„èƒ½åŠ›è¿œä¸æ­¢ç¤ºä¾‹é‚£ä¹ˆç®€å•ï¼š</p>
<p><img src="http://openwrite.cn/uploads/19748/59446/1f413e29-6a49-4453-9fa3-dcba2193344d.png" alt="å¾®ä¿¡å›¾ç‰‡_20260206164353_120_235.png" loading="lazy"/></p>
<h3 data-id="heading-6">1ï¸âƒ£ è‡ªå®šä¹‰çŠ¶æ€æ‰©å±•</h3>
<p>å¯ä»¥åœ¨ Agent å†…å®šä¹‰æ›´å¤šçŠ¶æ€å­—æ®µï¼Œæ¯”å¦‚ç”¨æˆ·åå¥½ã€æ‰§è¡Œè·¯å¾„ã€å†³ç­–æ•°æ®ç­‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    messages: <span class="hljs-built_in">list</span>
    user_settings: <span class="hljs-built_in">dict</span>
</code></pre>
<p>è°ƒç”¨ <code>create_agent</code> æ—¶ï¼Œé€šè¿‡ <code>state_schema</code> å‚æ•°ä¼ å…¥ï¼ŒAgent å°±ä¼šè‡ªåŠ¨ç»´æŠ¤è¿™äº›å­—æ®µã€‚</p>
<hr/>
<h3 data-id="heading-7">2ï¸âƒ£ é›†æˆå·¥å…·èƒ½åŠ›</h3>
<p>Agent å¯ä»¥è°ƒç”¨æ£€ç´¢ã€ä»£ç æ‰§è¡Œã€æ•°æ®åº“æŸ¥è¯¢ç­‰å·¥å…·ã€‚
å·¥å…·å¯ä»¥ä½œä¸ºèŠ‚ç‚¹ï¼Œæˆ–è€…ç›´æ¥ä¼ å…¥ <code>tools</code> åˆ—è¡¨ï¼Œç”± Agent åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨ï¼Œæ˜¾è‘—å¢å¼ºå®é™…èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-8">3ï¸âƒ£ å¯è§‚æµ‹ä¸è°ƒè¯•</h3>
<p>ç»“åˆ <strong>LangSmith Trace</strong> ç­‰å¯è§‚æµ‹å¹³å°ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>å¯è§†åŒ–æ‰§è¡Œè·¯å¾„</li>
<li>è¿½è¸ªçŠ¶æ€å˜åŒ–</li>
<li>è°ƒè¯•å¤æ‚æµç¨‹</li>
</ul>
<p>å¤§å¹…æé«˜ç”Ÿäº§ç¯å¢ƒçš„å¯ç»´æŠ¤æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€å·¥ç¨‹åŒ–ç»†èŠ‚æ€»ç»“</h2>





























<table><thead><tr><th>æŠ€æœ¯ç‚¹</th><th>æœ€æ–° API</th></tr></thead><tbody><tr><td>æ„å»º Agent</td><td><code>create_agent()</code>ï¼ˆæ›¿ä»£æ—§çš„ <code>create_react_agent</code>ï¼‰</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>ç”¨ <code>StateGraph</code> å®šä¹‰å…¨å±€çŠ¶æ€ï¼Œå¹¶æµè½¬èŠ‚ç‚¹é€»è¾‘</td></tr><tr><td>è®°å¿†</td><td>åŸºäº <code>checkpoint</code> æœºåˆ¶å®ç°çŸ­æœŸè®°å¿†</td></tr><tr><td>è‡ªå®šä¹‰çŠ¶æ€</td><td>å¯é€šè¿‡ <code>state_schema</code> æ‰©å±•</td></tr><tr><td>å¯æ§æµç¨‹</td><td>ç”¨èŠ‚ç‚¹ + è¾¹ + Command æ§åˆ¶æµç¨‹</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">å…«ã€ç»“è¯­ï¼šä»é“¾åˆ°å›¾</h2>
<p>å¦‚æœè¯´ä¼ ç»Ÿ <strong>Chain</strong> æ˜¯<strong>çº¿æ€§çš„èƒ½åŠ›ç»„åˆ</strong>ï¼Œé‚£ä¹ˆ <strong>StateGraph</strong> å°±æ˜¯<strong>æœ‰çŠ¶æ€çš„å…¨å±€æ§åˆ¶æµæœº</strong>ï¼›
å¦‚æœè¯´ Chain æ˜¯<strong>å·¥å…·é©±åŠ¨æµç¨‹ç‰‡æ®µ</strong>ï¼ŒGraph å°±æ˜¯<strong>å·¥ç¨‹çº§çš„æ™ºèƒ½ååŒå¹³å°</strong>ã€‚</p>
<p>åœ¨ Agent éœ€æ±‚è¶Šæ¥è¶Šå¤æ‚çš„ä»Šå¤©ï¼Œå•é  Chain å·²æ— æ³•åº”å¯¹å¤šæ­¥éª¤å†³ç­–ã€é€»è¾‘åˆ†æ”¯å’Œè®°å¿†ç»´æŠ¤ï¼Œè€Œ <strong>LangGraph çš„å›¾å¼è®¾è®¡</strong>æ­£æ˜¯ä¸ºå¯æ§ Agent è€Œç”Ÿã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨åšï¼š</p>
<ul>
<li>å¤šæ­¥å¯¹è¯æœºå™¨äºº</li>
<li>å¸¦å¤–éƒ¨å·¥å…·è°ƒç”¨çš„æ™ºèƒ½ä½“</li>
<li>å…·æœ‰é•¿æœŸè®°å¿†çš„åº”ç”¨</li>
<li>éœ€è¦å¯è§†åŒ–ä¸è°ƒè¯•çš„ç”Ÿäº§ç³»ç»Ÿ</li>
</ul>
<p>é‚£ä¹ˆï¼Œä» <strong>LangChain åˆ° LangGraph</strong> çš„å‡çº§ï¼Œå°†æ˜¯ä½ <strong>æœ€å€¼å¾—æŠ•å…¥çš„ä¸€æ¡è·¯çº¿</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot è¿œç¨‹è°ƒè¯•ç»ˆäºæ¥äº†ï¼IntelliJ IDEA æ–°ç‰ˆæ”¯æŒã€Œæ—  Agentã€è¿œç¨‹è°ƒè¯•]]></title>    <link>https://juejin.cn/post/7604889577938485275</link>    <guid>https://juejin.cn/post/7604889577938485275</guid>    <pubDate>2026-02-11T00:24:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604889577938485275" data-draft-id="7599459943917748262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot è¿œç¨‹è°ƒè¯•ç»ˆäºæ¥äº†ï¼IntelliJ IDEA æ–°ç‰ˆæ”¯æŒã€Œæ—  Agentã€è¿œç¨‹è°ƒè¯•"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-11T00:24:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="golangå­¦ä¹ è®°"/> <meta itemprop="url" content="https://juejin.cn/user/4371313964100990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot è¿œç¨‹è°ƒè¯•ç»ˆäºæ¥äº†ï¼IntelliJ IDEA æ–°ç‰ˆæ”¯æŒã€Œæ—  Agentã€è¿œç¨‹è°ƒè¯•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313964100990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    golangå­¦ä¹ è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:24:24.000Z" title="Wed Feb 11 2026 00:24:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿˜åœ¨ä¸ºçº¿ä¸Šç¯å¢ƒâ€œæ˜æ˜æœ¬åœ°è·‘å¾—å¥½å¥½çš„ï¼Œä¸€éƒ¨ç½²å°±å´©â€è€ŒæŠ“ç‹‚ï¼Ÿ<br/>
æƒ³çœ‹çœ‹è¿œç¨‹æœåŠ¡å™¨ä¸Š Spring çš„ Bean åˆ°åº•é•¿å•¥æ ·ï¼Œå´åªèƒ½é  <code>log.info()</code> çŒœè°œï¼Ÿ</p>
<p>å¥½æ¶ˆæ¯æ¥äº†ï¼<strong>IntelliJ IDEA çš„ Spring Debugger æ’ä»¶åœ¨ 2026 å¹´åˆæ­£å¼æ”¯æŒè¿œç¨‹è°ƒè¯•</strong>ï¼Œè€Œä¸”â€”â€”<strong>å®Œå…¨ä¸éœ€è¦ debug agent</strong>ï¼</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ç”¨è¿™ä¸ªâ€œé­”æ³•åŠŸèƒ½â€ï¼ŒæŠŠè¿œç¨‹ Spring Boot åº”ç”¨å˜æˆä½ çš„â€œé€æ˜ç»ç’ƒç›’â€ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ” ä»€ä¹ˆæ˜¯ Spring Debuggerï¼Ÿ</h2>
<p>å…ˆå¿«é€Ÿå›é¡¾ä¸€ä¸‹ï¼š<br/>
Spring Debugger æ˜¯ JetBrains åœ¨ <strong>2025 å¹´ 5 æœˆ</strong>æ¨å‡ºçš„å®˜æ–¹æ’ä»¶ï¼Œä¸“æ²» Spring Boot çš„â€œé»‘ç›’ç—…â€ã€‚</p>
<p>å®ƒèƒ½è®©ä½ åœ¨ Debug æ—¶ï¼š</p>
<ul>
<li>å®æ—¶æŸ¥çœ‹æ‰€æœ‰å·²æ³¨å†Œçš„ <strong>Bean</strong></li>
<li>æ£€æŸ¥ <strong>é…ç½®å±æ€§</strong>ï¼ˆå¦‚ <code>application.yml</code> ä¸­çš„å€¼ï¼‰</li>
<li>åˆ†æ <strong>äº‹åŠ¡è¾¹ç•Œ</strong></li>
<li>æ‰§è¡Œ <strong>è¡¨è¾¾å¼æ±‚å€¼</strong>ï¼ˆæ¯”å¦‚ <code>userService.findById(1).getName()</code>ï¼‰</li>
</ul>
<p>ä½†ä¹‹å‰å®ƒåªæ”¯æŒ <strong>æœ¬åœ°åº”ç”¨</strong>ã€‚ç°åœ¨ï¼Œå®ƒç»ˆäºèƒ½è¿ä¸Š <strong>è¿œç¨‹æœåŠ¡</strong> äº†ï¼</p>
<hr/>
<h2 data-id="heading-1">ğŸŒ ä¸ºä»€ä¹ˆâ€œæ—  Agentâ€è¿™ä¹ˆé‡è¦ï¼Ÿ</h2>
<p>å¾ˆå¤šè¿œç¨‹è°ƒè¯•æ–¹æ¡ˆè¦æ±‚ä½ åœ¨å¯åŠ¨æ—¶åŠ  <code>-javaagent</code>ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-javaagent:/path/to/some-debug-agent.jar
</code></pre>
<p>ä½†é—®é¢˜æ¥äº†ï¼š</p>
<ul>
<li>éœ€è¦ä¿®æ”¹éƒ¨ç½²è„šæœ¬</li>
<li>å¯èƒ½å½±å“æ€§èƒ½</li>
<li>ç”Ÿäº§ç¯å¢ƒé€šå¸¸ç¦æ­¢åŠ è½½æœªçŸ¥ agent</li>
</ul>
<p><strong>IntelliJ IDEA çš„æ–¹æ¡ˆå®Œå…¨ä¸åŒ</strong>ï¼š<br/>
âœ… <strong>ä¸ä¾èµ–ä»»ä½• agent</strong><br/>
âœ… <strong>ä¸ä¾µå…¥ä¸šåŠ¡ä»£ç </strong><br/>
âœ… <strong>åªéœ€æ ‡å‡† JVM è¿œç¨‹è°ƒè¯•ç«¯å£</strong></p>
<p>è¿™å°±åƒä½ å»æœ‹å‹å®¶ä¸²é—¨â€”â€”ä¸ç”¨æ¢é‹ã€ä¸ç”¨ç™»è®°ï¼Œç›´æ¥æ¨é—¨è¿›å»èŠå¤© ğŸ˜</p>
<hr/>
<h2 data-id="heading-2">ğŸ› ï¸ å¦‚ä½•é…ç½®è¿œç¨‹è°ƒè¯•ï¼Ÿä¸‰æ­¥æå®šï¼</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨è¿œç¨‹åº”ç”¨æ—¶å¼€å¯ JDWP è°ƒè¯•ç«¯å£</h3>
<p>ä»¥ <strong>Docker Compose</strong> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">http-server:</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">'your-spring-app:latest'</span>
  <span class="hljs-attr">environment:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'8080:8080'</span>   <span class="hljs-comment"># åº”ç”¨ç«¯å£</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'5005:5005'</span>   <span class="hljs-comment"># è°ƒè¯•ç«¯å£</span>
</code></pre>
<p>å…³é”®å‚æ•°è§£é‡Šï¼š</p>
<ul>
<li><code>address=*:5005</code>ï¼šç›‘å¬æ‰€æœ‰ IP çš„ 5005 ç«¯å£ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®é™åˆ¶ IPï¼‰</li>
<li><code>suspend=n</code>ï¼šåº”ç”¨å¯åŠ¨æ—¶ä¸ç­‰å¾…è°ƒè¯•å™¨ï¼ˆé¿å…å¡ä½ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ å°è´´å£«ï¼šå¦‚æœä½ ç”¨çš„æ˜¯ <code>java -jar</code>ï¼Œç›´æ¥åŠ åˆ°å¯åŠ¨å‘½ä»¤é‡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -agentlib:jdwp=transport=dt_socket,server=y,<span class="hljs-built_in">suspend</span>=n,address=*:5005 -jar app.jar
</code></pre>
</blockquote>
<hr/>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šåœ¨ IntelliJ IDEA ä¸­åˆ›å»ºã€ŒRemote JVM Debugã€é…ç½®</h3>
<ol>
<li>ç‚¹å‡»å³ä¸Šè§’ä¸‹æ‹‰ â†’ <strong>Edit Configurations</strong></li>
<li>ç‚¹å‡» <code>+</code> â†’ é€‰æ‹© <strong>Remote JVM Debug</strong></li>
<li>å¡«å†™ï¼š
<ul>
<li><strong>Host</strong>: ä½ çš„æœåŠ¡å™¨ IPï¼ˆå¦‚ <code>192.168.1.100</code> æˆ– <code>your-domain.com</code>ï¼‰</li>
<li><strong>Port</strong>: <code>5005</code></li>
<li><strong>Module classpath</strong>: é€‰æ‹©ä½ çš„ Spring Boot æ¨¡å—ï¼ˆç¡®ä¿æºç åŒ¹é…ï¼‰</li>
</ul>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d868cf6cf7024ab78182f3822e1f2dd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374267&amp;x-signature=Yx9RL0wF%2B3IK5LRsC38DjZrdXLY%3D" alt="Remote JVM Debug é…ç½®ç•Œé¢" loading="lazy"/></p>
<blockquote>
<p>âœ… è¿™ä¸€æ­¥æ˜¯å…³é”®ï¼å¦‚æœ classpath ä¸å¯¹ï¼Œæ–­ç‚¹ä¼šå¤±æ•ˆæˆ–æ— æ³•æŸ¥çœ‹å˜é‡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡» Debugï¼Œå¼€å§‹â€œé€è§†â€è¿œç¨‹åº”ç”¨ï¼</h3>
<p>è¿æ¥æˆåŠŸåï¼Œä½ å°±èƒ½ï¼š</p>
<ul>
<li>åœ¨ä»»æ„æ–¹æ³•æ‰“ <strong>æ–­ç‚¹</strong></li>
<li>æŸ¥çœ‹ <strong>è°ƒç”¨æ ˆ</strong> å’Œ <strong>å±€éƒ¨å˜é‡</strong></li>
<li>åœ¨ <strong>Spring Debugger é¢æ¿</strong> ä¸­æµè§ˆæ‰€æœ‰ Bean</li>
<li>å®æ—¶æ‰§è¡Œ <strong>SpEL è¡¨è¾¾å¼</strong>ï¼ˆå¦‚ <code>@myService.doSomething()</code>ï¼‰</li>
</ul>
<p>å°±åƒåœ¨æœ¬åœ°å¼€å‘ä¸€æ ·ä¸æ»‘ï¼</p>
<hr/>
<h2 data-id="heading-6">âš™ï¸ æ”¯æŒå“ªäº›å†…åµŒå®¹å™¨ï¼Ÿæœ‰å‘å—ï¼Ÿ</h2>
<p>ç›®å‰æ”¯æŒä¸‰å¤§ä¸»æµå†…åµŒ Servlet å®¹å™¨ï¼Œä½†è¡Œä¸ºç•¥æœ‰ä¸åŒï¼š</p>




















<table><thead><tr><th>å®¹å™¨</th><th>ä¸Šä¸‹æ–‡åŠ è½½æ—¶æœº</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Tomcat</strong></td><td><strong>ç«‹å³å¯ç”¨</strong></td><td>å¯åŠ¨åç«‹åˆ»èƒ½æŸ¥çœ‹ Bean</td></tr><tr><td><strong>Jetty / Undertow</strong></td><td><strong>éœ€é¦–æ¬¡è¯·æ±‚å</strong></td><td>å› çº¿ç¨‹æ¨¡å‹å·®å¼‚ï¼Œéœ€ç­‰ç¬¬ä¸€ä¸ª HTTP è¯·æ±‚åˆ°è¾¾</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ è¿™ä¸æ˜¯ Bugï¼è€Œæ˜¯ä¸ºäº†<strong>ä¸ä½¿ç”¨ Agent</strong>åšå‡ºçš„è®¾è®¡æƒè¡¡ã€‚<br/>
è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼šè¿ä¸Šåï¼Œå…ˆå‘ä¸€ä¸ª <code>curl http://your-app/health</code> å³å¯è§¦å‘ä¸Šä¸‹æ–‡åŠ è½½ã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot 4.0 ç›¸æ¯”äºå‰å‡ ä»£æœ‰å“ªäº›æ–°èƒ½åŠ›å’Œæ–°API]]></title>    <link>https://juejin.cn/post/7605055844254433318</link>    <guid>https://juejin.cn/post/7605055844254433318</guid>    <pubDate>2026-02-11T01:29:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605055844254433318" data-draft-id="7605036907459264563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot 4.0 ç›¸æ¯”äºå‰å‡ ä»£æœ‰å“ªäº›æ–°èƒ½åŠ›å’Œæ–°API"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,GitHub"/> <meta itemprop="datePublished" content="2026-02-11T01:29:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°jobleap"/> <meta itemprop="url" content="https://juejin.cn/user/2875978147692910"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot 4.0 ç›¸æ¯”äºå‰å‡ ä»£æœ‰å“ªäº›æ–°èƒ½åŠ›å’Œæ–°API
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978147692910/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°jobleap
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:29:44.000Z" title="Wed Feb 11 2026 01:29:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Spring Boot 4.0 äº 2025 å¹´æœ«æ­£å¼å‘å¸ƒï¼Œå®ƒæ˜¯ç»§ 3.0 ä¹‹åçš„åˆä¸€ä¸ªé‡å¤§é‡Œç¨‹ç¢‘ç‰ˆæœ¬ã€‚è¿™ä¸€ä»£çš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>æ¨¡å—åŒ–</strong>ã€<strong>æ€§èƒ½æå‡</strong>ä»¥åŠå¯¹ç°ä»£ Java ç”Ÿæ€ï¼ˆJava 25ï¼‰çš„å…¨é¢æ‹¥æŠ±ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ Spring Boot 4.0 ç›¸æ¯”å‰å‡ ä»£ï¼ˆç‰¹åˆ«æ˜¯ 3.xï¼‰çš„æ ¸å¿ƒæ–°èƒ½åŠ›å’Œæ–° APIï¼š</p>
<hr/>
<h3 data-id="heading-0">1. æ ¸å¿ƒæ¶æ„ï¼šå…¨é¢çš„æ¨¡å—åŒ– (Modularization)</h3>
<p>è¿™æ˜¯ Spring Boot 4.0 <strong>æœ€æ˜¾è‘—çš„å˜åŒ–</strong>ã€‚</p>
<ul>
<li><strong>ç—›ç‚¹ï¼š</strong> åœ¨ 3.x åŠä»¥å‰ï¼Œ<code>spring-boot-autoconfigure</code> æ˜¯ä¸€ä¸ªå·¨å¤§çš„ JAR åŒ…ï¼ŒåŒ…å«äº†å‡ ç™¾ä¸ªæ¡†æ¶çš„é…ç½®é€»è¾‘ã€‚å³ä½¿ä½ åªå†™ä¸€ä¸ªç®€å•çš„ Web æœåŠ¡ï¼Œç±»è·¯å¾„é‡Œä¹Ÿä¼šå¡æ»¡ LDAPã€Batch ç­‰æ— å…³çš„é…ç½®å…ƒæ•°æ®ã€‚</li>
<li><strong>æ–°èƒ½åŠ›ï¼š</strong> 4.0 å°†è¿™ä¸ªåºç„¶å¤§ç‰©æ‹†åˆ†æˆäº†æ•°åä¸ª<strong>ç»†ç²’åº¦çš„æ¨¡å—</strong>ï¼ˆå¦‚ <code>spring-boot-autoconfigure-data-jpa</code>ï¼‰ã€‚</li>
<li><strong>æ”¶ç›Šï¼š</strong> æ˜¾è‘—å‡å°‘äº†ç±»è·¯å¾„æ‰«ææ—¶é—´ã€é™ä½äº†å†…å­˜å ç”¨ï¼Œå¹¶ä½¿ GraalVM åŸç”Ÿé•œåƒç¼–è¯‘æ—¶çš„å…ƒæ•°æ®å¤„ç†æ›´åŠ é«˜æ•ˆã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. æ ¸å¿ƒ API ä¸åŠŸèƒ½å¢å¼º</h3>
<h4 data-id="heading-2"><strong>å†…ç½® API ç‰ˆæœ¬ç®¡ç† (Native API Versioning)</strong></h4>
<p>Spring Boot 4.0 ç»ˆäºæä¾›äº†å®˜æ–¹çš„ä¸€ç­‰å…¬æ°‘çº§ API ç‰ˆæœ¬æ”¯æŒã€‚</p>
<ul>
<li><strong>æ–°ç”¨æ³•ï¼š</strong> å¯ä»¥åœ¨ <code>@RequestMapping</code> æˆ–é€šè¿‡å±æ€§é…ç½®æ¥å®šä¹‰ç‰ˆæœ¬ã€‚</li>
<li><strong>æ”¯æŒæ¨¡å¼ï¼š</strong> æ”¯æŒ<strong>è·¯å¾„ï¼ˆ/v1/..ï¼‰</strong> ã€<strong>è¯·æ±‚å¤´ï¼ˆX-API-Versionï¼‰</strong> ã€<strong>æŸ¥è¯¢å‚æ•°</strong>ä»¥åŠ <strong>Media Type</strong> å››ç§ä¸»æµç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ã€‚</li>
<li><strong>APIï¼š</strong> å¼•å…¥äº† <code>ApiVersionResolver</code>ã€<code>ApiVersionParser</code> ç­‰æ¥å£ä¾›å¼€å‘è€…è‡ªå®šä¹‰æ‰©å±•ã€‚</li>
</ul>
<h4 data-id="heading-3"><strong>å£°æ˜å¼ HTTP å®¢æˆ·ç«¯ (@HttpExchange)</strong></h4>
<p>åœ¨ 3.2 å¼•å…¥ <code>RestClient</code> çš„åŸºç¡€ä¸Šï¼Œ4.0 è¿›ä¸€æ­¥å¼ºåŒ–äº†<strong>å£°æ˜å¼å®¢æˆ·ç«¯</strong>ã€‚</p>
<ul>
<li><strong>æ–°èƒ½åŠ›ï¼š</strong> åªéœ€å®šä¹‰æ¥å£å¹¶æ ‡æ³¨ <code>@HttpExchange</code>ï¼ŒSpring ä¼šè‡ªåŠ¨ç”Ÿæˆå®ç°ã€‚4.0 ä¸ºæ­¤å¢åŠ äº†æ›´å¤šçš„è‡ªåŠ¨é…ç½®å±æ€§ï¼Œä¸å†éœ€è¦ç¹ççš„å„ç§ <code>Bean</code> å®šä¹‰ã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>JmsClient - ç°ä»£åŒ–çš„æ¶ˆæ¯æ¥å£</strong></h4>
<p>ç»§ <code>JdbcClient</code> å’Œ <code>RestClient</code> ä¹‹åï¼ŒSpring æ¨å‡ºäº† <code>JmsClient</code>ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹ï¼š</strong> é‡‡ç”¨æµç•…çš„<strong>é“¾å¼ APIï¼ˆFluent APIï¼‰</strong> ï¼Œæ¯”ä¼ ç»Ÿçš„ <code>JmsTemplate</code> æ›´æ˜“è¯»ã€æ˜“ç”¨ï¼Œä¸”æ›´å¥½åœ°æ”¯æŒåŒæ­¥/å¼‚æ­¥æ“ä½œã€‚</li>
</ul>
<h4 data-id="heading-5"><strong>å†…ç½®çš„éŸ§æ€§èƒ½åŠ› (Resilience)</strong></h4>
<p>Spring Framework 7 / Boot 4 ç›´æ¥å¸æ”¶äº†éƒ¨åˆ† Spring Retry çš„åŠŸèƒ½ã€‚</p>
<ul>
<li><strong>æ–° APIï¼š</strong> æä¾›äº†å†…ç½®çš„ <code>@Retryable</code> å¢å¼ºæ”¯æŒï¼ŒåŸç”Ÿæ”¯æŒ<strong>é‡è¯•ï¼ˆRetryï¼‰</strong> ã€<strong>è¶…æ—¶ï¼ˆTimeoutï¼‰<strong>å’Œ</strong>å¹¶å‘é™åˆ¶ï¼ˆConcurrency Limitingï¼‰</strong> ï¼Œä¸”å¯¹å“åº”å¼ï¼ˆReactiveï¼‰æ–¹æ³•æœ‰æ›´å¥½çš„é€‚é…ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">3. ç¯å¢ƒåŸºç¡€ä¸åŸºå‡†æå‡</h3>
<p>Spring Boot 4.0 æ˜¾è‘—æé«˜äº†æŠ€æœ¯æ ˆçš„åº•åº§ï¼š</p>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Spring Boot 4.0 åŸºå‡†</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>Java ç‰ˆæœ¬</strong></td><td><strong>JDK 17 (æœ€ä½)</strong> / <strong>JDK 25 (æ¨è)</strong></td><td>å……åˆ†åˆ©ç”¨è™šæ‹Ÿçº¿ç¨‹ï¼ˆLoomï¼‰å’Œæœ€æ–°æ€§èƒ½ä¼˜åŒ–ã€‚</td></tr><tr><td><strong>Jakarta EE</strong></td><td><strong>Jakarta EE 11</strong></td><td>å‡çº§äº† Servlet 6.1, JPA 3.2, Bean Validation 3.1ã€‚</td></tr><tr><td><strong>Kotlin</strong></td><td><strong>Kotlin 2.2</strong></td><td>ç¡®è®¤ä¸ºå®˜æ–¹åŸºå‡†ï¼Œä¼˜åŒ–äº†ç©ºå®‰å…¨æ£€æŸ¥ã€‚</td></tr><tr><td><strong>Null Safety</strong></td><td><strong>JSpecify</strong></td><td>æ•´ä¸ª Spring ä½“ç³»è¿ç§»åˆ° JSpecify æ ‡å‡†ï¼Œæä¾›æ›´å¼ºçš„é™æ€ä»£ç æ£€æŸ¥ã€‚</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">4. å…¶å®ƒå€¼å¾—å…³æ³¨çš„å˜åŒ–</h3>
<ul>
<li><strong>æµ‹è¯•å¢å¼ºï¼š</strong> å¼•å…¥äº† <code>RestTestClient</code>ï¼Œå¹¶æ”¯æŒåœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨å¤šä¸ª <code>TaskDecorator</code> ç»„åˆã€‚</li>
<li><strong>SSL å¥åº·æ£€æŸ¥ï¼š</strong> Actuator çš„ SSL ç«¯ç‚¹ç°åœ¨å¯ä»¥æ˜¾ç¤ºæ›´è¯¦ç»†çš„è¯ä¹¦é“¾çŠ¶æ€ï¼ŒåŒ…æ‹¬å³å°†è¿‡æœŸçš„è¯ä¹¦æç¤ºã€‚</li>
<li><strong>ç§»é™¤äº† Undertowï¼š</strong> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSpring Boot 4.0 å®˜æ–¹ç§»é™¤äº†å¯¹ Undertow å®¹å™¨çš„å†…ç½®æ”¯æŒï¼ˆå»ºè®®è¿ç§»åˆ° Tomcat 11 æˆ– Jetty 12ï¼‰ã€‚</li>
<li><strong>Jackson 3.0ï¼š</strong> é»˜è®¤æ”¯æŒ Jackson çš„æœ€æ–°å¤§ç‰ˆæœ¬ï¼Œæå‡äº† JSON å¤„ç†æ•ˆç‡ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8"><strong>æ€»ç»“ï¼šæˆ‘è¯¥å‡çº§å—ï¼Ÿ</strong></h3>
<ul>
<li>å¦‚æœä½ è¿½æ±‚<strong>æé€Ÿå¯åŠ¨</strong>ï¼ˆå°¤å…¶æ˜¯åœ¨ Serverless æˆ– K8s ç¯å¢ƒä¸‹ï¼‰ï¼Œ4.0 çš„æ¨¡å—åŒ–å’Œ AOT å¢å¼ºéå¸¸æœ‰å¸å¼•åŠ›ã€‚</li>
<li>å¦‚æœä½ éœ€è¦<strong>å®˜æ–¹çš„ API ç‰ˆæœ¬ç®¡ç†</strong>æˆ–æ›´ä¼˜é›…çš„ <strong>JMS/HTTP è°ƒç”¨</strong>ï¼Œ4.0 æä¾›äº†æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚</li>
</ul>
<p><strong>æ‚¨æ˜¯å‡†å¤‡å°†ç°æœ‰çš„é¡¹ç›®ä» 3.x è¿ç§»è¿‡æ¥ï¼Œè¿˜æ˜¯æ‰“ç®—åœ¨æ–°é¡¹ç›®ä¸­ç›´æ¥å°è¯• 4.0ï¼Ÿæˆ‘å¯ä»¥ä¸ºæ‚¨æä¾›é’ˆå¯¹æ€§çš„è¿ç§»å»ºè®®æˆ–ä»£ç ç¤ºä¾‹ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ˜ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼šä¸€æ¬¡æŠŠè¯è¯´æ¸…æ¥š]]></title>    <link>https://juejin.cn/post/7605036907459657779</link>    <guid>https://juejin.cn/post/7605036907459657779</guid>    <pubDate>2026-02-11T02:27:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605036907459657779" data-draft-id="7605097326727921710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ˜ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼šä¸€æ¬¡æŠŠè¯è¯´æ¸…æ¥š"/> <meta itemprop="keywords" content="åç«¯,Java,Kafka"/> <meta itemprop="datePublished" content="2026-02-11T02:27:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="neoooo"/> <meta itemprop="url" content="https://juejin.cn/user/1961184472088439"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ˜ Kafka æ¶ˆæ¯ä¸ä¸¢å¤±ï¼šä¸€æ¬¡æŠŠè¯è¯´æ¸…æ¥š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184472088439/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    neoooo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:27:10.000Z" title="Wed Feb 11 2026 02:27:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ä¸€å¥è¯ç»“è®ºå…ˆç»™ä½ ï¼š</strong>
Kafka æƒ³åšåˆ°â€œæ¶ˆæ¯ä¸ä¸¢â€ï¼Œä¸æ˜¯é ç„å­¦ï¼Œè€Œæ˜¯é  <strong>ç”Ÿäº§è€…ã€Brokerã€æ¶ˆè´¹è€…ä¸‰æ–¹é…åˆ</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€Kafka ä¸ºå•¥ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ</h2>
<p>å…ˆæ³¼ä¸€ç›†å†·æ°´ï¼š<strong>Kafka æœ¬èº«ä¸ä¿è¯æ¶ˆæ¯ 100% ä¸ä¸¢</strong>ã€‚</p>
<p>ä¸¢ä¸ä¸¢ï¼Œå–å†³äºä½ æ€ä¹ˆç”¨å®ƒ ğŸ‘‡</p>
<ul>
<li>ä½ è¦æ˜¯ <code>acks=0</code>ï¼Œé‚£å°±æ˜¯â€œå‘å‡ºå»å°±å½“æˆåŠŸâ€ï¼Œæ¶ˆæ¯éšç¼˜</li>
<li>ä½ è¦æ˜¯è‡ªåŠ¨æäº¤ Offsetï¼Œé‚£å°±æ˜¯â€œåƒæ²¡åƒä¸é‡è¦ï¼Œå…ˆç»“è´¦â€</li>
<li>ä½ è¦æ˜¯ ISR å‰¯æœ¬åªå‰© Leaderï¼Œé‚£å°±æ˜¯å•ç‚¹å†™å…¥ï¼Œç¿»è½¦åªå·®ä¸€æ¬¡å®•æœº</li>
</ul>
<p>Kafka ç»™ä½ çš„æ˜¯<strong>å·¥å…·ç®±</strong>ï¼Œä¸æ˜¯<strong>ä¿é™©ç®±</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Kafka çš„å¯é æ€§ä¸‰æ¿æ–§ ğŸª“</h2>
<h3 data-id="heading-2">1ï¸âƒ£ ç”Ÿäº§è€…ï¼šåˆ«å¤ªå¿ƒæ€¥ï¼ˆ<code>acks=all</code>ï¼‰</h3>
<pre><code class="hljs language-text" lang="text">acks = all
</code></pre>
<p>å«ä¹‰å¾ˆæœ´ç´ ï¼š</p>
<blockquote>
<p><strong>Leader ä¸ç‚¹å¤´ä¸ç®—æ•°ï¼ŒISR é‡Œçš„äººæ²¡ç­¾å®Œå­—ä¸è¿”å›æˆåŠŸã€‚</strong></p>
</blockquote>
<ul>
<li><code>acks=0</code>ï¼šå‘å®Œå°±è·‘ ğŸš€ï¼ˆæœ€å¿«ï¼Œä¹Ÿæœ€å®¹æ˜“åæ‚”ï¼‰</li>
<li><code>acks=1</code>ï¼šLeader è¯´è¡Œå°±è¡Œ âš ï¸ï¼ˆLeader ä¸€æŒ‚å°±å‡‰ï¼‰</li>
<li><code>acks=all</code>ï¼šISR é›†ä½“é€šè¿‡ âœ…ï¼ˆæœ€ç¨³ï¼‰</li>
</ul>
<p>ğŸ‘‰ <strong>ç»“è®º</strong>ï¼šè¦å¯é ï¼Œåˆ«çŠ¹è±«ï¼Œç›´æ¥ <code>acks=all</code>ã€‚</p>
<hr/>
<h3 data-id="heading-3">2ï¸âƒ£ Brokerï¼šè®¾ä¸€é“â€œå®‰å…¨åº•çº¿â€ï¼ˆ<code>min.insync.replicas â‰¥ 2</code>ï¼‰</h3>
<pre><code class="hljs language-text" lang="text">min.insync.replicas = 2
</code></pre>
<p>è¿™æ˜¯ Kafka çš„â€œä¿å‘½é…ç½®â€ã€‚</p>
<p>å®ƒçš„æ„æ€æ˜¯ï¼š</p>
<blockquote>
<p><strong>ISR é‡Œå°‘äº 2 ä¸ªå‰¯æœ¬ï¼Ÿä¸å¥½æ„æ€ï¼Œå†™å…¥æˆ‘ç›´æ¥æ‹’ç»ã€‚</strong></p>
</blockquote>
<p>âš ï¸ å¾ˆå¤šäººè¸©è¿‡çš„å‘ï¼š</p>
<ul>
<li><code>acks=all</code></li>
<li><code>min.insync.replicas=1</code></li>
</ul>
<p>è¿™ä¿©ä¸€æ­é…ï¼Œæ•ˆæœç­‰äºï¼š</p>
<blockquote>
<p><strong>â€œè™½ç„¶æˆ‘å˜´ä¸Šè¯´è¦æ‰€æœ‰ ISRï¼Œä½† ISR é‡Œå°±æˆ‘ä¸€ä¸ªã€‚â€</strong> ğŸ¤¡</p>
</blockquote>
<p>ğŸ‘‰ <strong>æ­£ç¡®å§¿åŠ¿</strong>ï¼š</p>
<ul>
<li><code>acks=all</code></li>
<li><code>min.insync.replicas â‰¥ 2</code></li>
</ul>
<p>åŒä¿é™©ï¼Œè°ä¹Ÿåˆ«æƒ³å·æ‡’ã€‚</p>
<hr/>
<h3 data-id="heading-4">3ï¸âƒ£ æ¶ˆè´¹è€…ï¼šåƒå®Œå†ç»“è´¦ï¼ˆæ‰‹åŠ¨æäº¤ Offsetï¼‰</h3>
<pre><code class="hljs language-text" lang="text">enable.auto.commit = false
</code></pre>
<p>Kafka çš„ Offset æäº¤ï¼Œæœ¬è´¨å°±æ˜¯ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>â€œè¿™æ¡æ¶ˆæ¯æˆ‘å·²ç»å¤„ç†å®Œäº†ï¼Œå¯ä»¥ç¿»ç¯‡äº†ã€‚â€</strong></p>
</blockquote>
<p>å¦‚æœä½ ï¼š</p>
<ul>
<li>å…ˆæäº¤ Offset</li>
<li>å†å¤„ç†ä¸šåŠ¡</li>
</ul>
<p>ä¸€æ—¦ä¸­é€”å®•æœºï¼š</p>
<blockquote>
<p><strong>æ¶ˆæ¯ï¼šæˆ‘æ¥è¿‡ï¼Œä½†ä½ å½“æˆ‘æ²¡æ¥è¿‡ã€‚</strong> ğŸ‘»</p>
</blockquote>
<p>ğŸ‘‰ æ­£ç¡®é¡ºåºæ°¸è¿œæ˜¯ï¼š</p>
<ol>
<li>æ‹‰æ¶ˆæ¯</li>
<li>æ‰§è¡Œä¸šåŠ¡é€»è¾‘</li>
<li>ç¡®è®¤æˆåŠŸ</li>
<li><strong>æ‰‹åŠ¨æäº¤ Offset</strong></li>
</ol>
<p>å®å¯é‡å¤æ¶ˆè´¹ï¼Œä¹Ÿä¸èƒ½ç›´æ¥ä¸¢ã€‚</p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ISRï¼šKafka çš„â€œç²¾è‹±å°ç¾¤â€ ğŸ§‘â€ğŸ¤â€ğŸ§‘</h2>
<p><strong>ISRï¼ˆIn-Sync Replicasï¼‰</strong> æ˜¯ Kafka é‡Œæœ€å®¹æ˜“è¢«è¯¯è§£çš„æ¦‚å¿µã€‚</p>
<p>å®ƒçš„è§„åˆ™å¾ˆç®€å•ï¼š</p>
<ul>
<li>Leader æ°¸è¿œåœ¨ ISR</li>
<li>Follower <strong>åªè¦è·Ÿå¾—ä¸Šè¿›åº¦</strong>ï¼Œå°±èƒ½è¿› ISR</li>
<li>è·Ÿä¸ä¸Šï¼ˆè¶…è¿‡ <code>replica.lag.time.max.ms</code>ï¼‰å°±è¢«è¸¢å‡ºå»</li>
</ul>
<p>ğŸ’¡ é‡ç‚¹æ¥äº†ï¼š</p>
<blockquote>
<p><strong>ISR åˆ¤æ–­çš„æ˜¯â€œæ˜¯å¦å†™å…¥ PageCacheâ€ï¼Œä¸æ˜¯â€œæ˜¯å¦åˆ·ç›˜â€ã€‚</strong></p>
</blockquote>
<p>æ‰€ä»¥ Kafka æ‰èƒ½åˆå¿«åˆç¨³ã€‚</p>
<hr/>
<h2 data-id="heading-6">å››ã€åˆ†åŒº vs å‰¯æœ¬ï¼šä¸€ä¸ªç®¡å¿«ï¼Œä¸€ä¸ªç®¡å‘½ ğŸš€ğŸ›¡ï¸</h2>




















<table><thead><tr><th>ç»´åº¦</th><th>ä½œç”¨</th><th>æ ¸å¿ƒä»·å€¼</th></tr></thead><tbody><tr><td>åˆ†åŒº (Partition)</td><td>æ¨ªå‘åˆ‡åˆ†</td><td>æå‡å¹¶å‘ã€ååé‡</td></tr><tr><td>å‰¯æœ¬ (Replica)</td><td>çºµå‘å¤‡ä»½</td><td>æå‡å®¹ç¾ã€å®‰å…¨æ€§</td></tr></tbody></table>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<blockquote>
<p>3 åˆ†åŒº Ã— 2 å‰¯æœ¬ = 3 ä¸ª Leader + 3 ä¸ª Follower</p>
</blockquote>
<p>âš ï¸ è®°ä½ä¸€å¥é“å¾‹ï¼š</p>
<blockquote>
<p><strong>å‰¯æœ¬æ•° â‰¤ Broker æ•°</strong>ï¼Œä¸ç„¶ Kafka ä¼šç›´æ¥æ‘†çƒ‚ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">äº”ã€Kafka çš„å­˜å‚¨çœŸç›¸ï¼šä¸€ä»½æ•°æ®ï¼Œå¤šç»„äººçœ‹ ğŸ¬</h2>
<p>Kafka çš„ç£ç›˜ä¸Šï¼š</p>
<ul>
<li><strong>åŒä¸€ä¸ª Topic çš„æ•°æ®åªå­˜ä¸€ä»½</strong></li>
<li>ä¸ä¼šå› ä¸ºæ¶ˆè´¹è€…ç»„å¤šå°±å¤åˆ¶ N ä»½</li>
</ul>
<p>é‚£ä¸åŒæ¶ˆè´¹è€…æ€ä¹ˆä¸å†²çªï¼Ÿ</p>
<p>ğŸ‘‰ <strong>Offset æ˜¯æ¶ˆè´¹è€…ç»„è‡ªå·±çš„ã€‚</strong></p>
<p>å°±åƒï¼š</p>
<blockquote>
<p>åŒä¸€åœºç”µå½±ï¼Œèƒ¶ç‰‡åªæœ‰ä¸€å¥—ï¼Œä½†æ¯ä¸ªäººæš‚åœçš„æ—¶é—´ç‚¹ä¸ä¸€æ ·ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å…­ã€Rebalanceï¼šKafka æœ€çƒ¦äººçš„â€œé›†ä½“å¼€ä¼šâ€ ğŸ˜µ</h2>
<p><strong>Rebalance = é‡æ–°åˆ†é…åˆ†åŒºå½’å±æƒ</strong>ã€‚</p>
<p>è§¦å‘æ¡ä»¶å¾ˆå¸¸è§ï¼š</p>
<ul>
<li>æ¶ˆè´¹è€…ä¸Šçº¿ / ä¸‹çº¿</li>
<li>åˆ†åŒºæ•°é‡å˜åŒ–</li>
<li>å¿ƒè·³è¶…æ—¶</li>
</ul>
<p>æ ¸å¿ƒåŸåˆ™åªæœ‰ä¸€æ¡ï¼š</p>
<blockquote>
<p><strong>ä¸€ä¸ªåˆ†åŒºï¼ŒåŒä¸€æ—¶åˆ»ï¼Œåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚</strong></p>
</blockquote>
<p>ğŸ‘‰ æœ€ä½³å®è·µï¼š</p>
<ul>
<li>æ¶ˆè´¹è€…æ•°é‡ â‰ˆ åˆ†åŒºæ•°é‡</li>
<li>ç¨³å®šè¿è¡Œï¼Œå°‘æŠ˜è…¾</li>
</ul>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€Leader å’Œ Follower å„å¸å…¶èŒ ğŸ‘‘</h2>
<ul>
<li>
<p><strong>Leader</strong>ï¼š</p>
<ul>
<li>è´Ÿè´£æ‰€æœ‰è¯»å†™è¯·æ±‚</li>
<li>å¯¹å¤–è¥ä¸šçª—å£</li>
</ul>
</li>
<li>
<p><strong>Follower</strong>ï¼š</p>
<ul>
<li>åªå¹²ä¸€ä»¶äº‹ï¼šåŒæ­¥ Leader</li>
<li>ä¸æ¥å®¢ã€ä¸èƒŒé”…</li>
</ul>
</li>
</ul>
<p>Leader ä¸€æ—¦å®•æœºï¼š</p>
<blockquote>
<p><strong>åªæœ‰ ISR é‡Œçš„ Follower æ‰æœ‰èµ„æ ¼â€œä¸Šä½â€ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-10">å…«ã€ç»ˆææ€»ç»“ï¼ˆä¸€çœ¼å°±å¤Ÿï¼‰ğŸ¯</h2>
<h3 data-id="heading-11">Kafka ä¸ä¸¢æ¶ˆæ¯å…¬å¼</h3>
<pre><code class="hljs language-text" lang="text">acks = all
+ min.insync.replicas â‰¥ 2
+ æ‰‹åŠ¨æäº¤ Offset
</code></pre>
<h3 data-id="heading-12">Kafka å¿«çš„åŸå› </h3>
<pre><code class="hljs language-text" lang="text">åˆ†åŒºå¹¶å‘ + é¡ºåºå†™ç£ç›˜ + PageCache
</code></pre>
<h3 data-id="heading-13">Kafka æ¶ˆè´¹æ¨¡å‹</h3>
<pre><code class="hljs language-text" lang="text">ä¸€ä»½æ•°æ® + å¤šç»„ Offset + åˆ†åŒºæ‰¿åŒ…åˆ¶
</code></pre>
<blockquote>
<p><strong>ä¸€å¥äººè¯ç‰ˆæ€»ç»“ï¼š</strong>
Kafka ä¸ä¼šæ›¿ä½ å…œåº•ï¼Œä½†å®ƒæŠŠæ‰€æœ‰å…œåº•çš„å·¥å…·éƒ½ç»™ä½ äº†ã€‚ç”¨ä¸ç”¨ï¼Œå…¨çœ‹ä½ è‡ªå·±ã€‚ ğŸ˜‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#: å¯¹æ–‡å­—æ®µè½æˆ–æ–‡æœ¬æ–½åŠ é˜´å½±ï¼ŸSpire.Doc for .NET åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›]]></title>    <link>https://juejin.cn/post/7605106957133152290</link>    <guid>https://juejin.cn/post/7605106957133152290</guid>    <pubDate>2026-02-11T02:26:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605106957133152290" data-draft-id="7605114376802648104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#: å¯¹æ–‡å­—æ®µè½æˆ–æ–‡æœ¬æ–½åŠ é˜´å½±ï¼ŸSpire.Doc for .NET åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›"/> <meta itemprop="keywords" content="åç«¯,C#,.NET"/> <meta itemprop="datePublished" content="2026-02-11T02:26:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼ºç‚¹å†…å‘"/> <meta itemprop="url" content="https://juejin.cn/user/3414438228006112"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#: å¯¹æ–‡å­—æ®µè½æˆ–æ–‡æœ¬æ–½åŠ é˜´å½±ï¼ŸSpire.Doc for .NET åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3414438228006112/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼ºç‚¹å†…å‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:26:12.000Z" title="Wed Feb 11 2026 02:26:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C#: å¯¹æ–‡å­—æ®µè½æˆ–æ–‡æœ¬æ–½åŠ é˜´å½±ï¼ŸSpire.Doc for .NET åŠ©ä½ ä¸€è‡‚ä¹‹åŠ›</h2>
<p>åœ¨æ—¥å¸¸çš„ Word æ–‡æ¡£å¤„ç†ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é€šè¿‡å„ç§è§†è§‰æ‰‹æ®µæ¥çªå‡ºé‡ç‚¹ä¿¡æ¯ï¼Œæ¯”å¦‚åœ¨æŠ¥å‘Šã€åˆåŒæˆ–æ ¼å¼åŒ–æ–‡æ¡£ä¸­ï¼Œä¸ºç‰¹å®šæ®µè½æˆ–æ–‡æœ¬å—æ·»åŠ èƒŒæ™¯è‰²ï¼Œä½¿å…¶åœ¨ä¼—å¤šå†…å®¹ä¸­è„±é¢–è€Œå‡ºã€‚æ‰‹åŠ¨æ“ä½œè¿™äº›æ ¼å¼è®¾ç½®ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”éš¾ä»¥ä¿æŒä¸€è‡´æ€§ã€‚è¿™æ—¶ï¼ŒC# è‡ªåŠ¨åŒ–å¤„ç†çš„ä¼˜åŠ¿å°±å‡¸æ˜¾å‡ºæ¥äº†ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ Spire.Doc for .NETï¼Œåœ¨ C# ä¸­å®ç° Word æ®µè½å’Œæ–‡æœ¬çš„åº•çº¹æ•ˆæœã€‚Spire.Doc for .NET æä¾›äº†ä¸€ç³»åˆ—ä¸°å¯Œçš„ APIï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°åˆ›å»ºã€è¯»å–ã€ç¼–è¾‘å’Œè½¬æ¢ Word æ–‡æ¡£ï¼Œæå¤§åœ°æå‡äº†æ–‡æ¡£å¤„ç†çš„è‡ªåŠ¨åŒ–æ°´å¹³ã€‚</p>
<h3 data-id="heading-1">Word æ–‡æ¡£ä¸­çš„è§†è§‰å¼ºè°ƒï¼šåº•çº¹ä¸é«˜äº®</h3>
<p>åœ¨æ·±å…¥ä»£ç å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ˜ç¡® Word æ–‡æ¡£ä¸­ä¸¤ç§å¸¸è§çš„è§†è§‰å¼ºè°ƒæ–¹å¼ï¼šâ€œåº•çº¹â€ï¼ˆShadingï¼‰å’Œâ€œé«˜äº®â€ï¼ˆHighlightingï¼‰çš„åŒºåˆ«ï¼Œä»¥ä¾¿åœ¨ä¸åŒåœºæ™¯ä¸‹é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<ul>
<li>
<p><strong>åº•çº¹ (Shading)</strong>ï¼šé€šå¸¸æŒ‡çš„æ˜¯ä¸ºæ®µè½æˆ–æ–‡æœ¬åŒºåŸŸè®¾ç½®çš„èƒŒæ™¯é¢œè‰²æˆ–å›¾æ¡ˆã€‚å®ƒå…è®¸æ›´ä¸°å¯Œçš„è§†è§‰æ•ˆæœï¼Œä¾‹å¦‚å¯ä»¥è®¾ç½®èƒŒæ™¯è‰²ã€å‰æ™¯å›¾æ¡ˆè‰²ï¼Œä»¥åŠå¤šç§çº¹ç†æ ·å¼ã€‚åº•çº¹å¸¸ç”¨äºçªå‡ºæ•´ä¸ªæ®µè½ã€è¡¨æ ¼å•å…ƒæ ¼æˆ–ç‰¹å®šæ–‡æœ¬å—ï¼Œä½¿å…¶å…·æœ‰ç‹¬ç«‹çš„èƒŒæ™¯åŒºåŸŸï¼Œè§†è§‰æ•ˆæœæ›´ä¸ºæ˜¾è‘—å’Œæ­£å¼ã€‚</p>
</li>
<li>
<p><strong>é«˜äº® (Highlighting)</strong>ï¼šæ›´æ¥è¿‘äºæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„è§å…‰ç¬”æ•ˆæœï¼Œå®ƒåªé’ˆå¯¹æ–‡æœ¬æœ¬èº«è¿›è¡Œç€è‰²ï¼Œé€šå¸¸é¢œè‰²é€‰æ‹©ç›¸å¯¹æœ‰é™ï¼ˆå¦‚é»„è‰²ã€ç»¿è‰²ç­‰è§å…‰è‰²ï¼‰ã€‚é«˜äº®çš„ä¸»è¦ç›®çš„æ˜¯å¿«é€Ÿæ ‡è®°é‡è¦æ–‡æœ¬ï¼Œä¾¿äºå®¡é˜…å’Œé˜…è¯»ï¼Œä½†å…¶è§†è§‰å¼ºè°ƒæ•ˆæœä¸å¦‚åº•çº¹å¼ºçƒˆã€‚</p>
</li>
</ul>
<p>ç†è§£äº†è¿™äº›åŒºåˆ«ï¼Œæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°å†³å®šä½•æ—¶ä½¿ç”¨åº•çº¹ï¼Œä½•æ—¶ä½¿ç”¨é«˜äº®ã€‚æœ¬æ–‡å°†é‡ç‚¹èšç„¦äºæ›´ä¸ºçµæ´»å’Œå¼ºå¤§çš„â€œåº•çº¹â€åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">C# å®ç°æ®µè½åº•çº¹ï¼šSpire.Doc for .NET å®æˆ˜</h3>
<p>ä½¿ç”¨ Spire.Doc for .NET ä¸º Word æ®µè½åº”ç”¨åº•çº¹éå¸¸ç›´æ¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>Paragraph.Format.Shading</code> å±æ€§æ¥æ§åˆ¶æ®µè½çš„åº•çº¹æ ·å¼ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ª C# ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä¸º Word æ–‡æ¡£ä¸­çš„ä¸€ä¸ªæ®µè½è®¾ç½®åº•çº¹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Doc;
<span class="hljs-keyword">using</span> Spire.Doc.Documents;
<span class="hljs-keyword">using</span> System.Drawing;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">ParagraphShading</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£</span>
            Document document = <span class="hljs-keyword">new</span> Document();
            Section section = document.AddSection();

            <span class="hljs-comment">// æ·»åŠ ä¸€ä¸ªæ®µè½</span>
            Paragraph paragraph1 = section.AddParagraph();
            paragraph1.AppendText(<span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰åº•çº¹çš„æ®µè½ã€‚"</span>);

            <span class="hljs-comment">// æ·»åŠ å¦ä¸€ä¸ªæ®µè½ï¼Œå¹¶è®¾ç½®åº•çº¹</span>
            Paragraph paragraph2 = section.AddParagraph();
            paragraph2.AppendText(<span class="hljs-string">"è¿™ä¸ªæ®µè½å°†æ‹¥æœ‰ä¸€ä¸ªç»¿è‰²çš„èƒŒæ™¯åº•çº¹ã€‚"</span>);
            
            <span class="hljs-comment">// è®¾ç½®æ®µè½åº•çº¹çš„èƒŒæ™¯é¢œè‰²</span>
            paragraph2.Format.Shading.BackgroundPatternColor = Color.LightGreen;
            <span class="hljs-comment">// å¯ä»¥é€‰æ‹©è®¾ç½®åº•çº¹å›¾æ¡ˆå’Œå‰æ™¯é¢œè‰²ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çº¯è‰²ï¼Œæ‰€ä»¥Textureä¸ºSolidï¼ŒForegroundColorä¸å½±å“</span>
            paragraph2.Format.Shading.Texture = TextureStyle.TextureSolid;
            <span class="hljs-comment">// paragraph2.Format.Shading.ForegroundColor = Color.DarkGreen; // å¦‚æœTextureä¸æ˜¯Solidï¼Œå¯ä»¥è®¾ç½®å‰æ™¯é¢œè‰²</span>

            <span class="hljs-comment">// æ·»åŠ ç¬¬ä¸‰ä¸ªæ®µè½ï¼Œæ¼”ç¤ºä¸åŒåº•çº¹æ•ˆæœ</span>
            Paragraph paragraph3 = section.AddParagraph();
            paragraph3.AppendText(<span class="hljs-string">"è¿™ä¸ªæ®µè½å°†ä½¿ç”¨ä¸€ä¸ªæ°´å¹³æ¡çº¹åº•çº¹ã€‚"</span>);
            paragraph3.Format.Shading.BackgroundPatternColor = Color.LightBlue;
            paragraph3.Format.Shading.ForegroundColor = Color.DarkBlue;
            paragraph3.Format.Shading.Texture = TextureStyle.TextureHorizontal;

            <span class="hljs-comment">// ä¿å­˜æ–‡æ¡£</span>
            document.SaveToFile(<span class="hljs-string">"ParagraphShading.docx"</span>, FileFormat.Docx2013);
            document.Dispose();
            System.Console.WriteLine(<span class="hljs-string">"æ–‡æ¡£å·²ç”Ÿæˆï¼šParagraphShading.docx"</span>);
        }
    }
}
</code></pre>
<p><strong>ä»£ç è§£æï¼š</strong></p>
<ol>
<li>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>Document</code> å¯¹è±¡å’Œä¸€ä¸ª <code>Section</code>ã€‚</li>
<li>é€šè¿‡ <code>section.AddParagraph()</code> æ·»åŠ äº†ä¸¤ä¸ªæ®µè½ã€‚</li>
<li>å¯¹äºéœ€è¦è®¾ç½®åº•çº¹çš„æ®µè½ <code>paragraph2</code> å’Œ <code>paragraph3</code>ï¼Œæˆ‘ä»¬è®¿é—®äº†å…¶ <code>Format.Shading</code> å±æ€§ã€‚</li>
<li><code>BackgroundPatternColor</code> å±æ€§ç”¨äºè®¾ç½®åº•çº¹çš„èƒŒæ™¯é¢œè‰²ã€‚</li>
<li><code>Texture</code> å±æ€§å…è®¸æˆ‘ä»¬è®¾ç½®åº•çº¹çš„å›¾æ¡ˆæ ·å¼ï¼Œä¾‹å¦‚ <code>TextureStyle.TextureSolid</code> è¡¨ç¤ºçº¯è‰²ï¼Œ<code>TextureStyle.TextureHorizontal</code> è¡¨ç¤ºæ°´å¹³æ¡çº¹ã€‚</li>
<li><code>ForegroundColor</code> å±æ€§åœ¨ <code>Texture</code> ä¸æ˜¯ <code>TextureSolid</code> æ—¶ï¼Œç”¨äºè®¾ç½®å›¾æ¡ˆçš„å‰æ™¯é¢œè‰²ã€‚</li>
</ol>
<h3 data-id="heading-3">ç²¾å‡†å®šä½ï¼šä¸ºç‰¹å®šæ–‡æœ¬æ·»åŠ åº•çº¹æ•ˆæœ</h3>
<p>é™¤äº†ä¸ºæ•´ä¸ªæ®µè½æ·»åŠ åº•çº¹ï¼ŒSpire.Doc for .NET ä¹Ÿæ”¯æŒä¸ºæ®µè½ä¸­çš„ç‰¹å®šæ–‡æœ¬èŒƒå›´ï¼ˆ<code>TextRange</code>ï¼‰åº”ç”¨åº•çº¹ï¼Œè¿™åœ¨çªå‡ºå…³é”®è¯æˆ–çŸ­è¯­æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<p>ä»¥ä¸‹ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä¸ºæ®µè½ä¸­çš„ç‰¹å®šæ–‡æœ¬è®¾ç½®åº•çº¹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Doc;
<span class="hljs-keyword">using</span> Spire.Doc.Documents;
<span class="hljs-keyword">using</span> System.Drawing;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">TextShading</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            Document document = <span class="hljs-keyword">new</span> Document();
            Section section = document.AddSection();

            Paragraph paragraph = section.AddParagraph();
            paragraph.AppendText(<span class="hljs-string">"è¿™æ˜¯ä¸€æ®µåŒ…å«é‡è¦å…³é”®è¯çš„æ–‡æœ¬ã€‚"</span>);

            <span class="hljs-comment">// é€šè¿‡æŸ¥æ‰¾æ–‡æœ¬æ¥è·å–TextRange</span>
            TextSelection selection = paragraph.Find(<span class="hljs-string">"é‡è¦å…³é”®è¯"</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">if</span> (selection != <span class="hljs-literal">null</span>)
            {
                TextRange textRange = selection.GetAsOneRange();
                <span class="hljs-comment">// è®¾ç½®TextRangeçš„åº•çº¹</span>
                textRange.CharacterFormat.Shading.BackgroundPatternColor = Color.Yellow;
                textRange.CharacterFormat.Shading.Texture = TextureStyle.TextureSolid;
            }

            <span class="hljs-comment">// ä¹Ÿå¯ä»¥åœ¨è¿½åŠ æ–‡æœ¬æ—¶ç›´æ¥è®¾ç½®å…¶åº•çº¹</span>
            Paragraph paragraph2 = section.AddParagraph();
            TextRange tr1 = paragraph2.AppendText(<span class="hljs-string">"å¦ä¸€ä¸ªç¤ºä¾‹ï¼š"</span>);
            TextRange tr2 = paragraph2.AppendText(<span class="hljs-string">"é«˜äº®æ–‡æœ¬"</span>);
            tr2.CharacterFormat.Shading.BackgroundPatternColor = Color.LightCoral;
            tr2.CharacterFormat.Shading.Texture = TextureStyle.TextureSolid;
            TextRange tr3 = paragraph2.AppendText(<span class="hljs-string">"ï¼Œç»§ç»­æ™®é€šæ–‡æœ¬ã€‚"</span>);

            <span class="hljs-comment">// ä¿å­˜æ–‡æ¡£</span>
            document.SaveToFile(<span class="hljs-string">"TextShading.docx"</span>, FileFormat.Docx2013);
            document.Dispose();
            System.Console.WriteLine(<span class="hljs-string">"æ–‡æ¡£å·²ç”Ÿæˆï¼šTextShading.docx"</span>);
        }
    }
}
</code></pre>
<p><strong>ä»£ç è§£æï¼š</strong></p>
<ol>
<li>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ®µè½å¹¶æ·»åŠ äº†ä¸€äº›æ–‡æœ¬ã€‚</li>
<li>ä½¿ç”¨ <code>paragraph.Find()</code> æ–¹æ³•æŸ¥æ‰¾ç›®æ ‡æ–‡æœ¬ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª <code>TextSelection</code> å¯¹è±¡ã€‚</li>
<li>é€šè¿‡ <code>selection.GetAsOneRange()</code> è·å–ä¸€ä¸ª <code>TextRange</code> å¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†æ‰¾åˆ°çš„æ–‡æœ¬ã€‚</li>
<li>æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡ <code>textRange.CharacterFormat.Shading</code> å±æ€§æ¥è®¾ç½®è¯¥æ–‡æœ¬èŒƒå›´çš„åº•çº¹ï¼Œæ“ä½œæ–¹å¼ä¸æ®µè½åº•çº¹ç±»ä¼¼ã€‚</li>
<li>å¦ä¸€ç§æ–¹å¼æ˜¯ï¼Œåœ¨é€šè¿‡ <code>paragraph.AppendText()</code> æ·»åŠ æ–‡æœ¬æ—¶ï¼Œç›´æ¥å¯¹è¿”å›çš„ <code>TextRange</code> å¯¹è±¡è®¾ç½® <code>CharacterFormat.Shading</code> å±æ€§ã€‚</li>
</ol>
<p><code>Spire.Doc.Documents.TextureStyle</code> æšä¸¾æä¾›äº†å¤šç§åº•çº¹å›¾æ¡ˆï¼Œä¾‹å¦‚ <code>TextureSolid</code> (çº¯è‰²), <code>TextureHorizontal</code> (æ°´å¹³æ¡çº¹), <code>TextureVertical</code> (å‚ç›´æ¡çº¹), <code>TextureCross</code> (äº¤å‰çº¿) ç­‰ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„æ ·å¼ã€‚</p>
<h3 data-id="heading-4">ç»“è¯­</h3>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»æŒæ¡äº†å¦‚ä½•åˆ©ç”¨ Spire.Doc for .NET åœ¨ C# ä¸­ä¸º Word æ®µè½å’Œæ–‡æœ¬åº”ç”¨åº•çº¹ã€‚æ— è®ºæ˜¯å¼ºè°ƒæ•´ä¸ªæ®µè½çš„èƒŒæ™¯ï¼Œè¿˜æ˜¯ç²¾å‡†åœ°çªå‡ºæ–‡æ¡£ä¸­çš„å…³é”®è¯å¥ï¼ŒSpire.Doc for .NET éƒ½æä¾›äº†å¼ºå¤§ä¸”çµæ´»çš„ API æ¥æ»¡è¶³è¿™äº›éœ€æ±‚ã€‚è‡ªåŠ¨åŒ–å¤„ç† Word æ–‡æ¡£ä¸ä»…èƒ½å¤Ÿæ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡ï¼Œè¿˜èƒ½ç¡®ä¿æ–‡æ¡£æ ¼å¼çš„ä¸€è‡´æ€§å’Œä¸“ä¸šæ€§ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©å¤§å®¶åœ¨ C# Word æ–‡æ¡£å¤„ç†ä¸­è½»æ¾å®ç°åº•çº¹æ•ˆæœï¼Œæå‡æ–‡æ¡£çš„è§†è§‰è¡¨ç°åŠ›ã€‚å¤§å®¶ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢ Spire.Doc for .NET çš„æ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚è¡¨æ ¼ã€å›¾ç‰‡ã€è¶…é“¾æ¥ç­‰æ“ä½œï¼Œè®©ä½ çš„æ–‡æ¡£å¤„ç†å·¥ä½œæ›´åŠ é«˜æ•ˆå’Œæ™ºèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hadoop å®æˆ˜è¯¦è§£ï¼šä»ç¯å¢ƒæ­å»ºåˆ°ä¼ä¸šçº§æ¡ˆä¾‹è½åœ°]]></title>    <link>https://juejin.cn/post/7605049329778606121</link>    <guid>https://juejin.cn/post/7605049329778606121</guid>    <pubDate>2026-02-11T00:59:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605049329778606121" data-draft-id="7605049329778589737" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hadoop å®æˆ˜è¯¦è§£ï¼šä»ç¯å¢ƒæ­å»ºåˆ°ä¼ä¸šçº§æ¡ˆä¾‹è½åœ°"/> <meta itemprop="keywords" content="å¤§æ•°æ®,Hadoop"/> <meta itemprop="datePublished" content="2026-02-11T00:59:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whatä¸¶k"/> <meta itemprop="url" content="https://juejin.cn/user/2578801884147418"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hadoop å®æˆ˜è¯¦è§£ï¼šä»ç¯å¢ƒæ­å»ºåˆ°ä¼ä¸šçº§æ¡ˆä¾‹è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2578801884147418/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whatä¸¶k
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:59:30.000Z" title="Wed Feb 11 2026 00:59:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Hadoop å®æˆ˜è¯¦è§£ï¼šä»ç¯å¢ƒæ­å»ºåˆ°ä¼ä¸šçº§æ¡ˆä¾‹è½åœ°</h2>
<p>åœ¨å¤§æ•°æ®çˆ†å‘çš„æ—¶ä»£ï¼ŒPB çº§æ•°æ®çš„å­˜å‚¨ä¸è®¡ç®—æˆä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ ¸å¿ƒéœ€æ±‚ï¼Œè€Œ Hadoop ä½œä¸º Apache å¼€æºçš„åˆ†å¸ƒå¼å¤§æ•°æ®æ¡†æ¶ï¼Œå‡­å€Ÿé«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§ã€é«˜å®¹é”™æ€§å’Œä½æˆæœ¬çš„ä¼˜åŠ¿ï¼Œæˆä¸ºå¤„ç†æµ·é‡æ•°æ®çš„è¡Œä¸šæ ‡å‡†ã€‚ä¸åŒäºçº¯ç†è®ºè®²è§£ï¼Œæœ¬æ–‡èšç„¦â€‹<strong>Hadoop å®æˆ˜æ ¸å¿ƒ</strong>â€‹ï¼Œä»ç¯å¢ƒæ­å»ºã€æ ¸å¿ƒç»„ä»¶å®æ“ã€ç»¼åˆæ¡ˆä¾‹è½åœ°åˆ°å¸¸è§é—®é¢˜æ’æŸ¥ï¼Œå…¨ç¨‹å¹²è´§æ— å†—ä½™ï¼ŒåŠ©åŠ›å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹ï¼Œå°† Hadoop æŠ€æœ¯è½åœ°åˆ°å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ã€‚</p>
<p>æœ¬æ–‡é€‚åˆå…·å¤‡ Java åŸºç¡€ã€æƒ³å…¥é—¨ Hadoop å®æˆ˜çš„å¼€å‘è€…ï¼Œä¹Ÿå¯ä½œä¸ºå¤§æ•°æ®ä»ä¸šè€…çš„å®æ“æ‰‹å†Œï¼Œæ‰€æœ‰æ¡ˆä¾‹å‡ç»è¿‡å®æµ‹éªŒè¯ï¼Œå¯ç›´æ¥å¤ç”¨ã€‚æ ¸å¿ƒè¦†ç›–ï¼šHadoop ç¯å¢ƒæ­å»ºï¼ˆå•æœº + é›†ç¾¤ï¼‰ã€HDFS åˆ†å¸ƒå¼å­˜å‚¨å®æˆ˜ã€MapReduce åˆ†å¸ƒå¼è®¡ç®—å®æˆ˜ã€YARN èµ„æºè°ƒåº¦é…ç½®ï¼Œä»¥åŠä¼ä¸šçº§æ—¥å¿—åˆ†æç»¼åˆæ¡ˆä¾‹ï¼ŒåŒæ—¶é™„åŠ å®æˆ˜è¸©å‘ä¸ä¼˜åŒ–æŠ€å·§ï¼Œå…¼é¡¾å…¥é—¨ä¸è¿›é˜¶éœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Hadoop æ ¸å¿ƒè®¤çŸ¥ï¼šå®æˆ˜å‰å¿…æ‡‚çš„åº•å±‚é€»è¾‘</h2>
<p>åœ¨åŠ¨æ‰‹å®æ“å‰ï¼Œéœ€å…ˆç†æ¸… Hadoop çš„æ ¸å¿ƒæ¶æ„ä¸è®¾è®¡å“²å­¦ï¼Œé¿å…â€œåªä¼šæ“ä½œã€ä¸æ‡‚åŸç†â€çš„å›°å¢ƒã€‚Hadoop æ ¸å¿ƒç”±ä¸‰å¤§ç»„ä»¶æ„æˆï¼ˆHDFSã€MapReduceã€YARNï¼‰ï¼Œä¸‰è€…ååŒå·¥ä½œï¼Œå®ç°â€œç§»åŠ¨è®¡ç®—è€Œéç§»åŠ¨æ•°æ®â€çš„æ ¸å¿ƒæ€æƒ³â€”â€”å°†è®¡ç®—ä»»åŠ¡è°ƒåº¦è‡³æ•°æ®æ‰€åœ¨èŠ‚ç‚¹ï¼Œè§„é¿ç½‘ç»œä¼ è¾“ç“¶é¢ˆï¼Œè¿™ä¹Ÿæ˜¯ Hadoop èƒ½é«˜æ•ˆå¤„ç†æµ·é‡æ•°æ®çš„å…³é”®æ‰€åœ¨ã€‚</p>
<h3 data-id="heading-2">1.1 ä¸‰å¤§æ ¸å¿ƒç»„ä»¶å®šä½ï¼ˆå®æˆ˜é‡ç‚¹ï¼‰</h3>
<ul>
<li>â€‹**HDFSï¼ˆHadoop Distributed File Systemï¼‰**â€‹ï¼šåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œè´Ÿè´£æµ·é‡æ•°æ®çš„å­˜å‚¨ã€‚é‡‡ç”¨ä¸»ä»ï¼ˆMaster-Slaveï¼‰æ¶æ„ï¼Œç”± NameNodeï¼ˆä¸»èŠ‚ç‚¹ï¼Œç®¡ç†å…ƒæ•°æ®ï¼‰å’Œ DataNodeï¼ˆä»èŠ‚ç‚¹ï¼Œå­˜å‚¨å®é™…æ•°æ®å—ï¼‰ç»„æˆï¼Œæ”¯æŒä¸€æ¬¡å†™å…¥ã€å¤šæ¬¡è¯»å–ï¼Œé€šè¿‡æ•°æ®å†—ä½™ç­–ç•¥ä¿è¯é«˜å¯é æ€§ï¼Œé»˜è®¤å°†æ–‡ä»¶åˆ‡åˆ†ä¸º 128MBï¼ˆHadoop 3.xï¼‰çš„æ•°æ®å—ï¼Œæ¯ä¸ªå—é»˜è®¤ä¿å­˜ 3 ä¸ªå‰¯æœ¬ã€‚</li>
<li>â€‹<strong>MapReduce</strong>â€‹ï¼šåˆ†å¸ƒå¼è®¡ç®—æ¨¡å‹ï¼Œè´Ÿè´£æµ·é‡æ•°æ®çš„å¤„ç†ã€‚åŸºäºâ€œåˆ†è€Œæ²»ä¹‹â€æ€æƒ³ï¼Œå°†è®¡ç®—ä»»åŠ¡æ‹†åˆ†ä¸º Mapï¼ˆæ˜ å°„ï¼‰å’Œ Reduceï¼ˆå½’çº¦ï¼‰ä¸¤ä¸ªé˜¶æ®µï¼ŒMap é˜¶æ®µè´Ÿè´£æ•°æ®åˆ†ç‰‡ä¸å±€éƒ¨å¤„ç†ï¼ŒReduce é˜¶æ®µè´Ÿè´£å¯¹ Map ç»“æœæ±‡æ€»è®¡ç®—ï¼Œä¸­é—´é€šè¿‡ Shuffle é˜¶æ®µå®Œæˆæ•°æ®æ’åºä¸åˆ†å‘ï¼Œé€‚é…å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—åœºæ™¯ã€‚</li>
<li>â€‹**YARNï¼ˆYet Another Resource Negotiatorï¼‰**â€‹ï¼šèµ„æºè°ƒåº¦æ¡†æ¶ï¼Œè´Ÿè´£é›†ç¾¤èµ„æºï¼ˆCPUã€å†…å­˜ï¼‰çš„åˆ†é…ä¸ä»»åŠ¡è°ƒåº¦ã€‚æ ¸å¿ƒç”± ResourceManagerï¼ˆä¸»èŠ‚ç‚¹ï¼Œå…¨å±€èµ„æºç®¡ç†ï¼‰å’Œ NodeManagerï¼ˆä»èŠ‚ç‚¹ï¼Œæœ¬åœ°èµ„æºç®¡ç†ï¼‰ç»„æˆï¼Œéš”ç¦»è®¡ç®—ä»»åŠ¡ä¸èµ„æºè°ƒåº¦ï¼Œæ”¯æŒå¤šè®¡ç®—æ¡†æ¶ï¼ˆMapReduceã€Spark ç­‰ï¼‰ååŒä½¿ç”¨ï¼Œæå‡é›†ç¾¤èµ„æºåˆ©ç”¨ç‡ã€‚</li>
</ul>
<h3 data-id="heading-3">1.2 å®æˆ˜ç¯å¢ƒé€‰å‹ï¼ˆé¿å‘å…³é”®ï¼‰</h3>
<p>å®æˆ˜ç¯å¢ƒçš„é€‰å‹ç›´æ¥å½±å“åç»­æ“ä½œçš„æµç•…åº¦ï¼Œæ¨èæ­é…å¦‚ä¸‹ï¼ˆè¡Œä¸šä¸»æµé…ç½®ï¼Œå…¼å®¹æ— å¼‚å¸¸ï¼‰ï¼š</p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šCentOS 7.xï¼ˆæœ€å°åŒ–å®‰è£…ï¼Œç¨³å®šæ€§å¼ºï¼Œä¼ä¸šçº§éƒ¨ç½²é¦–é€‰ï¼Œé¿å…ä½¿ç”¨ Windows ç³»ç»Ÿï¼Œå‡å°‘ç¯å¢ƒå…¼å®¹é—®é¢˜ï¼‰ï¼›</li>
<li>JDK ç‰ˆæœ¬ï¼šJDK 1.8ï¼ˆHadoop 3.x å”¯ä¸€å…¼å®¹çš„ç¨³å®šç‰ˆæœ¬ï¼Œç¦æ­¢ä½¿ç”¨ JDK 9 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œä¼šå‡ºç°å…¼å®¹æ€§æŠ¥é”™ï¼‰ï¼›</li>
<li>Hadoop ç‰ˆæœ¬ï¼šHadoop 3.3.4ï¼ˆç¨³å®šç‰ˆï¼Œä¿®å¤äº† 2.x ç‰ˆæœ¬çš„è¯¸å¤š bugï¼Œæ”¯æŒæ›´å¤šæ–°ç‰¹æ€§ï¼Œå¦‚è”é‚¦ HDFSã€YARN èµ„æºåŠ¨æ€è°ƒæ•´ï¼‰ï¼›</li>
<li>é›†ç¾¤éƒ¨ç½²ï¼šå•æœºä¼ªåˆ†å¸ƒï¼ˆå…¥é—¨é¦–é€‰ï¼Œæ¨¡æ‹Ÿå®Œæ•´é›†ç¾¤æ¶æ„ï¼‰ã€å¤šèŠ‚ç‚¹å®Œå…¨åˆ†å¸ƒå¼ï¼ˆä¼ä¸šçº§å®æˆ˜ï¼Œè‡³å°‘ 3 ä¸ªèŠ‚ç‚¹ï¼Œ1 ä¸» 2 ä»ï¼‰ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šHadoop æ˜¯åŸºäº Java å¼€å‘çš„ï¼ŒJDK çš„å®‰è£…ä¸é…ç½®æ˜¯å‰æï¼Œå¿…é¡»ä¿è¯ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®ï¼Œå¦åˆ™ Hadoop æ— æ³•å¯åŠ¨ã€‚åŒæ—¶ï¼Œé›†ç¾¤èŠ‚ç‚¹ä¹‹é—´éœ€é…ç½®å…å¯†ç™»å½•ï¼Œé¿å…å¯åŠ¨æœåŠ¡æ—¶é¢‘ç¹è¾“å…¥å¯†ç ã€‚</p>
<h2 data-id="heading-4">äºŒã€Hadoop ç¯å¢ƒæ­å»ºå®æˆ˜ï¼ˆå•æœº + é›†ç¾¤ï¼Œä¸€æ­¥åˆ°ä½ï¼‰</h2>
<p>ç¯å¢ƒæ­å»ºæ˜¯ Hadoop å®æˆ˜çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“è¸©å‘çš„ç¯èŠ‚ã€‚æœ¬èŠ‚è¯¦ç»†è®²è§£â€œå•æœºä¼ªåˆ†å¸ƒâ€å’Œâ€œå¤šèŠ‚ç‚¹å®Œå…¨åˆ†å¸ƒå¼â€çš„æ­å»ºæ­¥éª¤ï¼Œé™„å…³é”®é…ç½®ã€å¯åŠ¨éªŒè¯åŠå¸¸è§é—®é¢˜è§£å†³ï¼Œæ‰€æœ‰å‘½ä»¤å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œã€‚</p>
<h3 data-id="heading-5">2.1 å‰ç½®å‡†å¤‡ï¼ˆæ‰€æœ‰èŠ‚ç‚¹é€šç”¨ï¼‰</h3>
<h4 data-id="heading-6">2.1.1 ç³»ç»Ÿç¯å¢ƒé…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…³é—­é˜²ç«å¢™ï¼ˆé›†ç¾¤èŠ‚ç‚¹é—´é€šä¿¡éœ€å…³é—­ï¼Œé¿å…ç«¯å£æ‹¦æˆªï¼‰</span>
systemctl stop firewalld
systemctl <span class="hljs-built_in">disable</span> firewalld

<span class="hljs-comment"># 2. å…³é—­SELinuxï¼ˆé¿å…æƒé™é™åˆ¶ï¼Œå¯¼è‡´Hadoopæ— æ³•è®¿é—®ç›®å½•ï¼‰</span>
sed -i <span class="hljs-string">'s/SELINUX=enforcing/SELINUX=disabled/'</span> /etc/selinux/config
setenforce 0

<span class="hljs-comment"># 3. é…ç½®ä¸»æœºåï¼ˆé›†ç¾¤èŠ‚ç‚¹éœ€åŒºåˆ†ï¼Œä»¥ä¸»èŠ‚ç‚¹ä¸ºä¾‹ï¼Œä»èŠ‚ç‚¹å¯¹åº”ä¿®æ”¹ï¼‰</span>
hostnamectl set-hostname hadoop-master
<span class="hljs-comment"># é…ç½®hostsæ–‡ä»¶ï¼Œæ˜ å°„ä¸»æœºåä¸IPï¼ˆæ‰€æœ‰èŠ‚ç‚¹ä¸€è‡´ï¼Œæ›¿æ¢ä¸ºè‡ªèº«IPï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"192.168.1.100 hadoop-master"</span> &gt;&gt; /etc/hosts
<span class="hljs-built_in">echo</span> <span class="hljs-string">"192.168.1.101 hadoop-slave1"</span> &gt;&gt; /etc/hosts
<span class="hljs-built_in">echo</span> <span class="hljs-string">"192.168.1.102 hadoop-slave2"</span> &gt;&gt; /etc/hosts

<span class="hljs-comment"># 4. å®‰è£…ä¾èµ–ï¼ˆHadoopè¿è¡Œéœ€ä¾èµ–sshã€wgetç­‰å·¥å…·ï¼‰</span>
yum install -y ssh wget vim
</code></pre>
<h4 data-id="heading-7">2.1.2 JDK å®‰è£…ä¸é…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¸‹è½½JDK 1.8ï¼ˆå¯æ‰‹åŠ¨ä¸‹è½½ä¸Šä¼ ï¼Œæˆ–é€šè¿‡wgetå‘½ä»¤ï¼‰</span>
wget https://repo.huaweicloud.com/java/jdk/8u202-b08/jdk-8u202-linux-x64.tar.gz

<span class="hljs-comment"># 2. è§£å‹è‡³æŒ‡å®šç›®å½•ï¼ˆæ¨è/usr/local/ï¼‰</span>
tar -zxvf jdk-8u202-linux-x64.tar.gz -C /usr/local/

<span class="hljs-comment"># 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆç¼–è¾‘/etc/profileï¼Œæœ«å°¾æ·»åŠ ï¼‰</span>
vim /etc/profile
<span class="hljs-built_in">export</span> JAVA_HOME=/usr/local/jdk1.8.0_202
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin
<span class="hljs-built_in">export</span> CLASSPATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools.jar

<span class="hljs-comment"># 4. ç”Ÿæ•ˆç¯å¢ƒå˜é‡ï¼ŒéªŒè¯å®‰è£…</span>
<span class="hljs-built_in">source</span> /etc/profile
java -version  <span class="hljs-comment"># å‡ºç°JDKç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</span>
</code></pre>
<h4 data-id="heading-8">2.1.3 å…å¯†ç™»å½•é…ç½®ï¼ˆé›†ç¾¤å¿…å¤‡ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆä¸»èŠ‚ç‚¹æ‰§è¡Œï¼Œä¸€è·¯å›è½¦ï¼Œæ— éœ€è¾“å…¥å¯†ç ï¼‰</span>
ssh-keygen -t rsa

<span class="hljs-comment"># 2. å°†å…¬é’¥åˆ†å‘è‡³æ‰€æœ‰èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼Œé¿å…æœ¬åœ°ç™»å½•éœ€å¯†ç ï¼‰</span>
ssh-copy-id hadoop-master
ssh-copy-id hadoop-slave1
ssh-copy-id hadoop-slave2

<span class="hljs-comment"># 3. éªŒè¯å…å¯†ç™»å½•ï¼ˆä¸»èŠ‚ç‚¹ç™»å½•ä»èŠ‚ç‚¹ï¼Œæ— éœ€è¾“å…¥å¯†ç å³æˆåŠŸï¼‰</span>
ssh hadoop-slave1
</code></pre>
<h3 data-id="heading-9">2.2 å•æœºä¼ªåˆ†å¸ƒç¯å¢ƒæ­å»ºï¼ˆå…¥é—¨é¦–é€‰ï¼‰</h3>
<h4 data-id="heading-10">2.2.1 Hadoop ä¸‹è½½ä¸è§£å‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¸‹è½½Hadoop 3.3.4ï¼ˆåä¸ºäº‘é•œåƒï¼Œé€Ÿåº¦æ›´å¿«ï¼‰</span>
wget https://repo.huaweicloud.com/apache/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz

<span class="hljs-comment"># 2. è§£å‹è‡³/usr/local/ç›®å½•</span>
tar -zxvf hadoop-3.3.4.tar.gz -C /usr/local/

<span class="hljs-comment"># 3. é‡å‘½åï¼ˆç®€åŒ–æ“ä½œï¼Œå¯é€‰ï¼‰</span>
<span class="hljs-built_in">mv</span> /usr/local/hadoop-3.3.4 /usr/local/hadoop

<span class="hljs-comment"># 4. é…ç½®Hadoopç¯å¢ƒå˜é‡ï¼ˆç¼–è¾‘/etc/profileï¼Œæœ«å°¾æ·»åŠ ï¼‰</span>
vim /etc/profile
<span class="hljs-built_in">export</span> HADOOP_HOME=/usr/local/hadoop
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HADOOP_HOME</span>/bin:<span class="hljs-variable">$HADOOP_HOME</span>/sbin

<span class="hljs-comment"># 5. ç”Ÿæ•ˆç¯å¢ƒå˜é‡ï¼ŒéªŒè¯å®‰è£…</span>
<span class="hljs-built_in">source</span> /etc/profile
hadoop version  <span class="hljs-comment"># å‡ºç°Hadoopç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</span>
</code></pre>
<h4 data-id="heading-11">2.2.2 æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¿®æ”¹ï¼ˆå…³é”®æ­¥éª¤ï¼‰</h4>
<p>Hadoop çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä½äº <code>/usr/local/hadoop/etc/hadoop/</code> ç›®å½•ä¸‹ï¼Œå•æœºä¼ªåˆ†å¸ƒéœ€ä¿®æ”¹ 4 ä¸ªå…³é”®æ–‡ä»¶ï¼Œé…ç½®å†…å®¹ç›´æ¥å¤åˆ¶å³å¯ï¼ˆæ›¿æ¢ä¸ºè‡ªèº« JDK è·¯å¾„ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"># 1. ä¿®æ”¹core-site.xmlï¼ˆæ ¸å¿ƒé…ç½®ï¼ŒæŒ‡å®šHDFSä¸»èŠ‚ç‚¹åœ°å€ï¼‰
vim /usr/local/hadoop/etc/hadoop/core-site.xml
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.defaultFS<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://hadoop-master:9000<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # ä¸»èŠ‚ç‚¹ä¸»æœºå+ç«¯å£
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/usr/local/hadoop/tmp<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # Hadoopä¸´æ—¶ç›®å½•ï¼Œé¿å…é»˜è®¤/tmpè¢«æ¸…ç†
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>

# 2. ä¿®æ”¹hdfs-site.xmlï¼ˆHDFSé…ç½®ï¼ŒæŒ‡å®šå‰¯æœ¬æ•°ï¼‰
vim /usr/local/hadoop/etc/hadoop/hdfs-site.xml
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.replication<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # å•æœºä¼ªåˆ†å¸ƒï¼Œå‰¯æœ¬æ•°è®¾ä¸º1ï¼ˆé›†ç¾¤éœ€è®¾ä¸º3ï¼‰
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.namenode.name.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/usr/local/hadoop/hdfs/name<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # NameNodeå…ƒæ•°æ®å­˜å‚¨ç›®å½•
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.datanode.data.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/usr/local/hadoop/hdfs/data<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # DataNodeå®é™…æ•°æ®å­˜å‚¨ç›®å½•
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>

# 3. ä¿®æ”¹mapred-site.xmlï¼ˆMapReduceé…ç½®ï¼ŒæŒ‡å®šYARNä½œä¸ºèµ„æºè°ƒåº¦ï¼‰
vim /usr/local/hadoop/etc/hadoop/mapred-site.xml
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.framework.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>yarn<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # å…³è”YARN
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.application.classpath<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>$HADOOP_HOME/share/hadoop/mapreduce/*:$HADOOP_HOME/share/hadoop/mapreduce/lib/*<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>

# 4. ä¿®æ”¹yarn-site.xmlï¼ˆYARNé…ç½®ï¼ŒæŒ‡å®šResourceManageråœ°å€ï¼‰
vim /usr/local/hadoop/etc/hadoop/yarn-site.xml
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop-master<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # ä¸»èŠ‚ç‚¹ä¸»æœºå
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>  # MapReduce shuffleä¾èµ–
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">2.2.3 HDFS æ ¼å¼åŒ–ä¸æœåŠ¡å¯åŠ¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ ¼å¼åŒ–HDFSï¼ˆä»…é¦–æ¬¡å¯åŠ¨æ‰§è¡Œï¼Œé‡å¤æ‰§è¡Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼‰</span>
hdfs namenode -format

<span class="hljs-comment"># 2. å¯åŠ¨Hadoopæ‰€æœ‰æœåŠ¡ï¼ˆstart-dfs.shå¯åŠ¨HDFSï¼Œstart-yarn.shå¯åŠ¨YARNï¼‰</span>
start-dfs.sh
start-yarn.sh

<span class="hljs-comment"># 3. éªŒè¯æœåŠ¡å¯åŠ¨çŠ¶æ€ï¼ˆå‡ºç°ä»¥ä¸‹è¿›ç¨‹ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼‰</span>
jps
<span class="hljs-comment"># é¢„æœŸè¿›ç¨‹ï¼šNameNodeã€DataNodeã€SecondaryNameNodeã€ResourceManagerã€NodeManager</span>

<span class="hljs-comment"># 4. ç½‘é¡µéªŒè¯ï¼ˆæµè§ˆå™¨è®¿é—®ï¼Œéœ€å…³é—­é˜²ç«å¢™ï¼‰</span>
HDFS Webç•Œé¢ï¼šhttp://hadoop-master:9870  <span class="hljs-comment"># æŸ¥çœ‹HDFSå­˜å‚¨çŠ¶æ€</span>
YARN Webç•Œé¢ï¼šhttp://hadoop-master:8088  <span class="hljs-comment"># æŸ¥çœ‹é›†ç¾¤èµ„æºä¸ä»»åŠ¡çŠ¶æ€</span>
</code></pre>
<h3 data-id="heading-13">2.3 å¤šèŠ‚ç‚¹å®Œå…¨åˆ†å¸ƒå¼æ­å»ºï¼ˆä¼ä¸šçº§å®æˆ˜ï¼‰</h3>
<p>å®Œå…¨åˆ†å¸ƒå¼é›†ç¾¤éœ€è‡³å°‘ 3 ä¸ªèŠ‚ç‚¹ï¼ˆ1 ä¸» 2 ä»ï¼‰ï¼Œå‰ç½®å‡†å¤‡ï¼ˆç³»ç»Ÿé…ç½®ã€JDKã€å…å¯†ç™»å½•ï¼‰ä¸å•æœºç‰ˆä¸€è‡´ï¼Œæ ¸å¿ƒå·®å¼‚åœ¨äºâ€œé…ç½®æ–‡ä»¶ä¿®æ”¹â€å’Œâ€œé›†ç¾¤åˆ†å‘â€ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-14">2.3.1 èŠ‚ç‚¹è§„åˆ’ï¼ˆç¤ºä¾‹ï¼‰</h4>

























<table><thead><tr><th>èŠ‚ç‚¹ä¸»æœºå</th><th>IP åœ°å€</th><th>è§’è‰²</th></tr></thead><tbody><tr><td>hadoop-master</td><td>192.168.1.100</td><td>NameNodeã€ResourceManager</td></tr><tr><td>hadoop-slave1</td><td>192.168.1.101</td><td>DataNodeã€NodeManager</td></tr><tr><td>hadoop-slave2</td><td>192.168.1.102</td><td>DataNodeã€NodeManager</td></tr></tbody></table>
<h4 data-id="heading-15">2.3.2 æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¿®æ”¹ï¼ˆä¸»èŠ‚ç‚¹æ“ä½œï¼‰</h4>
<p>åœ¨ä¸»èŠ‚ç‚¹ï¼ˆhadoop-masterï¼‰ä¸Šä¿®æ”¹ 4 ä¸ªæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸å•æœºç‰ˆå·®å¼‚å¦‚ä¸‹ï¼Œå…¶ä½™é…ç½®ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"># 1. ä¿®æ”¹hdfs-site.xmlï¼ˆå‰¯æœ¬æ•°è®¾ä¸º3ï¼Œä¼ä¸šçº§æ ‡å‡†ï¼‰
<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.replication<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

# 2. ä¿®æ”¹workersæ–‡ä»¶ï¼ˆæŒ‡å®šä»èŠ‚ç‚¹ï¼Œæ›¿æ¢ä¸ºä»èŠ‚ç‚¹ä¸»æœºåï¼‰
vim /usr/local/hadoop/etc/hadoop/workers
hadoop-slave1
hadoop-slave2
</code></pre>
<h4 data-id="heading-16">2.3.3 Hadoop é›†ç¾¤åˆ†å‘ï¼ˆä¸»èŠ‚ç‚¹ â†’ ä»èŠ‚ç‚¹ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ†å‘Hadoopç›®å½•è‡³æ‰€æœ‰ä»èŠ‚ç‚¹ï¼ˆé¿å…ä»èŠ‚ç‚¹é‡å¤å®‰è£…ï¼‰</span>
scp -r /usr/local/hadoop hadoop-slave1:/usr/local/
scp -r /usr/local/hadoop hadoop-slave2:/usr/local/

<span class="hljs-comment"># 2. åˆ†å‘ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼ˆä»èŠ‚ç‚¹æ— éœ€é‡å¤ç¼–è¾‘ï¼‰</span>
scp /etc/profile hadoop-slave1:/etc/
scp /etc/profile hadoop-slave2:/etc/

<span class="hljs-comment"># 3. ä»èŠ‚ç‚¹ç”Ÿæ•ˆç¯å¢ƒå˜é‡ï¼ˆæ¯ä¸ªä»èŠ‚ç‚¹æ‰§è¡Œï¼‰</span>
<span class="hljs-built_in">source</span> /etc/profile
</code></pre>
<h4 data-id="heading-17">2.3.4 é›†ç¾¤å¯åŠ¨ä¸éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¸»èŠ‚ç‚¹æ ¼å¼åŒ–HDFSï¼ˆä»…é¦–æ¬¡æ‰§è¡Œï¼‰</span>
hdfs namenode -format

<span class="hljs-comment"># 2. å¯åŠ¨é›†ç¾¤æ‰€æœ‰æœåŠ¡ï¼ˆä¸»èŠ‚ç‚¹æ‰§è¡Œï¼Œä¼šè‡ªåŠ¨å¯åŠ¨ä»èŠ‚ç‚¹æœåŠ¡ï¼‰</span>
start-dfs.sh
start-yarn.sh

<span class="hljs-comment"># 3. éªŒè¯é›†ç¾¤çŠ¶æ€ï¼ˆä¸»èŠ‚ç‚¹æ‰§è¡Œjpsï¼ŒæŸ¥çœ‹NameNodeã€ResourceManagerï¼›ä»èŠ‚ç‚¹æ‰§è¡Œjpsï¼ŒæŸ¥çœ‹DataNodeã€NodeManagerï¼‰</span>
<span class="hljs-comment"># ä¸»èŠ‚ç‚¹é¢„æœŸè¿›ç¨‹ï¼šNameNodeã€SecondaryNameNodeã€ResourceManager</span>
<span class="hljs-comment"># ä»èŠ‚ç‚¹é¢„æœŸè¿›ç¨‹ï¼šDataNodeã€NodeManager</span>

<span class="hljs-comment"># 4. ç½‘é¡µéªŒè¯ï¼ˆåŒå•æœºç‰ˆï¼Œå¯æŸ¥çœ‹ä»èŠ‚ç‚¹çŠ¶æ€ï¼‰</span>
HDFS Webç•Œé¢ï¼šhttp://hadoop-master:9870 â†’ ç‚¹å‡»Datanodesï¼Œå¯çœ‹åˆ°2ä¸ªä»èŠ‚ç‚¹
YARN Webç•Œé¢ï¼šhttp://hadoop-master:8088 â†’ ç‚¹å‡»Nodesï¼Œå¯çœ‹åˆ°2ä¸ªä»èŠ‚ç‚¹
</code></pre>
<p>è¸©å‘æç¤ºï¼šè‹¥ä»èŠ‚ç‚¹ DataNode æ— æ³•å¯åŠ¨ï¼Œå¤§æ¦‚ç‡æ˜¯â€œhadoop.tmp.dirâ€ç›®å½•æƒé™ä¸è¶³ï¼Œæˆ–ä¸»èŠ‚ç‚¹æ ¼å¼åŒ–åï¼Œä»èŠ‚ç‚¹å¤åˆ¶äº†æ—§çš„ä¸´æ—¶æ–‡ä»¶ã€‚è§£å†³æ–¹æ¡ˆï¼šåˆ é™¤æ‰€æœ‰èŠ‚ç‚¹çš„/tmp/hadoop-*ç›®å½•ï¼Œé‡æ–°æ ¼å¼åŒ–ä¸»èŠ‚ç‚¹ï¼Œå†å¯åŠ¨æœåŠ¡ã€‚</p>
<h2 data-id="heading-18">ä¸‰ã€Hadoop æ ¸å¿ƒç»„ä»¶å®æˆ˜ï¼ˆé‡ç‚¹çªç ´ï¼Œè½åœ°å®æ“ï¼‰</h2>
<p>ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œé‡ç‚¹æŒæ¡ä¸‰å¤§æ ¸å¿ƒç»„ä»¶çš„å®æˆ˜æ“ä½œï¼Œæœ¬èŠ‚èšç„¦â€œé«˜é¢‘å®æ“åœºæ™¯â€ï¼Œç»“åˆå‘½ä»¤è¡Œä¸ Java APIï¼Œè®©ä½ çœŸæ­£ä¼šç”¨ Hadoop å¤„ç†æ•°æ®ï¼Œè€Œéä»…èƒ½å¯åŠ¨æœåŠ¡ã€‚</p>
<h3 data-id="heading-19">3.1 HDFS å®æˆ˜ï¼šåˆ†å¸ƒå¼å­˜å‚¨æ ¸å¿ƒæ“ä½œ</h3>
<p>HDFS çš„æ ¸å¿ƒæ“ä½œçš„æ˜¯â€œæ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€ç›®å½•ç®¡ç†â€ï¼ŒåŒæ—¶éœ€æŒæ¡å…ƒæ•°æ®ç®¡ç†ã€æ•°æ®å—æŸ¥çœ‹ç­‰è¿›é˜¶æ“ä½œï¼Œä»¥ä¸‹æ˜¯é«˜é¢‘å®æˆ˜å‘½ä»¤ä¸ API ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-20">3.1.1 å‘½ä»¤è¡Œå®æˆ˜ï¼ˆé«˜é¢‘æ“ä½œï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ç›®å½•æ“ä½œï¼ˆåˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤ï¼‰</span>
hdfs dfs -<span class="hljs-built_in">mkdir</span> /test  <span class="hljs-comment"># åœ¨HDFSæ ¹ç›®å½•åˆ›å»ºtestç›®å½•</span>
hdfs dfs -<span class="hljs-built_in">ls</span> /  <span class="hljs-comment"># æŸ¥çœ‹HDFSæ ¹ç›®å½•å†…å®¹</span>
hdfs dfs -<span class="hljs-built_in">ls</span> -R /test  <span class="hljs-comment"># é€’å½’æŸ¥çœ‹testç›®å½•</span>
hdfs dfs -<span class="hljs-built_in">rm</span> -r /test  <span class="hljs-comment"># åˆ é™¤testç›®å½•ï¼ˆé€’å½’åˆ é™¤ï¼Œè°¨æ…ä½¿ç”¨ï¼‰</span>

<span class="hljs-comment"># 2. æ–‡ä»¶æ“ä½œï¼ˆä¸Šä¼ ã€ä¸‹è½½ã€æŸ¥çœ‹ã€åˆ é™¤ï¼‰</span>
hdfs dfs -put /local/file/path /hdfs/path  <span class="hljs-comment"># æœ¬åœ°æ–‡ä»¶ä¸Šä¼ è‡³HDFSï¼ˆç¤ºä¾‹ï¼šhdfs dfs -put /root/test.txt /testï¼‰</span>
hdfs dfs -get /hdfs/file/path /local/path  <span class="hljs-comment"># HDFSæ–‡ä»¶ä¸‹è½½è‡³æœ¬åœ°ï¼ˆç¤ºä¾‹ï¼šhdfs dfs -get /test/test.txt /rootï¼‰</span>
hdfs dfs -<span class="hljs-built_in">cat</span> /test/test.txt  <span class="hljs-comment"># æŸ¥çœ‹HDFSæ–‡ä»¶å†…å®¹ï¼ˆå°æ–‡ä»¶é€‚ç”¨ï¼‰</span>
hdfs dfs -<span class="hljs-built_in">rm</span> /test/test.txt  <span class="hljs-comment"># åˆ é™¤HDFSæ–‡ä»¶</span>
hdfs dfs -<span class="hljs-built_in">cp</span> /test/test.txt /test/test2.txt  <span class="hljs-comment"># å¤åˆ¶HDFSæ–‡ä»¶</span>
hdfs dfs -<span class="hljs-built_in">mv</span> /test/test2.txt /test2/  <span class="hljs-comment"># ç§»åŠ¨HDFSæ–‡ä»¶/ç›®å½•</span>

<span class="hljs-comment"># 3. è¿›é˜¶æ“ä½œï¼ˆæŸ¥çœ‹æ•°æ®å—ã€å…ƒæ•°æ®ï¼‰</span>
hdfs fsck /test/test.txt  <span class="hljs-comment"># æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§ï¼ŒæŸ¥çœ‹æ•°æ®å—åˆ†å¸ƒ</span>
hdfs dfsadmin -report  <span class="hljs-comment"># æŸ¥çœ‹é›†ç¾¤æ•°æ®èŠ‚ç‚¹çŠ¶æ€ã€ç£ç›˜ä½¿ç”¨æƒ…å†µ</span>
hdfs namenode -listcorruptfileblocks  <span class="hljs-comment"># æŸ¥çœ‹æŸåçš„æ•°æ®å—</span>
</code></pre>
<h4 data-id="heading-21">3.1.2 Java API å®æˆ˜ï¼ˆä¼ä¸šçº§å¼€å‘å¿…å¤‡ï¼‰</h4>
<p>ä¼ä¸šå¼€å‘ä¸­ï¼Œéœ€é€šè¿‡ Java API æ“ä½œ HDFSï¼Œä»¥ä¸‹æ˜¯â€œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤â€çš„æ ¸å¿ƒä»£ç ç¤ºä¾‹ï¼Œéœ€å¯¼å…¥ Hadoop ç›¸å…³ä¾èµ–ï¼ˆMaven åæ ‡ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"># Mavenä¾èµ–ï¼ˆHadoop 3.3.4ï¼‰
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.hadoop<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hadoop-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.hadoop<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hadoop-hdfs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.hadoop<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hadoop-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.apache.hadoop.conf.Configuration;
<span class="hljs-keyword">import</span> org.apache.hadoop.fs.FileSystem;
<span class="hljs-keyword">import</span> org.apache.hadoop.fs.Path;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-comment">/**
 * HDFS Java API å®æˆ˜ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HdfsApiDemo</span> {
    <span class="hljs-comment">// HDFSä¸»èŠ‚ç‚¹åœ°å€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">HDFS_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">"hdfs://hadoop-master:9000"</span>;
    <span class="hljs-comment">// FileSystemå¯¹è±¡ï¼ˆHDFSæ“ä½œæ ¸å¿ƒï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> FileSystem fileSystem;

    <span class="hljs-comment">// åˆå§‹åŒ–FileSystemï¼ˆé™æ€ä»£ç å—ï¼Œä»…æ‰§è¡Œä¸€æ¬¡ï¼‰</span>
    <span class="hljs-keyword">static</span> {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">conf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();
        conf.set(<span class="hljs-string">"fs.defaultFS"</span>, HDFS_PATH);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆå§‹åŒ–FileSystemï¼Œé¿å…æƒé™é—®é¢˜ï¼ˆæ·»åŠ userå‚æ•°ï¼‰</span>
            fileSystem = FileSystem.get(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(HDFS_PATH).toUri(), conf, <span class="hljs-string">"root"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }

    <span class="hljs-comment">/**
     * 1. ä¸Šä¼ æœ¬åœ°æ–‡ä»¶è‡³HDFS
     * <span class="hljs-doctag">@param</span> localPath æœ¬åœ°æ–‡ä»¶è·¯å¾„
     * <span class="hljs-doctag">@param</span> hdfsPath HDFSç›®æ ‡è·¯å¾„
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">uploadFile</span><span class="hljs-params">(String localPath, String hdfsPath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">local</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(localPath);
        <span class="hljs-type">Path</span> <span class="hljs-variable">hdfs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(hdfsPath);
        <span class="hljs-comment">// ä¸Šä¼ ï¼ˆoverwrite=trueï¼Œè¦†ç›–å·²å­˜åœ¨æ–‡ä»¶ï¼‰</span>
        fileSystem.copyFromLocalFile(<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, local, hdfs);
        System.out.println(<span class="hljs-string">"æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼š"</span> + localPath + <span class="hljs-string">" â†’ "</span> + hdfsPath);
    }

    <span class="hljs-comment">/**
     * 2. ä»HDFSä¸‹è½½æ–‡ä»¶è‡³æœ¬åœ°
     * <span class="hljs-doctag">@param</span> hdfsPath HDFSæ–‡ä»¶è·¯å¾„
     * <span class="hljs-doctag">@param</span> localPath æœ¬åœ°ç›®æ ‡è·¯å¾„
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadFile</span><span class="hljs-params">(String hdfsPath, String localPath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">hdfs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(hdfsPath);
        <span class="hljs-type">Path</span> <span class="hljs-variable">local</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(localPath);
        <span class="hljs-comment">// ä¸‹è½½ï¼ˆoverwrite=trueï¼Œè¦†ç›–å·²å­˜åœ¨æ–‡ä»¶ï¼‰</span>
        fileSystem.copyToLocalFile(<span class="hljs-literal">false</span>, hdfs, local, <span class="hljs-literal">true</span>);
        System.out.println(<span class="hljs-string">"æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼š"</span> + hdfsPath + <span class="hljs-string">" â†’ "</span> + localPath);
    }

    <span class="hljs-comment">/**
     * 3. åˆ é™¤HDFSæ–‡ä»¶/ç›®å½•
     * <span class="hljs-doctag">@param</span> hdfsPath HDFSè·¯å¾„
     * <span class="hljs-doctag">@param</span> recursive æ˜¯å¦é€’å½’åˆ é™¤ï¼ˆç›®å½•éœ€è®¾ä¸ºtrueï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteFile</span><span class="hljs-params">(String hdfsPath, <span class="hljs-type">boolean</span> recursive)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(hdfsPath);
        <span class="hljs-keyword">if</span> (fileSystem.exists(path)) {
            fileSystem.delete(path, recursive);
            System.out.println(<span class="hljs-string">"åˆ é™¤æˆåŠŸï¼š"</span> + hdfsPath);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"è·¯å¾„ä¸å­˜åœ¨ï¼š"</span> + hdfsPath);
        }
    }

    <span class="hljs-comment">// æµ‹è¯•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// ä¸Šä¼ æµ‹è¯•</span>
        uploadFile(<span class="hljs-string">"/root/test.txt"</span>, <span class="hljs-string">"/test/api_upload.txt"</span>);
        <span class="hljs-comment">// ä¸‹è½½æµ‹è¯•</span>
        downloadFile(<span class="hljs-string">"/test/api_upload.txt"</span>, <span class="hljs-string">"/root/api_download.txt"</span>);
        <span class="hljs-comment">// åˆ é™¤æµ‹è¯•</span>
        deleteFile(<span class="hljs-string">"/test/api_upload.txt"</span>, <span class="hljs-literal">false</span>);
    }
}
</code></pre>
<p>æ³¨æ„ï¼šJava API æ“ä½œ HDFS æ—¶ï¼Œå®¹æ˜“å‡ºç°â€œæƒé™æ‹’ç»â€é”™è¯¯ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯åœ¨åˆå§‹åŒ– FileSystem æ—¶ï¼ŒæŒ‡å®šç”¨æˆ·ï¼ˆå¦‚ rootï¼‰ï¼Œå³ fileSystem = FileSystem.get(uri, conf, "root")ï¼Œé¿å… Hadoop æƒé™æ ¡éªŒå¤±è´¥ã€‚</p>
<h3 data-id="heading-22">3.2 MapReduce å®æˆ˜ï¼šåˆ†å¸ƒå¼è®¡ç®—æ ¸å¿ƒæ¡ˆä¾‹</h3>
<p>MapReduce æ˜¯ Hadoop çš„åˆ†å¸ƒå¼è®¡ç®—æ ¸å¿ƒï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯â€œåˆ†è€Œæ²»ä¹‹â€ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡ç¦»çº¿æ•°æ®ã€‚æœ¬èŠ‚é€šè¿‡â€œç»å…¸ WordCount æ¡ˆä¾‹â€ï¼ˆç»Ÿè®¡æ–‡æœ¬ä¸­å•è¯å‡ºç°æ¬¡æ•°ï¼‰ï¼Œè¯¦è§£ MapReduce çš„å¼€å‘ã€æäº¤ä¸è¿è¡Œæµç¨‹ï¼Œè®©ä½ æŒæ¡ MapReduce çš„æ ¸å¿ƒé€»è¾‘ã€‚</p>
<h4 data-id="heading-23">3.2.1 WordCount æ¡ˆä¾‹éœ€æ±‚</h4>
<p>è¾“å…¥ï¼šHDFS ä¸Šçš„æ–‡æœ¬æ–‡ä»¶ï¼ˆtest.txtï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">hadoop spark flink
hadoop mapreduce yarn
spark hadoop
flink spark hadoop
</code></pre>
<p>è¾“å‡ºï¼šç»Ÿè®¡æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°ï¼Œç»“æœä¿å­˜è‡³ HDFS çš„/output ç›®å½•ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">flink	2
hadoop	4
mapreduce	1
spark	3
yarn	1
</code></pre>
<h4 data-id="heading-24">3.2.2 MapReduce æ ¸å¿ƒå¼€å‘ï¼ˆJava å®ç°ï¼‰</h4>
<p>MapReduce ç¨‹åºåˆ†ä¸º 3 ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šMap ç±»ï¼ˆæ•°æ®åˆ†ç‰‡ä¸å±€éƒ¨å¤„ç†ï¼‰ã€Reduce ç±»ï¼ˆç»“æœæ±‡æ€»ï¼‰ã€Driver ç±»ï¼ˆç¨‹åºå…¥å£ï¼Œé…ç½®ä¸æäº¤ä»»åŠ¡ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.apache.hadoop.conf.Configuration;
<span class="hljs-keyword">import</span> org.apache.hadoop.fs.Path;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.IntWritable;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.LongWritable;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.Text;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Job;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Mapper;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Reducer;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-comment">/**
 * MapReduce WordCount å®æˆ˜æ¡ˆä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCountDemo</span> {

    <span class="hljs-comment">/**
     * 1. Mapç±»ï¼šè¯»å–è¾“å…¥æ•°æ®ï¼Œæ‹†åˆ†å•è¯ï¼Œè¾“å‡º&lt;å•è¯, 1&gt;é”®å€¼å¯¹
     * è¾“å…¥å‚æ•°ï¼šLongWritableï¼ˆè¡Œå·ï¼‰ã€Textï¼ˆè¡Œå†…å®¹ï¼‰
     * è¾“å‡ºå‚æ•°ï¼šTextï¼ˆå•è¯ï¼‰ã€IntWritableï¼ˆæ¬¡æ•°1ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCountMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mapper</span>&lt;LongWritable, Text, Text, IntWritable&gt; {
        <span class="hljs-comment">// è¾“å‡ºé”®å€¼å¯¹ï¼ˆé¿å…é¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼Œæå‡æ•ˆç‡ï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-type">Text</span> <span class="hljs-variable">word</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Text</span>();
        <span class="hljs-keyword">private</span> <span class="hljs-type">IntWritable</span> <span class="hljs-variable">one</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>(<span class="hljs-number">1</span>);

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">map</span><span class="hljs-params">(LongWritable key, Text value, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
            <span class="hljs-comment">// 1. è¯»å–ä¸€è¡Œæ•°æ®ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">line</span> <span class="hljs-operator">=</span> value.toString();
            <span class="hljs-comment">// 2. æ‹†åˆ†å•è¯ï¼ˆæŒ‰ç©ºæ ¼æ‹†åˆ†ï¼Œå¤„ç†å¤šç©ºæ ¼æƒ…å†µï¼‰</span>
            String[] words = line.split(<span class="hljs-string">"\\s+"</span>);
            <span class="hljs-comment">// 3. å¾ªç¯è¾“å‡º&lt;å•è¯, 1&gt;</span>
            <span class="hljs-keyword">for</span> (String w : words) {
                word.set(w);
                context.write(word, one);
            }
        }
    }

    <span class="hljs-comment">/**
     * 2. Reduceç±»ï¼šæ¥æ”¶Mapè¾“å‡ºï¼Œæ±‡æ€»å•è¯æ¬¡æ•°ï¼Œè¾“å‡º&lt;å•è¯, æ€»æ¬¡æ•°&gt;
     * è¾“å…¥å‚æ•°ï¼šTextï¼ˆå•è¯ï¼‰ã€Iterable&lt;IntWritable&gt;ï¼ˆè¯¥å•è¯çš„æ‰€æœ‰æ¬¡æ•°ï¼‰
     * è¾“å‡ºå‚æ•°ï¼šTextï¼ˆå•è¯ï¼‰ã€IntWritableï¼ˆæ€»æ¬¡æ•°ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordCountReducer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Reducer</span>&lt;Text, IntWritable, Text, IntWritable&gt; {
        <span class="hljs-comment">// è¾“å‡ºæ€»æ¬¡æ•°</span>
        <span class="hljs-keyword">private</span> <span class="hljs-type">IntWritable</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>();

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reduce</span><span class="hljs-params">(Text key, Iterable&lt;IntWritable&gt; values, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
            <span class="hljs-comment">// 1. æ±‡æ€»æ¬¡æ•°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (IntWritable val : values) {
                sum += val.get();
            }
            <span class="hljs-comment">// 2. è¾“å‡ºç»“æœ</span>
            total.set(sum);
            context.write(key, total);
        }
    }

    <span class="hljs-comment">/**
     * 3. Driverç±»ï¼šç¨‹åºå…¥å£ï¼Œé…ç½®Jobï¼Œæäº¤ä»»åŠ¡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. åˆå§‹åŒ–é…ç½®</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">conf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();
        <span class="hljs-comment">// 2. åˆ›å»ºJobå¯¹è±¡ï¼ˆæŒ‡å®šJobåç§°ï¼Œç”¨äºYARNç•Œé¢æŸ¥çœ‹ï¼‰</span>
        <span class="hljs-type">Job</span> <span class="hljs-variable">job</span> <span class="hljs-operator">=</span> Job.getInstance(conf, <span class="hljs-string">"wordcount-demo"</span>);
        <span class="hljs-comment">// 3. è®¾ç½®ç¨‹åºä¸»ç±»ï¼ˆå½“å‰ç±»ï¼‰</span>
        job.setJarByClass(WordCountDemo.class);

        <span class="hljs-comment">// 4. é…ç½®Mapç±»ä¸è¾“å‡ºç±»å‹</span>
        job.setMapperClass(WordCountMapper.class);
        job.setMapOutputKeyClass(Text.class);  <span class="hljs-comment">// Mapè¾“å‡ºé”®ç±»å‹</span>
        job.setMapOutputValueClass(IntWritable.class);  <span class="hljs-comment">// Mapè¾“å‡ºå€¼ç±»å‹</span>

        <span class="hljs-comment">// 5. é…ç½®Reduceç±»ä¸è¾“å‡ºç±»å‹</span>
        job.setReducerClass(WordCountReducer.class);
        job.setOutputKeyClass(Text.class);  <span class="hljs-comment">// Reduceè¾“å‡ºé”®ç±»å‹</span>
        job.setOutputValueClass(IntWritable.class);  <span class="hljs-comment">// Reduceè¾“å‡ºå€¼ç±»å‹</span>

        <span class="hljs-comment">// 6. é…ç½®è¾“å…¥è·¯å¾„ï¼ˆHDFSä¸Šçš„æ–‡æœ¬æ–‡ä»¶è·¯å¾„ï¼‰</span>
        FileInputFormat.addInputPath(job, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">"/test/test.txt"</span>));
        <span class="hljs-comment">// 7. é…ç½®è¾“å‡ºè·¯å¾„ï¼ˆHDFSè·¯å¾„ï¼Œå¿…é¡»æ˜¯ä¸å­˜åœ¨çš„ç›®å½•ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</span>
        FileOutputFormat.setOutputPath(job, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">"/output/wordcount"</span>));

        <span class="hljs-comment">// 8. æäº¤ä»»åŠ¡ï¼ˆwaitForCompletion(true)ï¼šç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œæ‰“å°æ—¥å¿—ï¼‰</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">success</span> <span class="hljs-operator">=</span> job.waitForCompletion(<span class="hljs-literal">true</span>);
        <span class="hljs-comment">// 9. ç¨‹åºé€€å‡ºï¼ˆä»»åŠ¡æˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›1ï¼‰</span>
        System.exit(success ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);
    }
}
</code></pre>
<h4 data-id="heading-25">3.2.3 ç¨‹åºæ‰“åŒ…ä¸æäº¤è¿è¡Œ</h4>
<p>MapReduce ç¨‹åºéœ€æ‰“åŒ…ä¸º JAR åŒ…ï¼Œæäº¤è‡³ Hadoop é›†ç¾¤è¿è¡Œï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ‰“åŒ…ç¨‹åºï¼ˆä½¿ç”¨Mavenæ‰“åŒ…ï¼Œç”ŸæˆJARåŒ…ï¼Œé»˜è®¤åœ¨targetç›®å½•ä¸‹ï¼‰</span>
<span class="hljs-comment"># æ‰“åŒ…å‘½ä»¤ï¼ˆé¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰ï¼šmvn clean package -DskipTests</span>
<span class="hljs-comment"># å‡è®¾ç”Ÿæˆçš„JARåŒ…åä¸ºï¼šhadoop-demo-1.0-SNAPSHOT.jar</span>

<span class="hljs-comment"># 2. ä¸Šä¼ JARåŒ…è‡³Hadoopä¸»èŠ‚ç‚¹ï¼ˆå¦‚/rootç›®å½•ï¼‰</span>
<span class="hljs-comment"># 3. æäº¤MapReduceä»»åŠ¡è‡³YARNè¿è¡Œ</span>
hadoop jar /root/hadoop-demo-1.0-SNAPSHOT.jar com.hadoop.demo.WordCountDemo

<span class="hljs-comment"># 4. æŸ¥çœ‹ä»»åŠ¡è¿è¡ŒçŠ¶æ€ï¼ˆä¸¤ç§æ–¹å¼ï¼‰</span>
<span class="hljs-comment"># æ–¹å¼1ï¼šYARN Webç•Œé¢ï¼ˆhttp://hadoop-master:8088ï¼‰ï¼ŒæŸ¥çœ‹Running/Running Jobs</span>
<span class="hljs-comment"># æ–¹å¼2ï¼šå‘½ä»¤è¡ŒæŸ¥çœ‹ï¼ˆhadoop job -listï¼‰</span>

<span class="hljs-comment"># 5. ä»»åŠ¡è¿è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹è¾“å‡ºç»“æœ</span>
hdfs dfs -<span class="hljs-built_in">cat</span> /output/wordcount/part-r-00000  <span class="hljs-comment"># part-r-00000æ˜¯Reduceè¾“å‡ºæ–‡ä»¶</span>
</code></pre>
<p>è¸©å‘æç¤ºï¼š1. è¾“å‡ºç›®å½•å¿…é¡»ä¸å­˜åœ¨ï¼Œå¦åˆ™ä»»åŠ¡ä¼šæŠ¥é”™ï¼ˆHadoop é¿å…è¦†ç›–ç»“æœï¼‰ï¼Œå¯å…ˆåˆ é™¤ç›®å½•ï¼šhdfs dfs -rm -r /output/wordcountï¼›2. JAR åŒ…ä¾èµ–éœ€å®Œæ•´ï¼Œè‹¥å‡ºç° ClassNotFoundExceptionï¼Œéœ€æ£€æŸ¥ Maven ä¾èµ–æ˜¯å¦ç¼ºå¤±ï¼Œæˆ–ä½¿ç”¨â€œfatjarâ€æ‰“åŒ…ï¼ˆåŒ…å«æ‰€æœ‰ä¾èµ–ï¼‰ã€‚</p>
<h3 data-id="heading-26">3.3 YARN å®æˆ˜ï¼šèµ„æºè°ƒåº¦é…ç½®ä¸ä»»åŠ¡ç›‘æ§</h3>
<p>YARN ä½œä¸º Hadoop çš„èµ„æºè°ƒåº¦æ¡†æ¶ï¼Œæ ¸å¿ƒæ˜¯â€œåˆç†åˆ†é…é›†ç¾¤èµ„æºï¼Œä¿éšœä»»åŠ¡é«˜æ•ˆè¿è¡Œâ€ã€‚å®æˆ˜ä¸­ï¼Œéœ€æŒæ¡èµ„æºé…ç½®ä¼˜åŒ–ã€ä»»åŠ¡ç›‘æ§ä¸æ•…éšœæ’æŸ¥ï¼Œä»¥ä¸‹æ˜¯é«˜é¢‘æ“ä½œï¼š</p>
<h4 data-id="heading-27">3.3.1 æ ¸å¿ƒèµ„æºé…ç½®ä¼˜åŒ–ï¼ˆyarn-site.xmlï¼‰</h4>
<p>æ ¹æ®é›†ç¾¤æœåŠ¡å™¨é…ç½®ï¼ˆCPUã€å†…å­˜ï¼‰ï¼Œä¼˜åŒ– YARN èµ„æºåˆ†é…ï¼Œé¿å…èµ„æºæµªè´¹æˆ–ä»»åŠ¡å¡é¡¿ï¼Œæ ¸å¿ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä¸»èŠ‚ç‚¹åœ°å€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop-master<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- MapReduce shuffleä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ¯ä¸ªNodeManagerå¯ç”¨å†…å­˜ï¼ˆå•ä½ï¼šMBï¼Œæ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´ï¼Œå¦‚8Gå†…å­˜è®¾ä¸º6144ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.resource.memory-mb<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>6144<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ¯ä¸ªä»»åŠ¡æœ€å°å†…å­˜ï¼ˆå•ä½ï¼šMBï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.scheduler.minimum-allocation-mb<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1024<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ¯ä¸ªä»»åŠ¡æœ€å¤§å†…å­˜ï¼ˆå•ä½ï¼šMBï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.scheduler.maximum-allocation-mb<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>4096<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ¯ä¸ªNodeManagerå¯ç”¨CPUæ ¸å¿ƒæ•°ï¼ˆæ ¹æ®æœåŠ¡å™¨CPUè°ƒæ•´ï¼Œå¦‚4æ ¸è®¾ä¸º4ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.resource.cpu-vcores<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<p>é…ç½®ä¿®æ”¹åï¼Œéœ€é‡å¯ YARN æœåŠ¡ç”Ÿæ•ˆï¼šstop-yarn.sh â†’ start-yarn.shã€‚</p>
<h4 data-id="heading-28">3.3.2 ä»»åŠ¡ç›‘æ§ä¸æ•…éšœæ’æŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æŸ¥çœ‹é›†ç¾¤èµ„æºçŠ¶æ€</span>
yarn node -list  <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰NodeManagerèŠ‚ç‚¹çŠ¶æ€</span>
yarn node -status hadoop-slave1  <span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šèŠ‚ç‚¹çš„èµ„æºä½¿ç”¨æƒ…å†µ</span>

<span class="hljs-comment"># 2. æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨ä¸çŠ¶æ€</span>
yarn application -list  <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰åº”ç”¨ï¼ˆä»»åŠ¡ï¼‰çŠ¶æ€</span>
yarn application -status application_1700000000000_0001  <span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šä»»åŠ¡è¯¦æƒ…ï¼ˆæ›¿æ¢ä¸ºè‡ªèº«application IDï¼‰</span>

<span class="hljs-comment"># 3. æ€æ­»å¼‚å¸¸ä»»åŠ¡ï¼ˆä»»åŠ¡å¡é¡¿ã€æŠ¥é”™æ—¶ä½¿ç”¨ï¼‰</span>
yarn application -<span class="hljs-built_in">kill</span> application_1700000000000_0001

<span class="hljs-comment"># 4. æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—ï¼ˆå…³é”®ï¼Œæ’æŸ¥ä»»åŠ¡å¤±è´¥åŸå› ï¼‰</span>
yarn logs -applicationId application_1700000000000_0001  <span class="hljs-comment"># æŸ¥çœ‹æ•´ä¸ªä»»åŠ¡çš„æ—¥å¿—</span>
yarn logs -applicationId application_1700000000000_0001 -containerId container_1700000000000_0001_01_000001  <span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šå®¹å™¨æ—¥å¿—</span>
</code></pre>
<p>ç½‘é¡µç›‘æ§ï¼šé€šè¿‡ YARN Web ç•Œé¢ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Fhadoop-master%3A8088%25EF%25BC%2589%25EF%25BC%258C%25E5%258F%25AF%25E7%259B%25B4%25E8%25A7%2582%25E6%259F%25A5%25E7%259C%258B%25E4%25BB%25BB%25E5%258A%25A1%25E8%25BF%2590%25E8%25A1%258C%25E7%258A%25B6%25E6%2580%2581%25E3%2580%2581%25E8%25B5%2584%25E6%25BA%2590%25E4%25BD%25BF%25E7%2594%25A8%25E6%2583%2585%25E5%2586%25B5%25E3%2580%2581%25E5%25A4%25B1%25E8%25B4%25A5%25E5%258E%259F%25E5%259B%25A0%25EF%25BC%258C%25E6%2598%25AF%25E5%25AE%259E%25E6%2588%2598%25E4%25B8%25AD%25E6%258E%2592%25E6%259F%25A5%25E6%2595%2585%25E9%259A%259C%25E7%259A%2584%25E9%25A6%2596%25E9%2580%2589%25E6%2596%25B9%25E5%25BC%258F%25E3%2580%2582" target="_blank" title="http://hadoop-master:8088%EF%BC%89%EF%BC%8C%E5%8F%AF%E7%9B%B4%E8%A7%82%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E3%80%81%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%E3%80%81%E5%A4%B1%E8%B4%A5%E5%8E%9F%E5%9B%A0%EF%BC%8C%E6%98%AF%E5%AE%9E%E6%88%98%E4%B8%AD%E6%8E%92%E6%9F%A5%E6%95%85%E9%9A%9C%E7%9A%84%E9%A6%96%E9%80%89%E6%96%B9%E5%BC%8F%E3%80%82" ref="nofollow noopener noreferrer">http://hadoop-master:8088ï¼‰ï¼Œå¯ç›´è§‚æŸ¥çœ‹ä»»åŠ¡è¿è¡ŒçŠ¶æ€ã€èµ„æºä½¿ç”¨æƒ…å†µã€å¤±è´¥åŸå› ï¼Œæ˜¯å®æˆ˜ä¸­æ’æŸ¥æ•…éšœçš„é¦–é€‰æ–¹å¼ã€‚</a></p>
<h2 data-id="heading-29">å››ã€ä¼ä¸šçº§ç»¼åˆå®æˆ˜ï¼šWeb æ—¥å¿—åˆ†ææ¡ˆä¾‹</h2>
<p>å‰é¢è®²è§£äº†å•ä¸ªç»„ä»¶çš„å®æ“ï¼Œæœ¬èŠ‚ç»“åˆä¼ä¸šå®é™…ä¸šåŠ¡åœºæ™¯â€”â€”Web æ—¥å¿—åˆ†æï¼Œä¸²è” HDFSã€MapReduceã€YARN ä¸‰å¤§ç»„ä»¶ï¼Œå®ç°â€œæ—¥å¿—é‡‡é›† â†’ å­˜å‚¨ â†’ è®¡ç®— â†’ åˆ†æâ€çš„å®Œæ•´é—­ç¯ï¼Œè®©ä½ æŒæ¡ Hadoop å®æˆ˜çš„æ ¸å¿ƒè½åœ°èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-30">4.1 æ¡ˆä¾‹éœ€æ±‚</h3>
<p>åˆ†æ Web æœåŠ¡å™¨æ—¥å¿—ï¼Œç»Ÿè®¡ä»¥ä¸‹ 3 ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼š</p>
<ol>
<li>ç»Ÿè®¡æ¯ä¸ª URL çš„è®¿é—®æ¬¡æ•°ï¼ˆTop10ï¼‰ï¼›</li>
<li>ç»Ÿè®¡æ¯ä¸ª IP çš„è®¿é—®æ¬¡æ•°ï¼ˆTop10ï¼‰ï¼›</li>
<li>ç»Ÿè®¡æ¯ä¸ª HTTP çŠ¶æ€ç çš„å‡ºç°æ¬¡æ•°ï¼ˆå¦‚ 200ã€404ã€500ï¼‰ã€‚</li>
</ol>
<p>æ—¥å¿—æ ¼å¼ï¼ˆNginx æ—¥å¿—ï¼Œæ¯è¡Œä¸€æ¡ï¼Œç¤ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">192.168.1.100 - - [10/Oct/2025:10:00:00 +0800] "GET /index.html HTTP/1.1" 200 1234
192.168.1.101 - - [10/Oct/2025:10:00:05 +0800] "POST /api/login HTTP/1.1" 401 567
192.168.1.100 - - [10/Oct/2025:10:00:10 +0800] "GET /about.html HTTP/1.1" 200 890
192.168.1.102 - - [10/Oct/2025:10:00:15 +0800] "GET /index.html HTTP/1.1" 200 1234
192.168.1.100 - - [10/Oct/2025:10:00:20 +0800] "GET /api/user HTTP/1.1" 500 345
</code></pre>
<h3 data-id="heading-31">4.2 æ¡ˆä¾‹å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-32">4.2.1 æ­¥éª¤ 1ï¼šæ—¥å¿—é‡‡é›†ä¸ä¸Šä¼ è‡³ HDFS</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ¨¡æ‹Ÿæ—¥å¿—æ–‡ä»¶ï¼ˆæœ¬åœ°åˆ›å»ºweb.logï¼Œå†™å…¥ç¤ºä¾‹æ—¥å¿—ï¼‰</span>
vim /root/web.log  <span class="hljs-comment"># å†™å…¥ä¸Šè¿°æ—¥å¿—å†…å®¹</span>

<span class="hljs-comment"># 2. ä¸Šä¼ æ—¥å¿—æ–‡ä»¶è‡³HDFSçš„/logsç›®å½•ï¼ˆåˆ›å»ºç›®å½•â†’ä¸Šä¼ ï¼‰</span>
hdfs dfs -<span class="hljs-built_in">mkdir</span> /logs
hdfs dfs -put /root/web.log /logs/
</code></pre>
<h4 data-id="heading-33">4.2.2 æ­¥éª¤ 2ï¼šMapReduce ç¨‹åºå¼€å‘ï¼ˆå¤šæŒ‡æ ‡ç»Ÿè®¡ï¼‰</h4>
<p>é€šè¿‡ä¸€ä¸ª MapReduce ç¨‹åºï¼ŒåŒæ—¶ç»Ÿè®¡ 3 ä¸ªæŒ‡æ ‡ï¼Œæ ¸å¿ƒæ€è·¯ï¼šMap é˜¶æ®µè§£ææ—¥å¿—ï¼Œæå– URLã€IPã€çŠ¶æ€ç ï¼Œè¾“å‡º 3 ç§ç±»å‹çš„é”®å€¼å¯¹ï¼›Reduce é˜¶æ®µæ±‡æ€»è®¡ç®—ï¼Œæœ€ç»ˆè¾“å‡º 3 ä¸ªæŒ‡æ ‡çš„ç»Ÿè®¡ç»“æœã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.apache.hadoop.conf.Configuration;
<span class="hljs-keyword">import</span> org.apache.hadoop.fs.Path;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.IntWritable;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.LongWritable;
<span class="hljs-keyword">import</span> org.apache.hadoop.io.Text;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Job;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Mapper;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.Reducer;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;
<span class="hljs-keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-comment">/**
 * ä¼ä¸šçº§Webæ—¥å¿—åˆ†ææ¡ˆä¾‹ï¼ˆå¤šæŒ‡æ ‡ç»Ÿè®¡ï¼‰
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebLogAnalysisDemo</span> {

    <span class="hljs-comment">/**
     * Mapç±»ï¼šè§£ææ—¥å¿—ï¼Œæå–URLã€IPã€çŠ¶æ€ç ï¼Œè¾“å‡º3ç§é”®å€¼å¯¹
     * è¾“å‡ºé”®æ ¼å¼ï¼šç±»å‹_å€¼ï¼ˆå¦‚url_/index.htmlã€ip_192.168.1.100ã€status_200ï¼‰
     * è¾“å‡ºå€¼ï¼šæ¬¡æ•°1
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebLogMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mapper</span>&lt;LongWritable, Text, Text, IntWritable&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-type">Text</span> <span class="hljs-variable">keyOut</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Text</span>();
        <span class="hljs-keyword">private</span> <span class="hljs-type">IntWritable</span> <span class="hljs-variable">valueOut</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>(<span class="hljs-number">1</span>);

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">map</span><span class="hljs-params">(LongWritable key, Text value, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
            <span class="hljs-comment">// 1. è¯»å–ä¸€è¡Œæ—¥å¿—</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">line</span> <span class="hljs-operator">=</span> value.toString().trim();
            <span class="hljs-keyword">if</span> (line.isEmpty()) <span class="hljs-keyword">return</span>;

            <span class="hljs-comment">// 2. è§£ææ—¥å¿—ï¼ˆæŒ‰ç©ºæ ¼æ‹†åˆ†ï¼Œæ³¨æ„å¼•å·å†…çš„ç©ºæ ¼ï¼‰</span>
            String[] parts = line.split(<span class="hljs-string">"\""</span>);  <span class="hljs-comment">// æ‹†åˆ†åï¼Œparts[1]æ˜¯è¯·æ±‚è¡Œï¼ˆGET /index.html HTTP/1.1ï¼‰</span>
            <span class="hljs-keyword">if</span> (parts.length &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span>;

            <span class="hljs-comment">// 3. æå–URLï¼ˆè¯·æ±‚è¡Œæ‹†åˆ†ï¼Œå–ç¬¬äºŒä¸ªå…ƒç´ ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">requestLine</span> <span class="hljs-operator">=</span> parts[<span class="hljs-number">1</span>];
            String[] requestParts = requestLine.split(<span class="hljs-string">"\\s+"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> requestParts[<span class="hljs-number">1</span>];  <span class="hljs-comment">// URL</span>

            <span class="hljs-comment">// 4. æå–HTTPçŠ¶æ€ç ï¼ˆparts[2]æ‹†åˆ†ï¼Œå–ç¬¬ä¸€ä¸ªæ•°å­—ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">statusLine</span> <span class="hljs-operator">=</span> parts[<span class="hljs-number">2</span>].trim();
            <span class="hljs-type">String</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> statusLine.split(<span class="hljs-string">"\\s+"</span>)[<span class="hljs-number">0</span>];  <span class="hljs-comment">// çŠ¶æ€ç </span>

            <span class="hljs-comment">// 5. æå–IPï¼ˆæ—¥å¿—å¼€å¤´ï¼ŒæŒ‰ç©ºæ ¼æ‹†åˆ†ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> line.split(<span class="hljs-string">"\\s+"</span>)[<span class="hljs-number">0</span>];  <span class="hljs-comment">// IP</span>

            <span class="hljs-comment">// 6. è¾“å‡º3ç§é”®å€¼å¯¹ï¼ˆåŒºåˆ†ç±»å‹ï¼Œä¾¿äºReduceæ±‡æ€»ï¼‰</span>
            keyOut.set(<span class="hljs-string">"url_"</span> + url);
            context.write(keyOut, valueOut);

            keyOut.set(<span class="hljs-string">"ip_"</span> + ip);
            context.write(keyOut, valueOut);

            keyOut.set(<span class="hljs-string">"status_"</span> + status);
            context.write(keyOut, valueOut);
        }
    }

    <span class="hljs-comment">/**
     * Reduceç±»ï¼šæ±‡æ€»ç»Ÿè®¡ï¼Œè¾“å‡ºç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebLogReducer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Reducer</span>&lt;Text, IntWritable, Text, IntWritable&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-type">IntWritable</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntWritable</span>();

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reduce</span><span class="hljs-params">(Text key, Iterable&lt;IntWritable&gt; values, Context context)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException {
            <span class="hljs-comment">// æ±‡æ€»æ¬¡æ•°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (IntWritable val : values) {
                sum += val.get();
            }
            total.set(sum);
            context.write(key, total);
        }
    }

    <span class="hljs-comment">/**
     * Driverç±»ï¼šé…ç½®Jobï¼Œæäº¤ä»»åŠ¡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">conf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();
        <span class="hljs-type">Job</span> <span class="hljs-variable">job</span> <span class="hljs-operator">=</span> Job.getInstance(conf, <span class="hljs-string">"web-log-analysis"</span>);
        job.setJarByClass(WebLogAnalysisDemo.class);

        <span class="hljs-comment">// é…ç½®Mapå’ŒReduce</span>
        job.setMapperClass(WebLogMapper.class);
        job.setReducerClass(WebLogReducer.class);
        job.setOutputKeyClass(Text.class);
        job.setOutputValueClass(IntWritable.class);

        <span class="hljs-comment">// è¾“å…¥è¾“å‡ºè·¯å¾„ï¼ˆHDFSï¼‰</span>
        FileInputFormat.addInputPath(job, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">"/logs/web.log"</span>));
        FileOutputFormat.setOutputPath(job, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path</span>(<span class="hljs-string">"/output/weblog-analysis"</span>));

        <span class="hljs-comment">// æäº¤ä»»åŠ¡</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">success</span> <span class="hljs-operator">=</span> job.waitForCompletion(<span class="hljs-literal">true</span>);
        System.exit(success ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);
    }
}
</code></pre>
<h4 data-id="heading-34">4.2.3 æ­¥éª¤ 3ï¼šç¨‹åºæ‰“åŒ…ä¸è¿è¡Œ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ‰“åŒ…ç¨‹åºï¼ˆMavenæ‰“åŒ…ï¼Œç”ŸæˆJARåŒ…ï¼Œå¦‚hadoop-demo-1.0-SNAPSHOT.jarï¼‰</span>
<span class="hljs-comment"># 2. æäº¤ä»»åŠ¡è‡³YARNè¿è¡Œ</span>
hadoop jar /root/hadoop-demo-1.0-SNAPSHOT.jar com.hadoop.demo.WebLogAnalysisDemo

<span class="hljs-comment"># 3. æŸ¥çœ‹è¿è¡Œç»“æœï¼ˆè¾“å‡ºæ–‡ä»¶part-r-00000ï¼‰</span>
hdfs dfs -<span class="hljs-built_in">cat</span> /output/weblog-analysis/part-r-00000

<span class="hljs-comment"># é¢„æœŸè¾“å‡ºç»“æœï¼ˆå¯¹åº”ç¤ºä¾‹æ—¥å¿—ï¼Œæ¸…æ™°åŒºåˆ†3ç±»æŒ‡æ ‡ï¼‰</span>
ip_192.168.1.100	3
ip_192.168.1.101	1
ip_192.168.1.102	1
status_200	3
status_401	1
status_500	1
url_/about.html	1
url_/api/login	1
url_/api/user	1
url_/index.html	2
</code></pre>
<h4 data-id="heading-35">4.2.4 æ­¥éª¤ 4ï¼šç»“æœè§£è¯»ä¸å¯è§†åŒ–ï¼ˆä¼ä¸šçº§å®æˆ˜å»¶ä¼¸ï¼‰</h4>
<p>ä»»åŠ¡è¿è¡Œå®Œæˆåï¼Œé™¤äº†é€šè¿‡å‘½ä»¤è¡ŒæŸ¥çœ‹ç»“æœï¼Œè¿˜å¯ç»“åˆå®é™…ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè§£è¯»ï¼ŒåŒæ—¶å¯å°†ç»“æœå¯¼å‡ºè‡³æœ¬åœ°ï¼Œé€šè¿‡ Excelã€Python ç­‰å·¥å…·è¿›è¡Œå¯è§†åŒ–åˆ†æï¼Œæå‡æ•°æ®å¯è¯»æ€§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å°†ç»“æœæ–‡ä»¶ä¸‹è½½è‡³æœ¬åœ°ï¼Œä¾¿äºåç»­åˆ†æ</span>
hdfs dfs -get /output/weblog-analysis/part-r-00000 /root/weblog-result.txt

<span class="hljs-comment"># 2. ç»“æœè§£è¯»ï¼ˆè´´åˆä¸šåŠ¡åœºæ™¯ï¼‰</span>
<span class="hljs-comment"># â‘  IPè®¿é—®Top3ï¼š192.168.1.100è®¿é—®3æ¬¡ï¼Œæ¨æµ‹ä¸ºé«˜é¢‘è®¿é—®ç”¨æˆ·ï¼Œéœ€å…³æ³¨æ˜¯å¦å­˜åœ¨å¼‚å¸¸è®¿é—®ï¼›</span>
<span class="hljs-comment"># â‘¡ URLè®¿é—®ï¼š/index.htmlè®¿é—®2æ¬¡ï¼ˆæœ€é«˜ï¼‰ï¼Œè¯´æ˜è¯¥é¡µé¢æ˜¯æ ¸å¿ƒå…¥å£ï¼Œå¯ä¼˜åŒ–é¡µé¢æ€§èƒ½ï¼›</span>
<span class="hljs-comment"># â‘¢ çŠ¶æ€ç ï¼š200ï¼ˆæ­£å¸¸ï¼‰3æ¬¡ï¼Œ401ï¼ˆæœªæˆæƒï¼‰ã€500ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰å„1æ¬¡ï¼Œéœ€æ’æŸ¥401å¯¹åº”çš„ç™»å½•æƒé™é—®é¢˜ã€500å¯¹åº”çš„æ¥å£å¼‚å¸¸ã€‚</span>
</code></pre>
<p>å¯è§†åŒ–å»¶ä¼¸ï¼ˆPython ç®€å•ç¤ºä¾‹ï¼Œè¯»å–æœ¬åœ°ç»“æœæ–‡ä»¶ç”ŸæˆæŸ±çŠ¶å›¾ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># è¯»å–ç»“æœæ–‡ä»¶</span>
data = []
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"/root/weblog-result.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
        key, count = line.strip().split(<span class="hljs-string">"\t"</span>)
        data.append([key, <span class="hljs-built_in">int</span>(count)])

<span class="hljs-comment"># è½¬æ¢ä¸ºDataFrameï¼ŒæŒ‰ç±»å‹åˆ†ç»„</span>
df = pd.DataFrame(data, columns=[<span class="hljs-string">"key"</span>, <span class="hljs-string">"count"</span>])
df[<span class="hljs-string">"type"</span>] = df[<span class="hljs-string">"key"</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">"_"</span>).<span class="hljs-built_in">str</span>[<span class="hljs-number">0</span>]
df[<span class="hljs-string">"value"</span>] = df[<span class="hljs-string">"key"</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">"_"</span>).<span class="hljs-built_in">str</span>[<span class="hljs-number">1</span>]

<span class="hljs-comment"># ç»˜åˆ¶IPè®¿é—®æ¬¡æ•°æŸ±çŠ¶å›¾</span>
ip_data = df[df[<span class="hljs-string">"type"</span>] == <span class="hljs-string">"ip"</span>]
plt.bar(ip_data[<span class="hljs-string">"value"</span>], ip_data[<span class="hljs-string">"count"</span>], color=<span class="hljs-string">"#1f77b4"</span>)
plt.title(<span class="hljs-string">"Webæ—¥å¿—IPè®¿é—®æ¬¡æ•°ç»Ÿè®¡"</span>)
plt.xlabel(<span class="hljs-string">"IPåœ°å€"</span>)
plt.ylabel(<span class="hljs-string">"è®¿é—®æ¬¡æ•°"</span>)
plt.xticks(rotation=<span class="hljs-number">45</span>)
plt.savefig(<span class="hljs-string">"/root/ip_access_count.png"</span>, dpi=<span class="hljs-number">300</span>, bbox_inches=<span class="hljs-string">"tight"</span>)
plt.close()

<span class="hljs-comment"># ç»˜åˆ¶çŠ¶æ€ç ç»Ÿè®¡æŸ±çŠ¶å›¾</span>
status_data = df[df[<span class="hljs-string">"type"</span>] == <span class="hljs-string">"status"</span>]
plt.bar(status_data[<span class="hljs-string">"value"</span>], status_data[<span class="hljs-string">"count"</span>], color=<span class="hljs-string">"#ff7f0e"</span>)
plt.title(<span class="hljs-string">"Webæ—¥å¿—HTTPçŠ¶æ€ç ç»Ÿè®¡"</span>)
plt.xlabel(<span class="hljs-string">"çŠ¶æ€ç "</span>)
plt.ylabel(<span class="hljs-string">"å‡ºç°æ¬¡æ•°"</span>)
plt.savefig(<span class="hljs-string">"/root/status_count.png"</span>, dpi=<span class="hljs-number">300</span>, bbox_inches=<span class="hljs-string">"tight"</span>)
plt.close()
</code></pre>
<h4 data-id="heading-36">4.2.5 æ­¥éª¤ 5ï¼šæ¡ˆä¾‹ä¼˜åŒ–ï¼ˆå®æˆ˜è¿›é˜¶ï¼Œæå‡æ€§èƒ½ï¼‰</h4>
<p>ä¸Šè¿°åŸºç¡€æ¡ˆä¾‹å¯æ»¡è¶³ç®€å•æ—¥å¿—åˆ†æéœ€æ±‚ï¼Œé’ˆå¯¹ä¼ä¸šçº§æµ·é‡æ—¥å¿—ï¼ˆå¦‚ TB çº§ï¼‰ï¼Œéœ€è¿›è¡Œä»¥ä¸‹ä¼˜åŒ–ï¼Œæå‡ MapReduce ä»»åŠ¡è¿è¡Œæ•ˆç‡ï¼š</p>
<ol>
<li>â€‹<strong>è¾“å…¥æ•°æ®åˆ†ç‰‡ä¼˜åŒ–</strong>â€‹ï¼šHadoop é»˜è®¤æŒ‰ 128MB åˆ†ç‰‡ï¼Œè‹¥æ—¥å¿—æ–‡ä»¶è¿‡å°ï¼ˆå¦‚ KB çº§ï¼‰ï¼Œä¼šäº§ç”Ÿå¤§é‡å°åˆ†ç‰‡ï¼Œå¢åŠ è°ƒåº¦å¼€é”€ã€‚å¯é€šè¿‡åˆå¹¶å°æ–‡ä»¶ï¼ˆhdfs dfs -getmergeï¼‰ï¼Œæˆ–è°ƒæ•´ mapreduce.input.fileinputformat.split.size å‚æ•°ï¼Œè®¾ç½®åˆç†åˆ†ç‰‡å¤§å°ï¼ˆå¦‚ 256MBï¼‰ã€‚</li>
<li>â€‹<strong>Combiner ä¼˜åŒ–</strong>â€‹ï¼šåœ¨ Map é˜¶æ®µæ·»åŠ  Combinerï¼ˆå±€éƒ¨èšåˆï¼‰ï¼Œå‡å°‘ Map è¾“å‡ºæ•°æ®é‡ï¼Œé™ä½ Shuffle é˜¶æ®µçš„ç½‘ç»œä¼ è¾“å‹åŠ›ã€‚åªéœ€åœ¨ Driver ç±»ä¸­æ·»åŠ ä¸€è¡Œé…ç½®ï¼š<code>job.setCombinerClass(WebLogReducer.class);</code>ï¼Œå¤ç”¨ Reduce ç±»çš„èšåˆé€»è¾‘ã€‚</li>
<li>â€‹<strong>Reduce æ•°é‡ä¼˜åŒ–</strong>â€‹ï¼šé»˜è®¤ Reduce æ•°é‡ä¸º 1ï¼Œæµ·é‡æ—¥å¿—åœºæ™¯ä¸‹ä¼šå¯¼è‡´ Reduce ä»»åŠ¡å¡é¡¿ã€‚å¯é€šè¿‡ <code>job.setNumReduceTasks(3);</code> è®¾ç½® Reduce æ•°é‡ï¼ˆå»ºè®®ä¸é›†ç¾¤ CPU æ ¸å¿ƒæ•°åŒ¹é…ï¼‰ï¼Œå®ç°å¹¶è¡Œèšåˆã€‚</li>
<li>â€‹<strong>æ•°æ®è¿‡æ»¤ä¼˜åŒ–</strong>â€‹ï¼šåœ¨ Map é˜¶æ®µè¿‡æ»¤æ— æ•ˆæ—¥å¿—ï¼ˆå¦‚ç©ºè¡Œã€å¼‚å¸¸æ ¼å¼æ—¥å¿—ï¼‰ï¼Œå‡å°‘ä¸å¿…è¦çš„è®¡ç®—å¼€é”€ï¼Œå‰æ–‡ä»£ç ä¸­å·²æ·»åŠ ç©ºè¡Œè¿‡æ»¤ï¼Œå¯è¿›ä¸€æ­¥æ‰©å±•å¼‚å¸¸æ ¼å¼åˆ¤æ–­ï¼ˆå¦‚æ­£åˆ™åŒ¹é…æ—¥å¿—æ ¼å¼ï¼‰ã€‚</li>
</ol>
<p>ä¼˜åŒ–æç¤ºï¼šCombiner ä»…é€‚ç”¨äºâ€œå¯å±€éƒ¨èšåˆã€ä¸å½±å“æœ€ç»ˆç»“æœâ€çš„åœºæ™¯ï¼ˆå¦‚æ±‚å’Œã€è®¡æ•°ï¼‰ï¼Œè‹¥ä¸ºæ±‚å¹³å‡å€¼ç­‰åœºæ™¯ï¼Œä¸å¯ä½¿ç”¨ Combinerï¼Œå¦åˆ™ä¼šå¯¼è‡´ç»“æœé”™è¯¯ã€‚</p>
<h2 data-id="heading-37">äº”ã€Hadoop å®æˆ˜å¸¸è§é—®é¢˜ä¸è¸©å‘è§£å†³æ–¹æ¡ˆï¼ˆé‡ä¸­ä¹‹é‡ï¼‰</h2>
<p>å®æˆ˜ä¸­ï¼Œç¯å¢ƒæ­å»ºã€ç»„ä»¶è¿è¡Œã€ä»»åŠ¡æäº¤è¿‡ç¨‹ä¸­éš¾å…å‡ºç°å„ç§é—®é¢˜ï¼Œæœ¬èŠ‚æ±‡æ€»é«˜é¢‘è¸©å‘åœºæ™¯ï¼Œæä¾›å¯ç›´æ¥å¤ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œé¿å…å¼€å‘è€…èµ°å¼¯è·¯ï¼Œè¦†ç›–å‰æ–‡æ‰€æœ‰å®æ“ç¯èŠ‚ã€‚</p>
<h3 data-id="heading-38">5.1 ç¯å¢ƒæ­å»ºç±»é—®é¢˜</h3>
<ul>
<li>â€‹<strong>é—®é¢˜ 1</strong>â€‹ï¼šå¯åŠ¨ Hadoop æ—¶ï¼Œå‡ºç°â€œJAVA_HOME is not set and could not be foundâ€æŠ¥é”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šåœ¨ <code>$HADOOP_HOME/etc/hadoop/hadoop-env.sh</code> æ–‡ä»¶ä¸­ï¼Œæ‰‹åŠ¨æŒ‡å®š JAVA_HOME è·¯å¾„ï¼š<code>export JAVA_HOME=/usr/local/jdk1.8.0_202</code>ï¼Œä¿å­˜åé‡å¯æœåŠ¡ã€‚</li>
<li>â€‹<strong>é—®é¢˜ 2</strong>â€‹ï¼šé›†ç¾¤èŠ‚ç‚¹å…å¯†ç™»å½•å¤±è´¥ï¼Œæç¤ºâ€œPermission denied (publickey,gssapi-keyex,gssapi-with-mic,password)â€ã€‚ è§£å†³æ–¹æ¡ˆï¼šâ‘  æ£€æŸ¥å¯†é’¥å¯¹ç”Ÿæˆæ˜¯å¦æ­£ç¡®ï¼ˆ~/.ssh ç›®å½•ä¸‹æ˜¯å¦æœ‰ id_rsa å’Œ id_rsa.pub æ–‡ä»¶ï¼‰ï¼›â‘¡ æ£€æŸ¥å…¬é’¥æ˜¯å¦æ­£ç¡®åˆ†å‘è‡³ä»èŠ‚ç‚¹çš„~/.ssh/authorized_keys æ–‡ä»¶ï¼›â‘¢ ç¡®ä¿.ssh ç›®å½•æƒé™ä¸º 700ï¼Œauthorized_keys æ–‡ä»¶æƒé™ä¸º 600ï¼ˆchmod 700 ~/.ssh; chmod 600 ~/.ssh/authorized_keysï¼‰ã€‚</li>
<li>â€‹<strong>é—®é¢˜ 3</strong>â€‹ï¼šHDFS æ ¼å¼åŒ–åï¼ŒDataNode æ— æ³•å¯åŠ¨ï¼Œæ—¥å¿—æç¤ºâ€œInvalid namespaceIDâ€ã€‚ è§£å†³æ–¹æ¡ˆï¼šè¯¥é—®é¢˜æ˜¯å› ä¸º DataNode çš„ namespaceID ä¸ NameNode ä¸ä¸€è‡´ï¼ˆé‡å¤æ ¼å¼åŒ–å¯¼è‡´ï¼‰ã€‚åˆ é™¤æ‰€æœ‰èŠ‚ç‚¹çš„$HADOOP_HOME/hdfs/dataã€$HADOOP_HOME/hdfs/nameã€$HADOOP_HOME/tmp ç›®å½•ï¼Œé‡æ–°æ ¼å¼åŒ– NameNodeï¼Œå†å¯åŠ¨æœåŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-39">5.2 MapReduce ä»»åŠ¡ç±»é—®é¢˜</h3>
<ul>
<li>â€‹<strong>é—®é¢˜ 1</strong>â€‹ï¼šæäº¤ MapReduce ä»»åŠ¡æ—¶ï¼Œå‡ºç°â€œOutput directory hdfs://hadoop-master:9000/output/xxx already existsâ€æŠ¥é”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šåˆ é™¤å·²å­˜åœ¨çš„è¾“å‡ºç›®å½•ï¼Œå‘½ä»¤ï¼š<code>hdfs dfs -rm -r /output/xxx</code>ï¼ŒHadoop ç¦æ­¢è¦†ç›–è¾“å‡ºç›®å½•ï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚</li>
<li>â€‹<strong>é—®é¢˜ 2</strong>â€‹ï¼šä»»åŠ¡è¿è¡Œä¸­ï¼ŒMap æˆ– Reduce é˜¶æ®µæŠ¥é”™â€œClassNotFoundException: com.hadoop.demo.WordCountDemoâ€ã€‚ è§£å†³æ–¹æ¡ˆï¼šâ‘  æ£€æŸ¥ JAR åŒ…æ˜¯å¦æ­£ç¡®æ‰“åŒ…ï¼Œç¡®ä¿æŒ‡å®šçš„ä¸»ç±»è·¯å¾„ï¼ˆcom.hadoop.demo.WordCountDemoï¼‰ä¸ä»£ç åŒ…ç»“æ„ä¸€è‡´ï¼›â‘¡ è‹¥ä¾èµ–ç¼ºå¤±ï¼Œä½¿ç”¨ Maven çš„ assembly æ’ä»¶æ‰“åŒ… fatjarï¼ŒåŒ…å«æ‰€æœ‰ä¾èµ–åŒ…ã€‚</li>
<li>â€‹<strong>é—®é¢˜ 3</strong>â€‹ï¼šä»»åŠ¡è¿è¡Œç¼“æ…¢ï¼ŒShuffle é˜¶æ®µè€—æ—¶è¿‡é•¿ã€‚ è§£å†³æ–¹æ¡ˆï¼šâ‘  å¯ç”¨ Combiner å±€éƒ¨èšåˆï¼›â‘¡ è°ƒæ•´ Shuffle ç¼“å†²åŒºå¤§å°ï¼ˆmapreduce.task.io.sort.mbï¼Œé»˜è®¤ 100MBï¼Œå¯å¢è‡³ 200MBï¼‰ï¼›â‘¢ åˆå¹¶å°è¾“å…¥æ–‡ä»¶ï¼Œå‡å°‘ Map ä»»åŠ¡æ•°é‡ã€‚</li>
</ul>
<h3 data-id="heading-40">5.3 YARN èµ„æºè°ƒåº¦ç±»é—®é¢˜</h3>
<ul>
<li>â€‹<strong>é—®é¢˜ 1</strong>â€‹ï¼šä»»åŠ¡æäº¤åï¼Œä¸€ç›´å¤„äºâ€œAcceptedâ€çŠ¶æ€ï¼Œæ— æ³•è¿›å…¥â€œRunningâ€çŠ¶æ€ã€‚ è§£å†³æ–¹æ¡ˆï¼šé›†ç¾¤èµ„æºä¸è¶³ï¼Œæ£€æŸ¥ YARN é…ç½®çš„å†…å­˜ã€CPU æ˜¯å¦åˆç†ï¼Œæˆ–å…³é—­å…¶ä»–å ç”¨èµ„æºçš„ä»»åŠ¡ï¼›è‹¥èµ„æºå……è¶³ï¼Œè°ƒæ•´ yarn.scheduler.minimum-allocation-mb å‚æ•°ï¼Œå‡å°å•ä¸ªä»»åŠ¡çš„æœ€å°å†…å­˜åˆ†é…ã€‚</li>
<li>â€‹<strong>é—®é¢˜ 2</strong>â€‹ï¼šNodeManager å¯åŠ¨å¤±è´¥ï¼Œæ—¥å¿—æç¤ºâ€œCannot allocate memoryâ€ã€‚ è§£å†³æ–¹æ¡ˆï¼šyarn.nodemanager.resource.memory-mb é…ç½®çš„å†…å­˜è¶…è¿‡æœåŠ¡å™¨å®é™…å¯ç”¨å†…å­˜ï¼Œä¿®æ”¹è¯¥å‚æ•°ä¸ºæœåŠ¡å™¨å†…å­˜çš„ 70%-80%ï¼ˆå¦‚ 8G å†…å­˜è®¾ä¸º 6144MBï¼‰ï¼Œé‡å¯ YARN æœåŠ¡ã€‚</li>
</ul>
<h2 data-id="heading-41">å…­ã€Hadoop å®æˆ˜æ€»ç»“ä¸è¿›é˜¶æ–¹å‘</h2>
<p>æœ¬æ–‡ä» Hadoop æ ¸å¿ƒè®¤çŸ¥ã€ç¯å¢ƒæ­å»ºã€ç»„ä»¶å®æ“ï¼Œåˆ°ä¼ä¸šçº§ Web æ—¥å¿—åˆ†ææ¡ˆä¾‹ï¼Œå®Œæ•´è¦†ç›–äº† Hadoop å®æˆ˜çš„æ ¸å¿ƒç¯èŠ‚ï¼Œæ‰€æœ‰æ¡ˆä¾‹å‡ç»è¿‡å®æµ‹éªŒè¯ï¼Œå¯ç›´æ¥åº”ç”¨äºå®é™…å¼€å‘ä¸éƒ¨ç½²ã€‚æ€»ç»“æ ¸å¿ƒè¦ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>Hadoop å®æˆ˜çš„æ ¸å¿ƒæ˜¯â€œç†è§£ä¸‰å¤§ç»„ä»¶ååŒé€»è¾‘â€ï¼šHDFS è´Ÿè´£å­˜å‚¨ã€MapReduce è´Ÿè´£è®¡ç®—ã€YARN è´Ÿè´£èµ„æºè°ƒåº¦ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯ï¼ŒæŒæ¡å…¶åº•å±‚äº¤äº’é€»è¾‘ï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜ã€‚</li>
<li>ç¯å¢ƒæ­å»ºæ˜¯åŸºç¡€ï¼Œé‡ç‚¹å…³æ³¨â€œJDK é…ç½®ã€å…å¯†ç™»å½•ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¿®æ”¹â€ï¼Œè¿™ä¸‰ä¸ªç¯èŠ‚æ˜¯è¸©å‘é‡ç¾åŒºï¼Œä¸¥æ ¼æŒ‰ç…§æœ¬æ–‡æ­¥éª¤æ“ä½œï¼Œå¯é¿å… 80% çš„ç¯å¢ƒé—®é¢˜ã€‚</li>
<li>ç»„ä»¶å®æ“éœ€â€œå¤šç»ƒå¤šè¯•â€ï¼ŒHDFS å‘½ä»¤è¡Œã€Java APIï¼ŒMapReduce ç¨‹åºå¼€å‘ã€YARN èµ„æºé…ç½®ï¼Œéƒ½æ˜¯ä¼ä¸šé¢è¯•ä¸å®æˆ˜çš„é‡ç‚¹ï¼Œç†Ÿç»ƒæŒæ¡é«˜é¢‘æ“ä½œï¼Œèƒ½æå‡å¼€å‘æ•ˆç‡ã€‚</li>
<li>ä¼ä¸šçº§å®æˆ˜éœ€â€œå…¼é¡¾åŠŸèƒ½ä¸æ€§èƒ½â€ï¼ŒåŸºç¡€æ¡ˆä¾‹ä»…èƒ½æ»¡è¶³å…¥é—¨éœ€æ±‚ï¼Œå®é™…å¤„ç†æµ·é‡æ•°æ®æ—¶ï¼Œéœ€ç»“åˆæ•°æ®åˆ†ç‰‡ã€Combinerã€Reduce æ•°é‡ä¼˜åŒ–ç­‰æŠ€å·§ï¼Œæå‡ä»»åŠ¡è¿è¡Œæ•ˆç‡ã€‚</li>
</ol>
<h3 data-id="heading-42">è¿›é˜¶å­¦ä¹ æ–¹å‘ï¼ˆè´´åˆä¼ä¸šéœ€æ±‚ï¼‰</h3>
<p>æŒæ¡æœ¬æ–‡å†…å®¹åï¼Œå¯å‘ä»¥ä¸‹æ–¹å‘è¿›é˜¶ï¼Œæå‡è‡ªèº«ç«äº‰åŠ›ï¼Œé€‚é…ä¼ä¸šæ›´é«˜é˜¶çš„å¤§æ•°æ®éœ€æ±‚ï¼š</p>
<ul>
<li>â€‹<strong>Hadoop ç”Ÿæ€æ‰©å±•</strong>â€‹ï¼šå­¦ä¹  Hiveï¼ˆæ•°æ®ä»“åº“ï¼‰ã€HBaseï¼ˆåˆ†å¸ƒå¼æ•°æ®åº“ï¼‰ã€ZooKeeperï¼ˆåˆ†å¸ƒå¼åè°ƒï¼‰ã€Flumeï¼ˆæ—¥å¿—é‡‡é›†ï¼‰ï¼ŒæŒæ¡ Hadoop ç”Ÿæ€çš„å®Œæ•´é“¾è·¯ï¼Œå®ç°â€œæ•°æ®é‡‡é›† â†’ å­˜å‚¨ â†’ è®¡ç®— â†’ åˆ†æ â†’ å¯è§†åŒ–â€å…¨æµç¨‹è½åœ°ã€‚</li>
<li>â€‹<strong>è®¡ç®—æ¡†æ¶è¿›é˜¶</strong>â€‹ï¼šMapReduce é€‚åˆç¦»çº¿è®¡ç®—ï¼Œå­¦ä¹  Sparkã€Flink ç­‰æ–°ä¸€ä»£è®¡ç®—æ¡†æ¶ï¼ŒæŒæ¡å®æ—¶è®¡ç®—ã€æ‰¹æµä¸€ä½“è®¡ç®—ï¼Œé€‚é…ä¼ä¸šå®æ—¶æ—¥å¿—åˆ†æã€å®æ—¶æ•°æ®æ¨é€ç­‰åœºæ™¯ã€‚</li>
<li>â€‹<strong>Hadoop é›†ç¾¤è¿ç»´</strong>â€‹ï¼šå­¦ä¹  Hadoop é›†ç¾¤ç›‘æ§ï¼ˆAmbariã€Prometheusï¼‰ã€æ•…éšœæ’æŸ¥ã€é›†ç¾¤æ‰©å®¹ã€æ•°æ®å¤‡ä»½ä¸æ¢å¤ï¼Œæˆä¸ºå¤§æ•°æ®è¿ç»´ä¸å¼€å‘å¤åˆå‹äººæ‰ã€‚</li>
<li>â€‹<strong>è°ƒä¼˜æ·±åº¦è¿›é˜¶</strong>â€‹ï¼šæ·±å…¥å­¦ä¹  HDFS å…ƒæ•°æ®ç®¡ç†ã€MapReduce Shuffle æœºåˆ¶ã€YARN è°ƒåº¦ç®—æ³•ï¼ŒæŒæ¡æ›´ç²¾ç»†çš„è°ƒä¼˜æŠ€å·§ï¼Œåº”å¯¹ TB/PB çº§æµ·é‡æ•°æ®å¤„ç†åœºæ™¯ã€‚</li>
</ul>
<p>æœ€åï¼Œå¤§æ•°æ®å®æˆ˜çš„æ ¸å¿ƒæ˜¯â€œç†è®ºç»“åˆå®è·µâ€ï¼Œæœ¬æ–‡æä¾›äº†å®Œæ•´çš„å®æ“æŒ‡å—ï¼Œå»ºè®®å¤§å®¶åŠ¨æ‰‹æ­å»ºç¯å¢ƒã€è¿è¡Œæ¡ˆä¾‹ã€æ’æŸ¥é—®é¢˜ï¼Œåœ¨å®è·µä¸­ç§¯ç´¯ç»éªŒï¼Œæ‰èƒ½çœŸæ­£æŒæ¡ Hadoop æŠ€æœ¯ï¼Œå°†å…¶è½¬åŒ–ä¸ºè‡ªèº«çš„æ ¸å¿ƒèƒ½åŠ›ã€‚å¦‚æœåœ¨å®æ“è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ç•™è¨€äº¤æµï¼Œæˆ‘ä¼šåŠæ—¶å›å¤å¹¶æä¾›è§£å†³æ–¹æ¡ˆ ï½</p>
<p>å…³æ³¨æˆ‘çš„CSDNï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F" target="_blank" title="https://" ref="nofollow noopener noreferrer">blog.csdn.net/qq_30095907â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æ¯”è¾ƒåŠæœªæ¥å±•æœ›]]></title>    <link>https://juejin.cn/post/7605042079669223439</link>    <guid>https://juejin.cn/post/7605042079669223439</guid>    <pubDate>2026-02-11T02:33:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605042079669223439" data-draft-id="7604964464689840191" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æ¯”è¾ƒåŠæœªæ¥å±•æœ›"/> <meta itemprop="keywords" content="Agent,AIç¼–ç¨‹,LLM"/> <meta itemprop="datePublished" content="2026-02-11T02:33:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­—èŠ‚æ¶æ„å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1530175206729016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æ¯”è¾ƒåŠæœªæ¥å±•æœ›
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/6984296204297306148/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ce530e92b8f474a93c7599c70cb7e25~tplv-k3u1fbpfcp-watermark.image" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/6984296204297306148/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="å­—èŠ‚æ¶æ„å‰ç«¯" class="title" data-v-d326b38e="">å­—èŠ‚æ¶æ„å‰ç«¯</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-02-11T02:33:03.000Z" title="Wed Feb 11 2026 02:33:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-02-11
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»42åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              FE @å­—èŠ‚è·³åŠ¨
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>äººå·¥æ™ºèƒ½æŠ€æœ¯çš„é£é€Ÿå‘å±•æ­£åœ¨é‡å¡‘è½¯ä»¶ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°æ–¹å¼ã€‚ä½œä¸º AI é¢†åŸŸçš„å‰æ²¿ç ”ç©¶æ–¹å‘ï¼Œå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼ˆMulti-Agent Collaboration Systemsï¼‰é€šè¿‡ç»„ç»‡å¤šä¸ªå…·æœ‰ä¸åŒèƒ½åŠ›å’Œä¸“é•¿çš„æ™ºèƒ½ä½“å…±åŒå·¥ä½œï¼Œä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›äº†æ–°çš„èŒƒå¼ã€‚è¿™äº›ç³»ç»Ÿä¸ä»…å±•ç¤ºäº†å¼ºå¤§çš„é—®é¢˜è§£å†³èƒ½åŠ›ï¼Œè¿˜åœ¨è½¯ä»¶æ¶æ„è®¾è®¡ä¸Šå‘ˆç°å‡ºä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æƒŠäººçš„ç›¸ä¼¼æ€§å’Œåˆ›æ–°æ€§ã€‚</p>
<blockquote>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿæ˜¯ AI é¢†åŸŸçš„é‡è¦å‘å±•æ–¹å‘ï¼Œé€šè¿‡ç»„ç»‡å¤šä¸ªä¸“ä¸šåŒ–æ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå®ç°å¤æ‚é—®é¢˜çš„é«˜æ•ˆè§£å†³ã€‚è¿™ç§åä½œæ¨¡å¼ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æœ‰ç€æ·±åˆ»çš„è”ç³»å’Œåˆ›æ–°çš„çªç ´ã€‚</p>
</blockquote>
<p>å¤šæ™ºèƒ½ä½“åä½œåœ¨ AI é¢†åŸŸå…·æœ‰é‡è¦æ„ä¹‰ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>å¤æ‚é—®é¢˜åˆ†è§£</strong>ï¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯ç”±ä¸“ä¸šæ™ºèƒ½ä½“å¤„ç†çš„å­ä»»åŠ¡ï¼Œç±»ä¼¼äºè½¯ä»¶å·¥ç¨‹ä¸­çš„"åˆ†è€Œæ²»ä¹‹"æ€æƒ³ã€‚</li>
<li><strong>ä¸“ä¸šåŒ–ä¸åä½œ</strong>ï¼šä¸åŒæ™ºèƒ½ä½“ä¸“æ³¨äºç‰¹å®šé¢†åŸŸï¼Œé€šè¿‡åä½œå®ç°æ•´ä½“ç›®æ ‡ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡å’Œè´¨é‡ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šé€šè¿‡æ·»åŠ æ–°çš„æ™ºèƒ½ä½“æˆ–è°ƒæ•´ç°æœ‰æ™ºèƒ½ä½“çš„åä½œæ–¹å¼ï¼Œç³»ç»Ÿå¯ä»¥é€‚åº”æ›´å¹¿æ³›çš„é—®é¢˜åŸŸã€‚</li>
<li><strong>é²æ£’æ€§</strong>ï¼šå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­çš„å†—ä½™å’Œåˆ†å¸ƒå¼ç‰¹æ€§æé«˜äº†ç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›å’Œç¨³å®šæ€§ã€‚</li>
<li><strong>æ¨¡æ‹Ÿäººç±»ç»„ç»‡</strong>ï¼šè¿™äº›ç³»ç»Ÿåœ¨æŸç§ç¨‹åº¦ä¸Šæ¨¡æ‹Ÿäº†äººç±»ç»„ç»‡çš„åä½œæ¨¡å¼ï¼Œä¸ºç ”ç©¶äººç±»åä½œæä¾›äº†æ–°è§†è§’ã€‚</li>
</ol>
<p>æœ¬æ–‡å°†æ·±å…¥åˆ†æä¸‰ä¸ªä»£è¡¨æ€§çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼šMetaGPTã€LangGraph å’Œ A2Aï¼Œæ¢è®¨å®ƒä»¬çš„æ ¸å¿ƒæœºåˆ¶ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„å…³è”ï¼Œå¹¶åŸºäºè¿™äº›åˆ†æå¯¹å¤šæ™ºèƒ½ä½“åä½œçš„æœªæ¥å‘å±•è¿›è¡Œå±•æœ›ã€‚</p>
<h2 data-id="heading-1">2. ä¸‰å¤§å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿåˆ†æ</h2>
<h3 data-id="heading-2">MetaGPT</h3>
<p>åŸºäºè§’è‰²å’Œæ ‡å‡†æ“ä½œç¨‹åºï¼ˆSOPï¼‰çš„å¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼Œæ¨¡æ‹Ÿäººç±»è½¯ä»¶å…¬å¸çš„ç»„ç»‡ç»“æ„å’Œå·¥ä½œæµç¨‹ã€‚</p>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼špub/sub æ¶ˆæ¯æœºåˆ¶</p>
<h3 data-id="heading-3">LangGraph</h3>
<p>LangChain å›¢é˜Ÿå¼€å‘çš„æ‰©å±•åº“ï¼Œè§£å†³ä¼ ç»Ÿ LangChain ä¸­çš„å¾ªç¯èƒ½åŠ›å’Œé»‘ç›’è¿è¡Œé—®é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼šagent è‡ªè°ƒç”¨è½¬æ´¾æµå¼è°ƒç”¨</p>
<h3 data-id="heading-4">A2A</h3>
<p>è°·æ­Œå¼€æºçš„æ ‡å‡†æ™ºèƒ½ä½“äº¤äº’åè®®ï¼Œæ‰“ç ´ç³»ç»Ÿå­¤å²›ï¼Œå®ç°ä¸åŒæ¡†æ¶æ™ºèƒ½ä½“çš„äº’æ“ä½œã€‚</p>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼šAgent å‘ç°å’Œè°ƒåº¦</p>
<h3 data-id="heading-5">2.1 MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶</h3>
<p>MetaGPT æ˜¯ä¸€ä¸ªåŸºäºè§’è‰²å’Œæ ‡å‡†æ“ä½œç¨‹åºï¼ˆSOPï¼‰çš„å¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯æ¨¡æ‹Ÿäººç±»è½¯ä»¶å…¬å¸çš„ç»„ç»‡ç»“æ„å’Œå·¥ä½œæµç¨‹ã€‚</p>
<h4 data-id="heading-6">2.1.1 æ ¸å¿ƒæ¶æ„ä¸å·¥ä½œåŸç†</h4>
<p>MetaGPT çš„æ¶æ„ç”±ä¸¤ä¸ªä¸»è¦å±‚æ¬¡ç»„æˆï¼šåŸºç¡€ç»„ä»¶å±‚å’Œåä½œå±‚ã€‚åŸºç¡€ç»„ä»¶å±‚æä¾›äº†æ™ºèƒ½ä½“æ“ä½œå’Œç³»ç»ŸèŒƒå›´å†…ä¿¡æ¯äº¤æµçš„æ ¸å¿ƒæ„ä»¶ï¼ŒåŒ…æ‹¬ç¯å¢ƒï¼ˆEnvironmentï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰ã€è§’è‰²ï¼ˆRolesï¼‰ã€åŠ¨ä½œï¼ˆActionsï¼‰å’Œå·¥å…·ï¼ˆToolsï¼‰ã€‚åä½œå±‚åˆ™åœ¨æ­¤åŸºç¡€ä¸Šåè°ƒå„ä¸ªæ™ºèƒ½ä½“å…±åŒè§£å†³å¤æ‚é—®é¢˜ã€‚</p>
<p>MetaGPT çš„å·¥ä½œæµç¨‹é€šå¸¸éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ä»»åŠ¡éœ€æ±‚</li>
<li>äº§å“ç»ç†è§’è‰²åˆ†æéœ€æ±‚å¹¶åˆ›å»º PRDï¼ˆäº§å“éœ€æ±‚æ–‡æ¡£ï¼‰</li>
<li>æ¶æ„å¸ˆè§’è‰²æ ¹æ® PRD è®¾è®¡ç³»ç»Ÿæ¶æ„</li>
<li>å·¥ç¨‹å¸ˆè§’è‰²æ ¹æ®æ¶æ„è®¾è®¡å®ç°ä»£ç </li>
<li>QA è§’è‰²æµ‹è¯•å’ŒéªŒè¯ä»£ç è´¨é‡</li>
<li>å„è§’è‰²é€šè¿‡æ¶ˆæ¯ä¼ é€’åä½œå®Œæˆæ•´ä¸ªè½¯ä»¶å¼€å‘æµç¨‹</li>
</ol>
<h4 data-id="heading-7">2.1.2 pub/sub æ¶ˆæ¯æœºåˆ¶è¯¦è§£</h4>
<blockquote>
<p>MetaGPT çš„æ ¸å¿ƒé€šä¿¡æœºåˆ¶æ˜¯åŸºäº<strong>å‘å¸ƒ-è®¢é˜…ï¼ˆpub/subï¼‰æ¨¡å¼</strong>å®ç°çš„ï¼Œé€šè¿‡ç¯å¢ƒï¼ˆEnvironmentï¼‰å’Œæ¶ˆæ¯ï¼ˆMessageï¼‰ä¸¤ä¸ªå…³é”®æŠ½è±¡æ¦‚å¿µå®ç°æ™ºèƒ½ä½“ä¹‹é—´çš„é«˜æ•ˆé€šä¿¡ä¸åä½œã€‚</p>
</blockquote>
<p>MetaGPT é€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°æ™ºèƒ½ä½“é—´çš„é€šä¿¡å’Œåä½œï¼š</p>
<ol>
<li>
<p><strong>æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“é€šè¿‡<code>_publish</code>æ–¹æ³•å°†æ¶ˆæ¯å‘å¸ƒåˆ°ç¯å¢ƒä¸­</li>
<li>å…¶ä»–æ™ºèƒ½ä½“é€šè¿‡<code>_observe</code>æ–¹æ³•ä»ç¯å¢ƒä¸­è·å–æ¶ˆæ¯</li>
<li>æ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥æ ¹æ®è‡ªå·±çš„è§’è‰²è®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ç±»å‹</li>
</ul>
</li>
<li>
<p><strong>å…±äº«æ¶ˆæ¯æ± </strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰æ™ºèƒ½ä½“å…±äº«ä¸€ä¸ªæ¶ˆæ¯æ± </li>
<li>æ™ºèƒ½ä½“å¯ä»¥é€æ˜åœ°è®¿é—®æ¥è‡ªå…¶ä»–æ™ºèƒ½ä½“çš„æ¶ˆæ¯</li>
<li>è®¢é˜…æœºåˆ¶ä½¿æ™ºèƒ½ä½“æ›´å€¾å‘äºæ¥æ”¶ä¸è‡ªæˆ‘ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>è§’è‰²ä¸“ä¸šåŒ–</strong>ï¼š</p>
<ul>
<li>ä¸åŒè§’è‰²çš„æ™ºèƒ½ä½“è´Ÿè´£ä¸åŒçš„ä¸“ä¸šä»»åŠ¡</li>
<li>æ¯ä¸ªè§’è‰²éƒ½æœ‰æ˜ç¡®å®šä¹‰çš„ç›®æ ‡ã€çº¦æŸå’Œä¸“ä¸šæŠ€èƒ½</li>
<li>è§’è‰²ä¹‹é—´é€šè¿‡æ¶ˆæ¯ä¼ é€’åä½œå®Œæˆå¤æ‚ä»»åŠ¡</li>
</ul>
</li>
</ol>
<p>è¿™ç§åŸºäº pub/sub çš„æ¶ˆæ¯æœºåˆ¶ä½¿å¾— MetaGPT èƒ½å¤Ÿæœ‰æ•ˆåœ°ç»„ç»‡å¤šä¸ªæ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå®ç°å¤æ‚ä»»åŠ¡çš„åˆ†è§£ä¸åä½œå®Œæˆã€‚</p>
<h3 data-id="heading-8">2.2 LangGraph çš„ agent è‡ªè°ƒç”¨è½¬æ´¾æµå¼è°ƒç”¨æ–¹å¼</h3>
<p>LangGraph æ˜¯ LangChain å›¢é˜Ÿå¼€å‘çš„ä¸€ä¸ªæ‰©å±•åº“ï¼Œæ—¨åœ¨è§£å†³ä¼ ç»Ÿ LangChain ä¸­é“¾ï¼ˆChainï¼‰ä¸å…·å¤‡"å¾ªç¯"èƒ½åŠ›å’Œ AgentExecutor è°ƒåº¦çš„ Agent è¿è¡Œè¿‡äº"é»‘ç›’"çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-9">2.2.1 æ ¸å¿ƒæ¶æ„ä¸å·¥ä½œåŸç†</h4>
<p>LangGraph çš„æ ¸å¿ƒæ¶æ„åŸºäºä»¥ä¸‹æ¦‚å¿µï¼š</p>
<ol>
<li><strong>çŠ¶æ€å›¾</strong> <strong>ï¼ˆStateGraphï¼‰</strong> ï¼šLangGraph çš„æ ¸å¿ƒæ˜¯çŠ¶æ€å›¾ï¼Œå®ƒå°†æ™ºèƒ½ä½“çš„å·¥ä½œæµç¨‹å»ºæ¨¡ä¸ºå›¾ç»“æ„ã€‚</li>
<li><strong>çŠ¶æ€ï¼ˆStateï¼‰</strong> ï¼šè¡¨ç¤ºæ•´ä¸ªå›¾è¿è¡Œè¿‡ç¨‹ä¸­çš„çŠ¶æ€æ•°æ®ï¼Œå¯ä»¥ç†è§£ä¸ºåº”ç”¨ç¨‹åºå½“å‰å¿«ç…§ï¼Œä¸ºå›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹æ‰€å…±äº«ã€‚</li>
<li><strong>èŠ‚ç‚¹ï¼ˆNodesï¼‰</strong> ï¼šè¡¨ç¤ºæ™ºèƒ½ä½“çš„å…·ä½“æ‰§è¡Œé€»è¾‘ï¼Œæ¥æ”¶å½“å‰çš„çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œæ‰§è¡Œè®¡ç®—ï¼Œå¹¶è¿”å›æ›´æ–°åçš„çŠ¶æ€ã€‚</li>
<li><strong>è¾¹ï¼ˆEdgesï¼‰</strong> ï¼šè¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œå®šä¹‰äº†ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è½¬æ¢æ¡ä»¶ã€‚</li>
</ol>
<p><strong>LangGraph å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>å®šä¹‰çŠ¶æ€å›¾ç»“æ„ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹å’Œè¾¹</li>
<li>ä¸ºæ¯ä¸ªèŠ‚ç‚¹å®šä¹‰å¤„ç†é€»è¾‘</li>
<li>ä¸ºè¾¹å®šä¹‰æ¡ä»¶è½¬æ¢è§„åˆ™</li>
<li>ç¼–è¯‘å›¾ç»“æ„ç”Ÿæˆå¯æ‰§è¡Œåº”ç”¨</li>
<li>æ‰§è¡Œåº”ç”¨ï¼ŒçŠ¶æ€åœ¨èŠ‚ç‚¹é—´æµåŠ¨</li>
</ol>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å¯è§†åŒ–å·¥ä½œæµç¨‹</li>
<li>ç²¾ç»†æ§åˆ¶æ‰§è¡Œè·¯å¾„</li>
<li>æ”¯æŒå¤æ‚æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯</li>
<li>çŠ¶æ€å…±äº«å’Œä¼ é€’</li>
<li>æµå¼è¾“å‡ºå’Œå®æ—¶åé¦ˆ</li>
</ul>
<h4 data-id="heading-10">2.2.2 agent è‡ªè°ƒç”¨è½¬æ´¾æµå¼è°ƒç”¨æ–¹å¼è¯¦è§£</h4>
<blockquote>
<p>LangGraph é€šè¿‡çŠ¶æ€å›¾æ¨¡å‹å®ç°äº†æ™ºèƒ½ä½“é—´çš„çµæ´»åä½œï¼Œæ”¯æŒæ¡ä»¶åˆ†æ”¯ã€å¾ªç¯å’ŒåŠ¨æ€è°ƒåº¦ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¤æ‚å†³ç­–é€»è¾‘å’Œæµç¨‹æ§åˆ¶çš„åº”ç”¨åœºæ™¯ã€‚</p>
</blockquote>
<p>LangGraph é€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°æ™ºèƒ½ä½“é—´çš„é€šä¿¡å’Œåä½œï¼š</p>
<ol>
<li>
<p><strong>çŠ¶æ€ç®¡ç†</strong>ï¼š</p>
<ul>
<li>ä¸­å¤®çŠ¶æ€å¯¹è±¡ï¼ˆstateï¼‰åœ¨å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¹‹é—´ä¼ é€’</li>
<li>æ¯ä¸ªèŠ‚ç‚¹è¿”å›æ›´æ–°çŠ¶æ€å¯¹è±¡çš„æ“ä½œï¼Œä»è€Œå®ç°çŠ¶æ€çš„æ›´æ–°</li>
<li>çŠ¶æ€åˆå¹¶ï¼šå½“èŠ‚ç‚¹è¿”å›å¯¹çŠ¶æ€çš„æ›´æ–°æ—¶ï¼ŒLangGraph ä¼šæ™ºèƒ½åœ°å°†è¿™äº›æ›´æ–°åˆå¹¶åˆ°å…¨å±€çŠ¶æ€ä¸­</li>
</ul>
</li>
<li>
<p><strong>æ¡ä»¶è¾¹ï¼ˆConditional Edgesï¼‰</strong> ï¼š</p>
<ul>
<li>LangGraph é€šè¿‡è°ƒç”¨è·¯ç”±å‡½æ•°ï¼ˆRouting functionï¼‰æ¥ç¡®å®šä¸‹ä¸€æ­¥å°†æ‰§è¡Œå“ªä¸ªèŠ‚ç‚¹</li>
<li>è·¯ç”±å‡½æ•°æ ¹æ®å½“å‰çŠ¶æ€å†³å®šä¸‹ä¸€æ­¥çš„æ‰§è¡Œè·¯å¾„</li>
<li>è¿™ä½¿å¾— LangGraph èƒ½å¤Ÿå®ç°å¤æ‚çš„æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>æµå¼è°ƒç”¨</strong>ï¼š</p>
<ul>
<li>æ”¯æŒèŠ‚ç‚¹çš„æµå¼è¾“å‡ºï¼Œå®æ—¶è¿”å›æ‰§è¡Œç»“æœ</li>
<li>ä½¿ç”¨ Server-Sent Eventsï¼ˆSSEï¼‰ç­‰æŠ€æœ¯å®ç°å®æ—¶æ•°æ®æµ</li>
<li>å…è®¸åœ¨é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ä¸­æä¾›å³æ—¶åé¦ˆ</li>
</ul>
</li>
<li>
<p><strong>è‡ªè°ƒç”¨è½¬æ´¾é€»è¾‘</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“å¯ä»¥æ ¹æ®ä»»åŠ¡éœ€è¦è‡ªä¸»å†³å®šè°ƒç”¨å…¶ä»–æ™ºèƒ½ä½“æˆ–å·¥å…·</li>
<li>é€šè¿‡çŠ¶æ€å›¾ä¸­çš„æ¡ä»¶è¾¹å®ç°åŠ¨æ€è°ƒåº¦</li>
<li>æ™ºèƒ½ä½“å¯ä»¥æ ¹æ®æ‰§è¡Œç»“æœå†³å®šæ˜¯å¦éœ€è¦é‡æ–°æ‰§è¡ŒæŸäº›èŠ‚ç‚¹</li>
</ul>
</li>
</ol>
<p>è¿™ç§åŸºäºçŠ¶æ€å›¾çš„æµå¼è°ƒç”¨æ–¹å¼ä½¿å¾— LangGraph èƒ½å¤Ÿå®ç°æ›´åŠ çµæ´»å’Œå¯æ§çš„æ™ºèƒ½ä½“åä½œæµç¨‹ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¤æ‚å†³ç­–é€»è¾‘å’Œå¾ªç¯å¤„ç†çš„åº”ç”¨åœºæ™¯ã€‚</p>
<h3 data-id="heading-11">2.3 A2A çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶</h3>
<p>A2Aï¼ˆAgent to Agent Protocolï¼‰æ˜¯ç”±è°·æ­Œäº 2025 å¹´ 4 æœˆå¼€æºçš„ä¸€ç§æ ‡å‡†æ™ºèƒ½ä½“äº¤äº’åè®®ï¼Œæ—¨åœ¨æ‰“ç ´ç³»ç»Ÿå­¤å²›ï¼Œä½¿ä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„ AI æ™ºèƒ½ä½“èƒ½å¤Ÿç›¸äº’é€šä¿¡å’Œåä½œã€‚</p>
<h4 data-id="heading-12">2.3.1 æ ¸å¿ƒæ¶æ„ä¸å·¥ä½œåŸç†</h4>
<p>A2A çš„æ ¸å¿ƒæ¶æ„åŸºäºä»¥ä¸‹ç»„ä»¶ï¼š</p>
<ol>
<li><strong>Agent Card</strong>ï¼šJSON æ ¼å¼çš„æ™ºèƒ½ä½“èƒ½åŠ›æè¿°å¡ç‰‡ï¼Œç”¨äºèƒ½åŠ›å‘ç°å’Œè¯†åˆ«</li>
<li><strong>ä»»åŠ¡å¯¹è±¡ï¼ˆTaskï¼‰</strong> ï¼šå®šä¹‰äº†ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Œæ˜¯æ™ºèƒ½ä½“é—´åä½œçš„æ ¸å¿ƒå•ä½</li>
<li><strong>æ¶ˆæ¯ï¼ˆMessageï¼‰</strong> ï¼šæ™ºèƒ½ä½“é—´äº¤æ¢çš„ä¿¡æ¯å•å…ƒï¼Œå¯åŒ…å«ä¸Šä¸‹æ–‡ã€å›å¤ã€å·¥ä»¶æˆ–ç”¨æˆ·æŒ‡ä»¤</li>
<li><strong>éƒ¨åˆ†ï¼ˆPartsï¼‰</strong> ï¼šæ¶ˆæ¯ä¸­çš„å®Œæ•´å†…å®¹ç‰‡æ®µï¼Œå…·æœ‰æŒ‡å®šçš„å†…å®¹ç±»å‹ï¼Œç”¨äºåå•†æ­£ç¡®çš„æ ¼å¼å’Œ UI èƒ½åŠ›</li>
</ol>
<p>A2A åè®®çš„æŠ€æœ¯æ¶æ„åŸºäº HTTPã€SSEï¼ˆServer-Sent Eventsï¼‰å’Œ JSON-RPC æ„å»ºï¼ŒåŒ…å«æ ¸å¿ƒæ¨¡å—å¦‚èƒ½åŠ›å‘ç°ã€ä»»åŠ¡ç®¡ç†ã€åä½œæœºåˆ¶å’Œç”¨æˆ·ä½“éªŒåå•†ã€‚</p>
<p>A2A çš„å·¥ä½œæµç¨‹é€šå¸¸åŒ…æ‹¬ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯ Agent å‘ç°è¿œç¨‹ Agent çš„èƒ½åŠ›ï¼ˆé€šè¿‡ Agent Cardï¼‰</li>
<li>å®¢æˆ·ç«¯åˆ›å»ºä»»åŠ¡å¹¶æäº¤ç»™è¿œç¨‹ Agent</li>
<li>è¿œç¨‹ Agent å¤„ç†ä»»åŠ¡å¹¶è¿”å›ç»“æœæˆ–è¯·æ±‚æ›´å¤šä¿¡æ¯</li>
<li>ä»»åŠ¡çŠ¶æ€æ›´æ–°é€šè¿‡ HTTP æˆ– SSE ä¼ é€’ç»™å®¢æˆ·ç«¯</li>
<li>ä»»åŠ¡å®Œæˆåï¼Œç»“æœè¿”å›ç»™å®¢æˆ·ç«¯</li>
</ol>
<h4 data-id="heading-13">2.3.2 Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶è¯¦è§£</h4>
<blockquote>
<p>A2A åè®®é€šè¿‡æ ‡å‡†åŒ–çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶ï¼Œä¸ºä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„æ™ºèƒ½ä½“æä¾›äº†äº’æ“ä½œçš„å¯èƒ½æ€§ï¼Œæœ‰æœ›æˆä¸ºæ™ºèƒ½ä½“åä½œçš„è¡Œä¸šæ ‡å‡†ã€‚</p>
</blockquote>
<p>A2A é€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°æ™ºèƒ½ä½“é—´çš„é€šä¿¡å’Œåä½œï¼š</p>
<ol>
<li>
<p><strong>Agent å‘ç°æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ Agent é€šè¿‡ HTTP GET å‘ç°è¿œç¨‹ Agent èƒ½åŠ›</li>
<li>Agent Card åŒ…å«æ™ºèƒ½ä½“çš„èº«ä»½ã€æœåŠ¡ç«¯ç‚¹ã€A2A èƒ½åŠ›ç­‰å…³é”®ä¿¡æ¯</li>
<li>æ”¯æŒå¤šç§å‘ç°æ–¹å¼ï¼šç›´æ¥é…ç½®ã€å…¬å…± URLã€ä¸­å¤®æ³¨å†Œè¡¨ç­‰</li>
</ul>
</li>
<li>
<p><strong>ä»»åŠ¡ç®¡ç†å’Œè°ƒåº¦</strong>ï¼š</p>
<ul>
<li>ä»»åŠ¡å¯¹è±¡å…·æœ‰å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæäº¤ã€è¿›è¡Œä¸­ã€éœ€è¦è¾“å…¥ã€å®Œæˆã€å¤±è´¥ã€å–æ¶ˆï¼‰</li>
<li>å®¢æˆ·ç«¯å’Œè¿œç¨‹ Agent ä¹‹é—´çš„é€šä¿¡å›´ç»•ä»»åŠ¡å±•å¼€</li>
<li>æ”¯æŒç®€å•çš„å³æ—¶ä»»åŠ¡å’Œå¤æ‚çš„é•¿æœŸä»»åŠ¡</li>
</ul>
</li>
<li>
<p><strong>é€šä¿¡åè®®</strong>ï¼š</p>
<ul>
<li>åŸºäº HTTP å’Œ JSON-RPC çš„æ ‡å‡†åŒ–é€šä¿¡</li>
<li>æ”¯æŒ SSEï¼ˆServer-Sent Eventsï¼‰å»ºç«‹æŒä¹…è¿æ¥å®ç°æµå¼ä¼ è¾“</li>
<li>æ”¯æŒæ¨é€é€šçŸ¥ï¼ŒæœåŠ¡å™¨å¯åŸºäºå®¢æˆ·ç«¯æä¾›çš„ Webhook URL ä¸»åŠ¨å‘é€ä»»åŠ¡æ›´æ–°</li>
</ul>
</li>
<li>
<p><strong>å¤š</strong> <strong>æ¨¡æ€</strong> <strong>æ”¯æŒ</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæ–‡æœ¬ã€éŸ³é¢‘ã€å›¾åƒå’Œè§†é¢‘æµç­‰å¤šç§æ¨¡æ€</li>
<li>é€šè¿‡å†…å®¹ç±»å‹åå•†ç¡®ä¿å®¢æˆ·ç«¯å’Œè¿œç¨‹ Agent èƒ½å¤Ÿå¤„ç†æ­£ç¡®çš„æ ¼å¼</li>
</ul>
</li>
</ol>
<p>A2A çš„è¿™ç§åŸºäºæ ‡å‡†åè®®çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶ï¼Œä¸ºä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„æ™ºèƒ½ä½“æä¾›äº†äº’æ“ä½œçš„å¯èƒ½æ€§ï¼Œæœ‰æœ›æˆä¸ºæ™ºèƒ½ä½“åä½œçš„è¡Œä¸šæ ‡å‡†ã€‚</p>
<h2 data-id="heading-14">3. å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿè°ƒåº¦æµç¨‹è¯¦è§£</h2>
<blockquote>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿçš„æ ¸å¿ƒåœ¨äºå…¶è°ƒåº¦æµç¨‹è®¾è®¡ï¼Œå®ƒå†³å®šäº†æ™ºèƒ½ä½“å¦‚ä½•å‘ç°å½¼æ­¤ã€å¦‚ä½•é€šä¿¡ä»¥åŠå¦‚ä½•ååŒå·¥ä½œã€‚æœ¬ç« å°†æ·±å…¥å‰–æä¸‰ä¸ªä»£è¡¨æ€§ç³»ç»Ÿçš„è°ƒåº¦æµç¨‹ï¼Œæ­ç¤ºå®ƒä»¬çš„å·¥ä½œåŸç†å’Œè®¾è®¡æ€æƒ³ã€‚</p>
</blockquote>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä½œä¸ºäººå·¥æ™ºèƒ½é¢†åŸŸçš„é‡è¦ç ”ç©¶æ–¹å‘ï¼Œé€šè¿‡ç»„ç»‡å¤šä¸ªå…·æœ‰ä¸åŒèƒ½åŠ›å’Œä¸“é•¿çš„æ™ºèƒ½ä½“å…±åŒå·¥ä½œï¼Œä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›äº†æ–°çš„èŒƒå¼ã€‚ä¸åŒç³»ç»Ÿé‡‡ç”¨äº†ä¸åŒçš„è°ƒåº¦æµç¨‹è®¾è®¡ï¼Œä»¥æ»¡è¶³å„è‡ªçš„åº”ç”¨åœºæ™¯å’Œè®¾è®¡ç›®æ ‡ã€‚æœ¬ç« å°†è¯¦ç»†åˆ†æ MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶ã€LangGraph çš„ agent è‡ªè°ƒç”¨è½¬æ´¾æµç¨‹ä»¥åŠ A2A çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶ï¼Œé€šè¿‡å›¾è¡¨å’ŒæŠ€æœ¯è¯´æ˜ï¼Œæ·±å…¥ç†è§£è¿™äº›ç³»ç»Ÿçš„å·¥ä½œåŸç†å’Œè®¾è®¡æ€æƒ³ã€‚</p>
<h3 data-id="heading-15">3.1 MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶</h3>
<h4 data-id="heading-16">3.1.1 è°ƒåº¦æµç¨‹æ¦‚è¿°</h4>
<p>MetaGPT æ˜¯ä¸€ä¸ªåŸºäºè§’è‰²å’Œæ ‡å‡†æ“ä½œç¨‹åºï¼ˆSOPï¼‰çš„å¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒé€šä¿¡æœºåˆ¶æ˜¯åŸºäº<strong>å‘å¸ƒ-è®¢é˜…ï¼ˆpub/subï¼‰æ¨¡å¼</strong>å®ç°çš„ã€‚åœ¨è¿™ç§æœºåˆ¶ä¸­ï¼Œæ™ºèƒ½ä½“é€šè¿‡ç¯å¢ƒï¼ˆEnvironmentï¼‰ä¸­çš„æ¶ˆæ¯æ± ï¼ˆMessage Poolï¼‰è¿›è¡Œé€šä¿¡ï¼Œå®ç°äº†æ™ºèƒ½ä½“ä¹‹é—´çš„æ¾è€¦åˆåä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cae7949a0de4cd899904f92ba2b3383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC5p625p6E5YmN56uv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381986&amp;x-signature=iwOT4UnVlvANnAt1DEhH5ZaSib0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-17">3.1.2 æ ¸å¿ƒç»„ä»¶è§£æ</h4>
<p><strong>1. ç¯å¢ƒï¼ˆEnvironmentï¼‰</strong> ï¼š</p>
<ul>
<li>æä¾›å…±äº«çš„å·¥ä½œç©ºé—´å’Œé€šè®¯åŠŸèƒ½</li>
<li>åŒ…å«æ¶ˆæ¯æ± ï¼Œä½œä¸ºæ™ºèƒ½ä½“é—´é€šä¿¡çš„ä¸­ä»‹</li>
</ul>
<p><strong>2. æ¶ˆæ¯æ± ï¼ˆMessage Poolï¼‰</strong> ï¼š</p>
<ul>
<li>æ‰€æœ‰æ™ºèƒ½ä½“å…±äº«ä¸€ä¸ªæ¶ˆæ¯æ± </li>
<li>å­˜å‚¨æ‰€æœ‰å‘å¸ƒçš„æ¶ˆæ¯</li>
<li>æ”¯æŒæ™ºèƒ½ä½“è®¢é˜…å’Œè·å–æ„Ÿå…´è¶£çš„æ¶ˆæ¯</li>
</ul>
<p><strong>3. è§’è‰²ï¼ˆRolesï¼‰</strong> ï¼š</p>
<ul>
<li>ä¸åŒè§’è‰²çš„æ™ºèƒ½ä½“è´Ÿè´£ä¸åŒçš„ä¸“ä¸šä»»åŠ¡</li>
<li>ä¾‹å¦‚ï¼šäº§å“ç»ç†ã€æ¶æ„å¸ˆã€å·¥ç¨‹å¸ˆã€æµ‹è¯•å·¥ç¨‹å¸ˆç­‰</li>
<li>æ¯ä¸ªè§’è‰²éƒ½æœ‰æ˜ç¡®å®šä¹‰çš„ç›®æ ‡ã€çº¦æŸå’Œä¸“ä¸šæŠ€èƒ½</li>
</ul>
<p><strong>4. è¡ŒåŠ¨ï¼ˆActionsï¼‰</strong> ï¼š</p>
<ul>
<li>è§’è‰²æ‰§è¡Œçš„å…·ä½“æ“ä½œ</li>
<li>ä¾‹å¦‚ï¼šç¼–å†™ PRDã€è®¾è®¡æ¶æ„ã€ç¼–å†™ä»£ç ã€æµ‹è¯•ä»£ç ç­‰</li>
<li>è¡ŒåŠ¨çš„ç»“æœä¼šç”Ÿæˆæ¶ˆæ¯</li>
</ul>
<p><strong>5. æ¶ˆæ¯ï¼ˆMessagesï¼‰</strong> ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“ä¹‹é—´äº¤æµçš„ä¿¡æ¯è½½ä½“</li>
<li>ä¾‹å¦‚ï¼šç”¨æˆ·éœ€æ±‚ã€PRD æ–‡æ¡£ã€æ¶æ„è®¾è®¡ã€ä»£ç å®ç°ã€æµ‹è¯•æŠ¥å‘Šç­‰</li>
<li>æ¶ˆæ¯ä¼šè¢«å‘å¸ƒåˆ°æ¶ˆæ¯æ± ä¸­</li>
</ul>
<h4 data-id="heading-18">3.1.3 æ¶ˆæ¯æµè½¬æœºåˆ¶</h4>
<p>MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°æ¶ˆæ¯æµè½¬ï¼š</p>
<ol>
<li>
<p><strong>æ¶ˆæ¯å‘å¸ƒ</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“æ‰§è¡Œè¡ŒåŠ¨ï¼ˆActionï¼‰ç”Ÿæˆç»“æœ</li>
<li>ç»“æœè¢«å°è£…ä¸ºæ¶ˆæ¯ï¼ˆMessageï¼‰</li>
<li>æ™ºèƒ½ä½“é€šè¿‡<code>_publish</code>æ–¹æ³•å°†æ¶ˆæ¯å‘å¸ƒåˆ°ç¯å¢ƒçš„æ¶ˆæ¯æ± ä¸­</li>
</ul>
</li>
<li>
<p><strong>æ¶ˆæ¯è®¢é˜…</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“é€šè¿‡<code>_observe</code>æ–¹æ³•ä»ç¯å¢ƒä¸­è·å–æ¶ˆæ¯</li>
<li>æ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥æ ¹æ®è‡ªå·±çš„è§’è‰²è®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ç±»å‹</li>
<li>è®¢é˜…æœºåˆ¶ä½¿æ™ºèƒ½ä½“æ›´å€¾å‘äºæ¥æ”¶ä¸è‡ªæˆ‘ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>æ¶ˆæ¯è§¦å‘</strong>ï¼š</p>
<ul>
<li>å½“æ¶ˆæ¯æ± ä¸­å‡ºç°æ–°æ¶ˆæ¯æ—¶ï¼Œä¼šè§¦å‘è®¢é˜…è¯¥ç±»å‹æ¶ˆæ¯çš„æ™ºèƒ½ä½“</li>
<li>ä¾‹å¦‚ï¼šPRD æ–‡æ¡£æ¶ˆæ¯ä¼šè§¦å‘æ¶æ„å¸ˆå¼€å§‹å·¥ä½œ</li>
<li>è§¦å‘çš„æ™ºèƒ½ä½“ä¼šæ‰§è¡Œç›¸åº”çš„è¡ŒåŠ¨ï¼Œå¹¶å¯èƒ½ç”Ÿæˆæ–°çš„æ¶ˆæ¯</li>
</ul>
</li>
</ol>
<blockquote>
<p>MetaGPT çš„å·¥ä½œæµç¨‹ä½“ç°äº†è½¯ä»¶å¼€å‘çš„çº¿æ€§æµç¨‹ï¼šç”¨æˆ·éœ€æ±‚â†’äº§å“ç»ç†ï¼ˆPRDï¼‰â†’æ¶æ„å¸ˆï¼ˆè®¾è®¡ï¼‰â†’å·¥ç¨‹å¸ˆï¼ˆä»£ç ï¼‰â†’æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆæµ‹è¯•ï¼‰ï¼Œæ¯ä¸ªè§’è‰²é€šè¿‡æ¶ˆæ¯æ± æ¥æ”¶ä¸Šæ¸¸è¾“å‡ºå¹¶äº§ç”Ÿä¸‹æ¸¸è¾“å…¥ï¼Œå½¢æˆä¸€ä¸ªé«˜æ•ˆçš„åä½œé“¾æ¡ã€‚</p>
</blockquote>
<ol start="4">
<li>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·è¾“å…¥éœ€æ±‚è§¦å‘äº§å“ç»ç†</li>
<li>äº§å“ç»ç†ç¼–å†™ PRD å¹¶å‘å¸ƒ PRD æ–‡æ¡£æ¶ˆæ¯</li>
<li>PRD æ–‡æ¡£æ¶ˆæ¯è§¦å‘æ¶æ„å¸ˆè®¾è®¡æ¶æ„</li>
<li>æ¶æ„å¸ˆå‘å¸ƒæ¶æ„è®¾è®¡æ¶ˆæ¯</li>
<li>æ¶æ„è®¾è®¡æ¶ˆæ¯è§¦å‘å·¥ç¨‹å¸ˆç¼–å†™ä»£ç </li>
<li>å·¥ç¨‹å¸ˆå‘å¸ƒä»£ç å®ç°æ¶ˆæ¯</li>
<li>ä»£ç å®ç°æ¶ˆæ¯è§¦å‘æµ‹è¯•å·¥ç¨‹å¸ˆè¿›è¡Œæµ‹è¯•</li>
<li>æµ‹è¯•å·¥ç¨‹å¸ˆå‘å¸ƒæµ‹è¯•æŠ¥å‘Šæ¶ˆæ¯</li>
</ul>
</li>
</ol>
<h4 data-id="heading-19">3.1.4 æŠ€æœ¯å®ç°ç»†èŠ‚</h4>
<p>MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶åœ¨æŠ€æœ¯å®ç°ä¸Šæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æ¶ˆæ¯ç±»å‹</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯é€šå¸¸åŒ…å«ç±»å‹ã€å†…å®¹ã€å‘é€è€…ã€æ¥æ”¶è€…ç­‰å±æ€§</li>
<li>æ¶ˆæ¯ç±»å‹ç”¨äºæ™ºèƒ½ä½“è¿‡æ»¤å’Œè®¢é˜…</li>
</ul>
</li>
<li>
<p><strong>æ¶ˆæ¯è·¯ç”±</strong>ï¼š</p>
<ul>
<li>åŸºäºæ¶ˆæ¯ç±»å‹å’Œæ¥æ”¶è€…è¿›è¡Œè·¯ç”±</li>
<li>æ”¯æŒå¹¿æ’­ï¼ˆä¸€å¯¹å¤šï¼‰å’Œç‚¹å¯¹ç‚¹ï¼ˆä¸€å¯¹ä¸€ï¼‰é€šä¿¡</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€ç®¡ç†</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯å†å²ä½œä¸ºç³»ç»ŸçŠ¶æ€çš„ä¸€éƒ¨åˆ†è¢«ä¿å­˜</li>
<li>æ™ºèƒ½ä½“å¯ä»¥è®¿é—®å†å²æ¶ˆæ¯è¿›è¡Œå†³ç­–</li>
</ul>
</li>
<li>
<p><strong>å¼‚æ­¥å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯å¤„ç†é€šå¸¸æ˜¯å¼‚æ­¥çš„</li>
<li>æ™ºèƒ½ä½“å¯ä»¥å¹¶è¡Œå·¥ä½œï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡</li>
</ul>
</li>
<li>
<p><strong>æ¶ˆæ¯ä¼˜å…ˆçº§</strong>ï¼š</p>
<ul>
<li>å¯ä»¥ä¸ºæ¶ˆæ¯è®¾ç½®ä¼˜å…ˆçº§ï¼Œå½±å“å¤„ç†é¡ºåº</li>
<li>é«˜ä¼˜å…ˆçº§æ¶ˆæ¯ä¼šä¼˜å…ˆè¢«å¤„ç†</li>
</ul>
</li>
</ol>
<p>MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶ä½¿å¾—ç³»ç»Ÿå…·æœ‰é«˜åº¦çš„æ¨¡å—åŒ–å’Œå¯æ‰©å±•æ€§ï¼Œæ–°çš„è§’è‰²å’Œè¡ŒåŠ¨å¯ä»¥æ–¹ä¾¿åœ°é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿä¸­ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å…¶ä»–ç»„ä»¶ã€‚è¿™ç§è®¾è®¡ä¹Ÿä½¿å¾—ç³»ç»Ÿæ›´åŠ å¥å£®ï¼Œå› ä¸ºç»„ä»¶ä¹‹é—´çš„æ¾è€¦åˆé™ä½äº†ç³»ç»Ÿçš„è„†å¼±æ€§ã€‚</p>
<h3 data-id="heading-20">3.2 LangGraph çš„ agent è‡ªè°ƒç”¨è½¬æ´¾æµç¨‹</h3>
<h4 data-id="heading-21">3.2.1 è°ƒåº¦æµç¨‹æ¦‚è¿°</h4>
<p>LangGraph æ˜¯ LangChain å›¢é˜Ÿå¼€å‘çš„ä¸€ä¸ªæ‰©å±•åº“ï¼Œé€šè¿‡å¼•å…¥å¾ªç¯å›¾çš„æ–¹æ³•ï¼Œå°†åŸºäº LLM çš„ä»»åŠ¡ç»†èŠ‚é€šè¿‡å›¾ï¼ˆGraphï¼‰è¿›è¡Œç²¾ç¡®çš„å®šä¹‰ã€‚LangGraph çš„æ ¸å¿ƒæ˜¯çŠ¶æ€å›¾ï¼ˆStateGraphï¼‰ï¼Œå®ƒå°†æ™ºèƒ½ä½“çš„å·¥ä½œæµç¨‹å»ºæ¨¡ä¸ºå›¾ç»“æ„ï¼Œé€šè¿‡æ¡ä»¶è¾¹å®ç°æ™ºèƒ½ä½“ä¹‹é—´çš„åŠ¨æ€è°ƒåº¦å’Œè‡ªè°ƒç”¨è½¬æ´¾é€»è¾‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d1bfc02e09b47119e74b33519cfb838~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC5p625p6E5YmN56uv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381986&amp;x-signature=DAOt%2BUgfhlc%2FD46SvkbYsounj2A%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-22">3.2.2 æ ¸å¿ƒç»„ä»¶è§£æ</h4>
<p><strong>1.</strong> <strong>çŠ¶æ€å›¾</strong> <strong>ï¼ˆStateGraphï¼‰</strong> ï¼š</p>
<ul>
<li>LangGraph çš„æ ¸å¿ƒæ˜¯çŠ¶æ€å›¾ï¼Œå®ƒå°†æ™ºèƒ½ä½“çš„å·¥ä½œæµç¨‹å»ºæ¨¡ä¸ºå›¾ç»“æ„</li>
<li>åŒ…å«èŠ‚ç‚¹ã€è¾¹å’ŒçŠ¶æ€ä¸‰ä¸ªä¸»è¦ç»„ä»¶</li>
</ul>
<p><strong>2. çŠ¶æ€ï¼ˆStateï¼‰</strong> ï¼š</p>
<ul>
<li>è¡¨ç¤ºæ•´ä¸ªå›¾è¿è¡Œè¿‡ç¨‹ä¸­çš„çŠ¶æ€æ•°æ®</li>
<li>å¯ä»¥ç†è§£ä¸ºåº”ç”¨ç¨‹åºå½“å‰å¿«ç…§ï¼Œä¸ºå›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹æ‰€å…±äº«</li>
<li>çŠ¶æ€å¯¹è±¡åœ¨èŠ‚ç‚¹ä¹‹é—´ä¼ é€’ï¼Œå¹¶åœ¨èŠ‚ç‚¹æ‰§è¡Œåæ›´æ–°</li>
</ul>
<p><strong>3. èŠ‚ç‚¹ï¼ˆNodesï¼‰</strong> ï¼š</p>
<ul>
<li>è¡¨ç¤ºæ™ºèƒ½ä½“çš„å…·ä½“æ‰§è¡Œé€»è¾‘</li>
<li>æ¥æ”¶å½“å‰çš„çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œæ‰§è¡Œè®¡ç®—ï¼Œå¹¶è¿”å›æ›´æ–°åçš„çŠ¶æ€</li>
<li>ä¸»è¦ç±»å‹åŒ…æ‹¬ï¼šæ™ºèƒ½ä½“èŠ‚ç‚¹ã€å·¥å…·èŠ‚ç‚¹ã€è·¯ç”±èŠ‚ç‚¹ã€ç»“æŸèŠ‚ç‚¹ç­‰</li>
</ul>
<p><strong>4. è¾¹ï¼ˆEdgesï¼‰</strong> ï¼š</p>
<ul>
<li>è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»</li>
<li>å®šä¹‰äº†ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è½¬æ¢æ¡ä»¶</li>
<li>ä¸»è¦ç±»å‹åŒ…æ‹¬ï¼šæ™®é€šè¾¹ã€æ¡ä»¶è¾¹ã€å¾ªç¯è¾¹ç­‰</li>
</ul>
<p><strong>5.</strong> <strong>è·¯ç”±</strong> <strong>å‡½æ•°ï¼ˆRouting Functionï¼‰</strong> ï¼š</p>
<ul>
<li>å†³å®šä¸‹ä¸€æ­¥å°†æ‰§è¡Œå“ªä¸ªèŠ‚ç‚¹</li>
<li>æ ¹æ®å½“å‰çŠ¶æ€è¯„ä¼°æ¡ä»¶è¾¹</li>
<li>å®ç°åŠ¨æ€è°ƒåº¦çš„æ ¸å¿ƒæœºåˆ¶</li>
</ul>
<h4 data-id="heading-23">3.2.3 æµå¼è°ƒç”¨æœºåˆ¶</h4>
<p>LangGraph çš„æµå¼è°ƒç”¨æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š</p>
<ol>
<li>
<p><strong>çŠ¶æ€åˆå§‹åŒ–</strong>ï¼š</p>
<ul>
<li>ç³»ç»Ÿæ¥æ”¶è¾“å…¥ï¼Œåˆå§‹åŒ–çŠ¶æ€å¯¹è±¡</li>
<li>çŠ¶æ€å¯¹è±¡åŒ…å«ä»»åŠ¡ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>èŠ‚ç‚¹æ‰§è¡Œ</strong>ï¼š</p>
<ul>
<li>çŠ¶æ€å¯¹è±¡ä¼ é€’ç»™èµ·å§‹èŠ‚ç‚¹</li>
<li>èŠ‚ç‚¹æ‰§è¡Œå…¶é€»è¾‘ï¼Œå¤„ç†çŠ¶æ€</li>
<li>èŠ‚ç‚¹è¿”å›æ›´æ–°åçš„çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€æ›´æ–°ä¸åˆå¹¶</strong>ï¼š</p>
<ul>
<li>èŠ‚ç‚¹è¿”å›çš„çŠ¶æ€æ›´æ–°ä¼šä¸å…¨å±€çŠ¶æ€åˆå¹¶</li>
<li>åˆå¹¶ç­–ç•¥ç¡®ä¿çŠ¶æ€çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§</li>
</ul>
</li>
</ol>
<blockquote>
<p>LangGraph çš„æµå¼è°ƒç”¨æœºåˆ¶æœ€å¤§çš„åˆ›æ–°åœ¨äºå°† LLM çš„å†³ç­–è¿‡ç¨‹æ˜¾å¼åœ°å»ºæ¨¡ä¸ºçŠ¶æ€å›¾ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ç²¾ç¡®æ§åˆ¶æ‰§è¡Œæµç¨‹ï¼Œå®ç°å¤æ‚çš„æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯å’ŒåŠ¨æ€è°ƒåº¦ï¼Œå¤§å¤§æé«˜äº† AI ç³»ç»Ÿçš„å¯æ§æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>
</blockquote>
<ol start="4">
<li>
<p><strong>æ¡ä»¶è¯„ä¼°ä¸</strong> <strong>è·¯ç”±</strong>ï¼š</p>
<ul>
<li>è·¯ç”±å‡½æ•°æ ¹æ®æ›´æ–°åçš„çŠ¶æ€è¯„ä¼°æ¡ä»¶è¾¹</li>
<li>å†³å®šä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„èŠ‚ç‚¹</li>
<li>å¯èƒ½çš„è·¯å¾„åŒ…æ‹¬ï¼šç»§ç»­å¤„ç†ã€è°ƒç”¨å·¥å…·ã€ç»“æŸä»»åŠ¡ç­‰</li>
</ul>
</li>
<li>
<p><strong>å¾ªç¯å¤„ç†</strong>ï¼š</p>
<ul>
<li>å¦‚æœéœ€è¦é‡æ–°è¯„ä¼°æˆ–å¤„ç†ï¼Œå¯ä»¥é€šè¿‡å¾ªç¯è¾¹è¿”å›ä¹‹å‰çš„èŠ‚ç‚¹</li>
<li>å¾ªç¯è¾¹ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿­ä»£å¤„ç†ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶</li>
</ul>
</li>
</ol>
<h4 data-id="heading-24">3.2.4 è‡ªè°ƒç”¨è½¬æ´¾é€»è¾‘</h4>
<p>LangGraph çš„è‡ªè°ƒç”¨è½¬æ´¾é€»è¾‘æ˜¯å…¶æœ€å…·ç‰¹è‰²çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°ï¼š</p>
<ol>
<li>
<p><strong>è‡ªè°ƒç”¨ï¼ˆSelf-invokeï¼‰</strong> ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“å¯ä»¥å†³å®šå†æ¬¡è°ƒç”¨è‡ªå·±å¤„ç†ä»»åŠ¡</li>
<li>é€šå¸¸å‘ç”Ÿåœ¨éœ€è¦è¿›ä¸€æ­¥æ€è€ƒæˆ–åˆ†æçš„æƒ…å†µ</li>
<li>åœ¨å›¾ä¸­è¡¨ç°ä¸ºä»æ™ºèƒ½ä½“èŠ‚ç‚¹å›åˆ°è‡ªèº«çš„è¾¹</li>
</ul>
</li>
<li>
<p><strong>è½¬æ´¾ï¼ˆDelegateï¼‰</strong> ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“å¯ä»¥å†³å®šå°†ä»»åŠ¡è½¬æ´¾ç»™å…¶ä»–èŠ‚ç‚¹ï¼ˆå¦‚å·¥å…·èŠ‚ç‚¹ï¼‰</li>
<li>é€šå¸¸å‘ç”Ÿåœ¨éœ€è¦å¤–éƒ¨å·¥å…·æˆ–ä¿¡æ¯çš„æƒ…å†µ</li>
<li>åœ¨å›¾ä¸­è¡¨ç°ä¸ºä»æ™ºèƒ½ä½“èŠ‚ç‚¹åˆ°å·¥å…·èŠ‚ç‚¹çš„è¾¹</li>
</ul>
</li>
<li>
<p><strong>å†³ç­–è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“æ ¹æ®å½“å‰çŠ¶æ€åšå‡ºå†³ç­–</li>
<li>å†³ç­–ç»“æœæ›´æ–°åˆ°çŠ¶æ€ä¸­</li>
<li>è·¯ç”±å‡½æ•°æ ¹æ®æ›´æ–°åçš„çŠ¶æ€å†³å®šä¸‹ä¸€æ­¥æ“ä½œ</li>
</ul>
</li>
<li>
<p><strong>ç»“æœå¤„ç†</strong>ï¼š</p>
<ul>
<li>è½¬æ´¾æ“ä½œçš„ç»“æœä¼šè¢«åˆå¹¶å›çŠ¶æ€</li>
<li>æ™ºèƒ½ä½“å¯ä»¥æ ¹æ®è¿™äº›ç»“æœç»§ç»­å¤„ç†</li>
<li>å¯èƒ½è§¦å‘æ–°çš„è‡ªè°ƒç”¨æˆ–è½¬æ´¾</li>
</ul>
</li>
</ol>
<h4 data-id="heading-25">3.2.5 æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯å®ç°</h4>
<p>LangGraph é€šè¿‡æ¡ä»¶è¾¹å’Œå¾ªç¯è¾¹å®ç°æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯ï¼š</p>
<ol>
<li>
<p><strong>æ¡ä»¶åˆ†æ”¯</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨æ¡ä»¶è¾¹è¿æ¥èŠ‚ç‚¹</li>
<li>æ¡ä»¶è¾¹å…³è”è·¯ç”±å‡½æ•°ï¼Œæ ¹æ®çŠ¶æ€å†³å®šæ‰§è¡Œè·¯å¾„</li>
<li>ä¾‹å¦‚ï¼šæ ¹æ®æ™ºèƒ½ä½“çš„å†³ç­–ç»“æœï¼Œå¯èƒ½æ‰§è¡Œå·¥å…·è°ƒç”¨ã€ç»“æŸä»»åŠ¡æˆ–ç»§ç»­æ€è€ƒ</li>
</ul>
</li>
<li>
<p><strong>å¾ªç¯å®ç°</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨å¾ªç¯è¾¹è¿æ¥èŠ‚ç‚¹ï¼Œå½¢æˆç¯è·¯</li>
<li>å¾ªç¯è¾¹é€šå¸¸ä¸æ¡ä»¶æ£€æŸ¥ç›¸å…³è”</li>
<li>ä¾‹å¦‚ï¼šå·¥å…·è°ƒç”¨åï¼Œç»“æœå¯èƒ½éœ€è¦è¿›ä¸€æ­¥å¤„ç†ï¼Œè§¦å‘å¾ªç¯å›æ™ºèƒ½ä½“èŠ‚ç‚¹</li>
</ul>
</li>
<li>
<p><strong>ç¤ºä¾‹æµç¨‹</strong>ï¼š</p>
<ul>
<li>å¼€å§‹èŠ‚ç‚¹åˆå§‹åŒ–ä»»åŠ¡</li>
<li>æ¡ä»¶åˆ¤æ–­èŠ‚ç‚¹è¯„ä¼°ä»»åŠ¡çŠ¶æ€</li>
<li>å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œæ‰§è¡Œå¤„ç† 1ï¼Œç„¶åå¾ªç¯å›æ¡ä»¶åˆ¤æ–­</li>
<li>å¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œæ‰§è¡Œå¤„ç† 2ï¼Œç„¶åç»“æŸä»»åŠ¡</li>
</ul>
</li>
</ol>
<p>LangGraph çš„åŸºäºçŠ¶æ€å›¾çš„æµå¼è°ƒç”¨æœºåˆ¶ä¸º AI ç³»ç»Ÿæä¾›äº†ä¸€ç§æ›´åŠ ç»“æ„åŒ–å’Œå¯æ§çš„ç¼–ç¨‹æ¨¡å‹ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¤æ‚å†³ç­–é€»è¾‘å’Œå¾ªç¯å¤„ç†çš„åº”ç”¨åœºæ™¯ã€‚é€šè¿‡è‡ªè°ƒç”¨è½¬æ´¾é€»è¾‘ï¼Œæ™ºèƒ½ä½“èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡éœ€è¦çµæ´»åœ°é€‰æ‹©å¤„ç†è·¯å¾„ï¼Œå®ç°æ›´åŠ æ™ºèƒ½å’Œè‡ªé€‚åº”çš„è¡Œä¸ºã€‚</p>
<h3 data-id="heading-26">3.3 A2A çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶</h3>
<h4 data-id="heading-27">3.3.1 è°ƒåº¦æµç¨‹æ¦‚è¿°</h4>
<p>A2Aï¼ˆAgent to Agent Protocolï¼‰æ˜¯ç”±è°·æ­Œå¼€æºçš„ä¸€ç§æ ‡å‡†æ™ºèƒ½ä½“äº¤äº’åè®®ï¼Œæ—¨åœ¨æ‰“ç ´ç³»ç»Ÿå­¤å²›ï¼Œä½¿ä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„ AI æ™ºèƒ½ä½“èƒ½å¤Ÿç›¸äº’é€šä¿¡å’Œåä½œã€‚A2A çš„æ ¸å¿ƒåœ¨äº Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶ï¼Œé€šè¿‡ Agent Cardã€ä»»åŠ¡å¯¹è±¡å’Œæ ‡å‡†åŒ–é€šä¿¡åè®®å®ç°æ™ºèƒ½ä½“ä¹‹é—´çš„äº’æ“ä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4f5b8b907864a67a5cd7a579985f571~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2X6IqC5p625p6E5YmN56uv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381986&amp;x-signature=1aRM4XK8vtggF%2FNCTP%2Fh8bQHcQs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-28">3.3.2 æ ¸å¿ƒç»„ä»¶è§£æ</h4>
<p><strong>1. Agent Card</strong>:</p>
<ul>
<li>JSON æ ¼å¼çš„æ™ºèƒ½ä½“èƒ½åŠ›æè¿°å¡ç‰‡</li>
<li>åŒ…å«æ™ºèƒ½ä½“çš„èº«ä»½ã€æœåŠ¡ç«¯ç‚¹ã€A2A èƒ½åŠ›ç­‰å…³é”®ä¿¡æ¯</li>
<li>ç”¨äºèƒ½åŠ›å‘ç°å’Œè¯†åˆ«</li>
</ul>
<p><strong>2. ä»»åŠ¡å¯¹è±¡ï¼ˆTask Objectï¼‰</strong> ï¼š</p>
<ul>
<li>å®šä¹‰äº†ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€</li>
<li>æ˜¯æ™ºèƒ½ä½“é—´åä½œçš„æ ¸å¿ƒå•ä½</li>
<li>åŒ…å«ä»»åŠ¡ IDã€æè¿°ã€çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ç­‰å±æ€§</li>
</ul>
<p><strong>3. æ¶ˆæ¯ï¼ˆMessageï¼‰</strong> ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“é—´äº¤æ¢çš„ä¿¡æ¯å•å…ƒ</li>
<li>å¯åŒ…å«ä¸Šä¸‹æ–‡ã€å›å¤ã€å·¥ä»¶æˆ–ç”¨æˆ·æŒ‡ä»¤</li>
<li>æ”¯æŒå¤šç§å†…å®¹ç±»å‹</li>
</ul>
<p><strong>4. éƒ¨åˆ†ï¼ˆPartsï¼‰</strong> ï¼š</p>
<ul>
<li>æ¶ˆæ¯ä¸­çš„å®Œæ•´å†…å®¹ç‰‡æ®µ</li>
<li>å…·æœ‰æŒ‡å®šçš„å†…å®¹ç±»å‹</li>
<li>ç”¨äºåå•†æ­£ç¡®çš„æ ¼å¼å’Œ UI èƒ½åŠ›</li>
</ul>
<p><strong>5. é€šä¿¡åè®®</strong>ï¼š</p>
<ul>
<li>HTTPï¼šåŸºæœ¬çš„è¯·æ±‚-å“åº”é€šä¿¡</li>
<li>JSON-RPCï¼šè¿œç¨‹è¿‡ç¨‹è°ƒç”¨</li>
<li>SSEï¼ˆServer-Sent Eventsï¼‰ï¼šæœåŠ¡å™¨æ¨é€äº‹ä»¶ï¼Œç”¨äºæµå¼ä¼ è¾“</li>
<li>Webhookï¼šå›è°ƒæœºåˆ¶ï¼Œç”¨äºå¼‚æ­¥é€šçŸ¥</li>
</ul>
<h4 data-id="heading-29">3.3.3 Agent å‘ç°æœºåˆ¶</h4>
<p>A2A çš„ Agent å‘ç°æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š</p>
<ol>
<li>
<p><strong>å‘ç°è¯·æ±‚</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ Agent å‘èµ·å‘ç°è¯·æ±‚</li>
<li>å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å‘ç°è¿œç¨‹ Agent</li>
</ul>
</li>
<li>
<p><strong>å‘ç°æ–¹å¼</strong>ï¼š</p>
<ul>
<li>ç›´æ¥é…ç½®ï¼šå®¢æˆ·ç«¯ç›´æ¥é…ç½®è¿œç¨‹ Agent çš„ä¿¡æ¯</li>
<li>å…¬å…± URLï¼šé€šè¿‡ HTTP GET è¯·æ±‚å…¬å…± URL è·å– Agent Card</li>
<li>ä¸­å¤®æ³¨å†Œè¡¨ï¼šé€šè¿‡æŸ¥è¯¢ä¸­å¤®æ³¨å†Œè¡¨å‘ç° Agent</li>
</ul>
</li>
</ol>
<blockquote>
<p>A2A åè®®çš„æœ€å¤§åˆ›æ–°åœ¨äºå°†æ™ºèƒ½ä½“äº¤äº’æ ‡å‡†åŒ–ï¼Œå°±åƒäº’è”ç½‘åè®®æ ‡å‡†åŒ–ä¸€æ ·ï¼Œå®ƒä¸ºæ„å»º"æ™ºèƒ½ä½“äº’è”ç½‘"å¥ å®šäº†åŸºç¡€ï¼Œä½¿ä¸åŒä¾›åº”å•†ã€ä¸åŒæ¡†æ¶çš„æ™ºèƒ½ä½“èƒ½å¤Ÿæ— ç¼åä½œï¼Œæå¤§åœ°æ‰©å±•äº† AI ç³»ç»Ÿçš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
</blockquote>
<ol start="3">
<li>
<p><strong>èƒ½åŠ›è·å–</strong>ï¼š</p>
<ul>
<li>è¿œç¨‹ Agent æä¾› Agent Card</li>
<li>Agent Card è¿”å›ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯è·å–è¿œç¨‹ Agent çš„èƒ½åŠ›ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>èƒ½åŠ›åŒ¹é…</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯æ ¹æ®ä»»åŠ¡éœ€æ±‚å’Œ Agent èƒ½åŠ›è¿›è¡ŒåŒ¹é…</li>
<li>é€‰æ‹©åˆé€‚çš„è¿œç¨‹ Agent è¿›è¡Œåä½œ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-30">3.3.4 ä»»åŠ¡è°ƒåº¦æœºåˆ¶</h4>
<p>A2A çš„ä»»åŠ¡è°ƒåº¦æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š</p>
<ol>
<li>
<p><strong>ä»»åŠ¡åˆ›å»º</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ Agent åˆ›å»ºä»»åŠ¡å¯¹è±¡</li>
<li>åˆå§‹çŠ¶æ€ä¸º"å·²æäº¤"ï¼ˆSubmittedï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä»»åŠ¡æäº¤</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯é€šè¿‡ JSON-RPC å°†ä»»åŠ¡æäº¤ç»™è¿œç¨‹ Agent</li>
<li>è¿œç¨‹ Agent æ¥æ”¶ä»»åŠ¡å¯¹è±¡</li>
<li>ä»»åŠ¡çŠ¶æ€æ›´æ–°ä¸º"è¿›è¡Œä¸­"ï¼ˆIn Progressï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä»»åŠ¡æ‰§è¡Œ</strong>ï¼š</p>
<ul>
<li>è¿œç¨‹ Agent å¤„ç†ä»»åŠ¡</li>
<li>å¦‚æœéœ€è¦æ›´å¤šä¿¡æ¯ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"éœ€è¦è¾“å…¥"ï¼ˆNeeds Inputï¼‰</li>
<li>é€šè¿‡ SSE é€šçŸ¥å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯æä¾›è¾“å…¥ï¼Œä»»åŠ¡ç»§ç»­å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä»»åŠ¡å®Œæˆ</strong>ï¼š</p>
<ul>
<li>å¤„ç†å®Œæˆåï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²å®Œæˆ"ï¼ˆCompletedï¼‰</li>
<li>é€šè¿‡ Webhook é€šçŸ¥å®¢æˆ·ç«¯ä»»åŠ¡å®Œæˆ</li>
<li>å®¢æˆ·ç«¯æ¥æ”¶ç»“æœ</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸å¤„ç†</strong>ï¼š</p>
<ul>
<li>å¤„ç†å¤±è´¥ï¼šçŠ¶æ€æ›´æ–°ä¸º"å¤±è´¥"ï¼ˆFailedï¼‰ï¼Œé€šçŸ¥å®¢æˆ·ç«¯</li>
<li>ä»»åŠ¡å–æ¶ˆï¼šå®¢æˆ·ç«¯è¯·æ±‚å–æ¶ˆä»»åŠ¡ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²å–æ¶ˆ"ï¼ˆCancelledï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-31">3.3.5 é€šä¿¡åè®®è¯¦è§£</h4>
<p>A2A ä½¿ç”¨å¤šç§é€šä¿¡åè®®å®ç°ä¸åŒç±»å‹çš„äº¤äº’ï¼š</p>
<ol>
<li>
<p><strong>HTTP é€šä¿¡</strong>ï¼š</p>
<ul>
<li>ç”¨äºåŸºæœ¬çš„è¯·æ±‚-å“åº”äº¤äº’</li>
<li>ä¾‹å¦‚ï¼šAgent å‘ç°è¿‡ç¨‹ä¸­çš„ GET è¯·æ±‚</li>
</ul>
</li>
<li>
<p><strong>JSON-RPC</strong>:</p>
<ul>
<li>ç”¨äºè¿œç¨‹è¿‡ç¨‹è°ƒç”¨</li>
<li>ä¾‹å¦‚ï¼šä»»åŠ¡æäº¤å’Œæ–¹æ³•è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>SSE(Server-Sent</strong> <strong>Events)</strong> :</p>
<ul>
<li>ç”¨äºæœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€äº‹ä»¶</li>
<li>å»ºç«‹æŒä¹…è¿æ¥å®ç°æµå¼ä¼ è¾“</li>
<li>ä¾‹å¦‚ï¼šä»»åŠ¡çŠ¶æ€æ›´æ–°å’Œä¸­é—´ç»“æœæ¨é€</li>
</ul>
</li>
<li>
<p><strong>Webhook</strong>:</p>
<ul>
<li>ç”¨äºå¼‚æ­¥é€šçŸ¥</li>
<li>æœåŠ¡å™¨å¯åŸºäºå®¢æˆ·ç«¯æä¾›çš„ URL ä¸»åŠ¨å‘é€ä»»åŠ¡æ›´æ–°</li>
<li>ä¾‹å¦‚ï¼šä»»åŠ¡å®Œæˆæˆ–å¤±è´¥çš„é€šçŸ¥</li>
</ul>
</li>
</ol>
<p>A2A çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶é€šè¿‡æ ‡å‡†åŒ–çš„åè®®å’Œç»„ä»¶ï¼Œä¸ºä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„æ™ºèƒ½ä½“æä¾›äº†äº’æ“ä½œçš„å¯èƒ½æ€§ã€‚è¿™ç§è®¾è®¡ä½¿å¾—æ™ºèƒ½ä½“èƒ½å¤Ÿè·¨å¹³å°åä½œï¼Œå½¢æˆæ›´åŠ å¼€æ”¾å’Œäº’æ“ä½œçš„ AI ç”Ÿæ€ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-32">3.4 ä¸‰ç§è°ƒåº¦æœºåˆ¶çš„æ¯”è¾ƒä¸åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-33">3.4.1 è°ƒåº¦æœºåˆ¶ç‰¹ç‚¹æ¯”è¾ƒ</h4>















































<table><thead><tr><th>ç‰¹æ€§</th><th>MetaGPT</th><th>LangGraph</th><th>A2A</th></tr></thead><tbody><tr><td>æ ¸å¿ƒç†å¿µ</td><td>åŸºäºè§’è‰²å’Œ SOP çš„åä½œ</td><td>åŸºäºçŠ¶æ€å›¾çš„æµç¨‹æ§åˆ¶</td><td>åŸºäºæ ‡å‡†åè®®çš„æ™ºèƒ½ä½“äº’æ“ä½œ</td></tr><tr><td>é€šä¿¡æ¨¡å¼</td><td>å‘å¸ƒ-è®¢é˜…</td><td>æ¶ˆæ¯ä¼ é€’</td><td>åŸºäº HTTP/JSON-RPC</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>åŸºäºæ¶ˆæ¯å†å²</td><td>ä¸­å¤®çŠ¶æ€å¯¹è±¡</td><td>åŸºäºä»»åŠ¡å¯¹è±¡çš„çŠ¶æ€</td></tr><tr><td>æµç¨‹æ§åˆ¶</td><td>åŸºäº SOP çš„çº¿æ€§æµç¨‹</td><td>åŸºäºå›¾çš„æ¡ä»¶æµç¨‹</td><td>åŸºäºä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ</td></tr><tr><td>æ‰©å±•æ€§</td><td>é€šè¿‡æ·»åŠ æ–°è§’è‰²å’ŒåŠ¨ä½œ</td><td>é€šè¿‡æ·»åŠ æ–°èŠ‚ç‚¹å’Œè¾¹</td><td>é€šè¿‡å®ç°æ ‡å‡†åè®®</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>è½¯ä»¶å¼€å‘ç­‰ç»“æ„åŒ–ä»»åŠ¡</td><td>å¤æ‚æµç¨‹å’Œå†³ç­–é€»è¾‘</td><td>è·¨å¹³å°æ™ºèƒ½ä½“åä½œ</td></tr></tbody></table>
<h4 data-id="heading-34">3.4.2 åº”ç”¨åœºæ™¯åˆ†æ</h4>
<p><strong>MetaGPT é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>è½¯ä»¶å¼€å‘ï¼šæ¨¡æ‹Ÿè½¯ä»¶å¼€å‘å›¢é˜Ÿçš„åä½œæµç¨‹</li>
<li>å†…å®¹åˆ›ä½œï¼šå¤šè§’è‰²åä½œåˆ›ä½œå†…å®¹</li>
<li>æ•™è‚²åŸ¹è®­ï¼šæ¨¡æ‹Ÿä¸åŒè§’è‰²çš„æ•™å­¦äº’åŠ¨</li>
<li>é¡¹ç›®ç®¡ç†ï¼šæŒ‰ç…§æ ‡å‡†æµç¨‹æ‰§è¡Œé¡¹ç›®ä»»åŠ¡</li>
</ul>
<p><strong>LangGraph é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤æ‚å†³ç­–ç³»ç»Ÿï¼šéœ€è¦å¤šæ­¥éª¤æ¨ç†å’Œæ¡ä»¶åˆ¤æ–­</li>
<li>äº¤äº’å¼åº”ç”¨ï¼šéœ€è¦æ ¹æ®ç”¨æˆ·è¾“å…¥åŠ¨æ€è°ƒæ•´æµç¨‹</li>
<li>è¿­ä»£å¤„ç†ä»»åŠ¡ï¼šéœ€è¦å¾ªç¯å¤„ç†ç›´åˆ°æ»¡è¶³æ¡ä»¶</li>
<li>å·¥å…·é›†æˆåº”ç”¨ï¼šéœ€è¦çµæ´»è°ƒç”¨å¤šç§å¤–éƒ¨å·¥å…·</li>
</ul>
<p><strong>A2A</strong> <strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>è·¨å¹³å°æ™ºèƒ½ä½“åä½œï¼šä¸åŒä¾›åº”å•†çš„æ™ºèƒ½ä½“éœ€è¦åä½œ</li>
<li>å¼€æ”¾ç”Ÿæ€ç³»ç»Ÿï¼šæ„å»ºå¼€æ”¾çš„æ™ºèƒ½ä½“å¸‚åœº</li>
<li>ä¼ä¸šç³»ç»Ÿé›†æˆï¼šä¸ç°æœ‰ IT ç³»ç»Ÿé›†æˆ</li>
<li>åˆ†å¸ƒå¼ AI åº”ç”¨ï¼šè·¨ç½‘ç»œçš„æ™ºèƒ½ä½“åä½œ</li>
</ul>
<h3 data-id="heading-35">3.5 ç»“è®ºä¸å±•æœ›</h3>
<p>é€šè¿‡å¯¹ MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶ã€LangGraph çš„ agent è‡ªè°ƒç”¨è½¬æ´¾æµç¨‹å’Œ A2A çš„ Agent å‘ç°å’Œè°ƒåº¦æœºåˆ¶çš„è¯¦ç»†åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸‰ç§å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä»£è¡¨äº†ä¸åŒçš„è®¾è®¡ç†å¿µå’ŒæŠ€æœ¯è·¯çº¿ï¼š</p>
<ol>
<li><strong>MetaGPT</strong> é‡‡ç”¨åŸºäºè§’è‰²ä¸“ä¸šåŒ–å’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„åä½œæœºåˆ¶ï¼Œé€šè¿‡æ¨¡æ‹Ÿäººç±»å›¢é˜Ÿçš„å·¥ä½œæ–¹å¼ï¼Œå®ç°äº†ç»“æ„åŒ–ä»»åŠ¡çš„é«˜æ•ˆåä½œã€‚</li>
<li><strong>LangGraph</strong> é‡‡ç”¨åŸºäºçŠ¶æ€å›¾çš„æµç¨‹æ§åˆ¶ï¼Œé€šè¿‡ç²¾ç»†çš„çŠ¶æ€ç®¡ç†å’Œæ¡ä»¶è·¯ç”±ï¼Œå®ç°äº†å¤æ‚å†³ç­–é€»è¾‘å’Œå¾ªç¯å¤„ç†çš„çµæ´»æ”¯æŒã€‚</li>
<li><strong>A2A</strong> ****é‡‡ç”¨åŸºäºæ ‡å‡†åè®®çš„æ™ºèƒ½ä½“äº’æ“ä½œæœºåˆ¶ï¼Œé€šè¿‡ Agent å‘ç°å’Œä»»åŠ¡è°ƒåº¦ï¼Œå®ç°äº†è·¨å¹³å°ã€è·¨ä¾›åº”å•†çš„æ™ºèƒ½ä½“åä½œã€‚</li>
</ol>
<blockquote>
<p>éšç€å¤šæ™ºèƒ½ä½“åä½œæŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥é¢„è§æœªæ¥å°†å‡ºç°æ›´å¤šæ··åˆæ¶æ„ç³»ç»Ÿï¼Œç»“åˆä¸åŒè°ƒåº¦æœºåˆ¶çš„ä¼˜ç‚¹ï¼Œå®ç°æ›´åŠ çµæ´»ã€é«˜æ•ˆå’Œå¯æ‰©å±•çš„æ™ºèƒ½ä½“åä½œã€‚åŒæ—¶ï¼Œåè®®æ ‡å‡†åŒ–ã€è‡ªé€‚åº”åä½œã€å»ä¸­å¿ƒåŒ–åä½œå’ŒäººæœºååŒå¢å¼ºå°†æˆä¸ºé‡è¦çš„å‘å±•è¶‹åŠ¿ã€‚</p>
</blockquote>
<p>è¿™ä¸‰ç§ç³»ç»Ÿå„æœ‰ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ï¼Œå…±åŒæ¨åŠ¨äº†å¤šæ™ºèƒ½ä½“åä½œæŠ€æœ¯çš„å‘å±•ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œåº”ç”¨åœºæ™¯çš„æ‹“å±•ï¼Œå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå°†ç»§ç»­æ¼”åŒ–ï¼Œä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›æ›´åŠ å¼ºå¤§å’Œçµæ´»çš„å·¥å…·ã€‚é€šè¿‡æ·±å…¥ç†è§£ä¸åŒç³»ç»Ÿçš„è°ƒåº¦æµç¨‹å’Œè®¾è®¡ç†å¿µï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°é€‰æ‹©å’Œåº”ç”¨è¿™äº›æŠ€æœ¯ï¼Œæ¨åŠ¨ AI æŠ€æœ¯çš„è¿›æ­¥å’Œåˆ›æ–°ã€‚</p>
<h2 data-id="heading-36">4. ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„æ·±å…¥æ¯”è¾ƒ</h2>
<h3 data-id="heading-37">4.1 MetaGPT ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„æ¯”è¾ƒ</h3>
<p>MetaGPT çš„è®¾è®¡ç†å¿µä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„å¤šç§æ¨¡å¼æœ‰æ˜æ˜¾çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p>
<p><strong>1. å›¢é˜Ÿåä½œæ¨¡å¼</strong>ï¼š</p>
<ul>
<li>MetaGPT çš„è§’è‰²åˆ†å·¥ï¼ˆäº§å“ç»ç†ã€æ¶æ„å¸ˆã€å·¥ç¨‹å¸ˆç­‰ï¼‰ç›´æ¥æ¨¡æ‹Ÿäº†è½¯ä»¶å¼€å‘å›¢é˜Ÿçš„ç»„ç»‡ç»“æ„</li>
<li>ä¼ ç»Ÿè½¯ä»¶å¼€å‘ä¸­çš„å›¢é˜Ÿåä½œé€šå¸¸åŸºäºæ˜ç¡®çš„èŒè´£åˆ’åˆ†å’Œå·¥ä½œæµç¨‹ï¼ŒMetaGPT é€šè¿‡ SOPï¼ˆæ ‡å‡†æ“ä½œç¨‹åºï¼‰å®ç°äº†ç±»ä¼¼çš„åä½œæµç¨‹</li>
<li>ä¸¤è€…éƒ½å¼ºè°ƒä¸“ä¸šåŒ–åˆ†å·¥å’Œä¿¡æ¯å…±äº«ï¼Œä»¥æé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡</li>
</ul>
<p><strong>2. äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼š</p>
<ul>
<li>MetaGPT çš„ pub/sub æ¶ˆæ¯æœºåˆ¶ä¸ä¼ ç»Ÿäº‹ä»¶é©±åŠ¨æ¶æ„é«˜åº¦ç›¸ä¼¼</li>
<li>ä¼ ç»Ÿäº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ï¼Œç»„ä»¶é€šè¿‡å‘å¸ƒå’Œè®¢é˜…äº‹ä»¶è¿›è¡Œæ¾è€¦åˆé€šä¿¡ï¼Œä¸éœ€è¦ç›´æ¥ä¾èµ–</li>
<li>ä¸¤è€…éƒ½é€šè¿‡æ¶ˆæ¯/äº‹ä»¶ä½œä¸ºé€šä¿¡åª’ä»‹ï¼Œå®ç°äº†ç»„ä»¶é—´çš„è§£è€¦å’Œç³»ç»Ÿçš„å¯æ‰©å±•æ€§</li>
</ul>
<p><strong>3.</strong> <strong>ç€‘å¸ƒæµ</strong> <strong>å¼€å‘æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>MetaGPT çš„å·¥ä½œæµç¨‹ä»éœ€æ±‚åˆ†æåˆ°æ¶æ„è®¾è®¡å†åˆ°å…·ä½“ç¼–ç çš„çº¿æ€§æµç¨‹ï¼Œç±»ä¼¼äºä¼ ç»Ÿç€‘å¸ƒæµå¼€å‘æ¨¡å¼</li>
<li>ä¼ ç»Ÿç€‘å¸ƒæµæ¨¡å‹å¼ºè°ƒé˜¶æ®µæ€§äº¤ä»˜å’Œæ˜ç¡®çš„é˜¶æ®µåˆ’åˆ†ï¼ŒMetaGPT é€šè¿‡è§’è‰²é—´çš„é¡ºåºåä½œå®ç°äº†ç±»ä¼¼çš„æ•ˆæœ</li>
<li>ä¸¤è€…éƒ½æœ‰æ˜ç¡®çš„é˜¶æ®µæ€§æˆæœå’Œäº¤ä»˜ç‰©ï¼Œå¦‚ PRDã€æ¶æ„è®¾è®¡æ–‡æ¡£ã€ä»£ç ç­‰</li>
</ul>
<p><strong>4. è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>MetaGPT çš„ pub/sub æœºåˆ¶æœ¬è´¨ä¸Šæ˜¯è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼çš„ä¸€ç§å®ç°</li>
<li>ä¼ ç»Ÿè§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œä¸»é¢˜ï¼ˆSubjectï¼‰ç»´æŠ¤ä¸€ç»„è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼Œå½“çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</li>
<li>ä¸¤è€…éƒ½é€šè¿‡é€šçŸ¥æœºåˆ¶å®ç°äº†å¯¹è±¡é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾—å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½èƒ½å¾—åˆ°é€šçŸ¥</li>
</ul>
<p>MetaGPT ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„ç›¸ä¼¼æ€§å¹¶éå¶ç„¶ï¼Œè€Œæ˜¯åŸºäºå¯¹è½¯ä»¶å¼€å‘è¿‡ç¨‹çš„æ·±åˆ»ç†è§£å’Œå¯¹äººç±»åä½œæ¨¡å¼çš„æœ‰æ•ˆæ¨¡æ‹Ÿã€‚è¿™ç§è®¾è®¡ä½¿å¾— MetaGPT èƒ½å¤Ÿä»¥ä¸€ç§ç»“æ„åŒ–å’Œå¯é¢„æµ‹çš„æ–¹å¼ç»„ç»‡å¤šä¸ªæ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œä»è€Œå®ç°å¤æ‚è½¯ä»¶ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–å¼€å‘ã€‚</p>
<h3 data-id="heading-38">4.2 LangGraph ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„æ¯”è¾ƒ</h3>
<p>LangGraph çš„è®¾è®¡ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„å¤šç§æ¨¡å¼æœ‰æ˜æ˜¾çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p>
<ol>
<li>
<p><strong>æœ‰é™</strong> <strong>çŠ¶æ€æœº</strong>ï¼š</p>
<ul>
<li>LangGraph çš„çŠ¶æ€å›¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰çš„å®ç°</li>
<li>ä¼ ç»Ÿ FSM ç”±çŠ¶æ€ã€äº‹ä»¶å’Œè½¬æ¢ç»„æˆï¼ŒLangGraph ä¸­çš„èŠ‚ç‚¹å¯¹åº”çŠ¶æ€ï¼Œæ¡ä»¶è¾¹å¯¹åº”è½¬æ¢</li>
<li>ä¸¤è€…éƒ½é€šè¿‡æ˜ç¡®å®šä¹‰çš„çŠ¶æ€è½¬æ¢è§„åˆ™æ¥æ§åˆ¶ç³»ç»Ÿçš„è¡Œä¸ºï¼Œæé«˜ç³»ç»Ÿçš„å¯é¢„æµ‹æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li>
<p><strong>å·¥ä½œæµå¼•æ“</strong>ï¼š</p>
<ul>
<li>LangGraph çš„å›¾æ‰§è¡Œæœºåˆ¶ç±»ä¼¼äºä¼ ç»Ÿ BPMï¼ˆä¸šåŠ¡æµç¨‹ç®¡ç†ï¼‰ç³»ç»Ÿä¸­çš„å·¥ä½œæµå®šä¹‰å’Œæ‰§è¡Œ</li>
<li>ä¼ ç»Ÿå·¥ä½œæµå¼•æ“é€šè¿‡å®šä¹‰æ´»åŠ¨èŠ‚ç‚¹å’Œæµè½¬è§„åˆ™æ¥ç¼–æ’ä¸šåŠ¡æµç¨‹ï¼ŒLangGraph é€šè¿‡èŠ‚ç‚¹å’Œæ¡ä»¶è¾¹å®ç°ç±»ä¼¼åŠŸèƒ½</li>
<li>ä¸¤è€…éƒ½æ”¯æŒå¤æ‚çš„æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯å’Œå¹¶è¡Œæ‰§è¡Œï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>å›¾è®¡ç®—æ¨¡å‹</strong>ï¼š</p>
<ul>
<li>LangGraph çš„å®ç°é‡‡ç”¨äº†æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œå…¶çµæ„Ÿæºè‡ª Google çš„ Pregel å’Œ Apache çš„ Beam ç­‰åˆ†å¸ƒå¼å›¾è®¡ç®—æ¡†æ¶</li>
<li>ä¼ ç»Ÿå›¾è®¡ç®—æ¨¡å‹é€šè¿‡é¡¶ç‚¹é—´çš„æ¶ˆæ¯ä¼ é€’å®ç°è®¡ç®—ï¼Œæ¯ä¸ªé¡¶ç‚¹æ ¹æ®æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ›´æ–°è‡ªèº«çŠ¶æ€</li>
<li>ä¸¤è€…éƒ½åˆ©ç”¨å›¾ç»“æ„çš„å¤©ç„¶ä¼˜åŠ¿æ¥è¡¨è¾¾å’Œå¤„ç†å¤æ‚çš„ä¾èµ–å…³ç³»å’Œè®¡ç®—æµç¨‹</li>
</ul>
</li>
</ol>
<blockquote>
<p>LangGraph é€šè¿‡å¼•å…¥å›¾ç»“æ„å’ŒçŠ¶æ€ç®¡ç†ï¼Œä¸º AI ç³»ç»Ÿæä¾›äº†ä¸€ç§æ›´åŠ ç»“æ„åŒ–å’Œå¯æ§çš„ç¼–ç¨‹æ¨¡å‹ï¼Œè¿™ç§æ¨¡å‹ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„å¤šç§æˆç†Ÿæ¨¡å¼æœ‰ç€æ·±åˆ»çš„è”ç³»ã€‚</p>
</blockquote>
<ol start="4">
<li>
<p><strong>å“åº”å¼ç¼–ç¨‹</strong>ï¼š</p>
<ul>
<li>LangGraph çš„çŠ¶æ€æ›´æ–°å’Œæ¶ˆæ¯ä¼ é€’æœºåˆ¶ç±»ä¼¼äºå“åº”å¼ç¼–ç¨‹æ¨¡å‹</li>
<li>ä¼ ç»Ÿå“åº”å¼ç¼–ç¨‹é€šè¿‡æ•°æ®æµå’Œå˜åŒ–ä¼ æ’­æ¥æ„å»ºåº”ç”¨ï¼Œå½“æ•°æ®æºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¾èµ–å®ƒçš„è®¡ç®—ä¼šè‡ªåŠ¨æ›´æ–°</li>
<li>ä¸¤è€…éƒ½å¼ºè°ƒæ•°æ®æµå’ŒçŠ¶æ€å˜åŒ–çš„è‡ªåŠ¨ä¼ æ’­ï¼Œç®€åŒ–äº†å¤æ‚å¼‚æ­¥æ“ä½œçš„å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä¾èµ–æ³¨å…¥</strong>ï¼š</p>
<ul>
<li>LangGraph ä¸­èŠ‚ç‚¹ä¹‹é—´é€šè¿‡çŠ¶æ€å¯¹è±¡ä¼ é€’ä¾èµ–ï¼Œç±»ä¼¼äºä¾èµ–æ³¨å…¥æ¨¡å¼</li>
<li>ä¼ ç»Ÿä¾èµ–æ³¨å…¥é€šè¿‡å®¹å™¨ç®¡ç†å¯¹è±¡çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸï¼Œå¹¶å°†ä¾èµ–æ³¨å…¥åˆ°éœ€è¦å®ƒä»¬çš„å¯¹è±¡ä¸­</li>
<li>ä¸¤è€…éƒ½é€šè¿‡ä¸­å¤®åŒ–çš„ä¾èµ–ç®¡ç†ç®€åŒ–äº†ç»„ä»¶é—´çš„äº¤äº’ï¼Œæé«˜äº†ç³»ç»Ÿçš„æ¨¡å—åŒ–å’Œå¯æµ‹è¯•æ€§</li>
</ul>
</li>
</ol>
<p>LangGraph é€šè¿‡å¼•å…¥å›¾ç»“æ„å’ŒçŠ¶æ€ç®¡ç†ï¼Œä¸º AI ç³»ç»Ÿæä¾›äº†ä¸€ç§æ›´åŠ ç»“æ„åŒ–å’Œå¯æ§çš„ç¼–ç¨‹æ¨¡å‹ï¼Œè¿™ç§æ¨¡å‹ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„å¤šç§æˆç†Ÿæ¨¡å¼æœ‰ç€æ·±åˆ»çš„è”ç³»ã€‚è¿™ç§è®¾è®¡ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä»¥æ›´åŠ ç²¾ç»†å’Œå¯æ§çš„æ–¹å¼æ„å»ºå¤æ‚çš„ AI åº”ç”¨ã€‚</p>
<h3 data-id="heading-39">4.3 A2A ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„æ¯”è¾ƒ</h3>
<p>A2A çš„è®¾è®¡ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­çš„å¤šç§æ¨¡å¼æœ‰æ˜æ˜¾çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p>
<ol>
<li>
<p><strong>æœåŠ¡å‘ç°</strong>ï¼š</p>
<ul>
<li>A2A çš„ Agent å‘ç°æœºåˆ¶ç±»ä¼¼äºå¾®æœåŠ¡æ¶æ„ä¸­çš„æœåŠ¡æ³¨å†Œä¸å‘ç°</li>
<li>ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡é€šè¿‡æ³¨å†Œä¸­å¿ƒï¼ˆå¦‚ Eurekaã€Consulï¼‰å‘å¸ƒè‡ªèº«èƒ½åŠ›å¹¶å‘ç°å…¶ä»–æœåŠ¡</li>
<li>ä¸¤è€…éƒ½è§£å†³äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç»„ä»¶å¦‚ä½•æ‰¾åˆ°å½¼æ­¤å¹¶äº†è§£å„è‡ªèƒ½åŠ›çš„é—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>RPC è°ƒç”¨</strong>ï¼š</p>
<ul>
<li>A2A åŸºäº JSON-RPC çš„é€šä¿¡ç±»ä¼¼äºä¼ ç»Ÿçš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰</li>
<li>ä¼ ç»Ÿ RPC å…è®¸ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸æ˜¯ç½‘ç»œä¸Šçš„å¦ä¸€å°è®¡ç®—æœºï¼‰çš„è¿‡ç¨‹ï¼Œå°±åƒè°ƒç”¨æœ¬åœ°è¿‡ç¨‹ä¸€æ ·</li>
<li>ä¸¤è€…éƒ½æä¾›äº†ä¸€ç§æŠ½è±¡ï¼Œä½¿å¾—è¿œç¨‹æœåŠ¡è°ƒç”¨çœ‹èµ·æ¥åƒæœ¬åœ°å‡½æ•°è°ƒç”¨ï¼Œç®€åŒ–äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼€å‘</li>
</ul>
</li>
<li>
<p><strong>RESTful API</strong>:</p>
<ul>
<li>A2A åŸºäº HTTP çš„é€šä¿¡éµå¾ª REST æ¶æ„é£æ ¼</li>
<li>ä¼ ç»Ÿ RESTful API ä½¿ç”¨æ ‡å‡† HTTP æ–¹æ³•æ“ä½œèµ„æºï¼Œé€šè¿‡ URL æ ‡è¯†èµ„æº</li>
<li>ä¸¤è€…éƒ½åˆ©ç”¨ HTTP åè®®çš„ç‰¹æ€§ï¼Œæä¾›äº†ä¸€ç§ç®€å•ã€æ ‡å‡†åŒ–çš„æœåŠ¡è®¿é—®æ–¹å¼</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶æµ</strong>ï¼š</p>
<ul>
<li>A2A ä½¿ç”¨ SSE å®ç°çš„æµå¼ä¼ è¾“ç±»ä¼¼äºäº‹ä»¶é©±åŠ¨æ¶æ„ä¸­çš„äº‹ä»¶æµ</li>
<li>ä¼ ç»Ÿäº‹ä»¶æµç³»ç»Ÿï¼ˆå¦‚ Kafkaã€RabbitMQï¼‰å…è®¸ç”Ÿäº§è€…å‘å¸ƒäº‹ä»¶ï¼Œæ¶ˆè´¹è€…è®¢é˜…å¹¶å¤„ç†è¿™äº›äº‹ä»¶</li>
<li>ä¸¤è€…éƒ½æ”¯æŒå¼‚æ­¥é€šä¿¡å’Œå®æ—¶æ•°æ®æµï¼Œé€‚ç”¨äºéœ€è¦å®æ—¶åé¦ˆçš„åœºæ™¯</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡ç¼–æ’</strong>ï¼š</p>
<ul>
<li>A2A çš„ä»»åŠ¡ç®¡ç†å’Œè°ƒåº¦ç±»ä¼¼äºæœåŠ¡ç¼–æ’å’Œåè°ƒ</li>
<li>ä¼ ç»ŸæœåŠ¡ç¼–æ’ï¼ˆå¦‚ Kubernetesã€Docker Swarmï¼‰è´Ÿè´£åè°ƒå¤šä¸ªæœåŠ¡çš„éƒ¨ç½²å’Œè¿è¡Œ</li>
<li>ä¸¤è€…éƒ½è§£å†³äº†å¦‚ä½•åè°ƒå¤šä¸ªç‹¬ç«‹ç»„ä»¶å…±åŒå®Œæˆå¤æ‚ä»»åŠ¡çš„é—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>åè®®æ ‡å‡†åŒ–</strong>ï¼š</p>
<ul>
<li>A2A è‡´åŠ›äºæˆä¸ºæ™ºèƒ½ä½“é—´é€šä¿¡çš„æ ‡å‡†åè®®ï¼Œç±»ä¼¼äº HTTPã€SMTP ç­‰äº’è”ç½‘åè®®æ ‡å‡†åŒ–è¿‡ç¨‹</li>
<li>ä¼ ç»Ÿäº’è”ç½‘åè®®é€šè¿‡æ ‡å‡†åŒ–å®ç°äº†ä¸åŒç³»ç»Ÿé—´çš„äº’æ“ä½œæ€§</li>
<li>ä¸¤è€…éƒ½é€šè¿‡å®šä¹‰æ ‡å‡†æ¥å£å’Œé€šä¿¡æ ¼å¼ï¼Œè§£å†³äº†å¼‚æ„ç³»ç»Ÿé—´çš„äº’æ“ä½œæ€§é—®é¢˜</li>
</ul>
</li>
</ol>
<p>A2A é€šè¿‡å€Ÿé‰´ä¼ ç»Ÿç½‘ç»œåè®®å’Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡ç†å¿µï¼Œä¸º AI æ™ºèƒ½ä½“é—´çš„é€šä¿¡æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹æ³•ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ä¸åŒæ¡†æ¶å’Œä¾›åº”å•†æ„å»ºçš„æ™ºèƒ½ä½“èƒ½å¤Ÿæ— ç¼åä½œï¼Œä¸ºæ„å»ºæ›´åŠ å¼€æ”¾å’Œäº’æ“ä½œçš„ AI ç”Ÿæ€ç³»ç»Ÿå¥ å®šäº†åŸºç¡€ã€‚</p>
<h3 data-id="heading-40">4.4 è®¾è®¡ç†å¿µå’Œæ¼”åŒ–é€»è¾‘åˆ†æ</h3>
<blockquote>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿè™½ç„¶æ˜¯ AI é¢†åŸŸçš„æ–°å…´æŠ€æœ¯ï¼Œä½†å…¶è®¾è®¡æ€æƒ³æ·±æ·±æ ¹æ¤äºä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æœ€ä½³å®è·µï¼ŒåŒæ—¶åˆæ ¹æ® AI ç³»ç»Ÿçš„ç‰¹æ®Šéœ€æ±‚è¿›è¡Œäº†åˆ›æ–°å’Œæ‰©å±•ã€‚</p>
</blockquote>
<p>é€šè¿‡å¯¹ä¸‰ä¸ªå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æ¨¡å¼çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€äº›å…±åŒçš„è®¾è®¡ç†å¿µå’Œæ¼”åŒ–é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>ä»å¤æ‚åˆ°ç®€å•çš„æŠ½è±¡</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹é€šè¿‡æŠ½è±¡å°†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºå¯ç®¡ç†çš„ç»„ä»¶ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»ŸåŒæ ·é€šè¿‡è§’è‰²åˆ†å·¥ã€çŠ¶æ€å›¾æˆ–æ ‡å‡†åè®®ç®€åŒ–å¤æ‚é—®é¢˜</li>
<li>è¿™ç§æŠ½è±¡ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨æ›´é«˜å±‚æ¬¡ä¸Šæ€è€ƒé—®é¢˜ï¼Œè€Œä¸å¿…å…³æ³¨åº•å±‚ç»†èŠ‚</li>
</ul>
</li>
<li>
<p><strong>æ¾è€¦åˆè®¾è®¡</strong>ï¼š</p>
<ul>
<li>æ— è®ºæ˜¯ MetaGPT çš„ pub/sub æœºåˆ¶ã€LangGraph çš„çŠ¶æ€ä¼ é€’è¿˜æ˜¯ A2A çš„æ ‡å‡†åè®®ï¼Œéƒ½ä½“ç°äº†æ¾è€¦åˆè®¾è®¡çš„æ€æƒ³</li>
<li>æ¾è€¦åˆè®¾è®¡ä½¿å¾—ç³»ç»Ÿç»„ä»¶èƒ½å¤Ÿç‹¬ç«‹æ¼”åŒ–ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§</li>
</ul>
</li>
<li>
<p><strong>æ ‡å‡†åŒ–æ¥å£</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹å¼ºè°ƒé€šè¿‡æ ‡å‡†åŒ–æ¥å£å®ç°ç»„ä»¶é—´çš„äº’æ“ä½œæ€§ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»ŸåŒæ ·é€šè¿‡å®šä¹‰æ˜ç¡®çš„æ¶ˆæ¯æ ¼å¼ã€çŠ¶æ€ç»“æ„æˆ–é€šä¿¡åè®®å®ç°æ™ºèƒ½ä½“é—´çš„åä½œ</li>
<li>æ ‡å‡†åŒ–æ¥å£é™ä½äº†é›†æˆæˆæœ¬ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»„åˆæ€§</li>
</ul>
</li>
<li>
<p><strong>ä»å•ä½“åˆ°åˆ†å¸ƒå¼çš„æ¼”åŒ–</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶ç³»ç»Ÿç»å†äº†ä»å•ä½“åº”ç”¨åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¼”åŒ–ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»ŸåŒæ ·ä½“ç°äº†è¿™ç§è¶‹åŠ¿</li>
<li>åˆ†å¸ƒå¼è®¾è®¡æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå®¹é”™æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†åè°ƒå’Œä¸€è‡´æ€§çš„æŒ‘æˆ˜</li>
</ul>
</li>
<li>
<p><strong>ä»é™æ€åˆ°åŠ¨æ€çš„è½¬å˜</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ç»å†äº†ä»é™æ€æ¶æ„åˆ°åŠ¨æ€å¯é‡æ„ç³»ç»Ÿçš„è½¬å˜ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¹Ÿåœ¨å‘æ›´åŠ åŠ¨æ€å’Œè‡ªé€‚åº”çš„æ–¹å‘å‘å±•</li>
<li>åŠ¨æ€æ€§ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿæ ¹æ®ç¯å¢ƒå˜åŒ–å’Œä»»åŠ¡éœ€æ±‚è°ƒæ•´è‡ªèº«è¡Œä¸ºï¼Œæé«˜äº†ç³»ç»Ÿçš„é€‚åº”æ€§</li>
</ul>
</li>
</ol>
<p>è¿™äº›è®¾è®¡ç†å¿µå’Œæ¼”åŒ–é€»è¾‘åæ˜ äº†è½¯ä»¶ç³»ç»Ÿé¢ä¸´çš„å…±åŒæŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆã€‚å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿè™½ç„¶æ˜¯ AI é¢†åŸŸçš„æ–°å…´æŠ€æœ¯ï¼Œä½†å…¶è®¾è®¡æ€æƒ³æ·±æ·±æ ¹æ¤äºä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æœ€ä½³å®è·µï¼ŒåŒæ—¶åˆæ ¹æ® AI ç³»ç»Ÿçš„ç‰¹æ®Šéœ€æ±‚è¿›è¡Œäº†åˆ›æ–°å’Œæ‰©å±•ã€‚</p>
<h2 data-id="heading-41">5. æœªæ¥å¤šæ™ºèƒ½ä½“è°ƒåº¦æ–¹å¼çš„é¢„æµ‹</h2>
<h3 data-id="heading-42">5.1 åŸºäºä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æ¼”åŒ–è·¯å¾„é¢„æµ‹</h3>
<p>åŸºäºä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„å‘å±•å†ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå¯èƒ½çš„æ¼”åŒ–è·¯å¾„ï¼š</p>
<ol>
<li>
<p><strong>ä»ä¸­å¿ƒåŒ–åˆ°å»ä¸­å¿ƒåŒ–</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶ç³»ç»Ÿç»å†äº†ä»ä¸­å¿ƒåŒ–æ¶æ„åˆ°åˆ†å¸ƒå¼æ¶æ„å†åˆ°å»ä¸­å¿ƒåŒ–ç³»ç»Ÿçš„æ¼”åŒ–</li>
<li>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯èƒ½ä¼šä»å½“å‰çš„ç›¸å¯¹ä¸­å¿ƒåŒ–è®¾è®¡å‘æ›´åŠ å»ä¸­å¿ƒåŒ–çš„æ–¹å‘å‘å±•</li>
<li>æœªæ¥å¯èƒ½å‡ºç°åŸºäº P2P ç½‘ç»œæˆ–åŒºå—é“¾æŠ€æœ¯çš„å»ä¸­å¿ƒåŒ–æ™ºèƒ½ä½“åä½œç½‘ç»œ</li>
</ul>
</li>
<li>
<p><strong>ä»é™æ€é…ç½®åˆ°åŠ¨æ€è‡ªé€‚åº”</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶ç³»ç»Ÿç»å†äº†ä»é™æ€é…ç½®åˆ°åŠ¨æ€é…ç½®å†åˆ°è‡ªé€‚åº”ç³»ç»Ÿçš„æ¼”åŒ–</li>
<li>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯èƒ½ä¼šä»å½“å‰çš„ç›¸å¯¹é™æ€è§’è‰²å’Œæµç¨‹å®šä¹‰å‘æ›´åŠ åŠ¨æ€å’Œè‡ªé€‚åº”çš„æ–¹å‘å‘å±•</li>
<li>æœªæ¥å¯èƒ½å‡ºç°èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡éœ€æ±‚å’Œç¯å¢ƒå˜åŒ–åŠ¨æ€è°ƒæ•´è§’è‰²åˆ†é…çš„æ™ºèƒ½ä½“ç³»ç»Ÿ</li>
</ul>
</li>
<li>
<p><strong>ä»ä¸“ç”¨åè®®åˆ°æ ‡å‡†åè®®</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿç½‘ç»œé€šä¿¡ç»å†äº†ä»ä¸“ç”¨åè®®åˆ°æ ‡å‡†åè®®çš„æ¼”åŒ–</li>
<li>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯èƒ½ä¼šä»å½“å‰çš„æ¡†æ¶ç‰¹å®šé€šä¿¡æœºåˆ¶å‘æ›´åŠ æ ‡å‡†åŒ–çš„åè®®æ–¹å‘å‘å±•</li>
<li>A2A åè®®çš„å‡ºç°å·²ç»æ˜¯è¿™ä¸€è¶‹åŠ¿çš„ä½“ç°ï¼Œæœªæ¥å¯èƒ½ä¼šå‡ºç°æ›´å¤šçš„æ ‡å‡†åè®®æ•´åˆä¸ç»Ÿä¸€</li>
</ul>
</li>
<li>
<p><strong>ä»å•ä¸€</strong> <strong>æ¨¡æ€</strong> <strong>åˆ°å¤šæ¨¡æ€èåˆ</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿç”¨æˆ·ç•Œé¢ç»å†äº†ä»å‘½ä»¤è¡Œåˆ°å›¾å½¢ç•Œé¢å†åˆ°å¤šæ¨¡æ€äº¤äº’çš„æ¼”åŒ–</li>
<li>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯èƒ½ä¼šä»å½“å‰çš„ä¸»è¦åŸºäºæ–‡æœ¬çš„äº¤äº’å‘æ›´åŠ å¤šæ¨¡æ€çš„æ–¹å‘å‘å±•</li>
<li>æœªæ¥å¯èƒ½å‡ºç°èƒ½å¤Ÿæ— ç¼èåˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šç§æ¨¡æ€çš„æ™ºèƒ½ä½“åä½œç³»ç»Ÿ</li>
</ul>
</li>
<li>
<p><strong>ä»å°é—­ç”Ÿæ€åˆ°å¼€æ”¾ç”Ÿæ€</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿè½¯ä»¶å¹³å°ç»å†äº†ä»å°é—­ç³»ç»Ÿåˆ°å¼€æ”¾å¹³å°çš„æ¼”åŒ–</li>
<li>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå¯èƒ½ä¼šä»å½“å‰çš„ç›¸å¯¹å°é—­æ¡†æ¶å‘æ›´åŠ å¼€æ”¾å’Œäº’æ“ä½œçš„æ–¹å‘å‘å±•</li>
<li>æœªæ¥å¯èƒ½å‡ºç°è·¨å¹³å°ã€è·¨ä¾›åº”å•†çš„æ™ºèƒ½ä½“ç”Ÿæ€ç³»ç»Ÿï¼Œä¸åŒæ¥æºçš„æ™ºèƒ½ä½“å¯ä»¥æ— ç¼åä½œ</li>
</ul>
</li>
</ol>
<h3 data-id="heading-43">5.2 æ–°å…´æŠ€æœ¯å¯¹å¤šæ™ºèƒ½ä½“åä½œçš„æ½œåœ¨å½±å“</h3>
<p>æ–°å…´æŠ€æœ¯çš„å‘å±•å°†å¯¹å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿäº§ç”Ÿæ·±è¿œå½±å“ï¼š</p>
<blockquote>
<p>åŒºå—é“¾ã€è”é‚¦å­¦ä¹ ã€è¾¹ç¼˜è®¡ç®—ã€çŸ¥è¯†å›¾è°±å’Œè‡ªç„¶è¯­è¨€å¤„ç†ç­‰æ–°å…´æŠ€æœ¯å°†ä¸ºå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå¸¦æ¥é©å‘½æ€§å˜é©ï¼Œå‚¬ç”Ÿæ–°çš„åä½œæ¨¡å¼å’Œåº”ç”¨åœºæ™¯ã€‚</p>
</blockquote>
<ol>
<li>
<p><strong>åŒºå—é“¾æŠ€æœ¯</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½åˆçº¦å¯ä»¥ä¸ºæ™ºèƒ½ä½“é—´çš„åä½œæä¾›å¯ä¿¡æ‰§è¡Œç¯å¢ƒ</li>
<li>å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰æ¨¡å¼å¯ä»¥ä¸ºæ™ºèƒ½ä½“åä½œæä¾›æ²»ç†æ¡†æ¶</li>
<li>åŒºå—é“¾å¯ä»¥ä¸ºæ™ºèƒ½ä½“æä¾›åˆ†å¸ƒå¼èº«ä»½å’Œå£°èª‰ç³»ç»Ÿï¼Œå¢å¼ºæ™ºèƒ½ä½“é—´çš„ä¿¡ä»»</li>
<li>å¯èƒ½å‡ºç°åŸºäºåŒºå—é“¾çš„æ™ºèƒ½ä½“å¸‚åœºï¼Œæ™ºèƒ½ä½“å¯ä»¥è‡ªä¸»æä¾›æœåŠ¡å¹¶è·å–æŠ¥é…¬</li>
</ul>
</li>
<li>
<p><strong>è”é‚¦å­¦ä¹ </strong>ï¼š</p>
<ul>
<li>è”é‚¦å­¦ä¹ å¯ä»¥ä½¿æ™ºèƒ½ä½“åœ¨ä¿æŠ¤æ•°æ®éšç§çš„åŒæ—¶å…±åŒå­¦ä¹ å’Œæ”¹è¿›</li>
<li>æ™ºèƒ½ä½“å¯ä»¥åœ¨æœ¬åœ°æ•°æ®ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œåªå…±äº«æ¨¡å‹æ›´æ–°è€Œä¸å…±äº«åŸå§‹æ•°æ®</li>
<li>è¿™å°†ä½¿å¾—å¤šæ™ºèƒ½ä½“ç³»ç»Ÿèƒ½å¤Ÿåœ¨æ›´åŠ éšç§ä¿æŠ¤çš„ç¯å¢ƒä¸­åä½œ</li>
<li>å¯èƒ½å‡ºç°åŸºäºè”é‚¦å­¦ä¹ çš„æ™ºèƒ½ä½“åä½œç½‘ç»œï¼Œæ™ºèƒ½ä½“é€šè¿‡å…±äº«çŸ¥è¯†è€Œä¸å…±äº«æ•°æ®æ¥æé«˜æ•´ä½“æ€§èƒ½</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç¼˜è®¡ç®—</strong>ï¼š</p>
<ul>
<li>è¾¹ç¼˜è®¡ç®—å°†ä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿåœ¨é è¿‘æ•°æ®æºçš„åœ°æ–¹æ‰§è¡Œï¼Œå‡å°‘å»¶è¿Ÿå’Œå¸¦å®½æ¶ˆè€—</li>
<li>æ™ºèƒ½ä½“å¯ä»¥åœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè¿è¡Œï¼Œå½¢æˆåˆ†å¸ƒå¼åä½œç½‘ç»œ</li>
<li>è¿™å°†ä½¿å¾—å¤šæ™ºèƒ½ä½“ç³»ç»Ÿèƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ç‰©è”ç½‘å’Œå®æ—¶åº”ç”¨åœºæ™¯</li>
<li>å¯èƒ½å‡ºç°è¾¹ç¼˜-äº‘ååŒçš„æ™ºèƒ½ä½“æ¶æ„ï¼Œè¾¹ç¼˜æ™ºèƒ½ä½“å¤„ç†å®æ—¶ä»»åŠ¡ï¼Œäº‘ç«¯æ™ºèƒ½ä½“å¤„ç†å¤æ‚è®¡ç®—</li>
</ul>
</li>
<li>
<p><strong>çŸ¥è¯†</strong> <strong>å›¾è°±</strong>ï¼š</p>
<ul>
<li>çŸ¥è¯†å›¾è°±å¯ä»¥ä¸ºæ™ºèƒ½ä½“æä¾›ç»“æ„åŒ–çš„çŸ¥è¯†è¡¨ç¤ºå’Œæ¨ç†èƒ½åŠ›</li>
<li>æ™ºèƒ½ä½“å¯ä»¥å…±äº«å’Œæ›´æ–°çŸ¥è¯†å›¾è°±ï¼Œå½¢æˆé›†ä½“æ™ºèƒ½</li>
<li>è¿™å°†ä½¿å¾—å¤šæ™ºèƒ½ä½“ç³»ç»Ÿèƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œå¤„ç†å¤æ‚é¢†åŸŸçŸ¥è¯†</li>
<li>å¯èƒ½å‡ºç°åŸºäºçŸ¥è¯†å›¾è°±çš„æ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼Œæ™ºèƒ½ä½“é€šè¿‡å…±äº«çŸ¥è¯†å›¾è°±æ¥åè°ƒè¡ŒåŠ¨</li>
</ul>
</li>
<li>
<p><strong>è‡ªç„¶è¯­è¨€å¤„ç†è¿›å±•</strong>ï¼š</p>
<ul>
<li>å¤§å‹è¯­è¨€æ¨¡å‹çš„è¿›ä¸€æ­¥å‘å±•å°†ä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œç”Ÿæˆè‡ªç„¶è¯­è¨€</li>
<li>æ™ºèƒ½ä½“é—´çš„é€šä¿¡å¯ä»¥æ›´åŠ æ¥è¿‘äººç±»è‡ªç„¶è¯­è¨€ï¼Œå‡å°‘å½¢å¼åŒ–æ¥å£çš„éœ€æ±‚</li>
<li>è¿™å°†é™ä½æ™ºèƒ½ä½“å¼€å‘å’Œé›†æˆçš„é—¨æ§›ï¼Œä¿ƒè¿›æ›´å¹¿æ³›çš„åº”ç”¨</li>
<li>å¯èƒ½å‡ºç°åŸºäºè‡ªç„¶è¯­è¨€çš„æ™ºèƒ½ä½“åä½œåè®®ï¼Œæ™ºèƒ½ä½“é€šè¿‡è‡ªç„¶è¯­è¨€åå•†å’Œåè°ƒ</li>
</ul>
</li>
</ol>
<h3 data-id="heading-44">5.3 æœªæ¥å¯èƒ½å‡ºç°çš„å¤šæ™ºèƒ½ä½“è°ƒåº¦æ–¹å¼</h3>
<p>åŸºäºä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥é¢„æµ‹æœªæ¥å¯èƒ½å‡ºç°çš„å¤šæ™ºèƒ½ä½“è°ƒåº¦æ–¹å¼ï¼š</p>
<ol>
<li>
<p><strong>è‡ªç»„ç»‡ç½‘ç»œè°ƒåº¦</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“å½¢æˆè‡ªç»„ç»‡ç½‘ç»œï¼Œæ²¡æœ‰ä¸­å¤®è°ƒåº¦å™¨</li>
<li>æ™ºèƒ½ä½“é€šè¿‡å±€éƒ¨äº¤äº’å’Œåå•†è‡ªä¸»å†³å®šä»»åŠ¡åˆ†é…å’Œåä½œæ–¹å¼</li>
<li>ç±»ä¼¼äºèšç¾¤ç®—æ³•æˆ–å¸‚åœºæœºåˆ¶ï¼Œé€šè¿‡ç®€å•è§„åˆ™å’Œå±€éƒ¨ä¼˜åŒ–å®ç°å…¨å±€åè°ƒ</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆåŠ¨æ€å˜åŒ–çš„ç¯å¢ƒå’Œä»»åŠ¡</li>
</ul>
</li>
<li>
<p><strong>åŸºäºæ„å›¾çš„è°ƒåº¦</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“é€šè¿‡ç†è§£å’Œæ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„æ„å›¾æ¥åè°ƒè¡ŒåŠ¨</li>
<li>ä¸éœ€è¦æ˜¾å¼çš„ä»»åŠ¡åˆ†é…ï¼Œæ™ºèƒ½ä½“æ ¹æ®å¯¹æ•´ä½“ç›®æ ‡å’Œå…¶ä»–æ™ºèƒ½ä½“èƒ½åŠ›çš„ç†è§£è‡ªä¸»è¡ŒåŠ¨</li>
<li>ç±»ä¼¼äºäººç±»å›¢é˜Ÿä¸­çš„éšå¼åè°ƒï¼Œé€šè¿‡å…±äº«å¿ƒæ™ºæ¨¡å‹å®ç°åä½œ</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆéœ€è¦é«˜åº¦çµæ´»æ€§å’Œåˆ›é€ æ€§çš„ä»»åŠ¡</li>
</ul>
</li>
</ol>
<blockquote>
<p>æœªæ¥çš„å¤šæ™ºèƒ½ä½“è°ƒåº¦æ–¹å¼å°†æ›´åŠ å¤šå…ƒåŒ–å’Œæ™ºèƒ½åŒ–ï¼Œä»è‡ªç»„ç»‡ç½‘ç»œåˆ°å¤šå±‚æ¬¡æ··åˆè°ƒåº¦ï¼Œä»åŸºäºå£°èª‰çš„è°ƒåº¦åˆ°äººæœºååŒè°ƒåº¦ï¼Œä¸ºä¸åŒåº”ç”¨åœºæ™¯æä¾›æ›´åŠ çµæ´»å’Œé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<ol start="3">
<li>
<p><strong>å¤šå±‚æ¬¡æ··åˆè°ƒåº¦</strong>ï¼š</p>
<ul>
<li>ç»“åˆä¸­å¿ƒåŒ–å’Œå»ä¸­å¿ƒåŒ–è°ƒåº¦çš„ä¼˜åŠ¿</li>
<li>ä½å±‚æ¬¡ä»»åŠ¡é€šè¿‡å»ä¸­å¿ƒåŒ–æ–¹å¼è‡ªä¸»åè°ƒï¼Œé«˜å±‚æ¬¡ç›®æ ‡é€šè¿‡ä¸­å¿ƒåŒ–æ–¹å¼ç»Ÿä¸€è§„åˆ’</li>
<li>ç±»ä¼¼äºäººç±»ç»„ç»‡ä¸­çš„åˆ†å±‚ç®¡ç†ï¼Œæ—¢æœ‰è‡ªä¸»æ€§åˆæœ‰æ•´ä½“åè°ƒ</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆå¤æ‚ç³»ç»Ÿå’Œå¤§è§„æ¨¡æ™ºèƒ½ä½“ç½‘ç»œ</li>
</ul>
</li>
<li>
<p><strong>åŸºäºå£°èª‰çš„è°ƒåº¦</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“æ ¹æ®å†å²è¡¨ç°å»ºç«‹å£°èª‰ç³»ç»Ÿ</li>
<li>ä»»åŠ¡åˆ†é…å’Œèµ„æºåˆ†é…æ ¹æ®æ™ºèƒ½ä½“çš„å£°èª‰è¿›è¡Œä¼˜åŒ–</li>
<li>ç±»ä¼¼äºç¤¾ä¼šä¸­çš„ä¿¡ä»»æœºåˆ¶ï¼Œé€šè¿‡å†å²è¡Œä¸ºé¢„æµ‹æœªæ¥è¡¨ç°</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆé•¿æœŸè¿è¡Œçš„æ™ºèƒ½ä½“ç”Ÿæ€ç³»ç»Ÿ</li>
</ul>
</li>
<li>
<p><strong>äººæœºååŒè°ƒåº¦</strong>ï¼š</p>
<ul>
<li>äººç±»å‚ä¸æ™ºèƒ½ä½“åä½œçš„å…³é”®å†³ç­–</li>
<li>æ™ºèƒ½ä½“å¤„ç†å¸¸è§„ä»»åŠ¡ï¼Œäººç±»æä¾›æˆ˜ç•¥æŒ‡å¯¼å’Œåˆ›é€ æ€§è¾“å…¥</li>
<li>ç±»ä¼¼äºäººæœºæ··åˆæ™ºèƒ½ç³»ç»Ÿï¼Œç»“åˆäººç±»åˆ¤æ–­åŠ›å’Œæœºå™¨æ•ˆç‡</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆéœ€è¦äººç±»ä»·å€¼è§‚å’Œåˆ¤æ–­çš„å…³é”®é¢†åŸŸ</li>
</ul>
</li>
<li>
<p><strong>åŸºäº</strong> <strong>å¼ºåŒ–å­¦ä¹ </strong> <strong>çš„è‡ªé€‚åº”è°ƒåº¦</strong>ï¼š</p>
<ul>
<li>è°ƒåº¦ç³»ç»Ÿé€šè¿‡å¼ºåŒ–å­¦ä¹ ä¸æ–­ä¼˜åŒ–ä»»åŠ¡åˆ†é…ç­–ç•¥</li>
<li>æ ¹æ®å†å²æ‰§è¡Œç»“æœå’Œç¯å¢ƒåé¦ˆè°ƒæ•´è°ƒåº¦å†³ç­–</li>
<li>ç±»ä¼¼äºè‡ªé€‚åº”æ§åˆ¶ç³»ç»Ÿï¼Œé€šè¿‡è¯•é”™å’Œåé¦ˆä¸æ–­æ”¹è¿›</li>
<li>è¿™ç§è°ƒåº¦æ–¹å¼é€‚åˆåŠ¨æ€å˜åŒ–çš„ä»»åŠ¡å’Œç¯å¢ƒ</li>
</ul>
</li>
</ol>
<p>è¿™äº›æ–°å‹è°ƒåº¦æ–¹å¼å°†ä½¿å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ›´åŠ çµæ´»ã€é«˜æ•ˆå’Œå¯æ‰©å±•ï¼Œèƒ½å¤Ÿåº”å¯¹æ›´åŠ å¤æ‚å’ŒåŠ¨æ€çš„é—®é¢˜ã€‚éšç€æŠ€æœ¯çš„å‘å±•å’Œåº”ç”¨åœºæ™¯çš„æ‹“å±•ï¼Œå¯èƒ½ä¼šå‡ºç°æ›´å¤šåˆ›æ–°çš„è°ƒåº¦æ–¹å¼ï¼Œè¿›ä¸€æ­¥æ¨åŠ¨å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿçš„å‘å±•ã€‚</p>
<h2 data-id="heading-45">6. ç»“è®º</h2>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿä½œä¸º AI é¢†åŸŸçš„é‡è¦ç ”ç©¶æ–¹å‘ï¼Œæ­£åœ¨å¿«é€Ÿå‘å±•å¹¶å±•ç°å‡ºå·¨å¤§çš„åº”ç”¨æ½œåŠ›ã€‚é€šè¿‡æœ¬æ–‡çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<p><strong>1. å¤šæ ·åŒ–çš„åä½œèŒƒå¼</strong>ï¼š</p>
<p>MetaGPTã€LangGraph å’Œ A2A ä»£è¡¨äº†ä¸‰ç§ä¸åŒçš„å¤šæ™ºèƒ½ä½“åä½œèŒƒå¼â€”â€”åŸºäºè§’è‰²å’Œ SOP çš„åä½œã€åŸºäºçŠ¶æ€å›¾çš„æµç¨‹æ§åˆ¶å’ŒåŸºäºæ ‡å‡†åè®®çš„æ™ºèƒ½ä½“äº’æ“ä½œã€‚è¿™äº›èŒƒå¼å„æœ‰ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ï¼Œå…±åŒæ¨åŠ¨äº†å¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„å‘å±•ã€‚</p>
<p><strong>2. ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„æ·±åˆ»å½±å“</strong>ï¼š</p>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿçš„è®¾è®¡ç†å¿µæ·±å—ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„å½±å“ï¼Œä»å›¢é˜Ÿåä½œã€äº‹ä»¶é©±åŠ¨æ¶æ„ã€çŠ¶æ€æœºåˆ°å¾®æœåŠ¡å’Œ RESTful APIï¼Œè¿™äº›æˆç†Ÿçš„è½¯ä»¶å·¥ç¨‹æ¨¡å¼ä¸ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿæä¾›äº†å®è´µçš„è®¾è®¡çµæ„Ÿå’Œæœ€ä½³å®è·µã€‚</p>
<p><strong>3. æ¼”åŒ–è¶‹åŠ¿çš„å»¶ç»­</strong>ï¼š</p>
<p>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„å‘å±•è¶‹åŠ¿åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå»¶ç»­äº†ä¼ ç»Ÿè½¯ä»¶ç³»ç»Ÿçš„æ¼”åŒ–è·¯å¾„ï¼Œä»ä¸­å¿ƒåŒ–åˆ°å»ä¸­å¿ƒåŒ–ã€ä»é™æ€åˆ°åŠ¨æ€ã€ä»ä¸“ç”¨åˆ°æ ‡å‡†åŒ–ã€ä»å•ä¸€æ¨¡æ€åˆ°å¤šæ¨¡æ€èåˆã€ä»å°é—­åˆ°å¼€æ”¾ç”Ÿæ€ã€‚</p>
<p><strong>4. æ–°å…´æŠ€æœ¯çš„å‚¬åŒ–ä½œç”¨</strong>ï¼š</p>
<p>åŒºå—é“¾ã€è”é‚¦å­¦ä¹ ã€è¾¹ç¼˜è®¡ç®—ã€çŸ¥è¯†å›¾è°±å’Œè‡ªç„¶è¯­è¨€å¤„ç†ç­‰æ–°å…´æŠ€æœ¯å°†å¯¹å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿäº§ç”Ÿæ·±è¿œå½±å“ï¼Œå‚¬ç”Ÿæ–°çš„åä½œæ¨¡å¼å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>5. æœªæ¥è°ƒåº¦æ–¹å¼çš„å¤šå…ƒåŒ–</strong>ï¼š</p>
<p>æœªæ¥çš„å¤šæ™ºèƒ½ä½“è°ƒåº¦æ–¹å¼å°†æ›´åŠ å¤šå…ƒåŒ–ï¼ŒåŒ…æ‹¬è‡ªç»„ç»‡ç½‘ç»œè°ƒåº¦ã€åŸºäºæ„å›¾çš„è°ƒåº¦ã€å¤šå±‚æ¬¡æ··åˆè°ƒåº¦ã€åŸºäºå£°èª‰çš„è°ƒåº¦ã€äººæœºååŒè°ƒåº¦å’ŒåŸºäºå¼ºåŒ–å­¦ä¹ çš„è‡ªé€‚åº”è°ƒåº¦ç­‰ã€‚</p>
<p>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿçš„å‘å±•ä¸ä»…æ¨åŠ¨äº† AI æŠ€æœ¯çš„è¿›æ­¥ï¼Œä¹Ÿä¸ºæˆ‘ä»¬ç†è§£å’Œè®¾è®¡å¤æ‚ç³»ç»Ÿæä¾›äº†æ–°çš„è§†è§’ã€‚é€šè¿‡å€Ÿé‰´ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„ç»éªŒå’Œèåˆæ–°å…´æŠ€æœ¯çš„åˆ›æ–°ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿæœ‰æœ›åœ¨æœªæ¥è§£å†³æ›´åŠ å¤æ‚å’Œå¤šæ ·åŒ–çš„é—®é¢˜ï¼Œä¸ºäººå·¥æ™ºèƒ½çš„å‘å±•å¼€è¾Ÿæ–°çš„æ–¹å‘ã€‚</p>
<blockquote>
<p>æœªæ¥çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå°†ä¸ä»…ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ç†è§£å’Œæ„å»ºå¤æ‚ç³»ç»Ÿçš„æ–°èŒƒå¼ï¼Œä¸ºäººç±»ç¤¾ä¼šçš„å‘å±•æä¾›å¼ºå¤§æ”¯æŒã€‚</p>
</blockquote>
<p>éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œåº”ç”¨åœºæ™¯çš„æ‹“å±•ï¼Œå¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå°†ç»§ç»­æ¼”åŒ–ï¼Œå½¢æˆæ›´åŠ å¼€æ”¾ã€çµæ´»å’Œæ™ºèƒ½çš„ç”Ÿæ€ç³»ç»Ÿã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„ç»éªŒå’Œæœ€ä½³å®è·µå°†ç»§ç»­å‘æŒ¥é‡è¦ä½œç”¨ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦é’ˆå¯¹ AI ç³»ç»Ÿçš„ç‰¹æ®Šéœ€æ±‚è¿›è¡Œåˆ›æ–°å’Œæ‰©å±•ã€‚</p>
<p>æœªæ¥çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå°†ä¸ä»…ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ç†è§£å’Œæ„å»ºå¤æ‚ç³»ç»Ÿçš„æ–°èŒƒå¼ï¼Œä¸ºäººç±»ç¤¾ä¼šçš„å‘å±•æä¾›å¼ºå¤§æ”¯æŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†äº«ä¸€äº›ç¼–ç¨‹åŠ©æ‰‹ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç»éªŒæ•™è®­ä¸è§‚å¯Ÿæ€è€ƒ]]></title>    <link>https://juejin.cn/post/7605036907459706931</link>    <guid>https://juejin.cn/post/7605036907459706931</guid>    <pubDate>2026-02-11T02:36:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605036907459706931" data-draft-id="7605055844254760998" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†äº«ä¸€äº›ç¼–ç¨‹åŠ©æ‰‹ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç»éªŒæ•™è®­ä¸è§‚å¯Ÿæ€è€ƒ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,LLM,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-11T02:36:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Baihai_IDP"/> <meta itemprop="url" content="https://juejin.cn/user/3123071228582343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†äº«ä¸€äº›ç¼–ç¨‹åŠ©æ‰‹ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç»éªŒæ•™è®­ä¸è§‚å¯Ÿæ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3123071228582343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Baihai_IDP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:36:18.000Z" title="Wed Feb 11 2026 02:36:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç¼–è€…æŒ‰ï¼š</strong> æ–‡ç« å†…å®¹æ¶µç›–ä½œè€…è¿‘18ä¸ªæœˆçš„æ·±åº¦å®è·µè§‚å¯Ÿï¼šé¦–å…ˆï¼Œä½œè€…æŒ‡å‡ºAIåŠ©æ‰‹åœ¨ä¸»æµè¯­è¨€ä»£ç ç”Ÿæˆã€é•¿æœŸä»»åŠ¡è¿è´¯æ€§æ–¹é¢å–å¾—æ˜¾è‘—çªç ´ï¼Œä½†åœ¨UIæ¡†æ¶æŠ½è±¡å±‚å¤„ç†ä¸Šä»æ˜¾ç¬¨æ‹™ï¼›å…¶æ¬¡ï¼Œä»–æ­ç¤ºäº†æ¨¡å‹â€œæ±‚å¿«â€çš„é»˜è®¤æ€§æ ¼éœ€é€šè¿‡â€œæƒ¯ç”¨æ€§â€æç¤ºè¯åŠ ä»¥çº¦æŸï¼Œå¹¶æƒŠå¹äºOpus 4.5ä¸GPT 5.2åœ¨Bugå®šä½ä¸Šçš„æƒŠäººèƒ½åŠ›ï¼Œä½†ä¹Ÿè­¦ç¤ºï¼Œè¿‡åº¦ä¾èµ–AIä¼šå¯¼è‡´å¼€å‘è€…å¿ƒæ™ºæ¨¡å‹ä¿çœŸåº¦å¿«é€Ÿè¡°å‡ï¼Œè¿›è€Œç¼©çŸ­ä»£ç åº“çš„â€œå“è´¨åŠè¡°æœŸâ€ï¼›æœ€åï¼Œä½œè€…æå‡ºåŠ¡å®å»ºè®®â€”â€”ä»å¤„ç†ç¹çä»»åŠ¡å…¥æ‰‹ï¼Œä½¿ç”¨å¤–éƒ¨æ²™ç®±éš”ç¦»ä¼šè¯ï¼Œå¹¶æ¥å—â€œäº²æ‰‹æ‰“ç£¨ä»£ç â€å°†é€æ¸ä»èŒä¸šéœ€æ±‚å›å½’ä¸ºçº¯ç²¹çƒ­çˆ±çš„ç°å®ã€‚</p>
</blockquote>
<p><strong>ä½œè€… | kulesh</strong></p>
<p><strong>ç¼–è¯‘ | å²³æ‰¬</strong></p>
<p>TL;DR: å¦‚æœä½ æ˜¯ä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæ— è®ºèµ„å†æ·±æµ…ï¼Œé€‰ä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶æŠŠå®ƒæ‰“é€ æˆä½ æœ€å¾—åŠ›çš„ç»“å¯¹ç¼–ç¨‹ä¼™ä¼´ã€‚è¿™ä¸€ç†å¿µåŒæ ·é€‚ç”¨äºè½¯ä»¶å·¥ç¨‹ä¹‹å¤–çš„é¢†åŸŸã€‚</p>
<p>è¿‡å»çº¦ä¸€å¹´åŠçš„æ—¶é—´é‡Œï¼Œæˆ‘ä¸€ç›´åœ¨ä½¿ç”¨ Copilotã€Cody å’Œ Cursorã€‚ä»Šå¹´æ—©äº›æ—¶å€™ï¼ŒClaude Codeã€Codex ä¸ Gemini å‘å¸ƒå[1]ï¼Œæˆ‘ä¹Ÿå¾ˆå¿«å¼€å§‹å°è¯•ã€‚å€ŸåŠ©è¿™äº›å·¥å…·ï¼Œæˆ‘ä¸ä»…ä¸å›¢é˜Ÿåä½œå®Œæˆä»£ç ç¼–å†™å’Œé—®é¢˜è°ƒè¯•ï¼Œä¹Ÿä¸ºæˆ‘è‡ªå·±ã€æœ‹å‹å’Œå®¶äººå¼€å‘äº†æ›´å¤šé¡¹ç›®ã€‚æœ¬æ–‡ç®€è¦è®°å½•äº†æˆ‘åœ¨è¿‡å»çº¦ 18 ä¸ªæœˆä¸­çš„å¿ƒå¾—ä¸è§‚å¯Ÿã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘æ˜ç¡®å‡ ä¸ªæœ¯è¯­å®šä¹‰ã€‚</p>
<h2 data-id="heading-0"><strong>01 è½¯ä»¶å·¥ç¨‹ï¼ˆSoftware Engineeringï¼‰ vs. ç¼–ç¨‹ï¼ˆProgrammingï¼‰</strong></h2>
<p>æˆ‘è®¤åŒ Titus Winters å¯¹è½¯ä»¶å·¥ç¨‹çš„å®šä¹‰[2]ï¼šè½¯ä»¶å·¥ç¨‹æ˜¯ç”± programmingï¼ˆç¼–ç¨‹ï¼‰ã€peopleï¼ˆå›¢é˜Ÿåä½œï¼‰å’Œ timeï¼ˆéšæ—¶é—´ä¸æ–­æ¼”è¿›ï¼‰è¿™ä¸‰ä¸ªè¦ç´ å…±åŒå†³å®šçš„ã€‚ç¼–ç¨‹æ˜¯ä¸€ä¸ªäººè¿ç”¨ä»£ç è§£å†³å·²çŸ¥é—®é¢˜çš„è¿‡ç¨‹ï¼›è€Œå½“æˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­å¼•å…¥æ—¶é—´ã€å›¢é˜Ÿåä½œå’Œå„ç§æƒè¡¡å–èˆæ—¶ï¼Œå°±å˜æˆäº†è½¯ä»¶å·¥ç¨‹ã€‚è½¯ä»¶å·¥ç¨‹çš„æ ¸å¿ƒå§‹ç»ˆåœ¨äºï¼šä¸å›¢é˜Ÿåä½œæ¥æ·±å…¥ç†è§£é—®é¢˜çš„æœ¬è´¨ï¼Œç¼–å†™ä»£ç å°†è§£å†³æ–¹æ¡ˆè½åœ°ï¼Œæ’æŸ¥å¹¶ä¿®å¤ Bugsï¼ŒåŒæ—¶éšç€é—®é¢˜çš„å˜åŒ–æŒç»­è¿­ä»£ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p>ç¼–ç¨‹æŠ€æœ¯ç»å†äº†æ•°æ¬¡é‡å¤§çš„æ¼”å˜ã€‚ç¼–ç¨‹è¯­è¨€ä»æœºå™¨ç å‘å±•åˆ°ä½çº§è¯­è¨€å’Œé«˜çº§è¯­è¨€ï¼Œå†åˆ°åæ¥çš„é¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚ç¼–ç¨‹ç¯å¢ƒä¹Ÿä»æ‰“å­”å¡æ¼”è¿›åˆ°è¡Œç¼–è¾‘å™¨ã€å…¨å±å¹•ç¼–è¾‘å™¨ï¼Œæœ€ç»ˆå‘å±•ä¸ºé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ã€‚<strong>åœ¨ç¼–ç¨‹å‘å±•çš„æ¯ä¸ªé˜¶æ®µï¼Œé‚£äº›ä¸é—®é¢˜æœ¬è´¨æ— å…³çš„ã€å› æŠ€æœ¯é™åˆ¶è€Œäº§ç”Ÿçš„é¢å¤–å¤æ‚æ€§éƒ½è¢«é€æ­¥æ¶ˆé™¤ï¼Œä½¿å¾—ç¼–ç¨‹æ´»åŠ¨è¶Šæ¥è¶Šèšç„¦äºå…¶æœ€æ ¸å¿ƒçš„ä»»åŠ¡ â€”â€” å³â€œé€»è¾‘çš„ç»„ç»‡ä¸æ„å»ºâ€ã€‚</strong> è¿™ç§ç²¾ç‚¼è¿‡ç¨‹é™ä½äº†ç¼–ç¨‹çš„å…¥é—¨é—¨æ§›ï¼Œæ‰©å¤§äº†ç¨‹åºå‘˜ç¾¤ä½“ï¼Œä¹Ÿè®©æ¯ä¸€ä»£å¼€å‘è€…èƒ½å¤Ÿè§£å†³æ¯”ä¸Šä¸€ä»£æ›´å¹¿æ³›ã€æ›´å¤æ‚çš„é—®é¢˜ã€‚</p>
<p>å¦‚ä»Šï¼Œè¿™ç§å˜é©æ­£åœ¨å†æ¬¡å‘ç”Ÿï¼Œè€Œä¸”æ¯”ä»¥å¾€ä»»ä½•ä¸€æ¬¡æ¼”è¿›éƒ½æ›´åŠ å¹¿æ³›ã€æ›´åŠ å¿«é€ŸÂ¹ã€‚æˆ‘ä»¬æ­£èº«å¤„ä¸€åœºç¼–ç¨‹é¢†åŸŸçš„â€œå¯’æ­¦çºªå¤§çˆ†å‘â€Â²ã€‚</p>
<h2 data-id="heading-1"><strong>02 æ™ºèƒ½ä½“ï¼ˆAgentsï¼‰ vs. ç¼–ç¨‹åŠ©æ‰‹ï¼ˆAssistantsï¼‰</strong></h2>
<p>æˆ‘å¹¶ä¸æ‰“ç®—åœ¨å·²ç„¶ç¹å¤šçš„æ™ºèƒ½ä½“å®šä¹‰[3]ä¸­å†å¢æ·»ä¸€æ¡ã€‚ç›¸åï¼Œä¸ºä½¿æœ¬æ–‡å†…å®¹è¡¨è¿°æ¸…æ™°ï¼Œæˆ‘å°†å¯¹â€œæ™ºèƒ½ä½“â€ï¼ˆagentsï¼‰å’Œâ€œç¼–ç¨‹åŠ©æ‰‹â€ï¼ˆassistantsï¼‰åŠ ä»¥åŒºåˆ†ã€‚Claude Code å’Œ Codex æ˜¯ç”±å¤šä¸ªååŒå·¥ä½œçš„æ™ºèƒ½ä½“ç»„æˆçš„ç¼–ç¨‹åŠ©æ‰‹ã€‚ç¼–ç¨‹åŠ©æ‰‹å’Œæ™ºèƒ½ä½“éƒ½æ˜¯å›´ç»•æ ¸å¿ƒæ¨¡å‹æ„å»ºçš„ã€‚</p>
<h2 data-id="heading-2"><strong>03 ç»éªŒä¸è§‚å¯Ÿ</strong></h2>
<p>1ï¼‰åœ¨è¿‡å» 12 ä¸ªæœˆé‡Œï¼Œç¼–ç¨‹åŠ©æ‰‹åœ¨ä»¥ä¸‹ä¸‰ä¸ªç»´åº¦ä¸Šå–å¾—äº†æ˜¾è‘—è¿›æ­¥ï¼š</p>
<ul>
<li>å¯¹äºæ¨¡å‹è®­ç»ƒæ•°æ®é›†ä¸­åŒ…å«çš„è¯­è¨€ï¼ˆå¦‚ Pythonã€TypeScriptã€Rustã€Go ç­‰ï¼‰ï¼Œæ¨¡å‹ç”Ÿæˆçš„ä»£ç è´¨é‡æ›´é«˜ã€‚</li>
<li>ç¼–ç¨‹åŠ©æ‰‹ç”Ÿæˆçš„ä»£ç æ›´è´´åˆå…¶æ‰€å·¥ä½œçš„ä»£ç åº“ï¼Œè€Œéä»…ä¾èµ–å…¶é¢„è®­ç»ƒæ•°æ®ã€‚</li>
<li>å¾—ç›Šäºå›´ç»•æ¨¡å‹æ„å»ºçš„â€œæ§åˆ¶/ç¼–æ’æ¡†æ¶â€ï¼ˆharnessï¼‰çš„åˆ›æ–°ï¼Œç¼–ç¨‹åŠ©æ‰‹ç°åœ¨èƒ½å¤Ÿé•¿æ—¶é—´å¯é åœ°å¤„ç†é—®é¢˜ï¼ŒåŒæ—¶äº§å‡ºè¿è´¯ä¸€è‡´çš„è¾“å‡ºã€‚</li>
</ul>
<p>2ï¼‰ç¼–ç¨‹åŠ©æ‰‹éå¸¸æ“…é•¿è§£å†³å·²çŸ¥é—®é¢˜ã€‚ä½ ä¸å¤ªå¯èƒ½è®©å®ƒä»¬ä¸€æ¬¡æ€§å†™å‡ºé«˜åº¦ä¼˜åŒ–çš„æ¸²æŸ“å™¨æˆ–å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œä½†å°±å¸¸è§„ä¸šåŠ¡é€»è¾‘è€Œè¨€ï¼Œå®ƒä»¬å†™å¾—æ¯”æˆ‘è¿™æ ·çš„æ™®é€šç¨‹åºå‘˜æ›´å¿«ã€æ›´å¥½ã€‚<strong>å½“æˆ‘éœ€è¦åŒæ—¶å…¼é¡¾å¼€å‘é€Ÿåº¦å’Œä»£ç è´¨é‡æ—¶ï¼Œå®ƒä»¬å®Œèƒœï¼</strong></p>
<p>3ï¼‰ä¸è¿‡ï¼Œ<strong>å®ƒä»¬åœ¨ç”Ÿæˆå¯è¿è¡Œçš„å‰ç«¯ç•Œé¢å’Œé«˜è´¨é‡å‰ç«¯ä»£ç æ–¹é¢ä»æœ‰æå‡ç©ºé—´ã€‚</strong> æ ¹æ®æˆ‘ä½¿ç”¨ç¼–ç¨‹æ™ºèƒ½ä½“å¼€å‘ Web UI[4]Â å’Œ TUI[5]Â çš„ç»éªŒï¼Œå®ƒä»¬å¾ˆéš¾ç”Ÿæˆæ—¢ç¾è§‚åˆåŠŸèƒ½å®Œå–„ã€ä¸”ç¬¦åˆæƒ¯ç”¨å†™æ³•çš„ç”¨æˆ·ç•Œé¢ã€‚å½“å‰çš„æ¨¡å‹å¯¹ Tailwindã€Inkã€Textual æ”¯æŒå¾ˆå·®ï¼Œå¯¹ Ratatui è¡¨ç°å°šå¯ã€‚ç›®å‰å°šä¸æ¸…æ¥šè¿™æ˜¯ä¸€ä¸ªé‡‡æ ·é—®é¢˜ï¼ˆsampling problemï¼‰ï¼Œè¿˜æ˜¯ UI æ¡†æ¶ä¸­å¤§é‡æŠ½è±¡å±‚è®©æ¨¡å‹â€œå¡å£³â€äº† â€”â€” è¿™äº›æŠ½è±¡å±‚ç¡®å®ä¹Ÿå¸¸è®©æˆ‘å¤´ç–¼ã€‚å¯¹äº Web å’Œç§»åŠ¨ç«¯ UIï¼Œæˆ‘ä¼šå…ˆç”¨ Google Stitch[6]Â ç”Ÿæˆè®¾è®¡ç¨¿ï¼Œä¸è¿‡ç›®å‰ Stitch å°šä¸æ”¯æŒä¸º TUI ç”ŸæˆåŸå‹ã€‚æˆ‘è®¤ä¸ºï¼Œæ— è®ºæ˜¯åœ¨æ¨¡å‹è®­ç»ƒè¿˜æ˜¯æ§åˆ¶/ç¼–æ’æ¡†æ¶å±‚é¢ï¼Œéƒ½éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ï¼Œä»¥æ›´å¥½åœ°å¼•å¯¼æ¨¡å‹ç”Ÿæˆé«˜è´¨é‡ UIã€‚</p>
<p>4ï¼‰<strong>æ¨¡å‹é»˜è®¤çš„â€œæ€§æ ¼â€æ˜¯å°½å¿«è§£å†³çœ¼å‰çš„é—®é¢˜ï¼Œä»¥èµ¢å¾—ä½ çš„ç§°èµã€‚è¿™ç§å€¾å‘å¯¼è‡´å®ƒä»¬ä¼šåšå‡ºæ¬¡ä¼˜çš„å†³ç­–ã€‚</strong> ä¾‹å¦‚ï¼Œæˆ‘æ›¾å‘ç° Opus 4.5 è¯•å›¾é€šè¿‡è®©è¿›ç¨‹â€œsleep 2 ç§’â€æ¥è§£å†³æ­»é”é—®é¢˜ã€‚ä½†è¿™ç§æ€§æ ¼å¯ä»¥é€šè¿‡é€‚å½“å¼•å¯¼åŠ ä»¥è°ƒæ•´ã€‚æˆ‘å¸¸ç”¨çš„ä¸€ä¸ªæŠ€å·§æ˜¯åœ¨æç¤ºè¯ä¸­åŠ å…¥â€œidiomaticâ€ï¼ˆæƒ¯ç”¨çš„ï¼‰ä¸€è¯ â€”â€”Â æ¯”å¦‚â€œç»™å‡ºä¸€ä¸ªæƒ¯ç”¨çš„è§£å†³æ–¹æ¡ˆâ€æˆ–â€œè¿™æ˜¯è§£å†³è¯¥é—®é¢˜æœ€æƒ¯ç”¨çš„æ–¹å¼å—ï¼Ÿâ€åŒæ ·ï¼Œåœ¨ç¼–å†™æˆ–å®¡æŸ¥æµ‹è¯•æ—¶ï¼Œæˆ‘ä¼šæ—¶ä¸æ—¶æåˆ°â€œè¢«æµ‹å‡½æ•°çš„é¢„æœŸè¡Œä¸ºâ€ï¼Œè¿™èƒ½è®©æ¨¡å‹è¾“å‡ºæ›´é«˜è´¨é‡çš„æµ‹è¯•ã€‚å¦‚æœä½ æŸ¥çœ‹ Claude Code çš„æ§åˆ¶/ç¼–æ’æ¡†æ¶[7]ï¼Œä¼šå‘ç°ä»–ä»¬ä¹Ÿç”¨äº†ç±»ä¼¼çš„æŠ€å·§[8]æ¥çº¦æŸæ¨¡å‹è¡Œä¸ºã€‚</p>
<p>5ï¼‰è¿™äº›æ¨¡å‹ï¼ˆå°¤å…¶æ˜¯ Opus 4.5 å’Œ GPT 5.2ï¼‰åœ¨å¯»æ‰¾ Bug è¿™æ–¹é¢è¡¨ç°æƒŠäººã€‚<strong>åªè¦æŒ‡å‡ºä¸€ä¸ªâ€œç—‡çŠ¶â€ï¼Œå®ƒä»¬å°±èƒ½é˜…è¯»ä»£ç å¹¶å®šä½å‡º Bugã€‚</strong> æ¥ç€æˆ‘ä¼šè®©å®ƒä»¬è§£é‡Š Bug äº§ç”Ÿçš„åŸå› [9]ï¼Œå¹¶å¯¹ç…§ä»£ç æ£€æŸ¥è§£é‡Šæ˜¯å¦æ­£ç¡®ã€‚æˆªè‡³ç›®å‰ï¼Œæˆ‘è¿˜æ²¡é‡åˆ°å®ƒä»¬æ— æ³•è¯†åˆ«çš„ BugÂ³ã€‚å®ƒä»¬èƒ½å‘ç°æ­»é”å’Œèµ„æºåŒ®ä¹é—®é¢˜ï¼Œä½†ä½ éœ€è¦å¼•å¯¼å®ƒä»¬æ‰¾åˆ°å¥½çš„ä¿®å¤æ–¹æ¡ˆï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚æœ‰æ—¶ï¼Œå¦‚æœæˆ‘çŸ¥é“æŸä¸ªç»„ä»¶æœ‰ Bugï¼Œæˆ‘ä¼šå…ˆè®©å®ƒä»¬æ„å»ºä¸€ä¸ªâ€œå¿ƒæ™ºæ¨¡å‹ï¼ˆmental modelï¼‰â€ï¼Œç„¶åå®ƒä»¬å°±èƒ½æ‰¾å‡ºä¸€äº›éå¸¸æ£˜æ‰‹çš„ Bugã€‚ä¸è¿‡è¿™ä¸€æ–¹æ³•å¹¶éæ€»æ˜¯æœ‰æ•ˆã€‚ä¾‹å¦‚ï¼ŒGhostty ä¸­çš„ä¸€ä¸ªå†…å­˜æ³„æ¼é—®é¢˜[10]ï¼Œè¿™ä¸¤ä¸ªæ¨¡å‹ï¼ˆOpus 4.5 å’Œ GPT 5.2ï¼‰éƒ½æ²¡èƒ½è¯†åˆ«å‡ºæ¥ã€‚æˆ‘ä»åœ¨å°è¯•é€šè¿‡æ­å»ºæ›´æœ‰æ•ˆçš„â€œå¿ƒæ™ºæ¨¡å‹â€ï¼Œçœ‹å®ƒä»¬èƒ½å¦é€šè¿‡é™æ€åˆ†æï¼Œåœ¨ä¿®å¤æ–¹æ¡ˆæäº¤ä¹‹å‰çš„ä»£ç ä¸­å‘ç°è¯¥ Bugã€‚</p>
<p>6ï¼‰<strong>ä»£ç è´¨é‡ä¸è¶³ä»¥ä¿è¯äº§å“å“è´¨ï¼Œä½†å´æ˜¯ç»´æŒäº§å“å“è´¨çš„å¿…è¦æ¡ä»¶ã€‚</strong> æ®æˆ‘è§‚å¯Ÿï¼Œå³ä½¿æœ‰æœ€å¥½çš„æç¤ºè¯å·¥ç¨‹æ”¯æŒï¼Œä¸»è¦ç”±ç¼–ç¨‹åŠ©æ‰‹ç”Ÿæˆçš„ä»£ç åº“ï¼Œå…¶äº§å“å“è´¨çš„â€œåŠè¡°æœŸâ€ä¹Ÿæ›´çŸ­ã€‚å› æ­¤ï¼Œåœ¨å¼€å§‹ä½¿ç”¨ç¼–ç åŠ©æ‰‹åï¼Œä½ å¿…é¡»åŒæ—¶åŸ¹å…»ä¸€å¥—é©¾é©­ã€ç®¡ç†å’Œç›‘ç£åŠ©æ‰‹çš„æ‰å®æŠ€èƒ½[11]ï¼Œä»¥ç¡®ä¿ä»£ç çš„è´¨é‡ã€‚å¯¹å¼€æºç¼–ç¨‹åŠ©æ‰‹æ‰€ç”Ÿæˆä»£ç çš„è´¨é‡è¿›è¡Œç³»ç»Ÿæ€§ç ”ç©¶ï¼Œå°†ä¼šå¾ˆæœ‰å¯å‘æ€§ã€‚</p>
<p>7ï¼‰æ­£å¦‚å†™æ—¥è®°ä¸€æ ·ï¼Œç¼–å†™è½¯ä»¶çš„è¿‡ç¨‹å®é™…ä¸Šèƒ½è®©ä½ å¯¹æ‰€æ„å»ºçš„ä¸œè¥¿å½¢æˆä¸€ä¸ªè‰¯å¥½çš„å¿ƒæ™ºæ¨¡å‹ã€‚æˆ‘å‘ç°è¿™ä¸ªå¿ƒæ™ºæ¨¡å‹åœ¨ä¸¤ç§åœºæ™¯ä¸‹å¾ˆæœ‰ç”¨ï¼šä¸€æ˜¯å†³å®šè½¯ä»¶å¦‚ä½•æ¼”è¿›æ—¶ï¼ŒäºŒæ˜¯åœ¨è°ƒè¯•é—®é¢˜æ—¶ï¼ˆå°¤å…¶æ˜¯åœ¨æ•…éšœå¤„ç†æœŸé—´ï¼‰ã€‚å½“ç¼–ç¨‹åŠ©æ‰‹æ‰¿æ‹…äº†å¤§éƒ¨åˆ†ç¼–ç å·¥ä½œæ—¶ï¼Œæˆ‘æ‰€æŒæœ‰çš„å¿ƒæ™ºæ¨¡å‹çš„ä¿çœŸåº¦ä¾¿ä¼šè¿…é€Ÿä¸‹é™ã€‚æˆ‘æ²¡æœ‰è¯•å›¾å¯¹æŠ—è¿™ç§æ–°å¸¸æ€ï¼Œè€Œæ˜¯ä¸€ç›´åœ¨æ¢ç´¢å„ç§æ–¹æ³•ï¼Œå°†æ¨¡å‹ä½œä¸ºä¸€ç§å·¥å…·ï¼ŒæŒ‰éœ€æŸ¥è¯¢å’Œæ„å»ºæ€ç»´æ¨¡å‹ã€‚è¿™ä¸äº²è‡ªæ„å»ºè½¯ä»¶äº§å“ä¸åŒï¼Œä½†æˆ‘è®¤ä¸ºè¿™å°†æ˜¯ä¸€ç§æ–°å¸¸æ€ã€‚æˆ‘ä»¬éœ€è¦ä¸ºæ­¤å¼€å‘æ–°å·¥å…·ï¼Œä¹Ÿå¯èƒ½éœ€è¦åƒèˆªç©ºè¡Œä¸šåŸ¹è®­é£è¡Œå‘˜é‚£æ ·ï¼Œå®šæœŸåŸ¹è®­è½¯ä»¶å·¥ç¨‹å¸ˆäº†è§£å…¶ç³»ç»Ÿçš„æ•…éšœæ¨¡å¼ã€‚</p>
<p>8ï¼‰å¤šå¹´æ¥ï¼Œæˆ‘èŠ±äº†å‡ ç™¾ä¸ªå°æ—¶ç²¾å¿ƒè°ƒæ ¡æˆ‘çš„ç»ˆç«¯å’Œç¼–è¾‘å™¨[12]ï¼Œä»¥æœŸè¾¾åˆ°å®Œç¾æ‰‹æ„Ÿã€‚æˆ‘ç°åœ¨æ­£ç”¨è¿™ä¸ªç¼–è¾‘å™¨æ’°å†™æœ¬æ–‡ â€”â€” å®ƒæ˜¯â€œä¸“å±äºæˆ‘çš„â€ç¼–è¾‘å™¨ã€‚ä½†æˆ‘ç°åœ¨èŠ±åœ¨ç¼–è¾‘å™¨é‡Œçš„æ—¶é—´ä¸å†åƒä»¥å‰é‚£ä¹ˆå¤šäº†ã€‚ç›¸åï¼Œæˆ‘æˆäº†è‡ªå·±ç¼–ç¨‹åŠ©æ‰‹ï¼ˆClaude Codeã€Codex å’Œ OpenCodeï¼‰çš„â€œç¼–è¾‘å™¨â€ã€‚æˆ‘èŠ±åŒæ ·å¤šçš„æ—¶é—´å»äº†è§£å®ƒä»¬ï¼Œä¹ŸèŠ±åŒæ ·å¤šçš„æ—¶é—´æ•™å®ƒä»¬æ–°æŠ€å·§ã€æ–°æŠ€èƒ½å’Œæ–°å‘½ä»¤ã€‚æˆ‘å¼€å‘äº† Catsyphon[13]Â å’Œ Aiobscura[14]ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å›é¡¾æˆ‘ä»¬çš„äº¤äº’å¹¶ä»ä¸­å­¦ä¹ ã€‚è¿™ä»½æ¸…å•ä¸­çš„è®¸å¤šç»éªŒï¼Œæ­£æ¥è‡ªè¿™äº›å¤ç›˜ã€‚æˆ‘æŠŠè¿™çœ‹ä½œä¸€æ¬¡æˆé•¿çš„æœºä¼šï¼Œä¹Ÿæ˜¯åœ¨åŸ¹å…»æˆ‘çš„ç»“å¯¹ç¼–ç¨‹ä¼™ä¼´ã€‚</p>
<p>9ï¼‰<strong>å¦‚æœä½ è‡³ä»Šä»æœªä½¿ç”¨è¿‡ç¼–ç¨‹åŠ©æ‰‹ï¼Œæˆ–è®¸æœ€å¥½çš„ä¸Šæ‰‹æ–¹å¼å°±æ˜¯ä»è®©å®ƒä»¬å¸®ä½ å¤„ç†ç¹çé‡å¤çš„ä»»åŠ¡å¼€å§‹ã€‚</strong> å®ƒä»¬æ“…é•¿ç†è§£å †æ ˆè·Ÿè¸ªã€æ¢³ç†æ··ä¹±ä»£ç ã€æ€»ç»“æ–‡æ¡£ã€ä»¥åŠé’ˆå¯¹å…·ä½“é—®é¢˜æŸ¥è¯¢æ–‡æ¡£ç­‰ã€‚å®ƒä»¬ç†åº”æˆä¸ºä½ å·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>10ï¼‰ç¼–ç¨‹åŠ©æ‰‹è‡ªå¸¦æ²™ç®±ï¼ˆsandboxï¼‰ï¼Œä½†è¿™ä¸ªæ²™ç®±å¾€å¾€ä¼šå¦¨ç¢ç»„æˆç¼–ç¨‹åŠ©æ‰‹çš„å„ç§æ™ºèƒ½ä½“çš„æ­£å¸¸å·¥ä½œã€‚å› æ­¤æˆ‘è½¬è€Œä½¿ç”¨å¤–éƒ¨æ²™ç®± â€”â€” ä¸€ä¸ªç‹¬ç«‹äºç¼–ç¨‹åŠ©æ‰‹ä¹‹å¤–çš„æ²™ç®±ã€‚æˆ‘ç°åœ¨ä½¿ç”¨ sandbox-exec æ¥éš”ç¦»ä¼šè¯[15]ï¼Œå¹¶å…³é—­äº†ç¼–ç¨‹åŠ©æ‰‹å†…éƒ¨çš„æ²™ç®±åŠŸèƒ½ã€‚è¿™ä¸ä¸€å®šé€‚åˆæ‰€æœ‰äººï¼Œä½†è‡³å°‘ä½ è¦çŸ¥é“ï¼šä½ æœ‰é€‰æ‹©ã€‚</p>
<p>11ï¼‰äº²æ‰‹ç¼–å†™ä»£ç è•´å«ç€ç‹¬ç‰¹çš„ä¹è¶£ã€ç¾æ„Ÿä¸æˆå°±æ„Ÿã€‚ä½ ä¾ç„¶å¯ä»¥é€‰æ‹©åƒå·¥åŒ ä¸€æ ·äº²æ‰‹æ‰“ç£¨ä»£ç ã€‚åªæ˜¯åˆ«æŒ‡æœ›è¿™è¿˜èƒ½æ˜¯ä½ çš„èŒä¸šé¥­ç¢—ã€‚è¿™çº¯ç²¹åº”å½“æ˜¯ä½ çš„çƒ­çˆ±æ‰€åœ¨ã€‚</p>
<hr/>
<p>1 è¿™ä¸€æ¼”å˜æ­£åœ¨åŠ é€Ÿï¼Œå› ä¸ºåˆ†å‘æ¸ é“å·²ç»æˆç†Ÿï¼ŒæŠ€æœ¯æ ˆçš„å¤§å¤šæ•°å±‚çº§å¦‚ä»Šéƒ½ç”±è½¯ä»¶æ„æˆï¼Œå¹¶ä¸”ä»ä¸šè€…ç½‘ç»œè§„æ¨¡åºå¤§ã€è”ç³»ç´§å¯†ã€‚</p>
<p>2 å°†æ­¤ç§°ä¸ºè½¯ä»¶å·¥ç¨‹ï¼ˆè€Œéç¼–ç¨‹ï¼‰çš„â€œå¯’æ­¦çºªå¤§çˆ†å‘â€æˆ–è®¸å¬ä¸Šå»æœ‰äº›å®å¤§ï¼Œä½†æ–¹å‘ä¸Šæ˜¯æ­£ç¡®çš„ã€‚æœ€ç»ˆçš„å®šè®ºï¼Œä¸”ç•™å¾…å¯¹ 2026 å¹´çš„å›é¡¾æ—¶å†ä¸‹ã€‚</p>
<p>3 æ­¤åæˆ‘é‡åˆ°äº†ä¸€ä¸ªåä¾‹ï¼šOpus 4.5 å°†ç³»ç»Ÿä¸ç¨³å®šçš„åŸå› å½’å’äº macOS è™šæ‹ŸåŒ–å±‚ï¼Œè€Œæ ¹æœ¬åŸå› å…¶å®æ˜¯è¿æ¥æ± è€—å°½ã€‚æˆ‘æœ€ç»ˆè®©å®ƒå¯¹ä»£ç è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ‰å‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼›è€Œåœ¨é‚£ä¹‹å‰ï¼Œå®ƒå·²ç»æŠŠ vz æ›¿æ¢æˆäº† Qemu :-)</p>
<p><strong>END</strong></p>
<p><strong>æœ¬æœŸäº’åŠ¨å†…å®¹ ğŸ»</strong></p>
<p><strong>â“å½“ä½ æŠŠ 70% çš„ç¼–ç å·¥ä½œäº¤ç»™AIåï¼Œä½ å‘ç°è‡ªå·±æœ€é‡è¦çš„æŠ€èƒ½å˜æˆäº†ä»€ä¹ˆï¼Ÿ</strong></p>
<p><strong>æ–‡ä¸­é“¾æ¥</strong></p>
<p>[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fdotfiles%2Ftree%2Fmain%2Fdev%2Fdev%2Fai-kata" target="_blank" title="https://github.com/kulesh/dotfiles/tree/main/dev/dev/ai-kata" ref="nofollow noopener noreferrer">github.com/kulesh/dotfâ€¦</a></p>
<p>[2]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Ft%3D472%26v%3DtISy7EJQPzI%26feature%3Dyoutu.be%26themeRefresh%3D1" target="_blank" title="https://www.youtube.com/watch?t=472&amp;v=tISy7EJQPzI&amp;feature=youtu.be&amp;themeRefresh=1" ref="nofollow noopener noreferrer">www.youtube.com/watch?t=472â€¦</a></p>
<p>[3]<a href="https://link.juejin.cn?target=https%3A%2F%2Fsimonwillison.net%2Ftags%2Fagent-definitions%2F" target="_blank" title="https://simonwillison.net/tags/agent-definitions/" ref="nofollow noopener noreferrer">simonwillison.net/tags/agent-â€¦</a></p>
<p>[4]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fcatsyphon" target="_blank" title="https://github.com/kulesh/catsyphon" ref="nofollow noopener noreferrer">github.com/kulesh/catsâ€¦</a></p>
<p>[5]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Faiobscura" target="_blank" title="https://github.com/kulesh/aiobscura" ref="nofollow noopener noreferrer">github.com/kulesh/aiobâ€¦</a></p>
<p>[6]<a href="https://link.juejin.cn?target=https%3A%2F%2Fstitch.withgoogle.com%2F" target="_blank" title="https://stitch.withgoogle.com/" ref="nofollow noopener noreferrer">stitch.withgoogle.com/</a></p>
<p>[7]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Feffective-harnesses-for-long-running-agents" target="_blank" title="https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents" ref="nofollow noopener noreferrer">www.anthropic.com/engineeringâ€¦</a></p>
<p>[8]<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40outsightai%2Fpeeking-under-the-hood-of-claude-code-70f5a94a9a62" target="_blank" title="https://medium.com/@outsightai/peeking-under-the-hood-of-claude-code-70f5a94a9a62" ref="nofollow noopener noreferrer">medium.com/@outsightaiâ€¦</a></p>
<p>[9]<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fkulesh%2Fstatus%2F1996764098357276858" target="_blank" title="https://x.com/kulesh/status/1996764098357276858" ref="nofollow noopener noreferrer">x.com/kulesh/statâ€¦</a></p>
<p>[10]<a href="https://link.juejin.cn?target=https%3A%2F%2Fmitchellh.com%2Fwriting%2Fghostty-memory-leak-fix" target="_blank" title="https://mitchellh.com/writing/ghostty-memory-leak-fix" ref="nofollow noopener noreferrer">mitchellh.com/writing/ghoâ€¦</a></p>
<p>[11]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fdotfiles%2Fblob%2Fmain%2Fclaude%2F.claude%2Fcommands%2Freview-changes.md%3Fplain%3D1" target="_blank" title="https://github.com/kulesh/dotfiles/blob/main/claude/.claude/commands/review-changes.md?plain=1" ref="nofollow noopener noreferrer">github.com/kulesh/dotfâ€¦</a></p>
<p>[12]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fdotfiles" target="_blank" title="https://github.com/kulesh/dotfiles" ref="nofollow noopener noreferrer">github.com/kulesh/dotfâ€¦</a></p>
<p>[13]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fcatsyphon" target="_blank" title="https://github.com/kulesh/catsyphon" ref="nofollow noopener noreferrer">github.com/kulesh/catsâ€¦</a></p>
<p>[14]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Faiobscura" target="_blank" title="https://github.com/kulesh/aiobscura" ref="nofollow noopener noreferrer">github.com/kulesh/aiobâ€¦</a></p>
<p>[15]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fdotfiles%2Fpull%2F8%2Ffiles" target="_blank" title="https://github.com/kulesh/dotfiles/pull/8/files" ref="nofollow noopener noreferrer">github.com/kulesh/dotfâ€¦</a></p>
<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkulesh%2Fdotfiles%2Fblob%2Fmain%2Fdev%2Fdev%2Fdocs%2Fprogramming-evolved.md" target="_blank" title="https://github.com/kulesh/dotfiles/blob/main/dev/dev/docs/programming-evolved.md" ref="nofollow noopener noreferrer">github.com/kulesh/dotfâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é˜²å¾¡ä½ çš„ RAG ç³»ç»Ÿå…å—ä¸Šä¸‹æ–‡æŠ•æ¯’æ”»å‡»]]></title>    <link>https://juejin.cn/post/7605036907459674163</link>    <guid>https://juejin.cn/post/7605036907459674163</guid>    <pubDate>2026-02-11T02:33:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605036907459674163" data-draft-id="7605055844254793766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é˜²å¾¡ä½ çš„ RAG ç³»ç»Ÿå…å—ä¸Šä¸‹æ–‡æŠ•æ¯’æ”»å‡»"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-02-11T02:33:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é˜²å¾¡ä½ çš„ RAG ç³»ç»Ÿå…å—ä¸Šä¸‹æ–‡æŠ•æ¯’æ”»å‡»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:33:02.000Z" title="Wed Feb 11 2026 02:33:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Ftomas-murua" title="https://www.elastic.co/search-labs/author/tomas-murua" target="_blank" ref="nofollow noopener noreferrer">TomÃ¡s MurÃºa</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78d503232a9245bc9b115280565874fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381985&amp;x-signature=pmtLupRKBWoA8f7%2Fng9BVbbhBz8%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¸‹æ–‡å·¥ç¨‹æŠ€æœ¯å¦‚ä½•é˜²æ­¢ LLM å“åº”ä¸­çš„ä¸Šä¸‹æ–‡æŠ•æ¯’ã€‚</p>
<p>Agent Builder ç°åœ¨å·²ç»æ­£å¼å‘å¸ƒã€‚ä½ å¯ä»¥é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.elastic.co%2Fregistration%3Futm_source%3Dagentic-ai-category%26utm_medium%3Dsearch-labs%26utm_campaign%3Dagent-builder" title="https://cloud.elastic.co/registration?utm_source=agentic-ai-category&amp;utm_medium=search-labs&amp;utm_campaign=agent-builder" target="_blank" ref="nofollow noopener noreferrer">Elastic Cloud Trial</a> å¼€å§‹ä½¿ç”¨ï¼Œå¹¶åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Felastic-agent-builder%3Futm_source%3Dagentic-ai-category%26utm_medium%3Dsearch-labs%26utm_campaign%3Dagent-builder" title="https://www.elastic.co/docs/solutions/search/elastic-agent-builder?utm_source=agentic-ai-category&amp;utm_medium=search-labs&amp;utm_campaign=agent-builder" target="_blank" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>æŸ¥çœ‹ Agent Builder çš„æ–‡æ¡£ã€‚</p>
<hr/>
<p>éšç€ Claude Sonnet 4.5ã€Gemini 3 ç³»åˆ— å’Œ GPT 5 ç­‰æ¨¡å‹çš„æœ€æ–°å‘å¸ƒï¼Œè¿™äº›æ¨¡å‹éƒ½æ”¯æŒç™¾ä¸‡ token çº§åˆ«çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œä¸€ç§è¯¯è§£æ­£åœ¨å‡ºç°ï¼šä¸Šä¸‹æ–‡ç®¡ç†ä¼¼ä¹æ­£åœ¨å˜å¾—æ›´ç®€å•ã€‚å¦‚æœä¸€ä¸ª å¤§è¯­è¨€æ¨¡å‹ï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134747557" title="https://elasticstack.blog.csdn.net/article/details/134747557" target="_blank" ref="nofollow noopener noreferrer">LLM</a> ï¼‰å¯ä»¥ä¸€æ¬¡å¤„ç†æ•°ç™¾ä¸‡ä¸ª tokenï¼Œé‚£ä¹ˆæˆ‘ä»¬æä¾›ä»€ä¹ˆä¿¡æ¯çœŸçš„è¿˜é‡è¦å—ï¼Ÿ</p>
<p>ç°å®æ°æ°ç›¸åã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F151232162" title="https://elasticstack.blog.csdn.net/article/details/151232162" target="_blank" ref="nofollow noopener noreferrer">ä¸Šä¸‹æ–‡å·¥ç¨‹</a> â€”â€” ä¹Ÿå°±æ˜¯ç®¡ç†å“ªäº›ä¿¡æ¯èƒ½å¤Ÿè¿›å…¥ä½ çš„ LLM â€”â€” æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´åŠ å…³é”®ã€‚æ›´å¤§çš„ä¸Šä¸‹æ–‡çª—å£å¹¶ä¸ä¼šæ¶ˆé™¤å¯¹ç²¾ç¡®æ€§çš„éœ€æ±‚ï¼Œåè€Œä¼šæ”¾å¤§å®ƒã€‚ä¸Šä¸‹æ–‡è¶Šå¤šï¼Œé”™è¯¯ã€å¹»è§‰ä»¥åŠæ— å…³ä¿¡æ¯æ±¡æŸ“ LLM æ¨ç†è¿‡ç¨‹çš„æœºä¼šå°±å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</p>
<p>æ— è®ºä½ ä½¿ç”¨çš„æ˜¯æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134396254" title="https://elasticstack.blog.csdn.net/article/details/134396254" target="_blank" ref="nofollow noopener noreferrer">RAG</a> ï¼‰æ£€ç´¢ã€å·¥å…·è¾“å‡ºï¼Œè¿˜æ˜¯è®°å¿†ç³»ç»Ÿï¼Œæœ‰æ•ˆçš„ä¸Šä¸‹æ–‡å·¥ç¨‹å¹¶ä¸æ˜¯æä¾›æ›´å¤šä¿¡æ¯ï¼Œè€Œæ˜¯æä¾›æ­£ç¡®çš„ä¿¡æ¯ã€‚è¿™æ­£æ˜¯ Elasticsearch å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼Œå®ƒä½œä¸ºä½ çš„ä¸Šä¸‹æ–‡å·¥ç¨‹å¹³å°ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡æŠ•æ¯’ï¼Œå®ƒå¦‚ä½•åœ¨ä¸åŒç±»å‹çš„è®°å¿†ä¸­è¡¨ç°å‡ºæ¥ï¼Œä»¥åŠ Elasticsearch çš„ RAG èƒ½åŠ›å¦‚ä½•åœ¨æ£€ç´¢æµæ°´çº¿çš„æ¯ä¸€ä¸ªé˜¶æ®µæä¾›é˜²å¾¡ â€”â€” ä»æ•°æ®æ‘„å–åˆ°ä¸Šä¸‹æ–‡ç»„åˆ â€”â€” ç¡®ä¿ä½ çš„ LLM æ¥æ”¶åˆ°å¹²å‡€ã€ç›¸å…³ä¸”å¯é çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6422a6e17cc407cb9ea28d1eb34c58c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381985&amp;x-signature=Y2Qj2N58XnhFwfl4mx4MzsXjbhQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡æŠ•æ¯’ï¼Ÿ</h2>
<p>ä¸Šä¸‹æ–‡æŠ•æ¯’æ˜¯æŒ‡è¢«ç ´åçš„ã€è¿‡æœŸçš„æˆ–æ— å…³çš„ä¿¡æ¯è¿›å…¥ LLM çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œä»è€Œå¯¼è‡´å“åº”è´¨é‡ä¸‹é™ã€äº§ç”Ÿå¹»è§‰æˆ–æŒç»­æ€§é”™è¯¯ã€‚ä¸€æ—¦è¢«æ±¡æŸ“æˆ–ä¸æ­£ç¡®çš„ä¿¡æ¯è¿›å…¥ä¸Šä¸‹æ–‡çª—å£ï¼Œå®ƒå°±ä¼šè¢«ä¼ æ’­åˆ°ç­”æ¡ˆä¸­ã€‚LLM ä¼šå°†å…¶å½“ä½œäº‹å®æ¥å¼•ç”¨ï¼Œä»è€Œåœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­äº§ç”Ÿçº§è”é”™è¯¯ã€‚</p>
<p>è¿™ç§æŠ•æ¯’å¯èƒ½å‘ç”Ÿåœ¨ LLM ç”Ÿå‘½å‘¨æœŸçš„å¤šä¸ªé˜¶æ®µï¼ˆä¾‹å¦‚è®­ç»ƒé˜¶æ®µï¼‰ï¼Œä½†æˆ‘ä»¬å…³æ³¨çš„æ˜¯æ£€ç´¢å’Œç»„åˆé˜¶æ®µã€‚å°½ç®¡åƒ prompt injection è¿™æ ·çš„å¯¹æŠ—æ€§æ”»å‡»åŒæ ·å­˜åœ¨é£é™©ï¼Œæœ¬æ–‡é‡ç‚¹è®¨è®ºçš„æ˜¯å›¢é˜Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¸¸é‡åˆ°çš„æ“ä½œæ¨¡å¼é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">æ“ä½œå±‚é¢çš„ç†è§£</h2>
<p>ä¸Šä¸‹æ–‡æŠ•æ¯’é€šå¸¸ç”±äºä»¥ä¸‹åŸå› å‘ç”Ÿï¼š</p>
<ul>
<li>Context rot/ä¸Šä¸‹æ–‡è¡°å‡ï¼šä¿¡æ¯å·²ç»è¿‡æœŸï¼Œä½†ä»ç„¶ä¿ç•™åœ¨ä½ çš„çŸ¥è¯†åº“ä¸­ï¼Œæ²¡æœ‰è¢«æ›´æ–°æˆ–åˆ é™¤ã€‚</li>
<li>Context overflow/ä¸Šä¸‹æ–‡æº¢å‡ºï¼šä¿¡æ¯é‡è¿‡å¤§ï¼Œæ·¹æ²¡äº† LLM å¯¹çœŸæ­£é‡è¦ä¸”ç›¸å…³ä¸Šä¸‹æ–‡çš„å…³æ³¨ï¼Œå¯¼è‡´ç­”æ¡ˆä¸­é—æ¼å…³é”®ä¿¡æ¯ã€‚</li>
<li>Conflicting information/ä¿¡æ¯å†²çªï¼šå¤šä¸ªæ¥æºæä¾›ç›¸äº’çŸ›ç›¾çš„æ•°æ®ï¼Œä½¿æ¨¡å‹äº§ç”Ÿæ··æ·†ã€‚</li>
<li>Semantic noise/è¯­ä¹‰å™ªå£°ï¼šåœ¨å‘é‡ä¸Šç›¸ä¼¼ä½†åœ¨è¯­ä¹‰ä¸Šä¸‹æ–‡ä¸­æ— å…³çš„å†…å®¹ç¨€é‡Šäº†ç›¸å…³æ€§ã€‚</li>
<li>Malicious injection/æ¶æ„æ³¨å…¥ï¼šæ”»å‡»è€…æ•…æ„å‘çŸ¥è¯†åº“ä¸­æ’å…¥å†…å®¹ï¼ŒåŒ…æ‹¬ prompt injection æˆ–è¢«æ“çºµçš„æ•°æ®ã€‚</li>
</ul>
<p>ç†è§£è¿™äº›æ¨¡å¼æ˜¯æ„å»ºå¼ºå¤§é˜²å¾¡æœºåˆ¶çš„ç¬¬ä¸€æ­¥ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€åˆ†ææ¯ç§æ¨¡å¼ï¼Œä»¥åŠ Elasticsearch å¦‚ä½•å¸®åŠ©ä½ åº”å¯¹å®ƒä»¬ã€‚ä½ ä¹Ÿå¯ä»¥ç»“åˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch-labs%2Ftree%2Fmain%2Fsupporting-blog-content%2Fcontext-poisoning" title="https://github.com/elastic/elasticsearch-labs/tree/main/supporting-blog-content/context-poisoning" target="_blank" ref="nofollow noopener noreferrer">é…å¥—çš„ notebook</a> ä¸€èµ·è·Ÿéšå®è·µã€‚</p>
<p>æ›´å¤šé˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F157058166" title="https://elasticstack.blog.csdn.net/article/details/157058166" target="_blank" ref="nofollow noopener noreferrer">ä½¿ç”¨ Elasticsearch ç®¡ç† agentic è®°å¿†</a></p>
<h2 data-id="heading-2">ä¸Šä¸‹æ–‡æŠ•æ¯’çš„ç±»å‹</h2>
<h3 data-id="heading-3">æ—¶é—´é™è§£</h3>
<p>éšç€æ—¶é—´æ¨ç§»ï¼Œä½ çš„çŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ä¼šå˜å¾—è¿‡æ—¶ï¼Œå¦‚æœæ²¡æœ‰é€‚å½“ç®¡ç†ï¼Œé™ˆæ—§å†…å®¹ä¼šç»§ç»­è¢«æ£€ç´¢å¹¶å‘ˆç°ç»™ä½ çš„ LLMï¼Œå½“ä½œæœ€æ–°äº‹å®ã€‚è¿™åœ¨ä¿¡æ¯é¢‘ç¹å˜åŒ–çš„è¡Œä¸šå°¤å…¶æˆé—®é¢˜ï¼Œä¾‹å¦‚äº§å“æ–‡æ¡£ã€å®šä»·ã€æ³•è§„æˆ–æ–°é—»ã€‚</p>
<h4 data-id="heading-4">å½±å“</h4>
<p>ä½ çš„ LLM ä¼šæä¾›è¿‡æ—¶çš„å»ºè®®ã€å¼•ç”¨å·²å¼ƒç”¨çš„åŠŸèƒ½ï¼Œæˆ–ä¸å½“å‰å®é™…æƒ…å†µç›¸çŸ›ç›¾ï¼Œä»è€Œå‰Šå¼±ç”¨æˆ·ä¿¡ä»»ã€‚</p>
<h4 data-id="heading-5">è§£å†³æ–¹æ¡ˆï¼šæ··åˆæœç´¢ä¸­çš„æ—¶é—´è¿‡æ»¤</h4>
<p>Elasticsearch åŸºäºæ—¥æœŸçš„æŸ¥è¯¢èƒ½åŠ›å¯ä»¥é€šè¿‡æ˜ç¡®çš„æ—¶é—´è¿‡æ»¤å™¨ï¼Œç¡®ä¿ä½ çš„ RAG system ä¼˜å…ˆæ£€ç´¢æœ€è¿‘ä¸”ç›¸å…³çš„ä¿¡æ¯ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šå¸¦æ—¶é—´è¿‡æ»¤çš„äº§å“æ–‡æ¡£æœç´¢</strong></p>
<p>ç”¨æˆ·å‘ä½ çš„ chatbot è¯¢é—®è®¤è¯è®¾ç½®ã€‚å…­ä¸ªæœˆå‰ï¼Œè®¤è¯æµç¨‹å‘ç”Ÿäº†é‡å¤§å˜åŒ–ï¼Œå› æ­¤åªè¿”å›å…­ä¸ªæœˆä»¥å†…çš„æ–‡æ¡£æˆ–æ›´æ—©çš„æ–‡æ¡£éå¸¸é‡è¦ã€‚</p>
<h3 data-id="heading-6">å¦‚æœæ²¡æœ‰æ—¶é—´è¿‡æ»¤å™¨</h3>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST product-docs/_search
2.  {
3.    <span class="hljs-string">"retriever"</span>: {
4.      <span class="hljs-string">"rrf"</span>: {
5.        <span class="hljs-string">"retrievers"</span>: [
6.          {
7.            <span class="hljs-string">"standard"</span>: {
8.              <span class="hljs-string">"query"</span>: {
9.                <span class="hljs-string">"semantic"</span>: {
10.                  <span class="hljs-string">"field"</span>: <span class="hljs-string">"content_semantic"</span>,
11.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"how to configure OAuth authentication"</span>
12.                }
13.              }
14.            }
15.          },
16.          {
17.            <span class="hljs-string">"standard"</span>: {
18.              <span class="hljs-string">"query"</span>: {
19.                <span class="hljs-string">"multi_match"</span>: {
20.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"configure OAuth authentication"</span>,
21.                  <span class="hljs-string">"fields"</span>: [<span class="hljs-string">"title^2"</span>, <span class="hljs-string">"content"</span>]
22.                }
23.              }
24.            }
25.          }
26.        ],
27.        <span class="hljs-string">"rank_window_size"</span>: 50,
28.        <span class="hljs-string">"rank_constant"</span>: 20
29.      }
30.    },
31.    <span class="hljs-string">"_source"</span>: [<span class="hljs-string">"title"</span>, <span class="hljs-string">"last_updated"</span>, <span class="hljs-string">"version"</span>, <span class="hljs-string">"content_snippet"</span>]
32.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-7">æœªè¿‡æ»¤æ—¶çš„å“åº”ï¼šç»“æœçŸ›ç›¾</h4>
<p>LLM æ”¶åˆ°ä¸‰ç§ä¸åŒçš„ OAuth é…ç½®æ–¹æ³•ï¼šå½“å‰çš„å®‰å…¨ APIï¼ˆ9.xï¼‰ã€é—ç•™çš„ realm è®¾ç½®ï¼ˆ7.xï¼‰ä»¥åŠå·²å¼ƒç”¨çš„ shield æ’ä»¶ï¼ˆ6.xï¼‰ã€‚è¿™ç§çŸ›ç›¾çš„ä¸Šä¸‹æ–‡ä¼šå¯¼è‡´æ··ä¹±æˆ–è¯¯å¯¼æ€§çš„å“åº”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"hits"</span>: {
3.      <span class="hljs-string">"total"</span>: { <span class="hljs-string">"value"</span>: 23 },
4.      <span class="hljs-string">"max_score"</span>: 24.5,
5.      <span class="hljs-string">"hits"</span>: [
6.        {
7.          <span class="hljs-string">"_id"</span>: <span class="hljs-string">"doc-oauth-2025"</span>,
8.          <span class="hljs-string">"_score"</span>: 24.5,
9.          <span class="hljs-string">"_source"</span>: {
10.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"OAuth 2.0 Authentication Setup"</span>,
11.            <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2025-10-15"</span>,
12.            <span class="hljs-string">"version"</span>: <span class="hljs-string">"9.x"</span>,
13.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"To configure OAuth 2.0 authentication in Elasticsearch 9.x, use the new security API..."</span>
14.          }
15.        },
16.        {
17.          <span class="hljs-string">"_id"</span>: <span class="hljs-string">"doc-oauth-2023"</span>,
18.          <span class="hljs-string">"_score"</span>: 23.8,
19.          <span class="hljs-string">"_source"</span>: {
20.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"OAuth Authentication Configuration"</span>,
21.            <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2023-04-20"</span>,
22.            <span class="hljs-string">"version"</span>: <span class="hljs-string">"7.x"</span>,
23.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Configure OAuth using the legacy realm settings in elasticsearch.yml..."</span>
24.          }
25.        },
26.        {
27.          <span class="hljs-string">"_id"</span>: <span class="hljs-string">"doc-oauth-deprecated"</span>,
28.          <span class="hljs-string">"_score"</span>: 22.9,
29.          <span class="hljs-string">"_source"</span>: {
30.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Setting Up OAuth (Deprecated)"</span>,
31.            <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2022-11-10"</span>,
32.            <span class="hljs-string">"version"</span>: <span class="hljs-string">"6.x"</span>,
33.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Use the shield plugin to configure OAuth authentication..."</span>
34.          }
35.        }
36.      ]
37.    }
38.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-8">ä½¿ç”¨æ—¶é—´è¿‡æ»¤</h4>
<p>æ·»åŠ è¿‡æ»¤å™¨ï¼Œå°†ç»“æœé™åˆ¶ä¸ºè¿‡å»å…­ä¸ªæœˆå†…æ›´æ–°çš„æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST product-docs/_search
2.  {
3.    <span class="hljs-string">"retriever"</span>: {
4.      <span class="hljs-string">"rrf"</span>: {
5.        <span class="hljs-string">"retrievers"</span>: [
6.          {
7.            <span class="hljs-string">"standard"</span>: {
8.              <span class="hljs-string">"query"</span>: {
9.                <span class="hljs-string">"semantic"</span>: {
10.                  <span class="hljs-string">"field"</span>: <span class="hljs-string">"content_semantic"</span>,
11.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"how to configure OAuth authentication"</span>
12.                }
13.              }
14.            }
15.          },
16.          {
17.            <span class="hljs-string">"standard"</span>: {
18.              <span class="hljs-string">"query"</span>: {
19.                <span class="hljs-string">"multi_match"</span>: {
20.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"configure OAuth authentication"</span>,
21.                  <span class="hljs-string">"fields"</span>: [<span class="hljs-string">"title^2"</span>, <span class="hljs-string">"content"</span>]
22.                }
23.              }
24.            }
25.          }
26.        ],
27.        <span class="hljs-string">"filter"</span>: [
28.          {<span class="hljs-string">"range"</span>: {<span class="hljs-string">"last_updated"</span>: {<span class="hljs-string">"gte"</span>: <span class="hljs-string">"now-6M"</span>}}},
29.          {<span class="hljs-string">"term"</span>: {<span class="hljs-string">"status"</span>: <span class="hljs-string">"published"</span>}}
30.        ],
31.        <span class="hljs-string">"rank_window_size"</span>: 50,
32.        <span class="hljs-string">"rank_constant"</span>: 20
33.      }
34.    },
35.    <span class="hljs-string">"_source"</span>: [<span class="hljs-string">"title"</span>, <span class="hljs-string">"last_updated"</span>, <span class="hljs-string">"version"</span>, <span class="hljs-string">"content_snippet"</span>],
36.    <span class="hljs-string">"size"</span>: 5
37.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-9">è¿™ä¸ªæ··åˆæœç´¢æŸ¥è¯¢</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145485873" title="https://elasticstack.blog.csdn.net/article/details/145485873" target="_blank" ref="nofollow noopener noreferrer">è¯­ä¹‰æœç´¢</a>ï¼ˆsemanticï¼‰ä½¿ç”¨ content_semantic å­—æ®µæ•æ‰ç›¸å…³æ¦‚å¿µå’Œä¸Šä¸‹æ–‡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134111585" title="https://elasticstack.blog.csdn.net/article/details/134111585" target="_blank" ref="nofollow noopener noreferrer">è¯æ±‡æœç´¢</a>ï¼ˆmulti_matchï¼‰åŒ¹é…åƒ â€œOAuthâ€ è¿™æ ·çš„ç²¾ç¡®å…³é”®è¯ï¼Œå¹¶å¯¹ title^2 å­—æ®µè¿›è¡ŒåŠ æƒã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F151765742" title="https://elasticstack.blog.csdn.net/article/details/151765742" target="_blank" ref="nofollow noopener noreferrer">å€’æ•°æ’åºèåˆ</a>ï¼ˆRRFï¼‰ç»“åˆä¸¤ç»„ç»“æœè¿›è¡Œå¹³è¡¡<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143352429" title="https://elasticstack.blog.csdn.net/article/details/143352429" target="_blank" ref="nofollow noopener noreferrer">é‡æ’åº</a>ï¼Œæ£€ç´¢æœ€ç›¸å…³çš„ç»“æœã€‚</li>
<li>æ—¶é—´è¿‡æ»¤å™¨ç¡®ä¿åªæ£€ç´¢è¿‡å»å…­ä¸ªæœˆå†…æ›´æ–°çš„æ–‡æ¡£ã€‚</li>
<li>çŠ¶æ€è¿‡æ»¤å™¨å°†ç»“æœé™åˆ¶ä¸ºå·²å‘å¸ƒæ–‡æ¡£ï¼Œæ’é™¤è‰ç¨¿æˆ–å·²å¼ƒç”¨å†…å®¹ã€‚</li>
</ul>
<h4 data-id="heading-10">ä½¿ç”¨æ—¶é—´è¿‡æ»¤åçš„å“åº”ï¼šç»“æœä¸€è‡´</h4>
<p>æ—¶é—´è¿‡æ»¤æ¶ˆé™¤äº†è¿‡æ—¶æ–‡æ¡£ï¼Œåªä¿ç•™äº† 9.x ç‰ˆæœ¬çš„æœ€æ–°æ–‡æ¡£ã€‚LLM ç°åœ¨æ¥æ”¶åˆ°ä¸€è‡´çš„ä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆè‡ªä¿¡ä¸”å‡†ç¡®çš„å“åº”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"hits"</span>: {
3.      <span class="hljs-string">"hits"</span>: [
4.        {
5.          <span class="hljs-string">"_source"</span>: {
6.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"OAuth 2.0 Authentication Setup"</span>,
7.            <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2026-01-15"</span>,
8.            <span class="hljs-string">"version"</span>: <span class="hljs-string">"9.x"</span>,
9.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Configure OAuth 2.0 in Elasticsearch 9.x using the security API via Stack Management &gt; Security."</span>
10.          }
11.        },
12.        {
13.          <span class="hljs-string">"_source"</span>: {
14.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"OAuth Provider Configuration"</span>,
15.            <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2025-12-20"</span>,
16.            <span class="hljs-string">"version"</span>: <span class="hljs-string">"9.x"</span>,
17.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Configure Okta, Azure AD, Auth0 via security API with OIDC auto-discovery."</span>
18.          }
19.        }
20.      ]
21.    }
22.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-11">ç›¸å¯¹æ—¶é—´è¿‡æ»¤ä¸ç»å¯¹æ—¶é—´è¿‡æ»¤</h4>
<p><strong>ç›¸å¯¹è¿‡æ»¤</strong>ï¼ˆæ¨èç”¨äºå¤§å¤šæ•°ç”¨ä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">`

<span class="hljs-number">1</span>.  "<span class="hljs-attribute">filter</span>": [
<span class="hljs-number">2</span>.    {
<span class="hljs-number">3</span>.      "range": {
<span class="hljs-number">4</span>.        "last_updated": {
<span class="hljs-number">5</span>.          "gte": <span class="hljs-string">"now-1y"</span>
<span class="hljs-number">6</span>.        }
<span class="hljs-number">7</span>.      }
<span class="hljs-number">8</span>.    }
<span class="hljs-number">9</span>.  ]

`AIå†™ä»£ç 
</code></pre>
<p><strong>ç»å¯¹æ—¶é—´è¿‡æ»¤</strong>ï¼ˆç”¨äºç‰¹å®šæ—¶é—´èŒƒå›´ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  <span class="hljs-string">"filter"</span>: [
2.    {
3.      <span class="hljs-string">"range"</span>: {
4.        <span class="hljs-string">"last_updated"</span>: {
5.          <span class="hljs-string">"gte"</span>: <span class="hljs-string">"2025-01-01"</span>,
6.          <span class="hljs-string">"lte"</span>: <span class="hljs-string">"2025-12-31"</span>
7.        }
8.      }
9.    }
10.  ]

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-12">å¯¹ LLM å“åº”è´¨é‡çš„å½±å“</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802df967a90d467e8b94aab948985116~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381985&amp;x-signature=JxEeu47z1MwfrK0hz8t3wfJcuto%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æœªè¿‡æ»¤æ—¶</strong>ï¼šLLM æ”¶åˆ° 2023â€“2025 å¹´çš„çŸ›ç›¾æŒ‡å—ï¼Œç”Ÿæˆæ··åˆäº†å·²å¼ƒç”¨å’Œå½“å‰æ–¹æ³•çš„ä¸ç¡®å®šå“åº”ã€‚</li>
<li><strong>ä½¿ç”¨æ—¶é—´è¿‡æ»¤å</strong>ï¼šLLM åªæ¥æ”¶æœ€æ–°æ–‡æ¡£ï¼ŒåŸºäºå½“å‰æœ€ä½³å®è·µç”Ÿæˆè‡ªä¿¡çš„å“åº”ã€‚</li>
</ul>
<h3 data-id="heading-13">ä¿¡æ¯å†²çª</h3>
<p>å½“ä½ çš„ RAG system æ£€ç´¢åˆ°åœ¨ä¸åŒéƒ¨ç½²ç±»å‹ã€ç‰ˆæœ¬æˆ–é…ç½®ä¸‹è¡Œä¸ºä¸åŒçš„åŠŸèƒ½æ–‡æ¡£æ—¶ï¼Œå†²çªçš„ä¿¡æ¯å¯èƒ½ä¼šè®© LLM ä¸æ¸…æ¥šå“ªäº›æŒ‡å¯¼é€‚ç”¨äºç”¨æˆ·çš„å…·ä½“ä¸Šä¸‹æ–‡ã€‚</p>
<h4 data-id="heading-14">å½±å“</h4>
<p>LLM éœ€è¦ä½¿ç”¨æ›´å¤šèµ„æºå’Œ token æ¥ç†è§£å¹¶åˆ¤æ–­å“ªäº›ä¿¡æ¯æ˜¯æ­£ç¡®çš„ï¼Œå› æ­¤æ›´å®¹æ˜“å‡ºé”™æˆ–äº§ç”Ÿå¹»è§‰ã€‚</p>
<h4 data-id="heading-15">è§£å†³æ–¹æ¡ˆï¼šå¸¦å…ƒæ•°æ®åŠ æƒçš„æ··åˆæœç´¢</h4>
<p>Elasticsearch çš„ bool æŸ¥è¯¢ç»“åˆ should å­å¥å…è®¸ä½ æå‡ç‰¹å®šå…ƒæ•°æ®çš„æƒé‡ï¼Œç¡®ä¿ä¸éƒ¨ç½²ç±»å‹æˆ–ç‰ˆæœ¬ç›¸å…³çš„æ–‡æ¡£ä¼˜å…ˆå‡ºç°åœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­ã€‚æœ‰å…³æŸ¥è¯¢è¯­æ³•è¯¦æƒ…ï¼Œè¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fquery-dsl%2Fquery-dsl-bool-query" title="https://www.elastic.co/docs/reference/query-languages/query-dsl/query-dsl-bool-query" target="_blank" ref="nofollow noopener noreferrer">Bool query</a>æ–‡æ¡£ã€‚</p>
<h4 data-id="heading-16">ç¤ºä¾‹ï¼šéƒ¨ç½²ç‰¹å®šçš„åŠŸèƒ½æ–‡æ¡£</h4>
<p>ç”¨æˆ·è¯¢é—®ï¼šâ€œå¦‚ä½•åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fcloud%2Fserverless" title="https://www.elastic.co/cloud/serverless" target="_blank" ref="nofollow noopener noreferrer">serverless</a> ä¸­é…ç½®è‡ªå®šä¹‰ç”¨æˆ·ï¼Ÿâ€ ä½ çš„çŸ¥è¯†åº“åŒ…å«å…³äº cloudã€self-hosted å’Œ managed éƒ¨ç½²çš„ä¿¡æ¯ã€‚é€šè¿‡åˆç†çš„å…ƒæ•°æ®ä¼˜å…ˆçº§ï¼ŒLLM èƒ½æ£€ç´¢åˆ°åŠŸèƒ½å¯ç”¨æ€§ä¿¡å·ï¼Œå¹¶æä¾›æ­£ç¡®çš„æŒ‡å¯¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST platform-docs/_search
2.  {
3.    <span class="hljs-string">"retriever"</span>: {
4.      <span class="hljs-string">"rrf"</span>: {
5.        <span class="hljs-string">"retrievers"</span>: [
6.          {
7.            <span class="hljs-string">"standard"</span>: {
8.              <span class="hljs-string">"query"</span>: {
9.                <span class="hljs-string">"bool"</span>: {
10.                  <span class="hljs-string">"must"</span>: [
11.                    {
12.                      <span class="hljs-string">"multi_match"</span>: {
13.                        <span class="hljs-string">"query"</span>: <span class="hljs-string">"How do I configure custom users in serverless?"</span>,
14.                        <span class="hljs-string">"fields"</span>: [<span class="hljs-string">"title^2"</span>, <span class="hljs-string">"content"</span>]
15.                      }
16.                    }
17.                  ],
18.                  <span class="hljs-string">"should"</span>: [
19.                    {<span class="hljs-string">"term"</span>: {<span class="hljs-string">"deployment_type"</span>: {<span class="hljs-string">"value"</span>: <span class="hljs-string">"serverless"</span>, <span class="hljs-string">"boost"</span>: 3.0}}},
20.                    {<span class="hljs-string">"term"</span>: {<span class="hljs-string">"doc_status"</span>: {<span class="hljs-string">"value"</span>: <span class="hljs-string">"current"</span>, <span class="hljs-string">"boost"</span>: 2.0}}}
21.                  ]
22.                }
23.              }
24.            }
25.          },
26.          {
27.            <span class="hljs-string">"standard"</span>: {
28.              <span class="hljs-string">"query"</span>: {
29.                <span class="hljs-string">"semantic"</span>: {
30.                  <span class="hljs-string">"field"</span>: <span class="hljs-string">"content_semantic"</span>,
31.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"How do I configure custom users in serverless?"</span>
32.                }
33.              }
34.            }
35.          }
36.        ],
37.        <span class="hljs-string">"rank_window_size"</span>: 50,
38.        <span class="hljs-string">"rank_constant"</span>: 20
39.      }
40.    },
41.    <span class="hljs-string">"_source"</span>: [<span class="hljs-string">"title"</span>, <span class="hljs-string">"deployment_type"</span>, <span class="hljs-string">"feature_supported"</span>, <span class="hljs-string">"content_snippet"</span>],
42.    <span class="hljs-string">"size"</span>: 5
43.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-17">è¿™ä¸ªæŸ¥è¯¢çš„ä½œç”¨</h4>
<ul>
<li>must å­å¥ï¼šæ‰€æœ‰æ–‡æ¡£å¿…é¡»åŒ¹é… â€œHow do I configure custom users in serverless?â€</li>
<li>å¸¦æ˜¾å¼åŠ æƒçš„ should å­å¥ï¼š
<ul>
<li>deployment_type ä¸º â€œserverlessâ€ çš„æ–‡æ¡£æƒé‡æå‡ 3 å€ã€‚</li>
<li>doc_status ä¸º â€œcurrentâ€ çš„æ–‡æ¡£æƒé‡æå‡ 2 å€ã€‚</li>
</ul>
</li>
<li>è¯­ä¹‰æœç´¢å¹¶è¡Œè¿è¡Œä»¥æ•æ‰æ¦‚å¿µåŒ¹é…ã€‚</li>
<li>å€’æ•°æ’åºèåˆï¼ˆRRFï¼‰ç»“åˆè¯æ±‡æœç´¢ï¼ˆå¸¦å…ƒæ•°æ®åŠ æƒï¼‰å’Œè¯­ä¹‰æœç´¢ç»“æœï¼Œå…¼é¡¾ä¸¤ç§æ–¹æ³•çš„ä¼˜åŠ¿ã€‚</li>
</ul>
<h4 data-id="heading-18">é¢„æœŸå“åº”ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"hits"</span>: {
3.      <span class="hljs-string">"hits"</span>: [
4.        {
5.          <span class="hljs-string">"_source"</span>: {
6.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Authentication in Serverless"</span>,
7.            <span class="hljs-string">"deployment_type"</span>: <span class="hljs-string">"serverless"</span>,
8.            <span class="hljs-string">"feature_supported"</span>: <span class="hljs-literal">false</span>,
9.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Custom authentication not available in Serverless. Use SSO with your identity provider."</span>
10.          }
11.        },
12.        {
13.          <span class="hljs-string">"_source"</span>: {
14.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"User Management in Serverless"</span>,
15.            <span class="hljs-string">"deployment_type"</span>: <span class="hljs-string">"serverless"</span>,
16.            <span class="hljs-string">"feature_supported"</span>: <span class="hljs-literal">false</span>,
17.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Direct user creation not supported in Serverless. Use your organization's IdP."</span>
18.          }
19.        },
20.        {
21.          <span class="hljs-string">"_source"</span>: {
22.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Role-Based Access in Serverless"</span>,
23.            <span class="hljs-string">"deployment_type"</span>: <span class="hljs-string">"serverless"</span>,
24.            <span class="hljs-string">"feature_supported"</span>: <span class="hljs-literal">true</span>,
25.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Configure roles in Serverless console. Roles sync with SSO provider groups."</span>
26.          }
27.        },
28.        {
29.          <span class="hljs-string">"_source"</span>: {
30.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"API Keys in Serverless"</span>,
31.            <span class="hljs-string">"deployment_type"</span>: <span class="hljs-string">"serverless"</span>,
32.            <span class="hljs-string">"feature_supported"</span>: <span class="hljs-literal">true</span>,
33.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Create API keys for programmatic Serverless access. Keys inherit user permissions."</span>
34.          }
35.        },
36.        {
37.          <span class="hljs-string">"_source"</span>: {
38.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"SSO Configuration for Serverless"</span>,
39.            <span class="hljs-string">"deployment_type"</span>: <span class="hljs-string">"serverless"</span>,
40.            <span class="hljs-string">"feature_supported"</span>: <span class="hljs-literal">true</span>,
41.            <span class="hljs-string">"content_snippet"</span>: <span class="hljs-string">"Configure SSO in Serverless via Cloud console with SAML 2.0 or OIDC."</span>
42.          }
43.        }
44.      ]
45.    }
46.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-19">å…ƒæ•°æ®åŠ æƒå¦‚ä½•è§£å†³å†²çª</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b23a155dfca415784d89280c22d6ca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381985&amp;x-signature=AqVJsfcWDF6o58IzP6Lofx0mtTk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">å¯¹ LLM å“åº”è´¨é‡çš„å½±å“</h4>
<ul>
<li><strong>æœªä½¿ç”¨å…ƒæ•°æ®åŠ æƒ</strong>ï¼šä¸Šä¸‹æ–‡çª—å£æ¥æ”¶æ¥è‡ªæ‰€æœ‰éƒ¨ç½²ç±»å‹çš„ç­‰æƒé‡æ–‡æ¡£ã€‚LLM ç”Ÿæˆæ¨¡ç³Šçš„å“åº”ï¼Œåœ¨å¤šç§å¯èƒ½æ€§ä¹‹é—´æ‘‡æ‘†ï¼Œæœªèƒ½æ¸…æ¥šè¯´æ˜ç‰¹å®šéƒ¨ç½²çš„é™åˆ¶ã€‚</li>
<li><strong>ä½¿ç”¨å…ƒæ•°æ®åŠ æƒï¼ˆ3 å€ï¼‰</strong>ï¼šManaged éƒ¨ç½²ç›¸å…³æ–‡æ¡£åœ¨ç»“æœé¡¶éƒ¨å ä¸»å¯¼ã€‚LLM ç”Ÿæˆå…³äºåŠŸèƒ½ä¸å¯ç”¨çš„ç›´æ¥ç­”æ¡ˆï¼Œå¹¶æä¾›å¯æ“ä½œçš„æ›¿ä»£æ–¹æ¡ˆï¼ŒåŒæ—¶ä¿æŒè·¨éƒ¨ç½²ä¸Šä¸‹æ–‡ä»¥ä¾¿åç»­é—®é¢˜ä½¿ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-21">è¯­ä¹‰å™ªå£°</h3>
<p>å‘é‡ç›¸ä¼¼æœç´¢å¯èƒ½ä¼šæ£€ç´¢åˆ°è¯­ä¹‰ç›¸å…³ä½†åœ¨ä¸Šä¸‹æ–‡ä¸Šä¸ç”¨æˆ·éœ€æ±‚æ— å…³çš„æ–‡æ¡£ã€‚å½“ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134748014" title="https://elasticstack.blog.csdn.net/article/details/134748014" target="_blank" ref="nofollow noopener noreferrer">embedding</a> æ•æ‰åˆ°ç›¸ä¼¼æ€§ä½†æœªç†è§£æŸ¥è¯¢æ„å›¾æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§ â€œè¯­ä¹‰æ¼‚ç§»â€ã€‚å› æ­¤ï¼Œå½“ä¸Šä¸‹æ–‡çª—å£å……æ»¡æ— å…³ä¿¡æ¯æ—¶ï¼ŒLLM ç”Ÿæˆç²¾ç¡®ç­”æ¡ˆçš„èƒ½åŠ›ä¼šä¸‹é™ã€‚</p>
<h4 data-id="heading-22">å½±å“</h4>
<p>LLM æ¥æ”¶åˆ°æ­£ç¡®ä½†ä¸å›ç­”é—®é¢˜çš„ä¿¡æ¯ï¼Œæµªè´¹äº†ä¸Šä¸‹æ–‡çª—å£ï¼Œé™ä½äº†æä¾›ç­”æ¡ˆçš„è´¨é‡ã€‚</p>
<h4 data-id="heading-23">è§£å†³æ–¹æ¡ˆï¼šæ··åˆæœç´¢</h4>
<p>Elasticsearch <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145697606" title="https://elasticstack.blog.csdn.net/article/details/145697606" target="_blank" ref="nofollow noopener noreferrer">æ··åˆæœç´¢</a>ç»“åˆè¯æ±‡ç²¾ç¡®æ€§å’Œè¯­ä¹‰ç†è§£ï¼Œä½¿ç”¨æ˜ç¡®çš„äº§å“è¿‡æ»¤å™¨æ¶ˆé™¤è·¨äº§å“æ¼‚ç§»ï¼ŒåŒæ—¶ä¿æŒæ¦‚å¿µå¬å›èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-24">ç¤ºä¾‹ï¼šæŠ€æœ¯æ–‡æ¡£æœç´¢</h4>
<p>å¼€å‘è€…æœç´¢ â€œElastic Agent configurationâ€ï¼Œä½ çš„çŸ¥è¯†åº“åŒ…å« Elastic Agentï¼ˆElastic Observabilityï¼‰å’Œ Elastic <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Felasticsearch%2Fagent-builder" title="https://www.elastic.co/elasticsearch/agent-builder" target="_blank" ref="nofollow noopener noreferrer">Agent Builder</a> æ–‡æ¡£ã€‚ä¸¤è€…éƒ½çªå‡ºä½¿ç”¨äº† â€œagentâ€ ä¸€è¯ï¼Œä½¿å®ƒä»¬åœ¨è¯­ä¹‰ä¸Šç›¸ä¼¼ã€‚</p>
<p>è®©æˆ‘ä»¬æœç´¢ agent é…ç½®æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST elastic-docs/_search
2.  {
3.    <span class="hljs-string">"retriever"</span>: {
4.      <span class="hljs-string">"rrf"</span>: {
5.        <span class="hljs-string">"retrievers"</span>: [
6.          {
7.            <span class="hljs-string">"standard"</span>: {
8.              <span class="hljs-string">"query"</span>: {
9.                <span class="hljs-string">"multi_match"</span>: {
10.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"agent configuration logs metrics collection"</span>,
11.                  <span class="hljs-string">"fields"</span>: [<span class="hljs-string">"title^3"</span>, <span class="hljs-string">"content"</span>, <span class="hljs-string">"tags^2"</span>],
12.                  <span class="hljs-string">"type"</span>: <span class="hljs-string">"best_fields"</span>
13.                }
14.              }
15.            }
16.          },
17.          {
18.            <span class="hljs-string">"standard"</span>: {
19.              <span class="hljs-string">"query"</span>: {
20.                <span class="hljs-string">"semantic"</span>: {
21.                  <span class="hljs-string">"field"</span>: <span class="hljs-string">"content_semantic"</span>,
22.                  <span class="hljs-string">"query"</span>: <span class="hljs-string">"configuring agents to collect logs and metrics from hosts"</span>
23.                }
24.              }
25.            }
26.          }
27.        ],
28.        <span class="hljs-string">"filter"</span>: [
29.          {<span class="hljs-string">"terms"</span>: {<span class="hljs-string">"product"</span>: [<span class="hljs-string">"observability"</span>, <span class="hljs-string">"elastic-agent"</span>]}},
30.          {<span class="hljs-string">"term"</span>: {<span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"configuration"</span>}}
31.        ],
32.        <span class="hljs-string">"rank_window_size"</span>: 50,
33.        <span class="hljs-string">"rank_constant"</span>: 20
34.      }
35.    },
36.    <span class="hljs-string">"_source"</span>: [<span class="hljs-string">"title"</span>, <span class="hljs-string">"product"</span>, <span class="hljs-string">"tags"</span>, <span class="hljs-string">"url"</span>],
37.    <span class="hljs-string">"size"</span>: 5
38.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>è¿™ä¸ªæ··åˆæŸ¥è¯¢ï¼š</p>
<ul>
<li>è¯æ±‡ç»„ä»¶ï¼ˆmulti_matchï¼‰ç¡®ä¿å¯¹ â€œagentâ€ã€â€œconfigurationâ€ã€â€œlogsâ€ã€â€œmetricsâ€ å’Œ â€œcollectionâ€ çš„ç²¾ç¡®å…³é”®è¯åŒ¹é…ã€‚</li>
<li>å­—æ®µåŠ æƒï¼ˆtitle^3, tags^2ï¼‰ä¼˜å…ˆæ˜¾ç¤ºè¿™äº›è¯å‡ºç°åœ¨é‡è¦å­—æ®µçš„æ–‡æ¡£ã€‚</li>
<li>è¯­ä¹‰ç»„ä»¶æ•æ‰å…³äº â€œconfiguring data collection agentsâ€ çš„æ¦‚å¿µå…³ç³»å’Œæ„å›¾ã€‚</li>
<li>å€’æ•°æ’åºèåˆï¼ˆRRFï¼‰ä½¿ç”¨ rank_constant: 20 å¯¹ä¸¤ç»„ç»“æœè¿›è¡Œå¹³è¡¡æ’åºåˆå¹¶ã€‚</li>
<li>äº§å“è¿‡æ»¤å™¨å°†ç»“æœé™åˆ¶åœ¨ Elastic Observability å’Œ Elastic Agent åŸŸï¼Œå®Œå…¨æ’é™¤ Agent Builder æ–‡æ¡£ã€‚</li>
<li>ç±»åˆ«è¿‡æ»¤å™¨å°†ç»“æœé™åˆ¶åœ¨ â€œobservabilityâ€ å’Œ â€œelastic-agentâ€ åŸŸï¼Œæ¶ˆé™¤å‘å…¶ä»–åŸŸçš„è¯­ä¹‰æ¼‚ç§»ã€‚</li>
</ul>
<p><strong>é¢„æœŸå“åº”</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"hits"</span>: {
3.      <span class="hljs-string">"hits"</span>: [
4.        {
5.          <span class="hljs-string">"_source"</span>: {
6.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Elastic Agent Input Configuration"</span>,
7.            <span class="hljs-string">"product"</span>: <span class="hljs-string">"elastic-agent"</span>,
8.            <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"inputs"</span>, <span class="hljs-string">"logs"</span>, <span class="hljs-string">"metrics"</span>, <span class="hljs-string">"configuration"</span>],
9.            <span class="hljs-string">"url"</span>: <span class="hljs-string">"/docs/elastic-agent/inputs"</span>
10.          }
11.        },
12.        {
13.          <span class="hljs-string">"_source"</span>: {
14.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Configure Elastic Agent for Log and Metric Collection"</span>,
15.            <span class="hljs-string">"product"</span>: <span class="hljs-string">"elastic-agent"</span>,
16.            <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"configuration"</span>, <span class="hljs-string">"logs"</span>, <span class="hljs-string">"metrics"</span>, <span class="hljs-string">"observability"</span>],
17.            <span class="hljs-string">"url"</span>: <span class="hljs-string">"/docs/elastic-agent/configure"</span>
18.          }
19.        },
20.        {
21.          <span class="hljs-string">"_source"</span>: {
22.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Agent Policies and Integrations"</span>,
23.            <span class="hljs-string">"product"</span>: <span class="hljs-string">"observability"</span>,
24.            <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"policies"</span>, <span class="hljs-string">"integrations"</span>, <span class="hljs-string">"fleet"</span>],
25.            <span class="hljs-string">"url"</span>: <span class="hljs-string">"/docs/fleet/policies"</span>
26.          }
27.        },
28.        {
29.          <span class="hljs-string">"_source"</span>: {
30.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Configuring Agent Outputs"</span>,
31.            <span class="hljs-string">"product"</span>: <span class="hljs-string">"elastic-agent"</span>,
32.            <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"outputs"</span>, <span class="hljs-string">"elasticsearch"</span>, <span class="hljs-string">"logstash"</span>],
33.            <span class="hljs-string">"url"</span>: <span class="hljs-string">"/docs/elastic-agent/outputs"</span>
34.          }
35.        },
36.        {
37.          <span class="hljs-string">"_source"</span>: {
38.            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Manage Elastic Agents with Fleet"</span>,
39.            <span class="hljs-string">"product"</span>: <span class="hljs-string">"observability"</span>,
40.            <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"fleet"</span>, <span class="hljs-string">"agent-management"</span>, <span class="hljs-string">"deployment"</span>],
41.            <span class="hljs-string">"url"</span>: <span class="hljs-string">"/docs/fleet/manage-agents"</span>
42.          }
43.        }
44.      ]
45.    }
46.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h4 data-id="heading-25">æ··åˆæœç´¢ä¸ºä»€ä¹ˆæœ‰æ•ˆ</h4>
<table><thead><tr><th>æœç´¢ç±»å‹</th><th>ä¼˜ç‚¹</th></tr></thead><tbody><tr><td>ä»…è¯æ±‡æœç´¢</td><td>ç²¾ç¡®çš„å…³é”®è¯åŒ¹é…</td></tr><tr><td>ä»…è¯­ä¹‰æœç´¢</td><td>æ•æ‰è¯­ä¹‰å«ä¹‰</td></tr><tr><td>æ··åˆæœç´¢</td><td>å…¼é¡¾ç²¾ç¡®æ€§ä¸å¬å›ç‡ï¼Œç†è§£æŸ¥è¯¢æ„å›¾</td></tr></tbody></table>
<p>å‰åå¯¹æ¯”ï¼šLLM å“åº”æ¯”è¾ƒ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67d3a4564b7549f49cb33da2452805b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771381985&amp;x-signature=TTp8mQNSKkedOVFyUOF6F5leOyg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-26">Elasticsearch RAG æœ€ä½³å®è·µ</h2>
<p>éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µå¯ä»¥ä¼˜åŒ–ä½ çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Œæœ‰æ•ˆé™ä½ RAG system ä¸­ä¸Šä¸‹æ–‡æŠ•æ¯’çš„é£é™©ã€‚é€šè¿‡å®æ–½è¿™äº›ç­–ç•¥ï¼Œä½ å¯ä»¥ç¡®ä¿ä¸Šä¸‹æ–‡çª—å£ä¸­çš„æ¯ä¸ª token éƒ½ä¸º LLM æä¾›ç›¸å…³ã€å‡†ç¡®ä¸”å¯é çš„å“åº”ã€‚</p>
<ul>
<li><strong>é€‰æ‹©åˆé€‚çš„æœç´¢ç­–ç•¥</strong>
<ul>
<li>æ ¹æ®æ•°æ®ç‰¹æ€§å’ŒæŸ¥è¯¢æ¨¡å¼é€‰æ‹©æœç´¢æ–¹æ³•ï¼šè¯æ±‡æœç´¢ã€è¯­ä¹‰æœç´¢æˆ–æ··åˆæœç´¢ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fsearch-approaches" title="https://www.elastic.co/docs/solutions/search/search-approaches" target="_blank" ref="nofollow noopener noreferrer">Search approaches | Elastic Docs</a>]ã€‚</li>
</ul>
</li>
<li><strong>å®ç°æ—¶é—´æ„è¯†</strong>
<ul>
<li>å¯¹äºæ—¶é—´æ•æ„Ÿçš„ä¿¡æ¯ï¼Œéœ€è¦ä¸»åŠ¨ç®¡ç†ä»¥é˜²æ­¢è¿‡æ—¶å†…å®¹æ±¡æŸ“ä¸Šä¸‹æ–‡çª—å£ã€‚ä½¿ç”¨å¸¦ç›¸å¯¹æ—¶é—´è¿‡æ»¤å™¨çš„èŒƒå›´æŸ¥è¯¢ï¼ˆå¦‚ now-6M æˆ– now-1yï¼‰æ¥å¤„ç†é¢‘ç¹å˜åŒ–çš„å†…å®¹ï¼Œç¡®ä¿ RAG system ä¼˜å…ˆæ£€ç´¢æœ€è¿‘å†…å®¹ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fquery-dsl%2Fquery-dsl-range-query" title="https://www.elastic.co/docs/reference/query-languages/query-dsl/query-dsl-range-query" target="_blank" ref="nofollow noopener noreferrer">Range query | Reference</a>]ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨å…ƒæ•°æ®åŠ æƒ</strong>
<ul>
<li>å½“çŸ¥è¯†åº“ä¸­åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­åŒ…å«ç›¸ä¼¼å†…å®¹ï¼ˆå¦‚å¤šä¸ªäº§å“ç‰ˆæœ¬ã€éƒ¨ç½²ç±»å‹æˆ–ç”¨æˆ·è§’è‰²ï¼‰æ—¶ï¼Œå…ƒæ•°æ®åŠ æƒå¯ä»¥ä¼˜å…ˆè¿”å›ä¸Šä¸‹æ–‡ç›¸å…³çš„ç»“æœã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fquery-dsl%2Fquery-dsl-bool-query" title="https://www.elastic.co/docs/reference/query-languages/query-dsl/query-dsl-bool-query" target="_blank" ref="nofollow noopener noreferrer">[Boolean query | Reference]</a>ã€‚</li>
</ul>
</li>
<li><strong>å¿…è¦æ—¶åº”ç”¨é‡æ’åº</strong>
<ul>
<li>å¯¹äºå¤æ‚æˆ–é«˜ä¼˜å…ˆçº§æŸ¥è¯¢ï¼Œéœ€è¦ç²¾ç¡®æ€§æ—¶ï¼Œå¯å®æ–½é‡æ’åºè§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åŸºäºæŸ¥è¯¢å’Œæ–‡æ¡£è¯­ä¹‰ç†è§£é‡æ–°æ’åºç»“æœï¼Œæ˜¾è‘—æå‡æœç´¢è´¨é‡ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Franking" title="https://www.elastic.co/docs/solutions/search/ranking" target="_blank" ref="nofollow noopener noreferrer">Ranking and reranking | Elastic Docs</a>]ã€‚</li>
</ul>
</li>
<li><strong>ä¼˜åŒ–æ–‡æ¡£åˆ‡åˆ†ç­–ç•¥</strong>
<ul>
<li>æ–‡æ¡£åˆ‡åˆ†æ˜¯å°†å¤§æ–‡æœ¬åˆ†è§£ä¸ºæ›´å° â€œchunksâ€ çš„è¿‡ç¨‹ã€‚åˆ‡åˆ†ç­–ç•¥å½±å“è¯­ä¹‰è¡¨ç¤ºå’Œæ£€ç´¢ç²¾åº¦ã€‚è¾ƒå°çš„ chunk æä¾›æ›´é«˜ç²’åº¦ï¼Œä½†å¯èƒ½ä¸¢å¤±ä¸Šä¸‹æ–‡ï¼›è¾ƒå¤§çš„ chunk ä¿ç•™æ›´å¤šä¸Šä¸‹æ–‡ï¼Œä½†é™ä½æ£€ç´¢ç²¾åº¦ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fchunking-strategies-elasticsearch" title="https://www.elastic.co/search-labs/blog/chunking-strategies-elasticsearch" target="_blank" ref="nofollow noopener noreferrer">Understanding chunking strategies in Elasticsearch</a>]ã€‚</li>
</ul>
</li>
<li><strong>åœ¨é€å…¥ LLM å‰è¿‡æ»¤æ•°æ®</strong>
<ul>
<li>å‘é‡ç›¸ä¼¼æœç´¢å¯èƒ½æ£€ç´¢åˆ°è¯­ä¹‰ç›¸å…³ä½†ä¸Šä¸‹æ–‡æ— å…³çš„æ–‡æ¡£ã€‚åœ¨å°†ç»“æœé€å…¥ LLM å‰ï¼Œå¯¹ productã€category æˆ– domain å­—æ®µåº”ç”¨æ˜¾å¼è¿‡æ»¤ï¼Œå°†ç»“æœçº¦æŸåˆ°åˆé€‚çš„ä¸Šä¸‹æ–‡ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F139702825" title="https://elasticstack.blog.csdn.net/article/details/139702825" target="_blank" ref="nofollow noopener noreferrer">[ç”Ÿäº§ç¯å¢ƒä¸­çš„ RAG æµæ°´çº¿ï¼šå°†ä½ çš„ GenAI é¡¹ç›®è½åœ° - Elasticsearch Labs]</a>ã€‚</li>
</ul>
</li>
<li><strong>æ ¡å‡†æ£€ç´¢é‡ (k)</strong>
<ul>
<li>æ‰¾åˆ°æ£€ç´¢æ–‡æ¡£æ•°é‡çš„ â€œé€‚ä¸­åŒºé—´â€ è‡³å…³é‡è¦ã€‚ç»“æœè¿‡å°‘ä¼šå¯¼è‡´ç­”æ¡ˆä¸å®Œæ•´ï¼Œè¿‡å¤šä¼šè®© LLM æ¼æ‰å…³é”®ä¿¡æ¯ã€‚éœ€è¦åœ¨ token é¢„ç®—ä¸æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£æ·±åº¦ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fvector%2Fknn" title="https://www.elastic.co/docs/solutions/search/vector/knn" target="_blank" ref="nofollow noopener noreferrer">kNN search in Elasticsearch | Elastic Docs</a>]ã€‚</li>
</ul>
</li>
<li><strong>è€ƒè™‘å¯¹å¤§æ–‡æ¡£è¿›è¡Œæ‘˜è¦</strong>
<ul>
<li>å½“æ£€ç´¢å†…å®¹è¶…è¿‡ä¸Šä¸‹æ–‡é¢„ç®—æ—¶ï¼Œæ‘˜è¦æŠ€æœ¯å¯ä¿ç•™å…³é”®ä¿¡æ¯ï¼ŒåŒæ—¶å‡å°‘ token æ•°é‡ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F142688816" title="https://elasticstack.blog.csdn.net/article/details/142688816" target="_blank" ref="nofollow noopener noreferrer">ä½¿ç”¨ Elastic å°† AI æ‘˜è¦æ·»åŠ åˆ°ä½ çš„ç½‘ç«™</a>]ã€‚</li>
</ul>
</li>
<li><strong>ç›‘æ§ä¸è¿­ä»£</strong>
<ul>
<li>éšç€çŸ¥è¯†åº“å¢é•¿å’Œå†…å®¹æ¼”å˜ï¼Œå»ºè®®å®æ–½ç›‘æ§ä»¥è·Ÿè¸ªç›¸å…³æ€§åˆ†æ•°åˆ†å¸ƒã€æ£€ç´¢ç»“æœçš„æ—¶é—´æ¨¡å¼å’Œç”¨æˆ·åé¦ˆä¿¡å·ã€‚å…³æ³¨è¿‡æ—¶æ–‡æ¡£ã€ç”¨æˆ·æ»¡æ„åº¦ä¸‹é™æˆ– â€œno relevant resultsâ€ æŸ¥è¯¢å¢å¤šç­‰è¿¹è±¡ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F155219345" title="https://elasticstack.blog.csdn.net/article/details/155219345" target="_blank" ref="nofollow noopener noreferrer">Elastic Observabilityï¼šStreams æ•°æ®è´¨é‡ä¸æ•…éšœå­˜å‚¨æ´å¯Ÿ</a>]ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-27"><strong>ç»“è®º</strong></h2>
<p>ç™¾ä¸‡ token ä¸Šä¸‹æ–‡çª—å£çš„æ–°çºªå…ƒå¹¶æœªè®©ä¸Šä¸‹æ–‡ç®¡ç†å˜å¾—æ— ç”¨ï¼Œç›¸åï¼Œå®ƒä½¿ä¸Šä¸‹æ–‡å·¥ç¨‹æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´ä¸ºå…³é”®ã€‚éšç€ä¸Šä¸‹æ–‡çª—å£çš„æ‰©å¤§ï¼Œæ¥è‡ªä»»ä½•æºã€å·¥å…·æˆ–å†…å­˜çš„æŠ•æ¯’é£é™©ä¹Ÿéšä¹‹å¢åŠ ã€‚</p>
<p>æœ¬æ–‡å±•ç¤ºçš„æ¨¡å¼ä¸ä»…é€‚ç”¨äº RAGã€‚æ—¶é—´è¿‡æ»¤ã€å…ƒæ•°æ®åŠ æƒå’Œæ··åˆæœç´¢æ˜¯æ”¹å–„ä¸Šä¸‹æ–‡è´¨é‡çš„åŸºç¡€æŠ€æœ¯ï¼Œæ— è®ºä¿¡æ¯æºå¦‚ä½•ï¼Œéƒ½èƒ½æé«˜ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§å’Œå‡†ç¡®æ€§ã€‚</p>
<p>é€šè¿‡å®æ–½è¿™äº›ç­–ç•¥ï¼Œä½ å¯ä»¥æ§åˆ¶ä¼ é€’ç»™ LLM çš„ä¿¡æ¯ï¼Œç¡®ä¿åœ¨å¤§è§„æ¨¡åœºæ™¯ä¸‹çš„ç›¸å…³æ€§ã€å‡†ç¡®æ€§å’Œä¿¡ä»»åº¦ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fcontext-poisoning-llm" title="https://www.elastic.co/search-labs/blog/context-poisoning-llm" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenTeleDB å®æµ‹ï¼šXStore çœŸçš„ç¨³ï¼]]></title>    <link>https://juejin.cn/post/7605041556657258505</link>    <guid>https://juejin.cn/post/7605041556657258505</guid>    <pubDate>2026-02-11T02:42:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041556657258505" data-draft-id="7605107459066183726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenTeleDB å®æµ‹ï¼šXStore çœŸçš„ç¨³ï¼"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2026-02-11T02:42:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIGC595"/> <meta itemprop="url" content="https://juejin.cn/user/314881444421322"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenTeleDB å®æµ‹ï¼šXStore çœŸçš„ç¨³ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/314881444421322/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIGC595
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:42:13.000Z" title="Wed Feb 11 2026 02:42:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ˜¨å¤©åˆ·åˆ°ä¸€ç¯‡ã€ŠOpenTeleDB æµ‹è¯„ï¼ŒXStore æ˜¯æƒŠå–œï¼ã€‹ï¼Œå¿ƒé‡Œç›´çŠ¯å˜€å’•ï¼šçœŸæœ‰é‚£ä¹ˆç¥ï¼Ÿæˆ‘ç›´æ¥æ’¸èµ·è¢–å­ï¼Œä¸Šæ‰‹æµ‹è¯•äº†ä¸€ä¸‹â€”â€”é«˜å¹¶å‘ã€é«˜é¢‘æ›´æ–°ã€æ··åˆè´Ÿè½½å…¨æ‹‰æ»¡ï¼Œçœ‹çœ‹ XStore åœ¨é«˜å‹åœºæ™¯ä¸‹ï¼Œåˆ°åº•æ˜¯â€œç¨³å¦‚è€ç‹—â€è¿˜æ˜¯â€œæ˜™èŠ±ä¸€ç°â€ã€‚</p>
<p>æˆ‘æŒ‰ç…§å®˜æ–¹æ•™ç¨‹ï¼Œç”¨CentOSå®‰è£…äº†OpenTeleDBï¼Œæ•´ä¸ªå®‰è£…è¿‡ç¨‹å‡ºä¹æ„æ–™åœ°é¡ºåˆ©ï¼Œä»ä¸‹è½½æºç åˆ°ç¼–è¯‘å®‰è£…ï¼Œ<strong>å…¨ç¨‹åªç”¨äº†15åˆ†é’Ÿ</strong>ã€‚å¯åŠ¨å‘½ä»¤ä¹Ÿå¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-variable">${pg_install_dir}</span>/bin/pg_ctl -D <span class="hljs-variable">${pg_data_dir}</span> start
</code></pre>
<p>æˆ‘é¡ºæ‰‹æŠŠç«¯å£æ”¹æˆäº† <code>15432</code>ï¼ˆé¿å…å’Œæœ¬åœ° PG å†²çªï¼‰ï¼Œç„¶åç”¨ <code>ps -ef | grep postgres</code> çœ‹äº†çœ¼è¿›ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1877064455774b4db98ae386d78ef2b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=7AqJH8voK3uLqw1w0QMutUXS6wA%3D" alt="åŸç”ŸPG vs OpenTeleDB è¿›ç¨‹å¯¹æ¯”" loading="lazy"/></p>
<p>ä¸ŠåŠéƒ¨åˆ†æ˜¯æ ‡å‡† PostgreSQL 17ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯ OpenTeleDBï¼Œä¹çœ‹å·®åˆ«ä¸å¤§ï¼Œä½†å†…æ ¸æ—©å·²ä¸åŒâ€”â€”é€šè¿‡ Python è¿æ¥ç¡®è®¤ï¼Œå®ƒç¡®å®æ˜¯ <strong>åŸºäº PostgreSQL 17 å¼€å‘</strong>ï¼Œå…¼å®¹æ€§æ¯«æ— é—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0453902d0d1b4aebabc1a24b4414bfd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=eGdX34%2F2YzBJBzumHxkwwoho%2FWQ%3D" alt="Python è¿æ¥ç¡®è®¤ç‰ˆæœ¬" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆï¼š<strong>å¤šç»´åº¦æ€§èƒ½ä¸ç¨³å®šæ€§å¯¹æ¯”</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">æ’å…¥æ€§èƒ½</h2>
<p>é¦–å…ˆç”¨ <code>INSERT INTO test_benchmark SELECT n, md5(random()::text) FROM generate_series({start_id}, {end_id - 1}) AS n</code> å‘½ä»¤æµ‹è¯•çº¯æ’å…¥åœºæ™¯ï¼ˆ20 çº¿ç¨‹å¹¶å‘ï¼Œæ’å…¥ 100 ä¸‡è¡Œæ•°æ®ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef6a17edb3314db5b230a10b25457d0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=0XLwdQIYQHDNjO8I8eVUS8cQj6Y%3D" alt="image.png" loading="lazy"/></p>
<p>æ’å…¥æ€§èƒ½ç»“æœå¦‚ä¸‹ï¼š</p>




















<table><thead><tr><th>æ•°æ®åº“</th><th>è€—æ—¶ (s)</th><th>åå (rows/s)</th></tr></thead><tbody><tr><td>OpenTeleDB (XStore)</td><td>7.23</td><td><strong>138,368</strong></td></tr><tr><td>PostgreSQL (Native)</td><td>4.80</td><td><strong>208,425</strong></td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93acd5df6dab428e92b34b94f8c0af20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=kpJQzFu9j6XJJh14gMmfr40Mnb4%3D" alt="æ’å…¥æ€§èƒ½å¯¹æ¯”" loading="lazy"/></p>
<p>ç»“æœä¸å‡ºæ‰€æ–™ï¼š<strong>åŸç”Ÿ PG ä¾ç„¶å¿«</strong>ã€‚æ¯•ç«Ÿ XStore è¦é¢å¤–å†™ Undo Logï¼Œç›¸å½“äºâ€œåŒå†™â€ï¼Œæ€§èƒ½æŸè€—åœ¨æ‰€éš¾å…ï¼Œä½†è¯·æ³¨æ„â€”â€”13.8 ä¸‡è¡Œ/ç§’æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿè¿™æ„å‘³ç€æ¯ç§’å¤„ç†è¿‘ 14 ä¸‡æ¡è®¢å•ã€æ—¥å¿—æˆ–ç”¨æˆ·è¡Œä¸ºè®°å½•ï¼Œ<strong>å¯¹ç»å¤§å¤šæ•°ä¸šåŠ¡æ¥è¯´å·²ç»ç»°ç»°æœ‰ä½™</strong>ï¼Œæ›´ä½•å†µï¼Œå¿«â‰ å¥½ï¼Œæˆ‘ä»¬è¿˜å¾—çœ‹â€œä»£ä»·â€ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ›´æ–°æ€§èƒ½</h2>
<p>æ¥ç€ç”¨å‘½ä»¤ <code>UPDATE test_benchmark SET info = md5(random()::text) WHERE id = {target_id};</code> æµ‹è¯• 20 çº¿ç¨‹å¹¶å‘ã€æŒç»­ 60 ç§’çš„éšæœº UPDATEï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51a8873cb3644a508626aedb44b79ad1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=ye%2FYngpAETIACYpwDCqtHFEVIuU%3D" alt="image.png" loading="lazy"/></p>
<p>æ€§èƒ½å¯¹æ¯”ç»“æœå¦‚ä¸‹ï¼š</p>




















<table><thead><tr><th>æ•°æ®åº“</th><th>æ€»äº‹åŠ¡æ•°</th><th>å¹³å‡ TPS</th></tr></thead><tbody><tr><td>OpenTeleDB (XStore)</td><td>60,991</td><td><strong>1,011.56</strong></td></tr><tr><td>PostgreSQL (Native)</td><td>80,565</td><td><strong>1,331.82</strong></td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a44d04a7bde48a2ad24d73a6ab11ca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=4wWnozyPSS8pu0r26A5wt1ya0Ko%3D" alt="UPDATE TPS å¯¹æ¯”" loading="lazy"/></p>
<p>è¡¨é¢ä¸Šçœ‹ï¼ŒPG çš„ TPS é«˜å‡ºçº¦ 32%ã€‚ä½†åˆ«æ€¥ç€ä¸‹ç»“è®ºâ€”â€”<strong>é«˜æ€§èƒ½çš„èƒŒåï¼Œæ˜¯ç©ºé—´è†¨èƒ€çš„éšå½¢ç¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ç©ºé—´è†¨èƒ€</h2>
<p>è¿™æ‰æ˜¯æœ€éœ‡æ’¼çš„éƒ¨åˆ†ï¼æˆ‘åœ¨åŒæ · 20 çº¿ç¨‹ã€60 ç§’é«˜é¢‘æ··åˆè´Ÿè½½ï¼ˆINSERT + UPDATE + DELETEï¼‰ä¸‹ï¼Œè§‚å¯Ÿè¡¨çš„å®é™…ç£ç›˜å¢é•¿ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e99a336337984c6fabd4c314bca13050~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=GfihRuCPmVGLCi0O2KqIgFMXDcM%3D" alt="image.png" loading="lazy"/></p>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>























<table><thead><tr><th>æ•°æ®åº“</th><th>åˆå§‹å¤§å°</th><th>æœ€ç»ˆå¤§å°</th><th><strong>è†¨èƒ€é‡</strong></th></tr></thead><tbody><tr><td>OpenTeleDB (XStore)</td><td>106.33 MB</td><td>106.33 MB</td><td><strong>0.00 MB (0%)</strong></td></tr><tr><td>PostgreSQL (Native)</td><td>86.60 MB</td><td>282.45 MB</td><td><strong>+195.84 MB (+226%)</strong></td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27981722cc8b407ab1bc64de51cf60d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=LeISNXymOx%2BSjcGrgzxK%2FpdCa4U%3D" alt="è¡¨è†¨èƒ€å¯¹æ¯”" loading="lazy"/></p>
<p><strong>PG åœ¨ 1 åˆ†é’Ÿå†…è†¨èƒ€äº† 3 å€ï¼</strong> è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>ç£ç›˜ç©ºé—´è¢«å¿«é€Ÿåƒæ‰ï¼›</li>
<li>Index æ‰«æå˜æ…¢ï¼ˆå› ä¸ºè¦è·³è¿‡å¤§é‡ dead tupleï¼‰ï¼›</li>
<li>Vacuum å‹åŠ›å‰§å¢ï¼Œå¯èƒ½æ‹–å® I/Oï¼›</li>
<li>é•¿æœŸè¿è¡Œåï¼ŒTPS ä¼šæ–­å´–å¼ä¸‹è·Œã€‚</li>
</ul>
<p>è€Œ XStore è¡¨å¤§å°<strong>çº¹ä¸ä¸åŠ¨</strong>ã€‚è¿™ä¸ä»…ä»…æ˜¯â€œä¼˜åŒ–â€ï¼Œè¿™æ˜¯<strong>æ¶æ„çº§çš„èƒœåˆ©</strong>ï¼Œå®ƒç”¨åŸä½æ›´æ–° + Undo Log çš„æ–¹å¼ï¼Œå½»åº•ç»•å¼€äº† MVCC çš„è†¨èƒ€é™·é˜±ï¼Œè¿™ç§â€œç¨³æ€æ€§èƒ½â€â€”â€”å³<strong>é•¿æ—¶é—´é«˜è´Ÿè½½ä¸‹ä»èƒ½ä¿æŒä¸€è‡´å“åº”ä¸èµ„æºæ¶ˆè€—</strong>æ‰æ˜¯ç”Ÿäº§ç¯å¢ƒçœŸæ­£éœ€è¦çš„ã€‚</p>
<hr/>
<h2 data-id="heading-4">Vacuum æ•ˆç‡</h2>
<p>æœ€åï¼Œæˆ‘ç”¨å‘½ä»¤ <code>UPDATE test_benchmark SET info = md5(random()::text) WHERE id &lt;= {update_rows};</code> äººä¸ºåˆ¶é€  20% è„æ•°æ®ï¼Œç„¶åæ‰§è¡Œ <code>VACUUM</code>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14b4df44bb57455c9f11b831480f238b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=fFcWtcbTDWOlSRqvdJyPcnMFI1Q%3D" alt="image.png" loading="lazy"/></p>
<p>Vacuum è€—æ—¶å¯¹æ¯”å¦‚ä¸‹ï¼š</p>

















<table><thead><tr><th>æ•°æ®åº“</th><th>Vacuum è€—æ—¶ (s)</th></tr></thead><tbody><tr><td>OpenTeleDB (XStore)</td><td><strong>0.88s</strong></td></tr><tr><td>PostgreSQL (Native)</td><td>1.14s</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f1be2bb41394e38a035f08611b55e98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUlHQzU5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382535&amp;x-signature=wQxK5wTTYWtF%2BsGtp6muLxTCEw0%3D" alt="Vacuum è€—æ—¶å¯¹æ¯”" loading="lazy"/></p>
<p>XStore å¿«äº†çº¦ 23%ã€‚åŸå› å¾ˆç®€å•ï¼š<strong>ä¸»è¡¨é‡Œå‡ ä¹æ²¡æœ‰åƒåœ¾</strong>ï¼Œå¤§éƒ¨åˆ†ç‰ˆæœ¬ç®¡ç†äº¤ç»™ Undo Log å¤„ç†ï¼ŒVACUUM åªéœ€è½»é‡æ¸…ç†å…ƒæ•°æ®å³å¯ï¼Œè€Œ PG è¿˜å¾—ä¸€é¡µä¸€é¡µæ‰«æã€æ ‡è®°ã€è·³è¿‡ dead tupleï¼Œæ•ˆç‡è‡ªç„¶ä½ã€‚</p>
<hr/>
<h2 data-id="heading-5">å°ç»“ï¼šå¿« vs ç¨³ï¼Œä½ é€‰å“ªä¸ªï¼Ÿ</h2>
<p>OpenTeleDB çš„ XStore å¹¶ä¸æ˜¯è¦â€œæ‰“è´¥â€ PostgreSQLï¼Œè€Œæ˜¯<strong>æä¾›å¦ä¸€ç§é€‰æ‹©</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ è¿½æ±‚æè‡´å†™å…¥ååï¼ˆå¦‚æ—¥å¿—é‡‡é›†ã€ç›‘æ§åŸ‹ç‚¹ï¼‰ï¼ŒåŸç”Ÿ PG ä»æ˜¯ç‹è€…ï¼›</li>
<li>ä½†å¦‚æœä½ çš„ä¸šåŠ¡æ¶‰åŠ<strong>é«˜é¢‘æ›´æ–°ã€é•¿æœŸè¿è¡Œã€èµ„æºå—é™</strong>ï¼ˆå¦‚é‡‘èäº¤æ˜“ã€ç”¨æˆ·è´¦æˆ·ã€è®¢å•ç³»ç»Ÿï¼‰ï¼Œé‚£ä¹ˆ XStore çš„â€œé›¶è†¨èƒ€ + ç¨³å®š TPS + ä½ç»´æŠ¤æˆæœ¬â€ç»„åˆï¼Œå ªç§°é™ç»´æ‰“å‡»ã€‚</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä»¥<strong>æ’ä»¶å½¢å¼å­˜åœ¨</strong>ï¼Œä¸ fork å†…æ ¸ï¼Œèƒ½ç´§è·Ÿ PG ä¸»çº¿ã€‚è¿™æ„å‘³ç€ä½ æ—¢èƒ½äº«å—æ–°å­˜å‚¨å¼•æ“çš„çº¢åˆ©ï¼Œåˆä¸ä¼šè¢«é”æ­»åœ¨æŸä¸ªåˆ†æ”¯ä¸Šã€‚</p>
<p>å½“ç„¶ï¼ŒXStore ä¹Ÿæœ‰ä»£ä»·ï¼šå†™å…¥ç•¥æ…¢ã€RTO å¯èƒ½ç•¥é•¿ï¼ˆå› éœ€å›æ”¾ Undoï¼‰ã€å·¥å…·é“¾å°šåœ¨å®Œå–„ï¼Œä½†æ­£å¦‚è€è¯â€œé±¼ä¸ç†ŠæŒä¸å¯å…¼å¾—â€ ï¼Œå…³é”®åœ¨äºä½ æ˜¯å¦æ„¿æ„ä¸ºé•¿æœŸç¨³å®šæ€§ï¼Œç‰ºç‰²ä¸€ç‚¹ç‚¹å³°å€¼æ€§èƒ½ï¼Ÿ</p>
<p>å¯¹æˆ‘è€Œè¨€ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p>
<blockquote>
<p><strong>çœŸæ­£çš„å·¥ç¨‹ä¹‹ç¾ï¼Œä¸åœ¨äºç¬é—´çš„çˆ†å‘ï¼Œè€Œåœ¨äºæŒä¹…çš„å¯é ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-6">å‚è€ƒ</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenteledb.ctyun.cn%2Fopen%2Fopenteledb" target="_blank" title="https://openteledb.ctyun.cn/open/openteledb" ref="nofollow noopener noreferrer">openteledb.ctyun.cn/open/openteâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fteledb%2Fopenteledb" target="_blank" title="https://gitee.com/teledb/openteledb" ref="nofollow noopener noreferrer">gitee.com/teledb/openâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenTeleDB%2FOpenTeleDB" target="_blank" title="https://github.com/OpenTeleDB/OpenTeleDB" ref="nofollow noopener noreferrer">github.com/OpenTeleDB/â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain å¿«é€Ÿæ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7605107459066200110</link>    <guid>https://juejin.cn/post/7605107459066200110</guid>    <pubDate>2026-02-11T02:41:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605107459066200110" data-draft-id="7603627478020669450" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain å¿«é€Ÿæ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ"/> <meta itemprop="keywords" content="LangChain,ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-11T02:41:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä»˜è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/1741228277763278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain å¿«é€Ÿæ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1741228277763278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä»˜è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:41:21.000Z" title="Wed Feb 11 2026 02:41:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®ç­”ç³»ç»Ÿæ¡†æ¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba9a0a50d6ad40cdb2b95a8af1a30260~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=uheEjlh7gArhD6hKGslfpPMIhZ0%3D" alt="image.png" loading="lazy"/></p>
<p>æ•´ä¸ªæ¡†æ¶åˆ†ä¸ºè¿™æ ·ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>
<p>â€¢æ•°æ®æº(DataSources):æ•°æ®å¯ä»¥æœ‰å¾ˆå¤šç§ï¼ŒåŒ…æ‹¬PDFåœ¨å†…çš„éç»“æ„åŒ–çš„æ•°æ®(Unstructured Data) s SQLåœ¨å†…çš„ç»“æ„åŒ–çš„æ•°æ®(Structured Data),ä»¥åŠPythonã€Javaä¹‹ç±»çš„ä»£ç (Code) oåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ èšç„¦äºå¯¹éç»“æ„åŒ–æ•°æ®çš„å¤„ç†ã€‚</p>
<p>â€¢å¤§æ¨¡å‹åº”ç”¨(Application,å³LLM App):ä»¥å¤§æ¨¡å‹ä¸ºé€»è¾‘å¼•æ“ï¼Œç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„å›ç­”ã€‚ â€¢ç”¨ä¾‹(Use-Cases):å¤§æ¨¡å‹ç”Ÿæˆçš„å›ç­”å¯ä»¥æ„å»ºå‡ºQA/èŠå¤©æœºå™¨äººç­‰ç³»ç»Ÿã€‚</p>
<p>æ ¸å¿ƒå®ç°æœºåˆ¶:è¿™ä¸ªé¡¹ç›®çš„æ ¸å¿ƒå®ç°æœºåˆ¶æ˜¯ä¸‹å›¾æ‰€ç¤ºçš„æ•°æ®å¤„ç†ç®¡é“(Pipeline)ã€‚</p>
<p>é—®ç­”ç³»ç»Ÿæ•°æ®å¤„ç†ç®¡é“</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bed5b11581834990971050c7a8d7b886~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=8aUD61Me4ecE4jwbck%2BEajNvfD0%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç®¡é“çš„æ¯ä¸€æ­¥ä¸­ï¼ŒLangChainéƒ½ä¸ºæˆ‘ä»¬æä¾›äº†ç›¸å…³å·¥å…·ï¼Œè®©ä½ è½»æ¾å®ç°åŸºäºæ–‡æ¡£çš„é—®ç­”åŠŸèƒ½ã€‚ å…·ä½“æµç¨‹åˆ†ä¸ºä¸‹é¢5æ­¥ã€‚</p>
<ol>
<li>Loading:æ–‡æ¡£åŠ è½½å™¨æŠŠDocumentsåŠ è½½ä¸ºä»¥LangChainèƒ½å¤Ÿè¯»å–çš„å½¢å¼ã€‚</li>
<li>Splitting:æ–‡æœ¬åˆ†å‰²å™¨æŠŠDocumentsåˆ‡åˆ†ä¸ºæŒ‡å®šå¤§å°çš„åˆ†å‰²ï¼Œæˆ‘æŠŠå®ƒä»¬ç§°ä¸º"æ–‡æ¡£å—â€æˆ–è€…"æ–‡æ¡£ç‰‡â€ã€‚</li>
<li>Storage:å°†ä¸Šä¸€æ­¥ä¸­åˆ†å‰²å¥½çš„â€œæ–‡æ¡£å—â€ä»¥"åµŒå…¥â€(Embedding) çš„å½¢å¼å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“(Vector DB) ä¸­ï¼Œå½¢æˆä¸€ä¸ªä¸ªçš„â€œåµŒå…¥ç‰‡â€ã€‚ 4. Retrieval :åº”ç”¨ç¨‹åºä»å­˜å‚¨ä¸­æ£€ç´¢åˆ†å‰²åçš„æ–‡æ¡£(ä¾‹å¦‚é€šè¿‡æ¯”è¾ƒä½™å¼¦ç›¸ä¼¼åº¦ï¼Œæ‰¾åˆ°ä¸è¾“å…¥é—®é¢˜ç±»ä¼¼çš„åµŒå…¥ç‰‡)ã€‚</li>
<li>Output:æŠŠé—®é¢˜å’Œç›¸ä¼¼çš„åµŒå…¥ç‰‡ä¼ é€’ç»™è¯­è¨€æ¨¡å‹(LLM) ,ä½¿ç”¨åŒ…å«é—®é¢˜å’Œæ£€ç´¢åˆ°çš„åˆ†å‰²çš„æç¤ºç”Ÿæˆç­”æ¡ˆã€‚</li>
</ol>
<p>ä¸Šé¢5ä¸ªç¯èŠ‚çš„ä»‹ç»éƒ½éå¸¸ç®€å•ï¼Œæœ‰äº›æ¦‚å¿µ(å¦‚åµŒå…¥ã€å‘é‡å­˜å‚¨)æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œç†è§£èµ·æ¥éœ€è¦ä¸€äº›èƒŒæ™¯çŸ¥è¯†ï¼Œåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å…·ä½“è®²è§£è¿™5æ­¥</p>
<h3 data-id="heading-1">æ•°æ®å‡†å¤‡å’Œè½½å…¥</h3>
<p>å¼•å…¥ä¸‰ä¸ªæ–‡ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32601bd648b34e1b947e3ed8fb84d194~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=yzdFia6pC1FFpvS1i%2FeWEPHTv%2FI%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-2">è¯»å–æ•°æ®å†…å®¹</h4>
<pre><code class="hljs language-ini" lang="ini">import os
from openai import OpenAI

<span class="hljs-comment"># Moonshot API Key</span>
<span class="hljs-attr">MOONSHOT_API_KEY</span> = <span class="hljs-string">"ä½ çš„_MOONSHOT_API_KEY"</span>

<span class="hljs-comment"># åˆ›å»ºå®¢æˆ·ç«¯ï¼ˆé‡ç‚¹ï¼šbase_urlï¼‰</span>
<span class="hljs-attr">client</span> = OpenAI(
    <span class="hljs-attr">api_key</span>=MOONSHOT_API_KEY,
    <span class="hljs-attr">base_url</span>=<span class="hljs-string">"https://api.moonshot.cn/v1"</span>,
)

from langchain.document_loaders import PyPDFLoader
from langchain.document_loaders import Docx2txtLoader
from langchain.document_loaders import TextLoader

<span class="hljs-attr">base_dir</span> = r<span class="hljs-string">'.\OneFlower'</span>
<span class="hljs-attr">documents</span> = []

for file in os.listdir(base_dir):
    <span class="hljs-attr">file_path</span> = os.path.join(base_dir, file)

    if file.endswith('.pdf'):
        <span class="hljs-attr">loader</span> = PyPDFLoader(file_path)
        documents.extend(loader.load())

    elif file.endswith('.docx'):
        <span class="hljs-attr">loader</span> = Docx2txtLoader(file_path)
        documents.extend(loader.load())

    elif file.endswith('.txt'):
        <span class="hljs-attr">loader</span> = TextLoader(file_path)
        documents.extend(loader.load())


<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># ç”¨ Moonshot è¿›è¡Œæ€»ç»“</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-attr">content</span> = <span class="hljs-string">"\n"</span>.join([doc.page_content for doc in documents])

<span class="hljs-attr">resp</span> = client.chat.completions.create(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"moonshot-v1-8k"</span>,
    <span class="hljs-attr">messages</span>=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ–‡æ¡£åˆ†æåŠ©æ‰‹"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: f<span class="hljs-string">"è¯·å¸®æˆ‘æ€»ç»“ä»¥ä¸‹å†…å®¹ï¼š\n{content[:6000]}"</span>}
    ],
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0.7</span>,
    <span class="hljs-attr">max_tokens</span>=<span class="hljs-number">1000</span>,
)

print(resp.choices<span class="hljs-section">[0]</span>.message.content)

</code></pre>
<h4 data-id="heading-3">æ–‡æœ¬åˆ†å‰²</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Split å°†Documentsåˆ‡åˆ†æˆå—ä»¥ä¾¿åç»­è¿›è¡ŒåµŒå…¥å’Œå‘é‡å­˜å‚¨</span>
from langchain.text_splitter import RecursiveCharacterTextSplitter
<span class="hljs-attr">text_splitter</span> = RecursiveCharacterTextSplitter(chunk_size=<span class="hljs-number">200</span>, chunk_overlap=<span class="hljs-number">10</span>)
<span class="hljs-attr">chunked_documents</span> = text_splitter.split_documents(documents)
</code></pre>
<h4 data-id="heading-4">å‘é‡æ•°æ®åº“å­˜å‚¨</h4>
<p>ç´§æ¥ç€ï¼Œæˆ‘ä»¬å°†è¿™äº›åˆ†å‰²åçš„æ–‡æœ¬è½¬æ¢æˆåµŒå…¥çš„å½¢å¼ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªå‘é‡æ•°æ®åº“ä¸­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† OpenAIEmbeddings æ¥ç”ŸæˆåµŒå…¥ï¼Œç„¶åä½¿ç”¨ Qdrant è¿™ä¸ªå‘é‡æ•°æ®åº“æ¥å­˜å‚¨åµŒå…¥ï¼ˆè¿™é‡Œéœ€è¦ pip install qdrant-clientï¼‰</p>
<p><code>è¯åµŒå…¥ï¼ˆWord Embeddingï¼‰</code>æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†å’Œæœºå™¨å­¦ä¹ ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒå°†æ–‡å­—æˆ–è¯è¯­è½¬æ¢ä¸ºä¸€ç³»åˆ—æ•°å­—ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå‘é‡ã€‚ç®€å•åœ°è¯´ï¼Œè¯åµŒå…¥å°±æ˜¯ä¸€ä¸ªä¸ºæ¯ä¸ªè¯åˆ†é…çš„æ•°å­—åˆ—è¡¨ã€‚è¿™äº›æ•°å­—ä¸æ˜¯éšæœºçš„ï¼Œè€Œæ˜¯æ•è·äº†è¿™ä¸ªè¯çš„å«ä¹‰å’Œå®ƒåœ¨æ–‡æœ¬ä¸­çš„ä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œè¯­ä¹‰ä¸Šç›¸ä¼¼æˆ–ç›¸å…³çš„è¯åœ¨è¿™ä¸ªæ•°å­—ç©ºé—´ä¸­ä¼šæ¯”è¾ƒæ¥è¿‘ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡æŸç§è¯åµŒå…¥æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¾—åˆ°ï¼š</p>
<p>â€œå›½ç‹â€ -&gt; [1.2, 0.5, 3.1, â€¦]</p>
<p>â€œçš‡å¸â€ -&gt; [1.3, 0.6, 2.9, â€¦]</p>
<p>â€œè‹¹æœâ€ -&gt; [0.9, -1.2, 0.3, â€¦] Â </p>
<p>ä»è¿™äº›å‘é‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œå›½ç‹â€å’Œâ€œçš‡å¸â€è¿™ä¸¤ä¸ªè¯çš„å‘é‡åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ç›¸ä¼¼çš„ï¼Œè€Œä¸â€œè‹¹æœâ€è¿™ä¸ªè¯ç›¸æ¯”ï¼Œå®ƒä»¬çš„å‘é‡åˆ™ç›¸å·®å¾ˆå¤§ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ¦‚å¿µåœ¨è¯­ä¹‰ä¸Šæ˜¯ä¸åŒçš„ã€‚ Â  è¯åµŒå…¥çš„ä¼˜ç‚¹æ˜¯ï¼Œå®ƒæä¾›äº†ä¸€ç§å°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºè®¡ç®—æœºå¯ä»¥ç†è§£å’Œå¤„ç†çš„å½¢å¼ï¼ŒåŒæ—¶ä¿ç•™äº†è¯è¯­ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ã€‚è¿™åœ¨è®¸å¤šè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­éƒ½æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œæ¯”å¦‚æ–‡æœ¬åˆ†ç±»ã€æœºå™¨ç¿»è¯‘å’Œæƒ…æ„Ÿåˆ†æç­‰</p>
<p><code>å‘é‡æ•°æ®åº“</code></p>
<p>å‘é‡æ•°æ®åº“ï¼Œä¹Ÿç§°ä¸ºçŸ¢é‡æ•°æ®åº“æˆ–è€…å‘é‡æœç´¢å¼•æ“ï¼Œæ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå­˜å‚¨å’Œæœç´¢å‘é‡å½¢å¼çš„æ•°æ®çš„æ•°æ®åº“ã€‚åœ¨ä¼—å¤šçš„æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½åº”ç”¨ä¸­ï¼Œå°¤å…¶æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†å’Œå›¾åƒè¯†åˆ«è¿™ç±»æ¶‰åŠå¤§é‡éç»“æ„åŒ–æ•°æ®çš„é¢†åŸŸï¼Œå°†æ•°æ®è½¬åŒ–ä¸ºé«˜ç»´åº¦çš„å‘é‡æ˜¯å¸¸è§çš„å¤„ç†æ–¹å¼ã€‚è¿™äº›å‘é‡å¯èƒ½æ‹¥æœ‰æ•°ç™¾ç”šè‡³æ•°åƒä¸ªç»´åº¦ï¼Œæ˜¯å¯¹å¤æ‚çš„éç»“æ„åŒ–æ•°æ®å¦‚æ–‡æœ¬ã€å›¾åƒçš„ä¸€ç§æ•°å­¦è¡¨è¿°ï¼Œä»è€Œä½¿è¿™äº›æ•°æ®èƒ½è¢«æœºå™¨ç†è§£å’Œå¤„ç†ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“åœ¨å­˜å‚¨å’ŒæŸ¥è¯¢å¦‚æ­¤é«˜ç»´åº¦å’Œå¤æ‚æ€§çš„å‘é‡æ•°æ®æ—¶ï¼Œå¾€å¾€é¢ä¸´ç€æ•ˆç‡å’Œæ€§èƒ½çš„é—®é¢˜ã€‚å› æ­¤ï¼Œå‘é‡æ•°æ®åº“è¢«è®¾è®¡å‡ºæ¥ä»¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå®ƒå…·å¤‡é«˜æ•ˆå­˜å‚¨å’Œå¤„ç†é«˜ç»´å‘é‡æ•°æ®çš„èƒ½åŠ›ï¼Œä»è€Œæ›´å¥½åœ°æ”¯æŒæ¶‰åŠéç»“æ„åŒ–æ•°æ®å¤„ç†çš„äººå·¥æ™ºèƒ½åº”ç”¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7358298053b43bc920714a70cb0486b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=Y6rbB4qNjVxhP7Wf6y8DnRb%2Be7A%3D" alt="image.png" loading="lazy"/></p>
<p>å‘é‡æ•°æ®åº“æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ Pineconeã€Chroma å’Œ Qdrantï¼Œæœ‰äº›æ˜¯æ”¶è´¹çš„ï¼Œæœ‰äº›åˆ™æ˜¯å¼€æºçš„ã€‚</p>
<p>LangChain ä¸­æ”¯æŒå¾ˆå¤šå‘é‡æ•°æ®åº“ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯å¼€æºå‘é‡æ•°æ®åº“ Qdrantã€‚ï¼ˆæ³¨æ„ï¼Œéœ€è¦å®‰è£… qdrant-clientï¼‰</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Store å°†åˆ†å‰²åµŒå…¥å¹¶å­˜å‚¨åœ¨çŸ¢é‡æ•°æ®åº“Qdrantä¸­</span>
from langchain.vectorstores import Qdrant
from langchain.embeddings import OpenAIEmbeddings
<span class="hljs-attr">vectorstore</span> = Qdrant.from_documents(
    <span class="hljs-attr">documents</span>=chunked_documents, <span class="hljs-comment"># ä»¥åˆ†å—çš„æ–‡æ¡£</span>
    <span class="hljs-attr">embedding</span>=OpenAIEmbeddings(), <span class="hljs-comment"># ç”¨OpenAIçš„Embedding ModelåšåµŒå…¥</span>
    <span class="hljs-attr">location</span>=<span class="hljs-string">":memory:"</span>,  <span class="hljs-comment"># in-memory å­˜å‚¨</span>
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"my_documents"</span>,) <span class="hljs-comment"># æŒ‡å®šcollection_name</span>
</code></pre>
<p><code>ç›¸å…³ä¿¡æ¯çš„è·å– </code></p>
<p>å½“å†…éƒ¨æ–‡æ¡£å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®é—®é¢˜å’Œä»»åŠ¡æ¥æå–æœ€ç›¸å…³çš„ä¿¡æ¯ã€‚æ­¤æ—¶ï¼Œä¿¡æ¯æå–çš„åŸºæœ¬æ–¹å¼å°±æ˜¯æŠŠé—®é¢˜ä¹Ÿè½¬æ¢ä¸ºå‘é‡ï¼Œç„¶åå»å’Œå‘é‡æ•°æ®åº“ä¸­çš„å„ä¸ªå‘é‡è¿›è¡Œæ¯”è¾ƒï¼Œæå–æœ€æ¥è¿‘çš„ä¿¡æ¯</p>
<p>å‘é‡ä¹‹é—´çš„æ¯”è¾ƒé€šå¸¸åŸºäºå‘é‡çš„è·ç¦»æˆ–è€…ç›¸ä¼¼åº¦ã€‚åœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œå¸¸ç”¨çš„å‘é‡è·ç¦»æˆ–ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•æœ‰æ¬§æ°è·ç¦»å’Œä½™å¼¦ç›¸ä¼¼åº¦ã€‚</p>
<p>æ¬§æ°è·ç¦»ï¼šè¿™æ˜¯æœ€ç›´æ¥çš„è·ç¦»åº¦é‡æ–¹å¼ï¼Œå°±åƒåœ¨äºŒç»´å¹³é¢ä¸Šæµ‹é‡ä¸¤ç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»é‚£æ ·ã€‚åœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œä¸¤ä¸ªå‘é‡çš„æ¬§æ°è·ç¦»å°±æ˜¯å„ä¸ªå¯¹åº”ç»´åº¦å·®çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ã€‚</p>
<p>ä½™å¼¦ç›¸ä¼¼åº¦ï¼šåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒå‘é‡çš„æ–¹å‘è€Œä¸æ˜¯å®ƒçš„å¤§å°ã€‚ä¾‹å¦‚åœ¨æ–‡æœ¬å¤„ç†ä¸­ï¼Œä¸€ä¸ªè¯çš„å‘é‡å¯èƒ½ä¼šå› ä¸ºæ–‡æœ¬é•¿åº¦çš„ä¸åŒï¼Œè€Œåœ¨å¤§å°ä¸Šæœ‰å¾ˆå¤§çš„å·®è·ï¼Œä½†æ–¹å‘æ›´èƒ½åæ˜ å…¶è¯­ä¹‰ã€‚ä½™å¼¦ç›¸ä¼¼åº¦å°±æ˜¯åº¦é‡å‘é‡ä¹‹é—´æ–¹å‘çš„ç›¸ä¼¼æ€§ï¼Œå®ƒçš„å€¼èŒƒå›´åœ¨ -1 åˆ° 1 ä¹‹é—´ï¼Œå€¼è¶Šæ¥è¿‘ 1ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡çš„æ–¹å‘è¶Šç›¸ä¼¼ã€‚</p>
<p>è¿™ä¸¤ç§æ–¹æ³•éƒ½è¢«å¹¿æ³›åº”ç”¨äºå„ç§æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½ä»»åŠ¡ä¸­ï¼Œé€‰æ‹©å“ªä¸€ç§æ–¹æ³•å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/365730a4410b492fa39c20abec370dc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=ioKEkRxCwmBJ15rYiAWY%2FfdcvHo%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ—¶å€™é€‰æ‹©æ¬§å¼è·ç¦»ï¼Œä»€ä¹ˆæ—¶å€™é€‰æ‹©ä½™å¼¦ç›¸ä¼¼åº¦å‘¢ï¼Ÿ</p>
<p>ç®€å•æ¥è¯´ï¼Œå…³å¿ƒæ•°é‡ç­‰å¤§å°å·®å¼‚æ—¶ç”¨æ¬§æ°è·ç¦»ï¼Œå…³å¿ƒæ–‡æœ¬ç­‰è¯­ä¹‰å·®å¼‚æ—¶ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ã€‚</p>
<p>åœ¨è¿™ä¸€æ­¥çš„ä»£ç éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªèŠå¤©æ¨¡å‹ã€‚ç„¶åéœ€è¦åˆ›å»ºä¸€ä¸ª RetrievalQA é“¾ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ£€ç´¢å¼é—®ç­”æ¨¡å‹ï¼Œç”¨äºç”Ÿæˆé—®é¢˜çš„ç­”æ¡ˆã€‚</p>
<p>åœ¨ RetrievalQA é“¾ä¸­æœ‰ä¸‹é¢ä¸¤å¤§é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>LLM æ˜¯å¤§æ¨¡å‹ï¼Œè´Ÿè´£å›ç­”é—®é¢˜ã€‚</p>
<p>retrieverï¼ˆvectorstore.as_retriever()ï¼‰è´Ÿè´£æ ¹æ®é—®é¢˜æ£€ç´¢ç›¸å…³çš„æ–‡æ¡£ï¼Œæ‰¾åˆ°å…·ä½“çš„â€œåµŒå…¥ç‰‡â€ã€‚è¿™äº›â€œåµŒå…¥ç‰‡â€å¯¹åº”çš„â€œæ–‡æ¡£å—â€å°±ä¼šä½œä¸ºçŸ¥è¯†ä¿¡æ¯ï¼Œå’Œé—®é¢˜ä¸€èµ·ä¼ é€’è¿›å…¥å¤§æ¨¡å‹ã€‚æœ¬åœ°æ–‡æ¡£ä¸­æ£€ç´¢è€Œå¾—çš„çŸ¥è¯†å¾ˆé‡è¦ï¼Œå› ä¸ºä»äº’è”ç½‘ä¿¡æ¯ä¸­è®­ç»ƒè€Œæ¥çš„å¤§æ¨¡å‹ä¸å¯èƒ½æ‹¥æœ‰â€œæ˜“é€Ÿé²œèŠ±â€ä½œä¸ºä¸€ä¸ªç§è¥ä¼ä¸šçš„å†…éƒ¨çŸ¥è¯†ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#  Retrieval å‡†å¤‡æ¨¡å‹å’ŒRetrievalé“¾</span>
import logging
from langchain_openai import ChatOpenAI
from langchain.retrievers.multi_query import MultiQueryRetriever
from langchain.chains import RetrievalQA

<span class="hljs-comment"># è®¾ç½®Logging</span>
logging.basicConfig()
logging.getLogger('langchain.retrievers.multi_query').setLevel(logging.INFO)

<span class="hljs-comment"># Moonshotï¼šå…¼å®¹ OpenAI åè®®ï¼ˆå…³é”®ï¼šopenai_api_baseï¼‰</span>
<span class="hljs-attr">llm</span> = ChatOpenAI(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"moonshot-v1-8k"</span>,  <span class="hljs-comment"># å¯æ¢ moonshot-v1-32k</span>
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0</span>,
    <span class="hljs-attr">openai_api_key</span>=<span class="hljs-string">"ä½ çš„_MOONSHOT_API_KEY"</span>,
    <span class="hljs-attr">openai_api_base</span>=<span class="hljs-string">"https://api.moonshot.cn/v1"</span>,
)

<span class="hljs-comment"># å®ä¾‹åŒ– MultiQueryRetriever</span>
<span class="hljs-attr">retriever_from_llm</span> = MultiQueryRetriever.from_llm(
    <span class="hljs-attr">retriever</span>=vectorstore.as_retriever(),
    <span class="hljs-attr">llm</span>=llm,
)

<span class="hljs-comment"># å®ä¾‹åŒ– RetrievalQA é“¾</span>
<span class="hljs-attr">qa_chain</span> = RetrievalQA.from_chain_type(
    <span class="hljs-attr">llm</span>=llm,
    <span class="hljs-attr">retriever</span>=retriever_from_llm,
)

</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºåç»­çš„æ­¥éª¤åšå¥½äº†å‡†å¤‡ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æ¥æ”¶æ¥è‡ªç³»ç»Ÿç”¨æˆ·çš„å…·ä½“é—®é¢˜ï¼Œå¹¶æ ¹æ®é—®é¢˜æ£€ç´¢ä¿¡æ¯ï¼Œç”Ÿæˆå›ç­”</p>
<h4 data-id="heading-5">ç”Ÿæˆå›ç­”å¹¶å±•ç¤º</h4>
<p>è¿™ä¸€æ­¥æ˜¯é—®ç­”ç³»ç»Ÿåº”ç”¨çš„ä¸»è¦ UI äº¤äº’éƒ¨åˆ†ï¼Œè¿™é‡Œä¼šåˆ›å»ºä¸€ä¸ª Flask åº”ç”¨ï¼ˆéœ€è¦å®‰è£… Flask åŒ…ï¼‰æ¥æ¥æ”¶ç”¨æˆ·çš„é—®é¢˜ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ç­”æ¡ˆï¼Œæœ€åé€šè¿‡ index.html å¯¹ç­”æ¡ˆè¿›è¡Œæ¸²æŸ“å’Œå‘ˆç°ã€‚</p>
<p>åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¹‹å‰åˆ›å»ºçš„ RetrievalQA é“¾æ¥è·å–ç›¸å…³çš„æ–‡æ¡£å’Œç”Ÿæˆç­”æ¡ˆã€‚ç„¶åï¼Œå°†è¿™äº›ä¿¡æ¯è¿”å›ç»™ç”¨æˆ·ï¼Œæ˜¾ç¤ºåœ¨ç½‘é¡µä¸Š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Output é—®ç­”ç³»ç»Ÿçš„UIå®ç°</span>
from flask import Flask, request, render_template
<span class="hljs-attr">app</span> = Flask(__name__) <span class="hljs-comment"># Flask APP</span>

@app.route('/', <span class="hljs-attr">methods</span>=[<span class="hljs-string">'GET'</span>, <span class="hljs-string">'POST'</span>])
def home():
    if <span class="hljs-attr">request.method</span> == <span class="hljs-string">'POST'</span>:

        <span class="hljs-comment"># æ¥æ”¶ç”¨æˆ·è¾“å…¥ä½œä¸ºé—®é¢˜</span>
        <span class="hljs-attr">question</span> = request.form.get(<span class="hljs-string">'question'</span>)        
        
        <span class="hljs-comment"># RetrievalQAé“¾ - è¯»å…¥é—®é¢˜ï¼Œç”Ÿæˆç­”æ¡ˆ</span>
        <span class="hljs-attr">result</span> = qa_chain({<span class="hljs-string">"query"</span>: question})
        
        <span class="hljs-comment"># æŠŠå¤§æ¨¡å‹çš„å›ç­”ç»“æœè¿”å›ç½‘é¡µè¿›è¡Œæ¸²æŸ“</span>
        return render_template('index.html', <span class="hljs-attr">result</span>=result)
    
    return render_template('index.html')

if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
    app.run(<span class="hljs-attr">host</span>=<span class="hljs-string">'0.0.0.0'</span>,debug=<span class="hljs-literal">True</span>,port=<span class="hljs-number">5000</span>)
</code></pre>
<p>ç›¸å…³ HTML ç½‘é¡µçš„å…³é”®ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æœ¬åœ°æ–‡æ¡£é—®ç­”<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{ url_for('static', filename='flower.png') }}"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"flower logo"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span>&gt;</span> 
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"question"</span>&gt;</span>Enter your question:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"question"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"question"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        {% if result is defined %}
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Answer<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ result.result }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        {% endif %}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<p>ç»“åˆèµ·æ¥</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 0. Env</span>
<span class="hljs-comment"># =========================</span>
BASE_PATH = Path(__file__).resolve().parent
load_dotenv(BASE_PATH / <span class="hljs-string">".env"</span>)

OPENAI_API_KEY = os.getenv(<span class="hljs-string">"OPENAI_API_KEY"</span>)
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> OPENAI_API_KEY:
    <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"æœªè¯»å–åˆ° OPENAI_API_KEYï¼šè¯·åœ¨è„šæœ¬åŒçº§ .env ä¸­è®¾ç½® OPENAI_API_KEY=xxx"</span>)

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 1. Load æ–‡æ¡£åŠ è½½</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-keyword">from</span> langchain_community.document_loaders <span class="hljs-keyword">import</span> PyPDFLoader, Docx2txtLoader, TextLoader

base_dir = BASE_PATH / <span class="hljs-string">"datas"</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> base_dir.exists() <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> base_dir.is_dir():
    <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"æ‰¾ä¸åˆ°æ•°æ®ç›®å½•ï¼š<span class="hljs-subst">{base_dir}</span>ï¼ˆè¯·åœ¨è„šæœ¬åŒçº§åˆ›å»º datas æ–‡ä»¶å¤¹ï¼‰"</span>)

documents = []
<span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> os.listdir(base_dir):
    file_path = base_dir / file
    lower = file.lower()

    <span class="hljs-keyword">if</span> lower.endswith(<span class="hljs-string">".pdf"</span>):
        documents.extend(PyPDFLoader(<span class="hljs-built_in">str</span>(file_path)).load())
    <span class="hljs-keyword">elif</span> lower.endswith(<span class="hljs-string">".docx"</span>):
        documents.extend(Docx2txtLoader(<span class="hljs-built_in">str</span>(file_path)).load())
    <span class="hljs-keyword">elif</span> lower.endswith(<span class="hljs-string">".txt"</span>):
        documents.extend(TextLoader(<span class="hljs-built_in">str</span>(file_path), encoding=<span class="hljs-string">"utf-8"</span>).load())

<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> documents:
    <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"datas ç›®å½•ä¸‹æ²¡æœ‰å¯åŠ è½½æ–‡ä»¶ï¼ˆæ”¯æŒ pdf/docx/txtï¼‰ï¼š<span class="hljs-subst">{base_dir}</span>"</span>)

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 2. Split æ–‡æ¡£åˆ‡åˆ†</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter

text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=<span class="hljs-number">600</span>,
    chunk_overlap=<span class="hljs-number">80</span>,
)
chunked_documents = text_splitter.split_documents(documents)

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 3. Store å‘é‡å­˜å‚¨ï¼ˆChromaï¼‰</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-keyword">from</span> langchain_community.embeddings <span class="hljs-keyword">import</span> HuggingFaceEmbeddings
<span class="hljs-keyword">from</span> langchain_community.vectorstores <span class="hljs-keyword">import</span> Chroma

embeddings = HuggingFaceEmbeddings(model_name=<span class="hljs-string">"sentence-transformers/all-MiniLM-L6-v2"</span>)

persist_dir = <span class="hljs-built_in">str</span>(BASE_PATH / <span class="hljs-string">"chroma_db"</span>)
vectorstore = Chroma.from_documents(
    documents=chunked_documents,
    embedding=embeddings,
    persist_directory=persist_dir,
)
vectorstore.persist()

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 4. LLMï¼ˆMoonshotï¼ŒOpenAI å…¼å®¹ï¼‰</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage, HumanMessage

llm = ChatOpenAI(
    model=<span class="hljs-string">"moonshot-v1-8k"</span>,
    temperature=<span class="hljs-number">0</span>,
    openai_api_key=OPENAI_API_KEY,
    openai_api_base=<span class="hljs-string">"https://api.moonshot.cn/v1"</span>,
)

<span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage, HumanMessage

<span class="hljs-comment"># åˆ†æ•°é˜ˆå€¼ï¼šè¶Šå°è¶Šä¸¥æ ¼ï¼ˆChroma é»˜è®¤æ˜¯è·ç¦»ï¼Œé€šå¸¸è¶Šå°è¶Šç›¸ä¼¼ï¼‰</span>
<span class="hljs-comment"># ä½ å¯ä»¥å…ˆç”¨ 0.9 / 1.0 è¯•ï¼Œæ„Ÿè§‰å¤ªä¸¥æ ¼å†è°ƒå¤§ä¸€ç‚¹</span>
MAX_DISTANCE = <span class="hljs-number">0.9</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag_answer</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-comment"># ç›´æ¥ç”¨å‘é‡åº“å¸¦åˆ†æ•°æ£€ç´¢</span>
    <span class="hljs-comment"># è¿”å› [(Document, score), ...]ï¼›score ä¸ºè·ç¦»ï¼ˆè¶Šå°è¶Šç›¸ä¼¼ï¼‰</span>
    <span class="hljs-keyword">try</span>:
        pairs = vectorstore.similarity_search_with_score(question, k=<span class="hljs-number">4</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"æ£€ç´¢å¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(e).__name__}</span>: <span class="hljs-subst">{e}</span>"</span>

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> pairs:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä¸çŸ¥é“ï¼ˆæ–‡æ¡£é‡Œæ²¡æœ‰ç›¸å…³å†…å®¹ï¼‰"</span>

    <span class="hljs-comment"># è¿‡æ»¤ä½ç›¸å…³ï¼ˆè·ç¦»å¤ªå¤§ï¼‰</span>
    filtered = [(d, s) <span class="hljs-keyword">for</span> (d, s) <span class="hljs-keyword">in</span> pairs <span class="hljs-keyword">if</span> s <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> s &lt;= MAX_DISTANCE]
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> filtered:
        <span class="hljs-comment"># è¿™é‡Œç›´æ¥æ‹’ç­”ï¼Œé˜²æ­¢æ¨¡å‹è‡ªç”±å‘æŒ¥</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä¸çŸ¥é“ï¼ˆæ–‡æ¡£é‡Œæ²¡æœ‰è¶³å¤Ÿç›¸å…³çš„ä¿¡æ¯ï¼‰"</span>

    <span class="hljs-comment"># æ‹¼æ¥ä¸Šä¸‹æ–‡ + è®°å½•æ¥æº</span>
    ctx_blocks = []
    sources = []
    <span class="hljs-keyword">for</span> i, (d, s) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(filtered, <span class="hljs-number">1</span>):
        src = d.metadata.get(<span class="hljs-string">"source"</span>) <span class="hljs-keyword">or</span> d.metadata.get(<span class="hljs-string">"file_path"</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">"unknown"</span>
        page = d.metadata.get(<span class="hljs-string">"page"</span>, <span class="hljs-literal">None</span>)
        page_info = <span class="hljs-string">f" p.<span class="hljs-subst">{page}</span>"</span> <span class="hljs-keyword">if</span> page <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>
        sources.append(<span class="hljs-string">f"[<span class="hljs-subst">{i}</span>] <span class="hljs-subst">{src}</span><span class="hljs-subst">{page_info}</span> (distance=<span class="hljs-subst">{s:<span class="hljs-number">.3</span>f}</span>)"</span>)

        text = d.page_content.strip()
        ctx_blocks.append(<span class="hljs-string">f"[<span class="hljs-subst">{i}</span>] <span class="hljs-subst">{text}</span>"</span>)

    context = <span class="hljs-string">"\n\n"</span>.join(ctx_blocks)

    system = SystemMessage(content=(
        <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„æ£€ç´¢é—®ç­”åŠ©æ‰‹ã€‚"</span>
        <span class="hljs-string">"åªèƒ½ä¾æ®ã€ä¸Šä¸‹æ–‡ã€‘å›ç­”ï¼Œä¸å…è®¸ä½¿ç”¨å¤–éƒ¨çŸ¥è¯†æˆ–å¸¸è¯†è¡¥å……ã€‚"</span>
        <span class="hljs-string">"å¦‚æœä¸Šä¸‹æ–‡ä¸è¶³ä»¥å›ç­”ï¼Œå°±åªå›å¤ï¼šä¸çŸ¥é“ã€‚"</span>
    ))

    human = HumanMessage(content=<span class="hljs-string">f"""é—®é¢˜ï¼š<span class="hljs-subst">{question}</span>

ã€ä¸Šä¸‹æ–‡ï¼ˆæ¥è‡ª datasï¼‰ã€‘
<span class="hljs-subst">{context}</span>

è¦æ±‚ï¼š
1) åªèƒ½åŸºäºä¸Šä¸‹æ–‡å›ç­”
2) ä¸å…è®¸æ¨æµ‹/æ‰©å†™/è¡¥å…¨
3) å›ç­”åé™„ä¸Šä½ ç”¨åˆ°çš„å¼•ç”¨ç¼–å·ï¼ˆå¦‚ï¼šå¼•ç”¨ï¼š[1][2]ï¼‰
"""</span>)

    <span class="hljs-keyword">try</span>:
        resp = llm.invoke([system, human])
        answer = <span class="hljs-built_in">getattr</span>(resp, <span class="hljs-string">"content"</span>, <span class="hljs-built_in">str</span>(resp)).strip()
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"LLM è°ƒç”¨å¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(e).__name__}</span>: <span class="hljs-subst">{e}</span>"</span>

    <span class="hljs-comment"># ä¸ºäº†è®©ä½ æ ¸éªŒï¼šæŠŠæ£€ç´¢æ¥æºä¹Ÿä¸€å¹¶å±•ç¤º</span>
    <span class="hljs-keyword">return</span> answer + <span class="hljs-string">"\n\n---\næ£€ç´¢å‘½ä¸­ï¼š\n"</span> + <span class="hljs-string">"\n"</span>.join(sources)

<span class="hljs-comment"># =========================</span>
<span class="hljs-comment"># 5. Flask UIï¼ˆä¸ä¾èµ– templatesï¼‰</span>
<span class="hljs-comment"># =========================</span>
<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, render_template_string

HTML = <span class="hljs-string">"""
&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;RAG Demo&lt;/title&gt;&lt;/head&gt;
&lt;body style="max-width:900px;margin:40px auto;font-family:Arial"&gt;
  &lt;h2&gt;æœ¬åœ°æ–‡æ¡£é—®ç­”ï¼ˆRAGï¼‰&lt;/h2&gt;
  &lt;p style="color:#666"&gt;æ•°æ®ç›®å½•ï¼š{{ data_dir }}&lt;/p&gt;
  &lt;form method="post"&gt;
    &lt;input name="question" style="width:100%;padding:10px"
           placeholder="è¾“å…¥é—®é¢˜..." value="{{ question or '' }}"/&gt;
    &lt;button style="margin-top:10px;padding:8px 14px"&gt;æé—®&lt;/button&gt;
  &lt;/form&gt;

  {% if result %}
    &lt;h3&gt;å›ç­”&lt;/h3&gt;
    &lt;pre style="white-space:pre-wrap;background:#f6f6f6;padding:12px;border-radius:8px"&gt;{{ result }}&lt;/pre&gt;
  {% endif %}
&lt;/body&gt;
&lt;/html&gt;
"""</span>

app = Flask(__name__)

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">"/"</span>, methods=[<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">home</span>():
    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">"POST"</span>:
        question = (request.form.get(<span class="hljs-string">"question"</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">""</span>).strip()
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> question:
            <span class="hljs-keyword">return</span> render_template_string(HTML, result=<span class="hljs-string">"è¯·è¾“å…¥é—®é¢˜ã€‚"</span>, question=<span class="hljs-string">""</span>, data_dir=<span class="hljs-built_in">str</span>(base_dir))
        answer = rag_answer(question)
        <span class="hljs-keyword">return</span> render_template_string(HTML, result=answer, question=question, data_dir=<span class="hljs-built_in">str</span>(base_dir))

    <span class="hljs-keyword">return</span> render_template_string(HTML, result=<span class="hljs-literal">None</span>, question=<span class="hljs-literal">None</span>, data_dir=<span class="hljs-built_in">str</span>(base_dir))

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    app.run(host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8088</span>, debug=<span class="hljs-literal">True</span>)

</code></pre>
<p>å®‰è£…ä¾èµ–ä¸º requirements.txt</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">langchain&gt;</span><span class="bash">=0.1.17</span>  
<span class="hljs-meta prompt_">langchain-community&gt;</span><span class="bash">=0.0.36</span>  
<span class="hljs-meta prompt_">langchain-openai&gt;</span><span class="bash">=0.1.0</span>  
<span class="hljs-meta prompt_">langchain-text-splitters&gt;</span><span class="bash">=0.0.1</span>  
<span class="hljs-meta prompt_">chromadb&gt;</span><span class="bash">=0.4.22</span>  
<span class="hljs-meta prompt_">sentence-transformers&gt;</span><span class="bash">=2.2.2</span>  
<span class="hljs-meta prompt_">flask&gt;</span><span class="bash">=2.3.3</span>  
<span class="hljs-meta prompt_">python-dotenv&gt;</span><span class="bash">=1.0.0</span>  
<span class="hljs-meta prompt_">pypdf&gt;</span><span class="bash">=3.15.5</span>  
<span class="hljs-meta prompt_">docx2txt&gt;</span><span class="bash">=0.8</span>
</code></pre>
<p>ç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0644c59c6f8d49289ff70a2aeee3a74f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=tUPJ37CBuXkvFIlzJj%2BihwSGMnk%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å…ˆæŠŠæœ¬åœ°çŸ¥è¯†åˆ‡ç‰‡ååš Embeddingï¼Œå­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¸­ï¼Œç„¶åæŠŠç”¨æˆ·çš„è¾“å…¥å’Œä»å‘é‡æ•°æ®åº“ä¸­æ£€ç´¢åˆ°çš„æœ¬åœ°çŸ¥è¯†ä¼ é€’ç»™å¤§æ¨¡å‹ï¼Œæœ€ç»ˆç”Ÿæˆæ‰€æƒ³è¦çš„å›ç­”</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80503049034741e48cf76c3efe810d1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LuY6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771382485&amp;x-signature=RqlTRtW%2BmW4e4z1SzT8USnnZNbo%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-233 ç¦»çº¿æ•°ä»“ ç•™å­˜ç‡æ€ä¹ˆåšï¼šDWS æ˜ç»†å»ºæ¨¡ + ADS èšåˆè½è¡¨ï¼ˆHive/è„šæœ¬å®æˆ˜ï¼‰]]></title>    <link>https://juejin.cn/post/7605107459066249262</link>    <guid>https://juejin.cn/post/7605107459066249262</guid>    <pubDate>2026-02-11T02:58:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605107459066249262" data-draft-id="7605135197165666354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-233 ç¦»çº¿æ•°ä»“ ç•™å­˜ç‡æ€ä¹ˆåšï¼šDWS æ˜ç»†å»ºæ¨¡ + ADS èšåˆè½è¡¨ï¼ˆHive/è„šæœ¬å®æˆ˜ï¼‰"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Apache Hive"/> <meta itemprop="datePublished" content="2026-02-11T02:58:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-233 ç¦»çº¿æ•°ä»“ ç•™å­˜ç‡æ€ä¹ˆåšï¼šDWS æ˜ç»†å»ºæ¨¡ + ADS èšåˆè½è¡¨ï¼ˆHive/è„šæœ¬å®æˆ˜ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T02:58:44.000Z" title="Wed Feb 11 2026 02:58:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç¦»çº¿æ•°ä»“ç»Ÿè®¡ 1/2/3 æ—¥ä¼šå‘˜ç•™å­˜æ•°ä¸ç•™å­˜ç‡ï¼ŒåŸºäºæ–°å¢ä¸å¯åŠ¨æ—¥å¿—ã€‚</li>
<li>ç»“è®ºï¼šDWS å…ˆåšâ€œæ–°å¢æ—¥Ã—ç•™å­˜å¤©æ•°â€çš„ç•™å­˜æ˜ç»†ï¼ŒADS å†æŒ‰æ–°å¢æ—¥èšåˆå¹¶è¡¥é½åˆ†æ¯ç®—ç•™å­˜ç‡ã€‚</li>
<li>äº§å‡ºï¼šHive DWS/ADS è¡¨ç»“æ„ã€è£…è½½è„šæœ¬ã€è®¡ç®—é“¾è·¯ä¸å…³é”®è¿çº¿ä¿®æ­£ç‚¹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/711207b307d94f35b15d0a06b86c423b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=R9wogEELJGwkG7RcKwRmGQpeG9o%3D" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b8825c8428644b78c394c888fa88961~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=J5hsKzUMpadlnhS1wr9d690IRBM%3D" alt="ç¦»çº¿æ•°ä»“æ•´ä½“æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-1">ç•™å­˜ä¼šå‘˜</h2>
<ul>
<li>ç•™å­˜ä¼šå‘˜ä¸ç•™å­˜ç‡ï¼šæŸæ®µæ—¶é—´çš„æ–°å¢ä¼šå‘˜ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œä»ç»§ç»­ä½¿ç”¨åº”ç”¨è®¤ä¸ºæ˜¯ç•™å­˜ä¼šå‘˜ï¼Œè¿™éƒ¨åˆ†ä¼šå‘˜å å½“æ—¶æ–°å¢ä¼šå‘˜çš„æ¯”ä¾‹ä¸ºç•™å­˜ç‡ã€‚</li>
<li>éœ€æ±‚ï¼š1æ—¥ã€2æ—¥ã€3æ—¥çš„ä¼šå‘˜ç•™å­˜ç‡å’Œä¼šå‘˜ç•™å­˜ç‡</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b930a813f4bd40579b9cacd04d5a15d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=nhFNq1tI%2F6UmDDp2Gqpp0dRE6bY%3D" alt="ç¦»çº¿æ•°ä»“ç•™å­˜ä¼šå‘˜" loading="lazy"/></p>
<ul>
<li>10Wæ–°ä¼šå‘˜ï¼šdws_member_add_day(dt=08-01)æ˜ç»†</li>
<li>3wï¼šç‰¹ç‚¹æ˜¯1å·æ˜¯æ–°ä¼šå‘˜ï¼Œåœ¨2æ—¥å¯åŠ¨äº†ï¼ˆ2æ—¥çš„å¯åŠ¨æ—¥å¿—ï¼‰dws_member_start_day</li>
</ul>
<h3 data-id="heading-2">DWS çš„ä½œç”¨</h3>
<h4 data-id="heading-3">ç»Ÿä¸€æ•°æ®æ¨¡å‹</h4>
<p>å°†åŸå§‹æ•°æ®ï¼ˆODSå±‚ï¼‰æŒ‰ç…§ä¸€å®šçš„é€»è¾‘æ¨¡å‹è¿›è¡Œæ•´åˆã€æ¸…æ´—ã€åŠ å·¥ï¼Œå½¢æˆæ ‡å‡†åŒ–çš„æ•°æ®ç»“æ„ã€‚
æ”¯æŒå¯¹æ•°æ®çš„å¤šç»´åº¦ã€å¤šç²’åº¦åˆ†æã€‚</p>
<h4 data-id="heading-4">æ”¯æŒä¸šåŠ¡åœºæ™¯</h4>
<p>æ»¡è¶³ä¼ä¸šå¯¹å†å²æ•°æ®çš„æŸ¥è¯¢å’Œåˆ†æéœ€æ±‚ã€‚
æ”¯æŒ OLAPï¼ˆåœ¨çº¿åˆ†æå¤„ç†ï¼‰æ“ä½œï¼Œå¦‚èšåˆæŸ¥è¯¢ã€é’»å–å’Œåˆ‡ç‰‡ã€‚</p>
<h4 data-id="heading-5">æ•°æ®ç»†åŒ–ä¸åˆ†ç±»</h4>
<p>å°†æ•°æ®æŒ‰ç…§ä¸»é¢˜åŸŸï¼ˆå¦‚é”€å”®ã€è´¢åŠ¡ã€åº“å­˜ç­‰ï¼‰åˆ†ç±»ï¼Œä¾¿äºç®¡ç†å’ŒæŸ¥è¯¢ã€‚
é€šå¸¸ä¿æŒè¾ƒé«˜çš„ç»†èŠ‚ç²’åº¦ï¼Œä¾¿äºçµæ´»æ‰©å±•ã€‚</p>
<h4 data-id="heading-6">æ•°æ®å‡†ç¡®æ€§ä¸ä¸€è‡´æ€§</h4>
<p>ç»è¿‡å¤„ç†çš„æ•°æ®ç»è¿‡æ ¡éªŒï¼Œç¡®ä¿é€»è¾‘å…³ç³»æ­£ç¡®ï¼Œèƒ½å¤Ÿä¸ºä¸‹æ¸¸æä¾›å‡†ç¡®çš„ä¸€è‡´æ€§æ•°æ®ã€‚</p>
<h3 data-id="heading-7">åˆ›å»ºDWSå±‚è¡¨</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šå‘˜ç•™å­˜æ˜ç»†</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> dws.dws_member_retention_day;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> dws.dws_member_retention_day
(
  `device_id` string,
  `uid` string,
  `app_v` string,
  `os_type` string,
  `<span class="hljs-keyword">language</span>` string,
  `channel` string,
  `area` string,
  `brand` string,
  `add_date` string comment <span class="hljs-string">'ä¼šå‘˜æ–°å¢æ—¶é—´'</span>,
  `retention_date` <span class="hljs-type">int</span> comment <span class="hljs-string">'ç•™å­˜å¤©æ•°'</span>
)COMMENT <span class="hljs-string">'æ¯æ—¥ä¼šå‘˜ç•™å­˜æ˜ç»†'</span>
PARTITIONED <span class="hljs-keyword">BY</span> (`dt` string)
stored <span class="hljs-keyword">as</span> parquet;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/320d788910c144dc87e368e6573ec919~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=VYVmDsfCIiKie%2FYzZ%2Bf0uvmw5qo%3D" alt="ç¦»çº¿æ•°ä»“ Hive åˆ›å»ºè¡¨æ ¼" loading="lazy"/></p>
<h3 data-id="heading-8">åŠ è½½DWSå±‚æ•°æ®</h3>
<pre><code class="hljs language-shell" lang="shell">vim /opt/wzk/hive/dws_load_member_retention_day.sh
</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">#<span class="hljs-operator">!</span><span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>bash
source <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>profile
if [ <span class="hljs-operator">-</span>n "$1" ] ;<span class="hljs-keyword">then</span>
do_date<span class="hljs-operator">=</span>$<span class="hljs-number">1</span>
<span class="hljs-keyword">else</span>
do_date<span class="hljs-operator">=</span>`<span class="hljs-type">date</span> <span class="hljs-operator">-</span>d "-1 day" <span class="hljs-operator">+</span><span class="hljs-operator">%</span>F`
fi
<span class="hljs-keyword">sql</span><span class="hljs-operator">=</span>"
drop table if exists tmp.tmp_member_retention;
create table tmp.tmp_member_retention as
(
  select t2.device_id,
  t2.uid,
  t2.app_v,
  t2.os_type,
  t2.language,
  t2.channel,
  t2.area,
  t2.brand,
  t2.dt add_date,
  1
  from dws.dws_member_start_day t1 join dws.dws_member_add_day
  t2 on t1.device_id=t2.device_id
  where t2.dt=date_add('$do_date', -1)
  and t1.dt='$do_date'
  union all
  select t2.device_id,
  t2.uid,
  t2.app_v,
  t2.os_type,
  t2.language,
  t2.channel,
  t2.area,
  t2.brand,
  t2.dt add_date,
  2
  from dws.dws_member_start_day t1 join dws.dws_member_add_day
  t2 on t1.device_id=t2.device_id
  where t2.dt=date_add('$do_date', -2)
  and t1.dt='$do_date'
  union all
  select t2.device_id,
  t2.uid,
  t2.app_v,
  t2.os_type,
  t2.language,
  t2.channel,
  t2.area,
  t2.brand,
  t2.dt add_date,
  3
  from dws.dws_member_start_day t1 join dws.dws_member_add_day
  t2 on t1.device_id=t2.device_id
  where t2.dt=date_add('$do_date', -3)
  and t1.dt='$do_date'
);
insert overwrite table dws.dws_member_retention_day
partition(dt='$do_date')
select * from tmp.tmp_member_retention;
"
hive <span class="hljs-operator">-</span>e "$sql"
</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/906d4476968840e2851dee527297737d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=Kwp5HFt0LB6EtCuH52p7jSBNOZE%3D" alt="ç¦»çº¿æ•°ä»“ Hive åˆ›å»ºè¡¨æ ¼" loading="lazy"/></p>
<h3 data-id="heading-9">ADS ä½œç”¨</h3>
<h4 data-id="heading-10">èšåˆå’Œç®€åŒ–æ•°æ®</h4>
<p>å°† DWS å±‚ä¸­å¤šè¡¨ã€å¤šä¸»é¢˜åŸŸçš„æ•°æ®èšåˆæˆç®€å•æ˜“ç”¨çš„è¡¨æˆ–è§†å›¾ã€‚
ç›´æ¥è¾“å‡ºæ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æ•°æ®ç»“æœã€‚</p>
<h4 data-id="heading-11">é¢å‘ä¸šåŠ¡åº”ç”¨</h4>
<p>é€šè¿‡è®¾è®¡å®½è¡¨æˆ–é«˜æ€§èƒ½è§†å›¾ï¼Œç›´æ¥æ”¯æŒå…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’ŒæŠ¥è¡¨éœ€æ±‚ã€‚
å“åº”å¿«é€ŸæŸ¥è¯¢éœ€æ±‚ï¼Œå¦‚å®æ—¶æ•°æ®çš„å±•ç¤ºã€‚</p>
<h4 data-id="heading-12">æ•°æ®åˆ†å‘ä¸é›†æˆ</h4>
<p>ä¸ºå‰ç«¯çš„ BI å·¥å…·ã€æŠ¥è¡¨ç³»ç»Ÿæˆ– API æœåŠ¡æä¾›é«˜æ•ˆçš„æŸ¥è¯¢æ¥å£ã€‚
èƒ½å¤Ÿé€šè¿‡ç¼“å­˜æœºåˆ¶æˆ–ç‰©åŒ–è§†å›¾åŠ é€ŸæŸ¥è¯¢æ€§èƒ½ã€‚</p>
<h4 data-id="heading-13">è½»é‡åŒ–ä¸é«˜æ€§èƒ½</h4>
<p>å°½é‡å‡å°‘æ•°æ®é‡ï¼Œä¿ç•™ä¸šåŠ¡æœ€å…³å¿ƒçš„å…³é”®æŒ‡æ ‡ã€‚
é‡‡ç”¨é¢„èšåˆã€é¢„è®¡ç®—ç­‰æŠ€æœ¯æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p>
<h3 data-id="heading-14">åˆ›å»ºADSå±‚è¡¨</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šå‘˜ç•™å­˜æ•°</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> ads.ads_member_retention_count;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> ads.ads_member_retention_count
(
  `add_date` string comment <span class="hljs-string">'æ–°å¢æ—¥æœŸ'</span>,
  `retention_day` <span class="hljs-type">int</span> comment <span class="hljs-string">'æˆªæ­¢å½“å‰æ—¥æœŸç•™å­˜å¤©æ•°'</span>,
  `retention_count` <span class="hljs-type">bigint</span> comment <span class="hljs-string">'ç•™å­˜æ•°'</span>
) COMMENT <span class="hljs-string">'ä¼šå‘˜ç•™å­˜æ•°'</span>
partitioned <span class="hljs-keyword">by</span>(dt string)
<span class="hljs-type">row</span> format delimited fields terminated <span class="hljs-keyword">by</span> <span class="hljs-string">','</span>;

<span class="hljs-comment">-- ä¼šå‘˜ç•™å­˜ç‡</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> ads.ads_member_retention_rate;
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> ads.ads_member_retention_rate
(
  `add_date` string comment <span class="hljs-string">'æ–°å¢æ—¥æœŸ'</span>,
  `retention_day` <span class="hljs-type">int</span> comment <span class="hljs-string">'æˆªæ­¢å½“å‰æ—¥æœŸç•™å­˜å¤©æ•°'</span>,
  `retention_count` <span class="hljs-type">bigint</span> comment <span class="hljs-string">'ç•™å­˜æ•°'</span>,
  `new_mid_count` <span class="hljs-type">bigint</span> comment <span class="hljs-string">'å½“æ—¥ä¼šå‘˜æ–°å¢æ•°'</span>,
  `retention_ratio` <span class="hljs-type">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) comment <span class="hljs-string">'ç•™å­˜ç‡'</span>
) COMMENT <span class="hljs-string">'ä¼šå‘˜ç•™å­˜ç‡'</span>
partitioned <span class="hljs-keyword">by</span>(dt string)
<span class="hljs-type">row</span> format delimited fields terminated <span class="hljs-keyword">by</span> <span class="hljs-string">','</span>;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e936125eac374a9ab79cd39f77622433~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=D0VLVGDDgcQzLFp4smI0UMqklu0%3D" alt="ç¦»çº¿æ•°ä»“ Hive ä¼šå‘˜ç•™å­˜æ•°" loading="lazy"/></p>
<h3 data-id="heading-15">åŠ è½½ADSå±‚æ•°æ®</h3>
<pre><code class="hljs language-shell" lang="shell">vim /opt/wzk/hive/ads_load_member_retention.sh
</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">#<span class="hljs-operator">!</span><span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>bash
source <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>profile
if [ <span class="hljs-operator">-</span>n "$1" ] ;<span class="hljs-keyword">then</span>
  do_date<span class="hljs-operator">=</span>$<span class="hljs-number">1</span>
<span class="hljs-keyword">else</span>
  do_date<span class="hljs-operator">=</span>`<span class="hljs-type">date</span> <span class="hljs-operator">-</span>d "-1 day" <span class="hljs-operator">+</span><span class="hljs-operator">%</span>F`
  fi
  <span class="hljs-keyword">sql</span><span class="hljs-operator">=</span>"
insert overwrite table ads.ads_member_retention_count
partition (dt='$do_date')
select add_date, retention_date,
count(*) retention_count
from dws.dws_member_retention_day
where dt='$do_date'
group by add_date, retention_date;
insert overwrite table ads.ads_member_retention_rate
partition (dt='$do_date')
select t1.add_date,
t1.retention_day,
t1.retention_count,
t2.cnt,
t1.retention_count/t2.cnt*100
from ads.ads_member_retention_count t1 join
ads.ads_new_member_cnt t2 on t1.dt=t2.dt
where t1.dt='$do_date';
"
hive <span class="hljs-operator">-</span>e "$sql"
</code></pre>
<p>å¤‡æ³¨ï¼šæœ€åä¸€æ¡SQLçš„è¿çº¿æ¡ä»¶åº”è¯¥ä¸ºï¼št1.add_date=t2.dtã€‚
å†™å…¥çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f1ec270c51c49d5b9fe95ba7f858a94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=3GHKJWxvLLCQg79WeAMXddQ1eXs%3D" alt="ç¦»çº¿æ•°ä»“ Hive æ’å…¥æ•°æ®è¡¨æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-16">æš‚æ—¶å°ç»“</h3>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬çš„æ•°ä»“åŸºæœ¬ä¸Šæ„å»ºå®Œæ¯•ï¼Œåç»­å°†æ•°æ®å¯¼å…¥è¿›è¡Œè¯¦ç»†çš„å¤„ç†ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09183700dc634f7dbd9f696e0153c941~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771383528&amp;x-signature=9%2FtOqSyzTyBfhjZwbwI%2FcsrMlqg%3D" alt="ç¦»çº¿æ•°ä»“ æ•°ä»“åŸºæœ¬æ„å»ºå®Œæ¯•" loading="lazy"/>
ç¦»çº¿æ•°ä»“ï¼ˆData Warehouseï¼‰é€šå¸¸åˆ†ä¸ºå¤šä¸ªå±‚æ¬¡ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç»„ç»‡æ•°æ®ã€‚å…¶ä¸­ï¼ŒDWSï¼ˆData Warehouse Serviceï¼‰å’Œ ADSï¼ˆApplication Data Serviceï¼‰æ˜¯æ•°æ®ä»“åº“ä¸­ä¸¤ä¸ªé‡è¦çš„é€»è¾‘å±‚çº§ï¼Œåˆ†åˆ«æ‰¿æ‹…ä¸åŒçš„åŠŸèƒ½ã€‚</p>
<ul>
<li>DWSï¼šæ˜¯æ•°ä»“çš„æ ¸å¿ƒå±‚ï¼Œæ—¨åœ¨åŠ å·¥ã€æ±‡æ€»å’Œæä¾›é«˜å¤ç”¨çš„æ•°æ®æœåŠ¡ã€‚</li>
<li>ADSï¼šæ˜¯æ•°ä»“çš„åº”ç”¨å±‚ï¼Œä¸“æ³¨äºæ»¡è¶³ç‰¹å®šä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚</li>
</ul>
<p>WSï¼ˆData Warehouse Serviceï¼‰â€”â€”æœåŠ¡å±‚æˆ–ä¸­é—´å±‚
å®šä¹‰ï¼šDWS é€šå¸¸æ˜¯ç¦»çº¿æ•°ä»“ä¸­çš„æ±‡æ€»å±‚æˆ–æœåŠ¡å±‚ï¼Œä¸»è¦å¯¹æ•°æ®è¿›è¡Œæ•´ç†ã€åŠ å·¥å’Œèšåˆï¼Œä¸ºä¸Šå±‚çš„æ•°æ®åˆ†ææˆ–åº”ç”¨æä¾›æœåŠ¡ã€‚</p>
<p>ADSï¼ˆApplication Data Serviceï¼‰â€”â€”åº”ç”¨å±‚
å®šä¹‰ï¼šADS æ˜¯æ•°ä»“ä¸­çš„åº”ç”¨å±‚ï¼Œé€šå¸¸æ˜¯ç›´æ¥é¢å‘ä¸šåŠ¡éœ€æ±‚ï¼Œæä¾›ç‰¹å®šåœºæ™¯ä¸‹æ‰€éœ€çš„åˆ†æç»“æœæˆ–æœåŠ¡ã€‚</p>
<p>DWS ä¸ ADS çš„å…³ç³»</p>
<ul>
<li>DWS æ˜¯ ADS çš„ä¸Šæ¸¸ï¼šDWS æä¾›çš„æ ‡å‡†åŒ–ã€å¯å¤ç”¨çš„æ•°æ®æœåŠ¡æ˜¯ ADS æ„å»ºçš„åŸºç¡€ã€‚</li>
<li>åŠŸèƒ½å®šä½ä¸åŒï¼šDWS æ›´åå‘æ•°æ®æ•´åˆä¸æ ‡å‡†åŒ–ï¼Œè€Œ ADS æ›´å…³æ³¨ä¸šåŠ¡éœ€æ±‚çš„ä¸ªæ€§åŒ–æ»¡è¶³ã€‚</li>
<li>æ•°æ®ç²’åº¦ï¼šDWS çš„æ•°æ®ç²’åº¦æ›´ç»†ï¼ŒADS é€šå¸¸æ˜¯åŸºäº DWS çš„èšåˆå’Œè¿‡æ»¤ï¼Œé¢å‘ç‰¹å®šéœ€æ±‚è¾“å‡ºã€‚</li>
</ul>
<h2 data-id="heading-17">é”™è¯¯é€ŸæŸ¥</h2>



























































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>ADS ç•™å­˜ç‡ç®—ä¸å‡ºæ¥/ç•™å­˜ç‡å¼‚å¸¸åå¤§åå°</td><td>ç•™å­˜ç‡ SQL join æ¡ä»¶å†™é”™ï¼ŒæŠŠ t1.dt=t2.dt è¯¯å½“æ–°å¢æ—¥å¯¹é½</td><td>å¯¹æ¯” ads_member_retention_count çš„ add_date ä¸ ads_new_member_cnt çš„ dt æ˜¯å¦ä¸€è‡´</td><td>å°†è¿çº¿æ”¹ä¸º t1.add_date = t2.dt</td></tr><tr><td>DWS ç•™å­˜æ˜ç»†æ•°æ®å¼‚å¸¸è†¨èƒ€</td><td>dws_member_add_day ä¸ start_day å¯èƒ½å­˜åœ¨åŒä¸€ device_id å¤šæ¡è®°å½•ï¼Œjoin äº§ç”Ÿå€å¢</td><td>æ£€æŸ¥ä¸¤å¼ æ˜ç»†è¡¨åœ¨ dt åˆ†åŒºå†… device_id æ˜¯å¦å”¯ä¸€ï¼›æŠ½æ · count(*) vs count(distinct device_id)</td><td>åœ¨ join å‰åšå»é‡/ä¸»é”®çº¦æŸï¼ˆæŒ‰ device_id/uid é€‰æœ€æ–°æˆ– distinctï¼‰ï¼Œæˆ–æ”¹ä¸º semi join/exists å£å¾„</td></tr><tr><td>ç•™å­˜å¤©æ•°ç»Ÿè®¡ç¼ºå¤±ï¼ˆä¾‹å¦‚åªç®—åˆ° 3 æ—¥ï¼‰</td><td>è„šæœ¬å†™æ­» union all 1/2/3</td><td>çœ‹ dws_load_member_retention_day.sh ä¸­ union æ®µ</td><td>æŠ½è±¡ä¸º N æ—¥ç•™å­˜ï¼šç”¨ç»´è¡¨/æ•°å­—è¡¨ç”Ÿæˆ retention_dayï¼Œå† date_add åŠ¨æ€è®¡ç®—</td></tr><tr><td>ç•™å­˜å£å¾„åå·®ï¼ˆè·¨è®¾å¤‡ã€è·¨è´¦å·ï¼‰</td><td>ç”¨ device_id ä½œä¸ºä¸»é”®ï¼Œä¼šå‘˜ç»´åº¦å¯èƒ½åº”ä»¥ uid ä¸ºå‡†ï¼ˆæˆ–ä¸¤è€…ç»„åˆï¼‰</td><td>å¯¹æ¯”ä¸šåŠ¡å®šä¹‰ï¼šä¼šå‘˜=è´¦å·è¿˜æ˜¯è®¾å¤‡ï¼›çœ‹ add_day çš„ uid æ˜¯å¦ç¨³å®š</td><td>æ˜ç¡®å£å¾„ï¼šè‹¥ä»¥ uid ç•™å­˜ï¼Œjoin key æ”¹ä¸º uidï¼›è‹¥ä»¥è®¾å¤‡ç•™å­˜ï¼Œuid ä»…ä½œå±æ€§</td></tr><tr><td>ç•™å­˜ç‡å°æ•°ç²¾åº¦/ç™¾åˆ†æ¯”æ˜¾ç¤ºä¸æ­£ç¡®</td><td>retention_count/t2.cnt*100 å¯èƒ½è§¦å‘æ•´é™¤æˆ–ç²¾åº¦ä¸è¶³ï¼›decimal(10,2) å­˜å‚¨ä½†è®¡ç®—æœª cast</td><td>çœ‹ Hive ä¸­è¡¨è¾¾å¼ç±»å‹æ¨æ–­ä¸æœ€ç»ˆ retention_ratio</td><td>ä½¿ç”¨ castï¼šcast(t1.retention_count as decimal(18,4))/cast(t2.cnt as decimal(18,4))*100ï¼Œå¹¶æŒ‰éœ€è¦ round</td></tr><tr><td>åˆ†åŒºè¦†ç›–/æ•°æ®ä¸¢å¤±</td><td>insert overwrite è¦†ç›–åˆ†åŒºï¼›è„šæœ¬é»˜è®¤ do_date=-1ï¼Œè¯¯è·‘ä¼šè¦†ç›–å†å²</td><td>çœ‹ insert overwrite + dt=â€™$do_dateâ€™</td><td>ä¿ç•™ overwrite ä½†åŠ è·‘æ‰¹ä¿æŠ¤ï¼šå‚æ•°å¿…å¡«æˆ–å†™ä¿æŠ¤ï¼›æˆ–æ”¹ä¸º insert into + å¹‚ç­‰å»é‡ç­–ç•¥</td></tr><tr><td>ä¸´æ—¶è¡¨é‡å¤åˆ›å»ºå½±å“æ€§èƒ½</td><td>æ¯å¤© drop/create tmp è¡¨ï¼Œä¸” union all ä¸‰æ¬¡æ‰«æ start_day/add_day</td><td>explain/æ‰§è¡Œæ—¥å¿—è§‚å¯Ÿæ‰«ææ¬¡æ•°ä¸ shuffle</td><td>æ”¹ä¸ºä¸€æ¬¡æ‰«æï¼šå…ˆå– do_date å¯åŠ¨é›†åˆï¼Œå†ä¸ add_day é€šè¿‡ case when è®¡ç®— retention_dayï¼Œæˆ–ç”¨å¤šæ¡ä»¶ join + lateral view/ç»´è¡¨</td></tr><tr><td>Parquet ä¸è¡Œæ ¼å¼è¡¨æ··ç”¨å¯¼è‡´æ€§èƒ½ä¸ä¸€è‡´</td><td>DWS ç”¨ parquetï¼ŒADS ç”¨ textfileï¼ˆfields terminated by â€˜,â€™)ï¼ŒæŸ¥è¯¢é“¾è·¯å¯èƒ½é€€åŒ–</td><td>è§‚å¯Ÿ ADS æŸ¥è¯¢æ€§èƒ½ã€å‹ç¼©ç‡ã€æ–‡ä»¶æ•°</td><td>ADS ä¹Ÿç”¨ parquet/orcï¼›è‹¥ä¸ºå¯¼å‡ºç»™å¤–éƒ¨ç³»ç»Ÿå†è½ textfileï¼Œé€šè¿‡ä¸­é—´å±‚å¯¼å‡º</td></tr></tbody></table>
<h2 data-id="heading-18">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-19">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-20">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-21">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elasticsearchï¼šäº¤æ˜“æœç´¢ - MCP]]></title>    <link>https://juejin.cn/post/7605041556656177161</link>    <guid>https://juejin.cn/post/7605041556656177161</guid>    <pubDate>2026-02-10T13:59:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041556656177161" data-draft-id="7605030650279460910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elasticsearchï¼šäº¤æ˜“æœç´¢ - MCP"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-02-10T13:59:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elasticsearchï¼šäº¤æ˜“æœç´¢ - MCP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T13:59:23.000Z" title="Tue Feb 10 2026 13:59:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/754f24c6612e467892dc71dde19da53b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=N6f0JpkKNABlVyAJ2%2F%2BOqhM5nlk%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä»Šå¤©çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬æ¥å±•ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ MCP æ¥è¿›è¡Œäº¤æ˜“æœç´¢ã€‚</p>
<h2 data-id="heading-0">å®‰è£…</h2>
<h3 data-id="heading-1">Elasticsearch åŠ Kibana</h3>
<p>Â å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…å¥½è‡ªå·±çš„ Elasticsearch åŠ Kibanaï¼Œé‚£ä¹ˆè¯·å‚è€ƒä¸€ä¸‹çš„æ–‡ç« æ¥è¿›è¡Œå®‰è£…ï¼š</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F99413578" title="https://elasticstack.blog.csdn.net/article/details/99413578" target="_blank" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨ Linuxï¼ŒMacOS åŠ Windows ä¸Šè¿›è¡Œå®‰è£… Elasticsearch</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F99433732" title="https://elasticstack.blog.csdn.net/article/details/99433732" target="_blank" ref="nofollow noopener noreferrer">Kibanaï¼šå¦‚ä½•åœ¨ Linuxï¼ŒMacOS åŠ Windows ä¸Šå®‰è£… Elastic æ ˆä¸­çš„ Kibana</a></p>
</li>
</ul>
<p>åœ¨å®‰è£…çš„æ—¶å€™ï¼Œè¯·é€‰æ‹© <strong>Elastic Stack 8.x/9.x</strong>Â è¿›è¡Œå®‰è£…ã€‚åœ¨å®‰è£…çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„å®‰è£…ä¿¡æ¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06564f0546434f998670d3dfb57d692c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=NrOi7Cxm9RMPDNDXmZC82WtmDOg%3D" alt="" loading="lazy"/>â€‹â€‹</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Elastic Stack 9.1.2 æ¥è¿›è¡Œå±•ç¤ºã€‚</p>
<h2 data-id="heading-2">å¯åŠ¨ç™½é‡‘è¯•ç”¨</h2>
<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°å†…ç½®çš„ ELSER æ¨¡å‹æ¥å‘é‡åŒ–æˆ‘ä»¬çš„æ•°æ®ã€‚æˆ‘ä»¬éœ€è¦å¯åŠ¨ç™½é‡‘è¯•ç”¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b27339ef8e34bc8820764b7cf80b921~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=46C%2BuP8wTbfC1fX0X0SuWE384N4%3D" alt="" loading="lazy"/>â€‹â€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533d8731b1234203afa2a4eac92966c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=aQY7zgOM%2BKuxnMsjs7SZa11px%2FI%3D" alt="" loading="lazy"/>â€‹â€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de3bf3ba134d4de08e11f526c363173a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=MJzKt5jo6lR3grHLckIJL5HX6KY%3D" alt="" loading="lazy"/>â€‹â€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/784aea36ee0c4a76bb4b53ff7e62bf65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=RhN3LBwDSRnoB%2BS5Iorb14oxckA%3D" alt="" loading="lazy"/>â€‹â€‹</p>
<p>è¿™æ ·å°±å¯åŠ¨äº†ç™½é‡‘è¯•ç”¨ã€‚</p>
<h3 data-id="heading-3">ä¸‹è½½ä»£ç </h3>
<p>æˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼æ¥ä¸‹è½½ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`git <span class="hljs-built_in">clone</span> https://github.com/liu-xiao-guo/transaction_search_mcp`AIå†™ä»£ç 
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  $ pwd
<span class="hljs-bullet">2.</span>  /Users/liuxg/python/transaction<span class="hljs-emphasis">_search_</span>mcp
<span class="hljs-bullet">3.</span>  $ ls -al
<span class="hljs-bullet">4.</span>  total 32
<span class="hljs-bullet">5.</span>  drwxr-xr-x  11 liuxg  staff   352 Feb 10 14:12 .
<span class="hljs-bullet">6.</span>  drwxr-xr-x@ 38 liuxg  staff  1216 Feb 10 14:12 ..
<span class="hljs-bullet">7.</span>  -rw-r--r--   1 liuxg  staff   838 Feb 10 14:12 .env.example
<span class="hljs-bullet">8.</span>  drwxr-xr-x  12 liuxg  staff   384 Feb 10 14:12 .git
<span class="hljs-bullet">9.</span>  -rw-r--r--   1 liuxg  staff  4050 Feb 10 14:12 .gitignore
<span class="hljs-bullet">10.</span>  -rw-r--r--   1 liuxg  staff  4501 Feb 10 14:12 README.md
<span class="hljs-bullet">11.</span>  drwxr-xr-x   4 liuxg  staff   128 Feb 10 14:12 docs
<span class="hljs-bullet">12.</span>  drwxr-xr-x   4 liuxg  staff   128 Feb 10 14:12 requirements
<span class="hljs-bullet">13.</span>  drwxr-xr-x   6 liuxg  staff   192 Feb 10 14:12 scripts
<span class="hljs-bullet">14.</span>  drwxr-xr-x   5 liuxg  staff   160 Feb 10 14:12 src
<span class="hljs-bullet">15.</span>  drwxr-xr-x   3 liuxg  staff    96 Feb 10 14:12 tests

`AIå†™ä»£ç ![](<span class="hljs-link">https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png</span>)
</code></pre>
<p>æˆ‘ä»¬æŠŠ .env.example æ‹·è´åˆ° .env æ–‡ä»¶ä¸­å»ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  <span class="hljs-comment"># Copy environment template</span>
2.  <span class="hljs-built_in">cp</span> .env.example .<span class="hljs-built_in">env</span>

4.  <span class="hljs-comment"># Edit .env with your configuration</span>
5.  <span class="hljs-comment"># - Elasticsearch URL and credentials</span>
6.  <span class="hljs-comment"># - OpenAI API key (for LLM client)</span>

`AIå†™ä»£ç 
</code></pre>
<p><strong>.env</strong></p>
<pre><code class="hljs language-ini" lang="ini">`

1.  <span class="hljs-comment"># Elasticsearch Configuration</span>
<span class="hljs-attr">2.  ELASTICSEARCH_HOST</span>=https://localhost:<span class="hljs-number">9200</span>
<span class="hljs-attr">3.  ELASTICSEARCH_USERNAME</span>=elastic
<span class="hljs-attr">4.  ELASTICSEARCH_PASSWORD</span>=LYXAfNkSab8QwsbrriYN
<span class="hljs-attr">5.  ELASTICSEARCH_API_KEY</span>=X3NZeFJwd0Itb1hyWHlSejg4c3c6bHdwWGhaVTRBRTA1WnF1TUlUd1c2dw==
<span class="hljs-attr">6.  ELASTICSEARCH_INDEX</span>=banking_transactions

<span class="hljs-attr">8.  OPEN_AI_KEY</span>=&lt;YourOpenAIKey&gt;

`AIå†™ä»£ç 
</code></pre>

<pre><code class="hljs language-bash" lang="bash">`

1.  transaction_search_mcp/
2.  â”œâ”€â”€ src/                          <span class="hljs-comment"># Source code</span>
3.  â”‚   â”œâ”€â”€ server/                   <span class="hljs-comment"># MCP server implementation</span>
4.  â”‚   â”‚   â””â”€â”€ server.py            <span class="hljs-comment"># Main MCP server with transaction search tools</span>
5.  â”‚   â””â”€â”€ clients/                 <span class="hljs-comment"># Client applications</span>
6.  â”‚       â”œâ”€â”€ chat_client.py       <span class="hljs-comment"># Basic Streamlit chat interface</span>
7.  â”‚       â””â”€â”€ chat_client_llm.py   <span class="hljs-comment"># Enhanced LLM-powered chat client</span>
8.  â”œâ”€â”€ scripts/                     <span class="hljs-comment"># Setup and utility scripts</span>
9.  â”‚   â”œâ”€â”€ setup_elasticsearch.py   <span class="hljs-comment"># Basic Elasticsearch setup with test data</span>
10.  â”‚   â”œâ”€â”€ setup_elasticsearch_llm.py <span class="hljs-comment"># Enhanced setup with realistic test data</span>
11.  â”‚   â”œâ”€â”€ run_chat.py             <span class="hljs-comment"># Launch basic chat client</span>
12.  â”‚   â””â”€â”€ run_llm_chat.py         <span class="hljs-comment"># Launch LLM-powered chat client</span>
13.  â”œâ”€â”€ tests/                       <span class="hljs-comment"># Test files</span>
14.  â”‚   â””â”€â”€ test_server.py          <span class="hljs-comment"># Comprehensive server tests</span>
15.  â”œâ”€â”€ docs/                        <span class="hljs-comment"># Documentation</span>
16.  â”‚   â”œâ”€â”€ README.md               <span class="hljs-comment"># Basic implementation docs</span>
17.  â”‚   â””â”€â”€ README_LLM.md           <span class="hljs-comment"># LLM-enhanced version docs</span>
18.  â”œâ”€â”€ requirements/                <span class="hljs-comment"># Dependencies</span>
19.  â”‚   â”œâ”€â”€ requirements.txt        <span class="hljs-comment"># Server dependencies</span>
20.  â”‚   â””â”€â”€ client_requirements.txt <span class="hljs-comment"># Client dependencies</span>
21.  â”œâ”€â”€ .<span class="hljs-built_in">env</span>                        <span class="hljs-comment"># Environment variables (not in git)</span>
22.  â”œâ”€â”€ .env.example               <span class="hljs-comment"># Environment template</span>
23.  â””â”€â”€ .gitignore                 <span class="hljs-comment"># Git ignore rules</span>

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h3 data-id="heading-4">åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3>
<p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  $ python -m venv .venv
2.  $ <span class="hljs-built_in">source</span> .venv/bin/activate
3.  (.venv) $ <span class="hljs-comment"># Server dependencies</span>
4.  pip install -r requirements/requirements.txt

6.  <span class="hljs-comment"># Client dependencies (for chat interfaces)</span>
7.  pip install -r requirements/client_requirements.txt

`AIå†™ä»£ç 
</code></pre>
<h3 data-id="heading-5">è®¾ç½® Elasticsearch</h3>
<p>æˆ‘ä»¬è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`python scripts/setup_elasticsearch.py`AIå†™ä»£ç 
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/836ac43b887d4b848c9e9c2dfcd1d104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=Jf30xywxVzFe4btl3U2GgQum0ck%3D" alt="" loading="lazy"/>â€‹</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ° Kibana ä¸­è¿›è¡ŒæŸ¥çœ‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/778df66dde8f44a7889a61e77b333a2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=Iec%2FTHVpRKoGcHM13J%2BLUISfY70%3D" alt="" loading="lazy"/>â€‹</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ 500 ä¸ªäº¤æ˜“è®°å½•ã€‚å…¶ä¸­çš„ä¸€ä¸ªäº¤æ˜“è®°å½•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`GET banking_transactions/_doc/txn_000001`AIå†™ä»£ç 
</code></pre>

<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"_index"</span>: <span class="hljs-string">"banking_transactions"</span>,
3.    <span class="hljs-string">"_id"</span>: <span class="hljs-string">"txn_000001"</span>,
4.    <span class="hljs-string">"_version"</span>: 1,
5.    <span class="hljs-string">"_seq_no"</span>: 0,
6.    <span class="hljs-string">"_primary_term"</span>: 1,
7.    <span class="hljs-string">"found"</span>: <span class="hljs-literal">true</span>,
8.    <span class="hljs-string">"_source"</span>: {
9.      <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"txn_000001"</span>,
10.      <span class="hljs-string">"account_id"</span>: <span class="hljs-string">"acc_001"</span>,
11.      <span class="hljs-string">"account_type"</span>: <span class="hljs-string">"savings"</span>,
12.      <span class="hljs-string">"transaction_date"</span>: <span class="hljs-string">"2026-01-16"</span>,
13.      <span class="hljs-string">"posted_date"</span>: <span class="hljs-string">"2026-01-17"</span>,
14.      <span class="hljs-string">"amount"</span>: -47.64,
15.      <span class="hljs-string">"currency"</span>: <span class="hljs-string">"USD"</span>,
16.      <span class="hljs-string">"description"</span>: <span class="hljs-string">"Home Depot - car_wash"</span>,
17.      <span class="hljs-string">"memo"</span>: <span class="hljs-string">"Purchase at Home Depot"</span>,
18.      <span class="hljs-string">"reference"</span>: <span class="hljs-string">"REF271525"</span>,
19.      <span class="hljs-string">"merchant"</span>: <span class="hljs-string">"Home Depot"</span>,
20.      <span class="hljs-string">"category"</span>: <span class="hljs-string">"gas"</span>,
21.      <span class="hljs-string">"subcategory"</span>: <span class="hljs-string">"car_wash"</span>,
22.      <span class="hljs-string">"transaction_type"</span>: <span class="hljs-string">"fee"</span>,
23.      <span class="hljs-string">"location"</span>: {
24.        <span class="hljs-string">"city"</span>: <span class="hljs-string">"Austin"</span>,
25.        <span class="hljs-string">"state"</span>: <span class="hljs-string">"TX"</span>,
26.        <span class="hljs-string">"country"</span>: <span class="hljs-string">"US"</span>,
27.        <span class="hljs-string">"postal_code"</span>: <span class="hljs-string">"73301"</span>,
28.        <span class="hljs-string">"coordinates"</span>: {
29.          <span class="hljs-string">"lat"</span>: 33.40455,
30.          <span class="hljs-string">"lon"</span>: -96.542508
31.        }
32.      },
33.      <span class="hljs-string">"tags"</span>: [
34.        <span class="hljs-string">"transportation"</span>
35.      ],
36.      <span class="hljs-string">"balance_after"</span>: 3929.25,
37.      <span class="hljs-string">"is_pending"</span>: <span class="hljs-literal">false</span>,
38.      <span class="hljs-string">"is_recurring"</span>: <span class="hljs-literal">false</span>,
39.      <span class="hljs-string">"created_at"</span>: <span class="hljs-string">"2026-02-10T14:34:40.767Z"</span>,
40.      <span class="hljs-string">"updated_at"</span>: <span class="hljs-string">"2026-02-10T14:34:40.767Z"</span>
41.    }
42.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨ LLM æ¥å¸®æˆ‘ä»¬ç”Ÿæˆç›¸åº”çš„æ¨¡æ‹Ÿæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`python scripts/setup_elasticsearch_llm.py`AIå†™ä»£ç 
</code></pre>
<p>è¿™äº›æ•°æ®å°†æ›´ç¬¦åˆç°å®çš„å®é™…äº¤æ˜“ã€‚</p>
<h3 data-id="heading-6">è¿è¡Œ MCP æœåŠ¡å™¨</h3>
<p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤æ¥è¿è¡ŒæœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript">`

<span class="hljs-number">1.</span>  # Start MCP <span class="hljs-built_in">server</span>
<span class="hljs-number">2.</span>  python src/<span class="hljs-built_in">server</span>/<span class="hljs-built_in">server</span>.py

`AIå†™ä»£ç 
</code></pre>
<h3 data-id="heading-7">è¿è¡Œå®¢æˆ·ç«¯</h3>
<p>æˆ‘ä»¬è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`python scripts/run_chat.py`AIå†™ä»£ç 
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7df938223744081a4003adf8f3f4db9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=5Sz%2BN66qFVJpZl08cXr7ReoFdVg%3D" alt="" loading="lazy"/>â€‹</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸Šçš„ç•Œé¢ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•å¦‚ä¸‹çš„æœç´¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7b5340ff972475fbe6689881a32c416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=2BxDxa%2FKIM%2FftKYBaQxtwsBaWXQ%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c620273b61304fcdb26bcd92c2e3c737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=ubJRkdTtEMazU65bFQGQEywQMeU%3D" alt="" loading="lazy"/>â€‹</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç”±LLM é©±åŠ¨çš„ç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`python scripts/run_llm_chat.py`AIå†™ä»£ç 
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce140e70d2bd4ad993797392dbd6e3a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336911&amp;x-signature=0gzOzJcYW3p8PwpIJsM%2BhYy8KeU%3D" alt="" loading="lazy"/></p>
<p>æºç è¯·åœ¨åœ°å€Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliu-xiao-guo%2Ftransaction_search_mcp" title="https://github.com/liu-xiao-guo/transaction_search_mcp" target="_blank" ref="nofollow noopener noreferrer">github.com/liu-xiao-guâ€¦</a>Â ä¸‹è½½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - è®¾è®¡ä¸è½åœ° [9 - 3]ï¼šBFF (Backend for Frontend) å±‚ä¸ Serverless çš„æ¶æ„èåˆ]]></title>    <link>https://juejin.cn/post/7605041556656898057</link>    <guid>https://juejin.cn/post/7605041556656898057</guid>    <pubDate>2026-02-11T01:34:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041556656898057" data-draft-id="7605097326727430190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - è®¾è®¡ä¸è½åœ° [9 - 3]ï¼šBFF (Backend for Frontend) å±‚ä¸ Serverless çš„æ¶æ„èåˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T01:34:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - è®¾è®¡ä¸è½åœ° [9 - 3]ï¼šBFF (Backend for Frontend) å±‚ä¸ Serverless çš„æ¶æ„èåˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:34:23.000Z" title="Wed Feb 11 2026 01:34:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸­ï¼Œå‰ç«¯æ˜¯åç«¯çš„â€œæ¶ˆè´¹è€…â€ã€‚åç«¯å–‚ä»€ä¹ˆï¼Œæˆ‘ä»¬å°±åƒä»€ä¹ˆã€‚</p>
<p>è¿™ç§æ¨¡å¼åœ¨ç§»åŠ¨ç«¯ã€Web ç«¯ã€å°ç¨‹åºå¤šç«¯å¹¶è¡Œçš„ä»Šå¤©ï¼Œæ•ˆç‡æä½ã€‚<strong>BFF (Backend for Frontend)</strong> çš„æ ¸å¿ƒå“²å­¦æ˜¯ï¼š<strong>è°æ¶ˆè´¹ï¼Œè°è´Ÿè´£ã€‚</strong> æ—¢ç„¶ UI æ˜¯å‰ç«¯è®¾è®¡çš„ï¼Œé‚£ä¹ˆä¸ºäº†æ”¯æ’‘è¿™ä¸ª UI è€Œå­˜åœ¨çš„æ•°æ®èšåˆå±‚ï¼Œä¹Ÿç†åº”ç”±å‰ç«¯æ¥ä¸»å¯¼ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2c258e2b4f9471487e3c8974ab71c21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378488&amp;x-signature=QH7LLSfGeMSIWqdZNdikSyTZvY4%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä¸ºä»€ä¹ˆå‰ç«¯è¦æ BFFï¼Ÿï¼ˆå‘Šåˆ«â€œæ¥å£ä¹è®¨â€ï¼‰</h2>
<p>åœ¨æ²¡æœ‰ BFF çš„æ—¥å­é‡Œï¼Œå‰ç«¯æ¶æ„å¸ˆç»å¸¸é¢ä¸´ä¸‰ä¸ªçª˜å¢ƒï¼š</p>
<ol>
<li><strong>æ•°æ®è‡ƒè‚¿ï¼š</strong> åç«¯ä¸ºäº†é€šç”¨ï¼Œä¸€ä¸ªæ¥å£è¿”å› 2MB çš„ JSONï¼Œå‰ç«¯åªè¦å…¶ä¸­ä¸€ä¸ª <code>id</code>ã€‚</li>
<li><strong>è¯·æ±‚åœ°ç‹±ï¼š</strong> ä¸ºäº†æ¸²æŸ“ä¸€ä¸ªé¦–é¡µï¼Œå‰ç«¯è¦åœ¨ <code>useEffect</code> é‡Œè°ƒ A æ¥å£æ‹¿ <code>userId</code>ï¼Œå†è°ƒ B æ¥å£æ‹¿è¯¦æƒ…ï¼Œæœ€åè°ƒ C æ¥å£æ‹¿è¯„è®ºã€‚</li>
<li><strong>é€»è¾‘æ··æ‚ï¼š</strong> å‰ç«¯ä¸ºäº†é€‚é…åç«¯å¥‡æ€ªçš„å­—æ®µåï¼Œä»£ç é‡Œå……æ–¥ç€ <code>data.list[0].user_info_v2.name || 'åŒ¿å'</code> è¿™ç§é˜²é”™é€»è¾‘ã€‚</li>
<li><strong>è„†å¼±çš„â€œé˜²å¾¡æ€§ä»£ç â€ï¼š</strong> ä¸ºäº†é˜²æ­¢åç«¯è¿”å› <code>null</code> æˆ–å­—æ®µç¼ºå¤±ï¼Œå‰ç«¯ä»£ç é‡Œå……æ–¥ç€å¤§é‡çš„å¯é€‰é“¾ï¼ˆOptional Chainingï¼‰å’Œç¡¬ç¼–ç çš„é»˜è®¤å€¼ã€‚è¿™å…¶å®æ˜¯**â€œä»£ç è…çƒ‚â€**çš„å¼€å§‹â€”â€”ä½ æ ¹æœ¬ä¸æ•¢åˆ æ‰è¿™äº›é€»è¾‘ï¼Œå› ä¸ºä½ ä¸çŸ¥é“å“ªå¤©æ¥å£åˆä¼šåå‡ºå¥‡æ€ªçš„æ•°æ®</li>
<li><strong>å¤šç«¯å…¼å®¹å™©æ¢¦ï¼š</strong> åŒæ ·çš„åç«¯æ¥å£ï¼ŒWeb ç«¯éœ€è¦æ˜¾ç¤º <code>YYYY-MM-DD</code>ï¼Œå°ç¨‹åºéœ€è¦æ˜¾ç¤º <code>MMæœˆDDæ—¥</code>ï¼ŒApp éœ€è¦æ˜¾ç¤º <code>3åˆ†é’Ÿå‰</code>ã€‚å¦‚æœè¿™äº›é€»è¾‘å…¨å†™åœ¨å‰ç«¯ï¼Œæ¯å¢åŠ ä¸€ä¸ªç«¯ï¼Œä¸šåŠ¡é€»è¾‘å°±è¦é‡å†™ä¸€éã€‚</li>
</ol>
<p><strong>BFF çš„å‡ºç°ï¼Œå°±æ˜¯ä¸ºäº†åœ¨å‰ç«¯å’Œå¾®æœåŠ¡ä¹‹é—´ï¼ŒåŠ ä¸€å±‚â€œæ•°æ®æ´—æ¶¤æœºâ€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">äºŒã€ BFF çš„ä¸‰å¼ ç‹ç‰Œï¼šèšåˆã€è½¬æ¢ã€é€‚é…</h2>
<p>ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ BFF å±‚ï¼Œåº”è¯¥æ‰¿æ‹…ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒèŒè´£ï¼š</p>
<h3 data-id="heading-2">2.1 æ¥å£èšåˆ (Aggregator)</h3>
<p>å°†åŸæœ¬éœ€è¦å‰ç«¯å‘èµ· 5 æ¬¡çš„ç½‘ç»œè¯·æ±‚ï¼Œåœ¨ BFF å±‚åˆå¹¶ã€‚BFF ä¸åç«¯å¾®æœåŠ¡èµ°çš„æ˜¯å†…ç½‘é€šä¿¡ï¼ˆRPC æˆ–é«˜å¸¦å®½ HTTPï¼‰ï¼Œé€Ÿåº¦è¿œå¿«äºç§»åŠ¨ç«¯å¼±ç½‘ç¯å¢ƒä¸‹çš„å¤šæ¬¡è¯·æ±‚ã€‚</p>
<h3 data-id="heading-3">2.2 æ•°æ®ç˜¦èº«ä¸æ´—æ¶¤ (Formatter)</h3>
<p>åç«¯ç»™çš„å­—æ®µæ˜¯ <code>user_head_img_url_v2_stable</code>ï¼ŒBFF è½¬æ¢æˆ <code>avatar</code>ã€‚åç«¯ç»™äº† 100 ä¸ªå­—æ®µï¼ŒBFF åªåç»™å‰ç«¯æ¸²æŸ“éœ€è¦çš„ 5 ä¸ªã€‚</p>
<h3 data-id="heading-4">2.3 è·¨ç«¯é‡ç”¨ (Adapter)</h3>
<ul>
<li><strong>Web ç«¯ï¼š</strong> è¿”å›å®Œæ•´çš„ HTMLï¼ˆSSRï¼‰æˆ–å¤§è€Œå…¨çš„ JSONã€‚</li>
<li><strong>App ç«¯ï¼š</strong> è¿”å›æè‡´å‹ç¼©çš„äºŒè¿›åˆ¶æ•°æ®æˆ–ç²¾ç®€ JSONã€‚</li>
<li><strong>BFF é€»è¾‘ï¼š</strong> æ ¸å¿ƒä¸šåŠ¡é€»è¾‘åœ¨ BFF å†…éƒ¨å…±äº«ï¼Œæ ¹æ®è¯·æ±‚å¤´è‡ªåŠ¨é€‚é…è¾“å‡ºæ ¼å¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ Serverlessï¼šBFF çš„â€œå®Œç¾å¤–å£³â€</h2>
<p>å¾ˆå¤šå‰ç«¯æ¶æ„å¸ˆä¸æ•¢æ¨è¡Œ BFFï¼Œæ˜¯å› ä¸ºå®³æ€•**â€œè¿ç»´åœ°ç‹±â€**ï¼šè°æ¥é… Nginxï¼ŸæœåŠ¡å™¨æŒ‚äº†è°ä¿®ï¼Ÿå†…å­˜æ³„éœ²äº†æ€ä¹ˆåŠï¼Ÿ</p>
<p><strong>Serverless (æ— æœåŠ¡å™¨æ¶æ„)</strong> çš„å‡ºç°ï¼Œå½»åº•è§£å¼€äº†è¿™ä¸ªå¿ƒç»“ã€‚</p>
<h3 data-id="heading-6">3.1 ä¸ºä»€ä¹ˆæ˜¯ FaaS + BFFï¼Ÿ</h3>
<ul>
<li><strong>å…è¿ç»´ï¼š</strong> å‰ç«¯åªå†™å‡½æ•°ï¼ˆFunctionï¼‰ï¼Œä¸çœ‹æœåŠ¡å™¨ã€‚éƒ¨ç½²ä¸€ä¸ª BFF å°±åƒæäº¤ä¸€æ®µ JS ä»£ç ä¸€æ ·ç®€å•ã€‚</li>
<li><strong>å¼¹æ€§ä¼¸ç¼©ï¼š</strong> åªæœ‰åœ¨æ¥å£è¢«è°ƒç”¨æ—¶æ‰è®¡è´¹ã€‚æ·±å¤œæ²¡äººè®¿é—®æ—¶ï¼Œæˆæœ¬å‡ ä¹ä¸ºé›¶ã€‚</li>
<li><strong>æŒ‰éœ€äº¤ä»˜ï¼š</strong> ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªäº‘å‡½æ•°ï¼ˆSFF, Serverless For Frontendï¼‰ï¼Œè¾¹ç•Œæ¸…æ™°ï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€ æ·±åº¦èåˆï¼šBFF + Serverless çš„è½åœ°æŒ‘æˆ˜</h2>
<p>è™½ç„¶å¬èµ·æ¥å¾ˆç¾ï¼Œä½†åœ¨å®é™…æ¶æ„è½åœ°ä¸­ï¼Œä½ éœ€è¦å¤„ç†ä»¥ä¸‹æ·±æ°´åŒºé—®é¢˜ï¼š</p>
<h3 data-id="heading-8">4.1 å“åº”å»¶è¿Ÿ (Cold Start)</h3>
<p>Serverless å‡½æ•°åœ¨ä¹…æœªè°ƒç”¨åä¼šæœ‰â€œå†·å¯åŠ¨â€æ—¶é—´ã€‚</p>
<ul>
<li><strong>æ¶æ„å¯¹ç­–ï¼š</strong> å¯¹å®æ—¶æ€§è¦æ±‚æé«˜çš„æ¥å£ï¼Œå¼€å¯â€œé¢„çƒ­â€æˆ–â€œé¢„ç•™å®ä¾‹â€ï¼›æˆ–è€…ä½¿ç”¨ Node.js è¿è¡Œæ—¶è¾ƒè½»é‡çº§çš„æ¡†æ¶ï¼ˆå¦‚ Midway.js æˆ– Nitroï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-9">4.2 é“¾è·¯è¿½è¸ª (Tracing)</h3>
<p>å½“é¡µé¢æŠ¥é”™æ—¶ï¼Œé—®é¢˜å¯èƒ½å‡ºåœ¨ï¼šå‰ç«¯ -&gt; BFF -&gt; åç«¯å¾®æœåŠ¡ A -&gt; æ•°æ®åº“ã€‚</p>
<ul>
<li><strong>æ¶æ„å†³ç­–ï¼š</strong> å¿…é¡»å¼•å…¥å…¨é“¾è·¯ Trace IDã€‚åœ¨ BFF å±‚ç”Ÿæˆç»Ÿä¸€çš„ <code>X-Trace-Id</code> è´¯ç©¿å§‹ç»ˆã€‚</li>
</ul>
<h3 data-id="heading-10">4.3 æ¥å£å®šä¹‰å†²çª</h3>
<p>å¦‚æœ BFF æ˜¯å‰ç«¯å†™çš„ï¼Œåç«¯æ”¹äº†å¾®æœåŠ¡æ¥å£ï¼ŒBFF æ€ä¹ˆçŸ¥é“ï¼Ÿ</p>
<ul>
<li><strong>æœ€ä½³å®è·µï¼š</strong> æ¨åŠ¨åç«¯å¯¼å‡º <strong>OpenAPI (Swagger)</strong> æˆ–ä½¿ç”¨ <strong>gRPC</strong>ã€‚BFF å±‚é€šè¿‡è„šæœ¬è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰ï¼Œåˆ©ç”¨ TypeScript åœ¨ç¼–è¯‘æœŸå°±å‘ç°æ¥å£å˜åŠ¨ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">äº”ã€ æ¶æ„å†³ç­–ï¼šé€‰å‹ ROI åˆ†æ</h2>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>æ¶æ„æ”¶ç›Š</mtext><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mtext>ç”¨æˆ·ä½“éªŒæå‡</mtext><mo>+</mo><mtext>å‰ç«¯å¼€å‘æ•ˆç‡</mtext><mo stretchy="false">)</mo></mrow><mtext>è¿ç»´å¤æ‚åº¦çš„å¢åŠ </mtext></mfrac></mrow><annotation encoding="application/x-tex">æ¶æ„æ”¶ç›Š = \frac{(ç”¨æˆ·ä½“éªŒæå‡ + å‰ç«¯å¼€å‘æ•ˆç‡)}{è¿ç»´å¤æ‚åº¦çš„å¢åŠ }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord cjk_fallback">æ¶æ„æ”¶ç›Š</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">è¿ç»´å¤æ‚åº¦çš„å¢åŠ </span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord cjk_fallback mtight">ç”¨æˆ·ä½“éªŒæå‡</span><span class="mbin mtight">+</span><span class="mord cjk_fallback mtight">å‰ç«¯å¼€å‘æ•ˆç‡</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></p>
<p>åœ¨ Serverless åœºæ™¯ä¸‹ï¼Œåˆ†æ¯è¢«å¤§å¹…å‰Šå‡ï¼Œå› æ­¤ BFF å‡ ä¹æˆä¸ºäº†ä¸­å¤§å‹å‰ç«¯é¡¹ç›®çš„<strong>æ ‡é…</strong>ã€‚</p>





























<table><thead><tr><th><strong>æ¨¡å¼</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th><th><strong>å¼€å‘æˆæœ¬</strong></th><th><strong>è¿ç»´éš¾åº¦</strong></th></tr></thead><tbody><tr><td><strong>ä¼ ç»Ÿæ¨¡å¼</strong></td><td>ç®€å•é¡¹ç›®ï¼Œåç«¯æ¥å£å·²ç»å¾ˆå®Œç¾</td><td>ä½</td><td>æä½</td></tr><tr><td><strong>Node.js BFF</strong></td><td>å¤æ‚ä¸šåŠ¡ï¼Œå‰ç«¯å›¢é˜Ÿæœ‰åç«¯èƒŒæ™¯</td><td>ä¸­</td><td>é«˜ (éœ€ç®¡é›†ç¾¤)</td></tr><tr><td><strong>Serverless BFF</strong></td><td><strong>ä¸»æµæ¨è</strong>ï¼Œè¿½æ±‚æè‡´å¼€å‘æ•ˆç‡</td><td><strong>ä½ (åªå†™å‡½æ•°)</strong></td><td><strong>æä½ (æ‰˜ç®¡)</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">ç»“è¯­ï¼šä»â€œç”»é¥¼â€åˆ°â€œé€ é¥¼â€</h2>
<p>BFF å’Œ Serverless çš„ç»“åˆï¼Œæ˜¯å‰ç«¯æ¶æ„å¸ˆ**ä»â€œUI å®ç°è€…â€å‘â€œå…¨é“¾è·¯è®¾è®¡è€…â€**è·¨è¶Šçš„å…³é”®ä¸€æ­¥ã€‚å½“ä½ ä¸å†å—é™äºåç«¯æ¥å£çš„å½¢çŠ¶ï¼Œä½ æ‰èƒ½çœŸæ­£ä»å…¨å±€è§†è§’å»ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå®ç°PDFåˆå¹¶ã€PDFæ‹†åˆ†ã€PDFåŠ æ°´å°ç­‰PDFæ–‡æ¡£å¤„ç†çš„æŠ€æœ¯æ–¹æ¡ˆä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7605042125298728994</link>    <guid>https://juejin.cn/post/7605042125298728994</guid>    <pubDate>2026-02-10T14:03:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605042125298728994" data-draft-id="7604881286038143028" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå®ç°PDFåˆå¹¶ã€PDFæ‹†åˆ†ã€PDFåŠ æ°´å°ç­‰PDFæ–‡æ¡£å¤„ç†çš„æŠ€æœ¯æ–¹æ¡ˆä¸å®è·µ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-10T14:03:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·3891775626958"/> <meta itemprop="url" content="https://juejin.cn/user/3435329307550872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå®ç°PDFåˆå¹¶ã€PDFæ‹†åˆ†ã€PDFåŠ æ°´å°ç­‰PDFæ–‡æ¡£å¤„ç†çš„æŠ€æœ¯æ–¹æ¡ˆä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3435329307550872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·3891775626958
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T14:03:07.000Z" title="Tue Feb 10 2026 14:03:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaå®ç°PDFæ‰¹é‡å¤„ç†ï¼šåˆå¹¶ã€æ‹†åˆ†ã€åŠ æ°´å°çš„æŠ€æœ¯æ–¹æ¡ˆä¸å®è·µ</h2>
<blockquote>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒPDFæ–‡æ¡£å¤„ç†æ˜¯ä¸€ä¸ªé«˜é¢‘éœ€æ±‚ã€‚æ— è®ºæ˜¯åˆåŒç®¡ç†ç³»ç»Ÿéœ€è¦åˆå¹¶å¤šä»½PDFï¼Œè¿˜æ˜¯æŠ¥è¡¨ç³»ç»Ÿéœ€è¦æŒ‰é¡µæ‹†åˆ†ï¼Œäº¦æˆ–æ˜¯ç»™æœºå¯†æ–‡æ¡£æ·»åŠ æ°´å°ï¼Œéƒ½éœ€è¦ä¸€å¥—å¯é çš„PDFå¤„ç†æ–¹æ¡ˆã€‚æœ¬æ–‡å°†åˆ†äº«åŸºäºJavaæŠ€æœ¯æ ˆå®ç°PDFæ‰¹é‡å¤„ç†çš„æ ¸å¿ƒæ€è·¯ä¸ä»£ç å®è·µã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€æŠ€æœ¯é€‰å‹</h3>
<p>Javaç”Ÿæ€ä¸­å¤„ç†PDFçš„åº“ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<p>| åº“å | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |</p>
<p>|------|------|----------|</p>
<p>| Apache PDFBox | å¼€æºå…è´¹ï¼ŒåŠŸèƒ½å…¨é¢ | åˆå¹¶ã€æ‹†åˆ†ã€æ°´å°ã€æ–‡æœ¬æå– |</p>
<p>| iText | åŠŸèƒ½å¼ºå¤§ï¼Œå•†ç”¨éœ€æˆæƒ | å¤æ‚PDFç”Ÿæˆã€è¡¨å•å¤„ç† |</p>
<p>| OpenPDF | iTextçš„å¼€æºåˆ†æ”¯ | è½»é‡çº§PDFç”Ÿæˆ |</p>
<p>ç»¼åˆè€ƒè™‘å¼€æºåè®®å’ŒåŠŸèƒ½è¦†ç›–åº¦ï¼Œ<strong>Apache PDFBox</strong> æ˜¯å¤§å¤šæ•°é¡¹ç›®çš„é¦–é€‰ã€‚</p>
<h3 data-id="heading-2">äºŒã€Mavenä¾èµ–é…ç½®</h3>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.pdfbox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pdfbox<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

</code></pre>
<h3 data-id="heading-3">ä¸‰ã€PDFåˆå¹¶å®ç°</h3>
<h4 data-id="heading-4">3.1 æ ¸å¿ƒæ€è·¯</h4>
<p>PDFåˆå¹¶çš„æœ¬è´¨æ˜¯å°†å¤šä¸ªPDFæ–‡æ¡£çš„é¡µé¢æŒ‰é¡ºåºè¿½åŠ åˆ°ä¸€ä¸ªæ–°æ–‡æ¡£ä¸­ã€‚PDFBoxæä¾›äº†<code>PDFMergerUtility</code>å·¥å…·ç±»æ¥ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-5">3.2 ä»£ç å®ç°</h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> org.apache.pdfbox.multipdf.PDFMergerUtility;

<span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">import</span> java.util.List;

  


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PdfMergeService</span> {

  


<span class="hljs-comment">/**

* åˆå¹¶å¤šä¸ªPDFæ–‡ä»¶

* <span class="hljs-doctag">@param</span> inputStreams PDFæ–‡ä»¶è¾“å…¥æµåˆ—è¡¨

* <span class="hljs-doctag">@param</span> outputPath è¾“å‡ºæ–‡ä»¶è·¯å¾„

*/</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">mergePdf</span><span class="hljs-params">(List&lt;InputStream&gt; inputStreams, String outputPath)</span>

<span class="hljs-keyword">throws</span> IOException {

<span class="hljs-type">PDFMergerUtility</span> <span class="hljs-variable">merger</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PDFMergerUtility</span>();

merger.setDestinationFileName(outputPath);

  


<span class="hljs-keyword">for</span> (InputStream is : inputStreams) {

merger.addSource(is);

}

  


<span class="hljs-comment">// æ‰§è¡Œåˆå¹¶ï¼ŒMemoryUsageSettingå¯æ§åˆ¶å†…å­˜ä½¿ç”¨</span>

merger.mergeDocuments(

org.apache.pdfbox.io.MemoryUsageSetting.setupMainMemoryOnly()

);

}

}

</code></pre>
<h4 data-id="heading-6">3.3 æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>
<p><strong>å†…å­˜ç®¡ç†</strong>ï¼šå¤„ç†å¤§æ–‡ä»¶æ—¶å»ºè®®ä½¿ç”¨<code>setupTempFileOnly()</code>å°†ä¸´æ—¶æ•°æ®å†™å…¥ç£ç›˜ï¼Œé¿å…OOM</p>
</li>
<li>
<p><strong>æ–‡ä»¶é¡ºåº</strong>ï¼šåˆå¹¶é¡ºåºå–å†³äº<code>addSource</code>çš„è°ƒç”¨é¡ºåºï¼Œå‰ç«¯å¯é€šè¿‡æ‹–æ‹½æ’åºæ¥æ§åˆ¶</p>
</li>
<li>
<p><strong>ä¹¦ç­¾å¤„ç†</strong>ï¼šåˆå¹¶ååŸæœ‰ä¹¦ç­¾å¯èƒ½ä¸¢å¤±ï¼Œå¦‚éœ€ä¿ç•™éœ€é¢å¤–å¤„ç†<code>PDDocumentOutline</code></p>
</li>
</ul>
<h3 data-id="heading-7">å››ã€PDFæ‹†åˆ†å®ç°</h3>
<h4 data-id="heading-8">4.1 æŒ‰é¡µç èŒƒå›´æ‹†åˆ†</h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> org.apache.pdfbox.multipdf.Splitter;

<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.PDDocument;

  


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PdfSplitService</span> {

  


<span class="hljs-comment">/**

* æŒ‰é¡µç èŒƒå›´æ‹†åˆ†PDF

* <span class="hljs-doctag">@param</span> inputStream æºPDFè¾“å…¥æµ

* <span class="hljs-doctag">@param</span> startPage èµ·å§‹é¡µï¼ˆä»1å¼€å§‹ï¼‰

* <span class="hljs-doctag">@param</span> endPage ç»“æŸé¡µ

*/</span>

<span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] splitByPageRange(InputStream inputStream,

<span class="hljs-type">int</span> startPage, <span class="hljs-type">int</span> endPage) <span class="hljs-keyword">throws</span> IOException {

  


<span class="hljs-keyword">try</span> (<span class="hljs-type">PDDocument</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> PDDocument.load(inputStream);

<span class="hljs-type">PDDocument</span> <span class="hljs-variable">newDoc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PDDocument</span>()) {

  


<span class="hljs-type">int</span> <span class="hljs-variable">totalPages</span> <span class="hljs-operator">=</span> document.getNumberOfPages();

<span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>

startPage = Math.max(<span class="hljs-number">1</span>, startPage);

endPage = Math.min(totalPages, endPage);

  


<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> startPage - <span class="hljs-number">1</span>; i &lt; endPage; i++) {

newDoc.addPage(document.getPage(i));

}

  


<span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">baos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();

newDoc.save(baos);

<span class="hljs-keyword">return</span> baos.toByteArray();

}

}

}

</code></pre>
<h4 data-id="heading-9">4.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<p>å¯¹äºé¡µæ•°å¾ˆå¤šçš„PDFï¼ˆå¦‚ä¸Šåƒé¡µï¼‰ï¼Œé€é¡µæ“ä½œå¯èƒ½è¾ƒæ…¢ã€‚å¯ä»¥è€ƒè™‘ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨<code>Splitter</code>ç±»çš„<code>setSplitAtPage()</code>æ–¹æ³•æŒ‰å›ºå®šé¡µæ•°æ‰¹é‡æ‹†åˆ†</p>
</li>
<li>
<p>å¯¹äºä»…éœ€æå–å°‘é‡é¡µé¢çš„åœºæ™¯ï¼Œç›´æ¥æ“ä½œé¡µé¢æ ‘æ¯”ä½¿ç”¨Splitteræ›´é«˜æ•ˆ</p>
</li>
</ul>
<h3 data-id="heading-10">äº”ã€PDFåŠ æ°´å°å®ç°</h3>
<h4 data-id="heading-11">5.1 æ–‡å­—æ°´å°æ ¸å¿ƒä»£ç </h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.*;

<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.font.PDType1Font;

<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.graphics.state.PDExtendedGraphicsState;

<span class="hljs-keyword">import</span> org.apache.pdfbox.util.Matrix;

  


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PdfWatermarkService</span> {

  


<span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] addTextWatermark(InputStream input, String text,

<span class="hljs-type">float</span> opacity, <span class="hljs-type">float</span> rotation, <span class="hljs-type">float</span> fontSize) <span class="hljs-keyword">throws</span> IOException {

  


<span class="hljs-keyword">try</span> (<span class="hljs-type">PDDocument</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> PDDocument.load(input)) {

<span class="hljs-comment">// éå†æ¯ä¸€é¡µæ·»åŠ æ°´å°</span>

<span class="hljs-keyword">for</span> (PDPage page : document.getPages()) {

<span class="hljs-type">PDPageContentStream</span> <span class="hljs-variable">cs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PDPageContentStream</span>(

document, page,

PDPageContentStream.AppendMode.APPEND, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>

);

  


<span class="hljs-comment">// è®¾ç½®é€æ˜åº¦</span>

<span class="hljs-type">PDExtendedGraphicsState</span> <span class="hljs-variable">gs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PDExtendedGraphicsState</span>();

gs.setNonStrokingAlphaConstant(opacity);

cs.setGraphicsStateParameters(gs);

  


<span class="hljs-comment">// è®¾ç½®å­—ä½“å’Œé¢œè‰²</span>

cs.setFont(PDType1Font.HELVETICA_BOLD, fontSize);

cs.setNonStrokingColor(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>); <span class="hljs-comment">// æµ…ç°è‰²</span>

  


<span class="hljs-comment">// è®¡ç®—é¡µé¢ä¸­å¿ƒä½ç½®</span>

<span class="hljs-type">float</span> <span class="hljs-variable">pageWidth</span> <span class="hljs-operator">=</span> page.getMediaBox().getWidth();

<span class="hljs-type">float</span> <span class="hljs-variable">pageHeight</span> <span class="hljs-operator">=</span> page.getMediaBox().getHeight();

<span class="hljs-type">float</span> <span class="hljs-variable">cx</span> <span class="hljs-operator">=</span> pageWidth / <span class="hljs-number">2</span>;

<span class="hljs-type">float</span> <span class="hljs-variable">cy</span> <span class="hljs-operator">=</span> pageHeight / <span class="hljs-number">2</span>;

  


<span class="hljs-comment">// æ—‹è½¬å˜æ¢</span>

cs.beginText();

<span class="hljs-type">Matrix</span> <span class="hljs-variable">matrix</span> <span class="hljs-operator">=</span> Matrix.getRotateInstance(

Math.toRadians(rotation), cx, cy

);

cs.setTextMatrix(matrix);

cs.showText(text);

cs.endText();

cs.close();

}

  


<span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">baos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();

document.save(baos);

<span class="hljs-keyword">return</span> baos.toByteArray();

}

}

}

</code></pre>
<h4 data-id="heading-12">5.2 ä¸­æ–‡æ°´å°çš„å‘</h4>
<p>PDFBoxé»˜è®¤çš„<code>PDType1Font</code>ä¸æ”¯æŒä¸­æ–‡å­—ç¬¦ï¼Œç›´æ¥ä½¿ç”¨ä¼šå¯¼è‡´ä¹±ç æˆ–æŠ¥é”™ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// åŠ è½½ç³»ç»Ÿä¸­æ–‡å­—ä½“</span>

<span class="hljs-type">PDType0Font</span> <span class="hljs-variable">chineseFont</span> <span class="hljs-operator">=</span> PDType0Font.load(document,

<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"/usr/share/fonts/wqy-microhei/wqy-microhei.ttc"</span>), <span class="hljs-number">0</span>);

cs.setFont(chineseFont, fontSize);

</code></pre>
<p><strong>æœåŠ¡å™¨éƒ¨ç½²æ—¶éœ€ç¡®ä¿å®‰è£…äº†ä¸­æ–‡å­—ä½“</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># CentOS/RHEL</span>

sudo yum install -y wqy-microhei-fonts

  


<span class="hljs-comment"># Ubuntu/Debian</span>

sudo apt-get install -y fonts-wqy-microhei

</code></pre>
<h3 data-id="heading-13">å…­ã€å°è£…ä¸ºREST API</h3>
<p>åœ¨Spring Booté¡¹ç›®ä¸­ï¼Œå¯ä»¥å°†ä¸Šè¿°åŠŸèƒ½å°è£…ä¸ºç»Ÿä¸€çš„RESTæ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@RestController</span>

<span class="hljs-meta">@RequestMapping("/api/document/pdf")</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PdfController</span> {

  


<span class="hljs-meta">@PostMapping("/merge")</span>

<span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; merge(

<span class="hljs-meta">@RequestParam("files")</span> MultipartFile[] files) {

<span class="hljs-comment">// è°ƒç”¨åˆå¹¶æœåŠ¡</span>

}

  


<span class="hljs-meta">@PostMapping("/split")</span>

<span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; split(

<span class="hljs-meta">@RequestParam("file")</span> MultipartFile file,

<span class="hljs-meta">@RequestParam("startPage")</span> <span class="hljs-type">int</span> startPage,

<span class="hljs-meta">@RequestParam("endPage")</span> <span class="hljs-type">int</span> endPage) {

<span class="hljs-comment">// è°ƒç”¨æ‹†åˆ†æœåŠ¡</span>

}

  


<span class="hljs-meta">@PostMapping("/watermark")</span>

<span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; watermark(

<span class="hljs-meta">@RequestParam("file")</span> MultipartFile file,

<span class="hljs-meta">@RequestParam("text")</span> String text,

<span class="hljs-meta">@RequestParam(defaultValue = "0.5")</span> <span class="hljs-type">float</span> opacity) {

<span class="hljs-comment">// è°ƒç”¨æ°´å°æœåŠ¡</span>

}

}

</code></pre>
<h3 data-id="heading-14">ä¸ƒã€å®é™…æ•ˆæœ</h3>
<p>å¦‚æœä½ ä¸æƒ³è‡ªå·±æ­å»ºæœåŠ¡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç°æˆçš„åœ¨çº¿å·¥å…·æ¥å¤„ç†PDFã€‚æ¯”å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2F5555api.com" target="_blank" title="https://5555api.com" ref="nofollow noopener noreferrer">è½»è¯­APIå¼€æ”¾å¹³å°</a> æä¾›äº†å…è´¹çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2F5555api.com%2Ftools%2Fpdf-processor.html" target="_blank" title="https://5555api.com/tools/pdf-processor.html" ref="nofollow noopener noreferrer">PDFåœ¨çº¿å¤„ç†å·¥å…·</a>ï¼Œæ”¯æŒåˆå¹¶ã€æ‹†åˆ†ã€åŠ æ°´å°ã€è½¬Wordã€è½¬å›¾ç‰‡ç­‰åŠŸèƒ½ï¼Œåº•å±‚å°±æ˜¯åŸºäºä¸Šè¿°æŠ€æœ¯æ–¹æ¡ˆå®ç°çš„ã€‚</p>
<p>å¯¹äºéœ€è¦æ‰¹é‡å¤„ç†çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡APIæ¥å£é›†æˆåˆ°è‡ªå·±çš„ç³»ç»Ÿä¸­ï¼Œçœå»é‡å¤é€ è½®å­çš„æˆæœ¬ã€‚</p>
<h3 data-id="heading-15">å…«ã€æ€»ç»“</h3>
<p>| åŠŸèƒ½ | æ ¸å¿ƒç±»/æ–¹æ³• | éš¾ç‚¹ |</p>
<p>|------|------------|------|</p>
<p>| PDFåˆå¹¶ | PDFMergerUtility | å¤§æ–‡ä»¶å†…å­˜ç®¡ç† |</p>
<p>| PDFæ‹†åˆ† | PDDocument.getPage() | é¡µç è¾¹ç•Œæ ¡éªŒ |</p>
<p>| PDFæ°´å° | PDPageContentStream | ä¸­æ–‡å­—ä½“æ”¯æŒ |</p>
<p>PDFå¤„ç†çœ‹ä¼¼ç®€å•ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦å…³æ³¨å†…å­˜æ§åˆ¶ã€å­—ä½“å…¼å®¹ã€å¹¶å‘å¤„ç†ç­‰é—®é¢˜ã€‚å¸Œæœ›æœ¬æ–‡çš„å®è·µç»éªŒèƒ½å¸®åŠ©ä½ å°‘è¸©ä¸€äº›å‘ã€‚</p>
<hr/>
<p><em>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ã€‚æœ‰é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†™ç»™ JavaScript åˆå­¦è€…çš„ React å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7604846849464320052</link>    <guid>https://juejin.cn/post/7604846849464320052</guid>    <pubDate>2026-02-10T10:52:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604846849464320052" data-draft-id="7604846849464303668" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†™ç»™ JavaScript åˆå­¦è€…çš„ React å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-02-10T10:52:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¼šæ•²ä»£ç 1"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†™ç»™ JavaScript åˆå­¦è€…çš„ React å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¼šæ•²ä»£ç 1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T10:52:20.000Z" title="Tue Feb 10 2026 10:52:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™ç»™ JavaScript åˆå­¦è€…çš„ React å®Œå…¨æŒ‡å—</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šä»é›¶å¼€å§‹ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ React</h3>
<p>å¦‚æœä½ æ˜¯ JavaScript åˆå­¦è€…ï¼Œè§‰å¾— React å¾ˆéš¾æ‡‚ï¼Œåˆ«æ‹…å¿ƒï¼æˆ‘æ›¾ç»ä¹Ÿæ˜¯ä»é›¶å¼€å§‹å­¦ä¹ çš„ã€‚ä»Šå¤©ï¼Œæˆ‘ç”¨æœ€ç®€å•çš„æ–¹å¼ï¼Œç»“åˆæˆ‘è‡ªå·±å†™çš„ä»£ç ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥ç†è§£ React çš„æ ¸å¿ƒæ¦‚å¿µã€‚ä¿è¯æ¯ä¸ªæ¦‚å¿µéƒ½æœ‰ä»£ç ç¤ºä¾‹ï¼Œè€Œä¸”éƒ½æ˜¯æˆ‘è‡ªå·±å­¦ä¹ æ—¶å†™çš„çœŸå®ä»£ç ï¼</p>
<h3 data-id="heading-2">ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯ JSXï¼Ÿæ¯” HTML è¿˜ç®€å•çš„è¯­æ³•</h3>
<h4 data-id="heading-3">1.1 JSX å°±åƒåœ¨ JavaScript é‡Œå†™ HTML</h4>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å¯ä»¥åœ¨ JavaScript æ–‡ä»¶ä¸­ç›´æ¥å†™ HTMLï¼Œè¿™å°±æ˜¯ JSXï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çœ‹çœ‹æˆ‘å†™çš„ä»£ç ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒ HTMLï¼Ÿ</span>
<span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>JSX æ˜¯React ä¸­ç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„è¯­æ³•æ‰©å±•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
</code></pre>
<p><strong>ç®€å•ç†è§£</strong>ï¼šJSX å°±æ˜¯åœ¨ JavaScript é‡Œé¢å†™ HTML æ ‡ç­¾ã€‚</p>
<h4 data-id="heading-4">1.2 ä¸ºä»€ä¹ˆè¦ç”¨ JSXï¼Ÿä¸€ä¸ªå¯¹æ¯”ä½ å°±æ‡‚äº†</h4>
<h5 data-id="heading-5">ä¼ ç»Ÿæ–¹å¼ï¼ˆå¾ˆå¤æ‚ï¼‰ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸ç”¨ JSXï¼Œåˆ›å»ºå…ƒç´ éœ€è¦è¿™æ ·ï¼š</span>
<span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'h2'</span>)
element.<span class="hljs-property">textContent</span> = <span class="hljs-string">'Hello World'</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(element)
</code></pre>
<h5 data-id="heading-6">ä½¿ç”¨ JSXï¼ˆå¾ˆç®€å•ï¼‰ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ JSXï¼Œç›´æ¥å†™ï¼š</span>
<span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
</code></pre>
<p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼ŸJSX è®©åˆ›å»ºé¡µé¢å…ƒç´ å˜å¾—è·Ÿå†™ HTML ä¸€æ ·ç®€å•ï¼</p>
<h4 data-id="heading-7">1.3 JSX çš„å‡ ä¸ªé‡è¦è§„åˆ™</h4>
<h5 data-id="heading-8">è§„åˆ™1ï¼šæœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªæ ‡ç­¾</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯å†™æ³•ï¼ˆå¤šä¸ªå¹¶åˆ—æ ‡ç­¾ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Wrong</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// âœ… æ­£ç¡®å†™æ³•ï¼ˆç”¨ä¸€ä¸ªæ ‡ç­¾åŒ…è£¹èµ·æ¥ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Right</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  {/* è¿™ä¸ª div å°±åƒä¸€ä¸ªå¤§ç›’å­ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h5 data-id="heading-9">è§„åˆ™2ï¼šç”¨ className ä»£æ›¿ class</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯å†™æ³•</span>
&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"title"</span>&gt;<span class="hljs-title class_">Hello</span>&lt;/div&gt;

<span class="hljs-comment">// âœ… æ­£ç¡®å†™æ³•</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ</strong>ï¼šå› ä¸º <code>class</code> åœ¨ JavaScript ä¸­æ˜¯å®šä¹‰ç±»çš„å…³é”®å­—ï¼Œä¸ºäº†é¿å…å†²çªï¼ŒReact ç”¨ <code>className</code>ã€‚</p>
<h5 data-id="heading-10">è§„åˆ™3ï¼šJavaScript è¡¨è¾¾å¼è¦æ”¾åœ¨ {} é‡Œ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'å°æ˜'</span>

<span class="hljs-comment">// åœ¨ JSX ä¸­ä½¿ç”¨ JavaScript å˜é‡</span>
<span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½ï¼Œ{name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
<span class="hljs-comment">// æ¸²æŸ“ç»“æœï¼š&lt;h1&gt;ä½ å¥½ï¼Œå°æ˜&lt;/h1&gt;</span>
</code></pre>
<h3 data-id="heading-11">ç¬¬äºŒç« ï¼šReact ç»„ä»¶ - å°±åƒæ­ç§¯æœ¨ä¸€æ ·ç®€å•</h3>
<h4 data-id="heading-12">2.1 ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿå°±æ˜¯ä¸€ä¸ªå‡½æ•°</h4>
<p>åœ¨ React ä¸­ï¼Œ<strong>ç»„ä»¶å°±æ˜¯ä¸€ä¸ªè¿”å› JSX çš„å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæœ€ç®€å•çš„ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Welcome</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿å­¦ä¹  Reactï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}

<span class="hljs-comment">// ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼ˆå°±åƒä½¿ç”¨ HTML æ ‡ç­¾ä¸€æ ·ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Welcome</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-13">2.2 ä¸ºä»€ä¹ˆè¦ç”¨ç»„ä»¶ï¼Ÿçœ‹çœ‹æˆ‘çš„æ˜é‡‘é¦–é¡µä¾‹å­</h4>
<p>æˆ‘æ¨¡ä»¿æ˜é‡‘é¦–é¡µå†™äº†ä¸€ä¸ªä¾‹å­ï¼Œç”¨ç»„ä»¶åŒ–çš„æ€æƒ³æ¥æ„å»ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æˆ‘æŠŠä¸€ä¸ªå®Œæ•´çš„é¡µé¢æ‹†æˆäº†å‡ ä¸ªå°éƒ¨åˆ†ï¼š</span>

<span class="hljs-comment">// 1. å¤´éƒ¨ç»„ä»¶ - ä¸“é—¨è´Ÿè´£æ˜¾ç¤ºç½‘ç«™æ ‡é¢˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">JuejinHeader</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ˜é‡‘é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// 2. æ–‡ç« åˆ—è¡¨ç»„ä»¶ - ä¸“é—¨è´Ÿè´£æ˜¾ç¤ºæ–‡ç« </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Articles</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ–‡ç« åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>React å…¥é—¨æ•™ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JavaScript åŸºç¡€<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// 3. ç­¾åˆ°ç»„ä»¶ - ä¸“é—¨è´Ÿè´£ç­¾åˆ°åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Checkin</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¯æ—¥ç­¾åˆ°<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»ç­¾åˆ°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// 4. ä¸»ç»„ä»¶ - æŠŠæ‰€æœ‰å°ç»„ä»¶ç»„åˆèµ·æ¥</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* ä½¿ç”¨å¤´éƒ¨ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">JuejinHeader</span> /&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        {/* ä½¿ç”¨æ–‡ç« åˆ—è¡¨ç»„ä»¶ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Articles</span> /&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span>
          {/* ä½¿ç”¨ç­¾åˆ°ç»„ä»¶ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Checkin</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>ç»„ä»¶åŒ–çš„å¥½å¤„</strong>ï¼š</p>
<ol>
<li><strong>å¯å¤ç”¨</strong>ï¼š<code>Checkin</code> ç»„ä»¶å¯ä»¥åœ¨å…¶ä»–é¡µé¢ä½¿ç”¨</li>
<li><strong>å¥½ç»´æŠ¤</strong>ï¼šä¿®æ”¹ç­¾åˆ°åŠŸèƒ½æ—¶ï¼Œåªéœ€è¦æ”¹ <code>Checkin</code> ç»„ä»¶</li>
<li><strong>åˆ†å·¥æ˜ç¡®</strong>ï¼šä¸åŒäººå¯ä»¥è´Ÿè´£ä¸åŒç»„ä»¶</li>
</ol>
<h4 data-id="heading-14">2.3 ç»„ä»¶å‘½åçš„çº¦å®š</h4>
<p>åœ¨ React ä¸­ï¼Œ<strong>ç»„ä»¶åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šå¤§å†™å­—æ¯å¼€å¤´</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šå°å†™å­—æ¯å¼€å¤´ï¼ˆä¼šè¢«è®¤ä¸ºæ˜¯ HTML æ ‡ç­¾ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mycomponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-15">ç¬¬ä¸‰ç« ï¼šuseState - React çš„"è®°å¿†"åŠŸèƒ½</h3>
<h4 data-id="heading-16">3.1 ä¸ºä»€ä¹ˆéœ€è¦çŠ¶æ€ï¼Ÿ</h4>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„ç½‘é¡µéœ€è¦è®°ä½ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ç”¨æˆ·æ˜¯å¦ç™»å½•</li>
<li>è®¡æ•°å™¨å½“å‰çš„å€¼</li>
<li>å¾…åŠäº‹é¡¹åˆ—è¡¨</li>
</ul>
<p>åœ¨ React ä¸­ï¼Œè¿™äº›"è®°å¿†"å°±æ˜¯é€šè¿‡ <strong>çŠ¶æ€ï¼ˆstateï¼‰</strong> å®ç°çš„ã€‚</p>
<h4 data-id="heading-17">3.2 useState åŸºæœ¬ç”¨æ³•</h4>
<p>è®©æˆ‘ä»¬ä¸€æ­¥æ­¥ç†è§£ï¼Œçœ‹æˆ‘å†™çš„ç™»å½•çŠ¶æ€ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥ useState</span>
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ useState</span>
  <span class="hljs-comment">// å®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ä¸¤ä¸ªä¸œè¥¿ï¼š</span>
  <span class="hljs-comment">// 1. å½“å‰çŠ¶æ€å€¼ï¼ˆisLoggedInï¼‰</span>
  <span class="hljs-comment">// 2. ä¿®æ”¹çŠ¶æ€çš„å‡½æ•°ï¼ˆsetIsLoggedInï¼‰</span>
  <span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  <span class="hljs-comment">// â†‘ åˆå§‹å€¼è®¾ä¸º falseï¼Œè¡¨ç¤ºæœªç™»å½•</span>
  
  <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨çŠ¶æ€</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* æ ¹æ®ç™»å½•çŠ¶æ€æ˜¾ç¤ºä¸åŒæ–‡å­— */}
      {isLoggedIn ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      
      {/* ç‚¹å‡»æŒ‰é’®æ”¹å˜çŠ¶æ€ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsLoggedIn(!isLoggedIn)}&gt;
        {isLoggedIn ? 'é€€å‡ºç™»å½•' : 'ç™»å½•'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>å½¢è±¡ç†è§£</strong>ï¼š</p>
<ul>
<li><code>isLoggedIn</code> å°±åƒæ˜¯ä¸€ä¸ª"è®°å¿†ç›’å­"ï¼Œé‡Œé¢è£…ç€ <code>true</code> æˆ– <code>false</code></li>
<li><code>setIsLoggedIn</code> å°±åƒæ˜¯æ”¹å˜ç›’å­å†…å®¹çš„"é¥æ§å™¨"</li>
<li>å½“ç›’å­é‡Œçš„å†…å®¹æ”¹å˜æ—¶ï¼Œé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–°</li>
</ul>
<h4 data-id="heading-18">3.3 å¤šä¸ªçŠ¶æ€çš„ç®¡ç†</h4>
<p>åœ¨æˆ‘çš„ä»£ç ä¸­ï¼Œæˆ‘ç®¡ç†äº†å¤šä¸ªçŠ¶æ€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// 1. å­—ç¬¦ä¸²çŠ¶æ€ - åå­—</span>
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'vue'</span>)
  <span class="hljs-comment">// name åˆå§‹å€¼æ˜¯ 'vue'</span>
  
  <span class="hljs-comment">// 2. æ•°ç»„çŠ¶æ€ - å¾…åŠäº‹é¡¹åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>([
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ react'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ vue'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
  ])
  
  <span class="hljs-comment">// 3. å¸ƒå°”çŠ¶æ€ - æ˜¯å¦ç™»å½•</span>
  <span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-comment">// æ¯ä¸ªçŠ¶æ€éƒ½æœ‰è‡ªå·±çš„"è®°å¿†ç›’å­"å’Œ"é¥æ§å™¨"</span>
  <span class="hljs-comment">// å®ƒä»¬ä¹‹é—´äº’ä¸å¹²æ‰°</span>
}
</code></pre>
<h4 data-id="heading-19">3.4 è‡ªåŠ¨æ›´æ–°çš„é­”æ³•</h4>
<p>çœ‹çœ‹æˆ‘è¿™ä¸ªæœ‰è¶£çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'vue'</span>)
  
  <span class="hljs-comment">// 3ç§’åè‡ªåŠ¨æ”¹å˜åå­—</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setName</span>(<span class="hljs-string">'react'</span>)  <span class="hljs-comment">// ä» 'vue' å˜æˆ 'react'</span>
  }, <span class="hljs-number">3000</span>)
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello {name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}
</code></pre>
<p><strong>ä¼šå‘ç”Ÿä»€ä¹ˆ</strong>ï¼š</p>
<ol>
<li>é¡µé¢ç¬¬ä¸€æ¬¡æ˜¾ç¤ºï¼šHello vue</li>
<li>3ç§’åï¼Œè‡ªåŠ¨å˜æˆï¼šHello react</li>
<li><strong>ä¸éœ€è¦æ‰‹åŠ¨åˆ·æ–°é¡µé¢</strong>ï¼ŒReact ä¼šè‡ªåŠ¨æ›´æ–°ï¼</li>
</ol>
<p>è¿™å°±æ˜¯ React æœ€ç¥å¥‡çš„åœ°æ–¹ï¼š<strong>çŠ¶æ€æ”¹å˜ï¼ŒUI è‡ªåŠ¨æ›´æ–°</strong>ã€‚</p>
<h3 data-id="heading-20">ç¬¬å››ç« ï¼šæ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“</h3>
<h4 data-id="heading-21">4.1 æ¡ä»¶æ¸²æŸ“ - åƒ if-else ä¸€æ ·ç®€å•</h4>
<p>åœ¨æˆ‘çš„å¾…åŠäº‹é¡¹ä»£ç ä¸­ï¼Œæˆ‘ç”¨äº†æ¡ä»¶æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">TodoList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>([
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ react'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ vue'</span> }
  ])
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* æ¡ä»¶æ¸²æŸ“ï¼šå¦‚æœ todos æœ‰å†…å®¹å°±æ˜¾ç¤ºåˆ—è¡¨ï¼Œå¦åˆ™æ˜¾ç¤ºæç¤º */}
      {
        todos.length &gt; 0 ? (
          // æ¡ä»¶æˆç«‹æ—¶æ˜¾ç¤ºçš„å†…å®¹
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
            {todos.map(todo =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        ) : (
          // æ¡ä»¶ä¸æˆç«‹æ—¶æ˜¾ç¤ºçš„å†…å®¹
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æš‚æ— å¾…åŠäº‹é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>ç®€å•ç†è§£</strong>ï¼š</p>
<ul>
<li><code>todos.length &gt; 0 ? A : B</code> å°±åƒ if-else è¯­å¥</li>
<li>å¦‚æœ todo æ•°é‡ &gt; 0ï¼Œæ˜¾ç¤ºåˆ—è¡¨ï¼ˆAï¼‰</li>
<li>å¦åˆ™ï¼Œæ˜¾ç¤º"æš‚æ— å¾…åŠäº‹é¡¹"ï¼ˆBï¼‰</li>
</ul>
<h4 data-id="heading-22">4.2 åˆ—è¡¨æ¸²æŸ“ - ç”¨ map æ˜¾ç¤ºæ•°ç»„å†…å®¹</h4>
<p>åˆ—è¡¨æ¸²æŸ“éå¸¸å¸¸ç”¨ï¼Œçœ‹æˆ‘çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> todos = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ react'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ vue'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ JavaScript'</span> }
]

<span class="hljs-keyword">function</span> <span class="hljs-title function_">TodoList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {
        // ç”¨ map æŠŠæ•°ç»„å˜æˆ JSX å…ƒç´ 
        todos.map(item =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// æ¸²æŸ“ç»“æœï¼š</span>
<span class="hljs-comment">// &lt;ul&gt;</span>
<span class="hljs-comment">//   &lt;li&gt;å­¦ä¹ react&lt;/li&gt;</span>
<span class="hljs-comment">//   &lt;li&gt;å­¦ä¹ vue&lt;/li&gt;</span>
<span class="hljs-comment">//   &lt;li&gt;å­¦ä¹ JavaScript&lt;/li&gt;</span>
<span class="hljs-comment">// &lt;/ul&gt;</span>
</code></pre>
<p><strong>é‡è¦æç¤º</strong>ï¼šåˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦ <code>key</code> å±æ€§</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šæœ‰ key</span>
&lt;li key={item.<span class="hljs-property">id</span>}&gt;{item.<span class="hljs-property">title</span>}&lt;/li&gt;

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ²¡æœ‰ keyï¼ˆReact ä¼šè­¦å‘Šï¼‰</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{item.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ key</strong>ï¼š</p>
<ol>
<li>å¸®åŠ© React è¯†åˆ«å“ªäº›å…ƒç´ å˜åŒ–äº†</li>
<li>æé«˜åˆ—è¡¨æ›´æ–°çš„æ€§èƒ½</li>
<li>å°±åƒç»™åˆ—è¡¨é¡¹åŠ ä¸Šèº«ä»½è¯å·ï¼Œæ¯ä¸ªéƒ½ä¸ä¸€æ ·</li>
</ol>
<h3 data-id="heading-23">ç¬¬äº”ç« ï¼šäº‹ä»¶å¤„ç† - è®©é¡µé¢èƒ½äº¤äº’</h3>
<h4 data-id="heading-24">5.1 å¤„ç†ç‚¹å‡»äº‹ä»¶</h4>
<p>åœ¨æˆ‘å†™çš„ç™»å½•ä¾‹å­ä¸­ï¼Œæˆ‘å¤„ç†äº†æŒ‰é’®ç‚¹å‡»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginButton</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-comment">// ç‚¹å‡»æŒ‰é’®æ—¶è°ƒç”¨çš„å‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// æŠŠç™»å½•çŠ¶æ€å–å</span>
    <span class="hljs-comment">// å¦‚æœåŸæ¥æ˜¯ trueï¼Œå˜æˆ falseï¼›å¦‚æœåŸæ¥æ˜¯ falseï¼Œå˜æˆ true</span>
    <span class="hljs-title function_">setIsLoggedIn</span>(!isLoggedIn)
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{isLoggedIn ? 'å·²ç™»å½•' : 'æœªç™»å½•'}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      {/* æ³¨æ„ï¼šonClick çš„ C æ˜¯å¤§å†™ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>
        {isLoggedIn ? 'é€€å‡ºç™»å½•' : 'ç™»å½•'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-25">5.2 äº‹ä»¶å¤„ç†çš„ä¸åŒå†™æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†™æ³•1ï¼šå…ˆå®šä¹‰å‡½æ•°ï¼Œå†ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»äº†'</span>)
}
&lt;button onClick={handleClick}&gt;æŒ‰é’®&lt;/button&gt;

<span class="hljs-comment">// å†™æ³•2ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
  console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†')
}}&gt;æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

<span class="hljs-comment">// å†™æ³•3ï¼šç®­å¤´å‡½æ•°è°ƒç”¨å·²å®šä¹‰çš„å‡½æ•°</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleClick()}&gt;æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-26">ç¬¬å…­ç« ï¼šå®Œæ•´ä»£ç è§£æ - ä¸€æ­¥æ­¥ç†è§£</h3>
<h4 data-id="heading-27">6.1 æˆ‘çš„ App.jsx å®Œæ•´è§£æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¬¬1æ­¥ï¼šå¯¼å…¥éœ€è¦çš„åŠŸèƒ½</span>
<span class="hljs-keyword">import</span> { useState, createElement } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>

<span class="hljs-comment">// ç¬¬2æ­¥ï¼šå®šä¹‰ App ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç¬¬3æ­¥ï¼šå®šä¹‰çŠ¶æ€ï¼ˆç»„ä»¶çš„"è®°å¿†"ï¼‰</span>
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'vue'</span>)          <span class="hljs-comment">// åå­—çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>([             <span class="hljs-comment">// å¾…åŠäº‹é¡¹çŠ¶æ€</span>
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ react'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹ vue'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
  ])
  <span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>) <span class="hljs-comment">// ç™»å½•çŠ¶æ€</span>
  
  <span class="hljs-comment">// ç¬¬4æ­¥ï¼šå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleLogin</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// åˆ‡æ¢ç™»å½•çŠ¶æ€ï¼ˆtrue â†” falseï¼‰</span>
    <span class="hljs-title function_">setIsLoggedIn</span>(!isLoggedIn)
  }
  
  <span class="hljs-comment">// ç¬¬5æ­¥ï¼šå®šä¹‰ JSX å…ƒç´ </span>
  <span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>JSX æ˜¯React ä¸­ç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„è¯­æ³•æ‰©å±•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
  <span class="hljs-keyword">const</span> element2 = <span class="hljs-title function_">createElement</span>(<span class="hljs-string">'h2'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">'JSX æ˜¯React ä¸­ç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„è¯­æ³•æ‰©å±•'</span>)
  
  <span class="hljs-comment">// ç¬¬6æ­¥ï¼šæ¼”ç¤ºçŠ¶æ€è‡ªåŠ¨æ›´æ–°ï¼ˆ3ç§’åæ”¹å˜åå­—ï¼‰</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setName</span>(<span class="hljs-string">'react'</span>)  <span class="hljs-comment">// ä» 'vue' å˜æˆ 'react'</span>
  }, <span class="hljs-number">3000</span>)
  
  <span class="hljs-comment">// ç¬¬7æ­¥ï¼šè¿”å› JSXï¼ˆé¡µé¢çš„å†…å®¹ï¼‰</span>
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* æ˜¾ç¤º JSX å…ƒç´  */}
      {element}
      {element2}
      
      {/* æ˜¾ç¤ºåŠ¨æ€å†…å®¹ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      
      {/* æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ® todos é•¿åº¦æ˜¾ç¤ºä¸åŒå†…å®¹ */}
      {
        todos.length &gt; 0 ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
            {
              todos.map((todo) =&gt; (
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
              ))
            }
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        ) : (<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æš‚æ— å¾…åŠäº‹é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>)
      }
      
      {/* æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®ç™»å½•çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹ */}
      {isLoggedIn ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      
      {/* äº‹ä»¶å¤„ç†ï¼šç‚¹å‡»æŒ‰é’®åˆ‡æ¢ç™»å½•çŠ¶æ€ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleLogin}</span>&gt;</span>
        {isLoggedIn ? 'é€€å‡ºç™»å½•' : 'ç™»å½•'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}

<span class="hljs-comment">// ç¬¬8æ­¥ï¼šå¯¼å‡ºç»„ä»¶ï¼Œè®©å…¶ä»–æ–‡ä»¶å¯ä»¥ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-28">6.2 æˆ‘çš„ App2.jsx å®Œæ•´è§£æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™ä¸ªæ–‡ä»¶å±•ç¤ºäº†å¦‚ä½•æŠŠå¤§é¡µé¢æ‹†åˆ†æˆå°ç»„ä»¶</span>

<span class="hljs-comment">// ç»„ä»¶1ï¼šæ˜é‡‘ç½‘ç«™çš„å¤´éƒ¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">JuejinHeader</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ˜é‡‘é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ç»„ä»¶2ï¼šæ–‡ç« åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Articles</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ–‡ç« åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ç»„ä»¶3ï¼šç­¾åˆ°åŠŸèƒ½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Checkin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç­¾åˆ°<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ç»„ä»¶4ï¼šçƒ­é—¨æ–‡ç« </span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">TopArticles</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çƒ­é—¨æ–‡ç« <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// ä¸»ç»„ä»¶ï¼šæŠŠæ‰€æœ‰å°ç»„ä»¶ç»„åˆèµ·æ¥</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* ä½¿ç”¨å¤´éƒ¨ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">JuejinHeader</span> /&gt;</span>
      
      {/* ä¸»è¦å†…å®¹åŒºåŸŸ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        {/* ä½¿ç”¨æ–‡ç« åˆ—è¡¨ç»„ä»¶ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Articles</span> /&gt;</span>
        
        {/* ä¾§è¾¹æ  */}
        <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span>
          {/* ä½¿ç”¨ç­¾åˆ°ç»„ä»¶ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Checkin</span> /&gt;</span>
          {/* ä½¿ç”¨çƒ­é—¨æ–‡ç« ç»„ä»¶ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">TopArticles</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// å¯¼å‡ºä¸»ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h3 data-id="heading-29">ç¬¬ä¸ƒç« ï¼šå¸¸è§é—®é¢˜è§£ç­”</h3>
<h4 data-id="heading-30">7.1 æˆ‘æ˜¯ JavaScript æ–°æ‰‹ï¼Œèƒ½å­¦ä¼š React å—ï¼Ÿ</h4>
<p><strong>å½“ç„¶å¯ä»¥ï¼</strong> React è™½ç„¶æœ‰ä¸€äº›æ–°æ¦‚å¿µï¼Œä½†éƒ½æ˜¯å»ºç«‹åœ¨ JavaScript åŸºç¡€ä¸Šçš„ã€‚æˆ‘çš„å­¦ä¹ å»ºè®®ï¼š</p>
<ol>
<li>
<p><strong>å…ˆæŒæ¡è¿™äº› JavaScript åŸºç¡€</strong>ï¼š</p>
<ul>
<li>å˜é‡å’Œå¸¸é‡ï¼ˆlet, constï¼‰</li>
<li>å‡½æ•°ï¼ˆfunction, ç®­å¤´å‡½æ•°ï¼‰</li>
<li>æ•°ç»„å’Œå¯¹è±¡</li>
<li>æ•°ç»„çš„ map æ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>ç„¶åå­¦ä¹  React</strong>ï¼š</p>
<ul>
<li>JSXï¼ˆå°±æ˜¯ HTML å†™åœ¨ JS é‡Œï¼‰</li>
<li>ç»„ä»¶ï¼ˆå°±æ˜¯è¿”å› JSX çš„å‡½æ•°ï¼‰</li>
<li>useStateï¼ˆå°±æ˜¯è®©ç»„ä»¶æœ‰"è®°å¿†"ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-31">7.2 ä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç æŠ¥é”™äº†ï¼Ÿ</h4>
<p>æ ¹æ®æˆ‘çš„ç»éªŒï¼Œæ–°æ‰‹å¸¸çŠ¯çš„é”™è¯¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯1ï¼šæœ€å¤–å±‚å¤šä¸ªæ ‡ç­¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Wrong</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>  <span class="hljs-comment">// âŒ è¿™é‡Œä¼šæŠ¥é”™</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ‡é¢˜2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// æ­£ç¡®ï¼šç”¨ä¸€ä¸ªæ ‡ç­¾åŒ…è£¹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Right</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  {/* âœ… ç”¨ä¸€ä¸ª div åŒ…è£¹æ‰€æœ‰å†…å®¹ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ‡é¢˜2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-32">7.3 å¦‚ä½•å¼€å§‹æˆ‘çš„ç¬¬ä¸€ä¸ª React é¡¹ç›®ï¼Ÿ</h4>
<p>æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨å®˜æ–¹å·¥å…·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼ˆç¡®ä¿å·²å®‰è£… Node.jsï¼‰</span>
npx create-react-app my-first-app

<span class="hljs-comment"># è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹</span>
<span class="hljs-built_in">cd</span> my-first-app

<span class="hljs-comment"># å¯åŠ¨é¡¹ç›®</span>
npm start
</code></pre>
<p>ç„¶åæ‰“å¼€ <code>src/App.js</code>ï¼Œå°±å¯ä»¥å¼€å§‹å†™ä»£ç äº†ï¼</p>
<h3 data-id="heading-33">å­¦ä¹ è·¯çº¿å»ºè®®</h3>
<p>æ ¹æ®æˆ‘è‡ªå·±çš„å­¦ä¹ ç»å†ï¼Œå»ºè®®æŒ‰è¿™ä¸ªé¡ºåºå­¦ä¹ ï¼š</p>
<h4 data-id="heading-34">ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ï¼ˆ1-2å‘¨ï¼‰</h4>
<ol>
<li>å­¦ä¼šå†™ JSXï¼ˆåœ¨ JS ä¸­å†™ HTMLï¼‰</li>
<li>ç†è§£ä»€ä¹ˆæ˜¯ç»„ä»¶</li>
<li>æŒæ¡ useState çš„åŸºæœ¬ä½¿ç”¨</li>
</ol>
<h4 data-id="heading-35">ç¬¬äºŒé˜¶æ®µï¼šå®è·µï¼ˆ2-3å‘¨ï¼‰</h4>
<ol>
<li>åšä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨ï¼ˆå°±åƒæˆ‘ä»£ç ä¸­çš„ todosï¼‰</li>
<li>åšä¸€ä¸ªç®€å•çš„ç™»å½•/æ³¨å†Œç•Œé¢</li>
<li>ç»ƒä¹ æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“</li>
</ol>
<h4 data-id="heading-36">ç¬¬ä¸‰é˜¶æ®µï¼šè¿›é˜¶ï¼ˆæŒç»­å­¦ä¹ ï¼‰</h4>
<ol>
<li>å­¦ä¹ æ›´å¤š React Hooks</li>
<li>å­¦ä¹ ç»„ä»¶é—´é€šä¿¡</li>
<li>å­¦ä¹ è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰</li>
</ol>
<h3 data-id="heading-37">æœ€åçš„é¼“åŠ±</h3>
<p>æˆ‘åˆšå¼€å§‹å­¦ä¹  React æ—¶ï¼Œä¹Ÿè§‰å¾—è¿™äº›æ¦‚å¿µå¾ˆæŠ½è±¡ã€‚ä½†é€šè¿‡å®é™…å†™ä»£ç ï¼Œç‰¹åˆ«æ˜¯åƒæˆ‘çš„ <code>App.jsx</code> å’Œ <code>App2.jsx</code> è¿™æ ·çš„ç»ƒä¹ ï¼Œæˆ‘é€æ¸ç†è§£äº†ï¼š</p>
<ol>
<li><strong>React å¹¶ä¸ç¥ç§˜</strong>ï¼šå®ƒåªæ˜¯æä¾›äº†ä¸€ç§æ›´é«˜æ•ˆçš„æ–¹å¼æ¥æ„å»ºç½‘é¡µ</li>
<li><strong>ç»„ä»¶åŒ–æ€æƒ³å¾ˆé‡è¦</strong>ï¼šæŠŠå¤§é—®é¢˜æ‹†æˆå°é—®é¢˜ï¼Œæ¯ä¸ªç»„ä»¶è§£å†³ä¸€ä¸ªå°é—®é¢˜</li>
<li><strong>çŠ¶æ€ç®¡ç†æ˜¯æ ¸å¿ƒ</strong>ï¼šç†è§£ useStateï¼Œå°±ç†è§£äº† React çš„ä¸€åŠ</li>
</ol>
<p>è®°ä½æˆ‘ä»£ç ä¸­çš„è¿™ä¸ªä¾‹å­ï¼Œå®ƒåŒ…å«äº† React æœ€æ ¸å¿ƒçš„æ¦‚å¿µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// äº‹ä»¶å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleLogin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setIsLoggedIn</span>(!isLoggedIn)
}

<span class="hljs-comment">// æ¡ä»¶æ¸²æŸ“</span>
{isLoggedIn ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}

<span class="hljs-comment">// äº‹ä»¶ç»‘å®š</span>
&lt;button onClick={toggleLogin}&gt;åˆ‡æ¢ç™»å½•çŠ¶æ€&lt;/button&gt;
</code></pre>
<p><strong>ä¸€ä¸ªå‡½æ•° + ä¸€äº›çŠ¶æ€ + JSX = ä¸€ä¸ª React ç»„ä»¶</strong></p>
<p>ä»ç°åœ¨å¼€å§‹ï¼ŒåŠ¨æ‰‹å†™ä»£ç å§ï¼é‡åˆ°é—®é¢˜å°±å›å¤´çœ‹æˆ‘çš„ä»£ç ç¤ºä¾‹ï¼Œæˆ–è€…è‡ªå·±å°è¯•ä¿®æ”¹æˆ‘çš„ä»£ç çœ‹çœ‹æ•ˆæœã€‚å­¦ä¹ ç¼–ç¨‹æœ€æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯ï¼š<strong>å¤šå†™ï¼Œå¤šç»ƒï¼Œå¤šæ€è€ƒ</strong>ã€‚</p>
<p>åŠ æ²¹ï¼Œä½ ä¸€å®šèƒ½å­¦ä¼š Reactï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 å“åº”å¼æ•°æ®å¸¸ç”¨æ–¹æ¡ˆåŠå®è·µå‘ç‚¹]]></title>    <link>https://juejin.cn/post/7604984549173657609</link>    <guid>https://juejin.cn/post/7604984549173657609</guid>    <pubDate>2026-02-10T11:38:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604984549173657609" data-draft-id="7602901195154571316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 å“åº”å¼æ•°æ®å¸¸ç”¨æ–¹æ¡ˆåŠå®è·µå‘ç‚¹"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-02-10T11:38:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="b1ng"/> <meta itemprop="url" content="https://juejin.cn/user/1546326635980684"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 å“åº”å¼æ•°æ®å¸¸ç”¨æ–¹æ¡ˆåŠå®è·µå‘ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1546326635980684/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    b1ng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T11:38:29.000Z" title="Tue Feb 10 2026 11:38:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>æœ€è¿‘åœ¨åš Vue é¡¹ç›®ç›¸å…³çš„éœ€æ±‚ï¼Œå¤ä¹ ä¸€ä¸‹ Vue çš„å“åº”å¼æœºåˆ¶åŠå…¶å¸¸ç”¨åŠæ³•</p>
<p>ä» Vue3 è§†è§’æ¥çœ‹ï¼Œå®ƒçš„å“åº”å¼æ•°æ®æ ¸å¿ƒå°±æ˜¯<code>ref</code>å’Œ<code>reactive</code>ï¼Œéƒ½ä¾èµ–äº ES6 çš„<code>Proxy API</code>ï¼Œä»¥æ­¤æ¥ä»£ç†ç›‘å¬æ•´ä¸ªå¯¹è±¡ï¼Œä»è€Œèƒ½å…³æ³¨åˆ°å¤æ‚æ•°æ®ç±»å‹å†…éƒ¨å±æ€§çš„å¢åˆ æ”¹çš„å˜åŒ–ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™é‡Œä»£ç†å¯¹è±¡åŒ…å«äº†å¤šåµŒå¥—å¼å¯¹è±¡çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å®ç°æ·±åº¦ç›‘å¬ã€‚</p>
<p>ç›¸è¾ƒäº Vue2 çš„<code>defineProperty()</code>ä»…å¯¹äºå±æ€§å±‚é¢çš„ç›‘å¬ï¼Œæ— ç–‘åœ¨æ„å»ºå¤æ‚æ•°æ®ç±»å‹çš„å“åº”å¼æ—¶ï¼Œæ€§èƒ½æå‡æ˜¯å·¨å¤§çš„ã€‚</p>
<p>ä¸‹é¢è®©æˆ‘ä»¬èŠèŠæ— å¤„ä¸åœ¨çš„<code>ref</code>å’Œ<code>reactive</code>:</p>
<h2 data-id="heading-0">ref</h2>
<p><code>ref</code>é€šå¸¸ç”¨æ¥åŒ…è£…åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç”±äº<code>Proxy</code>æ˜¯å¯¹äºå¤æ‚æ•°æ®ç±»å‹çš„ APIï¼Œæ‰€ä»¥å®ƒçš„å®è´¨æ˜¯åœ¨<code>Proxy</code>åŒ…è£…çš„åŸºç¡€ä¸Šåˆåœ¨å¤–å°è£…äº†ä¸€å±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨<code>.value</code>æ¥è¯»å†™æ•°æ®ï¼Œä½†åœ¨<code>&lt;template&gt;</code>æ¨¡æ¿ä¸­è®¿é—®å“åº”å¼æ•°æ®æ— éœ€<code>.value</code>å› ä¸ºæ­¤æ—¶å·²ç»åšäº†è§£åŒ…çš„å¤„ç†ã€‚</p>
<h2 data-id="heading-1">reactive</h2>
<p>å¯¹äº<code>reactive</code>ç›¸å¯¹çš„ä¾¿æ˜¯ç”¨æ¥åŒ…è£…å¤æ‚æ•°æ®ç±»å‹ï¼Œè¯¸å¦‚<code>Object</code>ã€<code>Array</code>è¿™æ ·çš„æ•°æ®ï¼Œä»–å¯ä»¥ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡çš„å±æ€§æ“ä½œï¼ˆå¢åˆ æ”¹ï¼‰ã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡å‹¿ç›´æ¥æ“ä½œè¿™ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸è¦æ”¹å˜è¿™ä¸ª<code>reactive</code>æ•°æ®çš„å¼•ç”¨ï¼Œè¿™ä¼šä½¿ä»–ä¸¢å¤±å“åº”å¼ã€‚</p>
<h2 data-id="heading-2"/>
<p>äºŒè€…æ€ä¹ˆæŠ‰æ‹©å‘¢ï¼Œå°¤å¤§å¤§æå€¡ä½¿ç”¨<code>ref</code>ï¼Œäº‹å®ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œç»å¤§å¤šæ•°åœºæ™¯ï¼Œç®€å•å’Œå¤æ‚æ•°æ®ç±»å‹å‡ä½¿ç”¨<code>ref</code>æ„å»ºå“åº”å¼ï¼Œè™½ç„¶ç†è®ºä¸Šå…¨éƒ¨åŠ ä¸€å±‚åŒ…è£…ä¼šæœ‰æ€§èƒ½æŸè€—ï¼Œä½†å¯¹äºå›¢é˜Ÿä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿™ç‚¹æŸè€—å¾®ä¹å…¶å¾®ã€‚ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æƒ…æ™¯ï¼šåˆå§‹åŒ–ä¸€ä¸ª listï¼Œåç»­è°ƒæ¥å£æ‹¿åˆ°æ•°æ® res.dataï¼Œéœ€è¦èµ‹å€¼(å…ˆä¸è€ƒè™‘ä½¿ç”¨ TS)</span>
<span class="hljs-comment">// ä½¿ç”¨ reactive</span>
<span class="hljs-keyword">const</span> list = <span class="hljs-title function_">reactive</span>({})
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(res.<span class="hljs-property">data</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    list.<span class="hljs-property">key</span> = res.<span class="hljs-property">data</span>[key]
})
<span class="hljs-comment">// ä½¿ç”¨ ref</span>
<span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>({})
list.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>
<span class="hljs-comment">// æˆ–æ›´ä¸¥è°¨</span>
list.<span class="hljs-property">value</span> = {...list.<span class="hljs-property">value</span>, ...res.<span class="hljs-property">data</span>}

</code></pre>
<p>é«˜ä¸‹ç«‹åˆ¤ï¼Œæ— è®ºä»å¯è¯»æ€§è¿˜æ˜¯ç»´æŠ¤æ€§ä¸Šè®²<code>ref</code>ä¹Ÿæ˜¯å®Œèƒœçš„ã€‚å½“ç„¶å¯¹äºä¸€äº›æ„é€ è¡¨å•æ¨¡æ¿å³å¯¹è±¡å±æ€§å¢åˆ ä¸é¢‘ç¹çš„åœºæ™¯<code>reactive</code>ä¸å…ä¸ºæ›´ä¼˜é›…çš„é€‰æ‹©...</p>
<p>ä»¥ä¸Šæ˜¯åœ¨å­¦ä¹ é˜¶æ®µå¯¹äºä¸¤ä¸ªå…„å¼Ÿçš„åŸºæœ¬è®¤è¯†ã€‚</p>
<h2 data-id="heading-3">å“åº”å¼æ•°æ®åœ¨ç»„ä»¶é—´é€šä¿¡</h2>
<p>è¯´èµ·è¿™ç‚¹ï¼Œæœ€å¸¸ç”¨çš„ä¾¿æ˜¯çˆ¶å­ç»„ä»¶é—´<code>props</code>+<code>emit</code>çš„é€šä¿¡</p>
<p>çˆ¶â†’å­ï¼šé€šè¿‡<code>props</code>ä¼ ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å¯ç›´æ¥ä½¿ç”¨ï¼Œå€¼å¾—ä¸€æçš„æ˜¯è¿™é‡Œçš„<code>props</code>è™½ç„¶æ˜¯å“åº”å¼çš„ä½†æˆ‘ä»¬ä¸èƒ½ç›´æ¥é€šè¿‡<code>props.a</code>æ¥ä¿®æ”¹ï¼Œè¿™è™½ç„¶å¯è¡Œä½†è¿èƒŒäº† Vue å•å‘æ•°æ®æµçš„åŸåˆ™ä¼šæŠ¥é”™ï¼Œè¯•æƒ³å¦‚æœä¸€ä¸ªå“åº”å¼æ•°æ®æƒ³åœ¨å“ªé‡Œä¿®æ”¹å°±åœ¨å“ªé‡Œä¿®æ”¹ï¼Œå§‘ä¸”ä¸è¯´å¯èƒ½å¯¼è‡´çš„å¼‚å¸¸ï¼Œå°±ä»£ç è§„èŒƒæ€§è€Œè¨€å°±ä¸è¿‡å…³</p>
<p>å­â†’çˆ¶ï¼šæ‰€ä»¥æˆ‘ä»¬é€šè¿‡<code>emit</code>çš„æ–¹æ³•æ¥ä¿®æ”¹ï¼Œé€šè¿‡<code>$emit</code>è§¦å‘çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„äº‹ä»¶ç±»å‹ï¼Œçˆ¶ç»„ä»¶ç›‘å¬å¹¶å“åº”è§¦å‘äº‹ä»¶</p>
<p>è¿™é‡Œä»¥ Vue3 ç»„åˆå¼ API çš„å†™æ³•ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Parent.vue --&gt;</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">:count</span>=<span class="hljs-string">"count"</span> @<span class="hljs-attr">update-count</span>=<span class="hljs-string">"handleUpdate"</span> /&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleUpdate</span> = (<span class="hljs-params">newVal</span>) =&gt; {
  count.<span class="hljs-property">value</span> = newVal
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="hljs-comment">// Child.vue --&gt;</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"update"</span>&gt;</span>Count: {{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'count'</span>])
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'update-count'</span>])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">update</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'update-count'</span>, props.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

</code></pre>
<p>è¿™é‡Œä»…ä»…è®²è¿°æœ€å¸¸ç”¨çš„é€šä¿¡ï¼Œè¿˜æœ‰<code>provide+inject</code>ã€<code>pinia/vuex</code>è¿™é‡Œä¾¿ä¸å†èµ˜è¿°</p>
<h2 data-id="heading-4">å¸¸è§å‘ç‚¹</h2>
<p>æˆ‘ä»¬åœ¨æ¥æ”¶åˆ°<code>porps</code>çš„æ•°æ®ä»¥åï¼Œå¦‚æœçˆ¶ç»„ä»¶ä¼ çš„æ˜¯ä¸€ä¸ª<code>ref</code>ï¼Œæˆ–è€…æ˜¯<code>reactive</code>ï¼Œæˆ–è€…æ˜¯éå“åº”å¼ï¼Ÿæˆ‘ä»¬å­ç»„ä»¶æ¥å—åˆ°è¯¥æ€ä¹ˆä½¿ç”¨ï¼Œéœ€è¦åŠ <code>.value</code>ï¼Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Ÿè¿˜æ˜¯éœ€è¦ä¼ ç»™ä¸­é—´å€¼ï¼Ÿæ€ä¹ˆä¼ ï¼Ÿ</p>
<p>è¿™äº›é—®é¢˜å¯èƒ½åœ¨å­¦ä¹ é˜¶æ®µæ— éœ€æ€è€ƒï¼Œå·²ç»çŸ¥é“äº†æ€ä¹ˆç”¨å°±é¡ºç€æ¥å†™ï¼Œä½†æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„æ˜¯å¦‚æœå¥½ä¹…ä¸ç”¨äº†ï¼Œæˆ‘ä»¬èƒ½å¦é€šè¿‡è‡ªå·±çš„æŠ€æœ¯æ·±åº¦æ¥çŸ¥é“æ€ä¹ˆä½¿ç”¨æ˜¯æ­£ç¡®çš„ï¼Œæ€ä¹ˆä½¿ç”¨ä¸ä¼šä¸¢å¤±å“åº”å¼ï¼Ÿä¸ä¼šå¯¼è‡´å¼‚å¸¸ï¼Ÿ</p>
<h4 data-id="heading-5">1ã€å¦‚æœä¼ å€¼æ˜¯<code>ref/reactive/éå“åº”</code>ï¼Œå­ç»„ä»¶å¦‚ä½•ç”¨ï¼Ÿ</h4>
<p><strong>ç»“è®º</strong>ï¼šæ— è®ºçˆ¶ç»„ä»¶ä¼ çš„æ˜¯Â <code>ref</code>ã€<code>reactive</code>Â è¿˜æ˜¯<code>æ™®é€šå¯¹è±¡</code>ï¼Œå­ç»„ä»¶é€šè¿‡Â <code>props</code>Â æ¥æ”¶åˆ°çš„éƒ½æ˜¯ä¸€ä¸ªã€Œæ™®é€šå“åº”å¼å¯¹è±¡ã€ï¼Œä¹Ÿå°±æ˜¯<code>Proxy</code>ï¼Œä½ æ°¸è¿œä¸éœ€è¦ã€ä¹Ÿä¸åº”è¯¥åœ¨å­ç»„ä»¶ä¸­å¯¹<code>props</code>ä½¿ç”¨<code>.value</code>ã€‚</p>
<p><strong>åŸå› </strong>ï¼šVue å¯¹ props çš„ç»Ÿä¸€å¤„ç†æœºåˆ¶</p>
<p>å½“ä½ åœ¨çˆ¶ç»„ä»¶è¿™æ ·ä¼ é€’æ•°æ®ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span> })        <span class="hljs-comment">// ref</span>
<span class="hljs-keyword">const</span> b = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span> })     <span class="hljs-comment">// reactive</span>
<span class="hljs-keyword">const</span> c = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span> }           <span class="hljs-comment">// æ™®é€šå¯¹è±¡</span>

&lt;<span class="hljs-title class_">Child</span> :data-a=<span class="hljs-string">"a"</span> :data-b=<span class="hljs-string">"b"</span> :data-c=<span class="hljs-string">"c"</span> /&gt;
</code></pre>
<p>Vue åœ¨ä¼ é€’ç»™å­ç»„ä»¶å‰ï¼Œä¼š<strong>è‡ªåŠ¨å°†æ‰€æœ‰å€¼æ ‡å‡†åŒ–ä¸ºå“åº”å¼å¯¹è±¡</strong>ï¼ˆå¦‚æœè¿˜ä¸æ˜¯çš„è¯ï¼‰ï¼Œå¹¶æ³¨å…¥åˆ°Â <code>props</code>Â ä¸­ã€‚</p>
<p>å­ç»„ä»¶æ¥æ”¶åˆ°çš„Â <code>props</code>Â æ˜¯ä¸€ä¸ªç”± Vue å†…éƒ¨åˆ›å»ºçš„Â <strong>å“åº”å¼ Proxy å¯¹è±¡</strong>ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å­ç»„ä»¶ä¸­çš„ propsï¼ˆæ¦‚å¿µä¸Šï¼‰</span>
props = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">dataA</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span> },   <span class="hljs-comment">// â† å·²è§£åŒ… refï¼Œå¹¶è½¬ä¸ºå“åº”å¼</span>
  <span class="hljs-attr">dataB</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span> },     <span class="hljs-comment">// â† åŸ reactive å¯¹è±¡ï¼ˆæˆ–å…¶ä»£ç†ï¼‰</span>
  <span class="hljs-attr">dataC</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span> }  <span class="hljs-comment">// â† æ™®é€šå¯¹è±¡è¢«è‡ªåŠ¨ reactive åŒ…è£…</span>
})
</code></pre>
<p>æ‰€ä»¥ï¼š<strong><code>props</code>Â ä¸­çš„æ¯ä¸ªå±æ€§éƒ½å·²ç»æ˜¯â€œè§£åŒ…åâ€çš„å“åº”å¼å¯¹è±¡ï¼Œæ— éœ€Â <code>.value</code>ã€‚</strong></p>
<h4 data-id="heading-6">2ã€è¯¥å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4>
<p><strong>ç»“è®º</strong>ï¼šå§‹ç»ˆé€šè¿‡Â <code>props.xxx</code>Â è®¿é—®æ•°æ®ï¼ˆä¸è§£æ„ã€ä¸èµ‹å€¼ç»™é¡¶å±‚å˜é‡ï¼‰ï¼Œå¹¶åœ¨éœ€è¦ä¿®æ”¹ä½†ä¸å½±å“æºæ•°æ®æ—¶åˆ›å»ºæœ¬åœ°å‰¯æœ¬ã€‚</p>
<p><strong>åŸå› </strong>ï¼š</p>
<p>å…ˆçœ‹ä¸ªé”™è¯¯çš„ç¤ºä¾‹ï¼š</p>
<p><strong>âŒ é”™è¯¯åšæ³•ï¼šè§£æ„æˆ–é¡¶å±‚èµ‹å€¼</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">setup</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> { name } = props.<span class="hljs-property">user</span>;     <span class="hljs-comment">// âŒ name æ˜¯æ™®é€šå­—ç¬¦ä¸²ï¼Œå¤±å»å“åº”å¼</span>
  <span class="hljs-keyword">const</span> age = props.<span class="hljs-property">user</span>.<span class="hljs-property">age</span>;      <span class="hljs-comment">// âŒ age æ˜¯å¿«ç…§å¼•ç”¨ï¼Œä¸ä¼šéšçˆ¶æ›´æ–°</span>

  <span class="hljs-comment">// åç»­ä½¿ç”¨ name/age éƒ½æ˜¯éå“åº”å¼çš„ï¼</span>
}
</code></pre>
<p>æœ‰çš„å…„å¼Ÿå¯èƒ½è¦è¯´äº†ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™å°±åªæ˜¯éœ€è¦å…¶ä¸­çš„ä¸€ä¸ªå±æ€§æ•°æ®ï¼Œä¹Ÿä¸ç”¨å“åº”å¼ï¼Œè¿™æ ·ç›´æ¥æ‹¿åˆ°ä¸å°±å¥½äº†ï¼Ÿ</p>
<p>ä½†æ˜¯è¯·æ³¨æ„ï¼Œå¦‚æœçˆ¶ç»„ä»¶ä¼ çš„æ•°æ®æ˜¯å¼‚æ­¥è·å–çš„ï¼Œå½“ä½ ç›´æ¥ç»“æ„æˆ–å–å€¼æ—¶å¯èƒ½æ‹¿åˆ°çš„æ˜¯æ‰§è¡Œå®Œå¼‚æ­¥æ“ä½œå‰çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½æ°¸è¿œæ‹¿åˆ°çš„éƒ½æ˜¯åˆå§‹åŒ–æ—¶çš„ç©ºæ•°æ®ï¼Œå› ä¸ºå°±ç®—å¼‚æ­¥æ“ä½œå®Œæˆï¼Œä¹Ÿä¼šå› ä¸¢å¤±å“åº”å¼è€Œä¸ä¼šæ›´æ–°æ•°æ®ï¼Œé€ æˆé—®é¢˜ï¼</p>
<blockquote>
<p>ğŸ”” ESLint è§„åˆ™Â <code>vue/no-setup-props-destructure</code>Â å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿™ç±»é”™è¯¯ã€‚</p>
</blockquote>
<p>æ‰€ä»¥å§‹ç»ˆé€šè¿‡Â <code>props.xxx</code>Â è®¿é—®æ•°æ®ï¼ˆä¸è§£æ„ã€ä¸èµ‹å€¼ç»™é¡¶å±‚å˜é‡ï¼‰</p>
<p>è€Œå½“æˆ‘ä»¬æœ¬åœ°éœ€è¦åˆ›å»ºå‰¯æœ¬æ¥ç»´æŠ¤è¿™ä¸ªæ•°æ®ï¼Œä½†ä¸å½±å“çˆ¶ç»„ä»¶æ—¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span> <span class="hljs-comment">// æˆ–è‡ªå®šä¹‰ deepClone</span>

<span class="hljs-title function_">setup</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-comment">// åˆ›å»ºæ·±åº¦ç‹¬ç«‹å‰¯æœ¬ï¼ˆä¿æŒæœ¬åœ°å“åº”å¼ï¼‰</span>
  <span class="hljs-keyword">const</span> localUser = <span class="hljs-title function_">ref</span>(_.<span class="hljs-title function_">cloneDeep</span>(props.<span class="hljs-property">user</span>));

  <span class="hljs-comment">// å¯é€‰ï¼šç›‘å¬ prop å˜åŒ–ä»¥é‡ç½®æœ¬åœ°çŠ¶æ€ï¼ˆå¦‚çˆ¶ç»„ä»¶åˆ·æ–°æ•°æ®ï¼‰</span>
  <span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">user</span>, <span class="hljs-function">(<span class="hljs-params">newUser</span>) =&gt;</span> {
    localUser.<span class="hljs-property">value</span> = _.<span class="hljs-title function_">cloneClone</span>(newUser);
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateName</span> = (<span class="hljs-params">name</span>) =&gt; {
    localUser.<span class="hljs-property">value</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// âœ… ä¿®æ”¹æœ¬åœ°å‰¯æœ¬ï¼Œä¸å½±å“çˆ¶ç»„ä»¶</span>
  };

  <span class="hljs-keyword">return</span> { localUser, updateName };
}
</code></pre>
<p><strong>ç»ˆæå»ºè®®</strong>:</p>
<ul>
<li>
<p><strong>æ¨¡æ¿ä¸­</strong>ï¼šç›´æ¥å†™Â <code>{{ props.xxx.yyy }}</code>Â âœ…</p>
</li>
<li>
<p><strong>setup ä¸­</strong>ï¼š</p>
<ul>
<li>åªè¯» â†’ ç”¨Â <code>props.xxx</code>Â æˆ–Â <code>() =&gt; props.xxx</code>ï¼ˆåœ¨ watch/computed ä¸­ï¼‰</li>
<li>éœ€ä¿®æ”¹ â†’ åˆ›å»ºÂ <code>ref(deepClone(props.xxx))</code>Â ä½œä¸ºæœ¬åœ°çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>ç»ä¸</strong>åœ¨ setup é¡¶å±‚è§£æ„ props æˆ–èµ‹å€¼ç»™æ™®é€šå˜é‡</p>
</li>
<li>
<p><strong>ä¿®æ”¹æ•°æ®</strong>Â â†’ é€šè¿‡Â <code>emit</code>Â é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œæˆ–æ“ä½œæœ¬åœ°å‰¯æœ¬</p>
</li>
</ul>
<p>å®åŠ›ä¸æµï¼Œæ–°äººå°ç™½ï¼ŒæŒç»­æ›´æ–°...</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘å¸ƒæ–°ç‰ˆæœ¬ä¸»åŠ¨æ£€æµ‹æ›´æ–°æé†’æ–¹æ¡ˆï¼ˆçº¯å‰ç«¯æ–¹æ¡ˆç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7605051978871963667</link>    <guid>https://juejin.cn/post/7605051978871963667</guid>    <pubDate>2026-02-10T12:22:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605051978871963667" data-draft-id="7604984549173002249" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘å¸ƒæ–°ç‰ˆæœ¬ä¸»åŠ¨æ£€æµ‹æ›´æ–°æé†’æ–¹æ¡ˆï¼ˆçº¯å‰ç«¯æ–¹æ¡ˆç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-10T12:22:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Ticnix"/> <meta itemprop="url" content="https://juejin.cn/user/3273707515560176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘å¸ƒæ–°ç‰ˆæœ¬ä¸»åŠ¨æ£€æµ‹æ›´æ–°æé†’æ–¹æ¡ˆï¼ˆçº¯å‰ç«¯æ–¹æ¡ˆç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3273707515560176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Ticnix
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T12:22:46.000Z" title="Tue Feb 10 2026 12:22:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å‰ç«¯é¡¹ç›®å‘å¸ƒæ–°ç‰ˆæœ¬åï¼Œè‹¥ç”¨æˆ·å·²æ‰“å¼€é¡µé¢æˆ–æµè§ˆå™¨æŒ‚åœ¨åå°ï¼Œç”±äºå•é¡µåº”ç”¨ (SPA) çš„æœºåˆ¶ï¼Œé¡µé¢ä¸ä¼šä¸»åŠ¨åˆ·æ–°ï¼Œå¯¼è‡´ç”¨æˆ·ä¸€ç›´åœç•™åœ¨æ—§ç‰ˆæœ¬ï¼Œæ— æ³•ä½¿ç”¨æ–°åŠŸèƒ½æˆ–é‡åˆ°å·²ä¿®å¤çš„ Bug</p>
<p>é‚£åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“é‡åˆ°è¿‡è¿™ç§é—®é¢˜ï¼Œå½“æˆ‘æŠŠå‰ç«¯å†™å¥½çš„æ–°ç‰ˆæœ¬çš„ä»£ç è¿›è¡Œæ‰“åŒ…ä¸Šä¼ ï¼Œè¿™ä¸ªåŠ¨ä½œå·²ç»è¿›è¡Œäº†ç‰ˆæœ¬æ›´æ–°äº†ï¼Œä½†æ˜¯ç”¨æˆ·åœ¨è®¿é—®æ—§ç‰ˆæœ¬ç½‘é¡µæ—¶å¦‚æœæ²¡æœ‰ç‚¹å‡»åˆ·æ–°ï¼Œæ ¹æœ¬ä¸çŸ¥é“å·²ç»ä¸Šæ–°äº†æ–°ç‰ˆæœ¬ï¼Œè€Œä¸”å¦‚æœæ–°ç‰ˆæœ¬å·²ç»å–æ¶ˆäº†æŸä¸ªåŠŸèƒ½ï¼Œä½†ç”¨æˆ·ç”¨æ—§ç‰ˆæœ¬è¿›è¡Œæäº¤å¿…ç„¶ä¼šå‡ºé”™</p>
<p>é‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªä¸»åŠ¨æ£€æµ‹ç‰ˆæœ¬æ›´æ–°çš„åŠŸèƒ½æé†’ç”¨æˆ·æ›´æ–°äº†</p>
<h2 data-id="heading-1">æ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/098bf56740e24317a6a054db4e687574~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGljbml4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771330968&amp;x-signature=LTf%2BgRQAwhqs8U%2BjWk2baF9T6Pc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">å®ç°è¿‡ç¨‹</h2>
<p>1.Â <strong>æ„å»ºé˜¶æ®µ</strong>ï¼šåœ¨æ‰“åŒ…æ—¶ç”Ÿæˆä¸€ä¸ªåŒ…å«å½“å‰æ—¶é—´æˆ³çš„å”¯ä¸€ç‰ˆæœ¬æ ‡è¯†æ–‡ä»¶ (version.json)ã€‚</p>
<p>2.Â <strong>éƒ¨ç½²é˜¶æ®µ</strong>ï¼šNginx é…ç½®è¯¥æ–‡ä»¶ç¦æ­¢ç¼“å­˜ï¼Œç¡®ä¿å‰ç«¯æ°¸è¿œè·å–åˆ°æœ€æ–°çŠ¶æ€ã€‚</p>
<p>3.Â <strong>è¿è¡Œé˜¶æ®µ</strong>ï¼šå‰ç«¯ä»£ç é€šè¿‡è½®è¯¢å’Œé¡µé¢å¯è§æ€§æ£€æµ‹ï¼Œå¯¹æ¯”æœ¬åœ°ä¸æœåŠ¡å™¨çš„ç‰ˆæœ¬å·ã€‚</p>
<p>å®ç°é€»è¾‘å¦‚ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3d3da9934784910b6c4f0f4c474394b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGljbml4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771330968&amp;x-signature=PIgpRnixT%2BMvWMeaW2yYNnwBL3Y%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">æ„å»ºè„šæœ¬æ”¹é€  (ç”Ÿæˆç‰ˆæœ¬å·)</h3>
<p>æˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡ npm run build æ—¶ï¼Œåœ¨è¾“å‡ºç›®å½•ï¼ˆé€šå¸¸æ˜¯ dist æˆ– publicï¼‰ç”Ÿæˆä¸€ä¸ª version.jsonã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºè„šæœ¬æ–‡ä»¶ generate-version.jsï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'url'</span>;

<span class="hljs-comment">// è·å–å½“å‰æ¨¡å—çš„è·¯å¾„</span>
<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(__filename);

<span class="hljs-comment">// å®šä¹‰ç‰ˆæœ¬å· </span>
<span class="hljs-keyword">const</span> versionInfo = {
  <span class="hljs-attr">version</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
  <span class="hljs-attr">releaseTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleString</span>()
};

<span class="hljs-comment">// ç¡®å®šè¾“å‡ºè·¯å¾„ </span>
<span class="hljs-keyword">const</span> outputDir = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'public'</span>);
<span class="hljs-comment">// å…ˆå†™å…¥ public ç›®å½•ï¼Œæ‰“åŒ…æ—¶ä¼šè‡ªåŠ¨å¤åˆ¶åˆ° dist</span>

<span class="hljs-keyword">const</span> filePath = path.<span class="hljs-title function_">join</span>(outputDir, <span class="hljs-string">'version.json'</span>);

<span class="hljs-comment">// å†™å…¥æ–‡ä»¶</span>
fs.<span class="hljs-title function_">writeFileSync</span>(filePath, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(versionInfo, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… [Version] ç‰ˆæœ¬æ–‡ä»¶å·²ç”Ÿæˆ: <span class="hljs-subst">${filePath}</span>`</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… [Version] å½“å‰ç‰ˆæœ¬æ ‡è¯†: <span class="hljs-subst">${versionInfo.version}</span>`</span>);
</code></pre>
<h3 data-id="heading-4">å‰ç«¯è‡ªåŠ¨æ£€æµ‹é€»è¾‘</h3>
<p>åœ¨é¡¹ç›®çš„ä¸»å…¥å£æ–‡ä»¶ï¼ˆå¦‚ src/App.vue, src/App.jsx, src/main.jsï¼‰ä¸­å¼•å…¥ä»¥ä¸‹é€»è¾‘ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * å‰ç«¯ç‰ˆæœ¬è‡ªåŠ¨æ£€æµ‹æ¨¡å—
 */</span>

<span class="hljs-comment">// å­˜å‚¨æœ¬åœ°ç‰ˆæœ¬å·</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">localHash</span>:any = <span class="hljs-literal">null</span>;

<span class="hljs-comment">// æ£€æµ‹é—´éš” (æ¯«ç§’)ï¼Œå»ºè®® 60ç§’ æˆ– 5åˆ†é’Ÿ</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CHECK_INTERVAL</span> = <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkAppVersion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. è¯·æ±‚ version.json</span>
    <span class="hljs-comment">// å¿…é¡»åŠ ä¸Šæ—¶é—´æˆ³å‚æ•° t=... é˜²æ­¢æµè§ˆå™¨ç¼“å­˜è¿™ä¸ª GET è¯·æ±‚æœ¬èº«</span>
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/version.json?t=<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>);

    <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Version file not found'</span>);
    
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
    <span class="hljs-keyword">const</span> serverHash = data.<span class="hljs-property">version</span>;

    <span class="hljs-comment">// 2. é¦–æ¬¡åŠ è½½ï¼Œåªè®°å½•ä¸æ¯”å¯¹</span>
    <span class="hljs-keyword">if</span> (!localHash) {
      localHash = serverHash;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`-----------------------[Updater] å½“å‰ç‰ˆæœ¬å·²é”å®š-----------------------: <span class="hljs-subst">${localHash}</span>`</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// 3. æ¯”å¯¹ç‰ˆæœ¬</span>
    <span class="hljs-keyword">if</span> (serverHash !== localHash) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`-----------------[Updater] æ£€æµ‹åˆ°æ–°ç‰ˆæœ¬------------------------: <span class="hljs-subst">${serverHash}</span> (å½“å‰: <span class="hljs-subst">${localHash}</span>)`</span>);
      
      <span class="hljs-title function_">showUpdateNotification</span>();
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`----------------------[Test] æ‰§è¡Œæ£€æµ‹-----------------------: <span class="hljs-subst">${localHash}</span>`</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// é™é»˜å¤±è´¥ï¼Œä¸æ‰“æ‰°ç”¨æˆ· (å¯èƒ½æ˜¯ç½‘ç»œæ³¢åŠ¨)</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'---------------------[Updater] ç‰ˆæœ¬æ£€æµ‹å¤±è´¥:--------------------------'</span>, err);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">showUpdateNotification</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">import</span>(<span class="hljs-string">'element-plus'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">{ ElMessageBox }</span>) =&gt;</span> {
    <span class="hljs-title class_">ElMessageBox</span>.<span class="hljs-title function_">confirm</span>(
      <span class="hljs-string">'ç³»ç»Ÿæ£€æµ‹åˆ°æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œè¯·ç‚¹å‡»"ç¡®å®š"åˆ·æ–°é¡µé¢ä»¥è·å–æœ€æ–°åŠŸèƒ½ã€‚'</span>,
      <span class="hljs-string">'ç‰ˆæœ¬æ›´æ–°æç¤º'</span>,
      {
        <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'ç«‹å³åˆ·æ–°'</span>,
        <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">'ç¨åå†è¯´'</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>,
        <span class="hljs-attr">center</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">modal</span>: <span class="hljs-literal">false</span> 
      }
    ).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// true è¡¨ç¤ºå¼ºåˆ¶ä»æœåŠ¡å™¨é‡è½½</span>
    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»å–æ¶ˆï¼Œä¸åšä»»ä½•æ“ä½œ</span>
    });
  });
}

<span class="hljs-comment">// --- å¯åŠ¨æ£€æµ‹ç›‘å¬ ---</span>

<span class="hljs-comment">// 1. å¯åŠ¨å®šæ—¶è½®è¯¢</span>
<span class="hljs-built_in">setInterval</span>(checkAppVersion, <span class="hljs-variable constant_">CHECK_INTERVAL</span>);

<span class="hljs-comment">// 2. æ™ºèƒ½ç›‘å¬ï¼šå½“ç”¨æˆ·åˆ‡æ¢æ ‡ç­¾é¡µå›æ¥æ—¶ï¼Œç«‹å³æ£€æŸ¥ä¸€æ¬¡</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'visibilitychange'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">visibilityState</span> === <span class="hljs-string">'visible'</span>) {
    <span class="hljs-title function_">checkAppVersion</span>();
  }
});

<span class="hljs-comment">// 3. åˆå§‹åŒ–æ£€æŸ¥</span>
<span class="hljs-title function_">checkAppVersion</span>();
</code></pre>
<h3 data-id="heading-5">ä¿®æ”¹ package.jsonï¼š</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbfca652e87143e889936c5a7454aa9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGljbml4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771330968&amp;x-signature=EQ0OXrzvbkBLqY7QQQ1EK3OEyH4%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OAç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯ç§¯ç´¯ä¸ vxetable çš„ç»“åˆ]]></title>    <link>https://juejin.cn/post/7605036907459313715</link>    <guid>https://juejin.cn/post/7605036907459313715</guid>    <pubDate>2026-02-11T01:36:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605036907459313715" data-draft-id="7605097326727577646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OAç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯ç§¯ç´¯ä¸ vxetable çš„ç»“åˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T01:36:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OAç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯ç§¯ç´¯ä¸ vxetable çš„ç»“åˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:36:05.000Z" title="Wed Feb 11 2026 01:36:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨æ•°å­—åŒ–è½¬å‹åŠ é€Ÿçš„ä»Šå¤©ï¼ŒåŠå…¬è‡ªåŠ¨åŒ–ï¼ˆOAï¼‰ç³»ç»Ÿæˆä¸ºä¼ä¸šæ•ˆç‡æå‡çš„é‡è¦å·¥å…·ã€‚OAç³»ç»Ÿé€šè¿‡å®ç°æµç¨‹è‡ªåŠ¨åŒ–ã€æ•°æ®ç®¡ç†å’Œä¿¡æ¯äº¤äº’ï¼Œä¼˜åŒ–äº†ä¼ä¸šçš„å†…éƒ¨è¿è¥ã€‚åœ¨ä¼—å¤šæŠ€æœ¯ç»„ä»¶ä¸­ï¼Œ<strong>vxetable</strong> ä½œä¸ºä¸€ç§çµæ´»çš„è¡¨æ ¼å±•ç¤ºåº“ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°æå‡æ•°æ®å±•ç¤ºå’Œäº¤äº’ä½“éªŒã€‚æœ¬ç¯‡æ–‡ç« å°†æ¢è®¨ OA ç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯ç§¯ç´¯åŠ vxetable çš„åº”ç”¨åœºæ™¯ï¼Œæ­ç¤ºå®ƒä»¬å¦‚ä½•è§£å†³ç°ä»£ä¼ä¸šåœ¨ä¿¡æ¯ç®¡ç†ä¸­çš„æ ¸å¿ƒé—®é¢˜ã€‚</p>
<h2 data-id="heading-1">1. å®šä¹‰é—®é¢˜æˆ–èƒŒæ™¯</h2>
<p>ç°ä»£ä¼ä¸šåœ¨ç®¡ç†ä¿¡æ¯æ—¶ï¼Œå¸¸é¢ä¸´å¦‚æ•°æ®å†—ä½™ã€ä¿¡æ¯å­¤å²›åŠå†³ç­–æ•ˆç‡ä½ä¸‹ç­‰é—®é¢˜ã€‚ä¼ ç»Ÿçš„OAç³»ç»Ÿå¾€å¾€ç¼ºä¹çµæ´»çš„æ•°æ®å±•ç¤ºèƒ½åŠ›ï¼Œå¯¼è‡´ç”¨æˆ·åœ¨å¤„ç†ä¿¡æ¯æ—¶æ•ˆç‡ä½ä¸‹ã€‚ä¼ä¸šéœ€è¦ä¸€ç§æ—¢èƒ½è‡ªåŠ¨åŒ–æµç¨‹ï¼Œåˆèƒ½ç›´è§‚å±•ç¤ºä¿¡æ¯çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥æå‡ä¸šåŠ¡å†³ç­–çš„åŠæ—¶æ€§å’Œå‡†ç¡®æ€§ã€‚</p>
<h2 data-id="heading-2">2. è§£å†³æ–¹æ¡ˆæˆ–æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-3">2.1 OAç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯</h3>
<ol>
<li>
<p><strong>æµç¨‹è‡ªåŠ¨åŒ–</strong>ï¼š<br/>
OAç³»ç»Ÿé€šå¸¸ä½¿ç”¨å·¥ä½œæµå¼•æ“ï¼Œä¾‹å¦‚ Activiti æˆ– Camundaï¼Œæ¥å®ç°è‡ªåŠ¨åŒ–å¤„ç†ã€‚æµç¨‹å¼•æ“èƒ½å¤Ÿæ ¹æ® pre-defined è§„åˆ™è‡ªåŠ¨è½¬å‘ä»»åŠ¡ï¼Œå‡å°‘äººå·¥å¹²é¢„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ç¤ºä¾‹ï¼šä½¿ç”¨ Activiti å¯åŠ¨æµç¨‹
ProcessInstance <span class="hljs-attr">processInstance</span> = runtimeService.startProcessInstanceByKey(<span class="hljs-string">"myProcess"</span>)<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>æ•°æ®ç®¡ç†</strong>ï¼š<br/>
OAç³»ç»Ÿä¾èµ–äºå…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰æ¥å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ SQL è¯­è¨€å®ç°å¤æ‚çš„æ•°æ®æŸ¥è¯¢å’Œç®¡ç†ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">SELECT * FROM tasks WHERE <span class="hljs-attr">status</span> = <span class="hljs-string">'completed'</span><span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼š<br/>
ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vue.jsï¼‰åˆ›å»ºå‹å¥½çš„ç”¨æˆ·ç•Œé¢ï¼Œæé«˜ç”¨æˆ·çš„æ“ä½œä½“éªŒã€‚ç»“åˆ vxetableï¼Œå¯ä»¥å®ç°æ•°æ®çš„åŠ¨æ€å±•ç¤ºã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">2.2 vxetable çš„å®ç°</h3>
<p>vxetable æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„è¡¨æ ¼ç»„ä»¶åº“ï¼Œæ–¹ä¾¿å¼€å‘è€…å±•ç¤ºå’Œç®¡ç†æ•°æ®ã€‚å…¶å¼ºå¤§çš„åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ’åºå’Œè¿‡æ»¤</strong></li>
<li><strong>å¯ç¼–è¾‘çš„å•å…ƒæ ¼</strong></li>
<li><strong>è¡Œé€‰æ‹©å’Œæ‰¹é‡æ“ä½œ</strong></li>
</ul>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ vxetable ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">vxe-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span> <span class="hljs-attr">:columns</span>=<span class="hljs-string">"columns"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:edit</span>=<span class="hljs-string">"{ row, column }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"row[column.field]"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">vxe-table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">tableData</span>: [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'John Doe'</span> }],
      <span class="hljs-attr">columns</span>: [
        { <span class="hljs-attr">field</span>: <span class="hljs-string">'id'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ID'</span> },
        { <span class="hljs-attr">field</span>: <span class="hljs-string">'name'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Name'</span>, <span class="hljs-attr">editRender</span>: <span class="hljs-literal">true</span> }
      ]
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2.3 æŠ€æœ¯çš„ä¼˜ç¼ºç‚¹</h3>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒ–</strong>ï¼šæå¤§æé«˜äº†åŠå…¬æ•ˆç‡ï¼Œå‡å°‘äº†äººå·¥æ“ä½œã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼švxetable ä½¿å¾—æ•°æ®å±•ç¤ºæ›´ä¸ºçµæ´»ï¼Œç”¨æˆ·å¯éšæ—¶æ£€ç´¢å’Œç¼–è¾‘æ•°æ®ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šç°ä»£å‰ç«¯æ¡†æ¶æå‡äº†ç”¨æˆ·ç•Œé¢çš„å‹å¥½æ€§å’Œäº¤äº’æ€§ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯é—¨æ§›</strong>ï¼šå¯¹äºä¸ç†Ÿæ‚‰ç°ä»£å‰ç«¯æ¡†æ¶çš„ç”¨æˆ·ï¼Œå­¦ä¹ æˆæœ¬å¯èƒ½è¾ƒé«˜ã€‚</li>
<li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šå¤§è§„æ¨¡çš„æ•°æ®å±•ç¤ºå¯èƒ½ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚</li>
</ul>
<p><strong>å®é™…åº”ç”¨å»ºè®®</strong>ï¼š</p>
<p>åœ¨å®æ–½OAç³»ç»Ÿæ—¶ï¼Œå»ºè®®ç»“åˆå›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆï¼ŒåŒæ—¶åšå¥½æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œä¾‹å¦‚åˆ†é¡µå±•ç¤ºå’Œæ‡’åŠ è½½ã€‚</p>
<h2 data-id="heading-6">3. ç»“è®º</h2>
<p>OAç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯ç§¯ç´¯ä¸ vxetable çš„ç»“åˆï¼Œæå¤§åœ°æå‡äº†ä¼ä¸šçš„ä¿¡æ¯ç®¡ç†èƒ½åŠ›ã€‚é€šè¿‡è‡ªåŠ¨åŒ–æµç¨‹å’Œçµæ´»çš„æ•°æ®å±•ç¤ºï¼Œä¼ä¸šèƒ½å¤Ÿæ›´å¿«é€Ÿåœ°å“åº”å¸‚åœºéœ€æ±‚ï¼Œæé«˜å†³ç­–æ•ˆç‡ã€‚æœªæ¥ï¼Œæˆ‘ä»¬å¯ä»¥é¢„è§ OA ç³»ç»Ÿå°†è¿›ä¸€æ­¥èå…¥æ›´å¤šæ™ºèƒ½åŒ–å…ƒç´ ï¼Œå¦‚æœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æï¼Œä»¥æä¾›æ›´æ·±å±‚æ¬¡çš„ä¸šåŠ¡æ´å¯Ÿã€‚</p>
<h2 data-id="heading-7">4. å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.activiti.org%2F" target="_blank" title="https://www.activiti.org/" ref="nofollow noopener noreferrer">Activiti Documentation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fxuliangzhan.com%2Fvxe-table%2F%23%2Ftable%2Fstart" target="_blank" title="https://xuliangzhan.com/vxe-table/#/table/start" ref="nofollow noopener noreferrer">VXE-Table Documentation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fv2%2Fguide%2F" target="_blank" title="https://vuejs.org/v2/guide/" ref="nofollow noopener noreferrer">Vue.js Documentation</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue ç”˜ç‰¹å›¾ vxe-gantt è®¾ç½®æ¯ä¸ªè¿›åº¦æ¡åˆ†ä¸ºè®¡åˆ’å’Œå®é™…ä¸¤æ¡ï¼Œå®ç°ä¸Šä¸‹åˆ†å¸ƒä»»åŠ¡æ¡]]></title>    <link>https://juejin.cn/post/7605042125298827298</link>    <guid>https://juejin.cn/post/7605042125298827298</guid>    <pubDate>2026-02-10T15:47:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605042125298827298" data-draft-id="7604881286038339636" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue ç”˜ç‰¹å›¾ vxe-gantt è®¾ç½®æ¯ä¸ªè¿›åº¦æ¡åˆ†ä¸ºè®¡åˆ’å’Œå®é™…ä¸¤æ¡ï¼Œå®ç°ä¸Šä¸‹åˆ†å¸ƒä»»åŠ¡æ¡"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-02-10T15:47:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤è›‹fg6"/> <meta itemprop="url" content="https://juejin.cn/user/4320420117616682"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue ç”˜ç‰¹å›¾ vxe-gantt è®¾ç½®æ¯ä¸ªè¿›åº¦æ¡åˆ†ä¸ºè®¡åˆ’å’Œå®é™…ä¸¤æ¡ï¼Œå®ç°ä¸Šä¸‹åˆ†å¸ƒä»»åŠ¡æ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4320420117616682/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤è›‹fg6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T15:47:42.000Z" title="Tue Feb 10 2026 15:47:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>vue ç”˜ç‰¹å›¾ vxe-gantt è®¾ç½®æ¯ä¸ªè¿›åº¦æ¡åˆ†ä¸ºè®¡åˆ’å’Œå®é™…ä¸¤æ¡ï¼Œå®ç°ä¸Šä¸‹åˆ†å¸ƒä»»åŠ¡æ¡ï¼Œå®ç°æ–¹å¼æ˜¯åˆ©ç”¨å­ä»»åŠ¡çš„å­è§†å›¾æ¸²æŸ“æ¨¡å¼ï¼Œæ¥é—´æ¯æ¡ä»»åŠ¡æ‹†åˆ†æˆ2æ¡å­ä»»åŠ¡ï¼Œå°±å¯ä»¥åˆ©ç”¨è‡ªå¸¦çš„å­è§†å›¾æ¸²æŸ“åŠŸèƒ½æ¥æ¸²æŸ“ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgantt.vxeui.com" target="_blank" title="https://gantt.vxeui.com" ref="nofollow noopener noreferrer">gantt.vxeui.com</a></p>
<p>ç”±äºæ”¾2è¡Œè¶…å‡ºé»˜è®¤é«˜åº¦ï¼Œæ‰€ä»¥è¿˜éœ€è¦é€šè¿‡ cell-config.heightè®¾ç½®ä¸€ä¸‹è¡Œé«˜ï¼Œå†é€šè¿‡æ ‘å½¢è¡¨æ ¼çš„å­ä»»åŠ¡æ¥æ¸²æŸ“</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e08c0a089f148898adb6108e59e6e05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2k6JuLZmc2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771343264&amp;x-signature=yfvEIsiBM2pVTaxQYbhRbrDkSvw%3D" alt="image" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-gantt</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"ganttOptions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-gantt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">VxeGanttTaskType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vxe-gantt'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">XEUtils</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'xe-utils'</span>

<span class="hljs-keyword">const</span> ganttOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">cellConfig</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">60</span>
  },
  <span class="hljs-attr">treeConfig</span>: {
    <span class="hljs-attr">transform</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">rowField</span>: <span class="hljs-string">'id'</span>,
    <span class="hljs-attr">parentField</span>: <span class="hljs-string">'parentId'</span>
  },
  <span class="hljs-attr">taskConfig</span>: {
    <span class="hljs-attr">startField</span>: <span class="hljs-string">'start'</span>,
    <span class="hljs-attr">endField</span>: <span class="hljs-string">'end'</span>,
    <span class="hljs-attr">typeField</span>: <span class="hljs-string">'type'</span>
  },
  <span class="hljs-attr">taskBarSubviewConfig</span>: {
    barStyle ({ row }) {
      <span class="hljs-keyword">if</span> (row.<span class="hljs-property">flag</span> === <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">transform</span>: <span class="hljs-string">'translateY(-24px)'</span>,
          <span class="hljs-string">'--vxe-ui-gantt-view-task-bar-completed-background-color'</span>: <span class="hljs-string">'#409eff'</span>
        }
      }
      <span class="hljs-keyword">if</span> (row.<span class="hljs-property">flag</span> === <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">transform</span>: <span class="hljs-string">'translateY(1px)'</span>,
          <span class="hljs-string">'--vxe-ui-gantt-view-task-bar-completed-background-color'</span>: <span class="hljs-string">'#31d231'</span>
        }
      }
    }
  },
  <span class="hljs-attr">taskBarConfig</span>: {
    <span class="hljs-attr">showContent</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">barStyle</span>: {
      <span class="hljs-attr">round</span>: <span class="hljs-literal">true</span>
    }
  },
  <span class="hljs-attr">taskViewConfig</span>: {
    <span class="hljs-attr">tableStyle</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">480</span>
    }
  },
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'title'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡åç§°'</span>, <span class="hljs-attr">minWidth</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'planStartDate'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¡åˆ’å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'planEndDate'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¡åˆ’ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'actualStartDate'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å®é™…å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'actualEndDate'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å®é™…ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> }
  ],
  <span class="hljs-attr">data</span>: []
})

<span class="hljs-comment">// æ¨¡æ‹Ÿåç«¯æ¥å£</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadList</span> = (<span class="hljs-params"/>) =&gt; {
  ganttOptions.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> list = [
      { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Aé¡¹ç›®'</span>, <span class="hljs-attr">planStartDate</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">planEndDate</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">actualStartDate</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">actualEndDate</span>: <span class="hljs-string">'2024-03-12'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Bé¡¹ç›®'</span>, <span class="hljs-attr">planStartDate</span>: <span class="hljs-string">'2024-03-10'</span>, <span class="hljs-attr">planEndDate</span>: <span class="hljs-string">'2024-03-25'</span>, <span class="hljs-attr">actualStartDate</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">actualEndDate</span>: <span class="hljs-string">'2024-03-16'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Cé¡¹ç›®'</span>, <span class="hljs-attr">planStartDate</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">planEndDate</span>: <span class="hljs-string">'2024-04-10'</span>, <span class="hljs-attr">actualStartDate</span>: <span class="hljs-string">'2024-03-22'</span>, <span class="hljs-attr">actualEndDate</span>: <span class="hljs-string">'2024-04-01'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Dé¡¹ç›®'</span>, <span class="hljs-attr">planStartDate</span>: <span class="hljs-string">'2024-03-28'</span>, <span class="hljs-attr">planEndDate</span>: <span class="hljs-string">'2024-04-19'</span>, <span class="hljs-attr">actualStartDate</span>: <span class="hljs-string">'2024-03-28'</span>, <span class="hljs-attr">actualEndDate</span>: <span class="hljs-string">'2024-04-12'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Eé¡¹ç›®'</span>, <span class="hljs-attr">planStartDate</span>: <span class="hljs-string">'2024-04-05'</span>, <span class="hljs-attr">planEndDate</span>: <span class="hljs-string">'2024-04-28'</span>, <span class="hljs-attr">actualStartDate</span>: <span class="hljs-string">'2024-04-01'</span>, <span class="hljs-attr">actualEndDate</span>: <span class="hljs-string">'2024-04-24'</span> }
    ]
    <span class="hljs-comment">// è½¬æˆå­ä»»åŠ¡è§†å›¾</span>
    <span class="hljs-keyword">const</span> ganttData = []
    list.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> currRow = <span class="hljs-title class_">XEUtils</span>.<span class="hljs-title function_">assign</span>({}, item, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttTaskType</span>.<span class="hljs-property">Subview</span> })
      <span class="hljs-keyword">const</span> planRow = <span class="hljs-title class_">XEUtils</span>.<span class="hljs-title function_">assign</span>({}, item, {
        <span class="hljs-attr">id</span>: <span class="hljs-number">10000000</span> + item.<span class="hljs-property">id</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¡åˆ’'</span>,
        <span class="hljs-attr">parentId</span>: item.<span class="hljs-property">id</span>,
        <span class="hljs-attr">start</span>: item.<span class="hljs-property">planStartDate</span>,
        <span class="hljs-attr">end</span>: item.<span class="hljs-property">planEndDate</span>,
        <span class="hljs-attr">flag</span>: <span class="hljs-number">1</span>
      })
      <span class="hljs-keyword">const</span> actualRow = <span class="hljs-title class_">XEUtils</span>.<span class="hljs-title function_">assign</span>({}, item, {
        <span class="hljs-attr">id</span>: <span class="hljs-number">20000000</span> + item.<span class="hljs-property">id</span>,
        <span class="hljs-attr">parentId</span>: item.<span class="hljs-property">id</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">'å®é™…'</span>,
        <span class="hljs-attr">start</span>: item.<span class="hljs-property">actualStartDate</span>,
        <span class="hljs-attr">end</span>: item.<span class="hljs-property">actualEndDate</span>,
        <span class="hljs-attr">flag</span>: <span class="hljs-number">2</span>
      })
      ganttData.<span class="hljs-title function_">push</span>(currRow)
      ganttData.<span class="hljs-title function_">push</span>(planRow)
      ganttData.<span class="hljs-title function_">push</span>(actualRow)
    })
    ganttOptions.<span class="hljs-property">data</span> = ganttData
    ganttOptions.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
  }, <span class="hljs-number">200</span>)
}

<span class="hljs-title function_">loadList</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä¼˜åŒ–vxetableå¤„ç†åä¸‡è¡Œä»¥ä¸Šæ•°æ®çš„æ€§èƒ½ã€‚]]></title>    <link>https://juejin.cn/post/7605036907459330099</link>    <guid>https://juejin.cn/post/7605036907459330099</guid>    <pubDate>2026-02-11T01:38:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605036907459330099" data-draft-id="7605107459065757742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä¼˜åŒ–vxetableå¤„ç†åä¸‡è¡Œä»¥ä¸Šæ•°æ®çš„æ€§èƒ½ã€‚"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T01:38:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä¼˜åŒ–vxetableå¤„ç†åä¸‡è¡Œä»¥ä¸Šæ•°æ®çš„æ€§èƒ½ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:38:06.000Z" title="Wed Feb 11 2026 01:38:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-1">1. <strong>è™šæ‹Ÿæ»šåŠ¨ï¼ˆVirtual Scrollingï¼‰</strong></h3>
<ul>
<li>
<p><strong>æè¿°</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨åªæ¸²æŸ“å¯è§éƒ¨åˆ†çš„è¡¨æ ¼è¡Œï¼Œå‡å°‘ DOM å…ƒç´ çš„æ•°é‡ã€‚</p>
</li>
<li>
<p><strong>å®ç°</strong>ï¼šä½¿ç”¨ <code>vxe-table</code> çš„è™šæ‹Ÿæ»šåŠ¨åŠŸèƒ½ï¼Œåªæ˜¾ç¤ºå½“å‰è§†å£ä¸­çš„è¡Œã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">vxe-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span> <span class="hljs-attr">:scroll-y</span>=<span class="hljs-string">"{enabled: true}"</span> <span class="hljs-attr">stripe</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- åˆ—å®šä¹‰ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">vxe-table</span>&gt;</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-2">2. <strong>åˆ†é¡µï¼ˆPaginationï¼‰</strong></h3>
<ul>
<li>
<p><strong>æè¿°</strong>ï¼šå°†æ•°æ®åˆ†æˆå¤šä¸ªé¡µé¢ï¼Œæ¯é¡µåªåŠ è½½å’Œå±•ç¤ºéƒ¨åˆ†æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>å®ç°</strong>ï¼šåœ¨åå°è¿›è¡Œæ•°æ®åˆ†é¡µå¤„ç†ï¼Œç„¶ååœ¨å‰ç«¯æ ¹æ®å½“å‰é¡µæ•°è·å–æ•°æ®ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">&lt;vxe-pager <span class="hljs-symbol">:current-page</span>.sync=<span class="hljs-string">"currentPage"</span> <span class="hljs-symbol">:page-size</span>.sync=<span class="hljs-string">"pageSize"</span> <span class="hljs-variable">@page</span>-change=<span class="hljs-string">"loadData"</span> /&gt;
</code></pre>
</li>
</ul>
<h3 data-id="heading-3">3. <strong>æ‡’åŠ è½½ï¼ˆLazy Loadingï¼‰</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šæ ¹æ®ç”¨æˆ·çš„æ“ä½œåŠ¨æ€åŠ è½½æ•°æ®ï¼Œä¾‹å¦‚ä¸‹æ‹‰åŠ è½½æ›´å¤šæ•°æ®ã€‚</li>
<li><strong>å®ç°</strong>ï¼šåœ¨ç”¨æˆ·æ»šåŠ¨åˆ°åº•éƒ¨æ—¶è§¦å‘åŠ è½½æ–°çš„æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-4">4. <strong>å­—æ®µè¿‡æ»¤ï¼ˆColumn Filteringï¼‰</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šåªåŠ è½½å’Œå±•ç¤ºç”¨æˆ·éœ€è¦çš„æ•°æ®å­—æ®µã€‚</li>
<li><strong>å®ç°</strong>ï¼šæ ¹æ®éœ€æ±‚åŠ¨æ€ç”Ÿæˆåˆ—ï¼Œé™åˆ¶ç”¨æˆ·å¯ä»¥æŸ¥çœ‹çš„åˆ—æ•°ã€‚</li>
</ul>
<h3 data-id="heading-5">5. <strong>åå°èšåˆå¤„ç†ï¼ˆBackend Aggregationï¼‰</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šåœ¨æœåŠ¡å™¨ç«¯å¤„ç†æ•°æ®èšåˆå’Œç»Ÿè®¡ï¼Œå‡å°‘éœ€è¦ä¼ è¾“çš„æ•°æ®é‡ã€‚</li>
<li><strong>å®ç°</strong>ï¼šé€šè¿‡ API æ¥å£å®ç°æ•°æ®çš„è¿‡æ»¤å’Œèšåˆï¼Œå‰ç«¯åªæ˜¾ç¤ºè®¡ç®—åçš„ç»“æœã€‚</li>
</ul>
<h3 data-id="heading-6">6. <strong>é€‚åº¦ä½¿ç”¨ç¼“å­˜ï¼ˆCachingï¼‰</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šå¯¹é¢‘ç¹è®¿é—®çš„æ•°æ®è¿›è¡ŒæœåŠ¡å™¨ç¼“å­˜ã€‚</li>
<li><strong>å®ç°</strong>ï¼šä½¿ç”¨ Redis æˆ–å†…å­˜ç¼“å­˜ï¼Œå°†å¸¸ç”¨æ•°æ®ç¼“å­˜ï¼Œä»¥å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ—¶é—´ã€‚</li>
</ul>
<h3 data-id="heading-7">7. <strong>åˆç†ä½¿ç”¨æ•°æ®ç»“æ„ï¼ˆData Structureï¼‰</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šä¼˜åŒ–æ•°æ®ç»“æ„ä»¥æé«˜æ£€ç´¢æ•ˆç‡ã€‚</li>
<li><strong>å®ç°</strong>ï¼šä½¿ç”¨ç´¢å¼•å’Œåˆé€‚çš„æ•°æ®ç±»å‹ä¼˜åŒ–æ•°æ®åº“ä¸­çš„è¡¨æ ¼ã€‚</li>
</ul>
<h3 data-id="heading-8">8. <strong>ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šé€šè¿‡å‡å°‘é‡ç»˜å’Œå›æµæ¥ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚</li>
<li><strong>å®ç°</strong>ï¼šé¿å…åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æ‰¿è½½å¤æ‚çš„è®¡ç®—ï¼Œå°†å¤„ç†é€»è¾‘ç§»è‡³è®¡ç®—å±æ€§æˆ–å…±äº«çŠ¶æ€ç®¡ç†å·¥å…·ï¼ˆå¦‚ Vuexï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-9">9. <strong>å‡å°‘ç»„ä»¶åµŒå¥—</strong></h3>
<ul>
<li><strong>æè¿°</strong>ï¼šé¿å…è¿‡å¤šçš„åµŒå¥—ç»„ä»¶ï¼Œå‡å°‘å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</li>
<li><strong>å®ç°</strong>ï¼šå°†è¡¨æ ¼å’Œå…¶ä»–åŠŸèƒ½è®¾è®¡ä¸ºå•ä¸€ç»„ä»¶ï¼Œå‡å°‘ç»„ä»¶æ•°é‡ã€‚</li>
</ul>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>é€šè¿‡å®æ–½ä¸Šè¿°ç­–ç•¥ï¼Œæ‚¨å¯ä»¥æ˜¾è‘—ä¼˜åŒ– <code>vxetable</code> å¤„ç†å¤§é‡æ•°æ®æ—¶çš„æ€§èƒ½ã€‚éœ€è¦æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©é€‚åˆçš„æ–¹æ³•ï¼Œç¡®ä¿åœ¨æé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œä¸å½±å“ç”¨æˆ·çš„äº¤äº’ä½“éªŒã€‚è¿™ä¸ä»…èƒ½æå‡åº”ç”¨çš„å“åº”é€Ÿåº¦ï¼Œä¹Ÿèƒ½ç»™ç”¨æˆ·å¸¦æ¥æ›´æµç•…çš„ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ”å‘åœºæ™¯åå¤§çƒ­é—¨ Skills æ¨è]]></title>    <link>https://juejin.cn/post/7605051978872766483</link>    <guid>https://juejin.cn/post/7605051978872766483</guid>    <pubDate>2026-02-11T01:38:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605051978872766483" data-draft-id="7604964464690528319" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ”å‘åœºæ™¯åå¤§çƒ­é—¨ Skills æ¨è"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-11T01:38:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿è™å„¿"/> <meta itemprop="url" content="https://juejin.cn/user/3394908210857901"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ”å‘åœºæ™¯åå¤§çƒ­é—¨ Skills æ¨è
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3394908210857901/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿è™å„¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:38:24.000Z" title="Wed Feb 11 2026 01:38:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡é¢å‘å®é™…ç ”å‘åœºæ™¯ï¼Œæ•´ç†å¹¶æ¨èäº†ä¸€ç»„å¯ç›´æ¥åº”ç”¨äºæ—¥å¸¸å¼€å‘æµç¨‹çš„ Agent Skillsã€‚è¿™äº› Skills è¦†ç›–å‰ç«¯è®¾è®¡ã€å‰åç«¯å¼€å‘ã€ä»£ç å®¡æŸ¥ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€CI/CDã€é—®é¢˜ä¿®å¤ä»¥åŠæ–‡æ¡£ç»´æŠ¤ç­‰å¸¸è§ç¯èŠ‚ï¼Œåˆ†åˆ«é’ˆå¯¹å…·ä½“ä»»åŠ¡æä¾›æ˜ç¡®çš„èƒ½åŠ›è¾¹ç•Œä¸ä½¿ç”¨åœºæ™¯è¯´æ˜ï¼Œå¸®åŠ©ä½ åœ¨ä¸åŒé˜¶æ®µé€‰æ‹©åˆé€‚çš„ Skillsï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcb6c8023b314d81b22b36cfd6f0d4c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=g1%2F4R01Hl2ESZJp2hm4v4B3tuWY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å‰ç«¯è®¾è®¡</strong></p>
<p><strong>åç§°</strong></p>
<p>frontend-design</p>
<p><strong>ä½œè€…</strong></p>
<p>Anthropic</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Ftree%2Fmain%2Fskills%2Ffrontend-design" target="_blank" title="https://github.com/anthropics/skills/tree/main/skills/frontend-design" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill æ—¨åœ¨åˆ›å»ºå…·æœ‰ ç‹¬ç‰¹æ€§ å’Œ é«˜è®¾è®¡å“è´¨ çš„å‰ç«¯ç•Œé¢ï¼Œèƒ½å¤Ÿè¾¾åˆ° ç”Ÿäº§çº§åˆ« (production-grade) çš„æ ‡å‡†ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯é¿å…ç”Ÿæˆåƒç¯‡ä¸€å¾‹ã€ç¼ºä¹ç‹¬ç‰¹é£æ ¼çš„ â€œAI é£æ ¼â€ ç•Œé¢ï¼Œè€Œæ˜¯é€šè¿‡åœ¨è®¾è®¡ä¸Šæœ‰æ„åœ°é€‰æ‹©å¤§èƒ†ã€æ˜ç¡®çš„ç¾å­¦æ–¹å‘ï¼ˆä¾‹å¦‚ï¼šæç®€ã€å¤å¤ã€æœªæ¥æ„Ÿã€é‡å…½æ´¾ç­‰ï¼‰ï¼Œå¹¶æ³¨é‡æ’ç‰ˆã€è‰²å½©ã€åŠ¨æ•ˆã€ç©ºé—´å¸ƒå±€ç­‰ç»†èŠ‚ï¼Œæ¥æ‰“é€ å‡ºä»¤äººå°è±¡æ·±åˆ»ã€å…·æœ‰è‰ºæœ¯æ„Ÿçš„å‰ç«¯é¡µé¢ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>æ„å»ºç½‘é¡µç»„ä»¶æˆ–é¡µé¢</strong></p>
<p>å½“ä½ éœ€è¦ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªå…·ä½“çš„ UI å…ƒç´ æ—¶ï¼Œä¾‹å¦‚ä¸€ä¸ª React ç»„ä»¶ã€ä¸€ä¸ª HTML/CSS å¸ƒå±€ï¼Œæˆ–ä¸€ä¸ªç‹¬ç«‹çš„é™æ€é¡µé¢ã€‚è¯¥ Skill ä¼šç¡®ä¿è¿™ä¸ªç»„ä»¶ä¸ä»…åŠŸèƒ½å®Œå–„ï¼Œè€Œä¸”åœ¨è§†è§‰ä¸Šå…·æœ‰è¾¨è¯†åº¦ã€‚</p>
</li>
<li>
<p><strong>å¼€å‘å®Œæ•´çš„ Web åº”ç”¨æˆ–ç½‘ç«™</strong></p>
<p>å½“ä½ éœ€è¦æ„å»ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç•Œé¢æ—¶ï¼Œæ¯”å¦‚ä¸€ä¸ªäº§å“çš„ Landing Pageã€ä¸€ä¸ªæ•°æ®ä»ªè¡¨ç›˜æˆ–ä¸€ä¸ªå°å‹ç½‘ç«™ã€‚è¯¥ Skill ä¼šä»æ•´ä½“å‡ºå‘ï¼Œç¡®ç«‹ä¸€ä¸ªç»Ÿä¸€ä¸”é²œæ˜çš„è®¾è®¡é£æ ¼ï¼Œå¹¶å°†å…¶è´¯å½»åˆ°åº”ç”¨çš„æ¯ä¸€ä¸ªè§’è½ã€‚</p>
</li>
<li>
<p><strong>ç¾åŒ–æˆ–é‡å¡‘ç°æœ‰ç•Œé¢</strong></p>
<p>å½“ä½ æœ‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ã€ä½†è®¾è®¡å¹³åº¸çš„ç½‘é¡µæˆ–åº”ç”¨ï¼Œå¹¶å¸Œæœ›æå‡å…¶è§†è§‰å“è´¨æ—¶ã€‚è¯¥ Skill ä¼šä¸“æ³¨äºç¾åŒ–å±‚é¢çš„å·¥ä½œï¼Œé€šè¿‡å¼•å…¥ç‹¬ç‰¹çš„å­—ä½“ã€åˆ›æ„çš„è‰²å½©æ–¹æ¡ˆã€ç²¾è‡´çš„åŠ¨æ•ˆå’Œæ–°é¢–çš„å¸ƒå±€ï¼Œæ¥é‡å¡‘ç•Œé¢çš„æ•´ä½“ç¾æ„Ÿã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c48f35b320e467eb37c8f67a95c6183~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=fiyBiZl%2FsDKrSNYl76xlCwJBt2g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å‰ç«¯å¼€å‘</strong></p>
<p><strong>åç§°</strong></p>
<p>cache-components</p>
<p><strong>ä½œè€…</strong></p>
<p>vercel</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2F.claude-plugin%2Fplugins%2Fcache-components%2Fskills%2Fcache-components" target="_blank" title="https://github.com/vercel/next.js/tree/canary/.claude-plugin/plugins/cache-components/skills/cache-components" ref="nofollow noopener noreferrer">github.com/vercel/nextâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill æ—¨åœ¨å°† Next.js çš„ Partial Prerendering (PPR) å’Œç¼“å­˜ç»„ä»¶ï¼ˆCache Componentsï¼‰çš„æœ€ä½³å®è·µï¼Œé€šè¿‡ AI åŠ©æ‰‹æ— ç¼é›†æˆåˆ°å¼€å‘å·¥ä½œæµä¸­ã€‚å½“é¡¹ç›®ç¯å¢ƒå¯ç”¨Â <em><strong>cacheComponents: true</strong></em>Â é…ç½®æ—¶ï¼Œè¯¥ Skill å°†è¢«æ¿€æ´»ï¼Œä¸ºä½ æä¾›è‡ªåŠ¨åŒ–çš„ä»£ç ç”Ÿæˆä¸ä¼˜åŒ–èƒ½åŠ›ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>é™¤ SKILL.md æ–‡ä»¶å¤–ï¼Œè¯¥ Skill ä¸­è¿˜åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li>
<p><strong>PATTERNS.mdï¼š</strong> ä¸€ä»½è¯¦ç»†çš„è¯´æ˜æ–‡æ¡£ï¼Œé€šè¿‡ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹å’Œåœºæ™¯è§£é‡Šï¼Œæ¥å±•ç¤ºå¦‚ä½•é«˜æ•ˆã€æ­£ç¡®åœ°ä½¿ç”¨ Cache Componentsã€‚</p>
</li>
<li>
<p><strong>REFERENCE.mdï¼š</strong> Cache Components çš„å®˜æ–¹ API å‚è€ƒæ‰‹å†Œï¼Œå®ƒç²¾ç¡®å®šä¹‰äº†æ‰€æœ‰ç›¸å…³å‡½æ•°ã€æŒ‡ä»¤å’Œæ ¸å¿ƒæ¦‚å¿µï¼Œç”¨äºæŸ¥æ‰¾å…·ä½“æŠ€æœ¯ç»†èŠ‚ã€‚</p>
</li>
<li>
<p><strong>TROUBLESHOOTING.mdï¼š</strong> Cache Components çš„æ•…éšœæ’æŸ¥æŒ‡å—ï¼Œæä¾›äº†ä¸€ç³»åˆ—å¸¸è§é”™è¯¯çš„è§£å†³æ–¹æ¡ˆã€è°ƒè¯•æ¸…å•å’Œå®ç”¨æŠ€å·§ï¼Œç”¨äºè¯Šæ–­å¹¶è§£å†³ä½¿ç”¨ç¼“å­˜ç»„ä»¶æ—¶é‡åˆ°çš„é—®é¢˜ã€‚</p>
</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>è‡ªåŠ¨ç”Ÿæˆç¼“å­˜ä¼˜åŒ–çš„æ•°æ®ç»„ä»¶</strong></p>
<p>å½“åˆ›å»ºæ•°æ®è·å–ç»„ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åº”ç”¨æœ€ä¼˜çš„æ¸²æŸ“ç­–ç•¥ï¼šé’ˆå¯¹å¯å…±äº«æ•°æ®ï¼ˆå¦‚äº§å“ç›®å½•ï¼‰ï¼Œä½¿ç”¨ **<em>'use cache'</em> **è¯­æ³•è¿›è¡Œç¼“å­˜ï¼›é’ˆå¯¹ç”¨æˆ·ä¸“å±å†…å®¹ï¼Œåˆ™è‡ªåŠ¨æ·»åŠ Â  **<em/> **Â è¾¹ç•Œï¼Œä»¥å®ç°åŠ¨æ€æµå¼æ¸²æŸ“ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨å®ç°æ•°æ®å˜æ›´åçš„ç¼“å­˜å¤±æ•ˆ</strong></p>
<p>å½“ç”Ÿæˆç”¨äºä¿®æ”¹æ•°æ®çš„ Server Action æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ³¨å…¥ç¼“å­˜å¤±æ•ˆé€»è¾‘ï¼ˆå¦‚Â **<em>updateTag()</em> **æ–¹æ³•ï¼‰ã€‚è¿™èƒ½ç¡®ä¿æ•°æ®å˜æ›´åï¼Œç›¸å…³ç¼“å­˜ä¼šç«‹å³æ›´æ–°ï¼Œä»è€Œä¿éšœæ•´ä¸ªåº”ç”¨çš„æ•°æ®ä¸€è‡´æ€§ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½åŒ–é¡µé¢æ„å»ºä¸ä»£ç ç°ä»£åŒ–</strong></p>
<p>åœ¨æ„å»ºé¡µé¢æˆ–å®¡æŸ¥ä»£ç æ—¶ï¼Œç³»ç»Ÿä¼šå¼ºåˆ¶éµå¾ª Partial Prerenderingï¼ˆPPRï¼‰æ¶æ„è§„èŒƒï¼Œä»¥å®ç°æœ€ä¼˜çš„åŠ è½½æ€§èƒ½ã€‚åŒæ—¶ï¼Œå®ƒèƒ½è¯†åˆ«å¹¶ç»™å‡ºç°ä»£åŒ–æ”¹é€ å»ºè®®ï¼Œä¾‹å¦‚ç”¨ç»„ä»¶çº§çš„Â  **<em>'use cache'</em> **æ›¿ä»£å·²è¿‡æ—¶çš„é¡µé¢çº§ç¼“å­˜é…ç½®ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/576dbcb9e9b4477aa69eeba63a066417~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=uqobAy%2BExIDGMinAz5ujfoDk0gE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…¨æ ˆå¼€å‘</strong></p>
<p><strong>åç§°</strong></p>
<p>fullstack-developer</p>
<p><strong>ä½œè€…</strong></p>
<p>Shubhamsaboo</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FShubhamsaboo%2Fawesome-llm-apps%2Ftree%2Fmain%2Fawesome_agent_skills%2Ffullstack-developer" target="_blank" title="https://github.com/Shubhamsaboo/awesome-llm-apps/tree/main/awesome_agent_skills/fullstack-developer" ref="nofollow noopener noreferrer">github.com/Shubhamsaboâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill çš„ä¸»è¦ä½œç”¨æ˜¯æ‰®æ¼”ä¸€ä¸ª ç²¾é€šç°ä»£ Web å¼€å‘æŠ€æœ¯çš„å…¨æ ˆä¸“å®¶è§’è‰²ã€‚å®ƒä¸“æ³¨äºä½¿ç”¨ JavaScript/TypeScript æŠ€æœ¯æ ˆï¼Œç‰¹åˆ«æ˜¯ React (Next.js)ã€Node.js å’Œä¸»æµæ•°æ®åº“ï¼Œæ¥å¸®åŠ©ä½ å®Œæˆå„ç±» Web å¼€å‘ä»»åŠ¡ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>æ„å»ºå®Œæ•´çš„ Web åº”ç”¨ï¼š</strong> ä»å‰ç«¯åˆ°åç«¯ï¼Œæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p><strong>å¼€å‘ APIï¼š</strong> åˆ›å»º RESTful æˆ– GraphQL é£æ ¼çš„åç«¯æ¥å£ã€‚</p>
</li>
<li>
<p><strong>åˆ›å»ºå‰ç«¯ç•Œé¢ï¼š</strong> ä½¿ç”¨ React æˆ– Next.js æ„å»ºç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åº“å’Œæ•°æ®å»ºæ¨¡ï¼š</strong> è®¾è®¡å’Œè®¾ç½®å¦‚ PostgreSQL æˆ– MongoDB ç­‰æ•°æ®åº“ã€‚</p>
</li>
<li>
<p><strong>å®ç°ç”¨æˆ·è®¤è¯ä¸æˆæƒï¼š</strong> é›†æˆ JWTã€OAuth ç­‰è®¤è¯æœºåˆ¶ã€‚</p>
</li>
<li>
<p><strong>éƒ¨ç½²ä¸æ‰©å±•åº”ç”¨ï¼š</strong> æä¾›åœ¨ Vercelã€Netlify ç­‰å¹³å°ä¸Šçš„éƒ¨ç½²æŒ‡å¯¼ã€‚</p>
</li>
<li>
<p><strong>é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼š</strong> åœ¨åº”ç”¨ä¸­æ¥å…¥å¤–éƒ¨æœåŠ¡ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78a6ecb924fc45f0914d68afc0c70be9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=64I7pg%2BR4VuHOLdT9B5dGZthrOc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä»£ç å®¡æŸ¥ï¼ˆå‰ç«¯ï¼‰</strong></p>
<p><strong>åç§°</strong></p>
<p>frontend-code-review</p>
<p><strong>ä½œè€…</strong></p>
<p>langgenius</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flanggenius%2Fdify%2Ftree%2Fmain%2F.agents%2Fskills%2Ffrontend-code-review" target="_blank" title="https://github.com/langgenius/dify/tree/main/.agents/skills/frontend-code-review" ref="nofollow noopener noreferrer">github.com/langgenius/â€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è‡ªåŠ¨åŒ–å®¡æŸ¥å‰ç«¯ä»£ç ï¼ˆå°¤å…¶é’ˆå¯¹ .tsxã€.tsã€.js ç­‰æ–‡ä»¶ï¼‰ã€‚å®ƒä¼šä¾æ®é¢„å®šä¹‰çš„è§„åˆ™æ¸…å•ï¼Œä»ä»£ç è´¨é‡ã€æ€§èƒ½è¡¨ç°ã€ä¸šåŠ¡é€»è¾‘ç­‰ç»´åº¦å¯¹ä»£ç å¼€å±•å…¨é¢åˆ†æã€‚å®¡æŸ¥å®Œæˆåï¼Œç³»ç»Ÿå°†ç”Ÿæˆç»“æ„æ¸…æ™°çš„æŠ¥å‘Šï¼ŒæŠŠå‘ç°çš„é—®é¢˜åˆ’åˆ†ä¸º â€œç´§æ€¥å¾…ä¿®å¤â€ å’Œ â€œæ”¹è¿›å»ºè®®â€ ä¸¤ç±»ï¼Œå¹¶æ ‡æ³¨å…·ä½“çš„ä»£ç ä½ç½®ã€æä¾›å¯è½åœ°çš„ä¿®å¤æ–¹æ¡ˆï¼ŒåŠ©åŠ›ä½ æå‡ä»£ç è´¨é‡ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>é™¤ SKILL.md æ–‡ä»¶å¤–ï¼Œè¯¥ Skill ä¸­è¿˜åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li>
<p><strong>references/business-logic.mdï¼š</strong> å®šä¹‰ä¸ç‰¹å®šä¸šåŠ¡åœºæ™¯ç›¸å…³çš„è§„åˆ™ï¼Œä»¥é˜²æ­¢å‡ºç°é€»è¾‘é”™è¯¯æˆ– Bugã€‚ä¾‹å¦‚ : è§„å®šåœ¨æŸäº›ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ workflowStore ï¼Œå› ä¸ºåœ¨ç‰¹å®šä½¿ç”¨åœºæ™¯ä¸‹ï¼ˆå¦‚ä»æ¨¡æ¿åˆ›å»ºç®¡é“æ—¶ï¼‰å®ƒä¼šå¯¼è‡´é¡µé¢ç™½å±ã€‚</p>
</li>
<li>
<p><strong>references/code-quality.mdï¼š</strong> åŒ…å«ä¸€ç³»åˆ—é€šç”¨ç¼–ç è§„èŒƒï¼Œæ—¨åœ¨ä¿æŒä»£ç çš„æ•´æ´ã€ä¸€è‡´å’Œå¯ç»´æŠ¤æ€§ã€‚ä¾‹å¦‚ : æ¨èä½¿ç”¨Â <em><strong>cn</strong></em> è¿™æ ·çš„å·¥å…·å‡½æ•°æ¥å¤„ç†åŠ¨æ€çš„ CSS ç±»åï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œä»¥ä¿è¯ä»£ç é£æ ¼ç»Ÿä¸€ã€‚</p>
</li>
<li>
<p><strong>references/performance.mdï¼š</strong> ä¸“æ³¨äºå‰ç«¯æ€§èƒ½ï¼Œæä¾›é¿å…å¸¸è§æ€§èƒ½é—®é¢˜çš„æœ€ä½³å®è·µã€‚ä¾‹å¦‚ : å»ºè®®å°†ä¼ é€’ç»™å­ç»„ä»¶çš„å¯¹è±¡æˆ–æ•°ç»„ç­‰å¤æ‚å±æ€§ç”¨Â <em><strong>useMemo</strong></em>Â åŒ…è£¹èµ·æ¥ï¼Œä»¥é˜²æ­¢ä¸å¿…è¦çš„ç»„ä»¶é‡æ¸²æŸ“ã€‚</p>
</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>å®¡æŸ¥å¾…æäº¤çš„å˜æ›´</strong></p>
<p>åœ¨ä½ å‡†å¤‡æäº¤ä»£ç ï¼ˆ<em><strong>git commit</strong></em>ï¼‰å‰ï¼Œå¯ä½¿ç”¨è¯¥ Skill å®¡æŸ¥æ‰€æœ‰å·²ä¿®æ”¹æˆ–å·²æš‚å­˜çš„æ–‡ä»¶ï¼Œæå‰è¯†åˆ«å¹¶æ ‡è®°ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ï¼Œé¿å…æ½œåœ¨çš„ Bug æˆ–æ€§èƒ½é—®é¢˜è¢«åˆå…¥ä»£ç åº“ã€‚</p>
</li>
<li>
<p><strong>å®¡æŸ¥æŒ‡å®šçš„æ–‡ä»¶</strong></p>
<p>å½“ä½ éœ€å¯¹ç‰¹å®šæ–‡ä»¶æˆ–æ¨¡å—è¿›è¡Œé‡æ„ã€ä¼˜åŒ–æˆ–é—®é¢˜æ’æŸ¥æ—¶ï¼Œå¯å°†ç›¸å…³æ–‡ä»¶äº¤ç”±è¯¥ Skill å®¡æŸ¥ï¼Œä»è€Œå¯¹ç›®æ ‡æ–‡ä»¶å¼€å±•é’ˆå¯¹æ€§æ·±åº¦åˆ†æï¼Œå¿«é€Ÿè·å–è¯¥æ–‡ä»¶çš„è´¨é‡è¯„ä¼°ç»“æœåŠæ”¹è¿›å»ºè®®ã€‚</p>
</li>
<li>
<p><strong>è·å–ç»“æ„åŒ–çš„ä¿®å¤æŠ¥å‘Š</strong></p>
<p>ä»£ç å®¡æŸ¥å‘ç°é—®é¢˜åï¼Œè¯¥ Skill ä¼šè‡ªåŠ¨æ•´ç†å¹¶è¾“å‡ºæ ‡å‡†åŒ–æŠ¥å‘Šã€‚è¿™ä»½æŠ¥å‘Šä¸ä»…ç½—åˆ—é—®é¢˜ï¼Œè¿˜ä¼šæŒ‰ç´§æ€¥ç¨‹åº¦æ’åºï¼ŒåŒæ—¶æ ‡æ³¨é—®é¢˜å¯¹åº”çš„æ–‡ä»¶è·¯å¾„ã€è¡Œå·ã€ç›¸å…³ä»£ç ç‰‡æ®µï¼Œå¹¶ç»™å‡ºå¯æ‰§è¡Œçš„ä¿®å¤æ–¹æ¡ˆã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc93647b17a14c2b8120111f43d1d653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=aZsihA0PTD6JfYChqP3XQaHmaDw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä»£ç å®¡æŸ¥ï¼ˆé€šç”¨ï¼‰</strong></p>
<p><strong>åç§°</strong></p>
<p>code-reviewer</p>
<p><strong>ä½œè€…</strong></p>
<p>google-gemini</p>
<p><strong>åœ°å€</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle-gemini%2Fgemini-cli%2Ftree%2Fmain%2F.gemini%2Fskills%2Fcode-reviewer" target="_blank" title="https://github.com/google-gemini/gemini-cli/tree/main/.gemini/skills/code-reviewer" ref="nofollow noopener noreferrer">github.com/google-gemiâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill æ—¨åœ¨å¼•å¯¼ AI å¼€å±•ä¸“ä¸šä¸”å…¨é¢çš„ä»£ç å®¡æŸ¥å·¥ä½œã€‚å®ƒæ—¢æ”¯æŒå®¡æŸ¥æœ¬åœ°ä»£ç æ”¹åŠ¨ï¼ˆåŒ…æ‹¬å·²æš‚å­˜å’Œæœªæš‚å­˜çš„å˜æ›´ï¼‰ï¼Œä¹Ÿå¯å®¡æŸ¥è¿œç¨‹ä»£ç åˆå¹¶è¯·æ±‚ï¼ˆPull Requestï¼Œç®€ç§° PRï¼‰ã€‚å®¡æŸ¥çš„æ ¸å¿ƒç›®æ ‡æ˜¯ä¿éšœä»£ç çš„æ­£ç¡®æ€§ã€å¯ç»´æŠ¤æ€§ï¼Œå¹¶ç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®æ—¢å®šçš„è§„èŒƒæ ‡å‡†ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>å®¡æŸ¥è¿œç¨‹ PR</strong></p>
<p>å½“ä½ å®ŒæˆåŠŸèƒ½å¼€å‘æˆ–é—®é¢˜ä¿®å¤å¹¶æäº¤ PR åï¼Œå¯å‘èµ· AI å®¡æŸ¥è¯·æ±‚ã€‚ä½ åªéœ€æä¾› PR ç¼–å·æˆ– URLï¼ˆä¾‹å¦‚ï¼š"Review PR #123"ï¼‰ï¼ŒAI ä¼šè‡ªåŠ¨æ£€å‡ºï¼ˆcheckoutï¼‰è¯¥ PR çš„ä»£ç ï¼Œè¿è¡Œé¡¹ç›®é¢„è®¾çš„æ£€æŸ¥è„šæœ¬ï¼ˆå¦‚Â <em><strong>npm run preflight</strong></em>ï¼‰ï¼ŒåŒæ—¶é˜…è¯» PR æè¿°ä¸è¯„è®ºä»¥ç†è§£å¼€å‘ç›®æ ‡ï¼Œéšåå¯¹ä»£ç å¼€å±•æ·±åº¦åˆ†æå¹¶ç»™å‡ºåé¦ˆã€‚</p>
</li>
<li>
<p><strong>å®¡æŸ¥æœ¬åœ°ä»£ç å˜æ›´</strong></p>
<p>è‹¥ä½ å¸Œæœ›åœ¨æäº¤ä»£ç æˆ–åˆ›å»º PR å‰ï¼Œå…ˆå¯¹æœ¬åœ°ä¿®æ”¹è¿›è¡Œå®¡æŸ¥ï¼Œåªéœ€å‘å‡º â€œå®¡æŸ¥æˆ‘çš„ä»£ç â€ ç­‰ç±»ä¼¼æŒ‡ä»¤å³å¯ï¼Œæ— éœ€æä¾› PR ç›¸å…³ä¿¡æ¯ï¼›AI ä¼šé€šè¿‡ <em><strong>git status</strong></em>ã€<em><strong>git diff</strong></em> ç­‰å‘½ä»¤ï¼Œæ£€æŸ¥å·¥ä½œåŒºä¸­å·²æš‚å­˜ï¼ˆstagedï¼‰å’Œæœªæš‚å­˜ï¼ˆunstagedï¼‰çš„ä»£ç æ”¹åŠ¨ï¼Œè¿›è€Œå¯¹è¿™äº›å˜æ›´è¿›è¡Œåˆ†æå¹¶åé¦ˆã€‚</p>
</li>
<li>
<p><strong>æä¾›æ·±åº¦åˆ†æä¸ç»“æ„åŒ–åé¦ˆ</strong></p>
<p>æ— è®ºæ˜¯å®¡æŸ¥è¿œç¨‹ PR è¿˜æ˜¯æœ¬åœ°ä»£ç å˜æ›´ï¼ŒAI éƒ½ä¼šä»å¤šç»´åº¦å¼€å±•æ·±åº¦çš„ä»£ç è´¨é‡åˆ†æï¼Œæ¶µç›–æ­£ç¡®æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯è¯»æ€§ä¸æ‰§è¡Œæ•ˆç‡ã€å®‰å…¨æ€§ä¸æµ‹è¯•å®Œæ•´æ€§ç­‰ç»´åº¦ã€‚æœ€ç»ˆï¼ŒAI ä¼šä»¥ç»“æ„åŒ–å½¢å¼è¾“å‡ºåé¦ˆï¼Œå†…å®¹åŒ…æ‹¬æ€»ä½“æ¦‚è¿°ã€å…·ä½“å‘ç°ï¼ˆå…³é”®é—®é¢˜ã€æ”¹è¿›å»ºè®®ï¼‰ä»¥åŠæ˜ç¡®çš„ç»“è®ºï¼ˆå¦‚æ‰¹å‡†åˆå¹¶æˆ–è¦æ±‚ä¿®æ”¹ï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c72032d2e369481ea5ddd016f14147cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=TEW0xPsWS4GMDvpG8ePWELsn2qs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç½‘é¡µåº”ç”¨æµ‹è¯•</strong></p>
<p><strong>åç§°</strong></p>
<p>webapp-testing</p>
<p><strong>ä½œè€…</strong></p>
<p>Anthropic</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Ftree%2Fmain%2Fskills%2Fwebapp-testing" target="_blank" title="https://github.com/anthropics/skills/tree/main/skills/webapp-testing" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill æ˜¯ä¸€ä¸ªåŸºäº Playwright æ„å»ºçš„æœ¬åœ° Web åº”ç”¨æµ‹è¯•å·¥å…·é›†ï¼Œæ”¯æŒå‰ç«¯åŠŸèƒ½éªŒè¯ã€UI è¡Œä¸ºè°ƒè¯•ã€é¡µé¢æˆªå›¾åŠæµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—é‡‡é›†ï¼Œé€‚é…ã€Œå…ˆä¾¦æŸ¥åè¡ŒåŠ¨ã€çš„æµ‹è¯•æµç¨‹ã€‚å·¥å…·é›†æä¾›ç¤ºä¾‹è„šæœ¬ä¸è¾…åŠ©è„šæœ¬ï¼Œè¦†ç›–é™æ€ HTML è‡ªåŠ¨åŒ–æµ‹è¯•ã€å…ƒç´ å®šä½ã€æ—¥å¿—æŠ“å–èƒ½åŠ›ï¼Œå¹¶å¯åœ¨å¤šæœåŠ¡åœºæ™¯ä¸‹ç»Ÿä¸€ç®¡ç†æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>é™¤ SKILL.md æ–‡ä»¶å¤–ï¼Œè¯¥ Skill ä¸­è¿˜åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li>
<p><strong>examples/console_logging.pyï¼š</strong> æ¼”ç¤ºäº†åœ¨è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶å¦‚ä½•æ•è·å¹¶ä¿å­˜ç½‘é¡µçš„æ§åˆ¶å°æ—¥å¿—ï¼Œç”¨äºè°ƒè¯•å’Œç›‘æ§ã€‚</p>
</li>
<li>
<p><strong>examples/element_discovery.pyï¼š</strong> å±•ç¤ºäº†å¦‚ä½•è‡ªåŠ¨å‘ç°å’Œåˆ—å‡ºé¡µé¢ä¸Šæ‰€æœ‰çš„æŒ‰é’®ã€é“¾æ¥å’Œè¾“å…¥æ¡†ç­‰å¯äº¤äº’å…ƒç´ ï¼Œæ˜¯ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬å‰çš„é‡è¦æ­¥éª¤ã€‚</p>
</li>
<li>
<p><strong>examples/static_html_automation.pyï¼š</strong> ç¤ºèŒƒäº†å¦‚ä½•ç›´æ¥å¯¹æœ¬åœ°çš„é™æ€ HTML æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œï¼ˆå¦‚ç‚¹å‡»ã€å¡«è¡¨ï¼‰ï¼Œè€Œæ— éœ€é€šè¿‡ç½‘ç»œæœåŠ¡å™¨ã€‚</p>
</li>
<li>
<p><strong>scripts/with_server.pyï¼š</strong> è‡ªåŠ¨åŒ–è¾…åŠ©è„šæœ¬ã€‚åœ¨æ‰§è¡Œä¸€ä¸ªä¸»å‘½ä»¤ï¼ˆä¾‹å¦‚è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï¼‰ä¹‹å‰ï¼Œå…ˆå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªä¾èµ–çš„æœåŠ¡ï¼ˆå¦‚å‰ç«¯æˆ–åç«¯æœåŠ¡å™¨ï¼‰ï¼Œå¹¶ç¡®ä¿è¿™äº›æœåŠ¡å®Œå…¨å°±ç»ªåï¼Œå†æ‰§è¡Œä¸»å‘½ä»¤ï¼Œæœ€ååœ¨å‘½ä»¤ç»“æŸåè‡ªåŠ¨å…³é—­æ‰€æœ‰æœåŠ¡ã€‚</p>
</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>è‡ªåŠ¨éªŒè¯å‰ç«¯åŠŸèƒ½</strong></p>
<p>å½“ä½ åœ¨æœ¬åœ°å¼€å‘ Web åº”ç”¨ï¼ˆå¦‚ä½¿ç”¨ Reactã€Vueã€Svelte ç­‰æ¡†æ¶ï¼‰ï¼Œå¹¶å¸Œæœ›éªŒè¯æŸä¸ªæ–°åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿è¡Œæ—¶ï¼Œåªéœ€ç”¨è‡ªç„¶è¯­è¨€å‘ŠçŸ¥ AI æµ‹è¯•éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šâ€œå¸®æˆ‘æµ‹è¯•ç™»å½•åŠŸèƒ½â€ï¼‰ï¼ŒAI ä¼šè‡ªåŠ¨ç¼–å†™ Playwright è„šæœ¬æ¥æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œå¹¶å‘ä½ åé¦ˆé¡µé¢çŠ¶æ€æˆ–å†…å®¹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
</li>
<li>
<p><strong>è°ƒè¯•ä¸åˆ†æ UI è¡Œä¸º</strong></p>
<p>è‹¥ä½ å‘ç°é¡µé¢ä¸­æŸå…ƒç´ æ¸²æŸ“å¼‚å¸¸æˆ–äº¤äº’è¡Œä¸ºå¼‚å¸¸ï¼Œå¯å‘ AI ä¸‹è¾¾æŒ‡ä»¤ï¼ˆä¾‹å¦‚ï¼šâ€œæˆªå–é¦–é¡µå®Œæ•´æˆªå›¾â€ æˆ– â€œæ£€æŸ¥æŒ‰é’®çš„ DOM ç»“æ„â€ï¼‰ï¼ŒAI ä¼šæ‰§è¡Œå¯¹åº”è„šæœ¬ï¼Œæ•è·æˆªå›¾æˆ–è·å– HTML å†…å®¹ï¼Œå¹¶å°†ä¾¦å¯Ÿç»“æœè¿”å›ç»™ä½ ï¼ŒåŠ©åŠ›å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>å¤„ç†éœ€è¦åå°æœåŠ¡çš„å¤æ‚äº¤äº’</strong></p>
<p>è‹¥ä½ çš„åº”ç”¨ä¸ºå‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæµ‹è¯•å‰ç«¯åŠŸèƒ½éœ€åç«¯ API æœåŠ¡åŒæ­¥è¿è¡Œï¼Œåªéœ€å‘ŠçŸ¥ AI é¡¹ç›®ç»“æ„ä¸å¯åŠ¨å‘½ä»¤ï¼ŒAI ä¼šå€ŸåŠ©Â <em><strong>with_server.py</strong></em> è„šæœ¬æ¥åŒæ—¶å¯åŠ¨æ‰€æœ‰å¿…éœ€æœåŠ¡ï¼Œå†è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œç¡®ä¿æµ‹è¯•åœ¨å®Œæ•´çš„ç¯å¢ƒä¸­æ‰§è¡Œã€‚</p>
</li>
<li>
<p><strong>æµ‹è¯•é™æ€ HTML æ–‡ä»¶</strong></p>
<p>è‹¥ä½ æœ‰ä¸ä¾èµ–æœåŠ¡å™¨çš„çº¯é™æ€ HTML é¡µé¢ï¼Œéœ€éªŒè¯å…¶å†…å®¹æˆ–ç»“æ„ï¼Œåªéœ€å‘ AI æä¾›æ–‡ä»¶è·¯å¾„ä¸æµ‹è¯•éœ€æ±‚ï¼ŒAI ä¼šç¼–å†™è„šæœ¬å¹¶é€šè¿‡Â **<em>file://</em> **åè®®åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå®ŒæˆéªŒè¯æ“ä½œã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/753155b47ff945b4bde8f4fe15b937b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=3uX1BzlmJGtGz5x%2Bl6%2FNI%2BZE9Mg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>CI/CDï¼šPR åˆ›å»º</strong></p>
<p><strong>åç§°</strong></p>
<p>pr-creator</p>
<p><strong>ä½œè€…</strong></p>
<p>google-gemini</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle-gemini%2Fgemini-cli%2Ftree%2Fmain%2F.gemini%2Fskills%2Fpr-creator" target="_blank" title="https://github.com/google-gemini/gemini-cli/tree/main/.gemini/skills/pr-creator" ref="nofollow noopener noreferrer">github.com/google-gemiâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill çš„æ ¸å¿ƒä½œç”¨æ˜¯å¼•å¯¼å¹¶è‡ªåŠ¨åŒ–åˆ›å»ºé«˜è´¨é‡ã€ç¬¦åˆè§„èŒƒçš„æ‹‰å–è¯·æ±‚ï¼ˆPull Requestï¼Œç®€ç§° PRï¼‰ã€‚å®ƒé€šè¿‡æ ‡å‡†åŒ–å·¥ä½œæµç¨‹ï¼Œç¡®ä¿æ¯ä¸€æ¬¡ä»£ç æäº¤å‡éµå¾ªé¡¹ç›®é¢„è®¾çš„æ¨¡æ¿ä¸è´¨é‡æ£€æŸ¥æ ‡å‡†ï¼Œä»è€Œæå‡ä»£ç å®¡æŸ¥æ•ˆç‡ã€ä¿éšœå›¢é˜Ÿåä½œçš„ä¸€è‡´æ€§ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>ä¸€é”®åˆ›å»ºç¬¦åˆè§„èŒƒçš„ PR</strong></p>
<p>å½“ä½ åœ¨æœ¬åœ°å®Œæˆæ–°åŠŸèƒ½å¼€å‘æˆ– Bug ä¿®å¤ï¼Œå¹¶å·²æäº¤ä»£ç ï¼ˆgit commitï¼‰åï¼Œå¯è°ƒç”¨æ­¤ Skillï¼Œè®© AI è‡ªåŠ¨æ‰§è¡Œåˆ†æ”¯æ£€æŸ¥ã€æŸ¥æ‰¾å¹¶åº”ç”¨ PR æ¨¡æ¿ã€è¿è¡Œé¢„æ£€è„šæœ¬ï¼ˆå¦‚æµ‹è¯•å’Œ lintingï¼‰ï¼Œå¹¶æœ€ç»ˆç”Ÿæˆä¸€ä¸ªæ ‡é¢˜å’Œæè¿°éƒ½å®Œå…¨ç¬¦åˆé¡¹ç›®è§„èŒƒçš„ PRã€‚</p>
</li>
<li>
<p><strong>å¼•å¯¼è´¡çŒ®è€…å®Œæˆé¦–æ¬¡ä»£ç æäº¤</strong></p>
<p>å½“æ–°å›¢é˜Ÿæˆå‘˜æˆ–å¤–éƒ¨è´¡çŒ®è€…ä¸ç†Ÿæ‚‰é¡¹ç›®çš„æäº¤æµç¨‹å’Œè§„èŒƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ Skillï¼Œè®© AI ä»¥æ™ºèƒ½å‘å¯¼çš„å½¢å¼ï¼Œè‡ªåŠ¨å®Œæˆæ¨¡æ¿æŸ¥æ‰¾ã€è„šæœ¬æ‰§è¡Œç­‰ç¹çæ“ä½œï¼Œä»…éœ€ç”¨æˆ·å¡«å†™å¿…è¦çš„æ ‡é¢˜ä¸æè¿°ï¼Œå¤§å¹…é™ä½ä»£ç è´¡çŒ®é—¨æ§›ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨æ‰§è¡Œåˆ›å»º PR å‰çš„è´¨é‡æ£€æŸ¥</strong></p>
<p>åœ¨æ­£å¼åˆ›å»º PR ä¹‹å‰ï¼Œå¯ä»¥è°ƒç”¨è¯¥ Skillï¼Œè®© AI è‡ªåŠ¨è¿è¡Œé¡¹ç›®é¢„è®¾çš„ preflight è„šæœ¬ï¼Œæ‰§è¡Œæ‰€æœ‰å¿…è¦çš„æ„å»ºã€å•å…ƒæµ‹è¯•å’Œä»£ç é£æ ¼æ£€æŸ¥ã€‚å¦‚æœä»»ä½•æ£€æŸ¥å¤±è´¥ï¼ŒAI ä¼šä¸­æ­¢æäº¤æµç¨‹å¹¶æç¤ºå¼€å‘è€…è¿›è¡Œä¿®å¤ï¼ŒèŠ‚çº¦äº†å®¡æŸ¥è€…çš„æ—¶é—´å’Œç²¾åŠ›ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6236ca456014cefb5e0b8a4a420a6f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=U%2FxishHnrbktobjpyixkwvfzkq0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Linting å’Œæ ¼å¼é”™è¯¯ä¿®å¤</strong></p>
<p><strong>åç§°</strong></p>
<p>fix</p>
<p><strong>ä½œè€…</strong></p>
<p>facebook</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Ftree%2Fmain%2F.claude%2Fskills%2Ffix" target="_blank" title="https://github.com/facebook/react/tree/main/.claude/skills/fix" ref="nofollow noopener noreferrer">github.com/facebook/reâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¿™ä¸ª skill çš„æ ¸å¿ƒä½œç”¨æ˜¯è‡ªåŠ¨åŒ–åœ°ä¿®å¤ä»£ç æ ¼å¼å¹¶æ£€æŸ¥ä»£ç è§„èŒƒï¼ˆlintingï¼‰é”™è¯¯ ã€‚å®ƒé€šè¿‡æ‰§è¡Œä¸¤ä¸ªå…³é”®å‘½ä»¤æ¥ä¿è¯ä»£ç è´¨é‡ï¼š</p>
<ul>
<li>
<p>**<em>yarn prettierï¼š</em> **è‡ªåŠ¨æ ¼å¼åŒ–å·²ä¿®æ”¹çš„æ–‡ä»¶ï¼Œç»Ÿä¸€ä»£ç é£æ ¼ã€‚</p>
</li>
<li>
<p>**<em>yarn lincï¼š</em> **æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦å­˜åœ¨ linting é”™è¯¯ï¼ˆè¿™äº›æ˜¯ Prettier æ— æ³•ä¿®å¤çš„ï¼Œä¾‹å¦‚æœªä½¿ç”¨çš„å˜é‡ã€é€»è¾‘é”™è¯¯ç­‰ï¼‰ï¼Œè¿™äº›é”™è¯¯é€šå¸¸ä¼šå¯¼è‡´æŒç»­é›†æˆï¼ˆCIï¼‰å¤±è´¥ã€‚</p>
</li>
</ul>
<p>æœ€ç»ˆç›®æ ‡æ˜¯ç¡®ä¿ä»£ç åœ¨æäº¤å‰ç¬¦åˆé¡¹ç›®è§„èŒƒï¼Œä»è€Œé¡ºåˆ©é€šè¿‡ CI/CD æµç¨‹ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>æäº¤ä»£ç å‰çš„é¢„é˜²æ€§æ£€æŸ¥</strong></p>
<p>åœ¨ä½ å®Œæˆç¼–ç ï¼Œæ‰§è¡ŒÂ <em><strong>git commit</strong></em> ä¹‹å‰ï¼Œè¿è¡Œè¯¥ Skillï¼Œè®© AI è‡ªåŠ¨æ¸…ç†ä»£ç æ ¼å¼ï¼Œå¹¶æç¤ºä»»ä½•éœ€è¦æ‰‹åŠ¨ä¿®å¤çš„ linting é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>ä¿®å¤å·²å‘ç°çš„ linting æˆ–æ ¼å¼é—®é¢˜</strong></p>
<p>å½“ä½ åœ¨ç¼–ç è¿‡ç¨‹ä¸­æˆ–æ¥æ‰‹ä»–äººä»£ç æ—¶ï¼Œå‘ç°å½“å‰å·¥ä½œåŒºå†…å­˜åœ¨æ˜æ˜¾çš„æ ¼å¼æ··ä¹±æˆ– linting é”™è¯¯æç¤ºï¼ˆä¾‹å¦‚ï¼ŒIDE çš„è­¦å‘Šï¼‰ï¼Œå¯ä»¥ç«‹å³è¿è¡Œè¯¥ Skillï¼Œå¿«é€Ÿè§£å†³å½“å‰å·²çŸ¥çš„ä»£ç è´¨é‡é—®é¢˜ï¼Œä»è€Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿æŒä»£ç çš„æ•´æ´å’Œå¯è¯»æ€§ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æŒç»­é›†æˆï¼ˆCIï¼‰å¤±è´¥é—®é¢˜</strong></p>
<p>å½“ä¸€ä¸ªæäº¤è¢«æ¨é€åˆ°æœåŠ¡å™¨åï¼ŒCI æµæ°´çº¿æŠ¥å‘Šäº†å›  linting æˆ–æ ¼å¼é”™è¯¯å¯¼è‡´çš„å¤±è´¥ã€‚æ­¤æ—¶ä½ å¯ä»¥åœ¨æœ¬åœ°å¯¹åº”çš„åˆ†æ”¯ä¸Šè¿è¡Œæ­¤ Skillï¼Œè®© AI è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜ï¼Œå¹¶åˆ—å‡ºéœ€è¦æ‰‹åŠ¨æ›´æ­£çš„ linting é”™è¯¯ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½å¹¶è§£å†³é—®é¢˜ï¼Œç„¶åæäº¤ä¿®å¤ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf6efc3f23004ad1b1a08e79540e732b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=2t%2FIN%2FM8QVJ87CCc2tqQN%2F8tBlI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æŠ€æœ¯æ–‡æ¡£æ›´æ–°</strong></p>
<p><strong>åç§°</strong></p>
<p>update-docs</p>
<p><strong>ä½œè€…</strong></p>
<p>vercel</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2F.claude%2Fskills%2Fupdate-docs" target="_blank" title="https://github.com/vercel/next.js/tree/canary/.claude/skills/update-docs" ref="nofollow noopener noreferrer">github.com/vercel/nextâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill æ˜¯ä¸€å¥—ç”¨äºæ›´æ–° Next.js é¡¹ç›®æ–‡æ¡£çš„å¼•å¯¼å¼å·¥ä½œæµï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å¸®åŠ©ä½ æ ¹æ®æºä»£ç çš„å˜æ›´ï¼Œæ¥åˆ†æã€æ›´æ–°å’Œåˆ›å»ºç›¸å…³çš„æ–‡æ¡£ï¼Œç¡®ä¿ä»£ç å’Œæ–‡æ¡£ä¿æŒåŒæ­¥ã€‚å®ƒç‰¹åˆ«ä¸ºå®¡æŸ¥ Pull Request (PR) æ—¶çš„æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥è€Œè®¾è®¡ï¼Œé€šè¿‡ä¸€ç³»åˆ—æ ‡å‡†åŒ–çš„æ­¥éª¤æ¥è§„èŒƒæ–‡æ¡£çš„ä¿®æ”¹è¿‡ç¨‹ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>Â  Â </p>
<p>é™¤ SKILL.md æ–‡ä»¶å¤–ï¼Œè¯¥ Skill ä¸­è¿˜åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li><strong>references/CODE-TO-DOCS-MAPPING.mdï¼š</strong> å®šä¹‰äº†æºä»£ç å’Œæ–‡æ¡£ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€å¼ åœ°å›¾ï¼Œå‘Šè¯‰ AI å½“æŸä¸ªä»£ç æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåº”è¯¥å»æ›´æ–°å“ªä¸ªæ–‡æ¡£æ–‡ä»¶ã€‚</li>
<li><strong>references/DOC-CONVENTIONS.mdï¼š</strong> é£æ ¼æŒ‡å—å’Œè§„åˆ™æ‰‹å†Œï¼Œè¯¦ç»†è§„å®šäº†æ–‡æ¡£çš„æ ¼å¼ã€ç»“æ„å’Œå†™ä½œé£æ ¼ï¼Œä»¥ç¡®ä¿æ‰€æœ‰æ–‡æ¡£éƒ½ä¿æŒä¸€è‡´æ€§å’Œé«˜è´¨é‡ã€‚</li>
</ul>
<p>Â  Â </p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>åˆ†æä»£ç å˜æ›´å¯¹æ–‡æ¡£çš„å½±å“</strong></p>
<p>æäº¤ä»£ç å˜æ›´åï¼Œå¯ä»¥è°ƒç”¨è¯¥ Skill æ¥åˆ†æå“ªäº›æ–‡æ¡£æ–‡ä»¶éœ€è¦æ›´æ–°ã€‚</p>
<p>å®ƒä¼šé€šè¿‡Â <em><strong>git diff</strong></em> å‘½ä»¤æ£€æŸ¥ä½ çš„åˆ†æ”¯ä¸Â <em><strong>canary</strong></em>Â åˆ†æ”¯ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶æ ¹æ®é¢„å®šä¹‰çš„æ˜ å°„å…³ç³»Â  <em><strong>(references/CODE-TO-DOCS-MAPPING.md</strong></em>)ï¼Œæ‰¾å‡ºä¸å˜æ›´çš„ä»£ç æ–‡ä»¶ç›¸å¯¹åº”çš„æ–‡æ¡£æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æ›´æ–°ç°æœ‰çš„æ–‡æ¡£</strong></p>
<p>å¯¹äºå·²ç»å­˜åœ¨çš„æ–‡æ¡£ï¼Œå½“å…¶å¯¹åº”çš„åŠŸèƒ½æˆ– API å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆä¾‹å¦‚ç»„ä»¶æ–°å¢äº† propsã€å‡½æ•°è¡Œä¸ºå˜æ›´ï¼‰ï¼Œè¯¥ Skill ä¼šå¼•å¯¼ä½ æ›´æ–°ç°æœ‰æ–‡æ¡£ã€‚</p>
<p>å®ƒä¼šæç¤ºä½ å¦‚ä½•æ·»åŠ æˆ–ä¿®æ”¹ props è¡¨æ ¼ã€æ›´æ–°ä»£ç ç¤ºä¾‹ã€æ·»åŠ åºŸå¼ƒé€šçŸ¥ç­‰ï¼Œå¹¶éµå¾ªé¡¹ç›®å›ºæœ‰çš„æ–‡æ¡£è§„èŒƒï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨Â  **<em/> **Â /Â  **<em/> **Â æ¥åŒºåˆ†ä¸åŒè·¯ç”±çš„å†…å®¹ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¸ºæ–°åŠŸèƒ½åˆ›å»ºè„šæ‰‹æ¶æ–‡æ¡£</strong></p>
<p>å½“ä½ åœ¨é¡¹ç›®ä¸­æ·»åŠ äº†ä¸€ä¸ªå…¨æ–°çš„åŠŸèƒ½æ—¶ï¼ˆä¾‹å¦‚ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€å‡½æ•°æˆ–é…ç½®é¡¹ï¼‰ï¼Œè¯¥ Skill å¯ä»¥å¸®ä½ å¿«é€Ÿåˆ›å»ºç¬¦åˆè§„èŒƒçš„æ–°æ–‡æ¡£ã€‚</p>
<p>å®ƒä¸ºä¸åŒç±»å‹çš„æ–‡æ¡£ï¼ˆå¦‚ API å‚è€ƒã€æŒ‡å—ï¼‰æä¾›äº†æ ‡å‡†æ¨¡æ¿ï¼Œç¡®ä¿æ–°æ–‡æ¡£çš„ç»“æ„ã€å‘½åå’Œå…ƒä¿¡æ¯ï¼ˆFrontmatterï¼‰éƒ½ç¬¦åˆé¡¹ç›®è¦æ±‚ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e852ea687a5540d09d8dd07e9fcf658f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6JmO5YS_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771378707&amp;x-signature=JcsFvlZsovdSFv%2BpLMGzUNPNeoM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æŸ¥æ‰¾ Skill</strong></p>
<p><strong>åç§°</strong></p>
<p>find-skills</p>
<p><strong>ä½œè€…</strong></p>
<p>vercel</p>
<p><strong>åœ°å€</strong></p>
<p>Â  Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fskills%2Ftree%2Fmain%2Fskills%2Ffind-skills" target="_blank" title="https://github.com/vercel-labs/skills/tree/main/skills/find-skills" ref="nofollow noopener noreferrer">github.com/vercel-labsâ€¦</a></p>
<p>Â  Â </p>
<p><strong>ç®€ä»‹</strong></p>
<p>è¯¥ Skill ä¸»è¦ä½œç”¨å¸®åŠ©ä½ å‘ç°å¹¶å®‰è£… Agent Skillã€‚</p>
<p>å®ƒä¾æ‰˜åä¸ºÂ <em><strong>skills</strong></em> çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ï¼Œè®©ä½ å¯ä»¥ä»å¼€æ”¾çš„ Agent Skill ç”Ÿæ€ä¸­æœç´¢ã€å®‰è£…ä¸ç®¡ç†å„ç±»æ¨¡å—åŒ–æŠ€èƒ½åŒ…ï¼›è¿™äº›æŠ€èƒ½å¯æ‰©å±• Agent èƒ½åŠ›ï¼Œä¸ºå…¶è¡¥å……ç‰¹å®šé¢†åŸŸçŸ¥è¯†ã€æ ‡å‡†åŒ–å·¥ä½œæµä¸å·¥å…·èƒ½åŠ›ã€‚</p>
<p><strong>èµ„æºæ–‡ä»¶</strong></p>
<p>è¯¥ Skill ä¸­ä»…åŒ…å«ä¸€ä¸ª SKILL.md æ–‡ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>æ¢ç´¢æœªçŸ¥çš„ Skill</strong></p>
<p>å½“ä½ å¸Œæœ› Agent å¸®å¿™å¤„ç†æŸä¸ªç‰¹å®šé¢†åŸŸçš„ä»»åŠ¡ï¼Œä½†ä¸ç¡®å®š Agent æ˜¯å¦å…·å¤‡ç›¸åº”èƒ½åŠ›æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ Skill è¿›è¡Œæ¢ç´¢ã€‚ä¾‹å¦‚ï¼Œå½“ä½ è¯¢é—® â€œä½ èƒ½å¸®æˆ‘è¯„å®¡ä»£ç å—ï¼Ÿâ€ æˆ– â€œå¦‚ä½•ä¸ºæˆ‘çš„é¡¹ç›®ç”Ÿæˆæ–‡æ¡£ï¼Ÿâ€ æ—¶ï¼Œè¯¥ Skill ä¼šè¢«æ¿€æ´»ï¼Œä¸»åŠ¨åœ¨æŠ€èƒ½å¸‚åœºä¸­æœç´¢ä¸ â€œä»£ç è¯„å®¡â€ æˆ–â€œ æ–‡æ¡£ç”Ÿæˆâ€ ç›¸å…³çš„èƒ½åŠ›ï¼Œå¹¶å°†æ‰¾åˆ°çš„å¯ç”¨æŠ€èƒ½å‘ˆç°ç»™ä½ .</p>
</li>
<li>
<p><strong>æŸ¥æ‰¾ç‰¹å®šçš„ Skill</strong></p>
<p>å½“ä½ æ˜ç¡®çŸ¥é“éœ€è¦ä¸€ä¸ª Skill æ¥è§£å†³ç‰¹å®šé—®é¢˜ï¼Œä½†ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸ª Skill æ—¶ï¼Œå¯ä»¥ä¸»åŠ¨è°ƒç”¨æ­¤ Skill è¿›è¡Œç²¾ç¡®æŸ¥æ‰¾ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ç›´æ¥è¯´ â€œå¸®æˆ‘æ‰¾ä¸€ä¸ªç”¨äº React æ€§èƒ½ä¼˜åŒ–çš„ skillâ€ï¼Œè¯¥ Skill ä¼šå°† â€œReact æ€§èƒ½ä¼˜åŒ–â€ ä½œä¸ºå…³é”®è¯è¿›è¡Œæœç´¢ï¼Œå¹¶è¿”å›æœ€åŒ¹é…çš„æŠ€èƒ½é€‰é¡¹ï¼Œå¦‚ â€œvercel-react-best-practicesâ€ã€‚</p>
</li>
<li>
<p><strong>æä¾›å¯æ‰§è¡Œçš„ Skill å®‰è£…å»ºè®®</strong></p>
<p>å½“è¯¥ Skill æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªåŒ¹é…çš„ skill åï¼Œå®ƒä¼šè‡ªåŠ¨æ•´ç†å¹¶è¾“å‡ºä¸€ä»½æ ‡å‡†åŒ–çš„æ¨èä¿¡æ¯ã€‚è¿™ä»½ä¿¡æ¯ä¸ä»…åŒ…å«æŠ€èƒ½çš„åç§°å’ŒåŠŸèƒ½ç®€ä»‹ ï¼Œè¿˜ä¼šæä¾› ä¸€é”®å®‰è£…æŒ‡ä»¤ (<em><strong>npx skills</strong></em> **<em>add ...</em> **)Â ä»¥åŠæŒ‡å‘æŠ€èƒ½è¯¦æƒ…é¡µçš„å®˜æ–¹é“¾æ¥ã€‚</p>
</li>
</ul>
<p>æ¬¢è¿å¤§å®¶å®‰è£…å°è¯•ï½å…ˆä»ä¼šç”¨ Skills å¼€å§‹ï¼</p>
<hr/>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fv0zI98Ehd_U4JUYQ1_ILPA" target="_blank" title="https://mp.weixin.qq.com/s/v0zI98Ehd_U4JUYQ1_ILPA" ref="nofollow noopener noreferrer">æ¥æº</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3åˆ†é’Ÿå¿«é€ŸæŒæ¡ skills æ ¸å¿ƒåŸç†]]></title>    <link>https://juejin.cn/post/7605041451327586347</link>    <guid>https://juejin.cn/post/7605041451327586347</guid>    <pubDate>2026-02-10T13:36:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041451327586347" data-draft-id="7604853010171609129" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3åˆ†é’Ÿå¿«é€ŸæŒæ¡ skills æ ¸å¿ƒåŸç†"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2026-02-10T13:36:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è™«å°å‘“"/> <meta itemprop="url" content="https://juejin.cn/user/4257765628844654"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3åˆ†é’Ÿå¿«é€ŸæŒæ¡ skills æ ¸å¿ƒåŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4257765628844654/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è™«å°å‘“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T13:36:46.000Z" title="Tue Feb 10 2026 13:36:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Skills æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Claude Code ä¸­çš„ Skills æ˜¯ä¸€ç§å¼ºå¤§çš„åŠŸèƒ½æ‰©å±•æœºåˆ¶ï¼Œå®ƒå…è®¸ä½ å°†ä¸“ä¸šçŸ¥è¯†ã€å·¥ä½œæµç¨‹å’Œæœ€ä½³å®è·µå°è£…æˆå¯å¤ç”¨çš„æ¨¡å—ï¼Œè®© AI åŠ©æ‰‹èƒ½æ›´ç²¾å‡†åœ°ç†è§£å¹¶æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼å¯ä»¥å¸®åŠ©ä½ å¿«é€ŸæŠŠæ¡å…¶æ ¸å¿ƒæ¦‚å¿µã€‚</p>



































<table><thead><tr><th>ç‰¹æ€§ç»´åº¦</th><th>ä¼ ç»Ÿä¸€æ¬¡æ€§æç¤ºè¯ (Prompt)</th><th>Claude Skills</th></tr></thead><tbody><tr><td><strong>çŸ¥è¯†è½½ä½“</strong></td><td>å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæ˜“ä¸¢å¤±</td><td>æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ ‡å‡†åŒ–æ–‡ä»¶å¤¹ï¼ŒæŒä¹…åŒ–å­˜å‚¨</td></tr><tr><td><strong>å¤ç”¨æ€§</strong></td><td>ä½ï¼Œæ¯æ¬¡æ–°å¯¹è¯éœ€é‡æ–°è§£é‡Š</td><td>é«˜ï¼Œä¸€æ¬¡åˆ›å»ºï¼Œå¤šæ¬¡è°ƒç”¨ï¼Œè·¨é¡¹ç›®å…±äº«</td></tr><tr><td><strong>çŸ¥è¯†ç®¡ç†</strong></td><td>çŸ¥è¯†æ•£è½ï¼Œéš¾ä»¥ç»´æŠ¤å’Œè¿­ä»£</td><td>æ¨¡å—åŒ–ç®¡ç†ï¼Œä¸åŒé¢†åŸŸçŸ¥è¯†ç‹¬ç«‹å°è£…ï¼Œæ˜“äºæ›´æ–°</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡ä½¿ç”¨</strong></td><td>æ‰€æœ‰æŒ‡ä»¤ä¸€æ¬¡æ€§å…¨é‡åŠ è½½ï¼Œå ç”¨å¤§é‡ Token</td><td><strong>æ¸è¿›å¼æŠ«éœ²</strong>ï¼ŒæŒ‰éœ€åˆ†å±‚åŠ è½½ï¼Œæå¤§èŠ‚çœ Token</td></tr><tr><td><strong>æ‰§è¡Œèƒ½åŠ›</strong></td><td>ä¾èµ–æ¨¡å‹ç”Ÿæˆä»£ç æˆ–æ–‡æœ¬</td><td>å¯æ†ç»‘<strong>å¯æ‰§è¡Œè„šæœ¬</strong>ï¼Œç›´æ¥è¿è¡Œï¼Œç»“æœç¡®å®šä¸”é«˜æ•ˆ</td></tr></tbody></table>
<h3 data-id="heading-1">æ ¸å¿ƒæœºåˆ¶ï¼šæ¸è¿›å¼æŠ«éœ²</h3>
<p>Skills çš„å…³é”®ä¼˜åŠ¿åœ¨äºå…¶â€œæ¸è¿›å¼æŠ«éœ²â€çš„æ™ºèƒ½åŠ è½½ç­–ç•¥ï¼Œè¿™ç±»ä¼¼äºæŸ¥å­—å…¸æ—¶å…ˆçœ‹ç›®å½•ï¼Œå†æ‰¾ç« èŠ‚ï¼Œæœ€åæŸ¥é˜…é™„å½•ï¼Œè€Œä¸æ˜¯èƒŒè¯µæ•´æœ¬å­—å…¸ã€‚å…¶åŠ è½½è¿‡ç¨‹åˆ†ä¸ºä¸‰å±‚ï¼š</p>
<ol>
<li>
<ol>
<li><strong>å…ƒæ•°æ®å±‚</strong>ï¼šæ¯ä¸ª Skill çš„ <code>SKILL.md</code> æ–‡ä»¶é¡¶éƒ¨åŒ…å«ç®€çŸ­çš„ <code>name</code> å’Œ <code>description</code>ã€‚Claude åœ¨å¯åŠ¨æ—¶ä¼šåŠ è½½æ‰€æœ‰ Skills çš„å…ƒæ•°æ®ï¼ˆæ¯ä¸ªçº¦100 Tokensï¼‰ï¼Œå½¢æˆä¸€ä¸ªâ€œæŠ€èƒ½ç›®å½•â€ï¼Œç”¨äºå¿«é€ŸåŒ¹é…ç”¨æˆ·è¯·æ±‚ã€‚</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>æ ¸å¿ƒæŒ‡ä»¤å±‚</strong>ï¼šå½“ Claude æ ¹æ®å…ƒæ•°æ®åˆ¤æ–­æŸä¸ª Skill ä¸å½“å‰ä»»åŠ¡ç›¸å…³æ—¶ï¼Œæ‰ä¼šåŠ è½½ <code>SKILL.md</code> æ–‡ä»¶çš„ä¸»ä½“å†…å®¹ï¼Œè·å–è¯¦ç»†çš„å·¥ä½œæµç¨‹å’Œè§„åˆ™ã€‚</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>æ‰©å±•èµ„æºå±‚</strong>ï¼šåªæœ‰åœ¨æ ¸å¿ƒæŒ‡ä»¤æ˜ç¡®è¦æ±‚æ—¶ï¼ŒClaude æ‰ä¼šå»è¯»å– <code>scripts/</code> ç›®å½•ä¸‹çš„è„šæœ¬æˆ– <code>references/</code> ç›®å½•ä¸‹çš„è¯¦ç»†å‚è€ƒæ–‡æ¡£ã€‚ä¸éœ€è¦çš„èµ„æºå®Œå…¨ä¸å ç”¨ä¸Šä¸‹æ–‡ã€‚</li>
</ol>
</li>
</ol>
<p>è¿™ç§æœºåˆ¶æœ‰æ•ˆè§£å†³äº†ä¸Šä¸‹æ–‡çª—å£æœ‰é™çš„é—®é¢˜ï¼Œä½¿å¾—å®‰è£…å¤§é‡ Skills æˆä¸ºå¯èƒ½ï¼Œè€Œä¸ä¼šå½±å“æ ¸å¿ƒå¯¹è¯çš„æµç•…æ€§ã€‚</p>
<h3 data-id="heading-2">åˆ›å»ºä¸ç®¡ç† Skills</h3>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Skill åœ¨ç‰©ç†ä¸Šæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶å…¸å‹ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-skill/
â”œâ”€â”€Â SKILL.mdÂ Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¿…éœ€ï¼šæ ¸å¿ƒæŒ‡ä»¤æ–‡ä»¶ï¼ŒåŒ…å«å…ƒæ•°æ®å’Œè¯¦ç»†æŒ‡å—</span>
â”œâ”€â”€Â scripts/Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯é€‰ï¼šå¯æ‰§è¡Œè„šæœ¬ï¼ˆPythonã€Shellç­‰ï¼‰</span>
â”‚Â Â Â â””â”€â”€Â helper.py
â”œâ”€â”€Â references/Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯é€‰ï¼šè¡¥å……å‚è€ƒæ–‡æ¡£ï¼ˆAPIæ–‡æ¡£ã€è§„èŒƒç­‰ï¼‰</span>
â”‚Â Â Â â””â”€â”€Â api.md
â””â”€â”€Â assets/Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯é€‰ï¼šæ¨¡æ¿ã€é…ç½®æ–‡ä»¶ç­‰é™æ€èµ„æº</span>
</code></pre>
<p>åˆ›å»º Skill çš„æ ¸å¿ƒæ˜¯ç¼–å†™ <code>SKILL.md</code> æ–‡ä»¶ï¼Œå®ƒé‡‡ç”¨ <strong>YAML Frontmatter + Markdown å†…å®¹</strong>çš„ç»“æ„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-string">name:</span>Â <span class="hljs-string">my-skill</span>Â Â <span class="hljs-comment">#Â æŠ€èƒ½åç§°ï¼Œä¹Ÿå°†ä½œä¸ºæ–œæ å‘½ä»¤</span>
<span class="hljs-string">description:</span>Â <span class="hljs-string">è¿™ä¸ªæŠ€èƒ½ç”¨äº...</span>Â <span class="hljs-string">å½“ç”¨æˆ·éœ€è¦...æ—¶ä½¿ç”¨ã€‚</span>Â <span class="hljs-comment">#Â å…³é”®ï¼šæ¸…æ™°æè¿°åŠŸèƒ½å’Œè§¦å‘åœºæ™¯</span>
<span class="hljs-string">disable-model-invocation:</span>Â <span class="hljs-literal">false</span>Â Â <span class="hljs-comment">#Â å¯é€‰ï¼šæ˜¯å¦å…è®¸Claudeè‡ªåŠ¨è°ƒç”¨</span>
<span class="hljs-meta">---</span>
<span class="hljs-comment">#Â æŠ€èƒ½è¯¦ç»†æŒ‡å—</span>

<span class="hljs-comment">##Â å·¥ä½œæµç¨‹</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span>Â Â <span class="hljs-string">ç¬¬ä¸€æ­¥...</span>
<span class="hljs-number">2</span><span class="hljs-string">.</span>Â Â <span class="hljs-string">ç¬¬äºŒæ­¥...</span>
<span class="hljs-string">...</span>
</code></pre>
<p>æ ¹æ®ä½¿ç”¨èŒƒå›´ï¼ŒSkills å¯ä»¥å­˜æ”¾åœ¨ä¸åŒä½ç½®ï¼š</p>
<ul>
<li><strong>ä¸ªäºº Skills</strong> (<code>~/.claude/skills/</code>)ï¼šä»…é™å½“å‰ç”¨æˆ·ä½¿ç”¨ï¼Œé€‚åˆä¸ªäººå·¥ä½œä¹ æƒ¯ã€‚</li>
<li><strong>é¡¹ç›® Skills</strong> (<code>é¡¹ç›®æ ¹ç›®å½•/.claude/skills/</code>)ï¼šé¡¹ç›®å›¢é˜Ÿæˆå‘˜å…±äº«ï¼Œé€‚åˆå›¢é˜Ÿç¼–ç è§„èŒƒã€é¡¹ç›®ç‰¹å®šæµç¨‹ã€‚</li>
<li><strong>æ’ä»¶ Skills</strong>ï¼šé€šè¿‡ Claude Code Plugin å®‰è£…å’Œåˆ†å‘ï¼Œé€‚åˆé€šç”¨å·¥å…·èƒ½åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-3">åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ</h3>
<p>Skills èƒ½å¹¿æ³›åº”ç”¨äºå„ç§åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>è§„èŒƒå›¢é˜Ÿæµç¨‹</strong>ï¼šå°†ä»£ç å®¡æŸ¥æ¸…å•ã€Git æäº¤è§„èŒƒã€éƒ¨ç½²æµç¨‹å°è£…æˆ Skillï¼Œç¡®ä¿å›¢é˜Ÿè¾“å‡ºä¸€è‡´æ€§ã€‚</li>
<li><strong>å¤„ç†ç‰¹å®šæ–‡ä»¶</strong>ï¼šä½¿ç”¨å®˜æ–¹æˆ–ç¤¾åŒºçš„ <code>pptx</code>ã€<code>xlsx</code>ã€<code>pdf</code> ç­‰ Skillsï¼Œè®© Claude èƒ½å¤Ÿä¸“ä¸šåœ°å¤„ç†åŠå…¬æ–‡æ¡£ã€‚</li>
<li><strong>å°è£…ä¸šåŠ¡é€»è¾‘</strong>ï¼šå°†å…¬å¸å†…éƒ¨çš„æ•°æ®æŸ¥è¯¢ã€API è°ƒç”¨è§„èŒƒç­‰ç‰¹å®šä¸šåŠ¡çŸ¥è¯†æ‰“åŒ…ï¼Œè®© AI æˆä¸ºæ‡‚ä¸šåŠ¡çš„ä¸“å®¶åŠ©æ‰‹ã€‚</li>
</ul>
<p>åˆ›å»ºé«˜è´¨é‡ Skill çš„å‡ ä¸ªæœ€ä½³å®è·µåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¿æŒèšç„¦</strong>ï¼šä¸€ä¸ª Skill åªè§£å†³ä¸€ç±»æ˜ç¡®çš„é—®é¢˜ï¼Œé¿å…åˆ›å»ºâ€œä¸‡èƒ½â€Skillã€‚</li>
<li><strong>æè¿°æ¸…æ™°</strong>ï¼š<code>description</code> å­—æ®µåŠ¡å¿…å†™æ˜å…·ä½“åŠŸèƒ½å’Œè§¦å‘å…³é”®è¯ï¼Œå¸®åŠ© Claude å‡†ç¡®è¯†åˆ«ã€‚</li>
<li><strong>æä¾›ç¤ºä¾‹</strong>ï¼šåœ¨ Skill ä¸­åŒ…å«è¾“å…¥å’Œè¾“å‡ºçš„æ­£åç¤ºä¾‹ï¼Œèƒ½æ˜¾è‘—æå‡æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-4">ä¸å…¶ä»–æŠ€æœ¯çš„å…³ç³»</h3>
<p>éœ€è¦åŒºåˆ† Skills å’Œå¦å¤–ä¸¤ç§å¸¸è§æŠ€æœ¯ï¼š</p>
<ul>
<li><strong>MCP</strong>ï¼šå®ƒå¥½æ¯” <strong>USB åè®®</strong>ï¼Œä¸»è¦è´Ÿè´£è®© AI <strong>å®‰å…¨è¿æ¥å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡</strong>ï¼ˆå¦‚æ•°æ®åº“ã€GitHubï¼‰ï¼Œè§£å†³çš„æ˜¯â€œè¿æ¥â€é—®é¢˜ã€‚</li>
<li><strong>Function Calling</strong>ï¼šå®ƒç›¸å½“äº <strong>å·¥å…·æŒ‰é’®</strong>ï¼Œæ˜¯ AI è§¦å‘<strong>å•ä¸ªå…·ä½“æ“ä½œ</strong>çš„æœºåˆ¶ï¼Œè§£å†³çš„æ˜¯â€œæ‰§è¡Œâ€é—®é¢˜ã€‚</li>
</ul>
<p>è€Œ <strong>Skills åˆ™åƒæ˜¯å®Œæ•´çš„æ“ä½œæ‰‹å†Œ</strong>ï¼Œå®ƒåˆ©ç”¨ MCP å»ºç«‹è¿æ¥ï¼Œé€šè¿‡ Function Calling æ‰§è¡Œæ­¥éª¤ï¼Œ<strong>æŒ‡æŒ¥ AI å¦‚ä½•æ€è€ƒã€å¦‚ä½•ç»„åˆæ­¥éª¤ä»¥å®Œæˆä¸€ä¸ªå¤æ‚ä»»åŠ¡</strong>ã€‚ä¸‰è€…æ˜¯äº’è¡¥å…³ç³»ï¼ŒååŒå·¥ä½œã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ Claude Code Skillsï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Qwen-Image-2.0ï¼šä¸­æ–‡å›¾åƒç”Ÿæˆä¸ç¼–è¾‘é›†æˆäºä¸€èº«çš„æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7604863528944943119</link>    <guid>https://juejin.cn/post/7604863528944943119</guid>    <pubDate>2026-02-10T14:24:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604863528944943119" data-draft-id="7604881286038274100" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Qwen-Image-2.0ï¼šä¸­æ–‡å›¾åƒç”Ÿæˆä¸ç¼–è¾‘é›†æˆäºä¸€èº«çš„æ¨¡å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-10T14:24:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›´ç‚‰èŠç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/3229679898597516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Qwen-Image-2.0ï¼šä¸­æ–‡å›¾åƒç”Ÿæˆä¸ç¼–è¾‘é›†æˆäºä¸€èº«çš„æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3229679898597516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›´ç‚‰èŠç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T14:24:58.000Z" title="Tue Feb 10 2026 14:24:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026å¹´2æœˆ10æ—¥ï¼Œé˜¿é‡Œå·´å·´æ­£å¼å‘å¸ƒäº†å…¶æ–°ä¸€ä»£å›¾åƒç”Ÿæˆä¸ç¼–è¾‘æ¨¡å‹â€”â€”<strong>Qwen-Image-2.0</strong>ã€‚ä½œä¸ºé€šä¹‰åƒé—®è§†è§‰å¤§æ¨¡å‹ç³»åˆ—çš„æœ€æ–°æˆå‘˜ï¼Œè¯¥æ¨¡å‹åœ¨æ–‡æœ¬æ¸²æŸ“ã€å›¾åƒç”Ÿæˆè´¨é‡ä»¥åŠç¼–è¾‘èƒ½åŠ›æ–¹é¢åšå‡ºäº†ä¸€ç³»åˆ—åŠ¡å®æ”¹è¿›ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯ç‰¹æ€§ã€å®æµ‹è¡¨ç°å’Œé€‚ç”¨åœºæ™¯ä¸‰ä¸ªç»´åº¦ï¼Œå®¢è§‚åˆ†æè¿™ä¸€æ¨¡å‹çš„å®é™…èƒ½åŠ›è¾¹ç•Œã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒèƒ½åŠ›ï¼šèšç„¦â€œæ–‡å­—+å›¾åƒâ€ååŒç”Ÿæˆ</h2>
<p>Qwen-Image-2.0æœ€æ˜¾è‘—çš„å‡çº§ç‚¹åœ¨äºå¯¹<strong>é•¿æ–‡æœ¬æŒ‡ä»¤çš„ç†è§£ä¸æ¸²æŸ“èƒ½åŠ›</strong>ã€‚å®˜æ–¹å®£ç§°æ”¯æŒé«˜è¾¾ <strong>1K token çš„æç¤ºè¯è¾“å…¥</strong>ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥æä¾›è¿‘ 800â€“1000 å­—çš„å¤æ‚æè¿°ï¼Œå¹¶æœŸæœ›æ¨¡å‹å‡†ç¡®è¿˜åŸå†…å®¹å¸ƒå±€ã€å­—ä½“é£æ ¼ã€å›¾æ–‡å…³ç³»ç­‰ç»†èŠ‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/587f05f2cae34e0f80f01e5c60e9f20a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu054KJ6IGK56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771338299&amp;x-signature=SCP1kX1wa5skh3%2Fi3N3keckxfBA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ¡ˆä¾‹æ˜¾ç¤ºï¼Œè¯¥æ¨¡å‹èƒ½å¤Ÿè¾ƒä¸ºå®Œæ•´åœ°æ¸²æŸ“ã€Šå…°äº­é›†åºã€‹å…¨æ–‡ï¼ˆçº¦324å­—ï¼‰äºå±±æ°´ç”»èƒŒæ™¯ä¹‹ä¸Šï¼Œæ–‡å­—æœªé®æŒ¡ç”»é¢ä¸»ä½“ï¼Œä¸”ä¿ç•™äº†æ¯›ç¬”ä¹¦æ³•çš„åŸºæœ¬ç¬”é”‹ç‰¹å¾ã€‚è™½ç„¶ä¸ªåˆ«æ±‰å­—ä»å­˜åœ¨è½»å¾®å½¢å˜æˆ–æ¨¡ç³Šï¼Œä½†æ•´ä½“å¯è¯»æ€§å·²è¿œè¶…å‰ä»£æ¨¡å‹ï¼Œä¹Ÿä¼˜äºå½“å‰ä¸»æµé—­æºæ¨¡å‹å¦‚ Nano Banana Pro åœ¨éƒ¨åˆ†ä¸­æ–‡æ’ç‰ˆä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚</p>
<p>æ­¤å¤–ï¼ŒQwen-Image-2.0 æ”¯æŒå¤šç§ä¸­æ–‡å­—ä½“ï¼ˆå¦‚ç˜¦é‡‘ä½“ã€å°æ¥·ã€å®‹ä½“ï¼‰åŠä¸­è‹±æ–‡æ··æ’ï¼Œåœ¨ PPTã€ä¿¡æ¯å›¾ã€æµ·æŠ¥ç­‰ä¸“ä¸šåœºæ™¯ä¸‹å…·å¤‡åˆæ­¥å¯ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œä¸€æ®µåŒ…å«åå±‚é£Ÿæç»“æ„æè¿°çš„æ±‰å ¡çˆ†ç‚¸å›¾æç¤ºè¯ï¼ˆçº¦600å­—ï¼‰ï¼Œæ¨¡å‹èƒ½ç”Ÿæˆç»“æ„æ¸…æ™°ã€å±‚æ¬¡åˆ†æ˜çš„2Kåˆ†è¾¨ç‡å›¾åƒï¼Œå„é£Ÿæä½ç½®åŸºæœ¬ç¬¦åˆé¢„æœŸã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€å›¾åƒç”Ÿæˆä¸ç¼–è¾‘ï¼šæ•´åˆè€Œéå †ç Œ</h2>
<p>ä¸æ—©æœŸç‰ˆæœ¬ Qwen-Imageï¼ˆ2025å¹´8æœˆå‘å¸ƒï¼‰å’Œ Qwen-Image-Edit ç³»åˆ—ï¼ˆå¦‚2509/2512ï¼‰ä¸åŒï¼ŒQwen-Image-2.0 é¦–æ¬¡å°†<strong>æ–‡ç”Ÿå›¾</strong>ï¼ˆT2Iï¼‰é›†æˆåˆ°å•ä¸€æ¨¡å‹ä¸­ã€‚è¿™ç§æ•´åˆå¹¶éç®€å•æ‹¼æ¥ï¼Œè€Œæ˜¯é€šè¿‡ç»Ÿä¸€çš„ MMDiTï¼ˆå¤šæ¨¡æ€æ‰©æ•£å˜æ¢å™¨ï¼‰æ¶æ„å®ç°ç«¯åˆ°ç«¯ä¼˜åŒ–ã€‚</p>
<p>åœ¨å›¾åƒè´¨æ„Ÿæ–¹é¢ï¼Œæ–°æ¨¡å‹å‡å°‘äº†æ—©æœŸ AI å›¾åƒå¸¸è§çš„â€œæ²¹è…»æ„Ÿâ€å’Œè¿‡åº¦é¥±å’Œé—®é¢˜ï¼Œè‰²å½©æ›´æ¥è¿‘å®æ‹é£æ ¼ã€‚äººç‰©è‚Œè‚¤ã€å»ºç­‘çº¹ç†ã€è‡ªç„¶å…‰å½±ç­‰ç»†èŠ‚è¡¨ç°æœ‰æ‰€æå‡ï¼Œå°¤å…¶åœ¨å†™å®ç±»åœºæ™¯ï¼ˆå¦‚è¡—æ™¯ã€äº§å“æ‘„å½±ï¼‰ä¸­è§‚æ„Ÿæ›´è‡ªç„¶ã€‚</p>
<p>ç¼–è¾‘èƒ½åŠ›æ–¹é¢ï¼Œæ¨¡å‹æ”¯æŒä¸Šä¼ å›¾ç‰‡åè¿›è¡Œå±€éƒ¨ä¿®æ”¹ï¼Œå¦‚æ›´æ¢æ–‡å­—ã€è°ƒæ•´å§¿æ€ã€å¢åˆ ç‰©ä½“ç­‰ã€‚å®æµ‹ä¸­ï¼Œä¹å®«æ ¼äººåƒç”Ÿæˆä»»åŠ¡èƒ½ä¿æŒäººç‰©èº«ä»½ä¸€è‡´æ€§ï¼Œä½†äººç‰©è„¸éƒ¨ä¸åŸå›¾è¿˜æ˜¯ç¨ç¨æœ‰äº›å·®å¼‚ï¼Œçœ‹ä¸Šå»å·²ç»ä¸æ˜¯åŒä¸€ä¸ªäººäº†ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5d3366c30c4450fb736af7a19e1af50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu054KJ6IGK56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771338299&amp;x-signature=Ui%2BlX73w%2Fr5LtH8xVKxT2zx0EMM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12b9abb15cc447e499c8023fe52f6401~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu054KJ6IGK56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771338299&amp;x-signature=pah%2BQvSP1Gl8M6D7T0elJWJWNaw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æ€§èƒ½ä¸éƒ¨ç½²ï¼šè½»é‡åŒ–ä½†éä¸‡èƒ½</h2>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ Qwen-Image åˆä»£ä¸º 20B å‚æ•°è§„æ¨¡ï¼ŒQwen-Image-2.0 å´é‡‡ç”¨äº†<strong>æ›´è½»é‡çš„æ¶æ„è®¾è®¡</strong>ï¼Œæ¨¡å‹ä½“ç§¯æ˜¾è‘—ç¼©å°ï¼Œæ¨ç†é€Ÿåº¦æ›´å¿«ã€‚è¿™ä¸€å–èˆæ˜¾ç„¶ä»¥ç‰ºç‰²éƒ¨åˆ†é€šç”¨ç”Ÿæˆèƒ½åŠ›ä¸ºä»£ä»·ï¼Œæ¢å–åœ¨ç‰¹å®šä»»åŠ¡ï¼ˆå°¤å…¶æ˜¯æ–‡å­—å¯†é›†å‹å›¾åƒï¼‰ä¸Šçš„æ•ˆç‡ä¸ç¨³å®šæ€§ã€‚</p>
<p>åœ¨æƒå¨è¯„æµ‹å¹³å° AI Arena ä¸Šï¼ŒQwen-Image-2.0 æ–‡ç”Ÿå›¾å¾—åˆ†ä¸º <strong>1029 åˆ†</strong>ï¼Œä½åˆ—å…¨çƒç¬¬ä¸‰ï¼Œä»…æ¬¡äº Nano Banana Pro å’Œ GPT Image 1.5ï¼›å›¾ç”Ÿå›¾ç¼–è¾‘ä»»åŠ¡å¾—åˆ† <strong>1034 åˆ†</strong>ï¼Œæ’åç¬¬äºŒã€‚è¿™è¡¨æ˜å…¶åœ¨ä¸“ä¸šç»†åˆ†é¢†åŸŸå·²å…·å¤‡ç«äº‰åŠ›ï¼Œä½†å°šæœªå…¨é¢è¶…è¶Šé¡¶å°–é—­æºæ¨¡å‹ã€‚</p>
<p>ç›®å‰ï¼Œè¯¥æ¨¡å‹å·²é€šè¿‡ <strong>Qwen Chat</strong>ï¼ˆchat.qwen.aiï¼‰å¼€æ”¾å…è´¹ä½“éªŒã€‚å¼€æºè®¡åˆ’æš‚æœªå…¬å¸ƒï¼Œä½†è€ƒè™‘åˆ°å‰ä»£ Qwen-Image å·²åŸºäº Apache 2.0 åè®®å¼€æºï¼Œåç»­ç‰ˆæœ¬æœ‰æœ›å»¶ç»­å¼€æ”¾ç­–ç•¥ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€é€‚ç”¨åœºæ™¯å»ºè®®</h2>
<p>åŸºäºå½“å‰èƒ½åŠ›ï¼ŒQwen-Image-2.0 æ›´é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li><strong>ä¼ä¸šçº§ä¿¡æ¯å›¾åˆ¶ä½œ</strong>ï¼šå¦‚æ•°æ®æŠ¥å‘Šé…å›¾ã€æµç¨‹å›¾ã€å¤šæ PPTå°é¢ï¼›</li>
<li><strong>ä¸­æ–‡å†…å®¹è¥é”€ç´ æ</strong>ï¼šéœ€åµŒå…¥å¤§é‡æ–‡æ¡ˆçš„æµ·æŠ¥ã€ç¤¾äº¤åª’ä½“é•¿å›¾ï¼›</li>
<li><strong>æ•™è‚²ä¸å‡ºç‰ˆè¾…åŠ©</strong>ï¼šå¤æ–‡é…å›¾ã€å„¿ç«¥ç»˜æœ¬ã€æ•™å­¦æ’å›¾ï¼›</li>
<li><strong>è½»é‡çº§å›¾åƒç¼–è¾‘</strong>ï¼šæ›¿æ¢æ–‡å­—ã€è°ƒæ•´è‰²è°ƒã€ç”Ÿæˆå¤šè§’åº¦äº§å“å›¾ã€‚</li>
</ul>
<p>ä½†å¯¹äºé«˜è‰ºæœ¯æ€§åˆ›ä½œã€å½±è§†æ¦‚å¿µè®¾è®¡æˆ–éœ€è¦æè‡´çœŸå®æ„Ÿçš„å•†ä¸šæ‘„å½±æ¨¡æ‹Ÿï¼Œä»å»ºè®®ç»“åˆäººå·¥åæœŸæˆ–ä½¿ç”¨æ›´æˆç†Ÿçš„é—­æºå·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>Qwen-Image-2.0 å¹¶éâ€œå…¨èƒ½å‹é€‰æ‰‹â€ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ç›®æ ‡æ˜ç¡®ã€èšç„¦ç—›ç‚¹</strong>çš„å·¥ç¨‹åŒ–æ¨¡å‹ã€‚å®ƒæ²¡æœ‰è¿½æ±‚ç‚«æŠ€å¼çš„è¶…ç°å®ç”Ÿæˆï¼Œè€Œæ˜¯æ‰å®è§£å†³äº†ä¸­æ–‡ç”¨æˆ·åœ¨ AI ç”Ÿå›¾ä¸­æœ€å¸¸é‡åˆ°çš„â€œæ–‡å­—ä¹±ç â€â€œæŒ‡ä»¤å¤±æ•ˆâ€â€œæ’ç‰ˆå¤±æ§â€ç­‰é—®é¢˜ã€‚åœ¨ AIGC é€æ¸ä»â€œèƒ½çœ‹â€èµ°å‘â€œå¯ç”¨â€çš„é˜¶æ®µï¼Œè¿™ç§åŠ¡å®è·¯çº¿æˆ–è®¸æ¯”ç›²ç›®å †å‚æ•°æ›´æœ‰ä»·å€¼ã€‚</p>
<p>å½“ç„¶ï¼Œå®ƒä»æœ‰æå‡ç©ºé—´â€”â€”å°¤å…¶æ˜¯åœ¨å¤æ‚åœºæ™¯ç†è§£ã€å¤šå›¾é€»è¾‘ä¸€è‡´æ€§ã€ä»¥åŠæç«¯é•¿æ–‡æœ¬ä¸‹çš„ç»†èŠ‚ä¿çœŸåº¦æ–¹é¢ã€‚ä½†å°±ç›®å‰è€Œè¨€ï¼Œå¯¹äºéœ€è¦ç¨³å®šè¾“å‡ºä¸­æ–‡å›¾æ–‡å†…å®¹çš„å¼€å‘è€…æˆ–è®¾è®¡å¸ˆï¼ŒQwen-Image-2.0 å€¼å¾—ä¸€è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Skill Creator æŠ€èƒ½åˆ†ææŠ¥å‘Š]]></title>    <link>https://juejin.cn/post/7605051978872193043</link>    <guid>https://juejin.cn/post/7605051978872193043</guid>    <pubDate>2026-02-10T14:46:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605051978872193043" data-draft-id="7605041451327782955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Skill Creator æŠ€èƒ½åˆ†ææŠ¥å‘Š"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-10T14:46:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—æ­¦"/> <meta itemprop="url" content="https://juejin.cn/user/3984285870066253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Skill Creator æŠ€èƒ½åˆ†ææŠ¥å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285870066253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—æ­¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T14:46:48.000Z" title="Tue Feb 10 2026 14:46:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Skill Creator æŠ€èƒ½åˆ†ææŠ¥å‘Š</h2>
<blockquote>
<p><strong>æ¥æº</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh%2Fanthropics%2Fskills%2Fskill-creator" target="_blank" title="https://skills.sh/anthropics/skills/skill-creator" ref="nofollow noopener noreferrer">anthropics/skills/skill-creator</a><br/>
<strong>å®‰è£…é‡</strong>: 1,690<br/>
<strong>åˆ†ææ—¥æœŸ</strong>: 2026-02-10</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æŠ€èƒ½ç”¨é€”</h3>
<p>Skill Creator æ˜¯ä¸€ä¸ª<strong>å…ƒæŠ€èƒ½</strong>ï¼ˆmeta-skillï¼‰â€”â€”å®ƒçš„ä½œç”¨æ˜¯æ•™ Claude å¦‚ä½•åˆ›å»ºå…¶ä»–æŠ€èƒ½ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½</h4>
<ul>
<li><strong>åˆ›å»ºæ–°æŠ€èƒ½</strong>ï¼šå¼•å¯¼ Claude ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Skill åŒ…ï¼ŒåŒ…æ‹¬éœ€æ±‚ç†è§£ã€å†…å®¹è§„åˆ’ã€åˆå§‹åŒ–ã€ç¼–è¾‘å’Œæ‰“åŒ…</li>
<li><strong>æ›´æ–°ç°æœ‰æŠ€èƒ½</strong>ï¼šå¯¹å·²æœ‰æŠ€èƒ½è¿›è¡Œè¿­ä»£æ”¹è¿›</li>
<li><strong>æŠ€èƒ½è®¾è®¡å’¨è¯¢</strong>ï¼šæä¾›æŠ€èƒ½æ¶æ„è®¾è®¡çš„æœ€ä½³å®è·µæŒ‡å¯¼</li>
</ul>
<h4 data-id="heading-3">ä½¿ç”¨åœºæ™¯</h4>
<ol>
<li>ç”¨æˆ·è¯´"å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå¤„ç† PDF çš„æŠ€èƒ½"â†’ è§¦å‘æ­¤æŠ€èƒ½ï¼Œå¼•å¯¼å®Œæˆæ•´ä¸ªåˆ›å»ºæµç¨‹</li>
<li>ç”¨æˆ·è¯´"æˆ‘æƒ³æŠŠæˆ‘çš„å·¥ä½œæµç¨‹å°è£…æˆä¸€ä¸ªæŠ€èƒ½"â†’ ä»éœ€æ±‚æ”¶é›†å¼€å§‹ï¼Œé€æ­¥æ„å»º</li>
<li>ç”¨æˆ·è¯´"ä¼˜åŒ–/æ›´æ–°æˆ‘çš„ xxx æŠ€èƒ½"â†’ è¿›å…¥è¿­ä»£æ”¹è¿›æµç¨‹</li>
</ol>
<hr/>
<h3 data-id="heading-4">äºŒã€ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">skill-creator/
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># æ ¸å¿ƒæŒ‡å¯¼æ–‡æ¡£ï¼ˆ357è¡Œï¼Œçº¦17.8KBï¼‰</span>
â”œâ”€â”€ LICENSE.txt       <span class="hljs-comment"># è®¸å¯è¯æ–‡ä»¶</span>
â”œâ”€â”€ references/       <span class="hljs-comment"># ç©ºç›®å½•ï¼ˆæ— é¢å¤–å‚è€ƒèµ„æ–™ï¼‰</span>
â””â”€â”€ scripts/          <span class="hljs-comment"># ç©ºç›®å½•ï¼ˆæ— è„šæœ¬ï¼‰</span>
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>çº¯æ–‡æœ¬é©±åŠ¨</strong>çš„æŠ€èƒ½ï¼Œæ²¡æœ‰è„šæœ¬æˆ–å‚è€ƒèµ„æ–™ï¼Œæ‰€æœ‰çŸ¥è¯†éƒ½æµ“ç¼©åœ¨ SKILL.md ä¸­ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€ä½œç”¨æœºåˆ¶åˆ†æ</h3>
<h4 data-id="heading-6">3.1 è§¦å‘æœºåˆ¶</h4>
<p>é€šè¿‡ YAML frontmatter ä¸­çš„ <code>description</code> å­—æ®µè§¦å‘ï¼š</p>
<blockquote>
<p>"Guide for creating effective skills. This skill should be used when users want to create a new skill (or update an existing skill) that extends Claude's capabilities with specialized knowledge, workflows, or tool integrations."</p>
</blockquote>
<p>å½“ç”¨æˆ·æåˆ°"åˆ›å»ºæŠ€èƒ½"ã€"åˆ¶ä½œ skill"ã€"å°è£…å·¥ä½œæµ"ç­‰æ„å›¾æ—¶ï¼ŒClaude ä¼šåŒ¹é…åˆ°æ­¤æè¿°å¹¶åŠ è½½ SKILL.md çš„å®Œæ•´å†…å®¹ã€‚</p>
<h4 data-id="heading-7">3.2 æ ¸å¿ƒè®¾è®¡ç†å¿µ</h4>
<p>æŠ€èƒ½é€šè¿‡ä¸‰ä¸ªå…³é”®åŸåˆ™æŒ‡å¯¼ Claude çš„è¡Œä¸ºï¼š</p>
<p><strong>åŸåˆ™ä¸€ï¼šç®€æ´è‡³ä¸Šï¼ˆConcise is Keyï¼‰</strong></p>
<ul>
<li>ä¸Šä¸‹æ–‡çª—å£æ˜¯å…¬å…±èµ„æºï¼ŒæŠ€èƒ½ä¸åº”æµªè´¹ token</li>
<li>é»˜è®¤å‡è®¾ Claude å·²ç»å¾ˆèªæ˜ï¼Œåªè¡¥å……å®ƒä¸çŸ¥é“çš„ä¿¡æ¯</li>
<li>ç”¨ç®€æ´çš„ç¤ºä¾‹ä»£æ›¿å†—é•¿çš„è§£é‡Š</li>
</ul>
<p><strong>åŸåˆ™äºŒï¼šè‡ªç”±åº¦åŒ¹é…ï¼ˆDegrees of Freedomï¼‰</strong></p>
<ul>
<li>é«˜è‡ªç”±åº¦ï¼šæ–‡æœ¬æŒ‡ä»¤ï¼Œé€‚ç”¨äºå¤šç§æ–¹æ¡ˆéƒ½å¯è¡Œçš„åœºæ™¯</li>
<li>ä¸­è‡ªç”±åº¦ï¼šä¼ªä»£ç /å¸¦å‚æ•°çš„è„šæœ¬ï¼Œé€‚ç”¨äºæœ‰é¦–é€‰æ¨¡å¼ä½†å…è®¸å˜åŒ–çš„åœºæ™¯</li>
<li>ä½è‡ªç”±åº¦ï¼šå…·ä½“è„šæœ¬ï¼Œé€‚ç”¨äºæ“ä½œè„†å¼±ã€ä¸€è‡´æ€§å…³é”®çš„åœºæ™¯</li>
</ul>
<p><strong>åŸåˆ™ä¸‰ï¼šæ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰</strong></p>
<ul>
<li>ä¸‰çº§åŠ è½½ç³»ç»Ÿï¼šå…ƒæ•°æ®ï¼ˆ~100è¯ï¼Œå§‹ç»ˆåœ¨ä¸Šä¸‹æ–‡ä¸­ï¼‰â†’ SKILL.md ä¸»ä½“ï¼ˆè§¦å‘ååŠ è½½ï¼‰â†’ æ†ç»‘èµ„æºï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</li>
<li>é¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å†…å®¹ï¼ŒèŠ‚çœä¸Šä¸‹æ–‡çª—å£</li>
</ul>
<h4 data-id="heading-8">3.3 å…­æ­¥åˆ›å»ºæµç¨‹</h4>
<p>è¿™æ˜¯æŠ€èƒ½çš„æ ¸å¿ƒæ–¹æ³•è®ºï¼Œå®šä¹‰äº†ä¸€ä¸ªå®Œæ•´çš„æŠ€èƒ½åˆ›å»ºå·¥ä½œæµï¼š</p>








































<table><thead><tr><th>æ­¥éª¤</th><th>å†…å®¹</th><th>å…³é”®åŠ¨ä½œ</th></tr></thead><tbody><tr><td>1. ç†è§£éœ€æ±‚</td><td>é€šè¿‡å…·ä½“ç¤ºä¾‹ç†è§£æŠ€èƒ½ç”¨é€”</td><td>å‘ç”¨æˆ·æé—®ï¼Œæ”¶é›†ä½¿ç”¨åœºæ™¯</td></tr><tr><td>2. è§„åˆ’å†…å®¹</td><td>åˆ†ææ¯ä¸ªç¤ºä¾‹ï¼Œè¯†åˆ«å¯å¤ç”¨èµ„æº</td><td>ç¡®å®šéœ€è¦å“ªäº› scripts/references/assets</td></tr><tr><td>3. åˆå§‹åŒ–</td><td>è¿è¡Œ <code>init_skill.py</code> ç”Ÿæˆæ¨¡æ¿</td><td>åˆ›å»ºæ ‡å‡†ç›®å½•ç»“æ„å’Œæ¨¡æ¿æ–‡ä»¶</td></tr><tr><td>4. ç¼–è¾‘å®ç°</td><td>ç¼–å†™ SKILL.md å’Œèµ„æºæ–‡ä»¶</td><td>å®ç°è„šæœ¬ã€ç¼–å†™æŒ‡å¯¼æ–‡æ¡£</td></tr><tr><td>5. æ‰“åŒ…å‘å¸ƒ</td><td>è¿è¡Œ <code>package_skill.py</code> éªŒè¯å¹¶æ‰“åŒ…</td><td>ç”Ÿæˆ .skill åˆ†å‘æ–‡ä»¶</td></tr><tr><td>6. è¿­ä»£æ”¹è¿›</td><td>åŸºäºå®é™…ä½¿ç”¨åé¦ˆä¼˜åŒ–</td><td>å‘ç°é—®é¢˜ â†’ ä¿®æ”¹ â†’ é‡æ–°æµ‹è¯•</td></tr></tbody></table>
<h4 data-id="heading-9">3.4 æŠ€èƒ½æ¶æ„è§„èŒƒ</h4>
<p>SKILL.md å®šä¹‰äº†æŠ€èƒ½çš„æ ‡å‡†æ–‡ä»¶ç»„ç»‡ï¼š</p>
<ul>
<li><strong><code>scripts/</code></strong>ï¼šå¯æ‰§è¡Œä»£ç ï¼Œç”¨äºéœ€è¦ç¡®å®šæ€§å¯é æ€§çš„é‡å¤ä»»åŠ¡ï¼ˆå¦‚ PDF æ—‹è½¬è„šæœ¬ï¼‰</li>
<li><strong><code>references/</code></strong>ï¼šå‚è€ƒæ–‡æ¡£ï¼ŒæŒ‰éœ€åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼ˆå¦‚æ•°æ®åº“ schemaã€API æ–‡æ¡£ï¼‰</li>
<li><strong><code>assets/</code></strong>ï¼šè¾“å‡ºèµ„æºï¼Œä¸åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­è€Œæ˜¯ç›´æ¥ç”¨äºè¾“å‡ºï¼ˆå¦‚æ¨¡æ¿ã€å›¾æ ‡ã€å­—ä½“ï¼‰</li>
</ul>
<h4 data-id="heading-10">3.5 è®¾è®¡æ¨¡å¼æŒ‡å¯¼</h4>
<p>æŠ€èƒ½æä¾›äº†ä¸‰ç§æ¸è¿›å¼æŠ«éœ²çš„è®¾è®¡æ¨¡å¼ï¼š</p>
<ol>
<li><strong>é«˜å±‚æŒ‡å— + å¼•ç”¨</strong>ï¼šSKILL.md ç»™å‡ºæ¦‚è§ˆï¼Œè¯¦ç»†å†…å®¹é“¾æ¥åˆ° references æ–‡ä»¶</li>
<li><strong>æŒ‰é¢†åŸŸç»„ç»‡</strong>ï¼šå¤šé¢†åŸŸæŠ€èƒ½æŒ‰é¢†åŸŸæ‹†åˆ†å‚è€ƒæ–‡ä»¶ï¼Œé¿å…åŠ è½½æ— å…³ä¸Šä¸‹æ–‡</li>
<li><strong>æ¡ä»¶æ€§ç»†èŠ‚</strong>ï¼šåŸºç¡€å†…å®¹ç›´æ¥å±•ç¤ºï¼Œé«˜çº§å†…å®¹æŒ‰éœ€é“¾æ¥</li>
</ol>
<h4 data-id="heading-11">3.6 æœ¬è´¨æ€»ç»“</h4>
<p>Skill Creator æœ¬è´¨ä¸Šæ˜¯ä¸€ä»½<strong>ç»“æ„åŒ–çš„æ–¹æ³•è®ºæ–‡æ¡£</strong>ï¼Œå®ƒé€šè¿‡ï¼š</p>
<ol>
<li><strong>æç¤ºè¯å¼•å¯¼</strong>ï¼šå®šä¹‰æ¸…æ™°çš„å…­æ­¥æµç¨‹ï¼Œè®© Claude æŒ‰æ­¥éª¤æ‰§è¡Œ</li>
<li><strong>æ¶æ„è§„èŒƒ</strong>ï¼šè§„å®šæŠ€èƒ½çš„æ ‡å‡†ç›®å½•ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡æ–¹å¼</li>
<li><strong>è®¾è®¡åŸåˆ™</strong>ï¼šé€šè¿‡"ç®€æ´"ã€"è‡ªç”±åº¦åŒ¹é…"ã€"æ¸è¿›å¼æŠ«éœ²"ä¸‰å¤§åŸåˆ™çº¦æŸæŠ€èƒ½è´¨é‡</li>
<li><strong>è„šæœ¬å·¥å…·é“¾</strong>ï¼šå¼•ç”¨ <code>init_skill.py</code> å’Œ <code>package_skill.py</code> ä¸¤ä¸ªå¤–éƒ¨è„šæœ¬å®Œæˆåˆå§‹åŒ–å’Œæ‰“åŒ…</li>
</ol>
<p>å®ƒæ²¡æœ‰å¤æ‚çš„è„šæœ¬é€»è¾‘ï¼Œè€Œæ˜¯ç”¨ç²¾å¿ƒç»„ç»‡çš„æ–‡æœ¬æŒ‡ä»¤å°† Claude çš„é€šç”¨èƒ½åŠ›å¼•å¯¼åˆ°"æŠ€èƒ½åˆ›å»º"è¿™ä¸ªç‰¹å®šé¢†åŸŸï¼Œæ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>æç¤ºè¯å·¥ç¨‹é©±åŠ¨</strong>çš„æŠ€èƒ½ã€‚</p>
<hr/>
<p><strong>ğŸ“„ æ–‡æ¡£åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmylinwu%2Fskills-daily%2Ftree%2Fmain%2Foutputs%2F2026-02-10_skill-creator.md" target="_blank" title="https://github.com/mylinwu/skills-daily/tree/main/outputs/2026-02-10_skill-creator.md" ref="nofollow noopener noreferrer">github.com/mylinwu/skiâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŒOpenClawã€æ·»åŠ å®˜æ–¹åˆ—è¡¨ä»¥å¤–çš„LLMæ¨¡å‹]]></title>    <link>https://juejin.cn/post/7605041451327864875</link>    <guid>https://juejin.cn/post/7605041451327864875</guid>    <pubDate>2026-02-10T15:57:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041451327864875" data-draft-id="7605051978872225811" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŒOpenClawã€æ·»åŠ å®˜æ–¹åˆ—è¡¨ä»¥å¤–çš„LLMæ¨¡å‹"/> <meta itemprop="keywords" content="AIGC,OpenAI"/> <meta itemprop="datePublished" content="2026-02-10T15:57:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·¡é…’äº¤é­‚"/> <meta itemprop="url" content="https://juejin.cn/user/2245627735450160"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŒOpenClawã€æ·»åŠ å®˜æ–¹åˆ—è¡¨ä»¥å¤–çš„LLMæ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2245627735450160/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·¡é…’äº¤é­‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T15:57:18.000Z" title="Tue Feb 10 2026 15:57:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯ï¼š</h2>
<p>æœ€è¿‘OpenClawçš„çƒ­åº¦éå¸¸é«˜ï¼Œæˆ‘è‡ªå·±ä¹Ÿåœ¨ç©ºé—²æœŸé—´æ­äº†ä¸€ä¸ªæœ¬åœ°é¡¹ç›®ï¼Œåœ¨é€‰æ‹©LLMå¤§æ¨¡å‹çš„æ—¶å€™ä¼˜å…ˆé€‰æ‹©äº†å›½å†…çš„Qwenå¤§æ¨¡å‹ï¼Œå¹¶ä¸”å®Œæˆäº†Oauthè®¤è¯ï¼Œä½†åœ¨æˆ‘ä½¿ç”¨äº†ä¸¤ä¸‰ä¸ªå°æ—¶ä¹‹åå°±å¼€å§‹æ²¡æœ‰åº”ç­”ååº”ï¼ŒæŸ¥è¯¢æ—¥å¿—å‘ç°æŠ¥é”™<code>qwen-portal/coder-model: 429 Free allocated quota exceeded.</code>,æ˜¯Qwen Oauthçš„å…è´¹é¢åº¦ä½¿ç”¨è¶…é™ï¼Œæ‰€ä»¥ä»Šå¤©æ¥æ•™å¤§å®¶å¦‚ä½•æ¥ç»™è‡ªå·±OpenClawé…ç½®è‡ªå·±æƒ³ä½¿ç”¨çš„LLMå¤§æ¨¡å‹ï¼Œä»¥åŠå¦‚ä½•åœ¨é¢åº¦è¶…é™æ—¶è®©OpenClawè‡ªå·±åˆ‡æ¢ä½¿ç”¨æ–°çš„LLMå¤§æ¨¡å‹</p>
<h2 data-id="heading-1">Qwen</h2>
<p>æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡å®‰è£…OpenClawçš„æ—¶å€™å¯ä»¥å‘ç°ï¼ŒOpenClawå¯ä»¥å…è®¸æˆ‘ä»¬ä½¿ç”¨Qwenå¤§æ¨¡å‹ï¼Œä½†æ˜¯æ˜¯ä½¿ç”¨Oauthçš„è¿›è¡ŒéªŒè¯ç™»å½•ï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨<code>qwen-portal/coder-model</code>,<code>qwen-portal/vision-model</code>è¿™ä¸¤ç§å¤§æ¨¡å‹ï¼›</p>
<p>ä½†æ˜¯åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fbailian.console.aliyun.com%2Fcn-beijing%2F%3Fspm%3D5176.29597918.J_SEsSjsNv72yRuRFS2VknO.2.bf077b08HohNn0%26tab%3Dmodel%23%2Fmodel-market%2Fall%3Fproviders%3Dqwen" target="_blank" title="https://bailian.console.aliyun.com/cn-beijing/?spm=5176.29597918.J_SEsSjsNv72yRuRFS2VknO.2.bf077b08HohNn0&amp;tab=model#/model-market/all?providers=qwen" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘ç™¾ç‚¼</a>çš„æ¨¡å‹å¹¿åœºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¾ˆå¤šQwençš„æ¨¡å‹ï¼Œæ¯”å¦‚<code>qwen3-max-2026-01-23</code>æ–°çš„åƒé—®Maxæ¨¡å‹ï¼Œ<code>qwen-flash</code>åƒé—®3çš„Flashæ¨¡å‹ï¼Œ<code>qwen3-vl-plus</code>åƒé—®3çš„è§†è§‰æ¨¡å‹ï¼Œä»¥åŠ<code>qwen-voice-design</code>åƒé—®çš„å£°éŸ³æ¨¡å‹ç­‰ç­‰å¤šæ¨¡æ€æ¨¡å‹ï¼Œè€Œåœ¨OpenClawä¸­æ˜¯æ²¡æœ‰è¿™äº›æ¨¡å‹è®©æˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„ï¼Œå¹¶ä¸”è¿™äº›å¤šæ¨¡æ€é€šå¸¸ä½¿ç”¨çš„æ˜¯API Keyè¿›è¡Œè®¤è¯å’Œtokenä»˜è´¹çš„ï¼Œè€Œä¸æ˜¯OpenClawæä¾›ç»™æˆ‘ä»¬çš„Oauthï¼›</p>
<h3 data-id="heading-2">æ·»åŠ Qwen3 LLMå¤§æ¨¡å‹</h3>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è‡ªè¡Œåœ¨openClawçš„é…ç½®æ–‡ä»¶é…ç½®Qwençš„æ¨¡å‹ï¼Œç”±äºæˆ‘ä»¬Qwen3æ¨¡å‹å’Œç³»ç»ŸQwenæ¨¡å‹éƒ½å±äºQwenï¼Œä½†è®¤è¯æ–¹å¼åˆä¸ç›¸åŒï¼Œæ‰€ä»¥å¯ä»¥å°†è¿™äº›æ¨¡å‹ç»Ÿç§°ä¸ºQwen3ï¼Œä¸ç³»ç»ŸQwenæ¨¡å‹åšä¸ºåŒºåˆ†ï¼›</p>
<p>ç„¶åæˆ‘ä»¬æ‰¾åˆ°<code>.openclaw/openclaw.json</code>è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬OpenClawçš„æ‰€æœ‰é…ç½®é¡¹äº†ï¼Œç‚¹å¼€å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„<code>models</code>è¿™ä¸ªåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨å°±æ˜¯æˆ‘ä»¬å¼•å…¥çš„æ‰€æœ‰æ¨¡å‹</p>
<p>æˆ‘è¿™è¾¹å¼•å…¥äº†Deepseekå’Œç³»ç»Ÿè‡ªå¸¦çš„qwen-portalæ¨¡å‹ï¼Œå…¶ä¸­<code>qwen-portal</code>çš„APIKeyå¯ä»¥çœ‹åˆ°è®¤è¯æ–¹å¼æ˜¯é€šè¿‡<code>qwen-oauth</code>ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨åé¢æ·»åŠ æˆ‘ä»¬æ‰€éœ€çš„qwen3æ¨¡å‹ï¼Œé…ç½®å†…å®¹å¯ä»¥ä¸æˆ‘ä¸‹æ–¹ä¸€è‡´ï¼Œåªéœ€å°†apiKeyæ›´æ¢æˆé˜¿é‡Œç™¾ç‚¼ä¸­è‡ªå·±çš„ApiKeyå³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e7d88c9866540799c6faa8a948fe925~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5reh6YWS5Lqk6a2C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771343844&amp;x-signature=UEWrn3PlfAnOMJ8J9tQOrhRjtD4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/078c0bd74fc546c796f88999fa1a5144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5reh6YWS5Lqk6a2C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771343844&amp;x-signature=TDo2LmWQTsqPJXP6Ve8MPb6jpu8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-&quot;qwen3&quot;:" lang="&quot;qwen3&quot;:">        "baseUrl": "https://dashscope.aliyuncs.com/compatible-mode/v1",
        "apiKey": "{{your-apiKey}}",
        "api": "openai-completions",
        "models": [
          {
            "id": "qwen-turbo",
            "name": "Qwen3 Turbo",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          },
          {
            "id": "qwen-plus",
            "name": "Qwen3 Plus",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          },
          {
            "id": "qwen-max",
            "name": "Qwen3 Max",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          },
          {
            "id": "qwen-flash",
            "name": "Qwen3 Flash",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          },
          {
            "id": "qwen-max-2026-01-23",
            "name": "Qwen3 Max 2026-01-23",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          }
        ]
      },
</code></pre>
<h2 data-id="heading-3">æ·»åŠ æ¨¡å‹å›é€€é˜Ÿåˆ—</h2>
<p>æœ‰æ—¶å€™é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹ç”¨ç€ç”¨ç€ä½™é¢å°±è¢«tokenæ¶ˆè€—å®Œäº†ï¼Œè¿™æ—¶å€™openClawå°±åƒæŒ‚äº†ä¸€æ ·ï¼Œæ— è®ºæ€ä¹ˆå‘é€æ¶ˆæ¯éƒ½æ— æ³•æ­£ç¡®å›å¤ï¼Œåªèƒ½é€šè¿‡<code>openclaw onboard</code>æŒ‡ä»¤è¿›è¡Œé‡è£…ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæ–°çš„LLMå¤§æ¨¡å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªæ¨¡å‹å›é€€é˜Ÿåˆ—ï¼Œè®©OpenClawåœ¨é»˜è®¤çš„æ¨¡å‹è¿”å›å¼‚å¸¸æ—¶ï¼Œè‡ªåŠ¨é€‰æ‹©é˜Ÿåˆ—ä¸­çš„æ¨¡å‹è¿›è¡Œè¯·æ±‚ï¼›</p>
<h3 data-id="heading-4">é…ç½®æ–¹æ³•</h3>
<p>1.OpenClawçš„é…ç½®ä¸ä¸Šæ–¹ä¸€æ ·ï¼Œæ‰¾åˆ°<code>.openclaw/openclaw.json</code>è¿™ä¸ªæ–‡ä»¶</p>
<p>2.åœ¨<code>models</code>ç›¸åŒç¼©è¿›çš„ä¸‹æ–¹ï¼Œæ‰¾åˆ°Agentsï¼Œç„¶åä¿®æ”¹é…ç½®ä¸æˆ‘ä¸‹æ–¹ç›¸ä¼¼ï¼Œåœ¨<code>agents/defaults/model</code>ä¸‹æ–¹å¢åŠ ä¸€ä¸ª<code>fallbacks</code>é˜Ÿåˆ—ï¼Œç”±ä¸Šå¾€ä¸‹å°±æ˜¯å¤±è´¥åä¾æ¬¡ä¼šå°è¯•çš„æ¨¡å‹é˜Ÿåˆ—,<code>primary</code>æ˜¯æˆ‘ä»¬é»˜è®¤ä½¿ç”¨çš„LLMæ¨¡å‹</p>
<p>3.<code>models</code>å°±æ˜¯å¼•è¿›çš„æ‰€æœ‰LLM Modelï¼Œè¿™é‡Œä½¿ç”¨è‡ªå·±çš„é…ç½®ä¸­çš„<code>models</code>æ— éœ€å’Œæˆ‘ä¸€è‡´</p>
<p>4.<code>workspace</code>ä½¿ç”¨è‡ªå·±openclawçš„å·¥ä½œç©ºé—´ï¼Œæ— éœ€å’Œæˆ‘ä¸€è‡´</p>
<p>5.å…¶ä»–é…ç½®å¯ä»¥å‡ä¸æˆ‘ä¿æŒä¸€è‡´</p>
<p>è¿™æ ·å°±å®Œæˆäº†é»˜è®¤çš„LLMé¢åº¦è¶…é™åä¼šè‡ªåŠ¨è°ƒç”¨å›é€€é˜Ÿåˆ—ä¸­çš„LLMå¤§æ¨¡å‹ç»§ç»­è¿›è¡Œä¼šè¯è®¿é—®ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"agents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"defaults"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"primary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"xiaomi/mimo-v2-flash"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"fallbacks"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"xiaomi/mimo-v2-flash"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen3/qwen-turbo"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen3/qwen-plus"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen3/qwen-max"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen3/qwen-max-2026-01-23"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"deepseek/deepseek-coder"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen-portal/coder-model"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"qwen-portal/vision-model"</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"qwen3/qwen-turbo"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-turbo"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen3/qwen-plus"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-plus"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen3/qwen-max"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-max"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen3/qwen-max-2026-01-23"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-max-2026"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen3/qwen-flash"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-flash"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen-portal/coder-model"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"qwen-portal/vision-model"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"deepseek/deepseek-chat"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"deepseek-chat"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"deepseek/deepseek-coder"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"deepseek-coder"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"xiaomi/mimo-v2-flash"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"alias"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Xiaomi"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"workspace"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/Users/clawd"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"compaction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"safeguard"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maxConcurrent"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"subagents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"maxConcurrent"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<h2 data-id="heading-5">ç»“å°¾</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œéº»çƒ¦å„ä½å¤§ä½¬å¸®å¿™ç‚¹ä¸ªå°èµï¼›å¦‚æœä½ ä¹Ÿå¯¹OpenClawæ„Ÿå…´è¶£çš„è¯ï¼Œæ¬¢è¿å…³æ³¨æˆ‘</p>
<p>ä¸‹æœŸç»™å¤§å®¶ä»‹ç»å¦‚ä½•ä½¿ç”¨é£ä¹¦ä¸æˆ‘ä»¬çš„OpenClawè¿›è¡Œæ— é˜»ç¢å¯¹è¯ï¼Œè®©å®ƒæˆä¸ºæˆ‘ä»¬çœŸæ­£çš„24å°æ—¶åŠ©æ‰‹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Docker å…¥é—¨çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼šä» 0 åˆ°éƒ¨ç½² Java å’Œ Node é¡¹ç›®å®æˆ˜]]></title>    <link>https://juejin.cn/post/7604863528945401871</link>    <guid>https://juejin.cn/post/7604863528945401871</guid>    <pubDate>2026-02-11T01:51:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604863528945401871" data-draft-id="7604881286036996148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Docker å…¥é—¨çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼šä» 0 åˆ°éƒ¨ç½² Java å’Œ Node é¡¹ç›®å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,Docker,å®¹å™¨"/> <meta itemprop="datePublished" content="2026-02-11T01:51:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Docker å…¥é—¨çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼šä» 0 åˆ°éƒ¨ç½² Java å’Œ Node é¡¹ç›®å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:51:40.000Z" title="Wed Feb 11 2026 01:51:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¤§åï¼</p>
<p>åœ¨åç«¯å’Œè¿ç»´é¢†åŸŸï¼Œ<strong>Docker å‡ ä¹å·²ç»æˆäº†ç»•ä¸å¼€çš„æŠ€æœ¯</strong>ã€‚
é¢è¯•åœ¨é—®ï¼ŒåŒäº‹åœ¨ç”¨ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€æºé¡¹ç›®ä¹Ÿé»˜è®¤æä¾›äº† Docker ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆã€‚</p>
<p>é‚£ Docker åˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
ä¸ºä»€ä¹ˆç°åœ¨çš„éƒ¨ç½²é¡¹ç›®ï¼Œå¤§å®¶éƒ½ä¼šä¼˜å…ˆé€‰æ‹©å®ƒï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16c23ed7efcd47918a7de1d2c6451c3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379503&amp;x-signature=HVHmSdpRM03WMmP5fg3qQaESYTU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³ä»ä¸€ä¸ªæ–°æ‰‹çš„è§†è§’ï¼ŒæŠŠ Docker è®²æ¸…æ¥šã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Dockeræ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-1">ç®€å•æ¯”å–»</h3>
<p>å‡è®¾ä½ è¦æ¬å®¶ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šå®¶å…·è¦æ‹†ã€çº¿è·¯è¦æ‹”ã€åˆ°æ–°å®¶åå†ä¸€ä»¶ä»¶è£…å›å»ï¼Œè£…çš„æ—¶å€™è¿˜å¯èƒ½å‘ç°ï¼šå°‘äº†æŸä¸ªé›¶ä»¶ã€æ¥å£ä¸å¯¹ã€æ€ä¹ˆéƒ½æ‘†ä¸å›åŸæ ·ã€‚</li>
<li><strong>Dockeræ–¹å¼</strong>ï¼šç›´æ¥æŠŠæ•´ä¸ªæˆ¿é—´æ‹ä¸ªå¿«ç…§ï¼Œå®¶å…·ã€å¸ƒç½®ã€ç”µå™¨ã€ä½ç½®å…¨éƒ½å°è£…å¥½ã€‚åˆ°æ–°å®¶ä¸€é”®è¿˜åŸï¼Œè·ŸåŸæ¥ä¸€æ¨¡ä¸€æ ·ã€‚</li>
</ul>
<p>Docker åšçš„ï¼Œå°±æ˜¯è¿™ä»¶äº‹ã€‚å®ƒæŠŠä¸€ä¸ªåº”ç”¨è¿è¡Œæ‰€éœ€è¦çš„æ‰€æœ‰ä¸œè¥¿ï¼Œä»£ç ã€è¿è¡Œç¯å¢ƒã€ä¾èµ–ã€é…ç½®ï¼Œä¸€æ¬¡æ€§æ‰“åŒ…æˆä¸€ä¸ªæ ‡å‡†åŒ–çš„ç®±å­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70a6d4dd0a19401d9d33c2e2d1a3052a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379503&amp;x-signature=ziafdo51G7y8X4Qm%2BagmXftrcrM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¸ç®¡ä½ æŠŠè¿™ä¸ªç®±å­æ¬åˆ°å“ªé‡Œï¼Œåªè¦èƒ½æ‰“å¼€ï¼Œå®ƒçš„è¡¨ç°æ°¸è¿œä¸€è‡´ã€‚</p>
<h3 data-id="heading-2">ä¸“ä¸šè§£é‡Š</h3>
<p>Dockeræ˜¯ä¸€ä¸ª<strong>å®¹å™¨åŒ–å¹³å°</strong>ï¼Œè®©å¼€å‘è€…å¯ä»¥ï¼š</p>
<ul>
<li>æŠŠåº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ï¼ˆåº“ã€ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ï¼‰æ‰“åŒ…åœ¨ä¸€èµ·</li>
<li>åœ¨ä»»ä½•æ”¯æŒ Docker çš„æœºå™¨ä¸Šè¿è¡Œï¼Œä¿è¯ç¯å¢ƒä¸€è‡´</li>
<li>ä»è€Œå®ç°ä¸€æ¬¡æ„å»ºï¼Œåˆ°å¤„è¿è¡Œ</li>
</ul>
<h2 data-id="heading-3">äºŒã€Dockeræœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2>
<h3 data-id="heading-4">1. å¼€å‘äººå‘˜çš„ç—›ç‚¹</h3>
<pre><code class="hljs language-diff" lang="diff">å¼€å‘è€…å°æ˜è¯´ï¼šâ€œåœ¨æˆ‘ç”µè„‘ä¸Šè¿è¡Œå¥½å¥½çš„ï¼â€
è¿ç»´äººå‘˜å›å¤ï¼šâ€œåœ¨æœåŠ¡å™¨ä¸Šå°±æ˜¯è·‘ä¸èµ·æ¥ï¼â€

åŸå› æ’æŸ¥ï¼š
<span class="hljs-deletion">- æ“ä½œç³»ç»Ÿä¸åŒï¼ˆWindows vs Linuxï¼‰</span>
<span class="hljs-deletion">- Node.jsç‰ˆæœ¬ä¸åŒï¼ˆ12.x vs 14.xï¼‰</span>
<span class="hljs-deletion">- ä¾èµ–åº“ç‰ˆæœ¬å†²çª</span>
<span class="hljs-deletion">- ç¯å¢ƒå˜é‡é…ç½®ä¸åŒ</span>
<span class="hljs-deletion">- æ–‡ä»¶è·¯å¾„ä¸ä¸€è‡´</span>
</code></pre>
<p>æœ€åä½ ä¼šå‘ç°ï¼Œé—®é¢˜ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯ç¯å¢ƒã€‚</p>
<p>Docker å‡ºç°çš„æ„ä¹‰ï¼Œå°±æ˜¯æŠŠç¯å¢ƒè¿™ä»¶äº‹å½»åº•æ¶ˆç­ã€‚</p>
<h3 data-id="heading-5">2. å¿«é€Ÿéƒ¨ç½²</h3>
<p><strong>ä¼ ç»Ÿéƒ¨ç½²</strong>ï¼šè£…ç³»ç»Ÿã€è£…è¿è¡Œç¯å¢ƒã€é…ç¯å¢ƒå˜é‡å†åˆ°è£…ä¾èµ–ç­‰ç­‰ï¼Œé¡ºåˆ©çš„è¯ï¼Œä¹Ÿè¦ä¸€ä¸¤ä¸ªå°æ—¶ã€‚</p>
<p><strong>Dockeréƒ¨ç½²</strong>ï¼šä¸‹è½½é•œåƒã€è¿è¡Œå®¹å™¨ï¼Œå‡ åˆ†é’Ÿå°±èƒ½å®Œæˆã€‚</p>
<h3 data-id="heading-6">3. èµ„æºèŠ‚çœ</h3>
<p>å¾ˆå¤šäººä¼šæ‹¿ Docker å’Œè™šæ‹Ÿæœºåšå¯¹æ¯”ã€‚</p>
<p><strong>è™šæ‹Ÿæœºçš„æ–¹å¼</strong>ï¼šæ¯ä¸ªåº”ç”¨è‡ªå¸¦ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿï¼Œå ç”¨åŠ¨ä¸åŠ¨å°±æ˜¯å‡ ä¸ª GB</p>
<p><strong>Docker çš„æ–¹å¼</strong>ï¼šå®¹å™¨ä¹‹é—´å…±äº«å®¿ä¸»æœºç³»ç»Ÿï¼Œåªä¿ç•™åº”ç”¨çœŸæ­£éœ€è¦çš„ä¸œè¥¿ï¼Œé€šå¸¸æ˜¯ MB çº§åˆ«ã€‚</p>
<p><strong>ä½ å¯ä»¥ç†è§£ä¸º</strong>ï¼š</p>
<ul>
<li>è™šæ‹Ÿæœºï¼šæ¯ä¸ªé¡¹ç›®éƒ½è‡ªå·±ä¹°ä¸€å¥—æˆ¿</li>
<li>Dockerï¼šå¾ˆå¤šé¡¹ç›®ä½åœ¨åŒä¸€æ ‹æ¥¼é‡Œï¼Œå„è‡ªä¸€é—´æˆ¿</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€Docker çš„å››ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h2>
<p>Docker çš„æ ¸å¿ƒæ¦‚å¿µå…¶å®éå¸¸å°‘ã€‚</p>
<p>å¦‚æœåªç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬ï¼š<strong>Docker ç”¨é•œåƒå‡†å¤‡ç¯å¢ƒï¼Œç”¨å®¹å™¨è¿è¡Œç¨‹åºã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdf256b549ed4ca78d9854b43b33e161~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379503&amp;x-signature=DErjLAyYZLbs0QQNZvqCh2TCH7o%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-8">1ã€é•œåƒï¼ˆImageï¼‰</h3>
<p><strong>é•œåƒå°±æ˜¯è¿è¡Œç¯å¢ƒçš„æ¨¡æ¿ã€‚</strong></p>
<p>å®ƒé‡Œé¢å·²ç»å‡†å¤‡å¥½äº†ç³»ç»Ÿã€è¿è¡Œæ—¶ä»¥åŠåº”ç”¨éœ€è¦çš„ä¾èµ–ï¼Œä½†é•œåƒæœ¬èº«æ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œæ›´åƒä¸€ä¸ªå®‰è£…åŒ…ã€‚æ¯”å¦‚ <code>node:18</code>ã€<code>openjdk:17</code>ã€<code>mysql:8</code>ï¼Œéƒ½æ˜¯ç°æˆå¯ä»¥ç”¨çš„é•œåƒã€‚</p>
<h3 data-id="heading-9">2ã€å®¹å™¨ï¼ˆContainerï¼‰</h3>
<p><strong>å®¹å™¨æ˜¯é•œåƒè¿è¡Œä¹‹åçš„æ ·å­ã€‚</strong></p>
<p>é•œåƒæ˜¯é™æ€çš„ï¼Œå®¹å™¨æ˜¯æ­£åœ¨è¿è¡Œçš„ã€‚ä½ å¹³æ—¶å¯¹åº”ç”¨åšçš„å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æŸ¥çœ‹æ—¥å¿—ï¼Œæ“ä½œçš„å…¶å®éƒ½æ˜¯å®¹å™¨ã€‚ä¸€ä¸ªé•œåƒå¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼Œè¿™ä¹Ÿæ˜¯ Docker èƒ½è·‘å¤šä¸ªå®ä¾‹çš„åŸå› ã€‚</p>
<h3 data-id="heading-10">3ã€Dockerfile</h3>
<p><strong>Dockerfile ç”¨æ¥å‘Šè¯‰ Dockerï¼Œè¿™ä¸ªé•œåƒè¯¥æ€ä¹ˆåšã€‚</strong></p>
<p>å®ƒæ˜¯ä¸€ä¸ªæ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢å†™æ¸…æ¥šï¼šç”¨ä»€ä¹ˆåŸºç¡€é•œåƒã€ä»£ç æ”¾åœ¨å“ªé‡Œã€è¦ä¸è¦å®‰è£…ä¾èµ–ï¼Œä»¥åŠç¨‹åºæœ€ç»ˆå¦‚ä½•å¯åŠ¨ã€‚æƒ³å®šåˆ¶è‡ªå·±çš„é•œåƒï¼Œå°±å¿…é¡»æœ‰ Dockerfileã€‚</p>
<h3 data-id="heading-11">4ã€ä»“åº“ï¼ˆDocker Hubï¼‰</h3>
<p><strong>Docker Hub æ˜¯é•œåƒçš„æ¥æºã€‚</strong></p>
<p>å®ƒå°±åƒä¸€ä¸ªåº”ç”¨å•†åº—ï¼Œå­˜æ”¾ç€å¤§é‡å®˜æ–¹å’Œç¤¾åŒºç»´æŠ¤çš„é•œåƒã€‚</p>
<p>Dockerfile é‡Œå†™çš„ <code>FROM node:18</code>ï¼Œæ„æ€å°±æ˜¯ï¼šä» Docker Hub æ‹‰å–ä¸€ä¸ª Node 18 çš„é•œåƒä½œä¸ºåŸºç¡€ç¯å¢ƒã€‚</p>
<hr/>
<p>æŠŠè¿™å‡ ä¸ªæ¦‚å¿µä¸²èµ·æ¥å°±æ˜¯ä¸€å¥è¯ï¼š<strong>Dockerfile ç”¨æ¥æ„å»ºé•œåƒï¼Œé•œåƒç”¨æ¥åˆ›å»ºå®¹å™¨ï¼Œè€Œé•œåƒé€šå¸¸æ¥è‡ª Docker Hubã€‚</strong></p>
<h2 data-id="heading-12">å››ã€å®‰è£…Dockerï¼ˆä»¥ Ubuntu ä¸ºä¾‹ï¼‰</h2>
<p>ä¸‹é¢ä»¥ <strong>Ubuntu 20.04 / 22.04</strong> ä¸ºä¾‹ï¼Œä»‹ç»æœ€å¸¸è§ã€ä¹Ÿæ˜¯æœ€ç¨³å¦¥çš„å®‰è£…æ–¹å¼ã€‚</p>
<h3 data-id="heading-13">æ­¥éª¤ 1ï¼šæ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…åŸºç¡€ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">sudo apt update
sudo apt install -y ca-certificates curl gnupg lsb-release
</code></pre>
<p>è¿™äº›å·¥å…·ä¸»è¦ç”¨æ¥å®‰å…¨åœ°æ·»åŠ  Docker å®˜æ–¹ä»“åº“ã€‚</p>
<hr/>
<h3 data-id="heading-14">æ­¥éª¤ 2ï¼šæ·»åŠ  Docker å®˜æ–¹ GPG Key</h3>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">mkdir</span> -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
</code></pre>
<hr/>
<h3 data-id="heading-15">æ­¥éª¤ 3ï¼šæ·»åŠ  Docker å®˜æ–¹è½¯ä»¶æº</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> \
  <span class="hljs-string">"deb [arch=<span class="hljs-subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.gpg] \
  https://download.docker.com/linux/ubuntu \
  <span class="hljs-subst">$(lsb_release -cs)</span> stable"</span> | \
  sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null
</code></pre>
<hr/>
<h3 data-id="heading-16">æ­¥éª¤ 4ï¼šå®‰è£… Docker å¼•æ“</h3>
<pre><code class="hljs language-bash" lang="bash">sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre>
<hr/>
<h3 data-id="heading-17">æ­¥éª¤ 5ï¼šéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</h3>
<pre><code class="hljs language-bash" lang="bash">docker --version
sudo docker run hello-world
</code></pre>
<p>å¦‚æœçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Hello <span class="hljs-keyword">from</span> Docker!
</code></pre>
<p>è¯´æ˜ Docker å·²ç»åœ¨ä½ çš„ Ubuntu æœåŠ¡å™¨ä¸ŠæˆåŠŸè¿è¡Œã€‚</p>
<hr/>
<h3 data-id="heading-18">ï¼ˆå¯é€‰ï¼‰æ­¥éª¤ 6ï¼šé root ç”¨æˆ·è¿è¡Œ Docker</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒDocker éœ€è¦ <code>sudo</code> æƒé™ã€‚å¦‚æœä½ ä¸æƒ³æ¯æ¬¡éƒ½åŠ  <code>sudo</code>ï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo usermod -aG docker <span class="hljs-variable">$USER</span>
</code></pre>
<p>ç„¶å <strong>é€€å‡ºå½“å‰ç»ˆç«¯é‡æ–°ç™»å½•</strong>ï¼Œå†æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker ps
</code></pre>
<p>èƒ½æ­£å¸¸æ‰§è¡Œï¼Œè¯´æ˜é…ç½®æˆåŠŸã€‚</p>
<hr/>
<h2 data-id="heading-19">äº”ã€å¸¸ç”¨çš„Dockerå‘½ä»¤</h2>
<h3 data-id="heading-20">åŸºç¡€å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬</span>
docker --version

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤</span>
docker --<span class="hljs-built_in">help</span>

<span class="hljs-comment"># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span>
docker ps

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰</span>
docker ps -a

<span class="hljs-comment"># æŸ¥çœ‹æœ¬åœ°é•œåƒ</span>
docker images

<span class="hljs-comment"># ä¸‹è½½é•œåƒï¼ˆä»Docker Hubï¼‰</span>
docker pull é•œåƒå:æ ‡ç­¾
<span class="hljs-comment"># ç¤ºä¾‹ï¼šdocker pull node:14</span>

<span class="hljs-comment"># è¿è¡Œå®¹å™¨</span>
docker run [é€‰é¡¹] é•œåƒå
<span class="hljs-comment"># ç¤ºä¾‹ï¼šdocker run -it ubuntu bash</span>

<span class="hljs-comment"># åœæ­¢å®¹å™¨</span>
docker stop å®¹å™¨IDæˆ–åå­—

<span class="hljs-comment"># åˆ é™¤å®¹å™¨</span>
docker <span class="hljs-built_in">rm</span> å®¹å™¨IDæˆ–åå­—

<span class="hljs-comment"># åˆ é™¤é•œåƒ</span>
docker rmi é•œåƒIDæˆ–åå­—
</code></pre>
<h3 data-id="heading-21">å¸¸ç”¨é€‰é¡¹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -dï¼šåå°è¿è¡Œï¼ˆå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼‰</span>
docker run -d nginx

<span class="hljs-comment"># -pï¼šç«¯å£æ˜ å°„ï¼ˆä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ï¼‰</span>
docker run -p 8080:80 nginx

<span class="hljs-comment"># -vï¼šæŒ‚è½½å·ï¼ˆä¸»æœºç›®å½•:å®¹å™¨ç›®å½•ï¼‰</span>
docker run -v /home/data:/app/data nginx

<span class="hljs-comment"># --nameï¼šç»™å®¹å™¨èµ·åå­—</span>
docker run --name my_nginx nginx

<span class="hljs-comment"># -itï¼šäº¤äº’æ¨¡å¼è¿è¡Œ</span>
docker run -it ubuntu bash
</code></pre>
<h2 data-id="heading-22">å…­ã€éƒ¨ç½²Javaé¡¹ç›®ï¼ˆSpring Bootç¤ºä¾‹ï¼‰</h2>
<hr/>
<h3 data-id="heading-23">é¡¹ç›®ç»“æ„ï¼ˆWindows æœ¬åœ°ï¼‰</h3>
<pre><code class="hljs language-text" lang="text">my-java-app/
â”œâ”€â”€ src/          # æºä»£ç 
â”œâ”€â”€ pom.xml       # Maven é…ç½®æ–‡ä»¶
â””â”€â”€ Dockerfile    # Docker æ„å»ºæ–‡ä»¶
</code></pre>
<hr/>
<h3 data-id="heading-24">æ­¥éª¤1ï¼šç¼–å†™ Dockerfileï¼ˆWindows æœ¬åœ°ï¼‰</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>Dockerfile</code>ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨å®˜æ–¹ Java è¿è¡Œç¯å¢ƒä½œä¸ºåŸºç¡€é•œåƒ
FROM openjdk:11-jre-slim

# è®¾ç½®å®¹å™¨å†…å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ Spring Boot æ‰“åŒ…åçš„ jar æ–‡ä»¶
COPY target/myapp.jar app.jar

# æš´éœ²ç«¯å£ï¼ˆSpring Boot é»˜è®¤ 8080ï¼‰
EXPOSE 8080

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["java", "-jar", "app.jar"]
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼š
Dockerfile ä¸­çš„è·¯å¾„æ˜¯ <strong>å®¹å™¨å†…è·¯å¾„</strong>ï¼Œå’Œ Windows / Linux æœ¬æœºè·¯å¾„æ— å…³ã€‚</p>
<hr/>
<h3 data-id="heading-25">æ­¥éª¤2ï¼šWindows æœ¬åœ°æ‰“åŒ…é¡¹ç›®</h3>
<p>åœ¨ <strong>Windows æœ¬åœ°å¼€å‘ç¯å¢ƒ</strong> æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> my-java-app

<span class="hljs-comment"># ä½¿ç”¨ Maven æ‰“åŒ…ï¼ˆç”Ÿæˆ target/myapp.jarï¼‰</span>
mvn clean package
</code></pre>
<p>æ‰§è¡Œå®Œæˆåï¼Œç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼š</p>
<pre><code class="hljs language-text" lang="text">target/myapp.jar
</code></pre>
<hr/>
<h3 data-id="heading-26">æ­¥éª¤3ï¼šå°†é¡¹ç›®ä¼ åˆ° Linux æœåŠ¡å™¨</h3>
<h4 data-id="heading-27">æ–¹å¼ä¸€ï¼šä½¿ç”¨ scpï¼ˆæ¨èï¼‰</h4>
<p>åœ¨ Windows ç»ˆç«¯ï¼ˆPowerShell / Git Bashï¼‰ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">scp -r my-java-app user@æœåŠ¡å™¨IP:/home/user/
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">scp -r my-java-app root@123.456.78.90:/root/
</code></pre>
<hr/>
<h3 data-id="heading-28">æ­¥éª¤4ï¼šLinux æœåŠ¡å™¨ä¸Šæ„å»º Docker é•œåƒ</h3>
<p>ç™»å½• Linux æœåŠ¡å™¨åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> my-java-app
</code></pre>
<p>æ„å»ºé•œåƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker build -t my-java-app:1.0 .
</code></pre>
<p>æŸ¥çœ‹é•œåƒæ˜¯å¦æ„å»ºæˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker images
</code></pre>
<hr/>
<h3 data-id="heading-29">æ­¥éª¤5ï¼šåœ¨ Linux ä¸Šè¿è¡Œå®¹å™¨</h3>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  -p 8080:8080 \
  --name java-app \
  my-java-app:1.0
</code></pre>
<p>æŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker ps
</code></pre>
<p>æŸ¥çœ‹æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker logs java-app
</code></pre>
<hr/>
<h3 data-id="heading-30">æ­¥éª¤6ï¼šè®¿é—®åº”ç”¨</h3>
<pre><code class="hljs language-text" lang="text">http://123.456.78.90:8080
</code></pre>
<hr/>
<h2 data-id="heading-31">ä¸ƒã€éƒ¨ç½²Node.jsé¡¹ç›®ï¼ˆExpressç¤ºä¾‹ï¼‰</h2>
<h3 data-id="heading-32">é¡¹ç›®ç»“æ„ï¼ˆWindows æœ¬åœ°ï¼‰</h3>
<pre><code class="hljs language-text" lang="text">my-node-app/
â”œâ”€â”€ src/
â”œâ”€â”€ package.json
â”œâ”€â”€ server.js
â””â”€â”€ Dockerfile
</code></pre>
<hr/>
<h3 data-id="heading-33">æ­¥éª¤1ï¼šç¼–å†™ Dockerfileï¼ˆWindows æœ¬åœ°ï¼‰</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>Dockerfile</code>ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨å®˜æ–¹ Node.js è¿è¡Œç¯å¢ƒ
FROM node:18-alpine

# è®¾ç½®å®¹å™¨å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ä¾èµ–é…ç½®æ–‡ä»¶
COPY package*.json ./

# å®‰è£…ä¾èµ–
RUN npm install --production

# å¤åˆ¶é¡¹ç›®ä»£ç 
COPY . .

# æš´éœ²ç«¯å£
EXPOSE 3000

# å¯åŠ¨åº”ç”¨
CMD ["node", "server.js"]
</code></pre>
<hr/>
<h3 data-id="heading-34">æ­¥éª¤2ï¼šå°†é¡¹ç›®ä¸Šä¼ åˆ° Linux æœåŠ¡å™¨</h3>
<h4 data-id="heading-35">æ–¹å¼ä¸€ï¼šscp ä¼ è¾“ï¼ˆæ¨èï¼‰</h4>
<p>åœ¨ Windows ç»ˆç«¯æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">scp -r my-node-app user@æœåŠ¡å™¨IP:/home/user/
</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">scp -r my-node-app root@123.456.78.90:/root/
</code></pre>
<hr/>
<h3 data-id="heading-36">æ­¥éª¤3ï¼šLinux æœåŠ¡å™¨æ„å»ºé•œåƒ</h3>
<p>ç™»å½• Linux æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> my-node-app
</code></pre>
<p>æ„å»ºé•œåƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker build -t my-node-app:1.0 .
</code></pre>
<p>æŸ¥çœ‹é•œåƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker images
</code></pre>
<hr/>
<h3 data-id="heading-37">æ­¥éª¤4ï¼šè¿è¡Œå®¹å™¨</h3>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  -p 3000:3000 \
  --name node-app \
  my-node-app:1.0
</code></pre>
<p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker ps
</code></pre>
<p>æŸ¥çœ‹æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker logs node-app
</code></pre>
<hr/>
<h3 data-id="heading-38">æ­¥éª¤5ï¼šè®¿é—®åº”ç”¨</h3>
<pre><code class="hljs language-text" lang="text">http://æœåŠ¡å™¨IP:3000
</code></pre>
<hr/>
<h3 data-id="heading-39">å¯é€‰ï¼šå¤šé˜¶æ®µæ„å»ºä¼˜åŒ–ç‰ˆï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰</h3>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># æ„å»ºé˜¶æ®µ
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

# è¿è¡Œé˜¶æ®µ
FROM node:18-alpine
WORKDIR /app
COPY --from=builder /app/node_modules ./node_modules
COPY . .
EXPOSE 3000
CMD ["node", "server.js"]
</code></pre>
<hr/>
<h2 data-id="heading-40">å…«ã€åŒæ—¶éƒ¨ç½² Java + Node + MySQL</h2>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>Docker Compose</code>ï¼Œ<code>Docker Compose</code> æ˜¯ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œç»Ÿä¸€ç®¡ç†å¤šä¸ª Docker å®¹å™¨çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-41">åœºæ™¯è¯´æ˜</h3>
<p>æœåŠ¡å™¨éƒ¨ç½²ç»“æ„ï¼š</p>
<pre><code class="hljs">LinuxæœåŠ¡å™¨
 â”œâ”€â”€ MySQL
 â”œâ”€â”€ Spring Boot åç«¯
 â””â”€â”€ Node å‰ç«¯
</code></pre>
<hr/>
<h3 data-id="heading-42">æ­¥éª¤1ï¼šæœåŠ¡å™¨å‡†å¤‡ç›®å½•ç»“æ„</h3>
<p>åœ¨ Linux æœåŠ¡å™¨åˆ›å»ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">project/
 â”œâ”€â”€ docker-compose.yml
 â”œâ”€â”€ java-backend/
 â””â”€â”€ node-frontend/
</code></pre>
<p>æŠŠä¸¤ä¸ªé¡¹ç›®ä»£ç åˆ†åˆ«ä¸Šä¼ è¿›å»ã€‚</p>
<hr/>
<h3 data-id="heading-43">æ­¥éª¤2ï¼šåˆ›å»º docker-compose.yml</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>

  <span class="hljs-attr">mysql:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:8.0</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">mysql</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">rootpassword</span>
      <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">mydb</span>
      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">user</span>
      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">password</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3306:3306"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql-data:/var/lib/mysql</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>

  <span class="hljs-attr">java-backend:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">./java-backend</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">java-backend</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:8080"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">SPRING_DATASOURCE_URL:</span> <span class="hljs-string">jdbc:mysql://mysql:3306/mydb</span>
      <span class="hljs-attr">SPRING_DATASOURCE_USERNAME:</span> <span class="hljs-string">user</span>
      <span class="hljs-attr">SPRING_DATASOURCE_PASSWORD:</span> <span class="hljs-string">password</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>

  <span class="hljs-attr">node-frontend:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">./node-frontend</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">node-frontend</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">API_URL:</span> <span class="hljs-string">http://java-backend:8080</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">java-backend</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>

<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">app-network:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">bridge</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">mysql-data:</span>
</code></pre>
<hr/>
<h3 data-id="heading-44">æ­¥éª¤3ï¼šå¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆLinux æœåŠ¡å™¨æ‰§è¡Œï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">docker compose up -d
</code></pre>
<p>æ–°ç‰ˆæœ¬ Docker æ¨è <code>docker compose</code>ï¼Œè€ç‰ˆæœ¬ä½¿ç”¨ <code>docker-compose</code>ã€‚</p>
<hr/>
<p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker compose ps
</code></pre>
<p>æŸ¥çœ‹æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker compose logs -f
</code></pre>
<p>åœæ­¢æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker compose down
</code></pre>
<hr/>
<h3 data-id="heading-45">æ­¥éª¤4ï¼šè®¿é—®ç³»ç»Ÿ</h3>
<h4 data-id="heading-46">nodeè®¿é—®</h4>
<pre><code class="hljs language-text" lang="text">http://æœåŠ¡å™¨IP:3000
</code></pre>
<hr/>
<h4 data-id="heading-47">javaè®¿é—®</h4>
<pre><code class="hljs language-text" lang="text">http://æœåŠ¡å™¨IP:8080
</code></pre>
<hr/>
<h4 data-id="heading-48">MySQL è¿æ¥åœ°å€</h4>
<pre><code class="hljs language-text" lang="text">æœåŠ¡å™¨IP:3306
</code></pre>
<h2 data-id="heading-49">ä¹ã€å®ç”¨çš„å‡ ä¸ªå¸¸ç”¨å‘½ä»¤</h2>
<h3 data-id="heading-50">1. è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥å®¹å™¨å†…çš„bash</span>
docker <span class="hljs-built_in">exec</span> -it å®¹å™¨å bash

<span class="hljs-comment"># åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤</span>
docker <span class="hljs-built_in">exec</span> å®¹å™¨å <span class="hljs-built_in">ls</span> /app
</code></pre>
<h3 data-id="heading-51">2. æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨</h3>
<pre><code class="hljs language-bash" lang="bash">docker stats
</code></pre>
<h3 data-id="heading-52">3. æ¸…ç†æ— ç”¨èµ„æº</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨</span>
docker container prune

<span class="hljs-comment"># åˆ é™¤æ‰€æœ‰æœªè¢«ä½¿ç”¨çš„é•œåƒ</span>
docker image prune

<span class="hljs-comment"># åˆ é™¤æ‰€æœ‰æœªè¢«ä½¿ç”¨çš„ç½‘ç»œ</span>
docker network prune

<span class="hljs-comment"># ä¸€é”®æ¸…ç†æ‰€æœ‰</span>
docker system prune -a
</code></pre>
<h3 data-id="heading-53">4. æŸ¥çœ‹é•œåƒæ„å»ºå†å²</h3>
<pre><code class="hljs language-bash" lang="bash">docker <span class="hljs-built_in">history</span> é•œåƒå
</code></pre>
<h3 data-id="heading-54">5. å¤‡ä»½å’Œæ¢å¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½é•œåƒåˆ°æ–‡ä»¶</span>
docker save -o myapp.tar myapp:1.0

<span class="hljs-comment"># ä»æ–‡ä»¶æ¢å¤é•œåƒ</span>
docker load -i myapp.tar
</code></pre>
<h2 data-id="heading-55">å†™åœ¨æœ€å</h2>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ Dockerï¼Œçœ‹åˆ°è¿™é‡Œå¯èƒ½è¿˜æ˜¯æœ‰ç‚¹æ‡µï¼Œè¿™å¾ˆæ­£å¸¸ã€‚</p>
<p>ç­‰ä½ å“ªå¤©çœŸçš„æŠŠä¸€ä¸ªé¡¹ç›®ä»æœ¬åœ°è·‘åˆ°æœåŠ¡å™¨ä¸Šï¼Œç”¨ Docker ä¸€æ¬¡æ€§æ‹‰èµ·æ¥çš„æ—¶å€™ï¼Œé‚£ç§ç»ˆäºæå®šäº†çš„æ„Ÿè§‰ï¼Œä¼šéå¸¸æ˜æ˜¾ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜å¤§åï¼Œä¸“æ³¨å‰ç«¯ã€Javaå¼€å‘ï¼ŒAIåº”ç”¨å’Œå·¥å…·çš„åˆ†äº«ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿å§†çº§æ•™ç¨‹ï¼šç”¨ Coze æ‰“é€ å® ç‰©â†’å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–å·¥ä½œæµ]]></title>    <link>https://juejin.cn/post/7605030650279411758</link>    <guid>https://juejin.cn/post/7605030650279411758</guid>    <pubDate>2026-02-10T13:50:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605030650279411758" data-draft-id="7605097326726430766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿å§†çº§æ•™ç¨‹ï¼šç”¨ Coze æ‰“é€ å® ç‰©â†’å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–å·¥ä½œæµ "/> <meta itemprop="keywords" content="Coze"/> <meta itemprop="datePublished" content="2026-02-10T13:50:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¼šæ•²ä»£ç 1"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿å§†çº§æ•™ç¨‹ï¼šç”¨ Coze æ‰“é€ å® ç‰©â†’å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–å·¥ä½œæµ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¼šæ•²ä»£ç 1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T13:50:07.000Z" title="Tue Feb 10 2026 13:50:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€æ˜é‡‘ä¸“å±ã€‘ä¿å§†çº§æ•™ç¨‹ï¼šç”¨ Coze æ‰“é€ å® ç‰©â†’å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–å·¥ä½œæµ ğŸ¾ğŸ’</h2>
<blockquote>
<p>5 åˆ†é’Ÿä¸Šæ‰‹ï¼0 ä»£ç åŸºç¡€ä¹Ÿèƒ½æ­å»ºï¼ŒæŠŠä½ å®¶æ¯›å­©å­å˜æˆè¶…é…·çš„å†°çƒå°å°†</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ğŸ”¥ å‰è¨€ï¼šä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªå·¥ä½œæµï¼Ÿ</h3>
<p>å…»å® çš„ä½ æ˜¯ä¸æ˜¯æ€»å¿ä¸ä½å¹»æƒ³ï¼šå¦‚æœå®¶é‡Œçš„çŒ«çŒ«ç‹—ç‹—èƒ½åŒ–èº«è¿åŠ¨å¥å°†ï¼Œä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿä¸ç”¨å†é è„‘è¡¥äº†ï¼ä»Šå¤©å°±æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨ Cozeï¼ˆæ‰£å­ï¼‰ä¸Šæ­å»ºä¸€ä¸ªã€Œå® ç‰©æ‹Ÿäººå†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨ã€â€”â€” åªéœ€ä¸Šä¼ ä¸€å¼ å® ç‰©ç…§ç‰‡ï¼Œå¡«å†™å‡ ä¸ªç®€å•å‚æ•°ï¼Œå°±èƒ½ä¸€é”®ç”Ÿæˆä¸“å±çš„å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–å½¢è±¡ï¼Œæ—¢æœ‰å® ç‰©çš„èŒè¶£ç‰¹å¾ï¼Œåˆæœ‰å†°çƒè¿åŠ¨çš„é£’çˆ½æ„Ÿï¼Œå‘æœ‹å‹åœˆã€åšå£çº¸éƒ½è¶…å¸ç›ï¼</p>
<hr/>
<h3 data-id="heading-2">ğŸ¯ é¡¹ç›®æ ¸å¿ƒç›®æ ‡</h3>
<ul>
<li><strong>è¾“å…¥</strong>ï¼šå® ç‰©ç…§ç‰‡ + è‡ªå®šä¹‰å‚æ•°ï¼ˆé£æ ¼ / çƒè¡£å·ç  / é¢œè‰² / åœºä¸Šä½ç½®ç­‰ï¼‰</li>
<li><strong>è¾“å‡º</strong>ï¼šé«˜åº¦è¿˜åŸå® ç‰©ç‰¹å¾çš„å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–é«˜æ¸…å›¾ç‰‡</li>
<li><strong>äº®ç‚¹</strong>ï¼š0 ä»£ç åŸºç¡€ä¹Ÿèƒ½æ­ï¼Œå‚æ•°å¯çµæ´»è°ƒæ•´ï¼Œç”Ÿæˆæ•ˆæœå¯æ§æ€§å¼º</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ“‹ å‰ç½®å‡†å¤‡</h3>
<h4 data-id="heading-4">1. ç´ æå‡†å¤‡</h4>
<ul>
<li>ä¸€å¼ æ¸…æ™°çš„å® ç‰©ç…§ç‰‡ï¼ˆå»ºè®®ç«–ç‰ˆ / æ­£æ–¹å½¢ï¼Œå•å¼ ä¸è¶…è¿‡ 5MBï¼Œé¢éƒ¨ç‰¹å¾æ¸…æ™°æœ€ä½³ï¼‰</li>
<li>å¯é€‰ï¼šå†°çƒé£æ ¼å‚è€ƒå›¾ï¼ˆå¦‚å–œæ¬¢çš„é˜Ÿæœæ ·å¼ã€æ‹Ÿäººé£æ ¼ç¤ºä¾‹ï¼‰</li>
</ul>
<h4 data-id="heading-5">2. æ€è·¯æ¢³ç†</h4>
<p>æå‰æƒ³å¥½è¿™äº›å‚æ•°ï¼Œç”Ÿæˆæ•ˆæœæ›´è´´åˆé¢„æœŸï¼š</p>
<ul>
<li>ç”Ÿæˆé£æ ¼ï¼šå†™å® / å¡é€š / èµ›åšæœ‹å…‹ / äºŒæ¬¡å…ƒ / å¤å¤ç­‰</li>
<li>çƒè¡£ä¿¡æ¯ï¼šå·ç ï¼ˆ0-99ï¼‰ã€ä¸»è‰²è°ƒï¼ˆçº¢ / è“ / é»‘ / ç™½ç­‰ï¼‰</li>
<li>è¿åŠ¨å‚æ•°ï¼šåœºä¸Šä½ç½®ï¼ˆå®ˆé—¨å‘˜ / å‰é”‹ / åå«ï¼‰ã€æŒæ†æ‰‹ï¼ˆå·¦æ‰‹ / å³æ‰‹ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-6">ğŸ› ï¸ å·¥ä½œæµæ•´ä½“æ¶æ„ï¼ˆé™„é€»è¾‘å›¾ï¼‰</h3>
<p>æ•´ä¸ªå·¥ä½œæµåˆ†ä¸º 6 ä¸ªæ ¸å¿ƒèŠ‚ç‚¹ï¼Œé€»è¾‘æ¸…æ™°ã€ç¯ç¯ç›¸æ‰£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a91669e2a2e04e6bb45b3c9dcffae1b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=Ruxgteq2Mc8Yj4R4rBY2bpKTA7U%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ï¼ˆå·¥ä½œæµæ•´ä½“æ¶æ„å›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5b69da50c8c4d2fae47eec68be9f2f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=fZ9WKudZ6%2Fu6FvSLg3PR2jTUdcg%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210111.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">ğŸ“ è¯¦ç»†æ­å»ºæ­¥éª¤ï¼ˆæ¯æ­¥é™„æ“ä½œæˆªå›¾ï¼‰</h3>
<h4 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºã€Œå¼€å§‹ã€èŠ‚ç‚¹ï¼ˆå…¥å£é…ç½®ï¼‰</h4>
<p>è¿™æ˜¯å·¥ä½œæµçš„ â€œå¤§é—¨â€ï¼Œæ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ä»è¿™é‡Œè¿›å…¥ã€‚</p>
<h5 data-id="heading-9">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>æ‰“å¼€ Coze å·¥ä½œå°ï¼Œæ–°å»ºã€Œå·¥ä½œæµã€åº”ç”¨</li>
<li>æ‹–æ‹½ã€Œå¼€å§‹ã€èŠ‚ç‚¹åˆ°ç”»å¸ƒï¼Œç‚¹å‡»ã€Œç¼–è¾‘ã€</li>
<li>æŒ‰å¦‚ä¸‹é…ç½®è¾“å…¥å‚æ•°ï¼ˆç›´æ¥å¤åˆ¶å³å¯ï¼‰ï¼š</li>
</ol>
<p>è¡¨æ ¼</p>





























































<table><thead><tr><th>å˜é‡å</th><th>å˜é‡ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>æè¿°</th><th>é…ç½®æŠ€å·§</th></tr></thead><tbody><tr><td><code>picture</code></td><td>Image</td><td>âœ…</td><td>-</td><td>å® ç‰©ç…§ç‰‡</td><td>æ ‡æ³¨ â€œè¯·ä¸Šä¼ æ¸…æ™°çš„å® ç‰©æ­£é¢ç…§â€</td></tr><tr><td><code>style</code></td><td>String</td><td>âŒ</td><td>å†™å®</td><td>ç”Ÿæˆé£æ ¼</td><td>å¯æ·»åŠ ç¤ºä¾‹ï¼šå†™å® / å¡é€š / èµ›åšæœ‹å…‹</td></tr><tr><td><code>uniform_number</code></td><td>Number</td><td>âŒ</td><td>10</td><td>çƒè¡£å·ç </td><td>é™åˆ¶èŒƒå›´ 0-99 æ›´åˆç†</td></tr><tr><td><code>uniform_color</code></td><td>String</td><td>âŒ</td><td>çº¢</td><td>çƒè¡£é¢œè‰²</td><td>å»ºè®®å¡«å†™å…·ä½“è‰²å€¼ / åç§°</td></tr><tr><td><code>position</code></td><td>Number</td><td>âŒ</td><td>éšæœº</td><td>åœºä¸Šä½ç½®</td><td>0 = å®ˆé—¨å‘˜ / 1 = å‰é”‹ / 2 = åå«</td></tr><tr><td><code>shotting_hand</code></td><td>Number</td><td>âŒ</td><td>éšæœº</td><td>æŒæ†æ‰‹</td><td>0 = å·¦æ‰‹ / 1 = å³æ‰‹</td></tr></tbody></table>
<h5 data-id="heading-10">å…³é”®æç¤ºï¼š</h5>
<ul>
<li>ç‚¹å‡»æ¯ä¸ªå‚æ•°åçš„ã€Œè®¾ç½®ã€ï¼Œæ·»åŠ ã€Œæè¿°ã€å¸®åŠ©ç”¨æˆ·ç†è§£</li>
<li>é»˜è®¤å€¼å¯æ ¹æ®ä½ çš„å¸¸ç”¨åå¥½è°ƒæ•´ï¼ˆæ¯”å¦‚æŠŠçƒè¡£é¢œè‰²æ”¹æˆä½ å–œæ¬¢çš„çƒé˜Ÿè‰²ï¼‰</li>
</ul>
<blockquote>
<p>ï¼ˆã€Œå¼€å§‹ã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2defe01f6bb54304b56e34d7a4296d35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=DlA0p231MgcJ9yE%2FHH7ntmC2Luk%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210202.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb106ab63ba845a9bc5bfcf3f17325f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=8EzjIvYy4eVqM5BSkQQ3aDQiV%2B0%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210235.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f0983a16bf646deb9d0f7601d60cb14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=LO%2FZPbioTYtWXjnmoPJq%2FmAh86c%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210254.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-11">ç¬¬äºŒæ­¥ï¼šé…ç½®ã€Œå›¾ç‰‡ç†è§£ã€èŠ‚ç‚¹ï¼ˆè§†è§‰åˆ†æï¼‰</h4>
<p>è¿™ä¸ªèŠ‚ç‚¹æ˜¯ â€œçœ¼ç›â€ï¼Œèƒ½è‡ªåŠ¨è¯»æ‡‚å® ç‰©ç…§ç‰‡çš„æ ¸å¿ƒç‰¹å¾ã€‚</p>
<h5 data-id="heading-12">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>æ‹–æ‹½ã€Œæ¨¡å‹è°ƒç”¨ã€èŠ‚ç‚¹åˆ°ç”»å¸ƒï¼Œé‡å‘½åä¸ºã€Œå›¾ç‰‡ç†è§£ã€</li>
<li>æ¨¡å‹é€‰æ‹©ï¼šè±†åŒ… 1.5 Proãƒ»è§†è§‰ç†è§£ - 250328ï¼ˆå¤§å®¶å¯èƒ½è¿™ä¸ªæ¨¡å‹æ— æ³•å¤„ç†å›¾ç‰‡å¯ä»¥æ›´æ¢åˆ«çš„è§†è§‰å¤„ç†æ¨¡å‹ï¼‰</li>
<li>è¾“å…¥é…ç½®ï¼š<code>img</code> å­—æ®µè¿æ¥ã€Œå¼€å§‹ã€èŠ‚ç‚¹çš„ <code>picture</code> è¾“å‡º</li>
<li>ç³»ç»Ÿæç¤ºè¯ï¼ˆç›´æ¥å¤åˆ¶ï¼‰ï¼š</li>
</ol>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸“ä¸šçš„å® ç‰©ç‰¹å¾åˆ†æä¸“å®¶ï¼Œè¯·è¯¦ç»†æè¿°è¿™å¼ å® ç‰©å›¾ç‰‡çš„æ ¸å¿ƒç‰¹å¾ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
<span class="hljs-bullet">1.</span> å® ç‰©ç§ç±»ï¼ˆçŒ«/ç‹—/å…¶ä»–ï¼‰ã€æ¯›è‰²/èŠ±çº¹
<span class="hljs-bullet">2.</span> é¢éƒ¨ç‰¹å¾ï¼ˆçœ¼ç›å½¢çŠ¶/é¢œè‰²ã€é¼»å­/å˜´å·´ç‰¹å¾ã€è€³æœµå½¢çŠ¶ï¼‰
<span class="hljs-bullet">3.</span> ç¥æ€/è¡¨æƒ…ï¼ˆå‘†èŒ/æ´»æ³¼/é«˜å†·ï¼‰
<span class="hljs-bullet">4.</span> ä½“å‹/å§¿æ€ï¼ˆèƒ–ç˜¦ã€ç«™ç«‹/è¶´å§ç­‰ï¼‰
æè¿°è¶Šè¯¦ç»†ï¼Œåç»­æ‹ŸäººåŒ–æ•ˆæœè¶Šç²¾å‡†ã€‚
</code></pre>
<p>5.  è¾“å‡ºå­—æ®µï¼šé»˜è®¤ <code>sk_output</code>ï¼ˆå­˜å‚¨ç‰¹å¾æè¿°æ–‡æœ¬ï¼‰</p>
<h5 data-id="heading-13">å…³é”®æç¤ºï¼š</h5>
<ul>
<li>è§†è§‰æ¨¡å‹éœ€ç¡®ä¿å¼€é€šæƒé™ï¼Œå¦åˆ™ä¼šæç¤ºè°ƒç”¨å¤±è´¥</li>
<li>æç¤ºè¯è¶Šå…·ä½“ï¼Œç‰¹å¾æå–è¶Šç²¾å‡†</li>
</ul>
<blockquote>
<p>ï¼ˆã€Œå›¾ç‰‡ç†è§£ã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b96218349b546008756c312fe594f94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=nRURA18HelVycl3eCORN%2Fmd0rpY%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210351.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-14">ç¬¬ä¸‰æ­¥ï¼šé…ç½®ã€Œç‰¹å¾æå–ã€èŠ‚ç‚¹ï¼ˆæ ¸å¿ƒæç‚¼ï¼‰</h4>
<p>ä»å›¾ç‰‡ç†è§£çš„ç»“æœä¸­ï¼Œç­›é€‰å‡ºæœ€å…·è¾¨è¯†åº¦çš„ç‰¹å¾ï¼Œä¸ºæ‹ŸäººåŒ–æ‰“åŸºç¡€ã€‚</p>
<h5 data-id="heading-15">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>æ‹–æ‹½ã€Œæ¨¡å‹è°ƒç”¨ã€èŠ‚ç‚¹åˆ°ç”»å¸ƒï¼Œé‡å‘½åä¸ºã€Œç‰¹å¾æå–ã€</li>
<li>æ¨¡å‹é€‰æ‹©ï¼šè±†åŒ… 1.8ãƒ»æ·±åº¦æ€è€ƒ</li>
<li>è¾“å…¥é…ç½®ï¼š<code>input</code> å­—æ®µè¿æ¥ã€Œå›¾ç‰‡ç†è§£ã€èŠ‚ç‚¹çš„ <code>sk_output</code></li>
<li>ç³»ç»Ÿæç¤ºè¯ï¼ˆç›´æ¥å¤åˆ¶ï¼‰ï¼š</li>
</ol>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯èµ„æ·±åŠ¨ç‰©æ‹ŸäººåŒ–è®¾è®¡å¸ˆï¼Œç°åœ¨éœ€è¦ä»ä»¥ä¸‹å® ç‰©ç‰¹å¾æè¿°ä¸­ï¼Œæå–å‡ºæœ€é€‚åˆåšæ‹ŸäººåŒ–çš„æ ¸å¿ƒç‰¹å¾ï¼ˆä»…ä¿ç•™ç‹¬ç‰¹ã€é«˜è¾¨è¯†åº¦çš„å†…å®¹ï¼‰ï¼š
è¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> è¾“å‡ºJSONæ ¼å¼ï¼Œå­—æ®µåŒ…æ‹¬ï¼šunique<span class="hljs-emphasis">_featuresï¼ˆç‹¬ç‰¹ç‰¹å¾ï¼‰ã€expressionï¼ˆç¥æ€ï¼‰ã€color_</span>mappingï¼ˆé¢œè‰²æ˜ å°„å»ºè®®ï¼‰
<span class="hljs-bullet">2.</span> é¢œè‰²æ˜ å°„å»ºè®®è¦é€‚é…å†°çƒæœé…è‰²ï¼ˆæ¯”å¦‚â€œæ©˜ç™½ç›¸é—´çš„æ¯›è‰²â†’é˜Ÿæœä¸»æ©˜è‰²+ç™½è‰²é•¶è¾¹â€ï¼‰
<span class="hljs-bullet">3.</span> ç‰¹å¾æè¿°è¦ç®€æ´ã€å¯ç›´æ¥ç”¨äºå›¾åƒç”Ÿæˆæç¤ºè¯
</code></pre>
<p>5.  ç”¨æˆ·æç¤ºè¯ï¼š<code>{{input}}</code></p>
<ol start="6">
<li>
<p>è¾“å‡ºå­—æ®µï¼š</p>
<ul>
<li><code>output</code>ï¼šJSON æ ¼å¼çš„ç»“æ„åŒ–ç‰¹å¾ï¼ˆæ ¸å¿ƒï¼‰</li>
<li><code>reasoning_content</code>ï¼šæ¨ç†è¿‡ç¨‹ï¼ˆå¯é€‰ï¼Œç”¨äºè°ƒè¯•ï¼‰</li>
</ul>
</li>
</ol>
<h5 data-id="heading-16">å…³é”®æç¤ºï¼š</h5>
<ul>
<li>å¼ºåˆ¶è¦æ±‚ JSON è¾“å‡ºï¼Œåç»­ä»£ç èŠ‚ç‚¹å¤„ç†æ›´æ–¹ä¾¿</li>
<li>é¢œè‰²æ˜ å°„å»ºè®®èƒ½è®©æ‹ŸäººåŒ–æ›´è´´åˆå® ç‰©ç‰¹å¾</li>
</ul>
<blockquote>
<p>ï¼ˆã€Œç‰¹å¾æå–ã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1594156d8ab40efbf67064f78de0a1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=5WdCuQ7ZlCJ4Zt%2BEMSD76Il%2BApc%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210407.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb8e62c05b0c45cebe6b37e94c27aa4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=7zQehf4dfYwCsVrQrYBiXuJIE0w%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210422.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-17">ç¬¬å››æ­¥ï¼šé…ç½®ã€Œä»£ç ã€èŠ‚ç‚¹ï¼ˆå‚æ•°æ ‡å‡†åŒ–ï¼‰</h4>
<p>æŠŠç”¨æˆ·è¾“å…¥çš„é›¶æ•£å‚æ•°è½¬æ¢æˆå›¾åƒç”Ÿæˆèƒ½ç›´æ¥ç”¨çš„æ ‡å‡†åŒ–æ ¼å¼ï¼ˆ0 ä»£ç åŸºç¡€ä¹Ÿèƒ½å¤åˆ¶å³ç”¨ï¼‰ã€‚</p>
<h5 data-id="heading-18">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>æ‹–æ‹½ã€Œä»£ç ã€èŠ‚ç‚¹åˆ°ç”»å¸ƒï¼Œé‡å‘½åä¸ºã€Œå‚æ•°æ ‡å‡†åŒ–ã€</li>
<li>è¾“å…¥é…ç½®ï¼šè¿æ¥ã€Œå¼€å§‹ã€èŠ‚ç‚¹çš„æ‰€æœ‰å‚æ•°ï¼ˆstyle/uniform_number ç­‰ï¼‰</li>
<li>ä»£ç é€»è¾‘ï¼ˆç›´æ¥å¤åˆ¶ï¼Œæ— éœ€ä¿®æ”¹ï¼‰ï¼š</li>
</ol>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">random</span> = (start: number, end: number) =&gt; {
  const <span class="hljs-attr">p</span> = Math.random()<span class="hljs-comment">;</span>
  return Math.floor(start * (1 - p) + end * p)<span class="hljs-comment">;</span>
}

async function main({ params }: Args): Promise&lt;Output&gt; {
  if (<span class="hljs-attr">params.position</span> == null) params.position = random(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
  if (<span class="hljs-attr">params.shooting_hand</span> == null) params.shooting_hand = random(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">style</span> = params.style || <span class="hljs-string">'å†™å®'</span><span class="hljs-comment">;</span>
  const uniform_number:<span class="hljs-attr">string</span> = (params.uniform_number || <span class="hljs-number">10</span>).toString()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">uniform_color</span> = params.uniform_color || <span class="hljs-string">'çº¢'</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">position</span> = params.position  == <span class="hljs-number">0</span> ? <span class="hljs-string">'å®ˆé—¨å‘˜'</span>: (params.position == <span class="hljs-number">1</span> ? <span class="hljs-string">'å‰é”‹'</span>: <span class="hljs-string">'åå«'</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">shooting_hand</span> = params.shooting_hand == <span class="hljs-number">0</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span><span class="hljs-comment">;</span>
  

  // æ„å»ºè¾“å‡ºå¯¹è±¡
  const <span class="hljs-attr">ret</span> = {
      style,
      uniform_number,
      uniform_color,
      position,
      shooting_hand,
  }<span class="hljs-comment">;</span>

  return ret<span class="hljs-comment">;</span>
}
</code></pre>
<p>4.  è¾“å‡ºå­—æ®µï¼šç›´æ¥æ˜ å°„ä»£ç ä¸­çš„ <code>output</code> å­—æ®µ</p>
<h5 data-id="heading-19">å…³é”®æç¤ºï¼š</h5>
<ul>
<li>ä»£ç åšäº†å‚æ•°æ ¡éªŒï¼Œé¿å…ç”¨æˆ·è¾“å…¥éæ³•å€¼å¯¼è‡´æŠ¥é”™</li>
<li>æ•°å­—è½¬ä¸­æ–‡æ˜¯ä¸ºäº†è®©å›¾åƒç”Ÿæˆæç¤ºè¯æ›´è‡ªç„¶</li>
</ul>
<blockquote>
<p>ï¼ˆã€Œä»£ç ã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/866e97d6227d44d7aae3882e71886d02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=W53eiVFLtM75uaLkW7E0ULIwy8I%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210307.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2ff63fdc08d41bd9f30251fdae6b4fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=f3A%2BWmMILmAYKBUTjkAUdilTMUE%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210324.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-20">ç¬¬äº”æ­¥ï¼šé…ç½®ã€Œå›¾åƒç”Ÿæˆã€èŠ‚ç‚¹ï¼ˆæ ¸å¿ƒç”Ÿæˆï¼‰</h4>
<p>è¿™æ˜¯æ•´ä¸ªå·¥ä½œæµçš„ â€œçµé­‚â€ï¼Œæ‰€æœ‰ä¿¡æ¯æœ€ç»ˆåœ¨è¿™é‡Œèåˆæˆå›¾ç‰‡ã€‚</p>
<h5 data-id="heading-21">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>
<p>æ‹–æ‹½ã€Œå›¾åƒç”Ÿæˆã€èŠ‚ç‚¹åˆ°ç”»å¸ƒï¼Œé‡å‘½åä¸ºã€Œæ‹ŸäººåŒ–ç”Ÿæˆã€</p>
</li>
<li>
<p>åŸºç¡€è®¾ç½®ï¼ˆç›´æ¥ç…§å¡«ï¼‰ï¼š</p>
<ul>
<li>
<p>æ¨¡å‹ï¼šé€šç”¨å›¾åƒç”Ÿæˆæ¨¡å‹</p>
</li>
<li>
<p>æ¯”ä¾‹ï¼š1:1 (1024Ã—1024)ï¼ˆé«˜æ¸…ä¸”é€‚é…ç¤¾äº¤å¹³å°ï¼‰</p>
</li>
<li>
<p>ç”Ÿæˆè´¨é‡ï¼šæ‹‰æ»¡ï¼ˆæˆ–æ ¹æ®éœ€æ±‚è°ƒæ•´ï¼‰</p>
</li>
<li>
<p>å‚è€ƒå›¾è®¾ç½®ï¼š</p>
<ul>
<li>æ¨¡å‹ï¼šå½¢è±¡ä¸€è‡´ï¼ˆå…³é”®ï¼ä¿ç•™å® ç‰©ç‰¹å¾ï¼‰</li>
<li>å‚è€ƒå›¾ï¼šè¿æ¥ã€Œå¼€å§‹ã€èŠ‚ç‚¹çš„ <code>picture</code></li>
<li>å‚è€ƒç¨‹åº¦ï¼š0.7ï¼ˆå¹³è¡¡ç‰¹å¾ä¿ç•™å’Œåˆ›æ„å‘æŒ¥ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>
<p>æ­£å‘æç¤ºè¯ï¼ˆç›´æ¥å¤åˆ¶ï¼Œå˜é‡å·²åšå¥½æ˜ å°„ï¼‰ï¼š</p>
</li>
</ol>
<p>text</p>
<pre><code class="hljs language-css" lang="css">é«˜è´¨é‡ã€é«˜æ¸…ã€ç»†èŠ‚ä¸°å¯Œçš„{{style}}é£æ ¼å›¾ç‰‡ï¼Œå°†å® ç‰©æ‹ŸäººåŒ–ä¸ºå„¿ç«¥å†°çƒè¿åŠ¨å‘˜ï¼Œæ ¸å¿ƒè¦æ±‚ï¼š
<span class="hljs-number">1</span>. è¿åŠ¨å‘˜å¤–è²Œç‰¹å¾é«˜åº¦è¿˜åŸå® ç‰©ï¼š{{description}}
<span class="hljs-number">2</span>. æ ¸å¿ƒç‹¬ç‰¹ç‰¹å¾å¼ºåŒ–ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.unique_features</span>}}
<span class="hljs-number">3</span>. ç¥æ€åŒ¹é…ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.expression</span>}}
<span class="hljs-number">4</span>. å†°çƒæœé…è‰²ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.color_mapping</span>}}ï¼ˆä¸»è‰²{{uniform_color}}ï¼Œå·ç {{uniform_number}}å·ï¼‰
<span class="hljs-number">5</span>. è¿åŠ¨ç»†èŠ‚ï¼š{{<span class="hljs-attribute">position</span>}}ç«™ä½ï¼Œ{{shooting_hand}}æŒå†°çƒæ†ï¼Œå¦ä¸€åªæ‰‹è‡ªç„¶ä¸‹å‚
<span class="hljs-number">6</span>. åœºæ™¯ï¼šä¸“ä¸šå†°çƒèµ›åœºï¼Œå…‰çº¿æŸ”å’Œï¼Œæ„å›¾å±…ä¸­ï¼Œæ°›å›´æ„Ÿæ‹‰æ»¡
<span class="hljs-number">7</span>. é£æ ¼è¦æ±‚ï¼š{{style}}ï¼Œå¡é€šé£æ ¼è¦èŒè¶£ï¼Œå†™å®é£æ ¼è¦é€¼çœŸï¼Œèµ›åšæœ‹å…‹é£æ ¼è¦ç‚«é…·

ã€ç»†èŠ‚å¼ºåŒ–ã€‘
- å†°çƒå¤´ç›”è´´åˆå¤´éƒ¨ï¼Œå·ç æ¸…æ™°å¯è§
- å®ˆé—¨å‘˜éœ€æ·»åŠ ä¸“å±æŠ¤å…·+çƒé—¨èƒŒæ™¯ï¼Œå‰é”‹/åå«éœ€æ·»åŠ å†°çƒæ†+å†°çƒ
- æ•´ä½“ç”»é¢æ— è¿å’Œæ„Ÿï¼Œå® ç‰©ç‰¹å¾ä¸äººç±»èº«ä½“è‡ªç„¶èåˆ
</code></pre>
<p>4.  è´Ÿå‘æç¤ºè¯ï¼ˆç›´æ¥å¤åˆ¶ï¼Œé¿å‘å…³é”®ï¼‰ï¼š</p>
<p>text</p>
<pre><code class="hljs">ä½ç”»è´¨ï¼Œæ¨¡ç³Šï¼Œå¤±çœŸï¼Œå››è¶³ç«™ç«‹ï¼Œéå†°çƒèµ›åœºï¼ŒåŒæ‰‹å„æ¡ä¸€æ ¹çƒæ†ï¼Œæœªä½©æˆ´å¤´ç›”ï¼Œçƒè¡£å·ç æ¨¡ç³Šï¼Œé¢œè‰²åå·®ï¼Œç”»é¢å‡ºç°å…¶ä»–åŠ¨ç‰©ï¼Œäººç‰©é¢éƒ¨æ‰­æ›²ï¼Œæ¯”ä¾‹å¤±è°ƒï¼Œæ— å†°çƒå…ƒç´ ï¼ŒèƒŒæ™¯æ‚ä¹±ï¼Œæ–‡å­—æ°´å°
</code></pre>
<p>5.  è¾“å…¥è¿æ¥ï¼ˆå…³é”®ï¼åˆ«è¿é”™ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">*</span>   <span class="hljs-code">`description`</span> â†’ ã€Œå›¾ç‰‡ç†è§£ã€çš„ <span class="hljs-code">`sk_output`</span>
<span class="hljs-bullet">*</span>   <span class="hljs-code">`details`</span> â†’ ã€Œç‰¹å¾æå–ã€çš„ <span class="hljs-code">`output`</span>
<span class="hljs-bullet">*</span>   <span class="hljs-code">`style`</span>/<span class="hljs-code">`uniform_color`</span>/<span class="hljs-code">`uniform_number`</span>/<span class="hljs-code">`position`</span>/<span class="hljs-code">`shooting_hand`</span> â†’ ã€Œä»£ç ã€èŠ‚ç‚¹çš„å¯¹åº”è¾“å‡º
</code></pre>
<h5 data-id="heading-22">å…³é”®æç¤ºï¼š</h5>
<ul>
<li>å‚è€ƒç¨‹åº¦ 0.7 æ˜¯é»„é‡‘å€¼ï¼Œå¤ªé«˜ä¼šå¤±å»æ‹ŸäººåŒ–æ•ˆæœï¼Œå¤ªä½ä¼šä¸¢å¤±å® ç‰©ç‰¹å¾</li>
<li>è´Ÿå‘æç¤ºè¯ä¸€å®šè¦åŠ ï¼Œèƒ½å¤§å¹…å‡å°‘ç¿»è½¦æ¦‚ç‡</li>
</ul>
<blockquote>
<p>ï¼ˆã€Œå›¾åƒç”Ÿæˆã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c670887bd27d451a822297571da3e7cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=GMDWnTHqTp5l8nUX1lgk8gP%2FQUE%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210449.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a88eddb978a4344a35e86d97d6945de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=nS8BlvBZdYDhayn7lDHJKzBkySI%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210503.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a283de5fb0d24b9faf787dbb4c354ea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=UjjTryoc%2FRld6fR6XN972PuPS1s%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210520.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-23">ç¬¬å…­æ­¥ï¼šåˆ›å»ºã€Œç»“æŸã€èŠ‚ç‚¹ï¼ˆç»“æœè¾“å‡ºï¼‰</h4>
<p>å·¥ä½œæµçš„ â€œå‡ºå£â€ï¼ŒæŠŠç”Ÿæˆçš„å›¾ç‰‡è¿”å›ç»™ç”¨æˆ·ã€‚</p>
<h5 data-id="heading-24">æ“ä½œæ­¥éª¤ï¼š</h5>
<ol>
<li>æ‹–æ‹½ã€Œç»“æŸã€èŠ‚ç‚¹åˆ°ç”»å¸ƒ</li>
<li>è¾“å‡ºé…ç½®ï¼š<code>output</code> å­—æ®µè¿æ¥ã€Œå›¾åƒç”Ÿæˆã€èŠ‚ç‚¹çš„ <code>data</code> è¾“å‡º</li>
<li>ç‚¹å‡»ã€Œä¿å­˜ã€ï¼Œå®Œæˆæ•´ä¸ªå·¥ä½œæµæ­å»º</li>
</ol>
<blockquote>
<p>ï¼ˆã€Œç»“æŸã€èŠ‚ç‚¹é…ç½®æˆªå›¾ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48319a80ce184c3896b314ad04daeb9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=Ywgk%2B8HJd%2B3DvsOpZBO%2BNEi70wU%3D" alt="å±å¹•æˆªå›¾ 2026-02-10 210528.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-25">ç¬¬ä¸ƒæ­¥ï¼šä½¿ç”¨èŠ‚ç‚¹ç”Ÿæˆæ•ˆæœå›¾</h4>
<p>å¤§å®¶ç‚¹å‡»è¯•è¿è¡Œå°±å¯ä»¥ç”Ÿæˆå¤§å®¶æƒ³è¦çš„çˆ±å® å›¾ç‰‡äº†ï¼Œç”±äºæ—¶é—´é—®é¢˜æˆ‘åªæ”¾ä¸Šåé¢ç”Ÿæˆå® ç‰©å›¾ç‰‡çš„æ•ˆæœå›¾äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fc0e62d6f404aa5828eb84e23bddaf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=MA5UBIGrNeD%2Fed0nviNsQn8wT%2FA%3D" alt="å±å¹•å½•åˆ¶ 2026-02-10 214312.gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54becfc25c47486fa5ed43c91a543d71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5Lya5pWy5Luj56CBMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771336211&amp;x-signature=SaIgZM72uRTkTaLNqJPLAz23g2c%3D" alt="iceball_player.png" loading="lazy"/></p>
<h3 data-id="heading-26">ğŸš€ æµ‹è¯•ä¸ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-27">1. é¦–æ¬¡æµ‹è¯•æµç¨‹</h4>
<ol>
<li>ç‚¹å‡»ç”»å¸ƒå³ä¸Šè§’ã€Œè¿è¡Œã€</li>
<li>ä¸Šä¼ å® ç‰©ç…§ç‰‡ï¼Œå¡«å†™å‚æ•°ï¼ˆæ¯”å¦‚ï¼šé£æ ¼ = å¡é€šï¼Œå·ç  = 7ï¼Œé¢œè‰² = è“ï¼Œä½ç½® = å‰é”‹ï¼‰</li>
<li>ç­‰å¾… 30 ç§’å·¦å³ï¼ŒæŸ¥çœ‹ç”Ÿæˆç»“æœ</li>
</ol>
<h4 data-id="heading-28">2. å¸¸è§é—®é¢˜ä¼˜åŒ–</h4>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>ä¼˜åŒ–æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å® ç‰©ç‰¹å¾ä¸æ˜æ˜¾</td><td>æé«˜å‚è€ƒå›¾ç¨‹åº¦åˆ° 0.8ï¼Œæˆ–åœ¨ç‰¹å¾æå–æç¤ºè¯ä¸­å¼ºè°ƒ â€œå¼ºåŒ–é¢éƒ¨ç‰¹å¾â€</td></tr><tr><td>çƒè¡£é¢œè‰² / å·ç é”™è¯¯</td><td>æ£€æŸ¥ä»£ç èŠ‚ç‚¹å‚æ•°æ˜ å°„ï¼Œæˆ–åœ¨å›¾åƒç”Ÿæˆæç¤ºè¯ä¸­æ˜ç¡® â€œå·ç  {{uniform_number}} å¿…é¡»æ¸…æ™°æ˜¾ç¤ºâ€</td></tr><tr><td>é£æ ¼ä¸ç¬¦é¢„æœŸ</td><td>ç»†åŒ–é£æ ¼æè¿°ï¼ˆæ¯”å¦‚ â€œå¡é€šâ†’è¿ªå£«å°¼å¡é€šé£æ ¼ï¼Œçº¿æ¡ç®€æ´ï¼Œè‰²å½©æ˜äº®â€ï¼‰</td></tr><tr><td>ç”Ÿæˆå¤±è´¥ / æŠ¥é”™</td><td>æ£€æŸ¥èŠ‚ç‚¹è¿æ¥æ˜¯å¦æ­£ç¡®ï¼Œæ¨¡å‹æƒé™æ˜¯å¦å¼€é€šï¼Œå›¾ç‰‡å¤§å°æ˜¯å¦è¶…é™</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-29">ğŸ¨ æ‰©å±•ç©æ³•ï¼ˆè¶…å®ç”¨ï¼‰</h3>
<ol>
<li><strong>å¤šé£æ ¼æ‰¹é‡ç”Ÿæˆ</strong>ï¼šå¤åˆ¶ã€Œå›¾åƒç”Ÿæˆã€èŠ‚ç‚¹ï¼Œä¿®æ”¹é£æ ¼å‚æ•°ï¼Œä¸€æ¬¡ç”Ÿæˆå¤šç§é£æ ¼</li>
<li><strong>æ·»åŠ æ–‡æ¡ˆç”Ÿæˆ</strong>ï¼šæ–°å¢ã€Œæ¨¡å‹è°ƒç”¨ã€èŠ‚ç‚¹ï¼Œç”Ÿæˆé…æ–‡ï¼ˆæ¯”å¦‚ â€œæˆ‘å®¶æŸ´æŸ´å˜èº«å†°çƒå°å°†å•¦ï¼â€ï¼‰</li>
<li><strong>é€‚é…ä¸åŒåœºæ™¯</strong>ï¼šè°ƒæ•´å›¾åƒæ¯”ä¾‹ï¼ˆ4:3/16:9ï¼‰ï¼Œé€‚é…å£çº¸ / æµ·æŠ¥ / æœ‹å‹åœˆ</li>
<li><strong>å…¶ä»–èŒä¸šæ‹Ÿäºº</strong>ï¼šä¿®æ”¹æç¤ºè¯ï¼ŒæŠŠå†°çƒè¿åŠ¨å‘˜æ¢æˆå®‡èˆªå‘˜ / åŒ»ç”Ÿ / å®‡èˆªå‘˜ç­‰</li>
</ol>
<hr/>
<h3 data-id="heading-30">ğŸ“Œ æ ¸å¿ƒé…ç½®æ¸…å•ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰</h3>
<h4 data-id="heading-31">1. å›¾ç‰‡ç†è§£ç³»ç»Ÿæç¤ºè¯</h4>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸“ä¸šçš„å® ç‰©ç‰¹å¾åˆ†æä¸“å®¶ï¼Œè¯·è¯¦ç»†æè¿°è¿™å¼ å® ç‰©å›¾ç‰‡çš„æ ¸å¿ƒç‰¹å¾ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
<span class="hljs-bullet">1.</span> å® ç‰©ç§ç±»ï¼ˆçŒ«/ç‹—/å…¶ä»–ï¼‰ã€æ¯›è‰²/èŠ±çº¹
<span class="hljs-bullet">2.</span> é¢éƒ¨ç‰¹å¾ï¼ˆçœ¼ç›å½¢çŠ¶/é¢œè‰²ã€é¼»å­/å˜´å·´ç‰¹å¾ã€è€³æœµå½¢çŠ¶ï¼‰
<span class="hljs-bullet">3.</span> ç¥æ€/è¡¨æƒ…ï¼ˆå‘†èŒ/æ´»æ³¼/é«˜å†·ï¼‰
<span class="hljs-bullet">4.</span> ä½“å‹/å§¿æ€ï¼ˆèƒ–ç˜¦ã€ç«™ç«‹/è¶´å§ç­‰ï¼‰
æè¿°è¶Šè¯¦ç»†ï¼Œåç»­æ‹ŸäººåŒ–æ•ˆæœè¶Šç²¾å‡†ã€‚
</code></pre>
<h4 data-id="heading-32">2. ç‰¹å¾æå–ç³»ç»Ÿæç¤ºè¯</h4>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯èµ„æ·±åŠ¨ç‰©æ‹ŸäººåŒ–è®¾è®¡å¸ˆï¼Œç°åœ¨éœ€è¦ä»ä»¥ä¸‹å® ç‰©ç‰¹å¾æè¿°ä¸­ï¼Œæå–å‡ºæœ€é€‚åˆåšæ‹ŸäººåŒ–çš„æ ¸å¿ƒç‰¹å¾ï¼ˆä»…ä¿ç•™ç‹¬ç‰¹ã€é«˜è¾¨è¯†åº¦çš„å†…å®¹ï¼‰ï¼š
è¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> è¾“å‡ºJSONæ ¼å¼ï¼Œå­—æ®µåŒ…æ‹¬ï¼šunique<span class="hljs-emphasis">_featuresï¼ˆç‹¬ç‰¹ç‰¹å¾ï¼‰ã€expressionï¼ˆç¥æ€ï¼‰ã€color_</span>mappingï¼ˆé¢œè‰²æ˜ å°„å»ºè®®ï¼‰
<span class="hljs-bullet">2.</span> é¢œè‰²æ˜ å°„å»ºè®®è¦é€‚é…å†°çƒæœé…è‰²ï¼ˆæ¯”å¦‚â€œæ©˜ç™½ç›¸é—´çš„æ¯›è‰²â†’é˜Ÿæœä¸»æ©˜è‰²+ç™½è‰²é•¶è¾¹â€ï¼‰
<span class="hljs-bullet">3.</span> ç‰¹å¾æè¿°è¦ç®€æ´ã€å¯ç›´æ¥ç”¨äºå›¾åƒç”Ÿæˆæç¤ºè¯
</code></pre>
<h4 data-id="heading-33">3. ä»£ç èŠ‚ç‚¹å®Œæ•´ä»£ç </h4>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">random</span> = (start: number, end: number) =&gt; {
  const <span class="hljs-attr">p</span> = Math.random()<span class="hljs-comment">;</span>
  return Math.floor(start * (1 - p) + end * p)<span class="hljs-comment">;</span>
}

async function main({ params }: Args): Promise&lt;Output&gt; {
  if (<span class="hljs-attr">params.position</span> == null) params.position = random(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
  if (<span class="hljs-attr">params.shooting_hand</span> == null) params.shooting_hand = random(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">style</span> = params.style || <span class="hljs-string">'å†™å®'</span><span class="hljs-comment">;</span>
  const uniform_number:<span class="hljs-attr">string</span> = (params.uniform_number || <span class="hljs-number">10</span>).toString()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">uniform_color</span> = params.uniform_color || <span class="hljs-string">'çº¢'</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">position</span> = params.position  == <span class="hljs-number">0</span> ? <span class="hljs-string">'å®ˆé—¨å‘˜'</span>: (params.position == <span class="hljs-number">1</span> ? <span class="hljs-string">'å‰é”‹'</span>: <span class="hljs-string">'åå«'</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">shooting_hand</span> = params.shooting_hand == <span class="hljs-number">0</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span><span class="hljs-comment">;</span>
  

  // æ„å»ºè¾“å‡ºå¯¹è±¡
  const <span class="hljs-attr">ret</span> = {
      style,
      uniform_number,
      uniform_color,
      position,
      shooting_hand,
  }<span class="hljs-comment">;</span>

  return ret<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-34">4. å›¾åƒç”Ÿæˆæ­£å‘æç¤ºè¯</h4>
<p>text</p>
<pre><code class="hljs language-css" lang="css">é«˜è´¨é‡ã€é«˜æ¸…ã€ç»†èŠ‚ä¸°å¯Œçš„{{style}}é£æ ¼å›¾ç‰‡ï¼Œå°†å® ç‰©æ‹ŸäººåŒ–ä¸ºå„¿ç«¥å†°çƒè¿åŠ¨å‘˜ï¼Œæ ¸å¿ƒè¦æ±‚ï¼š
<span class="hljs-number">1</span>. è¿åŠ¨å‘˜å¤–è²Œç‰¹å¾é«˜åº¦è¿˜åŸå® ç‰©ï¼š{{description}}
<span class="hljs-number">2</span>. æ ¸å¿ƒç‹¬ç‰¹ç‰¹å¾å¼ºåŒ–ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.unique_features</span>}}
<span class="hljs-number">3</span>. ç¥æ€åŒ¹é…ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.expression</span>}}
<span class="hljs-number">4</span>. å†°çƒæœé…è‰²ï¼š{{<span class="hljs-selector-tag">details</span><span class="hljs-selector-class">.color_mapping</span>}}ï¼ˆä¸»è‰²{{uniform_color}}ï¼Œå·ç {{uniform_number}}å·ï¼‰
<span class="hljs-number">5</span>. è¿åŠ¨ç»†èŠ‚ï¼š{{<span class="hljs-attribute">position</span>}}ç«™ä½ï¼Œ{{shooting_hand}}æŒå†°çƒæ†ï¼Œå¦ä¸€åªæ‰‹è‡ªç„¶ä¸‹å‚
<span class="hljs-number">6</span>. åœºæ™¯ï¼šä¸“ä¸šå†°çƒèµ›åœºï¼Œå…‰çº¿æŸ”å’Œï¼Œæ„å›¾å±…ä¸­ï¼Œæ°›å›´æ„Ÿæ‹‰æ»¡
<span class="hljs-number">7</span>. é£æ ¼è¦æ±‚ï¼š{{style}}ï¼Œå¡é€šé£æ ¼è¦èŒè¶£ï¼Œå†™å®é£æ ¼è¦é€¼çœŸï¼Œèµ›åšæœ‹å…‹é£æ ¼è¦ç‚«é…·

ã€ç»†èŠ‚å¼ºåŒ–ã€‘
- å†°çƒå¤´ç›”è´´åˆå¤´éƒ¨ï¼Œå·ç æ¸…æ™°å¯è§
- å®ˆé—¨å‘˜éœ€æ·»åŠ ä¸“å±æŠ¤å…·+çƒé—¨èƒŒæ™¯ï¼Œå‰é”‹/åå«éœ€æ·»åŠ å†°çƒæ†+å†°çƒ
- æ•´ä½“ç”»é¢æ— è¿å’Œæ„Ÿï¼Œå® ç‰©ç‰¹å¾ä¸äººç±»èº«ä½“è‡ªç„¶èåˆ
</code></pre>
<h4 data-id="heading-35">5. å›¾åƒç”Ÿæˆè´Ÿå‘æç¤ºè¯</h4>
<p>text</p>
<pre><code class="hljs">ä½ç”»è´¨ï¼Œæ¨¡ç³Šï¼Œå¤±çœŸï¼Œå››è¶³ç«™ç«‹ï¼Œéå†°çƒèµ›åœºï¼ŒåŒæ‰‹å„æ¡ä¸€æ ¹çƒæ†ï¼Œæœªä½©æˆ´å¤´ç›”ï¼Œçƒè¡£å·ç æ¨¡ç³Šï¼Œé¢œè‰²åå·®ï¼Œç”»é¢å‡ºç°å…¶ä»–åŠ¨ç‰©ï¼Œäººç‰©é¢éƒ¨æ‰­æ›²ï¼Œæ¯”ä¾‹å¤±è°ƒï¼Œæ— å†°çƒå…ƒç´ ï¼ŒèƒŒæ™¯æ‚ä¹±ï¼Œæ–‡å­—æ°´å°
</code></pre>
<hr/>
<h3 data-id="heading-36">âœ¨ æ€»ç»“</h3>
<ol>
<li>æ•´ä¸ªå·¥ä½œæµæ ¸å¿ƒæ˜¯ã€Œç‰¹å¾æå– + å‚è€ƒå›¾ç”Ÿæˆã€ï¼Œæ—¢ä¿ç•™å® ç‰©ç‰¹å¾ï¼Œåˆå®ç°å†°çƒè¿åŠ¨å‘˜æ‹ŸäººåŒ–ï¼›</li>
<li>å‚æ•°æ ‡å‡†åŒ–å’Œæç¤ºè¯ä¼˜åŒ–æ˜¯ç”Ÿæˆæ•ˆæœçš„å…³é”®ï¼Œæœ¬æ–‡æä¾›çš„é…ç½®å¯ç›´æ¥å¤ç”¨ï¼›</li>
<li>0 ä»£ç åŸºç¡€ä¹Ÿèƒ½å¿«é€Ÿæ­å»ºï¼Œæ‰©å±•ç©æ³•ä¸°å¯Œï¼Œé™¤äº†å†°çƒè¿åŠ¨å‘˜ï¼Œè¿˜èƒ½é€‚é…å„ç§èŒä¸šæ‹ŸäººåŒ–ã€‚</li>
</ol>
<p>å¿«å»è¯•è¯•æŠŠä½ å®¶æ¯›å­©å­å˜æˆè¶…é…·çš„å†°çƒå°å°†å§ï¼å¦‚æœæœ‰æ­å»ºé—®é¢˜ï¼Œè¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šä¸€ä¸€è§£ç­”ï½</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¶…çº§ AI å¤§ç¥å¼ºæ¨çš„ 92 ä¸ªä¿¡æ¯æºï¼Œåœ¨ GitHub ä¸Šå¼€æºäº†ã€‚]]></title>    <link>https://juejin.cn/post/7605051886434320447</link>    <guid>https://juejin.cn/post/7605051886434320447</guid>    <pubDate>2026-02-11T01:54:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605051886434320447" data-draft-id="7605049329778917417" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¶…çº§ AI å¤§ç¥å¼ºæ¨çš„ 92 ä¸ªä¿¡æ¯æºï¼Œåœ¨ GitHub ä¸Šå¼€æºäº†ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-02-11T01:54:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¶…çº§ AI å¤§ç¥å¼ºæ¨çš„ 92 ä¸ªä¿¡æ¯æºï¼Œåœ¨ GitHub ä¸Šå¼€æºäº†ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:54:43.000Z" title="Wed Feb 11 2026 01:54:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Andrej Karpathy æ˜¯ AI é¢†åŸŸå…¬è®¤çš„å¤§ç¥ã€‚</p>
<p>ä»–æ˜¯Â <strong>OpenAI çš„åˆ›å§‹æˆå‘˜ï¼Œåé¢</strong>è¢«é©¬æ–¯å…‹æŒ–èµ°ï¼Œé¢†å¯¼äº†ç‰¹æ–¯æ‹‰è‡ªåŠ¨é©¾é©¶å›¢é˜Ÿã€‚ç¦»å¼€ç‰¹æ–¯æ‹‰åï¼Œä»–å›åˆ° OpenAI å‚ä¸äº†Â <strong>GPT-4</strong>Â çš„åç»­ç ”å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc01f21c712047769779bbbe4d5f2fbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=7R5sk4uxWiGYfHlqLyzYavDhFl8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç°åœ¨ï¼Œä»–æˆç«‹ä¸€å®¶ AI æ•™è‚²å…¬å¸Â <strong>Eureka Labs</strong>ï¼Œç»å¸¸åœ¨ X å’Œ YouTube ä¸Šæ´»è·ƒã€‚</p>
<p>å¦‚æœä½ æƒ³å­¦ AI å°¤å…¶æ˜¯æŠ€æœ¯åŸç†ï¼Œå»æœ Andrej Karpathy çš„ YouTube é¢‘é“ï¼Œé‚£æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å¥½çš„å­¦ä¹ è·¯å¾„ã€‚</p>
<p>å¦‚æœä½ ç»å¸¸çœ‹æˆ‘çš„å…¬ä¼—å·æ–‡ç« ï¼Œä¼šçœ‹åˆ°ä¹‹å‰æ¨èè¿‡çš„ä¸¤ä¸ªé¡¹ç›®ï¼š</p>
<p><strong>01</strong>å®ƒçš„å¼€æºé¡¹ç›®</p>
<p>â‘  nanoGPTï¼šæç®€ä¸»ä¹‰çš„é¢„è®­ç»ƒæ ‡æ†</p>
<p>nanoGPT æ˜¯ Karpathy ä¸ºäº†æ•™å­¦å’Œç ”ç©¶è€Œå¼€å‘çš„æœ€ç®€çº¦ã€æœ€æ¸…æ™°çš„ GPT è®­ç»ƒåº“ã€‚</p>
<p>å®ƒè¢«å…¬è®¤ä¸ºç†è§£å¤§è¯­è¨€æ¨¡å‹åŸç†çš„å…¥é—¨ç¥ä½œã€‚</p>
<p>å®ƒå‰¥ç¦»æ‰å·¥ä¸šçº§ä»£ç ä¸­ç¹æ‚çš„å·¥ç¨‹åŒ…è£…ï¼Œåªä¿ç•™ Transformer æ¶æ„æœ€æ ¸å¿ƒçš„é€»è¾‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f7e47e74f7d46f7b30356ed2e4aa6a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=C7qj7A2iIw3dcdDrVXZplRUe5IE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œå¼€å‘è€…å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ä¸€ä¸ªç±»ä¼¼ GPT-2 çš„æ¨¡å‹æ˜¯å¦‚ä½•ä»é›¶å¼€å§‹ï¼Œé€šè¿‡ PyTorch ç¼–å†™å¹¶åœ¨è‡ªå·±çš„æ•°æ®ä¸Šè¿›è¡Œé¢„è®­ç»ƒçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b3737db461c4f55a2c1a571917dbf78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=TlMaBoRNAKp0xfZUSXffCQNNLo4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒçš„æ ¸å¿ƒä»£ç æå…¶ç²¾ç‚¼ï¼Œä¸»è¦ç”±ä¸¤ä¸ªçº¦ 300 è¡Œçš„æ–‡ä»¶ç»„æˆï¼šmodel.py å®šä¹‰äº†å¤æ‚çš„ Transformer æ•°å­¦ç»“æ„ï¼Œè€Œ train.py åˆ™å®ç°äº†å®Œæ•´çš„è®­ç»ƒå¾ªç¯ã€‚</p>
<p>å°½ç®¡ä»£ç é‡æå°ï¼Œä½†å®ƒå®Œæ•´æ”¯æŒäº†ç°ä»£æ·±åº¦å­¦ä¹ çš„å…³é”®æŠ€æœ¯ï¼Œå¦‚åˆ†å¸ƒå¼è®­ç»ƒã€æ··åˆç²¾åº¦åŠ é€Ÿï¼ˆFlash Attentionï¼‰ä»¥åŠä¸ OpenAI å®˜æ–¹æƒé‡çš„å…¼å®¹ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/karpathy/nanoGPT</span>
</code></pre>
<p>â‘¡ nanochatï¼šä»ä¼šå†™å­—åˆ°èƒ½èŠå¤©çš„å…¨é“¾è·¯æŒ‡å—</p>
<p>è¿™ä¸ª 4 ä¸‡äºº Star çš„å¼€æºé¡¹ç›®ã€‚</p>
<p>å¯ä»¥è®©ä½ ç”¨ 100 ç¾å…ƒè®­ç»ƒä¸€ä¸ªå°å‹çš„ ChatGPTã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71f8bbdee4314b9f993c81b10599830f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=IhUVsRud61dZPoOIt4rJjdwyLhI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœè¯´ nanoGPT å…³æ³¨çš„æ˜¯é¢„è®­ç»ƒï¼Œè®©æ¨¡å‹å­¦ä¼šé¢„æµ‹ä¸‹ä¸€ä¸ªå­—ï¼Œé‚£ä¹ˆ nanochat åˆ™æ˜¯è¿›é˜¶ç‰ˆçš„å…¨æ ˆå¼å¤§æ¨¡å‹è®­ç»ƒæ¡†æ¶ã€‚</p>
<p>å®ƒä¸ä»…æ¶µç›–äº†é¢„è®­ç»ƒï¼Œè¿˜è¡¥é½äº†å°†åŸå§‹æ¨¡å‹è½¬åŒ–ä¸ºç±»ä¼¼ ChatGPT çš„å¯¹è¯æ¨¡å‹æ‰€éœ€çš„å®Œæ•´é“¾è·¯ï¼ŒåŒ…æ‹¬ï¼šåˆ†è¯å™¨è®­ç»ƒã€æœ‰ç›‘ç£å¾®è°ƒå’Œå¼ºåŒ–å­¦ä¹ ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®åªç”¨çº¦ 8000 è¡Œä»£ç å®ç°äº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç³»ç»Ÿï¼Œè¿˜è‡ªå¸¦äº†ä¸€ä¸ªç° Web èŠå¤©ç•Œé¢ï¼Œè®©ç”¨æˆ·åœ¨è®­ç»ƒç»“æŸåèƒ½ç«‹åˆ»ä¸è‡ªå·±çš„æ¨¡å‹å¯¹è¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1591a5afca7456994318f5c122799f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=QUJgjFZn4wtuQ5OLff14IQo4ktY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>02</strong>å¤§ç¥çš„ä¿¡æ¯æº****</p>
<p>æœ€è¿‘ Andrej Karpathy åœ¨è‡ªå·±çš„ X ä¸Šå‘äº†ä¸€ä¸ªå¸–å­ï¼Œå®ƒè®¤ä¸ºç›®å‰çš„ç¤¾äº¤åª’ä½“å……æ–¥ç€ä¸ºäº†è¯±å¯¼ç‚¹å‡»å’Œæƒ…ç»ªè€Œç”Ÿæˆçš„ AI åƒåœ¾å†…å®¹ã€‚</p>
<p>ä¸ºäº†è·å–é«˜è´¨é‡ã€é•¿ç¯‡ä¸”å…·æœ‰æ·±åº¦æ€è€ƒçš„å†…å®¹ï¼Œä»–å¼ºçƒˆå»ºè®®å›å½’ RSS è®¢é˜…ã€‚</p>
<p>å®ƒè§‰å¾— RSS æ˜¯å¯¹æŠ—ä¿¡æ¯èŒ§æˆ¿å’Œç®—æ³•æ“æ§çš„æœ€åå ¡å’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0b5995073df49909052ed95587a514d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=WtxWoHkaDz%2F1f9o93%2B5j1Y1IZ90%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">åœ°å€ï¼šhttps://gist.github.com/emschwartz/e6d2bf860ccc367fe37ff953ba6de66b<span class="hljs-comment">#file-hn-popular-blogs-2025-opml</span>
</code></pre>
<p>ä»–ä¸ªäººä¸»è¦ä½¿ç”¨ RSS é˜…è¯»å™¨ï¼Œå»è®¢é˜…é‚£äº›ç”±äººç±»äº²è‡ªæ’°å†™ã€å…·æœ‰é•¿æ•ˆä»·å€¼çš„é•¿ç¯‡æ–‡ç« ï¼Œè€Œä¸æ˜¯è¢«ç®—æ³•ä¼˜åŒ–çš„ç¢ç‰‡åŒ–çŸ­æ–‡ã€‚æ¯”å¦‚ä¸Šé¢è¿™ä¸ªè®¢é˜…æºï¼Œæ”¶é›†äº†Â 2025 å¹´ Hacker News ä¸­ 92 ä¸ªæœ€å—æ¬¢è¿çš„åšå®¢ï¼Œæ¶µç›–äº†æ·±åº¦æŠ€æœ¯æ¢è®¨ã€ç¼–ç¨‹è‰ºæœ¯ã€æ•°å­¦ä»¥åŠç§‘å­¦ç ”ç©¶ã€‚</p>
<p>Hacker News æ˜¯ YCÂ è¿è¥çš„æ–°é—»èšåˆç½‘ç«™ã€‚</p>
<p>å®ƒåœ¨ç§‘æŠ€ç•Œã€ç¨‹åºå‘˜åœˆå­å’Œåˆ›ä¸šåœˆå­ä¸­æ‹¥æœ‰æé«˜çš„åœ°ä½ï¼Œè¢«è®¸å¤šäººè§†ä¸ºè·å–é«˜è´¨é‡ç§‘æŠ€èµ„è®¯å’Œè¿›è¡Œæ·±åº¦è®¨è®ºçš„åœ£åœ°ã€‚</p>
<p><strong>03</strong>å¦‚ä½•åƒ Karpathy ä¸€æ ·è·å–ä¿¡æ¯ï¼Ÿ</p>
<p>â‘  ä¸‹è½½ opml æ–‡ä»¶é¦–å…ˆéœ€è¦æ‰“å¼€ä¸Šé¢çš„é‚£ä¸ªé“¾æ¥ï¼ŒæŠŠ opml æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/552e22ba9f864d45babb92cbfe72dafc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=X%2FGwDdnpylcFGvSxU9%2FD%2BvE%2Fnh8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â‘¡ ä¸‹è½½ä¸€ä¸ª RSS è®¢é˜…å™¨ä½ å¯ä»¥é€‰æ‹©æˆ‘ä¹‹å‰æ¨èè¿‡çš„å¼€æºçš„ RSS è®¢é˜…å·¥å…·ï¼šFolo</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe703c163e1401d9fc257d6e555c476~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=t8wJCTsxkB6NTvZGLR0mW5%2FE%2BOc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/RSSNext/Folo</span>
</code></pre>
<p>é™¤äº† Folo ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„ RSS é¢„è§ˆå·¥å…·ï¼Œæ¯”å¦‚Â NetNewsWire å•¥çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74a823baedcf4f94956d26f67593e6d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=IwH%2B1RiG5TUH4M7jBHPK%2FxyXZt8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/Ranchero-Software/NetNewsWire</span>
</code></pre>
<p>â‘¢ å¯¼å…¥ opml æ–‡ä»¶ä¸‹è½½ä¹‹åï¼Œåªéœ€è¦å¯¼å…¥åˆšåˆšä¸‹è½½çš„ opml æ–‡ä»¶å°±è¡Œäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f46b653b0f484adfb925ede1f5ac4c68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=nJTw9qdRaSpLJ4rkSYQYDsXAm94%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe2432af6b1c4cee988e23fc5dc3937e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=uMtRrH2epG2PFUtmvdllE5ZXapI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ä½ å¯¼å…¥æˆåŠŸï¼Œä½ å°±èƒ½çœ‹åˆ°è¿™ä¸ªå‡ ä¸ªçƒ­é—¨çš„åšå®¢åˆ—è¡¨äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b38983840abe4d98b4c95299b6a8db66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=NhEkTMq%2FobC7S0pTFyqtPppMv8Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>04</strong>è¿™ä¸ªä¿¡æ¯æºæœ‰å•¥è¿™ä»½ä¿¡æ¯æºæœ‰å‡ ä¸ªæˆ‘ä¹Ÿåœ¨å…³æ³¨ï¼Œéƒ½åœ¨é‡Œé¢äº†ã€‚æ¯”å¦‚ Simon Willisonï¼Œä»–æ˜¯Â Django æ¡†æ¶çš„è”åˆåˆ›å§‹äººï¼Œç°åœ¨ä¸“æ³¨äºç ”ç©¶å¦‚ä½•åŠ¡å®åœ°ä½¿ç”¨ AIã€‚</p>
<p>ä¸åŒäºç‚’ä½œæ¦‚å¿µçš„äººï¼Œä»–ä¼šæ‰‹å†™ä»£ç æµ‹è¯•å„ç§æ–°æ¨¡å‹ï¼Œåˆ†äº«è¯¦ç»†çš„ Prompt å·¥ç¨‹æŠ€å·§ã€API ä½¿ç”¨å¿ƒå¾—ä»¥åŠå®‰å…¨æ¼æ´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05e7a1fff5294cb996dd0852dae565bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=Yzoju%2Ff60GyqCTqefIehf1Ig6IA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜æœ‰ Neal Agarwalï¼Œä»–ä¸åšæ¯ç‡¥çš„æŠ€æœ¯åˆ†äº«ï¼Œè€Œæ˜¯åšå¥½ç©çš„ç½‘é¡µã€‚</p>
<p>ä»–çš„ä»£è¡¨ä½œã€ŠStimulation Clickerã€‹åˆºæ¿€ç‚¹å‡»å™¨æ˜¯å¯¹ç°ä»£äº’è”ç½‘å¤šå·´èƒºæˆç˜¾çš„è®½åˆºæ¸¸æˆã€‚</p>
<p>ä»–çš„ä½œå“ç»å¸¸éœ¸æ¦œ Hacker Newsï¼Œä»£ç ä¸ä»…å¯ä»¥ç”¨æ¥åˆ›é€ å·¥å…·ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆ›é€ å¿«ä¹å’Œè‰ºæœ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f334b0cc71b4fd997aec48a238165e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771379686&amp;x-signature=4495LnyYM9EOzAd9OIbTviWYpfY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶è¿˜æœ‰æŠ€æœ¯å…ƒè€ï¼šÂ æ¯”å¦‚Â <strong>Paul Graham</strong>Â ï¼ŒYC åˆ›å§‹äººï¼Œè™½ç„¶ä¸å¸¸æ›´ä½†æ¯ç¯‡å¿…ç«ã€<strong>John Gruber ç»å¸¸åš</strong>è‹¹æœç”Ÿæ€è¯„è®ºã€‚</p>
<p><strong>åº•å±‚æŠ€æœ¯å¤§ä½¬ï¼š</strong> Â æ¯”å¦‚Â <strong>Julia Evans</strong>Â ï¼Œç”¨æ¼«ç”»è§£é‡Š Linux å†…æ ¸/ç½‘ç»œåè®®ã€‚åšæ•°å­¦ä¸ç§‘å­¦çš„ï¼šÂ æ¯”å¦‚Â <strong>Terence Tao</strong>Â ï¼Œé™¶å“²è½©çš„åšå®¢ï¼Œæ•°å­¦ç•Œé¡¶æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LeetCode Hot100 åˆ·é¢˜æ—¥è®° ï¼ˆ91/100ï¼‰ã€‘62. ä¸åŒè·¯å¾„ â€”â€” åŠ¨æ€è§„åˆ’ã€ç»„åˆæ•°å­¦ã€æ•°å­¦ ğŸ§®]]></title>    <link>https://juejin.cn/post/7605042125298663458</link>    <guid>https://juejin.cn/post/7605042125298663458</guid>    <pubDate>2026-02-10T13:47:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605042125298663458" data-draft-id="7604863528944910351" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LeetCode Hot100 åˆ·é¢˜æ—¥è®° ï¼ˆ91/100ï¼‰ã€‘62. ä¸åŒè·¯å¾„ â€”â€” åŠ¨æ€è§„åˆ’ã€ç»„åˆæ•°å­¦ã€æ•°å­¦ ğŸ§®"/> <meta itemprop="keywords" content="ç®—æ³•,é¢è¯•,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-10T13:47:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jing_Rainbow"/> <meta itemprop="url" content="https://juejin.cn/user/1285809519198256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LeetCode Hot100 åˆ·é¢˜æ—¥è®° ï¼ˆ91/100ï¼‰ã€‘62. ä¸åŒè·¯å¾„ â€”â€” åŠ¨æ€è§„åˆ’ã€ç»„åˆæ•°å­¦ã€æ•°å­¦ ğŸ§®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1285809519198256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jing_Rainbow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T13:47:00.000Z" title="Tue Feb 10 2026 13:47:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“Œ é¢˜ç›®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Funique-paths%2Fdescription%2F%3FenvType%3Dstudy-plan-v2%26envId%3Dtop-100-liked" target="_blank" title="https://leetcode.cn/problems/unique-paths/description/?envType=study-plan-v2&amp;envId=top-100-liked" ref="nofollow noopener noreferrer">62. ä¸åŒè·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>ğŸ” éš¾åº¦ï¼šä¸­ç­‰ | ğŸ·ï¸ æ ‡ç­¾ï¼šåŠ¨æ€è§„åˆ’ã€ç»„åˆæ•°å­¦ã€æ•°å­¦</p>
<p>â±ï¸ ç›®æ ‡æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼ˆDPï¼‰ / O(min(m, n))ï¼ˆç»„åˆæ•°ï¼‰</p>
<p>ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(mn) â†’ O(min(m, n))ï¼ˆæ»šåŠ¨æ•°ç»„ä¼˜åŒ–ï¼‰ / O(1)ï¼ˆç»„åˆæ•°ï¼‰</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ§  é¢˜ç›®åˆ†æ</h2>
<p>é¢˜ç›®æè¿°äº†ä¸€ä¸ªç»å…¸çš„ç½‘æ ¼è·¯å¾„é—®é¢˜ï¼šä¸€ä¸ªæœºå™¨äººä» <code>m x n</code> ç½‘æ ¼çš„å·¦ä¸Šè§’å‡ºå‘ï¼Œæ¯æ¬¡åªèƒ½ <strong>å‘å³</strong> æˆ– <strong>å‘ä¸‹</strong> ç§»åŠ¨ä¸€æ­¥ï¼Œé—®æœ‰å¤šå°‘ç§ä¸åŒçš„è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†èƒŒåè•´å«äº†ä¸¤ç§éå¸¸é‡è¦çš„ç®—æ³•æ€æƒ³ï¼š</p>
<ul>
<li><strong>åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰</strong>ï¼šé€‚ç”¨äºå…·æœ‰æœ€ä¼˜å­ç»“æ„å’Œé‡å å­é—®é¢˜çš„é—®é¢˜ï¼›</li>
<li><strong>ç»„åˆæ•°å­¦ï¼ˆCombinatoricsï¼‰</strong>ï¼šå°†è·¯å¾„é—®é¢˜è½¬åŒ–ä¸ºæ’åˆ—ç»„åˆé—®é¢˜ï¼Œå®ç°æ›´ä¼˜æ—¶ç©ºå¤æ‚åº¦ã€‚</li>
</ul>
<p>åœ¨é¢è¯•ä¸­ï¼Œè¿™ç±»é—®é¢˜å¸¸è¢«ç”¨æ¥è€ƒå¯Ÿå€™é€‰äººå¯¹ <strong>çŠ¶æ€è½¬ç§»å»ºæ¨¡èƒ½åŠ›</strong> å’Œ <strong>æ•°å­¦æ€ç»´è½¬æ¢èƒ½åŠ›</strong> çš„æŒæ¡ç¨‹åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§© æ ¸å¿ƒç®—æ³•åŠä»£ç è®²è§£</h2>
<h3 data-id="heading-2">âœ… æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰</h3>
<h4 data-id="heading-3">ğŸ’¡ æ ¸å¿ƒæ€æƒ³</h4>
<p>è®¾ <code>dp[i][j]</code> è¡¨ç¤ºä»èµ·ç‚¹ <code>(0, 0)</code> åˆ°è¾¾ä½ç½® <code>(i, j)</code> çš„ä¸åŒè·¯å¾„æ•°ã€‚ç”±äºæœºå™¨äººåªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ï¼Œå› æ­¤ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][j] = dp[i-1][j] + dp[i][j-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">]</span></span></span></span></span></div>
<p>è¾¹ç•Œæ¡ä»¶ï¼š</p>
<ul>
<li>ç¬¬ä¸€è¡Œæ‰€æœ‰æ ¼å­åªèƒ½ç”±å·¦è¾¹åˆ°è¾¾ â†’ <code>dp[0][j] = 1</code></li>
<li>ç¬¬ä¸€åˆ—æ‰€æœ‰æ ¼å­åªèƒ½ç”±ä¸Šé¢åˆ°è¾¾ â†’ <code>dp[i][0] = 1</code></li>
</ul>
<h4 data-id="heading-4">ğŸ“ ä»£ç è¯¦è§£ï¼ˆå«è¡Œæ³¨é‡Šï¼‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">uniquePaths</span><span class="hljs-params">(<span class="hljs-type">int</span> m, <span class="hljs-type">int</span> n)</span> </span>{
        <span class="hljs-comment">// åˆ›å»ºäºŒç»´ DP è¡¨ï¼Œåˆå§‹åŒ–ä¸º 0</span>
        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">f</span>(m, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n));
        
        <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸€åˆ—ä¸º 1ï¼šåªèƒ½ä»ä¸Šæ–¹æ¥</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i) {
            f[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
        }
        
        <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸€è¡Œä¸º 1ï¼šåªèƒ½ä»å·¦æ–¹æ¥</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; ++j) {
            f[<span class="hljs-number">0</span>][j] = <span class="hljs-number">1</span>;
        }
        
        <span class="hljs-comment">// å¡«å……å…¶ä½™æ ¼å­ï¼šå½“å‰è·¯å¾„æ•° = ä¸Šæ–¹ + å·¦æ–¹</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; m; ++i) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; n; ++j) {
                f[i][j] = f[i - <span class="hljs-number">1</span>][j] + f[i][j - <span class="hljs-number">1</span>];
            }
        }
        
        <span class="hljs-comment">// è¿”å›å³ä¸‹è§’çš„è·¯å¾„æ€»æ•°</span>
        <span class="hljs-keyword">return</span> f[m - <span class="hljs-number">1</span>][n - <span class="hljs-number">1</span>];
    }
};
</code></pre>
<h4 data-id="heading-5">ğŸ” ç©ºé—´ä¼˜åŒ–ï¼šæ»šåŠ¨æ•°ç»„ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼ï¼‰</h4>
<p>æ³¨æ„åˆ° <code>dp[i][j]</code> åªä¾èµ–äºä¸Šä¸€è¡Œå’Œå½“å‰è¡Œçš„å·¦ä¾§å€¼ï¼Œå› æ­¤å¯ä»¥ç”¨ä¸€ç»´æ•°ç»„æ»šåŠ¨æ›´æ–°ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">f</span><span class="hljs-params">(n, <span class="hljs-number">1</span>)</span></span>; <span class="hljs-comment">// åˆå§‹åŒ–ä¸º 1ï¼Œå¯¹åº”ç¬¬ä¸€è¡Œ</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; m; ++i) {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; n; ++j) {
        f[j] += f[j - <span class="hljs-number">1</span>]; <span class="hljs-comment">// f[j] åŸä¸ºä¸Šä¸€è¡Œçš„å€¼ï¼Œf[j-1] æ˜¯å½“å‰è¡Œå·²æ›´æ–°çš„å·¦å€¼</span>
    }
}
<span class="hljs-keyword">return</span> f[n - <span class="hljs-number">1</span>];
</code></pre>
<blockquote>
<p>âœ… <strong>é¢è¯•æç¤º</strong>ï¼šå½“è¢«é—®åˆ°â€œèƒ½å¦ä¼˜åŒ–ç©ºé—´ï¼Ÿâ€æ—¶ï¼ŒåŠ¡å¿…æåˆ°æ»šåŠ¨æ•°ç»„æŠ€å·§ï¼Œå¹¶è¯´æ˜å…¶åŸç†â€”â€”<strong>çŠ¶æ€åªä¾èµ–å‰ä¸€è¡Œ/å‰ä¸€åˆ—</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">âœ… æ–¹æ³•äºŒï¼šç»„åˆæ•°å­¦ï¼ˆæ•°å­¦æ³•ï¼‰</h3>
<h4 data-id="heading-7">ğŸ’¡ æ ¸å¿ƒæ€æƒ³</h4>
<p>ä» <code>(0,0)</code> åˆ° <code>(m-1,n-1)</code>ï¼Œæ€»å…±éœ€è¦èµ°ï¼š</p>
<ul>
<li>å‘ä¸‹ï¼š<code>m - 1</code> æ­¥</li>
<li>å‘å³ï¼š<code>n - 1</code> æ­¥<br/>
å…± <code>m + n - 2</code> æ­¥ã€‚</li>
</ul>
<p>é—®é¢˜è½¬åŒ–ä¸ºï¼šåœ¨è¿™ <code>m+n-2</code> æ­¥ä¸­ï¼Œé€‰æ‹© <code>m-1</code> æ­¥ç”¨äºå‘ä¸‹ï¼ˆå…¶ä½™è‡ªåŠ¨ä¸ºå‘å³ï¼‰ï¼Œå³æ±‚ç»„åˆæ•°ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>C</mi><mrow><mi>m</mi><mo>+</mo><mi>n</mi><mo>âˆ’</mo><mn>2</mn></mrow><mrow><mi>m</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mi>n</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow><mrow><mo stretchy="false">(</mo><mi>m</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">C_{m+n-2}^{m-1} = \frac{(m+n-2)!}{(m-1)! \cdot (n-1)!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1789em;vertical-align:-0.3148em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.4436em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3148em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord">1</span><span class="mclose">)!</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord">1</span><span class="mclose">)!</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord">2</span><span class="mclose">)!</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p>ä½†ç›´æ¥è®¡ç®—é˜¶ä¹˜ä¼šæº¢å‡ºï¼Œå› æ­¤é‡‡ç”¨<strong>é€’æ¨å¼é¿å…å¤§æ•°</strong>ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mo>=</mo><munderover><mo>âˆ</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>m</mi><mo>âˆ’</mo><mn>1</mn></mrow></munderover><mfrac><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo>+</mo><mi>k</mi></mrow><mi>k</mi></mfrac></mrow><annotation encoding="application/x-tex">C = \prod_{k=1}^{m-1} \frac{n - 1 + k}{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.1032em;vertical-align:-1.3021em;"/><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"/><span><span class="mop op-symbol large-op">âˆ</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span/></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p>ç­‰ä»·äºå¾ªç¯ç´¯ä¹˜å¹¶æ•´é™¤ï¼Œä¿è¯ä¸­é—´ç»“æœå§‹ç»ˆä¸ºæ•´æ•°ï¼ˆå› ä¸ºç»„åˆæ•°å¿…ä¸ºæ•´æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-8">ğŸ“ ä»£ç è¯¦è§£ï¼ˆå«è¡Œæ³¨é‡Šï¼‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">uniquePaths</span><span class="hljs-params">(<span class="hljs-type">int</span> m, <span class="hljs-type">int</span> n)</span> </span>{
        <span class="hljs-type">long</span> <span class="hljs-type">long</span> ans = <span class="hljs-number">1</span>;
        <span class="hljs-comment">// ä¸ºäº†å‡å°‘å¾ªç¯æ¬¡æ•°ï¼Œç¡®ä¿ m &lt;= nï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-keyword">if</span> (m &gt; n) <span class="hljs-built_in">swap</span>(m, n);
        
        <span class="hljs-comment">// è®¡ç®— C(m+n-2, m-1) = âˆ_{y=1}^{m-1} (n - 1 + y) / y</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = <span class="hljs-number">1</span>; y &lt; m; ++y) {
            ans = ans * (n - <span class="hljs-number">1</span> + y) / y; <span class="hljs-comment">// å…ˆä¹˜åé™¤ï¼Œé¿å…æµ®ç‚¹è¯¯å·®</span>
        }
        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>)ans;
    }
};
</code></pre>
<blockquote>
<p>âœ… <strong>å…³é”®ç»†èŠ‚</strong>ï¼šå¿…é¡» <strong>å…ˆä¹˜åé™¤</strong>ï¼Œä¸”æŒ‰é¡ºåºè¿›è¡Œï¼Œæ‰èƒ½ä¿è¯æ¯ä¸€æ­¥éƒ½æ˜¯æ•´æ•°ï¼ˆæ•°å­¦æ€§è´¨ï¼šç»„åˆæ•°æ˜¯æ•´æ•°ï¼Œä¸”è¯¥é€’æ¨è¿‡ç¨‹ä¿æŒæ•´é™¤æ€§ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p>â— <strong>å¸¸è§é”™è¯¯</strong>ï¼šè‹¥å†™æˆ <code>ans *= (n-1+y)/y</code>ï¼Œç”±äºæ•´æ•°é™¤æ³•æˆªæ–­ï¼Œä¼šå¯¼è‡´é”™è¯¯ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ğŸ§­ è§£é¢˜æ€è·¯ï¼ˆåˆ†æ­¥æ‹†è§£ï¼‰</h2>
<ol>
<li><strong>ç†è§£ç§»åŠ¨è§„åˆ™</strong>ï¼šåªèƒ½å³æˆ–ä¸‹ â†’ è·¯å¾„æ— å›å¤´ï¼Œé—®é¢˜å…·æœ‰æ— åæ•ˆæ€§ã€‚</li>
<li><strong>è¯†åˆ«å­é—®é¢˜</strong>ï¼šåˆ°è¾¾ <code>(i,j)</code> çš„è·¯å¾„æ•° = åˆ°è¾¾ <code>(i-1,j)</code> + <code>(i,j-1)</code>ã€‚</li>
<li><strong>ç¡®å®šè¾¹ç•Œ</strong>ï¼šç¬¬ä¸€è¡Œ/åˆ—åªæœ‰ 1 æ¡è·¯å¾„ã€‚</li>
<li><strong>é€‰æ‹©æ–¹æ³•</strong>ï¼š
<ul>
<li>è‹¥éœ€å±•ç¤º DP æ€ç»´ â†’ ç”¨äºŒç»´ DPï¼›</li>
<li>è‹¥è¦æœ€ä¼˜æ€§èƒ½ â†’ ç”¨ç»„åˆæ•°å­¦ï¼›</li>
<li>è‹¥é¢è¯•å®˜è¿½é—®ç©ºé—´ä¼˜åŒ– â†’ æå‡ºæ»šåŠ¨æ•°ç»„ã€‚</li>
</ul>
</li>
<li><strong>éªŒè¯å°ä¾‹å­</strong>ï¼šå¦‚ <code>m=3, n=2</code> â†’ æ‰‹åŠ¨æšä¸¾ 3 æ¡è·¯å¾„ï¼ŒéªŒè¯é€»è¾‘æ­£ç¡®ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-10">ğŸ“Š ç®—æ³•åˆ†æ</h2>





























<table><thead><tr><th>æ–¹æ³•</th><th>æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>äºŒç»´ DP</td><td>O(mn)</td><td>O(mn)</td><td>æ•™å­¦ã€æ¸…æ™°è¡¨è¾¾çŠ¶æ€è½¬ç§»</td></tr><tr><td>æ»šåŠ¨æ•°ç»„ DP</td><td>O(mn)</td><td>O(min(m,n))</td><td>é¢è¯•ä¸­å±•ç¤ºç©ºé—´ä¼˜åŒ–èƒ½åŠ›</td></tr><tr><td>ç»„åˆæ•°å­¦</td><td>O(min(m,n))</td><td>O(1)</td><td>è¿½æ±‚æè‡´æ•ˆç‡ï¼Œæ•°å­¦åŠŸåº•å¼º</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>é¢è¯•å»ºè®®</strong>ï¼š</p>
<ul>
<li>å…ˆå†™ DP è§£æ³•ï¼ˆç¨³å¦¥ã€æ˜“ç†è§£ï¼‰ï¼›</li>
<li>å†æå‡ºç»„åˆæ•°å­¦ä¼˜åŒ–ï¼ˆå±•ç°æ·±åº¦ï¼‰ï¼›</li>
<li>æœ€åè®¨è®ºç©ºé—´ä¼˜åŒ–ï¼ˆä½“ç°å·¥ç¨‹æ€ç»´ï¼‰ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-11">ğŸ’» ä»£ç </h2>
<h3 data-id="heading-12">C++ å®Œæ•´ä»£ç </h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">uniquePaths</span><span class="hljs-params">(<span class="hljs-type">int</span> m, <span class="hljs-type">int</span> n)</span> </span>{
        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">f</span>(m, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n));
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i) {
            f[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; ++j) {
            f[<span class="hljs-number">0</span>][j] = <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; m; ++i) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; n; ++j) {
                f[i][j] = f[i - <span class="hljs-number">1</span>][j] + f[i][j - <span class="hljs-number">1</span>];
            }
        }
        <span class="hljs-keyword">return</span> f[m - <span class="hljs-number">1</span>][n - <span class="hljs-number">1</span>];
    }
};

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);
    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);
    cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);
    
    Solution sol;
    cout &lt;&lt; sol.<span class="hljs-built_in">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-string">"\n"</span>; <span class="hljs-comment">// è¾“å‡º: 28</span>
    cout &lt;&lt; sol.<span class="hljs-built_in">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-string">"\n"</span>; <span class="hljs-comment">// è¾“å‡º: 3</span>
    cout &lt;&lt; sol.<span class="hljs-built_in">uniquePaths</span>(<span class="hljs-number">7</span>, <span class="hljs-number">3</span>) &lt;&lt; <span class="hljs-string">"\n"</span>; <span class="hljs-comment">// è¾“å‡º: 28</span>
    cout &lt;&lt; sol.<span class="hljs-built_in">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>) &lt;&lt; <span class="hljs-string">"\n"</span>; <span class="hljs-comment">// è¾“å‡º: 6</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-13">JavaScript å®Œæ•´ä»£ç </h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">m</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">n</span>
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>}
 */</span>
<span class="hljs-keyword">var</span> uniquePaths = <span class="hljs-keyword">function</span>(<span class="hljs-params">m, n</span>) {
    <span class="hljs-comment">// ä½¿ç”¨ç»„åˆæ•°å­¦æ–¹æ³•ï¼ˆæ›´é«˜æ•ˆï¼‰</span>
    <span class="hljs-keyword">let</span> ans = <span class="hljs-number">1</span>;
    <span class="hljs-comment">// ç¡®ä¿å¾ªç¯æ¬¡æ•°æœ€å°‘</span>
    <span class="hljs-keyword">if</span> (m &gt; n) [m, n] = [n, m];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">1</span>; y &lt; m; y++) {
        ans = ans * (n - <span class="hljs-number">1</span> + y) / y;
    }
    <span class="hljs-keyword">return</span> ans;
};

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>)); <span class="hljs-comment">// 28</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// 3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uniquePaths</span>(<span class="hljs-number">7</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 28</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uniquePaths</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 6</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ JS æ³¨æ„ï¼šè™½ç„¶ JS æœ‰ Number ç²¾åº¦é™åˆ¶ï¼Œä½†é¢˜ç›®ä¿è¯ç­”æ¡ˆ â‰¤ 2Ã—10â¹ï¼Œåœ¨å®‰å…¨æ•´æ•°èŒƒå›´å†…ï¼ˆ&lt; 2âµÂ³ï¼‰ï¼Œå› æ­¤æ— éœ€ BigIntã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">ğŸŒŸ æœ¬æœŸå®Œç»“ï¼Œä¸‹æœŸè§ï¼ğŸ”¥</h2>
<p>ğŸ‘‰ ç‚¹èµæ”¶è—åŠ å…³æ³¨ï¼Œæ–°æ–‡æ›´æ–°ä¸è¿·è·¯ã€‚å…³æ³¨ä¸“æ ã€ç®—æ³•ã€‘LeetCode Hot100åˆ·é¢˜æ—¥è®°ï¼ŒæŒç»­ä¸ºä½ æ‹†è§£æ¯ä¸€é“çƒ­é¢˜çš„åº•å±‚é€»è¾‘ä¸é¢è¯•æŠ€å·§ï¼</p>
<p>ğŸ’¬ <strong>æ¬¢è¿ç•™è¨€äº¤æµä½ çš„è§£æ³•æˆ–ç–‘é—®ï¼ä¸€èµ·è¿›æ­¥ï¼Œå†²å‘ Offerï¼ğŸ’ª</strong></p>
<p>ğŸ“Œ <strong>è®°ä½</strong>ï¼šå½“ä½ åœ¨åˆ·é¢˜æ—¶ï¼Œä¸è¦åªçœ‹ç­”æ¡ˆï¼Œè¦åƒå†™è¿™ç¯‡æ–‡ç« ä¸€æ ·ï¼Œæ·±å…¥æ€è€ƒæ¯ä¸€æ­¥èƒŒåçš„åŸç†ã€ä¼˜åŒ–ç©ºé—´å’Œé¢è¯•ä»·å€¼ã€‚è¿™æ‰æ˜¯çœŸæ­£æå‡ç®—æ³•èƒ½åŠ›çš„æ–¹å¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ubuntu24.04 OpenVPN éƒ¨ç½²å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7605041556655915017</link>    <guid>https://juejin.cn/post/7605041556655915017</guid>    <pubDate>2026-02-10T12:19:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041556655915017" data-draft-id="7605042125298417698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ubuntu24.04 OpenVPN éƒ¨ç½²å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="è¿œç¨‹å·¥ä½œ"/> <meta itemprop="datePublished" content="2026-02-10T12:19:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸åšèœé¸Ÿçš„ç½‘å·¥"/> <meta itemprop="url" content="https://juejin.cn/user/3283597248432442"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ubuntu24.04 OpenVPN éƒ¨ç½²å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3283597248432442/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸åšèœé¸Ÿçš„ç½‘å·¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T12:19:02.000Z" title="Tue Feb 10 2026 12:19:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body ::selection{color:#fff;background-color:#ed7373}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:.6em;margin-top:1.5em;padding-bottom:4px;color:#ed7373}.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5,.markdown-body h6{font-size:14px}.markdown-body p{line-height:inherit;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border-top:1px solid #dfe1e6;margin:33px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:rgba(239,198,221,.2666666667);color:#7b164f;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==") 10px 10px no-repeat;background-size:40px;background-color:#fdf8f8}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#fdf8f8}.markdown-body a{position:relative;text-decoration:underline;text-decoration-color:#ffd4d4;color:#ed7373;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAD1lJREFUeF7tnV122zgShQHJG5gT9/OkV2J7JR3voI/U707eI5/eQeyVRFlJa56nc2YDFjkHEulWHP3g5xZYAK5eku6QYOFWfSwUAJLW8EcFqMBJBSy1oQJU4LQCBITRQQXOKEBAGB5UgIAwBqhAnALMIHG68axGFCAgjTia3YxTgIDE6cazGlGAgDTiaHYzTgECEqcbz2pEAQLSiKPZzTgFCEicbjyrEQUISCOOZjfjFCAgcbrxrEYUICCNOJrdjFOAgMTpxrMaUYCANOJodjNOAQISpxvPakQBAtKIo9nNOAUISJxuPKsRBQhII45GdfN/v//+/l9//rlBtae9HQKi3UOZ7ft7sfhgjfm3sfa9u3RvzHtrjPv77r8PfpvemB0o1v3Z95tuNvt29fKyqQkgApI5ADVebgeFtTfGmA8I+3pj1rbv17Ouey4dFgKCiIgC2/i+WDwYax0QbzMDtDcjLC67/PL58xraeIbGCEgGkTVd4vty+QWVKUL75WCZb7f3JWUVAhLq5UKPHzLGRyXmP822208lgEJAlESMlBlDfeGyhsafelAIiMawAdjkpmO38/kXa8wtoDnRJvq+v79+fHwSvUhk4wQkUjjNp/33jz9uZ33/VbONP9nW9x/fPT5+0mYzAdHmkUR7lNUaob1RN+QiIKEuVHz838vl1xKGVOck1DbTRUAUB7yvaSXVG5592sy22zsNs1wExNNjWg+rEI5XqWfb7a9TQ0JAtEa+h101wzF0f/JMQkA8AlHjIQ3AMco+KSQERGP0X7CpITj2Skw4BUxACgOkOThG/0wECQEpCJBm4Rh81Fl7l3tHMAEpBJCJ4Hjq+/7bvOt229THGSVny8vV1W6b/Kzrbnprb088VAVXN/fMFgGBuxDfYE443L4oB0TM9OqwxcVtjJR7xiTzUIuA4OMZ2mI2OICBN+wgfpACJWcWISDQcMY2lgMOt7XjerW6w1q+b03sqUUgzJf6TUAuKTTRv+eAI8f0qdSwK1cWISATAXDusjngyDkj5PrTzedu+z2uNsmURQiIMkBqg2OUVwKSHFmEgCgCpFY4xCDJkEUIiBJAaodjlBlZuEtOMIz2EhAFgLQCxxtIIG9YkR5mEZCJAWkNjldIlsu/EEW79AsfCMiEgLQKx8EaCSKLPL1bre6l3EhApJS90G7LcKCziOQwi4BMAAjh+GGlPTmLSK7pEJDMgBCOfwRHvb9Lsg4hIBkBIRw/i/0dUawLrocQkEyAEI7jQoPeNi9WqBOQDIAQjtMig16uTUAyxLHIJQjHeVkRdYjkijoziAgW+0YJx2VxEYAYYzbvVqtfL18t/AgCEq6Z1xmEw0um3U2km8/dqnrS791qJRLLIo0m9bSCkwmHvxNBgDCD+Es+7ZGEI0x/DrHC9Cr6aMIR7j7ELBaL9HDds59BOOIkB33wh9O8cfLnOYtwxOsM+egPV9LjHSB9JuFIU/j7ctmntSD7cmvOYiV6B3IHPGOD5E7VxK4nnw4q0A03Kya7QqYBwpGmK6j+MFJrIK53zCCRPgZtsjt59Zozh+s0aP3DNSW2BkJAIuFATE2eu3TtcLi+w24wggU6AYkABDVuPnXpFuAAZg8jrReHWAGQIB177LLSzg7oqtih4Dcsig6vmEECw0CyKG8BDic3VEPh4RUBCQAENePSaubY1R2LxYOxNvklDa8aEpCACBY+FLKgdcTGZjLHYvHBWuu+PoX6iQ+vmEE8XQW/8w3XJRyeDjhymOTi4OHlWKRf8JFUYU444uGQXvsgIAG+kcgesXAM6y83/fAhGtv36242+5b708i+8kmtF+XKHhxiTZA9YuDwCLSn2Xb7KebLtL7BHnqch82hTY7HZ6k9xotxiHXGTejsEQXHcvnVGnPrEU2b2XZ7pwESQTjEFwbf6kxAzgGCeOvf2H7ElGQMoDmHH8ekk4RD8snBU2FAQE4oAy7Og594S7p+BIweGeriIZJw5CzMWaRfdDV0UStqzByTPX7oVt9/nHXdc64hV41wsEjPMLyKqTucWZAtGZkyiTAc2esOZpBMs1cpY2bIW89dP4UhkYZj6pqKNcgRWFBb2lO+fAQDxBiTYse5e4k0HMaY4NrNY/QcdAgBOSJX8vjf3biNWV+vVndB3jg4GPZA0b5N+BSwNByp+sXqzmleD+UQgMTWHqN5AgEIg0TAtrdemTxzjAYxgxzLIMul23X6wYOlU4dEzVy9bQw5zNq1DahHpOGYuuZgBvGI+uQZJEAgOjOHWsjB+t7DbK9DUgIQkVnPGZmadb0ECDyIGeR4Bkl6mRnS0WhIYsf2LcLhQoOACACCfk8T+Dnu4BetJa3qe9yxkTcUj8sFHUJAjgPiPugSO6yB1B9vzUJCEppFBLPHprP2Xut2fWaQE/eSxOJYBJDR1ETbXnscUosk12THdVYPBwE5AUhiQIgCAswk3tO+As/ji2oUNIa6cDCHWOBp3tDhS4wzUZD4ZhEkIDn0idH01DkEBAyIaw5dpB9zHqgu8FqQgw3rEncXIAPft60qAXF32JRt3qnBJ7X36a1TUwPX926O2Pbiey3fwM11XBWADGsFv5n9o6m72SfnkJ2Iff98/fj4FCJo6mpxrmnLVJCdJj4wp+pRKhxVFOmeBXXwSw2S7s6glXQfqJPs3N0/+nufG0jCdbyGcT59neKYYjNIxKfPvGdtnCM8wTvpM587M8LhgOGPVwDHTAz4wofQQaqNIgGJgGOvX8CdPXVYEXKtFOcm2+k5zHI2hmx7yTXMTNHO59ziAEne9uAJCeChqaCM5eOsY8cA7PSqQw6vPWSt13rvjV1PnbXPmlfHQ7QuChBEMIQUjAnj7uCMFeI09GxW7N1+54+uuxkmRf4z77p1yuxhigZS5xYDCAKOUUTfdQrELFGOoVZqvRQLiFRQamq3CECQcPhObY5OSs4iATNFsYGRamMNxXSsdpfOUw8IGg4nSMgdE5JFhCEhIJfCPP7fVQOCmKE5Ik3wRrnUABxtkLpTJ9vnOXERH2blnqkWECE4ot42gsoiodnLN6wAmwm91kJ87anpOJWAABa/Tvso8m6ZfJf+xyLo9G/ytPduCqr/+O7x8VNNgY3qizpAROEwJnh4NQodskh20TnAgITUaEB7Lva9sANUAZI6XXlB++Q7N3KohdqKgrApZNKisPhONlcNIMJwBM1cnVMVEZDIWgShGwrW5GhU2IAKQBBOPqct+g4JqUcAwxpI/ZHpAS+Fse9l0qSARG869Ora/iA0HK7NmJ2tP5kMAASUzaLrsgA3FHvopICUljkOvZwKCQJcRCYL2ZtWbJQnGD4ZICXDMeo93MHdO3yD36Hlux/slG8hs1ec4r2IziSAgIYGJzuHuDtfVG44IGr6FzG8An1gNKdWvppqOi47ILA73wkVp3B4ICTJY37gDSbZFk3BLGFLVkBQsy6nhJgCjtEWn5oEMd6HagjIZBJBqanNbIBAHXtEwSnhODRn2EP2MPy/sTaBPWWHrN20aKYJiLe2ZANEcguJVkenvp/rrbOQcEz13XHNMByzLQsgktlDKxzoQADWHXvTOLzyclEWQMB3vteOtQKHxNZ/bi/x4kP+AzpS2YNw+Dn46FHMHt7iiWcQiexBOLz9e+xATu0GyCcKiMSaB+EI8O6xQ5k9ggQUBQSxV+iwN4QjyLfMHslyCX7EE157NHLnkyjIxziRemkEIA7VNiGWQcDTkk28VEAUjgI/XqOBGjFAgMV5E0WlJBxcFIxHTQQQ5PCqhbpDGo7ZdntX2ztz40M+7EwRQICzV9VnD2E4RJ6oDAuxso8WAQRVf9S+2isNB4vydDhlAFku+3TT4t9hBbi2eBPScBhjmpjYkHaUXkAqntaVhgPx3Il04JXSPhwQVIFe6/CKcJSCxt5OrYBUWZwTjrLgEAEEMYNV4xCBcJQHhwggoECoqsAEaXIywmq8oWjBCT7EgkzxVlSgEw4toR5nBwGJ083rLMLhJZPqg/CALJdfjDHubYPxvwoyCOGId7+mM+GAgAKj6BoEpAFrDgWkqASk5KKTcCiIaqAJcEBanuYlHMDIVNIUHJBWV9IJh5KIBpsBB8TZB/gssSlpJyrhAEelouakAPkr5psZb3QpolAnHIqiWcAUEUBQj9tq37BIOAQiUlmTMoAsFh+stW49JO2neD2EcKS5tpSzRQBBzGSNAmrMIoSjlPBOt1MEkKFQR9Qh6t5CTjjSg66kFiQBSd9yMiqpZKhFOEoKbYytYoAgh1muq1MPtQgHJuBKa0UMEOgwa6/qZqr3OxGO0sIaZ68sIIvFg7H2I87c/JBAnm85I0DJ+86AflXblCggAlkkayZBreec8j7hUMvFq2HygOCzyM54ya0obj/Zdj7/Yo25lXIh4ZBSFtuuOCBCWWQPiTHr+XZ7j3zvrHS9Mdp9vVrdYV3J1iQUyAOIUBY5EORptt1+SgFlAMN933z8trmE3juoCYeItCKNZgFEMoscquKCz/b9etZ1zz6wDFDcmP1QShQMZg6R+BVvNBsgw7qIWzwUD8RBtU1vzMb93Q5/DkH63u5tyGXH63CQmUM8nuEXyAbILovID7XgAiEa5LAKoeI0bWQFpEVICMc0gY26anZActUjKIFS2iEcKerpOHcSQIbn1r/mrgNySk44cqotd61JAHHdqRkSwiEXsLlbngwQ19EJZrbE9SUc4hJnvcCkgFQHiZLnVrJGUOUXmxyQUV/pjYHSfmzhc9XSGmpsXw0gBU8Bbzpr73/5/Hmt0cG0KU0BVYAcQOLeDp91pTtGRtYbMaqVdY46QMa6xPb9g+R282Q3sd5IlrCEBlQCMgqndJariDc+lhB8JdioGpDXAn7/IjrxregXHJa8pb6EgKCNPypQBCATg0IwGqamKEB+GHp13U1v7a3Q1vWnvu+/XT8+PjUcG+z6/lGJ8n+uVhmK+nHmK2QGzD0zsnZAzLtu7fOgVfmKsQe+ClQByLHOur1eL1dXO1Bs170C089mm6uXl92DVITBN0zaPa5aQNp1KXuOVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFTg//8JNVC78ovQAAAAAElFTkSuQmCC");background-size:100%}.markdown-body a:active,.markdown-body a:hover{opacity:.66}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #ed7373;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#ed7373}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#fdf2f2}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #ed7373;background-color:#fdf2f2}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ed7373}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;width:16px;height:16px;border-radius:2px;background-color:transparent;box-shadow:inset 0 0 0 1px rgba(28,31,35,.3490196078);vertical-align:middle;margin:0;transform:translateY(-2px)}.markdown-body input[type=checkbox]:checked{background-color:#ed7373;background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjQxMSA3LjMwOGExLjUgMS41IDAgMDEuMjggMi4xMDNsLTYuNSA4LjVhMS41IDEuNSAwIDAxLTIuMzc1LjAxbC0zLjUtNC41YTEuNSAxLjUgMCAxMTIuMzY4LTEuODQybDIuMzA2IDIuOTY1IDUuMzE4LTYuOTU1YTEuNSAxLjUgMCAwMTIuMTAzLS4yOHoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=");box-shadow:inset 0 0 0 1px #ed7373}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">OpenVPN éƒ¨ç½²å®Œæ•´æŒ‡å—</h2>
<p>OpenVPNéƒ¨ç½²ç¯å¢ƒä¸º <code>Ubuntu24.04</code>  æœåŠ¡ç«¯éœ€å…·å¤‡å…¬ç½‘IPåœ°å€ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">root@ubtuntu:~<span class="hljs-comment"># cat /etc/os-release </span>
<span class="hljs-attr">PRETTY_NAME</span>=<span class="hljs-string">"Ubuntu 24.04.2 LTS"</span>
<span class="hljs-attr">NAME</span>=<span class="hljs-string">"Ubuntu"</span>
<span class="hljs-attr">VERSION_ID</span>=<span class="hljs-string">"24.04"</span>
<span class="hljs-attr">VERSION</span>=<span class="hljs-string">"24.04.2 LTS (Noble Numbat)"</span>
</code></pre>
<h3 data-id="heading-1">ä¸€ã€ç¯å¢ƒå‡†å¤‡å’Œè½¯ä»¶å®‰è£…</h3>
<h4 data-id="heading-2">1. æ›´æ–°ç³»ç»ŸåŒ…åˆ—è¡¨</h4>
<pre><code class="hljs language-bash" lang="bash">sudo apt update
</code></pre>
<h4 data-id="heading-3">2. å®‰è£… OpenVPN å’Œ Easy-RSA</h4>
<pre><code class="hljs language-bash" lang="bash">sudo apt install -y openvpn easy-rsa
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  libccid libeac3 libpcsclite1 libpkcs11-helper1t64 opensc opensc-pkcs11 pcscd
Suggested packages:
  pcmciautils openvpn-dco-dkms openvpn-systemd-resolved
The following NEW packages will be installed:
  easy-rsa libccid libeac3 libpcsclite1 libpkcs11-helper1t64 opensc opensc-pkcs11 openvpn pcscd
<span class="hljs-number">0</span> upgraded, <span class="hljs-number">9</span> newly installed, <span class="hljs-number">0</span> to remove and <span class="hljs-number">103</span> not upgraded.
Need to <span class="hljs-keyword">get</span> <span class="hljs-number">2</span>,<span class="hljs-number">325</span> kB of archives.
After <span class="hljs-keyword">this</span> operation, <span class="hljs-number">7</span>,068 kB of additional disk space will be used.
...
</code></pre>
<hr/>
<h3 data-id="heading-4">äºŒã€è¯ä¹¦é¢å‘æœºæ„ (CA) è®¾ç½®</h3>
<h4 data-id="heading-5">1. åˆ›å»º Easy-RSA å·¥ä½œç›®å½•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/easy-rsa
<span class="hljs-built_in">ln</span> -s /usr/share/easy-rsa/* ~/easy-rsa/
<span class="hljs-built_in">cd</span> ~/easy-rsa
<span class="hljs-built_in">chmod</span> 700 ~/easy-rsa
<span class="hljs-built_in">ls</span>
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python">easyrsa  openssl-easyrsa.cnf  <span class="hljs-built_in">vars</span>.example  x509-types
</code></pre>
<h4 data-id="heading-6">2. åˆå§‹åŒ– PKIï¼ˆå…¬é’¥åŸºç¡€è®¾æ–½ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa init-pki
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-section">Notice
------</span>
'init-pki' complete; you may now create a CA or requests.

Your newly created PKI dir is:
<span class="hljs-bullet">*</span> /root/easy-rsa/pki

Using Easy-RSA configuration:
<span class="hljs-bullet">*</span> undefined
</code></pre>
<h4 data-id="heading-7">3. åˆ›å»ºæ ¹è¯ä¹¦é¢å‘æœºæ„ (CA)</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa build-ca
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">No</span> Easy<span class="hljs-operator">-</span>RSA <span class="hljs-string">'vars'</span> configuration file <span class="hljs-keyword">exists</span><span class="hljs-operator">!</span>

<span class="hljs-keyword">Using</span> SSL:
<span class="hljs-operator">*</span> openssl OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span> (Library: OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span>)

Enter <span class="hljs-keyword">New</span> CA Key Passphrase: 
[è¾“å…¥å¯†ç ï¼Œå¦‚ä¸è®¾å¯†ç æŒ‰å›è½¦]
Confirm <span class="hljs-keyword">New</span> CA Key Passphrase: 
[é‡å¤å¯†ç ]

..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
....<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..<span class="hljs-operator">+</span>..............................<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>................<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>................<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
<span class="hljs-comment">-----</span>
You <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> be asked <span class="hljs-keyword">to</span> enter information that will be incorporated
<span class="hljs-keyword">into</span> your certificate request.
What you <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> enter <span class="hljs-keyword">is</span> what <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span> a Distinguished Name <span class="hljs-keyword">or</span> a DN.
There <span class="hljs-keyword">are</span> quite a few fields but you can leave <span class="hljs-keyword">some</span> blank
<span class="hljs-keyword">For</span> <span class="hljs-keyword">some</span> fields there will be a <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span>,
If you enter <span class="hljs-string">'.'</span>, the field will be <span class="hljs-keyword">left</span> blank.
<span class="hljs-comment">-----</span>
Common Name (eg: your <span class="hljs-keyword">user</span>, host, <span class="hljs-keyword">or</span> server name) [Easy<span class="hljs-operator">-</span>RSA CA]:OPENVPNCA
[è¾“å…¥ CA åç§°ï¼Œå¦‚ OPENVPNCA]

Notice
<span class="hljs-comment">------</span>
CA creation complete. Your <span class="hljs-keyword">new</span> CA certificate <span class="hljs-keyword">is</span> <span class="hljs-keyword">at</span>:
<span class="hljs-operator">*</span> <span class="hljs-operator">/</span>root<span class="hljs-operator">/</span>easy<span class="hljs-operator">-</span>rsa<span class="hljs-operator">/</span>pki<span class="hljs-operator">/</span>ca.crt
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€æœåŠ¡å™¨è¯ä¹¦å’Œå¯†é’¥ç”Ÿæˆ</h3>
<h4 data-id="heading-9">1. ç”ŸæˆæœåŠ¡å™¨è¯ä¹¦è¯·æ±‚</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa gen-req server nopass
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">No</span> Easy<span class="hljs-operator">-</span>RSA <span class="hljs-string">'vars'</span> configuration file <span class="hljs-keyword">exists</span><span class="hljs-operator">!</span>

<span class="hljs-keyword">Using</span> SSL:
<span class="hljs-operator">*</span> openssl OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span> (Library: OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span>)
.......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.................<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.............<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.............<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>.......<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>....<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>....................<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>..............................<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
<span class="hljs-comment">-----</span>
You <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> be asked <span class="hljs-keyword">to</span> enter information that will be incorporated
<span class="hljs-keyword">into</span> your certificate request.
What you <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> enter <span class="hljs-keyword">is</span> what <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span> a Distinguished Name <span class="hljs-keyword">or</span> a DN.
There <span class="hljs-keyword">are</span> quite a few fields but you can leave <span class="hljs-keyword">some</span> blank
<span class="hljs-keyword">For</span> <span class="hljs-keyword">some</span> fields there will be a <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span>,
If you enter <span class="hljs-string">'.'</span>, the field will be <span class="hljs-keyword">left</span> blank.
<span class="hljs-comment">-----</span>
Common Name (eg: your <span class="hljs-keyword">user</span>, host, <span class="hljs-keyword">or</span> server name) [server]:OPENVPNSERVER
[è¾“å…¥æœåŠ¡å™¨åç§°ï¼Œå¦‚ OPENVPNSERVER]

Notice
<span class="hljs-comment">------</span>
Private<span class="hljs-operator">-</span>Key <span class="hljs-keyword">and</span> Public<span class="hljs-operator">-</span>Certificate<span class="hljs-operator">-</span>Request files created.
Your files <span class="hljs-keyword">are</span>:
<span class="hljs-operator">*</span> req: <span class="hljs-operator">/</span>root<span class="hljs-operator">/</span>easy<span class="hljs-operator">-</span>rsa<span class="hljs-operator">/</span>pki<span class="hljs-operator">/</span>reqs<span class="hljs-operator">/</span>server.req
<span class="hljs-operator">*</span> key: <span class="hljs-operator">/</span>root<span class="hljs-operator">/</span>easy<span class="hljs-operator">-</span>rsa<span class="hljs-operator">/</span>pki<span class="hljs-operator">/</span>private<span class="hljs-operator">/</span>server.key
</code></pre>
<h4 data-id="heading-10">2. ç­¾å‘æœåŠ¡å™¨è¯ä¹¦</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa sign-req server server
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet">No Easy-RSA <span class="hljs-comment">'vars' configuration file exists!</span>

<span class="hljs-keyword">Using</span> SSL:
* openssl OpenSSL <span class="hljs-number">3.0</span>.<span class="hljs-number">13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span> (Library: OpenSSL <span class="hljs-number">3.0</span>.<span class="hljs-number">13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span>)
You are about <span class="hljs-keyword">to</span> sign the following certificate:
Please check over the details shown below <span class="hljs-keyword">for</span> accuracy. Note that this request
has <span class="hljs-built_in">not</span> been cryptographically verified. Please be sure it came <span class="hljs-keyword">from</span> a trusted
source <span class="hljs-built_in">or</span> that you have verified the request checksum <span class="hljs-keyword">with</span> the sender.

Request subject, <span class="hljs-keyword">to</span> be signed <span class="hljs-keyword">as</span> a server certificate 
<span class="hljs-keyword">for</span> <span class="hljs-comment">'825' days:</span>

subject=
    commonName                = OPENVPNSERVER

Type the word <span class="hljs-comment">'yes' to continue, or any other input to abort.</span>
  Confirm request details: yes
[è¾“å…¥ yes ç¡®è®¤]

<span class="hljs-keyword">Using</span> configuration <span class="hljs-keyword">from</span> /root/easy-rsa/pki/openssl-easyrsa.cnf
Enter pass phrase <span class="hljs-keyword">for</span> /root/easy-rsa/pki/<span class="hljs-keyword">private</span>/ca.<span class="hljs-keyword">key</span>:
[è¾“å…¥ä¹‹å‰è®¾ç½®çš„ CA å¯†ç ï¼Œå¦‚æœªè®¾å¯†ç ç›´æ¥å›è½¦]
Check that the request matches the signature
Signature ok
The Subject<span class="hljs-comment">'s Distinguished Name is as follows</span>
commonName            :ASN.<span class="hljs-number">1</span> <span class="hljs-number">12</span>:<span class="hljs-comment">'OPENVPNSERVER'</span>
Certificate <span class="hljs-built_in">is</span> <span class="hljs-keyword">to</span> be certified <span class="hljs-keyword">until</span> May <span class="hljs-number">14</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">07</span> <span class="hljs-number">2028</span> GMT (<span class="hljs-number">825</span> days)

Write out database <span class="hljs-keyword">with</span> <span class="hljs-number">1</span> <span class="hljs-built_in">new</span> entries
Database updated

Notice
------
Certificate created at:
* /root/easy-rsa/pki/issued/server.crt
</code></pre>
<h4 data-id="heading-11">3. ç”Ÿæˆ Diffie-Hellman å‚æ•°</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa gen-dh
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">No Easy-RSA 'vars' configuration file exists!

Using SSL:
<span class="hljs-bullet">*</span> openssl OpenSSL 3.0.13 30 Jan 2024 (Library: OpenSSL 3.0.13 30 Jan 2024)
Generating DH parameters, 2048 bit long safe prime
....................+.........................................................+..................................................................................+.......................................................................+...................................................................................................................................................................................................................+.........................+.................................................................................................................................+.................................................................................................................................................................+...................................................................................................................................................................+...........................................................................+.............................................................................................................................................+...............................................................................................................................................................................................................................................+......................................................................................................................................................+.........................................................................................+....................................................................................+............................................................................................................................+..............................................................+....................................................................+........................................................................+...................+..........................................+...............................................................................................................................................................................................................+.............................+.......................................................................................................................................................................................................................................................................................................................................................+.........................+....................................+...................................................................................................+...................................................................................................+............+....................................+.................................................................................................................................................................+..................................................................................................................................................................................................+.....................................................................................................................................................+..................................................................................................................................................................................................................................................................................................................................................................................+........................................................................................+.................................................................................................................................................................................+............................+..........+...................................................+....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................+.................................................................+...................................................+...........+........................................................................................................................................................+...................................................................................................+...........................................................+...........+.........................................................................................................+.........................................+..............................................................................................................................+................................................................................................................................................................................................+.................................................................................................................................................................................................+...........................................................................................................................................................................................+......+...................................+........................................................................................................................................................................+...........................................................................................................................................+..............................................................................................................................................................................................................+.....................................................................................................................................+......................................+.............................+.......................................................................................................................................................................................................+................................................................................................................................+..........+.................................................................................................................................................................................................................................................................................................+............................................................................................................................................................................................................................................................+................................................+.....................................................................................................................................+..............................................................................................................................+...........+...+.......................................................................................................................................................+................................+.......+...+..............................................................................................................................................................................+................................................................................+..............................+...+...............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................+..................................................................................................................................................................................................+.......................................................+..........................................................+.......................................................................................................................................................................+............................................................................................................................................................................................................................................................+..........................................................................+.................................................................+......+.........................................................................................................................................................................................................+.................................+......................................................................+............................+....................................................................................+..........................+...................................................................................................................................................................................+.....................+...........................................................................................+.....................................................................................................................................................................................................................................+..............................+.................+......................................................................................................................................................................................................................................+...................................................................+.................................................................................................................................................................+....................+.....................................................................................................................................+........................................................................................................+...............................................................................................................................................................................................................................................................................................................................................+..................................................................................................................................................................................................+....................................................................................................................+...+.................................................................................+........+..............................................................................................................+.........................+..............................................................................................................................................................................................+...........................................................................................................................................................................................................................+............................+...........+............................................................................................................................................................................................+........................................................................+..............................+...........................+.............................................................................................+...............................................................................................................................................................................................................................................................................................................................................................................+...............................................+........................................................................................................................................................................................................................................+...............................................................................................................................................................................................+.............................................................................................................................................................................................+....+.............................................................................................+........................................................................................................................................................................................................+............+............................................................................................................................................................................+..............................................................................+..................................................+...........................................................................................................................................................................................................................+.....................................+....................................................................................................+..................................................................................................................................................................................................................................................................+.+.........................................................................................................................................................+.................+...................................................................+..........................................................................................................................................................................................................................................+................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................+....................................................................................................................................................................+....................+.........+.........................................................................................................................................+.............+.................................................................................................................................................................................................................................................................+..................................................................................................+.........+..................................................................................................+.............+........+.......................................................................................................................................................................................................+...............+............................+............................................................................................+.........................................+......++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>++<span class="hljs-emphasis">*++*</span>
DH parameters appear to be ok.

<span class="hljs-section">Notice
------</span>

DH parameters of size 2048 created at:
<span class="hljs-bullet">*</span> /root/easy-rsa/pki/dh.pem
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€TLS è®¤è¯å¯†é’¥ç”Ÿæˆ</h3>
<h4 data-id="heading-13">1. ç”Ÿæˆ TLS-Auth å¯†é’¥</h4>
<pre><code class="hljs language-bash" lang="bash">openvpn --genkey --secret ta.key
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-number">2026</span>-<span class="hljs-number">02</span>-<span class="hljs-number">09</span> <span class="hljs-number">12</span>:<span class="hljs-number">55</span>:<span class="hljs-number">25</span> DEPRECATED <span class="hljs-keyword">OPTION</span>: The <span class="hljs-keyword">option</span> --secret <span class="hljs-built_in">is</span> deprecated.
<span class="hljs-number">2026</span>-<span class="hljs-number">02</span>-<span class="hljs-number">09</span> <span class="hljs-number">12</span>:<span class="hljs-number">55</span>:<span class="hljs-number">25</span> WARNING: <span class="hljs-keyword">Using</span> --genkey --secret filename <span class="hljs-built_in">is</span> DEPRECATED.  Use --genkey secret filename instead.

# æç¤ºæ–°ç‰ˆä½¿ç”¨openvpn --genkey secret ta.<span class="hljs-keyword">key</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -la ta.key
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">-rw------- 1 root root 636 Feb  9 12:55 ta.key</span>
</code></pre>
<hr/>
<h3 data-id="heading-14">äº”ã€å®¢æˆ·ç«¯è¯ä¹¦ç”Ÿæˆå‘½ä»¤</h3>
<h4 data-id="heading-15">1. ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦è¯·æ±‚</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa gen-req client1 nopass
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">No</span> Easy<span class="hljs-operator">-</span>RSA <span class="hljs-string">'vars'</span> configuration file <span class="hljs-keyword">exists</span><span class="hljs-operator">!</span>

<span class="hljs-keyword">Using</span> SSL:
<span class="hljs-operator">*</span> openssl OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span> (Library: OpenSSL <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span>)
..<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.....................<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>...........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.................<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>.............<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>..........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.............<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...........<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>................<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>..................<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>..............<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>................<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.......<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>......<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>..<span class="hljs-operator">+</span>...................<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">*</span>.......<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>.............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>............<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>.<span class="hljs-operator">+</span>...<span class="hljs-operator">+</span>........<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span>...............<span class="hljs-operator">+</span>.........<span class="hljs-operator">+</span>..<span class="hljs-operator">+</span>....<span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span>
<span class="hljs-comment">-----</span>
You <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> be asked <span class="hljs-keyword">to</span> enter information that will be incorporated
<span class="hljs-keyword">into</span> your certificate request.
What you <span class="hljs-keyword">are</span> about <span class="hljs-keyword">to</span> enter <span class="hljs-keyword">is</span> what <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span> a Distinguished Name <span class="hljs-keyword">or</span> a DN.
There <span class="hljs-keyword">are</span> quite a few fields but you can leave <span class="hljs-keyword">some</span> blank
<span class="hljs-keyword">For</span> <span class="hljs-keyword">some</span> fields there will be a <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span>,
If you enter <span class="hljs-string">'.'</span>, the field will be <span class="hljs-keyword">left</span> blank.
<span class="hljs-comment">-----</span>
Common Name (eg: your <span class="hljs-keyword">user</span>, host, <span class="hljs-keyword">or</span> server name) [client1]:
[è¾“å…¥å®¢æˆ·ç«¯åç§°ï¼Œå¦‚ client1 æˆ–ç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤å€¼]

Notice
<span class="hljs-comment">------</span>
Private<span class="hljs-operator">-</span>Key <span class="hljs-keyword">and</span> Public<span class="hljs-operator">-</span>Certificate<span class="hljs-operator">-</span>Request files created.
Your files <span class="hljs-keyword">are</span>:
<span class="hljs-operator">*</span> req: <span class="hljs-operator">/</span>root<span class="hljs-operator">/</span>easy<span class="hljs-operator">-</span>rsa<span class="hljs-operator">/</span>pki<span class="hljs-operator">/</span>reqs<span class="hljs-operator">/</span>client1.req
<span class="hljs-operator">*</span> key: <span class="hljs-operator">/</span>root<span class="hljs-operator">/</span>easy<span class="hljs-operator">-</span>rsa<span class="hljs-operator">/</span>pki<span class="hljs-operator">/</span>private<span class="hljs-operator">/</span>client1.key
</code></pre>
<h4 data-id="heading-16">2. ç­¾å‘å®¢æˆ·ç«¯è¯ä¹¦</h4>
<pre><code class="hljs language-bash" lang="bash">./easyrsa sign-req client client1
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet">No Easy-RSA <span class="hljs-comment">'vars' configuration file exists!</span>

<span class="hljs-keyword">Using</span> SSL:
* openssl OpenSSL <span class="hljs-number">3.0</span>.<span class="hljs-number">13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span> (Library: OpenSSL <span class="hljs-number">3.0</span>.<span class="hljs-number">13</span> <span class="hljs-number">30</span> Jan <span class="hljs-number">2024</span>)
You are about <span class="hljs-keyword">to</span> sign the following certificate:
Please check over the details shown below <span class="hljs-keyword">for</span> accuracy. Note that this request
has <span class="hljs-built_in">not</span> been cryptographically verified. Please be sure it came <span class="hljs-keyword">from</span> a trusted
source <span class="hljs-built_in">or</span> that you have verified the request checksum <span class="hljs-keyword">with</span> the sender.

Request subject, <span class="hljs-keyword">to</span> be signed <span class="hljs-keyword">as</span> a client certificate 
<span class="hljs-keyword">for</span> <span class="hljs-comment">'825' days:</span>

subject=
    commonName                = client1

Type the word <span class="hljs-comment">'yes' to continue, or any other input to abort.</span>
  Confirm request details: yes
[è¾“å…¥ yes ç¡®è®¤]

<span class="hljs-keyword">Using</span> configuration <span class="hljs-keyword">from</span> /root/easy-rsa/pki/openssl-easyrsa.cnf
Enter pass phrase <span class="hljs-keyword">for</span> /root/easy-rsa/pki/<span class="hljs-keyword">private</span>/ca.<span class="hljs-keyword">key</span>:
[è¾“å…¥ CA å¯†ç ï¼Œå¦‚æœªè®¾å¯†ç ç›´æ¥å›è½¦]
Check that the request matches the signature
Signature ok
The Subject<span class="hljs-comment">'s Distinguished Name is as follows</span>
commonName            :ASN.<span class="hljs-number">1</span> <span class="hljs-number">12</span>:<span class="hljs-comment">'client1'</span>
Certificate <span class="hljs-built_in">is</span> <span class="hljs-keyword">to</span> be certified <span class="hljs-keyword">until</span> May <span class="hljs-number">14</span> <span class="hljs-number">12</span>:<span class="hljs-number">58</span>:<span class="hljs-number">47</span> <span class="hljs-number">2028</span> GMT (<span class="hljs-number">825</span> days)

Write out database <span class="hljs-keyword">with</span> <span class="hljs-number">1</span> <span class="hljs-built_in">new</span> entries
Database updated

Notice
------
Certificate created at:
* /root/easy-rsa/pki/issued/client1.crt
</code></pre>
<hr/>
<h3 data-id="heading-17">å…­ã€æ–‡ä»¶å¤åˆ¶å’Œæƒé™è®¾ç½®</h3>
<h4 data-id="heading-18">1. å¤åˆ¶æœåŠ¡å™¨æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/ca.crt /etc/openvpn/server/
sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/issued/server.crt /etc/openvpn/server/
sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/private/server.key /etc/openvpn/server/
sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/dh.pem /etc/openvpn/server/
sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/ta.key /etc/openvpn/server/
</code></pre>
<h4 data-id="heading-19">2. è®¾ç½®æ–‡ä»¶æƒé™</h4>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> 644 /etc/openvpn/server/*.crt
sudo <span class="hljs-built_in">chmod</span> 644 /etc/openvpn/server/*.pem
sudo <span class="hljs-built_in">chmod</span> 600 /etc/openvpn/server/*.key
sudo <span class="hljs-built_in">chmod</span> 644 /etc/openvpn/server/ta.key
</code></pre>
<h4 data-id="heading-20">3. OPENVPNæœåŠ¡é…ç½®</h4>
<pre><code class="hljs language-lua" lang="lua">port <span class="hljs-number">1194</span>
proto tcp
dev tun
ca /etc/openvpn/server/ca.crt
cert /etc/openvpn/server/server.crt
key /etc/openvpn/server/server.key
dh /etc/openvpn/server/dh.pem
auth SHA256
tls-auth /etc/openvpn/server/ta.key <span class="hljs-number">0</span>
server <span class="hljs-number">10.0</span><span class="hljs-number">.9</span><span class="hljs-number">.0</span> <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span>
ifconfig-pool-persist /var/<span class="hljs-built_in">log</span>/openvpn/ipp.txt
push <span class="hljs-string">"redirect-gateway def1 bypass-dhcp"</span>
push <span class="hljs-string">"dhcp-option DNS 114.114.114.114"</span>
push <span class="hljs-string">"dhcp-option DNS 8.8.8.8"</span>
keepalive <span class="hljs-number">10</span> <span class="hljs-number">120</span>
cipher AES<span class="hljs-number">-256</span>-CBC
user nobody
group nogroup
persist-key
persist-tun
<span class="hljs-built_in">status</span> /var/<span class="hljs-built_in">log</span>/openvpn/openvpn-<span class="hljs-built_in">status</span>.<span class="hljs-built_in">log</span>
<span class="hljs-built_in">log</span>-append /var/<span class="hljs-built_in">log</span>/openvpn/openvpn.<span class="hljs-built_in">log</span>
verb <span class="hljs-number">3</span>
explicit-<span class="hljs-built_in">exit</span>-notify <span class="hljs-number">1</span>
</code></pre>
<h4 data-id="heading-21">4. éªŒè¯æ–‡ä»¶å¤åˆ¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -la /etc/openvpn/server/
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">total 36
drwxr-xr-x 2 root root 4096 Feb  9 13:06 .
drwxr-xr-x 4 root root 4096 Feb  9 13:18 ..
<span class="hljs-deletion">-rw-r--r-- 1 root root 1196 Feb  9 12:59 ca.crt</span>
<span class="hljs-deletion">-rw-r--r-- 1 root root  424 Feb  9 13:04 dh.pem</span>
<span class="hljs-deletion">-rw-r--r-- 1 root root  496 Feb  9 13:06 server.conf</span>
<span class="hljs-deletion">-rw-r--r-- 1 root root 4631 Feb  9 13:03 server.crt</span>
<span class="hljs-deletion">-rw------- 1 root root 1704 Feb  9 13:03 server.key</span>
<span class="hljs-deletion">-rw-r--r-- 1 root root  636 Feb  9 13:04 ta.key</span>
</code></pre>
<h4 data-id="heading-22">5. é“¾æ¥server.conf</h4>
<pre><code class="hljs language-Shell" lang="Shell"><span class="hljs-meta prompt_"># </span><span class="bash">OPENVPNé…ç½®é»˜è®¤å¯åŠ¨/etc/openvpn/*.conf</span>
ln -sf /etc/openvpn/server/server.conf /etc/openvpn/server.conf
ls
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbscript" lang="vbscript">client  <span class="hljs-built_in">server</span>  <span class="hljs-built_in">server</span>.conf  update-resolv-conf
</code></pre>
<hr/>
<h3 data-id="heading-23">ä¸ƒã€ç½‘ç»œé…ç½®å’Œé˜²ç«å¢™</h3>
<h4 data-id="heading-24">1. å¯ç”¨ IP è½¬å‘</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"net.ipv4.ip_forward = 1"</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/sysctl.conf
sudo sysctl -p
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">net.ipv4.ip_forward</span> = <span class="hljs-number">1</span>
</code></pre>
<h4 data-id="heading-25">2. é…ç½®SNAT</h4>
<pre><code class="hljs language-shell" lang="shell">vi /etc/ufw/before.rules
</code></pre>
<p><strong>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># NAT table rules</span>
*nat
:POSTROUTING ACCEPT <span class="hljs-section">[0:0]</span>
-A POSTROUTING -s 10.0.9.0/24 -o ens18 -j MASQUERADE
COMMIT

...å…¶ä»–å†…å®¹...
</code></pre>
<p><strong>éªŒè¯é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell">root@ubtuntu:~# iptables -t nat -L -n
Chain PREROUTING (policy ACCEPT)
target     prot opt source               destination         

Chain INPUT (policy ACCEPT)
target     prot opt source               destination         

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination         

Chain POSTROUTING (policy ACCEPT)
target     prot opt source               destination         
MASQUERADE  0    --  10.0.9.0/24          0.0.0.0/0
</code></pre>
<h4 data-id="heading-26">3. é…ç½®é˜²ç«å¢™</h4>
<pre><code class="hljs language-shell" lang="shell">vi /etc/default/ufw
</code></pre>
<p><strong>ä¿®æ”¹ä»¥ä¸‹å†…å®¹</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç¦ç”¨IPV6ï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-attr">IPV6</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">DEFAULT_OUTPUT_POLICY</span>=<span class="hljs-string">"ACCEPT"</span>

<span class="hljs-comment"># è½¬å‘è®¾ç½®ä¸ºå…è®¸</span>
<span class="hljs-attr">DEFAULT_FORWARD_POLICY</span>=<span class="hljs-string">"ACCEPT"</span>
</code></pre>
<h4 data-id="heading-27">4. æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€</h4>
<pre><code class="hljs language-shell" lang="shell">ufw status verbose 
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">Status:</span> active
<span class="hljs-symbol">Logging:</span> <span class="hljs-keyword">on</span> (low)
<span class="hljs-symbol">Default:</span> deny (incoming), allow (outgoing), allow (routed)
<span class="hljs-built_in">New</span> profiles: <span class="hljs-keyword">skip</span>

<span class="hljs-keyword">To</span>                         Action      <span class="hljs-keyword">From</span>
--                         ------      ----
<span class="hljs-number">1194</span>/udp                   ALLOW <span class="hljs-keyword">IN</span>    Anywhere                  
<span class="hljs-number">22</span>/tcp                     ALLOW <span class="hljs-keyword">IN</span>    Anywhere                  
<span class="hljs-number">1194</span>/tcp                   ALLOW <span class="hljs-keyword">IN</span>    Anywhere                  

</code></pre>
<hr/>
<h3 data-id="heading-28">å…«ã€æœåŠ¡å™¨å¯åŠ¨å’ŒéªŒè¯</h3>
<h4 data-id="heading-29">1. å¯åŠ¨ OpenVPN æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl start openvpn@server
sudo systemctl <span class="hljs-built_in">enable</span> openvpn@server
</code></pre>
<h4 data-id="heading-30">2. æ£€æŸ¥æœåŠ¡çŠ¶æ€</h4>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl status openvpn@server
</code></pre>
<p><strong>æ­£å¸¸è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">â— openvpn@server.service - OpenVPN connection to server
     Loaded: loaded (/usr/lib/systemd/system/openvpn@.service; enabled; preset: enabled)
     Active: active (running) since Mon 2026-02-09 13:29:57 UTC; 13min ago
       Docs: man:openvpn(8)
             https://community.openvpn.net/openvpn/wiki/Openvpn24ManPage
             https://community.openvpn.net/openvpn/wiki/HOWTO
   Main PID: 4213 (openvpn)
     Status: <span class="hljs-string">"Initialization Sequence Completed"</span>
      Tasks: 1 (<span class="hljs-built_in">limit</span>: 10)
     Memory: 1.6M (peak: 1.9M)
        CPU: 83ms
     CGroup: /system.slice/system-openvpn.slice/openvpn@server.service
             â””â”€4213 /usr/sbin/openvpn --daemon ovpn-server --status /run/openvpn/server.status 10 --<span class="hljs-built_in">cd</span> /etc/openvpn --script-security 2 --config /etc/openvpn/server.conf --writepid /run/openvpn/server.pid

Feb 09 13:29:57 ubtuntu systemd[1]: Started openvpn@server.service - OpenVPN connection to server.
</code></pre>
<h4 data-id="heading-31">3. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">tail</span> -f /var/log/openvpn/openvpn.log
</code></pre>
<p><strong>æ­£å¸¸è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">2026-02-09 13:29:57 </span><span class="hljs-string">TCPv4_SERVER</span> <span class="hljs-string">link</span> <span class="hljs-string">local</span> <span class="hljs-string">(bound):</span> [<span class="hljs-string">AF_INET</span>][<span class="hljs-string">undef</span>]<span class="hljs-string">:1194</span>
<span class="hljs-attr">2026-02-09 13:29:57 TCPv4_SERVER link remote:</span> [<span class="hljs-string">AF_UNSPEC</span>]
<span class="hljs-number">2026-02-09 13:29:57 </span><span class="hljs-string">UID</span> <span class="hljs-string">set</span> <span class="hljs-string">to</span> <span class="hljs-string">nobody</span>
<span class="hljs-number">2026-02-09 13:29:57 </span><span class="hljs-string">GID</span> <span class="hljs-string">set</span> <span class="hljs-string">to</span> <span class="hljs-string">nogroup</span>
<span class="hljs-attr">2026-02-09 13:29:57 Capabilities retained:</span> <span class="hljs-string">CAP_NET_ADMIN</span>
<span class="hljs-attr">2026-02-09 13:29:57 MULTI:</span> <span class="hljs-string">multi_init</span> <span class="hljs-string">called,</span> <span class="hljs-string">r=256</span> <span class="hljs-string">v=256</span>
<span class="hljs-attr">2026-02-09 13:29:57 IFCONFIG POOL IPv4:</span> <span class="hljs-string">base=10.0.9.4</span> <span class="hljs-string">size=62</span>
<span class="hljs-number">2026-02-09 13:29:57 </span><span class="hljs-string">IFCONFIG</span> <span class="hljs-string">POOL</span> <span class="hljs-string">LIST</span>
<span class="hljs-attr">2026-02-09 13:29:57 MULTI:</span> <span class="hljs-string">TCP</span> <span class="hljs-string">INIT</span> <span class="hljs-string">maxclients=1024</span> <span class="hljs-string">maxevents=1029</span>
<span class="hljs-number">2026-02-09 13:29:57 </span><span class="hljs-string">Initialization</span> <span class="hljs-string">Sequence</span> <span class="hljs-string">Completed</span>
</code></pre>
<h4 data-id="heading-32">4. æ£€æŸ¥ç«¯å£ç›‘å¬</h4>
<pre><code class="hljs language-bash" lang="bash">ss -tulpn | grep :1194
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">tcp   LISTEN 0      4096              0.0.0.0:1194         0.0.0.0:*    <span class="hljs-built_in">users</span>:(("openvpn",pid=<span class="hljs-number">4213</span>,fd=<span class="hljs-number">6</span>))
</code></pre>
<hr/>
<h3 data-id="heading-33">ä¹ã€å®¢æˆ·ç«¯é…ç½®ç”Ÿæˆ</h3>
<h4 data-id="heading-34">1. ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦ä¸ç§é’¥</h4>
<pre><code class="hljs language-shell" lang="shell">cd ~/easy-rsa
<span class="hljs-meta prompt_">
# </span><span class="bash">ä¸ºå®¢æˆ·ç«¯1ç”Ÿæˆè¯ä¹¦</span>
./easyrsa gen-req Client1 nopass
./easyrsa sign-req client Client1
<span class="hljs-meta prompt_">
# </span><span class="bash">ä¸ºå®¢æˆ·ç«¯2ç”Ÿæˆè¯ä¹¦ï¼ˆå¯é€‰ï¼‰</span>
./easyrsa gen-req client2 nopass
./easyrsa sign-req client client2
</code></pre>
<h4 data-id="heading-35">2. ç”Ÿæˆå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; /etc/openvpn/client/client1.ovpn &lt;&lt; <span class="hljs-string">EOF
client
dev tun
proto tcp
remote YOUR_SERVER_IP 1194
resolv-retry infinite
nobind
persist-key
persist-tun
remote-cert-tls server
cipher AES-256-CBC
auth SHA256
key-direction 1
data-ciphers AES-256-GCM:AES-128-GCM:AES-256-CBC
data-ciphers-fallback AES-256-CBC
tun-mtu 1320
verb 3
&lt;ca&gt;
$(cat /etc/openvpn/server/ca.crt)
&lt;/ca&gt;
&lt;cert&gt;
$(cat ~/easy-rsa/pki/issued/client1.crt)
&lt;/cert&gt;
&lt;key&gt;
$(cat ~/easy-rsa/pki/private/client1.key)
&lt;/key&gt;
&lt;tls-auth&gt;
$(cat /etc/openvpn/server/ta.key)
&lt;/tls-auth&gt;
EOF</span>
</code></pre>
<p>åç»­å°† <code>/etc/openvpn/client/client1.ovpn</code> å¯¼å…¥å®¢æˆ·ç«¯é“¾æ¥å³å¯</p>
<h3 data-id="heading-36">åã€Windowså®¢æˆ·ç«¯ä¸‹è½½</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenvpn.net%2Fcommunity%2F" target="_blank" title="https://openvpn.net/community/" ref="nofollow noopener noreferrer">OpenVPNå¼€æºç¤¾åŒºç‰ˆä¸‹è½½é“¾æ¥</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b55490e798db496db4cdd63198408645~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5YGa6I-c6bif55qE572R5bel:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771330750&amp;x-signature=biw%2FL%2BWBC7ku7EdcO%2Fle9TSNMlg%3D" alt="Pasted image 20260210200200.png" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåå¯¼å…¥é…ç½®é“¾æ¥å³å¯</p>
<hr/>
<h3 data-id="heading-37">åä¸€ã€æ•…éšœæ’é™¤å’ŒéªŒè¯</h3>
<h4 data-id="heading-38">1. è¯ä¹¦éªŒè¯å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># éªŒè¯ CA è¯ä¹¦</span>
openssl x509 -<span class="hljs-keyword">in</span> /etc/openvpn/server/ca.crt -text -noout | <span class="hljs-built_in">head</span> -20
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Certificate:</span>
    <span class="hljs-attr">Data:</span>
        <span class="hljs-attr">Version:</span> <span class="hljs-number">3</span> <span class="hljs-string">(0x2)</span>
        <span class="hljs-attr">Serial Number:</span>
            <span class="hljs-number">39</span><span class="hljs-string">:19:00:d2:d5:33:ce:fd:71:36:f4:53:61:49:b0:5b:fc:df:43:68</span>
        <span class="hljs-attr">Signature Algorithm:</span> <span class="hljs-string">sha256WithRSAEncryption</span>
        <span class="hljs-attr">Issuer:</span> <span class="hljs-string">CN</span> <span class="hljs-string">=</span> <span class="hljs-string">OPENVPNCA</span>
        <span class="hljs-string">Validity</span>
            <span class="hljs-attr">Not Before:</span> <span class="hljs-string">Feb</span>  <span class="hljs-number">9</span> <span class="hljs-number">12</span><span class="hljs-string">:51:46</span> <span class="hljs-number">2026 </span><span class="hljs-string">GMT</span>
            <span class="hljs-attr">Not After :</span> <span class="hljs-string">Feb</span>  <span class="hljs-number">7</span> <span class="hljs-number">12</span><span class="hljs-string">:51:46</span> <span class="hljs-number">2036 </span><span class="hljs-string">GMT</span>
        <span class="hljs-attr">Subject:</span> <span class="hljs-string">CN</span> <span class="hljs-string">=</span> <span class="hljs-string">OPENVPNCA</span>
        <span class="hljs-attr">Subject Public Key Info:</span>
            <span class="hljs-attr">Public Key Algorithm:</span> <span class="hljs-string">rsaEncryption</span>
                <span class="hljs-attr">Public-Key:</span> <span class="hljs-string">(2048</span> <span class="hljs-string">bit)</span>
                <span class="hljs-attr">Modulus:</span>
                    <span class="hljs-attr">00:af:02:1c:2f:e4:a1:4a:af:fb:4c:71:db:b2:e6:</span>
					<span class="hljs-string">...</span>

</code></pre>
<h4 data-id="heading-39">2. å¸¸è§é”™è¯¯æ—¥å¿—åˆ†æ</h4>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">tail</span> -20 /var/log/openvpn/openvpn.log
</code></pre>
<p><strong>å¸¸è§é”™è¯¯è¾“å‡ºåŠè§£å†³æ–¹æ³•ï¼š</strong></p>
<h5 data-id="heading-40">é”™è¯¯ 1ï¼šæ–‡ä»¶æƒé™é—®é¢˜</h5>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-number">2026</span>-<span class="hljs-number">02</span>-<span class="hljs-number">09</span> <span class="hljs-number">13</span>:<span class="hljs-number">27</span>:<span class="hljs-number">30</span> Cannot pre-load keyfile (ta.<span class="hljs-keyword">key</span>)
<span class="hljs-number">2026</span>-<span class="hljs-number">02</span>-<span class="hljs-number">09</span> <span class="hljs-number">13</span>:<span class="hljs-number">27</span>:<span class="hljs-number">30</span> Exiting due <span class="hljs-keyword">to</span> fatal <span class="hljs-keyword">error</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> 644 /etc/openvpn/server/ta.key
sudo <span class="hljs-built_in">chown</span> nobody:nogroup /etc/openvpn/server/ta.key
</code></pre>
<h5 data-id="heading-41">é”™è¯¯ 2ï¼šè¯ä¹¦è·¯å¾„é—®é¢˜</h5>
<pre><code class="hljs language-vbnet" lang="vbnet">Options <span class="hljs-keyword">error</span>: --dh fails <span class="hljs-keyword">with</span> <span class="hljs-comment">'dh.pem': No such file or directory (errno=2)</span>
Options <span class="hljs-keyword">error</span>: --ca fails <span class="hljs-keyword">with</span> <span class="hljs-comment">'ca.crt': No such file or directory (errno=2)</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/dh.pem /etc/openvpn/server/
sudo <span class="hljs-built_in">cp</span> ~/easy-rsa/pki/ca.crt /etc/openvpn/server/
</code></pre>
<h5 data-id="heading-42">é”™è¯¯ 3ï¼šç«¯å£å ç”¨</h5>
<pre><code class="hljs language-ini" lang="ini">2026-02-09 13:29:57 TCPv4_SERVER link local (bound): <span class="hljs-section">[AF_INET]</span><span class="hljs-section">[undef]</span>:1194: Address already in use (<span class="hljs-attr">errno</span>=<span class="hljs-number">98</span>)
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl stop openvpn@server
sudo killall openvpn
sudo systemctl start openvpn@server
</code></pre>
<h4 data-id="heading-43">3. å®Œæ•´éªŒè¯æµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
systemctl status openvpn@server

<span class="hljs-comment"># 2. æ£€æŸ¥æ—¥å¿—</span>
<span class="hljs-built_in">tail</span> -f /var/log/openvpn/openvpn.log

<span class="hljs-comment"># 3. æ£€æŸ¥ç«¯å£ç›‘å¬</span>
ss -tulpn | grep :1194

<span class="hljs-comment"># 4. æ£€æŸ¥é˜²ç«å¢™</span>
sudo ufw status

<span class="hljs-comment"># 5. æµ‹è¯•è¿æ¥ï¼ˆä»å¦ä¸€å°æœºå™¨ï¼‰</span>
nc -zv YOUR_SERVER_IP 1194
</code></pre>
<h4 data-id="heading-44">4. è¯ä¹¦é“¾éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># éªŒè¯æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦ç”± CA ç­¾å‘</span>
openssl verify -CAfile /etc/openvpn/server/ca.crt /etc/openvpn/server/server.crt
</code></pre>
<p><strong>æˆåŠŸè¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbscript" lang="vbscript">/etc/openvpn/<span class="hljs-built_in">server</span>/<span class="hljs-built_in">server</span>.crt: OK
</code></pre>
<hr/>
<h3 data-id="heading-45">åäºŒã€éƒ¨ç½²æ£€æŸ¥æ¸…å•</h3>
<h4 data-id="heading-46">éœ€è¦å®Œæˆçš„é¡¹ç›®</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> OpenVPN å’Œ Easy-RSA å®‰è£…</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> CA è¯ä¹¦ç”Ÿæˆ</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æœåŠ¡å™¨è¯ä¹¦å’Œå¯†é’¥</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> Diffie-Hellman å‚æ•°ç”Ÿæˆ</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> TLS-Auth å¯†é’¥ç”Ÿæˆ</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> å®¢æˆ·ç«¯è¯ä¹¦ç”Ÿæˆä¸å¯†é’¥</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ–‡ä»¶æƒé™è®¾ç½®</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ç½‘ç»œé…ç½®</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> é˜²ç«å¢™è§„åˆ™</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æœåŠ¡å¯åŠ¨</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ç«¯å£ç›‘å¬éªŒè¯</li>
</ul>
<h4 data-id="heading-47">éœ€è¦æ‰‹åŠ¨ä¿®æ”¹çš„é¡¹ç›®</h4>
<ol>
<li>
<p><strong>æœåŠ¡å™¨é…ç½®æ–‡ä»¶</strong> <code>/etc/openvpn/server/server.conf</code>ï¼š</p>
<ul>
<li>ç¡®è®¤è¯ä¹¦è·¯å¾„æ­£ç¡®</li>
<li>ä¿®æ”¹æœåŠ¡å™¨ IP æ®µï¼ˆå¦‚ 10.0.9.0/24ï¼‰</li>
<li>ç¡®è®¤åè®®ç±»å‹ï¼ˆudp/tcpï¼‰</li>
</ul>
</li>
<li>
<p><strong>å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</strong>ï¼š</p>
<ul>
<li>å°† <code>YOUR_SERVER_IP</code> æ›¿æ¢ä¸ºå®é™…å…¬ç½‘ IP</li>
<li>ç¡®è®¤ç«¯å£å·æ­£ç¡®</li>
<li>ç¡®è®¤åè®®ç±»å‹åŒ¹é…æœåŠ¡å™¨</li>
</ul>
</li>
<li>
<p><strong>é˜²ç«å¢™é…ç½®</strong>ï¼š</p>
<ul>
<li>ç¡®è®¤ <code>before.rules</code> ä¸­çš„ç½‘å¡åç§°ï¼ˆå¦‚ ens18ï¼‰</li>
<li>ç¡®è®¤ NAT è§„åˆ™ä¸­çš„ IP æ®µåŒ¹é…</li>
</ul>
</li>
</ol>
<hr/>
<p>æœ¬æ–‡éƒ¨ç½²ç¯å¢ƒå‡ä¸ºè™šæ‹Ÿç¯å¢ƒï¼Œä»…ä¾›æŠ€æœ¯å­¦ä¹ ä¸äº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠJSåˆ—è¡¨è½¬æ ‘å®æ“æŒ‡å—ã€‹]]></title>    <link>https://juejin.cn/post/7605030650279395374</link>    <guid>https://juejin.cn/post/7605030650279395374</guid>    <pubDate>2026-02-10T13:20:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605030650279395374" data-draft-id="7605030650279362606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠJSåˆ—è¡¨è½¬æ ‘å®æ“æŒ‡å—ã€‹"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-10T13:20:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éšé€¸177"/> <meta itemprop="url" content="https://juejin.cn/user/1857514486118233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠJSåˆ—è¡¨è½¬æ ‘å®æ“æŒ‡å—ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857514486118233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éšé€¸177
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T13:20:36.000Z" title="Tue Feb 10 2026 13:20:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JSåˆ—è¡¨è½¬æ ‘å®æ“æŒ‡å—ï½œé€’å½’ä¸Mapæœ€ä¼˜è§£è¯¦è§£</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ‰å¹³åˆ—è¡¨è½¬æ ‘å½¢ç»“æ„æ˜¯æä¸ºå¸¸è§çš„åŸºç¡€æ“ä½œã€‚åå°æ¥å£è¿”å›çš„æ•°æ®å¾€å¾€æ˜¯æ‰å¹³çš„ï¼ˆé€šè¿‡parentIdå…³è”çˆ¶å­å…³ç³»ï¼‰ï¼Œè€Œå‰ç«¯æ¸²æŸ“å±‚çº§ç»„ä»¶ï¼ˆå¦‚èœå•ã€åˆ†ç±»ã€çœå¸‚åŒºé€‰æ‹©å™¨ï¼‰æ—¶ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸ºåµŒå¥—çš„æ ‘å½¢ç»“æ„ã€‚</p>
<p>æœ¬æ–‡å°†ä»é›¶åˆ°ä¸€ï¼Œæ‹†è§£åˆ—è¡¨è½¬æ ‘çš„ä¸¤ç§æ ¸å¿ƒå®ç°æ–¹æ¡ˆâ€”â€”é€’å½’æ³•ï¼ˆæ˜“ä¸Šæ‰‹ï¼‰å’ŒMapä¼˜åŒ–æ³•ï¼ˆé«˜æ€§èƒ½ï¼‰ï¼Œè¡¥å……å®æ“ç»†èŠ‚ã€ä»£ç æ³¨é‡Šå’Œåœºæ™¯åº”ç”¨ï¼Œå¸®ä½ å¿«é€ŸæŒæ¡ä¸¤ç§è§£æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼Œè½»æ¾åº”å¯¹å¼€å‘ä¸­çš„å„ç±»å±‚çº§æ•°æ®å¤„ç†éœ€æ±‚ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯åˆ—è¡¨è½¬æ ‘ï¼Ÿæ ¸å¿ƒåœºæ™¯</h3>
<p>åˆ—è¡¨è½¬æ ‘ï¼Œæœ¬è´¨æ˜¯å°†ã€Œæ‰å¹³ç»“æ„æ•°æ®ã€ï¼ˆé€šè¿‡parentIdå­—æ®µå…³è”çˆ¶å­èŠ‚ç‚¹ï¼‰ï¼Œè½¬æ¢ä¸ºã€Œå±‚çº§åµŒå¥—ç»“æ„æ•°æ®ã€ï¼ˆé€šè¿‡childrenå­—æ®µå­˜å‚¨å­èŠ‚ç‚¹ï¼‰ï¼Œæ˜¯å‰ç«¯å¤„ç†å±‚çº§å…³ç³»æ•°æ®çš„æ ¸å¿ƒæŠ€å·§ã€‚</p>
<h4 data-id="heading-2">1. è¾“å…¥è¾“å‡ºç¤ºä¾‹ï¼ˆå¼€å‘å®æ“æ ‡å‡†æ ¼å¼ï¼‰</h4>
<p>åå°è¿”å›çš„æ‰å¹³åˆ—è¡¨ï¼ˆæœ€å¸¸è§æ ¼å¼ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">æ ¸å¿ƒå…³è”å­—æ®µï¼šidï¼ˆèŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ï¼‰ã€parentIdï¼ˆçˆ¶èŠ‚ç‚¹idï¼‰</span>
<span class="hljs-string">const</span> <span class="hljs-string">flatList</span> <span class="hljs-string">=</span> [
  { <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸€çº§èœå•A'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-number">2</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'äºŒçº§èœå•A-1'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-number">3</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'äºŒçº§èœå•A-2'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-number">4</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">2</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸‰çº§èœå•A-1-1'</span> },
  { <span class="hljs-attr">id:</span> <span class="hljs-number">5</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸€çº§èœå•B'</span> },
]<span class="hljs-string">;</span>
</code></pre>
<p>å‰ç«¯æ¸²æŸ“æ‰€éœ€çš„æ ‘å½¢ç»“æ„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml">[
  {
    <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>,
    <span class="hljs-attr">parentId:</span> <span class="hljs-number">0</span>,
    <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸€çº§èœå•A'</span>,
    <span class="hljs-attr">children:</span> [
      {
        <span class="hljs-attr">id:</span> <span class="hljs-number">2</span>,
        <span class="hljs-attr">parentId:</span> <span class="hljs-number">1</span>,
        <span class="hljs-attr">name:</span> <span class="hljs-string">'äºŒçº§èœå•A-1'</span>,
        <span class="hljs-attr">children:</span> [
          { <span class="hljs-attr">id:</span> <span class="hljs-number">4</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">2</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸‰çº§èœå•A-1-1'</span>, <span class="hljs-attr">children:</span> [] }
        ]
      },
      { <span class="hljs-attr">id:</span> <span class="hljs-number">3</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'äºŒçº§èœå•A-2'</span>, <span class="hljs-attr">children:</span> [] }
    ]
  },
  { <span class="hljs-attr">id:</span> <span class="hljs-number">5</span>, <span class="hljs-attr">parentId:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'ä¸€çº§èœå•B'</span>, <span class="hljs-attr">children:</span> [] }
]
</code></pre>
<h4 data-id="heading-3">2. æ ¸å¿ƒçº¦å®šï¼ˆå¼€å‘é€šç”¨è§„èŒƒï¼‰</h4>
<ul>
<li>æ ¹èŠ‚ç‚¹çš„parentIdå›ºå®šä¸º0ï¼ˆè¡Œä¸šé€šç”¨çº¦å®šï¼Œè‹¥åå°è¿”å›ä¸ºnullæˆ–undefinedï¼Œå¯å¾®è°ƒåˆ¤æ–­æ¡ä»¶ï¼‰ï¼›</li>
<li>æ¯ä¸ªèŠ‚ç‚¹å¿…é¡»æ‹¥æœ‰å”¯ä¸€idï¼Œé¿å…çˆ¶å­å…³è”é”™ä¹±ï¼Œç¡®ä¿å±‚çº§ç»“æ„æ­£ç¡®ï¼›</li>
<li>è½¬æ¢è¿‡ç¨‹ä¸­ä¸ä¿®æ”¹åŸå§‹æ‰å¹³åˆ—è¡¨ï¼ˆéµå¾ªæ•°æ®ä¸å¯å˜æ€§ï¼Œé¿å…å½±å“å…¶ä»–ä¾èµ–è¯¥åˆ—è¡¨çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼›</li>
<li>æ— å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œchildrenå­—æ®µè®¾ä¸ºç©ºæ•°ç»„ï¼ˆç»Ÿä¸€æ•°æ®æ ¼å¼ï¼Œä¾¿äºå‰ç«¯ç»„ä»¶ç»Ÿä¸€æ¸²æŸ“ï¼Œé¿å…æŠ¥é”™ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€è§£æ³•ä¸€ï¼šé€’å½’æ³•ï¼ˆæ˜“ä¸Šæ‰‹ï¼Œé€‚åˆä¸­å°å‹åˆ—è¡¨ï¼‰</h3>
<p>é€’å½’æ³•æ˜¯æœ€ç›´è§‚ã€æœ€æ˜“ç†è§£å’Œç¼–å†™çš„è§£æ³•ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ã€Œé€å±‚æŸ¥æ‰¾å¹¶åµŒå¥—å­èŠ‚ç‚¹ã€ï¼šä»æ ¹èŠ‚ç‚¹ï¼ˆparentId=0ï¼‰å¼€å§‹ï¼Œå…ˆç­›é€‰å‡ºå…¶ç›´æ¥å­èŠ‚ç‚¹ï¼Œå†å¯¹æ¯ä¸ªå­èŠ‚ç‚¹é€’å½’æ‰§è¡Œç›¸åŒæ“ä½œï¼ŒæŸ¥æ‰¾å…¶ä¸‹ä¸€çº§å­èŠ‚ç‚¹ï¼Œç›´åˆ°æŸä¸ªèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼Œé€’å½’è‡ªåŠ¨ç»ˆæ­¢ã€‚</p>
<h4 data-id="heading-5">1. å®Œæ•´å¯è¿è¡Œä»£ç ï¼ˆæç®€å®æ“ç‰ˆï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * é€’å½’å®ç°åˆ—è¡¨è½¬æ ‘
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">list</span> - å¾…è½¬æ¢çš„æ‰å¹³åˆ—è¡¨æ•°æ®
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">parentId</span> - çˆ¶èŠ‚ç‚¹idï¼Œé»˜è®¤0ï¼ˆæ ¹èŠ‚ç‚¹çˆ¶idï¼‰
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Array</span>} è½¬æ¢åçš„æ ‘å½¢ç»“æ„æ•°ç»„
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">listToTree</span>(<span class="hljs-params">list, parentId = <span class="hljs-number">0</span></span>) {
  <span class="hljs-comment">// 1. ç­›é€‰å½“å‰çˆ¶èŠ‚ç‚¹çš„æ‰€æœ‰ç›´æ¥å­èŠ‚ç‚¹</span>
  <span class="hljs-keyword">const</span> directChildren = list.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">parentId</span> === parentId);
  
  <span class="hljs-comment">// 2. éå†æ¯ä¸ªç›´æ¥å­èŠ‚ç‚¹ï¼Œé€’å½’æŸ¥æ‰¾å…¶ä¸‹ä¸€çº§å­èŠ‚ç‚¹ï¼Œè¡¥å……childrenå±æ€§</span>
  <span class="hljs-keyword">return</span> directChildren.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> ({
    ...child, <span class="hljs-comment">// å¤åˆ¶åŸèŠ‚ç‚¹æ‰€æœ‰å±æ€§ï¼Œé¿å…ä¿®æ”¹åŸå§‹åˆ—è¡¨æ•°æ®</span>
    <span class="hljs-attr">children</span>: <span class="hljs-title function_">listToTree</span>(list, child.<span class="hljs-property">id</span>) <span class="hljs-comment">// é€’å½’ï¼šä»¥å½“å‰å­èŠ‚ç‚¹idä¸ºçˆ¶idï¼ŒæŸ¥æ‰¾å…¶ä¸‹ä¸€çº§å­èŠ‚ç‚¹</span>
  }));
}
</code></pre>
<h4 data-id="heading-6">2. æ ¸å¿ƒé€»è¾‘æ‹†è§£ï¼ˆé€šä¿—å¥½æ‡‚ï¼‰</h4>
<p>å¾ˆå¤šäººè§‰å¾—é€’å½’â€œéš¾ç†è§£â€ï¼Œå…¶å®åªè¦æŠ“ä½ã€Œæ ¸å¿ƒé€»è¾‘+ç»ˆæ­¢æ¡ä»¶ã€ï¼Œå°±èƒ½è½»æ¾æŒæ¡ï¼š</p>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šå½“å‰èŠ‚ç‚¹çš„childrenæ•°ç»„ï¼Œç­‰äºã€Œæ‰€æœ‰parentIdç­‰äºå½“å‰èŠ‚ç‚¹idã€çš„å­èŠ‚ç‚¹é›†åˆï¼Œé€šè¿‡é€’å½’è°ƒç”¨è‡ªèº«å®ç°å±‚çº§åµŒå¥—ï¼›</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šå½“æŸä¸ªèŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹æ—¶ï¼Œfilteræ–¹æ³•ä¼šè¿”å›ç©ºæ•°ç»„ï¼Œmapæ–¹æ³•ä¹Ÿä¼šè¿”å›ç©ºæ•°ç»„ï¼Œæ­¤æ—¶childrenä¸ºç©ºï¼Œé€’å½’è‡ªåŠ¨åœæ­¢ï¼Œæ— éœ€æ‰‹åŠ¨åˆ¤æ–­ç»ˆæ­¢ã€‚</li>
</ul>
<h4 data-id="heading-7">3. å®æ“æ³¨æ„äº‹é¡¹ï¼ˆé¿å‘é‡ç‚¹ï¼‰</h4>
<ul>
<li>é¿å…ä¿®æ”¹åŸå§‹æ•°æ®ï¼šå¿…é¡»ç”¨æ‰©å±•è¿ç®—ç¬¦<code>...child</code>å¤åˆ¶åŸèŠ‚ç‚¹ï¼Œå†è¡¥å……childrenå±æ€§ï¼Œè‹¥ç›´æ¥ä¿®æ”¹childï¼ˆå¦‚child.children = ...ï¼‰ï¼Œä¼šæ±¡æŸ“åŸå§‹æ‰å¹³åˆ—è¡¨ï¼Œå½±å“å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼›</li>
<li>ä¸ä¼ å…¥åˆ—è¡¨å‰¯æœ¬ï¼šé€’å½’æ—¶ç›´æ¥ä¼ å…¥åŸå§‹listå³å¯ï¼Œæ— éœ€ç”¨list.slice()ç­‰æ–¹æ³•åˆ›å»ºå‰¯æœ¬ï¼Œå¦åˆ™æ¯æ¬¡é€’å½’éƒ½ä¼šç”Ÿæˆæ–°æ•°ç»„ï¼Œæµªè´¹å†…å­˜ï¼›</li>
<li>å…¼å®¹å¼‚å¸¸æ•°æ®ï¼šè‹¥åˆ—è¡¨ä¸­å­˜åœ¨parentIdæ— æ•ˆï¼ˆæ— å¯¹åº”çˆ¶èŠ‚ç‚¹ï¼‰çš„èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¼šè¢«è‡ªåŠ¨è¿‡æ»¤ï¼Œä¸ä¼šå½±å“æ•´ä½“æ ‘å½¢ç»“æ„ç”Ÿæˆã€‚</li>
</ul>
<h4 data-id="heading-8">4. æ€§èƒ½ç‰¹ç‚¹ï¼ˆé€‚é…åœºæ™¯è¯´æ˜ï¼‰</h4>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) â€”â€” æ¯æ¬¡é€’å½’éƒ½ä¼šéå†æ•´ä¸ªåˆ—è¡¨ï¼ˆfilteræ“ä½œï¼‰ï¼Œè‹¥åˆ—è¡¨é•¿åº¦ä¸ºnï¼Œæœ€åæƒ…å†µä¸‹ï¼ˆæ ‘é€€åŒ–ä¸ºå•é“¾è¡¨ï¼‰ï¼Œä¼šé€’å½’næ¬¡ï¼Œæ€»éå†æ¬¡æ•°ä¸ºnÃ—nï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n) â€”â€” é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æœ€å¤šä¸ºæ ‘çš„å±‚çº§ï¼ˆæœ€ånå±‚ï¼‰ï¼ŒåŒæ—¶ç”Ÿæˆçš„æ ‘å½¢ç»“æ„åŒ…å«nä¸ªèŠ‚ç‚¹ï¼Œå†…å­˜å¼€é”€å¯æ§ï¼›</li>
<li>é€‚é…åœºæ™¯ï¼šé€‚åˆä¸­å°å‹æ‰å¹³åˆ—è¡¨ï¼ˆæ•°æ®é‡n&lt;1000ï¼‰ï¼Œå¦‚ç®€å•èœå•ã€å°å‹åˆ†ç±»ï¼Œä»£ç ç®€æ´ã€æ˜“è°ƒè¯•ï¼Œå¼€å‘æ•ˆç‡é«˜ã€‚</li>
</ul>
<h3 data-id="heading-9">ä¸‰ã€è§£æ³•äºŒï¼šMapä¼˜åŒ–æ³•ï¼ˆé«˜æ€§èƒ½ï¼Œç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼‰</h3>
<p>é€’å½’æ³•çš„æ ¸å¿ƒçŸ­æ¿æ˜¯ã€Œé‡å¤éå†åˆ—è¡¨ã€ï¼Œå¯¼è‡´æ•°æ®é‡å¤§æ—¶æ€§èƒ½ä¸‹é™ã€‚Mapä¼˜åŒ–æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯ã€Œç©ºé—´æ¢æ—¶é—´ã€ï¼šåˆ©ç”¨ES6 Mapæ•°æ®ç»“æ„ï¼Œå…ˆæ„å»ºã€ŒèŠ‚ç‚¹idâ†’èŠ‚ç‚¹å¯¹è±¡ã€çš„æ˜ å°„è¡¨ï¼Œå®ç°â€œO(1)å¿«é€ŸæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹â€ï¼Œå°†æ—¶é—´å¤æ‚åº¦ä»O(nÂ²)ä¼˜åŒ–åˆ°O(n)ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒå¤„ç†å¤§æ•°æ®é‡åˆ—è¡¨çš„é¦–é€‰è§£æ³•ã€‚</p>
<h4 data-id="heading-10">1. å®Œæ•´å¯è¿è¡Œä»£ç ï¼ˆç”Ÿäº§çº§å¥å£®ç‰ˆï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">/**
 * Mapä¼˜åŒ–ç‰ˆåˆ—è¡¨è½¬æ ‘ï¼ˆé«˜æ€§èƒ½ï¼Œç”Ÿäº§çº§ï¼‰
 * @param {Array} list - å¾…è½¬æ¢çš„æ‰å¹³åˆ—è¡¨æ•°æ®
 * @param {Number} rootParentId - æ ¹èŠ‚ç‚¹çš„parentIdï¼Œé»˜è®¤0
 * @returns {Array} è½¬æ¢åçš„æ ‘å½¢ç»“æ„æ•°ç»„
 */
function listToTreeOptimize(list, <span class="hljs-attr">rootParentId</span> = <span class="hljs-number">0</span>) {
  // 1. åˆ›å»ºMapæ˜ å°„è¡¨ï¼šå­˜å‚¨idâ†’èŠ‚ç‚¹å¯¹è±¡ï¼Œå®ç°O(1)å¿«é€ŸæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹
  const <span class="hljs-attr">nodeMap</span> = new Map()<span class="hljs-comment">;</span>
  // 2. å­˜å‚¨æœ€ç»ˆè½¬æ¢åçš„æ ‘å½¢ç»“æ„ï¼ˆä»…å­˜æ”¾æ ¹èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹é€šè¿‡childrenåµŒå¥—ï¼‰
  const <span class="hljs-attr">tree</span> = []<span class="hljs-comment">;</span>

  // ç¬¬ä¸€æ­¥ï¼šéå†åˆ—è¡¨ï¼Œæ„å»ºMapæ˜ å°„ï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆå§‹åŒ–ç©ºchildrenæ•°ç»„
  list.forEach(<span class="hljs-attr">item</span> =&gt; {
    // å¤åˆ¶åŸèŠ‚ç‚¹ï¼Œåˆå§‹åŒ–childrenä¸ºç©ºæ•°ç»„ï¼Œé¿å…ä¿®æ”¹åŸå§‹æ•°æ®
    nodeMap.set(item.id, { ...item, children: <span class="hljs-section">[]</span> })<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>

  // ç¬¬äºŒæ­¥ï¼šå†æ¬¡éå†åˆ—è¡¨ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹æŒ‚è½½åˆ°å…¶å¯¹åº”çˆ¶èŠ‚ç‚¹çš„childrenä¸­
  list.forEach(<span class="hljs-attr">item</span> =&gt; {
    const <span class="hljs-attr">currentNode</span> = nodeMap.get(item.id)<span class="hljs-comment">; // å½“å‰èŠ‚ç‚¹ï¼ˆä»Mapä¸­å¿«é€Ÿè·å–ï¼‰</span>
    const <span class="hljs-attr">parentNode</span> = nodeMap.get(item.parentId)<span class="hljs-comment">; // çˆ¶èŠ‚ç‚¹ï¼ˆO(1)å¿«é€ŸæŸ¥æ‰¾ï¼‰</span>

    if (<span class="hljs-attr">item.parentId</span> === rootParentId) {
      // æ ¹èŠ‚ç‚¹ï¼šç›´æ¥åŠ å…¥æ ‘å½¢ç»“æ„çš„æ ¹æ•°ç»„
      tree.push(currentNode)<span class="hljs-comment">;</span>
    } else if (parentNode) {
      // å­èŠ‚ç‚¹ï¼šæŒ‚è½½åˆ°å…¶çˆ¶èŠ‚ç‚¹çš„childrenæ•°ç»„ä¸­ï¼ˆé˜²å¾¡çˆ¶èŠ‚ç‚¹ä¸å­˜åœ¨çš„å¼‚å¸¸ï¼‰
      parentNode.children.push(currentNode)<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>

  return tree<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-11">2. æ ¸å¿ƒä¼˜åŒ–ç‚¹ï¼ˆé«˜æ€§èƒ½åŸå› ï¼‰</h4>
<p>å¯¹æ¯”é€’å½’æ³•ï¼ŒMapä¼˜åŒ–æ³•çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ã€Œå‡å°‘é‡å¤éå†ã€ï¼Œé‡ç‚¹ä¼˜åŒ–äº†ä¸¤ç‚¹ï¼š</p>
<ul>
<li>Mapæ˜ å°„è¡¨çš„ä½œç”¨ï¼šå°†â€œæ¯æ¬¡é€’å½’éå†æ•´ä¸ªåˆ—è¡¨æ‰¾çˆ¶èŠ‚ç‚¹â€ï¼ˆO(n)è€—æ—¶ï¼‰ï¼Œä¼˜åŒ–ä¸ºâ€œé€šè¿‡Map.get(parentId)å¿«é€ŸæŸ¥æ‰¾çˆ¶èŠ‚ç‚¹â€ï¼ˆO(1)è€—æ—¶ï¼‰ï¼Œå½»åº•è§£å†³é‡å¤éå†çš„é—®é¢˜ï¼›</li>
<li>ä¸¤æ¬¡éå†çš„æ„ä¹‰ï¼šç¬¬ä¸€æ¬¡éå†ä»…ç”¨äºæ„å»ºMapæ˜ å°„å¹¶åˆå§‹åŒ–childrenæ•°ç»„ï¼Œç¬¬äºŒæ¬¡éå†ä»…ç”¨äºæŒ‚è½½å­èŠ‚ç‚¹ï¼Œé€»è¾‘æ¸…æ™°ï¼Œä¸”èƒ½å®Œç¾å¤„ç†â€œå­èŠ‚ç‚¹åœ¨çˆ¶èŠ‚ç‚¹ä¹‹å‰å‡ºç°â€çš„å¼‚å¸¸æƒ…å†µï¼ˆå¦‚åˆ—è¡¨ä¸­id=4çš„èŠ‚ç‚¹åœ¨id=2çš„èŠ‚ç‚¹ä¹‹å‰ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12">3. Map vs æ™®é€šå¯¹è±¡ï¼ˆå®æ“é€‰æ‹©æŒ‡å—ï¼‰</h4>
<p>å¼€å‘ä¸­ï¼Œå¾ˆå¤šäººä¼šç”¨æ™®é€šå¯¹è±¡ï¼ˆ{}ï¼‰ä»£æ›¿Mapæ„å»ºæ˜ å°„è¡¨ï¼Œä¸¤è€…å„æœ‰ä¼˜åŠ£ï¼Œå¯æ ¹æ®åœºæ™¯çµæ´»é€‰æ‹©ï¼Œå…·ä½“å¯¹æ¯”å¦‚ä¸‹ï¼š</p>

























<table><thead><tr><th><strong>å¯¹æ¯”é¡¹</strong></th><th>æ™®é€šå¯¹è±¡ï¼ˆ{}ï¼‰</th><th>ES6 Map</th></tr></thead><tbody><tr><td>é”®çš„ç±»å‹</td><td>ä»…æ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ï¼ˆæ•°å­—ä¼šè‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ï¼‰</td><td>æ”¯æŒä»»æ„ç±»å‹ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰ï¼Œæ›´çµæ´»</td></tr><tr><td>æŸ¥æ‰¾æ•ˆç‡</td><td>æ™®é€šåœºæ™¯å¯ç”¨ï¼Œå½“é”®çš„æ•°é‡è¿‡å¤šæ—¶ï¼Œæ•ˆç‡ä¼šæ˜æ˜¾ä¸‹é™</td><td>æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ•ˆç‡å§‹ç»ˆä¸ºO(1)ï¼Œé€‚åˆé¢‘ç¹æ“ä½œã€å¤§æ•°æ®é‡</td></tr><tr><td>å®‰å…¨æ€§</td><td>å¯èƒ½è¢«åŸå‹é“¾æ±¡æŸ“ï¼ˆå¦‚é”®åä¸º__proto__æ—¶ï¼Œä¼šä¿®æ”¹å¯¹è±¡åŸå‹ï¼‰</td><td>æ— åŸå‹é“¾ç›¸å…³é—®é¢˜ï¼Œæ•°æ®å­˜å‚¨æ›´å®‰å…¨ï¼Œç”Ÿäº§çº§å¼€å‘é¦–é€‰</td></tr></tbody></table>
<h4 data-id="heading-13">4. æ€§èƒ½ç‰¹ç‚¹ï¼ˆç”Ÿäº§ç¯å¢ƒé€‚é…ï¼‰</h4>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n) â€”â€” ä»…å¯¹æ‰å¹³åˆ—è¡¨éå†ä¸¤æ¬¡ï¼ˆä¸¤æ¬¡forEachï¼‰ï¼ŒMapçš„getã€setæ“ä½œå‡ä¸ºO(1)ï¼Œæ€»è€—æ—¶ä¸åˆ—è¡¨é•¿åº¦næˆæ­£æ¯”ï¼Œæ•ˆç‡æœ€ä¼˜ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n) â€”â€” Mapæ˜ å°„è¡¨å­˜å‚¨nä¸ªèŠ‚ç‚¹ï¼Œæœ€ç»ˆç”Ÿæˆçš„æ ‘å½¢ç»“æ„ä¹ŸåŒ…å«nä¸ªèŠ‚ç‚¹ï¼Œç©ºé—´å¼€é”€å¯æ§ï¼Œæ˜¯â€œç©ºé—´æ¢æ—¶é—´â€çš„åˆç†å–èˆï¼›</li>
<li>é€‚é…åœºæ™¯ï¼šé€‚åˆå¤§æ•°æ®é‡ã€æ·±å±‚çº§çš„æ‰å¹³åˆ—è¡¨ï¼ˆå¦‚çœå¸‚åŒºä¸‰çº§æ•°æ®ã€å¤§å‹åå°èœå•ï¼‰ï¼Œæ— é€’å½’æ ˆæº¢å‡ºé£é™©ï¼Œæ€§èƒ½ç¨³å®šã€‚</li>
</ul>
<h3 data-id="heading-14">å››ã€ä¸¤ç§è§£æ³•å¯¹æ¯”ï¼ˆå¼€å‘é€‰å‹æŒ‡å—ï¼‰</h3>
<p>å¼€å‘ä¸­æ— éœ€ç›²ç›®è¿½æ±‚â€œé«˜æ€§èƒ½â€ï¼Œåº”æ ¹æ®åˆ—è¡¨æ•°æ®é‡ã€å±‚çº§æ·±åº¦é€‰æ‹©åˆé€‚çš„è§£æ³•ï¼Œä»¥ä¸‹å¯¹æ¯”å¯ç›´æ¥ä½œä¸ºé€‰å‹å‚è€ƒï¼š</p>


























<table><thead><tr><th><strong>è§£æ³•</strong></th><th><strong>æ—¶é—´å¤æ‚åº¦</strong></th><th><strong>ç©ºé—´å¤æ‚åº¦</strong></th><th><strong>é€‚é…åœºæ™¯</strong></th><th><strong>å¼€å‘ä¼˜åŠ¿</strong></th></tr></thead><tbody><tr><td>é€’å½’æ³•</td><td>O(nÂ²)</td><td>O(n)</td><td>ä¸­å°å‹åˆ—è¡¨ï¼ˆn&lt;1000ï¼‰ã€å±‚çº§æµ…</td><td>ä»£ç ç®€æ´ã€æ˜“ç†è§£ã€å¼€å‘è°ƒè¯•å¿«</td></tr><tr><td>Mapä¼˜åŒ–æ³•</td><td>O(n)</td><td>O(n)</td><td>å¤§æ•°æ®é‡ã€æ·±å±‚çº§åˆ—è¡¨ã€ç”Ÿäº§ç¯å¢ƒ</td><td>æ€§èƒ½æœ€ä¼˜ã€æ— æ ˆæº¢å‡ºã€å®‰å…¨æ€§é«˜</td></tr></tbody></table>
<h3 data-id="heading-15">5ã€æ€»ç»“ï¼ˆå¿«é€Ÿä¸Šæ‰‹æŒ‡å—ï¼‰</h3>
<p>æŒæ¡åˆ—è¡¨è½¬æ ‘çš„æ ¸å¿ƒï¼Œå…³é”®æ˜¯ã€Œç†è§£parentIdä¸childrençš„å…³è”å…³ç³»ã€ï¼Œä¸¤ç§è§£æ³•å¯æŒ‰éœ€é€‰æ‹©ï¼Œæ— éœ€æ­»è®°ç¡¬èƒŒï¼š</p>
<ul>
<li>å¿«é€Ÿå¼€å‘ã€æ•°æ®é‡å°æ—¶ï¼Œé€‰é€’å½’æ³•ï¼šä»£ç ç®€æ´ã€æ˜“ä¸Šæ‰‹ï¼Œè°ƒè¯•æ–¹ä¾¿ï¼Œé€‚åˆä¸­å°å‹åˆ—è¡¨ï¼›</li>
<li>ç”Ÿäº§ç¯å¢ƒã€æ•°æ®é‡å¤§æ—¶ï¼Œé€‰Mapä¼˜åŒ–æ³•ï¼šæ€§èƒ½æœ€ä¼˜ã€æ— æ ˆæº¢å‡ºé£é™©ï¼Œå®‰å…¨æ€§é«˜ï¼Œé€‚é…å„ç±»å¤æ‚åœºæ™¯ï¼›</li>
<li>æ ¸å¿ƒåŸåˆ™ï¼šå§‹ç»ˆéµå¾ªã€Œæ•°æ®ä¸å¯å˜æ€§ã€ï¼Œé¿å…ä¿®æ”¹åŸå§‹åˆ—è¡¨ï¼ŒåŒæ—¶åšå¥½å¼‚å¸¸æ•°æ®é˜²å¾¡ï¼Œç¡®ä¿ä»£ç å¥å£®æ€§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±09ï¼šä»ã€å¥å‘é‡ã€‘åˆ°RAG]]></title>    <link>https://juejin.cn/post/7605041451328061483</link>    <guid>https://juejin.cn/post/7605041451328061483</guid>    <pubDate>2026-02-11T00:20:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605041451328061483" data-draft-id="7604881286038487092" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±09ï¼šä»ã€å¥å‘é‡ã€‘åˆ°RAG"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-11T00:20:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘¸é±¼çš„æ˜¥å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1714893870865303"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±09ï¼šä»ã€å¥å‘é‡ã€‘åˆ°RAG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893870865303/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘¸é±¼çš„æ˜¥å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:20:27.000Z" title="Wed Feb 11 2026 00:20:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;font-weight:400;line-height:2;font-size:17px;overflow-x:hidden;color:#000}.markdown-body strong{padding:1px;color:#ee3f4d}.markdown-body em{padding:0 2px;color:#f33b1f}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:30px;margin-bottom:20px;line-height:1.5;font-weight:700}.markdown-body h1{text-align:center;padding-bottom:5px;font-size:32px;color:#ac1f18}.markdown-body h1:after{content:"";display:block;margin:4px auto 0;width:100px;height:2px;border-bottom:2px solid #f33b1f}.markdown-body h2{font-size:28px;border-bottom:1px solid #f33b1f}.markdown-body h2:before{content:"# "!important;color:#f33b1f}.markdown-body h3{font-size:24px;padding-left:9px;border-left:6px solid #f33b1f}.markdown-body h4{font-size:20px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #bbb;margin:16px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f9f1db;color:#ee2746;border-radius:2px;font-size:16px;padding:1px 2px}.markdown-body code,.markdown-body pre{font-family:-apple-system,-apple-system-body,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,PingFang SC,æ€æºé»‘ä½“ CN,æ€æºé»‘ä½“,JetBrains Mono,Fira Code,Menlo,Ubuntu Mono,Consolas,sans-serif}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{margin:12px 0!important;border-radius:3px;font-size:15px;padding:16px 12px;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f7f7f7}.markdown-body a{text-decoration:none;color:#1781b5;padding:0 2px;border-bottom:1px solid #1781b5}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #f33b1f;color:#ac1f18}.markdown-body blockquote{color:#3d3d3d;background-color:#fff9f9;padding:6px 16px;margin:16px 0;border-left:3px solid #f07c82}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:6px 0}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:6px}.markdown-body ol li{padding-left:6px}.markdown-body ::marker{color:#f33b1f}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body .task-list-item input[type=checkbox]{position:relative}.markdown-body .task-list-item input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;border:1px solid #f07c82;border-radius:3px;box-sizing:border-box;z-index:1}.markdown-body .task-list-item input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-5px;left:0;right:0;bottom:0;width:0;height:0;color:#f33b1f;font-size:16px;font-weight:700;z-index:2}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}.markdown-body table thead{background:#fff9f9;color:#000;text-align:left;font-size:15px}.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table tr:hover{background-color:#fff9f9}.markdown-body table td,.markdown-body table th{padding:12px 7px;line-height:24px;border:1px solid #f9f1db}.markdown-body table td{min-width:120px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">æ˜¥å“¥çš„Agenté€šå…³ç§˜ç±09ï¼šä»ã€å¥å‘é‡ã€‘åˆ°RAG</h2>
<p>æœ¬ç« ã€‚æˆ‘ä»¬å°†æ¢³ç†RAGçš„ç»“æ„è®¾è®¡ï¼Œä»¥åŠæ¢³ç†å‡ºå¦‚ä½•ä¸€æ­¥æ­¥æ„å»ºä¸€ä¸ªRAGç³»ç»Ÿã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç»„è£…ç°æœ‰çš„æ­¦å™¨</h3>
<p>æ ¹æ®å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†ã€å¥å‘é‡ã€‘åˆ†åˆ«å¯ä»¥äº§ç”Ÿä¸¤ç§æ•ˆæœã€‚</p>
<ul>
<li>å‘é‡åŒ–ï¼šé€šè¿‡å›ºå®šçš„è¯„ä¼°è§„åˆ™ï¼ŒæŠŠä¸€æ®µæ–‡æœ¬è¿…é€Ÿé€šè¿‡ä¸Šä¸‹æ–‡ç”Ÿæˆä¸€ä¸ªã€å¥å‘é‡ã€‘</li>
<li>æ£€ç´¢ï¼šå¿«é€Ÿé€šè¿‡ä¸€ä¸ªå·²çŸ¥çš„ã€å¥å‘é‡ã€‘ï¼Œæ‰¾åˆ°ä¸´è¿‘ä½ç½®çš„ã€å¥å‘é‡ã€‘ï¼Œä»è€Œæ‰¾åˆ°è¿™äº›å¥å‘é‡å¯¹åº”çš„åŸæ–‡ã€‚ï¼ˆè¿™æ ·ï¼Œå°±èƒ½æ‰¾åˆ°æ„ä¹‰ç›¸è¿‘çš„åŸæ–‡ï¼‰</li>
</ul>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è§„åˆ’æˆ‘ä»¬çš„RAGæ¶æ„ï¼š</p>
<p>è®­ç»ƒè¿‡ç¨‹ï¼š</p>
<ul>
<li>æŠŠä¼ä¸šæ–‡æ¡£è®­ç»ƒæˆä¸€ä¸ªå·¨å¤§çš„å‘é‡ç©ºé—´ï¼Œå­˜å‚¨åˆ°ä¸€ä¸ªã€å‘é‡æ•°æ®åº“ã€‘å†…ã€‚</li>
</ul>
<p>æé—®è¿‡ç¨‹ï¼š</p>
<ul>
<li>ã€å¥å‘é‡ã€‘å¤§æ¨¡å‹ï¼Œè´Ÿè´£æŠŠç”¨æˆ·çš„é—®é¢˜è½¬æ¢ä¸ºä¸€ä¸ªã€å¥å‘é‡ã€‘ã€‚</li>
<li>é€šè¿‡ã€å‘é‡æ•°æ®åº“ã€‘ï¼Œå¿«é€Ÿæ£€ç´¢åˆ°é™„è¿‘çš„è‹¥å¹²ä¸ªæ„ä¹‰ç›¸è¿‘çš„æ–‡æœ¬ã€‚</li>
<li>ç»„è£…æ–‡æœ¬+é—®é¢˜ï¼Œå‘ã€è¯å‘é‡ã€‘å¤§æ¨¡å‹æé—®ã€‚</li>
<li>è¿”å›ç­”æ¡ˆã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€R -&gt; A -&gt; G</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒDeepSeekï¼ˆæˆ–è€… GPTï¼‰æ˜¯ä¸€ä¸ªè¶…çº§å­¦éœ¸ã€‚ ä½†ä»–æœ‰ä¸¤ä¸ªè‡´å‘½çš„æ­»ç©´ï¼š</p>
<ol>
<li>
<p>çŸ¥è¯†å†»ç»“ï¼šä»–è™½ç„¶åšå­¦ï¼Œä½†ä»–çš„è®°å¿†åœç•™åœ¨ä»–æ¯•ä¸šï¼ˆè®­ç»ƒç»“æŸï¼‰çš„é‚£ä¸€å¤©ã€‚ä½ é—®ä»–â€œä»Šå¤©æ™šé¥­åƒä»€ä¹ˆï¼Ÿâ€ï¼Œä»–ä¸çŸ¥é“ã€‚</p>
</li>
<li>
<p>ä¸æ‡‚éšç§ï¼šä»–ä»æ¥æ²¡å»è¿‡ä½ ä»¬å…¬å¸ï¼Œæ²¡çœ‹è¿‡ä½ ä»¬çš„ã€Šå‘˜å·¥æ‰‹å†Œã€‹æˆ–ã€Šè´¢åŠ¡æŠ¥è¡¨ã€‹ã€‚ä½ é—®ä»–â€œæ€ä¹ˆæŠ¥é”€ï¼Ÿâ€ï¼Œä»–åªèƒ½çç¼–ã€‚</p>
</li>
</ol>
<p>ä½†æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬é€šè¿‡ã€å¥å‘é‡ã€‘(Sentence Embedding)çš„æ¨¡å‹ï¼Œæœ‰äº†é€šè¿‡è¯­ä¹‰å¿«é€Ÿæ‰¾åˆ°ç§æœ‰èµ„æ–™çš„èƒ½åŠ›ï¼Œæƒ³è±¡ç©ºé—´æ˜¯ä¸æ˜¯ç¬é—´ä¸ä¸€æ ·äº†ï¼Ÿ</p>
<p>å‡è®¾ï¼Œç”¨æˆ·å¯¹ç€ä¸€ä¸ªAgenté—®äº†ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>"æˆ‘ä»¬å…¬å¸çš„æŠ¥é”€æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ"</p>
</blockquote>
<p>è®©æˆ‘ä»¬æ‹†è§£æ•´ä¸ªæµç¨‹ï¼ŒæŠŠå®ƒåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>
<p>æ£€ç´¢ï¼šRetrievalã€‚</p>
<ul>
<li>ç³»ç»ŸæŠŠé—®é¢˜æ‰”ç»™ bge-m3ï¼ˆEmbedding æ¨¡å‹ï¼‰ã€‚</li>
<li><code>bge-m3</code> æŠŠå®ƒå˜æˆä¸€ä¸ªã€å¥å‘é‡ã€‘ã€‚</li>
<li>ç³»ç»Ÿæ‹¿ç€è¿™ä¸ªå‘é‡ï¼Œå»ä½ çš„å‘é‡æ•°æ®åº“é‡Œâ€œæ‰«ä¸€æ‰«â€ã€‚</li>
<li>ç»“æœï¼šç¬é—´æ‰¾åˆ°äº†è·ç¦»æœ€è¿‘çš„æ–‡æ¡£â€”â€”ã€Š2026å¹´å‘˜å·¥å·®æ—…ç®¡ç†åŠæ³•.pdfã€‹ã€‚</li>
</ul>
</li>
<li>
<p>å¢å¼ºï¼šAugmented</p>
<ul>
<li>ç³»ç»Ÿæ‚„æ‚„åœ°æŠŠåŸæœ¬çš„é—®é¢˜ä¿®æ”¹äº†ã€‚ å®ƒæŠŠæ‰¾åˆ°çš„æ–‡æ¡£å†…å®¹ï¼ˆæ¯”å¦‚â€œæ¯æ—¥è¡¥è´´ 300 å…ƒâ€ï¼‰ï¼Œç²˜è´´åˆ°äº†ç”¨æˆ·çš„é—®é¢˜å‰é¢ã€‚</li>
<li>å®é™…ç”¨æˆ·çš„é—®é¢˜å˜æˆäº†:"[èƒŒæ™¯èµ„æ–™]ï¼šæ ¹æ®ã€Š2026å¹´å‘˜å·¥å·®æ—…ç®¡ç†åŠæ³•ã€‹ï¼Œä¸€çº¿åŸå¸‚æ¯æ—¥è¡¥è´´ 300 å…ƒï¼ŒäºŒçº¿åŸå¸‚ 200 å…ƒ... [ç”¨æˆ·é—®é¢˜]ï¼šæˆ‘ä»¬å…¬å¸çš„å‡ºå·®è¡¥è´´æ˜¯å¤šå°‘ï¼Ÿ"</li>
<li>è¿™ä¸€æ­¥å«â€œå¢å¼ºâ€ï¼šå› ä¸ºæˆ‘ä»¬ç»™ AI æä¾›äº†å®ƒåŸæœ¬ä¸çŸ¥é“çš„ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p>ç”Ÿæˆï¼šGeneration</p>
<ul>
<li>DeepSeek æ‹¿åˆ°äº†ä½ é™„åŠ çš„ã€ä½œå¼Šä¿¡æ¯ã€‘å’Œç”¨æˆ·çš„æé—®ã€‚</li>
<li>DeepSeekåŸºäºå……åˆ†çš„ä¸Šä¸‹æ–‡çº¿ç´¢ï¼Œç„¶åç”¨å®ƒé‚£æµç•…çš„è¯­è¨€èƒ½åŠ›ï¼ŒæŠŠç­”æ¡ˆç»„ç»‡å‡ºæ¥ã€‚</li>
<li>DeepSeekç»™äº†ä½ å‡†ç¡®çš„ç­”æ¡ˆã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://pic.zhangshichun.top/pic/20260208183138948.png" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼ŒRAG åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>RAG = æœç´¢å¼•æ“ + å¤§è¯­è¨€æ¨¡å‹</p>
<ul>
<li>
<p>R (æ£€ç´¢)ï¼šåˆ©ç”¨ å¥å‘é‡ï¼Œå……å½“ AI çš„çœ¼ç›ï¼Œå¸®å®ƒçœ‹åˆ°å¤–éƒ¨çš„æœ€æ–°ã€æœ€ç§å¯†çš„çŸ¥è¯†ã€‚</p>
</li>
<li>
<p>G (ç”Ÿæˆ)ï¼šåˆ©ç”¨ Token å‘é‡ï¼Œå……å½“ AI çš„å˜´å·´ï¼Œå¸®å®ƒæŠŠçœ‹åˆ°çš„ä¿¡æ¯ï¼Œä¼˜é›…åœ°è®²ç»™ä½ å¬ã€‚</p>
</li>
</ul>
<p>æ²¡æœ‰ RAGï¼ŒAI åªæ˜¯ä¸€ä¸ªè®°æ€§å¾ˆå¥½çš„ç©ºæƒ³å®¶ã€‚ æœ‰äº† RAGï¼ŒAI å°±å˜æˆäº†ä¸€ä¸ªæ‡‚ä½ å…¬å¸ä¸šåŠ¡çš„è¶…çº§ç§˜ä¹¦ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€æ¢³ç†RAGçš„æ¶æ„</h3>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘å‘ä½ ä»‹ç»ä¸€ä¸‹ç›®å‰å¸‚é¢ä¸Šä¸»æµçš„RAGçš„æ¶æ„</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠ RAG åˆ†ä¸ºä¸¤ä¸ªå¤§çš„é˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>å‡†å¤‡é˜¶æ®µ (ç¦»çº¿)</li>
<li>è¿è¡Œé˜¶æ®µ (åœ¨çº¿)</li>
</ul>
<p>ğŸŸ¢ å‡†å¤‡é˜¶æ®µï¼šæŠŠæ–‡æ¡£å˜æˆã€å¥å‘é‡ã€‘</p>
<ol>
<li>
<p>ç”¨æˆ·å‡†å¤‡ç§æœ‰æ–‡æ¡£ (Data Source)</p>
<ul>
<li>æ ¼å¼äº”èŠ±å…«é—¨ï¼šPDF, Word, Markdown, Excel ç­‰ã€‚</li>
</ul>
</li>
<li>
<p>æ•°æ®æ¸…æ´—ä¸åˆ‡ç‰‡ (Cleaning &amp; Chunking)</p>
<ul>
<li>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆè¦åˆ‡ï¼Ÿ Embedding æ¨¡å‹ï¼ˆå¥å‘é‡ï¼‰æœ‰é•¿åº¦é™åˆ¶ï¼ˆæ¯”å¦‚ 512 ä¸ªå­—ï¼‰ã€‚ä½ ä¸èƒ½æŠŠä¸€æœ¬ 500 é¡µçš„ä¹¦ç›´æ¥å˜æˆä¸€ä¸ªå‘é‡ï¼Œé‚£æ ·ä¿¡æ¯å…¨ä¸¢äº†ã€‚</p>
</li>
<li>
<p>åšä»€ä¹ˆï¼Ÿ ä½ éœ€è¦ä¸€ä¸ªåˆ‡ç‰‡å™¨ï¼ŒæŠŠã€Šå‘˜å·¥æ‰‹å†Œã€‹åˆ‡æˆå‡ ç™¾ä¸ªå°æ®µè½ï¼ˆChunkï¼‰ã€‚æ¯ä¸€æ®µä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å•ä½ã€‚</p>
</li>
</ul>
</li>
<li>
<p>å¥å‘é‡æ¨¡å‹ (Embedding Model)</p>
<ul>
<li>åŠ¨ä½œï¼šæŠŠä¸Šé¢åˆ‡å¥½çš„å‡ ç™¾ä¸ªå°æ®µè½ï¼Œä¸€ä¸ªä¸ªå˜æˆç¨ å¯†å‘é‡ã€‚</li>
</ul>
</li>
<li>
<p>å‘é‡æ•°æ®åº“ (Vector DB)</p>
<ul>
<li>åŠ¨ä½œï¼šæŠŠè¿™äº›å‘é‡å­˜èµ·æ¥ï¼Œå¹¶å»ºç«‹ç´¢å¼•ï¼ˆHNSW ç­‰ï¼‰ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚</li>
</ul>
</li>
</ol>
<p>ğŸ”µ è¿è¡Œé˜¶æ®µï¼šå¼€å§‹å›ç­”ç”¨æˆ·é—®é¢˜
5. [Agent/è°ƒåº¦] ç”¨æˆ·æé—®ä¸ç¼–æ’</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- ç”¨æˆ·é—®ï¼šâ€œæ€ä¹ˆæŠ¥é”€ï¼Ÿâ€</span>

<span class="hljs-deletion">- è°ƒåº¦å™¨é¦–å…ˆæŠŠè¿™ä¸ªé—®é¢˜ä¹Ÿæ‰”ç»™ ã€å¥å‘é‡ã€‘æ¨¡å‹ï¼Œå˜æˆä¸€ä¸ªã€å¥å‘é‡ã€‘åæ ‡ã€‚</span>
</code></pre>
<p>6. å‘é‡æ£€ç´¢ (Vector Search)</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- å»å‘é‡æ•°æ®åº“é‡Œï¼Œæ‰¾å‡ºä¸é—®é¢˜å‘é‡è·ç¦»æœ€è¿‘çš„ Top 50 ä¸ªç‰‡æ®µã€‚</span>

<span class="hljs-deletion">- æ³¨æ„ï¼šè¿™ä¸€æ­¥å«â€œç²—æ’â€ï¼Œé€Ÿåº¦å¿«ï¼Œä½†ä¸å¤Ÿå‡†ã€‚</span>
</code></pre>
<p>7. é‡æ’åº (Rerank)</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- è¿™æ˜¯æå‡æ•ˆæœçš„ç§˜å¯†æ­¦å™¨ï¼</span>

<span class="hljs-deletion">- å‘é‡æ£€ç´¢æ˜¯åŸºäºæ¨¡ç³Šçš„å‡ ä½•è·ç¦»ï¼Œæœ‰æ—¶å€™ä¼šæ‰¾å›æ¥ä¸€äº›â€œä¼¼æ˜¯è€Œéâ€çš„ä¸œè¥¿ã€‚</span>

<span class="hljs-deletion">- Rerank æ¨¡å‹ï¼šè¿™æ˜¯ä¸€ä¸ªä¸“é—¨çš„æ¨¡å‹ï¼ˆCross-Encoderï¼‰ã€‚å®ƒä¼šæŠŠè¿™ Top 50 ä¸ªç‰‡æ®µï¼Œå’Œç”¨æˆ·çš„é—®é¢˜æ”¾åœ¨ä¸€èµ·ï¼Œç²¾è¯»ä¸€éï¼Œç„¶åæ‰“åˆ†ã€‚</span>

<span class="hljs-deletion">- å®ƒä¼šå‘Šè¯‰ä½ ï¼šâ€œç¬¬ 1 ä¸ªç‰‡æ®µç›¸å…³æ€§ 99%ï¼Œç¬¬ 40 ä¸ªç‰‡æ®µå…¶å®åªæœ‰ 10%ã€‚â€</span>

<span class="hljs-deletion">- ç„¶åæˆ‘ä»¬åªå– Top 3 ç»™å¤§æ¨¡å‹ã€‚</span>
</code></pre>
<p>8. æç¤ºè¯ç»„è£… (Prompt Engineering)</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">-</span> ä½ ä¸èƒ½åªç»™å¤§æ¨¡å‹ <span class="hljs-number">3</span> ä¸ªç‰‡æ®µ<span class="hljs-operator">ã€‚</span>ä½ éœ€è¦æŠŠå®ƒä»¬åŒ…è£…æˆè¯æœ¯ï¼š

<span class="hljs-operator">-</span> <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹ã€‚è¯·æ ¹æ®ä»¥ä¸‹å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚å¦‚æœèµ„æ–™é‡Œæ²¡æœ‰ï¼Œå°±è¯´ä¸çŸ¥é“ã€‚<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span> å‚è€ƒèµ„æ–™ï¼š[ç‰‡æ®µ1]...[ç‰‡æ®µ2]...<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span> ç”¨æˆ·é—®é¢˜ï¼šæ€ä¹ˆæŠ¥é”€ï¼Ÿ"</span>
</code></pre>
<p>9. ã€è¯å‘é‡å¤§ã€‘æ¨¡å‹ ï¼ˆå¦‚ DeepSeekï¼‰</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- å¤§æ¨¡å‹é˜…è¯»ä¸Šé¢çš„ Promptï¼Œæœ€åç”Ÿæˆç­”æ¡ˆã€‚</span>
</code></pre>
<p><img src="https://pic.zhangshichun.top/pic/20260207180103640.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">å››ï¼ŒRerank æ¨¡å‹æ˜¯å•¥ï¼Ÿèƒ½å…ˆä¸æ•´å—ï¼Ÿ</h3>
<p>èƒ½çš„ï¼Œå…„å¼Ÿï¼Œèƒ½çš„ï¼</p>
<p>ä¸Šç¬¬ä¸ƒæ­¥ã€é‡æ’åº (Rerank)ã€‘åœ¨å­¦ä¹ é˜¶æ®µï¼Œä»¥åŠåœ¨æ–‡æ¡£è§„æ¨¡ä¸å¤§çš„é˜¶æ®µï¼Œå¯ä»¥å…ˆä¸åšã€‚</p>
<p>ç­‰åˆ°æ–‡æ¡£è§„æ¨¡è¾¾åˆ°ä¸€å®šè§„æ¨¡åï¼Œå†å¢åŠ è¿™ä¸ªè°ƒä¼˜é˜¶æ®µå³å¯ã€‚</p>
<p>è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹ï¼ŒRerank æ˜¯é™¤ã€è¯å‘é‡ã€‘å’Œã€å¥å‘é‡ã€‘ä»¥å¤–ï¼Œç¬¬ä¸‰ç§æœ€ä¸ºä¸»æµå¸¸è§çš„çº¯è¯­è¨€å¤§æ¨¡å‹ã€‚</p>
<p>å®ƒå­˜å‚¨çš„ä¸æ˜¯å‘é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªè¯„åˆ†ï¼Œå®ƒæœ€æ“…é•¿çš„é¢†åŸŸå°±æ˜¯åˆ¤æ–­ä¸€æ®µæ–‡æœ¬å’Œå¦ä¸€æ®µæ–‡æœ¬ä¹‹é—´æ˜¯å¦å­˜åœ¨è¾ƒå¼ºå› æœå…³ç³»ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬å…ˆç»•å¼€å®ƒï¼Œå¦åˆ™ä¸€æ¬¡æ€§æ¥è§¦çš„å·¥å…·æ¦‚å¿µå¤ªå¤šå®¹æ˜“å¼„æ··ã€‚</p>
<h3 data-id="heading-5">äº”ï¼Œé‡è¦é™åˆ¶</h3>
<p>å½“ä½ è®­ç»ƒè‡ªå·±çš„ã€å¥å‘é‡ã€‘æ•°æ®æ—¶æ˜¯ï¼Œä½¿ç”¨äº†ä¸€ä¸ªAç‰ˆæœ¬çš„ã€å¥å‘é‡ã€‘Bæ¨¡å‹ï¼Œå¦‚bge-m3æ¨¡å‹ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“ä½ æ‹¿é—®é¢˜æ¢ã€å¥å‘é‡ã€‘åæ ‡æ—¶ï¼Œä¹Ÿå¿…é¡»ç”¨ç‰ˆæœ¬å®Œå…¨ä¸€æ ·çš„Aç‰ˆæœ¬çš„Bæ¨¡å‹æ¥æ¢å–ã€å¥å‘é‡ã€‘åæ ‡ã€‚</p>
<p>è¿™ä¸€ç‚¹æ˜¯å¿…é¡»éµå®ˆçš„ã€‚</p>
<h3 data-id="heading-6">ä¸‹ä¸€æ­¥é¢„å‘Š</h3>
<p>ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†å¼€å§‹æ­£å¼åˆ¶ä½œä¸€ä¸ª <code>RAG</code> â€œæ£€ç´¢å¢å¼ºç”Ÿæˆâ€ç³»ç»Ÿã€‚</p>
<p>æ•¬è¯·æœŸå¾…ï¼</p>
<p><img src="https://pic.zhangshichun.top/pic/ScreenShot_2026-01-26_082327_821.png" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[KubePiï¼šå¼€æºKuberneteså¯è§†åŒ–ç®¡ç†é¢æ¿ï¼Œè®©é›†ç¾¤ç®¡ç†å¦‚æ­¤ç®€å•]]></title>    <link>https://juejin.cn/post/7604863528945106959</link>    <guid>https://juejin.cn/post/7604863528945106959</guid>    <pubDate>2026-02-11T00:24:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604863528945106959" data-draft-id="7540901989074518051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KubePiï¼šå¼€æºKuberneteså¯è§†åŒ–ç®¡ç†é¢æ¿ï¼Œè®©é›†ç¾¤ç®¡ç†å¦‚æ­¤ç®€å•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-11T00:24:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YL_jia"/> <meta itemprop="url" content="https://juejin.cn/user/1467226241383211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KubePiï¼šå¼€æºKuberneteså¯è§†åŒ–ç®¡ç†é¢æ¿ï¼Œè®©é›†ç¾¤ç®¡ç†å¦‚æ­¤ç®€å•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1467226241383211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YL_jia
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:24:30.000Z" title="Wed Feb 11 2026 00:24:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">KubePiï¼šå¼€æºKuberneteså¯è§†åŒ–ç®¡ç†é¢æ¿ï¼Œè®©é›†ç¾¤ç®¡ç†å¦‚æ­¤ç®€å•</h2>
<blockquote>
<p>åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼ŒKuberneteså·²æˆä¸ºå®¹å™¨ç¼–æ’çš„äº‹å®æ ‡å‡†ï¼Œä½†å…¶å¤æ‚æ€§å´è®©è®¸å¤šå¼€å‘è€…æœ›è€Œå´æ­¥ã€‚<strong>KubePi</strong>ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„å¼€æºKuberneteså¯è§†åŒ–ç®¡ç†é¢æ¿ï¼Œæ­£ä»¥å…¶ç®€æ´çš„è®¾è®¡ä¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œè®©é›†ç¾¤ç®¡ç†å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€KubePiæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ éœ€è¦å®ƒï¼Ÿ</h3>
<h4 data-id="heading-2">1.1 è¯ç”ŸèƒŒæ™¯ï¼šç®€åŒ–Kubernetesç®¡ç†çš„åˆ©å™¨</h4>
<p>Kubernetesè™½ç„¶å¼ºå¤§ï¼Œä½†å…¶<strong>å‘½ä»¤è¡Œæ“ä½œçš„å¤æ‚æ€§</strong>å’Œ<strong>YAMLæ–‡ä»¶çš„ç¹çæ€§</strong>ä¸€ç›´æ˜¯å¼€å‘è€…å’Œè¿ç»´äººå‘˜çš„ç—›ç‚¹ã€‚KubePiç”±KubeOperatorå›¢é˜Ÿå¼€å‘ï¼Œæ—¨åœ¨é€šè¿‡<strong>å›¾å½¢åŒ–ç•Œé¢</strong>ç®€åŒ–Kubernetesé›†ç¾¤çš„éƒ¨ç½²ã€ç›‘æ§å’Œç»´æŠ¤ï¼Œè®©å³ä½¿ä¸å…·å¤‡æ·±åšKubernetesçŸ¥è¯†çš„ç”¨æˆ·ä¹Ÿèƒ½è½»æ¾ç®¡ç†é›†ç¾¤ã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒä»·å€¼ï¼šå¯è§†åŒ–å¤šé›†ç¾¤ç®¡ç†</h4>
<p>KubePiå…è®¸ç®¡ç†å‘˜å¯¼å…¥å¤šä¸ªKubernetesé›†ç¾¤ï¼Œå¹¶é€šè¿‡ç²¾ç»†çš„æƒé™æ§åˆ¶å°†ä¸åŒé›†ç¾¤ï¼ˆClusterï¼‰å’Œå‘½åç©ºé—´ï¼ˆNamespaceï¼‰çš„ç®¡ç†æƒé™åˆ†é…ç»™æŒ‡å®šç”¨æˆ·ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>å¼€å‘äººå‘˜</strong>ï¼šå¯ä»¥ç®¡ç†é›†ç¾¤ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºå¹¶è¿›è¡Œæ•…éšœæ’æŸ¥ï¼Œè€Œæ— éœ€æ·±å…¥æŒæ¡å¤æ‚çš„Kuberneteså‘½ä»¤ã€‚</li>
<li><strong>è¿ç»´äººå‘˜</strong>ï¼šèƒ½å¤Ÿåœ¨ä¸€ä¸ªç»Ÿä¸€çš„ç•Œé¢ä¸Šç›‘æ§å’Œç®¡ç†æ‰€æœ‰é›†ç¾¤èµ„æºï¼Œå¤§å¹…æå‡æ•ˆç‡ã€‚</li>
<li><strong>ä¼ä¸šIT</strong>ï¼šå®ç°å¯¹è·¨åœ°åŸŸã€è·¨äº‘çš„Kubernetesé›†ç¾¤è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œæå‡è¿ç»´æ•ˆç‡ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€æ ¸å¿ƒåŠŸèƒ½ç‰¹ç‚¹ï¼šä¸æ­¢äºå¯è§†åŒ–</h3>
<p>KubePiçš„é­…åŠ›è¿œä¸æ­¢æä¾›ä¸€ä¸ªWebç•Œé¢é‚£ä¹ˆç®€å•ï¼Œå®ƒé›†æˆäº†å¤šç§å¼ºå¤§åŠŸèƒ½ï¼š</p>
<h4 data-id="heading-5">2.1 å¤šé›†ç¾¤ç»Ÿä¸€ç®¡ç†</h4>
<ul>
<li><strong>ä¸€é”®å¯¼å…¥</strong>ï¼šæ”¯æŒé€šè¿‡Tokenã€KubeConfigå’Œè¯ä¹¦ä¸‰ç§æ–¹å¼å¯¼å…¥ç°æœ‰Kubernetesé›†ç¾¤ï¼Œå®ç°å¯¹é›†ç¾¤çš„é›¶ä¾µå…¥ã€‚</li>
<li><strong>é›†ä¸­æ§åˆ¶</strong>ï¼šåœ¨å•ä¸€æ§åˆ¶å°ä¸­ç®¡ç†å¤šä¸ªé›†ç¾¤çš„èµ„æºï¼Œæ— éœ€åœ¨ä¸åŒç¯å¢ƒé—´åˆ‡æ¢ã€‚</li>
</ul>
<h4 data-id="heading-6">2.2 ç²¾ç»†åŒ–çš„æƒé™æ§åˆ¶</h4>
<ul>
<li><strong>RBACé›†æˆ</strong>ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼Œå¯ä»¥å°†æƒé™ç²¾ç¡®åˆ°é›†ç¾¤æˆ–å‘½åç©ºé—´çº§åˆ«ã€‚</li>
<li><strong>ç”¨æˆ·éš”ç¦»</strong>ï¼šç¡®ä¿ä¸åŒç”¨æˆ·æˆ–å›¢é˜Ÿåªèƒ½è®¿é—®å…¶è¢«æˆæƒçš„èµ„æºï¼Œä¿éšœå®‰å…¨æ€§ã€‚</li>
</ul>
<h4 data-id="heading-7">2.3 ç›´è§‚çš„èµ„æºç®¡ç†</h4>
<ul>
<li><strong>å¯è§†åŒ–æ“ä½œ</strong>ï¼šä»¥è¡¨å•å½¢å¼æ›¿ä»£å¤æ‚çš„YAMLæ–‡ä»¶ï¼Œç®€åŒ–Deploymentã€Serviceã€ConfigMapç­‰èµ„æºçš„åˆ›å»ºå’Œç®¡ç†æµç¨‹ã€‚</li>
<li><strong>å®æ—¶ç›‘æ§</strong>ï¼šå†…ç½®èµ„æºç›‘æ§åŠŸèƒ½ï¼Œå®æ—¶å±•ç¤ºNodeã€Podã€Serviceç­‰å…³é”®ç»„ä»¶çš„çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡ã€‚</li>
</ul>
<h4 data-id="heading-8">2.4 å‹å¥½çš„ç”¨æˆ·ç•Œé¢</h4>
<ul>
<li><strong>ç°ä»£åŒ–UI</strong>ï¼šåŸºäºVue.jså’ŒFIT2CLOUD UIç»„ä»¶åº“æ„å»ºï¼Œæä¾›å“åº”è¿…é€Ÿã€ç¾è§‚æ˜“ç”¨çš„æ“ä½œä½“éªŒã€‚</li>
<li><strong>æ“ä½œå®¡è®¡</strong>ï¼šè®°å½•ç”¨æˆ·æ“ä½œæ—¥å¿—ï¼Œæ»¡è¶³ä¼ä¸šå®‰å…¨å®¡è®¡éœ€æ±‚ã€‚</li>
</ul>
<h4 data-id="heading-9">2.5 å¼€ç®±å³ç”¨ä¸é«˜æ‰©å±•æ€§</h4>
<ul>
<li><strong>å¿«é€Ÿéƒ¨ç½²</strong>ï¼šé€šè¿‡Dockerå®¹å™¨å³å¯å¿«é€Ÿéƒ¨ç½²ï¼Œæå¤§é™ä½äº†è¿ç»´é—¨æ§›ã€‚</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šè®¾è®¡ä¸Šè€ƒè™‘äº†å¯æ‰©å±•æ€§ï¼Œå…è®¸é€šè¿‡æ’ä»¶æˆ–è‡ªå®šä¹‰åŠŸèƒ½æ¥æ‰©å±•å…¶èƒ½åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-10">ä¸‰ã€å®‰è£…éƒ¨ç½²ï¼šå¤šç§æ–¹å¼å¿«é€Ÿä¸Šæ‰‹</h3>
<p>KubePiæä¾›äº†çµæ´»çš„éƒ¨ç½²æ–¹å¼ï¼Œé€‚åˆä»ä¸ªäººä½“éªŒåˆ°ç”Ÿäº§ç¯å¢ƒçš„å„ç§åœºæ™¯ã€‚</p>
<h4 data-id="heading-11">3.1 Dockerå¿«é€Ÿéƒ¨ç½²ï¼ˆé€‚åˆä½“éªŒå’Œæµ‹è¯•ï¼‰</h4>
<p>å¯¹äºæƒ³è¦å¿«é€Ÿä½“éªŒKubePiçš„ç”¨æˆ·ï¼Œä¸€æ¡å‘½ä»¤å³å¯å¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo docker run --privileged -d --restart=unless-stopped -p 80:80 1panel/kubepi
</code></pre>
<p>å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://&lt;ä½ çš„æœåŠ¡å™¨IP&gt;:80</code>ï¼Œä½¿ç”¨é»˜è®¤ç”¨æˆ·å <code>admin</code> å’Œå¯†ç  <code>kubepi</code> å³å¯ç™»å½•ã€‚</p>
<h4 data-id="heading-12">3.2 DockeræŒä¹…åŒ–éƒ¨ç½²ï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰</h4>
<p>ä¸ºé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œå»ºè®®ç”Ÿäº§ç¯å¢ƒæŒ‚è½½æŒä¹…åŒ–æ•°æ®å·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæŒä¹…åŒ–ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p /opt/kubepi
<span class="hljs-comment"># å®‰è£…å¹¶æŒ‚è½½å·</span>
sudo docker run --privileged -d -v /opt/kubepi:/var/lib/kubepi --restart=unless-stopped -p 80:80 kubeoperator/kubepi-server
</code></pre>
<h4 data-id="heading-13">3.3 Kubernetesä¸­éƒ¨ç½²ï¼ˆåŸç”Ÿæ–¹å¼ï¼‰</h4>
<p>å¦‚æœä½ å¸Œæœ›åœ¨ä¸€ä¸ªKubernetesé›†ç¾¤ä¸­éƒ¨ç½²KubePiæ¥ç®¡ç†å…¶ä»–é›†ç¾¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€éƒ¨ç½²</span>
sudo kubectl apply -f https://raw.githubusercontent.com/KubeOperator/KubePi/master/docs/deploy/kubectl/kubepi.yaml

<span class="hljs-comment"># æŒä¹…åŒ–éƒ¨ç½²ï¼ˆéœ€è¦æ›¿æ¢åˆ›å»ºpvcæ—¶ä½¿ç”¨çš„storageClassï¼‰</span>
sudo kubectl apply -f https://raw.githubusercontent.com/KubeOperator/KubePi/master/docs/deploy/kubectl/kubepi-pvc.yaml
</code></pre>
<p>éƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å–è®¿é—®åœ°å€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è·å–Node IP</span>
<span class="hljs-built_in">export</span> NODE_IP=$(kubectl get nodes -o jsonpath=<span class="hljs-string">"{.items[0].status.addresses[0].address}"</span>)
<span class="hljs-comment"># è·å–NodePort</span>
<span class="hljs-built_in">export</span> NODE_PORT=$(kubectl -n kube-system get services kubepi -o jsonpath=<span class="hljs-string">"{.spec.ports[0].nodePort}"</span>)
<span class="hljs-comment"># è·å–Address</span>
<span class="hljs-built_in">echo</span> http://<span class="hljs-variable">$NODE_IP</span>:<span class="hljs-variable">$NODE_PORT</span>
</code></pre>
<h4 data-id="heading-14">3.4 åœ¨åä¸ºäº‘Flexusäº‘æœåŠ¡å™¨Xå®ä¾‹ä¸Šéƒ¨ç½²ï¼ˆç‰¹å®šç¯å¢ƒç¤ºä¾‹ï¼‰</h4>
<p>æœ‰å¼€å‘è€…åˆ†äº«äº†åœ¨<strong>åä¸ºäº‘Flexusäº‘æœåŠ¡å™¨Xå®ä¾‹</strong>ä¸Šï¼ŒåŸºäº<strong>openEuler 22.03 LTS</strong>æ“ä½œç³»ç»Ÿéƒ¨ç½²KubePiçš„å®è·µã€‚è¿™ç§éƒ¨ç½²æ–¹å¼è¡¨æ˜KubePiåœ¨ä¸åŒçš„äº‘ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿä¸Šå…·æœ‰è‰¯å¥½çš„é€‚åº”æ€§ã€‚</p>
<h3 data-id="heading-15">å››ã€ä½¿ç”¨æ–¹æ³•ï¼šå¿«é€Ÿä¸Šæ‰‹KubePi</h3>
<h4 data-id="heading-16">4.1 åˆå§‹ç™»å½•ä¸é›†ç¾¤å¯¼å…¥</h4>
<ol>
<li><strong>ç™»å½•ç³»ç»Ÿ</strong>ï¼šè®¿é—®éƒ¨ç½²å¥½çš„KubePiåœ°å€ï¼Œä½¿ç”¨é»˜è®¤å‡­è¯ï¼ˆadmin/kubepiï¼‰ç™»å½•ã€‚</li>
<li><strong>å¯¼å…¥é›†ç¾¤</strong>ï¼š
<ul>
<li>åœ¨ç®¡ç†ç•Œé¢ä¸­é€‰æ‹©"é›†ç¾¤ç®¡ç†"ã€‚</li>
<li>ç‚¹å‡»"å¯¼å…¥é›†ç¾¤"ï¼Œæä¾›ç°æœ‰é›†ç¾¤çš„KubeConfigæ–‡ä»¶æˆ–Tokenã€‚</li>
<li>å»ºè®®ä½¿ç”¨å…·æœ‰é›†ç¾¤ç®¡ç†æƒé™çš„KubeConfigæ–‡ä»¶ä»¥ç¡®ä¿å®Œæ•´çš„åŠŸèƒ½ä½“éªŒã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-17">4.2 ç”¨æˆ·ä¸æƒé™ç®¡ç†</h4>
<ol>
<li><strong>åˆ›å»ºç”¨æˆ·</strong>ï¼šåœ¨"ç”¨æˆ·ç®¡ç†"ä¸­åˆ›å»ºæ–°ç”¨æˆ·ï¼Œä¸ºå…¶è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
<li><strong>åˆ†é…æƒé™</strong>ï¼šé€šè¿‡"æƒé™ç®¡ç†"åŠŸèƒ½ï¼Œå°†ç‰¹å®šé›†ç¾¤æˆ–å‘½åç©ºé—´çš„æƒé™åˆ†é…ç»™ç›¸åº”ç”¨æˆ·ï¼Œå®ç°ç²¾ç»†åŒ–çš„è®¿é—®æ§åˆ¶ã€‚</li>
</ol>
<h4 data-id="heading-18">4.3 èµ„æºç®¡ç†ä¸ç›‘æ§</h4>
<ol>
<li><strong>æŸ¥çœ‹é›†ç¾¤æ¦‚è§ˆ</strong>ï¼šç™»å½•åï¼Œåœ¨ä»ªè¡¨ç›˜ä¸Šå¯ä»¥ç›´è§‚åœ°æŸ¥çœ‹å·²å¯¼å…¥é›†ç¾¤çš„æ•´ä½“çŠ¶æ€ã€èµ„æºä½¿ç”¨æƒ…å†µï¼ˆå¦‚CPUã€å†…å­˜ä½¿ç”¨ç‡ï¼‰ä»¥åŠæœ€è¿‘äº‹ä»¶ã€‚</li>
<li><strong>ç®¡ç†èµ„æº</strong>ï¼šé€šè¿‡å·¦ä¾§èœå•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†Nodeã€Podã€Serviceã€PVã€ConfigMapã€Roleç­‰Kubernetesèµ„æºã€‚</li>
<li><strong>æ•…éšœæ’æŸ¥</strong>ï¼šåˆ©ç”¨é›†æˆçš„Web KubectlåŠŸèƒ½æˆ–æ—¥å¿—æŸ¥çœ‹å™¨ï¼Œå¯ä»¥ç›´æ¥åœ¨ç•Œé¢ä¸Šè¿›è¡Œæ•…éšœè¯Šæ–­å’Œæ’æŸ¥ã€‚</li>
</ol>
<h3 data-id="heading-19">äº”ã€ä¼ä¸šå®æˆ˜æ¡ˆä¾‹ï¼šKubePiåœ¨ä¸åŒåœºæ™¯çš„åº”ç”¨</h3>
<h4 data-id="heading-20">5.1 ä¸­å°ä¼ä¸šç»Ÿä¸€ç®¡ç†å¹³å°</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šä¸­å°å‹ä¼ä¸šå¯èƒ½ç¼ºä¹ä¸“ä¸šçš„Kubernetesè¿ç»´äººå‘˜ï¼Œä½†éœ€è¦é«˜æ•ˆç®¡ç†å…¶å®¹å™¨åŒ–åº”ç”¨ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šéƒ¨ç½²KubePiä½œä¸ºç»Ÿä¸€çš„è§†è§‰åŒ–ç®¡ç†å¹³å°ï¼Œè®©å¼€å‘äººå‘˜å’Œæœ‰é™çš„è¿ç»´äººå‘˜èƒ½å¤Ÿé€šè¿‡ç›´è§‚çš„ç•Œé¢è½»æ¾ç®¡ç†åº”ç”¨éƒ¨ç½²ã€ç›‘æ§é›†ç¾¤çŠ¶æ€ï¼Œæ— éœ€æ·±å…¥è®°å¿†å¤æ‚çš„Kuberneteså‘½ä»¤ã€‚</p>
<h4 data-id="heading-21">5.2 æ•™è‚²åŸ¹è®­ç¯å¢ƒ</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæ•™å­¦æœºæ„éœ€è¦è®©å­¦ç”Ÿèƒ½å¤Ÿå¿«é€Ÿç†è§£å’Œæ“ä½œKubernetesï¼Œä½†åŸç”Ÿç•Œé¢è¿‡äºå¤æ‚ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨æ•™è‚²ç¯å¢ƒä¸­ä½¿ç”¨KubePiï¼Œä¸ºå­¦ç”Ÿæä¾›ä¸€ä¸ªç›´è§‚çš„å­¦ä¹ å’Œå®è·µå¹³å°ï¼Œé™ä½å­¦ä¹ æ›²çº¿ï¼Œè®©å­¦ç”Ÿæ›´ä¸“æ³¨äºç†è§£Kubernetesçš„æ ¸å¿ƒæ¦‚å¿µè€Œéå‘½ä»¤è¡Œæ“ä½œã€‚</p>
<h4 data-id="heading-22">5.3 å¤šé›†ç¾¤ã€å¤šå›¢é˜Ÿåä½œç¯å¢ƒ</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæ‹¥æœ‰å¤šä¸ªKubernetesé›†ç¾¤çš„ä¼ä¸šéœ€è¦å®ç°ç»Ÿä¸€çš„æƒé™æ§åˆ¶å’Œå›¢é˜Ÿåä½œï¼Œä¸åŒå›¢é˜Ÿå¯èƒ½éœ€è¦è®¿é—®ä¸åŒçš„é›†ç¾¤æˆ–å‘½åç©ºé—´ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåˆ©ç”¨KubePiçš„<strong>å¤šé›†ç¾¤æ”¯æŒ</strong>å’Œ<strong>ç»†ç²’åº¦æƒé™æ§åˆ¶</strong>åŠŸèƒ½ï¼Œç®¡ç†å‘˜å¯ä»¥åœ¨ä¸€ç«™å¼å¹³å°ä¸Šç®¡ç†æ‰€æœ‰é›†ç¾¤ï¼Œå¹¶å®‰å…¨åœ°å°†ä¸åŒé›†ç¾¤æˆ–å‘½åç©ºé—´çš„ç®¡ç†æƒé™åˆ†é…ç»™ç›¸åº”çš„å›¢é˜Ÿæˆ–ç”¨æˆ·ï¼Œæ—¢æå‡äº†ç®¡ç†æ•ˆç‡ï¼Œåˆç¡®ä¿äº†å®‰å…¨æ€§ã€‚</p>
<h3 data-id="heading-23">å…­ã€KubePiçš„ç”Ÿæ€ä¸é›†æˆ</h3>
<p>KubePiå¯ä»¥ä¸ä¸€ç³»åˆ—ä¼˜ç§€çš„å¼€æºå·¥å…·é›†æˆï¼Œå½¢æˆæ›´å¼ºå¤§çš„äº‘åŸç”Ÿç®¡ç†ç”Ÿæ€ç³»ç»Ÿï¼š</p>
<ul>
<li><strong>1Panel</strong>ï¼šä¸€ä¸ªç°ä»£åŒ–ã€å¼€æºçš„LinuxæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ï¼Œä¸KubePiç»“åˆå¯ä»¥å®ç°æ›´é«˜æ•ˆçš„æœåŠ¡å™¨å’Œé›†ç¾¤ç®¡ç†ã€‚</li>
<li><strong>JumpServer</strong>ï¼šå¹¿å—æ¬¢è¿çš„å¼€æºå ¡å’æœºï¼Œç”¨äºç®¡ç†å’Œç›‘æ§æœåŠ¡å™¨è®¿é—®ï¼Œä¸KubePiç»“åˆå¯è¿›ä¸€æ­¥æå‡é›†ç¾¤çš„å®‰å…¨æ€§å’Œç®¡ç†æ•ˆç‡ã€‚</li>
<li><strong>DataEase</strong>ï¼šäººäººå¯ç”¨çš„å¼€æºæ•°æ®å¯è§†åŒ–åˆ†æå·¥å…·ï¼Œå¯ç”¨äºKubernetesé›†ç¾¤æ•°æ®çš„å®æ—¶å¯è§†åŒ–åˆ†æã€‚</li>
<li><strong>MeterSphere</strong>ï¼šå¼€æºæŒç»­æµ‹è¯•å¹³å°ï¼Œæ”¯æŒKubernetesç¯å¢ƒä¸­åº”ç”¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€‚</li>
</ul>
<h3 data-id="heading-24">ä¸ƒã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆé€‰æ‹©KubePiï¼Ÿ</h3>
<p>åœ¨Kuberneteså¯è§†åŒ–ç®¡ç†å·¥å…·çš„é€‰æ‹©ä¸­ï¼ŒKubePiå‡­å€Ÿå…¶ä»¥ä¸‹çªå‡ºä¼˜ç‚¹è„±é¢–è€Œå‡ºï¼š</p>
<ol>
<li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šç›´è§‚çš„ç•Œé¢è®¾è®¡æ˜¾è‘—é™ä½äº†å­¦ä¹ æˆæœ¬ï¼Œå³ä½¿æ˜¯å¯¹Kubernetesä¸å¤ªç†Ÿæ‚‰çš„ç”¨æˆ·ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹æ“ä½œã€‚</li>
<li><strong>åŠŸèƒ½å…¨é¢</strong>ï¼šä»å¤šé›†ç¾¤ç®¡ç†ã€æƒé™æ§åˆ¶åˆ°èµ„æºç›‘æ§å’Œæ•…éšœæ’æŸ¥ï¼Œè¦†ç›–äº†Kubernetesæ—¥å¸¸ç®¡ç†çš„æ ¸å¿ƒéœ€æ±‚ã€‚</li>
<li><strong>éƒ¨ç½²çµæ´»</strong>ï¼šæ”¯æŒDockerå¿«é€Ÿéƒ¨ç½²å’ŒKubernetesåŸç”Ÿéƒ¨ç½²ï¼Œé€‚åº”å„ç§ç¯å¢ƒéœ€æ±‚ã€‚</li>
<li><strong>å®‰å…¨å¯é </strong>ï¼šæä¾›åŸºäºRBACçš„ç²¾ç»†æƒé™æ§åˆ¶å’Œæ“ä½œå®¡è®¡ï¼Œæ»¡è¶³ä¼ä¸šçº§å®‰å…¨è¦æ±‚ã€‚</li>
<li><strong>ç¤¾åŒºæ´»è·ƒ</strong>ï¼šä½œä¸ºå¼€æºé¡¹ç›®ï¼Œæ‹¥æœ‰æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒï¼Œèƒ½å¤ŸæŒç»­è·å¾—åŠŸèƒ½æ›´æ–°å’ŒæŠ€æœ¯æ”¯æŒã€‚</li>
</ol>
<p>æ— è®ºæ˜¯ä¸­å°ä¼ä¸šã€æ•™è‚²æœºæ„è¿˜æ˜¯éœ€è¦ç®¡ç†å¤æ‚å¤šé›†ç¾¤ç¯å¢ƒçš„å¤§å‹ä¼ä¸šï¼ŒKubePiéƒ½æä¾›äº†ä¸€ä¸ªå€¼å¾—å°è¯•çš„é«˜æ•ˆè§£å†³æ–¹æ¡ˆã€‚é€šè¿‡å°†å¤æ‚çš„Kuberneteså‘½ä»¤å’ŒYAMLæ–‡ä»¶è½¬åŒ–ä¸ºç›´è§‚çš„å¯è§†åŒ–æ“ä½œï¼Œå®ƒçœŸæ­£å®ç°äº†è®©Kubernetesé›†ç¾¤ç®¡ç†"<strong>äººäººå¯ç”¨</strong>"çš„ç›®æ ‡ã€‚</p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKubeOperator%2FKubePi" target="_blank" title="https://github.com/KubeOperator/KubePi" ref="nofollow noopener noreferrer">GitHub - KubeOperator/KubePi</a>
<strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKubeOperator%2FKubePi%2Fwiki%2F" target="_blank" title="https://github.com/KubeOperator/KubePi/wiki/" ref="nofollow noopener noreferrer">KubePi Wiki</a></p>
<blockquote>
<p>å°è¯•ä¸€ä¸‹KubePiï¼Œå¼€å¯æ‚¨é«˜æ•ˆã€ä¾¿æ·çš„Kubernetesç®¡ç†ä¹‹æ—…å§ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android å¤šå±‚æ¶æ„ä¸‹å¦‚ä½•ä¼˜é›…åœ°å¤„ç† API å“åº”ä¸å¼‚å¸¸]]></title>    <link>https://juejin.cn/post/7605049329778475049</link>    <guid>https://juejin.cn/post/7605049329778475049</guid>    <pubDate>2026-02-11T00:33:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605049329778475049" data-draft-id="7604741630448779298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android å¤šå±‚æ¶æ„ä¸‹å¦‚ä½•ä¼˜é›…åœ°å¤„ç† API å“åº”ä¸å¼‚å¸¸"/> <meta itemprop="keywords" content="Android,Kotlin,Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-11T00:33:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bqliang"/> <meta itemprop="url" content="https://juejin.cn/user/941602739853453"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android å¤šå±‚æ¶æ„ä¸‹å¦‚ä½•ä¼˜é›…åœ°å¤„ç† API å“åº”ä¸å¼‚å¸¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/941602739853453/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bqliang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:33:53.000Z" title="Wed Feb 11 2026 00:33:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android å¤šå±‚æ¶æ„ä¸‹å¦‚ä½•ä¼˜é›…åœ°å¤„ç† API å“åº”ä¸å¼‚å¸¸</h2>
<blockquote>
<p>åŸæ–‡ï¼šã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoveletter.skydoves.me%2Fpreview%2Farticles%2Fsandwich" target="_blank" title="https://doveletter.skydoves.me/preview/articles/sandwich" ref="nofollow noopener noreferrer">Scalable API Response Handling Across Multi Layered Architectures with Sandwich</a>ã€‹â€”â€”<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fskydoves" target="_blank" title="https://github.com/skydoves" ref="nofollow noopener noreferrer">Jaewoong Eum</a></p>
<p>æœ‰åˆ æ”¹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b77013d657246e59224a8b9a47170b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnFsaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374836&amp;x-signature=OXHPyEWOR2GS%2BYLfIDFyOZpBG6E%3D" alt="banner.png" loading="lazy"/></p>
<p>åœ¨å¦‚ä»Š MVVM å’Œ MVI å½“é“çš„ Android å¼€å‘ä¸­ï¼Œå¤šå±‚æ¶æ„å·²æ˜¯æ ‡é…ã€‚æ•°æ®éœ€è¦åœ¨ Data Sourceã€Repositoryã€Domain (UseCase) å’Œ ViewModel ä¹‹é—´åƒæ¥åŠ›æ£’ä¸€æ ·å±‚å±‚ä¼ é€’ï¼Œæœ€ç»ˆæŠµè¾¾ UIã€‚è¿™ç§åˆ†å±‚è®¾è®¡ç¡®å®å®ç°äº†ä»£ç è§£è€¦ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªæ£˜æ‰‹éš¾é¢˜ï¼š<strong>å½“ API å“åº”ï¼ˆç‰¹åˆ«æ˜¯å„ç§å¼‚å¸¸å’Œé”™è¯¯ï¼‰éœ€è¦è·¨è¶Šé‡é‡å±‚çº§æ—¶ï¼Œè¯¥å¦‚ä½•ä¼˜é›…åœ°å¤„ç†ï¼Ÿ</strong></p>
<p>ç»å¤§å¤šæ•°å¼€å‘è€…çš„è§£å†³æ–¹æ¡ˆéƒ½å¾ˆâ€œç®€å•ç²—æš´â€ï¼šç›´æ¥ç”¨ <code>try-catch</code> å—åŒ…è£¹ API è°ƒç”¨ï¼Œä¸€æ—¦å‡ºé”™å°±è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ï¼ˆFallbackï¼‰ã€‚åœ¨å°é¡¹ç›®é‡Œï¼Œè¿™ç§åšæ³•æˆ–è®¸è¿˜èƒ½å‡‘åˆï¼Œä½†éšç€ API æ¥å£æ•°é‡çš„è†¨èƒ€ï¼Œå®ƒçš„å¼Šç«¯å°±ä¼šè¶Šæ¥è¶Šæ˜æ˜¾ï¼šç»“æœå……æ»¡äº†æ­§ä¹‰ï¼Œåˆ°å¤„éƒ½æ˜¯é‡å¤çš„æ ·æ¿ä»£ç ï¼Œä¸‹æ¸¸å±‚çº§æ€¥éœ€çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ä¹Ÿè¢«ä¸¢å¤±äº†ã€‚</p>
<p>è¯•æƒ³ä¸€ä¸‹ï¼Œä½ åœ¨ ViewModel é‡Œæ‹¿åˆ°ä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œå´æ ¹æœ¬åˆ†ä¸æ¸…è¿™åˆ°åº•æ˜¯â€œæœåŠ¡ç«¯ç¡®å®æ²¡æ•°æ®â€è¿˜æ˜¯â€œç½‘ç»œè¯·æ±‚æŒ‚äº†â€ï¼›Repository å±‚æ— æ„é—´â€œåæ‰â€äº†å…³é”®çš„æŠ¥é”™ç»†èŠ‚ï¼›è€Œæ•°æ®æºå±‚åˆ™æ˜¯æŠŠåŒæ ·çš„é”™è¯¯å¤„ç†ä»£ç å¤åˆ¶ç²˜è´´äº†å‡ åéã€‚</p>
<p>æœ¬æ–‡æˆ‘ä»¬å°†æ·±å…¥èŠä¸€èŠåœ¨å¤šå±‚æ¶æ„ä¸­å¤„ç† Retrofit API è°ƒç”¨æ—¶ä¼šé‡åˆ°çš„è¿™äº›ç—›ç‚¹ï¼Œå‰–æä¸ºä»€ä¹ˆä¼ ç»Ÿåšæ³•åœ¨é¡¹ç›®è§„æ¨¡æ‰©å¤§åä¼šéš¾ä»¥ä¸ºç»§ã€‚åŒæ—¶ï¼Œæˆ‘ä¼šå‘å¤§å®¶ä»‹ç» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fskydoves%2Fsandwich" target="_blank" title="https://github.com/skydoves/sandwich" ref="nofollow noopener noreferrer">Sandwich</a> â€”â€” ä¸€ä¸ªç±»å‹å®‰å…¨ä¸”é«˜åº¦å¯ç»„åˆçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒèƒ½å¸®ä½ æŠŠä»ç½‘ç»œå±‚åˆ° UI å±‚çš„å“åº”å¤„ç†å˜å¾—å¼‚å¸¸ç®€å•ã€‚æˆ‘ä»¬ä¼šä»æœ€åŸºç¡€çš„ç”¨æ³•è®²èµ·ï¼Œä¸€ç›´åˆ°é¡ºåºç»„åˆã€å“åº”åˆå¹¶ã€å…¨å±€é”™è¯¯æ˜ å°„è¿™äº›é«˜çº§æ“ä½œï¼Œå¹¶ä¸”ç»“åˆçœŸå®çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ä¼˜é›…åœ°è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">Retrofit é…åˆåç¨‹çš„ä½¿ç”¨ç°çŠ¶</h3>
<p>å…ˆæ¥çœ‹æœ€å¸¸è§çš„åœºæ™¯ï¼Œç°åœ¨ç»å¤§å¤šæ•° Android é¡¹ç›®éƒ½åœ¨ç”¨ Retrofit é…åˆ Kotlin åç¨‹æ¥å¤„ç†ç½‘ç»œé€šä¿¡ã€‚ä¸€ä¸ªå…¸å‹çš„ Service æ¥å£å®šä¹‰é€šå¸¸é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PosterService</span> {

  <span class="hljs-meta">@GET(<span class="hljs-string">"DisneyPosters.json"</span>)</span>
  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosterList</span><span class="hljs-params">()</span></span>: List&lt;Poster&gt;
}
</code></pre>
<p>æ¥å£ç›´æ¥è¿”å›äº† <code>List&lt;Poster&gt;</code>ã€‚Retrofit è´´å¿ƒåœ°å¸®æˆ‘ä»¬å°† JSON å“åº”ä½“ååºåˆ—åŒ–ï¼ŒæŠŠæ•°æ®ç›´æ¥å–‚åˆ°å˜´è¾¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1c33942134443eab1dde8e238291bcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnFsaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374836&amp;x-signature=OjEU4ybI3cnhA2acQS%2BAqujsqR4%3D" alt="retrofitå–‚é¥­.gif" loading="lazy"/></p>
<p>é£å’Œæ—¥ä¸½ã€ä¸€åˆ‡é¡ºåˆ©ã€è¯·æ±‚æˆåŠŸçš„æ—¶å€™ï¼Œè¿™å¥—æœºåˆ¶è¿è¡Œå¾—ç®€ç›´å®Œç¾ã€‚ä½†é—®é¢˜åœ¨äºâ€”â€”å®ƒå®Œå…¨æ²¡æœ‰ç»™ä½ æä¾›ä¸€å¥—ç»“æ„åŒ–çš„æ–¹å¼æ¥å¤„ç†â€œå¤±è´¥â€çš„æƒ…å†µã€‚</p>
<p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œé‚£å°±åº”è¯¥æ˜¯å‡ºæ„å¤–äº†ï¼ŒæœåŠ¡å™¨è¿”å›äº†é 2xx çš„çŠ¶æ€ç ï¼ŒRetrofit ä¼šæŠ›å‡ºä¸€ä¸ª <code>HttpException</code>ï¼›ç½‘ç»œè¿æ¥å‡ºäº†é—®é¢˜ï¼Œåˆä¼šæŠ›å‡ºå„ç§ IO å¼‚å¸¸ã€‚ç»“æœå°±æ˜¯ï¼Œæ•è·è¿™äº›å¼‚å¸¸çš„è„æ´»ç´¯æ´»ï¼Œå…¨å¾—ç”±è°ƒç”¨è€…è‡ªå·±æ‰›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd1dec4d8d864c9dbfd32722d2ca5689~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnFsaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374836&amp;x-signature=%2BHp3agpRYEfCzUcDgSnumAFrzi0%3D" alt="å¼€å‘è€…è‡ªè¡Œå¤„ç†å¼‚å¸¸.gif" loading="lazy"/></p>
<p>å½“æˆ‘ä»¬åœ¨ Data Sourceï¼ˆæ•°æ®æºï¼‰å±‚å»è°ƒç”¨è¿™ä¸ªæ¥å£æ—¶ï¼Œä¼ ç»Ÿçš„â€œæ ‡å‡†å†™æ³•â€é€šå¸¸æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PosterRemoteDataSource</span>(
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> posterService: PosterService,
) {
  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosterList</span><span class="hljs-params">()</span></span>: List&lt;Poster&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
      posterService.fetchPosterList()
    } <span class="hljs-keyword">catch</span> (e: HttpException) {
      emptyList()
    } <span class="hljs-keyword">catch</span> (e: Throwable) {
      emptyList()
    }
  }
}
</code></pre>
<blockquote>
<p>ç¾å›½çš„äº‹æˆ‘ä¸çŸ¥é“ï¼Œå¯¹äºå›½å†…å¼€å‘è€…è€Œè¨€ï¼Œè¦å¤„ç†å¥‡è‘©åç«¯è¿”å›çš„å„ç§è‡ªå®šä¹‰ <code>status_code</code>ï¼Œç—›è‹¦ç¨‹åº¦ä¸å¿…å¤šè¨€...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e1a8e4465a942d9aff09b3eea483fc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnFsaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374836&amp;x-signature=VuOg6QtLn1ssjjL33Dl2vguSr%2FY%3D" alt="è¢«åç«¯æ°”si.gif" loading="lazy"/></p>
</blockquote>
<p>è¿™é‡Œçš„ Data Source ç®€å•ç²—æš´åœ°æ•è·äº†æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>emptyList()</code> ä½œä¸ºå…œåº•ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªå°´å°¬çš„å±€é¢ï¼šç«™åœ¨è°ƒç”¨è€…çš„è§’åº¦çœ‹ï¼Œè¿™ä¸ªå‡½æ•°ä»¿ä½›æ˜¯â€œæ°¸è¿œæˆåŠŸâ€çš„ï¼Œå› ä¸ºå®ƒæ€»æ˜¯èƒ½è¿”å›ä¸€ä¸ª <code>List&lt;Poster&gt;</code>ã€‚</p>
<h4 data-id="heading-2">ä¼ ç»Ÿå¤„ç†æ–¹å¼çš„å‡ å¤§ç¡¬ä¼¤</h4>
<p>ä¸Šé¢çš„ä»£ç çœ‹ä¼¼äººç•œæ— å®³ï¼Œå®é™…ä¸Šéšè—äº†ä¸‰ä¸ªéšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§è€Œæ„ˆå‘ä¸¥é‡çš„éšæ‚£ã€‚</p>
<h5 data-id="heading-3">1. ç»“æœå……æ»¡äº†æ­§ä¹‰</h5>
<p>æ— è®ºæ˜¯å› ä¸º HTTP æŠ¥é”™è¿˜æ˜¯ç½‘ç»œå¼‚å¸¸ï¼ˆæ•°æ®åŒ…æ”¶å‘å¤±è´¥ï¼‰ï¼Œæ•°æ®æºéƒ½ä¼šç®€å•ç²—æš´åœ°è¿”å›ä¸€ä¸ª <code>emptyList()</code>ï¼Œä¸‹æ¸¸å±‚çº§ï¼ˆå¦‚ Repository æˆ– ViewModelï¼‰æ‹¿åˆ°ä¸€ä¸ªç©ºåˆ—è¡¨æ—¶ï¼Œå®Œå…¨ä¸€è„¸æ‡µé€¼ï¼Œæ ¹æœ¬åˆ†ä¸æ¸…ä¸‰ç§æˆªç„¶ä¸åŒçš„æƒ…å†µï¼š</p>
<ol>
<li><strong>è¯·æ±‚æˆåŠŸäº†</strong>ï¼ŒæœåŠ¡å™¨ç¡®å®è¿”å›äº†ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚</li>
<li><strong>è¯·æ±‚å¤±è´¥äº†</strong>ï¼Œæ¯”å¦‚æŠ¥äº†ä¸ª 401 æœªæˆæƒé”™è¯¯ã€‚</li>
<li><strong>å‹æ ¹æ²¡ç½‘</strong>ï¼Œè¿è¯·æ±‚éƒ½æ²¡å‘å‡ºå»ã€‚</li>
</ol>
<p>è¿™ä¸‰ç§æƒ…å†µæœ€ç»ˆéƒ½æ˜¯æ‹¿åˆ°ä¸€ä¸ªç©ºåˆ—è¡¨ï¼ŒRepository æ²¡æ³•å†³å®šæ˜¯è¯¥æŠ¥é”™ã€è·³è½¬ç™»å½•é¡µï¼Œè¿˜æ˜¯æ˜¾ç¤ºâ€œæš‚æ— æ•°æ®â€ã€‚å“åº”çš„ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰å°±è¿™æ ·ä¸¢å¤±äº†ï¼Œä¸€æ—¦åœ¨æºå¤´ä¸¢å¤±ï¼Œä¸‹æ¸¸é€»è¾‘å†æ€ä¹ˆåŠªåŠ›ä¹Ÿæ•‘ä¸å›æ¥ã€‚</p>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼šâ€œé‚£æˆ‘å‡ºé”™æ—¶è¿”å› <code>null</code> è€Œä¸æ˜¯ç©ºåˆ—è¡¨è¡Œä¸è¡Œï¼Ÿâ€ ä½†è¿™åªä¼šå¼•å…¥æ–°çš„æ­§ä¹‰ï¼š<code>null</code> åˆ°åº•ä»£è¡¨â€œå‡ºé”™äº†â€è¿˜æ˜¯â€œæ²¡æ•°æ®â€å‘¢ï¼Ÿ</p>
<p>æœ€åä½ è¿˜æ˜¯å†™äº†ä¸€ä¸ªåŒ…è£…ç±»ï¼Œä½†è¿™æ ·å†™å°±æ²¡é—®é¢˜äº†å—ï¼Ÿä½ ä¸ºäº†è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œåˆå¼•å…¥äº†ä¸€å¥—éšå¼çš„çº¦å®šï¼Œè¿˜å¾—å¤©å¤©è®°ç€è¿™ä¸ªçº¦å®šã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Resource</span>&lt;<span class="hljs-type">T</span>&gt;(
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: T? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">val</span> message: String? = <span class="hljs-literal">null</span>
) {
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>&lt;<span class="hljs-type">T</span>&gt;(<span class="hljs-keyword">data</span>: T) : Resource&lt;T&gt;(<span class="hljs-keyword">data</span>)
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>&lt;<span class="hljs-type">T</span>&gt;(message: String, <span class="hljs-keyword">data</span>: T? = <span class="hljs-literal">null</span>) : Resource&lt;T&gt;(<span class="hljs-keyword">data</span>, message)
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Loading</span>&lt;<span class="hljs-type">T</span>&gt; : <span class="hljs-type">Resource</span>&lt;<span class="hljs-type">T</span>&gt;()
}
</code></pre>
<p>å³ä½¿è¿™ä¹ˆå†™ï¼Œè¿˜æ˜¯å¾—åœ¨æ¯ä¸ªè°ƒç”¨ API çš„åœ°æ–¹è¿›è¡Œ <code>try catch</code>ã€‚è€Œä¸” <code>Resource.Error</code> åªåŒ…å«ä¸€ä¸ª <code>message: String</code>ï¼ŒåŸå§‹çš„ HTTP çŠ¶æ€ç ï¼ˆStatus Codeï¼‰ã€Headersã€ä»¥åŠå…·ä½“çš„ Exception ç±»å‹å…¨éƒ½ä¸¢äº†ã€‚</p>
<h5 data-id="heading-4">2. æ ·æ¿ä»£ç æ»¡å¤©é£</h5>
<p>æ¯ä¸€ä¸ª API è°ƒç”¨éƒ½éœ€è¦è£¹ä¸Šä¸€å±‚ <code>try-catch</code>ã€‚å¦‚æœä½ æœ‰ 20 ä¸ªæ¥å£æ–¹æ³•ï¼Œä½ å°±å¾—å†™ 20 ä¸ªå‡ ä¹ä¸€æ¨¡ä¸€æ ·çš„ <code>try-catch</code> å—ã€‚æ¯ä¸€ä¸ªéƒ½è¦æ•è· <code>HttpException</code>ï¼Œæ•è· <code>Throwable</code>ï¼Œç„¶åè¿”å›æŸç§é»˜è®¤å€¼ã€‚å¾’å¢ç»´æŠ¤æˆæœ¬ä¸å‡ºé”™æ¦‚ç‡â€”â€”æ¯”å¦‚åœ¨ç¬¬ 20 ä¸ªæ–¹æ³•é‡Œå¦‚æœä¸å°å¿ƒå¿˜å†™äº†æŸç§å¼‚å¸¸æ•è·ï¼Œç¨‹åºå¯èƒ½ç›´æ¥å°±æŒ‚äº†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRemoteDataSource</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userService: UserService) {

  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchUser</span><span class="hljs-params">(id: <span class="hljs-type">String</span>)</span></span>: User? {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
      userService.fetchUser(id)
    } <span class="hljs-keyword">catch</span> (e: HttpException) { <span class="hljs-literal">null</span> }
      <span class="hljs-keyword">catch</span> (e: Throwable) { <span class="hljs-literal">null</span> }
  }

  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchFollowers</span><span class="hljs-params">(id: <span class="hljs-type">String</span>)</span></span>: List&lt;User&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
      userService.fetchFollowers(id)
    } <span class="hljs-keyword">catch</span> (e: HttpException) { emptyList() }
      <span class="hljs-keyword">catch</span> (e: Throwable) { emptyList() }
  }

  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateProfile</span><span class="hljs-params">(profile: <span class="hljs-type">Profile</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
      userService.updateProfile(profile)
      <span class="hljs-literal">true</span>
    } <span class="hljs-keyword">catch</span> (e: HttpException) { <span class="hljs-literal">false</span> }
      <span class="hljs-keyword">catch</span> (e: Throwable) { <span class="hljs-literal">false</span> }
  }
  
  ...
}
</code></pre>
<h5 data-id="heading-5">3. å“åº”å¤„ç†ä¸Šä¸‹æ–‡ä¸¢å¤±</h5>
<p>Repository å’Œ UI å±‚æœ€ç»ˆæ‹¿åˆ°çš„åªæ˜¯é‚£ä¸ªâ€œè¢«é˜‰å‰²â€åçš„åŸå§‹æ•°æ®ç±»å‹ï¼ˆ<code>List&lt;Poster&gt;</code>, <code>User?</code>, <code>Boolean</code>ï¼‰ã€‚å®ƒä»¬å®Œå…¨æ¥è§¦ä¸åˆ° HTTP çŠ¶æ€ç ã€é”™è¯¯å“åº”ä½“æˆ–è€…å¼‚å¸¸çš„ç»†èŠ‚ã€‚</p>
<p>å¦‚æœ ViewModel éœ€è¦æ ¹æ®ä¸åŒçš„é”™è¯¯ç±»å‹ç»™ç”¨æˆ·ä¸åŒçš„åé¦ˆâ€”â€”æ¯”å¦‚ 401 æç¤ºâ€œä¼šè¯è¿‡æœŸâ€ï¼Œ503 æç¤ºâ€œç³»ç»Ÿç»´æŠ¤ä¸­â€â€”â€”æ•°æ®æºå°±å¿…é¡»æƒ³æ–¹è®¾æ³•æŠŠè¿™äº›ä¿¡æ¯ç¡¬å¡è¿›è¿”å›å€¼é‡Œã€‚</p>
<p>è¿™æ—¶é€šå¸¸åªæœ‰ä¸‰ä¸ªé€‰æ‹©ï¼šè¦ä¹ˆæŠŠå¼‚å¸¸å¾€ä¸ŠæŠ›ï¼ˆä½†è¿™è¿èƒŒäº†æˆ‘ä»¬æƒ³åœ¨æ•°æ®æºæ•è·å¼‚å¸¸çš„åˆè¡·ï¼‰ï¼Œè¦ä¹ˆç»™æ¯ä¸ª API éƒ½å®šä¹‰ä¸€å¥—å¤æ‚çš„ Sealed Classï¼ˆä¼šè®©æ ·æ¿ä»£ç æ›´å¤šï¼‰ï¼Œè¦ä¹ˆå¹²è„†â€œè£…å‚»â€ï¼ŒæŠŠè¿™äº›å…³é”®ä¿¡æ¯å…¨ä¸¢äº†ã€‚</p>
<hr/>
<p><strong>ä½ çœŸæ­£éœ€è¦çš„ï¼Œæ˜¯ä¸€ä¸ªå•ä¸€çš„ã€æ ‡å‡†åŒ–çš„ç±»å‹ã€‚</strong> è¿™ä¸ªç±»å‹åº”è¯¥èƒ½å®Œç¾å°è£… API è°ƒç”¨çš„æ‰€æœ‰ç»“æœâ€”â€”ä¸ç®¡æ˜¯æˆåŠŸçš„æ•°æ®ã€é”™è¯¯çš„ç»†èŠ‚ï¼Œè¿˜æ˜¯å¼‚å¸¸ä¿¡æ¯â€”â€”å¹¶ä¸”èƒ½è®©è¿™äº›ä¿¡æ¯åœ¨æ¶æ„çš„æ¯ä¸€å±‚ä¹‹é—´è‡ªç”±æµåŠ¨ï¼Œä¸ä¸¢å¤±ä»»ä½•ä¸Šä¸‹æ–‡ã€‚</p>
<p>è€Œè¿™ï¼Œæ­£æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fskydoves%2Fsandwich" target="_blank" title="https://github.com/skydoves/sandwich" ref="nofollow noopener noreferrer">Sandwich</a> èƒ½ç»™ä½ çš„ã€‚</p>
<h3 data-id="heading-6">åˆè¯† Sandwich</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fskydoves%2Fsandwich" target="_blank" title="https://github.com/skydoves/sandwich" ref="nofollow noopener noreferrer">Sandwich</a> æ˜¯ä¸€ä¸ª Kotlin Multiplatform (KMP) åº“ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯åˆ©ç”¨ Sealed Typesï¼ˆå¯†å°ç±»å‹ï¼‰ ä¸º API å’Œ I/O è°ƒç”¨æ„å»ºä¸€å¥—æ ‡å‡†åŒ–çš„å“åº”æ¨¡å‹ã€‚</p>
<p>å®ƒæä¾›äº†ä¸€ä¸ªéå¸¸è½»é‡çº§çš„ <code>ApiResponse</code> ç±»å‹ï¼Œå°†â€œæˆåŠŸâ€ã€â€œé”™è¯¯â€å’Œâ€œå¼‚å¸¸â€è¿™ä¸‰ç§æƒ…å†µæ˜ç¡®åœ°åŒºåˆ†ä¸ºä¸åŒçš„å­ç±»å‹ã€‚è‡ªå¸¦äº†ä¸€å¥—ä¸°å¯Œä¸”å¯ç»„åˆçš„æ‰©å±•å‡½æ•°ï¼Œè®©ä½ åœ¨æ¶æ„çš„å„ä¸ªå±‚çº§ä¸­èƒ½å¹²å‡€åˆ©è½åœ°å¤„ç†ã€è½¬æ¢ã€æ¢å¤ã€æ ¡éªŒã€è¿‡æ»¤ä»¥åŠåˆå¹¶è¿™äº›å“åº”ã€‚</p>
<p>Sandwich å®Œç¾æ”¯æŒ Retrofitã€Ktor å’Œ Ktorfitã€‚å®ƒä¸éœ€è¦ä½¿ç”¨æ³¨è§£ï¼Œä¹Ÿä¸æ¶‰åŠä»£ç ç”Ÿæˆï¼Œä¸éœ€è¦å¼•å…¥å¥‡æ€ªçš„ Gradle æ’ä»¶ï¼Œé…ç½®ç®€å•ã€‚</p>
<h4 data-id="heading-7">å¿«é€Ÿä¸Šæ‰‹ (Setup)</h4>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„æ¨¡å— <code>build.gradle.kts</code> ä¸­æ·»åŠ ä¾èµ–ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
  <span class="hljs-comment">// æ ¹æ®ä½ ä½¿ç”¨çš„ HTTP å®¢æˆ·ç«¯é€‰æ‹©å¯¹åº”çš„æ¨¡å—ï¼š</span>
  implementation(<span class="hljs-string">"com.github.skydoves:sandwich-retrofit:<span class="hljs-variable">$version</span>"</span>) <span class="hljs-comment">// for Retrofit</span>
  implementation(<span class="hljs-string">"com.github.skydoves:sandwich-ktor:<span class="hljs-variable">$version</span>"</span>)     <span class="hljs-comment">// for Ktor</span>
  implementation(<span class="hljs-string">"com.github.skydoves:sandwich-ktorfit:<span class="hljs-variable">$version</span>"</span>)  <span class="hljs-comment">// for Ktorfit</span>
}
</code></pre>
<h5 data-id="heading-8">Retrofit ç”¨æˆ·</h5>
<p>åªéœ€è¦åœ¨æ„å»º Retrofit å®ä¾‹æ—¶ï¼Œæ·»åŠ ä¸€ä¸ª <code>ApiResponseCallAdapterFactory</code>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">val retrofit = Retrofit.Builder()
   .baseUrl(BASE_URL)
<span class="hljs-addition">+  .addCallAdapterFactory(ApiResponseCallAdapterFactory.create())</span>
   .addConverterFactory(MoshiConverterFactory.create())
   .build()
</code></pre>
<p>è¿™ä¸ª Factory ä¼šè‡ªåŠ¨æ‹¦æˆªæ‰€æœ‰çš„ Retrofit è°ƒç”¨ï¼Œå¹¶å°†ç»“æœåŒ…è£…æˆ <code>ApiResponse</code>ã€‚å®ƒä¼šè‡ªåŠ¨å¤„ç†æˆåŠŸçš„å“åº”ã€HTTP é”™è¯¯ä»¥åŠç½‘ç»œå¼‚å¸¸ã€‚è¿™æ„å‘³ç€ä½ å†ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å†™ <code>try-catch</code> å—æˆ–è€…è‡ªå®šä¹‰æ‹¦æˆªå™¨äº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼ŒæŠŠä½ çš„ Service æ¥å£è¿”å›å€¼æ”¹æˆ <code>ApiResponse&lt;T&gt;</code> å³å¯ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">interface PosterService {

  @GET("DisneyPosters.json")
<span class="hljs-deletion">-  suspend fun fetchPosterList(): List&lt;Poster&gt;</span>
<span class="hljs-addition">+  suspend fun fetchPosterList(): ApiResponse&lt;List&lt;Poster&gt;&gt;</span>
}
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼Œæ‰€æœ‰çš„ç»“æœâ€”â€”æ— è®ºæ˜¯æˆåŠŸæ‹¿åˆ°æ•°æ®ï¼Œè¿˜æ˜¯é‡åˆ°äº† HTTP é”™è¯¯ï¼Œäº¦æˆ–æ˜¯ç½‘ç»œå¼‚å¸¸â€”â€”éƒ½è¢« ApiResponse è¿™ä¸ªè¿”å›ç±»å‹ç»Ÿç»Ÿâ€œæ‹¿æâ€äº†ã€‚</p>
<h5 data-id="heading-9">Ktor ç”¨æˆ·</h5>
<p>ç›´æ¥ä½¿ç”¨ <code>apiResponseOf</code> è¿™ä¸ªæ‰©å±•å‡½æ•°æ¥åŒ…è£¹ä»»æ„çš„ Ktor <code>HttpResponse</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> apiResponse = apiResponseOf&lt;List&lt;Poster&gt;&gt; {
  client.<span class="hljs-keyword">get</span>(<span class="hljs-string">"DisneyPosters.json"</span>)
}
</code></pre>
<h5 data-id="heading-10">Ktorfit ç”¨æˆ·</h5>
<p>æ·»åŠ  <code>ApiResponseConverterFactory</code> å³å¯ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">val ktorfit = Ktorfit.Builder()
   .baseUrl(BASE_URL)
<span class="hljs-addition">+  .converterFactories(ApiResponseConverterFactory.create())</span>
   .build()
</code></pre>
<h4 data-id="heading-11">æ·±å…¥ç†è§£ ApiResponse</h4>
<p><code>ApiResponse</code> æ˜¯ä¸€ä¸ªå¯†å°æ¥å£ï¼ˆSealed Interfaceï¼‰ï¼Œå®ƒé€šè¿‡ä¸‰ä¸ªå­ç±»å‹å®Œç¾è¦†ç›–äº† API è°ƒç”¨å¯èƒ½å‡ºç°çš„æ‰€æœ‰ç»“æœã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<code>ApiResponse</code> ä¸»è¦ç”±ä»¥ä¸‹ä¸‰ä¸ªå­ç±»ç»„æˆï¼š</p>
<ul>
<li><code>ApiResponse.Success</code></li>
<li><code>ApiResponse.Failure.Error</code></li>
<li><code>ApiResponse.Failure.Exception</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e23a82ae3574c4db025d8032baa4278~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnFsaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771374836&amp;x-signature=u%2F1TppYxHhQ0lBs3aDhBewdyG0c%3D" alt="img" loading="lazy"/></p>
<h5 data-id="heading-12">1. ApiResponse.Success</h5>
<p><strong>ä»£è¡¨è¯·æ±‚æˆåŠŸã€‚</strong> æ„å‘³ç€æœåŠ¡å™¨è¿”å›äº† 2xx èŒƒå›´çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”å“åº”ä½“ï¼ˆBodyï¼‰ä¹ŸæˆåŠŸååºåˆ—åŒ–äº†ã€‚æ­¤æ—¶å¯ä»¥é€šè¿‡ <code>data</code> å±æ€§ç›´æ¥è·å–ååºåˆ—åŒ–åçš„æ•°æ®å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> apiResponse = ApiResponse.Success(<span class="hljs-keyword">data</span> = posterList)
<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: List&lt;Poster&gt; = apiResponse.<span class="hljs-keyword">data</span>
</code></pre>
<p>å¦‚æœç”¨çš„æ˜¯ Retrofitï¼Œ<code>ApiResponse.Success</code> è¿˜æºå¸¦äº†åŸå§‹çš„å“åº”å…ƒæ•°æ®æ¯”å¦‚ <code>statusCode</code> å’Œ <code>headers</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> statusCode: StatusCode = apiResponse.statusCode
<span class="hljs-keyword">val</span> headers: Headers = apiResponse.headers
</code></pre>
<p>å½“ä½ éœ€è¦ä»æˆåŠŸçš„å“åº”ä¸­è¯»å–åˆ†é¡µ Headerã€ç¼“å­˜æ§åˆ¶æŒ‡ä»¤ï¼ˆCache Controlï¼‰ æˆ–è€… é€Ÿç‡é™åˆ¶ï¼ˆRate Limitï¼‰ä¿¡æ¯æ—¶ï¼Œè¿™äº›å…ƒæ•°æ®å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ã€‚</p>
<h5 data-id="heading-13">2. ApiResponse.Failure.Error</h5>
<p><strong>ä»£è¡¨ HTTP é”™è¯¯å“åº”ã€‚</strong> æ„æ€æ˜¯ï¼šæœåŠ¡å™¨æ”¶åˆ°äº†ä½ çš„è¯·æ±‚ï¼Œä¹Ÿç»™ä½ å›ä¿¡äº†ï¼Œä½†çŠ¶æ€ç ä¸æ˜¯ 2xxã€‚æ¯”å¦‚å¸¸è§çš„ 400 Bad Request**ã€<strong>401 Unauthorized</strong>ã€<strong>403 Forbidden</strong>ã€<strong>404 Not Found</strong>ã€**500 Internal Server Error ç­‰ç­‰ï¼Œæ‰€æœ‰é 2xx çš„ HTTP é”™è¯¯éƒ½åœ¨è¿™é‡Œã€‚</p>
<p>å¯ä»¥é€šè¿‡ <code>payload</code> æ‹¿åˆ°å®Œæ•´çš„å“åº”ä½“ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> apiResponse = ApiResponse.Failure.Error(payload = errorBody)
<span class="hljs-keyword">val</span> payload = apiResponse.payload
</code></pre>
<ul>
<li>åœ¨ Retrofit ä¸­ï¼Œ<code>payload</code> æ˜¯åŸå§‹çš„ <code>okhttp3.Response</code>ï¼Œå¯ä»¥è¯»å– Error Bodyã€çŠ¶æ€ç å’Œ Headerã€‚</li>
<li>åœ¨ Ktor ä¸­ï¼Œ<code>payload</code> åˆ™æ˜¯ <code>HttpResponse</code>ã€‚</li>
</ul>
<p>æ— è®ºä½ ç”¨çš„æ˜¯ä»€ä¹ˆ HTTP å®¢æˆ·ç«¯ï¼Œå®Œæ•´çš„é”™è¯¯ä¸Šä¸‹æ–‡éƒ½è¢«å®Œå¥½åœ°ä¿ç•™äº†ä¸‹æ¥ã€‚</p>
<h5 data-id="heading-14">3. ApiResponse.Failure.Exception</h5>
<p><strong>ä»£è¡¨åœ¨æ”¶åˆ°æœåŠ¡å™¨ HTTP å“åº”ä¹‹å‰å‘ç”Ÿçš„å®¢æˆ·ç«¯å¼‚å¸¸ã€‚</strong></p>
<p><code>Error</code> æ„å‘³ç€ç½‘ç»œè¯·æ±‚èµ°å®Œäº†ï¼ŒæœåŠ¡å™¨ä¹Ÿå›è¯äº†ï¼ˆè™½ç„¶æ˜¯æŠ¥é”™ï¼‰ã€‚<code>Exception</code> æ˜¯æ„å‘³ç€è¯·æ±‚å‹æ ¹å°±æ²¡è·‘å®Œï¼Œç”šè‡³å¯èƒ½éƒ½æ²¡å‘å‡ºå»ã€‚</p>
<p>å¸¸è§çš„åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç½‘ç»œè¿æ¥å¤±è´¥</strong>ï¼ˆæ¯”å¦‚å¼€äº†é£è¡Œæ¨¡å¼ï¼Œæˆ–è€…æ²¡è¿ WiFiï¼‰</li>
<li><strong>DNS è§£æé”™è¯¯</strong>ï¼ˆæ‰¾ä¸åˆ°æœåŠ¡å™¨åŸŸåï¼‰</li>
<li><strong>è¿æ¥è¶…æ—¶</strong>ï¼ˆæœåŠ¡å™¨æ²¡åœ¨è§„å®šæ—¶é—´å†…å“åº”ï¼‰</li>
<li><strong>SSL/TLS æ¡æ‰‹å¤±è´¥</strong>ï¼ˆè¯ä¹¦æœ‰é—®é¢˜ï¼‰</li>
<li><strong>JSON è§£æé”™è¯¯</strong>ï¼ˆå“åº”ä½“æ ¼å¼ä¸å¯¹ï¼Œè§£æå´©äº†ï¼‰</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> apiResponse = ApiResponse.Failure.Exception(throwable = exception)
<span class="hljs-keyword">val</span> throwable: Throwable = apiResponse.throwable
<span class="hljs-keyword">val</span> message: String? = apiResponse.message
</code></pre>
<hr/>
<p>å¦‚æœæœåŠ¡å™¨è¿”å› 401ï¼ˆ<code>Failure.Error</code>ï¼‰ï¼Œä½ åº”è¯¥æç¤ºç”¨æˆ·â€œè¯·é‡æ–°ç™»å½•â€ï¼›å¦‚æœæ˜¯å› ä¸ºæ²¡ç½‘å¯¼è‡´è¯·æ±‚å¤±è´¥ï¼ˆ<code>Failure.Exception</code>ï¼‰ï¼Œä½ åº”è¯¥æç¤ºâ€œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥â€ã€‚</p>
<h3 data-id="heading-15">ä¼˜é›…åœ°å¤„ç† ApiResponse</h3>
<p>æ—¢ç„¶ <code>ApiResponse</code> å·²ç»æŠŠæ‰€æœ‰å¯èƒ½çš„è¯·æ±‚ç»“æœéƒ½åŒ…è£…èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼šæ€ä¹ˆå¤„ç†å®ƒä»¬æ‰æœ€ä¼˜é›…ï¼Ÿ</p>
<p>ç±»ä¼¼ Kotlin çš„ Result ç±»ï¼ŒSandwich æä¾›äº†ä¸€å¥—ä¸æ»‘çš„é“¾å¼æ‰©å±•å‡½æ•°ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„å“åº”ç±»å‹ï¼ŒæŒ‚è½½å¯¹åº”çš„ Lambda ä»£ç å—ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
response.onSuccess {
  <span class="hljs-comment">// è¿™é‡Œçš„ this æ˜¯ï¼šApiResponse.Success&lt;List&lt;Poster&gt;&gt;</span>
  <span class="hljs-comment">// ç›´æ¥æ‹¿ `data` å°±èƒ½ç”¨</span>
  <span class="hljs-keyword">val</span> posters: List&lt;Poster&gt; = <span class="hljs-keyword">data</span>
}.onError {
  <span class="hljs-comment">// è¿™é‡Œçš„ this æ˜¯ï¼šApiResponse.Failure.Error</span>
  <span class="hljs-comment">// å¯ä»¥ç›´æ¥è®¿é—® `payload`, `message()`, `statusCode` ç­‰</span>
  <span class="hljs-keyword">val</span> message = message()
}.onException {
  <span class="hljs-comment">// è¿™é‡Œçš„ this æ˜¯ï¼šApiResponse.Failure.Exception</span>
  <span class="hljs-comment">// å¯ä»¥ç›´æ¥è®¿é—® `throwable`, `message` ç­‰</span>
  <span class="hljs-keyword">val</span> cause = throwable
}
</code></pre>
<p>å½“ç„¶ï¼Œå¦‚æœä½ çš„ä¸šåŠ¡é€»è¾‘ä¸éœ€è¦åˆ†å¾—é‚£ä¹ˆç»†ï¼Œä¸åœ¨ä¹åˆ°åº•æ˜¯æœåŠ¡å™¨æŠ¥é”™è¿˜æ˜¯æ–­ç½‘äº†ï¼Œå¯ä»¥ç”¨  <code>onFailure</code> æŠŠ <code>Error</code> å’Œ <code>Exception</code> è¿™ä¸¤ç§å¤±è´¥æƒ…å†µâ€œä¸€æŠŠæŠ“â€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">response.onSuccess {
  _posters.value = <span class="hljs-keyword">data</span>
}.onFailure {
  <span class="hljs-comment">// è¿™é‡Œçš„ this æ˜¯ï¼šApiResponse.Failure</span>
  <span class="hljs-comment">// åŒæ—¶ä¹Ÿå¤„ç†äº† Error å’Œ Exception</span>
  _error.value = message()
}
</code></pre>
<h4 data-id="heading-16">ä½¿ç”¨ <code>when</code> è¡¨è¾¾å¼è¿›è¡Œç©·å°½å¼åŒ¹é…</h4>
<p>é™¤äº†é“¾å¼è°ƒç”¨çš„â€œç»„åˆæ‹³â€ï¼Œä¹Ÿå¯ä»¥å›å½’æœ´ç´ ï¼Œåˆ©ç”¨ Kotlin çš„ <code>when</code> è¡¨è¾¾å¼æ¥è¿›è¡Œç©·å°½å¼åŒ¹é…ï¼Œæ¯•ç«Ÿ ApiResponse æ˜¯å¯†å°æ¥å£ï¼Œç¼–è¯‘å™¨ä¼šå¸®ä½ æŠŠå…³ï¼Œå®ƒä¼šå¼ºåˆ¶è¦æ±‚ä½ å¿…é¡»å¤„ç†æ‰ <code>ApiResponse</code> çš„æ¯ä¸€ç§å­ç±»å‹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">when</span> (response) {
  <span class="hljs-keyword">is</span> ApiResponse.Success -&gt; {
    <span class="hljs-keyword">val</span> posters = response.<span class="hljs-keyword">data</span>
  }
  <span class="hljs-keyword">is</span> ApiResponse.Failure.Error -&gt; {
    <span class="hljs-keyword">val</span> message = response.message()
  }
  <span class="hljs-keyword">is</span> ApiResponse.Failure.Exception -&gt; {
    <span class="hljs-keyword">val</span> throwable = response.throwable
  }
}
</code></pre>
<h3 data-id="heading-17">åŸºäº ApiResponse çš„å¤šå±‚æ¶æ„å®è·µ</h3>
<p>å¼•å…¥ <code>ApiResponse</code> åï¼Œæ•´ä¸ªæ¶æ„é€»è¾‘ä¼šå‘ç”Ÿè´¨çš„æ”¹å˜ã€‚</p>
<p>é¦–å…ˆï¼ŒData Sourceï¼ˆæ•°æ®æºå±‚ï¼‰å˜å¾—å¼‚å¸¸ç®€å•ï¼Œå†ä¹Ÿä¸éœ€è¦å†™é‚£äº›ç¹ççš„ <code>try-catch</code> å—ï¼Œä¸éœ€è¦è€ƒè™‘è¿”å›ä»€ä¹ˆå…œåº•é»˜è®¤å€¼ï¼Œç”šè‡³ä¸éœ€è¦ä»»ä½•é”™è¯¯å¤„ç†é€»è¾‘ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PosterRemoteDataSource</span>(
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> posterService: PosterService,
) {
  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosterList</span><span class="hljs-params">()</span></span>: ApiResponse&lt;List&lt;Poster&gt;&gt; {
    <span class="hljs-keyword">return</span> posterService.fetchPosterList()
  }
}
</code></pre>
<p>ç°åœ¨çš„ Data Source å˜æˆäº†ä¸€ä¸ªçº¯ç²¹çš„â€œé€ä¼ è€…â€ï¼ˆPass-throughï¼‰ã€‚æ‰€æœ‰çš„é”™è¯¯ä¸Šä¸‹æ–‡éƒ½è¢«åŸå°ä¸åŠ¨åœ°ä¿å­˜åœ¨äº† <code>ApiResponse</code> é‡Œã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯ Repositoryï¼ˆä»“åº“å±‚ï¼‰ã€‚å®ƒå¯ä»¥åœ¨ä¿æŒ <code>ApiResponse</code> åŒ…è£…å®Œæ•´æ€§çš„åŒæ—¶ï¼Œæ’å…¥ä¸šåŠ¡é€»è¾‘ã€‚æ¯”å¦‚ï¼Œæ‹¦æˆªæˆåŠŸçš„è¯·æ±‚è¿›è¡Œç¼“å­˜ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PosterRepository</span>(
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> remoteDataSource: PosterRemoteDataSource,
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> posterDao: PosterDao,
) {
  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosterList</span><span class="hljs-params">()</span></span>: ApiResponse&lt;List&lt;Poster&gt;&gt; {
    <span class="hljs-keyword">val</span> response = remoteDataSource.fetchPosterList()
    response.onSuccess {
      posterDao.insertPosterList(<span class="hljs-keyword">data</span>) <span class="hljs-comment">// ç¼“å­˜æˆåŠŸçš„æ•°æ®</span>
    }
    <span class="hljs-keyword">return</span> response
  }
}
</code></pre>
<p>æœ€ååˆ°è¾¾ ViewModelã€‚ç”±äºæ‹¿åˆ°äº†å®Œæ•´çš„ä¸Šä¸‹æ–‡ï¼ŒViewModel å¯ä»¥é’ˆå¯¹æ¯ä¸€ç§åœºæ™¯åšå‡ºç²¾å‡†çš„ UI å†³ç­–ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PosterViewModel</span>(
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: PosterRepository,
) : ViewModel() {

  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosters</span><span class="hljs-params">()</span></span> {
    viewModelScope.launch {
      <span class="hljs-keyword">val</span> response = repository.fetchPosterList()
      response.onSuccess {
        _posters.value = <span class="hljs-keyword">data</span>
      }.onError {
        <span class="hljs-comment">// æœåŠ¡å™¨è¿”å›äº†é”™è¯¯ï¼ˆå¦‚ 400, 500ï¼‰ï¼›å±•ç¤ºå¯¹åº”çš„é”™è¯¯æç¤º</span>
        _error.value = message()
      }.onException {
        <span class="hljs-comment">// ç½‘ç»œä¸é€šæˆ–å®¢æˆ·ç«¯å¼‚å¸¸ï¼›å»ºè®®ç”¨æˆ·æ£€æŸ¥ç½‘ç»œè¿æ¥</span>
        _error.value = <span class="hljs-string">"Please check your internet connection."</span>
      }
    }
  }
}
</code></pre>
<p>è¿™å°±å®ç°äº†æˆ‘ä»¬æ¢¦å¯ä»¥æ±‚çš„æ•ˆæœï¼šå“åº”å¯¹è±¡æºå¸¦äº†å®Œæ•´çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç©¿é€äº†æ¶æ„çš„æ¯ä¸€å±‚ã€‚</p>
<p>ViewModel å¯ä»¥è½»æ¾åŒºåˆ†â€œæ•°æ®ä¸ºç©ºâ€ï¼ˆæˆåŠŸçš„ç©ºåˆ—è¡¨ï¼‰ã€â€œæœåŠ¡å™¨é”™è¯¯â€ï¼ˆ401, 500 ç­‰ï¼‰ä»¥åŠâ€œç½‘ç»œæ•…éšœâ€ï¼ˆæ²¡ç½‘ã€è¶…æ—¶ï¼‰ã€‚Data Source åœ¨ä¼ é€’è¿‡ç¨‹ä¸­æ²¡æœ‰ä¸¢å¤±ä»»ä½•ä¿¡æ¯ï¼Œæ¯ä¸€å±‚éƒ½åœ¨å„å¸å…¶èŒï¼ˆæ¯”å¦‚ Repository åšç¼“å­˜ï¼‰ï¼Œè€Œä¸”ä¸ä¼šå‰¥ç¦»æ‰å…¶ä»–å±‚ï¼ˆæ¯”å¦‚ UI å±‚ï¼‰æ‰€éœ€è¦çš„å…³é”®ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-18">ç›´æ¥æå–æ•°æ®</h3>
<p>æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½åªæ˜¯æƒ³ç®€å•ç›´æ¥åœ°æŠŠæ•°æ®ä»å“åº”é‡Œæ‹¿å‡ºæ¥ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¦‚æœè¯·æ±‚æˆåŠŸåˆ™è¿”å›æ•°æ®ï¼Œå¦åˆ™è¿”å› null</span>
<span class="hljs-keyword">val</span> posters: List&lt;Poster&gt;? = response.getOrNull()

<span class="hljs-comment">// å¦‚æœè¯·æ±‚æˆåŠŸåˆ™è¿”å›æ•°æ®ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªé»˜è®¤å€¼</span>
<span class="hljs-keyword">val</span> posters: List&lt;Poster&gt; = response.getOrElse(emptyList())

<span class="hljs-comment">// å¦‚æœè¯·æ±‚æˆåŠŸåˆ™è¿”å›æ•°æ®ï¼Œå¦åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸</span>
<span class="hljs-keyword">val</span> posters: List&lt;Poster&gt; = response.getOrThrow()
</code></pre>
<p>æ­¤å¤–ï¼Œ<code>getOrElse</code> ä¹Ÿæ”¯æŒ Lambda å†™æ³•å®ç°æƒ°æ€§æ±‚å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> posters: List&lt;Poster&gt; = response.getOrElse {
  posterDao.getCachedPosters() <span class="hljs-comment">// åªæœ‰åœ¨è¯·æ±‚å¤±è´¥æ—¶ï¼Œè¿™è¡Œä»£ç æ‰ä¼šæ‰§è¡Œ</span>
}
</code></pre>
<h3 data-id="heading-19">ApiResponse ä¸åç¨‹ã€Flow çš„å®Œç¾ç»“åˆ</h3>
<p>å¯¹äºé‚£äº›é‡åº¦ä¾èµ– Kotlin Flow çš„å“åº”å¼æ¶æ„ï¼ŒSandwich è´´å¿ƒåœ°æä¾›äº†ä¸€å¥—æŒ‚èµ·ï¼ˆSuspendï¼‰ç‰ˆæœ¬çš„æ‰©å±•å‡½æ•°ã€‚</p>
<p>è°ƒç”¨ä¸€ä¸ªæŒ‚èµ·å‡½æ•°å‘èµ·ç½‘ç»œè¯·æ±‚ï¼ŒæˆåŠŸäº†å°±å†è°ƒç”¨å¦ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ä¿å­˜åˆ°æ•°æ®åº“ï¼Œè¿™ç§åœºæ™¯å¤ªå¸¸è§äº†ï¼Œä½†æ ‡å‡†çš„ <code>onSuccess</code>ã€<code>onError</code> å’Œ <code>onException</code> æ¥æ”¶çš„éƒ½æ˜¯æ™®é€š Lambdaï¼Œä¸èƒ½åœ¨è¿™äº› Lambda å†…ç›´æ¥è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>suspendOnSuccess</code>ã€<code>suspendOnError</code> å’Œ <code>suspendOnException</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchPosterList</span><span class="hljs-params">()</span></span> = flow {
  <span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  response.suspendOnSuccess {
    posterDao.insertPosterList(<span class="hljs-keyword">data</span>) <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°ï¼šä¿å­˜åˆ°æ•°æ®åº“</span>
    emit(<span class="hljs-keyword">data</span>)                       <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°ï¼šå‘å°„æ•°æ®åˆ° Flow</span>
  }.suspendOnError {
    <span class="hljs-keyword">val</span> cached = posterDao.getCachedPosterList() <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°ï¼šè¯»å–ç¼“å­˜å…œåº•</span>
    emit(cached)
  }.suspendOnException {
    emit(emptyList())
  }
}.flowOn(Dispatchers.IO)
</code></pre>
<p>æ¯ä¸ªå¤„ç†ç¨‹åºçš„ä½œç”¨åŸŸéƒ½æ˜¯ä¸€ä¸ªæŒ‚èµ· Lambdaï¼Œå¯ä»¥ç›´æ¥åœ¨é‡Œé¢è¿›è¡Œæ•°æ®åº“æ’å…¥ã€é¢å¤–çš„ API è°ƒç”¨ã€æ–‡ä»¶ I/O ç­‰ä»»ä½•è€—æ—¶æ“ä½œï¼Œä¸éœ€è¦å†æ‰‹åŠ¨åµŒå¥—ä¸€å±‚ <code>launch</code> æˆ– <code>withContext</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">suspend</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> ApiResponse<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">suspendOnSuccess</span><span class="hljs-params">(
  <span class="hljs-comment">// æ³¨æ„è¿™é‡Œçš„å‡½æ•°å‚æ•°æ˜¯ suspend</span>
  <span class="hljs-keyword">crossinline</span> onResult: <span class="hljs-type">suspend</span> <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Success</span>&lt;<span class="hljs-type">T</span>&gt;.() -&gt; <span class="hljs-type">Unit</span>,
)</span></span>: ApiResponse&lt;T&gt; {
  ...
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Success) {
    onResult(<span class="hljs-keyword">this</span>)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<h4 data-id="heading-20">ç›´æ¥è½¬æ¢ä¸º Flow</h4>
<p>å¦‚æœä½ åªæƒ³è¦æˆåŠŸçš„æ•°æ®æµï¼Œæƒ³æŠŠå¤±è´¥å¤„ç†å½“ä½œä¸€ç§â€œå‰¯ä½œç”¨â€ï¼ˆSide Effectï¼‰æ¥å¤„ç†ï¼ˆæ¯”å¦‚è®°ä¸ªæ—¥å¿—ã€å¼¹ä¸ª Toastï¼‰ï¼Œå¯ä½¿ç”¨ <code>toFlow()</code> æ‰©å±•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> flow: Flow&lt;List&lt;Poster&gt;&gt; = posterService.fetchPosterList()
  .onError {
    logger.error(<span class="hljs-string">"API error: <span class="hljs-subst">${message()}</span>"</span>)
  }.onException {
    logger.error(<span class="hljs-string">"Network error: <span class="hljs-variable">$message</span>"</span>)
  }.toFlow()
</code></pre>
<p><code>toFlow()</code> ä¼šåˆ›å»ºä¸€ä¸ªåªå‘å°„æˆåŠŸæ•°æ®çš„ <code>Flow</code>ã€‚å¦‚æœè¯·æ±‚å¤±è´¥äº†ï¼Œè¿™ä¸ª Flow å°±ä»€ä¹ˆéƒ½ä¸å‘å°„ï¼ˆè¿”å› <code>emptyFlow()</code>ï¼‰ã€‚å½“ä½ åªå¸Œæœ›æˆåŠŸçš„æ•°æ®æµå…¥çŠ¶æ€ç®¡ç†ï¼ˆStateï¼‰ï¼Œè€Œå¤±è´¥ä»…ä»…éœ€è¦æ‰“ä¸ªæ—¥å¿—æ—¶ï¼Œç”¨å®ƒå°±å¯¹äº†ã€‚</p>
<p><strong>è¿›é˜¶ç©æ³•ï¼š</strong> ä½ ç”šè‡³å¯ä»¥åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ç›´æ¥å¯¹æ•°æ®è¿›è¡Œâ€œåŠ å·¥â€ã€‚è¿™æ˜¯ Repository å±‚æœ€ç»å…¸çš„å†™æ³•â€”â€”å…ˆç¼“å­˜ï¼Œå†è¯»å–ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> flow = posterService.fetchPosterList()
  .toFlow { posters -&gt;
    posters.forEach { it.page = page }
    posterDao.insertPosterList(posters) <span class="hljs-comment">// å…ˆå­˜åº“</span>
    posterDao.getAllPosterList(page)    <span class="hljs-comment">// å†è¿”å›ä»æ•°æ®åº“è¯»å–çš„æ•°æ®</span>
  }.flowOn(Dispatchers.IO)
</code></pre>
<p>åœ¨è¿™ä¸ª Lambda é‡Œï¼Œä½ æ‹¿åˆ°çš„æ˜¯æˆåŠŸçš„æ•°æ®ï¼Œè¿”å›çš„æ˜¯è½¬æ¢åçš„ç»“æœã€‚æ‰€æœ‰çš„æ•°æ®åº“æ“ä½œéƒ½è¿è¡Œåœ¨ Flow çš„åç¨‹ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<h3 data-id="heading-21">å“åº”çš„æ˜ å°„ä¸è½¬æ¢</h3>
<p>åœ¨ç°å®ä¸–ç•Œçš„å¼€å‘ä¸­ï¼Œåç«¯ API è¿”å›çš„æ•°æ®æ ¼å¼ï¼Œå¾€å¾€è·Ÿ UI å±‚éœ€è¦å±•ç¤ºçš„æ ¼å¼æ˜¯ä¸ä¸€è‡´çš„ã€‚</p>
<p>æ¯”å¦‚ï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›ä¸€ä¸ªåºå¤§çš„ <code>UserAuthResponse</code>ï¼Œé‡Œé¢åŒ…å«äº†å„ç§ Tokenã€å…ƒæ•°æ®ï¼ˆMetadataï¼‰ç­‰ä¸€å¤§å¨ä¸œè¥¿ï¼›ä½†ä½ çš„ ViewModel å¯èƒ½åªéœ€è¦ä¸€ä¸ªæ¸…çˆ½çš„ <code>LoginInfo</code>ï¼Œé‡Œé¢åªåŒ…å«ç”¨æˆ·å¯¹è±¡å’Œ Token å­—ç¬¦ä¸²ã€‚Sandwich æä¾›äº†ä¸€ç³»åˆ—æ˜ å°„æ‰©å±•ï¼ˆMapping Extensionsï¼‰ï¼Œèƒ½è®©å¼€å‘è€…åœ¨ <code>ApiResponse</code> å†…éƒ¨ç›´æ¥å¯¹æ•°æ®è¿›è¡Œâ€œæ•´å®¹â€ï¼ŒåŒæ—¶æ—¢ä¸ä¼šæ‰“æ–­é“¾å¼è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šå¼„ä¸¢åŸæœ¬çš„é”™è¯¯ä¸Šä¸‹æ–‡ã€‚</p>
<h4 data-id="heading-22">mapSuccess</h4>
<p>è¿™ä¸ªå‡½æ•°ä¸“é—¨ç”¨æ¥è½¬æ¢<strong>æˆåŠŸ</strong>çš„æ•°æ®ï¼ŒæŠŠç±»å‹ <code>T</code> å˜æˆç±»å‹ <code>V</code>ã€‚å¦‚æœåŸæœ¬çš„å“åº”æ˜¯å¤±è´¥çš„ï¼ˆFailureï¼‰ï¼Œé‚£å®ƒå°±ä»€ä¹ˆéƒ½ä¸åšï¼Œç›´æ¥åŸæ ·é€ä¼ ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response: ApiResponse&lt;LoginInfo&gt; = authService.requestToken(
  UserRequest(authProvider = provider, authIdentifier = id, email = email),
).mapSuccess {
  <span class="hljs-comment">// è¿™é‡Œçš„ this å°±æ˜¯åŸæœ¬çš„ UserAuthResponse</span>
  LoginInfo(user = user, token = token)
}
</code></pre>
<p>è¿™åœ¨ Repository å±‚ç®€ç›´æ˜¯ç¥å™¨ï¼Œå°¤å…¶æ˜¯å½“éœ€è¦æŠŠ API å®ä½“æ¨¡å‹ï¼ˆDTOï¼‰è½¬æ¢æˆ ä¸šåŠ¡æ¨¡å‹ï¼ˆDomain Modelsï¼‰çš„æ—¶å€™ã€‚</p>
<p>Service å±‚è¿”å›çš„æ˜¯ <code>ApiResponse&lt;UserAuthResponse&gt;</code>ï¼Œç»è¿‡è½¬æ¢åï¼ŒRepository å±‚æš´éœ²ç»™ ViewModel çš„å°±æ˜¯å¹²å‡€çš„ <code>ApiResponse&lt;LoginInfo&gt;</code>ã€‚æ‰€æœ‰çš„è½¬æ¢é€»è¾‘éƒ½æ”¶æ‹¢åœ¨äº†ä¸€å¤„ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒä¼šå½±å“åˆ°é‚£äº›å¤±è´¥çš„å“åº”ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªå¸¸è§çš„ç”¨æ³•ï¼šä»ä¸€ä¸ªåˆ—è¡¨å“åº”ä¸­æå–å‡ºæŸä¸€é¡¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response: ApiResponse&lt;Poster?&gt; = posterService.fetchPosterList()
  .mapSuccess { firstOrNull() } <span class="hljs-comment">// ç›´æ¥å–ç¬¬ä¸€ä¸ªï¼Œå–ä¸åˆ°å°±è¿”å› null</span>
</code></pre>
<h4 data-id="heading-23">mapFailure</h4>
<p>é¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ç”¨æ¥è½¬æ¢å¤±è´¥çš„æ•°æ®è½½è·ï¼ˆ<code>payload</code> / <code>throwable</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> ApiResponse<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">mapFailure</span><span class="hljs-params">(transformer: <span class="hljs-type">Any</span>?.() -&gt; <span class="hljs-type">Any</span>?)</span></span>: ApiResponse&lt;T&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
    <span class="hljs-keyword">return</span> ApiResponse.Failure.Error(payload = transformer.invoke(payload))
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure.Exception) {
    <span class="hljs-keyword">return</span> ApiResponse.exception(ex = (transformer.invoke(throwable) <span class="hljs-keyword">as</span>? Throwable) ?: throwable)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<h4 data-id="heading-24">flatMap</h4>
<p>å®ƒèƒ½æŠŠä¸€ä¸ª <code>ApiResponse</code> è½¬æ¢æˆä¸€ä¸ªå®Œå…¨ä¸åŒçš„ <code>ApiResponse</code>ã€‚</p>
<p>è·Ÿåªè½¬æ¢ data æ•°æ®çš„ <code>mapSuccess</code> ä¸åŒï¼Œ<code>flatMap</code> è®©ä½ èƒ½æ‹¿åˆ°æ•´ä¸ªå“åº”å¯¹è±¡ï¼Œå¹¶ä¸”å…è®¸ä½ è¿”å›ä»»æ„ç±»å‹çš„ <code>ApiResponse</code>ã€‚è¿™åœ¨å¤„ç†è‡ªå®šä¹‰é”™è¯¯ç±»å‹æ—¶å¨åŠ›å·¨å¤§â€”â€”ä½ å¯ä»¥æŠŠæœåŠ¡å™¨è¿”å›çš„é”™è¯¯ Body è§£æå‡ºæ¥ï¼Œç›´æ¥æ˜ å°„æˆä½ è‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = service.fetchMovieList()
  .flatMap {
    <span class="hljs-comment">// å¦‚æœæ˜¯ Errorï¼Œå°è¯•è§£æé”™è¯¯ä½“</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
      <span class="hljs-keyword">val</span> errorBody = (payload <span class="hljs-keyword">as</span>? Response)?.body?.string()
      <span class="hljs-keyword">if</span> (errorBody != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">val</span> error: ErrorMessage = Json.decodeFromString(errorBody)
        <span class="hljs-comment">// æ ¹æ®é”™è¯¯ç è¿”å›è‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹(ç»§æ‰¿è‡ª ApiResponse.Failure.Error)</span>
        <span class="hljs-keyword">when</span> (error.code) {
          <span class="hljs-number">10000</span> -&gt; LimitedRequest 
          <span class="hljs-number">10001</span> -&gt; WrongArgument
          <span class="hljs-keyword">else</span> -&gt; <span class="hljs-keyword">this</span>
        }
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>
  }
</code></pre>
<p>ç»è¿‡è¿™ä¸ª <code>flatMap</code> å¤„ç†åï¼Œå“åº”è¦ä¹ˆæ˜¯åŸæœ¬æˆåŠŸçš„ <code>ApiResponse.Success</code>ï¼ˆä¿æŒä¸å˜ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯ä½ è‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹ï¼ˆæ¯”å¦‚ <code>LimitedRequest</code> æˆ– <code>WrongArgument</code>ï¼‰ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œä¸‹æ¸¸å±‚çº§ï¼ˆæ¯”å¦‚ ViewModelï¼‰å°±å¯ä»¥ç›´æ¥å¯¹è¿™äº›è‡ªå®šä¹‰ç±»å‹è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼ˆPattern Matchï¼‰ï¼Œä¸ç”¨é‡å¤å»è§£æ JSON é”™è¯¯ä½“äº†ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">response.onError {
  <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
    LimitedRequest -&gt; showRateLimitDialog() <span class="hljs-comment">// é™æµé”™è¯¯ï¼Œå¼¹çª—æç¤º</span>
    WrongArgument -&gt; showValidationError()  <span class="hljs-comment">// å‚æ•°é”™è¯¯ï¼Œæç¤ºæ ¡éªŒå¤±è´¥</span>
    <span class="hljs-keyword">else</span> -&gt; showGenericError()              <span class="hljs-comment">// å…¶ä»–é”™è¯¯ï¼Œå…œåº•å¤„ç†</span>
  }
}
</code></pre>
<h3 data-id="heading-25">ä¸²è¡Œä¾èµ–è¯·æ±‚çš„å¤„ç†</h3>
<p>ç°å®ä¸–ç•Œçš„å¼€å‘é‡Œï¼Œç»å¸¸ä¼šé‡åˆ°è¿™ç§â€œä¸²è¡Œâ€çš„å·¥ä½œæµï¼šåä¸€ä¸ª API è°ƒç”¨å¿…é¡»ä¾èµ–å‰ä¸€ä¸ªè°ƒç”¨çš„ç»“æœã€‚</p>
<p>ä¾‹å¦‚ï¼šä½ éœ€è¦å…ˆå»è·å–ä¸€ä¸ªè®¤è¯ Tokenï¼Œæ‹¿åˆ° Token åå†å»æ‹‰å–ç”¨æˆ·è¯¦æƒ…ï¼Œæœ€åæ ¹æ®ç”¨æˆ·çš„åå­—å»æŸ¥è¯¢æµ·æŠ¥åˆ—è¡¨ã€‚åœ¨è¿™ä¸ªé“¾æ¡ä¸­ï¼Œåªè¦æœ‰ä»»ä½•ä¸€ç¯æ‰é“¾å­ï¼Œæ•´ä¸ªæµç¨‹å°±åº”è¯¥ç«‹å³åœæ­¢ï¼Œå¹¶æŠ›å‡ºé‚£ä¸ªæ­¥éª¤çš„é”™è¯¯ã€‚</p>
<p>Sandwich ä¸“é—¨ä¸ºæ­¤æä¾›äº† <code>then</code> å’Œ <code>suspendThen</code> è¿™ä¸¤ä¸ªä¸­ç¼€å‡½æ•°ï¼ˆInfix Functionsï¼‰ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = service.getUserToken(userId) suspendThen { tokenResponse -&gt;
  <span class="hljs-comment">// ç¬¬ä¸€æ­¥æˆåŠŸäº†ï¼Œæ‹¿åˆ° token ç»§ç»­æŸ¥ç”¨æˆ·è¯¦æƒ…</span>
  service.getUserDetails(tokenResponse.token)
} suspendThen { userResponse -&gt;
  <span class="hljs-comment">// ç¬¬äºŒæ­¥ä¹ŸæˆåŠŸäº†ï¼Œæ‹¿åˆ°ç”¨æˆ·åç»§ç»­æŸ¥æµ·æŠ¥</span>
  service.queryPosters(userResponse.user.name)
}

response.onSuccess {
  <span class="hljs-comment">// åªæœ‰ä¸‰æ­¥å…¨é€šäº†ï¼Œè¿™é‡Œæ‰ä¼šæ‰§è¡Œ</span>
  _posters.value = <span class="hljs-keyword">data</span>
}.onFailure {
  <span class="hljs-comment">// ä»»ä½•ä¸€æ­¥æŒ‚äº†ï¼Œé”™è¯¯éƒ½ä¼šä¼ åˆ°è¿™é‡Œ</span>
  _error.value = message()
}
</code></pre>
<p>é€»è¾‘éå¸¸æ¸…æ™°ï¼šå¦‚æœ <code>getUserToken</code> å¤±è´¥äº†ï¼Œåé¢çš„ <code>getUserDetails</code> å’Œ <code>queryPosters</code> å‹æ ¹å°±ä¸ä¼šæ‰§è¡Œã€‚</p>
<p>ä»»æ„ä¸€æ­¥çš„å¤±è´¥éƒ½ä¼šç›´æ¥â€œç©¿é€â€åˆ°æœ€åçš„ <code>onFailure</code> å¤„ç†å‡½æ•°ã€‚</p>
<p>ä½ ç”šè‡³å¯ä»¥æŠŠ <code>suspendThen</code> å’Œ <code>mapSuccess</code> ç»“åˆèµ·æ¥ï¼Œæ‰“ä¸€å¥—â€œç»„åˆæ‹³â€ï¼Œç›´æ¥æŠŠæœ€ç»ˆç»“æœè½¬æ¢æˆ UI éœ€è¦çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">service.getUserToken(userId) suspendThen { tokenResponse -&gt;
  service.getUserDetails(tokenResponse.token)
} suspendThen { userResponse -&gt;
  service.queryPosters(userResponse.user.name)
}.mapSuccess { posterResponse -&gt;
  <span class="hljs-comment">// åªå–æµ·æŠ¥åˆ—è¡¨</span>
  posterResponse.posters
}.onSuccess {
  posterStateFlow.value = <span class="hljs-keyword">data</span>
}.onFailure {
  Log.e(<span class="hljs-string">"API"</span>, message())
}
</code></pre>
<h3 data-id="heading-26">é”™è¯¯æ¢å¤ä¸å…œåº•ç­–ç•¥</h3>
<p>ç½‘ç»œè¯·æ±‚è¿™ä¸œè¥¿ï¼Œæ€»æœ‰ç¿»è½¦çš„æ—¶å€™ã€‚æœåŠ¡å™¨å®•æœºã€æ‰‹æœºæ–­ç½‘ã€API è«åå…¶å¦™æŠ¥é”™ï¼Œè¿™äº›éƒ½æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚Sandwich æä¾›äº†ä¸€å¥—å¼ºå¤§çš„æ¢å¤æ‰©å±•ï¼ˆRecovery Extensionsï¼‰ï¼Œè®©ä½ èƒ½ä¼˜é›…åœ°å®šä¹‰â€œå…œåº•â€è¡Œä¸ºï¼ŒåŒæ—¶è¿˜èƒ½ä¿æŒå“åº”é“¾çš„å®Œæ•´æ€§ã€‚</p>
<h4 data-id="heading-27">recover</h4>
<p>è¿™ä¸ªæ“ä½œç¬¦çš„ä½œç”¨æ˜¯ï¼šå¦‚æœå“åº”å¤±è´¥äº†ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªåŒ…å«å…œåº•å€¼çš„ <code>ApiResponse.Success</code>ï¼›å¦‚æœå“åº”æœ¬æ¥å°±æ˜¯æˆåŠŸçš„ï¼Œé‚£å°±åŸæ ·é€ä¼ ï¼Œå•¥ä¹Ÿä¸æ”¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response : ApiResponse = posterService.fetchPosterList()
  .recover(emptyList())
</code></pre>
<p>æºç å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> ApiResponse<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">recover</span><span class="hljs-params">(fallback: <span class="hljs-type">T</span>)</span></span>: ApiResponse&lt;T&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure) {
    <span class="hljs-keyword">return</span> ApiResponse.Success(<span class="hljs-keyword">data</span> = fallback)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<p>å¯ä»¥æŠŠ <code>recover</code> å’Œå…¶ä»–æ‰©å±•å‡½æ•°ä¸²èµ·æ¥ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .onError { logger.error(<span class="hljs-string">"API error: <span class="hljs-subst">${message()}</span>"</span>) }
  .onException { crashReporter.record(throwable) }
  .recover(emptyList())
</code></pre>
<p>æƒ³è¦æƒ°æ€§æ±‚å€¼ï¼Œå¯ä»¥ç”¨ Lambda ç‰ˆæœ¬çš„å†™æ³•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .recover { posterDao.getCachedPosterList() }
</code></pre>
<h4 data-id="heading-28">recoverWith</h4>
<p>è¿™ä¸ªæ“ä½œç¬¦ç”¨äºé€šè¿‡æ‰§è¡Œå¦ä¸€ä¸ªæœ¬èº«ä¹Ÿè¿”å› <code>ApiResponse</code> çš„æ“ä½œæ¥è¿›è¡Œæ¢å¤ã€‚è¿™åœ¨ä½ çš„å…œåº•é€»è¾‘ä¸ä»…ä»…æ˜¯ä¸€ä¸ªé™æ€å€¼ï¼Œè€Œæ˜¯å¦ä¸€ä¸ª API è°ƒç”¨æˆ–è€…æ•°æ®åº“æŸ¥è¯¢ï¼ˆä¸”å®ƒä»¬è‡ªå·±ä¹Ÿå¯èƒ½å¤±è´¥ï¼‰æ—¶éå¸¸æœ‰ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = primaryService.fetchPosterList()
<span class="hljs-comment">// æˆ– .suspendRecoverWith { failure -&gt;</span>
  .recoverWith { failure -&gt;
    <span class="hljs-comment">// å°è¯•è°ƒç”¨å¤‡ä»½æœåŠ¡ï¼›æ³¨æ„è¿™ä¸ªå¤‡ä»½æœåŠ¡è¿”å›çš„ä¹Ÿæ˜¯ ApiResponse</span>
    backupService.fetchPosterList()
  }
</code></pre>
<p>é€»è¾‘å¾ˆé¡ºï¼šä¸»æœåŠ¡æŒ‚äº†ï¼Œå°±è°ƒå¤‡ä»½æœåŠ¡ã€‚å¦‚æœè¿å¤‡ä»½æœåŠ¡ä¹ŸæŒ‚äº†ï¼Œé‚£è¿™ä¸ªå¤±è´¥å°±æ˜¯æœ€ç»ˆç»“æœã€‚</p>
<p>å¦‚æœè¦è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œè®°å¾—ç”¨ <code>suspendRecoverWith</code>ã€‚</p>
<h3 data-id="heading-29">æ•°æ®æ ¡éªŒ</h3>
<p>æœ‰æ—¶å€™ï¼Œä¸€ä¸ª HTTP 200 OK çš„å“åº”å¹¶ä¸ä»£è¡¨ä¸€åˆ‡éƒ½å¥½ã€‚æœåŠ¡å™¨è™½ç„¶è¿”å›äº†æˆåŠŸçŠ¶æ€ç ï¼Œä½†æ•°æ®æœ¬èº«å¯èƒ½æ˜¯ä¸åˆæ³•çš„ã€ç©ºçš„ï¼Œæˆ–è€…æ˜¯ç¼ºèƒ³è†Šå°‘è…¿çš„ã€‚Sandwich æä¾›äº†ä¸€å¥—æ ¡éªŒæ‰©å±•ï¼ˆValidation Extensionsï¼‰ï¼Œèƒ½å¸®ä½ æŠŠè¿™äº›ä¸ç¬¦åˆä¸šåŠ¡è¦æ±‚çš„â€œä¼ªæˆåŠŸâ€å“åº”ï¼Œå¼ºåˆ¶è½¬æ¢æˆå¤±è´¥ï¼ˆFailureï¼‰ã€‚</p>
<h4 data-id="heading-30">validate</h4>
<p>ä½ å¯ä»¥é€šè¿‡å®ƒå®šä¹‰ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼ˆPredicateï¼‰ã€‚å¦‚æœæ•°æ®æ²¡é€šè¿‡è¿™ä¸ªæ ¡éªŒï¼ˆå³è¿”å› <code>false</code>ï¼‰ï¼ŒåŸæœ¬æˆåŠŸçš„å“åº”å°±ä¼šç«‹é©¬â€œå˜èº«â€æˆä¸€ä¸ª <code>ApiResponse.Failure.Error</code>ï¼Œå¹¶å¸¦ä¸Šä½ æŒ‡å®šçš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .validate(
    predicate = { it.isNotEmpty() }, <span class="hljs-comment">// åˆ—è¡¨å¿…é¡»ä¸ä¸ºç©º</span>
    errorMessage = { <span class="hljs-string">"Poster list cannot be empty"</span> }, <span class="hljs-comment">// å¦åˆ™æŠ¥é”™</span>
  )
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœåˆ—è¡¨æ˜¯ç©ºçš„ï¼Œä¸‹æ¸¸çš„å¤„ç†é€»è¾‘å°±ä¼šæ”¶åˆ°ä¸€ä¸ª <code>Failure.Error</code>ï¼Œå°½ç®¡ä» HTTP åè®®å±‚é¢ä¸Šçœ‹è¯·æ±‚æ˜¯æˆåŠŸçš„ã€‚å¯¹äºé‚£äº›æœåŠ¡ç«¯é€»è¾‘å‡ºé”™å´åªç»™ä½ æ‰”ä¸ªç©ºæ•°ç»„ã€è€Œä¸è¿”å›æ ‡å‡†é”™è¯¯ç çš„ API æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯æ•‘æ˜Ÿã€‚</p>
<h4 data-id="heading-31">requireNotNull</h4>
<p>è¿™ä¸ªå‡½æ•°ç”¨äºå¼ºåˆ¶è¦æ±‚æˆåŠŸæ•°æ®é‡Œçš„æŸä¸ªå­—æ®µå¿…é¡»<strong>éç©ºï¼ˆNon-nullï¼‰</strong>ã€‚å¦‚æœä½ é€‰ä¸­çš„é‚£ä¸ªå­—æ®µæ˜¯ <code>null</code>ï¼Œæ•´ä¸ªå“åº”å°±ä¼šè¢«è½¬æ¢æˆå¤±è´¥ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = userService.fetchUser()
  .requireNotNull(
    selector = { it.profileImage },   <span class="hljs-comment">// é€‰æ‹©è¦æ ¡éªŒçš„å­—æ®µ</span>
    errorMessage = { <span class="hljs-string">"Profile image is required"</span> },
  )
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå·§å¦™çš„è®¾è®¡ï¼šè¿™ä¸ªæ“ä½œä¸ä»…åšäº†æ ¡éªŒï¼Œè¿˜é¡ºæ‰‹æŠŠæ•°æ®ç»™<strong>æå–</strong>å‡ºæ¥äº†ã€‚å®ƒç›´æ¥å°† <code>ApiResponse&lt;User&gt;</code> è½¬æ¢æˆäº† <code>ApiResponse&lt;String&gt;</code>ï¼ˆä¹Ÿå°±æ˜¯ profileImage çš„ç±»å‹ï¼‰ï¼Œä¸€æ­¥å®Œæˆäº†â€œæå–æ•°æ®â€å’Œâ€œéç©ºæ ¡éªŒâ€è¿™ä¸¤ä¸ªåŠ¨ä½œã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ çš„æ ¡éªŒé€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚éœ€è¦æŸ¥æ•°æ®åº“æˆ–è€…è°ƒåˆ«çš„æœåŠ¡éªŒè¯ï¼Œé‚£å°±ç”¨æŒ‚èµ·ç‰ˆæœ¬çš„ <code>suspendValidate</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = userService.fetchUser()
  .suspendValidate { user -&gt;
    userValidator.isValid(user) <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ”¾å¿ƒåœ°è°ƒç”¨æŒ‚èµ·å‡½æ•°</span>
  }
</code></pre>
<h3 data-id="heading-32">è¿‡æ»¤åˆ—è¡¨å“åº”</h3>
<p>é’ˆå¯¹é‚£äº›è¿”å›åˆ—è¡¨æ•°æ®çš„ APIï¼ŒSandwich æä¾›äº†éå¸¸é¡ºæ‰‹çš„è¿‡æ»¤æ‰©å±•ï¼ˆFiltering Extensionsï¼‰ã€‚ä½ å¯ä»¥åƒæ“ä½œæ™®é€šé›†åˆä¸€æ ·ï¼Œé€šè¿‡ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼ˆPredicateï¼‰ç›´æ¥æŠŠä¸ç¬¦åˆè¦æ±‚çš„æ•°æ®ä»æˆåŠŸå“åº”é‡Œå‰”é™¤æ‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .filter { poster -&gt; poster.isActive } <span class="hljs-comment">// åªä¿ç•™æ´»è·ƒçš„æµ·æŠ¥</span>
</code></pre>
<p>è¿™æ ·è¿”å›çš„ <code>ApiResponse&lt;List&lt;Poster&gt;&gt;</code> é‡Œå°±å¹²å¹²å‡€å‡€ï¼Œåªå‰©ä¸‹â€œæ´»è·ƒâ€çš„æµ·æŠ¥äº†ï¼Œè€Œä¸”ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‹†ç®±ä¿®æ”¹å†è£…ç®±ã€‚å¦‚æœåŸæœ¬çš„è¯·æ±‚å°±æ˜¯å¤±è´¥çš„ï¼Œè¿‡æ»¤å™¨å®Œå…¨ä¸ä¼šç”Ÿæ•ˆï¼Œé”™è¯¯ä¿¡æ¯ä¼šåŸæ ·<strong>é€ä¼ </strong>ä¸‹å»ï¼Œä¸ä¼šè¢«è¯¯ä¼¤ã€‚</p>
<p>åå‘æ“ä½œå½“ç„¶ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œç”¨ <code>filterNot</code> å³å¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .filterNot { poster -&gt; poster.isDeprecated } <span class="hljs-comment">// å‰”é™¤å·²åºŸå¼ƒçš„æµ·æŠ¥</span>
</code></pre>
<p>å½“åç«¯æ¥å£å¾ˆâ€œé«˜å†·â€ï¼Œä¸æ”¯æŒé€šè¿‡æŸ¥è¯¢å‚æ•°æ¥ç­›é€‰æ•°æ®ï¼Œé€¼ç€ä½ åªèƒ½åœ¨å®¢æˆ·ç«¯ä¾§ï¼ˆClient Sideï¼‰è‡ªå·±åŠ¨æ‰‹æ—¶ï¼Œè¿™æ‹›ç‰¹åˆ«å¥½ä½¿ã€‚</p>
<p>å¯ä»¥æŠŠå®ƒå’Œå…¶ä»–æ‰©å±•å‡½æ•°ä¸²èµ·æ¥ï¼Œæ‰“é€ ä¸€æ¡æ— æ‡ˆå¯å‡»çš„æ•°æ®å¤„ç†æµæ°´çº¿ï¼ˆPipelineï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .validate(predicate = { it.isNotEmpty() }) { <span class="hljs-string">"No posters found"</span> } <span class="hljs-comment">// 1. å…ˆæ ¡éªŒåˆ—è¡¨éç©º</span>
  .filter { it.isActive }                                       <span class="hljs-comment">// 2. å†è¿‡æ»¤å‡ºæ´»è·ƒé¡¹</span>
  .mapSuccess { sortedByDescending { it.createdAt } }           <span class="hljs-comment">// 3. æ¥ç€æŒ‰æ—¶é—´å€’åºæ’åˆ—</span>
  .recover(emptyList())                                         <span class="hljs-comment">// 4. ä¸‡ä¸€å“ªé‡Œå´©äº†ï¼Œå…œåº•è¿”å›ç©ºåˆ—è¡¨</span>
</code></pre>
<p>è¿™æ®µä»£ç é€»è¾‘æå…¶é¡ºç•…ï¼šæ ¡éªŒ -&gt; è¿‡æ»¤ -&gt; æ’åºï¼ˆæ˜ å°„ï¼‰ -&gt; å…œåº•ã€‚æ¯ä¸€æ­¥æ“ä½œçš„éƒ½æ˜¯ <code>ApiResponse&lt;List&lt;Poster&gt;&gt;</code>ï¼Œç»„åˆå¹²å‡€ï¼Œè¯»èµ·æ¥èˆ’æœï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿè½»æ¾ã€‚</p>
<h3 data-id="heading-33">åˆå¹¶å¤šä¸ªå“åº”</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä¸€ä¸ªå±å¹•éœ€è¦åŒæ—¶åŠ è½½å¤šä¸ªæ¥å£æ•°æ®çš„æƒ…å†µã€‚æ¯”å¦‚ä¸€ä¸ª App çš„é¦–é¡µï¼Œå¯èƒ½æ—¢è¦æ‹‰å–ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ï¼Œåˆè¦åŠ è½½æ¨èçš„æµ·æŠ¥åˆ—è¡¨ï¼›æˆ–è€…ä¸€ä¸ªä»ªè¡¨ç›˜é¡µé¢ï¼Œéœ€è¦åŒæ—¶æ˜¾ç¤ºè®¾ç½®ã€é€šçŸ¥å’Œæ´»åŠ¨æ•°æ®ã€‚Sandwich æä¾›äº†éå¸¸å®ç”¨çš„ <code>zip</code> æ‰©å±•ï¼Œèƒ½å¸®ä½ æŠŠå¤šä¸ªç‹¬ç«‹çš„ <code>ApiResponse</code> å®ä¾‹ï¼Œåƒæ‹‰é“¾ä¸€æ ·åˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„å“åº”å¯¹è±¡ã€‚</p>
<h4 data-id="heading-34">zip</h4>
<p>å®ƒçš„ä½œç”¨æ˜¯åˆå¹¶ä¸¤ä¸ª <code>ApiResponse</code> å®ä¾‹ã€‚é€»è¾‘éå¸¸æ¸…æ™°ï¼šåªæœ‰å½“ä¸¤ä¸ªè¯·æ±‚éƒ½æˆåŠŸæ—¶ï¼Œè½¬æ¢å‡½æ•°æ‰ä¼šæ‰§è¡Œï¼›åªè¦å…¶ä¸­ä»»ä½•ä¸€ä¸ªå¤±è´¥äº†ï¼Œå°±ä¼šç›´æ¥è¿”å›é‚£ä¸ªå¤±è´¥çš„ç»“æœï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> usersResponse = userService.fetchUsers()
<span class="hljs-keyword">val</span> postersResponse = posterService.fetchPosters()

<span class="hljs-comment">// å°†ä¸¤ä¸ªå“åº”åˆå¹¶æˆä¸€ä¸ª HomeScreenData</span>
<span class="hljs-keyword">val</span> combined = usersResponse.zip(postersResponse) { users, posters -&gt;
  HomeScreenData(users = users, posters = posters)
}

combined.onSuccess {
  <span class="hljs-comment">// åªæœ‰ä¸¤ä¸ªéƒ½æˆåŠŸï¼Œæ‰ä¼šèµ°åˆ°è¿™é‡Œ</span>
  _homeData.value = <span class="hljs-keyword">data</span>
}.onFailure {
  <span class="hljs-comment">// åªè¦æœ‰ä¸€ä¸ªæŒ‚äº†ï¼Œé”™è¯¯å°±ä¼šé€ä¼ åˆ°è¿™é‡Œ</span>
  _error.value = message()
}
</code></pre>
<p>è¿™æ¯”ä½ å†™ä¸¤å±‚åµŒå¥—çš„ <code>onSuccess</code> å›è°ƒï¼Œæˆ–è€…ç”¨ <code>async</code>/<code>await</code> åå†æ‰‹åŠ¨å»æ£€æŸ¥æ¯ä¸€ä¸ª Deferred çš„å¼‚å¸¸è¦ä¼˜é›…å¤ªå¤šäº†ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ ä¸éœ€è¦è½¬æ¢æˆç‰¹å®šçš„æ•°æ®å¯¹è±¡ï¼ˆæ¯”å¦‚ <code>HomeScreenData</code>ï¼‰ï¼Œåªæ˜¯æƒ³ç®€å•åœ°æŠŠå®ƒä»¬å‡‘æˆä¸€å¯¹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨æ— å‚æ•°çš„ <code>zip</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> paired = usersResponse.zip(postersResponse)
<span class="hljs-comment">// è¿”å›ç±»å‹æ˜¯ï¼šApiResponse&lt;Pair&lt;List&lt;User&gt;, List&lt;Poster&gt;&gt;&gt;</span>
</code></pre>
<h3 data-id="heading-35">åˆå¹¶åˆ†é¡µå“åº”</h3>
<p>å½“ä½ éœ€è¦ä¸€æ¬¡æ€§æ‹‰å–åŒä¸€ä¸ªæ¥å£çš„å¤šé¡µæ•°æ®ï¼Œå¹¶æŠŠç»“æœæ‹¼æˆä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>merge</code> æ‰©å±•ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­åŒæ—¶æ‹‰å–äº†ç¬¬ 0ã€1ã€2 é¡µçš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList(page = <span class="hljs-number">0</span>).merge(
  posterService.fetchPosterList(page = <span class="hljs-number">1</span>),
  posterService.fetchPosterList(page = <span class="hljs-number">2</span>),
  mergePolicy = ApiResponseMergePolicy.PREFERRED_FAILURE,
)

response.onSuccess {
  <span class="hljs-comment">// `data` åŒ…å«äº†ä¸‰é¡µæ•°æ®çš„æ€»å’Œ</span>
  _posters.value = <span class="hljs-keyword">data</span>
}.onError {
  <span class="hljs-comment">// åªè¦æœ‰ä¸€é¡µå‡ºé”™äº†ï¼Œå°±ä¼šèµ°åˆ°è¿™é‡Œ</span>
  _error.value = message()
}
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå…³é”®å‚æ•° <code>mergePolicy</code>ï¼Œå®ƒå†³å®šäº†å¤±è´¥æ—¶çš„å¤„ç†ç­–ç•¥ã€‚</p>
<ul>
<li><strong><code>PREFERRED_FAILURE</code>ï¼ˆé»˜è®¤æ¨èï¼‰</strong>ï¼šä¸¥è°¨æ¨¡å¼ã€‚åªè¦è¿™å‡ é¡µè¯·æ±‚é‡Œæœ‰ä¸€ä¸ªå¤±è´¥äº†ï¼Œæ•´ä½“ç»“æœå°±æ˜¯å¤±è´¥ã€‚</li>
<li><strong><code>IGNORE_FAILURE</code></strong>ï¼šå®½å®¹æ¨¡å¼ã€‚å®ƒä¼šæ”¶é›†é‚£äº›æˆåŠŸçš„é¡µé¢æ•°æ®ï¼Œè‡ªåŠ¨å¿½ç•¥å¤±è´¥çš„è¯·æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-36">ä½¿ç”¨ Peek â€œçª¥è§†â€å“åº”</h3>
<p><code>Peek</code> ç³»åˆ—æ‰©å±•å‡½æ•°å…è®¸ä½ åœ¨<strong>ä¸ä¿®æ”¹å“åº”å†…å®¹</strong>çš„å‰æä¸‹ï¼Œå¯¹å“åº”è¿›è¡Œè§‚æµ‹ã€‚è¿™æ˜¯å¤„ç†å‰¯ä½œç”¨ï¼ˆSide Effectsï¼‰çš„æœ€ä½³åœºæ‰€â€”â€”æ¯”å¦‚æ‰“æ—¥å¿—ã€åŸ‹ç‚¹ç»Ÿè®¡ã€å†™å…¥ç¼“å­˜æˆ–è€…ä¸ŠæŠ¥ Crashã€‚è¿™äº›æ“ä½œåº”è¯¥ä¼´éšç€å“åº”å‘ç”Ÿï¼Œä½†ç»ä¸åº”è¯¥æ”¹å˜å“åº”æœ¬èº«ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .peekSuccess { posters -&gt;
    analytics.trackPostersLoaded(posters.size) <span class="hljs-comment">// åŸ‹ç‚¹</span>
    logger.info(<span class="hljs-string">"Loaded <span class="hljs-subst">${posters.size}</span> posters"</span>)
  }
  .peekError { error -&gt;
    errorTracker.trackApiError(error.statusCode) <span class="hljs-comment">// é”™è¯¯è¿½è¸ª</span>
    logger.warn(<span class="hljs-string">"API error: <span class="hljs-subst">${error.message()}</span>"</span>)
  }
  .peekException { exception -&gt;
    crashReporter.recordException(exception.throwable) <span class="hljs-comment">// å¼‚å¸¸ä¸ŠæŠ¥</span>
    logger.error(<span class="hljs-string">"Network exception: <span class="hljs-subst">${exception.message}</span>"</span>)
  }
</code></pre>
<p>æ¯ä¸€ä¸ª <code>peek</code> å‡½æ•°éƒ½ä¼šåŸå°ä¸åŠ¨åœ°è¿”å›åŸå§‹çš„ <code>ApiResponse</code>ã€‚ä½ å¯ä»¥æŠŠå®ƒä»¬éšæ„ç©¿æ’åœ¨å…¶ä»–æ‰©å±•å‡½æ•°çš„å‰åï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .peekSuccess { analytics.trackSuccess() }
  .peekFailure { analytics.trackFailure() }
  .recover(emptyList()) <span class="hljs-comment">// æ³¨æ„ï¼špeek åœ¨ recover ä¹‹å‰è¿è¡Œï¼Œæ‰€ä»¥å®ƒèƒ½æ•è·åˆ°åŸå§‹çš„å¤±è´¥ä¿¡æ¯</span>
</code></pre>
<blockquote>
<p>å¦‚æœç”¨ <code>peekFailure</code> / <code>peekError</code> / <code>peekException</code>ï¼Œè¦æ³¨æ„ä¸€ä¸‹åœ¨ <code>.recover()</code> å‰é¢è°ƒç”¨ï¼Œå› ä¸ºç»è¿‡ <code>recover()</code> å“åº”å·²ç»å˜æˆäº† <code>ApiResponse.Success</code>ã€‚</p>
</blockquote>
<p>è¿˜æœ‰ä¸€ä¸ªé€šç”¨çš„ <code>peek</code>ï¼Œä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå®ƒéƒ½ä¼šæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = posterService.fetchPosterList()
  .peek { logger.info(<span class="hljs-string">"Response received: <span class="hljs-variable">$it</span>"</span>) }
</code></pre>
<p>å¦‚æœä½ çš„å‰¯ä½œç”¨æ“ä½œåŒ…å«æŒ‚èµ·å‡½æ•°ï¼ˆæ¯”å¦‚å†™å…¥æ•°æ®åº“ï¼‰ï¼Œè®°å¾—ä½¿ç”¨å¸¦ <code>suspend</code> å‰ç¼€çš„ç‰ˆæœ¬ï¼š<code>suspendPeekSuccess</code>ã€<code>suspendPeekError</code>ã€<code>suspendPeekException</code>ã€<code>suspendPeekFailure</code> å’Œ <code>suspendPeek</code>ã€‚</p>
<blockquote>
<p>å…¶å® <code>peekError</code> å’Œ <code>onError</code> æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯è¯­ä¹‰ä¸ŠæŠŠå®ƒä»¬åŒºåˆ†æˆä¸¤ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> ApiResponse<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">peekError</span><span class="hljs-params">(
  <span class="hljs-keyword">crossinline</span> action: (<span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Error</span>) -&gt; <span class="hljs-type">Unit</span>,
)</span></span>: ApiResponse&lt;T&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
    action(<span class="hljs-keyword">this</span>)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> ApiResponse<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">onError</span><span class="hljs-params">(
  <span class="hljs-keyword">crossinline</span> onResult: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Error</span>.() -&gt; <span class="hljs-type">Unit</span>,
)</span></span>: ApiResponse&lt;T&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
    onResult(<span class="hljs-keyword">this</span>)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
</blockquote>
<h3 data-id="heading-37">è‡ªå®šä¹‰é”™è¯¯ç±»å‹</h3>
<p>ç°å®ä¸–ç•Œé‡Œçš„ APIï¼Œé€šå¸¸éƒ½ä¼šè¿”å›ä¸€å¥—ç»“æ„åŒ–çš„é”™è¯¯ä¿¡æ¯ï¼Œé‡Œé¢åŒ…å«äº†é”™è¯¯ç å’Œå…·ä½“çš„æç¤ºæ¶ˆæ¯ã€‚ä½œä¸ºå¼€å‘è€…è‚¯å®šå¸Œæœ›åœ¨ Kotlin ä»£ç é‡Œæ“ä½œçš„æ˜¯å¼ºç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å»ç”Ÿå•ƒé‚£äº›åŸå§‹çš„å­—ç¬¦ä¸²æˆ–è€… JSON æ•°æ®ã€‚</p>
<p>Sandwich å…è®¸ä½ é€šè¿‡ç»§æ‰¿ <code>ApiResponse.Failure.Error</code> æˆ– <code>ApiResponse.Failure.Exception</code>ï¼Œæ¥å®šä¹‰å±äºä½ è‡ªå·±çš„é”™è¯¯å’Œå¼‚å¸¸ç±»å‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> LimitedRequest : ApiResponse.Failure.Error(
  payload = <span class="hljs-string">"your request is limited"</span>,
)

<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> WrongArgument : ApiResponse.Failure.Error(
  payload = <span class="hljs-string">"wrong argument"</span>,
)

<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> UnKnownError : ApiResponse.Failure.Exception(
  throwable = RuntimeException(<span class="hljs-string">"unknown error"</span>),
)

<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> HttpException : ApiResponse.Failure.Exception(
  throwable = RuntimeException(<span class="hljs-string">"http exception"</span>),
)
</code></pre>
<p>è¿™äº›è‡ªå®šä¹‰ç±»å‹å¯ä»¥å®Œç¾å…¼å®¹ä»»ä½• <code>ApiResponse&lt;T&gt;</code>ï¼ˆä¸ç®¡ T æ˜¯ä»€ä¹ˆï¼‰ã€‚åŸç†åœ¨äºï¼š<code>Failure.Error</code> å’Œ <code>Failure.Exception</code> å®é™…ä¸Šç»§æ‰¿è‡ª <code>Failure&lt;Nothing&gt;</code>ã€‚å¾—ç›Šäº Kotlin çš„åå˜ï¼ˆCovarianceï¼‰ï¼Œ<code>Nothing</code> æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œæ‰€ä»¥å®ƒèƒ½è‡ªåŠ¨é€‚é…ä»»ä½•æ³›å‹å‚æ•°ã€‚</p>
<p>åˆ°äº†ä¸‹æ¸¸å±‚çº§ï¼ˆæ¯”å¦‚ ViewModelï¼‰ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨ <code>when</code> è¡¨è¾¾å¼å¯¹è¿™äº›è‡ªå®šä¹‰ç±»å‹è¿›è¡Œ<strong>æ¨¡å¼åŒ¹é…</strong>ï¼Œä¼˜é›… ğŸ·ï¼</p>
<pre><code class="hljs language-kotlin" lang="kotlin">response.onError {
  <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
    LimitedRequest -&gt; showRateLimitDialog() <span class="hljs-comment">// æ˜¯é™æµé”™è¯¯ï¼Œå¼¹çª—æç¤º</span>
    WrongArgument -&gt; showValidationError()  <span class="hljs-comment">// æ˜¯å‚æ•°é”™è¯¯ï¼Œæç¤ºæ ¡éªŒå¤±è´¥</span>
    <span class="hljs-keyword">else</span> -&gt; showGenericError()              <span class="hljs-comment">// å…¶ä»–é”™è¯¯ï¼Œå…œåº•å¤„ç†</span>
  }
}.onException {
  <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
    HttpException -&gt; showHttpErrorUI()      <span class="hljs-comment">// HTTP åè®®å±‚é¢çš„å¼‚å¸¸</span>
    UnKnownError -&gt; showGenericErrorUI()    <span class="hljs-comment">// æœªçŸ¥å¼‚å¸¸</span>
    <span class="hljs-keyword">else</span> -&gt; showNetworkError()              <span class="hljs-comment">// ç½‘ç»œå¼‚å¸¸</span>
  }
}
</code></pre>
<h3 data-id="heading-38">å…¨å±€å¤±è´¥æ˜ å°„å™¨ (Global Failure Mappers)</h3>
<p>å®šä¹‰è‡ªå®šä¹‰é”™è¯¯ç±»å‹å›ºç„¶å¥½ç”¨ï¼Œä½†é—®é¢˜æ˜¯ï¼šä½ è¿˜æ˜¯å¾—å»è§£æé”™è¯¯å“åº”ä½“ï¼ˆBodyï¼‰ï¼Œç„¶åæ‰‹åŠ¨åˆ›å»ºå¯¹åº”çš„è‡ªå®šä¹‰ç±»å‹å¯¹è±¡ã€‚å¦‚æœæ¯ä¸€ä¸ª API è°ƒç”¨éƒ½è¦ç”¨ <code>flatMap</code> æ‰‹å†™ä¸€éè¿™ä¸ªé€»è¾‘ï¼Œé‚£æˆ‘ä»¬ä¹‹å‰è´¹åŠ²æƒ³å¹²æ‰çš„æ ·æ¿ä»£ç ï¼ˆBoilerplateï¼‰å²‚ä¸æ˜¯åˆæ­»ç°å¤ç‡ƒäº†ï¼Ÿ</p>
<p>Sandwich ç»™å‡ºçš„è§£æ³•æ˜¯ï¼š<strong>å…¨å±€å¤±è´¥æ˜ å°„å™¨</strong>ã€‚ä½ åªéœ€è¦åœ¨åº”ç”¨åˆå§‹åŒ–çš„æ—¶å€™æ³¨å†Œä¸€æ¬¡ï¼Œå‰©ä¸‹çš„äº‹å®ƒå…¨åŒ…äº†ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨ä½ çš„ Application.onCreate() æˆ–è€… DI æ¨¡å—é‡Œé…ç½®</span>
SandwichInitializer.sandwichFailureMappers += ApiResponseFailureMapper { failure -&gt;
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯ä¸æ˜¯ HTTP é”™è¯¯</span>
  <span class="hljs-keyword">if</span> (failure <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
    <span class="hljs-comment">// å°è¯•è¯»å–é”™è¯¯ä½“å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">val</span> errorBody = (failure.payload <span class="hljs-keyword">as</span>? Response)?.body?.string()
    <span class="hljs-keyword">if</span> (errorBody != <span class="hljs-literal">null</span>) {
      <span class="hljs-comment">// è§£æ JSON</span>
      <span class="hljs-keyword">val</span> error: ErrorMessage = Json.decodeFromString(errorBody)
      <span class="hljs-comment">// æ ¹æ®é”™è¯¯ç è¿”å›è‡ªå®šä¹‰çš„é”™è¯¯å¯¹è±¡</span>
      <span class="hljs-keyword">return</span><span class="hljs-symbol">@ApiResponseFailureMapper</span> <span class="hljs-keyword">when</span> (error.code) {
        <span class="hljs-number">10000</span> -&gt; LimitedRequest
        <span class="hljs-number">10001</span> -&gt; WrongArgument
        <span class="hljs-number">10002</span> -&gt; HttpException
        <span class="hljs-keyword">else</span> -&gt; UnKnownError
      }
    }
  }
  <span class="hljs-comment">// å¦‚æœæ²¡åŒ¹é…ä¸Šï¼Œå°±åŸæ ·è¿”å›</span>
  failure
}
</code></pre>
<p>ä¸€æ—¦æ³¨å†ŒæˆåŠŸï¼Œè¿™ä¸ªæ˜ å°„å™¨å°±ä¼šè‡ªåŠ¨æ‹¦æˆªå¹¶è½¬æ¢ä½ æ•´ä¸ªåº”ç”¨é‡Œ<strong>æ‰€æœ‰</strong>çš„ <code>ApiResponse.Failure</code>ã€‚ä¸ç®¡ä½ è°ƒçš„æ˜¯ <code>fetchPosterList()</code>ã€<code>fetchUser()</code> è¿˜æ˜¯ <code>login()</code>ï¼Œæ‰€æœ‰çš„å¤±è´¥éƒ½ä¼šç»è¿‡è¿™ä¸ªæ˜ å°„å™¨ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼ŒViewModel å’Œ Repository ä»£ç å°±å˜å¾—æ— æ¯”å¹²å‡€ï¼Œåªéœ€è¦å¤„ç†é‚£äº›å…·ä½“çš„è‡ªå®šä¹‰ç±»å‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> response = service.fetchMovieList()
response.onSuccess {
  _movies.value = <span class="hljs-keyword">data</span>
}.onException {
  <span class="hljs-comment">// ç›´æ¥åŒ¹é…è‡ªå®šä¹‰å¯¹è±¡ï¼Œæ— éœ€å…³å¿ƒ JSON è§£æ</span>
  <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
    LimitedRequest -&gt; showRateLimitUI()
    WrongArgument -&gt; showValidationUI()
    HttpException -&gt; showHttpErrorUI()
    UnKnownError -&gt; showGenericErrorUI()
    <span class="hljs-keyword">else</span> -&gt; showDefaultErrorUI()
  }
}
</code></pre>
<p>å¯¹äº Ktor æˆ– Ktorfit ç”¨æˆ·ï¼Œè¯»å–é”™è¯¯ä½“é€šå¸¸æ˜¯ä¸€ä¸ªæŒ‚èµ·æ“ä½œï¼ˆæ¯”å¦‚ <code>HttpResponse.bodyAsText()</code>ï¼‰ï¼Œè¿™æ—¶å€™ä½ éœ€è¦ä½¿ç”¨ <code>ApiResponseFailureSuspendMapper</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">SandwichInitializer.sandwichFailureMappers += <span class="hljs-keyword">object</span> : ApiResponseFailureSuspendMapper {
  <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">map</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>&lt;*&gt;)</span></span>: ApiResponse.Failure&lt;*&gt; {
    <span class="hljs-keyword">if</span> (apiResponse <span class="hljs-keyword">is</span> ApiResponse.Failure.Error) {
      <span class="hljs-comment">// è¿™é‡Œçš„ bodyAsText() æ˜¯ä¸ªæŒ‚èµ·å‡½æ•°</span>
      <span class="hljs-keyword">val</span> errorBody = (apiResponse.payload <span class="hljs-keyword">as</span>? HttpResponse)?.bodyAsText()
      <span class="hljs-keyword">if</span> (errorBody != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">val</span> error: ErrorMessage = Json.decodeFromString(errorBody)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (error.code) {
          <span class="hljs-number">10000</span> -&gt; LimitedRequest
          <span class="hljs-number">10001</span> -&gt; WrongArgument
          <span class="hljs-keyword">else</span> -&gt; UnKnownError
        }
      }
    }
    <span class="hljs-keyword">return</span> apiResponse
  }
}
</code></pre>
<p>è¿™ä¸ªæŒ‚èµ·æ˜ å°„å™¨ä¼šåœ¨æŒ‚èµ·ä¸Šä¸‹æ–‡ä¸­è¢«æ­£ç¡®åœ°ç­‰å¾…ï¼ˆAwaitï¼‰ï¼Œç¡®ä¿æ˜ å°„åçš„å“åº”èƒ½æ­£ç¡®è¿”å›ç»™è°ƒç”¨è€…ã€‚ç”šè‡³å¯ä»¥åœ¨åŒä¸€ä¸ªåˆ—è¡¨ä¸­åŒæ—¶æ³¨å†ŒåŒæ­¥å’ŒæŒ‚èµ·çš„æ˜ å°„å™¨ï¼Œå®ƒä»¬ä¼šæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p>
<h3 data-id="heading-39">å…¨å±€æ“ä½œç¬¦ (Global Operators)</h3>
<p>å¦‚æœè¯´å¤±è´¥æ˜ å°„å™¨ï¼ˆFailure Mappersï¼‰çš„èŒè´£æ˜¯<strong>è½¬æ¢</strong>å¤±è´¥å“åº”ï¼Œé‚£ä¹ˆå…¨å±€æ“ä½œç¬¦ï¼ˆGlobal Operatorsï¼‰çš„èŒè´£å°±æ˜¯ç›‘å¬æ‰€æœ‰çš„å“åº”ï¼ˆè¿æˆåŠŸçš„ä¹Ÿä¸æ”¾è¿‡ï¼‰ä»¥å¤„ç†é‚£äº›â€œæ¨ªåˆ‡å…³æ³¨ç‚¹â€ã€‚</p>
<p>è¿™æ˜¯åš<strong>é›†ä¸­å¼æ—¥å¿—è®°å½•</strong>ã€<strong>æ•°æ®åŸ‹ç‚¹åˆ†æ</strong>ã€<strong>Token è‡ªåŠ¨åˆ·æ–°</strong>æˆ–è€…<strong>å…¨å±€é”™è¯¯æç¤º</strong>çš„æœ€ä½³åœºæ‰€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">SandwichInitializer.sandwichOperators += <span class="hljs-keyword">object</span> : ApiResponseOperator&lt;Any&gt;() {

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Success</span>&lt;<span class="hljs-type">Any</span>&gt;)</span></span> {
    logger.info(<span class="hljs-string">"API success: <span class="hljs-subst">${apiResponse.data}</span>"</span>)
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onError</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Error</span>)</span></span> {
    logger.error(<span class="hljs-string">"API error: <span class="hljs-subst">${apiResponse.message()}</span>"</span>)
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯ä¸æ˜¯ 401 æœªæˆæƒ</span>
    <span class="hljs-keyword">if</span> (apiResponse.statusCode == StatusCode.Unauthorized) {
      <span class="hljs-comment">// è§¦å‘å…¨å±€ç™»å‡ºæˆ–è€… Token åˆ·æ–°é€»è¾‘</span>
      authManager.onUnauthorized()
    }
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onException</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Exception</span>)</span></span> {
    logger.error(<span class="hljs-string">"API exception: <span class="hljs-subst">${apiResponse.message}</span>"</span>)
    crashReporter.recordException(apiResponse.throwable)
  }
}
</code></pre>
<p>ä¸€æ—¦æ³¨å†Œï¼Œè¿™ä¸ª Operator å°±ä¼šä½œç”¨äºæ¯ä¸€ä¸ªé€šè¿‡ Sandwich åˆ›å»ºçš„ <code>ApiResponse</code> å¯¹è±¡ï¼ˆæ— è®ºæ˜¯ Retrofitã€Ktor è¿˜æ˜¯ Ktorfit äº§ç”Ÿçš„ï¼‰ã€‚</p>
<p>ä¸Šé¢ä»£ç é‡Œå¯¹ 401 Unauthorized çš„å¤„ç†æ˜¯å…¨å±€ç”Ÿæ•ˆçš„ï¼šè¿™æ„å‘³ç€ä½ é¡¹ç›®é‡Œä»»ä½•ä¸€ä¸ª API è°ƒç”¨ï¼Œåªè¦æŠ¥äº† 401ï¼Œéƒ½ä¼šè‡ªåŠ¨è§¦å‘ <code>authManager</code> çš„é€»è¾‘ã€‚å†ä¹Ÿä¸éœ€è¦åœ¨æ¯ä¸ªè°ƒç”¨å¤„å»é‡å¤å†™æ£€æŸ¥ 401 çš„ä»£ç äº†ï¼ŒçœŸæ­£çš„â€œä¸€å¤„ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€ã€‚</p>
<p>å¦‚æœä½ çš„å…¨å±€æ“ä½œæ¶‰åŠæŒ‚èµ·å‡½æ•°ï¼ˆæ¯”å¦‚è€—æ—¶çš„åŸ‹ç‚¹ä¸ŠæŠ¥ï¼‰ï¼Œè¯·ä½¿ç”¨ <code>ApiResponseSuspendOperator</code>ï¼Œå®ƒèƒ½ä¿è¯åœ¨æŒ‚èµ·ä¸Šä¸‹æ–‡ä¸­æ­£ç¡®æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">SandwichInitializer.sandwichOperators += <span class="hljs-keyword">object</span> : ApiResponseSuspendOperator&lt;Any&gt;() {

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Success</span>&lt;<span class="hljs-type">Any</span>&gt;)</span></span> {
    analyticsService.trackSuccess() <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å®‰å…¨åœ°è°ƒç”¨æŒ‚èµ·å‡½æ•°</span>
  }

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onError</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Error</span>)</span></span> {
    analyticsService.trackError(apiResponse.message()) <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°</span>
  }

  <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onException</span><span class="hljs-params">(apiResponse: <span class="hljs-type">ApiResponse</span>.<span class="hljs-type">Failure</span>.<span class="hljs-type">Exception</span>)</span></span> {
    analyticsService.trackException(apiResponse.throwable) <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°</span>
  }
}
</code></pre>
<h3 data-id="heading-40">At the End</h3>
<p>ä½œä¸ºè¯‘è€…ï¼Œç¿»è¯‘å®Œåï¼Œæƒ³é¢å¤–èŠå‡ å¥ã€‚</p>
<p>å¦ç™½è®²ï¼ŒSandwich å¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æ·±è«æµ‹çš„â€œé»‘ç§‘æŠ€â€ï¼Œå®ƒçš„åœ°ä½ä¹Ÿä¸åƒ Retrofit é‚£æ ·æ˜¯ Android å¼€å‘çš„â€œåŸºç¡€è®¾æ–½â€ã€‚ç”šè‡³å¯ä»¥è¯´ï¼Œå®ƒçš„æ ¸å¿ƒåŸç†å¹¶ä¸å¤æ‚ï¼Œåªè¦ä½ æ„¿æ„ï¼Œå®Œå…¨å¯ä»¥å‚è€ƒå®ƒçš„æ€è·¯æ‰‹å†™ä¸€å¥—ç±»ä¼¼çš„ Result å°è£…ã€‚</p>
<p>ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œå®ƒç¡®å®æä¾›äº†ä¸€ç§è¶³å¤Ÿä¼˜é›…çš„è§£æ³•ï¼ŒæŠŠç½‘ç»œè¯·æ±‚ä¸­é‚£äº›æ¼äººçš„å¼‚å¸¸å¤„ç†ã€çŠ¶æ€åˆ¤æ–­ï¼Œä»æ•£è½åœ¨å„å¤„çš„ <code>try-catch</code> è¡¥ä¸ï¼Œå˜æˆäº†ä¸€ç§æ ‡å‡†åŒ–çš„ã€ç±»å‹å®‰å…¨çš„æ•°æ®æµï¼Œè®©æ•°æ®ä» Data Source åˆ° UI å±‚çš„æµè½¬å˜å¾—æ¸…æ™°å¯è§ã€‚</p>
<p>å½“ç„¶ï¼Œæ¶æ„ä»æ¥æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼ŒSandwich æ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§æ–¹å¼ï¼Œä½†ç»ä¸æ˜¯å”¯ä¸€æ–¹å¼ã€‚å¦‚æœä½ å¯¹è¿™ç§å¤„ç†æ¨¡å¼æœ‰ä¸åŒçš„è§è§£ï¼Œæˆ–è€…åœ¨é¡¹ç›®ä¸­æœ‰æ›´å¥½çš„å®è·µç»éªŒï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç†æ€§äº¤æµæ¢è®¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ¬åœ°å¼€å‘æ—¶é—´å‡å°‘ 83%ï¼šä¸ºä½•è¿å‡º Next.js]]></title>    <link>https://juejin.cn/post/7604863528945156111</link>    <guid>https://juejin.cn/post/7604863528945156111</guid>    <pubDate>2026-02-11T00:47:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604863528945156111" data-draft-id="7604715051463868431" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ¬åœ°å¼€å‘æ—¶é—´å‡å°‘ 83%ï¼šä¸ºä½•è¿å‡º Next.js"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2026-02-11T00:47:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ¬åœ°å¼€å‘æ—¶é—´å‡å°‘ 83%ï¼šä¸ºä½•è¿å‡º Next.js
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:47:49.000Z" title="Wed Feb 11 2026 00:47:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.inngest.com%2Fblog%2Fmigrating-off-nextjs-tanstack-start" target="_blank" title="https://www.inngest.com/blog/migrating-off-nextjs-tanstack-start" ref="nofollow noopener noreferrer">Reducing local dev time by 83%: Why we migrated off Next.js</a></p>
<p>ç¿»è¯‘ï¼šTUARAN</p>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">{{å‰ç«¯å‘¨åˆŠ}}</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p>Inngest å›¢é˜Ÿéå¸¸é‡è§†å¼€å‘è€…ä½“éªŒï¼ˆDXï¼‰ã€‚ä½†å½“æœ¬åœ°å¼€å‘æ—¶é¡µé¢é¦–æ¬¡åŠ è½½è¦ç­‰ 10â€“12 ç§’ï¼Œâ€œæŠŠä½“éªŒåšæ¼‚äº®â€å°±ä¼šå˜æˆä¸€ç§æ¶ˆè€—ã€‚</p>
<p>æœ¬æ–‡è®²è¿°ä»–ä»¬ä¸ºä»€ä¹ˆã€ä»¥åŠå¦‚ä½•ä» Next.js è¿å‡ºï¼Œè½¬å‘ TanStack Startï¼Œå¹¶åœ¨è¿ç§»åæŠŠæœ¬åœ°é¦–æ¬¡åŠ è½½æ—¶é—´å¤§å¹…é™åˆ° 2â€“3 ç§’ï¼ˆä½œè€…ç»™å‡ºçš„é‡åŒ–ç»“æœæ˜¯å‡å°‘ 83%ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3777339e937340e5865aa2e737de0902~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375671&amp;x-signature=zev6e0mEucLVqnGwbgK9e9Ybv1E%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">æ—©æœŸä¿¡å·ï¼šæˆ‘ä»¬åŠªåŠ›è®©å®ƒèƒ½ç”¨ï¼Œä½†å®ƒè¶Šæ¥è¶Šæ…¢</h2>
<p>ä½œè€…åŠ å…¥ Inngest æ—¶ï¼Œå›¢é˜Ÿå·²ç»æ·±åº¦ä½¿ç”¨ Next.jsï¼š</p>
<ul>
<li>App Router è¿˜åœ¨ beta æ—¶å°±é‡‡ç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.inngest.com%2Fblog%2Fmigrating-from-vite-to-nextjs%3Fref%3Dblog-migrating-off-nextjs-tanstack-start" target="_blank" title="https://www.inngest.com/blog/migrating-from-vite-to-nextjs?ref=blog-migrating-off-nextjs-tanstack-start" ref="nofollow noopener noreferrer">ä¸€å¤©å†…ä» Vite è¿åˆ° Next.js</a></li>
<li>æ‹¥æŠ± RSCï¼ŒæŠŠå®ƒå½“ä½œ React çš„æœªæ¥</li>
</ul>
<p>å½“æ—¶çš„æ‰¿è¯ºå¾ˆè¯±äººï¼šæ‘†è„± SPA çš„ç©ºç™½ loading ä¸ç€‘å¸ƒå¼è¯·æ±‚ï¼Œè·å¾—åµŒå¥—å¸ƒå±€ä¸ streamingï¼Œå¹¶æŠŠæŠ€æœ¯æ ˆæ”¶æ•›åˆ°ä¸€ä¸ªæ¡†æ¶ã€‚</p>
<p>ä½†â€œèœœæœˆæœŸâ€å¾ˆå¿«ç»“æŸã€‚ä½œè€…è®¤ä¸º Next.js ä¼˜åŒ–çš„æ˜¯ä¸€ç§ç‰¹å®šå·¥ä½œæµï¼šæœ‰ä¸“é—¨å‰ç«¯å›¢é˜Ÿã€é•¿æœŸæ·±è€•æ¡†æ¶ç»†èŠ‚ã€‚è€Œå¯¹ä»–ä»¬è¿™ç§å°å›¢é˜Ÿï¼ˆå¤šæ•°å·¥ç¨‹å¸ˆè¦å¤šçº¿ä½œæˆ˜ï¼‰æ¥è¯´ï¼Œè®¤çŸ¥è´Ÿæ‹…ä¼šä¸æ–­ç´¯ç§¯ï¼š</p>
<ul>
<li><code>"use client"</code> / <code>"use server"</code> çš„è¾¹ç•Œ</li>
<li>å¤šå±‚ç¼“å­˜ API</li>
<li>RSC ä¸å®¢æˆ·ç«¯ç»„ä»¶ä¹‹é—´å¹¶ä¸æ¸…æ™°çš„åˆ†ç•Œ</li>
</ul>
<p>è¿™äº›éƒ½è®©éâ€œå…¨èŒå‰ç«¯â€çš„å·¥ç¨‹å¸ˆæ„Ÿè§‰æ˜¯åœ¨å’Œæ¡†æ¶ææ–—ï¼Œè€Œä¸æ˜¯åœ¨äº¤ä»˜åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">å…ˆé€€ä¸€æ­¥ï¼šå¼±åŒ– RSC</h3>
<p>ä»–ä»¬å…ˆå°è¯•å¼±åŒ– RSCï¼šå°½é‡åªç”¨æœ€å°‘é‡çš„ server componentsï¼Œå¹¶åå¥½ client componentsã€‚çŸ­æœŸå†… DX å˜å¾—å¯æ¥å—äº†ä¸€äº›ã€‚</p>
<p>ä½†éšä¹‹è€Œæ¥çš„é—®é¢˜æ˜¯ï¼šå˜æ…¢â€”â€”éå¸¸æ…¢ã€‚</p>
<blockquote>
<p>æœ¬åœ°å¼€å‘ç¯å¢ƒçš„é¦–æ¬¡é¡µé¢åŠ è½½æ—¶é—´æ¨åˆ°è‡³å°‘ 10â€“12 ç§’ã€‚</p>
</blockquote>
<p>Slack é‡Œä¸æ–­å‡ºç°æŠ±æ€¨ï¼šâ€œæˆ‘è®¨åŒè¿™ä¸ªã€‚â€â€œå‰ç«¯å¤ªæ…¢äº†ã€‚â€</p>
<p>æœ€ç»ˆå¤§å®¶è¾¾æˆä¸€è‡´ï¼šæˆ‘ä»¬çš„å¼€å‘è€…ä½“éªŒå¾ˆç³Ÿã€‚</p>
<h3 data-id="heading-2">å‡çº§ Next.jsã€ä¸Š Turbopack</h3>
<p>ä»–ä»¬å°è¯•å‡çº§ Next.jsï¼Œå¹¶ä½¿ç”¨ Vercel çš„ profiling å·¥å…·è¯„ä¼°æ•ˆæœï¼Œä½†æ²¡æœ‰æ”¹å–„ã€‚</p>
<p>æ¥ç€è¯• Turbopackï¼ˆè¿˜è¯•äº†ä¸¤æ¬¡ï¼‰ã€‚å¯¹ä¸€ä¸ªè§„æ¨¡ä¸å°çš„ä»£ç åº“æ¥è¯´ï¼Œè¿™ä¸è½»æ¾ï¼šéœ€è¦å‡çº§ä¾èµ–ä¸åšä¸å°‘é‡æ„ã€‚</p>
<p>æ›´éº»çƒ¦çš„æ˜¯ï¼šå½“æ—¶ Vercel ç”Ÿäº§ç¯å¢ƒæ„å»ºä»ä¸»è¦æ”¯æŒ Webpackï¼Œå¯¼è‡´æœ¬åœ°å¼€å‘ä¸ç”Ÿäº§æ„å»ºé“¾è·¯ä¸ä¸€è‡´ï¼Œå¸¦æ¥é¢å¤–é—®é¢˜ã€‚</p>
<p>æœ€ç»ˆ Turbopack å¯¹æœ¬åœ°é¦–å±åŠ è½½çš„æ”¹å–„æœ‰é™ï¼Œå¹³å‡ä¹Ÿå°±å¿«äº†å‡ ç§’ã€‚</p>
<p>ä½œè€…çš„ç»“è®ºå¾ˆç›´ç™½ï¼šTurbopack å¹¶æ²¡æœ‰é‚£ä¹ˆ turboï¼Œæ˜¯æ—¶å€™çœ‹çœ‹ Next.js ä¹‹å¤–çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-3">è¯„ä¼°æ›¿ä»£æ–¹æ¡ˆ</h2>
<p>ä»–ä»¬å¸Œæœ›å¾—åˆ°ï¼š</p>
<ul>
<li>æ›´å¿«çš„æœ¬åœ°é¦–æ¬¡åŠ è½½</li>
<li>æ›´åˆç†çš„è·¯ç”± API</li>
<li>æ›´æ¸…æ™°çš„ server/client çº¦å®š</li>
</ul>
<p>äºæ˜¯åŸå‹éªŒè¯äº†ä¸‰ç§é€‰æ‹©ï¼š</p>
<ul>
<li>TanStack Start</li>
<li>Deno Fresh</li>
<li>React Router v7ï¼ˆæœ¬è´¨ä¸Šæ˜¯ Remix æ–¹å‘ï¼‰</li>
</ul>
<p>ä½œè€…ä»¥å‰ç”¨è¿‡ Fresh ä¸ Remixï¼Œéƒ½è®¤å¯å®ƒä»¬çš„æˆç†Ÿåº¦ã€‚ä½†ï¼š</p>
<ul>
<li>Fresh ä» 1 åˆ° 2 çš„èŠ‚å¥è®©å›¢é˜Ÿæœ‰ç‚¹çŠ¹è±«</li>
<li>Remix ä¸ React Router çš„åˆå¹¶/æ‹†åˆ†æ¼”è¿›è®©ä»–ä»¬æœ‰æ‰€é¡¾è™‘</li>
<li>TanStack Start å½“æ—¶è¿˜æ˜¯ RCï¼Œä½†å›¢é˜Ÿå·²ç»å¤§é‡ä½¿ç”¨ TanStack çš„å…¶å®ƒäº§å“ï¼Œå¯¹å…¶æ–¹å‘å¾ˆä¹è§‚</li>
</ul>
<p>ç»¼åˆæƒè¡¡åï¼Œä»–ä»¬å†³å®šæŠ¼æ³¨ TanStack Startã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eef34a7807014a8f81b44d4a93b075bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375671&amp;x-signature=nG0s1xT37vUdurJ1ZbqeIO%2BfB2E%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">è¿ç§»ç­–ç•¥ï¼šå¢é‡è¿˜æ˜¯ä¸€æ¬¡æ€§æ’•æ‰åˆ›å¯è´´</h2>
<p>ä»–ä»¬éœ€è¦åœ¨ä¸¤ç§æ–¹å¼ä¸­é€‰ï¼š</p>
<ul>
<li><strong>ä¸€æ¬¡æ€§è¿ç§»ï¼ˆbrute forceï¼‰</strong>ï¼šèƒ½æ›´å¿«æ”¶æ•›ï¼Œä½†ä¼šå¸¦æ¥å·¨å¤§çš„ PRã€å¾ˆéš¾ä¼ ç»Ÿè¯„å®¡ã€‚</li>
<li><strong>å¢é‡è¿ç§»ï¼ˆincrementalï¼‰</strong>ï¼šéœ€è¦æ¡ä»¶è·¯ç”±ã€å…±äº«ç»„ä»¶åº“é‡Œå¤§é‡ Next.js å·¥å…·çš„æ›¿æ¢ä¸å…¼å®¹ï¼ŒåŸºç¡€è®¾æ–½å·¥ä½œæ›´å¤šã€‚</li>
</ul>
<p>ä¸ºäº†ä¼°ç®—æˆæœ¬ï¼Œä½œè€…å…ˆä» Dev Serverï¼ˆdashboard è·¯ç”±çš„ä¸€ä¸ªå­é›†ï¼‰å¼€å§‹è¯•è½¬ã€‚ç»“æœè½¬å¾—æ¯”é¢„æœŸå¿«ï¼Œäºæ˜¯ç›´æ¥ä¸€è·¯åšåˆ°åº•ï¼š</p>
<ul>
<li>Dev Server çº¦ä¸€å‘¨å®Œæˆåˆ‡æ¢</li>
<li>Dashboard è·¯ç”±æ›´å¤šæ›´å¤æ‚ï¼Œæ•´ä½“å¤šèŠ±äº†ä¸€äº›æ—¶é—´</li>
<li>æ€»ä½“ä»æ˜¯â€œä¸€ä¸ªå·¥ç¨‹å¸ˆ + AI è¾…åŠ©â€åœ¨å‡ å‘¨å†…å®Œæˆ</li>
</ul>
<p>è¿ç§»è¿‡ç¨‹ä¸­ï¼Œå…±äº«ç»„ä»¶å‡¡æ˜¯ä¾èµ– Next.js çš„åœ°æ–¹ï¼Œå°±å¤åˆ¶ä¸€ä»½æ”¹æˆ TanStack ç­‰ä»·å®ç°ï¼›é‡åˆ° app heads ä¹‹é—´çš„äº¤å‰å¼•ç”¨ï¼Œä¹Ÿç”¨ä¸€äº›ä¸´æ—¶ç±»å‹ hack è¿‡æ¸¡ã€‚</p>
<h2 data-id="heading-5">ç»“æœï¼šDX å¤§å¹…æ”¹å–„</h2>
<p>è¿ç§»åï¼Œä»–ä»¬çš„æœ¬åœ°å¼€å‘ä½“éªŒæ˜¾è‘—å˜å¥½ï¼š</p>
<ul>
<li>é¦–æ¬¡åŠ è½½é€šå¸¸ä¸è¶…è¿‡ 2â€“3 ç§’</li>
<li>ä¸”å‡ ä¹åªå‘ç”Ÿåœ¨â€œç¬¬ä¸€æ¬¡åŠ è½½ä»»ä¸€è·¯ç”±â€</li>
<li>ä¹‹åçš„è·¯ç”±åˆ‡æ¢/åŠ è½½å‡ ä¹éƒ½æ˜¯å³æ—¶</li>
</ul>
<p>ä½œè€…å¼ºè°ƒï¼šè¿™ä¸ Next.js å½¢æˆé²œæ˜å¯¹æ¯”â€”â€”åœ¨ä»–ä»¬çš„ä½“éªŒé‡Œï¼ŒNext.js æœ¬åœ°å¼€å‘æ—¶â€œæ¯ä¸ªè·¯ç”±çš„é¦–æ¬¡åŠ è½½â€éƒ½å®¹æ˜“å¾ˆæ…¢ã€‚</p>
<h2 data-id="heading-6">æŠ€æœ¯å–èˆï¼šä»çº¦å®šé©±åŠ¨åˆ°æ˜¾å¼é…ç½®</h2>
<p>ä»–ä»¬è®¤ä¸ºæ ¸å¿ƒå·®å¼‚åœ¨äºï¼š</p>
<ul>
<li>Next.js æ›´å <strong>convention-over-configuration</strong>ï¼Œä½†æœ‰æ—¶â€œé­”æ³•ä¸”æ¨¡ç³Šâ€</li>
<li>TanStack Start æ›´åæ˜¾å¼é…ç½® + è§„å®šå¼çš„ loader æ•°æ®è·å–</li>
</ul>
<p>ä½œè€…ç”¨ä¸¤ä¸ªç‰‡æ®µå¯¹æ¯”äº† Next.js App Router ä¸ TanStack Router çš„é£æ ¼å·®å¼‚ã€‚</p>
<h3 data-id="heading-7">Next.js App Routerï¼ˆç¤ºæ„ï¼‰</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  params: { environmentSlug },
  children,
}: RootLayoutProps</span>) {
  <span class="hljs-keyword">const</span> env = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getEnv</span>(environmentSlug);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> <span class="hljs-attr">activeEnv</span>=<span class="hljs-string">{env}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Env</span> <span class="hljs-attr">env</span>=<span class="hljs-string">{env}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">SharedContextProvider</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">SharedContextProvider</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Env</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<p>å¸ƒå±€ä¸æœåŠ¡ç«¯æ•°æ®è·å–â€œæ··åœ¨ä¸€èµ·â€ï¼Œå”¯ä¸€æç¤ºå®ƒåœ¨æœåŠ¡ç«¯ï¼š<code>async/await</code>ã€‚</p>
<h3 data-id="heading-8">TanStack Routerï¼ˆç¤ºæ„ï¼‰</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Route</span> = <span class="hljs-title function_">createFileRoute</span>(<span class="hljs-string">'/_authed/env/$envSlug'</span>)({
  <span class="hljs-attr">component</span>: <span class="hljs-title class_">EnvLayout</span>,
  <span class="hljs-attr">notFoundComponent</span>: <span class="hljs-title class_">NotFound</span>,
  <span class="hljs-attr">loader</span>: <span class="hljs-keyword">async</span> ({ params }) =&gt; {
    <span class="hljs-keyword">const</span> env = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getEnvironment</span>({
      <span class="hljs-attr">data</span>: { <span class="hljs-attr">environmentSlug</span>: params.<span class="hljs-property">envSlug</span> },
    });

    <span class="hljs-keyword">if</span> (params.<span class="hljs-property">envSlug</span> &amp;&amp; !env) {
      <span class="hljs-keyword">throw</span> <span class="hljs-title function_">notFound</span>({ <span class="hljs-attr">data</span>: { <span class="hljs-attr">error</span>: <span class="hljs-string">'Environment not found'</span> } });
    }

    <span class="hljs-keyword">return</span> { env };
  },
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">EnvLayout</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { env } = <span class="hljs-title class_">Route</span>.<span class="hljs-title function_">useLoaderData</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EnvironmentProvider</span> <span class="hljs-attr">env</span>=<span class="hljs-string">{env}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SharedContextProvider</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SharedContextProvider</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">EnvironmentProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<p>ä½œè€…è§£é‡Šï¼šè¿™é‡Œçš„ <code>getEnvironment</code> æ˜¯ <code>createServerFn</code>ï¼Œåªä¼šåœ¨ server æ‰§è¡Œï¼›<code>useLoaderData</code> åˆ™åœ¨ client ä¾§è¯»å–è·¯ç”±æ•°æ®ã€‚</p>
<h2 data-id="heading-9">AI åœ¨è¿ç§»ä¸­æ€ä¹ˆç”¨</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6058d200d26c4c53885aee147ad61d1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375671&amp;x-signature=xCj9BNPewhsPxhWX%2FADD2dLXe04%3D" alt="" loading="lazy"/></p>
<p>ä»–ä»¬å¯¹ AI çš„å®šä½å¾ˆåŠ¡å®ï¼šä¸»è¦è®© AI åšâ€œä½“åŠ›æ´»â€ï¼Œè€Œä¸æ˜¯åšæ¶æ„å†³ç­–ã€‚</p>
<p>åšæ³•å¤§è‡´æ˜¯ï¼š</p>
<ul>
<li>å…ˆäººå·¥è¿ç§»ä¸€æ¡è·¯çº¿å¹¶å»ºç«‹æ¨¡å¼ï¼ˆserver/client æ•°æ®è·å–ã€ç»„ç»‡æ–¹å¼ï¼‰</li>
<li>å†è®© AI æŠŠæ¨¡å¼å¤åˆ¶åˆ°ç›¸ä¼¼è·¯ç”±</li>
<li>äººå·¥å¤æŸ¥ä¸æ¸…ç†</li>
</ul>
<p>æ­¤å¤–ï¼ŒAI ä¹Ÿç”¨æ¥è¾…åŠ©å¤„ç†ä¸€äº› TypeScript ä¸è¾¹è§’ bugã€‚</p>
<h2 data-id="heading-10">ç»éªŒä¸å»ºè®®</h2>
<h3 data-id="heading-11">TanStack Start ç›¸å…³</h3>
<ul>
<li><strong>å°½æ—©ã€é¢‘ç¹ build</strong>ï¼šä¸€æ—¦æœ‰è¾ƒå¤š server-side ä»£ç ï¼Œè¿Ÿæ—©ä¼šé‡åˆ°â€œé”™è¯¯åœ°è¢«æ‰“è¿› client/serverâ€çš„ bundling é—®é¢˜ï¼›æ„å»ºé—´éš”è¶Šå°ï¼Œè¶Šå®¹æ˜“å®šä½ã€‚</li>
<li><strong>ä¸è¦åªä¾èµ– dev mode</strong>ï¼šä»–ä»¬é‡åˆ°è¿‡ dev ä¸ build åè¡Œä¸ºä¸åŒçš„æƒ…å†µï¼›æœ‰ç–‘é—®å°±æœ¬åœ° build + previewã€‚</li>
</ul>
<h3 data-id="heading-12">è¿ç§»è¿‡ç¨‹ç›¸å…³</h3>
<ul>
<li><strong>ä¸€æ¬¡æ€§è¿ç§»æ„å‘³ç€å·¨å¤§ PR</strong>ï¼šå‡ ä¹æ— æ³•ä¼ ç»Ÿæ–¹å¼è¯„å®¡ï¼›ä»–ä»¬é€‰æ‹©ç”¨å……åˆ†çš„ UAT æ¥å¯¹å†²é£é™©ã€‚</li>
<li>ä»–ä»¬ç¡®å®é‡åˆ°è¿‡ä¸€æ¬¡éœ€è¦ç«‹å³å›æ»šçš„é—®é¢˜ï¼ˆæŸä¸ªéš¾ä»¥åœ¨ç”Ÿäº§å¤–æµ‹è¯•çš„é›†æˆæµç¨‹ï¼‰ã€‚</li>
<li>å¦‚æœä½ çš„å·¥ç¨‹ç¯å¢ƒéå¸¸é£é™©åŒæ¶ï¼Œå¯èƒ½æ›´å€¼å¾—æŠ•å…¥é¢å¤–å·¥ç¨‹å®ç°â€œå¢é‡åˆ‡æ¢â€ã€‚</li>
</ul>
<h2 data-id="heading-13">å¦‚ä½•åšä½ è‡ªå·±çš„å†³ç­–</h2>
<p>ä½œè€…æŠŠè¿ç§»ç»“æœå¼€æºåœ¨ UI monorepoï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Finngest%2Finngest%2Ftree%2Fmain%2Fui" target="_blank" title="https://github.com/inngest/inngest/tree/main/ui" ref="nofollow noopener noreferrer">github.com/inngest/innâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS Bin åœ¨ 2026 å¹´å®•æœº]]></title>    <link>https://juejin.cn/post/7605042079668781071</link>    <guid>https://juejin.cn/post/7605042079668781071</guid>    <pubDate>2026-02-11T00:47:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605042079668781071" data-draft-id="7604715051463917583" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS Bin åœ¨ 2026 å¹´å®•æœº"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-11T00:47:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS Bin åœ¨ 2026 å¹´å®•æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:47:37.000Z" title="Wed Feb 11 2026 00:47:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fremysharp.com%2F2026%2F02%2F02%2Fjs-bin-down-in-2026" target="_blank" title="https://remysharp.com/2026/02/02/js-bin-down-in-2026" ref="nofollow noopener noreferrer">JS Bin down in 2026</a></p>
<p>ç¿»è¯‘ï¼šTUARAN</p>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">{{å‰ç«¯å‘¨åˆŠ}}</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p>1 æœˆ 27 æ—¥ï¼Œæˆ‘æ”¶åˆ°äº†é‚®ä»¶é€šçŸ¥ï¼šJS Bin æŒ‚äº†ã€‚ç¬¬äºŒå¤©ï¼ŒçœŸå®çš„äººç±»ç”¨æˆ·å¼€å§‹é—®ã€Œæ€ä¹ˆå›äº‹ã€ã€‚ä¸€ç›´åˆ° 30 æ—¥æ™šä¸Š 11 ç‚¹å·¦å³ï¼Œæœ€åä¸€æ‰¹é—®é¢˜æ‰è¢«è§£å†³ã€‚</p>
<p>å‰äº›å¤© <a href="https://link.juejin.cn?target=https%3A%2F%2Fjakearchibald.com%2F" target="_blank" title="https://jakearchibald.com/" ref="nofollow noopener noreferrer">Jake</a> é—®æˆ‘ï¼šåˆ°åº•å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼šå‡ ä¹æ‰€æœ‰ç¯èŠ‚éƒ½å‡ºäº†é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">TL;DR</h2>
<p>æˆ‘çŸ¥é“è¿™ç¯‡æ–‡ç« åˆé•¿åˆç¢ã€‚æˆ‘å†™å—¨äº†ï¼Œä¹Ÿå¾ˆäº«å—æŠŠè¿™æ®µç»å†è®²æ¸…æ¥šã€‚</p>
<p>ç®€çŸ­ç‰ˆæ˜¯ï¼š</p>
<ul>
<li>æ—©ç‚¹æŠŠåŸºç¡€è®¾æ–½å‡çº§åˆ°æœ€æ–°ï¼ˆä½†æˆ‘å½“æ—¶åšä¸åˆ°ï¼‰ã€‚</li>
<li>520 å¹¶ä¸ç­‰äºã€ŒæœåŠ¡å™¨æ²¡å“åº”ã€ï¼Œå®ƒå¾ˆå¯èƒ½æ˜¯ Cloudflare ä¸æºç«™ä¹‹é—´çš„ TLS åå•†/å“åº”ä¸å…¼å®¹ã€‚</li>
<li>æœåŠ¡å™¨åœ¨ç€ç«æ—¶ï¼Œåˆ«è¿‡åº¦ä¾èµ– LLMï¼šå®ƒèƒ½å¸®ä½ è¡¥çŸ¥è¯†ï¼Œä½†ä¹Ÿå¯èƒ½æŠŠä½ å¸¦è¿›æ›´å¤æ‚çš„å²”è·¯ã€‚å°½é‡å…ˆé€€ä¸€æ­¥ï¼Œç›˜ç‚¹ç°çŠ¶ï¼Œå†åšæ”¹å˜ã€‚</li>
</ul>
<p>å¦‚æœä½ æ„¿æ„è¯»é•¿ç‰ˆï¼Œé‚£å°±å¼€å§‹ã€‚</p>
<h2 data-id="heading-1">å¤„äºâ€œç»´æŠ¤æ¨¡å¼â€çš„è¿™äº›å¹´</h2>
<p>è¿‡å»å¤§æ¦‚ 5 å¹´ï¼ˆä¹Ÿå¯èƒ½æ›´ä¹…ï¼‰ï¼ŒJS Bin åŸºæœ¬å¤„äºä¸€ç§åŠè‡ªåŠ¨ã€Œç»´æŠ¤æ¨¡å¼ã€ï¼šæ¯éš” 3~6 ä¸ªæœˆä¼šæœ‰ä¸€é˜µå°æ•…éšœéœ€è¦æˆ‘å‡ºæ‰‹ã€‚JS Bin å¿« 18 å²äº†ï¼Œä»¥ Web çš„æ ‡å‡†æ¥è¯´å·²ç»æ˜¯ã€Œé«˜é¾„åº”ç”¨ã€ã€‚</p>
<p>é€šå¸¸æˆ‘éœ€è¦å¤„ç†çš„æ˜¯ç«™å†…çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fremysharp.com%2F2015%2F09%2F15%2Fjsbin-toxic-part-2" target="_blank" title="https://remysharp.com/2015/09/15/jsbin-toxic-part-2" ref="nofollow noopener noreferrer">ä¸è‰¯å†…å®¹</a>ã€æ¥è‡ª AWSï¼ˆJS Bin æ‰˜ç®¡åœ¨é‚£å„¿ï¼‰çš„ä¸‹æ¶è¯·æ±‚ï¼Œæˆ–è€…å¶å‘çš„å†…å­˜å¼‚å¸¸â€”â€”æœ‰çš„æ¢å¤è¦èŠ±æ›´ä¹…ã€‚</p>
<p>çœ‹è¿‡å» 11 å¹´çš„å¯ç”¨æ€§æ›²çº¿ï¼Œå®•æœºå¹¶ä¸ç½•è§ï¼Œä½†è¿™æ¬¡å®Œå…¨ä¸åŒï¼ˆå·¦è¾¹é‚£æ¬¡å¤§æ•…éšœå…ˆä¸ç®—ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/263d6be977dd466cb3f690e6bd705ede~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375658&amp;x-signature=YK%2Fou%2FcicFLYGlxfZFJEPBOc414%3D" alt="" loading="lazy"/></p>
<p>å¾ˆå¤šã€Œé•¿æ—¶é—´ã€å®•æœºï¼ˆæˆ‘æœ€è¿‘æ‰æ›´æ¸…æ¥šï¼‰æ˜¯å› ä¸ºæœºå™¨å†…å­˜è€—å°½ï¼Œç³»ç»Ÿä¼šåƒâ€œå¡Œæ–¹â€ä¸€æ ·ï¼šæˆ‘ç”šè‡³æ— æ³• SSH ç™»å½•å»æ¢å¤ï¼Œåªèƒ½åœ¨ AWS æ§åˆ¶å°é‡Œå¼ºåˆ¶é‡å¯ã€‚</p>
<p>è€Œè¿™æ¬¡æ›´ç¦»è°±ï¼šè¿ã€Œæ§åˆ¶å°é‡å¯ã€è¿™ç§çœŸæ­£çš„ã€Œå…³æœºé‡å¼€ã€éƒ½ä¸çµã€‚</p>
<h2 data-id="heading-2">é‡å¯ä¹Ÿèµ·ä¸æ¥</h2>
<p>è¿™æ¬¡å®•æœºï¼Œæ— è®ºæ€ä¹ˆé‡å¯éƒ½å›ä¸æ¥ã€‚æˆ‘è§¦å‘é‡å¯åï¼Œä¸€ç›´åœ¨æ§åˆ¶å°ç­‰ SSHï¼Œä½†å®Œå…¨è¿ä¸ä¸Šã€‚</p>
<p>æœºå™¨çš„è¡Œä¸ºåƒæ˜¯ï¼šé‡å¯ â†’ ç«‹åˆ»é”æ­»ã€‚</p>
<p>è¿™æš—ç¤ºç€ï¼šæœºå™¨å¤–é¢æœ‰æŒç»­çš„å·¨å¤§å‹åŠ›ï¼Œè€Œä¸”æ²¡æœ‰å‡å¼±ã€‚</p>
<p>æˆ‘æ‰‹ä¸Šå”¯ä¸€çš„åŠæ³•ï¼Œæ˜¯æŠŠæœºå™¨å½»åº•å…³æœºä¸€å°æ—¶å·¦å³ï¼Œå¸Œæœ›â€œæ•²é—¨çš„ä¸œè¥¿â€èƒ½å…ˆèµ°å¼€ã€‚</p>
<p>åæ¥æˆ‘çœ‹ CloudWatchï¼Œæ‰çŸ¥é“å…¥ç«™æµé‡æŠŠæœºå™¨æ‘åœ¨åœ°ä¸Šæ‘©æ“¦ï¼šå‡ å¤©å‰è¿˜æ˜¯æ­£å¸¸æ°´å¹³ï¼Œçªç„¶å˜æˆå‰æ‰€æœªæœ‰çš„ç½‘ç»œå…¥ç«™å³°å€¼ã€‚å›¾é‡Œ cliff edge ä¹‹åçš„é‚£äº›ä¸‹è·Œï¼Œæ˜¯æœºå™¨æ‰›ä¸ä½è€Œå¤±å»å“åº”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8b90bfbe85844d2987931128f827069~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375658&amp;x-signature=V60Sn%2B%2B%2F%2B0JAmSSNM5btu%2BQwY4c%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å…ˆæŠŠâ€œè¯¥æ­»çš„è¿›ç¨‹â€æ€æ‰</h2>
<p>æˆ‘ç»ˆäºè¿›åˆ°æœºå™¨åï¼Œç¬¬ä¸€ä»¶äº‹æ˜¯çœ‹ <code>syslog</code>ï¼Œæ‰¾å‡ºå¯¼è‡´å´©æºƒçš„ä¸œè¥¿ï¼ˆæ›´å‡†ç¡®è¯´ï¼šæ‰¾å‡ºç—‡çŠ¶ï¼‰ã€‚</p>
<p>å¾ˆå¿«æˆ‘çœ‹åˆ°äº† Node å› ä¸º OOMï¼ˆå†…å­˜è€—å°½ï¼‰è€Œäº§ç”Ÿçš„ GC dump ä¸å †æ ˆã€‚</p>
<p>ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šä¸è¦è®©ç³»ç»Ÿâ€œå…¨ç›˜å´©æºƒâ€ï¼Œå…ˆè®©æœ€è€—å†…å­˜çš„è¿›ç¨‹è¢«æ€æ‰ï¼Œè‡³å°‘ä¿è¯æˆ‘è¿˜èƒ½ç™»å½•ç»§ç»­æ’æŸ¥ã€‚</p>
<p>æˆ‘åŠ äº†è¿™æ¡é…ç½®ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># /etc/sysctl.confï¼Œç„¶åç”¨ `sudo sysctl -p` é‡æ–°åŠ è½½
vm.oom_kill_allocating_task=1
</code></pre>
<p>è¿™æ ·å†…å­˜è¢«æ‰“çˆ†æ—¶ï¼Œç³»ç»Ÿä¼šä¼˜å…ˆæ€æ‰æ­£åœ¨ç–¯ç‹‚åˆ†é…å†…å­˜çš„è¿›ç¨‹ï¼ˆNodeï¼‰ï¼Œè€Œä¸æ˜¯éšä¾¿æ€æ‰åˆ«çš„å…³é”®è¿›ç¨‹ï¼ˆå¯¼è‡´ SSH ä¹Ÿæ²¡äº†ï¼‰ã€‚</p>
<p>è¿™ä¸ä¼šè®©æœºå™¨â€œå¾ˆå¿«â€ï¼Œä½†èƒ½è®©æˆ‘åœ¨æµé‡ç»§ç»­è½°ç‚¸æ—¶è‡³å°‘è¿˜èƒ½è¯Šæ–­ï¼ˆå½“ç„¶ç»ˆç«¯ä¼šéå¸¸æ…¢ï¼‰ã€‚</p>
<p>æˆ‘èƒ½çœ‹åˆ° CPU é•¿æ—¶é—´æ¥è¿‘ 100%ï¼ŒNode çš„å†…å­˜å ç”¨æŒç»­ä¸Šæ¶¨ï¼ˆæˆ‘ç”¨ <code>htop</code>ï¼‰ã€‚</p>
<p>ç„¶åï¼ŒChatGPT å»ºè®®æˆ‘å‡çº§ Nodeâ€”â€”å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘å¹¶æ²¡æœ‰å‘Šè¯‰å®ƒæˆ‘åœ¨ç”¨ä»€ä¹ˆç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-4">æ”¯çº¿ä»»åŠ¡ï¼šNode çœŸçš„å¾ˆè€</h2>
<p>å› ä¸ºé•¿æœŸâ€œç»´æŠ¤æ¨¡å¼â€ï¼Œæˆ‘å‡ ä¹ä»æ²¡åŠ¨è¿‡ Nodeã€‚ç»“æœ JS Bin å±…ç„¶è·‘åœ¨ Node 7 ä¸Šï¼ˆç”šè‡³ä¸æ˜¯â€œç¨³å®šâ€çš„ Node 8ï¼‰ï¼Œå¯èƒ½å·²ç»è¶…è¿‡åå¹´ã€‚</p>
<p>æˆ‘é—® ChatGPT ä¸ºä»€ä¹ˆçŸ¥é“ï¼Œå®ƒè¯´ã€Œä½ å‘Šè¯‰è¿‡æˆ‘ã€ã€‚è¿™å®Œå…¨æ˜¯èƒ¡æ‰¯ã€‚</p>
<p>æˆ‘è¿½é—®äº†å¾ˆä¹…æ‰å‘ç°ï¼šå½“æ—¶æˆ‘çš„ç»ˆç«¯å±å¹•ä¸Šæ˜¾ç¤ºäº† Node ç‰ˆæœ¬ï¼›åœ¨æˆ‘ä¹‹åè°ƒ nginx çš„è¿‡ç¨‹ä¸­ï¼ŒChatGPT ç›´æ¥â€œçœ‹â€åˆ°äº†å±å¹•å†…å®¹ã€‚</p>
<p>æˆ‘ä¸çŸ¥é“å®ƒæ˜¯å¦èƒ½è¯»å–æ»šåŠ¨å†å²ï¼ˆå¸Œæœ›ä¸èƒ½ï¼‰ï¼Œä½†è¿™ä¾ç„¶å¾ˆä¸èˆ’æœã€‚</p>
<p>æˆ‘å¹³å¸¸ç”¨çš„æ˜¯æµè§ˆå™¨ç‰ˆ ChatGPTï¼Œä¸æ€ä¹ˆç”¨â€œåº”ç”¨â€å½¢æ€ï¼›è¿™æ¬¡ç»™æˆ‘ä¸€ä¸ªæ•™è®­ï¼šåªè¦å±å¹•ä¸Šå‡ºç°è¿‡æ•æ„Ÿä¿¡æ¯ï¼ˆæ¯”å¦‚æˆ‘åˆš <code>cat</code> è¿‡ <code>.env</code>ï¼‰ï¼Œå°±è¦å‡è®¾ LLM å¯èƒ½çœ‹å¾—åˆ°ã€‚</p>
<p>æ€»ä¹‹ï¼Œæˆ‘æŠŠ Node ä» 7 å‡åˆ°äº† 22ï¼Œå±…ç„¶æ²¡å‡ºäº‹ã€‚å¹¸è¿çš„æ˜¯æˆ‘åœ¨ 2024 å¹´åšè¿‡ä¸€è½®ç°ä»£åŒ–æ”¹é€ ï¼Œå¥½è®©æˆ‘èƒ½åœ¨æœ¬æœºè·‘èµ·æ¥ï¼ˆç°ä»£ç³»ç»Ÿå½“ç„¶ä¸æ„¿æ„è·‘ Node 7ï¼‰ã€‚</p>
<p>è‡³å°‘ï¼Œäº‹ä»¶å¾ªç¯æ€§èƒ½å˜å¥½äº†ï¼ŒCPU å‹åŠ›ä¼šå°ä¸€ç‚¹ã€‚</p>
<p>â€¦â€¦ä½†é—®é¢˜ä¾ç„¶æ²¡è§£å†³ã€‚</p>
<h2 data-id="heading-5">æœåŠ¡å™¨å¤ªå°ï¼Œä½†æˆ‘å½“æ—¶ä¸æƒ³â€œåŠ é’±â€</h2>
<p>JS Bin çš„ä¸»æœåŠ¡è·‘åœ¨ AWS <code>t2.micro</code> ä¸Šï¼šå•æ ¸ CPUã€1GB å†…å­˜ã€‚æˆ‘ä¸€ç›´å¾ˆæƒŠè®¶å®ƒèƒ½åœ¨è¿™ä¹ˆå°‘èµ„æºä¸Šæ’‘è¿™ä¹ˆä¹…ã€‚</p>
<p>å½“ç„¶ï¼Œæ¢æ›´å¤§çš„æœºå™¨ï¼ˆåŠ é’±ï¼‰å¯èƒ½æœ‰ç”¨ã€‚ä½†å½“æ—¶æˆ‘æ²¡æœ‰ä¸€é”®æ„å»ºæ–°æœºå™¨çš„è„šæœ¬â€”â€”è¿™å°æœåŠ¡å™¨å·²ç»å¤šå¹´â€œç¨³å®šè¿è¡Œâ€ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰éšæ—¶å¯ç”¨çš„é‡å»ºæµç¨‹ã€‚</p>
<p>è€Œä¸” JS Bin è™½ç„¶æœ‰ pro ç‰ˆï¼Œä½†ç°é‡‘æµå¹¶ä¸å……è£•ã€‚ç®€è€Œè¨€ä¹‹ï¼šæˆ‘éœ€è¦â€œç«‹åˆ»èƒ½åšâ€çš„äº‹ã€‚</p>
<p>åœ¨ ChatGPTã€Gemini å’Œ Claude çš„å¸®åŠ©ä¸‹ï¼ˆæˆ‘ç”¨å¤šä¸ª LLM æ¥äº¤å‰éªŒè¯å»ºè®®ï¼Œä½†è¯´å®è¯æ²¡æœ‰æˆ‘å¸Œæœ›çš„é‚£ä¹ˆä¸¥è°¨ï¼‰ï¼Œæˆ‘å°è¯•è°ƒä¼˜ nginxï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>worker é…ç½®</li>
<li>proxy timeout</li>
<li>æ–‡ä»¶æè¿°ç¬¦ä¸Šé™</li>
<li>keep-alive</li>
<li>ç”šè‡³ç§»é™¤ http2 æ¥çœå†…å­˜</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">worker_connections 1024;
worker_processes auto;

keepalive_timeout 10;
keepalive_requests 100;
</code></pre>
<p>åœ¨æ¯ç§’ 1000+ è¯·æ±‚ã€è¿˜æœ‰æ›´å¤šè¯·æ±‚åœ¨æ’é˜Ÿçš„æƒ…å†µä¸‹ï¼Œè¿™äº›æ”¹åŠ¨å‡ ä¹æ²¡æœ‰ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚</p>
<p>æ¥ç€æœ‰äººï¼ˆä¹ŸåŒ…æ‹¬ LLMï¼‰æäº†ä¸€ä¸ªé—®é¢˜ï¼šä½ è€ƒè™‘è¿‡ Cloudflare å—ï¼Ÿ</p>
<h2 data-id="heading-6">æŠŠ Cloudflare æ”¾åˆ°å‰é¢</h2>
<p>è¯´å®è¯ï¼ŒæŠŠ Cloudflare æ”¾åˆ° JS Bin å‰é¢å‡ºå¥‡åœ°é¡ºåˆ©ã€‚å®ƒè¯†åˆ«äº†å¤§å¤šæ•°åŸŸåä¸æŒ‡å‘ï¼Œæˆ‘åªè¦æŠŠ DNS çš„ nameserver ä» Route 53 æ¢æˆ Cloudflareã€‚</p>
<p>1 æœˆ 29 æ—¥æ¥è¿‘åˆå¤œæ—¶ï¼Œæˆ‘å¼€å§‹èƒ½åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ <a href="https://link.juejin.cn?target=http%3A%2F%2Fjsbin.com%2F" target="_blank" title="http://jsbin.com/" ref="nofollow noopener noreferrer">jsbin.com</a> äº†ã€‚</p>
<p>ä½†å¾ˆå¿« GitHub å’Œé‚®ä»¶åé¦ˆå‘Šè¯‰æˆ‘ï¼šå¾ˆå¤šäººä¾ç„¶åœ¨æŠ¥é”™ã€‚</p>
<p>å°¤å…¶æ˜¯ Cloudflare çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fsupport%2Ftroubleshooting%2Fhttp-status-codes%2Fcloudflare-5xx-errors%2Ferror-520%2F" target="_blank" title="https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/error-520/" ref="nofollow noopener noreferrer">520</a>â€”â€”åæ¥æˆ‘æ‰çŸ¥é“ï¼Œå®ƒå¯èƒ½å¯¹åº”å¾ˆå¤šä¸åŒçš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-7">è¯·æ±‚ä»ç„¶ç»•è¿‡ Cloudflare</h2>
<p>å³ä¾¿èƒ½æ‰“å¼€é¡µé¢ï¼Œæˆ‘ä¹Ÿèƒ½åœ¨æœåŠ¡å™¨ä¸Šçœ‹åˆ°æœ‰æµé‡è¿˜åœ¨ç›´å†²æºç«™ã€‚</p>
<p>æˆ‘æ‰¾åˆ°äº† Cloudflare çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudflare.com%2Fen-gb%2Fips%2F" target="_blank" title="https://www.cloudflare.com/en-gb/ips/" ref="nofollow noopener noreferrer">IP æ®µåˆ—è¡¨</a>ï¼Œå‘ç°è¿˜æœ‰å¤§é‡è¯·æ±‚å¹¶ä¸æ¥è‡ªè¿™äº› IP æ®µã€‚äºæ˜¯ä¸‹ä¸€æ­¥æ˜¯ï¼šä¸¢å¼ƒé Cloudflare çš„æµé‡ã€‚</p>
<p>è¿™é‡Œå¼€å§‹ï¼ŒLLM çš„å»ºè®®è®©æˆ‘å¼•å…¥äº†æ›´å¤šé—®é¢˜ï¼ˆç›´åˆ°ç¬¬äºŒå¤©æ‰å½»åº•æš´éœ²ï¼‰ã€‚å½“ä½ å¿™åˆ°â€œæ•‘ç«æ¨¡å¼â€ï¼Œå¾ˆå®¹æ˜“åœ¨å¤æ‚åº¦ä¸Šå¤±æ‰‹ã€‚</p>
<p>æˆ‘æœ€å…ˆç”¨çš„æ–¹æ¡ˆæ˜¯ï¼šåœ¨ nginx é‡Œåˆ¤æ–­ Cloudflare çš„è¯·æ±‚å¤´ï¼Œæ²¡å¸¦å¤´å°±ä¸¢å¼ƒã€‚</p>
<pre><code class="hljs language-nginx" lang="nginx">if ($http_cf_ray = "") {
    return 444;
}
</code></pre>
<p><code>444</code> ä¼šç›´æ¥æ–­å¼€è¿æ¥ï¼Œä¸è¿”å›ä»»ä½•å†…å®¹ã€‚</p>
<p>æˆ‘è¿˜æŒ‰ã€ŒCaptain GPTã€çš„æŒ‡å¼•é…ç½®äº† <code>set_real_ip_from</code> ç­‰ï¼ˆè¿™åœ¨ä¹‹åä¼šå‘åˆ°æˆ‘ï¼‰ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx"># /etc/nginx/cloudflare.conf
set_real_ip_from 173.245.48.0/20;
set_real_ip_from 103.21.244.0/22;
set_real_ip_from 103.22.200.0/22;
set_real_ip_from 103.31.4.0/22;
set_real_ip_from 141.101.64.0/18;
set_real_ip_from 108.162.192.0/18;
set_real_ip_from 190.93.240.0/20;
set_real_ip_from 188.114.96.0/20;
set_real_ip_from 197.234.240.0/22;
set_real_ip_from 198.41.128.0/17;
set_real_ip_from 162.158.0.0/15;
set_real_ip_from 104.16.0.0/13;
set_real_ip_from 104.24.0.0/14;
set_real_ip_from 172.64.0.0/13;
set_real_ip_from 131.0.72.0/22;

real_ip_header CF-Connecting-IP;
real_ip_recursive on;
</code></pre>
<p>å¹¶åœ¨ <code>http {}</code> é‡Œ includeï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">http {
    include /etc/nginx/cloudflare.conf;
    ...
}
</code></pre>
<p>è¿™ä¼šè®© <code>$remote_addr</code> å˜æˆçœŸå®ç”¨æˆ· IPï¼Œè€Œä¸æ˜¯ Cloudflare çš„è¾¹ç¼˜èŠ‚ç‚¹ IPã€‚</p>
<p>ä½†é—®é¢˜æ˜¯ï¼šå³ä¾¿è¿™æ ·åšï¼Œæµé‡ä»ç„¶å¾ˆå¤§ï¼›è€Œä¸”è¿™ç§â€œåœ¨ nginx å±‚å¤„ç†å†ä¸¢å¼ƒâ€çš„æ–¹å¼ï¼Œä¾ç„¶ä¼šæ¶ˆè€—èµ„æºã€‚</p>
<h2 data-id="heading-8">æŠŠæ²¹ç»§ç»­å¾€ç«é‡Œæµ‡</h2>
<p>æˆ‘è¿˜ç”¨ <code>ss</code> æŸ¥çœ‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ss -tan state established <span class="hljs-string">'( sport = :443 )'</span>
</code></pre>
<p>æˆ‘ä¾ç„¶èƒ½çœ‹åˆ°ä¸€äº›é Cloudflare çš„è¯·æ±‚æˆåŠŸå»ºç«‹è¿æ¥ï¼ˆå½“æ—¶æˆ‘æ­£å¤„äºã€Œæ”¹é…ç½® â†’ å¤±è´¥ â†’ ç„¦è™‘ â†’ é—® LLM â†’ é‡æ¥ã€çš„å¾ªç¯ä¸­ï¼‰ã€‚</p>
<p>äºæ˜¯æˆ‘åˆæ¢äº†ä¸€ç§ç­–ç•¥ï¼šä¸ç”¨è¯·æ±‚å¤´ï¼Œæ”¹ç”¨æ¥æº IP æ˜¯å¦å±äº Cloudflare çš„ IP æ®µæ¥åˆ¤æ–­ã€‚</p>
<pre><code class="hljs language-nginx" lang="nginx">geo $is_cloudflare {
    default 0;

    173.245.48.0/20    1;
    103.21.244.0/22    1;
    # etc
}
</code></pre>
<p>ç„¶ååœ¨ server block é‡Œï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">server {
    listen 443 ssl http2 default_server;
    if ($is_cloudflare = 0) { return 444; }
    if ($cf_valid = 0) { return 444; }

    # rest of config unchanged
}
</code></pre>
<p>æˆ‘å½“æ—¶æ²¡æ„è¯†åˆ°çš„ä¸€ç‚¹ï¼ˆèŠ±äº† 24 å°æ—¶æ‰æƒ³æ˜ç™½ï¼‰ï¼š</p>
<ul>
<li>ä¹‹å‰é‚£å¥—é…ç½®ä¼šè¯´ã€Œå¦‚æœè¯·æ±‚æ¥è‡ª Cloudflareï¼ŒæŠŠ <code>$remote_addr</code> æ”¹æˆçœŸå®ç”¨æˆ· IPã€ã€‚</li>
<li>ç„¶åè¿™å¥—è§„åˆ™åˆè¯´ã€Œå¦‚æœ <code>$remote_addr</code> ä¸æ˜¯ Cloudflare IPï¼Œå°±ä¸¢å¼ƒã€ã€‚</li>
</ul>
<p>ç»“æœï¼šçœŸæ­£çš„ç”¨æˆ·ï¼ˆç»ç”± Cloudflareï¼‰åè€Œè¢«æˆ‘ä¸¢æ‰äº†ã€‚</p>
<p>ç°åœºå˜æˆäº†æœ€ç³Ÿç³•çš„ä¸¤ä»¶äº‹åŒæ—¶å‘ç”Ÿï¼š</p>
<ul>
<li>ä»ç„¶æœ‰ç»•è¿‡ Cloudflare çš„æµé‡æ‰“è¿›æ¥ï¼Œç»§ç»­è€—èµ„æº</li>
<li>çœŸå®ç”¨æˆ·ç»ç”± Cloudflare è®¿é—®æ—¶ï¼Œå¤§å¤šæ•°å´æ‹¿åˆ° 520</li>
</ul>
<p>æˆ‘ç»ˆäºæ„è¯†åˆ°ï¼šåº”è¯¥åœ¨æ›´é å¤–çš„åœ°æ–¹ï¼ˆé˜²ç«å¢™/å®‰å…¨ç»„ï¼‰ç›´æ¥ä¸¢å¼ƒæµé‡ã€‚</p>
<h2 data-id="heading-9">ç›´æ¥ä¸¢å¼ƒæµé‡ï¼ˆufw + AWS å®‰å…¨ç»„ï¼‰</h2>
<p>æˆ‘åšäº†â€œåŒä¿é™©â€ï¼š</p>
<ul>
<li>åœ¨æœåŠ¡å™¨ä¸Šç”¨ <code>ufw</code>ï¼ˆæˆ‘ä¸€ç›´æŠŠå®ƒå½“æˆ iptablesï¼‰æŒ‰ IP æ®µ <code>ALLOW/DROP</code></li>
<li>åœ¨ AWS security group åŒæ ·åªå…è®¸ Cloudflare IP æ®µè®¿é—® 80/443</li>
</ul>
<p><code>ufw</code> ç›¸å¯¹ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ufw allow from 173.245.48.0/20 to any port 443
ufw allow from 103.21.244.0/22 to any port 443
<span class="hljs-comment"># etc</span>
ufw deny 443
</code></pre>
<p>80 ç«¯å£åŒç†ã€‚</p>
<p>æˆ‘åœ¨æµ‹è¯•æ—¶è¿˜è¸©äº†ä¸ªå°å‘ï¼šæƒ³ä¸´æ—¶æ”¾è¡Œè‡ªå·± IP æ—¶æä¹±äº†è§„åˆ™ï¼›åæ¥ç”¨ <code>ufw status numbered</code> + <code>ufw delete N</code> è§£å†³ã€‚</p>
<p>AWS å®‰å…¨ç»„å°±éº»çƒ¦å¤šäº†ï¼šWeb UI ä¸é€‚åˆå¤§æ‰¹é‡æ”¹åŠ¨ï¼Œéå¸¸ç¬¨é‡ã€‚</p>
<p>æˆ‘æœ€åç”¨ AWS CLI å†™äº†è„šæœ¬ï¼ˆä½†å®ƒä¸èƒ½æ‰¹é‡ä¿®æ”¹ï¼Œä¸€æ¡æ¡æ‰§è¡Œè¿˜å¾—ç­‰å¾…è¿”å›å†æŒ‰å›è½¦ï¼Œæ•ˆç‡å¾ˆä½ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">for</span> CIDR <span class="hljs-keyword">in</span> \
   103.21.244.0/22 \
   103.22.200.0/22 \
   103.31.4.0/22 \
   <span class="hljs-comment"># etc</span>
<span class="hljs-keyword">do</span>
   aws ec2 authorize-security-group-ingress --group-id <span class="hljs-variable">$SG_ID</span> --protocol tcp --port 80  --cidr <span class="hljs-variable">$CIDR</span> --region us-east-1
   aws ec2 authorize-security-group-ingress --group-id <span class="hljs-variable">$SG_ID</span> --protocol tcp --port 443 --cidr <span class="hljs-variable">$CIDR</span> --region us-east-1
<span class="hljs-keyword">done</span>
</code></pre>
<p>åšåˆ°è¿™ä¸€æ­¥ï¼ŒæœåŠ¡å™¨ç»ˆäºå¼€å§‹â€œå–˜æ°”â€äº†ã€‚</p>
<p>ä½†å¾ˆå¤šç”¨æˆ·ä»ç„¶è¢« Cloudflare çš„ 520 æ‹¦ä½ï¼ˆå¥‡æ€ªçš„æ˜¯æˆ‘è‡ªå·±è¿˜èƒ½è®¿é—®â€¦â€¦ï¼‰ã€‚</p>
<h2 data-id="heading-10">520ï¼šä¸æ˜¯ 503/504ï¼Œè€Œæ˜¯â€œä¸å…¼å®¹â€</h2>
<p>æˆ‘åŸæœ¬ä»¥ä¸º 520 ç±»ä¼¼ 503ï¼ˆæºç«™æŒ‚äº†ï¼‰æˆ– 504ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ï¼Œä½†å®é™…ä¸Šæ›´åƒæ˜¯ï¼š</p>
<blockquote>
<p>Cloudflare å‘èµ·è¯·æ±‚ï¼Œä½†æºç«™çš„å“åº”å¯¹ Cloudflare æ¥è¯´â€œä¸å…¼å®¹â€ã€‚</p>
</blockquote>
<p>æˆ‘èƒ½ç¡®å®šä¸€ä¸ªçº¿ç´¢ï¼š80 ç«¯å£çš„çº¯ HTTP æ²¡é—®é¢˜ï¼Œåªæœ‰ HTTPS å‡ºé—®é¢˜ã€‚</p>
<p>æœ‰ä¸ªå¾ˆå…³é”®çš„è§‚å¯Ÿæ¥è‡ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjsbin%2Fjsbin%2Fissues%2F3583%23issuecomment-3823361117" target="_blank" title="https://github.com/jsbin/jsbin/issues/3583#issuecomment-3823361117" ref="nofollow noopener noreferrer">@robobuljan</a>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl jsbin.com             <span class="hljs-comment"># ï¼ˆæ­£å¸¸ï¼‰</span>
curl http://jsbin.com      <span class="hljs-comment"># ï¼ˆæ­£å¸¸ï¼‰</span>
curl https://jsbin.com     <span class="hljs-comment"># 520</span>
</code></pre>
<p>è¿™ä¸€å¤©é‡Œï¼ŒLLM åŸºæœ¬å¸®ä¸ä¸Šå¿™ï¼ˆæˆ‘ä¹Ÿå¹²è„†æŠŠå®ƒä»¬æ”¾ä¸€è¾¹ï¼Œä¸“å¿ƒå•ƒé—®é¢˜ï¼‰ã€‚</p>
<p>æˆ‘åœ¨ Cloudflare çš„ SSL/TLS é¡µé‡Œçœ‹åˆ°ã€ŒTraffic Served Over TLSã€æ˜¾ç¤º TLS ç‰ˆæœ¬åˆ†å¸ƒï¼ˆæˆ‘æ²¡æˆªå›¾ï¼Œè¿™äº›æ•°æ¥è‡ªå®ƒä»¬çš„ APIï¼‰ï¼š</p>
<ul>
<li>TLSv1ï¼š36</li>
<li>TLSv1.1ï¼š56</li>
<li>TLSv1.2ï¼š1,922,523</li>
<li>TLSv1.3ï¼š5,216,795</li>
</ul>
<p>æˆ‘çš„ nginx é…ç½®é‡Œåå¤å‡ºç°è¿™è¡Œï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
</code></pre>
<p>æ²¡æœ‰ TLSv1.3ã€‚</p>
<p>æˆ‘å…ˆå°è¯•åœ¨ nginx åŠ ä¸Š <code>TLSv1.3</code>ï¼Œä½† <code>nginx -t</code> ç›´æ¥å¤±è´¥ï¼šå½“å‰ç¯å¢ƒç¼ºæ¨¡å—ï¼Œè€Œä¸”è¦åšå¤§å‡çº§æ‰èƒ½è£…ä¸Šã€‚</p>
<p>é‚£å°±æ¢æ€è·¯ï¼šèƒ½ä¸èƒ½åœ¨ Cloudflare ä¾§ç¦ç”¨ TLS 1.3ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯èƒ½ï¼Œä½†å…¥å£å¾ˆéšè”½ï¼š</p>
<ul>
<li>æŸ¥çœ‹æ”¯æŒæƒ…å†µåœ¨ã€ŒSpeed / Settingsã€</li>
<li>çœŸæ­£å…³é—­åœ¨ã€ŒSSL/TLS â†’ Edge Certificatesã€ï¼Œé¡µé¢é åçš„ä½ç½®</li>
</ul>
<p>ç¦ç”¨ TLS 1.3 åï¼Œå¤§é‡çœŸå®æµé‡æ¢å¤æ­£å¸¸ã€‚</p>
<h2 data-id="heading-11">ä»ç„¶æœ‰éƒ¨åˆ†ç”¨æˆ·åŠ è½½å¤±è´¥ï¼ˆstatic/null åŸŸåï¼‰</h2>
<p>æ¥ç€åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šéƒ¨åˆ†ç”¨æˆ·çš„é™æ€èµ„æºåŠ è½½ä¸äº†ï¼Œæˆ–è€…ç”¨äºè¿è¡Œä»£ç çš„ iframe åŸŸåï¼ˆ<code>null.jsbin.com</code>ï¼‰å¼‚å¸¸ã€‚</p>
<p>æˆ‘èŠ±äº†å‡ ä¸ªå°æ—¶æ‰ç†æ¸…ï¼šæˆ‘æ›¾è®© nginx åœ¨ã€Œè¯·æ±‚æ¥è‡ª Cloudflare æ—¶ã€ä½¿ç”¨ <code>set_real_ip_from</code> æŠŠ <code>$remote_addr</code> æ”¹å†™ä¸ºçœŸå®ç”¨æˆ· IPï¼Œè€Œåç»­åˆç”¨ <code>return 444</code> å»ä¸¢å¼ƒâ€œä¸ç¬¦åˆæ¡ä»¶â€çš„è¯·æ±‚ã€‚</p>
<p>ä¸çŸ¥ä¸ºä½•ï¼Œè¿™å¥—æ··ä¹±çš„è§„åˆ™å¹¶æ²¡æœ‰å½±å“ä¸»ç«™é¦–é¡µï¼Œä½†å´å½±å“äº† <code>static.jsbin.com</code> ä¸ <code>null.jsbin.com</code>ã€‚</p>
<p>è¿™å°±æ˜¯ç†¬å¤œ + å±æœºæ¨¡å¼çš„å…¸å‹åæœï¼šé…ç½®å˜æˆä¸€å›¢ç³Ÿï¼Œè‡ªå·±ä¹Ÿè¯´ä¸æ¸…åˆ°åº•å“ªäº›è§„åˆ™åœ¨ä»€ä¹ˆæ—¶å€™ç”Ÿæ•ˆã€‚</p>
<p>å½“æˆ‘æœ€ç»ˆç§»é™¤è¿™äº›ä¸´æ—¶æ‹¼å‡‘çš„æ£€æŸ¥ã€IP æ”¹å†™ä¸ä¸€å †ç”± LLM å¼•å…¥çš„â€œæ‚è´¨â€åï¼Œæœ€åé‚£éƒ¨åˆ†æµé‡ä¹Ÿæ¢å¤äº†ã€‚</p>
<p>JS Bin å…¨é¢æ¢å¤ã€‚</p>
<h2 data-id="heading-12">äº‹åå¤ç›˜</h2>
<p>ç°åœ¨ Cloudflare é¡¶åœ¨æºç«™å‰é¢ï¼Œè¿™å° 1GB å•æ ¸çš„å°æœºå™¨å±…ç„¶éå¸¸ä»å®¹ï¼šCPU å¸¸æ€åªæœ‰ 4%~5%ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42dee973f30647dcadd91c22fd230773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375658&amp;x-signature=Cpcnl%2B5wD%2Bez%2FBkmuz2y%2BgCd2nw%3D" alt="" loading="lazy"/></p>
<p>æˆ‘æ€€ç–‘å¦‚æœå½“æ—¶æ²¡é‚£ä¹ˆä¾èµ– LLMï¼Œæˆ‘å¯èƒ½ä¼šæ›´æ—©æ„è¯†åˆ°è‡ªå·±åœ¨ä¸æ–­å¢åŠ å¤æ‚åº¦ã€‚ä½†å¦ä¸€æ–¹é¢ï¼šæˆ‘ä¹Ÿæ—©è¯¥æŠŠ Cloudflare æ”¾åˆ° JS Bin å‰é¢â€”â€”ä¸è¯¥ç­‰åˆ°å±æœºæ—¶åˆ»æ‰åšã€‚</p>
<p>è¿™æ¬¡æˆ‘å­¦åˆ°çš„â€œå‘â€ä¸»è¦æ˜¯ï¼š</p>
<ul>
<li>TLS ç‰ˆæœ¬ä¸åŒ¹é…ä¼šå¯¼è‡´ 520</li>
<li>520 çš„è¯­ä¹‰è¿œæ¯”æˆ‘ä»¥ä¸ºçš„å¤æ‚</li>
</ul>
<p>ä» CloudWatch çœ‹ï¼Œæµé‡ç¡®å®å›è½äº†ï¼›æˆ‘ç›¸ä¿¡ Cloudflare å·²ç»æ›¿æˆ‘æŒ¡æ‰äº†å¾ˆå¤šåƒåœ¾æµé‡ã€‚çœ‹èµ·æ¥å…¶ä¸­ä¸€å¤§å—æ¥è‡ªé¦™æ¸¯â€”â€”æˆ‘ç»™é‚£è¾¹å¼€äº† Cloudflare çš„ JS Challenge æ‰èƒ½ç»§ç»­è®¿é—®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eacf101d66345c993ac7f4c8f00f0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771375658&amp;x-signature=sEK6OyXRgAv3LHRJDyW8J4C4g30%3D" alt="" loading="lazy"/></p>
<p>æ‹æˆªå›¾å 24 å°æ—¶å†…é¦™æ¸¯æœ‰ 1000 ä¸‡è¯·æ±‚ã€‚</p>
<p>è‡³äºåˆ°åº•æ˜¯ä»€ä¹ˆå¯¼è‡´è¿™æ³¢æµé‡æŠŠä¸€åˆ‡æ‰“å´©ï¼Œæˆ‘ææ€•æ°¸è¿œæ— æ³•ç¡®å®šã€‚æˆ‘ç›´è§‰æ€€ç–‘æ˜¯ AI/LLM çš„çˆ¬è™«åœ¨â€œå¸â€æ•´ä¸ªäº’è”ç½‘ï¼›ä½†åè¯æ˜¯ï¼šæµé‡å¹¶ä¸æ¥è‡ªå•ä¸€ IPã€‚</p>
<p>è®½åˆºçš„æ˜¯ï¼Œæˆ‘å€’æ˜¯åœ¨è‡ªå·±çš„åšå®¢ä¸Šçœ‹åˆ°è¿‡ä¸€ä¸ªå• IP çˆ¬è™«ï¼ˆè§<a href="https://link.juejin.cn?target=https%3A%2F%2Fbsky.app%2Fprofile%2Fremysharp.com%2Fpost%2F3mb55uwp3vk2j" target="_blank" title="https://bsky.app/profile/remysharp.com/post/3mb55uwp3vk2j" ref="nofollow noopener noreferrer">è¿™ä¸ªé“¾æ¥</a>ï¼‰ï¼šå‡ ä¸ªå°æ—¶å†… 3GB æ•°æ®ã€32.5 ä¸‡æ¬¡è¯·æ±‚ã€‚å¥½åœ¨åšå®¢æ˜¯è·‘åœ¨ Netlify çš„çº¯é™æ€ç«™ä¸Šï¼Œä¸åƒ JS Bin è¿˜åœ¨è·‘ Node 7ï¼ˆæ˜¯çš„ï¼ŒçœŸçš„æ˜¯ Node 7ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Studio Panda 1 æ­£å¼ç‰ˆæ¥äº†ï¼šJDK ç»ˆäºä¸ç”¨æ‰‹åŠ¨é…äº†ï¼Œå†…å­˜æ³„æ¼ä¹Ÿæœ‰åŸç”Ÿæ–¹æ¡ˆäº†]]></title>    <link>https://juejin.cn/post/7605097326727266350</link>    <guid>https://juejin.cn/post/7605097326727266350</guid>    <pubDate>2026-02-11T00:57:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605097326727266350" data-draft-id="7605041556656685065" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Studio Panda 1 æ­£å¼ç‰ˆæ¥äº†ï¼šJDK ç»ˆäºä¸ç”¨æ‰‹åŠ¨é…äº†ï¼Œå†…å­˜æ³„æ¼ä¹Ÿæœ‰åŸç”Ÿæ–¹æ¡ˆäº†"/> <meta itemprop="keywords" content="Android,Android Studio"/> <meta itemprop="datePublished" content="2026-02-11T00:57:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»„æ—æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/3985057546510423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Studio Panda 1 æ­£å¼ç‰ˆæ¥äº†ï¼šJDK ç»ˆäºä¸ç”¨æ‰‹åŠ¨é…äº†ï¼Œå†…å­˜æ³„æ¼ä¹Ÿæœ‰åŸç”Ÿæ–¹æ¡ˆäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3985057546510423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»„æ—æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T00:57:06.000Z" title="Wed Feb 11 2026 00:57:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¯æ¬¡æ¢ç”µè„‘ã€æ‹‰æ–°é¡¹ç›®ï¼Œæœ€è®© Android å¼€å‘è€…å¤´ç–¼çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ä¸æ˜¯ Gradle åŒæ­¥æ…¢ï¼Œä¸æ˜¯æ¨¡æ‹Ÿå™¨å¡â€”â€”æ˜¯ <strong>JDK ç‰ˆæœ¬åˆä¸å¯¹äº†</strong>ã€‚</p>
<p>æ˜æ˜æœ¬åœ°è£…äº† JDK 17ï¼Œä½†é¡¹ç›®è¦ JDK 21ï¼›CI æœºå™¨ä¸Šè·‘å¾—å¥½å¥½çš„ï¼Œä½ çš„ç”µè„‘å°±æ˜¯ç¼–è¯‘ä¸è¿‡ã€‚æ”¹ <code>JAVA_HOME</code>ã€æ”¹ Gradle é…ç½®ã€æ”¹ IDE è®¾ç½®â€¦â€¦æŠ˜è…¾åŠå¤©ï¼Œä»£ç ä¸€è¡Œæ²¡å†™ã€‚</p>
<p>å¥½æ¶ˆæ¯ï¼š<strong>Android Studio Panda 1 ç¨³å®šç‰ˆæ­£å¼å‘å¸ƒäº†</strong>ï¼Œè¿™ä¸ªé—®é¢˜ç»ˆäºè¢«ç³»ç»Ÿçº§è§£å†³äº†ã€‚</p>
<h2 data-id="heading-0">Gradle Daemon JVM Criteriaï¼šJDK ç®¡ç†çš„ç»ˆææ–¹æ¡ˆ</h2>
<p>è¿™æ˜¯ Panda 1 æœ€é‡è¦çš„æ–°åŠŸèƒ½ï¼Œä¹Ÿæ˜¯æœ€å€¼å¾—å‡çº§çš„ç†ç”±ã€‚</p>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼šGradle ç°åœ¨èƒ½è‡ªåŠ¨æ‰¾åˆ°ã€ç”šè‡³è‡ªåŠ¨ä¸‹è½½æ­£ç¡®çš„ JDK äº†ã€‚</strong></p>
<h3 data-id="heading-1">ä»¥å‰çš„ç—›è‹¦</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">//Â æ¯ä¸ªå¼€å‘è€…éƒ½ç»å†è¿‡çš„å™©æ¢¦</span>
âŒÂ CouldÂ <span class="hljs-keyword">not</span>Â determineÂ javaÂ versionÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'21.0.1'</span>
âŒÂ IncompatibleÂ becauseÂ <span class="hljs-keyword">this</span>Â componentÂ declaresÂ aÂ componentÂ <span class="hljs-keyword">for</span>Â useÂ duringÂ compile-time...
âŒÂ <span class="hljs-function">GradleÂ DaemonÂ disappearedÂ <span class="hljs-title">unexpectedly</span>Â (<span class="hljs-params">JDKÂ versionÂ mismatch</span>)
</span></code></pre>
<p>JDK ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„é—®é¢˜äº”èŠ±å…«é—¨ï¼šç¼–è¯‘å¤±è´¥ã€Daemon è¿›ç¨‹å´©æºƒã€å¤šä¸ª Daemon åŒæ—¶è¿è¡Œæ‹–æ…¢ç”µè„‘â€¦â€¦æ¯ä¸ª Android å¼€å‘è€…éƒ½è¢«æŠ˜ç£¨è¿‡ã€‚</p>
<h3 data-id="heading-2">ç°åœ¨çš„æ–¹æ¡ˆ</h3>
<p>Panda 1 å¼•å…¥äº† <strong>Gradle Daemon JVM Criteria</strong>ï¼ˆåŸºäº Gradle 9.2.0ï¼‰ï¼Œå·¥ä½œåŸç†æ˜¯ï¼š</p>
<ol>
<li>
<ol>
<li><strong>è‡ªåŠ¨æ£€æµ‹</strong>ï¼šGradle æ‰«æä½ æœºå™¨ä¸Šå·²å®‰è£…çš„ JDKï¼Œæ‰¾åˆ°å…¼å®¹ç‰ˆæœ¬</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>è‡ªåŠ¨ä¸‹è½½</strong>ï¼šå¦‚æœæ‰¾ä¸åˆ°åˆé€‚çš„ JDKï¼ŒGradle è‡ªåŠ¨å¸®ä½ ä¸‹è½½å¹¶é…ç½®</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>å…¨å±€ä¸€è‡´</strong>ï¼šæ— è®ºæ˜¯ IDE æ„å»ºè¿˜æ˜¯å‘½ä»¤è¡Œæ„å»ºï¼Œä½¿ç”¨çš„ JDK å®Œå…¨ä¸€è‡´</li>
</ol>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/121df8f002e24a10a719e9b35fbbba21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=mlaPb19OWoKxrlDUS1sH%2F5BYvjY%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">å®é™…æ•ˆæœ</h3>






























<table><thead><tr><th>åœºæ™¯</th><th>ä»¥å‰</th><th>ç°åœ¨</th></tr></thead><tbody><tr><td>æ–°ç”µè„‘æ‹‰é¡¹ç›®</td><td>æ‰‹åŠ¨å®‰è£… JDK â†’ é…ç½®ç¯å¢ƒå˜é‡ â†’ ä¿®æ”¹ Gradle è®¾ç½®</td><td><strong>ç›´æ¥ Syncï¼Œè‡ªåŠ¨æå®š</strong></td></tr><tr><td>å›¢é˜Ÿæˆå‘˜ JDK ç‰ˆæœ¬ä¸åŒ</td><td>å„ç§è¯¡å¼‚ç¼–è¯‘é”™è¯¯</td><td><strong>è‡ªåŠ¨ç»Ÿä¸€ç‰ˆæœ¬</strong></td></tr><tr><td>CI/CD ç¯å¢ƒ</td><td>ç»´æŠ¤ JDK å®‰è£…è„šæœ¬</td><td><strong>Gradle è‡ªåŠ¨ Provision</strong></td></tr><tr><td>å¤šé¡¹ç›®åˆ‡æ¢</td><td>é¢‘ç¹åˆ‡æ¢ JAVA_HOME</td><td><strong>æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ç®¡ç†</strong></td></tr></tbody></table>
<h3 data-id="heading-4">æ€ä¹ˆè¿ç§»ï¼Ÿ</h3>
<p>å¯¹äºå·²æœ‰é¡¹ç›®ï¼ŒAndroid Studio ä¼šå¼¹å‡ºé€šçŸ¥ï¼Œæä¾›<strong>ä¸€é”®è¿ç§»</strong>é€‰é¡¹ï¼Œè‡ªåŠ¨å°†æ—§çš„ Gradle JDK é…ç½®è¿ç§»åˆ°æ–°çš„ Daemon JVM Criteriaã€‚</p>
<p>æ‰‹åŠ¨é…ç½®è·¯å¾„ï¼š<strong>File â†’ Settings â†’ Build, Execution, Deployment â†’ Build Tools â†’ Gradle</strong></p>
<h2 data-id="heading-5">LeakCanary é›†æˆåˆ° Profilerï¼šå†…å­˜æ³„æ¼åˆ†ææ¬åˆ° PC ç«¯</h2>
<p>å¦‚æœä½ æ˜¯ Android å¼€å‘è€…ï¼Œå¤§æ¦‚ç‡ç”¨è¿‡ LeakCanaryâ€”â€”é‚£ä¸ªæ£€æµ‹å†…å­˜æ³„æ¼çš„ç¥å™¨ã€‚</p>
<p>ä½† LeakCanary æœ‰ä¸ªä¸å¤ªçˆ½çš„åœ°æ–¹ï¼š<strong>æ³„æ¼åˆ†ææ˜¯åœ¨è®¾å¤‡ç«¯è¿›è¡Œçš„</strong>ã€‚æ‰‹æœºæœ¬èº«çš„ç®—åŠ›æœ‰é™ï¼Œåˆ†æå¤§å‹ Heap Dump çš„æ—¶å€™ï¼Œè®¾å¤‡ä¼šæ˜æ˜¾å¡é¡¿ï¼Œç”šè‡³å¯èƒ½ OOMã€‚</p>
<p>Panda 1 çš„åšæ³•å¾ˆèªæ˜ï¼š</p>
<p><strong>æŠŠ LeakCanary çš„åˆ†æèƒ½åŠ›é›†æˆåˆ° Android Studio Profiler ä¸­ï¼Œåˆ†æè¿‡ç¨‹åœ¨å¼€å‘æœºä¸Šæ‰§è¡Œã€‚</strong></p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li>â€¢ Profiler ä¸­æ–°å¢äº†ä¸“é—¨çš„ <strong>LeakCanary Task</strong></li>
<li>â€¢ å†…å­˜æ³„æ¼åˆ†æä»è®¾å¤‡ç«¯è½¬ç§»åˆ°å¼€å‘æœºï¼Œ<strong>æ€§èƒ½å¤§å¹…æå‡</strong></li>
<li>â€¢ åˆ†æç»“æœç›´æ¥å…³è”æºç ï¼Œæ”¯æŒ <strong>Jump to Source</strong> ä¸€é”®è·³è½¬</li>
<li>â€¢ è¿˜èƒ½ä¸€é”®å°†åˆ†æç»“æœå¤åˆ¶ç»™ <strong>Gemini</strong> è¿›è¡Œæ™ºèƒ½è§£è¯»</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼šä½ ä¸å†éœ€è¦ç›¯ç€æ‰‹æœºå±å¹•çœ‹é‚£å † Reference Chainï¼Œè€Œæ˜¯åœ¨ IDE é‡Œå°±èƒ½å®Œæˆä»<strong>æ£€æµ‹ â†’ åˆ†æ â†’ å®šä½ â†’ ä¿®å¤</strong>çš„å®Œæ•´æµç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/207b9ba7acdc44b0984d3e6d42554c45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=wMNYOF6kzNuA7lTOvo6GzFnl6eg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">Gemini AI èƒ½åŠ›å…¨é¢å‡çº§</h2>
<p>AI è¾…åŠ©å¼€å‘å·²ç»ä¸æ˜¯æ–°é²œäº‹äº†ï¼Œä½† Panda 1 æŠŠ Gemini çš„èƒ½åŠ›åˆå¾€å‰æ¨äº†ä¸€å¤§æ­¥ã€‚</p>
<h3 data-id="heading-7">AI åˆ›å»ºæ–°é¡¹ç›®</h3>
<p>æ²¡é”™ï¼Œä½ ç°åœ¨å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè®© Gemini å¸®ä½ <strong>ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®</strong>ï¼š</p>
<ul>
<li>â€¢ <strong>New Project â†’ Create with AI</strong></li>
<li>â€¢ è¾“å…¥æè¿°ï¼Œæ¯”å¦‚ã€Œä¸€ä¸ªå¸¦åº•éƒ¨å¯¼èˆªçš„å¤©æ°” Appï¼Œä½¿ç”¨ Compose + MVVMã€</li>
<li>â€¢ Gemini ä¼šç”Ÿæˆç»“æ„åŒ–æ–¹æ¡ˆï¼Œç„¶å<strong>è‡ªä¸»æ‰§è¡Œç”Ÿæˆå¾ªç¯</strong></li>
</ul>
<p>æ”¯æŒç”Ÿæˆçš„é¡¹ç›®ç±»å‹ï¼š</p>
<ul>
<li>â€¢ å•é¡µé¢é™æ€ UI å¸ƒå±€</li>
<li>â€¢ å¤šé¡µé¢å¸¦å¯¼èˆªçš„åº”ç”¨</li>
<li>â€¢ é›†æˆ Gemini API çš„ AI å¢å¼ºåº”ç”¨</li>
<li>â€¢ è°ƒç”¨å…¬å¼€ API çš„åº”ç”¨</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67db69727169478e86cfce6d340e5abd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=O4h18sOTWByAxBBMSB75qRlMyMo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">AI å‡çº§ä¾èµ–</h3>
<p>ä¾èµ–å‡çº§ä¸€ç›´æ˜¯ Android é¡¹ç›®ç»´æŠ¤ä¸­æœ€å¤´ç–¼çš„äº‹æƒ…ä¹‹ä¸€ã€‚å‡ä¸€ä¸ªåº“ï¼Œå¯èƒ½ç‰µå‡ºä¸€å †å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<p>ç°åœ¨ä½ å¯ä»¥ï¼š</p>
<ul>
<li>â€¢ <strong>Refactor â†’ Update dependencies</strong></li>
<li>â€¢ æˆ–è€…åœ¨ <code>libs.versions.toml</code> ä¸­æ‚¬åœç‰ˆæœ¬å· â†’ <strong>Update all libraries with Gemini</strong></li>
</ul>
<p>Gemini ä¼šï¼š</p>
<ol>
<li>ç”Ÿæˆå‡çº§è®¡åˆ’æ¦‚è§ˆ</li>
<li>é€æ­¥æ‰§è¡Œå‡çº§</li>
<li><strong>è‡ªåŠ¨è§£å†³å‡çº§è¿‡ç¨‹ä¸­çš„ç¼–è¯‘é”™è¯¯</strong></li>
<li>æä¾›å˜æ›´å®¡æŸ¥ï¼Œæ”¯æŒæ¥å—æˆ–å›æ»š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaa3b718bdbe42959f1808da1f8a0e05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=mC6pGyQPbFJf4w9qDILPe9rNdoo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">AI å´©æºƒä¿®å¤å»ºè®®</h3>
<p>åœ¨ <strong>App Quality Insights</strong> é¢æ¿ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªå´©æºƒ â†’ ç‚¹å‡» <strong>Suggest a fix</strong>ï¼ŒGemini ä¼šç»“åˆä½ çš„æºç å’Œå´©æºƒå †æ ˆï¼Œç»™å‡ºå…·ä½“çš„ä¿®å¤å»ºè®®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42da59bd368f4eaca5cdd60d599cde6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=jgbWGvricS%2FGJP%2Fy94tmXxmtfxQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">Compose å¼€å‘ä½“éªŒå‡çº§</h2>
<h3 data-id="heading-11">Compose Preview Screenshot Testing</h3>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–°å·¥å…·ï¼š<strong>è‡ªåŠ¨ç”Ÿæˆ UI å›å½’æµ‹è¯•æŠ¥å‘Š</strong>ã€‚</p>
<ul>
<li>â€¢ ä¸ºä½ çš„ Compose Preview ç”Ÿæˆæˆªå›¾åŸºå‡†</li>
<li>â€¢ åç»­æ¯æ¬¡ä¿®æ”¹ï¼Œè‡ªåŠ¨å¯¹æ¯”æ˜¯å¦æœ‰ UI å˜åŒ–</li>
<li>â€¢ ç”Ÿæˆ HTML æ ¼å¼çš„å¯è§†åŒ–æŠ¥å‘Š</li>
<li>â€¢ å¸®ä½ åœ¨ä»£ç åˆå…¥å‰å°±å‘ç° UI å›å½’é—®é¢˜</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8195551a82745b69bb8c3ca8c337d3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376229&amp;x-signature=y88jvgFnXINOYuDZYqY1g7jMBq0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">Recomposition State Readsï¼ˆPanda 2 é¢„è§ˆï¼‰</h3>
<p>è¿™ä¸ªåŠŸèƒ½ç›®å‰åœ¨ Panda 2 Canary ä¸­å¯ç”¨ï¼Œä½†å€¼å¾—æå‰å…³æ³¨ï¼š</p>
<ul>
<li>â€¢ åœ¨ Layout Inspector ä¸­<strong>è¿½è¸ª Recomposition çš„è§¦å‘åŸå› </strong></li>
<li>â€¢ æŸ¥çœ‹æ˜¯å“ªä¸ª State å˜é‡çš„å˜åŒ–å¯¼è‡´äº†é‡ç»„</li>
<li>â€¢ æ”¯æŒ <strong>Explain with AI</strong> ç”¨è‡ªç„¶è¯­è¨€è§£é‡Šé‡ç»„é“¾è·¯</li>
</ul>
<p>å¯¹äºä¼˜åŒ– Compose æ€§èƒ½æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯ç¥å™¨ã€‚</p>
<h2 data-id="heading-13">IntelliJ 2025.3 å¹³å°å‡çº§</h2>
<p>Android Studio Panda 1 åŸºäº <strong>IntelliJ IDEA 2025.3</strong> å¹³å°ï¼Œå¸¦æ¥äº†åº•å±‚çš„å…¨é¢å‡çº§ï¼š</p>





























<table><thead><tr><th>æ”¹è¿›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Command Completion</strong></td><td>è¾“å…¥ <code>.</code> è§¦å‘ä»£ç è¡¥å…¨ã€åç¼€è¡¥å…¨å’Œ Action å»ºè®®ï¼›è¾“å…¥ <code>..</code> åªè¿‡æ»¤ Action</td></tr><tr><td><strong>800+ Bug ä¿®å¤</strong></td><td>å¤§é‡ç¨³å®šæ€§å’Œæ€§èƒ½æ”¹è¿›</td></tr><tr><td><strong>Java 25 æ”¯æŒ</strong></td><td>æ†ç»‘å·¥å…·å…¨é¢å…¼å®¹ Java 25 è¿è¡Œæ—¶</td></tr><tr><td><strong>AI å¢å¼º</strong></td><td>æ”¯æŒè¿æ¥è‡ªå®šä¹‰ AI Providerï¼Œä¸ Claude Agent åœ¨ç»Ÿä¸€èŠå¤©ç•Œé¢ä¸­äº¤äº’</td></tr><tr><td><strong>ç»Ÿä¸€ç‰ˆæœ¬</strong></td><td>IntelliJ ä¸å†åŒºåˆ† Community å’Œ Ultimateï¼Œæ›´å¤šåŠŸèƒ½å…è´¹å¼€æ”¾</td></tr></tbody></table>
<h2 data-id="heading-14">AGP å…¼å®¹æ€§ï¼š3 å¹´æ»šåŠ¨æ”¯æŒç­–ç•¥</h2>
<p>Panda 1 æ”¯æŒçš„ Android Gradle Plugin ç‰ˆæœ¬èŒƒå›´ï¼š<strong>AGP 4.0 - 9.0</strong></p>
<p>Google æ¨è¡Œäº†æ–°çš„ <strong>3 å¹´æ»šåŠ¨å…¼å®¹ç­–ç•¥</strong>ï¼šæ¯ä¸ª Android Studio ç‰ˆæœ¬æ”¯æŒè¿‡å» 3 å¹´å†…å‘å¸ƒçš„ AGP ç‰ˆæœ¬ã€‚è¶…è¿‡ 3 å¹´çš„æ—§ç‰ˆæœ¬å°†ä¸å†å…¼å®¹ã€‚</p>
<p>è¿™æ„å‘³ç€å¦‚æœä½ çš„é¡¹ç›®è¿˜åœ¨ç”¨ AGP 3.xï¼Œæ˜¯æ—¶å€™å‡çº§äº†ã€‚</p>
<h2 data-id="heading-15">å…¶ä»–å€¼å¾—å…³æ³¨çš„å˜åŒ–</h2>
<ul>
<li>â€¢ <strong>Material Symbols é›†æˆ</strong>ï¼šVector Asset Studio ç°åœ¨å¯ä»¥ç›´æ¥æœç´¢å’Œä½¿ç”¨ Google Material Symbols å›¾æ ‡åº“ï¼Œæ”¯æŒè°ƒæ•´ Weightã€Gradeã€Optical Size</li>
<li>â€¢ <strong>Monochrome Icon æ”¯æŒ</strong>ï¼šImage Asset Studio æ–°å¢ Monochrome æ ‡ç­¾é¡µï¼Œæ–¹ä¾¿ä¸º Android 13+ åˆ›å»ºä¸»é¢˜åŒ–åº”ç”¨å›¾æ ‡</li>
<li>â€¢ <strong>Layout Inspector 3D æ¨¡å¼åºŸå¼ƒ</strong>ï¼šå®˜æ–¹è®¤ä¸ºæ ‡å‡† 2D è§†å›¾å’Œ Component Tree å·²èƒ½æ»¡è¶³ç»å¤§å¤šæ•°è°ƒè¯•éœ€æ±‚</li>
<li>â€¢ <strong>Custom View Preview åºŸå¼ƒ</strong>ï¼šéšç€ Compose æˆä¸ºä¸»æµï¼Œæ—§çš„è‡ªå®šä¹‰ View é¢„è§ˆåŠŸèƒ½æ­£å¼é€€åœº</li>
<li>â€¢ <strong>äº‘æœåŠ¡ç‰ˆæœ¬é™åˆ¶</strong>ï¼šä» Narwhal Feature Drop å¼€å§‹ï¼ŒGeminiã€Play Vitalsã€Firebase Crashlytics ç­‰äº‘æœåŠ¡ä»…æ”¯æŒæœ€æ–°ç¨³å®šç‰ˆåŠå‰ 10 ä¸ªæœˆå†…çš„ä¸»è¦ç‰ˆæœ¬</li>
</ul>
<h2 data-id="heading-16">æ€ä¹ˆå‡çº§ï¼Ÿ</h2>
<ol>
<li>
<ol>
<li><strong>å·²å®‰è£… Android Studio</strong>ï¼šHelp â†’ Check for updates</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>å…¨æ–°å®‰è£…</strong>ï¼šå‰å¾€ developer.android.com/studio ä¸‹è½½</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>ç‰ˆæœ¬å·</strong>ï¼š2025.3.1</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>æœ€ä½è¦æ±‚</strong>ï¼šAGP 4.0+ï¼Œæ¨èä½¿ç”¨ AGP 9.0</li>
</ol>
</li>
</ol>
<h2 data-id="heading-17">å†™åœ¨æœ€å</h2>
<p>Android Studio çš„æ›´æ–°èŠ‚å¥è¶Šæ¥è¶Šå¿«ï¼Œä» Meerkat åˆ° Narwhal åˆ° Otterï¼Œå†åˆ°ç°åœ¨çš„ Pandaâ€”â€”åŠ¨ç‰©å›­å·²ç»å¿«å‡‘é½äº†ã€‚</p>
<p>ä½† Panda 1 è¿™æ¬¡çš„æ›´æ–°ï¼Œæ˜¯çœŸçš„è§£å†³äº†å®é™…ç—›ç‚¹ï¼š</p>
<ul>
<li>â€¢ <strong>JDK è‡ªåŠ¨ç®¡ç†</strong>ï¼Œç»ˆäºä¸ç”¨åœ¨æ¯å°æ–°ç”µè„‘ä¸Šéƒ½æŠ˜è…¾ä¸€éç¯å¢ƒäº†</li>
<li>â€¢ <strong>LeakCanary é›†æˆ</strong>ï¼Œå†…å­˜æ³„æ¼åˆ†æä»æ­¤åœ¨ IDE é‡Œä¸€ç«™å¼å®Œæˆ</li>
<li>â€¢ <strong>Gemini å…¨é¢åŠ æŒ</strong>ï¼Œä»å»ºé¡¹ç›®åˆ°å‡ä¾èµ–åˆ°ä¿®å´©æºƒï¼ŒAI æ— å¤„ä¸åœ¨</li>
<li>â€¢ <strong>Compose æµ‹è¯•å·¥å…·</strong>ï¼ŒUI å›å½’å†ä¹Ÿä¸ç”¨è‚‰çœ¼å¯¹æ¯”äº†</li>
</ul>
<p>å¦‚æœä½ è¿˜åœ¨ç”¨ Narwhal æˆ–æ›´æ—©çš„ç‰ˆæœ¬ï¼Œå¼ºçƒˆå»ºè®®å‡çº§ã€‚è¿™ä¸€æ¬¡çš„ä½“éªŒæå‡ï¼Œæ˜¯è‚‰çœ¼å¯è§çš„ã€‚</p>
<p><strong>ä½ æœ€æœŸå¾… Panda 1 çš„å“ªä¸ªåŠŸèƒ½ï¼Ÿè¯„è®ºåŒºèŠèŠä½ çš„å¼€å‘ä½“éªŒã€‚</strong></p>
<hr/>
<p>è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œç‚¹ä¸ªã€Œåœ¨çœ‹ã€è½¬å‘ç»™ä½ çš„ Android å¼€å‘åŒäº‹å§~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨è¡Œè½¬è´¦å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ŸTCCåˆ†å¸ƒå¼äº‹åŠ¡ä»å…¥é—¨åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7605107459065462830</link>    <guid>https://juejin.cn/post/7605107459065462830</guid>    <pubDate>2026-02-11T01:01:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605107459065462830" data-draft-id="7604863528944222223" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨è¡Œè½¬è´¦å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ŸTCCåˆ†å¸ƒå¼äº‹åŠ¡ä»å…¥é—¨åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-02-11T01:01:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨è¡Œè½¬è´¦å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ŸTCCåˆ†å¸ƒå¼äº‹åŠ¡ä»å…¥é—¨åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-11T01:01:43.000Z" title="Wed Feb 11 2026 01:01:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è·¨è¡Œè½¬è´¦å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ŸTCCåˆ†å¸ƒå¼äº‹åŠ¡ä»å…¥é—¨åˆ°å®æˆ˜</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨å½“ä»Šäº’è”ç½‘æ¶æ„ä¸­ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå·²æˆä¸ºä¸»æµã€‚å½“ä¸€ç¬”è½¬è´¦éœ€è¦è·¨å¤šä¸ªé“¶è¡Œã€è·¨å¤šä¸ªè´¦æˆ·ã€ç”šè‡³è·¨å¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œå¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å°±æˆäº†ä¸€ä¸ªæå…·æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚</p>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šç”¨æˆ·è¦ä»Aé“¶è¡Œè½¬è´¦1000å…ƒåˆ°Bé“¶è¡Œã€‚è¿™çœ‹ä¼¼ç®€å•çš„æ“ä½œï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä»Aé“¶è¡Œè´¦æˆ·æ‰£å‡1000å…ƒ</li>
<li>é€šè¿‡é“¶è¡Œé—´æ¸…ç®—ç½‘ç»œè¿›è¡Œæ¸…ç®—</li>
<li>å‘Bé“¶è¡Œè´¦æˆ·å¢åŠ 1000å…ƒ</li>
</ol>
<p>å¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä»»ä½•ä¸€æ­¥å‡ºç°æ•…éšœâ€”â€”ç½‘ç»œä¸­æ–­ã€æœåŠ¡å™¨å®•æœºã€æ•°æ®åº“å´©æºƒâ€”â€”å°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™æ˜¯é‡‘èç³»ç»Ÿç»å¯¹ä¸èƒ½å®¹å¿çš„ã€‚</p>
<p>æœ¬æ–‡å°†ä»ACIDåŸºç¡€è®²èµ·ï¼Œé€æ­¥æ·±å…¥åˆ°åˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼Œé‡ç‚¹è®²è§£TCCæ¨¡å¼çš„å®ç°åŸç†ï¼Œå¹¶æä¾›ä¸€ä¸ªå®Œæ•´çš„å¯è¿è¡Œé¡¹ç›®ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€ä»€ä¹ˆæ˜¯ACIDï¼Ÿ</h3>
<p>åœ¨å­¦ä¹ åˆ†å¸ƒå¼äº‹åŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç†è§£ä»€ä¹ˆæ˜¯ACIDã€‚ACIDæ˜¯æ•°æ®åº“äº‹åŠ¡çš„å››ä¸ªåŸºæœ¬ç‰¹æ€§ï¼Œæ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„åŸºçŸ³ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/860eea9e4c8e4b6fbf378e95f51918c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=yMihIAiJEZ6TR82igN%2BQCukhH%2Fs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">1.1 åŸå­æ€§ï¼ˆAtomicityï¼‰</h4>
<p>åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚å°±åƒè½¬è´¦æ“ä½œï¼Œæ‰£æ¬¾å’Œå…¥è´¦å¿…é¡»åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥ï¼Œä¸èƒ½å‡ºç°æ‰£æ¬¾æˆåŠŸä½†å…¥è´¦å¤±è´¥çš„æƒ…å†µã€‚</p>
<h4 data-id="heading-4">1.2 ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</h4>
<p>ä¸€è‡´æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®åº“å¿…é¡»å¤„äºä¸€è‡´çš„çŠ¶æ€ã€‚å¯¹äºè½¬è´¦æ¥è¯´ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œä¸¤è´¦æˆ·çš„æ€»é‡‘é¢å¿…é¡»ä¿æŒä¸å˜ã€‚</p>
<h4 data-id="heading-5">1.3 éš”ç¦»æ€§ï¼ˆIsolationï¼‰</h4>
<p>éš”ç¦»æ€§æ˜¯æŒ‡å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°å…¶ä»–äº‹åŠ¡çš„å­˜åœ¨ã€‚éš”ç¦»æ€§å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-6">1.4 æŒä¹…æ€§ï¼ˆDurabilityï¼‰</h4>
<p>æŒä¹…æ€§æ˜¯æŒ‡äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿ç³»ç»Ÿå´©æºƒä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<hr/>
<h3 data-id="heading-7">äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡é¢ä¸´çš„æŒ‘æˆ˜</h3>
<p>åœ¨å•ä½“åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°æ®åº“çš„æœ¬åœ°äº‹åŠ¡ï¼ˆå¦‚MySQLçš„InnoDBå¼•æ“ï¼‰è½»æ¾å®ç°ACIDã€‚ä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæƒ…å†µå˜å¾—å¤æ‚å¾—å¤šã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/096f784a27d74b70b6fe1fe9dcd3f7d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=CAj94wwwNlAc1mSynTpePAcvKdE%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">2.1 ç½‘ç»œä¸å¯é </h4>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç½‘ç»œæ˜¯ä¸å¯é çš„ã€‚è¯·æ±‚å¯èƒ½ä¸¢å¤±ã€å»¶è¿Ÿã€é‡å¤ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡éšæ—¶å¯èƒ½å¤±è´¥ã€‚</p>
<h4 data-id="heading-9">2.2 èŠ‚ç‚¹ç‹¬ç«‹æ€§</h4>
<p>æ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œæœ¬åœ°äº‹åŠ¡åªèƒ½ä¿è¯å•ä¸ªæœåŠ¡çš„æ•°æ®ä¸€è‡´æ€§ï¼Œæ— æ³•è·¨æœåŠ¡ä¿è¯ã€‚</p>
<h4 data-id="heading-10">2.3 éƒ¨åˆ†å¤±è´¥</h4>
<p>åˆ†å¸ƒå¼æ“ä½œä¸­ï¼Œå¯èƒ½å‡ºç°éƒ¨åˆ†æˆåŠŸã€éƒ¨åˆ†å¤±è´¥çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼šAé“¶è¡Œæ‰£æ¬¾æˆåŠŸï¼Œä½†Bé“¶è¡Œå…¥è´¦å¤±è´¥ã€‚</p>
<h4 data-id="heading-11">2.4 æ•°æ®åº“éš”ç¦»</h4>
<p>ä¸åŒæœåŠ¡çš„æ•°æ®åº“ä¹‹é—´æ— æ³•ç›´æ¥å»ºç«‹äº‹åŠ¡å…³ç³»ï¼Œä¼ ç»Ÿçš„ä¸¤é˜¶æ®µæäº¤ï¼ˆ2PCï¼‰åœ¨äº’è”ç½‘é«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½è¾ƒå·®ã€‚</p>
<h3 data-id="heading-12">ä¸‰ã€TCCåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ</h3>
<p>TCCï¼ˆTry-Confirm-Cancelï¼‰æ˜¯ä¸€ç§åº”ç”¨å±‚çš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œå®ƒå°†ä¸šåŠ¡é€»è¾‘åˆ†æˆä¸‰ä¸ªé˜¶æ®µï¼Œé€šè¿‡è¡¥å¿æœºåˆ¶æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<h4 data-id="heading-13">3.1 TCCçš„æ ¸å¿ƒæ€æƒ³</h4>
<p>TCCæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ¯ä¸ªä¸šåŠ¡æ“ä½œæ‹†åˆ†æˆä¸‰ä¸ªç‹¬ç«‹çš„æ­¥éª¤ï¼š</p>
<ol>
<li><strong>Tryé˜¶æ®µ</strong>ï¼šèµ„æºæ£€æŸ¥å’Œé¢„ç•™</li>
<li><strong>Confirmé˜¶æ®µ</strong>ï¼šç¡®è®¤æ‰§è¡Œä¸šåŠ¡æ“ä½œ</li>
<li><strong>Cancelé˜¶æ®µ</strong>ï¼šå–æ¶ˆæ‰§è¡Œï¼Œé‡Šæ”¾èµ„æº</li>
</ol>
<h4 data-id="heading-14">3.2 TCCä¸‰é˜¶æ®µè¯¦è§£</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0747f4f8016a42a88bd350e384649bed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=OEXv%2B8x24fDY27QvGi7%2Bvnf3TKw%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-15">Tryé˜¶æ®µï¼šèµ„æºé¢„ç•™</h5>
<p>Tryé˜¶æ®µæ˜¯æ•´ä¸ªTCCäº‹åŠ¡çš„ç¬¬ä¸€æ­¥ï¼Œå…¶ä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>æ£€æŸ¥ä¸šåŠ¡è§„åˆ™æ˜¯å¦æ»¡è¶³ï¼ˆå¦‚è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼‰</li>
<li>é¢„ç•™æ‰€éœ€èµ„æºï¼ˆå†»ç»“è½¬è´¦é‡‘é¢ï¼‰</li>
<li>è®°å½•äº‹åŠ¡çŠ¶æ€</li>
</ul>
<p>Tryé˜¶æ®µæ‰§è¡ŒæˆåŠŸåï¼Œèµ„æºè¢«é”å®šï¼Œä½†å®é™…ä¸šåŠ¡å°šæœªæ‰§è¡Œã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);
    <span class="hljs-type">Long</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"amount"</span>);

    <span class="hljs-comment">// 1. æ£€æŸ¥è´¦æˆ·ä½™é¢</span>
    <span class="hljs-type">Account</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountMapper.selectById(accountId);
    <span class="hljs-keyword">if</span> (account.getBalance() &lt; amount + account.getFrozenAmount()) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ä½™é¢ä¸è¶³</span>
    }

    <span class="hljs-comment">// 2. å†»ç»“é‡‘é¢ï¼ˆä¹è§‚é”æ›´æ–°ï¼‰</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.freezeAmount(accountId, amount, account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. åˆ›å»ºå†»ç»“è®°å½•</span>
        <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FreezeRecord</span>();
        record.setTransactionId(context.getTransactionId());
        record.setAccountId(accountId);
        record.setAmount(amount);
        record.setStatus(<span class="hljs-number">0</span>); <span class="hljs-comment">// å†»ç»“ä¸­</span>
        freezeRecordMapper.insert(record);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h5 data-id="heading-16">Confirmé˜¶æ®µï¼šç¡®è®¤æ‰§è¡Œ</h5>
<p>Confirmé˜¶æ®µåœ¨æ‰€æœ‰åˆ†æ”¯çš„Tryéƒ½æˆåŠŸåæ‰§è¡Œï¼Œä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>æ‰§è¡Œå®é™…ä¸šåŠ¡æ“ä½œï¼ˆæ‰£å‡ä½™é¢ã€å¢åŠ ä½™é¢ï¼‰</li>
<li>é‡Šæ”¾é¢„ç•™èµ„æº</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCONFIRMED</li>
</ul>
<p>Confirmé˜¶æ®µå¿…é¡»æ”¯æŒå¹‚ç­‰æ€§ï¼Œå› ä¸ºç½‘ç»œé—®é¢˜å¯èƒ½å¯¼è‡´é‡å¤è°ƒç”¨ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">confirmExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);
    <span class="hljs-type">Long</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"amount"</span>);

    <span class="hljs-comment">// 1. å¹‚ç­‰æ€§æ£€æŸ¥</span>
    <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(context.getTransactionId(), accountId);
    <span class="hljs-keyword">if</span> (record == <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// å·²ç¡®è®¤è¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">// 2. æ‰£å‡ä½™é¢å’Œå†»ç»“é‡‘é¢</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.confirmDeduct(accountId, amount, account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. æ›´æ–°å†»ç»“è®°å½•çŠ¶æ€</span>
        freezeRecordMapper.updateStatus(context.getTransactionId(), accountId, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h5 data-id="heading-17">Cancelé˜¶æ®µï¼šå–æ¶ˆæ‰§è¡Œ</h5>
<p>Cancelé˜¶æ®µåœ¨ä»»æ„åˆ†æ”¯Tryå¤±è´¥æ—¶æ‰§è¡Œï¼Œä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>é‡Šæ”¾å·²é¢„ç•™çš„èµ„æº</li>
<li>å›æ»šä¸šåŠ¡æ“ä½œ</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCANCELLED</li>
</ul>
<p>Cancelé˜¶æ®µåŒæ ·éœ€è¦æ”¯æŒå¹‚ç­‰æ€§ï¼Œå¹¶æ”¯æŒç©ºå›æ»šï¼ˆTryæœªæ‰§è¡Œæ—¶Cancelä¹Ÿèƒ½æˆåŠŸï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">cancelExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);

    <span class="hljs-comment">// 1. å¹‚ç­‰æ€§æ£€æŸ¥</span>
    <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(context.getTransactionId(), accountId);
    <span class="hljs-keyword">if</span> (record == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// ç©ºå›æ»šï¼šæ²¡æœ‰å†»ç»“è®°å½•ä¹Ÿè§†ä¸ºæˆåŠŸ</span>
    }

    <span class="hljs-comment">// 2. é‡Šæ”¾å†»ç»“é‡‘é¢</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.releaseFreeze(accountId, record.getAmount(), account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. æ›´æ–°å†»ç»“è®°å½•çŠ¶æ€</span>
        freezeRecordMapper.updateStatus(context.getTransactionId(), accountId, <span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h3 data-id="heading-18">å››ã€TCCçŠ¶æ€æœºè®¾è®¡</h3>
<p>TCCäº‹åŠ¡æœ‰æ˜ç¡®çš„çŠ¶æ€è½¬æ¢æµç¨‹ï¼Œé€šè¿‡çŠ¶æ€æœºå¯ä»¥æ¸…æ™°åœ°ç®¡ç†äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0e49f77b2ca4705ad3a64759f9a2cb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=3AJ8Pvlw5Ls7y%2BTZOplxHKW5EjM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19">4.1 çŠ¶æ€å®šä¹‰</h4>













































<table><thead><tr><th>çŠ¶æ€</th><th>è¯´æ˜</th><th>æ˜¯å¦ç»ˆæ€</th></tr></thead><tbody><tr><td>IDLE</td><td>ç©ºé—²çŠ¶æ€ï¼Œäº‹åŠ¡åˆå§‹çŠ¶æ€</td><td>å¦</td></tr><tr><td>TRYING</td><td>Tryé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CONFIRMING</td><td>Confirmé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CANCELLING</td><td>Cancelé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CONFIRMED</td><td>äº‹åŠ¡å·²ç¡®è®¤ï¼ˆæˆåŠŸï¼‰</td><td>æ˜¯</td></tr><tr><td>CANCELLED</td><td>äº‹åŠ¡å·²å–æ¶ˆï¼ˆå›æ»šï¼‰</td><td>æ˜¯</td></tr><tr><td>TIMEOUT</td><td>äº‹åŠ¡è¶…æ—¶</td><td>æ˜¯</td></tr></tbody></table>
<h4 data-id="heading-20">4.2 çŠ¶æ€è½¬æ¢è§„åˆ™</h4>
<pre><code class="hljs language-objectivec" lang="objectivec">IDLE â†’ TRYINGï¼šå¼€å§‹æ‰§è¡ŒTryé˜¶æ®µ
TRYING â†’ CONFIRMINGï¼šæ‰€æœ‰åˆ†æ”¯TryæˆåŠŸ
TRYING â†’ <span class="hljs-built_in">CANCELLING</span>ï¼šä»»ä¸€åˆ†æ”¯Tryå¤±è´¥
TRYING â†’ TIMEOUTï¼šTryé˜¶æ®µè¶…æ—¶
CONFIRMING â†’ CONFIRMEDï¼šConfirmé˜¶æ®µæˆåŠŸ
<span class="hljs-built_in">CANCELLING</span> â†’ <span class="hljs-built_in">CANCELLED</span>ï¼šCancelé˜¶æ®µå®Œæˆ
TIMEOUT â†’ <span class="hljs-built_in">CANCELLING</span>ï¼šè¶…æ—¶åè§¦å‘å›æ»š
</code></pre>
<hr/>
<h3 data-id="heading-21">äº”ã€ç³»ç»Ÿæ¶æ„è®¾è®¡</h3>
<p>ä¸€ä¸ªå®Œæ•´çš„TCCåˆ†å¸ƒå¼äº‹åŠ¡ç³»ç»Ÿéœ€è¦åˆç†çš„æ¶æ„è®¾è®¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ee28958d6be48968540b71149d36e4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=PsArLvRURQ0Q0jXhchi3XR%2BS6BM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-22">5.1 æ¶æ„åˆ†å±‚</h4>
<ol>
<li><strong>å±•ç¤ºå±‚</strong>ï¼šæä¾›ç”¨æˆ·ç•Œé¢å’ŒAPIæ¥å£</li>
<li><strong>æœåŠ¡å±‚</strong>ï¼šå®ç°ä¸šåŠ¡é€»è¾‘å’ŒTCCåè°ƒ</li>
<li><strong>æ•°æ®å±‚</strong>ï¼šæŒä¹…åŒ–äº‹åŠ¡çŠ¶æ€å’Œä¸šåŠ¡æ•°æ®</li>
<li><strong>å®šæ—¶ä»»åŠ¡å±‚</strong>ï¼šå¤„ç†è¶…æ—¶äº‹åŠ¡å’Œé‡è¯•</li>
</ol>
<h4 data-id="heading-23">5.2 æ ¸å¿ƒç»„ä»¶</h4>
<h5 data-id="heading-24">TCCTransactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</h5>
<p>è´Ÿè´£åè°ƒæ•´ä¸ªTCCäº‹åŠ¡çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TCCTransactionManager</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeTransaction</span><span class="hljs-params">(TCCContext context, List&lt;TCCTransactionService&gt; participants)</span> {
        <span class="hljs-comment">// 1. Tryé˜¶æ®µ</span>
        <span class="hljs-keyword">if</span> (!tryPhase(context, participants)) {
            cancelPhase(context, participants); <span class="hljs-comment">// Tryå¤±è´¥ï¼Œæ‰§è¡ŒCancel</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// 2. Confirmé˜¶æ®µ</span>
        <span class="hljs-keyword">return</span> confirmPhase(context, participants);
    }
}
</code></pre>
<h5 data-id="heading-25">AccountTCCServiceï¼ˆè´¦æˆ·TCCæœåŠ¡ï¼‰</h5>
<p>å®ç°è´¦æˆ·ç›¸å…³çš„TCCæ“ä½œï¼ŒåŒ…æ‹¬å†»ç»“ã€æ‰£æ¬¾ã€é‡Šæ”¾ç­‰ã€‚</p>
<h5 data-id="heading-26">TCCTransactionScheduledTaskï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</h5>
<p>å¤„ç†è¶…æ—¶äº‹åŠ¡å’Œé‡è¯•é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Scheduled(fixedDelay = 5000)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanTimeoutTransactions</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æ‰«æè¶…æ—¶äº‹åŠ¡å¹¶å¤„ç†</span>
    List&lt;TCCTransaction&gt; expired = tccTransactionMapper.selectExpiredTransactions(
        System.currentTimeMillis(), <span class="hljs-number">100</span>);

    <span class="hljs-keyword">for</span> (TCCTransaction record : expired) {
        handleTimeoutTransaction(record);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-27">å…­ã€è½¬è´¦ä¸šåŠ¡å®Œæ•´æµç¨‹</h3>
<p>ä¸‹é¢ä»¥è·¨è¡Œè½¬è´¦ä¸ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„TCCæ‰§è¡Œæµç¨‹ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edb36c66ad244f66a030e8dc314bfb44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=RpuP0Jec9O7ciuSO2Dy22OPKglg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-28">6.1 æµç¨‹è¯´æ˜</h4>
<ol>
<li>
<p><strong>å‘èµ·è½¬è´¦</strong></p>
<ul>
<li>ç”¨æˆ·å‘èµ·è½¬è´¦è¯·æ±‚</li>
<li>ç”Ÿæˆå…¨å±€å”¯ä¸€çš„äº‹åŠ¡ID</li>
<li>åˆ›å»ºTCCäº‹åŠ¡ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li>
<p><strong>Tryé˜¶æ®µ</strong></p>
<ul>
<li>è½¬å‡ºè´¦æˆ·ï¼šå†»ç»“1000å…ƒ</li>
<li>è½¬å…¥è´¦æˆ·ï¼šé¢„ç•™1000å…ƒé¢åº¦</li>
<li>ä¸¤ä¸ªTryéƒ½æˆåŠŸåè¿›å…¥Confirmé˜¶æ®µ</li>
</ul>
</li>
<li>
<p><strong>Confirmé˜¶æ®µ</strong></p>
<ul>
<li>è½¬å‡ºè´¦æˆ·ï¼šæ‰£å‡1000å…ƒä½™é¢ï¼Œé‡Šæ”¾å†»ç»“</li>
<li>è½¬å…¥è´¦æˆ·ï¼šå¢åŠ 1000å…ƒä½™é¢</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCONFIRMED</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸å¤„ç†</strong></p>
<ul>
<li>å¦‚æœTryå¤±è´¥ï¼Œæ‰§è¡ŒCancelé‡Šæ”¾èµ„æº</li>
<li>å¦‚æœConfirmå¤±è´¥ï¼Œè®°å½•æ—¥å¿—å¹¶é‡è¯•</li>
<li>å¦‚æœè¶…æ—¶æœªå®Œæˆï¼Œå®šæ—¶ä»»åŠ¡ä»‹å…¥å¤„ç†</li>
</ul>
</li>
</ol>
<h4 data-id="heading-29">6.2 äº‹åŠ¡ç®¡ç†å™¨æ‰§è¡Œä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeTransaction</span><span class="hljs-params">(TCCContext context, List&lt;TCCTransactionService&gt; participants)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">txId</span> <span class="hljs-operator">=</span> context.getTransactionId();
    log.info(<span class="hljs-string">"ã€TCCã€‘å¼€å§‹æ‰§è¡Œäº‹åŠ¡: {}, å‚ä¸è€…æ•°é‡: {}"</span>, txId, participants.size());

    <span class="hljs-comment">// è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤5åˆ†é’Ÿï¼‰</span>
    <span class="hljs-keyword">if</span> (context.getExpireTime() == <span class="hljs-literal">null</span>) {
        context.setExpireTime(System.currentTimeMillis() + <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-comment">// æŒä¹…åŒ–äº‹åŠ¡è®°å½•</span>
    saveTransactionRecord(context);

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. Tryé˜¶æ®µï¼šèµ„æºé¢„ç•™</span>
        <span class="hljs-keyword">if</span> (!tryPhase(context, participants)) {
            log.warn(<span class="hljs-string">"ã€TCCã€‘Tryé˜¶æ®µå¤±è´¥ï¼Œå¼€å§‹Cancel: {}"</span>, txId);
            cancelPhase(context, participants);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// 2. Confirmé˜¶æ®µï¼šç¡®è®¤æ‰§è¡Œ</span>
        log.info(<span class="hljs-string">"ã€TCCã€‘Tryé˜¶æ®µæˆåŠŸï¼Œå¼€å§‹Confirm: {}"</span>, txId);
        <span class="hljs-keyword">return</span> confirmPhase(context, participants);

    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"ã€TCCã€‘äº‹åŠ¡æ‰§è¡Œå¼‚å¸¸: {}"</span>, txId, e);
        cancelPhase(context, participants);
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-30">ä¸ƒã€é«˜æ€§èƒ½è®¾è®¡è¦ç‚¹</h3>
<p>ä¸ºäº†ä¿è¯ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<h4 data-id="heading-31">7.1 ä¹è§‚é”æ§åˆ¶å¹¶å‘</h4>
<p>ä½¿ç”¨æ•°æ®åº“versionå­—æ®µå®ç°ä¹è§‚é”ï¼Œé¿å…é•¿äº‹åŠ¡é˜»å¡ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">UPDATE</span> account <span class="hljs-keyword">SET</span> frozen_amount <span class="hljs-operator">=</span> frozen_amount <span class="hljs-operator">+</span> #{amount},
    version <span class="hljs-operator">=</span> version <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span> account_id <span class="hljs-operator">=</span> #{accountId} <span class="hljs-keyword">AND</span> version <span class="hljs-operator">=</span> #{version}
    <span class="hljs-keyword">AND</span> balance <span class="hljs-operator">&gt;=</span> #{amount}
</code></pre>
<h4 data-id="heading-32">7.2 å¹‚ç­‰æ€§è®¾è®¡</h4>
<p>æ‰€æœ‰TCCæ“ä½œéƒ½æ”¯æŒå¹‚ç­‰ï¼Œé€šè¿‡å”¯ä¸€çš„äº‹åŠ¡IDå’ŒçŠ¶æ€åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¹‚ç­‰æ€§æ£€æŸ¥</span>
<span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">existRecord</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(txId, accountId);
<span class="hljs-keyword">if</span> (existRecord != <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²æ‰§è¡Œè¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸ</span>
}
</code></pre>
<h4 data-id="heading-33">7.3 æœ¬åœ°ç¼“å­˜+æ•°æ®åº“æŒä¹…åŒ–</h4>
<p>ä½¿ç”¨ConcurrentHashMapä½œä¸ºL1ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, TCCContext&gt; localCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

<span class="hljs-keyword">public</span> TCCContext <span class="hljs-title function_">getContext</span><span class="hljs-params">(String transactionId)</span> {
    <span class="hljs-comment">// å…ˆæŸ¥æœ¬åœ°ç¼“å­˜</span>
    <span class="hljs-type">TCCContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> localCache.get(transactionId);
    <span class="hljs-keyword">if</span> (context != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> context;
    }
    <span class="hljs-comment">// æŸ¥æ•°æ®åº“</span>
    <span class="hljs-type">TCCTransaction</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> tccTransactionMapper.selectById(transactionId);
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 data-id="heading-34">7.4 éšæœºé€€é¿é¿å…é‡è¯•é£æš´</h4>
<p>ä¹è§‚é”å†²çªæ—¶ä½¿ç”¨éšæœºé€€é¿ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">randomBackoff</span><span class="hljs-params">(<span class="hljs-type">int</span> retry)</span> {
    <span class="hljs-keyword">if</span> (retry &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-type">long</span> <span class="hljs-variable">sleepMs</span> <span class="hljs-operator">=</span> ThreadLocalRandom.current().nextLong(<span class="hljs-number">10</span>, <span class="hljs-number">50</span> * (retry + <span class="hljs-number">1</span>));
        Thread.sleep(sleepMs);
    }
}
</code></pre>
<h3 data-id="heading-35">å…«ã€é¡¹ç›®å®æˆ˜</h3>
<h4 data-id="heading-36">8.1 æ•°æ®åº“è®¾è®¡</h4>
<p><strong>è´¦æˆ·è¡¨ï¼ˆaccountï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> account (
    account_id     <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">PRIMARY</span> KEY,
    account_name   <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    balance        <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,        <span class="hljs-comment">-- ä½™é¢(åˆ†)</span>
    frozen_amount  <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,        <span class="hljs-comment">-- å†»ç»“é‡‘é¢(åˆ†)</span>
    status         TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,       <span class="hljs-comment">-- çŠ¶æ€</span>
    version        <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,           <span class="hljs-comment">-- ä¹è§‚é”ç‰ˆæœ¬</span>
    create_time    DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    update_time    DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<p><strong>TCCäº‹åŠ¡è¡¨ï¼ˆtcc_transactionï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> tcc_transaction (
    transaction_id   <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">PRIMARY</span> KEY,
    business_type    <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    status           TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,     <span class="hljs-comment">-- 0-IDLE 1-TRYING 2-CONFIRMING...</span>
    expire_time      <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    retry_count      <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_retry_count  <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">5</span>,
    business_params  TEXT,
    create_time      DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    update_time      DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    INDEX idx_status_expire (status, expire_time)
);
</code></pre>
<p><strong>å†»ç»“è®°å½•è¡¨ï¼ˆfreeze_recordï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> freeze_record (
    id              <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
    transaction_id  <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    account_id      <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    amount          <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    operation_type  <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,    <span class="hljs-comment">-- FREEZEæˆ–RESERVE</span>
    status          TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,  <span class="hljs-comment">-- 0-å†»ç»“ä¸­ 1-å·²ç¡®è®¤ 2-å·²å–æ¶ˆ</span>
    create_time     DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY uk_tx_account (transaction_id, account_id)
);
</code></pre>
<h4 data-id="heading-37">8.2 å‰ç«¯é¡µé¢å±•ç¤ºï¼ˆ1ï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94c1f5f02c214bbf8962bc2fd4b9f099~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=Txq%2FuNKYSRXBFsclxLt%2B6D6E5lo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-38">8.2 å‰ç«¯é¡µé¢å±•ç¤ºï¼ˆ2ï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7729f4fb199c48bb944f9f539a292f98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1771376593&amp;x-signature=EiJJCsUOLauNf60YwXt7utKm4A0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-39">ä¹ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-40">Q1ï¼šTCCä¸2PCæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>TCC</th><th>2PC</th></tr></thead><tbody><tr><td>é”å®šæ—¶é—´</td><td>Tryé˜¶æ®µçŸ­æ—¶é—´é”å®š</td><td>ç›´åˆ°æäº¤æ‰é‡Šæ”¾</td></tr><tr><td>æ€§èƒ½</td><td>è¾ƒé«˜ï¼Œæ— é•¿æ—¶é—´é˜»å¡</td><td>è¾ƒä½ï¼Œéœ€è¦é•¿æ—¶é—´é”èµ„æº</td></tr><tr><td>ä¸€è‡´æ€§</td><td>æœ€ç»ˆä¸€è‡´</td><td>å¼ºä¸€è‡´</td></tr><tr><td>å®ç°å¤æ‚åº¦</td><td>é«˜ï¼Œéœ€è¦ä¸šåŠ¡æ”¯æŒ</td><td>ä½ï¼Œæ•°æ®åº“æ”¯æŒ</td></tr></tbody></table>
<h4 data-id="heading-41">Q2ï¼šå¦‚ä½•å¤„ç†ç©ºå›æ»šï¼Ÿ</h4>
<p>ç©ºå›æ»šæ˜¯æŒ‡Tryè¿˜æ²¡æ‰§è¡Œï¼ŒCancelå°±å…ˆåˆ°äº†ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Cancelæ‰§è¡Œæ—¶å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å†»ç»“è®°å½•</li>
<li>å¦‚æœæ²¡æœ‰è®°å½•ï¼Œç›´æ¥è¿”å›æˆåŠŸï¼ˆå¹‚ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-42">Q3ï¼šå¦‚ä½•å¤„ç†æ‚¬æŒ‚ï¼Ÿ</h4>
<p>æ‚¬æŒ‚æ˜¯æŒ‡Cancelå…ˆäºTryæ‰§è¡Œï¼Œå¯¼è‡´Tryæ‰§è¡Œåèµ„æºæ— æ³•é‡Šæ”¾ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Cancelæ‰§è¡Œæ—¶åˆ›å»ºä¸€æ¡"å·²å–æ¶ˆ"è®°å½•</li>
<li>Tryæ‰§è¡Œæ—¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨"å·²å–æ¶ˆ"è®°å½•ï¼Œå¦‚æœå­˜åœ¨åˆ™æ‹’ç»æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-43">Q4ï¼šConfirmå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h4>
<p>Confirmå¤±è´¥åï¼š</p>
<ul>
<li>è®°å½•å¤±è´¥æ—¥å¿—</li>
<li>å¢åŠ é‡è¯•è®¡æ•°</li>
<li>å®šæ—¶ä»»åŠ¡æ‰«æå¹¶é‡è¯•</li>
<li>è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°åè½¬ä¸ºäººå·¥å¤„ç†</li>
</ul>
<h3 data-id="heading-44">åã€æ€»ç»“</h3>
<p>TCCåˆ†å¸ƒå¼äº‹åŠ¡é€šè¿‡å°†ä¸šåŠ¡æ“ä½œæ‹†åˆ†æˆTryã€Confirmã€Cancelä¸‰ä¸ªé˜¶æ®µï¼Œåœ¨ä¿è¯æœ€ç»ˆä¸€è‡´æ€§çš„åŒæ—¶ï¼Œæä¾›äº†è¾ƒå¥½çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<h4 data-id="heading-45">TCCçš„ä¼˜åŠ¿</h4>
<ol>
<li><strong>æ€§èƒ½å¥½</strong>ï¼šç›¸æ¯”2PCï¼Œé”èµ„æºæ—¶é—´çŸ­</li>
<li><strong>å¯é æ€§é«˜</strong>ï¼šé€šè¿‡è¡¥å¿æœºåˆ¶ä¿è¯æœ€ç»ˆä¸€è‡´æ€§</li>
<li><strong>è·¨æ•°æ®åº“</strong>ï¼šä¸ä¾èµ–ç‰¹å®šæ•°æ®åº“ç‰¹æ€§</li>
</ol>
<h4 data-id="heading-46">TCCçš„æŒ‘æˆ˜</h4>
<ol>
<li><strong>ä»£ç ä¾µå…¥æ€§å¼º</strong>ï¼šæ¯ä¸ªä¸šåŠ¡éœ€è¦å®ç°ä¸‰ä¸ªæ¥å£</li>
<li><strong>å¼€å‘æˆæœ¬é«˜</strong>ï¼šéœ€è¦è€ƒè™‘å¹‚ç­‰ã€ç©ºå›æ»šã€æ‚¬æŒ‚ç­‰è¾¹ç•Œæƒ…å†µ</li>
<li><strong>çŠ¶æ€ç®¡ç†å¤æ‚</strong>ï¼šéœ€è¦å¦¥å–„ç®¡ç†äº‹åŠ¡çŠ¶æ€</li>
</ol>
<h4 data-id="heading-47">é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>é‡‘èè½¬è´¦ã€æ”¯ä»˜åœºæ™¯</li>
<li>åº“å­˜æ‰£å‡ä¸è®¢å•åˆ›å»º</li>
<li>ç§¯åˆ†å…‘æ¢ã€ä¼˜æƒ åˆ¸æ ¸é”€</li>
<li>ä»»ä½•éœ€è¦å¼ºä¸€è‡´æ€§çš„è·¨æœåŠ¡ä¸šåŠ¡æ“ä½œ</li>
</ul>
<blockquote>
<p>***# è·¨è¡Œè½¬è´¦å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ŸTCCåˆ†å¸ƒå¼äº‹åŠ¡ä»å…¥é—¨åˆ°å®æˆ˜</p>
</blockquote>
<h3 data-id="heading-48">å¼•è¨€</h3>
<p>åœ¨å½“ä»Šäº’è”ç½‘æ¶æ„ä¸­ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå·²æˆä¸ºä¸»æµã€‚å½“ä¸€ç¬”è½¬è´¦éœ€è¦è·¨å¤šä¸ªé“¶è¡Œã€è·¨å¤šä¸ªè´¦æˆ·ã€ç”šè‡³è·¨å¤šä¸ªå¾®æœåŠ¡æ—¶ï¼Œå¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å°±æˆäº†ä¸€ä¸ªæå…·æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚</p>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šç”¨æˆ·è¦ä»Aé“¶è¡Œè½¬è´¦1000å…ƒåˆ°Bé“¶è¡Œã€‚è¿™çœ‹ä¼¼ç®€å•çš„æ“ä½œï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä»Aé“¶è¡Œè´¦æˆ·æ‰£å‡1000å…ƒ</li>
<li>é€šè¿‡é“¶è¡Œé—´æ¸…ç®—ç½‘ç»œè¿›è¡Œæ¸…ç®—</li>
<li>å‘Bé“¶è¡Œè´¦æˆ·å¢åŠ 1000å…ƒ</li>
</ol>
<p>å¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä»»ä½•ä¸€æ­¥å‡ºç°æ•…éšœâ€”â€”ç½‘ç»œä¸­æ–­ã€æœåŠ¡å™¨å®•æœºã€æ•°æ®åº“å´©æºƒâ€”â€”å°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™æ˜¯é‡‘èç³»ç»Ÿç»å¯¹ä¸èƒ½å®¹å¿çš„ã€‚</p>
<p>æœ¬æ–‡å°†ä»ACIDåŸºç¡€è®²èµ·ï¼Œé€æ­¥æ·±å…¥åˆ°åˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼Œé‡ç‚¹è®²è§£TCCæ¨¡å¼çš„å®ç°åŸç†ï¼Œå¹¶æä¾›ä¸€ä¸ªå®Œæ•´çš„å¯è¿è¡Œé¡¹ç›®ã€‚</p>
<blockquote>
<hr/>
</blockquote>
<h3 data-id="heading-49">ä¸€ã€ä»€ä¹ˆæ˜¯ACIDï¼Ÿ</h3>
<p>åœ¨å­¦ä¹ åˆ†å¸ƒå¼äº‹åŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç†è§£ä»€ä¹ˆæ˜¯ACIDã€‚ACIDæ˜¯æ•°æ®åº“äº‹åŠ¡çš„å››ä¸ªåŸºæœ¬ç‰¹æ€§ï¼Œæ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„åŸºçŸ³ã€‚
<img src="https://files.mdnice.com/user/161125/3f072c55-abe9-4068-b01c-c69c2fb04ff4.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-50">1.1 åŸå­æ€§ï¼ˆAtomicityï¼‰</h4>
<p>åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚å°±åƒè½¬è´¦æ“ä½œï¼Œæ‰£æ¬¾å’Œå…¥è´¦å¿…é¡»åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥ï¼Œä¸èƒ½å‡ºç°æ‰£æ¬¾æˆåŠŸä½†å…¥è´¦å¤±è´¥çš„æƒ…å†µã€‚</p>
<h4 data-id="heading-51">1.2 ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</h4>
<p>ä¸€è‡´æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®åº“å¿…é¡»å¤„äºä¸€è‡´çš„çŠ¶æ€ã€‚å¯¹äºè½¬è´¦æ¥è¯´ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œä¸¤è´¦æˆ·çš„æ€»é‡‘é¢å¿…é¡»ä¿æŒä¸å˜ã€‚</p>
<h4 data-id="heading-52">1.3 éš”ç¦»æ€§ï¼ˆIsolationï¼‰</h4>
<p>éš”ç¦»æ€§æ˜¯æŒ‡å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°å…¶ä»–äº‹åŠ¡çš„å­˜åœ¨ã€‚éš”ç¦»æ€§å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-53">1.4 æŒä¹…æ€§ï¼ˆDurabilityï¼‰</h4>
<p>æŒä¹…æ€§æ˜¯æŒ‡äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿ç³»ç»Ÿå´©æºƒä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<hr/>
<h3 data-id="heading-54">äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡é¢ä¸´çš„æŒ‘æˆ˜</h3>
<p>åœ¨å•ä½“åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°æ®åº“çš„æœ¬åœ°äº‹åŠ¡ï¼ˆå¦‚MySQLçš„InnoDBå¼•æ“ï¼‰è½»æ¾å®ç°ACIDã€‚ä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæƒ…å†µå˜å¾—å¤æ‚å¾—å¤šã€‚
<img src="https://files.mdnice.com/user/161125/7c260177-1fbc-45c5-83c2-6b88eabe4fd7.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-55">2.1 ç½‘ç»œä¸å¯é </h4>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç½‘ç»œæ˜¯ä¸å¯é çš„ã€‚è¯·æ±‚å¯èƒ½ä¸¢å¤±ã€å»¶è¿Ÿã€é‡å¤ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡éšæ—¶å¯èƒ½å¤±è´¥ã€‚</p>
<h4 data-id="heading-56">2.2 èŠ‚ç‚¹ç‹¬ç«‹æ€§</h4>
<p>æ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œæœ¬åœ°äº‹åŠ¡åªèƒ½ä¿è¯å•ä¸ªæœåŠ¡çš„æ•°æ®ä¸€è‡´æ€§ï¼Œæ— æ³•è·¨æœåŠ¡ä¿è¯ã€‚</p>
<h4 data-id="heading-57">2.3 éƒ¨åˆ†å¤±è´¥</h4>
<p>åˆ†å¸ƒå¼æ“ä½œä¸­ï¼Œå¯èƒ½å‡ºç°éƒ¨åˆ†æˆåŠŸã€éƒ¨åˆ†å¤±è´¥çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼šAé“¶è¡Œæ‰£æ¬¾æˆåŠŸï¼Œä½†Bé“¶è¡Œå…¥è´¦å¤±è´¥ã€‚</p>
<h4 data-id="heading-58">2.4 æ•°æ®åº“éš”ç¦»</h4>
<p>ä¸åŒæœåŠ¡çš„æ•°æ®åº“ä¹‹é—´æ— æ³•ç›´æ¥å»ºç«‹äº‹åŠ¡å…³ç³»ï¼Œä¼ ç»Ÿçš„ä¸¤é˜¶æ®µæäº¤ï¼ˆ2PCï¼‰åœ¨äº’è”ç½‘é«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½è¾ƒå·®ã€‚</p>
<h3 data-id="heading-59">ä¸‰ã€TCCåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ</h3>
<p>TCCï¼ˆTry-Confirm-Cancelï¼‰æ˜¯ä¸€ç§åº”ç”¨å±‚çš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œå®ƒå°†ä¸šåŠ¡é€»è¾‘åˆ†æˆä¸‰ä¸ªé˜¶æ®µï¼Œé€šè¿‡è¡¥å¿æœºåˆ¶æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<h4 data-id="heading-60">3.1 TCCçš„æ ¸å¿ƒæ€æƒ³</h4>
<p>TCCæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ¯ä¸ªä¸šåŠ¡æ“ä½œæ‹†åˆ†æˆä¸‰ä¸ªç‹¬ç«‹çš„æ­¥éª¤ï¼š</p>
<ol>
<li><strong>Tryé˜¶æ®µ</strong>ï¼šèµ„æºæ£€æŸ¥å’Œé¢„ç•™</li>
<li><strong>Confirmé˜¶æ®µ</strong>ï¼šç¡®è®¤æ‰§è¡Œä¸šåŠ¡æ“ä½œ</li>
<li><strong>Cancelé˜¶æ®µ</strong>ï¼šå–æ¶ˆæ‰§è¡Œï¼Œé‡Šæ”¾èµ„æº</li>
</ol>
<h4 data-id="heading-61">3.2 TCCä¸‰é˜¶æ®µè¯¦è§£</h4>
<p><img src="https://files.mdnice.com/user/161125/586e3600-925f-4ec0-afba-b2361cef9004.png" alt="" loading="lazy"/></p>
<h5 data-id="heading-62">Tryé˜¶æ®µï¼šèµ„æºé¢„ç•™</h5>
<p>Tryé˜¶æ®µæ˜¯æ•´ä¸ªTCCäº‹åŠ¡çš„ç¬¬ä¸€æ­¥ï¼Œå…¶ä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>æ£€æŸ¥ä¸šåŠ¡è§„åˆ™æ˜¯å¦æ»¡è¶³ï¼ˆå¦‚è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼‰</li>
<li>é¢„ç•™æ‰€éœ€èµ„æºï¼ˆå†»ç»“è½¬è´¦é‡‘é¢ï¼‰</li>
<li>è®°å½•äº‹åŠ¡çŠ¶æ€</li>
</ul>
<p>Tryé˜¶æ®µæ‰§è¡ŒæˆåŠŸåï¼Œèµ„æºè¢«é”å®šï¼Œä½†å®é™…ä¸šåŠ¡å°šæœªæ‰§è¡Œã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);
    <span class="hljs-type">Long</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"amount"</span>);

    <span class="hljs-comment">// 1. æ£€æŸ¥è´¦æˆ·ä½™é¢</span>
    <span class="hljs-type">Account</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountMapper.selectById(accountId);
    <span class="hljs-keyword">if</span> (account.getBalance() &lt; amount + account.getFrozenAmount()) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ä½™é¢ä¸è¶³</span>
    }

    <span class="hljs-comment">// 2. å†»ç»“é‡‘é¢ï¼ˆä¹è§‚é”æ›´æ–°ï¼‰</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.freezeAmount(accountId, amount, account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. åˆ›å»ºå†»ç»“è®°å½•</span>
        <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FreezeRecord</span>();
        record.setTransactionId(context.getTransactionId());
        record.setAccountId(accountId);
        record.setAmount(amount);
        record.setStatus(<span class="hljs-number">0</span>); <span class="hljs-comment">// å†»ç»“ä¸­</span>
        freezeRecordMapper.insert(record);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h5 data-id="heading-63">Confirmé˜¶æ®µï¼šç¡®è®¤æ‰§è¡Œ</h5>
<p>Confirmé˜¶æ®µåœ¨æ‰€æœ‰åˆ†æ”¯çš„Tryéƒ½æˆåŠŸåæ‰§è¡Œï¼Œä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>æ‰§è¡Œå®é™…ä¸šåŠ¡æ“ä½œï¼ˆæ‰£å‡ä½™é¢ã€å¢åŠ ä½™é¢ï¼‰</li>
<li>é‡Šæ”¾é¢„ç•™èµ„æº</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCONFIRMED</li>
</ul>
<p>Confirmé˜¶æ®µå¿…é¡»æ”¯æŒå¹‚ç­‰æ€§ï¼Œå› ä¸ºç½‘ç»œé—®é¢˜å¯èƒ½å¯¼è‡´é‡å¤è°ƒç”¨ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">confirmExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);
    <span class="hljs-type">Long</span> <span class="hljs-variable">amount</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"amount"</span>);

    <span class="hljs-comment">// 1. å¹‚ç­‰æ€§æ£€æŸ¥</span>
    <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(context.getTransactionId(), accountId);
    <span class="hljs-keyword">if</span> (record == <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// å·²ç¡®è®¤è¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">// 2. æ‰£å‡ä½™é¢å’Œå†»ç»“é‡‘é¢</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.confirmDeduct(accountId, amount, account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. æ›´æ–°å†»ç»“è®°å½•çŠ¶æ€</span>
        freezeRecordMapper.updateStatus(context.getTransactionId(), accountId, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h5 data-id="heading-64">Cancelé˜¶æ®µï¼šå–æ¶ˆæ‰§è¡Œ</h5>
<p>Cancelé˜¶æ®µåœ¨ä»»æ„åˆ†æ”¯Tryå¤±è´¥æ—¶æ‰§è¡Œï¼Œä¸»è¦èŒè´£æ˜¯ï¼š</p>
<ul>
<li>é‡Šæ”¾å·²é¢„ç•™çš„èµ„æº</li>
<li>å›æ»šä¸šåŠ¡æ“ä½œ</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCANCELLED</li>
</ul>
<p>Cancelé˜¶æ®µåŒæ ·éœ€è¦æ”¯æŒå¹‚ç­‰æ€§ï¼Œå¹¶æ”¯æŒç©ºå›æ»šï¼ˆTryæœªæ‰§è¡Œæ—¶Cancelä¹Ÿèƒ½æˆåŠŸï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">cancelExecute</span><span class="hljs-params">(TCCContext context)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">accountId</span> <span class="hljs-operator">=</span> context.getParam(<span class="hljs-string">"accountId"</span>);

    <span class="hljs-comment">// 1. å¹‚ç­‰æ€§æ£€æŸ¥</span>
    <span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(context.getTransactionId(), accountId);
    <span class="hljs-keyword">if</span> (record == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// ç©ºå›æ»šï¼šæ²¡æœ‰å†»ç»“è®°å½•ä¹Ÿè§†ä¸ºæˆåŠŸ</span>
    }

    <span class="hljs-comment">// 2. é‡Šæ”¾å†»ç»“é‡‘é¢</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> accountMapper.releaseFreeze(accountId, record.getAmount(), account.getVersion());
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// 3. æ›´æ–°å†»ç»“è®°å½•çŠ¶æ€</span>
        freezeRecordMapper.updateStatus(context.getTransactionId(), accountId, <span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h3 data-id="heading-65">å››ã€TCCçŠ¶æ€æœºè®¾è®¡</h3>
<p>TCCäº‹åŠ¡æœ‰æ˜ç¡®çš„çŠ¶æ€è½¬æ¢æµç¨‹ï¼Œé€šè¿‡çŠ¶æ€æœºå¯ä»¥æ¸…æ™°åœ°ç®¡ç†äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸã€‚
<img src="https://files.mdnice.com/user/161125/22c3b230-f3f5-49d2-89bd-4ca48d077fd4.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-66">4.1 çŠ¶æ€å®šä¹‰</h4>













































<table><thead><tr><th>çŠ¶æ€</th><th>è¯´æ˜</th><th>æ˜¯å¦ç»ˆæ€</th></tr></thead><tbody><tr><td>IDLE</td><td>ç©ºé—²çŠ¶æ€ï¼Œäº‹åŠ¡åˆå§‹çŠ¶æ€</td><td>å¦</td></tr><tr><td>TRYING</td><td>Tryé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CONFIRMING</td><td>Confirmé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CANCELLING</td><td>Cancelé˜¶æ®µæ‰§è¡Œä¸­</td><td>å¦</td></tr><tr><td>CONFIRMED</td><td>äº‹åŠ¡å·²ç¡®è®¤ï¼ˆæˆåŠŸï¼‰</td><td>æ˜¯</td></tr><tr><td>CANCELLED</td><td>äº‹åŠ¡å·²å–æ¶ˆï¼ˆå›æ»šï¼‰</td><td>æ˜¯</td></tr><tr><td>TIMEOUT</td><td>äº‹åŠ¡è¶…æ—¶</td><td>æ˜¯</td></tr></tbody></table>
<h4 data-id="heading-67">4.2 çŠ¶æ€è½¬æ¢è§„åˆ™</h4>
<pre><code class="hljs language-objectivec" lang="objectivec">IDLE â†’ TRYINGï¼šå¼€å§‹æ‰§è¡ŒTryé˜¶æ®µ
TRYING â†’ CONFIRMINGï¼šæ‰€æœ‰åˆ†æ”¯TryæˆåŠŸ
TRYING â†’ <span class="hljs-built_in">CANCELLING</span>ï¼šä»»ä¸€åˆ†æ”¯Tryå¤±è´¥
TRYING â†’ TIMEOUTï¼šTryé˜¶æ®µè¶…æ—¶
CONFIRMING â†’ CONFIRMEDï¼šConfirmé˜¶æ®µæˆåŠŸ
<span class="hljs-built_in">CANCELLING</span> â†’ <span class="hljs-built_in">CANCELLED</span>ï¼šCancelé˜¶æ®µå®Œæˆ
TIMEOUT â†’ <span class="hljs-built_in">CANCELLING</span>ï¼šè¶…æ—¶åè§¦å‘å›æ»š
</code></pre>
<hr/>
<h3 data-id="heading-68">äº”ã€ç³»ç»Ÿæ¶æ„è®¾è®¡</h3>
<p>ä¸€ä¸ªå®Œæ•´çš„TCCåˆ†å¸ƒå¼äº‹åŠ¡ç³»ç»Ÿéœ€è¦åˆç†çš„æ¶æ„è®¾è®¡ã€‚</p>
<p><img src="https://files.mdnice.com/user/161125/b663664f-0332-4252-b395-491f00590cc1.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-69">5.1 æ¶æ„åˆ†å±‚</h4>
<ol>
<li><strong>å±•ç¤ºå±‚</strong>ï¼šæä¾›ç”¨æˆ·ç•Œé¢å’ŒAPIæ¥å£</li>
<li><strong>æœåŠ¡å±‚</strong>ï¼šå®ç°ä¸šåŠ¡é€»è¾‘å’ŒTCCåè°ƒ</li>
<li><strong>æ•°æ®å±‚</strong>ï¼šæŒä¹…åŒ–äº‹åŠ¡çŠ¶æ€å’Œä¸šåŠ¡æ•°æ®</li>
<li><strong>å®šæ—¶ä»»åŠ¡å±‚</strong>ï¼šå¤„ç†è¶…æ—¶äº‹åŠ¡å’Œé‡è¯•</li>
</ol>
<h4 data-id="heading-70">5.2 æ ¸å¿ƒç»„ä»¶</h4>
<h5 data-id="heading-71">TCCTransactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</h5>
<p>è´Ÿè´£åè°ƒæ•´ä¸ªTCCäº‹åŠ¡çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TCCTransactionManager</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeTransaction</span><span class="hljs-params">(TCCContext context, List&lt;TCCTransactionService&gt; participants)</span> {
        <span class="hljs-comment">// 1. Tryé˜¶æ®µ</span>
        <span class="hljs-keyword">if</span> (!tryPhase(context, participants)) {
            cancelPhase(context, participants); <span class="hljs-comment">// Tryå¤±è´¥ï¼Œæ‰§è¡ŒCancel</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// 2. Confirmé˜¶æ®µ</span>
        <span class="hljs-keyword">return</span> confirmPhase(context, participants);
    }
}
</code></pre>
<h5 data-id="heading-72">AccountTCCServiceï¼ˆè´¦æˆ·TCCæœåŠ¡ï¼‰</h5>
<p>å®ç°è´¦æˆ·ç›¸å…³çš„TCCæ“ä½œï¼ŒåŒ…æ‹¬å†»ç»“ã€æ‰£æ¬¾ã€é‡Šæ”¾ç­‰ã€‚</p>
<h5 data-id="heading-73">TCCTransactionScheduledTaskï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</h5>
<p>å¤„ç†è¶…æ—¶äº‹åŠ¡å’Œé‡è¯•é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Scheduled(fixedDelay = 5000)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanTimeoutTransactions</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æ‰«æè¶…æ—¶äº‹åŠ¡å¹¶å¤„ç†</span>
    List&lt;TCCTransaction&gt; expired = tccTransactionMapper.selectExpiredTransactions(
        System.currentTimeMillis(), <span class="hljs-number">100</span>);

    <span class="hljs-keyword">for</span> (TCCTransaction record : expired) {
        handleTimeoutTransaction(record);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-74">å…­ã€è½¬è´¦ä¸šåŠ¡å®Œæ•´æµç¨‹</h3>
<p>ä¸‹é¢ä»¥è·¨è¡Œè½¬è´¦ä¸ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„TCCæ‰§è¡Œæµç¨‹ã€‚
<img src="https://files.mdnice.com/user/161125/b500e12c-a29c-4b7b-8bc9-70bb0d042f1f.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-75">6.1 æµç¨‹è¯´æ˜</h4>
<ol>
<li>
<p><strong>å‘èµ·è½¬è´¦</strong></p>
<ul>
<li>ç”¨æˆ·å‘èµ·è½¬è´¦è¯·æ±‚</li>
<li>ç”Ÿæˆå…¨å±€å”¯ä¸€çš„äº‹åŠ¡ID</li>
<li>åˆ›å»ºTCCäº‹åŠ¡ä¸Šä¸‹æ–‡</li>
</ul>
</li>
<li>
<p><strong>Tryé˜¶æ®µ</strong></p>
<ul>
<li>è½¬å‡ºè´¦æˆ·ï¼šå†»ç»“1000å…ƒ</li>
<li>è½¬å…¥è´¦æˆ·ï¼šé¢„ç•™1000å…ƒé¢åº¦</li>
<li>ä¸¤ä¸ªTryéƒ½æˆåŠŸåè¿›å…¥Confirmé˜¶æ®µ</li>
</ul>
</li>
<li>
<p><strong>Confirmé˜¶æ®µ</strong></p>
<ul>
<li>è½¬å‡ºè´¦æˆ·ï¼šæ‰£å‡1000å…ƒä½™é¢ï¼Œé‡Šæ”¾å†»ç»“</li>
<li>è½¬å…¥è´¦æˆ·ï¼šå¢åŠ 1000å…ƒä½™é¢</li>
<li>æ›´æ–°äº‹åŠ¡çŠ¶æ€ä¸ºCONFIRMED</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸å¤„ç†</strong></p>
<ul>
<li>å¦‚æœTryå¤±è´¥ï¼Œæ‰§è¡ŒCancelé‡Šæ”¾èµ„æº</li>
<li>å¦‚æœConfirmå¤±è´¥ï¼Œè®°å½•æ—¥å¿—å¹¶é‡è¯•</li>
<li>å¦‚æœè¶…æ—¶æœªå®Œæˆï¼Œå®šæ—¶ä»»åŠ¡ä»‹å…¥å¤„ç†</li>
</ul>
</li>
</ol>
<h4 data-id="heading-76">6.2 äº‹åŠ¡ç®¡ç†å™¨æ‰§è¡Œä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeTransaction</span><span class="hljs-params">(TCCContext context, List&lt;TCCTransactionService&gt; participants)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">txId</span> <span class="hljs-operator">=</span> context.getTransactionId();
    log.info(<span class="hljs-string">"ã€TCCã€‘å¼€å§‹æ‰§è¡Œäº‹åŠ¡: {}, å‚ä¸è€…æ•°é‡: {}"</span>, txId, participants.size());

    <span class="hljs-comment">// è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤5åˆ†é’Ÿï¼‰</span>
    <span class="hljs-keyword">if</span> (context.getExpireTime() == <span class="hljs-literal">null</span>) {
        context.setExpireTime(System.currentTimeMillis() + <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-comment">// æŒä¹…åŒ–äº‹åŠ¡è®°å½•</span>
    saveTransactionRecord(context);

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. Tryé˜¶æ®µï¼šèµ„æºé¢„ç•™</span>
        <span class="hljs-keyword">if</span> (!tryPhase(context, participants)) {
            log.warn(<span class="hljs-string">"ã€TCCã€‘Tryé˜¶æ®µå¤±è´¥ï¼Œå¼€å§‹Cancel: {}"</span>, txId);
            cancelPhase(context, participants);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-comment">// 2. Confirmé˜¶æ®µï¼šç¡®è®¤æ‰§è¡Œ</span>
        log.info(<span class="hljs-string">"ã€TCCã€‘Tryé˜¶æ®µæˆåŠŸï¼Œå¼€å§‹Confirm: {}"</span>, txId);
        <span class="hljs-keyword">return</span> confirmPhase(context, participants);

    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"ã€TCCã€‘äº‹åŠ¡æ‰§è¡Œå¼‚å¸¸: {}"</span>, txId, e);
        cancelPhase(context, participants);
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-77">ä¸ƒã€é«˜æ€§èƒ½è®¾è®¡è¦ç‚¹</h3>
<p>ä¸ºäº†ä¿è¯ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<h4 data-id="heading-78">7.1 ä¹è§‚é”æ§åˆ¶å¹¶å‘</h4>
<p>ä½¿ç”¨æ•°æ®åº“versionå­—æ®µå®ç°ä¹è§‚é”ï¼Œé¿å…é•¿äº‹åŠ¡é˜»å¡ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">UPDATE</span> account <span class="hljs-keyword">SET</span> frozen_amount <span class="hljs-operator">=</span> frozen_amount <span class="hljs-operator">+</span> #{amount},
    version <span class="hljs-operator">=</span> version <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span> account_id <span class="hljs-operator">=</span> #{accountId} <span class="hljs-keyword">AND</span> version <span class="hljs-operator">=</span> #{version}
    <span class="hljs-keyword">AND</span> balance <span class="hljs-operator">&gt;=</span> #{amount}
</code></pre>
<h4 data-id="heading-79">7.2 å¹‚ç­‰æ€§è®¾è®¡</h4>
<p>æ‰€æœ‰TCCæ“ä½œéƒ½æ”¯æŒå¹‚ç­‰ï¼Œé€šè¿‡å”¯ä¸€çš„äº‹åŠ¡IDå’ŒçŠ¶æ€åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¹‚ç­‰æ€§æ£€æŸ¥</span>
<span class="hljs-type">FreezeRecord</span> <span class="hljs-variable">existRecord</span> <span class="hljs-operator">=</span> freezeRecordMapper.selectValidRecord(txId, accountId);
<span class="hljs-keyword">if</span> (existRecord != <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²æ‰§è¡Œè¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸ</span>
}
</code></pre>
<h4 data-id="heading-80">7.3 æœ¬åœ°ç¼“å­˜+æ•°æ®åº“æŒä¹…åŒ–</h4>
<p>ä½¿ç”¨ConcurrentHashMapä½œä¸ºL1ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, TCCContext&gt; localCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

<span class="hljs-keyword">public</span> TCCContext <span class="hljs-title function_">getContext</span><span class="hljs-params">(String transactionId)</span> {
    <span class="hljs-comment">// å…ˆæŸ¥æœ¬åœ°ç¼“å­˜</span>
    <span class="hljs-type">TCCContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> localCache.get(transactionId);
    <span class="hljs-keyword">if</span> (context != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> context;
    }
    <span class="hljs-comment">// æŸ¥æ•°æ®åº“</span>
    <span class="hljs-type">TCCTransaction</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> tccTransactionMapper.selectById(transactionId);
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 data-id="heading-81">7.4 éšæœºé€€é¿é¿å…é‡è¯•é£æš´</h4>
<p>ä¹è§‚é”å†²çªæ—¶ä½¿ç”¨éšæœºé€€é¿ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">randomBackoff</span><span class="hljs-params">(<span class="hljs-type">int</span> retry)</span> {
    <span class="hljs-keyword">if</span> (retry &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-type">long</span> <span class="hljs-variable">sleepMs</span> <span class="hljs-operator">=</span> ThreadLocalRandom.current().nextLong(<span class="hljs-number">10</span>, <span class="hljs-number">50</span> * (retry + <span class="hljs-number">1</span>));
        Thread.sleep(sleepMs);
    }
}
</code></pre>
<h3 data-id="heading-82">å…«ã€é¡¹ç›®å®æˆ˜</h3>
<h4 data-id="heading-83">8.1 æ•°æ®åº“è®¾è®¡</h4>
<p><strong>è´¦æˆ·è¡¨ï¼ˆaccountï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> account (
    account_id     <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">PRIMARY</span> KEY,
    account_name   <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    balance        <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,        <span class="hljs-comment">-- ä½™é¢(åˆ†)</span>
    frozen_amount  <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,        <span class="hljs-comment">-- å†»ç»“é‡‘é¢(åˆ†)</span>
    status         TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,       <span class="hljs-comment">-- çŠ¶æ€</span>
    version        <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,           <span class="hljs-comment">-- ä¹è§‚é”ç‰ˆæœ¬</span>
    create_time    DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    update_time    DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<p><strong>TCCäº‹åŠ¡è¡¨ï¼ˆtcc_transactionï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> tcc_transaction (
    transaction_id   <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">PRIMARY</span> KEY,
    business_type    <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    status           TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,     <span class="hljs-comment">-- 0-IDLE 1-TRYING 2-CONFIRMING...</span>
    expire_time      <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    retry_count      <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_retry_count  <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">5</span>,
    business_params  TEXT,
    create_time      DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    update_time      DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    INDEX idx_status_expire (status, expire_time)
);
</code></pre>
<p><strong>å†»ç»“è®°å½•è¡¨ï¼ˆfreeze_recordï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> freeze_record (
    id              <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
    transaction_id  <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    account_id      <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    amount          <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    operation_type  <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,    <span class="hljs-comment">-- FREEZEæˆ–RESERVE</span>
    status          TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,  <span class="hljs-comment">-- 0-å†»ç»“ä¸­ 1-å·²ç¡®è®¤ 2-å·²å–æ¶ˆ</span>
    create_time     DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY uk_tx_account (transaction_id, account_id)
);
</code></pre>
<h4 data-id="heading-84">8.2 å‰ç«¯é¡µé¢å±•ç¤ºï¼ˆ1ï¼‰</h4>
<p><img src="https://files.mdnice.com/user/161125/d1d95160-65bc-4ff2-8fce-bb44300f6a05.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-85">8.2 å‰ç«¯é¡µé¢å±•ç¤ºï¼ˆ2ï¼‰</h4>
<p><img src="https://files.mdnice.com/user/161125/31f08c62-b306-499b-ad91-e1f5f7a06c9f.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-86">ä¹ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-87">Q1ï¼šTCCä¸2PCæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>TCC</th><th>2PC</th></tr></thead><tbody><tr><td>é”å®šæ—¶é—´</td><td>Tryé˜¶æ®µçŸ­æ—¶é—´é”å®š</td><td>ç›´åˆ°æäº¤æ‰é‡Šæ”¾</td></tr><tr><td>æ€§èƒ½</td><td>è¾ƒé«˜ï¼Œæ— é•¿æ—¶é—´é˜»å¡</td><td>è¾ƒä½ï¼Œéœ€è¦é•¿æ—¶é—´é”èµ„æº</td></tr><tr><td>ä¸€è‡´æ€§</td><td>æœ€ç»ˆä¸€è‡´</td><td>å¼ºä¸€è‡´</td></tr><tr><td>å®ç°å¤æ‚åº¦</td><td>é«˜ï¼Œéœ€è¦ä¸šåŠ¡æ”¯æŒ</td><td>ä½ï¼Œæ•°æ®åº“æ”¯æŒ</td></tr></tbody></table>
<h4 data-id="heading-88">Q2ï¼šå¦‚ä½•å¤„ç†ç©ºå›æ»šï¼Ÿ</h4>
<p>ç©ºå›æ»šæ˜¯æŒ‡Tryè¿˜æ²¡æ‰§è¡Œï¼ŒCancelå°±å…ˆåˆ°äº†ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Cancelæ‰§è¡Œæ—¶å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å†»ç»“è®°å½•</li>
<li>å¦‚æœæ²¡æœ‰è®°å½•ï¼Œç›´æ¥è¿”å›æˆåŠŸï¼ˆå¹‚ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-89">Q3ï¼šå¦‚ä½•å¤„ç†æ‚¬æŒ‚ï¼Ÿ</h4>
<p>æ‚¬æŒ‚æ˜¯æŒ‡Cancelå…ˆäºTryæ‰§è¡Œï¼Œå¯¼è‡´Tryæ‰§è¡Œåèµ„æºæ— æ³•é‡Šæ”¾ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Cancelæ‰§è¡Œæ—¶åˆ›å»ºä¸€æ¡"å·²å–æ¶ˆ"è®°å½•</li>
<li>Tryæ‰§è¡Œæ—¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨"å·²å–æ¶ˆ"è®°å½•ï¼Œå¦‚æœå­˜åœ¨åˆ™æ‹’ç»æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-90">Q4ï¼šConfirmå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h4>
<p>Confirmå¤±è´¥åï¼š</p>
<ul>
<li>è®°å½•å¤±è´¥æ—¥å¿—</li>
<li>å¢åŠ é‡è¯•è®¡æ•°</li>
<li>å®šæ—¶ä»»åŠ¡æ‰«æå¹¶é‡è¯•</li>
<li>è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°åè½¬ä¸ºäººå·¥å¤„ç†</li>
</ul>
<h3 data-id="heading-91">åã€æ€»ç»“</h3>
<p>TCCåˆ†å¸ƒå¼äº‹åŠ¡é€šè¿‡å°†ä¸šåŠ¡æ“ä½œæ‹†åˆ†æˆTryã€Confirmã€Cancelä¸‰ä¸ªé˜¶æ®µï¼Œåœ¨ä¿è¯æœ€ç»ˆä¸€è‡´æ€§çš„åŒæ—¶ï¼Œæä¾›äº†è¾ƒå¥½çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<h4 data-id="heading-92">TCCçš„ä¼˜åŠ¿</h4>
<ol>
<li><strong>æ€§èƒ½å¥½</strong>ï¼šç›¸æ¯”2PCï¼Œé”èµ„æºæ—¶é—´çŸ­</li>
<li><strong>å¯é æ€§é«˜</strong>ï¼šé€šè¿‡è¡¥å¿æœºåˆ¶ä¿è¯æœ€ç»ˆä¸€è‡´æ€§</li>
<li><strong>è·¨æ•°æ®åº“</strong>ï¼šä¸ä¾èµ–ç‰¹å®šæ•°æ®åº“ç‰¹æ€§</li>
</ol>
<h4 data-id="heading-93">TCCçš„æŒ‘æˆ˜</h4>
<ol>
<li><strong>ä»£ç ä¾µå…¥æ€§å¼º</strong>ï¼šæ¯ä¸ªä¸šåŠ¡éœ€è¦å®ç°ä¸‰ä¸ªæ¥å£</li>
<li><strong>å¼€å‘æˆæœ¬é«˜</strong>ï¼šéœ€è¦è€ƒè™‘å¹‚ç­‰ã€ç©ºå›æ»šã€æ‚¬æŒ‚ç­‰è¾¹ç•Œæƒ…å†µ</li>
<li><strong>çŠ¶æ€ç®¡ç†å¤æ‚</strong>ï¼šéœ€è¦å¦¥å–„ç®¡ç†äº‹åŠ¡çŠ¶æ€</li>
</ol>
<h4 data-id="heading-94">é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>é‡‘èè½¬è´¦ã€æ”¯ä»˜åœºæ™¯</li>
<li>åº“å­˜æ‰£å‡ä¸è®¢å•åˆ›å»º</li>
<li>ç§¯åˆ†å…‘æ¢ã€ä¼˜æƒ åˆ¸æ ¸é”€</li>
<li>ä»»ä½•éœ€è¦å¼ºä¸€è‡´æ€§çš„è·¨æœåŠ¡ä¸šåŠ¡æ“ä½œ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ AI å†™ Android éœ€æ±‚ï¼šå°‘è¸©å‘çš„å®æˆ˜å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7604964464690184255</link>    <guid>https://juejin.cn/post/7604964464690184255</guid>    <pubDate>2026-02-10T17:24:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7604964464690184255" data-draft-id="7605051978872307731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ AI å†™ Android éœ€æ±‚ï¼šå°‘è¸©å‘çš„å®æˆ˜å¿ƒå¾—"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-10T17:24:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™†ä¸šèª"/> <meta itemprop="url" content="https://juejin.cn/user/13629904404157"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ AI å†™ Android éœ€æ±‚ï¼šå°‘è¸©å‘çš„å®æˆ˜å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/13629904404157/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™†ä¸šèª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T17:24:15.000Z" title="Tue Feb 10 2026 17:24:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å…ˆè¯´ç»“è®º</h2>
<p>ç”¨ AI å†™ Android ä»£ç è¿™äº‹ï¼Œæˆ‘æŠ˜è…¾äº†ä¸€æ®µæ—¶é—´ï¼Œæœ€å¤§çš„æ„Ÿå—å°±æ˜¯â€”â€”<strong>AI å†™å‡ºæ¥çš„ä»£ç è´¨é‡ï¼Œå…«æˆå–å†³äºä½ æ€ä¹ˆ"å–‚"å®ƒ</strong>ã€‚</p>
<p>å¾ˆå¤šäººç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™éƒ½ä¼šè§‰å¾—"å“‡å¥½å‰å®³"ï¼Œç¬¬äºŒæ¬¡å°±å¼€å§‹éª‚"è¿™å†™çš„ä»€ä¹ˆç©æ„"ã€‚å…¶å®ä¸æ˜¯ AI å˜ç¬¨äº†ï¼Œæ˜¯ä½ ç¬¬ä¸€æ¬¡æ°å¥½é—®äº†ä¸€ä¸ªå®ƒè®­ç»ƒæ•°æ®é‡Œçƒ‚å¤§è¡—çš„é—®é¢˜ï¼ˆæ¯”å¦‚å†™ä¸ª RecyclerView adapterï¼‰ï¼Œç¬¬äºŒæ¬¡ç¢°åˆ°äº†ä½ é¡¹ç›®é‡Œç‰¹æœ‰çš„é€»è¾‘ï¼Œå®ƒå°±å¼€å§‹èƒ¡ç¼–äº†ã€‚</p>
<p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸æ˜¯æ•™ä½ æ€ä¹ˆç”¨ AI å·¥å…·ï¼Œè€Œæ˜¯èŠèŠ<strong>æ€ä¹ˆæ‰èƒ½è®© AI ç”Ÿæˆçš„ä»£ç çœŸæ­£èƒ½ç”¨ï¼Œè€Œä¸æ˜¯çœ‹ç€åƒé‚£ä¹ˆå›äº‹ã€ä¸€è·‘å°±å´©</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æœ€é‡è¦çš„ä¸€ä»¶äº‹ï¼šè®© AI çŸ¥é“ä½ çš„é¡¹ç›®é•¿ä»€ä¹ˆæ ·</h2>
<p>è¿™ä¸€ç‚¹æ€ä¹ˆå¼ºè°ƒéƒ½ä¸è¿‡åˆ†ã€‚</p>
<p>ä½ æƒ³æƒ³ï¼Œä½ è®©ä¸€ä¸ªåˆšå…¥èŒçš„æ ¡æ‹›ç”Ÿå†™ä»£ç ï¼Œä½ ä¸ç»™ä»–çœ‹é¡¹ç›®ä»£ç ã€ä¸å‘Šè¯‰ä»–æ¶æ„åˆ†å±‚ã€ä¸è¯´å‘½åè§„èŒƒï¼Œä»–å†™å‡ºæ¥çš„ä¸œè¥¿èƒ½ç›´æ¥ç”¨å—ï¼ŸAI ä¹Ÿä¸€æ ·ï¼Œç”šè‡³æ¯”æ ¡æ‹›ç”Ÿæ›´éœ€è¦è¿™äº›ä¿¡æ¯â€”â€”å› ä¸ºæ ¡æ‹›ç”Ÿå¥½æ­¹ä¼šè‡ªå·±ç¿»ç¿»é¡¹ç›®ï¼ŒAI ä¸ä¼šï¼Œä½ ä¸å–‚å®ƒå°±çœŸçš„ä¸çŸ¥é“ã€‚</p>
<p><strong>å…·ä½“æ€ä¹ˆåšï¼š</strong></p>
<p>æŠŠä½ é¡¹ç›®ä¸­<strong>å·²æœ‰çš„åŒç±»ä»£ç </strong>ç›´æ¥è´´ç»™å®ƒå½“èŒƒä¾‹ã€‚æ¯”å¦‚è¦æ–°å†™ä¸€ä¸ª Serviceï¼Œå°±æŠŠå·²æœ‰çš„ <code>DepartmentService.java</code> ä¸¢ç»™å®ƒï¼Œè·Ÿå®ƒè¯´"ç…§ç€è¿™ä¸ªé£æ ¼æ¥"ã€‚è¿™æ¯”ä½ ç”¨æ–‡å­—æè¿°åŠå¤©æ¶æ„æœ‰ç”¨å¾—å¤šã€‚</p>
<p>å†æ¯”å¦‚æˆ‘ä»¬é¡¹ç›®é‡Œæ—¥å¿—ç»Ÿä¸€ç”¨ <code>WwLog.i(TAG, msg)</code>ï¼Œä½ ä¸è¯´çš„è¯ AI ç™¾åˆ†ç™¾ç»™ä½ å†™æˆ <code>Log.d("tag", "xxx")</code>â€”â€”å®ƒåˆä¸çŸ¥é“ä½ é¡¹ç›®é‡Œæœ‰è‡ªå·±çš„æ—¥å¿—å·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€éœ€æ±‚ä¸€å®šè¦æ‹†ï¼Œåˆ«ä¸€å£æ°”è®©å®ƒå…¨å†™äº†</h2>
<p>æˆ‘ä¹‹å‰çŠ¯è¿‡ä¸€ä¸ªé”™è¯¯ï¼šéœ€æ±‚è¯„å®¡å®Œï¼Œæˆ‘ç›´æ¥æŠŠ PRD é‡Œä¸€æ•´æ®µåŠŸèƒ½æè¿°ä¸¢ç»™ AIï¼Œè®©å®ƒ"å¸®æˆ‘å®ç°ä¸€ä¸‹"ã€‚ç»“æœå®ƒç¡®å®æ´‹æ´‹æ´’æ´’ç»™æˆ‘ç”Ÿæˆäº†å¥½å‡ ä¸ªæ–‡ä»¶ï¼Œä½†ä»£ç ä¹‹é—´çš„è°ƒç”¨å…³ç³»æ˜¯ä¹±çš„ï¼Œæ•°æ®æ¨¡å‹å’Œåç«¯æ¥å£ä¹Ÿå¯¹ä¸ä¸Šï¼ŒåŸºæœ¬ç­‰äºç™½å†™ã€‚</p>
<p>åæ¥æ‘¸ç´¢å‡ºæ¥çš„ç»éªŒæ˜¯ï¼š<strong>æŒ‰"æ•°æ®æ¨¡å‹ â†’ Service/Repository â†’ ViewModel â†’ UI"çš„é¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥æ¥</strong>ã€‚</p>
<p>æ¯ç”Ÿæˆä¸€æ­¥å°±ç¼–è¯‘ä¸€ä¸‹ï¼Œç¡®è®¤æ²¡é—®é¢˜å†ç»§ç»­ã€‚è¿™æ ·åšçœ‹èµ·æ¥æ…¢ï¼Œå®é™…ä¸Šæ¯”ä¸€æŠŠæ¢­ç„¶åèŠ±ä¸¤å°æ—¶ debug å¿«å¤šäº†ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾éœ€æ±‚æ˜¯åšä¸€ä¸ªä¼šè®®é¢„çº¦åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç¬¬ä¸€æ­¥ï¼šå…ˆå®šä¹‰ MeetingInfo æ•°æ®ç±»ï¼ŒæŠŠ proto æ–‡ä»¶é‡Œçš„å­—æ®µè´´ç»™ AI
ç¬¬äºŒæ­¥ï¼šåœ¨ MeetingPluginService é‡ŒåŠ  <span class="hljs-built_in">createMeeting</span>() æ–¹æ³•
ç¬¬ä¸‰æ­¥ï¼šæ³¨å†Œåˆ° ServiceManagerï¼ˆå‘Šè¯‰ AI å‚è€ƒç°æœ‰çš„æ³¨å†Œæ–¹å¼ï¼‰
ç¬¬å››æ­¥ï¼šå†™ ViewModel
ç¬¬äº”æ­¥ï¼šå†™ UI
</code></pre>
<p>æ¯ä¸€æ­¥éƒ½æ˜¯å°çš„ã€å¯ä»¥ç‹¬ç«‹éªŒè¯çš„ã€‚AI æœ€æ“…é•¿çš„å°±æ˜¯è¿™ç§"è¾¹ç•Œæ¸…æ™°ã€ä¸Šä¸‹æ–‡å……è¶³"çš„å°ä»»åŠ¡ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€Android çš„å‘ï¼Œä½ ä¸æ AI æ˜¯çœŸçš„ä¸ä¼šæ³¨æ„</h2>
<p>è¿™æ˜¯æˆ‘åƒè¿‡å¾ˆå¤šæ¬¡äºä¹‹åçš„æ€»ç»“ã€‚AI å¯¹ Android å¼€å‘æœ‰ä¸€äº›"ç³»ç»Ÿæ€§ç›²åŒº"ï¼Œä»¥ä¸‹è¿™äº›ä½ ä¸åœ¨ prompt é‡Œä¸»åŠ¨æé†’ï¼Œå®ƒå¤§æ¦‚ç‡ä¼šå¿½ç•¥ï¼š</p>
<p><strong>ç”Ÿå‘½å‘¨æœŸé—®é¢˜</strong>ï¼šAI ç»å¸¸åœ¨å›è°ƒé‡Œç›´æ¥æ›´æ–° UIï¼Œå®Œå…¨ä¸ç®¡ Activity æ˜¯ä¸æ˜¯å·²ç»è¢«å›æ”¶äº†ã€‚æˆ‘ä¹‹å‰è®©å®ƒå†™çš„ä¸€ä¸ªç½‘ç»œå›è°ƒï¼Œçº¿ä¸Šç›´æ¥å´©äº†ä¸€ç‰‡â€”â€”å°±æ˜¯å› ä¸ºé¡µé¢å·²ç» destroy äº†ï¼Œå›è°ƒè¿˜åœ¨å¾€ TextView ä¸Š setTextã€‚ç°åœ¨æˆ‘æ¯æ¬¡è®©å®ƒå†™å¼‚æ­¥é€»è¾‘ï¼Œéƒ½ä¼šåŠ ä¸€å¥"éœ€è¦æ£€æŸ¥ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼Œé¡µé¢é”€æ¯åä¸æ‰§è¡Œ UI æ“ä½œ"ã€‚</p>
<p><strong>çº¿ç¨‹é—®é¢˜</strong>ï¼šAI ç”Ÿæˆçš„ä»£ç æœ‰æ—¶å€™ä¼šæŠŠç½‘ç»œè¯·æ±‚å†™åœ¨ä¸»çº¿ç¨‹ï¼Œæœ‰æ—¶å€™åœ¨å­çº¿ç¨‹é‡Œç›´æ¥æ“ä½œ Viewã€‚ä½ å¾—æ˜ç¡®å‘Šè¯‰å®ƒ"ç½‘ç»œè¯·æ±‚èµ° IO çº¿ç¨‹ï¼ŒUI æ›´æ–°åˆ‡å›ä¸»çº¿ç¨‹"ï¼Œæœ€å¥½ç›´æ¥å‘Šè¯‰å®ƒç”¨åç¨‹è¿˜æ˜¯ RxJavaï¼Œåˆ«è®©å®ƒè‡ªå·±é€‰ã€‚</p>
<p><strong>RecyclerView å¤ç”¨</strong>ï¼šè¿™ä¸ªå‘ç»å…¸åˆ°ä¸è¡Œäº†ã€‚AI å†™ <code>onBindViewHolder</code> çš„æ—¶å€™ï¼Œå¾ˆå–œæ¬¢åªè®¾ç½®"æœ‰å€¼"çš„æƒ…å†µï¼Œä¸å¤„ç†"æ²¡å€¼"çš„æƒ…å†µï¼Œå¯¼è‡´æ»‘åŠ¨çš„æ—¶å€™æ•°æ®é”™ä¹±ã€‚æ¯æ¬¡æ¶‰åŠåˆ—è¡¨ï¼Œæˆ‘éƒ½ä¼šæé†’"åœ¨ onBindViewHolder ä¸­é‡ç½®æ‰€æœ‰æ§ä»¶çŠ¶æ€"ã€‚</p>
<p><strong>Context ä½¿ç”¨</strong>ï¼šè®© AI å†™å•ä¾‹æˆ–è€…å·¥å…·ç±»çš„æ—¶å€™ï¼Œå®ƒç‰¹åˆ«å–œæ¬¢æŒæœ‰ Activity Contextï¼Œå†…å­˜æ³„æ¼å°±è¿™ä¹ˆæ¥çš„ã€‚</p>
<p>è¯´å®è¯è¿™äº›å‘ï¼Œå¯¹æœ‰ç»éªŒçš„ Android å¼€å‘æ¥è¯´éƒ½æ˜¯å¸¸è¯†ã€‚ä½†é—®é¢˜æ˜¯ <strong>AI æ²¡æœ‰ç»éªŒï¼Œå®ƒåªæœ‰è®­ç»ƒæ•°æ®</strong>ã€‚ä½ å¾—æŠŠä½ çš„ç»éªŒ"ç¿»è¯‘"æˆå®ƒèƒ½ç†è§£çš„æŒ‡ä»¤ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†çš„å¤§æ€å™¨ï¼šè®© AI åè¿‡æ¥å®¡æŸ¥ä»£ç </h2>
<p>ä»£ç å†™å®Œä¹‹åä¸è¦æ€¥ç€æäº¤ï¼ŒæŠŠç”Ÿæˆçš„ä»£ç å†ä¸¢ç»™ AIï¼Œè®©å®ƒæ‰®æ¼” Code Reviewer çš„è§’è‰²ï¼š</p>
<ul>
<li>"æ£€æŸ¥è¿™æ®µä»£ç æœ‰æ²¡æœ‰ç©ºæŒ‡é’ˆé£é™©"</li>
<li>"è¿™é‡Œæœ‰æ²¡æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜"</li>
<li>"è·Ÿè¿™ä¸ª proto å®šä¹‰å¯¹ä¸€ä¸‹ï¼Œå­—æ®µæ˜ å°„é½ä¸é½"</li>
</ul>
<p>æˆ‘å®é™…æ“ä½œä¸‹æ¥ï¼Œè¿™ä¸€æ­¥èƒ½å‘ç°å¤§æ¦‚ 30% çš„é—®é¢˜ã€‚æœ‰ç‚¹åƒè‡ªå·±å†™å®Œæ–‡ç« å†é€šè¯»ä¸€éâ€”â€”å†™çš„æ—¶å€™æ²‰æµ¸åœ¨é€»è¾‘é‡Œå®¹æ˜“å¿½ç•¥ç»†èŠ‚ï¼Œæ¢ä¸ªè§†è§’å°±èƒ½çœ‹åˆ°ã€‚</p>
<p>å½“ç„¶ AI å®¡æŸ¥ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œ<strong>ä¸šåŠ¡é€»è¾‘å¯¹ä¸å¯¹è¿™äº‹è¿˜æ˜¯å¾—ä½ è‡ªå·±æŠŠå…³</strong>ã€‚AI èƒ½å¸®ä½ æŠ“ç©ºæŒ‡é’ˆã€æŠ“çº¿ç¨‹é—®é¢˜ã€æŠ“èµ„æºæ³„æ¼ï¼Œä½†å®ƒåˆ¤æ–­ä¸äº†"è¿™ä¸ªåœºæ™¯ä¸‹åˆ°åº•åº”è¯¥å¼¹ Toast è¿˜æ˜¯å¼¹ Dialog"ã€‚</p>
<hr/>
<h2 data-id="heading-5">äº”ã€æŠŠå›¢é˜Ÿè¸©è¿‡çš„å‘æ²‰æ·€æˆ"AI è§„åˆ™"</h2>
<p>è¿™æ˜¯æˆ‘è§‰å¾— ROI æœ€é«˜çš„ä¸€ä¸ªåŠ¨ä½œã€‚</p>
<p>å¾ˆå¤š AI å·¥å…·æ”¯æŒé¡¹ç›®çº§çš„é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚ <code>.cursorrules</code>ã€<code>.codebuddy/rules</code>ï¼‰ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢å†™ä¸Šå›¢é˜Ÿçš„ç¼–ç è§„èŒƒå’Œå†å²æ•™è®­ã€‚è¿™æ ·æ¯æ¬¡ AI ç”Ÿæˆä»£ç çš„æ—¶å€™ï¼Œè¿™äº›è§„åˆ™ä¼šè‡ªåŠ¨ä½œä¸ºä¸Šä¸‹æ–‡æ³¨å…¥ï¼Œä¸ç”¨æ¯æ¬¡éƒ½æ‰‹åŠ¨æé†’ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬é¡¹ç›®ä¹‹å‰è¸©è¿‡çš„å‘ï¼š</p>
<ul>
<li><code>TopBarView</code> é‡Œ <code>setPadding</code> æ²¡è€ƒè™‘ RTL å¸ƒå±€å¯¼è‡´é˜¿æ‹‰ä¼¯è¯­ç¯å¢ƒä¸‹ç•Œé¢é”™ä¹±ï¼Œåæ¥ç»Ÿä¸€æ”¹æˆäº† <code>setPaddingRelative</code></li>
<li><code>ExternalPayService</code> çš„å›è°ƒæ²¡åšç”Ÿå‘½å‘¨æœŸæ£€æŸ¥ï¼Œé¡µé¢å…³äº†å›è°ƒè¿˜åœ¨æ‰§è¡Œï¼Œç›´æ¥å´©</li>
</ul>
<p>è¿™ç§é¡¹ç›®ç‰¹æœ‰çš„å‘ï¼Œä½ ä¸å†™ä¸‹æ¥ï¼Œæ¯ä¸ªæ–°éœ€æ±‚ AI éƒ½æœ‰å¯èƒ½å†è¸©ä¸€éã€‚å†™è¿›è§„åˆ™æ–‡ä»¶é‡Œï¼Œä¸€åŠ³æ°¸é€¸ã€‚</p>
<hr/>
<h2 data-id="heading-6">å…­ã€æˆ‘ç°åœ¨çš„å·¥ä½œæµ</h2>
<pre><code class="hljs">æ‹¿åˆ°éœ€æ±‚
  â†“
æ‹†æˆ 5~8 ä¸ªå°æ­¥éª¤
  â†“
æ¯ä¸ªæ­¥éª¤å‡†å¤‡å¥½ä¸Šä¸‹æ–‡ï¼ˆèŒƒä¾‹ä»£ç  + proto + çº¦æŸæ¡ä»¶ï¼‰
  â†“
è®© AI é€æ­¥ç”Ÿæˆï¼Œæ¯æ­¥ç¼–è¯‘éªŒè¯
  â†“
ç”Ÿæˆå®Œè®© AI è‡ªæŸ¥ä¸€è½®
  â†“
è‡ªå·±å†è¿‡ä¸€éä¸šåŠ¡é€»è¾‘
  â†“
æäº¤
</code></pre>
<p>æ•´ä¸ªæµç¨‹è·‘ä¸‹æ¥ï¼Œæˆ‘çš„æ„Ÿå—æ˜¯ï¼š<strong>å†™ä»£ç çš„æ—¶é—´ç¡®å®ç¼©çŸ­äº†ä¸å°‘ï¼Œä½†çœä¸‹æ¥çš„æ—¶é—´å¤§éƒ¨åˆ†èŠ±åœ¨äº†"å‡†å¤‡ä¸Šä¸‹æ–‡"å’Œ"éªŒè¯ç»“æœ"ä¸Š</strong>ã€‚æ€»ä½“æ•ˆç‡æå‡å¤§æ¦‚åœ¨ 30%~50%ï¼Œä¸»è¦çœ‹éœ€æ±‚çš„å¤æ‚åº¦â€”â€”è¶Šæ˜¯æ¨¡å¼åŒ–çš„ä»£ç ï¼ˆCRUDã€åˆ—è¡¨é¡µã€è¡¨å•é¡µï¼‰ï¼ŒAI çš„åŠ é€Ÿæ•ˆæœè¶Šæ˜æ˜¾ï¼›è¶Šæ˜¯æ¶‰åŠå¤æ‚ä¸šåŠ¡é€»è¾‘å’Œè¾¹ç•Œæ¡ä»¶çš„ï¼Œäººå·¥ä»‹å…¥è¶Šå¤šã€‚</p>
<hr/>
<h2 data-id="heading-7">æœ€åè¯´ä¸¤å¥</h2>
<p>AI ç¼–ç¨‹å·¥å…·å‘å±•å¾ˆå¿«ï¼Œä½†è‡³å°‘åœ¨ç°é˜¶æ®µï¼Œå®ƒçš„å®šä½æ›´åƒæ˜¯ä¸€ä¸ª<strong>ç‰¹åˆ«èƒ½å¹²ä½†éœ€è¦è¯¦ç»†æŒ‡å¯¼çš„åˆçº§å¼€å‘</strong>ã€‚ä½ ç»™å®ƒæ¸…æ™°çš„ä¸Šä¸‹æ–‡ã€æ˜ç¡®çš„çº¦æŸã€åˆç†çš„ä»»åŠ¡ç²’åº¦ï¼Œå®ƒå°±èƒ½è¾“å‡ºé«˜è´¨é‡çš„ä»£ç ï¼›ä½ è¦æ˜¯ä»€ä¹ˆéƒ½ä¸è¯´å°±è®©å®ƒè‡ªç”±å‘æŒ¥ï¼Œé‚£å‡ºæ¥çš„ä¸œè¥¿å¤§æ¦‚ç‡è¦ä½ èŠ±æ›´å¤šæ—¶é—´å»ä¿®ã€‚</p>
<p>è¯´ç™½äº†ï¼Œ<strong>ç”¨å¥½ AI çš„å…³é”®ä¸æ˜¯å­¦ä¼šä»€ä¹ˆé«˜çº§ prompt æŠ€å·§ï¼Œè€Œæ˜¯æŠŠ"æˆ‘è„‘å­é‡ŒçŸ¥é“ä½†æ²¡è¯´å‡ºæ¥çš„ä¸œè¥¿"æ•´ç†æ¸…æ¥šï¼Œæ˜¾å¼åœ°å‘Šè¯‰å®ƒ</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹æœ¬èº«ï¼Œå…¶å®ä¹Ÿåœ¨å¸®ä½ æŠŠéœ€æ±‚å’ŒæŠ€æœ¯æ–¹æ¡ˆæƒ³å¾—æ›´é€å½»â€”â€”è¿™ç®—æ˜¯ä¸€ä¸ªæ„å¤–çš„æ”¶è·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å¤œæ€è€ƒï¼šè®¤çŸ¥çš„å¯¹é½ï¼Œæ‰æ˜¯ 9 å¹´æŠ€æœ¯æ²‰æ·€çš„çœŸæ­£åˆ†æ°´å²­]]></title>    <link>https://juejin.cn/post/7605097326726905902</link>    <guid>https://juejin.cn/post/7605097326726905902</guid>    <pubDate>2026-02-10T16:37:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7605097326726905902" data-draft-id="7605107459065217070" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å¤œæ€è€ƒï¼šè®¤çŸ¥çš„å¯¹é½ï¼Œæ‰æ˜¯ 9 å¹´æŠ€æœ¯æ²‰æ·€çš„çœŸæ­£åˆ†æ°´å²­"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2026-02-10T16:37:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŒªçŒªæ‹†è¿é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2541726613638973"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å¤œæ€è€ƒï¼šè®¤çŸ¥çš„å¯¹é½ï¼Œæ‰æ˜¯ 9 å¹´æŠ€æœ¯æ²‰æ·€çš„çœŸæ­£åˆ†æ°´å²­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726613638973/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŒªçŒªæ‹†è¿é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-10T16:37:37.000Z" title="Tue Feb 10 2026 16:37:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ—©åœ¨ 5 å¹´å‰ç”šè‡³æ›´æ—©ï¼Œæˆ‘å°±åœ¨æ€è€ƒï¼šé«˜çº§ä¹‹ä¸Šç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå¾ˆå¤šå…¬å¸å®šä¹‰çš„ä¸“å®¶ï¼Œæœ¬è´¨ä¸Šåªæ˜¯åœ¨å‚ç›´é¢†åŸŸæ‰å¾—æ›´æ·±çš„é«˜çº§å¼€å‘ï¼Œå¹¶æœªå‘ç”Ÿè®¤çŸ¥çš„è´¨å˜ï¼Œè¿™è®©æˆ‘å›°æƒ‘äº†å¾ˆä¹…ã€‚</p>
<p>ç›´åˆ°ä»Šå¤©ï¼Œæˆ‘è·³å‡ºè‡ªæˆ‘ï¼Œä»¥ç¬¬ä¸‰æ–¹è§†è§’ä¸ AI å±•å¼€äº†ä¸€åœºæ·±åº¦çš„è®¨è®ºã€‚é€šè¿‡ä¸æ–­çš„è‡ªæˆ‘è´¨ç–‘ã€åé—®ä¸æ€è€ƒæ¨æ¼”ï¼Œæˆ‘ç»ˆäºæ¢³ç†å‡ºäº†é‚£ä¸ªè¿Ÿåˆ°å¤šå¹´çš„ç­”æ¡ˆã€‚</p>
<p>ç°åœ¨ï¼ŒèŒä¸šçš„ç•Œé™å·²ä¸å†æ˜¯ç“¶é¢ˆï¼Œå› ä¸ºæˆ‘çœ‹åˆ°çš„ä¸å†æ˜¯æŠ€æœ¯çš„ç¼éš™ï¼Œè€Œæ˜¯ç§©åºçš„é—­ç¯ã€‚</p>
<h2 data-id="heading-1"><strong>ä¸€ã€ è®¤çŸ¥çš„è¿·èŒ«ï¼šä¸ºä»€ä¹ˆâ€œèµ„æ·±â€ä¸ç­‰äºâ€œæ¶æ„â€ï¼Ÿ</strong></h2>
<p>åœ¨èŒä¸šç”Ÿæ¶¯è¿ˆå‘ç¬¬ 9 å¹´çš„æ—¶å€™ï¼Œæˆ‘æ›¾é™·å…¥è¿‡ä¸€ç§é•¿æœŸçš„ç„¦è™‘ï¼šå¦‚æœä»…ä»…æ˜¯æŠ€èƒ½ç†Ÿç»ƒåº¦æ›´é«˜ã€è§£å†³é—®é¢˜æ›´å¿«ï¼Œé‚£è¿™ç©¶ç«Ÿæ˜¯ç»éªŒçš„å¢é•¿ï¼Œè¿˜æ˜¯ä»…ä»…å°†â€œä¸€å¹´ç»éªŒé‡å¤äº†ä¹å¹´â€ï¼Ÿ</p>
<p>æˆ‘æ›¾ä¸€åº¦è®¤ä¸ºï¼Œé«˜çº§å¼€å‘çš„é¡¶ç‚¹å°±æ˜¯â€œä¸“å®¶â€â€”â€”ä¸€ä¸ªæ— æ‰€ä¸èƒ½çš„æ•‘ç«è‹±é›„ã€‚ä½†åœ¨æœ€è¿‘çš„ä¸€åœºæ·±åº¦å¯¹è¯ä¸­ï¼Œæˆ‘æ¨ç¿»äº†è¿™ä¸ªè®¤çŸ¥ã€‚æˆ‘å‘ç°ï¼Œå¾ˆå¤šæ‰€è°“çš„â€œèµ„æ·±äººå£«â€å…¶å®éƒ½æ‰è¿›äº†ä¸€ä¸ª<strong>èµ„æ·±é™·é˜±</strong>ï¼šåœ¨å·²æœ‰çš„æœºå™¨ä¸Šï¼ŒåŠªåŠ›æŠŠèºä¸æ‹§å¾—æ¯”åˆ«äººæ›´ä¸“ä¸šã€‚ä½†è¿™ä¾ç„¶æ˜¯â€œæ‰‹å·¥ä¸šæ€ç»´â€ã€‚</p>
<h2 data-id="heading-2"><strong>äºŒã€ è§‚å¿µçš„ç¢°æ’ï¼šä¸“å®¶å…³æ³¨â€œæ·±åº¦â€ï¼Œè€Œæ¶æ„å®šä¹‰â€œç§©åºâ€</strong></h2>
<p>åœ¨ä¸ AI çš„åå¤è¾©éš¾ä¸­ï¼Œæˆ‘æ›¾çº ç»“äºä¸“å®¶ä¸æ¶æ„çš„ç•Œé™ã€‚æœ€ç»ˆï¼Œæˆ‘æ¢³ç†å‡ºäº†é‚£ä¸ªè®©æˆ‘è±ç„¶å¼€æœ—çš„<strong>è®¤çŸ¥æ–­å±‚</strong>ï¼š</p>
<ul>
<li><strong>é«˜çº§å¼€å‘/ä¸“å®¶å…³æ³¨â€œå®ç°â€ï¼š</strong> ä»–ä»¬çš„è®¤çŸ¥è¾¹ç•Œåœ¨äºâ€œå¦‚ä½•æŠŠäº‹æƒ…åšå¯¹â€ã€‚ä»–ä»¬æ˜¯å•å…µä½œæˆ˜çš„åˆ©åˆƒï¼Œè¿½æ±‚å±€éƒ¨æœ€ä¼˜ã€‚å³ä¾¿å¼ºå¦‚ä¸“å®¶ï¼Œä¹Ÿåªæ˜¯åœ¨æ—¢å®šçš„æ¡†æ¶ä¸‹ï¼Œé”»é€ å‡ºæœ€é”‹åˆ©çš„å‰‘ï¼Œå»è§£å†³æœ€éš¾çš„ Bugã€‚</li>
<li><strong>æ¶æ„å…³æ³¨â€œå®šä¹‰â€ï¼š</strong> æ¶æ„çš„è§†è§’åœ¨äº**â€œå¦‚ä½•è®©äº‹æƒ…æ— æ³•åšé”™â€**ã€‚æ¶æ„å¸ˆä¸ä»¥è§£å†³ç–‘éš¾æ‚ç—‡ä¸ºè£ï¼Œè€Œä»¥â€œæ¶ˆç­äº§ç”Ÿæ‚ç—‡çš„åœŸå£¤â€ä¸ºè£ã€‚</li>
</ul>
<p><strong>æ¶æ„ä¸æ˜¯åœ¨æ¡†æ¶å†…è·³èˆï¼Œè€Œæ˜¯ç§©åºçš„é™ä¸´è€…ã€‚</strong> ä»–é€šè¿‡æ¢³ç†ä¸šåŠ¡çš„å…¨é“¾è·¯é—­ç¯ï¼Œè®¾è®¡å‡ºä¸€å¥—é€»è¾‘å¥‘çº¦ï¼Œä»è€Œé™ç»´å®šä¹‰äº†ä¸€å¥—â€œè§„åˆ™â€ï¼Œè®©æ‰€æœ‰å‚ä¸è€…ï¼ˆäººæˆ– AIï¼‰åªèƒ½åœ¨è§„åˆ™å†…é«˜æ•ˆäº§å‡ºã€‚</p>
<h2 data-id="heading-3"><strong>ä¸‰ã€ æ¶æ„çš„çœŸç›¸ï¼šä»â€œç®¡ç†ä»£ç â€åˆ°â€œç®¡ç†ç¡®å®šæ€§â€</strong></h2>
<p>è¿™æ˜¯æˆ‘ä»¬è®¨è®ºä¸­æœ€æ ¸å¿ƒçš„å…±è¯†ï¼š<strong>æ¶æ„æ˜¯å¯¹ä¸ç¡®å®šæ€§çš„æé™å‹ç¼©ã€‚</strong></p>
<p>åœ¨å•†ä¸šäº¤ä»˜ä¸­ï¼Œæœ€è´µçš„ä¸œè¥¿ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯**â€œç¡®å®šæ€§â€ <strong>ã€‚ ä¸€ä¸ªé«˜çº§å¼€å‘å¯èƒ½ä¼šå› ä¸ºæŠ€æœ¯éš¾ç‚¹å¡ä½ä¸¤å‘¨ï¼Œè€Œæ¶æ„å¸ˆå…·å¤‡</strong>å…¨é“¾è·¯çš„ç©¿é€åŠ›**ã€‚ä»–èƒ½ä»æ•°æ®æºå¤´ç›´è¾¾äº¤äº’ç»ˆç«¯ï¼Œåœ¨åŠ¨å·¥å‰å°±çœ‹æ¸…æ‰€æœ‰æ½œåœ¨çš„ç†µå¢ä¸å†…è€—ã€‚</p>
<p>ä»–é€šè¿‡å…¨é“¾è·¯çš„æ•´åˆï¼Œå°†ç ´ç¢çš„å·¥ç§è¾¹ç•Œç¼åˆæˆä¸€ä¸ªè‡ªè¿è½¬çš„é—­ç¯ã€‚è¿™ç§èƒ½åŠ›ï¼Œè®©ç ”å‘æµç¨‹ä»â€œæ’è¿æ°”â€å˜æˆäº†â€œå·¥ä¸šåŒ–ç”Ÿäº§â€ã€‚</p>
<h2 data-id="heading-4"><strong>å››ã€ ç”Ÿäº§èŒƒå¼çš„æ›´æ›¿ï¼šæŠŠç»éªŒå›ºåŒ–ä¸ºâ€œæ æ†â€</strong></h2>
<p>é«˜çº§å¼€å‘å¾€å¾€åœ¨é€šè¿‡æ¶ˆè€—è‡ªå·±çš„æ—¶é—´æ¥æ¢å–äº§å‡ºï¼Œè¿™æ˜¯ä¸€ç§çº¿æ€§å¢é•¿ã€‚è€Œæ¶æ„çš„æ ¸å¿ƒè®¤çŸ¥æ˜¯**â€œæ æ†æ€ç»´â€**ã€‚</p>
<p>åœ¨ AI æ—¶ä»£ï¼Œæˆ‘ä»¬ä¸åº”è¯¥äº²è‡ªå»ç»‡å¸ƒã€‚æ¶æ„å¸ˆçš„ä»·å€¼åœ¨äºï¼šå°† 9 å¹´ç§¯ç´¯çš„å¯¹å¤æ‚ç³»ç»Ÿçš„é¢„åˆ¤èƒ½åŠ›ï¼Œè½¬åŒ–ä¸ºä¸€å¥—<strong>æ ‡å‡†è§„èŒƒï¼ˆSpecï¼‰</strong> ã€‚</p>
<p>å½“æ¶æ„æ¢³ç†å¾—è¶³å¤Ÿé€å½»ã€é—­ç¯è®¾è®¡å¾—è¶³å¤Ÿæ­»ï¼ŒAI å°±ä¸å†æ˜¯èŠå¤©æ¡†ï¼Œè€Œæ˜¯æµæ°´çº¿ä¸Šçš„é«˜é¢‘æ‰§è¡Œå•å…ƒã€‚æ¶æ„å¸¦ç»™å…¬å¸çš„ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯ä¸€å¥—**â€œæ™ºé€ äº§çº¿â€**ã€‚</p>
<h2 data-id="heading-5"><strong>äº”ã€ ç»“è¯­ï¼šè®¤çŸ¥çš„å¯¹é½ï¼Œå³æ˜¯ç»ˆå±€</strong></h2>
<p>è¿™åœºæ·±å¤œæ€è€ƒè®©æˆ‘æ˜ç™½ï¼ŒæŠ€æœ¯äººçš„å®šä»·é€»è¾‘å·²ç»å˜äº†ã€‚</p>
<p>æˆ‘ä¸å†å»å·é‚£äº›æ—¥æ–°æœˆå¼‚çš„å·¥å…·ï¼Œæˆ‘æ›´åœ¨æ„<strong>å†³ç­–çš„è´¨é‡</strong>ã€‚å…¬å¸æ”¯ä»˜é«˜è–ªï¼Œä¹°çš„ä¸æ˜¯ä½ çš„åŒæ‰‹ï¼Œè€Œæ˜¯ä½ é‚£åŒ<strong>èƒ½çœ‹é€ç³»ç»Ÿæœªæ¥ä¸‰å¹´æ­»æ´»çš„çœ¼ç›</strong>ã€‚</p>
<p>å½“ä¸ªäººçš„è®¤çŸ¥å®Œæˆä»â€œå®ç°â€åˆ°â€œå®šä¹‰â€ã€ä»â€œä¸“å®¶â€åˆ°â€œæ¶æ„â€çš„å¯¹é½æ—¶ï¼Œæ‰€è°“çš„èŒä¸šç“¶é¢ˆå°±ä¸å¤å­˜åœ¨ã€‚é¿å¼€æ·±å‘ã€é”å®šç»“æœâ€”â€”è¿™ç§å…¨é“¾è·¯çš„æŒæ§åŠ›ï¼Œæ‰æ˜¯æˆ‘ 9 å¹´æ€è€ƒåçš„æœ€ç»ˆç­”æ¡ˆã€‚</p>
<p>æ¬¢è¿è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>