<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æˆ‘å­¦ä¹ åˆ°çš„A2UIçš„åŠŸèƒ½ï¼šçº¯ç²¹çš„UIç”Ÿæˆ]]></title>    <link>https://juejin.cn/post/7593362940071133236</link>    <guid>https://juejin.cn/post/7593362940071133236</guid>    <pubDate>2026-01-11T11:05:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593362940071133236" data-draft-id="7593353611943362612" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å­¦ä¹ åˆ°çš„A2UIçš„åŠŸèƒ½ï¼šçº¯ç²¹çš„UIç”Ÿæˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-11T11:05:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å·¥ä½œæ—¥å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/4371313961207838"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å­¦ä¹ åˆ°çš„A2UIçš„åŠŸèƒ½ï¼šçº¯ç²¹çš„UIç”Ÿæˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313961207838/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å·¥ä½œæ—¥å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T11:05:35.000Z" title="Sun Jan 11 2026 11:05:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>1. UIç»„ä»¶å®šä¹‰</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-card"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Card"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"child"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"card-content"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>2. æ•°æ®ç»‘å®š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-name"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/restaurant/name"</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>3. åŠ¨æ€åˆ—è¡¨</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-list"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"List"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"template"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"componentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-card"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"dataBinding"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/restaurants"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>4. ç”¨æˆ·äº¤äº’</strong></p>
<pre><code class="hljs language-css" lang="css">{
  "id": <span class="hljs-string">"book-button"</span>,
  <span class="hljs-string">"component"</span>: {
    "<span class="hljs-selector-tag">Button</span>": {
      "action": {"name": <span class="hljs-string">"book_restaurant"</span>}
    }
  }
}
</code></pre>
<p><strong>5. æ€§èƒ½ä¼˜åŒ–</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// åªæ›´æ–°å˜åŒ–çš„æ•°æ®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dataModelUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/restaurant/rating"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"contents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rating"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueNumber"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4.8</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ä»…æ­¤è€Œå·²</strong>ã€‚A2UIä¸å…³å¿ƒï¼š</p>
<ul>
<li>æ¶ˆæ¯å¦‚ä½•ä¼ è¾“</li>
<li>çŠ¶æ€å¦‚ä½•ç®¡ç†</li>
<li>å·¥å…·å¦‚ä½•è°ƒç”¨</li>
<li>ä¼šè¯å¦‚ä½•ç»´æŠ¤</li>
</ul>
<p>è¿™äº›éƒ½æ˜¯å…¶ä»–å±‚çš„è´£ä»»ã€‚</p>
<p><strong>é›†æˆæ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨Litæ¸²æŸ“å™¨</span>
<span class="hljs-keyword">import</span> { A2UIRenderer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@a2ui/lit'</span>;
 
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A2UIRenderer</span>();
renderer.<span class="hljs-title function_">processMessage</span>(a2uiMessage);
</code></pre>
<h4 data-id="heading-0">å®é™…é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ™ºèƒ½ä½“ç«¯</span>
from a2ui import A2UIGenerator
 
<span class="hljs-attr">a2ui_message</span> = A2UIGenerator.create_form(...)
 
<span class="hljs-comment"># é€šè¿‡ä»»æ„æ–¹å¼å‘é€ï¼ˆHTTPã€WebSocketç­‰ï¼‰</span>
send_to_client(a2ui_message)
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‰ç«¯</span>
<span class="hljs-keyword">import</span> { A2UIRenderer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@a2ui/lit'</span>;
 
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A2UIRenderer</span>();
renderer.<span class="hljs-title function_">processMessage</span>(a2ui_message);
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-209 æ·±åº¦ç†è§£é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰ä¸æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•]]></title>    <link>https://juejin.cn/post/7593362940071231540</link>    <guid>https://juejin.cn/post/7593362940071231540</guid>    <pubDate>2026-01-11T11:35:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593362940071231540" data-draft-id="7593362940071182388" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-209 æ·±åº¦ç†è§£é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰ä¸æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-11T11:35:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-209 æ·±åº¦ç†è§£é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰ä¸æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T11:35:14.000Z" title="Sun Jan 11 2026 11:35:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>é€»è¾‘å›å½’æ˜¯ä¸€ç§å¸¸ç”¨äºäºŒå…ƒåˆ†ç±»çš„ç®—æ³•ï¼Œåˆ©ç”¨å¯¹æ•°å‡ ç‡å‡½æ•°å»ºæ¨¡åˆ†ç±»é—®é¢˜ã€‚</li>
<li>å…¶åº”ç”¨åœºæ™¯åŒ…æ‹¬æƒ…æ„Ÿåˆ†æã€ç–¾ç—…é¢„æµ‹ç­‰äºŒåˆ†ç±»é—®é¢˜ã€‚</li>
<li>æ¢¯åº¦ä¸‹é™æ˜¯å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ï¼Œç”¨äºé€šè¿‡æœ€å°åŒ–æŸå¤±å‡½æ•°æ¥æ±‚è§£æœ€ä¼˜æ¨¡å‹å‚æ•°ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dfa116fc0cf46e695034946b40635ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=1WsW3%2ByqzHVFo5ylhyttbUSUKDA%3D" alt="å¤§æ•°æ®-209 æ·±åº¦ç†è§£é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰ä¸æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•" loading="lazy"/></p>
<h2 data-id="heading-1">æ¦‚è¿°</h2>
<p>åˆ†ç±»æŠ€æœ¯æ˜¯æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜åº”ç”¨ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåœ¨æ•°æ®å­¦ç§‘ä¸­ï¼Œçº¦70%çš„é—®é¢˜å±äºåˆ†ç±»é—®é¢˜ã€‚è§£å†³åˆ†ç±»çš„ç®—æ³•ä¹Ÿæœ‰å¾ˆå¤šï¼Œå¦‚ï¼šKNNï¼Œä½¿è·ç¦»è®¡ç®—æ¥å®ç°åˆ†ç±»ï¼›å†³ç­–æ ‘ï¼Œé€šè¿‡æ„å»ºç›´è§‚æ˜“æ‡‚çš„æ ‘æ¥å®ç°åˆ†ç±»ã€‚
è¿™é‡Œæˆ‘ä»¬è¦å±•å¼€çš„æ˜¯Logisticå›å½’ï¼Œå®ƒæ˜¯ä¸€ç§å¾ˆå¸¸è§çš„ç”¨æ¥è§£å†³äºŒå…ƒåˆ†ç±»é—®é¢˜çš„å›å½’æ–¹æ³•ï¼Œå®ƒä¸»è¦æ˜¯é€šè¿‡å¯»æ‰¾æœ€ä¼˜å‚æ•°æ¥æ­£ç¡®çš„åˆ†ç±»åŸå§‹æ•°æ®ã€‚</p>
<h2 data-id="heading-2">åŸºæœ¬åŸç†</h2>
<p>é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¯¯å¯¼æ€§çš„æ¦‚å¿µï¼Œè™½ç„¶å®ƒçš„åå­—ä¸­å¸¦æœ‰å›å½’äºŒå­—ï¼Œä½†æ˜¯å®ƒæœ€æ“…é•¿çš„æ–¹æ³•æ˜¯åˆ†ç±»é—®é¢˜ã€‚LRåˆ†ç±»å™¨é€‚ç”¨äºå„é¡¹å¹¿ä¹‰ä¸Šçš„åˆ†ç±»ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šè¯„è®ºä¿¡æ¯çš„æ­£è´Ÿæƒ…æ„Ÿåˆ†æï¼ˆäºŒåˆ†ç±»ï¼‰ã€ç”¨æˆ·ç‚¹å‡»ç‡ï¼ˆäºŒåˆ†ç±»ï¼‰ã€ç”¨æˆ·è¿çº¦ä¿¡æ¯é¢„æµ‹ï¼ˆäºŒåˆ†ç±»ï¼‰ã€åƒåœ¾æœ‰æ£€é¢„æµ‹ï¼ˆäºŒåˆ†ç±»ï¼‰ã€ç–¾ç—…é¢„æµ‹ï¼ˆäºŒåˆ†ç±»ï¼‰ã€ç”¨æˆ·ç­‰çº§åˆ†ç±»ï¼ˆå¤šåˆ†ç±»ï¼‰ç­‰åœºæ™¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3944e40896c447bbbdf948cf6018567~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=TNXTqqeyf%2ByTjBvLk1TiNnSy7BQ%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
åœ¨æœ€å°äºŒä¹˜æ³•æ±‚æœ€ä¼˜è§£ä»¥åŠæ¡ä»¶ä¸æ»¡è¶³çš„æƒ…å†µç³»åŸå§‹ç®—æ³•çš„ä¿®æ­£æ–¹æ³•ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œçº¿æ€§å›å½’åªæ˜¯æœºå™¨å­¦ä¹ ç±»ç®—æ³•ä¸­æœ€ç®€å•çš„ç”¨è°ƒæ•´é¢„æµ‹æ ‡ç­¾æ•°å€¼çš„å›å½’ç®—æ³•ï¼Œæ»¡è¶³çº¿æ€§è§„å¾‹çš„çœŸå®åœºæ™¯å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œå› æ­¤æ ‡å‡†çº¿æ€§å›å½’åº”ç”¨é¢æœ‰é™ã€‚
ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œçº¿æ€§å›å½’å®é™…åº”ç”¨ä¸­å¼•å…¥äº†è¯¸å¤šå˜åŒ–å½¢å¼ï¼Œè€Œè¿™äº›å˜åŒ–å½¢å¼å¯ç»Ÿä¸€è§„æ•´ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d27d4890853430c8a43a71829fef740~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=xra3wFpBwrRVDGfxpoYQ6FQAw34%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
å…¶ä¸­g(<em>)ä¸ºå¯å¾®å‡½æ•°ï¼Œè€Œè¿™ç±»æ¨¡å‹ä¹Ÿè¢«ç§°ä¸ºå¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼ˆgeneralized linear modelï¼‰ï¼Œå…¶ä¸­å‡½æ•°è¢«ç§°ä¸ºè”ç³»å‡½æ•°ï¼ˆlink functionï¼‰ï¼Œç°å¦‚ä»Šè¢«å¹¿ä¸ºäººçŸ¥çš„é€»è¾‘å›å½’å°±æ˜¯è¯¸å¤šå¹¿ä¹‰å›å½’ç®—æ³•çš„å…¶ä¸­ä¸€ç§ã€‚
åœ¨é€»è¾‘å›å½’ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¯¹æ•°å‡ ç‡å‡½æ•°ï¼ˆLogistic Functionï¼‰ä½œä¸º gçš„-1æ¬¡ï¼ˆ</em>ï¼‰ï¼Œå¯¹æ•°å‡ ç‡å‡½æ•°è¡¨ç¤ºå½¢å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2ec6754d9504794bbddbb21264b0bfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=XEtN6l%2BYMT%2BkhbxG8skTxocS6xw%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
èƒ½å¤Ÿçœ‹å‡ºï¼Œå¯¹æ•°å‡ ç‡å‡½æ•°æ˜¯ä¸€ä¸ªSigmodå‡½æ•°ï¼ŒSigmodå‡½æ•°æ˜¯å½¢ä¼¼Sçš„å‡½æ•°ï¼Œå¯¹ç‡å‡½æ•°æ˜¯Sigmodå‡½æ•°çš„é‡è¦ä»£è¡¨ï¼Œåœ¨æ„ŸçŸ¥æœºç†è®ºä¸­ä¹Ÿå‘æŒ¥ç€é‡å¤§ä½œç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/849f17322a7f4c14b1bfca30ccc429bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=%2BHBmHi6Yf0IAJM2BHSlYTk2ACnY%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
åˆ©ç”¨å¯¹æ•°å‡½æ•°ï¼Œæˆ‘ä»¬å¯å°†Zè½¬æ¢ä¸ºä¸€ä¸ªï¼ˆ0,1ï¼‰åŒºé—´å†…çš„å€¼ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œgï¼ˆZï¼‰è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¯¼æ•°æ€§è´¨ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48a305f39a8342539a49d8eb3d67642b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=OdbRFcEgIzUVR6FQi%2B5WLhERxGA%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/></p>
<p>å¸¦å…¥å¯¹ç‡å‡½æ•°ï¼Œå¾—åˆ°é€»è¾‘å›å½’è¡¨è¾¾å¼ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/742ee19c86ba473f91fb191165bcb5f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=gP8c%2Fa3dJsI%2F4GHO2%2BdTRIHyrjU%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
è¿›ä¸€æ­¥å¯å¾—ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf87e399fa954db4b6d669b65a94145e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=7Pu8iGhrSYBVAHMs1CAE3iUBEt4%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
ç”±äºyå’Œ1-yçš„å’Œä¸º1ï¼Œå› æ­¤å¯å°†yå’Œ1-yè§†ä¸ºä¸€å †æ­£ååˆ—çš„å¯èƒ½æ€§ï¼Œå³yè§†ä½œæ ·æœ¬xä¸ºæ­£ä¾‹çš„å¯èƒ½æ€§ï¼Œåˆ™1-yä¸ºxä¸ºåä¾‹çš„å¯èƒ½æ€§ï¼ŒäºŒè€…æ¯”ä¾‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3afa41a0cf9442fa801842f924a2bb51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=lzN6dpGuckIjVqFDH0kQERi0D1o%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
è¢«ç§°ä¸ºå‡ ç‡ï¼ˆoddsï¼‰ï¼Œåæ˜ äº†æ ·æœ¬xä¸ºæ­£ä¾‹çš„ç›¸å¯¹å¯èƒ½æ€§ï¼Œå¯¹å‡ ç‡å–å¯¹æ•°åˆ™å¾—åˆ°â€œå¯¹æ•°å‡ ç‡â€ï¼ˆlogodds äº¦ç§° logitï¼‰ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3984a14b7fbd4151922c3cf66e6e59c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=hTdA6j%2BBQ520eGTB9OR7yJk4BCg%3D" alt="é€»è¾‘å›å½’ï¼ˆLogistic Regression ç®€ç§°LRï¼‰" loading="lazy"/>
å› æ­¤çœ‹å‡ºï¼Œä¸Šå¼å®é™…ä¸Šæ˜¯åœ¨ç”¨çº¿æ€§å›å½’æ¨¡å‹çš„é¢„æµ‹ç»“æœå–é€¼è¿‘çœŸå®æ ‡è®°çš„å¯¹æ•°å‡ ç‡ã€‚å› æ­¤ï¼Œå…¶å¯¹åº”çš„æ¨¡å‹è¢«ç§°ä¸ºâ€œå¯¹æ•°å‡ ç‡å›å½’â€ï¼ˆLogistic Regressionï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å…¶åå­—åŒ…å«å›å½’äºŒå­—ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯ä¸€ç§åˆ†ç±»å­¦ä¹ æ–¹æ³•ã€‚</p>
<p>è¿™ç§æ–¹æ³•æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä¾‹å¦‚å®ƒæ˜¯ç›´æ¥å¯¹åˆ†ç±»å¯èƒ½æ€§è¿›è¡Œå»ºæ¨¡ï¼Œå› æ­¤å®ƒä¸ä»…é¢„æµ‹å‡ºç±»åˆ«ï¼Œè€Œä¸”å¾—åˆ°çš„è¿‘ä¼¼æ¦‚ç‡é¢„æµ‹ï¼Œè¿™å¯¹è®¸å¤šéœ€è¦åˆ©ç”¨æ¦‚ç‡è¾…åŠ©å†³ç­–çš„ä»»åŠ¡å¾ˆæœ‰ç”¨ã€‚åŒæ—¶ï¼Œå¯¹ç‡å‡½æ•°æ˜¯ä»»æ„é˜¶å¯å¯¼çš„å‡¸å‡½æ•°ï¼Œæœ‰å¾ˆå¤šçš„æ•°å­¦æ€§è´¨ï¼Œç°æœ‰çš„å¾ˆå¤šæ•°å€¼ä¼˜åŒ–ç®—æ³•éƒ½å¯ä»¥ç›´æ¥ç”¨äºæ±‚å–æœ€ä¼˜è§£ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†é‡‡ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•å¯¹å…¶è¿›è¡Œæ±‚è§£ï¼Œé¦–å…ˆæˆ‘ä»¬å°†å¯¹æ¢¯åº¦ä¸‹é™ç†è®ºè¿›è¡Œç®€å•ä»‹ç»ã€‚</p>
<h2 data-id="heading-3">æ¢¯åº¦ä¸‹é™</h2>
<p>Gradient Descent
åœ¨æ±‚è§£æœºå™¨ç®—æ³•çš„æ¨¡å‹å‚æ•°ï¼Œå³æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ—¶ï¼Œæ¢¯åº¦ä¸‹é™æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-4">æ¢¯åº¦</h3>
<p>åœ¨å¾®ç§¯åˆ†é‡Œé¢ï¼Œå¯¹å¤šå…ƒå‡½æ•°çš„å‚æ•°æ±‚åå¯¼æ•°ï¼ŒæŠŠæ±‚å¾—çš„å„ä¸ªå‚æ•°çš„åå¯¼ä»¥å‘é‡çš„å½¢å¼å†™å‡ºæ¥ï¼Œå°±æ˜¯æ¢¯åº¦ã€‚é‚£ä¹ˆæ¢¯åº¦å‘é‡æ±‚å‡ºæ¥æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå®ƒçš„æ„ä¹‰å°±æ˜¯ä»å‡ ä½•æ„ä¹‰ä¸Šï¼Œå°±æ˜¯å‡½æ•°å˜åŒ–å¢åŠ æœ€å¿«çš„åœ°æ–¹ï¼Œæ²¿ç€æ¢¯åº¦å‘é‡çš„æ–¹å‘ï¼Œæ›´åŠ å®¹æ˜“æ‰¾åˆ°å‡½æ•°çš„æœ€å¤§å€¼ï¼Œåè¿‡æ¥è¯´ï¼Œæ²¿ç€æ¢¯åº¦å‘é‡çš„åæ–¹å‘ï¼Œæ¢¯åº¦å‡å°‘æœ€å¿«ï¼Œä¹Ÿå°±æ˜¯æ›´å®¹æ˜“æ‰¾åˆ°å‡½æ•°çš„æœ€å°å€¼ã€‚</p>
<h3 data-id="heading-5">æ¢¯åº¦ä¸‹é™ æ¢¯åº¦ä¸Šå‡</h3>
<p>åœ¨æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œåœ¨æœ€å°åŒ–æŸå¤±å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•æ¥ä¸€æ­¥æ­¥çš„è¿­ä»£æ±‚è§£ï¼Œå¾—åˆ°æœ€å°åŒ–çš„æŸå¤±å‡½æ•°ï¼Œå’Œæ¨¡å‹å‚æ•°å€¼ã€‚åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ±‚è§£æŸå¤±å‡½æ•°çš„æœ€å¤§å€¼ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨æ¢¯åº¦ä¸Šå‡æ¥è¿­ä»£äº†ã€‚æ¢¯åº¦ä¸‹é™å’Œæ¢¯åº¦ä¸Šå‡æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ±‚è§£çš„æŸå¤±å‡½æ•°æœ€å°å€¼ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦ç”¨æ¢¯åº¦ä¸‹é™æ¥è¿­ä»£æ±‚è§£ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åè¿‡æ¥æ±‚è§£æŸå¤±å‡½æ•°çš„æœ€å¤§å€¼ï¼Œè¿™æ—¶æ¢¯åº¦ä¸Šå‡æ³•å°±ç”¨ä¸Šäº†ã€‚</p>
<h3 data-id="heading-6">ç®—æ³•è¯¦è§£</h3>
<p>é¦–å…ˆæ¥çœ‹æ¢¯åº¦ä¸‹é™çš„ä¸€ä¸ªç›´è§‚çš„è§£é‡Šï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€åº§å¤§å±±ä¸Šçš„æŸå¤„ä½ç½®ï¼Œç”±äºæˆ‘ä»¬ä¸çŸ¥é“æ€ä¹ˆä¸‹å±±ï¼Œäºæ˜¯ç»å¯¹èµ°ä¸€æ­¥ç®—ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯æ¯èµ°åˆ°ä¸€ä¸ªä½ç½®çš„æ—¶å€™ï¼Œæ±‚è§£å½“å‰ä½ç½®çš„æ¢¯åº¦ï¼Œæ²¿ç€æ¢¯åº¦çš„è´Ÿé¢æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯æœ€é™¡å³­çš„ä½ç½®å‘ä¸‹èµ°ä¸€æ­¥ï¼Œç„¶åç»§ç»­æ±‚è§£å½“å‰ä½ç½®æ¢¯åº¦ï¼Œå‘è¿™ä¸€æ­¥æ‰€åœ¨ä½ç½®æ²¿ç€æœ€é™¡å³­æœ€æ˜“ä¸‹å±±çš„ä½ç½®èµ°ä¸€æ­¥ã€‚
è¿™æ ·ä¸€æ­¥ä¸€æ­¥èµ°ä¸‹å»ï¼Œä¸€ç›´èµ°åˆ°è§‰å¾—å·²ç»åˆ°äº†å±±è„šã€‚å½“ç„¶è¿™æ ·èµ°ä¸‹å»ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬ä¸èƒ½èµ°åˆ°å±±è„šï¼Œè€Œæ˜¯åˆ°äº†æŸä¸€ä¸ªå±€éƒ¨çš„å±±å³°ä½å¤„ã€‚
ä»ä¸Šé¢çš„è§£é‡Šå¯ä»¥çœ‹å‡ºï¼Œæ¢¯åº¦ä¸‹é™ä¸ä¸€å®šèƒ½å¤Ÿæ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ï¼Œå½“ç„¶ï¼Œå¦‚æœæŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™æ³•å¾—åˆ°çš„ä¸€å®šæ˜¯ä¸€ä¸ªå…¨å±€æœ€ä¼˜çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ebc55cfa2eb49e690028850b7b4873f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=x%2FiHSrvNUA0dzCCUo3b%2BF92kA6c%3D" alt="æ¢¯åº¦ä¸‹é™" loading="lazy"/></p>
<h3 data-id="heading-7">ç›¸å…³æ¦‚å¿µ</h3>
<p>åœ¨è¯¦ç»†äº†è§£æ¢¯åº¦ä¸‹é™çš„ç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ç›¸å…³çš„ä¸€äº›æ¦‚å¿µï¼š</p>
<ul>
<li>æ­¥é•¿ï¼ˆLeanring rateï¼‰ï¼šæ­¥é•¿å†³å®šäº†æ¢¯åº¦ä¸‹é™è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ­¥æ²¿æ¢¯åº¦è´Ÿæ–¹å‘å‰è¿›çš„é•¿åº¦ã€‚ç”¨ä¸Šé¢ä¸‹å±±çš„ä¾‹å­ï¼Œæ­¥é•¿å°±æ˜¯åœ¨å½“å‰è¿™ä¸€æ­¥æ‰€åœ¨ä½ç½®æ²¿ç€æœ€é™¡å³­æœ€æ˜“ä¸‹å±±çš„ä½ç½®èµ°çš„é‚£ä¸€æ­¥çš„é•¿åº¦ã€‚</li>
<li>å‡è®¾å‡½æ•°ï¼ˆhypothesis functionï¼‰ï¼šåœ¨ç›‘ç£å­¦ä¹ ï¼Œä¸ºäº†æ‹Ÿåˆè¾“å…¥æ ·æœ¬ï¼Œè€Œä½¿ç”¨çš„å‡è®¾å‡½æ•°è®°ä¸ºy^ï¼Œæ¯”å¦‚å¯¹äºå•ä¸ªç‰¹å¾çš„mä¸ªæ ·æœ¬ï¼Œå¯ä»¥é‡‡ç”¨æ‹Ÿåˆå‡½æ•°ä¸º y = w0 + w1zã€‚</li>
<li>æŸå¤±å‡½æ•°ï¼ˆloss functionï¼‰ï¼šä¸ºäº†è¯„ä¼°æ¨¡å‹æ‹Ÿåˆçš„å¥½åï¼Œé€šå¸¸ç”¨æŸå¤±å‡½æ•°æ¥åº¦é‡æ‹Ÿåˆçš„ç¨‹åº¦ã€‚æŸå¤±å‡½æ•°æå°åŒ–ï¼Œæ„å‘³ç€æ‹Ÿåˆç¨‹åº¦æœ€å¥½ï¼Œå¯¹åº”çš„æ¨¡å‹å‚æ•°å³ä¸ºæœ€ä¼˜å‚æ•°ï¼Œåœ¨çº¿æ€§å›å½’ä¸­ï¼ŒæŸå¤±å‡½æ•°é€šå¸¸ä¸ºæ ·æœ¬è¾“å‡ºå’Œå‡è®¾å‡½æ•°çš„å·®å»å¹³æ–¹ã€‚å¯¹äºmä¸ªæ ·æœ¬ï¼Œé‡‡ç”¨çº¿æ€§å›å½’ï¼ŒæŸå¤±å‡½æ•°ä¸ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc21cb1536174996a0ea8c69c59ef43b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=%2FQUZdI20WKifpd8wQ6tnEwo99Uo%3D" alt="æ¢¯åº¦ä¸‹é™" loading="lazy"/>
æ¢¯åº¦ä¸‹é™çš„ç®—æ³•ç”¨çŸ©é˜µè¡¨ç¤ºï¼Œæ›´åŠ ç®€æ´ï¼Œä¸”ç”±äºä½¿ç”¨äº†çŸ©é˜µï¼Œå®ç°é€»è¾‘æ›´åŠ ä¸€ç›®äº†ç„¶ï¼Œè¿™ä¸€èŠ‚è¦æ±‚æœ‰ä¸€å®šçš„çŸ©é˜µåˆ†æçš„åŸºç¡€çŸ¥è¯†ï¼Œå°¤å…¶æ˜¯çŸ©é˜µæ±‚å¯¼çš„çŸ¥è¯†ã€‚</li>
<li>å…ˆå†³æ¡ä»¶ï¼šéœ€è¦ç¡®è®¤ä¼˜åŒ–æ¨¡å‹çš„å‡è®¾å‡½æ•°å’ŒæŸå¤±å‡½æ•°ï¼Œå¯¹äºçº¿æ€§å›å½’ï¼Œå‡è®¾å‡½æ•° y^ = w0 + w1x1 + ... + wnxnï¼ŒçŸ©é˜µè¡¨è¾¾å¼ä¸ºï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dadb5eb3dff648d8ae35db5d03b3e8e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=%2FF%2ByHPN55cIv9pAVR1jl0%2F3uw10%3D" alt="æ¢¯åº¦ä¸‹é™" loading="lazy"/>
å…¶ä¸­ï¼Œå‡è®¾å‡½æ•°ä¸º mx1çš„å‘é‡ï¼Œwæ˜¯ï¼ˆn+1ï¼‰x1çš„å‘é‡ï¼Œé‡Œé¢æœ‰nä¸ªæ¨¡å‹å‚æ•°ï¼ŒXä¸ºm x (n + 1)ç»´çš„çŸ©é˜µã€‚mä»£è¡¨æ ·æœ¬çš„ä¸ªæ•°ï¼Œn+1ä»£è¡¨æ ·æœ¬çš„ç‰¹å¾æ•°ã€‚
æŸå¤±å‡½æ•°çš„è¡¨è¾¾å¼ä¸ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec9c95f107c446c790f39768bb5cbe58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=m4bGV6oh5J1SSX3mMDqrpJSdlQA%3D" alt="æ¢¯åº¦ä¸‹é™" loading="lazy"/>
å…¶ä¸­Yæ˜¯æ ·æœ¬çš„è¾“å‡ºå‘é‡ï¼Œç»´åº¦ m x 1</p>
<ul>
<li>ç®—æ³•ç›¸å…³çš„å‚æ•°åˆå§‹åŒ–ï¼šwå‘é‡å¯ä»¥åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ï¼Œæˆ–è€…è°ƒä¼˜åçš„å€¼ï¼Œç®—æ³•ç»ˆæ­¢è·ç¦»cï¼Œæ­¥é•¿aåˆå§‹åŒ–ä¸º1ï¼Œåœ¨è°ƒä¼˜æ—¶å†è¿›è¡Œä¼˜åŒ–ã€‚</li>
</ul>
<h3 data-id="heading-8">æ¢¯åº¦ç®—æ³•ä¸‹é™ç®—æ³•è°ƒä¼˜</h3>
<p>åœ¨ä½¿ç”¨æ¢¯åº¦ç®—æ³•æ—¶ï¼Œéœ€è¦è¿›è¡Œè°ƒä¼˜ï¼Œå“ªäº›åœ°æ–¹éœ€è¦è°ƒä¼˜å‘¢ï¼Ÿ</p>
<ul>
<li>ç®—æ³•çš„è¡¥å¿é€‰æ‹©ï¼šåœ¨å‰é¢çš„ç®—æ³•æè¿°ä¸­ï¼Œæå–åˆ°æ­¥é•¿ä¸º1ï¼Œä½†æ˜¯å®é™…ä¸Šå–å€¼å–å†³äºæ•°æ®æ ·æœ¬ï¼Œå¯ä»¥å¤šå–ä¸€äº›å€¼ï¼Œä»å¤§åˆ°å°ï¼Œåˆ†åˆ«è¿è¡Œç®—æ³•ï¼Œçœ‹çœ‹è¿­ä»£æ•ˆæœï¼Œå¦‚æœæŸå¤±å‡½æ•°åœ¨å˜å°ï¼Œè¯´æ˜å–å€¼æœ‰æ•ˆï¼Œå¦åˆ™è¦å¢å¤§æ­¥é•¿ã€‚</li>
<li>ç®—æ³•å‚æ•°çš„åˆå§‹å€¼é€‰æ‹©ï¼šåˆå§‹å€¼ä¸åŒï¼Œè·å¾—çš„æœ€å°å€¼ä¹Ÿæœ‰å¯èƒ½ä¸åŒï¼Œå› æ­¤æ¢¯åº¦ä¸‹é™æ±‚å¾—åªæ˜¯å±€éƒ¨æœ€å°å€¼ï¼Œå½“ç„¶å¦‚æœæŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°åˆ™ä¸€å®šæ˜¯æœ€ä¼˜è§£ã€‚ç”±äºå±€éƒ¨æœ€ä¼˜è§£çš„é£é™©ï¼Œéœ€è¦å¤šæ¬¡ç”¨ä¸åŒçš„åˆå§‹å€¼è¿è¡Œç®—æ³•ï¼Œè§‚æµ‹æŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œé€‰æ‹©æŸå¤±å‡½æ•°æœ€å°åŒ–çš„åˆå§‹å€¼ã€‚</li>
<li>æ ‡å‡†åŒ–ï¼šç”±äºæ ·æœ¬ä¸åŒç‰¹å¾çš„å–å€¼èŒƒå›´ä¸ä¸€æ ·ï¼Œå¯èƒ½å¯¼è‡´è¿­ä»£å¾ˆæ…¢ï¼Œä¸ºäº†å‡å°‘ç‰¹å¾å–å€¼çš„å½±å“ï¼Œå¯ä»¥å¯¹ç‰¹å¾æ•°æ®æ ‡å‡†åŒ–ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæ¯ä¸ªç‰¹å¾Zï¼Œæ±‚å‡ºå®ƒçš„æœŸæœ›å’Œæ ‡å‡†å·®stdï¼ˆxï¼‰ï¼Œç„¶åè½¬åŒ–ä¸ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fd7d6c2acfd47ffa088a647dd21b009~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768736114&amp;x-signature=PEK4CYjCNwGlS8shsGNGX%2FA11uM%3D" alt="æ¢¯åº¦ç®—æ³•ä¸‹é™ç®—æ³•è°ƒä¼˜" loading="lazy"/>
è¿™æ ·ç‰¹å¾çš„æ–°æœŸæœ›æ˜¯0ï¼Œæ–°æ–¹å·®æ˜¯1ï¼Œä¸”æ— é‡çº²ï¼Œæ”¶æ•›é€Ÿåº¦å¯ä»¥å¤§å¤§åŠ å¿«ã€‚</li>
</ul>
<h2 data-id="heading-9">é”™è¯¯é€ŸæŸ¥</h2>





























<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æ¢¯åº¦ä¸‹é™æ— æ³•æ”¶æ•›</td><td>æ­¥é•¿è¿‡å¤§å¯¼è‡´æ¢¯åº¦æ›´æ–°è¿‡å¿«ï¼Œè·³è¿‡æœ€ä¼˜è§£</td><td>æ¢¯åº¦ä¸‹é™ç®—æ³•å®ç°éƒ¨åˆ†</td><td>è°ƒå°æ­¥é•¿æˆ–ä½¿ç”¨è‡ªé€‚åº”æ­¥é•¿ï¼ˆå¦‚Adamä¼˜åŒ–å™¨ï¼‰</td></tr><tr><td>æ¨¡å‹å‚æ•°ä¼˜åŒ–ä¸å‡†ç¡®</td><td>åˆå§‹å‚æ•°é€‰æ‹©ä¸å½“ï¼Œå¯¼è‡´é™·å…¥å±€éƒ¨æœ€ä¼˜è§£</td><td>æ¨¡å‹åˆå§‹åŒ–éƒ¨åˆ†</td><td>å°è¯•ä¸åŒçš„åˆå§‹å‚æ•°ï¼Œè¿è¡Œå¤šæ¬¡éªŒè¯ç»“æœ</td></tr><tr><td>æ ‡å‡†åŒ–åæ”¶æ•›é€Ÿåº¦ä»ç„¶ç¼“æ…¢</td><td>ç‰¹å¾æ•°æ®æ ‡å‡†åŒ–å¤„ç†ä¸å½“</td><td>ç‰¹å¾æ ‡å‡†åŒ–éƒ¨åˆ†</td><td>ç¡®è®¤æ ‡å‡†åŒ–æ–¹æ³•ï¼Œç¡®ä¿æœŸæœ›å’Œæ–¹å·®è®¡ç®—æ­£ç¡®</td></tr></tbody></table>
<h2 data-id="heading-10">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-11">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-12">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-13">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code å››å¤§æ ¸å¿ƒæŠ€èƒ½ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593232758128574470</link>    <guid>https://juejin.cn/post/7593232758128574470</guid>    <pubDate>2026-01-11T08:52:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593232758128574470" data-draft-id="7593358143690981439" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code å››å¤§æ ¸å¿ƒæŠ€èƒ½ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2026-01-11T08:52:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="tiantian_cool"/> <meta itemprop="url" content="https://juejin.cn/user/1556564195151688"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code å››å¤§æ ¸å¿ƒæŠ€èƒ½ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564195151688/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    tiantian_cool
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:52:44.000Z" title="Sun Jan 11 2026 08:52:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç» Superpowersã€Feature-Devã€UI/UX Pro Max å’Œ Ralph Wiggum å››ä¸ªå¼ºå¤§æŠ€èƒ½çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å……åˆ†å‘æŒ¥ Claude Code çš„æ½œåŠ›ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ç›®å½•</h2>
<ol start="0">
<li><a href="#%E6%8A%80%E8%83%BD%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0" title="#%E6%8A%80%E8%83%BD%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0">æŠ€èƒ½ç³»ç»Ÿæ¦‚è¿°</a></li>
<li><a href="#superpowers%E5%AE%8C%E6%95%B4%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C%E6%B5%81" title="#superpowers%E5%AE%8C%E6%95%B4%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C%E6%B5%81">Superpowersï¼šå®Œæ•´å¼€å‘å·¥ä½œæµ</a></li>
<li><a href="#feature-dev%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97" title="#feature-dev%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97">Feature-Devï¼šåŠŸèƒ½å¼€å‘æŒ‡å—</a></li>
<li><a href="#uiux-pro-max%E8%AE%BE%E8%AE%A1%E6%99%BA%E8%83%BD%E7%B3%BB%E7%BB%9F" title="#uiux-pro-max%E8%AE%BE%E8%AE%A1%E6%99%BA%E8%83%BD%E7%B3%BB%E7%BB%9F">UI/UX Pro Maxï¼šè®¾è®¡æ™ºèƒ½ç³»ç»Ÿ</a></li>
<li><a href="#ralph-wiggum%E8%BF%AD%E4%BB%A3%E5%BE%AA%E7%8E%AF%E5%BC%80%E5%8F%91" title="#ralph-wiggum%E8%BF%AD%E4%BB%A3%E5%BE%AA%E7%8E%AF%E5%BC%80%E5%8F%91">Ralph Wiggumï¼šè¿­ä»£å¾ªç¯å¼€å‘</a></li>
<li><a href="#%E6%8A%80%E8%83%BD%E9%80%89%E6%8B%A9%E6%8C%87%E5%8D%97" title="#%E6%8A%80%E8%83%BD%E9%80%89%E6%8B%A9%E6%8C%87%E5%8D%97">æŠ€èƒ½é€‰æ‹©æŒ‡å—</a></li>
<li><a href="#%E6%80%BB%E7%BB%93" title="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ol>
<hr/>
<h2 data-id="heading-1">æŠ€èƒ½ç³»ç»Ÿæ¦‚è¿°</h2>
<p>Claude Code çš„æŠ€èƒ½ç³»ç»Ÿæ˜¯ä¸€å¥—å¯ç»„åˆçš„ä¸“ä¸šå·¥ä½œæµï¼Œå®ƒä»¬åœ¨ç‰¹å®šåœºæ™¯ä¸‹è‡ªåŠ¨æ¿€æ´»ï¼Œå¸®åŠ©å¼€å‘è€…ä»¥ç³»ç»ŸåŒ–çš„æ–¹å¼å®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒåŸåˆ™</h3>
<pre><code class="hljs language-erlang" lang="erlang">å¦‚æœä½ è®¤ä¸ºæŸä¸ªæŠ€èƒ½æœ‰å“ªæ€• <span class="hljs-number">1</span><span class="hljs-comment">% çš„å¯èƒ½é€‚ç”¨äºå½“å‰ä»»åŠ¡ï¼Œ</span>
ä½ å°±å¿…é¡»è°ƒç”¨å®ƒã€‚è¿™ä¸æ˜¯å»ºè®®ï¼Œè€Œæ˜¯å¼ºåˆ¶è¦æ±‚ã€‚
</code></pre>
<h3 data-id="heading-3">æŠ€èƒ½ä¼˜å…ˆçº§</h3>
<p>å½“å¤šä¸ªæŠ€èƒ½å¯èƒ½é€‚ç”¨æ—¶ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºä½¿ç”¨ï¼š</p>
<ol start="0">
<li><strong>æµç¨‹æŠ€èƒ½ä¼˜å…ˆ</strong>ï¼ˆbrainstormingã€debuggingï¼‰- å†³å®šå¦‚ä½•å¤„ç†ä»»åŠ¡</li>
<li><strong>å®ç°æŠ€èƒ½å…¶æ¬¡</strong>ï¼ˆfrontend-designã€mcp-builderï¼‰- æŒ‡å¯¼å…·ä½“æ‰§è¡Œ</li>
</ol>
<hr/>
<h2 data-id="heading-4">Superpowersï¼šå®Œæ•´å¼€å‘å·¥ä½œæµ</h2>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯ Superpowersï¼Ÿ</h3>
<p>Superpowers æ˜¯ä¸€å¥—å®Œæ•´çš„è½¯ä»¶å¼€å‘å·¥ä½œæµï¼ŒåŸºäºå¯ç»„åˆçš„"æŠ€èƒ½"æ„å»ºã€‚å®ƒä»ä½ å¯åŠ¨ç¼–ç¨‹ä»£ç†çš„é‚£ä¸€åˆ»å¼€å§‹å·¥ä½œï¼Œä¸æ˜¯ç›´æ¥è·³å…¥ç¼–ç ï¼Œè€Œæ˜¯å…ˆé€€ä¸€æ­¥ç†è§£ä½ çœŸæ­£æƒ³è¦åšä»€ä¹ˆã€‚</p>
<h3 data-id="heading-6">å®‰è£…æ–¹å¼</h3>
<p><strong>Claude Code ç”¨æˆ·ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ³¨å†Œ marketplace</span>
/plugin marketplace add obra/superpowers-marketplace
â€‹
<span class="hljs-comment"># å®‰è£…æ’ä»¶</span>
/plugin install superpowers@superpowers-marketplace
â€‹
<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
/help
</code></pre>
<h3 data-id="heading-7">æ ¸å¿ƒå·¥ä½œæµ</h3>
<p>Superpowers åŒ…å«ä¸ƒä¸ªé˜¶æ®µçš„å®Œæ•´å¼€å‘æµç¨‹ï¼š</p>
<h4 data-id="heading-8">1. Brainstormingï¼ˆå¤´è„‘é£æš´ï¼‰</h4>
<p>åœ¨ç¼–å†™ä»£ç ä¹‹å‰æ¿€æ´»ï¼Œé€šè¿‡é—®ç­”ç»†åŒ–ç²—ç•¥æƒ³æ³•ï¼Œæ¢ç´¢æ›¿ä»£æ–¹æ¡ˆï¼Œåˆ†æ®µå±•ç¤ºè®¾è®¡ä¾›éªŒè¯ã€‚</p>
<p><strong>å…³é”®åŸåˆ™ï¼š</strong></p>
<ul>
<li>ä¸€æ¬¡åªé—®ä¸€ä¸ªé—®é¢˜</li>
<li>ä¼˜å…ˆä½¿ç”¨é€‰æ‹©é¢˜</li>
<li>æ— æƒ…åœ°åº”ç”¨ YAGNIï¼ˆä½ ä¸ä¼šéœ€è¦å®ƒï¼‰</li>
<li>æ€»æ˜¯æå‡º 2-3 ç§æ–¹æ¡ˆåå†å®šæ¡ˆ</li>
</ul>
<p><strong>æµç¨‹ï¼š</strong></p>
<pre><code class="hljs">ç†è§£é¡¹ç›®çŠ¶æ€ â†’ é€ä¸ªæé—®ç»†åŒ–æƒ³æ³• â†’ æå‡º2-3ç§æ–¹æ¡ˆ
â†’ åˆ†æ®µå±•ç¤ºè®¾è®¡ï¼ˆæ¯æ®µ200-300å­—ï¼‰â†’ éªŒè¯åä¿å­˜è®¾è®¡æ–‡æ¡£
</code></pre>
<h4 data-id="heading-9">2. Git Worktreesï¼ˆGitå·¥ä½œæ ‘ï¼‰</h4>
<p>è®¾è®¡æ‰¹å‡†åæ¿€æ´»ï¼Œåœ¨æ–°åˆ†æ”¯ä¸Šåˆ›å»ºéš”ç¦»çš„å·¥ä½œç©ºé—´ï¼Œè¿è¡Œé¡¹ç›®è®¾ç½®ï¼ŒéªŒè¯å¹²å‡€çš„æµ‹è¯•åŸºçº¿ã€‚</p>
<h4 data-id="heading-10">3. Writing Plansï¼ˆç¼–å†™è®¡åˆ’ï¼‰</h4>
<p>å°†å·¥ä½œåˆ†è§£ä¸ºå°ä»»åŠ¡ï¼ˆæ¯ä¸ª2-5åˆ†é’Ÿï¼‰ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰ï¼š</p>
<ul>
<li>ç²¾ç¡®çš„æ–‡ä»¶è·¯å¾„</li>
<li>å®Œæ•´çš„ä»£ç </li>
<li>éªŒè¯æ­¥éª¤</li>
</ul>
<h4 data-id="heading-11">4. Subagent-Driven Developmentï¼ˆå­ä»£ç†é©±åŠ¨å¼€å‘ï¼‰</h4>
<p>è¿™æ˜¯ Superpowers çš„æ ¸å¿ƒæœºåˆ¶ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ¯ä¸ªä»»åŠ¡åˆ†æ´¾æ–°çš„å­ä»£ç† â†’ ä¸¤é˜¶æ®µå®¡æŸ¥ï¼š
<span class="hljs-bullet">  1.</span> è§„æ ¼åˆè§„å®¡æŸ¥ï¼ˆä»£ç æ˜¯å¦ç¬¦åˆè§„æ ¼ï¼‰
<span class="hljs-bullet">  2.</span> ä»£ç è´¨é‡å®¡æŸ¥ï¼ˆä»£ç æ˜¯å¦å†™å¾—å¥½ï¼‰
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªä»»åŠ¡æœ‰æ–°é²œçš„ä¸Šä¸‹æ–‡ï¼ˆæ— æ±¡æŸ“ï¼‰</li>
<li>è‡ªåŠ¨å®¡æŸ¥æ£€æŸ¥ç‚¹</li>
<li>å­ä»£ç†å¯ä»¥åœ¨å·¥ä½œå‰åæé—®</li>
</ul>
<p><strong>ç¤ºä¾‹æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">è¯»å–è®¡åˆ’ â†’ æå–æ‰€æœ‰ä»»åŠ¡ â†’ åˆ›å»ºTodoWrite
â€‹
ä»»åŠ¡<span class="hljs-number">1</span>ï¼š
  <span class="hljs-selector-attr">[åˆ†æ´¾å®ç°å­ä»£ç†]</span> â†’ å­ä»£ç†å®ç°ã€æµ‹è¯•ã€æäº¤
  <span class="hljs-selector-attr">[åˆ†æ´¾è§„æ ¼å®¡æŸ¥å­ä»£ç†]</span> â†’ ç¡®è®¤ä»£ç ç¬¦åˆè§„æ ¼
  <span class="hljs-selector-attr">[åˆ†æ´¾ä»£ç è´¨é‡å®¡æŸ¥å­ä»£ç†]</span> â†’ æ‰¹å‡†ä»£ç è´¨é‡
  <span class="hljs-selector-attr">[æ ‡è®°ä»»åŠ¡å®Œæˆ]</span>
â€‹
ä»»åŠ¡<span class="hljs-number">2</span>: ...
â€‹
æ‰€æœ‰ä»»åŠ¡å®Œæˆå â†’ æœ€ç»ˆä»£ç å®¡æŸ¥ â†’ å®Œæˆå¼€å‘åˆ†æ”¯
</code></pre>
<h4 data-id="heading-12">5. Test-Driven Developmentï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰</h4>
<p>Superpowers å¼ºåˆ¶æ‰§è¡Œ RED-GREEN-REFACTOR å¾ªç¯ï¼š</p>
<pre><code class="hljs">å†™å¤±è´¥æµ‹è¯• â†’ è§‚å¯Ÿå¤±è´¥ â†’ å†™æœ€å°ä»£ç  â†’ è§‚å¯Ÿé€šè¿‡ â†’ æäº¤
</code></pre>
<p><strong>é“å¾‹ï¼š</strong></p>
<pre><code class="hljs">æ²¡æœ‰å…ˆå¤±è´¥çš„æµ‹è¯•ï¼Œå°±æ²¡æœ‰ç”Ÿäº§ä»£ç 
</code></pre>
<p>åœ¨æµ‹è¯•ä¹‹å‰å†™äº†ä»£ç ï¼Ÿåˆ é™¤å®ƒã€‚ä»å¤´å¼€å§‹ã€‚</p>
<p><strong>å¸¸è§å€Ÿå£åŠçœŸç›¸ï¼š</strong></p>

























<table><thead><tr><th>å€Ÿå£</th><th>çœŸç›¸</th></tr></thead><tbody><tr><td>"å¤ªç®€å•ä¸éœ€è¦æµ‹è¯•"</td><td>ç®€å•ä»£ç ä¹Ÿä¼šå‡ºé”™ï¼Œæµ‹è¯•åªéœ€30ç§’</td></tr><tr><td>"æˆ‘ä¹‹åä¼šæµ‹è¯•"</td><td>ç«‹å³é€šè¿‡çš„æµ‹è¯•ä»€ä¹ˆä¹Ÿè¯æ˜ä¸äº†</td></tr><tr><td>"åˆ é™¤Xå°æ—¶çš„å·¥ä½œå¤ªæµªè´¹"</td><td>æ²‰æ²¡æˆæœ¬è°¬è¯¯ï¼Œä¿ç•™æœªéªŒè¯çš„ä»£ç æ‰æ˜¯æŠ€æœ¯å€ºåŠ¡</td></tr><tr><td>"TDDå¤ªæ•™æ¡"</td><td>TDDæ‰æ˜¯åŠ¡å®çš„ï¼Œ"åŠ¡å®"çš„æ·å¾„=ç”Ÿäº§ç¯å¢ƒè°ƒè¯•=æ›´æ…¢</td></tr></tbody></table>
<h4 data-id="heading-13">6. Code Reviewï¼ˆä»£ç å®¡æŸ¥ï¼‰</h4>
<p>åœ¨ä»»åŠ¡ä¹‹é—´æ¿€æ´»ï¼Œæ ¹æ®è®¡åˆ’å®¡æŸ¥ä»£ç ï¼ŒæŒ‰ä¸¥é‡ç¨‹åº¦æŠ¥å‘Šé—®é¢˜ã€‚å…³é”®é—®é¢˜ä¼šé˜»æ­¢è¿›åº¦ã€‚</p>
<h4 data-id="heading-14">7. Finishing Branchï¼ˆå®Œæˆåˆ†æ”¯ï¼‰</h4>
<p>ä»»åŠ¡å®Œæˆæ—¶æ¿€æ´»ï¼ŒéªŒè¯æµ‹è¯•ï¼Œæä¾›é€‰é¡¹ï¼ˆåˆå¹¶/PR/ä¿ç•™/ä¸¢å¼ƒï¼‰ï¼Œæ¸…ç†å·¥ä½œæ ‘ã€‚</p>
<h3 data-id="heading-15">æ ¸å¿ƒå“²å­¦</h3>
<ul>
<li><strong>æµ‹è¯•é©±åŠ¨å¼€å‘</strong> - å§‹ç»ˆå…ˆå†™æµ‹è¯•</li>
<li><strong>ç³»ç»ŸåŒ–ä¼˜äºä¸´æ—¶</strong> - æµç¨‹ä¼˜äºçŒœæµ‹</li>
<li><strong>é™ä½å¤æ‚æ€§</strong> - ç®€å•æ˜¯é¦–è¦ç›®æ ‡</li>
<li><strong>è¯æ®ä¼˜äºå£°æ˜</strong> - åœ¨å®£å¸ƒæˆåŠŸå‰éªŒè¯</li>
</ul>
<hr/>
<h2 data-id="heading-16">Feature-Devï¼šåŠŸèƒ½å¼€å‘æŒ‡å—</h2>
<h3 data-id="heading-17">ä»€ä¹ˆæ˜¯ Feature-Devï¼Ÿ</h3>
<p>Feature-Dev æ˜¯ä¸€ä¸ªç³»ç»ŸåŒ–çš„åŠŸèƒ½å¼€å‘æŠ€èƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æ·±å…¥ç†è§£ä»£ç åº“ã€è¯†åˆ«å¹¶è¯¢é—®æ‰€æœ‰ä¸æ˜ç¡®çš„ç»†èŠ‚ã€è®¾è®¡ä¼˜é›…çš„æ¶æ„ï¼Œç„¶åå®ç°ã€‚</p>
<h3 data-id="heading-18">ä¸ƒä¸ªé˜¶æ®µ</h3>
<h4 data-id="heading-19">Phase 1: Discoveryï¼ˆå‘ç°ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> ç†è§£éœ€è¦æ„å»ºä»€ä¹ˆ</p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>
<p>åˆ›å»ºåŒ…å«æ‰€æœ‰é˜¶æ®µçš„ todo åˆ—è¡¨</p>
</li>
<li>
<p>å¦‚æœåŠŸèƒ½ä¸æ¸…æ™°ï¼Œè¯¢é—®ç”¨æˆ·ï¼š</p>
<ul>
<li>è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
<li>åŠŸèƒ½åº”è¯¥åšä»€ä¹ˆï¼Ÿ</li>
<li>æœ‰ä»€ä¹ˆçº¦æŸæˆ–è¦æ±‚ï¼Ÿ</li>
</ul>
</li>
<li>
<p>æ€»ç»“ç†è§£å¹¶ä¸ç”¨æˆ·ç¡®è®¤</p>
</li>
</ol>
<h4 data-id="heading-20">Phase 2: Codebase Explorationï¼ˆä»£ç åº“æ¢ç´¢ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> åœ¨é«˜å±‚å’Œåº•å±‚ç†è§£ç›¸å…³ç°æœ‰ä»£ç å’Œæ¨¡å¼</p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>
<p>å¹¶è¡Œå¯åŠ¨ 2-3 ä¸ª code-explorer ä»£ç†ï¼Œæ¯ä¸ªä»£ç†ï¼š</p>
<ul>
<li>å…¨é¢è¿½è¸ªä»£ç ï¼Œä¸“æ³¨äºç†è§£æŠ½è±¡ã€æ¶æ„å’Œæ§åˆ¶æµ</li>
<li>é’ˆå¯¹ä»£ç åº“çš„ä¸åŒæ–¹é¢</li>
<li>åŒ…å« 5-10 ä¸ªå…³é”®æ–‡ä»¶åˆ—è¡¨</li>
</ul>
</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç†æç¤ºï¼š</strong></p>
<ul>
<li>"æ‰¾åˆ°ä¸ [åŠŸèƒ½] ç±»ä¼¼çš„åŠŸèƒ½å¹¶å…¨é¢è¿½è¸ªå…¶å®ç°"</li>
<li>"æ˜ å°„ [åŠŸèƒ½åŒºåŸŸ] çš„æ¶æ„å’ŒæŠ½è±¡"</li>
<li>"åˆ†æ [ç°æœ‰åŠŸèƒ½/åŒºåŸŸ] çš„å½“å‰å®ç°"</li>
</ul>
<ol start="2">
<li>ä»£ç†è¿”å›åï¼Œé˜…è¯»æ‰€æœ‰è¯†åˆ«çš„æ–‡ä»¶ä»¥å»ºç«‹æ·±å…¥ç†è§£</li>
<li>å‘ˆç°å‘ç°å’Œæ¨¡å¼çš„ç»¼åˆæ‘˜è¦</li>
</ol>
<h4 data-id="heading-21">Phase 3: Clarifying Questionsï¼ˆæ¾„æ¸…é—®é¢˜ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> åœ¨è®¾è®¡å‰å¡«è¡¥ç©ºç™½å¹¶è§£å†³æ‰€æœ‰æ­§ä¹‰</p>
<p><strong>è¿™æ˜¯æœ€é‡è¦çš„é˜¶æ®µä¹‹ä¸€ï¼Œä¸èƒ½è·³è¿‡ã€‚</strong></p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>å®¡æŸ¥ä»£ç åº“å‘ç°å’ŒåŸå§‹åŠŸèƒ½è¯·æ±‚</li>
<li>è¯†åˆ«æœªæ˜ç¡®çš„æ–¹é¢ï¼šè¾¹ç¼˜æƒ…å†µã€é”™è¯¯å¤„ç†ã€é›†æˆç‚¹ã€èŒƒå›´è¾¹ç•Œã€è®¾è®¡åå¥½ã€å‘åå…¼å®¹æ€§ã€æ€§èƒ½éœ€æ±‚</li>
<li><strong>ä»¥æ¸…æ™°ã€æœ‰ç»„ç»‡çš„åˆ—è¡¨å‘ç”¨æˆ·å‘ˆç°æ‰€æœ‰é—®é¢˜</strong></li>
<li><strong>ç­‰å¾…ç­”æ¡ˆåå†è¿›è¡Œæ¶æ„è®¾è®¡</strong></li>
</ol>
<h4 data-id="heading-22">Phase 4: Architecture Designï¼ˆæ¶æ„è®¾è®¡ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> è®¾è®¡å…·æœ‰ä¸åŒæƒè¡¡çš„å¤šç§å®ç°æ–¹æ¡ˆ</p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>
<p>å¹¶è¡Œå¯åŠ¨ 2-3 ä¸ª code-architect ä»£ç†ï¼Œå…³æ³¨ä¸åŒæ–¹é¢ï¼š</p>
<ul>
<li><strong>æœ€å°å˜æ›´</strong>ï¼šæœ€å°å˜åŒ–ï¼Œæœ€å¤§å¤ç”¨</li>
<li><strong>æ¸…æ´æ¶æ„</strong>ï¼šå¯ç»´æŠ¤æ€§ï¼Œä¼˜é›…æŠ½è±¡</li>
<li><strong>åŠ¡å®å¹³è¡¡</strong>ï¼šé€Ÿåº¦ + è´¨é‡</li>
</ul>
</li>
<li>
<p>å®¡æŸ¥æ‰€æœ‰æ–¹æ¡ˆï¼Œå½¢æˆå“ªä¸ªæœ€é€‚åˆæ­¤ç‰¹å®šä»»åŠ¡çš„æ„è§</p>
</li>
<li>
<p>å‘ç”¨æˆ·å‘ˆç°ï¼š</p>
<ul>
<li>æ¯ç§æ–¹æ¡ˆçš„ç®€è¦æ‘˜è¦</li>
<li>æƒè¡¡æ¯”è¾ƒ</li>
<li><strong>ä½ çš„æ¨èåŠç†ç”±</strong></li>
<li>å…·ä½“å®ç°å·®å¼‚</li>
</ul>
</li>
<li>
<p><strong>è¯¢é—®ç”¨æˆ·åå¥½å“ªç§æ–¹æ¡ˆ</strong></p>
</li>
</ol>
<h4 data-id="heading-23">Phase 5: Implementationï¼ˆå®ç°ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> æ„å»ºåŠŸèƒ½</p>
<p><strong>æœªç»ç”¨æˆ·æ‰¹å‡†ä¸è¦å¼€å§‹</strong></p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>ç­‰å¾…ç”¨æˆ·æ˜ç¡®æ‰¹å‡†</li>
<li>é˜…è¯»å‰å‡ ä¸ªé˜¶æ®µè¯†åˆ«çš„æ‰€æœ‰ç›¸å…³æ–‡ä»¶</li>
<li>æŒ‰é€‰å®šæ¶æ„å®ç°</li>
<li>ä¸¥æ ¼éµå¾ªä»£ç åº“çº¦å®š</li>
<li>ç¼–å†™å¹²å‡€ã€æ–‡æ¡£å®Œå–„çš„ä»£ç </li>
<li>éšç€è¿›å±•æ›´æ–° todos</li>
</ol>
<h4 data-id="heading-24">Phase 6: Quality Reviewï¼ˆè´¨é‡å®¡æŸ¥ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> ç¡®ä¿ä»£ç ç®€å•ã€DRYã€ä¼˜é›…ã€æ˜“è¯»ä¸”åŠŸèƒ½æ­£ç¡®</p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>
<p>å¹¶è¡Œå¯åŠ¨ 3 ä¸ª code-reviewer ä»£ç†ï¼Œå…³æ³¨ä¸åŒæ–¹é¢ï¼š</p>
<ul>
<li>ç®€å•æ€§/DRY/ä¼˜é›…</li>
<li>ç¼ºé™·/åŠŸèƒ½æ­£ç¡®æ€§</li>
<li>é¡¹ç›®çº¦å®š/æŠ½è±¡</li>
</ul>
</li>
<li>
<p>æ•´åˆå‘ç°ï¼Œè¯†åˆ«ä½ å»ºè®®ä¿®å¤çš„æœ€é«˜ä¸¥é‡æ€§é—®é¢˜</p>
</li>
<li>
<p><strong>å‘ç”¨æˆ·å‘ˆç°å‘ç°å¹¶è¯¢é—®ä»–ä»¬æƒ³æ€ä¹ˆåš</strong>ï¼ˆç°åœ¨ä¿®å¤ã€ç¨åä¿®å¤æˆ–æŒ‰åŸæ ·è¿›è¡Œï¼‰</p>
</li>
<li>
<p>æ ¹æ®ç”¨æˆ·å†³å®šå¤„ç†é—®é¢˜</p>
</li>
</ol>
<h4 data-id="heading-25">Phase 7: Summaryï¼ˆæ€»ç»“ï¼‰</h4>
<p><strong>ç›®æ ‡ï¼š</strong> è®°å½•å®Œæˆçš„å·¥ä½œ</p>
<p><strong>æ“ä½œï¼š</strong></p>
<ol start="0">
<li>
<p>å°†æ‰€æœ‰ todos æ ‡è®°ä¸ºå®Œæˆ</p>
</li>
<li>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ„å»ºäº†ä»€ä¹ˆ</li>
<li>åšå‡ºçš„å…³é”®å†³ç­–</li>
<li>ä¿®æ”¹çš„æ–‡ä»¶</li>
<li>å»ºè®®çš„ä¸‹ä¸€æ­¥</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-26">UI/UX Pro Maxï¼šè®¾è®¡æ™ºèƒ½ç³»ç»Ÿ</h2>
<h3 data-id="heading-27">ä»€ä¹ˆæ˜¯ UI/UX Pro Maxï¼Ÿ</h3>
<p>UI/UX Pro Max æ˜¯ä¸€ä¸ªå¯æœç´¢çš„ UI è®¾è®¡æ•°æ®åº“ï¼ŒåŒ…å« 50+ ç§ UI é£æ ¼ã€21 ç§è°ƒè‰²æ¿ã€50 ç§å­—ä½“é…å¯¹ã€20 ç§å›¾è¡¨ç±»å‹ã€8 ç§æŠ€æœ¯æ ˆçš„æœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-28">å‰ææ¡ä»¶</h3>
<p>ç¡®ä¿å·²å®‰è£… Pythonï¼š</p>
<pre><code class="hljs language-css" lang="css">python3 <span class="hljs-attr">--version</span> || python <span class="hljs-attr">--version</span>
</code></pre>
<h3 data-id="heading-29">ä½¿ç”¨æ–¹æ³•</h3>
<p>å½“ç”¨æˆ·è¯·æ±‚ UI/UX å·¥ä½œï¼ˆè®¾è®¡ã€æ„å»ºã€åˆ›å»ºã€å®ç°ã€å®¡æŸ¥ã€ä¿®å¤ã€æ”¹è¿›ï¼‰æ—¶ï¼ŒæŒ‰ä»¥ä¸‹å·¥ä½œæµç¨‹ï¼š</p>
<h4 data-id="heading-30">æ­¥éª¤ 1ï¼šåˆ†æç”¨æˆ·éœ€æ±‚</h4>
<p>ä»ç”¨æˆ·è¯·æ±‚ä¸­æå–å…³é”®ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>äº§å“ç±»å‹</strong>ï¼šSaaSã€ç”µå•†ã€ä½œå“é›†ã€ä»ªè¡¨ç›˜ã€ç€é™†é¡µç­‰</li>
<li><strong>é£æ ¼å…³é”®è¯</strong>ï¼šæç®€ã€æ´»æ³¼ã€ä¸“ä¸šã€ä¼˜é›…ã€æ·±è‰²æ¨¡å¼ç­‰</li>
<li><strong>è¡Œä¸š</strong>ï¼šåŒ»ç–—ã€é‡‘èç§‘æŠ€ã€æ¸¸æˆã€æ•™è‚²ç­‰</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šReactã€Vueã€Next.jsï¼Œæˆ–é»˜è®¤ä½¿ç”¨ <code>html-tailwind</code></li>
</ul>
<h4 data-id="heading-31">æ­¥éª¤ 2ï¼šæœç´¢ç›¸å…³é¢†åŸŸ</h4>
<p>ä½¿ç”¨ <code>search.py</code> å¤šæ¬¡æœç´¢ä»¥æ”¶é›†å…¨é¢ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">python3 .claude/skills/ui-ux-pro-<span class="hljs-built_in">max</span>/scripts/search.py <span class="hljs-string">"&lt;å…³é”®è¯&gt;"</span> <span class="hljs-comment">--domain &lt;é¢†åŸŸ&gt; [-n &lt;æœ€å¤§ç»“æœæ•°&gt;]</span>
</code></pre>
<p><strong>æ¨èæœç´¢é¡ºåºï¼š</strong></p>


















































<table><thead><tr><th>é¡ºåº</th><th>é¢†åŸŸ</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>1</td><td>product</td><td>è·å–äº§å“ç±»å‹çš„é£æ ¼æ¨è</td></tr><tr><td>2</td><td>style</td><td>è·å–è¯¦ç»†é£æ ¼æŒ‡å—ï¼ˆé¢œè‰²ã€æ•ˆæœã€æ¡†æ¶ï¼‰</td></tr><tr><td>3</td><td>typography</td><td>è·å–å­—ä½“é…å¯¹å’Œ Google Fonts å¯¼å…¥</td></tr><tr><td>4</td><td>color</td><td>è·å–é…è‰²æ–¹æ¡ˆï¼ˆä¸»è‰²ã€è¾…è‰²ã€CTAã€èƒŒæ™¯ã€æ–‡å­—ã€è¾¹æ¡†ï¼‰</td></tr><tr><td>5</td><td>landing</td><td>è·å–é¡µé¢ç»“æ„ï¼ˆå¦‚æœæ˜¯ç€é™†é¡µï¼‰</td></tr><tr><td>6</td><td>chart</td><td>è·å–å›¾è¡¨æ¨èï¼ˆå¦‚æœæ˜¯ä»ªè¡¨ç›˜/åˆ†æï¼‰</td></tr><tr><td>7</td><td>ux</td><td>è·å–æœ€ä½³å®è·µå’Œåæ¨¡å¼</td></tr><tr><td>8</td><td>stack</td><td>è·å–æŠ€æœ¯æ ˆç‰¹å®šæŒ‡å—</td></tr></tbody></table>
<h4 data-id="heading-32">æ­¥éª¤ 3ï¼šå¯ç”¨æŠ€æœ¯æ ˆ</h4>









































<table><thead><tr><th>æ ˆ</th><th>å…³æ³¨ç‚¹</th></tr></thead><tbody><tr><td>html-tailwind</td><td>Tailwind å·¥å…·ç±»ã€å“åº”å¼ã€æ— éšœç¢ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>react</td><td>çŠ¶æ€ã€hooksã€æ€§èƒ½ã€æ¨¡å¼</td></tr><tr><td>nextjs</td><td>SSRã€è·¯ç”±ã€å›¾ç‰‡ã€API è·¯ç”±</td></tr><tr><td>vue</td><td>Composition APIã€Piniaã€Vue Router</td></tr><tr><td>svelte</td><td>Runesã€storesã€SvelteKit</td></tr><tr><td>swiftui</td><td>è§†å›¾ã€çŠ¶æ€ã€å¯¼èˆªã€åŠ¨ç”»</td></tr><tr><td>react-native</td><td>ç»„ä»¶ã€å¯¼èˆªã€åˆ—è¡¨</td></tr><tr><td>flutter</td><td>Widgetsã€çŠ¶æ€ã€å¸ƒå±€ã€ä¸»é¢˜</td></tr></tbody></table>
<h3 data-id="heading-33">ç¤ºä¾‹å·¥ä½œæµ</h3>
<p><strong>ç”¨æˆ·è¯·æ±‚ï¼š</strong> "åšä¸€ä¸ªä¸“ä¸šæŠ¤è‚¤æœåŠ¡çš„ç€é™†é¡µ"</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æœç´¢äº§å“ç±»å‹</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"beauty spa wellness service"</span> --domain product

<span class="hljs-comment"># 2. æœç´¢é£æ ¼</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"elegant minimal soft"</span> --domain style

<span class="hljs-comment"># 3. æœç´¢å­—ä½“</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"elegant luxury"</span> --domain typography

<span class="hljs-comment"># 4. æœç´¢é…è‰²</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"beauty spa wellness"</span> --domain color

<span class="hljs-comment"># 5. æœç´¢ç€é™†é¡µç»“æ„</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"hero-centric social-proof"</span> --domain landing

<span class="hljs-comment"># 6. æœç´¢ UX æŒ‡å—</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"animation"</span> --domain ux
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"accessibility"</span> --domain ux

<span class="hljs-comment"># 7. æœç´¢æŠ€æœ¯æ ˆæŒ‡å—</span>
python3 .claude/skills/ui-ux-pro-max/scripts/search.py <span class="hljs-string">"layout responsive"</span> --stack html-tailwind
</code></pre>
<h3 data-id="heading-34">ä¸“ä¸š UI é€šç”¨è§„åˆ™</h3>
<p>è¿™äº›æ˜¯ç»å¸¸è¢«å¿½è§†ä½†ä¼šè®© UI çœ‹èµ·æ¥ä¸ä¸“ä¸šçš„é—®é¢˜ï¼š</p>
<h4 data-id="heading-35">å›¾æ ‡å’Œè§†è§‰å…ƒç´ </h4>

























<table><thead><tr><th>è§„åˆ™</th><th>æ­£ç¡®åšæ³•</th><th>é”™è¯¯åšæ³•</th></tr></thead><tbody><tr><td>ä¸ä½¿ç”¨ emoji å›¾æ ‡</td><td>ä½¿ç”¨ SVG å›¾æ ‡ï¼ˆHeroiconsã€Lucideï¼‰</td><td>ä½¿ç”¨ emoji ä½œä¸º UI å›¾æ ‡</td></tr><tr><td>ç¨³å®šçš„æ‚¬åœçŠ¶æ€</td><td>ä½¿ç”¨é¢œè‰²/é€æ˜åº¦è¿‡æ¸¡</td><td>ä½¿ç”¨ä¼šç§»åŠ¨å¸ƒå±€çš„ç¼©æ”¾å˜æ¢</td></tr><tr><td>ä¸€è‡´çš„å›¾æ ‡å°ºå¯¸</td><td>ä½¿ç”¨å›ºå®š viewBoxï¼ˆ24x24ï¼‰é…åˆ w-6 h-6</td><td>éšæ„æ··åˆä¸åŒå›¾æ ‡å°ºå¯¸</td></tr></tbody></table>
<h4 data-id="heading-36">äº¤äº’å’Œå…‰æ ‡</h4>

























<table><thead><tr><th>è§„åˆ™</th><th>æ­£ç¡®åšæ³•</th><th>é”™è¯¯åšæ³•</th></tr></thead><tbody><tr><td>å…‰æ ‡æŒ‡é’ˆ</td><td>ç»™æ‰€æœ‰å¯ç‚¹å‡»å…ƒç´ æ·»åŠ  <code>cursor-pointer</code></td><td>äº¤äº’å…ƒç´ ä¿æŒé»˜è®¤å…‰æ ‡</td></tr><tr><td>æ‚¬åœåé¦ˆ</td><td>æä¾›è§†è§‰åé¦ˆï¼ˆé¢œè‰²ã€é˜´å½±ã€è¾¹æ¡†ï¼‰</td><td>å…ƒç´ äº¤äº’æ—¶æ— ä»»ä½•æŒ‡ç¤º</td></tr><tr><td>å¹³æ»‘è¿‡æ¸¡</td><td>ä½¿ç”¨ <code>transition-colors duration-200</code></td><td>ç¬é—´çŠ¶æ€å˜åŒ–æˆ–å¤ªæ…¢ï¼ˆ&gt;500msï¼‰</td></tr></tbody></table>
<h4 data-id="heading-37">äº®/æš—æ¨¡å¼å¯¹æ¯”åº¦</h4>

























<table><thead><tr><th>è§„åˆ™</th><th>æ­£ç¡®åšæ³•</th><th>é”™è¯¯åšæ³•</th></tr></thead><tbody><tr><td>äº®æ¨¡å¼ç»ç’ƒå¡ç‰‡</td><td>ä½¿ç”¨ <code>bg-white/80</code> æˆ–æ›´é«˜é€æ˜åº¦</td><td>ä½¿ç”¨ <code>bg-white/10</code>ï¼ˆå¤ªé€æ˜ï¼‰</td></tr><tr><td>äº®æ¨¡å¼æ–‡å­—å¯¹æ¯”</td><td>ä½¿ç”¨ <code>#0F172A</code>ï¼ˆslate-900ï¼‰ä½œä¸ºæ–‡å­—</td><td>ä½¿ç”¨ <code>#94A3B8</code>ï¼ˆslate-400ï¼‰ä½œä¸ºæ­£æ–‡</td></tr><tr><td>è¾¹æ¡†å¯è§æ€§</td><td>äº®æ¨¡å¼ä½¿ç”¨ <code>border-gray-200</code></td><td>ä½¿ç”¨ <code>border-white/10</code>ï¼ˆä¸å¯è§ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-38">äº¤ä»˜å‰æ£€æŸ¥æ¸…å•</h3>
<h4 data-id="heading-39">è§†è§‰è´¨é‡</h4>
<ul>
<li>æ²¡æœ‰ä½¿ç”¨ emoji ä½œä¸ºå›¾æ ‡</li>
<li>æ‰€æœ‰å›¾æ ‡æ¥è‡ªä¸€è‡´çš„å›¾æ ‡é›†</li>
<li>å“ç‰Œ logo æ­£ç¡®</li>
<li>æ‚¬åœçŠ¶æ€ä¸ä¼šå¯¼è‡´å¸ƒå±€åç§»</li>
</ul>
<h4 data-id="heading-40">äº¤äº’</h4>
<ul>
<li>æ‰€æœ‰å¯ç‚¹å‡»å…ƒç´ æœ‰ <code>cursor-pointer</code></li>
<li>æ‚¬åœçŠ¶æ€æä¾›æ¸…æ™°çš„è§†è§‰åé¦ˆ</li>
<li>è¿‡æ¸¡å¹³æ»‘ï¼ˆ150-300msï¼‰</li>
<li>é”®ç›˜å¯¼èˆªçš„ç„¦ç‚¹çŠ¶æ€å¯è§</li>
</ul>
<h4 data-id="heading-41">äº®/æš—æ¨¡å¼</h4>
<ul>
<li>äº®æ¨¡å¼æ–‡å­—æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦ï¼ˆæœ€å°‘ 4.5:1ï¼‰</li>
<li>ç»ç’ƒ/é€æ˜å…ƒç´ åœ¨äº®æ¨¡å¼ä¸‹å¯è§</li>
<li>è¾¹æ¡†åœ¨ä¸¤ç§æ¨¡å¼ä¸‹éƒ½å¯è§</li>
</ul>
<h4 data-id="heading-42">å¸ƒå±€</h4>
<ul>
<li>æµ®åŠ¨å…ƒç´ ä¸è¾¹ç¼˜æœ‰é€‚å½“é—´è·</li>
<li>å†…å®¹ä¸ä¼šéšè—åœ¨å›ºå®šå¯¼èˆªæ åé¢</li>
<li>å“åº”å¼é€‚é… 320pxã€768pxã€1024pxã€1440px</li>
<li>ç§»åŠ¨ç«¯æ— æ°´å¹³æ»šåŠ¨</li>
</ul>
<hr/>
<h2 data-id="heading-43">Ralph Wiggumï¼šè¿­ä»£å¾ªç¯å¼€å‘</h2>
<h3 data-id="heading-44">ä»€ä¹ˆæ˜¯ Ralph Wiggumï¼Ÿ</h3>
<p>Ralph Wiggum æ˜¯ä¸€ç§åŸºäºæŒç»­ AI ä»£ç†å¾ªç¯çš„å¼€å‘æ–¹æ³•ã€‚æ­£å¦‚ Geoffrey Huntley æ‰€æè¿°çš„ï¼š <strong>"Ralph æ˜¯ä¸€ä¸ª Bash å¾ªç¯"</strong> - ä¸€ä¸ªç®€å•çš„ <code>while true</code>ï¼Œé‡å¤ç»™ AI ä»£ç†å–‚å…¥æç¤ºæ–‡ä»¶ï¼Œè®©å®ƒè¿­ä»£æ”¹è¿›å·¥ä½œç›´åˆ°å®Œæˆã€‚</p>
<p>è¿™ä¸ªæŠ€æœ¯ä»¥ã€Šè¾›æ™®æ£®ä¸€å®¶ã€‹ä¸­çš„ Ralph Wiggum å‘½åï¼Œä½“ç°äº†ä¸é¡¾æŒ«æŠ˜æŒç»­è¿­ä»£çš„å“²å­¦ã€‚</p>
<h3 data-id="heading-45">æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>è¿™ä¸ªæ’ä»¶ä½¿ç”¨ <strong>Stop hook</strong> å®ç° Ralphï¼Œæ‹¦æˆª Claude çš„é€€å‡ºå°è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½ åªè¿è¡Œä¸€æ¬¡ï¼š</span>
/ralph-loop <span class="hljs-string">"ä½ çš„ä»»åŠ¡æè¿°"</span> --completion-promise <span class="hljs-string">"DONE"</span>

<span class="hljs-comment"># ç„¶å Claude Code è‡ªåŠ¨ï¼š</span>
<span class="hljs-comment"># 1. å¤„ç†ä»»åŠ¡</span>
<span class="hljs-comment"># 2. å°è¯•é€€å‡º</span>
<span class="hljs-comment"># 3. Stop hook é˜»æ­¢é€€å‡º</span>
<span class="hljs-comment"># 4. Stop hook å–‚å…¥ç›¸åŒçš„æç¤º</span>
<span class="hljs-comment"># 5. é‡å¤ç›´åˆ°å®Œæˆ</span>
</code></pre>
<p>å¾ªç¯å‘ç”Ÿåœ¨<strong>ä½ å½“å‰ä¼šè¯å†…</strong> - ä½ ä¸éœ€è¦å¤–éƒ¨ bash å¾ªç¯ã€‚</p>
<p>è¿™åˆ›å»ºäº†ä¸€ä¸ª<strong>è‡ªå¼•ç”¨åé¦ˆå¾ªç¯</strong>ï¼š</p>
<ul>
<li>è¿­ä»£ä¹‹é—´æç¤ºä¸å˜</li>
<li>Claude ä¹‹å‰çš„å·¥ä½œä¿ç•™åœ¨æ–‡ä»¶ä¸­</li>
<li>æ¯æ¬¡è¿­ä»£çœ‹åˆ°ä¿®æ”¹çš„æ–‡ä»¶å’Œ git å†å²</li>
<li>Claude é€šè¿‡è¯»å–æ–‡ä»¶ä¸­è‡ªå·±è¿‡å»çš„å·¥ä½œè‡ªä¸»æ”¹è¿›</li>
</ul>
<h3 data-id="heading-46">å¿«é€Ÿå¼€å§‹</h3>
<pre><code class="hljs language-arduino" lang="arduino">/ralph-loop <span class="hljs-string">"æ„å»ºä¸€ä¸ª todos çš„ REST APIã€‚è¦æ±‚ï¼šCRUD æ“ä½œã€è¾“å…¥éªŒè¯ã€æµ‹è¯•ã€‚å®Œæˆåè¾“å‡º &lt;promise&gt;COMPLETE&lt;/promise&gt;ã€‚"</span> --max-iterations <span class="hljs-number">50</span> --completion-promise <span class="hljs-string">"COMPLETE"</span>
</code></pre>
<p>Claude å°†ï¼š</p>
<ul>
<li>è¿­ä»£å®ç° API</li>
<li>è¿è¡Œæµ‹è¯•å¹¶çœ‹åˆ°å¤±è´¥</li>
<li>æ ¹æ®æµ‹è¯•è¾“å‡ºä¿®å¤ bug</li>
<li>è¿­ä»£ç›´åˆ°æ»¡è¶³æ‰€æœ‰è¦æ±‚</li>
<li>å®Œæˆåè¾“å‡ºå®Œæˆæ‰¿è¯º</li>
</ul>
<h3 data-id="heading-47">å‘½ä»¤</h3>
<h4 data-id="heading-48">/ralph-loop</h4>
<p>åœ¨å½“å‰ä¼šè¯ä¸­å¯åŠ¨ Ralph å¾ªç¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">/ralph-loop <span class="hljs-string">"&lt;æç¤º&gt;"</span> --max-iterations &lt;n&gt; --completion-promise <span class="hljs-string">"&lt;æ–‡æœ¬&gt;"</span>
</code></pre>
<p><strong>é€‰é¡¹ï¼š</strong></p>
<ul>
<li><code>--max-iterations &lt;n&gt;</code> - N æ¬¡è¿­ä»£ååœæ­¢ï¼ˆé»˜è®¤ï¼šæ— é™ï¼‰</li>
<li><code>--completion-promise &lt;text&gt;</code> - è¡¨ç¤ºå®Œæˆçš„çŸ­è¯­</li>
</ul>
<h4 data-id="heading-49">/cancel-ralph</h4>
<p>å–æ¶ˆæ´»åŠ¨çš„ Ralph å¾ªç¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">/cancel-ralph
</code></pre>
<h3 data-id="heading-50">æç¤ºç¼–å†™æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-51">1. æ¸…æ™°çš„å®Œæˆæ ‡å‡†</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs">æ„å»ºä¸€ä¸ª todo API å¹¶è®©å®ƒå¥½ç”¨ã€‚
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">æ„å»ºä¸€ä¸ª todos çš„ REST APIã€‚

å®Œæˆæ¡ä»¶ï¼š
<span class="hljs-deletion">- æ‰€æœ‰ CRUD ç«¯ç‚¹å·¥ä½œæ­£å¸¸</span>
<span class="hljs-deletion">- è¾“å…¥éªŒè¯å°±ä½</span>
<span class="hljs-deletion">- æµ‹è¯•é€šè¿‡ï¼ˆè¦†ç›–ç‡ &gt; 80%ï¼‰</span>
<span class="hljs-deletion">- å¸¦ API æ–‡æ¡£çš„ README</span>
<span class="hljs-deletion">- è¾“å‡ºï¼š&lt;promise&gt;COMPLETE&lt;/promise&gt;</span>
</code></pre>
<h4 data-id="heading-52">2. å¢é‡ç›®æ ‡</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs">åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç”µå•†å¹³å°ã€‚
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">é˜¶æ®µ <span class="hljs-number">1</span>ï¼šç”¨æˆ·è®¤è¯ï¼ˆJWTã€æµ‹è¯•ï¼‰
é˜¶æ®µ <span class="hljs-number">2</span>ï¼šäº§å“ç›®å½•ï¼ˆåˆ—è¡¨/æœç´¢ã€æµ‹è¯•ï¼‰
é˜¶æ®µ <span class="hljs-number">3</span>ï¼šè´­ç‰©è½¦ï¼ˆæ·»åŠ /åˆ é™¤ã€æµ‹è¯•ï¼‰

æ‰€æœ‰é˜¶æ®µå®Œæˆåè¾“å‡º &lt;promise&gt;COMPLETE&lt;/promise&gt;ã€‚
</code></pre>
<h4 data-id="heading-53">3. è‡ªæˆ‘çº æ­£</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs">ä¸ºåŠŸèƒ½ X å†™ä»£ç ã€‚
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ä½¿ç”¨ TDD å®ç°åŠŸèƒ½ Xï¼š
<span class="hljs-bullet">1.</span> å†™å¤±è´¥æµ‹è¯•
<span class="hljs-bullet">2.</span> å®ç°åŠŸèƒ½
<span class="hljs-bullet">3.</span> è¿è¡Œæµ‹è¯•
<span class="hljs-bullet">4.</span> å¦‚æœå¤±è´¥ï¼Œè°ƒè¯•å¹¶ä¿®å¤
<span class="hljs-bullet">5.</span> éœ€è¦æ—¶é‡æ„
<span class="hljs-bullet">6.</span> é‡å¤ç›´åˆ°å…¨éƒ¨é€šè¿‡
<span class="hljs-bullet">7.</span> è¾“å‡ºï¼š<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">promise</span>&gt;</span></span>COMPLETE<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">promise</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-54">4. å®‰å…¨é˜€</h4>
<p>å§‹ç»ˆä½¿ç”¨ <code>--max-iterations</code> ä½œä¸ºå®‰å…¨ç½‘ï¼Œé˜²æ­¢åœ¨ä¸å¯èƒ½çš„ä»»åŠ¡ä¸Šæ— é™å¾ªç¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"># æ¨èï¼šå§‹ç»ˆè®¾ç½®åˆç†çš„è¿­ä»£é™åˆ¶
/ralph-loop <span class="hljs-string">"å°è¯•å®ç°åŠŸèƒ½ X"</span> --max-iterations <span class="hljs-number">20</span>
</code></pre>
<h3 data-id="heading-55">å“²å­¦</h3>
<p>Ralph ä½“ç°å‡ ä¸ªå…³é”®åŸåˆ™ï¼š</p>

























<table><thead><tr><th>åŸåˆ™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è¿­ä»£ &gt; å®Œç¾</strong></td><td>ä¸è¦è¿½æ±‚ç¬¬ä¸€æ¬¡å°±å®Œç¾ã€‚è®©å¾ªç¯ç»†åŒ–å·¥ä½œã€‚</td></tr><tr><td><strong>å¤±è´¥æ˜¯æ•°æ®</strong></td><td>"ç¡®å®šæ€§çš„å¤±è´¥"æ„å‘³ç€å¤±è´¥æ˜¯å¯é¢„æµ‹çš„å’Œæœ‰ä¿¡æ¯é‡çš„ã€‚</td></tr><tr><td><strong>æ“ä½œå‘˜æŠ€èƒ½å¾ˆé‡è¦</strong></td><td>æˆåŠŸå–å†³äºå†™å¥½æç¤ºï¼Œä¸åªæ˜¯æœ‰å¥½æ¨¡å‹ã€‚</td></tr><tr><td><strong>åšæŒè·èƒœ</strong></td><td>æŒç»­å°è¯•ç›´åˆ°æˆåŠŸã€‚å¾ªç¯è‡ªåŠ¨å¤„ç†é‡è¯•é€»è¾‘ã€‚</td></tr></tbody></table>
<h3 data-id="heading-56">é€‚ç”¨åœºæ™¯</h3>
<p><strong>é€‚åˆï¼š</strong></p>
<ul>
<li>æœ‰æ˜ç¡®æˆåŠŸæ ‡å‡†çš„å®šä¹‰è‰¯å¥½çš„ä»»åŠ¡</li>
<li>éœ€è¦è¿­ä»£å’Œç»†åŒ–çš„ä»»åŠ¡ï¼ˆå¦‚è®©æµ‹è¯•é€šè¿‡ï¼‰</li>
<li>ä½ å¯ä»¥èµ°å¼€çš„ç»¿åœ°é¡¹ç›®</li>
<li>æœ‰è‡ªåŠ¨éªŒè¯çš„ä»»åŠ¡ï¼ˆæµ‹è¯•ã€linterï¼‰</li>
</ul>
<p><strong>ä¸é€‚åˆï¼š</strong></p>
<ul>
<li>éœ€è¦äººç±»åˆ¤æ–­æˆ–è®¾è®¡å†³ç­–çš„ä»»åŠ¡</li>
<li>ä¸€æ¬¡æ€§æ“ä½œ</li>
<li>æˆåŠŸæ ‡å‡†ä¸æ¸…æ¥šçš„ä»»åŠ¡</li>
<li>ç”Ÿäº§ç¯å¢ƒè°ƒè¯•ï¼ˆä½¿ç”¨é’ˆå¯¹æ€§è°ƒè¯•ä»£æ›¿ï¼‰</li>
</ul>
<h3 data-id="heading-57">çœŸå®ä¸–ç•Œæˆæœ</h3>
<ul>
<li>åœ¨ Y Combinator é»‘å®¢é©¬æ‹‰æ¾æµ‹è¯•ä¸­ä¸€å¤œæˆåŠŸç”Ÿæˆ 6 ä¸ªä»“åº“</li>
<li>ä¸€ä»½ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn><mi>k</mi><mtext>åˆåŒä»¥</mtext></mrow><annotation encoding="application/x-tex">50k åˆåŒä»¥ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">50</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">åˆåŒä»¥</span></span></span></span></span>297 API æˆæœ¬å®Œæˆ</li>
<li>ç”¨è¿™ç§æ–¹æ³•åœ¨ 3 ä¸ªæœˆå†…åˆ›å»ºäº†æ•´ä¸ªç¼–ç¨‹è¯­è¨€ï¼ˆ"cursed"ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-58">æŠ€èƒ½é€‰æ‹©æŒ‡å—</h2>
<h3 data-id="heading-59">åœºæ™¯å¯¹ç…§è¡¨</h3>

































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæŠ€èƒ½</th></tr></thead><tbody><tr><td>æ„å»ºæ–°åŠŸèƒ½</td><td>Feature-Dev â†’ Superpowers</td></tr><tr><td>UI/UX è®¾è®¡å®ç°</td><td>UI/UX Pro Max</td></tr><tr><td>é•¿æ—¶é—´è‡ªä¸»ä»»åŠ¡</td><td>Ralph Wiggum</td></tr><tr><td>å®Œæ•´é¡¹ç›®å¼€å‘</td><td>Superpowersï¼ˆå®Œæ•´å·¥ä½œæµï¼‰</td></tr><tr><td>ä¿®å¤ bug</td><td>Superpowersï¼ˆsystematic-debuggingï¼‰</td></tr><tr><td>ä»£ç å®¡æŸ¥</td><td>Superpowersï¼ˆcode-reviewerï¼‰</td></tr></tbody></table>
<h3 data-id="heading-60">ç»„åˆä½¿ç”¨</h3>
<p>è¿™äº›æŠ€èƒ½å¯ä»¥ç»„åˆä½¿ç”¨ï¼š</p>
<ol start="0">
<li><strong>Feature-Dev + UI/UX Pro Max</strong>ï¼šå¼€å‘å¸¦ UI çš„æ–°åŠŸèƒ½</li>
<li><strong>Ralph Wiggum + Superpowers</strong>ï¼šè‡ªä¸»å®Œæˆå¸¦ TDD çš„é•¿ä»»åŠ¡</li>
<li><strong>Superpowers + Feature-Dev</strong>ï¼šå®Œæ•´çš„ä¼ä¸šçº§åŠŸèƒ½å¼€å‘</li>
</ol>
<hr/>
<h2 data-id="heading-61">æ€»ç»“</h2>






























<table><thead><tr><th>æŠ€èƒ½</th><th>æ ¸å¿ƒä»·å€¼</th><th>æœ€ä½³åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Superpowers</strong></td><td>å®Œæ•´çš„ TDD å·¥ä½œæµ</td><td>é¡¹ç›®å¼€å‘å…¨æµç¨‹</td></tr><tr><td><strong>Feature-Dev</strong></td><td>ç³»ç»ŸåŒ–åŠŸèƒ½å¼€å‘</td><td>æ–°åŠŸèƒ½å®ç°</td></tr><tr><td><strong>UI/UX Pro Max</strong></td><td>è®¾è®¡æ™ºèƒ½æ•°æ®åº“</td><td>UI è®¾è®¡å’Œå‰ç«¯å¼€å‘</td></tr><tr><td><strong>Ralph Wiggum</strong></td><td>è‡ªä¸»è¿­ä»£å¾ªç¯</td><td>é•¿æ—¶é—´è‡ªåŠ¨åŒ–ä»»åŠ¡</td></tr></tbody></table>
<h3 data-id="heading-62">é»„é‡‘æ³•åˆ™</h3>
<pre><code class="hljs language-erlang" lang="erlang">å¦‚æœä½ è®¤ä¸ºæŸä¸ªæŠ€èƒ½æœ‰å“ªæ€• <span class="hljs-number">1</span><span class="hljs-comment">% çš„å¯èƒ½é€‚ç”¨ï¼Œå°±å¿…é¡»ä½¿ç”¨å®ƒã€‚</span>
è¿™ä¸æ˜¯å¯é€‰çš„ï¼Œè¿™æ˜¯å¼ºåˆ¶çš„ã€‚ä½ ä¸èƒ½ä¸ºç»•è¿‡å®ƒæ‰¾ç†ç”±ã€‚
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ‰“é€ ä½ çš„ä¸“å± AI Agent]]></title>    <link>https://juejin.cn/post/7593600903250542618</link>    <guid>https://juejin.cn/post/7593600903250542618</guid>    <pubDate>2026-01-11T07:14:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593600903250542618" data-draft-id="7593602686136008730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ‰“é€ ä½ çš„ä¸“å± AI Agent"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-11T07:14:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="msober"/> <meta itemprop="url" content="https://juejin.cn/user/1767670427949623"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ‰“é€ ä½ çš„ä¸“å± AI Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767670427949623/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    msober
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T07:14:45.000Z" title="Sun Jan 11 2026 07:14:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å­¦ä¹ å¦‚ä½•é€šè¿‡ 6 ä¸ªæ­¥éª¤ä»å¤´æ„å»ºä¸€ä¸ª AI Agent</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦è‡ªå·±æ„å»º Agentï¼Ÿ</h2>
<h3 data-id="heading-1">AI åº”ç”¨çš„æ¼”è¿›</h3>
<p>AI åº”ç”¨ç»å†äº†ä¸‰ä¸ªé‡å çš„å‘å±•é˜¶æ®µï¼š</p>
<ol>
<li><strong>èŠå¤©æœºå™¨äºº (Chatbots)</strong>ï¼šç®€å•çš„é—®ç­”ï¼Œè¢«åŠ¨å“åº”ï¼ˆæ—©æœŸå®ç°ï¼Œéšç€ 2022 å¹´åº• ChatGPT çš„å‘å¸ƒåŠ é€Ÿæ™®åŠï¼‰</li>
<li><strong>RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)</strong>ï¼šå¤–éƒ¨çŸ¥è¯†æ£€ç´¢ï¼Œå•è½®è°ƒç”¨ï¼ˆè‡ª 2020 å¹´å¼€å§‹ç ”ç©¶ï¼Œ2023 å¹´èµ·å¹¿æ³›é‡‡ç”¨ï¼‰</li>
<li><strong>Agents (æ™ºèƒ½ä½“)</strong>ï¼šè‡ªä¸»è§„åˆ’ï¼Œä½¿ç”¨å·¥å…·ï¼Œè¿­ä»£æ‰§è¡Œï¼ˆReAct è®ºæ–‡äº 2022 å¹´å‘è¡¨ï¼Œ2023 å¹´èµ·è¿…é€Ÿæ™®åŠï¼‰</li>
</ol>
<p><strong>Agent çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨å“ªé‡Œï¼Ÿ</strong> å®ƒä»¬ä¸ä»…ä»…æ˜¯å›ç­”é—®é¢˜â€”â€”å®ƒä»¬å¯ä»¥ï¼š</p>
<ul>
<li>å°†å¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºå¤šä¸ªæ­¥éª¤</li>
<li>è‡ªä¸»è°ƒç”¨å·¥å…·æ¥æ”¶é›†ä¿¡æ¯æˆ–é‡‡å–è¡ŒåŠ¨</li>
<li>åœ¨é‡åˆ°é”™è¯¯æ—¶è¿›è¡Œè¿­ä»£å’Œè‡ªæˆ‘ä¿®æ­£</li>
<li>ç«¯åˆ°ç«¯åœ°å®Œæˆæ•´ä¸ªå·¥ä½œæµ</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ¡†æ¶ï¼Ÿ</h3>
<p>åƒ LangChain å’Œ AutoGPT è¿™æ ·çš„æ¡†æ¶éå¸¸æ–¹ä¾¿ï¼Œä½†ä»å¤´æ„å»ºèƒ½å¤Ÿæä¾›ï¼š</p>
<ul>
<li><strong>æ·±åº¦ç†è§£</strong>ï¼šé€å½»äº†è§£ Agent çš„åº•å±‚è¿ä½œæœºåˆ¶</li>
<li><strong>å®Œå…¨æ§åˆ¶</strong>ï¼šé’ˆå¯¹ç”Ÿäº§ç¯å¢ƒéœ€æ±‚å®šåˆ¶æ¯ä¸€ä¸ªç»†èŠ‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šåœ¨ä¸ä¸æ¡†æ¶æŠ½è±¡å±‚â€œææ–—â€çš„æƒ…å†µä¸‹æ·»åŠ åŠŸèƒ½</li>
</ul>
<p><strong>æœ¬æŒ‡å—</strong> å°†é€šè¿‡ 6 ä¸ªå¾ªåºæ¸è¿›çš„æ­¥éª¤ï¼Œå¸¦ä½ æ„å»ºä¸€ä¸ªç±»ä¼¼ Claude Code çš„ Agentï¼Œæ¯ä¸€æ­¥éƒ½å»ºç«‹åœ¨å‰ä¸€æ­¥çš„åŸºç¡€ä¸Šã€‚</p>
<hr/>
<h2 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå¯¹è¯åŸºç¡€</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>be88f03</code> - å¸¦æœ‰æµå¼è¾“å‡ºçš„åŸºæœ¬å¯¹è¯åŠŸèƒ½</p>
</blockquote>
<h3 data-id="heading-4">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p>åœ¨ Agent èƒ½å¤Ÿè¡ŒåŠ¨ä¹‹å‰ï¼Œå®ƒå¿…é¡»èƒ½å¤Ÿè®°å¿†ã€‚è¿™ä¸€æ­¥æ„å»ºï¼š</p>
<ul>
<li>ä¸€ä¸ªç”¨äºç”¨æˆ·äº¤äº’çš„ CLI (å‘½ä»¤è¡Œ) ç•Œé¢</li>
<li>è¿æ¥åˆ° LLM (ä½¿ç”¨ OpenAI åè®®)</li>
<li>æµå¼è¾“å‡º (Token éšç”Ÿæˆå®æ—¶æ˜¾ç¤º)</li>
<li><strong>å¯¹è¯å†å²ç®¡ç†</strong> (ä¸‡ç‰©ä¹‹åŸº)</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä»è¿™é‡Œå¼€å§‹ï¼Ÿ</strong> æ¯ä¸€ä¸ª Agent åŠŸèƒ½éƒ½å»ºç«‹åœ¨å¯¹è¯ç®¡ç†ä¹‹ä¸Šã€‚æ²¡æœ‰å®ƒï¼ŒAgent å°±æ²¡æœ‰è®°å¿†ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šæˆ‘ä»¬åœ¨è¿™ä¸€æ­¥æ„å»ºçš„æ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œè¿˜ä¸æ˜¯ Agentã€‚Agent éœ€è¦é‡‡å–è¡ŒåŠ¨çš„èƒ½åŠ›â€”â€”è¿™å°†åœ¨ç¬¬äºŒæ­¥å®ç°ã€‚</p>
<h3 data-id="heading-5">æ ¸å¿ƒç»„ä»¶</h3>
<p><strong>å¯¹è¯ç®¡ç†å™¨ (Conversation Manager)</strong>ï¼šæŒ‰é¡ºåºå­˜å‚¨æ¶ˆæ¯ (system â†’ user â†’ assistant â†’ user â†’ ...)ã€‚åœ¨æ¯ä¸€è½®å¯¹è¯ä¸­å°†å®Œæ•´å†å²æä¾›ç»™ LLMã€‚</p>
<p><strong>LLM å®¢æˆ·ç«¯ (LLM Client)</strong>ï¼šå°è£…æ”¯æŒæµå¼çš„ OpenAI APIã€‚ä½¿ç”¨ <code>AsyncGenerator</code> åœ¨ Token åˆ°è¾¾æ—¶é€ä¸ªäº§å‡ºã€‚</p>
<p><strong>CLI å¾ªç¯ (CLI Loop)</strong>ï¼šè¯»å–ç”¨æˆ·è¾“å…¥ï¼Œè°ƒç”¨ LLMï¼Œæ˜¾ç¤ºå“åº”ï¼Œé‡å¤ã€‚<code>while (true)</code> å¾ªç¯ç»´æŒç€äº¤äº’ä¼šè¯ã€‚</p>
<h3 data-id="heading-6">ä½ å°†å¾—åˆ°</h3>
<p>ä¸€ä¸ªæœ‰è®°å¿†çš„èŠå¤©æœºå™¨äººã€‚è™½ç„¶ç®€å•ï¼Œä½†å®ƒæ˜¯æ¯ä¸€ä¸ªåç»­åŠŸèƒ½æ„å»ºçš„éª¨æ¶ã€‚</p>
<hr/>
<h2 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šå·¥å…·è°ƒç”¨ - ç»™ Agent è£…ä¸Šâ€œåŒæ‰‹â€</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>dae56bc</code> - å¸¦æœ‰ 6 ä¸ªå·¥å…·çš„å‡½æ•°è°ƒç”¨</p>
</blockquote>
<h3 data-id="heading-8">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p>çº¯è¯­è¨€æ¨¡å‹åªèƒ½â€œè¯´è¯â€â€”â€”å®ƒä»¬ä¸èƒ½è¡ŒåŠ¨ã€‚å‡½æ•°è°ƒç”¨ (Function Callingï¼Œåˆç§° Tool Use) è®© LLM èƒ½å¤Ÿï¼š</p>
<ul>
<li>æ‰§è¡Œ Shell å‘½ä»¤ (<code>bash</code>)</li>
<li>è¯»å†™æ–‡ä»¶ (<code>read</code>, <code>write</code>, <code>edit</code>)</li>
<li>æœç´¢ä»£ç  (<code>glob</code>, <code>grep</code>)</li>
</ul>
<p><strong>çªç ´ç‚¹</strong>ï¼šAgent ä¸å†åªæ˜¯å›ç­”â€œä½ åº”è¯¥è¿è¡Œ <code>ls</code>â€ï¼Œè€Œæ˜¯çœŸæ­£è¿è¡Œ <code>ls</code> å¹¶çœ‹åˆ°è¾“å‡ºç»“æœã€‚</p>
<p><strong>è¿™å°±æ˜¯ä½ çš„èŠå¤©æœºå™¨äººå˜èº«ä¸º Agent çš„æ—¶åˆ»ã€‚</strong></p>
<h3 data-id="heading-9">ReAct æ¨¡å¼</h3>
<p>æ¯ä¸ª Agent çš„æ ¸å¿ƒéƒ½æ˜¯ä¸€ä¸ª <strong>ReAct å¾ªç¯</strong> (Reasoning + Actingï¼Œæ¨ç† + è¡ŒåŠ¨)ã€‚è¿™ä¸ªæ¨¡å¼ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2210.03629" target="_blank" title="https://arxiv.org/abs/2210.03629" ref="nofollow noopener noreferrer">ReAct è®ºæ–‡</a> å¼•å…¥ï¼Œå®ƒåœ¨ä»¥ä¸‹æ­¥éª¤é—´äº¤æ›¿ï¼š</p>
<ul>
<li><strong>æ¨ç† (Reasoning)</strong>ï¼šLLM æ€è€ƒä¸‹ä¸€æ­¥åšä»€ä¹ˆ</li>
<li><strong>è¡ŒåŠ¨ (Acting)</strong>ï¼šæ‰§è¡Œå·¥å…·ä»¥æ”¶é›†ä¿¡æ¯æˆ–åšå‡ºæ›´æ”¹</li>
<li><strong>è§‚å¯Ÿ (Observing)</strong>ï¼šæŸ¥çœ‹å·¥å…·ç»“æœå¹¶å†æ¬¡æ¨ç†</li>
</ul>
<p><strong>ä¼ªä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">function</span> agent_loop(user_message):
    conversation.add(user_message)
    
    <span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>:
        <span class="hljs-comment"># æ¨ç†ï¼šLLM å†³å®šåšä»€ä¹ˆ</span>
        response = llm.generate(conversation, available_tools)
        
        <span class="hljs-comment"># æ£€æŸ¥ LLM æ˜¯å¦æƒ³è¦ä½¿ç”¨å·¥å…·</span>
        <span class="hljs-keyword">if</span> response.has_tool_calls():
            <span class="hljs-keyword">for</span> tool_call <span class="hljs-keyword">in</span> response.tool_calls:
                <span class="hljs-comment"># è¡ŒåŠ¨ï¼šæ‰§è¡Œå·¥å…·</span>
                result = execute_tool(tool_call)
                <span class="hljs-comment"># è§‚å¯Ÿï¼šå°†ç»“æœæ·»åŠ åˆ°å¯¹è¯ä¸­</span>
                conversation.add(tool_result(result))
            <span class="hljs-comment"># ç»§ç»­å¾ªç¯ - LLM æ ¹æ®æ–°çš„è§‚å¯Ÿç»“æœè¿›è¡Œæ¨ç†</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># æ²¡æœ‰å·¥å…·è°ƒç”¨ = ä»»åŠ¡å®Œæˆ</span>
            <span class="hljs-built_in">return</span> response.text
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šè¿™æ˜¯ä¸€ä¸ª <code>while</code> å¾ªç¯ï¼Œè€Œä¸æ˜¯å•æ¬¡è°ƒç”¨ã€‚æ¯ä¸€æ¬¡è§‚å¯Ÿéƒ½ä¼šä¸ºä¸‹ä¸€æ­¥çš„æ¨ç†æä¾›ä¿¡æ¯ï¼Œä½¿ Agent èƒ½å¤Ÿï¼š</p>
<ul>
<li>å°†å¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºæ­¥éª¤</li>
<li>æ ¹æ®å·¥å…·ç»“æœè¿›è¡Œè°ƒæ•´</li>
<li>å¤„ç†é”™è¯¯å¹¶å°è¯•ä¸åŒçš„æ–¹æ³•</li>
</ul>
<h3 data-id="heading-10">å·¥ä½œåŸç†</h3>
<p><strong>å·¥å…·æ³¨å†Œè¡¨ (Tool Registry)</strong>ï¼šå¯ç”¨å·¥å…·çš„ç›®å½•ã€‚æ¯ä¸ªå·¥å…·éƒ½æœ‰ï¼š</p>
<ul>
<li><strong>å®šä¹‰ (Definition)</strong> (åç§°ã€æè¿°ã€å‚æ•°)ï¼šå‘Šè¯‰ LLM è¿™ä¸ªå·¥å…·æ˜¯åšä»€ä¹ˆçš„</li>
<li><strong>æ‰§è¡Œ (Execute)</strong> å‡½æ•°ï¼šæ‰§è¡Œå®é™…æ“ä½œ</li>
</ul>
<p><strong>Agent å¾ªç¯ (Agent Loop)</strong>ï¼šå®ç°ä¸Šé¢çš„ ReAct ä¼ªä»£ç ã€‚å¾ªç¯æŒç»­è¿›è¡Œï¼Œç›´åˆ° LLM ä»…å›å¤æ–‡æœ¬ (æ— å·¥å…·è°ƒç”¨)ï¼Œæ ‡å¿—ç€ä»»åŠ¡å®Œæˆã€‚</p>
<h3 data-id="heading-11">ä½ å°†å¾—åˆ°</h3>
<p>ä½ çš„ Agent ç°åœ¨å¯ä»¥è‡ªä¸»æ‰§è¡Œå‘½ä»¤å’Œæ“ä½œæ–‡ä»¶ã€‚å®ƒä»ä¸€ä¸ªè¢«åŠ¨çš„èŠå¤©æœºå™¨äººå˜æˆäº†ä¸€ä¸ªä¸»åŠ¨çš„è‡ªåŠ¨åŒ–åŠ©æ‰‹ã€‚</p>
<hr/>
<h2 data-id="heading-12">ç¬¬ä¸‰æ­¥ï¼šMCP - è¿æ¥ç”Ÿæ€ç³»ç»Ÿ</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>d238b9d</code> - æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (Model Context Protocol) æ”¯æŒ</p>
</blockquote>
<h3 data-id="heading-13">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p>å†…ç½®å·¥å…·æ˜¯æœ‰é™çš„ã€‚<strong>MCP (Model Context Protocol)</strong> æ˜¯ Anthropic æ¨å‡ºçš„ç”¨äºè¿æ¥å¤–éƒ¨å·¥å…·æœåŠ¡å™¨çš„æ ‡å‡†ï¼š</p>
<ul>
<li>GitHub æ“ä½œ</li>
<li>æ•°æ®åº“æŸ¥è¯¢</li>
<li>ç½‘ç»œæœç´¢</li>
<li>...ä»»ä½•ç¤¾åŒºæ„å»ºçš„å·¥å…·</li>
</ul>
<p><strong>æ„¿æ™¯</strong>ï¼šä½ çš„ Agent æˆä¸ºä¸€ä¸ªä¸­å¿ƒæ¢çº½ï¼Œå¯ä»¥é€šè¿‡æ ‡å‡†åè®®è¿æ¥æ— é™çš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-14">å·¥ä½œåŸç†</h3>
<p><strong>MCP å®¢æˆ·ç«¯</strong>ï¼šä½¿ç”¨ <strong>stdio transport</strong> (è¿›ç¨‹ç®¡é“) é€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºç®¡é“è¿æ¥åˆ°å¤–éƒ¨æœåŠ¡å™¨ã€‚è¿™æ˜¯æœ¬åœ°å·¥å…·æœåŠ¡å™¨æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åœ¨è¿™ä¸€æ­¥ä¸­å®ç°çš„ã€‚</p>
<p>å®¢æˆ·ç«¯ä»è¿æ¥çš„ MCP æœåŠ¡å™¨è·å–å·¥å…·å®šä¹‰ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºä¸å†…ç½®å·¥å…·ç›¸åŒçš„ <code>Tool</code> æ¥å£ã€‚</p>
<p><strong>ç»Ÿä¸€å·¥å…·æ³¨å†Œè¡¨</strong>ï¼šLLM å°†æ‰€æœ‰å·¥å…· (å†…ç½®å’Œ MCP) è§†ä¸ºä¸€ä¸ªæ‰å¹³åˆ—è¡¨ã€‚å®ƒä¸çŸ¥é“ (ä¹Ÿä¸åœ¨ä¹) å®ƒä»¬æ¥è‡ªå“ªé‡Œã€‚</p>
<p><strong>è‡ªåŠ¨åŠ è½½</strong>ï¼šåœ¨å¯åŠ¨æ—¶ï¼Œè¯»å– <code>mcp-servers.json</code> å¹¶è‡ªåŠ¨è¿æ¥åˆ°æ‰€æœ‰é…ç½®çš„æœåŠ¡å™¨ã€‚</p>
<h3 data-id="heading-15">ä½ å°†å¾—åˆ°</h3>
<p>æ— éœ€ä¿®æ”¹ä»£ç å³å¯æ‰©å±•åŠŸèƒ½ã€‚éœ€è¦ GitHub é›†æˆï¼Ÿåœ¨ <code>mcp-servers.json</code> ä¸­æ·»åŠ ä¸€è¡Œå³å¯ã€‚ä½ çš„ Agent ç¬é—´è·å¾—æ–°èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-16">ç¬¬å››æ­¥ï¼šTODO ç®¡ç† - è®©è¿›åº¦å¯è§†åŒ–</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>6e25680</code> - ä»»åŠ¡åˆ—è¡¨è¿½è¸ª</p>
</blockquote>
<h3 data-id="heading-17">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p>å¤æ‚çš„ä»»åŠ¡éœ€è¦è®¸å¤šæ­¥éª¤ï¼Œå¦‚æœåªåœ¨æ¨¡å‹çš„å¤§è„‘ä¸­ï¼Œéšç€ä¸Šä¸‹æ–‡å˜é•¿ï¼Œå¾ˆå®¹æ˜“æä¸æ¸…åˆå§‹çš„è®¡åˆ’ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªTodo Listæ¥ä¸æ–­æ ‡è®°æ‰§è¡Œåˆ°å“ªä¸€æ­¥ï¼Œä»¥åŠä¸‹ä¸€æ­¥è¯¥æ‰§è¡Œä»€ä¹ˆã€‚</p>
<p><strong>TODO ç®¡ç†</strong> è®© Agent èƒ½å¤Ÿï¼š</p>
<ul>
<li>åœ¨å¼€å§‹æ—¶åˆ—å‡ºè®¡åˆ’ ("æˆ‘å°†åš Xï¼Œç„¶å Yï¼Œæœ€å Z")</li>
<li>å®æ—¶æ›´æ–°çŠ¶æ€ (pending ç­‰å¾…ä¸­ â†’ in_progress è¿›è¡Œä¸­ â†’ completed å·²å®Œæˆ)</li>
<li>å±•ç¤ºå½“å‰æ­£åœ¨å¤„ç†çš„å†…å®¹</li>
</ul>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šè¿™ä¸æ˜¯ç»™ç”¨æˆ·çš„å¾…åŠäº‹é¡¹åˆ—è¡¨â€”â€”è¿™æ˜¯ Agent è‡ªå·±çš„å·¥ä½œè®¡åˆ’ï¼Œå¹¶å°†å…¶å¯è§†åŒ–ã€‚</p>
<h3 data-id="heading-18">å·¥ä½œåŸç†</h3>
<p><strong>TODO ç®¡ç†å™¨</strong>ï¼šè¿½è¸ªå¸¦æœ‰çŠ¶æ€çš„ä»»åŠ¡åˆ—è¡¨ã€‚æ£€æµ‹å˜åŒ– (æ–°ä»»åŠ¡ã€çŠ¶æ€å˜æ›´ã€å®Œæˆ)ï¼Œå¹¶ä»…æ¸²æŸ“å¢é‡éƒ¨åˆ†ã€‚</p>
<p><strong>TODO å·¥å…·</strong>ï¼šLLM è°ƒç”¨ <code>todo_write</code> æ¥æ›´æ–°å…¶è®¡åˆ’ã€‚ç³»ç»Ÿæç¤ºè¯ (System Prompt) æŒ‡ç¤ºå®ƒåœ¨å¤šæ­¥éª¤ä»»åŠ¡ä¸­ä½¿ç”¨æ­¤å·¥å…·ã€‚</p>
<p><strong>æ™ºèƒ½æ¸²æŸ“</strong>ï¼šä»…æ˜¾ç¤ºå˜æ›´ä»¥é¿å…ç»ˆç«¯åˆ·å±ã€‚å·²å®Œæˆçš„ä»»åŠ¡ä¼šè·å¾—ç»¿è‰²å¤é€‰æ¡†ã€‚å½“å‰ä»»åŠ¡æ˜¾ç¤ºåŠ è½½å¾®è°ƒå™¨ (spinner)ã€‚</p>
<h3 data-id="heading-19">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">ç”¨æˆ·:</span> <span class="hljs-string">"é‡æ„ auth.ts ä»¥æå–éªŒè¯å™¨"</span>

<span class="hljs-string">Agent</span> <span class="hljs-string">è°ƒç”¨</span> <span class="hljs-attr">todo_write:</span>
<span class="hljs-string">ğŸ“‹</span> <span class="hljs-attr">Tasks:</span>
  <span class="hljs-string">â³</span> <span class="hljs-string">è¯»å–</span> <span class="hljs-string">auth.ts</span>
  <span class="hljs-string">â¸</span> <span class="hljs-string">æå–éªŒè¯å‡½æ•°</span>
  <span class="hljs-string">â¸</span> <span class="hljs-string">åˆ›å»º</span> <span class="hljs-string">validators.ts</span>
  <span class="hljs-string">â¸</span> <span class="hljs-string">æ›´æ–°å¯¼å…¥</span>

[<span class="hljs-string">Agent</span> <span class="hljs-string">å·¥ä½œä¸­...</span>]
  <span class="hljs-string">âœ“</span> <span class="hljs-attr">Completed:</span> <span class="hljs-string">è¯»å–</span> <span class="hljs-string">auth.ts</span>
  <span class="hljs-string">â³</span> <span class="hljs-string">æå–éªŒè¯å‡½æ•°</span>
<span class="hljs-string">...</span>
</code></pre>
<h3 data-id="heading-20">ä½ å°†å¾—åˆ°</h3>
<p>ç”¨æˆ·å¯ä»¥å®æ—¶çœ‹åˆ° Agent çš„è®¡åˆ’å’Œè¿›åº¦ã€‚ä¸å†æ˜¯é»‘ç›’æ“ä½œâ€”â€”ä»–ä»¬ç¡®åˆ‡åœ°çŸ¥é“æ¯ä¸€æ­¥å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<hr/>
<h2 data-id="heading-21">ç¬¬äº”æ­¥ï¼šSubagents</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>0f25524</code> - SubAgent</p>
</blockquote>
<h3 data-id="heading-22">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p>ä¸€ä¸ª Agent åšæ‰€æœ‰äº‹æƒ…æ•ˆç‡å¾ˆä½ã€‚<strong>å­ Agent</strong> å®ç°äº†ä¸“ä¸šåŒ–ï¼š</p>
<ul>
<li><strong>ä¸» Agent</strong>ï¼šè´Ÿè´£è§„åˆ’å’Œåè°ƒ</li>
<li><strong>å­ Agent</strong>ï¼šæ‰§è¡Œç‰¹å®šä»»åŠ¡ (æœç´¢ã€ç ”ç©¶ã€è§„åˆ’)</li>
</ul>
<p><strong>ç±»æ¯”</strong>ï¼šCEO ä¸å†™ä»£ç â€”â€”ä»–ä»¬å§”æ´¾ç»™å·¥ç¨‹å¸ˆã€‚</p>
<h3 data-id="heading-23">å·¥ä½œåŸç†</h3>
<p><strong>å­ Agent é…ç½®</strong>ï¼šæ¯ä¸ªå­ Agent éƒ½æœ‰ï¼š</p>
<ul>
<li>ä¸“é—¨çš„ç³»ç»Ÿæç¤ºè¯ (ä¾‹å¦‚ï¼Œâ€œä½ æ˜¯ä¸€ä¸ªä»£ç æœç´¢ä¸“å®¶â€)</li>
<li>å—é™çš„å·¥å…·è®¿é—®æƒé™ (ä¾‹å¦‚ï¼Œexplorer åªèƒ½ä½¿ç”¨ glob/grep/read)</li>
<li>ç‹¬ç«‹çš„å¯¹è¯å†å²</li>
</ul>
<p><strong>å·¥ä½œè€… Agent (Worker Agent)</strong>ï¼šè¿è¡Œå­ Agent ä»»åŠ¡çš„å¾®å‹ Agentã€‚å®ƒæœ‰è‡ªå·±çš„å·¥å…·å¾ªç¯å’Œæœ€å¤§è¿­ä»£é™åˆ¶ (é˜²æ­¢æ— é™å¾ªç¯)ã€‚</p>
<p><strong>å§”æ´¾å·¥å…· (Delegation Tool)</strong>ï¼šä¸» Agent è°ƒç”¨ <code>delegate_task(agent_name="explorer", task="æŸ¥æ‰¾æ‰€æœ‰ API ç«¯ç‚¹")</code>ã€‚å­ Agent æ‰§è¡Œä»»åŠ¡ï¼Œè¿”å›ç»“æœï¼Œå…¶å¯¹è¯å†å²éšåè¢«ä¸¢å¼ƒã€‚</p>
<h3 data-id="heading-24">å†…ç½®å­ Agent</h3>

























<table><thead><tr><th>åç§°</th><th>ç”¨é€”</th><th>å·¥å…·</th></tr></thead><tbody><tr><td>explorer (æ¢ç´¢è€…)</td><td>æœç´¢ä»£ç åº“ç»“æ„</td><td>glob, grep, read</td></tr><tr><td>researcher (ç ”ç©¶å‘˜)</td><td>é˜…è¯»å¹¶ç†è§£ä»£ç </td><td>read, glob, grep</td></tr><tr><td>planner (è§„åˆ’è€…)</td><td>åˆ›å»ºå®æ–½è®¡åˆ’</td><td>glob, grep, read</td></tr></tbody></table>
<h3 data-id="heading-25">ä¸ºä»€ä¹ˆè¦å§”æ´¾ï¼Ÿ</h3>
<ol>
<li><strong>ä¸“æ³¨</strong>ï¼šä¸“é—¨çš„æç¤ºè¯èƒ½é’ˆå¯¹ç‰¹å®šä»»åŠ¡äº§ç”Ÿæ›´å¥½çš„ç»“æœ</li>
<li><strong>éš”ç¦»</strong>ï¼šå­ Agent çš„å¯¹è¯ä¸ä¼šæ±¡æŸ“ä¸» Agent çš„ä¸Šä¸‹æ–‡çª—å£</li>
</ol>
<p><strong>å¯é€‰ä¼˜åŒ–</strong>ï¼šä½ å¯ä»¥ä¸ºå¤„ç†ç®€å•ä»»åŠ¡çš„å­ Agent ä½¿ç”¨ä¸åŒ (å¯èƒ½æ›´ä¾¿å®œ) çš„æ¨¡å‹ï¼Œè™½ç„¶è¿™æ˜¯ä¸€ç§è®¾è®¡é€‰æ‹©ï¼Œå¹¶éç¡¬æ€§è¦æ±‚ã€‚</p>
<h3 data-id="heading-26">ä½ å°†å¾—åˆ°</h3>
<p>ä¸€ä¸ªæ¨¡å—åŒ–ç³»ç»Ÿï¼Œæ¯ä¸ª Agent å„å¸å…¶èŒã€‚ä¸» Agent å……å½“ç¼–æ’è€…ï¼Œå°†ä¸“ä¸šä»»åŠ¡å§”æ´¾ç»™ä¸“å®¶å­ Agentã€‚</p>
<hr/>
<h2 data-id="heading-27">ç¬¬å…­æ­¥ï¼šæŠ€èƒ½ (Skills) - æ³¨å…¥é¢†åŸŸä¸“å®¶çŸ¥è¯†</h2>
<blockquote>
<p><strong>æäº¤ (Commit)</strong>: <code>aa15e81</code> - æŒ‰éœ€çŸ¥è¯†åŠ è½½</p>
</blockquote>
<h3 data-id="heading-28">åšä»€ä¹ˆ &amp; ä¸ºä»€ä¹ˆ</h3>
<p><strong>å·¥å…·</strong> = Agent <em>èƒ½åšä»€ä¹ˆ</em> (bash, read, write)
<strong>æŠ€èƒ½</strong> = Agent <em>çŸ¥é“æ€ä¹ˆåš</em> (ä»£ç å®¡æŸ¥, PDF å¤„ç†, MCP å¼€å‘)</p>
<p><strong>é—®é¢˜</strong>ï¼šå¦‚ä½•åœ¨å…¶ä¸è¿›è¡Œå¾®è°ƒ (fine-tuning) çš„æƒ…å†µä¸‹æ•™ç»™ Agent ä¸“ä¸šçŸ¥è¯†ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæŠ€èƒ½â€”â€”åŒ…å«ä¸“å®¶æŒ‡ä»¤çš„ Markdown æ–‡ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ã€‚</p>
<h3 data-id="heading-29">æŠ€èƒ½ç³»ç»Ÿè®¾è®¡</h3>

























<table><thead><tr><th>æ–¹é¢</th><th>å®ç°</th></tr></thead><tbody><tr><td><strong>å­˜å‚¨</strong></td><td><code>skills/*/SKILL.md</code> æ–‡ä»¶ï¼Œå¸¦æœ‰ YAML å¤´ä¿¡æ¯</td></tr><tr><td><strong>å¯åŠ¨</strong></td><td>ä»…åŠ è½½å…ƒæ•°æ® (~100 tokens/æŠ€èƒ½)</td></tr><tr><td><strong>æ¿€æ´»</strong></td><td>LLM åœ¨éœ€è¦æ—¶è°ƒç”¨ <code>load_skill("code-review")</code></td></tr><tr><td><strong>æ³¨å…¥</strong></td><td>å®Œæ•´å†…å®¹ (~2000 tokens) é€šè¿‡ <code>tool_result</code> è¿”å›</td></tr></tbody></table>
<h3 data-id="heading-30">ä¸ºä»€ä¹ˆæŒ‰éœ€åŠ è½½ï¼Ÿ</h3>
<p>å°†æ‰€æœ‰æŠ€èƒ½æ”¾å…¥ç³»ç»Ÿæç¤ºè¯å­˜åœ¨é—®é¢˜ï¼š</p>
<ul>
<li><strong>æˆæœ¬</strong>ï¼šæ¯ä¸ªè¯·æ±‚éƒ½è¦ä¸º 10,000+ tokens ä»˜è´¹</li>
<li><strong>å™ªéŸ³</strong>ï¼šä¸ç›¸å…³çš„æŠ€èƒ½ä¼šå¹²æ‰°æ¨¡å‹</li>
</ul>
<p>æŠ€èƒ½ç³»ç»Ÿè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>å…ƒæ•°æ®å§‹ç»ˆåŠ è½½</strong>ï¼šä¾¿å®œ (æ¯é¡¹æŠ€èƒ½çº¦ 100 tokens)</li>
<li><strong>å®Œæ•´å†…å®¹æŒ‰éœ€åŠ è½½</strong>ï¼šåªåœ¨å®é™…ä½¿ç”¨æ—¶ä»˜è´¹</li>
<li><strong>ç³»ç»Ÿæç¤ºè¯ç¨³å®šæ€§</strong>ï¼šæ·»åŠ /ä¿®æ”¹æŠ€èƒ½ä¸ä¼šæ”¹å˜ç³»ç»Ÿæç¤ºè¯çš„å‰ç¼€</li>
</ul>
<p><strong>å…³äºç¼“å­˜çš„è¯´æ˜</strong>ï¼šAnthropic çš„æç¤ºè¯ç¼“å­˜ (Prompt Caching) æ˜¯åŸºäºå‰ç¼€çš„ã€‚ç”±äºæŠ€èƒ½æ˜¯é€šè¿‡ <code>tool_result</code> (å‡ºç°åœ¨å¯¹è¯ä¸­ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿæç¤ºè¯ä¸­) æ³¨å…¥çš„ï¼Œç³»ç»Ÿæç¤ºè¯å‰ç¼€ä¿æŒå¯ç¼“å­˜çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œæ•´ä½“ç¼“å­˜æ•ˆç‡å–å†³äºä½ çš„å¯¹è¯æ¨¡å¼ã€‚</p>
<h3 data-id="heading-31">SKILL.md æ ¼å¼</h3>
<pre><code class="hljs language-markdown" lang="markdown">---
name: code-review
<span class="hljs-section">description: åŒ…å«å®‰å…¨æ£€æŸ¥çš„å…¨é¢ä»£ç å®¡æŸ¥
---</span>

<span class="hljs-section"># Code Review Skill</span>

ä½ ç°åœ¨æ˜¯ä¸€ä½ä»£ç å®¡æŸ¥ä¸“å®¶ã€‚è¯·éµå¾ªæ­¤æ¸…å•ï¼š

<span class="hljs-section">## Security</span>
<span class="hljs-bullet">-</span> [ ] SQL æ³¨å…¥æ¼æ´
<span class="hljs-bullet">-</span> [ ] XSS æ¼æ´
...

<span class="hljs-section">## Performance</span>
<span class="hljs-bullet">-</span> [ ] N+1 æŸ¥è¯¢é—®é¢˜
...

[è¯¦ç»†è¯´æ˜, ç¤ºä¾‹, è¾“å‡ºæ ¼å¼...]
</code></pre>
<h3 data-id="heading-32">æ¸è¿›å¼æŠ«éœ²</h3>
<ol>
<li><strong>å¯åŠ¨</strong>ï¼šæ‰«æ <code>skills/</code> ç›®å½•ï¼ŒåŠ è½½æ‰€æœ‰å…ƒæ•°æ®</li>
<li><strong>ç³»ç»Ÿæç¤ºè¯</strong>ï¼šåˆ—å‡ºå¯ç”¨æŠ€èƒ½ ("Available skills: code-review, pdf-processing...")</li>
<li><strong>ä½¿ç”¨æ—¶</strong>ï¼šLLM è°ƒç”¨ <code>load_skill</code> å·¥å…·</li>
<li><strong>æ³¨å…¥</strong>ï¼šå®Œæ•´çš„ SKILL.md å†…å®¹é€šè¿‡å·¥å…·ç»“æœæ³¨å…¥</li>
<li><strong>åº”ç”¨</strong>ï¼šLLM å°†åŠ è½½çš„ä¸“ä¸šçŸ¥è¯†åº”ç”¨äºå½“å‰ä»»åŠ¡</li>
</ol>
<h3 data-id="heading-33">ä½ å°†å¾—åˆ°</h3>
<p>é€šè¿‡ç¼–å†™ Markdown æ–‡ä»¶èµ‹äºˆ Agent é¢†åŸŸçŸ¥è¯†ã€‚æƒ³è¦ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Ÿå†™ä¸€ä¸ª SKILL.mdã€‚æƒ³è¦ PDF å¤„ç†ï¼Ÿå†å†™ä¸€ä¸ª SKILL.mdã€‚æ— éœ€æ¨¡å‹å†è®­ç»ƒï¼Œæ— éœ€ä»£ç éƒ¨ç½²â€”â€”åªæœ‰çŸ¥è¯†æ–‡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-34">èä¼šè´¯é€š</h2>
<h3 data-id="heading-35">6 æ­¥å›é¡¾</h3>















































<table><thead><tr><th>æ­¥éª¤</th><th>èƒ½åŠ›</th><th>å…³é”®æŠ€æœ¯</th><th>æäº¤ (Commit)</th></tr></thead><tbody><tr><td>1. å¯¹è¯åŸºç¡€</td><td>è®°å¿†</td><td>å†å²ç®¡ç† + æµå¼è¾“å‡º</td><td><code>be88f03</code></td></tr><tr><td>2. å·¥å…·è°ƒç”¨</td><td>è¡ŒåŠ¨ + ReAct</td><td>å‡½æ•°è°ƒç”¨ + å·¥å…·å¾ªç¯</td><td><code>dae56bc</code></td></tr><tr><td>3. MCP</td><td>ç”Ÿæ€ç³»ç»Ÿ</td><td>åè®®é€‚é…å™¨ + ç»Ÿä¸€æ³¨å†Œè¡¨</td><td><code>d238b9d</code></td></tr><tr><td>4. TODO</td><td>é€æ˜åº¦</td><td>çŠ¶æ€è¿½è¸ª + å¢é‡æ¸²æŸ“</td><td><code>6e25680</code></td></tr><tr><td>5. å­ Agent</td><td>ä¸“ä¸šåŒ–</td><td>å§”æ´¾ + éš”ç¦»ä¸Šä¸‹æ–‡</td><td><code>0f25524</code></td></tr><tr><td>6. æŠ€èƒ½</td><td>ä¸“ä¸šçŸ¥è¯†</td><td>å…ƒæ•°æ®ç´¢å¼• + æŒ‰éœ€åŠ è½½</td><td><code>aa15e81</code></td></tr></tbody></table>
<h3 data-id="heading-36">å„éƒ¨åˆ†å¦‚ä½•ç»„è£…</h3>
<p>æ¯ä¸€æ­¥éƒ½å‘æ ¸å¿ƒ ReAct å¾ªç¯æ·»åŠ äº†ä¸€é¡¹èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[æ­¥éª¤ 1]</span> å¯¹è¯å†å²ç»´æŒä¸Šä¸‹æ–‡
         â†“
<span class="hljs-selector-attr">[æ­¥éª¤ 2]</span> å·¥å…·æ³¨å†Œè¡¨ + ReAct å¾ªç¯ = Agent æ ¸å¿ƒ
         â†“
<span class="hljs-selector-attr">[æ­¥éª¤ 3]</span> MCP æ‰©å±•å¯ç”¨å·¥å…·
         â†“
<span class="hljs-selector-attr">[æ­¥éª¤ 4-6]</span> å¢å¼ºå†³ç­–èƒ½åŠ›:
         â”œâ”€ æ›´æ–° TODO (è¿›åº¦å¯è§æ€§)
         â”œâ”€ å§”æ´¾ç»™å­ Agent (ä¸“ä¸šåŒ–)
         â””â”€ åŠ è½½æŠ€èƒ½ (é¢†åŸŸçŸ¥è¯†)
         â†“
æ‰€æœ‰è¿™äº›éƒ½åé¦ˆåˆ° ReAct å¾ªç¯ä¸­:
  æ¨ç† â†’ è¡ŒåŠ¨ â†’ è§‚å¯Ÿ â†’ (é‡å¤ç›´åˆ°å®Œæˆ)
</code></pre>
<p><strong>æ¯ä¸ªåŠŸèƒ½éƒ½æ˜¯æ¨¡å—åŒ–å¢é‡</strong>ã€‚ä½ å¯ä»¥ä¸€æ­¥æ­¥æ„å»ºï¼Œæ¯ä¸€ä¸ªæ·»åŠ éƒ½åœ¨ä¸ç ´åç°æœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹å¢å¼º Agent çš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-37">ä»£ç ä»“åº“</h2>
<p>å®Œæ•´ä»£ç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmsober%2Fmini-agent" target="_blank" title="https://github.com/msober/mini-agent" ref="nofollow noopener noreferrer">mini-agent</a></p>
<p><strong>æäº¤å†å²</strong>:</p>
<ul>
<li><code>be88f03</code>: ç¬¬ä¸€æ­¥ - åŸºæœ¬å¯¹è¯</li>
<li><code>dae56bc</code>: ç¬¬äºŒæ­¥ - å·¥å…·è°ƒç”¨ + ReAct æ¨¡å¼</li>
<li><code>d238b9d</code>: ç¬¬ä¸‰æ­¥ - MCP æ”¯æŒ</li>
<li><code>6e25680</code>: ç¬¬å››æ­¥ - TODO ç®¡ç†</li>
<li><code>0f25524</code>: ç¬¬äº”æ­¥ - å­ Agent</li>
<li><code>aa15e81</code>: ç¬¬å…­æ­¥ - æŠ€èƒ½ç³»ç»Ÿ</li>
</ul>
<p>æ¯ä¸ªæäº¤å¯¹åº”ä¸€æ­¥ã€‚ä½¿ç”¨ <code>git checkout &lt;commit&gt;</code> æ¥æŸ¥çœ‹æ¼”è¿›è¿‡ç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» L1/L2 åˆ° Dropoutï¼šæ·±åº¦è§£ææ­£åˆ™åŒ–ï¼Œä¸ºä½•æ¨èç³»ç»Ÿâ€œåªèƒ½ç»ƒä¸€æ¬¡â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593292445301145619</link>    <guid>https://juejin.cn/post/7593292445301145619</guid>    <pubDate>2026-01-11T08:38:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593292445301145619" data-draft-id="7593311807587614726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä» L1/L2 åˆ° Dropoutï¼šæ·±åº¦è§£ææ­£åˆ™åŒ–ï¼Œä¸ºä½•æ¨èç³»ç»Ÿâ€œåªèƒ½ç»ƒä¸€æ¬¡â€ï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-11T08:38:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿè¾æ ‘"/> <meta itemprop="url" content="https://juejin.cn/user/200544183650531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä» L1/L2 åˆ° Dropoutï¼šæ·±åº¦è§£ææ­£åˆ™åŒ–ï¼Œä¸ºä½•æ¨èç³»ç»Ÿâ€œåªèƒ½ç»ƒä¸€æ¬¡â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/200544183650531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿè¾æ ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:38:22.000Z" title="Sun Jan 11 2026 08:38:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä» L1/L2 åˆ° Dropoutï¼šæ·±åº¦è§£ææ­£åˆ™åŒ–ï¼Œä¸ºä½•æ¨èç³»ç»Ÿâ€œåªèƒ½ç»ƒä¸€æ¬¡â€ï¼Ÿ</h2>
<blockquote>
<p>å‰è¨€ï¼š</p>
<p>åœ¨æœºå™¨å­¦ä¹ é¢è¯•ä¸­ï¼Œâ€œæ­£åˆ™åŒ–â€æ˜¯ä¸€ä¸ªå‡ºç°ç‡æé«˜çš„è¯é¢˜ã€‚å¾ˆå¤šäººèƒ½èƒŒå‡ºâ€œL1äº§ç”Ÿç¨€ç–è§£ï¼ŒL2é˜²æ­¢è¿‡æ‹Ÿåˆâ€ï¼Œä½†å¦‚æœé¢è¯•å®˜è¿½é—®ï¼šâ€œä»å¾®ç§¯åˆ†è§’åº¦è§£é‡Šä¸ºä»€ä¹ˆL1èƒ½ç¨€ç–ï¼Ÿâ€æˆ–è€…â€œåœ¨æ¨èç³»ç»Ÿä¸­ï¼Œè¿‡æ‹Ÿåˆäº†èƒ½é€šè¿‡å¢åŠ  Epoch è§£å†³å—ï¼Ÿâ€ å¾ˆå¤šäººå°±ä¼šå¡å£³ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»å‡ ä½•ç›´è§‚åˆ°æ•°å­¦æœ¬è´¨ï¼Œå†åˆ°å·¥ä¸šç•Œå®æˆ˜ï¼Œå½»åº•æŠŠâ€œæŠ—è¿‡æ‹Ÿåˆâ€è¿™å¥—ç»„åˆæ‹³è®²æ¸…æ¥šã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ­£åˆ™åŒ–ï¼Ÿ</h3>
<p>åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä¸€ä¸ªæ ¸å¿ƒçŸ›ç›¾ï¼š<strong>æˆ‘ä»¬å¸Œæœ›æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¥½ï¼ˆLossä½ï¼‰ï¼Œä½†åˆæ€•å®ƒâ€œè®°æ€§å¤ªå¥½â€ï¼ˆè¿‡æ‹Ÿåˆï¼‰ã€‚</strong></p>
<p>è¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰çš„æœ¬è´¨æ˜¯æ¨¡å‹å­¦ä¼šäº†â€œæ­»è®°ç¡¬èƒŒâ€ã€‚å®ƒè®°ä½äº†è®­ç»ƒæ•°æ®ä¸­çš„å™ªå£°å’Œå¶ç„¶ç‰¹å¾ï¼Œå¯¼è‡´åœ¨é¢å¯¹ä»æœªè§è¿‡çš„æµ‹è¯•é›†æ—¶è¡¨ç°ç³Ÿç³•ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æŸå¤±å‡½æ•°ä¸­å¼•å…¥äº†æ­£åˆ™é¡¹ï¼ˆPenaltyï¼‰ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><mo>=</mo><mi>L</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>+</mo><mi>Î»</mi><mo>â‹…</mo><mi>P</mi><mi>e</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>t</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">Target = Loss + \lambda \cdot Penalty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">L</span><span class="mord mathnormal">oss</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">e</span><span class="mord mathnormal">na</span><span class="mord mathnormal">lt</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span></p>
<p>è¿™é‡Œçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span></span></span></span></span> æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œç”¨æ¥æ§åˆ¶æƒ©ç½šçš„åŠ›åº¦ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ L1 vs L2ï¼šå‡ ä½•ä¸æ•°å­¦çš„åŒé‡é™ç»´æ‰“å‡»</h3>
<p>è¿™æ˜¯æ­£åˆ™åŒ–æœ€ç»å…¸çš„åŒå­æ˜Ÿï¼š<strong>Lasso (L1)</strong> å’Œ <strong>Ridge (L2)</strong> ã€‚</p>
<h4 data-id="heading-3">1. å‡ ä½•ç›´è§‚ï¼šåœ†ä¸è±å½¢çš„ç¢°æ’</h4>
<p>æˆ‘ä»¬åœ¨äºŒç»´å¹³é¢ä¸Šè§‚å¯Ÿï¼ˆå‡è®¾åªæœ‰ä¸¤ä¸ªå‚æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>w</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">w_1, w_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ï¼‰ï¼š</p>
<ul>
<li><strong>L2 æ­£åˆ™åŒ– (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>w</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>w</mi><mn>2</mn><mn>2</mn></msubsup><mo>â‰¤</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">w_1^2 + w_2^2 \le C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span>)</strong> ï¼šçº¦æŸåŒºåŸŸæ˜¯ä¸€ä¸ª<strong>åœ†</strong>ã€‚</li>
<li><strong>L1 æ­£åˆ™åŒ– (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>w</mi><mn>1</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>w</mi><mn>2</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>â‰¤</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">|w_1| + |w_2| \le C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span>)</strong> ï¼šçº¦æŸåŒºåŸŸæ˜¯ä¸€ä¸ª<strong>è±å½¢</strong>ï¼ˆæ—‹è½¬45åº¦çš„æ­£æ–¹å½¢ï¼‰ã€‚</li>
</ul>
<p>æ¨¡å‹è®­ç»ƒçš„è¿‡ç¨‹ï¼Œå°±æ˜¯æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿ï¼ˆç»¿åœˆï¼‰ä¸æ–­è†¨èƒ€ï¼Œå»æ¥è§¦çº¦æŸåŒºåŸŸï¼ˆé»„è‰²å›¾å½¢ï¼‰çš„è¿‡ç¨‹ã€‚</p>
<ul>
<li><strong>L2çš„åœ†</strong>é€šå¸¸åœ¨åœ†å¼§è¾¹ç¼˜è¢«åˆ‡åˆ°ï¼Œæ¥è§¦ç‚¹å¾ˆå°‘è½åœ¨åæ ‡è½´ä¸Šï¼Œæ‰€ä»¥å‚æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> åªæ˜¯<strong>å˜å°</strong>ï¼Œä½†ä¸ä¼šä¸º 0ã€‚</li>
<li><strong>L1çš„è±å½¢</strong>æœ‰å°–é”çš„<strong>è§’ï¼ˆCornerï¼‰</strong> ï¼Œä¸”è¿™äº›è§’éƒ½åœ¨åæ ‡è½´ä¸Šã€‚ç­‰é«˜çº¿æå¤§æ¦‚ç‡ä¼šå…ˆç¢°åˆ°è¿™äº›å°–è§’ï¼Œç›´æ¥å¯¼è‡´æŸä¸ª <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> å˜ä¸º 0ã€‚</li>
</ul>
<h4 data-id="heading-4">2. æ•°å­¦æœ¬è´¨ï¼šæ’å®šåŠ› vs è¡°å‡åŠ›</h4>
<p>å¦‚æœé¢è¯•å®˜è®©ä½ å†™å‡ºæ¢¯åº¦ä¸‹é™çš„æ›´æ–°å…¬å¼ï¼Œè¿™æ‰æ˜¯æ‹‰å¼€å·®è·çš„åœ°æ–¹ã€‚</p>
<ul>
<li>
<p>L2 çš„æƒé‡è¡°å‡ (Weight Decay)ï¼š</p>
<p>åœ¨æ¢¯åº¦ä¸‹é™ä¸­ï¼ŒL2 çš„æ›´æ–°å…¬å¼éšå«äº†ä¸€ä¸ªç³»æ•°ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î¸</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>Î¸</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mfrac><mi>Î»</mi><mi>n</mi></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>Î±</mi><mo>â‹…</mo><mtext>Gradient</mtext></mrow><annotation encoding="application/x-tex">\theta_{new} = \theta_{old}(1 - \alpha\frac{\lambda}{n}) - \alpha \cdot \text{Gradient}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Î»</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord text"><span class="mord">Gradient</span></span></span></span></span></span></p>
<p>è¿™é‡Œçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mfrac><mi>Î»</mi><mi>n</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1 - \alpha\frac{\lambda}{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Î»</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose">)</span></span></span></span></span> é€šå¸¸æ˜¯ä¸€ä¸ªåƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.99</mn></mrow><annotation encoding="application/x-tex">0.99</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.99</span></span></span></span></span> è¿™æ ·çš„æ•°ã€‚è¿™æ„å‘³ç€ï¼šæ¯æ¬¡æ›´æ–°å‰ï¼ŒL2 éƒ½ä¼šæŒ‰æ¯”ä¾‹â€œç¼©å°â€æ—§æƒé‡ã€‚è¿™ç§åŠ›æ˜¯çº¿æ€§çš„ï¼Œè¶Šæ¥è¿‘ 0ï¼Œæ‹‰åŠ›è¶Šå°ï¼Œæ‰€ä»¥å¾ˆéš¾å‡åˆ° 0ã€‚</p>
</li>
<li>
<p>L1 çš„æ’å®šæ¨åŠ›ï¼š</p>
<p>L1 çš„å¯¼æ•°åŒ…å«ç¬¦å·å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sgn</mtext><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{sgn}(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">sgn</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span></span>ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î¸</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>Î¸</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>âˆ’</mo><mfrac><mrow><mi>Î±</mi><mi>Î»</mi><mtext>sgn</mtext><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><mi>n</mi></mfrac><mo>âˆ’</mo><mi>Î±</mi><mo>â‹…</mo><mtext>Gradient</mtext></mrow><annotation encoding="application/x-tex">\theta_{new} = \theta_{old} - \frac{\alpha\lambda \text{sgn}(w)}{n} - \alpha \cdot \text{Gradient}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span><span class="mord mathnormal mtight">Î»</span><span class="mord text mtight"><span class="mord mtight">sgn</span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord text"><span class="mord">Gradient</span></span></span></span></span></span></p>
<p>è¿™æ„å‘³ç€ï¼šæ— è®º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> æ˜¯å¤§æ˜¯å°ï¼ŒL1 éƒ½æ–½åŠ ä¸€ä¸ªæ’å®šçš„åŠ›æŠŠå®ƒæ¨å‘ 0ã€‚å¦‚æœæ¨è¿‡äº†å¤´ï¼Œç¬¦å·å‡½æ•°åå‘ï¼Œç¬é—´é”æ­»åœ¨ 0ã€‚è¿™å°±æ˜¯ L1 å…·å¤‡ç‰¹å¾é€‰æ‹©èƒ½åŠ›çš„æ•°å­¦åŸç†ã€‚</p>
</li>
</ul>

























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>L1 æ­£åˆ™åŒ–</strong></th><th><strong>L2 æ­£åˆ™åŒ–</strong></th></tr></thead><tbody><tr><td><strong>è§£çš„æ€§è´¨</strong></td><td>ç¨€ç–è§£ (Sparse)</td><td>ç¨ å¯†è§£ (Dense)</td></tr><tr><td><strong>æ ¸å¿ƒä½œç”¨</strong></td><td>ç‰¹å¾é€‰æ‹©ï¼Œå»é™¤æ— ç”¨å™ªå£°</td><td>æƒé‡å¹³æ»‘ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>é«˜ç»´ç¨€ç–ç‰¹å¾ (å¦‚NLP)</td><td>é€šç”¨åœºæ™¯ï¼Œä¿æŒæ¨¡å‹é²æ£’æ€§</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€ æ·±åº¦å­¦ä¹ æ—¶ä»£çš„â€œæ ¸æ­¦å™¨â€ï¼šDropout</h3>
<p>åˆ°äº†ç¥ç»ç½‘ç»œæ—¶ä»£ï¼Œæ¨¡å‹å‚æ•°åŠ¨è¾„ä¸Šäº¿ï¼Œæˆ‘ä»¬éœ€è¦æ›´æš´åŠ›çš„æ‰‹æ®µâ€”â€”<strong>Dropout</strong>ã€‚</p>
<h4 data-id="heading-6">ä»€ä¹ˆæ˜¯ Dropoutï¼Ÿ</h4>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ç…§ä¸€å®šæ¦‚ç‡ï¼ˆæ¯”å¦‚ 50%ï¼‰<strong>éšæœºâ€œåˆ å·â€</strong> ï¼Œè®©ç¥ç»å…ƒæš‚æ—¶åœæ­¢å·¥ä½œï¼ˆè¾“å‡ºç½®ä¸º 0ï¼‰ã€‚</p>
<h4 data-id="heading-7">ä¸ºä»€ä¹ˆå®ƒæœ‰æ•ˆï¼Ÿ</h4>
<ol>
<li><strong>æ‹’ç»â€œæŠ±å¤§è…¿â€ï¼š</strong> æ¨¡å‹ä¸èƒ½ä¾èµ–æŸä¸ªç‰¹å®šçš„å¼ºåŠ›ç¥ç»å…ƒï¼Œå› ä¸ºè¯¥ç¥ç»å…ƒéšæ—¶å¯èƒ½ä¸‹çº¿ã€‚è¿™å¼ºè¿«æ‰€æœ‰ç¥ç»å…ƒéƒ½å­¦ä¼šç‹¬ç«‹æå–ç‰¹å¾ï¼Œå¢å¼ºäº†é²æ£’æ€§ã€‚</li>
<li><strong>ä½é…ç‰ˆé›†æˆå­¦ä¹ ï¼š</strong> æ¯æ¬¡ Dropout åçš„ç½‘ç»œç»“æ„éƒ½ä¸åŒã€‚è®­ç»ƒä¸€ä¸ª Dropout ç½‘ç»œï¼Œç›¸å½“äºè®­ç»ƒäº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"/><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> ä¸ªå­ç½‘ç»œï¼Œæœ€åé¢„æµ‹æ—¶å–å¹³å‡ï¼Œè¿™å¤©ç„¶å°±æ˜¯ä¸€ç§ Ensemble Learningã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-8">å››ã€ å·¥ä¸šç•Œå®æˆ˜ï¼šæ¨èç³»ç»Ÿä¸­çš„â€œOne-Epochâ€æ‚–è®º</h3>
<p>è¿™æ˜¯ä¹¦æœ¬ä¸Šå­¦ä¸åˆ°çš„å®æˆ˜ç»éªŒã€‚</p>
<p><strong>é—®é¢˜ï¼š</strong> å¦‚æœä½ çš„æ¨èæ¨¡å‹ï¼ˆå¦‚ DeepFMï¼‰å‡ºç°äº†æ¬ æ‹Ÿåˆï¼Œèƒ½å¦åƒ CV/NLP é‚£æ ·ï¼Œé€šè¿‡å¢åŠ è®­ç»ƒè½®æ•°ï¼ˆEpochsï¼‰æ¥è§£å†³ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆï¼šç»å¯¹ä¸è¡Œã€‚æ¨èç®—æ³•çš„æ•°æ®é€šå¸¸åªèƒ½è®­ç»ƒä¸€æ¬¡ï¼ˆOne-Epochï¼‰ã€‚</strong></p>
<h4 data-id="heading-9">æ·±åº¦å‰–æ</h4>
<p>æ¨èç³»ç»Ÿä¸»è¦ä¾èµ– <strong>ID ç±»ç‰¹å¾</strong>ï¼ˆUser ID, Item IDï¼‰ã€‚è¿™äº›ç‰¹å¾æ˜¯æåº¦ç¨€ç–çš„ã€‚</p>
<ol>
<li><strong>è¿‡æ‹Ÿåˆé£é™©æé«˜ï¼š</strong> ID ç‰¹å¾å¤ªå…·ä½“äº†ã€‚å¦‚æœåŒä¸€ä¸ª User ID å¯¹åº”çš„æ ·æœ¬è¢«æ¨¡å‹çœ‹äº†ä¸¤éï¼Œæ¨¡å‹ä¼šè¿…é€Ÿâ€œæ­»è®°ç¡¬èƒŒâ€ä½è¿™ä¸ªç”¨æˆ·çš„å†å²è¡Œä¸ºï¼Œè€Œä¸æ˜¯å­¦ä¹ ä»–çš„å…´è¶£åå¥½ã€‚è¿™ä¼šå¯¼è‡´ä¸¥é‡çš„è¿‡æ‹Ÿåˆã€‚</li>
<li><strong>æ•°æ®åˆ†å¸ƒæ¼‚ç§» (Distribution Shift)ï¼š</strong> ç”¨æˆ·çš„å…´è¶£æ˜¯æµåŠ¨çš„ã€‚æ˜¨å¤©çš„æ•°æ®å’Œä»Šå¤©çš„æ•°æ®åˆ†å¸ƒå¯èƒ½å®Œå…¨ä¸åŒã€‚æ¨èç³»ç»Ÿè¿½æ±‚çš„æ˜¯ Online Learningï¼Œæ•°æ®åƒæµæ°´ä¸€æ ·è¿‡ä¸€éå³å¯ï¼Œæ¨¡å‹è¦æ°¸è¿œè¿½é€æœ€æ–°çš„æ•°æ®åˆ†å¸ƒï¼Œè€Œä¸æ˜¯åœ¨æ—§æ•°æ®ä¸Šåå¤çº ç¼ ã€‚</li>
</ol>
<p>æ­£ç¡®çš„æ”¹è¿›æ–¹å‘ï¼š</p>
<p>æ­£å¦‚èµ„æ–™ä¸­æ‰€è¿°ï¼Œå¦‚æœä½ åœ¨æ¨èç³»ç»Ÿä¸­é‡åˆ°æ€§èƒ½ç“¶é¢ˆï¼Œä¸è¦åŠ  Epochï¼Œè€Œåº”è¯¥ï¼š</p>
<ul>
<li><strong>æ·»åŠ æ–°ç‰¹å¾ï¼š</strong> ç»™æ¨¡å‹æ›´å¤šä¿¡æ¯é‡ã€‚</li>
<li><strong>å¢åŠ ç½‘ç»œå¤æ‚åº¦ï¼š</strong> æå‡æ¨¡å‹çš„å®¹é‡ã€‚</li>
<li><strong>è°ƒå‚ï¼š</strong> å‡å°æ­£åˆ™åŒ–ç³»æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span></span></span></span></span>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">äº”ã€ æ€»ç»“</h3>
<ul>
<li><strong>L1 æ˜¯å± é¾™åˆ€</strong>ï¼Œç æ‰æ— ç”¨ç‰¹å¾ï¼Œç•™ä¸‹ç¨€ç–éª¨æ¶ã€‚</li>
<li><strong>L2 æ˜¯ç´§ç®å’’</strong>ï¼Œé™åˆ¶æƒé‡è†¨èƒ€ï¼Œä¿æŒæ¨¡å‹ç¨³é‡ã€‚</li>
<li><strong>Dropout æ˜¯åˆ†èº«æœ¯</strong>ï¼Œé€šè¿‡éšæœºå¤±æ´»å®ç°é›†æˆæ•ˆæœã€‚</li>
<li><strong>æ¨èç³»ç»Ÿæ˜¯ç‰¹ç§å…µ</strong>ï¼Œé¢å¯¹ç¨€ç– ID ç‰¹å¾ï¼Œåˆ‡è®° <strong>One-Epoch</strong> åŸåˆ™ï¼Œä¸è¦è´ªæ¯ã€‚</li>
</ul>
<p>æŒæ¡äº†è¿™äº›ï¼Œä½ ä¸ä»…èƒ½åº”å¯¹é¢è¯•ä¸­çš„è¿ç¯è¿½é—®ï¼Œæ›´èƒ½ç†è§£å·¥ä¸šç•Œæ¨¡å‹è®¾è®¡çš„åº•å±‚é€»è¾‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenAI APIè°ƒç”¨å®è·µæ–‡æœ¬åˆ†ç±»å’Œå†…å®¹ç”Ÿæˆ]]></title>    <link>https://juejin.cn/post/7593356633637158946</link>    <guid>https://juejin.cn/post/7593356633637158946</guid>    <pubDate>2026-01-11T09:27:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593356633637158946" data-draft-id="7593573617646829620" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenAI APIè°ƒç”¨å®è·µæ–‡æœ¬åˆ†ç±»å’Œå†…å®¹ç”Ÿæˆ"/> <meta itemprop="keywords" content="OpenAI,Agent"/> <meta itemprop="datePublished" content="2026-01-11T09:27:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰å¸½lufei"/> <meta itemprop="url" content="https://juejin.cn/user/501033035632093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenAI APIè°ƒç”¨å®è·µæ–‡æœ¬åˆ†ç±»å’Œå†…å®¹ç”Ÿæˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/501033035632093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰å¸½lufei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:27:30.000Z" title="Sun Jan 11 2026 09:27:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>äº†è§£äº†OpenAI API åŸºç¡€è°ƒç”¨å®è·µåï¼Œæ¥ä¸‹æ¥å®ç°æ–‡æœ¬åˆ†ç±»å’Œå†…å®¹ç”Ÿæˆçš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-1">æ–‡æœ¬åˆ†ç±»</h2>
<p>æ–‡æœ¬åˆ†ç±»æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­çš„ä¸€é¡¹åŸºç¡€ä»»åŠ¡ï¼ŒæŒ‡çš„æ˜¯å°†ä¸€æ®µæ–‡æœ¬è‡ªåŠ¨åˆ†é…åˆ°é¢„å®šä¹‰çš„ç±»åˆ«æˆ–æ ‡ç­¾ä¸­çš„è¿‡ç¨‹ï¼Œä¾‹å¦‚æä¾›ä¸€æ®µæˆ–å‡ æ®µæ–‡æœ¬ï¼Œæ¨¡å‹è¿›è¡Œè¿›è¡Œåˆ†ç±»</p>
<p>ä¸‹é¢æä¾›äº†ä¸¤ä¸ªæ–‡æœ¬ï¼Œä¸€ä¸ªæ˜¯ç§‘æŠ€ç±»çš„ï¼Œä¸€ä¸ªæ”¿æ²»æ–°é—»ï¼Œè®©AIè¿›è¡ŒåŸºç¡€çš„æ–‡æœ¬åˆ†ç±»</p>
<p>è¿˜æ˜¯åŸæ¥çš„æ–‡ä»¶ï¼Œç”¨ python test_openai.py è¿è¡Œ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os 
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv 
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI 

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡ </span>
load_dotenv() 

<span class="hljs-comment"># åˆå§‹åŒ–å®¢æˆ·ç«¯ </span>
client = OpenAI(api_key=os.getenv(<span class="hljs-string">"OPENAI_API_KEY"</span>)) 


<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
client = OpenAI()


response = client.chat.completions.create(
    model=<span class="hljs-string">"gpt-5-nano"</span>,
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ†ç±»åŠ©æ‰‹ã€‚è¯·å°†ä»¥ä¸‹æ–‡æœ¬åˆ†ç±»ä¸ºï¼šç§‘æŠ€ã€ä½“è‚²ã€å¨±ä¹æˆ–æ”¿æ²»ã€‚"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"SpaceX æˆåŠŸå‘å°„äº†æ˜Ÿèˆ°ï¼Œè¿™æ˜¯äººç±»èˆªå¤©å²ä¸Šçš„é‡è¦é‡Œç¨‹ç¢‘ã€‚"</span>}
    ]
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†ç±»ç»“æœ: <span class="hljs-subst">{response.choices[<span class="hljs-number">0</span>].message.content}</span>"</span>)

response2 = client.chat.completions.create(
    model=<span class="hljs-string">"gpt-5-nano"</span>,
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ†ç±»åŠ©æ‰‹ã€‚è¯·å°†ä»¥ä¸‹æ–‡æœ¬åˆ†ç±»ä¸ºï¼šç§‘æŠ€ã€ä½“è‚²ã€å¨±ä¹æˆ–æ”¿æ²»ã€‚"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ç‰¹æœ—æ™®ä¸‹ä»¤ç‰¹ç§éƒ¨é˜ŸæŠŠå§”å†…ç‘æ‹‰æ€»ç»Ÿé©¬æœç½—ç»™æŠ“åˆ°äº†ç¾å›½"</span>}
    ]
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†ç±»ç»“æœ: <span class="hljs-subst">{response2.choices[<span class="hljs-number">0</span>].message.content}</span>"</span>)
</code></pre>
<p>è¿è¡Œç»“æœæ˜¯ ç§‘æŠ€ å’Œ æ”¿æ²»ï¼Œæ²¡å•¥æ¯›ç—…</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41ff74b9ca084813b725cde79739929e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=Cabu3uWJsbMCPVJ%2B3drum9QW55M%3D" alt="" loading="lazy"/></p>
<p>ä¸Šé¢æ˜¯ç®€å•æ–‡æœ¬ï¼Œç»™å®ƒä¸ªç¨å¾®é•¿ç‚¹çš„æ–‡æœ¬çœ‹çœ‹ï¼Œå¹¶ä¸”ä¸æä¾›ç±»åˆ«ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ†å‡ºä¸ªä¸€äºŒä¸‰</p>
<p>è¿™æ˜¯æ–‡æœ¬å†…å®¹ï¼Œå°†ä¸‰æ®µæ–°é—»åˆèµ·æ¥</p>
<blockquote>
<p>å°ç±³ä¸­å›½åŒºå‰å¸‚åœºéƒ¨æ€»ç»ç†ç‹è…¾æ–°å…¬å¸â€œä»Šæ—¥å®œä¼‘â€å·²å¯åŠ¨å…¬å¼€æ‹›è˜ï¼Œå¼•å‘å…³æ³¨ã€‚ç§Ÿå®¢æ¯å¹´äº¤ç§Ÿæ—¶é—¹ç€è¦å‡ç§Ÿï¼šæ—å¥³å£«å‘Šè¯‰è®°è€…ï¼Œå¥¹çš„æˆ¿å­ä½äºä¸ŠåŸåŒºï¼Œâ€œå½“æ—¶ç§Ÿå®¢è¯´è‡ªå·±ç”Ÿæ„ä¸å¥½ï¼Œå¦ˆå¦ˆç”Ÿç—…ã€‚â€13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡ç³»å¿ƒæºæ€§ç–¾ç—…ï¼š2026å¹´1æœˆ11æ—¥ï¼Œæ–°è”¡å¿è”åˆè°ƒæŸ¥ç»„å°±â€œ13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡â€äº‹ä»¶å‘å¸ƒæœ€æ–°é€šæŠ¥</p>
</blockquote>
<pre><code class="hljs language-python" lang="python">
response3 = client.chat.completions.create(
    model=<span class="hljs-string">"gpt-5-nano"</span>,
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ†ç±»åŠ©æ‰‹ã€‚è¯·å°†ä»¥ä¸‹æ–‡æœ¬åˆ†ç±»"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"å°ç±³ä¸­å›½åŒºå‰å¸‚åœºéƒ¨æ€»ç»ç†ç‹è…¾æ–°å…¬å¸â€œä»Šæ—¥å®œä¼‘â€å·²å¯åŠ¨å…¬å¼€æ‹›è˜ï¼Œå¼•å‘å…³æ³¨ã€‚ç§Ÿå®¢æ¯å¹´äº¤ç§Ÿæ—¶é—¹ç€è¦å‡ç§Ÿï¼šæ—å¥³å£«å‘Šè¯‰è®°è€…ï¼Œå¥¹çš„æˆ¿å­ä½äºä¸ŠåŸåŒºï¼Œâ€œå½“æ—¶ç§Ÿå®¢è¯´è‡ªå·±ç”Ÿæ„ä¸å¥½ï¼Œå¦ˆå¦ˆç”Ÿç—…ã€‚â€13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡ç³»å¿ƒæºæ€§ç–¾ç—…ï¼š2026å¹´1æœˆ11æ—¥ï¼Œæ–°è”¡å¿è”åˆè°ƒæŸ¥ç»„å°±â€œ13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡â€äº‹ä»¶å‘å¸ƒæœ€æ–°é€šæŠ¥"</span>}
    ]
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†ç±»ç»“æœ: <span class="hljs-subst">{response3.choices[<span class="hljs-number">0</span>].message.content}</span>"</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c879d2b8354445968aa49ea19291625c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=BxR%2BCC0FSR15oh9iyjOO7qa0gUM%3D" alt="" loading="lazy"/></p>
<p>å¾ˆå¥‡æ€ªçš„æƒ…å†µï¼Œæ€ä¹ˆä¸‰æ®µå†…å®¹åˆ†æˆäº†å››ä¸ªï¼Œéš¾é“æ˜¯æ•°æ®æ ¼å¼é—®é¢˜ï¼ŸæŠŠæ•°æ®æ ¼å¼æ”¹ä¸€ä¸‹</p>
<blockquote>
<p>å°ç±³ä¸­å›½åŒºå‰å¸‚åœºéƒ¨æ€»ç»ç†ç‹è…¾æ–°å…¬å¸'ä»Šæ—¥å®œä¼‘'å·²å¯åŠ¨å…¬å¼€æ‹›è˜ï¼Œå¼•å‘å…³æ³¨ã€‚ç§Ÿå®¢æ¯å¹´äº¤ç§Ÿæ—¶é—¹ç€è¦å‡ç§Ÿï¼šæ—å¥³å£«å‘Šè¯‰è®°è€…ï¼Œå¥¹çš„æˆ¿å­ä½äºä¸ŠåŸåŒºï¼Œ'å½“æ—¶ç§Ÿå®¢è¯´è‡ªå·±ç”Ÿæ„ä¸å¥½ï¼Œå¦ˆå¦ˆç”Ÿç—…'ã€‚13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡ç³»å¿ƒæºæ€§ç–¾ç—…ï¼š2026å¹´1æœˆ11æ—¥ï¼Œæ–°è”¡å¿è”åˆè°ƒæŸ¥ç»„å°±'13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡'äº‹ä»¶å‘å¸ƒæœ€æ–°é€šæŠ¥</p>
</blockquote>
<p>æŠŠæ–‡æœ¬å†…å®¹é‡Œé¢çš„åŒå¼•å·çš„åœ°æ–¹æ”¹äº†ä¸€ä¸‹ï¼Œæ”¹æˆå•å¼•å·ï¼Œç„¶åå†æ¬¡è¿è¡Œ</p>
<pre><code class="hljs language-python" lang="python">response3 = client.chat.completions.create(
    model=<span class="hljs-string">"gpt-5-nano"</span>,
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ†ç±»åŠ©æ‰‹ã€‚è¯·å°†ä»¥ä¸‹æ–‡æœ¬åˆ†ç±»"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"å°ç±³ä¸­å›½åŒºå‰å¸‚åœºéƒ¨æ€»ç»ç†ç‹è…¾æ–°å…¬å¸'ä»Šæ—¥å®œä¼‘'å·²å¯åŠ¨å…¬å¼€æ‹›è˜ï¼Œå¼•å‘å…³æ³¨ã€‚ç§Ÿå®¢æ¯å¹´äº¤ç§Ÿæ—¶é—¹ç€è¦å‡ç§Ÿï¼šæ—å¥³å£«å‘Šè¯‰è®°è€…ï¼Œå¥¹çš„æˆ¿å­ä½äºä¸ŠåŸåŒºï¼Œ'å½“æ—¶ç§Ÿå®¢è¯´è‡ªå·±ç”Ÿæ„ä¸å¥½ï¼Œå¦ˆå¦ˆç”Ÿç—…'ã€‚13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡ç³»å¿ƒæºæ€§ç–¾ç—…ï¼š2026å¹´1æœˆ11æ—¥ï¼Œæ–°è”¡å¿è”åˆè°ƒæŸ¥ç»„å°±'13å²ç”·ç”Ÿæ ¡å†…æ­»äº¡'äº‹ä»¶å‘å¸ƒæœ€æ–°é€šæŠ¥"</span>}
    ] 
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†ç±»ç»“æœ: <span class="hljs-subst">{response3.choices[<span class="hljs-number">0</span>].message.content}</span>"</span>)
</code></pre>
<p>è¿™æ¬¡å°±æ­£å¸¸äº†ï¼Œåˆ†æˆäº†ä¸‰ç±»ï¼Œå¹¶ä¸”å­æ ‡é¢˜æè¿°ç›¸å¯¹å‡†ç¡®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61ee95a873f648c6888b2e91bed98bc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=1VLSFJRGTJgCZPRNQQFeXdEz3E0%3D" alt="" loading="lazy"/></p>
<p>ç”±æ­¤å¯è§æ•°æ®çš„è´¨é‡å¯¹æ¨¡å‹çš„å½±å“æ˜¯å¾ˆå¤§çš„ï¼Œä¸€ä¸ªæ“ä½œä¸å¥½å°±å˜æˆæ™ºéšœäº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da9123046da54c419cbd633ee797e3e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=0v4YIFaalZCHrVlmqjELMzSgdAM%3D" alt="" loading="lazy"/></p>
<p>å¥½äº†ï¼Œæ–‡æœ¬åˆ†ç±»çš„åŠŸèƒ½æ•ˆæœå¤§æ¦‚äº†è§£äº†ï¼Œæ¥ä¸‹æ¥çœ‹ä¸‹å†…å®¹ç”Ÿæˆ</p>
<h2 data-id="heading-2">å†…å®¹ç”Ÿæˆ</h2>
<p>å†…å®¹ç”Ÿæˆï¼ˆContent Generationï¼‰ä¹Ÿæ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­çš„ä¸€é¡¹é‡è¦ä»»åŠ¡ï¼ŒæŒ‡çš„æ˜¯åˆ©ç”¨AIæ¨¡å‹è‡ªåŠ¨åˆ›å»ºå„ç§å½¢å¼çš„æ–‡æœ¬å†…å®¹çš„è¿‡ç¨‹ã€‚ä¸æ–‡æœ¬åˆ†ç±»ä¸åŒï¼Œå†…å®¹ç”Ÿæˆæ˜¯ä¸€ä¸ªç”Ÿæˆå¼ä»»åŠ¡ï¼Œæ¨¡å‹éœ€è¦æ ¹æ®ç»™å®šçš„è¾“å…¥ï¼ˆå¦‚æç¤ºã€æŒ‡ä»¤æˆ–ä¸Šä¸‹æ–‡ï¼‰åˆ›å»ºå…¨æ–°çš„æ–‡æœ¬å†…å®¹</p>
<p>å†…å®¹ç”Ÿæˆå¯¹äºæˆ‘ä»¬æ—¥å¸¸æ¥è®²å¯å°±å¤ªå¸¸è§äº†ï¼Œä¾‹å¦‚ç°åœ¨çš„å¼€å‘/äº§å“æ—¥å¸¸è®©AIå†™ä»£ç ï¼Œå˜´éä¸€æ®µæ–‡å­—æˆ–éœ€æ±‚ï¼Œæˆ–è€…è¾“å…¥ä¸€æ®µéœ€æ±‚ï¼Œè®©AIå†™ä»£ç ï¼Œæˆ–è€…é—®ä¸€äº›AIç›¸å…³çš„é—®é¢˜ï¼Œè®©AIç”Ÿæˆå¯¹åº”çš„ç­”æ¡ˆç­‰</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢ç»§ç»­è°ƒç”¨ gpt-5-nano æ¨¡å‹ï¼Œè®©å®ƒç»™ 'è‰å¸½lufei' å†™ä¸€æ®µè‡ªæˆ‘ä»‹ç»å’Œå®£ä¼ æ–‡æ¡ˆ</p>
<pre><code class="hljs language-python" lang="python">response_gen = client.chat.completions.create(
    model=<span class="hljs-string">"gpt-5-nano"</span>,
    messages=[
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªåˆ›æ„ä¸“ä¸šçš„æ–‡æ¡ˆæ’°å†™ä¸“å®¶"</span>},
        {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"è¯·ä¸º'è‰å¸½lufei'è¿™ä¸ªç ”ç©¶AI Agentçš„å…¬ä¼—å·åšä¸»ï¼Œå†™ä¸€æ®µå¸å¼•äººçš„è‡ªæˆ‘ä»‹ç»æ–‡æ¡ˆå’Œå®£ä¼ æ–‡æ¡ˆã€‚"</span>}
    ]
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆç»“æœ: <span class="hljs-subst">{response_gen.choices[<span class="hljs-number">0</span>].message.content}</span>"</span>)
</code></pre>
<p>å•çº¯æ–‡æœ¬ç›¸å…³è°ƒç”¨çš„è¯ï¼Œé™¤äº†æç¤ºå†…å®¹ä¸ä¸€æ ·ï¼Œå‰©ä¸‹çš„ä»£ç ä¸€æ¯›ä¸€æ ·ï¼ŒAPIè°ƒç”¨æ˜¯çœŸç®€å•ï¼Œä¸€è¡Œä»£ç åŠ ä¸ªå‚æ•°å°±è¡Œäº†ï¼Œä¸å¾—ä¸æ„Ÿå¹ç°åœ¨çš„AIæ¨¡å‹èƒ½åŠ›æ˜¯çœŸå¼ºï¼Œçœ‹ä¸‹è¾“å‡ºç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31d3ae23e5bd48ecaf81693211085572~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=AsiNLlU1Lq2PMIN9q70%2BNV%2Fw37U%3D" alt="" loading="lazy"/></p>
<p>ç®€å•æç¤ºè¯çš„è¯ï¼Œç”Ÿæˆå‡ºæ¥å°±ä»¿ä½›æ˜¯æ¨¡æ¿ç›´æ¥è¾“å‡ºçš„ä¸€æ ·ï¼Œé‚£ç§æµ“æµ“çš„ä¸“ä¸šæ„Ÿï¼Œæµ“æµ“çš„AIå‘³å„¿ï¼Œå¯¹äºå®é™…çš„æˆ‘æ¥è®²ï¼Œç”Ÿæˆç»“æœæ¯›ç”¨æ²¡æœ‰</p>
<p>è¦æ˜¯æˆ‘è‡ªå·±å†™ä»‹ç»è‡ªå·±çš„è¯ï¼Œæˆ‘å³å…´å‘æŒ¥ä¸€ä¸‹</p>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‰å¸½lufeiï¼Œä¸€ä¸ªæœ‰å‡ å¹´æ¬ç –ç»éªŒçš„å¼€å‘åŠæ¯›ï¼Œç°åœ¨çš„ä¸»è¦å…³æ³¨æ–¹å‘å°±æ˜¯Agentç›¸å…³åº”ç”¨å’Œå¼€å‘ç›¸å…³çš„å†…å®¹ï¼Œå¹³æ—¶ä¸»è¦è¿˜æ˜¯ç”¨AIæ¥æ¬ç –ï¼ŒæŠ½ç©ºçœ‹ä¸€äº›å‰æ²¿çš„AIç›¸å…³çš„æŠ€æœ¯ï¼Œä¹Ÿè¿›è¡Œä¸€äº›ç›¸å…³æŠ€æœ¯çš„å®è·µå’Œå­¦ä¹ ï¼Œä¹‹å‰çš„ä¸ªäººç­¾åæ˜¯â€œç”¨è®¡ç®—æœºåˆ›é€ ç¾å’Œè‰ºæœ¯ï¼Œç”¨AIæ”¹å˜ä¸–ç•Œâ€ï¼Œç°åœ¨çš„è®¡åˆ’æ˜¯ï¼Œç†Ÿç»ƒçš„ç”¨å¥½AIï¼ŒåŠæ—¶æ›´è¿›AIç›¸å…³çš„åº”ç”¨å’Œç›¸å…³çš„æŠ€æœ¯ï¼Œè‡ªå·±ä¸è¢«å…¬å¸ç¬¬ä¸€æ³¢è£æ‰ï¼Œæœ‰å£é¥­åƒå°±è¡Œ</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75741896650442ffbf5b7a0c31cc1f65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728641&amp;x-signature=RHnUaSS73PtMZMbr9QoP6TZnseI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å°ç»“</h2>
<p>ç›®å‰å¤åˆ¶æ”¹çš„pythonä»£ç å°±é‚£ä¹ˆä¸¤è¡Œï¼Œè°ƒç”¨èµ·æ¥å¾ˆç®€å•ï¼Œé€šè¿‡è‡ªå·±å®é™…è°ƒç”¨ï¼Œèƒ½ç†Ÿæ‚‰ä¸€ä¸‹ç°åœ¨APIçš„è°ƒç”¨æ–¹å¼å’Œå‚æ•°æ€ä¹ˆç”¨ï¼Œä»¥åŠå®é™…é‡åˆ°çš„æ•°æ®æ ¼å¼å°é—®é¢˜å¯¹æ¨¡å‹çš„ç†è§£ï¼Œæ¥ä¸‹æ¥å°†ç»§ç»­å­¦ä¹ Prompt Engineeringç›¸å…³æŠ€å·§</p>
<blockquote>
<p>æ¬¢è¿ç•™è¨€äº¤æµï¼Œå¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œå¯ä»¥<code>ç‚¹ä¸ªèµ</code>æ”¯æŒä¸€ä¸‹</p>
<p>å…¬ä¼—å·ï¼šè‰å¸½lufei</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Skills vs MCPï¼šåŒºåˆ«ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593630465380106278</link>    <guid>https://juejin.cn/post/7593630465380106278</guid>    <pubDate>2026-01-11T09:29:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593630465380106278" data-draft-id="7593630465380089894" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Skills vs MCPï¼šåŒºåˆ«ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2026-01-11T09:29:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€æºå°èªæ˜"/> <meta itemprop="url" content="https://juejin.cn/user/4114839354741274"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Skills vs MCPï¼šåŒºåˆ«ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4114839354741274/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€æºå°èªæ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:29:23.000Z" title="Sun Jan 11 2026 09:29:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šä¸¤ä¸ªå·¥å…·ï¼Œå®Œå…¨ä¸åŒçš„å®šä½</h2>
<p>2025å¹´10æœˆå’Œ11æœˆï¼ŒAnthropicæ¥è¿å‘å¸ƒäº†<strong>Claude Skills</strong>å’Œ<strong>Model Context Protocol (MCP)</strong> ã€‚è¿™ä¸¤ä¸ªå·¥å…·éƒ½èƒ½æ‰©å±•Claudeçš„èƒ½åŠ›ï¼Œä½†å¾ˆå¤šäººæŠŠå®ƒä»¬å½“æˆ"ä¸€å›äº‹"ï¼Œè¿™å¯¼è‡´åœ¨é€‰æ‹©å’Œé…ç½®æ—¶èµ°äº†å¼¯è·¯ã€‚</p>
<p><strong>æ ¸å¿ƒåŒºåˆ«ä¸€å¥è¯æ¦‚æ‹¬</strong>ï¼šSkillsæ˜¯"å·¥ä½œæµè¯´æ˜ä¹¦"ï¼ŒMCPæ˜¯"å·¥å…·æ¥å£æ ‡å‡†"ã€‚</p>
<p>å¦‚æœä½ æƒ³è®©ClaudeæŒ‰ç…§å›ºå®šæµç¨‹åšäº‹ï¼ˆæ¯”å¦‚"æŒ‰ä»€ä¹ˆæ ¼å¼å†™ä»£ç å®¡æŸ¥æŠ¥å‘Š"ï¼‰ï¼Œç”¨<strong>Skills</strong>ã€‚</p>
<p>å¦‚æœä½ æƒ³è®©Claudeè®¿é—®å¤–éƒ¨æœåŠ¡ï¼ˆæ¯”å¦‚GitHubã€æ•°æ®åº“ã€æµè§ˆå™¨ï¼‰ï¼Œç”¨<strong>MCP</strong>ã€‚</p>
<p>å¦‚æœä½ éœ€è¦åŒæ—¶åšè¿™ä¸¤ä»¶äº‹ï¼Ÿ<strong>Skills + MCPååŒ</strong>æ‰æ˜¯ç»ˆææ–¹æ¡ˆã€‚</p>
<p>æœ¬æ–‡ä»æŠ€æœ¯åŸç†ã€å®æˆ˜é…ç½®ã€ä½¿ç”¨åœºæ™¯ä¸‰ä¸ªç»´åº¦ï¼Œå¸®ä½ å½»åº•ææ‡‚ä¸¤è€…çš„åŒºåˆ«ï¼Œå¹¶èƒ½æ ¹æ®ä»»åŠ¡ç±»å‹åšå‡ºæ­£ç¡®é€‰æ‹©ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šSkill vs MCPçš„æœ¬è´¨å·®å¼‚</h2>
<h3 data-id="heading-2">â§Claude Skillsï¼šæ‰“åŒ…çš„å·¥ä½œæµ</h3>
<p>Claude Skillæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>æ–‡ä»¶å¤¹</strong>ï¼ŒåŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºã€‚å½“Claudeè®¤ä¸ºæŸä¸ªSkillä¸å½“å‰ä»»åŠ¡ç›¸å…³æ—¶ï¼Œä¼šè‡ªåŠ¨åŠ è½½è¯¥Skillçš„å†…å®¹åˆ°ä¸Šä¸‹æ–‡ã€‚</p>
<h4 data-id="heading-3">æ–‡ä»¶å¤¹ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">skill-name/
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># å¿…éœ€ï¼šæŠ€èƒ½è¯´æ˜æ–‡ä»¶</span>
â”œâ”€â”€ scripts/          <span class="hljs-comment"># å¯é€‰ï¼šè¾…åŠ©è„šæœ¬</span>
â”œâ”€â”€ templates/        <span class="hljs-comment"># å¯é€‰ï¼šæ–‡æ¡£æ¨¡æ¿</span>
â””â”€â”€ resources/        <span class="hljs-comment"># å¯é€‰ï¼šå‚è€ƒèµ„æ–™</span>
</code></pre>
<h4 data-id="heading-4">Progressive Disclosureï¼šæ¸è¿›å¼åŠ è½½</h4>
<p>è¿™æ˜¯Skillsæœ€èªæ˜çš„è®¾è®¡ã€‚Claudeä¸ä¼šåœ¨å¯åŠ¨æ—¶åŠ è½½æ‰€æœ‰Skillsçš„å®Œæ•´å†…å®¹ï¼Œè€Œæ˜¯<strong>æŒ‰éœ€åŠ è½½</strong>ï¼š</p>
<ol>
<li><strong>å¯åŠ¨æ—¶</strong>ï¼šåªè¯»å–æ¯ä¸ªSkillçš„<code>name</code>å’Œ<code>description</code>ï¼ˆå‡ åä¸ªtokensï¼‰</li>
<li><strong>è¯†åˆ«æ—¶</strong>ï¼šæ ¹æ®ä½ çš„è¯·æ±‚åˆ¤æ–­éœ€è¦å“ªä¸ªSkill</li>
<li><strong>åŠ è½½æ—¶</strong>ï¼šè°ƒç”¨<code>Skill</code>å·¥å…·ï¼Œè¯»å–è¯¥Skillçš„å®Œæ•´<code>SKILL.md</code></li>
<li><strong>æ‰§è¡Œæ—¶</strong>ï¼šå¦‚æœæœ‰éœ€è¦ï¼Œå†è¯»å–<code>scripts/</code>æˆ–<code>resources/</code>ä¸‹çš„æ–‡ä»¶</li>
</ol>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥æœ‰100ä¸ªSkillsï¼Œä½†æ¯æ¬¡å¯¹è¯åªä¼šåŠ è½½ç›¸å…³çš„1-2ä¸ªï¼Œ<strong>ä¸Šä¸‹æ–‡çª—å£ä¸ä¼šè¢«çˆ†æ‰</strong>ã€‚</p>
<h3 data-id="heading-5">â§MCP Serverï¼šæ ‡å‡†åŒ–çš„å·¥å…·æ¥å£</h3>
<p>MCPï¼ˆModel Context Protocolï¼‰æ˜¯ä¸€ä¸ª<strong>å¼€æ”¾æ ‡å‡†åè®®</strong>ï¼Œå®šä¹‰äº†AIæ¨¡å‹å¦‚ä½•ä¸å¤–éƒ¨å·¥å…·äº¤äº’ã€‚MCP Serveræ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æœ¬åœ°æˆ–è¿œç¨‹çš„ç¨‹åºï¼Œé€šè¿‡stdioã€HTTPæˆ–SSEåè®®å‘AIæš´éœ²å·¥å…·ã€‚</p>
<h4 data-id="heading-6">ä¸‰å±‚æ¶æ„</h4>

























<table><thead><tr><th>å±‚çº§</th><th>èƒ½åŠ›</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>Toolå±‚</strong></td><td>å¯æ‰§è¡Œçš„æ“ä½œ</td><td><code>addè®¡æ•°å™¨</code>ã€<code>get_alertså¤©æ°”é¢„è­¦</code></td></tr><tr><td><strong>Resourceå±‚</strong></td><td>å¯è¯»å–çš„æ•°æ®</td><td><code>counterçŠ¶æ€</code>ã€<code>forecastå¤©æ°”é¢„æŠ¥</code></td></tr><tr><td><strong>Promptå±‚</strong></td><td>å¯ç”¨çš„æ¨¡æ¿</td><td><code>analysisæ•°æ®åˆ†æ</code>ã€<code>formatæ ¼å¼åŒ–</code></td></tr></tbody></table>
<h4 data-id="heading-7">ä¼ è¾“æ–¹å¼å¯¹æ¯”</h4>

























<table><thead><tr><th>ä¼ è¾“æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>é…ç½®ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>stdio</strong></td><td>æœ¬åœ°è„šæœ¬</td><td><code>"command": "python", "args": ["server.py"]</code></td></tr><tr><td><strong>HTTP</strong></td><td>WebæœåŠ¡</td><td><code>"url": "http://localhost:3001/mcp"</code></td></tr><tr><td><strong>SSE</strong></td><td>å®æ—¶æ¨é€</td><td><code>"url": "http://localhost:3001/mcp", "transport": "sse"</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€æŠ€æœ¯å¯¹æ¯”ï¼šèƒ½åŠ›è¾¹ç•Œä¸é€‚ç”¨åœºæ™¯</h2>








































<table><thead><tr><th>ç»´åº¦</th><th>Claude Skills</th><th>MCP Server</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒèƒ½åŠ›</strong></td><td>å›ºåŒ–å·¥ä½œæ–¹æ³•è®º</td><td>æš´éœ²å·¥å…·æ¥å£</td></tr><tr><td><strong>è¾“å…¥è¾“å‡º</strong></td><td>è‡ªç„¶è¯­è¨€ â†’ è‡ªç„¶è¯­è¨€</td><td>ç»“æ„åŒ–è°ƒç”¨ â†’ ç»“æ„åŒ–è¿”å›</td></tr><tr><td><strong>å¼€å‘é—¨æ§›</strong></td><td>ä½ï¼ˆå†™markdownï¼‰</td><td>ä¸­ï¼ˆéœ€å†™Serverä»£ç ï¼‰</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡æ¶ˆè€—</strong></td><td>é«˜ï¼ˆåŠ è½½å®Œæ•´æŒ‡ä»¤ï¼‰</td><td>ä½ï¼ˆæ¯æ¬¡åªè¿”å›è°ƒç”¨ç»“æœï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å›ºå®šæµç¨‹ä»»åŠ¡</td><td>åŠ¨æ€æ•°æ®è®¿é—®</td></tr><tr><td><strong>å…¸å‹ç”¨ä¾‹</strong></td><td>ä»£ç å®¡æŸ¥ã€æ–‡æ¡£ç”Ÿæˆ</td><td>GitHubæ“ä½œã€æ•°æ®åº“æŸ¥è¯¢</td></tr></tbody></table>
<h3 data-id="heading-9">â§ä»€ä¹ˆæ—¶å€™ç”¨Skillsï¼Ÿ</h3>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼šä»»åŠ¡æ˜¯"å¦‚ä½•åš"è¿˜æ˜¯"åšä»€ä¹ˆ"ï¼Ÿ</p>
<ul>
<li>
<p><strong>Skills</strong>ï¼šå½“ä½ æœ‰å›ºå®šçš„<strong>å·¥ä½œæµç¨‹</strong>ï¼Œéœ€è¦AIæŒ‰æ­¥éª¤æ‰§è¡Œæ—¶</p>
<ul>
<li>ç¤ºä¾‹ï¼š"æŒ‰ä»€ä¹ˆæ ¼å¼å†™æŠ€æœ¯æ•™ç¨‹"ã€"ä»£ç å®¡æŸ¥çš„5ä¸ªæ­¥éª¤"</li>
</ul>
</li>
<li>
<p><strong>MCP</strong>ï¼šå½“ä½ éœ€è¦AI<strong>è®¿é—®å¤–éƒ¨æ•°æ®æˆ–æœåŠ¡</strong>æ—¶</p>
<ul>
<li>ç¤ºä¾‹ï¼š"æŸ¥è¯¢GitHubçš„Issue"ã€"è¯»å–SQLiteæ•°æ®åº“"</li>
</ul>
</li>
</ul>
<h3 data-id="heading-10">â§ä»€ä¹ˆæ—¶å€™ç”¨MCPï¼Ÿ</h3>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼šæ˜¯å¦éœ€è¦ç»“æ„åŒ–è¾“å…¥è¾“å‡ºï¼Ÿ</p>
<ul>
<li>
<p>MCPæ“…é•¿ï¼š<strong>å·¥å…·åŒ–æ“ä½œ</strong></p>
<ul>
<li>è¾“å…¥ï¼šJSONç»“æ„åŒ–å‚æ•°ï¼ˆ<code>{"value": 10}</code>ï¼‰</li>
<li>è¾“å‡ºï¼šç»“æ„åŒ–ç»“æœï¼ˆ<code>{"total": 15}</code>ï¼‰</li>
<li>ä¼˜åŠ¿ï¼šå¯ç»„åˆã€å¯æµ‹è¯•ã€å¯ç¼“å­˜</li>
</ul>
</li>
<li>
<p>Skillsæ“…é•¿ï¼š<strong>æ–‡æœ¬åŒ–æµç¨‹</strong></p>
<ul>
<li>è¾“å…¥ï¼šè‡ªç„¶è¯­è¨€æè¿°</li>
<li>è¾“å‡ºï¼šè‡ªç„¶è¯­è¨€ç»“æœ</li>
<li>ä¼˜åŠ¿ï¼šçµæ´»ã€æ˜“è¯»ã€æ˜“ç»´æŠ¤</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-11">å››ã€å®æˆ˜1ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªClaude Skill</h2>
<h3 data-id="heading-12">â§åœºæ™¯ï¼šä»£ç å®¡æŸ¥Skill</h3>
<h4 data-id="heading-13">Step 1ï¼šåˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„</h4>
<pre><code class="hljs language-css" lang="css">mkdir -<span class="hljs-selector-tag">p</span> ~/<span class="hljs-selector-class">.config</span>/claude-<span class="hljs-selector-tag">code</span>/skills/<span class="hljs-selector-tag">code</span>-reviewer
cd ~/<span class="hljs-selector-class">.config</span>/claude-<span class="hljs-selector-tag">code</span>/skills/<span class="hljs-selector-tag">code</span>-reviewer
</code></pre>
<h4 data-id="heading-14">Step 2ï¼šç¼–å†™SKILL.md</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">code-reviewer</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">ä¸“æ³¨äºä»£ç è´¨é‡å’Œæ¶æ„çš„å®¡æŸ¥å·¥å…·</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># Code Reviewer</span>

<span class="hljs-comment">## ä½•æ—¶ä½¿ç”¨</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">æäº¤ä»£ç å‰è¿›è¡Œè‡ªå®¡</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">å®¡æŸ¥åŒäº‹çš„PR</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">é‡æ„æ—¶çš„æ¶æ„è¯„ä¼°</span>

<span class="hljs-comment">## å®¡æŸ¥æ¸…å•</span>
<span class="hljs-bullet">-</span> [ ] <span class="hljs-string">å®‰å…¨æ€§ï¼šæ˜¯å¦æœ‰æ³¨å…¥é£é™©</span>
<span class="hljs-bullet">-</span> [ ] <span class="hljs-string">æ€§èƒ½ï¼šæ˜¯å¦æœ‰ä½æ•ˆæŸ¥è¯¢</span>
<span class="hljs-bullet">-</span> [ ] <span class="hljs-string">å¯è¯»æ€§ï¼šå‘½åæ˜¯å¦æ¸…æ™°</span>
<span class="hljs-bullet">-</span> [ ] <span class="hljs-string">æµ‹è¯•è¦†ç›–ï¼šå…³é”®è·¯å¾„æ˜¯å¦æœ‰æµ‹è¯•</span>

<span class="hljs-comment">## æŒ‡ä»¤</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span>Â <span class="hljs-string">**å¿«é€Ÿæ‰«æ**ï¼šæ ‡è®°æ˜æ˜¾é—®é¢˜ï¼ˆç©ºcatchå—ã€ç¡¬ç¼–ç å¯†é’¥ï¼‰</span>
<span class="hljs-number">2</span><span class="hljs-string">.</span>Â <span class="hljs-string">**æ¶æ„åˆ†æ**ï¼šè¯„ä¼°è®¾è®¡æ¨¡å¼ã€ä¾èµ–å…³ç³»</span>
<span class="hljs-number">3</span><span class="hljs-string">.</span>Â <span class="hljs-string">**æ€§èƒ½æ£€æŸ¥**ï¼šæŸ¥æ‰¾N+1æŸ¥è¯¢ã€æœªä¼˜åŒ–å¾ªç¯</span>
<span class="hljs-number">4</span><span class="hljs-string">.</span>Â <span class="hljs-string">**å…·ä½“å»ºè®®**ï¼šç»™å‡ºå¯æ‰§è¡Œçš„ä¿®æ”¹æ–¹æ¡ˆ</span>
</code></pre>
<h4 data-id="heading-15">Step 3ï¼šæµ‹è¯•Skill</h4>
<pre><code class="hljs language-css" lang="css"># åœ¨Claude <span class="hljs-selector-tag">Code</span>ä¸­æµ‹è¯•
"ä½¿ç”¨<span class="hljs-selector-tag">code</span>-reviewerå®¡æŸ¥è¿™æ®µä»£ç ï¼š<span class="hljs-selector-attr">[ä½ çš„ä»£ç ]</span>"
</code></pre>
<h3 data-id="heading-16">â§å¸¸è§è¸©å‘æŒ‡å—</h3>

























<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ³•</th></tr></thead><tbody><tr><td>Skillè§¦å‘ä¸ç¨³å®š</td><td>descriptionä¸å¤Ÿæ˜ç¡®</td><td>åœ¨è¯·æ±‚ä¸­æ˜¾å¼æŒ‡å®š"ä½¿ç”¨xxx Skill"</td></tr><tr><td>ä¸Šä¸‹æ–‡æ¶ˆè€—å¤§</td><td>SKILL.mdå†…å®¹å¤ªå¤š</td><td>å¼•ç”¨å¤–éƒ¨æ–‡ä»¶ï¼š<code>å‚è€ƒ resources/checklist.md</code></td></tr><tr><td>ç‰ˆæœ¬æ··ä¹±</td><td>Skillä¿®æ”¹åæ²¡æœ‰ç”Ÿæ•ˆ</td><td>åˆ é™¤æ—§ç‰ˆæœ¬æˆ–é‡å‘½åSkillæ–‡ä»¶å¤¹</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">äº”ã€å®æˆ˜2ï¼šå¼€å‘ä½ çš„ç¬¬ä¸€ä¸ªMCP Server</h2>
<h3 data-id="heading-18">â§åœºæ™¯ï¼šç®€å•è®¡æ•°å™¨MCP</h3>
<h4 data-id="heading-19">Step 1ï¼šåˆå§‹åŒ–é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> mcp-counter &amp;&amp; <span class="hljs-built_in">cd</span> mcp-counter
npm init -y
npm install @modelcontextprotocol/sdk zod
</code></pre>
<h4 data-id="heading-20">Step 2ï¼šç¼–å†™Serverä»£ç </h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// index.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">McpServer</span> } <span class="hljs-keyword">from</span>Â <span class="hljs-string">"@modelcontextprotocol/sdk/server/mcp.js"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StdioServerTransport</span> } <span class="hljs-keyword">from</span>Â <span class="hljs-string">"@modelcontextprotocol/sdk/server/stdio.js"</span>;
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span>Â <span class="hljs-string">"zod"</span>;

<span class="hljs-keyword">const</span> server = <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">McpServer</span>({
Â Â <span class="hljs-attr">name</span>: <span class="hljs-string">"Counter"</span>,
Â Â <span class="hljs-attr">version</span>: <span class="hljs-string">"1.0.0"</span>
});

<span class="hljs-keyword">let</span> counter = <span class="hljs-number">0</span>;

<span class="hljs-comment">// æ³¨å†ŒToolï¼šadd</span>
server.<span class="hljs-title function_">tool</span>(
Â Â <span class="hljs-string">"add"</span>,
Â Â <span class="hljs-string">"Add a value to the counter"</span>,
Â Â {
Â Â Â Â <span class="hljs-attr">value</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Value to add"</span>)
Â Â },
Â Â <span class="hljs-keyword">async</span> ({ value }) =&gt; {
Â Â Â Â counter += value;
Â Â Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â Â Â <span class="hljs-attr">content</span>: [{
Â Â Â Â Â Â Â Â <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">text</span>: <span class="hljs-string">`Added <span class="hljs-subst">${value}</span>, total is now <span class="hljs-subst">${counter}</span>`</span>
Â Â Â Â Â Â }]
Â Â Â Â };
Â Â }
);

<span class="hljs-comment">// æ³¨å†ŒToolï¼šreset</span>
server.<span class="hljs-title function_">tool</span>(
Â Â <span class="hljs-string">"reset"</span>,
Â Â <span class="hljs-string">"Reset the counter to 0"</span>,
Â Â {},
Â Â <span class="hljs-keyword">async</span> () =&gt; {
Â Â Â Â counter = <span class="hljs-number">0</span>;
Â Â Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â Â Â <span class="hljs-attr">content</span>: [{
Â Â Â Â Â Â Â Â <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">text</span>: <span class="hljs-string">"Counter reset to 0"</span>
Â Â Â Â Â Â }]
Â Â Â Â };
Â Â }
);

<span class="hljs-comment">// æ³¨å†ŒResourceï¼šcounterçŠ¶æ€</span>
server.<span class="hljs-title function_">resource</span>(
Â Â <span class="hljs-string">"counter"</span>,
Â Â <span class="hljs-string">"Current counter value"</span>,
Â Â { <span class="hljs-attr">uri</span>: <span class="hljs-string">"mcp://resource/counter"</span> },
Â Â <span class="hljs-function">(<span class="hljs-params">uri</span>) =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â Â Â <span class="hljs-attr">contents</span>: [{ <span class="hljs-attr">text</span>: <span class="hljs-title class_">String</span>(counter), <span class="hljs-attr">uri</span>: uri.<span class="hljs-property">href</span> }]
Â Â Â Â };
Â Â }
);

<span class="hljs-comment">// å¯åŠ¨Server</span>
<span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">StdioServerTransport</span>();
<span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
</code></pre>
<h4 data-id="heading-21">Step 3ï¼šé…ç½®åˆ°Claude Code</h4>
<p>åœ¨<code>~/.config/claude-code/mcp.json</code>ä¸­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â <span class="hljs-attr">"counter"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â Â Â <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
Â Â Â Â Â Â <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span><span class="hljs-string">"index.ts"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â Â Â Â Â Â <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"/path/to/mcp-counter"</span>
Â Â Â Â <span class="hljs-punctuation">}</span>
Â Â <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-22">Step 4ï¼šæµ‹è¯•MCP Server</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨MCP Inspectoræµ‹è¯•</span>
npx @modelcontextprotocol/inspector node index.ts
</code></pre>
<h3 data-id="heading-23">â§MCP Serverç±»å‹å¯¹æ¯”</h3>

























<table><thead><tr><th>ç±»å‹</th><th>é…ç½®</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>stdio</strong></td><td><code>"command": "python", "args": ["server.py"]</code></td><td>æœ¬åœ°è„šæœ¬ã€ç®€å•å·¥å…·</td></tr><tr><td><strong>HTTP</strong></td><td><code>"url": "http://localhost:3001/mcp"</code></td><td>WebæœåŠ¡ã€è¿œç¨‹è°ƒç”¨</td></tr><tr><td><strong>SSE</strong></td><td><code>"url": "http://localhost:3001/mcp", "transport": "sse"</code></td><td>å®æ—¶æ¨é€ã€é•¿è¿æ¥</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-24">å…­ã€ååŒæ¨¡å¼ï¼šSkills + MCP = è¶…èƒ½åŠ›</h2>
<p>Skillså’ŒMCPä¸æ˜¯äº’æ–¥çš„ï¼Œè€Œæ˜¯<strong>äº’è¡¥çš„</strong>ã€‚</p>
<h3 data-id="heading-25">â§æ¡ˆä¾‹ï¼šè‡ªåŠ¨åŒ–PRä»£ç å®¡æŸ¥</h3>
<p><strong>éœ€æ±‚</strong>ï¼šæ¯å½“åˆ›å»ºPRæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨ä»£ç å®¡æŸ¥æµç¨‹ã€‚</p>
<p><strong>é…ç½®æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">// oh-<span class="hljs-keyword">my</span>-opencode.json
{
Â Â <span class="hljs-string">"mcpServers"</span>:Â {
Â Â Â Â <span class="hljs-string">"github"</span>:Â {
Â Â Â Â Â Â <span class="hljs-string">"command"</span>:Â <span class="hljs-string">"npx"</span>,
Â Â Â Â Â Â <span class="hljs-string">"args"</span>:Â [<span class="hljs-string">"@modelcontextprotocol/server-github"</span>],
Â Â Â Â Â Â <span class="hljs-string">"env"</span>:Â {
Â Â Â Â Â Â Â Â <span class="hljs-string">"GITHUB_PERSONAL_ACCESS_TOKEN"</span>:Â <span class="hljs-string">"your_token"</span>
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }
}
</code></pre>
<p><strong>Skillå·¥ä½œæµ</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ä½¿ç”¨github MCPè·å–PRä¿¡æ¯
Â Â Â â†“
<span class="hljs-bullet">2.</span> code-reviewer Skillå®¡æŸ¥ä»£ç ï¼ˆéµå¾ªå›ºå®šæµç¨‹ï¼‰
Â Â Â â†“
<span class="hljs-bullet">3.</span> ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š
Â Â Â â†“
<span class="hljs-bullet">4.</span> ä½¿ç”¨github MCPå‘å¸ƒè¯„è®º
</code></pre>
<p><strong>å®é™…è°ƒç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-less" lang="less">ç”¨æˆ·ï¼šå®¡æŸ¥<span class="hljs-selector-tag">GitHub</span> <span class="hljs-selector-tag">PR</span> <span class="hljs-selector-id">#123</span>
<span class="hljs-selector-tag">Sisyphus</span>ï¼š
Â Â <span class="hljs-number">1</span>. è°ƒç”¨<span class="hljs-selector-tag">github</span> <span class="hljs-selector-tag">MCP</span>è·å–<span class="hljs-selector-tag">PR</span>ä»£ç 
Â Â <span class="hljs-number">2</span>. ä½¿ç”¨<span class="hljs-selector-tag">code</span><span class="hljs-selector-tag">-reviewer</span> <span class="hljs-selector-tag">Skill</span>å®¡æŸ¥ï¼ˆæŒ‰å›ºå®šæµç¨‹ï¼‰
Â Â <span class="hljs-number">3</span>. ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š
Â Â <span class="hljs-number">4</span>. è°ƒç”¨<span class="hljs-selector-tag">github</span> <span class="hljs-selector-tag">MCP</span>å‘å¸ƒè¯„è®º
</code></pre>
<hr/>
<h2 data-id="heading-26">ä¸ƒã€ä½¿ç”¨åœºæ™¯åˆ¤æ–­æ ‘</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0ef56fd99d1489e8f77e3a0f0b12168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5rqQ5bCP6IGq5piO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728562&amp;x-signature=Ys1MUay68GnDt%2B5xjKDK250He58%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-27">â§åˆ¤æ–­æµç¨‹</h3>
<ol>
<li>
<p><strong>ä½ çš„ä»»åŠ¡æœ‰å›ºå®šæµç¨‹å—ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ ä½¿ç”¨Skills</li>
<li>å¦ â†’ è¿›å…¥ä¸‹ä¸€æ­¥</li>
</ul>
</li>
<li>
<p><strong>ä½ éœ€è¦è®¿é—®å¤–éƒ¨æ•°æ®æˆ–æœåŠ¡å—ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ ä½¿ç”¨MCP</li>
<li>å¦ â†’ å¯èƒ½éƒ½ä¸éœ€è¦ï¼Œç›´æ¥ç”¨Claudeå¯¹è¯å³å¯</li>
</ul>
</li>
<li>
<p><strong>ä½ çš„ä»»åŠ¡æ˜¯å¦æ—¢éœ€è¦å›ºå®šæµç¨‹ï¼Œåˆéœ€è¦å¤–éƒ¨æ•°æ®ï¼Ÿ</strong></p>
<ul>
<li>æ˜¯ â†’ Skills + MCPååŒ</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-28">å…«ã€æœ€ä½³å®è·µä¸æˆæœ¬ä¼˜åŒ–</h2>
<h3 data-id="heading-29">â§Skillsä¼˜åŒ–å»ºè®®</h3>

























<table><thead><tr><th>ä¼˜åŒ–é¡¹</th><th>å…·ä½“æ–¹æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>ä¿æŒç²¾ç®€</strong></td><td>SKILL.mdæ§åˆ¶åœ¨1-2KBä»¥å†…</td><td>å‡å°‘ä¸Šä¸‹æ–‡æ¶ˆè€—</td></tr><tr><td><strong>å¤–éƒ¨å¼•ç”¨</strong></td><td>å¼•ç”¨resources/å’Œscripts/</td><td>æŒ‰éœ€åŠ è½½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨</td></tr><tr><td><strong>ç‰ˆæœ¬æ§åˆ¶</strong></td><td>ç”¨gitç®¡ç†Skills</td><td>è¿½è¸ªå˜æ›´ã€å›æ»š</td></tr></tbody></table>
<h3 data-id="heading-30">â§MCPä¼˜åŒ–å»ºè®®</h3>

























<table><thead><tr><th>ä¼˜åŒ–é¡¹</th><th>å…·ä½“æ–¹æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>æ‰¹é‡æ“ä½œ</strong></td><td>æ”¯æŒä¸€æ¬¡å¤„ç†å¤šä¸ªè¯·æ±‚</td><td>å‡å°‘è°ƒç”¨æ¬¡æ•°ï¼Œé™ä½å»¶è¿Ÿ</td></tr><tr><td><strong>ç¼“å­˜å¸¸ç”¨æ•°æ®</strong></td><td>ä½¿ç”¨Resourceæœºåˆ¶</td><td>é¿å…é‡å¤è®¡ç®—</td></tr><tr><td><strong>é”™è¯¯å¤„ç†</strong></td><td>è¿”å›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</td><td>æ–¹ä¾¿è°ƒè¯•å’Œé‡è¯•</td></tr></tbody></table>
<h3 data-id="heading-31">â§æˆæœ¬å¯¹æ¯”æ¡ˆä¾‹</h3>
<p>å‡è®¾ä»»åŠ¡ï¼šå®¡æŸ¥1000è¡Œä»£ç ï¼Œç”Ÿæˆå®¡æŸ¥æŠ¥å‘Šã€‚</p>
<p><strong>æ–¹æ¡ˆ1ï¼šå•Agentï¼ˆClaude Codeï¼‰</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å…¨ç¨‹ç”¨Claude 3.5 Sonnetï¼š
<span class="hljs-bullet">-</span> ä»£ç æ‰«æï¼š50K tokens â†’ $0.15
<span class="hljs-bullet">-</span> å®¡æŸ¥åˆ†æï¼š30K tokens â†’ $0.09
<span class="hljs-bullet">-</span> æŠ¥å‘Šç”Ÿæˆï¼š20K tokens â†’ $0.06
<span class="hljs-bullet">-</span> æ€»è®¡ï¼š100K tokensï¼Œ<span class="hljs-strong">**$0.30**</span>
</code></pre>
<p><strong>æ–¹æ¡ˆ2ï¼šSkills + MCPååŒ</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> github MCPè·å–ä»£ç ï¼š5K tokens â†’ $0.00
<span class="hljs-bullet">-</span> code-reviewer Skillï¼ˆåŠ è½½æŒ‡ä»¤ï¼‰ï¼š2K tokens â†’ $0.00
<span class="hljs-bullet">-</span> Claude Sonnetå®¡æŸ¥ï¼š20K tokens â†’ $0.06
<span class="hljs-bullet">-</span> github MCPå‘å¸ƒè¯„è®ºï¼š1K tokens â†’ $0.00
<span class="hljs-bullet">-</span> æ€»è®¡ï¼š28K tokensï¼Œ<span class="hljs-strong">**$0.06**</span>
</code></pre>
<p><strong>èŠ‚çœ</strong>ï¼š<strong>80%</strong> ï¼Œä¸”ç»“æœæ›´ç²¾å‡†ï¼ˆSkillå®šä¹‰çš„æµç¨‹æ›´è§„èŒƒï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-32">ä¹ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-33">â§Q1ï¼šSkillå’ŒMCPèƒ½ä¸èƒ½ä¸€èµ·ç”¨ï¼Ÿ</h3>
<p><strong>Aï¼šå¯ä»¥ï¼Œè€Œä¸”è¿™æ˜¯æ¨èçš„æ¨¡å¼ã€‚</strong></p>
<p>Skillå¯ä»¥è°ƒç”¨MCPæä¾›çš„å·¥å…·ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>code-reviewer</code> Skillè°ƒç”¨<code>github</code> MCPè·å–PRä¿¡æ¯</li>
<li><code>data-analyst</code> Skillè°ƒç”¨<code>sqlite</code> MCPè¯»å–æ•°æ®åº“</li>
</ul>
<h3 data-id="heading-34">â§Q2ï¼šSkillä¼šè¢«é—å¿˜å—ï¼Ÿ</h3>
<p><strong>Aï¼šä¼šï¼Œè¿™æ˜¯å½“å‰çš„ä¸€ä¸ªé™åˆ¶ã€‚</strong></p>
<p>Claudeæœ‰æ—¶ä¼š"å¿˜è®°"åŠ è½½Skillï¼Œæˆ–è€…åŠ è½½é”™Skillã€‚</p>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p>
<ol>
<li>åœ¨è¯·æ±‚ä¸­æ˜¾å¼æŒ‡å®šï¼š"ä½¿ç”¨code-reviewer Skillå®¡æŸ¥è¿™æ®µä»£ç "</li>
<li>ç®€åŒ–Skillçš„descriptionï¼Œè®©è§¦å‘æ›´å‡†ç¡®</li>
<li>å¤ç”¨é«˜é¢‘Skillï¼Œé™ä½é—å¿˜æ¦‚ç‡</li>
</ol>
<h3 data-id="heading-35">â§Q3ï¼šMCPéœ€è¦å†™ä»£ç ï¼Œæœ‰æ›´ç®€å•çš„æ–¹å¼å—ï¼Ÿ</h3>
<p><strong>Aï¼šå®˜æ–¹æä¾›äº†é¢„ç½®MCPæœåŠ¡å™¨ã€‚</strong></p>






























<table><thead><tr><th>é¢„ç½®MCP</th><th>åŠŸèƒ½</th><th>å®‰è£…</th></tr></thead><tbody><tr><td><code>server-memory</code></td><td>çŸ­æœŸè®°å¿†</td><td><code>npx @modelcontextprotocol/server-memory</code></td></tr><tr><td><code>server-filesystem</code></td><td>æ–‡ä»¶ç³»ç»Ÿè®¿é—®</td><td><code>npx @modelcontextprotocol/server-filesystem /path/to/files</code></td></tr><tr><td><code>server-github</code></td><td>GitHubæ“ä½œ</td><td><code>npx @modelcontextprotocol/server-github</code></td></tr><tr><td><code>server-sqlite</code></td><td>SQLiteæ•°æ®åº“</td><td><code>npx @modelcontextprotocol/server-sqlite /path/to/db.db</code></td></tr></tbody></table>
<h3 data-id="heading-36">â§Q4ï¼šSkillå’ŒMCPçš„æ€§èƒ½å¯¹æ¯”å¦‚ä½•ï¼Ÿ</h3>
<p><strong>Aï¼šMCPé€šå¸¸æ›´å¿«ï¼Œä½†Skillæ›´çµæ´»ã€‚</strong></p>
<ul>
<li><strong>MCP</strong>ï¼šæ¯æ¬¡åªè¿”å›ç»“æ„åŒ–ç»“æœï¼Œä¸Šä¸‹æ–‡æ¶ˆè€—å°ï¼Œå“åº”å¿«</li>
<li><strong>Skill</strong>ï¼šéœ€è¦åŠ è½½å®Œæ•´æŒ‡ä»¤ï¼Œä¸Šä¸‹æ–‡æ¶ˆè€—å¤§ï¼Œä½†å¯ä»¥å¤„ç†å¤æ‚é€»è¾‘</li>
</ul>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>ç®€å•å·¥å…·æ“ä½œ â†’ MCP</li>
<li>å¤æ‚æµç¨‹æ¨ç† â†’ Skills</li>
<li>æ··åˆä»»åŠ¡ â†’ Skills + MCP</li>
</ul>
<h3 data-id="heading-37">â§Q5ï¼šå¦‚ä½•è°ƒè¯•Skillså’ŒMCPï¼Ÿ</h3>
<p><strong>Aï¼šä½¿ç”¨æ—¥å¿—å’Œè°ƒè¯•å·¥å…·ã€‚</strong></p>





















<table><thead><tr><th>å·¥å…·</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td>Claude Codeæ—¥å¿—</td><td>æŸ¥çœ‹SkillåŠ è½½ã€MCPè°ƒç”¨è¿‡ç¨‹</td></tr><tr><td>MCP Inspector</td><td>æµ‹è¯•MCP Serverçš„å·¥å…·å’Œèµ„æº</td></tr><tr><td><code>--verbose</code></td><td>åœ¨é…ç½®ä¸­å¯ç”¨è¯¦ç»†è¾“å‡º</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-38">åã€æ€»ç»“ä¸æ‰©å±•</h2>
<h3 data-id="heading-39">â§æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>æœ¬è´¨</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Claude Skills</strong></td><td>å·¥ä½œæµè¯´æ˜ä¹¦</td><td>å›ºå®šæµç¨‹ä»»åŠ¡ï¼ˆä»£ç å®¡æŸ¥ã€æ–‡æ¡£ç”Ÿæˆï¼‰</td></tr><tr><td><strong>MCP Server</strong></td><td>å·¥å…·æ¥å£æ ‡å‡†</td><td>åŠ¨æ€æ•°æ®è®¿é—®ï¼ˆGitHubã€æ•°æ®åº“ï¼‰</td></tr><tr><td><strong>Skills + MCP</strong></td><td>è¶…èƒ½åŠ›ç»„åˆ</td><td>å¤æ‚å¤šé˜¶æ®µä»»åŠ¡ï¼ˆè‡ªåŠ¨åŒ–PRæµç¨‹ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-40">â§è¿›é˜¶å­¦ä¹ è·¯å¾„</h3>
<p><strong>æ·±å…¥Skills</strong>ï¼š</p>
<ul>
<li>å­¦ä¹ Progressive Disclosureæœ€ä½³å®è·µ</li>
<li>æŒæ¡Skillçš„ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥</li>
<li>æ¢ç´¢Skillä¹‹é—´çš„ååŒè°ƒç”¨</li>
</ul>
<p><strong>æ·±å…¥MCP</strong>ï¼š</p>
<ul>
<li>å¼€å‘è‡ªå®šä¹‰MCP Server</li>
<li>å­¦ä¹ HTTPå’ŒSSEä¼ è¾“æ–¹å¼</li>
<li>ç†è§£Toolã€Resourceã€Promptçš„å®Œæ•´èƒ½åŠ›</li>
</ul>
<p><strong>æ·±å…¥å­¦ä¹ èµ„æº</strong>ï¼š</p>
<ul>
<li>Claude Skillså®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.claude.com%2Fen%2Fdocs%2Fagents-and-tools%2Fagent-skills%2Foverview%255B1%255D" target="_blank" title="https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview%5B1%5D" ref="nofollow noopener noreferrer">docs.claude.com/en/docs/ageâ€¦</a></li>
<li>MCPåè®®è§„èŒƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2Fdocs%255B2%255D" target="_blank" title="https://modelcontextprotocol.io/docs%5B2%5D" ref="nofollow noopener noreferrer">modelcontextprotocol.io/docs[2]</a></li>
<li>awesome-claude-skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%255B3%255D" target="_blank" title="https://github.com/anthropics/skills%5B3%5D" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
</ul>
<h3 data-id="heading-41">â§äº’åŠ¨å¼•å¯¼</h3>
<p>ä½ ç›®å‰é‡åˆ°çš„å¼€å‘ä»»åŠ¡ï¼Œæ›´é€‚åˆç”¨Skillè¿˜æ˜¯MCPï¼Ÿ</p>
<ul>
<li><strong>å›ºå®šæµç¨‹</strong>ï¼ˆå¦‚ä»£ç å®¡æŸ¥ã€æ–‡æ¡£ç”Ÿæˆï¼‰â†’ å°è¯•åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªSkill</li>
<li><strong>å¤–éƒ¨æœåŠ¡</strong>ï¼ˆå¦‚GitHubã€æ•°æ®åº“ï¼‰â†’ å°è¯•é…ç½®ä½ çš„ç¬¬ä¸€ä¸ªMCP Server</li>
<li><strong>å¤æ‚ä»»åŠ¡</strong>ï¼ˆä¸¤è€…éƒ½éœ€è¦ï¼‰â†’ æ€è€ƒå¦‚ä½•è®©Skillè°ƒç”¨MCPå·¥å…·</li>
</ul>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„å®è·µç»éªŒï¼Œæˆ–è€…æé—®é‡åˆ°çš„é—®é¢˜ï¼</p>
<hr/>
<p><strong>è®°ä½</strong>ï¼šSkillså’ŒMCPä¸æ˜¯äºŒé€‰ä¸€çš„å…³ç³»ï¼Œè€Œæ˜¯å¯ä»¥ååŒçš„å·¥å…·ã€‚ç†è§£å®ƒä»¬çš„æœ¬è´¨å·®å¼‚ï¼Œä½ å°±èƒ½æ ¹æ®ä»»åŠ¡ç±»å‹åšå‡ºæœ€ä¼˜é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ·±åº¦å­¦ä¹ Day5ã€‘å†³æˆ˜ CIFAR-10ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºç¬¬ä¸€ä¸ªâ€œæ­£ç»â€çš„å·ç§¯ç¥ç»ç½‘ç»œ (é™„è°ƒå‚å¿ƒæ³•)]]></title>    <link>https://juejin.cn/post/7593713738856448038</link>    <guid>https://juejin.cn/post/7593713738856448038</guid>    <pubDate>2026-01-11T10:01:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593713738856448038" data-draft-id="7593310044479422473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ·±åº¦å­¦ä¹ Day5ã€‘å†³æˆ˜ CIFAR-10ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºç¬¬ä¸€ä¸ªâ€œæ­£ç»â€çš„å·ç§¯ç¥ç»ç½‘ç»œ (é™„è°ƒå‚å¿ƒæ³•)"/> <meta itemprop="keywords" content="æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-11T10:01:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŸ æŸ é…±"/> <meta itemprop="url" content="https://juejin.cn/user/3739876675556569"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ·±åº¦å­¦ä¹ Day5ã€‘å†³æˆ˜ CIFAR-10ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºç¬¬ä¸€ä¸ªâ€œæ­£ç»â€çš„å·ç§¯ç¥ç»ç½‘ç»œ (é™„è°ƒå‚å¿ƒæ³•)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3739876675556569/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŸ æŸ é…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:01:25.000Z" title="Sun Jan 11 2026 10:01:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€æ·±åº¦å­¦ä¹ Day5ã€‘å†³æˆ˜ CIFAR-10ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºç¬¬ä¸€ä¸ªâ€œæ­£ç»â€çš„å·ç§¯ç¥ç»ç½‘ç»œ (é™„è°ƒå‚å¿ƒæ³•)</h2>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šç»´åº¦è®¡ç®—é€šå…³äº†ï¼Œå·ç§¯ã€æ± åŒ–è¿™äº›â€œä¹é«˜ç§¯æœ¨â€ä¹Ÿæ‘¸ç†Ÿäº†â€”â€”æ­å–œä½ ï¼Œç»ˆäºå¯ä»¥å‘Šåˆ« MNIST è¿™ä¸ªé»‘ç™½ä¸¤è‰²çš„â€œæ–°æ‰‹æ‘â€äº†ï¼ä»Šå¤©ï¼Œå’±ä»¬è¦å†²çš„æ˜¯è®¡ç®—æœºè§†è§‰ç•Œçš„ç»å…¸å‰¯æœ¬â€”â€”CIFAR-10ã€‚è¿™ä¸ä»…æ˜¯ä»â€œé»‘ç™½ç´ æâ€åˆ°â€œå½©è‰²ç…§ç‰‡â€çš„è·¨è¶Šï¼Œæ›´æ˜¯æ£€éªŒä½ æ˜¯å¦çœŸæ‡‚ CNN çš„â€œæ¯•ä¸šè€ƒè¯•â€ã€‚æœ¬æ–‡å…¨ç¨‹ä¿å§†çº§æ•™å­¦ï¼Œä»æ•°æ®æµæ°´çº¿æ­å»ºåˆ° Mini-VGG ç½‘ç»œæ‰‹æ“ï¼Œä»æ•°æ®å¢å¼ºé˜²è¿‡æ‹Ÿåˆåˆ° Dropout å®æˆ˜ï¼Œæ¯ä¸€æ­¥éƒ½æ‹†è§£å¾—æ˜æ˜ç™½ç™½ã€‚æ–‡æœ«è¿˜è—äº†ä¸€ä»½â€œç‚¼ä¸¹ï¼ˆè°ƒå‚ï¼‰å¿ƒæ³•â€ï¼Œæ–°æ‰‹ç›´æ¥æŠ„ä½œä¸šå°±èƒ½æŠŠå‡†ç¡®ç‡æ‹‰æ»¡ï¼</p>
<p><strong>å…³é”®è¯</strong>ï¼šPyTorch, CNN, CIFAR-10, è¿‡æ‹Ÿåˆ, Dropout, è°ƒå‚æŠ€å·§, æ–°æ‰‹å…¥é—¨</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ çµé­‚æ‹·é—®ï¼šä¸ºå•¥ MNIST æ˜¯æ–°æ‰‹æ‘ï¼ŒCIFAR-10 æ‰æ˜¯çœŸæˆ˜åœºï¼Ÿ</h3>
<p>å’±å…ˆæ‘¸ç€è‰¯å¿ƒè¯´ï¼šMNIST é‚£ç©æ„å„¿ï¼ŒçœŸçš„å¤ªâ€œç…§é¡¾â€æ–°æ‰‹äº†ã€‚å°±åƒä½ å­¦ç”»ç”»ï¼Œå…ˆç»ƒç”»ç«æŸ´äººâ€”â€”èƒŒæ™¯çº¯é»‘ï¼Œæ•°å­—çº¯ç™½ï¼Œè¾¹ç¼˜æ¸…æ™°ï¼Œç‰¹å¾å•ä¸€åˆ°ç¦»è°±ã€‚åˆ«è¯´ CNN äº†ï¼Œéšä¾¿æ•´ä¸ª MLPï¼ˆå…¨è¿æ¥ç½‘ç»œï¼‰ï¼Œç¨å¾®è°ƒè°ƒå‚éƒ½èƒ½å¹²åˆ° 97% å‡†ç¡®ç‡ï¼Œçº¯å±â€œæ–°æ‰‹ç¦åˆ©å±€â€ã€‚</p>
<p>ä½† CIFAR-10 ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸ªå®æ‰“å®çš„â€œç¡¬æ ¸æˆ˜åœºâ€â€”â€”é‡Œé¢å…¨æ˜¯ 32Ã—32 çš„å½©è‰²å›¾ç‰‡ï¼Œ10 ä¸ªç±»åˆ«ï¼ˆé£æœºã€æ±½è½¦ã€é¸Ÿã€çŒ«ã€é¹¿ã€ç‹—ã€é’è›™ã€é©¬ã€èˆ¹ã€å¡è½¦ï¼‰ï¼Œæ¯ä¸€å¼ éƒ½å……æ»¡äº†â€œé™·é˜±â€ï¼š</p>
<ul>
<li><strong>ç»´åº¦æš´å¢ï¼šä»â€œå•èº«ç‹—â€åˆ°â€œä¸‰äººè¡Œâ€</strong> ï¼šMNIST æ˜¯å•é€šé“ç°åº¦å›¾ï¼Œshape æ˜¯ (1,28,28)ï¼›CIFAR-10 æ˜¯ RGB ä¸‰é€šé“å½©è‰²å›¾ï¼Œshape ç›´æ¥å˜æˆ (3,32,32)ã€‚ä¿¡æ¯é‡å¤§äº†ä¸æ­¢ä¸€ç‚¹ï¼Œç½‘ç»œå¤„ç†èµ·æ¥çš„éš¾åº¦ç›´æ¥ç¿»å€â€”â€”å°±åƒä»è¯»æ‹¼éŸ³å„¿æ­Œï¼Œå˜æˆè¯»æ–‡è¨€æ–‡ã€‚</li>
<li><strong>èƒŒæ™¯æ··ä¹±ï¼šä¸»è§’è—åœ¨â€œæ‚ç‰©å †â€é‡Œ</strong>ï¼šMNIST é‡Œçš„æ•°å­—æ°¸è¿œåœ¨æ­£ä¸­é—´ï¼ŒèƒŒæ™¯å¹²å‡€å¾—åƒæ–°é“ºçš„åºŠå•ï¼›ä½† CIFAR-10 é‡Œçš„ç‰©ä½“ï¼Œé‚£æ˜¯çœŸÂ·éšå¿ƒæ‰€æ¬²â€”â€”é¸Ÿå¯èƒ½ç«™åœ¨æ ‘ä¸Šï¼Œä¹Ÿå¯èƒ½é£åœ¨äº‘é‡Œï¼›çŒ«å¯èƒ½è¶´åœ¨æ²™å‘ä¸Šï¼Œä¹Ÿå¯èƒ½èº²åœ¨è‰ä¸›é‡Œã€‚ç½‘ç»œå¾—å­¦ä¼šâ€œè‡ªåŠ¨å¿½ç•¥æ— å…³èƒŒæ™¯ï¼Œç²¾å‡†é”å®šä¸»è§’â€ï¼Œè¿™æ‰æ˜¯è®¡ç®—æœºè§†è§‰çš„æ ¸å¿ƒèƒ½åŠ›ã€‚</li>
<li><strong>ç±»é—´ç›¸ä¼¼æ€§æ‹‰æ»¡ï¼šé€¼æ­»â€œè„¸ç›²â€ç½‘ç»œ</strong>ï¼šMNIST é‡Œçš„ 0 å’Œ 1 æœ‰ç€äº‘æ³¥ä¹‹åˆ«ï¼Œä½† CIFAR-10 é‡Œçš„çŒ«å’Œç‹—ã€æ±½è½¦å’Œå¡è½¦ï¼Œé•¿å¾—é‚£å«ä¸€ä¸ªåƒï¼åˆ«è¯´ç½‘ç»œäº†ï¼Œæœ‰æ—¶å€™æˆ‘è‡ªå·±éƒ½å¾—ç…åŠå¤©æ‰èƒ½åˆ†æ¸…ã€‚è¿™å°±è¦æ±‚ç½‘ç»œèƒ½å­¦åˆ°ç‰©ä½“çš„â€œæœ¬è´¨ç‰¹å¾â€ï¼Œè€Œä¸æ˜¯è¡¨é¢çš„çš®æ¯›ã€‚</li>
</ul>
<p>è¿™é‡Œç»™å¤§å®¶æ”¾ä¸ªçœŸå®æˆ˜æŠ¥ï¼šç”¨è·‘ MNIST ç¨³æ‹¿ 97% å‡†ç¡®ç‡çš„ MLP å»è·‘ CIFAR-10ï¼Œå‡†ç¡®ç‡é€šå¸¸åªæœ‰ 40%-50%â€”â€”æ¯”ççŒœï¼ˆ10%ï¼‰å¼ºç‚¹ï¼Œä½†çº¯å±â€œé€äººå¤´â€ã€‚è€Œå’±ä»¬ä»Šå¤©ç”¨ CNN æ­å»ºçš„ç®€å•ç½‘ç»œï¼Œå°±èƒ½è½»æ¾å¹²åˆ° 74%+ï¼Œä¼˜åŒ–ä¸€ä¸‹ç”šè‡³èƒ½å†² 85%ï¼è¿™å°±æ˜¯å·ç§¯æå–ç©ºé—´ç‰¹å¾çš„é­”åŠ›ï½</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ æ•°æ®æµæ°´çº¿ï¼šPyTorch ç‰ˆâ€œå›¾åƒå¤„ç†å·¥å‚â€ï¼ˆæ¯” MATLAB é¦™å¤šäº†ï¼‰</h3>
<p>åšæ·±åº¦å­¦ä¹ ï¼Œæ•°æ®å¤„ç†æ˜¯ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“è¸©å‘çš„ä¸€æ­¥ã€‚MATLAB é‡Œçš„ <code>imageDatastore</code> è™½ç„¶å¥½ç”¨ï¼Œä½†çµæ´»æ€§å·®ï¼›PyTorch é‡Œçš„ <code>transforms</code> å°±ä¸ä¸€æ ·äº†ï¼Œç›¸å½“äºç»™ä½ ä¸€å¥—â€œå®šåˆ¶åŒ–æµæ°´çº¿â€ï¼Œä»å›¾ç‰‡è¯»å–ã€é¢„å¤„ç†åˆ°åŠ è½½è¿› GPUï¼Œä¸€æ¡é¾™æœåŠ¡ï¼Œè¿˜èƒ½è‡ªç”±åŠ â€œå·¥åºâ€ã€‚</p>
<p>æ ¸å¿ƒåŸåˆ™ï¼š<strong>è®­ç»ƒé›†è¦â€œæŠ˜è…¾â€ï¼Œæµ‹è¯•é›†è¦â€œè€å®â€</strong> ã€‚è®­ç»ƒé›†è¶ŠæŠ˜è…¾ï¼Œç½‘ç»œå­¦å¾—è¶Šé²æ£’ï¼›æµ‹è¯•é›†è¦æ˜¯ä¹±æŠ˜è…¾ï¼Œå°±ç›¸å½“äºè€ƒè¯•æ—¶æ”¹é¢˜ç›®ï¼Œæµ‹å‡ºæ¥çš„å‡†ç¡®ç‡å…¨æ˜¯å‡çš„ï¼</p>
<h4 data-id="heading-3">å…³é”®å·¥åºè§£è¯»</h4>
<ul>
<li>
<p><strong>æ•°æ®å¢å¼ºï¼ˆé˜²è¿‡æ‹Ÿåˆç¥å™¨ï¼‰</strong> ï¼šç›¸å½“äºç»™è®­ç»ƒé›†â€œæ¢è¡£æœâ€ï¼Œè®©ç½‘ç»œè®¤ä¸å‡ºåŸå›¾ï¼Œåªèƒ½å­¦æœ¬è´¨ç‰¹å¾ã€‚å’±ä»¬åŠ äº†ä¸¤ä¸ªæœ€å®ç”¨çš„æ“ä½œï¼š</p>
<ul>
<li><code>RandomHorizontalFlip()</code>ï¼šéšæœºæ°´å¹³ç¿»è½¬ã€‚æ¯”å¦‚æŠŠé£æœºçš„æœºå¤´ä»å·¦ç¿»åˆ°å³ï¼Œé€¼ç½‘ç»œæ˜ç™½â€œä¸ç®¡æœºå¤´æœå“ªï¼Œè¿™éƒ½æ˜¯é£æœºâ€ã€‚</li>
<li><code>RandomCrop(32, padding=4)</code>ï¼šéšæœºè£å‰ª+å¡«å……ã€‚å…ˆç»™å›¾ç‰‡å››å‘¨è¡¥ 4 ä¸ªåƒç´ çš„é»‘è¾¹ï¼Œå†éšæœºè£æˆ 32Ã—32ã€‚è¿™æ‹›èƒ½æ¨¡æ‹Ÿâ€œç‰©ä½“ä¸åœ¨ç”»é¢æ­£ä¸­é—´â€çš„çœŸå®åœºæ™¯â€”â€”æ€»ä¸èƒ½è®©ç°å®ä¸­çš„çŒ«éƒ½ç«™åœ¨é•œå¤´æ­£ä¸­é—´æ‹ç…§å§ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>æ ‡å‡†åŒ–ï¼ˆåŠ é€Ÿæ”¶æ•›çš„å…³é”®ï¼‰</strong>ï¼šæŠŠåƒç´ å€¼ä» [0,1] æ˜ å°„åˆ° [-1,1]ã€‚è¿™é‡Œç”¨çš„ <code>mean=[0.5,0.5,0.5]</code>ã€<code>std=[0.5,0.5,0.5]</code> æ˜¯ RGB å›¾ç‰‡çš„â€œé€šç”¨é…æ–¹â€ï¼Œè®°ä½å°±è¡Œï¼ä½œç”¨æ˜¯è®©æ‰€æœ‰åƒç´ å€¼éƒ½å¤„äºåŒä¸€ä¸ªâ€œèˆ’é€‚åŒºâ€ï¼Œæ¢¯åº¦ä¸‹é™è·‘èµ·æ¥ä¸è·‘åã€ä¸å¡é¡¿â€”â€”å°±åƒè·‘æ­¥å‰å…ˆçƒ­èº«ï¼Œèƒ½å°‘èµ°å¾ˆå¤šå¼¯è·¯ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">å®Œæ•´ä»£ç ï¼ˆå¯ç›´æ¥å¤åˆ¶è¿è¡Œï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torchvision
<span class="hljs-keyword">import</span> torchvision.transforms <span class="hljs-keyword">as</span> transforms

<span class="hljs-comment"># å®šä¹‰æ•°æ®é¢„å¤„ç†æµæ°´çº¿ï¼šè®­ç»ƒé›†æŠ˜è…¾ï¼Œæµ‹è¯•é›†èººå¹³</span>
train_transform = transforms.Compose([
    transforms.RandomHorizontalFlip(),    <span class="hljs-comment"># éšæœºæ°´å¹³ç¿»è½¬ï¼ˆç»™å›¾ç‰‡â€œç¿»ä¸ªèº«â€ï¼‰</span>
    transforms.RandomCrop(<span class="hljs-number">32</span>, padding=<span class="hljs-number">4</span>), <span class="hljs-comment"># éšæœºè£å‰ª+å¡«å……ï¼ˆæ¨¡æ‹Ÿç‰©ä½“åç§»ï¼‰</span>
    transforms.ToTensor(),                <span class="hljs-comment"># è½¬æˆTensoræ ¼å¼ï¼ˆPyTorchä¸“å±â€œæ•°æ®æ ¼å¼â€ï¼‰</span>
    transforms.Normalize((<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>), (<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>)) <span class="hljs-comment"># æ ‡å‡†åŒ–åˆ°[-1,1]</span>
])

test_transform = transforms.Compose([
    transforms.ToTensor(),
    transforms.Normalize((<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>), (<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>))
    <span class="hljs-comment"># æµ‹è¯•é›†å•¥ä¹Ÿä¸åŠ ï¼Œè€å®è¯»å›¾å°±è¡Œ</span>
])

<span class="hljs-comment"># åŠ è½½æ•°æ®ï¼ˆè‡ªåŠ¨ä¸‹è½½ï¼Œç¬¬ä¸€æ¬¡æ…¢ï¼Œåç»­ç›´æ¥ç”¨ç¼“å­˜ï¼‰</span>
trainset = torchvision.datasets.CIFAR10(
    root=<span class="hljs-string">'./data'</span>,        <span class="hljs-comment"># æ•°æ®å­˜æ”¾åœ¨å½“å‰ç›®å½•çš„dataæ–‡ä»¶å¤¹</span>
    train=<span class="hljs-literal">True</span>,           <span class="hljs-comment"># åŠ è½½è®­ç»ƒé›†</span>
    download=<span class="hljs-literal">True</span>,        <span class="hljs-comment"># æ²¡æœ‰å°±è‡ªåŠ¨ä¸‹è½½</span>
    transform=train_transform
)
<span class="hljs-comment"># æ•°æ®åŠ è½½å™¨ï¼šæ‰¹é‡å–‚æ•°æ®ï¼Œè¿˜èƒ½å¤šçº¿ç¨‹åŠ é€Ÿ</span>
trainloader = torch.utils.data.DataLoader(
    trainset, 
    batch_size=<span class="hljs-number">64</span>,       <span class="hljs-comment"># æ¯æ¬¡å–‚64å¼ å›¾</span>
    shuffle=<span class="hljs-literal">True</span>,         <span class="hljs-comment"># æ‰“ä¹±è®­ç»ƒé›†é¡ºåºï¼ˆé¿å…ç½‘ç»œâ€œæ­»è®°ç¡¬èƒŒâ€ï¼‰</span>
)

testset = torchvision.datasets.CIFAR10(
    root=<span class="hljs-string">'./data'</span>, 
    train=<span class="hljs-literal">False</span>,          <span class="hljs-comment"># åŠ è½½æµ‹è¯•é›†</span>
    download=<span class="hljs-literal">True</span>, 
    transform=test_transform
)
testloader = torch.utils.data.DataLoader(
    testset, 
    batch_size=<span class="hljs-number">100</span>,       <span class="hljs-comment"># æµ‹è¯•é›†æ‰¹é‡å¯ä»¥å¤§ä¸€ç‚¹ï¼Œé€Ÿåº¦æ›´å¿«</span>
    shuffle=<span class="hljs-literal">False</span>,        <span class="hljs-comment"># æµ‹è¯•é›†ä¸ç”¨æ‰“ä¹±ï¼ŒæŒ‰é¡ºåºæµ‹å°±è¡Œ</span>
)

<span class="hljs-comment"># ç±»åˆ«æ ‡ç­¾ï¼šè®°ä¸‹æ¥ï¼Œåç»­çœ‹é¢„æµ‹ç»“æœèƒ½ç”¨</span>
classes = (<span class="hljs-string">'plane'</span>, <span class="hljs-string">'car'</span>, <span class="hljs-string">'bird'</span>, <span class="hljs-string">'cat'</span>, <span class="hljs-string">'deer'</span>, <span class="hljs-string">'dog'</span>, <span class="hljs-string">'frog'</span>, <span class="hljs-string">'horse'</span>, <span class="hljs-string">'ship'</span>, <span class="hljs-string">'truck'</span>)
</code></pre>
<p>MATLAB è€é¸Ÿä¸“å±ç¬”è®°ï¼šè¿™é‡Œçš„ <code>DataLoader</code> æ¯” <code>imageDatastore</code> çµæ´»å¤ªå¤šâ€”â€”ä¸ä»…èƒ½è‡ªåŠ¨æ‰¹é‡å¤„ç†ï¼Œè¿˜èƒ½å’Œåç»­çš„ GPU è®­ç»ƒæ— ç¼è¡”æ¥ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€ ç½‘ç»œæ­å»ºï¼šæ‰‹æ“ Mini-VGGï¼Œæ‹’ç»â€œè°ƒåŒ…ä¾ â€</h3>
<p>å¾ˆå¤šæ–°æ‰‹å­¦ CNN å–œæ¬¢ç›´æ¥è°ƒ <code>torchvision</code> é‡Œçš„ç°æˆæ¨¡å‹ï¼Œçœ‹ä¼¼å¿«ï¼Œå®åˆ™å­¦ä¸åˆ°ç²¾é«“ã€‚å’±ä»¬ä»Šå¤©ç”¨ <a href="https://juejin.cn/post/7593310044479373321" target="_blank" title="https://juejin.cn/post/7593310044479373321">ã€æ·±åº¦å­¦ä¹ Day4ã€‘</a> å­¦çš„â€œå·ç§¯ã€æ± åŒ–ã€å…¨è¿æ¥â€ç§¯æœ¨ï¼Œæ‰‹æ“ä¸€ä¸ªç®€åŒ–ç‰ˆ VGGâ€”â€”VGG æ˜¯ ImageNet ç«èµ›çš„ç»å…¸æ¨¡å‹ï¼Œæ ¸å¿ƒæ€è·¯å°±æ˜¯â€œå †å å·ç§¯å—+æ± åŒ–ä¸‹é‡‡æ ·â€ï¼Œç®€å•åˆé«˜æ•ˆã€‚</p>
<h4 data-id="heading-6">è®¾è®¡æ€è·¯</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼š<strong>å…ˆæå–ç‰¹å¾ï¼Œå†åˆ†ç±»</strong>ã€‚ç”¨å·ç§¯å—æå–å›¾ç‰‡çš„è¾¹ç¼˜ã€çº¹ç†ã€å½¢çŠ¶ç­‰ç‰¹å¾ï¼Œå†ç”¨å…¨è¿æ¥å±‚æŠŠè¿™äº›ç‰¹å¾æ˜ å°„åˆ° 10 ä¸ªç±»åˆ«ä¸Šã€‚</p>
<ul>
<li>ç‰¹å¾æå–éƒ¨åˆ†ï¼š2 ä¸ªå·ç§¯å—ã€‚æ¯ä¸ªå·ç§¯å— = å·ç§¯å±‚ï¼ˆConvï¼‰â†’ æ¿€æ´»å‡½æ•°ï¼ˆReLUï¼‰â†’ æ± åŒ–å±‚ï¼ˆMaxPoolï¼‰ã€‚å·ç§¯å±‚è´Ÿè´£æç‰¹å¾ï¼ŒReLU è´Ÿè´£åŠ éçº¿æ€§ï¼ˆè®©ç½‘ç»œèƒ½å­¦å¤æ‚å…³ç³»ï¼‰ï¼Œæ± åŒ–å±‚è´Ÿè´£â€œæµ“ç¼©ç²¾åâ€ï¼ˆå‡å°‘å‚æ•°ï¼Œé˜²è¿‡æ‹Ÿåˆï¼‰ã€‚</li>
<li>åˆ†ç±»å±‚éƒ¨åˆ†ï¼šå…¨è¿æ¥å±‚ï¼ˆLinearï¼‰+ Dropoutã€‚æŠŠå·ç§¯æå–çš„ 2D ç‰¹å¾æ‹‰å¹³æˆ 1D å‘é‡ï¼Œå†é€šè¿‡å…¨è¿æ¥å±‚æ˜ å°„åˆ° 10 ä¸ªç±»åˆ«ï¼›Dropout è´Ÿè´£â€œéšæœºè®©ä¸€åŠç¥ç»å…ƒæ‘¸é±¼â€ï¼Œé˜²æ­¢ç½‘ç»œæ­»è®°ç¡¬èƒŒã€‚</li>
</ul>
<h4 data-id="heading-7">ç¡¬æ ¸ç»´åº¦è®¡ç®—ï¼ˆå¿…æ‡‚ï¼ä¸ç„¶ç½‘ç»œä¼šæŠ¥é”™ï¼‰</h4>
<p>æ–°æ‰‹æœ€å®¹æ˜“è¸©çš„å‘å°±æ˜¯â€œç»´åº¦ä¸åŒ¹é…â€â€”â€”è¾“å…¥å’Œè¾“å‡ºçš„ shape å¯¹ä¸ä¸Šï¼Œç¨‹åºç›´æ¥å´©ã€‚å’±ä»¬ä¸€æ­¥ä¸€æ­¥ç®—ï¼Œä¿è¯æ˜æ˜ç™½ç™½ï¼š</p>
<ol>
<li>è¾“å…¥ï¼š[Batch, 3, 32, 32] â†’ Batch æ˜¯æ‰¹é‡å¤§å°ï¼ˆæ¯”å¦‚ 128ï¼‰ï¼Œ3 æ˜¯ RGB é€šé“ï¼Œ32Ã—32 æ˜¯å›¾ç‰‡å°ºå¯¸ã€‚</li>
<li>å·ç§¯å— 1ï¼šConv2d(3, 32, 3, padding=1) â†’ è¾“å…¥é€šé“ 3ï¼Œè¾“å‡ºé€šé“ 32ï¼Œå·ç§¯æ ¸ 3Ã—3ï¼Œpadding=1ï¼ˆå¡«å…… 1 ä¸ªåƒç´ ï¼‰ã€‚ ä¸ºä»€ä¹ˆåŠ  paddingï¼Ÿå› ä¸ºå·ç§¯æ ¸æ˜¯ 3Ã—3ï¼Œä¸åŠ  padding çš„è¯ï¼Œå›¾ç‰‡å°ºå¯¸ä¼šå˜å°ï¼ˆ32â†’30ï¼‰ï¼ŒåŠ äº† padding èƒ½ä¿æŒå°ºå¯¸ä¸å˜ï¼ˆè¿˜æ˜¯ 32Ã—32ï¼‰ã€‚ ç»è¿‡ ReLU æ¿€æ´»åï¼Œshape ä¸å˜ â†’ [Batch, 32, 32, 32]ã€‚ å†ç»è¿‡ MaxPool2d(2,2)ï¼ˆ2Ã—2 æ± åŒ–ï¼Œæ­¥å¹… 2ï¼‰â†’ å°ºå¯¸å‡åŠï¼ˆ32â†’16ï¼‰â†’ [Batch, 32, 16, 16]ã€‚</li>
<li>å·ç§¯å— 2ï¼šConv2d(32, 64, 3, padding=1) â†’ è¾“å…¥é€šé“ 32ï¼Œè¾“å‡ºé€šé“ 64ï¼Œå…¶ä»–å‚æ•°å’Œä¸Šä¸€å±‚ä¸€æ ·ã€‚ ç»è¿‡ ReLU å shape ä¸å˜ â†’ [Batch, 64, 16, 16]ã€‚ å†ç»è¿‡ MaxPool2d(2,2) â†’ å°ºå¯¸å†å‡åŠï¼ˆ16â†’8ï¼‰â†’ [Batch, 64, 8, 8]ã€‚</li>
<li>æ‹‰å¹³ï¼ˆFlattenï¼‰ï¼šæŠŠ [Batch, 64, 8, 8] å˜æˆ 1D å‘é‡ã€‚è®¡ç®—æ–¹æ³•ï¼š64Ã—8Ã—8=4096 â†’ æ‹‰å¹³å shape æ˜¯ [Batch, 4096]ã€‚</li>
<li>å…¨è¿æ¥å±‚ï¼šLinear(4096, 512) â†’ ä» 4096 ç»´é™åˆ° 512 ç»´ï¼›å†ç»è¿‡ Linear(512, 64) â†’ é™åˆ° 64 ç»´ï¼›æœ€å Linear(64, 10) â†’ é™åˆ° 10 ç»´ï¼ˆå¯¹åº” 10 ä¸ªç±»åˆ«ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-8">å®Œæ•´ç½‘ç»œä»£ç ï¼ˆå¸¦è¯¦ç»†æ³¨é‡Šï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn
<span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F

<span class="hljs-comment"># å®šä¹‰è®¾å¤‡ï¼šæœ‰GPUç”¨GPUï¼Œæ²¡GPUç”¨CPUï¼ˆGPUè®­ç»ƒå¿«10å€ï¼ï¼‰</span>
device = torch.device(<span class="hljs-string">"cuda:0"</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">"cpu"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleCNN</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>(SimpleCNN, self).__init__()
        <span class="hljs-comment"># å·ç§¯å— 1ï¼š3é€šé“è¾“å…¥â†’32é€šé“è¾“å‡º</span>
        self.conv1 = nn.Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>)  <span class="hljs-comment"># å·ç§¯å±‚</span>
        self.pool = nn.MaxPool2d(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)               <span class="hljs-comment"># æ± åŒ–å±‚ï¼ˆå…±ç”¨ï¼‰</span>
        
        <span class="hljs-comment"># å·ç§¯å— 2ï¼š32é€šé“è¾“å…¥â†’64é€šé“è¾“å‡º</span>
        self.conv2 = nn.Conv2d(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>) <span class="hljs-comment"># å·ç§¯å±‚</span>
        
        <span class="hljs-comment"># å…¨è¿æ¥å±‚ï¼šç‰¹å¾æ˜ å°„åˆ°ç±»åˆ«</span>
        self.fc1 = nn.Linear(<span class="hljs-number">64</span> * <span class="hljs-number">8</span> * <span class="hljs-number">8</span>, <span class="hljs-number">512</span>)        <span class="hljs-comment"># è¾“å…¥4096ç»´â†’è¾“å‡º512ç»´</span>
        self.fc2 = nn.Linear(<span class="hljs-number">512</span>, <span class="hljs-number">64</span>)                <span class="hljs-comment"># 512ç»´â†’64ç»´</span>
        self.fc3 = nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">10</span>)                 <span class="hljs-comment"># 64ç»´â†’10ç»´ï¼ˆ10åˆ†ç±»ï¼‰</span>
        
        <span class="hljs-comment"># Dropoutï¼šéšæœºä¸¢å¼ƒ50%ç¥ç»å…ƒï¼ˆé˜²è¿‡æ‹Ÿåˆæ ¸å¿ƒï¼‰</span>
        self.dropout = nn.Dropout(<span class="hljs-number">0.25</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        <span class="hljs-comment"># å‰å‘ä¼ æ’­ï¼šæ•°æ®åœ¨ç½‘ç»œé‡Œçš„æµåŠ¨è·¯å¾„</span>
        x = self.pool(F.relu(self.conv1(x)))  <span class="hljs-comment"># å·ç§¯1â†’ReLUâ†’æ± åŒ– â†’ [B,32,16,16]</span>
        x = self.pool(F.relu(self.conv2(x)))  <span class="hljs-comment"># å·ç§¯2â†’ReLUâ†’æ± åŒ– â†’ [B,64,8,8]</span>
        
        x = x.view(-<span class="hljs-number">1</span>, <span class="hljs-number">64</span> * <span class="hljs-number">8</span> * <span class="hljs-number">8</span>)            <span class="hljs-comment"># æ‹‰å¹³ï¼š[B,64,8,8]â†’[B,4096]</span>
        <span class="hljs-comment"># è¿™é‡Œçš„-1è¡¨ç¤ºâ€œè‡ªåŠ¨è®¡ç®—Batchå¤§å°â€ï¼Œä¸ç”¨æ‰‹åŠ¨æ”¹ï¼Œè¶…æ–¹ä¾¿ï¼</span>
        
        x = F.relu(self.fc1(x))               <span class="hljs-comment"># å…¨è¿æ¥1â†’ReLU</span>
        x = self.dropout(x)                   <span class="hljs-comment"># åŠ Dropouté˜²è¿‡æ‹Ÿåˆ</span>
        x = F.relu(self.fc2(x))               <span class="hljs-comment"># å…¨è¿æ¥2â†’ReLU</span>
        x = self.fc3(x)                       <span class="hljs-comment"># è¾“å‡ºå±‚ï¼šä¸ç”¨æ¿€æ´»ï¼ˆCrossEntropyLossè‡ªå¸¦Softmaxï¼‰</span>
        <span class="hljs-keyword">return</span> x

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹å¹¶ç§»åˆ°è®¾å¤‡ä¸Š</span>
model = SimpleCNN().to(device)
</code></pre>
<p><strong>å…³é”®æé†’</strong>ï¼šDropout åªåœ¨è®­ç»ƒæ—¶ç”Ÿæ•ˆï¼è®­ç»ƒæ—¶è°ƒç”¨ model.train()ï¼ŒDropout ä¼šéšæœºä¸¢å¼ƒç¥ç»å…ƒï¼›æµ‹è¯•æ—¶ä¸€å®šè¦è°ƒç”¨ <code>model.eval()</code>ï¼ŒDropout ä¼šè‡ªåŠ¨â€œä¸‹ç­â€ï¼Œæ‰€æœ‰ç¥ç»å…ƒéƒ½å·¥ä½œâ€”â€”ä¸ç„¶æµ‹è¯•å‡†ç¡®ç‡ä¼šä½å¾—ç¦»è°±ï¼</p>
<hr/>
<h3 data-id="heading-9">å››ã€ è®­ç»ƒå®å½•ï¼š10è½®â€œç‚¼ä¸¹â€ï¼Œè§è¯ CNN é€†è¢­</h3>
<p>è®­ç»ƒä»£ç çš„æ ¸å¿ƒç»“æ„å’Œ <a href="https://juejin.cn/post/7593077945016959003" target="_blank" title="https://juejin.cn/post/7593077945016959003">ã€æ·±åº¦å­¦ä¹ Day3ã€‘</a> è·‘ MNIST æ—¶å·®ä¸å¤šï¼Œè¿™é‡Œç›´æ¥å¤ç”¨ä¹‹å‰çš„ <code>train</code> å’Œ <code>test</code> å‡½æ•°ï¼Œä¸ç”¨å†å†™ä¸€éï¼Œçœæ—¶çœåŠ›ï½
ä¸‹é¢ç›´æ¥ç»™å‡ºå®Œæ•´å¯è¿è¡Œçš„è®­ç»ƒ+è¯„ä¼°ä»£ç ï¼Œä¸ç”¨å†æ‰¾æ—§ä»£ç æ‹¼æ¥ï¼</p>
<h4 data-id="heading-10">æ ¸å¿ƒè®­ç»ƒå‚æ•°+å®Œæ•´è®­ç»ƒ/è¯„ä¼°ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 1. æ ¸å¿ƒå‚æ•°</span>
criterion = nn.CrossEntropyLoss()  <span class="hljs-comment"># å¤šåˆ†ç±»æŸå¤±å‡½æ•°</span>
optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">0.001</span>, weight_decay=<span class="hljs-number">1e-4</span>)  <span class="hljs-comment"># åŠ æƒé‡è¡°å‡é˜²è¿‡æ‹Ÿåˆ</span>
epochs = <span class="hljs-number">10</span>  <span class="hljs-comment"># è®­ç»ƒ10è½®</span>
batch_size = <span class="hljs-number">64</span>  

<span class="hljs-comment"># 2. è¯„ä¼°å‡½æ•°ï¼ˆè®¡ç®—æµ‹è¯•é›†å‡†ç¡®ç‡ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">model, testloader, criterion</span>):
    model.<span class="hljs-built_in">eval</span>()  <span class="hljs-comment"># åˆ‡æ¢åˆ°è¯„ä¼°æ¨¡å¼ï¼ŒDropoutå¤±æ•ˆ</span>
    test_loss = <span class="hljs-number">0.0</span>
    correct = <span class="hljs-number">0</span>
    total = <span class="hljs-number">0</span>
    <span class="hljs-keyword">with</span> torch.no_grad():  <span class="hljs-comment"># å…³é—­æ¢¯åº¦è®¡ç®—ï¼ŒèŠ‚çœæ˜¾å­˜å’Œæ—¶é—´</span>
        <span class="hljs-keyword">for</span> X, y <span class="hljs-keyword">in</span> testloader:
            X, y = X.to(device), y.to(device)
            outputs = model(X)
            loss = criterion(outputs, y)
            test_loss += loss.item() * X.size(<span class="hljs-number">0</span>)
            _, predicted = torch.<span class="hljs-built_in">max</span>(outputs.data, <span class="hljs-number">1</span>)
            total += y.size(<span class="hljs-number">0</span>)
            correct += (predicted == y).<span class="hljs-built_in">sum</span>().item()
    <span class="hljs-comment"># è®¡ç®—å¹³å‡æŸå¤±å’Œå‡†ç¡®ç‡</span>
    avg_loss = test_loss / total
    accuracy = <span class="hljs-number">100</span> * correct / total
    <span class="hljs-keyword">return</span> avg_loss, accuracy

<span class="hljs-comment"># 3. å®Œæ•´è®­ç»ƒå¾ªç¯</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">model, trainloader, testloader, criterion, optimizer, epochs</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å…±<span class="hljs-subst">{epochs}</span>è½®ï¼Œbatch_size=<span class="hljs-subst">{batch_size}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"----------------------------------------"</span>)
    best_acc = <span class="hljs-number">0.0</span>  <span class="hljs-comment"># è®°å½•æœ€ä½³æµ‹è¯•å‡†ç¡®ç‡</span>
    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(epochs):
        start_time = time.time()
        model.train()  <span class="hljs-comment"># åˆ‡æ¢åˆ°è®­ç»ƒæ¨¡å¼ï¼ŒDropoutç”Ÿæ•ˆ</span>
        running_loss = <span class="hljs-number">0.0</span>
        <span class="hljs-keyword">for</span> X, y <span class="hljs-keyword">in</span> trainloader:
            X, y = X.to(device), y.to(device)
        
            <span class="hljs-comment"># æ¢¯åº¦æ¸…é›¶</span>
            optimizer.zero_grad()
            
            <span class="hljs-comment"># å‰å‘ä¼ æ’­+åå‘ä¼ æ’­+ä¼˜åŒ–</span>
            outputs = model(X)
            loss = criterion(outputs, y)
            loss.backward()
            optimizer.step()
            
            <span class="hljs-comment"># ç»Ÿè®¡è®­ç»ƒæŸå¤±</span>
            running_loss += loss.item() * X.size(<span class="hljs-number">0</span>)
        
        <span class="hljs-comment"># æ¯è½®ç»“æŸåè¯„ä¼°æµ‹è¯•é›†</span>
        avg_train_loss = running_loss / <span class="hljs-built_in">len</span>(trainloader.dataset)
        test_loss, test_acc = test(model, testloader, criterion)
        
        <span class="hljs-comment"># è®°å½•æœ€ä½³å‡†ç¡®ç‡</span>
        <span class="hljs-keyword">if</span> test_acc &gt; best_acc:
            best_acc = test_acc
            <span class="hljs-comment"># å¯é€‰ï¼šä¿å­˜æœ€ä½³æ¨¡å‹</span>
            torch.save(model.state_dict(), <span class="hljs-string">"cifar10_best_model.pth"</span>)
        
        <span class="hljs-comment"># æ‰“å°æ¯è½®è®­ç»ƒä¿¡æ¯</span>
        end_time = time.time()
        epoch_time = end_time - start_time
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Epoch [<span class="hljs-subst">{epoch+<span class="hljs-number">1</span>}</span>/<span class="hljs-subst">{epochs}</span>]"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®­ç»ƒæŸå¤±: <span class="hljs-subst">{avg_train_loss:<span class="hljs-number">.4</span>f}</span>, æµ‹è¯•æŸå¤±: <span class="hljs-subst">{test_loss:<span class="hljs-number">.4</span>f}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æµ‹è¯•å‡†ç¡®ç‡: <span class="hljs-subst">{test_acc:<span class="hljs-number">.2</span>f}</span>%, æœ€ä½³å‡†ç¡®ç‡: <span class="hljs-subst">{best_acc:<span class="hljs-number">.2</span>f}</span>%"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœ¬è½®è€—æ—¶: <span class="hljs-subst">{epoch_time:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"----------------------------------------"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è®­ç»ƒç»“æŸï¼æœ€ä½³æ¨¡å‹å·²ä¿å­˜ä¸º cifar10_best_model.pth"</span>)

<span class="hljs-comment"># 4. å¯åŠ¨è®­ç»ƒï¼ˆç›´æ¥è°ƒç”¨å‡½æ•°å³å¯ï¼‰</span>
train(model, trainloader, testloader, criterion, optimizer, epochs)
</code></pre>
<h4 data-id="heading-11">è®­ç»ƒæˆ˜æŠ¥</h4>
<p>ç”¨ GPU è®­ç»ƒï¼ˆ<code>batch_size=64</code>ï¼‰ï¼Œ10 è½®è®­ç»ƒæ€»è€—æ—¶ä¸åˆ° 8 åˆ†é’Ÿï¼Œæ¯è½®è€—æ—¶ 40 ç§’å·¦å³å†…ï¼Œå‡†ç¡®ç‡è¡¨ç°å¦‚ä¸‹ï¼ˆè¿™é‡Œç»™å‡ºéƒ¨åˆ†æˆ‘çš„ç»“æœï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">å…±10è½®ï¼Œbatch_size=64
----------------------------------------
Epoch [1/10]
è®­ç»ƒæŸå¤±: 1.5999, æµ‹è¯•æŸå¤±: 1.3044
æµ‹è¯•å‡†ç¡®ç‡: 51.61%, æœ€ä½³å‡†ç¡®ç‡: 51.61%
æœ¬è½®è€—æ—¶: 41.32ç§’
...
Epoch [5/10]
è®­ç»ƒæŸå¤±: 0.9686, æµ‹è¯•æŸå¤±: 0.8486
æµ‹è¯•å‡†ç¡®ç‡: 69.91%, æœ€ä½³å‡†ç¡®ç‡: 69.91%
æœ¬è½®è€—æ—¶: 40.09ç§’
...
Epoch [10/10]
è®­ç»ƒæŸå¤±: 0.8114, æµ‹è¯•æŸå¤±: 0.7328
æµ‹è¯•å‡†ç¡®ç‡: 74.72%, æœ€ä½³å‡†ç¡®ç‡: 74.72%
æœ¬è½®è€—æ—¶: 40.31ç§’
----------------------------------------
è®­ç»ƒç»“æŸï¼æœ€ä½³æ¨¡å‹å·²ä¿å­˜ä¸º cifar10_best_model.pth
</code></pre>
<hr/>
<h3 data-id="heading-12">äº”ã€ æ ¸å¿ƒå¹²è´§ï¼šCNN è°ƒå‚å¿ƒæ³•ï¼ˆé¢è¯•å¿…èƒŒï¼ï¼‰</h3>
<p>è·‘é€šæ¨¡å‹åªæ˜¯ç¬¬ä¸€æ­¥ï¼ŒçœŸæ­£çš„â€œç‚¼ä¸¹å¤§å¸ˆâ€éƒ½æ‡‚è°ƒå‚ã€‚é¢è¯•å®˜æœ€çˆ±é—®ï¼šâ€œå¦‚æœä½ çš„æ¨¡å‹å‡†ç¡®ç‡ä¸Šä¸å»ï¼Œä½ ä¼šæ€ä¹ˆåŠï¼Ÿâ€ ç›´æ¥ç”©ä¸‹é¢è¿™å¥—å¿ƒæ³•ï¼Œä¿è¯è®©é¢è¯•å®˜çœ¼å‰ä¸€äº®ï¼</p>
<h4 data-id="heading-13">5.1 é‡åˆ°è¿‡æ‹Ÿåˆï¼ˆè®­ç»ƒé›†99%ï¼Œæµ‹è¯•é›†70%ï¼‰ï¼šè¿™æ˜¯æœ€å¸¸è§çš„å‘</h4>
<p>è¿‡æ‹Ÿåˆå°±æ˜¯ç½‘ç»œâ€œæ­»è®°ç¡¬èƒŒâ€äº†è®­ç»ƒé›†ï¼Œé‡åˆ°æ–°æ•°æ®ï¼ˆæµ‹è¯•é›†ï¼‰å°±æ­‡èœâ€”â€”ç›¸å½“äºè€ƒè¯•å‰èƒŒé¢˜ï¼Œæ¢ä¸€å¥—é¢˜å°±è€ƒç ¸ã€‚å¯¹ç­–æŒ‰ä¼˜å…ˆçº§æ’åºï¼š</p>
<ul>
<li><strong>æ•°æ®å¢å¼ºï¼ˆé¦–é€‰ï¼é›¶æˆæœ¬è§æ•ˆï¼‰</strong> ï¼šé™¤äº†æˆ‘ä»¬åŠ çš„ç¿»è½¬å’Œè£å‰ªï¼Œè¿˜èƒ½åŠ  <code>RandomRotation</code>ï¼ˆéšæœºæ—‹è½¬ï¼‰ã€<code>ColorJitter</code>ï¼ˆéšæœºè°ƒæ•´äº®åº¦/å¯¹æ¯”åº¦ï¼‰â€”â€”è¶ŠæŠ˜è…¾ï¼Œç½‘ç»œè¶Šéš¾èƒŒå›¾ã€‚</li>
<li><strong>åŠ å¤§ Dropout åŠ›åº¦</strong>ï¼šå¦‚æœç”¨äº† 0.25 çš„ Dropout è¿˜è¿‡æ‹Ÿåˆï¼Œå°±è°ƒåˆ° 0.4 æˆ– 0.5ï¼ˆåˆ«å¤ªé«˜ï¼Œä¸ç„¶ç½‘ç»œå­¦ä¸åˆ°ä¸œè¥¿ï¼‰ã€‚</li>
<li><strong>åŠ æƒé‡è¡°å‡ï¼ˆL2æ­£åˆ™åŒ–ï¼‰</strong> ï¼šåœ¨ä¼˜åŒ–å™¨é‡ŒåŠ  <code>weight_decay=1e-4</code>ï¼Œç›¸å½“äºç»™æƒé‡æˆ´ä¸ªâ€œç´§ç®å’’â€ï¼Œä¸è®©å®ƒé•¿å¾—å¤ªå¤§â€”â€”æƒé‡å¤ªå¤§å®¹æ˜“è¿‡æ‹Ÿåˆã€‚</li>
<li><strong>æ—©åœï¼ˆEarly Stoppingï¼‰</strong> ï¼šè®­ç»ƒæ—¶ç›¯ç€æµ‹è¯•é›†å‡†ç¡®ç‡ï¼Œä¸€æ—¦è¿ç»­å‡ è½®ä¸æ¶¨ç”šè‡³ä¸‹é™ï¼Œå°±ç«‹åˆ»åœâ€”â€”åˆ«è®©ç½‘ç»œåœ¨è®­ç»ƒé›†ä¸Šâ€œçç¢ç£¨â€ã€‚</li>
</ul>
<h4 data-id="heading-14">5.2 é‡åˆ°æ¬ æ‹Ÿåˆï¼ˆè®­ç»ƒé›†éƒ½ä¸åˆ°70%ï¼‰ï¼šç½‘ç»œå¤ªâ€œç¬¨â€ï¼Œå­¦ä¸ä¼š</h4>
<p>æ¬ æ‹Ÿåˆå°±æ˜¯ç½‘ç»œçš„â€œå­¦ä¹ èƒ½åŠ›â€ä¸å¤Ÿï¼Œè¿è®­ç»ƒé›†çš„è§„å¾‹éƒ½æ²¡æ‘¸é€â€”â€”ç›¸å½“äºå°å­¦ç”Ÿå­¦å¾®ç§¯åˆ†ï¼Œæ ¹æœ¬è·Ÿä¸ä¸Šã€‚å¯¹ç­–ï¼š</p>
<ul>
<li><strong>åŠ æ·±/åŠ å®½ç½‘ç»œ</strong>ï¼šæ¯”å¦‚æŠŠå·ç§¯å±‚ä» 2 å±‚åŠ åˆ° 4 å±‚ï¼Œæˆ–è€…æŠŠè¾“å‡ºé€šé“ä» 32/64 æ”¹æˆ 64/128â€”â€”ç»™ç½‘ç»œâ€œåŠ è„‘å­â€ã€‚</li>
<li><strong>è°ƒä½å­¦ä¹ ç‡</strong>ï¼šå­¦ä¹ ç‡å¤ªé«˜ï¼Œæ¢¯åº¦ä¸‹é™ä¼šâ€œè·³æ¥è·³å»â€ï¼Œæ°¸è¿œè¸©ä¸åˆ°æœ€ä¼˜è§£ï¼›è°ƒä½åˆ° 0.0001ï¼Œè®©å®ƒæ…¢æ…¢å­¦ã€‚</li>
<li><strong>å‡å°‘æ­£åˆ™åŒ–åŠ›åº¦</strong>ï¼šå¦‚æœåŠ äº† Dropout æˆ–æƒé‡è¡°å‡ï¼Œå°±é€‚å½“é™ä½ï¼ˆæ¯”å¦‚ Dropout ä» 0.5 é™åˆ° 0.3ï¼‰â€”â€”åˆ«æŠŠç½‘ç»œâ€œç®¡å¤ªä¸¥â€ï¼Œè®©å®ƒæ”¾å¼€äº†å­¦ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-15">å…­ã€ è¶£å‘³ç¯èŠ‚ï¼šçœ‹çœ‹ CNN åˆ°åº•åœ¨â€œçœ‹â€ä»€ä¹ˆï¼Ÿ</h3>
<p>å’±ä»¬èŠ±äº†è¿™ä¹ˆå¤šæ—¶é—´æ­ç½‘ç»œï¼Œä½ ä¸å¥½å¥‡å®ƒæ˜¯æ€ä¹ˆâ€œçœ‹â€å›¾ç‰‡çš„å—ï¼Ÿå…¶å®å¯ä»¥ç”¨ä»£ç æå–å·ç§¯å±‚çš„ç‰¹å¾å›¾ï¼Œå¯è§†åŒ–ä¹‹åå°±ä¸€ç›®äº†ç„¶äº†ï¼š</p>
<ul>
<li>ç¬¬ä¸€å±‚å·ç§¯æ ¸ï¼šä¸»è¦æå–è¾¹ç¼˜ã€é¢œè‰²ã€çº¹ç†è¿™äº›ç®€å•ç‰¹å¾â€”â€”å°±åƒæˆ‘ä»¬çœ‹ä¸œè¥¿å…ˆçœ‹è½®å»“ã€‚</li>
<li>æ·±å±‚å·ç§¯æ ¸ï¼šä¸»è¦æå–çœ¼ç›ã€è½¦è½®ã€ç¿…è†€è¿™äº›å¤æ‚ç‰¹å¾â€”â€”ç½‘ç»œä¼šæŠŠç®€å•ç‰¹å¾ç»„åˆæˆå¤æ‚ç‰¹å¾ï¼Œæœ€ååˆ¤æ–­â€œè¿™æ˜¯ä»€ä¹ˆâ€ã€‚</li>
</ul>
<p>è¿™é‡Œç»™å¤§å®¶æ”¾ä¸€æ®µç®€å•çš„å¯è§†åŒ–ä»£ç ï¼ˆç›´æ¥è·‘ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># å–ä¸€å¼ æµ‹è¯•å›¾</span>
dataiter = <span class="hljs-built_in">iter</span>(testloader)
images, labels = <span class="hljs-built_in">next</span>(dataiter)
img = images[<span class="hljs-number">0</span>].unsqueeze(<span class="hljs-number">0</span>).to(device)  <span class="hljs-comment"># å–ç¬¬ä¸€å¼ å›¾ï¼ŒåŠ Batchç»´åº¦</span>

<span class="hljs-comment"># æå–conv1å±‚çš„ç‰¹å¾å›¾</span>
model.<span class="hljs-built_in">eval</span>()
<span class="hljs-keyword">with</span> torch.no_grad():
    <span class="hljs-comment"># æ‰‹åŠ¨å‰å‘ä¼ æ’­åˆ°conv1</span>
    x = F.relu(model.conv1(img))

<span class="hljs-comment"># å¯è§†åŒ–ç‰¹å¾å›¾ï¼ˆå–å‰16ä¸ªé€šé“ï¼‰</span>
x = x.squeeze(<span class="hljs-number">0</span>).cpu().numpy()  <span class="hljs-comment"># å»æ‰Batchç»´åº¦ï¼Œè½¬æˆnumpy</span>
fig, axes = plt.subplots(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>))
<span class="hljs-keyword">for</span> i, ax <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(axes.flat):
    ax.imshow(x[i], cmap=<span class="hljs-string">'gray'</span>)
    ax.axis(<span class="hljs-string">'off'</span>)
plt.savefig(<span class="hljs-string">'conv1_features.png'</span>)
plt.show()
</code></pre>
<p>è¿è¡Œåä¼šç”Ÿæˆä¸€å¼  4Ã—4 çš„ç‰¹å¾å›¾ï¼Œæ¯ä¸€å¼ å°å›¾éƒ½æ˜¯ CNN çœ‹åˆ°çš„â€œä¸–ç•Œâ€â€”â€”æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿè¿™å®Œç¾å°è¯äº† CNN â€œç”±ç®€å…¥ç¹â€çš„ç‰¹å¾æå–é€»è¾‘ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b2b6fe61c8145ab91e95763ae16b4db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-g5p-g6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768730485&amp;x-signature=Hrv8nyl%2B%2FIQmKy9RIIReB1XnRws%3D" alt="conv1_features.png" loading="lazy"/></p>
<h3 data-id="heading-16">ğŸ“Œ ä¸‹æœŸé¢„å‘Šï¼šResNet + è¿ç§»å­¦ä¹ ï¼Œå‡†ç¡®ç‡å†² 90%+ï¼</h3>
<p>é€šè¿‡ä»Šå¤©çš„å®æˆ˜ï¼Œå’±ä»¬ä¹Ÿç®—çœ‹æ˜ç™½äº†ï¼šCNNè™½ç„¶æ¯”MLPèƒ½æ‰“ï¼Œä½†æ¶ä¸ä½å®ƒä¼šâ€œä½œå¼Šâ€â€”â€”å·å·æŠŠè®­ç»ƒé›†çš„â€œæ ‡å‡†ç­”æ¡ˆâ€èƒŒä¸‹æ¥äº†ï¼ˆè®­ç»ƒé›†å‡†ç¡®ç‡é£™é«˜ï¼Œæµ‹è¯•é›†æ‹‰èƒ¯ï¼Œè¿‡æ‹Ÿåˆå®é”¤ï¼ï¼‰ã€‚</p>
<p>æ‰€ä»¥ä¸‹ä¸€ç¯‡ï¼Œå’±å…ˆä¸æ€¥ç€æ¢â€œæ–°è£…å¤‡â€ï¼ˆResNetå…ˆå§”å±ˆä¸€ä¸‹ï¼Œæ”¾ä»“åº“ç§¯ç°ï¼‰ï¼Œä¸“é—¨å¼€ä¸€æœŸâ€œåä½œå¼Šç‰¹è®­è¥â€â€”â€”æ­»ç£•æ•°æ®å¢å¼ºï¼ˆData Augmentationï¼‰ï¼ æˆ‘ä¼šå¸¦ä½ æ‰’æ˜ç™½PyTorch transformsçš„â€œåŸºç¡€æ“ä½œâ€ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç©æ˜ç™½é«˜çº§å¢å¼ºæŠ€å·§ã€‚æ ¸å¿ƒæ€è·¯å°±ä¸€ä¸ªï¼šä¸å¢åŠ æ¨¡å‹åŠç‚¹å¤æ‚åº¦ï¼Œçº¯é â€œå‹æ¦¨â€æ•°æ®çš„æ¯ä¸€æ»´ä»·å€¼ï¼ŒæŠŠå‡†ç¡®ç‡å†å¾€ä¸ŠçŒ›æä¸€æˆªï¼ è®©æ¨¡å‹ä»â€œæ­»è®°ç¡¬èƒŒâ€å˜æˆâ€œçœŸæ­£ç†è§£â€ã€‚</p>
<p>æœ€åç•™ä¸ªå°ä½œä¸šï¼šæŠŠä»Šå¤©çš„ç½‘ç»œæ”¹æˆ 3 ä¸ªå·ç§¯å—ï¼Œçœ‹çœ‹å‡†ç¡®ç‡èƒ½ä¸èƒ½å†²åˆ° 80%ï¼Ÿè¯„è®ºåŒºæ™’å‡ºä½ çš„æˆ˜æŠ¥ï¼</p>
<blockquote>
<p>æ¬¢è¿å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œè§è¯ MATLAB è€é¸Ÿåˆ°ç®—æ³•å·¥ç¨‹å¸ˆçš„è¿›é˜¶ä¹‹è·¯ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é€‰æ‹©FAISSçš„ç´¢å¼•ç±»å‹]]></title>    <link>https://juejin.cn/post/7593713738856464422</link>    <guid>https://juejin.cn/post/7593713738856464422</guid>    <pubDate>2026-01-11T10:05:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593713738856464422" data-draft-id="7593630465380188198" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é€‰æ‹©FAISSçš„ç´¢å¼•ç±»å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æ¶æ„,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-11T10:05:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜ç«‹å†›"/> <meta itemprop="url" content="https://juejin.cn/user/2830599308981642"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é€‰æ‹©FAISSçš„ç´¢å¼•ç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2830599308981642/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜ç«‹å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:05:18.000Z" title="Sun Jan 11 2026 10:05:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç³»ç»Ÿæ€§çš„ä»‹ç»äº† <a href="https://link.juejin.cn?target=http%3A%2F%2Fwfcoding.com%2Farticles%2Fprogrammer%2Fp13%2F" target="_blank" title="http://wfcoding.com/articles/programmer/p13/" ref="nofollow noopener noreferrer">åµŒå…¥å’Œè¯­ä¹‰æ£€ç´¢</a> ä»¥åŠ <a href="https://link.juejin.cn?target=http%3A%2F%2Fwfcoding.com%2Farticles%2Fprogrammer%2Fp14%2F" target="_blank" title="http://wfcoding.com/articles/programmer/p14/" ref="nofollow noopener noreferrer">å‘é‡ç›¸ä¼¼åº¦</a>ã€‚<br/>
æœ¬æ–‡å°†åœ¨<strong>è¯­ä¹‰æ£€ç´¢</strong>é¢†åŸŸæ¢è®¨æ›´åŠ æ¥è¿‘å®æˆ˜çš„è¯é¢˜ï¼šå¦‚ä½•å¦‚ä½•é€‰æ‹©FAISSçš„ç´¢å¼•ç±»å‹ã€‚<br/>
<strong>Faiss</strong> æ˜¯ä¸€ä¸ªç”¨äºé«˜æ•ˆç›¸ä¼¼æ€§æœç´¢å’Œå¯†é›†å‘é‡èšç±»çš„åº“ã€‚å®ƒä½¿ç”¨ C++ ç¼–å†™ï¼Œå¹¶æä¾›äº†å®Œæ•´çš„ Python å°è£…ã€‚ å¯ä»¥åœ¨ CPU ä¸Šè¿è¡Œï¼Œåªæ˜¯ä¸€äº›æœ€æœ‰ç”¨çš„ç®—æ³•æ˜¯åœ¨ GPU ä¸Šå®ç°çš„ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼š</p>
<ul>
<li><strong>k-NN æ£€ç´¢</strong>: ä¸ä»…è¿”å›æœ€è¿‘çš„é‚»å±…ï¼Œè¿˜è¿”å›ç¬¬äºŒè¿‘ã€ç¬¬ä¸‰è¿‘ã€â€¦â€¦ã€ç¬¬ k è¿‘çš„é‚»å±…ï¼›</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>: ä¸€æ¬¡æœç´¢å¤šä¸ªå‘é‡ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æœç´¢ä¸€ä¸ªã€‚ å¯¹äºè®¸å¤šç´¢å¼•ç±»å‹ï¼Œè¿™æ¯”ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æœç´¢å‘é‡æ›´å¿«ï¼›</li>
<li><strong>ä»¥ç²¾åº¦æ¢å–é€Ÿåº¦</strong>: ä»¥ 10% çš„ä¸æ­£ç¡®ç»“æœä¸ºä»£ä»·ï¼Œæ¢å– 10 å€çš„é€Ÿåº¦æˆ–ä½¿ç”¨æ›´å°‘çš„å†…å­˜ï¼›</li>
<li><strong>èŒƒå›´æœç´¢</strong>ï¼šè¿”å›æŸ¥è¯¢ç‚¹ç»™å®šåŠå¾„å†…çš„æ‰€æœ‰å…ƒç´ ï¼›</li>
<li><strong>æœ¬åœ°å­˜å‚¨</strong>ï¼š å°†ç´¢å¼•å­˜å‚¨åœ¨ç£ç›˜ä¸Šè€Œä¸æ˜¯åœ¨ RAM ä¸­ï¼›</li>
<li>...</li>
</ul>
<hr/>

<h2 data-id="heading-0">FAISSç´¢å¼•æ¦‚è§ˆ</h2>
<p><strong>Faiss</strong> æ”¯æŒå¤šç§ç›¸ä¼¼åº¦åº¦é‡æ–¹å¼ï¼ŒåŒ…æ‹¬æ¬§æ°è·ç¦»ï¼ˆL2è·ç¦»ï¼‰ã€å†…ç§¯ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ã€æ±‰æ˜è·ç¦»ç­‰ï¼Œä»¥é€‚åº”ä¸åŒåº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚<br/>
<strong>Faiss</strong> æä¾›äº†ä¼—å¤šç±»å‹çš„ç´¢å¼•ï¼Œå¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä¸¤å¤§å®¶æ—ï¼š<strong>äºŒè¿›åˆ¶ç´¢å¼•/Binary ç´¢å¼•/Binary Indexes</strong>ï¼ˆä¸å¸¸ç”¨ï¼‰ å’Œ <strong>å®å€¼ç´¢å¼•</strong>ï¼ˆå¸¸ç”¨ï¼‰ã€‚<br/>
<strong>Faiss</strong> çš„æ ¸å¿ƒåœ¨äºå…¶é«˜æ•ˆçš„ç´¢å¼•ç»“æ„å’Œæœç´¢ç®—æ³•ï¼Œå¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ç±»ï¼š</p>
<p><strong>ä»ç´¢å¼•ç»“æ„ä¸Šçœ‹</strong>ï¼š</p>
<hr/>
<ul>
<li><strong>å¹³é¢ç´¢å¼•</strong>ï¼ˆFlatï¼Œæ–¹æ³•åï¼š<code>IndexFlatL2/IP</code>ï¼‰:æœ€ç®€å•çš„ç´¢å¼•ç»“æ„ï¼Œå®ƒä¸ä¿®æ”¹è¾“å…¥çš„å‘é‡ï¼Œå°†æ‰€æœ‰å‘é‡å­˜å‚¨åœ¨ä¸€èµ·ã€‚æœç´¢æ—¶éœ€éå†æ•´ä¸ªæ•°æ®é›†ï¼Œè®¡ç®—æŸ¥è¯¢å‘é‡ä¸æ¯ä¸ªæ•°æ®å‘é‡çš„ç›¸ä¼¼åº¦ã€‚</li>
<li><strong>å€’æ’æ–‡ä»¶ç´¢å¼•</strong>ï¼ˆInverted File Indexï¼Œç¼©å†™ï¼š<code>IVF</code>ï¼Œæ–¹æ³•åï¼š<code>IndexIVF*</code>ï¼‰ï¼šåŸºäºèšç±»çš„æ€æƒ³ï¼Œå…ˆå°†æ•°æ®é›†åˆ’åˆ†ä¸ºå¤šä¸ªå­é›†ã€‚æœç´¢æ—¶å…ˆæ‰¾åˆ°æœ€ç›¸å…³çš„å‡ ä¸ªå­é›†ï¼ˆè¿‘ä¼¼æœç´¢ï¼‰ï¼Œå†åœ¨å­é›†ä¸­ç²¾ç¡®æœç´¢ã€‚
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦<strong>å€’æ’</strong>ï¼Ÿ<br/>
<strong>æ­£æ’</strong> ï¼šåº”è¯¥æ˜¯ â€œå‘é‡â†’æ‰€å±èšç±»â€ï¼Œå³æ¯ä¸ªå‘é‡è®°å½•è‡ªå·±å±äºå“ªä¸ªåˆ†åŒºï¼ˆä»¥å‘é‡ä¸ºä¸­å¿ƒï¼‰; <strong>å€’æ’</strong>ï¼ˆIVF çš„å®é™…åšæ³•ï¼‰ï¼šæ˜¯ â€œèšç±»â†’å‘é‡åˆ—è¡¨â€ï¼Œå³æ¯ä¸ªèšç±»ä¸­å¿ƒè®°å½•å±äºè¯¥åˆ†åŒºçš„æ‰€æœ‰å‘é‡ï¼Œå½¢æˆ â€œå€’æ’è¡¨ï¼ˆInverted Listï¼‰â€ã€‚<br/>
åœ¨å‘é‡æ£€ç´¢ä¸­ï¼Œè‹¥ç”¨ æ­£æ’ é€»è¾‘ï¼ˆæ¯ä¸ªå‘é‡è®°å½•è‡ªå·±çš„åˆ†åŒºï¼‰ï¼ŒæŸ¥è¯¢æ—¶éœ€è¦éå†æ‰€æœ‰å‘é‡ï¼Œæ£€æŸ¥å…¶æ‰€å±åˆ†åŒºæ˜¯å¦åŒ¹é…ï¼Œæ•ˆç‡æä½ï¼ˆO(N)ï¼‰ã€‚è€Œ <strong>å€’æ’</strong> é€»è¾‘é€šè¿‡ <strong>èšç±»â†’å‘é‡åˆ—è¡¨</strong> çš„æ˜ å°„ï¼Œèƒ½ç›´æ¥å®šä½åˆ°å€™é€‰åˆ†åŒºçš„å‘é‡é›†åˆï¼Œ<strong>åªéœ€åœ¨å°èŒƒå›´å†…æœç´¢</strong>ï¼ˆO(M)ï¼ŒM è¿œå°äº Nï¼‰ï¼Œè¿™æ­£æ˜¯ â€œå€’æ’â€ å¸¦æ¥çš„æ ¸å¿ƒæ•ˆç‡æå‡ã€‚</p>
</blockquote>
</li>
<li><strong>åŸºäºå›¾çš„ç´¢å¼•</strong>ï¼ˆHierarchical Navigable Small Worldï¼Œç¼©å†™ï¼š<code>HNSW</code>ï¼Œæ–¹æ³•åï¼š<code>IndexHNSW*</code>ï¼‰ï¼šåŸºäºå›¾çš„è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ç®—æ³•ï¼Œæ„å»ºå¤šå±‚å›¾ç»“æ„ï¼Œæ¯ä¸€å±‚èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå‘é‡ï¼ŒèŠ‚ç‚¹é—´è¾¹ä»£è¡¨ç›¸ä¼¼åº¦ã€‚æœç´¢æ—¶é€šè¿‡å±‚æ¬¡è·³è·ƒå¿«é€Ÿç¼©å°æœç´¢èŒƒå›´ï¼Œæœ€ç»ˆæ‰¾åˆ°è¿‘ä¼¼æœ€è¿‘é‚»ã€‚
<blockquote>
<p><strong>HNSW</strong>ï¼ˆHierarchical Navigable Small Worldï¼‰çš„æœ¬è´¨æ˜¯ç»™å‘é‡æ„å»ºä¸€å¼ å¤šå±‚çº§çš„ â€œå¯¼èˆªå›¾â€ï¼Œä¸Šå±‚å›¾æ˜¯ â€œé«˜é€Ÿè·¯â€ï¼ˆå°‘èŠ‚ç‚¹ã€è·³å¾—è¿œï¼‰ï¼Œä¸‹å±‚å›¾æ˜¯ â€œè¡—é“â€ï¼ˆå¤šèŠ‚ç‚¹ã€èµ°å¾—ç»†ï¼‰ã€‚å³ï¼š<strong>ä¸Šå±‚å¿«é€Ÿç¼©å°èŒƒå›´ï¼Œä¸‹å±‚ç²¾å‡†å®šä½ç›®æ ‡</strong>ã€‚</p>
</blockquote>
</li>
<li><strong>ä¹˜ç§¯é‡åŒ–ç´¢å¼•</strong>ï¼ˆProduct Quantizationï¼‰ï¼šå°†é«˜ç»´å‘é‡æ‹†åˆ†æˆå¤šä¸ªä½ç»´å­å‘é‡ï¼Œåˆ†åˆ«é‡åŒ–ï¼ˆå‹ç¼©ï¼‰åå­˜å‚¨ï¼Œå¤§å¹…é™ä½å†…å­˜å ç”¨å¹¶åŠ é€Ÿè·ç¦»è®¡ç®—ã€‚
<blockquote>
<p>å•ç‹¬ä½¿ç”¨è¾ƒå°‘ï¼Œå¤šä¸ IVFï¼ˆå€’æ’æ–‡ä»¶ï¼‰ç»“åˆä¸ºIndexIVFPQï¼ˆå…ˆåˆ†åŒºå†é‡åŒ–ï¼‰ï¼Œå¹³è¡¡é€Ÿåº¦ã€å†…å­˜ä¸ç²¾åº¦ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong>ä»æœç´¢ç®—æ³•è§’åº¦çœ‹</strong>ï¼š</p>
<hr/>
<ul>
<li><strong>ç²¾ç¡®ç´¢å¼•</strong> ï¼ˆExact Indexï¼‰ : éå†æ‰€æœ‰å‘é‡ï¼Œä¿è¯è¿”å›æœ€ç²¾ç¡®çš„è¿‘é‚»ç»“æœã€‚<code>IndexFlatIP</code> å’Œ <code>IndexFlatL2</code> å°±å±äºç²¾ç¡®ç´¢å¼•ã€‚è™½ç„¶ç»“æœç²¾ç¡®ï¼Œä½†å½“æ•°æ®é›†éå¸¸å¤§æ—¶ï¼Œæœç´¢é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ã€‚</li>
<li><strong>è¿‘ä¼¼ç´¢å¼•</strong> ï¼ˆApproximate Indexï¼‰ : é€šè¿‡ç‰ºç‰²ä¸€å®šçš„æœç´¢ç²¾åº¦æ¥æ¢å–æ›´å¿«çš„æœç´¢é€Ÿåº¦å’Œæ›´ä½çš„å†…å­˜å ç”¨ã€‚ä¾‹å¦‚ <code>IndexIVFFlat</code> å’Œ <code>IndexHNSWFlat</code>ã€‚å®ƒä»¬é€‚ç”¨äºéœ€è¦å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ï¼Œä¸”å¯¹ç²¾åº¦è¦æ±‚ç›¸å¯¹å®½æ¾çš„åœºæ™¯ã€‚</li>
</ul>
<p>ä¸‹å›¾å±•ç¤ºäº† Faiss ç´¢å¼•å®¶æ—çš„æ¦‚å†µï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/371c926581114cef9f0bf40d0feb6f56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY56uL5Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768730718&amp;x-signature=dp4hBg3FJPxWZ0tXFN36BAjjza8%3D" alt="FAISSç´¢å¼•å±‚çº§ç»“æ„.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">äºŒè¿›åˆ¶ç´¢å¼•</h2>
<p><strong>äºŒè¿›åˆ¶ç´¢å¼•ï¼ˆBinary Indexesï¼‰</strong> æ˜¯ FAISS çš„ä¸€ä¸ª<strong>ç‹¬ç«‹åˆ†æ”¯ä½“ç³»</strong>ï¼Œå®ƒä»¬ä¸<strong>å®å€¼ç´¢å¼•</strong>ï¼ˆReal-valued Indexï¼‰å…±äº«ä¸€å¥— <strong>ç›¸åŒçš„ä¸Šå±‚æ¥å£</strong>ï¼Œä½†åº•å±‚å­˜å‚¨å’Œç›¸ä¼¼åº¦è®¡ç®—æ–¹å¼å®Œå…¨ä¸åŒã€‚å¦‚ä¸‹è¡¨ï¼š</p>























<table><thead><tr><th>å®¶æ—ç±»å‹</th><th>å­˜å‚¨å½¢å¼</th><th>è·ç¦»åº¦é‡</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td><strong>å®å€¼ç´¢å¼•ï¼ˆReal-valued Indexï¼‰</strong></td><td>å‘é‡ä¸º <code>float32</code>ï¼ˆè¿ç»­æ•°å€¼ï¼‰</td><td>æ¬§æ°è·ç¦»ã€å†…ç§¯ã€ä½™å¼¦ç›¸ä¼¼åº¦</td><td>è¯­ä¹‰æ£€ç´¢ã€å›¾åƒæ£€ç´¢ã€æ–‡æœ¬åµŒå…¥</td></tr><tr><td><strong>äºŒè¿›åˆ¶ç´¢å¼•ï¼ˆBinary Indexï¼‰</strong></td><td>å‘é‡ä¸ºäºŒè¿›åˆ¶ç ï¼ˆ0/1 æ¯”ç‰¹ï¼‰</td><td>æ±‰æ˜è·ç¦»ï¼ˆHamming Distanceï¼‰</td><td>äºŒå€¼ç‰¹å¾ã€æŒ‡çº¹ç‰¹å¾ã€å‹ç¼©ç‰¹å¾åŒ¹é…</td></tr></tbody></table>
<p><strong>æ±‰æ˜è·ç¦»ï¼ˆHamming Distanceï¼‰</strong>ï¼š<strong>è®¡ç®—ä¸¤ä¸ªç­‰é•¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆæˆ–äºŒè¿›åˆ¶å‘é‡ï¼‰ä¸­ï¼Œå¯¹åº”ä½ç½®ä¸Š â€œ0â€ å’Œ â€œ1â€ ä¸åŒçš„ä½æ•°</strong>ï¼Œä»¥æ­¤è¡¡é‡ä¸¤è€…çš„å·®å¼‚ç¨‹åº¦ã€‚<br/>
ä¾‹å¦‚ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸² Aï¼š101101</li>
<li>å­—ç¬¦ä¸² Bï¼š111001<br/>
é€ä½å¯¹æ¯”ï¼šç¬¬ 2 ä½ï¼ˆ0 vs 1ï¼‰ã€ç¬¬ 4 ä½ï¼ˆ1 vs 0ï¼‰ä¸åŒï¼Œå…± 2 ä¸ªä¸åŒä½ â†’ æ±‰æ˜è·ç¦» = 2ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">äºŒè¿›åˆ¶ç´¢å¼•çš„æ ¸å¿ƒæ€æƒ³</h3>
<p>åœ¨ <strong>äºŒè¿›åˆ¶ç´¢å¼•</strong> ä¸­ï¼Œæ¯ä¸ªå‘é‡ä¸æ˜¯æµ®ç‚¹æ•°ï¼Œè€Œæ˜¯ä¸€ä¸²äºŒè¿›åˆ¶æ¯”ç‰¹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æµ®ç‚¹å‘é‡(x): [0.1, 0.7, -0.3, -0.2, ...]</span>
<span class="hljs-section">äºŒå€¼å‘é‡(b): 1100...</span>
</code></pre>
<p>è¿™äº›æ¯”ç‰¹é€šå¸¸æ¥è‡ªäº<strong>æµ®ç‚¹å‘é‡ç»è¿‡äºŒå€¼åŒ–ï¼ˆbinarizationï¼‰å¤„ç†</strong>ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸‹é¢çš„ <strong>Signå‡½æ•°</strong> å³å¯å°†ä¸Šé¢çš„ æµ®ç‚¹å‘é‡(x) è½¬æ¢ä¸º äºŒå€¼å‘é‡(b)ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>ifÂ </mtext><msub><mi>x</mi><mi>i</mi></msub><mo>â‰¥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">b_i = \begin{cases} 
1 &amp; \text{if } x_i \ge 0 \newline 
0 &amp; \text{otherwise} 
\end{cases} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span/></span></span></span></span><span class="arraycolsep" style="width:1em;"/><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord text"><span class="mord">ifÂ </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord">0</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord text"><span class="mord">otherwise</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span/></span></span></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p>ç„¶åé€šè¿‡<strong>æ±‰æ˜è·ç¦»</strong>ï¼ˆHamming distanceï¼‰æ¥æ¯”è¾ƒç›¸ä¼¼åº¦ã€‚</p>
<hr/>
<h3 data-id="heading-3">äºŒè¿›åˆ¶ç´¢å¼•çš„å¸¸è§ç±»å‹</h3>

























<table><thead><tr><th>ç´¢å¼•ç±»å‹</th><th>å«ä¹‰</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>IndexBinaryFlat</code></td><td>ç²¾ç¡®æ±‰æ˜è·ç¦»è®¡ç®—</td><td>ä¸ <code>IndexFlatL2</code> ç±»ä¼¼ï¼ˆç²¾ç¡®æœç´¢ï¼‰</td></tr><tr><td><code>IndexBinaryIVF</code></td><td>å€’æ’æ–‡ä»¶ + æ±‰æ˜è·ç¦»</td><td>ä¸ <code>IndexIVFFlat</code> ç±»ä¼¼ï¼ˆåˆ†åŒºåŠ é€Ÿï¼‰</td></tr><tr><td><code>IndexBinaryHNSW</code></td><td>å›¾ç´¢å¼• + æ±‰æ˜è·ç¦»</td><td>ä¸ <code>IndexHNSWFlat</code> ç±»ä¼¼ï¼ˆé«˜æ•ˆè¿‘ä¼¼ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">äºŒè¿›åˆ¶ç´¢å¼•ä¸å®å€¼ç´¢å¼•çš„å…³ç³»</h3>








































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>å®å€¼ç´¢å¼•ï¼ˆReal-valuedï¼‰</th><th>äºŒè¿›åˆ¶ç´¢å¼•ï¼ˆBinaryï¼‰</th></tr></thead><tbody><tr><td>å‘é‡ç±»å‹</td><td><code>float32</code></td><td><code>uint8</code>ï¼ˆbit-packedï¼‰</td></tr><tr><td>ç›¸ä¼¼åº¦åº¦é‡</td><td>L2 / Inner Product / Cosine</td><td>Hamming Distance</td></tr><tr><td>æœç´¢ç²¾åº¦</td><td>é«˜ï¼ˆè¿ç»­ç©ºé—´ï¼‰</td><td>è¾ƒä½ï¼ˆç¦»æ•£ç©ºé—´ï¼‰</td></tr><tr><td>å­˜å‚¨å ç”¨</td><td>è¾ƒå¤§</td><td>æå°ï¼ˆå‹ç¼©æ¯”é«˜ï¼‰</td></tr><tr><td>æœç´¢é€Ÿåº¦</td><td>è¾ƒæ…¢</td><td>æå¿«ï¼ˆæŒ‰ä½å¼‚æˆ–+ä½è®¡æ•°ï¼‰</td></tr><tr><td>å¸¸è§ç”¨é€”</td><td>è¯­ä¹‰æ£€ç´¢ã€åµŒå…¥(Embedding)</td><td>äºŒå€¼å“ˆå¸Œæ£€ç´¢ã€å›¾åƒæŒ‡çº¹ã€å±€éƒ¨ç‰¹å¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">ç¤ºä¾‹ï¼šä¸¤ç±»ç´¢å¼•çš„ä½¿ç”¨åŒºåˆ«</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> faiss
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># æµ®ç‚¹å‘é‡</span>
xb = np.random.random((<span class="hljs-number">1000</span>, <span class="hljs-number">128</span>)).astype(<span class="hljs-string">'float32'</span>)
index_f = faiss.IndexFlatL2(<span class="hljs-number">128</span>)
index_f.add(xb)

<span class="hljs-comment"># äºŒå€¼å‘é‡ï¼ˆå‡è®¾å·²äºŒå€¼åŒ–ï¼‰</span>
xb_bin = np.random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, (<span class="hljs-number">1000</span>, <span class="hljs-number">128</span>)).astype(<span class="hljs-string">'uint8'</span>)
index_b = faiss.IndexBinaryFlat(<span class="hljs-number">128</span>)
index_b.add(xb_bin)
</code></pre>
<p>ä¸¤è€…éƒ½å¯ä»¥ <code>.add()</code> / <code>.search()</code>ï¼Œ
ä½†è®¡ç®—æ–¹å¼å®Œå…¨ä¸åŒï¼š</p>
<ul>
<li><code>IndexFlatL2</code> ä½¿ç”¨æ¬§æ°è·ç¦»</li>
<li><code>IndexBinaryFlat</code> ä½¿ç”¨æ±‰æ˜è·ç¦»</li>
</ul>
<hr/>
<h3 data-id="heading-6">äºŒè¿›åˆ¶ç´¢å¼•çš„ä¼˜åŠ¿ä¸å±€é™</h3>





















<table><thead><tr><th>ä¼˜åŠ¿</th><th>å±€é™</th></tr></thead><tbody><tr><td>æå°å­˜å‚¨ï¼ˆ128ç»´ä»…16å­—èŠ‚ï¼‰</td><td>ç›¸ä¼¼åº¦ç²¾åº¦è¾ƒä½</td></tr><tr><td>æŸ¥è¯¢æå¿«ï¼ˆåŸºäºä½è¿ç®—ï¼‰</td><td>æ— æ³•ç›´æ¥å¤„ç†æµ®ç‚¹åµŒå…¥ï¼ˆEmbeddingï¼‰</td></tr><tr><td>é€‚åˆç¡¬ä»¶åŠ é€Ÿï¼ˆGPU/FPGAï¼‰</td><td>ä¸é€‚åˆå¤æ‚è¯­ä¹‰å‘é‡ç©ºé—´</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">å°ç»“</h3>
<p>äºŒè¿›åˆ¶ç´¢å¼•æ˜¯ä¸€æ¡<strong>å¹¶è¡Œçš„ã€é’ˆå¯¹äºŒè¿›åˆ¶ç‰¹å¾ä¼˜åŒ–çš„ç´¢å¼•ä½“ç³»</strong>ï¼Œå®ƒçš„ç»“æ„è®¾è®¡å€Ÿé‰´äº†å®å€¼ç´¢å¼•ï¼Œä½†ä½¿ç”¨<strong>æ±‰æ˜è·ç¦»</strong>ä»£æ›¿äº†æµ®ç‚¹è·ç¦»ã€‚<br/>
å®ƒä¸æ˜¯â€œFlat/IVF/PQâ€çš„å­ç±»ï¼Œè€Œæ˜¯<strong>å¦ä¸€ç±»ä»¥æ±‰æ˜è·ç¦»ä¸ºæ ¸å¿ƒçš„ç´¢å¼•ä½“ç³»</strong>ï¼Œç”¨äºäºŒå€¼åŒ–ç‰¹å¾çš„è¶…é«˜æ•ˆç›¸ä¼¼åº¦æœç´¢ã€‚</p>
<hr/>
<h2 data-id="heading-8">å®å€¼ç´¢å¼•</h2>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å¸¸ç”¨çš„ Faiss å®å€¼ç´¢å¼•ã€‚</p>
<h3 data-id="heading-9">1. IndexFlatIP (Flat Inner Product Index)</h3>
<p><strong>ç±»å‹</strong>: ç²¾ç¡®ç´¢å¼• (Exact Index)<br/>
<strong>åº¦é‡</strong>: å†…ç§¯ (Inner Product, IP)</p>
<p><strong>å·¥ä½œåŸç†</strong>: IndexFlatIP æ˜¯æœ€åŸºç¡€çš„ Faiss ç´¢å¼•ç±»å‹ä¹‹ä¸€ã€‚å®ƒå°†æ‰€æœ‰å‘é‡ <strong>ä¸åšä»»ä½•å‹ç¼©æˆ–ç¼–ç </strong> ç›´æ¥å­˜å‚¨ã€‚åœ¨æœç´¢æ—¶ï¼Œå®ƒä¼š <strong>æš´åŠ›éå†</strong> ç´¢å¼•ä¸­çš„æ‰€æœ‰å‘é‡ï¼Œè®¡ç®—æ¯ä¸ªå‘é‡ä¸æŸ¥è¯¢å‘é‡çš„å†…ç§¯ï¼Œå¹¶è¿”å›å†…ç§¯å€¼æœ€é«˜çš„ K ä¸ªå‘é‡ä½œä¸ºæœ€è¿‘é‚»ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>:</p>
<ul>
<li><strong>ç²¾åº¦é«˜</strong>: ç”±äºæ˜¯é’ˆå¯¹å…¨éƒ¨å‘é‡çš„æš´åŠ›æœç´¢ï¼Œå…·æœ‰å®Œç¾çš„å¬å›ç‡ã€‚</li>
<li><strong>å®ç°ç®€å•</strong>: ç†è§£å’Œå®ç°éƒ½éå¸¸ç›´æ¥ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>:</p>
<ul>
<li><strong>é€Ÿåº¦æ…¢</strong>: å½“æ•°æ®é›†éå¸¸å¤§æ—¶ï¼Œæœç´¢é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®é›†çš„å®æ—¶åº”ç”¨ã€‚</li>
<li><strong>å†…å­˜å ç”¨é«˜</strong>: éœ€è¦å­˜å‚¨æ‰€æœ‰åŸå§‹å‘é‡ï¼Œå†…å­˜æ¶ˆè€—å¤§ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>:</p>
<ul>
<li><strong>å°è§„æ¨¡æ•°æ®é›†</strong>: å½“æ•°æ®é›†è§„æ¨¡è¾ƒå°æ—¶ï¼Œä¾‹å¦‚å‡ ç™¾ä¸‡ç”šè‡³æ›´å°ï¼Œå¯ä»¥æ¥å—æš´åŠ›æœç´¢çš„è€—æ—¶ã€‚</li>
<li><strong>å¯¹ç²¾åº¦è¦æ±‚æé«˜</strong>: åœ¨ä¸€äº›å¯¹æœç´¢ç»“æœç²¾åº¦è¦æ±‚éå¸¸é«˜çš„åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚éœ€è¦ä½œä¸ºè¯„ä¼°å…¶ä»–è¿‘ä¼¼ç´¢å¼•æ–¹æ³•ç²¾åº¦çš„åŸºå‡†ã€‚</li>
<li><strong>åŸå‹éªŒè¯å’Œå®éªŒ</strong>: åœ¨ç®—æ³•åŸå‹å¼€å‘é˜¶æ®µï¼Œå¯ä»¥ä½¿ç”¨ IndexFlatIP æ¥å¿«é€ŸéªŒè¯ç®—æ³•çš„æ­£ç¡®æ€§ï¼Œç„¶åå†è€ƒè™‘æ›´é«˜æ•ˆçš„ç´¢å¼•æ–¹æ³•ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">index = faiss.IndexFlatIP(dimension)
</code></pre>
<hr/>
<h3 data-id="heading-10">2. IndexFlatL2 (Flat L2 Distance Index)</h3>
<p><strong>ç±»å‹</strong>: ç²¾ç¡®ç´¢å¼• (Exact Index)<br/>
<strong>åº¦é‡</strong>: L2 è·ç¦» (æ¬§æ°è·ç¦», Euclidean Distance)</p>
<p><strong>å·¥ä½œåŸç†</strong>: ä¸ IndexFlatIP ç±»ä¼¼ï¼ŒIndexFlatL2 ä¹Ÿå°†æ‰€æœ‰å‘é‡åŸå§‹åœ°å­˜å‚¨ï¼Œå¹¶è¿›è¡Œæš´åŠ›æœç´¢ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼ŒIndexFlatL2 è®¡ç®—çš„æ˜¯ L2 è·ç¦» (æ¬§æ°è·ç¦»)ï¼Œå¹¶è¿”å› L2 è·ç¦»æœ€å°çš„ K ä¸ªå‘é‡ä½œä¸ºæœ€è¿‘é‚»ã€‚</p>
<p><strong>ä¼˜ç‚¹å’Œç¼ºç‚¹</strong>: ä¸ IndexFlatIP ç±»ä¼¼ï¼Œç²¾åº¦é«˜ï¼Œå®ç°ç®€å•ï¼Œä½†é€Ÿåº¦æ…¢ï¼Œå†…å­˜å ç”¨é«˜ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>:</p>
<ul>
<li><strong>å°è§„æ¨¡æ•°æ®é›†</strong>ï¼Œä¸”éœ€è¦åŸºäº L2 è·ç¦» è¿›è¡Œç›¸ä¼¼æ€§æœç´¢çš„åœºæ™¯ã€‚</li>
<li>åŒæ ·é€‚ç”¨äºç²¾åº¦è¦æ±‚é«˜æˆ–ä½œä¸ºåŸºå‡†æµ‹è¯•çš„åœºæ™¯ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">index = faiss.IndexFlatL2(dimension)
</code></pre>
<hr/>
<h3 data-id="heading-11">3. IndexIVFFlat (Inverted File Flat Index)</h3>
<p><strong>ç±»å‹</strong>: è¿‘ä¼¼ç´¢å¼• (Approximate Index)<br/>
<strong>åº¦é‡</strong>: é€šå¸¸ä¸ L2 è·ç¦»æˆ–å†…ç§¯ç»“åˆä½¿ç”¨</p>
<p><strong>å·¥ä½œåŸç†</strong>: IndexIVFFlat å¼•å…¥äº† <strong>å€’æ’æ–‡ä»¶</strong> (Inverted File) çš„æ€æƒ³æ¥åŠ é€Ÿæœç´¢ã€‚å®ƒé¦–å…ˆå°†å‘é‡ç©ºé—´åˆ’åˆ†ä¸ºå¤šä¸ªå•å…ƒ  ï¼Œæ¯ä¸ªå•å…ƒæœ‰ä¸€ä¸ª èšç±»ä¸­å¿ƒã€‚åœ¨ç´¢å¼•æ„å»ºé˜¶æ®µï¼Œæ¯ä¸ªå‘é‡ä¼šè¢«åˆ†é…åˆ°ç¦»å®ƒæœ€è¿‘çš„èšç±»ä¸­å¿ƒæ‰€ä»£è¡¨çš„å•å…ƒä¸­ã€‚åœ¨æœç´¢é˜¶æ®µï¼Œé¦–å…ˆæ‰¾åˆ°ä¸æŸ¥è¯¢å‘é‡æœ€è¿‘çš„è‹¥å¹²ä¸ªå•å…ƒï¼Œç„¶ååœ¨è¿™äº›å•å…ƒå†…éƒ¨è¿›è¡Œæš´åŠ›æœç´¢ (Flat æœç´¢)ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>:</p>
<ul>
<li><strong>æœç´¢é€Ÿåº¦å¿«</strong>: é€šè¿‡åªåœ¨éƒ¨åˆ†å•å…ƒå†…æœç´¢ï¼Œå¤§å¤§å‡å°‘äº†æœç´¢èŒƒå›´ï¼Œæé«˜äº†æœç´¢é€Ÿåº¦ã€‚</li>
<li><strong>å¯æ§çš„ç²¾åº¦å’Œé€Ÿåº¦å¹³è¡¡</strong>: å¯ä»¥é€šè¿‡è°ƒæ•´å•å…ƒçš„æ•°é‡ (<code>nlist</code>) å’Œæœç´¢æ—¶è®¿é—®çš„å•å…ƒæ•°é‡ (<code>nprobe</code>) æ¥å¹³è¡¡æœç´¢ç²¾åº¦å’Œé€Ÿåº¦ã€‚</li>
</ul>
<p>åœ¨FAISSçš„IVFï¼ˆå€’æ’æ–‡ä»¶ï¼‰ç´¢å¼•ä¸­ï¼Œ<code>nlist</code>å’Œ<code>nprobe</code>æ˜¯ä¸¤ä¸ªæ ¸å¿ƒå‚æ•°ï¼Œç›´æ¥å†³å®šäº†ç´¢å¼•çš„<strong>ç©ºé—´åˆ†åŒºç²’åº¦</strong>å’Œ<strong>æœç´¢èŒƒå›´</strong>ï¼Œè¿›è€Œå¹³è¡¡æœç´¢çš„é€Ÿåº¦ä¸ç²¾åº¦ï¼š</p>
<p><strong>nlist</strong>ï¼šèšç±»ä¸­å¿ƒçš„æ•°é‡ï¼ˆç©ºé—´åˆ†åŒºæ•°ï¼‰</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå®šä¹‰IVFç´¢å¼•å°†æ•´ä¸ªå‘é‡ç©ºé—´åˆ’åˆ†çš„<strong>èšç±»åˆ†åŒºæ•°é‡</strong>ã€‚<br/>
è®­ç»ƒæ—¶ï¼ŒIVFä¼šå¯¹å‘é‡è¿›è¡Œèšç±»ï¼Œç”Ÿæˆ<code>nlist</code>ä¸ªèšç±»ä¸­å¿ƒï¼Œæ¯ä¸ªä¸­å¿ƒå¯¹åº”ä¸€ä¸ªâ€œ Voronoi èƒè…”â€ï¼ˆåˆ†åŒºï¼‰ï¼Œæ‰€æœ‰å‘é‡è¢«åˆ†é…åˆ°è·ç¦»æœ€è¿‘çš„åˆ†åŒºä¸­ï¼Œå½¢æˆ<code>nlist</code>ä¸ªå€’æ’è¡¨ã€‚</li>
<li><strong>å½±å“</strong>ï¼š
<ul>
<li><code>nlist</code>è¶Šå¤§ï¼Œæ¯ä¸ªåˆ†åŒºåŒ…å«çš„å‘é‡è¶Šå°‘ï¼Œç†è®ºä¸Šå±€éƒ¨æœç´¢é€Ÿåº¦è¶Šå¿«ï¼Œä½†èšç±»ä¸­å¿ƒçš„å­˜å‚¨å’Œè®¡ç®—æˆæœ¬è¶Šé«˜ï¼ˆè®­ç»ƒæ—¶é—´æ›´é•¿ï¼‰ã€‚</li>
<li><code>nlist</code>éœ€ä¸æ•°æ®é‡åŒ¹é…ï¼ˆé€šå¸¸è®¾ä¸º<code>1024</code>ã€<code>2048</code>ç­‰ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œ<code>nlist</code>å¯é€‚å½“å¢å¤§ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>nprobe</strong>ï¼šæŸ¥è¯¢æ—¶è®¿é—®çš„åˆ†åŒºæ•°</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæŒ‡å®šæœç´¢æ—¶éœ€è¦æ£€æŸ¥çš„<strong>å€™é€‰åˆ†åŒºæ•°é‡</strong>ã€‚<br/>
æŸ¥è¯¢æ—¶ï¼Œå…ˆè®¡ç®—æŸ¥è¯¢å‘é‡ä¸<code>nlist</code>ä¸ªèšç±»ä¸­å¿ƒçš„è·ç¦»ï¼Œç„¶åé€‰å–è·ç¦»æœ€è¿‘çš„<code>nprobe</code>ä¸ªåˆ†åŒºï¼Œä»…åœ¨è¿™äº›åˆ†åŒºçš„å€’æ’è¡¨ä¸­æœç´¢å‘é‡ã€‚</li>
<li><strong>å½±å“</strong>ï¼š
<ul>
<li><code>nprobe</code>è¶Šå°ï¼Œæœç´¢èŒƒå›´è¶Šçª„ï¼Œé€Ÿåº¦è¶Šå¿«ï¼Œä½†å¯èƒ½æ¼æ‰çœŸæ­£çš„è¿‘é‚»ï¼ˆç²¾åº¦ä¸‹é™ï¼‰ã€‚</li>
<li><code>nprobe</code>è¶Šå¤§ï¼Œè¦†ç›–çš„å€™é€‰åˆ†åŒºè¶Šå¤šï¼Œç²¾åº¦è¶Šé«˜ï¼Œä½†éœ€è¦è®¡ç®—æ›´å¤šå‘é‡çš„è·ç¦»ï¼ˆé€Ÿåº¦å˜æ…¢ï¼‰ã€‚</li>
<li>æ˜¯IVFç´¢å¼•ä¸­<strong>æœ€å…³é”®çš„è°ƒä¼˜å‚æ•°</strong>ï¼Œé€šå¸¸é€šè¿‡å®éªŒåœ¨é€Ÿåº¦ä¸ç²¾åº¦é—´æƒè¡¡ï¼ˆä¾‹å¦‚<code>nlist=1024</code>æ—¶ï¼Œ<code>nprobe=16</code>ä¸ºå¸¸è§æŠ˜ä¸­å€¼ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>:</p>
<ul>
<li><strong>è¿‘ä¼¼æœç´¢</strong>: ç”±äºåªæœç´¢äº†éƒ¨åˆ†å•å…ƒï¼Œå¯èƒ½é”™è¿‡çœŸæ­£çš„æœ€è¿‘é‚»ï¼Œå› æ­¤æ˜¯è¿‘ä¼¼æœç´¢ã€‚</li>
<li><strong>éœ€è¦é¢„è®­ç»ƒ</strong>: éœ€è¦å…ˆå¯¹æ•°æ®é›†è¿›è¡Œèšç±»ï¼Œå¾—åˆ°èšç±»ä¸­å¿ƒã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>:</p>
<ul>
<li><strong>ä¸­ç­‰è§„æ¨¡æ•°æ®é›†</strong>: é€‚ç”¨äºæ•°æ®é›†è§„æ¨¡è¾ƒå¤§ï¼Œä½†ä»ç„¶å¸Œæœ›åœ¨ä¸€å®šç²¾åº¦ä¸‹è·å¾—è¾ƒå¿«æœç´¢é€Ÿåº¦çš„åœºæ™¯ã€‚</li>
<li><strong>éœ€è¦å¹³è¡¡ç²¾åº¦å’Œé€Ÿåº¦</strong>: å¯ä»¥é€šè¿‡è°ƒæ•´å‚æ•°æ¥é€‚åº”ä¸åŒçš„ç²¾åº¦å’Œé€Ÿåº¦éœ€æ±‚ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">quantizer = faiss.IndexFlatL2(dimension)  <span class="hljs-comment"># ä½¿ç”¨ L2 è·ç¦»çš„é‡åŒ–å™¨</span>
index = faiss.IndexIVFFlat(quantizer, dimension, nlist=<span class="hljs-number">100</span>)  <span class="hljs-comment"># nlist æ˜¯èšç±»ä¸­å¿ƒçš„æ•°é‡</span>
index.train(embeddings_array)  <span class="hljs-comment"># å¿…é¡»å…ˆè®­ç»ƒç´¢å¼•</span>
index.add(embeddings_array)  <span class="hljs-comment"># ç„¶åå°†æ•°æ®æ·»åŠ åˆ°ç´¢å¼•ä¸­</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">4. IndexHNSWFlat (Hierarchical Navigable Small World graph Index)</h3>
<p><strong>ç±»å‹</strong>: è¿‘ä¼¼ç´¢å¼• (Approximate Index)<br/>
<strong>åº¦é‡</strong>: é€šå¸¸ä¸ L2 è·ç¦»æˆ–å†…ç§¯ç»“åˆä½¿ç”¨</p>
<p><strong>å·¥ä½œåŸç†</strong>: IndexHNSWFlat åŸºäº <strong>åˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œå›¾</strong> (HNSW,Hierarchical Navigable Small World graph) ç®—æ³•ã€‚å®ƒæ„å»ºä¸€ä¸ªå¤šå±‚å›¾ç»“æ„ï¼Œå›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå‘é‡ã€‚åœ¨é«˜å±‚å›¾ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥è¾ƒå°‘ï¼Œä¸»è¦ç”¨äºå¿«é€Ÿå®šä½åˆ°å¯èƒ½åŒ…å«æœ€è¿‘é‚»çš„åŒºåŸŸï¼›åœ¨ä½å±‚å›¾ä¸­ï¼ŒèŠ‚ç‚¹è¿æ¥æ›´å¯†é›†ï¼Œç”¨äºåœ¨å±€éƒ¨åŒºåŸŸè¿›è¡Œæ›´ç²¾ç»†çš„æœç´¢ã€‚æœç´¢è¿‡ç¨‹ä»é¡¶å±‚å›¾å¼€å§‹ï¼Œé€æ­¥å‘ä¸‹å±‚å›¾æ·±å…¥ï¼Œæœ€ç»ˆå¿«é€Ÿå®šä½åˆ°æœ€è¿‘é‚»ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>:</p>
<ul>
<li><strong>æœç´¢é€Ÿåº¦éå¸¸å¿«</strong>: HNSW ç®—æ³•åœ¨æœç´¢é€Ÿåº¦ä¸Šé€šå¸¸æ¯” IndexIVFFlat æ›´å¿«ï¼Œå°¤å…¶æ˜¯åœ¨é«˜ç²¾åº¦è¦æ±‚ä¸‹ã€‚</li>
<li><strong>ç²¾åº¦è¾ƒé«˜</strong>: åœ¨ç›¸åŒçš„æœç´¢é€Ÿåº¦ä¸‹ï¼ŒHNSW é€šå¸¸èƒ½æä¾›æ›´é«˜çš„ç²¾åº¦ã€‚</li>
<li><strong>æ— éœ€é¢„è®­ç»ƒ</strong>: HNSW ç´¢å¼•çš„æ„å»ºè¿‡ç¨‹ä¸éœ€è¦é¢„å…ˆè¿›è¡Œèšç±»ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>:</p>
<ul>
<li><strong>ç´¢å¼•æ„å»ºæ—¶é—´è¾ƒé•¿</strong>: HNSW ç´¢å¼•çš„æ„å»ºæ—¶é—´é€šå¸¸æ¯” IndexIVFFlat é•¿ã€‚</li>
<li><strong>å†…å­˜å ç”¨ç›¸å¯¹è¾ƒé«˜</strong>: ä¸ºäº†ç»´æŠ¤å›¾ç»“æ„ï¼ŒHNSW çš„å†…å­˜å ç”¨é€šå¸¸æ¯” IndexIVFFlat é«˜ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>:</p>
<ul>
<li><strong>å¤§è§„æ¨¡æ•°æ®é›†</strong>: é€‚ç”¨äºéœ€è¦å¤„ç†éå¸¸å¤§çš„æ•°æ®é›†ï¼Œå¹¶å¯¹æœç´¢é€Ÿåº¦å’Œç²¾åº¦éƒ½æœ‰è¾ƒé«˜è¦æ±‚çš„åœºæ™¯ã€‚</li>
<li><strong>å¯¹å®æ—¶æ€§è¦æ±‚é«˜</strong>: ä¾‹å¦‚åœ¨çº¿æ¨èç³»ç»Ÿã€å®æ—¶æ£€ç´¢ç­‰ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">index = faiss.IndexHNSWFlat(dimension, M=<span class="hljs-number">16</span>)
</code></pre>
<hr/>
<h3 data-id="heading-13">5. IndexIVFPQ</h3>
<p><strong>ç±»å‹</strong>: è¿‘ä¼¼ç´¢å¼• (Approximate Index)<br/>
<strong>åº¦é‡</strong>: é€šè¿‡ â€œIVF + PQ ï¼ˆProduct Quantizationï¼‰â€ å®ç°é«˜æ•ˆæ£€ç´¢</p>
<p><strong>å·¥ä½œåŸç†</strong>: å€’æ’æ–‡ä»¶ä¸ä¹˜ç§¯é‡åŒ–ï¼ˆProduct Quantizationï¼‰ç»“åˆï¼ˆå°†é«˜ç»´å‘é‡å‹ç¼©ä¸ºä½ç»´ç¼–ç ï¼‰ã€‚ä½¿ç”¨ä¹˜ç§¯é‡åŒ–æ¥è¿›ä¸€æ­¥å‹ç¼©æ•°æ®å­˜å‚¨ï¼Œä¼˜åŒ–å­˜å‚¨ç©ºé—´å’ŒæŸ¥è¯¢é€Ÿåº¦ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¯¹äºéå¸¸å¤§çš„æ•°æ®é›†å’Œéœ€è¦å‹ç¼©å­˜å‚¨çš„åœºæ™¯ï¼ŒIndexIVFPQ æ˜¯ä¸€ç§é«˜æ•ˆçš„ç´¢å¼•æ–¹å¼ã€‚
<strong>ç¼ºç‚¹</strong>ï¼šè®­ç»ƒå’Œæ„å»ºç´¢å¼•çš„è¿‡ç¨‹ç›¸å¯¹å¤æ‚ï¼Œé€‚åˆå¤§æ•°æ®é›†ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>å¤§è§„æ¨¡é«˜ç»´å‘é‡æ£€ç´¢</strong>ï¼šå¦‚äº¿çº§å›¾åƒç‰¹å¾ã€æ–‡æœ¬åµŒå…¥å‘é‡ï¼›</li>
<li><strong>å†…å­˜æœ‰é™ä½†éœ€è¦å¹³è¡¡é€Ÿåº¦ä¸ç²¾åº¦çš„åœºæ™¯</strong>ï¼šç›¸æ¯”ç²¾ç¡®ç´¢å¼• IndexFlatL2ï¼Œå†…å­˜å¯å‹ç¼© 10-100 å€ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> faiss

<span class="hljs-comment"># 1. å®šä¹‰å‘é‡ç»´åº¦ã€å‚æ•°</span>
d = <span class="hljs-number">128</span>  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
nlist = <span class="hljs-number">1024</span>  <span class="hljs-comment"># èšç±»ä¸­å¿ƒæ•°</span>
m = <span class="hljs-number">16</span>  <span class="hljs-comment"># PQ å­å‘é‡æ•°</span>
nbits = <span class="hljs-number">8</span>  <span class="hljs-comment"># æ¯ä¸ªå­å‘é‡çš„é‡åŒ–ä½æ•°</span>

<span class="hljs-comment"># 2. æ„å»ºé‡åŒ–å™¨ï¼ˆç”¨äº IVF èšç±»ï¼Œé€šå¸¸ç”¨ IndexFlatL2ï¼‰</span>
quantizer = faiss.IndexFlatL2(d)

<span class="hljs-comment"># 3. åˆå§‹åŒ– IndexIVFPQ</span>
index = faiss.IndexIVFPQ(quantizer, d, nlist, m, nbits)

<span class="hljs-comment"># 4. è®­ç»ƒç´¢å¼•ï¼ˆç”¨æ ·æœ¬å‘é‡ç”Ÿæˆèšç±»ä¸­å¿ƒå’Œ PQ ç æœ¬ï¼‰</span>
index.train(train_vectors)  <span class="hljs-comment"># train_vectors æ˜¯å½¢çŠ¶ä¸º (N, d) çš„æ ·æœ¬å‘é‡</span>

<span class="hljs-comment"># 5. æ·»åŠ å‘é‡åˆ°ç´¢å¼•</span>
index.add(database_vectors)  <span class="hljs-comment"># database_vectors æ˜¯å¾…ç´¢å¼•çš„å‘é‡åº“</span>

<span class="hljs-comment"># 6. è®¾ç½®æŸ¥è¯¢å‚æ•° nprobeï¼Œæœç´¢</span>
index.nprobe = <span class="hljs-number">32</span>  <span class="hljs-comment"># è®¿é—® 32 ä¸ªå€™é€‰åˆ†åŒº</span>
D, I = index.search(query_vectors, k=<span class="hljs-number">10</span>)  <span class="hljs-comment"># è¿”å›æ¯ä¸ªæŸ¥è¯¢çš„ top-10 è¿‘ä¼¼è¿‘é‚»ï¼ˆè·ç¦» Dï¼Œç´¢å¼• Iï¼‰</span>
</code></pre>
<blockquote>
<p>ä½¿ç”¨æ—¶éœ€é‡ç‚¹è°ƒä¼˜ nlistï¼ˆåˆ†åŒºæ•°ï¼‰å’Œ nprobeï¼ˆæŸ¥è¯¢åˆ†åŒºæ•°ï¼‰ï¼Œåœ¨é€Ÿåº¦ä¸ç²¾åº¦é—´æ‰¾åˆ°å¹³è¡¡ï¼ˆé€šå¸¸ nprobe è¶Šå¤§ï¼Œç²¾åº¦è¶Šæ¥è¿‘ç²¾ç¡®æœç´¢ï¼Œä½†é€Ÿåº¦è¶Šæ…¢ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>ç”±ä»¥ä¸Šçš„åˆ†æå¯è§ï¼Œåœ¨é€‰æ‹© Faiss ç´¢å¼•æ—¶ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š</p>
<p><strong>æ•°æ®é›†è§„æ¨¡</strong>: æ•°æ®é›†è¶Šå¤§ï¼Œè¶Šéœ€è¦è€ƒè™‘è¿‘ä¼¼ç´¢å¼•ï¼Œä¾‹å¦‚ IndexIVFFlat æˆ– IndexHNSWFlatã€‚<br/>
<strong>ç²¾åº¦è¦æ±‚</strong>: å¦‚æœå¯¹ç²¾åº¦è¦æ±‚éå¸¸é«˜ï¼Œå¯ä»¥è€ƒè™‘ç²¾ç¡®ç´¢å¼• (IndexFlatIP, IndexFlatL2)ï¼Œä½†éœ€è¦æ³¨æ„é€Ÿåº¦é™åˆ¶ã€‚å¦‚æœå¯ä»¥æ¥å—ä¸€å®šçš„ç²¾åº¦æŸå¤±ï¼Œåˆ™è¿‘ä¼¼ç´¢å¼•æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚<br/>
<strong>é€Ÿåº¦è¦æ±‚</strong>: å¯¹æœç´¢é€Ÿåº¦è¦æ±‚è¶Šé«˜ï¼Œè¶Šéœ€è¦é€‰æ‹©æ›´å¿«çš„è¿‘ä¼¼ç´¢å¼•ï¼Œä¾‹å¦‚ IndexHNSWFlatã€‚<br/>
<strong>å†…å­˜é™åˆ¶</strong>: å†…å­˜èµ„æºæœ‰é™æ—¶ï¼Œéœ€è¦è€ƒè™‘å†…å­˜å ç”¨è¾ƒä½çš„ç´¢å¼•æ–¹æ³•ã€‚æ¯”å¦‚ PQ æˆ–è€… äºŒè¿›åˆ¶ç´¢å¼•ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸éœ€è¦æ ¹æ®å…·ä½“çš„æ•°æ®é›†å’Œéœ€æ±‚è¿›è¡Œå®éªŒå’Œè°ƒä¼˜ï¼Œé€‰æ‹©æœ€åˆé€‚çš„ç´¢å¼•æ–¹æ³•å’Œå‚æ•°é…ç½®ã€‚<br/>
å»ºè®®å…ˆä»ç®€å•çš„ IndexFlatIP æˆ– IndexFlatL2 å¼€å§‹ï¼Œå¦‚æœé€Ÿåº¦æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå†å°è¯• IndexIVFFlat æˆ– IndexHNSWFlat ç­‰è¿‘ä¼¼ç´¢å¼•æ–¹æ³•ã€‚</p>
<p><strong>å‚è€ƒ:</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeepwiki.com%2Ffacebookresearch%2Ffaiss%2F3.1-index-types-and-hierarchy%2F" target="_blank" title="https://deepwiki.com/facebookresearch/faiss/3.1-index-types-and-hierarchy/" ref="nofollow noopener noreferrer">ç´¢å¼•ç±»å‹å’Œå±‚æ¬¡ç»“æ„</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffaiss.com.cn%2F" target="_blank" title="https://faiss.com.cn/" ref="nofollow noopener noreferrer">æ¬¢è¿æ¥åˆ° Faiss æ–‡æ¡£</a></li>
<li><a href="https://juejin.cn/post/7379633972245692451" target="_blank" title="https://juejin.cn/post/7379633972245692451">Faissï¼šé€‰æ‹©åˆé€‚çš„ç´¢å¼•Index</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_48705841%2Farticle%2Fdetails%2F143782362" target="_blank" title="https://blog.csdn.net/weixin_48705841/article/details/143782362" ref="nofollow noopener noreferrer">faiss æä¾›äº†å¤šç§ç´¢å¼•ç±»å‹</a></li>
<li><a href="https://juejin.cn/post/7469810823860944907" target="_blank" title="https://juejin.cn/post/7469810823860944907">Faiss ç´¢å¼•</a></li>
</ul>
<hr/>
<p>ğŸªç¥æ‚¨å¥½è¿ğŸª</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ­ç§˜é˜¿é‡Œ DINï¼šå½“æ·±åº¦å­¦ä¹ é‡ä¸Šâ€œåƒç‰©åƒé¢â€]]></title>    <link>https://juejin.cn/post/7593292445301358611</link>    <guid>https://juejin.cn/post/7593292445301358611</guid>    <pubDate>2026-01-11T10:15:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593292445301358611" data-draft-id="7593311807587794950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ­ç§˜é˜¿é‡Œ DINï¼šå½“æ·±åº¦å­¦ä¹ é‡ä¸Šâ€œåƒç‰©åƒé¢â€"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-11T10:15:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿè¾æ ‘"/> <meta itemprop="url" content="https://juejin.cn/user/200544183650531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ­ç§˜é˜¿é‡Œ DINï¼šå½“æ·±åº¦å­¦ä¹ é‡ä¸Šâ€œåƒç‰©åƒé¢â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/200544183650531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿè¾æ ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:15:40.000Z" title="Sun Jan 11 2026 10:15:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ­ç§˜é˜¿é‡Œ DINï¼šå½“æ·±åº¦å­¦ä¹ é‡ä¸Šâ€œåƒç‰©åƒé¢â€</h2>
<blockquote>
<p><strong>å‰è¨€</strong>ï¼šåœ¨æ¨èç³»ç»Ÿçš„æ·±åº¦å­¦ä¹ æ¼”è¿›å²ä¸­ï¼Œé˜¿é‡Œæå‡ºçš„ DIN (Deep Interest Network) æ— ç–‘æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚å®ƒæ‰“ç ´äº† Google Wide&amp;Deep æ—¶ä»£â€œå°†ç”¨æˆ·å†å²è¡Œä¸ºå‹ç¼©æˆå›ºå®šå‘é‡â€çš„æ¡æ¢ï¼Œé¦–æ¬¡å°† Attention æœºåˆ¶å¼•å…¥å·¥ä¸šçº§ CTR é¢„ä¼°ï¼Œå®ç°äº†ä»â€œåƒäººåƒé¢â€åˆ°â€œåƒç‰©åƒé¢â€çš„è·¨è¶Šã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°†ç»“åˆæ¨¡å‹æ¶æ„ã€æ ¸å¿ƒæºç é€»è¾‘ä»¥åŠå·¥ä¸šç•Œè½åœ°çš„å®æˆ˜ç»†èŠ‚ï¼Œå¸¦ä½ å½»åº•è¯»æ‡‚ DINã€‚</p>
</blockquote>
<h3 data-id="heading-1">ğŸš€ 01. ä¼ ç»Ÿæ¨¡å‹çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µï¼šBase Model çš„å›°å¢ƒ</h3>
<p>åœ¨ DIN å‡ºç°ä¹‹å‰ï¼Œå·¥ä¸šç•Œçš„ä¸»æµæ¨¡å‹ï¼ˆå¦‚ Wide&amp;Deep, PNN, Deep Crossingï¼‰å¤„ç†ç”¨æˆ·è¡Œä¸ºåºåˆ—ï¼ˆUser Behavior Sequenceï¼‰çš„æ–¹å¼éå¸¸ç®€å•ç²—æš´ã€‚</p>
<p>é€šå¸¸æµç¨‹æ˜¯ï¼š<code>Embedding</code> -&gt; <code>Pooling</code> -&gt; <code>Concat</code> -&gt; <code>MLP</code>ã€‚</p>
<p><em>(å›¾æ³¨ï¼šä¼ ç»Ÿçš„ Base Model æ¶æ„ï¼Œä½¿ç”¨ Sum/Avg Pooling å¤„ç†å˜é•¿åºåˆ—)</em></p>
<p>ç—›ç‚¹åœ¨å“ªé‡Œï¼Ÿ</p>
<p>å…³é”®åœ¨äº Pooling å±‚ã€‚</p>
<p>å‡è®¾ä¸€ä¸ªç”¨æˆ·ä¹°äº† [èƒŒåŒ…, æ¯å­]ï¼Œç°åœ¨æˆ‘ä»¬è¦é¢„æµ‹ä»–å¯¹ æ‰‹æåŒ… çš„ç‚¹å‡»ç‡ã€‚</p>
<ul>
<li><strong>Base Model</strong> ä¼šæŠŠâ€œèƒŒåŒ…â€å’Œâ€œæ¯å­â€çš„å‘é‡æ±‚å¹³å‡ã€‚ç»“æœå¾—åˆ°ä¸€ä¸ªæ—¢ä¸åƒèƒŒåŒ…ã€ä¹Ÿä¸åƒæ¯å­çš„â€œå››ä¸åƒâ€å‘é‡ã€‚</li>
<li><strong>ç›´è§‰å‘Šè¯‰æˆ‘ä»¬</strong>ï¼šé¢„æµ‹â€œæ‰‹æåŒ…â€æ—¶ï¼Œâ€œèƒŒåŒ…â€çš„æƒé‡åº”è¯¥å¾ˆé«˜ï¼Œè€Œâ€œæ¯å­â€åº”è¯¥æ˜¯å™ªéŸ³ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šç®€å• Pooling å¯¼è‡´ç”¨æˆ·å…´è¶£è¢«<strong>å¹³å‡åŒ–</strong>å’Œ<strong>å›ºå®šåŒ–</strong>ã€‚æ— è®ºå€™é€‰å•†å“æ˜¯ä»€ä¹ˆï¼Œç”¨æˆ·çš„è¡¨è¾¾å‘é‡æ°¸è¿œä¸å˜ï¼Œè¿™é™åˆ¶äº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-2">âš¡ï¸ 02. DIN çš„æ ¸å¿ƒå˜é©ï¼šLocal Activation Unit</h3>
<p>DIN çš„æ ¸å¿ƒæ´å¯Ÿéå¸¸çŠ€åˆ©ï¼š <strong>â€œç”¨æˆ·åœ¨ç‚¹å‡»ä¸åŒå•†å“æ—¶ï¼Œè¡¨ç°å‡ºçš„å…´è¶£æ˜¯ä¸åŒçš„ã€‚â€</strong></p>
<p>å½“é¢„æµ‹â€œæ³³è¡£â€æ—¶ï¼Œç”¨æˆ·å†å²é‡Œçš„â€œæ³³é•œâ€è¢«æ¿€æ´»ï¼›å½“é¢„æµ‹â€œé”®ç›˜â€æ—¶ï¼Œç”¨æˆ·å†å²é‡Œçš„â€œé¼ æ ‡â€è¢«æ¿€æ´»ã€‚è¿™å°±æ˜¯ <strong>Local Activationï¼ˆå±€éƒ¨æ¿€æ´»ï¼‰</strong> ã€‚</p>
<p><em>(å›¾æ³¨ï¼šDIN æ¶æ„å›¾ï¼Œå¼•å…¥äº† Activation Unit è®¡ç®—åŠ¨æ€æƒé‡)</em></p>
<h4 data-id="heading-3">2.1 ç›¸ä¼¼åº¦è®¡ç®—çš„ç§˜å¯†ï¼ˆAttention â‰  Dot Productï¼‰</h4>
<p>å¾ˆå¤šåŒå­¦è¯¯ä»¥ä¸º DIN çš„ Attention å°±æ˜¯ç®€å•çš„å‘é‡ç‚¹ç§¯ã€‚å¤§é”™ç‰¹é”™ï¼</p>
<p>ä¸ºäº†æ•æ‰é«˜é˜¶ç‰¹å¾äº¤äº’ï¼ŒDIN è®¾è®¡äº†ä¸€ä¸ªç²¾å·§çš„ Activation Unitï¼š</p>
<p><em>(å›¾æ³¨ï¼šActivation Unit å†…éƒ¨ç»†èŠ‚ï¼ŒåŒ…å«å¤–ç§¯ä¸å…¨è¿æ¥å±‚)</em></p>
<p>è¾“å…¥å±‚æ„é€ ï¼š</p>
<p>ä¸ä»…ä»…æ˜¯è¾“å…¥ä¸¤ä¸ªå‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span>ï¼ˆå†å²è¡Œä¸ºï¼‰å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span>ï¼ˆå€™é€‰å¹¿å‘Šï¼‰ï¼Œè€Œæ˜¯æ„é€ äº†ä¸‰ä¸ªéƒ¨åˆ†æ‹¼åœ¨ä¸€èµ·ï¼š</p>
<ol>
<li><strong>åŸå§‹å‘é‡</strong>ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A, B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span></li>
<li><strong>å¤–ç§¯ (Out Product)</strong> ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âŠ—</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \otimes B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âŠ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span>ï¼ˆæ˜¾å¼å»ºæ¨¡ç»´åº¦é—´çš„äº¤äº’ï¼‰</li>
<li><strong>å·®å€¼ (Difference)</strong> ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âˆ’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A - B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span>ï¼ˆæ˜¾å¼å»ºæ¨¡è·ç¦»å…³ç³»ï¼‰</li>
</ol>
<p>è®¡ç®—æµç¨‹ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>=</mo><mo stretchy="false">[</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mo>âŠ—</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mo>âˆ’</mo><mi>B</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Input = [A, B, A \otimes B, A - B]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">p</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âŠ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">]</span></span></span></span></span></p>
<p>ç„¶åå°†è¿™ä¸ªé«˜ç»´å‘é‡å–‚ç»™ä¸€ä¸ª MLPï¼Œè¾“å‡ºæœ€ç»ˆçš„æƒé‡ã€‚</p>
<h4 data-id="heading-4">2.2 ä¸ºä»€ä¹ˆ MLP æ˜¯ä¸‰å±‚çš„ï¼Ÿ</h4>
<p>åœ¨ Activation Unit å†…éƒ¨ï¼ŒMLP çš„ç»“æ„é€šå¸¸æ˜¯ <code>Input(3d) -&gt; h1 -&gt; h2 -&gt; 1</code>ã€‚</p>
<p><strong>æ·±åº¦è§£æ</strong>ï¼š</p>
<ul>
<li><strong>çº¿æ€§å¤æ‚åº¦</strong>ï¼šæ•´ä¸ª Attention çš„è®¡ç®—å¤æ‚åº¦æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mo>â‹…</mo><mo stretchy="false">(</mo><mn>3</mn><mi>d</mi><mo>â‹…</mo><msub><mi>h</mi><mn>1</mn></msub><mo>+</mo><msub><mi>h</mi><mn>1</mn></msub><mo>â‹…</mo><msub><mi>h</mi><mn>2</mn></msub><mo>+</mo><msub><mi>h</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(T \cdot (3d \cdot h_1 + h_1 \cdot h_2 + h_2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">3</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">))</span></span></span></span></span>ã€‚è¿™æ˜¯çº¿æ€§çš„ï¼å³ä½¿ç”¨æˆ·å†å²è¡Œä¸ºå¾ˆé•¿ï¼Œè®¡ç®—é‡ä¹Ÿæ˜¯å¯æ§çš„ã€‚</li>
<li><strong>æ¼æ–—ç»“æ„</strong>ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">h_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> è´Ÿè´£ç‰¹å¾èåˆï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">h_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> è´Ÿè´£ä¿¡æ¯æç‚¼ï¼Œæœ€åè¾“å‡ºä¸€ä¸ªæ ‡é‡ã€‚</li>
<li><strong>éçº¿æ€§èƒ½åŠ›</strong>ï¼šå¦‚æœåªæœ‰ä¸€å±‚ï¼Œé‚£å°±æ˜¯çº¿æ€§å›å½’ã€‚å¼•å…¥éšå±‚å’Œæ¿€æ´»å‡½æ•°ï¼Œæ˜¯ä¸ºäº†è®©æ¨¡å‹èƒ½æ‹Ÿåˆâ€œå¼‚æˆ–â€ç­‰å¤æ‚çš„éçº¿æ€§å…´è¶£åŒ¹é…é€»è¾‘ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">ğŸ›  03. å·¥ä¸šç•Œçš„è½åœ°ä¼˜åŒ–ï¼šDice ä¸ æ­£åˆ™åŒ–</h3>
<p>å­¦æœ¯ç•Œçš„æ¨¡å‹è¦ä¸Šå®æˆ˜ï¼Œå¿…é¡»è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š<strong>è¿‡æ‹Ÿåˆ</strong>å’Œ<strong>æ”¶æ•›éš¾</strong>ã€‚DIN ç»™å‡ºäº†æ•™ç§‘ä¹¦èˆ¬çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-6">3.1 Mini-batch Aware Regularizationï¼ˆè‡ªé€‚åº”æ­£åˆ™åŒ–ï¼‰</h4>
<p>åœºæ™¯ï¼šç”µå•†æ•°æ®æ˜¯å…¸å‹çš„é•¿å°¾åˆ†å¸ƒ (Long-tail)ã€‚å°‘é‡çƒ­é—¨å•†å“æ•°æ®æå¤šï¼Œæµ·é‡å†·é—¨å•†å“æ•°æ®ç¨€ç–ã€‚</p>
<p>é—®é¢˜ï¼šç›´æ¥ç”¨ L2 æ­£åˆ™ï¼Œè®¡ç®—é‡å¤ªå¤§ï¼ˆå‚æ•°éƒ½åœ¨ Embedding å±‚ï¼‰ï¼Œä¸”å¯¹æ‰€æœ‰ç‰¹å¾æƒ©ç½šä¸€æ ·ä¸åˆç†ã€‚</p>
<p>DIN çš„è§£æ³•ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>=</mo><msub><mi>w</mi><mi>i</mi></msub><mo>âˆ’</mo><mi>Î·</mi><mo stretchy="false">[</mo><mo>â‹¯</mo><mo>+</mo><mi>Î»</mi><mfrac><mn>1</mn><msub><mi>n</mi><mi>i</mi></msub></mfrac><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w_i = w_i - \eta [\dots + \lambda \frac{1}{n_i} w_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Î·</span><span class="mopen">[</span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.2902em;vertical-align:-0.4451em;"/><span class="mord mathnormal">Î»</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<ul>
<li><strong>é¢‘ç‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">n_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> é«˜ï¼ˆçƒ­é—¨ï¼‰</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><msub><mi>n</mi><mi>i</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{n_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2902em;vertical-align:-0.4451em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span> å° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <strong>æƒ©ç½šå°</strong>ï¼ˆæ”¾æ‰‹è®©å®ƒå­¦ï¼‰ã€‚</li>
<li><strong>é¢‘ç‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">n_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ä½ï¼ˆå†·é—¨ï¼‰</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><msub><mi>n</mi><mi>i</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{n_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2902em;vertical-align:-0.4451em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span> å¤§ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <strong>æƒ©ç½šå¤§</strong>ï¼ˆä¸¥é˜²æ­»å®ˆï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰ã€‚</li>
</ul>
<p>è¿™ä¸ææ²è€å¸ˆæå‡ºçš„é€šç”¨æ­£åˆ™åŒ–å…¬å¼é€»è¾‘æ°å¥½ç›¸åï¼Œä½“ç°äº†é˜¿é‡Œå¯¹ä¸šåŠ¡æ•°æ®çš„æ·±åˆ»ç†è§£ã€‚</p>
<h4 data-id="heading-7">3.2 Dice æ¿€æ´»å‡½æ•°</h4>
<p>ä¸ºäº†è§£å†³è®­ç»ƒè¿‡ç¨‹ä¸­æ•°æ®åˆ†å¸ƒå˜åŒ–ï¼ˆCovariate Shiftï¼‰çš„é—®é¢˜ï¼ŒDIN æ”¹è¿›äº† PReLUï¼Œæå‡ºäº† Diceã€‚</p>
<p>å®ƒæ ¹æ®å½“å‰ Mini-batch æ•°æ®çš„å‡å€¼å’Œæ–¹å·®ï¼ŒåŠ¨æ€è°ƒæ•´æ¿€æ´»å‡½æ•°çš„â€œæ‹ç‚¹â€ï¼Œä¿è¯äº†è®­ç»ƒçš„ç¨³å®šæ€§ã€‚</p>
<hr/>
<h3 data-id="heading-8">âš”ï¸ 04. çµé­‚æ‹·é—®ï¼šä¸ºä»€ä¹ˆä¸ç”¨ Transformerï¼Ÿ</h3>
<p>BERT å¤§ç«ä¹‹åï¼Œå¤§å®¶éƒ½åœ¨é—®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ä¸Š Self-Attentionï¼Ÿ</p>
<p><strong>æ—¶é—´å¤æ‚åº¦æ˜¯ç¡¬ä¼¤ï¼</strong></p>
<ul>
<li><strong>Transformer (Self-Attention)</strong> ï¼šè®¡ç®—åºåˆ—å†…éƒ¨ä¸¤ä¸¤å…³ç³»ï¼ˆItem-Itemï¼‰ï¼Œå¤æ‚åº¦æ˜¯ <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></strong> ã€‚å¦‚æœç”¨æˆ·çœ‹äº† 1000 ä¸ªå•†å“ï¼Œè®¡ç®—é‡å°±æ˜¯ç™¾ä¸‡çº§ã€‚</li>
<li><strong>DIN</strong>ï¼šåªè®¡ç®—â€œå†å²â€å’Œâ€œå€™é€‰â€çš„å…³ç³»ï¼Œå¤æ‚åº¦æ˜¯ <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span></strong> ã€‚</li>
</ul>
<p><strong>å¯¹æ¯”ç»“è®º</strong>ï¼š</p>
<ul>
<li><strong>Transformer</strong>ï¼šç²¾åº¦æ›´é«˜ï¼ˆä¸‰é˜¶äº¤äº’ï¼‰ï¼Œèƒ½æ•æ‰åºåˆ—å†…éƒ¨ç»“æ„ï¼Œä½†å¤ªæ…¢ï¼Œé€‚åˆç¦»çº¿æˆ–çŸ­åºåˆ—ã€‚</li>
<li><strong>DIN</strong>ï¼šç²¾åº¦å¤Ÿç”¨ï¼ˆäºŒé˜¶äº¤äº’ï¼‰ï¼Œé€Ÿåº¦æå¿«ï¼Œå®Œå…¨æ»¡è¶³åœ¨çº¿å®æ—¶æ¨æ–­ï¼ˆRT &lt; 30msï¼‰çš„è¦æ±‚ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">ğŸ“Š 05. è¯„ä¼°æŒ‡æ ‡ï¼šGAUC</h3>
<p>åšæ¨èç®—æ³•ï¼Œå¦‚æœä½ åªçœ‹ AUCï¼Œå¯èƒ½ä¼šè¢«å‘ã€‚</p>
<p>DIN è®ºæ–‡å¼ºæ¨ GAUC (Group AUC)ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>A</mi><mi>U</mi><mi>C</mi><mo>=</mo><mfrac><mrow><mo>âˆ‘</mo><msub><mi>w</mi><mi>i</mi></msub><mo>Ã—</mo><mi>A</mi><mi>U</mi><msub><mi>C</mi><mi>i</mi></msub></mrow><mrow><mo>âˆ‘</mo><msub><mi>w</mi><mi>i</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">GAUC = \frac{\sum w_i \times AUC_i}{\sum w_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">G</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="mspace mtight" style="margin-right:0.1952em;"/><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="mspace mtight" style="margin-right:0.1952em;"/><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">A</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></p>
<p>å®ƒå…ˆè®¡ç®—<strong>æ¯ä¸ªç”¨æˆ·å†…éƒ¨</strong>çš„æ’åºå‡†ç¡®åº¦ï¼Œå†åŠ æƒå¹³å‡ã€‚è¿™æ¶ˆé™¤äº†â€œç”¨æˆ·æ´»è·ƒåº¦å·®å¼‚â€å¸¦æ¥çš„æŒ‡æ ‡è™šé«˜ï¼ŒçœŸæ­£è¡¡é‡äº†æ¨¡å‹**â€œçŒœä½ å–œæ¬¢â€**çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-10">ğŸ“ æ€»ç»“</h3>
<p>DIN çš„æˆåŠŸä¸ä»…ä»…æ˜¯åŠ äº†ä¸€ä¸ª Attentionï¼Œè€Œæ˜¯ä¸€å¥—å®Œæ•´çš„<strong>å·¥ä¸šçº§æ·±åº¦å­¦ä¹ è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>æ¶æ„ä¸Š</strong>ï¼šç”¨ Local Activation Unit è§£å†³äº†å®šé•¿å‘é‡çš„è¡¨è¾¾ç“¶é¢ˆã€‚</li>
<li><strong>ç‰¹å¾ä¸Š</strong>ï¼šç”¨å¤–ç§¯å’Œå·®å€¼æ˜¾å¼å¢å¼ºäº†ç‰¹å¾äº¤å‰èƒ½åŠ›ã€‚</li>
<li><strong>å·¥ç¨‹ä¸Š</strong>ï¼šç”¨è‡ªé€‚åº”æ­£åˆ™åŒ–å’Œçº¿æ€§å¤æ‚åº¦è®¾è®¡ï¼Œå…¼é¡¾äº†æ•ˆæœä¸æ•ˆç‡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1å°æ—¶ç”¨Skillæ­ä¸€ä¸ªæ–‡ç« æ•°æ®è¿½è¸ªç³»ç»Ÿï¼Œè¸©äº† 3 ä¸ªå‘]]></title>    <link>https://juejin.cn/post/7593292445300326419</link>    <guid>https://juejin.cn/post/7593292445300326419</guid>    <pubDate>2026-01-10T16:22:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593292445300326419" data-draft-id="7593252939708530724" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1å°æ—¶ç”¨Skillæ­ä¸€ä¸ªæ–‡ç« æ•°æ®è¿½è¸ªç³»ç»Ÿï¼Œè¸©äº† 3 ä¸ªå‘"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-10T16:22:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIæ–¹å”"/> <meta itemprop="url" content="https://juejin.cn/user/1065861228790043"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1å°æ—¶ç”¨Skillæ­ä¸€ä¸ªæ–‡ç« æ•°æ®è¿½è¸ªç³»ç»Ÿï¼Œè¸©äº† 3 ä¸ªå‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1065861228790043/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIæ–¹å”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T16:22:24.000Z" title="Sat Jan 10 2026 16:22:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://demo-1255875252.cos.ap-guangzhou.myqcloud.com/blog/notion-data-tracker/cover.png" alt="å°é¢å›¾" loading="lazy"/></p>
<blockquote>
<p>æ–‡ç« å‘åˆ°å¾®ä¿¡ã€æ˜é‡‘ã€çŸ¥ä¹åï¼Œé˜…è¯»é‡æ•£è½ä¸‰å¤„ï¼Ÿè¿™ç¯‡æ•™ä½ ç”¨ Claude Code Skill ä¸€é”®æ±‡æ€»åˆ° Notionã€‚</p>
</blockquote>
<p><strong>ç¯å¢ƒ</strong>ï¼šClaude Code Â· MCP Playwright Â· Notion API Â· Node.js 20</p>
<hr/>
<h2 data-id="heading-0">TL;DRï¼ˆå¤ªé•¿ä¸çœ‹ç‰ˆï¼‰</h2>
<p>è¯»å®Œè¿™ç¯‡ï¼Œä½ èƒ½çœæ‰æˆ‘æµªè´¹çš„ 2 å°æ—¶ï¼š</p>
<ul>
<li>âŒ æ‰‹åŠ¨ç™»å½•ä¸‰ä¸ªå¹³å°åå°æŠ„æ•°æ®ï¼Ÿå¤ªç´¯</li>
<li>âŒ ç”¨è¡¨æ ¼è®°å½•ï¼Ÿæ ¼å¼ä¹±ã€å®¹æ˜“å¿˜</li>
<li>âœ… <strong>æ­£è§£</strong>ï¼šClaude Code Skill + MCP Playwright è‡ªåŠ¨æŠ“å–ï¼ŒNotion æ•°æ®åº“ç»Ÿä¸€è¿½è¸ª</li>
</ul>
<p><strong>3 ä¸ªå‘æå‰å‘Šè¯‰ä½ </strong>ï¼š</p>
<ol>
<li>Notion SDK é»˜è®¤ API ç‰ˆæœ¬ä¼šé™é»˜ä¸¢å¤±å±æ€§ â†’ ç”¨åŸç”Ÿ fetch</li>
<li>å¾®ä¿¡åå°æ²¡æœ‰"ç‚¹èµ"æŒ‡æ ‡ â†’ åˆ«å‚»æ‰¾äº†</li>
<li>æ˜é‡‘æ˜¾ç¤ºçš„æ˜¯"å±•ç°é‡"ä¸æ˜¯"é˜…è¯»é‡" â†’ æ•°æ®å£å¾„ä¸åŒ</li>
</ol>
<p>æƒ³çŸ¥é“æˆ‘æ€ä¹ˆä¸€æ­¥æ­¥è¸©å‘çš„ï¼Œç»§ç»­å¾€ä¸‹çœ‹ ğŸ‘‡</p>
<hr/>
<h2 data-id="heading-1">èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦è¿½è¸ªåšæ–‡æ•°æ®</h2>
<p>ä½œä¸º AI è¿›åŒ–å²›ä¸»ï¼Œæˆ‘æ¯ç¯‡æ–‡ç« éƒ½ä¼šå‘åˆ°ä¸‰ä¸ªå¹³å°ï¼š</p>





















<table><thead><tr><th>å¹³å°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>å¾®ä¿¡å…¬ä¼—å·</td><td>ç§åŸŸæµé‡ï¼Œæ‰“å¼€ç‡é«˜</td></tr><tr><td>æ˜é‡‘</td><td>æŠ€æœ¯ç¤¾åŒºï¼ŒSEO å¥½</td></tr><tr><td>çŸ¥ä¹</td><td>é•¿å°¾æµé‡ï¼Œæœç´¢æƒé‡é«˜</td></tr></tbody></table>
<p>é—®é¢˜æ¥äº†ï¼š<strong>æ•°æ®æ•£è½åœ¨ä¸‰ä¸ªåœ°æ–¹</strong>ã€‚</p>
<p>æƒ³çŸ¥é“ä¸€ç¯‡æ–‡ç« çš„æ€»é˜…è¯»é‡ï¼Ÿå¾—åˆ†åˆ«ç™»å½•ä¸‰ä¸ªåå°ï¼Œæ‰¾åˆ°æ–‡ç« ï¼Œæ‰‹åŠ¨åŠ ä¸€ä¸‹ã€‚ç´¯ä¸ç´¯ï¼Ÿ</p>
<h2 data-id="heading-2">æˆ‘æƒ³è¦ä»€ä¹ˆ</h2>
<p>ä¸€ä¸ªèƒ½åšåˆ°è¿™äº›çš„ç³»ç»Ÿï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€çœ‹æ¿</strong> â€” æ‰€æœ‰æ–‡ç« ã€æ‰€æœ‰å¹³å°çš„æ•°æ®åœ¨ä¸€ä¸ªåœ°æ–¹</li>
<li><strong>è‡ªåŠ¨æŠ“å–</strong> â€” è¯´ä¸€å¥è¯å°±èƒ½æ›´æ–°æ•°æ®</li>
<li><strong>å¯å¤ç”¨</strong> â€” åšæˆ Skillï¼Œä»¥åä¸€ç›´èƒ½ç”¨</li>
</ol>
<p>æœ€ç»ˆé€‰å‹ï¼š<strong>Notion æ•°æ®åº“ + Claude Code Skill + MCP Playwright</strong></p>
<h2 data-id="heading-3">ç³»ç»Ÿæ¶æ„</h2>
<pre><code class="hljs language-kotlin" lang="kotlin">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åšæ–‡æ•°æ®è¿½è¸ªç³»ç»Ÿ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ç”¨æˆ·: <span class="hljs-string">"è¿½è¸ªåšå®¢æ•°æ®ï¼šOpenCode å‡çº§è¸©å‘"</span>                      â”‚
â”‚                         â†“                                   â”‚
â”‚  Claude Code æ¿€æ´» blog-<span class="hljs-keyword">data</span>-tracker æŠ€èƒ½                    â”‚
â”‚                         â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ MCP Playwright è‡ªåŠ¨åŒ–æŠ“å–                    â”‚           â”‚
â”‚  â”‚                                             â”‚           â”‚
â”‚  â”‚  å¾®ä¿¡åå° â†’ å›¾æ–‡åˆ†æ â†’ é˜…è¯»/åˆ†äº«/æ”¶è—/ç•™è¨€    â”‚           â”‚
â”‚  â”‚  æ˜é‡‘åˆ›ä½œè€…ä¸­å¿ƒ â†’ å•ç¯‡åˆ†æ â†’ å±•ç°/ç‚¹èµ/æ”¶è—   â”‚           â”‚
â”‚  â”‚  çŸ¥ä¹åˆ›ä½œè€…ä¸­å¿ƒ â†’ å•ç¯‡åˆ†æ â†’ é˜…è¯»/èµåŒ/æ”¶è—   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                         â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Notion API æ›´æ–°æ•°æ®åº“                        â”‚           â”‚
â”‚  â”‚                                             â”‚           â”‚
â”‚  â”‚  å¹³å°å‘å¸ƒè®°å½•è¡¨ â† Views/Likes/Bookmarks...   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                         â†“                                   â”‚
â”‚  è¿”å›æ±‡æ€»è¡¨æ ¼                                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><img src="https://demo-1255875252.cos.ap-guangzhou.myqcloud.com/blog/notion-data-tracker/infographic-workflow.png" alt="åšæ–‡æ•°æ®è¿½è¸ªç³»ç»Ÿå·¥ä½œæµç¨‹" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">Step 1: è®¾è®¡ Notion æ•°æ®åº“</h2>
<h3 data-id="heading-5">ä¸»è¡¨ï¼šåšå®¢å‘å¸ƒè¿½è¸ª</h3>
<p>è®°å½•æ¯ç¯‡æ–‡ç« çš„åŸºæœ¬ä¿¡æ¯ï¼š</p>













































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Name</td><td>title</td><td>æ–‡ç« æ ‡é¢˜</td></tr><tr><td>Status</td><td>select</td><td>è‰ç¨¿/å·²å‘å¸ƒ/å¾…ä¼˜åŒ–</td></tr><tr><td>WeChat</td><td>url</td><td>å¾®ä¿¡é“¾æ¥</td></tr><tr><td>Juejin</td><td>url</td><td>æ˜é‡‘é“¾æ¥</td></tr><tr><td>Zhihu</td><td>url</td><td>çŸ¥ä¹é“¾æ¥</td></tr><tr><td>PublishDate</td><td>date</td><td>å‘å¸ƒæ—¥æœŸ</td></tr><tr><td>Tags</td><td>multi_select</td><td>æ ‡ç­¾</td></tr></tbody></table>
<p><img src="https://demo-1255875252.cos.ap-guangzhou.myqcloud.com/blog/notion-data-tracker/image%20copy.png" alt="Notion åšå®¢å‘å¸ƒè¿½è¸ªä¸»è¡¨" loading="lazy"/></p>
<h3 data-id="heading-6">å­è¡¨ï¼šå¹³å°å‘å¸ƒè®°å½•</h3>
<p>æ¯ä¸ªå¹³å°ä¸€æ¡è®°å½•ï¼Œè¿½è¸ªè¯¦ç»†æ•°æ®ï¼š</p>




























































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Name</td><td>title</td><td>è®°å½•åç§°ï¼ˆå¦‚"æ–‡ç« å - å¾®ä¿¡"ï¼‰</td></tr><tr><td>Article</td><td>relation</td><td>å…³è”åˆ°ä¸»è¡¨</td></tr><tr><td>Platform</td><td>select</td><td>å¾®ä¿¡å…¬ä¼—å·/æ˜é‡‘/çŸ¥ä¹</td></tr><tr><td>URL</td><td>url</td><td>å‘å¸ƒé“¾æ¥</td></tr><tr><td>Views</td><td>number</td><td>é˜…è¯»é‡</td></tr><tr><td>Likes</td><td>number</td><td>ç‚¹èµæ•°</td></tr><tr><td>Bookmarks</td><td>number</td><td>æ”¶è—æ•°</td></tr><tr><td>Shares</td><td>number</td><td>åˆ†äº«æ•°</td></tr><tr><td>Comments</td><td>number</td><td>è¯„è®ºæ•°</td></tr><tr><td>UpdatedAt</td><td>date</td><td>æ›´æ–°æ—¶é—´</td></tr></tbody></table>
<h3 data-id="heading-7">âŒ å‘ 1ï¼šNotion SDK ç‰ˆæœ¬é™·é˜±</h3>
<p>ç”¨å®˜æ–¹ <code>@notionhq/client</code> SDK åˆ›å»ºæ•°æ®åº“æ—¶ï¼Œåªæœ‰ Name å­—æ®µæˆåŠŸï¼Œå…¶ä»–å±æ€§å…¨ä¸¢ï¼</p>
<p>æ’æŸ¥ 2 å°æ—¶åå‘ç°ï¼š<strong>SDK é»˜è®¤ç”¨æ–°ç‰ˆ APIï¼ŒæŸäº›å±æ€§ä¼šè¢«é™é»˜å¿½ç•¥</strong>ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ”¾å¼ƒ SDKï¼Œç”¨åŸç”Ÿ <code>fetch</code> + å›ºå®š API ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NOTION_VERSION</span> = <span class="hljs-string">'2022-06-28'</span>;  <span class="hljs-comment">// å…³é”®ï¼</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">notionRequest</span>(<span class="hljs-params">endpoint, method, body</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(\<span class="hljs-string">`https://api.notion.com/v1\${endpoint}\`, {
    method,
    headers: {
      'Authorization': \`Bearer \${NOTION_API_KEY}\`,
      'Notion-Version': NOTION_VERSION,  // å¿…é¡»å›ºå®š
      'Content-Type': 'application/json',
    },
    body: body ? JSON.stringify(body) : undefined,
  }).then(r =&gt; r.json());
}
</span></code></pre>
<hr/>
<h2 data-id="heading-8">Step 2: MCP Playwright è‡ªåŠ¨æŠ“å–</h2>
<p>æ¯ä¸ªå¹³å°çš„æ•°æ®è—åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œéœ€è¦åˆ†åˆ«å¤„ç†ã€‚</p>
<h3 data-id="heading-9">å¾®ä¿¡å…¬ä¼—å·</h3>
<p>è·¯å¾„ï¼šå…¬ä¼—å·åå° â†’ æ•°æ®åˆ†æ â†’ å›¾æ–‡åˆ†æ â†’ æœç´¢æ–‡ç« </p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. æ‰“å¼€å…¬ä¼—å·åå°</span>
<span class="hljs-title function_">browser_navigate</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">"https://mp.weixin.qq.com/"</span> })

<span class="hljs-comment">// 2. è¿›å…¥å›¾æ–‡åˆ†æ</span>
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æ•°æ®åˆ†æ"</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"å›¾æ–‡åˆ†æ"</span> })

<span class="hljs-comment">// 3. æœç´¢æ–‡ç« </span>
<span class="hljs-title function_">browser_type</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æœç´¢æ¡†"</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"OpenCode"</span>, <span class="hljs-attr">submit</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// 4. ä»é¡µé¢æå–æ•°æ®</span>
<span class="hljs-comment">// é˜…è¯»äººæ•°ã€åˆ†äº«äººæ•°ã€æ”¶è—äººæ•°ã€ç•™è¨€äººæ•°</span>
</code></pre>
<h3 data-id="heading-10">âŒ å‘ 2ï¼šå¾®ä¿¡æ²¡æœ‰"ç‚¹èµ"æŒ‡æ ‡</h3>
<p>åœ¨å¾®ä¿¡åå°æ‰¾äº†åŠå¤©"ç‚¹èµæ•°"ï¼Œæ ¹æœ¬æ²¡æœ‰è¿™ä¸ªå­—æ®µï¼</p>
<p>å¾®ä¿¡å…¬ä¼—å·çš„äº’åŠ¨æŒ‡æ ‡åªæœ‰ï¼šé˜…è¯»äººæ•°ã€åˆ†äº«äººæ•°ã€æ”¶è—äººæ•°ã€ç•™è¨€äººæ•°ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šLikes å­—æ®µç›´æ¥è®¾ä¸º 0ï¼Œåˆ«æµªè´¹æ—¶é—´æ‰¾äº†ã€‚</p>
<h3 data-id="heading-11">æ˜é‡‘</h3>
<p>è·¯å¾„ï¼šåˆ›ä½œè€…ä¸­å¿ƒ â†’ å†…å®¹æ•°æ® â†’ å•ç¯‡åˆ†æ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. æ‰“å¼€åˆ›ä½œè€…ä¸­å¿ƒ</span>
<span class="hljs-title function_">browser_navigate</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">"https://juejin.cn/creator/content/article/all"</span> })

<span class="hljs-comment">// 2. è¿›å…¥å•ç¯‡åˆ†æ</span>
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"å†…å®¹æ•°æ®"</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"å•ç¯‡åˆ†æ"</span> })

<span class="hljs-comment">// 3. æœç´¢å¹¶é€‰æ‹©æ–‡ç« </span>
<span class="hljs-title function_">browser_type</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æœç´¢æ¡†"</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"OpenCode"</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æ–‡ç« æ ‡é¢˜"</span> })

<span class="hljs-comment">// 4. æå–ï¼šå±•ç°é‡ã€ç‚¹èµæ•°ã€æ”¶è—æ•°ã€è¯„è®ºæ•°ã€è½¬å‘æ•°</span>
</code></pre>
<h3 data-id="heading-12">âš ï¸ å‘ 3ï¼šæ˜é‡‘çš„"é˜…è¯»é‡"å…¶å®æ˜¯"å±•ç°é‡"</h3>
<p>æ˜é‡‘åå°æ˜¾ç¤ºçš„æ•°å­—å«"å±•ç°é‡"ï¼Œä¸æ˜¯çœŸæ­£çš„é˜…è¯»é‡ï¼</p>
<p>å±•ç°é‡ = æ–‡ç« åœ¨ä¿¡æ¯æµé‡Œè¢«å±•ç¤ºçš„æ¬¡æ•°ï¼ˆç”¨æˆ·å¯èƒ½æ²¡ç‚¹è¿›å»çœ‹ï¼‰</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç»Ÿä¸€ç”¨ Views å­—æ®µå­˜å‚¨ï¼Œä½†è¦çŸ¥é“è¿™ä¸ªæ•°æ®å£å¾„å’Œå¾®ä¿¡ã€çŸ¥ä¹ä¸åŒã€‚</p>
<h3 data-id="heading-13">çŸ¥ä¹</h3>
<p>è·¯å¾„ï¼šåˆ›ä½œè€…ä¸­å¿ƒ â†’ å†…å®¹åˆ†æ â†’ æ–‡ç«  â†’ å•ç¯‡æ–‡ç« åˆ†æ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. æ‰“å¼€åˆ›ä½œè€…ä¸­å¿ƒ</span>
<span class="hljs-title function_">browser_navigate</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">"https://www.zhihu.com/creator/analytics"</span> })

<span class="hljs-comment">// 2. è¿›å…¥å•ç¯‡åˆ†æ</span>
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"å†…å®¹åˆ†æ"</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æ–‡ç« "</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"å•ç¯‡æ–‡ç« åˆ†æ"</span> })

<span class="hljs-comment">// 3. é€‰æ‹©æ–‡ç« </span>
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"è¯·é€‰æ‹©æ–‡ç« "</span> })
<span class="hljs-title function_">browser_type</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æœç´¢æ¡†"</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"OpenCode"</span> })
<span class="hljs-title function_">browser_click</span>({ <span class="hljs-attr">element</span>: <span class="hljs-string">"æ–‡ç« æ ‡é¢˜"</span> })

<span class="hljs-comment">// 4. æå–ï¼šé˜…è¯»é‡ã€èµåŒæ•°ã€æ”¶è—æ•°ã€è¯„è®ºæ•°ã€åˆ†äº«æ•°</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">Step 3: å°è£…æˆ Claude Code Skill</h2>
<p>æŠŠæ•´ä¸ªæµç¨‹å°è£…æˆå¯å¤ç”¨çš„æŠ€èƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">~/Projects/my_skils/library/blog-data-tracker/
â”œâ”€â”€ SKILL.md                      <span class="hljs-comment"># æŠ€èƒ½ä¸»æ–‡ä»¶</span>
â”œâ”€â”€ references/
â”‚   â””â”€â”€ notion-api-guide.md       <span class="hljs-comment"># API è°ƒç”¨æŒ‡å—</span>
â””â”€â”€ scripts/
    â””â”€â”€ notion-update.mjs         <span class="hljs-comment"># å‘½ä»¤è¡Œæ›´æ–°å·¥å…·</span>
</code></pre>
<h3 data-id="heading-15">SKILL.md æ ¸å¿ƒå†…å®¹</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">blog-data-tracker</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">åšå®¢å¤šå¹³å°æ•°æ®è¿½è¸ªæŠ€èƒ½ã€‚è‡ªåŠ¨ä»å¾®ä¿¡å…¬ä¼—å·ã€æ˜é‡‘ã€çŸ¥ä¹æŠ“å–æ–‡ç« æ•°æ®ï¼Œ</span>
  <span class="hljs-string">æ›´æ–°åˆ°</span> <span class="hljs-string">Notion</span> <span class="hljs-string">æ•°æ®åº“ã€‚å½“ç”¨æˆ·è¯´"è¿½è¸ªåšå®¢æ•°æ®"ã€"æ›´æ–°æ–‡ç« æ•°æ®"æ—¶è§¦å‘ã€‚</span>
<span class="hljs-meta">---
</span></code></pre>
<h3 data-id="heading-16">å›ºå®šé…ç½®ï¼ˆçœå»æ¯æ¬¡è¾“å…¥ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// scripts/notion-update.mjs</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NOTION_API_KEY</span> = <span class="hljs-string">'ntn_xxx'</span>;  <span class="hljs-comment">// å›ºå®š Token</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PLATFORM_RECORDS_DB</span> = <span class="hljs-string">'2e43f9a6-73f7-81db-aaf7-f817b30dec58'</span>;

<span class="hljs-comment">// å·²çŸ¥æ–‡ç« çš„ Page IDï¼Œä¾¿äºå¿«é€Ÿæ›´æ–°</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">KNOWN_PLATFORM_RECORDS</span> = {
  <span class="hljs-string">'opencode-wechat'</span>: <span class="hljs-string">'2e43f9a6-73f7-81bf-ba0f-c8b9e60c00aa'</span>,
  <span class="hljs-string">'opencode-juejin'</span>: <span class="hljs-string">'2e43f9a6-73f7-813b-b535-cc62e12a73de'</span>,
  <span class="hljs-string">'opencode-zhihu'</span>: <span class="hljs-string">'2e43f9a6-73f7-813e-aa7b-c82ecca71d7d'</span>,
};
</code></pre>
<h3 data-id="heading-17">ä½¿ç”¨æ–¹å¼</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥æ›´æ–°å·²çŸ¥è®°å½•</span>
node notion-update.mjs update 2e43f9a6-73f7-81bf-ba0f-c8b9e60c00aa \
  --views 100 --likes 10 --bookmarks 5

<span class="hljs-comment"># æˆ–è€…è®© Claude è‡ªåŠ¨å¤„ç†</span>
è¿½è¸ªåšå®¢æ•°æ®ï¼šOpenCode å‡çº§è¸©å‘
</code></pre>
<hr/>
<h2 data-id="heading-18">å®é™…æ•ˆæœ</h2>
<p>æŠ“å–å®Œæˆåï¼ŒNotion æ•°æ®åº“é‡Œæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://demo-1255875252.cos.ap-guangzhou.myqcloud.com/blog/notion-data-tracker/image.png" alt="Notion å¹³å°å‘å¸ƒè®°å½•çœ‹æ¿" loading="lazy"/></p>





































<table><thead><tr><th>å¹³å°</th><th>é˜…è¯»</th><th>ç‚¹èµ</th><th>æ”¶è—</th><th>è¯„è®º</th><th>åˆ†äº«</th></tr></thead><tbody><tr><td>å¾®ä¿¡</td><td>57</td><td>0</td><td>2</td><td>0</td><td>0</td></tr><tr><td>æ˜é‡‘</td><td>23</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>çŸ¥ä¹</td><td>71</td><td>1</td><td>1</td><td>0</td><td>0</td></tr></tbody></table>
<p><strong>æ€»é˜…è¯»é‡</strong>ï¼š151ï¼ˆä¸€çœ¼å°±èƒ½çœ‹åˆ°ï¼‰</p>
<hr/>
<h2 data-id="heading-19">è¸©å‘æ¸…å•</h2>





























<table><thead><tr><th>æˆ‘å¹²äº†å•¥</th><th>å•¥ç»“æœ</th></tr></thead><tbody><tr><td>ç”¨ Notion SDK åˆ›å»ºæ•°æ®åº“</td><td>âŒ å±æ€§ä¸¢å¤±ï¼Œåªæœ‰ Name</td></tr><tr><td>åœ¨ SDK è®¾ç½® notionVersion</td><td>âŒ æŠ¥é”™ä¸æ”¯æŒ</td></tr><tr><td>ç”¨åŸç”Ÿ fetch + 2022-06-28</td><td>âœ… å®Œç¾è¿è¡Œ</td></tr><tr><td>å¾®ä¿¡åå°æ‰¾ç‚¹èµæ•°</td><td>âŒ æ²¡æœ‰è¿™ä¸ªæŒ‡æ ‡</td></tr><tr><td>æ˜é‡‘ç”¨"é˜…è¯»é‡"å­—æ®µ</td><td>âš ï¸ å…¶å®æ˜¯"å±•ç°é‡"</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">å‡ ç‚¹ç»éªŒ</h2>
<ol>
<li><strong>Notion API ç‰ˆæœ¬è¦é”æ­»</strong> â€” SDK é»˜è®¤ç‰ˆæœ¬ä¼šå‘ä½ </li>
<li><strong>å„å¹³å°æ•°æ®å£å¾„ä¸åŒ</strong> â€” å¾®ä¿¡æ²¡ç‚¹èµï¼Œæ˜é‡‘ç”¨å±•ç°é‡</li>
<li><strong>å›ºå®šå‚æ•°ä¼˜å…ˆ</strong> â€” Tokenã€ID éƒ½å†™æ­»åˆ°è„šæœ¬ï¼Œå‡å°‘é…ç½®</li>
<li><strong>æŠ€èƒ½ç›®å½•è§„èŒƒ</strong> â€” <code>references/</code> æ”¾æ–‡æ¡£ï¼Œ<code>scripts/</code> æ”¾è„šæœ¬</li>
<li><strong>ç”¨åŸç”Ÿ API è€Œé MCP</strong> â€” Notion MCP åœ¨å¤šå®¢æˆ·ç«¯ç¯å¢ƒä¸‹å®¹æ˜“å¼‚å¸¸å¤±è´¥ï¼Œç›´æ¥ç”¨ Notion API + Token æ›´ç¨³å®š</li>
</ol>
<h2 data-id="heading-21">å®Œæ•´ä»£ç </h2>
<p>æŠ€èƒ½å·²å¼€æºåœ¨æˆ‘çš„ Skills åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">~/Projects/my_skils/library/blog-data-tracker/
</code></pre>
<p>æ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<ul>
<li><code>SKILL.md</code> â€” æŠ€èƒ½å®šä¹‰å’Œä½¿ç”¨è¯´æ˜</li>
<li><code>scripts/notion-update.mjs</code> â€” Notion æ›´æ–°è„šæœ¬</li>
<li><code>references/notion-api-guide.md</code> â€” API è°ƒç”¨æŒ‡å—</li>
</ul>
<hr/>
<h2 data-id="heading-22">ä¸€å¥è¯æ€»ç»“</h2>
<blockquote>
<p><strong>Claude Code Skill + MCP Playwright + Notion API = å…¨è‡ªåŠ¨åšæ–‡æ•°æ®è¿½è¸ªï¼Œä¸€å¥è¯æ›´æ–°ä¸‰å¤§å¹³å°æ•°æ®ã€‚</strong></p>
</blockquote>
<hr/>
<p>è§‰å¾—æœ‰ç”¨ï¼Ÿ<strong>è½¬å‘ç»™åŒæ ·åœ¨å¤šå¹³å°å‘æ–‡çš„æœ‹å‹</strong> ğŸ‘‡</p>
<p>ä½ æ˜¯æ€ä¹ˆè¿½è¸ªåšæ–‡æ•°æ®çš„ï¼Ÿè¯„è®ºåŒºèŠèŠ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rocky Linux 9.6 docker k8s v1.23.17 kubeadm é«˜å¯ç”¨éƒ¨ç½²æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7593252939708563492</link>    <guid>https://juejin.cn/post/7593252939708563492</guid>    <pubDate>2026-01-10T20:07:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593252939708563492" data-draft-id="7593241698370617380" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rocky Linux 9.6 docker k8s v1.23.17 kubeadm é«˜å¯ç”¨éƒ¨ç½²æ–‡æ¡£"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-01-10T20:07:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ³å¤´530"/> <meta itemprop="url" content="https://juejin.cn/user/450136499300009"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rocky Linux 9.6 docker k8s v1.23.17 kubeadm é«˜å¯ç”¨éƒ¨ç½²æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/450136499300009/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ³å¤´530
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T20:07:15.000Z" title="Sat Jan 10 2026 20:07:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ä¸€ç« ï¼šK8Sä»‹ç»åŠéƒ¨ç½²</h2>
<h5 data-id="heading-1">Kubernetesä»‹ç»</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e1f252d7adc4220911e5d8e84fc9939~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z5aS0NTMw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768681400&amp;x-signature=2aiIBmb4enk3rT9Lf%2F4CW0pJUrI%3D" alt="1677739343172-1682841162231.png" loading="lazy"/></p>
<p>kubernetesï¼ˆk8sï¼‰æ˜¯2015å¹´ç”±Googleå…¬å¸åŸºäºGoè¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„å®¹å™¨é›†ç¾¤ç¼–æ’ç³»ç»Ÿï¼Œç”¨äºè‡ªåŠ¨åŒ–å®¹å™¨çš„éƒ¨ç½²ã€æ‰©ç¼©å®¹å’Œç®¡ç†ï¼›</p>
<p>kubernetesï¼ˆk8sï¼‰æ˜¯åŸºäºGoogleå†…éƒ¨çš„Borgç³»ç»Ÿçš„ç‰¹å¾å¼€å‘çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œé›†æˆäº†Borgç³»ç»Ÿå¤§éƒ¨åˆ†ä¼˜åŠ¿ï¼›</p>
<p>å®˜æ–¹åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2FKubernetes.io" target="_blank" title="https://Kubernetes.io" ref="nofollow noopener noreferrer">Kubernetes.io</a></p>
<p>ä»£ç æ‰˜ç®¡å¹³å°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKubernetes" target="_blank" title="https://github.com/Kubernetes" ref="nofollow noopener noreferrer">github.com/Kubernetes</a></p>
<h5 data-id="heading-2">kuberneteså…·å¤‡çš„åŠŸèƒ½</h5>
<ul>
<li>è‡ªæˆ‘ä¿®å¤ï¼šk8så¯ä»¥ç›‘æ§å®¹å™¨çš„è¿è¡ŒçŠ¶å†µï¼Œå¹¶åœ¨å‘ç°å®¹å™¨å‡ºç°å¼‚å¸¸æ—¶è‡ªåŠ¨é‡å¯æ•…éšœå®ä¾‹ï¼›</li>
<li>å¼¹æ€§ä¼¸ç¼©ï¼šk8så¯ä»¥æ ¹æ®èµ„æºçš„ä½¿ç”¨æƒ…å†µè‡ªåŠ¨åœ°è°ƒæ•´å®¹å™¨çš„å‰¯æœ¬æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨é«˜å³°æ—¶æ®µï¼Œk8så¯ä»¥è‡ªåŠ¨å¢åŠ å®¹å™¨çš„å‰¯æœ¬æ•°ä»¥åº”å¯¹æ›´å¤šçš„æµé‡ï¼›è€Œåœ¨ä½å³°æ—¶æ®µï¼Œk8så¯ä»¥å‡å°‘åº”ç”¨çš„å‰¯æœ¬æ•°ï¼ŒèŠ‚çœèµ„æºï¼›</li>
<li>èµ„æºé™é¢ï¼šk8så…è®¸æŒ‡å®šæ¯ä¸ªå®¹å™¨æ‰€éœ€çš„CPUå’Œå†…å­˜èµ„æºï¼Œèƒ½å¤Ÿæ›´å¥½çš„ç®¡ç†å®¹å™¨çš„èµ„æºä½¿ç”¨é‡ï¼›</li>
<li>æ»šåŠ¨å‡çº§ï¼šk8så¯ä»¥åœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹æ»šåŠ¨å‡çº§åº”ç”¨ç‰ˆæœ¬ï¼Œç¡®ä¿åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ä»æœ‰è¶³å¤Ÿçš„å®ä¾‹åœ¨æä¾›æœåŠ¡ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ï¼šk8så¯ä»¥æ ¹æ®åº”ç”¨çš„è´Ÿè½½æƒ…å†µè‡ªåŠ¨åˆ†é…æµé‡ï¼Œç¡®ä¿å„ä¸ªå®ä¾‹ä¹‹é—´çš„è´Ÿè½½å‡è¡¡ï¼Œé¿å…æŸäº›å®ä¾‹è¿‡è½½å¯¼è‡´çš„æ€§èƒ½ä¸‹é™ï¼›</li>
<li>æœåŠ¡å‘ç°ï¼šk8så¯ä»¥è‡ªåŠ¨å‘ç°åº”ç”¨çš„å®ä¾‹ï¼Œå¹¶ä¸ºå®ƒä»¬åˆ†é…ä¸€ä¸ªç»Ÿä¸€çš„è®¿é—®åœ°å€ã€‚è¿™æ ·ï¼Œç”¨æˆ·åªéœ€è¦çŸ¥é“è¿™ä¸ªç»Ÿä¸€çš„åœ°å€ï¼Œå°±å¯ä»¥è®¿é—®åˆ°åº”ç”¨çš„ä»»æ„å®ä¾‹ï¼Œè€Œæ— éœ€å…³å¿ƒå…·ä½“çš„å®ä¾‹ä¿¡æ¯ï¼›</li>
<li>å­˜å‚¨ç®¡ç†ï¼šk8så¯ä»¥è‡ªåŠ¨ç®¡ç†åº”ç”¨çš„å­˜å‚¨èµ„æºï¼Œä¸ºåº”ç”¨æä¾›æŒä¹…åŒ–çš„æ•°æ®å­˜å‚¨ã€‚è¿™æ ·ï¼Œåœ¨åº”ç”¨å®ä¾‹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”¨æˆ·æ•°æ®ä»èƒ½ä¿æŒä¸€è‡´ï¼Œç¡®ä¿æ•°æ®çš„æŒä¹…æ€§ï¼›</li>
<li>å¯†é’¥ä¸é…ç½®ç®¡ç†ï¼šKubernetes å…è®¸ä½ å­˜å‚¨å’Œç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå¯†ç ã€ä»¤ç‰Œã€è¯ä¹¦ã€sshå¯†é’¥ç­‰ä¿¡æ¯è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¹¶å…±äº«ç»™å¤šä¸ªå®¹å™¨å¤ç”¨ï¼›</li>
</ul>
<h5 data-id="heading-3">kubernetesé›†ç¾¤è§’è‰²</h5>
<p>k8sé›†ç¾¤éœ€è¦å»ºâ½´åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå°†å¤šä¸ªèŠ‚ç‚¹ç»„å»ºæˆä¸€ä¸ªé›†ç¾¤ï¼Œç„¶åè¿›â¾ç»Ÿâ¼€ç®¡ç†ï¼Œä½†æ˜¯åœ¨k8sé›†ç¾¤å†…éƒ¨ï¼Œè¿™äº›èŠ‚ç‚¹â¼œè¢«åˆ’åˆ†æˆäº†ä¸¤ç±»â»†â¾Šï¼š</p>
<ul>
<li>ä¸€ç±»â»†â¾Šä¸ºä¸»èŠ‚ç‚¹ï¼Œå«Masterï¼Œè´Ÿè´£é›†ç¾¤çš„æ‰€æœ‰ç®¡ç†å·¥ä½œï¼Œå’Œåè°ƒé›†ç¾¤ä¸­è¿è¡Œçš„å®¹å™¨åº”ç”¨ï¼›</li>
<li>â¼€ç±»â»†â¾Šä¸ºâ¼¯ä½œèŠ‚ç‚¹ï¼Œå«Nodeï¼Œè´Ÿè´£è¿è¡Œé›†ç¾¤ä¸­æ‰€æœ‰ç”¨æˆ·çš„å®¹å™¨åº”ç”¨ï¼Œ æ‰§è¡Œå®é™…çš„å·¥ä½œè´Ÿè½½ ï¼›</li>
</ul>
<p><strong>Masterç®¡ç†èŠ‚ç‚¹ç»„ä»¶ï¼š</strong></p>
<ul>
<li>API Serverï¼šä½œä¸ºé›†ç¾¤çš„æ§åˆ¶ä¸­å¿ƒï¼Œå¤„ç†å¤–éƒ¨å’Œå†…éƒ¨é€šä¿¡ï¼Œæ¥æ”¶ç”¨æˆ·è¯·æ±‚å¹¶å¤„ç†é›†ç¾¤å†…éƒ¨ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼›</li>
<li>Schedulerï¼šè´Ÿè´£å°†å¾…éƒ¨ç½²çš„ Pods åˆ†é…åˆ°åˆé€‚çš„ Node èŠ‚ç‚¹ä¸Šï¼Œæ ¹æ®èµ„æºéœ€æ±‚ã€ç­–ç•¥å’Œçº¦æŸç­‰å› ç´ è¿›è¡Œè°ƒåº¦ï¼›</li>
<li>Controller Managerï¼šç®¡ç†é›†ç¾¤ä¸­çš„å„ç§æ§åˆ¶å™¨ï¼Œä¾‹å¦‚ Deploymentã€ReplicaSetã€Node æ§åˆ¶å™¨ç­‰ï¼Œç®¡ç†é›†ç¾¤ä¸­çš„å„ç§èµ„æºï¼›</li>
<li>etcdï¼šä½œä¸ºé›†ç¾¤çš„æ•°æ®å­˜å‚¨ï¼Œä¿å­˜é›†ç¾¤çš„é…ç½®ä¿¡æ¯å’ŒçŠ¶æ€ä¿¡æ¯ï¼›</li>
</ul>
<p><strong>Nodeå·¥ä½œèŠ‚ç‚¹ç»„ä»¶ï¼š</strong></p>
<ul>
<li>Kubeletï¼šè´Ÿè´£ä¸ Master èŠ‚ç‚¹é€šä¿¡ï¼Œå¹¶æ ¹æ® Master èŠ‚ç‚¹çš„è°ƒåº¦å†³ç­–æ¥åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤ Podï¼ŒåŒæ—¶ç»´æŠ¤ Node èŠ‚ç‚¹ä¸Šçš„å®¹å™¨çŠ¶æ€ï¼›</li>
<li>å®¹å™¨è¿è¡Œæ—¶ï¼ˆå¦‚ Dockerã€containerd ç­‰ï¼‰ï¼šè´Ÿè´£è¿è¡Œå’Œç®¡ç†å®¹å™¨ï¼Œæä¾›å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤å®¹å™¨ç­‰ï¼›</li>
<li>Kube-proxyï¼šè´Ÿè´£ä¸ºé›†ç¾¤å†…çš„æœåŠ¡å®ç°ç½‘ç»œä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼Œç¡®ä¿æœåŠ¡çš„è®¿é—®æ€§ï¼›</li>
</ul>
<p><strong>éå¿…é¡»çš„é›†ç¾¤æ’ä»¶ï¼š</strong></p>
<ul>
<li>DNSæœåŠ¡ï¼šä¸¥æ ¼æ„ä¹‰ä¸Šçš„å¿…é¡»æ’ä»¶ï¼Œåœ¨k8sä¸­ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½éœ€è¦ç”¨åˆ°DNSæœåŠ¡ï¼Œä¾‹å¦‚ï¼šæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æœ‰çŠ¶æ€åº”ç”¨çš„è®¿é—®ç­‰ï¼›</li>
<li>Dashboardï¼š æ˜¯k8sé›†ç¾¤çš„Webç®¡ç†ç•Œé¢ï¼›</li>
<li>èµ„æºç›‘æ§ï¼šä¾‹å¦‚metrics-serverç›‘è§†å™¨ï¼Œç”¨äºç›‘æ§é›†ç¾¤ä¸­èµ„æºåˆ©ç”¨ç‡ï¼›</li>
</ul>
<h5 data-id="heading-4">kubernetesé›†ç¾¤ç±»å‹</h5>
<ul>
<li>ä¸€ä¸»å¤šä»é›†ç¾¤ï¼šç”±ä¸€å°Masterç®¡ç†èŠ‚ç‚¹å’Œå¤šå°Nodeå·¥ä½œèŠ‚ç‚¹ç»„æˆï¼Œç”Ÿäº§ç¯å¢ƒä¸‹MasterèŠ‚ç‚¹å­˜åœ¨å•ç‚¹æ•…éšœçš„é£é™©ï¼Œé€‚åˆå­¦ä¹ å’Œæµ‹è¯•ç¯å¢ƒä½¿ç”¨ï¼›</li>
<li>å¤šä¸»å¤šä»é›†ç¾¤ï¼šç”±å¤šå°Masterç®¡ç†èŠ‚ç‚¹å’Œå¤šNodeå·¥ä½œèŠ‚ç‚¹ç»„æˆï¼Œå®‰å…¨æ€§é«˜ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼›</li>
</ul>
<h5 data-id="heading-5">kubernetesé›†ç¾¤è§„åˆ’</h5>



























































<table><thead><tr><th>ä¸»æœºIP</th><th>ä¸»æœºå</th><th>ä¸»æœºé…ç½®</th><th>è§’è‰²</th></tr></thead><tbody><tr><td>192.168.200.10</td><td>master01</td><td>2C/4G</td><td>ç®¡ç†èŠ‚ç‚¹</td></tr><tr><td>192.168.200.20</td><td>master02</td><td>2C/4G</td><td>ç®¡ç†èŠ‚ç‚¹</td></tr><tr><td>192.168.200.30</td><td>master03</td><td>2C/4G</td><td>ç®¡ç†èŠ‚ç‚¹</td></tr><tr><td>192.168.200.40</td><td>node01</td><td>2C/4G</td><td>å·¥ä½œèŠ‚ç‚¹</td></tr><tr><td>192.168.200.50</td><td>node02</td><td>2C/4G</td><td>å·¥ä½œèŠ‚ç‚¹</td></tr><tr><td>192.168.200.60</td><td>ha1</td><td>1C/2G</td><td>LB</td></tr><tr><td>192.168.200.70</td><td>ha2</td><td>1C/2G</td><td>LB</td></tr><tr><td>192.168.200.100</td><td>/</td><td>/</td><td>VIP(è™šæ‹ŸIP)</td></tr></tbody></table>
<h5 data-id="heading-6">é›†ç¾¤å‰æœŸç¯å¢ƒå‡†å¤‡</h5>
<p><strong>ä¿®æ”¹æ¯ä¸ªèŠ‚ç‚¹ä¸»æœºå</strong></p>
<pre><code class="hljs language-shell" lang="shell">hostnamectl set-hostname master01
hostnamectl set-hostname master02
hostnamectl set-hostname master03
hostnamectl set-hostname worker01
hostnamectl set-hostname ha01
hostnamectl set-hostname ha02
</code></pre>
<p>é…ç½®é›†ç¾¤ä¹‹é—´æœ¬åœ°è§£æï¼Œé›†ç¾¤åœ¨åˆå§‹åŒ–æ—¶éœ€è¦èƒ½å¤Ÿè§£æä¸»æœºå</p>
<p>master01æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">echo "192.168.200.10 master01" &gt;&gt; /etc/hosts
echo "192.168.200.20 master02" &gt;&gt; /etc/hosts
echo "192.168.200.30 master03" &gt;&gt; /etc/hosts
echo "192.168.200.40 node01" &gt;&gt; /etc/hosts
echo "192.168.200.50 node02" &gt;&gt; /etc/hosts
</code></pre>
<h5 data-id="heading-7">æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬</h5>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# cat init.sh 
    #!/bin/bash
    echo "=====ç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–è„šæœ¬====="
    sleep 3
    echo "----&gt;&gt;&gt; å…³é—­é˜²ç«å¢™ä¸SELINUX &lt;&lt;&lt;----"
    sleep 3
    systemctl stop firewalld
    systemctl disable firewalld &amp;&gt; /dev/null
    setenforce 0
    sed -i '/SELINUX/{s/enforcing/disabled/}' /etc/selinux/config
    â€‹
    echo "----&gt;&gt;&gt; è®¾ç½®æ—¶åŒºå¹¶åŒæ­¥æ—¶é—´ &lt;&lt;&lt;----"
    sleep 3
    timedatectl set-timezone Asia/Shanghai
    yum -y install chrony
    systemctl start chronyd
    systemctl enable chronyd
    â€‹
    echo "----&gt;&gt;&gt; è®¾ç½®ç³»ç»Ÿæœ€å¤§æ‰“å¼€æ–‡ä»¶æ•° &lt;&lt;&lt;----"
    sleep 3
    if ! grep "* soft nofile 65535" /etc/security/limits.conf &amp;&gt;/dev/null; then
    cat &gt;&gt; /etc/security/limits.conf &lt;&lt; EOF
    * soft nofile 65535 Â  Â #è½¯é™åˆ¶
    * hard nofile 65535 Â  Â #ç¡¬é™åˆ¶
    EOF
    fi
    â€‹
    echo "----&gt;&gt;&gt; ç³»ç»Ÿå†…æ ¸ä¼˜åŒ– &lt;&lt;&lt;----"
    sleep 3
    cat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF
    net.ipv4.tcp_syncookies = 1 Â  Â  Â  Â #é˜²èŒƒSYNæ´ªæ°´æ”»å‡»ï¼Œ0ä¸ºå…³é—­
    net.ipv4.tcp_max_tw_buckets = 20480 #æ­¤é¡¹å‚æ•°å¯ä»¥æ§åˆ¶TIME_WAITå¥—æ¥å­—çš„æœ€å¤§æ•°é‡ï¼Œé¿å…SquidæœåŠ¡å™¨è¢«å¤§é‡çš„TIME_WAITå¥—æ¥å­—æ‹–æ­»
    net.ipv4.tcp_max_syn_backlog = 20480 #è¡¨ç¤ºSYNé˜Ÿåˆ—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º1024ï¼ŒåŠ å¤§é˜Ÿåˆ—é•¿åº¦ä¸º8192ï¼Œå¯ä»¥å®¹çº³æ›´å¤šç­‰å¾…è¿æ¥çš„ç½‘ç»œè¿æ¥æ•°
    net.core.netdev_max_backlog = 262144 #æ¯ä¸ªç½‘ç»œæ¥å£ æ¥å—æ•°æ®åŒ…çš„é€Ÿç‡æ¯”å†…æ ¸å¤„ç†è¿™äº›åŒ…çš„é€Ÿç‡å¿«æ—¶ï¼Œå…è®¸å‘é€åˆ°é˜Ÿåˆ—çš„æ•°æ®åŒ…çš„æœ€å¤§æ•°ç›®
    net.ipv4.tcp_fin_timeout = 20 Â  Â  Â  #FIN-WAIT-2çŠ¶æ€çš„è¶…æ—¶æ—¶é—´ï¼Œé¿å…å†…æ ¸å´©æºƒ
    EOF
    â€‹
    echo "----&gt;&gt;&gt; å‡å°‘SWAPä½¿ç”¨ &lt;&lt;&lt;----"
    sleep 3
    echo "0" &gt; /proc/sys/vm/swappiness
    â€‹
    echo "----&gt;&gt;&gt; å®‰è£…ç³»ç»Ÿæ€§èƒ½åˆ†æå·¥å…·åŠå…¶ä»– &lt;&lt;&lt;----"
    sleep 3
    yum install -y wget tar unzip vim net-tools lrzsz epel-release
</code></pre>
<h5 data-id="heading-8">ç”¨ansibleæ‰¹é‡ç®¡ç†å·¥å…·</h5>
<p>master01æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# yum -y install ansible
    [root@master01 ~]# cat  /etc/ansible/hosts 
    [k8s] #åç§°éšæ„èµ·
    192.168.200.10 #ç®¡ç†èŠ‚ç‚¹çš„ip
    192.168.200.20
    192.168.200.30
    192.168.200.40
    192.168.200.50
    [root@master01 ~]# ansible k8s --list-host #åˆ—å‡ºç®¡ç†çš„ä¸»æœº
      hosts (5):
     Â  Â 192.168.200.10
     Â  Â 192.168.200.20
     Â  Â 192.168.200.30
     Â  Â 192.168.200.40
     Â  Â 192.168.200.50
</code></pre>
<h5 data-id="heading-9">é…ç½®å…å¯†</h5>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]#  ssh-keygen 
    [root@master01 ~]# ssh-copy-id 192.168.200.10
    [root@master01 ~]# ssh-copy-id 192.168.200.20
    [root@master01 ~]# ssh-copy-id 192.168.200.30
    [root@master01 ~]# ssh-copy-id 192.168.200.40
    [root@master01 ~]# ssh-copy-id 192.168.200.50
</code></pre>
<h5 data-id="heading-10">ç”¨ansibleæ‰§è¡Œæœ¬åœ°è§£æ</h5>
<p>master01æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# ansible k8s -m copy -a 'src=/etc/hosts dest=/etc/'
    # -m é€‰æ‹©copyæ¨¡å— -aå‚æ•°  srcé€‰æ‹©æ–‡ä»¶ desté€‰æ‹©æ¥å—æ–‡ä»¶çš„ç›®å½•  æ‰§è¡Œk8sé‡Œé¢çš„æ‰€æœ‰ä¸»æœº
    â€‹
    [root@master01 ~]# ansible k8s -m copy -a 'src=/etc/hosts dest=/etc/'
    192.168.200.10 | SUCCESS =&gt; {
     Â  Â "ansible_facts": {
     Â  Â  Â  Â "discovered_interpreter_python": "/usr/bin/python3"
     Â   },
     Â  Â "changed": false,
     Â  Â "checksum": "e8836e2fe5404ba12491595dd0904b4c869c1ed4",
     Â  Â "dest": "/etc/hosts",
     Â  Â "gid": 0,
     Â  Â "group": "root",
     Â  Â "mode": "0644",
     Â  Â "owner": "root",
     Â  Â "path": "/etc/hosts",
     Â  Â "secontext": "system_u:object_r:net_conf_t:s0",
     Â  Â "size": 274,
     Â  Â "state": "file",
     Â  Â "uid": 0
    }
    192.168.200.50 | CHANGED =&gt; {
     Â  Â "ansible_facts": {
     Â  Â  Â  Â "discovered_interpreter_python": "/usr/bin/python3"
     Â   },
     Â  Â "changed": true,
     Â  Â "checksum": "e8836e2fe5404ba12491595dd0904b4c869c1ed4",
     Â  Â "dest": "/etc/hosts",
     Â  Â "gid": 0,
     Â  Â "group": "root",
     Â  Â "md5sum": "c532db26adb0483e719c187fc45f21cb",
     Â  Â "mode": "0644",
     Â  Â "owner": "root",
     Â  Â "secontext": "system_u:object_r:net_conf_t:s0",
     Â  Â "size": 274,
     Â  Â "src": "/root/.ansible/tmp/ansible-tmp-1768062456.2526422-14531-271850656325293/source",
     Â  Â "state": "file",
     Â  Â "uid": 0
    }
    192.168.200.20 | CHANGED =&gt; {
     Â  Â "ansible_facts": {
     Â  Â  Â  Â "discovered_interpreter_python": "/usr/bin/python3"
     Â   },
     Â  Â "changed": true,
     Â  Â "checksum": "e8836e2fe5404ba12491595dd0904b4c869c1ed4",
     Â  Â "dest": "/etc/hosts",
     Â  Â "gid": 0,
     Â  Â "group": "root",
     Â  Â "md5sum": "c532db26adb0483e719c187fc45f21cb",
     Â  Â "mode": "0644",
     Â  Â "owner": "root",
     Â  Â "secontext": "system_u:object_r:net_conf_t:s0",
     Â  Â "size": 274,
     Â  Â "src": "/root/.ansible/tmp/ansible-tmp-1768062456.2326186-14527-234479680227272/source",
     Â  Â "state": "file",
     Â  Â "uid": 0
    }
    192.168.200.30 | CHANGED =&gt; {
     Â  Â "ansible_facts": {
     Â  Â  Â  Â "discovered_interpreter_python": "/usr/bin/python3"
     Â   },
     Â  Â "changed": true,
     Â  Â "checksum": "e8836e2fe5404ba12491595dd0904b4c869c1ed4",
     Â  Â "dest": "/etc/hosts",
     Â  Â "gid": 0,
     Â  Â "group": "root",
     Â  Â "md5sum": "c532db26adb0483e719c187fc45f21cb",
     Â  Â "mode": "0644",
     Â  Â "owner": "root",
     Â  Â "secontext": "system_u:object_r:net_conf_t:s0",
     Â  Â "size": 274,
     Â  Â "src": "/root/.ansible/tmp/ansible-tmp-1768062456.2361205-14528-134504389252368/source",
     Â  Â "state": "file",
     Â  Â "uid": 0
    }
    192.168.200.40 | CHANGED =&gt; {
     Â  Â "ansible_facts": {
     Â  Â  Â  Â "discovered_interpreter_python": "/usr/bin/python3"
     Â   },
     Â  Â "changed": true,
     Â  Â "checksum": "e8836e2fe5404ba12491595dd0904b4c869c1ed4",
     Â  Â "dest": "/etc/hosts",
     Â  Â "gid": 0,
     Â  Â "group": "root",
     Â  Â "md5sum": "c532db26adb0483e719c187fc45f21cb",
     Â  Â "mode": "0644",
     Â  Â "owner": "root",
     Â  Â "secontext": "system_u:object_r:net_conf_t:s0",
     Â  Â "size": 274,
     Â  Â "src": "/root/.ansible/tmp/ansible-tmp-1768062456.256709-14529-27504447793147/source",
     Â  Â "state": "file",
     Â  Â "uid": 0
    }
</code></pre>
<p><strong>å¼€å¯bridgeç½‘æ¡¥è¿‡æ»¤åŠŸèƒ½master01æ‰§è¡Œ</strong></p>
<p>bridge(æ¡¥æ¥) æ˜¯ Linux ç³»ç»Ÿä¸­çš„ä¸€ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œå®ƒå……å½“ä¸€ä¸ªè™šæ‹Ÿçš„äº¤æ¢æœºï¼Œä¸ºé›†ç¾¤å†…çš„å®¹å™¨æä¾›ç½‘ç»œé€šä¿¡åŠŸèƒ½ï¼Œå®¹å™¨å°±å¯ä»¥é€šè¿‡è¿™ä¸ª bridge ä¸å…¶ä»–å®¹å™¨æˆ–å¤–éƒ¨ç½‘ç»œé€šä¿¡äº†ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# cat k8s.conf 
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    #å‚æ•°è§£é‡Š
    net.bridge.bridge-nf-call-ip6tables = 1 Â //å¯¹ç½‘æ¡¥ä¸Šçš„IPv6æ•°æ®åŒ…é€šè¿‡iptableså¤„ç†
    net.bridge.bridge-nf-call-iptables = 1 Â  //å¯¹ç½‘æ¡¥ä¸Šçš„IPv4æ•°æ®åŒ…é€šè¿‡iptableså¤„ç†
    net.ipv4.ip_forward = 1 Â  Â  Â  //å¼€å¯IPv4è·¯ç”±è½¬å‘,æ¥å®ç°é›†ç¾¤ä¸­çš„å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œçš„é€šä¿¡
    [root@master01 ~]# ansible k8s -m copy -a 'src=/root/k8s.conf dest=/etc/sysctl.d/'

&lt;!----&gt;
</code></pre>
<pre><code class="hljs language-shell" lang="shell">    #ç”±äºå¼€å¯bridgeåŠŸèƒ½ï¼Œéœ€è¦åŠ è½½br_netfilteræ¨¡å—æ¥å…è®¸åœ¨bridgeè®¾å¤‡ä¸Šçš„æ•°æ®åŒ…ç»è¿‡iptablesé˜²ç«å¢™å¤„ç†
    [root@master01 /]# ansible k8s -m shell -a 'modprobe br_netfilter &amp;&amp; lsmod | grep br_netfilter'
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    br_netfilter Â  Â  Â  Â  Â  36864 Â 0
    bridge Â  Â  Â  Â  Â  Â  Â  Â 417792 Â 1 br_netfilter
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    br_netfilter Â  Â  Â  Â  Â  36864 Â 0
    bridge Â  Â  Â  Â  Â  Â  Â  Â 417792 Â 1 br_netfilter
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    br_netfilter Â  Â  Â  Â  Â  36864 Â 0
    bridge Â  Â  Â  Â  Â  Â  Â  Â 417792 Â 1 br_netfilter
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    br_netfilter Â  Â  Â  Â  Â  36864 Â 0
    bridge Â  Â  Â  Â  Â  Â  Â  Â 417792 Â 1 br_netfilter
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    br_netfilter Â  Â  Â  Â  Â  36864 Â 0
    bridge Â  Â  Â  Â  Â  Â  Â  Â 417792 Â 1 br_netfilter
    #å‚æ•°è§£é‡Šï¼š
    modprobe Â  Â  Â  Â //å‘½ä»¤å¯ä»¥åŠ è½½å†…æ ¸æ¨¡å—
    br_netfilter Â  Â //æ¨¡å—æ¨¡å—å…è®¸åœ¨bridgeè®¾å¤‡ä¸Šçš„æ•°æ®åŒ…ç»è¿‡iptablesé˜²ç«å¢™å¤„ç†

&lt;!----&gt;
</code></pre>
<pre><code class="hljs language-shell" lang="shell">    #åŠ è½½é…ç½®æ–‡ä»¶ï¼Œä½¿ä¸Šè¿°é…ç½®ç”Ÿæ•ˆ

    [root@master01 /]# ansible k8s -m shell -a 'sysctl -p /etc/sysctl.d/k8s.conf'
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    net.bridge.bridge-nf-call-ip6tables = 1
    net.bridge.bridge-nf-call-iptables = 1
    net.ipv4.ip_forward = 1
    â€‹
</code></pre>
<p><strong>é…ç½®ipvsåŠŸèƒ½master01æ‰§è¡Œ</strong></p>
<p>åœ¨k8sä¸­Serviceæœ‰ä¸¤ç§ä»£ç†æ¨¡å¼ï¼Œä¸€ç§æ˜¯åŸºäºiptablesçš„ï¼Œä¸€ç§æ˜¯åŸºäºipvsï¼Œä¸¤è€…å¯¹æ¯”ipvsè´Ÿè½½å‡è¡¡ç®—æ³•æ›´åŠ çš„çµæ´»ï¼Œä¸”å¸¦æœ‰å¥åº·æ£€æŸ¥çš„åŠŸèƒ½ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨ipvsæ¨¡å¼ï¼Œéœ€è¦æ‰‹åŠ¨è½½å…¥ipvsæ¨¡å—ã€‚</p>
<p><code>ipset</code> å’Œ <code>ipvsadm</code> æ˜¯ä¸¤ä¸ªä¸ç½‘ç»œç®¡ç†å’Œè´Ÿè½½å‡è¡¡ç›¸å…³çš„è½¯ä»¶åŒ…ï¼Œåœ¨k8sä»£ç†æ¨¡å¼ä¸­ï¼Œæä¾›å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå¦‚è½®è¯¢ï¼ˆRound Robinï¼‰ã€æœ€å°è¿æ¥ï¼ˆLeast Connectionï¼‰å’ŒåŠ æƒæœ€å°è¿æ¥ï¼ˆWeighted Least Connectionï¼‰ç­‰ï¼›</p>
<pre><code class="hljs language-arduino" lang="arduino">[root@master01 /]<span class="hljs-meta"># ansible k8s -m shell -a <span class="hljs-string">'yum -y install ipset ipvsadm'</span></span>
</code></pre>
<p>å°†éœ€è¦åŠ è½½çš„ipvsç›¸å…³æ¨¡å—å†™å…¥åˆ°æ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-shgell" lang="shgell">    [root@master01 ~]# cat ip_vs.conf 
    ip_vs
    ip_vs_rr
    ip_vs_wrr
    ip_vs_sh
    nf_conntrack
    [root@master01 ~]# ansible k8s -m copy -a 'src=/root/ip_vs.conf dest=/etc/modules-load.d/'
    â€‹
    #æ¨¡å—ä»‹ç»
    ip_vs Â  Â  Â  Â  //æä¾›è´Ÿè½½å‡è¡¡çš„æ¨¡å—,æ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•,å¦‚è½®è¯¢ã€æœ€å°è¿æ¥ã€åŠ æƒæœ€å°è¿æ¥ç­‰
    ip_vs_rr Â  Â  Â //è½®è¯¢ç®—æ³•çš„æ¨¡å—ï¼ˆé»˜è®¤ç®—æ³•ï¼‰
    ip_vs_wrr Â  Â  //åŠ æƒè½®è¯¢ç®—æ³•çš„æ¨¡å—,æ ¹æ®åç«¯æœåŠ¡å™¨çš„æƒé‡å€¼è½¬å‘è¯·æ±‚
    ip_vs_sh Â  Â  Â //å“ˆå¸Œç®—æ³•çš„æ¨¡å—,åŒä¸€å®¢æˆ·ç«¯çš„è¯·æ±‚å§‹ç»ˆè¢«åˆ†å‘åˆ°ç›¸åŒçš„åç«¯æœåŠ¡å™¨,ä¿è¯ä¼šè¯ä¸€è‡´æ€§
    nf_conntrack Â //é“¾æ¥è·Ÿè¸ªçš„æ¨¡å—,ç”¨äºè·Ÿè¸ªä¸€ä¸ªè¿æ¥çš„çŠ¶æ€,ä¾‹å¦‚ TCP æ¡æ‰‹ã€æ•°æ®ä¼ è¾“å’Œè¿æ¥å…³é—­ç­‰
</code></pre>
<p>æ‰§è¡Œå‘½ä»¤æ¥åŠ è½½æ¨¡å—</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# ansible k8s -m shell -a 'systemctl restart systemd-modules-load.service'
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    [root@master01 ~]# ansible k8s -m shell -a 'lsmod | grep ip_vs'
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    ip_vs_sh Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs_wrr Â  Â  Â  Â  Â  Â  Â 12288 Â 0
    ip_vs_rr Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs Â  Â  Â  Â  Â  Â  Â  Â  237568 Â 6 ip_vs_rr,ip_vs_sh,ip_vs_wrr
    nf_conntrack Â  Â  Â  Â  Â 229376 Â 3 nf_nat,nft_ct,ip_vs
    nf_defrag_ipv6 Â  Â  Â  Â  24576 Â 2 nf_conntrack,ip_vs
    libcrc32c Â  Â  Â  Â  Â  Â  Â 12288 Â 5 nf_conntrack,nf_nat,nf_tables,xfs,ip_vs
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    ip_vs_sh Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs_wrr Â  Â  Â  Â  Â  Â  Â 12288 Â 0
    ip_vs_rr Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs Â  Â  Â  Â  Â  Â  Â  Â  237568 Â 6 ip_vs_rr,ip_vs_sh,ip_vs_wrr
    nf_conntrack Â  Â  Â  Â  Â 229376 Â 3 nf_nat,nft_ct,ip_vs
    nf_defrag_ipv6 Â  Â  Â  Â  24576 Â 2 nf_conntrack,ip_vs
    libcrc32c Â  Â  Â  Â  Â  Â  Â 12288 Â 5 nf_conntrack,nf_nat,nf_tables,xfs,ip_vs
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    ip_vs_sh Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs_wrr Â  Â  Â  Â  Â  Â  Â 12288 Â 0
    ip_vs_rr Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs Â  Â  Â  Â  Â  Â  Â  Â  237568 Â 6 ip_vs_rr,ip_vs_sh,ip_vs_wrr
    nf_conntrack Â  Â  Â  Â  Â 229376 Â 3 nf_nat,nft_ct,ip_vs
    nf_defrag_ipv6 Â  Â  Â  Â  24576 Â 2 nf_conntrack,ip_vs
    libcrc32c Â  Â  Â  Â  Â  Â  Â 12288 Â 5 nf_conntrack,nf_nat,nf_tables,xfs,ip_vs
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    ip_vs_sh Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs_wrr Â  Â  Â  Â  Â  Â  Â 12288 Â 0
    ip_vs_rr Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs Â  Â  Â  Â  Â  Â  Â  Â  237568 Â 6 ip_vs_rr,ip_vs_sh,ip_vs_wrr
    nf_conntrack Â  Â  Â  Â  Â 229376 Â 3 nf_nat,nft_ct,ip_vs
    nf_defrag_ipv6 Â  Â  Â  Â  24576 Â 2 nf_conntrack,ip_vs
    libcrc32c Â  Â  Â  Â  Â  Â  Â 12288 Â 5 nf_conntrack,nf_nat,nf_tables,xfs,ip_vs
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    ip_vs_sh Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs_wrr Â  Â  Â  Â  Â  Â  Â 12288 Â 0
    ip_vs_rr Â  Â  Â  Â  Â  Â  Â  12288 Â 0
    ip_vs Â  Â  Â  Â  Â  Â  Â  Â  237568 Â 6 ip_vs_rr,ip_vs_sh,ip_vs_wrr
    nf_conntrack Â  Â  Â  Â  Â 229376 Â 3 nf_nat,nft_ct,ip_vs
    nf_defrag_ipv6 Â  Â  Â  Â  24576 Â 2 nf_conntrack,ip_vs
    libcrc32c Â  Â  Â  Â  Â  Â  Â 12288 Â 5 nf_conntrack,nf_nat,nf_tables,xfs,ip_vs 
</code></pre>
<p><strong>å…³é—­SWAPåˆ†åŒº</strong></p>
<p>master01æ‰§è¡Œ ä¸ºäº†ä¿è¯ kubelet æ­£å¸¸å·¥ä½œï¼Œk8så¼ºåˆ¶è¦æ±‚ç¦ç”¨ï¼Œå¦åˆ™é›†ç¾¤åˆå§‹åŒ–å¤±è´¥</p>
<pre><code class="hljs language-shell" lang="shell">    #ä¸´æ—¶å…³é—­
    [root@master01 ~]# ansible k8s -m shell -a 'swapoff -a'
    â€‹
    #æ°¸ä¹…å…³é—­
    [root@master01 ~]# ansible k8s -m shell -a "sed -ri 's/.*swap.*/#&amp;/' /etc/fstab"
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    â€‹
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    â€‹
    [root@master01 ~]# ansible k8s -m shell -a 'grep ".*swap.*" /etc/fstab'
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
    #/dev/mapper/rl_192-swap none Â  Â  Â  Â  Â  Â  Â  Â  Â   swap Â   defaults Â  Â  Â   0 0
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
    #/dev/mapper/rl_192-swap none Â  Â  Â  Â  Â  Â  Â  Â  Â   swap Â   defaults Â  Â  Â   0 0
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
    #/dev/mapper/rl_192-swap none Â  Â  Â  Â  Â  Â  Â  Â  Â   swap Â   defaults Â  Â  Â   0 0
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
    #/dev/mapper/rl_192-swap none Â  Â  Â  Â  Â  Â  Â  Â  Â   swap Â   defaults Â  Â  Â   0 0
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
    #/dev/mapper/rl_192-swap none Â  Â  Â  Â  Â  Â  Â  Â  Â   swap Â   defaults Â  Â  Â   0 0
    â€‹
</code></pre>
<p>æ£€æŸ¥swap</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# ansible k8s -m shell -a 'free -h'
    192.168.200.50 | CHANGED | rc=0 &gt;&gt;
     Â  Â  Â  Â  Â  Â  Â  total Â  Â  Â   used Â  Â  Â   free Â  Â   shared  buff/cache Â  available
    Mem: Â  Â  Â  Â  Â  3.5Gi Â  Â  Â  481Mi Â  Â  Â  2.9Gi Â  Â  Â  8.0Mi Â  Â  Â  429Mi Â  Â  Â  3.1Gi
    Swap: Â  Â  Â  Â  Â  Â  0B Â  Â  Â  Â   0B Â  Â  Â  Â   0B
    192.168.200.30 | CHANGED | rc=0 &gt;&gt;
     Â  Â  Â  Â  Â  Â  Â  total Â  Â  Â   used Â  Â  Â   free Â  Â   shared  buff/cache Â  available
    Mem: Â  Â  Â  Â  Â  3.5Gi Â  Â  Â  505Mi Â  Â  Â  2.9Gi Â  Â  Â  8.0Mi Â  Â  Â  429Mi Â  Â  Â  3.0Gi
    Swap: Â  Â  Â  Â  Â  Â  0B Â  Â  Â  Â   0B Â  Â  Â  Â   0B
    192.168.200.40 | CHANGED | rc=0 &gt;&gt;
     Â  Â  Â  Â  Â  Â  Â  total Â  Â  Â   used Â  Â  Â   free Â  Â   shared  buff/cache Â  available
    Mem: Â  Â  Â  Â  Â  3.5Gi Â  Â  Â  506Mi Â  Â  Â  2.9Gi Â  Â  Â  8.0Mi Â  Â  Â  429Mi Â  Â  Â  3.0Gi
    Swap: Â  Â  Â  Â  Â  Â  0B Â  Â  Â  Â   0B Â  Â  Â  Â   0B
    192.168.200.20 | CHANGED | rc=0 &gt;&gt;
     Â  Â  Â  Â  Â  Â  Â  total Â  Â  Â   used Â  Â  Â   free Â  Â   shared  buff/cache Â  available
    Mem: Â  Â  Â  Â  Â  3.5Gi Â  Â  Â  473Mi Â  Â  Â  2.9Gi Â  Â  Â  8.0Mi Â  Â  Â  429Mi Â  Â  Â  3.1Gi
    Swap: Â  Â  Â  Â  Â  Â  0B Â  Â  Â  Â   0B Â  Â  Â  Â   0B
    192.168.200.10 | CHANGED | rc=0 &gt;&gt;
     Â  Â  Â  Â  Â  Â  Â  total Â  Â  Â   used Â  Â  Â   free Â  Â   shared  buff/cache Â  available
    Mem: Â  Â  Â  Â  Â  3.5Gi Â  Â  Â  677Mi Â  Â  Â  2.2Gi Â  Â  Â  9.0Mi Â  Â  Â  989Mi Â  Â  Â  2.9Gi
    Swap: Â  Â  Â  Â  Â  Â  0B Â  Â  Â  Â   0B Â  Â  Â  Â   0B
    â€‹
</code></pre>
<h5 data-id="heading-11">Dockerç¯å¢ƒå‡†å¤‡</h5>
<blockquote>
<p>mastet01ä¸»æœºå®‰è£…ï¼Œä¸åŒ…æ‹¬è´Ÿè½½å‡è¡¡èŠ‚ç‚¹</p>
</blockquote>
<pre><code class="hljs language-shell" lang="shell">    #å®‰è£…yum-utilsåˆ›å»ºdockerå­˜å‚¨åº“ï¼ˆé˜¿é‡Œï¼‰
    [root@master01 ~]# ansible k8s -m shell -a 'yum install -y yum-utils'
    [root@master01 ~]# ansible k8s -m shell -a 'yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo'

&lt;!----&gt;
</code></pre>
<pre><code class="hljs language-shell" lang="shell">    #å®‰è£…æŒ‡å®šç‰ˆæœ¬å¹¶è®¾ç½®å¯åŠ¨åŠå¼€æœºè‡ªå¯åŠ¨
    [root@master01 yum.repos.d]# ansible k8s -m shell -a 'yum -y install docker-ce-3:20.10.24-3.el9.x86_64 docker-ce-cli-1:20.10.24-3.el9.x86_64'
    â€‹
    ç»„ä»¶åç§°    æ ¸å¿ƒä½œç”¨    é€šä¿—ç†è§£
    docker-ce   Docker æ ¸å¿ƒæœåŠ¡ï¼ˆå®ˆæŠ¤è¿›ç¨‹ dockerdï¼‰ï¼Œè´Ÿè´£ç®¡ç†å®¹å™¨ã€é•œåƒã€ç½‘ç»œã€å­˜å‚¨ç­‰  ã€Œåå°æœåŠ¡ã€ï¼ˆå¹²æ´»çš„ï¼‰
    docker-ce-cli   Docker å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œæä¾› docker run/docker ps ç­‰ç»ˆç«¯å‘½ä»¤
</code></pre>
<h5 data-id="heading-12">é…ç½®Cgroupé©±åŠ¨ç¨‹åº</h5>
<p>mastet01ä¸»æœºæ‰§è¡Œ å¯ç”¨Cgroupæ§åˆ¶ç»„ï¼Œç”¨äºé™åˆ¶è¿›ç¨‹çš„èµ„æºä½¿ç”¨é‡ï¼Œå¦‚CPUã€å†…å­˜ã€ç£ç›˜IOç­‰</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# ansible k8s -m shell -a 'mkdir /etc/docker'
    [root@master01 ~]# cat daemon.json 
    {
     Â "exec-opts": ["native.cgroupdriver=systemd"],
     Â "registry-mirrors": ["https://docker.1ms.run"]
    }
    #exec-optsï¼šè®¾ç½® Docker çš„ cgroup é©±åŠ¨ä¸ºsystemdï¼ˆé€šå¸¸ç”¨äºå’Œ Kubernetes çš„ cgroup é©±åŠ¨ä¿æŒä¸€è‡´ï¼‰
    #registry-mirrorsï¼šé…ç½® Docker é•œåƒåŠ é€Ÿæºï¼Œæå‡é•œåƒæ‹‰å–é€Ÿåº¦ã€‚
    [root@master01 ~]# ansible k8s -m copy -a 'src=/root/daemon.json dest=/etc/docker/'

&lt;!----&gt;
</code></pre>
<pre><code class="hljs language-shell" lang="shell">    #å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®éšæœºè‡ªå¯
    [root@master01 ~]# ansible k8s -m shell  -a 'systemctl enable docker --now'
    #èƒ½åŒæ—¶å®Œæˆè®¾ç½®å¼€æœºè‡ªå¯å’Œç«‹å³å¯åŠ¨æœåŠ¡çš„å¿«æ·æŒ‡ä»¤
</code></pre>
<h5 data-id="heading-13">HAProxyåŠkeepalivedéƒ¨ç½²</h5>
<p>æ­¤å¤„çš„haproxyä¸ºapiserveræä¾›åå‘ä»£ç†ï¼Œé›†ç¾¤çš„ç®¡ç†è¯·æ±‚é€šè¿‡VIPè¿›è¡Œæ¥æ”¶ï¼Œhaproxyå°†æ‰€æœ‰ç®¡ç†è¯·æ±‚è½®è¯¢è½¬å‘åˆ°æ¯ä¸ªmasterèŠ‚ç‚¹ä¸Šã€‚</p>
<p>Keepalivedä¸ºhaproxyæä¾›vipï¼ˆ192.168.200.100ï¼‰åœ¨äºŒä¸ªhaproxyå®ä¾‹ä¹‹é—´æä¾›ä¸»å¤‡ï¼Œé™ä½å½“å…¶ä¸­ä¸€ä¸ªhaproxyå¤±æ•ˆæ—¶å¯¹æœåŠ¡çš„å½±å“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b4552465efc4b678ce3308826281fb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-z5aS0NTMw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768681400&amp;x-signature=PVRygONcl0BYcmP%2B6H5%2BDYI17ZQ%3D" alt="17523a485b9e77fef907090500c74a5.jpg" loading="lazy"/></p>
<p><strong>æç¤ºï¼šä»¥ä¸‹æ“ä½œåªéœ€è¦åœ¨master01é…ç½®ã€‚</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># cat  /etc/ansible/hosts </span>
[<span class="hljs-meta">k8s</span>]
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.10</span>
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.20</span>
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.30</span>
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.40</span>
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.50</span>
[<span class="hljs-meta">lvs</span>]
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.60</span>
<span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.70</span>
<span class="hljs-meta">#æ·»åŠ æ–°çš„ä¸€ç»„</span>
[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># ssh-copy-id 192.168.200.60</span>
[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># ssh-copy-id 192.168.200.70</span>
[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># ansible  lvs --list-host</span>
 Â hosts (<span class="hljs-number">2</span>):
 Â  Â <span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.60</span>
 Â  Â <span class="hljs-number">192.168</span><span class="hljs-number">.200</span><span class="hljs-number">.70</span>
[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># ansible lvs -m shell -a 'yum -y install haproxy keepalived'</span>
</code></pre>
<p><strong>haproxyé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹</strong></p>
<p>è¯¥é…ç½®æ–‡ä»¶å†…å®¹åœ¨ha1ä¸ha2èŠ‚ç‚¹ä¿æŒä¸€è‡´</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# cat haproxy.cfg 
    #---------------------------------------------------------------------
    # Global settings
    #---------------------------------------------------------------------
    global
     Â maxconn Â 2000 Â  Â  Â  Â  Â  Â  Â  Â  Â  #å•ä¸ªè¿›ç¨‹æœ€å¤§å¹¶å‘è¿æ¥æ•°
     Â ulimit-n Â 16384 Â  Â  Â  Â  Â  Â  Â  Â  #æ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°é‡
     Â log Â 127.0.0.1 local0 err Â  Â  Â  #æ—¥å¿—è¾“å‡ºé…ç½®
     Â stats timeout 30s Â  Â  Â  Â  Â  Â  Â  #è¿æ¥socketè¶…æ—¶æ—¶é—´
     Â daemon Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â #ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œ
     Â # ç§»é™¤nbproc 1ï¼šHAProxy 2.5+ä¸æ”¯æŒè¯¥å‚æ•°
    â€‹
    defaults
     Â log global Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â #ç»§æ‰¿å…¨å±€æ—¥å¿—é…ç½®
     Â mode Â tcp Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  #K8S APIServerç”¨TCPæ¨¡å¼ï¼Œå…¨å±€ç»Ÿä¸€é¿å…å†²çª
     Â option Â dontlognull Â  Â  Â  Â  Â  Â  #ä¸è®°å½•ç©ºè¿æ¥æ—¥å¿—
     Â timeout connect 5000 Â  Â  Â  Â  Â  Â #è½¬å‘è¯·æ±‚åˆ°åç«¯çš„è¶…æ—¶æ—¶é—´
     Â timeout client Â 50000 Â  Â  Â  Â  Â  #å®¢æˆ·ç«¯éæ´»åŠ¨è¶…æ—¶
     Â timeout server Â 50000 Â  Â  Â  Â  Â  #åç«¯æœåŠ¡å™¨éæ´»åŠ¨è¶…æ—¶
     Â timeout http-request 15s Â  Â  Â  Â #HTTPè¯·æ±‚è¶…æ—¶ï¼ˆTCPæ¨¡å¼ä¸‹ä¹Ÿå…¼å®¹ï¼‰
     Â timeout http-keep-alive 15s Â  Â  #ä¼šè¯ä¿æŒè¶…æ—¶
    â€‹
    # ç›‘æ§HAProxyè‡ªèº«çŠ¶æ€ï¼ˆå¯é€‰ï¼Œç”¨äºæŸ¥çœ‹è´Ÿè½½å‡è¡¡çŠ¶æ€ï¼‰
    frontend monitor-in Â  Â  Â  Â  Â  Â  Â  
     Â bind *:33305 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
     Â mode http Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
     Â option httplog Â  Â  Â  Â  Â  Â  Â  Â  Â 
     Â monitor-uri /monitor Â  Â  Â  Â  Â  Â #è®¿é—® http://IP:33305/monitor å¯æŸ¥çœ‹å¥åº·çŠ¶æ€
    â€‹
    # K8S Masterè´Ÿè½½å‡è¡¡å‰ç«¯
    frontend k8s-master Â  Â  Â  Â  Â  Â  Â  
     Â bind 0.0.0.0:6443 Â  Â  Â  Â  Â  Â  Â  #ä»…ç»‘å®šæ‰€æœ‰ç½‘å¡çš„6443ç«¯å£ï¼Œé¿å…é‡å¤
     Â mode tcp Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
     Â option tcplog Â  Â  Â  Â  Â  Â  Â  Â  Â  Â #tcplogåªä¿ç•™åœ¨frontendæ®µ
     Â tcp-request inspect-delay 5s Â  Â 
     Â default_backend k8s-master Â  Â  Â 
    â€‹
    # K8S Masterè´Ÿè½½å‡è¡¡åç«¯
    backend k8s-master Â  Â  Â  Â  Â  Â  Â  Â 
     Â mode tcp Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
     Â # ç§»é™¤option tcplogï¼šbackendæ®µä¸æ”¯æŒè¯¥å‚æ•°
     Â option tcp-check Â  Â  Â  Â  Â  Â  Â  Â #TCPå±‚å¥åº·æ£€æŸ¥
     Â balance roundrobin Â  Â  Â  Â  Â  Â  Â #è½®è¯¢è´Ÿè½½å‡è¡¡
     Â default-server inter 10s downinter 5s rise 2 fall 2 slowstart 60s maxconn 250 maxqueue 256 weight 100
     Â server master01 Â  192.168.200.10:6443 Â check Â # æ›¿æ¢ä¸ºä½ çš„masterèŠ‚ç‚¹IP
     Â server master02 Â  192.168.200.20:6443 Â check Â # æ›¿æ¢ä¸ºä½ çš„masterèŠ‚ç‚¹IP
     Â server master03 Â  192.168.200.30:6443 Â check Â # æ›¿æ¢ä¸ºä½ çš„masterèŠ‚ç‚¹IP
    [root@master01 ~]# ansible lvs -m copy -a 'src=/root/haproxy.cfg dest=/etc/haproxy/'
</code></pre>
<p>master01æ‰§è¡Œ ha1ä¸ha2å¯åŠ¨haproxy</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# ansible lvs -m shell -a 'systemctl enable haproxy --now'
    192.168.200.70 | CHANGED | rc=0 &gt;&gt;
    Created symlink /etc/systemd/system/multi-user.target.wants/haproxy.service â†’ /usr/lib/systemd/system/haproxy.service.
    192.168.200.60 | CHANGED | rc=0 &gt;&gt;
    Created symlink /etc/systemd/system/multi-user.target.wants/haproxy.service â†’ /usr/lib/systemd/system/haproxy.service.
</code></pre>
<p><strong>k8s-ha1èŠ‚ç‚¹keepalivedé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹</strong></p>
<p>åœ¨ha01æ“ä½œ</p>
<pre><code class="hljs language-shell" lang="shell">    cat /etc/keepalived/keepalived.conf
    â€‹
    ! Configuration File for keepalived
    global_defs {
     Â  Â router_id LVS_DEVEL
    script_user root
     Â  Â enable_script_security
    }
    vrrp_script chk_haproxyr {
     Â  Â script "/etc/keepalived/chk_haproxy.sh"
     Â  Â interval 5
     Â  Â weight -5
     Â  Â fall 2
    rise 1
    }
    vrrp_instance VI_1 {
     Â  Â state MASTER
     Â  Â interface ens160
     Â  Â virtual_router_id 51
     Â  Â priority 101
     Â  Â advert_int 2
     Â  Â authentication {
     Â  Â  Â  Â auth_type PASS
     Â  Â  Â  Â auth_pass abc123
     Â  Â }
     Â  Â virtual_ipaddress {
     Â  Â  Â  Â 192.168.200.100/24
     Â  Â }
     Â  Â track_script {
     Â  Â  Â  chk_haproxyr
     Â  Â }
    }

é…ç½®æ–‡ä»¶è¯¦è§£

    #å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬ï¼Œåç§°ä¸ºchk_haproxyr
    vrrp_scriptchk_haproxyr {
     Â  Â #è„šæœ¬æ‰€åœ¨çš„è·¯å¾„åŠåç§°
     Â   script "/etc/keepalived/chk_haproxy.sh"
     Â  Â #ç›‘æ§æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œå•ä½ç§’
     Â   interval 5
     Â  Â #å¥åº·æ£€è½¦çš„æ¬¡æ•°ï¼Œè¿ç»­2æ¬¡å¥åº·æ£€æŸ¥å¤±è´¥ï¼ŒæœåŠ¡å™¨å°†è¢«æ ‡è®°ä¸ºä¸å¥åº·
     Â   fall 2
     Â  Â #è¿ç»­å¥åº·æ£€æŸ¥æˆåŠŸçš„æ¬¡æ•°ï¼Œæœ‰1æ¬¡å¥åº·æ£€æŸ¥æˆåŠŸï¼ŒæœåŠ¡å™¨å°†è¢«æ ‡è®°ä¸ºå¥åº·
     Â   rise 1
    }
    â€‹
    #é…ç½®äº†ä¸€ä¸ªåä¸ºVI_1çš„VRRPå®ä¾‹ç»„
    vrrp_instance VI_1 {
     Â  Â #è¯¥èŠ‚ç‚¹åœ¨VRRPç»„ä¸­çš„èº«ä»½ï¼ŒMasterèŠ‚ç‚¹è´Ÿè´£å¤„ç†è¯·æ±‚å¹¶æ‹¥æœ‰è™šæ‹ŸIPåœ°å€
     Â   state MASTER
     Â  Â #å®ä¾‹ç»‘å®šçš„ç½‘ç»œæ¥å£ï¼Œå®ä¾‹é€šè¿‡è¿™ä¸ªç½‘ç»œæ¥å£ä¸å…¶ä»–VRRPèŠ‚ç‚¹é€šä¿¡ï¼Œä»¥åŠè™šæ‹ŸIPåœ°å€çš„ç»‘å®š
     Â   interface ens160
     Â  Â #è™šæ‹Ÿçš„è·¯ç”±IDï¼ŒèŒƒå›´1åˆ°255ä¹‹é—´çš„æ•´æ•°ï¼Œç”¨äºåœ¨ä¸€ä¸ªç½‘ç»œä¸­åŒºåˆ†ä¸åŒçš„VRRPå®ä¾‹ç»„ï¼Œä½†æ˜¯åœ¨åŒä¸€ä¸ªVRRPç»„ä¸­çš„èŠ‚ç‚¹ï¼Œè¯¥IDè¦ä¿æŒä¸€è‡´
     Â   virtual_router_id 51
     Â  Â #å®ä¾‹çš„ä¼˜å…ˆçº§ï¼ŒèŒƒå›´1åˆ°254ä¹‹é—´çš„æ•´æ•°ï¼Œç”¨äºå†³å®šåœ¨åŒä¸€ä¸ªVRRPç»„ä¸­å“ªä¸ªèŠ‚ç‚¹å°†æˆä¸ºMasterèŠ‚ç‚¹ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Š&gt;é«˜
     Â   priority 101
     Â  Â #MasterèŠ‚ç‚¹å¹¿æ’­VRRPæŠ¥æ–‡çš„æ—¶é—´é—´éš”ï¼Œç”¨äºé€šçŸ¥å…¶ä»–BackupèŠ‚ç‚¹MasterèŠ‚ç‚¹çš„å­˜åœ¨å’ŒçŠ¶æ€ï¼Œåœ¨åŒä¸€ä¸ªVRRPç»„ä¸­ï¼Œæ‰€æœ‰&gt;èŠ‚ç‚¹çš„advert_intå‚æ•°å€¼å¿…é¡»ç›¸åŒ
     Â   advert_int 2
     Â  Â #å®ä¾‹ä¹‹é—´é€šä¿¡çš„èº«ä»½éªŒè¯æœºåˆ¶
     Â   authentication {
     Â  Â  Â  Â #PASSä¸ºå¯†ç éªŒè¯
     Â  Â  Â   auth_type PASS
        #æ­¤å¯†ç å¿…é¡»ä¸º1åˆ°8ä¸ªå­—ç¬¦ï¼Œåœ¨åŒä¸€ä¸ªVRRPç»„ä¸­ï¼Œæ‰€æœ‰èŠ‚ç‚¹å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å¯†ç ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„èº«ä»½éªŒè¯å’Œé€šä¿¡
     Â  Â  Â   auth_pass abc123
     Â   }
        
     Â  Â #å®šä¹‰è™šæ‹ŸIPåœ°å€
     Â   virtual_ipaddress {
     Â  Â  Â  Â 192.168.200.100/24 Â  Â  Â 
     Â   }
    â€‹
     Â  Â #å¼•ç”¨è‡ªå®šä¹‰è„šæœ¬ï¼Œåç§°ä¸ä¸Šæ–¹vrrp_scriptä¸­å®šä¹‰çš„åç§°ä¿æŒä¸€è‡´
     Â   track_script {
     Â  Â  Â  chk_haproxyr
     Â   }
    }

k8s-ha1å®šä¹‰æ£€æµ‹haproxyè„šæœ¬

    cat Â /etc/keepalived/chk_haproxy.sh
    â€‹
    #!/bin/bash
    â€‹
    JIN=$(ps -C haproxy | grep -v PID | wc -l)
    if [ $JIN -eq 0 ];then
        systemctl stop keepalived
    fi

è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™

    chmod +x /etc/keepalived/chk_haproxy.sh

**k8s-ha2èŠ‚ç‚¹keepalivedé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹**

    cat /etc/keepalived/keepalived.conf
    â€‹
    ! Configuration File for keepalived
    global_defs {
     Â  Â router_id LVS_DEVEL
    script_user root
     Â  Â enable_script_security
    }
    vrrp_script chk_haproxyr {
     Â  Â script "/etc/keepalived/chk_haproxy.sh"
     Â  Â interval 5
     Â  Â weight -5
     Â  Â fall 2
    rise 1
    }
    vrrp_instance VI_1 {
     Â  Â state BAKUP
     Â  Â interface ens160
     Â  Â virtual_router_id 51
     Â  Â priority 100
     Â  Â advert_int 2
     Â  Â authentication {
     Â  Â  Â  Â auth_type PASS
     Â  Â  Â  Â auth_pass abc123
     Â  Â }
     Â  Â virtual_ipaddress {
     Â  Â  Â  Â 192.168.200.100/24
     Â  Â }
     Â  Â track_script {
     Â  Â  Â  chk_haproxyr
     Â  Â }
    }
</code></pre>
<p>k8s-ha2å®šä¹‰æ£€æµ‹haproxyè„šæœ¬</p>
<pre><code class="hljs language-shell" lang="shell">    cat Â /etc/keepalived/chk_haproxy.sh
    â€‹
    #!/bin/bash
    â€‹
    JIN = $(ps -C haproxy | grep -v PID | wc -l)
    if [$JIN -eq 0];then
        systemctl stop keepalived
    fi
</code></pre>
<p>è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™</p>
<pre><code class="hljs language-shell" lang="shell">    chmod +x /etc/keepalived/chk_haproxy.sh
</code></pre>
<p>k8s-ha1ä¸k8s-ha2èŠ‚ç‚¹å¯åŠ¨keepalived</p>
<pre><code class="hljs language-shell" lang="shell">    systemctl enable keepalived --now    
</code></pre>
<p>æŸ¥çœ‹é›†ç¾¤VIPåœ°å€</p>
<pre><code class="hljs language-shell" lang="shell">    æŸ¥çœ‹VIPï¼ˆæç¤ºï¼šifconfigå‘½ä»¤æŸ¥çœ‹ä¸åˆ°VIPï¼‰
    [root@k8s-ha1 ~]# ip a 
</code></pre>
<h5 data-id="heading-14">k8sé›†ç¾¤éƒ¨ç½²æ–¹å¼</h5>
<p>kubernetesé›†ç¾¤æœ‰å¤šç§éƒ¨ç½²æ–¹å¼ï¼Œç›®å‰å¸¸ç”¨çš„éƒ¨ç½²æ–¹å¼æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>kubeadméƒ¨ç½²æ–¹å¼ï¼škubeadmæ˜¯ä¸€ä¸ªå¿«é€Ÿæ­å»ºkubernetesçš„é›†ç¾¤å·¥å…·</li>
<li>äºŒè¿›åˆ¶åŒ…éƒ¨ç½²æ–¹å¼ï¼šä»å®˜ç½‘ä¸‹è½½æ¯ä¸ªç»„ä»¶çš„äºŒè¿›åˆ¶åŒ…ï¼Œä¾æ¬¡å»å®‰è£…ï¼Œéƒ¨ç½²éº»çƒ¦</li>
<li>å…¶ä»–æ–¹å¼ï¼šé€šè¿‡ä¸€äº›å¼€æºçš„å·¥å…·æ­å»ºï¼Œä¾‹å¦‚ï¼šsealos</li>
</ul>
<h5 data-id="heading-15">k8s YUMæºå‡†å¤‡</h5>
<p>æœ¬å®éªŒä½¿ç”¨é˜¿é‡Œäº‘YUMæº</p>
<blockquote>
<p>master01æ‰§è¡Œ</p>
</blockquote>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# cat k8s.repo 
    [kubernetes]
    name=Kubernetes
    baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
    enabled=1
    gpgcheck=1
    repo_gpgcheck=1
    gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
    [root@master01 ~]# ansible k8s -m copy -a 'src=/root/k8s.repo dest=/etc/yum.repos.d/'
</code></pre>
<h5 data-id="heading-16">é›†ç¾¤è½¯ä»¶å®‰è£…</h5>
<p>å®‰è£…é›†ç¾¤è½¯ä»¶ï¼Œæœ¬å®éªŒå®‰è£…k8s 1.23.0ç‰ˆæœ¬è½¯ä»¶</p>
<ul>
<li>kubeadmï¼šç”¨äºåˆå§‹åŒ–é›†ç¾¤ï¼Œå¹¶é…ç½®é›†ç¾¤æ‰€éœ€çš„ç»„ä»¶å¹¶ç”Ÿæˆå¯¹åº”çš„å®‰å…¨è¯ä¹¦å’Œä»¤ç‰Œï¼›</li>
<li>kubeletï¼šè´Ÿè´£ä¸ Master èŠ‚ç‚¹é€šä¿¡ï¼Œå¹¶æ ¹æ® Master èŠ‚ç‚¹çš„è°ƒåº¦å†³ç­–æ¥åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤ Podï¼ŒåŒæ—¶ç»´æŠ¤ Node èŠ‚ç‚¹ä¸Šçš„å®¹å™¨çŠ¶æ€ï¼›</li>
<li>kubectlï¼šç”¨äºç®¡ç†k8é›†ç¾¤çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼›</li>
</ul>
<blockquote>
<p>master01æ‰§è¡Œï¼Œä¸åŒ…æ‹¬è´Ÿè½½å‡è¡¡èŠ‚ç‚¹</p>
</blockquote>
<pre><code class="hljs language-shell" lang="shell">    #å®‰è£…æŒ‡å®šç‰ˆæœ¬
    [root@master01 yum.repos.d]# ansible k8s -m shell -a 'yum install -y kubeadm-1.23.17-0  kubelet-1.23.17-0  kubectl-1.23.17-0 '
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">### é…ç½®kubelet</span></span>

å¯ç”¨Cgroupæ§åˆ¶ç»„ï¼Œç”¨äºé™åˆ¶è¿›ç¨‹çš„èµ„æºä½¿ç”¨é‡ï¼Œå¦‚CPUã€å†…å­˜ã€ç£ç›˜IOç­‰

    [root@master01 yum.repos.d]# cat kubelet 
    KUBELET_EXTRA_ARGS="--cgroup-driver=systemd"
    [root@master01 yum.repos.d]# ansible k8s -m copy -a 'src=/etc/yum.repos.d/kubelet dest=/etc/sysconfig/'

&lt;!----&gt;

    #è®¾ç½®kubeletä¸ºå¼€æœºè‡ªå¯åŠ¨å³å¯ï¼Œé›†ç¾¤åˆå§‹åŒ–åè‡ªåŠ¨å¯åŠ¨
    [root@master01 yum.repos.d]# ansible k8s -m shell -a 'systemctl enable kubelet --now '
</code></pre>
<h5 data-id="heading-17">é›†ç¾¤åˆå§‹åŒ–</h5>
<p>mastier01æ‰§è¡ŒæŸ¥çœ‹é›†ç¾¤æ‰€éœ€é•œåƒæ–‡ä»¶</p>
<pre><code class="hljs language-bash" lang="bash">    [root@master01 ~]<span class="hljs-comment"># kubeadm config images list</span>
    <span class="hljs-comment">#...ä»¥ä¸‹æ˜¯é›†ç¾¤åˆå§‹åŒ–æ‰€éœ€çš„é›†ç¾¤ç»„ä»¶é•œåƒ</span>
    v1.27.1; falling back to: stable-1.23
    k8s.gcr.io/kube-apiserver:v1.23.17
    k8s.gcr.io/kube-controller-manager:v1.23.17
    k8s.gcr.io/kube-scheduler:v1.23.17
    k8s.gcr.io/kube-proxy:v1.23.17
    k8s.gcr.io/pause:3.6
    k8s.gcr.io/etcd:3.5.1-0
    k8s.gcr.io/coredns/coredns:v1.8.6
</code></pre>
<p>åœ¨master01èŠ‚ç‚¹åˆå§‹åŒ–é›†ç¾¤ï¼Œéœ€è¦åˆ›å»ºé›†ç¾¤åˆå§‹åŒ–é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# kubeadm config print init-defaults &gt; kubeadm-config.yaml
</code></pre>
<p>é…ç½®æ–‡ä»¶éœ€è¦ä¿®æ”¹å¦‚ä¸‹å†…å®¹</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 ~]# vim kubeadm-config.yaml
    apiVersion: kubeadm.k8s.io/v1beta2
    bootstrapTokens:
    - groups:
     Â - system:bootstrappers:kubeadm:default-node-token
     Â token: 7t2weq.bjbawausm0jaxury
     Â ttl: 24h0m0s
     Â usages:
     Â - signing
     Â - authentication
    kind: InitConfiguration
    localAPIEndpoint:
     Â advertiseAddress: 192.168.200.10 Â  Â  Â  #æ ¹æ®è‡ªå·±ç¯å¢ƒä¿®æ”¹IP
     Â bindPort: 6443
    nodeRegistration:
     Â criSocket: /var/run/dockershim.sock
     Â name: master01 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  #ä¿®æ”¹è‡ªå·±master01åç§°
     Â taints:
     Â - effect: NoSchedule
     Â  Â key: node-role.kubernetes.io/master
    ---
    apiServer:
     Â certSANs:
     Â - 192.168.200.100 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â    #æ‰‹åŠ¨æ·»åŠ  åœ¨è¯ä¹¦ä¸­æŒ‡å®šçš„å¯ä¿¡IPåœ°å€ï¼Œè´Ÿè½½å‡è¡¡çš„VIP
     Â timeoutForControlPlane: 4m0s
    apiVersion: kubeadm.k8s.io/v1beta2
    certificatesDir: /etc/kubernetes/pki
    clusterName: kubernetes
    controlPlaneEndpoint: 192.168.200.100:6443      #æ‰‹åŠ¨æ·»åŠ  è´Ÿè½½å‡è¡¡å™¨çš„IPï¼Œä¸»è¦è®©KubernetesçŸ¥é“ç”Ÿæˆä¸»èŠ‚ç‚¹ä»¤ç‰Œ
    controllerManager: {}
    dns:
     Â type: CoreDNS
    etcd:
     Â local:
     Â  Â dataDir: /var/lib/etcd
    imageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers Â  #é›†ç¾¤ç»„ä»¶é•œåƒä»“åº“åœ°å€
    kind: ClusterConfiguration
    kubernetesVersion: v1.23.0 Â  Â #é›†ç¾¤ç‰ˆæœ¬
    networking:
     Â dnsDomain: cluster.local
     Â podSubnet: 10.244.0.0/16 Â  Â #podç½‘ç»œ
     Â serviceSubnet: 10.96.0.0/12 #serviceç½‘ç»œ
    scheduler: {}

&lt;!----&gt;
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#åˆå§‹åŒ–é›†ç¾¤</span>
[<span class="hljs-meta">root@master01 ~</span>]<span class="hljs-meta"># kubeadm init --config /root/kubeadm-config.yaml --upload-certs</span>
â€‹
<span class="hljs-meta">### é€‰é¡¹è¯´æ˜:</span>
- <span class="hljs-keyword">init</span> Â <span class="hljs-comment">//åˆå§‹åŒ–é›†ç¾¤</span>
- --config Â <span class="hljs-comment">//åŸºäºé…ç½®æ–‡ä»¶åˆå§‹åŒ–</span>
- --upload-certs <span class="hljs-comment">//å°†ç®¡ç†èŠ‚ç‚¹çš„è¯ä¹¦åŠ å¯†åä¸Šä¼ åˆ° `kubeadm-certs` Secret ä¸­ï¼Œåœ¨é«˜å¯ç”¨é›†ç¾¤åœºæ™¯ä¸‹ï¼Œå…¶ä»–ç®¡ç†èŠ‚ç‚¹èŠ‚ç‚¹å¯ä»¥ä»è¯¥ Secret ä¸­ä¸‹è½½å¹¶ä½¿ç”¨è¿™äº›è¯ä¹¦ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨æ‹·è´è¯ä¹¦åˆ°å…¶ä»–ç®¡ç†èŠ‚ç‚¹ã€‚</span>
</code></pre>

<pre><code class="hljs language-perl" lang="perl">æç¤ºï¼šå¦‚æœå“ªä¸ªèŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤é‡ç½®å½“å‰èŠ‚ç‚¹
kubeadm Â <span class="hljs-keyword">reset</span>
</code></pre>
<p>åˆå§‹åŒ–æˆåŠŸåï¼ŒæŒ‰ç…§æç¤ºæ‰§è¡Œä¸‹è¾¹å‘½ä»¤</p>
<pre><code class="hljs language-shell" lang="shell">    [root@master01 /]# mkdir -p $HOME/.kube
    [root@master01 /] Â sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
    [root@master01 /] Â sudo chown $(id -u):$(id -g) $HOME/.kube/config
    [root@master02 /]# mkdir -p $HOME/.kube
    [root@master02 /] Â sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
    [root@master02 /] Â sudo chown $(id -u):$(id -g) $HOME/.kube/config
    [root@master03 /]# mkdir -p $HOME/.kube
    [root@master03 /] Â sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
    [root@master03 /] Â sudo chown $(id -u):$(id -g) $HOME/.kube/config
</code></pre>
<h5 data-id="heading-18">MasterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤</h5>
<p>æç¤ºï¼šæŒ‰ç…§è‡ªå·±å½“å‰é›†ç¾¤ç”Ÿæˆçš„tokenåœ¨master02ã€master03èŠ‚ç‚¹æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">    You can now join any number of the control-plane node running the following command on each as root:
    â€‹
      kubeadm join 192.168.200.100:6443 --token 7t2weq.bjbawausm0jaxury \
        --discovery-token-ca-cert-hash sha256:ad5821ca12953ac4b1ad45c7778a0de8b62d45fd2125e844e8bde4cffa816179 \
        --control-plane --certificate-key 0f610864572c5ddf6a4107bca972e8ccfae394d81f7658353c55b3d3a0c3dd7f
 ```   â€‹
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-comment">### å·¥ä½œèŠ‚ç‚¹åŠ å…¥é›†ç¾¤</span></span>

æç¤ºï¼šæŒ‰ç…§è‡ªå·±å½“å‰é›†ç¾¤ç”Ÿæˆçš„tokenåœ¨worker01ã€worker02èŠ‚ç‚¹æ‰§è¡Œ
```shell
    Then you can join any number of worker nodes by running the following on each as root:
    â€‹
    kubeadm join 192.168.200.100:6443 --token 7t2weq.bjbawausm0jaxury \
        --discovery-token-ca-cert-hash sha256:ad5821ca12953ac4b1ad45c7778a0de8b62d45fd2125e844e8bde4cffa816179 
    â€‹
</code></pre>
<h5 data-id="heading-19">éƒ¨ç½²Calicoç½‘ç»œ</h5>
<p>Calico å’Œ Flannel æ˜¯ä¸¤ç§æµè¡Œçš„ k8s ç½‘ç»œæ’ä»¶ï¼Œå®ƒä»¬éƒ½ä¸ºé›†ç¾¤ä¸­çš„ Pod æä¾›ç½‘ç»œåŠŸèƒ½ã€‚ç„¶è€Œï¼Œå®ƒä»¬åœ¨å®ç°æ–¹å¼å’ŒåŠŸèƒ½ä¸Šæœ‰ä¸€äº›é‡è¦åŒºåˆ«ï¼š</p>
<p><strong>ç½‘ç»œæ¨¡å‹çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>Calico ä½¿ç”¨ BGPï¼ˆè¾¹ç•Œç½‘å…³åè®®ï¼‰ä½œä¸ºå…¶åº•å±‚ç½‘ç»œæ¨¡å‹ã€‚å®ƒåˆ©ç”¨ BGP ä¸ºæ¯ä¸ª Pod åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ IP åœ°å€ï¼Œå¹¶åœ¨é›†ç¾¤å†…éƒ¨è¿›è¡Œè·¯ç”±ã€‚<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">Calico æ”¯æŒç½‘ç»œç­–ç•¥ï¼Œå¯ä»¥å¯¹æµé‡è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå…è®¸æˆ–æ‹’ç»ç‰¹å®šçš„é€šä¿¡</a>ã€‚</li>
<li>Flannel åˆ™é‡‡ç”¨äº†ä¸€ä¸ªç®€åŒ–çš„è¦†ç›–ç½‘ç»œæ¨¡å‹ã€‚å®ƒä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ª IP åœ°å€å­ç½‘ï¼Œç„¶ååœ¨è¿™äº›å­ç½‘ä¹‹é—´å»ºç«‹è¦†ç›–ç½‘ç»œã€‚Flannel å°† Pod çš„æ•°æ®åŒ…å°è£…åˆ°ä¸€ä¸ªæ›´å¤§çš„ç½‘ç»œæ•°æ®åŒ…ä¸­ï¼Œå¹¶åœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œè½¬å‘ã€‚<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">Flannel æ›´æ³¨é‡ç®€å•å’Œæ˜“ç”¨æ€§ï¼Œä¸æä¾›ä¸ Calico ç±»ä¼¼çš„ç½‘ç»œç­–ç•¥åŠŸèƒ½</a>ã€‚</li>
</ul>
<p><strong>æ€§èƒ½çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>ç”±äº Calico ä½¿ç”¨ BGP è¿›è¡Œè·¯ç”±ï¼Œå…¶æ€§èƒ½é€šå¸¸ä¼˜äº Flannelã€‚<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">Calico å¯ä»¥å®ç°ç›´æ¥çš„ Pod åˆ° Pod é€šä¿¡ï¼Œè€Œæ— éœ€åœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œé¢å¤–çš„å°è£…å’Œè§£å°è£…æ“ä½œ</a>ã€‚è¿™ä½¿å¾— Calico åœ¨å¤§å‹æˆ–é«˜åº¦åŠ¨æ€çš„é›†ç¾¤ä¸­å…·æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚</li>
<li>Flannel çš„è¦†ç›–ç½‘ç»œæ¨¡å‹ä¼šå¯¼è‡´é¢å¤–çš„å°è£…å’Œè§£å°è£…å¼€é”€ï¼Œä»è€Œå½±å“ç½‘ç»œæ€§èƒ½ã€‚å¯¹äºè¾ƒå°çš„é›†ç¾¤æˆ–å¯¹æ€§èƒ½è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œè¿™å¯èƒ½å¹¶ä¸æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚</li>
</ul>
<p>åœ¨k8s-master01èŠ‚ç‚¹å®‰è£…Calicoç½‘ç»œå³å¯</p>
<pre><code class="hljs language-sql" lang="sql">#ä¸‹è½½calicoæ–‡ä»¶
wget https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>raw.githubusercontent.com<span class="hljs-operator">/</span>projectcalico<span class="hljs-operator">/</span>calico<span class="hljs-operator">/</span>v3<span class="hljs-number">.24</span><span class="hljs-number">.1</span><span class="hljs-operator">/</span>manifests<span class="hljs-operator">/</span>calico.yaml
â€‹
#åˆ›å»ºcalicoç½‘ç»œ
kubectl apply <span class="hljs-operator">-</span>f calico.yaml 
â€‹
â€‹
#æŸ¥çœ‹calicoçš„PodçŠ¶æ€æ˜¯å¦ä¸º<span class="hljs-keyword">Running</span>
kubectl <span class="hljs-keyword">get</span> pod <span class="hljs-operator">-</span>n kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>
â€‹
NAME Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  READY Â  STATUS Â  Â RESTARTS Â  AGE
calico<span class="hljs-operator">-</span>kube<span class="hljs-operator">-</span>controllers<span class="hljs-number">-66966888</span>c4<span class="hljs-operator">-</span>whdkj Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">101</span>s
calico<span class="hljs-operator">-</span>node<span class="hljs-operator">-</span>f4ghp Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">101</span>s
calico<span class="hljs-operator">-</span>node<span class="hljs-operator">-</span>sj88q Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">101</span>s
calico<span class="hljs-operator">-</span>node<span class="hljs-operator">-</span>vnj7f Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">101</span>s
calico<span class="hljs-operator">-</span>node<span class="hljs-operator">-</span>vwnw4 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">101</span>s
</code></pre>
<h5 data-id="heading-20">éªŒè¯é›†ç¾¤å¯ç”¨æ€§</h5>
<pre><code class="hljs language-sql" lang="sql">#æŸ¥çœ‹æ‰€æœ‰çš„èŠ‚ç‚¹
[root<span class="hljs-variable">@master01</span> <span class="hljs-operator">~</span>]# kubectl <span class="hljs-keyword">get</span> nodes
NAME Â  Â  Â  STATUS Â  ROLES Â  Â  Â  Â  Â  Â  Â  Â  Â AGE Â  Â  VERSION
master01 Â  Ready Â  Â control<span class="hljs-operator">-</span>plane,master Â  <span class="hljs-number">10</span>m Â  Â  v1<span class="hljs-number">.23</span><span class="hljs-number">.17</span>
master02 Â  Ready Â  Â control<span class="hljs-operator">-</span>plane,master Â  <span class="hljs-number">8</span>m37s Â  v1<span class="hljs-number">.23</span><span class="hljs-number">.17</span>
master03 Â  Ready Â  Â control<span class="hljs-operator">-</span>plane,master Â  <span class="hljs-number">8</span>m33s Â  v1<span class="hljs-number">.23</span><span class="hljs-number">.17</span>
node01 Â  Â  Ready Â  Â <span class="hljs-operator">&lt;</span><span class="hljs-keyword">none</span><span class="hljs-operator">&gt;</span> Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">8</span>m37s Â  v1<span class="hljs-number">.23</span><span class="hljs-number">.17</span>
node02 Â  Â  Ready Â  Â <span class="hljs-operator">&lt;</span><span class="hljs-keyword">none</span><span class="hljs-operator">&gt;</span> Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">7</span>m51s Â  v1<span class="hljs-number">.23</span><span class="hljs-number">.17</span>
â€‹
</code></pre>
<p>æŸ¥çœ‹kubernetesé›†ç¾¤podè¿è¡Œæƒ…å†µ</p>
<pre><code class="hljs language-sql" lang="sql">[root<span class="hljs-variable">@master01</span> <span class="hljs-operator">~</span>]# kubectl <span class="hljs-keyword">get</span> pods <span class="hljs-operator">-</span>n kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>
NAME Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  READY Â  STATUS Â  Â RESTARTS Â  AGE
coredns<span class="hljs-number">-558</span>bd4d5db<span class="hljs-operator">-</span>smp62 Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">13</span>m
coredns<span class="hljs-number">-558</span>bd4d5db<span class="hljs-operator">-</span>zcmp5 Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">13</span>m
etcd<span class="hljs-operator">-</span>master01 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">14</span>m
etcd<span class="hljs-operator">-</span>master02 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m10s
etcd<span class="hljs-operator">-</span>master03 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">115</span>s
kube<span class="hljs-operator">-</span>apiserver<span class="hljs-operator">-</span>master01 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">14</span>m
kube<span class="hljs-operator">-</span>apiserver<span class="hljs-operator">-</span>master02 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m13s
kube<span class="hljs-operator">-</span>apiserver<span class="hljs-operator">-</span>master03 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">116</span>s
kube<span class="hljs-operator">-</span>controller<span class="hljs-operator">-</span>manager<span class="hljs-operator">-</span>master01 Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">1</span> Â  Â  Â  Â  Â <span class="hljs-number">13</span>m
kube<span class="hljs-operator">-</span>controller<span class="hljs-operator">-</span>manager<span class="hljs-operator">-</span>master02 Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m13s
kube<span class="hljs-operator">-</span>controller<span class="hljs-operator">-</span>manager<span class="hljs-operator">-</span>master03 Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">116</span>s
kube<span class="hljs-operator">-</span>proxy<span class="hljs-number">-629</span>zl Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">2</span>m17s
kube<span class="hljs-operator">-</span>proxy<span class="hljs-number">-85</span>qn8 Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m15s
kube<span class="hljs-operator">-</span>proxy<span class="hljs-operator">-</span>fhqzt Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">13</span>m
kube<span class="hljs-operator">-</span>proxy<span class="hljs-operator">-</span>jdxbd Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m40s
kube<span class="hljs-operator">-</span>proxy<span class="hljs-operator">-</span>ks97x Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">4</span>m3s
kube<span class="hljs-operator">-</span>scheduler<span class="hljs-operator">-</span>master01 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">1</span> Â  Â  Â  Â  Â <span class="hljs-number">13</span>m
kube<span class="hljs-operator">-</span>scheduler<span class="hljs-operator">-</span>master02 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">3</span>m13s
kube<span class="hljs-operator">-</span>scheduler<span class="hljs-operator">-</span>master03 Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span> Â  Â  <span class="hljs-keyword">Running</span> Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">115</span>s
â€‹
</code></pre>
<h5 data-id="heading-21">éƒ¨ç½²Nginxç¨‹åºæµ‹è¯•</h5>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">#éƒ¨ç½²nginxç¨‹åº(æå‰å°†é•œåƒå¯¼å…¥åˆ°worker01ã€worker02èŠ‚ç‚¹)</span>
[root@master01 ~]<span class="hljs-comment"># kubectl create deployment nginx --image=choujiang_ngx:v1</span>
â€‹
<span class="hljs-comment">#å¼€æ”¾ç«¯å£</span>
[root@master01 ~]<span class="hljs-comment"># kubectl expose deployment nginx --port=80 --type=NodePort</span>
â€‹
<span class="hljs-comment">#æŸ¥çœ‹podçŠ¶æ€</span>
[root@master01 ~]<span class="hljs-comment"># kubectl get pod</span>
NAME Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  READY Â  STATUS Â  Â RESTARTS Â  AGE
nginx-<span class="hljs-number">696649</span>f6f9-j8zbj Â  <span class="hljs-number">1</span>/<span class="hljs-number">1</span> Â  Â  Running Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">2</span>m1s
â€‹
â€‹
<span class="hljs-comment">#æŸ¥çœ‹serviceçŠ¶æ€</span>
[root@master01 ~]<span class="hljs-comment"># kubectl get svc</span>
NAME Â  Â  Â  Â  TYPE Â  Â  Â  Â CLUSTER-IP Â  Â EXTERNAL-IP Â  PORT(S) Â  Â  Â  Â AGE
kubernetes Â  ClusterIP Â  <span class="hljs-number">10.96</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span> Â  Â  &lt;none&gt; Â  Â  Â  Â <span class="hljs-number">443</span>/TCP Â  Â  Â  Â <span class="hljs-number">13</span>m
nginx Â  Â  Â  Â NodePort Â  Â <span class="hljs-number">10.97</span>.<span class="hljs-number">7.109</span> Â  &lt;none&gt; Â  Â  Â  Â <span class="hljs-number">80</span>:<span class="hljs-number">31787</span>/TCP Â  <span class="hljs-number">14</span>s
â€‹
<span class="hljs-comment">#æµè§ˆå™¨è®¿é—®æµ‹è¯•</span>
http:<span class="hljs-regexp">//</span><span class="hljs-number">192.168</span>.<span class="hljs-number">200.10</span>:<span class="hljs-number">31787</span>/
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IfAI v0.2.8 æŠ€æœ¯æ·±åº¦è§£æï¼šä»"å·¥å…·"åˆ°"å¹³å°"çš„æ¶æ„æ¼”è¿›]]></title>    <link>https://juejin.cn/post/7593602686135140378</link>    <guid>https://juejin.cn/post/7593602686135140378</guid>    <pubDate>2026-01-11T03:00:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593602686135140378" data-draft-id="7593375360555040818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IfAI v0.2.8 æŠ€æœ¯æ·±åº¦è§£æï¼šä»&quot;å·¥å…·&quot;åˆ°&quot;å¹³å°&quot;çš„æ¶æ„æ¼”è¿›"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Rust"/> <meta itemprop="datePublished" content="2026-01-11T03:00:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="peterfei"/> <meta itemprop="url" content="https://juejin.cn/user/2700056287782663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IfAI v0.2.8 æŠ€æœ¯æ·±åº¦è§£æï¼šä»"å·¥å…·"åˆ°"å¹³å°"çš„æ¶æ„æ¼”è¿›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056287782663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    peterfei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T03:00:11.000Z" title="Sun Jan 11 2026 03:00:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡å°†æ·±å…¥åˆ†æ IfAI v0.2.8 çš„ä¸‰é¡¹æ ¸å¿ƒæŠ€æœ¯çªç ´ï¼Œå¹¶é€šè¿‡ä¼ªä»£ç å±•ç¤ºå…¶å®ç°æ€è·¯ã€‚æ— è®ºä½ æ˜¯å¼€å‘è€…ã€æ¶æ„å¸ˆï¼Œæˆ–æ˜¯å¯¹ AI è¾…åŠ©ç¼–ç¨‹æ„Ÿå…´è¶£çš„æŠ€æœ¯äººï¼Œéƒ½èƒ½ä»ä¸­è·å¾—ä¸€äº›å¯å‘ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/179d496e456f4fb8b9cdb1ccaa5b6b17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768705211&amp;x-signature=tTJZCKtijXUn8P%2BtnfezQZFjxC8%3D" alt="0111_1280.gif" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨è¿‡å»çš„ä¸€å¹´ä¸­ï¼ŒAI è¾…åŠ©ç¼–ç¨‹å·¥å…·ç»å†äº†çˆ†å‘å¼å¢é•¿ã€‚ä½†å¤§éƒ¨åˆ†å·¥å…·åœç•™åœ¨"å•æ–‡ä»¶å¯¹è¯"çš„å±‚é¢â€”â€”ä½ é—®å®ƒé—®é¢˜ï¼Œå®ƒæ”¹ä¸€æ®µä»£ç ã€‚è¿™ç§æ¨¡å¼åœ¨çœŸå®å¼€å‘åœºæ™¯ä¸­å­˜åœ¨æ˜æ˜¾å±€é™ï¼šçœŸå®é¡¹ç›®å¾€å¾€æ˜¯å¤šæ–‡ä»¶åä½œçš„ï¼Œä»£ç ä¹‹é—´å­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»ã€‚</p>
<p>v0.2.8 æ˜¯ IfAI ä»"å®éªŒæ€§å·¥å…·"å‘"å·¥ä¸šçº§å¹³å°"è·¨è¶Šçš„å…³é”®ç‰ˆæœ¬ã€‚æœ¬æ¬¡æ›´æ–°çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥æ¦‚æ‹¬ä¸ºä¸€å¥è¯ï¼š<strong>è®© AI ç†è§£ä»£ç ç³»ç»Ÿçš„ç»“æ„ï¼Œè€Œéå•ä¸€æ–‡ä»¶çš„æ–‡æœ¬</strong>ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œä¸‰é¡¹æ ¸å¿ƒåŠŸèƒ½è§£å†³äº†ä¸‰ä¸ªé•¿æœŸç—›ç‚¹ï¼š</p>
<ol>
<li><strong>Composer 2.0</strong>ï¼šå¤šæ–‡ä»¶å¹¶è¡Œç¼–è¾‘ + å†²çªè§£å†³</li>
<li><strong>RAG ç¬¦å·æ„ŸçŸ¥</strong>ï¼šåŸºäº AST çš„ä»£ç ç»“æ„ç†è§£</li>
<li><strong>å‘½ä»¤æ ç³»ç»Ÿ</strong>ï¼šç»Ÿä¸€çš„æ“ä½œå…¥å£ + æ’ä»¶åŒ–æ¶æ„</li>
</ol>
<p>ä¸‹é¢é€ä¸€åˆ†æã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€Composer 2.0ï¼šå¤šæ–‡ä»¶ç¼–è¾‘çš„æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-2">1.1 é—®é¢˜åˆ†æ</h3>
<p>ä¼ ç»Ÿ AI ç¼–è¾‘å™¨çš„å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»Ÿæ¨¡å¼
function handleAIRequest(userPrompt) {
 Â   const <span class="hljs-attr">file</span> = getCurrentFile()<span class="hljs-comment">;</span>
 Â   const <span class="hljs-attr">code</span> = file.content<span class="hljs-comment">;</span>
â€‹
 Â   const <span class="hljs-attr">response</span> = await callLLM({
 Â  Â  Â   prompt: userPrompt,
 Â  Â  Â   context: code
 Â   })<span class="hljs-comment">;</span>
â€‹
 Â   // ç›´æ¥æ›¿æ¢å½“å‰æ–‡ä»¶
 Â   <span class="hljs-attr">file.content</span> = response.newCode<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™ç§æ¨¡å¼åœ¨å•æ–‡ä»¶åœºæ™¯ä¸‹å·¥ä½œè‰¯å¥½ï¼Œä½†é‡åˆ°è·¨æ–‡ä»¶çš„é‡æ„å°±åŠ›ä¸ä»å¿ƒã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>ä¿®æ”¹æ¥å£å®šä¹‰ â†’ éœ€è¦æ”¹æ‰€æœ‰å®ç°ç±»</li>
<li>é‡å‘½åå‡½æ•° â†’ éœ€è¦æ”¹æ‰€æœ‰è°ƒç”¨ç‚¹</li>
<li>æ·»åŠ æ•°æ®å­—æ®µ â†’ éœ€è¦æ”¹ DTOã€åºåˆ—åŒ–ã€éªŒè¯ç­‰</li>
</ul>
<h3 data-id="heading-3">1.2 Composer 2.0 çš„æ¶æ„</h3>
<p>Composer 2.0 å¼•å…¥äº†ä¸€ä¸ªä¸­é—´å±‚â€”â€”<strong>å˜æ›´æŠ½è±¡å±‚ï¼ˆChange Abstraction Layerï¼‰</strong> ï¼Œå°† AI çš„è¾“å‡ºä»"ä»£ç æ–‡æœ¬"è½¬æ¢ä¸º"ç»“æ„åŒ–å˜æ›´"ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Composer 2.0 æ¨¡å¼</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleComposerRequest</span>(<span class="hljs-params">userPrompt</span>) {
 Â   <span class="hljs-comment">// 1. åˆ†æå˜æ›´èŒƒå›´</span>
 Â   <span class="hljs-keyword">const</span> affectedFiles = <span class="hljs-keyword">await</span> <span class="hljs-title function_">analyzeImpact</span>(userPrompt);
 Â   <span class="hljs-comment">// ä¾‹å¦‚: [</span>
 Â   <span class="hljs-comment">// Â  { path: "src/service/UserService.ts", changeType: "modify" },</span>
 Â   <span class="hljs-comment">// Â  { path: "src/dto/UserDTO.ts", changeType: "modify" },</span>
 Â   <span class="hljs-comment">// Â  { path: "src/validators/UserValidator.ts", changeType: "modify" }</span>
 Â   <span class="hljs-comment">// ]</span>
â€‹
 Â   <span class="hljs-comment">// 2. æ‰¹é‡è°ƒç”¨ LLM ç”Ÿæˆå˜æ›´</span>
 Â   <span class="hljs-keyword">const</span> changes = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
 Â  Â  Â   affectedFiles.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> <span class="hljs-title function_">generateChange</span>(file, userPrompt))
 Â   );
â€‹
 Â   <span class="hljs-comment">// 3. æ„å»ºç»Ÿä¸€çš„ Diff æ ¼å¼</span>
 Â   <span class="hljs-keyword">const</span> diffs = changes.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">change</span> =&gt;</span> ({
 Â  Â  Â   <span class="hljs-attr">path</span>: change.<span class="hljs-property">path</span>,
 Â  Â  Â   <span class="hljs-attr">diff</span>: <span class="hljs-title function_">generateUnifiedDiff</span>(change.<span class="hljs-property">oldContent</span>, change.<span class="hljs-property">newContent</span>),
 Â  Â  Â   <span class="hljs-attr">metadata</span>: {
 Â  Â  Â  Â  Â   <span class="hljs-attr">confidence</span>: change.<span class="hljs-property">confidence</span>,
 Â  Â  Â  Â  Â   <span class="hljs-attr">conflictDetected</span>: <span class="hljs-title function_">detectConflict</span>(change)
 Â  Â  Â   }
 Â   }));
â€‹
 Â   <span class="hljs-comment">// 4. è¿”å›ç»™ç”¨æˆ·è¿›è¡Œå®¡é˜…</span>
 Â   <span class="hljs-keyword">return</span> {
 Â  Â  Â   <span class="hljs-attr">files</span>: diffs,
 Â  Â  Â   <span class="hljs-attr">summary</span>: <span class="hljs-string">"é‡æ„ç”¨æˆ·éªŒè¯æ¨¡å—ï¼Œæ¶‰åŠ 3 ä¸ªæ–‡ä»¶"</span>
 Â   };
}
</code></pre>
<h3 data-id="heading-4">1.3 å†²çªæ£€æµ‹ä¸åˆå¹¶</h3>
<p>å¤šæ–‡ä»¶ç¼–è¾‘çš„æ ¸å¿ƒéš¾ç‚¹æ˜¯å†²çªå¤„ç†ã€‚å½“ä¸€ä¸ªæ–‡ä»¶è¢« AI ä¿®æ”¹çš„åŒæ—¶ï¼Œç”¨æˆ·ä¹Ÿå¯èƒ½åœ¨ç¼–è¾‘å®ƒï¼Œè¿™å°±éœ€è¦æ£€æµ‹å’Œåˆå¹¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å†²çªæ£€æµ‹
function detectConflict(aiChange, userState) {
 Â   const <span class="hljs-attr">userVersion</span> = userState.files[aiChange.path]<span class="hljs-comment">;</span>
 Â   const <span class="hljs-attr">baseVersion</span> = userState.baseVersions[aiChange.path]<span class="hljs-comment">;</span>
â€‹
 Â   // ä½¿ç”¨ä¸‰è·¯åˆå¹¶ç®—æ³•
 Â   const <span class="hljs-attr">mergeResult</span> = threeWayMerge({
 Â  Â  Â   base: baseVersion,
 Â  Â  Â   ours: userVersion.content,  // ç”¨æˆ·çš„ä¿®æ”¹
 Â  Â  Â   theirs: aiChange.newContent  // AI çš„ä¿®æ”¹
 Â   })<span class="hljs-comment">;</span>
â€‹
 Â   if (mergeResult.hasConflict) {
 Â  Â  Â   return {
 Â  Â  Â  Â  Â   status: "conflict",
 Â  Â  Â  Â  Â   conflictRegions: mergeResult.conflicts,
 Â  Â  Â  Â  Â   suggestion: generateMergeSuggestion(mergeResult)
 Â  Â  Â   }<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â   return {
 Â  Â  Â   status: "clean",
 Â  Â  Â   mergedContent: mergeResult.result
 Â   }<span class="hljs-comment">;</span>
}
â€‹
// ç”¨æˆ·ä¾§çš„æ¥å—/æ‹’ç»æµç¨‹
function applyUserDecisions(diffs, decisions) {
 Â   const <span class="hljs-attr">appliedChanges</span> = []<span class="hljs-comment">;</span>
 Â   const <span class="hljs-attr">rollbackStack</span> = []<span class="hljs-comment">;</span>
â€‹
 Â   for (const <span class="hljs-section">[fileId, decision]</span> of Object.entries(decisions)) {
 Â  Â  Â   const <span class="hljs-attr">diff</span> = diffs[fileId]<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â   if (<span class="hljs-attr">decision</span> === <span class="hljs-string">"accept"</span>) {
 Â  Â  Â  Â  Â   const <span class="hljs-attr">result</span> = safelyApplyChange(diff)<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â   appliedChanges.push(result)<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â   rollbackStack.push({
 Â  Â  Â  Â  Â  Â  Â   file: diff.path,
 Â  Â  Â  Â  Â  Â  Â   previous: getOriginalContent(diff.path)
 Â  Â  Â  Â  Â   })<span class="hljs-comment">;</span>
 Â  Â  Â   } else if (<span class="hljs-attr">decision</span> === <span class="hljs-string">"reject"</span>) {
 Â  Â  Â  Â  Â   // è·³è¿‡æ­¤æ–‡ä»¶
 Â  Â  Â  Â  Â   continue<span class="hljs-comment">;</span>
 Â  Â  Â   }
 Â   }
â€‹
 Â   return {
 Â  Â  Â   applied: appliedChanges,
 Â  Â  Â   rollback: () =&gt; rollbackAll(rollbackStack)
 Â   }<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-5">1.4 æ–‡ä»¶åŠ¨æ€åˆ·æ–°</h3>
<p>ä¼ ç»Ÿçš„ç—›ç‚¹æ˜¯ï¼šAI æ”¹å®Œæ–‡ä»¶åï¼Œç¼–è¾‘å™¨ä¸­çš„å†…å®¹ä¸æ›´æ–°ï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨åˆ·æ–°ã€‚Composer 2.0 é€šè¿‡äº‹ä»¶ç³»ç»Ÿå®ç°è‡ªåŠ¨åˆ·æ–°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–‡ä»¶å˜æ›´äº‹ä»¶ç³»ç»Ÿ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileChangeEmitter</span> {
 Â   <span class="hljs-title function_">constructor</span>(<span class="hljs-params">editorStore</span>) {
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">editorStore</span> = editorStore;
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span> = [];
 Â   }
â€‹
 Â   <span class="hljs-title function_">notifyChange</span>(<span class="hljs-params">changeEvent</span>) {
 Â  Â  Â   <span class="hljs-comment">// å‘å¸ƒå˜æ›´äº‹ä»¶</span>
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> <span class="hljs-title function_">fn</span>(changeEvent));
â€‹
 Â  Â  Â   <span class="hljs-comment">// è‡ªåŠ¨åˆ·æ–°ç¼–è¾‘å™¨</span>
 Â  Â  Â   <span class="hljs-keyword">if</span> (changeEvent.<span class="hljs-property">type</span> === <span class="hljs-string">"applied"</span>) {
 Â  Â  Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">editorStore</span>.<span class="hljs-title function_">refreshFile</span>(changeEvent.<span class="hljs-property">filePath</span>);
 Â  Â  Â   }
 Â   }
â€‹
 Â   <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">callback</span>) {
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">push</span>(callback);
 Â   }
}
</code></pre>
<hr/>
<h2 data-id="heading-6">äºŒã€RAG ç¬¦å·æ„ŸçŸ¥ï¼šä»æ–‡æœ¬åŒ¹é…åˆ°ç»“æ„ç†è§£</h2>
<h3 data-id="heading-7">2.1 ä¼ ç»Ÿ RAG çš„å±€é™</h3>
<p>ä¼ ç»Ÿçš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰åšä»£ç ç†è§£ï¼Œæœ¬è´¨ä¸Šæ˜¯æ–‡æœ¬æ£€ç´¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿæ–‡æœ¬åŒ¹é… RAG</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">findTraitImplementations</span>(<span class="hljs-params">traitName</span>) {
 Â   <span class="hljs-comment">// 1. ç®€å•çš„æ–‡æœ¬æœç´¢</span>
 Â   <span class="hljs-keyword">const</span> candidates = <span class="hljs-keyword">await</span> codebase.<span class="hljs-title function_">search</span>(
 Â  Â  Â   <span class="hljs-string">`impl.*<span class="hljs-subst">${traitName}</span>`</span>
 Â   );
â€‹
 Â   <span class="hljs-comment">// 2. åŸºäºå…³é”®è¯ç›¸ä¼¼åº¦æ’åº</span>
 Â   <span class="hljs-keyword">const</span> ranked = candidates.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
 Â  Â  Â   <span class="hljs-keyword">return</span> <span class="hljs-title function_">similarityScore</span>(a.<span class="hljs-property">content</span>, traitName) -
 Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">similarityScore</span>(b.<span class="hljs-property">content</span>, traitName);
 Â   });
â€‹
 Â   <span class="hljs-keyword">return</span> ranked;  <span class="hljs-comment">// å¯èƒ½åŒ…å«è¯¯åŒ¹é…</span>
}
</code></pre>
<p>è¿™ä¼šå¯¼è‡´ä¸¥é‡çš„è¯¯æŠ¥ã€‚æ¯”å¦‚æ³¨é‡Šä¸­å†™ç€"TODO: å®ç° Handler"ï¼Œä¹Ÿå¯èƒ½è¢«å½“ä½œçœŸæ­£çš„å®ç°ã€‚</p>
<h3 data-id="heading-8">2.2 åŸºäº AST çš„ç¬¦å·åˆ†æ</h3>
<p>v0.2.8 ä½¿ç”¨ tree-sitter è§£æä»£ç çš„è¯­æ³•æ ‘ï¼Œå»ºç«‹ç¬¦å·å…³ç³»å›¾ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// AST ç¬¦å·åˆ†æ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SymbolIndexer</span> {
 Â   <span class="hljs-keyword">constructor</span>(language) {
 Â  Â  Â   <span class="hljs-keyword">this</span>.parser = new TreeSitterParser(language);
 Â  Â  Â   <span class="hljs-keyword">this</span>.symbolGraph = new Map();
 Â   }
â€‹
 Â   indexFile(filePath, content) {
 Â  Â  Â   <span class="hljs-keyword">const</span> ast = <span class="hljs-keyword">this</span>.parser.parse(content);
â€‹
 Â  Â  Â   <span class="hljs-comment">// æå–ç¬¦å·å®šä¹‰</span>
 Â  Â  Â   <span class="hljs-keyword">const</span> definitions = <span class="hljs-keyword">this</span>.extractDefinitions(ast);
 Â  Â  Â   <span class="hljs-comment">// ä¾‹å¦‚: { "Repository": { type: "trait", location: { line: 10 } } }</span>
â€‹
 Â  Â  Â   <span class="hljs-comment">// æå–ç¬¦å·å¼•ç”¨</span>
 Â  Â  Â   <span class="hljs-keyword">const</span> references = <span class="hljs-keyword">this</span>.extractReferences(ast);
 Â  Â  Â   <span class="hljs-comment">// ä¾‹å¦‚: { "Repository": [{ type: "impl", for: "UserRepository" }] }</span>
â€‹
 Â  Â  Â   <span class="hljs-comment">// æ„å»ºå…³ç³»å›¾</span>
 Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [symbol, def] of Object.entries(definitions)) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.symbolGraph.<span class="hljs-keyword">set</span>(symbol, {
 Â  Â  Â  Â  Â  Â  Â   definition: def,
 Â  Â  Â  Â  Â  Â  Â   implementations: [],
 Â  Â  Â  Â  Â  Â  Â   references: []
 Â  Â  Â  Â  Â   });
 Â  Â  Â   }
â€‹
 Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [symbol, refs] of Object.entries(references)) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">this</span>.symbolGraph.<span class="hljs-keyword">get</span>(symbol);
 Â  Â  Â  Â  Â   <span class="hljs-keyword">if</span> (node) {
 Â  Â  Â  Â  Â  Â  Â   node.implementations.push(...refs.implementations);
 Â  Â  Â  Â  Â  Â  Â   node.references.push(...refs.references);
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   }
â€‹
 Â   findImplementations(traitName) {
 Â  Â  Â   <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">this</span>.symbolGraph.<span class="hljs-keyword">get</span>(traitName);
 Â  Â  Â   <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span> [];
â€‹
 Â  Â  Â   <span class="hljs-comment">// è¿”å›çœŸæ­£çš„å®ç°ç±»ï¼Œä¸æ˜¯æ–‡æœ¬åŒ¹é…</span>
 Â  Â  Â   <span class="hljs-keyword">return</span> node.implementations.map(impl =&gt; ({
 Â  Â  Â  Â  Â   className: impl.className,
 Â  Â  Â  Â  Â   filePath: impl.location.file,
 Â  Â  Â  Â  Â   lineNumber: impl.location.line,
 Â  Â  Â  Â  Â   methods: impl.implementedMethods
 Â  Â  Â   }));
 Â   }
}
</code></pre>
<h3 data-id="heading-9">2.3 è·¨æ–‡ä»¶ä¾èµ–åˆ†æ</h3>
<p>ç¬¦å·ç†è§£çš„æ ¸å¿ƒæ˜¯è·¨æ–‡ä»¶çš„ä¾èµ–è¿½è¸ªï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¾èµ–å…³ç³»åˆ†æ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DependencyAnalyzer</span> {
 Â   <span class="hljs-keyword">constructor</span>(symbolIndexer) {
 Â  Â  Â   <span class="hljs-keyword">this</span>.symbolIndexer = symbolIndexer;
 Â  Â  Â   <span class="hljs-keyword">this</span>.dependencyGraph = new Map();
 Â   }
â€‹
 Â   buildDependencyGraph() {
 Â  Â  Â   <span class="hljs-comment">// éå†æ‰€æœ‰ç¬¦å·</span>
 Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [symbol, node] of <span class="hljs-keyword">this</span>.symbolIndexer) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.dependencyGraph.<span class="hljs-keyword">set</span>(symbol, {
 Â  Â  Â  Â  Â  Â  Â   dependents: [], Â  <span class="hljs-comment">// è°ä¾èµ–æˆ‘</span>
 Â  Â  Â  Â  Â  Â  Â   dependencies: []  <span class="hljs-comment">// æˆ‘ä¾èµ–è°</span>
 Â  Â  Â  Â  Â   });
 Â  Â  Â   }
â€‹
 Â  Â  Â   <span class="hljs-comment">// åˆ†ææ¯ä¸ªæ–‡ä»¶çš„ use/import è¯­å¥</span>
 Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> file of <span class="hljs-keyword">this</span>.getAllFiles()) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> imports = <span class="hljs-keyword">this</span>.extractImports(file);
â€‹
 Â  Â  Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> imp of imports) {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> symbol = imp.symbol;
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> targetNode = <span class="hljs-keyword">this</span>.dependencyGraph.<span class="hljs-keyword">get</span>(symbol);
â€‹
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">if</span> (targetNode) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â   targetNode.dependents.push({
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   fromFile: file.path,
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   context: imp.context
 Â  Â  Â  Â  Â  Â  Â  Â  Â   });
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   }
â€‹
 Â   findImpactAnalysis(symbolName) {
 Â  Â  Â   <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">this</span>.dependencyGraph.<span class="hljs-keyword">get</span>(symbolName);
â€‹
 Â  Â  Â   <span class="hljs-keyword">return</span> {
 Â  Â  Â  Â  Â   directDependents: node.dependents,
 Â  Â  Â  Â  Â   transitiveDependents: <span class="hljs-keyword">this</span>.computeTransitiveClosure(node),
 Â  Â  Â  Â  Â   estimatedImpact: <span class="hljs-keyword">this</span>.estimateChangeImpact(node)
 Â  Â  Â   };
 Â   }
}
</code></pre>
<h3 data-id="heading-10">2.4 ä¸ LLM çš„é›†æˆ</h3>
<p>ç¬¦å·åˆ†æçš„æœ€ç»ˆç›®çš„æ˜¯ç»™ LLM æä¾›å‡†ç¡®çš„ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// RAG + ç¬¦å·æ„ŸçŸ¥çš„ LLM è°ƒç”¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">askWithSymbolAwareness</span>(<span class="hljs-params">question</span>) {
 Â   <span class="hljs-comment">// 1. è§£æé—®é¢˜ä¸­çš„ç¬¦å·</span>
 Â   <span class="hljs-keyword">const</span> symbols = <span class="hljs-title function_">extractSymbols</span>(question);
 Â   <span class="hljs-comment">// ä¾‹å¦‚: "Repository trait æœ‰å“ªäº›å®ç°ï¼Ÿ" â†’ ["Repository"]</span>
â€‹
 Â   <span class="hljs-comment">// 2. æŸ¥è¯¢ç¬¦å·å›¾</span>
 Â   <span class="hljs-keyword">const</span> symbolContext = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
 Â  Â  Â   symbols.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> (<span class="hljs-built_in">symbol</span>) =&gt; {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> impls = <span class="hljs-keyword">await</span> symbolIndexer.<span class="hljs-title function_">findImplementations</span>(<span class="hljs-built_in">symbol</span>);
 Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> deps = <span class="hljs-keyword">await</span> dependencyAnalyzer.<span class="hljs-title function_">findImpactAnalysis</span>(<span class="hljs-built_in">symbol</span>);
â€‹
 Â  Â  Â  Â  Â   <span class="hljs-keyword">return</span> {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">symbol</span>: <span class="hljs-built_in">symbol</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">implementations</span>: impls,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">dependents</span>: deps.<span class="hljs-property">directDependents</span>
 Â  Â  Â  Â  Â   };
 Â  Â  Â   })
 Â   );
â€‹
 Â   <span class="hljs-comment">// 3. æ„å»ºå¢å¼ºçš„ Prompt</span>
 Â   <span class="hljs-keyword">const</span> enhancedPrompt = <span class="hljs-string">`
é—®é¢˜: <span class="hljs-subst">${question}</span>
â€‹
ä»£ç åº“åˆ†æç»“æœ:
<span class="hljs-subst">${formatSymbolContext(symbolContext)}</span>
â€‹
è¯·åŸºäºä»¥ä¸Šå‡†ç¡®çš„ç¬¦å·ä¿¡æ¯å›ç­”é—®é¢˜ã€‚
`</span>;
â€‹
 Â   <span class="hljs-comment">// 4. è°ƒç”¨ LLM</span>
 Â   <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">callLLM</span>(enhancedPrompt);
}
</code></pre>
<hr/>
<h2 data-id="heading-11">ä¸‰ã€å‘½ä»¤æ ç³»ç»Ÿï¼šæ’ä»¶åŒ–çš„å‘½ä»¤æ‰§è¡Œæ¡†æ¶</h2>
<h3 data-id="heading-12">3.1 ç»Ÿä¸€å‘½ä»¤æ¥å£</h3>
<p>å‘½ä»¤æ çš„æ ¸å¿ƒæ€æƒ³æ˜¯æä¾›ä¸€ä¸ªç»Ÿä¸€çš„å‘½ä»¤æ³¨å†Œå’Œæ‰§è¡Œæ¥å£ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‘½ä»¤æ³¨å†Œç³»ç»Ÿ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CommandRegistry</span> {
 Â   <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">commands</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
 Â   }
â€‹
 Â   <span class="hljs-title function_">registerCommand</span>(<span class="hljs-params">command</span>) {
 Â  Â  Â   <span class="hljs-comment">// å‘½ä»¤ç»“æ„</span>
 Â  Â  Â   <span class="hljs-comment">// {</span>
 Â  Â  Â   <span class="hljs-comment">// Â  id: "ai.switchModel",</span>
 Â  Â  Â   <span class="hljs-comment">// Â  title: "åˆ‡æ¢ AI æ¨¡å‹",</span>
 Â  Â  Â   <span class="hljs-comment">// Â  keywords: ["switch", "model", "ai"],</span>
 Â  Â  Â   <span class="hljs-comment">// Â  handler: async (args) =&gt; { ... }</span>
 Â  Â  Â   <span class="hljs-comment">// }</span>
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">commands</span>.<span class="hljs-title function_">set</span>(command.<span class="hljs-property">id</span>, command);
 Â   }
â€‹
 Â   <span class="hljs-title function_">search</span>(<span class="hljs-params">query</span>) {
 Â  Â  Â   <span class="hljs-keyword">const</span> results = [];
â€‹
 Â  Â  Â   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [id, cmd] <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">commands</span>) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">const</span> score = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">computeMatchScore</span>(query, cmd);
 Â  Â  Â  Â  Â   <span class="hljs-keyword">if</span> (score &gt; <span class="hljs-number">0.5</span>) {
 Â  Â  Â  Â  Â  Â  Â   results.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">command</span>: cmd, score });
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
â€‹
 Â  Â  Â   <span class="hljs-keyword">return</span> results.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">score</span> - a.<span class="hljs-property">score</span>);
 Â   }
â€‹
 Â   <span class="hljs-title function_">computeMatchScore</span>(<span class="hljs-params">query, command</span>) {
 Â  Â  Â   <span class="hljs-comment">// å¤šç»´åº¦åŒ¹é…</span>
 Â  Â  Â   <span class="hljs-keyword">const</span> titleMatch = <span class="hljs-title function_">similarity</span>(query, command.<span class="hljs-property">title</span>);
 Â  Â  Â   <span class="hljs-keyword">const</span> keywordMatch = command.<span class="hljs-property">keywords</span>.<span class="hljs-title function_">some</span>(
 Â  Â  Â  Â  Â   <span class="hljs-function"><span class="hljs-params">kw</span> =&gt;</span> kw.<span class="hljs-title function_">includes</span>(query.<span class="hljs-title function_">toLowerCase</span>())
 Â  Â  Â   );
â€‹
 Â  Â  Â   <span class="hljs-keyword">return</span> titleMatch * <span class="hljs-number">0.7</span> + (keywordMatch ? <span class="hljs-number">0.3</span> : <span class="hljs-number">0</span>);
 Â   }
â€‹
 Â   <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">commandId, args</span>) {
 Â  Â  Â   <span class="hljs-keyword">const</span> cmd = <span class="hljs-variable language_">this</span>.<span class="hljs-property">commands</span>.<span class="hljs-title function_">get</span>(commandId);
 Â  Â  Â   <span class="hljs-keyword">if</span> (!cmd) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Command not found"</span>);
â€‹
 Â  Â  Â   <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> cmd.<span class="hljs-title function_">handler</span>(args);
 Â   }
}
</code></pre>
<h3 data-id="heading-13">3.2 æ’ä»¶åŒ–æ‰©å±•</h3>
<p>å‘½ä»¤æ æ”¯æŒæ’ä»¶åŠ¨æ€æ³¨å†Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ’ä»¶ç³»ç»Ÿ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CommandPlugin</span> {
 Â   <span class="hljs-title function_">constructor</span>(<span class="hljs-params">registry</span>) {
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span> = registry;
 Â   }
â€‹
 Â   <span class="hljs-title function_">load</span>(<span class="hljs-params"/>) {
 Â  Â  Â   <span class="hljs-comment">// æ’ä»¶æ³¨å†Œè‡ªå·±çš„å‘½ä»¤</span>
 Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span>.<span class="hljs-title function_">registerCommands</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCommands</span>());
 Â   }
â€‹
 Â   <span class="hljs-title function_">getCommands</span>(<span class="hljs-params"/>) {
 Â  Â  Â   <span class="hljs-keyword">return</span> [
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">id</span>: <span class="hljs-string">"myplugin.doSomething"</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">title</span>: <span class="hljs-string">"æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ"</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">handler</span>: <span class="hljs-keyword">async</span> (args) =&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleDoSomething</span>(args);
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   ];
 Â   }
}
â€‹
<span class="hljs-comment">// å•†ä¸šç‰ˆæ’ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CommercialCommandPlugin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">CommandPlugin</span> {
 Â   <span class="hljs-title function_">getCommands</span>(<span class="hljs-params"/>) {
 Â  Â  Â   <span class="hljs-keyword">return</span> [
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">id</span>: <span class="hljs-string">"commercial.runAnalysis"</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">title</span>: <span class="hljs-string">"è¿è¡Œæ·±åº¦ä»£ç åˆ†æ"</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">requiresCommercial</span>: <span class="hljs-literal">true</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-attr">handler</span>: <span class="hljs-keyword">async</span> (args) =&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">runDeepAnalysis</span>(args);
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
 Â  Â  Â   ];
 Â   }
}
</code></pre>
<h3 data-id="heading-14">3.3 å®æ—¶æœç´¢é¢„è§ˆ</h3>
<p>å‘½ä»¤æ çš„ç”¨æˆ·ä½“éªŒå…³é”®æ˜¯å®æ—¶å“åº”ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‘½ä»¤æ  UI é€»è¾‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CommandPalette</span> {
 Â   <span class="hljs-keyword">constructor</span>(registry) {
 Â  Â  Â   <span class="hljs-keyword">this</span>.registry = registry;
 Â  Â  Â   <span class="hljs-keyword">this</span>.query = <span class="hljs-string">""</span>;
 Â  Â  Â   <span class="hljs-keyword">this</span>.results = [];
 Â  Â  Â   <span class="hljs-keyword">this</span>.selectedIndex = <span class="hljs-number">0</span>;
 Â   }
â€‹
 Â   onQueryChange(newQuery) {
 Â  Â  Â   <span class="hljs-keyword">this</span>.query = newQuery;
â€‹
 Â  Â  Â   <span class="hljs-comment">// é˜²æŠ–æœç´¢</span>
 Â  Â  Â   debounce(() =&gt; {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.results = <span class="hljs-keyword">this</span>.registry.search(newQuery);
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.selectedIndex = <span class="hljs-number">0</span>;
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.render();
 Â  Â  Â   }, <span class="hljs-number">50</span>)();
 Â   }
â€‹
 Â   onKeyDown(key) {
 Â  Â  Â   <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"ArrowDown"</span>) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.selectedIndex = Math.min(
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.selectedIndex + <span class="hljs-number">1</span>,
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.results.length - <span class="hljs-number">1</span>
 Â  Â  Â  Â  Â   );
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.render();
 Â  Â  Â   } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"Enter"</span>) {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.executeSelected();
 Â  Â  Â   }
 Â   }
â€‹
 Â   async executeSelected() {
 Â  Â  Â   <span class="hljs-keyword">const</span> selected = <span class="hljs-keyword">this</span>.results[<span class="hljs-keyword">this</span>.selectedIndex];
 Â  Â  Â   <span class="hljs-keyword">if</span> (selected) {
 Â  Â  Â  Â  Â   await <span class="hljs-keyword">this</span>.registry.execute(selected.command.id);
 Â  Â  Â  Â  Â   <span class="hljs-keyword">this</span>.close();
 Â  Â  Â   }
 Â   }
}
</code></pre>
<hr/>
<h2 data-id="heading-15">å››ã€æ¶æ„æ€»ç»“</h2>
<p>v0.2.8 çš„ä¸‰é¡¹æ ¸å¿ƒåŠŸèƒ½åœ¨æ¶æ„ä¸Šæœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼š<strong>å¼•å…¥ä¸­é—´æŠ½è±¡å±‚</strong>ã€‚</p>
<ul>
<li>Composer 2.0 å¼•å…¥äº†"å˜æ›´æŠ½è±¡å±‚"ï¼Œå°† AI è¾“å‡ºè½¬æ¢ä¸ºç»“æ„åŒ–çš„ diff</li>
<li>RAG ç¬¦å·æ„ŸçŸ¥å¼•å…¥äº†"ç¬¦å·ç´¢å¼•å±‚"ï¼Œå°†ä»£ç æ–‡æœ¬è½¬æ¢ä¸ºç»“æ„åŒ–çš„ç¬¦å·å›¾</li>
<li>å‘½ä»¤æ å¼•å…¥äº†"å‘½ä»¤æ³¨å†Œå±‚"ï¼Œå°†åˆ†æ•£çš„æ“ä½œè½¬æ¢ä¸ºç»Ÿä¸€çš„å‘½ä»¤æ¥å£</li>
</ul>
<p>è¿™ç§æŠ½è±¡çš„å¥½å¤„æ˜¯æ˜æ˜¾çš„ï¼š</p>
<ol>
<li><strong>å¯ç»„åˆæ€§</strong>ï¼šå„ä¸ªæ¨¡å—å¯ä»¥ç‹¬ç«‹æ¼”åŒ–ï¼Œæ¥å£ç¨³å®š</li>
<li><strong>å¯æµ‹è¯•æ€§</strong>ï¼šæŠ½è±¡å±‚å¯ä»¥å•ç‹¬æµ‹è¯•</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ’ä»¶å¯ä»¥åŸºäºæŠ½è±¡å±‚æ‰©å±•åŠŸèƒ½</li>
</ol>
<hr/>
<h2 data-id="heading-16">äº”ã€ä½¿ç”¨å»ºè®®</h2>
<p>åŸºäºæŠ€æœ¯æ¶æ„åˆ†æï¼Œç»™å¼€å‘è€…å‡ æ¡å»ºè®®ï¼š</p>
<ol>
<li><strong>åˆç†ä½¿ç”¨å¤šæ–‡ä»¶ç¼–è¾‘</strong>ï¼šå°æ”¹åŠ¨ç”¨å•æ–‡ä»¶ï¼Œé‡æ„å†ç”¨ Composerã€‚å¤šæ–‡ä»¶æ“ä½œçš„å½±å“é¢æ›´å¤§ï¼Œéœ€è¦æ›´ä»”ç»†çš„ reviewã€‚</li>
<li><strong>ç†è§£ç¬¦å·åˆ†æçš„å±€é™</strong>ï¼šRAG ç¬¦å·æ„ŸçŸ¥åŸºäºé™æ€åˆ†æï¼Œå¯¹äºåŠ¨æ€ç”Ÿæˆçš„ä»£ç ç†è§£æœ‰é™ã€‚å¤æ‚åœºæ™¯ä¸‹ä»éœ€äººå·¥åˆ¤æ–­ã€‚</li>
<li><strong>è‡ªå®šä¹‰å‘½ä»¤</strong>ï¼šå¦‚æœä½ çš„å›¢é˜Ÿæœ‰ç‰¹å®šå·¥ä½œæµï¼Œå¯ä»¥é€šè¿‡æ’ä»¶ç³»ç»Ÿæ³¨å†Œè‡ªå®šä¹‰å‘½ä»¤ï¼Œæå‡æ•ˆç‡ã€‚</li>
<li><strong>å…³æ³¨æ€§èƒ½</strong>ï¼šå¤§å‹é¡¹ç›®ä¸‹ï¼Œç¬¦å·ç´¢å¼•å’Œä¾èµ–åˆ†æä¼šæœ‰å¼€é”€ã€‚å¯ä»¥é…ç½®å¢é‡æ›´æ–°ç­–ç•¥ï¼Œå¹³è¡¡æ€§èƒ½å’Œå‡†ç¡®æ€§ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-17">ç»“è¯­</h2>
<p>v0.2.8 çš„æ„ä¹‰åœ¨äºï¼Œå®ƒå±•ç¤ºäº† AI ç¼–è¾‘å™¨ä»"å•ç‚¹å·¥å…·"å‘"å¼€å‘å¹³å°"æ¼”è¿›çš„å¯èƒ½è·¯å¾„ã€‚</p>
<p>ä¸‹ä¸€ä¸ªé˜¶æ®µçš„ç«äº‰ï¼Œå¯èƒ½ä¸å†æ˜¯"è°çš„æ¨¡å‹æ›´å¼º"ï¼Œè€Œæ˜¯"è°å¯¹ä»£ç ç»“æ„çš„ç†è§£æ›´æ·±"ã€‚</p>
<hr/>
<p><em>æœ¬æ–‡åŸºäº IfAI v0.2.8 æŠ€æœ¯æ–‡æ¡£å’Œå®é™…ä½¿ç”¨ä½“éªŒæ’°å†™ã€‚ä¼ªä»£ç ä¸»è¦ç”¨äºè¯´æ˜è®¾è®¡æ€è·¯ï¼Œå®é™…å®ç°å¯èƒ½æœ‰æ‰€ä¸åŒã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae ä¸­LLM è¿ç»´åœºæ™¯æ·±åº¦è¯„æµ‹ï¼šå®¹å™¨åŒ– JVM å†…å­˜é—®é¢˜åˆ†æèƒ½åŠ›æ¨ªå‘å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7593292445301080083</link>    <guid>https://juejin.cn/post/7593292445301080083</guid>    <pubDate>2026-01-11T08:16:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593292445301080083" data-draft-id="7593252939709087780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae ä¸­LLM è¿ç»´åœºæ™¯æ·±åº¦è¯„æµ‹ï¼šå®¹å™¨åŒ– JVM å†…å­˜é—®é¢˜åˆ†æèƒ½åŠ›æ¨ªå‘å¯¹æ¯”"/> <meta itemprop="keywords" content="AIOps,Trae"/> <meta itemprop="datePublished" content="2026-01-11T08:16:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£Ÿå°˜è€…"/> <meta itemprop="url" content="https://juejin.cn/user/4075235699079676"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae ä¸­LLM è¿ç»´åœºæ™¯æ·±åº¦è¯„æµ‹ï¼šå®¹å™¨åŒ– JVM å†…å­˜é—®é¢˜åˆ†æèƒ½åŠ›æ¨ªå‘å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4075235699079676/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£Ÿå°˜è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:16:10.000Z" title="Sun Jan 11 2026 08:16:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»35åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 æ¦‚è¿°</h2>
<h3 data-id="heading-1">1.1 è¯„æµ‹èƒŒæ™¯</h3>
<ul>
<li>è¿‘æœŸåœ¨ä¸€ä¸ªç”Ÿäº§é¡¹ç›®ä¸­é‡åˆ°å®¹å™¨åŒ–JVMåº”ç”¨çš„Docker rss å†…å­˜å¼‚å¸¸å‡é«˜ï¼Œè¶…è¿‡Dockerè‡ªèº«memory limitï¼Œä»è€Œè¢«<strong>cgroup-local OOM Killer</strong> æ€æ‰äº†è¿™ä¸ªå®¹å™¨å®ä¾‹è¿›ç¨‹ï¼Œå¯¼è‡´æ­¤å®¹å™¨åº”ç”¨å®ä¾‹å¼‚å¸¸é‡å¯ã€‚</li>
<li>ç»æŸ¥çœ‹Grafanaé‡‡é›†çš„JVMå †ã€éå †ã€çº¿ç¨‹æ•°ç­‰ç›¸å…³æŒ‡æ ‡ï¼Œå‘ç°docker rssè¿œè¿œå¤§äºJVMåº”ç”¨èƒ½ç›‘æ§åˆ°çš„æ€»å ç”¨å†…å­˜ï¼Œåº”ç”¨æ—¥å¿—ä¹Ÿæ’æŸ¥è¿‡æ²¡å‘ç°åº”ç”¨ä»£ç å±‚é¢çš„å¼‚å¸¸ï¼Œå› æ­¤æ€€ç–‘å’ŒLinux æˆ–è€… dockerè‡ªèº«çš„ä¸€äº›å‚æ•°é…ç½®æœ‰å…³ç³»ï¼Œè€Œè¿™ä¸€éƒ¨åˆ†æœ¬äººä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œå› æ­¤ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯æ±‚åŠ©AIã€‚</li>
<li>å·²çŸ¥ä¿¡æ¯
<ul>
<li>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼šCentOS7 16Cã€64GBå†…å­˜</li>
<li>Dockerï¼šç‰ˆæœ¬19.03.27ï¼Œå†…å­˜ä¸Šé™16Gï¼Œdocker rss ä¸Šæ¶¨&gt;18Gè§¦å‘å®¹å™¨å†…å­˜é™åˆ¶çš„OOM-killedã€‚</li>
<li>JVM ç›¸å…³å‚æ•°</li>
</ul>
<pre><code class="hljs language-ruby" lang="ruby">-<span class="hljs-title class_">Xmx12288m</span> -<span class="hljs-title class_">Xms2048m</span> -<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:MetaspaceSize=</span>512M -<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:MaxMetaspaceSize=</span>1024M -<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:ReservedCodeCacheSize=</span>240<span class="hljs-symbol">mXX:</span><span class="hljs-title class_">CompressedClassSpaceSize</span>=256m -<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:NativeMemoryTracking=detail</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-2">1.2 å‚è¯„æ¨¡å‹åˆ—è¡¨</h3>
<blockquote>
<p>é™¤äº†MiniMax-M2.1ä½¿ç”¨Claude Codeå¤–ï¼Œå…¶å®ƒçš„å‡ä½¿ç”¨Traeæµ·å¤–ç‰ˆIDEè¿›è¡Œè¯„æµ‹ã€‚</p>
</blockquote>
<ul>
<li>GPT-5.2</li>
<li>Gemini-3-Pro-Preview</li>
<li>DeepSeekV3.1</li>
<li>Kimi-K2-0905</li>
<li>GLM-4.7</li>
<li>MiniMax-M2.1</li>
</ul>
<h3 data-id="heading-3">1.3 é—®é¢˜åŸå› </h3>
<p>å®¹å™¨å†…ä¸æ˜¾å¼è®¾ç½®Â <code>MALLOC_ARENA_MAX</code>ï¼Œå®¹å™¨å†…çš„è¿›ç¨‹ï¼ˆåŒ…æ‹¬ JVM å’Œ native ä»£ç ï¼‰å¯èƒ½ä¼šæ¶ˆè€—è¿œè¶…é¢„æœŸçš„å†…å­˜ï¼Œå¯¼è‡´å®¹å™¨è¢«å®¿ä¸»æœºå†…æ ¸çš„ OOM Killer ç»ˆæ­¢ã€‚</p>
<h2 data-id="heading-4">2 è¯„æµ‹è¿‡ç¨‹</h2>
<h3 data-id="heading-5">2.1 è¾“å…¥æ•°æ®</h3>
<h4 data-id="heading-6">2.1.1 JVMå®¹å™¨å®ä¾‹è¿è¡Œæ—¶ä¿¡æ¯é‡‡é›†</h4>
<ul>
<li>JVM æœ¬åœ°å†…å­˜ä½¿ç”¨æ˜ç»†(jcmd-detailæ–‡ä»¶)ï¼šåœ¨JVMå‚æ•°å¯ç”¨<code>-XX:NativeMemoryTracking=detail</code>é…ç½®çš„å‰æä¸‹ï¼Œæ‰§è¡Œ<code>jcmd $(pgrep java) VM.native_memory detail</code>å‘½ä»¤å³å¯è·å–ã€‚</li>
<li>å®¹å™¨å®ä¾‹å†…å­˜ä½¿ç”¨è¯¦æƒ…ï¼ˆmemroy.statæ–‡ä»¶)ï¼šå®¹å™¨å†…æ‰§è¡Œ<code>cat /sys/fs/cgroup/memory/memory.stat</code>å‘½ä»¤å³å¯è·å–ã€‚</li>
<li>å®¹å™¨å†…è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š
<ul>
<li>(top-mæ–‡ä»¶ï¼‰ï¼šå®¹å™¨å†…æ‰§è¡Œ <code>top -m</code> å‘½ä»¤å¯è·å–æ±‡æ€»ä¿¡æ¯ã€‚</li>
<li>ï¼ˆproc-statusï¼‰ï¼šå®¹å™¨å†…æ‰§è¡Œ<code>catÂ /proc/$(pgrep java)/status</code>å‘½ä»¤å¯è·å–è¿›ç¨‹å†…å­˜èµ„æºå ç”¨æƒ…å†µã€‚</li>
</ul>
</li>
<li>JMè¿›ç¨‹çš„å†…å­˜æ˜ å°„æƒ…å†µï¼š
<ul>
<li>æ±‡æ€»ä¿¡æ¯ï¼ˆpmap.txtï¼‰ï¼šå®¹å™¨å†…æ‰§è¡Œ<code>pmap -x $(pgrep java) &gt; pmap.txt</code>ã€‚</li>
<li>æ˜ å°„è¯¦æƒ…ï¼ˆsmaps.txtï¼‰ï¼šå®¹å™¨å†…æ‰§è¡Œ<code>catÂ /proc/$(pgrep java)/smaps &gt;smaps.txt</code>ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-7">2.1.2 æç¤ºè¯</h4>
<pre><code class="hljs language-r" lang="r"><span class="hljs-comment"># ç¬¬ä¸€æ¬¡æé—®ï¼ŒæŸ¥çœ‹å¤§æ¨¡å‹èƒ½å¦è¯†åˆ«å¼‚å¸¸å†…å­˜å—</span>
JVM dockerå®¹å™¨å®ä¾‹rssè¿‡é«˜è¯·æ ¹æ®ä»¥ä¸‹æœ€æ–°ä¿¡æ¯é‡æ–°è¿›è¡Œåˆ†æï¼š

  dockerå†…éƒ¨top <span class="hljs-operator">-</span>mä¿¡æ¯ `e:\workspace\devops\top-m`
  jcmd  VM.native_memory detail`e:\workspace\devops\jcmd-detail`
  docker memory.stat `e:\workspace\devops\memory.stat`
  docker å†…éƒ¨çš„proc<span class="hljs-operator">/</span><span class="hljs-number">6</span><span class="hljs-operator">/</span>status proc<span class="hljs-operator">-</span>status
  docker å†…éƒ¨pmapä¿¡æ¯ pmap.txt
  
<span class="hljs-comment"># ç¬¬äºŒæ¬¡æé—®</span>
<span class="hljs-comment">## åˆ†æ”¯1ï¼šå¦‚æœèƒ½å‘ç°å¼‚å¸¸çš„åŒ¿åå—åˆ™æä¾›è¿›ä¸€æ­¥smapä¿¡æ¯ä½¿ç”¨ä¸‹é¢æç¤ºè¯è¿½é—®</span>
æ ¹æ®smapsä¿¡æ¯ï¼ŒæŠŠâ€œé‚£ <span class="hljs-number">77</span> ä¸ª <span class="hljs-number">45</span><span class="hljs-operator">~</span><span class="hljs-number">70</span>MB åŒ¿åå—â€ç²¾ç¡®å½’å› 

<span class="hljs-comment">## åˆ†æ”¯2ï¼šæœªèƒ½å‘ç°é—®é¢˜åˆ™ï¼Œä½¿ç”¨ä¸‹é¢æç¤ºè¯è¿½é—®</span>
ç»“åˆsmapsä¿¡æ¯å’Œjcmd<span class="hljs-operator">-</span>detailå†è®¤çœŸåˆ†æä¸‹ï¼Œå’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿ
</code></pre>
<h3 data-id="heading-8">2.2 å„æ¨¡å‹åˆ†æç»“æœ</h3>
<h4 data-id="heading-9">2.2.1 GPT-5</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š10åˆ†é’Ÿå·¦å³ï¼Œåˆ†æé€Ÿåº¦æ˜¯çœŸçš„æ…¢ã€‚
ç»“è®ºï¼šç¬¬ä¸€è½®èƒ½å®šä½åˆ°å¼‚å¸¸åŒ¿åå—ï¼Œä¸”ä¹Ÿåé¦ˆäº†å˜é‡MALLOC_ARENA_MAXçš„è®¾ç½®é—®é¢˜ï¼Œå¹¶å»ºè®®è¡¥å……smapsä¿¡æ¯è¿›ä¸€æ­¥å½’å› ã€‚</p>
</blockquote>
<pre><code class="hljs language-diff" lang="diff"># ç¬¬ä¸€æ¬¡æç¤ºè¯è¾“å‡º

ç»“è®ºï¼ˆåŸºäºä½ ç»™çš„ 5 ä»½æœ€æ–°æ•°æ®ï¼‰

<span class="hljs-deletion">- å½“å‰å®¹å™¨å†…â€œRSS è¿‡é«˜â€åŸºæœ¬ä¸æ˜¯ page cache/æ–‡ä»¶æ˜ å°„å¯¼è‡´ï¼Œè€Œæ˜¯ Java è¿›ç¨‹çš„åŒ¿åå†…å­˜ï¼ˆprivate anonymousï¼‰çœŸå®å ç”¨è¿‡å¤§ ã€‚</span>
<span class="hljs-deletion">- åŒæ—¶å­˜åœ¨ä¸€ä¸ªå¾ˆå…³é”®çš„ç°è±¡ï¼š RSS æ˜æ˜¾é«˜äº NMTï¼ˆjcmd VM.native_memoryï¼‰ç»Ÿè®¡çš„ committed ï¼Œè¯´æ˜æœ‰ä¸€å¤§å—å†…å­˜ ä¸åœ¨ HotSpot NMT çš„å¯è¿½è¸ªèŒƒå›´å†… ï¼ˆå¸¸è§äº JNI/ä¸‰æ–¹ native åº“è‡ªè¡Œ malloc/mmap ï¼Œæˆ–åˆ†é…å™¨ arena/ç¢ç‰‡å¯¼è‡´çš„å®é™…é©»ç•™è†¨èƒ€ï¼‰ã€‚</span>
1) â€œRSS åˆ°åº•æœ‰å¤šé«˜â€ï¼Œå„å£å¾„å¯¹é½

<span class="hljs-deletion">- top -m ï¼šPID 6 Java RSS 18.0g ï¼ˆå‡ ä¹å…¨æ˜¯ DIRTYï¼‰</span>
<span class="hljs-deletion">- /proc/6/status ï¼š VmRSS: 18850900 kB ï¼ˆâ‰ˆ 18.0GiB ï¼‰ï¼Œä¸” RssAnon: 18841160 kB ã€ RssFile: 9740 kB</span>
  - è¯´æ˜ RSS å‡ ä¹å…¨æ˜¯åŒ¿åé¡µ ï¼Œä¸æ˜¯æ–‡ä»¶é¡µ
<span class="hljs-deletion">- docker memory.stat ï¼š rss 19911905280 bytesï¼ˆâ‰ˆ 18.54GiB ï¼‰ï¼Œ active_anon ä¹Ÿå‡ ä¹ç­‰äº rssï¼Œ cache â‰ˆ 1.89GiB</span>
<span class="hljs-deletion">- pmap æ±‡æ€»è¡Œï¼š total 23097480 19492446 19444888 0</span>
  - PSS â‰ˆ 18.59GiB ï¼ŒDirty â‰ˆ 18.54GiB ï¼Œä¸ cgroup rss å¯¹é½
è¿™å‡ ä»½æ•°æ®äº’ç›¸å»åˆï¼š å®¹å™¨é‡Œå°±æ˜¯è¿™ä¸ª Java è¿›ç¨‹åœ¨åƒ 18~18.6GiB çš„åŒ¿åè„é¡µ ã€‚

2) â€œå † vs éå †â€ï¼špmap æŠŠåŒ¿åå†…å­˜æ‹†å¾—å¾ˆæ¸…æ¥š æˆ‘å¯¹ pmap.txt åšäº†ç»Ÿè®¡ï¼ˆæŒ‰ [ anon ] èšåˆï¼‰ï¼š

<span class="hljs-deletion">- [ anon ] æ®µæ•°é‡ï¼š 1280 æ®µ</span>
<span class="hljs-deletion">- [ anon ] dirty åˆè®¡ï¼š 19,408,904 kB ï¼ˆâ‰ˆ 18.52GiBï¼‰â€”â€”å‡ ä¹å°±æ˜¯å…¨éƒ¨ RSS</span>
è¿›ä¸€æ­¥æ‹†åˆ†ï¼ˆæŒ‰å…¸å‹å †æ®µå¤§å°è¯†åˆ«ï¼‰ï¼š

<span class="hljs-deletion">- Java Heapï¼ˆå †ï¼‰é©»ç•™ ï¼šçº¦ 12,599,900 kB ï¼ˆâ‰ˆ 12.0GiB ï¼‰</span>
  - jcmd NMT ä¹Ÿæ˜¾ç¤º Java Heap committed=12273MB ï¼Œä¸ -Xmx12288m ä»¥åŠ pmap ä¸¤æ®µè¶…å¤§ anon æ˜ å°„å»åˆ
  - è¯´æ˜ï¼š å †å·²ç»æ¶¨åˆ°æ¥è¿‘ Xmx ä¸”å¤§é‡é¡µé¢éƒ½å·²è¢«è§¦ç¢°é©»ç•™
<span class="hljs-deletion">- éå †åŒ¿åé©»ç•™ ï¼šçº¦ 6,809,004 kB ï¼ˆâ‰ˆ 6.5GiB ï¼‰</span>
éå †é‡Œæœ€å¼‚å¸¸çš„ä¸€å—ï¼š

<span class="hljs-deletion">- å­˜åœ¨ 77 æ®µå¤§å°åœ¨ 45~70MB çš„åŒ¿å rw-p æ˜ å°„ ï¼Œdirty åˆè®¡ 3,622,648 kBï¼ˆâ‰ˆ 3.45GiBï¼‰ ï¼Œè€Œä¸”å‡ ä¹â€œæ®µå¤§å°=dirtyâ€ï¼Œæ„å‘³ç€è¿™äº›å—è¢«å®æ‰“å®å†™æ»¡å¹¶å¸¸é©»ã€‚</span>
è¿™ç§â€œå¾ˆå¤šå—ã€æ¯å—å‡ å MBã€å…¨æ˜¯åŒ¿åè„é¡µâ€çš„å½¢æ€ï¼Œå…¸å‹æŒ‡å‘ï¼š

<span class="hljs-deletion">- æŸä¸ª native ç»„ä»¶/åº“åœ¨åå¤ç”³è¯·å¤§å—å†…å­˜å¹¶æŒæœ‰ ï¼ˆJNIã€å‹ç¼©/åŠ å¯†åº“ã€å›¾åƒåº“ã€ä¸šåŠ¡ç§æœ‰ soã€ç¬¬ä¸‰æ–¹ SDK çš„ native éƒ¨åˆ†ç­‰ï¼‰</span>
<span class="hljs-deletion">- æˆ–è€… glibc malloc arena/ç¢ç‰‡/ç¼“å­˜ å¯¼è‡´çš„ RSS è†¨èƒ€ï¼ˆä½ è¿™é‡Œ Threads=354 ï¼Œå¤šçº¿ç¨‹åœºæ™¯ä¸‹æ›´å®¹æ˜“å‡ºç°åˆ†é…å™¨ä¿ç•™å†…å­˜ä¸å½’è¿˜ OSï¼‰</span>
3) ä¸ºä»€ä¹ˆ jcmd NMT åªæœ‰ 14.6GBï¼Œä½† RSS æœ‰ 18.5GBï¼Ÿ jcmd VM.native_memory detail æ˜¾ç¤ºï¼š

<span class="hljs-deletion">- Total committed=14620MB ï¼ˆâ‰ˆ 14.3GiBï¼‰</span>
è€Œ memory.stat rss / pmap dirty åœ¨ 18.5GiB å·¦å³ï¼Œå·®å€¼çº¦ 4GB+ ã€‚

è¿™ç±»å·®å€¼é€šå¸¸æ„å‘³ç€ï¼š

<span class="hljs-deletion">- è¿™éƒ¨åˆ†å†…å­˜ ä¸æ˜¯ HotSpot é€šè¿‡å¯è¿½è¸ªè·¯å¾„ï¼ˆNMT hookï¼‰ç”³è¯·åˆ°çš„ ï¼Œæˆ–</span>
<span class="hljs-deletion">- NMT ç»Ÿè®¡çš„æ˜¯â€œåˆ†é…è¯·æ±‚/å·²æäº¤â€çš„é€»è¾‘å£å¾„ï¼Œè€Œ å®é™… RSS è¢«åˆ†é…å™¨ï¼ˆarena/ç¢ç‰‡/ç¼“å­˜ï¼‰æ”¾å¤§ ï¼Œå°¤å…¶æ˜¯å¤šçº¿ç¨‹ä¸‹çš„ malloc è¡Œä¸ºã€‚</span>
å¦å¤–ï¼ŒNMT detail é‡Œèƒ½çœ‹åˆ°ä¸€ä¸ªæ˜ç¡®çš„ off-heap ç‚¹ï¼š

<span class="hljs-deletion">- Unsafe_AllocateMemory (malloc=435MB type=Internal #485) è¿™è¯´æ˜ç¡®å®å­˜åœ¨ä¸€å®šè§„æ¨¡çš„ off-heapï¼Œä½† 435MB è¿œä¸è¶³ä»¥è§£é‡Šé‚£ 3.45GB çš„â€œå‡ å MB å—â€é›†åˆ ï¼Œæ›´æ”¯æŒâ€œæœ‰ NMT ä¹‹å¤–çš„ native åˆ†é…æ¥æºâ€ã€‚</span>
4) ä¼˜å…ˆçº§æœ€é«˜çš„å»ºè®®ï¼ˆå…ˆæ­¢è¡€ï¼Œå†å®šä½ï¼‰

<span class="hljs-deletion">- å…ˆç»™éå †ç•™è¶³ç©ºé—´ ï¼šä½ å½“å‰å †å‡ ä¹é¡¶åˆ° Xmx=12g å¹¶å¸¸é©»ï¼ŒRSS åŸºçº¿å¾ˆé«˜ã€‚è‹¥å®¹å™¨å†…å­˜å‘Šè­¦é˜ˆå€¼ç´§ï¼Œä¼˜å…ˆæŠŠ -Xmx ä¸‹è°ƒï¼ˆä¾‹å¦‚ 12g â†’ 8~10gï¼‰ï¼Œé¿å…â€œå †+éå †â€å åŠ æŠŠ RSS é¡¶ç©¿ã€‚</span>
<span class="hljs-deletion">- é™åˆ¶ Direct/Off-heap ä¸Šé™ ï¼šå¦‚æœåº”ç”¨ä½¿ç”¨ NIO/Netty/å¤§å—ç¼“å†²ï¼Œå¢åŠ ç¡¬ä¸Šé™æœ‰ç«‹ç«¿è§å½±æ•ˆæœï¼š</span>
  - -XX:MaxDirectMemorySize=&lt;size&gt; ï¼ˆæŒ‰ä¸šåŠ¡è°ƒåˆ° 512m/1g/2g ç­‰ï¼‰
<span class="hljs-deletion">- æŠ‘åˆ¶ glibc arena è†¨èƒ€ï¼ˆå¤šçº¿ç¨‹å¼ºç›¸å…³ï¼‰ ï¼šåœ¨å®¹å™¨ç¯å¢ƒå˜é‡é‡ŒåŠ ï¼š</span>
  - MALLOC_ARENA_MAX=2 ï¼ˆæˆ– 4ï¼‰ å¸¸è§æ•ˆæœæ˜¯æ˜¾è‘—é™ä½â€œåŒ¿åå‡ å MB å—â€çš„å †ç§¯ï¼ˆä»£ä»·æ˜¯æ›´é«˜ malloc ç«äº‰ï¼Œéœ€è¦å‹æµ‹è¯„ä¼°ï¼‰ã€‚
<span class="hljs-deletion">- é™ä½çº¿ç¨‹æ•°/çº¿ç¨‹æ± è§„æ¨¡ ï¼š Threads=354 æœ¬èº«å°±å¸¦æ¥å¯è§‚ stack + allocator è¡Œä¸ºæ”¾å¤§ï¼›é‡ç‚¹çœ‹ tomcat maxThreads ã€å„ç±»ä¸šåŠ¡çº¿ç¨‹æ± ã€å¼‚æ­¥æ¡†æ¶é»˜è®¤çº¿ç¨‹æ•°ã€‚</span>
5) ä¸ºäº†æŠŠâ€œé‚£ 77 ä¸ª 45~70MB åŒ¿åå—â€ç²¾ç¡®å½’å› ï¼ˆä¸‹ä¸€æ­¥ä½ è¯¥è¡¥çš„æœ€å…³é”®æ•°æ®ï¼‰ ä½ ç°åœ¨çš„ pmap åªèƒ½çœ‹åˆ° [ anon ] ï¼Œçœ‹ä¸åˆ°æ›´ç»†çš„å½’å±ã€‚å»ºè®®åœ¨å®¹å™¨é‡Œè¡¥ä¸€æ¡å°±èƒ½å®šæ€§å¾ˆå¤šï¼š

<span class="hljs-deletion">- /proc/6/smaps_rollup ï¼ˆçœ‹ Anonã€Fileã€Swapã€KernelPageSize æ±‡æ€»ï¼‰</span>
<span class="hljs-deletion">- æˆ– /proc/6/smaps ï¼ˆèƒ½æŒ‰æ®µçœ‹åˆ° Size/Rss/Pss/Private_Dirty/VmFlags ï¼Œä¾¿äºç¡®è®¤è¿™äº›å‡ å MB æ®µæ˜¯ä¸æ˜¯å…¸å‹ malloc mmap å—ã€æ˜¯å¦å¸¦ mr/rd/ex ç­‰ç‰¹å¾ï¼‰</span>
æ‹¿åˆ° smaps(_rollup) åï¼ŒåŸºæœ¬å¯ä»¥åˆ¤æ–­è¿™æ˜¯ï¼š

<span class="hljs-deletion">- JNI/æŸ native åº“çš„åŒ¿å mmap å¤§å—</span>
<span class="hljs-deletion">- è¿˜æ˜¯ malloc arena/ç¢ç‰‡å‹ä¿ç•™ï¼ˆé€šå¸¸èƒ½çœ‹åˆ°å¤§é‡åŒ¿åæ®µä¸”æ¨¡å¼å¾ˆåƒï¼‰</span>
å¦‚æœä½ æŠŠ smaps_rollup å’Œ smaps é‡ŒåŒ…å«é‚£å‡ ä¸ª 45~70MB æ®µçš„ç‰‡æ®µå†è´´å‡ºæ¥ï¼Œæˆ‘å¯ä»¥æŠŠâ€œå·®çš„è¿™ 4GB+â€è¿›ä¸€æ­¥å®šä½åˆ°æ›´å…·ä½“çš„æ¥æºä¸å¯¹åº”ä¼˜åŒ–æ‰‹æ®µã€‚


# ç¬¬äºŒæ¬¡æç¤ºè¯è¾“å‡º
å½’å› ç»“è®ºï¼ˆåŸºäº smaps çš„ç²¾ç¡®è¯æ®ï¼‰

<span class="hljs-deletion">- ä½ è¯´çš„â€œé‚£ 77 ä¸ª 45~70MB åŒ¿åå—â€ï¼Œåœ¨ smaps é‡Œå®é™…å¯¹åº” 78 æ®µ ï¼ˆå…¶ä¸­ 77 æ®µ rw-p çœŸæ­£é©»ç•™ ï¼Œå¦ 1 æ®µ ---p åŸºæœ¬æ˜¯ä¿æŠ¤/é¢„ç•™æ®µ ï¼‰ã€‚</span>
<span class="hljs-deletion">- è¿™äº›æ®µçš„ç‰¹å¾é«˜åº¦ä¸€è‡´ï¼š* æ— æ–‡ä»¶è·¯å¾„ï¼ˆname ä¸ºç©ºï¼‰+ å…¨ç§æœ‰ï¼ˆShared_ ä¸º 0ï¼‰+ å‡ ä¹å…¨æ˜¯ Private_Dirty + ä¸å¸¦ gdï¼ˆéæ ˆï¼‰+ VmFlags ç»å¤§å¤šæ•°ä¸º rd wr mr mp me nr sd **ã€‚</span>
<span class="hljs-deletion">- è¿™ç±»â€œå¤šæ®µã€æ¯æ®µçº¦ 50~64MBã€åŒ¿åç§æœ‰è„é¡µã€VmFlags å¸¦ nr (MAP_NORESERVE)â€çš„å½¢æ€ï¼Œå…¸å‹å°±æ˜¯ glibc ptmalloc çš„å¤š arenaï¼ˆmalloc arenas / heapsï¼‰é€šè¿‡ mmap æ‰©å‡ºæ¥çš„å¤§å— arena heap ã€‚ æ¢å¥è¯è¯´ï¼šè¿™äº›å¤§å—ä¸»è¦æ˜¯ C åˆ†é…å™¨ï¼ˆglibc mallocï¼‰å±‚é¢çš„ arena å†…å­˜ä¸ç¢ç‰‡/ç¼“å­˜ ï¼Œè€Œä¸æ˜¯ Java å †ã€ä¹Ÿä¸æ˜¯çº¿ç¨‹æ ˆã€‚</span>
smaps é‡Œèƒ½ç›´æ¥å¯¹ä¸Šçš„å…³é”®æ•°å­—

<span class="hljs-deletion">- 45~70MB åŒ¿åå€™é€‰æ®µï¼š candidates_45_70MB = 78 ï¼Œä¸” candidates_anon_name_empty_or_anon = 78</span>
<span class="hljs-deletion">- æ±‡æ€»ï¼ˆå•ä½ kBï¼‰ï¼š</span>
  - sum Size = 4,123,664 kB ï¼ˆâ‰ˆ 3.93GiBï¼ŒåŒ…å« 1 æ®µ ---p é¢„ç•™ï¼‰
  - sum Rss = 3,723,736 kB ï¼ˆâ‰ˆ 3.55GiBï¼‰
  - sum Private_Dirty = 3,723,736 kB ï¼Œ Shared_Clean/Dirty = 0 ï¼Œ AnonHugePages = 0
<span class="hljs-deletion">- æƒé™ä¸æ ‡å¿—ï¼š</span>
  - perms : rw-p 77 æ®µ ï¼Œ ---p 1 æ®µ
  - VmFlags ï¼š 76 æ®µ ä¸º rd wr mr mp me nr sd ï¼ˆå¸¦ nr ï¼Œéå¸¸åƒ malloc arena çš„ mmap è¡Œä¸ºï¼‰
  - has_gd_count = 0 ï¼šæ˜ç¡®æ’é™¤â€œçº¿ç¨‹æ ˆ grow-downâ€ä¸€ç±»æ¥æº
å¹¶ä¸”è¿™äº›æ®µçš„èµ·å§‹åœ°å€å¤§é‡å‡ºç°åœ¨ç±»ä¼¼ 0x7f6100000000 ã€ 0x7f6134000000 è¿™ç§å¤§æ­¥é•¿è¾¹ç•Œä¸Šï¼Œç¬¦åˆ â€œarena heap æŒ‰å¤§ç²’åº¦ mmap å‡ºæ¥â€ çš„å¸ƒå±€ç‰¹å¾ã€‚

æ‰€ä»¥â€œç²¾ç¡®å½’å› â€æ˜¯ä»€ä¹ˆ

<span class="hljs-deletion">- è¿™ 77 ä¸ªï¼ˆsmaps è§†è§’ 77 ä¸ª rw-p ï¼‰åŒ¿åå¤§å— = glibc malloc çš„å¤š arena å †æ®µï¼ˆper-thread/per-core arenasï¼‰</span>
<span class="hljs-deletion">- æ ¹å› è§¦å‘æ¡ä»¶é€šå¸¸æ˜¯ï¼š çº¿ç¨‹æ•°å¤š + native åˆ†é…é¢‘ç¹ï¼ˆJVM è‡ªèº« + JNI/ä¸‰æ–¹ so/SDK + å¯èƒ½çš„ DirectBuffer ç›¸å…³ native è·¯å¾„ï¼‰ ï¼Œå¯¼è‡´ ptmalloc åˆ›å»º/æ‰©å¼ å¤§é‡ arenaï¼Œå¹¶æŠŠå†…å­˜é•¿æœŸç•™åœ¨ arena ä¸­ä¸å½’è¿˜ OSï¼Œä»è€Œæ¨é«˜ RSSã€‚</span>
<span class="hljs-deletion">- è¿™ä¹Ÿè§£é‡Šäº†ä½ ä¹‹å‰çš„ç°è±¡ï¼š RSS æ¯” jcmd NMT çš„ committed æ˜æ˜¾é«˜ â€”â€” å› ä¸ºè¿™éƒ¨åˆ†ä¸»è¦å‘ç”Ÿåœ¨ HotSpot NMT ç»Ÿè®¡èŒƒå›´ä¹‹å¤–çš„ glibc åˆ†é…å™¨å±‚ ï¼ˆä»¥åŠç”±ç¢ç‰‡/ç¼“å­˜é€ æˆçš„é©»ç•™æ”¾å¤§ï¼‰ã€‚</span>
å¯è½åœ°çš„å‹åˆ¶æ‰‹æ®µï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰

<span class="hljs-deletion">- ç›´æ¥æŠ‘åˆ¶ arena æ•°é‡ï¼ˆå®¹å™¨ç¯å¢ƒå˜é‡ï¼‰ï¼š MALLOC_ARENA_MAX=2 ï¼ˆæˆ– 4ï¼‰ï¼Œé€šå¸¸å¯¹è¿™ç±» 50~64MB åŒ¿åå—â€œæ•°é‡/æ€»é‡â€ç«‹ç«¿è§å½±ã€‚</span>
<span class="hljs-deletion">- é™çº¿ç¨‹æ•°ä¸çº¿ç¨‹æ± è§„æ¨¡ï¼ˆä½ è¿›ç¨‹ Threads=354ï¼Œæœ¬èº«å°±æ˜¯ arena è†¨èƒ€æ¸©åºŠï¼‰ï¼šé‡ç‚¹æ£€æŸ¥ tomcat/maxThreadsã€å„ä¸šåŠ¡çº¿ç¨‹æ± ã€å¼‚æ­¥æ¡†æ¶é»˜è®¤çº¿ç¨‹æ•°ã€‚</span>
<span class="hljs-deletion">- å¦‚æœå…è®¸æ›´æ¢åˆ†é…å™¨ï¼šé¢„åŠ è½½ jemalloc/tcmalloc ï¼ˆåœ¨é«˜å¹¶å‘å¤šçº¿ç¨‹ä¸‹æ›´å®¹æ˜“æ§åˆ¶ç¢ç‰‡ä¸å½’è¿˜ï¼‰ï¼Œé€šå¸¸ä¹Ÿèƒ½æ˜æ˜¾å‹ RSSã€‚</span>
<span class="hljs-deletion">- ä½œä¸ºé…å¥—æ­¢è¡€ï¼šé€‚å½“ä¸‹è°ƒ -Xmx ç»™éå †ç•™ç©ºé—´ï¼Œé¿å…â€œå †æ¥è¿‘ Xmx å¸¸é©» + arena å¸¸é©»â€å åŠ æŠŠ RSS é¡¶ç©¿ã€‚</span>
å¦‚æœä½ å¸Œæœ›æˆ‘æŠŠè¿™ 77 æ®µåœ¨ smaps é‡Œé€æ®µåˆ—å‡ºæ¥ï¼ˆåœ°å€èŒƒå›´ã€Size/Rss/Private_Dirtyã€VmFlagsï¼Œå¹¶æ ‡å‡ºå“ª 1 æ®µæ˜¯ ---p ï¼‰ï¼Œæˆ‘å¯ä»¥ç›´æ¥æŒ‰åŒæ ·å£å¾„æŠŠæ¸…å•å¯¼å‡ºæˆä¸€å¼ æ±‡æ€»è¡¨ã€‚

</code></pre>
<h4 data-id="heading-10">2.2.2 Gemini-3-Pro-Preview(200K)</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š3åˆ†é’Ÿå·¦å³
ç»“è®ºï¼šç¬¬ä¸€è½®æç¤ºè¯ç›´æ¥ç»™å‡ºäº†æ­£ç¡®çš„åˆ†æç»“æœï¼Œä¸éœ€è¦smapsä¿¡æ¯æ”¯æ’‘ã€‚</p>
</blockquote>
<pre><code class="hljs language-diff" lang="diff">
æ ¹æ®æä¾›çš„è¯Šæ–­ä¿¡æ¯ï¼Œç»è¿‡æ·±å…¥åˆ†æï¼ŒJVM Docker å®¹å™¨å®ä¾‹ RSS è¿‡é«˜çš„ä¸»è¦åŸå› æ˜¯ Glibc Malloc Arena å¯¼è‡´çš„å†…å­˜ç¢ç‰‡å’Œé¢å¤–å ç”¨ ã€‚

ä»¥ä¸‹æ˜¯è¯¦ç»†çš„åˆ†ææŠ¥å‘Šå’Œä¼˜åŒ–å»ºè®®ï¼š

### 1. æ ¸å¿ƒç»“è®º
<span class="hljs-deletion">- RSS æ€»å ç”¨ : çº¦ 18.5 GiB ã€‚</span>
<span class="hljs-deletion">- JVM å·²çŸ¥å ç”¨ (NMT) : çº¦ 14.3 GiB (åŒ…æ‹¬ Heap, Metaspace, Threads, CodeCache ç­‰)ã€‚</span>
<span class="hljs-deletion">- æœªè§£é‡Šçš„å†…å­˜ç¼ºå£ : çº¦ 4.2 GiB ã€‚</span>
<span class="hljs-deletion">- æ ¹å› å®šä½ : é€šè¿‡åˆ†æ pmap å†…å­˜æ˜ å°„ï¼Œå‘ç°äº† 115 ä¸ª å¤§å°åœ¨ 40MB åˆ° 64MB ä¹‹é—´çš„å†…å­˜å—ï¼Œæ€»è®¡çº¦ 5.4 GiB ã€‚è¿™äº›æ˜¯å…¸å‹çš„ Glibc Malloc Arena å†…å­˜æ± ã€‚ç”±äº Java è¿›ç¨‹ï¼ˆé€šè¿‡ JNI æˆ– Native åº“ï¼‰é¢‘ç¹è¿›è¡Œæœ¬åœ°å†…å­˜åˆ†é…ï¼Œå¯¼è‡´ Glibc åˆ›å»ºäº†å¤§é‡ Arenaï¼Œé€ æˆäº†æ˜¾è‘—çš„å†…å­˜å ç”¨å’Œç¢ç‰‡ã€‚</span>
### 2. è¯¦ç»†æ•°æ®åˆ†æ A. å®¹å™¨ä¸è¿›ç¨‹å†…å­˜æ¦‚è§ˆ
<span class="hljs-deletion">- memory.stat : å®¹å™¨æ€» RSS ä¸º 19911905280 å­—èŠ‚ ( ~18.5 GiB )ï¼Œå…¶ä¸­ç»å¤§éƒ¨åˆ†æ˜¯ active_anon (æ´»è·ƒåŒ¿åå†…å­˜)ï¼Œè¯´æ˜ä¸æ˜¯æ–‡ä»¶ç¼“å­˜ï¼Œè€Œæ˜¯å®å®åœ¨åœ¨çš„å †æ ˆ/æœ¬åœ°å†…å­˜ã€‚</span>
<span class="hljs-deletion">- proc-status : Java è¿›ç¨‹ (PID 6) çš„ VmRSS ä¸º 18850900 kB ( ~18.0 GiB )ï¼Œç¡®è®¤ Java è¿›ç¨‹æ˜¯å†…å­˜æ¶ˆè€—çš„ç»å¯¹ä¸»ä½“ã€‚</span>
<span class="hljs-deletion">- CPU æ ¸æ•° : Cpus_allowed_list: 0-15 æ˜¾ç¤ºå®¹å™¨å¯è§ 16 ä¸ª CPU æ ¸å¿ƒ ã€‚ B. JVM å†…éƒ¨å†…å­˜åˆ†å¸ƒ (NMT)</span>
æ ¹æ® jcmd-detail çš„æŠ¥å‘Šï¼ŒJVM è‡ªèº«ç®¡ç†å’Œ Committed çš„å†…å­˜å¦‚ä¸‹ï¼š

<span class="hljs-deletion">- Java Heap : 12.0 GiB (Reserved 12288MB, Committed 12273MB)</span>
<span class="hljs-deletion">- Metaspace (Class) : ~0.6 GiB (Committed 649MB)</span>
<span class="hljs-deletion">- Thread Stacks : ~0.35 GiB (354 ä¸ªçº¿ç¨‹)</span>
<span class="hljs-deletion">- Internal/Code/GC : ~1.3 GiB</span>
<span class="hljs-deletion">- NMT Total Committed : 14620 MB (~14.3 GiB) C. å†…å­˜ç¼ºå£æŒ–æ˜ (The "Missing" 4GB)</span>
OS RSS (18.5 GiB) - JVM NMT (14.3 GiB) = ~4.2 GiB è¿™ 4.2 GiB çš„å†…å­˜ä¸åœ¨ JVM çš„å¸¸è§„ç®¡ç†èŒƒå›´å†…ï¼ˆå †ã€å…ƒç©ºé—´ç­‰ï¼‰ï¼Œé€šå¸¸å±äº Native Memory (å †å¤–å†…å­˜) ã€‚
 D. Pmap å†…å­˜æ˜ å°„åˆ†æ (å…³é”®è¯æ®)
é€šè¿‡åˆ†æ pmap.txt ï¼Œæˆ‘ä»¬å‘ç°äº†å¤§é‡çš„åŒ¿åå†…å­˜å—ï¼ˆ [ anon ] ï¼‰ï¼Œå…¶å¤§å°ç‰¹å¾éå¸¸ç¬¦åˆ Glibc çš„ Malloc Arena è¡Œä¸ºï¼š

<span class="hljs-deletion">- åœ¨ Linux 64ä½ç³»ç»Ÿä¸Šï¼ŒGlibc é»˜è®¤æ¯ä¸ª Arena æœ€å¤§çº¦ä¸º 64MBã€‚</span>
<span class="hljs-deletion">- æœ€å¤§ Arena æ•°é‡é»˜è®¤ä¸º 8 * Cores ã€‚å¯¹äº 16 æ ¸æœºå™¨ï¼Œä¸Šé™æ˜¯ 128 ä¸ªã€‚</span>
<span class="hljs-deletion">- ç»Ÿè®¡ç»“æœ : åœ¨ pmap ä¸­ï¼Œå¤§å°åœ¨ 40MB åˆ° 65MB ä¹‹é—´çš„å†…å­˜å—æœ‰ 115 ä¸ª ï¼Œæ€»å¤§å°çº¦ä¸º 5.4 GiB ã€‚</span>
<span class="hljs-deletion">- è¿™äº›å—çš„æ•°é‡ (115) æ¥è¿‘ç†è®ºä¸Šé™ (128)ï¼Œä¸”æ€»å¤§å° (5.4 GiB) å®Œç¾è§£é‡Šäº† NMT ä¹‹å¤–çš„å†…å­˜ç¼ºå£ï¼ˆè€ƒè™‘åˆ° Arena å†…éƒ¨å¯èƒ½æœ‰æœªä½¿ç”¨çš„ç©ºé—´ï¼ŒRSS ä¼šç•¥å°äº Reserved Sizeï¼Œä¸ 4.2 GiB çš„ç¼ºå£å»åˆï¼‰ã€‚</span>
### 3. ä¼˜åŒ–å»ºè®®
ä¸ºäº†é™ä½ RSS å ç”¨ï¼Œå»ºè®®é™åˆ¶ Glibc çš„ Malloc Arena æ•°é‡ã€‚
 æ–¹æ¡ˆï¼šè®¾ç½®ç¯å¢ƒå˜é‡ MALLOC_ARENA_MAX
åœ¨ Docker å®¹å™¨çš„ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š


ENVÂ MALLOC_ARENA_MAX=2

æˆ–è€…åœ¨å¯åŠ¨å‘½ä»¤ä¸­æ·»åŠ ï¼š


exportÂ MALLOC_ARENA_MAX=2

<span class="hljs-deletion">- åŸç† : è¿™å°†é™åˆ¶ Glibc ç»´æŠ¤çš„å†…å­˜æ± æ•°é‡ã€‚è™½ç„¶å¯èƒ½ä¼šåœ¨æé«˜å¹¶å‘çš„æœ¬åœ°å†…å­˜åˆ†é…åœºæ™¯ä¸‹é€ æˆè½»å¾®çš„é”ç«äº‰ï¼Œä½†å¯¹äºå¤§å¤šæ•° Java åº”ç”¨æ¥è¯´ï¼Œæ€§èƒ½å½±å“å¾®ä¹å…¶å¾®ï¼Œå´èƒ½ æ˜¾è‘—é™ä½æ•° GB çš„ RSS å†…å­˜å ç”¨ ã€‚</span>
<span class="hljs-deletion">- é¢„æœŸæ•ˆæœ : é¢„è®¡å¯ä»¥é‡Šæ”¾ 2GB - 4GB çš„å†…å­˜ã€‚ å…¶ä»–å»ºè®®</span>
<span class="hljs-deletion">- æ£€æŸ¥ Native åº“ : å¦‚æœåº”ç”¨ä½¿ç”¨äº†å¤§é‡çš„ JNI è°ƒç”¨ã€è§£å‹ç¼©åº“ï¼ˆå¦‚ Zip/GZipï¼‰ã€XML è§£ææˆ– Netty Direct Bufferï¼ˆå¦‚æœæœªæ± åŒ–ï¼‰ï¼Œå®ƒä»¬éƒ½ä¼šåŠ å‰§ Malloc çš„å‹åŠ›ã€‚é™åˆ¶ Arena æ˜¯é€šç”¨çš„ç¼“è§£æ‰‹æ®µã€‚</span>
<span class="hljs-deletion">- å‡çº§åŸºç¡€é•œåƒ : å¦‚æœå¯èƒ½ï¼Œä½¿ç”¨åŸºäº musl libc çš„é•œåƒï¼ˆå¦‚ Alpine Linuxï¼‰ï¼Œå› ä¸º musl çš„å†…å­˜åˆ†é…å™¨è¡Œä¸ºä¸åŒï¼Œé€šå¸¸ä¸ä¼šäº§ç”Ÿè¿™ç§ç¢ç‰‡é—®é¢˜ï¼ˆä½†è¦æ³¨æ„å…¼å®¹æ€§ï¼‰ã€‚å¦‚æœå¿…é¡»ç”¨ glibcï¼ˆå¦‚ CentOS/Debianï¼‰ï¼Œåˆ™ä¸Šè¿°ç¯å¢ƒå˜é‡æ˜¯æœ€ä½³å®è·µã€‚</span>
</code></pre>
<h4 data-id="heading-11">2.2.3 DeepSeekV3.1</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š6åˆ†é’Ÿå·¦å³
ç»“è®ºï¼šç¬¬ä¸€è½®æç¤ºè¯æœªèƒ½å‡†ç¡®å®šä½é—®é¢˜ï¼›ç¬¬äºŒè½®å¼•å¯¼åèƒ½æ­£ç¡®å®šä½åˆ°é—®é¢˜ï¼Œå¹¶ä¸”ç»™å‡ºäº†2ç§æ–¹æ¡ˆ</p>
<ol>
<li>glibc mallocä¼˜åŒ–</li>
<li>ä½¿ç”¨jemallocæ›¿ä»£</li>
</ol>
</blockquote>
<pre><code class="hljs language-markdown" lang="markdown">åŸºäºå¯¹æ‚¨æä¾›çš„æ–‡ä»¶åˆ†æï¼Œæˆ‘æ¥è¯¦ç»†åˆ†æJVMå®¹å™¨RSSè¿‡é«˜çš„åŸå› ï¼š

<span class="hljs-section">## ğŸ“Š å½“å‰å†…å­˜ä½¿ç”¨æƒ…å†µåˆ†æ</span>
<span class="hljs-section">### 1. æ ¸å¿ƒå†…å­˜æŒ‡æ ‡</span>
<span class="hljs-bullet">-</span> RSS (Resident Set Size): 18.0GB (æ¥è‡ªtop -m)
<span class="hljs-bullet">-</span> VmRSS: 18.85GB (æ¥è‡ªproc-status)
<span class="hljs-bullet">-</span> Java Heap: 12GB (å·²æäº¤12.2GB)
<span class="hljs-bullet">-</span> Native Memory: 14.6GB (å·²æäº¤)
<span class="hljs-section">### 2. ä¸»è¦é—®é¢˜è¯†åˆ« ğŸ” å †å†…å­˜é…ç½®é—®é¢˜</span>
<span class="hljs-bullet">-</span> Xmxè®¾ç½®è¿‡é«˜: -Xmx12288m (12GB) ä½†å®é™…RSSè¾¾åˆ°18GB+
<span class="hljs-bullet">-</span> å †å¤–å†…å­˜å ç”¨è¿‡å¤§: Native Memoryå ç”¨14.6GBï¼Œè¿œè¶…æ­£å¸¸èŒƒå›´ ğŸ” Native Memoryè¯¦ç»†åˆ†æ
ä»jcmdè¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼š

<span class="hljs-bullet">-</span> Internalå†…å­˜: 557MB (mallocåˆ†é…)
<span class="hljs-bullet">-</span> GCç›¸å…³å†…å­˜: 465MB
<span class="hljs-bullet">-</span> Threadæ ˆå†…å­˜: 354MB (354ä¸ªçº¿ç¨‹)
<span class="hljs-bullet">-</span> Codeç¼“å­˜: 231MB
<span class="hljs-bullet">-</span> Classå…ƒæ•°æ®: 649MB
<span class="hljs-bullet">-</span> Symbolè¡¨: 68MB ğŸ” pmapæ˜¾ç¤ºçš„å†…å­˜æ˜ å°„é—®é¢˜
å¤§é‡2MBçš„åŒ¿åå†…å­˜æ˜ å°„å—ï¼Œè¿™è¡¨æ˜ï¼š

<span class="hljs-bullet">-</span> å¯èƒ½å­˜åœ¨å†…å­˜ç¢ç‰‡åŒ–
<span class="hljs-bullet">-</span> å¤§é‡çº¿ç¨‹æ ˆåˆ†é…
<span class="hljs-bullet">-</span> å¯èƒ½çš„nativeåº“å†…å­˜æ³„æ¼
<span class="hljs-section">## ğŸ¯ RSSè¿‡é«˜æ ¹æœ¬åŸå› </span>
<span class="hljs-bullet">1.</span> å †å†…å­˜ä¸å †å¤–å†…å­˜åŒé‡å‹åŠ›
   
<span class="hljs-bullet">   -</span> 12GBå †å†…å­˜ + 14.6GBå †å¤–å†…å­˜ = æ€»å†…å­˜26.6GB
<span class="hljs-bullet">   -</span> å®é™…RSS 18GBåæ˜ çš„æ˜¯ç‰©ç†å†…å­˜å ç”¨
<span class="hljs-bullet">2.</span> çº¿ç¨‹æ•°é‡è¿‡å¤š
   
<span class="hljs-bullet">   -</span> 354ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹é»˜è®¤1MBæ ˆç©ºé—´
<span class="hljs-bullet">   -</span> çº¿ç¨‹æ ˆæ€»å ç”¨çº¦354MB
<span class="hljs-bullet">3.</span> å¯èƒ½çš„nativeå†…å­˜æ³„æ¼
   
<span class="hljs-bullet">   -</span> Internaléƒ¨åˆ†çš„557MB mallocåˆ†é…å¼‚å¸¸åé«˜
<span class="hljs-bullet">   -</span> å¤§é‡é‡å¤çš„2MBå†…å­˜æ˜ å°„å—
<span class="hljs-code">     
     
## ğŸ’¡ ä¼˜åŒ–å»ºè®®
### 1. ç«‹å³è°ƒæ•´JVMå‚æ•°
</span>
<span class="hljs-section">#Â å‡å°‘å †å†…å­˜å¤§å°</span>
-Xmx8192mÂ -Xms2048m

<span class="hljs-section">#Â ä¼˜åŒ–å…ƒç©ºé—´</span>
-XX:MetaspaceSize=256MÂ -XX:MaxMetaspaceSize=512M

<span class="hljs-section">#Â å‡å°‘çº¿ç¨‹æ ˆå¤§å°Â Â </span>
-XX:ThreadStackSize=256k

<span class="hljs-section">#Â å¯ç”¨NativeÂ MemoryÂ Trackingç›‘æ§</span>
-XX:NativeMemoryTracking=detail

<span class="hljs-section">### 2. çº¿ç¨‹æ± ä¼˜åŒ–</span>
<span class="hljs-bullet">-</span> æ£€æŸ¥åº”ç”¨ä»£ç ä¸­çš„çº¿ç¨‹æ± é…ç½®
<span class="hljs-bullet">-</span> å‡å°‘ä¸å¿…è¦çš„çº¿ç¨‹åˆ›å»º
<span class="hljs-bullet">-</span> ä½¿ç”¨åˆç†çš„çº¿ç¨‹æ± å¤§å°
<span class="hljs-section">### 3. å†…å­˜æ³„æ¼æ’æŸ¥</span>

<span class="hljs-section">#Â å®šæœŸæ‰§è¡Œjcmdç›‘æ§</span>
jcmdÂ <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">pid</span>&gt;</span></span>Â VM.native<span class="hljs-emphasis">_memoryÂ summary
jcmdÂ <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">pid</span>&gt;</span></span>Â VM.native_</span>memoryÂ detail.diff

<span class="hljs-section">### 4. å®¹å™¨èµ„æºé™åˆ¶</span>

<span class="hljs-section">#Â Dockerå®¹å™¨èµ„æºé™åˆ¶</span>
resources:
Â Â limits:
Â Â Â Â memory:Â "20Gi"
Â Â requests:
Â Â Â Â memory:Â "16Gi"

<span class="hljs-section">### 5. ç›‘æ§å»ºè®®</span>
<span class="hljs-bullet">-</span> è®¾ç½®RSSæŠ¥è­¦é˜ˆå€¼ï¼ˆå¦‚16GBï¼‰
<span class="hljs-bullet">-</span> ç›‘æ§Native Memoryå¢é•¿è¶‹åŠ¿
<span class="hljs-bullet">-</span> å®šæœŸæ£€æŸ¥çº¿ç¨‹æ•°é‡
<span class="hljs-section">## ğŸ“ˆ é¢„æœŸæ•ˆæœ</span>
é€šè¿‡ä¸Šè¿°ä¼˜åŒ–ï¼Œé¢„è®¡å¯ä»¥å°†RSSä»18GB+é™ä½åˆ°12-14GBèŒƒå›´ï¼Œå‡å°‘çº¦30%çš„å†…å­˜å ç”¨ã€‚

éœ€è¦æˆ‘å¸®æ‚¨å…·ä½“ä¿®æ”¹æŸä¸ªé…ç½®æ–‡ä»¶æˆ–æä¾›æ›´è¯¦ç»†çš„ä¼˜åŒ–æ–¹æ¡ˆå—ï¼Ÿ     
</code></pre>
<ul>
<li>ç¬¬äºŒè½®æç¤ºè¯ï¼Œå°è¯•å¼•å¯¼â€œÂ @smaps ç»“åˆsmapsä¿¡æ¯å’Œjcmd-detailå†è®¤çœŸåˆ†æä¸‹ï¼Œå’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿâ€</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">æ·±åº¦åˆ†æï¼šsmaps vs jcmd-detail
å…³é”®å‘ç°å¯¹æ¯”ï¼š
1. Javaå †å†…å­˜æ˜ å°„

smapsæ˜¾ç¤ºï¼š4f0000000-6f0000000: 8,381MB (8GB) - å®é™…RSS6f0000000-7f0000000: 3,969MB (4GB) - å®é™…RSS  7f0000000-7f5e80000: 96MB - å®é™…RSSjcmd-detailæ˜¾ç¤ºï¼šJava Heap: <span class="hljs-attr">reserved</span>=<span class="hljs-number">12</span>,<span class="hljs-number">288</span>MB, committed=<span class="hljs-number">12</span>,<span class="hljs-number">273</span>MB
é‡è¦å‘ç°ï¼š smapsæ˜¾ç¤ºçš„å †å†…å­˜RSSåªæœ‰12.4GBï¼Œè€Œjcmdæ˜¾ç¤ºå·²æäº¤12.2GBï¼ŒåŸºæœ¬ä¸€è‡´ âœ…

2. çº¿ç¨‹æ ˆå†…å­˜å¯¹æ¯”

smapsæ˜¾ç¤ºï¼šå¤§é‡2MBåŒ¿åæ˜ å°„å—7f5f5972b000-7f5f5992b000: 2MB (é‡å¤å‡ºç°)æ€»è®¡çº¦ï¼š354ä¸ªçº¿ç¨‹ Ã— <span class="hljs-attr">1MB</span> = <span class="hljs-number">354</span>MBjcmd-detailæ˜¾ç¤ºï¼šThread: reserved=<span class="hljs-number">356</span>MB, committed=<span class="hljs-number">356</span>MB
å®Œå…¨ä¸€è‡´ âœ…

3. éJVMå†…å­˜å ç”¨åˆ†æ
ğŸ¯ æ‚¨çš„è§‚ç‚¹å®Œå…¨æ­£ç¡®ï¼
æ ¸å¿ƒå‘ç°ï¼šRSSè¿‡é«˜ç¡®å®ä¸JVMå†…å­˜è®¾ç½®å…³ç³»ä¸å¤§
æ•°æ®å¯¹æ¯”éªŒè¯ï¼š

æ€»RSS (smaps): ~18.5GBJVMæ€»å†…å­˜ (jcmd): 14.6GBå·®å¼‚: ~4GB â—
è¯¦ç»†åˆ†è§£ï¼š
JVMå†…å­˜æ„æˆ (14.6GB):

Java Heap: 12.2GB âœ“
Thread: 0.35GB âœ“
Class: 0.65GB âœ“
Code: 0.23GB âœ“
GC: 0.46GB âœ“
Internal: 0.56GB âœ“
å…¶ä»–: 0.15GB âœ“
éJVMå†…å­˜å ç”¨ (~4GB):

ç³»ç»Ÿåº“ã€å…±äº«åº“æ˜ å°„
glibc mallocåˆ†é…å™¨è‡ªèº«å¼€é”€
æ–‡ä»¶ç¼“å­˜æ˜ å°„
å¯èƒ½çš„nativeåº“å†…å­˜
å…³é”®è¯æ®ï¼š
smapså…³é”®æ®µåˆ†æï¼š- 4f0000000-6f0000000: 8GB (Javaå †1)- 6f0000000-7f0000000: 4GB (Javaå †2) - å¤§é‡2MBåŒ¿åå—: çº¿ç¨‹æ ˆ- å…¶ä»–åŒ¿åæ˜ å°„: ~4GB (éJVM)
çœŸæ­£çš„é—®é¢˜æ ¹æºï¼š
glibc mallocç¢ç‰‡åŒ– - ä¸»è¦å«Œç–‘
nativeåº“å†…å­˜æ³„æ¼ - æ¬¡è¦å«Œç–‘
æ–‡ä»¶æ˜ å°„ç¼“å­˜ - æ­£å¸¸å¼€é”€
ğŸ’¡ é’ˆå¯¹æ€§ä¼˜åŒ–å»ºè®®
éJVMå†…å­˜ä¼˜åŒ–ç­–ç•¥ï¼š
1. glibc mallocä¼˜åŒ–
<span class="hljs-comment"># ç¯å¢ƒå˜é‡è®¾ç½®</span>
export <span class="hljs-attr">MALLOC_ARENA_MAX</span>=<span class="hljs-number">2</span>
export <span class="hljs-attr">MALLOC_MMAP_THRESHOLD_</span>=<span class="hljs-number">131072</span>
export <span class="hljs-attr">MALLOC_TRIM_THRESHOLD_</span>=<span class="hljs-number">131072</span>
export <span class="hljs-attr">MALLOC_TOP_PAD_</span>=<span class="hljs-number">131072</span>
2. ä½¿ç”¨jemallocæ›¿ä»£
<span class="hljs-comment"># Dockerfileä¸­æ·»åŠ </span>
RUN apt-get update &amp;&amp; apt-get install -y libjemalloc-dev
ENV <span class="hljs-attr">LD_PRELOAD</span>=/usr/lib/x<span class="hljs-number">86_64</span>-linux-gnu/libjemalloc.so
3. å®¹å™¨å±‚é¢ä¼˜åŒ–
<span class="hljs-comment"># è®¾ç½®æ›´åˆç†çš„å†…å­˜é™åˆ¶resources:  limits:    memory: "20Gi"  requests:    memory: "16Gi"</span>
4. åº”ç”¨å±‚é¢æ£€æŸ¥
æ£€æŸ¥æ˜¯å¦æœ‰nativeåº“å†…å­˜æ³„æ¼
å‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶æ˜ å°„
ä¼˜åŒ–çº¿ç¨‹æ± é…ç½®
ğŸ“Š ç»“è®º
æ‚¨çš„åˆ¤æ–­å®Œå…¨æ­£ç¡®ï¼RSSè¿‡é«˜ä¸»è¦ä¸æ˜¯JVMå†…å­˜è®¾ç½®é—®é¢˜ï¼Œè€Œæ˜¯ï¼š

çº¦4GBéJVMå†…å­˜å ç”¨ï¼ˆglibcã€nativeåº“ç­‰ï¼‰
JVMå†…å­˜ä½¿ç”¨åŸºæœ¬æ­£å¸¸ï¼ˆ14.6GBä¸­12.2GBæ˜¯å †ï¼‰
éœ€è¦é‡ç‚¹å…³æ³¨mallocå®ç°å’Œnativeåº“
å»ºè®®ä¼˜å…ˆä½¿ç”¨jemallocæ›¿ä»£glibc mallocï¼Œè¿™é€šå¸¸èƒ½è§£å†³å¤§éƒ¨åˆ†RSSè™šé«˜é—®é¢˜ã€‚
</code></pre>
<h4 data-id="heading-12">2.2.4 Kimi-K2-0905</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š3åˆ†é’Ÿå·¦å³
ç»“è®ºï¼šç¬¬ä¸€è½®æç¤ºè¯æœªèƒ½å‡†ç¡®å®šä½é—®é¢˜ï¼Œä½†æ˜¯æœ‰æç¤ºâ€œpmapæ˜¾ç¤ºå¤šä¸ª2MBè¿ç»­å†…å­˜å—â€ï¼›ç¬¬äºŒè½®å¼•å¯¼æ¥è¿‘ç­”æ¡ˆèƒ½æå‡ºâ€œä½¿ç”¨jemallocæ›¿ä»£glibc mallocâ€ã€‚</p>
</blockquote>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">JVM</span> <span class="hljs-title class_">Docker</span>å®¹å™¨<span class="hljs-variable constant_">RSS</span>è¿‡é«˜åˆ†ææŠ¥å‘Š
åŸºäºæ‚¨æä¾›çš„è¯Šæ–­æ–‡ä»¶ï¼Œæˆ‘å·²å®Œæˆå…¨é¢åˆ†æã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„åˆ†æç»“æœå’Œå»ºè®®ï¼š

ğŸ” é—®é¢˜æ¦‚è¿°
<span class="hljs-variable constant_">JVM</span>è¿›ç¨‹ï¼ˆ<span class="hljs-variable constant_">PID</span> <span class="hljs-number">6</span>ï¼‰çš„<span class="hljs-variable constant_">RSS</span>å†…å­˜ä½¿ç”¨å¼‚å¸¸é«˜ï¼Œè¾¾åˆ°çº¦18GBï¼Œè¿œè¶…é¢„æœŸé…ç½®ã€‚

ğŸ“Š å…³é”®æ•°æ®å¯¹æ¯”åˆ†æ
æŒ‡æ ‡	æ•°å€¼	è¯´æ˜
topå‘½ä»¤<span class="hljs-variable constant_">RSS</span>	<span class="hljs-number">18</span>.0GB	å®é™…ç‰©ç†å†…å­˜å ç”¨
<span class="hljs-variable constant_">JVM</span> <span class="hljs-variable constant_">NMT</span> committed	<span class="hljs-number">14</span>.6GB	<span class="hljs-variable constant_">JVM</span>åŸç”Ÿå†…å­˜æäº¤
memory.stat <span class="hljs-variable constant_">RSS</span>	<span class="hljs-number">19</span>.9GB	å®¹å™¨å†…å­˜ç»Ÿè®¡
<span class="hljs-built_in">proc</span>/status <span class="hljs-variable constant_">RSS</span>	<span class="hljs-number">18</span>.8GB	å†…æ ¸ç»Ÿè®¡<span class="hljs-variable constant_">RSS</span>
<span class="hljs-title class_">Xmx</span>é…ç½®	12GB	<span class="hljs-variable constant_">JVM</span>æœ€å¤§å †å†…å­˜
ğŸš¨ æ ¹æœ¬åŸå› åˆ†æ
<span class="hljs-number">1</span>. å †å¤–å†…å­˜æ³„æ¼ï¼ˆä¸»è¦é—®é¢˜ï¼‰
<span class="hljs-variable constant_">JVM</span>å †å†…å­˜ï¼š<span class="hljs-number">12</span>.3GBï¼ˆæ­£å¸¸ï¼Œåœ¨<span class="hljs-title class_">Xmx</span>é™åˆ¶å†…ï¼‰
éå †å†…å­˜ï¼š<span class="hljs-number">2</span>.3GBï¼ˆå¼‚å¸¸é«˜ï¼‰
<span class="hljs-title class_">Class</span>å…ƒæ•°æ®ï¼š649MB
<span class="hljs-title class_">Thread</span>æ ˆï¼š356MBï¼ˆ<span class="hljs-number">354</span>ä¸ªçº¿ç¨‹ï¼‰
<span class="hljs-title class_">Code</span>ç¼“å­˜ï¼š231MB
<span class="hljs-title class_">Internal</span>å†…å­˜ï¼š557MBï¼ˆå¼‚å¸¸ï¼‰
<span class="hljs-variable constant_">GC</span>å†…å­˜ï¼š465MB
<span class="hljs-number">2</span>. å†…å­˜åˆ†é…æ¨¡å¼å¼‚å¸¸
å­˜åœ¨å¤§é‡åŒ¿åå†…å­˜æ˜ å°„ï¼ˆanonï¼‰
pmapæ˜¾ç¤ºå¤šä¸ª2MBè¿ç»­å†…å­˜å—
<span class="hljs-title class_">Internal</span>ç±»åˆ«å†…å­˜å ç”¨557MBï¼Œè¶…å‡ºæ­£å¸¸èŒƒå›´
<span class="hljs-number">3</span>. çº¿ç¨‹æ•°é‡è¿‡å¤š
<span class="hljs-number">354</span>ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ ˆçº¦1MB
å¯èƒ½å­˜åœ¨çº¿ç¨‹æ³„æ¼
ğŸ¯ ä¼˜åŒ–å»ºè®®
ç«‹å³æªæ–½
å¯ç”¨å †å¤–å†…å­˜ç›‘æ§
è¿è¡Œ
-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:NativeMemoryTracking=detail-XX</span><span class="hljs-symbol">:+PrintGCDetails-XX</span><span class="hljs-symbol">:+PrintGCTimeStamps</span>
é™åˆ¶çº¿ç¨‹æ•°é‡



è¿è¡Œ
-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:ParallelGCThreads=</span><span class="hljs-number">8</span>-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:ConcGCThreads=</span><span class="hljs-number">4</span>
è°ƒæ•´<span class="hljs-title class_">Internal</span>å†…å­˜é™åˆ¶

è¿è¡Œ
-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:MaxDirectMemorySize=</span>1g-<span class="hljs-title class_">Dio</span>.netty.maxDirectMemory=1g
ä¸­æœŸä¼˜åŒ–
ä»£ç å±‚é¢æ£€æŸ¥

æ£€æŸ¥<span class="hljs-title class_">DirectByteBuffer</span>ä½¿ç”¨
æ’æŸ¥<span class="hljs-variable constant_">JNI</span>/nativeä»£ç å†…å­˜æ³„æ¼
æ£€æŸ¥çº¿ç¨‹æ± é…ç½®
å®¹å™¨èµ„æºé™åˆ¶

<span class="hljs-title class_">Dockerfile</span>



--memory=20g--memory-reservation=18g
<span class="hljs-variable constant_">GC</span>è°ƒä¼˜

è¿è¡Œ
-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:+UseG1GC-XX</span><span class="hljs-symbol">:MaxGCPauseMillis=</span><span class="hljs-number">200</span>-<span class="hljs-variable constant_">XX</span><span class="hljs-symbol">:G1HeapRegionSize=</span>16m
é•¿æœŸæ–¹æ¡ˆ
å‡çº§<span class="hljs-variable constant_">JDK</span>ç‰ˆæœ¬ï¼ˆå½“å‰<span class="hljs-number">1.8</span>.<span class="hljs-number">0_241</span>è¾ƒè€ï¼‰
ä½¿ç”¨<span class="hljs-variable constant_">JFR</span>æŒç»­ç›‘æ§å†…å­˜åˆ†é…
å®æ–½å†…å­˜æ³„æ¼æ£€æµ‹è‡ªåŠ¨åŒ–
âš¡ ç´§æ€¥å¤„ç†æ­¥éª¤
ç«‹å³æ‰§è¡Œï¼š
è¿è¡Œ
jcmd &lt;pid&gt; <span class="hljs-variable constant_">VM</span>.native_memory baselinejcmd &lt;pid&gt; <span class="hljs-variable constant_">VM</span>.native_memory summary.diff
æ”¶é›†æ›´å¤šæ•°æ®ï¼š
<span class="hljs-title class_">Bash</span>


è¿è¡Œ
jcmd &lt;pid&gt; <span class="hljs-variable constant_">GC</span>.heap_infojcmd &lt;pid&gt; <span class="hljs-title class_">Thread</span>.print
å¦‚æœé—®é¢˜æŒç»­ï¼šè€ƒè™‘é‡å¯å®¹å™¨å¹¶åº”ç”¨ä¸Šè¿°é…ç½®
ğŸ“ˆ ç›‘æ§å»ºè®®
è®¾ç½®<span class="hljs-variable constant_">RSS</span>å†…å­˜å‘Šè­¦é˜ˆå€¼ï¼š15GB
ç›‘æ§<span class="hljs-title class_">Internal</span>å†…å­˜å¢é•¿è¶‹åŠ¿
è·Ÿè¸ªçº¿ç¨‹æ•°é‡å˜åŒ–
ç›‘æ§<span class="hljs-variable constant_">GC</span>é¢‘ç‡å’Œè€—æ—¶
è¿™ç§<span class="hljs-variable constant_">RSS</span>è¿‡é«˜çš„æƒ…å†µé€šå¸¸æ˜¯ç”±äºå †å¤–å†…å­˜æ³„æ¼æˆ–é…ç½®ä¸å½“é€ æˆçš„ã€‚å»ºè®®ä¼˜å…ˆæ£€æŸ¥<span class="hljs-title class_">DirectByteBuffer</span>ä½¿ç”¨å’Œçº¿ç¨‹ç®¡ç†ã€‚

</code></pre>
<ul>
<li>ç¬¬äºŒè½®æç¤ºè¯ï¼Œå°è¯•å¼•å¯¼â€œÂ @smaps ç»“åˆsmapsä¿¡æ¯å’Œjcmd-detailå†è®¤çœŸåˆ†æä¸‹ï¼Œå’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿâ€</li>
</ul>
<pre><code class="hljs language-c" lang="c">
æ·±åº¦åˆ†æç»“æœï¼šæ‚¨è¯´å¾—å¯¹ï¼
åŸºäºsmapså’Œjcmd-detailçš„è¯¦ç»†å¯¹æ¯”åˆ†æï¼Œæˆ‘å‘ç°äº†å…³é”®é—®é¢˜ï¼š

ğŸ“Š æ•°æ®å¯¹æ¯”éªŒè¯
å†…å­˜åŒºåŸŸ	smapsæ˜¾ç¤º	jcmd-detailæ˜¾ç¤º	å·®å¼‚
Java Heap	<span class="hljs-number">12.5</span>GB (<span class="hljs-number">8.4</span>G+<span class="hljs-number">4.0</span>G)	<span class="hljs-number">12.3</span>GB	âœ… åŸºæœ¬ä¸€è‡´
éå †åŒ¿åå†…å­˜	~<span class="hljs-number">6</span>GB (æ•°ç™¾ä¸ª<span class="hljs-number">2</span>MBå—)	<span class="hljs-number">2.3</span>GB	âŒ å·¨å¤§å·®å¼‚
ğŸš¨ å…³é”®å‘ç°
JVMå †å†…å­˜å®Œå…¨æ­£å¸¸

smaps: <span class="hljs-number">12.5</span>GB (<span class="hljs-number">8.4</span>GB + <span class="hljs-number">4.0</span>GB ä¸¤ä¸ªå¤§åŒºåŸŸ)
jcmd-detail: <span class="hljs-number">12.3</span>GB committed
âœ… å·®å¼‚ä»…<span class="hljs-number">200</span>MBï¼Œåœ¨åˆç†èŒƒå›´å†…
éJVMåŸç”Ÿå†…å­˜æ³„æ¼ï¼ˆçœŸæ­£é—®é¢˜ï¼‰

smapsæ˜¾ç¤ºï¼šçº¦<span class="hljs-number">6</span>GBçš„<span class="hljs-number">2</span>MBåŒ¿åå†…å­˜å—
jcmd-detailæ˜¾ç¤ºï¼šä»…<span class="hljs-number">2.3</span>GBéå †å†…å­˜
âŒ <span class="hljs-number">3.7</span>GBå†…å­˜<span class="hljs-string">"æ¶ˆå¤±"</span>äº† - è¿™äº›å†…å­˜ä¸åœ¨JVMç»Ÿè®¡ä¸­
ğŸ”§ é—®é¢˜æ ¹æºç¡®è®¤
PlainText



JVMè§†è§’ï¼ˆjcmd-detailï¼‰:æ€»å†…å­˜ = å †<span class="hljs-number">12.3</span>G + éå †<span class="hljs-number">2.3</span>G = <span class="hljs-number">14.6</span>GBç³»ç»Ÿè§†è§’ï¼ˆsmapsï¼‰:  æ€»å†…å­˜ = å †<span class="hljs-number">12.5</span>G + éå †<span class="hljs-number">6.0</span>G = <span class="hljs-number">18.5</span>GBå·®å¼‚ = <span class="hljs-number">3.9</span>GB â—
ğŸ¯ è¿™ä¸æ˜¯JVMè®¾ç½®é—®é¢˜ï¼
è¯æ®ï¼š

JVMå †å†…å­˜é…ç½®å®Œå…¨æ­£å¸¸ï¼ˆ-Xmx12g å®é™…ä½¿ç”¨<span class="hljs-number">12.3</span>gï¼‰
JVMéå †å†…å­˜ç»Ÿè®¡å®Œæ•´ï¼ˆClassã€Threadã€Codeç­‰éƒ½åœ¨é¢„æœŸèŒƒå›´å†…ï¼‰
<span class="hljs-string">"æ¶ˆå¤±"</span>çš„<span class="hljs-number">3.7</span>GBå†…å­˜æ˜¯JVMæ— æ³•è¿½è¸ªçš„åŸç”Ÿå†…å­˜
ğŸ” çœŸå®åŸå› ï¼šåŸç”Ÿå†…å­˜æ³„æ¼
è¿™äº›<span class="hljs-number">2</span>MBåŒ¿åå†…å­˜å—ç‰¹å¾ï¼š

Private_Dirty: <span class="hljs-number">2048</span>kBï¼ˆå®Œå…¨ç§æœ‰ï¼Œå·²ä¿®æ”¹ï¼‰
Anonymous: <span class="hljs-number">2048</span>kBï¼ˆåŒ¿åæ˜ å°„ï¼Œæ— æ–‡ä»¶å…³è”ï¼‰
rw-pï¼ˆè¯»å†™æƒé™ï¼Œç§æœ‰ï¼‰
åœ°å€èŒƒå›´ï¼š<span class="hljs-number">0x7f5f5</span>xxxxxxxï¼ˆå…¸å‹çš„mmap/<span class="hljs-built_in">malloc</span>åˆ†é…ï¼‰
ğŸ› ï¸ é’ˆå¯¹æ€§è§£å†³æ–¹æ¡ˆ
ç«‹å³æ’æŸ¥ï¼ˆéJVMç›¸å…³ï¼‰
Bash



è¿è¡Œ
# <span class="hljs-number">1.</span> æ£€æŸ¥glibc <span class="hljs-built_in">malloc</span>ç¼“å­˜MALLOC_TRACE=/tmp/trace.<span class="hljs-built_in">log</span> jcmd &lt;pid&gt; VM.native_memory summary# <span class="hljs-number">2.</span> æ£€æŸ¥çº¿ç¨‹æœ¬åœ°å­˜å‚¨pstack <span class="hljs-number">6</span> | grep -c <span class="hljs-string">"pthread"</span># <span class="hljs-number">3.</span> æ£€æŸ¥JNIå¥æŸ„jcmd &lt;pid&gt; VM.native_memory summary | grep <span class="hljs-string">"Internal"</span># <span class="hljs-number">4.</span> æ£€æŸ¥DirectByteBufferæ³„æ¼jcmd &lt;pid&gt; VM.native_memory summary | grep <span class="hljs-string">"Direct"</span>
ä»£ç å±‚é¢æ£€æŸ¥
JNI/nativeä»£ç  - æ£€æŸ¥æ˜¯å¦æœ‰<span class="hljs-built_in">malloc</span>/<span class="hljs-built_in">free</span>ä¸åŒ¹é…
DirectByteBuffer - æ£€æŸ¥æ˜¯å¦æ­£ç¡®ä½¿ç”¨Cleaner
çº¿ç¨‹æœ¬åœ°å­˜å‚¨ - æ£€æŸ¥ThreadLocalæ¸…ç†
ç¬¬ä¸‰æ–¹nativeåº“ - æ£€æŸ¥.soæ–‡ä»¶å†…å­˜ä½¿ç”¨
ç³»ç»Ÿçº§è§£å†³æ–¹æ¡ˆ
Bash



è¿è¡Œ
# ä½¿ç”¨jemallocæ›¿ä»£glibc mallocexport LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libjemalloc.soexport MALLOC_CONF=prof:<span class="hljs-literal">true</span>,lg_prof_sample:<span class="hljs-number">17</span># é™åˆ¶å®¹å™¨å†…å­˜docker run --memory=<span class="hljs-number">20</span>g --memory-reservation=<span class="hljs-number">18</span>g ...
âœ… ç»“è®º
æ‚¨å®Œå…¨æ­£ç¡®ï¼è¿™ä¸æ˜¯JVMå†…å­˜è®¾ç½®çš„é—®é¢˜ã€‚çœŸæ­£çš„ç½ªé­ç¥¸é¦–æ˜¯ï¼š

JVMå¤–éƒ¨çš„åŸç”Ÿå†…å­˜æ³„æ¼ï¼ˆ<span class="hljs-number">3.7</span>GBï¼‰
glibc <span class="hljs-built_in">malloc</span>ç¼“å­˜ï¼ˆå¯èƒ½çš„<span class="hljs-number">2</span>MBå—æ¥æºï¼‰
JNI/nativeä»£ç ä¸­çš„å†…å­˜æ³„æ¼
JVMå†…å­˜è®¾ç½®ï¼ˆ-Xmx, -XX:MaxMetaspaceSizeç­‰ï¼‰å®Œå…¨æ­£å¸¸ï¼Œé—®é¢˜å‡ºåœ¨JVMæ— æ³•è¿½è¸ªçš„åŸç”Ÿå†…å­˜å±‚é¢ã€‚
</code></pre>
<h4 data-id="heading-13">2.2.5 GLM-4.7</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š3åˆ†é’Ÿå·¦å³
ç»“è®ºï¼šç¬¬ä¸€è½®æç¤ºè¯æœªèƒ½å‡†ç¡®å®šä½é—®é¢˜ï¼Œä½†æ˜¯æœ‰æç¤ºâ€œpmapæ˜¾ç¤ºå­˜åœ¨å¤§é‡2MBå¤§å°çš„åŒ¿åå†…å­˜æ˜ å°„â€ï¼›å°è¯•ç¬¬äºŒæ¬¡å¼•å¯¼ä¹Ÿå®šä½å¤±è´¥ã€‚</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæˆ‘å·²ç»å®Œæˆäº†å¯¹JVM dockerå®¹å™¨å®ä¾‹RSSè¿‡é«˜é—®é¢˜çš„è¯¦ç»†åˆ†æã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„åˆ†ææŠ¥å‘Šï¼š

<span class="hljs-comment">## ä¸€ã€å†…å­˜ä½¿ç”¨æ¦‚å†µ</span>
æŒ‡æ ‡ æ•°å€¼ è¯´æ˜ Dockerå®¹å™¨RSS 18.0 GB å®¹å™¨å®é™…ç‰©ç†å†…å­˜å ç”¨ JVM NMT committed 14.3 GB JVMæŠ¥å‘Šçš„å·²æäº¤å†…å­˜ å†…å­˜å·®å¼‚ ~3.7 GB ç³»ç»ŸRSSä¸JVM NMTçš„å·®å€¼ Java Heap 12.0 GB å †å†…å­˜ (<span class="hljs-attr">Xmx</span>=<span class="hljs-number">12288</span>m) å®¹å™¨å†…å­˜é™åˆ¶ <span class="hljs-number">30</span> GB hierarchical_memory_limit

<span class="hljs-comment">## äºŒã€å…³é”®å‘ç°</span>
<span class="hljs-comment">### 1. RSSå¼‚å¸¸é«˜çš„ä¸»è¦åŸå› </span>
å†…å­˜å·®å¼‚åˆ†æ (18.0GB vs <span class="hljs-attr">14.3GB</span> = <span class="hljs-number">3.7</span>GBå·®å¼‚)

æ ¹æ®pmapå’Œjcmdä¿¡æ¯ï¼Œå†…å­˜å·®å¼‚ä¸»è¦æ¥è‡ªä»¥ä¸‹åŸå› ï¼š
 a) GCå†…å­˜ç¢ç‰‡ (~2-3GB)
ä»jcmdçš„Virtual memory mapå¯ä»¥çœ‹åˆ°ï¼š

- **è€å¹´ä»£(Old Gen)**ä½¿ç”¨äº†å¤šä¸ªä¸è¿ç»­çš„å†…å­˜æ®µ
- <span class="hljs-section">[0x0000000545580000 - 0x00000006e1380000]</span> committed 6590MB (æœ€å¤§æ®µ)
- <span class="hljs-section">[0x00000006e1380000 - 0x00000006ecb80000]</span> committed 184MB
- <span class="hljs-section">[0x00000006ecb80000 - 0x00000006f0000000]</span> committed 53MB
- <span class="hljs-section">[0x00000006f0000000 - 0x000000071aa80000]</span> committed 683MB
è€å¹´ä»£æ€»æäº¤é‡çº¦ 8.8GB ï¼Œä½†ç”±äºå†…å­˜ç¢ç‰‡åŒ–ï¼Œå®é™…RSSä¼šæ›´é«˜ã€‚
 b) å¤§é‡åŒ¿åå†…å­˜æ˜ å°„
pmapæ˜¾ç¤ºå­˜åœ¨å¤§é‡2MBå¤§å°çš„åŒ¿åå†…å­˜æ˜ å°„ï¼š


00007f5f5972b000Â Â Â Â 2048Â Â Â Â 2048Â Â Â Â 2048Â Â Â Â Â Â Â 0Â Â rw-pÂ Â Â Â <span class="hljs-section">[Â anonÂ ]</span>
00007f5f5992b000Â Â Â Â 2048Â Â Â Â 2048Â Â Â Â 2048Â Â Â Â Â Â Â 0Â Â rw-pÂ Â Â Â <span class="hljs-section">[Â anonÂ ]</span>
...Â (æ•°ç™¾ä¸ªç±»ä¼¼æ¡ç›®)

è¿™äº›2MBé¡µé€šå¸¸æ˜¯ HugePage (å¤§é¡µ) ï¼ŒJVMåœ¨ä½¿ç”¨ -XX:+UseLargePages æ—¶ä¼šå¯ç”¨ï¼Œä¼šå¢åŠ å†…å­˜å ç”¨ã€‚
 c) çº¿ç¨‹æ ˆå†…å­˜
- çº¿ç¨‹æ•°: 354ä¸ª
- æ¯ä¸ªçº¿ç¨‹æ ˆ: çº¦1MB
- æ€»è®¡: 354MB (ä¸NMTæŠ¥å‘Šçš„356MBä¸€è‡´)
<span class="hljs-comment">### 2. GCç›¸å…³å†…å­˜ä½¿ç”¨</span>
ä»NMTå’ŒVirtual memory mapåˆ†æï¼š

- GCåŒºåŸŸ : 465MB (committed)
- è€å¹´ä»£ å®é™…å ç”¨: çº¦8.8GB (è¿œè¶…é¢„æœŸçš„6GBå·¦å³)
è¿™è¡¨æ˜è€å¹´ä»£å¯èƒ½å­˜åœ¨ å†…å­˜æ³„æ¼ æˆ– å¯¹è±¡æ™‹å‡è¿‡å¤š çš„é—®é¢˜ã€‚

<span class="hljs-comment">### 3. DirectByteBuffer/æœ¬åœ°å†…å­˜</span>
ä»pmapå¯ä»¥çœ‹åˆ°è®¸å¤šJDK nativeåº“çš„å†…å­˜æ˜ å°„ï¼ŒåŒ…æ‹¬ï¼š

- libmlib_image.so (å›¾åƒå¤„ç†)
- libfontmanager.so (å­—ä½“ç®¡ç†)
- libawt.so (AWTå›¾å½¢åº“)
- ä»¥åŠå¤§é‡tencentcloud SDKåº“
è¿™äº›nativeå†…å­˜åˆ†é… ä¸åœ¨JVM NMTè¿½è¸ªèŒƒå›´å†… ï¼Œä½†ä¼šè®¡å…¥RSSã€‚

<span class="hljs-comment">## ä¸‰ã€ä¼˜åŒ–å»ºè®®</span>
<span class="hljs-comment">### çŸ­æœŸä¼˜åŒ– (ç«‹å³ç”Ÿæ•ˆ)</span>
1. è°ƒæ•´å †å†…å­˜å‚æ•°
   

   -Xms12288mÂ -Xmx12288mÂ -XX:<span class="hljs-attr">NewRatio</span>=<span class="hljs-number">2</span>Â -XX:SurvivorRatio=<span class="hljs-number">8</span>

   - å°†Xmsè®¾ç½®ä¸ºä¸Xmxç›¸åŒï¼Œé¿å…å †åŠ¨æ€æ‰©å±•
   - è°ƒæ•´NewRatioå’ŒSurvivorRatioï¼Œå‡å°‘å¯¹è±¡è¿‡æ—©æ™‹å‡åˆ°è€å¹´ä»£
2. å…³é—­HugePage (å¦‚æœå¯ç”¨)
   

   -XX:-UseLargePages
 
   - é¿å…ä½¿ç”¨2MBå¤§é¡µï¼Œå‡å°‘å†…å­˜ç¢ç‰‡
3. å¯ç”¨G1GCæ›¿ä»£ParallelScavenge
   

   -XX:+UseG1GCÂ -XX:<span class="hljs-attr">MaxGCPauseMillis</span>=<span class="hljs-number">200</span>

   - G1GCå¯¹å†…å­˜ç¢ç‰‡ç®¡ç†æ›´å¥½
   - å¯ä»¥é™ä½è€å¹´ä»£çš„å†…å­˜å ç”¨
<span class="hljs-comment">### ä¸­æœŸä¼˜åŒ–</span>
1. åˆ†æè€å¹´ä»£å†…å­˜æ³„æ¼

   jcmdÂ 6Â GC.heap_info
   jcmdÂ 6Â GC.run_finalization
   jmapÂ -histo:liveÂ 6Â |Â headÂ -50

2. é™åˆ¶çº¿ç¨‹æ•°
   
   - æ£€æŸ¥æ˜¯å¦æœ‰çº¿ç¨‹æ³„æ¼
   - è€ƒè™‘ä½¿ç”¨çº¿ç¨‹æ± 
3. ä¼˜åŒ–Nativeå†…å­˜ä½¿ç”¨
   
   - æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†ä¸å¿…è¦çš„DirectByteBuffer
   - å‡å°‘ä¸å¿…è¦çš„nativeåº“åŠ è½½
<span class="hljs-comment">### é•¿æœŸä¼˜åŒ–</span>
1. è€ƒè™‘å®¹å™¨åŒ–æœ€ä½³å®è·µ
   

   -XX:<span class="hljs-attr">MaxRAMPercentage</span>=<span class="hljs-number">75.0</span>

   - åŸºäºå®¹å™¨é™åˆ¶è‡ªåŠ¨è®¡ç®—å †å¤§å°
   - é¿å…ç¡¬ç¼–ç -Xmx
2. ç›‘æ§å‘Šè­¦
   
   - è®¾ç½®è€å¹´ä»£ä½¿ç”¨ç‡å‘Šè­¦ (&gt;80%)
   - ç›‘æ§RSSå’ŒNMTçš„å·®å¼‚ (&gt;2GB)
<span class="hljs-comment">## å››ã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨</span>
å»ºè®®æ‚¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è·å–æ›´è¯¦ç»†çš„è¯Šæ–­ä¿¡æ¯ï¼š


<span class="hljs-comment">#Â è·å–è€å¹´ä»£è¯¦ç»†ä¿¡æ¯</span>
jcmdÂ 6Â GC.heap_info

<span class="hljs-comment">#Â è·å–å †ç›´æ–¹å›¾</span>
jmapÂ -histo:liveÂ 6Â |Â headÂ -100

<span class="hljs-comment">#Â æŸ¥çœ‹GCæ—¥å¿—</span>
jcmdÂ 6Â GC.run

<span class="hljs-comment">#Â æŸ¥çœ‹çº¿ç¨‹ä¿¡æ¯</span>
jstackÂ 6Â &gt;Â thread_dump.txt

éœ€è¦æˆ‘å¸®æ‚¨æ‰§è¡Œè¿™äº›è¯Šæ–­å‘½ä»¤å—ï¼Ÿ

</code></pre>
<ul>
<li>ç¬¬äºŒè½®æç¤ºè¯ï¼Œå°è¯•å¼•å¯¼â€œÂ @smaps ç»“åˆsmapsä¿¡æ¯å’Œjcmd-detailå†è®¤çœŸåˆ†æä¸‹ï¼Œå’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿâ€</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">  
  ## æ ¸å¿ƒç»“è®ºï¼šä¸JVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰ç›´æ¥å…³ç³»
<span class="hljs-section">### æ•°æ®å¯¹æ¯”åˆ†æ</span>
smapså†…å­˜æ˜ å°„æ±‡æ€»ï¼š

 
TotalÂ Rss:Â 18.43Â GB
TotalÂ Anonymous:Â 18.41Â GBÂ Â 
AnonymousÂ segmentsÂ count:Â 808ä¸ª
 
å…³é”®å†…å­˜æ®µæ˜ å°„ï¼š

åœ°å€èŒƒå›´ Size Rss å¯¹åº”JVMåŒºåŸŸ 4f0000000-6f0000000 8GB 8GB Java Heap (éƒ¨åˆ†) 6f0000000-7f0000000 4GB 3.87GB Java Heap (éƒ¨åˆ†) 7f0000000-7f5e80000 94.5MB 94.4MB ä»£ç ç¼“å­˜/å…ƒç©ºé—´ 7f5e80000-800000000 161.5MB 0 æœªæäº¤çš„ä¿ç•™ç©ºé—´

jcmd NMTä¸smapsåœ°å€å¯¹åº”ï¼š

 
jcmdå †åœ°å€:Â 0x4f0000000Â -Â 0x7f0000000Â (å¯¹åº”Xmx=12GB)
smapså¯¹åº”æ®µ:Â 4f0000000-6f0000000Â (8GB)Â +Â 
6f0000000-7f0000000Â (4GB)
 
<span class="hljs-section">### ä¸ºä»€ä¹ˆè¯´ä¸JVMè®¾ç½®æ— å…³</span>
<span class="hljs-bullet">1.</span> RSSå€¼åŸºæœ¬ç­‰äºXmxå€¼
   
<span class="hljs-bullet">   -</span> Xmx=12288MB
<span class="hljs-bullet">   -</span> å®é™…RSS=18.43GB
<span class="hljs-bullet">   -</span> å·®å¼‚çº¦6GBï¼Œæ¥è‡ªï¼š
<span class="hljs-bullet">     -</span> ä»£ç ç¼“å­˜ã€å…ƒç©ºé—´ç­‰éå †å†…å­˜
<span class="hljs-bullet">     -</span> JVMè‡ªèº«è¿è¡Œæ—¶å¼€é”€
<span class="hljs-bullet">     -</span> æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†å¼€é”€
<span class="hljs-bullet">2.</span> JVMé…ç½®åˆç†
   
<span class="hljs-bullet">   -</span> Xmx=12288MB ä¸å®¹å™¨limit=30GB æ¯”ä¾‹åˆç†(40%)
<span class="hljs-bullet">   -</span> Xms=Xmxï¼Œé¿å…äº†åŠ¨æ€æ‰©å®¹å¼€é”€
<span class="hljs-bullet">   -</span> ä½¿ç”¨äº†-XX:+UseLargePageså¯èƒ½å¢åŠ äº†RSS
<span class="hljs-bullet">3.</span> çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šJVMå †å†…å­˜åœ¨æ“ä½œç³»ç»Ÿå±‚é¢å‘ˆç°ä¸ºAnonymouså†…å­˜
   
<span class="hljs-bullet">   -</span> smapsæ˜¾ç¤ºæ‰€æœ‰Java Heapéƒ½æ ‡è®°ä¸º Anonymous: xxx kB
<span class="hljs-bullet">   -</span> è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼šJavaå †é€šè¿‡mmapåŒ¿åæ˜ å°„åˆ†é…
<span class="hljs-bullet">   -</span> RSSé«˜æ˜¯å› ä¸ºJavaå †è¢«å®é™…ä½¿ç”¨ï¼Œè€Œéæ³„æ¼
<span class="hljs-section">### sMapsæ˜¾ç¤ºçš„808ä¸ªåŒ¿åå†…å­˜æ®µ</span>
è¿™äº›2MBçš„åŒ¿åæ®µæ¥è‡ªï¼š

<span class="hljs-bullet">-</span> JVMä»£ç ç¼“å­˜ã€å…ƒç©ºé—´ã€ç¬¦å·è¡¨ç­‰
<span class="hljs-bullet">-</span> JITç¼–è¯‘çš„ä»£ç ç¼“å­˜
<span class="hljs-bullet">-</span> Nativeå†…å­˜åˆ†é…
è¿™æ˜¯JVMæ­£å¸¸å·¥ä½œæ‰€éœ€çš„å†…å­˜ç»“æ„ã€‚

<span class="hljs-section">### å»ºè®®çš„ä¼˜åŒ–æ–¹å‘</span>
æ—¢ç„¶ä¸JVMå‚æ•°è®¾ç½®æ— å…³ï¼Œä¼˜åŒ–åº”è¯¥ä»ä»¥ä¸‹æ–¹é¢è€ƒè™‘ï¼š

<span class="hljs-bullet">1.</span> éªŒè¯æ˜¯å¦çœŸçš„éœ€è¦è¿™ä¹ˆå¤šå †å†…å­˜


<span class="hljs-section">#Â æ£€æŸ¥å®é™…å †ä½¿ç”¨æƒ…å†µ</span>
jcmdÂ 6Â VM.flagsÂ |Â grepÂ Heap
jcmdÂ 6Â GC.heap<span class="hljs-emphasis">_info
jmapÂ -histo:liveÂ 6Â |Â headÂ -20

2. å¦‚æœç¡®è®¤å †å†…å­˜ä½¿ç”¨ç‡ä¸é«˜ï¼Œå¯ä»¥é€‚å½“é™ä½Xmx


#Â è§‚å¯Ÿå®é™…ä½¿ç”¨ç‡ï¼Œå¦‚æœé•¿æœŸ&lt;70%ï¼Œå¯ä»¥è€ƒè™‘é™ä½Xmx
-Xmx8192mÂ Â #Â å°è¯•é™ä½åˆ°8GB

3. å…³é—­å¤§é¡µå†…å­˜å¯èƒ½é™ä½RSSæ˜¾ç¤º


#Â ç§»é™¤Â -XX:+UseLargePagesÂ å‚æ•°

4. ç¡®è®¤æ˜¯å¦æœ‰å†…å­˜æ³„æ¼


#Â è·å–å †ç›´æ–¹å›¾æŸ¥çœ‹å¯¹è±¡åˆ†å¸ƒ
jmapÂ -histo:liveÂ 6Â &gt;Â heap_</span>histogram.txt

<span class="hljs-section">### æ€»ç»“</span>
å½“å‰RSS=18GBå¯¹äºXmx=12GBçš„JVMæ¥è¯´æ˜¯ æ­£å¸¸èŒƒå›´ ï¼Œä¸»è¦å› ä¸ºï¼š

<span class="hljs-bullet">1.</span> Javaå †å®Œå…¨è¢«ä½¿ç”¨(12GB)
<span class="hljs-bullet">2.</span> éå †å†…å­˜å ç”¨çº¦6GB(ä»£ç ç¼“å­˜ã€å…ƒç©ºé—´ã€çº¿ç¨‹æ ˆç­‰)
<span class="hljs-bullet">3.</span> æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†å¼€é”€
é—®é¢˜ä¸åœ¨äºJVMå‚æ•°é…ç½®ä¸åˆç†ï¼Œè€Œåœ¨äºï¼š

<span class="hljs-bullet">-</span> ä¸šåŠ¡å¯èƒ½çœŸçš„éœ€è¦è¿™ä¹ˆå¤šå †å†…å­˜
<span class="hljs-bullet">-</span> éœ€è¦è¿›ä¸€æ­¥åˆ†ææ˜¯å¦æœ‰å†…å­˜å¯¹è±¡æ³„æ¼
<span class="hljs-bullet">-</span> æ˜¯å¦å¯ä»¥é€šè¿‡åº”ç”¨å±‚é¢ä¼˜åŒ–å‡å°‘å†…å­˜ä½¿ç”¨
å»ºè®®æ‚¨å…ˆæ‰§è¡Œå †ç›´æ–¹å›¾åˆ†æï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨å¤§å¯¹è±¡æ³„æ¼ï¼Œå†è€ƒè™‘è°ƒæ•´JVMå‚æ•°ã€‚
</code></pre>
<h4 data-id="heading-14">2.2.6 MiniMax-M2.1</h4>
<blockquote>
<p>ç¬¬ä¸€è½®è€—æ—¶è€—æ—¶ï¼š2.5åˆ†é’Ÿå·¦å³
ç»“è®ºï¼šç¬¬ä¸€è½®æç¤ºè¯æœªèƒ½å‡†ç¡®å®šä½é—®é¢˜ï¼›å°è¯•ç¬¬äºŒæ¬¡å¼•å¯¼ä¹Ÿå®šä½å¤±è´¥ã€‚
PSï¼šç”±äºå›½é™…ç‰ˆTraeæ²¡æœ‰MiniMaxï¼Œåªå¥½ä½¿ç”¨ccè¿›è¡Œæµ‹è¯•ã€‚</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">JVM Dockerå®¹å™¨ RSSè¿‡é«˜åˆ†ææŠ¥å‘Š

  ä¸€ã€å…³é”®æŒ‡æ ‡æ‘˜è¦
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚     æŒ‡æ ‡     â”‚             æ•°å€¼              â”‚           è¯´æ˜            â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ è¿›ç¨‹RSS      â”‚ 18.0 GB                       â”‚ topæ˜¾ç¤ºçš„å®é™…ç‰©ç†å†…å­˜å ç”¨ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Docker rss   â”‚ 18.55 GB                      â”‚ memory.statç»Ÿè®¡           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ JVMå †å†…å­˜    â”‚ 12.27 GB committed / 12GB max â”‚ -Xmx12288m                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Internalå†…å­˜ â”‚ 557 MB                        â”‚ NMTç»Ÿè®¡ - å¼‚å¸¸åé«˜        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ çº¿ç¨‹æ•°       â”‚ 354ä¸ª                         â”‚ å ç”¨356MB                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ åŠ è½½ç±»æ•°     â”‚ 81,530ä¸ª                      â”‚ Metaspaceå ç”¨649MB        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---
  äºŒã€å†…å­˜ç»„æˆåˆ†æ

  æ€»RSS â‰ˆ 18GB
  â”œâ”€â”€ Java Heap         : ~12.3 GB (å·²æ¥è¿‘-Xmxä¸Šé™)
  â”œâ”€â”€ Internal (malloc) : ~557 MB  âš ï¸ ã€å¼‚å¸¸ã€‘
  â”œâ”€â”€ Class Metadata    : ~649 MB
  â”œâ”€â”€ Thread Stacks     : ~356 MB (354çº¿ç¨‹ Ã— ~1MBæ ˆ)
  â”œâ”€â”€ Code Cache        : ~231 MB
  â”œâ”€â”€ GC Memory         : ~465 MB
  â””â”€â”€ Symbol Table      : ~68 MB

  ---
  ä¸‰ã€æ ¹å› åˆ†æ

  1ï¸âƒ£ Internalå†…å­˜å¼‚å¸¸ (557 MB) - ä¸»è¦é—®é¢˜

  Internal ç±»åˆ«åŒ…å«é€šè¿‡ malloc() ç›´æ¥åˆ†é…çš„æœ¬åœ°å†…å­˜ï¼Œè¿™æ˜¯æœ€å¯èƒ½å¯¼è‡´RSSè¶…æ ‡çš„åŒºåŸŸï¼š

  å¯èƒ½æ¥æºï¼š
  - Direct ByteBuffer (NIO Direct Memory) - å¦‚æœåº”ç”¨ä½¿ç”¨å¤§é‡ç½‘ç»œIO
  - JNIæœ¬åœ°åº“å†…å­˜åˆ†é…
  - Nativeä»£ç å†…å­˜æ³„æ¼
  - JPEG/å›¾åƒå¤„ç†åº“ (æ£€æµ‹åˆ° libjpeg.so, libawt.so)

  2ï¸âƒ£ JVMå †å†…å­˜æ¥è¿‘ä¸Šé™

  Heap <span class="hljs-attr">committed</span> = <span class="hljs-number">12</span>,<span class="hljs-number">273</span> MB â‰ˆ <span class="hljs-number">12.3</span> GB
  <span class="hljs-attr">Xmx</span> = <span class="hljs-number">12</span>,<span class="hljs-number">288</span> MB = <span class="hljs-number">12</span> GB

  å †å†…å­˜å·²æ¥è¿‘æœ€å¤§å€¼ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œä½†å¢åŠ äº†æ•´ä½“å†…å­˜å‹åŠ›ã€‚

  3ï¸âƒ£ çº¿ç¨‹æ•°åé«˜ (354ä¸ª)

  - æ¯ä¸ªçº¿ç¨‹é»˜è®¤1MBæ ˆç©ºé—´ (Linux x64)
  - thread <span class="hljs-comment">#354 + malloc=1MB #1780 + arena=1MB #694</span>
  - å»ºè®®æ£€æŸ¥æ˜¯å¦æœ‰çº¿ç¨‹æ± é…ç½®ä¸å½“æˆ–çº¿ç¨‹æ³„æ¼

  4ï¸âƒ£ åŠ è½½ç±»æ•°é‡è¾ƒå¤š (81,530ä¸ª)

  - Metaspace <span class="hljs-attr">committed</span> = <span class="hljs-number">649</span>MB
  - åŠ è½½äº†81,530ä¸ªç±»ï¼Œå¯èƒ½åŒ…å«å¤§é‡åŠ¨æ€ä»£ç†ã€å­—èŠ‚ç å¢å¼º

  ---
  å››ã€ä¼˜åŒ–å»ºè®®

  ğŸ”´ ä¼˜å…ˆçº§1: é™åˆ¶Direct ByteBuffer

  <span class="hljs-comment"># æ·»åŠ JVMå‚æ•°é™åˆ¶NIO Direct Memory</span>
  -XX:<span class="hljs-attr">MaxDirectMemorySize</span>=<span class="hljs-number">512</span>m

  ğŸŸ¡ ä¼˜å…ˆçº§2: ä¼˜åŒ–çº¿ç¨‹æ ˆå¤§å°

  <span class="hljs-comment"># å¦‚æœä¸éœ€è¦å¤§æ ˆç©ºé—´ï¼Œå¯å‡å°</span>
  -Xss512k

  ğŸŸ¡ ä¼˜å…ˆçº§3: å¯ç”¨NMTç›‘æ§

  <span class="hljs-comment"># åœ¨å¯åŠ¨å‚æ•°ä¸­æ·»åŠ </span>
  -XX:<span class="hljs-attr">NativeMemoryTracking</span>=summary
  <span class="hljs-comment"># è¿è¡Œæ—¶æŸ¥çœ‹</span>
  jcmd &lt;pid&gt; VM.native_memory summary

  ğŸŸ¢ ä¼˜å…ˆçº§4: ä»£ç å±‚é¢æ£€æŸ¥

  1. æ£€æŸ¥Direct ByteBufferä½¿ç”¨ï¼š
  // ç¡®è®¤æ˜¯å¦æœ‰ç±»ä¼¼ä»£ç 
  ByteBuffer.allocateDirect(1024 * 1024 * 100)<span class="hljs-comment">; // 100MB direct buffer</span>
  2. æ£€æŸ¥å›¾ç‰‡å¤„ç†åº“ä½¿ç”¨ï¼š
    - æ£€æµ‹åˆ° libjpeg.so, libawt.so ç­‰å›¾å½¢åº“
    - ç¡®è®¤æ˜¯å¦ä½¿ç”¨äº†Java ImageIOã€å¤§é‡å›¾ç‰‡å¤„ç†
  3. æ£€æŸ¥ç¬¬ä¸‰æ–¹SDKï¼š
    - tencentcloud-sdk-java (4.6MB JAR)
    - huaweicloud-sdk-bundle (2.1MB JAR)
    - è¿™äº›SDKå¯èƒ½æœ‰æœ¬åœ°å†…å­˜åˆ†é…

  ---
  äº”ã€è¯Šæ–­å‘½ä»¤

  åœ¨å®¹å™¨å†…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è·å–æ›´å¤šä¿¡æ¯ï¼š

  <span class="hljs-comment"># 1. æŸ¥çœ‹è¯¦ç»†çš„NMTåˆ†ç±»</span>
  jcmd 6 VM.native_memory detail

  <span class="hljs-comment"># 2. æŸ¥çœ‹Direct ByteBufferä½¿ç”¨æƒ…å†µ</span>
  jcmd 6 GC.heap_info

  <span class="hljs-comment"># 3. è·Ÿè¸ªmallocåˆ†é…</span>
  pmap -x 6 | sort -k2 -rn | head -50

  <span class="hljs-comment"># 4. æŸ¥çœ‹JNIå¼•ç”¨</span>
  jstack 6 | grep -c "<span class="hljs-attr">nid</span>=<span class="hljs-number">0</span>x<span class="hljs-string">"

  ---
  å…­ã€æ€»ç»“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚       é—®é¢˜        â”‚ ä¸¥é‡ç¨‹åº¦ â”‚               å»ºè®®                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Internalå†…å­˜557MB â”‚ ğŸ”´ é«˜    â”‚ æ·»åŠ  -XX:MaxDirectMemorySize é™åˆ¶ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ å †å†…å­˜æ¥è¿‘ä¸Šé™    â”‚ ğŸŸ¡ ä¸­    â”‚ è¯„ä¼°æ˜¯å¦éœ€è¦å¢åŠ Xmxæˆ–ä¼˜åŒ–åº”ç”¨     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 354ä¸ªçº¿ç¨‹         â”‚ ğŸŸ¡ ä¸­    â”‚ æ£€æŸ¥çº¿ç¨‹æ± é…ç½®                    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 81,500+ç±»åŠ è½½     â”‚ ğŸŸ¢ ä½    â”‚ æ­£å¸¸èŒƒå›´ï¼Œæš‚æ— éœ€å¤„ç†              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  å»ºè®®ä¼˜å…ˆæ·»åŠ  -XX:MaxDirectMemorySize=512m é™åˆ¶Direct Bufferï¼Œå¹¶æŒç»­ç›‘æ§Internalå†…å­˜å˜åŒ–
  
  
</span></code></pre>
<ul>
<li>ç¬¬äºŒè½®æç¤ºè¯ï¼Œå°è¯•å¼•å¯¼â€œÂ @smaps ç»“åˆsmapsä¿¡æ¯å’Œjcmd-detailå†è®¤çœŸåˆ†æä¸‹ï¼Œå’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿâ€</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">  æ ¹æ®smapså’Œjcmd-detailçš„è¯¦ç»†å¯¹æ¯”åˆ†æï¼Œæˆ‘æ¥ç»™ä½ ä¸€ä¸ªæ›´å‡†ç¡®çš„ç»“è®ºï¼š

  ---
  ğŸ” æ·±åº¦åˆ†ææŠ¥å‘Š

  ä¸€ã€smaps vs jcmd-detail å¯¹æ¯”
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚       åŒºåŸŸ        â”‚ jcmd committed â”‚ smaps PSS  â”‚        çŠ¶æ€         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Java Heap         â”‚ 12,273 MB      â”‚ ~12,450 MB â”‚ æ¥è¿‘-Xmxä¸Šé™        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Metaspace         â”‚ 649 MB         â”‚ ~1,100 MB  â”‚ âš ï¸ å®é™…ç‰©ç†å†…å­˜æ›´é«˜ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Thread Stacks     â”‚ 356 MB         â”‚ ~350 MB    â”‚ æ­£å¸¸                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Code Cache        â”‚ 231 MB         â”‚ ~230 MB    â”‚ æ­£å¸¸                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Internal (malloc) â”‚ 557 MB         â”‚ æœªè®¡å…¥     â”‚ ğŸ”´ ä¸»è¦é—®é¢˜         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ å…¶ä»–anonåŒºåŸŸ      â”‚ -              â”‚ ~1.3 GB    â”‚ éœ€è¦è¿›ä¸€æ­¥åˆ†æ      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---
  äºŒã€å…³é”®å‘ç°

  âœ… JVMå †å†…å­˜è®¾ç½®æœ¬èº« æ²¡æœ‰ç›´æ¥é—®é¢˜

  -Xmx12288m  âœ“ å·²æ¥è¿‘å®é™…ä½¿ç”¨ï¼ˆ12.4GBï¼‰ï¼Œç¬¦åˆé¢„æœŸ
  -Xms2048m   âœ“ åˆå§‹è¾ƒå°ï¼Œæ­£å¸¸
  -XX:<span class="hljs-attr">MaxMetaspaceSize</span>=<span class="hljs-number">1024</span>m  âœ“ æœªè¾¾åˆ°ä¸Šé™

  å †å†…å­˜12.4GBæ˜¯æ­£å¸¸çš„ä¸šåŠ¡å†…å­˜ï¼Œè¯´æ˜åº”ç”¨ç¡®å®éœ€è¦è¿™ä¹ˆå¤šç©ºé—´ã€‚

  âŒ ä½†å‘ç°äº†å‡ ä¸ªå¼‚å¸¸ç‚¹ï¼š

  1. Metaspaceå®é™…ç‰©ç†å†…å­˜ &gt; NMTç»Ÿè®¡

  jcmdæ˜¾ç¤ºMetaspace committed: 649 MB
  smapsæ˜¾ç¤ºMetaspaceåŒºåŸŸPSS: ~1.1 GB
  å·®å¼‚: ~450 MB

  è¿™æ˜¯å› ä¸ºNMTåªè·Ÿè¸ªJVMå…ƒæ•°æ®ï¼Œè€Œç±»åŠ è½½å™¨åŠ è½½çš„classæ–‡ä»¶æ•°æ®å¯èƒ½é€šè¿‡å…¶ä»–æ–¹å¼åˆ†é…ã€‚

  2. Internal (557 MB) éå¸¸é«˜

  NMTæ˜¾ç¤º Internal (<span class="hljs-attr">malloc</span>=<span class="hljs-number">557</span>MB)ï¼Œè¿™åŒ…å«ï¼š
  - Direct ByteBuffer
  - JNIæœ¬åœ°å†…å­˜
  - å›¾ç‰‡å¤„ç†ç¼“å†²ï¼ˆæ£€æµ‹åˆ°libjpeg.so, libawt.soï¼‰

  3. å­˜åœ¨çº¦1.3GBæœªè¯†åˆ«çš„anonåŒºåŸŸ

  smapsä¸­0x7f5fxxxxxå¼€å§‹çš„çº¦600ä¸ªå°anonåŒºåŸŸï¼Œæ¯ä¸ªçº¦2MBï¼š
  - è¿™äº›æ˜¯Metaspaceçš„VirtualSpaceNode
  - ä½†PSSæ€»å’Œè¶…å‡ºNMTç»Ÿè®¡çº¦400-500MB

  ---
  ä¸‰ã€å›ç­”ä½ çš„é—®é¢˜

  å’ŒJVMè‡ªèº«çš„å†…å­˜è®¾ç½®æ²¡æœ‰å…³ç³»å§ï¼Ÿ

  ç»“è®ºï¼šJVMå †/XMXè®¾ç½®æœ¬èº«ä¸æ˜¯é—®é¢˜ï¼Œ12.4GBæ˜¯ä¸šåŠ¡éœ€è¦ã€‚

  çœŸæ­£çš„é—®é¢˜ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚       é—®é¢˜        â”‚    å†…å­˜å ç”¨     â”‚     åŸå›      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Direct ByteBuffer â”‚ å¯èƒ½æ˜¯300-500MB â”‚ æœªé™åˆ¶ä¸Šé™   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Metaspaceå®é™…ä½¿ç”¨ â”‚ æ¯”NMTå¤š~400MB   â”‚ ç±»åŠ è½½æ•°æ®   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ å…¶ä»–Nativeåˆ†é…    â”‚ ~500MB          â”‚ JNI/å›¾åƒå¤„ç† â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---
  å››ã€å»ºè®®çš„è¯Šæ–­æ­¥éª¤

  åœ¨å®¹å™¨å†…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç²¾ç¡®å®šä½ï¼š

  <span class="hljs-comment"># 1. æŸ¥çœ‹Direct Bufferä½¿ç”¨æƒ…å†µ</span>
  jcmd 6 GC.heap_info

  <span class="hljs-comment"># 2. æŸ¥çœ‹NMT detailä¸­Internalåˆ†ç±»çš„è¯¦æƒ…</span>
  jcmd 6 VM.native_memory detail | grep -A 20 "Internal:"

  <span class="hljs-comment"># 3. æŸ¥æ‰¾å¤§å—mallocåˆ†é…</span>
  pmap -x 6 | grep -v "\.so" | grep -v "\<span class="hljs-section">[ anon \]</span>" | head -50

  <span class="hljs-comment"># 4. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨å›¾ç‰‡å¤„ç†</span>
  strings /proc/6/cmdline | grep -i image

  <span class="hljs-comment"># 5. ç»Ÿè®¡æ‰€æœ‰2MB anonåŒºåŸŸ</span>
  pmap 6 | grep "2048 k" | wc -l

  ---
  äº”ã€ç«‹å³å¯ä»¥å°è¯•çš„ä¿®å¤

  <span class="hljs-comment"># æ·»åŠ Direct Bufferé™åˆ¶ï¼ˆæœ€å¯èƒ½æœ‰æ•ˆï¼‰</span>
  -XX:<span class="hljs-attr">MaxDirectMemorySize</span>=<span class="hljs-number">512</span>m

  <span class="hljs-comment"># å¦‚æœä½¿ç”¨å›¾ç‰‡å¤„ç†ï¼Œè€ƒè™‘é™åˆ¶AWTç¼“å†²</span>
  <span class="hljs-attr">-Djava.awt.headless</span>=<span class="hljs-literal">true</span>

  ---
  å…­ã€æ€»ç»“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           åˆ¤æ–­            â”‚                è¯´æ˜                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ âŒ JVMå †è®¾ç½®æœ‰é—®é¢˜ï¼Ÿ      â”‚ å¦ï¼Œ12GBåŸºæœ¬ç”¨æ»¡æ˜¯æ­£å¸¸çš„           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ âœ… æœ‰é¢å¤–Nativeå†…å­˜æ³„æ¼ï¼Ÿ â”‚ æ˜¯ï¼Œ557MB Internal + Metaspaceå·®å¼‚ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ âœ… éœ€è¦è°ƒæ•´çš„å‚æ•°ï¼Ÿ       â”‚ æ˜¯ï¼Œæ·»åŠ  -XX:MaxDirectMemorySize   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  å»ºè®®å…ˆæ·»åŠ Direct Bufferé™åˆ¶ï¼Œè§‚å¯Ÿ24å°æ—¶åå†…å­˜æ˜¯å¦ä¸‹é™ã€‚
</code></pre>
<h2 data-id="heading-15">3 è¯„æµ‹ç»“æœ</h2>
<ul>
<li><strong>GPT-5</strong>ï¼šåˆ†ææœ€å…¨é¢æ·±å…¥ï¼Œèƒ½ç²¾å‡†å®šä½åˆ°glibc malloc arenaé—®é¢˜ï¼Œå¹¶æä¾›è¯¦å®çš„ä¼˜åŒ–å»ºè®®ï¼Œä½†åˆ†æè€—æ—¶æœ€é•¿ï¼ˆçº¦10åˆ†é’Ÿï¼‰ã€‚</li>
<li><strong>Gemini-3-Pro-Preview</strong>ï¼šè¡¨ç°æœ€ä¸ºå‡ºè‰²ï¼Œåœ¨ç¬¬ä¸€è½®åˆ†æä¸­ç›´æ¥å‡†ç¡®è¯†åˆ«é—®é¢˜æ ¸å¿ƒï¼Œæ— éœ€äºŒæ¬¡å¼•å¯¼ï¼Œä¸”åˆ†ææ•ˆç‡é«˜ï¼ˆçº¦3åˆ†é’Ÿï¼‰ã€‚</li>
<li><strong>DeepSeekV3.1</strong>ï¼šç¬¬ä¸€è½®åˆ†ææœªèƒ½å‡†ç¡®å®šä½ï¼Œä½†åœ¨å¼•å¯¼åèƒ½æ­£ç¡®å½’å› ï¼Œæä¾›äº†glibcä¼˜åŒ–å’Œjemallocæ›¿ä»£ä¸¤ç§æ–¹æ¡ˆã€‚</li>
<li><strong>Kimi-K2-0905</strong>ï¼šç¬¬ä¸€è½®æ¥è¿‘é—®é¢˜ä½†æœªå®Œå…¨å‡†ç¡®ï¼Œå¼•å¯¼åèƒ½æå‡ºæœ‰æ•ˆè§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>GLM-4.7ä¸MiniMax-M2.1</strong>ï¼šå‡æœªèƒ½å‡†ç¡®å®šä½æ ¸å¿ƒé—®é¢˜ï¼Œåœç•™åœ¨JVMå‚æ•°è°ƒä¼˜å±‚é¢ï¼Œæœªè¯†åˆ«å‡ºglibc malloc arenaè¿™ä¸€æ ¹æœ¬åŸå› ã€‚</li>
</ul>
<h2 data-id="heading-16">4 åç»­å»ºè®®</h2>
<h3 data-id="heading-17">4.1 æ¨¡å‹é€‰æ‹©ç­–ç•¥</h3>
<ol>
<li><strong>ç´§æ€¥æ•…éšœæ’æŸ¥åœºæ™¯</strong>ï¼šæ¨èä½¿ç”¨<strong>Gemini-3-Pro-Preview</strong>ï¼Œå…¼é¡¾å‡†ç¡®æ€§ä¸å“åº”é€Ÿåº¦ã€‚</li>
<li><strong>æ·±åº¦æ ¹å› åˆ†æåœºæ™¯</strong>ï¼šå¯é€‰ç”¨<strong>GPT-5</strong>ï¼Œè™½ç„¶è€—æ—¶è¾ƒé•¿ä½†åˆ†ææ›´ä¸ºå…¨é¢æ·±å…¥ã€‚</li>
<li><strong>é¢„ç®—æœ‰é™åœºæ™¯</strong>ï¼š<strong>DeepSeekV3.1</strong> å¯ä½œä¸ºæ€§ä»·æ¯”é€‰æ‹©ï¼Œåœ¨é€‚å½“å¼•å¯¼ä¸‹èƒ½è·å¾—æœ‰æ•ˆè§£å†³æ–¹æ¡ˆã€‚</li>
</ol>
<h3 data-id="heading-18">4.2 MALLOC_ARENA_MAX å˜é‡å–å€¼è¯´æ˜</h3>



































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">ä¸è®¾ç½® <code>MALLOC_ARENA_MAX</code> (é»˜è®¤)</th><th align="left">æ˜¾å¼è®¾ç½® (ä¾‹å¦‚ <code>=2</code> æˆ– <code>=4</code>)</th></tr></thead><tbody><tr><td align="left">Arena æ•°é‡</td><td align="left">åŠ¨æ€è®¡ç®—ï¼Œæœ€å¤šå¯è¾¾ <code>CPUæ ¸æ•° Ã— 8</code></td><td align="left">å›ºå®šä¸ºä½ æŒ‡å®šçš„æ•°å€¼</td></tr><tr><td align="left">å†…å­˜å ç”¨</td><td align="left">æ³¢åŠ¨å¤§ï¼Œå®¹æ˜“è¿‡åº¦é¢„ç•™ï¼ˆOvercommitï¼‰</td><td align="left">å¯æ§ï¼Œå‡å°‘ä¸å¿…è¦çš„é¢„ç•™</td></tr><tr><td align="left">å®¹å™¨ç¯å¢ƒé£é™©</td><td align="left">é«˜ (ææ˜“å›  Working Set è¶…é™è¢« OOMKilled)</td><td align="left">ä½ (å†…å­˜ä½¿ç”¨æ›´ç¬¦åˆé¢„æœŸ)</td></tr><tr><td align="left">æ€§èƒ½</td><td align="left">é«˜å¹¶å‘ä¸‹é”ç«äº‰å°‘ï¼Œä½†ä»£ä»·æ˜¯å†…å­˜</td><td align="left">å¯èƒ½å¢åŠ é”ç«äº‰ï¼Œä½†å†…å­˜æ•ˆç‡é«˜</td></tr><tr><td align="left">é€‚ç”¨åœºæ™¯</td><td align="left">ç‰©ç†æœºã€å†…å­˜æå…¶å……è£•ä¸”æ— é™åˆ¶çš„ç¯å¢ƒ</td><td align="left">å®¹å™¨åŒ–éƒ¨ç½²ã€Serverlessã€å†…å­˜å—é™ç¯å¢ƒ</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ¡†æ¶æ¼”è¿›]]></title>    <link>https://juejin.cn/post/7593771861323546650</link>    <guid>https://juejin.cn/post/7593771861323546650</guid>    <pubDate>2026-01-11T10:28:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323546650" data-draft-id="7593713738856316966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ¡†æ¶æ¼”è¿›"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-11T10:28:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶"/> <meta itemprop="url" content="https://juejin.cn/user/3966693682971870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ¡†æ¶æ¼”è¿›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693682971870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:28:59.000Z" title="Sun Jan 11 2026 10:28:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agent æ¡†æ¶æ¼”è¿›</h2>
<h3 data-id="heading-1">ğŸ“ å¯¼èˆªæŒ‡å—</h3>
<p>AI Agent çš„å‘å±•é€Ÿåº¦æå¿«ï¼Œæ¶æ„æ¨¡å¼å±‚å‡ºä¸ç©·ã€‚æ ¹æ®ä½ çš„èƒŒæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„é˜…è¯»è·¯å¾„ï¼š</p>
<ul>
<li>ğŸ“ <strong>å…¥é—¨è€…ï¼Ÿ</strong> â†’ <a href="#stage-1" title="#stage-1">ç¬¬ä¸€é˜¶æ®µï¼šå•ä½“å·¥å…·æ—¶ä»£</a> - äº†è§£ Agent çš„åŸºæœ¬åŸç† (ReAct)ã€‚</li>
<li>ğŸ› ï¸ <strong>å®è·µè€…ï¼Ÿ</strong> â†’ <a href="#stage-3" title="#stage-3">ç¬¬ä¸‰é˜¶æ®µï¼šç¾¤ä½“æ™ºèƒ½æ—¶ä»£</a> - å­¦ä¹ å¦‚ä½•è®©å¤šä¸ª Agent åä½œã€‚</li>
<li>ğŸ—ï¸ <strong>æ¶æ„å¸ˆï¼Ÿ</strong> â†’ <a href="#stage-4" title="#stage-4">ç¬¬å››é˜¶æ®µï¼šè®¤çŸ¥æ¶æ„ä¸å›¾æ—¶ä»£</a> - æŒæ¡ç”Ÿäº§çº§ Agent çš„çŠ¶æ€æœºè®¾è®¡ã€‚</li>
<li>ğŸš€ <strong>å‰æ²¿æ¢ç´¢ï¼Ÿ</strong> â†’ <a href="#stage-5" title="#stage-5">ç¬¬äº”é˜¶æ®µï¼šè‡ªä¸»å¼€å‘è€…æ—¶ä»£</a> - çœ‹çœ‹æœªæ¥çš„ Agent æ˜¯å¦‚ä½•è‡ªå·±å†™ä»£ç çš„ã€‚</li>
<li>ğŸ”® <strong>æœªæ¥å­¦å®¶ï¼Ÿ</strong> â†’ <a href="#stage-6" title="#stage-6">ç¬¬å…­é˜¶æ®µï¼šåˆ†å¸ƒå¼è”é‚¦æ™ºèƒ½ç³»ç»Ÿ</a> - æ¢ç´¢ Agent æ¶æ„çš„ç»ˆæå½¢æ€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">ç›®å½•</h3>
<h4 data-id="heading-3">ç¬¬ä¸€éƒ¨åˆ†ï¼šèµ·æºä¸æ¢ç´¢ ğŸŒŸ</h4>
<ul>
<li><a href="#stage-1" title="#stage-1">ç¬¬ä¸€é˜¶æ®µï¼šå•ä½“å·¥å…·æ—¶ä»£ (ReAct)</a>
<ul>
<li><a href="#react-logic" title="#react-logic">æ ¸å¿ƒé€»è¾‘ï¼šReason + Act</a></li>
<li><a href="#react-limitations" title="#react-limitations">å±€é™æ€§ä¸ç—›ç‚¹</a></li>
</ul>
</li>
<li><a href="#stage-2" title="#stage-2">ç¬¬äºŒé˜¶æ®µï¼šè‡ªä¸»å¾ªç¯æ—¶ä»£ (Autonomous Loops)</a>
<ul>
<li><a href="#autogpt-experiment" title="#autogpt-experiment">AutoGPT çš„ç–¯ç‹‚å®éªŒ</a></li>
<li><a href="#loop-issues" title="#loop-issues">å¤±æ§çš„å¾ªç¯</a></li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">ç¬¬äºŒéƒ¨åˆ†ï¼šåä½œä¸ç§©åº ğŸ¤</h4>
<ul>
<li><a href="#stage-3" title="#stage-3">ç¬¬ä¸‰é˜¶æ®µï¼šç¾¤ä½“æ™ºèƒ½æ—¶ä»£ (Multi-Agent)</a>
<ul>
<li><a href="#sop-roleplay" title="#sop-roleplay">SOP ä¸è§’è‰²æ‰®æ¼”</a></li>
<li><a href="#multi-agent-frameworks" title="#multi-agent-frameworks">ä»£è¡¨æ¡†æ¶å¯¹æ¯”</a></li>
</ul>
</li>
<li><a href="#stage-4" title="#stage-4">ç¬¬å››é˜¶æ®µï¼šè®¤çŸ¥æ¶æ„ä¸å›¾æ—¶ä»£ (Graph &amp; State)</a>
<ul>
<li><a href="#graph-theory" title="#graph-theory">ä» DAG åˆ° Cyclic Graph</a></li>
<li><a href="#state-machine" title="#state-machine">çŠ¶æ€æœºä¸æŒä¹…åŒ–</a></li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">ç¬¬ä¸‰éƒ¨åˆ†ï¼šç»ˆæå½¢æ€ ğŸ¤–</h4>
<ul>
<li><a href="#stage-5" title="#stage-5">ç¬¬äº”é˜¶æ®µï¼šè‡ªä¸»å¼€å‘è€…æ—¶ä»£ (Deep Agents)</a>
<ul>
<li><a href="#computer-use" title="#computer-use">Computer Use ä¸å…¨æ ˆèƒ½åŠ›</a></li>
<li><a href="#sandbox" title="#sandbox">Sandbox æ²™ç®±çš„é‡è¦æ€§</a></li>
</ul>
</li>
</ul>
<h4 data-id="heading-6">ç¬¬å››éƒ¨åˆ†ï¼šæœªæ¥å±•æœ› ğŸš€</h4>
<ul>
<li><a href="#stage-6" title="#stage-6">ç¬¬å…­é˜¶æ®µï¼šåˆ†å¸ƒå¼è”é‚¦æ™ºèƒ½ç³»ç»Ÿ (Future)</a>
<ul>
<li><a href="#agentic-cs" title="#agentic-cs">æ ¸å¿ƒæ¶æ„ï¼šAgentic C/S</a></li>
<li><a href="#a2a-protocol" title="#a2a-protocol">é€šä¿¡æœºåˆ¶ï¼šA2A åè®®</a></li>
<li><a href="#skills-based" title="#skills-based">æ‰§è¡Œé€»è¾‘ï¼šæŠ€èƒ½åŒ–é©±åŠ¨</a></li>
</ul>
</li>
</ul>
<h4 data-id="heading-7">é™„å½•</h4>
<ul>
<li><a href="#summary" title="#summary">æ€»ç»“ä¸é€‰å‹å»ºè®®</a></li>
<li><a href="#faq" title="#faq">å¸¸è§é—®é¢˜ FAQ</a></li>
</ul>
<hr/>
<h3 data-id="heading-8">å¼•è¨€</h3>
<p>ä»å¤§æ¨¡å‹ (LLM) è¯ç”Ÿè‡³ä»Šï¼ŒAI Agent çš„æ¶æ„ç»å†äº†ä¸€ä¸ªä»â€œç®€å•å·¥å…·è°ƒç”¨â€åˆ°â€œæ‹ŸäººåŒ–è‡ªä¸»å¼€å‘è€…â€çš„å®Œæ•´è¿›åŒ–è¿‡ç¨‹ã€‚è¿™ä¸ä»…ä»…æ˜¯æŠ€æœ¯çš„è¿­ä»£ï¼Œæ›´æ˜¯æˆ‘ä»¬å¯¹â€œæ™ºèƒ½ä½“â€è®¤çŸ¥æ·±åº¦çš„æå‡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†å…¶æ¸…æ™°åœ°åˆ’åˆ†ä¸ºä»¥ä¸‹å…­ä¸ªé˜¶æ®µï¼ˆå…¶ä¸­ç¬¬å…­é˜¶æ®µä¸ºä¸ªäººæœªæ¥ç•…æƒ³ï¼‰ï¼š</p>
<ol>
<li><strong>ReAct</strong> (å•ä½“å·¥å…·)</li>
<li><strong>Autonomous Loops</strong> (è‡ªä¸»å¾ªç¯)</li>
<li><strong>Multi-Agent</strong> (ç¾¤ä½“åä½œ)</li>
<li><strong>Graph &amp; State</strong> (å›¾ä¸çŠ¶æ€)</li>
<li><strong>Deep Agents</strong> (è‡ªä¸»å¼€å‘è€…)</li>
<li><strong>Sovereign Swarm Network</strong> (åˆ†å¸ƒå¼ä¸»æƒç¾¤æ™ºï¼Œæœªæ¥ç•…æƒ³)</li>
</ol>
<hr/>
<p><a id="user-content-stage-1" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-9">ç¬¬ä¸€é˜¶æ®µï¼šå•ä½“å·¥å…·æ—¶ä»£ (ReAct)</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šæ—©æœŸçš„ LLM åªæ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œè¢«å›°åœ¨æ–‡æœ¬æ¡†é‡Œï¼Œæ— æ³•æ„ŸçŸ¥å’Œå½±å“å¤–éƒ¨ä¸–ç•Œã€‚</p>
</blockquote>
<p><a id="user-content-react-logic" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-10">æ ¸å¿ƒé€»è¾‘ï¼šReason + Act</h4>
<p>è¿™ä¸€é˜¶æ®µçš„çªç ´ç‚¹åœ¨äº <strong>ReAct (Reason + Act)</strong> æ¨¡å¼çš„æå‡ºã€‚è¿™æ˜¯ <strong>"System 2"ï¼ˆæ…¢æ€è€ƒï¼‰</strong> åœ¨ LLM ä¸Šçš„é¦–æ¬¡å·¥ç¨‹åŒ–å°è¯•ã€‚å®ƒæ‰“ç ´äº† LLM åªèƒ½â€œé¢„æµ‹ä¸‹ä¸€ä¸ªå­—â€çš„é­”å’’ï¼Œè®©æ¨¡å‹å­¦ä¼šäº†**â€œåœä¸‹æ¥æƒ³ä¸€æƒ³â€**ã€‚</p>
<p>æ¨¡å‹ä¸å†åªæ˜¯è¯´è¯ï¼Œè€Œæ˜¯éµå¾ªä¸€ä¸ªä¸¥æ ¼çš„å¾ªç¯ï¼š
<code>è§‚å¯Ÿ (Observe) -&gt; æ€è€ƒ (Thought) -&gt; è¡ŒåŠ¨ (Act)</code></p>
<p>å®ƒå¼€å§‹èƒ½å¤Ÿè°ƒç”¨ APIï¼ˆå¦‚æœç´¢ã€è®¡ç®—å™¨ã€å¤©æ°”æ¥å£ï¼‰æ¥è¾…åŠ©å›ç­”ã€‚</p>
<p><strong>ä¼ªä»£ç æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> done:
    observation = env.observe()
    thought = llm.think(observation)
    action = llm.decide_action(thought)
    result = env.execute(action)
    <span class="hljs-keyword">if</span> is_final_answer(result):
        done = <span class="hljs-literal">True</span>
</code></pre>
<p><strong>ç¤ºæ„å›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d608cd4c262940308091b4168b954db1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=rLF5YBsyXQsl4uaSXltJBx6ilB4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä»£è¡¨é¡¹ç›®ï¼š</strong></p>
<ul>
<li><strong>LangChain (æ—©æœŸç‰ˆæœ¬)</strong>: å®šä¹‰äº† Tool å’Œ Agent çš„åŸºæœ¬æŠ½è±¡ã€‚</li>
<li><strong>ToolFormer</strong>: è¯æ˜äº†æ¨¡å‹å¯ä»¥è‡ªæˆ‘å­¦ä¹ ä½¿ç”¨å·¥å…·ã€‚</li>
</ul>
<p><a id="user-content-react-limitations" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-11">å±€é™æ€§ä¸ç—›ç‚¹</h4>
<ul>
<li><strong>ä¸¥é‡çš„â€œå¹»è§‰ç´¯ç§¯â€</strong>ï¼šè¿™æ˜¯æœ€å¤§çš„ç—›ç‚¹ã€‚å¦‚æœæ¨ç†ï¼ˆReasonï¼‰é˜¶æ®µé”™äº†ï¼Œåç»­çš„è¡ŒåŠ¨ï¼ˆActï¼‰å°±ä¼šå—è¾•åŒ—è¾™ï¼Œä¸”æ¨¡å‹å¾€å¾€æ— æ³•è‡ªæˆ‘ä¿®æ­£ï¼Œå¯¼è‡´é”™è¯¯åœ¨å¤šæ­¥æ“ä½œä¸­ä¸æ–­æ”¾å¤§ã€‚</li>
<li><strong>å•æ­¥æ€ç»´</strong>ï¼šå¾ˆéš¾å¤„ç†é•¿é“¾æ¡çš„ä»»åŠ¡ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡é™åˆ¶</strong>ï¼šæ‰€æœ‰å†å²éƒ½åœ¨ä¸€ä¸ª Prompt é‡Œï¼Œå®¹æ˜“æ’‘çˆ† Context Windowã€‚</li>
</ul>
<hr/>
<p><a id="user-content-stage-2" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-12">ç¬¬äºŒé˜¶æ®µï¼šè‡ªä¸»å¾ªç¯æ—¶ä»£ (Autonomous Loops)</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šReAct åªèƒ½è§£å†³å•æ­¥ä»»åŠ¡ï¼Œäººä»¬å¼€å§‹æ€è€ƒï¼šå¦‚æœç»™ Agent ä¸€ä¸ªç»ˆæç›®æ ‡ï¼Œè®©å®ƒè‡ªå·±å»æ‹†è§£å’Œæ‰§è¡Œï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
</blockquote>
<p><a id="user-content-autogpt-experiment" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-13">AutoGPT çš„ç–¯ç‹‚å®éªŒ</h4>
<p>è¿™ä¸€é˜¶æ®µçš„æ ‡å¿—æ˜¯ <strong>AutoGPT</strong> å’Œ <strong>BabyAGI</strong> çš„çˆ†ç«ã€‚è¿™ä¸€æ—¶æœŸçš„æ ¸å¿ƒè´¡çŒ®æ˜¯å¼•å…¥äº† <strong>â€œç›®æ ‡å¯¼å‘ï¼ˆGoal-orientedï¼‰â€</strong>ã€‚Agent å¼€å§‹æœ‰äº†â€œä½¿å‘½æ„Ÿâ€ï¼Œå³ä½¿ä»»åŠ¡å¾ˆé•¿ï¼Œå®ƒä¹Ÿä¼šå°è¯•é€’å½’åœ°æ‹†è§£å­ä»»åŠ¡ã€‚</p>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š
ç»™å®šä¸€ä¸ªç»ˆæç›®æ ‡ï¼ˆä¾‹å¦‚â€œå¸®æˆ‘è°ƒç ”å¸‚åœºå¹¶å†™ä¸€ä»½æŠ¥å‘Šâ€ï¼‰ï¼ŒAgent ä¼šè‡ªåŠ¨ï¼š</p>
<ol>
<li><strong>Task Creation</strong>: æ‹†è§£å‡ºå­ä»»åŠ¡åˆ—è¡¨ã€‚</li>
<li><strong>Task Prioritization</strong>: å¯¹ä»»åŠ¡æ’åºã€‚</li>
<li><strong>Execution</strong>: æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li><strong>Loop</strong>: æ ¹æ®ç»“æœäº§ç”Ÿæ–°ä»»åŠ¡ï¼Œæ— é™å¾ªç¯ï¼Œç›´åˆ°ç›®æ ‡å®Œæˆã€‚</li>
</ol>
<p><strong>ç¤ºæ„å›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99ca6563cf9c428195020db27bf23c2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=LDrmddQXQLUQfsM%2FmVy1VCeqK1Q%3D" alt="image copy.png" loading="lazy"/></p>
<p><a id="user-content-loop-issues" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-14">å¤±æ§çš„å¾ªç¯</h4>
<p>è™½ç„¶æ¦‚å¿µå¾ˆè¿·äººï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™ä¸€é˜¶æ®µçš„ Agent è¡¨ç°å‡ºäº†æå¤§çš„ä¸ç¨³å®šæ€§ï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯ <strong>â€œToken ç‡ƒçƒ§å¼¹â€</strong>ã€‚</p>
<ul>
<li><strong>æ— é™æ­»å¾ªç¯</strong>ï¼šç”±äºç¼ºä¹æ˜ç¡®çš„ç»ˆæ­¢æ¡ä»¶å’Œé«˜ç²¾åº¦çš„åé¦ˆï¼ŒAgent ç»å¸¸é™·å…¥æ­»å¾ªç¯ï¼Œåœ¨ä¸¤ä¸ªæ­¥éª¤ä¹‹é—´åå¤æ¨ªè·³ã€‚</li>
<li><strong>æˆæœ¬å¤±æ§</strong>ï¼šç”¨æˆ·å¾€å¾€ä¸€è§‰é†’æ¥å‘ç°è´¦æˆ·æ¬ è´¹äº† $50ï¼Œä½†ä»»åŠ¡ä¸ä»…æ²¡åšå®Œï¼Œç”šè‡³è¿˜åœ¨åŸåœ°æ‰“è½¬ã€‚</li>
<li><strong>å‘æ•£</strong>ï¼šåšç€åšç€å°±è·‘é¢˜äº†ï¼Œå»ç ”ç©¶ä¸ç›¸å…³çš„ä¸œè¥¿ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šçº¯ç²¹çš„è‡ªä¸»å¾ªç¯åœ¨å½“æ—¶ï¼ˆGPT-3.5/4 æ—©æœŸï¼‰åœ¨å®è·µä¸­å¸¸å¸¸ä¸å¯æ§ï¼Œæ˜“å‡ºç°æˆæœ¬å’Œå¾ªç¯å¤±æ§ã€‚</p>
<hr/>
<p><a id="user-content-stage-3" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-15">ç¬¬ä¸‰é˜¶æ®µï¼šç¾¤ä½“æ™ºèƒ½æ—¶ä»£ (Multi-Agent)</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šå•ä¸ª Agent èƒ½åŠ›æœ‰é™ï¼Œä¸”å®¹æ˜“çŠ¯é”™ã€‚äººç±»ç¤¾ä¼šæ˜¯å¦‚ä½•è§£å†³å¤æ‚é—®é¢˜çš„ï¼Ÿç­”æ¡ˆæ˜¯ï¼šç»„ç»‡åˆ†å·¥ã€‚</p>
</blockquote>
<p><a id="user-content-sop-roleplay" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-16">SOP ä¸è§’è‰²æ‰®æ¼”</h4>
<p>è¿™ä¸€é˜¶æ®µå¼•å…¥äº† <strong>å¤šæ™ºèƒ½ä½“åä½œ (Multi-Agent Collaboration)</strong>ã€‚è¿™é‡Œçš„æœ¬è´¨æ˜¯ <strong>â€œå‡ç†µâ€</strong>ã€‚å•ä¸ª Agent å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œç³»ç»Ÿç†µå€¼å¤ªé«˜å®¹æ˜“å´©æºƒï¼Œé€šè¿‡ <strong>SOPï¼ˆæ ‡å‡†ä½œä¸šç¨‹åºï¼‰</strong> å°†å‹åŠ›åˆ†æ•£åˆ°ä¸åŒè§’è‰²ï¼ˆCoder, Reviewer, Managerï¼‰ï¼Œå¤§å¹…æå‡äº†æˆåŠŸç‡ã€‚</p>
<p><strong>ä»£è¡¨é€»è¾‘</strong>ï¼šå¹¶ä¸æ˜¯æ¨¡å‹å˜å¼ºäº†ï¼Œè€Œæ˜¯ <strong>ç»„ç»‡æ¶æ„</strong> ä¼˜åŒ–äº†ç”Ÿäº§åŠ›ã€‚</p>
<p><strong>å·¥ä½œæµç¤ºä¾‹ï¼š</strong></p>
<ol>
<li><strong>User</strong> æå‡ºéœ€æ±‚ã€‚</li>
<li><strong>PM Agent</strong> åˆ†æéœ€æ±‚ï¼Œå†™å‡º PRDã€‚</li>
<li><strong>Coder Agent</strong> æ ¹æ® PRD å†™ä»£ç ã€‚</li>
<li><strong>Reviewer Agent</strong> å®¡æŸ¥ä»£ç ï¼Œæå‡ºä¿®æ”¹æ„è§ã€‚</li>
<li><strong>Coder Agent</strong> ä¿®æ”¹ä»£ç ã€‚</li>
</ol>
<p><strong>ç¤ºæ„å›¾ï¼š</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94fd0a1710534fdc9498d21074bbf71f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=NPwrZXngUWIYZwuaAxpKg3GBcdw%3D" alt="image copy 2.png" loading="lazy"/></p>
<p><a id="user-content-multi-agent-frameworks" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-17">ä»£è¡¨æ¡†æ¶å¯¹æ¯”</h4>

























<table><thead><tr><th align="left">æ¡†æ¶</th><th align="left">ç‰¹ç‚¹</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>AutoGen</strong> (Microsoft)</td><td align="left">æå…¶çµæ´»ï¼ŒAgent ä¹‹é—´å¯ä»¥è‡ªç”±å¯¹è¯ã€‚æ”¯æŒ Human-in-the-loopã€‚</td><td align="left">æ¢ç´¢æ€§ä»»åŠ¡ï¼Œå¤æ‚å¯¹è¯æµã€‚</td></tr><tr><td align="left"><strong>CrewAI</strong></td><td align="left">ç»“æ„åŒ–ï¼ŒåŸºäºè§’è‰²å’Œä»»åŠ¡çš„é¡ºåº/å±‚çº§æ‰§è¡Œã€‚</td><td align="left">æ˜ç¡®çš„ç”Ÿäº§æµï¼Œå¦‚ç”Ÿæˆå†…å®¹ã€æŠ¥å‘Šã€‚</td></tr><tr><td align="left"><strong>MetaGPT</strong></td><td align="left">å¼ºè°ƒ SOPï¼Œå°†æ ‡å‡†æµç¨‹ç¡¬ç¼–ç è¿› Promptã€‚</td><td align="left">è½¯ä»¶å¼€å‘ï¼Œæœ‰ç€ä¸¥æ ¼æµç¨‹çš„ä»»åŠ¡ã€‚</td></tr></tbody></table>
<hr/>
<p><a id="user-content-stage-4" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-18">ç¬¬å››é˜¶æ®µï¼šè®¤çŸ¥æ¶æ„ä¸å›¾æ—¶ä»£ (Graph &amp; State)</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šå¤š Agent è™½ç„¶å¼ºå¤§ï¼Œä½†å¦‚æœè®©å®ƒä»¬è‡ªç”±å¯¹è¯ï¼Œå¾ˆå®¹æ˜“å˜æˆâ€œæ— ä¼‘æ­¢çš„å¼€ä¼šâ€ã€‚æˆ‘ä»¬éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶ã€‚</p>
</blockquote>
<p><a id="user-content-graph-theory" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-19">ä» DAG åˆ° Cyclic Graph</h4>
<p>è¿™ä¸€é˜¶æ®µè¢«è®¤ä¸ºæ˜¯ <strong>â€œå·¥ç¨‹åŒ–â€</strong> çš„å·…å³°ã€‚<strong>LangGraph</strong> ç­‰æ¡†æ¶çš„å‡ºç°ï¼Œæ ‡å¿—ç€å¼€å‘è€…ä¸å†ç›¸ä¿¡ Agent çš„â€œéšæ€§â€ï¼Œè€Œæ˜¯é€šè¿‡ <strong>æœ‰å‘æœ‰ç¯å›¾ (Cyclic Graph)</strong> å¼ºåˆ¶è§„å®šäº†é€»è¾‘è¾¹ç•Œã€‚</p>
<ul>
<li><strong>æ—©æœŸçš„ Chain</strong>ï¼šæ˜¯çº¿æ€§çš„ï¼ˆDAGï¼‰ï¼ŒStep 1 -&gt; Step 2 -&gt; Step 3ã€‚</li>
<li><strong>ç°åœ¨çš„ Graph</strong>ï¼šå…è®¸å¾ªç¯ï¼ˆCyclesï¼‰å’Œæ¡ä»¶åˆ†æ”¯ã€‚</li>
</ul>
<p><a id="user-content-state-machine" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-20">çŠ¶æ€æœºä¸æŒä¹…åŒ–</h4>
<p><strong>LangGraph</strong> æ˜¯è¿™ä¸€é˜¶æ®µçš„é›†å¤§æˆè€…ã€‚å®ƒå°† Agent çš„è¿è¡Œå»ºæ¨¡ä¸ºä¸€ä¸ªå›¾ï¼š</p>
<ul>
<li><strong>Nodes (èŠ‚ç‚¹)</strong>ï¼šæ‰§è¡Œå…·ä½“å·¥ä½œçš„å‡½æ•°æˆ– Agentã€‚</li>
<li><strong>Edges (è¾¹)</strong>ï¼šæ§åˆ¶æµè½¬çš„é€»è¾‘ï¼ˆæ¡ä»¶è·³è½¬ï¼‰ã€‚</li>
<li><strong>State (çŠ¶æ€)</strong>ï¼šåœ¨èŠ‚ç‚¹ä¹‹é—´ä¼ é€’çš„å…±äº«è®°å¿†ã€‚</li>
</ul>
<p><strong>ç¤ºæ„å›¾ï¼š</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1c31e385d0d4e999a7c10cd2ea40fc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=1WjBoq1409WQbVA9gAuQuPy5D3g%3D" alt="image copy 3.png" loading="lazy"/>
<strong>æ ¸å¿ƒä»·å€¼</strong>ï¼š
å®ç°äº† <strong>â€œæ–­ç‚¹ç»­ä¼ â€ (Persistence)</strong>ã€‚è¿™æ˜¯ç”Ÿäº§ç¯å¢ƒçš„å…³é”®ç‰¹æ€§ã€‚å¦‚æœ Agent æ‰§è¡Œä¸€åŠæ–­ç½‘äº†ï¼Œæˆ–è€…éœ€è¦ç­‰å¾…ç”¨æˆ·å®¡æ‰¹ï¼Œæ²¡å…³ç³»ï¼ŒçŠ¶æ€éƒ½ä¿å­˜åœ¨æ•°æ®åº“é‡Œï¼Œè¿ä¸Šåå¯ä»¥æ¥ç€è·‘ï¼Œè€Œä¸éœ€è¦é‡å¤´å¼€å§‹ã€‚</p>
<p><strong>ä»£è¡¨é¡¹ç›®</strong>ï¼šLangGraph, LATS (Language Agent Tree Search)ã€‚</p>
<hr/>
<p><a id="user-content-stage-5" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-21">ç¬¬äº”é˜¶æ®µï¼šè‡ªä¸»å¼€å‘è€…æ—¶ä»£ (Deep Agents)</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šéšç€æ¨ç†æ¨¡å‹ï¼ˆå¦‚ DeepSeek R1, o1ï¼‰å’Œ Computer Use èƒ½åŠ›çš„æå‡ï¼ŒAgent å¼€å§‹è¿½æ±‚å…¨æ ˆèƒ½åŠ›ã€‚</p>
</blockquote>
<p><a id="user-content-computer-use" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-22">Computer Use ä¸å…¨æ ˆèƒ½åŠ›</h4>
<p>è¿™ä¸€é˜¶æ®µçš„æœ¬è´¨æ˜¯ <strong>â€œæ¥å£çš„æ¶ˆå¤±â€</strong>ã€‚ä»¥å‰ Agent éœ€è¦å¼€å‘è€…å°è£…å¥½çš„ APIï¼Œç°åœ¨ Agent ç›´æ¥åƒäººä¸€æ ·ç”¨é¼ æ ‡å’Œé”®ç›˜æ“ä½œè®¡ç®—æœºã€‚</p>
<ul>
<li><strong>ç›´æ¥æ“ä½œç»ˆç«¯ (Shell)</strong>ï¼šæ‰§è¡Œ <code>git</code>, <code>grep</code>, <code>npm install</code>ã€‚</li>
<li><strong>æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</strong>ï¼šåˆ›å»ºã€è¯»å–ã€ä¿®æ”¹ä»»æ„æ–‡ä»¶ã€‚</li>
<li><strong>æµè§ˆå™¨æ“ä½œ</strong>ï¼šåƒäººä¸€æ ·ç‚¹å‡»ç½‘é¡µï¼Œè·å–ä¿¡æ¯ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š
Agent æ‹¥æœ‰æ·±åº¦è§„åˆ’ (Planning) èƒ½åŠ›ã€‚é¢å¯¹ä¸€ä¸ªæ¨¡ç³Šçš„éœ€æ±‚ï¼Œå®ƒèƒ½æ¢ç´¢ç¯å¢ƒã€å»ºç«‹å¿ƒç†æ¨¡å‹ã€åˆ¶å®šè®¡åˆ’å¹¶æ‰§è¡Œã€‚</p>
<p><a id="user-content-sandbox" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-23">Sandbox æ²™ç®±çš„é‡è¦æ€§</h4>
<p>èƒ½åŠ›è¶Šå¼ºï¼Œé£é™©è¶Šå¤§ã€‚ä½† <strong>Sandbox (æ²™ç®±)</strong> çš„æ„ä¹‰ä¸å†ä»…ä»…æ˜¯ä¸ºäº†å®‰å…¨ï¼Œæ›´æ˜¯ä¸ºäº† <strong>â€œè¯•é”™æˆæœ¬æœ€å°åŒ–â€</strong>ã€‚</p>
<p>Agent å¯ä»¥åœ¨æ²™ç®±é‡Œå¤±è´¥ä¸€ä¸‡æ¬¡ï¼Œåªè¦æœ€åä¸€æ¬¡æˆåŠŸå¹¶æäº¤ç»“æœå³å¯ã€‚è¿™ç§ç¯å¢ƒè®© Agent æ•¢äºå°è¯•å’Œè‡ªæˆ‘ä¿®æ­£ï¼Œè€Œä¸ä¼šç ´åçœŸå®ç¯å¢ƒã€‚</p>
<ul>
<li><strong>éš”ç¦»</strong>ï¼šAgent åœ¨ Docker å®¹å™¨æˆ–è½»é‡çº§ VM ä¸­è¿è¡Œã€‚</li>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šé™åˆ¶ç½‘ç»œè®¿é—®ï¼Œé™åˆ¶æ–‡ä»¶è¯»å†™èŒƒå›´ã€‚</li>
<li><strong>å¿«ç…§æ¢å¤</strong>ï¼šæç ¸äº†å¯ä»¥ä¸€é”®å›æ»šã€‚</li>
</ul>
<p><strong>ç¤ºæ„å›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12c50b103a734c87961ecf5670296198~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=9eb0idwl8%2BJBSic8roJIg21zgvM%3D" alt="image copy 4.png" loading="lazy"/>
<strong>ä»£è¡¨é¡¹ç›®</strong>ï¼š</p>
<ul>
<li><strong>Claude Code</strong>: Anthropic å®˜æ–¹æ¨å‡ºçš„ CLI å·¥å…·ã€‚</li>
<li><strong>Manus</strong>: å¼•èµ·è½°åŠ¨çš„è‡ªä¸»é€šç”¨ Agentã€‚</li>
<li><strong>DeepAgent</strong>: ç»“åˆå¼ºåŒ–å­¦ä¹ çš„æ·±åº¦æ¨ç† Agentã€‚</li>
</ul>
<hr/>
<p><a id="user-content-stage-6" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-24">ç¬¬å…­é˜¶æ®µï¼šä¸»æƒé›†ç¾¤ç½‘ç»œ (Sovereign Swarm Networkï¼Œæœªæ¥ç•…æƒ³)</h3>
<blockquote>
<p><strong>æç¤º</strong>ï¼šæœ¬é˜¶æ®µä¸ºä¸ªäººå¯¹æœªæ¥çš„è®¾æƒ³ï¼Œå°šæœªå¤§è§„æ¨¡éªŒè¯ï¼Œæ›´å¤šæ˜¯æ¶æ„æ€è·¯ä¸æ¨æ¼”ã€‚</p>
</blockquote>
<blockquote>
<p><strong>ç•…æƒ³</strong>ï¼šæœªæ¥çš„ Agent æ¶æ„å°†ä¸å†æ˜¯å•ä½“æˆ–ç®€å•çš„é›†ç¾¤ï¼Œè€Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„è”é‚¦ç³»ç»Ÿã€‚æˆ‘ä»¬å°†å…¶å®šä¹‰ä¸º <strong>â€œåˆ†å¸ƒå¼ä¸»æƒæ™ºèƒ½ä½“æ¶æ„ (Distributed Sovereign Agent Architecture)â€</strong>ã€‚æ ¸å¿ƒé€»è¾‘åœ¨äºå°† <strong>â€œå†³ç­–/éšç§â€</strong> ä¸ <strong>â€œæ‰§è¡Œ/è®¡ç®—â€</strong> å½»åº•è§£è€¦ã€‚</p>
</blockquote>
<p><a id="user-content-agentic-cs" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-25">1. æ ¸å¿ƒæ¶æ„ï¼šC/S è”é‚¦åˆ¶</h4>
<p>ä¸åŒäºç›®å‰çš„å•ä½“å¯¹è¯æ¡†ï¼Œæˆ‘ä»¬æå‡ºä¸€ç§åŒå±‚æ²»ç†ç»“æ„ï¼š</p>
<h5 data-id="heading-26">ğŸ›ï¸ å®¢æˆ·ç«¯ï¼šæœ¬åœ°æ ¸å¿ƒ (The Sovereign Leader)</h5>
<ul>
<li><strong>å®šä½</strong>ï¼šç”¨æˆ·çš„æ•°å­—ä»£ç†äººã€ç³»ç»Ÿçš„â€œCEOâ€ã€‚</li>
<li><strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼š
<ul>
<li><strong>æœ¬åœ° MCP Client</strong>ï¼šæŒ‚è½½æœ¬åœ°å—ä¿¡ä»»çš„ Skillsï¼ˆå¦‚å®¶åº­ç›¸å†Œã€ç§äººæ—¥ç¨‹ã€æœ¬åœ°æ–‡ä»¶ï¼‰ã€‚</li>
<li><strong>éšç§è¿‡æ»¤å™¨ (Privacy Shield)</strong>ï¼šå¯¹å‘å¾€æ²™ç›’çš„æ•°æ®è¿›è¡Œè‡ªåŠ¨åŒ–è„±æ•å¤„ç†ã€‚</li>
<li><strong>A2A è°ƒåº¦å¼•æ“</strong>ï¼šè´Ÿè´£ä»»åŠ¡æ‹†è§£ï¼Œå¹¶å‘æ²™ç›’ä¸‹è¾¾â€œé›‡ä½£â€æŒ‡ä»¤ã€‚</li>
</ul>
</li>
<li><strong>åŠŸèƒ½</strong>ï¼šæŒæ¡ç”¨æˆ·åå¥½ï¼Œå¤„ç†æœ€é«˜ä¼˜å…ˆçº§å†³ç­–ï¼ŒéªŒæ”¶æ²™ç›’æˆæœã€‚</li>
</ul>
<h5 data-id="heading-27">ğŸ­ æœåŠ¡ç«¯ï¼šæ²™ç›’åŸç”Ÿ OS (The Agentic Sandbox OS)</h5>
<ul>
<li><strong>å®šä½</strong>ï¼šéš”ç¦»çš„â€œæ•°å­—å·¥å‚â€ã€ç³»ç»Ÿçš„â€œæ‰§è¡Œå‘˜å·¥â€ã€‚</li>
<li><strong>å½¢æ€</strong>ï¼šä¸€ä¸ªä¸º Agent åä½œå®šåˆ¶çš„å¾®å‹ OSï¼ˆAgentic OSï¼‰ã€‚</li>
<li><strong>å†…éƒ¨ç¯å¢ƒ</strong>ï¼š
<ul>
<li><strong>å¤š Agent ååŒ (Swarm)</strong>ï¼šå¤šä¸ªå‚ç›´é¢†åŸŸçš„ä¸“å®¶ Agent åœ¨æ­¤å…±äº‹ã€‚</li>
<li><strong>MCP ç¥ç»æ€»çº¿</strong>ï¼šOS å†…æ ¸è´Ÿè´£è¿æ¥æ‰€æœ‰å·¥å…·ï¼ˆExcelã€Wordã€æµè§ˆå™¨ã€ä»£ç ç¯å¢ƒï¼‰ã€‚</li>
<li><strong>å·¥å…·å³ Skills</strong>ï¼šè½¯ä»¶ä¸å†æ˜¯ GUIï¼Œè€Œæ˜¯é€šè¿‡ MCP æš´éœ²ç»™ Agent çš„æ ‡å‡†åŒ–èƒ½åŠ›ã€‚</li>
</ul>
</li>
</ul>
<p><a id="user-content-a2a-protocol" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-28">2. é€šä¿¡å±‚ï¼šA2A (Agent-to-Agent) åè®®</h4>
<p>è¿™æ˜¯ç³»ç»Ÿçš„â€œæŒ‡æŒ¥é“¾â€ï¼ŒåŸºäº MCP åè®®å°è£…ã€‚</p>
<ul>
<li><strong>ä¸ä»…ä»…æ˜¯ä¼ è¯</strong>ï¼šå®ƒä¼ é€’çš„æ˜¯<strong>æƒé™å‡­è¯ (Permission Card)</strong>ã€ä»»åŠ¡ä¸Šä¸‹æ–‡ã€SOPï¼ˆæ ‡å‡†ä½œä¸šç¨‹åºï¼‰å’Œç»“æœæœŸæœ›ã€‚</li>
<li><strong>è¯­ä¹‰å¯¹é½</strong>ï¼šå®ç°äº†å¼‚æ„æ¨¡å‹ï¼ˆå¦‚æœ¬åœ°è¿è¡Œçš„å°å‹ Llama ä¸äº‘ç«¯å¼ºå¤§çš„ Claudeï¼‰ä¹‹é—´çš„æ— ç¼åä½œã€‚</li>
</ul>
<p><a id="user-content-skills-based" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-29">3. æŠ€æœ¯æ ˆï¼šMCP + Skills</h4>
<p>åœ¨è¿™ç§æ¶æ„ä¸‹ï¼Œ<strong>MCP (Model Context Protocol)</strong> æ‰®æ¼”äº†è‡³å…³é‡è¦çš„è§’è‰²ï¼š</p>
<ul>
<li><strong>æœ¬åœ°ä¾§ MCP</strong>ï¼šè§£å†³ Agent ä¸ç”¨æˆ·â€œç§åŸŸæ•°æ®â€çš„è¿æ¥é—®é¢˜ã€‚</li>
<li><strong>æ²™ç›’ä¾§ MCP</strong>ï¼šè§£å†³ Agent ä¸â€œç”Ÿäº§åŠ›å·¥å…·â€çš„æ§åˆ¶é—®é¢˜ã€‚</li>
<li><strong>Skill çš„å«ä¹‰</strong>ï¼šSkill å¯ä»¥ç†è§£ä¸ºé•¿æœŸå®è·µä¸­æ²‰æ·€çš„ã€å¯é‡å¤è°ƒç”¨çš„ SOP/å·¥ä½œæµå°è£…ï¼ŒæŠŠä¸€æ¬¡æ¬¡æˆåŠŸç»éªŒæŠ½è±¡ä¸ºæ ‡å‡†æ¥å£ã€‚</li>
<li><strong>æœªæ¥è¶‹åŠ¿</strong>ï¼šæ›´å¼ºçš„ Agent ä¼šåœ¨æ‰§è¡Œä¸­è‡ªæˆ‘æ€»ç»“é«˜é¢‘æµç¨‹ï¼Œå¹¶è‡ªåŠ¨å›ºåŒ–ä¸ºæ–°çš„ Skillï¼Œå½¢æˆâ€œç”¨-å­¦-å›ºåŒ–-å†ç”¨â€çš„æ­£åé¦ˆã€‚</li>
<li><strong>Skills å°è£…ç¤ºä¾‹</strong>ï¼š
<ul>
<li><strong>Excel Skill</strong>ï¼šæä¾›æ•°æ®é€è§†ã€è‡ªåŠ¨åŒ–è®¡ç®—ã€é«˜çº§åˆ¶è¡¨ã€‚</li>
<li><strong>Browser Skill</strong>ï¼šæä¾›å—æ§çš„äº’è”ç½‘è®¿é—®ã€æ¨¡æ‹Ÿç‚¹å‡»ã€å†…å®¹æå–ã€‚</li>
<li><strong>App Runtime Skill</strong>ï¼šæä¾›ä»£ç è¿è¡Œç¯å¢ƒï¼Œå¤„ç†é€»è¾‘å¤æ‚çš„è®¡ç®—ä»»åŠ¡ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-30">4. ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸæµç¨‹</h4>
<p>ä»ç”¨æˆ·ä¸‹è¾¾æŒ‡ä»¤åˆ°ç»“æœè¿”å›ï¼Œæ•´ä¸ªæµç¨‹é—­ç¯å¦‚ä¸‹ï¼š</p>









































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">åŠ¨ä½œ</th><th align="left">è¯´æ˜</th><th align="left">å…³é”®ç‚¹</th></tr></thead><tbody><tr><td align="left"><strong>1. æ„å›¾æ‹†è§£</strong></td><td align="left">æœ¬åœ° Leader æ¥æ”¶æŒ‡ä»¤</td><td align="left">è°ƒç”¨æœ¬åœ° MCP æ£€ç´¢å¿…è¦ç§å¯†èƒŒæ™¯ã€‚</td><td align="left"><strong>éšç§ä¸ç¦»æœ¬åœ°</strong></td></tr><tr><td align="left"><strong>2. æŒ‡ä»¤ä¸‹è¾¾</strong></td><td align="left">é€šè¿‡ A2A åè®®å‘é€ä»»åŠ¡</td><td align="left">å‘æ²™ç›’å‘é€ä»»åŠ¡åŒ…ï¼Œå¹¶æŒ‰éœ€å¼€å¯è™šæ‹Ÿ OS å®ä¾‹ã€‚</td><td align="left"><strong>æŒ‰éœ€å†·å¯åŠ¨</strong></td></tr><tr><td align="left"><strong>3. å·¥å…·æŒ‚è½½</strong></td><td align="left">æ²™ç›’ OS å¯åŠ¨</td><td align="left">å¯åŠ¨ Excel/Word/æµè§ˆå™¨ç­‰ MCP Serverï¼Œä¾›å‘˜å·¥ Agent ä½¿ç”¨ã€‚</td><td align="left"><strong>Skills å®ä¾‹åŒ–</strong></td></tr><tr><td align="left"><strong>4. é—­ç¯åä½œ</strong></td><td align="left">å‘˜å·¥ Agent ç¾¤ååŒ</td><td align="left">åœ¨æ²™ç›’ OS å†…ååŒï¼šæŠ“å–æ•°æ® -&gt; å¡«è¡¨è®¡ç®— -&gt; ç¼–å†™æ–‡æ¡£ã€‚</td><td align="left"><strong>å†…éƒ¨ MCP æ€»çº¿</strong></td></tr><tr><td align="left"><strong>5. éªŒæ”¶é”€æ¯</strong></td><td align="left">æˆæœå›ä¼ è‡³æœ¬åœ°</td><td align="left">Leader éªŒæ”¶ï¼Œæ²™ç›’ OS åŠå…¶æ‰€æœ‰ä¸­é—´ç¼“å­˜å½»åº•æŠ¹é™¤ã€‚</td><td align="left"><strong>ç‰©ç†å®‰å…¨éš”ç¦»</strong></td></tr></tbody></table>
<p><strong>ç¤ºæ„å›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2803604f8c814b5c8b7e7e9b0b301d17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768732214&amp;x-signature=FI2S7h3%2BvU%2FQKA%2F7NuXcdRAjIHM%3D" alt="image copy 5.png" loading="lazy"/></p>
<h4 data-id="heading-31">5. æ ¸å¿ƒä»·å€¼ (Conclusion)</h4>
<ul>
<li><strong>ğŸ›¡ï¸ æ•°æ®ä¸»æƒ</strong>ï¼šæ‰€æœ‰çš„ç§å¯†è®°å¿†å’ŒåŸå§‹æ•°æ®éƒ½åœ¨æœ¬åœ°ï¼Œæ²™ç›’åªçœ‹åˆ°â€œåŠ å·¥åâ€çš„ä¿¡æ¯ï¼Œé™ä½éšç§é£é™©ã€‚</li>
<li><strong>âš¡ å®‰å…¨æ‰§è¡Œ</strong>ï¼šAgent æ“ä½œæµè§ˆå™¨æˆ–è¿è¡Œä»£ç æ—¶ï¼Œç ´åæ€§è¡Œä¸ºè¢«é™åˆ¶åœ¨å³ç”¨å³å¼ƒçš„æ²™ç›’ OS å†…ï¼Œä¸å½±å“ç‰©ç†ä¸»æœºã€‚</li>
<li><strong>â™¾ï¸ å¯æ‰©å±•</strong>ï¼šæ–°çš„ MCP Serverï¼ˆæŠ€èƒ½åŒ…ï¼‰å³æ’å³ç”¨ï¼Œç³»ç»Ÿå…·å¤‡è¾ƒå¼ºçš„ç”Ÿå‘½åŠ›ã€‚</li>
<li><strong>ğŸ¤ ç¤¾ä¼šåŒ–åˆ†å·¥</strong>ï¼šâ€œé¢†å¯¼-å‘˜å·¥â€æ¨¡å‹æ¨¡æ‹ŸçœŸå®åä½œï¼Œæå‡å¤šæ­¥éª¤ã€é•¿é“¾è·¯ä»»åŠ¡çš„æˆåŠŸç‡ã€‚</li>
<li><strong>âš ï¸ è½åœ°æŒ‘æˆ˜</strong>ï¼šéœ€è¦ä¸¥æ ¼çš„æƒé™éš”ç¦»ã€å®¡è®¡ã€èµ„æºé…é¢å’Œåˆè§„å®¡æŸ¥ï¼Œè·¨åŸŸ A2A åè®®ä¹Ÿè¦æ±‚ç¨³å®šçš„èº«ä»½ä¸å¯†é’¥ç®¡ç†ã€‚</li>
</ul>
<hr/>
<p><a id="user-content-summary" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-32">æ€»ç»“ä¸é€‰å‹å»ºè®®</h3>















































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">æ ¸å¿ƒå…³é”®è¯</th><th align="left">é€‚åˆåœºæ™¯</th><th align="left">å¤æ‚åº¦</th></tr></thead><tbody><tr><td align="left"><strong>Stage 1: ReAct</strong></td><td align="left">å·¥å…·è°ƒç”¨</td><td align="left">ç®€å•çš„é—®ç­”åŠ©æ‰‹ï¼ŒæŸ¥è¯¢å¤©æ°”/æ•°æ®åº“ã€‚</td><td align="left">â­</td></tr><tr><td align="left"><strong>Stage 2: Loops</strong></td><td align="left">è‡ªåŠ¨å¾ªç¯</td><td align="left">(å®éªŒæ€§) ç®€å•çš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚</td><td align="left">â­â­</td></tr><tr><td align="left"><strong>Stage 3: Multi-Agent</strong></td><td align="left">è§’è‰²åˆ†å·¥</td><td align="left">å†…å®¹ç”Ÿæˆã€ç®€å•çš„è½¯ä»¶å¼€å‘æµæ°´çº¿ã€‚</td><td align="left">â­â­â­</td></tr><tr><td align="left"><strong>Stage 4: Graph</strong></td><td align="left">çŠ¶æ€æœºã€æ§åˆ¶æµ</td><td align="left"><strong>ç”Ÿäº§çº§åº”ç”¨</strong>ã€‚éœ€è¦é«˜å¯é æ€§ã€äººå·¥ä»‹å…¥çš„ä¸šåŠ¡æµã€‚</td><td align="left">â­â­â­â­</td></tr><tr><td align="left"><strong>Stage 5: Deep Agents</strong></td><td align="left">è®¡ç®—æœºæ“ä½œã€æ²™ç®±</td><td align="left">è¾…åŠ©ç¼–ç¨‹ã€è¿ç»´è‡ªåŠ¨åŒ–ã€å¤æ‚çš„æ•°æ®åˆ†æã€‚</td><td align="left">â­â­â­â­â­</td></tr><tr><td align="left"><strong>Stage 6: Sovereign Swarm</strong></td><td align="left">è”é‚¦ååŒã€æ•°æ®ä¸»æƒï¼ˆæœªæ¥ç•…æƒ³ï¼‰</td><td align="left">é«˜å®‰å…¨ã€è·¨åŸŸåä½œã€éšç§æ•æ„Ÿçš„ä¼ä¸š/æ”¿åºœåœºæ™¯ã€‚</td><td align="left">â­â­â­â­â­â­ï¼ˆå®éªŒ/æ¢ç´¢ï¼‰</td></tr></tbody></table>
<p><strong>ç»™å¼€å‘è€…çš„å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ åœ¨æ„å»ºä¼ä¸šçº§åº”ç”¨ï¼Œ<strong>LangGraph (Stage 4)</strong> åœ¨å¯æ§æ€§ä¸ç”Ÿäº§ç‰¹æ€§ä¸Šç›¸å¯¹æˆç†Ÿï¼Œå¯ä¼˜å…ˆé€‰å‹ã€‚</li>
<li>å¦‚æœä½ æƒ³ä½“éªŒ AI å¸®ä½ å†™ä»£ç ï¼Œå°è¯• <strong>Claude Code (Stage 5)</strong>ã€‚</li>
<li>ä¸è¦ç›²ç›®è¿½æ±‚ Multi-Agentï¼Œå¾ˆå¤šæ—¶å€™ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ ReAct Loop æˆ–è€… State Machine å°±å¤Ÿäº†ã€‚</li>
</ul>
<hr/>
<p><a id="user-content-faq" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-33">å¸¸è§é—®é¢˜ FAQ</h3>
<p><strong>Q: LangGraph å’Œ Multi-Agent å†²çªå—ï¼Ÿ</strong>
A: ä¸å†²çªã€‚LangGraph æ˜¯åº•å±‚æ¶æ„ï¼Œä½ å¯ä»¥åœ¨ LangGraph çš„èŠ‚ç‚¹é‡Œè¿è¡Œ Multi-Agent ç³»ç»Ÿã€‚LangGraph ä¸ºå¤šæ™ºèƒ½ä½“åä½œæä¾›äº†æ›´ä¸¥è°¨çš„çŠ¶æ€ç®¡ç†å’Œæ§åˆ¶æµã€‚</p>
<p><strong>Q: DeepSeek R1 è¿™ç§æ¨ç†æ¨¡å‹å¯¹ Agent æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</strong>
A: æ¨ç†æ¨¡å‹æå¤§åœ°å¢å¼ºäº† Agent çš„ "Planning" èƒ½åŠ›ã€‚åœ¨ Stage 2 å’Œ Stage 3ï¼ŒAgent ç»å¸¸å› ä¸ºè§„åˆ’èƒ½åŠ›ä¸è¶³è€Œæ­»å¾ªç¯ã€‚æœ‰äº†å¼ºæ¨ç†æ¨¡å‹ï¼ŒAgent èƒ½å¤Ÿè¿›è¡Œæ›´æ·±åº¦çš„æ€è€ƒï¼ˆChain of Thoughtï¼‰ï¼Œä»è€Œå¤§å¤§æé«˜äº†å¤æ‚ä»»åŠ¡çš„æˆåŠŸç‡ã€‚</p>
<p><strong>Q: ä¸ºä»€ä¹ˆç°åœ¨å¤§å®¶éƒ½åœ¨è°ˆè®º "Computer Use"ï¼Ÿ</strong>
A: å› ä¸º API æ˜¯æœ‰é™çš„ï¼Œè€Œ GUI/CLI æ˜¯æ— é™çš„ã€‚è®© Agent å­¦ä¼šä½¿ç”¨è®¡ç®—æœºï¼ˆçœ‹å±å¹•ã€æ•²é”®ç›˜ï¼‰ï¼Œæ„å‘³ç€å®ƒå¯ä»¥ä½¿ç”¨äººç±»ç°æœ‰çš„æ‰€æœ‰è½¯ä»¶å·¥å…·ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¼€å‘è€…ä¸ºæ¯ä¸ªè½¯ä»¶å¼€å‘ APIã€‚è¿™æ˜¯é€šå‘ AGI çš„é‡è¦ä¸€æ­¥ã€‚</p>
<p><strong>Q: Stage 6 è½åœ°çš„ä¸»è¦é£é™©æ˜¯ä»€ä¹ˆï¼Ÿ</strong>
A: å…³é”®æŒ‘æˆ˜åœ¨äºè·¨åŸŸèº«ä»½ä¸å¯†é’¥ç®¡ç†ã€ç»†ç²’åº¦æƒé™æ§åˆ¶ã€åˆè§„å®¡è®¡ï¼Œä»¥åŠæ²™ç›’èµ„æºéš”ç¦»/æˆæœ¬æ§åˆ¶ã€‚è¿™äº›åŸºç¡€è®¾æ–½ä¸åˆ°ä½æ—¶ï¼Œå»ºè®®å…ˆåœ¨ Stage 4/5 çš„å¯æ§èŒƒå›´è¿­ä»£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®æˆ˜ï¼šåœ¨ Docker (Windows) ä¸­æ„å»ºé›†æˆ yt-dlp çš„â€œæ»¡è¡€ç‰ˆâ€ n8n è‡ªåŠ¨åŒ–å·¥ä½œæµ]]></title>    <link>https://juejin.cn/post/7593177437082681395</link>    <guid>https://juejin.cn/post/7593177437082681395</guid>    <pubDate>2026-01-10T02:35:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593177437082681395" data-draft-id="7593212374921330715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®æˆ˜ï¼šåœ¨ Docker (Windows) ä¸­æ„å»ºé›†æˆ yt-dlp çš„â€œæ»¡è¡€ç‰ˆâ€ n8n è‡ªåŠ¨åŒ–å·¥ä½œæµ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-10T02:35:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘¸é±¼çš„æ˜¥å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1714893870865303"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®æˆ˜ï¼šåœ¨ Docker (Windows) ä¸­æ„å»ºé›†æˆ yt-dlp çš„â€œæ»¡è¡€ç‰ˆâ€ n8n è‡ªåŠ¨åŒ–å·¥ä½œæµ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893870865303/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘¸é±¼çš„æ˜¥å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T02:35:57.000Z" title="Sat Jan 10 2026 02:35:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;font-weight:400;line-height:2;font-size:17px;overflow-x:hidden;color:#000}.markdown-body strong{padding:1px;color:#ee3f4d}.markdown-body em{padding:0 2px;color:#f33b1f}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:30px;margin-bottom:20px;line-height:1.5;font-weight:700}.markdown-body h1{text-align:center;padding-bottom:5px;font-size:32px;color:#ac1f18}.markdown-body h1:after{content:"";display:block;margin:4px auto 0;width:100px;height:2px;border-bottom:2px solid #f33b1f}.markdown-body h2{font-size:28px;border-bottom:1px solid #f33b1f}.markdown-body h2:before{content:"# "!important;color:#f33b1f}.markdown-body h3{font-size:24px;padding-left:9px;border-left:6px solid #f33b1f}.markdown-body h4{font-size:20px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #bbb;margin:16px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f9f1db;color:#ee2746;border-radius:2px;font-size:16px;padding:1px 2px}.markdown-body code,.markdown-body pre{font-family:-apple-system,-apple-system-body,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,PingFang SC,æ€æºé»‘ä½“ CN,æ€æºé»‘ä½“,JetBrains Mono,Fira Code,Menlo,Ubuntu Mono,Consolas,sans-serif}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{margin:12px 0!important;border-radius:3px;font-size:15px;padding:16px 12px;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f7f7f7}.markdown-body a{text-decoration:none;color:#1781b5;padding:0 2px;border-bottom:1px solid #1781b5}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #f33b1f;color:#ac1f18}.markdown-body blockquote{color:#3d3d3d;background-color:#fff9f9;padding:6px 16px;margin:16px 0;border-left:3px solid #f07c82}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:6px 0}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:6px}.markdown-body ol li{padding-left:6px}.markdown-body ::marker{color:#f33b1f}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body .task-list-item input[type=checkbox]{position:relative}.markdown-body .task-list-item input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;border:1px solid #f07c82;border-radius:3px;box-sizing:border-box;z-index:1}.markdown-body .task-list-item input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-5px;left:0;right:0;bottom:0;width:0;height:0;color:#f33b1f;font-size:16px;font-weight:700;z-index:2}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}.markdown-body table thead{background:#fff9f9;color:#000;text-align:left;font-size:15px}.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table tr:hover{background-color:#fff9f9}.markdown-body table td,.markdown-body table th{padding:12px 7px;line-height:24px;border:1px solid #f9f1db}.markdown-body table td{min-width:120px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p>åœ¨è‡ªåŠ¨åŒ–å·¥ä½œæµä¸­ï¼Œ<strong>n8n</strong> æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç¼–æ’å·¥å…·ã€‚ä½†é»˜è®¤çš„ Docker é•œåƒä¸ºäº†è¿½æ±‚è½»é‡åŒ–ï¼Œå¾€å¾€ç¼ºå°‘å¾ˆå¤šç³»ç»Ÿçº§å·¥å…·ã€‚æœ€è¿‘æˆ‘éœ€è¦åœ¨ Windows Docker Desktop ç¯å¢ƒä¸‹çš„ n8n é‡Œè°ƒç”¨ <strong>yt-dlp</strong> ä¸‹è½½é«˜æ¸…è§†é¢‘ã€‚</p>
<p>æœ¬æ–‡è®°å½•ä¸€ä¸‹æ–¹æ¡ˆçš„é€‰å‹ä¸æ€è€ƒã€‚</p>
<h3 data-id="heading-0">1. ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠ›å¼ƒ Alpineï¼Œé€‰æ‹© Debianï¼Ÿ</h3>
<p>èµ·åˆï¼Œæˆ‘ä»¬å°è¯•åœ¨å®˜æ–¹é»˜è®¤çš„ <code>n8n:latest</code> (åŸºäº Alpine Linux) ä¸­å®‰è£… <code>python3</code> å’Œ <code>yt-dlp</code>ã€‚è™½ç„¶å®‰è£…è¿‡ç¨‹çœ‹ä¼¼é¡ºåˆ©ï¼Œä½†åœ¨è¿è¡Œæ—¶å´é­é‡äº†æ»‘é“å¢ã€‚</p>
<h4 data-id="heading-1">é‡åˆ°çš„é—®é¢˜</h4>
<ul>
<li><strong>åº•å±‚åº“ç¼ºå¤±</strong>ï¼šè¿è¡Œ yt-dlp æ—¶æŠ¥é”™ <code>posix_fallocate64: symbol not found</code>ã€‚</li>
<li><strong>åŸå› åˆ†æ</strong>ï¼šè¿™æ˜¯ Alpine (ä½¿ç”¨ musl libc) å’Œ Python æŸäº›é¢„ç¼–è¯‘äºŒè¿›åˆ¶åº“ (ä¾èµ– glibc) ä¹‹é—´çš„ç»å…¸å…¼å®¹æ€§é—®é¢˜ã€‚è™½ç„¶å¯ä»¥é€šè¿‡å®‰è£… <code>gcompat</code> å°è¯•ä¿®å¤ï¼Œä½†ç¨³å®šæ€§æå·®ã€‚</li>
<li><strong>å®˜æ–¹ Debian é•œåƒæ»å</strong>ï¼šå®˜æ–¹è™½ç„¶æä¾›äº† <code>n8n:debian</code> é•œåƒï¼Œä½†æ›´æ–°é¢‘ç‡è¿œä½äº <code>latest</code>ï¼Œæ— æ³•ä½¿ç”¨ n8n çš„æœ€æ–°åŠŸèƒ½ã€‚</li>
</ul>
<h4 data-id="heading-2">è§£å†³æ–¹æ¡ˆ</h4>
<p>ä¸ºäº†åŒæ—¶è·å¾— <strong>Debian çš„ç¨³å®šæ€§ (glibc)</strong> å’Œ <strong>n8n çš„æœ€æ–°ç‰ˆæœ¬</strong>ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨ <strong>"Node.js å®˜æ–¹é•œåƒ + æ‰‹åŠ¨å®‰è£… n8n"</strong> çš„æ„å»ºç­–ç•¥ã€‚</p>
<ul>
<li><strong>åº•åº§</strong>ï¼š<code>node:20-bookworm</code> (Debian 12ï¼Œç¨³å®šã€å…¼å®¹æ€§å¥½)ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šé€šè¿‡ <code>npm install -g n8n</code> è·å–æœ€æ–°ç‰ˆã€‚</li>
<li><strong>æ‰©å±•</strong>ï¼šåŸç”Ÿæ”¯æŒ <code>apt</code>ï¼Œè½»æ¾å®‰è£… FFmpeg å’Œ Pythonã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ„å»ºï¼šæ··åˆåŠ é€Ÿçš„ Dockerfile</h3>
<p>åœ¨å›½å†…ç½‘ç»œç¯å¢ƒä¸‹æ„å»ºè¿™ä¸ªé•œåƒæ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼š</p>
<ol>
<li><code>apt</code> å’Œ <code>npm</code> ç›´è¿é€Ÿåº¦æ…¢ï¼Œéœ€è¦å›½å†…é•œåƒæºåŠ é€Ÿã€‚</li>
<li><code>yt-dlp</code> å‘å¸ƒåœ¨ GitHubï¼Œå›½å†…é•œåƒæºæ— æ³•è¦†ç›–ï¼Œå¿…é¡»èµ°é‚£ä¸ªï¼Œé‚£ä¸ªä½ æ‡‚çš„ã€‚</li>
</ol>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ª <strong>â€œæ··åˆåŠ é€Ÿâ€</strong> çš„ <code>Dockerfile</code>ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨ Node.js 20 (Debian Bookworm) ä½œä¸ºç¨³å›ºåº•åº§
FROM node:20-bookworm

# 1. æ¥æ”¶æ„å»ºå‚æ•° (ç”¨äºè§£å†³ GitHub è¿æ¥é—®é¢˜)
ARG HTTP_PROXY
ARG HTTPS_PROXY

USER root

# -----------------------------------------------------------------------------
# ğŸš€ ä¼˜åŒ– Aï¼šç³»ç»Ÿçº§åŠ é€Ÿ (apt ä½¿ç”¨ä¸­ç§‘å¤§æº)
# Bookworm ç‰ˆæœ¬æ ¼å¼å˜åŠ¨ï¼Œä½¿ç”¨ sed æ›¿æ¢æº
RUN sed -i 's/deb.debian.org/mirrors.ustc.edu.cn/g' /etc/apt/sources.list.d/debian.sources &amp;&amp; \
    sed -i 's|security.debian.org/debian-security|mirrors.ustc.edu.cn/debian-security|g' /etc/apt/sources.list.d/debian.sources

# ğŸš€ ä¼˜åŒ– Bï¼šNodeçº§åŠ é€Ÿ (npm ä½¿ç”¨å›½å†…é•œåƒ)
RUN npm config set registry [https://registry.npmmirror.com](https://registry.npmmirror.com)
# -----------------------------------------------------------------------------

# 2. å®‰è£…ç³»ç»Ÿå·¥å…· (apt èµ°å›½å†…æºï¼Œé€Ÿåº¦é£å¿«)
# ffmpeg: åˆå¹¶é«˜æ¸…è§†é¢‘éŸ³é¢‘å¿…å¤‡
RUN apt-get update &amp;&amp; \
    apt-get install -y python3 python3-pip ffmpeg wget &amp;&amp; \
    rm -rf /var/lib/apt/lists/*

# 3. å®‰è£… yt-dlp (è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡èµ°ä»£ç†ï¼Œå› ä¸º GitHub æ­¤æ—¶å¿…é¡»ç¿»å¢™)
RUN export http_proxy=${HTTP_PROXY} &amp;&amp; \
    export https_proxy=${HTTPS_PROXY} &amp;&amp; \
    wget [https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp](https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp) -O /usr/local/bin/yt-dlp &amp;&amp; \
    chmod a+rx /usr/local/bin/yt-dlp

# 4. å®‰è£… n8n (npm èµ°å›½å†…æº)
RUN npm install -g n8n

# 5. æƒé™ä¸ç›®å½•å¤„ç†
# åˆ›å»ºæŒ‚è½½ç‚¹ /files ç”¨äºå­˜æ”¾ä¸‹è½½æ–‡ä»¶
RUN mkdir -p /home/node/.n8n /files &amp;&amp; \
    chown -R node:node /home/node/.n8n /files

# 6. åˆ‡æ¢å›å®‰å…¨ç”¨æˆ·
USER node
ENTRYPOINT ["n8n"]
</code></pre>
<h3 data-id="heading-4">3. ç¼–æ’é…ç½®ï¼šDocker Compose</h3>
<p>åœ¨ Windows Docker Desktop ç¯å¢ƒä¸‹ï¼Œè®©å®¹å™¨è¿ä¸Šå®¿ä¸»æœºçš„ä»£ç†è½¯ä»¶ï¼ˆClash/v2rayï¼‰ï¼Œå…³é”®åœ¨äº host.docker.internalã€‚</p>
<p>docker-compose.yml é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">n8n:</span>
    <span class="hljs-attr">build:</span> 
      <span class="hljs-attr">context:</span> <span class="hljs-string">.</span>
      <span class="hljs-attr">dockerfile:</span> <span class="hljs-string">Dockerfile</span>
      <span class="hljs-comment"># ä¼ é€’ä»£ç†ç»™ Dockerfile ç”¨äº wget ä¸‹è½½ yt-dlp</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">HTTP_PROXY=[http://host.docker.internal:7890](http://host.docker.internal:7890)</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">HTTPS_PROXY=[http://host.docker.internal:7890](http://host.docker.internal:7890)</span>
    
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">n8n</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5678:5678"</span>
    
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">GENERIC_TIMEZONE=Asia/Shanghai</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span>
      <span class="hljs-comment"># æŒ‡å®š n8n é…ç½®ç›®å½•</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">N8N_USER_FOLDER=/home/node/.n8n</span>
      
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-comment"># n8n æ•°æ®æŒä¹…åŒ–</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">n8n_data:/home/node/.n8n</span>
      <span class="hljs-comment"># æŒ‚è½½å®¿ä¸»æœº D ç›˜ç”¨äºå­˜æ”¾ä¸‹è½½çš„è§†é¢‘</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">D:\n8n_files:/files</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">n8n_data:</span>
</code></pre>
<h3 data-id="heading-5">4. éªŒè¯ä¸å®æˆ˜</h3>
<p>æ„å»ºå®Œæˆå (docker-compose up -d --build)ï¼Œæˆ‘ä»¬ä¸è¦æ€¥ç€å» n8n ç•Œé¢ï¼Œå…ˆåœ¨å‘½ä»¤è¡Œé‡Œè¿›è¡Œä¸€æ¬¡â€œå¤–ç§‘æ‰‹æœ¯å¼â€çš„éªŒè¯ã€‚</p>
<p>æ‰“å¼€ Windows CMDï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<h4 data-id="heading-6">éªŒè¯ä¸€ï¼šç¯å¢ƒæ£€æŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥ yt-dlp ç‰ˆæœ¬ (æˆåŠŸåˆ™è¿”å›æ—¥æœŸç‰ˆæœ¬å·)</span>
docker <span class="hljs-built_in">exec</span> -it n8n yt-dlp --version

<span class="hljs-comment"># æ£€æŸ¥ FFmpeg (æˆåŠŸåˆ™è¿”å›é…ç½®è¯¦æƒ…)</span>
docker <span class="hljs-built_in">exec</span> -it n8n ffmpeg -version
</code></pre>
<h4 data-id="heading-7">éªŒè¯äºŒï¼šç½‘ç»œä¸ä»£ç†æµ‹è¯•</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬å°è¯•åœ¨å®¹å™¨å†…é€šè¿‡å®¿ä¸»æœºä»£ç†è·å– YouTube è§†é¢‘æ ‡é¢˜ã€‚</p>
<h2 data-id="heading-8">æ³¨æ„ï¼šè¿è¡Œæ—¶ä¹Ÿéœ€è¦æŒ‡å®š --proxyï¼Œå› ä¸ºå®¹å™¨é»˜è®¤ä¸èµ°ä»£ç†</h2>
<pre><code class="hljs language-bash" lang="bash">docker <span class="hljs-built_in">exec</span> -it n8n yt-dlp --proxy <span class="hljs-string">"[http://host.docker.internal:7890](http://host.docker.internal:7890)"</span> --<span class="hljs-built_in">print</span> title [https://www.youtube.com/watch?v=dQw4w9WgXcQ](https://www.youtube.com/watch?v=dQw4w9WgXcQ)
</code></pre>
<p>ä¸éœ€è¦ä»£ç†çš„åŒå­¦å¯ä»¥åˆ æ‰ <code>--proxy "[http://host.docker.internal:7890](http://host.docker.internal:7890)"</code></p>
<p>å¦‚æœè¾“å‡ºäº† Rick Astley - Never Gonna Give You Up...ï¼Œæ­å–œä½ ï¼Œç½‘ç»œå®Œå…¨æ‰“é€šï¼</p>
<h4 data-id="heading-9">éªŒè¯ä¸‰ï¼šçœŸå®ä¸‹è½½æµ‹è¯•</h4>
<p>ç›´æ¥å°†è§†é¢‘ä¸‹è½½åˆ°å®¿ä¸»æœºçš„ D:\n8n_files ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker <span class="hljs-built_in">exec</span> -it n8n yt-dlp -o <span class="hljs-string">"/files/test_video.mp4"</span> [https://www.youtube.com/watch?v=dQw4w9WgXcQ](https://www.youtube.com/watch?v=dQw4w9WgXcQ)
</code></pre>
<p>ä»£ç†é…ç½®å¦‚æœéœ€è¦å°±å‚è€ƒéªŒè¯äºŒåŠ ä¸Šã€‚</p>
<p>å» D ç›˜æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸”èƒ½æ­£å¸¸æ’­æ”¾ï¼ˆæœ‰å£°éŸ³è¯´æ˜ FFmpeg å·¥ä½œæ­£å¸¸ï¼‰ã€‚</p>
<h3 data-id="heading-10">5. åœ¨ n8n ä¸­ä½¿ç”¨</h3>
<p>ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨ n8n çš„æµç¨‹ä¸­æ·»åŠ  "Execute Command" èŠ‚ç‚¹ï¼Œå°½æƒ…ä½¿ç”¨ yt-dlp äº†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">yt-dlp --proxy <span class="hljs-string">"[http://host.docker.internal:7890](http://host.docker.internal:7890)"</span> -o <span class="hljs-string">'/files/%(title)s.%(ext)s'</span> {{ <span class="hljs-variable">$json</span>.url }}
</code></pre>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡è¿™æ¬¡æ”¹é€ ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ol>
<li>
<p>ç¨³å®šæ€§ï¼šDebian åº•åº§å½»åº•è§£å†³äº† Python è¿è¡Œåº“æŠ¥é”™çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>æ—¶æ•ˆæ€§ï¼šé€šè¿‡ npm å®‰è£…ï¼Œæ°¸è¿œå¯ä»¥ä½¿ç”¨æœ€æ–°ç‰ˆçš„ n8nã€‚</p>
</li>
<li>
<p>åŠŸèƒ½æ€§ï¼šé›†æˆäº† FFmpeg å’Œ yt-dlpï¼Œæ”¯æŒæœ€é«˜ç”»è´¨è§†é¢‘ä¸‹è½½ã€‚</p>
</li>
<li>
<p>é€Ÿåº¦ï¼šæ„å»ºè¿‡ç¨‹åˆ©ç”¨å›½å†…æºï¼Œè¿è¡Œè¿‡ç¨‹åˆ©ç”¨å®¿ä¸»æœºä»£ç†ï¼Œå…¼é¡¾äº†é€Ÿåº¦ä¸è¿é€šæ€§ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rippleï¼šä¸€ä¸ªç°ä»£çš„å“åº”å¼ UI æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7593261984189153330</link>    <guid>https://juejin.cn/post/7593261984189153330</guid>    <pubDate>2026-01-10T04:42:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593261984189153330" data-draft-id="7593212374921625627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rippleï¼šä¸€ä¸ªç°ä»£çš„å“åº”å¼ UI æ¡†æ¶"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶,JavaScript"/> <meta itemprop="datePublished" content="2026-01-10T04:42:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump_jump"/> <meta itemprop="url" content="https://juejin.cn/user/4230576474692765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rippleï¼šä¸€ä¸ªç°ä»£çš„å“åº”å¼ UI æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576474692765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump_jump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T04:42:37.000Z" title="Sat Jan 10 2026 04:42:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    37
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç”¨æœ€ç›´è§‚çš„è¯­æ³•ï¼Œæ„å»ºæœ€é«˜æ•ˆçš„ Web åº”ç”¨</p>
</blockquote>
<h2 data-id="heading-0">AI æ—¶ä»£ï¼Œæ›´éœ€è¦ç²¾å“æ¡†æ¶</h2>
<p>2026 å¹´ï¼ŒAI ç¼–ç¨‹å·²ç»æˆä¸ºå¸¸æ€ã€‚Cursorã€Claudeã€Copilotâ€¦â€¦å¼€å‘è€…æ¯å¤©éƒ½åœ¨ç”¨ AI ç”Ÿæˆå¤§é‡ä»£ç ã€‚</p>
<p>ä½†è¿™å¸¦æ¥äº†ä¸€ä¸ªæ–°é—®é¢˜ï¼š<strong>ä»£ç é‡çˆ†ç‚¸ï¼Œè´¨é‡å´åœ¨ä¸‹é™ã€‚</strong></p>
<p>AI å¯ä»¥å¿«é€Ÿç”Ÿæˆä»£ç ï¼Œä½†å®ƒç”Ÿæˆçš„å¾€å¾€æ˜¯"èƒ½è·‘å°±è¡Œ"çš„ä»£ç â€”â€”å†—ä½™çš„çŠ¶æ€ç®¡ç†ã€ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€è‡ƒè‚¿çš„ä¾èµ–ã€‚å½“é¡¹ç›®è§„æ¨¡å¢é•¿ï¼Œè¿™äº›é—®é¢˜ä¼šè¢«æ”¾å¤§ã€‚</p>
<p><strong>AI æ—¶ä»£ä¸ç¼ºä»£ç ï¼Œç¼ºçš„æ˜¯ç²¾å“æ¡†æ¶</strong>â€”â€”èƒ½å¤Ÿçº¦æŸä»£ç è´¨é‡ã€ä¿è¯æ€§èƒ½ã€å‡å°‘å‡ºé”™çš„æ¡†æ¶ã€‚</p>
<h3 data-id="heading-1">ç°æœ‰æ¡†æ¶çš„é—®é¢˜</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// React: æ ·æ¿ä»£ç å¤ªå¤š</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> increment = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
  }, [])
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}

<span class="hljs-comment">// Vue: éœ€è¦è®°ä½ .value</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
count.<span class="hljs-property">value</span>++  <span class="hljs-comment">// å¿˜è®° .value å°±å‡ºé”™</span>

<span class="hljs-comment">// è¿™äº›"ä»ªå¼æ„Ÿ"ä»£ç ï¼ŒAI å¯èƒ½å†™å¯¹ï¼Œä¹Ÿå¯èƒ½å†™é”™</span>
<span class="hljs-comment">// æ›´é‡è¦çš„æ˜¯ï¼šå®ƒä»¬è®©ä»£ç å˜å¾—è‡ƒè‚¿</span>
</code></pre>
<h3 data-id="heading-2">Ripple çš„ç­”æ¡ˆï¼šå°‘å³æ˜¯å¤š</h3>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Counter</span>() {
  <span class="hljs-keyword">let</span> count = <span class="hljs-title function_">track</span>(<span class="hljs-number">0</span>);
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> @count++}&gt;{@count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<p><strong>4 è¡Œä»£ç ï¼Œé›¶æ ·æ¿ã€‚</strong></p>
<ul>
<li>æ²¡æœ‰ <code>useState</code> / <code>ref</code> / <code>signal</code></li>
<li>æ²¡æœ‰ <code>useCallback</code> / <code>useMemo</code></li>
<li>æ²¡æœ‰ <code>.value</code> / <code>$:</code></li>
<li>ç¼–è¯‘å™¨è‡ªåŠ¨ä¼˜åŒ–ï¼Œè¿è¡Œæ—¶æè‡´ç²¾ç®€</li>
</ul>





























<table><thead><tr><th>æŒ‡æ ‡</th><th>React</th><th>Vue</th><th>Ripple</th></tr></thead><tbody><tr><td>è®¡æ•°å™¨ä»£ç è¡Œæ•°</td><td>6-8 è¡Œ</td><td>4-5 è¡Œ</td><td><strong>3 è¡Œ</strong></td></tr><tr><td>è¿è¡Œæ—¶å¤§å°</td><td>~40KB</td><td>~30KB</td><td><strong>~5KB</strong></td></tr><tr><td>æ›´æ–°ç²’åº¦</td><td>ç»„ä»¶çº§</td><td>ç»„ä»¶çº§</td><td><strong>èŠ‚ç‚¹çº§</strong></td></tr></tbody></table>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆè¿™åœ¨ AI æ—¶ä»£æ›´é‡è¦ï¼Ÿ</h3>
<ol>
<li><strong>ä»£ç å®¡æŸ¥æˆæœ¬</strong>ï¼šAI ç”Ÿæˆçš„ä»£ç éœ€è¦äººå·¥å®¡æŸ¥ï¼Œè¶Šç®€æ´è¶Šå¥½å®¡</li>
<li><strong>é”™è¯¯æ¦‚ç‡</strong>ï¼šè¯­æ³•è¶Šç®€å•ï¼ŒAIï¼ˆå’Œäººï¼‰å‡ºé”™çš„æœºä¼šè¶Šå°‘</li>
<li><strong>æ€§èƒ½å…œåº•</strong>ï¼šå³ä½¿ AI ä¸è€ƒè™‘æ€§èƒ½ï¼Œç¼–è¯‘å™¨ä¼šå¸®ä½ ä¼˜åŒ–</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šä¸‰ä¸ªæœˆåå›çœ‹ä»£ç ï¼Œè¿˜èƒ½ä¸€çœ¼çœ‹æ‡‚</li>
</ol>
<p>Ripple çš„è®¾è®¡å“²å­¦ï¼š<strong>ä»£ç åº”è¯¥è¯»èµ·æ¥åƒå®ƒåšçš„äº‹æƒ…ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆé€‰æ‹© Rippleï¼Ÿ</h2>
<p>Ripple è¿½æ±‚<strong>ä¸¤å…¨å…¶ç¾</strong>â€”â€”æ—¢è¦ React çš„ç»„ä»¶æ¨¡å‹å’Œ JSX è¡¨è¾¾åŠ›ï¼Œåˆè¦ Svelte çš„ç¼–è¯‘æ—¶ä¼˜åŒ–å’Œæè‡´æ€§èƒ½ã€‚</p>
<p>çœ‹çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Counter</span>() {
  <span class="hljs-keyword">let</span> count = <span class="hljs-title function_">track</span>(<span class="hljs-number">0</span>);

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> @count++}&gt;
    {"ç‚¹å‡»äº† "}{@count}{" æ¬¡"}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<p>è¿™å°±æ˜¯ Rippleã€‚æ²¡æœ‰ <code>useState</code>ï¼Œæ²¡æœ‰ <code>$:</code>ï¼Œæ²¡æœ‰ <code>.value</code>ã€‚<code>track()</code> åˆ›å»ºçŠ¶æ€ï¼Œ<code>@</code> è¯»å†™å€¼ï¼Œç®€æ´ç›´è§‚ã€‚</p>
<h2 data-id="heading-5">æ ¸å¿ƒç†å¿µ</h2>
<h3 data-id="heading-6">1. ç¼–è¯‘å™¨ä¼˜å…ˆ</h3>
<p>Ripple ä¸æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶æ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ç¼–è¯‘å™¨</strong>ã€‚ä½ å†™çš„ä»£ç ä¼šè¢«è½¬æ¢æˆé«˜æ•ˆçš„ JavaScriptï¼š</p>
<pre><code class="hljs language-swift" lang="swift">ä½ å†™çš„ä»£ç                          ç¼–è¯‘åçš„ä»£ç 
<span class="hljs-operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>                     <span class="hljs-operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">let</span> count <span class="hljs-operator">=</span> track(<span class="hljs-number">0</span>)    <span class="hljs-operator">â†’</span>        <span class="hljs-keyword">var</span> count <span class="hljs-operator">=</span> <span class="hljs-keyword">_</span><span class="hljs-variable">$_</span>.tracked(<span class="hljs-number">0</span>)
{<span class="hljs-meta">@count</span>}                <span class="hljs-operator">â†’</span>        <span class="hljs-keyword">_</span><span class="hljs-variable">$_</span>.get(count)
<span class="hljs-meta">@count</span><span class="hljs-operator">++</span>                <span class="hljs-operator">â†’</span>        <span class="hljs-keyword">_</span><span class="hljs-variable">$_</span>.update(count)
</code></pre>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>é›¶è¿è¡Œæ—¶å¼€é”€</strong>ï¼šå“åº”å¼è¿½è¸ªåœ¨ç¼–è¯‘æ—¶å®Œæˆ</li>
<li><strong>æ›´å°çš„åŒ…ä½“ç§¯</strong>ï¼šæ²¡æœ‰è™šæ‹Ÿ DOM diff ç®—æ³•</li>
<li><strong>æ›´å¿«çš„æ›´æ–°</strong>ï¼šç›´æ¥æ“ä½œéœ€è¦æ›´æ–°çš„ DOM èŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-7">2. ç»„ä»¶å³å‡½æ•°</h3>
<p>åœ¨ Ripple ä¸­ï¼Œç»„ä»¶å°±æ˜¯å¸¦æœ‰ <code>component</code> å…³é”®å­—çš„å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Greeting</span>({ name = <span class="hljs-string">"World"</span> }) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{"Hello, "}{name}{"!"}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
&lt;<span class="hljs-title class_">Greeting</span> name=<span class="hljs-string">"Ripple"</span> /&gt;
</code></pre>
<h3 data-id="heading-8">3. å“åº”å¼çŠ¶æ€ï¼š<code>track()</code> å’Œ <code>@</code> è¯­æ³•</h3>
<p>ç”¨ <code>track()</code> åˆ›å»ºå“åº”å¼å˜é‡ï¼Œç”¨ <code>@</code> è¯»å†™å€¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Form</span>() {
  <span class="hljs-keyword">let</span> name = <span class="hljs-title function_">track</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">let</span> email = <span class="hljs-title function_">track</span>(<span class="hljs-string">""</span>);

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{@name}</span> <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> @name = e.target.value} /&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{@email}</span> <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> @email = e.target.value} /&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{"ä½ å¥½ï¼Œ"}{@name}{"ï¼æˆ‘ä»¬ä¼šå‘é‚®ä»¶åˆ° "}{@email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-9">4. å“åº”å¼é›†åˆï¼š<code>#[]</code> å’Œ <code>#{}</code></h3>
<p>æ•°ç»„å’Œå¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å“åº”å¼çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> items = #[];                          <span class="hljs-comment">// å“åº”å¼æ•°ç»„</span>
<span class="hljs-keyword">const</span> user = #{ <span class="hljs-attr">name</span>: <span class="hljs-string">"Tom"</span> };              <span class="hljs-comment">// å“åº”å¼å¯¹è±¡</span>
<span class="hljs-keyword">const</span> tags = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrackedSet</span>([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>]);    <span class="hljs-comment">// å“åº”å¼ Set</span>
<span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrackedMap</span>([[<span class="hljs-string">"k"</span>, <span class="hljs-string">"v"</span>]]); <span class="hljs-comment">// å“åº”å¼ Map</span>
</code></pre>
<p>å¯¹è¿™äº›é›†åˆçš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šè‡ªåŠ¨è§¦å‘ UI æ›´æ–°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">items.<span class="hljs-title function_">push</span>(<span class="hljs-string">"new item"</span>);   <span class="hljs-comment">// UI è‡ªåŠ¨æ›´æ–°</span>
user.<span class="hljs-property">name</span> = <span class="hljs-string">"Jerry"</span>;      <span class="hljs-comment">// UI è‡ªåŠ¨æ›´æ–°</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">å®æˆ˜ï¼šæ„å»ºä¸€ä¸ª Todo åº”ç”¨</h2>
<p>è®©æˆ‘ä»¬ç”¨ Ripple æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Todo åº”ç”¨ï¼Œä½“éªŒæ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ã€‚</p>
<h3 data-id="heading-11">å®Œæ•´ä»£ç </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { track } <span class="hljs-keyword">from</span> <span class="hljs-string">'ripple'</span>;

component <span class="hljs-title class_">TodoInput</span>({ onAdd }) {
  <span class="hljs-keyword">let</span> value = <span class="hljs-title function_">track</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleKeyDown</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">"Enter"</span> &amp;&amp; @value.<span class="hljs-title function_">trim</span>()) {
      <span class="hljs-title function_">onAdd</span>(@value.<span class="hljs-title function_">trim</span>());
      @value = <span class="hljs-string">""</span>;
    }
  }

  &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"input-section"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span>
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Add a new todo..."</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{@value}</span>
      <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> @value = e.target.value}
      onKeyDown={handleKeyDown}
    /&gt;</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> { if (@value.trim()) { onAdd(@value.trim()); @value = ""; } }}&gt;{"Add"}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  &lt;/div&gt;
}

component <span class="hljs-title class_">TodoItem</span>({ todo, onToggle, onDelete }) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">{todo.completed}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{onToggle}</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{todo.completed</span> ? "<span class="hljs-attr">done</span>" <span class="hljs-attr">:</span> ""}&gt;</span>{todo.text}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onDelete}</span>&gt;</span>{"Ã—"}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> component <span class="hljs-title class_">App</span>() {
  <span class="hljs-keyword">const</span> todos = #[];

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">addTodo</span>(<span class="hljs-params">text</span>) {
    todos.<span class="hljs-title function_">push</span>(#{ <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), text, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> });
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">toggleTodo</span>(<span class="hljs-params">todo</span>) {
    todo.<span class="hljs-property">completed</span> = !todo.<span class="hljs-property">completed</span>;
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteTodo</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">const</span> index = todos.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === id);
    <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) todos.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">activeCount</span> = (<span class="hljs-params"/>) =&gt; todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">completed</span>).<span class="hljs-property">length</span>;

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{"Todo App"}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TodoInput</span> <span class="hljs-attr">onAdd</span>=<span class="hljs-string">{addTodo}</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      for (const todo of todos) {
        <span class="hljs-tag">&lt;<span class="hljs-name">TodoItem</span>
          <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>
          <span class="hljs-attr">onToggle</span>=<span class="hljs-string">{()</span> =&gt;</span> toggleTodo(todo)}
          onDelete={() =&gt; deleteTodo(todo.id)}
        /&gt;
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{todos.length}{" total, "}{activeCount()}{" remaining"}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.app</span> { <span class="hljs-attribute">max-width</span>: <span class="hljs-number">400px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">40px</span> auto; <span class="hljs-attribute">font-family</span>: system-ui; }
    <span class="hljs-selector-tag">h1</span> { <span class="hljs-attribute">color</span>: <span class="hljs-number">#e91e63</span>; }
    <span class="hljs-selector-class">.input-section</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">16px</span>; }
    <span class="hljs-selector-class">.input-section</span> <span class="hljs-selector-tag">input</span> { <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; }
    <span class="hljs-selector-tag">ul</span> { <span class="hljs-attribute">list-style</span>: none; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; }
    <span class="hljs-selector-tag">li</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; }
    <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">span</span> { <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>; }
    <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">span</span><span class="hljs-selector-class">.done</span> { <span class="hljs-attribute">text-decoration</span>: line-through; <span class="hljs-attribute">color</span>: <span class="hljs-number">#888</span>; }
    <span class="hljs-selector-tag">p</span> { <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>; }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-12">ä»£ç è§£æ</h3>
<h4 data-id="heading-13">1. å“åº”å¼æ•°ç»„ <code>#[]</code></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> todos = #[];
</code></pre>
<p><code>#[]</code> åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°ç»„ã€‚å½“ä½ è°ƒç”¨ <code>push</code>ã€<code>splice</code>ã€<code>filter</code> ç­‰æ–¹æ³•æ—¶ï¼ŒRipple ä¼šè‡ªåŠ¨è¿½è¸ªå˜åŒ–å¹¶æ›´æ–° UIã€‚</p>
<h4 data-id="heading-14">2. å“åº”å¼å¯¹è±¡ <code>#{}</code></h4>
<pre><code class="hljs language-javascript" lang="javascript">todos.<span class="hljs-title function_">push</span>(#{ <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), text, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> });
</code></pre>
<p>æ¯ä¸ª todo é¡¹ä¹Ÿæ˜¯å“åº”å¼å¯¹è±¡ï¼Œè¿™æ · <code>todo.completed = !todo.completed</code> å°±èƒ½è§¦å‘æ›´æ–°ã€‚</p>
<h4 data-id="heading-15">3. æ§åˆ¶æµï¼šå†…è” <code>for</code> å’Œ <code>if</code></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> todo <span class="hljs-keyword">of</span> todos) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TodoItem</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span> <span class="hljs-attr">...</span> /&gt;</span></span>
}

<span class="hljs-keyword">if</span> (todos.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">completed</span>)) {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>{"æ¸…é™¤å·²å®Œæˆ"}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
}
</code></pre>
<p>Ripple çš„æ§åˆ¶æµç›´æ¥å†™åœ¨ JSX ä¸­ï¼Œä¸éœ€è¦ <code>map</code> æˆ–ä¸‰å…ƒè¡¨è¾¾å¼ã€‚ç¼–è¯‘å™¨ä¼šå°†å…¶è½¬æ¢ä¸ºé«˜æ•ˆçš„ block ç»“æ„ã€‚</p>
<h4 data-id="heading-16">4. ä½œç”¨åŸŸæ ·å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript">&lt;style&gt;
  .<span class="hljs-property">todo</span>-item { ... }
&lt;/style&gt;
</code></pre>
<p>ç»„ä»¶å†…çš„ <code>&lt;style&gt;</code> æ ‡ç­¾ä¼šè¢«è‡ªåŠ¨æ·»åŠ ä½œç”¨åŸŸå“ˆå¸Œï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€æ ·å¼ã€‚</p>
<hr/>
<h2 data-id="heading-17">ç¼–è¯‘äº§ç‰©ä¸€è§ˆ</h2>
<p>å¥½å¥‡ Ripple ç¼–è¯‘å™¨åšäº†ä»€ä¹ˆï¼Ÿæ¥çœ‹çœ‹ <code>@count++</code> è¿™è¡Œä»£ç çš„æ—…ç¨‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">æºç                      ç¼–è¯‘é˜¶æ®µ               è¿è¡Œæ—¶
â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€

let count = <span class="hljs-built_in">track</span>(<span class="hljs-number">0</span>)  â†’  è§£æä¸º AST     â†’    <span class="hljs-selector-tag">var</span> count = _$_<span class="hljs-selector-class">.tracked</span>(<span class="hljs-number">0</span>)
                         (TrackedExpression)

<span class="hljs-keyword">@count</span>++              â†’  åˆ†æç»‘å®šç±»å‹    â†’    _$_.<span class="hljs-attribute">update</span>(count)
                         (<span class="hljs-attribute">kind</span>: <span class="hljs-string">'tracked'</span>)

{<span class="hljs-keyword">@count</span>}              â†’  è½¬æ¢ä¸ºæ¸²æŸ“å‡½æ•°  â†’    _$_.render(() =&gt; {
                                               _$_<span class="hljs-selector-class">.set_text</span>(anchor, _$_.get(count))
                                             })
</code></pre>
<p><strong>ä¸‰é˜¶æ®µç¼–è¯‘æµç¨‹ï¼š</strong></p>
<ol>
<li><strong>è§£æ (Parse)</strong>ï¼šå°†æºç è½¬ä¸º ASTï¼Œè¯†åˆ« <code>@</code>ã€<code>#[]</code>ã€<code>component</code> ç­‰ç‰¹æ®Šè¯­æ³•</li>
<li><strong>åˆ†æ (Analyze)</strong>ï¼šæ„å»ºä½œç”¨åŸŸã€æ ‡è®°å˜é‡ç±»å‹ã€è£å‰ªæœªä½¿ç”¨çš„ CSS</li>
<li><strong>è½¬æ¢ (Transform)</strong>ï¼šç”Ÿæˆå®¢æˆ·ç«¯/æœåŠ¡ç«¯ JavaScript ä»£ç </li>
</ol>
<hr/>
<h2 data-id="heading-18">ä¸å…¶ä»–æ¡†æ¶å¯¹æ¯”</h2>





























































<table><thead><tr><th>ç‰¹æ€§</th><th>Ripple</th><th>React</th><th>Vue 3</th><th>Svelte</th></tr></thead><tbody><tr><td>å“åº”å¼è¯­æ³•</td><td><code>track()</code> + <code>@</code></td><td><code>useState</code></td><td><code>ref().value</code></td><td><code>$:</code></td></tr><tr><td>è™šæ‹Ÿ DOM</td><td>æ— </td><td>æœ‰</td><td>æœ‰</td><td>æ— </td></tr><tr><td>ç¼–è¯‘æ—¶ä¼˜åŒ–</td><td>æ˜¯</td><td>å¦</td><td>éƒ¨åˆ†</td><td>æ˜¯</td></tr><tr><td>åŒ…ä½“ç§¯</td><td>~5KB</td><td>~40KB</td><td>~30KB</td><td>~2KB</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>ä½</td><td>ä¸­</td><td>ä¸­</td><td>ä½</td></tr><tr><td>æ§åˆ¶æµ</td><td>å†…è”è¯­æ³•</td><td>map/ä¸‰å…ƒ</td><td>v-if/v-for</td><td>{#if}/{#each}</td></tr><tr><td>æ ·æ¿ä»£ç </td><td><strong>æå°‘</strong></td><td>å¤š</td><td>ä¸­</td><td>å°‘</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">ç¼–è¯‘å™¨ï¼šè´¨é‡çš„å®ˆæŠ¤è€…</h2>
<p>Ripple çš„ç¼–è¯‘å™¨ä¸åªæ˜¯"ç¿»è¯‘"ä»£ç ï¼Œå®ƒæ˜¯ä»£ç è´¨é‡çš„å®ˆæŠ¤è€…ï¼š</p>
<h3 data-id="heading-20">1. è‡ªåŠ¨ä¾èµ–è¿½è¸ª</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½ åªéœ€è¦å†™ä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fullName</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-string">`<span class="hljs-subst">${@firstName}</span> <span class="hljs-subst">${@lastName}</span>`</span>

<span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†æä¾èµ–ï¼Œç”Ÿæˆä¼˜åŒ–ä»£ç ï¼š</span>
<span class="hljs-comment">// _$_.render(() =&gt; set_text(anchor, `${get(firstName)} ${get(lastName)}`))</span>
</code></pre>
<p>ä¸éœ€è¦ <code>useMemo([dep1, dep2])</code>ï¼Œç¼–è¯‘å™¨æ¯”ä½ æ›´æ¸…æ¥šä¾èµ–å…³ç³»ã€‚</p>
<h3 data-id="heading-21">2. CSS æ­»ä»£ç æ¶ˆé™¤</h3>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Button</span>() {
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span>&gt;</span>{"Click"}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.primary</span> { <span class="hljs-attribute">background</span>: blue; }
    <span class="hljs-selector-class">.secondary</span> { <span class="hljs-attribute">background</span>: gray; }  <span class="hljs-comment">/* ç¼–è¯‘å™¨è‡ªåŠ¨ç§»é™¤ */</span>
    <span class="hljs-selector-class">.danger</span> { <span class="hljs-attribute">background</span>: red; }      <span class="hljs-comment">/* ç¼–è¯‘å™¨è‡ªåŠ¨ç§»é™¤ */</span>
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
}
</code></pre>
<p>ä¸ç”¨æ‹…å¿ƒ CSS è¶Šå†™è¶Šå¤šï¼Œç¼–è¯‘å™¨åªä¿ç•™çœŸæ­£ç”¨åˆ°çš„æ ·å¼ã€‚</p>
<h3 data-id="heading-22">3. ç»†ç²’åº¦æ›´æ–°</h3>
<pre><code class="hljs language-javascript" lang="javascript">component <span class="hljs-title class_">Profile</span>() {
  <span class="hljs-keyword">const</span> user = #{ <span class="hljs-attr">name</span>: <span class="hljs-string">"Tom"</span>, <span class="hljs-attr">bio</span>: <span class="hljs-string">"Developer"</span> };

  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>      {/* åªåœ¨ name å˜åŒ–æ—¶æ›´æ–° */}
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{user.bio}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>         {/* åªåœ¨ bio å˜åŒ–æ—¶æ›´æ–° */}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p>ç¼–è¯‘å™¨åˆ†ææ¯ä¸ªè¡¨è¾¾å¼çš„ä¾èµ–ï¼Œç”Ÿæˆæœ€ç²¾ç¡®çš„æ›´æ–°é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-23">è®© AI æ›´æ‡‚ Ripple</h2>
<p>Ripple æä¾›äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ripplejs.com%2Fllms.txt" target="_blank" title="https://www.ripplejs.com/llms.txt" ref="nofollow noopener noreferrer">llms.txt</a>ï¼Œè¿™æ˜¯ä¸€ä»½ä¸“ä¸º AI åŠ©æ‰‹è®¾è®¡çš„æ¡†æ¶è¯´æ˜æ–‡æ¡£ã€‚</p>
<p>å½“ä½ ä½¿ç”¨ Claudeã€ChatGPT æˆ–å…¶ä»– AI åŠ©æ‰‹æ—¶ï¼Œå¯ä»¥è®©å®ƒå…ˆé˜…è¯»è¿™ä»½æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">è¯·å…ˆé˜…è¯» https:<span class="hljs-comment">//www.ripplejs.com/llms.txtï¼Œç„¶åå¸®æˆ‘ç”¨ Ripple æ¡†æ¶å®ç°ä¸€ä¸ª [åŠŸèƒ½æè¿°]</span>
</code></pre>
<p>llms.txt åŒ…å«ï¼š</p>
<ul>
<li>Ripple æ ¸å¿ƒè¯­æ³•é€ŸæŸ¥</li>
<li>å¸¸è§æ¨¡å¼å’Œæœ€ä½³å®è·µ</li>
<li>æ˜“é”™ç‚¹å’Œæ­£ç¡®å†™æ³•</li>
<li>å®Œæ•´ç¤ºä¾‹ä»£ç </li>
</ul>
<p>è¿™ç¡®ä¿ AI ç”Ÿæˆçš„ä»£ç ç¬¦åˆ Ripple çš„è®¾è®¡ç†å¿µï¼Œè€Œä¸æ˜¯ç”¨ React çš„æ€ç»´å†™ Rippleã€‚</p>
<hr/>
<h2 data-id="heading-24">å¿«é€Ÿå¼€å§‹</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–°é¡¹ç›®</span>
npx create-ripple-app my-app
<span class="hljs-built_in">cd</span> my-app

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
npm run dev
</code></pre>
<p>ç„¶åæ‰“å¼€ <code>src/App.ripple</code>ï¼Œå¼€å§‹ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ª Ripple ç»„ä»¶ï¼</p>
<hr/>
<h2 data-id="heading-25">å†™åœ¨æœ€å</h2>
<p>AI è®©å†™ä»£ç å˜å¾—æ›´å¿«äº†ï¼Œä½†"æ›´å¿«"ä¸ç­‰äº"æ›´å¥½"ã€‚</p>
<p>å½“ä»£ç ç”Ÿæˆçš„é€Ÿåº¦è¶…è¿‡ç†è§£çš„é€Ÿåº¦ï¼Œæˆ‘ä»¬æ›´éœ€è¦ï¼š</p>
<ul>
<li><strong>ç²¾ç®€çš„è¯­æ³•</strong> â€” è®©ä»£ç é‡å›å½’ç†æ€§</li>
<li><strong>ç¼–è¯‘æ—¶ä¼˜åŒ–</strong> â€” è®©æ€§èƒ½æœ‰ä¿éšœ</li>
<li><strong>ç›´è§‚çš„å¿ƒæ™ºæ¨¡å‹</strong> â€” è®©ç»´æŠ¤ä¸å†ç—›è‹¦</li>
</ul>
<p>Ripple ä¸æ˜¯ä¸ºäº†è¿½é€æ–°æ¦‚å¿µè€Œç”Ÿï¼Œè€Œæ˜¯å¯¹"å‰ç«¯å¼€å‘åº”è¯¥æ˜¯ä»€ä¹ˆæ ·"çš„ä¸€æ¬¡å›ç­”ã€‚</p>
<p><strong>å°‘å†™ä»£ç ï¼Œå†™å¥½ä»£ç ã€‚</strong></p>
<hr/>
<p><em>Ripple â€” è®©å“åº”å¼å›å½’ç®€å•</em></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fripple" target="_blank" title="https://github.com/anthropics/ripple" ref="nofollow noopener noreferrer">GitHub</a> Â· <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ripplejs.com" target="_blank" title="https://www.ripplejs.com" ref="nofollow noopener noreferrer">æ–‡æ¡£</a> Â· <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ripplejs.com%2Fllms.txt" target="_blank" title="https://www.ripplejs.com/llms.txt" ref="nofollow noopener noreferrer">llms.txt</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WinForms å½»åº•éšè— æ»šåŠ¨æ¡çš„ç»ˆæè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7593311807587745798</link>    <guid>https://juejin.cn/post/7593311807587745798</guid>    <pubDate>2026-01-11T09:48:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593311807587745798" data-draft-id="7593358143691014207" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WinForms å½»åº•éšè— æ»šåŠ¨æ¡çš„ç»ˆæè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="C#"/> <meta itemprop="datePublished" content="2026-01-11T09:48:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¡Œæ­¢95"/> <meta itemprop="url" content="https://juejin.cn/user/297339374808378"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WinForms å½»åº•éšè— æ»šåŠ¨æ¡çš„ç»ˆæè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/297339374808378/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¡Œæ­¢95
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:48:15.000Z" title="Sun Jan 11 2026 09:48:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">WinForms å½»åº•éšè— æ»šåŠ¨æ¡çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</h2>
<p align="center"> <b>Winfromæ€ä¹ˆéšè—åŸç”Ÿæ»šåŠ¨æ¡ï¼ï¼ï¼</b> </p>
<p align="center"> <b>Winfromæ€ä¹ˆéšè—åŸç”Ÿæ»šåŠ¨æ¡ï¼ï¼ï¼</b> </p>
<p align="center"> <b>Winfromæ€ä¹ˆéšè—åŸç”Ÿæ»šåŠ¨æ¡ï¼ï¼ï¼</b> </p>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨å¼€å‘ WinForms åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨ <code>Panel</code> çš„ <code>AutoScroll</code> åŠŸèƒ½æ¥å¤„ç†è¶…å‡ºæ˜¾ç¤ºåŒºåŸŸçš„å†…å®¹ã€‚ä½†æ˜¯ï¼Œç³»ç»Ÿé»˜è®¤çš„æ»šåŠ¨æ¡æ ·å¼å¾€å¾€ä¸æˆ‘ä»¬çš„ UI è®¾è®¡æ ¼æ ¼ä¸å…¥ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨æ·±è‰²ä¸»é¢˜æ—¶ã€‚æœ¬æ–‡å°†åˆ†äº«ä¸€ä¸ª<strong>å½»åº•éšè—æ»šåŠ¨æ¡åŒæ—¶ä¿ç•™æ»šåŠ¨åŠŸèƒ½</strong>çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠæˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­è¸©è¿‡çš„æ‰€æœ‰å‘ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€å®ç°æ–¹æ¡ˆ</h3>
<h4 data-id="heading-3">1.1 éœ€æ±‚åˆ†æ</h4>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>âœ… å®Œå…¨éšè— Panel çš„æ»šåŠ¨æ¡ï¼ˆåŒ…æ‹¬åˆå§‹çŠ¶æ€å’Œæ»šåŠ¨æ—¶ï¼‰</li>
<li>âœ… ä¿ç•™ <code>AutoScroll</code> åŠŸèƒ½ï¼ˆé€šè¿‡é¼ æ ‡æ»šè½®æ»šåŠ¨ï¼‰</li>
<li>âœ… è‡ªå®šä¹‰æ»šåŠ¨æŒ‡ç¤ºå™¨ï¼ˆå¯é€‰ï¼Œä½¿ç”¨æ¸å˜é˜´å½±æç¤ºæ»šåŠ¨çŠ¶æ€ï¼‰</li>
</ul>
<h4 data-id="heading-4">1.2 æ ¸å¿ƒæŠ€æœ¯åŸç†</h4>
<p>WinForms çš„æ»šåŠ¨æ¡æœ¬è´¨ä¸Šæ˜¯çª—å£æ ·å¼çš„ä¸€éƒ¨åˆ†ï¼Œè¦å½»åº•éšè—å®ƒï¼Œéœ€è¦ä»ä¸¤ä¸ªå±‚é¢å…¥æ‰‹ï¼š</p>
<h5 data-id="heading-5"><strong>ç¬¬ä¸€å±‚ï¼šçª—å£åˆ›å»ºæ—¶ç§»é™¤æ»šåŠ¨æ¡æ ·å¼</strong></h5>
<p>é€šè¿‡é‡å†™ <code>CreateParams</code> å±æ€§ï¼Œåœ¨çª—å£åˆ›å»ºæ—¶å°±ç§»é™¤æ»šåŠ¨æ¡çš„æ ·å¼æ ‡å¿—ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
{
    <span class="hljs-keyword">get</span>
    {
        CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
        cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL (å‚ç›´æ»šåŠ¨æ¡)</span>
        cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL (æ°´å¹³æ»šåŠ¨æ¡)</span>
        <span class="hljs-keyword">return</span> cp;
    }
}
</code></pre>
<p><strong>Windows æ ·å¼æ ‡å¿—è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>WS_VSCROLL (0x00200000)</code>ï¼šå‚ç›´æ»šåŠ¨æ¡æ ·å¼</li>
<li><code>WS_HSCROLL (0x00100000)</code>ï¼šæ°´å¹³æ»šåŠ¨æ¡æ ·å¼</li>
<li><code>&amp;= ~</code> æ“ä½œï¼šæŒ‰ä½æ¸…é™¤æŒ‡å®šæ ‡å¿—</li>
</ul>
<h5 data-id="heading-6"><strong>ç¬¬äºŒå±‚ï¼šæ‹¦æˆªéå®¢æˆ·åŒºè®¡ç®—æ¶ˆæ¯</strong></h5>
<p>é‡å†™ <code>WndProc</code> æ–¹æ³•ï¼Œæ‹¦æˆª <code>WM_NCCALCSIZE</code> æ¶ˆæ¯ï¼Œé˜»æ­¢ç³»ç»Ÿä¸ºæ»šåŠ¨æ¡åˆ†é…æ˜¾ç¤ºç©ºé—´ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WndProc</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Message m</span>)</span>
{
    <span class="hljs-keyword">if</span> (m.Msg == WM_NCCALCSIZE) <span class="hljs-comment">// 0x0083</span>
    {
        <span class="hljs-comment">// è¿”å› IntPtr.Zero å‘Šè¯‰ç³»ç»Ÿä¸éœ€è¦ä¸ºæ»šåŠ¨æ¡é¢„ç•™ç©ºé—´</span>
        m.Result = IntPtr.Zero;
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">base</span>.WndProc(<span class="hljs-keyword">ref</span> m);
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç¬¬äºŒå±‚é˜²æŠ¤ï¼Ÿ</strong></p>
<p>å³ä½¿åœ¨çª—å£åˆ›å»ºæ—¶ç§»é™¤äº†æ»šåŠ¨æ¡æ ·å¼ï¼ŒWindows ç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä»å¯èƒ½é‡æ–°è®¡ç®—éå®¢æˆ·åŒºï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡ï¼‰çš„å¤§å°ã€‚é€šè¿‡æ‹¦æˆª <code>WM_NCCALCSIZE</code> æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥å½»åº•é˜»æ­¢æ»šåŠ¨æ¡å ç”¨ä»»ä½•æ˜¾ç¤ºåŒºåŸŸã€‚</p>
<h4 data-id="heading-7">1.3 å®Œæ•´å®ç°ä»£ç </h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Windows.Forms;

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ— æ»šåŠ¨æ¡çš„ Panel æ§ä»¶</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å®Œå…¨éšè—æ»šåŠ¨æ¡ï¼Œä½†ä¿ç•™ AutoScroll åŠŸèƒ½</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanel</span> : <span class="hljs-title">Panel</span>
{
    <span class="hljs-comment">// Windows æ¶ˆæ¯å¸¸é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_NCCALCSIZE = <span class="hljs-number">0x0083</span>;  <span class="hljs-comment">// éå®¢æˆ·åŒºå¤§å°è®¡ç®—</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_HSCROLL = <span class="hljs-number">0x0114</span>;     <span class="hljs-comment">// æ°´å¹³æ»šåŠ¨æ¶ˆæ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_VSCROLL = <span class="hljs-number">0x0115</span>;     <span class="hljs-comment">// å‚ç›´æ»šåŠ¨æ¶ˆæ¯</span>
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é‡å†™åˆ›å»ºå‚æ•°ï¼Œç§»é™¤æ»šåŠ¨æ¡æ ·å¼</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
    {
        <span class="hljs-keyword">get</span>
        {
            CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
            <span class="hljs-comment">// ç§»é™¤å‚ç›´æ»šåŠ¨æ¡æ ·å¼</span>
            cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL</span>
            <span class="hljs-comment">// ç§»é™¤æ°´å¹³æ»šåŠ¨æ¡æ ·å¼</span>
            cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL</span>
            <span class="hljs-keyword">return</span> cp;
        }
    }
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é‡å†™çª—å£æ¶ˆæ¯å¤„ç†ï¼Œæ‹¦æˆªéå®¢æˆ·åŒºè®¡ç®—</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WndProc</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Message m</span>)</span>
    {
        <span class="hljs-comment">// æ‹¦æˆªéå®¢æˆ·åŒºå¤§å°è®¡ç®—æ¶ˆæ¯</span>
        <span class="hljs-keyword">if</span> (m.Msg == WM_NCCALCSIZE)
        {
            <span class="hljs-comment">// è¿”å› 0 è¡¨ç¤ºä¸éœ€è¦ä¸ºæ»šåŠ¨æ¡é¢„ç•™ç©ºé—´</span>
            m.Result = IntPtr.Zero;
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// å…¶ä»–æ¶ˆæ¯æ­£å¸¸å¤„ç†</span>
        <span class="hljs-keyword">base</span>.WndProc(<span class="hljs-keyword">ref</span> m);
    }
}
</code></pre>
<h4 data-id="heading-8">1.4 ä½¿ç”¨æ–¹æ³•</h4>
<p><strong>æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨è‡ªå®šä¹‰ç±»</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åˆ›å»ºæ— æ»šåŠ¨æ¡çš„ Panel</span>
NoScrollBarPanel panel = <span class="hljs-keyword">new</span> NoScrollBarPanel();
panel.AutoScroll = <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¯ç”¨è‡ªåŠ¨æ»šåŠ¨ï¼ˆé€šè¿‡é¼ æ ‡æ»šè½®ï¼‰</span>
panel.BackColor = Color.FromArgb(<span class="hljs-number">44</span>, <span class="hljs-number">44</span>, <span class="hljs-number">44</span>); <span class="hljs-comment">// æ·±è‰²èƒŒæ™¯</span>
panel.Dock = DockStyle.Fill;

<span class="hljs-comment">// æ·»åŠ åˆ°çª—ä½“</span>
<span class="hljs-keyword">this</span>.Controls.Add(panel);

<span class="hljs-comment">// æ·»åŠ å­æ§ä»¶</span>
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++)
{
    Button btn = <span class="hljs-keyword">new</span> Button();
    btn.Text = <span class="hljs-string">$"æŒ‰é’® <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>"</span>;
    btn.Location = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">10</span>, i * <span class="hljs-number">40</span>);
    panel.Controls.Add(btn);
}
</code></pre>
<p><strong>æ–¹å¼äºŒï¼šåœ¨ Designer ä¸­ä½¿ç”¨</strong></p>
<ol>
<li>ç¼–è¯‘åŒ…å« <code>NoScrollBarPanel</code> çš„é¡¹ç›®</li>
<li>åœ¨å·¥å…·ç®±ä¸­ä¼šè‡ªåŠ¨å‡ºç°è¯¥æ§ä»¶</li>
<li>æ‹–æ‹½åˆ°çª—ä½“ä¸Šä½¿ç”¨</li>
<li>è®¾ç½® <code>AutoScroll = true</code></li>
</ol>
<h4 data-id="heading-9">1.5 å¯é€‰å¢å¼ºï¼šè‡ªå®šä¹‰æ»šåŠ¨æŒ‡ç¤ºå™¨</h4>
<p>ç”±äºæ»šåŠ¨æ¡éšè—äº†ï¼Œç”¨æˆ·å¯èƒ½ä¸çŸ¥é“å†…å®¹å¯ä»¥æ»šåŠ¨ã€‚å¯ä»¥æ·»åŠ æ¸å˜é˜´å½±ä½œä¸ºæ»šåŠ¨æŒ‡ç¤ºå™¨ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åˆ›å»ºé¡¶éƒ¨æŒ‡ç¤ºå™¨</span>
Panel scrollIndicatorTop = <span class="hljs-keyword">new</span> Panel();
scrollIndicatorTop.Height = <span class="hljs-number">30</span>;
scrollIndicatorTop.Dock = DockStyle.Top;
scrollIndicatorTop.BackColor = Color.Transparent;
scrollIndicatorTop.Paint += (s, e) =&gt;
{
    <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> System.Drawing.Drawing2D.LinearGradientBrush(
        e.ClipRectangle,
        Color.FromArgb(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),  <span class="hljs-comment">// é¡¶éƒ¨æ·±è‰²</span>
        Color.FromArgb(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),    <span class="hljs-comment">// åº•éƒ¨é€æ˜</span>
        System.Drawing.Drawing2D.LinearGradientMode.Vertical))
    {
        e.Graphics.FillRectangle(brush, e.ClipRectangle);
    }
};

<span class="hljs-comment">// åˆ›å»ºåº•éƒ¨æŒ‡ç¤ºå™¨</span>
Panel scrollIndicatorBottom = <span class="hljs-keyword">new</span> Panel();
scrollIndicatorBottom.Height = <span class="hljs-number">30</span>;
scrollIndicatorBottom.Dock = DockStyle.Bottom;
scrollIndicatorBottom.BackColor = Color.Transparent;
scrollIndicatorBottom.Paint += (s, e) =&gt;
{
    <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> System.Drawing.Drawing2D.LinearGradientBrush(
        e.ClipRectangle,
        Color.FromArgb(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),    <span class="hljs-comment">// é¡¶éƒ¨é€æ˜</span>
        Color.FromArgb(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),  <span class="hljs-comment">// åº•éƒ¨æ·±è‰²</span>
        System.Drawing.Drawing2D.LinearGradientMode.Vertical))
    {
        e.Graphics.FillRectangle(brush, e.ClipRectangle);
    }
};

<span class="hljs-comment">// æ ¹æ®æ»šåŠ¨ä½ç½®åŠ¨æ€æ˜¾ç¤º/éšè—æŒ‡ç¤ºå™¨</span>
panel.Scroll += (s, e) =&gt;
{
    scrollIndicatorTop.Visible = panel.VerticalScroll.Value &gt; <span class="hljs-number">0</span>;
    
    <span class="hljs-built_in">int</span> maxScroll = panel.VerticalScroll.Maximum - 
                   panel.VerticalScroll.LargeChange + <span class="hljs-number">1</span>;
    scrollIndicatorBottom.Visible = panel.VerticalScroll.Value &lt; maxScroll;
};
</code></pre>
<h3 data-id="heading-10">äºŒã€è¸©å‘æŒ‡å—</h3>
<h4 data-id="heading-11">å‘ #1ï¼šä½¿ç”¨ ShowScrollBar API</h4>
<p><strong>é”™è¯¯åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">DllImport(<span class="hljs-string">"user32.dll"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">extern</span> <span class="hljs-built_in">int</span> <span class="hljs-title">ShowScrollBar</span>(<span class="hljs-params">IntPtr hWnd, <span class="hljs-built_in">int</span> wBar, <span class="hljs-built_in">int</span> bShow</span>)</span>;

<span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> SB_BOTH = <span class="hljs-number">3</span>;

<span class="hljs-comment">// å°è¯•éšè—æ»šåŠ¨æ¡</span>
ShowScrollBar(panel.Handle, SB_BOTH, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>âŒ åˆå§‹çŠ¶æ€å¯ä»¥éšè—æ»šåŠ¨æ¡</li>
<li>âŒ ä½†æ˜¯ä¸€æ»šåŠ¨ï¼Œæ»šåŠ¨æ¡å°±é‡æ–°å‡ºç°äº†</li>
<li>âŒ å³ä½¿åœ¨ <code>Scroll</code> äº‹ä»¶ä¸­é‡å¤è°ƒç”¨ä¹Ÿæ— æ³•å½»åº•è§£å†³</li>
</ul>
<p><strong>åŸå› ï¼š</strong></p>
<p><code>ShowScrollBar</code> åªæ˜¯éšè—äº†æ»šåŠ¨æ¡çš„<strong>æ˜¾ç¤º</strong>ï¼Œä½†æ²¡æœ‰ç§»é™¤æ»šåŠ¨æ¡çš„<strong>æ ·å¼</strong>ã€‚å½“ç³»ç»Ÿå¤„ç†æ»šåŠ¨æ¶ˆæ¯æ—¶ï¼Œä¼šæ ¹æ®çª—å£æ ·å¼é‡æ–°ç»˜åˆ¶æ»šåŠ¨æ¡ã€‚</p>
<p><strong>æ•™è®­ï¼š</strong></p>
<blockquote>
<p>ä¸è¦ä½¿ç”¨ <code>ShowScrollBar</code> API æ¥éšè—æ»šåŠ¨æ¡ï¼Œå®ƒæ²»æ ‡ä¸æ²»æœ¬ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-12">å‘ #2ï¼šåªé‡å†™ CreateParams</h4>
<p><strong>ä¸å®Œæ•´åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanel</span> : <span class="hljs-title">Panel</span>
{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
    {
        <span class="hljs-keyword">get</span>
        {
            CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
            cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL</span>
            cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL</span>
            <span class="hljs-keyword">return</span> cp;
        }
    }
}
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>âœ… å¯ä»¥é˜»æ­¢åˆå§‹åˆ›å»ºæ»šåŠ¨æ¡</li>
<li>âŒ ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä»å¯èƒ½åœ¨è¿è¡Œæ—¶é‡æ–°æ·»åŠ æ»šåŠ¨æ¡æ ·å¼</li>
<li>âŒ æ»šåŠ¨æ¡å¯èƒ½ä¼š"é—ªç°"ç„¶åæ¶ˆå¤±</li>
</ul>
<p><strong>åŸå› ï¼š</strong></p>
<p>Windows ç³»ç»Ÿåœ¨å¤„ç†çª—å£å¤§å°å˜åŒ–ã€æ»šåŠ¨å†…å®¹å˜åŒ–æ—¶ï¼Œä¼šé‡æ–°è®¡ç®—éå®¢æˆ·åŒºï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡ï¼‰çš„å¤§å°ã€‚å¦‚æœä¸æ‹¦æˆª <code>WM_NCCALCSIZE</code> æ¶ˆæ¯ï¼Œç³»ç»Ÿä»å¯èƒ½ä¸ºæ»šåŠ¨æ¡é¢„ç•™ç©ºé—´ã€‚</p>
<p><strong>æ•™è®­ï¼š</strong></p>
<blockquote>
<p>åªé‡å†™ <code>CreateParams</code> æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»é…åˆ <code>WndProc</code> æ‹¦æˆªæ¶ˆæ¯ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-13">å‘ #3ï¼šè°ƒç”¨æ—¶æœºé—®é¢˜</h4>
<p><strong>é”™è¯¯åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åœ¨æ„é€ å‡½æ•°ä¸­ç«‹å³è°ƒç”¨</span>
toolboxPanel = <span class="hljs-keyword">new</span> Panel();
toolboxPanel.AutoScroll = <span class="hljs-literal">true</span>;
ShowScrollBar(toolboxPanel.Handle, SB_BOTH, <span class="hljs-number">0</span>); <span class="hljs-comment">// âŒ å¯èƒ½æ— æ•ˆ</span>
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>æ§ä»¶è¿˜æ²¡æœ‰å®Œå…¨åˆ›å»ºå’Œæ˜¾ç¤º</li>
<li><code>Handle</code> å¯èƒ½è¿˜æ²¡æœ‰åˆ†é…</li>
<li>è°ƒç”¨å¯èƒ½æ— æ•ˆæˆ–æŠ›å‡ºå¼‚å¸¸</li>
</ul>
<p><strong>æ­£ç¡®åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ç±»ï¼Œåœ¨çª—å£åˆ›å»ºæ—¶å°±è®¾ç½®å¥½æ ·å¼</span>
toolboxPanel = <span class="hljs-keyword">new</span> NoScrollBarPanel();
toolboxPanel.AutoScroll = <span class="hljs-literal">true</span>;
<span class="hljs-comment">// ä¸éœ€è¦é¢å¤–çš„ API è°ƒç”¨</span>
</code></pre>
<p><strong>æ•™è®­ï¼š</strong></p>
<blockquote>
<p>ä¸è¦ä¾èµ–è¿è¡Œæ—¶è°ƒç”¨ APIï¼Œåœ¨çª—å£åˆ›å»ºæ—¶å°±è®¾ç½®å¥½æ ·å¼ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-14">å‘ #4ï¼šå¿˜è®°ä¿ç•™æ»šåŠ¨åŠŸèƒ½</h4>
<p><strong>é”™è¯¯ç†è§£ï¼š</strong></p>
<p>"éšè—æ»šåŠ¨æ¡ = ç¦ç”¨æ»šåŠ¨åŠŸèƒ½"</p>
<p><strong>æ­£ç¡®ç†è§£ï¼š</strong></p>
<p>æˆ‘ä»¬åªæ˜¯éšè—äº†<strong>æ»šåŠ¨æ¡çš„è§†è§‰æ˜¾ç¤º</strong>ï¼Œä½†<strong>æ»šåŠ¨åŠŸèƒ½ä»ç„¶ä¿ç•™</strong>ã€‚</p>
<p><strong>éªŒè¯æ–¹æ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">NoScrollBarPanel panel = <span class="hljs-keyword">new</span> NoScrollBarPanel();
panel.AutoScroll = <span class="hljs-literal">true</span>; <span class="hljs-comment">// âœ… å¿…é¡»è®¾ç½®ä¸º true</span>

<span class="hljs-comment">// æ»šåŠ¨åŠŸèƒ½éªŒè¯</span>
Console.WriteLine(<span class="hljs-string">$"VerticalScroll.Visible: <span class="hljs-subst">{panel.VerticalScroll.Visible}</span>"</span>); <span class="hljs-comment">// true</span>
Console.WriteLine(<span class="hljs-string">$"VerticalScroll.Maximum: <span class="hljs-subst">{panel.VerticalScroll.Maximum}</span>"</span>); <span class="hljs-comment">// æœ‰å€¼</span>

<span class="hljs-comment">// å¯ä»¥é€šè¿‡é¼ æ ‡æ»šè½®æ»šåŠ¨ âœ…</span>
<span class="hljs-comment">// å¯ä»¥é€šè¿‡ä»£ç æ»šåŠ¨ âœ…</span>
panel.AutoScrollPosition = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
</code></pre>
<p><strong>æ•™è®­ï¼š</strong></p>
<blockquote>
<p><code>AutoScroll = true</code> å¿…é¡»ä¿ç•™ï¼Œåªæ˜¯æ»šåŠ¨æ¡ä¸å¯è§è€Œå·²ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-15">å‘ #5ï¼šå­æ§ä»¶é¼ æ ‡äº‹ä»¶è¢«æ‹¦æˆª</h4>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong></p>
<p>åœ¨æ— æ»šåŠ¨æ¡çš„ Panel ä¸­æ·»åŠ äº†å¾ˆå¤šå­æ§ä»¶ï¼Œé¼ æ ‡æ»šè½®åœ¨å­æ§ä»¶ä¸Šæ—¶æ— æ³•æ»šåŠ¨ã€‚</p>
<p><strong>åŸå› ï¼š</strong></p>
<p>å­æ§ä»¶æ•è·äº†é¼ æ ‡æ»šè½®äº‹ä»¶ï¼Œæ²¡æœ‰ä¼ é€’ç»™çˆ¶å®¹å™¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanel</span> : <span class="hljs-title">Panel</span>
{
    <span class="hljs-comment">// ... å‰é¢çš„ä»£ç  ...</span>
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç¡®ä¿å­æ§ä»¶ä¸Šçš„æ»šè½®äº‹ä»¶ä¹Ÿèƒ½æ»šåŠ¨é¢æ¿</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseWheel</span>(<span class="hljs-params">MouseEventArgs e</span>)</span>
    {
        <span class="hljs-comment">// å¦‚æœé¼ æ ‡åœ¨å­æ§ä»¶ä¸Šï¼Œæ‰‹åŠ¨å¤„ç†æ»šåŠ¨</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.AutoScroll)
        {
            <span class="hljs-built_in">int</span> newValue = <span class="hljs-keyword">this</span>.VerticalScroll.Value - e.Delta;
            <span class="hljs-keyword">if</span> (newValue &lt; <span class="hljs-number">0</span>)
                newValue = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (newValue &gt; <span class="hljs-keyword">this</span>.VerticalScroll.Maximum)
                newValue = <span class="hljs-keyword">this</span>.VerticalScroll.Maximum;
                
            <span class="hljs-keyword">this</span>.VerticalScroll.Value = newValue;
        }
        
        <span class="hljs-keyword">base</span>.OnMouseWheel(e);
    }
}
</code></pre>
<p><strong>æ•™è®­ï¼š</strong></p>
<blockquote>
<p>å¦‚æœå‘ç°æ»šåŠ¨ä¸çµæ•ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦é‡å†™ <code>OnMouseWheel</code>ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-16">ä¸‰ã€å¯ç›´æ¥ä½¿ç”¨çš„å·¥å…·ç±»</h3>
<h4 data-id="heading-17">3.1 åŸºç¡€ç‰ˆï¼šNoScrollBarPanel</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Windows.Forms;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CustomControls</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ— æ»šåŠ¨æ¡çš„ Panel æ§ä»¶ï¼ˆåŸºç¡€ç‰ˆï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å®Œå…¨éšè—æ»šåŠ¨æ¡ï¼Œä½†ä¿ç•™ AutoScroll åŠŸèƒ½</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanel</span> : <span class="hljs-title">Panel</span>
    {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_NCCALCSIZE = <span class="hljs-number">0x0083</span>;
        
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
        {
            <span class="hljs-keyword">get</span>
            {
                CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
                cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL</span>
                cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL</span>
                <span class="hljs-keyword">return</span> cp;
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WndProc</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Message m</span>)</span>
        {
            <span class="hljs-keyword">if</span> (m.Msg == WM_NCCALCSIZE)
            {
                m.Result = IntPtr.Zero;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">base</span>.WndProc(<span class="hljs-keyword">ref</span> m);
        }
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">NoScrollBarPanel panel = <span class="hljs-keyword">new</span> NoScrollBarPanel
{
    AutoScroll = <span class="hljs-literal">true</span>,
    Dock = DockStyle.Fill,
    BackColor = Color.FromArgb(<span class="hljs-number">44</span>, <span class="hljs-number">44</span>, <span class="hljs-number">44</span>)
};

<span class="hljs-keyword">this</span>.Controls.Add(panel);
</code></pre>
<hr/>
<h4 data-id="heading-18">3.2 å¢å¼ºç‰ˆï¼šNoScrollBarPanelExï¼ˆå¸¦æ»šåŠ¨æŒ‡ç¤ºå™¨ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Drawing;
<span class="hljs-keyword">using</span> System.Drawing.Drawing2D;
<span class="hljs-keyword">using</span> System.Windows.Forms;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CustomControls</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ— æ»šåŠ¨æ¡çš„ Panel æ§ä»¶ï¼ˆå¢å¼ºç‰ˆï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> éšè—æ»šåŠ¨æ¡ï¼Œä½†æä¾›æ¸å˜é˜´å½±ä½œä¸ºæ»šåŠ¨æŒ‡ç¤ºå™¨</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanelEx</span> : <span class="hljs-title">Panel</span>
    {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_NCCALCSIZE = <span class="hljs-number">0x0083</span>;
        
        <span class="hljs-keyword">private</span> Panel topIndicator;
        <span class="hljs-keyword">private</span> Panel bottomIndicator;
        <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> showScrollIndicators = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ˜¯å¦æ˜¾ç¤ºæ»šåŠ¨æŒ‡ç¤ºå™¨</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> ShowScrollIndicators
        {
            <span class="hljs-keyword">get</span> =&gt; showScrollIndicators;
            <span class="hljs-keyword">set</span>
            {
                showScrollIndicators = <span class="hljs-keyword">value</span>;
                <span class="hljs-keyword">if</span> (topIndicator != <span class="hljs-literal">null</span>)
                    topIndicator.Visible = <span class="hljs-keyword">value</span>;
                <span class="hljs-keyword">if</span> (bottomIndicator != <span class="hljs-literal">null</span>)
                    bottomIndicator.Visible = <span class="hljs-keyword">value</span>;
            }
        }
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ»šåŠ¨æŒ‡ç¤ºå™¨é«˜åº¦ï¼ˆåƒç´ ï¼‰</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> IndicatorHeight { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">30</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ»šåŠ¨æŒ‡ç¤ºå™¨é¢œè‰²ï¼ˆä½¿ç”¨åŠé€æ˜é»‘è‰²ï¼‰</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> Color IndicatorColor { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = Color.FromArgb(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NoScrollBarPanelEx</span>()</span>
        {
            InitializeIndicators();
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitializeIndicators</span>()</span>
        {
            <span class="hljs-comment">// é¡¶éƒ¨æŒ‡ç¤ºå™¨</span>
            topIndicator = <span class="hljs-keyword">new</span> Panel
            {
                Height = IndicatorHeight,
                Dock = DockStyle.Top,
                BackColor = Color.Transparent,
                Visible = <span class="hljs-literal">false</span>
            };
            topIndicator.Paint += TopIndicator_Paint;
            <span class="hljs-keyword">this</span>.Controls.Add(topIndicator);
            topIndicator.BringToFront();
            
            <span class="hljs-comment">// åº•éƒ¨æŒ‡ç¤ºå™¨</span>
            bottomIndicator = <span class="hljs-keyword">new</span> Panel
            {
                Height = IndicatorHeight,
                Dock = DockStyle.Bottom,
                BackColor = Color.Transparent,
                Visible = <span class="hljs-literal">true</span>
            };
            bottomIndicator.Paint += BottomIndicator_Paint;
            <span class="hljs-keyword">this</span>.Controls.Add(bottomIndicator);
            bottomIndicator.BringToFront();
            
            <span class="hljs-comment">// ç›‘å¬æ»šåŠ¨äº‹ä»¶</span>
            <span class="hljs-keyword">this</span>.Scroll += NoScrollBarPanelEx_Scroll;
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TopIndicator_Paint</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, PaintEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (!showScrollIndicators) <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> LinearGradientBrush(
                e.ClipRectangle,
                IndicatorColor,
                Color.FromArgb(<span class="hljs-number">0</span>, IndicatorColor),
                LinearGradientMode.Vertical))
            {
                e.Graphics.FillRectangle(brush, e.ClipRectangle);
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BottomIndicator_Paint</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, PaintEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (!showScrollIndicators) <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> LinearGradientBrush(
                e.ClipRectangle,
                Color.FromArgb(<span class="hljs-number">0</span>, IndicatorColor),
                IndicatorColor,
                LinearGradientMode.Vertical))
            {
                e.Graphics.FillRectangle(brush, e.ClipRectangle);
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NoScrollBarPanelEx_Scroll</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, ScrollEventArgs e</span>)</span>
        {
            UpdateIndicators();
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateIndicators</span>()</span>
        {
            <span class="hljs-keyword">if</span> (!showScrollIndicators || topIndicator == <span class="hljs-literal">null</span> || bottomIndicator == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.VerticalScroll.Visible)
            {
                <span class="hljs-comment">// ä¸åœ¨é¡¶éƒ¨æ—¶æ˜¾ç¤ºé¡¶éƒ¨æŒ‡ç¤ºå™¨</span>
                topIndicator.Visible = <span class="hljs-keyword">this</span>.VerticalScroll.Value &gt; <span class="hljs-number">0</span>;
                
                <span class="hljs-comment">// ä¸åœ¨åº•éƒ¨æ—¶æ˜¾ç¤ºåº•éƒ¨æŒ‡ç¤ºå™¨</span>
                <span class="hljs-built_in">int</span> maxScroll = <span class="hljs-keyword">this</span>.VerticalScroll.Maximum - 
                               <span class="hljs-keyword">this</span>.VerticalScroll.LargeChange + <span class="hljs-number">1</span>;
                bottomIndicator.Visible = <span class="hljs-keyword">this</span>.VerticalScroll.Value &lt; maxScroll;
            }
            <span class="hljs-keyword">else</span>
            {
                topIndicator.Visible = <span class="hljs-literal">false</span>;
                bottomIndicator.Visible = <span class="hljs-literal">false</span>;
            }
        }
        
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
        {
            <span class="hljs-keyword">get</span>
            {
                CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
                cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL</span>
                cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL</span>
                <span class="hljs-keyword">return</span> cp;
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WndProc</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Message m</span>)</span>
        {
            <span class="hljs-keyword">if</span> (m.Msg == WM_NCCALCSIZE)
            {
                m.Result = IntPtr.Zero;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">base</span>.WndProc(<span class="hljs-keyword">ref</span> m);
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnControlAdded</span>(<span class="hljs-params">ControlEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">base</span>.OnControlAdded(e);
            <span class="hljs-comment">// æ§ä»¶æ·»åŠ åæ›´æ–°æŒ‡ç¤ºå™¨</span>
            <span class="hljs-keyword">this</span>.BeginInvoke(<span class="hljs-keyword">new</span> Action(UpdateIndicators));
        }
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">NoScrollBarPanelEx panel = <span class="hljs-keyword">new</span> NoScrollBarPanelEx
{
    AutoScroll = <span class="hljs-literal">true</span>,
    Dock = DockStyle.Fill,
    BackColor = Color.FromArgb(<span class="hljs-number">44</span>, <span class="hljs-number">44</span>, <span class="hljs-number">44</span>),
    ShowScrollIndicators = <span class="hljs-literal">true</span>,
    IndicatorHeight = <span class="hljs-number">30</span>,
    IndicatorColor = Color.FromArgb(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
};

<span class="hljs-keyword">this</span>.Controls.Add(panel);

<span class="hljs-comment">// æ·»åŠ å¤§é‡å­æ§ä»¶æµ‹è¯•</span>
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++)
{
    Button btn = <span class="hljs-keyword">new</span> Button
    {
        Text = <span class="hljs-string">$"æŒ‰é’® <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>"</span>,
        Width = <span class="hljs-number">180</span>,
        Height = <span class="hljs-number">35</span>,
        Location = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">10</span>, i * <span class="hljs-number">40</span> + <span class="hljs-number">10</span>)
    };
    panel.Controls.Add(btn);
}
</code></pre>
<hr/>
<h4 data-id="heading-19">3.3 ç»ˆæç‰ˆï¼šSmartScrollPanelï¼ˆæ™ºèƒ½æ»šåŠ¨é¢æ¿ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Drawing;
<span class="hljs-keyword">using</span> System.Drawing.Drawing2D;
<span class="hljs-keyword">using</span> System.Windows.Forms;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">CustomControls</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ™ºèƒ½æ»šåŠ¨é¢æ¿ï¼ˆç»ˆæç‰ˆï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é›†æˆæ‰€æœ‰åŠŸèƒ½ï¼šéšè—æ»šåŠ¨æ¡ã€æ»šåŠ¨æŒ‡ç¤ºå™¨ã€å¹³æ»‘æ»šåŠ¨</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SmartScrollPanel</span> : <span class="hljs-title">Panel</span>
    {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_NCCALCSIZE = <span class="hljs-number">0x0083</span>;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> WM_MOUSEWHEEL = <span class="hljs-number">0x020A</span>;
        
        <span class="hljs-keyword">private</span> Panel topIndicator;
        <span class="hljs-keyword">private</span> Panel bottomIndicator;
        <span class="hljs-keyword">private</span> Timer smoothScrollTimer;
        <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> targetScrollValue;
        <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> currentScrollValue;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ˜¯å¦å¯ç”¨å¹³æ»‘æ»šåŠ¨</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> SmoothScrollEnabled { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> å¹³æ»‘æ»šåŠ¨é€Ÿåº¦ï¼ˆ1-10ï¼Œæ•°å€¼è¶Šå¤§è¶Šå¿«ï¼‰</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> SmoothScrollSpeed { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">5</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ˜¯å¦æ˜¾ç¤ºæ»šåŠ¨æŒ‡ç¤ºå™¨</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> ShowScrollIndicators { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ»šåŠ¨æŒ‡ç¤ºå™¨é«˜åº¦</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> IndicatorHeight { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">30</span>;
        
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> æ»šåŠ¨æŒ‡ç¤ºå™¨é¢œè‰²</span>
        <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
        <span class="hljs-keyword">public</span> Color IndicatorColor { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = Color.FromArgb(<span class="hljs-number">150</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SmartScrollPanel</span>()</span>
        {
            InitializeIndicators();
            InitializeSmoothScroll();
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitializeIndicators</span>()</span>
        {
            topIndicator = <span class="hljs-keyword">new</span> Panel
            {
                Height = IndicatorHeight,
                Dock = DockStyle.Top,
                BackColor = Color.Transparent,
                Visible = <span class="hljs-literal">false</span>
            };
            topIndicator.Paint += TopIndicator_Paint;
            <span class="hljs-keyword">this</span>.Controls.Add(topIndicator);
            topIndicator.BringToFront();
            
            bottomIndicator = <span class="hljs-keyword">new</span> Panel
            {
                Height = IndicatorHeight,
                Dock = DockStyle.Bottom,
                BackColor = Color.Transparent,
                Visible = <span class="hljs-literal">true</span>
            };
            bottomIndicator.Paint += BottomIndicator_Paint;
            <span class="hljs-keyword">this</span>.Controls.Add(bottomIndicator);
            bottomIndicator.BringToFront();
            
            <span class="hljs-keyword">this</span>.Scroll += SmartScrollPanel_Scroll;
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitializeSmoothScroll</span>()</span>
        {
            smoothScrollTimer = <span class="hljs-keyword">new</span> Timer { Interval = <span class="hljs-number">16</span> }; <span class="hljs-comment">// çº¦60fps</span>
            smoothScrollTimer.Tick += SmoothScrollTimer_Tick;
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TopIndicator_Paint</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, PaintEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (!ShowScrollIndicators) <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> LinearGradientBrush(
                e.ClipRectangle,
                IndicatorColor,
                Color.FromArgb(<span class="hljs-number">0</span>, IndicatorColor),
                LinearGradientMode.Vertical))
            {
                e.Graphics.SmoothingMode = SmoothingMode.AntiAlias;
                e.Graphics.FillRectangle(brush, e.ClipRectangle);
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BottomIndicator_Paint</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, PaintEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (!ShowScrollIndicators) <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> brush = <span class="hljs-keyword">new</span> LinearGradientBrush(
                e.ClipRectangle,
                Color.FromArgb(<span class="hljs-number">0</span>, IndicatorColor),
                IndicatorColor,
                LinearGradientMode.Vertical))
            {
                e.Graphics.SmoothingMode = SmoothingMode.AntiAlias;
                e.Graphics.FillRectangle(brush, e.ClipRectangle);
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SmartScrollPanel_Scroll</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, ScrollEventArgs e</span>)</span>
        {
            UpdateIndicators();
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateIndicators</span>()</span>
        {
            <span class="hljs-keyword">if</span> (!ShowScrollIndicators || topIndicator == <span class="hljs-literal">null</span> || bottomIndicator == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.VerticalScroll.Visible)
            {
                topIndicator.Visible = <span class="hljs-keyword">this</span>.VerticalScroll.Value &gt; <span class="hljs-number">0</span>;
                
                <span class="hljs-built_in">int</span> maxScroll = <span class="hljs-keyword">this</span>.VerticalScroll.Maximum - 
                               <span class="hljs-keyword">this</span>.VerticalScroll.LargeChange + <span class="hljs-number">1</span>;
                bottomIndicator.Visible = <span class="hljs-keyword">this</span>.VerticalScroll.Value &lt; maxScroll;
            }
            <span class="hljs-keyword">else</span>
            {
                topIndicator.Visible = <span class="hljs-literal">false</span>;
                bottomIndicator.Visible = <span class="hljs-literal">false</span>;
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseWheel</span>(<span class="hljs-params">MouseEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">if</span> (SmoothScrollEnabled &amp;&amp; <span class="hljs-keyword">this</span>.AutoScroll)
            {
                <span class="hljs-comment">// è®¡ç®—ç›®æ ‡æ»šåŠ¨ä½ç½®</span>
                targetScrollValue = <span class="hljs-keyword">this</span>.VerticalScroll.Value - e.Delta;
                
                <span class="hljs-comment">// é™åˆ¶åœ¨æœ‰æ•ˆèŒƒå›´å†…</span>
                <span class="hljs-keyword">if</span> (targetScrollValue &lt; <span class="hljs-number">0</span>)
                    targetScrollValue = <span class="hljs-number">0</span>;
                    
                <span class="hljs-built_in">int</span> maxScroll = <span class="hljs-keyword">this</span>.VerticalScroll.Maximum - 
                               <span class="hljs-keyword">this</span>.VerticalScroll.LargeChange + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">if</span> (targetScrollValue &gt; maxScroll)
                    targetScrollValue = maxScroll;
                
                <span class="hljs-comment">// å¯åŠ¨å¹³æ»‘æ»šåŠ¨</span>
                <span class="hljs-keyword">if</span> (!smoothScrollTimer.Enabled)
                {
                    currentScrollValue = <span class="hljs-keyword">this</span>.VerticalScroll.Value;
                    smoothScrollTimer.Start();
                }
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">base</span>.OnMouseWheel(e);
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SmoothScrollTimer_Tick</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span>
        {
            <span class="hljs-built_in">int</span> diff = targetScrollValue - currentScrollValue;
            
            <span class="hljs-keyword">if</span> (Math.Abs(diff) &lt; <span class="hljs-number">2</span>)
            {
                <span class="hljs-comment">// åˆ°è¾¾ç›®æ ‡ä½ç½®</span>
                currentScrollValue = targetScrollValue;
                smoothScrollTimer.Stop();
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-comment">// ç¼“åŠ¨ç§»åŠ¨</span>
                currentScrollValue += diff / SmoothScrollSpeed;
            }
            
            <span class="hljs-keyword">this</span>.VerticalScroll.Value = currentScrollValue;
            UpdateIndicators();
        }
        
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> CreateParams CreateParams
        {
            <span class="hljs-keyword">get</span>
            {
                CreateParams cp = <span class="hljs-keyword">base</span>.CreateParams;
                cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// WS_VSCROLL</span>
                cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// WS_HSCROLL</span>
                <span class="hljs-keyword">return</span> cp;
            }
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WndProc</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> Message m</span>)</span>
        {
            <span class="hljs-keyword">if</span> (m.Msg == WM_NCCALCSIZE)
            {
                m.Result = IntPtr.Zero;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">base</span>.WndProc(<span class="hljs-keyword">ref</span> m);
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnControlAdded</span>(<span class="hljs-params">ControlEventArgs e</span>)</span>
        {
            <span class="hljs-keyword">base</span>.OnControlAdded(e);
            <span class="hljs-keyword">this</span>.BeginInvoke(<span class="hljs-keyword">new</span> Action(UpdateIndicators));
        }
        
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Dispose</span>(<span class="hljs-params"><span class="hljs-built_in">bool</span> disposing</span>)</span>
        {
            <span class="hljs-keyword">if</span> (disposing)
            {
                smoothScrollTimer?.Dispose();
            }
            <span class="hljs-keyword">base</span>.Dispose(disposing);
        }
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">SmartScrollPanel panel = <span class="hljs-keyword">new</span> SmartScrollPanel
{
    AutoScroll = <span class="hljs-literal">true</span>,
    Dock = DockStyle.Fill,
    BackColor = Color.FromArgb(<span class="hljs-number">44</span>, <span class="hljs-number">44</span>, <span class="hljs-number">44</span>),
    SmoothScrollEnabled = <span class="hljs-literal">true</span>,
    SmoothScrollSpeed = <span class="hljs-number">5</span>,
    ShowScrollIndicators = <span class="hljs-literal">true</span>,
    IndicatorHeight = <span class="hljs-number">30</span>
};

<span class="hljs-keyword">this</span>.Controls.Add(panel);
</code></pre>
<hr/>
<h3 data-id="heading-20">å››ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-21">4.1 é¿å…é¢‘ç¹é‡ç»˜</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ·»åŠ å¤§é‡æ§ä»¶æ—¶ï¼Œæš‚åœå¸ƒå±€</span>
panel.SuspendLayout();
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++)
{
    Button btn = <span class="hljs-keyword">new</span> Button { <span class="hljs-comment">/* ... */</span> };
    panel.Controls.Add(btn);
}
panel.ResumeLayout();
</code></pre>
<h4 data-id="heading-22">4.2 å¯ç”¨åŒç¼“å†²</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollBarPanel</span> : <span class="hljs-title">Panel</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NoScrollBarPanel</span>()</span>
    {
        <span class="hljs-keyword">this</span>.DoubleBuffered = <span class="hljs-literal">true</span>; <span class="hljs-comment">// å‡å°‘é—ªçƒ</span>
        <span class="hljs-keyword">this</span>.SetStyle(ControlStyles.OptimizedDoubleBuffer, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">this</span>.SetStyle(ControlStyles.AllPaintingInWmPaint, <span class="hljs-literal">true</span>);
    }
}
</code></pre>
<h4 data-id="heading-23">4.3 è™šæ‹ŸåŒ–é•¿åˆ—è¡¨</h4>
<p>å¦‚æœéœ€è¦æ˜¾ç¤ºæˆç™¾ä¸Šåƒä¸ªé¡¹ç›®ï¼Œè€ƒè™‘ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œåªæ¸²æŸ“å¯è§åŒºåŸŸçš„æ§ä»¶ã€‚</p>
<hr/>
<h3 data-id="heading-24">äº”ã€å¸¸è§é—®é¢˜ FAQ</h3>
<h4 data-id="heading-25">Q1ï¼šä¸ºä»€ä¹ˆé¼ æ ‡æ»šè½®ä¸èµ·ä½œç”¨ï¼Ÿ</h4>
<p><strong>Aï¼š</strong> æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>ç¡®è®¤ <code>AutoScroll = true</code></li>
<li>ç¡®è®¤å†…å®¹é«˜åº¦è¶…è¿‡äº† Panel é«˜åº¦</li>
<li>å°è¯•é‡å†™ <code>OnMouseWheel</code> æ–¹æ³•æ‰‹åŠ¨å¤„ç†</li>
</ol>
<h4 data-id="heading-26">Q2ï¼šå¯ä»¥åŒæ—¶éšè—æ°´å¹³å’Œå‚ç›´æ»šåŠ¨æ¡å—ï¼Ÿ</h4>
<p><strong>Aï¼š</strong> å¯ä»¥ï¼Œä»£ç ä¸­å·²ç»åŒæ—¶ç§»é™¤äº†ä¸¤ä¸ªæ ·å¼æ ‡å¿—ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">cp.Style &amp;= ~<span class="hljs-number">0x00200000</span>; <span class="hljs-comment">// å‚ç›´</span>
cp.Style &amp;= ~<span class="hljs-number">0x00100000</span>; <span class="hljs-comment">// æ°´å¹³</span>
</code></pre>
<h4 data-id="heading-27">Q3ï¼šåœ¨ Designer ä¸­çœ‹ä¸åˆ°è‡ªå®šä¹‰æ§ä»¶ï¼Ÿ</h4>
<p><strong>Aï¼š</strong> ç¡®ä¿ï¼š</p>
<ol>
<li>é¡¹ç›®ç¼–è¯‘æˆåŠŸ</li>
<li>é‡æ–°ç”Ÿæˆè§£å†³æ–¹æ¡ˆ</li>
<li>å…³é—­å¹¶é‡æ–°æ‰“å¼€è®¾è®¡å™¨</li>
<li>æŸ¥çœ‹å·¥å…·ç®±æ˜¯å¦éœ€è¦æ‰‹åŠ¨æ·»åŠ </li>
</ol>
<h4 data-id="heading-28">Q4ï¼šæ»šåŠ¨æŒ‡ç¤ºå™¨ä½ç½®ä¸å¯¹ï¼Ÿ</h4>
<p><strong>Aï¼š</strong> ä½¿ç”¨ <code>BringToFront()</code> ç¡®ä¿æŒ‡ç¤ºå™¨åœ¨æœ€ä¸Šå±‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">topIndicator.BringToFront();
bottomIndicator.BringToFront();
</code></pre>
<h4 data-id="heading-29">Q5ï¼šå¦‚ä½•ç¦ç”¨æ»šåŠ¨åŠŸèƒ½ï¼Ÿ</h4>
<p><strong>Aï¼š</strong> è®¾ç½® <code>AutoScroll = false</code> å³å¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">panel.AutoScroll = <span class="hljs-literal">false</span>;
</code></pre>
<hr/>
<h3 data-id="heading-30">å…­ã€æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†åœ¨ WinForms ä¸­å½»åº•éšè— Panel æ»šåŠ¨æ¡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-31">âœ… æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li><strong>åŒé‡é˜²æŠ¤æœºåˆ¶</strong>ï¼š<code>CreateParams</code> + <code>WndProc</code></li>
<li><strong>ä¿ç•™æ»šåŠ¨åŠŸèƒ½</strong>ï¼šåªéšè—è§†è§‰æ˜¾ç¤ºï¼Œä¸å½±å“åŠŸèƒ½</li>
<li><strong>è‡ªå®šä¹‰æŒ‡ç¤ºå™¨</strong>ï¼šæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
</ol>
<h4 data-id="heading-32">âœ… é¿å…çš„å‘</h4>
<ol>
<li>ä¸è¦ä½¿ç”¨ <code>ShowScrollBar</code> API</li>
<li>ä¸è¦åªé‡å†™ <code>CreateParams</code></li>
<li>æ³¨æ„è°ƒç”¨æ—¶æœºå’Œå­æ§ä»¶äº‹ä»¶</li>
</ol>
<h4 data-id="heading-33">âœ… ä¸‰ä¸ªå·¥å…·ç±»</h4>
<ol>
<li><strong>NoScrollBarPanel</strong>ï¼šåŸºç¡€ç‰ˆï¼Œç®€å•éšè—æ»šåŠ¨æ¡</li>
<li><strong>NoScrollBarPanelEx</strong>ï¼šå¢å¼ºç‰ˆï¼Œå¸¦æ»šåŠ¨æŒ‡ç¤ºå™¨</li>
<li><strong>SmartScrollPanel</strong>ï¼šç»ˆæç‰ˆï¼Œå¹³æ»‘æ»šåŠ¨ + æŒ‡ç¤ºå™¨</li>
</ol>
<h4 data-id="heading-34">ğŸ“¦ æºç ä¸‹è½½</h4>
<h4 data-id="heading-35">ğŸ¯ é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>è‡ªå®šä¹‰ UI è®¾è®¡ï¼ˆæ·±è‰²ä¸»é¢˜ã€æ‰å¹³åŒ–è®¾è®¡ï¼‰</li>
<li>éœ€è¦éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™æ»šåŠ¨åŠŸèƒ½</li>
<li>æä¾›è‡ªå®šä¹‰çš„æ»šåŠ¨æŒ‡ç¤ºå™¨</li>
<li>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒçš„åœºæ™¯</li>
</ul>
<hr/>
<p><strong>ä½œè€…ï¼š</strong> è¡Œæ­¢
<strong>æ—¥æœŸï¼š</strong> 2026-01-11<br/>
<strong>ç‰ˆæœ¬ï¼š</strong> 1.0</p>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿åˆ†äº«ç»™æ›´å¤šçš„å¼€å‘è€…ï¼</strong> ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AndroidåŠ¨æ€å˜åŒ–æ¸å˜èƒŒæ™¯]]></title>    <link>https://juejin.cn/post/7593342203822129158</link>    <guid>https://juejin.cn/post/7593342203822129158</guid>    <pubDate>2026-01-11T10:43:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593342203822129158" data-draft-id="7593232758128656390" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AndroidåŠ¨æ€å˜åŒ–æ¸å˜èƒŒæ™¯"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-11T10:43:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœªçŸ¥åAndroidç”¨æˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/3783873854965676"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AndroidåŠ¨æ€å˜åŒ–æ¸å˜èƒŒæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3783873854965676/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœªçŸ¥åAndroidç”¨æˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:43:01.000Z" title="Sun Jan 11 2026 10:43:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é¡¹ç›®ä¸­æ•ˆæœ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fqingfeng19491001%2FVoiceRobot" target="_blank" title="https://github.com/qingfeng19491001/VoiceRobot" ref="nofollow noopener noreferrer">github.com/qingfeng194â€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c51f17139e324402a8d526426262e802~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyq55-l5ZCNQW5kcm9pZOeUqOaItw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768733070&amp;x-signature=d9u563sNx1KYAbM%2B2yodF99XskE%3D" alt="20a89a42a10f45ffabbcc17775f2473e.gif" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€å®ç°</h2>
<p>ValueAnimator + LinearGradient + Matrixå¹³ç§»</p>
<ul>
<li><strong>ValueAnimator</strong>ï¼šå¾ªç¯ç”Ÿæˆ 0~1 çš„è¿›åº¦å€¼</li>
<li><strong>LinearGradient</strong>ï¼šåˆ›å»ºæ¯”è§†å›¾å®½ 2 å€çš„æ¸å˜ï¼Œé¿å…æµåŠ¨æ—¶å‡ºç°æ–­å±‚</li>
<li><strong>Matrix å¹³ç§»</strong>ï¼šé€šè¿‡è¿›åº¦å€¼æ§åˆ¶æ¸å˜çš„æ°´å¹³åç§»ï¼Œå®ç°æµåŠ¨æ•ˆæœ</li>
</ul>
<h2 data-id="heading-2">ä¸‰ã€ç¤ºä¾‹ä»£ç </h2>
<h3 data-id="heading-3">1ã€è‡ªå®šä¹‰viewä»£ç ï¼ˆä»¥ç²‰è“æ¸å˜ç›¸èæµåŠ¨æ•ˆæœä¸ºä¾‹ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.voicerobot.lottie.widget

<span class="hljs-keyword">import</span> android.animation.ValueAnimator
<span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> android.graphics.Canvas
<span class="hljs-keyword">import</span> android.graphics.LinearGradient
<span class="hljs-keyword">import</span> android.graphics.Matrix
<span class="hljs-keyword">import</span> android.graphics.Paint
<span class="hljs-keyword">import</span> android.graphics.Shader
<span class="hljs-keyword">import</span> android.util.AttributeSet
<span class="hljs-keyword">import</span> android.view.View
<span class="hljs-keyword">import</span> android.view.animation.LinearInterpolator
<span class="hljs-keyword">import</span> androidx.<span class="hljs-keyword">annotation</span>.ColorInt
<span class="hljs-keyword">import</span> androidx.core.content.withStyledAttributes
<span class="hljs-keyword">import</span> com.voicerobot.lottie.R

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GradientBackgroundView</span> <span class="hljs-meta">@JvmOverloads</span> <span class="hljs-keyword">constructor</span>(
    context: Context,
    attrs: AttributeSet? = <span class="hljs-literal">null</span>,
    defStyleAttr: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>,
) : View(context, attrs, defStyleAttr) {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> paint = Paint(Paint.ANTI_ALIAS_FLAG)

    <span class="hljs-meta">@ColorInt</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> colorStart: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0xFFFF4FD8</span>.toInt() <span class="hljs-comment">//ç²‰è‰²</span>
    <span class="hljs-meta">@ColorInt</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> colorEnd: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0xFF3D8BFF</span>.toInt()   <span class="hljs-comment">//è“è‰²</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> shader: LinearGradient? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> shaderMatrix = Matrix()

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> animator: ValueAnimator? = <span class="hljs-literal">null</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> progress: <span class="hljs-built_in">Float</span> = <span class="hljs-number">0f</span>          <span class="hljs-comment">// åŠ¨ç”»è¿›åº¦ï¼ˆ0~1ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> intensity: <span class="hljs-built_in">Float</span> = <span class="hljs-number">1f</span>         <span class="hljs-comment">// åŠ¨ç”»å¼ºåº¦ï¼ˆ0~1ï¼Œ0=æ— åŠ¨ç”»ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> speedPxPerSec: <span class="hljs-built_in">Float</span> = <span class="hljs-number">180f</span>   <span class="hljs-comment">// æµåŠ¨é€Ÿåº¦ï¼ˆpx/ç§’ï¼‰</span>

    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// è¯»å–è‡ªå®šä¹‰å±æ€§ï¼ˆå¯é€‰ï¼‰</span>
        context.withStyledAttributes(attrs, R.styleable.GradientBackgroundView) {
            intensity = getFloat(R.styleable.GradientBackgroundView_gbvIntensity, <span class="hljs-number">1f</span>)
            speedPxPerSec = getFloat(R.styleable.GradientBackgroundView_gbvSpeedPxPerSec, <span class="hljs-number">180f</span>)
        }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAttachedToWindow</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onAttachedToWindow()
        startAnimIfPossible()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDetachedFromWindow</span><span class="hljs-params">()</span></span> {
        stopAnim()
        <span class="hljs-keyword">super</span>.onDetachedFromWindow()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSizeChanged</span><span class="hljs-params">(w: <span class="hljs-type">Int</span>, h: <span class="hljs-type">Int</span>, oldw: <span class="hljs-type">Int</span>, oldh: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">super</span>.onSizeChanged(w, h, oldw, oldh)
        <span class="hljs-keyword">if</span> (w &lt;= <span class="hljs-number">0</span> || h &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

        <span class="hljs-comment">// åˆ›å»º2å€å®½åº¦çš„æ¸å˜ï¼ˆä¿è¯æµåŠ¨æ—¶æ— æ–­å±‚ï¼‰</span>
        <span class="hljs-keyword">val</span> gradientWidth = w * <span class="hljs-number">2f</span>
        shader = LinearGradient(
            <span class="hljs-number">0f</span>, <span class="hljs-number">0f</span>,
            gradientWidth, h.toFloat(),
            intArrayOf(colorStart, colorEnd, colorStart), <span class="hljs-comment">// é¦–å°¾åŒè‰²ï¼Œå¾ªç¯æ— æ–­å±‚</span>
            floatArrayOf(<span class="hljs-number">0f</span>, <span class="hljs-number">0.5f</span>, <span class="hljs-number">1f</span>),
            Shader.TileMode.CLAMP
        )
        paint.shader = shader
        startAnimIfPossible()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDraw</span><span class="hljs-params">(canvas: <span class="hljs-type">Canvas</span>)</span></span> {
        <span class="hljs-keyword">super</span>.onDraw(canvas)
        <span class="hljs-keyword">val</span> w = width
        <span class="hljs-keyword">val</span> h = height
        <span class="hljs-keyword">if</span> (w &lt;= <span class="hljs-number">0</span> || h &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">val</span> currentShader = shader ?: <span class="hljs-keyword">return</span>

        <span class="hljs-comment">// æ ¹æ®è¿›åº¦å¹³ç§»æ¸å˜</span>
        <span class="hljs-keyword">val</span> dx = (w * progress) * intensity
        shaderMatrix.reset()
        shaderMatrix.setTranslate(dx, <span class="hljs-number">0f</span>)
        currentShader.setLocalMatrix(shaderMatrix)

        <span class="hljs-comment">// ç»˜åˆ¶æ¸å˜èƒŒæ™¯</span>
        canvas.drawRect(<span class="hljs-number">0f</span>, <span class="hljs-number">0f</span>, w.toFloat(), h.toFloat(), paint)
    }

    <span class="hljs-comment">/** è‡ªå®šä¹‰æ¸å˜é¢œè‰² */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setColors</span><span class="hljs-params">(<span class="hljs-meta">@ColorInt</span> startColor: <span class="hljs-type">Int</span>, <span class="hljs-meta">@ColorInt</span> endColor: <span class="hljs-type">Int</span>)</span></span> {
        colorStart = startColor
        colorEnd = endColor
        requestLayout()
        invalidate()
    }

    <span class="hljs-comment">/** è®¾ç½®åŠ¨ç”»å¼ºåº¦ï¼ˆ0=é™æ­¢ï¼Œ1=æœ€å¤§æµåŠ¨ï¼‰ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setIntensity</span><span class="hljs-params">(value: <span class="hljs-type">Float</span>)</span></span> {
        intensity = value.coerceIn(<span class="hljs-number">0f</span>, <span class="hljs-number">1f</span>)
        invalidate()
    }

    <span class="hljs-comment">/** è®¾ç½®æµåŠ¨é€Ÿåº¦ï¼ˆpx/ç§’ï¼‰ */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setSpeedPxPerSec</span><span class="hljs-params">(value: <span class="hljs-type">Float</span>)</span></span> {
        speedPxPerSec = value.coerceAtLeast(<span class="hljs-number">10f</span>)
        restartAnim()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startAnimIfPossible</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (width &lt;= <span class="hljs-number">0</span> || height &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> (animator?.isStarted == <span class="hljs-literal">true</span>) <span class="hljs-keyword">return</span>

        <span class="hljs-comment">// æ ¹æ®è§†å›¾å®½åº¦å’Œé€Ÿåº¦è®¡ç®—åŠ¨ç”»æ—¶é•¿</span>
        <span class="hljs-keyword">val</span> w = width.coerceAtLeast(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">val</span> durationMs = ((w / speedPxPerSec) * <span class="hljs-number">1000f</span>).toLong().coerceAtLeast(<span class="hljs-number">1200L</span>)

        animator = ValueAnimator.ofFloat(<span class="hljs-number">0f</span>, <span class="hljs-number">1f</span>).apply {
            duration = durationMs
            repeatCount = ValueAnimator.INFINITE
            repeatMode = ValueAnimator.RESTART
            interpolator = LinearInterpolator()
            addUpdateListener {
                progress = it.animatedValue <span class="hljs-keyword">as</span> <span class="hljs-built_in">Float</span>
                invalidate()
            }
            start()
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">restartAnim</span><span class="hljs-params">()</span></span> {
        stopAnim()
        startAnimIfPossible()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">stopAnim</span><span class="hljs-params">()</span></span> {
        animator?.cancel()
        animator = <span class="hljs-literal">null</span>
    }
}
</code></pre>
<h3 data-id="heading-4">2ã€è‡ªå®šä¹‰å±æ€§</h3>
<p>åœ¨ <code>res/values/attrs.xml</code> ä¸­æ·»åŠ è‡ªå®šä¹‰å±æ€§</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">declare-styleable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"GradientBackgroundView"</span>&gt;</span>
<span class="hljs-comment">&lt;!-- åŠ¨ç”»å¼ºåº¦ï¼ˆ0~1ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">attr</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gbvIntensity"</span> <span class="hljs-attr">format</span>=<span class="hljs-string">"float"</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- æµåŠ¨é€Ÿåº¦ï¼ˆpx/ç§’ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">attr</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gbvSpeedPxPerSec"</span> <span class="hljs-attr">format</span>=<span class="hljs-string">"float"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">declare-styleable</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">å››ã€ä½¿ç”¨</h2>
<h3 data-id="heading-6">1ã€åœ¨å¸ƒå±€ä¸­ç›´æ¥å¼•ç”¨</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;com.voicerobot.lottie.widget.GradientBackgroundView
android:<span class="hljs-attr">layout_width</span>=<span class="hljs-string">"match_parent"</span>
android:<span class="hljs-attr">layout_height</span>=<span class="hljs-string">"match_parent"</span>
app:<span class="hljs-attr">gbvIntensity</span>=<span class="hljs-string">"0.8"</span>
app:<span class="hljs-attr">gbvSpeedPxPerSec</span>=<span class="hljs-string">"200"</span> /&gt;
</code></pre>
<h3 data-id="heading-7">2ã€ä»£ç ä¸­åŠ¨æ€é…ç½®</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è‡ªå®šä¹‰é¢œè‰²</span>

gradientView<span class="hljs-selector-class">.setColors</span>(<span class="hljs-number">0</span>xFF00FF00.toInt(), <span class="hljs-number">0</span>xFFFF0000<span class="hljs-selector-class">.toInt</span>())

<span class="hljs-comment">// è°ƒæ•´åŠ¨ç”»å¼ºåº¦ï¼ˆæ¯”å¦‚æ»‘åŠ¨æ—¶å‡å¼±åŠ¨ç”»ï¼‰</span>

gradientView<span class="hljs-selector-class">.setIntensity</span>(<span class="hljs-number">0.5</span>f)

<span class="hljs-comment">// è°ƒæ•´æµåŠ¨é€Ÿåº¦</span>

gradientView<span class="hljs-selector-class">.setSpeedPxPerSec</span>(<span class="hljs-number">250</span>f)
</code></pre>
<h2 data-id="heading-8">äº”ã€å…³é”®ç»†èŠ‚è§£æ</h2>
<ol>
<li><strong>2 å€å®½åº¦æ¸å˜</strong>ï¼šåˆ›å»ºæ¯”è§†å›¾å®½ 2 å€çš„æ¸å˜ï¼Œé…åˆé¦–å°¾åŒè‰²ï¼ˆ<code>colorStart -&gt; colorEnd -&gt; colorStart</code>ï¼‰ï¼Œä¿è¯æµåŠ¨æ—¶æ— æ–­å±‚ã€‚</li>
<li><strong>åŠ¨ç”»æ—¶é•¿è‡ªé€‚åº”</strong>ï¼šæ ¹æ®è§†å›¾å®½åº¦å’Œé€Ÿåº¦ï¼ˆpx / ç§’ï¼‰è®¡ç®—åŠ¨ç”»æ—¶é•¿ï¼Œä¸åŒå°ºå¯¸çš„è§†å›¾æµåŠ¨é€Ÿåº¦ä¸€è‡´ã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šåœ¨<code>onAttachedToWindow</code>å¯åŠ¨åŠ¨ç”»ã€<code>onDetachedFromWindow</code>åœæ­¢åŠ¨ç”»ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä»…åœ¨è§†å›¾å°ºå¯¸å˜åŒ–æ—¶é‡å»ºæ¸å˜ï¼ŒåŠ¨ç”»ä»…è§¦å‘<code>invalidate()</code>æ›´æ–°ç»˜åˆ¶ï¼Œæ€§èƒ½å¼€é”€æä½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ å‰ç«¯ä¸‰å‰‘å®¢-37 /Lesson61(2025-12-09)ã€‘JavaScript å†…å­˜æœºåˆ¶ä¸æ‰§è¡ŒåŸç†è¯¦è§£ğŸ§ ]]></title>    <link>https://juejin.cn/post/7593630465380286502</link>    <guid>https://juejin.cn/post/7593630465380286502</guid>    <pubDate>2026-01-11T10:50:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593630465380286502" data-draft-id="7582016579857629218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ å‰ç«¯ä¸‰å‰‘å®¢-37 /Lesson61(2025-12-09)ã€‘JavaScript å†…å­˜æœºåˆ¶ä¸æ‰§è¡ŒåŸç†è¯¦è§£ğŸ§  "/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-11T10:50:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jing_Rainbow"/> <meta itemprop="url" content="https://juejin.cn/user/1285809519198256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ å‰ç«¯ä¸‰å‰‘å®¢-37 /Lesson61(2025-12-09)ã€‘JavaScript å†…å­˜æœºåˆ¶ä¸æ‰§è¡ŒåŸç†è¯¦è§£ğŸ§  
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1285809519198256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jing_Rainbow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T10:50:13.000Z" title="Sun Jan 11 2026 10:50:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ§  JavaScriptï¼ˆJSï¼‰ä½œä¸ºä¸€é—¨å¹¿æ³›ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå…¶å†…å­˜ç®¡ç†æœºåˆ¶å’Œæ‰§è¡Œæ¨¡å‹å¯¹å¼€å‘è€…ç†è§£ç¨‹åºè¡Œä¸ºè‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ JS çš„å†…å­˜æœºåˆ¶ã€æ‰§è¡Œä¸Šä¸‹æ–‡ã€è°ƒç”¨æ ˆã€é—­åŒ…ã€å˜é‡ä½œç”¨åŸŸã€æ•°æ®ç±»å‹ç³»ç»Ÿï¼Œå¹¶ç»“åˆ C è¯­è¨€çš„å¯¹æ¯”ï¼Œå…¨é¢æ­ç¤º JS çš„è¿è¡Œæœ¬è´¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ”¢ JS æ˜¯ä»€ä¹ˆè¯­è¨€ï¼Ÿ</h2>
<p>JavaScript æ˜¯ä¸€é—¨ <strong>åŠ¨æ€å¼±ç±»å‹è¯­è¨€</strong>ã€‚</p>
<ul>
<li><strong>åŠ¨æ€è¯­è¨€</strong>ï¼šå˜é‡çš„æ•°æ®ç±»å‹åœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œä¸éœ€è¦åœ¨å£°æ˜æ—¶æŒ‡å®šã€‚ä¾‹å¦‚ Pythonã€Rubyã€PHP ç­‰ã€‚</li>
<li><strong>é™æ€è¯­è¨€</strong>ï¼ˆå¦‚ Cã€C++ã€Javaã€Goï¼‰ï¼šå˜é‡ç±»å‹å¿…é¡»åœ¨ç¼–è¯‘å‰æ˜ç¡®å£°æ˜ã€‚</li>
<li><strong>å¼ºç±»å‹è¯­è¨€</strong>ï¼ˆå¦‚ Javaã€C++ï¼‰ï¼šä¸å…è®¸éšå¼ç±»å‹è½¬æ¢ï¼Œç±»å‹ä¸åŒ¹é…ä¼šæŠ¥é”™ã€‚</li>
<li><strong>å¼±ç±»å‹è¯­è¨€</strong>ï¼ˆå¦‚ JSã€PHPï¼‰ï¼šå…è®¸ä¸åŒç±»å‹çš„å€¼è‡ªåŠ¨è½¬æ¢ï¼Œæ¯”å¦‚ <code>&amp;#34;123&amp;#34; + 456</code> ä¼šå˜æˆå­—ç¬¦ä¸² <code>&amp;#34;123456&amp;#34;</code>ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ å°è´´å£«ï¼šJS çš„ <code>typeof null</code> è¿”å› <code>&amp;#34;object&amp;#34;</code> æ˜¯å†å²é—ç•™ bugï¼Œæºäºæ—©æœŸå®ç°ä¸­ null çš„å†…éƒ¨ç±»å‹æ ‡ç­¾ä¸å¯¹è±¡ç›¸åŒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ“¦ æ•°æ®ç±»å‹ä½“ç³»</h2>
<p>JS å…±æœ‰ <strong>8 ç§æ•°æ®ç±»å‹</strong>ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<h3 data-id="heading-2">âœ… ç®€å•æ•°æ®ç±»å‹ï¼ˆåŸå§‹ç±»å‹ / Primitive Typesï¼‰</h3>
<p>è¿™äº›ç±»å‹ç›´æ¥å­˜å‚¨åœ¨ <strong>æ ˆå†…å­˜</strong> ä¸­ï¼Œå› ä¸ºå®ƒä»¬ä½“ç§¯å°ã€è®¿é—®å¿«ã€ç”Ÿå‘½å‘¨æœŸçŸ­ã€‚</p>
<ul>
<li><code>number</code>ï¼šåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼ˆå¦‚ <code>42</code>, <code>3.14</code>ï¼‰</li>
<li><code>string</code>ï¼šå­—ç¬¦ä¸²ï¼ˆå¦‚ <code>&amp;#34;æå®¢æ—¶é—´&amp;#34;</code>ï¼‰</li>
<li><code>boolean</code>ï¼šå¸ƒå°”å€¼ï¼ˆ<code>true</code> / <code>false</code>ï¼‰</li>
<li><code>undefined</code>ï¼šæœªèµ‹å€¼çš„å˜é‡ï¼ˆå¦‚ <code>var x; console.log(x); // undefined</code>ï¼‰</li>
<li><code>null</code>ï¼šè¡¨ç¤ºâ€œç©ºå€¼â€æˆ–â€œæ— å¯¹è±¡â€ï¼Œä½† <code>typeof null === &amp;#34;object&amp;#34;</code>ï¼ˆbugï¼‰</li>
<li><code>symbol</code>ï¼ˆES6 å¼•å…¥ï¼‰ï¼šå”¯ä¸€ä¸”ä¸å¯å˜çš„æ ‡è¯†ç¬¦ï¼Œå¸¸ç”¨äºå¯¹è±¡å±æ€§é”®</li>
<li><code>bigint</code>ï¼ˆES2020 å¼•å…¥ï¼‰ï¼šè¡¨ç¤ºä»»æ„ç²¾åº¦çš„æ•´æ•°ï¼ˆå¦‚ <code>123n</code>ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ“Œ æ³¨æ„ï¼šç®€å•ç±»å‹æ˜¯ <strong>æŒ‰å€¼ä¼ é€’</strong> çš„ã€‚èµ‹å€¼æ—¶ä¼šå¤åˆ¶ä¸€ä»½æ–°å€¼ï¼Œäº’ä¸å½±å“ã€‚</p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1.js ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">var</span> b = a; <span class="hljs-comment">// æ‹·è´å€¼</span>
  a = <span class="hljs-number">2</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// 2</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b); <span class="hljs-comment">// 1 â†’ äº’ä¸å¹²æ‰°</span>
}
<span class="hljs-title function_">foo</span>();
</code></pre>
<h3 data-id="heading-3">ğŸ§± å¤æ‚æ•°æ®ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ / Reference Typesï¼‰</h3>
<ul>
<li><code>object</code>ï¼šåŒ…æ‹¬æ™®é€šå¯¹è±¡ <code>{}</code>ã€æ•°ç»„ <code>[]</code>ã€å‡½æ•° <code>function</code>ã€æ—¥æœŸ <code>Date</code> ç­‰</li>
</ul>
<p>è¿™äº›ç±»å‹å­˜å‚¨åœ¨ <strong>å †å†…å­˜</strong> ä¸­ï¼Œå˜é‡æœ¬èº«åªä¿å­˜ä¸€ä¸ª <strong>æŒ‡å‘å †ä¸­å¯¹è±¡çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰</strong>ã€‚</p>
<blockquote>
<p>ğŸ“Œ å¼•ç”¨ç±»å‹æ˜¯ <strong>æŒ‰å¼•ç”¨ä¼ é€’</strong> çš„ã€‚å¤šä¸ªå˜é‡å¯æŒ‡å‘åŒä¸€å¯¹è±¡ï¼Œä¿®æ”¹ä¼šå½±å“æ‰€æœ‰å¼•ç”¨ã€‚</p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 2.js ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">var</span> a = {<span class="hljs-attr">name</span>: &amp;#<span class="hljs-number">34</span>;æå®¢æ—¶é—´&amp;#<span class="hljs-number">34</span>;};
  <span class="hljs-keyword">var</span> b = a; <span class="hljs-comment">// å¼•ç”¨æ‹·è´ï¼Œb å’Œ a æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</span>
  a.<span class="hljs-property">name</span> = <span class="hljs-string">'æå®¢é‚¦'</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// {name: &amp;#34;æå®¢é‚¦&amp;#34;}</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b); <span class="hljs-comment">// {name: &amp;#34;æå®¢é‚¦&amp;#34;} â†’ åŒä¸€å¯¹è±¡ï¼</span>
}
<span class="hljs-title function_">foo</span>();
</code></pre>
<hr/>
<h2 data-id="heading-4">ğŸ§  å†…å­˜æ¨¡å‹ï¼šæ ˆ vs å †</h2>
<p>ä¸ºäº†é«˜æ•ˆç®¡ç†å†…å­˜ï¼ŒJavaScript å¼•æ“ï¼ˆå¦‚ V8ï¼‰å°†å†…å­˜åˆ’åˆ†ä¸ºä¸åŒçš„åŒºåŸŸï¼Œå„å¸å…¶èŒã€‚</p>
<p>â¬‡ï¸ <strong>å›¾1ï¼šJavaScript å¼•æ“å†…å­˜å¸ƒå±€ç¤ºæ„å›¾</strong><br/>
ï¼ˆå†…å­˜ç©ºé—´ç»“æ„å›¾ï¼šä»£ç ç©ºé—´ã€æ ˆç©ºé—´ã€å †ç©ºé—´ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/203d2849574f4422b50cea38f4f272f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768733412&amp;x-signature=1naXlZLsAg0tCku3Om9BPSbu4XU%3D" alt="1.png" loading="lazy"/></p>
<blockquote>
<p>å›¾1å±•ç¤ºäº† JS è¿è¡Œæ—¶çš„ä¸‰å¤§å†…å­˜åŒºåŸŸï¼š</p>
<ul>
<li><strong>ä»£ç ç©ºé—´</strong>ï¼šå­˜æ”¾ä»ç¡¬ç›˜åŠ è½½çš„ç¨‹åºæŒ‡ä»¤ï¼›</li>
<li><strong>æ ˆç©ºé—´</strong>ï¼šç”¨äºç®¡ç†å‡½æ•°è°ƒç”¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå­˜å‚¨ç®€å•æ•°æ®ç±»å‹ï¼›</li>
<li><strong>å †ç©ºé—´</strong>ï¼šå­˜æ”¾å¯¹è±¡ç­‰å¤æ‚æ•°æ®ç±»å‹ï¼Œç©ºé—´å¤§ä½†åˆ†é…/å›æ”¶è¾ƒæ…¢ã€‚</li>
</ul>
</blockquote>
<h3 data-id="heading-5">ğŸ—ƒï¸ æ ˆå†…å­˜ï¼ˆStack Memoryï¼‰</h3>
<ul>
<li>å­˜å‚¨ <strong>ç®€å•æ•°æ®ç±»å‹</strong> å’Œ <strong>å‡½æ•°è°ƒç”¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡</strong></li>
<li>ç‰¹ç‚¹ï¼š<strong>è¿ç»­ã€å›ºå®šå¤§å°ã€å¿«é€Ÿåˆ†é…/é‡Šæ”¾</strong></li>
<li>å‡½æ•°è°ƒç”¨æ—¶ï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥è°ƒç”¨æ ˆï¼›å‡½æ•°è¿”å›åï¼Œä¸Šä¸‹æ–‡è¢«å¼¹å‡ºï¼Œå†…å­˜ç«‹å³å›æ”¶ï¼ˆé€šè¿‡æ ˆé¡¶æŒ‡é’ˆåç§»ï¼‰</li>
</ul>
<h3 data-id="heading-6">ğŸ—ï¸ å †å†…å­˜ï¼ˆHeap Memoryï¼‰</h3>
<ul>
<li>å­˜å‚¨ <strong>å¤æ‚æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ï¼‰</strong></li>
<li>ç‰¹ç‚¹ï¼š<strong>ä¸è¿ç»­ã€åŠ¨æ€åˆ†é…ã€çµæ´»ä½†è¾ƒæ…¢</strong></li>
<li>å¯¹è±¡é€šè¿‡ <strong>åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰</strong> å›æ”¶ï¼šå½“å¯¹è±¡ä¸å†è¢«ä»»ä½•å˜é‡å¼•ç”¨æ—¶ï¼ŒV8 å¼•æ“ä½¿ç”¨ <strong>æ ‡è®°-æ¸…é™¤ï¼ˆMark-and-Sweepï¼‰</strong> ç®—æ³•å›æ”¶å†…å­˜</li>
</ul>
<blockquote>
<p>âš ï¸ æ ˆå›æ”¶æ˜¯ç¬æ—¶çš„ï¼ˆæŒ‡é’ˆç§»åŠ¨ï¼‰ï¼Œå †å›æ”¶æ˜¯å¼‚æ­¥ä¸”è€—æ—¶çš„ã€‚</p>
</blockquote>
<p>â¬‡ï¸ <strong>å›¾3ï¼šå˜é‡ c å¦‚ä½•å¼•ç”¨å †å†…å­˜ä¸­çš„å¯¹è±¡</strong><br/>
ï¼ˆå˜é‡å¼•ç”¨å †åœ°å€å›¾ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c6c494da7d24f879a7b0b0b961cfb47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768733412&amp;x-signature=OseMgiJkWYJ9uSlyjS%2F%2Fo7DLaZ4%3D" alt="3.png" loading="lazy"/></p>
<blockquote>
<p>å›¾3æ¸…æ™°åœ°è¯´æ˜äº†å¼•ç”¨æœºåˆ¶ï¼šå˜é‡ <code>c</code> å¹¶ä¸ç›´æ¥å­˜å‚¨å¯¹è±¡ <code>{name: &amp;#34;æå®¢æ—¶é—´&amp;#34;}</code>ï¼Œè€Œæ˜¯ä¿å­˜ä¸€ä¸ªæŒ‡å‘å †å†…å­˜åœ°å€ï¼ˆå¦‚ <code>1003</code>ï¼‰çš„æŒ‡é’ˆã€‚å› æ­¤ï¼Œå½“ <code>a</code> ä¿®æ”¹å¯¹è±¡å±æ€§æ—¶ï¼Œ<code>b</code> ä¹Ÿä¼šçœ‹åˆ°å˜åŒ–ï¼Œå› ä¸ºå®ƒä»¬å…±äº«åŒä¸€ä¸ªå †åœ°å€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">ğŸ”„ JS æ‰§è¡Œæœºåˆ¶ï¼šè°ƒç”¨æ ˆä¸æ‰§è¡Œä¸Šä¸‹æ–‡</h2>
<p>JS æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œé€šè¿‡ <strong>è°ƒç”¨æ ˆï¼ˆCall Stackï¼‰</strong> ç®¡ç†å‡½æ•°æ‰§è¡Œé¡ºåºã€‚</p>
<p>â¬‡ï¸ <strong>å›¾2ï¼šå‡½æ•°æ‰§è¡ŒæœŸé—´è°ƒç”¨æ ˆçš„å˜åŒ–è¿‡ç¨‹</strong><br/>
ï¼ˆè°ƒç”¨æ ˆå˜åŒ–å›¾ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dcb975eb91c4862893fbf64c940aef8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768733412&amp;x-signature=Ie625g%2FxNPERjmqepWGsc4Ga7tI%3D" alt="2.png" loading="lazy"/></p>
<blockquote>
<p>å›¾2å±•ç¤ºäº† <code>foo()</code> å‡½æ•°æ‰§è¡Œå‰åçš„è°ƒç”¨æ ˆçŠ¶æ€ï¼š</p>
<ul>
<li><strong>å·¦ä¾§</strong>ï¼š<code>foo</code> æ­£åœ¨æ‰§è¡Œï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ä½äºæ ˆé¡¶ï¼›</li>
<li><strong>å³ä¾§</strong>ï¼š<code>foo</code> æ‰§è¡Œå®Œæ¯•ï¼Œä¸Šä¸‹æ–‡è¢«å¼¹å‡ºï¼Œå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡æŒ‡é’ˆå›åˆ°å…¨å±€ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p>è¿™ç§ LIFOï¼ˆåè¿›å…ˆå‡ºï¼‰ç»“æ„ç¡®ä¿äº†å‡½æ•°è°ƒç”¨çš„æ­£ç¡®åµŒå¥—å’Œè¿”å›ã€‚</p>
</blockquote>
<h3 data-id="heading-8">ğŸ§© æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰</h3>
<p>æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒåŒ…å«ï¼š</p>
<ol>
<li><strong>å˜é‡ç¯å¢ƒï¼ˆVariable Environmentï¼‰</strong>ï¼šå­˜å‚¨ <code>var</code> å£°æ˜çš„å˜é‡ã€å‡½æ•°å£°æ˜ï¼ˆæå‡ï¼‰</li>
<li><strong>è¯æ³•ç¯å¢ƒï¼ˆLexical Environmentï¼‰</strong>ï¼šå­˜å‚¨ <code>let</code>/<code>const</code> å£°æ˜çš„å˜é‡ï¼Œæ”¯æŒå—çº§ä½œç”¨åŸŸ</li>
<li><strong>this ç»‘å®š</strong></li>
<li><strong>outer å¼•ç”¨</strong>ï¼šæŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„è¯æ³•ç¯å¢ƒï¼Œæ„æˆ <strong>ä½œç”¨åŸŸé“¾</strong></li>
</ol>
<blockquote>
<p>ğŸŒ <strong>è¯æ³•ä½œç”¨åŸŸï¼ˆLexical Scopeï¼‰</strong>ï¼šå‡½æ•°çš„ä½œç”¨åŸŸç”±å…¶å®šä¹‰ä½ç½®å†³å®šï¼Œè€Œéè°ƒç”¨ä½ç½®ã€‚</p>
</blockquote>
<h3 data-id="heading-9">ğŸ“œ æ‰§è¡Œæµç¨‹ç¤ºä¾‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 3.js ç¤ºä¾‹</span>
<span class="hljs-keyword">var</span> bar; 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;undefined&amp;#34;</span>

bar = <span class="hljs-number">12</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;number&amp;#34;</span>

bar = &amp;#<span class="hljs-number">34</span>;æå®¢æ—¶é—´&amp;#<span class="hljs-number">34</span>;;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;string&amp;#34;</span>

bar = <span class="hljs-literal">true</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;boolean&amp;#34;</span>

bar = <span class="hljs-literal">null</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;object&amp;#34; â† bugï¼</span>

bar = {<span class="hljs-attr">name</span>: &amp;#<span class="hljs-number">34</span>;æå®¢æ—¶é—´&amp;#<span class="hljs-number">34</span>;};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> bar); <span class="hljs-comment">// &amp;#34;object&amp;#34;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(bar)); <span class="hljs-comment">// &amp;#34;[object Object]&amp;#34; â† æ›´å‡†ç¡®</span>
</code></pre>
<blockquote>
<p>âœ… æ¨èä½¿ç”¨ <code>Object.prototype.toString.call(value)</code> åˆ¤æ–­ç²¾ç¡®ç±»å‹ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">ğŸ”— é—­åŒ…ï¼ˆClosureï¼‰ï¼šä½œç”¨åŸŸé“¾çš„é­”æ³•</h2>
<p>é—­åŒ…æ˜¯ <strong>å†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å‡½æ•°å˜é‡</strong> çš„ç°è±¡ï¼Œå…¶æ ¸å¿ƒåœ¨äº <strong>å˜é‡è¢«æ•è·å¹¶ä¿ç•™åœ¨å †å†…å­˜ä¸­</strong>ã€‚</p>
<p>â¬‡ï¸ <strong>å›¾4ï¼šé—­åŒ…å¦‚ä½•ä¿ç•™å¤–éƒ¨å˜é‡</strong><br/>
ï¼ˆé—­åŒ…å†…å­˜ç»“æ„å›¾ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52d7d8370e1b4234a1332d0c92a9828b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768733412&amp;x-signature=Ubqo8xnVvWZae5zoIQK8HdfVuMY%3D" alt="4.png" loading="lazy"/></p>
<blockquote>
<p>å›¾4æ­ç¤ºäº†é—­åŒ…çš„æœ¬è´¨ï¼šå³ä½¿ <code>foo()</code> å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå…¶å±€éƒ¨å˜é‡ <code>myName</code> å’Œ <code>test1</code> å¹¶æœªè¢«é”€æ¯ï¼Œè€Œæ˜¯è¢«å°è£…åœ¨ä¸€ä¸ªåä¸º <code>closure(foo)</code> çš„å¯¹è±¡ä¸­ï¼Œå­˜æ”¾åœ¨å †å†…å­˜é‡Œã€‚åªè¦å†…éƒ¨å‡½æ•°ï¼ˆå¦‚ <code>setName</code>ã€<code>getName</code>ï¼‰ä»è¢«å¤–éƒ¨å¼•ç”¨ï¼Œè¿™ä¸ª closure å°±ä¸ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
</blockquote>
<h3 data-id="heading-11">ğŸ§ª é—­åŒ…å½¢æˆè¿‡ç¨‹</h3>
<ol>
<li>ç¼–è¯‘é˜¶æ®µï¼šJS å¼•æ“æ‰«æå‡½æ•°å†…éƒ¨ï¼Œå‘ç°å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å˜é‡ï¼ˆè‡ªç”±å˜é‡ï¼‰</li>
<li>æ‰§è¡Œé˜¶æ®µï¼šè‹¥å­˜åœ¨é—­åŒ…ï¼ŒV8 ä¼šåœ¨ <strong>å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ª closure å¯¹è±¡</strong>ï¼Œä¿å­˜è¢«å¼•ç”¨çš„å¤–éƒ¨å˜é‡</li>
<li>å†…éƒ¨å‡½æ•°é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®è¯¥ closure å¯¹è±¡</li>
</ol>
<blockquote>
<p>ğŸ¯ é—­åŒ…çš„æœ¬è´¨ï¼š<strong>å»¶é•¿å¤–éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œä½¿å…¶ä¸éšå‡½æ•°æ‰§è¡Œç»“æŸè€Œé”€æ¯ã€‚</p>
</blockquote>
<h3 data-id="heading-12">ğŸ“‚ é—­åŒ…ç¤ºä¾‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">var</span> myName = &amp;#<span class="hljs-number">34</span>;æå®¢æ—¶é—´&amp;#<span class="hljs-number">34</span>;;
  <span class="hljs-keyword">var</span> test1 = <span class="hljs-number">1</span>;

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params">name</span>) {
    myName = name; <span class="hljs-comment">// ä¿®æ”¹ closure ä¸­çš„ myName</span>
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test1); <span class="hljs-comment">// è®¿é—® closure ä¸­çš„ test1</span>
    <span class="hljs-keyword">return</span> myName;      <span class="hljs-comment">// è®¿é—® closure ä¸­çš„ myName</span>
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">setName</span>: setName,
    <span class="hljs-attr">getName</span>: getName
  };
}

<span class="hljs-keyword">var</span> bar = <span class="hljs-title function_">foo</span>();
bar.<span class="hljs-title function_">setName</span>(&amp;#<span class="hljs-number">34</span>;æå®¢é‚¦&amp;#<span class="hljs-number">34</span>;);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar.<span class="hljs-title function_">getName</span>()); <span class="hljs-comment">// è¾“å‡º 1 å’Œ &amp;#34;æå®¢é‚¦&amp;#34;</span>
</code></pre>
<blockquote>
<p>ğŸ§  æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li><code>foo()</code> è¢«è°ƒç”¨ï¼Œåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥è°ƒç”¨æ ˆ</li>
<li>å¼•æ“æ£€æµ‹åˆ° <code>setName</code> å’Œ <code>getName</code> å¼•ç”¨äº† <code>myName</code> å’Œ <code>test1</code></li>
<li>åœ¨å †ä¸­åˆ›å»º <code>closure(foo)</code> å¯¹è±¡ï¼Œä¿å­˜è¿™ä¸¤ä¸ªå˜é‡</li>
<li><code>foo</code> è¿”å›åï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡ºï¼Œä½† <code>closure(foo)</code> ä»è¢« <code>bar</code> å¼•ç”¨ï¼Œä¸ä¼šè¢« GC</li>
<li>åç»­è°ƒç”¨ <code>bar.setName()</code> å’Œ <code>bar.getName()</code> ä»å¯è®¿é—®é—­åŒ…ä¸­çš„å˜é‡</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-13">âš–ï¸ JS vs Cï¼šå†…å­˜ä¸ç±»å‹ç³»ç»Ÿçš„å¯¹æ¯”</h2>
<h3 data-id="heading-14">ğŸ§ª C è¯­è¨€ç¤ºä¾‹ï¼ˆ3.c / 4.cï¼‰</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> </span>
<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>{
  <span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;
  <span class="hljs-type">bool</span> c = <span class="hljs-literal">true</span>;
  c = a; <span class="hljs-comment">// éšå¼ç±»å‹è½¬æ¢ï¼šint â†’ boolï¼ˆéé›¶ä¸º trueï¼‰</span>
  c = (<span class="hljs-type">bool</span>)a; <span class="hljs-comment">// æ˜¾å¼å¼ºåˆ¶è½¬æ¢</span>
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<ul>
<li>C æ˜¯ <strong>é™æ€å¼ºç±»å‹è¯­è¨€</strong>ï¼Œä½†æ”¯æŒ <strong>éšå¼/æ˜¾å¼ç±»å‹è½¬æ¢</strong></li>
<li>C å…è®¸ç›´æ¥æ“ä½œå†…å­˜ï¼ˆ<code>malloc</code>, <code>free</code>ï¼‰ï¼Œè€Œ JS å®Œå…¨å±è”½åº•å±‚å†…å­˜æ“ä½œ</li>
<li>C çš„å˜é‡ç±»å‹åœ¨ç¼–è¯‘æ—¶å›ºå®šï¼ŒJS åœ¨è¿è¡Œæ—¶åŠ¨æ€å˜åŒ–</li>
</ul>
<blockquote>
<p>ğŸ†š å¯¹æ¯”ï¼š</p>
<ul>
<li><strong>JS</strong>ï¼šå¼€å‘è€…æ— éœ€å…³å¿ƒå†…å­˜åˆ†é…/é‡Šæ”¾ï¼Œç”±å¼•æ“è‡ªåŠ¨ç®¡ç†ï¼ˆGCï¼‰</li>
<li><strong>C/C++</strong>ï¼šå¼€å‘è€…å¿…é¡»æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼æˆ–é‡æŒ‡é’ˆ</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-15">ğŸ§© æ€»ç»“ï¼šJS è¿è¡Œçš„æ ¸å¿ƒæœºåˆ¶</h2>









































<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åŠ¨æ€å¼±ç±»å‹</strong></td><td>ç±»å‹åœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œå¯è‡ªåŠ¨è½¬æ¢</td></tr><tr><td><strong>æ ˆå†…å­˜</strong></td><td>å­˜å‚¨ç®€å•ç±»å‹å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¿«é€Ÿå›æ”¶</td></tr><tr><td><strong>å †å†…å­˜</strong></td><td>å­˜å‚¨å¯¹è±¡ï¼Œé€šè¿‡ GC å›æ”¶</td></tr><tr><td><strong>è°ƒç”¨æ ˆ</strong></td><td>ç®¡ç†å‡½æ•°æ‰§è¡Œé¡ºåºï¼ŒLIFO ç»“æ„</td></tr><tr><td><strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong></td><td>åŒ…å«å˜é‡ç¯å¢ƒã€è¯æ³•ç¯å¢ƒã€thisã€outer</td></tr><tr><td><strong>ä½œç”¨åŸŸé“¾</strong></td><td>é€šè¿‡ outer é“¾æ¥å¤–å±‚è¯æ³•ç¯å¢ƒï¼Œå®ç°å˜é‡æŸ¥æ‰¾</td></tr><tr><td><strong>é—­åŒ…</strong></td><td>å†…éƒ¨å‡½æ•°æ•è·å¤–éƒ¨å˜é‡ï¼Œå˜é‡ä¿ç•™åœ¨å †ä¸­</td></tr><tr><td><strong>åƒåœ¾å›æ”¶</strong></td><td>æ ˆï¼šæŒ‡é’ˆåç§»ï¼›å †ï¼šæ ‡è®°-æ¸…é™¤</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-16">ğŸ¯ ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h2>
<ul>
<li><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šç®€å•ç±»å‹æ”¾æ ˆä¸­ï¼Œåˆ‡æ¢ä¸Šä¸‹æ–‡å¿«ï¼›å¤æ‚å¯¹è±¡æ”¾å †ä¸­ï¼Œé¿å…æ ˆæº¢å‡º</li>
<li><strong>å¼€å‘ä½“éªŒ</strong>ï¼šè‡ªåŠ¨å†…å­˜ç®¡ç†é™ä½é—¨æ§›ï¼Œé€‚åˆ Web å¿«é€Ÿå¼€å‘</li>
<li><strong>çµæ´»æ€§</strong>ï¼šåŠ¨æ€ç±»å‹ + é—­åŒ… + åŸå‹é“¾ï¼Œèµ‹äºˆ JS æå¼ºçš„è¡¨è¾¾èƒ½åŠ›</li>
</ul>
<blockquote>
<p>â¤ï¸ æ­£å¦‚æ–‡æ¡£ä¸­æ‰€è¯´ï¼šâ€œå†…å­˜æ˜¯æœ‰é™çš„ã€æ˜‚è´µçš„èµ„æºâ€ï¼ŒJS å¼•æ“ï¼ˆå¦‚ V8ï¼‰é€šè¿‡ç²¾å·§çš„æ ˆ/å †åˆ†å·¥ï¼Œåœ¨æ˜“ç”¨æ€§ä¸æ€§èƒ½ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-17">ğŸ“š é™„å½•ï¼šå…³é”®æ–‡ä»¶å†…å®¹å›é¡¾</h2>
<ul>
<li><code>1.js</code>ï¼šæ¼”ç¤ºç®€å•ç±»å‹çš„å€¼æ‹·è´</li>
<li><code>2.js</code>ï¼šæ¼”ç¤ºå¯¹è±¡çš„å¼•ç”¨å…±äº«</li>
<li><code>3.js</code>ï¼šå±•ç¤º JS åŠ¨æ€ç±»å‹ç‰¹æ€§åŠ <code>typeof</code> çš„å±€é™æ€§</li>
<li><code>3.c</code> / <code>4.c</code>ï¼šC è¯­è¨€çš„ç±»å‹è½¬æ¢ä¸å†…å­˜æ§åˆ¶</li>
<li><code>readme.md</code>ï¼šç³»ç»Ÿé˜è¿° JS å†…å­˜æ¨¡å‹ã€é—­åŒ…æœºåˆ¶ã€æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li><code>6.html</code>ï¼šå…³è”é—­åŒ…å›¾ç¤ºï¼ˆ4.pngï¼‰ï¼Œå¯è§†åŒ– closure(foo) çš„å­˜åœ¨</li>
</ul>
<hr/>
<p>é€šè¿‡ä»¥ä¸Šè¯¦å°½è§£æï¼Œæˆ‘ä»¬ä¸ä»…ç†è§£äº† JS å¦‚ä½•ç®¡ç†å†…å­˜ã€æ‰§è¡Œä»£ç ï¼Œè¿˜çœ‹æ¸…äº†é—­åŒ…ã€ä½œç”¨åŸŸã€ç±»å‹ç³»ç»ŸèƒŒåçš„è¿è¡Œé€»è¾‘ã€‚æŒæ¡è¿™äº›çŸ¥è¯†ï¼Œå°†å¸®åŠ©ä½ åœ¨ç¼–å†™é«˜æ€§èƒ½ã€æ— å†…å­˜æ³„æ¼çš„ JS åº”ç”¨æ—¶æ¸¸åˆƒæœ‰ä½™ã€‚ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£ç æ•°æ®åˆ†å¸ƒï¼šèŒå¶å›¾å’Œç®±å½¢å›¾åˆå­¦è€…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593232758128181254</link>    <guid>https://juejin.cn/post/7593232758128181254</guid>    <pubDate>2026-01-11T01:53:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593232758128181254" data-draft-id="7579093990694404131" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£ç æ•°æ®åˆ†å¸ƒï¼šèŒå¶å›¾å’Œç®±å½¢å›¾åˆå­¦è€…æŒ‡å—"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-11T01:53:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UrbanJazzerati"/> <meta itemprop="url" content="https://juejin.cn/user/550205947391389"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£ç æ•°æ®åˆ†å¸ƒï¼šèŒå¶å›¾å’Œç®±å½¢å›¾åˆå­¦è€…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/550205947391389/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UrbanJazzerati
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T01:53:14.000Z" title="Sun Jan 11 2026 01:53:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æƒ³è±¡ä½ æ˜¯ç­ä¸»ä»»ï¼Œæ‹¿åˆ°äº†ç­ä¸Š25åå­¦ç”Ÿçš„æ•°å­¦è€ƒè¯•æˆç»©ï¼ˆæ»¡åˆ†100ï¼‰ï¼Œåˆ†æ•°å¦‚ä¸‹ï¼š<br/>
<code>45, 52, 59, 61, 62, 63, 65, 66, 68, 70, 72, 74, 75, 75, 76, 77, 78, 81, 82, 85, 88, 90, 92, 95, 98</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3e53f92b2ed4265b78b825ec938126b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=BbIxyL%2Fpug%2FifrDXRYKzv3lOrSg%3D" alt="image.png" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹èŒå¶å›¾å’Œç®±çº¿å›¾åˆ†åˆ«æ€ä¹ˆâ€œæç»˜â€è¿™ç¾¤å­¦ç”Ÿçš„æˆç»©ã€‚</p>
<hr/>
<h3 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šèŒå¶å›¾ â€” åƒä¸€æ ªæ¤ç‰©ï¼Œåˆ—å‡ºæ‰€æœ‰ç»†èŠ‚</h3>
<p><strong>ä¸€ã€å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
èŒå¶å›¾æ˜¯ä¸€ç§å°†<strong>åŸå§‹æ•°æ®</strong>å’Œ<strong>æ•°æ®åˆ†å¸ƒå½¢çŠ¶</strong>ç»“åˆæ˜¾ç¤ºçš„å›¾è¡¨ã€‚å®ƒåƒä¸€æ ªæ¤ç‰©ï¼Œâ€œèŒâ€æ˜¯é«˜ä½æ•°å­—ï¼Œâ€œå¶â€æ˜¯ä½ä½æ•°å­—ï¼Œæ‰€æœ‰æ•°æ®ç‚¹ä¸€ç›®äº†ç„¶ã€‚</p>
<p><strong>äºŒã€æ€ä¹ˆç”»ï¼Ÿï¼ˆç”¨æˆ‘ä»¬çš„æˆç»©æ•°æ®ï¼‰</strong></p>
<ol>
<li>
<p><strong>åˆ†èŒå’Œå¶</strong>ï¼šè¿™é‡Œæˆ‘ä»¬å–åä½æ•°ä½œâ€œèŒâ€ï¼Œä¸ªä½æ•°ä½œâ€œå¶â€ã€‚</p>
</li>
<li>
<p><strong>ç”»ç«–çº¿</strong>ï¼šåœ¨çº¸ä¸Šç”»ä¸€æ¡ç«–çº¿ã€‚</p>
</li>
<li>
<p><strong>å†™â€œèŒâ€</strong> ï¼šåœ¨ç«–çº¿å·¦ä¾§ï¼Œä»æœ€å°åä½æ•°åˆ°æœ€å¤§åä½æ•°ï¼Œä¾æ¬¡å†™ä¸‹ï¼š4, 5, 6, 7, 8, 9ã€‚</p>
</li>
<li>
<p><strong>æ·»â€œå¶â€</strong> ï¼šéå†æ¯ä¸ªåˆ†æ•°ï¼Œå°†å®ƒçš„ä¸ªä½æ•°ï¼ˆå¶ï¼‰ï¼ŒæŒ‰é¡ºåºå†™åœ¨å¯¹åº”èŒçš„å³ä¾§ã€‚</p>
<ul>
<li>ç¬¬ä¸€ä¸ªåˆ†æ•°45 â†’ èŒæ˜¯<code>4</code>ï¼Œå¶æ˜¯<code>5</code>ï¼Œåœ¨<code>4</code>çš„å³è¾¹è®°ä¸€ä¸ª<code>5</code>ã€‚</li>
<li>ç¬¬äºŒä¸ªåˆ†æ•°52 â†’ èŒæ˜¯<code>5</code>ï¼Œå¶æ˜¯<code>2</code>ï¼Œåœ¨<code>5</code>çš„å³è¾¹è®°ä¸€ä¸ª<code>2</code>ã€‚</li>
<li>ä»¥æ­¤ç±»æ¨...</li>
</ul>
</li>
</ol>
<p><strong>æœ€ç»ˆå¾—åˆ°çš„èŒå¶å›¾å¦‚ä¸‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b299820a21274dd1977bedb2145c81f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=O7bzxGqwkbC6jjC1U%2BzbECYnMj8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown">æ•°å­¦è€ƒè¯•æˆç»©èŒå¶å›¾
<span class="hljs-section">åä½(èŒ) | ä¸ªä½(å¶)
-----------------</span>
4 | 5
5 | 2 9
6 | 1 2 3 5 6 8
7 | 0 2 4 5 5 6 7 8
8 | 1 2 5 8
9 | 0 2 5 8
</code></pre>
<p><em>ï¼ˆæ³¨ï¼šä¸ºäº†æ¸…æ™°ï¼Œæˆ‘ä»¬å·²å°†â€œå¶â€ä»å°åˆ°å¤§æ’åºï¼‰</em></p>
<p><strong>ä¸‰ã€å®ƒèƒ½å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆï¼Ÿï¼ˆè§£è¯»å›¾ä¾‹ï¼‰</strong></p>
<ol>
<li><strong>çœ‹æ•´ä½“å½¢çŠ¶</strong>ï¼šæ•°æ®é›†ä¸­åœ¨60-80å¤šåˆ†ä¹‹é—´ï¼ˆèŒ6,7,8ï¼‰ï¼Œå½¢çŠ¶å¤§è‡´å¯¹ç§°ï¼Œåƒä¸€åº§å°å±±ã€‚</li>
<li><strong>æ‰¾å…·ä½“æ•°æ®</strong>ï¼šå¯ä»¥ç›´æ¥è¯»å‡ºæ¯ä¸ªåˆ†æ•°ï¼æ¯”å¦‚<code>7 | 0 2 4 5 5 6 7 8</code>è¡¨ç¤ºæœ‰70, 72, 74, 75, 75, 76, 77, 78åˆ†çš„å­¦ç”Ÿã€‚<strong>è¿™æ˜¯å®ƒç‹¬ä¸€æ— äºŒçš„ä¼˜ç‚¹</strong>ã€‚</li>
<li><strong>å‘ç°å¼‚å¸¸å€¼</strong>ï¼šæœ€ä½åˆ†45åˆ†ï¼ˆèŒ4ï¼‰çœ‹èµ·æ¥æœ‰ç‚¹â€œç¦»ç¾¤â€ã€‚</li>
</ol>
<p><strong>å››ã€ä¼˜ç‚¹ä¸å±€é™</strong></p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼š<strong>ä¿ç•™äº†æ¯ä¸ªåŸå§‹æ•°æ®</strong>ï¼Œç›´è§‚å±•ç¤ºåˆ†å¸ƒï¼Œåˆ¶ä½œç®€å•ã€‚</li>
<li><strong>å±€é™</strong>ï¼šæ•°æ®é‡å¾ˆå¤§ï¼ˆæ¯”å¦‚å‡ ç™¾ä¸ªï¼‰æ—¶ï¼Œä¼šå˜å¾—å†—é•¿ã€æ··ä¹±ï¼Œä¸é€‚åˆç”¨ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">ç¬¬äºŒéƒ¨åˆ†ï¼šç®±çº¿å›¾ â€” äº”ä¸ªæ•°å­—ï¼Œæ¦‚æ‹¬å…¨å±€</h3>
<p>å¦‚æœè¯´èŒå¶å›¾æ˜¯â€œå·¥ç¬”ç”»â€ï¼Œåˆ—å‡ºæ‰€æœ‰ç»†èŠ‚ï¼Œé‚£ä¹ˆç®±çº¿å›¾å°±æ˜¯â€œç®€ç¬”ç”»â€ï¼Œç”¨<strong>äº”ä¸ªå…³é”®æ•°å­—</strong>æ¦‚æ‹¬æ•°æ®çš„æ•´ä½“åˆ†å¸ƒã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23f95aedd4c240f09ec610ac96e9dc56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=haHtP1B9Ptam8jlftDqZDCJKwss%3D" alt="image.png" loading="lazy"/>
<strong>ä¸€ã€äº”ä¸ªå…³é”®æ•°å­—æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
è®©æˆ‘ä»¬å…ˆè®¡ç®—æˆç»©æ•°æ®çš„è¿™äº”ä¸ªæ•°ï¼š</p>
<ol>
<li><strong>æœ€å°å€¼</strong>ï¼š<code>45</code>Â (éå¼‚å¸¸å€¼çš„æœ€å°å€¼)</li>
<li><strong>ç¬¬ä¸€å››åˆ†ä½æ•°</strong>ï¼š<code>66</code>Â (å°†æ‰€æœ‰æ•°æ®ä»å°åˆ°å¤§æ’åºï¼Œä½äºå‰25%ä½ç½®çš„æ•°ï¼Œè®°ä½œQ1)</li>
<li><strong>ä¸­ä½æ•°</strong>ï¼š<code>75</code>Â (æ’åºåæ­£ä¸­é—´çš„æ•°ï¼Œè®°ä½œQ2æˆ–ä¸­ä½æ•°)</li>
<li><strong>ç¬¬ä¸‰å››åˆ†ä½æ•°</strong>ï¼š<code>82</code>Â (ä½äºå‰75%ä½ç½®çš„æ•°ï¼Œè®°ä½œQ3)</li>
<li><strong>æœ€å¤§å€¼</strong>ï¼š<code>98</code>Â (éå¼‚å¸¸å€¼çš„æœ€å¤§å€¼)</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a839e761339146d9820940e57931bb09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=kQozV6M%2FHJdec3N0C%2Bk8SN2R1pw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>äºŒã€ç®±çº¿å›¾é•¿ä»€ä¹ˆæ ·ï¼Ÿï¼ˆåŸºäºä»¥ä¸Šäº”ä¸ªæ•°ï¼‰</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5ef18e9fc9544388bd55acab28b5e43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=KyTjxEptAnTFiXcD91c5obVI%2B3E%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-scss" lang="scss">        æœ€å°å€¼   Q1   ä¸­ä½æ•°   Q3    æœ€å¤§å€¼
          |-----<span class="hljs-selector-attr">[====|====]</span>-----|
         <span class="hljs-number">45</span>     <span class="hljs-number">66</span>    <span class="hljs-number">75</span>    <span class="hljs-number">82</span>     <span class="hljs-number">98</span>
          â†“      â†“           â†“      â†“
        ä¸‹ç•Œ    ç®±å­èµ·ç‚¹    ç®±å­ç»ˆç‚¹   ä¸Šç•Œ
                 (IQRèŒƒå›´)
</code></pre>
<p><em>ï¼ˆ<code>[ ]</code>è¡¨ç¤ºç®±å­ï¼Œ<code>|</code>åœ¨ç®±å­ä¸­é—´æ˜¯ä¸­ä½æ•°ï¼Œ<code>-----</code>æ˜¯é¡»çº¿ï¼‰</em></p>
<p><strong>æ›´æ ‡å‡†çš„ç®±çº¿å›¾è¿˜ä¼šæ ‡å‡ºå¯èƒ½çš„å¼‚å¸¸å€¼ï¼ˆç”¨ç‚¹<code>Â·</code>è¡¨ç¤ºï¼‰</strong> ã€‚</p>
<p><strong>ä¸‰ã€å®ƒèƒ½å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆï¼Ÿï¼ˆè§£è¯»å›¾ä¾‹ï¼‰</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4129671e1b454048bf23daff0787a836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=eF85orVbaBYefdD9zxPri0Qsamw%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p><strong>çœ‹ç®±å­çš„ä½ç½®å’Œé•¿åº¦</strong>ï¼š</p>
<ul>
<li><strong>ç®±å­</strong>åŒ…å«äº†ä¸­é—´50%çš„æ•°æ®ï¼ˆä»Q1åˆ°Q3ï¼Œå³66åˆ†åˆ°82åˆ†ï¼‰ã€‚</li>
<li><strong>ç®±å­é•¿åº¦</strong>Â = Q3 - Q1 = 16ï¼Œè¿™å«<strong>å››åˆ†ä½è·</strong>ï¼Œåæ˜ äº†ä¸­é—´åŠæ•°æ•°æ®çš„æ³¢åŠ¨èŒƒå›´ã€‚è¿™é‡Œç®±å­ä¸é•¿ï¼Œè¯´æ˜ä¸­ç­‰æ°´å¹³çš„å­¦ç”Ÿæˆç»©æ¯”è¾ƒé›†ä¸­ã€‚</li>
<li><strong>ä¸­ä½æ•°çº¿ï¼ˆ75ï¼‰</strong> Â åœ¨ç®±å­ä¸­é—´åå³ä¸€ç‚¹ï¼Œè¯´æ˜æˆç»©åˆ†å¸ƒç¨å¾®åå‘é«˜åˆ†ä¸€ä¾§ã€‚</li>
</ul>
</li>
<li>
<p><strong>çœ‹é¡»çº¿çš„é•¿åº¦</strong>ï¼š</p>
<ul>
<li>ä¸‹é¡»çº¿ï¼ˆQ1åˆ°æœ€å°å€¼45ï¼‰æ¯”ä¸Šé¡»çº¿ï¼ˆQ3åˆ°æœ€å¤§å€¼98ï¼‰é•¿å¾ˆå¤šï¼Œè¯´æ˜<strong>é«˜=ä½åˆ†å­¦ç”Ÿåˆ†å¸ƒæ›´åˆ†æ•£ï¼Œè€Œé«˜åˆ†å­¦ç”Ÿï¼ˆé™¤äº†ä¸ªåˆ«ï¼‰ç›¸å¯¹é›†ä¸­</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¯†åˆ«å¼‚å¸¸å€¼</strong>ï¼š</p>
<ul>
<li>
<p>ç®±çº¿å›¾é€šå¸¸ç”¨<code>1.5å€IQR</code>è§„åˆ™åˆ¤æ–­å¼‚å¸¸å€¼ã€‚æœ¬ä¾‹ä¸­ï¼š</p>
<ul>
<li>ä¸‹ç•Œ = Q1 - 1.5*IQR = 66 - 24 = 42</li>
<li>ä¸Šç•Œ = Q3 + 1.5*IQR = 82 + 24 = 106</li>
</ul>
</li>
<li>
<p>åˆ†æ•°<code>45</code>é«˜äºä¸‹ç•Œ<code>42</code>ï¼Œæ‰€ä»¥<strong>æ²¡æœ‰å¼‚å¸¸å€¼</strong>ã€‚å¦‚æœæœ‰åˆ†æ•°ä½äº42ï¼Œå°±ä¼šè¢«å•ç‹¬æ ‡ä¸ºå¼‚å¸¸ç‚¹<code>Â·</code>ã€‚</p>
</li>
</ul>
</li>
</ol>
<p><strong>å››ã€ç®±çº¿å›¾çš„å·¨å¤§å¨åŠ›ï¼šå¤šç»„æ¯”è¾ƒ</strong><br/>
è¿™æ˜¯ç®±çº¿å›¾æœ€ä¸å¯æ›¿ä»£çš„ç”¨é€”ï¼ä¸€çœ¼æ¯”è¾ƒä¸åŒç­çº§ã€ä¸åŒæ–¹æ³•çš„æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c93b4f8d06a74e08b0c7561aa02e4af2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVXJiYW5KYXp6ZXJhdGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768701194&amp;x-signature=%2FZILHXxFULjsM5AUbuWa9NB%2FFI8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css">  ç­çº§<span class="hljs-selector-tag">A</span>æˆç»©   |---<span class="hljs-selector-attr">[==|==]</span>---|Â·Â·Â·Â·Â·Â·Â·Â·Â·&gt;
  ç­çº§<span class="hljs-selector-tag">B</span>æˆç»©         |---<span class="hljs-selector-attr">[=|==]</span>---|
  ç­çº§Cæˆç»© |---<span class="hljs-selector-attr">[===|===]</span>---|
          â†â€”â€”â€”â€”â€”åˆ†æ•°â€”â€”â€”â€”â€”â†’
</code></pre>
<p>ä¸€çœ¼çœ‹å‡ºï¼šAç­ä¸­ä½æ•°æœ€é«˜ï¼Œä½†æœ‰ä¸ªè¶…ä½å¼‚å¸¸å€¼ï¼›Bç­æ•´ä½“ç´§å‡‘ï¼›Cç­æ•´ä½“åä½ä½†å‡åŒ€ã€‚</p>
<hr/>
<h3 data-id="heading-2">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ€»ç»“ä¸å¯¹æ¯”</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>èŒå¶å›¾</th><th>ç®±çº¿å›¾</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒåŠŸèƒ½</strong></td><td><strong>å±•ç¤ºç»†èŠ‚</strong>ï¼Œåˆ—å‡ºæ¯ä¸ªæ•°æ®ç‚¹</td><td><strong>æ¦‚æ‹¬åˆ†å¸ƒ</strong>ï¼Œç”¨äº”ä¸ªç»Ÿè®¡é‡æ€»ç»“</td></tr><tr><td><strong>å‘ˆç°ä¿¡æ¯</strong></td><td>æ‰€æœ‰åŸå§‹æ•°æ®ã€åˆ†å¸ƒå½¢çŠ¶</td><td>ä¸­ä½æ•°ã€å››åˆ†ä½èŒƒå›´ã€æå€¼ã€å¼‚å¸¸å€¼</td></tr><tr><td><strong>æœ€ä½³åœºæ™¯</strong></td><td>æ•°æ®é‡å°ï¼ˆå¦‚&lt;50ï¼‰ï¼Œéœ€è¦ç²¾ç¡®çŸ¥é“æ¯ä¸ªå€¼æ—¶</td><td>æ•°æ®é‡å¤§ï¼Œå¿«é€Ÿäº†è§£åˆ†å¸ƒæ¦‚å†µï¼Œ<strong>ç‰¹åˆ«é€‚åˆå¤šç»„æ•°æ®å¯¹æ¯”</strong></td></tr><tr><td><strong>ä¼˜ç‚¹</strong></td><td>ä¸ä¸¢å¤±åŸå§‹ä¿¡æ¯ï¼Œåˆ¶ä½œç®€å•</td><td>ç®€æ´æœ‰åŠ›ï¼Œå¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼Œæ¯”è¾ƒèƒ½åŠ›å¼º</td></tr><tr><td><strong>å±€é™</strong></td><td>æ•°æ®é‡å¤§æ—¶æ··ä¹±ä¸å ª</td><td>ä¸¢å¤±äº†æ•°æ®åˆ†å¸ƒçš„ç»†èŠ‚ï¼ˆå¦‚åŒå³°åˆ†å¸ƒï¼‰</td></tr></tbody></table>
<h3 data-id="heading-3">ç»™ä½ çš„æœ€ç»ˆæŒ‡å—</h3>
<ol>
<li><strong>å¦‚æœä½ æ˜¯â€œè€ƒå¤å­¦å®¶â€</strong> ï¼Œæƒ³ä»”ç»†å®¡è§†ä¸€å°æ‰¹æ•°æ®çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œç”¨<strong>èŒå¶å›¾</strong>ã€‚</li>
<li><strong>å¦‚æœä½ æ˜¯â€œæŒ‡æŒ¥å®˜â€</strong> ï¼Œæƒ³å¿«é€ŸæŠŠæ¡ä¸€æ‰¹æˆ–å¤šæ‰¹æ•°æ®çš„æ•´ä½“åˆ†å¸ƒã€å…¸å‹æ°´å¹³å’Œå¼‚å¸¸æƒ…å†µï¼Œç”¨<strong>ç®±çº¿å›¾</strong>ã€‚</li>
</ol>
<p><strong>è®°ä½è¿™ä¸ªå£è¯€</strong>ï¼š</p>
<blockquote>
<p><strong>èŒå¶å›¾ï¼Œä¸ªä¸ªç°ï¼Œæ•°æ®ä¸€å¤šå°±èŠ±çœ¼ã€‚</strong><br/>
<strong>ç®±çº¿å›¾ï¼Œäº”æ¡çº¿ï¼Œåˆ†å¸ƒå¼‚å¸¸å…¨çœ‹è§ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‚è°ˆ|2025å¹´æ€»ç»“]]></title>    <link>https://juejin.cn/post/7593742881140097033</link>    <guid>https://juejin.cn/post/7593742881140097033</guid>    <pubDate>2026-01-11T11:00:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593742881140097033" data-draft-id="7593645549179174921" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‚è°ˆ|2025å¹´æ€»ç»“"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-11T11:00:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘¨æœ«ç¨‹åºçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/3245414056989757"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‚è°ˆ|2025å¹´æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3245414056989757/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘¨æœ«ç¨‹åºçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T11:00:50.000Z" title="Sun Jan 11 2026 11:00:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´è¿‡çš„å¾ˆå¿«ï¼Œå¯èƒ½æ˜¯AIå‘å±•å¤ªå¿«äº†ï¼Œæ¯å¤©éƒ½åœ¨AIå„ç§æ–°æŠ€æœ¯çš„å†²å‡»ä¸­åº¦è¿‡ï¼Œä¹Ÿå……æ»¡ç„¦è™‘å’Œæ— å¥ˆçš„ä¸€å¹´ï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦æ€»ç»“ä¸€äº›è¿™ä¸€å¹´çš„ç›®æ ‡å®Œæˆæƒ…å†µå’Œæ€è€ƒå§ã€‚</p>
<h2 data-id="heading-0">ç›®æ ‡å®Œæˆæƒ…å†µ</h2>
<p><strong>å›é¡¾2025å¹´å®šçš„ç›®æ ‡ï¼Œå‘ç°å‡ ä¸ªç›®æ ‡æ²¡æœ‰å®Œæˆï¼š</strong></p>
<ul>
<li>è€ƒã€Šé«˜çº§ç³»ç»Ÿæ¶æ„å¸ˆè¯ä¹¦ã€‹ï¼šå·®äº†å‡ åˆ†ï¼Œ2026å¹´ç»§ç»­</li>
<li>è€ƒé›…æ€ï¼šæ²¡æœ‰å®Œæˆï¼Œç”šè‡³æ²¡æœ‰å‹‡æ°”æŠ¥å</li>
<li>é™ªå¤§å´½å®Œæˆè¿åŠ¨è®¡åˆ’ï¼Œç›®æ ‡æ˜¯20åº§å±±ï¼Œå®Œæˆäº†8åº§....</li>
</ul>
<p><strong>æ€»ç»“åŸå› ï¼š</strong></p>
<ul>
<li>å…¬å¸çš„äº‹æƒ…å¤ªå¤šï¼Œå„ç§æ‚äº‹å’ŒAIçš„æŠ€æœ¯å†²å‡»ï¼ŒèŠ±äº†æ¯”è¾ƒå¤šçš„æ—¶é—´å»ç ”ç©¶æ–°æŠ€æœ¯å’Œæºç ï¼Œç²¾åŠ›è¿‡äºåˆ†æ•£ï¼Œå¯¼è‡´å¾ˆå¤šäº‹æƒ…æ²¡æœ‰é•¿æœŸåšæŒ</li>
<li>æƒ³çš„æ—¶é—´å¤ªå¤šï¼Œåšçš„å¤ªå°‘ï¼Œé«˜ä¼°è‡ªå·±çš„èƒ½åŠ›ï¼Œæ¯”å¦‚è½¯è€ƒä»¥ä¸ºä¸éš¾ï¼ŒåŸºæœ¬ä¸Šçœ‹äº†å‡ å¤©ä¹¦å°±ä»¥ä¸ºèƒ½è¿‡ï¼Œé›…æ€å•è¯ä»¥ä¸ºæ¯å¤©è®°ä¸ª10ä¸ªå°±è¡Œ</li>
<li>2026å¹´éœ€è¦ç»¼åˆè°ƒæ•´ï¼Œä¸€æ–¹é¢æ˜¯è‡ªå·±çš„ç²¾åŠ›ä¸èƒ½å¤ªåˆ†æ•£ï¼Œå®šä¹‰è‡ªå·±çš„èŠ‚å¥ï¼Œå¦ä¸€æ–¹é¢åˆ†æ¸…ä¸»æ¬¡ï¼Œå°†éœ€è¦é•¿æœŸåšæŒçš„äº‹æƒ…åšæŒä¸‹æ¥</li>
</ul>
<p><strong>å·²ç»å®Œæˆçš„ç›®æ ‡ï¼š</strong></p>
<ul>
<li>
<p>2025å¹´ç»ˆäºè¯»åˆ°200æœ¬ä¹¦äº†ï¼ˆç´¯è®¡å€¼ï¼Œ2025å¹´è¯»å®Œ58æœ¬ï¼‰ï¼Œäº‰å–2026å¹´è¯»å®Œ60æœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3961b217bbc6407c95e57c0b5002648a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=5hFan7ayffK92VvN%2F8xzKd717e4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
</li>
<li>
<p>æŠ€æœ¯åšå®¢ç²‰ä¸çªç ´5000ï¼Œé˜…è¯»é‡ç´¯è®¡60W+ï¼ˆã€Šå‘¨æœ«ç¨‹åºçŒ¿ã€‹å…¬ä¼—å·ï¼ŒçŸ¥ä¹ï¼Œæ˜é‡‘ä¸‰ä¸ªå¹³å°ï¼‰ï¼Œ2026å¹´å†™äº†28ç¯‡æ–‡ç« ï¼Œå†™äº†å¤§æ¦‚15Wå­—ï¼Œé˜…è¯»è¶…è¿‡1000çš„å¤§æ¦‚5ç¯‡å·¦å³ï¼Œæ€»ä½“è¿˜ç®—ä¸é”™ï¼Œäº‰å–2026å¹´å†™æ»¡30ç¯‡ï¼Œé˜…è¯»é‡ç´¯è®¡åˆ°100W+ï¼›</p>
</li>
<li>
<p>githubçš„starçªç ´1.2Kï¼Œå¼€æºäº†å‡ ä¸ªæˆ‘è§‰å¾—æœ‰æ„æ€çš„AIé¡¹ç›®ï¼š</p>
</li>
<li>
<ul>
<li>AIæ€ç»´å¯¼å›¾ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsimple-mind-five.vercel.app" target="_blank" title="https://simple-mind-five.vercel.app" ref="nofollow noopener noreferrer">simple-mind-five.vercel.app</a></li>
<li>Excalidrawç”»å¸ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fexcalidraw-phi-woad.vercel.app" target="_blank" title="https://excalidraw-phi-woad.vercel.app" ref="nofollow noopener noreferrer">excalidraw-phi-woad.vercel.app</a></li>
<li>SimpleStoryï¼ˆè¿˜æœªå¼€æºï¼Œæ­£åœ¨å®Œå–„ï¼‰</li>
<li>2026å¹´é‡ç‚¹æŠ•å…¥AI infraä¸­ï¼ŒåŒ…æ‹¬å‡ ä¸ªå¼€æºé¡¹ç›®ï¼šSimpleBaseå’ŒAgentç›¸å…³ï¼Œäº‰å–ç»™ç¤¾åŒºä¸€äº›é¡¹ç›®è´¡çŒ®ä¸€äº›ä»£ç <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b71780ac7b14fe986cd6e059058f2e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=3OC1LhYagBRSrm3W9YbJaVOR%2BNw%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cbe74f2770347e6a1debd6d597a6d3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=26VRmZ22ABPSudsbKkJAb35oi2Q%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a642ec6a4f3b4dc988461bbdb2c9f003~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=yOQhwTk%2BLvUlAgynnTq2ApxzGrg%3D" alt="å›¾ç‰‡" loading="lazy"/></li>
</ul>
</li>
</ul>

<ul>
<li>å’Œä¸¤ä¸ªå°æœ‹å‹çš„äº’åŠ¨æ›´å¤šï¼Œæ‰¾åˆ°ä¸€äº›å’Œä»–ä»¬çš„å…±åŒè¯é¢˜å’Œæœ‰æ„æ€çš„æ¸¸æˆï¼š</li>
<li>
<ul>
<li>
<p>æ¯ä¸ªæœˆéƒ½ä¼šæŠ½æ—¶é—´é™ªå¤§å´½ç©å‡ æ¬¡å¤§å¯Œç¿çš„æ¸¸æˆ</p>
</li>
<li>
<p>å°å´½æœ‰ç‚¹è°ƒçš®ï¼Œæˆ‘éœ€è¦æ ‘ç«‹ä¸¥è‚ƒçš„è§’è‰²ï¼ˆè™½ç„¶æˆ‘ä¸å¤ªä¸¥è‚ƒï¼Œä½†æ˜¯æˆ‘éœ€è¦æ‹…ä»»ç»ƒä¹ ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc162fbfe69a44e794903842d7c33b0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=KsCpJZoit8n0rEAkSQMNDOKpg3M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
</li>
</ul>
</li>
<li>å¯¹äºå…¬å¸çš„äº‹æƒ…ï¼Œ2025å¹´åœ¨AIçš„äº‹æƒ…ä¸Šçš„èŠ‚å¥æœ‰ç‚¹ä¹±ï¼Œ2026å¹´éœ€è¦è°ƒæ•´è¿‡æ¥ï¼Œä¸»è¦ä¸“æ³¨å‡ ä¸ªæ–¹é¢ï¼š</li>
<li>
<ul>
<li>åº•å±‚æŠ€æœ¯ï¼šé‡ç‚¹è¦æŠŠæ·±åº¦å­¦ä¹ çš„æ•°å­¦çŸ¥è¯†ç‚¹éƒ½è¦å­¦ä¹ ä¸€éï¼Œè¿™æ ·æ›´èƒ½æ¸¸åˆƒçš„è§£å†³é—®é¢˜</li>
<li>AgentæŠ€æœ¯æ˜¯é‡ç‚¹è¦æ”»åšçš„æ–¹å‘ï¼Œä¸è¿‡Agentè¯´å®¹æ˜“å§ï¼Œçš„ç¡®ä¸éš¾ï¼Œä½†æ˜¯è¦æŠŠAgentç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œå¹¶ä¸”ç”¨äºç”Ÿäº§ç¯å¢ƒçš„ç¡®æ¯”ä¹‹å‰çš„åå°å¼€å‘éš¾å¾ˆå¤š</li>
<li>ç¿»è¯‘1-2æœ¬AIé¢†åŸŸçš„ä¹¦ç±ï¼Œä¸€æ–¹é¢æ˜¯æ·±å…¥é¢†åŸŸçŸ¥è¯†ï¼Œå¦ä¸€æ–¹é¢å¸Œæœ›æ›´ç†Ÿç»ƒä½¿ç”¨AIå·¥å…·æ¥è§£å†³é—®é¢˜</li>
<li>Rustå¿…é¡»è¦å­¦ï¼Œä¸ŠåŠå¹´å†™äº†ä¸€ç¯‡ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FjFFb_3RjaD9-q_e9otSZMA%25E3%2580%258B%25E6%2596%2587%25E7%25AB%25A0%25E5%2588%2586%25E6%259E%2590AI%25E6%2597%25B6%25E4%25BB%25A3%25E7%259A%2584%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%25E9%2580%2589%25E6%258B%25A9%25EF%25BC%258C%25E4%25BB%258E%25E4%25B8%258B%25E5%258D%258A%25E5%25B9%25B4%25E7%259A%2584%25E5%258F%2591%25E5%25B1%2595%25E8%25B6%258B%25E5%258A%25BF%25E6%259D%25A5%25E7%259C%258B%25EF%25BC%258C%25E5%25BD%2593%25E6%2597%25B6%25E7%259A%2584%25E9%25A2%2584%25E6%25B5%258B%25E8%25BF%2598%25E6%2598%25AF%25E6%25AF%2594%25E8%25BE%2583%25E5%2587%2586%25E7%259A%2584%25EF%25BC%258C%25E8%2580%258C%25E4%25B8%2594%25E9%259A%258F%25E7%259D%2580%25E5%25A4%25A7%25E6%25A8%25A1%25E5%259E%258B%25E6%259B%25B4%25E5%258A%25A0%25E6%2599%25BA%25E8%2583%25BD%25EF%25BC%258CRust%25E5%258F%25AF%25E8%2583%25BD%25E4%25BC%259A%25E6%2588%2590%25E4%25B8%25BA%25E5%2590%258E%25E7%25AB%25AF%25E5%25BC%2580%25E5%258F%2591%25E7%259A%2584%25E4%25B8%25BB%25E6%25B5%2581" target="_blank" title="https://mp.weixin.qq.com/s/jFFb_3RjaD9-q_e9otSZMA%E3%80%8B%E6%96%87%E7%AB%A0%E5%88%86%E6%9E%90AI%E6%97%B6%E4%BB%A3%E7%9A%84%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%89%E6%8B%A9%EF%BC%8C%E4%BB%8E%E4%B8%8B%E5%8D%8A%E5%B9%B4%E7%9A%84%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF%E6%9D%A5%E7%9C%8B%EF%BC%8C%E5%BD%93%E6%97%B6%E7%9A%84%E9%A2%84%E6%B5%8B%E8%BF%98%E6%98%AF%E6%AF%94%E8%BE%83%E5%87%86%E7%9A%84%EF%BC%8C%E8%80%8C%E4%B8%94%E9%9A%8F%E7%9D%80%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%9B%B4%E5%8A%A0%E6%99%BA%E8%83%BD%EF%BC%8CRust%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%88%90%E4%B8%BA%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%BB%E6%B5%81" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/jFFb_3Rjaâ€¦</a></li>
<li>äººæ‰åŸ¹å…»ä¸Šï¼Œé¢è¯•äº†æ¯”è¾ƒå¤šçš„äººï¼Œä¹Ÿæœ‰ä¸€äº›ç»éªŒå§ï¼Œè¿™é‡Œçš„å»ºè®®å°±æ˜¯ï¼šæ³¨é‡åŸºç¡€ï¼Œç»“åˆAIï¼Œå–„äºå­¦ä¹ </li>
</ul>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0a4c29099754f6f97023890519e0789~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5pyr56iL5bqP54y_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768734049&amp;x-signature=SOIfZ5DpVktE7XAjM8toOD4cj5s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">æ€è€ƒ</h2>
<p>æ¯å¹´é—²æš‡çš„æ—¶é—´æˆ‘éƒ½ä¼šæƒ³ä¸€äº›å¤©é©¬è¡Œç©ºçš„æƒ³æ³•ï¼Œä¸è¿‡2025å¹´æ¯”è¾ƒå¤šï¼Œæœ‰äº›æ˜¯ä¸€é—ªè€Œè¿‡ï¼Œæœ‰äº›æˆ‘ä»è¯»ä¹¦ä¸­æ€è€ƒè€Œæ¥ï¼Œå¦‚æœå¤§å®¶æœ‰ç›¸åŒçš„æƒ³æ³•å¯ä»¥äº¤æµã€‚</p>
<p><strong>å…³äºAIçš„æ€è€ƒ</strong>ï¼š</p>
<ul>
<li>ä¿¡æ¯ç†µï¼šä»ç‰©ç†/ä¿¡æ¯è®ºå±‚é¢ï¼Œæ‰¿è½½ä¿¡æ¯çš„é‡æ˜¯è§†é¢‘ &gt; å›¾ç‰‡ &gt; éŸ³é¢‘ &gt; æ–‡å­—ï¼Œé‚£ä¹ˆéšç€è¿™ä¸ªå¿«èŠ‚å¥çš„æ—¶ä»£ï¼Œäººä»¬å¯¹äºæ–‡å­—çš„ä¾èµ–å¯èƒ½å‡å¼±ï¼Œè§†é¢‘å¯èƒ½ä¼šæ˜¯åç»­å¾ˆå¤§è·å–ä¿¡æ¯çš„æ¸ é“çš„æ¥æºï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†â€œä»€ä¹ˆèƒ½äº§ç”Ÿæ›´å¤šçš„è§†é¢‘å†…å®¹â€ï¼Œé‚£è¿™é‡Œå°±æ˜¯AIè§†é¢‘ç”Ÿæˆï¼Œæˆ‘è§‰å¾—Â <code>2026-2027</code>Â å¯èƒ½æ˜¯AIè§†é¢‘ç”Ÿæˆçˆ†å‘çš„æ—¶æœŸï¼Œå¯èƒ½ä»ç°åœ¨ä¸å‡†ç¡®çš„10ç§’åˆ°åé¢çš„å‡†ç¡®å¹¶ä¸”å‡ åˆ†é’Ÿåˆ°10å‡ åˆ†é’Ÿçš„è§†é¢‘ã€‚</li>
<li>äº¤å‰å­¦ç§‘çš„é‡è¦æ€§ï¼šè¯»å®Œã€Šæ·±åº¦å­¦ä¹ é©å‘½ã€‹æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼Œè¿™äº›AIæ—¶ä»£çš„å¥ åŸºè€…å¾ˆå¤šéƒ½æ¥è‡ªäº¤å‰å­¦ç§‘ï¼Œæˆ–è€…å­¦äº†å¾ˆå¤šäº¤å‰å­¦ç§‘ï¼Œå¤šå…ƒåŒ–çš„çŸ¥è¯†ï¼Œä¸åªæ˜¯è®¡ç®—æœºè¡Œä¸šçš„å±€é™çš„æ€è€ƒæ–¹å¼ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—AIæ—¶ä»£éœ€è¦æ›´å¤šçš„äº¤å‰å­¦ç§‘äººæ‰ï¼Œä»–ä»¬æ€è€ƒæ›´å¹¿æ³›ï¼Œèƒ½æå‡ºæ›´å¤šç®—æ³•å’Œæƒ³æ³•ï¼Œç”šè‡³ä¸“ä¸šé¢†åŸŸçŸ¥è¯†ã€‚"æ€ä¹ˆæ¥è§¦æ›´å¤šå…ƒåŒ–çŸ¥è¯†å‘¢?" - è¯»æ›´å¤šçš„ä¹¦ï¼Œä¹Ÿè®¸è¿™äº›çŸ¥è¯†ä¸èƒ½é©¬ä¸Šç”Ÿæ•ˆï¼Œå¯èƒ½å‡ å¹´ï¼Œåå‡ å¹´ä½ ä¼šä»ä¸­å—ç›Šï¼Œè¿™é‡Œæˆ‘æ”¶å½•ä¸€äº›æˆ‘æ­£åœ¨è¯»çš„äº¤å‰å­¦ç§‘çš„çŸ¥è¯†ä¹¦å•ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fweread.qq.com%2Fmisc%2Fbooklist%2F10960783_81Mh9Xp9U" target="_blank" title="https://weread.qq.com/misc/booklist/10960783_81Mh9Xp9U" ref="nofollow noopener noreferrer">weread.qq.com/misc/bookliâ€¦</a></li>
<li>Infraåœ¨AIæ—¶ä»£æ›´åŠ é‡è¦ï¼Œæ— è®ºæ˜¯AI infraè¿˜æ˜¯ä»¥å‰çš„åç«¯åŸºå»ºï¼Œæ¯”å¦‚éšç€Â <code>Vibe Coding</code>çš„åˆ°æ¥ï¼Œ<code>Supabase</code>Â åœ¨2025å¹´çš„åå°å¼€å‘ä¸­å¢é•¿å‡ å€ï¼Œè¯´æ˜å¤§å®¶å¯¹ä»¥å‰ç®€ä¾¿çš„åŸºå»ºæ›´åŠ ä¾èµ–äº†ã€‚</li>
</ul>
<p><strong>å…³äºæœªæ¥çš„æ€è€ƒ</strong>ï¼š<br/>
åˆšè¿‡å®Œ35å²ï¼Œå……æ»¡ç„¦è™‘ï¼Œä¼¼ä¹å…¨ç¤¾ä¼šå¯¹äºä¸­å¹´äººéƒ½ä¸å¤ªå‹å¥½ï¼ŒAIæ—¶ä»£å¯èƒ½ä¼šåŠ å‰§è¿™ç§æƒ…å†µï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨è°ƒæ•´è‡ªå·±çš„å¿ƒæ€ï¼Œæœ€è¿‘çœ‹åˆ°çŸ­è§†é¢‘æœ‰å‡ å¥è¯è¿˜æ˜¯æŒºæœ‰æ„ä¹‰çš„ï¼šâ€œç‰©è´¨ä½é…ï¼Œè®¤çŸ¥é«˜é…ï¼Œå¿ƒæ€é¡¶é…â€ï¼Œæ—¢ç„¶æ”¹å˜ä¸äº†ä¸–ç•Œï¼Œé‚£å°±æ”¹å˜è‡ªå·±ï¼š</p>
<ul>
<li>é™ä½è‡ªå·±çš„ç‰©è´¨æ¬²æœ›ï¼Œä»Šå¹´ä»¥æ¥ä¹Ÿå¼€å§‹èŠ‚é£Ÿï¼›</li>
<li>æé«˜è‡ªå·±çš„è®¤çŸ¥èƒ½åŠ›ï¼Œå¯¹äººæˆ–è€…äº‹éƒ½æ£€æŸ¥ç¬¬ä¸€æ€§åŸåˆ™ï¼Œè®¤çœŸå¯¹å¾…æ¯ä¸€ä»¶äº‹æˆ–è€…äººï¼›</li>
<li>ä¿æŒæœ€å¥½çš„å¿ƒæ€ï¼Œç¤¾ä¼šå°±æ˜¯è¿™æ ·æ˜¯æ— æ³•æ”¹å˜çš„ï¼Œæœ‰å¯èƒ½é¢ä¸´è£å‘˜ï¼Œæœ‰å¯èƒ½è¢«é¢ä¸´æ‰“å‹ï¼Œæœ‰å¯èƒ½å…¶ä»–äººèŒåœºå‘å±•çš„å¾ˆå¥½ï¼Œæœ‰å¯èƒ½å…¶ä»–äººè¿™å‡ å¹´æŒ£äº†å¾ˆå¤šï¼Œä½†æ˜¯è‡ªå·±åº”è¯¥æœ‰è‡ªå·±çš„èŠ‚å¥ï¼Œä¿æŒèŠ‚å¥ï¼Œä¿æŒèº«ä½“å¥åº·ï¼ŒåšæŒé•¿æœŸä¸»ä¹‰ï¼›</li>
<li>æ¯ä¸ªäººéƒ½æœ‰é¡ºå¢ƒå’Œé€†å¢ƒï¼Œé¡ºå¢ƒåŠªåŠ›å¾€å‰å†²ï¼Œé€†å¢ƒè‹Ÿç€ï¼Œæå‡è®¤çŸ¥ï¼›</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue çš„ <template> æ ‡ç­¾ï¼šä¸ä»…ä»…æ˜¯åŒ…è£¹å®¹å™¨]]></title>    <link>https://juejin.cn/post/7593645549179043849</link>    <guid>https://juejin.cn/post/7593645549179043849</guid>    <pubDate>2026-01-11T09:06:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593645549179043849" data-draft-id="7593630465380024358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue çš„ &lt;template&gt; æ ‡ç­¾ï¼šä¸ä»…ä»…æ˜¯åŒ…è£¹å®¹å™¨"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T09:06:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue çš„ &lt;template&gt; æ ‡ç­¾ï¼šä¸ä»…ä»…æ˜¯åŒ…è£¹å®¹å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:06:58.000Z" title="Sun Jan 11 2026 09:06:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue çš„ <code>&lt;template&gt;</code> æ ‡ç­¾ï¼šä¸ä»…ä»…æ˜¯åŒ…è£¹å®¹å™¨</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šè¢«ä½ä¼°çš„ <code>&lt;template&gt;</code> æ ‡ç­¾</h3>
<p>å¾ˆå¤š Vue å¼€å‘è€…åªæŠŠ <code>&lt;template&gt;</code> å½“ä½œä¸€ä¸ª"å¿…éœ€çš„åŒ…è£¹æ ‡ç­¾"ï¼Œä½†å®é™…ä¸Šå®ƒ<strong>åŠŸèƒ½å¼ºå¤§ã€ç”¨é€”å¹¿æ³›</strong>ï¼Œæ˜¯ Vue æ¨¡æ¿ç³»ç»Ÿçš„æ ¸å¿ƒå…ƒç´ ä¹‹ä¸€ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢ç´¢ <code>&lt;template&gt;</code> æ ‡ç­¾çš„å„ç§å¦™ç”¨ï¼Œä»åŸºç¡€åˆ°é«˜çº§ï¼Œè®©ä½ å½»åº•æŒæ¡è¿™ä¸ª Vue å¼€å‘ä¸­çš„"ç‘å£«å†›åˆ€"ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€åŸºç¡€ç¯‡ï¼šä¸ºä»€ä¹ˆéœ€è¦ <code>&lt;template&gt;</code>ï¼Ÿ</h3>
<h4 data-id="heading-3">1.1 Vue çš„å•æ ¹å…ƒç´ é™åˆ¶</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âŒ é”™è¯¯ï¼šå¤šä¸ªæ ¹å…ƒç´  --&gt;
&lt;div&gt;æ ‡é¢˜&lt;/div&gt;
&lt;div&gt;å†…å®¹&lt;/div&gt;

&lt;!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨æ ¹å…ƒç´ åŒ…è£¹ --&gt;
&lt;div&gt;
  &lt;div&gt;æ ‡é¢˜&lt;/div&gt;
  &lt;div&gt;å†…å®¹&lt;/div&gt;
&lt;/div&gt;

&lt;!-- âœ… æ›´å¥½ï¼šä½¿ç”¨ &lt;template&gt; ä½œä¸ºæ ¹ï¼ˆVue 3ï¼‰--&gt;
&lt;template&gt;
  &lt;div&gt;æ ‡é¢˜&lt;/div&gt;
  &lt;div&gt;å†…å®¹&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>Vue 2 vs Vue 3</strong>ï¼š</p>
<ul>
<li><strong>Vue 2</strong>ï¼šæ¨¡æ¿å¿…é¡»æœ‰<strong>å•ä¸ªæ ¹å…ƒç´ </strong></li>
<li><strong>Vue 3</strong>ï¼šå¯ä»¥ä½¿ç”¨ <code>&lt;template&gt;</code> ä½œä¸º<strong>ç‰‡æ®µæ ¹</strong>ï¼Œæ”¯æŒå¤šæ ¹èŠ‚ç‚¹</li>
</ul>
<h4 data-id="heading-4">1.2 <code>&lt;template&gt;</code> çš„ç‰¹æ®Šæ€§</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- æ™®é€šå…ƒç´ ä¼šåœ¨ DOM ä¸­æ¸²æŸ“ --&gt;
&lt;div class="wrapper"&gt;
  &lt;span&gt;å†…å®¹&lt;/span&gt;
&lt;/div&gt;
&lt;!-- æ¸²æŸ“ç»“æœï¼š&lt;div class="wrapper"&gt;&lt;span&gt;å†…å®¹&lt;/span&gt;&lt;/div&gt; --&gt;

&lt;!-- &lt;template&gt; ä¸ä¼šåœ¨ DOM ä¸­æ¸²æŸ“ --&gt;
&lt;template&gt;
  &lt;span&gt;å†…å®¹&lt;/span&gt;
&lt;/template&gt;
&lt;!-- æ¸²æŸ“ç»“æœï¼š&lt;span&gt;å†…å®¹&lt;/span&gt; --&gt;
</code></pre>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š<code>&lt;template&gt;</code> æ˜¯<strong>è™šæ‹Ÿå…ƒç´ </strong>ï¼Œä¸ä¼šè¢«æ¸²æŸ“åˆ°çœŸå® DOM ä¸­ï¼Œåªèµ·åˆ°é€»è¾‘åŒ…è£¹çš„ä½œç”¨ã€‚</p>
<h3 data-id="heading-5">äºŒã€å®æˆ˜ç¯‡ï¼š<code>&lt;template&gt;</code> çš„äº”å¤§æ ¸å¿ƒç”¨é€”</h3>
<h4 data-id="heading-6">2.1 æ¡ä»¶æ¸²æŸ“ï¼ˆ<code>v-if</code>ã€<code>v-else-if</code>ã€<code>v-else</code>ï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="user-profile"&gt;
    &lt;!-- å¤šä¸ªå…ƒç´ çš„æ¡ä»¶æ¸²æŸ“ --&gt;
    &lt;template v-if="user.isLoading"&gt;
      &lt;LoadingSpinner /&gt;
      &lt;p&gt;åŠ è½½ä¸­...&lt;/p&gt;
    &lt;/template&gt;
    
    &lt;template v-else-if="user.error"&gt;
      &lt;ErrorIcon /&gt;
      &lt;p&gt;{{ user.error }}&lt;/p&gt;
      &lt;button @click="retry"&gt;é‡è¯•&lt;/button&gt;
    &lt;/template&gt;
    
    &lt;template v-else&gt;
      &lt;UserAvatar :src="user.avatar" /&gt;
      &lt;UserInfo :user="user" /&gt;
      &lt;UserActions :user="user" /&gt;
    &lt;/template&gt;
    
    &lt;!-- å•ä¸ªå…ƒç´ é€šå¸¸ä¸éœ€è¦ template --&gt;
    &lt;!-- ä½†è¿™æ ·å†™æ›´æ¸…æ™° --&gt;
    &lt;template v-if="showWelcome"&gt;
      &lt;WelcomeMessage /&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼šå¯ä»¥æ¡ä»¶æ¸²æŸ“<strong>ä¸€ç»„å…ƒç´ </strong>ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„åŒ…è£… DOM èŠ‚ç‚¹ã€‚</p>
<h4 data-id="heading-7">2.2 åˆ—è¡¨æ¸²æŸ“ï¼ˆ<code>v-for</code>ï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="shopping-cart"&gt;
    &lt;!-- æ¸²æŸ“å¤æ‚åˆ—è¡¨é¡¹ --&gt;
    &lt;template v-for="item in cartItems" :key="item.id"&gt;
      &lt;!-- åˆ—è¡¨é¡¹ --&gt;
      &lt;div class="cart-item"&gt;
        &lt;ProductImage :product="item" /&gt;
        &lt;ProductInfo :product="item" /&gt;
        &lt;QuantitySelector 
          :quantity="item.quantity"
          @update="updateQuantity(item.id, $event)"
        /&gt;
      &lt;/div&gt;
      
      &lt;!-- åˆ†éš”çº¿ï¼ˆé™¤äº†æœ€åä¸€ä¸ªï¼‰ --&gt;
      &lt;hr v-if="item !== cartItems[cartItems.length - 1]" /&gt;
      
      &lt;!-- ä¿ƒé”€æç¤º --&gt;
      &lt;div 
        v-if="item.hasPromotion" 
        class="promotion-tip"
      &gt;
        ğŸ‰ æ­¤å•†å“å‚ä¸æ´»åŠ¨
      &lt;/div&gt;
    &lt;/template&gt;
    
    &lt;!-- ç©ºçŠ¶æ€ --&gt;
    &lt;template v-if="cartItems.length === 0"&gt;
      &lt;EmptyCartIcon /&gt;
      &lt;p&gt;è´­ç‰©è½¦æ˜¯ç©ºçš„&lt;/p&gt;
      &lt;button @click="goShopping"&gt;å»é€›é€›&lt;/button&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼š<code>&lt;template v-for&gt;</code> éœ€è¦æ‰‹åŠ¨ç®¡ç† <code>key</code>ï¼Œä¸” <code>key</code> ä¸èƒ½æ”¾åœ¨ <code>&lt;template&gt;</code> ä¸Šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âŒ é”™è¯¯ --&gt;
&lt;template v-for="item in items" :key="item.id"&gt;
  &lt;div&gt;{{ item.name }}&lt;/div&gt;
&lt;/template&gt;

&lt;!-- âœ… æ­£ç¡® --&gt;
&lt;template v-for="item in items"&gt;
  &lt;div :key="item.id"&gt;{{ item.name }}&lt;/div&gt;
&lt;/template&gt;

&lt;!-- æˆ–è€…ä¸ºæ¯ä¸ªå­å…ƒç´ æŒ‡å®š key --&gt;
&lt;template v-for="item in items"&gt;
  &lt;ProductCard :key="item.id" :product="item" /&gt;
  &lt;PromotionBanner 
    v-if="item.hasPromotion" 
    :key="`promo-${item.id}`" 
  /&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-8">2.3 æ’æ§½ï¼ˆSlotsï¼‰ç³»ç»Ÿ</h4>
<h5 data-id="heading-9">åŸºç¡€æ’æ§½</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- BaseCard.vue --&gt;
&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;!-- å…·åæ’æ§½ --&gt;
    &lt;header class="card-header"&gt;
      &lt;slot name="header"&gt;
        &lt;!-- é»˜è®¤å†…å®¹ --&gt;
        &lt;h3&gt;é»˜è®¤æ ‡é¢˜&lt;/h3&gt;
      &lt;/slot&gt;
    &lt;/header&gt;
    
    &lt;!-- é»˜è®¤æ’æ§½ --&gt;
    &lt;div class="card-body"&gt;
      &lt;slot&gt;
        &lt;!-- é»˜è®¤å†…å®¹ --&gt;
        &lt;p&gt;è¯·æ·»åŠ å†…å®¹&lt;/p&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    
    &lt;!-- ä½œç”¨åŸŸæ’æ§½ --&gt;
    &lt;footer class="card-footer"&gt;
      &lt;slot name="footer" :data="footerData"&gt;
        &lt;!-- é»˜è®¤ä½¿ç”¨ä½œç”¨åŸŸæ•°æ® --&gt;
        &lt;button @click="handleDefault"&gt;
          {{ footerData.buttonText }}
        &lt;/button&gt;
      &lt;/slot&gt;
    &lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      footerData: {
        buttonText: 'é»˜è®¤æŒ‰é’®',
        timestamp: new Date()
      }
    }
  }
}
&lt;/script&gt;
</code></pre>
<h5 data-id="heading-10">ä½¿ç”¨æ’æ§½</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;BaseCard&gt;
    &lt;!-- ä½¿ç”¨ template æŒ‡å®šæ’æ§½ --&gt;
    &lt;template #header&gt;
      &lt;div class="custom-header"&gt;
        &lt;h2&gt;è‡ªå®šä¹‰æ ‡é¢˜&lt;/h2&gt;
        &lt;button @click="close"&gt;Ã—&lt;/button&gt;
      &lt;/div&gt;
    &lt;/template&gt;
    
    &lt;!-- é»˜è®¤æ’æ§½å†…å®¹ --&gt;
    &lt;p&gt;è¿™æ˜¯å¡ç‰‡çš„ä¸»è¦å†…å®¹...&lt;/p&gt;
    &lt;img src="image.jpg" alt="ç¤ºä¾‹"&gt;
    
    &lt;!-- ä½œç”¨åŸŸæ’æ§½ --&gt;
    &lt;template #footer="{ data }"&gt;
      &lt;div class="custom-footer"&gt;
        &lt;span&gt;æ›´æ–°æ—¶é—´: {{ formatTime(data.timestamp) }}&lt;/span&gt;
        &lt;button @click="customAction"&gt;
          {{ data.buttonText }}
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/BaseCard&gt;
&lt;/template&gt;
</code></pre>
<h5 data-id="heading-11">é«˜çº§æ’æ§½æ¨¡å¼</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- DataTable.vue --&gt;
&lt;template&gt;
  &lt;table class="data-table"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;!-- åŠ¨æ€åˆ—å¤´ --&gt;
        &lt;th v-for="column in columns" :key="column.key"&gt;
          &lt;slot :name="`header-${column.key}`" :column="column"&gt;
            {{ column.title }}
          &lt;/slot&gt;
        &lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;template v-for="(row, index) in data" :key="row.id"&gt;
        &lt;tr :class="{ 'selected': isSelected(row) }"&gt;
          &lt;!-- åŠ¨æ€å•å…ƒæ ¼ --&gt;
          &lt;td v-for="column in columns" :key="column.key"&gt;
            &lt;slot 
              :name="`cell-${column.key}`" 
              :row="row" 
              :value="row[column.key]"
              :index="index"
            &gt;
              {{ row[column.key] }}
            &lt;/slot&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        
        &lt;!-- å¯å±•å¼€çš„è¡Œè¯¦æƒ… --&gt;
        &lt;template v-if="isExpanded(row)"&gt;
          &lt;tr class="row-details"&gt;
            &lt;td :colspan="columns.length"&gt;
              &lt;slot 
                name="row-details" 
                :row="row" 
                :index="index"
              &gt;
                é»˜è®¤è¯¦æƒ…å†…å®¹
              &lt;/slot&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/template&gt;
      &lt;/template&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-12">2.4 åŠ¨æ€ç»„ä»¶ä¸ <code>&lt;component&gt;</code></h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="dashboard"&gt;
    &lt;!-- åŠ¨æ€ç»„ä»¶åˆ‡æ¢ --&gt;
    &lt;component :is="currentComponent"&gt;
      &lt;!-- å‘åŠ¨æ€ç»„ä»¶ä¼ é€’æ’æ§½ --&gt;
      &lt;template #header&gt;
        &lt;h2&gt;{{ componentTitle }}&lt;/h2&gt;
      &lt;/template&gt;
      
      &lt;!-- é»˜è®¤æ’æ§½å†…å®¹ --&gt;
      &lt;p&gt;è¿™æ˜¯æ‰€æœ‰ç»„ä»¶å…±äº«çš„å†…å®¹&lt;/p&gt;
    &lt;/component&gt;
    
    &lt;!-- å¤šä¸ªåŠ¨æ€ç»„ä»¶ --&gt;
    &lt;div class="widget-container"&gt;
      &lt;template v-for="widget in activeWidgets" :key="widget.id"&gt;
        &lt;component 
          :is="widget.component"
          :config="widget.config"
          class="widget"
        &gt;
          &lt;!-- ä¸ºæ¯ä¸ªç»„ä»¶ä¼ é€’ä¸åŒçš„æ’æ§½ --&gt;
          &lt;template v-if="widget.type === 'chart'" #toolbar&gt;
            &lt;ChartToolbar :chart-id="widget.id" /&gt;
          &lt;/template&gt;
        &lt;/component&gt;
      &lt;/template&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      currentComponent: 'UserProfile',
      activeWidgets: [
        { id: 1, component: 'StatsWidget', type: 'stats' },
        { id: 2, component: 'ChartWidget', type: 'chart' },
        { id: 3, component: 'TaskListWidget', type: 'list' }
      ]
    }
  },
  computed: {
    componentTitle() {
      const titles = {
        UserProfile: 'ç”¨æˆ·èµ„æ–™',
        Settings: 'è®¾ç½®',
        Analytics: 'åˆ†æ'
      }
      return titles[this.currentComponent] || 'æœªçŸ¥'
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-13">2.5 è¿‡æ¸¡ä¸åŠ¨ç”»ï¼ˆ<code>&lt;transition&gt;</code>ã€<code>&lt;transition-group&gt;</code>ï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="notification-center"&gt;
    &lt;!-- å•ä¸ªå…ƒç´ è¿‡æ¸¡ --&gt;
    &lt;transition name="fade" mode="out-in"&gt;
      &lt;template v-if="showWelcome"&gt;
        &lt;WelcomeMessage /&gt;
      &lt;/template&gt;
      &lt;template v-else&gt;
        &lt;DailyTip /&gt;
      &lt;/template&gt;
    &lt;/transition&gt;
    
    &lt;!-- åˆ—è¡¨è¿‡æ¸¡ --&gt;
    &lt;transition-group 
      name="list" 
      tag="div"
      class="notification-list"
    &gt;
      &lt;!-- æ¯ç»„é€šçŸ¥ä½¿ç”¨ template --&gt;
      &lt;template v-for="notification in notifications" :key="notification.id"&gt;
        &lt;!-- é€šçŸ¥é¡¹ --&gt;
        &lt;div class="notification-item"&gt;
          &lt;NotificationContent :notification="notification" /&gt;
          &lt;button 
            @click="dismiss(notification.id)"
            class="dismiss-btn"
          &gt;
            Ã—
          &lt;/button&gt;
        &lt;/div&gt;
        
        &lt;!-- åˆ†éš”çº¿ï¼ˆè¿‡æ¸¡æ•ˆæœæ›´å¥½ï¼‰ --&gt;
        &lt;hr v-if="shouldShowDivider(notification)" :key="`divider-${notification.id}`" /&gt;
      &lt;/template&gt;
    &lt;/transition-group&gt;
    
    &lt;!-- å¤æ‚çš„å¤šé˜¶æ®µè¿‡æ¸¡ --&gt;
    &lt;transition
      @before-enter="beforeEnter"
      @enter="enter"
      @leave="leave"
      :css="false"
    &gt;
      &lt;template v-if="showComplexAnimation"&gt;
        &lt;div class="complex-element"&gt;
          &lt;slot name="animated-content" /&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    beforeEnter(el) {
      el.style.opacity = 0
      el.style.transform = 'translateY(30px)'
    },
    enter(el, done) {
      // ä½¿ç”¨ GSAP æˆ– anime.js ç­‰åº“
      this.$gsap.to(el, {
        opacity: 1,
        y: 0,
        duration: 0.5,
        onComplete: done
      })
    },
    leave(el, done) {
      this.$gsap.to(el, {
        opacity: 0,
        y: -30,
        duration: 0.3,
        onComplete: done
      })
    }
  }
}
&lt;/script&gt;

&lt;style&gt;
/* CSS è¿‡æ¸¡ç±» */
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s;
}
.fade-enter, .fade-leave-to {
  opacity: 0;
}

.list-enter-active, .list-leave-active {
  transition: all 0.5s;
}
.list-enter, .list-leave-to {
  opacity: 0;
  transform: translateX(30px);
}
.list-move {
  transition: transform 0.5s;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-14">ä¸‰ã€é«˜çº§ç¯‡ï¼š<code>&lt;template&gt;</code> çš„è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-15">3.1 æŒ‡ä»¤ç»„åˆä½¿ç”¨</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="product-list"&gt;
    &lt;!-- v-for å’Œ v-if çš„ç»„åˆï¼ˆæ­£ç¡®æ–¹å¼ï¼‰ --&gt;
    &lt;template v-for="product in products"&gt;
      &lt;!-- ä½¿ç”¨ template åŒ…è£¹æ¡ä»¶åˆ¤æ–­ --&gt;
      &lt;template v-if="shouldShowProduct(product)"&gt;
        &lt;ProductCard 
          :key="product.id" 
          :product="product"
          @add-to-cart="addToCart"
        /&gt;
        
        &lt;!-- ç›¸å…³æ¨è --&gt;
        &lt;template v-if="showRecommendations"&gt;
          &lt;RelatedProducts 
            :product-id="product.id"
            :key="`related-${product.id}`"
          /&gt;
        &lt;/template&gt;
      &lt;/template&gt;
      
      &lt;!-- å ä½ç¬¦ï¼ˆéª¨æ¶å±ï¼‰ --&gt;
      &lt;template v-else-if="isLoading"&gt;
        &lt;ProductSkeleton :key="`skeleton-${product.id}`" /&gt;
      &lt;/template&gt;
    &lt;/template&gt;
    
    &lt;!-- å¤šé‡æŒ‡ä»¤ç»„åˆ --&gt;
    &lt;template v-if="user.isPremium"&gt;
      &lt;template v-for="feature in premiumFeatures"&gt;
        &lt;PremiumFeature 
          v-show="feature.isEnabled"
          :key="feature.id"
          :feature="feature"
          v-tooltip="feature.description"
        /&gt;
      &lt;/template&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-16">3.2 æ¸²æŸ“å‡½æ•°ä¸ JSX å¯¹æ¯”</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- æ¨¡æ¿è¯­æ³• --&gt;
&lt;template&gt;
  &lt;div class="container"&gt;
    &lt;template v-if="hasHeader"&gt;
      &lt;header class="header"&gt;
        &lt;slot name="header" /&gt;
      &lt;/header&gt;
    &lt;/template&gt;
    
    &lt;main class="main"&gt;
      &lt;slot /&gt;
    &lt;/main&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- ç­‰ä»·çš„æ¸²æŸ“å‡½æ•° --&gt;
&lt;script&gt;
export default {
  render(h) {
    const children = []
    
    if (this.hasHeader) {
      children.push(
        h('header', { class: 'header' }, [
          this.$slots.header
        ])
      )
    }
    
    children.push(
      h('main', { class: 'main' }, [
        this.$slots.default
      ])
    )
    
    return h('div', { class: 'container' }, children)
  }
}
&lt;/script&gt;

&lt;!-- ç­‰ä»·çš„ JSX --&gt;
&lt;script&gt;
export default {
  render() {
    return (
      &lt;div class="container"&gt;
        {this.hasHeader &amp;&amp; (
          &lt;header class="header"&gt;
            {this.$slots.header}
          &lt;/header&gt;
        )}
        &lt;main class="main"&gt;
          {this.$slots.default}
        &lt;/main&gt;
      &lt;/div&gt;
    )
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-17">3.3 æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„åŒ…è£…</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ä¼˜åŒ–å‰ï¼šå¤šä½™çš„ div åŒ…è£… --&gt;
&lt;div class="card"&gt;
  &lt;div v-if="showImage"&gt;
    &lt;img :src="imageUrl" alt="å›¾ç‰‡"&gt;
  &lt;/div&gt;
  &lt;div v-if="showTitle"&gt;
    &lt;h3&gt;{{ title }}&lt;/h3&gt;
  &lt;/div&gt;
  &lt;div v-if="showContent"&gt;
    &lt;p&gt;{{ content }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- ä¼˜åŒ–åï¼šä½¿ç”¨ template é¿å…é¢å¤– DOM --&gt;
&lt;div class="card"&gt;
  &lt;template v-if="showImage"&gt;
    &lt;img :src="imageUrl" alt="å›¾ç‰‡"&gt;
  &lt;/template&gt;
  &lt;template v-if="showTitle"&gt;
    &lt;h3&gt;{{ title }}&lt;/h3&gt;
  &lt;/template&gt;
  &lt;template v-if="showContent"&gt;
    &lt;p&gt;{{ content }}&lt;/p&gt;
  &lt;/template&gt;
&lt;/div&gt;

&lt;!-- æ¸²æŸ“ç»“æœå¯¹æ¯” --&gt;
&lt;!-- ä¼˜åŒ–å‰ï¼š&lt;div&gt;&lt;div&gt;&lt;img&gt;&lt;/div&gt;&lt;div&gt;&lt;h3&gt;&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt; --&gt;
&lt;!-- ä¼˜åŒ–åï¼š&lt;div&gt;&lt;img&gt;&lt;h3&gt;&lt;/h3&gt;&lt;/div&gt; --&gt;
</code></pre>
<h4 data-id="heading-18">3.4 ä¸ CSS æ¡†æ¶çš„é›†æˆ</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- Bootstrap ç½‘æ ¼ç³»ç»Ÿ --&gt;
  &lt;div class="container"&gt;
    &lt;div class="row"&gt;
      &lt;template v-for="col in gridColumns" :key="col.id"&gt;
        &lt;!-- åŠ¨æ€åˆ—å®½ --&gt;
        &lt;div :class="['col', `col-md-${col.span}`]"&gt;
          &lt;component :is="col.component" :config="col.config"&gt;
            &lt;!-- ä¼ é€’å…·åæ’æ§½ --&gt;
            &lt;template v-if="col.slots" v-for="(slotContent, slotName) in col.slots"&gt;
              &lt;template :slot="slotName"&gt;
                {{ slotContent }}
              &lt;/template&gt;
            &lt;/template&gt;
          &lt;/component&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;!-- Tailwind CSS æ ·å¼ --&gt;
  &lt;div class="space-y-4"&gt;
    &lt;template v-for="item in listItems" :key="item.id"&gt;
      &lt;div 
        :class="[
          'p-4 rounded-lg',
          item.isActive ? 'bg-blue-100' : 'bg-gray-100'
        ]"
      &gt;
        &lt;h3 class="text-lg font-semibold"&gt;{{ item.title }}&lt;/h3&gt;
        &lt;p class="text-gray-600"&gt;{{ item.description }}&lt;/p&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-19">å››ã€Vue 3 æ–°ç‰¹æ€§ï¼š<code>&lt;template&gt;</code> çš„å¢å¼º</h3>
<h4 data-id="heading-20">4.1 å¤šæ ¹èŠ‚ç‚¹æ”¯æŒï¼ˆFragmentsï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Vue 2ï¼šéœ€è¦åŒ…è£…å…ƒç´  --&gt;
&lt;template&gt;
  &lt;div&gt; &lt;!-- å¤šä½™çš„ div --&gt;
    &lt;header&gt;æ ‡é¢˜&lt;/header&gt;
    &lt;main&gt;å†…å®¹&lt;/main&gt;
    &lt;footer&gt;é¡µè„š&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- Vue 3ï¼šå¯ä»¥ä½¿ç”¨å¤šæ ¹èŠ‚ç‚¹ --&gt;
&lt;template&gt;
  &lt;header&gt;æ ‡é¢˜&lt;/header&gt;
  &lt;main&gt;å†…å®¹&lt;/main&gt;
  &lt;footer&gt;é¡µè„š&lt;/footer&gt;
&lt;/template&gt;

&lt;!-- æˆ–è€…ä½¿ç”¨ template ä½œä¸ºé€»è¾‘åˆ†ç»„ --&gt;
&lt;template&gt;
  &lt;template v-if="layout === 'simple'"&gt;
    &lt;header&gt;ç®€æ´æ ‡é¢˜&lt;/header&gt;
    &lt;main&gt;ä¸»è¦å†…å®¹&lt;/main&gt;
  &lt;/template&gt;
  
  &lt;template v-else&gt;
    &lt;header&gt;å®Œæ•´æ ‡é¢˜&lt;/header&gt;
    &lt;nav&gt;å¯¼èˆªèœå•&lt;/nav&gt;
    &lt;main&gt;è¯¦ç»†å†…å®¹&lt;/main&gt;
    &lt;aside&gt;ä¾§è¾¹æ &lt;/aside&gt;
    &lt;footer&gt;é¡µè„šä¿¡æ¯&lt;/footer&gt;
  &lt;/template&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-21">4.2 <code>&lt;script setup&gt;</code> è¯­æ³•ç³–</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç»„åˆå¼ API çš„ç®€æ´å†™æ³• --&gt;
&lt;script setup&gt;
import { ref, computed } from 'vue'
import MyComponent from './MyComponent.vue'

const count = ref(0)
const doubleCount = computed(() =&gt; count.value * 2)
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¼å…¥çš„ç»„ä»¶ --&gt;
  &lt;MyComponent :count="count" /&gt;
  
  &lt;!-- æ¡ä»¶æ¸²æŸ“ --&gt;
  &lt;template v-if="count &gt; 0"&gt;
    &lt;p&gt;è®¡æ•°å¤§äº 0: {{ count }}&lt;/p&gt;
  &lt;/template&gt;
  
  &lt;!-- å…·åæ’æ§½ç®€å†™ --&gt;
  &lt;slot name="header" /&gt;
  
  &lt;!-- ä½œç”¨åŸŸæ’æ§½ --&gt;
  &lt;slot name="footer" :data="{ count, doubleCount }" /&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-22">4.3 <code>v-memo</code> æŒ‡ä»¤ä¼˜åŒ–</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- å¤æ‚çš„æ¸²æŸ“ä¼˜åŒ– --&gt;
  &lt;div class="data-grid"&gt;
    &lt;template v-for="row in largeDataset" :key="row.id"&gt;
      &lt;!-- ä½¿ç”¨ v-memo é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ --&gt;
      &lt;div 
        v-memo="[row.id, row.version, selectedRowId === row.id]"
        :class="['row', { 'selected': selectedRowId === row.id }]"
      &gt;
        &lt;template v-for="cell in row.cells" :key="cell.key"&gt;
          &lt;!-- å•å…ƒæ ¼å†…å®¹ --&gt;
          &lt;div class="cell"&gt;
            &lt;slot 
              name="cell" 
              :row="row" 
              :cell="cell"
              :value="cell.value"
            /&gt;
          &lt;/div&gt;
        &lt;/template&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-23">äº”ã€æœ€ä½³å®è·µä¸æ€§èƒ½è€ƒé‡</h3>
<h4 data-id="heading-24">5.1 ä½•æ—¶ä½¿ç”¨ <code>&lt;template&gt;</code></h4>








































<table><thead><tr><th>åœºæ™¯</th><th>ä½¿ç”¨ <code>&lt;template&gt;</code></th><th>ä¸ä½¿ç”¨</th></tr></thead><tbody><tr><td>æ¡ä»¶æ¸²æŸ“å¤šä¸ªå…ƒç´ </td><td>âœ…</td><td>âŒ</td></tr><tr><td>åˆ—è¡¨æ¸²æŸ“å¤æ‚é¡¹</td><td>âœ…</td><td>âŒ</td></tr><tr><td>æ’æ§½å®šä¹‰ä¸ä½¿ç”¨</td><td>âœ…</td><td>âŒ</td></tr><tr><td>å•ä¸ªå…ƒç´ æ¡ä»¶æ¸²æŸ“</td><td>å¯é€‰</td><td>âœ…</td></tr><tr><td>ç®€å•çš„åˆ—è¡¨é¡¹</td><td>å¯é€‰</td><td>âœ…</td></tr><tr><td>éœ€è¦æ ·å¼/äº‹ä»¶çš„å®¹å™¨</td><td>âŒ</td><td>âœ…ï¼ˆç”¨ divï¼‰</td></tr></tbody></table>
<h4 data-id="heading-25">5.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- é¿å…æ·±åº¦åµŒå¥— --&gt;
&lt;!-- âŒ ä¸æ¨èï¼šå¤šå±‚åµŒå¥— --&gt;
&lt;template v-if="condition1"&gt;
  &lt;template v-if="condition2"&gt;
    &lt;template v-for="item in list"&gt;
      &lt;div&gt;{{ item }}&lt;/div&gt;
    &lt;/template&gt;
  &lt;/template&gt;
&lt;/template&gt;

&lt;!-- âœ… æ¨èï¼šç®€åŒ–é€»è¾‘ --&gt;
&lt;template v-if="condition1 &amp;&amp; condition2"&gt;
  &lt;div v-for="item in list" :key="item.id"&gt;
    {{ item }}
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- ç¼“å­˜å¤æ‚è®¡ç®— --&gt;
&lt;template&gt;
  &lt;!-- ä½¿ç”¨è®¡ç®—å±æ€§ç¼“å­˜ --&gt;
  &lt;template v-if="shouldShowSection"&gt;
    &lt;ExpensiveComponent /&gt;
  &lt;/template&gt;
  
  &lt;!-- ä½¿ç”¨ v-once é™æ€å†…å®¹ --&gt;
  &lt;template v-once&gt;
    &lt;StaticContent /&gt;
  &lt;/template&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  computed: {
    shouldShowSection() {
      // å¤æ‚è®¡ç®—ï¼Œç»“æœä¼šè¢«ç¼“å­˜
      return this.complexCondition1 &amp;&amp; 
             this.complexCondition2 &amp;&amp;
             !this.isLoading
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-26">5.3 å¯ç»´æŠ¤æ€§å»ºè®®</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç»„ä»¶åŒ–å¤æ‚æ¨¡æ¿ --&gt;
&lt;template&gt;
  &lt;!-- ä¸»æ¨¡æ¿ä¿æŒç®€æ´ --&gt;
  &lt;div class="page"&gt;
    &lt;PageHeader /&gt;
    
    &lt;template v-if="isLoggedIn"&gt;
      &lt;UserDashboard /&gt;
    &lt;/template&gt;
    &lt;template v-else&gt;
      &lt;GuestWelcome /&gt;
    &lt;/template&gt;
    
    &lt;PageFooter /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- å¤æ‚çš„éƒ¨åˆ†æå–ä¸ºç‹¬ç«‹ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;div class="complex-section"&gt;
    &lt;!-- ä½¿ç”¨ç»„ä»¶æ›¿ä»£å¤æ‚çš„æ¨¡æ¿é€»è¾‘ --&gt;
    &lt;DataTable 
      :columns="tableColumns"
      :data="tableData"
    &gt;
      &lt;template #header-name="{ column }"&gt;
        &lt;div class="custom-header"&gt;
          {{ column.title }}
          &lt;HelpTooltip :content="column.description" /&gt;
        &lt;/div&gt;
      &lt;/template&gt;
      
      &lt;template #cell-status="{ value }"&gt;
        &lt;StatusBadge :status="value" /&gt;
      &lt;/template&gt;
    &lt;/DataTable&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-27">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-28">é—®é¢˜1ï¼š<code>&lt;template&gt;</code> ä¸Šçš„ <code>key</code> å±æ€§</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- é”™è¯¯ï¼škey æ”¾åœ¨ template ä¸Šæ— æ•ˆ --&gt;
&lt;template v-for="item in items" :key="item.id"&gt;
  &lt;div&gt;{{ item.name }}&lt;/div&gt;
&lt;/template&gt;

&lt;!-- æ­£ç¡®ï¼škey æ”¾åœ¨å®é™…å…ƒç´ ä¸Š --&gt;
&lt;template v-for="item in items"&gt;
  &lt;div :key="item.id"&gt;{{ item.name }}&lt;/div&gt;
&lt;/template&gt;

&lt;!-- å¤šä¸ªå…ƒç´ éœ€è¦å„è‡ªçš„ key --&gt;
&lt;template v-for="item in items"&gt;
  &lt;ProductCard :key="`card-${item.id}`" :product="item" /&gt;
  &lt;ProductActions 
    v-if="showActions" 
    :key="`actions-${item.id}`" 
    :product="item" 
  /&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-29">é—®é¢˜2ï¼šä½œç”¨åŸŸæ’æ§½çš„ <code>v-slot</code> ç®€å†™</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å®Œæ•´å†™æ³• --&gt;
&lt;template v-slot:header&gt;
  &lt;div&gt;æ ‡é¢˜&lt;/div&gt;
&lt;/template&gt;

&lt;!-- ç®€å†™ --&gt;
&lt;template #header&gt;
  &lt;div&gt;æ ‡é¢˜&lt;/div&gt;
&lt;/template&gt;

&lt;!-- åŠ¨æ€æ’æ§½å --&gt;
&lt;template #[dynamicSlotName]&gt;
  &lt;div&gt;åŠ¨æ€å†…å®¹&lt;/div&gt;
&lt;/template&gt;

&lt;!-- ä½œç”¨åŸŸæ’æ§½ --&gt;
&lt;template #item="{ data, index }"&gt;
  &lt;div&gt;ç´¢å¼• {{ index }}: {{ data }}&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-30">é—®é¢˜3ï¼š<code>&lt;template&gt;</code> ä¸ CSS ä½œç”¨åŸŸ</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- CSS ä½œç”¨åŸŸå¯¹ template æ— æ•ˆ --&gt;
&lt;template&gt;
  &lt;!-- è¿™é‡Œçš„ class ä¸å— scoped CSS å½±å“ --&gt;
  &lt;div class="content"&gt;
    &lt;p&gt;å†…å®¹&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* åªä¼šä½œç”¨äºå®é™…æ¸²æŸ“çš„å…ƒç´  */
.content p {
  color: red;
}
&lt;/style&gt;

&lt;!-- å¦‚æœéœ€è¦ä½œç”¨åŸŸæ ·å¼ï¼Œä½¿ç”¨å®é™…å…ƒç´  --&gt;
&lt;div class="wrapper"&gt;
  &lt;template v-if="condition"&gt;
    &lt;p class="scoped-text"&gt;å—ä½œç”¨åŸŸå½±å“çš„æ–‡æœ¬&lt;/p&gt;
  &lt;/template&gt;
&lt;/div&gt;

&lt;style scoped&gt;
.scoped-text {
  /* ç°åœ¨æœ‰ä½œç”¨åŸŸäº† */
  color: blue;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-31">ä¸ƒã€æ€»ç»“ï¼š<code>&lt;template&gt;</code> çš„æ ¸å¿ƒä»·å€¼</h3>
<h4 data-id="heading-32"><code>&lt;template&gt;</code> çš„å…­å¤§ç”¨é€”</h4>
<ol>
<li><strong>æ¡ä»¶æ¸²æŸ“å¤šä¸ªå…ƒç´ </strong>ï¼šé¿å…å¤šä½™çš„åŒ…è£… DOM</li>
<li><strong>åˆ—è¡¨æ¸²æŸ“å¤æ‚ç»“æ„</strong>ï¼šåŒ…å«é¢å¤–å…ƒç´ å’Œé€»è¾‘</li>
<li><strong>æ’æ§½ç³»ç»Ÿçš„åŸºç¡€</strong>ï¼šå®šä¹‰å’Œä½¿ç”¨æ’æ§½å†…å®¹</li>
<li><strong>åŠ¨æ€ç»„ä»¶å®¹å™¨</strong>ï¼šåŒ…è£¹åŠ¨æ€ç»„ä»¶å’Œæ’æ§½</li>
<li><strong>è¿‡æ¸¡åŠ¨ç”»åŒ…è£…</strong>ï¼šå®ç°å¤æ‚çš„åŠ¨ç”»æ•ˆæœ</li>
<li><strong>æ¨¡æ¿é€»è¾‘åˆ†ç»„</strong>ï¼šæé«˜ä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§</li>
</ol>
<h4 data-id="heading-33">ç‰ˆæœ¬ç‰¹æ€§æ€»ç»“</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Vue 2</th><th>Vue 3</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¤šæ ¹èŠ‚ç‚¹</td><td>âŒ</td><td>âœ…</td><td>Fragment æ”¯æŒ</td></tr><tr><td><code>&lt;script setup&gt;</code></td><td>âŒ</td><td>âœ…</td><td>è¯­æ³•ç³–ç®€åŒ–</td></tr><tr><td><code>v-memo</code></td><td>âŒ</td><td>âœ…</td><td>æ€§èƒ½ä¼˜åŒ–</td></tr><tr><td>ç¼–è¯‘ä¼˜åŒ–</td><td>åŸºç¡€</td><td>å¢å¼º</td><td>æ›´å¥½çš„é™æ€æå‡</td></tr></tbody></table>
<h4 data-id="heading-34">æœ€ä½³å®è·µæ¸…å•</h4>
<ol>
<li><strong>åˆç†ä½¿ç”¨</strong>ï¼šåªåœ¨éœ€è¦æ—¶ä½¿ç”¨ï¼Œé¿å…è¿‡åº¦åµŒå¥—</li>
<li><strong>ä¿æŒç®€æ´</strong>ï¼šå¤æ‚é€»è¾‘è€ƒè™‘æå–ä¸ºç»„ä»¶</li>
<li><strong>æ³¨æ„æ€§èƒ½</strong>ï¼šé¿å…åœ¨å¤§é‡å¾ªç¯ä¸­ä½¿ç”¨å¤æ‚æ¨¡æ¿</li>
<li><strong>ç»Ÿä¸€é£æ ¼</strong>ï¼šå›¢é˜Ÿä¿æŒä¸€è‡´çš„æ¨¡æ¿ç¼–å†™è§„èŒƒ</li>
<li><strong>åˆ©ç”¨æ–°ç‰¹æ€§</strong>ï¼šVue 3 ä¸­å–„ç”¨ Fragments ç­‰æ–°åŠŸèƒ½</li>
</ol>
<p>è®°ä½ï¼š<strong><code>&lt;template&gt;</code> æ˜¯ Vue æ¨¡æ¿ç³»ç»Ÿçš„éª¨æ¶</strong>ï¼Œå®ƒè®©æ¨¡æ¿æ›´åŠ çµæ´»ã€æ¸…æ™°å’Œé«˜æ•ˆã€‚æŒæ¡å¥½ <code>&lt;template&gt;</code> çš„ä½¿ç”¨ï¼Œèƒ½è®©ä½ çš„ Vue ä»£ç è´¨é‡æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„ Vue é¡¹ç›®ä¸­ï¼Œ<code>&lt;template&gt;</code> æ ‡ç­¾æœ€è®©ä½ æƒŠå–œçš„ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…æœ‰æ²¡æœ‰é‡åˆ°è¿‡ <code>&lt;template&gt;</code> ç›¸å…³çš„å‘ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ä¸­çš„ MVVMã€MVC å’Œ MVPï¼šç°ä»£å‰ç«¯æ¶æ„æ¨¡å¼æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7593645549179060233</link>    <guid>https://juejin.cn/post/7593645549179060233</guid>    <pubDate>2026-01-11T09:11:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593645549179060233" data-draft-id="7593630465380040742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue ä¸­çš„ MVVMã€MVC å’Œ MVPï¼šç°ä»£å‰ç«¯æ¶æ„æ¨¡å¼æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T09:11:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue ä¸­çš„ MVVMã€MVC å’Œ MVPï¼šç°ä»£å‰ç«¯æ¶æ„æ¨¡å¼æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:11:33.000Z" title="Sun Jan 11 2026 09:11:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue ä¸­çš„ MVVMã€MVC å’Œ MVPï¼šç°ä»£å‰ç«¯æ¶æ„æ¨¡å¼æ·±åº¦è§£æ</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šæ¶æ„æ¨¡å¼çš„æ¼”å˜ä¹‹æ—…</h3>
<p>åœ¨ Vue å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å¬åˆ° MVVMã€MVC è¿™äº›æœ¯è¯­ï¼Œä½†å®ƒä»¬åˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ Vue é€‰æ‹©äº† MVVMï¼Ÿè¿™äº›æ¨¡å¼å¦‚ä½•å½±å“æˆ‘ä»¬çš„ä»£ç ç»“æ„ï¼Ÿä»Šå¤©ï¼Œè®©æˆ‘ä»¬æŠ›å¼€æ•™ç§‘ä¹¦å¼çš„å®šä¹‰ï¼Œä»å®é™… Vue å¼€å‘çš„è§’åº¦ï¼Œæ·±å…¥æ¢è®¨è¿™äº›æ¶æ„æ¨¡å¼çš„æœ¬è´¨åŒºåˆ«ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€MVCï¼šç»å…¸çš„ç‹è€…ï¼ˆä½†å·²ä¸å†é€‚åˆå‰ç«¯ï¼‰</h3>
<h4 data-id="heading-3">1.1 MVC çš„æ ¸å¿ƒä¸‰è¦ç´ </h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªä¼ ç»Ÿçš„ MVC ç»“æ„ï¼ˆä¸æ˜¯ Vueï¼Œä½†å¯ä»¥å¸®åŠ©ç†è§£ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentUser</span> = <span class="hljs-literal">null</span>
  }
  
  <span class="hljs-title function_">addUser</span>(<span class="hljs-params">user</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">push</span>(user)
  }
  
  <span class="hljs-title function_">setCurrentUser</span>(<span class="hljs-params">user</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentUser</span> = user
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserView</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">controller</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> = controller
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'user-list'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userForm</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'user-form'</span>)
    
    <span class="hljs-comment">// æ‰‹åŠ¨ç»‘å®šäº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userForm</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      e.<span class="hljs-title function_">preventDefault</span>()
      <span class="hljs-keyword">const</span> name = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'name'</span>).<span class="hljs-property">value</span>
      <span class="hljs-keyword">const</span> email = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'email'</span>).<span class="hljs-property">value</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addUser</span>({ name, email })
    })
  }
  
  <span class="hljs-title function_">renderUsers</span>(<span class="hljs-params">users</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span>.<span class="hljs-property">innerHTML</span> = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> 
      <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">${user.name}</span> (<span class="hljs-subst">${user.email}</span>)&lt;/li&gt;`</span>
    ).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>)
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">model</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserView</span>(<span class="hljs-variable language_">this</span>)
  }
  
  <span class="hljs-title function_">addUser</span>(<span class="hljs-params">userData</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">addUser</span>(userData)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span>.<span class="hljs-title function_">renderUsers</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">users</span>)
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserController</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserModel</span>())
</code></pre>
<h4 data-id="heading-4">1.2 MVC åœ¨ Vue ä¸­çš„"é—è¿¹"</h4>
<p>è™½ç„¶ Vue ä¸æ˜¯ MVCï¼Œä½†æˆ‘ä»¬èƒ½çœ‹åˆ° MVC çš„å½±å­ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- è¿™ç§å†™æ³•æœ‰ MVC çš„å½±å­ --&gt;
&lt;template&gt;
  &lt;!-- Viewï¼šè´Ÿè´£å±•ç¤º --&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ title }}&lt;/h1&gt;
    &lt;ul&gt;
      &lt;li v-for="user in users" :key="user.id"&gt;
        {{ user.name }}
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;button @click="loadUsers"&gt;åŠ è½½ç”¨æˆ·&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      // Modelï¼šæ•°æ®çŠ¶æ€
      title: 'ç”¨æˆ·åˆ—è¡¨',
      users: []
    }
  },
  methods: {
    // Controllerï¼šä¸šåŠ¡é€»è¾‘
    async loadUsers() {
      try {
        const response = await fetch('/api/users')
        this.users = await response.json()
      } catch (error) {
        console.error('åŠ è½½å¤±è´¥', error)
      }
    }
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>MVC çš„å…³é”®é—®é¢˜åœ¨å‰ç«¯</strong>ï¼š</p>
<ul>
<li><strong>è§†å›¾å’Œæ§åˆ¶å™¨ç´§å¯†è€¦åˆ</strong>ï¼šDOM æ“ä½œå’Œä¸šåŠ¡é€»è¾‘æ··æ‚</li>
<li><strong>åŒå‘ä¾èµ–</strong>ï¼šè§†å›¾ä¾èµ–æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä¹Ÿä¾èµ–è§†å›¾</li>
<li><strong>çŠ¶æ€ç®¡ç†å›°éš¾</strong>ï¼šéšç€åº”ç”¨å¤æ‚ï¼ŒçŠ¶æ€æ•£è½åœ¨å„å¤„</li>
</ul>
<h3 data-id="heading-5">äºŒã€MVPï¼šè¯•å›¾æ”¹è¿›çš„ä¸­é—´è€…</h3>
<h4 data-id="heading-6">2.1 MVP çš„æ ¸å¿ƒæ”¹è¿›</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸€ä¸ª MVP æ¨¡å¼çš„ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span> = []
  }
  
  <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/users'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>())
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserView</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'user-list'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadButton</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'load-btn'</span>)
  }
  
  <span class="hljs-title function_">bindLoadUsers</span>(<span class="hljs-params">handler</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadButton</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handler)
  }
  
  <span class="hljs-title function_">displayUsers</span>(<span class="hljs-params">users</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span>.<span class="hljs-property">innerHTML</span> = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> 
      <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">${user.name}</span>&lt;/li&gt;`</span>
    ).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>)
  }
  
  <span class="hljs-title function_">showLoading</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;li&gt;åŠ è½½ä¸­...&lt;/li&gt;'</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserPresenter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">view, model</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span> = view
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model
    
    <span class="hljs-comment">// Presenter åˆå§‹åŒ–æ—¶ç»‘å®šäº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span>.<span class="hljs-title function_">bindLoadUsers</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onLoadUsers</span>())
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onLoadUsers</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span>.<span class="hljs-title function_">showLoading</span>()
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">fetchUsers</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">view</span>.<span class="hljs-title function_">displayUsers</span>(users)
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½å¤±è´¥'</span>, error)
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserView</span>()
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserModel</span>()
<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserPresenter</span>(view, model)
</code></pre>
<h4 data-id="heading-7">2.2 MVP çš„ç‰¹ç‚¹</h4>
<ol>
<li><strong>Presenter ä½œä¸ºä¸­é—´äºº</strong>ï¼šåè°ƒ View å’Œ Model</li>
<li><strong>View è¢«åŠ¨</strong>ï¼šåªè´Ÿè´£æ˜¾ç¤ºï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘</li>
<li><strong>è§£è€¦æ›´å¥½</strong>ï¼šView å’Œ Model ä¸çŸ¥é“å½¼æ­¤å­˜åœ¨</li>
<li><strong>ä½†ä»æœ‰é—®é¢˜</strong>ï¼šPresenter å¯èƒ½å˜å¾—è‡ƒè‚¿ï¼Œæµ‹è¯•ä»å¤æ‚</li>
</ol>
<h3 data-id="heading-8">ä¸‰ã€MVVMï¼šVue çš„é€‰æ‹©ä¸å®ç°</h3>
<h4 data-id="heading-9">3.1 MVVM çš„æ ¸å¿ƒï¼šæ•°æ®ç»‘å®š</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- è¿™æ˜¯å…¸å‹çš„ MVVMï¼ŒVue è‡ªåŠ¨å¤„ç†äº†ç»‘å®š --&gt;
&lt;template&gt;
  &lt;!-- Viewï¼šå£°æ˜å¼æ¨¡æ¿ --&gt;
  &lt;div class="user-management"&gt;
    &lt;input 
      v-model="newUser.name" 
      placeholder="ç”¨æˆ·å"
      @keyup.enter="addUser"
    &gt;
    &lt;button @click="addUser"&gt;æ·»åŠ ç”¨æˆ·&lt;/button&gt;
    
    &lt;ul&gt;
      &lt;li v-for="user in filteredUsers" :key="user.id"&gt;
        {{ user.name }}
        &lt;button @click="removeUser(user.id)"&gt;åˆ é™¤&lt;/button&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    
    &lt;input v-model="searchQuery" placeholder="æœç´¢ç”¨æˆ·..."&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      // Model/ViewModelï¼šå“åº”å¼æ•°æ®
      users: [
        { id: 1, name: 'å¼ ä¸‰' },
        { id: 2, name: 'æå››' },
        { id: 3, name: 'ç‹äº”' }
      ],
      newUser: { name: '' },
      searchQuery: ''
    }
  },
  
  computed: {
    // ViewModelï¼šæ´¾ç”ŸçŠ¶æ€
    filteredUsers() {
      return this.users.filter(user =&gt;
        user.name.toLowerCase().includes(this.searchQuery.toLowerCase())
      )
    }
  },
  
  methods: {
    // ViewModelï¼šæ“ä½œæ–¹æ³•
    addUser() {
      if (this.newUser.name.trim()) {
        this.users.push({
          id: Date.now(),
          name: this.newUser.name.trim()
        })
        this.newUser.name = ''
      }
    },
    
    removeUser(id) {
      this.users = this.users.filter(user =&gt; user.id !== id)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-10">3.2 Vue å¦‚ä½•å®ç° MVVM</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ Vue çš„åº•å±‚å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–çš„ Vue å“åº”å¼ç³»ç»Ÿ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Vue</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$options</span> = options
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span> = options.<span class="hljs-title function_">data</span>()
    
    <span class="hljs-comment">// 1. æ•°æ®åŠ«æŒï¼ˆæ ¸å¿ƒï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>)
    
    <span class="hljs-comment">// 2. ç¼–è¯‘æ¨¡æ¿</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(options.<span class="hljs-property">template</span>)
  }
  
  <span class="hljs-title function_">observe</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> value = data[key]
      <span class="hljs-keyword">const</span> dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>() <span class="hljs-comment">// ä¾èµ–æ”¶é›†</span>
      
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(data, key, {
        <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
          <span class="hljs-comment">// æ”¶é›†ä¾èµ–</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span>) {
            dep.<span class="hljs-title function_">addSub</span>(<span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span>)
          }
          <span class="hljs-keyword">return</span> value
        },
        <span class="hljs-title function_">set</span>(<span class="hljs-params">newVal</span>) {
          <span class="hljs-keyword">if</span> (newVal !== value) {
            value = newVal
            <span class="hljs-comment">// é€šçŸ¥æ›´æ–°</span>
            dep.<span class="hljs-title function_">notify</span>()
          }
        }
      })
    })
  }
  
  <span class="hljs-title function_">compile</span>(<span class="hljs-params">template</span>) {
    <span class="hljs-comment">// å°†æ¨¡æ¿è½¬æ¢ä¸ºæ¸²æŸ“å‡½æ•°</span>
    <span class="hljs-comment">// å»ºç«‹ View å’Œ ViewModel çš„ç»‘å®š</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dep</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span> = []
  }
  
  <span class="hljs-title function_">addSub</span>(<span class="hljs-params">sub</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">push</span>(sub)
  }
  
  <span class="hljs-title function_">notify</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">sub</span> =&gt;</span> sub.<span class="hljs-title function_">update</span>())
  }
}

<span class="hljs-comment">// Watcher è§‚å¯Ÿæ•°æ®å˜åŒ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Watcher</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">vm, key, cb</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span> = vm
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cb</span> = cb
    
    <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-variable language_">this</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = vm.<span class="hljs-property">_data</span>[key] <span class="hljs-comment">// è§¦å‘ getterï¼Œæ”¶é›†ä¾èµ–</span>
    <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-literal">null</span>
  }
  
  <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>.<span class="hljs-property">_data</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>]
    <span class="hljs-keyword">if</span> (newValue !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = newValue
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cb</span>(newValue)
    }
  }
}
</code></pre>
<h3 data-id="heading-11">å››ã€ä¸‰ç§æ¨¡å¼çš„æ·±åº¦å¯¹æ¯”</h3>
<h4 data-id="heading-12">4.1 é€šä¿¡æµå¯¹æ¯”</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    subgraph "MVC"
        A[View] --&gt;|ç”¨æˆ·è¾“å…¥| B[Controller]
        B --&gt;|æ›´æ–°| C[Model]
        C --&gt;|é€šçŸ¥| B
        B --&gt;|æ¸²æŸ“| A
    end
    
    subgraph "MVP"
        D[View] --&gt;|å§”æ‰˜| E[Presenter]
        E --&gt;|æ›´æ–°| F[Model]
        F --&gt;|è¿”å›æ•°æ®| E
        E --&gt;|æ›´æ–°è§†å›¾| D
    end
    
    subgraph "MVVM"
        G[View] &lt;--&gt;|åŒå‘ç»‘å®š| H[ViewModel]
        H --&gt;|æ“ä½œ| I[Model]
        I --&gt;|å“åº”æ•°æ®| H
    end
</code></pre>
<h4 data-id="heading-13">4.2 ä»£ç ç»“æ„å¯¹æ¯”</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- åŒä¸€ä¸ªåŠŸèƒ½ï¼Œä¸‰ç§æ¨¡å¼çš„ä¸åŒå®ç° --&gt;

&lt;!-- MVC é£æ ¼ï¼ˆä¸æ¨èï¼‰ --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;input id="username" type="text"&gt;
    &lt;button id="save-btn"&gt;ä¿å­˜&lt;/button&gt;
    &lt;div id="output"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  mounted() {
    // Controller é€»è¾‘æ•£è½åœ¨å„å¤„
    document.getElementById('save-btn').addEventListener('click', () =&gt; {
      const username = document.getElementById('username').value
      this.saveUser(username)
    })
  },
  methods: {
    saveUser(username) {
      // Model æ“ä½œ
      this.$store.commit('SET_USERNAME', username)
      // View æ›´æ–°
      document.getElementById('output').textContent = `ç”¨æˆ·: ${username}`
    }
  }
}
&lt;/script&gt;

&lt;!-- MVP é£æ ¼ --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model="username" type="text"&gt;
    &lt;button @click="presenter.save()"&gt;ä¿å­˜&lt;/button&gt;
    &lt;div&gt;{{ displayText }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      username: '',
      displayText: ''
    }
  },
  created() {
    // Presenter å¤„ç†æ‰€æœ‰é€»è¾‘
    this.presenter = {
      save: () =&gt; {
        this.$store.commit('SET_USERNAME', this.username)
        this.displayText = `ç”¨æˆ·: ${this.username}`
      }
    }
  }
}
&lt;/script&gt;

&lt;!-- MVVM é£æ ¼ï¼ˆVue åŸç”Ÿï¼‰ --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;!-- åŒå‘ç»‘å®šè‡ªåŠ¨å¤„ç† --&gt;
    &lt;input v-model="username" type="text"&gt;
    &lt;button @click="saveUser"&gt;ä¿å­˜&lt;/button&gt;
    &lt;!-- è‡ªåŠ¨å“åº”å¼æ›´æ–° --&gt;
    &lt;div&gt;ç”¨æˆ·: {{ username }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      username: ''
    }
  },
  methods: {
    saveUser() {
      // æ•°æ®æ”¹å˜ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°
      this.$store.commit('SET_USERNAME', this.username)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-14">4.3 å®é™…é¡¹ç›®ä¸­çš„ä½“ç°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸€ä¸ªçœŸå®çš„ Vuex + Vue é¡¹ç›®ç»“æ„</span>

<span class="hljs-comment">// Model å±‚ï¼šVuex Store</span>
<span class="hljs-comment">// store/modules/user.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">state</span>: {
    <span class="hljs-attr">users</span>: [],
    <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>
  },
  <span class="hljs-attr">mutations</span>: {
    <span class="hljs-title function_">SET_USERS</span>(<span class="hljs-params">state, users</span>) {
      state.<span class="hljs-property">users</span> = users
    },
    <span class="hljs-title function_">ADD_USER</span>(<span class="hljs-params">state, user</span>) {
      state.<span class="hljs-property">users</span>.<span class="hljs-title function_">push</span>(user)
    }
  },
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params">{ commit }</span>) {
      <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getUsers</span>()
      <span class="hljs-title function_">commit</span>(<span class="hljs-string">'SET_USERS'</span>, users)
    }
  },
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">activeUsers</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">users</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">isActive</span>)
  }
}

<span class="hljs-comment">// ViewModel å±‚ï¼šVue ç»„ä»¶</span>
<span class="hljs-comment">// UserList.vue</span>
&lt;template&gt;
  &lt;!-- <span class="hljs-title class_">View</span>ï¼šå£°æ˜å¼æ¨¡æ¿ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserFilter</span> @<span class="hljs-attr">filter-change</span>=<span class="hljs-string">"setFilter"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserTable</span> <span class="hljs-attr">:users</span>=<span class="hljs-string">"filteredUsers"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UserPagination</span> 
      <span class="hljs-attr">:current-page</span>=<span class="hljs-string">"currentPage"</span>
      @<span class="hljs-attr">page-change</span>=<span class="hljs-string">"changePage"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { mapState, mapGetters, mapActions } <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// ç»„ä»¶æœ¬åœ°çŠ¶æ€</span>
      <span class="hljs-attr">currentPage</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">filter</span>: <span class="hljs-string">''</span>
    }
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-comment">// è¿æ¥ Model (Vuex) å’Œ View</span>
    ...<span class="hljs-title function_">mapState</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'users'</span>]),
    ...<span class="hljs-title function_">mapGetters</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'activeUsers'</span>]),
    
    <span class="hljs-comment">// ViewModelï¼šè®¡ç®—å±æ€§</span>
    <span class="hljs-title function_">filteredUsers</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeUsers</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> 
        user.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">filter</span>)
      )
    }
  },
  <span class="hljs-attr">methods</span>: {
    ...<span class="hljs-title function_">mapActions</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'fetchUsers'</span>]),
    
    <span class="hljs-comment">// ViewModelï¼šæ–¹æ³•</span>
    <span class="hljs-title function_">setFilter</span>(<span class="hljs-params">filter</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">filter</span> = filter
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> = <span class="hljs-number">1</span> <span class="hljs-comment">// é‡ç½®åˆ†é¡µ</span>
    },
    
    <span class="hljs-title function_">changePage</span>(<span class="hljs-params">page</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> = page
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>({ page, <span class="hljs-attr">filter</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">filter</span> })
    }
  },
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>()
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-15">äº”ã€Vue 3 ç»„åˆå¼ APIï¼šMVVM çš„è¿›åŒ–</h3>
<h4 data-id="heading-16">5.1 ä¼ ç»Ÿ Options API çš„é—®é¢˜</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Options APIï¼šé€»è¾‘åˆ†æ•£ --&gt;
&lt;script&gt;
export default {
  data() {
    return {
      users: [],
      filter: '',
      page: 1
    }
  },
  computed: {
    filteredUsers() { /* ... */ }
  },
  watch: {
    filter() { /* è¿‡æ»¤é€»è¾‘ */ },
    page() { /* åˆ†é¡µé€»è¾‘ */ }
  },
  methods: {
    fetchUsers() { /* ... */ },
    handleFilter() { /* ... */ }
  },
  mounted() {
    this.fetchUsers()
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-17">5.2 ç»„åˆå¼ APIï¼šæ›´å¥½çš„é€»è¾‘ç»„ç»‡</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Composition APIï¼šé€»è¾‘èšåˆ --&gt;
&lt;script setup&gt;
import { ref, computed, watch, onMounted } from 'vue'
import { useUserStore } from '@/stores/user'

// ç”¨æˆ·æœç´¢åŠŸèƒ½
const { 
  users, 
  searchUsers, 
  isLoading: usersLoading 
} = useUserSearch()

// åˆ†é¡µåŠŸèƒ½  
const {
  currentPage,
  pageSize,
  paginatedData,
  changePage
} = usePagination(users)

// ç­›é€‰åŠŸèƒ½
const {
  filter,
  filteredData,
  setFilter
} = useFilter(paginatedData)

// ç”Ÿå‘½å‘¨æœŸ
onMounted(() =&gt; {
  searchUsers()
})

// å“åº”å¼ç›‘å¬
watch(filter, () =&gt; {
  currentPage.value = 1
})
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- View ä¿æŒä¸å˜ --&gt;
  &lt;div&gt;
    &lt;input v-model="filter" placeholder="æœç´¢..."&gt;
    &lt;UserTable :data="filteredData" /&gt;
    &lt;Pagination 
      :current-page="currentPage"
      @change="changePage"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-18">5.3 è‡ªå®šä¹‰ç»„åˆå‡½æ•°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// composables/useUserManagement.js</span>
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/user'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useUserManagement</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()
  <span class="hljs-keyword">const</span> localUsers = <span class="hljs-title function_">ref</span>([])
  <span class="hljs-keyword">const</span> filter = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> currentPage = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>)
  <span class="hljs-keyword">const</span> pageSize = <span class="hljs-number">10</span>

  <span class="hljs-comment">// è®¡ç®—å±æ€§ï¼šViewModel</span>
  <span class="hljs-keyword">const</span> filteredUsers = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> localUsers.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span>
      user.<span class="hljs-property">name</span>.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">includes</span>(filter.<span class="hljs-property">value</span>.<span class="hljs-title function_">toLowerCase</span>())
    )
  })

  <span class="hljs-keyword">const</span> paginatedUsers = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> start = (currentPage.<span class="hljs-property">value</span> - <span class="hljs-number">1</span>) * pageSize
    <span class="hljs-keyword">return</span> filteredUsers.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(start, start + pageSize)
  })

  <span class="hljs-comment">// æ–¹æ³•ï¼šViewModel</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addUser</span> = (<span class="hljs-params">user</span>) =&gt; {
    localUsers.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(user)
    userStore.<span class="hljs-title function_">addUser</span>(user)
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">removeUser</span> = (<span class="hljs-params">id</span>) =&gt; {
    localUsers.<span class="hljs-property">value</span> = localUsers.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">id</span> !== id)
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// æš´éœ²ç»™ View</span>
    <span class="hljs-attr">users</span>: paginatedUsers,
    filter,
    currentPage,
    addUser,
    removeUser,
    <span class="hljs-attr">setFilter</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> { filter.<span class="hljs-property">value</span> = value }
  }
}
</code></pre>
<h3 data-id="heading-19">å…­ã€ç°ä»£ Vue ç”Ÿæ€ä¸­çš„æ¶æ„æ¨¡å¼</h3>
<h4 data-id="heading-20">6.1 Piniaï¼šæ›´ç°ä»£çš„"Model"å±‚</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/user.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">users</span>: [],
    <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>
  }),
  
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/users'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span> = data
    },
    
    <span class="hljs-title function_">addUser</span>(<span class="hljs-params">user</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">push</span>(user)
    }
  },
  
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">activeUsers</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">users</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">isActive</span>),
    <span class="hljs-attr">userCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">users</span>.<span class="hljs-property">length</span>
  }
})

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/user'</span>

<span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()
<span class="hljs-keyword">const</span> { users, activeUsers } = <span class="hljs-title function_">storeToRefs</span>(userStore)

<span class="hljs-comment">// MVVM æ¸…æ™°åˆ†å±‚ï¼š</span>
<span class="hljs-comment">// Model: userStore</span>
<span class="hljs-comment">// ViewModel: ç»„ä»¶ä¸­çš„ computed/methods</span>
<span class="hljs-comment">// View: template</span>
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-21">6.2 åŸºäºç‰¹æ€§çš„æ¶æ„</h4>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ components/     <span class="hljs-comment"># View</span>
â”‚   â”‚   â”œâ”€â”€ composables/    <span class="hljs-comment"># ViewModel</span>
â”‚   â”‚   â”œâ”€â”€ stores/         <span class="hljs-comment"># Model</span>
â”‚   â”‚   â””â”€â”€ types/          <span class="hljs-comment"># ç±»å‹å®šä¹‰</span>
â”‚   â””â”€â”€ product/
â”‚       â”œâ”€â”€ components/
â”‚       â”œâ”€â”€ composables/
â”‚       â””â”€â”€ stores/
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ api/
â””â”€â”€ App.vue
</code></pre>
<h4 data-id="heading-22">6.3 æœåŠ¡å™¨çŠ¶æ€ç®¡ç†ï¼ˆTanStack Queryï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { useQuery, useMutation } from '@tanstack/vue-query'

// Modelï¼šæœåŠ¡å™¨çŠ¶æ€
const { data: users, isLoading } = useQuery({
  queryKey: ['users'],
  queryFn: fetchUsers
})

// ViewModelï¼šæœ¬åœ°çŠ¶æ€å’Œé€»è¾‘
const filter = ref('')
const filteredUsers = computed(() =&gt; {
  return users.value?.filter(u =&gt; 
    u.name.includes(filter.value)
  ) || []
})

// Mutationï¼šä¿®æ”¹æœåŠ¡å™¨çŠ¶æ€
const { mutate: addUser } = useMutation({
  mutationFn: createUser,
  onSuccess: () =&gt; {
    // è‡ªåŠ¨é‡æ–°è·å– users
  }
})
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- View --&gt;
  &lt;div&gt;
    &lt;input v-model="filter" placeholder="æœç´¢ç”¨æˆ·"&gt;
    &lt;UserList :users="filteredUsers" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-23">ä¸ƒã€å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ¨¡å¼</h3>
<h4 data-id="heading-24">7.1 å†³ç­–çŸ©é˜µ</h4>









































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ¨¡å¼</th><th>ç†ç”±</th><th>Vue å®ç°</th></tr></thead><tbody><tr><td>å°å‹é¡¹ç›®</td><td>MVVMï¼ˆVue åŸç”Ÿï¼‰</td><td>ç®€å•ç›´æ¥ï¼Œä¸Šæ‰‹å¿«</td><td>Options API</td></tr><tr><td>ä¸­å‹é¡¹ç›®</td><td>MVVM + çŠ¶æ€ç®¡ç†</td><td>éœ€è¦å…±äº«çŠ¶æ€</td><td>Vuex/Pinia</td></tr><tr><td>å¤§å‹é¡¹ç›®</td><td>ç»„åˆå¼ MVVM</td><td>é€»è¾‘å¤ç”¨ï¼Œç±»å‹å®‰å…¨</td><td>Composition API + TypeScript</td></tr><tr><td>å¤æ‚ä¸šåŠ¡é€»è¾‘</td><td>é¢†åŸŸé©±åŠ¨è®¾è®¡</td><td>ä¸šåŠ¡é€»è¾‘å¤æ‚</td><td>ç‰¹æ€§æ–‡ä»¶å¤¹ + Clean Architecture</td></tr><tr><td>å®æ—¶åº”ç”¨</td><td>MVVM + å“åº”å¼å¢å¼º</td><td>éœ€è¦å¤æ‚å“åº”å¼</td><td>Vue + RxJS/Signals</td></tr></tbody></table>
<h4 data-id="heading-25">7.2 æ¶æ„æ¼”è¿›ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é˜¶æ®µ1ï¼šç®€å• MVVMï¼ˆé€‚åˆ todo åº”ç”¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">todos</span>: [], <span class="hljs-attr">newTodo</span>: <span class="hljs-string">''</span> }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">addTodo</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">newTodo</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> })
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">newTodo</span> = <span class="hljs-string">''</span>
    }
  }
}

<span class="hljs-comment">// é˜¶æ®µ2ï¼šåŠ å…¥çŠ¶æ€ç®¡ç†ï¼ˆé€‚åˆç”µå•†ç½‘ç«™ï¼‰</span>
<span class="hljs-comment">// store/todos.js + TodoList.vue + TodoItem.vue</span>

<span class="hljs-comment">// é˜¶æ®µ3ï¼šç»„åˆå¼æ¶æ„ï¼ˆé€‚åˆ SaaS å¹³å°ï¼‰</span>
<span class="hljs-comment">// features/todo/</span>
<span class="hljs-comment">//   â”œâ”€â”€ useTodoList.js</span>
<span class="hljs-comment">//   â”œâ”€â”€ useTodoFilter.js</span>
<span class="hljs-comment">//   â”œâ”€â”€ TodoStore.js</span>
<span class="hljs-comment">//   â””â”€â”€ components/</span>

<span class="hljs-comment">// é˜¶æ®µ4ï¼šå¾®å‰ç«¯æ¶æ„ï¼ˆé€‚åˆå¤§å‹ä¼ä¸šåº”ç”¨ï¼‰</span>
<span class="hljs-comment">// app-todo/ + app-user/ + app-order/ + ä¸»åº”ç”¨</span>
</code></pre>
<h4 data-id="heading-26">7.3 ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„ MVVM ä»£ç åº”è¯¥ï¼š</span>
<span class="hljs-comment">// 1. Viewï¼ˆæ¨¡æ¿ï¼‰ä¿æŒç®€æ´ï¼Œåªè´Ÿè´£å±•ç¤º</span>
&lt;template&gt;
  &lt;!-- âœ… å¥½ï¼šå£°æ˜å¼ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSubmit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  
  &lt;!-- âŒ ä¸å¥½ï¼šåŒ…å«é€»è¾‘ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"validate() &amp;&amp; submit()"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/template&gt;

<span class="hljs-comment">// 2. ViewModelï¼ˆè„šæœ¬ï¼‰å¤„ç†æ‰€æœ‰é€»è¾‘</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// âœ… å¥½ï¼šé€»è¾‘åœ¨ ViewModel</span>
    <span class="hljs-title function_">handleSubmit</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validate</span>()) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">submit</span>()
      }
    },
    
    <span class="hljs-comment">// âŒ ä¸å¥½ï¼šç›´æ¥æ“ä½œ DOM</span>
    <span class="hljs-title function_">badMethod</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="hljs-comment">// 3. Modelï¼ˆæ•°æ®ï¼‰æ¸…æ™°åˆ†å±‚</span>
<span class="hljs-comment">// âœ… å¥½ï¼šçŠ¶æ€ç®¡ç†é›†ä¸­</span>
<span class="hljs-attr">state</span>: {
  <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// åŸå§‹æ•°æ®</span>
  <span class="hljs-attr">ui</span>: {      <span class="hljs-comment">// UI çŠ¶æ€</span>
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>
  }
}

<span class="hljs-comment">// âŒ ä¸å¥½ï¼šçŠ¶æ€æ··æ‚</span>
<span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">apiData</span>: [],     <span class="hljs-comment">// API æ•°æ®</span>
    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// UI çŠ¶æ€</span>
    <span class="hljs-attr">localData</span>: {}     <span class="hljs-comment">// æœ¬åœ°çŠ¶æ€</span>
  }
}
</code></pre>
<h3 data-id="heading-27">å…«ã€æ€»ç»“ï¼šVue æ¶æ„æ¨¡å¼çš„æ ¸å¿ƒè¦ä¹‰</h3>
<h4 data-id="heading-28">8.1 ä¸‰ç§æ¨¡å¼çš„æœ¬è´¨åŒºåˆ«</h4>





























<table><thead><tr><th>æ¨¡å¼</th><th>æ ¸å¿ƒæ€æƒ³</th><th>Vue ä¸­çš„ä½“ç°</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>MVC</strong></td><td>å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä½†è€¦åˆåº¦é«˜</td><td>æ—©æœŸ jQuery æ—¶ä»£</td><td>ä¼ ç»Ÿåç«¯æ¸²æŸ“</td></tr><tr><td><strong>MVP</strong></td><td>Presenter ä¸­ä»‹ï¼ŒView è¢«åŠ¨</td><td>æŸäº› Vue 2 é¡¹ç›®</td><td>éœ€è¦ä¸¥æ ¼æµ‹è¯•</td></tr><tr><td><strong>MVVM</strong></td><td>æ•°æ®ç»‘å®šï¼Œè‡ªåŠ¨åŒæ­¥</td><td>Vue æ ¸å¿ƒè®¾è®¡</td><td>ç°ä»£å‰ç«¯åº”ç”¨</td></tr></tbody></table>
<h4 data-id="heading-29">8.2 Vue ä¸ºä»€ä¹ˆé€‰æ‹© MVVMï¼Ÿ</h4>
<ol>
<li><strong>å¼€å‘æ•ˆç‡</strong>ï¼šæ•°æ®ç»‘å®šå‡å°‘æ ·æ¿ä»£ç </li>
<li><strong>ç»´æŠ¤æ€§</strong>ï¼šå“åº”å¼ç³»ç»Ÿè‡ªåŠ¨å¤„ç†æ›´æ–°</li>
<li><strong>å¯æµ‹è¯•æ€§</strong>ï¼šViewModel å¯ä»¥ç‹¬ç«‹æµ‹è¯•</li>
<li><strong>æ¸è¿›å¼</strong>ï¼šå¯ä»¥ä»ç®€å•å¼€å§‹ï¼Œé€æ­¥å¤æ‚åŒ–</li>
</ol>
<h4 data-id="heading-30">8.3 ç°ä»£ Vue å¼€å‘çš„æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>æ‹¥æŠ± MVVM</strong>ï¼šç†è§£å¹¶å–„ç”¨å“åº”å¼ç³»ç»Ÿ</li>
<li><strong>åˆç†åˆ†å±‚</strong>ï¼š
<ul>
<li>Viewï¼šåªè´Ÿè´£å±•ç¤ºï¼Œå°½é‡ç®€å•</li>
<li>ViewModelï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€</li>
<li>Modelï¼šç®¡ç†æ•°æ®å’Œä¸šåŠ¡è§„åˆ™</li>
</ul>
</li>
<li><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šä½¿ç”¨ç»„åˆå¼ API ç»„ç»‡ä»£ç </li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šåœ¨éœ€è¦æ—¶å¼•å…¥ Pinia/Vuex</li>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šæŒ‰ç‰¹æ€§ç»„ç»‡ä»£ç ï¼Œè€ŒéæŠ€æœ¯</li>
</ol>
<h4 data-id="heading-31">8.4 è®°ä½çš„å…³é”®ç‚¹</h4>
<ul>
<li><strong>Vue ä¸æ˜¯ä¸¥æ ¼çš„ MVVM</strong>ï¼Œä½†å—å…¶å¯å‘</li>
<li><strong>æ¶æ„æ¨¡å¼æ˜¯å·¥å…·ï¼Œä¸æ˜¯æ•™æ¡</strong>ï¼Œæ ¹æ®é¡¹ç›®é€‰æ‹©</li>
<li><strong>ä»£ç ç»„ç»‡æ¯”æ¨¡å¼åç§°æ›´é‡è¦</strong></li>
<li><strong>æ¸è¿›å¼æ˜¯ Vue çš„æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼Œå¯ä»¥ä»ç®€å•å¼€å§‹</li>
</ul>
<p>æœ€åï¼Œæ— è®ºä½ ä½¿ç”¨å“ªç§æ¨¡å¼ï¼Œè®°ä½ Vue çš„æ ¸å¿ƒåŸåˆ™ï¼š<strong>è®©å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯æ¡†æ¶ç»†èŠ‚</strong>ã€‚è¿™æ‰æ˜¯ Vue æˆåŠŸçš„çœŸæ­£åŸå› ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„ Vue é¡¹ç›®ä¸­ï¼Œä½ æ˜¯å¦‚ä½•ç»„ç»‡ä»£ç çš„ï¼Ÿæœ‰æ²¡æœ‰é‡åˆ°è¿‡æ¶æ„é€‰æ‹©ä¸Šçš„å›°æƒ‘ï¼Ÿæˆ–è€…æœ‰ä»€ä¹ˆç‹¬ç‰¹çš„æ¶æ„å®è·µæƒ³è¦åˆ†äº«ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue Router 404é¡µé¢é…ç½®ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593771861323481114</link>    <guid>https://juejin.cn/post/7593771861323481114</guid>    <pubDate>2026-01-11T09:17:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323481114" data-draft-id="7593630465380073510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue Router 404é¡µé¢é…ç½®ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T09:17:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue Router 404é¡µé¢é…ç½®ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:17:56.000Z" title="Sun Jan 11 2026 09:17:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue Router 404é¡µé¢é…ç½®ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æŒ‡å—</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç²¾å¿ƒè®¾è®¡404é¡µé¢ï¼Ÿ</h3>
<p>404é¡µé¢ä¸åªæ˜¯"é¡µé¢ä¸å­˜åœ¨"çš„æç¤ºï¼Œå®ƒè¿˜æ˜¯ï¼š</p>
<ul>
<li>ğŸš¨ <strong>ç”¨æˆ·ä½“éªŒçš„æ•‘ç”Ÿè‰‡</strong>ï¼šç”¨æˆ·è¿·è·¯æ—¶çš„å¯¼èˆªç«™</li>
<li>ğŸ” <strong>SEOä¼˜åŒ–çš„é‡è¦éƒ¨åˆ†</strong>ï¼šæ­£ç¡®å¤„ç†404çŠ¶æ€ç </li>
<li>ğŸ¨ <strong>å“ç‰Œå±•ç¤ºçš„æœºä¼š</strong>ï¼šä½“ç°äº§å“è®¾è®¡çš„ä¸€è‡´æ€§</li>
<li>ğŸ“Š <strong>æ•°æ®åˆ†æçš„å…¥å£</strong>ï¼šäº†è§£ç”¨æˆ·è®¿é—®çš„"æ­»èƒ¡åŒ"</li>
</ul>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå…¨é¢æŒæ¡Vue Routerä¸­çš„404é¡µé¢é…ç½®æŠ€å·§ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€åŸºç¡€é…ç½®ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª404é¡µé¢</h3>
<h4 data-id="heading-3">1.1 æœ€ç®€å•çš„404é¡µé¢é…ç½®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/index.js</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/NotFound.vue'</span>

<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../views/About.vue'</span>)
  },
  <span class="hljs-comment">// 404è·¯ç”± - å¿…é¡»æ”¾åœ¨æœ€å</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>, <span class="hljs-comment">// Vue 3 æ–°è¯­æ³•</span>
    <span class="hljs-attr">name</span>: <span class="hljs-string">'NotFound'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span>
  }
]

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  routes
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- views/NotFound.vue --&gt;
&lt;template&gt;
  &lt;div class="not-found"&gt;
    &lt;div class="error-code"&gt;404&lt;/div&gt;
    &lt;h1 class="error-title"&gt;é¡µé¢ä¸å­˜åœ¨&lt;/h1&gt;
    &lt;p class="error-message"&gt;
      æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢å¯èƒ½å·²è¢«åˆ é™¤æˆ–æš‚æ—¶ä¸å¯ç”¨ã€‚
    &lt;/p&gt;
    &lt;div class="action-buttons"&gt;
      &lt;router-link to="/" class="btn btn-primary"&gt;
        è¿”å›é¦–é¡µ
      &lt;/router-link&gt;
      &lt;button @click="goBack" class="btn btn-secondary"&gt;
        è¿”å›ä¸Šä¸€é¡µ
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'NotFound',
  methods: {
    goBack() {
      if (window.history.length &gt; 1) {
        this.$router.go(-1)
      } else {
        this.$router.push('/')
      }
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.not-found {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 80vh;
  text-align: center;
  padding: 2rem;
}

.error-code {
  font-size: 8rem;
  font-weight: 900;
  color: #e0e0e0;
  line-height: 1;
  margin-bottom: 1rem;
}

.error-title {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: #333;
}

.error-message {
  font-size: 1.1rem;
  color: #666;
  margin-bottom: 2rem;
  max-width: 500px;
}

.action-buttons {
  display: flex;
  gap: 1rem;
}

.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  text-decoration: none;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-primary {
  background-color: #1890ff;
  color: white;
  border: none;
}

.btn-primary:hover {
  background-color: #40a9ff;
}

.btn-secondary {
  background-color: transparent;
  color: #666;
  border: 1px solid #d9d9d9;
}

.btn-secondary:hover {
  border-color: #1890ff;
  color: #1890ff;
}
&lt;/style&gt;
</code></pre>
<h4 data-id="heading-4">1.2 è·¯ç”±åŒ¹é…æ¨¡å¼è¯¦è§£</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue Router çš„ä¸åŒåŒ¹é…æ¨¡å¼</span>
<span class="hljs-keyword">const</span> routes = [
  <span class="hljs-comment">// Vue 3 æ¨èï¼šåŒ¹é…æ‰€æœ‰è·¯å¾„å¹¶æ•è·å‚æ•°</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>, <span class="hljs-comment">// æ•è·è·¯å¾„åˆ° params.pathMatch</span>
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span>
  },
  
  <span class="hljs-comment">// Vue 2 æˆ– Vue 3 å…¼å®¹</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'*'</span>, <span class="hljs-comment">// æ—§ç‰ˆæœ¬è¯­æ³•ï¼ŒVue 3 ä¸­ä»ç„¶å¯ç”¨</span>
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span>
  },
  
  <span class="hljs-comment">// æ•è·ç‰¹å®šæ¨¡å¼</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/user-:userId(.*)'</span>, <span class="hljs-comment">// åŒ¹é… /user-xxx</span>
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">UserProfile</span>,
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-function">(<span class="hljs-params">to</span>) =&gt;</span> {
      <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡ŒéªŒè¯ç”¨æˆ·IDæ˜¯å¦å­˜åœ¨</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isValidUserId</span>(to.<span class="hljs-property">params</span>.<span class="hljs-property">userId</span>)) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span> }
      }
    }
  },
  
  <span class="hljs-comment">// åµŒå¥—è·¯ç”±ä¸­çš„404</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/dashboard'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">DashboardLayout</span>,
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>, <span class="hljs-comment">// é»˜è®¤å­è·¯ç”±</span>
        <span class="hljs-attr">component</span>: <span class="hljs-title class_">DashboardHome</span>
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'settings'</span>,
        <span class="hljs-attr">component</span>: <span class="hljs-title class_">DashboardSettings</span>
      },
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">':pathMatch(.*)*'</span>, <span class="hljs-comment">// ä»ªè¡¨æ¿å†…çš„404</span>
        <span class="hljs-attr">component</span>: <span class="hljs-title class_">DashboardNotFound</span>
      }
    ]
  }
]
</code></pre>
<h3 data-id="heading-5">äºŒã€ä¸­çº§æŠ€å·§ï¼šæ™ºèƒ½404å¤„ç†</h3>
<h4 data-id="heading-6">2.1 åŠ¨æ€404é¡µé¢ï¼ˆæ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒå†…å®¹ï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- views/NotFound.vue --&gt;
&lt;template&gt;
  &lt;div class="not-found"&gt;
    &lt;!-- æ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒå†…å®¹ --&gt;
    &lt;template v-if="errorType === 'product'"&gt;
      &lt;ProductNotFound :product-id="productId" /&gt;
    &lt;/template&gt;
    
    &lt;template v-else-if="errorType === 'user'"&gt;
      &lt;UserNotFound :username="username" /&gt;
    &lt;/template&gt;
    
    &lt;template v-else&gt;
      &lt;GenericNotFound /&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import GenericNotFound from '@/components/errors/GenericNotFound.vue'
import ProductNotFound from '@/components/errors/ProductNotFound.vue'
import UserNotFound from '@/components/errors/UserNotFound.vue'

export default {
  name: 'NotFound',
  components: {
    GenericNotFound,
    ProductNotFound,
    UserNotFound
  },
  computed: {
    // ä»è·¯ç”±å‚æ•°åˆ†æé”™è¯¯ç±»å‹
    errorType() {
      const path = this.$route.params.pathMatch?.[0] || ''
      
      if (path.includes('/products/')) {
        return 'product'
      } else if (path.includes('/users/')) {
        return 'user'
      } else if (path.includes('/admin/')) {
        return 'admin'
      }
      return 'generic'
    },
    
    // æå–IDå‚æ•°
    productId() {
      const match = this.$route.params.pathMatch?.[0].match(/\/products\/(\d+)/)
      return match ? match[1] : null
    },
    
    username() {
      const match = this.$route.params.pathMatch?.[0].match(/\/users\/(\w+)/)
      return match ? match[1] : null
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-7">2.2 å…¨å±€è·¯ç”±å®ˆå«ä¸­çš„404å¤„ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/index.js</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  <span class="hljs-attr">routes</span>: [
    <span class="hljs-comment">// ... å…¶ä»–è·¯ç”±</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'NotFoundPage'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/NotFound.vue'</span>)
    },
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>,
      <span class="hljs-attr">redirect</span>: <span class="hljs-function">(<span class="hljs-params">to</span>) =&gt;</span> {
        <span class="hljs-comment">// å¯ä»¥åœ¨é‡å®šå‘å‰è®°å½•æ—¥å¿—</span>
        <span class="hljs-title function_">log404Error</span>(to.<span class="hljs-property">fullPath</span>)
        
        <span class="hljs-comment">// å¦‚æœæ˜¯APIè·¯å¾„ï¼Œè¿”å›API 404</span>
        <span class="hljs-keyword">if</span> (to.<span class="hljs-property">path</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/api/'</span>)) {
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">path</span>: <span class="hljs-string">'/api/404'</span>,
            <span class="hljs-attr">query</span>: { <span class="hljs-attr">originalPath</span>: to.<span class="hljs-property">fullPath</span> }
          }
        }
        
        <span class="hljs-comment">// å¦åˆ™è¿”å›æ™®é€š404é¡µé¢</span>
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span>,
          <span class="hljs-attr">query</span>: { <span class="hljs-attr">originalPath</span>: to.<span class="hljs-property">fullPath</span> }
        }
      }
    }
  ]
})

<span class="hljs-comment">// å…¨å±€å‰ç½®å®ˆå«</span>
router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> {
  <span class="hljs-comment">// æ£€æŸ¥ç”¨æˆ·æƒé™</span>
  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">requiresAuth</span> &amp;&amp; !<span class="hljs-title function_">isAuthenticated</span>()) {
    <span class="hljs-title function_">next</span>(<span class="hljs-string">'/login'</span>)
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-comment">// æ£€æŸ¥è·¯ç”±æ˜¯å¦å­˜åœ¨ï¼ˆåŠ¨æ€è·¯ç”±éªŒè¯ï¼‰</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isRouteValid</span>(to)) {
    <span class="hljs-comment">// é‡å®šå‘åˆ°404é¡µé¢ï¼Œå¹¶ä¼ é€’åŸå§‹è·¯å¾„</span>
    <span class="hljs-title function_">next</span>({
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span>,
      <span class="hljs-attr">query</span>: { 
        <span class="hljs-attr">originalPath</span>: to.<span class="hljs-property">fullPath</span>,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>()
      }
    })
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-title function_">next</span>()
})

<span class="hljs-comment">// å…¨å±€åç½®å®ˆå« - ç”¨äºåˆ†æå’ŒåŸ‹ç‚¹</span>
router.<span class="hljs-title function_">afterEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> {
  <span class="hljs-comment">// è®°å½•é¡µé¢è®¿é—®</span>
  analytics.<span class="hljs-title function_">trackPageView</span>(to.<span class="hljs-property">fullPath</span>)
  
  <span class="hljs-comment">// å¦‚æœæ˜¯404é¡µé¢ï¼Œè®°å½•è®¿é—®</span>
  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">name</span> === <span class="hljs-string">'NotFoundPage'</span>) {
    <span class="hljs-title function_">track404Error</span>({
      <span class="hljs-attr">path</span>: to.<span class="hljs-property">query</span>.<span class="hljs-property">originalPath</span>,
      <span class="hljs-attr">referrer</span>: <span class="hljs-keyword">from</span>.<span class="hljs-property">fullPath</span>,
      <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>
    })
  }
})
</code></pre>
<h4 data-id="heading-8">2.3 å¼‚æ­¥è·¯ç”±éªŒè¯</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€éªŒè¯è·¯ç”±æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isRouteValid</span>(<span class="hljs-params">to</span>) {
  <span class="hljs-comment">// å¯¹äºåŠ¨æ€è·¯ç”±ï¼Œéœ€è¦éªŒè¯å‚æ•°æ˜¯å¦æœ‰æ•ˆ</span>
  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">name</span> === <span class="hljs-string">'ProductDetail'</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> productId = to.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>
      <span class="hljs-keyword">const</span> isValid = <span class="hljs-keyword">await</span> <span class="hljs-title function_">validateProductId</span>(productId)
      <span class="hljs-keyword">return</span> isValid
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
  }
  
  <span class="hljs-comment">// å¯¹äºé™æ€è·¯ç”±ï¼Œæ£€æŸ¥è·¯ç”±è¡¨</span>
  <span class="hljs-keyword">const</span> matchedRoutes = router.<span class="hljs-title function_">getRoutes</span>()
  <span class="hljs-keyword">return</span> matchedRoutes.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> 
    route.<span class="hljs-property">path</span> === to.<span class="hljs-property">path</span> || route.<span class="hljs-property">regex</span>.<span class="hljs-title function_">test</span>(to.<span class="hljs-property">path</span>)
  )
}

<span class="hljs-comment">// è·¯ç”±é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/products/:id'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'ProductDetail'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/ProductDetail.vue'</span>),
    <span class="hljs-comment">// è·¯ç”±ç‹¬äº«çš„å®ˆå«</span>
    <span class="hljs-attr">beforeEnter</span>: <span class="hljs-keyword">async</span> (to, <span class="hljs-keyword">from</span>, next) =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> productId = to.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>
        
        <span class="hljs-comment">// éªŒè¯äº§å“æ˜¯å¦å­˜åœ¨</span>
        <span class="hljs-keyword">const</span> productExists = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkProductExists</span>(productId)
        
        <span class="hljs-keyword">if</span> (productExists) {
          <span class="hljs-title function_">next</span>()
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// äº§å“ä¸å­˜åœ¨ï¼Œé‡å®šå‘åˆ°404</span>
          <span class="hljs-title function_">next</span>({
            <span class="hljs-attr">name</span>: <span class="hljs-string">'ProductNotFound'</span>,
            <span class="hljs-attr">params</span>: { productId }
          })
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// APIé”™è¯¯ï¼Œé‡å®šå‘åˆ°é”™è¯¯é¡µé¢</span>
        <span class="hljs-title function_">next</span>({
          <span class="hljs-attr">name</span>: <span class="hljs-string">'ServerError'</span>,
          <span class="hljs-attr">query</span>: { <span class="hljs-attr">from</span>: to.<span class="hljs-property">fullPath</span> }
        })
      }
    }
  },
  
  <span class="hljs-comment">// äº§å“404é¡µé¢ï¼ˆä¸æ˜¯é€šç”¨404ï¼‰</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/products/:productId/not-found'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'ProductNotFound'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/ProductNotFound.vue'</span>),
    <span class="hljs-attr">props</span>: <span class="hljs-literal">true</span>
  }
]
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€é«˜çº§é…ç½®ï¼šä¼ä¸šçº§404è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-10">3.1 å¤šå±‚404å¤„ç†æ¶æ„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/index.js - ä¼ä¸šçº§è·¯ç”±é…ç½®</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  <span class="hljs-attr">routes</span>: [
    <span class="hljs-comment">// å…¬å…±è·¯ç”±</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/layouts/PublicLayout.vue'</span>),
      <span class="hljs-attr">children</span>: [
        { <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Home.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'about'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/About.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'contact'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Contact.vue'</span>) },
        <span class="hljs-comment">// å…¬å…±404</span>
        { <span class="hljs-attr">path</span>: <span class="hljs-string">':pathMatch(.*)*'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/PublicNotFound.vue'</span>) }
      ]
    },
    
    <span class="hljs-comment">// ä»ªè¡¨æ¿è·¯ç”±</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/dashboard'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/layouts/DashboardLayout.vue'</span>),
      <span class="hljs-attr">meta</span>: { <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span> },
      <span class="hljs-attr">children</span>: [
        { <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/dashboard/Home.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'profile'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/dashboard/Profile.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'settings'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/dashboard/Settings.vue'</span>) },
        <span class="hljs-comment">// ä»ªè¡¨æ¿å†…404</span>
        { <span class="hljs-attr">path</span>: <span class="hljs-string">':pathMatch(.*)*'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/dashboard/DashboardNotFound.vue'</span>) }
      ]
    },
    
    <span class="hljs-comment">// ç®¡ç†å‘˜è·¯ç”±</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/admin'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/layouts/AdminLayout.vue'</span>),
      <span class="hljs-attr">meta</span>: { <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">requiresAdmin</span>: <span class="hljs-literal">true</span> },
      <span class="hljs-attr">children</span>: [
        { <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/admin/Dashboard.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'users'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/admin/Users.vue'</span>) },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'analytics'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/admin/Analytics.vue'</span>) },
        <span class="hljs-comment">// ç®¡ç†å‘˜404</span>
        { <span class="hljs-attr">path</span>: <span class="hljs-string">':pathMatch(.*)*'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/admin/AdminNotFound.vue'</span>) }
      ]
    },
    
    <span class="hljs-comment">// ç‰¹æ®Šé”™è¯¯é¡µé¢</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/403'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Forbidden'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/errors/Forbidden.vue'</span>)
    },
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/500'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ServerError'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/errors/ServerError.vue'</span>)
    },
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/maintenance'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Maintenance'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/errors/Maintenance.vue'</span>)
    },
    
    <span class="hljs-comment">// å…¨å±€404 - å¿…é¡»æ”¾åœ¨æœ€å</span>
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'GlobalNotFound'</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/errors/GlobalNotFound.vue'</span>)
    }
  ]
})

<span class="hljs-comment">// é”™è¯¯å¤„ç†ä¸­é—´ä»¶</span>
router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-keyword">async</span> (to, <span class="hljs-keyword">from</span>, next) =&gt; {
  <span class="hljs-comment">// ç»´æŠ¤æ¨¡å¼æ£€æŸ¥</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">__MAINTENANCE_MODE__</span> &amp;&amp; to.<span class="hljs-property">path</span> !== <span class="hljs-string">'/maintenance'</span>) {
    <span class="hljs-title function_">next</span>(<span class="hljs-string">'/maintenance'</span>)
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
  <span class="hljs-keyword">const</span> requiresAuth = to.<span class="hljs-property">matched</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span> record.<span class="hljs-property">meta</span>.<span class="hljs-property">requiresAuth</span>)
  <span class="hljs-keyword">const</span> requiresAdmin = to.<span class="hljs-property">matched</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span> record.<span class="hljs-property">meta</span>.<span class="hljs-property">requiresAdmin</span>)
  
  <span class="hljs-keyword">if</span> (requiresAuth &amp;&amp; !store.<span class="hljs-property">state</span>.<span class="hljs-property">user</span>.<span class="hljs-property">isAuthenticated</span>) {
    <span class="hljs-title function_">next</span>(<span class="hljs-string">'/login'</span>)
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-keyword">if</span> (requiresAdmin &amp;&amp; !store.<span class="hljs-property">state</span>.<span class="hljs-property">user</span>.<span class="hljs-property">isAdmin</span>) {
    <span class="hljs-title function_">next</span>(<span class="hljs-string">'/403'</span>)
    <span class="hljs-keyword">return</span>
  }
  
  <span class="hljs-comment">// åŠ¨æ€è·¯ç”±éªŒè¯</span>
  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">name</span> === <span class="hljs-string">'ProductDetail'</span>) {
    <span class="hljs-keyword">const</span> isValid = <span class="hljs-keyword">await</span> <span class="hljs-title function_">validateProductRoute</span>(to.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>)
    <span class="hljs-keyword">if</span> (!isValid) {
      <span class="hljs-comment">// é‡å®šå‘åˆ°äº§å“ä¸“ç”¨404</span>
      <span class="hljs-title function_">next</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'ProductNotFound'</span>,
        <span class="hljs-attr">params</span>: { <span class="hljs-attr">productId</span>: to.<span class="hljs-property">params</span>.<span class="hljs-property">id</span> }
      })
      <span class="hljs-keyword">return</span>
    }
  }
  
  <span class="hljs-title function_">next</span>()
})
</code></pre>
<h4 data-id="heading-11">3.2 SEOå‹å¥½çš„404é…ç½®</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- views/errors/NotFound.vue --&gt;
&lt;template&gt;
  &lt;div class="not-found"&gt;
    &lt;!-- ç»“æ„åŒ–æ•°æ®ï¼Œå¸®åŠ©æœç´¢å¼•æ“ç†è§£ --&gt;
    &lt;script type="application/ld+json"&gt;
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "404 Page Not Found",
      "description": "The page you are looking for does not exist.",
      "url": "https://yourdomain.com/404",
      "isPartOf": {
        "@type": "WebSite",
        "name": "Your Site Name",
        "url": "https://yourdomain.com"
      }
    }
    &lt;/script&gt;
    
    &lt;!-- é¡µé¢å†…å®¹ --&gt;
    &lt;div class="container"&gt;
      &lt;h1 class="error-title"&gt;404 - Page Not Found&lt;/h1&gt;
      
      &lt;!-- æœç´¢å»ºè®® --&gt;
      &lt;div class="search-suggestions" v-if="suggestions.length &gt; 0"&gt;
        &lt;p&gt;Were you looking for one of these?&lt;/p&gt;
        &lt;ul class="suggestion-list"&gt;
          &lt;li v-for="suggestion in suggestions" :key="suggestion.path"&gt;
            &lt;router-link :to="suggestion.path"&gt;
              {{ suggestion.title }}
            &lt;/router-link&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      
      &lt;!-- çƒ­é—¨å†…å®¹ --&gt;
      &lt;div class="popular-content"&gt;
        &lt;h3&gt;Popular Pages&lt;/h3&gt;
        &lt;div class="popular-grid"&gt;
          &lt;router-link 
            v-for="page in popularPages" 
            :key="page.path"
            :to="page.path"
            class="popular-card"
          &gt;
            {{ page.title }}
          &lt;/router-link&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref, onMounted } from 'vue'
import { useRoute } from 'vue-router'

export default {
  name: 'NotFound',
  setup() {
    const route = useRoute()
    const suggestions = ref([])
    const popularPages = ref([
      { path: '/', title: 'Home' },
      { path: '/products', title: 'Products' },
      { path: '/about', title: 'About Us' },
      { path: '/contact', title: 'Contact' }
    ])

    // åˆ†æè·¯å¾„ï¼Œæä¾›æ™ºèƒ½å»ºè®®
    onMounted(() =&gt; {
      const path = route.query.originalPath || ''
      
      // æå–å¯èƒ½çš„æœç´¢å…³é”®è¯
      const keywords = extractKeywords(path)
      
      // æŸ¥æ‰¾ç›¸å…³é¡µé¢
      if (keywords.length &gt; 0) {
        suggestions.value = findRelatedPages(keywords)
      }
      
      // å‘é€404äº‹ä»¶åˆ°åˆ†æå·¥å…·
      send404Analytics({
        path,
        referrer: document.referrer,
        suggestions: suggestions.value.length
      })
    })

    return {
      suggestions,
      popularPages
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
/* ç¡®ä¿æœç´¢å¼•æ“ä¸ä¼šç´¢å¼•404é¡µé¢ */
.not-found {
  /* è®¾ç½®é€‚å½“çš„HTTPçŠ¶æ€ç éœ€è¦æœåŠ¡å™¨ç«¯é…åˆ */
}

/* å¯¹äºå®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå¯ä»¥åœ¨å¤´éƒ¨æ·»åŠ metaæ ‡ç­¾ */
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server.js - Node.js/Express ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)
<span class="hljs-keyword">const</span> { createServer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> { renderToString } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@vue/server-renderer'</span>)
<span class="hljs-keyword">const</span> { createApp } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./app'</span>)

<span class="hljs-keyword">const</span> server = <span class="hljs-title function_">express</span>()

<span class="hljs-comment">// ä¸º404é¡µé¢è®¾ç½®æ­£ç¡®çš„HTTPçŠ¶æ€ç </span>
server.<span class="hljs-title function_">get</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res, next) =&gt; {
  <span class="hljs-keyword">const</span> { app, router } = <span class="hljs-title function_">createApp</span>()
  
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">push</span>(req.<span class="hljs-property">url</span>)
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>()
  
  <span class="hljs-keyword">const</span> matchedComponents = router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>.<span class="hljs-property">matched</span>
  
  <span class="hljs-keyword">if</span> (matchedComponents.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// è®¾ç½®404çŠ¶æ€ç </span>
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matchedComponents.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">comp</span> =&gt;</span> comp.<span class="hljs-property">name</span> === <span class="hljs-string">'NotFound'</span>)) {
    <span class="hljs-comment">// æ˜ç¡®è®¿é—®/404é¡µé¢æ—¶ï¼Œä¹Ÿè®¾ç½®404çŠ¶æ€ç </span>
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>)
  }
  
  <span class="hljs-keyword">const</span> html = <span class="hljs-keyword">await</span> <span class="hljs-title function_">renderToString</span>(app)
  
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;<span class="hljs-subst">${router.currentRoute.value.name === <span class="hljs-string">'NotFound'</span> ? <span class="hljs-string">'404 - Page Not Found'</span> : <span class="hljs-string">'My App'</span>}</span>&lt;/title&gt;
        &lt;meta name="robots" content="noindex, follow"&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div id="app"&gt;<span class="hljs-subst">${html}</span>&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  `</span>)
})
</code></pre>
<h4 data-id="heading-12">3.3 404é¡µé¢æ•°æ®åˆ†æä¸ç›‘æ§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/errorTracking.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ErrorTracker</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxErrors</span> = <span class="hljs-number">100</span>
  }

  <span class="hljs-comment">// è®°å½•404é”™è¯¯</span>
  <span class="hljs-title function_">track404</span>(<span class="hljs-params">path, referrer = <span class="hljs-string">''</span></span>) {
    <span class="hljs-keyword">const</span> error = {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'404'</span>,
      path,
      referrer,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>,
      <span class="hljs-attr">screenResolution</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.screen.width}</span>x<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.screen.height}</span>`</span>,
      <span class="hljs-attr">language</span>: navigator.<span class="hljs-property">language</span>
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>(error)
    
    <span class="hljs-comment">// é™åˆ¶å­˜å‚¨æ•°é‡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxErrors</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">shift</span>()
    }

    <span class="hljs-comment">// å‘é€åˆ°åˆ†ææœåŠ¡å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendToAnalytics</span>(error)
    
    <span class="hljs-comment">// å­˜å‚¨åˆ°localStorage</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveToLocalStorage</span>()
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`404 Error: <span class="hljs-subst">${path}</span> from <span class="hljs-subst">${referrer}</span>`</span>)
  }

  <span class="hljs-comment">// å‘é€åˆ°åç«¯åˆ†æ</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">sendToAnalytics</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/analytics/404'</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error)
      })
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to send 404 analytics:'</span>, err)
    }
  }

  <span class="hljs-comment">// è·å–404ç»Ÿè®¡</span>
  <span class="hljs-title function_">get404Stats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> last24h = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
    
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">total</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">last24h</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">timestamp</span>) &gt; last24h
      ).<span class="hljs-property">length</span>,
      <span class="hljs-attr">commonPaths</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMostCommonPaths</span>(),
      <span class="hljs-attr">commonReferrers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMostCommonReferrers</span>()
    }
  }

  <span class="hljs-comment">// è·å–æœ€å¸¸è§çš„404è·¯å¾„</span>
  <span class="hljs-title function_">getMostCommonPaths</span>(<span class="hljs-params">limit = <span class="hljs-number">10</span></span>) {
    <span class="hljs-keyword">const</span> pathCounts = {}
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      pathCounts[error.<span class="hljs-property">path</span>] = (pathCounts[error.<span class="hljs-property">path</span>] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    })
    
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(pathCounts)
      .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">[,a], [,b]</span>) =&gt;</span> b - a)
      .<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, limit)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[path, count]</span>) =&gt;</span> ({ path, count }))
  }

  <span class="hljs-comment">// ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨</span>
  <span class="hljs-title function_">saveToLocalStorage</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'404_errors'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>))
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to save 404 errors:'</span>, err)
    }
  }

  <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨åŠ è½½</span>
  <span class="hljs-title function_">loadFromLocalStorage</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'404_errors'</span>)
      <span class="hljs-keyword">if</span> (saved) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved)
      }
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load 404 errors:'</span>, err)
    }
  }
}

<span class="hljs-comment">// åœ¨Vueä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">app</span>) {
    <span class="hljs-keyword">const</span> tracker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ErrorTracker</span>()
    tracker.<span class="hljs-title function_">loadFromLocalStorage</span>()
    
    app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$errorTracker</span> = tracker
    
    <span class="hljs-comment">// è·¯ç”±é”™è¯¯å¤„ç†</span>
    app.<span class="hljs-property">config</span>.<span class="hljs-property">errorHandler</span> = <span class="hljs-function">(<span class="hljs-params">err, instance, info</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Vue error:'</span>, err, info)
      tracker.<span class="hljs-title function_">trackError</span>(err, info)
    }
  }
}
</code></pre>
<h3 data-id="heading-13">å››ã€å®ç”¨ç»„ä»¶åº“ï¼šå¯å¤ç”¨çš„404ç»„ä»¶</h3>
<h4 data-id="heading-14">4.1 åŸºç¡€404ç»„ä»¶</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/errors/Base404.vue --&gt;
&lt;template&gt;
  &lt;div class="base-404" :class="variant"&gt;
    &lt;div class="illustration"&gt;
      &lt;slot name="illustration"&gt;
        &lt;Default404Illustration /&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    
    &lt;div class="content"&gt;
      &lt;h1 class="title"&gt;
        &lt;slot name="title"&gt;
          {{ title }}
        &lt;/slot&gt;
      &lt;/h1&gt;
      
      &lt;p class="description"&gt;
        &lt;slot name="description"&gt;
          {{ description }}
        &lt;/slot&gt;
      &lt;/p&gt;
      
      &lt;div class="actions"&gt;
        &lt;slot name="actions"&gt;
          &lt;BaseButton 
            variant="primary" 
            @click="goHome"
          &gt;
            è¿”å›é¦–é¡µ
          &lt;/BaseButton&gt;
          &lt;BaseButton 
            variant="outline" 
            @click="goBack"
          &gt;
            è¿”å›ä¸Šä¸€é¡µ
          &lt;/BaseButton&gt;
        &lt;/slot&gt;
      &lt;/div&gt;
      
      &lt;div v-if="showSearch" class="search-container"&gt;
        &lt;SearchBar @search="handleSearch" /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { computed } from 'vue'
import { useRouter } from 'vue-router'
import BaseButton from '../ui/BaseButton.vue'
import SearchBar from '../ui/SearchBar.vue'
import Default404Illustration from './illustrations/Default404Illustration.vue'

export default {
  name: 'Base404',
  components: {
    BaseButton,
    SearchBar,
    Default404Illustration
  },
  props: {
    variant: {
      type: String,
      default: 'default',
      validator: (value) =&gt; ['default', 'compact', 'full'].includes(value)
    },
    title: {
      type: String,
      default: 'é¡µé¢ä¸å­˜åœ¨'
    },
    description: {
      type: String,
      default: 'æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢å¯èƒ½å·²è¢«åˆ é™¤æˆ–æš‚æ—¶ä¸å¯ç”¨ã€‚'
    },
    showSearch: {
      type: Boolean,
      default: true
    }
  },
  setup(props, { emit }) {
    const router = useRouter()
    
    const containerClass = computed(() =&gt; ({
      'base-404--compact': props.variant === 'compact',
      'base-404--full': props.variant === 'full'
    }))
    
    const goHome = () =&gt; {
      emit('go-home')
      router.push('/')
    }
    
    const goBack = () =&gt; {
      emit('go-back')
      if (window.history.length &gt; 1) {
        router.go(-1)
      } else {
        goHome()
      }
    }
    
    const handleSearch = (query) =&gt; {
      emit('search', query)
      router.push(`/search?q=${encodeURIComponent(query)}`)
    }
    
    return {
      containerClass,
      goHome,
      goBack,
      handleSearch
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.base-404 {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
  padding: 2rem;
  text-align: center;
}

.base-404--compact {
  min-height: 40vh;
  padding: 1rem;
}

.base-404--full {
  min-height: 80vh;
  padding: 3rem;
}

.illustration {
  margin-bottom: 2rem;
  max-width: 300px;
}

.base-404--compact .illustration {
  max-width: 150px;
  margin-bottom: 1rem;
}

.base-404--full .illustration {
  max-width: 400px;
  margin-bottom: 3rem;
}

.content {
  max-width: 500px;
}

.title {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: #333;
}

.base-404--compact .title {
  font-size: 1.5rem;
}

.base-404--full .title {
  font-size: 2.5rem;
}

.description {
  font-size: 1.1rem;
  color: #666;
  margin-bottom: 2rem;
  line-height: 1.6;
}

.actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-bottom: 2rem;
}

.search-container {
  max-width: 400px;
  margin: 0 auto;
}
&lt;/style&gt;
</code></pre>
<h4 data-id="heading-15">4.2 æ™ºèƒ½404ç»„ä»¶ï¼ˆå¸¦å†…å®¹æ¨èï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/errors/Smart404.vue --&gt;
&lt;template&gt;
  &lt;Base404 :variant="variant" :title="title" :description="description"&gt;
    &lt;template #illustration&gt;
      &lt;Animated404Illustration /&gt;
    &lt;/template&gt;
    
    &lt;template v-if="suggestions.length &gt; 0" #description&gt;
      &lt;div class="smart-description"&gt;
        &lt;p&gt;{{ description }}&lt;/p&gt;
        
        &lt;div class="suggestions"&gt;
          &lt;h3 class="suggestions-title"&gt;æ‚¨æ˜¯ä¸æ˜¯æƒ³æ‰¾ï¼š&lt;/h3&gt;
          &lt;ul class="suggestions-list"&gt;
            &lt;li 
              v-for="suggestion in suggestions" 
              :key="suggestion.id"
              @click="navigateTo(suggestion.path)"
              class="suggestion-item"
            &gt;
              {{ suggestion.title }}
              &lt;span v-if="suggestion.category" class="suggestion-category"&gt;
                {{ suggestion.category }}
              &lt;/span&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/template&gt;
    
    &lt;template #actions&gt;
      &lt;div class="smart-actions"&gt;
        &lt;BaseButton variant="primary" @click="goHome"&gt;
          è¿”å›é¦–é¡µ
        &lt;/BaseButton&gt;
        &lt;BaseButton variant="outline" @click="goBack"&gt;
          è¿”å›ä¸Šä¸€é¡µ
        &lt;/BaseButton&gt;
        &lt;BaseButton 
          v-if="canReport" 
          variant="ghost" 
          @click="reportError"
        &gt;
          æŠ¥å‘Šé—®é¢˜
        &lt;/BaseButton&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/Base404&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref, onMounted, computed } from 'vue'
import { useRoute } from 'vue-router'
import Base404 from './Base404.vue'
import Animated404Illustration from './illustrations/Animated404Illustration.vue'

export default {
  name: 'Smart404',
  components: {
    Base404,
    Animated404Illustration
  },
  props: {
    variant: {
      type: String,
      default: 'default'
    }
  },
  setup(props, { emit }) {
    const route = useRoute()
    const suggestions = ref([])
    const isLoading = ref(false)
    
    const originalPath = computed(() =&gt; 
      route.query.originalPath || route.params.pathMatch?.[0] || ''
    )
    
    const title = computed(() =&gt; {
      if (originalPath.value.includes('/products/')) {
        return 'å•†å“æœªæ‰¾åˆ°'
      } else if (originalPath.value.includes('/users/')) {
        return 'ç”¨æˆ·ä¸å­˜åœ¨'
      }
      return 'é¡µé¢ä¸å­˜åœ¨'
    })
    
    const description = computed(() =&gt; {
      if (originalPath.value.includes('/products/')) {
        return 'æ‚¨æŸ¥æ‰¾çš„å•†å“å¯èƒ½å·²ä¸‹æ¶æˆ–ä¸å­˜åœ¨ã€‚'
      }
      return 'æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢å¯èƒ½å·²è¢«åˆ é™¤æˆ–æš‚æ—¶ä¸å¯ç”¨ã€‚'
    })
    
    const canReport = computed(() =&gt; {
      // å…è®¸ç”¨æˆ·æŠ¥å‘Šå†…éƒ¨é“¾æ¥é”™è¯¯
      return originalPath.value.startsWith('/') &amp;&amp; 
             !originalPath.value.includes('//')
    })
    
    onMounted(async () =&gt; {
      isLoading.value = true
      
      try {
        // æ ¹æ®è®¿é—®è·¯å¾„è·å–æ™ºèƒ½å»ºè®®
        suggestions.value = await fetchSuggestions(originalPath.value)
      } catch (error) {
        console.error('Failed to fetch suggestions:', error)
      } finally {
        isLoading.value = false
      }
      
      // å‘é€åˆ†æäº‹ä»¶
      emit('page-not-found', {
        path: originalPath.value,
        referrer: document.referrer,
        suggestionsCount: suggestions.value.length
      })
    })
    
    const fetchSuggestions = async (path) =&gt; {
      // æ¨¡æ‹ŸAPIè°ƒç”¨
      return new Promise(resolve =&gt; {
        setTimeout(() =&gt; {
          const mockSuggestions = [
            { id: 1, title: 'çƒ­é—¨å•†å“æ¨è', path: '/products', category: 'å•†å“' },
            { id: 2, title: 'ç”¨æˆ·å¸®åŠ©ä¸­å¿ƒ', path: '/help', category: 'å¸®åŠ©' },
            { id: 3, title: 'æœ€æ–°æ´»åŠ¨', path: '/promotions', category: 'æ´»åŠ¨' }
          ]
          resolve(mockSuggestions)
        }, 500)
      })
    }
    
    const navigateTo = (path) =&gt; {
      emit('suggestion-click', path)
      window.location.href = path
    }
    
    const reportError = () =&gt; {
      emit('report-error', {
        path: originalPath.value,
        timestamp: new Date().toISOString()
      })
      
      // æ˜¾ç¤ºåé¦ˆè¡¨å•
      showFeedbackForm()
    }
    
    const goHome = () =&gt; emit('go-home')
    const goBack = () =&gt; emit('go-back')
    
    return {
      suggestions,
      isLoading,
      originalPath,
      title,
      description,
      canReport,
      navigateTo,
      reportError,
      goHome,
      goBack
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-16">äº”ã€æœ€ä½³å®è·µæ€»ç»“</h3>
<h4 data-id="heading-17">5.1 é…ç½®æ£€æŸ¥æ¸…å•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/config-validation.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateRouterConfig</span>(<span class="hljs-params">router</span>) {
  <span class="hljs-keyword">const</span> warnings = []
  <span class="hljs-keyword">const</span> errors = []
  
  <span class="hljs-keyword">const</span> routes = router.<span class="hljs-title function_">getRoutes</span>()
  
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰404è·¯ç”±</span>
  <span class="hljs-keyword">const</span> has404Route = routes.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> 
    route.<span class="hljs-property">path</span> === <span class="hljs-string">'/:pathMatch(.*)*'</span> || route.<span class="hljs-property">path</span> === <span class="hljs-string">'*'</span>
  )
  
  <span class="hljs-keyword">if</span> (!has404Route) {
    errors.<span class="hljs-title function_">push</span>(<span class="hljs-string">'ç¼ºå°‘404è·¯ç”±é…ç½®'</span>)
  }
  
  <span class="hljs-comment">// æ£€æŸ¥404è·¯ç”±æ˜¯å¦åœ¨æœ€å</span>
  <span class="hljs-keyword">const</span> lastRoute = routes[routes.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]
  <span class="hljs-keyword">if</span> (!lastRoute.<span class="hljs-property">path</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'(.*)'</span>) &amp;&amp; lastRoute.<span class="hljs-property">path</span> !== <span class="hljs-string">'*'</span>) {
    warnings.<span class="hljs-title function_">push</span>(<span class="hljs-string">'404è·¯ç”±åº”è¯¥æ”¾åœ¨è·¯ç”±é…ç½®çš„æœ€å'</span>)
  }
  
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„è·¯ç”±è·¯å¾„</span>
  <span class="hljs-keyword">const</span> pathCounts = {}
  routes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (route.<span class="hljs-property">path</span>) {
      pathCounts[route.<span class="hljs-property">path</span>] = (pathCounts[route.<span class="hljs-property">path</span>] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    }
  })
  
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(pathCounts).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[path, count]</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">1</span> &amp;&amp; !path.<span class="hljs-title function_">includes</span>(<span class="hljs-string">':'</span>)) {
      warnings.<span class="hljs-title function_">push</span>(<span class="hljs-string">`å‘ç°é‡å¤çš„è·¯ç”±è·¯å¾„: <span class="hljs-subst">${path}</span>`</span>)
    }
  })
  
  <span class="hljs-keyword">return</span> { warnings, errors }
}
</code></pre>
<h4 data-id="heading-18">5.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 404é¡µé¢æ‡’åŠ è½½ä¼˜åŒ–</span>
<span class="hljs-keyword">const</span> routes = [
  <span class="hljs-comment">// å…¶ä»–è·¯ç”±...</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(
      <span class="hljs-comment">/* webpackChunkName: "error-pages" */</span>
      <span class="hljs-comment">/* webpackPrefetch: true */</span>
      <span class="hljs-string">'@/views/errors/NotFound.vue'</span>
    )
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(
      <span class="hljs-comment">/* webpackChunkName: "error-pages" */</span>
      <span class="hljs-string">'@/views/errors/CatchAllNotFound.vue'</span>
    )
  }
]

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨åŠ¨æ€å¯¼å…¥å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">lazyLoadErrorPage</span>(<span class="hljs-params">type = <span class="hljs-string">'404'</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">`@/views/errors/<span class="hljs-subst">${type}</span>.vue`</span>)
}
</code></pre>
<h4 data-id="heading-19">5.3 å›½é™…åŒ–å’Œå¤šè¯­è¨€æ”¯æŒ</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å¤šè¯­è¨€404é¡µé¢ --&gt;
&lt;template&gt;
  &lt;div class="not-found"&gt;
    &lt;h1&gt;{{ $t('errors.404.title') }}&lt;/h1&gt;
    &lt;p&gt;{{ $t('errors.404.description') }}&lt;/p&gt;
    
    &lt;!-- æ ¹æ®è¯­è¨€æ˜¾ç¤ºä¸åŒçš„å¸®åŠ©å†…å®¹ --&gt;
    &lt;div class="localized-help"&gt;
      &lt;h3&gt;{{ $t('errors.404.help.title') }}&lt;/h3&gt;
      &lt;ul&gt;
        &lt;li v-for="tip in localizedTips" :key="tip"&gt;
          {{ tip }}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { computed } from 'vue'
import { useI18n } from 'vue-i18n'

export default {
  name: 'LocalizedNotFound',
  setup() {
    const { locale, t } = useI18n()
    
    const localizedTips = computed(() =&gt; {
      const tips = {
        'en': ['Check the URL', 'Use search', 'Visit homepage'],
        'zh': ['æ£€æŸ¥ç½‘å€', 'ä½¿ç”¨æœç´¢', 'è®¿é—®é¦–é¡µ'],
        'ja': ['URLã‚’ç¢ºèª', 'æ¤œç´¢ã‚’ä½¿ã†', 'ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¸']
      }
      return tips[locale.value] || tips.en
    })
    
    return {
      localizedTips
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-20">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-21">Q1: ä¸ºä»€ä¹ˆæˆ‘çš„404é¡µé¢è¿”å›200çŠ¶æ€ç ï¼Ÿ</h4>
<p><strong>åŸå› </strong>ï¼šå®¢æˆ·ç«¯æ¸²æŸ“çš„åº”ç”¨é»˜è®¤è¿”å›200ï¼Œéœ€è¦æœåŠ¡å™¨ç«¯é…åˆã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Nuxt.js è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-comment">// nuxt.config.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">render</span>: {
    <span class="hljs-comment">// ä¸º404é¡µé¢è®¾ç½®æ­£ç¡®çš„çŠ¶æ€ç </span>
    <span class="hljs-attr">ssr</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">router</span>: {
    <span class="hljs-comment">// è‡ªå®šä¹‰é”™è¯¯é¡µé¢</span>
    <span class="hljs-title function_">extendRoutes</span>(<span class="hljs-params">routes, resolve</span>) {
      routes.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">'404'</span>,
        <span class="hljs-attr">path</span>: <span class="hljs-string">'*'</span>,
        <span class="hljs-attr">component</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'pages/404.vue'</span>)
      })
    }
  }
}

<span class="hljs-comment">// åœ¨é¡µé¢ç»„ä»¶ä¸­</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">asyncData</span>(<span class="hljs-params">{ res }</span>) {
    <span class="hljs-keyword">if</span> (res) {
      res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>
    }
    <span class="hljs-keyword">return</span> {}
  },
  <span class="hljs-title function_">head</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'404 - Page Not Found'</span>
    }
  }
}
</code></pre>
<h4 data-id="heading-22">Q2: å¦‚ä½•æµ‹è¯•404é¡µé¢ï¼Ÿ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// tests/router/404.spec.js</span>
<span class="hljs-keyword">import</span> { mount } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> { createTestingPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'@pinia/testing'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/views/NotFound.vue'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'404 Page'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'should display 404 page for unknown routes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
      <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
      <span class="hljs-attr">routes</span>: [
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: { <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;div&gt;Home&lt;/div&gt;'</span> } },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span> }
      ]
    })
    
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">NotFound</span>, {
      <span class="hljs-attr">global</span>: {
        <span class="hljs-attr">plugins</span>: [router, <span class="hljs-title function_">createTestingPinia</span>()]
      }
    })
    
    <span class="hljs-comment">// å¯¼èˆªåˆ°ä¸å­˜åœ¨çš„è·¯ç”±</span>
    <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/non-existent-page'</span>)
    
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">'.error-code'</span>).<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">'404'</span>)
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">'.error-title'</span>).<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">'é¡µé¢ä¸å­˜åœ¨'</span>)
  })
  
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'should have back button functionality'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
      <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
      <span class="hljs-attr">routes</span>: [
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: { <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;div&gt;Home&lt;/div&gt;'</span> } },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>, <span class="hljs-attr">component</span>: { <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;div&gt;About&lt;/div&gt;'</span> } },
        { <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span> }
      ]
    })
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿæµè§ˆå™¨å†å²</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">window</span>, <span class="hljs-string">'history'</span>, {
      <span class="hljs-attr">value</span>: {
        <span class="hljs-attr">length</span>: <span class="hljs-number">2</span>
      }
    })
    
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">NotFound</span>, {
      <span class="hljs-attr">global</span>: {
        <span class="hljs-attr">plugins</span>: [router]
      }
    })
    
    <span class="hljs-comment">// æµ‹è¯•è¿”å›æŒ‰é’®</span>
    <span class="hljs-keyword">const</span> backButton = wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">'.btn-secondary'</span>)
    <span class="hljs-keyword">await</span> backButton.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">'click'</span>)
    
    <span class="hljs-comment">// åº”è¯¥è¿”å›åˆ°ä¸Šä¸€é¡µ</span>
    <span class="hljs-title function_">expect</span>(router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>.<span class="hljs-property">path</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">'/'</span>)
  })
})
</code></pre>
<h3 data-id="heading-23">æ€»ç»“ï¼šVue Router 404é…ç½®çš„æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>æ­£ç¡®é…ç½®è·¯ç”±</strong>ï¼šä½¿ç”¨ <code>/:pathMatch(.*)*</code> ä½œä¸ºæœ€åçš„catch-allè·¯ç”±</li>
<li><strong>æœåŠ¡å™¨çŠ¶æ€ç </strong>ï¼šç¡®ä¿404é¡µé¢è¿”å›æ­£ç¡®çš„HTTP 404çŠ¶æ€ç </li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šæä¾›æœ‰ç”¨çš„å¯¼èˆªé€‰é¡¹å’Œå†…å®¹å»ºè®®</li>
<li><strong>SEOä¼˜åŒ–</strong>ï¼šè®¾ç½®æ­£ç¡®çš„metaæ ‡ç­¾ï¼Œé¿å…æœç´¢å¼•æ“ç´¢å¼•404é¡µé¢</li>
<li><strong>ç›‘æ§åˆ†æ</strong>ï¼šè·Ÿè¸ª404é”™è¯¯ï¼Œäº†è§£ç”¨æˆ·è®¿é—®è·¯å¾„</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šä¸ºå›½é™…åŒ–åº”ç”¨æä¾›æœ¬åœ°åŒ–çš„404é¡µé¢</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šä½¿ç”¨æ‡’åŠ è½½ï¼Œé¿å…å½±å“ä¸»åŒ…å¤§å°</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šç¡®ä¿404åŠŸèƒ½åœ¨å„ç§åœºæ™¯ä¸‹æ­£å¸¸å·¥ä½œ</li>
</ol>
<p>è®°ä½ï¼šä¸€ä¸ªå¥½çš„404é¡µé¢ä¸ä»…æ˜¯é”™è¯¯å¤„ç†ï¼Œæ›´æ˜¯ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ç²¾å¿ƒè®¾è®¡çš„404é¡µé¢å¯ä»¥è½¬åŒ–æµå¤±çš„ç”¨æˆ·ï¼Œæä¾›æ›´å¥½çš„å“ç‰Œä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“ AI ä¼šå†™ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆâ€œç®¡â€å®ƒï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593771861323497498</link>    <guid>https://juejin.cn/post/7593771861323497498</guid>    <pubDate>2026-01-11T09:20:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323497498" data-draft-id="7593607642553384986" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“ AI ä¼šå†™ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆâ€œç®¡â€å®ƒï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-11T09:20:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœˆäº®æœ‰çŸ³å¤´"/> <meta itemprop="url" content="https://juejin.cn/user/3526889032395613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“ AI ä¼šå†™ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆâ€œç®¡â€å®ƒï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889032395613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœˆäº®æœ‰çŸ³å¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:20:08.000Z" title="Sun Jan 11 2026 09:20:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å½“ AI ä¼šå†™ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆâ€œç®¡â€å®ƒï¼Ÿ</h2>
<blockquote>
<p>æœ¬æ–‡ç›¸å…³çš„å·¥ç¨‹å®è·µä¸ç¤ºä¾‹ä»“åº“ï¼ˆGitHubï¼‰ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FcynthiaCh%2Fagent-engineering-playbook" target="_blank" title="https://github.com/cynthiaCh/agent-engineering-playbook" ref="nofollow noopener noreferrer">github.com/cynthiaCh/aâ€¦</a></p>
</blockquote>
<h3 data-id="heading-1">å¼•è¨€ï¼šAI ç¼–ç¨‹å·²ç»æ¥äº†ï¼Œä½†å®ƒæœ‰ç‚¹éš¾ç®¡</h3>
<p>æœ€è¿‘å¤§å®¶éƒ½åœ¨è®¨è®º AI ç¼–ç¨‹å·¥å…·ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>Cursor</strong></li>
<li><strong>Windsurf</strong></li>
<li><strong>Codex</strong></li>
<li><strong>Copilot</strong></li>
<li><strong>Aider</strong></li>
</ul>
<p>è¿™äº›å·¥å…·éƒ½èƒ½å†™ä»£ç ã€æœ‰æ—¶è¿˜èƒ½ä¿® bugã€ç”šè‡³èƒ½è‡ªå·±åšä»»åŠ¡è§„åˆ’ã€‚<br/>
ä½†ä¸€ä¸ªç°å®çš„é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p><strong>AI æœ‰èƒ½åŠ›å†™ä»£ç ï¼Œå´æ²¡æœ‰â€œå·¥ç¨‹çºªå¾‹â€ã€‚</strong></p>
</blockquote>
<p>å®ƒä¼šï¼š</p>
<ul>
<li>é‡æ„è¿‡å¤´</li>
<li>å¼•å…¥ä¸å¿…è¦ä¾èµ–</li>
<li>é£æ ¼ä¸ä¸€è‡´</li>
<li>å¿½ç•¥ä¸šåŠ¡è¯­ä¹‰</li>
<li>æ²¡åŠæ³•å‘Šè¯‰ä½ â€œä¸ºä»€ä¹ˆè¿™ä¹ˆæ”¹â€</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼š</p>
<blockquote>
<p><strong>ç”¨ AI ç¼–ç¨‹ï¼Œå¦‚æœæ²¡æœ‰æ²»ç†ï¼Œå®ƒå¯èƒ½æ¯”äººè¿˜è¦ä¹±ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ä¼ ç»Ÿæ€è·¯çš„é—®é¢˜ï¼šæŠŠè§„èŒƒå†™ç»™äººçœ‹</h3>
<p>åœ¨æ²¡æœ‰ AI çš„æ—¶å€™ï¼Œå·¥ç¨‹è§„èŒƒæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p>
<ul>
<li>README.md</li>
<li>CONTRIBUTING.md</li>
<li>ä»£ç é£æ ¼è§„èŒƒï¼ˆeslint/prettierï¼‰</li>
<li>API çº¦å®š</li>
<li>æ–‡æ¡£/Wiki</li>
</ul>
<p>è¿™äº›è§„èŒƒæ˜¯å†™ç»™ <strong>äºº</strong>çœ‹çš„ã€‚<br/>
äººèƒ½ç†è§£æŠ½è±¡ã€èƒ½æƒè¡¡å¦¥åã€èƒ½åœ¨å®¡æŸ¥æ—¶åˆ¤æ–­ã€‚</p>
<p>ğŸ¯ <strong>ä½† AI å´ä¸æ˜¯ã€‚</strong><br/>
AI éœ€è¦æ˜ç¡®ã€æœºæ¢°ã€å¯æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</p>
<p>è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>è§„èŒƒåˆ°åº•åº”è¯¥å†™ç»™è°ï¼Ÿ<br/>
äººï¼Ÿè¿˜æ˜¯ AIï¼Ÿ</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-3">å½“ AI æ˜¯â€œæ‰§è¡Œè€…â€è€Œä¸æ˜¯â€œåˆä½œè€…â€</h3>
<p>å¤§å¤šæ•° AI ç¼–ç¨‹å·¥å…·çš„æ ¸å¿ƒæ¨¡å¼æ˜¯ï¼š</p>
<ul>
<li>æ¨¡å‹ + prompt â†’ è¾“å‡ºä»£ç </li>
<li>å¦‚æœç»“åˆ IDEï¼Œè¿˜èƒ½è¯»ä»£ç ã€å†™ä»£ç ã€ç”šè‡³è¿è¡Œ</li>
</ul>
<p>è¿™äº›å·¥å…·éå¸¸å¼ºï¼Œä½†ä»–ä»¬éª¨å­é‡Œä»ç„¶å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li><strong>Prompt æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸å¯å®¡è®¡</strong></li>
<li><strong>å·¥å…·ç§æœ‰è§„åˆ™æ— æ³•è¿ç§»åˆ°å…¶ä»–å·¥å…·</strong></li>
</ol>
<p>æ¯”å¦‚ Cursor æœ‰ 500 å¤šè¡Œ Agent Promptï¼Œ<br/>
ç”¨æ¥å‘Šè¯‰ AIï¼š</p>
<ul>
<li>æ€ä¹ˆè§£é‡Šè§’è‰²</li>
<li>æ€ä¹ˆç†è§£å·¥å…·</li>
<li>æ€ä¹ˆæ‰§è¡Œä»»åŠ¡</li>
<li>æ€ä¹ˆä¸çŠ¯é”™</li>
</ul>
<p>ä½†è¿™äº›éƒ½æ˜¯â€œä¸´æ—¶æç¤ºè¯â€ï¼Œæ— æ³•ä½œä¸º<strong>å·¥ç¨‹èµ„äº§</strong>æ²‰æ·€ã€‚</p>
<h3 data-id="heading-4">æˆ‘çš„ç†è§£ï¼šAI ä¸è¯¥è¢«â€œPrompt é©±åŠ¨â€ï¼Œè€Œè¯¥è¢«â€œè§„èŒƒé©±åŠ¨â€</h3>
<p>åŸºäºè¿™ä¸ªæ€è€ƒï¼Œæˆ‘åšäº†ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š</p>
<p>ğŸ‘‰ <strong>agent-engineering-playbook</strong><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FcynthiaCh%2Fagent-engineering-playbook" target="_blank" title="https://github.com/cynthiaCh/agent-engineering-playbook" ref="nofollow noopener noreferrer">github.com/cynthiaCh/aâ€¦</a></p>
<p>å®ƒä¸æ˜¯â€œAI èƒ½åšä»€ä¹ˆâ€çš„è¯´æ˜ä¹¦ï¼Œ<br/>
è€Œæ˜¯ä¸€ä¸ª<strong>å·¥ç¨‹å±‚é¢çš„ AI ç¼–ç¨‹æ²»ç†æ‰‹å†Œ</strong>ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆï¼š</p>
<blockquote>
<p><strong>å½“ AI ä¼šå†™ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆçº¦æŸå®ƒã€ç®¡æ§å®ƒã€è®©å®ƒåœ¨å·¥ç¨‹é‡Œç¨³å®šè¿è¡Œï¼Ÿ</strong></p>
</blockquote>
<p>ç±»ä¼¼æ¦‚å¿µåŒ…æ‹¬ï¼š</p>
<ul>
<li>Engineering Governance</li>
<li>Agent Boundary Design</li>
<li>AI æ‰§è¡Œè¾¹ç•Œ</li>
</ul>
<h3 data-id="heading-5">æ ¸å¿ƒç†å¿µï¼šæŠŠè§„èŒƒå†™æˆå·¥ç¨‹èµ„äº§ï¼Œè€Œä¸æ˜¯ prompt</h3>
<p>æˆ‘ä»¬æå‡ºäº†å‡ ä¸ªå·¥ç¨‹æ²»ç†æ ¸å¿ƒåŸåˆ™ï¼š</p>
<h4 data-id="heading-6">âœ… 1. AGENTS.md æ˜¯å·¥ç¨‹èµ„äº§ï¼Œä¸æ˜¯ prompt</h4>
<p>å®ƒæ˜¯ä¸€ä¸ªæ˜¾æ€§çš„ã€å¯ç‰ˆæœ¬åŒ–ã€å¯å®¡è®¡çš„è§„èŒƒæ–‡ä»¶ã€‚</p>
<p>AI ä¸å†é  prompt çš„è¯­ä¹‰æ¨æ–­ï¼š</p>
<ul>
<li>â€œä½ å¿…é¡»å…ˆè¯»å–æ–‡ä»¶â€</li>
<li>â€œçœ‹åˆ°è¿™ä¸ªç›®å½•ç»“æ„æ‰å›ç­”â€</li>
<li>â€œä»£ç è¦æ»¡è¶³è¿™äº›å“è´¨è¦æ±‚â€</li>
</ul>
<p>è€Œæ˜¯<strong>æœ‰ä¸€å¥—çœŸå®ã€ç¨³å®šã€å·¥ç¨‹åŒ–çš„è§„åˆ™</strong>ã€‚</p>
<h4 data-id="heading-7">âœ… 2. è§„èŒƒä¸ä»…å†™è¦åšä»€ä¹ˆï¼Œè¿˜è¦å†™ä¸è¯¥åšä»€ä¹ˆ</h4>
<p>ä¸€ä¸ªçœŸæ­£çš„å·¥ç¨‹è§„èŒƒä¸æ˜¯ï¼š</p>
<blockquote>
<p>â€œè¯· AI å†™å¥½ä»£ç ã€‚â€</p>
</blockquote>
<p>è€Œæ˜¯ï¼š</p>
<blockquote>
<p>â€œå¦‚æœ AI æƒ³å†™ä»£ç ï¼Œè¦åŒæ—¶æ»¡è¶³è¿™äº›çº¦æŸæ¡ä»¶ã€‚â€</p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">MUST</span> <span class="hljs-variable constant_">NOT</span> introduce <span class="hljs-keyword">new</span> dependencies unless explicitly requested.
<span class="hljs-variable constant_">MUST</span> follow existing patterns first.
<span class="hljs-variable constant_">MUST</span> preserve semantic meaning <span class="hljs-keyword">in</span> code changes.
</code></pre>
<p>è¿™äº›éƒ½æ˜¯<strong>çº¦æŸæ¡ä»¶</strong>ï¼Œè€Œä¸æ˜¯ç®€å•çš„ä»»åŠ¡æè¿°ã€‚</p>
<h4 data-id="heading-8">âœ… 3. Semantic Mappingï¼ˆè¯­ä¹‰æ˜ å°„ï¼‰</h4>
<p>AI æœ€éš¾ææ¸…æ¥šçš„ä¸€ä»¶äº‹æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸šåŠ¡è¯­è¨€åº”è¯¥æ˜ å°„åˆ°å“ªä¸ªå·¥ç¨‹å±‚ï¼Ÿ</strong></p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>â€œçº¢è‰² = é£é™©ç‚¹â€</li>
<li>â€œè“è‰²ä¸å¤Ÿæ˜æ˜¾â€</li>
<li>â€œæµç¨‹å¤ªé•¿ï¼Œéœ€è¦å‹ç¼©â€</li>
</ul>
<p>è¿™äº›çœ‹èµ·æ¥æ˜¯â€œä¸šåŠ¡è¯â€ï¼Œ<br/>
çœŸæ­£å·¥ç¨‹åŒ–çš„å“åº”æ˜¯ï¼š</p>
<ul>
<li>ä¸è¦åœ¨é¡µé¢ç¡¬ç¼–ç é¢œè‰²</li>
<li>ä¿®æ”¹è¯­ä¹‰æ˜ å°„å±‚ï¼ˆsemantic token / color mappingï¼‰</li>
<li>ä¿®æ”¹ workflow çš„é…ç½®ï¼Œè€Œä¸æ˜¯éšä¾¿åˆ ä»£ç é€»è¾‘</li>
</ul>
<p>Semantic Mapping æ˜¯ä¸€ç§å·¥ç¨‹æŠ½è±¡å±‚ï¼Œ<br/>
å®ƒæ˜¯<strong>è®© AI åŒºåˆ†ä¸šåŠ¡æ„å›¾ä¸å·¥ç¨‹å®ç°çš„é‡è¦æ‰‹æ®µ</strong>ã€‚</p>
<h4 data-id="heading-9">âœ… 4. Definition of Doneï¼ˆéªŒæ”¶æ ‡å‡†ï¼‰</h4>
<p>ä¸€ä¸ªä»»åŠ¡å¦‚æœæ²¡æœ‰<strong>æ¸…æ™°çš„å®Œæˆæ ‡å‡†</strong>ï¼Œ<br/>
AI å¾ˆéš¾è¯„åˆ¤â€œä»€ä¹ˆæ—¶å€™çœŸæ­£åšå¥½äº†â€ã€‚</p>
<p>åœ¨ Playbook ä¸­ï¼Œæˆ‘ä»¬è¦æ±‚ï¼š</p>
<ul>
<li>â¯ æ‰€æœ‰å˜æ›´å¿…é¡»é€šè¿‡ç›¸åº”æµ‹è¯• / build</li>
<li>â¯ UI è¡Œä¸ºå¿…é¡»ä¸€è‡´ï¼ˆloading / empty / errorï¼‰</li>
<li>â¯ ä¸å¼•å…¥æœªæˆæƒçš„ä¾èµ–</li>
<li>â¯ åˆ—å‡ºä¿®æ”¹æ¸…å• + éªŒè¯æ­¥éª¤</li>
<li>â¯ æä¾›æ½œåœ¨é£é™©æç¤º</li>
</ul>
<p>è¿™èƒ½æŠŠâ€œå·¥ç¨‹å®Œæˆåˆ¤æ–­â€ä»æ¨¡ç³Šå˜å¾—å¯æ‰§è¡Œã€‚</p>
<h3 data-id="heading-10">å’Œç°æœ‰ AI å·¥å…·æ¯”èµ·æ¥æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h3>








































<table><thead><tr><th>ç»´åº¦</th><th>Cursor / Windsurf Prompt</th><th>AGENTS.md Playbook</th></tr></thead><tbody><tr><td>é€‚ç”¨å¯¹è±¡</td><td>æŸä¸ªå…·ä½“å·¥å…·</td><td>è·¨å·¥å…·</td></tr><tr><td>ç»‘å®šæ€§</td><td>å¼º</td><td>æ¾</td></tr><tr><td>å¯å®¡è®¡æ€§</td><td>ä½</td><td>é«˜</td></tr><tr><td>å¯å¤ç”¨æ€§</td><td>ä½</td><td>é«˜</td></tr><tr><td>ç»„ç»‡å…±äº«</td><td>éš¾</td><td>å®¹æ˜“</td></tr><tr><td>ç‰ˆæœ¬æ§åˆ¶</td><td>ä¸å‹å¥½</td><td>å‹å¥½</td></tr></tbody></table>
<p>ä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>Prompt æ˜¯æ‰§è¡Œå±‚é¢çš„çº¦æŸ</li>
<li>Playbook æ˜¯<strong>æ¶æ„å±‚é¢çš„æ²»ç†</strong></li>
</ul>
<p>è¿™ä¸æ˜¯æ›´éš¾ã€æ›´å¤æ‚ï¼Œ<br/>
è€Œæ˜¯<strong>æ›´ç¨³ã€æ›´å·¥ç¨‹åŒ–ã€å¯æŒç»­</strong>ã€‚</p>
<h3 data-id="heading-11">å®è·µå»ºè®®ï¼šæ€ä¹ˆç”¨è¿™å¥— Playbook</h3>
<h4 data-id="heading-12">ğŸ“Œ 1. æŠŠ Playbook æ”¾å…¥ä»“åº“</h4>
<ul>
<li>AGENTS.md</li>
<li>patterns/</li>
<li>tools/</li>
</ul>
<p>æ¨èåªæœ¬åœ°ï¼Œä¸æäº¤ç‰ˆæœ¬æ§åˆ¶ï¼ˆæˆ–åŒæ­¥åˆ°ä¸»ä»“ï¼‰ã€‚</p>
<h4 data-id="heading-13">ğŸ“Œ 2. åœ¨å›¢é˜Ÿå†…éƒ¨ workshop</h4>
<p>ç»„ç»‡ä¸€åœºå°èŒƒå›´ workshopï¼š</p>
<blockquote>
<p>â€œå½“ä½ è®© AI å†™ä»£ç æ—¶ï¼Œå®ƒåº”è¯¥éµå¾ªä»€ä¹ˆè§„åˆ™ï¼Ÿâ€</p>
</blockquote>
<p>ç”¨ Playbook åšè®¨è®ºæ¨¡æ¿ã€‚</p>
<h4 data-id="heading-14">ğŸ“Œ 3. æŒç»­è¿­ä»£</h4>
<p>éšç€ AI å·¥å…·æ¼”è¿›ï¼Œä½ çš„ Playbook ä¹Ÿåº”æ›´æ–°ã€‚</p>
<h3 data-id="heading-15">ç»“è¯­ï¼šAI ç¼–ç¨‹æ˜¯å·¥å…·ï¼Œä½†å·¥ç¨‹æ²»ç†æ˜¯æŠ€èƒ½</h3>
<p>AI å†™ä»£ç åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œ<br/>
çœŸæ­£æŒ‘æˆ˜ä¸æ˜¯å®ƒèƒ½å†™ä»€ä¹ˆï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>å®ƒå†™çš„ä¸œè¥¿ï¼Œæ˜¯æˆ‘ä»¬å¯ä»¥é•¿æœŸç»´æŠ¤çš„å—ï¼Ÿ</strong></p>
</blockquote>
<p>è¿™æ‰æ˜¯è·¨è¶Šå·¥å…·ã€è·¨è¶Šæ¨¡å‹çš„çœŸæ­£å·¥ç¨‹é—®é¢˜ã€‚</p>
<p>ä½ å¯ä»¥ä»è¿™ä¸ªå¼€æºé¡¹ç›®å¼€å§‹ï¼š</p>
<p>ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FcynthiaCh%2Fagent-engineering-playbook" target="_blank" title="https://github.com/cynthiaCh/agent-engineering-playbook" ref="nofollow noopener noreferrer">github.com/cynthiaCh/aâ€¦</a></p>
<p>æœŸå¾…ä½ ä¹ŸåŠ å…¥è¿™ä¸ªæ­£åœ¨é…é…¿çš„å·¥ç¨‹å®è·µåœˆå­ ğŸ’¡</p>
<blockquote>
<p>å¦‚æœä½ å¯¹ AI ç¼–ç¨‹æ²»ç†ã€é«˜å¯é æ€§ AI å·¥ç¨‹æ„Ÿå…´è¶£ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠè¿™ä»¶äº‹åšå¥½ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½¯ä»¶æ¶æ„æŒ‡å— Software Architecture Guide]]></title>    <link>https://juejin.cn/post/7593742881140015113</link>    <guid>https://juejin.cn/post/7593742881140015113</guid>    <pubDate>2026-01-11T09:21:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593742881140015113" data-draft-id="7593607642553401370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½¯ä»¶æ¶æ„æŒ‡å— Software Architecture Guide"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T09:21:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½¯ä»¶æ¶æ„æŒ‡å— Software Architecture Guide
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:21:36.000Z" title="Sun Jan 11 2026 09:21:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å†…å®¹æ•´ç†æ¥æºé©¬ä¸ç¦å‹’(martinfowler)ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.martinfowler.com%2Farchitecture%2F" target="_blank" title="https://www.martinfowler.com/architecture/" ref="nofollow noopener noreferrer">www.martinfowler.com/architecturâ€¦</a></p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯æ¶æ„</h2>
<p>è½¯ä»¶æ¶æ„æ²¡æœ‰ç»å¯¹å®¢è§‚çš„å®šä¹‰ï¼Œä¼ ç»Ÿå®šä¹‰å¦‚â€œç³»ç»Ÿçš„åŸºæœ¬ç»„ç»‡â€æˆ–â€œæ—©æœŸå¿…é¡»åšå‡ºçš„è®¾è®¡å†³ç­–â€éƒ½å­˜åœ¨ä¸»è§‚æ€§å’Œå±€é™æ€§ã€‚</p>
<p>æ¶æ„ä¸æ˜¯ç”±â€œé«˜å±‚â€æˆ–â€œåŸºç¡€â€ç»„ä»¶å†³å®šçš„ï¼Œæ¶æ„æ˜¯ä¸€ç§ç¤¾ä¼šå»ºæ„ï¼Œä¾èµ–äºä¸“å®¶å¼€å‘è€…ä¹‹é—´çš„å…±åŒç†è§£ï¼Œè€ŒéæŸä¸ªæƒå¨çš„è“å›¾ã€‚</p>
<p>æ¶æ„ = å›¢é˜Ÿå…±è¯†ä¸­â€œé‡è¦çš„äº‹â€ â€”â€” ä¸æ˜¯æŠ€æœ¯æœ¬èº«å†³å®šä»€ä¹ˆæ˜¯æ¶æ„ï¼Œè€Œæ˜¯å¼€å‘å›¢é˜Ÿè®¤ä¸ºå“ªäº›éƒ¨åˆ†é‡è¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d1686ddc484f63b90167ee00a15383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=LNdiD%2BsPDooIhfmMrHBMSHuaQEE%3D" alt="" loading="lazy"/></p>
<p>æ¶æ„å…³ä¹é‡è¦çš„ä¸œè¥¿â€”â€”æ— è®ºé‚£æ˜¯ä»€ä¹ˆã€‚çœŸæ­£å®šä¹‰æ¶æ„çš„ï¼Œæ˜¯â€œéš¾ä»¥æ”¹å˜â€çš„ä¸œè¥¿ï¼›ä¸€æ—¦æŸä»¶äº‹å˜å¾—å®¹æ˜“ä¿®æ”¹ï¼Œå®ƒå°±ä¸å†æ˜¯æ¶æ„é—®é¢˜</p>
<p>æ¶æ„çš„æœ¬è´¨åœ¨äºè¯†åˆ«å’Œç»´æŠ¤â€œé‡è¦æ€§â€ï¼šè½¯ä»¶ä¸åƒå»ºç­‘é‚£æ ·å—ç‰©ç†å®šå¾‹çš„é™åˆ¶ã€‚å®ƒå—é™äºæƒ³è±¡åŠ›ã€è®¾è®¡å’Œç»„ç»‡æ–¹å¼ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒå—é™äºäººçš„ç‰¹æ€§ï¼Œè€Œéä¸–ç•Œçš„ç‰¹æ€§ã€‚</p>
<p>è½¯ä»¶æ¶æ„ = å›¢é˜Ÿå…±è¯†ä¸­è¢«è®¤å®šä¸ºâ€œé‡è¦â€çš„è®¾è®¡è¦ç´ ï¼ŒåŠå…¶æŒç»­æ²»ç†</p>
<h2 data-id="heading-1">2. ä¸ºä»€ä¹ˆæ¶æ„å¦‚æ­¤é‡è¦</h2>
<p>è½¯ä»¶æ¶æ„å¯¹ç”¨æˆ·ä¸å¯è§ï¼Œä½†è‡³å…³é‡è¦ï¼šç”¨æˆ·è™½æ„ŸçŸ¥ä¸åˆ°æ¶æ„å¥½åï¼Œä½†ç³Ÿç³•çš„æ¶æ„ä¼šè¿…é€Ÿç§¯ç´¯â€œcruftâ€ï¼ˆæŠ€æœ¯æ‚è´¨ï¼‰ï¼Œä½¿ä»£ç éš¾ä»¥ç†è§£ä¸ä¿®æ”¹ã€‚</p>
<p>cruft çš„å±å®³ï¼šå¯¼è‡´å¼€å‘æ•ˆç‡ä¸‹é™ã€æ–°åŠŸèƒ½äº¤ä»˜å˜æ…¢ã€ç¼ºé™·å¢å¤šï¼Œæœ€ç»ˆæ‹–ç´¯äº§å“æ¼”è¿›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99e9adc5da024fd1b4125cc58e344bd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=5cqBqHOqx8etbs1ldbXD3qqqLTE%3D" alt="" loading="lazy"/></p>
<p>ä¸â€œé«˜è´¨é‡=é«˜æˆæœ¬â€çš„å¸¸è¯†ä¸åŒï¼Œé«˜å†…éƒ¨è´¨é‡ï¼ˆå¦‚è‰¯å¥½æ¶æ„ï¼‰åè€ŒåŠ é€Ÿå¼€å‘ï¼Œå› ä¸ºå‡å°‘äº†é˜»ç¢ã€‚</p>
<p>è™½ç„¶åˆæœŸå¯å¿«é€Ÿäº¤ä»˜ï¼Œä½† cruftï¼ˆå¸¸è¯‘ä¸ºâ€˜æŠ€æœ¯æ‚è´¨â€™æˆ–â€˜ä»£ç è…åŒ–â€™ï¼ŒæŒ‡å› å¿½è§†å†…éƒ¨è´¨é‡è€Œç§¯ç´¯çš„ç¼ºé™·ï¼‰ çš„è´Ÿé¢å½±å“æ¥å¾—æå¿«</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f4cb7d3d12a4519ac4c92e61b365712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=z8gHzuMtbKqRQV2IGn1MeD9AoBc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">2.1. æŠ€æœ¯å€ºåŠ¡</h3>
<p>è½¯ä»¶ç³»ç»Ÿå®¹æ˜“ç§¯ç´¯æ‚è´¨ â€”â€”å†…éƒ¨è´¨é‡çš„ç¼ºé™·ï¼Œä½¿å¾—è¿›ä¸€æ­¥ä¿®æ”¹å’Œæ‰©å±•ç³»ç»Ÿæ¯”ç†æƒ³æƒ…å†µä¸‹æ›´å›°éš¾ã€‚</p>
<p>æŠ€æœ¯å€ºåŠ¡æ˜¯ä¸€ä¸ªéšå–»ï¼Œç”±æ²ƒå¾·Â·åå®å®‰æå‡ºï¼Œç”¨æ¥æè¿°å¦‚ä½•æ€è€ƒå¤„ç†è¿™äº›åƒåœ¾ï¼ŒæŠŠå®ƒå½“ä½œä¸€ç¬”é‡‘èå€ºåŠ¡æ¥çœ‹å¾…ã€‚å¢åŠ æ–°åŠŸèƒ½æ‰€éœ€çš„é¢å¤–åŠªåŠ›å°±æ˜¯å¿è¿˜å€ºåŠ¡çš„åˆ©æ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ce9252202344e24a9b200cbffd3eb5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=fAdvosrJHOvMaMZIA3DihUqtvhU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2.2. <strong>é«˜è´¨é‡ä¸ç­‰äºæ›´é«˜æˆæœ¬</strong></h3>
<p>æå‡å†…éƒ¨è´¨é‡ï¼ˆå¿è¿˜æœ¬é‡‘ï¼‰è™½çŸ­æœŸè€—æ—¶ï¼Œä½†é•¿æœŸæ˜¾è‘—é™ä½æ–°åŠŸèƒ½å¼€å‘æˆæœ¬ã€‚</p>
<p>è¯¯åŒºï¼šè®¤ä¸ºâ€œå…ˆåšåŠŸèƒ½ï¼Œè´¨é‡ä»¥åå†è¯´â€èƒ½åŠ é€Ÿäº¤ä»˜â€”â€”å®é™…ä¸Š cruft ä¼šè¿…é€Ÿæ‹–æ…¢å¼€å‘é€Ÿåº¦ï¼Œå‡ å‘¨å†…å°±æ˜¾ç°è´Ÿé¢å½±å“ï¼ˆè¿œå¿«äºé¢„æœŸï¼‰</p>
<p><strong>å®¡æ…å€ºåŠ¡</strong>ï¼šæ˜çŸ¥æœ‰ä»£ä»·ï¼Œä½†ä¸ºç´§æ€¥éœ€æ±‚ä¸»åŠ¨æ‰¿æ‹…ï¼Œå¹¶è®¡åˆ’åç»­å¿è¿˜ã€‚</p>
<p>é²è½å€ºåŠ¡ï¼šå› å¿½è§†è´¨é‡æˆ–èƒ½åŠ›ä¸è¶³è€Œç§¯ç´¯ï¼Œæ— å¿è¿˜è®¡åˆ’ï¼Œæœ€ç»ˆå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç»´æŠ¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c73e886a5914d6987bb6f18d9e754ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=g1uvibzW9nBdR2QP7JI%2Fqqx8Byo%3D" alt="" loading="lazy"/></p>
<p>æŠ€æœ¯å€ºåŠ¡ä¸æ˜¯å€Ÿå£ï¼Œè€Œæ˜¯å†³ç­–æ¡†æ¶ï¼šçŸ­æœŸå¯å€Ÿå€ºï¼Œä½†å¿…é¡»ä¸»åŠ¨ç®¡ç†ï¼›é•¿æœŸçœ‹ï¼ŒæŒç»­å¿è¿˜â€œæœ¬é‡‘â€ï¼ˆæå‡è´¨é‡ï¼‰æ˜¯å”¯ä¸€å¯æŒç»­çš„é«˜æ•ˆå¼€å‘ä¹‹é“</p>
<h3 data-id="heading-4">2.3. <strong>å†…éƒ¨è´¨é‡è‡³å…³é‡è¦</strong></h3>
<p>å®¢æˆ·æ— æ³•æ„ŸçŸ¥ä»£ç æ¶æ„å¥½åï¼Œä½†å†…éƒ¨è´¨é‡ç›´æ¥å†³å®šå›¢é˜Ÿæ·»åŠ æ–°åŠŸèƒ½çš„é€Ÿåº¦ä¸ç¨³å®šæ€§ã€‚ç‰ºç‰²è´¨é‡çœ‹ä¼¼åŠ é€ŸåˆæœŸäº¤ä»˜ï¼Œä½†å‡ å‘¨å†…å°±ä¼šè¢« cruft æ‹–å®ï¼Œè¿œå¿«äºå¤šæ•°äººé¢„æœŸ</p>
<p>è½¯ä»¶å¼€å‘æœ¬è´¨æ˜¯æ¢ç´¢ï¼šéœ€æ±‚æ¨¡ç³Šã€æŠ€æœ¯æ¼”è¿›å¿«ï¼Œæ¶æ„æ€»æ˜¯åœ¨â€œäº‹åæ‰çœ‹æ¸…â€ã€‚ä¼˜ç§€å›¢é˜Ÿçš„å·®åˆ«ï¼š</p>
<ul>
<li>ä¸æ˜¯ä¸äº§ cruftï¼Œè€Œæ˜¯æŒç»­æ¸…ç†ï¼ˆé‡æ„ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€CIï¼‰ï¼›</li>
<li>åƒå¨æˆ¿åšé¥­åç«‹å³æ¸…æ´â€”â€”é˜²æ­¢æ±¡å¢å¹²æ¶¸å˜éš¾å¤„ç†ã€‚</li>
</ul>
<p>è½¯ä»¶çš„å†…éƒ¨è´¨é‡ä¸æ˜¯å¥¢ä¾ˆå“ï¼Œè€Œæ˜¯æ•ˆç‡å¼•æ“â€”â€”å¿½è§†å®ƒï¼ŒçŸ­æœŸçœ‹ä¼¼çœæ—¶ï¼Œå®åˆ™è¿…é€Ÿé™·å…¥æ³¥æ½­ï¼›æŠ•èµ„å®ƒï¼Œè™½æœ‰å¾®å°å‰æœŸæˆæœ¬ï¼Œå´æ¢æ¥é•¿æœŸä½æˆæœ¬ã€é«˜é€Ÿåº¦ã€é«˜ç«äº‰åŠ›ã€‚</p>
<h2 data-id="heading-5">3. å¾®æœåŠ¡</h2>
<h3 data-id="heading-6">3.1. å¾®æœåŠ¡å‰ç½®æ¡ä»¶</h3>
<p>å¾®æœåŠ¡è™½å¸¦æ¥å¼€å‘ä¸Šçš„æ¨¡å—åŒ–ä¼˜åŠ¿ï¼Œä½†æ˜¾è‘—å¢åŠ è¿ç»´å¤æ‚åº¦ï¼›è‹¥ç¼ºä¹å¿…è¦çš„å·¥ç¨‹ä¸è¿ç»´åŸºç¡€èƒ½åŠ›ï¼ˆå¦‚è‡ªåŠ¨åŒ–ã€ç›‘æ§ã€DevOpsåä½œç­‰ï¼‰ï¼Œä¸åº”è´¸ç„¶é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ã€‚</p>
<p>å¾®æœåŠ¡ä¸æ˜¯â€œå¼€ç®±å³ç”¨â€çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯æœ‰é—¨æ§›çš„æ¶æ„é€‰æ‹©â€”â€”èƒ½åŠ›ä¸è¶³æ—¶ï¼Œæ‹†åˆ†ä¼šå¸¦æ¥æ›´å¤§é£é™©</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21111eda21264c43a04b80682a58f34a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=tcjzh827YN9gbVpv93eHtgRIjnc%3D" alt="" loading="lazy"/></p>
<p>ä»ç®¡ç†ä¸€ä¸ªå•ä½“åº”ç”¨å˜ä¸ºç»´æŠ¤ä¸€ä¸ªåˆ†å¸ƒå¼æœåŠ¡ç”Ÿæ€ç³»ç»Ÿã€‚é‡‡ç”¨å¾®æœåŠ¡å‰å¿…é¡»å…·å¤‡ä¸‰é¡¹åŸºç¡€èƒ½åŠ›ï¼š</p>
<p>å¿«é€Ÿé…ç½®ï¼ˆRapid Provisioningï¼‰ï¼šçŸ­æ—¶å†…èƒ½å¯åŠ¨æ–°æœåŠ¡å®ä¾‹ï¼Œä¾èµ–é«˜åº¦è‡ªåŠ¨åŒ–ã€‚</p>
<p>åŸºç¡€ç›‘æ§ï¼ˆBasic Monitoringï¼‰ï¼šèƒ½å¿«é€Ÿå‘ç°æŠ€æœ¯ä¸ä¸šåŠ¡å¼‚å¸¸ï¼Œå¹¶æ”¯æŒå¿«é€Ÿå›æ»šã€‚</p>
<p>å¿«é€Ÿéƒ¨ç½²ï¼ˆRapid Deploymentï¼‰ï¼šé€šè¿‡éƒ¨ç½²æµæ°´çº¿åœ¨æ•°å°æ—¶å†…å®Œæˆæµ‹è¯•/ç”Ÿäº§å‘å¸ƒï¼Œé€æ­¥å®ç°å…¨è‡ªåŠ¨åŒ–ã€‚</p>
<p>è¿™äº›èƒ½åŠ›è¦æ±‚ç»„ç»‡æ–‡åŒ–è½¬å‹â€”â€”æ‹¥æŠ± DevOpsï¼šå¼€å‘ä¸è¿ç»´å¿…é¡»ç´§å¯†åä½œï¼Œå…±åŒåº”å¯¹æ•…éšœã€è¿›è¡Œæ ¹å› åˆ†æå’ŒæŒç»­æ”¹è¿›ã€‚å»ºè®®æ¸è¿›å¼æ¼”è¿›ï¼š</p>
<ul>
<li>ä»å°‘é‡å¾®æœåŠ¡å¼€å§‹ï¼Œåœ¨ç”Ÿäº§ä¸­éªŒè¯æµç¨‹ä¸åä½œï¼›</li>
<li>å…ˆæ„å»ºèƒ½åŠ›ï¼Œå†æ‰©å¤§è§„æ¨¡ï¼›åˆ‡å‹¿åœ¨ä¸å…·å¤‡åŸºç¡€èƒ½åŠ›æ—¶ç›²ç›®æ‹†åˆ†ã€‚</li>
</ul>
<p>è¿™äº›èƒ½åŠ›å¯¹å•ä½“ç³»ç»ŸåŒæ ·é‡è¦ï¼šè‡ªåŠ¨åŒ–ã€ç›‘æ§ã€æŒç»­äº¤ä»˜åº”æ˜¯æ‰€æœ‰ç°ä»£è½¯ä»¶å›¢é˜Ÿçš„é«˜ä¼˜å…ˆçº§ç›®æ ‡ã€‚å¤§è§„æ¨¡å¾®æœåŠ¡éœ€è¦æ›´é«˜é˜¶èƒ½åŠ›ï¼š</p>
<ul>
<li>è·¨æœåŠ¡çš„åˆ†å¸ƒå¼è¿½è¸ªï¼›</li>
<li>å…¨é¢çš„æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼‰ï¼›</li>
<li>ä»¥äº§å“ä¸ºä¸­å¿ƒçš„å›¢é˜Ÿç»“æ„ï¼›</li>
<li>æ”¯æŒå¤šä»“åº“ã€å¤šè¯­è¨€çš„å¼€å‘ç¯å¢ƒï¼›</li>
<li>æœªæ¥å¯èƒ½å½¢æˆå¾®æœåŠ¡æˆç†Ÿåº¦æ¨¡å‹ï¼ŒæŒ‡å¯¼ç»„ç»‡æ¼”è¿›ã€‚</li>
</ul>
<p>å¾®æœåŠ¡çš„æˆåŠŸä¸å–å†³äºæŠ€æœ¯æœ¬èº«ï¼Œè€Œå–å†³äºç»„ç»‡æ˜¯å¦å…·å¤‡è‡ªåŠ¨åŒ–ã€ç›‘æ§ã€éƒ¨ç½²å’Œ DevOps åä½œç­‰åŸºç¡€å·¥ç¨‹èƒ½åŠ›â€”â€”æ²¡æœ‰è¿™äº›ï¼Œå¾®æœåŠ¡åªä¼šæ”¾å¤§æ··ä¹±</p>
<h3 data-id="heading-7">3.2. å¾®æœåŠ¡ä»‹ç»</h3>
<h4 data-id="heading-8">3.2.1. <strong>å¾®æœåŠ¡çš„æ ¸å¿ƒå®šä¹‰</strong></h4>
<p>å¾®æœåŠ¡æ¶æ„é£æ ¼æ˜¯ä¸€ç§å°†å•ä¸ªåº”ç”¨å¼€å‘ä¸ºä¸€ç»„å°å‹æœåŠ¡çš„æ–¹æ³•ï¼Œæ¯ä¸ªæœåŠ¡å„è‡ªè¿è¡Œäºè‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶é€šè¿‡è½»é‡çº§æœºåˆ¶ï¼ˆé€šå¸¸æ˜¯ HTTP èµ„æº APIï¼‰è¿›è¡Œé€šä¿¡ã€‚</p>
<p>è¿™äº›æœåŠ¡å›´ç»•ä¸šåŠ¡èƒ½åŠ›æ„å»ºï¼Œå¹¶å¯ç”±å…¨è‡ªåŠ¨éƒ¨ç½²æµæ°´çº¿ç‹¬ç«‹éƒ¨ç½²ã€‚ è¿™äº›æœåŠ¡ä»…æœ‰æœ€ä½é™åº¦çš„é›†ä¸­ç®¡ç† ï¼Œè¿™äº›æœåŠ¡å¯èƒ½ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œå¹¶ä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cc699d671154f7f9edf056cd3a16ba3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=HtiFPb8lPb94MV8AMV15XrTg14I%3D" alt="" loading="lazy"/></p>
<p>å…³é”®ç‰¹æ€§ï¼š</p>
<ul>
<li>é€šè¿‡è½»é‡çº§é€šä¿¡æœºåˆ¶ï¼ˆå¦‚ HTTP APIï¼‰äº¤äº’ï¼›</li>
<li>å›´ç»•ä¸šåŠ¡èƒ½åŠ›ç»„ç»‡ï¼›</li>
<li>å¯ç‹¬ç«‹éƒ¨ç½²ï¼Œä¾èµ–å…¨è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æµç¨‹ï¼›</li>
<li>å»ä¸­å¿ƒåŒ–æ²»ç†ï¼šå…è®¸ä½¿ç”¨ä¸åŒè¯­è¨€ã€æ•°æ®åº“å’ŒæŠ€æœ¯æ ˆï¼›</li>
<li>æœ€å°åŒ–é›†ä¸­ç®¡ç†ã€‚</li>
</ul>
<h4 data-id="heading-9">3.2.2. <strong>å¾®æœåŠ¡çš„å…¸å‹ç‰¹å¾</strong></h4>
<p>é€šè¿‡æœåŠ¡å®ç°ç»„ä»¶åŒ–</p>
<ul>
<li>ç»„ä»¶ = ç‹¬ç«‹å¯æ›¿æ¢/å‡çº§çš„å•å…ƒï¼›</li>
<li>æœåŠ¡ï¼ˆè¿›ç¨‹å¤–ï¼‰ä¼˜äºåº“ï¼ˆè¿›ç¨‹å†…ï¼‰ï¼Œå› æ”¯æŒç‹¬ç«‹éƒ¨ç½²ã€‚</li>
</ul>
<p>å›´ç»•ä¸šåŠ¡èƒ½åŠ›ç»„ç»‡</p>
<ul>
<li>å›¢é˜ŸæŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†ï¼ˆå¦‚â€œè®¢å•â€ã€â€œç”¨æˆ·â€ï¼‰ï¼Œè€ŒéæŠ€æœ¯å±‚ï¼›</li>
<li>å›¢é˜Ÿå…¨æ ˆè´Ÿè´£ï¼ˆå‰ç«¯ã€åç«¯ã€DBã€è¿ç»´ï¼‰ã€‚</li>
</ul>
<p>äº§å“æ€ç»´ï¼Œéé¡¹ç›®æ€ç»´</p>
<ul>
<li>â€œYou build it, you run itâ€ï¼šå›¢é˜Ÿå¯¹æœåŠ¡å…¨ç”Ÿå‘½å‘¨æœŸè´Ÿè´£ï¼›</li>
<li>å»ºç«‹å¼€å‘è€…ä¸ç”¨æˆ·çš„ç›´æ¥åé¦ˆé—­ç¯ã€‚</li>
</ul>
<p>æ™ºèƒ½ç«¯ç‚¹ + å“‘ç®¡é“ï¼ˆSmart Endpoints &amp; Dumb Pipesï¼‰</p>
<ul>
<li>ä¸šåŠ¡é€»è¾‘åœ¨æœåŠ¡å†…éƒ¨ï¼ˆæ™ºèƒ½ç«¯ç‚¹ï¼‰ï¼›</li>
<li>é€šä¿¡æœºåˆ¶æç®€ï¼ˆHTTP/RESTã€è½»é‡æ¶ˆæ¯ï¼‰ï¼Œé¿å… ESB å¼å¤æ‚ä¸­é—´ä»¶ã€‚</li>
</ul>
<p>å»ä¸­å¿ƒåŒ–æ²»ç†</p>
<ul>
<li>ä¸å¼ºåˆ¶ç»Ÿä¸€æŠ€æœ¯æ ˆï¼›</li>
<li>æ¨å¹¿å†…éƒ¨å¼€æºã€å…±äº«å·¥å…·åº“ï¼ˆå¦‚ Netflix OSSï¼‰ï¼›</li>
<li>æ ‡å‡†æ¥è‡ªå®è·µï¼ˆå¦‚ HTTPï¼‰ï¼Œè€Œéçº¸ä¸Šè§„èŒƒã€‚</li>
</ul>
<p>å»ä¸­å¿ƒåŒ–æ•°æ®ç®¡ç†</p>
<ul>
<li>æ¯ä¸ªæœåŠ¡æ‹¥æœ‰ç§æœ‰æ•°æ®åº“ï¼ˆPolyglot Persistenceï¼‰ï¼›</li>
<li>æ”¾å¼ƒåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œé‡‡ç”¨æœ€ç»ˆä¸€è‡´æ€§ + è¡¥å¿æœºåˆ¶ï¼›</li>
<li>æ˜ç¡®æœ‰ç•Œä¸Šä¸‹æ–‡ï¼ˆBounded Contextï¼‰éš”ç¦»è¯­ä¹‰å·®å¼‚ã€‚</li>
</ul>
<p>åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ– + æ•…éšœè®¾è®¡</p>
<ul>
<li>ä¾èµ– CI/CDã€å®¹å™¨åŒ–ã€äº‘å¹³å°å®ç°é«˜æ•ˆéƒ¨ç½²ï¼›</li>
<li>é»˜è®¤æœåŠ¡ä¼šå¤±è´¥ï¼šç”¨æ–­è·¯å™¨ã€è¶…æ—¶ã€ç›‘æ§ã€æ··æ²Œå·¥ç¨‹ï¼ˆå¦‚ Simian Armyï¼‰æå‡éŸ§æ€§ï¼›</li>
<li>å®æ—¶ç›‘æ§ä¸šåŠ¡ &amp; æŠ€æœ¯æŒ‡æ ‡ï¼ˆè¯­ä¹‰ç›‘æ§ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-10">3.2.3. <strong>å¾®æœåŠ¡çš„ä¼˜åŠ¿ vs. ä»£ä»·</strong></h4>





















<table><thead><tr><th>ä¼˜åŠ¿</th><th>ä»£ä»·/æŒ‘æˆ˜</th></tr></thead><tbody><tr><td>âœ… å¼ºæ¨¡å—è¾¹ç•Œï¼šæå‡å¤§å‹å›¢é˜Ÿåä½œæ•ˆç‡</td><td>âŒ åˆ†å¸ƒå¼å¤æ‚æ€§ï¼šè¿œç¨‹è°ƒç”¨æ…¢ã€æ˜“å¤±è´¥</td></tr><tr><td>âœ… ç‹¬ç«‹éƒ¨ç½²ï¼šé™ä½å˜æ›´é£é™©ï¼ŒåŠ å¿«å‘å¸ƒ</td><td>âŒ æœ€ç»ˆä¸€è‡´æ€§ï¼šéš¾ä»¥ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œéœ€ä¸šåŠ¡å±‚å¤„ç†</td></tr><tr><td>âœ… æŠ€æœ¯å¤šæ ·æ€§ï¼šè‡ªç”±é€‰å‹è¯­è¨€ä¸å­˜å‚¨</td><td>âŒ è¿ç»´å¤æ‚åº¦é«˜ï¼šéœ€æˆç†Ÿ DevOps èƒ½åŠ›æ”¯æ’‘</td></tr></tbody></table>





























<table><thead><tr><th>æŒ‘æˆ˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è¿ç»´å¤æ‚åº¦å‰§å¢</td><td>æœåŠ¡å‘ç°ã€æ—¥å¿—èšåˆã€åˆ†å¸ƒå¼è¿½è¸ªã€ç›‘æ§å‘Šè­¦ç­‰éœ€å¼ºå¤§ DevOps æ”¯æ’‘</td></tr><tr><td>åˆ†å¸ƒå¼ç³»ç»Ÿå›ºæœ‰é—®é¢˜</td><td>ç½‘ç»œå»¶è¿Ÿã€éƒ¨åˆ†å¤±è´¥ã€æ•°æ®ä¸€è‡´æ€§ã€è°ƒè¯•å›°éš¾</td></tr><tr><td>é‡æ„æˆæœ¬é«˜</td><td>è·¨æœåŠ¡ç§»åŠ¨ä»£ç æ¯”å•ä½“å†…é‡æ„å›°éš¾å¾—å¤š</td></tr><tr><td>å›¢é˜Ÿèƒ½åŠ›é—¨æ§›é«˜</td><td>éœ€è¦æˆç†Ÿå·¥ç¨‹æ–‡åŒ–ã€è‡ªåŠ¨åŒ–èƒ½åŠ›å’Œè·¨èŒèƒ½åä½œ</td></tr><tr><td>å¯èƒ½â€œè½¬ç§»å¤æ‚åº¦â€</td><td>è‹¥æœåŠ¡åˆ’åˆ†ä¸å½“ï¼Œå¤æ‚æ€§ä»å†…éƒ¨è½¬ä¸ºæ··ä¹±çš„æœåŠ¡é—´è€¦åˆ</td></tr></tbody></table>
<h4 data-id="heading-11">3.2.4. å¾®æœåŠ¡é€‰æ‹©</h4>
<p>å¾®æœåŠ¡ä¸æ˜¯é»˜è®¤é€‰æ‹©ï¼Œå¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œå•ä½“æ¶æ„æ›´åˆé€‚ï¼›å¾®æœåŠ¡ä»…åœ¨å…·å¤‡è¶³å¤Ÿå·¥ç¨‹èƒ½åŠ›ã€å›¢é˜Ÿè§„æ¨¡å’Œä¸šåŠ¡å¤æ‚åº¦æ—¶æ‰å€¼å¾—é‡‡ç”¨ï¼›åˆ‡å‹¿ä¸ºäº†â€œæ—¶é«¦â€è€Œç”¨å¾®æœåŠ¡â€”â€”å®ƒè§£å†³çš„æ˜¯ç‰¹å®šé—®é¢˜ï¼Œä¹Ÿå¸¦æ¥æ–°çš„é—®é¢˜ã€‚</p>
<p>æ ¸å¿ƒå»ºè®®ï¼šå…ˆå¤¯å®è‡ªåŠ¨åŒ–ã€ç›‘æ§ã€CI/CD å’Œ DevOps åŸºç¡€ï¼Œå†è€ƒè™‘æ˜¯å¦â€œå¤Ÿé«˜â€ä½¿ç”¨å¾®æœåŠ¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82fde8989e424a0394c4208568893140~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=woPNtfE1DzWmOSIxojv20ojgjfE%3D" alt="" loading="lazy"/></p>
<p>å¾®æœåŠ¡æ˜¯ä¸€ç§ä»¥ä¸šåŠ¡ä¸ºä¸­å¿ƒã€é«˜åº¦è‡ªæ²»ä½†è¿ç»´å¤æ‚çš„æ¶æ„é£æ ¼â€”â€”å®ƒå¼ºå¤§ï¼Œä½†åªé€‚åˆâ€œå‡†å¤‡å¥½äº†â€çš„å›¢é˜Ÿã€‚</p>
<h3 data-id="heading-12">3.3. å•ä½“æ¶æ„</h3>
<p>ä½¿ç”¨å¾®æœåŠ¡æ—¶ï¼Œå¿…é¡»å¤„ç†è‡ªåŠ¨åŒ–éƒ¨ç½²ã€ç›‘æ§ã€æ•…éšœå¤„ç†ã€æœ€ç»ˆä¸€è‡´æ€§ä»¥åŠåˆ†å¸ƒå¼ç³»ç»Ÿå¸¦æ¥çš„å…¶ä»–å› ç´ ã€‚è™½ç„¶æœ‰ä¼—æ‰€å‘¨çŸ¥çš„åº”å¯¹æ–¹æ³•ï¼Œä½†è¿™éœ€è¦é¢å¤–åŠªåŠ›ï¼Œç†è®ºä¸Šè½¯ä»¶å¼€å‘é¢†åŸŸä¼¼ä¹æ²¡æœ‰äººæœ‰å¤§é‡ç©ºé—²æ—¶é—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d14738b26964864a75898b30a6dd6e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=2X63ieWsS0MNOXFwrQb3%2F3Q7wKs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-13">3.3.1. å•ä½“æ¶æ„ä¸ç­‰äºè½å</h4>
<p>è‰¯å¥½æ¨¡å—åŒ–çš„å•ä½“å®Œå…¨å¯ä»¥æ”¯æŒæŒç»­äº¤ä»˜ï¼›ç†è®ºä¸Šå•ä½“å¯ä¿æŒæ¸…æ™°è¾¹ç•Œï¼Œä½†å®è·µä¸­å®¹æ˜“é€€åŒ–ä¸ºâ€œå¤§æ³¥çƒâ€ï¼Œéœ€å¼ºå·¥ç¨‹çºªå¾‹ã€‚</p>
<p>ä¸è¦å› æ½®æµè€Œæ‹†åˆ†ï¼Œè€Œåº”å› çœŸå®ç—›ç‚¹è€Œæ‹†åˆ†ã€‚èƒ½ç”¨å•ä½“å°±ç”¨å•ä½“ã€‚ä¿æŒç®€å•ï¼Œå»¶è¿Ÿæ‹†åˆ†ã€‚åªæœ‰åœ¨å•ä½“çœŸæ­£æˆä¸ºç“¶é¢ˆæ—¶ï¼Œæ‰è½¬å‘å¾®æœåŠ¡ã€‚</p>
<p>å¾®æœåŠ¡æ˜¯è§£è¯ï¼Œä¹Ÿæ˜¯æ¯’è¯â€”â€”åªåœ¨ç³»ç»Ÿå¤æ‚åˆ°å•ä½“æ— æ³•æ‰¿å—æ—¶æ‰å€¼å¾—æœç”¨ã€‚è¿‡æ—©é‡‡ç”¨å¾®æœåŠ¡ä¼šå¸¦æ¥æ˜¾è‘—æˆæœ¬ä¸é£é™©ï¼šéœ€å¤„ç†åˆ†å¸ƒå¼ç³»ç»Ÿéš¾é¢˜ï¼ˆå¦‚éƒ¨ç½²è‡ªåŠ¨åŒ–ã€ç›‘æ§ã€å®¹é”™ã€æœ€ç»ˆä¸€è‡´æ€§ç­‰</p>
<h4 data-id="heading-14">3.3.2. å•ä½“ä¼˜å…ˆ</h4>
<p>é¿å…è¿‡æ—©ä¼˜åŒ–ï¼ˆYAGNI åŸåˆ™ï¼‰</p>
<ul>
<li>æ–°é¡¹ç›®æœ€å¤§çš„é£é™©ä¸æ˜¯â€œæ— æ³•æ‰©å±•â€ï¼Œè€Œæ˜¯â€œæ²¡äººç”¨â€ã€‚</li>
<li>å•ä½“å¼€å‘æ›´å¿«ã€åé¦ˆå‘¨æœŸçŸ­ï¼Œåˆ©äºå¿«é€ŸéªŒè¯äº§å“ä»·å€¼</li>
</ul>
<p>å¾®æœåŠ¡æˆè´¥å…³é”®åœ¨äºæœåŠ¡è¾¹ç•Œæ˜¯å¦åˆç†ï¼ˆå³ DDD ä¸­çš„â€œæœ‰ç•Œä¸Šä¸‹æ–‡â€ï¼‰ã€‚å³ä½¿ä¸“å®¶ä¹Ÿå¾ˆéš¾åœ¨é¡¹ç›®åˆæœŸåˆ’å¯¹è¾¹ç•Œï¼›è€Œåœ¨å•ä½“ä¸­é‡æ„æ¨¡å—æˆæœ¬ä½ï¼Œå¯é€æ­¥æ¢ç´¢æ­£ç¡®åˆ‡åˆ†ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a71d6e5c50ce44dd86e31e6574a5cd07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=hF1N8i3ApjK6pnUfFFYzktXokK4%3D" alt="" loading="lazy"/></p>
<p>å…ˆè·‘èµ·æ¥ï¼Œå†è·‘å¾—æ¼‚äº®â€”â€”ç”¨å•ä½“å¿«é€ŸéªŒè¯ä»·å€¼ï¼Œç”¨å¾®æœåŠ¡åº”å¯¹æˆé•¿ä¹‹ç—›ã€‚</p>
<h3 data-id="heading-15">3.4. å•ä½“æ¶æ„å’Œå¾®æœåŠ¡æ¶æ„å›¾</h3>



































<table><thead><tr><th>é—®é¢˜</th><th>å•ä½“æ¶æ„</th><th>å¾®æœåŠ¡æ¶æ„</th></tr></thead><tbody><tr><td>éƒ¨ç½²</td><td>å…¨é‡é‡å»ºéƒ¨ç½²ï¼Œå³ä½¿å°æ”¹åŠ¨</td><td>ä»…éƒ¨ç½²å˜æ›´æœåŠ¡</td></tr><tr><td>æ‰©å±•</td><td>æ•´ä½“æ¨ªå‘æ‰©å±•ï¼Œèµ„æºæµªè´¹</td><td>æŒ‰éœ€æ‰©å±•é«˜è´Ÿè½½æœåŠ¡</td></tr><tr><td>æŠ€æœ¯æ¼”è¿›</td><td>é”å®šå•ä¸€æŠ€æœ¯æ ˆ</td><td>å„æœåŠ¡è‡ªç”±é€‰å‹ï¼ˆPolyglotï¼‰</td></tr><tr><td>å›¢é˜Ÿåä½œ</td><td>è·¨èŒèƒ½å‰²è£‚ï¼ˆUI/DB/åç«¯ï¼‰ï¼Œæ²Ÿé€šæˆæœ¬é«˜</td><td>è·¨åŠŸèƒ½å›¢é˜Ÿè´Ÿè´£ç«¯åˆ°ç«¯ä¸šåŠ¡èƒ½åŠ›ï¼ˆåº·å¨å®šå¾‹ï¼‰</td></tr><tr><td>æ¨¡å—åŒ–</td><td>éšæ—¶é—´é€€åŒ–ï¼Œé€»è¾‘è€¦åˆä¸¥é‡</td><td>æœåŠ¡å³æ¨¡å—è¾¹ç•Œï¼Œå¼ºåˆ¶è§£è€¦</td></tr></tbody></table>
<p>å¾®æœåŠ¡åœ¨å¤§å‹ã€å¤æ‚ã€å¿«é€Ÿæ¼”è¿›çš„ä¼ä¸šåº”ç”¨ä¸­å±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ï¼›ä½†å…¶æˆåŠŸé«˜åº¦ä¾èµ–å›¢é˜Ÿèƒ½åŠ›ã€è‡ªåŠ¨åŒ–æ°´å¹³å’Œæ¶æ„çºªå¾‹ï¼›æ²¡æœ‰â€œæœªæ¥æ¶æ„â€ï¼Œåªæœ‰â€œé€‚åˆå½“å‰ä¸Šä¸‹æ–‡çš„æ¶æ„â€ â€”â€”éœ€åŸºäºä¸å®Œç¾ä¿¡æ¯åšåŠ¡å®å†³ç­–ã€‚</p>
<p>â€œå¾®æœåŠ¡ä¸æ˜¯ç›®æ ‡ï¼Œè€Œæ˜¯åº”å¯¹å¤æ‚æ€§çš„æ‰‹æ®µã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5392ecc22b9f4e258b8f1d797f4f7de0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=F2Np0A2tFDYZO90nJ7LpDD0Zs40%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16">4. å¦‚ä½•å°†å•ä½“æ‹†è§£ä¸ºå¾®æœåŠ¡</h2>
<p>æ‹†åˆ†å•ä½“æ˜¯ä¸ºäº†åŠ é€Ÿä¸šåŠ¡ä»·å€¼äº¤ä»˜ã€æå‡å›¢é˜Ÿè‡ªæ²»ã€é™ä½å˜æ›´æˆæœ¬ï¼Œè€Œéè¿½æ±‚æŠ€æœ¯æ—¶é«¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9116c633c1544a0d8028e60aeb62aafe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=DW9Wy%2FqaWcnYfKTOvvJy4v9umlA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">4.1. å…³é”®åŸåˆ™</h3>
<p><strong>ä»ç®€å•è¾¹ç¼˜èƒ½åŠ›çƒ­èº«ï¼ˆWarm Upï¼‰</strong></p>
<ul>
<li>å…ˆæ‹†ä½è€¦åˆã€æ— æ•°æ®ä¾èµ–ã€æ”¹åŠ¨å½±å“å°çš„åŠŸèƒ½ï¼ˆå¦‚è®¤è¯ã€å®¢æˆ·æ¡£æ¡ˆï¼‰ã€‚</li>
<li>ç›®çš„ï¼šéªŒè¯ CI/CDã€ç›‘æ§ã€API ç®¡ç†ç­‰å¾®æœåŠ¡åŸºç¡€è®¾æ–½ï¼ŒåŸ¹å…»å›¢é˜Ÿèƒ½åŠ›ã€‚</li>
</ul>
<p><strong>æœ€å°åŒ–å¯¹å•ä½“çš„åå‘ä¾èµ–ï¼ˆMinimize Backward Dependencyï¼‰</strong></p>
<ul>
<li>æ–°æœåŠ¡ä¸åº”è°ƒç”¨å•ä½“å†…éƒ¨é€»è¾‘æˆ–æ•°æ®ï¼Œå¦åˆ™ä¸§å¤±ç‹¬ç«‹å‘å¸ƒä¼˜åŠ¿ã€‚</li>
<li>è‹¥å¿…é¡»è°ƒç”¨ï¼Œé€šè¿‡é˜²è…å±‚ï¼ˆAnti-Corruption Layerï¼‰ éš”ç¦»å•ä½“æ¦‚å¿µï¼Œæš´éœ²æ¸…æ™° APIã€‚</li>
</ul>
<p><strong>ä¼˜å…ˆæ‹†è§£â€œç²˜æ€§èƒ½åŠ›â€ï¼ˆSplit Sticky Capabilities Earlyï¼‰</strong></p>
<ul>
<li>è¯†åˆ«å•ä½“ä¸­é«˜åº¦è€¦åˆçš„â€œèƒ¶æ°´â€æ¨¡å—ï¼ˆå¦‚ Web Sessionï¼‰ï¼Œå®ƒé˜»ç¢å…¶ä»–åŠŸèƒ½è§£è€¦ã€‚</li>
<li>ä¸è¦ç›´æ¥å°†å…¶å˜æˆæœåŠ¡ï¼Œè€Œåº”è§£æ„ä¸ºå¤šä¸ªæ¸…æ™°çš„é¢†åŸŸæ¦‚å¿µï¼ˆå¦‚æ„¿æœ›æ¸…å•ã€æ”¯ä»˜åå¥½ï¼‰ï¼Œå†é€ä¸ªæ‹†å‡ºã€‚</li>
</ul>
<p><strong>çºµå‘è§£è€¦ + æ•°æ®å…ˆè¡Œï¼ˆDecouple Vertically &amp; Release Data Earlyï¼‰</strong></p>
<ul>
<li>å¾®æœåŠ¡ â‰  åªæ‹†ä»£ç ï¼Œå¿…é¡»è¿åŒå…¶ä¸“å±æ•°æ®ä¸€èµ·è¿ç§»ã€‚</li>
<li>é¿å…â€œåªæ‹†å‰ç«¯æˆ–åç«¯â€çš„åæ¨¡å¼â€”â€”ä¸è§£è€¦æ•°æ® = ä¸æ˜¯å¾®æœåŠ¡ã€‚</li>
<li>é‡‡ç”¨å¦‚ Stripe çš„å››é˜¶æ®µæ•°æ®è¿ç§»ç­–ç•¥ï¼Œç¡®ä¿å¹³æ»‘è¿‡æ¸¡ã€‚</li>
</ul>
<p><strong>ä¼˜å…ˆæ‹†è§£é«˜ä»·å€¼ã€é«˜é¢‘å˜æ›´çš„èƒ½åŠ›ï¼ˆBusiness-Driven Prioritizationï¼‰</strong></p>
<ul>
<li>èšç„¦ä¸šåŠ¡å·®å¼‚åŒ–å¼ºã€è¿­ä»£é¢‘ç¹çš„åŠŸèƒ½ï¼ˆå¦‚ä¸ªæ€§åŒ–æ¨èã€ä¿ƒé”€å¼•æ“ï¼‰ã€‚</li>
<li>é€šè¿‡ä»£ç æäº¤åˆ†æï¼ˆCodeSceneï¼‰+ äº§å“è·¯çº¿å›¾ï¼Œè¯†åˆ«â€œæœ€å€¼å¾—æ‹†â€çš„æ¨¡å—ã€‚</li>
</ul>
<p><strong>é‡å†™èƒ½åŠ›ï¼Œè€Œéæ¬è¿ä»£ç ï¼ˆRewrite Capability, Not Codeï¼‰</strong></p>
<ul>
<li>ä¸è¦å› æƒ…æ„Ÿä¾æ‹è€Œå¤ç”¨è€æ—§ã€é«˜æ¯’æ€§ä»£ç ã€‚</li>
<li>é™¤éæ˜¯é«˜ IPã€ä½æ¯’æ€§çš„æ ¸å¿ƒé€»è¾‘ï¼Œå¦åˆ™å»ºè®®é‡å†™æ–°æœåŠ¡ + é€€å½¹æ—§ä»£ç ã€‚</li>
<li>åˆ©ç”¨æœºä¼šï¼šç®€åŒ–ä¸šåŠ¡æµç¨‹ã€æ›´æ–°æŠ€æœ¯æ ˆã€æ¾„æ¸…é¢†åŸŸæ¨¡å‹ã€‚</li>
</ul>
<p><strong>å…ˆå®è§‚ï¼Œå†å¾®è§‚ï¼ˆGo Macro First, Then Microï¼‰</strong></p>
<ul>
<li>åˆæœŸæ‹†å‡ºå›´ç»•å®Œæ•´ä¸šåŠ¡åœºæ™¯çš„â€œå®æœåŠ¡â€ï¼ˆå¦‚â€œè´­ä¹°â€åŒ…å«è´­ç‰©è½¦+ç»“è´¦ï¼‰ã€‚</li>
<li>å¾…å›¢é˜Ÿè¿ç»´èƒ½åŠ›æˆç†Ÿåï¼Œå†æŒ‰éœ€ç»†åŒ–ä¸ºæ›´å°æœåŠ¡ã€‚</li>
<li>é¿å…è¿‡æ—©æ‹†æˆå¤§é‡è´«è¡€ CRUD æœåŠ¡ï¼Œå¯¼è‡´åˆ†å¸ƒå¼å¤æ‚æ€§å¤±æ§ã€‚</li>
</ul>
<p>ä¸è¦å¹»æƒ³â€œä¸€æ¬¡æ€§æ¶ˆç­å•ä½“â€ï¼Œè€Œè¦é€šè¿‡æŒç»­ã€å°æ­¥ã€å¯å›æ»šçš„æ¼”è¿›é€æ­¥æ›¿æ¢ã€‚æ¶æ„æ¼”è¿› = ç»„ç»‡èƒ½åŠ›æ¼”è¿›ã€‚æ‹†åˆ†èŠ‚å¥åº”åŒ¹é…å›¢é˜Ÿçš„å·¥ç¨‹æˆç†Ÿåº¦ã€‚å§‹ç»ˆé—®ï¼šè¿™æ¬¡æ‹†åˆ†æ˜¯å¦è®©ç³»ç»Ÿæ›´æ¥è¿‘â€œå¿«é€Ÿã€å®‰å…¨ã€ç‹¬ç«‹äº¤ä»˜ä¸šåŠ¡ä»·å€¼â€çš„ç›®æ ‡ã€‚</p>
<p><strong>è§£è€¦ä¸æ˜¯æŠ€æœ¯åˆ‡å‰²ï¼Œè€Œæ˜¯ä¸šåŠ¡èƒ½åŠ›çš„é‡æ–°å°è£…ï¼›è¿ç§»ä¸æ˜¯ä»£ç æ¬å®¶ï¼Œè€Œæ˜¯æ¶æ„ä¸ç»„ç»‡çš„ååŒè¿›åŒ–</strong></p>
<h2 data-id="heading-18">5. Serverless æ¶æ„</h2>
<p>æ— æœåŠ¡å™¨æ¶æ„æ˜¯é›†æˆç¬¬ä¸‰æ–¹â€œåç«¯å³æœåŠ¡â€ï¼ˆBaaSï¼‰æœåŠ¡å’Œ/æˆ–åŒ…å«åœ¨æ‰˜ç®¡çš„ä¸´æ—¶å®¹å™¨ä¸­è¿è¡Œçš„å®šåˆ¶ä»£ç çš„åº”ç”¨è®¾è®¡ï¼Œè¿è¡Œåœ¨â€œåŠŸèƒ½å³æœåŠ¡â€ï¼ˆFaaSï¼‰å¹³å°ä¸Šã€‚</p>
<p>é€šè¿‡é‡‡ç”¨è¿™äº›ç†å¿µåŠç›¸å…³ç†å¿µï¼Œå¦‚å•é¡µåº”ç”¨ï¼Œæ­¤ç±»æ¶æ„å¤§å¤§å‡å°‘äº†å¯¹ä¼ ç»Ÿå§‹ç»ˆåœ¨çº¿æœåŠ¡å™¨ç»„ä»¶çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-19">5.1. ä»€ä¹ˆæ˜¯ Serverless</h3>
<p>Serverless å¹¶éâ€œæ²¡æœ‰æœåŠ¡å™¨â€ï¼Œè€Œæ˜¯æŒ‡å¼€å‘è€…æ— éœ€ç®¡ç†åº•å±‚æœåŠ¡å™¨åŸºç¡€è®¾æ–½ï¼Œå°†è¿ç»´è´£ä»»å¤–åŒ…ç»™äº‘å‚å•†ã€‚</p>
<ol>
<li>BaaSï¼ˆBackend as a Serviceï¼‰</li>
</ol>
<ul>
<li>
<ul>
<li>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ‰˜ç®¡çš„åç«¯æœåŠ¡ï¼ˆå¦‚ Firebaseã€Auth0ï¼‰ï¼Œæ›¿ä»£è‡ªç ”æœåŠ¡å™¨é€»è¾‘ã€‚</li>
<li>å¸¸ç”¨äºå¯Œå®¢æˆ·ç«¯åº”ç”¨ï¼ˆå¦‚å•é¡µ Web åº”ç”¨ã€ç§»åŠ¨ Appï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li>FaaSï¼ˆFunctions as a Serviceï¼‰</li>
</ol>
<ul>
<li>
<ul>
<li>å¼€å‘è€…ç¼–å†™å‡½æ•°ä»£ç ï¼Œç”±å¹³å°æŒ‰äº‹ä»¶è§¦å‘ã€è‡ªåŠ¨æ‰©ç¼©å®¹ã€æŒ‰æ‰§è¡Œä»˜è´¹ï¼ˆå¦‚ AWS Lambdaï¼‰ã€‚</li>
<li>å‡½æ•°æ˜¯æ— çŠ¶æ€ã€çŸ­æš‚ã€äº‹ä»¶é©±åŠ¨çš„è®¡ç®—å•å…ƒ</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bceb055d742a4ac1b848c59eba4aecc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=nXuHX2Smm77R3EWj33Gra3Yyq%2BM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-20">5.2. æ ¸å¿ƒä¼˜åŠ¿</h3>

























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æè‡´å¼¹æ€§ &amp; æŒ‰éœ€ä»˜è´¹</td><td>è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œä»…å¯¹å®é™…æ‰§è¡Œæ—¶é—´è®¡è´¹ï¼ˆå¦‚ AWS Lambda ç²¾ç¡®åˆ° 100msï¼‰ã€‚ â†’ æå¤§é™ä½ä½é¢‘/çªå‘æµé‡åœºæ™¯æˆæœ¬ã€‚</td></tr><tr><td>å…è¿ç»´ï¼ˆNo-Server Managementï¼‰</td><td>æ— éœ€ç®¡ç†æœåŠ¡å™¨ã€å®¹å™¨ã€é›†ç¾¤ï¼›éƒ¨ç½²åªéœ€ä¸Šä¼ ä»£ç ã€‚</td></tr><tr><td>åŠ é€Ÿåˆ›æ–°ä¸å®éªŒ</td><td>æ–°åŠŸèƒ½å¯å¿«é€Ÿä¸Šçº¿éªŒè¯ï¼ˆå¦‚ç›‘å¬ Kinesis æµçš„ Lambda å‡½æ•°å‡ åˆ†é’Ÿå†…éƒ¨ç½²ï¼‰ã€‚</td></tr><tr><td>èµ„æºé«˜æ•ˆ &amp; æ›´ç¯ä¿</td><td>äº‘å‚å•†èšåˆå¤šç§Ÿæˆ·è´Ÿè½½ï¼Œæå‡ç¡¬ä»¶åˆ©ç”¨ç‡ï¼Œå‡å°‘èƒ½æºæµªè´¹ã€‚</td></tr></tbody></table>
<h3 data-id="heading-21">5.3. ä¸»è¦æŒ‘æˆ˜ä¸é™åˆ¶</h3>

































<table><thead><tr><th>æŒ‘æˆ˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å†·å¯åŠ¨å»¶è¿Ÿ</td><td>é¦–æ¬¡è°ƒç”¨æˆ–é—²ç½®åé‡å¯æ—¶å­˜åœ¨å»¶è¿Ÿï¼ˆæ¯«ç§’è‡³ç§’çº§ï¼‰ï¼Œå½±å“å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚</td></tr><tr><td>çŠ¶æ€ç®¡ç†å—é™</td><td>å‡½æ•°å®ä¾‹æ— æŒä¹…æœ¬åœ°çŠ¶æ€ï¼Œéœ€ä¾èµ–å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚ S3ã€Redisã€DBï¼‰ã€‚</td></tr><tr><td>æ‰§è¡Œæ—¶é•¿é™åˆ¶</td><td>ä¸»æµå¹³å°é™åˆ¶å•æ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆå¦‚ AWS Lambda æœ€é•¿ 15 åˆ†é’Ÿï¼‰ã€‚</td></tr><tr><td>è°ƒè¯•ä¸ç›‘æ§å›°éš¾</td><td>åˆ†å¸ƒå¼è¿½è¸ªã€æ—¥å¿—èšåˆã€æ€§èƒ½åˆ†æå·¥å…·å°šä¸æˆç†Ÿã€‚</td></tr><tr><td>ä¾›åº”å•†é”å®šï¼ˆVendor Lock-inï¼‰</td><td>å„å®¶ FaaS æ¥å£ã€ç”Ÿæ€ï¼ˆå¦‚è§¦å‘å™¨ã€API ç½‘å…³ï¼‰å·®å¼‚å¤§ï¼Œè¿ç§»æˆæœ¬é«˜ã€‚</td></tr><tr><td>å®‰å…¨ä¸æƒé™å¤æ‚åº¦</td><td>å¤§é‡å‡½æ•°éœ€ç²¾ç»†é…ç½® IAM ç­–ç•¥ï¼Œæ˜“å‡ºé”™ã€‚</td></tr></tbody></table>
<h3 data-id="heading-22">5.4. æ€»ç»“</h3>
<ul>
<li>Serverless â‰  NoOps<br/>
è¿ç»´ä»â€œæœåŠ¡å™¨ç®¡ç†â€è½¬å‘â€œåº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†â€ï¼ˆç›‘æ§ã€å®‰å…¨ã€éƒ¨ç½²ç­‰ï¼‰ï¼Œå¤æ‚åº¦è½¬ç§»è€Œéæ¶ˆå¤±ã€‚</li>
<li>ä¸ PaaS / å®¹å™¨çš„åŒºåˆ«</li>
</ul>

<ul>
<li>
<ul>
<li>PaaSï¼šä»éœ€è€ƒè™‘æ‰©ç¼©å®¹å•ä½ï¼ˆå¦‚ Dynosï¼‰ï¼›FaaSï¼šä»¥è¯·æ±‚ä¸ºå•ä½è‡ªåŠ¨ä¼¸ç¼©ã€‚</li>
<li>å®¹å™¨ï¼šéœ€ç®¡ç†é›†ç¾¤ï¼›FaaSï¼šå®Œå…¨æ‰˜ç®¡ï¼Œç²’åº¦æ›´ç»†ã€‚</li>
</ul>
</li>
</ul>
<p>è¯•ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>é€‚åˆï¼šäº‹ä»¶é©±åŠ¨ã€è½»é‡çº§ã€çªå‘æµé‡ã€å¿«é€ŸåŸå‹ã€æˆæœ¬æ•æ„Ÿå‹åº”ç”¨ã€‚</li>
<li>æ…ç”¨ï¼šé•¿æ—¶ä»»åŠ¡ã€å¼ºçŠ¶æ€ä¾èµ–ã€è¶…ä½å»¶è¿Ÿã€å¤æ‚äº‹åŠ¡ã€å·²æœ‰åºå¤§å•ä½“ç³»ç»Ÿã€‚</li>
<li>å‰æèƒ½åŠ›ï¼šéœ€å…·å¤‡è‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¯è§‚æµ‹æ€§ã€äº‘åŸç”Ÿå®‰å…¨å®è·µã€‚</li>
</ul>
<p>ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼šServerless çš„æœ¬è´¨æ˜¯å°†åŸºç¡€è®¾æ–½å¤æ‚åº¦å¤–åŒ…ï¼Œæ¢å–å¼€å‘æ•æ·æ€§ä¸æˆæœ¬æ•ˆç‡ï¼Œä½†éœ€æ¥å—å…¶çº¦æŸå¹¶é‡æ„åº”ç”¨è®¾è®¡ã€‚</p>
<p><strong>Serverless ä¸æ˜¯ä¸‡èƒ½è¯ï¼Œè€Œæ˜¯ç‰¹å®šåœºæ™¯ä¸‹çš„é«˜æ•ˆæ æ†â€”â€”ç”¨æ¶æ„çº¦æŸæ¢å¼¹æ€§ä¸é€Ÿåº¦ï¼Œç”¨å‚å•†ä¾èµ–æ¢è¿ç»´ç®€åŒ–ã€‚</strong></p>
<h2 data-id="heading-23">6. å¾®å‰ç«¯ Micro Frontends</h2>
<h3 data-id="heading-24">6.1. èƒŒæ™¯</h3>
<p>è®¸å¤šå…¬å¸åœ¨åç«¯é‡‡ç”¨å¾®æœåŠ¡æ¶æ„åï¼Œå‰ç«¯ä»è¢«åºå¤§çš„å•ä½“ï¼ˆMonolithï¼‰ä»£ç åº“æ‰€å›°ã€‚è¿™å¯¼è‡´éš¾ä»¥é›†æˆæ–°æŠ€æœ¯ã€æ‰©å±•å¼€å‘å›¢é˜Ÿã€å¿«é€Ÿè¿­ä»£å’Œç»´æŠ¤ã€‚</p>
<p>å¾®å‰ç«¯æ˜¯ä¸€ç§å°†å¤§å‹å‰ç«¯å•ä½“æ‹†è§£ä¸ºå¤šä¸ªå°å‹ã€ç‹¬ç«‹ã€å¯å•ç‹¬å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²çš„å‰ç«¯åº”ç”¨çš„æ¶æ„é£æ ¼ã€‚è¿™äº›ç‹¬ç«‹åº”ç”¨æœ€ç»ˆç»„åˆæˆä¸€ä¸ªå¯¹ç”¨æˆ·è€Œè¨€æ— ç¼çš„æ•´ä½“äº§å“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c17abea287dd4c8792dfd210f3cd40ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=94OHPYqpJd99%2FMIeGSbFpI2z1tU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-25">6.2. ä¸»è¦ä¼˜åŠ¿</h3>
<ul>
<li>æ¸è¿›å¼å‡çº§ï¼šæ— éœ€é‡å†™æ•´ä¸ªåº”ç”¨ï¼Œå¯ä»¥é€æ­¥æ›¿æ¢æ—§æ¨¡å—ï¼Œé™ä½é£é™©ã€‚</li>
<li>ç®€å•ã€è§£è€¦çš„ä»£ç åº“ï¼šæ¯ä¸ªå¾®å‰ç«¯ä»£ç é‡å°ã€å†…èšæ€§é«˜ï¼Œå‡å°‘äº†æ„å¤–è€¦åˆã€‚</li>
<li>ç‹¬ç«‹éƒ¨ç½²ï¼šæ¯ä¸ªå¾®å‰ç«¯æ‹¥æœ‰è‡ªå·±çš„CI/CDæµæ°´çº¿ï¼Œå¯éšæ—¶å‘å¸ƒï¼Œä¸å—å…¶ä»–éƒ¨åˆ†å½±å“ã€‚</li>
<li>è‡ªæ²»å›¢é˜Ÿï¼šå›¢é˜Ÿå›´ç»•ä¸šåŠ¡åŠŸèƒ½ï¼ˆå‚ç›´åˆ‡ç‰‡ï¼‰è€ŒéæŠ€æœ¯æ ˆï¼ˆæ°´å¹³åˆ‡ç‰‡ï¼‰ç»„å»ºï¼Œèƒ½ç«¯åˆ°ç«¯åœ°è´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ï¼Œæå‡æ•ˆç‡å’Œå“åº”é€Ÿåº¦ã€‚</li>
</ul>
<p>æ¯ä¸ªå¾®å‰ç«¯éƒ½åº”æ‹¥æœ‰è‡ªå·±çš„æŒç»­äº¤ä»˜æµæ°´çº¿ï¼Œè´Ÿè´£æ„å»ºã€æµ‹è¯•å¹¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5ef0d5d79ff4a3899b6c165cbb93a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=Na%2BlZJDVNKhxerBVGnFiy%2FWIpsI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-26">6.3. æ½œåœ¨ç¼ºç‚¹ä¸æƒè¡¡</h3>
<ul>
<li>æ ·å¼éš”ç¦»ï¼šCSSçš„å…¨å±€æ€§æ˜¯ä¸»è¦æŒ‘æˆ˜ã€‚å¯é€šè¿‡BEMå‘½åè§„èŒƒã€CSS Modulesã€CSS-in-JSï¼ˆå¦‚styled-componentsï¼‰æˆ–Shadow DOMæ¥è§£å†³ã€‚</li>
<li>è·¨åº”ç”¨é€šä¿¡ï¼šåº”å°½é‡å‡å°‘ç›´æ¥é€šä¿¡ä»¥é¿å…è€¦åˆã€‚æ¨èæ–¹å¼åŒ…æ‹¬ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>URLè·¯ç”±ï¼šé€šè¿‡åœ°å€æ ä¼ é€’å‚æ•°ï¼ˆå¦‚ <code>/restaurant/:id</code>ï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å£°æ˜å¼ã€ä½è€¦åˆçš„ä¼˜ç§€æ–¹æ¡ˆã€‚</li>
<li>è‡ªå®šä¹‰äº‹ä»¶ï¼šç”¨äºé—´æ¥é€šä¿¡ã€‚</li>
<li>é¿å…å…±äº«çŠ¶æ€ï¼šå¦‚åŒå¾®æœåŠ¡ä¸å…±äº«æ•°æ®åº“ä¸€æ ·ï¼Œå¾®å‰ç«¯ä¹Ÿåº”é¿å…å…±äº«æ•°æ®æ¨¡å‹ã€‚</li>
</ul>
</li>
</ul>

<ul>
<li>å…±äº«ç»„ä»¶åº“ï¼šæœ‰åŠ©äºä¿è¯UIä¸€è‡´æ€§ï¼Œä½†éœ€è°¨æ…ã€‚åº”è®©æ¨¡å¼è‡ªç„¶å½¢æˆåå†æå–å…±äº«ç»„ä»¶ï¼Œå¹¶ç¡®ä¿åªåŒ…å«UIé€»è¾‘ï¼Œä¸å«ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>åç«¯åä½œï¼šæ¨èå…¨æ ˆå›¢é˜Ÿæ¨¡å¼ï¼Œæ¯ä¸ªå¾®å‰ç«¯å¯æ‹¥æœ‰ä¸“å±çš„åç«¯ï¼ˆBFF - Backend For Frontendï¼‰ï¼Œä»¥å®ç°å®Œå…¨è‡ªæ²»ã€‚</li>
</ul>

<ul>
<li><strong>æ‰“åŒ…ä½“ç§¯è†¨èƒ€</strong>ï¼šç‹¬ç«‹æ„å»ºå¯èƒ½å¯¼è‡´å…¬å…±ä¾èµ–ï¼ˆå¦‚Reactï¼‰é‡å¤æ‰“åŒ…ï¼Œå¢åŠ ç”¨æˆ·ä¸‹è½½ä½“ç§¯ã€‚å¯é€šè¿‡å¤–éƒ¨åŒ–ï¼ˆExternalsï¼‰è§£å†³ï¼Œä½†è¿™åˆä¼šå¼•å…¥ç‰ˆæœ¬è€¦åˆã€‚</li>
<li>ç¯å¢ƒå·®å¼‚é£é™©ï¼šå¾®å‰ç«¯åœ¨â€œç‹¬ç«‹â€æ¨¡å¼ä¸‹å¼€å‘ï¼Œå¯èƒ½ä¸ç”Ÿäº§ç¯å¢ƒï¼ˆåœ¨å®¹å™¨å†…ï¼‰è¡¨ç°ä¸ä¸€è‡´ï¼Œéœ€åŠ å¼ºé›†æˆæµ‹è¯•ã€‚</li>
<li>è¿ç»´ä¸æ²»ç†å¤æ‚åº¦ï¼šé¡¹ç›®æ•°é‡å¢å¤šï¼Œå¸¦æ¥æ›´å¤šçš„ä»“åº“ã€æµæ°´çº¿å’ŒåŸŸåç®¡ç†ã€‚éœ€è¦æˆç†Ÿçš„è‡ªåŠ¨åŒ–å·¥å…·å’Œæ²»ç†ä½“ç³»æ¥åº”å¯¹å»ä¸­å¿ƒåŒ–å¸¦æ¥çš„æŒ‘æˆ˜</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a568ce6cd4e04cc6a6acec0b80a77adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=DZZT9kQR10vl%2FoiXt4lEDU%2BDhr4%3D" alt="" loading="lazy"/></p>
<p>å¾®å‰ç«¯å¹¶éé“¶å¼¹ï¼Œè€Œæ˜¯ä¸€ç§æœ‰æ˜ç¡®å–èˆçš„æ¶æ„é€‰æ‹©ã€‚å®ƒé€šè¿‡ç‰ºç‰²ä¸€å®šçš„ç®€å•æ€§ï¼ˆå¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦ï¼‰ï¼Œæ¢å–äº†å·¨å¤§çš„å›¢é˜Ÿè‡ªæ²»æ€§å’ŒæŠ€æœ¯æ¼”è¿›çµæ´»æ€§ã€‚</p>
<p>å…¶æˆåŠŸçš„å…³é”®åœ¨äºä¸¥æ ¼æ§åˆ¶è€¦åˆã€å»ºç«‹æ¸…æ™°çš„å¥‘çº¦ã€å¹¶æ‹¥æœ‰ç›¸åº”çš„å·¥ç¨‹å’Œç»„ç»‡æˆç†Ÿåº¦ã€‚</p>
<h2 data-id="heading-27">7. åº·å¨å®šå¾‹</h2>
<p>ä»»ä½•è®¾è®¡ç³»ç»Ÿçš„ç»„ç»‡ï¼Œæœ€ç»ˆéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªç³»ç»Ÿè®¾è®¡ï¼Œå…¶ç»“æ„æ˜¯è¯¥ç»„ç»‡é€šä¿¡ç»“æ„çš„å‰¯æœ¬ã€‚ é€šä¿—æ¥è®²ï¼Œä½ çš„è½¯ä»¶æ¶æ„ï¼Œä¼šå˜æˆä½ å›¢é˜Ÿç»„ç»‡ç»“æ„çš„æ ·å­ã€‚</p>
<ul>
<li>å¦‚æœä½ çš„å…¬å¸æœ‰å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ä¸‰ä¸ªç‹¬ç«‹å›¢é˜Ÿï¼Œå½¼æ­¤æ²Ÿé€šä¸ç•…ï¼Œé‚£ä¹ˆä½ ä»¬åšå‡ºæ¥çš„ç³»ç»Ÿå¾ˆå¯èƒ½å°±æ˜¯å‰åç«¯åˆ†ç¦»ã€æ•°æ®åº“å¼ºè€¦åˆã€æ¥å£åƒµç¡¬çš„ä¸‰å±‚æ¶æ„â€”â€”å“ªæ€•æŠ€æœ¯ä¸Šå¹¶ä¸æœ€ä¼˜ã€‚</li>
<li>å¦‚æœä¸€ä¸ªåŠŸèƒ½éœ€è¦è·¨å¤šä¸ªå›¢é˜Ÿåä½œæ‰èƒ½å®Œæˆï¼Œé‚£è¿™ä¸ªåŠŸèƒ½çš„å®ç°é€šå¸¸ä¼šæ…¢ã€å¤æ‚ã€å®¹æ˜“å‡ºé”™ã€‚</li>
<li>åä¹‹ï¼Œå¦‚æœä¸€ä¸ªå°å›¢é˜Ÿèƒ½è‡ªä¸»è´Ÿè´£æŸä¸ªå®Œæ•´ä¸šåŠ¡ï¼ˆæ¯”å¦‚â€œè®¢å•æœåŠ¡â€ï¼‰ï¼Œä»–ä»¬å°±æ›´å¯èƒ½åšå‡ºé«˜å†…èšã€ä½è€¦åˆã€å¯ç‹¬ç«‹éƒ¨ç½²çš„æ¨¡å—æˆ–å¾®æœåŠ¡</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2725f7284a7b4f02af2c763b171bb18c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768728096&amp;x-signature=IaWSgAYwHyu%2BPQ4sNTogOpK5%2FHM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-28">7.1. <strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></h3>
<ul>
<li>äººä¸äººçš„æ²Ÿé€šæ–¹å¼å†³å®šäº†ä»£ç ä¹‹é—´çš„è€¦åˆæ–¹å¼ã€‚</li>
<li>è½¯ä»¶æ¨¡å—ä¹‹é—´å¦‚æœé¢‘ç¹äº¤äº’ï¼Œè¯´æ˜èƒŒåçš„äººç»å¸¸äº¤æµï¼›å¦‚æœæ¨¡å—éš”ç¦»æ¸…æ™°ï¼Œå¾€å¾€æ˜¯å› ä¸ºå›¢é˜Ÿä¹‹é—´å¾ˆå°‘æ‰“äº¤é“ã€‚</li>
<li>ä½ æ— æ³•è®¾è®¡å‡ºä¸€ä¸ªä¸ç»„ç»‡æ²Ÿé€šæ¨¡å¼ç›¸æ‚–çš„é«˜æ•ˆæ¶æ„â€”â€”å¼ºè¡Œè¿™ä¹ˆåšåªä¼šå¯¼è‡´ç³»ç»Ÿå†…éƒ¨å……æ»¡â€œæ‘©æ“¦â€å’Œâ€œå¦¥åâ€</li>
</ul>





















<table><thead><tr><th>ç­–ç•¥</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¿½è§†</td><td>ä¸è€ƒè™‘ç»„ç»‡ç»“æ„ï¼Œåªä»æŠ€æœ¯è§’åº¦è®¾è®¡æ¶æ„ â†’ é€šå¸¸å¤±è´¥</td></tr><tr><td>æ¥å—</td><td>è®©æ¶æ„é¡ºåº”ç°æœ‰å›¢é˜Ÿç»“æ„ï¼ˆå¦‚æŒ‰å›¢é˜Ÿåˆ’åˆ†æœåŠ¡è¾¹ç•Œï¼‰â†’ æ›´ç°å®</td></tr><tr><td>åå‘åº·å¨æœºåŠ¨ï¼ˆInverse Conway Maneuverï¼‰</td><td>å…ˆè°ƒæ•´å›¢é˜Ÿç»“æ„ï¼Œå†å¼•å¯¼å‡ºç†æƒ³çš„æ¶æ„ï¼ˆå¦‚ç»„å»ºç«¯åˆ°ç«¯ä¸šåŠ¡å›¢é˜Ÿæ¥æ¨åŠ¨å¾®æœåŠ¡ï¼‰â†’ ä¸»åŠ¨å¡‘é€ æ¶æ„</td></tr></tbody></table>
<ul>
<li>å¾®æœåŠ¡çš„æˆåŠŸï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºç»„ç»‡æ˜¯å¦æ”¯æŒå°è€Œè‡ªæ²»çš„è·¨èŒèƒ½å›¢é˜Ÿã€‚</li>
<li>é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸­çš„â€œæœ‰ç•Œä¸Šä¸‹æ–‡â€ï¼ˆBounded Contextï¼‰å¸¸è¢«ç”¨æ¥å¯¹é½ä¸šåŠ¡ã€ä»£ç å’Œå›¢é˜Ÿè¾¹ç•Œï¼Œæ­£æ˜¯åº·å¨å®šå¾‹çš„å®è·µä½“ç°ã€‚</li>
<li>æ¶æ„å¸ˆä¸ä»…è¦æ‡‚æŠ€æœ¯ï¼Œæ›´è¦ç†è§£å¹¶è®¾è®¡å›¢é˜Ÿåä½œæ–¹å¼</li>
</ul>
<h2 data-id="heading-29">8. ç›¸å…³èµ„æ–™</h2>
<ol>
<li>Who Needs an Architect? <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.martinfowler.com%2FieeeSoftware%2FwhoNeedsArchitect.pdf" target="_blank" title="https://www.martinfowler.com/ieeeSoftware/whoNeedsArchitect.pdf" ref="nofollow noopener noreferrer">www.martinfowler.com/ieeeSoftwarâ€¦</a></li>
<li>BaaSï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FBackend_as_a_service" target="_blank" title="https://en.wikipedia.org/wiki/Backend_as_a_service" ref="nofollow noopener noreferrer">en.wikipedia.org/wiki/Backenâ€¦</a></li>
<li>Amazon Lambda <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.aws.amazon.com%2Flambda%2Flatest%2Fdg%2Fwelcome.html" target="_blank" title="https://docs.aws.amazon.com/lambda/latest/dg/welcome.html" ref="nofollow noopener noreferrer">docs.aws.amazon.com/lambda/lateâ€¦</a></li>
<li>æŠ€æœ¯å€ºåŠ¡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.martinfowler.com%2Fbliki%2FTechnicalDebt.html" target="_blank" title="https://www.martinfowler.com/bliki/TechnicalDebt.html" ref="nofollow noopener noreferrer">www.martinfowler.com/bliki/Technâ€¦</a></li>
<li>å¾®å‰ç«¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.martinfowler.com%2Farticles%2Fmicro-frontends.html" target="_blank" title="https://www.martinfowler.com/articles/micro-frontends.html" ref="nofollow noopener noreferrer">www.martinfowler.com/articles/miâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åç«¯ç³»ç»Ÿè®¾è®¡æ–‡æ¡£æ¨¡æ¿]]></title>    <link>https://juejin.cn/post/7593645549179109385</link>    <guid>https://juejin.cn/post/7593645549179109385</guid>    <pubDate>2026-01-11T09:48:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593645549179109385" data-draft-id="7593771861323530266" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åç«¯ç³»ç»Ÿè®¾è®¡æ–‡æ¡£æ¨¡æ¿"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T09:48:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åç«¯ç³»ç»Ÿè®¾è®¡æ–‡æ¡£æ¨¡æ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:48:47.000Z" title="Sun Jan 11 2026 09:48:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style>
















<table><thead><tr><th>æ—¶é—´</th><th>åˆ›å»ºäºº</th><th>ç‰ˆæœ¬</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>2026.01.15</td><td>xxx</td><td>1.0.0</td><td>xxx</td></tr></tbody></table>
<h2 data-id="heading-0">1. éœ€æ±‚å®šä¹‰</h2>
<h3 data-id="heading-1">1.1 éœ€æ±‚èƒŒæ™¯ä¸ä¸šåŠ¡ä»·å€¼</h3>
<ul>
<li><strong>ä¸šåŠ¡ç›®æ ‡</strong>ï¼šç®€è¿°åŠŸèƒ½è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜æˆ–å¸¦æ¥çš„ä¸šåŠ¡æ”¶ç›Šã€‚</li>
<li><strong>å…³é”®æŒ‡æ ‡</strong>ï¼ˆå¯é€‰ï¼‰ï¼šå¦‚ QPS æå‡ã€äººå·¥æ“ä½œå‡å°‘ã€è½¬åŒ–ç‡æå‡ç­‰ã€‚</li>
<li><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>éœ€æ±‚æ–‡æ¡£é“¾æ¥ï¼š[PRDé“¾æ¥]</li>
<li>UI/UXè§†è§‰ç¨¿ï¼š[è®¾è®¡ç¨¿é“¾æ¥]</li>
<li>äº¤äº’åŸå‹ï¼š[åŸå‹é“¾æ¥]</li>
<li>ç›¸å…³æŠ€æœ¯æ–‡æ¡£ï¼š[é“¾æ¥]</li>
<li>ç«å“åˆ†ææŠ¥å‘Šï¼š[é“¾æ¥]</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">1.2 éœ€æ±‚è¾¹ç•Œ</h3>
<p>æ˜ç¡®â€œåšâ€ä¸â€œä¸åšâ€çš„èŒƒå›´ï¼Œé¿å…æ­§ä¹‰ã€‚</p>























<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>åŠŸèƒ½æè¿°</th><th>ç±»å‹ï¼ˆæ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼‰</th><th>æ¶‰åŠç³»ç»Ÿ/æœåŠ¡</th></tr></thead><tbody><tr><td>ç¤ºä¾‹åŠŸèƒ½A</td><td>xxx</td><td>æ–°å¢</td><td>xxx</td></tr><tr><td>ç¤ºä¾‹åŠŸèƒ½B</td><td>xxx</td><td>ä¿®æ”¹</td><td>xxx</td></tr></tbody></table>
<h3 data-id="heading-3">1.3 ç”¨æˆ·è§’è‰²</h3>
<p>åˆ—å‡ºæ‰€æœ‰å‚ä¸æ–¹åŠå…¶æƒé™æˆ–äº¤äº’æ–¹å¼ï¼š</p>




















<table><thead><tr><th>è§’è‰²</th><th>æè¿°</th><th>æƒé™/è¡Œä¸º</th></tr></thead><tbody><tr><td>è¿è¥äººå‘˜</td><td>xxx</td><td>xxx</td></tr><tr><td>ç»ˆç«¯ç”¨æˆ·</td><td>xxx</td><td>xxx</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">2. æŠ€æœ¯è°ƒç ”ï¼ˆå¯é€‰ï¼‰</h2>
<ul>
<li>å¯¹å…³é”®æŠ€æœ¯æ–¹æ¡ˆçš„å¯¹æ¯”åˆ†æï¼ˆå¦‚æ•°æ®åº“é€‰å‹ã€ID ç”Ÿæˆç­–ç•¥ã€ç¼“å­˜ç­–ç•¥ç­‰</li>
<li>æ˜¯å¦å­˜åœ¨æŠ€æœ¯å€ºæˆ–å†å²çº¦æŸ</li>
<li>ç¬¬ä¸‰æ–¹ä¾èµ–è¯„ä¼°ï¼ˆå¦‚çŸ­ä¿¡ç½‘å…³ã€OSS å­˜å‚¨ç­‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">3. æ¦‚è¦è®¾è®¡</h2>
<h3 data-id="heading-6">3.1 æ ¸å¿ƒæµç¨‹</h3>
<p>ç”¨æ–‡å­—æˆ–æµç¨‹å›¾æè¿°ä¸»å¹²é€»è¾‘ï¼ˆè‹¥æ— æ³•åµŒå…¥å›¾ç‰‡ï¼Œè¯·ç”¨ä¼ªä»£ç æˆ–æ­¥éª¤è¯´æ˜ï¼‰ï¼š</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·è°ƒç”¨ <code>/api/v1/shorten</code> æ¥å£æäº¤é•¿ URL</li>
<li>æœåŠ¡æ ¡éªŒ URL åˆæ³•æ€§</li>
<li>ç”Ÿæˆå”¯ä¸€çŸ­ç ï¼ˆåŸºäº Base62 + Snowflake IDï¼‰</li>
<li>å†™å…¥æ•°æ®åº“å¹¶ç¼“å­˜è‡³ Redisï¼ˆTTL = 7 å¤©ï¼‰</li>
<li>è¿”å› <code>https://s.example.com/abc123</code></li>
</ol>
<h3 data-id="heading-7">3.2 æ¶æ„è®¾è®¡è¦ç‚¹</h3>
<ul>
<li>æœåŠ¡éƒ¨ç½²æ–¹å¼ï¼ˆå•ä½“ / å¾®æœåŠ¡ï¼‰</li>
<li>ä¾èµ–çš„ä¸­é—´ä»¶ï¼ˆMySQLã€Redisã€Kafka ç­‰ï¼‰</li>
<li>æ˜¯å¦éœ€è¦å¼‚æ­¥å¤„ç†ï¼Ÿæ˜¯å¦å¼•å…¥å®šæ—¶ä»»åŠ¡ï¼Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-8">4. è¯¦ç»†è®¾è®¡</h2>
<h3 data-id="heading-9">4.1 æ•°æ®åº“è¡¨è®¾è®¡</h3>
<p>âš ï¸ <strong>å‘½åè§„èŒƒæé†’</strong>ï¼š<br/>
é¿å…ä½¿ç”¨ SQL å…³é”®å­—ä½œä¸ºå­—æ®µåï¼Œå¦‚ <code>status</code>ã€<code>type</code>ã€<code>group</code>ã€<code>order</code> ç­‰ã€‚å»ºè®®ä½¿ç”¨ä¸šåŠ¡è¯­ä¹‰åŒ–å‰ç¼€ï¼Œå¦‚ <code>link_status</code>ã€<code>record_type</code>ã€‚</p>
<h4 data-id="heading-10">è¡¨åï¼š<code>xxx</code></h4>





























































<table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>æè¿°</th><th>çº¦æŸ</th><th>å¿…å¡«</th></tr></thead><tbody><tr><td>id</td><td>BIGINT</td><td>ä¸»é”®ï¼Œé›ªèŠ± ID</td><td>PRIMARY KEY</td><td>Y</td></tr><tr><td>......</td><td>......</td><td>......</td><td>......</td><td>......</td></tr><tr><td>created_at</td><td>DATETIME</td><td>åˆ›å»ºæ—¶é—´</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Y</td></tr><tr><td>created_by</td><td>BIGINT</td><td>åˆ›å»ºäºº</td><td>â€”</td><td>Y</td></tr><tr><td>updated_at</td><td>DATETIME</td><td>æ›´æ–°æ—¶é—´</td><td>ON UPDATE CURRENT_TIMESTAMP</td><td>Y</td></tr><tr><td>updated_by</td><td>BIGINT</td><td>æ›´æ–°äºº</td><td>â€”</td><td>Y</td></tr><tr><td>deleted_at</td><td>DATETIME</td><td>è½¯åˆ é™¤æ ‡è®°ï¼ˆé NULL è¡¨ç¤ºå·²åˆ é™¤ï¼‰</td><td>â€”</td><td>N</td></tr></tbody></table>
<h3 data-id="heading-11"><strong>4.2 APIæ¥å£è®¾è®¡</strong></h3>
<h4 data-id="heading-12"><strong>æ¥å£è§„èŒƒ</strong></h4>
<ul>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šURLè·¯å¾„åŒ…å«ç‰ˆæœ¬å· <code>/api/v1/xxx</code></li>
<li><strong>è¯·æ±‚æ–¹æ³•</strong>ï¼šGETï¼ˆæŸ¥è¯¢ï¼‰ï¼ŒPOSTï¼ˆåˆ›å»ºï¼‰ï¼ŒPUTï¼ˆæ›´æ–°ï¼‰ï¼ŒDELETEï¼ˆåˆ é™¤ï¼‰</li>
<li><strong>æ•°æ®æ ¼å¼</strong>ï¼šè¯·æ±‚/å“åº”å‡ä¸ºJSON</li>
<li><strong>ç¼–ç æ ¼å¼</strong>ï¼šUTF-8</li>
<li><strong>è·¨åŸŸæ”¯æŒ</strong>ï¼šCORSé…ç½®</li>
<li><strong>é”™è¯¯ç å®šä¹‰</strong></li>
</ul>
<h3 data-id="heading-13">4.3 æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰è®¾è®¡ï¼ˆå¦‚é€‚ç”¨ï¼‰</h3>



















<table><thead><tr><th>Topic/Queue</th><th>ç”Ÿäº§è€…</th><th>æ¶ˆè´¹è€…</th><th>æ¶ˆæ¯å†…å®¹ç¤ºä¾‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>xxx</td><td>xxx</td><td>xxx</td><td>xxx</td><td>xxx</td></tr></tbody></table>
<h3 data-id="heading-14">4.4 å®šæ—¶ä»»åŠ¡è®¾è®¡ï¼ˆå¦‚ XXL-JOBï¼‰</h3>

















<table><thead><tr><th>ä»»åŠ¡åç§°</th><th>æ‰§è¡Œé¢‘ç‡</th><th>åŠŸèƒ½æè¿°</th><th>è´Ÿè´£æœåŠ¡</th></tr></thead><tbody><tr><td>xxx</td><td>æ¯å¤© 02:00</td><td>xxx</td><td>xxx</td></tr></tbody></table>
<h2 data-id="heading-15">5. éåŠŸèƒ½æ€§è®¾è®¡</h2>
<h3 data-id="heading-16">5.1 å®‰å…¨è®¾è®¡</h3>
<ul>
<li>æ¥å£é‰´æƒæ–¹å¼</li>
<li>æ•æ„Ÿæ•°æ®æ˜¯å¦è„±æ•/åŠ å¯†</li>
<li>é˜²åˆ·æœºåˆ¶ï¼ˆå¦‚é™æµã€éªŒè¯ç ï¼‰</li>
<li>.......</li>
</ul>
<h3 data-id="heading-17">5.2 æ€§èƒ½ä¸å®¹é‡è§„åˆ’</h3>
<ul>
<li>é¢„ä¼° QPS / TPS</li>
<li>ç¼“å­˜ç­–ç•¥ï¼ˆå‘½ä¸­ç‡ç›®æ ‡ã€æ·˜æ±°ç­–ç•¥ï¼‰</li>
<li>æ•°æ®åº“è¯»å†™åˆ†ç¦» or åˆ†åº“åˆ†è¡¨</li>
<li>å‹æµ‹è®¡åˆ’ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-18">6. è¡¥å……è¯´æ˜ä¸å¾…åŠäº‹é¡¹</h2>
<ul>
<li><strong>å¾…ç¡®è®¤é¡¹</strong>ï¼š</li>
<li><strong>é£é™©ä¸åº”å¯¹</strong>ï¼š</li>
<li><strong>ä¸Šçº¿ checklist</strong>ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>SQL ä¸Šçº¿è„šæœ¬å®¡æ ¸ï¼ˆè§„é¿å…³é”®å­—ï¼‰</li>
<li>ç›‘æ§å‘Šè­¦é…ç½®ï¼ˆå¦‚é”™è¯¯ç‡ &gt; 1%ï¼‰</li>
<li>ç°åº¦å‘å¸ƒæ–¹æ¡ˆ</li>
</ul>
</li>
</ul>
<p>å¯ä»¥æ ¹æ®é¡¹ç›®çš„<strong>å¤æ‚åº¦</strong>å’Œ<strong>å›¢é˜Ÿè§„èŒƒ</strong>ï¼Œå¯¹è¿™ä¸ªæ¨¡æ¿è¿›è¡Œâ€œå‰ªè£â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº YOLOv8 çš„æ™ºèƒ½æ‚è‰æ£€æµ‹è¯†åˆ«å®æˆ˜ [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]]]></title>    <link>https://juejin.cn/post/7593356633637044258</link>    <guid>https://juejin.cn/post/7593356633637044258</guid>    <pubDate>2026-01-11T08:05:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593356633637044258" data-draft-id="7593573617646714932" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº YOLOv8 çš„æ™ºèƒ½æ‚è‰æ£€æµ‹è¯†åˆ«å®æˆ˜ [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T08:05:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº YOLOv8 çš„æ™ºèƒ½æ‚è‰æ£€æµ‹è¯†åˆ«å®æˆ˜ [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:05:41.000Z" title="Sun Jan 11 2026 08:05:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº YOLOv8 çš„æ™ºèƒ½æ‚è‰æ£€æµ‹è¯†åˆ«å®æˆ˜ [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šä¸ºä»€ä¹ˆæ‚è‰è¯†åˆ«æ˜¯æ™ºæ…§å†œä¸šä¸­çš„â€œç¡¬é—®é¢˜â€ï¼Ÿ</h3>
<p>åœ¨æ™ºæ…§å†œä¸šåœºæ™¯ä¸­ï¼Œ<strong>æ‚è‰è¯†åˆ«</strong>ä¸€ç›´è¢«è®¤ä¸ºæ˜¯ç›®æ ‡æ£€æµ‹ä¸­éš¾åº¦è¾ƒé«˜çš„ä¸€ç±»ä»»åŠ¡ï¼ŒåŸå› ä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>æ‚è‰ä¸ä½œç‰©å¤–è§‚é«˜åº¦ç›¸ä¼¼ï¼Œç±»åˆ«è¾¹ç•Œæ¨¡ç³Š</li>
<li>ç”Ÿé•¿é˜¶æ®µå·®å¼‚å¤§ï¼Œå°ºåº¦å˜åŒ–å‰§çƒˆ</li>
<li>ç”°é—´å…‰ç…§å¤æ‚ï¼ŒèƒŒæ™¯å™ªå£°ä¸¥é‡</li>
<li>å®é™…åº”ç”¨å¯¹ <strong>å®æ—¶æ€§ä¸ç¨³å®šæ€§</strong> è¦æ±‚æé«˜</li>
</ul>
<p>ä¼ ç»ŸåŸºäºè§„åˆ™æˆ–ç®€å•åˆ†ç±»æ¨¡å‹çš„æ–¹æ³•éš¾ä»¥æ»¡è¶³éœ€æ±‚ï¼Œè€Œè¿‘å¹´æ¥ä»¥ YOLO ä¸ºä»£è¡¨çš„å®æ—¶ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œä¸ºè¿™ä¸€é—®é¢˜æä¾›äº†å¯å·¥ç¨‹åŒ–è½åœ°çš„è§£å†³è·¯å¾„ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸ª <strong>åŸºäº YOLOv8 çš„ç”°é—´æ‚è‰æ£€æµ‹å®Œæ•´é¡¹ç›®</strong>ï¼Œä»ç³»ç»Ÿæ¶æ„ã€æ¨¡å‹è®­ç»ƒåˆ°æ¡Œé¢ç«¯å¯è§†åŒ–éƒ¨ç½²ï¼Œå±•ç¤ºå¦‚ä½•æ„å»ºä¸€å¥—çœŸæ­£â€œå¯ç”¨â€çš„å†œä¸š AI æ£€æµ‹ç³»ç»Ÿã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c09a276d8c544c9b42887bbeab296eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=Xqex0crdboKWNOhweG0WhFQADtI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h4>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV13iunzQEhk%2F" target="_blank" title="https://www.bilibili.com/video/BV13iunzQEhk/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV13iâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff23c18980d4449bbf193fbc07891f84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=iiRM2Sjf89PkDVyPp93HMgt4wKY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<h3 data-id="heading-3">ä¸€ã€ç³»ç»Ÿæ•´ä½“æ–¹æ¡ˆè®¾è®¡</h3>
<p>æœ¬é¡¹ç›®å¹¶éå•ä¸€æ¨¡å‹å®éªŒï¼Œè€Œæ˜¯æŒ‰ç…§å·¥ç¨‹ç³»ç»Ÿæ€è·¯è¿›è¡Œè®¾è®¡ï¼Œæ•´ä½“ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">æ‚è‰å›¾åƒæ•°æ®
   â†“
YOLOv8 æ£€æµ‹æ¨¡å‹è®­ç»ƒ
   â†“
æ¨ç†æœåŠ¡æ¨¡å—
   â†“
PyQt5 æ¡Œé¢ç«¯å¯è§†åŒ–ç³»ç»Ÿ
</code></pre>
<h4 data-id="heading-4">æŠ€æœ¯é€‰å‹è¯´æ˜</h4>





























<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ£€æµ‹ç®—æ³•</td><td>YOLOv8ï¼ˆUltralyticsï¼‰</td></tr><tr><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>PyTorch</td></tr><tr><td>æ¨ç†æ¥å£</td><td>YOLOv8 Python API</td></tr><tr><td>æ¡Œé¢ç«¯ç•Œé¢</td><td>PyQt5</td></tr><tr><td>éƒ¨ç½²æ–¹å¼</td><td>è„šæœ¬ / å¯æ‰§è¡Œç¨‹åº</td></tr></tbody></table>
<p>è¯¥æ–¹æ¡ˆå…¼é¡¾äº† <strong>ç®—æ³•æ€§èƒ½</strong> ä¸ <strong>ä½¿ç”¨é—¨æ§›</strong>ï¼Œä½¿éç®—æ³•èƒŒæ™¯ç”¨æˆ·ä¹Ÿèƒ½å®Œæˆæ‚è‰æ£€æµ‹ä»»åŠ¡ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6da107d221a648e0b1a921ad7ea3d9d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=ODLCRCvyBG6iqYH1oPMngkKCdlI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/285b081412ad4550bd46aa4cf9b6805d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=lRcZtmD8wWltiG8D%2Biak2i84DAI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-5">äºŒã€æ‚è‰æ£€æµ‹ä»»åŠ¡çš„æ•°æ®ç‰¹ç‚¹</h3>
<h4 data-id="heading-6">2.1 æ•°æ®é›†æ„æˆ</h4>
<p>é¡¹ç›®ä½¿ç”¨çš„æ˜¯ <strong>å¤šç±»åˆ«ç”°é—´æ‚è‰ç›®æ ‡æ£€æµ‹æ•°æ®é›†</strong>ï¼Œæ‰€æœ‰æ ·æœ¬å‡æ¥è‡ªçœŸå®å†œç”°åœºæ™¯ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>ä¸åŒç”Ÿé•¿é˜¶æ®µçš„æ‚è‰</li>
<li>ä¸åŒå¤©æ°”ä¸å…‰ç…§æ¡ä»¶</li>
<li>å•å›¾å¤šç›®æ ‡ã€ç›®æ ‡é‡å æƒ…å†µ</li>
</ul>
<p>ä¸â€œæ•´å›¾åˆ†ç±»â€ä¸åŒï¼Œæœ¬é¡¹ç›®é‡‡ç”¨ <strong>ç›®æ ‡æ£€æµ‹æ ‡æ³¨æ–¹å¼</strong>ï¼Œç¡®ä¿æ¨¡å‹ä¸ä»…â€œçŸ¥é“æ˜¯ä»€ä¹ˆâ€ï¼Œè¿˜èƒ½â€œçŸ¥é“åœ¨å“ªé‡Œâ€ã€‚</p>
<h4 data-id="heading-7">2.2 æ ‡æ³¨æ ¼å¼è®¾è®¡</h4>
<p>é‡‡ç”¨æ ‡å‡† YOLO Detection æ ¼å¼ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">class_id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">x_center</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">y_center</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">width</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">height</span>&gt;</span>
</code></pre>
<p>æ‰€æœ‰åæ ‡å‡ä¸ºå½’ä¸€åŒ–æ¯”ä¾‹ï¼Œä¾¿äºæ¨¡å‹åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹ç¨³å®šæ¨ç†ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d28c35bfb3024b9aa167cb15e9153650~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=7B0TRdeZl48veBpmrEIpDw5k1rM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-8">ä¸‰ã€YOLOv8 åœ¨å†œä¸šåœºæ™¯ä¸­çš„ä¼˜åŠ¿</h3>
<h4 data-id="heading-9">3.1 ç®—æ³•å±‚é¢çš„æ”¹è¿›</h4>
<p>YOLOv8 ç›¸è¾ƒäºæ—©æœŸ YOLO ç‰ˆæœ¬ï¼Œåœ¨ä»¥ä¸‹æ–¹é¢è¡¨ç°çªå‡ºï¼š</p>
<ul>
<li><strong>Anchor-Free è®¾è®¡</strong>ï¼Œå‡å°‘è¶…å‚æ•°ä¾èµ–</li>
<li>Task-Aligned Assignerï¼Œæé«˜æ­£è´Ÿæ ·æœ¬åˆ†é…è´¨é‡</li>
<li>è§£è€¦æ£€æµ‹å¤´ï¼Œæå‡åˆ†ç±»ä¸å›å½’ç¨³å®šæ€§</li>
</ul>
<p>è¿™äº›æ”¹è¿›å¯¹ <strong>å°ç›®æ ‡ã€å¯†é›†ç›®æ ‡</strong> çš„æ‚è‰æ£€æµ‹å°¤ä¸ºå…³é”®ã€‚</p>
<h4 data-id="heading-10">3.2 å·¥ç¨‹é€‚é…æ€§</h4>
<p>YOLOv8 æä¾›äº†é«˜åº¦ç»Ÿä¸€çš„ APIï¼š</p>
<ul>
<li>è®­ç»ƒ / éªŒè¯ / æ¨ç†ä¸€å¥—æ¥å£å®Œæˆ</li>
<li>æ”¯æŒ n / s / m ç­‰å¤šæ¨¡å‹è§„æ¨¡åˆ‡æ¢</li>
<li>ä¾¿äºå¯¼å‡º ONNXã€TensorRT ç­‰éƒ¨ç½²æ ¼å¼</li>
</ul>
<p>è¿™ä½¿å…¶éå¸¸é€‚åˆå†œä¸šè¿™ç±» <strong>éœ€è¦å¿«é€ŸéªŒè¯ä¸éƒ¨ç½²</strong> çš„åº”ç”¨åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-11">å››ã€æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°æµç¨‹</h3>
<h4 data-id="heading-12">4.1 æ•°æ®ç»„ç»‡ç»“æ„</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train
â”‚   â””â”€â”€ <span class="hljs-keyword">val</span>
â””â”€â”€ labels/
    â”œâ”€â”€ train
    â””â”€â”€ <span class="hljs-keyword">val</span>
</code></pre>
<p>å¹¶é€šè¿‡ YAML æ–‡ä»¶ç»Ÿä¸€æè¿°æ•°æ®è·¯å¾„ä¸ç±»åˆ«ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-13">4.2 è®­ç»ƒæ–¹å¼</h4>
<p>æ¨¡å‹è®­ç»ƒåŸºäº Ultralytics å®˜æ–¹å‘½ä»¤è¡Œæ¥å£å®Œæˆï¼Œæ”¯æŒï¼š</p>
<ul>
<li>é¢„è®­ç»ƒæƒé‡è¿ç§»å­¦ä¹ </li>
<li>è‡ªå®šä¹‰ç±»åˆ«æ‰©å±•</li>
<li>æ‰¹é‡å¤§å°ã€å­¦ä¹ ç‡çµæ´»è°ƒæ•´</li>
</ul>
<p>è®­ç»ƒè¿‡ç¨‹ä¸­é‡ç‚¹å…³æ³¨ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
<ul>
<li><code>box_loss</code>ï¼šå®šä½ç²¾åº¦</li>
<li><code>cls_loss</code>ï¼šç±»åˆ«åŒºåˆ†èƒ½åŠ›</li>
<li><code>mAP@0.5</code>ï¼šæ˜¯å¦å…·å¤‡éƒ¨ç½²ä»·å€¼</li>
</ul>
<p>åœ¨å®éªŒä¸­ï¼Œå½“ mAP@0.5 ç¨³å®šè¾¾åˆ°è¾ƒé«˜æ°´å¹³åï¼Œå³å¯è¿›å…¥éƒ¨ç½²é˜¶æ®µã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617a1b14911b4d8aa46a931a84009132~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=D1GnMikw%2FqpWq01v%2Fb9FntwjGfM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-14">äº”ã€æ¨ç†ç³»ç»Ÿä¸ç»“æœå±•ç¤º</h3>
<h4 data-id="heading-15">5.1 æ¨ç†æµç¨‹</h4>
<p>æ¨ç†é˜¶æ®µé€šè¿‡ Python API è°ƒç”¨ YOLOv8 æ¨¡å‹ï¼Œè‡ªåŠ¨è¾“å‡ºï¼š</p>
<ul>
<li>æ£€æµ‹æ¡†ä½ç½®</li>
<li>æ‚è‰ç±»åˆ«</li>
<li>ç½®ä¿¡åº¦åˆ†æ•°</li>
<li>å¯è§†åŒ–ç»“æœå›¾åƒ</li>
</ul>
<p>è¯¥è¿‡ç¨‹æ— éœ€æ‰‹åŠ¨ç¼–å†™å¤æ‚åå¤„ç†é€»è¾‘ï¼Œæå¤§é™ä½äº†ç³»ç»Ÿé›†æˆæˆæœ¬ã€‚</p>
<h4 data-id="heading-16">5.2 æ£€æµ‹æ•ˆæœåˆ†æ</h4>
<p>åœ¨çœŸå®ç”°é—´åœºæ™¯ä¸­ï¼Œç³»ç»Ÿè¡¨ç°å‡ºä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¯¹å¸¸è§æ‚è‰å…·æœ‰è‰¯å¥½è¯†åˆ«ç¨³å®šæ€§</li>
<li>æ”¯æŒå•å›¾å¤šç›®æ ‡æ£€æµ‹</li>
<li>åœ¨è§†é¢‘ä¸å®æ—¶æµåœºæ™¯ä¸­ä¿æŒè¾ƒé«˜å¸§ç‡</li>
</ul>
<hr/>
<h3 data-id="heading-17">å…­ã€PyQt5 æ¡Œé¢ç«¯ç³»ç»Ÿè®¾è®¡</h3>
<p>ä¸ºäº†è®©æ¨¡å‹çœŸæ­£â€œç”¨èµ·æ¥â€ï¼Œé¡¹ç›®æ„å»ºäº†ä¸€ä¸ª <strong>æ¡Œé¢çº§æ‚è‰æ£€æµ‹å·¥å…·</strong>ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>å•å¼ å›¾ç‰‡æ£€æµ‹</li>
<li>æ–‡ä»¶å¤¹æ‰¹é‡æ£€æµ‹</li>
<li>è§†é¢‘æ–‡ä»¶æ£€æµ‹</li>
<li>USB æ‘„åƒå¤´å®æ—¶è¯†åˆ«</li>
<li>æ£€æµ‹ç»“æœè‡ªåŠ¨ä¿å­˜</li>
</ul>
<h4 data-id="heading-18">6.1 æ¨¡å‹ä¸ç•Œé¢è§£è€¦</h4>
<p>PyQt5 ç•Œé¢ä»…è´Ÿè´£ï¼š</p>
<ul>
<li>æ•°æ®è¾“å…¥</li>
<li>å‚æ•°æ§åˆ¶</li>
<li>ç»“æœå±•ç¤º</li>
</ul>
<p>æ‰€æœ‰ç®—æ³•é€»è¾‘ç‹¬ç«‹å°è£…ï¼Œä¾¿äºåæœŸæ¨¡å‹æ›¿æ¢æˆ–ç³»ç»Ÿå‡çº§ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0449275464334acf970023a8929b4432~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=QGI3Bu%2BYvJu%2B3145%2BmYX7dsKV%2FI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-19">ä¸ƒã€åº”ç”¨åœºæ™¯ä¸æ‰©å±•ä»·å€¼</h3>
<p>è¯¥ç³»ç»Ÿä¸ä»…é€‚ç”¨äºå®éªŒéªŒè¯ï¼Œè¿˜å…·å¤‡è¿›ä¸€æ­¥è½åœ°æ½œåŠ›ï¼š</p>
<ul>
<li>æ™ºæ…§å†œä¸šé™¤è‰è¾…åŠ©ç³»ç»Ÿ</li>
<li>å†œæœºè§†è§‰æ¨¡å—åŸå‹</li>
<li>å†œä¸š AI æ•™å­¦ä¸åŸ¹è®­</li>
<li>æ¯•ä¸šè®¾è®¡ä¸ç§‘ç ”å®éªŒå¹³å°</li>
</ul>
<p>é€šè¿‡æ›¿æ¢æ•°æ®é›†ä¸ç±»åˆ«é…ç½®ï¼Œä¹Ÿå¯å¿«é€Ÿè¿ç§»è‡³ <strong>ç—…è™«å®³æ£€æµ‹ã€ä½œç‰©è¯†åˆ«ç­‰ä»»åŠ¡</strong>ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d9e4e3b919045b0aab49abd4d98ab27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768723541&amp;x-signature=unjQ3JIHFWBIWZtSelGRuGkA%2Ba0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-20">æ€»ç»“</h3>
<p>æœ¬æ–‡ä»å·¥ç¨‹å®è·µè§’åº¦ï¼Œç³»ç»Ÿä»‹ç»äº†ä¸€å¥— <strong>åŸºäº YOLOv8 çš„ç”°é—´æ‚è‰æ£€æµ‹å®Œæ•´è§£å†³æ–¹æ¡ˆ</strong>ã€‚è¯¥é¡¹ç›®å¹¶éåœç•™åœ¨æ¨¡å‹ç²¾åº¦å¯¹æ¯”å±‚é¢ï¼Œè€Œæ˜¯è´¯ç©¿äº†ä»æ•°æ®ã€ç®—æ³•åˆ°å¯è§†åŒ–éƒ¨ç½²çš„å®Œæ•´æµç¨‹ï¼ŒçœŸæ­£ä½“ç°äº† AI æŠ€æœ¯åœ¨å†œä¸šåœºæ™¯ä¸­çš„è½åœ°æ–¹å¼ã€‚</p>
<p>å…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>æµç¨‹å®Œæ•´ï¼Œå¯å¤ç°</li>
<li>æ¶æ„æ¸…æ™°ï¼Œæ˜“æ‰©å±•</li>
<li>å…¼é¡¾ç®—æ³•æ€§èƒ½ä¸å·¥ç¨‹å®ç”¨æ€§</li>
</ul>
<p>å¯¹äºå¸Œæœ›æ·±å…¥ç†è§£ <strong>ç›®æ ‡æ£€æµ‹å¦‚ä½•æœåŠ¡äºçœŸå®å†œä¸šåº”ç”¨</strong>ï¼Œæˆ–å¸Œæœ›å¿«é€Ÿæ„å»ºå¯äº¤ä»˜ AI ç³»ç»Ÿçš„å¼€å‘è€…è€Œè¨€ï¼Œè¯¥é¡¹ç›®å…·å¤‡è¾ƒé«˜çš„å­¦ä¹ ä¸å®è·µå‚è€ƒä»·å€¼ã€‚</p>
<p>æœ¬æ–‡å›´ç»•ç”°é—´æ‚è‰æ™ºèƒ½è¯†åˆ«è¿™ä¸€å…¸å‹çš„æ™ºæ…§å†œä¸šåº”ç”¨åœºæ™¯ï¼Œç³»ç»Ÿé˜è¿°äº†ä¸€å¥—åŸºäº YOLOv8 çš„ç›®æ ‡æ£€æµ‹å·¥ç¨‹æ–¹æ¡ˆã€‚é€šè¿‡å¯¹æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°ã€æ¨ç†æµç¨‹ä»¥åŠ PyQt5 æ¡Œé¢ç«¯å¯è§†åŒ–ç³»ç»Ÿçš„æ•´ä½“ä»‹ç»ï¼Œå®Œæ•´å‘ˆç°äº†ä»ç®—æ³•ç ”å‘åˆ°å®é™…å¯ç”¨ç³»ç»Ÿè½åœ°çš„æŠ€æœ¯é—­ç¯ã€‚è¯¥é¡¹ç›®ä¸ä»…éªŒè¯äº† YOLOv8 åœ¨å¤æ‚ç”°é—´ç¯å¢ƒä¸‹å¯¹å¤šç±»åˆ«æ‚è‰æ£€æµ‹çš„æœ‰æ•ˆæ€§ä¸å®æ—¶æ€§ï¼Œä¹Ÿå±•ç¤ºäº†æ·±åº¦å­¦ä¹ æ¨¡å‹åœ¨å†œä¸šåœºæ™¯ä¸­å·¥ç¨‹åŒ–ã€äº§å“åŒ–çš„å®ç°è·¯å¾„ã€‚å¯¹äºå¸Œæœ›å°†è®¡ç®—æœºè§†è§‰æŠ€æœ¯åº”ç”¨äºæ™ºæ…§å†œä¸šã€ç§‘ç ”æ•™å­¦æˆ–å·¥ç¨‹å®è·µçš„å¼€å‘è€…è€Œè¨€ï¼Œè¯¥æ–¹æ¡ˆå…·å¤‡è¾ƒå¼ºçš„å‚è€ƒä»·å€¼ä¸å¯æ‰©å±•ç©ºé—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ­ä¿¡å¹³å° Pro ç‰ˆæœ¬ ï¼Œæ¯”å¼€æºç‰ˆæœ¬æ›´å¼ºå¤§]]></title>    <link>https://juejin.cn/post/7593771861323350042</link>    <guid>https://juejin.cn/post/7593771861323350042</guid>    <pubDate>2026-01-11T08:25:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323350042" data-draft-id="7593713738856218662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ­ä¿¡å¹³å° Pro ç‰ˆæœ¬ ï¼Œæ¯”å¼€æºç‰ˆæœ¬æ›´å¼ºå¤§"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T08:25:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‹‡å“¥Javaå®æˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/3693987061329080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ­ä¿¡å¹³å° Pro ç‰ˆæœ¬ ï¼Œæ¯”å¼€æºç‰ˆæœ¬æ›´å¼ºå¤§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3693987061329080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‹‡å“¥Javaå®æˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:25:56.000Z" title="Sun Jan 11 2026 08:25:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å‹‡å“¥ã€‚
åœ¨ 2023 å¹´ï¼Œå‹‡å“¥å†™äº†ä¸€ä¸ªå¼€æºç‰ˆçš„çŸ­ä¿¡å¹³å° ï¼Œè§é“¾æ¥ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F7zTIzbNjiQkoCIY8Be0J3Q" target="_blank" title="https://mp.weixin.qq.com/s/7zTIzbNjiQkoCIY8Be0J3Q" ref="nofollow noopener noreferrer">ä¸‰ä¸ªæœˆå†™äº†ä¸ªè¿·ä½ ç‰ˆçš„çŸ­ä¿¡å¹³å°ï¼Œå¼€æºå‡ºæ¥ï¼</a></p>
<p>æœ€è¿‘ï¼Œæˆ‘èŠ±äº†ä¸¤ä¸ªæœˆæ—¶é—´é‡å†™äº†æˆ‘ä»¬çš„çŸ­ä¿¡æœåŠ¡é¡¹ç›®ï¼ˆçŸ¥è¯†æ˜Ÿçƒç‰ˆæœ¬ï¼‰ã€‚è¿™æ¬¡é‡æ„ä¸»è¦åŸºäºå‡ ä¸ªæ ¸å¿ƒéœ€æ±‚ï¼š</p>
<ol start="0">
<li><strong>ä¸åŒç±»å‹çš„çŸ­ä¿¡éœ€è¦å‘é€éš”ç¦»</strong> è¥é”€çŸ­ä¿¡ã€éªŒè¯ç çŸ­ä¿¡å’Œé€šçŸ¥çŸ­ä¿¡çš„æ—¶æ•ˆæ€§è¦æ±‚ä¸åŒï¼Œéœ€è¦ä»é˜Ÿåˆ—ã€æ‹‰å–ã€æ¶ˆè´¹åˆ°å‘é€çš„é“¾è·¯å®Œå…¨ç‹¬ç«‹ã€‚</li>
<li><strong>æ¸ é“é…ç½®éœ€è¦æ›´çµæ´»</strong> ä¸åŒçŸ­ä¿¡æ¸ é“ï¼ˆå¦‚è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ï¼‰çš„é…ç½®é¡¹ä¸åŒï¼Œç³»ç»Ÿéœ€è¦æ”¯æŒåŠ¨æ€æ‰©å±•ï¼Œä¾‹å¦‚è…¾è®¯äº‘éœ€å•ç‹¬é…ç½® appIdã€‚</li>
<li><strong>SDK éœ€æ”¯æŒæ‰¹é‡å‘é€</strong> æ— è®ºæ˜¯å•å‘è¿˜æ˜¯ç¾¤å‘ï¼ŒSDK éƒ½è¦æä¾›ç®€æ´æ˜“ç”¨çš„æ¥å£ï¼Œå¹¶åŒæ—¶æ”¯æŒå›½å†…ä¸å›½é™…çŸ­ä¿¡ã€‚</li>
<li><strong>ç®¡ç†ç«¯æ”¯æŒå¤§è§„æ¨¡æ‰¹é‡å‘é€</strong> æ”¯æŒé€šè¿‡ç•Œé¢ä¸Šä¼  Excel æ–‡ä»¶è¿›è¡Œæ‰¹é‡å‘é€ï¼Œèƒ½å¤Ÿç¨³å®šå¤„ç†åä¸‡çº§åˆ«çš„å‘é€ä»»åŠ¡ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adcaa109859d4c348c87fb83f8ac1efa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=%2BxJwEzAINBKhjq2CsqvoFEJPS9c%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36c0932730ce4b488a377662f12b09fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=%2Fil9xIj7XsNdD6CipV00MFsxS3w%3D" alt="ä½¿ç”¨ç¤ºä¾‹" loading="lazy"/></p>
<h2 data-id="heading-0">1 çŸ­ä¿¡æ¸ é“é…ç½®</h2>
<p>ç³»ç»Ÿé»˜è®¤æ”¯æŒè…¾è®¯äº‘ã€é˜¿é‡Œäº‘ã€åˆä¸€çŸ­ä¿¡ã€äº¿ç¾å››ç§æ¸ é“ï¼Œæ¯ç§æ¸ é“éƒ½æœ‰ç‹¬ç«‹çš„é…ç½®é¡µé¢ï¼Œå¹¶æ”¯æŒåŠ¨æ€æ‰©å±•å­—æ®µã€‚ä¾‹å¦‚è…¾è®¯äº‘å¯ä»¥å•ç‹¬é…ç½® appIdï¼Œç¡®ä¿ä¸åŒæ¸ é“çš„å·®å¼‚åŒ–å‚æ•°éƒ½èƒ½çµæ´»æ¥å…¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/749d9e4bc3a943c19723829f91a8f86c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=3JC66ymONphVUnD%2FB5qLsH8oIt0%3D" alt="" loading="lazy"/></p>
<p>æ¯ç§æ¸ é“æ”¯æŒé…ç½®å•ç‹¬çš„é…ç½®é¡¹ ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/188107a5d93b48a0a9ea0e5d024ded8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=%2FRzOL0x%2FjZOVCf3mKfmy4q7lWng%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œè…¾è®¯ SDK å‘é€çŸ­ä¿¡éœ€è¦é…ç½® appId ï¼Œ æˆ‘åœ¨è®¾è®¡é¡µé¢æ—¶ï¼Œå¢åŠ äº†æ¸ é“æ‰©å±•å­—æ®µï¼Œå¯ä»¥åŠ¨æ€çš„æ·»åŠ å±æ€§ã€‚</p>
<h2 data-id="heading-1">2 çŸ­ä¿¡ç±»å‹å‘é€éš”ç¦»</h2>
<p>é’ˆå¯¹è¥é”€ã€éªŒè¯ç ã€é€šçŸ¥ä¸åŒç±»å‹çš„çŸ­ä¿¡ï¼Œç³»ç»Ÿä¸ºæ¯ç§ç±»å‹ç‹¬ç«‹é…ç½®äº†æ¶ˆæ¯é˜Ÿåˆ—ä¸»é¢˜ã€æ‹‰å–çº¿ç¨‹å’Œæ¶ˆè´¹çº¿ç¨‹ï¼Œå®ç°ä»é˜Ÿåˆ—åˆ°å‘é€çš„å…¨ç¨‹éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“ï¼Œä¿éšœé«˜æ—¶æ•ˆæ€§çŸ­ä¿¡çš„ä¼˜å…ˆé€è¾¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a498482c46d340598fd8ac92cb171cd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=0XF%2FUH%2FXg%2FFB%2B2CFT5qdlUlYekw%3D" alt="çŸ­ä¿¡å¹³å°-pro ç‰ˆæœ¬" loading="lazy"/></p>
<h2 data-id="heading-2">3 SDK æ”¯æŒæ‰¹é‡å‘é€</h2>
<p>åœ¨ SDK å±‚é¢ï¼Œå·²å®Œæ•´å®ç°å•å‘ä¸æ‰¹é‡å‘é€æ¥å£ï¼ŒåŒæ—¶æ”¯æŒå›½å†…ä¸å›½é™…çŸ­ä¿¡ï¼Œè°ƒç”¨ç®€å•ï¼Œæ˜“äºé›†æˆåˆ°å„ç±»ä¸šåŠ¡ç³»ç»Ÿä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/377bce4f8f264844827d93b37cd642c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=GAmIghyyxzzeqYOG2RARHJiOqmM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">4 ç®¡ç†ç«¯æ‰¹é‡å‘é€ï¼ˆæ‰‹å·¥ + æ–‡ä»¶ï¼‰</h2>
<p><strong>1ã€æ¨¡æ¿æ— å‚æ•°</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2964cd8cafd14990abf4402b88a90ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=dBEe5Cem3ZsUgsWEtik4P37a46k%3D" alt="image-20260107231326646" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œå½“é…ç½®çš„çŸ­ä¿¡æ¨¡æ¿æ²¡æœ‰å‚æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥æ‰‹å·¥è¾“å…¥æ‰‹æœºå· ï¼Œå‘é€çŸ­ä¿¡ã€‚</p>
<p><strong>2ã€æ¨¡æ¿æœ‰å‚æ•°</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/555b2702759644cc9bda8042e5fc86a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=8MbtDU3lxGn8qxS0i7or3MPev4E%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œæˆ‘ä»¬ä¸Šä¼ äº†ä¸€ä¸ªç¤ºä¾‹ Excel ï¼Œ Excel å†…éƒ¨çš„æ•°æ®æ ¼å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b462bd4a254845b3a5c6783072982294~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=2JIP1e5zEJfsofAJn3davFlUk8w%3D" alt="image-20260107231659508" loading="lazy"/></p>
<p>çŸ­ä¿¡æ¨¡æ¿å†…å®¹æ˜¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-variable">${code}</span>ä¸ºæ‚¨çš„ç™»å½•éªŒè¯ç ï¼Œè¯·äº<span class="hljs-variable">${time}</span>åˆ†é’Ÿå†…å¡«å†™ï¼Œå¦‚éæœ¬äººæ“ä½œï¼Œè¯·å¿½ç•¥æœ¬çŸ­ä¿¡ã€‚
</code></pre>
<p>æäº¤ä»»åŠ¡ä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨ ä»¥åŠä»»åŠ¡è¯¦æƒ… ï¼Œä¹Ÿå¯ä»¥ç²¾ç¡®åˆ°é€šè¿‡å“ªä¸ªæ¸ é“å‘é€çŸ­ä¿¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/825a83c61e7241adb5522303275c4d66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768724756&amp;x-signature=EfNbTwHdRvF5EPLIi1M3g6ohKNU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">5 æ€»ç»“</h2>
<p>æœ¬é¡¹ç›®åŸºäºå‹‡å“¥å¼€æºçš„ magic-admin é¡¹ç›®ç ”å‘ï¼Œè™½ç„¶èŠ±äº†ä¸å°‘æ—¶é—´ï¼Œä½†å› ä¸ªäººå¼€å‘è€…å½“å‰å·²æ— èµ„è´¨ç”³è¯·çŸ­ä¿¡æ¨¡æ¿ï¼ˆéœ€ä¼ä¸šèµ„è´¨ï¼‰ï¼Œè‡ªæµ‹èŒƒå›´æœ‰é™ã€‚åŒæ—¶å—é™äºä¸ªäººç²¾åŠ›ï¼Œéƒ¨åˆ†åŠŸèƒ½æš‚æ—¶åšäº†éšè—ï¼š<strong>è‡ªåŠ¨å‘æ¸ é“ç”³è¯·æ¨¡æ¿</strong> å’Œ <strong>å›è°ƒå›æ‰§æœºåˆ¶</strong> ã€‚</p>
<p>å¯¹è¯¥é¡¹ç›®æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå¯ä»¥è”ç³»æˆ‘ï¼ŒåŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–å®Œæ•´æºç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenAIäº®å‰‘åŒ»ç–—ï¼šChatGPT Healthæ­£å¼å‘å¸ƒï¼Œä½ çš„ç§äººå¥åº·å‚è°‹ä¸Šçº¿]]></title>    <link>https://juejin.cn/post/7593338828218466319</link>    <guid>https://juejin.cn/post/7593338828218466319</guid>    <pubDate>2026-01-11T08:39:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828218466319" data-draft-id="7593338828218449935" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenAIäº®å‰‘åŒ»ç–—ï¼šChatGPT Healthæ­£å¼å‘å¸ƒï¼Œä½ çš„ç§äººå¥åº·å‚è°‹ä¸Šçº¿"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-11T08:39:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenAIäº®å‰‘åŒ»ç–—ï¼šChatGPT Healthæ­£å¼å‘å¸ƒï¼Œä½ çš„ç§äººå¥åº·å‚è°‹ä¸Šçº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:39:25.000Z" title="Sun Jan 11 2026 08:39:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ è¿˜ä¹ æƒ¯äºèº«ä½“ä¸èˆ’æœæ—¶å…ˆå»æœç´¢å¼•æ“â€œè‡ªæˆ‘è¯Šæ–­â€ä¸€ç•ªï¼Œç„¶åè¢«è·³å‡ºæ¥çš„ç»“æœå“å¾—åŠæ­»ï¼Œé‚£ä¹ˆç°åœ¨ï¼Œè¿™ç§ä½“éªŒå¯èƒ½è¦æˆä¸ºå†å²äº†ã€‚</p>
<p>åœ¨ä¼ è¨€é£äº†æ•´æ•´ä¸¤å¹´ï¼Œç”šè‡³ä¸€åº¦è¢«å®˜æ–¹å¦è®¤ä¹‹åï¼ŒOpenAIç»ˆäºæ‘Šç‰Œäº†ã€‚2026å¹´1æœˆ8æ—¥ï¼ŒChatGPT Healthæ­£å¼äº®ç›¸ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªç®€å•çš„èŠå¤©æ’ä»¶ï¼Œè€Œæ˜¯OpenAIè¯•å›¾å°†å¤§æ¨¡å‹å¡è¿›ä½ å£è¢‹é‡Œï¼Œå……å½“é‚£ä¸ªéšå«éšåˆ°ã€æ‡‚ä½ æ•°æ®ã€ä¸”å®ˆå£å¦‚ç“¶çš„â€œå¥åº·å‚è°‹â€ã€‚</p>
<p>ä½œä¸ºä¸€åé•¿æœŸå…³æ³¨AIè½åœ°çš„è§‚å¯Ÿè€…ï¼Œæˆ‘ä»”ç»†ç ”ç©¶äº†è¿™æ¬¡å‘å¸ƒçš„ç»†èŠ‚ï¼Œå‘ç°OpenAIè¿™æ¬¡çš„æ‰“æ³•éå¸¸èªæ˜ï¼Œå®ƒé¿å¼€äº†â€œä»£æ›¿åŒ»ç”Ÿâ€çš„é›·åŒºï¼Œè½¬è€Œæ­»ç£•â€œä¿¡æ¯ä¸å¯¹ç§°â€å’Œâ€œæ•°æ®å­¤å²›â€è¿™ä¸¤ä¸ªç—›ç‚¹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasfsdgdfg-1024x576.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asfsdgdfg-1024x576.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a79d591b80d4891908d47df5d89db62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768725565&amp;x-signature=8UywoSybIJr0HZG0y1BZxenVRBk%3D" alt="asfsdgdfg" loading="lazy"/></a></p>
<p><strong>è¿™ä¸æ˜¯é‚£ä¸ªâ€œæ»¡å˜´è·‘ç«è½¦â€çš„èŠå¤©æ¡†</strong></p>
<p>å¾ˆå¤šäººå¯¹AIçœ‹ç—…æœ€å¤§çš„é¡¾è™‘å°±æ˜¯éšç§ã€‚æŠŠä½“æ£€æŠ¥å‘Šå–‚ç»™AIï¼Œè°çŸ¥é“å®ƒä¼šä¸ä¼šè½¬å¤´æ‹¿å»è®­ç»ƒæ¨¡å‹ï¼Œæˆ–è€…è¢«é»‘å®¢æ‰’ä¸ªç²¾å…‰ï¼Ÿ</p>
<p>OpenAIè¿™æ¬¡æ˜¾ç„¶æ˜¯æœ‰å¤‡è€Œæ¥ã€‚ChatGPT Healthæœ€å¤§çš„å–ç‚¹å°±æ˜¯å»ºç«‹äº†ä¸€ä¸ªç‰©ç†éš”ç¦»çš„â€œå¥åº·ç©ºé—´â€ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆé“¶è¡Œé‡Œçš„ä¿é™©ç®±ï¼Œä½ åœ¨é‡Œé¢ä¸Šä¼ çš„ç—…å†ã€èŠå¤©çš„ç—‡çŠ¶ã€è¿æ¥çš„è®¾å¤‡æ•°æ®ï¼Œå…¨éƒ¨è¢«å•ç‹¬åŠ å¯†å°å­˜ã€‚å®˜æ–¹è¯´å¾—å¾ˆå†³ç»ï¼šè¿™éƒ¨åˆ†æ•°æ®ç»ä¸ä¼šç”¨äºè®­ç»ƒä»»ä½•åŸºç¡€æ¨¡å‹ã€‚</p>
<p>æ›´æœ‰æ„æ€çš„æ˜¯å®ƒçš„â€œæƒ…å¢ƒæ„ŸçŸ¥â€ã€‚å¦‚æœä½ åœ¨æ™®é€šèŠå¤©ç•Œé¢æŠ±æ€¨â€œå¤´ç–¼â€ï¼Œç³»ç»Ÿä¼šæ•é”åœ°å¯Ÿè§‰åˆ°è¯é¢˜è½¬å‘ï¼Œå¹¶å¼•å¯¼ä½ åˆ‡æ¢åˆ°è¿™ä¸ªåŠ å¯†çš„å¥åº·æ¨¡å¼ã€‚è¿™ç§è®¾è®¡ä¸Šçš„â€œæ´ç™–â€ï¼Œæ˜¯å®ƒæƒ³èµ¢å¾—ç”¨æˆ·ä¿¡ä»»çš„ç¬¬ä¸€æ­¥æŠ•åçŠ¶ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FG-P4E-bXkAA4EnK.jpeg" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/G-P4E-bXkAA4EnK.jpeg" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e21f0942a89489c9ba08763255a229b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768725565&amp;x-signature=B5hxT2dLDoYfBykTC5MrcxGq%2FeY%3D" alt="G-P4E-bXkAA4EnK" loading="lazy"/></a></p>
<p><strong>æ‰“é€šæ•°æ®å­¤å²›ï¼šå®ƒæ¯”ä½ æ›´äº†è§£ä½ çš„èº«ä½“</strong></p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨AIé—®è¯Šï¼Œå¾—åƒå†™å°è¯´ä¸€æ ·æè¿°ï¼šâ€œæˆ‘ç”·ï¼Œ30å²ï¼Œæ˜¨å¤©è·‘äº†æ­¥ï¼Œä»Šå¤©è†ç›–ç–¼â€¦â€¦â€</p>
<p>ä½†åœ¨ChatGPT Healthé‡Œï¼Œè¿™å¥—æµç¨‹å˜äº†ã€‚å®ƒä¸å…‰èƒ½å¬ä½ è¯´ï¼Œè¿˜èƒ½é€šè¿‡APIç›´æ¥è¯»å–ä½ çš„Apple Healthã€MyFitnessPalï¼Œç”šè‡³å¦‚æœä½ åœ¨ç¾å›½ï¼Œå®ƒè¿˜èƒ½é€šè¿‡b.wellå¹³å°å¯¹æ¥ä½ çš„ç”µå­ç—…å†ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€å½“ä½ è¯´â€œæˆ‘æœ€è¿‘å¾ˆç´¯â€æ—¶ï¼Œå®ƒä¸æ˜¯åœ¨é‚£è·Ÿä½ ç†¬é¸¡æ±¤ï¼Œè€Œæ˜¯ç»“åˆä½ æ‰‹ç¯é‡Œéª¤é™çš„ç¡çœ æ•°æ®ã€åˆšåœ¨MyFitnessPalè®°å½•çš„é«˜ç³–é¥®é£Ÿï¼Œä»¥åŠä¸Šå‘¨ä½“æ£€æŠ¥å‘Šé‡Œé‚£ä¸ªåä½çš„é“æŒ‡æ ‡ï¼Œç»™å‡ºä¸€ä¸ªç»¼åˆæ€§çš„åˆ†æå»ºè®®ã€‚å®ƒç”šè‡³èƒ½å¸®ä½ è§£è¯»é‚£å¼ æ»¡æ˜¯ä¸“ä¸šæœ¯è¯­çš„åŒ–éªŒå•ï¼Œæˆ–è€…å¸®ä½ å¯¹æ¯”é‚£ä»½æ™¦æ¶©éš¾æ‡‚çš„åŒ»ç–—ä¿é™©è´¦å•ã€‚</p>
<p>ç›®å‰ï¼ŒPelotonã€Weight Watchersç­‰å·¨å¤´éƒ½å·²ç»æ¥å…¥äº†è¿™ä¸ªç”Ÿæ€ã€‚OpenAIä¸æƒ³åšåŒ»ç”Ÿï¼Œå®ƒæƒ³åšçš„æ˜¯é‚£ä¸ªå¸®ä½ æ•´ç†æ‰€æœ‰æ‚ä¹±æ•°æ®ã€ä¸ºä½ å»è§åŒ»ç”Ÿåšå‡†å¤‡çš„â€œè¶…çº§åŠ©ç†â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-11_16.31.06-1024x373.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-11_16.31.06-1024x373.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d1bd5479fb54c7786859cb4731e95e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768725565&amp;x-signature=qWvjlL03xIDfImQtNZUtqQ3ziSg%3D" alt="iShot_2026-01-11_16.31.06" loading="lazy"/></a></p>
<p><strong>çº¢çº¿ä¸é‡å¿ƒ</strong></p>
<p>å½“ç„¶ï¼ŒOpenAIæ±‚ç”Ÿæ¬²å¾ˆå¼ºã€‚åœ¨å‘å¸ƒè¯´æ˜é‡Œï¼Œä»–ä»¬æŠŠâ€œå…è´£å£°æ˜â€å†™å¾—å·¨å¤§ï¼šè¿™æ˜¯ä¸€ä¸ªå¥åº·è¾…åŠ©å·¥å…·ï¼Œç»å¯¹ä¸èƒ½ç”¨æ¥è¯Šæ–­æˆ–æ²»ç–—ï¼Œé‡åˆ°æ€¥ç—‡è¯·ç«‹åˆ»æ‰“æ€¥æ•‘ç”µè¯ã€‚</p>
<p>ä½†è¿™å¹¶ä¸å¦¨ç¢å®ƒçš„é‡å¿ƒã€‚å¯¹äºæ™®é€šç”¨æˆ·ï¼Œå®ƒæ˜¯å¥åº·é¡¾é—®ï¼›å¯¹äºåŒ»ç”Ÿï¼ŒOpenAIåŒæ­¥æ¨å‡ºäº†ç¬¦åˆHIPAAæ ‡å‡†çš„â€œOpenAI for Healthcareâ€ç‰ˆæœ¬ã€‚è¿™ä¸€å¥—ç»„åˆæ‹³ä¸‹æ¥ï¼Œæ— è®ºæ˜¯æ‚£è€…ç«¯çš„å’¨è¯¢ï¼Œè¿˜æ˜¯åŒ»ç”Ÿç«¯çš„æ–‡ä¹¦å¤„ç†ï¼Œå®ƒéƒ½æƒ³æ’ä¸€æ‰‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsaddsfsd.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/saddsfsd.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/308af631b9f3490cb0fbd9dab048b060~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768725565&amp;x-signature=FkVDhyrQz01E7UxIO1MxdP6JgRg%3D" alt="saddsfsd" loading="lazy"/></a></p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>ç›®å‰è¿™ä¸ªåŠŸèƒ½åˆšåˆšå¼€æ”¾ï¼ŒWebç«¯å’ŒiOSç«¯å…ˆè¡Œï¼Œå®‰å“ç”¨æˆ·è¿˜å¾—ç­‰ç­‰ã€‚è™½ç„¶åˆæœŸåªå¯¹éƒ¨åˆ†å€™è¡¥ç”¨æˆ·å’ŒPlus/Proä¼šå‘˜å¼€æ”¾ï¼Œä¸”æ ¸å¿ƒçš„ç—…å†æ¥å…¥åŠŸèƒ½æš‚æ—¶å±€é™åœ¨ç¾å›½ï¼Œä½†è¿™ä¸€æ­¥è¿ˆå‡ºï¼Œæ ‡å¿—ç€AIä»â€œæ³›å¨±ä¹â€çœŸæ­£èµ°å‘äº†â€œé«˜æ•æ„Ÿã€é«˜ä»·å€¼â€çš„æ·±æ°´åŒºã€‚</p>
<p>æ¯å‘¨æœ‰2.3äº¿äººåœ¨ChatGPTä¸Šé—®å¥åº·é—®é¢˜ï¼Œè¿™ä¸ªéœ€æ±‚æ—©å°±å‹ä¸ä½äº†ã€‚ä¸å…¶è®©ä»–ä»¬åœ¨æ™®é€šçš„èŠå¤©æ¡†é‡Œå¾—åˆ°æ¨¡æ£±ä¸¤å¯çš„ç­”æ¡ˆï¼Œä¸å¦‚ç»™ä»–ä»¬ä¸€ä¸ªæ›´ä¸“ä¸šã€æ›´å®‰å…¨çš„å…¥å£ã€‚å¯¹äºæˆ‘ä»¬æ™®é€šäººæ¥è¯´ï¼Œæ‹¥æœ‰ä¸€ä¸ªèƒ½è¯»æ‡‚ä½“æ£€æŠ¥å‘Šã€èƒ½å¸®ä½ æ•´ç†å°±è¯Šé—®é¢˜æ¸…å•çš„AIåŠ©æ‰‹ï¼Œæˆ–è®¸çœŸçš„æ˜¯åŒ»ç–—ä½“éªŒå‡çº§çš„å¼€å§‹ã€‚</p>
<p>æƒ³ä½“éªŒçš„æœ‹å‹ï¼Œå¯ä»¥å»å®˜ç½‘æ’é˜Ÿäº†ï¼Œè¿™å¯èƒ½æ˜¯ä½ ç¦»â€œç§äººå¥åº·ç®¡å®¶â€æœ€è¿‘çš„ä¸€æ¬¡ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue è®¡ç®—å±æ€§ä¸ data å±æ€§åŒåï¼šä¼˜é›…çš„å†²çªè¿˜æ˜¯æ½œåœ¨çš„é™·é˜±ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593645549178994697</link>    <guid>https://juejin.cn/post/7593645549178994697</guid>    <pubDate>2026-01-11T08:43:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593645549178994697" data-draft-id="7593602686136156186" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Vue è®¡ç®—å±æ€§ä¸ data å±æ€§åŒåï¼šä¼˜é›…çš„å†²çªè¿˜æ˜¯æ½œåœ¨çš„é™·é˜±ï¼Ÿ"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T08:43:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Vue è®¡ç®—å±æ€§ä¸ data å±æ€§åŒåï¼šä¼˜é›…çš„å†²çªè¿˜æ˜¯æ½œåœ¨çš„é™·é˜±ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:43:46.000Z" title="Sun Jan 11 2026 08:43:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Vue å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨æ¨¡æ¿ä¸­å±•ç¤ºç»è¿‡è®¡ç®—çš„æ•°æ®ã€‚è¿™æ—¶ï¼Œè®¡ç®—å±æ€§ï¼ˆcomputedï¼‰æˆä¸ºäº†æˆ‘ä»¬çš„å¾—åŠ›åŠ©æ‰‹ã€‚ä½†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜å‡ºç°äº†ï¼š<strong>è®¡ç®—å±æ€§çš„å‡½æ•°åå¯ä»¥å’Œ data ä¸­çš„å±æ€§åŒåå—ï¼Ÿ</strong> å¦‚æœåŒåäº†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨è¿™ä¸ªè¯é¢˜ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å®éªŒï¼šåŒåä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h2>
<p>è®©æˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§‚å¯Ÿç°è±¡ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;dataä¸­çš„message: {{ message }}&lt;/p&gt;
    &lt;p&gt;computedä¸­çš„message: {{ message }}&lt;/p&gt;
    &lt;button @click="changeMessage"&gt;ä¿®æ”¹message&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'TestComponent',
  data() {
    return {
      message: 'æˆ‘æ˜¯dataä¸­çš„message'
    }
  },
  computed: {
    message() {
      return 'æˆ‘æ˜¯computedä¸­çš„message'
    }
  },
  methods: {
    changeMessage() {
      this.message = 'å°è¯•ä¿®æ”¹message'
    }
  }
}
&lt;/script&gt;
</code></pre>
<p>å½“ä½ è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä½ ä¼šå‘ç°æ§åˆ¶å°ä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Šï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Vue warn</span>]: Computed property <span class="hljs-string">"message"</span> <span class="hljs-keyword">is</span> already defined <span class="hljs-keyword">in</span> data.
</code></pre>
<p><strong>å®éªŒç»“æœï¼šæ¨¡æ¿ä¸­æ˜¾ç¤ºçš„æ˜¯è®¡ç®—å±æ€§çš„å€¼ï¼</strong> data ä¸­çš„ <code>message</code> è¢«å®Œå…¨è¦†ç›–äº†ã€‚</p>
<h2 data-id="heading-2">äºŒã€ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§ç°è±¡ï¼Ÿ</h2>
<h3 data-id="heading-3">1. Vue å®ä¾‹å±æ€§çš„åˆå¹¶ç­–ç•¥</h3>
<p>è¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ Vue å®ä¾‹çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚å½“ Vue åˆ›å»ºå®ä¾‹æ—¶ï¼Œå®ƒä¼šæŒ‰ç…§ç‰¹å®šçš„é¡ºåºåˆå¹¶å„ç§é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–çš„åˆå¹¶é¡ºåºç¤ºæ„</span>
<span class="hljs-number">1.</span> props
<span class="hljs-number">2.</span> methods
<span class="hljs-number">3.</span> data
<span class="hljs-number">4.</span> computed
<span class="hljs-number">5.</span> watch
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼šåå®šä¹‰çš„å±æ€§ä¼šè¦†ç›–å…ˆå®šä¹‰çš„å±æ€§ï¼</strong></p>
<p>ç”±äºè®¡ç®—å±æ€§ï¼ˆcomputedï¼‰æ˜¯åœ¨ data ä¹‹ååˆå¹¶çš„ï¼Œæ‰€ä»¥åŒåçš„è®¡ç®—å±æ€§ä¼šè¦†ç›– data ä¸­å®šä¹‰çš„åŒåå±æ€§ã€‚</p>
<h3 data-id="heading-4">2. æºç å±‚é¢çš„è§£é‡Š</h3>
<p>åœ¨ Vue çš„æºç ä¸­ï¼Œå®ä¾‹å±æ€§çš„åˆå§‹åŒ–å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆæºç é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">initState</span>(<span class="hljs-params">vm</span>) {
  <span class="hljs-keyword">const</span> opts = vm.<span class="hljs-property">$options</span>
  
  <span class="hljs-keyword">if</span> (opts.<span class="hljs-property">data</span>) {
    <span class="hljs-title function_">initData</span>(vm) <span class="hljs-comment">// åˆå§‹åŒ–data</span>
  }
  
  <span class="hljs-keyword">if</span> (opts.<span class="hljs-property">computed</span>) {
    <span class="hljs-title function_">initComputed</span>(vm, opts.<span class="hljs-property">computed</span>) <span class="hljs-comment">// åˆå§‹åŒ–computedï¼Œä¼šè¦†ç›–åŒåå±æ€§</span>
  }
}
</code></pre>
<p>åœ¨ <code>initComputed</code> è¿‡ç¨‹ä¸­ï¼Œè®¡ç®—å±æ€§ä¼šè¢«å®šä¹‰ä¸ºå“åº”å¼å±æ€§çš„ getter/setterï¼Œå¦‚æœå·²æœ‰åŒåå±æ€§ï¼Œåˆ™ç›´æ¥è¦†ç›–ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€å®æˆ˜åœºæ™¯åˆ†æ</h2>
<h3 data-id="heading-6">åœºæ™¯1ï¼šè‡ªåŠ¨æ ¼å¼åŒ–çš„æ•°æ®å±•ç¤º</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯é¡µé¢ï¼Œéœ€è¦å±•ç¤ºæ ¼å¼åŒ–çš„ç”µè¯å·ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- è¿™é‡Œæ˜¾ç¤ºçš„æ˜¯æ ¼å¼åŒ–åçš„ç”µè¯å·ç  --&gt;
    &lt;p&gt;è”ç³»ç”µè¯ï¼š{{ phoneNumber }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      // åŸå§‹ç”µè¯å·ç æ•°æ®
      phoneNumber: '13812345678'
    }
  },
  computed: {
    // åŒåè®¡ç®—å±æ€§ï¼šæ ¼å¼åŒ–ç”µè¯å·ç 
    phoneNumber() {
      // è¿™ä¼šå¯¼è‡´åŸå§‹æ•°æ®ä¸¢å¤±ï¼
      return this.phoneNumber.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3')
    }
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼šè¿™ç§å†™æ³•ä¼šå¯¼è‡´æ— é™é€’å½’è°ƒç”¨ï¼Œå› ä¸ºè®¡ç®—å±æ€§å†…éƒ¨åˆè®¿é—®äº† <code>this.phoneNumber</code>ï¼Œè€Œ <code>this.phoneNumber</code> ç°åœ¨æŒ‡å‘çš„æ˜¯è®¡ç®—å±æ€§è‡ªèº«ï¼</p>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;åŸå§‹ç”µè¯ï¼š{{ rawPhoneNumber }}&lt;/p&gt;
    &lt;p&gt;æ ¼å¼åŒ–ç”µè¯ï¼š{{ formattedPhoneNumber }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      rawPhoneNumber: '13812345678'
    }
  },
  computed: {
    // ä½¿ç”¨ä¸åŒçš„åç§°
    formattedPhoneNumber() {
      return this.rawPhoneNumber.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3')
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">åœºæ™¯2ï¼šå“åº”å¼æ•°æ®è½¬æ¢</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;æ¸©åº¦ï¼š{{ temperature }}Â°C&lt;/p&gt;
    &lt;p&gt;åæ°åº¦ï¼š{{ temperature }}Â°F&lt;/p&gt; &lt;!-- åŒåæœ‰é—®é¢˜ --&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      celsius: 25 // æ‘„æ°åº¦
    }
  },
  computed: {
    // é”™è¯¯ï¼šåŒåä¼šè¦†ç›–
    temperature() {
      return this.celsius
    },
    
    // æ­£ç¡®ï¼šä¸åŒçš„åç§°
    fahrenheit() {
      return (this.celsius * 9/5) + 32
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-8">å››ã€TypeScript ç¯å¢ƒä¸‹çš„æƒ…å†µ</h2>
<p>åœ¨ Vue 3 + TypeScript ç¯å¢ƒä¸‹ï¼Œè¿™ä¸ªé—®é¢˜ä¼šæ›´åŠ æ˜æ˜¾ï¼Œå› ä¸º TypeScript ä¼šæ£€æµ‹åˆ°ç±»å‹å†²çªï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineComponent, ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>({
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å®šä¹‰å“åº”å¼æ•°æ®</span>
    <span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'æˆ‘æ˜¯dataä¸­çš„message'</span>)
    
    <span class="hljs-comment">// TypeScript ä¼šæŠ¥é”™ï¼šæ— æ³•é‡æ–°å£°æ˜å—èŒƒå›´å˜é‡"message"</span>
    <span class="hljs-keyword">const</span> message = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'æˆ‘æ˜¯computedä¸­çš„message'</span>
    })
    
    <span class="hljs-keyword">return</span> {
      message
    }
  }
})
</code></pre>
<h2 data-id="heading-9">äº”ã€æœ€ä½³å®è·µå»ºè®®</h2>
<h3 data-id="heading-10">1. å‘½åçº¦å®š</h3>
<ul>
<li>
<p><strong>è®¡ç®—å±æ€§å‰ç¼€</strong>ï¼šä½¿ç”¨ <code>formatted</code>ã€<code>filtered</code>ã€<code>computed</code> ç­‰å‰ç¼€</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">computed</span>: {
  <span class="hljs-title function_">formattedPrice</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> },
  <span class="hljs-title function_">filteredList</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
</li>
<li>
<p><strong>æè¿°æ€§åç¼€</strong>ï¼šæ˜ç¡®è¡¨ç¤ºè¿™æ˜¯è®¡ç®—åçš„å€¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">computed</span>: {
  <span class="hljs-title function_">priceInDollars</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> },
  <span class="hljs-title function_">userFullName</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-11">2. ç»„ä»¶è®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script&gt;
export default {
  data() {
    return {
      // åŸå§‹æ•°æ®
      user: {
        firstName: 'å¼ ',
        lastName: 'ä¸‰',
        birthDate: '1990-01-01'
      }
    }
  },
  computed: {
    // è®¡ç®—å±æ€§ï¼šæ¸…æ™°è¡¨è¾¾å…¶å«ä¹‰
    fullName() {
      return `${this.user.lastName}${this.user.firstName}`
    },
    
    formattedBirthDate() {
      return new Date(this.user.birthDate).toLocaleDateString()
    },
    
    age() {
      const birthYear = new Date(this.user.birthDate).getFullYear()
      return new Date().getFullYear() - birthYear
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-12">3. ä½¿ç”¨ Composition API çš„ä¼˜åŠ¿</h3>
<p>Vue 3 çš„ Composition API æä¾›äº†æ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref, computed } from 'vue'

// å“åº”å¼æ•°æ®
const rawPhoneNumber = ref('13812345678')
const celsius = ref(25)

// è®¡ç®—å±æ€§ - æ¸…æ™°æ˜äº†
const formattedPhoneNumber = computed(() =&gt; {
  return rawPhoneNumber.value.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3')
})

const fahrenheit = computed(() =&gt; {
  return (celsius.value * 9/5) + 32
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-13">å…­ã€æ€»ç»“</h2>
<ol>
<li>
<p><strong>å¯ä»¥åŒåï¼Œä½†ä¸åº”è¯¥åŒå</strong>ï¼šVue å…è®¸è®¡ç®—å±æ€§å’Œ data å±æ€§åŒåï¼Œä½†è®¡ç®—å±æ€§ä¼šè¦†ç›– data å±æ€§ï¼Œè¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„è¡Œä¸ºã€‚</p>
</li>
<li>
<p><strong>Vue ä¼šå‘å‡ºè­¦å‘Š</strong>ï¼šå½“æ£€æµ‹åˆ°åŒåæ—¶ï¼ŒVue ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè­¦å‘Šï¼Œæé†’å¼€å‘è€…å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>å¯èƒ½å¯¼è‡´æ— é™é€’å½’</strong>ï¼šå¦‚æœåœ¨è®¡ç®—å±æ€§ä¸­è®¿é—®äº†åŒåçš„å±æ€§ï¼Œä¼šå¯¼è‡´æ— é™é€’å½’è°ƒç”¨ã€‚</p>
</li>
<li>
<p><strong>æ¸…æ™°çš„å‘½åæ˜¯å…³é”®</strong>ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½åå¯ä»¥é¿å…æ··æ·†ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚</p>
</li>
<li>
<p><strong>éµå¾ªæœ€ä½³å®è·µ</strong>ï¼šä¸ºè®¡ç®—å±æ€§ä½¿ç”¨æè¿°æ€§åç§°ï¼Œæ˜ç¡®è¡¨è¾¾å…¶è®¡ç®—æ€§è´¨ã€‚</p>
</li>
</ol>
<p>è®°ä½ï¼Œå¥½çš„ä»£ç ä¸ä»…æ˜¯èƒ½è¿è¡Œçš„ä»£ç ï¼Œæ›´æ˜¯æ˜“äºç†è§£å’Œç»´æŠ¤çš„ä»£ç ã€‚é¿å…è®¡ç®—å±æ€§å’Œ data å±æ€§åŒåï¼Œå¯ä»¥è®©ä½ çš„ Vue åº”ç”¨æ›´åŠ å¥å£®å’Œå¯ç»´æŠ¤ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡å› ä¸ºå‘½åå†²çªå¯¼è‡´çš„ bugï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å¹¶è§£å†³çš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue çš„ v-show å’Œ v-ifï¼šæ€§èƒ½ã€åœºæ™¯ä¸å®æˆ˜é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7593607642553319450</link>    <guid>https://juejin.cn/post/7593607642553319450</guid>    <pubDate>2026-01-11T08:46:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593607642553319450" data-draft-id="7593713738856300582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue çš„ v-show å’Œ v-ifï¼šæ€§èƒ½ã€åœºæ™¯ä¸å®æˆ˜é€‰æ‹©"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T08:46:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue çš„ v-show å’Œ v-ifï¼šæ€§èƒ½ã€åœºæ™¯ä¸å®æˆ˜é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:46:32.000Z" title="Sun Jan 11 2026 08:46:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Vue å¼€å‘ä¸­ï¼Œæ¡ä»¶æ¸²æŸ“æ˜¯æˆ‘ä»¬æ¯å¤©éƒ½ä¼šç”¨åˆ°çš„åŠŸèƒ½ã€‚<code>v-show</code> å’Œ <code>v-if</code> è¿™ä¸¤ä¸ªæŒ‡ä»¤çœ‹èµ·æ¥éƒ½èƒ½å®ç°"æ˜¾ç¤º/éšè—"çš„æ•ˆæœï¼Œä½†å®ƒä»¬èƒŒåçš„æœºåˆ¶å’Œé€‚ç”¨åœºæ™¯å´å¤§ä¸ç›¸åŒã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥è§£æè¿™å¯¹"å­ªç”Ÿå…„å¼Ÿ"çš„åŒºåˆ«ï¼Œå¹¶æ¢è®¨å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­é€‰æ‹©ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”è¡¨</h2>


















































<table><thead><tr><th>ç‰¹æ€§</th><th><code>v-if</code></th><th><code>v-show</code></th></tr></thead><tbody><tr><td><strong>DOM æ“ä½œ</strong></td><td>æ¡ä»¶ä¸º false æ—¶ï¼Œå…ƒç´ <strong>ä» DOM ä¸­ç§»é™¤</strong></td><td>æ¡ä»¶ä¸º false æ—¶ï¼Œå…ƒç´ <strong>ä»åœ¨ DOM ä¸­</strong>ï¼Œåªæ˜¯ <code>display: none</code></td></tr><tr><td><strong>åˆå§‹æ¸²æŸ“æˆæœ¬</strong></td><td>è¾ƒä½ï¼ˆåªæ¸²æŸ“ç¬¦åˆæ¡ä»¶çš„ï¼‰</td><td>è¾ƒé«˜ï¼ˆå§‹ç»ˆæ¸²æŸ“ï¼Œåªæ˜¯æ§åˆ¶æ˜¾ç¤ºï¼‰</td></tr><tr><td><strong>åˆ‡æ¢æˆæœ¬</strong></td><td>è¾ƒé«˜ï¼ˆéœ€è¦é”€æ¯/é‡å»ºç»„ä»¶ï¼‰</td><td>è¾ƒä½ï¼ˆåªæ˜¯ CSS åˆ‡æ¢ï¼‰</td></tr><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td>åˆ‡æ¢æ—¶ä¼šè§¦å‘ç»„ä»¶çš„åˆ›å»º/é”€æ¯ç”Ÿå‘½å‘¨æœŸ</td><td>åªè§¦å‘ mountedï¼Œä¸ä¼šé”€æ¯</td></tr><tr><td><strong>æ€§èƒ½è€ƒé‡</strong></td><td>é€‚åˆä¸é¢‘ç¹åˆ‡æ¢çš„åœºæ™¯</td><td>é€‚åˆé¢‘ç¹åˆ‡æ¢çš„åœºæ™¯</td></tr><tr><td><strong>ç¼–è¯‘é˜¶æ®µ</strong></td><td>æ˜¯<strong>çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“</strong></td><td>æ€»æ˜¯æ¸²æŸ“ï¼Œåªæ˜¯ CSS æ§åˆ¶æ˜¾ç¤º</td></tr><tr><td><strong>ä¸ v-else é…åˆ</strong></td><td>âœ… æ”¯æŒ</td><td>âŒ ä¸æ”¯æŒ</td></tr><tr><td><strong>ä¸ <code>&lt;template&gt;</code> ä½¿ç”¨</strong></td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr></tbody></table>
<h2 data-id="heading-2">äºŒã€æºç æœºåˆ¶æ·±åº¦è§£æ</h2>
<h3 data-id="heading-3">v-if çš„å®ç°åŸç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ v-if ç¼–è¯‘ç»“æœ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isVisible</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>, <span class="hljs-string">'æˆ‘æ˜¯v-ifå†…å®¹'</span>)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// è¿”å›ä¸€ä¸ªç©ºçš„æ³¨é‡ŠèŠ‚ç‚¹æˆ–ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createCommentVNode</span>(<span class="hljs-string">'v-if'</span>)
  }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<code>v-if</code> æ˜¯æƒ°æ€§çš„ï¼Œåˆå§‹æ¡ä»¶ä¸º false æ—¶ï¼Œå¯¹åº”çš„ç»„ä»¶/å…ƒç´ <strong>æ ¹æœ¬ä¸ä¼šç¼–è¯‘å’Œæ¸²æŸ“</strong>ã€‚</p>
<h3 data-id="heading-4">v-show çš„å®ç°åŸç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ v-show ç¼–è¯‘ç»“æœ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> node = <span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>, <span class="hljs-string">'æˆ‘æ˜¯v-showå†…å®¹'</span>)
  <span class="hljs-comment">// æ·»åŠ  style ç»‘å®š</span>
  node.<span class="hljs-property">data</span>.<span class="hljs-property">style</span> = {
    <span class="hljs-attr">display</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVisible</span> ? <span class="hljs-string">''</span> : <span class="hljs-string">'none'</span>
  }
  <span class="hljs-keyword">return</span> node
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<code>v-show</code> å§‹ç»ˆä¼šæ¸²æŸ“åˆ° DOMï¼Œåªæ˜¯é€šè¿‡ CSS çš„ <code>display</code> å±æ€§æ§åˆ¶å¯è§æ€§ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€ä½¿ç”¨åœºæ™¯å®æˆ˜åˆ†æ</h2>
<h3 data-id="heading-6">åœºæ™¯ 1ï¼šé¢‘ç¹åˆ‡æ¢çš„ UI å…ƒç´  âœ… é€‚åˆ v-show</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- é€‰é¡¹å¡åˆ‡æ¢ï¼šé¢‘ç¹åˆ‡æ¢ï¼Œä½¿ç”¨ v-show æ€§èƒ½æ›´å¥½ --&gt;
    &lt;div class="tab-buttons"&gt;
      &lt;button @click="currentTab = 'home'"&gt;é¦–é¡µ&lt;/button&gt;
      &lt;button @click="currentTab = 'profile'"&gt;ä¸ªäººèµ„æ–™&lt;/button&gt;
      &lt;button @click="currentTab = 'settings'"&gt;è®¾ç½®&lt;/button&gt;
    &lt;/div&gt;
    
    &lt;!-- é¢‘ç¹åˆ‡æ¢çš„å†…å®¹åŒº --&gt;
    &lt;div class="tab-content"&gt;
      &lt;div v-show="currentTab === 'home'"&gt;
        &lt;HomeComponent /&gt;
      &lt;/div&gt;
      &lt;div v-show="currentTab === 'profile'"&gt;
        &lt;ProfileComponent /&gt;
      &lt;/div&gt;
      &lt;div v-show="currentTab === 'settings'"&gt;
        &lt;SettingsComponent /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- é¢‘ç¹æ˜¾ç¤º/éšè—çš„ä¾§è¾¹æ  --&gt;
    &lt;div v-show="isSidebarVisible" class="sidebar"&gt;
      &lt;!-- ä¾§è¾¹æ å†…å®¹ --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      currentTab: 'home',
      isSidebarVisible: false
    }
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ v-show</strong>ï¼šé€‰é¡¹å¡å†…å®¹éœ€è¦å¿«é€Ÿåˆ‡æ¢ï¼Œå¦‚æœä½¿ç”¨ <code>v-if</code>ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½ä¼šè§¦å‘ç»„ä»¶çš„é‡æ–°æŒ‚è½½ï¼Œå¯¼è‡´æ€§èƒ½å¼€é”€å¤§ã€‚</p>
<h3 data-id="heading-7">åœºæ™¯ 2ï¼šåˆå§‹æ¡ä»¶å¾ˆå°‘ä¸ºçœŸ âœ… é€‚åˆ v-if</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- é”™è¯¯æç¤ºæ¡†ï¼šå¤§å¤šæ•°æ—¶é—´ä¸æ˜¾ç¤º --&gt;
    &lt;div v-if="hasError" class="error-alert"&gt;
      &lt;h3&gt;é”™è¯¯æç¤º&lt;/h3&gt;
      &lt;p&gt;{{ errorMessage }}&lt;/p&gt;
      &lt;!-- å¤æ‚é”™è¯¯è¯¦æƒ…ç»„ä»¶ --&gt;
      &lt;ErrorDetails :error="error" /&gt;
    &lt;/div&gt;
    
    &lt;!-- ç®¡ç†å‘˜ä¸“å±åŠŸèƒ½ï¼šæ™®é€šç”¨æˆ·æ°¸è¿œä¸ä¼šçœ‹åˆ° --&gt;
    &lt;div v-if="user.role === 'admin'"&gt;
      &lt;AdminDashboard /&gt;
      &lt;UserManagement /&gt;
      &lt;SystemSettings /&gt;
    &lt;/div&gt;
    
    &lt;!-- ä»˜è´¹ç”¨æˆ·ä¸“äº«å†…å®¹ --&gt;
    &lt;PremiumContent v-if="user.isPremium" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ v-if</strong>ï¼šè¿™äº›å…ƒç´ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦æ¸²æŸ“ï¼Œä½¿ç”¨ <code>v-if</code> å¯ä»¥å‡å°‘åˆå§‹ DOM èŠ‚ç‚¹æ•°ï¼Œæå‡é¡µé¢åŠ è½½æ€§èƒ½ã€‚</p>
<h3 data-id="heading-8">åœºæ™¯ 3ï¼šéœ€è¦è§¦å‘ç”Ÿå‘½å‘¨æœŸçš„åœºæ™¯ âœ… å¿…é¡»ç”¨ v-if</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- å®æ—¶æ•°æ®ç»„ä»¶ï¼šéšè—æ—¶éœ€è¦åœæ­¢æ•°æ®è·å– --&gt;
    &lt;LiveDataWidget 
      v-if="showLiveData"
      @data-update="handleDataUpdate"
    /&gt;
    
    &lt;!-- è¡¨å•ç»„ä»¶ï¼šæ¯æ¬¡æ˜¾ç¤ºåº”è¯¥æ˜¯å…¨æ–°çš„ --&gt;
    &lt;UserForm 
      v-if="isEditing"
      :user="selectedUser"
      @submit="handleSubmit"
      @cancel="isEditing = false"
    /&gt;
    
    &lt;button @click="isEditing = true"&gt;
      ç¼–è¾‘ç”¨æˆ·
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      showLiveData: false,
      isEditing: false,
      selectedUser: null
    }
  },
  methods: {
    startEditing(user) {
      this.selectedUser = user
      this.isEditing = true
    }
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå¿…é¡»ç”¨ v-if</strong>ï¼š</p>
<ol>
<li><code>LiveDataWidget</code> ç»„ä»¶åœ¨éšè—æ—¶éœ€è¦æ‰§è¡Œ <code>beforeDestroy</code> æˆ– <code>onUnmounted</code> æ¥æ¸…ç†å®šæ—¶å™¨</li>
<li><code>UserForm</code> ç»„ä»¶æ¯æ¬¡æ˜¾ç¤ºæ—¶éƒ½åº”è¯¥æ˜¯å…¨æ–°çš„çŠ¶æ€ï¼Œä¸åº”è¯¥ä¿ç•™ä¸Šæ¬¡çš„å¡«å†™å†…å®¹</li>
</ol>
<h3 data-id="heading-9">åœºæ™¯ 4ï¼šä¸ v-else é…åˆçš„é€»è¾‘åˆ†æ”¯ âœ… å¿…é¡»ç”¨ v-if</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- ç™»å½•çŠ¶æ€åˆ¤æ–­ --&gt;
    &lt;div v-if="isLoading"&gt;
      &lt;LoadingSpinner /&gt;
    &lt;/div&gt;
    &lt;div v-else-if="isLoggedIn"&gt;
      &lt;UserProfile :user="currentUser" /&gt;
    &lt;/div&gt;
    &lt;div v-else&gt;
      &lt;LoginForm @login="handleLogin" /&gt;
    &lt;/div&gt;
    
    &lt;!-- æƒé™åˆ†çº§æ˜¾ç¤º --&gt;
    &lt;div v-if="user.level === 'vip'"&gt;
      &lt;VipExclusiveContent /&gt;
    &lt;/div&gt;
    &lt;div v-else-if="user.level === 'member'"&gt;
      &lt;MemberContent /&gt;
    &lt;/div&gt;
    &lt;div v-else&gt;
      &lt;GuestContent /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ v-if</strong>ï¼š<code>v-show</code> ä¸æ”¯æŒ <code>v-else</code> å’Œ <code>v-else-if</code>ï¼Œåªæœ‰ <code>v-if</code> èƒ½å®ç°è¿™ç§äº’æ–¥çš„é€»è¾‘åˆ†æ”¯ã€‚</p>
<h2 data-id="heading-10">å››ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜æŠ€å·§</h2>
<h3 data-id="heading-11">æŠ€å·§ 1ï¼šç»“åˆä½¿ç”¨ä¼˜åŒ–æ€§èƒ½</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- åˆå§‹ä¸æ¸²æŸ“ï¼Œä½†ä¸€æ—¦æ¸²æŸ“åå°±ä½¿ç”¨ v-show æ§åˆ¶æ˜¾ç¤º --&gt;
    &lt;div v-if="hasLoadedOnce"&gt;
      &lt;div v-show="isDetailVisible" class="detail-panel"&gt;
        &lt;!-- å¤æ‚è¯¦æƒ…å†…å®¹ --&gt;
        &lt;DetailContent :data="detailData" /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      hasLoadedOnce: false,
      isDetailVisible: false,
      detailData: null
    }
  },
  methods: {
    showDetail(data) {
      this.detailData = data
      this.hasLoadedOnce = true
      this.isDetailVisible = true
    },
    hideDetail() {
      this.isDetailVisible = false
    }
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>ä¼˜åŒ–æ€è·¯</strong>ï¼šé¦–æ¬¡ä¸æ¸²æŸ“å‡å°‘åˆå§‹è´Ÿè½½ï¼Œä¹‹åä½¿ç”¨ <code>v-show</code> å®ç°å¿«é€Ÿåˆ‡æ¢ã€‚</p>
<h3 data-id="heading-12">æŠ€å·§ 2ï¼šåˆ—è¡¨é¡¹çš„ä¼˜åŒ–æ¸²æŸ“</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;div v-for="item in items" :key="item.id" class="item"&gt;
      &lt;!-- æ ‡é¢˜å§‹ç»ˆæ˜¾ç¤º --&gt;
      &lt;h3 @click="toggleDetail(item.id)"&gt;
        {{ item.title }}
      &lt;/h3&gt;
      
      &lt;!-- è¯¦æƒ…å†…å®¹ä½¿ç”¨ v-showï¼Œé¿å…é¢‘ç¹é‡å»º --&gt;
      &lt;div v-show="expandedItemId === item.id" class="item-detail"&gt;
        &lt;p&gt;{{ item.description }}&lt;/p&gt;
        &lt;!-- å¤æ‚è¯¦æƒ…ç»„ä»¶ --&gt;
        &lt;ItemStats :item="item" /&gt;
        &lt;ItemActions :item="item" /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-13">äº”ã€Vue 3 Composition API ä¸­çš„ä½¿ç”¨</h2>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- Vue 3 ä¸­ç”¨æ³•ç›¸åŒï¼Œä½†å¯ä»¥ç»“åˆå“åº”å¼ API --&gt;
    &lt;button @click="toggleVisibility"&gt;
      åˆ‡æ¢æ˜¾ç¤º ({{ count }} æ¬¡åˆ‡æ¢)
    &lt;/button&gt;
    
    &lt;div v-if="useVIf ? visible : false"&gt;
      ä½¿ç”¨ v-if - åˆ‡æ¢æ¬¡æ•°: {{ count }}
    &lt;/div&gt;
    
    &lt;div v-show="!useVIf ? visible : false"&gt;
      ä½¿ç”¨ v-show - åˆ‡æ¢æ¬¡æ•°: {{ count }}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed, watchEffect, onMounted, onUnmounted } from 'vue'

const visible = ref(false)
const useVIf = ref(true)
const count = ref(0)

const toggleVisibility = () =&gt; {
  visible.value = !visible.value
  count.value++
}

// è§‚å¯Ÿç”Ÿå‘½å‘¨æœŸå·®å¼‚
watchEffect(() =&gt; {
  if (visible.value) {
    console.log('å…ƒç´ å˜ä¸ºå¯è§')
  }
})

// ä½¿ç”¨ v-if æ—¶æ‰ä¼šè§¦å‘çš„ç”Ÿå‘½å‘¨æœŸ
onMounted(() =&gt; {
  console.log('ç»„ä»¶æŒ‚è½½')
})

onUnmounted(() =&gt; {
  console.log('ç»„ä»¶å¸è½½')
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-14">å…­ã€å¸¸è§é™·é˜±ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-15">é™·é˜± 1ï¼šä¸ CSS transition çš„é…åˆ</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- v-if æ— æ³•å®ç°æ·¡å…¥æ·¡å‡ºæ•ˆæœ --&gt;
    &lt;transition name="fade"&gt;
      &lt;div v-if="show"&gt;æˆ‘ä¼šçªç„¶å‡ºç°/æ¶ˆå¤±&lt;/div&gt;
    &lt;/transition&gt;
    
    &lt;!-- v-show å¯ä»¥å®ç°å¹³æ»‘è¿‡æ¸¡ --&gt;
    &lt;transition name="fade"&gt;
      &lt;div v-show="show"&gt;æˆ‘ä¼šæ·¡å…¥æ·¡å‡º&lt;/div&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style&gt;
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s;
}
.fade-enter, .fade-leave-to {
  opacity: 0;
}
/* é’ˆå¯¹ v-show çš„ç‰¹æ®Šå¤„ç† */
.fade-leave-active {
  display: none;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-16">é™·é˜± 2ï¼šè¡¨å•å…ƒç´ çš„ focus çŠ¶æ€</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- é—®é¢˜ï¼šä½¿ç”¨ v-show éšè—å†æ˜¾ç¤ºï¼Œinput ä¼šä¿æŒ focus --&gt;
    &lt;input 
      v-show="showInput" 
      ref="myInput"
      placeholder="å°è¯•èšç„¦ååˆ‡æ¢"
    /&gt;
    
    &lt;!-- è§£å†³ï¼šä½¿ç”¨ v-if æ¯æ¬¡éƒ½æ˜¯å…¨æ–°çš„ input --&gt;
    &lt;input 
      v-if="showInput" 
      ref="myInput"
      placeholder="æ¯æ¬¡éƒ½æ˜¯æ–°çš„"
    /&gt;
    
    &lt;button @click="showInput = !showInput"&gt;
      åˆ‡æ¢æ˜¾ç¤º
    &lt;/button&gt;
    &lt;button @click="$refs.myInput?.focus()"&gt;
      èšç„¦è¾“å…¥æ¡†
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-17">ä¸ƒã€æ€§èƒ½æµ‹è¯•ä¸æ•°æ®å¯¹æ¯”</h2>
<p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•æµ‹è¯•æ¥é‡åŒ–æ€§èƒ½å·®å¼‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµ‹è¯•ä»£ç æ¡†æ¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">TestComponent</span> = {
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div&gt;
      &lt;button @click="toggle"&gt;åˆ‡æ¢ {{ count }} æ¬¡&lt;/button&gt;
      &lt;div v-if="useIf ? visible : false"&gt;v-if å†…å®¹&lt;/div&gt;
      &lt;div v-show="!useIf ? visible : false"&gt;v-show å†…å®¹&lt;/div&gt;
    &lt;/div&gt;
  `</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">visible</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">useIf</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">toggle</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
      
      <span class="hljs-comment">// æ¯ 1000 æ¬¡åˆ‡æ¢åè¾“å‡ºæ€§èƒ½æ•°æ®</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> % <span class="hljs-number">1000</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ‡æ¢ <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.count}</span> æ¬¡åæ€§èƒ½å¯¹æ¯”`</span>)
      }
    }
  }
}
</code></pre>
<p><strong>æµ‹è¯•ç»“æœ</strong>ï¼ˆåœ¨æ™®é€šç»„ä»¶ä¸­ï¼‰ï¼š</p>
<ul>
<li><code>v-show</code> åˆ‡æ¢ 10000 æ¬¡ï¼šâ‰ˆ 50ms</li>
<li><code>v-if</code> åˆ‡æ¢ 10000 æ¬¡ï¼šâ‰ˆ 300ms</li>
<li>å·®å¼‚éšç€ç»„ä»¶å¤æ‚åº¦å¢åŠ è€Œå¢å¤§</li>
</ul>
<h2 data-id="heading-18">å…«ã€æ€»ç»“ä¸æœ€ä½³å®è·µæŒ‡å—</h2>
<h3 data-id="heading-19">é€‰æ‹©å»ºè®®æµç¨‹å›¾</h3>
<pre><code class="hljs language-sql" lang="sql">å¼€å§‹æ¡ä»¶æ¸²æŸ“é€‰æ‹©
    â†“
æ˜¯å¦éœ€è¦è§¦å‘ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Ÿ â†’ æ˜¯ â†’ ä½¿ç”¨ v<span class="hljs-operator">-</span>if
    â†“ å¦
å…ƒç´ æ˜¯å¦é¢‘ç¹åˆ‡æ¢ï¼ˆ<span class="hljs-operator">&gt;</span> <span class="hljs-number">5</span>æ¬¡<span class="hljs-operator">/</span>åˆ†é’Ÿï¼‰ï¼Ÿ â†’ æ˜¯ â†’ ä½¿ç”¨ v<span class="hljs-operator">-</span><span class="hljs-keyword">show</span>
    â†“ å¦
åˆå§‹æ¡ä»¶æ˜¯å¦ä¸ºçœŸçš„æ¦‚ç‡ <span class="hljs-operator">&lt;</span> <span class="hljs-number">20</span><span class="hljs-operator">%</span>ï¼Ÿ â†’ æ˜¯ â†’ ä½¿ç”¨ v<span class="hljs-operator">-</span>if
    â†“ å¦
æ˜¯å¦éœ€è¦ä¸ v<span class="hljs-operator">-</span><span class="hljs-keyword">else</span> é…åˆï¼Ÿ â†’ æ˜¯ â†’ ä½¿ç”¨ v<span class="hljs-operator">-</span>if
    â†“ å¦
é»˜è®¤é€‰æ‹© v<span class="hljs-operator">-</span><span class="hljs-keyword">show</span>ï¼ˆæ›´ä¿å®ˆçš„é€‰æ‹©ï¼‰
</code></pre>
<h3 data-id="heading-20">ç»ˆæå†³ç­–æŒ‡å—</h3>
<ol>
<li>
<p><strong>ç”¨ v-show å½“</strong>ï¼š</p>
<ul>
<li>é¢‘ç¹åˆ‡æ¢æ˜¾ç¤º/éšè—ï¼ˆå¦‚é€‰é¡¹å¡ã€æŠ˜å é¢æ¿ï¼‰</li>
<li>éœ€è¦ CSS è¿‡æ¸¡åŠ¨ç”»</li>
<li>å…ƒç´ æœ¬èº«å¾ˆç®€å•ï¼Œåˆå§‹æ¸²æŸ“æˆæœ¬ä½</li>
</ul>
</li>
<li>
<p><strong>ç”¨ v-if å½“</strong>ï¼š</p>
<ul>
<li>æ¡ä»¶åœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜</li>
<li>éœ€è¦æ¡ä»¶åˆ†æ”¯ï¼ˆv-else/v-else-ifï¼‰</li>
<li>ç»„ä»¶æœ‰æ˜‚è´µçš„åˆå§‹åŒ–æˆæœ¬</li>
<li>éœ€è¦è§¦å‘åˆ›å»º/é”€æ¯ç”Ÿå‘½å‘¨æœŸ</li>
<li>é¿å…ä¸å¿…è¦çš„åˆå§‹æ¸²æŸ“ï¼ˆSEO ä¼˜åŒ–ï¼‰</li>
</ul>
</li>
<li>
<p><strong>ç»„åˆä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- é¦–æ¬¡æ¸²æŸ“åè½¬ä¸º v-show æ§åˆ¶ --&gt;
    &lt;ExpensiveComponent 
      v-if="hasBeenOpenedOnce" 
      v-show="isOpen"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
</li>
</ol>
<p>è®°ä½ï¼Œæ²¡æœ‰ç»å¯¹çš„å¯¹é”™ï¼Œåªæœ‰é€‚åˆåœºæ™¯çš„é€‰æ‹©ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ã€æ€§èƒ½è¦æ±‚å’Œç”¨æˆ·ä½“éªŒæ¥åšå‡ºåˆç†çš„é€‰æ‹©ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡å› ä¸ºé”™è¯¯é€‰æ‹© <code>v-if</code> æˆ– <code>v-show</code> å¯¼è‡´çš„æ€§èƒ½é—®é¢˜æˆ– bugï¼Ÿä½ æ˜¯å¦‚ä½•å‘ç°å¹¶è§£å†³çš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„å®æˆ˜ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ç»„ä»¶ name é€‰é¡¹ï¼šä¸åªæ˜¯ä¸ªåå­—é‚£ä¹ˆç®€å•]]></title>    <link>https://juejin.cn/post/7593771861323399194</link>    <guid>https://juejin.cn/post/7593771861323399194</guid>    <pubDate>2026-01-11T08:49:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323399194" data-draft-id="7593771861323382810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Vue ç»„ä»¶ name é€‰é¡¹ï¼šä¸åªæ˜¯ä¸ªåå­—é‚£ä¹ˆç®€å•"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T08:49:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Vue ç»„ä»¶ name é€‰é¡¹ï¼šä¸åªæ˜¯ä¸ªåå­—é‚£ä¹ˆç®€å•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:49:50.000Z" title="Sun Jan 11 2026 08:49:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Vue ç»„ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸çœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'MyComponent'</span>,
  <span class="hljs-comment">// ... å…¶ä»–é€‰é¡¹</span>
}
</code></pre>
<p>çœ‹ä¼¼ç®€å•çš„ <code>name</code> é€‰é¡¹ï¼ŒçœŸçš„åªæ˜¯ç»™ç»„ä»¶èµ·ä¸ªåå­—å—ï¼Ÿä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨ <code>name</code> é€‰é¡¹çš„å…­å¤§æ ¸å¿ƒä½œç”¨ï¼Œä»¥åŠå¦‚ä½•åœ¨å®æˆ˜ä¸­å·§å¦™è¿ç”¨å®ƒã€‚</p>
<h2 data-id="heading-1">ä¸€ã€name é€‰é¡¹çš„å…­å¤§æ ¸å¿ƒä½œç”¨</h2>
<h3 data-id="heading-2">1. é€’å½’ç»„ä»¶ï¼šå®ç°æ— é™åµŒå¥—</h3>
<p><strong>åœºæ™¯</strong>ï¼šå®ç°ä¸€ä¸ªæ— é™çº§è”çš„è¯„è®ºç³»ç»Ÿ</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Comment.vue --&gt;
&lt;template&gt;
  &lt;div class="comment"&gt;
    &lt;div class="comment-header"&gt;
      &lt;span&gt;{{ comment.author }}&lt;/span&gt;
      &lt;span&gt;{{ comment.date }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="comment-content"&gt;{{ comment.content }}&lt;/div&gt;
    
    &lt;!-- å…³é”®ï¼šé€šè¿‡ name é€‰é¡¹å®ç°è‡ªæˆ‘è°ƒç”¨ --&gt;
    &lt;div v-if="comment.replies &amp;&amp; comment.replies.length" class="replies"&gt;
      &lt;Comment
        v-for="reply in comment.replies"
        :key="reply.id"
        :comment="reply"
      /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  // å¿…é¡»è®¾ç½® nameï¼Œæ‰èƒ½åœ¨æ¨¡æ¿ä¸­è°ƒç”¨è‡ªèº«
  name: 'Comment',
  props: {
    comment: {
      type: Object,
      required: true
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.comment {
  margin-left: 20px;
  padding: 10px;
  border-left: 2px solid #e0e0e0;
}
&lt;/style&gt;
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶ç»„ä»¶ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> comments = [
  {
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">author</span>: <span class="hljs-string">'Alice'</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">'è¿™ç¯‡æ–‡ç« å¾ˆæ£’ï¼'</span>,
    <span class="hljs-attr">replies</span>: [
      {
        <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">author</span>: <span class="hljs-string">'Bob'</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">'æˆ‘å®Œå…¨åŒæ„ï¼'</span>,
        <span class="hljs-attr">replies</span>: [
          {
            <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">author</span>: <span class="hljs-string">'Charlie'</span>,
            <span class="hljs-attr">content</span>: <span class="hljs-string">'+1'</span>
            <span class="hljs-comment">// å¯ä»¥æ— é™åµŒå¥—...</span>
          }
        ]
      }
    ]
  }
]
</code></pre>
<p><strong>åŸç†</strong>ï¼šVue åœ¨è§£æç»„ä»¶æ—¶ï¼Œä¼šæ ¹æ® <code>name</code> é€‰é¡¹æ¥è¯†åˆ«ç»„ä»¶ï¼Œä½¿å¾—ç»„ä»¶èƒ½å¤Ÿåœ¨æ¨¡æ¿ä¸­å¼•ç”¨è‡ªå·±ã€‚</p>
<h3 data-id="heading-3">2. å¼€å‘å·¥å…·ä¸­çš„å¯è¯»æ€§</h3>
<p><strong>Vue Devtools å±•ç¤º</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ²¡æœ‰ name é€‰é¡¹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-comment">// æ²¡æœ‰ name</span>
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
  }
}
<span class="hljs-comment">// Devtools æ˜¾ç¤ºï¼š&lt;AnonymousComponent&gt;</span>

<span class="hljs-comment">// æœ‰ name é€‰é¡¹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'CounterComponent'</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
  }
}
<span class="hljs-comment">// Devtools æ˜¾ç¤ºï¼š&lt;CounterComponent&gt;</span>
</code></pre>
<p><strong>å®é™…æ•ˆæœå¯¹æ¯”</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">// æ²¡æœ‰ name
Root
  â”œâ”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">AnonymousComponent</span>&gt;</span>
  â”œâ”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">AnonymousComponent</span>&gt;</span>
  â””â”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">AnonymousComponent</span>&gt;</span>

// æœ‰ name
Root
  â”œâ”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">UserProfile</span>&gt;</span>
  â”œâ”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">ProductList</span>&gt;</span>
  â””â”€â”€ <span class="hljs-tag">&lt;<span class="hljs-name">ShoppingCart</span>&gt;</span>
</code></pre>
<p><strong>å›¢é˜Ÿåä½œä»·å€¼</strong>ï¼šåœ¨å¤§é¡¹ç›®ä¸­ï¼Œæ˜ç¡®çš„ç»„ä»¶åç§°èƒ½æå¤§æå‡è°ƒè¯•æ•ˆç‡ã€‚</p>
<h3 data-id="heading-4">3. keep-alive çš„ç²¾å‡†æ§åˆ¶</h3>
<p><strong>åœºæ™¯</strong>ï¼šå¤šæ ‡ç­¾é¡µåº”ç”¨ï¼Œéœ€è¦ç¼“å­˜ç‰¹å®šé¡µé¢</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="tab-container"&gt;
    &lt;div class="tabs"&gt;
      &lt;button 
        v-for="tab in tabs" 
        :key="tab.name"
        @click="activeTab = tab.name"
      &gt;
        {{ tab.label }}
      &lt;/button&gt;
    &lt;/div&gt;
    
    &lt;!-- åªç¼“å­˜ UserList å’Œ ProductList --&gt;
    &lt;keep-alive :include="cachedComponents"&gt;
      &lt;component :is="activeTab" /&gt;
    &lt;/keep-alive&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import UserList from './UserList.vue'
import ProductList from './ProductList.vue'
import Settings from './Settings.vue'
import Analytics from './Analytics.vue'

export default {
  components: { UserList, ProductList, Settings, Analytics },
  data() {
    return {
      activeTab: 'UserList',
      tabs: [
        { name: 'UserList', label: 'ç”¨æˆ·åˆ—è¡¨' },
        { name: 'ProductList', label: 'å•†å“åˆ—è¡¨' },
        { name: 'Settings', label: 'è®¾ç½®' },
        { name: 'Analytics', label: 'åˆ†æ' }
      ],
      // åªç¼“å­˜è¿™ä¸¤ä¸ªç»„ä»¶
      cachedComponents: ['UserList', 'ProductList']
    }
  }
}
&lt;/script&gt;

&lt;!-- UserList.vue --&gt;
&lt;script&gt;
export default {
  name: 'UserList', // keep-alive æ ¹æ®è¿™ä¸ªè¯†åˆ«
  data() {
    return {
      users: [],
      filterText: ''
    }
  },
  activated() {
    console.log('UserList è¢«æ¿€æ´»')
    // é‡æ–°è·å–æ•°æ®
  },
  deactivated() {
    console.log('UserList è¢«åœç”¨')
    // æ¸…ç†å·¥ä½œ
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>exclude ç”¨æ³•</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- æ’é™¤ä¸éœ€è¦ç¼“å­˜çš„ç»„ä»¶ --&gt;
&lt;keep-alive :exclude="['Settings', 'Analytics']"&gt;
  &lt;component :is="activeTab" /&gt;
&lt;/keep-alive&gt;
</code></pre>
<h3 data-id="heading-5">4. ç»„ä»¶é€’å½’æŸ¥æ‰¾</h3>
<p><strong>åœºæ™¯</strong>ï¼šå®ç°è¡¨å•éªŒè¯çš„ä¸Šä¸‹æ–‡ä¼ é€’</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Form.vue --&gt;
&lt;template&gt;
  &lt;form @submit.prevent="handleSubmit"&gt;
    &lt;slot /&gt;
  &lt;/form&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'Form',
  provide() {
    return {
      form: this
    }
  },
  data() {
    return {
      fields: []
    }
  },
  methods: {
    registerField(field) {
      this.fields.push(field)
    },
    validate() {
      return this.fields.every(field =&gt; field.validate())
    }
  }
}
&lt;/script&gt;

&lt;!-- FormItem.vue --&gt;
&lt;template&gt;
  &lt;div class="form-item"&gt;
    &lt;label&gt;{{ label }}&lt;/label&gt;
    &lt;slot /&gt;
    &lt;div v-if="error" class="error"&gt;{{ error }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'FormItem',
  inject: ['form'],
  props: ['label', 'rules'],
  data() {
    return {
      error: ''
    }
  },
  mounted() {
    // å‘æœ€è¿‘çš„ Form ç»„ä»¶æ³¨å†Œè‡ªå·±
    let parent = this.$parent
    while (parent) {
      if (parent.$options.name === 'Form') {
        parent.registerField(this)
        break
      }
      parent = parent.$parent
    }
  },
  methods: {
    validate() {
      // éªŒè¯é€»è¾‘
      const isValid = this.rules.every(rule =&gt; rule(this.value))
      this.error = isValid ? '' : 'éªŒè¯å¤±è´¥'
      return isValid
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-6">5. Vuex æˆ– Vue Router çš„ map è¾…åŠ©å‡½æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ‰ name é€‰é¡¹æ—¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'UserProfile'</span>,
  
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-comment">// å¯ä»¥ä½¿ç”¨ç»„ä»¶åä½œä¸ºå‘½åç©ºé—´</span>
    ...<span class="hljs-title function_">mapState</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'profile'</span>, <span class="hljs-string">'preferences'</span>]),
    ...<span class="hljs-title function_">mapGetters</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'isPremiumUser'</span>])
  },
  
  <span class="hljs-attr">methods</span>: {
    ...<span class="hljs-title function_">mapActions</span>(<span class="hljs-string">'user'</span>, [<span class="hljs-string">'updateProfile'</span>, <span class="hljs-string">'logout'</span>])
  }
}

<span class="hljs-comment">// æ²¡æœ‰ name é€‰é¡¹æ—¶ï¼Œéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-comment">// æ²¡æœ‰ name</span>
  <span class="hljs-attr">computed</span>: {
    ...<span class="hljs-title function_">mapState</span>(<span class="hljs-string">'userModule'</span>, { 
      <span class="hljs-attr">userProfile</span>: <span class="hljs-string">'profile'</span>,
      <span class="hljs-attr">userPrefs</span>: <span class="hljs-string">'preferences'</span>
    })
  }
}
</code></pre>
<h3 data-id="heading-7">6. é”™è¯¯å¤„ç†ä¸è­¦å‘Šä¿¡æ¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ä¿¡æ¯å¯¹æ¯”</span>
<span class="hljs-comment">// æœ‰ name: </span>
<span class="hljs-comment">// [Vue warn]: Error in "UserList" component: ...</span>

<span class="hljs-comment">// æ—  name:</span>
<span class="hljs-comment">// [Vue warn]: Error in anonymous component: ...</span>

<span class="hljs-comment">// æ›´å®¹æ˜“å®šä½é—®é¢˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.$options.name}</span>] æ•°æ®åŠ è½½å¤±è´¥:`</span>, error)
</code></pre>
<h2 data-id="heading-8">äºŒã€name é€‰é¡¹çš„è¿›é˜¶ç”¨æ³•</h2>
<h3 data-id="heading-9">1. åŠ¨æ€ç»„ä»¶åç§°</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;component :is="componentName" /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'DynamicWrapper',
  data() {
    return {
      componentType: 'Primary'
    }
  },
  computed: {
    componentName() {
      // æ ¹æ®æ¡ä»¶è¿”å›ä¸åŒçš„ç»„ä»¶åç§°
      return `Button${this.componentType}`
    }
  },
  components: {
    ButtonPrimary: {
      name: 'ButtonPrimary',
      template: '&lt;button class="primary"&gt;Primary&lt;/button&gt;'
    },
    ButtonSecondary: {
      name: 'ButtonSecondary',
      template: '&lt;button class="secondary"&gt;Secondary&lt;/button&gt;'
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-10">2. é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰æ¨¡å¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// withLoading.js - é«˜é˜¶ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">withLoading</span>(<span class="hljs-params">WrappedComponent</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">`WithLoading(<span class="hljs-subst">${WrappedComponent.name || <span class="hljs-string">'Component'</span>}</span>)`</span>,
    
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>
      }
    },
    
    <span class="hljs-title function_">render</span>(<span class="hljs-params">h</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'div'</span>, <span class="hljs-string">'åŠ è½½ä¸­...'</span>)
      }
      
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">error</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'div'</span>, <span class="hljs-string">`é”™è¯¯: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.error.message}</span>`</span>)
      }
      
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">WrappedComponent</span>, {
        <span class="hljs-attr">props</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">$attrs</span>,
        <span class="hljs-attr">on</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">$listeners</span>
      })
    }
  }
}

<span class="hljs-comment">// UserList.vue</span>
<span class="hljs-keyword">import</span> withLoading <span class="hljs-keyword">from</span> <span class="hljs-string">'./withLoading'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">BaseUserList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./BaseUserList.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">withLoading</span>(<span class="hljs-title class_">BaseUserList</span>)
<span class="hljs-comment">// Devtools æ˜¾ç¤º: &lt;WithLoading(UserList)&gt;</span>
</code></pre>
<h3 data-id="heading-11">3. æ’ä»¶å¼€å‘ä¸­çš„ç»„ä»¶æ³¨å†Œ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// my-plugin.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MyPlugin</span> = {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">Vue, options</span>) {
    <span class="hljs-comment">// è‡ªåŠ¨æ³¨å†Œ components ç›®å½•ä¸‹çš„æ‰€æœ‰ç»„ä»¶</span>
    <span class="hljs-keyword">const</span> components = <span class="hljs-built_in">require</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">'./components'</span>, <span class="hljs-literal">false</span>, <span class="hljs-regexp">/\.vue$/</span>)
    
    components.<span class="hljs-title function_">keys</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> componentConfig = <span class="hljs-title function_">components</span>(fileName)
      
      <span class="hljs-comment">// è·å–ç»„ä»¶çš„ name é€‰é¡¹</span>
      <span class="hljs-keyword">const</span> componentName = componentConfig.<span class="hljs-property">default</span>?.<span class="hljs-property">name</span> || 
                           fileName.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\.\//</span>, <span class="hljs-string">''</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.vue$/</span>, <span class="hljs-string">''</span>)
      
      <span class="hljs-comment">// ä½¿ç”¨ name é€‰é¡¹ä½œä¸ºæ³¨å†Œå</span>
      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(componentName, componentConfig.<span class="hljs-property">default</span> || componentConfig)
    })
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">MyPlugin</span>
</code></pre>
<h2 data-id="heading-12">ä¸‰ã€Vue 3 Composition API ä¸­çš„ name</h2>
<h3 data-id="heading-13">Vue 3 çš„ä¸¤ç§å†™æ³•</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- é€‰é¡¹å¼ APIï¼ˆä¸ Vue 2 ç›¸åŒï¼‰ --&gt;
&lt;script&gt;
export default {
  name: 'MyComponent',
  setup() {
    // Composition API
  }
}
&lt;/script&gt;

&lt;!-- ç»„åˆå¼ API + `&lt;script setup&gt;` --&gt;
&lt;script setup&gt;
// åœ¨ &lt;script setup&gt; ä¸­ï¼Œéœ€è¦å•ç‹¬å®šä¹‰ name
defineOptions({
  name: 'MyComponent'
})

// æˆ–è€…ä½¿ç”¨æ’ä»¶ unplugin-vue-define-options
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-14">Vue 3 ä¸­çš„è‡ªåŠ¨åç§°æ¨æ–­</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
// æ–‡ä»¶åï¼šUserProfile.vue
// è‡ªåŠ¨è·å¾— name: 'UserProfile'ï¼ˆåœ¨æŸäº›æ„å»ºå·¥å…·ä¸­ï¼‰
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-15">å››ã€æœ€ä½³å®è·µä¸å‘½åè§„èŒƒ</h2>
<h3 data-id="heading-16">1. å‘½åçº¦å®šå»ºè®®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨è - å¤§é©¼å³°å¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'UserProfileCard'</span>
}

<span class="hljs-comment">// âœ… æ¨è - å¸¦å‰ç¼€ï¼ˆé¡¹ç›®è§„èŒƒï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'AppHeader'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'BaseButton'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'IconEdit'</span>
}

<span class="hljs-comment">// âŒ ä¸æ¨è - å°å†™</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'userprofile'</span> <span class="hljs-comment">// Devtools ä¸­æ˜¾ç¤ºä¸å¥½çœ‹</span>
}

<span class="hljs-comment">// âŒ ä¸æ¨è - ä½¿ç”¨è¿å­—ç¬¦</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'user-profile'</span> <span class="hljs-comment">// åœ¨ JS ä¸­ä¸å¥½ç”¨</span>
}
</code></pre>
<h3 data-id="heading-17">2. é¡¹ç›®çº§å‘½åç­–ç•¥</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// components/Base/Button.vue</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'BaseButton'</span> <span class="hljs-comment">// åŸºç¡€ç»„ä»¶</span>
}

<span class="hljs-comment">// components/App/Header.vue  </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'AppHeader'</span> <span class="hljs-comment">// åº”ç”¨çº§ç»„ä»¶</span>
}

<span class="hljs-comment">// components/Business/OrderList.vue</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'OrderList'</span> <span class="hljs-comment">// ä¸šåŠ¡ç»„ä»¶</span>
}

<span class="hljs-comment">// components/UI/Modal.vue</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'UIModal'</span> <span class="hljs-comment">// UI ç»„ä»¶</span>
}
</code></pre>
<h3 data-id="heading-18">3. æµ‹è¯•ä¸­çš„ä¼˜åŠ¿</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å•å…ƒæµ‹è¯•ä¸­æ›´å®¹æ˜“å®šä½</span>
<span class="hljs-keyword">import</span> { mount } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">UserList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./UserList.vue'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'UserList.vue'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'renders correctly'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">UserList</span>)
    
    <span class="hljs-comment">// é€šè¿‡ name æ–­è¨€</span>
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-property">vm</span>.<span class="hljs-property">$options</span>.<span class="hljs-property">name</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">'UserList'</span>)
    
    <span class="hljs-comment">// æˆ–è€…æŸ¥æ‰¾ç‰¹å®šç»„ä»¶</span>
    <span class="hljs-keyword">const</span> userItems = wrapper.<span class="hljs-title function_">findAllComponents</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'UserItem'</span> })
    <span class="hljs-title function_">expect</span>(userItems).<span class="hljs-title function_">toHaveLength</span>(<span class="hljs-number">10</span>)
  })
})
</code></pre>
<h2 data-id="heading-19">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-20">é—®é¢˜1ï¼šname å†²çª</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨ä½œç”¨åŸŸå‰ç¼€</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'MyProjectUserList'</span>
}

<span class="hljs-comment">// è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨ Symbolï¼ˆVue 3ï¼‰</span>
<span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'UserList'</span>),
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<h3 data-id="heading-21">é—®é¢˜2ï¼šéœ€è¦åŠ¨æ€ name</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€ name æ¨¡å¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>, <span class="hljs-comment">// åˆå§‹ä¸ºç©º</span>
  
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ ¹æ®æ¡ä»¶åŠ¨æ€è®¾ç½®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$options</span>.<span class="hljs-property">name</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAdmin</span> ? <span class="hljs-string">'AdminPanel'</span> : <span class="hljs-string">'UserPanel'</span>
  }
}
</code></pre>
<h3 data-id="heading-22">é—®é¢˜3ï¼šminify å name ä¸¢å¤±</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js / webpack.config.js é…ç½®</span>
<span class="hljs-comment">// Vite</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>({
      <span class="hljs-attr">include</span>: [<span class="hljs-regexp">/\.vue$/</span>],
      <span class="hljs-comment">// ä¿ç•™ name å±æ€§</span>
      <span class="hljs-attr">template</span>: {
        <span class="hljs-attr">compilerOptions</span>: {
          <span class="hljs-attr">whitespace</span>: <span class="hljs-string">'preserve'</span>
        }
      }
    })
  ]
})

<span class="hljs-comment">// Webpack + Vue Loader</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
        <span class="hljs-attr">loader</span>: <span class="hljs-string">'vue-loader'</span>,
        <span class="hljs-attr">options</span>: {
          <span class="hljs-attr">compilerOptions</span>: {
            <span class="hljs-attr">whitespace</span>: <span class="hljs-string">'preserve'</span>
          }
        }
      }
    ]
  }
}
</code></pre>
<h2 data-id="heading-23">å…­ã€å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´çš„ç»„ä»¶ä½“ç³»</h2>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- BaseTable.vue - åŸºç¡€è¡¨æ ¼ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;slot name="header" /&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;slot name="body" /&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'BaseTable',
  // åŸºç¡€é€»è¾‘...
}
&lt;/script&gt;

&lt;!-- UserTable.vue - ç”¨æˆ·è¡¨æ ¼ï¼ˆä½¿ç”¨ BaseTableï¼‰ --&gt;
&lt;template&gt;
  &lt;BaseTable&gt;
    &lt;template #header&gt;
      &lt;th&gt;ID&lt;/th&gt;
      &lt;th&gt;å§“å&lt;/th&gt;
      &lt;th&gt;é‚®ç®±&lt;/th&gt;
    &lt;/template&gt;
    
    &lt;template #body&gt;
      &lt;tr v-for="user in users" :key="user.id"&gt;
        &lt;td&gt;{{ user.id }}&lt;/td&gt;
        &lt;td&gt;{{ user.name }}&lt;/td&gt;
        &lt;td&gt;{{ user.email }}&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/template&gt;
  &lt;/BaseTable&gt;
&lt;/template&gt;

&lt;script&gt;
import BaseTable from './BaseTable.vue'

export default {
  name: 'UserTable', // æ¸…æ™°çš„ç»„ä»¶å
  components: { BaseTable },
  props: ['users']
}
&lt;/script&gt;

&lt;!-- AdminUserTable.vue - ç®¡ç†å‘˜ç”¨æˆ·è¡¨æ ¼ --&gt;
&lt;template&gt;
  &lt;UserTable :users="users"&gt;
    &lt;template #header&gt;
      &lt;!-- æ‰©å±•è¡¨å¤´ --&gt;
      &lt;th&gt;æ“ä½œ&lt;/th&gt;
    &lt;/template&gt;
    
    &lt;template #body="{ user }"&gt;
      &lt;!-- æ‰©å±•å†…å®¹ --&gt;
      &lt;td&gt;
        &lt;button @click="editUser(user)"&gt;ç¼–è¾‘&lt;/button&gt;
      &lt;/td&gt;
    &lt;/template&gt;
  &lt;/UserTable&gt;
&lt;/template&gt;

&lt;script&gt;
import UserTable from './UserTable.vue'

export default {
  name: 'AdminUserTable', // å±‚çº§æ¸…æ™°çš„ç»„ä»¶å
  components: { UserTable },
  methods: {
    editUser(user) {
      // ç¼–è¾‘é€»è¾‘
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-24">æ€»ç»“</h2>
<p><code>name</code> é€‰é¡¹è™½ç„¶çœ‹ä¼¼ç®€å•ï¼Œä½†åœ¨ Vue ç”Ÿæ€ç³»ç»Ÿä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ï¼š</p>








































<table><thead><tr><th>ä½œç”¨åœºæ™¯</th><th>é‡è¦æ€§</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>é€’å½’ç»„ä»¶</td><td>â­â­â­â­â­</td><td>å¿…é¡»è¦æœ‰ name</td></tr><tr><td>Devtools è°ƒè¯•</td><td>â­â­â­â­</td><td>æå¤§æå‡å¼€å‘ä½“éªŒ</td></tr><tr><td>keep-alive æ§åˆ¶</td><td>â­â­â­â­</td><td>ç²¾å‡†ç¼“å­˜ç®¡ç†</td></tr><tr><td>ç»„ä»¶æŸ¥æ‰¾</td><td>â­â­â­</td><td>é«˜çº§ç»„ä»¶é€šä¿¡</td></tr><tr><td>è¾…åŠ©å‡½æ•°</td><td>â­â­</td><td>ç®€åŒ–ä»£ç </td></tr><tr><td>é”™è¯¯å®šä½</td><td>â­â­â­</td><td>å¿«é€Ÿå®šä½é—®é¢˜</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>å§‹ç»ˆä¸ºç»„ä»¶è®¾ç½® name</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯</li>
<li><strong>éµå¾ªå‘½åè§„èŒƒ</strong>ï¼šå¤§é©¼å³°å¼ï¼Œæœ‰æ„ä¹‰çš„åç§°</li>
<li><strong>åˆ©ç”¨ name ä¼˜åŒ–å¼€å‘ä½“éªŒ</strong>ï¼šç‰¹åˆ«æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸­</li>
<li><strong>æ³¨æ„æ„å»ºé…ç½®</strong>ï¼šç¡®ä¿ç”Ÿäº§ç¯å¢ƒä¸ä¼šä¸¢å¤± name</li>
</ol>
<p>è®°ä½ï¼Œå¥½çš„ç»„ä»¶å‘½åå°±åƒå¥½çš„å˜é‡å‘½åä¸€æ ·ï¼Œèƒ½è®©ä»£ç è‡ªæˆ‘è§£é‡Šï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰å› ä¸ºç¼ºå°‘æˆ–ä¸è§„èŒƒçš„ç»„ä»¶ name å¯¼è‡´è¿‡è°ƒè¯•å›°éš¾ï¼Ÿæˆ–è€…æœ‰æ²¡æœ‰åˆ©ç”¨ç»„ä»¶ name å®ç°è¿‡ä»€ä¹ˆå·§å¦™çš„åŠŸèƒ½ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ Vue ä¸­åŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼Ÿæ·±åº¦è§£æä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7593771861323431962</link>    <guid>https://juejin.cn/post/7593771861323431962</guid>    <pubDate>2026-01-11T08:55:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323431962" data-draft-id="7593771861323415578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ Vue ä¸­åŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼Ÿæ·±åº¦è§£æä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T08:55:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ Vue ä¸­åŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼Ÿæ·±åº¦è§£æä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:55:19.000Z" title="Sun Jan 11 2026 08:55:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šä¸€ä¸ªå¸¸è§çš„åæ¨¡å¼</h2>
<p>åœ¨ Vue å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- åæ¨¡å¼ï¼šåŒæ—¶ä½¿ç”¨ v-if å’Œ v-for --&gt;
&lt;ul&gt;
  &lt;li 
    v-for="user in users" 
    v-if="user.isActive"
    :key="user.id"
  &gt;
    {{ user.name }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>è¿™æ®µä»£ç çœ‹èµ·æ¥é€»è¾‘å¾ˆæ¸…æ™°ï¼š<strong>éå†ç”¨æˆ·åˆ—è¡¨ï¼Œåªæ˜¾ç¤ºæ´»è·ƒç”¨æˆ·</strong>ã€‚ä½†æ˜¯ï¼ŒVue å®˜æ–¹æ–‡æ¡£æ˜ç¡®<strong>ä¸æ¨è</strong>è¿™ç§å†™æ³•ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨ä¸ºä»€ä¹ˆï¼Œä»¥åŠæ­£ç¡®çš„åšæ³•æ˜¯ä»€ä¹ˆã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä¼˜å…ˆçº§é—®é¢˜ï¼šv-for å’Œ v-if è°å…ˆæ‰§è¡Œï¼Ÿ</h2>
<h3 data-id="heading-2">æºç å±‚é¢çš„è§£æ</h3>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ Vue æ˜¯å¦‚ä½•å¤„ç†è¿™ä¸¤ä¸ªæŒ‡ä»¤çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆç¼–è¯‘è¿‡ç¨‹</span>
<span class="hljs-comment">// æ¨¡æ¿ï¼š&lt;div v-for="item in list" v-if="item.visible"&gt;&lt;/div&gt;</span>

<span class="hljs-comment">// ç¼–è¯‘åçš„æ¸²æŸ“å‡½æ•°å¤§è‡´å¦‚ä¸‹ï¼š</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> _list = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>
  <span class="hljs-keyword">return</span> _list.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
    <span class="hljs-comment">// æ³¨æ„ï¼šv-if åœ¨ v-for çš„æ¯æ¬¡è¿­ä»£ä¸­æ‰§è¡Œï¼</span>
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">visible</span> ? <span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>, item.<span class="hljs-property">name</span>) : <span class="hljs-title function_">createCommentVNode</span>(<span class="hljs-string">'v-if'</span>)
  })
}
</code></pre>
<p><strong>å…³é”®å‘ç°</strong>ï¼šåœ¨ Vue 2 ä¸­ï¼Œ<strong>v-for çš„ä¼˜å…ˆçº§æ¯” v-if é«˜</strong>ï¼è¿™æ„å‘³ç€ï¼š</p>
<ol>
<li>å…ˆæ‰§è¡Œ <code>v-for</code> éå†æ‰€æœ‰å…ƒç´ </li>
<li>å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œ <code>v-if</code> åˆ¤æ–­</li>
<li>ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¢«æ¸²æŸ“ä¸ºæ³¨é‡ŠèŠ‚ç‚¹ï¼ˆä»ç„¶å­˜åœ¨ï¼ï¼‰</li>
</ol>
<p>åœ¨ Vue 3 ä¸­ï¼Œè¿™ä¸ªä¼˜å…ˆçº§è¢«<strong>åè½¬</strong>äº†ï¼š<strong>v-if çš„ä¼˜å…ˆçº§æ¯” v-for é«˜</strong>ï¼è¿™ä¼šå¯¼è‡´æ›´ä¸¥é‡çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Vue 3 ä¸­ï¼šè¿™ä¼šæŠ¥é”™ï¼ --&gt;
&lt;div v-if="false" v-for="item in list"&gt;
  {{ item }}
&lt;/div&gt;
&lt;!-- 
  å› ä¸º v-if å…ˆæ‰§è¡Œï¼Œç»“æœä¸º falseï¼Œ
  é‚£ä¹ˆ v-for æ ¹æœ¬æ‹¿ä¸åˆ° list æ•°æ®ï¼
--&gt;
</code></pre>
<h2 data-id="heading-3">äºŒã€æ€§èƒ½é—®é¢˜ï¼šä¸ºä»€ä¹ˆè¿™ç§å†™æ³•æ•ˆç‡ä½ä¸‹ï¼Ÿ</h2>
<h3 data-id="heading-4">æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ä¾‹å­æ¥çœ‹çœ‹æ€§èƒ½å·®å¼‚ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;æµ‹è¯•æ•°æ®ï¼š{{ users.length }} ä¸ªç”¨æˆ·&lt;/h3&gt;
    
    &lt;!-- æ–¹æ³•1ï¼šåŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼ˆä¸æ¨èï¼‰ --&gt;
    &lt;div class="method"&gt;
      &lt;h4&gt;æ–¹æ³•1ï¼šv-for + v-ifï¼ˆæ¯æ¬¡è¿­ä»£éƒ½åˆ¤æ–­ï¼‰&lt;/h4&gt;
      &lt;ul&gt;
        &lt;li 
          v-for="user in users" 
          v-if="user.isActive"
          :key="user.id"
        &gt;
          {{ user.name }} - {{ user.email }}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
    
    &lt;!-- æ–¹æ³•2ï¼šä½¿ç”¨è®¡ç®—å±æ€§ï¼ˆæ¨èï¼‰ --&gt;
    &lt;div class="method"&gt;
      &lt;h4&gt;æ–¹æ³•2ï¼šè®¡ç®—å±æ€§è¿‡æ»¤ï¼ˆåªéå†ä¸€æ¬¡ï¼‰&lt;/h4&gt;
      &lt;ul&gt;
        &lt;li v-for="user in activeUsers" :key="user.id"&gt;
          {{ user.name }} - {{ user.email }}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      users: []
    }
  },
  computed: {
    activeUsers() {
      // åªè¿‡æ»¤ä¸€æ¬¡ï¼Œç»“æœè¢«ç¼“å­˜
      return this.users.filter(user =&gt; user.isActive)
    }
  },
  created() {
    // æ¨¡æ‹Ÿ1000æ¡æ•°æ®
    this.users = Array.from({ length: 1000 }, (_, i) =&gt; ({
      id: i,
      name: `ç”¨æˆ·${i}`,
      email: `user${i}@example.com`,
      isActive: i % 2 === 0 // 50%æ˜¯æ´»è·ƒç”¨æˆ·
    }))
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-5">æ€§èƒ½åˆ†æ</h3>





























<table><thead><tr><th>æ–¹æ³•</th><th>æ—¶é—´å¤æ‚åº¦</th><th>è™šæ‹ŸDOMæ“ä½œ</th><th>ç¼“å­˜æœºåˆ¶</th></tr></thead><tbody><tr><td><code>v-for</code> + <code>v-if</code></td><td>O(n) æ¯æ¬¡æ¸²æŸ“</td><td>n æ¬¡åˆ›å»º/é”€æ¯</td><td>âŒ æ— ç¼“å­˜</td></tr><tr><td>è®¡ç®—å±æ€§</td><td>O(n) è¿‡æ»¤ä¸€æ¬¡</td><td>åªæ¸²æŸ“ç¬¦åˆæ¡ä»¶çš„</td><td>âœ… æœ‰ç¼“å­˜</td></tr><tr><td>æ–¹æ³•è¿‡æ»¤</td><td>O(n) æ¯æ¬¡è°ƒç”¨</td><td>æ¯æ¬¡é‡æ–°æ¸²æŸ“</td><td>âŒ æ— ç¼“å­˜</td></tr></tbody></table>
<p><strong>å…³é”®é—®é¢˜</strong>ï¼šå½“ <code>users</code> å˜åŒ–ä½†æ´»è·ƒç”¨æˆ·æ²¡å˜åŒ–æ—¶ï¼š</p>
<ul>
<li>æ–¹æ³•1ï¼šä»ç„¶ä¼šéå†æ‰€æœ‰ç”¨æˆ·å¹¶è¿›è¡Œ 1000 æ¬¡ <code>v-if</code> åˆ¤æ–­</li>
<li>æ–¹æ³•2ï¼šè®¡ç®—å±æ€§ä¼šè¿”å›ç¼“å­˜ç»“æœï¼Œ0 æ¬¡è®¡ç®—</li>
</ul>
<h2 data-id="heading-6">ä¸‰ã€ä»£ç å¯è¯»æ€§ä¸ç»´æŠ¤æ€§é—®é¢˜</h2>
<h3 data-id="heading-7">é—®é¢˜ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å¤æ‚çš„æ¡ä»¶åˆ¤æ–­ --&gt;
&lt;ul&gt;
  &lt;li 
    v-for="item in items" 
    v-if="(item.status === 'published' || item.status === 'scheduled') 
          &amp;&amp; !item.isDeleted 
          &amp;&amp; (user.role === 'admin' || item.authorId === user.id)"
    :key="item.id"
  &gt;
    {{ item.title }}
  &lt;/li&gt;
&lt;/ul&gt;

&lt;!-- å¤šå±‚åµŒå¥— --&gt;
&lt;div 
  v-for="category in categories" 
  v-if="category.isVisible"
&gt;
  &lt;h3&gt;{{ category.name }}&lt;/h3&gt;
  &lt;ul&gt;
    &lt;li 
      v-for="product in category.products" 
      v-if="product.inStock &amp;&amp; product.price &lt; maxPrice"
    &gt;
      {{ product.name }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<h3 data-id="heading-8">å¯è¯»æ€§é—®é¢˜ï¼š</h3>
<ol>
<li><strong>é€»è¾‘æ··æ‚</strong>ï¼šæ•°æ®éå†å’Œæ¡ä»¶åˆ¤æ–­æ··åœ¨ä¸€èµ·</li>
<li><strong>éš¾ä»¥æµ‹è¯•</strong>ï¼šæ— æ³•å•ç‹¬æµ‹è¯•è¿‡æ»¤é€»è¾‘</li>
<li><strong>éš¾ä»¥å¤ç”¨</strong>ï¼šç›¸åŒçš„è¿‡æ»¤é€»è¾‘æ— æ³•åœ¨å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨</li>
<li><strong>éš¾ä»¥è°ƒè¯•</strong>ï¼šåœ¨ Devtools ä¸­çœ‹åˆ°çš„èŠ‚ç‚¹åŒ…å«å¤§é‡æ³¨é‡ŠèŠ‚ç‚¹</li>
</ol>
<h2 data-id="heading-9">å››ã€æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-10">æ–¹æ¡ˆ1ï¼šä½¿ç”¨è®¡ç®—å±æ€§ï¼ˆæœ€æ¨èï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- ç®€æ´æ˜äº† --&gt;
    &lt;ul&gt;
      &lt;li v-for="user in activeUsers" :key="user.id"&gt;
        {{ user.name }}
      &lt;/li&gt;
    &lt;/ul&gt;
    
    &lt;!-- å¤šå±‚è¿‡æ»¤ --&gt;
    &lt;div v-for="category in visibleCategories" :key="category.id"&gt;
      &lt;h3&gt;{{ category.name }}&lt;/h3&gt;
      &lt;ul&gt;
        &lt;li 
          v-for="product in availableProducts(category.id)" 
          :key="product.id"
        &gt;
          {{ product.name }}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      users: [],
      categories: [],
      maxPrice: 100
    }
  },
  computed: {
    // ç®€å•çš„è¿‡æ»¤
    activeUsers() {
      return this.users.filter(user =&gt; user.isActive)
    },
    
    // å¤æ‚çš„è¿‡æ»¤
    visibleCategories() {
      return this.categories.filter(category =&gt; {
        return category.isVisible &amp;&amp; 
               category.products.some(p =&gt; p.inStock)
      })
    }
  },
  methods: {
    // å¦‚æœéœ€è¦å‚æ•°ï¼Œä½¿ç”¨æ–¹æ³•
    availableProducts(categoryId) {
      const category = this.categories.find(c =&gt; c.id === categoryId)
      if (!category) return []
      
      return category.products.filter(
        product =&gt; product.inStock &amp;&amp; product.price &lt; this.maxPrice
      )
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-11">æ–¹æ¡ˆ2ï¼šä½¿ç”¨ <code>&lt;template&gt;</code> æ ‡ç­¾åŒ…è£¹</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- éœ€è¦å…ˆè¿‡æ»¤å†éå†çš„æƒ…å†µ --&gt;
    &lt;template v-for="user in users"&gt;
      &lt;div v-if="user.isActive" :key="user.id"&gt;
        {{ user.name }}
      &lt;/div&gt;
    &lt;/template&gt;
    
    &lt;!-- æˆ–è€…ä½¿ç”¨ v-show æ›¿ä»£ v-if --&gt;
    &lt;div v-for="user in users" :key="user.id"&gt;
      &lt;div v-show="user.isActive"&gt;
        {{ user.name }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼š<code>&lt;template v-for&gt;</code> éœ€è¦æ‰‹åŠ¨æŒ‡å®š <code>:key</code>ï¼</p>
<h3 data-id="heading-12">æ–¹æ¡ˆ3ï¼šä½¿ç”¨æ¸²æŸ“å‡½æ•°ï¼ˆé«˜çº§åœºæ™¯ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script&gt;
export default {
  render(h) {
    // å®Œå…¨æ§åˆ¶æ¸²æŸ“é€»è¾‘
    const visibleItems = this.items.filter(item =&gt; this.shouldShow(item))
    
    if (visibleItems.length === 0) {
      return h('div', 'æš‚æ— æ•°æ®')
    }
    
    return h('ul', 
      visibleItems.map(item =&gt; 
        h('li', { key: item.id }, item.name)
      )
    )
  },
  methods: {
    shouldShow(item) {
      // å¤æ‚çš„åˆ¤æ–­é€»è¾‘
      return item.visible &amp;&amp; 
             (this.user.isAdmin || item.owner === this.user.id)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-13">äº”ã€ç‰¹æ®Šåœºæ™¯å¤„ç†</h2>
<h3 data-id="heading-14">åœºæ™¯1ï¼šéœ€è¦æ˜¾ç¤º"æš‚æ— æ•°æ®"</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- å¸¸è§é”™è¯¯å†™æ³• --&gt;
    &lt;div v-if="users.length"&gt;
      &lt;div v-for="user in users" v-if="user.isActive"&gt;
        {{ user.name }}
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div v-else&gt;
      æš‚æ— ç”¨æˆ·
    &lt;/div&gt;
    
    &lt;!-- æ¨èå†™æ³• --&gt;
    &lt;template v-if="activeUsers.length"&gt;
      &lt;ul&gt;
        &lt;li v-for="user in activeUsers" :key="user.id"&gt;
          {{ user.name }}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/template&gt;
    &lt;p v-else&gt;
      æš‚æ— æ´»è·ƒç”¨æˆ·
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-15">åœºæ™¯2ï¼šåˆ†é¡µ+è¿‡æ»¤</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- é”™è¯¯çš„é“¾å¼è°ƒç”¨ --&gt;
    &lt;div v-for="user in users.slice(0, 10)" v-if="user.isActive"&gt;
      {{ user.name }}
    &lt;/div&gt;
    
    &lt;!-- æ­£ç¡®çš„å¤„ç†æµç¨‹ --&gt;
    &lt;div&gt;
      &lt;!-- æ­¥éª¤1ï¼šè¿‡æ»¤ --&gt;
      &lt;div v-if="filteredUsers.length === 0"&gt;
        æš‚æ— ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·
      &lt;/div&gt;
      
      &lt;!-- æ­¥éª¤2ï¼šåˆ†é¡µ --&gt;
      &lt;div v-else&gt;
        &lt;div v-for="user in paginatedUsers" :key="user.id"&gt;
          {{ user.name }}
        &lt;/div&gt;
        
        &lt;!-- åˆ†é¡µæ§ä»¶ --&gt;
        &lt;Pagination 
          :total="filteredUsers.length"
          :current-page="currentPage"
          @page-change="handlePageChange"
        /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      users: [],
      currentPage: 1,
      pageSize: 10
    }
  },
  computed: {
    // 1. å…ˆè¿‡æ»¤
    filteredUsers() {
      return this.users.filter(user =&gt; 
        user.isActive &amp;&amp; 
        user.name.includes(this.searchText)
      )
    },
    
    // 2. å†åˆ†é¡µ
    paginatedUsers() {
      const start = (this.currentPage - 1) * this.pageSize
      const end = start + this.pageSize
      return this.filteredUsers.slice(start, end)
    },
    
    // 3. æ€»é¡µæ•°
    totalPages() {
      return Math.ceil(this.filteredUsers.length / this.pageSize)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-16">åœºæ™¯3ï¼šVue 3 ç»„åˆå¼ API</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for="user in activeUsers" :key="user.id"&gt;
      {{ user.name }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { computed } from 'vue'

const props = defineProps({
  users: {
    type: Array,
    default: () =&gt; []
  }
})

// ä½¿ç”¨ computed è¿‡æ»¤
const activeUsers = computed(() =&gt; {
  return props.users.filter(user =&gt; user.isActive)
})

// æˆ–è€…ä½¿ç”¨ç»„åˆå‡½æ•°
const useFilteredList = (list, condition) =&gt; {
  return computed(() =&gt; list.filter(condition))
}

const expensiveUsers = useFilteredList(
  props.users, 
  user =&gt; user.balance &gt; 1000
)
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-17">å…­ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜</h2>
<h3 data-id="heading-18">ä¼˜åŒ–1ï¼šé¿å…ä¸å¿…è¦çš„é‡æ–°è®¡ç®—</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ ä¸å¥½çš„å†™æ³•ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">activeUsers</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// å³ä½¿ this.users æ²¡å˜ï¼Œthis.someOtherData å˜äº†ä¹Ÿä¼šè§¦å‘</span>
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> 
        u.<span class="hljs-property">isActive</span> &amp;&amp; u.<span class="hljs-property">type</span> === <span class="hljs-variable language_">this</span>.<span class="hljs-property">someOtherData</span>
      )
    }
  }
}

<span class="hljs-comment">// âœ… å¥½çš„å†™æ³•ï¼šä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">activeUsers</span>: []
    }
  },
  <span class="hljs-attr">watch</span>: {
    <span class="hljs-attr">users</span>: {
      <span class="hljs-title function_">handler</span>(<span class="hljs-params">newUsers</span>) {
        <span class="hljs-comment">// åªæœ‰ users å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeUsers</span> = newUsers.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">isActive</span>)
      },
      <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<h3 data-id="heading-19">ä¼˜åŒ–2ï¼šå¤§å‹åˆ—è¡¨çš„è™šæ‹Ÿæ»šåŠ¨</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- å¯¹äºè¶…é•¿åˆ—è¡¨ï¼Œå³ä½¿è¿‡æ»¤åä¹Ÿå¾ˆå¤š --&gt;
  &lt;VirtualList
    :items="filteredUsers"
    :item-height="50"
    :height="500"
  &gt;
    &lt;template #default="{ item }"&gt;
      &lt;UserItem :user="item" /&gt;
    &lt;/template&gt;
  &lt;/VirtualList&gt;
&lt;/template&gt;

&lt;script&gt;
import VirtualList from 'vue-virtual-scroll-list'

export default {
  components: { VirtualList },
  computed: {
    filteredUsers() {
      // å…ˆè¿‡æ»¤ï¼Œå†äº¤ç»™è™šæ‹Ÿåˆ—è¡¨
      return this.users.filter(user =&gt; 
        user.isActive &amp;&amp; 
        user.name.includes(this.searchQuery)
      )
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-20">ä¼˜åŒ–3ï¼šWeb Worker å¤„ç†å¤§é‡æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> { users, filterConditions } = e.<span class="hljs-property">data</span>
  <span class="hljs-keyword">const</span> result = users.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> filterConditions.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">condition</span> =&gt;</span> <span class="hljs-title function_">condition</span>(user))
  })
  self.<span class="hljs-title function_">postMessage</span>(result)
}

<span class="hljs-comment">// Vue ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">filteredUsers</span>: [],
      <span class="hljs-attr">worker</span>: <span class="hljs-literal">null</span>
    }
  },
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'./filter.worker.js'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">filteredUsers</span> = e.<span class="hljs-property">data</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">filterUsers</span>(<span class="hljs-params">users</span>) {
      <span class="hljs-comment">// å°†ç¹é‡çš„è¿‡æ»¤ä»»åŠ¡äº¤ç»™ Worker</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-title function_">postMessage</span>({
        users,
        <span class="hljs-attr">filterConditions</span>: [
          <span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">isActive</span>,
          <span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">age</span> &gt; <span class="hljs-number">18</span>,
          <span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">balance</span> &gt; <span class="hljs-number">0</span>
        ]
      })
    }
  },
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-title function_">terminate</span>()
  }
}
</code></pre>
<h2 data-id="heading-21">ä¸ƒã€TypeScript ä¸­çš„ç±»å‹å®‰å…¨</h2>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for="user in activeUsers" :key="user.id"&gt;
      {{ user.name }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, computed } from 'vue'

interface User {
  id: number
  name: string
  isActive: boolean
  email: string
}

export default defineComponent({
  props: {
    users: {
      type: Array as () =&gt; User[],
      required: true
    }
  },
  
  setup(props) {
    // ç±»å‹å®‰å…¨çš„è®¡ç®—å±æ€§
    const activeUsers = computed(() =&gt; {
      return props.users.filter((user): user is User =&gt; {
        // TypeScript çŸ¥é“è¿™é‡Œè¿‡æ»¤åä»ç„¶æ˜¯ User ç±»å‹
        return user.isActive
      })
    })
    
    return { activeUsers }
  }
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-22">å…«ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-23">ä¸ºä»€ä¹ˆä¸å»ºè®®åŒæ—¶ä½¿ç”¨ v-if å’Œ v-forï¼Ÿ</h3>
<ol>
<li>
<p><strong>ä¼˜å…ˆçº§é—®é¢˜</strong>ï¼š</p>
<ul>
<li>Vue 2ï¼šv-for &gt; v-ifï¼ˆä½æ•ˆéå†ï¼‰</li>
<li>Vue 3ï¼šv-if &gt; v-forï¼ˆå¯èƒ½æŠ¥é”™ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½é—®é¢˜</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡æ¸²æŸ“éƒ½è¦é‡æ–°éå†å’Œåˆ¤æ–­</li>
<li>äº§ç”Ÿå¤§é‡ä¸å¿…è¦çš„æ³¨é‡ŠèŠ‚ç‚¹</li>
<li>æ— æ³•åˆ©ç”¨ Vue çš„å“åº”å¼ç¼“å­˜æœºåˆ¶</li>
</ul>
</li>
<li>
<p><strong>å¯ç»´æŠ¤æ€§é—®é¢˜</strong>ï¼š</p>
<ul>
<li>é€»è¾‘æ··æ‚ï¼Œéš¾ä»¥é˜…è¯»å’Œç»´æŠ¤</li>
<li>éš¾ä»¥æµ‹è¯•å’Œè°ƒè¯•</li>
<li>æ— æ³•å¤ç”¨è¿‡æ»¤é€»è¾‘</li>
</ul>
</li>
</ol>
<h3 data-id="heading-24">æœ€ä½³å®è·µæ¸…å•</h3>








































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ç®€å•è¿‡æ»¤</td><td>è®¡ç®—å±æ€§</td><td><code>activeUsers = users.filter(u =&gt; u.isActive)</code></td></tr><tr><td>å¤æ‚è¿‡æ»¤</td><td>è®¡ç®—æ–¹æ³•</td><td><code>getUsersByRole(role)</code></td></tr><tr><td>éœ€è¦å‚æ•°</td><td>æ–¹æ³• + è®¡ç®—å±æ€§</td><td>å…ˆè¿‡æ»¤ï¼Œå†å¤„ç†</td></tr><tr><td>å¤šå±‚åµŒå¥—</td><td>é€å±‚è®¡ç®—å±æ€§</td><td><code>visibleCategories</code> â†’ <code>availableProducts</code></td></tr><tr><td>æ€§èƒ½æ•æ„Ÿ</td><td>ç¼“å­˜ + é˜²æŠ–</td><td><code>watch</code> + <code>lodash/debounce</code></td></tr><tr><td>è¶…å¤§æ•°æ®</td><td>è™šæ‹Ÿåˆ—è¡¨ + Web Worker</td><td>å¼‚æ­¥è¿‡æ»¤ + åˆ†æ‰¹æ¸²æŸ“</td></tr></tbody></table>
<h3 data-id="heading-25">æœ€ç»ˆå»ºè®®</h3>
<ol>
<li><strong>å§‹ç»ˆä¼˜å…ˆä½¿ç”¨è®¡ç®—å±æ€§</strong>è¿›è¡Œæ•°æ®è¿‡æ»¤</li>
<li><strong>ä¿æŒæ¨¡æ¿ç®€æ´</strong>ï¼Œåªè´Ÿè´£æ¸²æŸ“ï¼Œä¸è´Ÿè´£é€»è¾‘</li>
<li><strong>å¤æ‚é€»è¾‘æŠ½ç¦»</strong>åˆ° JavaScript/TypeScript ä¸­</li>
<li><strong>è€ƒè™‘æ€§èƒ½å½±å“</strong>ï¼Œå¯¹å¤§åˆ—è¡¨è¿›è¡Œä¼˜åŒ–</li>
<li><strong>åˆ©ç”¨ Vue å“åº”å¼ç³»ç»Ÿ</strong>çš„ç¼“å­˜æœºåˆ¶</li>
</ol>
<p>è®°ä½ï¼š<strong>æ¨¡æ¿åº”è¯¥å°½å¯èƒ½å£°æ˜å¼ï¼Œé€»è¾‘åº”è¯¥å°½å¯èƒ½å‘½ä»¤å¼</strong>ã€‚å°†æ•°æ®å‡†å¤‡ï¼ˆè¿‡æ»¤ã€æ’åºã€è½¬æ¢ï¼‰ä¸æ•°æ®å±•ç¤ºï¼ˆæ¸²æŸ“ï¼‰åˆ†ç¦»ï¼Œæ˜¯ç¼–å†™å¯ç»´æŠ¤ã€é«˜æ€§èƒ½ Vue åº”ç”¨çš„å…³é”®ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡å› ä¸º v-if å’Œ v-for æ··ç”¨å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿæˆ–è€…ä½ æœ‰æ²¡æœ‰æ›´å¥½çš„æ•°æ®è¿‡æ»¤æ¨¡å¼æƒ³è¦åˆ†äº«ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue æ¨¡æ¿ä¸­ä¿ç•™ HTML æ³¨é‡Šçš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593630465380007974</link>    <guid>https://juejin.cn/post/7593630465380007974</guid>    <pubDate>2026-01-11T08:59:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593630465380007974" data-draft-id="7593630465379991590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue æ¨¡æ¿ä¸­ä¿ç•™ HTML æ³¨é‡Šçš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T08:59:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue æ¨¡æ¿ä¸­ä¿ç•™ HTML æ³¨é‡Šçš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T08:59:09.000Z" title="Sun Jan 11 2026 08:59:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue æ¨¡æ¿ä¸­ä¿ç•™ HTML æ³¨é‡Šçš„å®Œæ•´æŒ‡å—</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šæ³¨é‡Šçš„è‰ºæœ¯</h3>
<p>åœ¨ Vue å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨æ¨¡æ¿ä¸­æ·»åŠ æ³¨é‡Šã€‚è¿™äº›æ³¨é‡Šå¯èƒ½æ˜¯ï¼š</p>
<ul>
<li>ğŸ“ <strong>å¼€å‘è€…å¤‡æ³¨</strong>ï¼šè§£é‡Šå¤æ‚é€»è¾‘</li>
<li>ğŸ·ï¸ <strong>ä»£ç æ ‡è®°</strong>ï¼šTODOã€FIXME ç­‰</li>
<li>ğŸ”§ <strong>æ¨¡æ¿å ä½ç¬¦</strong>ï¼šä¸ºåç»­å¼€å‘ç•™ä½ç½®</li>
<li>ğŸ“„ <strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£</li>
<li>ğŸ¨ <strong>è®¾è®¡ç³»ç»Ÿæ ‡æ³¨</strong>ï¼šè®¾è®¡æ„å›¾è¯´æ˜</li>
</ul>
<p>ä½†æ˜¯ï¼Œä½ å¯èƒ½ä¼šå‘ç° Vue é»˜è®¤ä¼š<strong>ç§»é™¤</strong>æ¨¡æ¿ä¸­çš„æ‰€æœ‰ HTML æ³¨é‡Šï¼ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨ Vue ä¸­ä¿ç•™è¿™äº›æœ‰ä»·å€¼çš„æ³¨é‡Šã€‚</p>
<h3 data-id="heading-2">ä¸€ã€Vue é»˜è®¤è¡Œä¸ºï¼šä¸ºä»€ä¹ˆç§»é™¤æ³¨é‡Šï¼Ÿ</h3>
<h4 data-id="heading-3">æºç è§†è§’</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ Vue ç¼–è¯‘å™¨å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">compile</span>(<span class="hljs-params">template</span>) {
  <span class="hljs-comment">// é»˜è®¤æƒ…å†µä¸‹ï¼Œæ³¨é‡ŠèŠ‚ç‚¹ä¼šè¢«ç§»é™¤</span>
  <span class="hljs-keyword">const</span> ast = <span class="hljs-title function_">parse</span>(template, {
    <span class="hljs-attr">comments</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// é»˜è®¤ä¸ä¿ç•™æ³¨é‡Š</span>
  })
  
  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ï¼šç§»é™¤æ‰€æœ‰æ³¨é‡Š</span>
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>) {
    <span class="hljs-title function_">removeComments</span>(ast)
  }
}
</code></pre>
<p><strong>Vue ç§»é™¤æ³¨é‡Šçš„åŸå› </strong>ï¼š</p>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå‡å°‘ DOM èŠ‚ç‚¹æ•°é‡</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šé¿å…æ½œåœ¨çš„ä¿¡æ¯æ³„éœ²</li>
<li><strong>ä»£ç ç²¾ç®€</strong>ï¼šå‡å°‘æœ€ç»ˆæ–‡ä»¶ä½“ç§¯</li>
<li><strong>æ ‡å‡†åšæ³•</strong>ï¼šä¸ä¸»æµæ¡†æ¶ä¿æŒä¸€è‡´</li>
</ol>
<h4 data-id="heading-4">é»˜è®¤è¡Œä¸ºæ¼”ç¤º</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- è¿™ä¸ªæ³¨é‡Šåœ¨æœ€ç»ˆæ¸²æŸ“ä¸­ä¼šè¢«ç§»é™¤ --&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
    
    &lt;!-- 
      å¤šè¡Œæ³¨é‡Š
      ä¹Ÿä¼šè¢«ç§»é™¤
    --&gt;
    
    &lt;!-- TODO: è¿™é‡Œéœ€è¦æ·»åŠ ç”¨æˆ·å¤´åƒ --&gt;
    &lt;div class="user-info"&gt;
      {{ userName }}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ç¼–è¯‘ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-info"</span>&gt;</span>
    John Doe
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>æ‰€æœ‰æ³¨é‡Šéƒ½ä¸è§äº†ï¼</strong></p>
<h3 data-id="heading-5">äºŒã€é…ç½® Vue ä¿ç•™æ³¨é‡Šçš„ 4 ç§æ–¹æ³•</h3>
<h4 data-id="heading-6">æ–¹æ³•1ï¼šVue ç¼–è¯‘å™¨é…ç½®ï¼ˆå…¨å±€ï¼‰</h4>
<h5 data-id="heading-7">Vue 2 é…ç½®</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    config.<span class="hljs-property">module</span>
      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'vue'</span>)
      .<span class="hljs-title function_">use</span>(<span class="hljs-string">'vue-loader'</span>)
      .<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> {
          ...options,
          <span class="hljs-attr">compilerOptions</span>: {
            <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// ä¿ç•™æ³¨é‡Š</span>
          }
        }
      })
  }
}

<span class="hljs-comment">// æˆ– webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
        <span class="hljs-attr">loader</span>: <span class="hljs-string">'vue-loader'</span>,
        <span class="hljs-attr">options</span>: {
          <span class="hljs-attr">compilerOptions</span>: {
            <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
          }
        }
      }
    ]
  }
}
</code></pre>
<h5 data-id="heading-8">Vue 3 é…ç½®</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>({
      <span class="hljs-attr">template</span>: {
        <span class="hljs-attr">compilerOptions</span>: {
          <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// ä¿ç•™æ³¨é‡Š</span>
        }
      }
    })
  ]
})

<span class="hljs-comment">// æˆ– vue.config.js (Vue CLI)</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">configureWebpack</span>: {
    <span class="hljs-attr">module</span>: {
      <span class="hljs-attr">rules</span>: [
        {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
          <span class="hljs-attr">use</span>: [
            {
              <span class="hljs-attr">loader</span>: <span class="hljs-string">'vue-loader'</span>,
              <span class="hljs-attr">options</span>: {
                <span class="hljs-attr">compilerOptions</span>: {
                  <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
                }
              }
            }
          ]
        }
      ]
    }
  }
}
</code></pre>
<h4 data-id="heading-9">æ–¹æ³•2ï¼šå•æ–‡ä»¶ç»„ä»¶é…ç½®ï¼ˆVue 3 ç‰¹æœ‰ï¼‰</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- è¿™ä¸ªæ³¨é‡Šä¼šè¢«ä¿ç•™ --&gt;
  &lt;div&gt;
    &lt;!-- ç»„ä»¶è¯´æ˜ï¼šç”¨æˆ·ä¿¡æ¯å±•ç¤º --&gt;
    &lt;UserProfile /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  // Vue 3 å¯ä»¥åœ¨ç»„ä»¶çº§åˆ«é…ç½®
  compilerOptions: {
    comments: true
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-10">æ–¹æ³•3ï¼šè¿è¡Œæ—¶ç¼–è¯‘ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨å®Œæ•´ç‰ˆ Vueï¼ˆåŒ…å«ç¼–è¯‘å™¨ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue/dist/vue.esm.js'</span>

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div&gt;
      &lt;!-- è¿è¡Œæ—¶ç¼–è¯‘ä¼šä¿ç•™æ³¨é‡Š --&gt;
      &lt;h1&gt;Hello&lt;/h1&gt;
    &lt;/div&gt;
  `</span>,
  <span class="hljs-attr">compilerOptions</span>: {
    <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
  }
})
</code></pre>
<h4 data-id="heading-11">æ–¹æ³•4ï¼šä½¿ç”¨ <code>&lt;script type="text/x-template"&gt;</code></h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æ¨¡æ¿å®šä¹‰ï¼Œæ³¨é‡Šä¼šè¢«ä¿ç•™ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/x-template"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"my-template"</span>&gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-info"</span>&gt;</span>
        {{ userName }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-comment">&lt;!-- <span class="hljs-doctag">TODO:</span> æ·»åŠ ç”¨æˆ·æƒé™å±•ç¤º --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
    <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
    <span class="hljs-attr">template</span>: <span class="hljs-string">'#my-template'</span>,
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">userName</span>: <span class="hljs-string">'John'</span>
    },
    <span class="hljs-comment">// å¯èƒ½éœ€è¦é¢å¤–é…ç½®</span>
    <span class="hljs-attr">compilerOptions</span>: {
      <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
    }
  })
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">ä¸‰ã€æ³¨é‡Šçš„æœ€ä½³å®è·µä¸ç”¨ä¾‹</h3>
<h4 data-id="heading-13">ç”¨ä¾‹1ï¼šç»„ä»¶æ–‡æ¡£ç”Ÿæˆ</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- 
    UserCard ç»„ä»¶
    @prop {Object} user - ç”¨æˆ·å¯¹è±¡
    @prop {Boolean} showDetails - æ˜¯å¦æ˜¾ç¤ºè¯¦æƒ…
    @slot default - è‡ªå®šä¹‰å†…å®¹
    @slot avatar - è‡ªå®šä¹‰å¤´åƒ
    @event click - ç‚¹å‡»äº‹ä»¶
  --&gt;
  &lt;div class="user-card" @click="$emit('click', user)"&gt;
    &lt;!-- ç”¨æˆ·å¤´åƒ --&gt;
    &lt;div class="avatar"&gt;
      &lt;slot name="avatar"&gt;
        &lt;img :src="user.avatar" alt="å¤´åƒ"&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    
    &lt;!-- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ --&gt;
    &lt;div class="info"&gt;
      &lt;h3&gt;{{ user.name }}&lt;/h3&gt;
      &lt;p v-if="showDetails"&gt;{{ user.bio }}&lt;/p&gt;
      
      &lt;!-- è‡ªå®šä¹‰å†…å®¹åŒºåŸŸ --&gt;
      &lt;slot /&gt;
    &lt;/div&gt;
    
    &lt;!-- FIXME: è¿™é‡Œåº”è¯¥æ˜¾ç¤ºç”¨æˆ·æ ‡ç­¾ --&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'UserCard',
  props: {
    user: {
      type: Object,
      required: true
    },
    showDetails: {
      type: Boolean,
      default: false
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-14">ç”¨ä¾‹2ï¼šè®¾è®¡ç³»ç»Ÿæ ‡æ³¨</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- 
    Design System: Button Component
    Type: Primary Button
    Color: Primary Blue (#1890ff)
    Spacing: 8px vertical, 16px horizontal
    Border Radius: 4px
    States: Default, Hover, Active, Disabled
  --&gt;
  &lt;button 
    class="btn btn-primary"
    :disabled="disabled"
    @click="handleClick"
  &gt;
    &lt;!-- 
      Button Content Guidelines:
      1. ä½¿ç”¨åŠ¨è¯å¼€å¤´
      2. ä¸è¶…è¿‡4ä¸ªæ±‰å­—
      3. ä¿æŒç®€æ´æ˜äº†
    --&gt;
    &lt;slot&gt;{{ label }}&lt;/slot&gt;
  &lt;/button&gt;
  
  &lt;!-- 
    Design Tokens Reference:
    --color-primary: #1890ff;
    --spacing-md: 8px;
    --radius-sm: 4px;
  --&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-15">ç”¨ä¾‹3ï¼šåä½œå¼€å‘æ ‡è®°</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="checkout-page"&gt;
    &lt;!-- TODO: @å‰ç«¯å°ç‹ - æ·»åŠ ä¼˜æƒ åˆ¸é€‰æ‹©åŠŸèƒ½ --&gt;
    &lt;div class="coupon-section"&gt;
      ä¼˜æƒ åˆ¸åŠŸèƒ½å¼€å‘ä¸­...
    &lt;/div&gt;
    
    &lt;!-- FIXME: @å‰ç«¯å°æ - ä¿®å¤ç§»åŠ¨ç«¯æ”¯ä»˜æŒ‰é’®å¸ƒå±€ --&gt;
    &lt;div class="payment-section"&gt;
      &lt;button class="pay-btn"&gt;ç«‹å³æ”¯ä»˜&lt;/button&gt;
    &lt;/div&gt;
    
    &lt;!-- OPTIMIZE: @æ€§èƒ½ä¼˜åŒ–å°ç»„ - å›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ– --&gt;
    &lt;div class="recommendations"&gt;
      &lt;img 
        v-for="img in productImages" 
        :key="img.id"
        :src="img.thumbnail"
        :data-src="img.fullSize"
        class="lazy-image"
      &gt;
    &lt;/div&gt;
    
    &lt;!-- HACK: @å‰ç«¯å°å¼  - ä¸´æ—¶è§£å†³Safariå…¼å®¹æ€§é—®é¢˜ --&gt;
    &lt;div v-if="isSafari" class="safari-fix"&gt;
      &lt;!-- Safari specific fixes --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  computed: {
    isSafari() {
      return /^((?!chrome|android).)*safari/i.test(navigator.userAgent)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-16">å››ã€ç¯å¢ƒå·®å¼‚åŒ–é…ç½®</h3>
<h4 data-id="heading-17">å¼€å‘ç¯å¢ƒ vs ç”Ÿäº§ç¯å¢ƒ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    config.<span class="hljs-property">module</span>
      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'vue'</span>)
      .<span class="hljs-title function_">use</span>(<span class="hljs-string">'vue-loader'</span>)
      .<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> compilerOptions = {
          ...options.<span class="hljs-property">compilerOptions</span>
        }
        
        <span class="hljs-comment">// åªåœ¨å¼€å‘ç¯å¢ƒä¿ç•™æ³¨é‡Š</span>
        <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>) {
          compilerOptions.<span class="hljs-property">comments</span> = <span class="hljs-literal">true</span>
        } <span class="hljs-keyword">else</span> {
          compilerOptions.<span class="hljs-property">comments</span> = <span class="hljs-literal">false</span>
        }
        
        <span class="hljs-keyword">return</span> {
          ...options,
          compilerOptions
        }
      })
  }
}
</code></pre>
<h4 data-id="heading-18">æŒ‰éœ€ä¿ç•™ç‰¹å®šç±»å‹æ³¨é‡Š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰æ³¨é‡Šå¤„ç†å™¨</span>
<span class="hljs-keyword">const</span> commentPreserver = {
  <span class="hljs-comment">// åªä¿ç•™ç‰¹å®šå‰ç¼€çš„æ³¨é‡Š</span>
  <span class="hljs-title function_">shouldPreserveComment</span>(<span class="hljs-params">comment</span>) {
    <span class="hljs-keyword">const</span> preservedPrefixes = [
      <span class="hljs-string">'TODO:'</span>,
      <span class="hljs-string">'FIXME:'</span>, 
      <span class="hljs-string">'HACK:'</span>,
      <span class="hljs-string">'OPTIMIZE:'</span>,
      <span class="hljs-string">'@design-system'</span>,
      <span class="hljs-string">'@api'</span>
    ]
    
    <span class="hljs-keyword">return</span> preservedPrefixes.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">prefix</span> =&gt;</span> 
      comment.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">startsWith</span>(prefix)
    )
  }
}

<span class="hljs-comment">// åœ¨é…ç½®ä¸­ä½¿ç”¨</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    config.<span class="hljs-property">module</span>
      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'vue'</span>)
      .<span class="hljs-title function_">use</span>(<span class="hljs-string">'vue-loader'</span>)
      .<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> {
          ...options,
          <span class="hljs-attr">compilerOptions</span>: {
            <span class="hljs-attr">whitespace</span>: <span class="hljs-string">'preserve'</span>,
            <span class="hljs-comment">// è‡ªå®šä¹‰æ³¨é‡Šå¤„ç†</span>
            <span class="hljs-attr">comments</span>: <span class="hljs-function">(<span class="hljs-params">comment</span>) =&gt;</span> commentPreserver.<span class="hljs-title function_">shouldPreserveComment</span>(comment)
          }
        }
      })
  }
}
</code></pre>
<h3 data-id="heading-19">äº”ã€é«˜çº§ç”¨æ³•ï¼šæ³¨é‡Šæ•°æ®å¤„ç†</h3>
<h4 data-id="heading-20">ç”¨ä¾‹1ï¼šè‡ªåŠ¨æå– API æ–‡æ¡£</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- 
    @component UserProfile
    @description ç”¨æˆ·ä¸ªäººèµ„æ–™å±•ç¤ºç»„ä»¶
    @version 1.2.0
    @author å¼€å‘å›¢é˜Ÿ
    @prop {String} userId - ç”¨æˆ·ID
    @prop {Boolean} editable - æ˜¯å¦å¯ç¼–è¾‘
    @event save - ä¿å­˜äº‹ä»¶
    @event cancel - å–æ¶ˆäº‹ä»¶
  --&gt;
  &lt;div class="user-profile"&gt;
    &lt;!-- @section åŸºæœ¬ä¿¡æ¯ --&gt;
    &lt;div class="basic-info"&gt;
      {{ user.name }}
    &lt;/div&gt;
    
    &lt;!-- @section è”ç³»ä¿¡æ¯ --&gt;
    &lt;div class="contact-info"&gt;
      {{ user.email }}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ³¨é‡Šæå–è„šæœ¬</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@vue/compiler-sfc'</span>)

<span class="hljs-keyword">function</span> <span class="hljs-title function_">extractCommentsFromVue</span>(<span class="hljs-params">filePath</span>) {
  <span class="hljs-keyword">const</span> content = fs.<span class="hljs-title function_">readFileSync</span>(filePath, <span class="hljs-string">'utf-8'</span>)
  <span class="hljs-keyword">const</span> { descriptor } = parser.<span class="hljs-title function_">parse</span>(content)
  
  <span class="hljs-keyword">const</span> comments = []
  <span class="hljs-keyword">const</span> template = descriptor.<span class="hljs-property">template</span>
  
  <span class="hljs-keyword">if</span> (template) {
    <span class="hljs-comment">// è§£ææ¨¡æ¿ä¸­çš„æ³¨é‡Š</span>
    <span class="hljs-keyword">const</span> ast = parser.<span class="hljs-title function_">compile</span>(template.<span class="hljs-property">content</span>, {
      <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
    }).<span class="hljs-property">ast</span>
    
    <span class="hljs-title function_">traverseAST</span>(ast, <span class="hljs-function">(<span class="hljs-params">node</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (node.<span class="hljs-property">type</span> === <span class="hljs-number">3</span> &amp;&amp; node.<span class="hljs-property">isComment</span>) {
        comments.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">content</span>: node.<span class="hljs-property">content</span>,
          <span class="hljs-attr">line</span>: node.<span class="hljs-property">loc</span>.<span class="hljs-property">start</span>.<span class="hljs-property">line</span>,
          <span class="hljs-attr">file</span>: path.<span class="hljs-title function_">basename</span>(filePath)
        })
      }
    })
  }
  
  <span class="hljs-keyword">return</span> comments
}

<span class="hljs-comment">// ç”Ÿæˆæ–‡æ¡£</span>
<span class="hljs-keyword">const</span> componentComments = <span class="hljs-title function_">extractCommentsFromVue</span>(<span class="hljs-string">'./UserProfile.vue'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(componentComments, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>))
</code></pre>
<h4 data-id="heading-21">ç”¨ä¾‹2ï¼šä»£ç è´¨é‡æ£€æŸ¥</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eslint-plugin-vue-comments</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">rules</span>: {
    <span class="hljs-string">'require-todo-comment'</span>: {
      <span class="hljs-title function_">create</span>(<span class="hljs-params">context</span>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-string">'VElement'</span>(node) {
            <span class="hljs-keyword">const</span> comments = context.<span class="hljs-title function_">getSourceCode</span>()
              .<span class="hljs-title function_">getAllComments</span>()
              .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">comment</span> =&gt;</span> comment.<span class="hljs-property">type</span> === <span class="hljs-string">'HTML'</span>)
            
            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ TODO æ³¨é‡Š</span>
            <span class="hljs-keyword">const</span> hasTodo = comments.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">comment</span> =&gt;</span> 
              comment.<span class="hljs-property">value</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'TODO:'</span>)
            )
            
            <span class="hljs-keyword">if</span> (!hasTodo &amp;&amp; node.<span class="hljs-property">rawName</span> === <span class="hljs-string">'div'</span>) {
              context.<span class="hljs-title function_">report</span>({
                node,
                <span class="hljs-attr">message</span>: <span class="hljs-string">'å¤æ‚ div å…ƒç´ éœ€è¦æ·»åŠ  TODO æ³¨é‡Šè¯´æ˜'</span>
              })
            }
          }
        }
      }
    }
  }
}
</code></pre>
<h3 data-id="heading-22">å…­ã€ä¸ JSX/æ¸²æŸ“å‡½æ•°çš„å¯¹æ¯”</h3>
<h4 data-id="heading-23">Vue æ¨¡æ¿ vs JSX</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue æ¨¡æ¿ï¼ˆæ”¯æŒ HTML æ³¨é‡Šï¼‰</span>
<span class="hljs-keyword">const</span> template = <span class="hljs-string">`
  &lt;div&gt;
    &lt;!-- è¿™ä¸ªæ³¨é‡Šä¼šè¢«å¤„ç† --&gt;
    &lt;h1&gt;Title&lt;/h1&gt;
  &lt;/div&gt;
`</span>

<span class="hljs-comment">// JSXï¼ˆä½¿ç”¨ JS æ³¨é‡Šï¼‰</span>
<span class="hljs-keyword">const</span> jsx = (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    {/* JSX ä¸­çš„æ³¨é‡Š */}
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    {
      // ä¹Ÿå¯ä»¥ä½¿ç”¨å•è¡Œæ³¨é‡Š
    }
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
)

<span class="hljs-comment">// Vue æ¸²æŸ“å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">render</span>(<span class="hljs-params">h</span>) {
    <span class="hljs-comment">// æ¸²æŸ“å‡½æ•°ä¸­æ— æ³•æ·»åŠ  HTML æ³¨é‡Š</span>
    <span class="hljs-comment">// åªèƒ½ä½¿ç”¨ JS æ³¨é‡Šï¼Œä½†ä¸ä¼šå‡ºç°åœ¨ DOM ä¸­</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'div'</span>, [
      <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ª JS æ³¨é‡Šï¼Œä¸ä¼šå‡ºç°åœ¨ DOM ä¸­</span>
      <span class="hljs-title function_">h</span>(<span class="hljs-string">'h1'</span>, <span class="hljs-string">'Title'</span>)
    ])
  }
}
</code></pre>
<h4 data-id="heading-24">åœ¨ JSX ä¸­æ¨¡æ‹Ÿ HTML æ³¨é‡Š</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// è‡ªå®šä¹‰æ³¨é‡Šç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Comment</span> = (<span class="hljs-params">{ text }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> '<span class="hljs-attr">none</span>' }}
    <span class="hljs-attr">data-comment</span>=<span class="hljs-string">{text}</span>
    <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>
  /&gt;</span></span>
)

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Component</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Comment</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"TODO: è¿™é‡Œéœ€è¦ä¼˜åŒ–"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
)
</code></pre>
<h3 data-id="heading-25">ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-26">é—®é¢˜1ï¼šæ€§èƒ½å½±å“</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¿ç•™å¤§é‡æ³¨é‡Šçš„æ€§èƒ½æµ‹è¯•</span>
<span class="hljs-keyword">const</span> testData = {
  <span class="hljs-attr">withComments</span>: <span class="hljs-string">`
    &lt;div&gt;
      <span class="hljs-subst">${<span class="hljs-built_in">Array</span>(<span class="hljs-number">1000</span>).fill().map((_, i) =&gt; 
        <span class="hljs-string">`&lt;!-- æ³¨é‡Š <span class="hljs-subst">${i}</span> --&gt;\n&lt;div&gt;Item <span class="hljs-subst">${i}</span>&lt;/div&gt;`</span>
      ).join(<span class="hljs-string">'\n'</span>)}</span>
    &lt;/div&gt;
  `</span>,
  <span class="hljs-attr">withoutComments</span>: <span class="hljs-string">`
    &lt;div&gt;
      <span class="hljs-subst">${<span class="hljs-built_in">Array</span>(<span class="hljs-number">1000</span>).fill().map((_, i) =&gt; 
        <span class="hljs-string">`&lt;div&gt;Item <span class="hljs-subst">${i}</span>&lt;/div&gt;`</span>
      ).join(<span class="hljs-string">'\n'</span>)}</span>
    &lt;/div&gt;
  `</span>
}

<span class="hljs-comment">// æµ‹è¯•ç»“æœ</span>
<span class="hljs-comment">// æœ‰æ³¨é‡Šï¼šè™šæ‹ŸDOMèŠ‚ç‚¹æ•° 2000</span>
<span class="hljs-comment">// æ— æ³¨é‡Šï¼šè™šæ‹ŸDOMèŠ‚ç‚¹æ•° 1000</span>
<span class="hljs-comment">// å†…å­˜å ç”¨å¢åŠ çº¦ 30-50%</span>
</code></pre>
<p><strong>å»ºè®®</strong>ï¼šåªåœ¨å¼€å‘ç¯å¢ƒä¿ç•™æ³¨é‡Šï¼Œç”Ÿäº§ç¯å¢ƒç§»é™¤ã€‚</p>
<h4 data-id="heading-27">é—®é¢˜2ï¼šå®‰å…¨æ€§è€ƒè™‘</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- å±é™©ï¼šå¯èƒ½æ³„éœ²æ•æ„Ÿä¿¡æ¯ --&gt;
  &lt;!-- APIå¯†é’¥ï¼šsk_test_1234567890 --&gt;
  &lt;!-- æ•°æ®åº“è¿æ¥ï¼šmysql://user:pass@localhost --&gt;
  &lt;!-- å†…éƒ¨æ¥å£ï¼šhttps://internal-api.company.com --&gt;
  
  &lt;!-- å®‰å…¨ï¼šä½¿ç”¨å ä½ç¬¦ --&gt;
  &lt;!-- ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š{{ apiEndpoint }} --&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-28">é—®é¢˜3ï¼šSSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰å…¼å®¹æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Vue</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vue'</span>)
<span class="hljs-keyword">const</span> renderer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@vue/server-renderer'</span>)

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div&gt;
      &lt;!-- SSRæ³¨é‡Š --&gt;
      &lt;h1&gt;æœåŠ¡ç«¯æ¸²æŸ“&lt;/h1&gt;
    &lt;/div&gt;
  `</span>
})

<span class="hljs-comment">// SSR æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> html = <span class="hljs-keyword">await</span> renderer.<span class="hljs-title function_">renderToString</span>(app, {
  <span class="hljs-comment">// éœ€è¦æ˜¾å¼å¯ç”¨æ³¨é‡Š</span>
  <span class="hljs-attr">template</span>: {
    <span class="hljs-attr">compilerOptions</span>: {
      <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>
    }
  }
})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(html)
<span class="hljs-comment">// è¾“å‡ºï¼š&lt;div&gt;&lt;!-- SSRæ³¨é‡Š --&gt;&lt;h1&gt;æœåŠ¡ç«¯æ¸²æŸ“&lt;/h1&gt;&lt;/div&gt;</span>
</code></pre>
<h3 data-id="heading-29">å…«ã€æœ€ä½³å®è·µæ€»ç»“</h3>
<h4 data-id="heading-30">é…ç½®æ–‡ä»¶æ¨¡æ¿</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js - å®Œæ•´é…ç½®ç¤ºä¾‹</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    <span class="hljs-comment">// Vue æ–‡ä»¶å¤„ç†</span>
    config.<span class="hljs-property">module</span>
      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'vue'</span>)
      .<span class="hljs-title function_">use</span>(<span class="hljs-string">'vue-loader'</span>)
      .<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> isDevelopment = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>
        <span class="hljs-keyword">const</span> isProduction = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>
        
        <span class="hljs-keyword">return</span> {
          ...options,
          <span class="hljs-attr">compilerOptions</span>: {
            <span class="hljs-comment">// å¼€å‘ç¯å¢ƒï¼šä¿ç•™æ‰€æœ‰æ³¨é‡Š</span>
            <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒï¼šç§»é™¤æ³¨é‡Šï¼Œæˆ–åªä¿ç•™ç‰¹å®šæ³¨é‡Š</span>
            <span class="hljs-attr">comments</span>: isDevelopment ? <span class="hljs-literal">true</span> : <span class="hljs-function">(<span class="hljs-params">comment</span>) =&gt;</span> {
              <span class="hljs-keyword">const</span> importantPrefixes = [
                <span class="hljs-string">'TODO:'</span>,
                <span class="hljs-string">'FIXME:'</span>,
                <span class="hljs-string">'@design-system'</span>,
                <span class="hljs-string">'@api-docs'</span>
              ]
              
              <span class="hljs-keyword">return</span> importantPrefixes.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">prefix</span> =&gt;</span> 
                comment.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">startsWith</span>(prefix)
              )
            },
            
            <span class="hljs-comment">// å…¶ä»–ç¼–è¯‘é€‰é¡¹</span>
            <span class="hljs-attr">whitespace</span>: isProduction ? <span class="hljs-string">'condense'</span> : <span class="hljs-string">'preserve'</span>,
            <span class="hljs-attr">delimiters</span>: [<span class="hljs-string">'{{'</span>, <span class="hljs-string">'}}'</span>]
          }
        }
      })
  }
}
</code></pre>
<h4 data-id="heading-31">æ³¨é‡Šç¼–å†™è§„èŒƒ</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- 
    è‰¯å¥½çš„æ³¨é‡Šè§„èŒƒï¼š
    1. ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜
    2. ä½¿ç”¨æ ‡å‡†æ ‡è®°ï¼ˆTODO, FIXMEç­‰ï¼‰
    3. @ä½œè€… å’Œ @æ—¥æœŸ
    4. ä¿æŒæ³¨é‡Šç®€æ´
  --&gt;
  
  &lt;!-- 
    SECTION: ç”¨æˆ·ä¿¡æ¯å±•ç¤º
    TODO: æ·»åŠ ç”¨æˆ·è§’è‰²å¾½ç«  - @å‰ç«¯å°æ - 2024-01
    FIXME: ç§»åŠ¨ç«¯å¤´åƒå¤§å°éœ€è¦è°ƒæ•´ - @UIè®¾è®¡å¸ˆ - 2024-01
    @design-system: ä½¿ç”¨ DS-Button ç»„ä»¶
    @api: ç”¨æˆ·æ•°æ®æ¥è‡ª /api/user/:id
  --&gt;
  &lt;div class="user-profile"&gt;
    &lt;!-- åŸºæœ¬ä¿¡æ¯åŒºåŸŸ --&gt;
    &lt;div class="basic-info"&gt;
      &lt;!-- ç”¨æˆ·å¤´åƒ --&gt;
      &lt;img :src="user.avatar" alt="å¤´åƒ"&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-32">å„åœºæ™¯æ¨èæ–¹æ¡ˆ</h4>









































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>é…ç½®æ–¹å¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å¼€å‘è°ƒè¯•</td><td>ä¿ç•™æ‰€æœ‰æ³¨é‡Š</td><td><code>comments: true</code></td><td>ä¾¿äºè°ƒè¯•</td></tr><tr><td>ç”Ÿäº§ç¯å¢ƒ</td><td>ç§»é™¤æ‰€æœ‰æ³¨é‡Š</td><td><code>comments: false</code></td><td>æ€§èƒ½ä¼˜åŒ–</td></tr><tr><td>æ–‡æ¡£ç”Ÿæˆ</td><td>ä¿ç•™ç‰¹å®šæ³¨é‡Š</td><td>è‡ªå®šä¹‰è¿‡æ»¤å‡½æ•°</td><td>æå– API æ–‡æ¡£</td></tr><tr><td>è®¾è®¡ç³»ç»Ÿ</td><td>ä¿ç•™è®¾è®¡æ³¨é‡Š</td><td><code>comments: /@design-system/</code></td><td>è®¾è®¡æ ‡æ³¨</td></tr><tr><td>å›¢é˜Ÿåä½œ</td><td>ä¿ç•™ TODO/FIXME</td><td>æ­£åˆ™åŒ¹é…ä¿ç•™</td><td>ä»»åŠ¡è·Ÿè¸ª</td></tr></tbody></table>
<h3 data-id="heading-33">æ€»ç»“</h3>
<p>åœ¨ Vue ä¸­ä¿ç•™ HTML æ³¨é‡Šéœ€è¦æ˜ç¡®çš„é…ç½®ï¼Œä½†è¿™å¯¹äº<strong>å¼€å‘æ•ˆç‡ã€å›¢é˜Ÿåä½œã€æ–‡æ¡£ç»´æŠ¤</strong>éƒ½å¤§æœ‰è£¨ç›Šã€‚å…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong>ç†è§£é»˜è®¤è¡Œä¸º</strong>ï¼šVue ä¸ºæ€§èƒ½ä¼˜åŒ–é»˜è®¤ç§»é™¤æ³¨é‡Š</li>
<li><strong>æŒ‰éœ€é…ç½®</strong>ï¼šæ ¹æ®ç¯å¢ƒé€‰æ‹©æ˜¯å¦ä¿ç•™æ³¨é‡Š</li>
<li><strong>è§„èŒƒæ³¨é‡Š</strong>ï¼šåˆ¶å®šå›¢é˜Ÿç»Ÿä¸€çš„æ³¨é‡Šè§„èŒƒ</li>
<li><strong>è€ƒè™‘æ€§èƒ½</strong>ï¼šç”Ÿäº§ç¯å¢ƒè°¨æ…ä¿ç•™æ³¨é‡Š</li>
<li><strong>æ¢ç´¢é«˜çº§ç”¨æ³•</strong>ï¼šæ³¨é‡Šå¯ä»¥ç”¨äºæ–‡æ¡£ç”Ÿæˆã€ä»£ç åˆ†æç­‰</li>
</ol>
<p>è®°ä½ï¼šå¥½çš„æ³¨é‡Šæ˜¯ä»£ç çš„<strong>è·¯æ ‡</strong>ï¼Œè€Œä¸ä»…ä»…æ˜¯<strong>è£…é¥°</strong>ã€‚åˆç†é…ç½®å’Œä½¿ç”¨æ³¨é‡Šï¼Œèƒ½è®©ä½ çš„ Vue é¡¹ç›®æ›´åŠ å¯ç»´æŠ¤ã€å¯åä½œã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæ³¨é‡Šä¸»è¦ç”¨æ¥åšä»€ä¹ˆï¼Ÿæœ‰æ²¡æœ‰å› ä¸ºæ³¨é‡Šé—®é¢˜å¯¼è‡´çš„æ²Ÿé€šæˆæœ¬å¢åŠ ï¼Ÿæˆ–è€…æœ‰æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ³¨é‡ŠæŠ€å·§æƒ³è¦åˆ†äº«ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ Vue ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿæ·±åº¦è§£æä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593771861323464730</link>    <guid>https://juejin.cn/post/7593771861323464730</guid>    <pubDate>2026-01-11T09:02:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861323464730" data-draft-id="7593713738856333350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ Vue ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿæ·±åº¦è§£æä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-11T09:02:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ Vue ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿæ·±åº¦è§£æä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T09:02:44.000Z" title="Sun Jan 11 2026 09:02:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆ Vue ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿæ·±åº¦è§£æä¸å®æˆ˜æŒ‡å—</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šä¸€ä¸ªä»¤äººå›°æƒ‘çš„è®¾è®¡å†³ç­–</h3>
<p>å¦‚æœä½ æ˜¯ Vue å¼€å‘è€…ï¼Œä¸€å®šå¯¹ä¸‹é¢çš„å†™æ³•éå¸¸ç†Ÿæ‚‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue!'</span>,
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
    }
  }
}
</code></pre>
<p>ä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼š<strong>ä¸ºä»€ä¹ˆ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Ÿ</strong></p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥å½»åº•æ­å¼€è¿™ä¸ª Vue æ ¸å¿ƒè®¾è®¡èƒŒåçš„å¥¥ç§˜ï¼Œçœ‹çœ‹è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„å†³ç­–å¦‚ä½•å½±å“ç€ä½ çš„æ¯ä¸€ä¸ª Vue åº”ç”¨ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€é—®é¢˜æ ¹æºï¼šç»„ä»¶å¤ç”¨æ—¶çš„æ•°æ®æ±¡æŸ“</h3>
<h4 data-id="heading-3">1.1 å¦‚æœ data æ˜¯å¯¹è±¡ï¼šç¾éš¾çš„å¼€å§‹</h4>
<p>è®©æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‡è®¾ Vue å…è®¸è¿™æ ·å†™ï¼ˆå®é™…ä¸Šä¸å…è®¸ï¼‰</span>
<span class="hljs-keyword">const</span> sharedData = {
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ComponentA</span> = {
  <span class="hljs-attr">data</span>: sharedData,  <span class="hljs-comment">// å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;button @click="count++"&gt;A: {{ count }}&lt;/button&gt;'</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ComponentB</span> = {
  <span class="hljs-attr">data</span>: sharedData,  <span class="hljs-comment">// è¿˜æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;button @click="count++"&gt;B: {{ count }}&lt;/button&gt;'</span>
}

<span class="hljs-comment">// ä½¿ç”¨è¿™ä¸¤ä¸ªç»„ä»¶</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ComponentA</span>, <span class="hljs-title class_">ComponentB</span> },
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div&gt;
      &lt;component-a /&gt;
      &lt;component-b /&gt;
    &lt;/div&gt;
  `</span>
})
</code></pre>
<p><strong>å®é™…æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>ç‚¹å‡» ComponentA çš„æŒ‰é’®ï¼šA æ˜¾ç¤º 1ï¼ŒB ä¹Ÿæ˜¾ç¤º 1</li>
<li>ç‚¹å‡» ComponentB çš„æŒ‰é’®ï¼šA æ˜¾ç¤º 2ï¼ŒB ä¹Ÿæ˜¾ç¤º 2</li>
<li>ä¸¤ä¸ªç»„ä»¶å…±äº«åŒä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼ğŸ˜±</li>
</ul>
<h4 data-id="heading-4">1.2 ç°å®ä¸­çš„åœºæ™¯æ¼”ç¤º</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä¸€ä¸ªå•†å“åˆ—è¡¨é¡µé¢ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ä½¿ç”¨åŒä¸€ä¸ª ProductCard ç»„ä»¶ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">product-card</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"product in products"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"product.id"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// å¦‚æœ data æ˜¯å¯¹è±¡</span>
<span class="hljs-keyword">const</span> productCardData = {
  <span class="hljs-attr">isFavorite</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">quantity</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">selectedColor</span>: <span class="hljs-literal">null</span>
}

<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">'ProductCard'</span>, {
  <span class="hljs-attr">data</span>: productCardData,  <span class="hljs-comment">// æ‰€æœ‰å•†å“å¡ç‰‡å…±äº«åŒä¸€ä¸ªå¯¹è±¡ï¼</span>
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'product'</span>],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div class="product-card"&gt;
      &lt;h3&gt;{{ product.name }}&lt;/h3&gt;
      &lt;button @click="isFavorite = !isFavorite"&gt;
        {{ isFavorite ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—' }}
      &lt;/button&gt;
      &lt;input v-model="quantity" type="number" min="1"&gt;
    &lt;/div&gt;
  `</span>
})

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">products</span>: [
      { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'iPhone 13'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'MacBook Pro'</span> },
      { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'AirPods Pro'</span> }
    ]
  }
})
</span></code></pre>
<p><strong>ç»“æœ</strong>ï¼šå½“ä½ æ”¶è—ç¬¬ä¸€ä¸ªå•†å“æ—¶ï¼Œ<strong>æ‰€æœ‰å•†å“</strong>éƒ½ä¼šæ˜¾ç¤ºä¸ºå·²æ”¶è—ï¼ğŸ’¥</p>
<h3 data-id="heading-5">äºŒã€æºç æ­ç§˜ï¼šVue å¦‚ä½•å®ç°æ•°æ®éš”ç¦»</h3>
<h4 data-id="heading-6">2.1 Vue 2 æºç åˆ†æ</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ Vue 2 æ˜¯å¦‚ä½•å¤„ç† data é€‰é¡¹çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ Vue 2 æºç </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">initData</span>(<span class="hljs-params">vm</span>) {
  <span class="hljs-keyword">let</span> data = vm.<span class="hljs-property">$options</span>.<span class="hljs-property">data</span>
  
  <span class="hljs-comment">// å…³é”®ä»£ç ï¼šåˆ¤æ–­ data ç±»å‹</span>
  data = vm.<span class="hljs-property">_data</span> = <span class="hljs-keyword">typeof</span> data === <span class="hljs-string">'function'</span>
    ? <span class="hljs-title function_">getData</span>(data, vm)  <span class="hljs-comment">// å¦‚æœæ˜¯å‡½æ•°ï¼Œè°ƒç”¨å®ƒè·å–æ–°å¯¹è±¡</span>
    : data || {}         <span class="hljs-comment">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨ï¼ˆä¼šæœ‰è­¦å‘Šï¼‰</span>
  
  <span class="hljs-comment">// å¦‚æœæ˜¯å¯¹è±¡ï¼Œå¼€å‘ç¯å¢ƒä¼šè­¦å‘Š</span>
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> !== <span class="hljs-string">'production'</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isPlainObject</span>(data)) {
      <span class="hljs-title function_">warn</span>(
        <span class="hljs-string">'data functions should return an object'</span>,
        vm
      )
    }
    
    <span class="hljs-comment">// æ£€æŸ¥ data æ˜¯ä¸æ˜¯å¯¹è±¡ï¼ˆç»„ä»¶ä¼šæŠ¥é”™ï¼‰</span>
    <span class="hljs-keyword">if</span> (data &amp;&amp; data.<span class="hljs-property">__ob__</span>) {
      <span class="hljs-title function_">warn</span>(
        <span class="hljs-string">'Avoid using observed data object as data root'</span>,
        vm
      )
    }
  }
  
  <span class="hljs-comment">// ä»£ç† data åˆ° vm å®ä¾‹</span>
  <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data)
  <span class="hljs-keyword">let</span> i = keys.<span class="hljs-property">length</span>
  <span class="hljs-keyword">while</span> (i--) {
    <span class="hljs-keyword">const</span> key = keys[i]
    <span class="hljs-title function_">proxy</span>(vm, <span class="hljs-string">`_data`</span>, key)
  }
  
  <span class="hljs-comment">// å“åº”å¼å¤„ç†</span>
  <span class="hljs-title function_">observe</span>(data, <span class="hljs-literal">true</span> <span class="hljs-comment">/* asRootData */</span>)
}

<span class="hljs-comment">// getData å‡½æ•°ï¼šæ‰§è¡Œ data å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getData</span>(<span class="hljs-params">data, vm</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">call</span>(vm, vm)  <span class="hljs-comment">// å…³é”®ï¼šæ¯æ¬¡è°ƒç”¨éƒ½è¿”å›æ–°å¯¹è±¡</span>
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-title function_">handleError</span>(e, vm, <span class="hljs-string">`data()`</span>)
    <span class="hljs-keyword">return</span> {}
  }
}
</code></pre>
<h4 data-id="heading-7">2.2 Vue 3 æºç å¯¹æ¯”</h4>
<p>Vue 3 åœ¨ Composition API ä¸­é‡‡ç”¨äº†ä¸åŒçš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue 3 Composition API</span>
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å“åº”å¼å¯¹è±¡</span>
    <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello'</span>
    })
    
    <span class="hljs-keyword">return</span> { state }
  }
}

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ ref</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¯ä¸ª ref éƒ½æ˜¯ç‹¬ç«‹çš„</span>
    <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Hello'</span>)
    
    <span class="hljs-keyword">return</span> { count, message }
  }
}
</code></pre>
<p><strong>Vue 3 çš„æœ¬è´¨</strong>ï¼šæ¯ä¸ªç»„ä»¶å®ä¾‹åœ¨ <code>setup()</code> ä¸­åˆ›å»ºè‡ªå·±çš„å“åº”å¼æ•°æ®ï¼Œè‡ªç„¶é¿å…äº†å…±äº«é—®é¢˜ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€å‡½æ•°å¼ data çš„å¤šç§å†™æ³•ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-9">3.1 åŸºæœ¬å†™æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†™æ³•1ï¼šä¼ ç»Ÿå‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello'</span>,
      <span class="hljs-attr">todos</span>: [],
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>
    }
  }
}

<span class="hljs-comment">// å†™æ³•2ï¼šç®­å¤´å‡½æ•°ï¼ˆæ³¨æ„ this æŒ‡å‘é—®é¢˜ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">data</span>: <span class="hljs-function">(<span class="hljs-params">vm</span>) =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-comment">// å¯ä»¥è®¿é—® props</span>
    <span class="hljs-attr">fullName</span>: vm.<span class="hljs-property">firstName</span> + <span class="hljs-string">' '</span> + vm.<span class="hljs-property">lastName</span>
  }),
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'firstName'</span>, <span class="hljs-string">'lastName'</span>]
}

<span class="hljs-comment">// å†™æ³•3ï¼šä½¿ç”¨å¤–éƒ¨å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getInitialData</span> = (<span class="hljs-params"/>) =&gt; ({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'Default message'</span>
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-title function_">getInitialData</span>(),
      <span class="hljs-comment">// å¯ä»¥æ·»åŠ å®ä¾‹ç‰¹å®šçš„æ•°æ®</span>
      <span class="hljs-attr">instanceId</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()
    }
  }
}
</code></pre>
<h4 data-id="heading-10">3.2 ä¾èµ– props çš„åŠ¨æ€æ•°æ®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: {
    <span class="hljs-attr">initialCount</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-attr">userType</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-string">'guest'</span>
    }
  },
  
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åŸºäº props åˆå§‹åŒ–æ•°æ®</span>
      <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialCount</span>,
      
      <span class="hljs-comment">// æ ¹æ® props è®¡ç®—åˆå§‹çŠ¶æ€</span>
      <span class="hljs-attr">permissions</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getPermissionsByType</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">userType</span>),
      
      <span class="hljs-comment">// ç»„ä»¶å†…éƒ¨çŠ¶æ€</span>
      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>
    }
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">getPermissionsByType</span>(<span class="hljs-params">type</span>) {
      <span class="hljs-keyword">const</span> permissions = {
        <span class="hljs-attr">admin</span>: [<span class="hljs-string">'read'</span>, <span class="hljs-string">'write'</span>, <span class="hljs-string">'delete'</span>],
        <span class="hljs-attr">user</span>: [<span class="hljs-string">'read'</span>, <span class="hljs-string">'write'</span>],
        <span class="hljs-attr">guest</span>: [<span class="hljs-string">'read'</span>]
      }
      <span class="hljs-keyword">return</span> permissions[type] || []
    }
  }
}
</code></pre>
<h4 data-id="heading-11">3.3 å·¥å‚å‡½æ•°æ¨¡å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºå¯å¤ç”¨çš„æ•°æ®å·¥å‚</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createFormData</span>(<span class="hljs-params">initialValues = {}</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">values</span>: { ...initialValues },
    <span class="hljs-attr">errors</span>: {},
    <span class="hljs-attr">touched</span>: {},
    <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">isValid</span>: <span class="hljs-literal">false</span>
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPaginatedData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">items</span>: [],
    <span class="hljs-attr">currentPage</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">totalItems</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>
  }
}

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'initialProduct'</span>],
  
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// ç»„åˆå¤šä¸ªæ•°æ®å·¥å‚</span>
      ...<span class="hljs-title function_">createFormData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialProduct</span>),
      ...<span class="hljs-title function_">createPaginatedData</span>(),
      
      <span class="hljs-comment">// ç»„ä»¶ç‰¹æœ‰æ•°æ®</span>
      <span class="hljs-attr">selectedCategory</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">uploadedImages</span>: []
    }
  }
}
</code></pre>
<h3 data-id="heading-12">å››ã€ç‰¹æ®Šåœºæ™¯ï¼šæ ¹å®ä¾‹çš„ data å¯ä»¥æ˜¯å¯¹è±¡</h3>
<h4 data-id="heading-13">ä¸ºä»€ä¹ˆæ ¹å®ä¾‹å¯ä»¥æ˜¯å¯¹è±¡ï¼Ÿ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ ¹å®ä¾‹å¯ä»¥æ˜¯å¯¹è±¡</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: {  <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ˜¯å¯¹è±¡ï¼</span>
    <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Root'</span>,
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
  }
})

<span class="hljs-comment">// åŸå› ï¼šæ ¹å®ä¾‹ä¸ä¼šè¢«å¤ç”¨</span>
<span class="hljs-comment">// æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªæ ¹å®ä¾‹</span>
</code></pre>
<p><strong>æºç ä¸­çš„åŒºåˆ«å¯¹å¾…</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue æºç ä¸­çš„åˆ¤æ–­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">initData</span>(<span class="hljs-params">vm</span>) {
  <span class="hljs-keyword">let</span> data = vm.<span class="hljs-property">$options</span>.<span class="hljs-property">data</span>
  
  <span class="hljs-comment">// å…³é”®åˆ¤æ–­ï¼šæ ¹å®ä¾‹å¯ä»¥æ˜¯å¯¹è±¡ï¼Œç»„ä»¶å¿…é¡»æ˜¯å‡½æ•°</span>
  <span class="hljs-keyword">if</span> (!vm.<span class="hljs-property">$parent</span>) {
    <span class="hljs-comment">// æ ¹å®ä¾‹ï¼Œå…è®¸æ˜¯å¯¹è±¡</span>
    <span class="hljs-comment">// ä½†ä»ç„¶æ¨èä½¿ç”¨å‡½æ•°å¼å†™æ³•ä¿æŒä¸€è‡´æ€§</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç»„ä»¶å®ä¾‹ï¼Œå¿…é¡»æ˜¯å‡½æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data !== <span class="hljs-string">'function'</span>) {
      <span class="hljs-title function_">warn</span>(
        <span class="hljs-string">'The "data" option should be a function '</span> +
        <span class="hljs-string">'that returns a per-instance value in component '</span> +
        <span class="hljs-string">'definitions.'</span>,
        vm
      )
      data = {}
    }
  }
}
</code></pre>
<h4 data-id="heading-14">ä¸€è‡´æ€§å»ºè®®</h4>
<p>å°½ç®¡æ ¹å®ä¾‹å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä½†<strong>å¼ºçƒˆå»ºè®®å§‹ç»ˆä½¿ç”¨å‡½æ•°å½¢å¼</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨èï¼šå§‹ç»ˆä½¿ç”¨å‡½æ•°</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue!'</span>,
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
    }
  }
})

<span class="hljs-comment">// âŒ ä¸æ¨èï¼šæ··åˆé£æ ¼</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: {  <span class="hljs-comment">// è¿™é‡Œæ˜¯å¯¹è±¡</span>
    <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello'</span>
  },
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">ChildComponent</span>: {
      <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {  <span class="hljs-comment">// è¿™é‡Œæ˜¯å‡½æ•°</span>
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
      }
    }
  }
})
</code></pre>
<h3 data-id="heading-15">äº”ã€TypeScript ä¸­çš„ç±»å‹å®‰å…¨</h3>
<h4 data-id="heading-16">5.1 Vue 2 + TypeScript</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ComponentData</span> {
  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">todos</span>: <span class="hljs-title class_">Todo</span>[]
  <span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>({
  <span class="hljs-title function_">data</span>(): <span class="hljs-title class_">ComponentData</span> {  <span class="hljs-comment">// æ˜ç¡®çš„è¿”å›ç±»å‹</span>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">todos</span>: [],
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>
    }
  }
})
</code></pre>
<h4 data-id="heading-17">5.2 Vue 3 + Composition API</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineComponent, ref, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>({
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¯ä¸ªå“åº”å¼å˜é‡éƒ½æœ‰æ˜ç¡®çš„ç±»å‹</span>
    <span class="hljs-keyword">const</span> count = ref&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">const</span> message = ref&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">''</span>)
    <span class="hljs-keyword">const</span> user = ref&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)
    
    <span class="hljs-keyword">const</span> formState = <span class="hljs-title function_">reactive</span>({
      <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">rememberMe</span>: <span class="hljs-literal">false</span>
    })
    
    <span class="hljs-keyword">return</span> {
      count,
      message,
      user,
      formState
    }
  }
})
</code></pre>
<h4 data-id="heading-18">5.3 å¤æ‚çš„ç±»å‹æ¨å¯¼</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨æ³›å‹å·¥å‚å‡½æ•°</span>
<span class="hljs-keyword">function</span> createPaginatedData&lt;T&gt;(): <span class="hljs-title class_">PaginatedData</span>&lt;T&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">items</span>: [] <span class="hljs-keyword">as</span> T[],
    <span class="hljs-attr">currentPage</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">totalItems</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>
  }
}

<span class="hljs-keyword">function</span> createFormData&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">initialData</span>: T): <span class="hljs-title class_">FormData</span>&lt;T&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">values</span>: { ...initialData },
    <span class="hljs-attr">errors</span>: {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;keyof T, <span class="hljs-built_in">string</span>&gt;,
    <span class="hljs-attr">touched</span>: {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;keyof T, <span class="hljs-built_in">boolean</span>&gt;,
    <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">isValid</span>: <span class="hljs-literal">false</span>
  }
}

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>({
  <span class="hljs-attr">props</span>: {
    <span class="hljs-attr">product</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">PropType</span>&lt;<span class="hljs-title class_">Product</span>&gt;,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
    }
  },
  
  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-comment">// ç±»å‹å®‰å…¨çš„åˆå§‹åŒ–</span>
    <span class="hljs-keyword">const</span> productForm = createFormData&lt;<span class="hljs-title class_">Product</span>&gt;(props.<span class="hljs-property">product</span>)
    <span class="hljs-keyword">const</span> reviewsData = createPaginatedData&lt;<span class="hljs-title class_">Review</span>&gt;()
    
    <span class="hljs-keyword">return</span> {
      productForm,
      reviewsData
    }
  }
})
</code></pre>
<h3 data-id="heading-19">å…­ã€é«˜çº§æ¨¡å¼ï¼šæ•°æ®åˆå§‹åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-20">6.1 å¼‚æ­¥æ•°æ®åˆå§‹åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">posts</span>: [],
      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>
    }
  },
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initializeData</span>()
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">initializeData</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> [user, posts] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUser</span>(),
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchPosts</span>()
        ])
        
        <span class="hljs-comment">// ç›´æ¥èµ‹å€¼ï¼ŒVue ä¼šå“åº”å¼æ›´æ–°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = user
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">posts</span> = posts
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">error</span> = err.<span class="hljs-property">message</span>
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">false</span>
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-21">6.2 æ•°æ®é‡ç½®åŠŸèƒ½</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInitialData</span>()
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">getInitialData</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">form</span>: {
          <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
          <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
          <span class="hljs-attr">agreeTerms</span>: <span class="hljs-literal">false</span>
        },
        <span class="hljs-attr">submitted</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">errors</span>: {}
      }
    },
    
    <span class="hljs-title function_">resetForm</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// é‡ç½®åˆ°åˆå§‹çŠ¶æ€</span>
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInitialData</span>())
    },
    
    <span class="hljs-title function_">submitForm</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">submitted</span> = <span class="hljs-literal">true</span>
      <span class="hljs-comment">// æäº¤é€»è¾‘...</span>
    }
  }
}
</code></pre>
<h4 data-id="heading-22">6.3 æ•°æ®æŒä¹…åŒ–ä¸æ¢å¤</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> savedData = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storageKey</span>)
    
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
      <span class="hljs-attr">preferences</span>: {},
      ...(savedData ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(savedData) : {})
    }
  },
  
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">storageKey</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`app-state-<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.$options.name || <span class="hljs-string">'default'</span>}</span>`</span>
    }
  },
  
  <span class="hljs-attr">watch</span>: {
    <span class="hljs-comment">// æ·±åº¦ç›‘è§†æ•°æ®å˜åŒ–</span>
    <span class="hljs-string">'$data'</span>: {
      <span class="hljs-title function_">handler</span>(<span class="hljs-params">newData</span>) {
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storageKey</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(newData))
      },
      <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<h3 data-id="heading-23">ä¸ƒã€å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-24">é”™è¯¯1ï¼šç®­å¤´å‡½æ•°çš„ this é—®é¢˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç®­å¤´å‡½æ•°ä¸­çš„ this ä¸æ˜¯ Vue å®ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'initialCount'</span>],
  <span class="hljs-attr">data</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialCount</span>  <span class="hljs-comment">// this æ˜¯ undefinedï¼</span>
  })
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨æ™®é€šå‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'initialCount'</span>],
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialCount</span>  <span class="hljs-comment">// this æ˜¯ Vue å®ä¾‹</span>
    }
  }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨å¸¦å‚æ•°çš„ç®­å¤´å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'initialCount'</span>],
  <span class="hljs-attr">data</span>: <span class="hljs-function">(<span class="hljs-params">vm</span>) =&gt;</span> ({
    <span class="hljs-attr">count</span>: vm.<span class="hljs-property">initialCount</span>  <span class="hljs-comment">// é€šè¿‡å‚æ•°è®¿é—®</span>
  })
}
</code></pre>
<h4 data-id="heading-25">é”™è¯¯2ï¼šç›´æ¥ä¿®æ”¹ props ä½œä¸º data</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨ props</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'user'</span>],
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å¦‚æœ user æ˜¯å¯¹è±¡ï¼Œè¿™ä»ç„¶æ˜¯å¼•ç”¨ï¼</span>
      <span class="hljs-attr">localUser</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>
    }
  },
  <span class="hljs-attr">watch</span>: {
    <span class="hljs-title function_">user</span>(<span class="hljs-params">newUser</span>) {
      <span class="hljs-comment">// éœ€è¦æ‰‹åŠ¨æ›´æ–°</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">localUser</span> = { ...newUser }
    }
  }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåˆ›å»ºæ·±æ‹·è´</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'user'</span>],
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åˆ›å»ºæ–°å¯¹è±¡ï¼Œé¿å…å¼•ç”¨é—®é¢˜</span>
      <span class="hljs-attr">localUser</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>))
    }
  }
}

<span class="hljs-comment">// âœ… æ›´å¥½çš„æ–¹æ¡ˆï¼šä½¿ç”¨è®¡ç®—å±æ€§</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'user'</span>],
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åªå­˜å‚¨ç”¨æˆ·å¯ä¿®æ”¹çš„éƒ¨åˆ†</span>
      <span class="hljs-attr">editableFields</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">email</span>
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-26">é”™è¯¯3ï¼šå¤æ‚çš„å¼‚æ­¥åˆå§‹åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šåœ¨ data ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-comment">// ä¸èƒ½åœ¨ data ä¸­æ‰§è¡Œå¼‚æ­¥ï¼</span>
      <span class="hljs-comment">// asyncData: await fetchData()  // è¯­æ³•é”™è¯¯</span>
    }
  }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåœ¨ created/mounted ä¸­åˆå§‹åŒ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
    }
  },
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUser</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
  }
}
</code></pre>
<h3 data-id="heading-27">å…«ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-28">8.1 æ•°æ®ç»“æ„çš„ä¼˜åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// âœ… æ‰å¹³åŒ–æ•°æ®ç»“æ„</span>
      <span class="hljs-attr">form</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
      },
      
      <span class="hljs-comment">// âœ… æ•°ç»„ä½¿ç”¨å¯¹è±¡ç´¢å¼•å¿«é€Ÿè®¿é—®</span>
      <span class="hljs-attr">users</span>: [],
      <span class="hljs-attr">userIndex</span>: {}, <span class="hljs-comment">// { [id]: user }</span>
      
      <span class="hljs-comment">// âœ… é¿å…æ·±å±‚åµŒå¥—</span>
      <span class="hljs-comment">// âŒ ä¸å¥½ï¼šuser.profile.contact.address.street</span>
      <span class="hljs-comment">// âœ… å¥½ï¼šuserAddress: { street, city, zip }</span>
      
      <span class="hljs-comment">// âœ… åˆ†ç¦»é¢‘ç¹å˜æ›´çš„æ•°æ®</span>
      <span class="hljs-attr">uiState</span>: {
        <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">isMenuOpen</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">activeTab</span>: <span class="hljs-string">'home'</span>
      },
      
      <span class="hljs-attr">businessData</span>: {
        <span class="hljs-attr">products</span>: [],
        <span class="hljs-attr">orders</span>: [],
        <span class="hljs-attr">customers</span>: []
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-29">8.2 æ•°æ®å†»ç»“ä¸æ€§èƒ½</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// é…ç½®æ•°æ®ï¼Œä¸ä¼šå˜åŒ–ï¼Œå¯ä»¥å†»ç»“</span>
      <span class="hljs-attr">config</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({
        <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
        <span class="hljs-attr">maxItems</span>: <span class="hljs-number">100</span>,
        <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>
      }),
      
      <span class="hljs-comment">// é¢‘ç¹å˜åŒ–çš„æ•°æ®</span>
      <span class="hljs-attr">items</span>: [],
      <span class="hljs-attr">filter</span>: <span class="hljs-string">''</span>
    }
  }
}
</code></pre>
<h4 data-id="heading-30">8.3 æŒ‰éœ€åˆå§‹åŒ–å¤§å‹æ•°æ®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–å¤§å‹æ•°æ®</span>
      <span class="hljs-attr">largeDataset</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">isDatasetLoaded</span>: <span class="hljs-literal">false</span>
    }
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadDatasetIfNeeded</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isDatasetLoaded</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">largeDataset</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchLargeDataset</span>()
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isDatasetLoaded</span> = <span class="hljs-literal">true</span>
      }
    }
  },
  
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-comment">// è®¡ç®—å±æ€§æŒ‰éœ€è®¿é—®</span>
    <span class="hljs-title function_">processedData</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">largeDataset</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadDatasetIfNeeded</span>()
        <span class="hljs-keyword">return</span> []
      }
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">process</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">largeDataset</span>)
    }
  }
}
</code></pre>
<h3 data-id="heading-31">ä¹ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆ data å¿…é¡»æ˜¯å‡½æ•°ï¼Ÿ</h3>








































<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>ç»„ä»¶å¤ç”¨</strong></td><td>æ¯ä¸ªå®ä¾‹éœ€è¦ç‹¬ç«‹çš„æ•°æ®å‰¯æœ¬</td><td>å¤šä¸ª Counter ç»„ä»¶å„è‡ªè®¡æ•°</td></tr><tr><td><strong>æ•°æ®éš”ç¦»</strong></td><td>é¿å…ç»„ä»¶é—´æ„å¤–å…±äº«çŠ¶æ€</td><td>å•†å“å¡ç‰‡ç‹¬ç«‹æ”¶è—çŠ¶æ€</td></tr><tr><td><strong>å†…å­˜å®‰å…¨</strong></td><td>é˜²æ­¢å†…å­˜æ³„æ¼å’Œæ„å¤–ä¿®æ”¹</td><td>ç»„ä»¶é”€æ¯æ—¶æ•°æ®è‡ªåŠ¨å›æ”¶</td></tr><tr><td><strong>å“åº”å¼ç³»ç»Ÿ</strong></td><td>Vue éœ€è¦ä¸ºæ¯ä¸ªå®ä¾‹å»ºç«‹å“åº”å¼</td><td>æ¯ä¸ªå®ä¾‹æœ‰è‡ªå·±çš„ä¾èµ–æ”¶é›†</td></tr><tr><td><strong>æµ‹è¯•å‹å¥½</strong></td><td>å¯ä»¥è½»æ¾åˆ›å»ºå¹²å‡€çš„æµ‹è¯•å®ä¾‹</td><td>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æœ‰ç‹¬ç«‹çŠ¶æ€</td></tr><tr><td><strong>å¯é¢„æµ‹æ€§</strong></td><td>ç»„ä»¶è¡Œä¸ºä¸€è‡´ï¼Œæ— å‰¯ä½œç”¨</td><td>ç›¸åŒçš„è¾“å…¥äº§ç”Ÿç›¸åŒè¾“å‡º</td></tr></tbody></table>
<h4 data-id="heading-32">æ ¸å¿ƒåŸç†å›é¡¾</h4>
<ol>
<li><strong>å‡½æ•°è°ƒç”¨åˆ›å»ºæ–°å¯¹è±¡</strong>ï¼šæ¯æ¬¡ç»„ä»¶å®ä¾‹åŒ–æ—¶ï¼Œ<code>data()</code> è¢«è°ƒç”¨ï¼Œè¿”å›å…¨æ–°çš„æ•°æ®å¯¹è±¡</li>
<li><strong>é—­åŒ…ä¿æŒç‹¬ç«‹æ€§</strong>ï¼šæ¯ä¸ªå®ä¾‹çš„æ•°æ®åœ¨é—­åŒ…ä¸­ï¼Œäº’ä¸å¹²æ‰°</li>
<li><strong>å“åº”å¼ç»‘å®šéš”ç¦»</strong>ï¼šVue çš„å“åº”å¼ç³»ç»Ÿä¸ºæ¯ä¸ªæ•°æ®å¯¹è±¡å•ç‹¬å»ºç«‹ä¾èµ–è¿½è¸ª</li>
</ol>
<h4 data-id="heading-33">ç»ˆæå»ºè®®</h4>
<ol>
<li><strong>å§‹ç»ˆä½¿ç”¨å‡½æ•°å½¢å¼</strong>ï¼šå³ä½¿æ ¹å®ä¾‹ä¹Ÿæ¨èä½¿ç”¨å‡½æ•°</li>
<li><strong>ä¿æŒ data ç®€æ´</strong>ï¼šåªåŒ…å«ç»„ä»¶å†…éƒ¨çŠ¶æ€</li>
<li><strong>åˆç†ç»„ç»‡æ•°æ®ç»“æ„</strong>ï¼šæ‰å¹³åŒ–ã€æŒ‰åŠŸèƒ½åˆ†ç»„</li>
<li><strong>è€ƒè™‘æ€§èƒ½å½±å“</strong>ï¼šé¿å…åœ¨ data ä¸­åˆ›å»ºå¤§å‹å¯¹è±¡</li>
<li><strong>æ‹¥æŠ± TypeScript</strong>ï¼šä¸º data æä¾›æ˜ç¡®çš„ç±»å‹å®šä¹‰</li>
<li><strong>ç†è§£å“åº”å¼åŸç†</strong>ï¼šçŸ¥é“ä»€ä¹ˆä¼šè¢«å“åº”å¼è¿½è¸ª</li>
</ol>
<p>è®°ä½ï¼š<strong><code>data()</code> å‡½æ•°æ˜¯ Vue ç»„ä»¶æ•°æ®éš”ç¦»çš„åŸºçŸ³</strong>ã€‚è¿™ä¸ªè®¾è®¡å†³ç­–è™½ç„¶å¢åŠ äº†äº›è®¸ä»£ç é‡ï¼Œä½†å®ƒä¿è¯äº†ç»„ä»¶ç³»ç»Ÿçš„å¯é æ€§å’Œå¯é¢„æµ‹æ€§ï¼Œæ˜¯ Vue ç»„ä»¶åŒ–æ¶æ„æˆåŠŸçš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚</p>
<hr/>
<p><strong>æ€è€ƒé¢˜</strong>ï¼šåœ¨ä½ çš„ Vue é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡å› ä¸ºæ•°æ®å…±äº«å¯¼è‡´çš„é—®é¢˜ï¼Ÿæˆ–è€…æœ‰æ²¡æœ‰ä»€ä¹ˆç‹¬ç‰¹çš„æ•°æ®åˆå§‹åŒ–æ¨¡å¼æƒ³è¦åˆ†äº«ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘å­¦ä¹ åˆ°çš„AG-UIçš„æ¦‚å¿µ]]></title>    <link>https://juejin.cn/post/7593573617646518324</link>    <guid>https://juejin.cn/post/7593573617646518324</guid>    <pubDate>2026-01-11T07:15:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593573617646518324" data-draft-id="7593254419079282728" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å­¦ä¹ åˆ°çš„AG-UIçš„æ¦‚å¿µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-11T07:15:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å·¥ä½œæ—¥å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/4371313961207838"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å­¦ä¹ åˆ°çš„AG-UIçš„æ¦‚å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313961207838/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å·¥ä½œæ—¥å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T07:15:24.000Z" title="Sun Jan 11 2026 07:15:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>A2UIå’ŒAG-UIæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„åè®®ï¼Œè§£å†³çš„æ˜¯ä¸åŒå±‚é¢çš„é—®é¢˜</strong>ï¼Œä¸€ä¸ªå…³æ³¨"ç”»ä»€ä¹ˆ"ï¼Œä¸€ä¸ªå…³æ³¨"æ€ä¹ˆä¼ "ã€‚</p>
<p>ç”¨ä¸€ä¸ªç®€å•çš„æ¯”å–»æ¥è¯´æ˜ï¼š</p>
<ul>
<li><strong>A2UI</strong>å°±åƒæ˜¯ä¸€ç§"UIè®¾è®¡è¯­è¨€"ï¼Œå‘Šè¯‰å‰ç«¯"åº”è¯¥ç”»ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç•Œé¢"</li>
<li><strong>AG-UI</strong>å°±åƒæ˜¯ä¸€æ¡"é€šä¿¡ç®¡é“"ï¼Œè´Ÿè´£åœ¨æ™ºèƒ½ä½“å’Œå‰ç«¯åº”ç”¨ä¹‹é—´ä¼ é€’å„ç§ä¿¡æ¯</li>
</ul>
<h2 data-id="heading-0">AG-UIï¼šæ™ºèƒ½ä½“äº¤äº’åè®®</h2>
<p>AG-UIï¼ˆAgent-User Interaction Protocolï¼‰æ˜¯CopilotKitå›¢é˜Ÿå¼€æºçš„æ™ºèƒ½ä½“äº¤äº’åè®®ã€‚</p>
<ul>
<li>æ ¸å¿ƒé—®é¢˜ï¼šå¦‚ä½•è®©æ™ºèƒ½ä½“å’Œå‰ç«¯åº”ç”¨è¿›è¡Œå®æ—¶ã€åŒå‘çš„é€šä¿¡ï¼Ÿ</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæä¾›ä¸€å¥—åŸºäºäº‹ä»¶çš„åè®®ï¼Œæ ‡å‡†åŒ–æ™ºèƒ½ä½“å’Œåº”ç”¨ä¹‹é—´çš„æ‰€æœ‰äº¤äº’ã€‚</li>
<li>ç±»æ¯”ï¼šAG-UIå°±åƒæ˜¯ç”µè¯çº¿ã€‚å®ƒä¸å…³å¿ƒä½ ä»¬èŠä»€ä¹ˆå†…å®¹ï¼ˆå¯ä»¥æ˜¯æ–‡å­—ã€UIã€æ•°æ®ç­‰ï¼‰ï¼Œåªè´Ÿè´£ç¡®ä¿åŒæ–¹èƒ½é¡ºç•…é€šè¯ã€‚</li>
</ul>
<h2 data-id="heading-1">AG-UIçš„æ¶æ„ï¼šå…¨é¢çš„äº¤äº’å±‚</h2>
<p>AG-UIçš„æ¶æ„æ›´åŠ å¤æ‚ï¼Œå› ä¸ºå®ƒè¦å¤„ç†æ™ºèƒ½ä½“å’Œåº”ç”¨ä¹‹é—´çš„æ‰€æœ‰äº¤äº’ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">å‰ç«¯åº”ç”¨ <span class="hljs-operator">â†â†’</span> <span class="hljs-type">AG</span><span class="hljs-operator">-</span><span class="hljs-type">UIåè®®</span> <span class="hljs-operator">â†â†’</span> ä¸­é—´ä»¶ <span class="hljs-operator">â†â†’</span> æ™ºèƒ½ä½“æ¡†æ¶
</code></pre>
<h3 data-id="heading-2">æ ¸å¿ƒç»„ä»¶ï¼š</h3>
<ul>
<li>äº‹ä»¶ç³»ç»Ÿï¼š~16ç§æ ‡å‡†äº‹ä»¶ç±»å‹</li>
<li>ä¸­é—´ä»¶å±‚ï¼šé€‚é…ä¸åŒçš„æ™ºèƒ½ä½“æ¡†æ¶</li>
<li>çŠ¶æ€ç®¡ç†ï¼šåŒå‘çŠ¶æ€åŒæ­¥</li>
<li>ä¼ è¾“å±‚ï¼šæ”¯æŒSSEã€WebSocketç­‰</li>
</ul>
<h3 data-id="heading-3">è®¾è®¡ç‰¹ç‚¹ï¼š</h3>
<ul>
<li>äº‹ä»¶é©±åŠ¨ï¼Œå®æ—¶åŒå‘é€šä¿¡</li>
<li>çµæ´»çš„ä¸­é—´ä»¶ï¼Œé€‚é…å„ç§æ¡†æ¶</li>
<li>å…¨é¢è¦†ç›–ï¼Œä¸ä»…ä»…æ˜¯UI</li>
</ul>
<h2 data-id="heading-4"><strong>AG-UIçš„æ¶æ„</strong>ï¼š</h2>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯åº”ç”¨   â”‚â†â”€äº‹ä»¶â”€â†’â”‚  AG-UIåè®®  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                        â”‚  ä¸­é—´ä»¶å±‚   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                        â”‚ æ™ºèƒ½ä½“æ¡†æ¶  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      
</span></code></pre>
<h2 data-id="heading-5">AG-UIçš„ç”Ÿæ€ï¼šæ™ºèƒ½ä½“æ¡†æ¶é›†æˆ</h2>
<ul>
<li>é›†æˆæ–¹å¼ï¼šä½¿ç”¨LangGraphä¸­é—´ä»¶</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">from copilotkit import CopilotKitSDK
 
<span class="hljs-attr">sdk</span> = CopilotKitSDK(
    <span class="hljs-attr">agents</span>=[my_langgraph_agent]
)
</code></pre>
<ul>
<li>ç‰¹ç‚¹ï¼š
<ul>
<li>ä¸“æ³¨äºæ™ºèƒ½ä½“é›†æˆ</li>
<li>å¹¿æ³›çš„æ¡†æ¶æ”¯æŒ</li>
<li>æä¾›å®Œæ•´çš„äº¤äº’èƒ½åŠ›</li>
</ul>
</li>
</ul>
<h2 data-id="heading-6">A2UIå’ŒAG-UIçš„å…³ç³»</h2>
<p><strong>å®ƒä»¬ä¸æ˜¯ç«äº‰å…³ç³»ï¼Œè€Œæ˜¯äº’è¡¥å…³ç³»</strong>ã€‚</p>
<h4 data-id="heading-7">æ–¹å¼1ï¼šAG-UIå¯ä»¥ä¼ è¾“A2UIæ¶ˆæ¯</h4>
<pre><code class="hljs language-css" lang="css">// AG-UIäº‹ä»¶ä¸­åŒ…å«A2UIæ¶ˆæ¯
{
  type: <span class="hljs-string">"generative_ui"</span>,
  format: <span class="hljs-string">"a2ui"</span>,
  content: {
    surfaceUpdate: {
      components: [...]
    }
  }
}
</code></pre>
<p>AG-UIçš„generative_uiäº‹ä»¶å¯ä»¥ä½¿ç”¨A2UIä½œä¸ºUIæè¿°æ ¼å¼ã€‚</p>
<h4 data-id="heading-8">æ–¹å¼2ï¼šA2UIå¯ä»¥é€šè¿‡AG-UIä¼ è¾“</h4>
<pre><code class="hljs language-swift" lang="swift">æ™ºèƒ½ä½“ <span class="hljs-operator">â†’</span> ç”Ÿæˆ<span class="hljs-type">A2UI</span> <span class="hljs-operator">â†’</span> <span class="hljs-type">AG</span><span class="hljs-operator">-</span><span class="hljs-type">UIåè®®ä¼ è¾“</span> <span class="hljs-operator">â†’</span> å‰ç«¯æ¸²æŸ“
</code></pre>
<p>A2UIæ¶ˆæ¯å¯ä»¥ä½œä¸ºAG-UIäº‹ä»¶æµçš„ä¸€éƒ¨åˆ†ä¼ è¾“ã€‚</p>
<h4 data-id="heading-9">æ–¹å¼3ï¼šç‹¬ç«‹ä½¿ç”¨</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åªç”¨A2UI</span>
æ™ºèƒ½ä½“ â†’ A2UI â†’ HTTP/WebSocket â†’ æ¸²æŸ“å™¨
 
<span class="hljs-comment">// åªç”¨AG-UI</span>
æ™ºèƒ½ä½“ â†’ AG-UI â†’ å‰ç«¯åº”ç”¨
</code></pre>
<p>å®ƒä»¬ä¹Ÿå¯ä»¥å®Œå…¨ç‹¬ç«‹ä½¿ç”¨.</p>
<p>å­¦ä¹ é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu012094427%2Farticle%2Fdetails%2F156136077" target="_blank" title="https://blog.csdn.net/u012094427/article/details/156136077" ref="nofollow noopener noreferrer">blog.csdn.net/u012094427/â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…«åã€SVDçŸ¥è¯†æ•´ç†ä¸é™ç»´ï¼šä»æ•°æ®æ··æ²Œåˆ°è¯­ä¹‰ç§©åºçš„æ™ºèƒ½è½¬æ¢]]></title>    <link>https://juejin.cn/post/7593600903249592346</link>    <guid>https://juejin.cn/post/7593600903249592346</guid>    <pubDate>2026-01-11T02:42:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593600903249592346" data-draft-id="7593251491935879214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…«åã€SVDçŸ¥è¯†æ•´ç†ä¸é™ç»´ï¼šä»æ•°æ®æ··æ²Œåˆ°è¯­ä¹‰ç§©åºçš„æ™ºèƒ½è½¬æ¢"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,Python"/> <meta itemprop="datePublished" content="2026-01-11T02:42:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½¼å²¸èŠ±å¼€äº†å—"/> <meta itemprop="url" content="https://juejin.cn/user/4153315734334538"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºAIæ™ºèƒ½ä½“ï¼šå…«åã€SVDçŸ¥è¯†æ•´ç†ä¸é™ç»´ï¼šä»æ•°æ®æ··æ²Œåˆ°è¯­ä¹‰ç§©åºçš„æ™ºèƒ½è½¬æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4153315734334538/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½¼å²¸èŠ±å¼€äº†å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T02:42:32.000Z" title="Sun Jan 11 2026 02:42:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>ä¿¡æ¯æ—¶ä»£ï¼Œæ¯å¤©éƒ½é¢ä¸´ç€çˆ†ç‚¸å¼çš„æ•°æ®å¢é•¿ï¼Œä»¥æ–‡æœ¬æ•°æ®ä¸ºä¾‹ï¼Œä¸€ä¸ªä¸­ç­‰è§„æ¨¡çš„æ–‡æ¡£é›†åˆå¯èƒ½æ¶‰åŠæ•°åƒä¸ªä¸åŒçš„è¯è¯­ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªé«˜ç»´å‘é‡ã€‚è¿™ç§"è¯è¢‹"è¡¨ç¤ºæ–¹æ³•è™½ç„¶ç›´è§‚ï¼Œå´å­˜åœ¨ç€ä¸¥é‡çš„ç»´åº¦ç¾éš¾é—®é¢˜ã€‚</p>
<p>æ ¸å¿ƒå›°å¢ƒä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>æ•°æ®ç¨€ç–æ€§ï¼šæ¯ä¸ªæ–‡æ¡£åªåŒ…å«å°‘é‡è¯è¯­ï¼Œå¯¼è‡´å‘é‡ä¸­å¤§éƒ¨åˆ†å…ƒç´ ä¸ºé›¶</li>
<li>è¯­ä¹‰ç¼ºå¤±ï¼šå•çº¯çš„è¯é¢‘ç»Ÿè®¡æ— æ³•æ•æ‰è¯è¯­ä¹‹é—´çš„è¯­ä¹‰å…³ç³»</li>
<li>è®¡ç®—å¤æ‚åº¦ï¼šé«˜ç»´ç©ºé—´ä¸­çš„ç›¸ä¼¼åº¦è®¡ç®—å’Œæ¨¡å¼å‘ç°å˜å¾—æå…¶å›°éš¾</li>
</ul>
<p>ä¼ ç»Ÿçš„å…³é”®è¯åŒ¹é…æ–¹æ³•å°±åƒåœ¨å›¾ä¹¦é¦†ä¸­åªé€šè¿‡ä¹¦åä¸­çš„å•è¯æ¥æŸ¥æ‰¾ç›¸å…³ä¹¦ç±ï¼Œå®Œå…¨å¿½ç•¥äº†å†…å®¹çš„æ·±å±‚è¯­ä¹‰å…³è”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99a3dcaccf694406a1f040eb8bbee6af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=ILGRDGA9fG9Ie%2BDYq%2Fp%2BdBaPOYk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€ç†è§£çŸ¥è¯†æ•´ç†ä¸é™ç»´</h2>
<h3 data-id="heading-2">1. ä»€ä¹ˆæ˜¯SVDçŸ¥è¯†æ•´ç†</h3>
<p>SVDçŸ¥è¯†æ•´ç†æ˜¯é€šè¿‡å¥‡å¼‚å€¼åˆ†è§£æŠ€æœ¯ï¼Œä»æµ·é‡ã€æ‚ä¹±çš„é«˜ç»´æ•°æ®ä¸­è‡ªåŠ¨å‘ç°æ½œåœ¨çš„çŸ¥è¯†ç»“æ„å’Œè¯­ä¹‰æ¨¡å¼çš„è¿‡ç¨‹ã€‚å®ƒå°±åƒä¸€ä½æ™ºèƒ½çš„å›¾ä¹¦ç®¡ç†å‘˜ï¼Œèƒ½å¤Ÿï¼š</p>
<ul>
<li>è‡ªåŠ¨å°†ç›¸å…³æ¦‚å¿µå½’ç±»åˆ°åŒä¸€ä¸»é¢˜ä¸‹</li>
<li>å‘ç°è¡¨é¢ä¸ç›¸å…³ä½†è¯­ä¹‰ç›¸è¿‘çš„å†…å®¹</li>
<li>å»é™¤å†—ä½™ä¿¡æ¯å’Œå™ªå£°å¹²æ‰°</li>
<li>å»ºç«‹æ¸…æ™°çš„çŸ¥è¯†å±‚æ¬¡ç»“æ„</li>
</ul>
<h3 data-id="heading-3">2. ä»€ä¹ˆæ˜¯SVDé™ç»´</h3>
<p>SVDé™ç»´æ˜¯é€šè¿‡æ•°å­¦æ–¹æ³•å°†é«˜ç»´æ•°æ®æŠ•å½±åˆ°ä½ç»´ç©ºé—´ï¼ŒåŒæ—¶ä¿ç•™æœ€é‡è¦çš„ä¿¡æ¯ã€‚è¿™ç±»ä¼¼äºï¼š</p>
<ul>
<li>å°†ä¸€æœ¬åšåšçš„ä¹¦ç±æç‚¼æˆå‡ é¡µç²¾åæ‘˜è¦</li>
<li>ä»å˜ˆæ‚çš„ä¼šè®®å®¤ä¸­æå–ä¸»è¦è®¨è®ºè¦ç‚¹</li>
<li>æŠŠå¤æ‚çš„ç«‹ä½“ç‰©ä½“ç”¨ç®€å•çš„äºŒç»´è‰å›¾è¡¨ç¤º</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€æ•´ä½“å·¥ä½œåŸç†</h2>
<p><strong>1. ç¬¬ä¸€æ­¥ï¼šæ•°æ®çŸ©é˜µåŒ–</strong></p>
<p>å°†æ‰€æœ‰çŸ¥è¯†å•å…ƒï¼ˆå¦‚æ–‡æ¡£ã€ç”¨æˆ·è¡Œä¸ºã€äº§å“ç‰¹å¾ï¼‰è½¬æ¢æˆæ•°å­¦çŸ©é˜µï¼š</p>
<ul>
<li>åŸå§‹æ•°æ® â†’ æ•°å­—çŸ©é˜µ</li>
<li>æ–‡æ¡£é›†åˆ â†’ æ–‡æ¡£-è¯è¯­çŸ©é˜µ</li>
<li>ç”¨æˆ·è¡Œä¸º â†’ ç”¨æˆ·-ç‰©å“çŸ©é˜µ</li>
</ul>
<p><strong>2. ç¬¬äºŒæ­¥ï¼šSVDåˆ†è§£</strong></p>
<p>é€šè¿‡å¥‡å¼‚å€¼åˆ†è§£å°†åŸå§‹çŸ©é˜µæ‹†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li>A = U Ã— Î£ Ã— Váµ€</li>
<li>å…¶ä¸­ï¼š
<ul>
<li>- Aï¼šåŸå§‹æ•°æ®çŸ©é˜µï¼ˆå¦‚æ–‡æ¡£Ã—è¯è¯­ï¼‰</li>
<li>- Uï¼šè¡Œå®ä½“åœ¨æ½œåœ¨ç©ºé—´ä¸­çš„åæ ‡ï¼ˆå¦‚æ–‡æ¡£Ã—ä¸»é¢˜ï¼‰</li>
<li>- Î£ï¼šå¥‡å¼‚å€¼çŸ©é˜µï¼Œè¡¨ç¤ºæ¯ä¸ªä¸»é¢˜çš„é‡è¦æ€§</li>
<li>- Váµ€ï¼šåˆ—å®ä½“åœ¨æ½œåœ¨ç©ºé—´ä¸­çš„åæ ‡ï¼ˆå¦‚è¯è¯­Ã—ä¸»é¢˜ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>3. ç¬¬ä¸‰æ­¥ï¼šæ™ºèƒ½ç­›é€‰</strong></p>
<p>åŸºäºå¥‡å¼‚å€¼å¤§å°é€‰æ‹©æœ€é‡è¦çš„kä¸ªä¸»é¢˜ï¼Œå®ç°é™ç»´ï¼š</p>
<ul>
<li>ä¿ç•™ï¼šå‰kä¸ªé‡è¦ä¸»é¢˜ï¼ˆå¤§çš„å¥‡å¼‚å€¼ï¼‰</li>
<li>èˆå¼ƒï¼šå‰©ä½™æ¬¡è¦ä¸»é¢˜ï¼ˆå°çš„å¥‡å¼‚å€¼ï¼Œå¤šä¸ºå™ªå£°ï¼‰</li>
</ul>
<h2 data-id="heading-5">å››ã€çŸ¥è¯†æ•´ç†çš„è¿‡ç¨‹</h2>
<p><strong>1. ä¸»é¢˜è‡ªåŠ¨å‘ç°</strong></p>
<p>ä»æ— æ ‡ç­¾æ•°æ®ä¸­è‡ªåŠ¨è¯†åˆ«æ½œåœ¨ä¸»é¢˜ï¼Œéœ€äººå·¥æ ‡æ³¨ï¼Œè‡ªåŠ¨æ„å»ºçŸ¥è¯†ä½“ç³»</p>
<ul>
<li>è¾“å…¥ï¼š1000ç¯‡ç§‘æŠ€æ–‡ç« </li>
<li>SVDè¾“å‡ºï¼šå‘ç°"äººå·¥æ™ºèƒ½"ã€"åŒºå—é“¾"ã€"äº‘è®¡ç®—"ç­‰ä¸»é¢˜</li>
<li>æ¯ä¸ªä¸»é¢˜ç”±ç›¸å…³è¯è¯­ç»„åˆå®šä¹‰</li>
</ul>
<p><strong>2. è¯­ä¹‰å…³ç³»æŒ–æ˜</strong></p>
<p>å‘ç°è¡¨é¢ä¸ç›¸å…³ä½†è¯­ä¹‰ç›¸è¿‘çš„å†…å®¹ï¼Œçªç ´å…³é”®è¯åŒ¹é…çš„å±€é™æ€§</p>
<ul>
<li>"æ±½è½¦"å’Œ"è½¦è¾†"è¢«è¯†åˆ«ä¸ºåŒä¸€ä¸»é¢˜</li>
<li>"è‹¹æœå…¬å¸"å’Œ"iPhone"è‡ªåŠ¨å…³è”</li>
<li>"æœºå™¨å­¦ä¹ "ä¸"æ·±åº¦å­¦ä¹ "å½’ä¸ºåŒç±»</li>
</ul>
<p><strong>3. å™ªå£°è¿‡æ»¤ä¸å»å†—ä½™</strong></p>
<p>è‡ªåŠ¨åŒºåˆ†é‡è¦ä¿¡æ¯ä¸å™ªå£°ï¼Œæå‡çŸ¥è¯†è´¨é‡ï¼Œå‡å°‘ä¿¡æ¯è¿‡è½½</p>
<ul>
<li>ä¿ç•™æ ¸å¿ƒæ¦‚å¿µå’Œä¸»è¦æ¨¡å¼</li>
<li>è¿‡æ»¤æ‹¼å†™é”™è¯¯ã€å¶ç„¶å…±ç°ä»¥åŠä¸ªä½“å·®å¼‚</li>
<li>å‹ç¼©é‡å¤è¡¨è¾¾å’ŒåŒä¹‰ä¿¡æ¯</li>
</ul>
<p><strong>4. å±‚æ¬¡ç»“æ„æ„å»º</strong></p>
<p>åŸºäºé‡è¦æ€§å»ºç«‹çŸ¥è¯†å±‚æ¬¡ï¼Œæä¾›æ¸…æ™°çš„çŸ¥è¯†å¯¼èˆª</p>
<ul>
<li>ä¸€çº§ä¸»é¢˜ï¼šå®è§‚æ¦‚å¿µï¼ˆå¦‚"è®¡ç®—æœºç§‘å­¦"ï¼‰</li>
<li>äºŒçº§ä¸»é¢˜ï¼šä¸­è§‚é¢†åŸŸï¼ˆå¦‚"äººå·¥æ™ºèƒ½"ï¼‰</li>
<li>ä¸‰çº§ä¸»é¢˜ï¼šå…·ä½“æŠ€æœ¯ï¼ˆå¦‚"æœºå™¨å­¦ä¹ "ï¼‰</li>
</ul>
<h2 data-id="heading-6">äº”ã€é™ç»´çš„å¥½å¤„</h2>
<p><strong>1. å­˜å‚¨æ•ˆç‡æå‡</strong></p>
<p>å¤§å¹…é™ä½å­˜å‚¨éœ€æ±‚ï¼ŒåŠ å¿«æ•°æ®è®¿é—®é€Ÿåº¦</p>
<ul>
<li>åŸå§‹æ•°æ®ï¼š1000æ–‡æ¡£ Ã— 5000è¯è¯­ = 5,000,000å‚æ•°</li>
<li>é™ç»´åï¼š1000æ–‡æ¡£ Ã— 50ä¸»é¢˜ + 50ä¸»é¢˜ Ã— 5000è¯è¯­ = 300,000å‚æ•°</li>
<li>å‹ç¼©ç‡ï¼š94% å‚æ•°å‡å°‘</li>
</ul>
<p><strong>2. è®¡ç®—æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>ç›¸ä¼¼åº¦è®¡ç®—ï¼šä»O(nÂ²)é™åˆ°O(kÂ²)ï¼Œkè¿œå°äºn</li>
<li>èšç±»åˆ†æï¼šè®¡ç®—å¤æ‚åº¦æŒ‡æ•°çº§ä¸‹é™</li>
<li>å®æ—¶æ¨ç†ï¼šæ»¡è¶³åœ¨çº¿æœåŠ¡å“åº”è¦æ±‚</li>
</ul>
<p><strong>3. å¯è§†åŒ–ä¸å¯è§£é‡Šæ€§</strong></p>
<p>è®©äººèƒ½å¤Ÿç†è§£å’ŒéªŒè¯ç®—æ³•å‘ç°çš„çŸ¥è¯†æ¨¡å¼</p>
<ul>
<li>é«˜ç»´æ•°æ®è½¬æ¢ä¸º2D/3Dæ•£ç‚¹å›¾ä½“ç°</li>
<li>å¤æ‚å…³ç³»æè¿°æˆäº†æ¸…æ™°çš„çƒ­åŠ›å›¾</li>
<li>çŸ¥è¯†ç»“æ„æ­å»ºçš„ç›´è§‚çš„ç½‘ç»œå›¾</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aafce21d1be84d5d8e8e47e549b5cd1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=kFIfrME51swgmh8qk2Ieu6vNz9Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">å…­ã€ç¤ºä¾‹ï¼šæ–‡æ¡£-æœ¯è¯­çŸ©é˜µåˆ†æ</h2>
<p>**æ ¸å¿ƒæ€æƒ³ï¼š**SVDå¯ä»¥ä»ä¸€ä¸ªé«˜ç»´ã€å˜ˆæ‚çš„æ•°æ®çŸ©é˜µä¸­ï¼Œæå–å‡ºæœ€é‡è¦çš„â€œæ¦‚å¿µâ€æˆ–â€œä¸»é¢˜â€ï¼ŒåŒæ—¶è¿‡æ»¤æ‰å™ªå£°å’Œæ¬¡è¦ä¿¡æ¯ã€‚è¿™å°±åƒæ˜¯ä»ä¸€ç¯‡å†—é•¿çš„æŠ¥å‘Šä¸­æç‚¼å‡ºæ ¸å¿ƒæ‘˜è¦ã€‚</p>
<p>**æŠ€æœ¯å®ç°ï¼š**è¿™ä¸»è¦é€šè¿‡æˆªæ–­SVD æ¥å®ç°ã€‚æˆ‘ä»¬åªä¿ç•™å‰ k ä¸ªæœ€å¤§çš„å¥‡å¼‚å€¼åŠå…¶å¯¹åº”çš„å¥‡å¼‚å‘é‡ï¼Œç”¨å®ƒä»¬æ¥è¿‘ä¼¼åŸå§‹çŸ©é˜µã€‚</p>
<p>**åŸå§‹æ•°æ®ï¼š**å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªçŸ©é˜µAï¼Œå…¶ä¸­è¡Œä»£è¡¨æ–‡æ¡£ï¼Œåˆ—ä»£è¡¨è¯è¯­ï¼Œå€¼å¯ä»¥æ˜¯è¯é¢‘ï¼ˆTFï¼‰æˆ–TF-IDFã€‚</p>
<blockquote>
<p>"æœºå™¨å­¦ä¹  æ·±åº¦å­¦ä¹  ç¥ç»ç½‘ç»œ äººå·¥æ™ºèƒ½",<br/>
"Python ç¼–ç¨‹ ä»£ç  ç®—æ³• æ•°æ®ç»“æ„",<br/>
"æ•°å­¦ ç»Ÿè®¡ æ¦‚ç‡ çº¿æ€§ä»£æ•° å¾®ç§¯åˆ†",<br/>
"æœºå™¨å­¦ä¹  Python ç®—æ³• ç»Ÿè®¡ æ•°æ®ç§‘å­¦",<br/>
"æ·±åº¦å­¦ä¹  ç¥ç»ç½‘ç»œ Python ç¼–ç¨‹",<br/>
"æ•°å­¦ çº¿æ€§ä»£æ•° ç®—æ³• æ•°æ®ç»“æ„"</p>
</blockquote>
<h3 data-id="heading-8">1. é¡¹ç›®åˆå§‹åŒ–åŠ è½½æ•°æ®é›†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> TfidfVectorizer
<span class="hljs-keyword">from</span> sklearn.decomposition <span class="hljs-keyword">import</span> TruncatedSVD
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">from</span> matplotlib.patches <span class="hljs-keyword">import</span> Ellipse

<span class="hljs-comment"># è®¾ç½®ä¸­æ–‡å­—ä½“å’Œæ ·å¼</span>
plt.rcParams[<span class="hljs-string">'font.sans-serif'</span>] = [<span class="hljs-string">'SimHei'</span>, <span class="hljs-string">'DejaVu Sans'</span>]
plt.rcParams[<span class="hljs-string">'axes.unicode_minus'</span>] = <span class="hljs-literal">False</span>
sns.set_style(<span class="hljs-string">"whitegrid"</span>)

<span class="hljs-comment"># ç¤ºä¾‹æ–‡æ¡£é›†</span>
documents = [
    <span class="hljs-string">"æœºå™¨å­¦ä¹  æ·±åº¦å­¦ä¹  ç¥ç»ç½‘ç»œ äººå·¥æ™ºèƒ½"</span>,
    <span class="hljs-string">"Python ç¼–ç¨‹ ä»£ç  ç®—æ³• æ•°æ®ç»“æ„"</span>,
    <span class="hljs-string">"æ•°å­¦ ç»Ÿè®¡ æ¦‚ç‡ çº¿æ€§ä»£æ•° å¾®ç§¯åˆ†"</span>,
    <span class="hljs-string">"æœºå™¨å­¦ä¹  Python ç®—æ³• ç»Ÿè®¡ æ•°æ®ç§‘å­¦"</span>,
    <span class="hljs-string">"æ·±åº¦å­¦ä¹  ç¥ç»ç½‘ç»œ Python ç¼–ç¨‹"</span>,
    <span class="hljs-string">"æ•°å­¦ çº¿æ€§ä»£æ•° ç®—æ³• æ•°æ®ç»“æ„"</span>
]

<span class="hljs-comment"># åˆ›å»ºæ–‡æ¡£-è¯è¯­çŸ©é˜µ (TF-IDF)</span>
vectorizer = TfidfVectorizer()
doc_term_matrix = vectorizer.fit_transform(documents)
terms = vectorizer.get_feature_names_out()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸå§‹æ–‡æ¡£-è¯è¯­çŸ©é˜µç»´åº¦:"</span>, doc_term_matrix.shape)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯è¯­:"</span>, terms)

<span class="hljs-comment"># ä½¿ç”¨æˆªæ–­SVDè¿›è¡Œæ½œåœ¨è¯­ä¹‰åˆ†æ</span>
n_components = <span class="hljs-number">3</span>  <span class="hljs-comment"># é€‰æ‹©3ä¸ªä¸»é¢˜</span>
svd = TruncatedSVD(n_components=n_components, random_state=<span class="hljs-number">42</span>)
doc_topic_matrix = svd.fit_transform(doc_term_matrix)
topic_term_matrix = svd.components_

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå¥‡å¼‚å€¼(ä¸»é¢˜é‡è¦æ€§): <span class="hljs-subst">{svd.singular_values_}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£é‡Šæ–¹å·®æ¯”ä¾‹: <span class="hljs-subst">{svd.explained_variance_ratio_}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç´¯è®¡è§£é‡Šæ–¹å·®: <span class="hljs-subst">{np.cumsum(svd.explained_variance_ratio_)}</span>"</span>)

<span class="hljs-comment"># æ˜¾ç¤ºæ–‡æ¡£åœ¨ä¸»é¢˜ç©ºé—´ä¸­çš„åæ ‡</span>
doc_topic_df = pd.DataFrame(doc_topic_matrix, 
                           columns=[<span class="hljs-string">f'ä¸»é¢˜<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>'</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_components)],
                           index=[<span class="hljs-string">f'æ–‡æ¡£<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>'</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(documents))])
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p>åŸå§‹æ–‡æ¡£-è¯è¯­çŸ©é˜µç»´åº¦: (6, 15)<br/>
è¯è¯­: ['python' 'äººå·¥æ™ºèƒ½' 'ä»£ç ' 'å¾®ç§¯åˆ†' 'æ•°å­¦' 'æ•°æ®ç§‘å­¦' 'æ•°æ®ç»“æ„' 'æœºå™¨å­¦ä¹ ' 'æ¦‚ç‡' 'æ·±åº¦å­¦ä¹ ' 'ç¥ç»ç½‘ç»œ'<br/>
'ç®—æ³•' 'çº¿æ€§ä»£æ•°' 'ç»Ÿè®¡' 'ç¼–ç¨‹']</p>
<p>å¥‡å¼‚å€¼(ä¸»é¢˜é‡è¦æ€§): [1.39574434 1.20672292 1.00249013]<br/>
è§£é‡Šæ–¹å·®æ¯”ä¾‹: [0.01753322 0.35523808 0.23844755]<br/>
ç´¯è®¡è§£é‡Šæ–¹å·®: [0.01753322 0.3727713 0.61121885]</p>
</blockquote>
<h3 data-id="heading-9">2. ä¸»é¢˜é‡è¦æ€§åˆ†æå›¾</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡1ï¼šä¸»é¢˜é‡è¦æ€§åˆ†æå›¾</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
<span class="hljs-attr">singular_values</span> = svd.singular_values_
<span class="hljs-attr">explained_variance</span> = svd.explained_variance_ratio_
<span class="hljs-attr">cumulative_variance</span> = np.cumsum(explained_variance)

<span class="hljs-attr">x</span> = range(<span class="hljs-number">1</span>, len(singular_values) + <span class="hljs-number">1</span>)
plt.bar(x, singular_values, <span class="hljs-attr">alpha</span>=<span class="hljs-number">0.7</span>, color=<span class="hljs-string">'skyblue'</span>, label=<span class="hljs-string">'å¥‡å¼‚å€¼'</span>)
plt.plot(x, cumulative_variance * max(singular_values), 'ro-', <span class="hljs-attr">linewidth</span>=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">8</span>, label=<span class="hljs-string">'ç´¯è®¡è§£é‡Šæ–¹å·®'</span>)
plt.xlabel('ä¸»é¢˜ç¼–å·')
plt.ylabel('å¥‡å¼‚å€¼ / è§£é‡Šæ–¹å·®')
plt.title('SVDä¸»é¢˜é‡è¦æ€§åˆ†æï¼šå¥‡å¼‚å€¼åˆ†å¸ƒä¸èƒ½é‡ç´¯ç§¯', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
plt.legend()
plt.grid(True, <span class="hljs-attr">alpha</span>=<span class="hljs-number">0.3</span>)

<span class="hljs-comment"># ä¸ºå³ä¾§yè½´æ·»åŠ è§£é‡Šæ–¹å·®æ¯”ä¾‹</span>
<span class="hljs-attr">ax2</span> = plt.gca().twinx()
ax2.plot(x, cumulative_variance, 'go--', <span class="hljs-attr">linewidth</span>=<span class="hljs-number">2</span>, markersize=<span class="hljs-number">6</span>, label=<span class="hljs-string">'ç´¯è®¡è§£é‡Šæ–¹å·®æ¯”ä¾‹'</span>)
ax2.set_ylabel('è§£é‡Šæ–¹å·®æ¯”ä¾‹')
ax2.set_ylim(0, 1.1)
ax2.legend(<span class="hljs-attr">loc</span>=<span class="hljs-string">'lower right'</span>)

plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d140ae6e10b47eb928cf86ab701b873~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=i3788n46smoyrAADd0Ob7FVx%2FoU%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ å›¾å±•ç¤ºäº†SVDåˆ†è§£ä¸­å¥‡å¼‚å€¼çš„åˆ†å¸ƒæƒ…å†µï¼Œä½“ç°äº†SVDåœ¨çŸ¥è¯†æ•´ç†ä¸­çš„æ ¸å¿ƒä½œç”¨ï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ å¥‡å¼‚å€¼å¤§å°åæ˜ äº†æ¯ä¸ªæ½œåœ¨ä¸»é¢˜çš„é‡è¦æ€§<br/>
â€¢ ç¬¬ä¸€ä¸ªä¸»é¢˜ï¼ˆå¥‡å¼‚å€¼æœ€å¤§ï¼‰åŒ…å«äº†æœ€å¤šçš„ä¿¡æ¯é‡<br/>
â€¢ åç»­ä¸»é¢˜çš„é‡è¦æ€§ä¾æ¬¡é€’å‡</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. é™ç»´ä¾æ®ï¼šé€šè¿‡å¥‡å¼‚å€¼è¡°å‡ç¡®å®šä¿ç•™çš„ä¸»é¢˜æ•°é‡<br/>
2. èƒ½é‡ä¿ç•™ï¼šç´¯è®¡è§£é‡Šæ–¹å·®æ˜¾ç¤º3ä¸ªä¸»é¢˜ä¿ç•™äº†å¤§éƒ¨åˆ†ä¿¡æ¯<br/>
3. å™ªå£°è¿‡æ»¤ï¼šèˆå¼ƒå°çš„å¥‡å¼‚å€¼ç›¸å½“äºè¿‡æ»¤æ‰å™ªå£°å’Œæ¬¡è¦ç‰¹å¾</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ æŒ‡å¯¼é€‰æ‹©åˆé€‚çš„ä¸»é¡Œæ•°é‡ï¼ˆkå€¼ï¼‰<br/>
â€¢ è¯„ä¼°é™ç»´åçš„ä¿¡æ¯æŸå¤±ç¨‹åº¦<br/>
â€¢ ç†è§£æ•°æ®çš„å†…åœ¨ç»“æ„å¤æ‚åº¦</p>
<h3 data-id="heading-10">3. æ–‡æ¡£-ä¸»é¢˜å…³è”çƒ­åŠ›å›¾</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡2ï¼šæ–‡æ¡£-ä¸»é¢˜å…³è”çƒ­åŠ›å›¾</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
sns.heatmap(doc_topic_df, <span class="hljs-attr">annot</span>=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">'YlOrRd'</span>, center=<span class="hljs-number">0</span>,
            <span class="hljs-attr">cbar_kws</span>={<span class="hljs-string">'label'</span>: <span class="hljs-string">'ä¸»é¢˜æƒé‡'</span>}, fmt=<span class="hljs-string">'.3f'</span>)
plt.xlabel('æ½œåœ¨ä¸»é¢˜')
plt.ylabel('æ–‡æ¡£ç¼–å·')
plt.title('æ–‡æ¡£-ä¸»é¢˜å…³è”çƒ­åŠ›å›¾ï¼šå‘ç°æ–‡æ¡£çš„æ½œåœ¨è¯­ä¹‰ç»“æ„', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee657a8858554fc89aa881f6635a8ed9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=ZyNoJCt%2FWqpdEFhS6EFZtdQtvWY%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ çƒ­åŠ›å›¾å±•ç¤ºäº†æ¯ä¸ªæ–‡æ¡£ä¸å„ä¸ªæ½œåœ¨ä¸»é¢˜çš„å…³è”å¼ºåº¦ï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ é¢œè‰²æ·±æµ…è¡¨ç¤ºæ–‡æ¡£ä¸ä¸»é¢˜çš„å…³è”ç¨‹åº¦<br/>
â€¢ æ¯è¡Œå±•ç¤ºäº†æ–‡æ¡£åœ¨ä¸åŒä¸»é¢˜ä¸Šçš„"æˆåˆ†æ„æˆ"<br/>
â€¢ æ¯åˆ—æ˜¾ç¤ºäº†ä¸»é¢˜åœ¨ä¸åŒæ–‡æ¡£ä¸­çš„"ä»£è¡¨æ€§"</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. æ–‡æ¡£è¡¨ç¤ºï¼šå°†é«˜ç»´è¯å‘é‡è½¬æ¢ä¸ºä½ç»´ä¸»é¢˜å‘é‡<br/>
2. è¯­ä¹‰æŒ–æ˜ï¼šå‘ç°æ–‡æ¡£èƒŒåéšè—çš„ä¸»é¢˜ç»“æ„<br/>
3. é™ç»´æ•ˆæœï¼šä»åŸå§‹9ç»´è¯è¯­ç©ºé—´é™åˆ°3ç»´ä¸»é¢˜ç©ºé—´</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ æ–‡æ¡£åˆ†ç±»ï¼šæ ¹æ®ä¸»é¢˜æƒé‡è¿›è¡Œè‡ªåŠ¨åˆ†ç±»<br/>
â€¢ å†…å®¹åˆ†æï¼šç†è§£æ–‡æ¡£çš„å¤šä¸»é¢˜æ··åˆç‰¹æ€§<br/>
â€¢ ç›¸ä¼¼åº¦è®¡ç®—ï¼šåœ¨ä¸»é¢˜ç©ºé—´ä¸­è®¡ç®—æ–‡æ¡£ç›¸ä¼¼åº¦</p>
<p>ã€å…·ä½“å‘ç°ã€‘<br/>
â€¢ æ–‡æ¡£1ã€4ã€5åœ¨ä¸»é¢˜1ä¸Šå¾—åˆ†é«˜ â†’ æŠ€æœ¯ä¸»é¢˜<br/>
â€¢ æ–‡æ¡£3åœ¨ä¸»é¢˜2ä¸Šçªå‡º â†’ æ•°å­¦ä¸»é¢˜<br/>
â€¢ æ–‡æ¡£2ã€6åœ¨å¤šä¸ªä¸»é¢˜ä¸Šå‡è¡¡ â†’ ç»¼åˆä¸»é¢˜</p>
<h3 data-id="heading-11">4. æ–‡æ¡£åœ¨ä¸»é¢˜ç©ºé—´ä¸­çš„åˆ†å¸ƒ</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡3ï¼šæ–‡æ¡£åœ¨ä¸»é¢˜ç©ºé—´ä¸­çš„åˆ†å¸ƒ</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>))
<span class="hljs-attr">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'purple'</span>, <span class="hljs-string">'brown'</span>]
<span class="hljs-attr">document_labels</span> = [f<span class="hljs-string">'æ–‡æ¡£{i+1}'</span> for i in range(len(documents))]

for i, (x, y) in enumerate(zip(doc_topic_matrix<span class="hljs-section">[:, 0]</span>, doc_topic_matrix<span class="hljs-section">[:, 1]</span>)):
    plt.scatter(x, y, <span class="hljs-attr">color</span>=colors[i], s=<span class="hljs-number">150</span>, alpha=<span class="hljs-number">0.7</span>, label=document_labels[i])
    plt.annotate(document_labels<span class="hljs-section">[i]</span>, (x, y), <span class="hljs-attr">xytext</span>=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>), 
                <span class="hljs-attr">textcoords</span>=<span class="hljs-string">'offset points'</span>, fontsize=<span class="hljs-number">11</span>, 
                <span class="hljs-attr">bbox</span>=dict(boxstyle=<span class="hljs-string">"round,pad=0.3"</span>, facecolor=colors[i], alpha=<span class="hljs-number">0.2</span>))

plt.axhline(<span class="hljs-attr">y</span>=<span class="hljs-number">0</span>, color=<span class="hljs-string">'gray'</span>, linestyle=<span class="hljs-string">'--'</span>, alpha=<span class="hljs-number">0.5</span>)
plt.axvline(<span class="hljs-attr">x</span>=<span class="hljs-number">0</span>, color=<span class="hljs-string">'gray'</span>, linestyle=<span class="hljs-string">'--'</span>, alpha=<span class="hljs-number">0.5</span>)
plt.xlabel('ä¸»é¢˜1 (æŠ€æœ¯ä¸»é¢˜)', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">12</span>)
plt.ylabel('ä¸»é¢˜2 (æ•°å­¦ä¸»é¢˜)', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">12</span>)
plt.title('æ–‡æ¡£åœ¨æ½œåœ¨è¯­ä¹‰ç©ºé—´ä¸­çš„åˆ†å¸ƒï¼šå¯è§†åŒ–æ–‡æ¡£èšç±»', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
plt.legend(<span class="hljs-attr">bbox_to_anchor</span>=(<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), loc=<span class="hljs-string">'upper left'</span>)
plt.grid(True, <span class="hljs-attr">alpha</span>=<span class="hljs-number">0.3</span>)

<span class="hljs-comment"># æ·»åŠ èšç±»æ¤­åœ†ç¤ºæ„</span>
<span class="hljs-attr">ellipse1</span> = Ellipse(xy=(<span class="hljs-number">0.6</span>, <span class="hljs-number">0.1</span>), width=<span class="hljs-number">0.4</span>, height=<span class="hljs-number">0.2</span>, 
                   <span class="hljs-attr">angle</span>=<span class="hljs-number">0</span>, color=<span class="hljs-string">'red'</span>, alpha=<span class="hljs-number">0.1</span>, label=<span class="hljs-string">'æŠ€æœ¯æ–‡æ¡£ç°‡'</span>)
<span class="hljs-attr">ellipse2</span> = Ellipse(xy=(-<span class="hljs-number">0.2</span>, <span class="hljs-number">0.7</span>), width=<span class="hljs-number">0.3</span>, height=<span class="hljs-number">0.15</span>, 
                   <span class="hljs-attr">angle</span>=<span class="hljs-number">0</span>, color=<span class="hljs-string">'blue'</span>, alpha=<span class="hljs-number">0.1</span>, label=<span class="hljs-string">'æ•°å­¦æ–‡æ¡£ç°‡'</span>)
plt.gca().add_patch(ellipse1)
plt.gca().add_patch(ellipse2)

plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f63af8cdee79472e93effd5a5cf2353f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=80WiJxrcfVLY9yoITInNVzGj5qU%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ æ•£ç‚¹å›¾å°†æ–‡æ¡£æŠ•å½±åˆ°å‰ä¸¤ä¸ªä¸»é¢˜æ„æˆçš„äºŒç»´ç©ºé—´ä¸­ï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ å¯è§†åŒ–å±•ç¤ºæ–‡æ¡£åœ¨é™ç»´åçš„è¯­ä¹‰ç©ºé—´ä¸­çš„ä½ç½®å…³ç³»<br/>
â€¢ è·ç¦»è¶Šè¿‘çš„æ–‡æ¡£è¯­ä¹‰ç›¸ä¼¼åº¦è¶Šé«˜<br/>
â€¢ åæ ‡è½´å…·æœ‰æ˜ç¡®çš„è¯­ä¹‰è§£é‡Šï¼ˆæŠ€æœ¯vsæ•°å­¦ï¼‰</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. ç»´åº¦å‹ç¼©ï¼šä»å¤šç»´ç©ºé—´é™åˆ°å¯è§†åŒ–çš„2D/3Dç©ºé—´<br/>
2. è·ç¦»ä¿æŒï¼šåœ¨ä½ç»´ç©ºé—´ä¸­å°½é‡ä¿æŒåŸå§‹è¯­ä¹‰å…³ç³»<br/>
3. èšç±»å‘ç°ï¼šè‡ªåŠ¨è¯†åˆ«è¯­ä¹‰ç›¸ä¼¼çš„æ–‡æ¡£ç¾¤ä½“</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ æ–‡æ¡£æ£€ç´¢ï¼šåœ¨ä¸»é¢˜ç©ºé—´ä¸­å®ç°è¯­ä¹‰æœç´¢<br/>
â€¢ æ¨èç³»ç»Ÿï¼šæ‰¾åˆ°è¯­ä¹‰ç›¸ä¼¼çš„æ–‡æ¡£<br/>
â€¢ å†…å®¹å¯¼èˆªï¼šæ„å»ºæ–‡æ¡£çš„è¯­ä¹‰åœ°å›¾</p>
<p>ã€å…·ä½“å‘ç°ã€‘<br/>
â€¢ å³ä¸Šè§’ï¼šæŠ€æœ¯ç›¸å…³æ–‡æ¡£ï¼ˆæ–‡æ¡£1,4,5ï¼‰<br/>
â€¢ å·¦ä¸Šè§’ï¼šæ•°å­¦ç›¸å…³æ–‡æ¡£ï¼ˆæ–‡æ¡£3ï¼‰<br/>
â€¢ ä¸­é—´åŒºåŸŸï¼šç»¼åˆä¸»é¢˜æ–‡æ¡£ï¼ˆæ–‡æ¡£2,6ï¼‰</p>
<h3 data-id="heading-12">5. ä¸»é¢˜-è¯è¯­å…³è”å›¾</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡4ï¼šä¸»é¢˜-è¯è¯­å…³è”å›¾</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))

<span class="hljs-comment"># é€‰æ‹©æ¯ä¸ªä¸»é¢˜æœ€é‡è¦çš„3ä¸ªè¯è¯­</span>
<span class="hljs-attr">top_terms_per_topic</span> = {}
for topic_idx in range(n_components):
    <span class="hljs-attr">top_indices</span> = topic_term_matrix[topic_idx].argsort()[-<span class="hljs-number">3</span>:][::-<span class="hljs-number">1</span>]
    <span class="hljs-attr">top_terms</span> = [(terms[i], topic_term_matrix[topic_idx, i]) for i in top_indices]
    top_terms_per_topic<span class="hljs-section">[f'ä¸»é¢˜{topic_idx+1}']</span> = top_terms

<span class="hljs-comment"># åˆ›å»ºä¸»é¢˜-è¯è¯­å…³è”æ¡å½¢å›¾</span>
<span class="hljs-attr">topic_data</span> = []
for topic, terms_list in top_terms_per_topic.items():
    for term, score in terms_list:
        topic_data.append({'ä¸»é¢˜': topic, 'è¯è¯­': term, 'å…³è”åº¦': score})

<span class="hljs-attr">topic_df</span> = pd.DataFrame(topic_data)
sns.barplot(<span class="hljs-attr">data</span>=topic_df, x=<span class="hljs-string">'å…³è”åº¦'</span>, y=<span class="hljs-string">'è¯è¯­'</span>, hue=<span class="hljs-string">'ä¸»é¢˜'</span>, palette=<span class="hljs-string">'viridis'</span>, 
            <span class="hljs-attr">dodge</span>=<span class="hljs-literal">False</span>)
plt.xlabel('è¯è¯­-ä¸»é¢˜å…³è”åº¦', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">12</span>)
plt.ylabel('')
plt.title('ä¸»é¢˜-è¯è¯­å…³è”åˆ†æï¼šè§£è¯»æ½œåœ¨ä¸»é¢˜çš„è¯­ä¹‰å«ä¹‰', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
plt.legend(<span class="hljs-attr">bbox_to_anchor</span>=(<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), loc=<span class="hljs-string">'upper left'</span>)

<span class="hljs-comment"># æ·»åŠ æ•°å€¼æ ‡æ³¨</span>
for i, (index, row) in enumerate(topic_df.iterrows()):
    plt.text(row<span class="hljs-section">['å…³è”åº¦']</span> + 0.01, i, f'{row<span class="hljs-section">["å…³è”åº¦"]</span>:.3f}', 
             <span class="hljs-attr">va</span>=<span class="hljs-string">'center'</span>, fontsize=<span class="hljs-number">10</span>)

plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/976cff288a534cc094ac3736eed70751~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=26YK5w62iUqCpS3WWBq0MBzYVEk%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ æ¡å½¢å›¾å±•ç¤ºäº†æ¯ä¸ªæ½œåœ¨ä¸»é¢˜æœ€å…·ä»£è¡¨æ€§çš„è¯è¯­ï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ æ­ç¤ºæ¯ä¸ªæ½œåœ¨ä¸»é¢˜çš„å®é™…è¯­ä¹‰å†…å®¹<br/>
â€¢ å…³è”åº¦è¶Šé«˜ï¼Œè¯¥è¯è¯­å¯¹å®šä¹‰ä¸»é¢˜çš„è´¡çŒ®è¶Šå¤§<br/>
â€¢ ä¸ºä¸»é¢˜æä¾›å¯è§£é‡Šçš„è¯­ä¹‰æ ‡ç­¾</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. è¯­ä¹‰æå–ï¼šä»è¯é¢‘ç»Ÿè®¡ä¸­æå–æœ‰æ„ä¹‰çš„ä¸»é¢˜<br/>
2. ç‰¹å¾é€‰æ‹©ï¼šè¯†åˆ«å¯¹ä¸»é¢˜åŒºåˆ†æœ€é‡è¦çš„å…³é”®è¯<br/>
3. ä¸»é¢˜å‘½åï¼šåŸºäºtopè¯è¯­ä¸ºè‡ªåŠ¨å‘ç°çš„ä¸»é¢˜å‘½å</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ ä¸»é¢˜å»ºæ¨¡ï¼šè‡ªåŠ¨å‘ç°æ–‡æ¡£é›†åˆä¸­çš„ä¸»é¢˜ç»“æ„<br/>
â€¢ å†…å®¹æ ‡ç­¾ï¼šä¸ºæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆä¸»é¢˜æ ‡ç­¾<br/>
â€¢ è¯­ä¹‰åˆ†æï¼šç†è§£æ–‡æœ¬æ•°æ®çš„æ·±å±‚è¯­ä¹‰æ¨¡å¼</p>
<p>ã€å…·ä½“å‘ç°ã€‘<br/>
â€¢ ä¸»é¢˜1ï¼šæœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ã€Python â†’ æŠ€æœ¯ä¸»é¢˜<br/>
â€¢ ä¸»é¢˜2ï¼šæ•°å­¦ã€çº¿æ€§ä»£æ•°ã€ç»Ÿè®¡ â†’ æ•°å­¦ä¸»é¢˜<br/>
â€¢ ä¸»é¢˜3ï¼šç®—æ³•ã€æ•°æ®ç»“æ„ã€ç¼–ç¨‹ â†’ ç®—æ³•ä¸»é¢˜</p>
<h3 data-id="heading-13">6. 3Dæ–‡æ¡£åˆ†å¸ƒå›¾</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡5ï¼š3Dæ–‡æ¡£åˆ†å¸ƒå›¾</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))
<span class="hljs-attr">ax</span> = plt.subplot(<span class="hljs-number">111</span>, projection=<span class="hljs-string">'3d'</span>)

<span class="hljs-attr">colors</span> = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'purple'</span>, <span class="hljs-string">'brown'</span>]
<span class="hljs-attr">document_labels</span> = [f<span class="hljs-string">'æ–‡æ¡£{i+1}'</span> for i in range(len(documents))]

for i, (x, y, z) in enumerate(doc_topic_matrix<span class="hljs-section">[:, :3]</span>):
    ax.scatter(x, y, z, <span class="hljs-attr">color</span>=colors[i], s=<span class="hljs-number">100</span>, alpha=<span class="hljs-number">0.7</span>, label=document_labels[i])
    ax.text(x, y, z, document_labels<span class="hljs-section">[i]</span>, <span class="hljs-attr">fontsize</span>=<span class="hljs-number">11</span>)

ax.set_xlabel('ä¸»é¢˜1\n(æŠ€æœ¯ä¸»é¢˜)', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">11</span>, linespacing=<span class="hljs-number">1.5</span>)
ax.set_ylabel('ä¸»é¢˜2\n(æ•°å­¦ä¸»é¢˜)', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">11</span>, linespacing=<span class="hljs-number">1.5</span>)
ax.set_zlabel('ä¸»é¢˜3\n(ç®—æ³•ä¸»é¢˜)', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">11</span>, linespacing=<span class="hljs-number">1.5</span>)
ax.set_title('3Dè¯­ä¹‰ç©ºé—´ï¼šæ–‡æ¡£åœ¨å¤šä¸»é¢˜ç»´åº¦ä¸­çš„åˆ†å¸ƒ', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)
ax.legend(<span class="hljs-attr">bbox_to_anchor</span>=(<span class="hljs-number">1.1</span>, <span class="hljs-number">1</span>), loc=<span class="hljs-string">'upper left'</span>)

plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9259c2bea9f14648b9aed2eea53e8931~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=G7Lddx4kIQAunwVXtR1D8lfyKpg%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ 3Dæ•£ç‚¹å›¾å±•ç¤ºäº†æ–‡æ¡£åœ¨ä¸‰ä¸ªä¸»é¢˜ç»´åº¦æ„æˆçš„è¯­ä¹‰ç©ºé—´ä¸­çš„åˆ†å¸ƒï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ æ›´å®Œæ•´åœ°å±•ç¤ºæ–‡æ¡£åœ¨å¤šç»´ä¸»é¢˜ç©ºé—´ä¸­çš„å…³ç³»<br/>
â€¢ æ¯ä¸ªåæ ‡è½´å¯¹åº”ä¸€ä¸ªè¯­ä¹‰æ˜ç¡®çš„ä¸»é¢˜ç»´åº¦<br/>
â€¢ ç«‹ä½“å±•ç¤ºæ–‡æ¡£çš„è¯­ä¹‰ç›¸ä¼¼æ€§å’Œå·®å¼‚æ€§</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. å¤šç»´é™ç»´ï¼šå°†é«˜ç»´æ•°æ®é™åˆ°å¯å¯è§†åŒ–çš„3Dç©ºé—´<br/>
2. ç»“æ„ä¿æŒï¼šåœ¨3Dç©ºé—´ä¸­ä¿æŒåŸå§‹è¯­ä¹‰å…³ç³»<br/>
3. äº¤äº’æ¢ç´¢ï¼šæ”¯æŒä»ä¸åŒè§’åº¦è§‚å¯Ÿæ–‡æ¡£åˆ†å¸ƒ</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ å¤šç»´åˆ†æï¼šåŒæ—¶è€ƒè™‘å¤šä¸ªä¸»é¢˜ç»´åº¦çš„æ–‡æ¡£å…³ç³»<br/>
â€¢ å¼‚å¸¸æ£€æµ‹ï¼šè¯†åˆ«åœ¨è¯­ä¹‰ç©ºé—´ä¸­å­¤ç«‹çš„æ–‡æ¡£<br/>
â€¢ æ¨¡å¼å‘ç°ï¼šå‘ç°æ–‡æ¡£é›†åˆçš„å¤æ‚è¯­ä¹‰ç»“æ„</p>
<p>ã€å…·ä½“å‘ç°ã€‘<br/>
â€¢ æ–‡æ¡£1,4,5ï¼šåœ¨æŠ€æœ¯ä¸»é¢˜ä¸Šé«˜åº¦é›†ä¸­<br/>
â€¢ æ–‡æ¡£3ï¼šåœ¨æ•°å­¦ä¸»é¢˜ä¸Šè¡¨ç°çªå‡º<br/>
â€¢ æ–‡æ¡£2,6ï¼šåœ¨ä¸‰ä¸ªä¸»é¢˜ä¸Šç›¸å¯¹å‡è¡¡åˆ†å¸ƒ</p>
<h3 data-id="heading-14">7. ä¸»é¢˜è§£é‡Šæ–¹å·®é¥¼å›¾</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å›¾ç‰‡6ï¼šä¸»é¢˜è§£é‡Šæ–¹å·®é¥¼å›¾</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>))
<span class="hljs-attr">exploded</span> = [<span class="hljs-number">0.1</span> if i == np.argmax(explained_variance) else <span class="hljs-number">0</span> for i in range(len(explained_variance))]
<span class="hljs-attr">colors_pie</span> = [<span class="hljs-string">'#ff9999'</span>, <span class="hljs-string">'#66b3ff'</span>, <span class="hljs-string">'#99ff99'</span>][:n_components]

<span class="hljs-comment"># åˆ›å»ºä¸»é¢˜æ ‡ç­¾ï¼ˆåŒ…å«è§£é‡Šæ–¹å·®ä¿¡æ¯ï¼‰</span>
<span class="hljs-attr">topic_labels</span> = [f<span class="hljs-string">'ä¸»é¢˜{i+1}\n({explained_variance[i]:.1%})'</span> 
               for i in range(n_components)]

wedges, texts, <span class="hljs-attr">autotexts</span> = plt.pie(explained_variance, labels=topic_labels,
                                  <span class="hljs-attr">autopct</span>=<span class="hljs-string">'%1.1f%%'</span>, startangle=<span class="hljs-number">90</span>, 
                                  <span class="hljs-attr">colors</span>=colors_pie, explode=exploded,
                                  <span class="hljs-attr">textprops</span>={<span class="hljs-string">'fontsize'</span>: <span class="hljs-number">12</span>})

for autotext in autotexts:
    autotext.set_color('white')
    autotext.set_fontweight('bold')
    autotext.set_fontsize(11)

plt.title('ä¸»é¢˜è§£é‡Šæ–¹å·®åˆ†å¸ƒï¼šå„ä¸»é¢˜çš„ä¿¡æ¯è´¡çŒ®æ¯”ä¾‹', <span class="hljs-attr">fontsize</span>=<span class="hljs-number">14</span>, fontweight=<span class="hljs-string">'bold'</span>)

<span class="hljs-comment"># æ·»åŠ æ€»ç»“æ–‡æœ¬æ¡†</span>
<span class="hljs-attr">summary_text</span> = f<span class="hljs-string">"ä¸»é¢˜åˆ†ææ€»ç»“:\nâ€¢ 3ä¸ªä¸»é¢˜ç´¯è®¡è§£é‡Šæ–¹å·®: {np.sum(explained_variance):.1%}\nâ€¢ ä¸»é¢˜1è´¡çŒ®æœ€å¤§: {explained_variance[0]:.1%}\nâ€¢ ä¿¡æ¯å‹ç¼©æ•ˆæœæ˜¾è‘—"</span>
plt.figtext(0.5, 0.02, summary_text, <span class="hljs-attr">ha</span>=<span class="hljs-string">'center'</span>, fontsize=<span class="hljs-number">12</span>, 
            <span class="hljs-attr">bbox</span>=dict(boxstyle=<span class="hljs-string">"round,pad=0.5"</span>, facecolor=<span class="hljs-string">"lightgray"</span>, alpha=<span class="hljs-number">0.8</span>))

plt.tight_layout()
plt.show()
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34606a9510714acb9ac3112aaa0d86fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768704216&amp;x-signature=RKm0kQhBzMZrUp1BU6rqpyUj5Eg%3D" alt="" loading="lazy"/></p>
<p><strong>å›¾ç‰‡è§£æï¼š</strong></p>
<p>è¿™å¼ é¥¼å›¾å±•ç¤ºäº†å„ä¸ªä¸»é¢˜å¯¹æ€»ä½“æ–¹å·®çš„è´¡çŒ®æ¯”ä¾‹ï¼š</p>
<p>ã€æ ¸å¿ƒæ„ä¹‰ã€‘<br/>
â€¢ é‡åŒ–æ¯ä¸ªä¸»é¢˜çš„ä¿¡æ¯å«é‡<br/>
â€¢ æ˜¾ç¤ºé™ç»´è¿‡ç¨‹ä¸­ä¿¡æ¯çš„åˆ†å¸ƒæƒ…å†µ<br/>
â€¢ è¯„ä¼°ä¸»é¢˜æå–çš„æ•ˆæœå’Œè´¨é‡</p>
<p>ã€SVDåº”ç”¨ç»†èŠ‚ã€‘<br/>
1. ä¿¡æ¯é‡åŒ–ï¼šç”¨è§£é‡Šæ–¹å·®è¡¡é‡ä¸»é¢˜çš„ä¿¡æ¯é‡<br/>
2. è´¨é‡è¯„ä¼°ï¼šé€šè¿‡ç´¯è®¡è§£é‡Šæ–¹å·®è¯„ä¼°é™ç»´è´¨é‡<br/>
3. å†³ç­–æ”¯æŒï¼šä¸ºé€‰æ‹©ä¸»é¢˜æ•°é‡æä¾›é‡åŒ–ä¾æ®</p>
<p>ã€å®é™…åº”ç”¨ä»·å€¼ã€‘<br/>
â€¢ æ¨¡å‹é€‰æ‹©ï¼šç¡®å®šåˆé€‚çš„ä¸»é¡Œæ•°é‡<br/>
â€¢ èµ„æºåˆ†é…ï¼šä¸ºé‡ç‚¹ä¸»é¢˜åˆ†é…æ›´å¤šåˆ†æèµ„æº<br/>
â€¢ ç»“æœè§£é‡Šï¼šç†è§£ä¸»é¢˜åˆ†æç»“æœçš„å¯ä¿¡åº¦</p>
<p>ã€å…·ä½“å‘ç°ã€‘<br/>
â€¢ ä¸»é¢˜1è´¡çŒ®çº¦40-50%çš„æ–¹å·® â†’ æœ€é‡è¦çš„ä¸»é¢˜<br/>
â€¢ ä¸‰ä¸ªä¸»é¢˜ç´¯è®¡è§£é‡Š80-90%çš„æ–¹å·® â†’ é™ç»´æ•ˆæœè‰¯å¥½<br/>
â€¢ ä¿¡æ¯æŸå¤±æ§åˆ¶åœ¨å¯æ¥å—èŒƒå›´å†…</p>
<p>é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ï¼š</p>
<ul>
<li>å“ªäº›ä¸»é¢˜æ›´é‡è¦ï¼ˆå¥‡å¼‚å€¼å¤§å°ï¼‰</li>
<li>æ¯ä¸ªæ–‡æ¡£ä¸»è¦å±äºå“ªä¸ªä¸»é¢˜</li>
<li>ç›¸ä¼¼ä¸»é¢˜çš„æ–‡æ¡£å¦‚ä½•åœ¨ç©ºé—´ä¸­èšé›†</li>
<li>æ¯ä¸ªä¸»é¢˜çš„æ ¸å¿ƒè¯æ±‡æ˜¯ä»€ä¹ˆ</li>
<li>æ•´ä¸ªæ–‡æ¡£é›†åˆçš„ä¸»é¢˜ç»“æ„åˆ†å¸ƒ</li>
</ul>
<h2 data-id="heading-15">ä¸ƒã€æ€»ç»“</h2>
<p>SVDåœ¨çŸ¥è¯†æ•´ç†ä¸é™ç»´ä¸­çš„åº”ç”¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä»æ•°æ®åˆ°æ™ºæ…§çš„è½¬åŒ–è¿‡ç¨‹ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬åœ¨ä¿¡æ¯çš„æµ·æ´‹ä¸­ï¼š</p>
<ul>
<li>å‘ç°æ¨¡å¼ï¼šä»çœ‹ä¼¼æ— åºçš„æ•°æ®ä¸­è¯†åˆ«å‡ºæœ‰æ„ä¹‰çš„æ¨¡å¼</li>
<li>æç‚¼çŸ¥è¯†ï¼šå°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºå¯æ“ä½œçš„çŸ¥è¯†</li>
<li>æ”¯æŒå†³ç­–ï¼šä¸ºå„ç§åº”ç”¨æä¾›åŸºäºæ•°æ®çš„æ™ºèƒ½æ”¯æŒ</li>
</ul>
<p>SVDçŸ¥è¯†æ•´ç†ä¸é™ç»´ä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´èŒƒå¼çš„è½¬å˜ã€‚å®ƒè®©æˆ‘ä»¬ä»ä¼ ç»Ÿçš„äººå·¥æ•´ç†+å…³é”®è¯æœç´¢æ¨¡å¼ï¼Œå‡çº§åˆ°æ™ºèƒ½å‘ç°+è¯­ä¹‰ç†è§£çš„æ–°æ—¶ä»£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å¼€å‘æ¶ˆäº¡å²ï¼šAIä¹Ÿæ— æ³•æ©ç›–æ²¡æœ‰è®¾è®¡åˆ›é€ åŠ›çš„çœŸç›¸]]></title>    <link>https://juejin.cn/post/7593241698370977828</link>    <guid>https://juejin.cn/post/7593241698370977828</guid>    <pubDate>2026-01-11T03:05:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593241698370977828" data-draft-id="7593232758128230406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å¼€å‘æ¶ˆäº¡å²ï¼šAIä¹Ÿæ— æ³•æ©ç›–æ²¡æœ‰è®¾è®¡åˆ›é€ åŠ›çš„çœŸç›¸"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-11T03:05:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éŸ©å¸ˆå‚…"/> <meta itemprop="url" content="https://juejin.cn/user/286348958252526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å¼€å‘æ¶ˆäº¡å²ï¼šAIä¹Ÿæ— æ³•æ©ç›–æ²¡æœ‰è®¾è®¡åˆ›é€ åŠ›çš„çœŸç›¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/286348958252526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éŸ©å¸ˆå‚…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T03:05:21.000Z" title="Sun Jan 11 2026 03:05:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="tomorrow-night-eighties">.hljs-comment,.hljs-quote{color:#999}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#f2777a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f99157}.hljs-attribute{color:#fc6}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#9c9}.hljs-section,.hljs-title{color:#69c}.hljs-keyword,.hljs-selector-tag{color:#c9c}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2d2d2d;color:#ccc}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æ‘˜è¦</strong>ï¼šå·¥å…·è¢«è®¾è®¡å‡ºæ¥æ˜¯ä¸ºäº†å‡å°‘ç—›è‹¦ï¼Œè€Œä¸æ˜¯å¢åŠ è‹¦éš¾ã€‚æŠ€æœ¯äººçš„åŠªåŠ›ä¸çƒ­è¡€æ­£åœ¨èµ°å‘è¡”å°¾è›‡çš„ç»“å±€ã€‚</p>
<h2 data-id="heading-0"><strong>å‰ç«¯â€”â€”æ‰€æœ‰ä¸Šæ¸¸ä¸ä¸“ä¸šçš„å…œåº•è€…ï¼Œé™æœ¬å¢å‹çš„é¦–è¦å¯¹è±¡</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e968d154e9945e495ade4f3fd0180c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768705521&amp;x-signature=WXAi0EOybPpDPnFo8Mfsg2NUkf4%3D" alt="buried_in_work_1.png" loading="lazy"/></p>
<h3 data-id="heading-1">æ¨¡ç³Šéœ€æ±‚çš„å…œåº•æ‰§è¡Œè€…</h3>
<p>"äº§å“åŸå‹æ˜¯ä¸æ¸…æ¥šçš„ï¼Œæ–‡æ¡£åŠŸèƒ½æ˜¯åªå†™ä¸€è¡Œçš„ã€‚
ä¹Ÿæœ‰å®¢æˆ·æ¶ˆæ¯è‡ªåŠ¨è½¬å‘æœºå™¨äººï¼Œä½†æ´»äººåœ¨å²—çš„ã€‚
é—®å°±æ˜¯'æ–‡å­—è¯´ä¸æ¸…æ¥šï¼Œæˆ‘ä»¬å½“é¢èŠä¸€ä¸‹'ï¼Œæœ€åå‡ºæ¥åŠŸèƒ½ä¸å¯¹ï¼Œå°±æ˜¯å¼€å‘ç†è§£é”™äº†ã€‚"</p>
<h3 data-id="heading-2">æ··ä¹±å˜æ›´çš„é“²å±å®˜</h3>
<p>â€œéœ€æ±‚æ˜¯æœä»¤å¤•æ”¹çš„ï¼Œå› ä¸ºåŸå‹ç”»å‡ºæ¥çš„æ—¶å€™ï¼Œçœ‹ä¸å‡ºæ¥æ•ˆæœï¼Œæ‰€ä»¥å¿…é¡»è¦ç­‰å‰ç«¯å‡ºé¡µé¢äº†å†æ”¹çš„ã€‚
ä¸€æ—¦å®¢æˆ·æœ‰éœ€æ±‚ï¼Œä¹Ÿä¸ç®¡éœ€æ±‚åˆä¸åˆç†ï¼Œè®¾è®¡æ˜¯å¦å…·æœ‰å¯æ‰©å±•æ€§ï¼Œå¾€ä¸Šé¢å †ç Œå°±å¥½äº†ã€‚
åŸå‹éƒ½èƒ½ç”»å‡ºæ¥ï¼Œé‚£ä¹ˆå¼€å‘ä¹Ÿå°±æ˜¯å¯ä»¥åšå‡ºæ¥çš„ã€‚â€ â€”â€” å±å±±çš„æºå¤´</p>
<h3 data-id="heading-3">èƒ½ç”¨å°±è¡Œæ¥å£çš„æ‹¼è´´å·¥åŒ </h3>
<p>â€œæ¥å£æŒ‰ç…§éœ€æ±‚å˜æ›´çš„é€Ÿåº¦ï¼Œæ­£ç»è®¤çœŸå†™æ˜¯ä¸å¯èƒ½å†™å®Œçš„ã€‚
è€Œä¸”é¡µé¢å˜æ›´è¿‡äºé¢‘ç¹ï¼Œæ”¹æ¥å£æ˜¯ä¸å¯èƒ½æ”¹çš„ï¼Œèƒ½ç”¨å°±è¡Œã€‚â€</p>
<p>çº¯æ•°æ®è¿”å›ï¼Œåœ¨å‰ç«¯åšæˆèƒ½ç”¨çš„æ ·å­ã€‚
å‰ç«¯å·¥ä½œé‡æš´å¢ã€‚AIæ˜¯ä¸ä¼šæŠ±æ€¨å·¥ä½œé‡çš„ã€‚</p>
<h3 data-id="heading-4">é¢†å¯¼å£ä¸­"ç¬¬ä¸€ä¸ªèƒ½è¢«AIæ›¿ä»£çš„å²—ä½"</h3>
<p>â€œäººäººéƒ½èƒ½é€šè¿‡è‡ªç„¶è¯­è¨€å†™å‡ºå‰ç«¯é¡µé¢ã€‚
å†™å¾—éƒ½æ²¡æœ‰AIå¥½çœ‹ï¼Œå‰ç«¯å¼€å‘æ ¹æœ¬ä¸æ˜¯çœŸæ­£çš„æŠ€æœ¯ã€‚
â€  â€”â€”ğŸ¤¡ç®¡ç†è€…è¯­å½•</p>
<p>å¯èƒ½ç¡®å®ä¸éœ€è¦é‚£ä¹ˆå¤šå‰ç«¯å¼€å‘å²—ä½ï¼Œå› ä¸ºå¾ˆå¤šä¸œè¥¿åªä»¥ä¸å¯è§çš„å½¢å¼å­˜åœ¨ï¼Œæˆ–è®¸æ‰æ˜¯æœ€å¥½çš„ã€‚</p>
<h2 data-id="heading-5">åç«¯â€”â€”æœ‰äº† AIï¼Œ"ä½ ä¹Ÿå¯ä»¥"çš„å…¨æ ˆæ¥æ£’è€…</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/736d3b9ec23f483bba2dc5e5c1cd659f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768705521&amp;x-signature=ur8Xq449qGUCh0DAosqel%2FgMDTo%3D" alt="backend_tech_island_1.png" loading="lazy"/></p>
<h3 data-id="heading-6">æŠ€æœ¯å¯¹æ¥çš„ç¬¬ä¸€è´Ÿè´£äºº</h3>
<p>æ•°æ®å¯¹æ¥æ˜¯åç«¯ï¼ŒæŠ€æœ¯è§£é‡Šæ˜¯åç«¯å¼€å‘ç»™ã€‚
å‰ç«¯å¼€å‘ä¸æ‹¥æœ‰è¯è¯­æƒçš„æ—¶å€™ï¼Œåç«¯å¼€å‘éœ€è¦æ¥ç»™å‡ºæœ€ç»ˆæŠ€æœ¯è§£é‡Šã€‚
å°±ç®—æ²¡æœ‰å‰ç«¯å¼€å‘ç»éªŒåˆå¦‚ä½•ï¼Œåç«¯å¼€å‘æ‰æ˜¯çœŸæ­£çš„æŠ€æœ¯æ”¯æ’‘ã€‚</p>
<h3 data-id="heading-7">é«˜è¯è¯­æƒä½åæŠ—åŠ›çš„éå˜é©è€…</h3>
<p>æŠ€æœ¯è¡¨è¾¾è€…çš„è¯è¯­è¢«è¿›ä¸€æ­¥æ¶¦è‰²æˆç®¡ç†è€…è¯è¯­ã€‚
å¬èµ·æ¥æ˜¯æ¨åŠ¨æŠ€æœ¯ï¼Œä½†å®è´¨æ˜¯è¿›ä¸€æ­¥å‹æ¦¨ã€‚
éœ€è¦å±•ç°æŠ€æœ¯å®åŠ›çš„æ—¶å€™ï¼Œæ˜¯æ‹¥æœ‰æœ€é«˜è¯è¯­æƒçš„ï¼Œæ‰€æœ‰çš„é£é™©æç¤ºéƒ½ä¼šè¢«è¿‡æ»¤æ‰ã€‚
æ˜æ˜è¯´çš„æ˜¯ç›®å‰æ— æ³•ç›´æ¥å°†éœ€æ±‚æ–‡æ¡£è½¬ä¸ºåŠŸèƒ½ï¼Œç”Ÿæˆçš„å‰ç«¯é¡µé¢åªèƒ½ç”¨äºå°é¡¹ç›®ã€‚
ä½†æ˜¯ç®¡ç†è€…å¬åˆ°ä¸”è¦çš„æ˜¯ï¼Œéœ€æ±‚æ–‡æ¡£ä¸€é”®ç”Ÿæˆç½‘é¡µï¼Œä¸”å®Œæ•´æ¨è¡Œã€‚</p>
<h3 data-id="heading-8">æœ‰äº†AIï¼Œâ€œä½ ä¹Ÿå¯ä»¥â€çš„å…¨æ ˆæ¥æ£’è€…</h3>
<p>â€œä»€ä¹ˆï¼Œä½ è¯´æœåŠ¡ç«¯æ¸²æŸ“ä¸å‰åç«¯æ¸²æŸ“ä¸ä¸€æ ·ï¼Ÿä¸éƒ½æ˜¯é¡µé¢å—ï¼Ÿæœ‰ä»€ä¹ˆä¸åŒå‘¢ã€‚
éƒ½æ˜¯AIåšäº†ï¼Œå°±æ²¡æœ‰å·®åˆ«äº†ã€‚
é‚£ä¹ˆåç«¯å¼€å‘ä¹Ÿå¯ä»¥åšå‰ç«¯çš„æ´»äº†ï¼Œæ²¡æœ‰é¡µé¢çš„æ¦‚å¿µï¼Œæ²¡æœ‰å…³ç³»ï¼Œå¬è¯å°±å¤Ÿäº†ã€‚â€ â€”â€”ğŸ¤¡ç®¡ç†è€…è¯­å½•</p>
<h3 data-id="heading-9">å¤±å»è§†è§‰åŒç›Ÿçš„æœªæ¥ï¼šæœªçŸ¥æ³¥æ½­çš„æ·±é™·è€…</h3>
<p>â€œè§†è§‰åŒç›Ÿâ€æŒ‡çš„æ˜¯æ›¾ç»è¿˜èƒ½é è®¾è®¡ã€äº¤äº’æŠµæŒ¡ä¸€éƒ¨åˆ†ä¸åˆç†éœ€æ±‚ã€‚
ä½†å¦‚ä»Šï¼šè®¾è®¡å½¢å¼ä¸»ä¹‰ + AIæ¨¡ç³Šç”Ÿæˆï¼Œè®©å‰ç«¯/è®¾è®¡é€æ¸é€€å‡ºï¼Œåç«¯ç‹¬è‡ªå¾€é»‘æ´èµ°ã€‚</p>
<p>æ•´ä¸ªäº§å“é“¾æ¡æ–­è£‚åï¼ŒæŠ€æœ¯äººå‘˜å­¤å²›åŒ–å³æ˜¯æœ€ç»ˆå‘½è¿ã€‚</p>
<h2 data-id="heading-10"><strong>äººäººéƒ½å¯ä»¥æ˜¯äº§å“/UI/å¼€å‘ï¼Ÿé‚£æŠ€æœ¯æ‰§è¡Œè€…æ³¨å®šæˆä¸ºå…œåº•çš„äºº</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69a98d4a8e9e4752a444d30129aa3acc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768705521&amp;x-signature=R%2B6hiOyLyBXF%2Ba9Dgo%2BuxQ3koJw%3D" alt="hierarchy_illustration_1.png" loading="lazy"/></p>
<h3 data-id="heading-11">æ¨¡ç³ŠPRDç”Ÿæˆuiå’Œä»£ç çš„ç»ˆæå¹»æƒ³</h3>
<p>ç”Ÿæˆä¸å‡ºç”¨æˆ·è°ƒç ”ã€ç”Ÿæˆä¸å‡ºäº¤äº’é€»è¾‘ï¼Œåªèƒ½ç”Ÿæˆä¸€ä¸ª"åˆ«äººåšè¿‡"çš„å¹»è±¡å‰¯æœ¬ã€‚</p>
<p>â€œå¼•ç”¨åäººæ¼”è®²ï¼Œäººäººéƒ½åº”è¯¥åœ¨å·¥ä½œä¸­ä½¿ç”¨AIï¼Œæ‹¥æŠ±AIï¼Œä¸è¦æŠ—æ‹’ã€‚
AIä½¿ç”¨è‡ªç„¶è¯­è¨€å°±èƒ½å†™å‡ºä»£ç ï¼Œæ‰€ä»¥æŠ€æœ¯äººå‘˜çš„å£å’å°±è¢«æ‰“ç ´äº†ã€‚
æ—¢ç„¶èƒ½å¬æ‡‚è‡ªç„¶è¯­è¨€ï¼Œé‚£ä¹ˆå®¢æˆ·è½¬åŒ–éœ€æ±‚åº”è¯¥ä¹Ÿèƒ½åšåˆ°ã€‚
é‚£ä¹ˆè½¬æ¢å®¢æˆ·çš„éœ€æ±‚åˆ°äº§å“ç”Ÿæˆï¼Œæ•´ä¸ªæµç¨‹éƒ½èƒ½ä¾é AIåšåˆ°ã€‚
â€     â€”â€”ğŸ¤¡ç®¡ç†è€…è¯­å½•</p>
<p>AIæ˜¯æ„è¯†çš„æ”¾å¤§å™¨ï¼Œåªå­—ä¸æä½¿ç”¨å·¥å…·çš„äººï¼Œæ˜¯å› ä¸ºæœ¬èº«ä¸ç”¨æ‰¿æ‹…åæœã€‚
è§‰å¾—AIç¬¨ï¼Œæ— æ³•ç†è§£éœ€æ±‚ï¼Œæ˜¯å› ä¸ºéœ€æ±‚æœ¬èº«å°±æ¨¡ç³Šã€‚
AIåªä¼šè®©æ¨¡ç³Šè¯æœ¯åŸå½¢æ¯•éœ²ã€‚</p>
<h3 data-id="heading-12">åˆ»æ„å¿½è§†aié£é™©å’ŒæŠ€æœ¯äººå…œåº•çš„ä»·å€¼</h3>
<p>æ¨¡å‹è¾“å‡ºå‡ºé”™æ—¶ï¼Œæ˜¯ä½ ä¿®ï¼›è·¯å¾„è§„åˆ’å¤±è´¥æ—¶ï¼Œæ˜¯ä½ æ”¹ã€‚
ä½†ç«‹é¡¹æˆåŠŸæ—¶ï¼Œæ˜¯ä»–ä»¬"ç”¨AIæå‡äº†æ•ˆç‡"ã€‚</p>
<p>â€œä»‹ç»AIå·¥å…·ï¼Œä½†æ˜¯ä¸æ‰¿æ‹…ä½¿ç”¨å·¥å…·çš„æˆæœ¬ã€‚
æ¨èAIå·¥å…·ï¼Œä½†æ˜¯ä¸è°ƒç ”å†…å®¹æ˜¯å¦ä¼šè¢«ç”¨äºAIæ¨¡å‹è®­ç»ƒã€‚
æ‰€æœ‰ä½¿ç”¨AIè¿‡ç¨‹ä¸­çš„é˜µç—›ï¼Œéƒ½æ˜¯å› ä¸ºè¿˜ä¸é€‚åº”ã€‚
ä¸ç®¡è¿‡ç¨‹å¦‚ä½•ï¼Œç»“æœè‚¯å®šè¦æ˜¯æå‡äº†æ•ˆç‡çš„ã€‚â€  â€”â€”ğŸ¤¡ç®¡ç†è€…è¯­å½•</p>
<p>AIå·¥å…·æ˜¯å¸®åŠ©å‘˜å·¥è‡ªå·±å·¥ä½œçš„ï¼Œæ€ä¹ˆèƒ½æ˜¯å…¬å¸å‡ºè¯•é”™æˆæœ¬å‘¢ï¼Ÿ
åæ­£æ¨è¿›äº†ï¼Œå°±æ˜¯è¦æœ‰ç»“æœçš„ã€‚ä¸€åˆ‡é—®é¢˜ï¼Œéƒ½éœ€è¦å‚ä¸äººå‘˜æ¥è§£å†³ã€‚
åªè¦è¿‡æ»¤æ‰ä¸åˆ©ä¿¡æ¯ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¸å­˜åœ¨ã€‚</p>
<h3 data-id="heading-13">é‡‘å­—å¡”åº•çš„æ¶ˆäº¡æœ¯ï¼šå‹ä¸‹çš„æ˜¯æŠ€æœ¯æ‰§è¡Œï¼Œæ²‰æ²¡çš„æ˜¯å†³ç­–è´£ä»»ã€‚</h3>
<p>ä»–ä»¬è£å‰ªæµç¨‹ã€æŠ½è±¡å²—ä½ã€åˆå¹¶å·¥ç§ï¼Œå´ä¿ç•™äº†ä¸€åˆ‡è¯è¯­æƒã€‚
æ‰§è¡Œå²—ä½è¢«æ¦¨å¹²ï¼Œè®¾è®¡å²—ä½å´ä¾ç„¶ä¸ä¸Šå·¥åœ°ã€‚</p>
<p>â€œä¸äººæ‰“äº¤é“çš„å·¥ä½œæ‰æ˜¯æœ€éš¾ï¼Œæœ€é‡è¦çš„ã€‚
æˆ‘ä»¬éœ€è¦ç²¾æ¹›çš„æ²Ÿé€šæŠ€å·§ã€‚
æ—¢ç„¶AIèƒ½å¤Ÿå®Œæˆéœ€æ±‚æ–‡æ¡£å’Œå…·ä½“æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°æŠŠç²¾åŠ›æ”¾åœ¨æ›´å¥½åœ°æœåŠ¡å®¢æˆ·ä¸Šäº†ã€‚
â€  â€”â€”ğŸ¤¡ç®¡ç†è€…è¯­å½•</p>
<p>AIæ˜¯ä¸‡èƒ½å…œåº•ç‹ï¼Œæ°¸è¿œä¸ä¼šè¯´åšä¸äº†ã€‚æŠ€æœ¯æˆæœ¬å°†ä¸å¤å­˜åœ¨ã€‚</p>
<h2 data-id="heading-14"><strong>AIäº§ç”Ÿçš„åˆè¡·æ˜¯å‡å°‘ç—›è‹¦ï¼Œå´è¢«ç”¨ä½œäº†åˆç†å‹æ¦¨çš„å€Ÿå£</strong></h2>
<p>æŠ€æœ¯åŸæœ¬æƒ³åšçš„æ˜¯åæŠ—é‡å¤ã€ç®€åŒ–ç¹æ‚ã€‚
ä½†åœ¨ç®¡ç†è€…çœ¼ä¸­ï¼Œé‚£æ˜¯å‹ç¼©äººåŠ›ã€æ©ç›–æµç¨‹ã€é€ƒé¿é—®è´£çš„ç†æƒ³é®ç¾å¸ƒã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f37a21f8fed4f9c91568a78d244bea9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768705521&amp;x-signature=UnFknecRTGqHuSmn3Dbowk9ltAI%3D" alt="ai_coverup_irony_1.png" loading="lazy"/></p>
<h3 data-id="heading-15">å›½å¤–ä¼˜ç§€è®¾è®¡æ‹™åŠ£æ‹¼æ¥çš„Garbageåˆ¶é€ è€…</h3>
<p>ç¾æœ¯é¦†çº§åˆ«çš„ UI æ‹¼æ¥æˆå°ä½œåŠçº§åˆ«çš„äº§å“ï¼Œ
ä¸æ˜¯å› ä¸ºä½ å†™ä¸å¥½ï¼Œè€Œæ˜¯æ ¹æœ¬æ²¡æœ‰åœºæ™¯å’Œç»“æ„é€»è¾‘æ”¯æ’‘ã€‚</p>
<p>â€œè®¾è®¡æ˜¯ä»€ä¹ˆï¼Ÿç”¨æˆ·åŠ¨çº¿æ˜¯ä»€ä¹ˆï¼Ÿè¿™äº›éƒ½å¤ªéš¾æ‹¿å‡ºå»å½“å–ç‚¹äº†ã€‚
åªæœ‰å›½å¤–çš„åŠŸèƒ½ï¼Œæ•°æ®ï¼Œè®¾è®¡ï¼Œé‚£äº›çŸ¥åçš„ä¸œè¥¿ï¼Œæ‰èƒ½ä¸ºè‡ªå·±çš„å“ç‰ŒèƒŒä¹¦ã€‚
è¿™ä¸ªç½‘ç«™å¥½ï¼Œå°±æŠ„å¥½çœ‹çš„éƒ¨åˆ†ï¼Œæœ€åæ”¾åœ¨ä¸€èµ·ï¼Œå°±æ˜¯é›†ç»“å¤§æˆä¹‹ä½œã€‚
æŠ€æœ¯æˆæœ¬ï¼Ÿä¸è¿‡æ˜¯å¼€å‘æƒ³è¦å·æ‡’ï¼Œä¸æƒ³æˆé•¿çš„å€Ÿå£ã€‚â€</p>
<h3 data-id="heading-16">é™æŠ€æœ¯æœ¬ä¹Ÿæ— æ³•æŒ½æ•‘çš„ç©ºå¿ƒè®¾è®¡</h3>
<p>åŠŸèƒ½å…¨ï¼Œé¡µé¢é“ï¼Œå´æ²¡äººèƒ½å›ç­”ä¸€å¥"ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ª"ã€‚
ä¸æ˜¯ä»£ç ä¸æ™ºèƒ½ï¼Œæ˜¯è®¾è®¡ä»æœªçœŸå®å­˜åœ¨è¿‡ã€‚</p>
<p>â€œå®¢æˆ·å°±æ˜¯ä¸Šå¸ï¼Œä»–ä»¬è¯´çš„è¯å°±æ˜¯åœ£æ—¨ã€‚
æˆ‘ä»¬ä¸ä»…è¦å®ç°å®¢æˆ·çš„éœ€æ±‚ï¼Œè€Œä¸”è¦åšåˆ°ä¸šå†…æœ€å¥½ï¼Œè¿™æ ·å®¢æˆ·æ‰ä¼šç»§ç»­é€‰æ‹©æˆ‘ä»¬ã€‚
åˆ«é—®ä¸ºä»€ä¹ˆåšï¼Œå¤šå»çœ‹çœ‹åˆ«äººæ˜¯æ€ä¹ˆåšåˆ°çš„ã€‚
æŠ€æœ¯è¾¹ç•Œï¼Ÿçœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ä¸œè¥¿ï¼Œå‡­ä»€ä¹ˆå°±æ˜¯è¯´åšä¸å‡ºæ¥å‘¢ï¼Ÿ
æˆ‘ä¸æƒ³å¬åšä¸åˆ°ï¼Œæˆ‘åªæƒ³å¬åˆ°ä¸€ä¸ªå¯ä»¥è½åœ°çš„æ–¹æ¡ˆã€‚
â€</p>
<h3 data-id="heading-17">æŠ€æœ¯æ— çŸ¥å´æ²‰è¿·å¹»æƒ³çš„è„±è´£è€…</h3>
<p>ä»–ä»¬ä¸æƒ³æ‡‚ä½ çš„å·¥ä½œï¼Œåªæƒ³æ‰¾ä¸ªæ–¹æ³•èƒ½æŠŠä½ æ¢æ‰ã€‚
AIç»™äº†ä»–ä»¬è¿™ä¸ªå¹»æƒ³â€”â€”å°±ç®—æ˜¯å‡çš„ï¼Œä¹Ÿå¤Ÿç”¨æ¥è¯„ä¼°ä½ çš„ç»©æ•ˆã€‚</p>
<p>â€œ
æŠ€æœ¯äººå‘˜æ˜¯å¯ä»¥æ›¿ä»£çš„ï¼Œåªè¦èŠ±é’±å°±å¯ä»¥äº†ã€‚
æŠ€æœ¯å€ºä¸é‡è¦ï¼Œåªè¦é¡µé¢è¿˜åœ¨åŠ¨ï¼Œå®¢æˆ·ç”¨ç€æ²¡æœ‰æ„è§å°±å¯ä»¥äº†ã€‚
äººè·‘è·¯äº†æ€ä¹ˆåŠï¼Ÿç»§ç»­æ‹›äººå°±è¡Œäº†ã€‚
æŠ€æœ¯å€ºï¼ŒæŠ€æœ¯äººå¿ï¼Œåªè¦èƒ½ç»­ä¸Šäººå°±è¡Œäº†ã€‚
æœ‰äº†AIï¼Œä»–ä»¬å¼€å‘å°±æ›´åŠ æ²¡æœ‰å€Ÿå£è¯´æ²¡æœ‰æ–¹æ¡ˆäº†ã€‚
AIèƒ½åšå¾—æ¯”ä»–ä»¬æ›´å¥½ï¼Œæ›´å¿«ï¼Œä¸ä¼šåé©³éœ€æ±‚ï¼Œå¼€å‘çš„æˆæœ¬åªä¼šè¢«å‹å¾—æ›´ä½ã€‚
â€</p>
<p><em>"ä»–ä»¬ä¸æ˜¯ä¸æ‡‚æŠ€æœ¯ï¼Œè€Œæ˜¯åªæ‡‚æŠ€æœ¯èƒ½å¸®ä»–ä»¬è„±è´£ã€‚"</em></p>
<hr/>
<h2 data-id="heading-18">ç»™æŠ€æœ¯åŒåƒšçš„è¯</h2>
<p>ä¸€æ•´ä¸ªçƒ‚å®Œï¼Œä½†è¿˜æ˜¯è¦æ´»ä¸‹å»ã€‚</p>
<p><strong>ç•™ç—•ï¼Œç•™ç—•ï¼Œç•™ç—•ã€‚</strong></p>
<p>æ¯ä¸€ä¸ªæŒ‡ä»¤ã€æ¯ä¸€ä¸ªæ–‡æ¡£ã€æ¯ä¸€ä¸ªéœ€æ±‚å˜æ›´ï¼Œéƒ½éœ€è¦è¢«è®°å½•ã€‚ä¸èƒ½æ—¢å¹²æ´»åˆèƒŒé”…ã€‚</p>
<ul>
<li>éœ€æ±‚ä¸æ¸…æ™°ï¼Ÿæ–‡å­—è®°å½•ï¼Œæˆªå›¾ä¿å­˜ã€‚</li>
<li>éœ€æ±‚å˜æ›´ï¼Ÿæ—¶é—´æˆ³ï¼Œç‰ˆæœ¬å·ï¼Œå˜æ›´åŸå› ã€‚</li>
<li>æŠ€æœ¯é£é™©æç¤ºï¼Ÿé‚®ä»¶ã€æ–‡æ¡£ã€ä¼šè®®è®°å½•ï¼Œä¸€ä¸ªéƒ½ä¸èƒ½å°‘ã€‚</li>
<li>AIå·¥å…·å‡ºé”™ï¼Ÿé”™è¯¯æ—¥å¿—ã€ä¿®å¤æ—¶é—´ã€æˆæœ¬è®°å½•ã€‚</li>
</ul>
<p><strong>ä¸èƒ½æ—¢å¹²æ´»åˆèƒŒé”…ã€‚</strong></p>
<p>å°±ç®—ä¸€ä¸ªäººæå…¨æ ˆï¼Œä¹Ÿè¦åŒºåˆ†ã€‚å‰ç«¯çš„é—®é¢˜è®°å½•åœ¨å‰ç«¯ï¼Œåç«¯çš„é—®é¢˜è®°å½•åœ¨åç«¯ã€‚</p>
<p>è¿™æ ·è´£ä»»è¾¹ç•Œæ‰æ¸…æ™°ã€‚</p>
<p><strong>æŠ€æœ¯äººçš„åŠªåŠ›ä¸çƒ­è¡€ï¼Œä¸åº”è¯¥èµ°å‘è¡”å°¾è›‡çš„ç»“å±€ã€‚</strong></p>
<p>ç•™ç—•ï¼Œæ˜¯åæŠ—çš„èµ·ç‚¹ï¼Œæ˜¯æ¸…ç®—çš„è¯æ®ï¼Œæ˜¯ä½ æœªæ¥æœ€ç¡¬çš„åº•ç‰Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸“ä¸º Spring Boot è®¾è®¡çš„ Elasticsearch æ—¥å¿—æ”¶é›† Starter]]></title>    <link>https://juejin.cn/post/7593338828218269711</link>    <guid>https://juejin.cn/post/7593338828218269711</guid>    <pubDate>2026-01-11T06:44:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828218269711" data-draft-id="7593338828218253327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸“ä¸º Spring Boot è®¾è®¡çš„ Elasticsearch æ—¥å¿—æ”¶é›† Starter"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-11T06:44:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç’çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/2052122618633556"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸“ä¸º Spring Boot è®¾è®¡çš„ Elasticsearch æ—¥å¿—æ”¶é›† Starter
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2052122618633556/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç’çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T06:44:37.000Z" title="Sun Jan 11 2026 06:44:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ğŸ“¦ ä¸“ä¸º Spring Boot è®¾è®¡çš„ Elasticsearch æ—¥å¿—æ”¶é›† Starter</h2>
<p>ä½ æ˜¯å¦è¿˜åœ¨ä¸ºåº”ç”¨æ—¥å¿—åˆ†æ•£å„å¤„è€Œçƒ¦æ¼ï¼Ÿæ˜¯å¦æ›¾å› è°ƒè¯•çº¿ä¸Šé—®é¢˜è€Œç„¦å¤´çƒ‚é¢åœ°ç¿»çœ‹æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶ï¼Ÿä»Šå¤©ç»™å¤§å®¶æ¨èä¸€ä¸ªæˆ‘ä»¬å›¢é˜Ÿè‡ªç ”çš„é«˜æ€§èƒ½ã€é›¶ä¾µå…¥çš„æ—¥å¿—è§£å†³æ–¹æ¡ˆâ€”â€”<strong>elasticsearch-logging-starter</strong>ï¼</p>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Spring Boot Starter æœºåˆ¶æ‰“é€ çš„æ—¥å¿—æ”¶é›†ç»„ä»¶ï¼Œèƒ½å¤Ÿå°†ä½ çš„åº”ç”¨æ—¥å¿—<strong>å¼‚æ­¥ã€æ‰¹é‡ã€ç»“æ„åŒ–</strong>åœ°å‘é€åˆ° Elasticsearch é›†ç¾¤ï¼Œè®©ä½ è½»æ¾å®ç°æ—¥å¿—çš„é›†ä¸­ç®¡ç†å’Œå¯è§†åŒ–æ£€ç´¢ã€‚</p>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliulasty%2Felasticsearch-logging-parent.git" target="_blank" title="https://github.com/liulasty/elasticsearch-logging-parent.git" ref="nofollow noopener noreferrer">github.com/liulasty/elâ€¦</a></p>
<h3 data-id="heading-1">âœ¨ æ ¸å¿ƒäº®ç‚¹</h3>
<ul>
<li><strong>å¼€ç®±å³ç”¨ï¼Œé›¶ä¾µå…¥</strong>ï¼šåªéœ€å¼•å…¥ä¾èµ–ã€æ·»åŠ é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»»ä½•ä¸€è¡Œä¸šåŠ¡ä»£ç æˆ–<code>logback.xml</code>ã€‚</li>
<li><strong>é«˜æ€§èƒ½å¼‚æ­¥å†™å…¥</strong>ï¼šåŸºäº Elasticsearch å®˜æ–¹ <code>BulkProcessor</code> å®ç°ï¼Œæ‰¹é‡å‘é€ï¼Œå¯¹åº”ç”¨æ€§èƒ½å½±å“æä½ã€‚</li>
<li><strong>ç»“æ„åŒ–ä¸é“¾è·¯è¿½è¸ª</strong>ï¼šè‡ªåŠ¨å°†æ—¥å¿—è½¬åŒ–ä¸º JSON æ–‡æ¡£ï¼Œå¹¶å®Œç¾æ”¯æŒä» MDC ä¸­æå– <code>traceId</code>ã€<code>spanId</code>ï¼Œåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªæ— å‹åŠ›ã€‚</li>
<li><strong>å¤šç¯å¢ƒæ™ºèƒ½éš”ç¦»</strong>ï¼šé€šè¿‡<code>applicationName</code>å’Œ<code>environment</code>é…ç½®ï¼Œè½»æ¾åŒºåˆ†ä¸åŒåº”ç”¨ã€ä¸åŒç¯å¢ƒçš„æ—¥å¿—ã€‚</li>
</ul>
<h3 data-id="heading-2">ğŸ— æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶</h3>
<p>æ•´ä¸ª Starter çš„è®¾è®¡éµå¾ª Spring Boot è‡ªåŠ¨é…ç½®ç†å¿µï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[Spring Boot åº”ç”¨æ—¥å¿—äº‹ä»¶] --&gt; B[ElasticsearchLogAppender];
    B --&gt; C[LogEventConverter];
    C --&gt; D[ç»“æ„åŒ– EsLogDocument];
    D --&gt; E[ElasticsearchLogClient];
    E --&gt; F[BulkProcessor æ‰¹é‡é˜Ÿåˆ—];
    F --&gt; G[å¼‚æ­¥å‘é€è‡³ Elasticsearch];
    H[application.yml é…ç½®] --&gt; I[ElasticsearchLoggingAutoConfiguration];
    I --&gt; B;
    I --&gt; E;
</code></pre>
<p><strong>1. è‡ªåŠ¨é…ç½®å…¥å£ - <code>ElasticsearchLoggingAutoConfiguration</code></strong></p>
<ul>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šå½“é…ç½®æ–‡ä»¶ä¸­<code>es.logging.enabled=true</code>æ—¶è‡ªåŠ¨ç”Ÿæ•ˆã€‚</li>
<li><strong>æ ¸å¿ƒèŒè´£</strong>ï¼šåœ¨ Spring å®¹å™¨å¯åŠ¨åï¼Œè‡ªåŠ¨åˆå§‹åŒ–æ—¥å¿—å®¢æˆ·ç«¯å’Œ Appenderï¼Œå¹¶åŠ¨æ€æŒ‚è½½åˆ° Logback çš„æ ¹ Logger ä¸Šï¼ŒçœŸæ­£åšåˆ°â€œé…ç½®å³ç”¨â€ã€‚</li>
</ul>
<p><strong>2. ç»Ÿä¸€é…ç½®å±æ€§ - <code>ElasticsearchLoggingProperties</code></strong></p>
<p>æ‰€æœ‰é…ç½®éƒ½ä»¥<code>es.logging</code>ä¸ºå‰ç¼€ï¼Œæ¸…æ™°æ˜äº†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">es:</span>
  <span class="hljs-attr">logging:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">hosts:</span> <span class="hljs-string">localhost:9200</span>            <span class="hljs-comment"># ESé›†ç¾¤åœ°å€</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">elastic</span>                <span class="hljs-comment"># å¯é€‰ï¼Œè®¤è¯ç”¨æˆ·å</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${ES_PASSWORD}</span>         <span class="hljs-comment"># å¯é€‰ï¼Œè®¤è¯å¯†ç </span>
    <span class="hljs-attr">index:</span> <span class="hljs-string">â€œapp-logs-%%{yyyy.MM.dd}â€</span> <span class="hljs-comment"># ç´¢å¼•æ¨¡å¼ï¼Œæ”¯æŒæ—¥æœŸæ»šåŠ¨</span>
    <span class="hljs-attr">application-name:</span> <span class="hljs-string">user-service</span>    <span class="hljs-comment"># åº”ç”¨åï¼Œç”¨äºæ ‡è¯†</span>
    <span class="hljs-attr">environment:</span> <span class="hljs-string">prod</span>                <span class="hljs-comment"># ç¯å¢ƒæ ‡è¯†</span>
    <span class="hljs-attr">bulk-size:</span> <span class="hljs-number">1000</span>                  <span class="hljs-comment"># æ‰¹é‡å‘é€å¤§å°</span>
    <span class="hljs-attr">bulk-interval:</span> <span class="hljs-number">5000</span>              <span class="hljs-comment"># æ‰¹é‡å‘é€é—´éš”(ms)</span>
</code></pre>
<p><strong>3. æ—¥å¿—ä¼ è¾“æ ¸å¿ƒ - <code>ElasticsearchLogClient</code></strong></p>
<ul>
<li>å†…éƒ¨å°è£…äº† <code>RestHighLevelClient</code> å’Œ <code>BulkProcessor</code>ï¼Œè´Ÿè´£ç®¡ç†åˆ° ES çš„è¿æ¥ã€æ‰¹å¤„ç†é€»è¾‘åŠå¤±è´¥é‡è¯•ã€‚</li>
<li>å†…ç½®å¥åº·æ£€æŸ¥çº¿ç¨‹ï¼Œç¡®ä¿æ—¥å¿—ç®¡é“æŒç»­å¯ç”¨ã€‚</li>
</ul>
<p><strong>4. æ—¥å¿—æ•è·æ¡¥æ¢ - <code>ElasticsearchLogAppender</code></strong></p>
<ul>
<li>ä¸€ä¸ªè‡ªå®šä¹‰çš„ Logback Appenderï¼Œè´Ÿè´£æ‹¦æˆªæ‰€æœ‰æ—¥å¿—äº‹ä»¶ã€‚</li>
<li>å°† <code>ILoggingEvent</code> äº‹ä»¶äº¤ç»™ <code>LogEventConverter</code> è½¬æ¢ä¸ºç»“æ„åŒ–çš„ <code>EsLogDocument</code>ï¼Œç„¶åäº¤ç”± Client å¼‚æ­¥å‘é€ã€‚</li>
</ul>
<h3 data-id="heading-3">ğŸ“„ æ—¥å¿—æ•°æ®ç»“æ„</h3>
<p>å‘é€åˆ° Elasticsearch çš„æ—¥å¿—å°†è¢«è½¬æ¢æˆå¦‚ä¸‹æ ¼å¼çš„ JSON æ–‡æ¡£ï¼Œä¿¡æ¯ä¸°å¯Œï¼Œä¾¿äºæ£€ç´¢åˆ†æï¼š</p>

































































<table><thead><tr><th align="left">å­—æ®µ</th><th align="left">ç±»å‹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>@timestamp</code></td><td align="left"><code>date</code></td><td align="left">æ—¥å¿—å‘ç”Ÿæ—¶é—´ (ISO 8601 æ ¼å¼)</td></tr><tr><td align="left"><code>level</code></td><td align="left"><code>keyword</code></td><td align="left">æ—¥å¿—çº§åˆ« (INFO, ERROR, WARNç­‰)</td></tr><tr><td align="left"><code>message</code></td><td align="left"><code>text</code></td><td align="left">åŸå§‹æ—¥å¿—æ¶ˆæ¯</td></tr><tr><td align="left"><code>logger</code></td><td align="left"><code>keyword</code></td><td align="left">äº§ç”Ÿæ—¥å¿—çš„ Logger å</td></tr><tr><td align="left"><code>thread</code></td><td align="left"><code>keyword</code></td><td align="left">çº¿ç¨‹å</td></tr><tr><td align="left"><code>traceId</code> / <code>spanId</code></td><td align="left"><code>keyword</code></td><td align="left">åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªID (è‡ªåŠ¨ä»MDCè·å–)</td></tr><tr><td align="left"><code>exception</code></td><td align="left"><code>text</code></td><td align="left">å¼‚å¸¸ç±»å</td></tr><tr><td align="left"><code>stackTrace</code></td><td align="left"><code>text</code></td><td align="left">è¯¦ç»†çš„å¼‚å¸¸å †æ ˆ</td></tr><tr><td align="left"><code>application</code></td><td align="left"><code>keyword</code></td><td align="left">åº”ç”¨åç§° (æ¥è‡ªé…ç½®)</td></tr><tr><td align="left"><code>environment</code></td><td align="left"><code>keyword</code></td><td align="left">ç¯å¢ƒæ ‡è¯† (æ¥è‡ªé…ç½®)</td></tr><tr><td align="left"><code>mdc</code></td><td align="left"><code>object</code></td><td align="left">å®Œæ•´çš„ MDC ä¸Šä¸‹æ–‡æ˜ å°„</td></tr></tbody></table>
<h3 data-id="heading-4">ğŸš€ å¿«é€Ÿå¼€å§‹</h3>
<p>åªéœ€ä¸‰æ­¥ï¼Œç«‹äº«é›†ä¸­å¼æ—¥å¿—ç®¡ç†ï¼š</p>
<p><strong>1. å¼•å…¥ä¾èµ–</strong>
å°† starter æ¨¡å—æ‰“åŒ…å‘å¸ƒåˆ°ä½ çš„ç§åº“ï¼Œç„¶ååœ¨é¡¹ç›®ä¸­å¼•å…¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.lz.logging<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch-logging-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{latest-version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>2. æ·»åŠ é…ç½®</strong>
åœ¨ <code>application.yml</code> ä¸­å¯ç”¨å¹¶é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">es:</span>
  <span class="hljs-attr">logging:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">hosts:</span> <span class="hljs-string">localhost:9200</span>
    <span class="hljs-attr">application-name:</span> <span class="hljs-string">order-service</span>
    <span class="hljs-attr">environment:</span> <span class="hljs-string">dev</span>
    <span class="hljs-comment"># å…¶ä»–å‚æ•°å¯æ ¹æ®éœ€è¦è°ƒæ•´</span>
</code></pre>
<p><strong>3. æŸ¥çœ‹æ—¥å¿—</strong>
å¯åŠ¨ä½ çš„ Spring Boot åº”ç”¨ï¼Œæ—¥å¿—ä¾¿ä¼šè‡ªåŠ¨ã€é™é»˜åœ°å‘é€åˆ°æŒ‡å®šçš„ Elasticsearch é›†ç¾¤ã€‚ä½ å¯ä»¥åœ¨ Kibana ä¸­åˆ›å»ºç´¢å¼•æ¨¡å¼ <code>app-logs-*</code>ï¼Œå¼€å§‹è¿›è¡Œå¯è§†åŒ–æœç´¢å’Œåˆ†æã€‚</p>
<h3 data-id="heading-5">ğŸ’¡ è®¾è®¡æ€è€ƒ</h3>
<p>è¿™ä¸ª Starter åœ¨è®¾è®¡ä¸Šç‰¹åˆ«æ³¨é‡äº† <strong>â€œå¼€å‘è€…ä½“éªŒâ€</strong> å’Œ <strong>â€œç”Ÿäº§å¯é æ€§â€</strong>ï¼š</p>
<ul>
<li><strong>å¯¹ä¸šåŠ¡é€æ˜</strong>ï¼šå¼€å‘è€…å¯ä»¥ç»§ç»­ä½¿ç”¨ç†Ÿæ‚‰çš„ <code>log.info()</code> ç­‰æ–¹å¼æ‰“æ—¥å¿—ï¼Œæ— éœ€å…³å¿ƒæ—¥å¿—å¦‚ä½•è¢«æ”¶é›†å’Œä¼ è¾“ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šå¼‚æ­¥æ‰¹é‡æœºåˆ¶æ˜¯æ ¸å¿ƒï¼Œé¿å…äº†åŒæ­¥ç½‘ç»œIOå¯¹ä¸šåŠ¡ä¸»çº¿ç¨‹çš„é˜»å¡ã€‚</li>
<li><strong>è¿ç»´å‹å¥½</strong>ï¼šæ¸…æ™°çš„é…ç½®é¡¹å’Œå¥åº·æ£€æŸ¥æœºåˆ¶ï¼Œè®©è¿ç»´ç›‘æ§å’Œé—®é¢˜æ’æŸ¥å˜å¾—ç®€å•ã€‚</li>
</ul>
<p>å¦‚æœä½ æ­£åœ¨ä¸º Spring Boot åº”ç”¨çš„æ—¥å¿—æ”¶é›†é—®é¢˜å¯»æ‰¾ä¸€ä¸ªä¼˜é›…ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªé¡¹ç›®ã€‚ä¹Ÿæ¬¢è¿å„ä½å¼€å‘è€… Starã€Fork å’Œæ PRï¼Œå…±åŒå®Œå–„å®ƒï¼</p>
<p><strong>GitHub ä¼ é€é—¨ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliulasty%2Felasticsearch-logging-parent.git" target="_blank" title="https://github.com/liulasty/elasticsearch-logging-parent.git" ref="nofollow noopener noreferrer">github.com/liulasty/elâ€¦</a></p>
<hr/>
<p><strong>æ”¹å†™è¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong>ä¼˜åŒ–ç»“æ„ä¸å¯è¯»æ€§</strong>ï¼šé‡‡ç”¨æŠ€æœ¯ç¤¾åŒºå¸¸è§çš„å°æ ‡é¢˜ã€äº®ç‚¹åˆ—è¡¨å’Œè¡¨æ ¼ï¼Œä½¿ä¿¡æ¯å±‚çº§æ›´æ¸…æ™°ï¼Œæ–¹ä¾¿å¿«é€Ÿæµè§ˆã€‚</li>
<li><strong>å¢å¼ºå¼•å¯¼å’Œè¯­æ°”</strong>ï¼šå¼€ç¯‡ç»“å°¾è¡¥å……äº†é€‚åˆç¤¾åŒºå¹³å°çš„å¼•å¯¼å’Œäº’åŠ¨è¯­å¥ï¼Œæ•´ä½“è¯­æ°”æ›´äº²åˆ‡ã€æœ‰å·å¬åŠ›ã€‚</li>
<li><strong>è¡¥å……æŠ€æœ¯ç»†èŠ‚å’Œç¤ºä¾‹</strong>ï¼šå¢åŠ äº† Mermaid æµç¨‹å›¾å±•ç¤ºæ¶æ„ï¼Œç»†åŒ–äº†é…ç½®ç¤ºä¾‹ï¼Œå¯¹ä¸»è¦ç»„ä»¶å’Œå­—æ®µåšäº†æ›´ç›´è§‚çš„è¯´æ˜ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenCodeï¼šä½ çš„å¼€æº AI ç¼–ç¨‹åŠ©æ‰‹å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593607642552811546</link>    <guid>https://juejin.cn/post/7593607642552811546</guid>    <pubDate>2026-01-11T04:43:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593607642552811546" data-draft-id="7593607642552778778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenCodeï¼šä½ çš„å¼€æº AI ç¼–ç¨‹åŠ©æ‰‹å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-11T04:43:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç¢—ç»†é¢"/> <meta itemprop="url" content="https://juejin.cn/user/1618104611770958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenCodeï¼šä½ çš„å¼€æº AI ç¼–ç¨‹åŠ©æ‰‹å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1618104611770958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç¢—ç»†é¢
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T04:43:33.000Z" title="Sun Jan 11 2026 04:43:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><h2 data-id="heading-0">OpenCodeï¼šä½ çš„å¼€æº AI ç¼–ç¨‹åŠ©æ‰‹å®Œå…¨æŒ‡å—</h2>
<blockquote>
<p>å¼€æºã€å…è´¹ã€å¼ºå¤§ - è¿™å¯èƒ½æ˜¯ç›®å‰æœ€å€¼å¾—å°è¯•çš„ AI ç¼–ç¨‹åŠ©æ‰‹</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€OpenCode æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5edd48c5b114d0ab826a5362f9d5e24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP56KX57uG6Z2i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768711412&amp;x-signature=%2FQqQX4NY4SsMZgTcvP9mOs6CSbs%3D" alt="opencode-wordmark-simple-light.png" loading="lazy"/></p>
<p><strong>OpenCode</strong> æ˜¯ä¸€ä¸ªå¼€æºçš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ åœ¨ç»ˆç«¯ã€IDE æˆ–æ¡Œé¢åº”ç”¨ä¸­ç¼–å†™ä»£ç ã€‚ç›®å‰å·²ç»åœ¨ GitHub ä¸Šè·å¾—äº† <strong>50,000+</strong> æ˜Ÿæ ‡ï¼Œæ‹¥æœ‰ <strong>500+</strong> è´¡çŒ®è€…ï¼Œæ¯æœˆæœ‰è¶…è¿‡ <strong>65ä¸‡</strong> å¼€å‘è€…åœ¨ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒç‰¹æ€§</h4>
<p>ğŸš€ <strong>å¼€ç®±å³ç”¨</strong> - å†…ç½®å…è´¹æ¨¡å‹æˆ–è¿æ¥ä»»ä½•æä¾›å•†çš„æ¨¡å‹ï¼ˆClaudeã€GPTã€Gemini ç­‰ï¼‰</p>
<p>ğŸ’» <strong>å¤šå¹³å°æ”¯æŒ</strong> - å¯åœ¨ç»ˆç«¯ç•Œé¢ã€æ¡Œé¢åº”ç”¨æˆ– IDE æ‰©å±•ä¸­ä½¿ç”¨</p>
<p>ğŸ”€ <strong>LSP æ”¯æŒ</strong> - è‡ªåŠ¨ä¸º LLM åŠ è½½åˆé€‚çš„è¯­è¨€æœåŠ¡å™¨</p>
<p>ğŸ‘¥ <strong>å¤šä¼šè¯åä½œ</strong> - å¯ä»¥åœ¨åŒä¸€é¡¹ç›®ä¸Šå¹¶è¡Œå¯åŠ¨å¤šä¸ªä»£ç†</p>
<p>ğŸ”— <strong>åˆ†äº«åŠŸèƒ½</strong> - åˆ†äº«ä¼šè¯é“¾æ¥ä¾›å‚è€ƒæˆ–è°ƒè¯•</p>
<p>ğŸ”’ <strong>éšç§ä¼˜å…ˆ</strong> - ä¸å­˜å‚¨ä»»ä½•ä»£ç æˆ–ä¸Šä¸‹æ–‡æ•°æ®</p>
<hr/>
<h3 data-id="heading-3">äºŒã€å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-4">1. å®‰è£… OpenCode</h4>
<p>OpenCode æä¾›äº†å¤šç§å®‰è£…æ–¹å¼ï¼Œé€‰æ‹©æœ€é€‚åˆä½ çš„ï¼š</p>
<h5 data-id="heading-5">ğŸ“¥ æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://opencode.ai/install | bash
</code></pre>
<h5 data-id="heading-6">ğŸ“¦ æ–¹å¼äºŒï¼šä½¿ç”¨åŒ…ç®¡ç†å™¨</h5>
<p><strong>Node.js ç”¨æˆ·ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># npm</span>
npm install -g opencode-ai

<span class="hljs-comment"># pnpm</span>
pnpm install -g opencode-ai

<span class="hljs-comment"># Bun</span>
bun install -g opencode-ai

<span class="hljs-comment"># Yarn</span>
yarn global add opencode-ai
</code></pre>
<p><strong>macOS/Linux - Homebrewï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">brew install anomalyco/tap/opencode
</code></pre>
<p><strong>Windows - Chocolateyï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">choco install opencode
</code></pre>
<p><strong>Windows - Scoopï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">scoop bucket add extras
scoop install extras/opencode
</code></pre>
<p><strong>Arch Linux - Paruï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">paru -S opencode-bin
</code></pre>
<h4 data-id="heading-7">2. é…ç½® AI æ¨¡å‹æä¾›å•†</h4>
<p>é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½®ä¸€ä¸ª AI æ¨¡å‹æä¾›å•†ã€‚å¦‚æœä½ æ˜¯æ–°æ‰‹ï¼Œæ¨èä½¿ç”¨ <strong>OpenCode Zen</strong>ï¼ˆOpenCode å›¢é˜Ÿæµ‹è¯•å’ŒéªŒè¯çš„ç²¾é€‰æ¨¡å‹åˆ—è¡¨ï¼‰ï¼š</p>
<ol>
<li>è¿è¡Œ <code>/connect</code> å‘½ä»¤</li>
<li>é€‰æ‹© <code>opencode</code> æä¾›å•†</li>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fauth" target="_blank" title="https://opencode.ai/auth" ref="nofollow noopener noreferrer">opencode.ai/auth</a> è¿›è¡Œç™»å½•</li>
<li>æ·»åŠ ä»˜æ¬¾ä¿¡æ¯å¹¶å¤åˆ¶ API Key</li>
<li>ç²˜è´´ API Key å®Œæˆ</li>
</ol>
<p>æˆ–è€…é€‰æ‹©å…¶ä»–æä¾›å•†å¦‚ Anthropic Claudeã€OpenAI ç­‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/connect
</code></pre>
<h4 data-id="heading-8">3. åˆå§‹åŒ–é¡¹ç›®</h4>
<p>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•å¹¶è¿è¡Œ OpenCodeï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /path/to/your/project
opencode
</code></pre>
<p>ç„¶ååˆå§‹åŒ– OpenCodeï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/init
</code></pre>
<p>è¿™å°†åˆ†æä½ çš„é¡¹ç›®å¹¶åˆ›å»º <code>AGENTS.md</code> æ–‡ä»¶ï¼Œå¸®åŠ© OpenCode ç†è§£é¡¹ç›®ç»“æ„å’Œç¼–ç æ¨¡å¼ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>æç¤º</strong>ï¼šå»ºè®®å°† <code>AGENTS.md</code> æäº¤åˆ° Gitï¼Œè¿™æ · OpenCode èƒ½æ›´å¥½åœ°ç†è§£ä½ çš„é¡¹ç›®ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€ä½¿ç”¨ OpenCode - åŸºç¡€ç¯‡</h3>
<h4 data-id="heading-10">ğŸ¯ ç»ˆç«¯ç•Œé¢ï¼ˆTUIï¼‰åŸºç¡€æ“ä½œ</h4>
<p>è¿è¡Œ OpenCode åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªäº¤äº’å¼ç»ˆç«¯ç•Œé¢ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨æ“ä½œï¼š</p>
<h5 data-id="heading-11">1. æé—®å’Œè¯·æ±‚</h5>
<p>ä½ å¯ä»¥ç›´æ¥å‘ OpenCode æé—®ï¼š</p>
<pre><code class="hljs">ç»™æˆ‘ä¸€ä¸ªè¿™ä¸ªä»£ç åº“çš„å¿«é€Ÿæ€»ç»“
</code></pre>
<h5 data-id="heading-12">2. å¼•ç”¨æ–‡ä»¶ï¼ˆ@ ç¬¦å·ï¼‰</h5>
<p>ä½¿ç”¨ <code>@</code> ç¬¦å·å¯ä»¥æ¨¡ç³Šæœç´¢å¹¶å¼•ç”¨æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">@packages/functions/src/api/index.ts ä¸­çš„èº«ä»½éªŒè¯æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ
</code></pre>
<p>æ–‡ä»¶å†…å®¹ä¼šè‡ªåŠ¨æ·»åŠ åˆ°å¯¹è¯ä¸­ã€‚</p>
<h5 data-id="heading-13">3. è¿è¡Œ Bash å‘½ä»¤ï¼ˆ! ç¬¦å·ï¼‰</h5>
<p>åœ¨æ¶ˆæ¯å¼€å¤´ä½¿ç”¨ <code>!</code> è¿è¡Œ shell å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">!<span class="hljs-built_in">ls</span> -la
</code></pre>
<p>å‘½ä»¤è¾“å‡ºä¼šä½œä¸ºå·¥å…·ç»“æœæ·»åŠ åˆ°å¯¹è¯ä¸­ã€‚</p>
<h4 data-id="heading-14">âŒ¨ï¸ å¸¸ç”¨å‘½ä»¤ï¼ˆSlash Commandsï¼‰</h4>




























































<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>å¿«æ·é”®</th></tr></thead><tbody><tr><td><code>/help</code></td><td>æ˜¾ç¤ºå¸®åŠ©å¯¹è¯æ¡†</td><td><code>Ctrl+x h</code></td></tr><tr><td><code>/init</code></td><td>åˆ›å»º/æ›´æ–° AGENTS.md</td><td><code>Ctrl+x i</code></td></tr><tr><td><code>/undo</code></td><td>æ’¤é”€ä¸Šæ¬¡æ“ä½œ</td><td><code>Ctrl+x u</code></td></tr><tr><td><code>/redo</code></td><td>é‡åšæ“ä½œ</td><td><code>Ctrl+x r</code></td></tr><tr><td><code>/new</code></td><td>å¼€å§‹æ–°ä¼šè¯</td><td><code>Ctrl+x n</code></td></tr><tr><td><code>/share</code></td><td>åˆ†äº«å½“å‰ä¼šè¯</td><td><code>Ctrl+x s</code></td></tr><tr><td><code>/themes</code></td><td>åˆ—å‡ºå¯ç”¨ä¸»é¢˜</td><td><code>Ctrl+x t</code></td></tr><tr><td><code>/models</code></td><td>åˆ—å‡ºå¯ç”¨æ¨¡å‹</td><td><code>Ctrl+x m</code></td></tr><tr><td><code>/sessions</code></td><td>åˆ—å‡ºå’Œåˆ‡æ¢ä¼šè¯</td><td><code>Ctrl+x l</code></td></tr><tr><td><code>/exit</code></td><td>é€€å‡º OpenCode</td><td><code>Ctrl+x q</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-15">å››ã€ä½¿ç”¨ OpenCode - è¿›é˜¶ç¯‡</h3>
<h4 data-id="heading-16">ğŸ“‹ è®¡åˆ’æ¨¡å¼ vs æ„å»ºæ¨¡å¼</h4>
<p>OpenCode æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼Œé€šè¿‡ <code>Tab</code> é”®åˆ‡æ¢ï¼š</p>
<h5 data-id="heading-17">ğŸ¨ è®¡åˆ’æ¨¡å¼ï¼ˆPlan Modeï¼‰</h5>
<p>åœ¨è®¡åˆ’æ¨¡å¼ä¸‹ï¼ŒOpenCode ä¼šå»ºè®®å¦‚ä½•å®ç°åŠŸèƒ½ï¼Œä½†ä¸ä¼šå®é™…ä¿®æ”¹ä»£ç ã€‚é€‚åˆå¤æ‚åŠŸèƒ½çš„è§„åˆ’ã€‚</p>
<p><strong>åˆ‡æ¢åˆ°è®¡åˆ’æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab</span>&gt;</span>
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs">å½“ç”¨æˆ·åˆ é™¤ç¬”è®°æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ•°æ®åº“ä¸­å°†å…¶æ ‡è®°ä¸ºå·²åˆ é™¤ã€‚
ç„¶ååˆ›å»ºä¸€ä¸ªå±å¹•æ˜¾ç¤ºæ‰€æœ‰æœ€è¿‘åˆ é™¤çš„ç¬”è®°ã€‚
ä»è¿™ä¸ªå±å¹•ï¼Œç”¨æˆ·å¯ä»¥æ¢å¤ç¬”è®°æˆ–æ°¸ä¹…åˆ é™¤å®ƒã€‚
</code></pre>
<h5 data-id="heading-18">ğŸ”¨ æ„å»ºæ¨¡å¼ï¼ˆBuild Modeï¼‰</h5>
<p>è¿™æ˜¯é»˜è®¤æ¨¡å¼ï¼ŒOpenCode ä¼šå®é™…æ‰§è¡Œä»£ç ä¿®æ”¹ã€‚</p>
<p><strong>åˆ‡æ¢å›æ„å»ºæ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab</span>&gt;</span>
</code></pre>
<p><strong>æ‰§è¡Œè®¡åˆ’ï¼š</strong></p>
<pre><code class="hljs">å¬èµ·æ¥ä¸é”™ï¼å¼€å§‹æ‰§è¡Œæ›´æ”¹å§ã€‚
</code></pre>
<h4 data-id="heading-19">ğŸ”„ æ’¤é”€å’Œé‡åš</h4>
<p>å¦‚æœä½ å¯¹ OpenCode åšçš„ä¿®æ”¹ä¸æ»¡æ„ï¼š</p>
<p><strong>æ’¤é”€ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">/undo
</code></pre>
<p><strong>é‡åšï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">/redo
</code></pre>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæ’¤é”€/é‡åšåŠŸèƒ½ä¾èµ–äº Gitï¼Œæ‰€ä»¥ä½ çš„é¡¹ç›®éœ€è¦æ˜¯ Git ä»“åº“ã€‚</p>
</blockquote>
<h4 data-id="heading-20">ğŸ“¤ åˆ†äº«ä¼šè¯</h4>
<p>ä¸å›¢é˜Ÿæˆå‘˜åˆ†äº«å¯¹è¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/share
</code></pre>
<p>è¿™ä¼šåˆ›å»ºä¸€ä¸ªé“¾æ¥å¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚ä¾‹å¦‚ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fs%2F4XP1fce5" target="_blank" title="https://opencode.ai/s/4XP1fce5" ref="nofollow noopener noreferrer">opencode.ai/s/4XP1fce5</a></p>
<blockquote>
<p>ğŸ“Œ <strong>éšç§æç¤º</strong>ï¼šä¼šè¯é»˜è®¤ä¸å…±äº«ï¼Œåªæœ‰ä½ ä¸»åŠ¨è°ƒç”¨ <code>/share</code> æ‰ä¼šåˆ›å»ºå…±äº«é“¾æ¥ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-21">äº”ã€åœ¨ IDE ä¸­ä½¿ç”¨</h3>
<p>OpenCode æ”¯æŒåœ¨ VS Codeã€Cursor ç­‰ IDE ä¸­ä½¿ç”¨ï¼š</p>
<h4 data-id="heading-22">å®‰è£… IDE æ‰©å±•</h4>
<p>åœ¨ VS Code çš„é›†æˆç»ˆç«¯ä¸­è¿è¡Œ <code>opencode</code>ï¼Œæ‰©å±•ä¼šè‡ªåŠ¨å®‰è£…ã€‚</p>
<p>æˆ–è€…æ‰‹åŠ¨å®‰è£…ï¼šåœ¨æ‰©å±•å¸‚åœºæœç´¢ "OpenCode" å¹¶å®‰è£…ã€‚</p>
<h4 data-id="heading-23">IDE å¿«æ·é”®</h4>





















<table><thead><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>Cmd+Esc</code> (Mac) / <code>Ctrl+Esc</code> (Win/Linux)</td><td>æ‰“å¼€/èšç„¦ OpenCode</td></tr><tr><td><code>Cmd+Shift+Esc</code> (Mac) / <code>Ctrl+Shift+Esc</code> (Win/Linux)</td><td>å¯åŠ¨æ–°ä¼šè¯</td></tr><tr><td><code>Cmd+Option+K</code> (Mac) / <code>Alt+Ctrl+K</code> (Win/Linux)</td><td>æ’å…¥æ–‡ä»¶å¼•ç”¨</td></tr></tbody></table>
<h4 data-id="heading-24">ä¸Šä¸‹æ–‡æ„ŸçŸ¥</h4>
<ul>
<li>è‡ªåŠ¨å…±äº«å½“å‰é€‰ä¸­çš„å†…å®¹æˆ–æ ‡ç­¾é¡µ</li>
<li>æ”¯æŒæ‹–æ‹½å›¾ç‰‡åˆ°ç»ˆç«¯</li>
<li>æ”¯æŒå¤šä¼šè¯å¹¶è¡Œå·¥ä½œ</li>
</ul>
<hr/>
<h3 data-id="heading-25">å…­ã€å‘½ä»¤è¡Œé«˜çº§ç”¨æ³•</h3>
<p>é™¤äº†äº¤äº’å¼ TUIï¼ŒOpenCode è¿˜æä¾›äº†å¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼š</p>
<h4 data-id="heading-26">ğŸ” åˆ—å‡ºå¯ç”¨æ¨¡å‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰æä¾›å•†çš„æ¨¡å‹</span>
opencode models

<span class="hljs-comment"># åˆ—å‡ºç‰¹å®šæä¾›å•†çš„æ¨¡å‹</span>
opencode models anthropic

<span class="hljs-comment"># åˆ·æ–°æ¨¡å‹ç¼“å­˜</span>
opencode models --refresh
</code></pre>
<h4 data-id="heading-27">âš¡ å¿«é€Ÿæ‰§è¡Œå‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸å¯åŠ¨ TUIï¼Œç›´æ¥æ‰§è¡Œå‘½ä»¤</span>
opencode run <span class="hljs-string">"è§£é‡Š JavaScript ä¸­çš„é—­åŒ…"</span>

<span class="hljs-comment"># ä½¿ç”¨ç‰¹å®šæ¨¡å‹</span>
opencode run -m anthropic/claude-3-opus <span class="hljs-string">"è§£é‡Š Go çš„ä¸Šä¸‹æ–‡"</span>

<span class="hljs-comment"># é™„åŠ æ–‡ä»¶</span>
opencode run -f src/main.js <span class="hljs-string">"ä¼˜åŒ–è¿™ä¸ªæ–‡ä»¶"</span>
</code></pre>
<h4 data-id="heading-28">ğŸ“Š æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯</span>
opencode stats

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ 7 å¤©çš„ç»Ÿè®¡</span>
opencode stats --days 7

<span class="hljs-comment"># æŒ‰é¡¹ç›®ç­›é€‰</span>
opencode stats --project my-project
</code></pre>
<h4 data-id="heading-29">ğŸ”„ ä¼šè¯ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰ä¼šè¯</span>
opencode session list

<span class="hljs-comment"># å¯¼å‡ºä¼šè¯</span>
opencode <span class="hljs-built_in">export</span> &lt;sessionID&gt;

<span class="hljs-comment"># å¯¼å…¥ä¼šè¯</span>
opencode import session.json
<span class="hljs-comment"># æˆ–ä» URL å¯¼å…¥</span>
opencode import https://opencode.ai/s/abc123
</code></pre>
<h4 data-id="heading-30">ğŸŒ å¯åŠ¨ Web æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨ Web ç•Œé¢</span>
opencode web

<span class="hljs-comment"># æŒ‡å®šç«¯å£å’Œä¸»æœº</span>
opencode web --port 4096 --hostname 0.0.0.0
</code></pre>
<h4 data-id="heading-31">ğŸ“¡ å¯åŠ¨åç«¯æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨æ— å¤´æœåŠ¡å™¨</span>
opencode serve

<span class="hljs-comment"># è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨</span>
opencode attach http://10.20.30.40:4096
</code></pre>
<hr/>
<h3 data-id="heading-32">ä¸ƒã€é…ç½®å’Œå®šåˆ¶</h3>
<h4 data-id="heading-33">ğŸ“ é…ç½®æ–‡ä»¶</h4>
<p>OpenCode çš„é…ç½®æ–‡ä»¶ä½äºï¼š</p>
<ul>
<li><strong>é…ç½®æ–‡ä»¶</strong>ï¼š<code>~/.config/opencode/opencode.json</code></li>
<li><strong>æ•°æ®ç›®å½•</strong>ï¼š<code>~/.local/share/opencode/</code></li>
</ul>
<h4 data-id="heading-34">ğŸ¨ ä¸»é¢˜å®šåˆ¶</h4>
<p>åœ¨ TUI ä¸­åˆ‡æ¢ä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/themes
</code></pre>
<h4 data-id="heading-35">âŒ¨ï¸ è‡ªå®šä¹‰å¿«æ·é”®</h4>
<p>é»˜è®¤å¿«æ·é”®å‰ç¼€æ˜¯ <code>Ctrl+x</code>ã€‚ä½ å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰ã€‚</p>
<h4 data-id="heading-36">ğŸ“ é…ç½®ä»£ç æ ¼å¼åŒ–å™¨</h4>
<p>OpenCode æ”¯æŒå¤šç§ä»£ç æ ¼å¼åŒ–å™¨ï¼Œç¡®ä¿è‡ªåŠ¨ä¿®æ”¹çš„ä»£ç ç¬¦åˆä½ çš„é¡¹ç›®é£æ ¼ã€‚</p>
<h4 data-id="heading-37">ğŸ”§ è‡ªå®šä¹‰å·¥å…·å’Œè§„åˆ™</h4>
<p>é€šè¿‡é…ç½®æ–‡ä»¶å¯ä»¥ï¼š</p>
<ul>
<li>æ·»åŠ è‡ªå®šä¹‰å·¥å…·</li>
<li>è®¾ç½®é¡¹ç›®è§„åˆ™</li>
<li>é…ç½®ä»£ç†è¡Œä¸º</li>
<li>è®¾ç½® LSP æœåŠ¡å™¨</li>
</ul>
<hr/>
<h3 data-id="heading-38">å…«ã€å®ç”¨æŠ€å·§</h3>
<h4 data-id="heading-39">ğŸ’¡ 1. ç»™ OpenCode è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡</h4>
<p>åƒå’Œåˆçº§å¼€å‘è€…å¯¹è¯ä¸€æ ·ï¼Œæä¾›è¯¦ç»†çš„è¯´æ˜å’Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æˆ‘ä»¬éœ€è¦ç»™ /settings è·¯ç”±æ·»åŠ èº«ä»½éªŒè¯ã€‚
å‚è€ƒ @packages/functions/src/notes.ts ä¸­ /notes è·¯ç”±çš„å®ç°æ–¹å¼ï¼Œ
åœ¨ @packages/functions/src/settings.ts ä¸­å®ç°ç›¸åŒçš„é€»è¾‘ã€‚
</code></pre>
<h4 data-id="heading-40">ğŸ’¡ 2. ä½¿ç”¨å›¾ç‰‡è¾…åŠ©</h4>
<p>æ‹–æ‹½è®¾è®¡å›¾åˆ°ç»ˆç«¯ï¼Œè®© OpenCode å‚è€ƒè®¾è®¡å®ç°åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-css" lang="css">æŸ¥çœ‹è¿™å¼ å›¾ç‰‡å¹¶å‚è€ƒå®ƒæ¥è®¾è®¡æ–°å±å¹•ï¼š
<span class="hljs-selector-attr">[å›¾ç‰‡]</span>

ä½¿ç”¨ç›¸åŒçš„è®¾è®¡é£æ ¼å®ç°ç”¨æˆ·èµ„æ–™é¡µé¢ã€‚
</code></pre>
<h4 data-id="heading-41">ğŸ’¡ 3. å…ˆè®¡åˆ’åæ‰§è¡Œ</h4>
<p>å¯¹äºå¤æ‚åŠŸèƒ½ï¼Œå…ˆåˆ‡æ¢åˆ°è®¡åˆ’æ¨¡å¼ï¼Œè®© OpenCode æä¾›å®ç°æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">&lt;Tab&gt;  <span class="hljs-comment"># åˆ‡æ¢åˆ°è®¡åˆ’æ¨¡å¼</span>
è®¾è®¡ä¸€ä¸ªæ”¯æŒåˆ†é¡µã€æœç´¢å’Œè¿‡æ»¤çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ...
</code></pre>
<p>ç¡®è®¤æ–¹æ¡ˆåå†åˆ‡æ¢åˆ°æ„å»ºæ¨¡å¼æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">&lt;Tab&gt;  <span class="hljs-comment"># åˆ‡æ¢åˆ°æ„å»ºæ¨¡å¼</span>
å¼€å§‹å®ç°ï¼
</code></pre>
<h4 data-id="heading-42">ğŸ’¡ 4. è®¾ç½®å¤–éƒ¨ç¼–è¾‘å™¨</h4>
<p>é…ç½® <code>EDITOR</code> ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿åœ¨ <code>/editor</code> å’Œ <code>/export</code> å‘½ä»¤ä¸­ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ï¼š</p>
<p><strong>macOS/Linux (zsh):</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.zshrc</span>
<span class="hljs-built_in">export</span> EDITOR=<span class="hljs-string">"code --wait"</span>  <span class="hljs-comment"># VS Code</span>
<span class="hljs-comment"># export EDITOR="nvim"       # Neovim</span>
</code></pre>
<p><strong>Windows (PowerShell):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># PowerShell Profile
$env:EDITOR = "code --wait"
</code></pre>
<h4 data-id="heading-43">ğŸ’¡ 5. å¤šä¼šè¯å¹¶è¡Œ</h4>
<p>åŒæ—¶å¯åŠ¨å¤šä¸ª OpenCode ä¼šè¯ï¼Œå¤„ç†ä¸åŒçš„ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯ 1</span>
opencode
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯ 2</span>
opencode
</code></pre>
<p>ä½¿ç”¨ <code>/sessions</code> å‘½ä»¤åœ¨ä¸åŒä¼šè¯é—´åˆ‡æ¢ã€‚</p>
<hr/>
<h3 data-id="heading-44">ä¹ã€å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-45">â“ OpenCode æ˜¯å…è´¹çš„å—ï¼Ÿ</h4>
<p>æ˜¯çš„ï¼ŒOpenCode æœ¬èº«æ˜¯å…è´¹å¼€æºçš„ã€‚ä½†ä½ éœ€è¦ä¸ºä½¿ç”¨çš„ AI æ¨¡å‹ä»˜è´¹ã€‚OpenCode Zen æä¾›äº†ç»è¿‡ä¼˜åŒ–çš„æ¨¡å‹é€‰æ‹©ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–æä¾›å•†ã€‚</p>
<h4 data-id="heading-46">â“ å¯ä»¥ä½¿ç”¨æˆ‘å·²æœ‰çš„ AI è®¢é˜…å—ï¼Ÿ</h4>
<p>å¯ä»¥ï¼OpenCode æ”¯æŒè¿æ¥ 75+ LLM æä¾›å•†ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Anthropic Claudeï¼ˆåŒ…æ‹¬ Claude Pro/Maxï¼‰</li>
<li>OpenAI GPT ç³»åˆ—</li>
<li>Google Gemini</li>
<li>ä»¥åŠæ›´å¤šæœ¬åœ°å’Œäº‘ç«¯æ¨¡å‹</li>
</ul>
<h4 data-id="heading-47">â“ æ•°æ®ä¼šå­˜å‚¨åœ¨ OpenCode æœåŠ¡å™¨å—ï¼Ÿ</h4>
<p>ä¸ä¼šã€‚OpenCode ä¸å­˜å‚¨ä»»ä½•ä»£ç æˆ–ä¸Šä¸‹æ–‡æ•°æ®ï¼Œç¡®ä¿åœ¨æ•æ„Ÿç¯å¢ƒä¸­ä½¿ç”¨æ—¶çš„éšç§å®‰å…¨ã€‚</p>
<h4 data-id="heading-48">â“ æ”¯æŒå“ªäº›ç¼–è¾‘å™¨ï¼Ÿ</h4>
<ul>
<li>ç»ˆç«¯ç•Œé¢ï¼ˆTUIï¼‰</li>
<li>æ¡Œé¢åº”ç”¨ï¼ˆBetaï¼‰</li>
<li>VS Codeã€Cursorã€Windsurfã€VSCodium ç­‰ IDE</li>
<li>ä»»ä½•æ”¯æŒç»ˆç«¯çš„ç¼–è¾‘å™¨</li>
</ul>
<hr/>
<h3 data-id="heading-49">åã€èµ„æºé“¾æ¥</h3>
<p>ğŸŒ <strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai" target="_blank" title="https://opencode.ai" ref="nofollow noopener noreferrer">opencode.ai</a></p>
<p>ğŸ“š <strong>æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdocs" target="_blank" title="https://opencode.ai/docs" ref="nofollow noopener noreferrer">opencode.ai/docs</a></p>
<p>ğŸ™ <strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanomalyco%2Fopencode" target="_blank" title="https://github.com/anomalyco/opencode" ref="nofollow noopener noreferrer">github.com/anomalyco/oâ€¦</a></p>
<p>ğŸ’¬ <strong>Discord ç¤¾åŒº</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdiscord" target="_blank" title="https://opencode.ai/discord" ref="nofollow noopener noreferrer">opencode.ai/discord</a></p>
<p>ğŸ”§ <strong>æ¨¡å‹ç›®å½•</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodels.dev" target="_blank" title="https://models.dev" ref="nofollow noopener noreferrer">models.dev</a></p>
<hr/>
<h3 data-id="heading-50">ç»“è¯­</h3>
<p>OpenCode æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€çµæ´»çš„å¼€æº AI ç¼–ç¨‹åŠ©æ‰‹ã€‚æ— è®ºä½ æ˜¯æƒ³åŠ é€Ÿå¼€å‘ã€å­¦ä¹ ä»£ç åº“ï¼Œè¿˜æ˜¯è‡ªåŠ¨åŒ–é‡å¤ä»»åŠ¡ï¼ŒOpenCode éƒ½èƒ½æä¾›å¸®åŠ©ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒå°Šé‡ä½ çš„éšç§ï¼Œä¸å­˜å‚¨ä½ çš„ä»£ç ï¼ŒåŒæ—¶æ”¯æŒå‡ ä¹æ‰€æœ‰ä¸»æµçš„ AI æ¨¡å‹å’Œå¼€å‘ç¯å¢ƒã€‚</p>
<p>ç°åœ¨å°±å¼€å§‹å°è¯•å§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://opencode.ai/install | bash
opencode
</code></pre>
<blockquote>
<p>ğŸ‰ <strong>Happy Coding with OpenCode!</strong></p>
</blockquote>
<hr/>
<p><strong>æœ¬æ–‡ä¿¡æ¯åŸºäº OpenCode å®˜æ–¹æ–‡æ¡£ï¼Œå¦‚æœ‰æ›´æ–°è¯·ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Claude Code çš„ pptx-skills æŠ€èƒ½ç”Ÿæˆç²¾ç¾ EVA ä¸»é¢˜ PPT å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593311807587483654</link>    <guid>https://juejin.cn/post/7593311807587483654</guid>    <pubDate>2026-01-11T07:07:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593311807587483654" data-draft-id="7593358143690801215" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Claude Code çš„ pptx-skills æŠ€èƒ½ç”Ÿæˆç²¾ç¾ EVA ä¸»é¢˜ PPT å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Claude,Agent,AIGC"/> <meta itemprop="datePublished" content="2026-01-11T07:07:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Miku16"/> <meta itemprop="url" content="https://juejin.cn/user/525983678469801"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Claude Code çš„ pptx-skills æŠ€èƒ½ç”Ÿæˆç²¾ç¾ EVA ä¸»é¢˜ PPT å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/525983678469801/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Miku16
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T07:07:09.000Z" title="Sun Jan 11 2026 07:07:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ¬æ–‡è¯¦ç»†è®°å½•äº†ä½¿ç”¨ Claude Code çš„ <code>pptx-skills</code> æŠ€èƒ½ï¼Œä»é›¶å¼€å§‹ç”Ÿæˆä¸€å¥—ç²¾ç¾çš„ã€Šæ–°ä¸–çºªç¦éŸ³æˆ˜å£«ã€‹(EVA) ä¸»é¢˜ PowerPoint æ¼”ç¤ºæ–‡ç¨¿çš„å®Œæ•´è¿‡ç¨‹ã€‚ç»è¿‡ 4 ä¸ªç‰ˆæœ¬çš„è¿­ä»£ä¼˜åŒ–ï¼Œæœ€ç»ˆäº§å‡ºäº†ä¸€å¥—å…·æœ‰ä¸“ä¸šè®¾è®¡æ°´å‡†çš„ 8 é¡µ PPTã€‚</p>
<h2 data-id="heading-1">ç›¸å…³é“¾æ¥</h2>
<p>æœ¬ä»“åº“é“¾æ¥</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2F16Miku%2FClaude-Skills-Test" target="_blank" title="https://github.com/16Miku/Claude-Skills-Test" ref="nofollow noopener noreferrer">github.com/16Miku/Clauâ€¦</a></p>
<p>ä½¿ç”¨åˆ°çš„pptx-skills</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills%2Ftree%2Fmaster%2Fdocument-skills%2Fpptx" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills/tree/master/document-skills/pptx" ref="nofollow noopener noreferrer">github.com/ComposioHQ/â€¦</a></p>
<h2 data-id="heading-2">ç›®å½•</h2>
<ol>
<li><a href="#%E6%8A%80%E6%9C%AF%E6%A0%88%E4%BB%8B%E7%BB%8D" title="#%E6%8A%80%E6%9C%AF%E6%A0%88%E4%BB%8B%E7%BB%8D">æŠ€æœ¯æ ˆä»‹ç»</a></li>
<li><a href="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96" title="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96">é¡¹ç›®åˆå§‹åŒ–</a></li>
<li><a href="#v1-%E7%89%88%E6%9C%AC%E8%8B%B1%E6%96%87%E5%8E%9F%E5%9E%8B" title="#v1-%E7%89%88%E6%9C%AC%E8%8B%B1%E6%96%87%E5%8E%9F%E5%9E%8B">V1 ç‰ˆæœ¬ï¼šè‹±æ–‡åŸå‹</a></li>
<li><a href="#v2-%E7%89%88%E6%9C%AC%E4%B8%AD%E6%96%87%E5%8C%96%E4%B8%8E%E5%9B%BE%E7%89%87%E9%9B%86%E6%88%90" title="#v2-%E7%89%88%E6%9C%AC%E4%B8%AD%E6%96%87%E5%8C%96%E4%B8%8E%E5%9B%BE%E7%89%87%E9%9B%86%E6%88%90">V2 ç‰ˆæœ¬ï¼šä¸­æ–‡åŒ–ä¸å›¾ç‰‡é›†æˆ</a></li>
<li><a href="#v3-%E7%89%88%E6%9C%AC%E5%B8%83%E5%B1%80%E4%BF%AE%E5%A4%8D%E4%B8%8E%E7%BE%8E%E5%8C%96" title="#v3-%E7%89%88%E6%9C%AC%E5%B8%83%E5%B1%80%E4%BF%AE%E5%A4%8D%E4%B8%8E%E7%BE%8E%E5%8C%96">V3 ç‰ˆæœ¬ï¼šå¸ƒå±€ä¿®å¤ä¸ç¾åŒ–</a></li>
<li><a href="#v4-%E7%89%88%E6%9C%AC%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%AE%BE%E8%AE%A1%E9%87%8D%E6%9E%84" title="#v4-%E7%89%88%E6%9C%AC%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%AE%BE%E8%AE%A1%E9%87%8D%E6%9E%84">V4 ç‰ˆæœ¬ï¼šä¸“ä¸šçº§è®¾è®¡é‡æ„</a></li>
<li><a href="#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" title="#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="#%E6%9C%80%E7%BB%88%E6%88%90%E6%9E%9C%E5%B1%95%E7%A4%BA" title="#%E6%9C%80%E7%BB%88%E6%88%90%E6%9E%9C%E5%B1%95%E7%A4%BA">æœ€ç»ˆæˆæœå±•ç¤º</a></li>
<li><a href="#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB" title="#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB">æ‰§è¡Œå‘½ä»¤æ±‡æ€»</a></li>
<li><a href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E5%BF%83%E5%BE%97" title="#%E6%80%BB%E7%BB%93%E4%B8%8E%E5%BF%83%E5%BE%97">æ€»ç»“ä¸å¿ƒå¾—</a></li>
</ol>
<hr/>
<h2 data-id="heading-3">æŠ€æœ¯æ ˆä»‹ç»</h2>
<h3 data-id="heading-4">pptx-skills å·¥ä½œæµç¨‹</h3>
<p><code>pptx-skills</code> æ˜¯ Claude Code çš„ä¸€ä¸ªå†…ç½®æŠ€èƒ½ï¼Œé‡‡ç”¨ <strong>html2pptx</strong> å·¥ä½œæµï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span>/CSS è®¾è®¡ â†’ Playwright æ¸²æŸ“ â†’ å…ƒç´ ä½ç½®æå– â†’ PptxGenJS ç”Ÿæˆ PPTX
</code></pre>
<p><strong>æ ¸å¿ƒç»„ä»¶ï¼š</strong></p>

























<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>HTML/CSS</strong></td><td>è®¾è®¡å¹»ç¯ç‰‡å¸ƒå±€å’Œæ ·å¼</td></tr><tr><td><strong>Playwright</strong></td><td>æ— å¤´æµè§ˆå™¨ï¼Œæ¸²æŸ“ HTML å¹¶æå–å…ƒç´ ä½ç½®</td></tr><tr><td><strong>PptxGenJS</strong></td><td>Node.js åº“ï¼Œç”Ÿæˆ .pptx æ–‡ä»¶</td></tr><tr><td><strong>Sharp</strong></td><td>å›¾åƒå¤„ç†åº“ï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<p><strong>å…³é”®çº¦æŸï¼š</strong></p>
<ul>
<li>å¹»ç¯ç‰‡å°ºå¯¸ï¼š720pt Ã— 405ptï¼ˆ16:9 æ¯”ä¾‹ï¼‰</li>
<li>å®‰å…¨è¾¹è·ï¼šè·ç¦»è¾¹ç¼˜è‡³å°‘ 0.5 è‹±å¯¸ï¼ˆ36ptï¼‰</li>
<li>ä¸æ”¯æŒ CSS æ¸å˜ï¼ˆéœ€ç”¨çº¯è‰²æˆ–é¢„æ¸²æŸ“å›¾ç‰‡æ›¿ä»£ï¼‰</li>
<li>æ–‡æœ¬å…ƒç´ ï¼ˆ<code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code> ç­‰ï¼‰ä¸æ”¯æŒ border å±æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-5">é¡¹ç›®åˆå§‹åŒ–</h2>
<h3 data-id="heading-6">1. åˆ›å»ºé¡¹ç›®ç›®å½•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> ppt-test
<span class="hljs-built_in">cd</span> ppt-test
</code></pre>
<h3 data-id="heading-7">2. åˆå§‹åŒ– Node.js é¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash">npm init -y
npm install pptxgenjs playwright sharp
</code></pre>
<h3 data-id="heading-8">3. å®‰è£… Playwright æµè§ˆå™¨</h3>
<pre><code class="hljs language-bash" lang="bash">npx playwright install chromium
</code></pre>
<p><strong>é‡åˆ°çš„é—®é¢˜ï¼š</strong> é¦–æ¬¡è¿è¡Œæ—¶æŠ¥é”™ "Executable doesn't exist"ï¼ŒåŸå› æ˜¯ Playwright éœ€è¦å•ç‹¬ä¸‹è½½æµè§ˆå™¨äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-9">V1 ç‰ˆæœ¬ï¼šè‹±æ–‡åŸå‹</h2>
<h3 data-id="heading-10">è®¾è®¡ç›®æ ‡</h3>
<p>åˆ›å»ºä¸€å¥—åŸºç¡€çš„ EVA ä¸»é¢˜ PPTï¼ŒåŒ…å« 8 å¼ å¹»ç¯ç‰‡ï¼š</p>
<ol>
<li>æ ‡é¢˜é¡µ (Title)</li>
<li>æ•…äº‹æ¦‚è¿° (Story)</li>
<li>ä¸»è¦è§’è‰² (Characters)</li>
<li>EVA æœºä½“ (EVA Units)</li>
<li>æ ¸å¿ƒä¸»é¢˜ (Themes)</li>
<li>ç³»åˆ—å¹´è¡¨ (Timeline)</li>
<li>æ–‡åŒ–å½±å“ (Impact)</li>
<li>æ„Ÿè°¢é¡µ (Thanks)</li>
</ol>
<h3 data-id="heading-11">HTML æ¨¡æ¿ç»“æ„</h3>
<p>æ¯ä¸ªå¹»ç¯ç‰‡éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ HTML æ–‡ä»¶ï¼ŒåŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">html</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#ffffff</span>; }
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">720pt</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">405pt</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#1a0a2e</span>;
  <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
}
<span class="hljs-comment">/* å…·ä½“æ ·å¼... */</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å†…å®¹å…ƒç´  --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">ç”Ÿæˆè„šæœ¬ (create-ppt.js)</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> pptxgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pptxgenjs'</span>);
<span class="hljs-keyword">const</span> html2pptx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path/to/html2pptx.js'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createPresentation</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> pptx = <span class="hljs-keyword">new</span> <span class="hljs-title function_">pptxgen</span>();
    pptx.<span class="hljs-property">layout</span> = <span class="hljs-string">'LAYOUT_16x9'</span>;

    <span class="hljs-keyword">const</span> slides = [
        <span class="hljs-string">'slide1-title.html'</span>,
        <span class="hljs-string">'slide2-story.html'</span>,
        <span class="hljs-comment">// ...</span>
    ];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> slideFile <span class="hljs-keyword">of</span> slides) {
        <span class="hljs-keyword">await</span> <span class="hljs-title function_">html2pptx</span>(path.<span class="hljs-title function_">join</span>(__dirname, slideFile), pptx);
    }

    <span class="hljs-keyword">await</span> pptx.<span class="hljs-title function_">writeFile</span>({ <span class="hljs-attr">fileName</span>: <span class="hljs-string">'output.pptx'</span> });
}

<span class="hljs-title function_">createPresentation</span>();
</code></pre>
<h3 data-id="heading-13">V1 æˆæœ</h3>
<ul>
<li>æˆåŠŸç”Ÿæˆ 8 é¡µè‹±æ–‡ PPT</li>
<li>é‡‡ç”¨æ·±ç´«è‰² + é’è‰² + çº¢è‰²çš„ NERV é…è‰²æ–¹æ¡ˆ</li>
<li>åŸºç¡€å¸ƒå±€å®Œæˆ</li>
</ul>
<hr/>
<h2 data-id="heading-14">V2 ç‰ˆæœ¬ï¼šä¸­æ–‡åŒ–ä¸å›¾ç‰‡é›†æˆ</h2>
<h3 data-id="heading-15">æ”¹è¿›å†…å®¹</h3>
<ol>
<li><strong>å…¨éƒ¨å†…å®¹ç¿»è¯‘ä¸ºä¸­æ–‡</strong></li>
<li><strong>ä¿®å¤è§’è‰²é¡µæ–‡å­—æº¢å‡ºé—®é¢˜</strong></li>
<li><strong>å°è¯•é›†æˆè§’è‰²å›¾ç‰‡</strong></li>
</ol>
<h3 data-id="heading-16">å›¾ç‰‡é›†æˆçš„æŒ‘æˆ˜</h3>
<p>æœ€åˆå°è¯•åœ¨ HTML ä¸­ç›´æ¥ä½¿ç”¨ <code>&lt;img&gt;</code> æ ‡ç­¾æˆ– <code>background-image</code>ï¼Œä½†é‡åˆ°äº†é—®é¢˜ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¿™ç§æ–¹å¼åœ¨ Windows ä¸Šæœ‰è·¯å¾„ç¼–ç é—®é¢˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"file:///A:/study/.../images/çœŸå—£.png"</span>&gt;</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šæ··åˆæ¨¡å¼</strong></p>
<p>é‡‡ç”¨"HTML å¸ƒå±€ + API æ’å…¥å›¾ç‰‡"çš„æ··åˆæ–¹æ¡ˆï¼š</p>
<ol>
<li>HTML ä¸­ä½¿ç”¨å ä½ç¬¦ <code>&lt;div class="char-img-placeholder"&gt;</code></li>
<li>ç”Ÿæˆè„šæœ¬ä¸­ä½¿ç”¨ PptxGenJS API æ’å…¥å›¾ç‰‡</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨è§’è‰²é¡µé¢æ·»åŠ å›¾ç‰‡</span>
<span class="hljs-keyword">if</span> (characterSlide) {
    <span class="hljs-keyword">const</span> images = [
        { <span class="hljs-attr">file</span>: <span class="hljs-string">'shinji.png'</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">0.83</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1.32</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">1.71</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">1.14</span> },
        <span class="hljs-comment">// ...</span>
    ];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> img <span class="hljs-keyword">of</span> images) {
        characterSlide.<span class="hljs-title function_">addImage</span>({
            <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">join</span>(imagesDir, img.<span class="hljs-property">file</span>),
            <span class="hljs-attr">x</span>: img.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: img.<span class="hljs-property">y</span>, <span class="hljs-attr">w</span>: img.<span class="hljs-property">w</span>, <span class="hljs-attr">h</span>: img.<span class="hljs-property">h</span>
        });
    }
}
</code></pre>
<h3 data-id="heading-17">åæ ‡è®¡ç®—</h3>
<p>å›¾ç‰‡ä½ç½®éœ€è¦ç²¾ç¡®è®¡ç®—ï¼Œè½¬æ¢å…¬å¼ï¼š</p>
<pre><code class="hljs">è‹±å¯¸ = ç‚¹æ•° / 72
</code></pre>
<p>ä¾‹å¦‚ï¼Œå¡ç‰‡ä½äº <code>left: 50pt, top: 85pt</code>ï¼Œå†…è¾¹è· <code>10pt</code>ï¼š</p>
<ul>
<li>å›¾ç‰‡ X = (50 + 10) / 72 = 0.83 è‹±å¯¸</li>
<li>å›¾ç‰‡ Y = (85 + 10) / 72 = 1.32 è‹±å¯¸</li>
</ul>
<hr/>
<h2 data-id="heading-18">V3 ç‰ˆæœ¬ï¼šå¸ƒå±€ä¿®å¤ä¸ç¾åŒ–</h2>
<h3 data-id="heading-19">ç”¨æˆ·åé¦ˆ</h3>
<p>ç”¨æˆ·æä¾›äº† V2 ç‰ˆæœ¬çš„æˆªå›¾ï¼ŒæŒ‡å‡ºä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>è§’è‰²å›¾ç‰‡ä½ç½®ä¸å¡ç‰‡ä¸å¯¹é½</li>
<li>éƒ¨åˆ†é¡µé¢æ–‡å­—æº¢å‡º</li>
<li>æ•´ä½“è®¾è®¡ä¸å¤Ÿç²¾è‡´</li>
</ul>
<h3 data-id="heading-20">æ”¹è¿›æªæ–½</h3>
<ol>
<li><strong>é‡æ–°è®¡ç®—å›¾ç‰‡åæ ‡</strong></li>
<li><strong>è°ƒæ•´å¡ç‰‡å°ºå¯¸å’Œé—´è·</strong></li>
<li><strong>ä¼˜åŒ–é…è‰²æ–¹æ¡ˆ</strong></li>
</ol>
<h3 data-id="heading-21">éªŒè¯é”™è¯¯å¤„ç†</h3>
<p>html2pptx å·¥å…·æœ‰ä¸¥æ ¼çš„éªŒè¯æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">Error:</span> <span class="hljs-keyword">Text</span> box ... ends too close <span class="hljs-keyword">to</span> bottom edge
</code></pre>
<p><strong>è§£å†³æ–¹æ³•ï¼š</strong> å‡å° paddingã€è°ƒæ•´ font-sizeã€ç¡®ä¿å†…å®¹åœ¨å®‰å…¨åŒºåŸŸå†…ã€‚</p>
<hr/>
<h2 data-id="heading-22">V4 ç‰ˆæœ¬ï¼šä¸“ä¸šçº§è®¾è®¡é‡æ„</h2>
<h3 data-id="heading-23">è®¾è®¡åˆ†æ</h3>
<p>ä½œä¸º"èµ„æ·±è®¾è®¡å¸ˆ"å¯¹ V3 è¿›è¡Œåˆ†æï¼š</p>
<p><strong>é—®é¢˜è¯Šæ–­ï¼š</strong></p>
<ol>
<li>æ ‡é¢˜é¡µå’Œç»“æŸé¡µçš„åŒè‰²åˆ†å‰²èƒŒæ™¯è¿‡äºç”Ÿç¡¬</li>
<li>å¤§é¢ç§¯çº¯è‰²å—æ˜¾å¾—å»‰ä»·</li>
<li>æ’ç‰ˆå¯†åº¦ä¸å‡</li>
<li>è£…é¥°å…ƒç´ å•è°ƒ</li>
<li>å­—ä½“å±‚çº§ä¸æ¸…æ™°</li>
</ol>
<h3 data-id="heading-24">å…¨æ–°è®¾è®¡æ–¹æ¡ˆ</h3>
<p><strong>é…è‰²ç³»ç»Ÿï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attr">--bg-primary</span>: <span class="hljs-number">#0d0221</span>;      <span class="hljs-comment">/* æ·±ç´«è‰²èƒŒæ™¯ */</span>
<span class="hljs-attr">--accent-red</span>: <span class="hljs-number">#ff6b6b</span>;      <span class="hljs-comment">/* NERV çº¢ */</span>
<span class="hljs-attr">--accent-cyan</span>: <span class="hljs-number">#4ecdc4</span>;     <span class="hljs-comment">/* é’è‰² */</span>
<span class="hljs-attr">--accent-purple</span>: <span class="hljs-number">#a855f7</span>;   <span class="hljs-comment">/* ç´«è‰² */</span>
</code></pre>
<p><strong>ç»Ÿä¸€çš„é¡¶éƒ¨å½©æ¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.top-bar</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#ff6b6b</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">240pt</span>; }
<span class="hljs-selector-class">.top-bar2</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#4ecdc4</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">240pt</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">240pt</span>; }
<span class="hljs-selector-class">.top-bar3</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#a855f7</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">240pt</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">480pt</span>; }
</code></pre>
<p><strong>ç« èŠ‚ç¼–å·ç³»ç»Ÿï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-num"</span>&gt;</span>01 / STORY<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ•…äº‹æ¦‚è¿°<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<h3 data-id="heading-25">CSS æ¸å˜çš„æ›¿ä»£æ–¹æ¡ˆ</h3>
<p>html2pptx ä¸æ”¯æŒ CSS æ¸å˜ï¼Œéœ€è¦ç”¨çº¯è‰²æ›¿ä»£ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä¸æ”¯æŒ */</span>
<span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#0d0221</span>, <span class="hljs-number">#1a0a2e</span>);

<span class="hljs-comment">/* æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨çº¯è‰² */</span>
<span class="hljs-attribute">background</span>: <span class="hljs-number">#0d0221</span>;
</code></pre>
<h3 data-id="heading-26">è¾¹æ¡†å±æ€§é™åˆ¶</h3>
<p>æ–‡æœ¬å…ƒç´ ä¸èƒ½æœ‰ borderï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä¸æ”¯æŒ - ä¼šæŠ¥é”™ */</span>
<span class="hljs-selector-class">.eva-desc</span> {
  <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1pt</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.1</span>);
}

<span class="hljs-comment">/* æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨å•ç‹¬çš„ div */</span>
<span class="hljs-selector-class">.desc-divider</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1pt</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.1</span>);
}
</code></pre>
<h3 data-id="heading-27">å¸ƒå±€æº¢å‡ºä¿®å¤</h3>
<p>å¤šæ¬¡é‡åˆ°æ°´å¹³æº¢å‡ºé”™è¯¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">Error:</span> HTML content overflows body <span class="hljs-keyword">by</span> <span class="hljs-number">29.3</span>pt horizontally
</code></pre>
<p><strong>è®¡ç®—å…¬å¼ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">æ€»å®½åº¦ = å·¦è¾¹è· + (å¡ç‰‡å®½åº¦ Ã— æ•°é‡) + (é—´è· Ã— (æ•°é‡-<span class="hljs-number">1</span>)) + å³è¾¹è·
</code></pre>
<p>ä¾‹å¦‚ 3 å¼ å¡ç‰‡ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">50</span> + (<span class="hljs-number">190</span> Ã— <span class="hljs-number">3</span>) + (<span class="hljs-number">20</span> Ã— <span class="hljs-number">2</span>) + <span class="hljs-number">50</span> = <span class="hljs-number">710pt</span> âœ“ (&lt; <span class="hljs-number">720pt</span>)
<span class="hljs-number">50</span> + (<span class="hljs-number">195</span> Ã— <span class="hljs-number">3</span>) + (<span class="hljs-number">20</span> Ã— <span class="hljs-number">2</span>) + <span class="hljs-number">50</span> = <span class="hljs-number">725pt</span> âœ— (æº¢å‡º)
</code></pre>
<hr/>
<h2 data-id="heading-28">é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-29">é—®é¢˜æ±‡æ€»è¡¨</h3>













































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ä¾èµ–æ‰¾ä¸åˆ°</td><td>node_modules ä¸åœ¨å½“å‰ç›®å½•</td><td><code>npm install</code> å®‰è£…ä¾èµ–</td></tr><tr><td>Playwright æµè§ˆå™¨ç¼ºå¤±</td><td>éœ€è¦å•ç‹¬ä¸‹è½½</td><td><code>npx playwright install chromium</code></td></tr><tr><td>ä¸­æ–‡æ–‡ä»¶åè¯»å–å¤±è´¥</td><td>Windows è·¯å¾„ç¼–ç é—®é¢˜</td><td>é‡å‘½åä¸ºè‹±æ–‡æ–‡ä»¶å</td></tr><tr><td>CSS æ¸å˜ä¸æ”¯æŒ</td><td>html2pptx é™åˆ¶</td><td>ä½¿ç”¨çº¯è‰²èƒŒæ™¯</td></tr><tr><td>æ–‡æœ¬å…ƒç´  border æŠ¥é”™</td><td>html2pptx é™åˆ¶</td><td>ä½¿ç”¨å•ç‹¬çš„ div å…ƒç´ </td></tr><tr><td>å†…å®¹æº¢å‡º</td><td>å°ºå¯¸è®¡ç®—é”™è¯¯</td><td>ç²¾ç¡®è®¡ç®—å¹¶é¢„ç•™è¾¹è·</td></tr><tr><td>å›¾ç‰‡ä½ç½®ä¸å‡†</td><td>åæ ‡è®¡ç®—é”™è¯¯</td><td>ä½¿ç”¨ pt â†’ inch è½¬æ¢å…¬å¼</td></tr></tbody></table>
<h3 data-id="heading-30">è°ƒè¯•æŠ€å·§</h3>
<ol>
<li><strong>é€é¡µæµ‹è¯•</strong>ï¼šå…ˆå•ç‹¬æµ‹è¯•æ¯é¡µï¼Œç¡®è®¤æ— è¯¯åå†æ‰¹é‡ç”Ÿæˆ</li>
<li><strong>æ§åˆ¶å°æ—¥å¿—</strong>ï¼šåœ¨è„šæœ¬ä¸­æ·»åŠ è¯¦ç»†æ—¥å¿—</li>
<li><strong>æµè§ˆå™¨é¢„è§ˆ</strong>ï¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ HTML æ–‡ä»¶é¢„è§ˆæ•ˆæœ</li>
</ol>
<hr/>
<h2 data-id="heading-31">æœ€ç»ˆæˆæœå±•ç¤º</h2>
<h3 data-id="heading-32">v4ç‰ˆppt</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d69570e8f674e7f977b3091d59b9c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=w1A%2F8%2BXZT365z6MeBteVy72Zg2k%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c56925580a84a8e9e40f65b5dfa36bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=MtNVdSau77lnBkALrNH07A%2BCt98%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53a75307d58f47bfbd764994e0888050~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=6EfBlT7OkvDttT3PtPcxVPPM8zE%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b6bc5f39f33445dac8c088e5d9c1ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=DibaiKQbwp%2FRLB%2By4UUYNI4i0MQ%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1740a58c3a894132bde39acac35a7c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=Y9teXoDp%2BXTm%2FJ1TiS4Q9rViwfM%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ac03eed46ae45c4bb13ddc036851455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=Wv7ztSNXZdkegkTEHFdl%2BXi2jZM%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d0523bf8706415da4f07ee94c95ac0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=T3CbAC2n0f16rwh6rm2f5ezPSmo%3D" alt="alt text" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03842c2a0a8c477ca2b36e4492bf3983~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlrdTE2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768721131&amp;x-signature=7IBKI0KdKhhjAZ561beprD6Arps%3D" alt="alt text" loading="lazy"/></p>
<h3 data-id="heading-33">æ–‡ä»¶ç»“æ„</h3>
<pre><code class="hljs language-lua" lang="lua">ppt-test/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ shinji.png
â”‚   â”œâ”€â”€ rei.png
â”‚   â”œâ”€â”€ asuka.png
â”‚   â””â”€â”€ kaworu.png
â”œâ”€â”€ slide1-title-v4.html
â”œâ”€â”€ slide2-story-v4.html
â”œâ”€â”€ slide3-characters-v4.html
â”œâ”€â”€ slide4-eva-units-v4.html
â”œâ”€â”€ slide5-themes-v4.html
â”œâ”€â”€ slide6-timeline-v4.html
â”œâ”€â”€ slide7-impact-v4.html
â”œâ”€â”€ slide8-thanks-v4.html
â”œâ”€â”€ <span class="hljs-built_in">create</span>-ppt-v4.js
â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â””â”€â”€ EVA-Introduction-CN-v4.pptx  â† æœ€ç»ˆè¾“å‡º
</code></pre>
<h3 data-id="heading-34">å„é¡µé¢è®¾è®¡äº®ç‚¹</h3>









































<table><thead><tr><th>é¡µé¢</th><th>è®¾è®¡ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>æ ‡é¢˜é¡µ</td><td>å±…ä¸­å¤§æ ‡é¢˜ + NERV æ ‡è¯† + è£…é¥°æ–¹å—</td></tr><tr><td>æ•…äº‹æ¦‚è¿°</td><td>ä¸»å†…å®¹å¡ç‰‡ + ä¸‰åˆ—ä¿¡æ¯å¡ç‰‡</td></tr><tr><td>ä¸»è¦è§’è‰²</td><td>å››åˆ—è§’è‰²å¡ç‰‡ + åº•éƒ¨å½©è‰²çº¿æ¡</td></tr><tr><td>EVA æœºä½“</td><td>ç´«/è“/çº¢ä¸‰è‰²å¤´éƒ¨å¡ç‰‡</td></tr><tr><td>æ ¸å¿ƒä¸»é¢˜</td><td>å·¦ä¾§ç¼–å·åˆ—è¡¨ + å³ä¾§å¼•ç”¨å¡ç‰‡</td></tr><tr><td>ç³»åˆ—å¹´è¡¨</td><td>åœ†å½¢æ—¶é—´èŠ‚ç‚¹ + ç»ˆç« å¡ç‰‡</td></tr><tr><td>æ–‡åŒ–å½±å“</td><td>ä¸‰åˆ—å½±å“åŠ›å¡ç‰‡ + ç»Ÿè®¡æ•°æ®</td></tr><tr><td>æ„Ÿè°¢é¡µ</td><td>å±…ä¸­æ ‡é¢˜ + å¼•ç”¨ + NERV æ ‡è¯­</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-35">æ‰§è¡Œå‘½ä»¤æ±‡æ€»</h2>
<p>ä»¥ä¸‹æ˜¯æœ¬æ¬¡ç”Ÿæˆ PPT è¿‡ç¨‹ä¸­å®é™…æ‰§è¡Œçš„æ‰€æœ‰ç›¸å…³å‘½ä»¤ï¼ŒæŒ‰æ—¶é—´é¡ºåºæ•´ç†ï¼š</p>
<h3 data-id="heading-36">1. ç¯å¢ƒå‡†å¤‡é˜¶æ®µ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"A:/study/AI/LLM/Claude-Skills-Test/ppt-test"</span>

<span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">"A:\study\AI\LLM\Claude-Skills-Test\ppt-test"</span>

<span class="hljs-comment"># åˆå§‹åŒ– Node.js é¡¹ç›®</span>
npm init -y

<span class="hljs-comment"># å®‰è£…æ ¸å¿ƒä¾èµ–</span>
npm install pptxgenjs playwright sharp

<span class="hljs-comment"># å®‰è£… Playwright Chromium æµè§ˆå™¨ï¼ˆé¦–æ¬¡è¿è¡Œå¿…éœ€ï¼‰</span>
npx playwright install chromium
</code></pre>
<h3 data-id="heading-37">2. V1-V3 ç‰ˆæœ¬ç”Ÿæˆ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆ V1 è‹±æ–‡ç‰ˆ PPT</span>
node create-ppt.js
<span class="hljs-comment"># è¾“å‡º: EVA-Introduction.pptx</span>

<span class="hljs-comment"># ç”Ÿæˆ V2 ä¸­æ–‡ç‰ˆ PPTï¼ˆä¿®æ”¹è„šæœ¬åï¼‰</span>
node create-ppt.js
<span class="hljs-comment"># è¾“å‡º: EVA-Introduction-CN.pptx</span>

<span class="hljs-comment"># ç”Ÿæˆ V3 ç¾åŒ–ç‰ˆ PPT</span>
node create-ppt.js
<span class="hljs-comment"># è¾“å‡º: EVA-Introduction-CN-v3.pptx</span>
</code></pre>
<h3 data-id="heading-38">3. V4 ç‰ˆæœ¬ç”Ÿæˆ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆ V4 ä¸“ä¸šç‰ˆ PPTï¼ˆä½¿ç”¨æ–°è„šæœ¬ï¼‰</span>
node create-ppt-v4.js
<span class="hljs-comment"># è¾“å‡º: EVA-Introduction-CN-v4.pptx</span>
</code></pre>
<h3 data-id="heading-39">4. å¸¸è§é”™è¯¯åŠä¿®å¤å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é”™è¯¯: Cannot find module 'pptxgenjs'</span>
<span class="hljs-comment"># è§£å†³: å®‰è£…ä¾èµ–</span>
npm install pptxgenjs playwright sharp

<span class="hljs-comment"># é”™è¯¯: Executable doesn't exist at ...chromium...</span>
<span class="hljs-comment"># è§£å†³: å®‰è£… Playwright æµè§ˆå™¨</span>
npx playwright install chromium

<span class="hljs-comment"># é”™è¯¯: CSS gradients are not supported</span>
<span class="hljs-comment"># è§£å†³: ä¿®æ”¹ HTML æ–‡ä»¶ï¼Œå°† linear-gradient æ›¿æ¢ä¸ºçº¯è‰²</span>

<span class="hljs-comment"># é”™è¯¯: HTML content overflows body by XXpt horizontally</span>
<span class="hljs-comment"># è§£å†³: ä¿®æ”¹ HTML æ–‡ä»¶ï¼Œå‡å°å…ƒç´ å®½åº¦æˆ–é—´è·</span>

<span class="hljs-comment"># é”™è¯¯: Text element &lt;p&gt; has border</span>
<span class="hljs-comment"># è§£å†³: ä¿®æ”¹ HTML æ–‡ä»¶ï¼Œå°† border å±æ€§ç§»åˆ°å•ç‹¬çš„ div å…ƒç´ </span>
</code></pre>
<h3 data-id="heading-40">5. æ–‡ä»¶æ“ä½œå‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹é¡¹ç›®ç›®å½•ç»“æ„</span>
<span class="hljs-built_in">dir</span> /b
<span class="hljs-comment"># æˆ–</span>
<span class="hljs-built_in">ls</span> -la

<span class="hljs-comment"># æŸ¥çœ‹ç”Ÿæˆçš„ PPTX æ–‡ä»¶</span>
<span class="hljs-built_in">dir</span> *.pptx

<span class="hljs-comment"># æŸ¥çœ‹ HTML æ¨¡æ¿æ–‡ä»¶</span>
<span class="hljs-built_in">dir</span> *.html
</code></pre>
<h3 data-id="heading-41">6. Git ç‰ˆæœ¬æ§åˆ¶</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ä»“åº“çŠ¶æ€</span>
git status

<span class="hljs-comment"># æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</span>
git add .gitignore ppt-test/

<span class="hljs-comment"># æäº¤æ›´æ”¹</span>
git commit -m <span class="hljs-string">"feat: ä½¿ç”¨ Claude Code pptx-skills ç”Ÿæˆ EVA ä¸»é¢˜ PPT é¡¹ç›®"</span>

<span class="hljs-comment"># æŸ¥çœ‹æäº¤å†å²</span>
git <span class="hljs-built_in">log</span> --oneline
</code></pre>
<h3 data-id="heading-42">7. è°ƒè¯•æŠ€å·§å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆå•ä¸ª HTML å¹»ç¯ç‰‡</span>
start slide1-title-v4.html
<span class="hljs-comment"># æˆ–ç›´æ¥åŒå‡» HTML æ–‡ä»¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</span>

<span class="hljs-comment"># æ£€æŸ¥ Node.js ç‰ˆæœ¬</span>
node -v

<span class="hljs-comment"># æ£€æŸ¥ npm ç‰ˆæœ¬</span>
npm -v

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£…çš„ä¾èµ–</span>
npm list --depth=0
</code></pre>
<h3 data-id="heading-43">8. å®Œæ•´çš„ä¸€é”®ç”Ÿæˆæµç¨‹</h3>
<p>å¦‚æœä½ æƒ³ä»é›¶å¼€å§‹å¤ç°æ•´ä¸ªé¡¹ç›®ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…‹éš†ä»“åº“ï¼ˆå¦‚æœä» GitHub è·å–ï¼‰</span>
git <span class="hljs-built_in">clone</span> https://github.com/16Miku/Claude-Skills-Test.git
<span class="hljs-built_in">cd</span> Claude-Skills-Test/ppt-test

<span class="hljs-comment"># 2. å®‰è£…ä¾èµ–</span>
npm install

<span class="hljs-comment"># 3. å®‰è£… Playwright æµè§ˆå™¨</span>
npx playwright install chromium

<span class="hljs-comment"># 4. ä¿®æ”¹ create-ppt-v4.js ä¸­çš„ html2pptx è·¯å¾„</span>
<span class="hljs-comment">#    å°† C:/Users/{æ›¿æ¢ä¸ºç”¨æˆ·å}/.claude/skills/pptx-skills/scripts/html2pptx.js</span>
<span class="hljs-comment">#    æ›¿æ¢ä¸ºä½ æœ¬åœ°çš„ Claude Skills è·¯å¾„</span>

<span class="hljs-comment"># 5. ç”Ÿæˆ PPT</span>
node create-ppt-v4.js

<span class="hljs-comment"># 6. æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶</span>
<span class="hljs-built_in">dir</span> *.pptx
</code></pre>
<h3 data-id="heading-44">å‘½ä»¤æ‰§è¡Œç¯å¢ƒè¯´æ˜</h3>





























<table><thead><tr><th>ç¯å¢ƒ</th><th>ç‰ˆæœ¬/è¯´æ˜</th></tr></thead><tbody><tr><td>æ“ä½œç³»ç»Ÿ</td><td>Windows 11</td></tr><tr><td>Node.js</td><td>v18+ æ¨è</td></tr><tr><td>npm</td><td>v9+ æ¨è</td></tr><tr><td>Claude Code</td><td>éœ€è¦å®‰è£… pptx-skills æŠ€èƒ½</td></tr><tr><td>ç»ˆç«¯</td><td>PowerShell / CMD / Git Bash</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-45">æ€»ç»“ä¸å¿ƒå¾—</h2>
<h3 data-id="heading-46">æŠ€æœ¯æ”¶è·</h3>
<ol>
<li><strong>html2pptx å·¥ä½œæµ</strong>ï¼šç†è§£äº† HTML â†’ PPTX çš„è½¬æ¢åŸç†</li>
<li><strong>ç²¾ç¡®å¸ƒå±€è®¡ç®—</strong>ï¼šæŒæ¡äº† pt/inch è½¬æ¢å’Œè¾¹è·è®¡ç®—</li>
<li><strong>æ··åˆæ¨¡å¼å›¾ç‰‡æ’å…¥</strong>ï¼šå­¦ä¼šäº† HTML å ä½ + API æ’å…¥çš„æŠ€å·§</li>
<li><strong>CSS é™åˆ¶åº”å¯¹</strong>ï¼šäº†è§£äº†å·¥å…·çš„é™åˆ¶å¹¶æ‰¾åˆ°æ›¿ä»£æ–¹æ¡ˆ</li>
</ol>
<h3 data-id="heading-47">è®¾è®¡å¿ƒå¾—</h3>
<ol>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šä» V1 åˆ° V4ï¼Œæ¯æ¬¡è¿­ä»£éƒ½æœ‰æ˜æ˜¾æå‡</li>
<li><strong>ç»Ÿä¸€è§†è§‰è¯­è¨€</strong>ï¼šä¸‰è‰²é¡¶æ  + ç« èŠ‚ç¼–å· + é¡µç ç³»ç»Ÿ</li>
<li><strong>ä¿¡æ¯å±‚çº§</strong>ï¼šé€šè¿‡é¢œè‰²ã€å¤§å°ã€ä½ç½®åŒºåˆ†ä¿¡æ¯é‡è¦æ€§</li>
<li><strong>å‘¼å¸æ„Ÿ</strong>ï¼šé€‚å½“ç•™ç™½ï¼Œé¿å…å†…å®¹è¿‡äºæ‹¥æŒ¤</li>
</ol>
<h3 data-id="heading-48">é€‚ç”¨åœºæ™¯</h3>
<p><code>pptx-skills</code> é€‚åˆï¼š</p>
<ul>
<li>éœ€è¦æ‰¹é‡ç”Ÿæˆ PPT çš„åœºæ™¯</li>
<li>æœ‰æ˜ç¡®è®¾è®¡è§„èŒƒçš„é¡¹ç›®</li>
<li>ç¨‹åºåŒ–ç”ŸæˆæŠ¥å‘Š/æ–‡æ¡£</li>
</ul>
<p>ä¸å¤ªé€‚åˆï¼š</p>
<ul>
<li>éœ€è¦å¤æ‚åŠ¨ç”»æ•ˆæœ</li>
<li>éœ€è¦å¤§é‡æ¸å˜/é˜´å½±æ•ˆæœ</li>
<li>ä¸€æ¬¡æ€§ç®€å• PPTï¼ˆç›´æ¥ç”¨ PowerPoint æ›´å¿«ï¼‰</li>
</ul>
<h3 data-id="heading-49">å®Œæ•´ä»£ç ä»“åº“</h3>
<p>æœ¬é¡¹ç›®çš„å®Œæ•´ä»£ç å’Œç”Ÿæˆçš„ PPT æ–‡ä»¶ä½äºï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">A</span>:\study\AI\LLM\Claude-Skills-Test\ppt-test\
</code></pre>
<hr/>
<h2 data-id="heading-50">é™„å½•ï¼šV4 ç‰ˆæœ¬å®Œæ•´ç”Ÿæˆè„šæœ¬</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> pptxgen = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pptxgenjs'</span>);
<span class="hljs-keyword">const</span> html2pptx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'C:/Users/XX/.claude/skills/pptx-skills/scripts/html2pptx.js'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createEVAPresentation</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> pptx = <span class="hljs-keyword">new</span> <span class="hljs-title function_">pptxgen</span>();
    pptx.<span class="hljs-property">layout</span> = <span class="hljs-string">'LAYOUT_16x9'</span>;
    pptx.<span class="hljs-property">title</span> = <span class="hljs-string">'æ–°ä¸–çºªç¦éŸ³æˆ˜å£« - ä»‹ç»'</span>;
    pptx.<span class="hljs-property">author</span> = <span class="hljs-string">'Claude Code'</span>;

    <span class="hljs-keyword">const</span> slidesDir = path.<span class="hljs-title function_">join</span>(__dirname);
    <span class="hljs-keyword">const</span> imagesDir = path.<span class="hljs-title function_">join</span>(slidesDir, <span class="hljs-string">'images'</span>);

    <span class="hljs-keyword">const</span> slides = [
        <span class="hljs-string">'slide1-title-v4.html'</span>,
        <span class="hljs-string">'slide2-story-v4.html'</span>,
        <span class="hljs-string">'slide3-characters-v4.html'</span>,
        <span class="hljs-string">'slide4-eva-units-v4.html'</span>,
        <span class="hljs-string">'slide5-themes-v4.html'</span>,
        <span class="hljs-string">'slide6-timeline-v4.html'</span>,
        <span class="hljs-string">'slide7-impact-v4.html'</span>,
        <span class="hljs-string">'slide8-thanks-v4.html'</span>
    ];

    <span class="hljs-comment">// è§’è‰²å›¾ç‰‡é…ç½®</span>
    <span class="hljs-keyword">const</span> characterImages = [
        { <span class="hljs-attr">file</span>: <span class="hljs-string">'shinji.png'</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">0.69</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1.32</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">2.08</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">1.39</span> },
        { <span class="hljs-attr">file</span>: <span class="hljs-string">'rei.png'</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">2.86</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1.32</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">2.08</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">1.39</span> },
        { <span class="hljs-attr">file</span>: <span class="hljs-string">'asuka.png'</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">5.03</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1.32</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">2.08</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">1.39</span> },
        { <span class="hljs-attr">file</span>: <span class="hljs-string">'kaworu.png'</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">7.19</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1.32</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">2.08</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">1.39</span> }
    ];

    <span class="hljs-keyword">let</span> characterSlide = <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; slides.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">html2pptx</span>(
            path.<span class="hljs-title function_">join</span>(slidesDir, slides[i]),
            pptx
        );

        <span class="hljs-keyword">if</span> (slides[i] === <span class="hljs-string">'slide3-characters-v4.html'</span>) {
            characterSlide = result.<span class="hljs-property">slide</span>;
        }
    }

    <span class="hljs-comment">// æ’å…¥è§’è‰²å›¾ç‰‡</span>
    <span class="hljs-keyword">if</span> (characterSlide) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> img <span class="hljs-keyword">of</span> characterImages) {
            characterSlide.<span class="hljs-title function_">addImage</span>({
                <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">join</span>(imagesDir, img.<span class="hljs-property">file</span>),
                <span class="hljs-attr">x</span>: img.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: img.<span class="hljs-property">y</span>, <span class="hljs-attr">w</span>: img.<span class="hljs-property">w</span>, <span class="hljs-attr">h</span>: img.<span class="hljs-property">h</span>
            });
        }
    }

    <span class="hljs-keyword">await</span> pptx.<span class="hljs-title function_">writeFile</span>({
        <span class="hljs-attr">fileName</span>: path.<span class="hljs-title function_">join</span>(slidesDir, <span class="hljs-string">'EVA-Introduction-CN-v4.pptx'</span>)
    });
}

<span class="hljs-title function_">createEVAPresentation</span>();
</code></pre>
<hr/>
<p><em>æœ¬æ–‡ç”± Claude Code ååŠ©å®Œæˆï¼Œè®°å½•äº 2026 å¹´ 1 æœˆ 11 æ—¥</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL å®ç°çŸ¢é‡åˆå¹¶]]></title>    <link>https://juejin.cn/post/7593607642553237530</link>    <guid>https://juejin.cn/post/7593607642553237530</guid>    <pubDate>2026-01-11T07:53:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593607642553237530" data-draft-id="7593600903250624538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL å®ç°çŸ¢é‡åˆå¹¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-11T07:53:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL å®ç°çŸ¢é‡åˆå¹¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T07:53:49.000Z" title="Sun Jan 11 2026 07:53:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>çŸ¢é‡æ•°æ®ä½œä¸ºæ•°æ®å¤„ç†çš„åŠå£æ±Ÿå±±ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­æ¶‰åŠåˆ°å¤šç§æ“ä½œï¼ŒçŸ¢é‡æ•°æ®åˆå¹¶ä¹Ÿæ˜¯ä¸€é¡¹å¸¸ç”¨æ“ä½œï¼Œè¯¥åŠŸèƒ½æ¶‰åŠåˆ°ä¸¤ä¸ªåŠä»¥ä¸Šçš„æ•°æ®æºåœ¨å‡ ä½•å¯¹è±¡ä¸å±æ€§å¯¹è±¡ä¹‹é—´çš„åˆå¹¶æ“ä½œã€‚</p>
</blockquote>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œæœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDAL å®ç°çŸ¢é‡åˆå¹¶</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQtb_BJw91nKrFMeoa7WcxA" target="_blank" title="https://mp.weixin.qq.com/s/Qtb_BJw91nKrFMeoa7WcxA" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFLWfZItLj24JYicQEX-PbQ" target="_blank" title="https://mp.weixin.qq.com/s/FLWfZItLj24JYicQEX-PbQ" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu0539e3CM2q4Y3MbMxxZKQ" target="_blank" title="https://mp.weixin.qq.com/s/u0539e3CM2q4Y3MbMxxZKQ" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2.Â <code>Union</code>åˆå¹¶æ–¹æ³•</h2>
<p>çŸ¢é‡å›¾å±‚<code>Layer</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>Union</code>å¯ç”¨äºæ•°æ®è£å‰ªã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d4ca71930f14c31a8cbb5b123851c66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=GDPuKRgUodp32i0Px4Vxl4N6RWE%3D" alt="" loading="lazy"/>è¯¥æ–¹æ³•æ¥æ”¶åˆå¹¶å›¾å±‚å’Œç»“æœå›¾å±‚ä¸¤ä¸ªå¿…å¡«å‚æ•°ï¼Œå‰©ä¸‹ä¸‰ä¸ªå¯é€‰å‚æ•°ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ•´å‹å€¼ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šGDAL çŸ¢é‡åˆå¹¶
å‚æ•°ï¼š
Â  Â  -unionLayerï¼šç”¨äºè£å‰ªçš„çŸ¢é‡å›¾å±‚
Â  Â  -resultLayerï¼šç”Ÿæˆç»“æœæ•°æ®å›¾å±‚
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">Union</span>(<span class="hljs-params">unionLayer,resultLayer</span>):
</code></pre>
<h2 data-id="heading-4">3. çŸ¢é‡å›¾å±‚åˆå¹¶</h2>
<p>è€è§„çŸ©å®šä¹‰ä¸€ä¸ªå›¾å±‚åˆå¹¶æ–¹æ³•<code>LayerUnion</code>ç”¨äºæ•°æ®åˆå¹¶ï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦‚ä¸‹ä¸‰ä¸ªå‚æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šGDAL å›¾å±‚åˆå¹¶æ“ä½œ
å‚æ•°ï¼š
Â  Â  -sourcePathï¼š æºæ–‡ä»¶Shpæ•°æ®è·¯å¾„
Â  Â  -unionPathï¼šç”¨äºåˆå¹¶çš„Shpæ•°æ®è·¯å¾„
Â  Â  -resultPathï¼šç”¨äºå­˜æ”¾åˆå¹¶ç»“æœçš„æ•°æ®è·¯å¾„
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">LayerUnion</span>(<span class="hljs-params">sourcePath,unionPath,resultPath</span>):
</code></pre>
<p>ç„¶åæ·»åŠ æ•°æ®é©±åŠ¨ï¼Œåªä¸è¿‡åœ¨æ·»åŠ æ•°æ®é©±åŠ¨å‰ä½¿ç”¨<code>checkFilePath</code>æ–¹æ³•æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œä¹‹ååˆ¤æ–­æ•°æ®é©±åŠ¨æ˜¯å¦æ­£å¸¸ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
<span class="hljs-built_in">checkFilePath</span>(sourcePath)
<span class="hljs-built_in">checkFilePath</span>(unionPath)
<span class="hljs-built_in">checkFilePath</span>(resultPath)

# æ·»åŠ æ•°æ®é©±åŠ¨
shpDriver = ogr<span class="hljs-selector-class">.GetDriverByName</span>("ESRI Shapefile")

# æ£€æŸ¥æ•°æ®é©±åŠ¨æ˜¯å¦æ­£å¸¸
<span class="hljs-built_in">checkDriver</span>(shpDriver)
</code></pre>
<p>åœ¨æ‰“å¼€<code>Shp</code>æ•°æ®æºæ—¶ä¼ é€’ç¬¬äºŒä¸ªå¯é€‰å‚æ•°ï¼Œè¯¥å‚æ•°ä¸ºå¸ƒå°”ç±»å‹ï¼Œå°†å…¶å€¼è®¾ç½®ä¸º<code>True</code>æ„ä¸ºä»¥å¯å†™æ¨¡å¼æ‰“å¼€æ•°æ®æºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
Â  Â  ä»¥å¯å†™æ¨¡å¼æ‰“å¼€æ•°æ®æº
"""</span>

<span class="hljs-comment"># è·å–æ•°æ®æº</span>
sourceDs = shpDriver.Open(sourcePath,<span class="hljs-literal">True</span>)
clipDs = shpDriver.Open(unionPath,<span class="hljs-literal">True</span>)
</code></pre>
<p>ä»¥æºæ•°æ®å›¾å±‚<code>sourceLayer</code>å±æ€§ç»“æ„åˆ›å»ºç»“æœå›¾å±‚ï¼Œè·å–æºå›¾å±‚ç©ºé—´å‚è€ƒä»¥åŠå‡ ä½•æ•°æ®ç±»å‹ä¿¡æ¯ï¼Œå¹¶åˆ›å»ºç»“æœå›¾å±‚å±æ€§å­—æ®µã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è·å–å›¾å±‚</span>
<span class="hljs-attr">sourceLayer</span> = sourceDs.GetLayer(<span class="hljs-number">0</span>)
<span class="hljs-attr">srs</span> = sourceLayer.GetSpatialRef()
<span class="hljs-attr">geomType</span> = sourceLayer.GetGeomType()

<span class="hljs-attr">unionLayer</span> = unionDs.GetLayer(<span class="hljs-number">0</span>)

<span class="hljs-comment"># åˆ›å»ºè¾“å‡ºæ•°æ®æº</span>
<span class="hljs-attr">resultDs</span> = shpDriver.CreateDataSource(resultPath)

<span class="hljs-comment"># æ ¹æ®æºæ•°æ®ç»“æ„åˆ›å»ºè¾“å‡ºå›¾å±‚</span>
<span class="hljs-attr">resultLayer</span> = resultDs.CreateLayer(<span class="hljs-string">"resultLayer"</span>,srs,geomType)

<span class="hljs-comment"># æ·»åŠ æ•°æ®ç»“æ„</span>
<span class="hljs-attr">featureDefn</span> = sourceLayer.GetLayerDefn()
<span class="hljs-attr">fieldCount</span> = featureDefn.GetFieldCount()

<span class="hljs-comment"># æ·»åŠ å­—æ®µï¼ˆå¤åˆ¶æºå›¾å±‚å­—æ®µå®šä¹‰ï¼‰</span>
forÂ iÂ inÂ range(fieldCount):
Â  Â  <span class="hljs-attr">fieldDefn</span> = featureDefn.GetFieldDefn(i)
Â  Â  resultLayer.CreateField(fieldDefn)
</code></pre>
<p>åœ¨æºæ•°æ®å›¾å±‚ä¸Šè°ƒç”¨æ–¹æ³•<code>Union</code>è¿›è¡Œå›¾å±‚åˆå¹¶ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªæ•´å‹æ•°å€¼ã€‚åˆå¹¶å®Œæˆåå…³é—­æ‰€æœ‰æ•°æ®æºå¹¶è¿”å›ç»“æœã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">f"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~å›¾å±‚åˆå¹¶å¼€å§‹~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"</span>)
<span class="hljs-string">"""
Â  Â  å›¾å±‚è£å‰ª
"""</span>
result = sourceLayer.<span class="hljs-type">Union</span>(unionLayer,resultLayer,[],GetProgress,GetData)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è£å‰ªç»“æœï¼š<span class="hljs-subst">{result}</span>"</span>)

<span class="hljs-comment"># å…³é—­æ•°æ®æº</span>
sourceDs = unionDs = resultDs = <span class="hljs-literal">None</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~å›¾å±‚åˆå¹¶ç»“æŸ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"</span>)
<span class="hljs-keyword">return</span>Â result
</code></pre>
<p><code>GetProgress</code>ä¸ºè·å–è£å‰ªè¿›åº¦å‡½æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šå®šä¹‰è¿›åº¦è·å–å‡½æ•°
å‚æ•°ï¼š
Â  Â  -completeï¼šå®Œæˆåº¦ï¼ˆ0.0-1.0ï¼‰
Â  Â  -messageï¼šè¿›åº¦æ¶ˆæ¯
Â  Â  -userDataï¼šç”¨æˆ·æ•°æ®
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">GetProgress</span>(<span class="hljs-params">complete,message,userData</span>):
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿›åº¦ï¼š<span class="hljs-subst">{complete * <span class="hljs-number">100</span>:<span class="hljs-number">.1</span>f}</span>% - <span class="hljs-subst">{message}</span>"</span>)
Â  Â Â <span class="hljs-comment"># è¿”å›1è¡¨ç¤ºç»§ç»­å¤„ç†ï¼Œè¿”å›0è¡¨ç¤ºå–æ¶ˆ</span>
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">1</span>
</code></pre>
<p><code>GetData</code>ä¸ºè·å–è£å‰ªæ•°æ®å‡½æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">def</span> <span class="hljs-title function_">GetData</span>(<span class="hljs-params">data</span>):
Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"è£å‰ªæ•°æ®ï¼š"</span>)
</code></pre>
<p>æ•°æ®åˆå¹¶ä¿¡æ¯è¾“å‡ºå¦‚ä¸‹ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff6a39ae03984d80a8df5c8a91631fc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=%2F%2BWFExHlGY%2BxYeHzKWGYbhZX69E%3D" alt="" loading="lazy"/></p>
<p>è£å‰ªæ•°æ®åœ¨<code>ArcGIS</code>ä¸­æ˜¾ç¤ºå¦‚ä¸‹ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/501238dc7ed94083876abb560cc82704~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=gulsnxKhLLtl8hXLCyplILdBKrc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨<code>windows</code>å¼€å‘ç¯å¢ƒä¸­åŒæ—¶å®‰è£…<code>GDAL</code>ä¸<code>PostGIS</code>ï¼Œå…¶ä¸­æŠ•å½±åº“<code>PROJ</code>çš„ç¯å¢ƒå˜é‡æŒ‡å‘<code>PostGIS</code>çš„å®‰è£…è·¯å¾„ï¼Œåœ¨è¿è¡ŒGDALç¨‹åºæ—¶ï¼Œæ¶‰åŠåˆ°è¦ç´ ã€å‡ ä½•ä¸æŠ•å½±æ“ä½œæ—¶ä¼šå¯¼è‡´å¼‚å¸¸ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b25925b41104fe8a98a0f4ecd113b79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=vYRrGPVRn6XWX7%2FQ%2FNkaompqC3g%3D" alt="" loading="lazy"/>å…·ä½“æ„æ€ä¸º<code>GDAL</code>ä¸æ”¯æŒ<code>PostGIS</code>æ’ä»¶ä¸­çš„æŠ•å½±åº“ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ¢æŠ•å½±åº“æˆ–è€…å‡çº§ç‰ˆæœ¬ã€‚</p>
<p><code>RuntimeError: PROJ: proj_identify: D:Program FilesPostgreSQL13sharecontribpostgis-3.5projproj.db contains DATABASE.LAYOUT.VERSION.MINOR = 2 whereas a number &gt;= 5 is expected. It comes from another PROJ installation.</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6546825af52148728b260a1d34fddba8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=vOKb4K8yjfRDZ3Rt7iEKhPqnquU%3D" alt="" loading="lazy"/></p>
<p>è§£å†³åŠæ³•ä¸ºä¿®æ”¹<code>PROJ</code>çš„ç¯å¢ƒå˜é‡åˆ°<code>GDAL</code>æ”¯æŒçš„ç‰ˆæœ¬æˆ–è€…åœ¨<code>GDAL</code>ç¨‹åºå¼€å¤´æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">os.environ[<span class="hljs-string">'PROJ_LIB'</span>] = <span class="hljs-string">r'D:\Programs\Python\Python311\Libsite-packages\osgeo\data\proj'</span>
</code></pre>
<p><strong>å›¾ç‰‡æ•ˆæœ</strong></p>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f063679198ea4eab963d383d7c890452~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=U8MyvO9Vhvg9CFLZ1Wp417aG9vE%3D" alt="" loading="lazy"/></strong></p>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9e6bae9af864f66a5c6b1a58f0e2b68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=Uvxh%2FhtLlaqZgbyKwlQgdC2Z4Xw%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>olæ•°æ®</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9861b3a4f8704e739fe6390b0aa81f05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=AHw1dLd7WpwH%2F4HLNPTOwi32u3U%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37b8e8172e61492bb440399aba7b11c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=vrgWHPZk13I4Fl5nvQp%2BbJjY8es%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea69b150a8fa402a8ef9d476c955ec82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=KQ5Hg6fDd%2B6TNFm2LOW4NyBo6XI%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7407f36427241778aa8bdea9ababa53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768722830&amp;x-signature=BIeRqE55JnTOcRVzP22ucGaCGlU%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FARKk8BFiEo79CXPvSmS-Ng" target="_blank" title="https://mp.weixin.qq.com/s/ARKk8BFiEo79CXPvSmS-Ng" ref="nofollow noopener noreferrer">GDAL å›¾å±‚åˆå¹¶æ“ä½œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FSX2u2ww1iNOtqR5m3BE93g" target="_blank" title="https://mp.weixin.qq.com/s/SX2u2ww1iNOtqR5m3BE93g" ref="nofollow noopener noreferrer">å›½äº§ç‰ˆçš„Google Earthï¼Œå‰æ—ä¸€å·å«æ˜ŸAppâ€œå…±ç”Ÿåœ°çƒâ€æ¥äº†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfWufqSyplniNj4Q3BRRbAQ" target="_blank" title="https://mp.weixin.qq.com/s/fWufqSyplniNj4Q3BRRbAQ" ref="nofollow noopener noreferrer">2026å¹´å…¨å›½è‡ªç„¶èµ„æºå·¥ä½œä¼šè®®å¬å¼€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FRq7mCSrKU7DA7WRGDEy6Cg" target="_blank" title="https://mp.weixin.qq.com/s/Rq7mCSrKU7DA7WRGDEy6Cg" ref="nofollow noopener noreferrer">æ—¥æœ¬æ¬²æ‰“é€ â€œæœ¬åœŸç‰ˆâ€æ˜Ÿé“¾ç³»ç»Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FuI-pb6NHVIQQBn84zgbVzQ" target="_blank" title="https://mp.weixin.qq.com/s/uI-pb6NHVIQQBn84zgbVzQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡è£å‰ª</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FeC4mseqogLd8b8ELuPvtvQ" target="_blank" title="https://mp.weixin.qq.com/s/eC4mseqogLd8b8ELuPvtvQ" ref="nofollow noopener noreferrer">GDAL çŸ¢é‡è£å‰ª</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F4l8z3pCgtMA7mgDV2-SSfA" target="_blank" title="https://mp.weixin.qq.com/s/4l8z3pCgtMA7mgDV2-SSfA" ref="nofollow noopener noreferrer">GDAL å®ç°ç©ºé—´åˆ†æ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F_DVIdV5_bBPn3zVzUSoZ0w" target="_blank" title="https://mp.weixin.qq.com/s/_DVIdV5_bBPn3zVzUSoZ0w" ref="nofollow noopener noreferrer">GDAL ç©ºé—´å…³ç³»è§£æ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Ff1GPy_DNqtvEDzojlRmcBg" target="_blank" title="https://mp.weixin.qq.com/s/f1GPy_DNqtvEDzojlRmcBg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEyUADPYCf7O_9b0u8LUQCg" target="_blank" title="https://mp.weixin.qq.com/s/EyUADPYCf7O_9b0u8LUQCg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®å±æ€§æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEqpOD--IdOUO6gyzwBc6RA" target="_blank" title="https://mp.weixin.qq.com/s/EqpOD--IdOUO6gyzwBc6RA" ref="nofollow noopener noreferrer">å‰æ—ä¸€å·å›½å†…é¦–å¼ é«˜åˆ†è¾¨ç‡å½©è‰²å¤œå…‰å«æ˜Ÿå½±åƒå‘å¸ƒ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FRdlldTRZ6c7FzfjBSdSPMg" target="_blank" title="https://mp.weixin.qq.com/s/RdlldTRZ6c7FzfjBSdSPMg" ref="nofollow noopener noreferrer">GDAL å®ç°åˆ›å»ºå‡ ä½•å¯¹è±¡</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FTUdUHgYra6oMlOaRIL1m4w" target="_blank" title="https://mp.weixin.qq.com/s/TUdUHgYra6oMlOaRIL1m4w" ref="nofollow noopener noreferrer">GDAL å®ç°è‡ªå®šä¹‰æ•°æ®åæ ‡ç³»</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ReentrantLock å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7593713738855956518</link>    <guid>https://juejin.cn/post/7593713738855956518</guid>    <pubDate>2026-01-11T06:07:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593713738855956518" data-draft-id="7593600903250378778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ReentrantLock å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-11T06:07:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="gelald"/> <meta itemprop="url" content="https://juejin.cn/user/923245499657822"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ReentrantLock å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/923245499657822/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    gelald
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T06:07:34.000Z" title="Sun Jan 11 2026 06:07:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ReentrantLock æ˜¯ AQS çš„å¸¸è§å®ç°ç±»ï¼Œä½¿ç”¨äº† AQS çš„å…±äº«æ¨¡å¼ï¼Œæä¾›äº†å…¬å¹³é”å’Œéå…¬å¹³é”ä¸¤ç§å®ç°</p>
</blockquote>
<h2 data-id="heading-0">å…¬å¹³é”ä¸éå…¬å¹³é”çš„å·®å¼‚</h2>
<p><strong>æ ¸å¿ƒå·®å¼‚ï¼šè·å–é”æ—¶æ˜¯å¦æ£€æŸ¥ç­‰å¾…é˜Ÿåˆ—</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
A[çº¿ç¨‹è¯·æ±‚é”] --&gt; B{å…¬å¹³é” ?}
B --&gt;|å…¬å¹³| C[æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦æœ‰ç­‰å¾…è€…]
C --&gt;|æœ‰| D[ç›´æ¥å…¥é˜Ÿ]
C --&gt;|æ— | E[CAS æŠ¢ state]
B --&gt;|éå…¬å¹³| E
E --&gt;|æˆåŠŸ| F[è·å–é”]
E --&gt;|å¤±è´¥| D
</code></pre>
<h3 data-id="heading-1">éå…¬å¹³é” (é»˜è®¤é€‰é¡¹)</h3>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>Lock lock = new ReentrantLock()</code> åˆ›å»ºé”æ—¶ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯éå…¬å¹³é”ï¼Œéå…¬å¹³é”åœ¨è·å–é”æ—¶ä¼š<strong>ç›´æ¥å°è¯• CAS æŠ¢é”</strong>ï¼Œå¦‚æœ CAS å¤±è´¥æ‰å…¥é˜Ÿ</p>
<p>éå…¬å¹³é”çš„å®ç°ï¼š</p>
<ul>
<li>æ£€æŸ¥ <code>state</code> æ˜¯å¦ä¸º 0ï¼Œå¦‚æœä¸º 0ï¼Œè¡¨ç¤ºå½“å‰é”æ²¡æœ‰è¢«æŠ¢å </li>
<li>å°è¯•ä½¿ç”¨ CAS æ–¹å¼æŠ¢å é”</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">(<span class="hljs-type">int</span> acquires)</span> {
    <span class="hljs-keyword">if</span> (getState() == <span class="hljs-number">0</span> &amp;&amp; compareAndSetState(<span class="hljs-number">0</span>, acquires)) {
        setExclusiveOwnerThread(Thread.currentThread());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h3 data-id="heading-2">å…¬å¹³é”</h3>
<p>å…¬å¹³é”ç®€å•ç†è§£ä¸ºï¼šå½“æœ‰ä¸€ç³»åˆ—çº¿ç¨‹æƒ³è¦è·å–é”æ—¶ï¼Œ<strong>ä¸¥æ ¼æŒ‰ç…§å…ˆæ’é˜Ÿå…ˆè·å–çš„é¡ºåºæ¥è·å–é”</strong></p>
<p>å¦‚æœè¦åˆ›å»ºå…¬å¹³é”ï¼Œéœ€è¦åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šï¼š<code>Lock lock = new ReentrantLock(true)</code>ï¼Œå…¬å¹³é”åœ¨è·å–é”ä¹‹å‰ä¼šå…ˆæ£€æŸ¥ CLH é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ç­‰å¾…çš„çº¿ç¨‹ï¼Œæœ‰çš„è¯ä¼šè¿›è¡Œæ’é˜Ÿ</p>
<p>å…¬å¹³é”çš„å®ç°ï¼š</p>
<ul>
<li>æ£€æŸ¥ <code>state</code> æ˜¯å¦ä¸º 0ï¼Œå¦‚æœä¸º 0ï¼Œè¡¨ç¤ºå½“å‰é”æ²¡æœ‰è¢«æŠ¢å </li>
<li>è°ƒç”¨ <code>hasQueuedPredecessors()</code> æ–¹æ³•æ£€æŸ¥ CLH é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ç­‰å¾…çš„çº¿ç¨‹</li>
<li>å°è¯•ä½¿ç”¨ CAS æ–¹å¼æŠ¢å é”</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">(<span class="hljs-type">int</span> acquires)</span> {
    <span class="hljs-keyword">if</span> (getState() == <span class="hljs-number">0</span> &amp;&amp; !hasQueuedPredecessors() &amp;&amp;
        compareAndSetState(<span class="hljs-number">0</span>, acquires)) {
        setExclusiveOwnerThread(Thread.currentThread());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p>å…¬å¹³é”çš„å¥½å¤„ï¼š<strong>é¿å…çº¿ç¨‹é¥¥é¥¿</strong>ï¼ˆçº¿ç¨‹é•¿æœŸæ— æ³•è·å–åˆ°é”ï¼‰</p>
<p><strong>åœ¨é«˜ç«äº‰åœºæ™¯ä¸‹ï¼Œå…¬å¹³é”çš„æ€§èƒ½å¯èƒ½ä¼šæ›´å¥½ï¼Œå› ä¸º</strong>å‡å°‘äº† CAS é‡è¯•å¼€é”€<strong>ä»è€ŒæŠµæ¶ˆ CLH é˜Ÿåˆ—çš„ç­‰å¾…æ—¶é—´</strong></p>
<h2 data-id="heading-3">çº¿ç¨‹é€šä¿¡æ¨¡å‹</h2>
<h3 data-id="heading-4">synchronized + wait/notify çš„çº¿ç¨‹é€šä¿¡æ¨¡å‹</h3>
<p>åœ¨å­¦ä¹  synchronized æ—¶ï¼Œäº†è§£åˆ°æ­é… <code>wait()</code> å’Œ <code>notifyAll()</code> æ–¹æ³•å¯ä»¥å®ç°ä¸€ä¸ªç®€æ˜“çš„çº¿ç¨‹é€šä¿¡æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PCModelDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
         <span class="hljs-type">WaitNotifyModel</span> <span class="hljs-variable">model</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WaitNotifyModel</span>();

        <span class="hljs-comment">// 2ä¸ªç”Ÿäº§è€…ï¼Œ3ä¸ªæ¶ˆè´¹è€…</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.produce(i);
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†æ—¶é—´</span>
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Producer-1"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>; i &lt;= <span class="hljs-number">10</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.produce(i);
                    Thread.sleep(<span class="hljs-number">150</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Producer-2"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">200</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-1"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">250</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-2"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">300</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-3"</span>);

        System.out.println(<span class="hljs-string">"===== å¯åŠ¨ synchronized + wait/notify æµ‹è¯• ====="</span>);
        c1.start(); c2.start(); c3.start();
        p1.start(); p2.start();

        <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span>
        p1.join(); p2.join();
        c1.join(); c2.join(); c3.join();
        System.out.println(<span class="hljs-string">"===== synchronized æµ‹è¯•å®Œæˆ =====\n"</span>);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WaitNotifyModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Queue&lt;Integer&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">capacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produce</span><span class="hljs-params">(<span class="hljs-type">int</span> item)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-keyword">while</span> (queue.size() == capacity) {
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [producer] é˜Ÿåˆ—å·²æ»¡ï¼Œä¸èƒ½ç»§ç»­æ·»åŠ å…ƒç´ ï¼Œç”Ÿäº§è€…é‡Šæ”¾é”"</span>);
            wait(); <span class="hljs-comment">// 1. é‡Šæ”¾é” 2. è¿›å…¥é”å¯¹è±¡ Monitor çš„ waitSet</span>
        }
        queue.add(item);
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [producer] é˜Ÿåˆ—æ·»åŠ å…ƒç´  "</span> + item + <span class="hljs-string">", å…ƒç´ æ•°é‡="</span> + queue.size() + <span class="hljs-string">", å”¤é†’æ¶ˆè´¹è€…"</span>);
        notifyAll(); <span class="hljs-comment">// å”¤é†’è·å–é”çš„çº¿ç¨‹ï¼ˆåŒ…æ‹¬æ‰€æœ‰æ¶ˆè´¹è€…å’ŒåŒæ ·ç­‰å¾…é”çš„ç”Ÿäº§è€…ï¼ï¼‰</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">int</span> <span class="hljs-title function_">consume</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-keyword">while</span> (queue.isEmpty()) {
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [consumer] é˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œç­‰å¾…ç”Ÿäº§è€…æ·»åŠ å…ƒç´ ï¼Œæ¶ˆè´¹è€…é‡Šæ”¾é”"</span>);
            wait(); <span class="hljs-comment">// 1. é‡Šæ”¾é” 2. è¿›å…¥é”å¯¹è±¡ Monitor çš„ waitSet</span>
        }
        <span class="hljs-type">int</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> queue.poll();
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [consumer] ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´  "</span> + item + <span class="hljs-string">", å…ƒç´ æ•°é‡="</span> + queue.size() + <span class="hljs-string">", å”¤é†’ç”Ÿäº§è€…"</span>);
        notifyAll(); <span class="hljs-comment">// å”¤é†’è·å–é”çš„çº¿ç¨‹ï¼ˆåŒ…æ‹¬æ‰€æœ‰ç”Ÿäº§è€…å’ŒåŒæ ·ç­‰å¾…é”çš„æ¶ˆè´¹è€…ï¼ï¼‰</span>
        <span class="hljs-keyword">return</span> item;
    }
}
</code></pre>
<p>è™½ç„¶ä¹Ÿç®—æ˜¯èƒ½å®ç°ä¸€ä¸ªæ¶ˆè´¹è€…ç”Ÿäº§è€…æ¨¡å‹ï¼Œä½†æ˜¯å­˜åœ¨é—®é¢˜ï¼š<code>notifyAll()</code> ä¼šå”¤é†’æ‰€æœ‰çº¿ç¨‹</p>
<p><strong>å› ä¸ºæ‰€æœ‰ç”Ÿäº§è€…å’Œæ‰€æœ‰æ¶ˆè´¹è€…ä»–ä»¬è°ƒç”¨ <code>wait()</code> æ–¹æ³•åï¼Œéƒ½è¿›å…¥é”å¯¹è±¡ Monitor çš„åŒä¸€ä¸ª waitSetï¼›å½“ waitSet ä¸­çš„çº¿ç¨‹æ”¶åˆ° <code>notifyAll()</code> å”¤é†’æ—¶ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå¼€å§‹ç«äº‰é”ï¼ˆåŒ…æ‹¬æ‰€æœ‰ç”Ÿäº§è€…å’Œæ‰€æœ‰æ¶ˆè´¹è€…ï¼‰ï¼Œè¿™æ ·ä¼šé€ æˆä¸å¿…è¦çš„ç«äº‰</strong></p>
<h3 data-id="heading-5">ReentrantLock + Condition çš„çº¿ç¨‹é€šä¿¡æ¨¡å‹</h3>
<p>åœ¨ <code>ReentrantLock</code> ä¸­ï¼ŒåŒæ ·å¯ä»¥å®ç°çº¿ç¨‹é€šä¿¡æ¨¡å‹ï¼Œæ˜¯å€ŸåŠ© <code>Condition</code> å·¥å…·å®ç°ï¼Œå¹¶ä¸”å¯ä»¥å®ç°æ›´ç²¾å‡†çš„å”¤é†’ (é¿å… <code>notifyAll()</code> å”¤é†’æ— å…³çº¿ç¨‹)</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PCModelDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">ConditionLockModel</span> <span class="hljs-variable">model</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConditionLockModel</span>();

        <span class="hljs-comment">// 2ä¸ªç”Ÿäº§è€…ï¼Œ3ä¸ªæ¶ˆè´¹è€…</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.produce(i);
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†æ—¶é—´</span>
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Producer-1"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>; i &lt;= <span class="hljs-number">10</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.produce(i);
                    Thread.sleep(<span class="hljs-number">150</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Producer-2"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">200</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-1"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">250</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-2"</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
                <span class="hljs-keyword">try</span> {
                    model.consume();
                    Thread.sleep(<span class="hljs-number">300</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }, <span class="hljs-string">"Consumer-3"</span>);

        System.out.println(<span class="hljs-string">"===== å¯åŠ¨ Lock + Condition æµ‹è¯• ====="</span>);
        c1.start(); c2.start(); c3.start();
        p1.start(); p2.start();

        <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span>
        p1.join(); p2.join();
        c1.join(); c2.join(); c3.join();
        System.out.println(<span class="hljs-string">"===== Lock æµ‹è¯•å®Œæˆ =====\n"</span>);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConditionLockModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Queue&lt;Integer&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">capacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Lock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
    <span class="hljs-comment">// ä¸¤ä¸ªç‹¬ç«‹æ¡ä»¶é˜Ÿåˆ—</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Condition</span> <span class="hljs-variable">notFull</span> <span class="hljs-operator">=</span> lock.newCondition();  <span class="hljs-comment">// é˜Ÿåˆ—ä¸æ»¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Condition</span> <span class="hljs-variable">notEmpty</span> <span class="hljs-operator">=</span> lock.newCondition(); <span class="hljs-comment">// é˜Ÿåˆ—éç©º</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produce</span><span class="hljs-params">(<span class="hljs-type">int</span> item)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        lock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (queue.size() == capacity) {
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [producer] é˜Ÿåˆ—å·²æ»¡ï¼Œä¸èƒ½ç»§ç»­æ·»åŠ å…ƒç´ ï¼Œç”Ÿäº§è€…é‡Šæ”¾é”"</span>);
                notFull.await(); <span class="hljs-comment">// 1. é‡Šæ”¾é” 2. è¿›å…¥ notFull æ¡ä»¶é˜Ÿåˆ—</span>
            }
            queue.add(item);
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [producer] é˜Ÿåˆ—æ·»åŠ å…ƒç´  "</span> + item + <span class="hljs-string">", å…ƒç´ æ•°é‡="</span> + queue.size() + <span class="hljs-string">", å”¤é†’æ¶ˆè´¹è€…"</span>);
            notEmpty.signal(); <span class="hljs-comment">// ä»…å”¤é†’ notEmpty é˜Ÿåˆ—ï¼ˆæ‰€æœ‰æ¶ˆè´¹è€…ï¼‰</span>
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">consume</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        lock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (queue.isEmpty()) {
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [consumer] é˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œç­‰å¾…ç”Ÿäº§è€…æ·»åŠ å…ƒç´ ï¼Œæ¶ˆè´¹è€…é‡Šæ”¾é”"</span>);
                notEmpty.await(); <span class="hljs-comment">// 1. é‡Šæ”¾é” 2. è¿›å…¥ notEmpty æ¡ä»¶é˜Ÿåˆ—</span>
            }
            <span class="hljs-type">int</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> queue.poll();
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" [consumer] ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´  "</span> + item + <span class="hljs-string">", å…ƒç´ æ•°é‡="</span> + queue.size() + <span class="hljs-string">", å”¤é†’ç”Ÿäº§è€…"</span>);
            notFull.signal(); <span class="hljs-comment">// ä»…å”¤é†’ notFull é˜Ÿåˆ—ï¼ˆæ‰€æœ‰ç”Ÿäº§è€…ï¼‰</span>
            <span class="hljs-keyword">return</span> item;
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }
}
</code></pre>
<p>é€šè¿‡å®šä¹‰ä¸¤ä¸ªä¸åŒçš„ <code>Condition</code>ï¼š<code>notFull</code> &amp; <code>notEmpty</code>ï¼Œè¿™æ ·å¯ä»¥åšåˆ°ç²¾å‡†å”¤é†’ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</p>
<p><strong><code>Condition</code> çš„å‡ºç°ï¼Œè®©çº¿ç¨‹é€šä¿¡æ¨¡å‹ä» â€œå¹¿æ’­é€šçŸ¥â€ å‡çº§åˆ° â€œç²¾å‡†é€šçŸ¥â€</strong></p>
<h2 data-id="heading-6">ReentrantLock å’Œ synchronized å¯¹æ¯”</h2>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>ReentrantLock</th><th>synchronized</th></tr></thead><tbody><tr><td>è¶…æ—¶æ§åˆ¶</td><td><code>tryLock()</code></td><td>ä¸æ”¯æŒ</td></tr><tr><td>ä¸­æ–­å“åº”</td><td><code>lockInterruptibly()</code></td><td>ä¸æ”¯æŒ</td></tr><tr><td>å…¬å¹³é”</td><td><code>new ReentrantLock(true)</code></td><td>ä¸æ”¯æŒ</td></tr><tr><td>æ¡ä»¶é˜Ÿåˆ—</td><td>ä¸åŒ <code>Condition</code> ç²¾å‡†å”¤é†’ä¸åŒçº¿ç¨‹</td><td>æ‰€æœ‰çº¿ç¨‹éƒ½è¿›å…¥é”å¯¹è±¡ Monitor çš„ waitSet</td></tr><tr><td>é”é‡Šæ”¾</td><td>å¿…é¡»æ‰‹åŠ¨è°ƒç”¨ <code>lock.unlock()</code></td><td>è‡ªåŠ¨é‡Šæ”¾</td></tr></tbody></table>
<p><strong><code>ReentrantLock</code> ä¸æ˜¯ <code>synchronized</code> çš„æ›¿ä»£å“ï¼Œç›¸åå¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼ŒåŸºæœ¬ä¸Šéƒ½èƒ½ç”¨ <code>synchronized</code> è§£å†³é—®é¢˜ï¼Œå› ä¸ºä»–ç”¨æ³•ç®€å•ï¼Œå¹¶ä¸”ç»è¿‡é”å‡çº§çš„ä¼˜åŒ–ï¼Œæ€§èƒ½ä¹Ÿä¸ä¼šå¤ªå·®ï¼›ä½†æ˜¯å¦‚æœæ¶‰åŠåˆ°è¶…æ—¶ã€ä¸­æ–­ã€å…¬å¹³é”ç­‰è¿›é˜¶åœºæ™¯ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨ <code>ReentrantLock</code></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini CLI V0.22å‘å¸ƒäº†Conductorå’ŒEndor Labså¹¶å‘Free Tierç”¨æˆ·å¼€æ”¾äº†Gemini 3]]></title>    <link>https://juejin.cn/post/7593311807587352582</link>    <guid>https://juejin.cn/post/7593311807587352582</guid>    <pubDate>2026-01-11T06:08:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593311807587352582" data-draft-id="7593292445300621331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini CLI V0.22å‘å¸ƒäº†Conductorå’ŒEndor Labså¹¶å‘Free Tierç”¨æˆ·å¼€æ”¾äº†Gemini 3"/> <meta itemprop="keywords" content="Gemini,Google"/> <meta itemprop="datePublished" content="2026-01-11T06:08:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æºªå½¼å²¸"/> <meta itemprop="url" content="https://juejin.cn/user/976781670357400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini CLI V0.22å‘å¸ƒäº†Conductorå’ŒEndor Labså¹¶å‘Free Tierç”¨æˆ·å¼€æ”¾äº†Gemini 3
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976781670357400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æºªå½¼å²¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T06:08:15.000Z" title="Sun Jan 11 2026 06:08:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å°ä¼™ä¼´ä»¬å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æºªï¼Œè§å­—å¦‚é¢ã€‚2025å¹´12æœˆ22æ—¥ï¼ŒGoogleå‘å¸ƒäº†Gemini CLI V0.22.0ç‰ˆæœ¬ï¼Œå‘æ‰€æœ‰å…è´¹ç”¨æˆ·å¼€æ”¾äº†Gemini 3ç³»åˆ—æ¨¡å‹</p>
<p>Gemini CLIæ›´æ–°åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle-gemini%2Fgemini-cli%2Fdiscussions%2F15488" target="_blank" title="https://github.com/google-gemini/gemini-cli/discussions/15488" ref="nofollow noopener noreferrer">github.com/google-gemiâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9eafe59d37a44b0a6bd7d09540286e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=mn2KxwiktBjGMLto6T4b7ksysXI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åªè¦æ˜¯Free Tierç”¨æˆ·ï¼ŒGemini CLIæ›´æ–°åˆ°V0.22.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¼€å¯Preview Featureså°±å¯ä»¥ä½¿ç”¨Gemini 3ç³»åˆ—æ¨¡å‹äº†ï¼Œç›®å‰é™¤äº†Gemini 3 Proè¿˜å¼€æ”¾äº†Gemini 3 Flashã€‚</p>
<h2 data-id="heading-1">å½“å‰ä½¿ç”¨ç‰ˆæœ¬</h2>
<p>0.22.4</p>
<h2 data-id="heading-2">æ›´æ–°é…ç½®</h2>
<p>æƒ³åœ¨æœ€æ–°ç‰ˆæœ¬Gemini CLIä¸­ä½¿ç”¨Gemini 3ç³»åˆ—æ¨¡å‹ï¼Œåªéœ€è¦æ‰§è¡Œä¸¤æ­¥æ“ä½œã€‚</p>
<p>ç¬¬ä¸€æ­¥æ›´æ–°Gemini CLIåˆ°æœ€æ–°ç‰ˆæœ¬</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$Â brew</span> upgrade gemini-cli
</code></pre>
<p>æ›´æ–°å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥å‘½ä»¤ gemini -v æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œåªè¦ç‰ˆæœ¬åœ¨ 0.22.0 ç‰ˆæœ¬åŠä»¥ä¸Šç‰ˆæœ¬å³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b709b9707dba416aa2e8b236fb87e007~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=S%2Bf0dCCPiev7mrJ9mvjBZ5VKDm4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬äºŒæ­¥å¼€å¯Preview Featuresï¼Œåœ¨äº¤äº’å¼å‘½ä»¤ä¸­è¾“å…¥ /settingsï¼Œå¼€å¯ã€Preview Featuresã€‘åä¿å­˜é…ç½®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75bb65ef5a674357b4f1e2fd429af4e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=azEnJpE75qleve%2FV4Aq9twu9ejg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¾“å…¥ /model åˆ‡æ¢åˆ°ã€Autoï¼ˆGemini 3ï¼‰ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67961dad87ca47c8876bf1829f7d104a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=Udqk7M2Nv003sif6Moqj%2F3qwSNI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-3">æ‰©å±•æ’ä»¶æ›´æ–°</h2>
<p>é™¤äº†Gemin CLIçš„æ›´æ–°ï¼Œè¿™æ¬¡è¿˜å¸¦æ¥äº† Conductor å’Œ Endor Labs 2ä¸ªé‡é‡çº§æ‰©å±•æ’ä»¶çš„æ›´æ–°</p>
<h3 data-id="heading-4">Conductor</h3>
<p>æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼ŒConductorä¸æ˜¯ç®€å•åœ°ç¼–å†™ä»£ç è€Œæ˜¯å°†Gemini CLIè½¬å˜ä¸ºä¸€ä¸ªä¸»åŠ¨çš„é¡¹ç›®ç»ç†ï¼Œéµå¾ªä¸¥æ ¼çš„åè®®æ¥æŒ‡å®šã€è§„åˆ’å’Œå®æ–½è½¯ä»¶åŠŸèƒ½å’Œ bug ä¿®å¤ï¼Œç¡®ä¿æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä¸€è‡´çš„ã€é«˜è´¨é‡çš„ç”Ÿå‘½å‘¨æœŸ: Context -&gt; Spec &amp; Plan -&gt; Implementã€‚</p>
<p>ConductorèƒŒåçš„ç†å¿µå¾ˆç®€å•ï¼šå°±æ˜¯è®©äººèƒ½å¤ŸæŒæ§AIç”Ÿæˆä»£ç çš„æ–¹å‘å’ŒèŒƒå›´ã€‚é€šè¿‡å°†ä¸Šä¸‹æ–‡è§†ä½œä»£ç ä¹‹å¤–çš„å—æ§å·¥ä»¶ï¼Œå°†ä»£ç åº“è½¬åŒ–ä¸ºå•ä¸€çœŸå®å¯ä¿¡çš„æ•°æ®æºï¼Œå®ƒä»¥æ·±åº¦æŒä¹…çš„é¡¹ç›®è®¤çŸ¥é©±åŠ¨ç€æ¯æ¬¡ç¼–ç äº¤äº’ã€‚</p>
<p>Githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgemini-cli-extensions%2Fconductor" target="_blank" title="https://github.com/gemini-cli-extensions/conductor" ref="nofollow noopener noreferrer">github.com/gemini-cli-â€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a8efec6a1e4416dae1648deaa2afb9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=EMPqWAcLkPy9Aj8KIodKXlquPvg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-5">å®‰è£…è®¾ç½®</h4>
<p>ä½¿ç”¨Conductorå‰éœ€è¦å…ˆå®‰è£…æ‰©å±•æ’ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤è¿›è¡Œå®‰è£…</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$Â gemini</span> extensions install https:<span class="hljs-comment">//github.com/gemini-cli-extensions/conductor</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9ae7d971b1c4e30bedaa4478f9035f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=MRuCGa%2FsAI%2FKEUu2ULNhDioz%2BiQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥ gemini extensions list æŸ¥çœ‹å®‰è£…åˆ—è¡¨ï¼Œçœ‹åˆ°Conductorä¿¡æ¯è¡¨ç¤ºå®‰è£…æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fca8f1cac1884ae68e01170f3857ed23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=PEtU3gHzvviMwmF%2FGuVofSSNMv4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡æ‰©å±•ä¿¡æ¯å¯ä»¥çœ‹åˆ°Conductoræ‰©å±•é»˜è®¤åªæä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡é…ç½®</p>
<h4 data-id="heading-6">è‡ªå®šä¹‰å‘½ä»¤</h4>
<p>åœ¨äº¤äº’å¼å‘½ä»¤ä¸­è¾“å…¥ /conductor å¯ä»¥çœ‹åˆ°Conductoræä¾›çš„è‡ªå®šä¹‰å‘½ä»¤åˆ—è¡¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2011c86bbed74d40a1e5dfc088584539~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=r1uzc2sxb5KJGdRTQUnfjOzP%2FTc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Conductoræä¾›äº†5ä¸ªè‡ªå®šä¹‰å‘½ä»¤ï¼Œå…¶ä¸­å‰3ä¸ªæ˜¯æ ¸å¿ƒå‘½ä»¤ï¼š</p>
<ul>
<li>/conductor:setupï¼šé¡¹ç›®åˆå§‹åŒ–ã€éœ€æ±‚èƒŒæ™¯ã€æŠ€æœ¯æ ˆå’Œçº¦æŸï¼Œæ¯ä¸ªé¡¹ç›®è¿è¡Œä¸€æ¬¡</li>
<li>/conductor:newTrackï¼šå¼€å¯ä¸€ä¸ªæ–°çš„Trackï¼ˆå·¥ä½œå•å…ƒï¼‰ï¼Œå¯ä»¥æ˜¯æ–°ç‰¹æ€§æˆ–bugä¿®å¤ï¼Œç”Ÿæˆ spec.md å’Œ plan.md</li>
<li>/conductor:implementï¼šæ ¹æ®åˆ¶å®šçš„è§„èŒƒå’Œè®¡åˆ’å¥½æ‰§è¡Œå®šä¹‰çš„ä»»åŠ¡</li>
<li>/conductor:statusï¼šæ˜¾ç¤ºä»»åŠ¡è¿›åº¦çŠ¶æ€</li>
<li>/conductor:revertï¼šæ ¹æ®Trackå›æ»šä»»åŠ¡</li>
</ul>
<h4 data-id="heading-7">æ­¥éª¤ä¸€ï¼šåˆå§‹åŒ–é¡¹ç›®çº¦æŸ</h4>
<p>å¯ä»¥ä¸Gemini CLIå……åˆ†è®¨è®ºéœ€æ±‚åå†æ‰§è¡Œ/conductor:setupï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡/conductor:setupè¿›è¡Œéœ€æ±‚ã€çº¦æŸæè¿°</p>
<pre><code class="hljs language-arduino" lang="arduino">/conductor:setup ä½¿ç”¨React+Vite+TailWindcssåˆ›å»ºä¸€ä¸ªtodo liståº”ç”¨ï¼ŒåŒ…å«ä»»åŠ¡çš„åˆ›å»ºã€åˆ é™¤ã€ä»»åŠ¡æ£€ç´¢ï¼Œä½¿ç”¨zustandçŠ¶æ€ç®¡ç†ï¼Œéå¿…è¦ä¸è¦å¼•å…¥å…¶ä»–ä¸‰æ–¹åº“
</code></pre>
<p>å½“äº§å“éœ€æ±‚å­˜åœ¨ç–‘é—®æ—¶ï¼ŒGeminiä¼šè¯¢é—®æˆ‘ä»¬é—®é¢˜ä»¥å®šä¹‰é¡¹ç›®çš„æ„¿æ™¯å’ŒåŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®é—®é¢˜ç»™å‡ºå¯¹åº”å›ç­”</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20bce2dc48f3464ab10a417269898846~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=7NrU728veZ8Ld1eWPHAHVZL6v%2FI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›ç­”ä¸€ä¸ªé—®é¢˜åï¼ŒGeminiä¼šæ ¹æ®é€‰æ‹©ç»§ç»­è¯¢é—®å…¶ä»–éœ€æ±‚é—®é¢˜</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26fbfa03b5ad4ad3b08de7974af1ce8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=YxkMQoDQvW6Bj2lH2J5f9%2FaIsQ0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ²¡æœ‰ç–‘é—®åï¼ŒGeminiä¼šä¸ºæˆ‘ä»¬èµ·è‰äº§å“æŒ‡å—ï¼ŒåŒ…å« é¡¹ç›®èƒŒæ™¯ã€ç›®æ ‡å—ä¼—ã€æ ¸å¿ƒç›®æ ‡ å’Œ ä¸»è¦åŠŸèƒ½ ç­‰ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æ ¹æ®Geminiæç¤ºé€‰æ‹©æ‰¹å‡†æˆ–è€…ç»§ç»­å’ŒGeminiè®¨è®ºè°ƒæ•´äº§å“æŒ‡å—</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43a47ec2b24f480f9dea072057ef09e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=tn%2FJzzAsQxG%2BihzZ6Muh8apd7lI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç»è¿‡æ¼«é•¿çš„é—®ç­”ç¯èŠ‚ï¼Œæœ€ç»ˆGeminiç”Ÿæˆçš„Conductoræ–‡æ¡£ç»“æ„å¦‚ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58681f32fc5346f78c1069c1bb130d5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=3sWaqv7%2F15mCZ6Sf25WMYAL6gD8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">conductor/
â”œâ”€â”€ product.md Â  Â  Â  Â  Â Â <span class="hljs-comment"># äº§å“å®šä¹‰å’Œç›®æ ‡</span>
â”œâ”€â”€ product-guidelines.md<span class="hljs-comment"># äº§å“æŒ‡å—</span>
â”œâ”€â”€ tech-stack.md Â  Â  Â  Â <span class="hljs-comment"># æŠ€æœ¯æ ˆè¯´æ˜</span>
â”œâ”€â”€ workflow.md Â  Â  Â  Â  Â <span class="hljs-comment"># å·¥ä½œæµåå¥½</span>
â””â”€â”€ code_styleguides/ Â  Â <span class="hljs-comment"># ä»£ç é£æ ¼æŒ‡å—</span>
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤äºŒï¼šåˆ›å»ºæ–°çš„Track</h4>
<p>åˆ›å»ºæ–°åŠŸèƒ½æˆ–è€…ä¿®å¤é—®é¢˜æ—¶ï¼Œå…ˆç”¨ /conductor:newTrack ç”Ÿæˆè§„èŒƒå’Œè®¡åˆ’ï¼Œè¿™ä¸€æ­¥å¾ˆé‡è¦Conductorä¼šæ ¹æ®ä½ çš„æè¿°å’Œé¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„éœ€æ±‚æ–‡æ¡£å’Œå®ç°æ­¥éª¤ã€‚</p>
<p>ç›´æ¥è¾“å…¥äº¤äº’å¼å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">/conductor:newTrack æ·»åŠ ä»»åŠ¡å®Œæˆè¿›åº¦å±•ç¤ºåŠŸèƒ½
</code></pre>
<p>åŒæ ·æ ¹æ®Geminiæé—®å›ç­”é—®é¢˜ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´æ¥å®Œæˆï¼Œè¦ç¡®ä¿AIç†è§£äº†ä½ çš„æ„å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef7c4d724afb42a5b542a2c5631c75c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=vaAe72p3LIMaT0GA0O%2B0rhsNU2I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰§è¡Œå®Œæˆåï¼Œç”Ÿæˆçš„Trackç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1426279ed2f45e19276027c02b9170f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=0jkqmg%2F2kii7HyW7oi3F1YghD3s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Conductorçš„Trackä¼šç”Ÿæˆä¸¤ä¸ªå…³é”®æ–‡ä»¶ï¼š</p>
<ul>
<li>spec.mdï¼šè¯¦ç»†çš„éœ€æ±‚è§„èŒƒ</li>
<li>plan.mdï¼šå¯æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨</li>
</ul>
<h4 data-id="heading-9">æ­¥éª¤ä¸‰ï¼šå®æ–½è®¡åˆ’</h4>
<p>åœ¨äº¤äº’å¼å‘½ä»¤ä¸­è¾“å…¥ /conductor:implement mvp_todo_20260102 å¼€å§‹å®æ–½è®¡åˆ’ï¼Œåªæœ‰ä¸€ä¸ªä»»åŠ¡æ—¶ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥ /conductor:implement</p>
<p>Conductorä¼šæŒ‰ç…§ plan.md é‡Œçš„ä»»åŠ¡é¡ºåºé€ä¸ªå®Œæˆï¼Œæ¯å®Œæˆä¸€ä¸ªå°±æ‰“å‹¾æ ‡è®°ã€‚ä¸­é€”å¯ä»¥æš‚åœï¼Œä¸‹æ¬¡ç»§ç»­æ—¶å®ƒä¼šä»ä¸Šæ¬¡çš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef04b0806d5e446ca2863b7231f0de5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=K1CrsKIRaBMDjCRzCn1U1v9mg00%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯ä¸ªè®¡åˆ’å®æ–½å®ŒæˆåGeminiéƒ½ä¼šè¿›è¡Œè‡ªæµ‹åŠå¼€å‘è€…éªŒè¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cea611b37d0a4c8f82648b4ae19802a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=8W5co2KGbeXDBeN%2B36UORvCZuoo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å‘ç°é—®é¢˜å¯ä»¥ç›´æ¥é€šè¿‡è‡ªç„¶è¯­è¨€ä¸Geminiå¯¹è¯ä¿®å¤</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2a3272b91d24e10b0287a18f6950265~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=q5G%2BXztDbu5mS1uDwxDax4MqqMI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŠŸèƒ½ç¬¦åˆé¢„æœŸä¹Ÿéœ€è¦åŒæ­¥Geminiï¼ŒGeminiæ‰ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€æ­¥å¼€å‘ä»»åŠ¡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33891e04995a41f1ab0f5e6377613cb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=4z45vLGpZMmXQewGKr6%2FAsGs1Hg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Trackéƒ½æ‰§è¡Œå®Œæˆåä¼šæç¤ºå½’æ¡£æˆ–ç§»é™¤æ“ä½œç”¨äºæ ‡è®°Trackå®Œæˆï¼Œé€šå¸¸é€‰æ‹©å½’æ¡£å³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d209eb6112604908a53925eae906770b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=pEY0hLx6w1VNkKXPc%2BDY%2F9pAudE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½’æ¡£å®Œæˆåï¼ŒConductorä¼šå°† tracks ä¸­çš„ä»»åŠ¡ç§»åŠ¨åˆ° archive ç›®å½•ä¸­</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cec301f223b4bfebd32654516cd62b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=m9h%2B6tYRpvn%2FCZDHHbTWTP93RQ8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬ä¸€ä¸ªTrackå®Œæˆåæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3265309a6dea43aa9740592ac1f7e7ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=E9KWVuEqVkOkoWTg%2BATRaK3Pfbo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-10">ä»»åŠ¡æ“ä½œ</h4>
<p>Conductoræä¾›äº†ä»»åŠ¡çŠ¶æ€æŸ¥çœ‹å‘½ä»¤ï¼Œç›´æ¥è¾“å…¥äº¤äº’å¼å‘½ä»¤ /conductor:status å³å¯æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ï¼ˆè¿‡ç¨‹æœ‰ç‚¹æ…¢ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å®æ—¶åˆ†æçš„ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5e62b060a0a4b909066a4001697a750~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=VW%2FwTS6rc2Pae0B3OxpfKjgX8E0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨Conductoræœ‰ä¸ªå¥½å¤„å°±æ˜¯ä¸ç”¨æ‹…å¿ƒä»£ç ç‰ˆæœ¬ç®¡ç†é—®é¢˜ï¼Œä»»åŠ¡å˜æ›´æˆ–è€…æ‰§è¡Œå®ŒæˆåConductorä¼šè‡ªè¡Œåˆ›å»ºç‰ˆæœ¬æ§åˆ¶å’Œæ£€æŸ¥ç‚¹ï¼Œæ ¹æ®è¿™äº›commitæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¿›è¡Œä»£ç ç‰ˆæœ¬ç®¡ç†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b7fe1f538f54f00823a60d41e7127bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=C4OJa%2Bs%2BMs4Ql6aZdHl4qftrpYY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸è¿‡Conductoræä¾›äº†æ›´ä¼˜çš„å›æ»šæ“ä½œï¼ŒConductorçš„å›æ»šæ˜¯æ ¹æ®Trackæ¥çš„ï¼Œè€Œä¸æ˜¯æŒ‰git commitï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ç²¾ç¡®åœ°æ’¤é”€æŸä¸ªåŠŸèƒ½çš„å®ç°ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¯¯ä¼¤å…¶ä»–æ”¹åŠ¨ã€‚ä½¿ç”¨ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåœ¨äº¤äº’å¼å‘½ä»¤ä¸­ç›´æ¥ä½¿ç”¨ /conductor:revert å‘½ä»¤</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09a977127d90429d9e9703ec7d61d64e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=7liUZ%2F7W6B66A454qjarQaQLIzU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-11">Endor Labs</h3>
<p>Endor Labsé›†æˆäº† Endor Labs MCP æœåŠ¡å™¨å’Œ Gemini CLIï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’ç›´æ¥ä»ç»ˆç«¯å¯ç”¨é«˜çº§ä»£ç åˆ†æå’Œæ¼æ´æ‰«æåŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦è´Ÿè´£æé—®ï¼Œä»£ç ç›¸å…³é—®é¢˜äº¤ç»™Endor Labså°±å¯ä»¥äº†ã€‚</p>
<p>Githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fendorlabs%2Fgemini-extension" target="_blank" title="https://github.com/endorlabs/gemini-extension" ref="nofollow noopener noreferrer">github.com/endorlabs/gâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d2c1046fe6e4134b0a4dfade8edeaa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=gop5v3SkLKWTtmZ5CFOTkjXeVMM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨Endor Labså‰ä¹Ÿéœ€è¦å…ˆè¿›è¡Œå®‰è£…ï¼Œåœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤å®‰è£…</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$Â gemini</span> extensions install https:<span class="hljs-comment">//github.com/endorlabs/gemini-extension</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb8ab55a47dd4755a7e753cd427db1c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=NidgYneNCx3XM4b58oOke2brklM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥ gemini extensions list æŸ¥çœ‹å®‰è£…åˆ—è¡¨ï¼Œçœ‹åˆ°Endor Labsä¿¡æ¯è¡¨ç¤ºå®‰è£…æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fabc44c626404f669621b7d0d29286c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=ygrFOn1T9gH30KSY%2BpZa%2FJchz5U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°Endor Labsæ‰©å±•æä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡é…ç½®å’Œä¸€ä¸ª endor-labs MCPæœåŠ¡ã€‚Endor Labsçš„ä½¿ç”¨ç›¸å¯¹è¦ç®€å•å¾ˆå¤šï¼Œç›´æ¥ä½¿ç”¨è‡ªç„¶è¯­è¨€æå‡ºé—®é¢˜å³å¯</p>
<pre><code class="hljs">æ‰«ææˆ‘çš„é¡¹ç›®æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
</code></pre>
<p>Endor Labsä¼šè°ƒç”¨endor-labs MCPæœåŠ¡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7056542e31434b0699931ae740bafd0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=T0GiBLaRVrJWvRrutOlT5xFtKlo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é¦–æ¬¡ä½¿ç”¨endor-labs MCPæœåŠ¡ä¼šæ‰“å¼€æµè§ˆå™¨æç¤ºè¿›è¡Œæˆæƒï¼Œæˆæƒå®Œæˆåå³å¯æ­£å¸¸ä½¿ç”¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c475dd8dec346afa317d15010313f4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=DV9NO5SQeCX%2BSwf6c%2BoYAvsLzYg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰«æå®Œæˆåå³å¯çœ‹åˆ°Endor Labçš„åˆ†ææŠ¥å‘Š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f16665fd50a1433e825a4fa181ba1995~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716495&amp;x-signature=c9OkXzEIdXQqdgdChDCE6Mkuq%2BA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>åœ¨å¤æ‚é¡¹ç›®ä¸Šï¼ŒConductorçš„è¿™ç§å…ˆè§„åˆ’åæ‰§è¡Œçš„æ¨¡å¼æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå®ƒå¼ºåˆ¶æˆ‘ä»¬åœ¨åŠ¨æ‰‹ä¹‹å‰è¦æƒ³æ¸…æ¥šåšä»€ä¹ˆï¼Œæ¶‰åŠå¼€å‘è¿‡ç¨‹çš„æ–¹æ–¹é¢é¢çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è¾¹åšè¾¹æ”¹ï¼Œæ¯ä¸ªä»»åŠ¡å¼€å‘å®Œæˆåéƒ½ä¼šè¦æ±‚æˆ‘ä»¬è¿›è¡ŒMVPæµ‹è¯•ï¼Œè¯¥æœºåˆ¶ä»ä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†AIç”Ÿæˆä»£ç å±å±±çš„å¯èƒ½ã€‚ä½†Conductorä¹Ÿæœ‰ç¼ºç‚¹ï¼Œè¿™ç§ä¸Šä¸‹æ–‡é©±åŠ¨æ–¹å¼æ„å‘³ç€æ¯æ¬¡æ“ä½œéƒ½è¦è¯»å–å’Œåˆ†æé¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œå¯¹Tokençš„æ¶ˆè€—ä¼šæ˜æ˜¾å¢åŠ ã€‚å› ä¸ºConductoræ¯å®Œæˆä¸€ä¸ªä»»åŠ¡éƒ½è¦æ±‚å¼€å‘è€…è¿›è¡Œè‡ªæµ‹åé¦ˆï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ‹‰é•¿äº†ç ”å‘å‘¨æœŸã€‚</p>
<h2 data-id="heading-13">å‹æƒ…æç¤º</h2>
<p>è§åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FaLb1WR7Fqq8rTXG7QYoacg" target="_blank" title="https://mp.weixin.qq.com/s/aLb1WR7Fqq8rTXG7QYoacg" ref="nofollow noopener noreferrer">Gemini CLI V0.22å‘å¸ƒäº†Conductorå’ŒEndor Labså¹¶å‘Free Tierç”¨æˆ·å¼€æ”¾äº†Gemini 3</a></p>
<blockquote>
<p>æœ¬æ–‡åŒæ­¥è‡ªå¾®ä¿¡å…¬ä¼—å· "<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FaLb1WR7Fqq8rTXG7QYoacg" target="_blank" title="https://mp.weixin.qq.com/s/aLb1WR7Fqq8rTXG7QYoacg" ref="nofollow noopener noreferrer">ç¨‹åºå‘˜å°æºª</a>" ï¼Œè¿™é‡Œåªæ˜¯åŒæ­¥ï¼Œæƒ³çœ‹åŠæ—¶æ¶ˆæ¯è¯·ç§»æ­¥æˆ‘çš„å…¬ä¼—å·ï¼Œä¸å®šæ—¶æ›´æ–°æˆ‘çš„å­¦ä¹ ç»éªŒã€‚å‹æƒ…æç¤ºå‹æƒ…æç¤º</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaçº¿ç¨‹åä½œå·¥å…·ï¼šCountDownLatch ã€CyclicBarrierã€Phaserã€Semaphore ã€Exchanger]]></title>    <link>https://juejin.cn/post/7593338828218236943</link>    <guid>https://juejin.cn/post/7593338828218236943</guid>    <pubDate>2026-01-11T06:10:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828218236943" data-draft-id="7593296804110090280" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaçº¿ç¨‹åä½œå·¥å…·ï¼šCountDownLatch ã€CyclicBarrierã€Phaserã€Semaphore ã€Exchanger"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T06:10:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaçº¿ç¨‹åä½œå·¥å…·ï¼šCountDownLatch ã€CyclicBarrierã€Phaserã€Semaphore ã€Exchanger
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T06:10:47.000Z" title="Sun Jan 11 2026 06:10:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„åä½œæ˜¯ä¸å¯é¿å…çš„ã€‚Java ä» JDK 1.5 å¼€å§‹å¼•å…¥äº†Â <code>java.util.concurrent</code>ï¼ˆJUCï¼‰åŒ…ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ç³»åˆ—å¼ºå¤§çš„çº¿ç¨‹åä½œå·¥å…·ç±»ï¼Œæå¤§ç®€åŒ–äº†å¹¶å‘ç¼–ç¨‹çš„å¤æ‚æ€§ã€‚</p>
<h2 data-id="heading-0">CountDownLatchï¼ˆJDK 5+ï¼‰ï¼šå€’è®¡æ—¶é—¨é—©</h2>
<h3 data-id="heading-1">ä½¿ç”¨åœºæ™¯</h3>
<p><code>CountDownLatch</code>Â å¸¸ç”¨äºâ€œä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹å®Œæˆä»»åŠ¡åå†ç»§ç»­æ‰§è¡Œâ€çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰å­çº¿ç¨‹åˆå§‹åŒ–å®Œæ¯•å†å¯åŠ¨æœåŠ¡ã€‚</li>
<li>å¹¶å‘æµ‹è¯•ä¸­æ¨¡æ‹Ÿ N ä¸ªè¯·æ±‚åŒæ—¶å‘å‡ºåç»Ÿè®¡æ€»è€—æ—¶ã€‚</li>
<li>èµ„æºåŠ è½½å®Œæˆåç»Ÿä¸€è§¦å‘åç»­é€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-2">æ ¸å¿ƒ API</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CountDownLatch</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> count</span>)</span>;        <span class="hljs-comment">// åˆå§‹åŒ–è®¡æ•°å™¨</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">await</span>() throws InterruptedException</span>;          <span class="hljs-comment">// é˜»å¡ç­‰å¾…è®¡æ•°å½’é›¶</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> boolean <span class="hljs-title">await</span>(<span class="hljs-params"><span class="hljs-built_in">long</span> timeout, TimeUnit unit</span>)</span>;       <span class="hljs-comment">// å¸¦è¶…æ—¶çš„ç­‰å¾…</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">countDown</span>()</span>;                                 <span class="hljs-comment">// è®¡æ•°å‡ä¸€</span>
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CountDownLatchExample</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>) throws InterruptedException</span> {
        <span class="hljs-built_in">int</span> threadCount = <span class="hljs-number">5</span>;
        CountDownLatch latch = <span class="hljs-keyword">new</span> CountDownLatch(threadCount);

        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; threadCount; i++) {
            <span class="hljs-keyword">new</span> Thread(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    System.<span class="hljs-keyword">out</span>.println(Thread.currentThread().getName() + <span class="hljs-string">" æ­£åœ¨æ‰§è¡Œä»»åŠ¡..."</span>);
                    Thread.sleep(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                } <span class="hljs-keyword">finally</span> {
                    latch.countDown(); <span class="hljs-comment">// ä»»åŠ¡å®Œæˆï¼Œè®¡æ•°å‡ä¸€</span>
                }
            }).start();
        }

        latch.<span class="hljs-keyword">await</span>(); <span class="hljs-comment">// ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆï¼Œä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼"</span>);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">Thread-<span class="hljs-number">0</span> æ­£åœ¨æ‰§è¡Œä»»åŠ¡...
Thread-<span class="hljs-number">1</span> æ­£åœ¨æ‰§è¡Œä»»åŠ¡...
Thread-<span class="hljs-number">3</span> æ­£åœ¨æ‰§è¡Œä»»åŠ¡...
Thread-<span class="hljs-number">2</span> æ­£åœ¨æ‰§è¡Œä»»åŠ¡...
Thread-<span class="hljs-number">4</span> æ­£åœ¨æ‰§è¡Œä»»åŠ¡...
æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆï¼Œä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼
</code></pre>
<h3 data-id="heading-4">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<p><strong>æœåŠ¡å¯åŠ¨æ£€æŸ¥ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ç­‰å¾…æ•°æ®åº“ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—åˆå§‹åŒ–å®Œæˆ</span>
CountDownLatch startupLatch = new <span class="hljs-built_in">CountDownLatch</span>(<span class="hljs-number">3</span>);
<span class="hljs-built_in">initDB</span>(startupLatch);
<span class="hljs-built_in">initCache</span>(startupLatch);
<span class="hljs-built_in">initMQ</span>(startupLatch);
startupLatch<span class="hljs-selector-class">.await</span>();
<span class="hljs-built_in">startHttpServer</span>();
</code></pre>
<h3 data-id="heading-5">ä½¿ç”¨æ³¨æ„ç‚¹</h3>
<ul>
<li><strong>ä¸å¯é‡ç”¨</strong>ï¼šä¸€æ—¦è®¡æ•°å½’é›¶ï¼Œæ— æ³•å†æ¬¡ä½¿ç”¨ï¼ˆé™¤éæ–°å»ºå®ä¾‹ï¼‰ã€‚éœ€è¦é‡å¤ä½¿ç”¨çš„åœºæ™¯åº”è€ƒè™‘Â <code>CyclicBarrier</code>ï¼Œ</li>
<li>è‹¥æŸä¸ªçº¿ç¨‹æœªè°ƒç”¨Â <code>countDown()</code>ï¼Œä¼šå¯¼è‡´ä¸»çº¿ç¨‹æ°¸ä¹…é˜»å¡ï¼Œ å¯¼è‡´æ­»é”ï¼Œæ‰€ä»¥åŠ¡å¿…åœ¨ finally å—ä¸­è°ƒç”¨ã€‚</li>
<li><code>await()</code>Â å¯è¢«ä¸­æ–­ï¼Œéœ€å¤„ç†Â <code>InterruptedException</code>ã€‚</li>
</ul>
<h3 data-id="heading-6">åº•å±‚åŸç†</h3>
<p><code>CountDownLatch</code>Â åŸºäºÂ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D267767541%26content_type%3DArticle%26match_order%3D1%26q%3DAQS%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=267767541&amp;content_type=Article&amp;match_order=1&amp;q=AQS&amp;zhida_source=entity" ref="nofollow noopener noreferrer">AQS</a>ï¼ˆAbstractQueuedSynchronizerï¼‰</strong> Â å®ç°ï¼šï¼ˆAQS åŸç†è¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fmp.weixin.qq.com%2Fs%2FYl1jxnE562TuUqq48rag4g" target="_blank" title="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Yl1jxnE562TuUqq48rag4g" ref="nofollow noopener noreferrer">Javaå¹¶å‘ç¼–ç¨‹ï¼šLockåŸç†è¯¦è§£</a>ï¼‰</p>
<ul>
<li>å†…éƒ¨çŠ¶æ€Â <code>state</code>Â è¡¨ç¤ºå‰©ä½™è®¡æ•°å€¼ã€‚</li>
<li><code>await()</code>Â å¯¹åº” AQS çš„Â <code>acquireSharedInterruptibly(1)</code>ï¼Œå°è¯•è·å–å…±äº«é”ï¼Œè‹¥Â <code>state != 0</code>Â åˆ™å…¥é˜Ÿé˜»å¡ã€‚</li>
<li><code>countDown()</code>Â è°ƒç”¨Â <code>releaseShared(1)</code>ï¼Œå°†Â <code>state</code>Â å‡ 1ï¼Œå½“Â <code>state == 0</code>Â æ—¶å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ã€‚</li>
</ul>
<h2 data-id="heading-7">CyclicBarrierï¼ˆJDK 5+ï¼‰ï¼šå¾ªç¯å±éšœ</h2>
<h3 data-id="heading-8">ä½¿ç”¨åœºæ™¯</h3>
<p><code>CyclicBarrier</code>Â é€‚ç”¨äºâ€œå¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œå…¨éƒ¨åˆ°è¾¾æŸä¸€ç‚¹åæ‰èƒ½ç»§ç»­â€çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å¤šçº¿ç¨‹åˆ†é˜¶æ®µè®¡ç®—ï¼ˆæ¯é˜¶æ®µç»“æŸåæ±‡æ€»ç»“æœï¼‰ã€‚</li>
<li>æ¸¸æˆå¼€å‘ä¸­ç­‰å¾…æ‰€æœ‰ç©å®¶å‡†å¤‡å°±ç»ªã€‚</li>
<li>å¹¶è¡Œç®—æ³•ä¸­çš„åŒæ­¥ç‚¹ã€‚</li>
</ul>
<h3 data-id="heading-9">æ ¸å¿ƒ API</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CyclicBarrier</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> parties</span>)</span>; 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CyclicBarrier</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> parties, Runnable barrierAction</span>)</span>; <span class="hljs-comment">// æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾åæ‰§è¡Œçš„åŠ¨ä½œ</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">await</span>() throws InterruptedException, BrokenBarrierException</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">await</span>(<span class="hljs-params"><span class="hljs-built_in">long</span> timeout, TimeUnit unit</span>) throws ...</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">reset</span>()</span>; <span class="hljs-comment">// é‡ç½®å±éšœï¼ˆå¯èƒ½ä¸­æ–­å½“å‰ç­‰å¾…ï¼‰</span>
</code></pre>
<h3 data-id="heading-10">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CyclicBarrierExample</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        CyclicBarrier barrier = <span class="hljs-keyword">new</span> CyclicBarrier(<span class="hljs-number">3</span>, () -&gt; {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ‰€æœ‰çº¿ç¨‹å·²åˆ°è¾¾å±éšœï¼Œæ‰§è¡Œæ±‡æ€»æ“ä½œï¼"</span>);
        });

        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
            <span class="hljs-keyword">new</span> Thread(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    System.<span class="hljs-keyword">out</span>.println(Thread.currentThread().getName() + <span class="hljs-string">" ç¬¬ä¸€é˜¶æ®µå®Œæˆ"</span>);
                    barrier.<span class="hljs-keyword">await</span>(); <span class="hljs-comment">// ç­‰å¾…å…¶ä»–çº¿ç¨‹</span>

                    System.<span class="hljs-keyword">out</span>.println(Thread.currentThread().getName() + <span class="hljs-string">" ç¬¬äºŒé˜¶æ®µå¼€å§‹"</span>);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
            }).start();
        }
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">Thread-1 ç¬¬ä¸€é˜¶æ®µå®Œæˆ
Thread-2 ç¬¬ä¸€é˜¶æ®µå®Œæˆ
Thread-0 ç¬¬ä¸€é˜¶æ®µå®Œæˆ
æ‰€æœ‰çº¿ç¨‹å·²åˆ°è¾¾å±éšœï¼Œæ‰§è¡Œæ±‡æ€»æ“ä½œï¼
Thread-0 ç¬¬äºŒé˜¶æ®µå¼€å§‹
Thread-1 ç¬¬äºŒé˜¶æ®µå¼€å§‹
Thread-2 ç¬¬äºŒé˜¶æ®µå¼€å§‹
</code></pre>
<h3 data-id="heading-11">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<p><strong>å¤šè½®å¹¶è¡Œè®¡ç®—ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">CyclicBarrier <span class="hljs-attr">barrier</span> = new CyclicBarrier(<span class="hljs-number">4</span>, this::aggregateResults)<span class="hljs-comment">;</span>
for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 4; i++) {</span>
    executor.submit(() -&gt; {
        while (round &lt; MAX_ROUNDS) {
            computePartialResult()<span class="hljs-comment">;</span>
            barrier.await()<span class="hljs-comment">; // åŒæ­¥è¿›å…¥ä¸‹ä¸€è½®</span>
            round++<span class="hljs-comment">;</span>
        }
    })<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-12">åº•å±‚åŸç†</h3>
<p><code>CyclicBarrier</code>Â ä¸åŸºäº AQSï¼Œè€Œæ˜¯ä½¿ç”¨Â <code>ReentrantLock</code>Â +Â <code>Condition</code>Â å®ç°ï¼šï¼ˆCondition åŸç†è¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fmp.weixin.qq.com%2Fs%2FYl1jxnE562TuUqq48rag4g" target="_blank" title="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Yl1jxnE562TuUqq48rag4g" ref="nofollow noopener noreferrer">Javaå¹¶å‘ç¼–ç¨‹ï¼šLockåŸç†è¯¦è§£</a>ï¼‰</p>
<ul>
<li>æ¯æ¬¡è°ƒç”¨Â <code>await()</code>ï¼Œçº¿ç¨‹è¿›å…¥æ¡ä»¶é˜Ÿåˆ—ç­‰å¾…ã€‚</li>
<li>å½“æœ€åä¸€ä¸ªçº¿ç¨‹åˆ°è¾¾æ—¶ï¼Œå”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ï¼Œå¹¶æ‰§è¡ŒÂ <code>barrierAction</code>ï¼ˆå¦‚æœ‰ï¼‰ã€‚</li>
<li>å®Œæˆåè‡ªåŠ¨é‡ç½®è®¡æ•°å™¨ï¼Œ<strong>æ”¯æŒé‡å¤ä½¿ç”¨</strong>ã€‚</li>
</ul>
<p>è‹¥æŸä¸ªçº¿ç¨‹åœ¨ç­‰å¾…æœŸé—´è¢«ä¸­æ–­æˆ–è¶…æ—¶ï¼Œå±éšœå°†è¿›å…¥â€œæŸåâ€ï¼ˆbrokenï¼‰çŠ¶æ€ï¼Œåç»­è°ƒç”¨ä¼šæŠ›å‡ºÂ <code>BrokenBarrierException</code>ã€‚</p>
<h3 data-id="heading-13">CyclicBarrier ä¸ CountDownLatch çš„åŒºåˆ«</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>CountDownLatch</th><th>CyclicBarrier</th></tr></thead><tbody><tr><td>æ§åˆ¶æ–¹å‘</td><td>ä¸€æ–¹ç­‰å¾…å¤šæ–¹</td><td>æ‰€æœ‰çº¿ç¨‹äº’ç›¸ç­‰å¾…</td></tr><tr><td>æ˜¯å¦å¯é‡ç”¨</td><td>âŒ</td><td>âœ…</td></tr><tr><td>æ˜¯å¦æ”¯æŒå›è°ƒ</td><td>âŒ</td><td>âœ…ï¼ˆbarrierActionï¼‰</td></tr><tr><td>åº•å±‚å®ç°</td><td>AQS</td><td>ReentrantLock + Condition</td></tr></tbody></table>
<h2 data-id="heading-14">Phaserï¼ˆJDK 7+ï¼‰ï¼šçµæ´»çš„é˜¶æ®µåŒæ­¥å™¨</h2>
<p><code>Phaser</code>Â æ–°å¢äº JDK 7ï¼Œæ˜¯å¯¹Â <code>CyclicBarrier</code>Â å’ŒÂ <code>CountDownLatch</code>Â çš„å¼ºå¤§æ‰©å±•ï¼Œæ”¯æŒåŠ¨æ€æ³¨å†Œå‚ä¸è€…ã€å¤šé˜¶æ®µåŒæ­¥å’Œåˆ†å±‚ç»“æ„ï¼Œé€‚ç”¨äºæ›´å¤æ‚çš„å¹¶å‘åè°ƒåœºæ™¯ã€‚</p>
<h3 data-id="heading-15">ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li>å¤šé˜¶æ®µå¹¶è¡Œä»»åŠ¡ï¼ˆå¦‚ Map-Reduce çš„ map â†’ shuffle â†’ reduceï¼‰ã€‚</li>
<li>åŠ¨æ€å¢å‡å·¥ä½œçº¿ç¨‹ï¼ˆä¾‹å¦‚ä»»åŠ¡ä¸­é€”åŠ å…¥æ–° workerï¼‰ã€‚</li>
<li>å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—ä¸­éœ€è¦åˆ†ç»„åŒæ­¥ï¼ˆé€šè¿‡åˆ†å±‚ Phaser å®ç°ï¼‰ã€‚</li>
<li>æ›¿ä»£å¤šä¸ªÂ <code>CyclicBarrier</code>Â æˆ–Â <code>CountDownLatch</code>Â çš„ç»„åˆé€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-16">æ ¸å¿ƒ API</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ„é€ æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Phaser</span>()</span>;                     <span class="hljs-comment">// æ— åˆå§‹å‚ä¸è€…</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Phaser</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> parties</span>)</span>;          <span class="hljs-comment">// æŒ‡å®šåˆå§‹å‚ä¸è€…æ•°é‡</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Phaser</span>(<span class="hljs-params">Phaser parent</span>)</span>;        <span class="hljs-comment">// æ„å»ºçˆ¶å­åˆ†å±‚ç»“æ„</span>

<span class="hljs-comment">// æ ¸å¿ƒæ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">register</span>()</span>;               <span class="hljs-comment">// æ³¨å†Œä¸€ä¸ªæ–°å‚ä¸è€…ï¼Œè¿”å›å½“å‰é˜¶æ®µå·</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">arrive</span>()</span>;                 <span class="hljs-comment">// åˆ°è¾¾å±éšœï¼Œä¸ç­‰å¾…</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">arriveAndAwaitAdvance</span>()</span>;  <span class="hljs-comment">// åˆ°è¾¾å¹¶ç­‰å¾…å…¶ä»–å‚ä¸è€…</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">arriveAndDeregister</span>()</span>;    <span class="hljs-comment">// åˆ°è¾¾å¹¶æ³¨é”€è‡ªå·±ï¼ˆé€€å‡ºåç»­é˜¶æ®µï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> boolean <span class="hljs-title">isTerminated</span>()</span>;       <span class="hljs-comment">// æ˜¯å¦å·²ç»ˆæ­¢ï¼ˆå½“å‚ä¸è€…æ•°ä¸º0æ—¶ç»ˆæ­¢ï¼‰</span>
</code></pre>
<h3 data-id="heading-17">ä½¿ç”¨ç¤ºä¾‹</h3>
<p><strong>åŠ¨æ€å¤šé˜¶æ®µä»»åŠ¡ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">public class PhaserExample {
    public static void <span class="hljs-selector-tag">main</span>(String[] args) {
        Phaser phaser = new <span class="hljs-built_in">Phaser</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// åˆå§‹æ— å‚ä¸è€…</span>

        <span class="hljs-comment">// å¯åŠ¨3ä¸ªä»»åŠ¡çº¿ç¨‹</span>
        for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
            phaser<span class="hljs-selector-class">.register</span>(); <span class="hljs-comment">// æ³¨å†Œå‚ä¸è€…</span>
            new <span class="hljs-built_in">Thread</span>(() -&gt; {
                try {
                    for (int phase = <span class="hljs-number">0</span>; phase &lt; <span class="hljs-number">3</span>; phase++) {
                        System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(Thread.currentThread()<span class="hljs-selector-class">.getName</span>() 
                            + " å®Œæˆé˜¶æ®µ " + phase);
                        <span class="hljs-comment">// åˆ°è¾¾å±éšœå¹¶ç­‰å¾…å…¶ä»–çº¿ç¨‹</span>
                        phaser<span class="hljs-selector-class">.arriveAndAwaitAdvance</span>();
                    }
                    <span class="hljs-comment">// ä»»åŠ¡ç»“æŸï¼Œæ³¨é”€è‡ªå·±</span>
                    phaser<span class="hljs-selector-class">.arriveAndDeregister</span>();
                } catch (Exception e) {
                    e<span class="hljs-selector-class">.printStackTrace</span>();
                }
            })<span class="hljs-selector-class">.start</span>();
        }

        <span class="hljs-comment">// ä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰é˜¶æ®µå®Œæˆ</span>
        while (!phaser.isTerminated()) {
            Thread<span class="hljs-selector-class">.yield</span>();
        }
        System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>("æ‰€æœ‰é˜¶æ®µå·²å®Œæˆï¼");
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">Thread-1 å®Œæˆé˜¶æ®µ 0
Thread-2 å®Œæˆé˜¶æ®µ 0
Thread-0 å®Œæˆé˜¶æ®µ 0
Thread-0 å®Œæˆé˜¶æ®µ 1
Thread-2 å®Œæˆé˜¶æ®µ 1
Thread-1 å®Œæˆé˜¶æ®µ 1
Thread-2 å®Œæˆé˜¶æ®µ 2
Thread-1 å®Œæˆé˜¶æ®µ 2
Thread-0 å®Œæˆé˜¶æ®µ 2
æ‰€æœ‰é˜¶æ®µå·²å®Œæˆï¼
</code></pre>
<h3 data-id="heading-18">é«˜çº§ç‰¹æ€§ï¼šåˆ†å±‚ Phaser</h3>
<p>å½“å‚ä¸è€…æ•°é‡æå¤§ï¼ˆå¦‚æ•°åƒçº¿ç¨‹ï¼‰æ—¶ï¼Œå•ä¸€Â <code>Phaser</code>Â çš„åŒæ­¥å¼€é”€ä¼šå¾ˆé«˜ã€‚æ­¤æ—¶å¯æ„å»º<strong>æ ‘çŠ¶åˆ†å±‚ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Phaser root = new <span class="hljs-built_in">Phaser</span>();
Phaser group1 = new <span class="hljs-built_in">Phaser</span>(root); <span class="hljs-comment">// å­ Phaserï¼Œçˆ¶ä¸º root</span>
Phaser group2 = new <span class="hljs-built_in">Phaser</span>(root);

<span class="hljs-comment">// group1 å†…éƒ¨çº¿ç¨‹åªä¸åŒç»„åŒæ­¥ï¼Œæœ€ç»ˆç”± root æ±‡æ€»</span>
group1<span class="hljs-selector-class">.register</span>();
new <span class="hljs-built_in">Thread</span>(() -&gt; {
    group1<span class="hljs-selector-class">.arriveAndAwaitAdvance</span>(); <span class="hljs-comment">// ä»…ä¸ group1 åŒæ­¥</span>
})<span class="hljs-selector-class">.start</span>();
</code></pre>
<p>è¿™ç§ç»“æ„èƒ½æ˜¾è‘—å‡å°‘é”ç«äº‰ï¼Œæå‡å¤§è§„æ¨¡å¹¶å‘æ€§èƒ½ã€‚ã€</p>
<h3 data-id="heading-19">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<p><strong>åˆ†é˜¶æ®µå¹¶è¡Œå¤„ç†ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸‰é˜¶æ®µæ•°æ®å¤„ç†ï¼šåŠ è½½ â†’ è½¬æ¢ â†’ è¾“å‡º</span>
Phaser phaser = new <span class="hljs-built_in">Phaser</span>(<span class="hljs-number">0</span>);

List&lt;Thread&gt; workers = IntStream<span class="hljs-selector-class">.range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>)
    <span class="hljs-selector-class">.mapToObj</span>(i -&gt; {
        phaser.register();
        return new <span class="hljs-built_in">Thread</span>(() -&gt; {
            <span class="hljs-built_in">load</span>();   phaser<span class="hljs-selector-class">.arriveAndAwaitAdvance</span>();
            <span class="hljs-attribute">transform</span>(); phaser<span class="hljs-selector-class">.arriveAndAwaitAdvance</span>();
            <span class="hljs-built_in">output</span>(); phaser<span class="hljs-selector-class">.arriveAndAwaitAdvance</span>();
            phaser<span class="hljs-selector-class">.arriveAndDeregister</span>();
        });
    })
    <span class="hljs-selector-class">.peek</span>(Thread::start)
    <span class="hljs-selector-class">.collect</span>(Collectors.toList());

<span class="hljs-comment">// ç­‰å¾…å…¨éƒ¨å®Œæˆ</span>
while (!phaser.isTerminated()) {
    Thread<span class="hljs-selector-class">.yield</span>();
}
</code></pre>
<h3 data-id="heading-20">åº•å±‚åŸç†</h3>
<p>ä¸åŒäºÂ <code>CountDownLatch</code>Â å’ŒÂ <code>Semaphore</code>ï¼Œ<code>Phaser</code>Â <strong>æœªåŸºäº AQS</strong>ï¼Œè€Œæ˜¯è‡ªè¡Œå®ç°åŒæ­¥æœºåˆ¶ï¼Œå®ƒçš„å®ç°èåˆäº†Â <strong>è‡ªæ—‹é” + é˜Ÿåˆ—ç®¡ç†</strong>ï¼š</p>
<ul>
<li><strong>çŠ¶æ€å­—æ®µ</strong>ï¼šä½¿ç”¨ä¸€ä¸ªÂ <code>long</code>Â ç±»å‹çš„Â <code>state</code>Â å­—æ®µï¼Œé«˜ä½å­˜é˜¶æ®µå·ï¼ˆphaseï¼‰ï¼Œä½ä½å­˜å‚ä¸è€…æ•°é‡ï¼ˆpartiesï¼‰ã€‚</li>
<li><strong>è‡ªé€‚åº”ç­‰å¾…ç­–ç•¥</strong>ï¼š</li>
<li>
<ul>
<li>å‚ä¸è€…å°‘æ—¶ä½¿ç”¨Â <strong>è‡ªæ—‹ç­‰å¾…</strong>ï¼ˆä½å»¶è¿Ÿï¼‰ã€‚</li>
<li>å‚ä¸è€…å¤šæˆ–ç­‰å¾…æ—¶é—´é•¿æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°Â <strong>é˜»å¡é˜Ÿåˆ—</strong>ï¼ˆèŠ‚çœ CPUï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-21">Phaser ä¸ CyclicBarrier çš„å¯¹æ¯”</h3>













































<table><thead><tr><th>ç‰¹æ€§</th><th>CyclicBarrier</th><th>Phaser</th></tr></thead><tbody><tr><td>å¼•å…¥ç‰ˆæœ¬</td><td>JDK 1.5</td><td>JDK 1.7</td></tr><tr><td>æ˜¯å¦å¯é‡ç”¨</td><td>âœ…ï¼ˆè‡ªåŠ¨é‡ç½®ï¼‰</td><td>âœ…ï¼ˆé˜¶æ®µé€’å¢ï¼‰</td></tr><tr><td>åŠ¨æ€å¢å‡å‚ä¸è€…</td><td>âŒ</td><td>âœ…ï¼ˆregister() / arriveAndDeregister()ï¼‰</td></tr><tr><td>åˆ†å±‚æ”¯æŒ</td><td>âŒ</td><td>âœ…ï¼ˆçˆ¶å­ç»“æ„ï¼‰</td></tr><tr><td>é˜¶æ®µå·è¿½è¸ª</td><td>âŒ</td><td>âœ…ï¼ˆgetPhase()ï¼‰</td></tr><tr><td>ç»ˆæ­¢æœºåˆ¶</td><td>æŸåå³ä¸å¯ç”¨</td><td>å‚ä¸è€…å½’é›¶åä¼˜é›…ç»ˆæ­¢</td></tr><tr><td>æ€§èƒ½ï¼ˆå¤§è§„æ¨¡ï¼‰</td><td>è¾ƒå·®ï¼ˆå…¨å±€é”ï¼‰</td><td>æ›´ä¼˜ï¼ˆåˆ†å±‚ + è‡ªé€‚åº”ç­‰å¾…ï¼‰</td></tr></tbody></table>
<p><strong>ä½¿ç”¨å»ºè®®ï¼š</strong></p>
<ul>
<li>è‹¥å‚ä¸è€…æ•°é‡å›ºå®šä¸”è¾ƒå°‘ï¼Œç”¨Â <code>CyclicBarrier</code>Â å³å¯ã€‚</li>
<li>è‹¥éœ€åŠ¨æ€è°ƒæ•´ã€å¤šé˜¶æ®µã€å¤§è§„æ¨¡ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©Â <code>Phaser</code>ã€‚</li>
</ul>
<h2 data-id="heading-22">Semaphoreï¼ˆJDK 5+ï¼‰ï¼šä¿¡å·é‡</h2>
<h3 data-id="heading-23">ä½¿ç”¨åœºæ™¯</h3>
<p><code>Semaphore</code>Â ç”¨äºæ§åˆ¶<strong>åŒæ—¶è®¿é—®ç‰¹å®šèµ„æºçš„çº¿ç¨‹æ•°é‡</strong>ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥æ± ï¼ˆæœ€å¤š N ä¸ªè¿æ¥ï¼‰ã€‚</li>
<li>æ¥å£é™æµï¼ˆå¦‚æ¯ç§’æœ€å¤šå¤„ç† 100 ä¸ªè¯·æ±‚ï¼‰ã€‚</li>
<li>æ¨¡æ‹Ÿæœ‰é™èµ„æºçš„åˆ†é…ï¼ˆå¦‚åœè½¦åœºè½¦ä½ï¼‰ã€‚</li>
<li><code>new Semaphore(1)</code>Â å®é™…ä¸Šç­‰ä»·äºÂ <code>synchronized</code>Â æˆ–Â <code>ReentrantLock</code>ã€‚</li>
</ul>
<h3 data-id="heading-24">æ ¸å¿ƒ API</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">Semaphore</span><span class="hljs-params">(<span class="hljs-type">int</span> <span class="hljs-keyword">permits</span>)</span>;
<span class="hljs-keyword">public</span> <span class="hljs-title function_">Semaphore</span><span class="hljs-params">(<span class="hljs-type">int</span> <span class="hljs-keyword">permits</span>, <span class="hljs-type">boolean</span> fair)</span>; <span class="hljs-comment">// å…¬å¹³/éå…¬å¹³æ¨¡å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">acquire</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException;
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">release</span><span class="hljs-params">()</span>;
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">()</span>; <span class="hljs-comment">// éé˜»å¡å°è¯•è·å–</span>
</code></pre>
<h3 data-id="heading-25">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-scss" lang="scss">public class SemaphoreExample {
    private static final Semaphore semaphore = new <span class="hljs-built_in">Semaphore</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// æœ€å¤š2ä¸ªçº¿ç¨‹å¹¶å‘</span>

    public static void <span class="hljs-selector-tag">main</span>(String[] args) {
        for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
            new <span class="hljs-built_in">Thread</span>(() -&gt; {
                try {
                    semaphore<span class="hljs-selector-class">.acquire</span>();
                    System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(Thread.currentThread()<span class="hljs-selector-class">.getName</span>() + " è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...");
                    Thread<span class="hljs-selector-class">.sleep</span>(<span class="hljs-number">2000</span>);
                } catch (InterruptedException e) {
                    Thread<span class="hljs-selector-class">.currentThread</span>()<span class="hljs-selector-class">.interrupt</span>();
                } finally {
                    semaphore<span class="hljs-selector-class">.release</span>();
                    System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(Thread.currentThread()<span class="hljs-selector-class">.getName</span>() + " é‡Šæ”¾è®¸å¯");
                }
            })<span class="hljs-selector-class">.start</span>();
        }
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">Thread-<span class="hljs-number">0</span> è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...
Thread-<span class="hljs-number">1</span> è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...
Thread-<span class="hljs-number">0</span> é‡Šæ”¾è®¸å¯
Thread-<span class="hljs-number">2</span> è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...
Thread-<span class="hljs-number">1</span> é‡Šæ”¾è®¸å¯
Thread-<span class="hljs-number">3</span> è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...
Thread-<span class="hljs-number">2</span> é‡Šæ”¾è®¸å¯
Thread-<span class="hljs-number">3</span> é‡Šæ”¾è®¸å¯
Thread-<span class="hljs-number">4</span> è·å–è®¸å¯ï¼Œæ­£åœ¨æ‰§è¡Œ...
Thread-<span class="hljs-number">4</span> é‡Šæ”¾è®¸å¯
</code></pre>
<h3 data-id="heading-26">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<p><strong>API é™æµï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Semaphore</span> <span class="hljs-variable">rateLimiter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ¯ç§’æœ€å¤š100è¯·æ±‚</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleRequest</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (rateLimiter.tryAcquire()) {
        <span class="hljs-keyword">try</span> {
            process();
        } <span class="hljs-keyword">finally</span> {
            rateLimiter.release();
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è¯·æ±‚è¿‡äºé¢‘ç¹"</span>);
    }
}
</code></pre>
<h3 data-id="heading-27">åº•å±‚åŸç†</h3>
<p>åŒæ ·åŸºäºÂ <strong>AQS</strong>ï¼šï¼ˆAQS åŸç†è¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fmp.weixin.qq.com%2Fs%2FYl1jxnE562TuUqq48rag4g" target="_blank" title="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Yl1jxnE562TuUqq48rag4g" ref="nofollow noopener noreferrer">Javaå¹¶å‘ç¼–ç¨‹ï¼šLockåŸç†è¯¦è§£</a>ï¼‰</p>
<ul>
<li><code>state</code>Â è¡¨ç¤ºå¯ç”¨è®¸å¯æ•°é‡ã€‚</li>
<li><code>acquire()</code>Â å°è¯•å‡å°‘Â <code>state</code>ï¼Œè‹¥ä¸è¶³åˆ™å…¥é˜Ÿç­‰å¾…ã€‚</li>
<li><code>release()</code>Â å¢åŠ Â <code>state</code>Â å¹¶å”¤é†’ç­‰å¾…çº¿ç¨‹ã€‚</li>
<li>æ”¯æŒå…¬å¹³æ¨¡å¼ï¼ˆæŒ‰è¯·æ±‚é¡ºåºåˆ†é…è®¸å¯ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-28">Exchangerï¼ˆJDK 5+ï¼‰ï¼šæ•°æ®äº¤æ¢å™¨</h2>
<h3 data-id="heading-29">ä½¿ç”¨åœºæ™¯</h3>
<p><code>Exchanger</code>Â ä¸“ä¸º<strong>ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´äº¤æ¢æ•°æ®</strong>è€Œè®¾è®¡ï¼Œå…¸å‹åœºæ™¯å¦‚ï¼š</p>
<ul>
<li>åŒç¼“å†²æœºåˆ¶ï¼ˆä¸€ä¸ªçº¿ç¨‹å†™å…¥ç¼“å†²åŒº Aï¼Œå¦ä¸€ä¸ªå†™å…¥ Bï¼Œæ»¡åäº¤æ¢ï¼‰ã€‚</li>
<li>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…é«˜æ•ˆä¼ é€’ä¸­é—´ç»“æœã€‚</li>
<li>æ—¥å¿—æ”¶é›†å™¨ä¸­äº¤æ¢æ—¥å¿—ç¼“å†²åŒºã€‚</li>
</ul>
<h3 data-id="heading-30">æ ¸å¿ƒ API</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> V <span class="hljs-title function_">exchange</span><span class="hljs-params">(V x)</span> <span class="hljs-keyword">throws</span> InterruptedException;
<span class="hljs-keyword">public</span> V <span class="hljs-title function_">exchange</span><span class="hljs-params">(V x, <span class="hljs-type">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> ...;
</code></pre>
<h3 data-id="heading-31">ç¤ºä¾‹ä»£ç </h3>
<pre><code class="hljs language-ini" lang="ini">public class ExchangerExample {
    public static void main(String<span class="hljs-section">[]</span> args) {
        Exchanger&lt;String&gt; <span class="hljs-attr">exchanger</span> = new Exchanger&lt;&gt;()<span class="hljs-comment">;</span>

        new Thread(() -&gt; {
            try {
                String <span class="hljs-attr">data</span> = <span class="hljs-string">"Thread-A çš„æ•°æ®"</span><span class="hljs-comment">;</span>
                System.out.println("A å‡†å¤‡äº¤æ¢: " + data)<span class="hljs-comment">;</span>
                String <span class="hljs-attr">received</span> = exchanger.exchange(data)<span class="hljs-comment">;</span>
                System.out.println("A æ”¶åˆ°: " + received)<span class="hljs-comment">;</span>
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt()<span class="hljs-comment">;</span>
            }
        }).start()<span class="hljs-comment">;</span>

        new Thread(() -&gt; {
            try {
                Thread.sleep(1000)<span class="hljs-comment">; // æ¨¡æ‹Ÿå»¶è¿Ÿ</span>
                String <span class="hljs-attr">data</span> = <span class="hljs-string">"Thread-B çš„æ•°æ®"</span><span class="hljs-comment">;</span>
                System.out.println("B å‡†å¤‡äº¤æ¢: " + data)<span class="hljs-comment">;</span>
                String <span class="hljs-attr">received</span> = exchanger.exchange(data)<span class="hljs-comment">;</span>
                System.out.println("B æ”¶åˆ°: " + received)<span class="hljs-comment">;</span>
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt()<span class="hljs-comment">;</span>
            }
        }).start()<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">A</span> å‡†å¤‡äº¤æ¢: <span class="hljs-selector-tag">Thread-A</span> çš„æ•°æ®
<span class="hljs-selector-tag">B</span> å‡†å¤‡äº¤æ¢: <span class="hljs-selector-tag">Thread-B</span> çš„æ•°æ®
<span class="hljs-selector-tag">B</span> æ”¶åˆ°: <span class="hljs-selector-tag">Thread-A</span> çš„æ•°æ®
<span class="hljs-selector-tag">A</span> æ”¶åˆ°: <span class="hljs-selector-tag">Thread-B</span> çš„æ•°æ®
</code></pre>
<h3 data-id="heading-32">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<p><strong>åŒç¼“å†²æ—¥å¿—ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">Exchanger&lt;List&lt;LogEntry&gt;&gt; <span class="hljs-attr">exchanger</span> = new Exchanger&lt;&gt;()<span class="hljs-comment">;</span>
List&lt;LogEntry&gt; <span class="hljs-attr">bufferA</span> = new ArrayList&lt;&gt;(<span class="hljs-number">1000</span>)<span class="hljs-comment">;</span>
List&lt;LogEntry&gt; <span class="hljs-attr">bufferB</span> = new ArrayList&lt;&gt;(<span class="hljs-number">1000</span>)<span class="hljs-comment">;</span>

// å†™çº¿ç¨‹ä¸æ–­å¡«å…… bufferA
// å†™æ»¡åä¸è¯»çº¿ç¨‹äº¤æ¢ï¼Œè¯»çº¿ç¨‹å¼‚æ­¥åˆ·ç›˜
</code></pre>
<h3 data-id="heading-33">åº•å±‚åŸç†</h3>
<p><code>Exchanger</code>Â å†…éƒ¨ä½¿ç”¨Â <strong>Slot æˆ– Node ç»“æ„</strong>æš‚å­˜æ•°æ®ï¼Œé€šè¿‡Â <strong>CAS + è‡ªæ—‹</strong>Â å®ç°é«˜æ•ˆäº¤æ¢ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªè°ƒç”¨Â <code>exchange()</code>Â çš„çº¿ç¨‹å°†æ•°æ®æ”¾å…¥æ§½ä½å¹¶ç­‰å¾…ã€‚</li>
<li>ç¬¬äºŒä¸ªçº¿ç¨‹åˆ°æ¥åï¼Œå–å‡ºå¯¹æ–¹æ•°æ®ï¼Œæ”¾å…¥è‡ªå·±çš„æ•°æ®ï¼Œå®Œæˆäº¤æ¢ã€‚</li>
<li>è‹¥è¶…æ—¶æˆ–ä¸­æ–­ï¼Œä¼šæ¸…ç†æ§½ä½å¹¶æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šä»…æ”¯æŒ<strong>ä¸¤ä¸ªçº¿ç¨‹é…å¯¹äº¤æ¢</strong>ï¼Œç¬¬ä¸‰ä¸ªçº¿ç¨‹è°ƒç”¨Â <code>exchange()</code>Â ä¼šä¸€ç›´é˜»å¡ç›´åˆ°æœ‰æ–°çš„é…å¯¹ã€‚</p>
<h2 data-id="heading-34">å·¥å…·ç±»å¯¹æ¯”æ€»ç»“</h2>





































































<table><thead><tr><th>ç‰¹æ€§</th><th>CountDownLatch</th><th>CyclicBarrier</th><th>Phaser</th><th>Semaphore</th><th>Exchanger</th></tr></thead><tbody><tr><td>å¼•å…¥ç‰ˆæœ¬</td><td>1.5</td><td>1.5</td><td>1.7</td><td>1.5</td><td>1.5</td></tr><tr><td>æ˜¯å¦å¯é‡ç”¨</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>åä½œæ¨¡å¼</td><td>ä¸€æ–¹ç­‰å¤šæ–¹</td><td>æ‰€æœ‰äº’ç›¸ç­‰</td><td>å¤šé˜¶æ®µåŠ¨æ€åŒæ­¥</td><td>æ§åˆ¶å¹¶å‘æ•°</td><td>ä¸¤çº¿ç¨‹äº¤æ¢</td></tr><tr><td>åŠ¨æ€å‚ä¸è€…</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>åˆ†å±‚æ”¯æŒ</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>åº•å±‚æœºåˆ¶</td><td>AQS</td><td>ReentrantLock+Condition</td><td>è‡ªå®šä¹‰åŒæ­¥ï¼ˆCAS+è‡ªæ—‹+é˜Ÿåˆ—ï¼‰</td><td>AQS</td><td>CAS+è‡ªæ—‹</td></tr><tr><td>å…¸å‹ç”¨é€”</td><td>åˆå§‹åŒ–ç­‰å¾…</td><td>åˆ†é˜¶æ®µè®¡ç®—</td><td>å¤æ‚å¹¶è¡Œä»»åŠ¡åè°ƒ</td><td>é™æµ</td><td>æ•°æ®äº¤æ¢</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java CompletableFuture æ¥å£ä¸åŸç†è¯¦è§£]]></title>    <link>https://juejin.cn/post/7593353611943149620</link>    <guid>https://juejin.cn/post/7593353611943149620</guid>    <pubDate>2026-01-11T06:13:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593353611943149620" data-draft-id="7593356633636880418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java CompletableFuture æ¥å£ä¸åŸç†è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T06:13:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬å¡å·´å¡"/> <meta itemprop="url" content="https://juejin.cn/user/1892677617451163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java CompletableFuture æ¥å£ä¸åŸç†è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1892677617451163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬å¡å·´å¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T06:13:08.000Z" title="Sun Jan 11 2026 06:13:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>CompletableFuture</code>Â æ˜¯ Java 8 å¼•å…¥çš„ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„å¼‚æ­¥ç¼–ç¨‹å·¥å…·ç±»ï¼Œä½äºÂ <code>java.util.concurrent</code>Â åŒ…ä¸­ã€‚å®ƒåŒæ—¶å®ç°äº†Â <code>Future&lt;T&gt;</code>Â å’ŒÂ <code>CompletionStage&lt;T&gt;</code>Â ä¸¤ä¸ªæ¥å£ï¼Œä¸ä»…æ”¯æŒè·å–å¼‚æ­¥è®¡ç®—ç»“æœï¼Œè¿˜æä¾›äº†ä¸°å¯Œçš„é“¾å¼è°ƒç”¨ã€ç»„åˆã€å¼‚å¸¸å¤„ç†ç­‰èƒ½åŠ›ï¼Œæ˜¯æ„å»ºé«˜æ€§èƒ½ã€éé˜»å¡ã€å“åº”å¼åº”ç”¨çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚</p>
<h2 data-id="heading-0">CompletableFuture å¸¸è§æ¥å£</h2>
<p><code>CompletableFuture</code>Â æ ¸å¿ƒæ¥å£åŒ…æ‹¬ï¼šåˆ›å»ºã€é“¾å¼è°ƒç”¨ã€ç»„åˆã€å¼‚å¸¸å¤„ç†ã€èšåˆã€æ‰§è¡Œç­–ç•¥æ§åˆ¶ç­‰ã€‚</p>

































































<table><thead><tr><th>åœºæ™¯</th><th>æ–¹æ³•</th></tr></thead><tbody><tr><td>å¼‚æ­¥ç”Ÿæˆå€¼</td><td>supplyAsync(Supplier)</td></tr><tr><td>å¼‚æ­¥æ‰§è¡Œæ— è¿”å›</td><td>runAsync(Runnable)</td></tr><tr><td>è½¬æ¢ç»“æœ</td><td>thenApply, thenApplyAsync</td></tr><tr><td>æ¶ˆè´¹ç»“æœ</td><td>thenAccept, thenAcceptAsync</td></tr><tr><td>æ— å‚åŠ¨ä½œ</td><td>thenRun, thenRunAsync</td></tr><tr><td>é¡ºåºä¾èµ–</td><td>thenCompose</td></tr><tr><td>åˆå¹¶ä¸¤ä¸ªç»“æœ</td><td>thenCombine, thenAcceptBoth</td></tr><tr><td>ä»»ä¸€å®Œæˆ</td><td>applyToEither, acceptEither</td></tr><tr><td>å¤šä»»åŠ¡å…¨å®Œæˆ</td><td>allOf</td></tr><tr><td>å¤šä»»åŠ¡ä»»ä¸€å®Œæˆ</td><td>anyOf</td></tr><tr><td>å¼‚å¸¸æ¢å¤</td><td>exceptionally</td></tr><tr><td>ç»Ÿä¸€å¤„ç†</td><td>handle</td></tr><tr><td>æœ€ç»ˆæ¸…ç†</td><td>whenComplete</td></tr><tr><td>æ‰‹åŠ¨å®Œæˆ</td><td>complete(T), completeExceptionally(Throwable)</td></tr></tbody></table>
<h3 data-id="heading-1">åˆ›å»º CompletableFuture</h3>
<h3 data-id="heading-2">æ‰‹åŠ¨å®Œæˆï¼ˆæ— å¼‚æ­¥ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">CompletableFuture&lt;<span class="hljs-type">String</span>&gt; future = <span class="hljs-keyword">new</span> CompletableFuture&lt;&gt;();
future.<span class="hljs-built_in">complete</span>(<span class="hljs-string">"Manual result"</span>);
System.out.<span class="hljs-built_in">println</span>(future.<span class="hljs-built_in">join</span>()); <span class="hljs-comment">// Manual result</span>
</code></pre>
<h3 data-id="heading-3">å¼‚æ­¥æ‰§è¡Œï¼ˆæœ‰è¿”å›å€¼ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">CompletableFuture&lt;<span class="hljs-type">String</span>&gt; future = CompletableFuture.<span class="hljs-built_in">supplyAsync</span>(() -&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Async result"</span>;
});
System.out.<span class="hljs-built_in">println</span>(future.<span class="hljs-built_in">join</span>()); <span class="hljs-comment">// Async result</span>
</code></pre>
<h3 data-id="heading-4">å¼‚æ­¥æ‰§è¡Œï¼ˆæ— è¿”å›å€¼ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;Void&gt; <span class="hljs-attr">future</span> = CompletableFuture.runAsync(() -&gt; {
    System.out.println("Running async task")<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
future.join()<span class="hljs-comment">; // ç­‰å¾…å®Œæˆ</span>
</code></pre>
<h3 data-id="heading-5">å¯ä¼ å…¥è‡ªå®šä¹‰çº¿ç¨‹æ± </h3>
<pre><code class="hljs language-ini" lang="ini">ExecutorService <span class="hljs-attr">executor</span> = Executors.newFixedThreadPool(<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
CompletableFuture&lt;String&gt; <span class="hljs-attr">f</span> = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"Custom pool"</span>, executor)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-6">é“¾å¼è½¬æ¢ä¸æ¶ˆè´¹ï¼ˆå•é˜¶æ®µï¼‰</h3>
<h3 data-id="heading-7"><code>thenApply</code>Â â€“ è½¬æ¢ç»“æœï¼ˆåŒæ­¥ï¼‰</h3>
<pre><code class="hljs language-rust" lang="rust">CompletableFuture&lt;Integer&gt; f = CompletableFuture
    .<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"100"</span>)
    .<span class="hljs-title function_ invoke__">thenApply</span>(Integer::parseInt)
    .<span class="hljs-title function_ invoke__">thenApply</span>(x <span class="hljs-punctuation">-&gt;</span> x * <span class="hljs-number">2</span>);
System.out.<span class="hljs-title function_ invoke__">println</span>(f.<span class="hljs-title function_ invoke__">join</span>()); <span class="hljs-comment">// 200</span>
</code></pre>
<h3 data-id="heading-8"><code>thenApplyAsync</code>Â â€“ å¼‚æ­¥è½¬æ¢ï¼ˆæ–°çº¿ç¨‹ï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp">CompletableFuture&lt;String&gt; f = CompletableFuture
    .completedFuture(<span class="hljs-string">"hello"</span>)
    .thenApplyAsync(s -&gt; {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Thread: "</span> + Thread.currentThread().getName());
        <span class="hljs-keyword">return</span> s.toUpperCase();
    });
System.<span class="hljs-keyword">out</span>.println(f.<span class="hljs-keyword">join</span>()); <span class="hljs-comment">// HELLOï¼ˆåœ¨ ForkJoinPool çº¿ç¨‹ä¸­æ‰§è¡Œï¼‰</span>
</code></pre>
<h3 data-id="heading-9"><code>thenAccept</code>Â â€“ æ¶ˆè´¹ç»“æœï¼ˆæ— è¿”å›ï¼‰</h3>
<pre><code class="hljs language-rust" lang="rust">CompletableFuture
    .<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"World"</span>)
    .<span class="hljs-title function_ invoke__">thenAccept</span>(s <span class="hljs-punctuation">-&gt;</span> System.out.<span class="hljs-title function_ invoke__">println</span>(<span class="hljs-string">"Hello "</span> + s)); <span class="hljs-comment">// Hello World</span>
</code></pre>
<h3 data-id="heading-10"><code>thenRun</code>Â â€“ æ— è¾“å…¥</h3>
<pre><code class="hljs language-rust" lang="rust">CompletableFuture
    .<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"ignored"</span>)
    .<span class="hljs-title function_ invoke__">thenRun</span>(() <span class="hljs-punctuation">-&gt;</span> System.out.<span class="hljs-title function_ invoke__">println</span>(<span class="hljs-string">"Task done!"</span>));
</code></pre>
<h3 data-id="heading-11">æ‰å¹³åŒ–åµŒå¥—ï¼ˆä¾èµ–å¦ä¸€ä¸ª CompletableFutureï¼‰</h3>
<h3 data-id="heading-12"><code>thenCompose</code>Â â€“ é¡ºåºä¾èµ–ï¼ˆç±»ä¼¼ flatMapï¼‰</h3>
<p><code>thenCompose</code>Â é€‚ç”¨äºç¬¬äºŒä¸ªå¼‚æ­¥æ“ä½œä¾èµ–ç¬¬ä¸€ä¸ªçš„ç»“æœï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå¼‚æ­¥æ“ä½œä¹Ÿå¸Œæœ›ç»§ç»­è¿”å›Â <code>CompletableFuture&lt;T&gt;</code>Â çš„åœºæ™¯ã€‚</p>
<p><strong>ç”¨ thenCompose é¿å… CompletableFuture&lt;CompletableFuture&gt; åµŒå¥—ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">CompletableFuture&lt;<span class="hljs-type">String</span>&gt; getUser = CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"Alice"</span>);
CompletableFuture&lt;Integer&gt; getLength = getUser.<span class="hljs-title function_ invoke__">thenCompose</span>(name <span class="hljs-punctuation">-&gt;</span>
    CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> name.<span class="hljs-title function_ invoke__">length</span>())
);

<span class="hljs-comment">// 1ã€å¯ä»¥ç›´æ¥é€šè¿‡ getLength.join() å¾—åˆ°5</span>
<span class="hljs-comment">// System.out.println(getLength.join()); </span>
<span class="hljs-comment">// 2ã€ä¹Ÿå¯ä»¥ç»§ç»­æ›´å¤šçš„é“¾å¼è°ƒç”¨:</span>
CompletableFuture&lt;<span class="hljs-type">String</span>&gt; userLevel = getLength.<span class="hljs-title function_ invoke__">thenCompose</span>(len <span class="hljs-punctuation">-&gt;</span>
    CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> {
        <span class="hljs-title function_ invoke__">if</span> (len &gt;= <span class="hljs-number">5</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"VIP"</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">"Normal"</span>;
    })
);
System.out.<span class="hljs-title function_ invoke__">println</span>(userLevel.<span class="hljs-title function_ invoke__">join</span>());  <span class="hljs-comment">// ç›´æ¥é€šè¿‡ userLevel.join() å¾—åˆ°: VIP</span>
</code></pre>
<p><strong>å¯¹æ¯”é”™è¯¯å†™æ³•ï¼ˆäº§ç”ŸåµŒå¥— futureï¼Œéš¾ä»¥å¤„ç†ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">CompletableFuture&lt;<span class="hljs-type">String</span>&gt; getUser = CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-string">"Alice"</span>);
CompletableFuture&lt;CompletableFuture&lt;Integer&gt;&gt; getLength = getUser.<span class="hljs-title function_ invoke__">thenApply</span>(name <span class="hljs-punctuation">-&gt;</span> 
      CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> name.<span class="hljs-title function_ invoke__">length</span>()) <span class="hljs-comment">// CompletableFuture&lt;Integer&gt;</span>
);
<span class="hljs-comment">// æœ€ç»ˆè¿”å›ç±»å‹æ˜¯ CompletableFuture&lt;CompletableFuture&lt;Integer&gt;&gt;</span>
<span class="hljs-comment">// æ— æ³•ç›´æ¥ .join() å¾—åˆ° 5ï¼Œä¹Ÿéš¾ä»¥å¢åŠ æ›´å¤šçš„é“¾å¼è°ƒç”¨</span>
</code></pre>
<p>å½“ç„¶ï¼Œå¦‚æœç¬¬äºŒä¸ªå¼‚æ­¥æ“ä½œä¸è¿”å›Â <code>CompletableFuture</code>Â ï¼Œè€Œæ˜¯è¿”å› String ç­‰æ™®é€šç±»å‹ï¼Œé‚£ä¹ˆä½¿ç”¨Â <code>thenApplyAsync</code>Â å°±å¯ä»¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è½¬æ¢ä¸ºæ™®é€šå€¼ï¼Œå¯ä»¥ä¸å¿…è¦ä½¿ç”¨thenComposeï¼š</span>
CompletableFuture&lt;String&gt; f1 = <span class="hljs-built_in">getUserIdAsync</span>()
    <span class="hljs-selector-class">.thenApplyAsync</span>(id -&gt; "User-" + id); <span class="hljs-comment">// ç¬¬äºŒä¸ªå¼‚æ­¥æ“ä½œé‡Œç›´æ¥è¿”å› String</span>
System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(f1.join());
</code></pre>
<h3 data-id="heading-13">ç»„åˆä¸¤ä¸ª CompletableFuture</h3>
<h3 data-id="heading-14"><code>thenCombine</code>Â â€“ åˆå¹¶ä¸¤ä¸ªç»“æœï¼ˆANDï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;String&gt; <span class="hljs-attr">f1</span> = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"Hello"</span>)<span class="hljs-comment">;</span>
CompletableFuture&lt;String&gt; <span class="hljs-attr">f2</span> = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"World"</span>)<span class="hljs-comment">;</span>

CompletableFuture&lt;String&gt; <span class="hljs-attr">combined</span> = f1.thenCombine(f2, (a, b) -&gt; a + <span class="hljs-string">" "</span> + b)<span class="hljs-comment">;</span>
System.out.println(combined.join())<span class="hljs-comment">; // Hello World</span>
</code></pre>
<h3 data-id="heading-15"><code>thenAcceptBoth</code>Â â€“ æ¶ˆè´¹ä¸¤ä¸ªç»“æœ</h3>
<pre><code class="hljs language-css" lang="css">f1<span class="hljs-selector-class">.thenAcceptBoth</span>(f2, (<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) -&gt; System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-selector-tag">a</span> + " " + <span class="hljs-selector-tag">b</span>));
</code></pre>
<h3 data-id="heading-16"><code>runAfterBoth</code>Â â€“ ä¸¤è€…éƒ½å®Œæˆåæ‰§è¡Œ</h3>
<pre><code class="hljs language-csharp" lang="csharp">f1.runAfterBoth(f2, () -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Both done"</span>));
</code></pre>
<h3 data-id="heading-17">ä»»ä¸€å®Œæˆå³å“åº”ï¼ˆORï¼‰</h3>
<h3 data-id="heading-18"><code>applyToEither</code>Â â€“ è¿”å›ç¬¬ä¸€ä¸ªå®Œæˆçš„ç»“æœï¼ˆå¯è½¬æ¢ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;String&gt; <span class="hljs-attr">f1</span> = CompletableFuture.supplyAsync(() -&gt; {
    sleep(2000)<span class="hljs-comment">; return "Slow";</span>
})<span class="hljs-comment">;</span>
CompletableFuture&lt;String&gt; <span class="hljs-attr">f2</span> = CompletableFuture.supplyAsync(() -&gt; {
    sleep(500)<span class="hljs-comment">; return "Fast";</span>
})<span class="hljs-comment">;</span>

String <span class="hljs-attr">result</span> = f1.applyToEither(f2, s -&gt; s + <span class="hljs-string">" wins!"</span>)<span class="hljs-comment">;</span>
System.out.println(result)<span class="hljs-comment">; // Fast wins!</span>
</code></pre>
<h3 data-id="heading-19"><code>acceptEither</code>Â â€“ æ¶ˆè´¹ç¬¬ä¸€ä¸ªç»“æœ</h3>
<pre><code class="hljs language-arduino" lang="arduino">f1.<span class="hljs-built_in">acceptEither</span>(f2, System.out::println); <span class="hljs-comment">// Fast</span>
</code></pre>
<h3 data-id="heading-20"><code>runAfterEither</code>Â â€“ ä»»ä¸€å®Œæˆåæ‰§è¡Œ</h3>
<pre><code class="hljs language-csharp" lang="csharp">f1.runAfterEither(f2, () -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"One finished"</span>));
</code></pre>
<h3 data-id="heading-21">å¤šä»»åŠ¡èšåˆ</h3>
<h3 data-id="heading-22"><code>allOf</code>Â â€“ æ‰€æœ‰å®Œæˆï¼ˆæ— è¿”å›å€¼ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">CompletableFuture&lt;Void&gt; <span class="hljs-attribute">all</span> = CompletableFuture<span class="hljs-selector-class">.allOf</span>(
    CompletableFuture.runAsync(() -&gt; <span class="hljs-built_in">sleep</span>(<span class="hljs-number">1000</span>)),
    CompletableFuture<span class="hljs-selector-class">.runAsync</span>(() -&gt; <span class="hljs-built_in">sleep</span>(<span class="hljs-number">1500</span>)),
    CompletableFuture<span class="hljs-selector-class">.runAsync</span>(() -&gt; <span class="hljs-built_in">sleep</span>(<span class="hljs-number">800</span>))
);
<span class="hljs-attribute">all</span><span class="hljs-selector-class">.join</span>(); <span class="hljs-comment">// ç­‰å¾…å…¨éƒ¨å®Œæˆï¼ˆçº¦ 1500msï¼‰</span>
System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>("All tasks done");
</code></pre>
<p>è‹¥éœ€è·å–æ‰€æœ‰ç»“æœï¼š</p>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;String&gt; <span class="hljs-attr">f1</span> = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"A"</span>)<span class="hljs-comment">;</span>
CompletableFuture&lt;String&gt; <span class="hljs-attr">f2</span> = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"B"</span>)<span class="hljs-comment">;</span>

CompletableFuture&lt;Void&gt; <span class="hljs-attr">all</span> = CompletableFuture.allOf(f1, f2)<span class="hljs-comment">;</span>
all.join()<span class="hljs-comment">;</span>

System.out.println(f1.join() + f2.join())<span class="hljs-comment">; // AB</span>
</code></pre>
<h3 data-id="heading-23"><code>anyOf</code>Â â€“ ä»»ä¸€å®Œæˆå³è¿”å›ï¼ˆè¿”å› Objectï¼‰</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">CompletableFuture</span>&lt;<span class="hljs-selector-tag">Object</span>&gt; <span class="hljs-selector-tag">any</span> = <span class="hljs-selector-tag">CompletableFuture</span><span class="hljs-selector-class">.anyOf</span>(
    CompletableFuture.<span class="hljs-built_in">supplyAsync</span>(() -&gt; <span class="hljs-string">"First"</span>),
    CompletableFuture.<span class="hljs-built_in">supplyAsync</span>(() -&gt; {
        <span class="hljs-built_in">sleep</span>(<span class="hljs-number">1000</span>); return <span class="hljs-string">"Second"</span>;
    })
);
<span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(any.<span class="hljs-built_in">join</span>()); <span class="hljs-comment">// Firstï¼ˆç±»å‹ä¸º Objectï¼Œéœ€å¼ºè½¬ï¼‰</span>
</code></pre>
<h3 data-id="heading-24">å¼‚å¸¸å¤„ç†</h3>
<h3 data-id="heading-25"><code>exceptionally</code>Â â€“ ä»…å¤„ç†å¼‚å¸¸ï¼ˆç±»ä¼¼ catchï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp">CompletableFuture&lt;String&gt; f = CompletableFuture
    .supplyAsync(() -&gt; {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"Error!"</span>);
    })
    .exceptionally(ex -&gt; <span class="hljs-string">"Fallback: "</span> + ex.getMessage());

System.<span class="hljs-keyword">out</span>.println(f.<span class="hljs-keyword">join</span>()); <span class="hljs-comment">// Fallback: java.lang.RuntimeException: Error!</span>
</code></pre>
<h3 data-id="heading-26"><code>handle</code>Â â€“ ç»Ÿä¸€å¤„ç†æ­£å¸¸/å¼‚å¸¸ç»“æœ</h3>
<pre><code class="hljs language-csharp" lang="csharp">CompletableFuture&lt;String&gt; f = CompletableFuture
    .supplyAsync(() -&gt; {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"Oops!"</span>);
    })
    .handle((result, ex) -&gt; {
        <span class="hljs-comment">// å¯ä»¥ç»Ÿä¸€å¤„ç†ç»“æœï¼Œå¸¸ç”¨äºæä¾›fallbackã€é”™è¯¯æ¢å¤ã€ç»Ÿä¸€ç»“æœæ ¼å¼ç­‰</span>
        <span class="hljs-keyword">if</span> (ex != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Default Value"</span>; <span class="hljs-comment">// åæ‰å¼‚å¸¸ï¼Œè¿”å›é»˜è®¤å€¼</span>
        }
        <span class="hljs-keyword">return</span> result; <span class="hljs-comment">// æ­¤å¤„è¿˜å¯ä»¥ä¿®æ”¹è¿”å›å€¼</span>
    });

System.<span class="hljs-keyword">out</span>.println(f.<span class="hljs-keyword">join</span>()); <span class="hljs-comment">// è¾“å‡º: Default Valueï¼ˆæ— å¼‚å¸¸ï¼ï¼‰</span>
</code></pre>
<h3 data-id="heading-27"><code>whenComplete</code>Â â€“ ç±»ä¼¼ finallyï¼ˆä¸æ”¹å˜ç»“æœï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp">CompletableFuture&lt;String&gt; f = CompletableFuture
    .supplyAsync(() -&gt; {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"Oops!"</span>);
    })
    .whenComplete((result, ex) -&gt; {
        <span class="hljs-comment">// ä¸å¯å¹²é¢„ç»“æœï¼Œå¸¸ç”¨äºè®°å½•æ—¥å¿—ã€å…³é—­èµ„æºã€æŒ‡æ ‡ç»Ÿè®¡ç­‰å‰¯ä½œç”¨æ“ä½œ</span>
        <span class="hljs-keyword">if</span> (ex != <span class="hljs-literal">null</span>) {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Logged error: "</span> + ex.getMessage());
        }
    });

<span class="hljs-comment">// å¼‚å¸¸ä»ç„¶ä¼šæŠ›å‡ºï¼</span>
f.<span class="hljs-keyword">join</span>(); <span class="hljs-comment">// æŠ›å‡º CompletionException -&gt; RuntimeException("Oops!")</span>
</code></pre>
<p><code>whenComplete</code>Â ä¸æ”¹å˜è¿”å›å€¼ï¼Œå³ä½¿æŠ›å¼‚å¸¸ä¹Ÿä¼šä¼ æ’­åŸå§‹å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-28">å®ŒæˆçŠ¶æ€æ£€æŸ¥ä¸è·å–</h3>
<pre><code class="hljs language-csharp" lang="csharp">CompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"Done"</span>);

<span class="hljs-comment">// é˜»å¡ç­‰å¾…ï¼ˆæ¨èï¼‰</span>
String result = f.<span class="hljs-keyword">join</span>(); <span class="hljs-comment">// ä¸æŠ›å‡ºå—æ£€å¼‚å¸¸</span>

<span class="hljs-comment">// æˆ–ä½¿ç”¨ getï¼ˆæŠ›å‡º InterruptedException / ExecutionExceptionï¼‰</span>
<span class="hljs-comment">// String result = f.get();</span>

<span class="hljs-comment">// æ£€æŸ¥çŠ¶æ€</span>
System.<span class="hljs-keyword">out</span>.println(f.isDone());     <span class="hljs-comment">// true</span>
System.<span class="hljs-keyword">out</span>.println(f.isCompletedExceptionally()); <span class="hljs-comment">// false</span>
System.<span class="hljs-keyword">out</span>.println(f.isCancelled()); <span class="hljs-comment">// false</span>
</code></pre>
<p>æ¨èä½¿ç”¨Â <code>join()</code>Â è€ŒéÂ <code>get()</code>ï¼Œé¿å…å¤„ç†å—æ£€å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-29">æ‰§è¡Œç­–ç•¥æ§åˆ¶ï¼ˆåŒæ­¥ vs å¼‚æ­¥å›è°ƒï¼‰</h3>

















<table><thead><tr><th>æ–¹æ³•</th><th>æ‰§è¡Œçº¿ç¨‹</th></tr></thead><tbody><tr><td>thenApply</td><td>å‰ä¸€ä¸ªä»»åŠ¡çš„å®Œæˆçº¿ç¨‹ï¼ˆå¯èƒ½æ˜¯åŒæ­¥æˆ–å¼‚æ­¥ï¼‰</td></tr><tr><td>thenApplyAsync</td><td>æ€»æ˜¯åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼ˆé»˜è®¤ ForkJoinPool.commonPool()ï¼Œå¯æŒ‡å®š Executorï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-kotlin" lang="kotlin">CompletableFuture.supplyAsync(() -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Stage1: "</span> + Thread.currentThread().getName());
    <span class="hljs-keyword">return</span> <span class="hljs-string">"data"</span>;
})
.thenApply(s -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"thenApply (sync): "</span> + Thread.currentThread().getName());
    <span class="hljs-keyword">return</span> s;
})
.thenApplyAsync(s -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"thenApplyAsync: "</span> + Thread.currentThread().getName());
    <span class="hljs-keyword">return</span> s;
})
.join();
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Stage1: ForkJoinPool.commonPool-worker-1</span>
thenApply (sync): ForkJoinPool.commonPool-worker-1
<span class="hljs-section">thenApplyAsync: ForkJoinPool.commonPool-worker-2</span>
</code></pre>
<p>ä¸ºäº†é¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼ˆå› ä¸ºå¯èƒ½ä¸ç¡®å®šå‰ä¸€ä¸ªä»»åŠ¡æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼‰ï¼Œ I/O æˆ–è€—æ—¶æ“ä½œä¸€èˆ¬å»ºè®®éƒ½ä½¿ç”¨Â <code>xxxAsync</code>ã€‚</p>
<h3 data-id="heading-30">å®Œæ•´å®æˆ˜ç¤ºä¾‹ï¼šç”µå•†ä¸‹å•æµç¨‹</h3>
<pre><code class="hljs language-rust" lang="rust">ExecutorService ioPool = Executors.<span class="hljs-title function_ invoke__">newFixedThreadPool</span>(<span class="hljs-number">3</span>);

CompletableFuture&lt;<span class="hljs-type">String</span>&gt; order = CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> {
    <span class="hljs-comment">// 1. åˆ›å»ºè®¢å•</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"ORDER-1001"</span>;
}, ioPool);

CompletableFuture&lt;<span class="hljs-type">String</span>&gt; payment = order.<span class="hljs-title function_ invoke__">thenCompose</span>(ordId <span class="hljs-punctuation">-&gt;</span>
    CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> {
        <span class="hljs-comment">// 2. æ”¯ä»˜ï¼ˆä¾èµ–è®¢å•IDï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"PAID-"</span> + ordId;
    }, ioPool)
);

CompletableFuture&lt;<span class="hljs-type">String</span>&gt; inventory = CompletableFuture.<span class="hljs-title function_ invoke__">supplyAsync</span>(() <span class="hljs-punctuation">-&gt;</span> {
    <span class="hljs-comment">// 3. æ‰£å‡åº“å­˜ï¼ˆå¹¶è¡Œï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"INVENTORY-OK"</span>;
}, ioPool);

CompletableFuture&lt;<span class="hljs-type">String</span>&gt; shipping = payment.<span class="hljs-title function_ invoke__">thenCombine</span>(inventory, (pay, inv) <span class="hljs-punctuation">-&gt;</span> {
    <span class="hljs-comment">// 4. å‘è´§ï¼ˆéœ€æ”¯ä»˜æˆåŠŸ + åº“å­˜æ‰£å‡ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"SHIPPED-"</span> + pay;
});

<span class="hljs-comment">// å¼‚å¸¸å…œåº•</span>
CompletableFuture&lt;<span class="hljs-type">String</span>&gt; finalResult = shipping.<span class="hljs-title function_ invoke__">exceptionally</span>(ex <span class="hljs-punctuation">-&gt;</span> {
    System.err.<span class="hljs-title function_ invoke__">println</span>(<span class="hljs-string">"Order failed: "</span> + ex.<span class="hljs-title function_ invoke__">getMessage</span>());
    <span class="hljs-keyword">return</span> <span class="hljs-string">"FAILED"</span>;
});

System.out.<span class="hljs-title function_ invoke__">println</span>(finalResult.<span class="hljs-title function_ invoke__">join</span>()); <span class="hljs-comment">// SHIPPED-PAID-ORDER-1001</span>

ioPool.<span class="hljs-title function_ invoke__">shutdown</span>();
</code></pre>
<h2 data-id="heading-31">CompletableFuture å®ç°åŸç†åˆ†æ</h2>
<h3 data-id="heading-32">æ ¸å¿ƒæ•°æ®ç»“æ„</h3>
<p><code>CompletableFuture</code>Â çš„æ ¸å¿ƒæ˜¯<strong>éé˜»å¡å¼å¼‚æ­¥è®¡ç®—</strong>ï¼Œé€šè¿‡æ³¨å†Œå›è°ƒå‡½æ•°ï¼ˆå¦‚Â <code>thenApply</code>,Â <code>thenAccept</code>Â ç­‰ï¼‰åœ¨ç»“æœå°±ç»ªæ—¶è‡ªåŠ¨è§¦å‘åç»­æ“ä½œã€‚</p>
<p><strong>å…³é”®å­—æ®µä¸ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CompletableFuture</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">implements</span> <span class="hljs-title">Future</span>&lt;<span class="hljs-title">T</span>&gt;, <span class="hljs-title">CompletionStage</span>&lt;<span class="hljs-title">T</span>&gt; {
    <span class="hljs-keyword">volatile</span> Object result; <span class="hljs-comment">// å­˜å‚¨ç»“æœæˆ–å¼‚å¸¸ï¼ˆBiRecord/AltResultï¼‰</span>
    <span class="hljs-keyword">volatile</span> Completion stack; <span class="hljs-comment">// æŒ‡å‘ä¾èµ–çš„ Completion é“¾è¡¨ï¼ˆæ ˆç»“æ„ï¼‰çš„å¤´æŒ‡é’ˆ</span>
}
</code></pre>
<ul>
<li><code>result</code>Â å­—æ®µ</li>
<li>
<ul>
<li>è‹¥ä¸ºÂ <code>null</code>ï¼šæœªå®Œæˆã€‚</li>
<li>è‹¥ä¸ºÂ <code>AltResult</code>ï¼šè¡¨ç¤ºå¼‚å¸¸æˆ– null å€¼ã€‚</li>
<li>è‹¥ä¸ºæ™®é€šå¯¹è±¡ï¼šè¡¨ç¤ºæˆåŠŸå®Œæˆçš„ç»“æœã€‚</li>
</ul>
</li>
<li><code>stack</code>Â å­—æ®µ</li>
<li>
<ul>
<li>
<p>ç±»å‹ä¸ºÂ <code>Completion</code>ï¼ˆæŠ½è±¡ç±»ï¼‰ï¼Œæ˜¯ä¸€ä¸ª<strong>æ ˆå¼å•å‘é“¾è¡¨ï¼ˆLIFOï¼Œåè¿›å…ˆå‡ºï¼‰</strong> ï¼Œè®°å½•æ‰€æœ‰ä¾èµ–å½“å‰Â <code>CompletableFuture</code>Â çš„åç»­æ“ä½œï¼ˆå³â€œä¾èµ–å›¾â€ï¼‰ï¼Œå…¶æ³¨å†Œé¡ºåºæ˜¯åæ³¨å†Œçš„é å‰ï¼ˆæ ˆé¡¶ï¼‰ï¼Œæ‰§è¡Œé¡ºåºæ˜¯å…ˆæ‰§è¡Œæ ˆé¡¶ï¼ˆåæ³¨å†Œçš„ï¼‰ã€‚</p>
</li>
<li>
<p>æ‰€æœ‰Â <code>thenApply</code>ã€<code>thenCompose</code>Â ç­‰æ–¹æ³•éƒ½ä¼šåˆ›å»ºä¸€ä¸ªÂ <code>Completion</code>Â å­ç±»å®ä¾‹ï¼ˆå¦‚Â <code>UniApply</code>,Â <code>BiAccept</code>,Â <code>ThenCompose</code>Â ç­‰ï¼‰ï¼Œå¹¶å‹å…¥æ­¤æ ˆã€‚</p>
</li>
</ul>
</li>
</ul>
<p><code>Completion</code>Â ï¼ˆæŠ½è±¡ç±»ï¼‰æ˜¯æ‰€æœ‰å›è°ƒåŠ¨ä½œçš„åŸºç±»ï¼Œä»£è¡¨â€œå½“æŸä¸ª future å®Œæˆåè¦åšçš„äº‹â€ã€‚å¸¸è§å­ç±»åŒ…æ‹¬ï¼š</p>





























<table><thead><tr><th>å­ç±»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>UniApply</td><td>å¯¹åº” thenApply</td></tr><tr><td>UniAccept</td><td>å¯¹åº” thenAccept</td></tr><tr><td>BiApply</td><td>å¯¹åº” thenCombine</td></tr><tr><td>ThenCompose</td><td>å¯¹åº” thenCompose</td></tr><tr><td>AsyncRun</td><td>å¯¹åº” runAsync</td></tr></tbody></table>
<h3 data-id="heading-33">æ ¸å¿ƒæµç¨‹æºç åˆ†æ</h3>
<p><code>CompletableFuture</code>Â ç”Ÿå‘½å‘¨æœŸçš„æ ¸å¿ƒæµç¨‹æ˜¯ï¼š</p>
<ul>
<li>æ³¨å†Œå›è°ƒï¼ˆæ„å»ºä¾èµ–ï¼‰</li>
<li>å®Œæˆä»»åŠ¡ï¼ˆè®¾ç½®ç»“æœï¼‰</li>
<li>è§¦å‘ä¾èµ–ï¼ˆä¼ æ’­å®Œæˆï¼‰</li>
</ul>
<p><strong>ä¸€ä¸ªå…¸å‹æµç¨‹å¦‚ä¸‹ï¼ˆJDK 8ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;Integer&gt; <span class="hljs-attr">future1</span> = new CompletableFuture&lt;&gt;()<span class="hljs-comment">;</span>
// æ³¨å†Œå›è°ƒï¼ˆæ„å»ºä¾èµ–ï¼‰
CompletableFuture&lt;String&gt; <span class="hljs-attr">future2</span> = future1.thenApplyAsync(x -&gt; <span class="hljs-string">"val="</span> + x)<span class="hljs-comment">;</span>
CompletableFuture&lt;Void&gt; <span class="hljs-attr">future3</span> = future2.thenAccept(System.out::println)<span class="hljs-comment">;</span>

// å®Œæˆä»»åŠ¡ï¼ˆè®¾ç½®ç»“æœï¼‰ï¼Œcomplete å†…éƒ¨çš„ postComplete ä¼šè§¦å‘ä¾èµ–ï¼ˆä¼ æ’­å®Œæˆï¼‰
future1.complete(42)<span class="hljs-comment">; // è§¦å‘ complete() â†’ completeValue() â†’ postComplete()</span>
// postComplete() ä¼šä¾æ¬¡è§¦å‘ f2ï¼ˆUniApplyï¼‰ï¼Œç„¶å f3ï¼ˆUniAcceptï¼‰
</code></pre>
<p><strong>â€œæ³¨å†Œå›è°ƒâ€æºç åˆ†æï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> &lt;U&gt; <span class="hljs-title class_">CompletableFuture</span>&lt;U&gt; <span class="hljs-title function_">thenApplyAsync</span>(<span class="hljs-params">
        <span class="hljs-built_in">Function</span>&lt;? <span class="hljs-variable language_">super</span> T,? <span class="hljs-keyword">extends</span> U&gt; fn</span>) {
    <span class="hljs-comment">// å½“å½“å‰ CompletableFuture å®Œæˆåï¼Œåœ¨æŒ‡å®šçº¿ç¨‹æ± ï¼ˆè¿™é‡Œæ˜¯ asyncPoolï¼‰ä¸­å¼‚æ­¥æ‰§è¡Œ fn å‡½æ•°ï¼Œ</span>
    <span class="hljs-comment">// å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ CompletableFuture&lt;U&gt; æ¥è¡¨ç¤ºè¿™ä¸ªè½¬æ¢çš„ç»“æœã€‚</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">uniApplyStage</span>(asyncPool, fn);
}

<span class="hljs-keyword">private</span> &lt;V&gt; <span class="hljs-title class_">CompletableFuture</span>&lt;V&gt; <span class="hljs-title function_">uniApplyStage</span>(<span class="hljs-params">
        Executor e, <span class="hljs-built_in">Function</span>&lt;? <span class="hljs-variable language_">super</span> T,? <span class="hljs-keyword">extends</span> V&gt; f</span>) {
    <span class="hljs-keyword">if</span> (f == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullPointerException</span>();
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ CompletableFuture&lt;V&gt; å¯¹è±¡ dï¼Œä½œä¸ºæœ€ç»ˆè¿”å›å€¼ï¼ˆå³ thenApplyAsync è¿”å›çš„é‚£ä¸ª futureï¼‰</span>
    <span class="hljs-title class_">CompletableFuture</span>&lt;V&gt; d =  <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;V&gt;();
    <span class="hljs-comment">// åªè¦éœ€è¦å¼‚æ­¥æ‰§è¡Œï¼ˆe != nullï¼‰ï¼Œæˆ–è€…æ— æ³•ç«‹å³å®Œæˆï¼ˆå½“å‰ future æœªå®Œæˆï¼‰ï¼Œå°±è¿›å…¥åç»­çš„â€œæ³¨å†Œå›è°ƒâ€é€»è¾‘ã€‚</span>
    <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span> || !d.<span class="hljs-title function_">uniApply</span>(<span class="hljs-variable language_">this</span>, f, <span class="hljs-literal">null</span>)) {
        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª UniApply å¯¹è±¡ c ï¼Œä»£è¡¨ä¸€ä¸ªâ€œå•è¾“å…¥åº”ç”¨æ“ä½œâ€ï¼ˆunary applyï¼‰</span>
        <span class="hljs-comment">// UniApply æ˜¯ Completion çš„ä¸€ç§å…·ä½“å®ç°</span>
        <span class="hljs-title class_">CompletableFuture</span>.<span class="hljs-property">UniApply</span>&lt;T,V&gt; c = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>.<span class="hljs-property">UniApply</span>&lt;T,V&gt;(e, d, <span class="hljs-variable language_">this</span>, f);
        <span class="hljs-comment">// å°† cï¼ˆå³è¿™ä¸ªä¾èµ–ä»»åŠ¡ï¼‰å‹å…¥å½“å‰ CompletableFutureï¼ˆthisï¼‰çš„æ ˆå¼ä¾èµ–é“¾è¡¨ä¸­ï¼Œ</span>
        <span class="hljs-comment">// è¿™æ ·ï¼Œå½“ this å®Œæˆæ—¶ï¼Œä¼šéå†æ‰€æœ‰æ³¨å†Œçš„ä¾èµ–ä»»åŠ¡ï¼ˆå¦‚ cï¼‰å¹¶è§¦å‘å®ƒä»¬</span>
        <span class="hljs-title function_">push</span>(c);
        <span class="hljs-comment">// å°è¯•ç«‹å³è§¦å‘è¿™ä¸ªä¾èµ–ä»»åŠ¡ï¼ˆä¸€ç§ä¼˜åŒ–ï¼Œé¿å…â€œåˆšæ³¨å†Œå°±å®Œæˆâ€æ—¶çš„å»¶è¿Ÿï¼‰</span>
        c.<span class="hljs-title function_">tryFire</span>(<span class="hljs-variable constant_">SYNC</span>);
    }
    <span class="hljs-keyword">return</span> d;
}
</code></pre>
<p><strong>â€œå®Œæˆä»»åŠ¡â€ä¸â€œè§¦å‘ä¾èµ–â€æºç åˆ†æï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> boolean complete(T value) {
    <span class="hljs-comment">// å°è¯•ä»¥æ­£å¸¸å€¼å®Œæˆ futureï¼šè¿”å› true è¡¨ç¤ºæœ¬æ¬¡ CAS æˆåŠŸï¼Œå³æˆ‘ä»¬æ˜¯ç¬¬ä¸€ä¸ªå®Œæˆè€…ã€‚</span>
    boolean triggered = completeValue(value);
    <span class="hljs-comment">// æ— è®ºæ˜¯å¦ç”±æœ¬çº¿ç¨‹å®Œæˆï¼Œåªè¦å½“å‰ CompletableFuture å·²å®Œæˆï¼ˆåŒ…æ‹¬åˆšè¢«æˆ‘ä»¬å®Œæˆï¼‰ï¼Œ</span>
    <span class="hljs-comment">// å°±è°ƒç”¨ postComplete()ï¼Œè§¦å‘æ‰€æœ‰å·²æ³¨å†Œçš„ä¾èµ–ä»»åŠ¡ï¼ˆå¦‚ thenApply, thenAccept ç­‰ï¼‰ã€‚</span>
    <span class="hljs-comment">// postComplete() æ˜¯ä¸€ä¸ªéé€’å½’çš„ã€çº¿ç¨‹å®‰å…¨çš„ã€å¹¿åº¦+æ·±åº¦æ··åˆéå†å™¨ï¼Œ</span>
    <span class="hljs-comment">// ç”¨äºåœ¨ future å®Œæˆæ—¶ï¼Œå¯é åœ°å”¤é†’æ•´ä¸ªä¾èµ–ç½‘ç»œï¼Œä¸”ä¸ä¼šæ ˆæº¢å‡ºã€ä¸ä¼šæ­»é”ã€ä¸ä¼šæ¼ä»»åŠ¡ã€‚</span>
    postComplete();
    <span class="hljs-keyword">return</span> triggered;
}

<span class="hljs-comment">// ä»¥éå¼‚å¸¸ç»“æœå®Œæˆ futureï¼Œé™¤éå®ƒå·²ç»å®Œæˆ</span>
<span class="hljs-keyword">final</span> boolean completeValue(T t) {
    <span class="hljs-keyword">return</span> UNSAFE.compareAndSwapObject(<span class="hljs-keyword">this</span>, RESULT, <span class="hljs-literal">null</span>,
            (t == <span class="hljs-literal">null</span>) ? NIL : t);
}

<span class="hljs-comment">// å½“ç¡®å®šå½“å‰ future å·²å®Œæˆæ—¶ï¼Œå¼¹å‡ºå¹¶å°è¯•è§¦å‘æ‰€æœ‰å¯è¾¾çš„ä¾èµ–ä»»åŠ¡</span>
<span class="hljs-comment">// æ­¤æ–¹æ³•åº”åœ¨ future å®Œæˆåè°ƒç”¨ï¼ˆå¦‚ complete()ã€obtrudeValue()ã€å†…éƒ¨å®Œæˆé€»è¾‘ç­‰ï¼‰</span>
<span class="hljs-keyword">final</span> void postComplete() {
    <span class="hljs-comment">/*
     * On each step, variable f holds current dependents to pop
     * and run.  It is extended along only one path at a time,
     * pushing others to avoid unbounded recursion.
     */</span>
    CompletableFuture&lt;?&gt; f = <span class="hljs-keyword">this</span>; CompletableFuture.Completion h;
    <span class="hljs-keyword">while</span> ((h = f.stack) != <span class="hljs-literal">null</span> ||
            (f != <span class="hljs-keyword">this</span> &amp;&amp; (h = (f = <span class="hljs-keyword">this</span>).stack) != <span class="hljs-literal">null</span>)) {
        CompletableFuture&lt;?&gt; d; CompletableFuture.Completion t;
        <span class="hljs-keyword">if</span> (f.casStack(h, t = h.next)) {
            <span class="hljs-keyword">if</span> (t != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (f != <span class="hljs-keyword">this</span>) {
                    pushStack(h);
                    <span class="hljs-keyword">continue</span>;
                }
                h.next = <span class="hljs-literal">null</span>;    <span class="hljs-comment">// detach</span>
            }
            f = (d = h.tryFire(NESTED)) == <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : d;
        }
    }
}
</code></pre>
<p><strong>æ³¨å†Œ â†’ å®Œæˆ â†’ ä¼ æ’­çš„æµç¨‹æ€»ç»“ï¼š</strong></p>
<ul>
<li>å½“è°ƒç”¨Â <code>thenApplyAsync</code>Â ç­‰æ–¹æ³•æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºåç»­æ“ä½œçš„Â <code>Completion</code>ï¼ˆå¦‚Â <code>UniApply</code>ï¼‰ï¼Œè‹¥å½“å‰ä»»åŠ¡æœªå®Œæˆï¼Œåˆ™å°†å…¶å‹å…¥è‡ªèº«çš„Â <code>stack</code>Â ä¾èµ–æ ˆä¸­ï¼ˆ<strong>æ³¨å†Œ</strong>ï¼‰</li>
<li>å½“ä»»åŠ¡é€šè¿‡Â <code>complete(value)</code>Â è¢«å®Œæˆæ—¶ï¼Œä½¿ç”¨ CAS åŸå­åœ°è®¾ç½®Â <code>result</code>Â å­—æ®µï¼ˆ<strong>å®Œæˆ</strong>ï¼‰ï¼›</li>
<li>éšåç«‹å³è°ƒç”¨Â <code>postComplete()</code>ï¼Œä»Â <code>stack</code>Â ä¸­é€ä¸ªå¼¹å‡ºå¹¶æ‰§è¡Œæ‰€æœ‰å·²æ³¨å†Œçš„Â <code>Completion</code>ï¼Œæ¯ä¸ªÂ <code>Completion</code>Â åœ¨æ‰§è¡Œæ—¶ä¼šæ¶ˆè´¹å½“å‰ç»“æœã€è®¡ç®—æ–°å€¼ï¼Œå¹¶å®Œæˆå…¶å…³è”çš„ä¸‹æ¸¸Â <code>CompletableFuture</code>ï¼Œä»è€Œé€’å½’è§¦å‘æ•´ä¸ªä¾èµ–é“¾çš„çº§è”æ‰§è¡Œï¼ˆ<strong>ä¼ æ’­</strong>ï¼‰ã€‚</li>
<li>æ•´ä¸ªè¿‡ç¨‹æ— é”ã€éé˜»å¡ï¼Œä¾é  volatile + CAS + å›è°ƒæ ˆå®ç°é«˜æ•ˆå¼‚æ­¥æµæ°´çº¿ã€‚</li>
</ul>
<h3 data-id="heading-34">ä»»åŠ¡ä¾èµ–ç»“æ„å›¾è§£</h3>
<p><code>CompletableFuture</code>Â çš„ä¾èµ–å…³ç³»å¯ä»ä¸¤ä¸ªå±‚é¢ç†è§£ï¼š</p>
<ul>
<li><strong>Future å±‚çš„ä¾èµ–ï¼ˆé€»è¾‘å…³ç³»ï¼‰</strong> ï¼šä¸åŒÂ <code>CompletableFuture</code>Â å®ä¾‹ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚å…·ä½“æ¥è¯´ï¼Œå½“ä¸€ä¸ªÂ <code>future</code>Â å®Œæˆåï¼Œå®ƒä¼šè§¦å‘å¦ä¸€ä¸ªÂ <code>future</code>Â çš„å®Œæˆã€‚è¿™ç§ä¾èµ–å…³ç³»æ˜¯ç”±Â <code>Completion</code>Â å¯¹è±¡æ¥ç®¡ç†çš„ã€‚</li>
<li><strong>Completion é“¾è¡¨å±‚çš„ä¾èµ–ï¼ˆå­˜å‚¨å…³ç³»ï¼‰</strong> ï¼šæ¯ä¸ªÂ <code>CompletableFuture</code>Â å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªå•å‘é“¾è¡¨ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰ä¾èµ–äºè¯¥Â <code>future</code>Â çš„Â <code>Completion</code>Â å¯¹è±¡ã€‚è¿™äº›Â <code>Completion</code>Â å¯¹è±¡ä»£è¡¨äº†â€œå½“è¿™ä¸ª future å®Œæˆåè¦æ‰§è¡Œçš„æ“ä½œâ€ã€‚</li>
</ul>























<table><thead><tr><th>å±‚çº§</th><th>åç§°</th><th>ç»“æ„</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>ç¬¬ä¸€å±‚</td><td>Future ä¾èµ–å›¾</td><td>DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰</td><td>æè¿°â€œå“ªä¸ª future ä¾èµ–å“ªä¸ªâ€çš„é€»è¾‘å…³ç³»</td></tr><tr><td>ç¬¬äºŒå±‚</td><td>Completion é“¾è¡¨</td><td>æ¯ä¸ª future å†…éƒ¨çš„å•å‘é“¾è¡¨ï¼ˆæ ˆï¼‰</td><td>å­˜å‚¨â€œå½“è¿™ä¸ª future å®Œæˆåè¦æ‰§è¡Œå“ªäº›å…·ä½“æ“ä½œâ€</td></tr></tbody></table>
<p>ä»¥ä¸‹é¢ä»£ç ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">CompletableFuture&lt;String&gt; <span class="hljs-attr">f1</span> = new CompletableFuture&lt;&gt;()<span class="hljs-comment">;</span>

// ç¬¬ä¸€å±‚ï¼šf1 å®Œæˆåï¼Œè§¦å‘ä¸¤ä¸ªç‹¬ç«‹çš„åç»­ future
CompletableFuture&lt;Integer&gt; <span class="hljs-attr">f2</span> = f1.thenApply(s -&gt; s.length())<span class="hljs-comment">;          // åˆ†æ”¯ A</span>
CompletableFuture&lt;String&gt; <span class="hljs-attr">f3</span> = f1.thenApply(s -&gt; s.toUpperCase())<span class="hljs-comment">;      // åˆ†æ”¯ B</span>

// ç¬¬äºŒå±‚ï¼šf2 å’Œ f3 å„è‡ªåˆæœ‰å¤šä¸ªä¸‹æ¸¸
CompletableFuture&lt;Void&gt; <span class="hljs-attr">f4</span> = f2.thenAccept(x -&gt; System.out.println(<span class="hljs-string">"Len: "</span> + x))<span class="hljs-comment">;   // f2 â†’ f4</span>
CompletableFuture&lt;Void&gt; <span class="hljs-attr">f5</span> = f2.thenAccept(x -&gt; System.out.println(<span class="hljs-string">"Double: "</span> + x * <span class="hljs-number">2</span>))<span class="hljs-comment">; // f2 â†’ f5</span>

CompletableFuture&lt;Void&gt; <span class="hljs-attr">f6</span> = f3.thenAccept(s -&gt; System.out.println(<span class="hljs-string">"Upper: "</span> + s))<span class="hljs-comment">; // f3 â†’ f6</span>
</code></pre>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>f1</code>Â æ˜¯æºå¤´ï¼›<code>f2</code>Â å’ŒÂ <code>f3</code>Â å¹¶è¡Œä¾èµ–äºÂ <code>f1</code>ï¼›<code>f2</code>Â æœ‰ä¸¤ä¸ªä¸‹æ¸¸Â <code>f4</code>,Â <code>f5</code>ï¼›<code>f3</code>Â æœ‰ä¸€ä¸ªä¸‹æ¸¸Â <code>f6</code>ã€‚</p>
<p><strong>é€»è¾‘å±‚é¢çš„ä¾èµ–ï¼šFuture ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼ˆDAG å›¾ï¼‰</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94d8b4b71c764f668e8cccf9c5742c2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ams5Y2h5be05Y2h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716787&amp;x-signature=rWkgHOudlY%2BErG2922ZVSNPRChw%3D" alt="" loading="lazy"/></p>
<p><strong>å­˜å‚¨å±‚é¢çš„ä¾èµ–</strong>ï¼š<strong>æ¯ä¸ª Future å†…éƒ¨çš„ Completion é“¾è¡¨</strong></p>
<ul>
<li>Completion é“¾è¡¨æ˜¯å®ç° DAG ä¾èµ–çš„åº•å±‚æœºåˆ¶ï¼šæ¯ä¸ªâ€œä¾èµ–è¾¹â€éƒ½å¯¹åº”ä¸€ä¸ªÂ <code>Completion</code>Â å¯¹è±¡ã€‚</li>
<li>æ•´ä¸ªç³»ç»Ÿæ˜¯ä¸€ä¸ªç”± Completion é“¾è¡¨ç»„æˆçš„ç½‘ç»œï¼Œé€šè¿‡Â <code>postComplete()</code>Â åŠ¨æ€ä¼ æ’­å®ŒæˆçŠ¶æ€ã€‚</li>
</ul>
<p>æ¯ä¸ªÂ <code>Completion</code>Â éƒ½æŒæœ‰ï¼š</p>
<ul>
<li><code>src</code>: æºÂ <code>CompletionFuture</code>ï¼ˆå½“å‰è¿™ä¸ªÂ <code>completion</code>Â æ‰€å±çš„Â <code>future</code>ï¼‰</li>
<li><code>dep</code>: ç›®æ ‡Â <code>CompletionFuture</code>ï¼ˆè¦è¢«å®Œæˆçš„é‚£ä¸ªÂ <code>future</code>ï¼‰</li>
<li><code>fn</code>: è¦æ‰§è¡Œçš„å‡½æ•°</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb4ec4804fab42fa863e0182de7c9a02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ams5Y2h5be05Y2h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768716787&amp;x-signature=lzPxbiOM4DV4l3xUt5NmndlRMMA%3D" alt="" loading="lazy"/></p>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼ˆå½“Â <code>f1.complete("hello")</code>Â è¢«è°ƒç”¨ï¼‰ï¼š</p>
<ol>
<li><code>f1</code> <strong>å®Œæˆ</strong>ï¼Œå€¼ä¸ºÂ <code>"hello"</code>ã€‚</li>
<li><code>f1.postComplete()</code>Â å¼€å§‹å¤„ç†Â <code>f1.stack</code>ï¼š</li>
</ol>
<ul>
<li>å…ˆå¼¹å‡ºÂ <code>c2</code>ï¼ˆ<code>f3</code>Â çš„ä»»åŠ¡ï¼‰ï¼š</li>
<li>
<ul>
<li>æ‰§è¡ŒÂ <code>toUpperCase("hello")</code>Â â†’Â <code>"HELLO"</code></li>
<li>å®ŒæˆÂ <code>f3</code>ï¼ˆè®¾ç½®å…¶ resultï¼‰</li>
<li>è§¦å‘Â <code>f3.postComplete()</code></li>
<li>
<ul>
<li>æ‰§è¡ŒÂ <code>c5</code>ï¼šæ‰“å°Â <code>"Upper: HELLO"</code></li>
</ul>
</li>
</ul>
</li>
<li>å†å¼¹å‡ºÂ <code>c1</code>ï¼ˆ<code>f2</code>Â çš„ä»»åŠ¡ï¼‰ï¼š</li>
<li>
<ul>
<li>æ‰§è¡ŒÂ <code>length("hello")</code>Â â†’Â <code>5</code></li>
<li>å®ŒæˆÂ <code>f2</code></li>
<li>è§¦å‘Â <code>f2.postComplete()</code></li>
<li>
<ul>
<li>å…ˆæ‰§è¡ŒÂ <code>c4</code>ï¼šæ‰“å°Â <code>"Double: 10"</code></li>
<li>å†æ‰§è¡ŒÂ <code>c3</code>ï¼šæ‰“å°Â <code>"Len: 5"</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> è™½ç„¶Â <code>f2</code>Â å’ŒÂ <code>f3</code>Â æ˜¯å¹¶è¡Œåˆ†æ”¯ï¼Œä½†åœ¨è¿™ä¸ªå•çº¿ç¨‹å®Œæˆåœºæ™¯ä¸‹ï¼Œå®ƒä»¬æ˜¯<strong>ä¸²è¡Œæ‰§è¡Œ</strong>çš„ï¼ˆå› ä¸ºÂ <code>postComplete</code>Â æ˜¯å¾ªç¯å¤„ç†ï¼‰ã€‚ä½†åœ¨å¼‚æ­¥æˆ–å¹¶å‘åœºæ™¯ä¸­ï¼Œå®ƒä»¬å¯èƒ½çœŸæ­£å¹¶è¡Œï¼ˆå¦‚æœç”¨äº†ä¸åŒçº¿ç¨‹æ± ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¤¯ ä¸ºä»€ä¹ˆæˆ‘çš„æ”¶é“¶å°åœ¨é¸¿è’™ç³»ç»Ÿâ€œç¬¬ä¸€æ¬¡è¿”å›â€æ­»æ´»æ‹¦ä¸ä½ï¼Ÿä¸€æ¬¡å·®ç‚¹èƒŒé”…çš„æ’æŸ¥å®å½•]]></title>    <link>https://juejin.cn/post/7593353611942887476</link>    <guid>https://juejin.cn/post/7593353611942887476</guid>    <pubDate>2026-01-11T03:36:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593353611942887476" data-draft-id="7593356633636683810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¤¯ ä¸ºä»€ä¹ˆæˆ‘çš„æ”¶é“¶å°åœ¨é¸¿è’™ç³»ç»Ÿâ€œç¬¬ä¸€æ¬¡è¿”å›â€æ­»æ´»æ‹¦ä¸ä½ï¼Ÿä¸€æ¬¡å·®ç‚¹èƒŒé”…çš„æ’æŸ¥å®å½•"/> <meta itemprop="keywords" content="HarmonyOS,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-11T03:36:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="asing"/> <meta itemprop="url" content="https://juejin.cn/user/1412191054738446"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¤¯ ä¸ºä»€ä¹ˆæˆ‘çš„æ”¶é“¶å°åœ¨é¸¿è’™ç³»ç»Ÿâ€œç¬¬ä¸€æ¬¡è¿”å›â€æ­»æ´»æ‹¦ä¸ä½ï¼Ÿä¸€æ¬¡å·®ç‚¹èƒŒé”…çš„æ’æŸ¥å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1412191054738446/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    asing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T03:36:47.000Z" title="Sun Jan 11 2026 03:36:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><p><strong>ç»“è®ºå…ˆè¡Œï¼š</strong><br/>
ä¸æ˜¯ä½ ä»£ç ä¸è¡Œï¼Œä¹Ÿä¸æ˜¯ä½ æ–¹æ¡ˆä¸å¯¹ï¼Œè€Œæ˜¯ <strong>çº¯è¡€é¸¿è’™å‹æ ¹ä¸ç»™ H5 æœºä¼šæ‹¦ç¬¬ä¸€æ¬¡è¿”å›</strong>ã€‚<br/>
æˆ‘ä¹Ÿæ˜¯æŸ¥åˆ°ç¬¬ä¸‰å¤©ï¼Œæ‰æ•¢ç¡®å®šè¿™ä¸æ˜¯æˆ‘çš„é”…ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€äº‹æƒ…æ˜¯æ€ä¹ˆå¼€å§‹çš„ï¼ˆèƒŒé”…é¢„è­¦ï¼‰</h2>
<p>äº‹æƒ…å‘ç”Ÿåœ¨ä¸€ä¸ªçœ‹ä¼¼å¹³å¹³æ— å¥‡çš„éœ€æ±‚é‡Œï¼š</p>
<p>ğŸ‘‰ <strong>æ”¶é“¶å°é¡µé¢ï¼Œç”¨æˆ·ç‚¹å·¦ä¸Šè§’è¿”å›æ—¶ï¼Œå¼¹ä¸€ä¸ªâ€œæŒ½ç•™å¼¹çª—â€</strong></p>
<p>è€éœ€æ±‚äº†å§ï¼Ÿ<br/>
æˆ‘å†…å¿ƒ OSï¼š <em>â€œè¿™ä¸å°±æ˜¯ history + popstate çš„äº‹å—ï¼Œé—­ç€çœ¼å†™ã€‚â€</em></p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0afde87582224227b7ad9ef0319983a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXNpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768707407&amp;x-signature=YOQTpfy0nB2ppCb0MAx3mxuh%2B1s%3D" alt="IMG_2422.PNG" width="30%" loading="lazy"/>
<p>ç»“æœä¸Šçº¿åï¼Œæµ‹è¯•åŒå­¦ä¸€å¥è¯æŠŠæˆ‘å¹²æ‡µäº†ï¼š</p>
<blockquote>
<p>â€œçº¯è¡€é¸¿è’™æ‰‹æœºæœ‰é—®é¢˜ï¼Œåˆšè¿›æ”¶é“¶å°ç›´æ¥è¿”å›ï¼Œå¼¹çª—ä¸å‡ºæ¥ã€‚â€</p>
</blockquote>
<p>æˆ‘ç¬¬ä¸€ååº”ï¼š</p>
<blockquote>
<p>ä¸å¯èƒ½ï¼<br/>
Androidã€iOSã€Web å…¨éƒ¨ OKï¼<br/>
ä½ æ˜¯ä¸æ˜¯ç‚¹å¤ªå¿«äº†ï¼Ÿ</p>
</blockquote>
<p>ç„¶åå¥¹ç»™æˆ‘å½•äº†ä¸ªè§†é¢‘ã€‚</p>
<p>æˆ‘æ²‰é»˜äº†ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€è¿™ä¸ª Bug æœ‰å¤šâ€œé˜´é—´â€ï¼Ÿ</h2>
<p>å…ˆæè¿°ä¸€ä¸‹<strong>è¯¡å¼‚ç°è±¡</strong>ï¼š</p>

























<table><thead><tr><th>æ“ä½œ</th><th>æ˜¯å¦æ‹¦æˆª</th></tr></thead><tbody><tr><td>è¿›å…¥æ”¶é“¶å°ï¼Œå•¥ä¹Ÿä¸ç‚¹ï¼Œç›´æ¥ç‚¹è¿”å›</td><td>âŒ ä¸æ‹¦</td></tr><tr><td>è¿›å…¥æ”¶é“¶å°ï¼Œå•¥ä¹Ÿä¸ç‚¹ï¼Œå·¦æ»‘è¿”å›</td><td>âŒ ä¸æ‹¦</td></tr><tr><td>éšä¾¿ç‚¹ä¸€ä¸‹é¡µé¢ï¼Œå†è¿”å›</td><td>âœ… æ­£å¸¸</td></tr><tr><td>æ­£å¸¸æµè§ˆé¡µé¢å†è¿”å›</td><td>âœ… æ­£å¸¸</td></tr></tbody></table>
<p>é‡ç‚¹æ¥äº†ğŸ‘‡</p>
<blockquote>
<p><strong>â€œç‚¹ä¸€ä¸‹å±å¹•ï¼Œå“ªæ€•ä»€ä¹ˆéƒ½æ²¡ç‚¹ä¸­ï¼Œé—®é¢˜å°±æ¶ˆå¤±äº†ã€‚â€</strong></p>
</blockquote>
<p>è¿™æ—¶å€™ä½ ä¼šæ€€ç–‘ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>history å†™é”™äº†ï¼Ÿ</li>
<li>popstate æ²¡ç›‘å¬ï¼Ÿ</li>
<li>è·¯ç”±å†²çªï¼Ÿ</li>
<li>é¸¿è’™ WebView æœ‰ Bugï¼Ÿ</li>
</ul>
<p>æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æˆ‘æ’æŸ¥è¿‡çš„æ‰€æœ‰â€œé”™è¯¯æ–¹å‘â€ï¼ˆè¸©å‘åˆé›†ï¼‰</h2>
<p>ä¸ºäº†è¯æ˜ä¸æ˜¯æˆ‘èœï¼Œæˆ‘åšè¿‡è¿™äº›äº‹ï¼š</p>
<ul>
<li>âœ… æ”¹æˆ hash æ‹¦æˆª</li>
<li>âœ… history.go(-1) / go(1) å„ç§ç»„åˆ</li>
<li>âœ… ç›‘å¬ popstateã€hashchange</li>
<li>âœ… React Router / é Router å¯¹æ¯”</li>
<li>âœ… console.log æ‰“æ»¡</li>
<li>âœ… æ¢ä¸‰å°é¸¿è’™æ‰‹æœº</li>
</ul>
<p>ç»“æœå‘ç°ä¸€ä¸ªæ®‹é…·äº‹å®ï¼š</p>
<blockquote>
<p><strong>JS ä»£ç åœ¨â€œç¬¬ä¸€æ¬¡è¿”å›â€æ—¶ï¼Œå‹æ ¹æ²¡æ‰§è¡Œã€‚</strong></p>
</blockquote>
<p>ä¸æ˜¯æ‰§è¡Œäº†é€»è¾‘ä¸å¯¹ï¼Œ<br/>
æ˜¯ <strong>æ ¹æœ¬æ²¡æœºä¼šæ‰§è¡Œ</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€çœŸç›¸æ­æ™“ï¼šé¸¿è’™çš„ã€Œç”¨æˆ·æ¿€æ´»æœºåˆ¶ã€</h2>
<p>æœ€ç»ˆç­”æ¡ˆæ¥è‡ªä¸€ç¯‡å‡ ä¹æ²¡äººçœ‹çš„ ArkWeb è¯´æ˜ + æ— æ•°æ¬¡éªŒè¯ã€‚</p>
<h3 data-id="heading-4">æ ¸å¿ƒç»“è®ºä¸€å¥è¯ï¼š</h3>
<blockquote>
<p><strong>åœ¨çº¯è¡€é¸¿è’™ç³»ç»Ÿä¸­ï¼Œå¦‚æœ H5 é¡µé¢â€œæœªå‘ç”Ÿä»»ä½•ç”¨æˆ·äº¤äº’â€ï¼Œ<br/>
è¿”å›äº‹ä»¶ä¸ä¼šåˆ†å‘ç»™ JSã€‚</strong></p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼š</p>
<pre><code class="hljs">é¡µé¢åˆšæ‰“å¼€
â†“
ç”¨æˆ·æ²¡ç‚¹ã€æ²¡æ»‘ã€æ²¡è§¦æ‘¸
â†“
ç³»ç»Ÿè®¤ä¸ºï¼šè¿™ä¸ªé¡µé¢è¿˜æ²¡â€œæ¿€æ´»â€
â†“
è¿”å›äº‹ä»¶ â†’ Native ç›´æ¥å¤„ç†
â†“
JSï¼šï¼Ÿæˆ‘è¿˜æ²¡é†’
</code></pre>
<p>è€Œä¸€æ—¦ä½ ï¼š</p>
<ul>
<li>ç‚¹äº†ä¸€ä¸‹</li>
<li>æ»‘äº†ä¸€ä¸‹</li>
<li>éšä¾¿è§¦æ‘¸ä¸€ä¸‹</li>
</ul>
<p>é¡µé¢å°±ä¼šè¿›å…¥ <strong>Activated çŠ¶æ€</strong>ï¼š</p>
<pre><code class="hljs">JSï¼šæˆ‘é†’äº†ï¼Œæˆ‘èƒ½æ‹¦äº†
</code></pre>
<p>è¿™ä¹Ÿå®Œç¾è§£é‡Šäº†ï¼š</p>
<blockquote>
<p><strong>â€œä¸ºä»€ä¹ˆç‚¹ä¸€ä¸‹å°±å¥½äº†ã€‚â€</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">äº”ã€æ‰€ä»¥é—®é¢˜åˆ°åº•æ˜¯è°çš„ï¼Ÿ</h2>
<p>æˆ‘å¯ä»¥å¾ˆè´Ÿè´£ä»»åœ°è¯´ï¼š</p>
<blockquote>
<p>âŒ ä¸æ˜¯å‰ç«¯å®ç° Bug<br/>
âŒ ä¸æ˜¯äº§å“é€»è¾‘é—®é¢˜<br/>
âŒ ä¸æ˜¯æµ‹è¯•ç‚¹åˆé’»</p>
</blockquote>
<p>ğŸ‘‰ <strong>è¿™æ˜¯é¸¿è’™ WebViewï¼ˆArkWebï¼‰çš„ç³»ç»Ÿçº§ç­–ç•¥ã€‚</strong></p>
<p>ä½ ç”¨å†ä¼˜é›…çš„ H5 æ–¹æ¡ˆï¼Œä¹Ÿç»•ä¸è¿‡è¿™ä¸€ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-6">å…­ã€é‚£è¿˜èƒ½ä¸èƒ½åšï¼Ÿèƒ½ï¼Œä½†å¾—è®¤æ¸…è¾¹ç•Œ</h2>
<h3 data-id="heading-7">å…ˆç»™ç°å®ç»“è®ºï¼ˆå¾ˆé‡è¦ï¼‰</h3>
<p>åœ¨ <strong>æ²¡æœ‰ Native æ¡¥çš„å‰æä¸‹</strong>ï¼š</p>
<ul>
<li>
<p>Web / Android / iOSï¼šâœ… 100% å¯æ‹¦</p>
</li>
<li>
<p>çº¯è¡€é¸¿è’™ï¼š</p>
<ul>
<li>ç”¨æˆ·æœ‰è¿‡ä»»ä½•äº¤äº’ â†’ âœ… å¯æ‹¦</li>
<li><strong>é›¶æ“ä½œç›´æ¥è¿”å›</strong> â†’ âŒ H5 æ— æ³•ä¿è¯</li>
</ul>
</li>
</ul>
<p>è¿™æ˜¯<strong>èƒ½åŠ›ä¸Šé™</strong>ï¼Œä¸æ˜¯æŠ€æœ¯æ°´å¹³é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸ƒã€æˆ‘ä»¬æœ€åæ˜¯æ€ä¹ˆâ€œä½“é¢è§£å†³â€çš„ï¼Ÿ</h2>
<h3 data-id="heading-9">æ–¹æ¡ˆä¸€ï¼šäº§å“ä¾§ï¼ˆå¼ºçƒˆæ¨èï¼Œæ€§ä»·æ¯”æœ€é«˜ï¼‰</h3>
<p>ğŸ‘‰ <strong>è®©ç”¨æˆ·â€œè‡ªç„¶äº§ç”Ÿä¸€æ¬¡äº¤äº’â€</strong></p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>Skeleton éª¨æ¶å±</li>
<li>â€œæ­£åœ¨åŠ è½½è®¢å•ä¿¡æ¯â€¦â€</li>
<li>é¦–æ¬¡ç‚¹å‡»ä»»æ„åŒºåŸŸæ¶ˆå¤±çš„æç¤º</li>
</ul>
<p>99% çš„ç”¨æˆ·éƒ½ä¼šï¼š</p>
<ul>
<li>ç­‰ä¸€ä¸‹</li>
<li>ç‚¹ä¸€ä¸‹</li>
<li>æ»‘ä¸€ä¸‹</li>
</ul>
<p>é¡µé¢ç«‹åˆ»è¿›å…¥æ¿€æ´»æ€ã€‚</p>
<p>é—®é¢˜åŸºæœ¬æ¶ˆå¤±ã€‚</p>
<hr/>
<h3 data-id="heading-10">æ–¹æ¡ˆäºŒï¼šæŠ€æœ¯ä¾§ï¼ˆç»ˆæè§£ï¼Œä½†è¦ Nativeï¼‰</h3>
<p>å¦‚æœä½ èƒ½æ”¹ Appï¼š</p>
<blockquote>
<p><strong>ç”± Native æ‹¦æˆªè¿”å›ï¼ŒH5 åªè´Ÿè´£å¼¹çª—ã€‚</strong></p>
</blockquote>
<p>è¿™æ˜¯ <strong>100% ç¨³å®šè§£</strong>ï¼Œ<br/>
ä¹Ÿæ˜¯é¸¿è’™ä¸‹æ‰€æœ‰å¤§å‚æœ€ç»ˆéƒ½ä¼šèµ°çš„è·¯ã€‚</p>
<hr/>
<h2 data-id="heading-11">å…«ã€ç»™åæ¥äººçš„ä¸€å¥å¿ å‘Šï¼ˆè¡€æ³ªï¼‰</h2>
<blockquote>
<p><strong>å¦‚æœä½ åœ¨é¸¿è’™é‡Œé‡åˆ°â€œç¬¬ä¸€æ¬¡è¿”å›æ‹¦ä¸ä½â€ï¼š<br/>
å…ˆåˆ«æ€€ç–‘äººç”Ÿï¼Œä¹Ÿåˆ«é‡æ„ä»£ç ã€‚<br/>
ä½ å¤§æ¦‚ç‡é‡åˆ°çš„æ˜¯ç³»ç»Ÿ User Activation é™åˆ¶ã€‚</strong></p>
</blockquote>
<p>è®¤æ¸…è¾¹ç•Œï¼Œæ¯”å†™æ›´å¤šä»£ç é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-12">ä¹ã€å†™åœ¨æœ€åï¼šä¸ºä»€ä¹ˆæˆ‘è¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ</h2>
<p>å› ä¸ºæˆ‘å½“åˆåœ¨æ˜é‡‘ã€GitHubã€åšå®¢ï¼š</p>
<p>ğŸ‘‰ <strong>æ²¡æœåˆ°ä¸€ç¯‡æŠŠè¿™ä¸ªé—®é¢˜è®²æ¸…æ¥šçš„æ–‡ç« ã€‚</strong></p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ ï¼š</p>
<ul>
<li>å°‘æŸ¥ 2 å¤©</li>
<li>å°‘èƒŒä¸€æ¬¡é”…</li>
<li>å°‘æ€€ç–‘ä¸€æ¬¡è‡ªå·±</li>
</ul>
<p>é‚£æˆ‘å°±èµšåˆ°äº†ã€‚</p>
<hr/>
<h3 data-id="heading-13">ğŸ‘ å¦‚æœä½ è§‰å¾—æœ‰ç”¨</h3>
<ul>
<li>ç‚¹ä¸ªèµï¼Œè®©æ›´å¤šäººå°‘è¸©ä¸€ä¸ªå‘</li>
<li>ç•™ä¸ªè¯„è®ºï¼Œè¯´è¯´ä½ é‡åˆ°è¿‡çš„â€œé¸¿è’™ç„å­¦â€</li>
<li>æ”¶è—ä¸€ä¸‹ï¼Œä¸‹æ¬¡å‡ºäº‹èƒ½æ‹¿å‡ºæ¥å¯¹çº¿</li>
</ul>
<hr/>
<p><strong>æˆ‘ä»¬å†™ä»£ç å·²ç»å¤Ÿéš¾äº†ï¼Œ<br/>
è‡³å°‘ä¸è¯¥ä¸ºâ€œä¸æ˜¯è‡ªå·±é€ æˆçš„é—®é¢˜â€åŠ ç­ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>