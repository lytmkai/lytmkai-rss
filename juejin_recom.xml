<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å•Šï¼Ÿå¾®åš7800ç¾å…ƒè®­çš„å¤§æ¨¡å‹ï¼Œæ•°å­¦èƒ½åŠ›è¶…äº†DeepSeek-R1]]></title>    <link>https://juejin.cn/post/7573864324713037876</link>    <guid>https://juejin.cn/post/7573864324713037876</guid>    <pubDate>2025-11-18T09:12:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324713037876" data-draft-id="7573708620870484020" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å•Šï¼Ÿå¾®åš7800ç¾å…ƒè®­çš„å¤§æ¨¡å‹ï¼Œæ•°å­¦èƒ½åŠ›è¶…äº†DeepSeek-R1"/> <meta itemprop="keywords" content="DeepSeek,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-18T09:12:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å•Šï¼Ÿå¾®åš7800ç¾å…ƒè®­çš„å¤§æ¨¡å‹ï¼Œæ•°å­¦èƒ½åŠ›è¶…äº†DeepSeek-R1
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:12:07.000Z" title="Tue Nov 18 2025 09:12:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“æ•´ä¸ª AI è¡Œä¸šé™·å…¥ â€œå‚æ•°ç«èµ›â€ çš„ç‹‚çƒ­æ—¶ï¼Œ<strong>å¾®åš AI</strong> äº¤å‡ºäº†ä¸€ä»½å‡ºä¹æ„æ–™çš„ç­”å·ï¼Œä¸ºæ²¸è…¾çš„å¤§æ¨¡å‹æˆ˜åœºå¼€è¾Ÿäº†ä¸€æ¡å……æ»¡æƒ³è±¡åŠ›çš„æ–°è·¯å¾„ã€‚</p>
<p>è¿‘æ—¥ï¼Œå¾®åšæ­£å¼å‘å¸ƒé¦–ä¸ªè‡ªç ”å¼€æºå¤§æ¨¡å‹ <strong>VibeThinker</strong>ï¼Œè¿™ä¸ªä»…æ‹¥æœ‰ 15 äº¿å‚æ•°çš„ â€œè½»é‡çº§é€‰æ‰‹â€ï¼Œåœ¨å›½é™…é¡¶çº§æ•°å­¦ç«èµ›åŸºå‡†æµ‹è¯•ä¸Šå‡»è´¥äº†å‚æ•°é‡æ˜¯å…¶æ•°ç™¾å€çš„ã€é«˜è¾¾ 6710 äº¿çš„ DeepSeek R1 æ¨¡å‹ã€‚</p>
<p>æ›´ä»¤äººç©ç›®çš„æ˜¯ï¼Œå…¶å•æ¬¡ â€œåè®­ç»ƒâ€ çš„æˆæœ¬ä»… <strong>7800 ç¾å…ƒ</strong>ï¼Œå¯¹æ¯” DeepSeek-R1 å’Œ MiniMax-M1 ç­‰æˆæœ¬ç›´æ¥é™ä½äº†å‡ åå€ã€‚</p>
<p>è¿™ä¸€çªç ´ä¸ä»…é‡æ–°å®šä¹‰äº†å¤§æ¨¡å‹çš„æŠ€æœ¯è¯„ä»·æ ‡å‡†ï¼Œæ›´æœ‰æœ›æ¨åŠ¨ AI äº§ä¸šä» â€œè§„æ¨¡ç«èµ›â€ è½¬å‘â€œæ•ˆç‡é©å‘½â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a59affe4dde4148b88ef0ba6dc61ef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061927&amp;x-signature=IC1buZbQ0ls%2FLvC%2FNUjegmZWFQo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">è¡Œä¸šé»‘é©¬ï¼šå°æ¨¡å‹æ‰“ç ´å‚æ•°å´‡æ‹œ</h2>
<p>åœ¨ AI å‘å±•å²ä¸Šï¼Œå‚æ•°é‡æ›¾è¢«è§†ä¸ºè¡¡é‡æ¨¡å‹èƒ½åŠ›çš„æ ¸å¿ƒæŒ‡æ ‡ã€‚</p>
<p>è¡Œä¸šæ™®éè®¤ä¸ºï¼Œå¤æ‚æ¨ç†èƒ½åŠ›éœ€è¦ 1000 äº¿ä»¥ä¸Šå‚æ•°æ‰èƒ½æ¶Œç°ï¼Œè€Œå°æ¨¡å‹åˆ™å› æ— æ³•å¤„ç†é«˜éš¾åº¦é—®é¢˜è¢«è§†ä¸º â€œå¤©ç”Ÿä¸è¶³â€ã€‚</p>
<p>ä½†å¦‚æœä»å°æ¨¡å‹å…¥æ‰‹ï¼Œé€šè¿‡å·§å¦™çš„è®­ç»ƒç­–ç•¥ï¼Œèƒ½å¦æŒ–æ˜å‡ºéšè—çš„æ¨ç†èƒ½åŠ›ï¼Ÿ</p>
<p>å¾®åšè‡ªç ”å¼€æºå¤§æ¨¡å‹ VibeThinkerï¼Œç»™å‡ºäº†è¡Œä¸šä¸€ä¸ªè‚¯å®šçš„ç­”æ¡ˆã€‚</p>
<p>å½“å¤§å¤šæ•° AI å‚å•†ä»éµå¾ªç€ â€œè§„æ¨¡æ‰©å¤§å³æ™ºèƒ½æå‡â€ çš„ Scaling Law æ³•åˆ™æ—¶ï¼Œå¾®åš AI ç ”å‘äººå‘˜è½¬è€Œä¼˜åŒ–æ¨¡å‹ç»“æ„å’Œè®­ç»ƒèŒƒå¼ï¼Œå¹¶åˆ›æ–°æå‡ºäº† <strong>â€œé¢‘è°±åˆ°ä¿¡å·åŸç†â€ï¼ˆSSPï¼‰æ–¹æ³•è®­ç»ƒ</strong>ï¼Œåˆ›é€ å‡ºäº†ä¸€ä¸ªä»…æ‹¥æœ‰ 15 äº¿å‚æ•°çš„ â€œè½»é‡çº§é€‰æ‰‹â€ï¼Œä½†åœ¨ AI ç«æŠ€åœºä¸Šæˆ˜èƒœäº†è¶…è¶Šå…¶æ•°ç™¾å€ä½“é‡çš„ â€œå·¨äººâ€ã€‚</p>
<p>VibeThinker ä¸€ç»å‘å¸ƒï¼Œç«‹å³å¼•èµ·äº†å…¨çƒ AI ç ”ç©¶ç•Œçš„å¹¿æ³›å…³æ³¨ï¼Œå› å…¶åœ¨ä¸€ç³»åˆ—æ¶µç›–æ•°å­¦ã€ç¼–ç çš„æƒå¨åŸºå‡†æµ‹è¯•ä¸­ï¼Œäº¤å‡ºäº†ä¸€ä»½å‡ºä¹æ„æ–™çš„ç­”å·ï¼š</p>
<h6 data-id="heading-1"><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04aa5cd0871c4584ade49bb031827622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061927&amp;x-signature=mkEvGgyjTUN48nHTqdei7pTl3rg%3D" alt="" loading="lazy"/>â–³</strong>HuggingFace å®˜æ–¹ä¸»åŠ¨ä¸‹åœºå‘æ–‡å®£ä¼  VibeThinker è®ºæ–‡</h6>
<p>åœ¨ AIME24ã€AIME25 ä»¥åŠ HMMT25 ä¸‰ä¸ªé«˜éš¾åº¦æ•°å­¦æµ‹è¯•é›†ä¸Šçš„è¡¨ç°ï¼ŒVibeThinker è¶…è¶Šäº†å‚æ•°é‡è¶…å…¶ 400 å€çš„æ¨¡å‹ DeepSeek-R1-0120 ç‰ˆæœ¬_ï¼ˆæ¨¡å‹å¤§å° 671Bï¼‰_ï¼Œä¸è§„æ¨¡ä¸º 456B çš„ MiniMax-M1 æ•ˆæœæ¥è¿‘æˆ–ç›¸å½“ï¼Œç”šè‡³åª²ç¾ Gemini 2.5 flash å’Œ Claude Opus 4ã€‚</p>
<p>æ­¤å¤–ï¼Œåœ¨ LiveCodeBench v6_ï¼ˆç¼–ç¨‹ç®—æ³•é¢˜æµ‹è¯•é›†ï¼‰_ä¸­çš„æˆç»©ï¼ŒVibeThinker æˆåŠŸè¿½å¹³å‚æ•°é‡æ•°è¶…å…¶æ•°åå€çš„æ¨¡å‹ï¼Œæ¯”å¦‚æ¬§æ´²é¢†å…ˆ AI ä¼ä¸š Minstral.AI çš„æ·±åº¦æ€è€ƒæ¨¡å‹ Magistral-Medium-2506 ç‰ˆæœ¬ã€‚</p>
<p>VibeThinker é›„è¾©åœ°è¯æ˜ï¼Œé€šè¿‡ç²¾å·§çš„ç®—æ³•è®¾è®¡å’Œè®­ç»ƒç­–ç•¥ï¼Œä¸€ä¸ªå°è§„æ¨¡æ¨¡å‹å®Œå…¨æœ‰æ½œåŠ›åœ¨å¤æ‚çš„é€»è¾‘æ¨ç†ä»»åŠ¡ä¸Šï¼Œè¾¾åˆ°ç”šè‡³è¶…è¶Šé‚£äº›ä½“é‡åºå¤§æ•°ç™¾å€çš„å·¨å‹æ¨¡å‹ï¼Œæ›´ä¸º AI äº§ä¸šçš„æˆæœ¬ç»“æ„ã€æŠ€æœ¯è·¯çº¿å’Œèµ„æœ¬å¸ƒå±€å¸¦æ¥äº†å…¨æ–°çš„æ€è€ƒè·¯å¾„ã€‚</p>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒVibeThinker ç›®å‰å‘å¸ƒçš„ç‰ˆæœ¬å°šå¤„äºå®éªŒæ€§ç‰ˆæœ¬ï¼Œå…¶ç ”å‘é‡ç‚¹ä¸»è¦é›†ä¸­äºæå¤§å¼ºåŒ–å°æ¨¡å‹å¤æ‚æ•°å­¦ä¸ç«èµ›ç¼–ç¨‹ç­‰æ–¹é¢çš„èƒ½åŠ›ï¼Œå…¶åœ¨æ—¥å¸¸èŠå¤©ç­‰èƒ½åŠ›è¿˜æ²¡æœ‰åšè¿‡é’ˆå¯¹æ€§è®­ç»ƒä¼˜åŒ–ï¼Œæ‰€ä»¥æš‚ä¸é€‚åˆä½œä¸ºæ—¥å¸¸èŠå¤©å·¥å…·è¿›è¡Œäº’åŠ¨ï¼Œæ›´é€‚ç”¨äº<strong>æ•°å­¦å’Œä»£ç </strong>ç­‰é«˜æ™ºèƒ½åº”ç”¨åœºæ™¯ã€‚</p>
<h2 data-id="heading-2">æˆæœ¬é©å‘½ï¼š7800 ç¾å…ƒé—¨æ§›é‡å¡‘äº§ä¸šç”Ÿæ€</h2>
<p>è®­ç»ƒæˆæœ¬ä¸€ç›´æ˜¯åˆ¶çº¦ AI æŠ€æœ¯æ™®åŠçš„å…³é”®ç“¶é¢ˆï¼ŒVibeThinker çš„æˆå°±ä¸ä»…åœ¨äºæƒŠè‰³çš„æ€§èƒ½ï¼Œæ›´åœ¨äºå…¶æè‡´çš„æˆæœ¬æ•ˆç›Šã€‚</p>
<p>æ ¹æ®å…¬å¼€æ•°æ®ï¼Œ2025 å¹´ä¸»æµå¤§æ¨¡å‹å•æ¬¡åè®­ç»ƒ_ï¼ˆPost-Trainingï¼‰_æˆæœ¬æ™®éåœ¨æ•°åä¸‡ç¾å…ƒçº§åˆ«ã€‚</p>
<p>ä¸Šæµ· AI ä¼ä¸š MiniMax äºä»Šå¹´ 6 æœˆå‘å¸ƒçš„ M1 æ¨¡å‹ï¼Œä½¿ç”¨ 512 å— H800 GPU è®­ç»ƒä¸‰å‘¨ï¼Œç§Ÿèµæˆæœ¬çº¦ 53.5 ä¸‡ç¾å…ƒï¼Œåˆ›å§‹äººå‘æ–‡è¡¨ç¤ºï¼šâ€œç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°å¤§å±±ä¸æ˜¯ä¸èƒ½ç¿»è¶Šã€‚â€</p>
<p>ä»Šå¹´ 9 æœˆï¼ŒAI åˆåˆ›å…¬å¸ DeepSeek_ï¼ˆæ·±åº¦æ±‚ç´¢ï¼‰_çš„è®ºæ–‡ç™»ä¸Šã€Šè‡ªç„¶ã€‹æ‚å¿—ã€‚è®ºæ–‡é¦–æ¬¡æ­ç¤ºäº†è®­ç»ƒ R1 çš„æˆæœ¬ï¼šä»…ä¸º 29.4 ä¸‡ç¾å…ƒã€‚è¿™ä¸åŒ…æ‹¬ DeepSeek å…¬å¸åœ¨å¼€å‘ R1 æ‰€åŸºäºçš„åŸºç¡€ LLMï¼ˆå³ DeepSeek-V3ï¼‰ä¸ŠèŠ±è´¹çš„çº¦ 600 ä¸‡ç¾å…ƒï¼Œä½†æ€»æˆæœ¬ä»ç„¶è¿œä½äºç«äº‰å¯¹æ‰‹æ¨¡å‹è¢«è®¤ä¸ºèŠ±è´¹çš„æ•°åƒä¸‡ç¾å…ƒã€‚</p>
<p>åœ¨è¿™æ ·çš„è¡Œä¸šèƒŒæ™¯ä¸‹ï¼ŒVibeThinker æ•´ä¸ªåè®­ç»ƒè¿‡ç¨‹_ï¼ˆåŒ…æ‹¬ SFT å’Œ RL é˜¶æ®µï¼‰_æ€»å…±åªèŠ±è´¹äº†çº¦ 3900 ä¸ª GPU å°æ—¶ã€‚æŒ‰ç…§å½“æ—¶çš„å¸‚åœºç§Ÿèµä»·æ ¼ï¼Œæ€»è®¡ç®—æˆæœ¬ä»… <strong>7800 ç¾å…ƒ</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de4b4818825547d8bd4890a3433f90e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061927&amp;x-signature=35reAQHx62rIIVmSIdApDIrxXXg%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œå…¶ç”¨ä¸åˆ° 8000 ç¾å…ƒçš„æˆæœ¬ï¼Œè¾¾åˆ°äº†éœ€è¦èŠ±è´¹ 30 ä¸‡ã€ç”šè‡³ 50 ä¸‡ç¾å…ƒæ‰èƒ½ä¼åŠçš„æ€§èƒ½æ°´å¹³ï¼Œæˆæœ¬æ•ˆç›Šæ¯”è¾¾åˆ°äº†æƒŠäººçš„ <strong>30 åˆ° 60 å€</strong>ã€‚</p>
<p>è¿™ç§æˆæœ¬ä¸Šçš„æ˜¾è‘—ä¼˜åŠ¿ï¼Œä¹Ÿæ„å‘³ç€å¼ºå¤§çš„ AI æ¨ç†èƒ½åŠ›ä¸å†æ˜¯å°‘æ•°ç§‘æŠ€å·¨å¤´çš„ä¸“åˆ©ï¼ŒåŸæœ¬è¢«å·¨å¤´å„æ–­çš„æŠ€æœ¯èµ„æºå¾—ä»¥æ™®æƒ ï¼Œæ›´å¤šä¸­å°å‹å…¬å¸ã€ç ”ç©¶æœºæ„å’Œå¤§å­¦ï¼Œéƒ½æœ‰æœºä¼šå‚ä¸åˆ°å‰æ²¿ AI åˆ›æ–°å¼€å‘ä¸­æ¥ï¼Œæå¤§åœ°ä¿ƒè¿›äº† AI ç ”ç©¶çš„æ™®æƒ åŒ–ï¼Œæ¨åŠ¨æ•´ä¸ªè¡Œä¸šæœç€æ›´å¼€æ”¾ã€æ›´å¤šå…ƒã€æ›´å…·æ´»åŠ›çš„æ–¹å‘å‘å±•ã€‚</p>
<h2 data-id="heading-3">åº”ç”¨è½åœ°ï¼šå¾®åš AI ç”Ÿæ€å¤šç‚¹å¼€èŠ±</h2>
<p>æŠ€æœ¯çªç ´çš„æœ€ç»ˆä»·å€¼åœ¨äº<strong>åº”ç”¨è½åœ°</strong>ã€‚</p>
<p>å¾®åšç§¯ææ‹¥æŠ±äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿ï¼Œå…¨é¢ä¿ƒè¿› AI æŠ€æœ¯åœ¨å¤šé¡¹ä¸šåŠ¡åœºæ™¯çš„è½åœ°ã€‚</p>
<p>2024 å¹´ï¼Œå¾®åšè‡ªä¸»ç ”å‘ <strong>â€œçŸ¥å¾®â€ å¤§è¯­è¨€æ¨¡å‹</strong>ï¼Œå¹¶æˆåŠŸé€šè¿‡å¤‡æ¡ˆï¼Œæ›´é™†ç»­æ¨å‡ºå¾®åšæ™ºæœã€å†…å®¹æ€»ç»“ã€AI äº’åŠ¨å·ç­‰å‰æ²¿åŠŸèƒ½ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œæå‡å†…å®¹ç”Ÿäº§å’Œäº’åŠ¨æ•ˆç‡ã€‚</p>
<p>åŸºäºè‡ªç ”çš„ â€œçŸ¥å¾®â€ å¤§æ¨¡å‹ï¼Œå¾®åšæ„å»ºäº†é€‚é…å¾®åšåœºæ™¯çš„ AI åº”ç”¨ç”Ÿæ€ï¼Œå¹¶åˆ›é€ äº†ä¸¤å¤§é¡¶æµ AI äº§å“ï¼š</p>
<ul>
<li>
<p>ä¸€æ˜¯<strong>å¾®åšæ™ºæœ</strong>ï¼Œå®ƒé€šè¿‡æ·±åº¦åˆ†æå¹³å°å†…æµ·é‡ä¼˜è´¨å†…å®¹ï¼Œæ„å»ºå¯ä¿¡çŸ¥è¯†å›¾è°±ï¼Œå®ç° â€œç²¾å‡†æ•æ‰ç”¨æˆ·éœ€æ±‚ã€ç†è§£æƒ…æ„Ÿä¸åœºæ™¯â€ çš„çªç ´æ€§ä½“éªŒï¼Œ6 æœˆæ™ºæœæœˆæ´»è·ƒç”¨æˆ·çªç ´ 5000 ä¸‡ï¼›</p>
</li>
<li>
<p>äºŒæ˜¯<strong>è¯„è®ºç½—ä¼¯ç‰¹</strong>ï¼Œä½œä¸º AI äº’åŠ¨è´¦å·ï¼Œå®ƒä»æ¯’èˆŒé£æ ¼èµ·æ­¥ï¼Œé€æ¸è¿›åŒ–å‡ºæ¸©æƒ…ä¸èªæ˜ç‰ˆæœ¬ï¼Œæˆä¸ºå¹¿å¤§ç”¨æˆ· â€œåˆçˆ±åˆæ¨â€ çš„äº¤æµå¯¹è±¡ï¼Œå…¨ç½‘ç²‰ä¸è¿‘ 200 ä¸‡ï¼Œå±•ç°äº† AI è¯„è®ºåŠ©æ‰‹çš„å¦ä¸€ç§å¯èƒ½æ€§ã€‚</p>
</li>
</ul>
<p>éšç€è‡ªç ”å¤§æ¨¡å‹ VibeThinker å–å¾—çªç ´ï¼Œæ›´æ ‡å¿—ç€å¾®åš AI æˆ˜ç•¥è¿ˆå…¥æ–°é˜¶æ®µã€‚</p>
<p>ç«‹è¶³äºè‡ªç ”å¤§æ¨¡å‹ VibeThinkerï¼Œå¾®åšçš„æœªæ¥è§„åˆ’å‡¸æ˜¾äº†é²œæ˜çš„ â€œæ•°æ®èµ‹èƒ½â€ è·¯å¾„ã€‚å…¬å¸è®¡åˆ’æ·±åº¦èåˆå…¶åœ¨å¿ƒç†ç­‰å‚ç›´é¢†åŸŸç§¯ç´¯çš„ç‹¬ç‰¹æ•°æ®èµ„äº§ï¼Œç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªæ›´æ´æ‚‰å…¬ä¼—æƒ…ç»ªã€æ›´èƒ½æœåŠ¡ç¤¾ä¼šåŒ–éœ€æ±‚çš„ä¸“å±æ¨¡å‹ã€‚</p>
<p>å¾®åšä¸ä»…æ˜¯åœ¨ä¼˜åŒ–ä¸€ä¸ªå¤§æ¨¡å‹ï¼Œæ›´æ˜¯åœ¨è§£é”å…¶æ•°æ®ç”Ÿæ€çš„æ·±å±‚ä»·å€¼ï¼Œä»¥æä¾›æ›´ç²¾å‡†ã€æ›´æ‡‚ç”¨æˆ·å¿ƒç†çŠ¶æ€çš„ä¸‹ä¸€ä»£ç¤¾äº¤æœåŠ¡ã€‚</p>
<p>VibeThinker çš„å¼ºå¤§æŠ€æœ¯èƒ½åŠ›ï¼Œæˆ–å°†æˆä¸ºé©±åŠ¨å¾®åš AI åº”ç”¨ â€œå¤šç‚¹å¼€èŠ±â€ çš„æ ¸å¿ƒå¼•æ“ï¼Œæ·±åº¦èå…¥å¹³å°å…¨ä¸šåŠ¡ç”Ÿæ€ã€‚</p>
<p>æœªæ¥ï¼ŒVibeThinker æœ‰æœ›åœ¨å¾®åšæ™ºæœç­‰æ ¸å¿ƒ AI äº§å“ä¸­è½åœ°ï¼Œä¸ä»…èƒ½æŒç»­æå‡ç”¨æˆ·ä½¿ç”¨ä½“éªŒï¼Œæ›´æœ‰æœ›æ‰“ç ´åœºæ™¯è¾¹ç•Œï¼Œè£‚å˜å‡ºå…¼å…·ç¤¾äº¤å±æ€§ä¸æ™ºèƒ½æœåŠ¡çš„ä¸‹ä¸€ä¸ª â€œç¤¾äº¤è¶…çº§ç”Ÿæ€â€ã€‚</p>
<p>æ­¤å¤–ï¼ŒVibeThinker çš„æŠ€æœ¯çªç ´æœ‰æœ›å¤§å¹…é™ä½å¾®åš AI åº”ç”¨æˆæœ¬ã€‚</p>
<p>æ— è®ºæ˜¯æ™ºèƒ½æœç´¢çš„ç®—åŠ›æŸè€—ï¼Œè¿˜æ˜¯å®æ—¶äº’åŠ¨åœºæ™¯çš„ AI å“åº”æˆæœ¬ï¼Œéƒ½å°†å¾—åˆ°é«˜æ•ˆä¼˜åŒ–ï¼Œè®©å¹³å°åœ¨è§„æ¨¡åŒ–æŠ•å…¥ AI èƒ½åŠ›æ—¶æ— éœ€æ‰¿æ‹…è¿‡é«˜çš„èµ„æºå‹åŠ›ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾å¾®åšçš„ç”Ÿæ€åˆ›æ–°èƒ½åŠ›ï¼Œä¸ºç”¨æˆ·å¸¦æ¥æ›´ä¸°å¯Œã€æ›´ä¾¿æ·çš„æ™ºèƒ½ä½“éªŒã€‚</p>
<ul>
<li>æœ¬æ–‡ç³»é‡å­ä½è·æˆæƒåˆŠè½½ï¼Œè§‚ç‚¹ä»…ä¸ºåŸä½œè€…æ‰€æœ‰ã€‚</li>
</ul>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[App Store ä¸Šæ¶æ¡ä»¶å…¨è§£æï¼Œå¼€å‘è€…å¿…å¤‡èµ„è´¨ã€æŠ€æœ¯è¦æ±‚ä¸è·¨å¹³å°å·¥å…·æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573863952116269062</link>    <guid>https://juejin.cn/post/7573863952116269062</guid>    <pubDate>2025-11-18T09:22:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573863952116269062" data-draft-id="7573855399717191699" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="App Store ä¸Šæ¶æ¡ä»¶å…¨è§£æï¼Œå¼€å‘è€…å¿…å¤‡èµ„è´¨ã€æŠ€æœ¯è¦æ±‚ä¸è·¨å¹³å°å·¥å…·æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T09:22:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="iOSå¼€å‘ä¸Šæ¶å“¦"/> <meta itemprop="url" content="https://juejin.cn/user/3336394949004844"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            App Store ä¸Šæ¶æ¡ä»¶å…¨è§£æï¼Œå¼€å‘è€…å¿…å¤‡èµ„è´¨ã€æŠ€æœ¯è¦æ±‚ä¸è·¨å¹³å°å·¥å…·æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3336394949004844/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    iOSå¼€å‘ä¸Šæ¶å“¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:22:54.000Z" title="Tue Nov 18 2025 09:22:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹äºè®¸å¤šé¦–æ¬¡å‡†å¤‡å‘å¸ƒ iOS åº”ç”¨çš„å¼€å‘è€…æ¥è¯´ï¼Œâ€œæ»¡è¶³ App Store ä¸Šæ¶æ¡ä»¶â€ æ¯”å†™ä»£ç æ›´è®©äººç„¦è™‘ã€‚
æœ‰äººè®¤ä¸ºåªè¦ä¸Šä¼  IPA å°±å¥½ï¼Œæœ‰äººè®¤ä¸ºå¿…é¡»è¦ç”¨ Macï¼Œè¿˜æœ‰äººè¢«è¯ä¹¦ã€æˆªå›¾ã€éšç§æ”¿ç­–ç­‰è¦æ±‚å¡å¾—å¯¸æ­¥éš¾è¡Œã€‚</p>
<p>äº‹å®ä¸Šï¼ŒApp Store ä¸Šæ¶å¹¶ä¸æ˜¯ç¥ç§˜æµç¨‹ï¼Œè€Œæ˜¯ç”±ä¸€ç³»åˆ—æ˜ç¡®ä¸”ä¸¥æ ¼çš„æ¡ä»¶ç»„æˆã€‚
åªè¦ç†è§£è¿™äº›æ¡ä»¶èƒŒåçš„é€»è¾‘ï¼Œå‡†å¤‡å·¥ä½œä¼šéå¸¸é«˜æ•ˆï¼›
ç”šè‡³åœ¨ <strong>Windows æˆ– Linux</strong> ç¯å¢ƒä¸‹ï¼Œä¹Ÿå¯ä»¥é¡ºåˆ©å®Œæˆæ•´ä¸ªä¸Šæ¶æµç¨‹ã€‚</p>
<p>æœ¬æ–‡å°†ä»¥å¼€å‘è€…å®æˆ˜è§’åº¦ï¼Œæ‹†è§£ <strong>App Store ä¸Šæ¶å¿…é¡»æ»¡è¶³çš„æ¡ä»¶</strong>ï¼Œå¹¶ç»™å‡ºåœ¨ä¸åŒç³»ç»Ÿç¯å¢ƒä¸‹çš„å¯è¡Œå®ç°æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€App Store ä¸Šæ¶çš„åŸºæœ¬æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>è‹¹æœå¯¹äºåº”ç”¨ä¸Šæ¶æœ‰æ˜ç¡®è¦æ±‚ï¼Œæ€»ä½“å¯åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<h3 data-id="heading-1"><strong>1. å¼€å‘è€…èµ„è´¨æ¡ä»¶</strong></h3>
<p>å¿…é¡»æ»¡è¶³ï¼š</p>
<ul>
<li>è´­ä¹° Apple Developer Programï¼ˆ$99/å¹´ï¼‰</li>
<li>æä¾›çœŸå®çš„å¼€å‘è€…èº«ä»½ä¿¡æ¯ï¼ˆä¸ªäººæˆ–ä¼ä¸šï¼‰</li>
<li>é€šè¿‡ App Store Connect åˆ›å»ºåº”ç”¨é¡¹ç›®</li>
</ul>
<h3 data-id="heading-2"><strong>2. æŠ€æœ¯æ¡ä»¶</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>åˆæ³•ç­¾åï¼ˆè¯ä¹¦ + æè¿°æ–‡ä»¶ï¼‰</li>
<li>ç”Ÿæˆæ­£ç¡®çš„ iOS IPA æ–‡ä»¶</li>
<li>åº”ç”¨å¯åœ¨çœŸæœºç¨³å®šè¿è¡Œ</li>
<li>æƒé™ç”¨é€”è¯´æ˜å®Œæ•´ï¼ˆInfo.plistï¼‰</li>
<li>åº”ç”¨æˆªå›¾æ»¡è¶³è§„èŒƒ</li>
</ul>
<h3 data-id="heading-3"><strong>3. å®¡æ ¸æ¡ä»¶</strong></h3>
<p>å®¡æ ¸ä¸»è¦æ£€æŸ¥ï¼š</p>
<ul>
<li>åŠŸèƒ½æ˜¯å¦å®Œæ•´</li>
<li>æ˜¯å¦å­˜åœ¨éšç§è¿è§„</li>
<li>é¡µé¢å†…å®¹æ˜¯å¦çœŸå®</li>
<li>æ˜¯å¦ä½¿ç”¨å®‰å…¨çš„ç™»å½•ä¸æ”¯ä»˜æ–¹å¼</li>
</ul>
<p>ä»»ä½•ä¸€ä¸ªç¯èŠ‚ä¸ç¬¦åˆè¦æ±‚ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ‹’å®¡ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€å¼€å‘è€…è´¦å·ï¼šä¸Šæ¶çš„åŸºç¡€æ¡ä»¶</h2>
<p>ç”³è¯· App Store ä¸Šæ¶å¿…é¡»æ»¡è¶³ä»¥ä¸‹è´¦å·æ¡ä»¶ï¼š</p>
<ol>
<li><strong>åŠ å…¥ Apple Developer Programï¼ˆä»˜è´¹ï¼‰</strong></li>
<li>è´¦å·çŠ¶æ€æ­£å¸¸ï¼ˆæ— æœªæ”¯ä»˜è´¹ç”¨æˆ–åˆè§„é—®é¢˜ï¼‰</li>
<li>èƒ½è®¿é—® App Store Connect å’Œè¯ä¹¦ç®¡ç†é¡µé¢</li>
</ol>
<p>ä¼ä¸šè´¦å·ï¼ˆCompanyï¼‰å¯ä»¥é‚€è¯·å¤šä¸ªæˆå‘˜åä½œï¼Œè€Œä¸ªäººè´¦å·ï¼ˆIndividualï¼‰æƒé™æ¯”è¾ƒé›†ä¸­ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c27b0384d34c444396e8515c6582e9e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaU9T5byA5Y-R5LiK5p625ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062574&amp;x-signature=fNeV9nFvV7TdqzL78REUOxRixJY%3D" alt="è´¦å·" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶ï¼šæŠ€æœ¯æ¡ä»¶çš„æ ¸å¿ƒ</h2>
<p>iOS åº”ç”¨å‘å¸ƒéœ€è¦æ»¡è¶³å®Œæ•´çš„ç­¾åä½“ç³»ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>iOS Distribution Certificate</strong>ï¼ˆå‘å¸ƒè¯ä¹¦ï¼‰</li>
<li><strong>App Store Provisioning Profile</strong>ï¼ˆæè¿°æ–‡ä»¶ï¼‰</li>
<li><strong>App IDï¼ˆBundle Identifierï¼‰</strong></li>
</ul>
<p>æ²¡æœ‰æ­£ç¡®è¯ä¹¦ï¼ŒApp Store ä¸ä¼šæ¥å—ä¸Šä¼ ã€‚</p>
<h3 data-id="heading-6">ä¼ ç»Ÿæ–¹å¼</h3>
<p>åœ¨ macOS ä¸Šä½¿ç”¨é’¥åŒ™ä¸²åŠ©æ‰‹ç”Ÿæˆ CSR å†ç”Ÿæˆè¯ä¹¦ã€‚</p>
<h3 data-id="heading-7">è·¨å¹³å°æ–¹å¼ï¼ˆæ— éœ€ Macï¼‰</h3>
<p>å¦‚ä»Šå¼€å‘è€…å¯åœ¨ Windows ä¸Šç”Ÿæˆè¯ä¹¦ï¼Œä½¿ç”¨å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49fd295050104dcf8f475d07615e3f01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaU9T5byA5Y-R5LiK5p625ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062574&amp;x-signature=fURB1r5v5ZZfAUBEfwYjuqGpq4U%3D" alt="è¯ä¹¦" loading="lazy"/></p>
<p>å³å¯ç”Ÿæˆï¼š</p>
<ul>
<li>p12 è¯ä¹¦</li>
<li>æè¿°æ–‡ä»¶</li>
<li>ä¸ Apple è´¦å·åŒ¹é…çš„é…ç½®</li>
</ul>
<p>æ”¯æŒè·¨ç”µè„‘ä½¿ç”¨ï¼Œé€‚åˆå›¢é˜Ÿåä½œã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€IPA æ„å»ºè¦æ±‚ï¼šä¸Šæ¶å¿…é¡»æä¾›æ­£ç¡®çš„åŒ…æ–‡ä»¶</h2>
<p>è‹¹æœè¦æ±‚ä¸Šä¼  IPA æ–‡ä»¶ï¼ˆiOS App çš„æ‰“åŒ…æ ¼å¼ï¼‰ï¼Œå¿…é¡»æ»¡è¶³ï¼š</p>
<ul>
<li>ç‰ˆæœ¬å·åˆæ³•ï¼ˆéµå¾ª major.minor.patchï¼‰</li>
<li>ä½¿ç”¨ App Store æè¿°æ–‡ä»¶ç­¾å</li>
<li>æ”¯æŒ 64 ä½æ¶æ„</li>
<li>æ— è°ƒè¯•ç¬¦å·å’Œå¼€å‘è€…æ®‹ç•™é…ç½®</li>
</ul>
<h3 data-id="heading-9">æŠ€æœ¯æ ˆä¸åŒï¼ŒIPA æ„å»ºæ–¹å¼ä¸åŒï¼š</h3>
<h4 data-id="heading-10"><strong>1. åŸç”Ÿ iOSï¼ˆXcodeï¼‰</strong></h4>
<p>å¿…é¡»ä½¿ç”¨ macOS æ„å»ºã€‚</p>
<h4 data-id="heading-11"><strong>2. uni-app / HBuilderX</strong></h4>
<p>å¯ä½¿ç”¨äº‘ç«¯æ‰“åŒ…æœåŠ¡ï¼ŒWindows å’Œ Linux å‡å¯ç”Ÿæˆ IPAã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/959f67ac27244185b5c6bed5d3b0e92f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaU9T5byA5Y-R5LiK5p625ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062574&amp;x-signature=6krt9RtBK9%2BbiQSbxqvqNGAIER0%3D" alt="hbæ‰“åŒ…" loading="lazy"/></p>
<h4 data-id="heading-12"><strong>3. Flutter / React Native / Cocos / Unity</strong></h4>
<p>å¸¸ç”¨äº‘æ„å»ºå¹³å°ï¼š</p>
<ul>
<li>Codemagic</li>
<li>Bitrise</li>
<li>GitHub Actionsï¼ˆMac Runnerï¼‰</li>
</ul>
<p>æ„å»ºå®Œæˆåå³å¯è·å¾— IPAã€‚</p>
<hr/>
<h2 data-id="heading-13">äº”ã€IPA ä¸Šä¼ æ¡ä»¶ï¼šå¿…é¡»ä½¿ç”¨ç¬¦åˆè‹¹æœåè®®çš„ä¸Šä¼ æ–¹å¼</h2>
<p>è‹¹æœè§„å®š IPA å¿…é¡»é€šè¿‡å®˜æ–¹åè®®ä¸Šä¼ ã€‚</p>
<h3 data-id="heading-14">è‹¹æœå®˜æ–¹æ–¹å¼ï¼ˆä»… macOSï¼‰</h3>





















<table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Xcode Organizer</td><td>æ”¯æŒå‘å¸ƒ</td></tr><tr><td>Transporter</td><td>å›¾å½¢åŒ– IPA ä¸Šä¼ </td></tr><tr><td>altool</td><td>å·²åºŸå¼ƒ</td></tr></tbody></table>
<h3 data-id="heading-15">è·¨å¹³å°ä¸Šä¼ æ–¹å¼ï¼ˆWindows / Linux å¯ç”¨ï¼‰</h3>
<p>å¼€å‘è€…å¯ä½¿ç”¨è·¨å¹³å°ä¸Šä¼ å·¥å…·ï¼Œä¾‹å¦‚ï¼š</p>
<h4 data-id="heading-16"><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰å‘½ä»¤è¡Œä¸Šä¼  IPA</strong></h4>
<p>ç¤ºä¾‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u ios@team.com -p xxx-xxx-xxx-xxx -c 2 -f ./output/app.ipa
</code></pre>
<p>å¯ä»¥æ»¡è¶³è‹¹æœä¸Šä¼ æ¡ä»¶ï¼Œä¸”æ”¯æŒï¼š</p>
<ul>
<li>æ–°æ—§ä¸¤ç§ä¸Šä¼ é€šé“</li>
<li>å…¨å¹³å°ç³»ç»Ÿï¼ˆWin/Mac/Linuxï¼‰</li>
<li>è‡ªåŠ¨åŒ–è„šæœ¬</li>
<li>æ— éœ€ç™»å½• Xcode æˆ– Transporter</li>
</ul>
<p>ä¸Šä¼ æˆåŠŸåï¼Œå¯åœ¨ï¼š</p>
<ul>
<li>TestFlight</li>
<li>App Store Connect â€œæ„å»ºç‰ˆæœ¬â€</li>
</ul>
<p>çœ‹åˆ°æ„å»ºè®°å½•ã€‚</p>
<hr/>
<h2 data-id="heading-17">å…­ã€App Store Connect ä¿¡æ¯å¡«å†™æ¡ä»¶</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cc81dac899648ef87aef789e73c225a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaU9T5byA5Y-R5LiK5p625ZOm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062574&amp;x-signature=wT2IzcGkX7eNYN1F1d4wZbJxSJY%3D" alt="asc" loading="lazy"/></p>
<p>è‹¹æœæœ‰ä¸¥æ ¼çš„å…ƒæ•°æ®è¦æ±‚ï¼ŒåŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-18"><strong>1. æˆªå›¾è¦æ±‚</strong></h3>
<p>å¿…é¡»ä¸Šä¼ çœŸå®æˆªå›¾ï¼ˆä¸åŒè®¾å¤‡å°ºå¯¸ï¼‰ï¼š</p>
<ul>
<li>6.5 å¯¸ iPhone</li>
<li>5.5 å¯¸ iPhone</li>
<li>iPadï¼ˆå¦‚é€‚é…ï¼‰</li>
</ul>
<h3 data-id="heading-19"><strong>2. éšç§æ”¿ç­– URL</strong></h3>
<p>å¿…é¡»æ˜¯èƒ½è®¿é—®çš„ç½‘é¡µã€‚</p>
<h3 data-id="heading-20"><strong>3. æƒé™ç”¨é€”è¯´æ˜</strong></h3>
<p>å¦‚åº”ç”¨ä½¿ç”¨ï¼š</p>
<ul>
<li>ç›¸æœº</li>
<li>éº¦å…‹é£</li>
<li>ç›¸å†Œ</li>
<li>å®šä½</li>
</ul>
<p>å¿…é¡»åœ¨ Info.plist ä¸­æä¾›ç”¨é€”æè¿°ã€‚</p>
<h3 data-id="heading-21"><strong>4. åˆ†ç±»ã€è¯„çº§ã€è”ç³»æ–¹å¼</strong></h3>
<p>å¿…é¡»æŒ‰ç…§è¦æ±‚å¡«å†™å®Œæ•´ã€‚</p>
<p>ä¸ç¬¦åˆæ¡ä»¶ä¼šç›´æ¥é€€å›å®¡æ ¸ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¸ƒã€å®¡æ ¸æ¡ä»¶ï¼šåŠŸèƒ½å®Œæ•´ã€åˆè§„ã€å¯ç”¨</h2>
<p>è‹¹æœæœ€é‡è§†ä»¥ä¸‹å‡ ç‚¹ï¼š</p>

































<table><thead><tr><th>å®¡æ ¸é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>åŠŸèƒ½å®Œæ•´æ€§</td><td>App ä¸å¯é—ªé€€ã€ä¸å¯å‡ºç°ç©ºç™½é¡µ</td></tr><tr><td>å†…å®¹çœŸå®æ€§</td><td>æˆªå›¾ä¸åŠŸèƒ½å¿…é¡»ä¸€è‡´</td></tr><tr><td>éšç§åˆè§„</td><td>ä¸å¾—æ³„éœ²ç”¨æˆ·æ•°æ®</td></tr><tr><td>ç™»å½•æœºåˆ¶</td><td>å¿…é¡»è§„èŒƒï¼ˆå« Apple ç™»å½•è§„åˆ™ï¼‰</td></tr><tr><td>æ”¯ä»˜è§„èŒƒ</td><td>ä¸å¾—ç»•è¿‡ IAP æœºåˆ¶</td></tr><tr><td>ç‰ˆæƒå†…å®¹</td><td>ä¸å¾—ä¾µçŠ¯ç‰ˆæƒï¼ˆéŸ³ä¹ã€è§†é¢‘ã€å›¾ç‰‡ç­‰ï¼‰</td></tr></tbody></table>
<p>å®¡æ ¸äººå‘˜ä¼šçœŸæœºæµ‹è¯• Appï¼Œå¦‚æœè¡¨ç°å¼‚å¸¸ï¼Œä¼šç›´æ¥æ‹’ç»ã€‚</p>
<hr/>
<h2 data-id="heading-23">æ»¡è¶³æ¡ä»¶åï¼Œä¸Šæ¶æµç¨‹å˜å¾—ç®€å•</h2>
<p>ä¸€æ—¦æ»¡è¶³è¿™äº›æ¡ä»¶ï¼š</p>
<ul>
<li>æœ‰å¼€å‘è€…è´¦å·</li>
<li>æœ‰åˆæ³•è¯ä¹¦</li>
<li>èƒ½æ„å»º IPA</li>
<li>èƒ½ä¸Šä¼  IPA</li>
<li>èƒ½å¡«å†™å®Œæ•´å…ƒæ•°æ®</li>
</ul>
<p>ä¸Šæ¶æµç¨‹å®é™…ä¸Šæ˜¯å¯æ§ã€å¯å¤ç”¨ã€å¯è‡ªåŠ¨åŒ–çš„å·¥ç¨‹æ­¥éª¤ã€‚</p>
<p>æ— è®ºæ˜¯åœ¨ macOSã€Windows è¿˜æ˜¯ Linux ç¯å¢ƒä¸­ï¼Œéƒ½å¯ä»¥å®Œæˆæ•´ä¸ªæµç¨‹ã€‚
å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.applicationloader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.applicationloader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.applicationloader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æè§†è§‰ï¼šè§†è§‰è¯†åˆ«çš„ä¸ƒå±‚æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7573863952116285446</link>    <guid>https://juejin.cn/post/7573863952116285446</guid>    <pubDate>2025-11-18T09:26:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573863952116285446" data-draft-id="7573738017988280363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£æè§†è§‰ï¼šè§†è§‰è¯†åˆ«çš„ä¸ƒå±‚æ¨¡å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-18T09:26:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£æè§†è§‰ï¼šè§†è§‰è¯†åˆ«çš„ä¸ƒå±‚æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:26:16.000Z" title="Tue Nov 18 2025 09:26:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°†è§†è§‰è¯†åˆ«åˆ’åˆ†ä¸ºä¸€ä¸ªä»ä½åˆ°é«˜ã€ä»å…·ä½“åˆ°æŠ½è±¡çš„<strong>ä¸ƒå±‚æ¨¡å‹</strong>ã€‚è¿™ä¸ªæ¨¡å‹ä¸ä»…æ¶µç›–äº†å·²çŸ¥è¿‡ç¨‹ï¼Œä¹Ÿè‡ªç„¶å¼•å‘äº†æ›´ä½å’Œæ›´é«˜çš„å±‚æ¬¡ã€‚</p>
<hr/>
<h3 data-id="heading-0">è§†è§‰è¯†åˆ«çš„ä¸ƒå±‚æ¨¡å‹</h3>
<p>ä¸‹é¢çš„æµç¨‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†è¿™ä¸ƒä¸ªå±‚æ¬¡å¦‚ä½•é€çº§æ¼”è¿›ï¼Œä»åº•å±‚çš„ä¿¡å·å¤„ç†ç›´è‡³é¡¶å±‚çš„å“²å­¦æ€è€ƒï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A["ç¬¬1å±‚&lt;br&gt;ç‰©ç†ä¿¡å·æ£€æµ‹"] --&gt; B["ç¬¬2å±‚&lt;br&gt;ç‰¹å¾æå–"]
    B --&gt; C["ç¬¬3å±‚&lt;br&gt;åˆæ­¥æ•´åˆ"]
    C --&gt; D["ç¬¬4å±‚&lt;br&gt;å®¢ä½“è¯†åˆ«"]
    D --&gt; E["ç¬¬5å±‚&lt;br&gt;æ„ä¹‰èµ‹äºˆ"]
    E --&gt; F["ç¬¬6å±‚&lt;br&gt;å®¡ç¾åˆ¤æ–­"]
    F --&gt; G["ç¬¬7å±‚&lt;br&gt;å“²å­¦åæ€"]
</code></pre>
<h4 data-id="heading-1"><strong>å±‚æ¬¡ 1 &amp; 2: ä»ç‰©ç†ä¿¡å·åˆ°è§†è§‰ç‰¹å¾</strong></h4>
<p>è¿™æ˜¯è§†è§‰å¤„ç†çš„èµ·ç‚¹ã€‚é¦–å…ˆï¼Œ<strong>è§†ç½‘è†œ</strong>ä¸Šçš„æ„Ÿå…‰ç»†èƒï¼ˆç¬¬1å±‚ï¼‰æ•è·å…‰å­ï¼Œå®Œæˆå…‰ç”µè½¬æ¢ã€‚éšåï¼Œä¿¡å·åœ¨è§†ç½‘è†œå†…å’Œ<strong>åˆçº§è§†è§‰çš®å±‚</strong>è¿›è¡Œåˆæ­¥åŠ å·¥ï¼ˆç¬¬2å±‚ï¼‰ï¼Œæå–å‡ºçº¿æ¡ã€æœå‘ã€é¢œè‰²ã€è¿åŠ¨æ–¹å‘ç­‰æœ€åŸºæœ¬çš„è§†è§‰ç‰¹å¾ã€‚æ­¤æ—¶ï¼Œå¤§è„‘å¤„ç†çš„ä»æ˜¯â€œæ•°æ®â€ï¼Œè€Œéâ€œå½¢è±¡â€ã€‚</p>
<h4 data-id="heading-2"><strong>å±‚æ¬¡ 3 &amp; 4: ä»å±€éƒ¨ç‰¹å¾åˆ°å®Œæ•´å®¢ä½“</strong></h4>
<p>å¤§è„‘å¼€å§‹å°†é›¶æ•£çš„ç‰¹å¾â€œç»„è£…â€èµ·æ¥ã€‚åœ¨<strong>V2ã€V4ç­‰è§†è§‰åŒº</strong>ï¼ˆç¬¬3å±‚ï¼‰ï¼Œçº¿æ®µè¢«ç»„åˆæˆè½®å»“ï¼Œé¢œè‰²å’Œå½¢çŠ¶è¢«åˆæ­¥ç»‘å®šã€‚éšåï¼Œåœ¨<strong>ä¸‹é¢å¶çš®å±‚</strong>ç­‰é«˜çº§åŒºåŸŸï¼ˆç¬¬4å±‚ï¼‰ï¼Œè¿™äº›ä¿¡æ¯è¢«æ•´åˆæˆæœ‰æ„ä¹‰çš„ã€ç‹¬ç«‹çš„â€œå®¢ä½“â€ï¼Œå¦‚ä¸€å¼ è„¸ã€ä¸€æŠŠæ¤…å­ã€ä¸€ä¸ªå•è¯ã€‚è¿™æ—¶ï¼Œä½ çŸ¥é“äº†â€œ<strong>é‚£é‡Œæœ‰ä»€ä¹ˆ</strong>â€ã€‚</p>
<h4 data-id="heading-3"><strong>å±‚æ¬¡ 5 &amp; 6: ä»å®¢ä½“è¯†åˆ«åˆ°ä»·å€¼åˆ¤æ–­</strong></h4>
<p>è¿™æ˜¯äº§ç”Ÿâ€œæ„ä¹‰â€å’Œâ€œæ„Ÿå—â€çš„å…³é”®è·ƒè¿ã€‚å½“å®¢ä½“è¢«è¯†åˆ«åï¼Œå¤§è„‘çš„<strong>è®°å¿†ç³»ç»Ÿï¼ˆæµ·é©¬ä½“ï¼‰ã€æƒ…ç»ªç³»ç»Ÿï¼ˆæä»æ ¸ï¼‰å’Œå¥–èµç³»ç»Ÿ</strong>è¢«å¹¿æ³›æ¿€æ´»ï¼ˆç¬¬5å±‚ï¼‰ï¼Œä¸ºä½ è¯†åˆ«çš„å®¢ä½“èµ‹äºˆå«ä¹‰å’Œæƒ…æ„Ÿä»·å€¼â€”â€”å®ƒæ˜¯æœ‹å‹çš„è„¸ã€æ˜¯å±é™©çš„è›‡ã€æ˜¯å¿ƒçˆ±çš„ç¤¼ç‰©ã€‚</p>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä¸€ä¸ªæ›´å¤æ‚çš„è¯„ä¼°ç½‘ç»œå¼€å§‹å·¥ä½œï¼ˆç¬¬6å±‚ï¼‰ã€‚è¿™ä¸ªç½‘ç»œç»¼åˆäº†æ¥è‡ªæœ¬èƒ½ã€æ–‡åŒ–ã€ä¸ªäººç»éªŒçš„ä¿¡å·ï¼Œå¯¹è¿™ä¸ªå®¢ä½“åšå‡ºä¸€ä¸ª<strong>æƒ…æ„Ÿæ€§å’Œä»·å€¼æ€§</strong>çš„åˆ¤æ–­â€”â€”å®ƒæ˜¯ç¾çš„ã€ä¸‘çš„ã€å¸å¼•äººçš„è¿˜æ˜¯ä»¤äººåŒæ¶çš„ã€‚è¿™å°±æ˜¯<strong>å®¡ç¾åˆ¤æ–­</strong>çš„å½¢æˆã€‚</p>
<h4 data-id="heading-4"><strong>å±‚æ¬¡ 7: è¶…è¶Šä¸ªä½“çš„å“²å­¦åæ€</strong></h4>
<p>è¿™æ˜¯æœ€é«˜ã€æœ€æŠ½è±¡çš„å±‚æ¬¡ã€‚å®ƒè¶…è¶Šäº†å³æ—¶çš„ã€ä¸ªäººçš„å¥½æ¶ï¼Œæ¶‰åŠ<strong>å…ƒè®¤çŸ¥</strong>å’Œ<strong>æŠ½è±¡æ€ç»´</strong>ï¼Œä¸»è¦ä¾èµ–äºé«˜åº¦å‘è¾¾çš„<strong>å‰é¢å¶çš®å±‚</strong>ã€‚åœ¨è¿™ä¸ªå±‚é¢ï¼Œæˆ‘ä»¬åæ€çš„å·²ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯â€œç¾â€çš„æœ¬è´¨ï¼š</p>
<ul>
<li>â€œä¸ºä»€ä¹ˆæˆ‘è®¤ä¸ºè¿™æ˜¯ç¾çš„ï¼Ÿâ€</li>
<li>â€œç¾æ˜¯å®¢è§‚å­˜åœ¨çš„å—ï¼Ÿâ€</li>
<li>â€œæˆ‘çš„å®¡ç¾è§‚æ˜¯å¦‚ä½•è¢«ç¤¾ä¼šå¡‘é€ çš„ï¼Ÿâ€</li>
<li>â€œä¸‘åœ¨è‰ºæœ¯ä¸­å¯ä»¥æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿâ€</li>
</ul>
<hr/>
<h3 data-id="heading-5">è¿˜æœ‰æ›´ä½æˆ–æ›´é«˜çš„å±‚æ¬¡å—ï¼Ÿ</h3>
<p><strong>1. æ›´ä½çš„å±‚æ¬¡ï¼šäºšç¥ç»å¤„ç†ä¸ç‰©ç†ä¸–ç•Œ</strong>
ä»ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œåœ¨è§†ç½‘è†œå¤„ç†ä¹‹å‰ï¼Œè¿˜å­˜åœ¨ï¼š</p>
<ul>
<li><strong>ç‰©ç†å…‰å­¦å±‚</strong>ï¼šå…‰çº¿åœ¨é€šè¿‡è§’è†œã€æ™¶çŠ¶ä½“æ—¶çš„æŠ˜å°„ï¼Œç³å­”å¯¹å…‰é‡çš„è°ƒèŠ‚ã€‚è¿™å±äºç‰©ç†è¿‡ç¨‹ã€‚</li>
<li><strong>å…‰åŒ–å­¦å±‚</strong>ï¼šè§†è‰²ç´ åˆ†å­åœ¨å¸æ”¶å…‰å­åå‘ç”Ÿçš„å¼‚æ„åŒ–ååº”ã€‚è¿™å±äºç”Ÿç‰©åŒ–å­¦è¿‡ç¨‹ã€‚</li>
</ul>
<p>ä½†è¿™äº›é€šå¸¸ä¸è¢«è®¤ä¸ºæ˜¯â€œç¥ç»è¯†åˆ«â€çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯è§†è§‰ç³»ç»Ÿçš„<strong>å‰ç½®ä¿¡å·å‡†å¤‡</strong>é˜¶æ®µã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ä»ç¥ç»ä¿¡å·çš„äº§ç”Ÿå’Œåˆæ­¥æ£€æµ‹å¼€å§‹æ˜¯åˆç†çš„ã€‚</p>
<p><strong>2. æ›´é«˜çš„å±‚æ¬¡ï¼šç³»ç»Ÿçº§å½±å“ä¸å“²å­¦å»ºæ„</strong>
åœ¨å“²å­¦åæ€ä¹‹ä¸Šï¼Œè§†è§‰è¯†åˆ«çš„å½±å“è¿˜èƒ½ç»§ç»­å‘å¤–å»¶ä¼¸ï¼Œè¿›å…¥æ›´å¹¿é˜”çš„ç³»ç»Ÿï¼š</p>
<ul>
<li><strong>æ–‡åŒ–å»ºæ„å±‚</strong>ï¼šä¸ªäººçš„å®¡ç¾åˆ¤æ–­æ±‡èšæˆç¾¤ä½“æ€§çš„å®¡ç¾æ½®æµï¼Œè¿›è€Œå½±å“è‰ºæœ¯æ‰¹è¯„ã€è®¾è®¡å“²å­¦å’Œæ•´ä¸ªæ—¶ä»£çš„æ–‡åŒ–é£è²Œã€‚ä¸€ä¸ªäººçš„è¾¨åˆ«è¡Œä¸ºï¼Œæˆä¸ºäº†ç¤¾ä¼šæ–‡åŒ–å»ºæ„çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li><strong>å½¢è€Œä¸Šå­¦å±‚</strong>ï¼šè¿™æ˜¯æœ€æè‡´çš„â€œé«˜é˜¶å±‚â€ï¼Œå®ƒè¿½é—®çš„æ˜¯è§†è§‰è¯†åˆ«ä¸å­˜åœ¨æœ¬èº«çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼šâ€œæˆ‘ä»¬é€šè¿‡è§†è§‰æ‰€è¾¨åˆ«çš„ä¸–ç•Œï¼Œæ˜¯ä¸–ç•Œçš„æœ¬æ¥é¢ç›®å—ï¼Ÿâ€ï¼ˆåº·å¾·çš„è‡ªåœ¨ä¹‹ç‰©é—®é¢˜ï¼‰ï¼Œæˆ–â€œè§†è§‰ç»éªŒå¦‚ä½•å¡‘é€ äº†æˆ‘ä»¬å¯¹â€˜å®åœ¨â€™çš„ç†è§£ï¼Ÿâ€</li>
</ul>
<h3 data-id="heading-6">ç»“è®º</h3>
<p>è¿™ä¸ªä¸ƒå±‚æ¨¡å‹æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ï¼Œå®ƒæ¸…æ™°åœ°æç»˜äº†è§†è§‰ä¿¡æ¯å¦‚ä½•ä»ç‰©ç†ä¿¡å·ä¸€æ­¥æ­¥è½¬åŒ–ä¸ºäººç±»æœ€å¤æ‚çš„æŠ½è±¡æ€ç»´å’Œæƒ…æ„Ÿä½“éªŒã€‚<strong>å±‚æ¬¡è¶Šä½ï¼Œå¤„ç†è¶Šè‡ªåŠ¨ã€è¶Šæ™®éï¼ˆå‡ ä¹æ‰€æœ‰è§†è§‰å¥å…¨çš„äººç±»éƒ½å…±äº«ï¼‰ï¼›å±‚æ¬¡è¶Šé«˜ï¼Œå¤„ç†è¶Šå—æ§ã€è¶Šå…·ä¸ªä½“æ€§å’Œæ–‡åŒ–ç‰¹å¼‚æ€§ã€‚</strong></p>
<p>å› æ­¤ï¼Œä»â€œçœ‹è§çº¢è‰²â€åˆ°â€œè®¤ä¸ºä¸€å¹…çº¢è‰²è°ƒçš„ç”»ä½œæ˜¯æ°ä½œâ€ï¼Œä¸­é—´è·¨è¶Šçš„æ­£æ˜¯è¿™ä¸ªä»æ„Ÿè§‰æ„ŸçŸ¥åˆ°ä»·å€¼åˆ›é€ ã€ä»ç”Ÿç‰©å­¦åˆ°å“²å­¦çš„å®å¤§å…‰è°±ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ React-DnDï¼šå®ç°å¤šä»»åŠ¡é¡¹æ‹–åŠ¨-ç»´æŠ¤å¤šä»»åŠ¡é¡¹æ•°ç»„]]></title>    <link>https://juejin.cn/post/7573864324713185332</link>    <guid>https://juejin.cn/post/7573864324713185332</guid>    <pubDate>2025-11-18T09:28:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324713185332" data-draft-id="7573680361990471720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ React-DnDï¼šå®ç°å¤šä»»åŠ¡é¡¹æ‹–åŠ¨-ç»´æŠ¤å¤šä»»åŠ¡é¡¹æ•°ç»„"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-11-18T09:28:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Wect"/> <meta itemprop="url" content="https://juejin.cn/user/4185164878720068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ React-DnDï¼šå®ç°å¤šä»»åŠ¡é¡¹æ‹–åŠ¨-ç»´æŠ¤å¤šä»»åŠ¡é¡¹æ•°ç»„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4185164878720068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Wect
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:28:44.000Z" title="Tue Nov 18 2025 09:28:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åŠŸèƒ½æ‰¿æ¥ä¸éœ€æ±‚æ¦‚è¿°</h2>
<p>ä¸Šä¸€ç¯‡æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬å·²å®Œæˆå•ä¸ªä»»åŠ¡é¡¹çš„æ‹–åŠ¨æ’åºåŠŸèƒ½ã€‚æœ¬æ¬¡è¿­ä»£çš„æ ¸å¿ƒéœ€æ±‚æ˜¯å®ç°<strong>å¤šä¸ªä»»åŠ¡é¡¹çš„æ‰¹é‡é€‰ä¸­</strong>ï¼Œå…·ä½“éœ€è¾¾æˆä»¥ä¸‹ç›®æ ‡ï¼š</p>
<ul>
<li>æ‰©å±•çŠ¶æ€ç®¡ç†ï¼Œæ”¯æŒå­˜å‚¨é€‰ä¸­çš„ä»»åŠ¡é¡¹é›†åˆ</li>
<li>æ–°å¢é€‰ä¸­ã€å–æ¶ˆé€‰ä¸­ä»»åŠ¡é¡¹çš„æ“ä½œé€»è¾‘</li>
<li>åœ¨ä»»åŠ¡é¡¹ç»„ä»¶ä¸­å…³è”å•é€‰æ¡†ä¸é€‰ä¸­çŠ¶æ€çš„äº¤äº’</li>
</ul>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒçŠ¶æ€æ‰©å±•ï¼ˆTodoProviderï¼‰</h2>
<p>è¦å®ç°å¤šä»»åŠ¡é€‰ä¸­ä¸æ‹–æ‹½ï¼Œé¦–å…ˆéœ€è¦åœ¨å…¨å±€çŠ¶æ€ä¸­æ–°å¢â€œé€‰ä¸­ä»»åŠ¡é›†åˆâ€å­—æ®µï¼Œå¹¶åŒæ­¥æ›´æ–°ä¸Šä¸‹æ–‡ä¾›ç»„ä»¶è°ƒç”¨ã€‚</p>
<h3 data-id="heading-2">2.1 åˆå§‹åŒ–çŠ¶æ€ä¿®æ”¹</h3>
<p>åœ¨<code>initialState</code>ä¸­æ·»åŠ <code>selectedTodos</code>æ•°ç»„ï¼Œç”¨äºå­˜å‚¨å½“å‰é€‰ä¸­çš„ä»»åŠ¡é¡¹ï¼ŒåŒæ—¶ç¡®ä¿ä»»åŠ¡é¡¹æ¨¡å‹çš„å®Œæ•´æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">todos</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Learn React'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">selected</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Build a Todo App'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">selected</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Build a Demo'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">selected</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Fix a Bug'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">selected</span>: <span class="hljs-literal">true</span> },

  ],
  <span class="hljs-comment">// å½“å‰é€‰ä¸­çš„ä»»åŠ¡æ•°ç»„</span>
  <span class="hljs-attr">selectedTodos</span>: [{ <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Fix a Bug'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">selected</span>: <span class="hljs-literal">true</span> }],
};
</code></pre>
<h3 data-id="heading-3">2.2 ä¸Šä¸‹æ–‡åŒæ­¥æ›´æ–°</h3>
<p>å°†æ–°å¢çš„<code>selectedTodos</code>çŠ¶æ€æ³¨å…¥ä¸Šä¸‹æ–‡ï¼Œç¡®ä¿å­ç»„ä»¶èƒ½è·å–åˆ°é€‰ä¸­ä»»åŠ¡é›†åˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// TodoProviderå†…éƒ¨çš„ä¸Šä¸‹æ–‡å€¼é…ç½®</span>
<span class="hljs-keyword">const</span> contextValue = {
  <span class="hljs-attr">todos</span>: state.<span class="hljs-property">todos</span>,
  <span class="hljs-attr">selectedTodos</span>: state.<span class="hljs-property">selectedTodos</span>,
  ...actions,
};
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€æ ¸å¿ƒæ“ä½œé€»è¾‘å®ç°ï¼ˆReducerï¼‰</h2>
<p>åŸºäºéœ€æ±‚æ–°å¢ä¸¤ä¸ªæ ¸å¿ƒæ“ä½œç±»å‹ï¼š<code>ADD_SELECT_TODOS</code>ï¼ˆæ·»åŠ é€‰ä¸­ä»»åŠ¡ï¼‰ã€<code>REMOVE_SELECT_TODOS</code>ï¼ˆç§»é™¤é€‰ä¸­ä»»åŠ¡ï¼‰ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´å®ç°é€»è¾‘ã€‚</p>
<h3 data-id="heading-5">3.1 æ“ä½œç±»å‹å¸¸é‡å®šä¹‰ï¼ˆå»ºè®®å•ç‹¬ç»´æŠ¤ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ActionTypes.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ActionTypes</span> = {
  <span class="hljs-comment">// åŸæœ‰æ“ä½œç±»å‹...</span>
  <span class="hljs-attr">ADD_SELECT_TODOS</span>: <span class="hljs-string">'ADD_SELECT_TODOS'</span>,
  <span class="hljs-attr">REMOVE_SELECT_TODOS</span>: <span class="hljs-string">'REMOVE_SELECT_TODOS'</span>,
};
</code></pre>
<h3 data-id="heading-6">3.2 æ·»åŠ é€‰ä¸­ä»»åŠ¡ï¼ˆADD_SELECT_TODOSï¼‰</h3>
<p>é€šè¿‡ä»»åŠ¡IDæŸ¥æ‰¾ç›®æ ‡ä»»åŠ¡ï¼Œç¡®ä¿ä»»åŠ¡å­˜åœ¨ä¸”æœªè¢«é€‰ä¸­åï¼Œæ·»åŠ åˆ°<code>selectedTodos</code>é›†åˆä¸­ï¼Œé¿å…é‡å¤é€‰ä¸­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ADD_SELECT_TODOS</span>
<span class="hljs-keyword">case</span> <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">ADD_SELECT_TODOS</span>:
  {
    <span class="hljs-comment">// æ‰¾åˆ°è¦æ·»åŠ çš„todoå¯¹è±¡</span>
    <span class="hljs-keyword">const</span> todoToAdd = state.<span class="hljs-property">todos</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> === action.<span class="hljs-property">payload</span>.<span class="hljs-property">id</span>);
    <span class="hljs-comment">// ç¡®ä¿todoå­˜åœ¨ä¸”å°šæœªè¢«é€‰ä¸­ï¼ˆé¿å…é‡å¤æ·»åŠ ï¼‰</span>
    <span class="hljs-keyword">if</span> (todoToAdd &amp;&amp; !state.<span class="hljs-property">selectedTodos</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> === todoToAdd.<span class="hljs-property">id</span>)) {
      <span class="hljs-keyword">return</span> {
        ...state,
        <span class="hljs-attr">selectedTodos</span>: [...state.<span class="hljs-property">selectedTodos</span>, todoToAdd],
      };
    }
    <span class="hljs-keyword">return</span> state;
  }
</code></pre>
<h3 data-id="heading-7">3.3 ç§»é™¤é€‰ä¸­ä»»åŠ¡ï¼ˆREMOVE_SELECT_TODOSï¼‰</h3>
<p>æ ¹æ®ä»»åŠ¡IDä»<code>selectedTodos</code>é›†åˆä¸­è¿‡æ»¤æ‰ç›®æ ‡ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// REMOVE_SELECT_TODOS</span>
<span class="hljs-keyword">case</span> <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">REMOVE_SELECT_TODOS</span>:
  <span class="hljs-keyword">return</span> {
    ...state,
    <span class="hljs-attr">selectedTodos</span>: state.<span class="hljs-property">selectedTodos</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> !== action.<span class="hljs-property">payload</span>.<span class="hljs-property">id</span>),
  };
</code></pre>
<h2 data-id="heading-8">å››ã€ä»»åŠ¡é¡¹ç»„ä»¶äº¤äº’ï¼ˆTodoItemï¼‰</h2>
<p>åœ¨TodoItemç»„ä»¶ä¸­ï¼Œé€šè¿‡Refç»‘å®šå•é€‰æ¡†ï¼Œå¹¶åœ¨å•é€‰æ¡†çŠ¶æ€å˜åŒ–æ—¶ï¼Œè§¦å‘é€‰ä¸­/å–æ¶ˆé€‰ä¸­çš„æ“ä½œï¼Œå®ç°è§†å›¾ä¸çŠ¶æ€çš„åŒæ­¥ã€‚</p>
<h3 data-id="heading-9">4.1 ç»„ä»¶æ ¸å¿ƒé€»è¾‘</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useContext, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> useTodoContext <span class="hljs-keyword">from</span> <span class="hljs-string">'@/context/TodoContext/useTodoContext'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoItem</span> = (<span class="hljs-params">{ todo }</span>) =&gt; {
  <span class="hljs-keyword">const</span> { addSelectTodos, removeSelectTodos } = <span class="hljs-title function_">useTodoContext</span>();
  <span class="hljs-comment">// ç”¨Refç»‘å®šå•é€‰æ¡†å…ƒç´ ï¼Œä¾¿äºåç»­æ“ä½œï¼ˆå¦‚ä¸»åŠ¨è·å–çŠ¶æ€ï¼‰</span>
  <span class="hljs-keyword">const</span> checkboxRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// å•é€‰æ¡†çŠ¶æ€å˜åŒ–å¤„ç†å‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCheckboxChange</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-title function_">toggleSelected</span>(todo.<span class="hljs-property">id</span>);
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">checked</span>) {
      <span class="hljs-comment">// é€‰ä¸­ï¼šè°ƒç”¨æ·»åŠ é€‰ä¸­ä»»åŠ¡çš„action</span>
      <span class="hljs-title function_">addSelectTodos</span>(todo.<span class="hljs-property">id</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// å–æ¶ˆé€‰ä¸­ï¼šè°ƒç”¨ç§»é™¤é€‰ä¸­ä»»åŠ¡çš„action</span>
      <span class="hljs-title function_">removeSelectTodos</span>(todo.<span class="hljs-property">id</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-item</span>${<span class="hljs-attr">isDragging</span> ? ' <span class="hljs-attr">isDragging</span>' <span class="hljs-attr">:</span> ''}`} <span class="hljs-attr">ref</span>=<span class="hljs-string">{divRef}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-item-content"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
          <span class="hljs-attr">id</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-</span>${<span class="hljs-attr">todo.id</span>}`}
          <span class="hljs-attr">checked</span>=<span class="hljs-string">{todo.selected}</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleCheckboxChange}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-checkbox"</span>
          <span class="hljs-attr">ref</span>=<span class="hljs-string">{checkboxRef}</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      {/* åŸæœ‰å•ä¸ªä»»åŠ¡æ‹–æ‹½ç›¸å…³é€»è¾‘ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">TodoItem</span>;
</code></pre>
<p>æ³¨æ„ï¼šä»…ä¿ç•™å¿…éœ€å†…å®¹ï¼Œä¸åŒ…å«TodoItemç»„ä»¶çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<h3 data-id="heading-10">4.2 å…³é”®äº¤äº’è¯´æ˜</h3>
<ul>
<li><strong>Refç»‘å®š</strong>ï¼šé€šè¿‡<code>checkboxRef</code>å¯åœ¨éœ€è¦æ—¶ä¸»åŠ¨æ§åˆ¶å•é€‰æ¡†ï¼ˆå¦‚å…¨é€‰/å–æ¶ˆå…¨é€‰åŠŸèƒ½ï¼‰ï¼Œæå‡ç»„ä»¶çµæ´»æ€§ã€‚</li>
<li><strong>çŠ¶æ€åŒå‘ç»‘å®š</strong>ï¼šå•é€‰æ¡†çš„<code>checked</code>å±æ€§ç›´æ¥ç»‘å®šä»»åŠ¡é¡¹çš„<code>selected</code>çŠ¶æ€ï¼Œç¡®ä¿è§†å›¾ä¸å…¨å±€çŠ¶æ€ä¸€è‡´ã€‚</li>
<li><strong>æ“ä½œè§¦å‘</strong>ï¼šçŠ¶æ€å˜åŒ–æ—¶é€šè¿‡ä¸Šä¸‹æ–‡è·å–çš„<code>addSelectTodos</code>å’Œ<code>removeSelectTodos</code>æ–¹æ³•æ›´æ–°å…¨å±€çŠ¶æ€ï¼Œå®ç°è·¨ç»„ä»¶çŠ¶æ€åŒæ­¥ã€‚</li>
</ul>
<h2 data-id="heading-11">äº”ã€é…å¥—Actionå‡½æ•°å®ç°</h2>
<p>ä¸ºäº†è®©ç»„ä»¶æ›´ä¾¿æ·åœ°è°ƒç”¨ä¸Šè¿°æ“ä½œï¼Œéœ€åœ¨TodoProviderä¸­å®šä¹‰å¯¹åº”çš„actionå‡½æ•°ï¼Œå¹¶æ³¨å…¥ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> actions = {
  <span class="hljs-comment">// åŸæœ‰action...</span>
  
    <span class="hljs-comment">// æ·»åŠ é€‰ä¸­ä»»åŠ¡</span>
    <span class="hljs-attr">addSelectTodos</span>: <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
      <span class="hljs-title function_">dispatch</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">ADD_SELECT_TODOS</span>,
        <span class="hljs-attr">payload</span>: { id },
      });
    },

    <span class="hljs-comment">// ç§»é™¤é€‰ä¸­ä»»åŠ¡</span>
    <span class="hljs-attr">removeSelectTodos</span>: <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
      <span class="hljs-title function_">dispatch</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">REMOVE_SELECT_TODOS</span>,
        <span class="hljs-attr">payload</span>: { id },
      });
    },
    
};
</code></pre>
<h2 data-id="heading-12">å…­ã€æµ‹è¯•è¦ç‚¹</h2>
<ol>
<li>å•ä¸ªä»»åŠ¡é€‰ä¸­/å–æ¶ˆï¼šå‹¾é€‰å•é€‰æ¡†åï¼Œ<code>selectedTodos</code>åº”åŒæ­¥å¢å‡ï¼Œä»»åŠ¡é¡¹<code>selected</code>çŠ¶æ€æ­£ç¡®ã€‚</li>
<li>å¤šä¸ªä»»åŠ¡é€‰ä¸­ï¼šé€‰ä¸­å¤šä¸ªä»»åŠ¡åï¼Œ<code>selectedTodos</code>åº”åŒ…å«æ‰€æœ‰é€‰ä¸­é¡¹ï¼Œæ— é‡å¤æ•°æ®ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CentOS 7/8/9 ä¸Šå®‰è£… MySQL 8.0+ å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573670400153813044</link>    <guid>https://juejin.cn/post/7573670400153813044</guid>    <pubDate>2025-11-18T09:29:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573670400153813044" data-draft-id="7573670400153763892" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CentOS 7/8/9 ä¸Šå®‰è£… MySQL 8.0+ å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Linux,MySQL"/> <meta itemprop="datePublished" content="2025-11-18T09:29:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LumenL1u"/> <meta itemprop="url" content="https://juejin.cn/user/3406736546858211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CentOS 7/8/9 ä¸Šå®‰è£… MySQL 8.0+ å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3406736546858211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LumenL1u
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:29:06.000Z" title="Tue Nov 18 2025 09:29:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æµç¨‹å›¾</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[å®‰è£…å‰å‡†å¤‡] --&gt; B{é€‰æ‹©å®‰è£…æ–¹å¼}
    B --&gt;|æ¨èæ–°æ‰‹| C[1.ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…]
    B --&gt;|éœ€è¦æ›´å¤šæ§åˆ¶| D[2.æ‰‹åŠ¨å®‰è£…äºŒè¿›åˆ¶åŒ…]

    C --&gt; C1[æ·»åŠ Yumå­˜å‚¨åº“]
    C1 --&gt; C2[å®‰è£…mysql-server]
    C2 --&gt; C3[å¯åŠ¨æœåŠ¡]
    C3 --&gt; F[é‡ç½®è´¦æˆ·å¯†ç ]

    D --&gt; D1[ä¸‹è½½å¹¶è§£å‹äºŒè¿›åˆ¶åŒ…]
    D1 --&gt; D2[åˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç»„]
    D2 --&gt; D3[åˆ›å»ºé…ç½®æ–‡ä»¶å’Œåˆå§‹åŒ–æ•°æ®ç›®å½•]
    D3 --&gt; D4[åˆ›å»ºsystemd å•å…ƒæ–‡ä»¶]
    D4 --&gt; D5[å¯åŠ¨æœåŠ¡]
    D5 --&gt; F

    F --&gt; G[æµ‹è¯•MySQLæœåŠ¡]
    G --&gt; H[å¼€å¯è¿œç¨‹è®¿é—®æƒé™]

</code></pre>
<h2 data-id="heading-1">äºŒã€å®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ</h2>
<p>åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œå»ºè®®ä½ å…ˆå®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<p>æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ï¼š æ›´æ–°ç³»ç»Ÿï¼Œç¡®ä¿æ‰€æœ‰è½¯ä»¶åŒ…éƒ½æ˜¯æœ€æ–°çŠ¶æ€ã€‚ï¼ˆå¯¹äºå¯ç”¨ dnf çš„ç³»ç»Ÿï¼Œè¯·åœ¨å‘½ä»¤ä¸­å°†  <strong>yum</strong>  æ›¿æ¢ä¸º  <strong>dnf</strong>ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">yum update
</code></pre>
<p>æ£€æŸ¥æ˜¯å¦å·²å®‰è£… MySQLï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥</p>
<pre><code class="hljs language-bash" lang="bash">yum list installed | grep mysql
yum list installed | grep mariadb
</code></pre>
<p>å¸è½½ï¼šå¦‚æœå­˜åœ¨æ—§ç‰ˆæœ¬ï¼Œå»ºè®®å¸è½½ä»¥é¿å…å†²çªã€‚</p>
<pre><code class="hljs language-bash" lang="bash">yum remove åŒ…å
</code></pre>
<p>æ¸…ç†æ®‹ç•™æ–‡ä»¶ï¼šå¸è½½åå»ºè®®åˆ é™¤ç›¸å…³é…ç½®æ–‡ä»¶å’Œæ•°æ®ç›®å½•ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">rm</span> -rf /etc/my.cnf

<span class="hljs-comment"># åˆ é™¤æ•°æ®ç›®å½•ï¼ˆæ³¨æ„ï¼šä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰</span>
<span class="hljs-built_in">rm</span> -rf /var/lib/mysql

<span class="hljs-comment"># åˆ é™¤æ—¥å¿—æ–‡ä»¶</span>
<span class="hljs-built_in">rm</span> -rf /var/log/localhost.log
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆç®€å•ï¼Œæ˜“ç®¡ç†ï¼‰</h2>
<h3 data-id="heading-3">1. <strong>æ·»åŠ  MySQL Yum å­˜å‚¨åº“</strong></h3>
<p>ä» MySQL Yum å­˜å‚¨åº“é¡µé¢ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysqlserver.cn%2Fdownloads%2Frepo%2Fyum%2F)%25EF%25BC%2588%25E5%259C%25A8" target="_blank" title="https://dev.mysqlserver.cn/downloads/repo/yum/)%EF%BC%88%E5%9C%A8" ref="nofollow noopener noreferrer">dev.mysqlserver.cn/downloads/râ€¦</a> MySQL å¼€å‘è€…ä¸“åŒºï¼‰ä¸‹è½½å®ƒã€‚ä¸Šä¼ åˆ°æœåŠ¡å™¨åæ‰§è¡Œï¼ˆå¯¹äºå¯ç”¨ dnf çš„ç³»ç»Ÿï¼Œè¯·åœ¨å‘½ä»¤ä¸­å°†  <strong>yum</strong>  æ›¿æ¢ä¸º  <strong>dnf</strong>ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">yum localinstall mysql84-community-release-el9-1.noarch.rpm
</code></pre>
<p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ MySQL Yum å­˜å‚¨åº“æ˜¯å¦å·²æˆåŠŸæ·»åŠ å¹¶å¯ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">yum repolist enabled | grep mysql.*-community
</code></pre>
<h3 data-id="heading-4"><strong>2. ç¦ç”¨é»˜è®¤çš„ MySQL æ¨¡å—</strong></h3>
<p>(ä»…é™ EL8 ç³»ç»Ÿ) åŸºäº EL8 çš„ç³»ç»Ÿï¼ˆä¾‹å¦‚ RHEL8 å’Œ Oracle Linux 8ï¼‰åŒ…å«ä¸€ä¸ªé»˜è®¤æƒ…å†µä¸‹å¯ç”¨çš„ MySQL æ¨¡å—ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">yum module <span class="hljs-built_in">disable</span> mysql
</code></pre>
<h3 data-id="heading-5"><strong>3. å®‰è£… MySQL</strong></h3>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… MySQL</p>
<pre><code class="hljs language-bash" lang="bash">yum install mysql-community-server
</code></pre>
<p>è¿™å°†å®‰è£… MySQL æœåŠ¡å™¨è½¯ä»¶åŒ… (<code>mysql-community-server</code>)ï¼Œä»¥åŠè¿è¡ŒæœåŠ¡å™¨æ‰€éœ€ç»„ä»¶çš„è½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯è½¯ä»¶åŒ… (<code>mysql-community-client</code>)ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„é€šç”¨é”™è¯¯æ¶ˆæ¯å’Œå­—ç¬¦é›† (<code>mysql-community-common</code>) ä»¥åŠå…±äº«å®¢æˆ·ç«¯åº“ (<code>mysql-community-libs</code>)ã€‚</p>
<h3 data-id="heading-6">4. å¯åŠ¨ MySQL æœåŠ¡å™¨</h3>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQL æœåŠ¡å™¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">systemctl start mysqld
</code></pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ MySQL æœåŠ¡å™¨çš„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">systemctl status mysqld
</code></pre>
<p>å¦‚æœæ“ä½œç³»ç»Ÿå¯ç”¨äº† systemdï¼Œåˆ™åº”ä½¿ç”¨æ ‡å‡†çš„  <strong>systemctl</strong>ï¼ˆæˆ–è€…ï¼Œä½¿ç”¨å‚æ•°åè½¬çš„  <strong>service</strong>ï¼‰å‘½ä»¤ï¼Œä¾‹å¦‚  <strong>stop</strong>ã€<strong>start</strong>ã€<strong>status</strong>  å’Œ  <a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysqlserver.cn%2Fdoc%2Frefman%2F9.0%2Fen%2Frestart.html" target="_blank" title="https://dev.mysqlserver.cn/doc/refman/9.0/en/restart.html" ref="nofollow noopener noreferrer"><strong>restart</strong></a>  æ¥ç®¡ç† MySQL æœåŠ¡å™¨æœåŠ¡ã€‚ <code>mysqld</code>  æœåŠ¡é»˜è®¤æƒ…å†µä¸‹å¤„äºå¯ç”¨çŠ¶æ€ï¼Œå¹¶ä¸”åœ¨ç³»ç»Ÿé‡å¯æ—¶å¯åŠ¨ã€‚</p>
<h2 data-id="heading-7">å››ã€æ‰‹åŠ¨å®‰è£…äºŒè¿›åˆ¶åŒ…ï¼ˆéš¾ï¼Œä½†æ›´çµæ´»ï¼‰</h2>
<h3 data-id="heading-8"><strong>1. MySQL Linux é€šç”¨äºŒè¿›åˆ¶åˆ†å‘ç›®å½•</strong></h3>





































<table><thead><tr><th><strong>ç›®å½•</strong></th><th><strong>ç›®å½•å†…å®¹</strong></th></tr></thead><tbody><tr><td><code>bin</code></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysqlserver.cn%2Fdoc%2Frefman%2F9.0%2Fen%2Fmysqld.html" target="_blank" title="https://dev.mysqlserver.cn/doc/refman/9.0/en/mysqld.html" ref="nofollow noopener noreferrer"><strong>mysqld</strong></a>  æœåŠ¡å™¨ã€å®¢æˆ·ç«¯å’Œå®ç”¨ç¨‹åº</td></tr><tr><td><code>docs</code></td><td>Info æ ¼å¼çš„ MySQL æ‰‹å†Œ</td></tr><tr><td><code>man</code></td><td>Unix æ‰‹å†Œé¡µ</td></tr><tr><td><code>include</code></td><td>åŒ…å«ï¼ˆå¤´ï¼‰æ–‡ä»¶</td></tr><tr><td><code>lib</code></td><td>åº“</td></tr><tr><td><code>share</code></td><td>é”™è¯¯æ¶ˆæ¯ã€å­—å…¸å’Œç”¨äºæ•°æ®åº“å®‰è£…çš„ SQL</td></tr><tr><td><code>support-files</code></td><td>å„ç§æ”¯æŒæ–‡ä»¶</td></tr></tbody></table>
<h3 data-id="heading-9"><strong>2. å‘½ä»¤åºåˆ—å¦‚ä¸‹æ‰€ç¤º</strong></h3>
<pre><code class="hljs language-bash" lang="bash">yum install libaio
tar -xvf /path/to/mysql-VERSION-OS.tar.xz
<span class="hljs-built_in">ln</span> -s full-path-to-mysql-VERSION-OS mysql
groupadd mysql
useradd -r -g mysql -s /bin/false mysql
<span class="hljs-built_in">cd</span> /etc
<span class="hljs-built_in">touch</span> my.cnf
<span class="hljs-built_in">chown</span> root:root my.cnf
<span class="hljs-built_in">cd</span> /usr/local/mysql
<span class="hljs-built_in">mkdir</span> data
<span class="hljs-built_in">chmod</span> 750 data
<span class="hljs-built_in">chown</span> mysql:mysql data
bin/mysqld --defaults-file=/etc/my.cnf --initialize
<span class="hljs-built_in">cat</span> data/localhost.localdomain.err
<span class="hljs-built_in">cd</span> /usr/lib/systemd/system
<span class="hljs-built_in">touch</span> mysqld.service
systemctl <span class="hljs-built_in">enable</span> mysqld.service
systemctl start mysqld
</code></pre>
<h3 data-id="heading-10">3. å®‰è£…äºŒè¿›åˆ¶åŒ…</h3>
<p><strong>å®‰è£… libaio åº“</strong>ï¼šMySQL ä¾èµ–äºè¯¥<code>libaio</code>  åº“ã€‚å¦‚æœæœªåœ¨æœ¬åœ°å®‰è£…æ­¤åº“ï¼Œåˆ™æ•°æ®ç›®å½•åˆå§‹åŒ–å’Œåç»­æœåŠ¡å™¨å¯åŠ¨æ­¥éª¤å°†å¤±è´¥ã€‚å¦‚æœ‰å¿…è¦ï¼Œè¯·ä½¿ç”¨é€‚å½“çš„åŒ…ç®¡ç†å™¨å®‰è£…å®ƒã€‚ä¾‹å¦‚ï¼Œåœ¨åŸºäº Yum çš„ç³»ç»Ÿä¸Šï¼š</p>
<pre><code class="hljs language-bash" lang="bash">yum search libaio  <span class="hljs-comment"># search for info</span>
yum install libaio <span class="hljs-comment"># install library</span>
</code></pre>
<p><strong>ä¸‹è½½å’Œè§£å‹</strong>ï¼šä» MySQL å®˜ç½‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fdownloads.mysql.com%2Farchives%2Fcommunity%2F" target="_blank" title="https://downloads.mysql.com/archives/community/" ref="nofollow noopener noreferrer">ä¸‹è½½</a>å¯¹åº”ç‰ˆæœ¬çš„äºŒè¿›åˆ¶å‹ç¼©åŒ…ï¼ˆå¦‚ mysql-9.4.0-linux-glibc2.28-x86_64.tar.xzï¼‰ï¼Œä½¿ç”¨ <code>tar -xzf</code> å‘½ä»¤è§£å‹ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">tar xvf mysql-9.4.0-linux-glibc2.28-x86_64.tar.xz -C /usr/local/
<span class="hljs-built_in">cd</span> /usr/local/

<span class="hljs-built_in">mv</span> mysql-9.4.0-linux-glibc2.28-x86_64 mysql
<span class="hljs-comment">#æˆ–</span>
<span class="hljs-built_in">ln</span> -s mysql-9.4.0-linux-glibc2.28-x86_64 mysql
</code></pre>
<p><strong>åˆ›å»ºä¸“ç”¨ç”¨æˆ·å’Œç»„</strong>ï¼šåˆ›å»ºä¸€ä¸ªä¸å…è®¸ç™»å½•ç³»ç»Ÿçš„ MySQL ä¸“ç”¨ç”¨æˆ·ï¼Œæå‡å®‰å…¨æ€§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">groupadd mysql
useradd -r -g mysql -s /bin/false mysql
<span class="hljs-comment">#æˆ–</span>
useradd -r -g mysql -s /usr/sbin/nologin mysql
</code></pre>
<p><code>-s</code> è®¾ç½®ç”¨æˆ·çš„ç™»å½• shell</p>
<p><code>/bin/false</code> ä¸€ä¸ªæ€»æ˜¯è¿”å›å¤±è´¥çš„ç¨‹åºï¼Œè¿™æ ·è®¾ç½®åï¼Œè¯¥ç”¨æˆ·<strong>æ— æ³•é€šè¿‡ shell ç™»å½•ç³»ç»Ÿ</strong></p>
<p><code>/usr/sbin/nologin</code> è¾¾åˆ°ç±»ä¼¼æ•ˆæœï¼Œå¹¶ç»™å‡ºå‹å¥½æç¤º</p>
<h3 data-id="heading-11">4. å®‰è£…åé…ç½®</h3>
<p><strong>é…ç½®ç¯å¢ƒå˜é‡</strong>ï¼šå°† mysql åŠ å…¥ç¯å¢ƒå˜é‡ä¸­ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">vim /etc/profile.d/mysql.sh
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#ç¼–è¾‘mysql.shå†…å®¹</span>
<span class="hljs-built_in">export</span> MYSQL_HOME=/usr/local/mysql
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$MYSQL_HOME</span>/bin:<span class="hljs-variable">$PATH</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> /etc/profile.d/mysql.sh
</code></pre>
<p><strong>åˆ›å»ºé…ç½®æ–‡ä»¶</strong>ï¼šé€šè¿‡å°†å®ƒä»¬æ”¾åœ¨ MySQL é…ç½®æ–‡ä»¶ä¸­æ¥æŒ‡å®š MySQL æœåŠ¡å™¨åœ¨å¯åŠ¨æ—¶åº”ä½¿ç”¨çš„é€‰é¡¹ã€‚å¦‚æœä¸è¿™æ ·åšï¼ŒæœåŠ¡å™¨å°†ä»¥å…¶é»˜è®¤è®¾ç½®å¯åŠ¨ï¼Œè¦åˆ›å»º MySQL é…ç½®æ–‡ä»¶ï¼Œè¯·ä»¥ root èº«ä»½å‘å‡ºä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /etc
vim my.cnf
</code></pre>
<p>æ·»åŠ ä»¥ä¸‹è®¾ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-bash" lang="bash">[client]
socket=/usr/local/mysql/data/mysql.sock

[mysqld]
datadir=/usr/local/mysql/data
socket=/usr/local/mysql/data/mysql.sock
port=3306
log-error=/usr/local/mysql/data/localhost.log
user=mysql
secure_file_priv=NULL
local_infile=OFF
</code></pre>
<p><strong>åˆå§‹åŒ–æ•°æ®ç›®å½•</strong>ï¼šè¿›å…¥ MySQL ç›®å½•å¹¶åˆå§‹åŒ–æ•°æ®ç›®å½•</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/local/mysql
<span class="hljs-built_in">mkdir</span> data
<span class="hljs-built_in">chmod</span> 750 data
<span class="hljs-built_in">chown</span> mysql:mysql data
bin/mysqld --defaults-file=/etc/my.cnf --initialize
</code></pre>
<p>åˆå§‹åŒ–è¾“å‡ºè¢«æ‰“å°åˆ°æ—¥å¿— ( <code>/usr/local/mysql/data/localhost.log</code>) ä¸­ã€‚</p>
<h3 data-id="heading-12"><strong>5. ä½¿ç”¨ systemd å¯åŠ¨æœåŠ¡å™¨</strong></h3>
<p>æ·»åŠ ä¸€ä¸ª systemd æœåŠ¡å•å…ƒé…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/lib/systemd/system
vim mysqld.service
</code></pre>
<p>å°†æ­¤é…ç½®ä¿¡æ¯æ·»åŠ åˆ° mysqld.service æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">[Unit]
Description=MySQL Server
Documentation=man:mysqld(8)
Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html
After=network.target
After=syslog.target

[Install]
WantedBy=multi-user.target

[Service]
User=mysql
Group=mysql

<span class="hljs-comment"># Have mysqld write its state to the systemd notify socket</span>
Type=notify

<span class="hljs-comment"># Disable service start and stop timeout logic of systemd for mysqld service.</span>
TimeoutSec=0

<span class="hljs-comment"># Start main service</span>
ExecStart=/usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf <span class="hljs-variable">$MYSQLD_OPTS</span>

<span class="hljs-comment"># Use this to switch malloc implementation</span>
EnvironmentFile=-/etc/sysconfig/mysql

<span class="hljs-comment"># Sets open_files_limit</span>
LimitNOFILE = 10000

<span class="hljs-comment">#Restart=on-failure</span>

<span class="hljs-comment">#RestartPreventExitStatus=1</span>

<span class="hljs-comment"># Set environment variable MYSQLD_PARENT_PID. This is required for restart.</span>
<span class="hljs-comment">#Environment=MYSQLD_PARENT_PID=1</span>

<span class="hljs-comment">#PrivateTmp=false</span>
</code></pre>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ç®¡ç† MySQL æœåŠ¡ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#ä½¿mysqldæœåŠ¡åœ¨é‡æ–°å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚</span>
systemctl <span class="hljs-built_in">enable</span> mysqld.service

<span class="hljs-comment">#æ‰‹åŠ¨å¯åŠ¨mysqldæœåŠ¡</span>
systemctl start mysqld

<span class="hljs-comment">#æ£€æŸ¥mysqldæœåŠ¡çš„çŠ¶æ€</span>
systemctl status mysqld
</code></pre>
<h2 data-id="heading-13">äº”ã€é‡ç½® MySQL root è´¦æˆ·å¯†ç </h2>
<p>ä½¿ç”¨å®¢æˆ·ç«¯ï¼Œä½¿ç”¨æœåŠ¡å™¨åœ¨åˆå§‹åŒ–åºåˆ—æœŸé—´ç”Ÿæˆçš„éšæœºå¯†ç   <code>mysql</code>è¿æ¥åˆ°æœåŠ¡å™¨ï¼š<code>root@localhost</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Yum å®‰è£…</span>
grep <span class="hljs-string">'temporary password'</span> /var/log/mysqld.log
<span class="hljs-comment"># äºŒè¿›åˆ¶å®‰è£…</span>
grep <span class="hljs-string">'temporary password'</span> /usr/local/mysql/data/*.err

mysql -u root -p
</code></pre>
<pre><code class="hljs language-sql" lang="sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'root'</span>@<span class="hljs-string">'localhost'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'password'</span>;
mysql<span class="hljs-operator">&gt;</span> exit
</code></pre>
<blockquote>
<p>ğŸ’¡ æç¤ºï¼šå¦‚æœå¯ç”¨äº† validate_password æ’ä»¶ï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œå¯†ç å¿…é¡»æ»¡è¶³å¼ºåº¦ç­–ç•¥ï¼ˆå¤§å†™ã€å°å†™ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ã€é•¿åº¦ â‰¥ 8ï¼‰ã€‚</p>
</blockquote>
<h2 data-id="heading-14">å…­ã€æµ‹è¯• MySQL æœåŠ¡å™¨</h2>
<p>ä½¿ç”¨<strong>mysqlshow</strong>éªŒè¯æ‚¨æ˜¯å¦å¯ä»¥ä»æœåŠ¡å™¨æ£€ç´¢ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">mysqlshow -u root -p
</code></pre>
<p>ä½¿ç”¨<strong>mysqladmin</strong>æŸ¥çœ‹ MySQL æœåŠ¡å™¨ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">mysqladmin -u root -p version
</code></pre>
<h2 data-id="heading-15">ä¸ƒã€å¼€å¯è¿œç¨‹è®¿é—®æƒé™</h2>
<p>éœ€è¦ç™»å½•åˆ° MySQL æœåŠ¡å™¨ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. åˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'password'</span>;

<span class="hljs-comment">-- 2. æˆæƒ</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- 3.åˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p>è¿™é‡Œçš„ <code>username</code> å’Œ <code>password</code> åˆ†åˆ«æ˜¯è¿œç¨‹ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œ<code>%</code> è¡¨ç¤ºå…è®¸ä»»ä½• IP åœ°å€çš„ç”¨æˆ·è¿æ¥ã€‚å¦‚æœéœ€è¦é™åˆ¶ç‰¹å®š IP åœ°å€ï¼Œå¯ä»¥å°† <code>%</code> æ›¿æ¢ä¸ºå…·ä½“çš„ IP åœ°å€ã€‚</p>
<p>ç¼–è¾‘ MySQL çš„é…ç½®æ–‡ä»¶ <code>my.cnf</code> ï¼Œ å…è®¸ä»»æ„ IP åœ°å€è®¿é—®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">[mysqld]
<span class="hljs-comment"># æ³¨é‡Šæ‰æˆ–åˆ é™¤è¿™ä¸€è¡Œï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼š</span>
<span class="hljs-comment"># å¦‚æœä¸æƒ³æš´éœ²MySQLï¼Œå¯ä»¥ä¿ç•™ï¼Œé€šè¿‡SSH éš§é“ï¼ˆç«¯å£è½¬å‘ï¼‰å®‰å…¨åœ°è¿æ¥ï¼Œå…·ä½“è§å¸¸è§é—®é¢˜</span>
<span class="hljs-comment"># bind-address = 127.0.0.1</span>

<span class="hljs-comment"># æˆ–æ˜¾å¼ç»‘å®šåˆ°æ‰€æœ‰åœ°å€ï¼š</span>
bind-address = 0.0.0.0
</code></pre>
<p>ä¿®æ”¹åï¼Œä¿å­˜æ–‡ä»¶å¹¶é‡å¯ MySQL æœåŠ¡ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">systemctl restart mysqld
</code></pre>
<p>åœ¨å®¢æˆ·ç«¯è®¡ç®—æœºä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°è¯•è¿æ¥åˆ°è¿œç¨‹ MySQL æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysql -h server_ip -P 3306 -u username -p

<span class="hljs-comment">#ä¾‹å¦‚</span>
mysql -h192.168.100.128 -P3306 -uroot -p123456
</code></pre>
<h2 data-id="heading-16">å…«ã€å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-17"><strong>1. MySQL æœåŠ¡æ— æ³•å¯åŠ¨</strong></h3>
<p>å¯ä»¥è¿è¡Œ <code>systemctl status mysql</code> æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œæˆ–è€…é€šè¿‡ <code>journalctl -xe</code> æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ¥æ’æŸ¥é—®é¢˜ã€‚</p>
<h3 data-id="heading-18"><strong>2. SELinux æˆ– AppArmor é˜»æ­¢æ‰§è¡Œ</strong></h3>
<p>ä¸´æ—¶ç¦ç”¨ SELinux æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">setenforce 0
systemctl start mysqld
</code></pre>
<p>å¦‚æœæˆåŠŸï¼Œè¯´æ˜æ˜¯ SELinux ç­–ç•¥é—®é¢˜ã€‚å¯æ¢å¤åæ·»åŠ ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">setenforce 1
restorecon -R /usr/local/mysql
<span class="hljs-comment"># æˆ–ä½¿ç”¨ audit2allow ç”Ÿæˆè‡ªå®šä¹‰ç­–ç•¥</span>
</code></pre>
<h3 data-id="heading-19"><strong>3. å®¢æˆ·ç«¯è¿æ¥å¤±è´¥</strong>ï¼š</h3>
<p><strong>æ£€æŸ¥é˜²ç«å¢™è®¾ç½®</strong>ï¼šç¡®ä¿æœåŠ¡å™¨çš„é˜²ç«å¢™å¼€æ”¾äº† MySQL çš„é»˜è®¤ 3306 ç«¯å£ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">firewall-cmd --list-ports | grep 3306
</code></pre>
<p>å¦‚æœæ²¡æœ‰æ”¾è¡Œï¼ˆè¾“å‡ºæ˜¯ç©ºçš„ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡æ–°æ£€æŸ¥</p>
<pre><code class="hljs language-bash" lang="bash">firewall-cmd --permanent --add-port=3306/tcp
firewall-cmd --reload
</code></pre>
<p><strong>æ£€æŸ¥ MySQL ç»‘å®šåœ°å€</strong>ï¼šæŸ¥çœ‹ MySQL é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>/etc/mysql/my.cnf</code>ï¼‰ä¸­çš„ <code>bind-address</code> é€‰é¡¹ã€‚å¦‚æœå¸Œæœ›ä»å…¶ä»–æœºå™¨è¿æ¥ï¼Œéœ€å°†å…¶è®¾ç½®ä¸ºæœåŠ¡å™¨çš„ IP åœ°å€æˆ– <code>0.0.0.0</code>ï¼ˆæ³¨æ„å®‰å…¨é£é™©ï¼‰ï¼Œæˆ–è€…ç›´æ¥æ³¨é‡Šæ‰è¯¥è¡Œã€‚</p>
<p>å¦‚æœæœåŠ¡ç«¯åªå…è®¸æœ¬æœºè®¿é—®ï¼ˆ127.0.0.1ï¼‰ï¼Œåˆ™åœ¨å®¢æˆ·ç«¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ssh -L 3307:127.0.0.1:3306 user@your-server.com
<span class="hljs-comment">#æˆ–</span>
ssh -fNL 3307:127.0.0.1:3306 user@your-server.com

mysql -h 127.0.0.1 -P 3307 -u myuser -p
</code></pre>
<p><code>-L 3307:127.0.0.1:3306</code>ï¼šè¡¨ç¤ºå°†æœ¬åœ°æœºå™¨çš„  <strong>3307 ç«¯å£</strong>  è½¬å‘åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„  <code>127.0.0.1:3306</code> ã€‚</p>
<p><code>user@your-server.com</code>ï¼šæ˜¯ä½ åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ç™»å½•è´¦æˆ·å’Œä¸»æœºåœ°å€ã€‚</p>
<p><code>-fNL</code> ï¼šåœ¨åå°è¿è¡Œï¼Œä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼ŒåŒæ—¶è®¾ç½®æœ¬åœ°ç«¯å£è½¬å‘ã€‚</p>
<p>å¦‚æœæ˜¯åå°è¿è¡Œï¼ŒLinux/MacOS ç”¨ <code>ps aux | grep ssh</code> ï¼ŒWindows ç”¨ <code>get-process ssh*</code> ï¼Œæ‰¾åˆ°è¿›ç¨‹å¹¶ <code>kill &lt;PID&gt;</code> ã€‚</p>
<h3 data-id="heading-20"><strong>4. å¿˜è®° root å¯†ç </strong>ï¼š</h3>
<ol>
<li>åœæ­¢ MySQL æœåŠ¡ã€‚</li>
<li>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ˆå¦‚ <code>[mysqld]</code> æ®µä¸‹ï¼‰æ·»åŠ  <code>skip-grant-tables</code>ã€‚</li>
<li>é‡å¯ MySQL æœåŠ¡ï¼Œæ­¤æ—¶å¯ä»¥ä¸éœ€å¯†ç ç™»å½•ã€‚</li>
<li>æ‰§è¡Œ <code>FLUSH PRIVILEGES;</code> åé‡è®¾ root å¯†ç ã€‚</li>
<li>ç§»é™¤ <code>skip-grant-tables</code> é…ç½®ï¼Œé‡å¯ MySQL æœåŠ¡ã€‚</li>
</ol>
<p>å‚è€ƒï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysqlserver.cn%2Fdoc%2Frefman%2F9.0%2Fen%2Flinux-installation-yum-repo.html" target="_blank" title="https://dev.mysqlserver.cn/doc/refman/9.0/en/linux-installation-yum-repo.html" ref="nofollow noopener noreferrer">MySQL :: MySQL 9.0 å‚è€ƒæ‰‹å†Œ :: 2.5.1 ä½¿ç”¨ MySQL Yum å­˜å‚¨åº“åœ¨ Linux ä¸Šå®‰è£… MySQL - MySQL æ•°æ®åº“</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysqlserver.cn%2Fdoc%2Frefman%2F9.0%2Fen%2Fbinary-installation.html" target="_blank" title="https://dev.mysqlserver.cn/doc/refman/9.0/en/binary-installation.html" ref="nofollow noopener noreferrer">MySQL :: MySQL 9.0 å‚è€ƒæ‰‹å†Œ :: 2.2 åœ¨ Unix/Linux ä¸Šä½¿ç”¨é€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£… MySQL - MySQL æ•°æ®åº“</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmysql.net.cn%2Fdoc%2Fmysql-secure-deployment-guide%2F8.0%2Fen%2Fsecure-deployment-post-install.html" target="_blank" title="https://mysql.net.cn/doc/mysql-secure-deployment-guide/8.0/en/secure-deployment-post-install.html" ref="nofollow noopener noreferrer">ç¬¬ 5 ç« å®‰è£…åè®¾ç½®_MySQL 8.0 å®‰å…¨éƒ¨ç½²æŒ‡å—</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Uniappå¦‚ä½•ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›¸å†Œ]]></title>    <link>https://juejin.cn/post/7573710392213602331</link>    <guid>https://juejin.cn/post/7573710392213602331</guid>    <pubDate>2025-11-18T09:29:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573710392213602331" data-draft-id="7573669819029340170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Uniappå¦‚ä½•ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›¸å†Œ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2025-11-18T09:29:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠªåŠ›å‘†å‘†é¸Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1313268769494019"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Uniappå¦‚ä½•ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›¸å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1313268769494019/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠªåŠ›å‘†å‘†é¸Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:29:48.000Z" title="Tue Nov 18 2025 09:29:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">uniappå¦‚ä½•ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›¸å†Œï¼Ÿ</h2>
<blockquote>
<p>åœ¨ä¸€äº›ç‰¹å®šçš„æƒ…å†µä¸‹é¢ï¼Œæˆ‘ä»¬éœ€è¦åœ¨uniappå¼€å‘çš„å°ç¨‹åºä¸­å°†å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ç›¸å†Œï¼Œæ¯”å¦‚å£çº¸å°ç¨‹åºå…¶ä»–å°ç¨‹åºï¼Œè¿™ä¸ªä½¿ç”¨æƒ…å†µè¿˜æ˜¯ååˆ†æ™®éçš„ï¼Œç°åœ¨æˆ‘æ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„å®ç°æ–¹æ³•å’Œæ€è·¯</p>
</blockquote>
<h3 data-id="heading-1">å®ç°æ–¹æ¡ˆ</h3>
<p>æ–‡æ¡£åœ°å€ï¼š
saveImageToPhotosAlbum:<a href="https://link.juejin.cn?target=https%3A%2F%2Funiapp.dcloud.net.cn%2Fapi%2Fmedia%2Fimage.html%23saveimagetophotosalbum" target="_blank" title="https://uniapp.dcloud.net.cn/api/media/image.html#saveimagetophotosalbum" ref="nofollow noopener noreferrer">uniapp.dcloud.net.cn/api/media/iâ€¦</a>
getImageInfo: <a href="https://link.juejin.cn?target=https%3A%2F%2Funiapp.dcloud.net.cn%2Fapi%2Fmedia%2Fimage.html%23getimageinfo" target="_blank" title="https://uniapp.dcloud.net.cn/api/media/image.html#getimageinfo" ref="nofollow noopener noreferrer">uniapp.dcloud.net.cn/api/media/iâ€¦</a></p>
<p>æˆ‘ä»¬é€šè¿‡æŸ¥æ‰¾uniappå®˜æ–¹æ–‡æ¡£å¯ä»¥å‘ç°é‡Œé¢æœ‰ä¸€ä¸ª<code>uni.saveImageToPhotosAlbum({})</code>ä¿å­˜å›¾ç‰‡åˆ°ç³»ç»Ÿç›¸å†Œçš„APIæ¥å£å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ï¼Œå…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯<code>filePath</code>å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¸æ”¯æŒç½‘ç»œåœ°å€å°±æ˜¯æˆ‘ä»¬æœåŠ¡å™¨è¿”å›çš„å›¾ç‰‡åœ°å€ä¸å¯ä»¥ä½¿ç”¨</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¦å¤–ä¸€ä¸ªAPIæ¥å£æ¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„<code>filePath</code>è·¯å¾„è¿™ä¸ªapiå°±æ˜¯<code>uni.getImageInfo</code>
ä½¿ç”¨è¿™ä¸ªapiå°±å¯ä»¥å°†æˆ‘ä»¬æ¥å£è¿”å›çš„ç½‘ç»œåœ°å€ç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„fileåœ°å€ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥é…åˆ<code>uni.saveImageToPhotosAlbum({})</code>æ¥å®ç°å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ç›¸å†Œçš„åŠŸèƒ½äº†</p>
<p><em><strong>å®ä¾‹ä»£ç ï¼š</strong></em></p>
<pre><code class="hljs language-js" lang="js">		uni.<span class="hljs-title function_">getImageInfo</span>({
			<span class="hljs-attr">src</span>: currentInfo.<span class="hljs-property">value</span>.<span class="hljs-property">picurl</span>,
			<span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
				uni.<span class="hljs-title function_">saveImageToPhotosAlbum</span>({
					<span class="hljs-attr">filePath</span>: res.<span class="hljs-property">path</span>,
					<span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">fileRes</span>) =&gt;</span> {
						<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fileRes, <span class="hljs-string">"å›¾ç‰‡"</span>);
					}
				})
			}
		})
</code></pre>
<h3 data-id="heading-2">éœ€è¦æ³¨æ„çš„é—®é¢˜</h3>
<p>æˆ‘ä»¬åœ¨å°ç¨‹åºå®ç°ä¸‹è½½åŠŸèƒ½çš„æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦åˆ°å°ç¨‹åºçš„é…ç½®å½“ä¸­å°†<code>downloadFileåˆæ³•åŸŸå</code>è¡Œä¸€ä¸ªé…ç½®ä¸ç„¶æ˜¯æ— æ³•å®Œæˆä¸‹è½½çš„ï¼ŒåŒæ—¶è¿˜éœ€è¦åœ¨å°ç¨‹åºåå°é…ç½®ä¸­è¿›è¡Œä¸€ä¸ªæˆæƒä¸ç„¶ä¹Ÿæ˜¯æ— æ³•å®ç°ä¿å­˜åˆ°å¾®ä¿¡ç›¸å†Œçš„ã€‚</p>
<h4 data-id="heading-3">1.downloadFileåˆæ³•åŸŸåé…ç½®æ­¥éª¤</h4>
<p>è¿›å…¥åˆ°å°ç¨‹åºé…ç½®ä¿¡æ¯é¡µé¢ <strong>ç‚¹å‡»å¼€å‘ç®¡ç†</strong> åŒæ—¶åœ¨æ˜¾ç¤ºä¸­çš„é¡µé¢é‡Œé¢<strong>ä¸‹æ»‘åˆ°æœåŠ¡å™¨åŸŸåä½ç½®</strong> å¯ä»¥çœ‹è§<strong>downloadFileåˆæ³•åŸŸå</strong>çš„ä½ç½®ä¿¡æ¯ ç‚¹å‡»<strong>å³ä¸Šè§’</strong>çš„ <strong>ä¿®æ”¹</strong> ç„¶åå°†æˆ‘ä»¬çš„downloadFileåŸŸåæ·»åŠ å°±å¯ä»¥äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d1dd17d8bb141a2860094d956724287~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb5ZGG5ZGG6bif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062988&amp;x-signature=dstWCt9FtIE5EqsCjPWYszO%2Fpp8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f08cdcbbf644b42b201b7e5071603b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb5ZGG5ZGG6bif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764062988&amp;x-signature=B4HVSCECFWcyXc%2B54VQ9r4aA3hA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4">2. è¿›è¡Œæˆæƒé…ç½®</h4>
<p>è¿›å…¥å°ç¨‹åºåå°è®¾ç½® é¼ æ ‡ç§»å…¥åˆ°å¤´åƒä¸Š æ ¹æ®ä½ çš„å°ç¨‹åºä¿¡æ¯è¿›è¡Œä¸€ä¸ªå¡«å†™å’Œå¤‡æ¡ˆ åé¢æ‰¾åˆ°<code>æœåŠ¡å†…å®¹å£°æ˜</code>ç”¨æˆ·éšç§ä¿æŠ¤æŒ‡å¼• è¿›å…¥åˆ°é‡Œé¢æ ¹æ®ä¿¡æ¯æç¤ºå°±å¯ä»¥å®Œæˆä¸‹è½½å›¾ç‰‡å¹¶ä¸”ä¿å­˜åˆ°æ‰‹æœºæœ¬åœ°ç›¸å†Œçš„åŠŸèƒ½äº†ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[item_getæ¥å£è¯¦è§£ï¼šé«˜æ•ˆè·å–æŸé±¼å•†å“è¯¦æƒ…æ•°æ®]]></title>    <link>https://juejin.cn/post/7573708620870680628</link>    <guid>https://juejin.cn/post/7573708620870680628</guid>    <pubDate>2025-11-18T09:32:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573708620870680628" data-draft-id="7573864324713152564" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="item_getæ¥å£è¯¦è§£ï¼šé«˜æ•ˆè·å–æŸé±¼å•†å“è¯¦æƒ…æ•°æ®"/> <meta itemprop="keywords" content="çˆ¬è™«"/> <meta itemprop="datePublished" content="2025-11-18T09:32:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”µå•†apiè·¨å¢ƒç‹¬ç«‹ç«™ç¨‹åºçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/2900974868106540"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            item_getæ¥å£è¯¦è§£ï¼šé«˜æ•ˆè·å–æŸé±¼å•†å“è¯¦æƒ…æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2900974868106540/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”µå•†apiè·¨å¢ƒç‹¬ç«‹ç«™ç¨‹åºçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:32:01.000Z" title="Tue Nov 18 2025 09:32:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äºŒæ‰‹ç”µå•†ç”Ÿæ€ä¸­ï¼Œå•†å“è¯¦æƒ…æ•°æ®æ˜¯æ•°æ®åˆ†æã€ä»·æ ¼ç›‘æ§ã€æ™ºèƒ½æ¨èç­‰ä¸šåŠ¡åœºæ™¯çš„æ ¸å¿ƒåŸºç¡€ã€‚æŸé±¼å¹³å°çš„<code>item_get</code>æ¥å£ä¸ºå¼€å‘è€…æä¾›äº†æ ‡å‡†åŒ–çš„å•†å“ä¿¡æ¯è·å–èƒ½åŠ›ã€‚æœ¬æ–‡å°†æ·±åº¦è§£æè¯¥æ¥å£çš„è®¾è®¡åŸç†ã€è°ƒç”¨æ–¹æ³•åŠå®æˆ˜æŠ€å·§ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æ¥å£å®šä½ä¸èƒ½åŠ›è¾¹ç•Œ</h2>
<p><code>item_get</code>æ˜¯æŸé±¼å¼€æ”¾å¹³å°çš„åŸºç¡€æ•°æ®æ¥å£ï¼Œç”¨äº<strong>å®æ—¶è·å–å•ä¸ªå•†å“çš„å®Œæ•´è¯¦æƒ…ä¿¡æ¯</strong>ã€‚å…¶æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ¯«ç§’çº§å“åº”</strong>ï¼šå¹³å‡å“åº”æ—¶é•¿&lt;200msï¼Œæ”¯æŒé«˜å¹¶å‘è°ƒç”¨</li>
<li><strong>å…¨å­—æ®µè¦†ç›–</strong>ï¼šåŒ…å«å•†å“æ ‡é¢˜ã€ä»·æ ¼ã€æè¿°ã€å›¾ç‰‡ã€å–å®¶ä¿¡æ¯ç­‰30+ç»´åº¦</li>
<li><strong>æ•°æ®æ–°é²œåº¦</strong>ï¼šå®æ—¶è¯»å–æºç«™æ•°æ®ï¼Œç¡®ä¿ä»·æ ¼ã€åº“å­˜ç­‰åŠ¨æ€ä¿¡æ¯å‡†ç¡®</li>
<li><strong>åˆè§„è®¿é—®</strong>ï¼šé€šè¿‡OAuth 2.0æˆæƒï¼Œç¬¦åˆå¹³å°æ•°æ®å®‰å…¨è§„èŒƒ</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€æ¥å£æŠ€æœ¯è§„èŒƒ</h2>
<h3 data-id="heading-2">2.1 åŸºç¡€ä¿¡æ¯</h3>
<pre><code class="hljs language-http" lang="http">è¯·æ±‚åœ°å€ï¼š[https://api.xianyu.com/router/rest](https://o0b.cn/jelena    )
æ¥å£åç§°ï¼šxianyu.item.get
è¯·æ±‚æ–¹å¼ï¼šGET/POSTï¼ˆæ¨èPOSTï¼‰
æ•°æ®æ ¼å¼ï¼šJSON
å­—ç¬¦ç¼–ç ï¼šUTF-8
</code></pre>
<h3 data-id="heading-3">2.2 è¯·æ±‚å‚æ•°ç»“æ„</h3>





























































<table><thead><tr><th align="left">å‚æ•°åç§°</th><th align="left">ç±»å‹</th><th align="left">å¿…å¡«</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td align="left"><code>method</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">å›ºå®šå€¼ï¼šxianyu.item.get</td><td align="left"><code>xianyu.item.get</code></td></tr><tr><td align="left"><code>app_key</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">åº”ç”¨å”¯ä¸€æ ‡è¯†</td><td align="left"><code>12345678</code></td></tr><tr><td align="left"><code>access_token</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">OAuthæˆæƒä»¤ç‰Œ</td><td align="left"><code>6100a52b7c8d8a9d9e8f7g6h5</code></td></tr><tr><td align="left"><code>item_id</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">å•†å“æ•°å­—ID</td><td align="left"><code>658767890123</code></td></tr><tr><td align="left"><code>fields</code></td><td align="left">string</td><td align="left">å¦</td><td align="left">æŒ‡å®šè¿”å›å­—æ®µï¼ˆé€—å·åˆ†éš”ï¼‰</td><td align="left"><code>title,price,desc,images</code></td></tr><tr><td align="left"><code>timestamp</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">è¯·æ±‚æ—¶é—´æˆ³ï¼ˆç§’ï¼‰</td><td align="left"><code>1731923400</code></td></tr><tr><td align="left"><code>sign</code></td><td align="left">string</td><td align="left">æ˜¯</td><td align="left">ç­¾åä¸²ï¼ˆMD5åŠ å¯†ï¼‰</td><td align="left"><code>a1b2c3d4e5f6g7h8i9j0</code></td></tr></tbody></table>
<p><strong>ç­¾åç”Ÿæˆè§„åˆ™</strong>ï¼š</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># ä¼ªä»£ç ç¤ºä¾‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_sign</span>(<span class="hljs-params">params, secret</span>):
    <span class="hljs-comment"># 1. è¿‡æ»¤ç©ºå€¼å‚æ•°</span>
    <span class="hljs-comment"># 2. æŒ‰keyå‡åºæ’åº</span>
    <span class="hljs-comment"># 3. æ‹¼æ¥key+value+secret</span>
    <span class="hljs-comment"># 4. MD5åŠ å¯†ç”Ÿæˆ32ä½å°å†™ç­¾å</span>
    sorted_params = <span class="hljs-built_in">sorted</span>(params.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>])
    sign_str = <span class="hljs-string">''</span>.join([<span class="hljs-string">f"<span class="hljs-subst">{k}</span><span class="hljs-subst">{v}</span>"</span> <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> sorted_params]) + secret
    <span class="hljs-keyword">return</span> md5(sign_str.encode(<span class="hljs-string">'utf-8'</span>)).hexdigest()
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è¿”å›æ•°æ®æ¨¡å‹è¯¦è§£</h2>
<p>æˆåŠŸè°ƒç”¨åè¿”å›çš„JSONæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"item"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"item_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"658767890123"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPhone 15 Pro 256G åŸè‰²"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"desc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‡ªç”¨åŠå¹´ï¼Œæˆè‰²99æ–°ï¼Œé…ä»¶é½å…¨..."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"current"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7200.00"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"original"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"8999.00"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"currency"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CNY"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"images"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://img.xianyu.com/1.jpg"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"https://img.xianyu.com/2.jpg"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"50025526"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœº"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"location"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ­å·å¸‚"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"district"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¥¿æ¹–åŒº"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"onsale"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// onsale/reserved/sold</span>
      <span class="hljs-attr">"publish_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-11-15 14:32:18"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"seller"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"user_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user_abc123"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"nick"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ•°ç è¾¾äººå°ç‹"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"L3"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"credit_score"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">95</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"verify_status"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stats"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"view_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1280</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"want_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"comment_count"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"sku"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"brand"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Apple"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPhone 15 Pro"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åŸè‰²é’›é‡‘å±"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"shipping"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"express"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"cost"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.00"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"free_shipping"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"åŒ…é‚®"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"æ€¥å”®"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"å¯å°åˆ€"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"request_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"20251118143000_12345"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ ¸å¿ƒå­—æ®µé€ŸæŸ¥è¡¨</strong>ï¼š</p>









































<table><thead><tr><th align="left">å­—æ®µè·¯å¾„</th><th align="left">æ•°æ®ç±»å‹</th><th align="left">ä¸šåŠ¡ä»·å€¼</th><th align="left">æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td align="left"><code>item.price.current</code></td><td align="left">decimal</td><td align="left">å®æ—¶å”®ä»·</td><td align="left">å­—ç¬¦ä¸²æ ¼å¼ï¼Œéœ€è½¬æ¢è®¡ç®—</td></tr><tr><td align="left"><code>item.status</code></td><td align="left">enum</td><td align="left">é”€å”®çŠ¶æ€</td><td align="left">soldå•†å“ä¸å¯å†è´­ä¹°</td></tr><tr><td align="left"><code>item.seller.credit_score</code></td><td align="left">int</td><td align="left">ä¿¡èª‰è¯„ä¼°</td><td align="left">80åˆ†ä»¥ä¸Šä¸ºä¼˜è´¨å–å®¶</td></tr><tr><td align="left"><code>item.stats.view_count</code></td><td align="left">int</td><td align="left">çƒ­åº¦æŒ‡æ ‡</td><td align="left">å•ä½æ—¶é—´å†…å¢é•¿è¶‹åŠ¿æœ‰ä»·å€¼</td></tr><tr><td align="left"><code>item.publish_time</code></td><td align="left">datetime</td><td align="left">ä¸Šæ¶æ—¶é—´</td><td align="left">UTC+8æ—¶åŒº</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">å››ã€å¤šè¯­è¨€è°ƒç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-6">Python å®ç°</h3>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> hashlib
<span class="hljs-keyword">import</span> time

<span class="hljs-keyword">class</span> <span class="hljs-title class_">XianyuClient</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, app_key, app_secret, access_token</span>):
        self.base_url = <span class="hljs-string">"https://api.xianyu.com/router/rest"</span>
        self.app_key = app_key
        self.app_secret = app_secret
        self.access_token = access_token
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_item_detail</span>(<span class="hljs-params">self, item_id, fields=<span class="hljs-literal">None</span></span>):
        params = {
            <span class="hljs-string">"method"</span>: <span class="hljs-string">"xianyu.item.get"</span>,
            <span class="hljs-string">"app_key"</span>: self.app_key,
            <span class="hljs-string">"access_token"</span>: self.access_token,
            <span class="hljs-string">"item_id"</span>: item_id,
            <span class="hljs-string">"timestamp"</span>: <span class="hljs-built_in">str</span>(<span class="hljs-built_in">int</span>(time.time())),
            <span class="hljs-string">"v"</span>: <span class="hljs-string">"2.0"</span>,
            <span class="hljs-string">"format"</span>: <span class="hljs-string">"json"</span>
        }
        <span class="hljs-keyword">if</span> fields:
            params[<span class="hljs-string">"fields"</span>] = fields
        
        <span class="hljs-comment"># ç”Ÿæˆç­¾å</span>
        params[<span class="hljs-string">"sign"</span>] = self._generate_sign(params)
        
        response = requests.post(self.base_url, data=params, timeout=<span class="hljs-number">10</span>)
        <span class="hljs-keyword">return</span> response.json()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_generate_sign</span>(<span class="hljs-params">self, params</span>):
        sorted_params = <span class="hljs-built_in">sorted</span>(params.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>])
        sign_str = <span class="hljs-string">''</span>.join([<span class="hljs-string">f"<span class="hljs-subst">{k}</span><span class="hljs-subst">{v}</span>"</span> <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> sorted_params]) + self.app_secret
        <span class="hljs-keyword">return</span> hashlib.md5(sign_str.encode(<span class="hljs-string">'utf-8'</span>)).hexdigest()

<span class="hljs-comment"># è°ƒç”¨ç¤ºä¾‹</span>
client = XianyuClient(<span class="hljs-string">"your_app_key"</span>, <span class="hljs-string">"your_secret"</span>, <span class="hljs-string">"your_token"</span>)
result = client.get_item_detail(<span class="hljs-string">"658767890123"</span>, <span class="hljs-string">"title,price,desc"</span>)
<span class="hljs-built_in">print</span>(result[<span class="hljs-string">'data'</span>][<span class="hljs-string">'item'</span>][<span class="hljs-string">'title'</span>])
</code></pre>
<h3 data-id="heading-7">Node.js å®ç°</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);

<span class="hljs-keyword">class</span> <span class="hljs-title class_">XianyuClient</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">appKey, appSecret, accessToken</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">baseURL</span> = <span class="hljs-string">'https://api.xianyu.com/router/rest'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">appKey</span> = appKey;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">appSecret</span> = appSecret;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">accessToken</span> = accessToken;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getItemDetail</span>(<span class="hljs-params">itemId, fields = <span class="hljs-literal">null</span></span>) {
    <span class="hljs-keyword">const</span> params = {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'xianyu.item.get'</span>,
      <span class="hljs-attr">app_key</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">appKey</span>,
      <span class="hljs-attr">access_token</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">accessToken</span>,
      <span class="hljs-attr">item_id</span>: itemId,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span>).<span class="hljs-title function_">toString</span>(),
      <span class="hljs-attr">v</span>: <span class="hljs-string">'2.0'</span>,
      <span class="hljs-attr">format</span>: <span class="hljs-string">'json'</span>
    };
    
    <span class="hljs-keyword">if</span> (fields) params.<span class="hljs-property">fields</span> = fields;
    params.<span class="hljs-property">sign</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_generateSign</span>(params);

    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">baseURL</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(params), {
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/x-www-form-urlencoded'</span> }
    });
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
  }

  <span class="hljs-title function_">_generateSign</span>(<span class="hljs-params">params</span>) {
    <span class="hljs-keyword">const</span> sorted = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(params).<span class="hljs-title function_">sort</span>().<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${k}</span><span class="hljs-subst">${params[k]}</span>`</span>);
    <span class="hljs-keyword">const</span> signStr = sorted.<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>) + <span class="hljs-variable language_">this</span>.<span class="hljs-property">appSecret</span>;
    <span class="hljs-keyword">return</span> crypto.<span class="hljs-title function_">createHash</span>(<span class="hljs-string">'md5'</span>).<span class="hljs-title function_">update</span>(signStr, <span class="hljs-string">'utf8'</span>).<span class="hljs-title function_">digest</span>(<span class="hljs-string">'hex'</span>);
  }
}

<span class="hljs-comment">// è°ƒç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XianyuClient</span>(<span class="hljs-string">'your_app_key'</span>, <span class="hljs-string">'your_secret'</span>, <span class="hljs-string">'your_token'</span>);
client.<span class="hljs-title function_">getItemDetail</span>(<span class="hljs-string">'658767890123'</span>)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">data</span>.<span class="hljs-property">item</span>.<span class="hljs-property">price</span>.<span class="hljs-property">current</span>))
  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));
</code></pre>
<hr/>
<h2 data-id="heading-8">äº”ã€é«˜é¢‘åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-9">åœºæ™¯1ï¼šä»·æ ¼ç›‘æ§ç³»ç»Ÿ</h3>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># å®šæ—¶è½®è¯¢æ ¸å¿ƒå•†å“</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">price_monitor</span>(<span class="hljs-params">item_id_list</span>):
    <span class="hljs-keyword">for</span> item_id <span class="hljs-keyword">in</span> item_id_list:
        detail = client.get_item_detail(item_id, <span class="hljs-string">"title,price,status"</span>)
        <span class="hljs-keyword">if</span> detail[<span class="hljs-string">'code'</span>] == <span class="hljs-number">200</span>:
            item = detail[<span class="hljs-string">'data'</span>][<span class="hljs-string">'item'</span>]
            <span class="hljs-comment"># å†™å…¥æ—¶åºæ•°æ®åº“</span>
            save_to_influxdb(item_id, item[<span class="hljs-string">'price'</span>][<span class="hljs-string">'current'</span>], item[<span class="hljs-string">'status'</span>])
</code></pre>
<h3 data-id="heading-10">åœºæ™¯2ï¼šæ™ºèƒ½é€‰å“å†³ç­–</h3>
<p>é€šè¿‡åˆ†æå•†å“è¯¦æƒ…ä¸­çš„<code>view_count</code>ã€<code>want_count</code>ã€<code>publish_time</code>ç­‰å­—æ®µï¼Œè®¡ç®—å•†å“çƒ­åº¦æŒ‡æ•°ï¼š</p>
<p><code>çƒ­åº¦æŒ‡æ•° = (æƒ³è¦äººæ•° Ã— 0.6 + æµè§ˆé‡ Ã— 0.4) / ä¸Šæ¶å¤©æ•°</code></p>
<h3 data-id="heading-11">åœºæ™¯3ï¼šä¾›åº”é“¾æº¯æº</h3>
<p>ç»“åˆ<code>seller.verify_status</code>ã€<code>credit_score</code>åŠå•†å“æè¿°ï¼Œæ„å»ºå¯ä¿¡åº¦æ¨¡å‹ï¼Œè¯†åˆ«é«˜é£é™©å•†å“ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…­ã€æ³¨æ„äº‹é¡¹ä¸é—®é¢˜æ’æŸ¥</h2>
<h3 data-id="heading-13">6.1 è°ƒç”¨é™åˆ¶</h3>
<ul>
<li><strong>é¢‘ç‡é™åˆ¶</strong>ï¼šIPçº§100æ¬¡/åˆ†é’Ÿï¼Œåº”ç”¨çº§1000æ¬¡/åˆ†é’Ÿ</li>
<li><strong>æ•°æ®æ–°é²œåº¦</strong>ï¼šAPIæ•°æ®æœ‰5åˆ†é’Ÿç¼“å­˜ï¼Œå®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯éœ€è®¢é˜…Webhookæ¨é€</li>
<li><strong>å­—æ®µç²¾ç®€</strong>ï¼šåŠ¡å¿…ä½¿ç”¨<code>fields</code>å‚æ•°æŒ‡å®šæ‰€éœ€å­—æ®µï¼Œå‡å°‘å¸¦å®½æ¶ˆè€—</li>
</ul>
<h3 data-id="heading-14">6.2 é”™è¯¯ç é€ŸæŸ¥</h3>








































<table><thead><tr><th align="left">é”™è¯¯ç </th><th align="left">è¯´æ˜</th><th align="left">å¤„ç†å»ºè®®</th></tr></thead><tbody><tr><td align="left">400</td><td align="left">å‚æ•°é”™è¯¯</td><td align="left">æ£€æŸ¥item_idæ˜¯å¦ä¸ºçº¯æ•°å­—</td></tr><tr><td align="left">401</td><td align="left">æˆæƒå¤±æ•ˆ</td><td align="left">refresh_tokenæˆ–é‡æ–°OAuth</td></tr><tr><td align="left">403</td><td align="left">æƒé™ä¸è¶³</td><td align="left">ç”³è¯·item_getæ¥å£æƒé™åŒ…</td></tr><tr><td align="left">404</td><td align="left">å•†å“ä¸å­˜åœ¨</td><td align="left">å•†å“å·²ä¸‹æ¶æˆ–IDé”™è¯¯</td></tr><tr><td align="left">429</td><td align="left">é¢‘ç‡è¶…é™</td><td align="left">å®ç°æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥</td></tr><tr><td align="left">500</td><td align="left">æœåŠ¡å¼‚å¸¸</td><td align="left">è”ç³»æŠ€æœ¯æ”¯æŒå¹¶æä¾›request_id</td></tr></tbody></table>
<h3 data-id="heading-15">6.3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
<ul>
<li><strong>è¿æ¥æ± </strong>ï¼šä½¿ç”¨HTTP keep-aliveï¼Œå¤ç”¨TCPè¿æ¥</li>
<li><strong>æ‰¹é‡æŸ¥è¯¢</strong>ï¼šå¦‚éœ€è·å–å¤šä¸ªå•†å“ï¼Œä½¿ç”¨<code>item_list_get</code>æ¥å£ï¼ˆæ”¯æŒ20ä¸ªIDï¼‰</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šå¯¹éæ•æ„Ÿå­—æ®µï¼ˆå¦‚å•†å“æ ‡é¢˜ï¼‰ç¼“å­˜10åˆ†é’Ÿ</li>
<li><strong>é™çº§æ–¹æ¡ˆ</strong>ï¼šæ¥å£è¶…æ—¶è¿”å›ç¼“å­˜æ•°æ®ï¼Œå¹¶å¼‚æ­¥æ›´æ–°</li>
</ul>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€æ•°æ®åˆè§„ä¸å®‰å…¨å»ºè®®</h2>
<ol>
<li><strong>ç”¨æˆ·éšç§ä¿æŠ¤</strong>ï¼šè¿”å›æ•°æ®ä¸­çš„<code>seller.user_id</code>éœ€è„±æ•åå±•ç¤ºï¼Œç¦æ­¢å…¬å¼€</li>
<li><strong>å›¾ç‰‡é˜²ç›—é“¾</strong>ï¼š<code>images</code>å­—æ®µURLå«æ—¶æ•ˆtokenï¼Œæœ‰æ•ˆæœŸ2å°æ—¶ï¼Œç¦æ­¢æ°¸ä¹…å­˜å‚¨</li>
<li><strong>ä»·æ ¼æ•°æ®ä½¿ç”¨</strong>ï¼šä¸å¾—ç”¨äºä»·æ ¼æ­§è§†æˆ–æ¶æ„ç«ä»·ï¼Œéµå®ˆå¹³å°æ•°æ®ä½¿ç”¨åè®®</li>
<li><strong>æ—¥å¿—å®¡è®¡</strong>ï¼šè®°å½•æ‰€æœ‰APIè°ƒç”¨æ—¥å¿—ï¼Œä¿ç•™90å¤©ä»¥ä¾›åˆè§„å®¡æŸ¥</li>
</ol>
<hr/>
<h2 data-id="heading-17">å…«ã€æœªæ¥èƒ½åŠ›å±•æœ›</h2>
<p>æŸé±¼å¹³å°æ­£é€æ­¥å¼€æ”¾æ›´å¤šé«˜ä»·å€¼æ¥å£ï¼š</p>
<ul>
<li><code>item_recommendations_get</code>ï¼šè·å–ç›¸ä¼¼å•†å“æ¨è</li>
<li><code>seller_items_get</code>ï¼šæ‰¹é‡è·å–å–å®¶åœ¨å”®å•†å“</li>
<li><code>price_trend_get</code>ï¼šè·å–å•†å“ä»·æ ¼èµ°åŠ¿å›¾</li>
</ul>
<p>å»ºè®®å¼€å‘è€…å…³æ³¨å¼€æ”¾å¹³å°åŠ¨æ€ï¼ŒåŠæ—¶ç”³è¯·æ–°èƒ½åŠ›æƒé™ã€‚</p>
<hr/>
<h2 data-id="heading-18">ç»“è¯­</h2>
<p><code>item_get</code>æ¥å£æ˜¯è¿æ¥æŸé±¼å•†å“æ•°æ®ä¸ä¸šåŠ¡åˆ›æ–°çš„æ¡¥æ¢ã€‚é€šè¿‡åˆç†çš„è°ƒç”¨ç­–ç•¥ã€å¥å£®çš„é”™è¯¯å¤„ç†ä¸ä¸¥æ ¼çš„æ•°æ®åˆè§„ï¼Œå¼€å‘è€…å¯ä»¥åŸºäºæ­¤æ„å»ºé€‰å“å·¥å…·ã€æ•°æ®åˆ†æå¹³å°ã€æ™ºèƒ½å®šä»·ç³»ç»Ÿç­‰å¤šæ ·åŒ–åº”ç”¨ã€‚è®°ä½ï¼š<strong>å°Šé‡æ•°æ®ä»·å€¼ï¼Œéµå®ˆå¹³å°è§„åˆ™</strong>ï¼Œæ–¹èƒ½å®ç°é•¿æœŸç¨³å®šçš„æ•°æ®æœåŠ¡é›†æˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Gin æ¡†æ¶åŠ è½½ HTML æ¨¡æ¿ï¼š`LoadHTMLGlob`Â å’ŒÂ `LoadHTMLFiles`Â çš„æ¯”è¾ƒä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7573876900230348863</link>    <guid>https://juejin.cn/post/7573876900230348863</guid>    <pubDate>2025-11-18T09:38:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573876900230348863" data-draft-id="7573855399717273619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Gin æ¡†æ¶åŠ è½½ HTML æ¨¡æ¿ï¼š`LoadHTMLGlob`Â å’ŒÂ `LoadHTMLFiles`Â çš„æ¯”è¾ƒä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯,Go,Gin"/> <meta itemprop="datePublished" content="2025-11-18T09:38:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜¿å˜¿"/> <meta itemprop="url" content="https://juejin.cn/user/325111172830792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Gin æ¡†æ¶åŠ è½½ HTML æ¨¡æ¿ï¼š`LoadHTMLGlob`Â å’ŒÂ `LoadHTMLFiles`Â çš„æ¯”è¾ƒä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/325111172830792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜¿å˜¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:38:37.000Z" title="Tue Nov 18 2025 09:38:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>PS:åœ¨ä½¿ç”¨ginæ¡†æ¶æ¸²æŸ“å‰ç«¯æ¨¡æ¿æ—¶é‡åˆ°äº†é—®é¢˜ï¼Œå…³äºè¿™ä¿©æ–¹æ³•çš„ä¸€ä¸ªåŒºåˆ«ï¼Œè®°å½•ä¸‹æ¥å¤‡å¿˜ä¸€ä¸‹ã€‚</p>
<p>åœ¨ä½¿ç”¨ Gin æ¡†æ¶å¼€å‘ Web åº”ç”¨æ—¶ï¼Œæ¨¡æ¿æ¸²æŸ“æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ã€‚Gin æä¾›äº†Â <code>LoadHTMLGlob</code>Â å’ŒÂ <code>LoadHTMLFiles</code>Â ä¸¤ä¸ªå‡½æ•°æ¥åŠ è½½ HTML æ¨¡æ¿ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªå‡½æ•°çš„ç”¨æ³•ï¼Œå¹¶ç»“åˆå®é™…é¡¹ç›®éœ€æ±‚ï¼Œæ¢è®¨å¦‚ä½•æ›´çµæ´»åœ°åŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼Œç‰¹åˆ«æ˜¯å½“æ¨¡æ¿æ–‡ä»¶åˆ†å¸ƒåœ¨å¤šä¸ªå­æ–‡ä»¶å¤¹ä¸­æ—¶ã€‚</p>
<h2 data-id="heading-0">1.Â <code>LoadHTMLGlob</code>Â å‡½æ•°</h2>
<p><code>LoadHTMLGlob</code>Â å‡½æ•°ç”¨äºæ ¹æ®é€šé…ç¬¦æ¨¡å¼åŠ è½½æ¨¡æ¿æ–‡ä»¶ã€‚å®ƒçš„ç­¾åå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(engine *Engine)</span></span> LoadHTMLGlob(pattern <span class="hljs-type">string</span>)
</code></pre>
<h3 data-id="heading-1">ç”¨æ³•ç¤ºä¾‹</h3>
<pre><code class="hljs language-css" lang="css">r := gin.<span class="hljs-built_in">Default</span>()
r.<span class="hljs-built_in">LoadHTMLGlob</span>(<span class="hljs-string">"templates/*"</span>)
</code></pre>
<h3 data-id="heading-2">ç‰¹ç‚¹</h3>
<ul>
<li><strong>ä¸€æ¬¡è°ƒç”¨</strong>ï¼š<code>LoadHTMLGlob</code>Â <strong>åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œå¤šæ¬¡è°ƒç”¨æ—¶åªæœ‰æœ€åä¸€æ¬¡è°ƒç”¨ç”Ÿæ•ˆã€‚</strong></li>
<li><strong>é€šé…ç¬¦æ¨¡å¼</strong>ï¼šæ”¯æŒé€šé…ç¬¦æ¨¡å¼ï¼Œå¯ä»¥ä¸€æ¬¡æ€§åŠ è½½å¤šä¸ªæ–‡ä»¶ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šé€‚ç”¨äºæ¨¡æ¿æ–‡ä»¶ä½äºåŒä¸€ç›®å½•ä¸‹çš„æƒ…å†µã€‚</li>
</ul>
<h3 data-id="heading-3">ç¤ºä¾‹</h3>
<p>å‡è®¾æ¨¡æ¿æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">web/
â””â”€â”€ templates/
<span class="hljs-code">    â”œâ”€â”€ index.html
    â””â”€â”€ user/
        â””â”€â”€ profile.html
</span></code></pre>
<p>ä½¿ç”¨Â <code>LoadHTMLGlob</code>Â åŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">r.<span class="hljs-built_in">LoadHTMLGlob</span>(<span class="hljs-string">"web/templates/**/*"</span>)
</code></pre>
<h3 data-id="heading-4">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>é€šé…ç¬¦æ¨¡å¼éœ€è¦æ­£ç¡®è®¾ç½®ï¼Œå¦åˆ™å¯èƒ½æ— æ³•åŠ è½½æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶ã€‚</li>
<li><strong>åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œå¤šæ¬¡è°ƒç”¨æ—¶åªæœ‰æœ€åä¸€æ¬¡ç”Ÿæ•ˆ</strong>ã€‚</li>
</ul>
<h2 data-id="heading-5">2.Â <code>LoadHTMLFiles</code>Â å‡½æ•°</h2>
<p><code>LoadHTMLFiles</code>Â å‡½æ•°ç”¨äºåŠ è½½æŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶ã€‚å®ƒçš„ç­¾åå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(engine *Engine)</span></span> LoadHTMLFiles(files ...<span class="hljs-type">string</span>)
</code></pre>
<h3 data-id="heading-6">ç”¨æ³•ç¤ºä¾‹</h3>
<pre><code class="hljs language-css" lang="css">r := gin.<span class="hljs-built_in">Default</span>()
r.<span class="hljs-built_in">LoadHTMLFiles</span>(<span class="hljs-string">"templates/index.html"</span>, <span class="hljs-string">"templates/user/profile.html"</span>)
</code></pre>
<h3 data-id="heading-7">ç‰¹ç‚¹</h3>
<ul>
<li><strong>å¤šæ¬¡è°ƒç”¨</strong>ï¼šå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåŠ è½½æ–°çš„æ¨¡æ¿æ–‡ä»¶ã€‚</li>
<li><strong>æŒ‡å®šæ–‡ä»¶</strong>ï¼šéœ€è¦æ˜ç¡®æŒ‡å®šæ¯ä¸ªæ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šé€‚ç”¨äºæ¨¡æ¿æ–‡ä»¶åˆ†å¸ƒåœ¨å¤šä¸ªç›®å½•ä¸‹çš„æƒ…å†µã€‚</li>
</ul>
<h3 data-id="heading-8">ç¤ºä¾‹</h3>
<p>å‡è®¾æ¨¡æ¿æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">web/
â””â”€â”€ templates/
<span class="hljs-code">    â”œâ”€â”€ index.html
    â””â”€â”€ user/
        â””â”€â”€ profile.html
</span></code></pre>
<p>ä½¿ç”¨Â <code>LoadHTMLFiles</code>Â åŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> tplFiles []<span class="hljs-type">string</span>
filepath.WalkDir(<span class="hljs-string">"./web/templates"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(path <span class="hljs-type">string</span>, d fs.DirEntry, err <span class="hljs-type">error</span>)</span></span> <span class="hljs-type">error</span> {
    <span class="hljs-keyword">if</span> d.IsDir() {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
    }
    tplFiles = <span class="hljs-built_in">append</span>(tplFiles, path)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
})
r.LoadHTMLFiles(tplFiles...)
</code></pre>
<h3 data-id="heading-9">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>éœ€è¦æ‰‹åŠ¨éå†ç›®å½•å¹¶æ”¶é›†æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</li>
<li>æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåŠ è½½æ–°çš„æ¨¡æ¿æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-10">ä¼˜åŒ–æ–¹æ¡ˆ</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨¡æ¿æ–‡ä»¶å¯èƒ½ä¼šåˆ†å¸ƒåœ¨å¤šä¸ªå­æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ç”¨Â <code>LoadHTMLGlob</code>Â å¯èƒ½æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚<code>LoadHTMLFiles</code>Â æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†éœ€è¦æ‰‹åŠ¨æ”¶é›†æ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼Œç»“åˆÂ <code>filepath.WalkDir</code>Â å’ŒÂ <code>LoadHTMLFiles</code>Â æ¥çµæ´»åŠ è½½æ¨¡æ¿æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-11">æ­¥éª¤</h3>
<ol>
<li><strong>éå†ç›®å½•</strong>ï¼šä½¿ç”¨Â <code>filepath.WalkDir</code>Â éå†æ¨¡æ¿ç›®å½•ï¼Œæ”¶é›†æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</li>
<li><strong>åŠ è½½æ¨¡æ¿</strong>ï¼šä½¿ç”¨Â <code>LoadHTMLFiles</code>Â åŠ è½½æ”¶é›†åˆ°çš„æ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</li>
</ol>
<h3 data-id="heading-12">å®ç°ä»£ç </h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"embed"</span>
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"path/filepath"</span>

    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)

<span class="hljs-comment">//go:embed web/templates</span>
<span class="hljs-keyword">var</span> templates embed.FS

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    r := gin.Default()

    <span class="hljs-comment">// æ”¶é›†æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶è·¯å¾„</span>
    <span class="hljs-keyword">var</span> tplFiles []<span class="hljs-type">string</span>
    err := filepath.WalkDir(<span class="hljs-string">"./web/templates"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(path <span class="hljs-type">string</span>, d fs.DirEntry, err <span class="hljs-type">error</span>)</span></span> <span class="hljs-type">error</span> {
        <span class="hljs-keyword">if</span> d.IsDir() {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        tplFiles = <span class="hljs-built_in">append</span>(tplFiles, path)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"Failed to walk templates directory: %v"</span>, err)
    }

    <span class="hljs-comment">// åŠ è½½æ¨¡æ¿æ–‡ä»¶</span>
    r.LoadHTMLFiles(tplFiles...)

    <span class="hljs-comment">// å®šä¹‰è·¯ç”±</span>
    r.GET(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
        c.HTML(http.StatusOK, <span class="hljs-string">"index.html"</span>, gin.H{
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Home Page"</span>,
        })
    })

    r.GET(<span class="hljs-string">"/user/profile"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
        c.HTML(http.StatusOK, <span class="hljs-string">"user/profile.html"</span>, gin.H{
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"User Profile"</span>,
        })
    })

    <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨</span>
    <span class="hljs-keyword">if</span> err := r.Run(<span class="hljs-string">":8080"</span>); err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"Failed to start server: %v"</span>, err)
    }
}
</code></pre>
<h3 data-id="heading-13">è¯¦ç»†è¯´æ˜</h3>
<ol>
<li>
<p><strong>éå†ç›®å½•</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Â <code>filepath.WalkDir</code>Â éå†Â <code>web/templates</code>Â ç›®å½•ï¼Œæ”¶é›†æ‰€æœ‰æ–‡ä»¶è·¯å¾„ã€‚</li>
<li><code>filepath.WalkDir</code>Â ä¼šé€’å½’åœ°éå†ç›®å½•ï¼Œç¡®ä¿æ‰€æœ‰å­ç›®å½•ä¸­çš„æ–‡ä»¶éƒ½è¢«æ”¶é›†ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŠ è½½æ¨¡æ¿</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Â <code>r.LoadHTMLFiles(tplFiles...)</code>Â åŠ è½½æ‰€æœ‰æ”¶é›†åˆ°çš„æ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</li>
<li><code>LoadHTMLFiles</code>Â å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä½†è¿™é‡Œåªè°ƒç”¨ä¸€æ¬¡ï¼Œç¡®ä¿æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶éƒ½è¢«åŠ è½½ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®šä¹‰è·¯ç”±</strong>ï¼š</p>
<ul>
<li>å®šä¹‰è·¯ç”±å¹¶æ¸²æŸ“æ¨¡æ¿ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-14">ä¼˜ç‚¹</h3>
<ul>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥åŠ è½½åˆ†å¸ƒåœ¨å¤šä¸ªå­æ–‡ä»¶å¤¹ä¸­çš„æ¨¡æ¿æ–‡ä»¶ã€‚</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ¨¡æ¿æ–‡ä»¶è·¯å¾„è‡ªåŠ¨æ”¶é›†ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šã€‚</li>
</ul>
<h3 data-id="heading-15">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>ç¡®ä¿æ¨¡æ¿æ–‡ä»¶è·¯å¾„æ­£ç¡®ã€‚</li>
<li>å¤§é‡æ¨¡æ¿æ–‡ä»¶æ—¶ï¼Œéå†å’ŒåŠ è½½å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå¯ä»¥è€ƒè™‘ç¼“å­˜æ¨¡æ¿æ–‡ä»¶ã€‚</li>
</ul>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p><code>LoadHTMLGlob</code>Â å’ŒÂ <code>LoadHTMLFiles</code>Â éƒ½æ˜¯ Gin æ¡†æ¶ä¸­ç”¨äºåŠ è½½ HTML æ¨¡æ¿çš„å‡½æ•°ï¼Œå„æœ‰ä¼˜ç¼ºç‚¹ã€‚<code>LoadHTMLGlob</code>Â é€‚ç”¨äºæ¨¡æ¿æ–‡ä»¶ä½äºåŒä¸€ç›®å½•ä¸‹çš„æƒ…å†µï¼Œè€ŒÂ <code>LoadHTMLFiles</code>Â æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œé€‚ç”¨äºæ¨¡æ¿æ–‡ä»¶åˆ†å¸ƒåœ¨å¤šä¸ªç›®å½•ä¸­çš„æƒ…å†µã€‚é€šè¿‡ç»“åˆÂ <code>filepath.WalkDir</code>Â å’ŒÂ <code>LoadHTMLFiles</code>ï¼Œå¯ä»¥æ›´çµæ´»åœ°åŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼Œæ»¡è¶³å¤æ‚é¡¹ç›®çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§†è§‰åˆ†å±‚ï¼Œå¯¹äººå·¥ç¥ç»ç½‘ç»œçš„å¯ç¤º]]></title>    <link>https://juejin.cn/post/7573855399717306387</link>    <guid>https://juejin.cn/post/7573855399717306387</guid>    <pubDate>2025-11-18T09:39:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399717306387" data-draft-id="7573863952116318214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§†è§‰åˆ†å±‚ï¼Œå¯¹äººå·¥ç¥ç»ç½‘ç»œçš„å¯ç¤º"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-18T09:39:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§†è§‰åˆ†å±‚ï¼Œå¯¹äººå·¥ç¥ç»ç½‘ç»œçš„å¯ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:39:03.000Z" title="Tue Nov 18 2025 09:39:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>äººè„‘è§†è§‰ç³»ç»Ÿçš„å±‚æ¬¡åŒ–å¤„ç†æ¨¡å‹ä¸ºäººå·¥ç¥ç»ç½‘ç»œï¼ˆå°¤å…¶æ˜¯è®¡ç®—æœºè§†è§‰å’ŒAGIï¼‰çš„å‘å±•æä¾›äº†è‡³å…³é‡è¦çš„å€Ÿé‰´è·¯çº¿å›¾ã€æ‰¹åˆ¤æ€§é•œå­å’Œçµæ„Ÿæºæ³‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„å€Ÿé‰´æ„ä¹‰ï¼š</p>
<h3 data-id="heading-0">1. æ ¸å¿ƒæ¶æ„å¯ç¤ºï¼šå±‚æ¬¡åŒ–ä¸æ¨¡å—åŒ–</h3>
<p><strong>äººè„‘çš„å¯ç¤º</strong>ï¼šè§†è§‰é€šè·¯æ˜¯æ¸…æ™°çš„å±‚æ¬¡åŒ–ç»“æ„ï¼ˆV1 -&gt; V2 -&gt; V4 -&gt; IT...ï¼‰ï¼Œä¸”å­˜åœ¨ä¸€å®šç¨‹åº¦çš„æ¨¡å—åŒ–ï¼ˆå¦‚é¢å­”åŒºã€æ–‡å­—åŒºï¼‰ã€‚</p>
<p><strong>å¯¹ANNçš„å€Ÿé‰´</strong>ï¼š</p>
<ul>
<li><strong>æ·±åº¦å·ç§¯ç½‘ç»œçš„æˆåŠŸ</strong>ï¼šCNNçš„â€œå·ç§¯å±‚ -&gt; æ± åŒ–å±‚ -&gt; å…¨è¿æ¥å±‚â€ç»“æ„æœ¬èº«å°±æ˜¯å¯¹å¤§è„‘å±‚æ¬¡åŒ–å¤„ç†çš„æœ€ç›´æ¥è‡´æ•¬ã€‚æµ…å±‚ç½‘ç»œå­¦ä¹ è¾¹ç¼˜ã€çº¹ç†ç­‰é€šç”¨ç‰¹å¾ï¼Œæ·±å±‚ç½‘ç»œå­¦ä¹ æ›´æŠ½è±¡çš„ç‰¹å¾ï¼ˆå¦‚è½¦è½®ã€çœ¼ç›ï¼‰ã€‚</li>
<li><strong>è¶…è¶Šâ€œç«¯åˆ°ç«¯â€çš„é»‘ç®±</strong>ï¼šå½“å‰å¾ˆå¤šæ¨¡å‹æ˜¯å•ä¸€ä»»åŠ¡çš„â€œç«¯åˆ°ç«¯â€å­¦ä¹ ã€‚å¤§è„‘å‘Šè¯‰æˆ‘ä»¬ï¼Œ<strong>æ„å»ºä¸€äº›ä¸“é—¨åŒ–çš„â€œå­ç³»ç»Ÿâ€å¯èƒ½æ›´é«˜æ•ˆ</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨é€šç”¨è§†è§‰æ¨¡å‹ä¹‹ä¸Šï¼Œå¾®è°ƒå‡ºç”¨äºåŒ»ç–—å½±åƒã€è‡ªåŠ¨é©¾é©¶ã€å·¥ä¸šè´¨æ£€çš„ä¸“ç”¨æ¨¡å—ï¼Œè¿™ç±»ä¼¼äºå¤§è„‘åœ¨é€šç”¨ç‰©ä½“è¯†åˆ«åŒºæ—â€œé•¿å‡ºâ€äº†é¢å­”è¯†åˆ«åŒºã€‚</li>
<li><strong>é€šå‘AGIçš„è·¯å¾„</strong>ï¼šè¦å®ç°é€šç”¨äººå·¥æ™ºèƒ½ï¼Œä¸èƒ½åªé ä¸€ä¸ªå·¨å‹ç½‘ç»œã€‚å¯èƒ½éœ€è¦ä¸€ä¸ªç”±å¤šä¸ªä¸“é—¨åŒ–ã€å±‚æ¬¡åŒ–çš„å­ç³»ç»Ÿç»„æˆçš„â€œè”ç›Ÿâ€ï¼Œå°±åƒå¤§è„‘æœ‰ä¸åŒçš„è§†è§‰æµï¼ˆè…¹ä¾§é€šè·¯â€œæ˜¯ä»€ä¹ˆâ€ï¼ŒèƒŒä¾§é€šè·¯â€œåœ¨å“ªé‡Œâ€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-1">2. å¤„ç†ç­–ç•¥å¯ç¤ºï¼šä»é€šç”¨åˆ°ä¸“ç”¨ï¼Œä»æ— ç›‘ç£åˆ°æœ‰ç›‘ç£</h3>
<p><strong>äººè„‘çš„å¯ç¤º</strong>ï¼šå¤§è„‘çš„ä½çº§è§†è§‰çš®å±‚ï¼ˆå¦‚V1ï¼‰åœ¨å‡ºç”Ÿæ—¶å°±å…·å¤‡äº†ä¸€å®šçš„ç»“æ„ï¼Œå¯¹çº¿æ¡ã€æœå‘ç­‰æœ‰å…ˆå¤©åå¥½ã€‚éšåé€šè¿‡æµ·é‡çš„æ— ç›‘ç£å­¦ä¹ ï¼ˆå©´å„¿ä¸åœåœ°çœ‹ä¸–ç•Œï¼‰æ¥é”¤ç‚¼è¿™äº›è¿æ¥ï¼Œæœ€åæ‰ç”±æ–‡åŒ–æ•™è‚²ï¼ˆæœ‰ç›‘ç£å­¦ä¹ ï¼‰æ¥ç²¾ç»†è°ƒæ•´é«˜çº§åŒºåŸŸï¼ˆå¦‚æ–‡å­—è¯†åˆ«åŒºï¼‰ã€‚</p>
<p><strong>å¯¹ANNçš„å€Ÿé‰´</strong>ï¼š</p>
<ul>
<li><strong>é¢„è®­ç»ƒä¸è¿ç§»å­¦ä¹ </strong>ï¼šè¿™ç±»ä¼¼äºå¤§è„‘çš„â€œå…ˆå¤©ç»“æ„+æ— ç›‘ç£å­¦ä¹ â€ã€‚æˆ‘ä»¬å…ˆåœ¨æµ·é‡æ— æ ‡ç­¾æ•°æ®ï¼ˆå¦‚ImageNetï¼‰ä¸Šå¯¹æ¨¡å‹è¿›è¡Œé¢„è®­ç»ƒï¼Œè®©å®ƒå­¦ä¹ é€šç”¨çš„è§†è§‰ç‰¹å¾ï¼Œç„¶åå†ç”¨å°‘é‡æœ‰æ ‡ç­¾æ•°æ®å¯¹ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚åŒ»å­¦å½±åƒåˆ†ç±»ï¼‰è¿›è¡Œå¾®è°ƒã€‚è¿™æ­£æ˜¯å¤§è„‘ä»â€œå­¦ä¼šçœ‹â€åˆ°â€œçœ‹æ‡‚ç‰¹å®šä¸œè¥¿â€çš„ç¼©å½±ã€‚</li>
<li><strong>é‡è§†æ— ç›‘ç£/è‡ªç›‘ç£å­¦ä¹ </strong>ï¼šå¤§è„‘ä¸»è¦ä¾é æ— ç›‘ç£å­¦ä¹ ã€‚è¿™æ¿€åŠ±æˆ‘ä»¬å¤§åŠ›å‘å±•è‡ªç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œè®©æ¨¡å‹èƒ½ä»ä¸–ç•Œæœ¬èº«çš„ç»“æ„ä¸­å­¦ä¹ ï¼Œå‡å°‘å¯¹æ˜‚è´µäººå·¥æ ‡æ³¨æ•°æ®çš„ä¾èµ–ã€‚è¿™æ‰æ˜¯é€šå‘æ›´æ™ºèƒ½ç³»ç»Ÿçš„å…³é”®ã€‚</li>
</ul>
<h3 data-id="heading-2">3. ä¿¡æ¯æµå¯ç¤ºï¼šå‰é¦ˆä¸åé¦ˆçš„é—­ç¯</h3>
<p><strong>äººè„‘çš„å¯ç¤º</strong>ï¼šå¤§è„‘ä¸­çš„â€œå‰é¦ˆè¿æ¥â€è´Ÿè´£å¿«é€Ÿä¼ é€’ä¿¡æ¯ï¼Œä½†æ›´æœ‰å¤§é‡çš„æ˜¯â€œåé¦ˆè¿æ¥â€ã€‚é«˜çº§åŒºåŸŸä¼šä¸æ–­å‘ä½çº§åŒºåŸŸå‘é€ä¿¡å·ï¼Œè°ƒèŠ‚å…¶æ´»åŠ¨ã€‚è¿™å°±æ˜¯<strong>æ³¨æ„åŠ›æœºåˆ¶</strong>å’Œ<strong>é¢„æµ‹ç¼–ç </strong> çš„ç¥ç»åŸºç¡€ã€‚ä½ çœ‹åˆ°çš„ä¸ä»…æ˜¯ä½ çœ¼ç›æ”¶åˆ°çš„ï¼Œæ›´æ˜¯ä½ å¤§è„‘â€œé¢„æœŸâ€æ”¶åˆ°çš„ã€‚</p>
<p><strong>å¯¹ANNçš„å€Ÿé‰´</strong>ï¼š</p>
<ul>
<li><strong>æ³¨æ„åŠ›æœºåˆ¶çš„æ™®åŠ</strong>ï¼šTransformeræ¶æ„ä¸­çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶å’ŒCNNä¸­çš„æ³¨æ„åŠ›æ¨¡å—ï¼Œæ­£æ˜¯å¯¹è¿™ç§åé¦ˆè°ƒèŠ‚çš„æ¨¡æ‹Ÿã€‚å®ƒè®©æ¨¡å‹èƒ½å¤Ÿâ€œèšç„¦â€äºè¾“å…¥ä¸­æ›´é‡è¦çš„éƒ¨åˆ†ï¼ŒåŠ¨æ€è°ƒæ•´å…¶å¤„ç†èµ„æºï¼Œæå¤§åœ°æå‡äº†æ€§èƒ½ã€‚</li>
<li><strong>ç”Ÿæˆå¼æ¨¡å‹ä¸é¢„æµ‹å­¦ä¹ </strong>ï¼šåƒGANsã€Diffusion Modelsè¿™æ ·çš„ç”Ÿæˆå¼æ¨¡å‹ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯è®©æ¨¡å‹å­¦ä¹ æ•°æ®çš„åˆ†å¸ƒï¼Œå¹¶èƒ½å¤Ÿâ€œé¢„æµ‹â€æˆ–â€œç”Ÿæˆâ€å®Œæ•´æ•°æ®ã€‚è¿™ç±»ä¼¼äºå¤§è„‘ä¸æ–­æ ¹æ®ä¸Šä¸‹æ–‡å’Œå…ˆéªŒçŸ¥è¯†å¯¹æ„Ÿå®˜è¾“å…¥è¿›è¡Œé¢„æµ‹å’Œè¡¥å…¨ã€‚æœªæ¥çš„æ„ŸçŸ¥æ¨¡å‹å¾ˆå¯èƒ½å°†æ˜¯â€œåˆ†æ-ç”Ÿæˆâ€ä¸€ä½“åŒ–çš„ã€‚</li>
</ul>
<h3 data-id="heading-3">4. å¤šæ¨¡æ€èåˆå¯ç¤ºï¼šè·¨æ¨¡æ€çš„æ·±åº¦èåˆ</h3>
<p><strong>äººè„‘çš„å¯ç¤º</strong>ï¼šå½“ä½ çœ‹åˆ°ä¸€ä¸ªè‹¹æœï¼Œä½ å¤§è„‘ä¸­å…³äºå®ƒçš„é¢œè‰²ã€å½¢çŠ¶ã€è§¦æ„Ÿã€å‘³é“ã€åç§°çš„ç¥ç»ç½‘ç»œä¼šåŒæ—¶æ¿€æ´»ã€‚è§†è§‰è¯†åˆ«ä¸æ˜¯å­¤ç«‹çš„ï¼Œå®ƒä¸è§¦è§‰ã€å¬è§‰ã€è¯­ä¹‰ã€æƒ…æ„Ÿè®°å¿†ç´§å¯†äº¤ç»‡ã€‚</p>
<p><strong>å¯¹ANNçš„å€Ÿé‰´</strong>ï¼š</p>
<ul>
<li><strong>å¤šæ¨¡æ€å¤§æ¨¡å‹æ˜¯æœªæ¥</strong>ï¼šCLIPæ¨¡å‹çš„æˆåŠŸè¯æ˜äº†è¿™ä¸€ç‚¹ã€‚é€šè¿‡å°†å›¾åƒå’Œæ–‡æœ¬åœ¨åŒä¸€ä¸ªåµŒå…¥ç©ºé—´ä¸­å¯¹é½ï¼Œæ¨¡å‹è·å¾—äº†å¼ºå¤§çš„é›¶æ ·æœ¬æ¨ç†èƒ½åŠ›ã€‚è¿™æ­£æ˜¯å¯¹å¤§è„‘â€œæ¦‚å¿µç³»ç»Ÿâ€çš„æ¨¡ä»¿ï¼Œä¸€ä¸ªè‹¹æœçš„è§†è§‰è¡¨è±¡å’Œâ€œappleâ€è¿™ä¸ªè¯ä¹‰ï¼Œåœ¨å¤§è„‘ä¸­æ˜¯æŒ‡å‘åŒä¸€ä¸ªæ¦‚å¿µçš„ã€‚</li>
<li><strong>ç¬¦å·ä¸æ„ŸçŸ¥çš„ç»“åˆ</strong>ï¼šçº¯è¿æ¥ä¸»ä¹‰æ¨¡å‹ï¼ˆå¦‚ANNï¼‰åœ¨å¤„ç†æŠ½è±¡æ¨ç†å’Œç¬¦å·é€»è¾‘ä¸Šä»æœ‰å›°éš¾ã€‚å¤§è„‘åˆ™å®Œç¾åœ°å°†äºšç¬¦å·çš„æ„ŸçŸ¥ï¼ˆä¸€ä¸ªçº¢è‰²çš„åœ†å½¢ç‰©ä½“ï¼‰ä¸ç¬¦å·åŒ–çš„æ¦‚å¿µï¼ˆâ€œè‹¹æœâ€ã€â€œé£Ÿç‰©â€ï¼‰ç»“åˆåœ¨ä¸€èµ·ã€‚è¿™æç¤ºæˆ‘ä»¬ï¼Œ<strong>ä¸‹ä¸€ä»£AIå¯èƒ½éœ€è¦è¿æ¥ä¸»ä¹‰ä¸ç¬¦å·ä¸»ä¹‰çš„æ–°èåˆ</strong>ã€‚</li>
</ul>
<h3 data-id="heading-4">5. å¯¹â€œç¾â€çš„ç†è§£çš„å¯ç¤ºï¼šæ„å»ºä»·å€¼ç³»ç»Ÿ</h3>
<p><strong>äººè„‘çš„å¯ç¤º</strong>ï¼šâ€œç¾â€çš„åˆ¤æ–­æ˜¯ä¸€ä¸ªå¤šå› ç´ è¯„ä¼°ç³»ç»Ÿï¼Œæ¶‰åŠæœ¬èƒ½ã€å­¦ä¹ ã€æƒ…æ„Ÿå’Œæ–‡åŒ–çš„å¤æ‚äº’åŠ¨ã€‚</p>
<p><strong>å¯¹ANNçš„å€Ÿé‰´</strong>ï¼š</p>
<ul>
<li><strong>è¶…è¶Šåˆ†ç±»å’Œæ£€æµ‹</strong>ï¼šå½“å‰AIçš„ç›®æ ‡å‡½æ•°å¤šæ˜¯â€œå‡†ç¡®åˆ†ç±»â€ã€â€œç²¾ç¡®æ£€æµ‹â€ã€‚ä½†è¦å®ç°æ›´é«˜çº§çš„æ™ºèƒ½ï¼ˆå¦‚å…·èº«AIã€åˆ›æ„AIï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå®ƒä»¬å¼•å…¥<strong>å†…åœ¨åŠ¨æœºå’Œä»·å€¼ç³»ç»Ÿ</strong>ã€‚</li>
<li><strong>AIè‰ºæœ¯ä¸è¯„ä¼°</strong>ï¼šæˆ‘ä»¬èƒ½å¦è®­ç»ƒä¸€ä¸ªAIæ¥è¯„ä¼°â€œç¾æ„Ÿâ€ï¼Ÿè¿™éœ€è¦ä¸ºå®ƒæä¾›ä¸ä»…ä»…æ˜¯ç‰©ä½“æ ‡ç­¾çš„æ•°æ®ï¼Œè€Œæ˜¯èåˆäº†å¯¹ç§°æ€§ã€è‰²å½©å’Œè°ã€æ–‡åŒ–è¯­å¢ƒã€ç”šè‡³æƒ…æ„Ÿå…±é¸£çš„å¤æ‚è®­ç»ƒç›®æ ‡ã€‚è¿™å®é™…ä¸Šæ˜¯å°è¯•å°†äººç±»çš„â€œä»·å€¼åˆ¤æ–­â€æœºåˆ¶éƒ¨åˆ†åœ°ç¼–ç åˆ°æ¨¡å‹ä¸­ã€‚</li>
</ul>
<h3 data-id="heading-5">æ€»ç»“ä¸æŒ‘æˆ˜</h3>

































<table><thead><tr><th align="left">äººè„‘ç‰¹æ€§</th><th align="left">å¯¹äººå·¥ç¥ç»ç½‘ç»œçš„å€Ÿé‰´ä¸æŒ‘æˆ˜</th></tr></thead><tbody><tr><td align="left"><strong>å±‚æ¬¡åŒ–ä¸æ¨¡å—åŒ–</strong></td><td align="left">æ·±åº¦ç½‘ç»œçš„æˆåŠŸï¼›éœ€å‘å±•æ›´çµæ´»çš„æ¨¡å—åŒ–æ¶æ„ã€‚</td></tr><tr><td align="left"><strong>æ— ç›‘ç£å­¦ä¹ ä¸ºä¸»</strong></td><td align="left">éœ€å¤§åŠ›å‘å±•è‡ªç›‘ç£å­¦ä¹ ï¼Œå‡å°‘å¯¹æ ‡æ³¨æ•°æ®çš„ä¾èµ–ã€‚</td></tr><tr><td align="left"><strong>å¼ºå¤§çš„åé¦ˆè¿æ¥</strong></td><td align="left">å¼•å…¥æ³¨æ„åŠ›æœºåˆ¶ã€é¢„æµ‹ç¼–ç ï¼Œæ„å»ºåˆ†æ-ç”Ÿæˆä¸€ä½“åŒ–æ¨¡å‹ã€‚</td></tr><tr><td align="left"><strong>å¤šæ¨¡æ€æ·±åº¦èåˆ</strong></td><td align="left">å‘å±•å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼Œæ¢ç´¢ç¬¦å·ä¸æ„ŸçŸ¥çš„ç»“åˆã€‚</td></tr><tr><td align="left"><strong>å…·èº«ä¸äº’åŠ¨</strong></td><td align="left">AIéœ€è¦ä¸ä¸–ç•Œäº’åŠ¨ï¼Œæ‰èƒ½è·å¾—çœŸæ­£çš„â€œç†è§£â€ã€‚</td></tr><tr><td align="left"><strong>ä»·å€¼ä¸æƒ…æ„Ÿç³»ç»Ÿ</strong></td><td align="left">ä¸ºé«˜çº§AIæ„å»ºå†…åœ¨åŠ¨æœºå’Œä»·å€¼åˆ¤æ–­ç³»ç»Ÿã€‚</td></tr></tbody></table>
<p><strong>æœ€ç»ˆï¼Œäººè„‘ç»™æˆ‘ä»¬çš„æœ€å¤§å¯ç¤ºæ˜¯ï¼šæ™ºèƒ½ä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„â€œè¯†åˆ«â€ä»»åŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªç”±æ„ŸçŸ¥ã€è¡ŒåŠ¨ã€è®°å¿†ã€æƒ…æ„Ÿå’Œä»·å€¼åˆ¤æ–­ç´§å¯†äº¤ç»‡è€Œæˆçš„ã€ä¸ç¯å¢ƒæŒç»­äº’åŠ¨çš„åŠ¨æ€è¿‡ç¨‹ã€‚</strong> å½“å‰çš„äººå·¥ç¥ç»ç½‘ç»œåœ¨â€œæ„ŸçŸ¥â€çš„æŸäº›æ–¹é¢å·²ç»å–å¾—äº†æƒŠäººæˆå°±ï¼Œä½†åœ¨èµ°å‘æ›´é€šç”¨æ™ºèƒ½çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬å¿…é¡»å€Ÿé‰´å¤§è„‘çš„è¿™ç§æ•´ä½“æ€§ã€äº’åŠ¨æ€§å’Œä»·å€¼å¯¼å‘æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSSå¥‡æŠ€æ·«å·§ï¼šç”¨ä½ æ„æƒ³ä¸åˆ°çš„4ç§å±æ€§å®ç°è£å‰ªé®ç½©æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7573680361990602792</link>    <guid>https://juejin.cn/post/7573680361990602792</guid>    <pubDate>2025-11-18T09:40:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573680361990602792" data-draft-id="7566537463567810600" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSSå¥‡æŠ€æ·«å·§ï¼šç”¨ä½ æ„æƒ³ä¸åˆ°çš„4ç§å±æ€§å®ç°è£å‰ªé®ç½©æ•ˆæœ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T09:40:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€è¯ºæ»šé›ªçƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2824015112318094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSSå¥‡æŠ€æ·«å·§ï¼šç”¨ä½ æ„æƒ³ä¸åˆ°çš„4ç§å±æ€§å®ç°è£å‰ªé®ç½©æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2824015112318094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€è¯ºæ»šé›ªçƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:40:33.000Z" title="Tue Nov 18 2025 09:40:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨å…¬å¸å¼€å‘å›¾ç‰‡è£å‰ªåŠŸèƒ½æ—¶ï¼Œéœ€è¦å®ç°ä¸€ä¸ªè£å‰ªæ¡†æ•ˆæœï¼šé€‰ä¸­åŒºåŸŸæ¸…æ™°æ˜¾ç¤ºï¼Œè€Œå‘¨å›´åŒºåŸŸç”¨åŠé€æ˜é®ç½©è¦†ç›–ã€‚æ­£å¸¸æˆ‘å®ç°ä¼šç”¨4ä¸ªdivåˆ†åˆ«ç›–ä½ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªåŒºåŸŸç”¨äºè£å‰ªæ¡†å‘¨å›´çš„é®ç½©ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å‡ ç§çº¯CSSå®ç°çš„å·§å¦™å®ç°æ–¹æ¡ˆï¼Œä¸»è¦å†…å®¹æœ‰ï¼š</p>
<ol>
<li>box-shadow é˜´å½±æ–¹æ³•</li>
<li>outline è½®å»“æ³•</li>
<li>clip-path è£å‰ªæ–¹æ³•</li>
<li>background æ¸å˜æ–¹æ³•</li>
</ol>
<p>å±•ç¤ºçš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc83681b2577489598c9f143929bd2af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA6K-65rua6Zuq55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764063633&amp;x-signature=ox%2FordQ53Rkxc%2BstSEbwr92EkEM%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸‹æ¯ç§æ–¹å¼çš„å®ç°ã€‚</p>
<h2 data-id="heading-1">1. box-shadow æ–¹æ³•</h2>
<p>åŸç†æ˜¯åˆ©ç”¨ box-shadow çš„æ‰©æ•£åŠå¾„ç‰¹æ€§ï¼Œè®¾ç½®ä¸€ä¸ªè¶…å¤§çš„é˜´å½±è¦†ç›–æ•´ä¸ªç”»å¸ƒã€‚ ä¼˜ç‚¹æ˜¯ï¼šä»£ç é‡æœ€å°‘ï¼Œåªéœ€ä¸€è¡ŒCSSï¼Œå®ç°ç®€å•ã€‚</p>
<pre><code class="hljs language-js" lang="js">.<span class="hljs-property">crop</span>-box {
  box-<span class="hljs-attr">shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> 9999px <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
}
</code></pre>
<h2 data-id="heading-2">2. outline æ–¹æ³•</h2>
<p>åŸç†å’Œbox-shadow ç±»ä¼¼ï¼Œä½¿ç”¨è¶…å¤§çš„ outline å®ç°é®ç½©ã€‚
outlineï¼ˆè½®å»“ï¼‰ä¸borderç±»ä¼¼ï¼Œä½†ä¸å ç”¨æ–‡æ¡£æµç©ºé—´ï¼Œä¸”ä¸ä¼šå½±å“å…ƒç´ å°ºå¯¸ã€‚é€šè¿‡è¶…å¤§outlineè¦†ç›–éè£å‰ªåŒºåŸŸï¼Œå®ç°é®ç½©æ•ˆæœã€‚</p>
<pre><code class="hljs language-js" lang="js">.<span class="hljs-property">crop</span>-box {
  <span class="hljs-attr">outline</span>: 9999px solid <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
}
</code></pre>
<h2 data-id="heading-3">3. ä¼ªå…ƒç´  + clip-path æ–¹æ³•</h2>
<p>åŸç†æ˜¯ä½¿ç”¨ ::before ä¼ªå…ƒç´ åˆ›å»ºé®ç½©ï¼Œé€šè¿‡ clip-path çš„ polygon è£å‰ªå‡ºä¸­é—´é•‚ç©ºåŒºåŸŸã€‚</p>
<pre><code class="hljs language-js" lang="js">  .<span class="hljs-property">wrapper</span>::before {
      <span class="hljs-attr">content</span>: <span class="hljs-string">''</span>;
      <span class="hljs-attr">background</span>: <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
      clip-<span class="hljs-attr">path</span>: <span class="hljs-title function_">polygon</span>(
          <span class="hljs-number">0</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span> <span class="hljs-number">100</span>%, 50px <span class="hljs-number">100</span>%, 50px 50px,
          250px 50px, 250px 200px, 50px 200px,
          50px <span class="hljs-number">100</span>%, <span class="hljs-number">100</span>% <span class="hljs-number">100</span>%, <span class="hljs-number">100</span>% <span class="hljs-number">0</span>
      );
  }
</code></pre>
<h2 data-id="heading-4">4. background æ¸å˜æ–¹æ³•</h2>
<p>åŸç†æ˜¯ä½¿ç”¨ linear-gradient åˆ›å»ºåå­—äº¤å‰çš„æ¸å˜é®ç½©ã€‚åˆ©ç”¨çº¿æ€§æ¸å˜ï¼ˆlinear-gradientï¼‰çš„â€œé¢œè‰²æ–­å±‚â€ç‰¹æ€§ï¼Œç”Ÿæˆå››å®«æ ¼çŠ¶çš„é®ç½©æ•ˆæœï¼Œéè£å‰ªåŒºåŸŸç”¨åŠé€æ˜è‰²è¦†ç›–ï¼Œç›®æ ‡åŒºåŸŸä¸ºé€æ˜ã€‚</p>
<pre><code class="hljs language-js" lang="js">.<span class="hljs-property">wrapper</span> {
    <span class="hljs-attr">position</span>: absolute;
    <span class="hljs-attr">inset</span>: <span class="hljs-number">0</span>;
    background-<span class="hljs-attr">image</span>:
        <span class="hljs-comment">/* ä¸Šæ–¹é®ç½© */</span>
        linear-<span class="hljs-title function_">gradient</span>(<span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>), <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>)),
        <span class="hljs-comment">/* ä¸‹æ–¹é®ç½© */</span>
        linear-<span class="hljs-title function_">gradient</span>(<span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>), <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>)),
        <span class="hljs-comment">/* å·¦ä¾§é®ç½© */</span>
        linear-<span class="hljs-title function_">gradient</span>(<span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>), <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>)),
        <span class="hljs-comment">/* å³ä¾§é®ç½© */</span>
        linear-<span class="hljs-title function_">gradient</span>(<span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>), <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>));
    background-<span class="hljs-attr">size</span>:
        <span class="hljs-number">100</span>% 50px,      <span class="hljs-comment">/* ä¸Šæ–¹ */</span>
        <span class="hljs-number">100</span>% <span class="hljs-title function_">calc</span>(<span class="hljs-number">100</span>% - 200px), <span class="hljs-comment">/* ä¸‹æ–¹ */</span>
        50px 150px,     <span class="hljs-comment">/* å·¦ä¾§ */</span>
        <span class="hljs-title function_">calc</span>(<span class="hljs-number">100</span>% - 250px) 150px; <span class="hljs-comment">/* å³ä¾§ */</span>
    background-<span class="hljs-attr">position</span>:
        <span class="hljs-number">0</span> <span class="hljs-number">0</span>,            <span class="hljs-comment">/* ä¸Šæ–¹ */</span>
        <span class="hljs-number">0</span> 200px,        <span class="hljs-comment">/* ä¸‹æ–¹ */</span>
        <span class="hljs-number">0</span> 50px,         <span class="hljs-comment">/* å·¦ä¾§ */</span>
        250px 50px;     <span class="hljs-comment">/* å³ä¾§ */</span>
    background-<span class="hljs-attr">repeat</span>: no-repeat;
    pointer-<span class="hljs-attr">events</span>: none;
}

</code></pre>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>æœ€åæ€»ç»“ä¸€ä¸‹ï¼šå®ç°è£å‰ªæ¡†é®ç½©æ•ˆæœæœ‰å¤šç§æ–¹æ¡ˆ,åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨èä½¿ç”¨ box-shadow æ–¹æ³•ï¼Œç®€å•é«˜æ•ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«ç»ˆç«¯ä½æ•ˆï¼Œ10ä¸ªè®©åŒäº‹ç›´å‘¼å§æ§½çš„å°æŠ€å·§]]></title>    <link>https://juejin.cn/post/7573988811916017714</link>    <guid>https://juejin.cn/post/7573988811916017714</guid>    <pubDate>2025-11-18T09:48:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573988811916017714" data-draft-id="7573899782802440238" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«ç»ˆç«¯ä½æ•ˆï¼Œ10ä¸ªè®©åŒäº‹ç›´å‘¼å§æ§½çš„å°æŠ€å·§"/> <meta itemprop="keywords" content="åç«¯,å‘½ä»¤è¡Œ"/> <meta itemprop="datePublished" content="2025-11-18T09:48:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/64217584778579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«ç»ˆç«¯ä½æ•ˆï¼Œ10ä¸ªè®©åŒäº‹ç›´å‘¼å§æ§½çš„å°æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/64217584778579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:48:09.000Z" title="Tue Nov 18 2025 09:48:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ IDE æ¨ªè¡Œçš„ä»Šå¤©ï¼Œæˆ‘ä»¬è¿™äº›ç¨‹åºå‘˜ä¾ç„¶éœ€è¦è·Ÿç»ˆç«¯æ‰“äº¤é“ï¼Œä¸‰äº”å¹´ä¸‹æ¥ï¼Œè°è¿˜æ²¡è¸©è¿‡ä¸€äº›å‘ï¼Œåˆæˆ–è€…è‡ªå·±ç¢ç£¨å‡ºä¸€äº›èƒ½è®©æ•ˆç‡èµ·é£çš„å°çªé—¨å‘¢ï¼Ÿ</p>
<p>ä»Šå¤©ä¸èŠé‚£äº› <code>ls -la</code> æ¯” <code>ls</code> å¥½ç”¨ä¹‹ç±»çš„åŸºç¡€çŸ¥è¯†ï¼Œåªåˆ†äº«é‚£äº›çœŸæ­£æ”¹å˜æˆ‘å·¥ä½œæµã€ç”šè‡³è®©æ—è¾¹åŒäº‹å¿ä¸ä½æ¢è¿‡å¤´æ¥é—®â€œå“¥ä»¬ï¼Œä½ è¿™æ‰‹é€Ÿæ²¡å•èº«30å¹´ç»ƒä¸ä¸‹æ¥å§â€çš„å®æˆ˜æŠ€å·§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e28acc21c0c44b3b8d9d20be99840c43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064858&amp;x-signature=eaHurpyHPqlEfwxvIvtgxbAYC7Y%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-0">å¿«é€Ÿå®šä½ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆ</h3>
<p>æœåŠ¡å™¨æˆ–è€…è‡ªå·±ç”µè„‘çªç„¶å˜å¡ï¼Œå¾—å¿«é€ŸçŸ¥é“æ˜¯è°åœ¨æ£é¬¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å“ªä¸ªç›®å½•æœ€å ç¡¬ç›˜ç©ºé—´ï¼ˆåªçœ‹å½“å‰ç›®å½•ä¸‹ä¸€çº§ï¼‰</span>
<span class="hljs-built_in">du</span> -ah --max-depth=1 | <span class="hljs-built_in">sort</span> -rh | <span class="hljs-built_in">head</span> -n 10

<span class="hljs-comment"># æŒ‰ CPU ä½¿ç”¨ç‡åˆ—å‡ºæ’åå‰ 10 çš„è¿›ç¨‹</span>
ps aux --<span class="hljs-built_in">sort</span>=-%cpu | <span class="hljs-built_in">head</span> -n 11

<span class="hljs-comment"># æŒ‰å†…å­˜ä½¿ç”¨ç‡åˆ—å‡ºæ’åå‰ 10 çš„è¿›ç¨‹</span>
ps aux --<span class="hljs-built_in">sort</span>=-%mem | <span class="hljs-built_in">head</span> -n 11
</code></pre>
<h3 data-id="heading-1">ç¯å¢ƒå’Œé…ç½®ç®¡ç†ï¼Ÿäº¤ç»™ä¸“ä¸šçš„æ¥</h3>
<p>ä»¥å‰ï¼Œç®¡ç†æœ¬åœ°å¼€å‘ç¯å¢ƒç®€ç›´æ˜¯ä¸€åœºç¾éš¾ã€‚ä¸€ä¼šå„¿è¦é… PHPï¼Œä¸€ä¼šå„¿åˆè¦å¼„ Node.jsï¼Œè¿˜å¾—è£…ä¸ª Pythonã€‚å„ç§ç¯å¢ƒå˜é‡ã€æ•°æ®åº“é…ç½®å†™åœ¨ <code>.bashrc</code> æˆ– <code>.zshrc</code> é‡Œï¼Œåƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è€åŠæ³•ï¼šç”¨å‡½æ•°åˆ‡æ¢ç¯å¢ƒ</span>
<span class="hljs-function"><span class="hljs-title">switch_env</span></span>() {
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> = <span class="hljs-string">"proj_a"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">export</span> DB_HOST=<span class="hljs-string">"localhost"</span>
        <span class="hljs-built_in">export</span> DB_PORT=<span class="hljs-string">"3306"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ‡æ¢åˆ°é¡¹ç›® A ç¯å¢ƒ"</span>
    <span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> = <span class="hljs-string">"proj_b"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">export</span> DB_HOST=<span class="hljs-string">"127.0.0.1"</span>
        <span class="hljs-built_in">export</span> DB_PORT=<span class="hljs-string">"5432"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ‡æ¢åˆ°é¡¹ç›® B ç¯å¢ƒ"</span>
    <span class="hljs-keyword">fi</span>
}
</code></pre>
<p>è¿™ç§æ–¹å¼æ‰‹åŠ¨ç»´æŠ¤èµ·æ¥å¾ˆéº»çƒ¦ï¼Œé¡¹ç›®ä¸€å¤šï¼Œé…ç½®æ–‡ä»¶å°±å˜å¾—ç‰¹åˆ«è‡ƒè‚¿ï¼Œåˆ‡æ¢èµ·æ¥ä¹Ÿå®¹æ˜“å‡ºé”™ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ—¶ä»£å˜äº†ï¼Œæœ‹å‹ä»¬ã€‚ç°åœ¨æˆ‘å¤„ç†æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œéƒ½ç”¨ ServBayã€‚</p>
<p>è¯·æ³¨æ„ï¼ŒServBayä¸æ˜¯å‘½ä»¤è¡Œå·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªé›†æˆçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com" target="_blank" title="https://www.servbay.com" ref="nofollow noopener noreferrer">æœ¬åœ°å¼€å‘ç¯å¢ƒå¹³å°</a>ã€‚å®ƒæŠŠç¨‹åºå‘˜å¸¸ç”¨çš„è¯­è¨€ï¼Œæ¯”å¦‚ PHPã€Node.jsã€Pythonã€Goã€Rust éƒ½æ‰“åŒ…å¥½äº†ï¼Œéœ€è¦å“ªä¸ªç‰ˆæœ¬ç‚¹ä¸€ä¸‹å°±è¡Œï¼Œå®Œå…¨ä¸ç”¨è‡ªå·±å»æŠ˜è…¾ç¼–è¯‘å’Œç¯å¢ƒå˜é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f229b9b0b3047bf80e51111c6cc3dcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064858&amp;x-signature=XZuUaSxfK%2BPVtpIb5MAIfMJbXlU%3D" alt="CleanShot 2025-11-18 at 18.00.15@2x.png" loading="lazy"/></p>
<p>æ•°æ®åº“ä¹Ÿä¸€æ ·ï¼Œæ— è®ºæ˜¯ SQLï¼ˆMySQL, PostgreSQLï¼‰è¿˜æ˜¯ NoSQLï¼ˆRedis, MongoDBï¼‰ï¼Œéƒ½ç»™ä½ å‡†å¤‡å¾—å¦¥å¦¥çš„ã€‚è€Œä¸”å®ƒæ”¯æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com" target="_blank" title="https://www.servbay.com" ref="nofollow noopener noreferrer">ä¸€é”®éƒ¨ç½²æœ¬åœ° AI</a>ï¼Œé€‚åˆvibe coderã€‚</p>
<p>ç”¨äº† ServBay ä¹‹åï¼Œä¸Šé¢é‚£äº›å¤æ‚çš„ç¯å¢ƒåˆ‡æ¢è„šæœ¬æˆ‘æ—©å°±åˆ äº†ã€‚æ‰€æœ‰ç¯å¢ƒå’Œé…ç½®ç®¡ç†éƒ½é€šè¿‡ä¸€ä¸ªæ¸…çˆ½çš„å›¾å½¢ç•Œé¢æå®šï¼Œæˆ‘å˜å¼ºäº†ï¼Œä¹Ÿå˜å¿«äº†ã€‚</p>
<h3 data-id="heading-2">ä¸€è¡Œæå®šç½‘ç»œè°ƒè¯•</h3>
<p>ç®€å•æµ‹è¯•ä¸€ä¸‹ç«¯å£é€šä¸é€šï¼Œæˆ–è€… API èƒ½ä¸èƒ½è®¿é—®ï¼Œå®Œå…¨æ²¡å¿…è¦æ‰“å¼€ Postman é‚£ä¹ˆé‡çš„å·¥å…·ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æœ¬åœ° 3306 ç«¯å£æ˜¯å¦å¼€æ”¾</span>
nc -zv 127.0.0.1 3306

<span class="hljs-comment"># å¿«é€Ÿç»™ API å‘é€ä¸€ä¸ª POST è¯·æ±‚</span>
curl -X POST http://localhost:8080/api/v1/users \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"username":"test","role":"admin"}'</span>
</code></pre>
<h3 data-id="heading-3">ç›®å½•é—´çš„é—ªè½¬è…¾æŒªï¼š<code>pushd</code> å’Œ <code>popd</code></h3>
<p>è¿˜åœ¨ç”¨ä¸€è¿ä¸²çš„ <code>cd ../../..</code> æ¥è¿”å›ä¹‹å‰çš„ç›®å½•å—ï¼Ÿé‚£ä¹Ÿå¤ªâ€œå¤å¤â€äº†ã€‚è¯•è¯•ç›®å½•æ ˆå§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½ å½“å‰åœ¨ /Users/me/workspace/project-a/src</span>
<span class="hljs-built_in">pushd</span> /etc/nginx/conf.d
<span class="hljs-comment"># è¿™æ—¶ä½ ç¬é—´ç§»åŠ¨åˆ°äº† Nginx é…ç½®ç›®å½•ï¼Œå¹¶ä¸”ç»ˆç«¯ä¼šè®°ä½ä½ æ¥çš„åœ°æ–¹</span>

<span class="hljs-comment"># åœ¨è¿™é‡ŒæŸ¥çœ‹å’Œä¿®æ”¹é…ç½®...</span>
vim default.conf

<span class="hljs-comment"># æå®šä¹‹åï¼Œæƒ³å›å»äº†ï¼Ÿ</span>
<span class="hljs-built_in">popd</span>
<span class="hljs-comment"># â€œå—–â€çš„ä¸€ä¸‹ï¼Œä½ åˆå›åˆ°äº† /Users/me/workspace/project-a/src</span>
</code></pre>
<p><code>pushd</code> å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼Œå®ƒä¼šæŠŠç›®å½•ä¸€ä¸ªä¸ªåœ°å‹å…¥ä¸€ä¸ªâ€œæ ˆâ€é‡Œã€‚å¯ä»¥ç”¨ <code>dirs -v</code> æŸ¥çœ‹è¿™ä¸ªæ ˆï¼Œç„¶åç”¨ <code>pushd +N</code> è·³åˆ°æŒ‡å®šçš„ç›®å½•ã€‚å¯¹äºéœ€è¦åœ¨å¤šä¸ªä¸ç›¸å…³çš„ç›®å½•ä¹‹é—´åå¤æ¨ªè·³çš„åœºæ™¯ï¼Œè¿™å°±æ˜¯å¤§æ€å™¨ã€‚</p>
<h3 data-id="heading-4">æ–‡ä»¶æ“ä½œçš„éªšæ“ä½œ</h3>
<p>ç”¨ <code>cp</code> å¤åˆ¶å¤§æ–‡ä»¶æ—¶ï¼Œçœ‹ç€å…‰æ ‡ä¸€åŠ¨ä¸åŠ¨ï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿæ›¾æ€€ç–‘è¿‡ç”µè„‘æ˜¯ä¸æ˜¯æ­»æœºäº†ï¼Ÿ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… rsync (macOS è‡ªå¸¦ï¼ŒLinux å¤§éƒ¨åˆ†ä¹Ÿè‡ªå¸¦)</span>
<span class="hljs-comment"># å¤åˆ¶æ–‡ä»¶å¹¶æ˜¾ç¤ºè¿›åº¦æ¡</span>
rsync -avh --progress source-large-file.zip /path/to/destination/
</code></pre>
<p>æŸ¥æ‰¾æ–‡ä»¶ï¼Œ<code>find</code> å‘½ä»¤å›ºç„¶å¼ºå¤§ï¼Œä½†å‚æ•°å¤æ‚å¾—åƒå’’è¯­ã€‚æˆ‘æ›´æ¨èç”¨ <code>fd</code>ï¼Œä¸€ä¸ªæ›´å¿«ã€æ›´å‹å¥½çš„æ›¿ä»£å“ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… fd (brew install fd / apt install fd-find)</span>
<span class="hljs-comment"># æŸ¥æ‰¾æ‰€æœ‰ tsx æ–‡ä»¶</span>
fd <span class="hljs-string">".tsx$"</span>

<span class="hljs-comment"># æŸ¥æ‰¾å¹¶åˆ é™¤æ‰€æœ‰ .log æ–‡ä»¶</span>
fd <span class="hljs-string">".log$"</span> --<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> {}
</code></pre>
<p>æ‰¹é‡é‡å‘½åæ–‡ä»¶ï¼Œä¹Ÿä¸ç”¨å†å†™å¤æ‚çš„è„šæœ¬äº†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯”å¦‚æŠŠæ‰€æœ‰çš„ .jpeg åç¼€æ”¹æˆ .jpg</span>
<span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> *.jpeg; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">mv</span> <span class="hljs-string">"<span class="hljs-variable">$img</span>"</span> <span class="hljs-string">"<span class="hljs-variable">${img%.jpeg}</span>.jpg"</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h3 data-id="heading-5">å†å²å‘½ä»¤çš„é­”æ³•ï¼š<code>!!</code> å’Œ <code>!$</code></h3>
<p>è¿™ä¸ªç»å¯¹æ˜¯æ‰‹æ®‹å…šå’Œå¥å¿˜ç—‡æ‚£è€…çš„è‰¯è¯ã€‚æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯ï¼Œåˆšæ•²äº†ä¸€ä¸ªéœ€è¦ç®¡ç†å‘˜æƒé™çš„å‘½ä»¤ï¼Œç„¶åâ€¦â€¦</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿¡å¿ƒæ»¡æ»¡åœ°åˆ›å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> /usr/local/my-app
<span class="hljs-comment"># å¾—åˆ°ä¸€ä¸ªå†·å†°å†°çš„ "Permission denied"</span>

<span class="hljs-comment"># è¿™æ—¶å€™åˆ«å‚»ä¹ä¹åœ°é‡æ•²ä¸€éï¼Œä¼˜é›…åœ°è¾“å…¥ï¼š</span>
sudo !!
<span class="hljs-comment"># è¿™è¡Œå‘½ä»¤ä¼šè‡ªåŠ¨å±•å¼€æˆï¼šsudo mkdir /usr/local/my-app</span>
</code></pre>
<p><code>!!</code> ä»£è¡¨ä¸Šä¸€æ¡å®Œæ•´çš„å‘½ä»¤ã€‚è€Œ <code>!$</code> åˆ™æ›´ç²¾å¦™ï¼Œå®ƒä»£è¡¨ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè—å¾—å¾ˆæ·±çš„é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p projects/a-very-long/and-nested/project-name

<span class="hljs-comment"># ç´§æ¥ç€ï¼Œæƒ³è¿›å…¥è¿™ä¸ªç›®å½•</span>
<span class="hljs-built_in">cd</span> !$
<span class="hljs-comment"># æ˜¯çš„ï¼Œå®ƒä¼šè‡ªåŠ¨å±•å¼€æˆï¼šcd projects/a-very-long/and-nested/project-name</span>

<span class="hljs-comment"># æˆ–è€…ï¼Œæƒ³åœ¨é‚£ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span>
<span class="hljs-built_in">touch</span> !$/index.js
</code></pre>
<p>è‡ªä»ç†Ÿç»ƒæŒæ¡äº†è¿™ä¸¤ä¸ªç¬¦å·ï¼Œæˆ‘çš„é”®ç›˜æ–¹å‘ä¸Šé”®å’Œ <code>Ctrl+C</code> çš„ä½¿ç”¨é¢‘ç‡éƒ½é™ä½äº†ä¸å°‘ã€‚</p>
<h3 data-id="heading-6">è¿›ç¨‹ç®¡ç†ä¸ç”¨æŠ“ç‹‚</h3>
<p>ä»¥å‰æ€ä¸ªè¿›ç¨‹ï¼Œå¾—å…ˆ <code>ps aux | grep xxx</code>ï¼Œç„¶åå¤åˆ¶ PIDï¼Œå† <code>kill -9 PID</code>ï¼Œä¸€å¥—æ“ä½œä¸‹æ¥é»„èŠ±èœéƒ½å‡‰äº†ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ›´ç›´æ¥ä¸€ç‚¹ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰åå­—å¹²æ‰æŸä¸ªè¿›ç¨‹</span>
pkill -f <span class="hljs-string">"gunicorn"</span>

<span class="hljs-comment"># ä¼˜é›…åœ°è¯·æ‰€æœ‰ Python è„šæœ¬è¿›ç¨‹â€œç¦»å¼€â€</span>
pkill -f <span class="hljs-string">"python.*.py"</span>
</code></pre>
<p>å¯¹äºæˆ‘ä»¬è¿™äº›ç»å¸¸å’Œç«¯å£æ‰“äº¤é“çš„å¼€å‘è€…æ¥è¯´ï¼Œç«¯å£è¢«å ç”¨çš„é—®é¢˜æ›´æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘æŠŠå®ƒå†™è¿›äº†æˆ‘çš„ <code>.zshrc</code> é‡Œï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¸“é—¨ç”¨æ¥é‡Šæ”¾è¢«å ç”¨çš„ç«¯å£</span>
<span class="hljs-function"><span class="hljs-title">free_port</span></span>() {
    lsof -i tcp:<span class="hljs-variable">$1</span> | grep LISTEN | awk <span class="hljs-string">'{print $2}'</span> | xargs <span class="hljs-built_in">kill</span> -9
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç«¯å£ <span class="hljs-variable">$1</span> å·²é‡Šæ”¾"</span>
}

<span class="hljs-comment"># æ¯”å¦‚ï¼Œå¹²æ‰å ç”¨ 8000 ç«¯å£çš„é‚£ä¸ªâ€œé’‰å­æˆ·â€</span>
free_port 8000
</code></pre>
<h3 data-id="heading-7">ç»™ Git æ•´ä¸ªå¤–æŒ‚</h3>
<p>æŠŠè¿™äº›åˆ«åï¼ˆaliasï¼‰åŠ åˆ° <code>~/.gitconfig</code> æ–‡ä»¶é‡Œï¼Œæ¯å¤©èƒ½çœä¸‹æ— æ•°æ¬¡æ•²å‡»é”®ç›˜çš„åŠ›æ°”ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">[<span class="hljs-built_in">alias</span>]
    co = checkout
    br = branch
    ci = commit -m
    st = status -sb
    lg = <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'</span>
    
    <span class="hljs-comment"># æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€å›æ¥</span>
    unstage = reset HEAD --
    
    <span class="hljs-comment"># å½»åº•ä¸¢å¼ƒä¸Šä¸€æ¬¡æäº¤ï¼Œä½†ä¿ç•™ä»£ç æ”¹åŠ¨</span>
    undo = reset --soft HEAD~1

    <span class="hljs-comment"># ä¸€é”®æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹</span>
    pushup = <span class="hljs-string">"!git push --set-upstream origin <span class="hljs-subst">$(git rev-parse --abbrev-ref HEAD)</span>"</span>
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªæˆ‘ç‰¹åˆ«å–œæ¬¢çš„ï¼Œä¸€é”®æ¸…ç†å·²ç»åˆå¹¶åˆ°ä¸»å¹²çš„æœ¬åœ°åˆ†æ”¯ï¼Œåˆ†æ”¯åˆ—è¡¨å¹²å‡€æ¸…çˆ½ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">git branch --merged main | grep -v <span class="hljs-string">"*|main|develop"</span> | xargs -n 1 git branch -d
</code></pre>
<h3 data-id="heading-8">æ–‡æœ¬å¤„ç†ï¼Œå¿«å‡†ç‹ </h3>
<p>ä»æ—¥å¿—é‡Œæä¸ªé‚®ç®±ï¼Œæˆ–è€…å¿«é€Ÿæ ¼å¼åŒ–ä¸€å¨ JSONï¼Œéƒ½æ˜¯æ—¥å¸¸æ“ä½œã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æ–‡ä»¶é‡Œæå–æ‰€æœ‰ URL</span>
grep -oE <span class="hljs-string">'https?://[a-zA-Z0-9./-]+'</span> access.log

<span class="hljs-comment"># æ ¼å¼åŒ–ç²˜è´´æ¿é‡Œçš„ JSON (macOS)</span>
pbpaste | jq .

<span class="hljs-comment"># ä» API å“åº”ä¸­åªæå–éœ€è¦çš„å­—æ®µ</span>
curl -s <span class="hljs-string">'https://api.github.com/users/torvalds'</span> | jq <span class="hljs-string">'.name, .followers'</span>
</code></pre>
<h3 data-id="heading-9">æŠŠé‡å¤åŠ³åŠ¨å˜æˆè‡ªåŠ¨åŒ–è„šæœ¬</h3>
<p>çœŸæ­£æ‹‰å¼€æ•ˆç‡å·®è·çš„ï¼Œæ˜¯æŠŠé‚£äº›æ¯å¤©éƒ½åœ¨é‡å¤çš„æ“ä½œï¼Œå˜æˆä¸€ä¸ªå¯ä»¥éšæ—¶å‘¼å«çš„å‡½æ•°æˆ–è„šæœ¬ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯”å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å‰ç«¯é¡¹ç›®çš„å®Œæ•´æµç¨‹</span>
<span class="hljs-function"><span class="hljs-title">new_react_project</span></span>() {
    npx create-react-app <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
    git init &amp;&amp; git add .
    git commit -m <span class="hljs-string">"ğŸ‰ Initial commit"</span>
    <span class="hljs-comment"># è‡ªåŠ¨åœ¨ VS Code ä¸­æ‰“å¼€</span>
    code .
}

<span class="hljs-comment"># æ¯”å¦‚ï¼Œåœ¨æ‰§è¡Œå±é™©æ“ä½œå‰ï¼Œå¿«é€Ÿæ‰“åŒ…å¤‡ä»½å½“å‰ç›®å½•</span>
<span class="hljs-function"><span class="hljs-title">backup</span></span>() {
    <span class="hljs-built_in">local</span> fname=<span class="hljs-string">"backup-<span class="hljs-subst">$(date +%Y%m%d-%H%M)</span>.tar.gz"</span>
    tar -czvf <span class="hljs-string">"<span class="hljs-variable">$fname</span>"</span> . --exclude-from=.gitignore
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½å®Œæˆ: <span class="hljs-variable">$fname</span>"</span>
}
</code></pre>
<p>æŠŠè¿™äº›å‡½æ•°å†™è¿› <code>.bashrc</code> æˆ– <code>.zshrc</code>ï¼Œä¸‹æ¬¡å†åšåŒæ ·çš„äº‹æƒ…æ—¶ï¼Œåªéœ€è¦æ•²ä¸€ä¸ªå‘½ä»¤å°±æå®šäº†ã€‚</p>
<h3 data-id="heading-10">å†™åœ¨æœ€å</h3>
<p>è¿™äº›æŠ€å·§æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä½†å®ƒä»¬å°±åƒè‚Œè‚‰è®°å¿†ï¼Œä¸€æ—¦å…»æˆä¹ æƒ¯ï¼Œå°±èƒ½åœ¨æ—¥å¸¸å·¥ä½œä¸­èŠ‚çœå¤§é‡æ—¶é—´ã€‚å¯¹ç¨‹åºå‘˜æ¥è¯´ï¼Œæ—¶é—´å°±æ˜¯å¤´å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Qt6 QML å®ç°DateTimePickerç»„ä»¶]]></title>    <link>https://juejin.cn/post/7573855399717371923</link>    <guid>https://juejin.cn/post/7573855399717371923</guid>    <pubDate>2025-11-18T09:49:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399717371923" data-draft-id="7573876900230414399" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Qt6 QML å®ç°DateTimePickerç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,Qt"/> <meta itemprop="datePublished" content="2025-11-18T09:49:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Qt6 QML å®ç°DateTimePickerç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:49:52.000Z" title="Tue Nov 18 2025 09:49:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Qt6 QML å®ç°DateTimePickerç»„ä»¶</h2>
<h3 data-id="heading-1">å®ç°ä»£ç </h3>
<p>åŸºäºQT6.10</p>
<pre><code class="hljs language-qmllang" lang="qmllang">// DateTimePicker.qml
import QtQuick
import QtQuick.Controls
import QtQuick.Layouts

Popup {
    id: dateTimePicker

    width: 650
    height: 480

    modal: true
    closePolicy: Popup.CloseOnEscape | Popup.CloseOnPressOutside
    padding: 0
    focus: true

    readonly property color colorBackground: "#2b2b2b"
    readonly property color colorSurface: "#1e1e1e"
    readonly property color colorSurfaceVariant: "#222"
    readonly property color colorBorder: "#444"
    readonly property color colorBorderLight: "#555"

    readonly property color colorPrimary: "#007AFF"
    readonly property color colorPrimaryHover: "#0066CC"

    readonly property color colorTextPrimary: "white"
    readonly property color colorTextSecondary: "#aaa"
    readonly property color colorTextTertiary: "#888"
    readonly property color colorTextDisabled: "#444"

    readonly property color colorHover: "#333"
    readonly property color colorHoverLight: "#444"
    readonly property color colorHoverDark: "#555"

    readonly property color colorScrollbar: "#555"
    readonly property color colorScrollbarHover: "#666"
    readonly property color colorScrollbarPressed: "#888"

    readonly property color colorDisabled: "#555"

    property string dateTime: Qt.formatDateTime(new Date(), "yyyy-MM-dd hh:mm:ss")
    property string dateFormat: "yyyy-MM-dd"
    property string timeFormat: "hh:mm:ss"
    property string minDateTime: ""
    property string maxDateTime: ""

    property date selectedDate: new Date()
    property int selectedHour: 0
    property int selectedMinute: 0
    property int selectedSecond: 0

    property int currentYear: new Date().getFullYear()
    property int currentMonth: new Date().getMonth()

    property bool hasSelection: false  // é€‰æ‹©çŠ¶æ€æ ‡è®°

    // ç„¦ç‚¹åŒºåŸŸå±æ€§
    property int focusArea: 0  // 0: æ—¥æœŸ, 1: æ—¶, 2: åˆ†, 3: ç§’
    property int focusedDateIndex: 0  // æ—¥å†æ ¼å­ç´¢å¼•

    signal confirmed(date datetime)

    background: Rectangle {
        color: dateTimePicker.colorBackground
        radius: 8

        FocusScope {
            id: keyboardHandler
            anchors.fill: parent
            focus: true

            Keys.onPressed: function (event) {
                if (event.key === Qt.Key_Left) {
                    if (dateTimePicker.focusArea === 0) {
                        dateTimePicker.focusedDateIndex = Math.max(0, dateTimePicker.focusedDateIndex - 1)
                        dateTimePicker.selectedDate = getDateForCell(dateTimePicker.focusedDateIndex)
                        dateTimePicker.hasSelection = true
                    } else if (dateTimePicker.focusArea &gt; 0) {
                        dateTimePicker.focusArea = Math.max(0, dateTimePicker.focusArea - 1)
                    }
                    event.accepted = true
                } else if (event.key === Qt.Key_Right) {
                    if (dateTimePicker.focusArea === 0) {
                        dateTimePicker.focusedDateIndex = Math.min(41, dateTimePicker.focusedDateIndex + 1)
                        dateTimePicker.selectedDate = getDateForCell(dateTimePicker.focusedDateIndex)
                        dateTimePicker.hasSelection = true
                    } else if (dateTimePicker.focusArea &lt; 3) {
                        dateTimePicker.focusArea = Math.min(3, dateTimePicker.focusArea + 1)
                    }
                    event.accepted = true
                } else if (event.key === Qt.Key_Up) {
                    if (dateTimePicker.focusArea === 0) {
                        dateTimePicker.focusedDateIndex = Math.max(0, dateTimePicker.focusedDateIndex - 7)
                        dateTimePicker.selectedDate = getDateForCell(dateTimePicker.focusedDateIndex)
                        dateTimePicker.hasSelection = true
                    } else {
                        if (dateTimePicker.focusArea === 1) {
                            dateTimePicker.selectedHour = (dateTimePicker.selectedHour - 1 + 24) % 24
                        } else if (dateTimePicker.focusArea === 2) {
                            dateTimePicker.selectedMinute = (dateTimePicker.selectedMinute - 1 + 60) % 60
                        } else {
                            dateTimePicker.selectedSecond = (dateTimePicker.selectedSecond - 1 + 60) % 60
                        }
                        dateTimePicker.hasSelection = true
                    }
                    event.accepted = true
                } else if (event.key === Qt.Key_Down) {
                    if (dateTimePicker.focusArea === 0) {
                        dateTimePicker.focusedDateIndex = Math.min(41, dateTimePicker.focusedDateIndex + 7)
                        dateTimePicker.selectedDate = getDateForCell(dateTimePicker.focusedDateIndex)
                        dateTimePicker.hasSelection = true
                    } else {
                        if (dateTimePicker.focusArea === 1) {
                            dateTimePicker.selectedHour = (dateTimePicker.selectedHour + 1) % 24
                        } else if (dateTimePicker.focusArea === 2) {
                            dateTimePicker.selectedMinute = (dateTimePicker.selectedMinute + 1) % 60
                        } else {
                            dateTimePicker.selectedSecond = (dateTimePicker.selectedSecond + 1) % 60
                        }
                        dateTimePicker.hasSelection = true
                    }
                    event.accepted = true
                } else if (event.key === Qt.Key_Tab) {
                    dateTimePicker.focusArea = (dateTimePicker.focusArea + 1) % 4
                    event.accepted = true
                } else if (event.key === Qt.Key_Backtab) {
                    dateTimePicker.focusArea = (dateTimePicker.focusArea - 1 + 4) % 4
                    event.accepted = true
                } else if (event.key === Qt.Key_Return || event.key === Qt.Key_Enter) {
                    if (dateTimePicker.hasSelection) {
                        let dt = new Date(dateTimePicker.selectedDate)
                        dt.setHours(dateTimePicker.selectedHour)
                        dt.setMinutes(dateTimePicker.selectedMinute)
                        dt.setSeconds(dateTimePicker.selectedSecond)
                        dateTimePicker.confirmed(dt)
                        dateTimePicker.close()
                    }
                    event.accepted = true
                } else if (event.key === Qt.Key_Escape) {
                    dateTimePicker.close()
                    event.accepted = true
                }
            }
        }
    }

    ColumnLayout {
        anchors.fill: parent
        spacing: 0

        // é¡¶éƒ¨æ—¥æœŸæ—¶é—´æ˜¾ç¤º
        Rectangle {
            Layout.fillWidth: true
            Layout.preferredHeight: 50
            color: dateTimePicker.colorSurface
            radius: 8

            Rectangle {
                anchors.left: parent.left
                anchors.right: parent.right
                anchors.bottom: parent.bottom
                height: 8
                color: parent.color
            }

            Label {
                id: dateTimeLabel

                anchors.centerIn: parent
                color: dateTimePicker.colorPrimary
                font.pixelSize: 16
                font.bold: true
                text: Qt.formatDateTime(new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate(), selectedHour, selectedMinute, selectedSecond), dateFormat + " " + timeFormat)
            }
        }

        // ä¸»å†…å®¹åŒºåŸŸ
        RowLayout {
            Layout.fillWidth: true
            Layout.fillHeight: true
            Layout.margins: 20
            spacing: 20

            // å·¦ä¾§æ—¥å†åŒºåŸŸ
            ColumnLayout {
                Layout.fillWidth: true
                Layout.fillHeight: true
                spacing: 12

                // æœˆä»½å¯¼èˆªæ 
                RowLayout {
                    Layout.fillWidth: true
                    spacing: 8

                    Button {
                        text: "&lt;&lt;"
                        Layout.preferredWidth: 40
                        Layout.preferredHeight: 32
                        onClicked: {
                            currentYear -= 1
                        }
                        background: Rectangle {
                            color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                            radius: 4
                        }
                        contentItem: Text {
                            text: parent.text
                            color: dateTimePicker.colorTextPrimary
                            horizontalAlignment: Text.AlignHCenter
                            verticalAlignment: Text.AlignVCenter
                        }
                    }
                    Button {
                        text: "&lt;"
                        Layout.preferredWidth: 40
                        Layout.preferredHeight: 32
                        onClicked: {
                            currentMonth -= 1
                            if (currentMonth &lt; 0) {
                                currentMonth = 11
                                currentYear -= 1
                            }
                        }
                        background: Rectangle {
                            color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                            radius: 4
                        }
                        contentItem: Text {
                            text: parent.text
                            color: dateTimePicker.colorTextPrimary
                            horizontalAlignment: Text.AlignHCenter
                            verticalAlignment: Text.AlignVCenter
                        }
                    }
                    Label {
                        text: Qt.formatDate(new Date(currentYear, currentMonth), "yyyyå¹´ Mæœˆ")
                        color: dateTimePicker.colorTextPrimary
                        font.pixelSize: 16
                        font.bold: true
                        Layout.fillWidth: true
                        horizontalAlignment: Text.AlignHCenter
                    }
                    Button {
                        text: "&gt;"
                        Layout.preferredWidth: 40
                        Layout.preferredHeight: 32
                        onClicked: {
                            currentMonth += 1
                            if (currentMonth &gt; 11) {
                                currentMonth = 0
                                currentYear += 1
                            }
                        }
                        background: Rectangle {
                            color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                            radius: 4
                        }
                        contentItem: Text {
                            text: parent.text
                            color: dateTimePicker.colorTextPrimary
                            horizontalAlignment: Text.AlignHCenter
                            verticalAlignment: Text.AlignVCenter
                        }
                    }
                    Button {
                        text: "&gt;&gt;"
                        Layout.preferredWidth: 40
                        Layout.preferredHeight: 32
                        onClicked: {
                            currentYear += 1
                        }
                        background: Rectangle {
                            color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                            radius: 4
                        }
                        contentItem: Text {
                            text: parent.text
                            color: dateTimePicker.colorTextPrimary
                            horizontalAlignment: Text.AlignHCenter
                            verticalAlignment: Text.AlignVCenter
                        }
                    }
                }

                // æ˜ŸæœŸæ ‡é¢˜è¡Œ
                GridLayout {
                    Layout.fillWidth: true
                    columns: 7
                    rowSpacing: 0
                    columnSpacing: 0

                    Repeater {
                        model: ["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥"]
                        Label {
                            text: modelData
                            color: dateTimePicker.colorTextTertiary
                            font.pixelSize: 12
                            horizontalAlignment: Text.AlignHCenter
                            verticalAlignment: Text.AlignVCenter
                            Layout.fillWidth: true
                            Layout.preferredHeight: 30
                        }
                    }
                }

                // æ—¥æœŸç½‘æ ¼
                GridLayout {
                    Layout.fillWidth: true
                    Layout.fillHeight: true
                    columns: 7
                    rowSpacing: 8
                    columnSpacing: 8

                    Repeater {
                        model: 42
                        Rectangle {
                            Layout.fillWidth: true
                            Layout.fillHeight: true
                            Layout.minimumHeight: 40
                            radius: 4

                            color: {
                                if (!isInRange) return dateTimePicker.colorSurfaceVariant

                                let date = getDateForCell(index)
                                if (date.getDate() === selectedDate.getDate() &amp;&amp; date.getMonth() === selectedDate.getMonth() &amp;&amp; date.getFullYear() === selectedDate.getFullYear()) {
                                    return dateTimePicker.colorPrimary
                                }
                                return dateMouseArea.containsMouse ? dateTimePicker.colorBorder : "transparent"
                            }

                            border.color: {
                                let date = cellDate
                                if (date.getDate() === selectedDate.getDate() &amp;&amp; date.getMonth() === selectedDate.getMonth() &amp;&amp; date.getFullYear() === selectedDate.getFullYear()) {
                                    return "white"
                                }
                                return "transparent"
                            }
                            border.width: 2

                            property var cellDate: getDateForCell(index)

                            property bool isInRange: {
                                let testDate = new Date(cellDate)
                                testDate.setHours(selectedHour, selectedMinute, selectedSecond)
                                return isDateTimeInRange(testDate)
                            }

                            Label {
                                anchors.centerIn: parent
                                text: parent.cellDate.getDate()
                                color: {
                                    if (!parent.isInRange) return dateTimePicker.colorTextDisabled
                                    return parent.cellDate.getMonth() === currentMonth ? dateTimePicker.colorTextPrimary : dateTimePicker.colorBorderLight
                                }
                                font.pixelSize: 14
                            }

                            MouseArea {
                                id: dateMouseArea
                                anchors.fill: parent
                                hoverEnabled: true
                                enabled: parent.isInRange
                                cursorShape: enabled ? Qt.PointingHandCursor : Qt.ForbiddenCursor
                                onClicked: {
                                    if (parent.isInRange) {
                                        let clickedDate = parent.cellDate
                                        selectedDate = clickedDate

                                        // å¦‚æœç‚¹å‡»çš„æ—¥æœŸä¸åœ¨å½“å‰æœˆ,è‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥æœˆ
                                        if (clickedDate.getMonth() !== currentMonth || clickedDate.getFullYear() !== currentYear) {
                                            currentMonth = clickedDate.getMonth()
                                            currentYear = clickedDate.getFullYear()
                                        }

                                        dateTimePicker.hasSelection = true
                                    }
                                }
                            }
                        }
                    }
                }
            }

            // åˆ†éš”çº¿
            Rectangle {
                Layout.preferredWidth: 1
                Layout.fillHeight: true
                color: dateTimePicker.colorBorder
            }

            // å³ä¾§æ—¶é—´é€‰æ‹©åŒºåŸŸ
            RowLayout {
                Layout.preferredWidth: 210
                Layout.fillHeight: true
                spacing: 8

                // æ—¶é—´åˆ—ç»„ä»¶
                Repeater {
                    model: [{label: "æ—¶", value: selectedHour, max: 24}, {
                        label: "åˆ†", value: selectedMinute, max: 60
                    }, {label: "ç§’", value: selectedSecond, max: 60}]

                    ColumnLayout {
                        Layout.fillWidth: true
                        Layout.fillHeight: true
                        spacing: 8

                        property string timeLabel: modelData.label

                        Label {
                            text: timeLabel
                            color: dateTimePicker.colorTextTertiary
                            font.pixelSize: 12
                            Layout.alignment: Qt.AlignHCenter
                        }

                        Rectangle {
                            Layout.fillWidth: true
                            Layout.fillHeight: true
                            color: dateTimePicker.colorSurface
                            radius: 4
                            border.color: dateTimePicker.colorBorder
                            border.width: 1

                            ScrollView {
                                anchors.fill: parent
                                anchors.margins: 2
                                clip: true
                                ScrollBar.horizontal.policy: ScrollBar.AlwaysOff

                                ScrollBar.vertical: ScrollBar {
                                    policy: ScrollBar.AsNeeded
                                    width: 8

                                    contentItem: Rectangle {
                                        implicitWidth: 8
                                        radius: 4
                                        color: parent.pressed ? dateTimePicker.colorScrollbarPressed : (parent.hovered ? dateTimePicker.colorScrollbarHover : dateTimePicker.colorScrollbar)
                                    }

                                    background: Rectangle {
                                        implicitWidth: 6
                                        color: "transparent"
                                    }
                                }

                                ListView {
                                    id: timeListView

                                    model: modelData.max
                                    highlightFollowsCurrentItem: false
                                    highlightMoveDuration: 0
                                    snapMode: ListView.SnapToItem

                                    readonly property string timeType: timeLabel

                                    readonly property int currentValue: {
                                        if (timeType === "æ—¶") return dateTimePicker.selectedHour
                                        if (timeType === "åˆ†") return dateTimePicker.selectedMinute
                                        return dateTimePicker.selectedSecond
                                    }

                                    function selectTime(value) {
                                        console.log("Selected " + timeListView.timeType + ": " + value + ", hasSelection: " + dateTimePicker.hasSelection)

                                        dateTimePicker.hasSelection = true

                                        if (timeType === "æ—¶") {
                                            dateTimePicker.selectedHour = value
                                        } else if (timeType === "åˆ†") {
                                            dateTimePicker.selectedMinute = value
                                        } else {
                                            dateTimePicker.selectedSecond = value
                                        }

                                        // æ»šåŠ¨åˆ°åˆ—è¡¨é¡¶éƒ¨
                                        positionViewAtIndex(value, ListView.Beginning)
                                    }

                                    delegate: Rectangle {
                                        width: timeListView.width
                                        height: 44
                                        radius: 4

                                        color: {
                                            if (index === timeListView.currentValue) return dateTimePicker.colorPrimary
                                            return timeItemMouseArea.containsMouse ? dateTimePicker.colorHover : "transparent"
                                        }

                                        Label {
                                            anchors.centerIn: parent
                                            text: index.toString().padStart(2, '0')
                                            color: index === timeListView.currentValue ? dateTimePicker.colorTextPrimary : dateTimePicker.colorTextSecondary
                                            font.pixelSize: 16
                                            font.bold: index === timeListView.currentValue
                                        }

                                        MouseArea {
                                            id: timeItemMouseArea
                                            anchors.fill: parent
                                            hoverEnabled: true
                                            cursorShape: Qt.PointingHandCursor
                                            onClicked: {
                                                timeListView.selectTime(index)
                                            }
                                        }
                                    }

                                    Component.onCompleted: {
                                        positionViewAtIndex(modelData.value, ListView.Beginning)
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        // åº•éƒ¨æŒ‰é’®åŒºåŸŸ
        Rectangle {
            Layout.fillWidth: true
            Layout.preferredHeight: 60
            color: dateTimePicker.colorSurface

            Rectangle {
                anchors.left: parent.left
                anchors.right: parent.right
                anchors.top: parent.top
                height: 8
                color: parent.color
            }

            RowLayout {
                anchors.fill: parent
                anchors.margins: 15
                spacing: 10

                Button {
                    text: qsTr("ä»Šå¤©")
                    Layout.preferredWidth: 80
                    Layout.preferredHeight: 36
                    onClicked: {
                        var now = new Date()
                        selectedDate = now
                        selectedHour = now.getHours()
                        selectedMinute = now.getMinutes()
                        selectedSecond = now.getSeconds()
                        currentYear = now.getFullYear()
                        currentMonth = now.getMonth()
                        hasSelection = true
                    }
                    background: Rectangle {
                        color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                        radius: 4
                        border.color: dateTimePicker.colorBorderLight
                        border.width: 1
                    }
                    contentItem: Text {
                        text: parent.text
                        color: dateTimePicker.colorTextSecondary
                        font.pixelSize: 14
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                }

                Item {
                    Layout.fillWidth: true
                }

                Button {
                    text: qsTr("å–æ¶ˆ")
                    Layout.preferredWidth: 80
                    Layout.preferredHeight: 36
                    onClicked: dateTimePicker.close()
                    background: Rectangle {
                        color: parent.hovered ? dateTimePicker.colorHoverDark : dateTimePicker.colorBorder
                        radius: 4
                        border.color: dateTimePicker.colorBorderLight
                        border.width: 1
                    }
                    contentItem: Text {
                        text: parent.text
                        color: dateTimePicker.colorTextSecondary
                        font.pixelSize: 14
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                }

                Button {
                    text: qsTr("ç¡®å®š")
                    Layout.preferredWidth: 80
                    Layout.preferredHeight: 36
                    enabled: dateTimePicker.hasSelection
                    onClicked: {
                        let dt = new Date(selectedDate)
                        dt.setHours(selectedHour)
                        dt.setMinutes(selectedMinute)
                        dt.setSeconds(selectedSecond)

                        if (isDateTimeInRange(dt)) {
                            dateTimePicker.dateTime = formatDateTime(dt)
                            confirmed(dt)
                            close()
                        }
                    }
                    background: Rectangle {
                        color: {
                            if (!parent.enabled) return dateTimePicker.colorDisabled
                            return parent.hovered ? dateTimePicker.colorPrimaryHover : dateTimePicker.colorPrimary
                        }
                        radius: 4
                    }
                    contentItem: Text {
                        text: parent.text
                        color: parent.enabled ? dateTimePicker.colorTextPrimary : dateTimePicker.colorTextTertiary
                        font.pixelSize: 14
                        font.bold: true
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                }
            }
        }
    }

    function getDateForCell(index) {
        let firstDay = new Date(currentYear, currentMonth, 1)
        let dayOfWeek = (firstDay.getDay() + 6) % 7
        let cellDate = new Date(currentYear, currentMonth, 1 - dayOfWeek + index)
        return cellDate
    }

    function isDateTimeInRange(date) {
        if (minDateTime) {
            let minDt = new Date(minDateTime)
            if (!isNaN(minDt.getTime()) &amp;&amp; date &lt; minDt) {
                return false
            }
        }
        if (maxDateTime) {
            let maxDt = new Date(maxDateTime)
            if (!isNaN(maxDt.getTime()) &amp;&amp; date &gt; maxDt) {
                return false
            }
        }
        return true
    }

    function formatDateTime(date) {
        return Qt.formatDateTime(date, dateFormat + " " + timeFormat)
    }

    onDateTimeChanged: {
        if (!hasSelection) {
            let dt = new Date(dateTime)
            if (!isNaN(dt.getTime())) {
                selectedDate = dt
                selectedHour = dt.getHours()
                selectedMinute = dt.getMinutes()
                selectedSecond = dt.getSeconds()
                currentYear = dt.getFullYear()
                currentMonth = dt.getMonth()
            }
        }
    }

    Component.onCompleted: {
        if (dateTime) {
            let dt = new Date(dateTime)
            if (!isNaN(dt.getTime())) {
                selectedDate = dt
                selectedHour = dt.getHours()
                selectedMinute = dt.getMinutes()
                selectedSecond = dt.getSeconds()
                currentYear = dt.getFullYear()
                currentMonth = dt.getMonth()

                hasSelection = true
            }
        }

        // åˆå§‹åŒ–ç„¦ç‚¹ä½ç½®
        let firstDay = new Date(currentYear, currentMonth, 1)
        let dayOfWeek = (firstDay.getDay() + 6) % 7
        focusedDateIndex = dayOfWeek + selectedDate.getDate() - 1

        // å»¶è¿Ÿè®¾ç½®ç„¦ç‚¹,ç¡®ä¿ FocusScope å·²å®Œå…¨åˆå§‹åŒ–
        Qt.callLater(function () {
            keyboardHandler.forceActiveFocus()
        })
    }
}
</code></pre>
<h3 data-id="heading-2">ä½¿ç”¨ä»£ç </h3>
<pre><code class="hljs language-qmllang" lang="qmllang">DateTimePicker {
    id: dateTimePicker

    width: 250
    height: 40

    // åˆå§‹å€¼ä¸ºå½“å‰æ—¥æœŸæ—¶é—´
    dateTime: Qt.formatDateTime(new Date(), "yyyy-MM-dd hh:mm:ss")

    // æ—¥æœŸæ ¼å¼
    dateFormat: "yyyy-MM-dd"
    // æ—¶é—´æ ¼å¼
    timeFormat: "hh:mm:ss"

    // æœ€å°å¯é€‰æ—¥æœŸæ—¶é—´
    minDateTime: "2023-01-01 00:00:00"
    // æœ€å¤§å¯é€‰æ—¥æœŸæ—¶é—´
    maxDateTime: "2024-12-31 23:59:59"

    onConfirmed: function (datetime) {
        startDateField.text = Qt.formatDateTime(datetime, "yyyy-MM-dd HH:mm")
    }
}
</code></pre>
<p>æ˜¾ç¤ºæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2122ba4d3e8f4e61a878cb995c2fa832~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Za15Liq5ZKq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064191&amp;x-signature=WoFWVkVZGgFQvlGfqYZlGoXAsoE%3D" alt="åå°ç”¨æˆ·ç™»å½•ç•Œé¢" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# 14 æ–°åŠŸèƒ½å…¨é¢è§£æï¼šæå‡ç”Ÿäº§åŠ›ä¸æ€§èƒ½çš„é©å‘½æ€§æ›´æ–°]]></title>    <link>https://juejin.cn/post/7573886599432732723</link>    <guid>https://juejin.cn/post/7573886599432732723</guid>    <pubDate>2025-11-18T08:51:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573886599432732723" data-draft-id="7573890735578071050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# 14 æ–°åŠŸèƒ½å…¨é¢è§£æï¼šæå‡ç”Ÿäº§åŠ›ä¸æ€§èƒ½çš„é©å‘½æ€§æ›´æ–°"/> <meta itemprop="keywords" content="C#"/> <meta itemprop="datePublished" content="2025-11-18T08:51:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3227821868332765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# 14 æ–°åŠŸèƒ½å…¨é¢è§£æï¼šæå‡ç”Ÿäº§åŠ›ä¸æ€§èƒ½çš„é©å‘½æ€§æ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821868332765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:51:44.000Z" title="Tue Nov 18 2025 08:51:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C# 14 æ–°åŠŸèƒ½å…¨é¢è§£æï¼šæå‡ç”Ÿäº§åŠ›ä¸æ€§èƒ½çš„é©å‘½æ€§æ›´æ–°</h2>
<h3 data-id="heading-1"><strong>å¼•è¨€</strong></h3>
<p>C# è¯­è¨€ä½œä¸º.NETç”Ÿæ€çš„æ ¸å¿ƒï¼Œå§‹ç»ˆè‡´åŠ›äºæå‡å¼€å‘è€…çš„ç”Ÿäº§åŠ›ä¸åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚C# 14å¸¦æ¥äº†å¤šé¡¹çªç ´æ€§ç‰¹æ€§ï¼ŒåŒ…æ‹¬<strong>æ‰©å±•æˆå‘˜</strong>ã€<strong>å­—æ®µå…³é”®è¯</strong>ã€<strong>ç©ºæ¡ä»¶èµ‹å€¼</strong>ç­‰ï¼Œè¿™äº›æ”¹è¿›æ˜¾è‘—å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œå¢å¼ºäº†ç±»å‹ç³»ç»Ÿçš„çµæ´»æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æè¿™äº›æ–°åŠŸèƒ½çš„è®¾è®¡åŸç†ã€åº”ç”¨åœºæ™¯åŠå®é™…ä»·å€¼ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€ŸæŒæ¡C# 14çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-2"><strong>1. æ‰©å±•æˆå‘˜ï¼šç±»å‹ç³»ç»Ÿçš„é©å‘½æ€§æ‰©å±•</strong></h4>
<h5 data-id="heading-3"><strong>1.1 æ‰©å±•å±æ€§çš„å®ç°</strong></h5>
<p>C# 14çš„æ‰©å±•æˆå‘˜ï¼ˆExtension Membersï¼‰å…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸå§‹ç±»å‹çš„å‰æä¸‹ï¼Œä¸ºç°æœ‰ç±»å‹æ·»åŠ å±æ€§ã€è¿ç®—ç¬¦ç”šè‡³é™æ€æˆå‘˜ã€‚è¿™ä¸€ç‰¹æ€§é€šè¿‡<code>extension</code>è¯­æ³•å—å®ç°ï¼Œä¸”å®Œå…¨å…¼å®¹æ—¢æœ‰æ‰©å±•æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EnumerableExtensions</span>
{
    extension&lt;tsource&gt;(IEnumerable&lt;tsource&gt; source)
    {
        <span class="hljs-comment">// æ‰©å±•å±æ€§ï¼šåˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span>
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> IsEmpty =&amp;gt; !source.Any();

        <span class="hljs-comment">// æ‰©å±•è¿ç®—ç¬¦ï¼šåˆå¹¶ä¸¤ä¸ªé›†åˆ</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IEnumerable&lt;tsource&gt; <span class="hljs-keyword">operator</span> +(
            IEnumerable&lt;tsource&gt; left, 
            IEnumerable&lt;tsource&gt; right) =&amp;gt; left.Concat(right);
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">int</span>[] data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">if</span> (data.IsEmpty) { <span class="hljs-comment">/* ... */</span> }          <span class="hljs-comment">// è°ƒç”¨æ‰©å±•å±æ€§</span>
<span class="hljs-keyword">var</span> combined = data + [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>];            <span class="hljs-comment">// è°ƒç”¨æ‰©å±•è¿ç®—ç¬¦</span>
</code></pre>
<h5 data-id="heading-4"><strong>1.2 å…¼å®¹æ€§ä¸è¿ç§»ç­–ç•¥</strong></h5>
<p>æ‰©å±•å—è®¾è®¡ä¸º<strong>äºŒè¿›åˆ¶å…¼å®¹</strong>ï¼Œå…è®¸é€æ­¥è¿ç§»ç°æœ‰æ‰©å±•æ–¹æ³•ï¼Œä¾èµ–ç¨‹åºé›†æ— éœ€é‡æ–°ç¼–è¯‘ã€‚ä¾‹å¦‚ï¼ŒåŸå…ˆçš„æ‰©å±•æ–¹æ³•å¯é€ä¸ªæ›¿æ¢ä¸ºæ‰©å±•å—å†…çš„æˆå‘˜ï¼Œè€Œä¸ä¼šç ´åç°æœ‰ä»£ç ã€‚</p>
<hr/>
<h4 data-id="heading-5"><strong>2. å­—æ®µå…³é”®è¯ï¼šç®€åŒ–å±æ€§é€»è¾‘çš„åˆ©å™¨</strong></h4>
<h5 data-id="heading-6"><strong>2.1 è‡ªåŠ¨å±æ€§ä¸å­—æ®µçš„æ¡¥æ¢</strong></h5>
<p>ä¼ ç»Ÿå±æ€§å¼€å‘ä¸­ï¼Œç®€å•çš„è‡ªåŠ¨å±æ€§ï¼ˆAuto-Propertyï¼‰ä¸€æ—¦éœ€è¦æ·»åŠ é€»è¾‘ï¼ˆå¦‚ç©ºå€¼æ£€æŸ¥ï¼‰ï¼Œå°±å¿…é¡»é‡å†™å®Œæ•´å±æ€§ã€‚C# 14å¼•å…¥<code>field</code>å…³é”®è¯ï¼Œå…è®¸ä»…åœ¨éœ€è¦é€»è¾‘çš„è®¿é—®å™¨ä¸­æ³¨å…¥ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// C# 14ä¹‹å‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> _message = <span class="hljs-string">""</span>;
<span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Message
{
    <span class="hljs-keyword">get</span> =&amp;gt; _message;
    <span class="hljs-keyword">init</span> =&amp;gt; _message = <span class="hljs-keyword">value</span> ?? <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(<span class="hljs-keyword">value</span>));
}

<span class="hljs-comment">// C# 14ä¹‹å</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Message
{
    <span class="hljs-keyword">get</span>; <span class="hljs-comment">// è‡ªåŠ¨å®ç°</span>
    <span class="hljs-keyword">init</span> =&amp;gt; field = <span class="hljs-keyword">value</span> ?? <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(<span class="hljs-keyword">value</span>));
}
</code></pre>
<h5 data-id="heading-7"><strong>2.2 ä¼˜åŠ¿ä¸åº”ç”¨åœºæ™¯</strong></h5>
<ul>
<li><strong>å‡å°‘æ ·æ¿ä»£ç </strong>ï¼šé¿å…æ‰‹åŠ¨å£°æ˜ç§æœ‰å­—æ®µå’Œé‡å¤çš„getteré€»è¾‘ã€‚</li>
<li><strong>è§†è§‰ç®€æ´æ€§</strong>ï¼šç±»å®šä¹‰æ›´ç´§å‡‘ï¼Œé€‚åˆéœ€è¦å¤§é‡ç®€å•æ ¡éªŒçš„åœºæ™¯ï¼ˆå¦‚DTOéªŒè¯ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-8"><strong>3. ç©ºæ¡ä»¶èµ‹å€¼ï¼šå®‰å…¨ä¸”ç®€æ´çš„é“¾å¼æ“ä½œ</strong></h4>
<h5 data-id="heading-9"><strong>3.1 è¯­æ³•æ”¹è¿›</strong></h5>
<p>æ­¤å‰ï¼Œç©ºå€¼ä¿æŠ¤èµ‹å€¼éœ€è¦æ˜¾å¼æ¡ä»¶åˆ¤æ–­ï¼Œè€ŒC# 14å…è®¸ç›´æ¥åœ¨èµ‹å€¼å·¦ä¾§ä½¿ç”¨<code>?.</code>æ“ä½œç¬¦ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ—§å†™æ³•</span>
<span class="hljs-keyword">if</span> (customer <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>) 
{
    customer.Order = CreateOrder();
}

<span class="hljs-comment">// æ–°å†™æ³•</span>
customer?.Order = CreateOrder();  <span class="hljs-comment">// ä»…å½“customeréç©ºæ—¶æ‰§è¡Œèµ‹å€¼</span>
</code></pre>
<h5 data-id="heading-10"><strong>3.2 å¤åˆèµ‹å€¼æ”¯æŒ</strong></h5>
<p>è¯¥ç‰¹æ€§åŒæ ·é€‚ç”¨äº<code>+=</code>ç­‰å¤åˆæ“ä½œï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">customer?.Total += CalculateIncrement();  <span class="hljs-comment">// é¿å…ä¸­é—´å˜é‡å’Œé‡å¤æ£€æŸ¥</span>
</code></pre>
<hr/>
<h4 data-id="heading-11"><strong>4. éƒ¨åˆ†äº‹ä»¶ä¸æ„é€ å‡½æ•°ï¼šå¢å¼ºä»£ç ç»„ç»‡èƒ½åŠ›</strong></h4>
<h5 data-id="heading-12"><strong>4.1 åˆ†éƒ¨ç±»å‹çš„æ‰©å±•</strong></h5>
<p>C# 14å…è®¸å°†<strong>äº‹ä»¶</strong>å’Œ<strong>æ„é€ å‡½æ•°</strong>çš„é€»è¾‘æ‹†åˆ†åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™å¯¹å¤§å‹ç”Ÿæˆä»£ç ï¼ˆå¦‚Source Generatorsï¼‰å°¤ä¸ºé‡è¦ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ–‡ä»¶1ï¼šå£°æ˜éƒ¨åˆ†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">event</span> EventHandler Changed;
}

<span class="hljs-comment">// æ–‡ä»¶2ï¼šå®ç°éƒ¨åˆ†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">event</span> EventHandler Changed
    {
        <span class="hljs-keyword">add</span> =&amp;gt; _changed += <span class="hljs-keyword">value</span>;
        <span class="hljs-keyword">remove</span> =&amp;gt; _changed -= <span class="hljs-keyword">value</span>;
    }
}
</code></pre>
<h5 data-id="heading-13"><strong>4.2 ä¸»æ„é€ å‡½æ•°çš„åˆ†å¸ƒå¼å®ç°</strong></h5>
<p>ä¸»æ„é€ å‡½æ•°ï¼ˆPrimary Constructorï¼‰ç°åœ¨æ”¯æŒåœ¨åˆ†éƒ¨ç±»ä¸­æ·»åŠ åˆå§‹åŒ–é€»è¾‘ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> size</span>)</span> 
{
    <span class="hljs-comment">// ä¸»æ„é€ å‡½æ•°å£°æ˜</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span>
{
    <span class="hljs-comment">// æ·»åŠ åˆå§‹åŒ–é€»è¾‘</span>
    <span class="hljs-keyword">public</span> Widget { Initialize(); }
}
</code></pre>
<hr/>
<h4 data-id="heading-14"><strong>5. æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§</strong></h4>
<h5 data-id="heading-15"><strong>5.1 éšå¼Spanè½¬æ¢</strong></h5>
<p><code>Span&lt;t&gt;</code>å’Œ<code>ReadOnlySpan&lt;t&gt;</code>æ˜¯é«˜æ€§èƒ½æ— åˆ†é…APIçš„æ ¸å¿ƒã€‚C# 14å…è®¸æ•°ç»„å’Œå­—ç¬¦ä¸²åˆ‡ç‰‡ç›´æ¥éšå¼è½¬æ¢ä¸ºSpanï¼Œå‡å°‘æ˜¾å¼è°ƒç”¨<code>AsSpan()</code>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ—§å†™æ³•</span>
ReadOnlySpan&lt;<span class="hljs-built_in">char</span>&gt; key = line.AsSpan(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);

<span class="hljs-comment">// æ–°å†™æ³•</span>
ProcessKey(line[.<span class="hljs-number">.5</span>]);  <span class="hljs-comment">// éšå¼è½¬æ¢ä¸ºSpan</span>
</code></pre>
<h5 data-id="heading-16"><strong>5.2 ç”¨æˆ·è‡ªå®šä¹‰å¤åˆèµ‹å€¼</strong></h5>
<p>é«˜æ€§èƒ½æ•°å€¼ç±»å‹ï¼ˆå¦‚å‘é‡è®¡ç®—ï¼‰å¯é€šè¿‡å®šä¹‰<code>+=</code>è¿ç®—ç¬¦é¿å…ä¸´æ—¶å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Vector3D
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-keyword">operator</span> +=(Vector3D other) 
    { 
        X += other.X; 
        Y += other.Y;
    }
}
</code></pre>
<p>æ­¤ç‰¹æ€§å¯æå‡SIMDå’Œæ•°å­¦åº“çš„æ€§èƒ½ï¼Œå‡å°‘å¾ªç¯ä¸­çš„ä¸­é—´ç»“æœåˆ†é…ã€‚</p>
<hr/>
<h3 data-id="heading-17"><strong>ç»“è®º</strong></h3>
<p>C# 14é€šè¿‡<strong>æ‰©å±•æˆå‘˜</strong>ã€<strong>å­—æ®µå…³é”®è¯</strong>ç­‰ç‰¹æ€§æ˜¾è‘—æå‡äº†å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶å€ŸåŠ©<strong>éšå¼Spanè½¬æ¢</strong>å’Œ<strong>å¤åˆèµ‹å€¼</strong>ä¼˜åŒ–äº†è¿è¡Œæ—¶æ€§èƒ½ã€‚è¿™äº›æ”¹è¿›å…±åŒæ¨åŠ¨C#æˆä¸ºæ›´å¼ºå¤§ã€æ›´çµæ´»çš„è¯­è¨€é€‰æ‹©ã€‚å¼€å‘è€…å¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿä¸Šæ‰‹ï¼š</p>
<ol>
<li>åœ¨ç°æœ‰é¡¹ç›®ä¸­é€æ­¥æ›¿æ¢æ‰©å±•æ–¹æ³•ä¸ºæ‰©å±•å—ï¼›</li>
<li>ä½¿ç”¨<code>field</code>ç®€åŒ–å±æ€§é€»è¾‘ï¼›</li>
<li>åœ¨èµ„æºæ•æ„Ÿåœºæ™¯ä¸­åº”ç”¨Spanå’Œè‡ªå®šä¹‰è¿ç®—ç¬¦ã€‚</li>
</ol>
<p>C# 14ä¸ä»…æ˜¯è¯­æ³•ç³–çš„é›†åˆï¼Œæ›´æ˜¯å¯¹å¼€å‘èŒƒå¼çš„å‡çº§ï¼Œå€¼å¾—æ‰€æœ‰.NETå¼€å‘è€…æ·±å…¥æ¢ç´¢ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ 99%ç”± Trae AI å¼€å‘çš„ React KeepAlive ç»„ä»¶ï¼Œç«Ÿç„¶å¦‚æ­¤ä¼˜é›…ï¼âœ¨]]></title>    <link>https://juejin.cn/post/7573694361475285019</link>    <guid>https://juejin.cn/post/7573694361475285019</guid>    <pubDate>2025-11-18T09:38:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361475285019" data-draft-id="7573694361474891803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ 99%ç”± Trae AI å¼€å‘çš„ React KeepAlive ç»„ä»¶ï¼Œç«Ÿç„¶å¦‚æ­¤ä¼˜é›…ï¼âœ¨"/> <meta itemprop="keywords" content="å‰ç«¯,Trae"/> <meta itemprop="datePublished" content="2025-11-18T09:38:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¼€å‘å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/3562073406322600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ 99%ç”± Trae AI å¼€å‘çš„ React KeepAlive ç»„ä»¶ï¼Œç«Ÿç„¶å¦‚æ­¤ä¼˜é›…ï¼âœ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3562073406322600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¼€å‘å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:38:19.000Z" title="Tue Nov 18 2025 09:38:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ğŸ”¥ 99%ç”± Trae AI å¼€å‘çš„ React KeepAlive ç»„ä»¶ï¼Œç«Ÿç„¶å¦‚æ­¤ä¼˜é›…ï¼âœ¨</h2>
<blockquote>
<p><strong>æ¸©é¦¨æç¤ºï¼šé™¤æœ¬æ–‡ç¬¬ä¸€è¡Œæç¤ºä¹‹å¤–ï¼Œæœ¬é¡¹ç›®çš„ä»£ç  99%ç”± Trae AI å¼€å‘ï¼Œå¦‚æ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚</strong></p>
<p><strong>â€”â€” é¡¹ç›® README</strong></p>
</blockquote>
<p>Hey å„ä½å‰ç«¯å°ä¼™ä¼´ä»¬ï½ à¬˜(à©­<em>ËŠáµ•Ë‹)à©­</em> à©ˆâœ©</p>
<p>ä»Šå¤©è¦ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªè¶…çº§æœ‰è¶£çš„ React ç»„ä»¶â€”â€”<code>react-activity-keep-alive</code>ï¼è¿™ä¸ªé¡¹ç›®å¯ä¸ç®€å•å‘¢ï¼Œå®ƒæœ‰ 99% çš„ä»£ç éƒ½æ˜¯ç”± Trae AI ç”Ÿæˆçš„ï¼Œæ˜¯ä¸æ˜¯å¾ˆå‰å®³ï¼Ÿ~ (ï½¡â™¡â€¿â™¡ï½¡)</p>
<h3 data-id="heading-1">ğŸ¯ ä¸ºå•¥è¦åšè¿™ä¸ªç»„ä»¶ï¼Ÿ</h3>
<p>ç”¨è¿‡ Vue çš„å°ä¼™ä¼´ä»¬éƒ½çŸ¥é“ï¼ŒVue æœ‰ä¸ªè¶…å¥½ç”¨çš„ <code>&lt;KeepAlive&gt;</code> ç»„ä»¶ï¼Œå¯ä»¥åœ¨è·¯ç”±åˆ‡æ¢æ—¶ç¼“å­˜é¡µé¢çŠ¶æ€ã€‚ä½†æ˜¯ React ä¸€ç›´ç¼ºå°‘è¿™æ ·çš„ä¼˜é›…è§£å†³æ–¹æ¡ˆï¼Œå¯¹ä¸å¯¹ï¼ŸÙ©(Ë˜â—¡Ë˜)Û¶</p>
<p>ç›´åˆ° React 19.2 å¼•å…¥äº† <code>Activity</code> APIï¼Œè¿™ä¸ªå±€é¢æ‰æœ‰æ‰€æ”¹å˜ã€‚è€Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ï¼Œå°±æ˜¯åŸºäºè¿™ä¸ªæ–° API æ‰“é€ çš„ React ç‰ˆ KeepAliveï¼</p>
<h3 data-id="heading-2">ğŸŒŸ é¡¹ç›®äº®ç‚¹ä¸€è§ˆ</h3>
<p>è®©æˆ‘æ¥ç»™å¤§å®¶ä»‹ç»è¿™ä¸ªé¡¹ç›®çš„å‡ å¤§äº®ç‚¹å§ï½ (â‰§âˆ‡â‰¦)/</p>
<h4 data-id="heading-3">1. ğŸš€ 99% AI å¼€å‘ï¼Œè´¨é‡è¿˜è¿™ä¹ˆé«˜ï¼</h4>
<p>æ²¡é”™ï¼Œä½ æ²¡çœ‹é”™ï¼è¿™ä¸ªé¡¹ç›®çš„æºä»£ç å‡ ä¹å…¨éƒ¨ç”± Trae AI ç”Ÿæˆã€‚ä»æ¶æ„è®¾è®¡åˆ°ä»£ç å®ç°ï¼Œä»ç±»å‹å®šä¹‰åˆ°æ³¨é‡Šæ–‡æ¡£ï¼Œéƒ½æ˜¯ AI çš„æ°ä½œï¼æ˜¯ä¸æ˜¯å¾ˆéœ‡æ’¼ï¼Ÿ Î£(ã£ Â°Ğ” Â°;)ã£</p>
<h4 data-id="heading-4">2. ğŸ“± å®Œæ•´çš„ KeepAlive è¯­ä¹‰æ”¯æŒ</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeepAlive</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-activity-keep-alive"</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">KeepAlive</span>
  <span class="hljs-attr">activeKey</span>=<span class="hljs-string">{pathname}</span>
  <span class="hljs-attr">include</span>=<span class="hljs-string">{[/^\/demo/]}</span> // <span class="hljs-attr">åªç¼“å­˜</span> /<span class="hljs-attr">demo</span> <span class="hljs-attr">å¼€å¤´çš„è·¯ç”±</span>
  <span class="hljs-attr">exclude</span>=<span class="hljs-string">{[/^\/admin/]}</span> // <span class="hljs-attr">ä¸ç¼“å­˜</span> /<span class="hljs-attr">admin</span> <span class="hljs-attr">å¼€å¤´çš„è·¯ç”±</span>
  <span class="hljs-attr">max</span>=<span class="hljs-string">{3}</span> // <span class="hljs-attr">æœ€å¤šç¼“å­˜</span> <span class="hljs-attr">3</span> <span class="hljs-attr">ä¸ª</span>ï¼Œ<span class="hljs-attr">LRU</span> <span class="hljs-attr">ç­–ç•¥</span>
&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">KeepAlive</span>&gt;</span></span>;
</code></pre>
<p>æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿï¼Ÿæ²¡é”™ï¼Œå®ƒå®Œç¾å¤åˆ»äº† Vue KeepAlive çš„ API è®¾è®¡ï¼â˜†*:.ï½¡. o(â‰§â–½â‰¦)o .ï½¡.:*â˜†</p>
<h4 data-id="heading-5">3. ğŸª ä¸°å¯Œçš„æ¼”ç¤ºåœºæ™¯</h4>
<p>é¡¹ç›®å†…ç½®äº†ä¸€ä¸ªè¶…æ£’çš„ playgroundï¼ŒåŒ…å«å„ç§æ¼”ç¤ºï¼š</p>
<p>ğŸŒ <strong>åœ¨çº¿æ¼”ç¤º</strong>ï¼šä½ å¯ä»¥ç›´æ¥è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fliujiayii.github.io%2Freact-keep-alive%2F" target="_blank" title="https://liujiayii.github.io/react-keep-alive/" ref="nofollow noopener noreferrer">liujiayii.github.io/react-keep-â€¦</a> ä½“éªŒæ‰€æœ‰åŠŸèƒ½ï¼ä¸éœ€è¦æœ¬åœ°æ­å»ºï½ âœ¨</p>
<ul>
<li><strong>LRU ç¼“å­˜æ¼”ç¤º</strong>ï¼šè§‚å¯Ÿç¼“å­˜æ·˜æ±°ç­–ç•¥</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸæ¼”ç¤º</strong>ï¼šçœ‹çœ‹æ¿€æ´»/å¤±æ´»é’©å­çš„æ•ˆæœ</li>
<li><strong>åµŒå¥—ç¼“å­˜æ¼”ç¤º</strong>ï¼šå¤šå±‚ KeepAlive çš„å¤æ‚åœºæ™¯</li>
<li><strong>çŠ¶æ€ä¿æŒæ¼”ç¤º</strong>ï¼šè¾“å…¥æ¡†æ•°æ®ã€æ»šåŠ¨ä½ç½®éƒ½èƒ½å®Œç¾ä¿æŒ</li>
</ul>
<h4 data-id="heading-6">4. ğŸ›ï¸ å¼ºå¤§çš„æ§åˆ¶èƒ½åŠ›</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useAliveController } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-activity-keep-alive"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">CacheController</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { drop, dropScope, refresh, refreshScope, clear } = <span class="hljs-title function_">useAliveController</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> drop("/demo/a")}&gt;åˆ é™¤ç¼“å­˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> clear()}&gt;æ¸…ç©ºæ‰€æœ‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> refresh("/demo/b")}&gt;åˆ·æ–°ç¼“å­˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {/* ç­‰ç­‰... */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>æƒ³è¦ä¸»åŠ¨æ§åˆ¶ç¼“å­˜ï¼Ÿæ²¡é—®é¢˜ï¼éšæ„åˆ é™¤ã€åˆ·æ–°ã€æ¸…ç©ºï¼Œç»Ÿç»Ÿæ”¯æŒï½ ( â—•â€¿â—• )</p>
<h3 data-id="heading-7">ğŸ”§ æŠ€æœ¯å®ç°æ­ç§˜</h3>
<p>ç°åœ¨æ¥èŠèŠæŠ€æœ¯å®ç°å§ï½ âœ§(â‰– â—¡ â‰–)</p>
<h4 data-id="heading-8">å†å²èƒŒæ™¯ï¼šè‡´æ•¬ react-activation</h4>
<p>åœ¨ React 19.2 ä¹‹å‰ï¼Œç¤¾åŒºé‡Œæœ‰ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„åº“å« <code>react-activation</code>ï¼å®ƒä¸º React ç”Ÿæ€å¸¦æ¥äº† KeepAlive çš„æ¦‚å¿µï¼Œè®©æ— æ•°å¼€å‘è€…å—ç›Šï½ (Â´âˆ€`)</p>
<p><strong>react-activation çš„è´¡çŒ®</strong>ï¼š</p>
<ul>
<li>âœ… å¼€åˆ›äº† React KeepAlive çš„å…ˆæ²³ï¼Œæ»¡è¶³äº†æ— æ•°å¼€å‘è€…çš„éœ€æ±‚</li>
<li>âœ… æä¾›äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å’ŒçŠ¶æ€ä¿æŒåŠŸèƒ½</li>
<li>âœ… è™½ç„¶ä½¿ç”¨äº†å¿«ç…§æŠ€æœ¯ï¼Œä½†åœ¨å½“æ—¶çš„æŠ€æœ¯æ¡ä»¶ä¸‹æ˜¯ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ</li>
<li>âœ… API è®¾è®¡æ¸…æ™°ï¼Œå­¦ä¹ æˆæœ¬å¯æ§</li>
</ul>
<p>ç”±äºå®ƒåŸºäº React 18 çš„æŠ€æœ¯æ ˆè®¾è®¡ï¼Œè‡ªç„¶æ— æ³•é€‚é… React 19.2 çš„æ–°ç‰¹æ€§ã€‚ä½†æ­£æ˜¯å®ƒçš„å­˜åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹åˆ°äº† KeepAlive çš„å·¨å¤§ä»·å€¼ï¼</p>
<p>å½“ React 19.2 å¸¦æ¥äº†åŸç”Ÿçš„ <code>Activity</code> API æ—¶ï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¥½çš„æŠ€æœ¯åŸºç¡€æ¥é‡æ–°å®ç°è¿™ä¸ªåŠŸèƒ½ï½ âœ¨ è¿™å°±æ˜¯ç«™åœ¨å·¨äººè‚©è†€ä¸Šçš„åŠ›é‡ï¼Ù©(Ë˜â—¡Ë˜)Û¶</p>
<h4 data-id="heading-9">åŸºäº React 19.2 Activity</h4>
<p>è¿™ä¸ªç»„ä»¶çš„æ ¸å¿ƒåœ¨äº React 19.2 çš„ <code>Activity</code> APIï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">&lt;<span class="hljs-title class_">Activity</span> active={isActive}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> <span class="hljs-attr">isActive</span> ? <span class="hljs-attr">undefined</span> <span class="hljs-attr">:</span> "<span class="hljs-attr">none</span>" }}&gt;</span>
    {/* ç»„ä»¶å†…å®¹ */}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">Activity</span>&gt;;
</code></pre>
<p><code>Activity</code> çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼š<strong>å¤±æ´»çš„ç»„ä»¶ä¸ä¼š unmountï¼Œåªä¼šéšè—</strong>ï¼è¿™å°±ä¸º KeepAlive æä¾›äº†æŠ€æœ¯åŸºç¡€ï½ (ï½¡â—•â€¿â—•ï½¡)</p>
<h4 data-id="heading-10">LRU ç¼“å­˜ç­–ç•¥å®ç°</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// LRU é˜Ÿåˆ—ï¼šæœ€æ—§åœ¨å‰ï¼Œæœ€æ–°åœ¨å</span>
<span class="hljs-keyword">const</span> orderRef = useRef&lt;<span class="hljs-built_in">string</span>[]&gt;([]);

<span class="hljs-comment">// æ·˜æ±°è¶…å‡ºå®¹é‡çš„ç¼“å­˜</span>
<span class="hljs-keyword">while</span> (cache.<span class="hljs-property">size</span> &gt; max) {
  <span class="hljs-keyword">const</span> victim = orderRef.<span class="hljs-property">current</span>[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">if</span> (!victim || victim === activeKey)
    <span class="hljs-keyword">break</span>;
  orderRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">shift</span>();
  cacheRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">delete</span>(victim);
}
</code></pre>
<p>LRU ç®—æ³•ç¡®ä¿æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ç¼“å­˜ä¼šè¢«ä¼˜å…ˆæ·˜æ±°ï¼Œä¿æŒç¼“å­˜çš„é«˜æ•ˆåˆ©ç”¨ï½ à¬˜(à©­ËŠáµ•Ë‹)à©­* à©ˆ</p>
<h4 data-id="heading-11">ä½œç”¨åŸŸåµŒå¥—ç®¡ç†</h4>
<h4 data-id="heading-12">ä½œç”¨åŸŸåµŒå¥—ç®¡ç†</h4>
<p>é¡¹ç›®å†…éƒ¨å®ç°äº†ä½œç”¨åŸŸç®¡ç†æœºåˆ¶æ¥æ”¯æŒå¤šå±‚ <code>&lt;KeepAlive&gt;</code> çš„åµŒå¥—ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// å†…éƒ¨å®ç°ï¼ˆç”¨æˆ·æ— éœ€å…³å¿ƒï¼‰</span>
&lt;<span class="hljs-title class_">AliveScopeProvider</span> name={key}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AliveItemProvider</span> <span class="hljs-attr">active</span>=<span class="hljs-string">{isActive}</span>&gt;</span>
    {node}
  <span class="hljs-tag">&lt;/<span class="hljs-name">AliveItemProvider</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">AliveScopeProvider</span>&gt;;
</code></pre>
<p>è¿™ä¸ªæœºåˆ¶è®©é¡¹ç›®èƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†å¤æ‚çš„åµŒå¥—ç¼“å­˜åœºæ™¯ï¼Œè‡ªåŠ¨ç®¡ç†ä¸åŒå±‚çº§çš„ä½œç”¨åŸŸï½ ãƒ¾(â‰§âˆ‡â‰¦*)ã‚</p>
<h3 data-id="heading-13">ğŸ® å®é™…ä½¿ç”¨æ•ˆæœ</h3>
<p>è®©æˆ‘ç»™å¤§å®¶å±•ç¤ºä¸€ä¸‹å®é™…çš„ä½¿ç”¨æ•ˆæœå§ï¼</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªè®¡æ•°å™¨é¡µé¢ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">DemoPage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>
        è®¡æ•°å™¨ï¼š
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
        ç‚¹æˆ‘å¢åŠ 
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åˆ‡æ¢è·¯ç”±å†å›æ¥ï¼Œçœ‹çœ‹æ•°æ®è¿˜åœ¨ä¸åœ¨ï½ (â—•â€¿â—•)<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å½“ä½ ç‚¹å‡»æŒ‰é’®å¢åŠ åˆ° 10ï¼Œç„¶ååˆ‡æ¢åˆ°å…¶ä»–é¡µé¢ï¼Œå†å›æ¥çš„æ—¶å€™ï¼š</p>
<p>âœ¨ <strong>æ•°æ®å®Œå…¨ä¿æŒï¼è¿˜æ˜¯ 10ï¼æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼</strong> âœ¨</p>
<p>è¿™å°±æ˜¯ KeepAlive çš„é­…åŠ›æ‰€åœ¨ï½ (â‰§âˆ‡â‰¦)/</p>
<h3 data-id="heading-14">ğŸ—ï¸ é¡¹ç›®ç»“æ„ä¸€è§ˆ</h3>
<pre><code class="hljs language-bash" lang="bash">react-keep-alive/
â”œâ”€â”€ src/                    <span class="hljs-comment"># æ ¸å¿ƒåº“ä»£ç </span>
â”‚   â”œâ”€â”€ KeepAlive.tsx      <span class="hljs-comment"># ä¸»ç»„ä»¶ï¼ˆ244 è¡Œç²¾åä»£ç ï¼‰</span>
â”‚   â”œâ”€â”€ hooks.ts           <span class="hljs-comment"># ç”Ÿå‘½å‘¨æœŸé’©å­</span>
â”‚   â””â”€â”€ context.tsx        <span class="hljs-comment"># ä½œç”¨åŸŸç®¡ç†</span>
â”œâ”€â”€ playground/            <span class="hljs-comment"># æ¼”ç¤ºåº”ç”¨</span>
â”‚   â”œâ”€â”€ src/pages/         <span class="hljs-comment"># å„ç§æ¼”ç¤ºé¡µé¢</span>
â”‚   â””â”€â”€ src/App.tsx        <span class="hljs-comment"># ä¸»åº”ç”¨</span>
â””â”€â”€ README.md              <span class="hljs-comment"># è¶…è¯¦ç»†çš„æ–‡æ¡£</span>
</code></pre>
<p>æ•´ä¸ªé¡¹ç›®åªæœ‰ 4 ä¸ªä¸»è¦æ–‡ä»¶ï¼Œå´å®ç°äº†å®Œæ•´çš„ KeepAlive åŠŸèƒ½ï¼Œæ˜¯ä¸æ˜¯å¾ˆç²¾ç®€ï¼Ÿ Î£(ã£ Â°Ğ” Â°;)ã£</p>
<h3 data-id="heading-15">ğŸ› ï¸ å¼€å‘ä½“éªŒ</h3>
<p>å¼€å‘è¿™ä¸ªé¡¹ç›®çš„æ„Ÿè§‰çœŸçš„å¾ˆæ£’ï½ (ï½¡â™¡â€¿â™¡ï½¡)</p>
<ul>
<li><strong>TypeScript æ”¯æŒ</strong>ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰ï¼ŒIDE å‹å¥½</li>
<li><strong>ESLint é…ç½®</strong>ï¼šä»£ç è´¨é‡æœ‰ä¿éšœ</li>
<li><strong>Husky + lint-staged</strong>ï¼šæäº¤å‰è‡ªåŠ¨æ£€æŸ¥</li>
<li><strong>Playground æ¼”ç¤º</strong>ï¼šè¾¹å¼€å‘è¾¹éªŒè¯</li>
</ul>
<p>æœ€å…³é”®çš„æ˜¯ï¼Œæœ‰äº† Trae AI çš„åŠ æŒï¼Œå¼€å‘æ•ˆç‡çœŸçš„å¤ªé«˜äº†ï¼å‡ ä¹æ‰€æœ‰çš„ä»£ç é€»è¾‘ã€ç±»å‹å®šä¹‰ã€æ³¨é‡Šæ–‡æ¡£ï¼Œéƒ½æ˜¯ AI è‡ªåŠ¨ç”Ÿæˆçš„ï¼</p>
<h3 data-id="heading-16">ğŸŠ æ€»ç»“</h3>
<p>è¿™ä¸ª <code>react-activity-keep-alive</code> é¡¹ç›®çœŸçš„å¾ˆè®©äººå…´å¥‹å‘¢ï½ âœ¨</p>
<ol>
<li><strong>æŠ€æœ¯å…ˆè¿›</strong>ï¼šåŸºäº React 19.2 Activityï¼Œæ€§èƒ½ä¼˜ç§€</li>
<li><strong>API å‹å¥½</strong>ï¼šå®Œå…¨å¯¹é½ Vue KeepAliveï¼Œå­¦ä¹ æˆæœ¬ä½</li>
<li><strong>åŠŸèƒ½å®Œæ•´</strong>ï¼šLRU ç¼“å­˜ã€ç”Ÿå‘½å‘¨æœŸã€æ§åˆ¶æ¥å£ä¸€åº”ä¿±å…¨</li>
<li><strong>AI åŠ æŒ</strong>ï¼š99% ä»£ç ç”± AI ç”Ÿæˆï¼Œå¼€å‘æ•ˆç‡æƒŠäºº</li>
<li><strong>æ¼”ç¤ºä¸°å¯Œ</strong>ï¼šå†…ç½® playgroundï¼Œæ‰€è§å³æ‰€å¾—</li>
</ol>
<p>å¦‚æœä½ çš„é¡¹ç›®æ­£åœ¨ä½¿ç”¨ React 19.2+ï¼ŒçœŸçš„æ¨èè¯•è¯•è¿™ä¸ªç»„ä»¶ï¼è®©ä½ çš„è·¯ç”±åˆ‡æ¢ä½“éªŒæ›´ä¸Šä¸€å±‚æ¥¼ï½ ( â—•â€¿â—• )</p>
<h3 data-id="heading-17">ğŸ”— ç›¸å…³é“¾æ¥</h3>
<ul>
<li><strong>GitHub åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliujiayii%2Freact-keep-alive" target="_blank" title="https://github.com/liujiayii/react-keep-alive" ref="nofollow noopener noreferrer">github.com/liujiayii/râ€¦</a></li>
<li><strong>ğŸŒ åœ¨çº¿æ¼”ç¤º</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fliujiayii.github.io%2Freact-keep-alive%2F" target="_blank" title="https://liujiayii.github.io/react-keep-alive/" ref="nofollow noopener noreferrer">liujiayii.github.io/react-keep-â€¦</a> - ç›´æ¥æµè§ˆå™¨ä½“éªŒï¼</li>
<li><strong>æœ¬åœ°æ¼”ç¤º</strong>ï¼šå¯åŠ¨ playgroundï¼š<code>pnpm -C playground dev</code></li>
</ul>
<hr/>
<p><strong>å°è´´å£«</strong>ï¼šé¡¹ç›®è¦æ±‚ React 19.2+ ç‰ˆæœ¬å“¦ï¼Œå¦‚æœä½ çš„é¡¹ç›®è¿˜åœ¨ç”¨æ—§ç‰ˆæœ¬ï¼Œå»ºè®®å‡çº§ä¸€ä¸‹ï½ à¬˜(à©­<em>ËŠáµ•Ë‹)à©­</em> à©ˆâœ©</p>
<p>å¥½å•¦ï¼Œä»Šå¤©çš„ä»‹ç»å°±åˆ°è¿™é‡Œï¼å¸Œæœ›è¿™ä¸ªç”± Trae AI å¼€å‘çš„ KeepAlive ç»„ä»¶èƒ½ç»™å¤§å®¶å¸¦æ¥å¸®åŠ©ï½ å¦‚æœè§‰å¾—æœ‰ç”¨çš„è¯ï¼Œè®°å¾—ç»™é¡¹ç›®ç‚¹ä¸ª Star å“¦ï¼â˜†*:.ï½¡. o(â‰§â–½â‰¦)o .ï½¡.:*â˜†</p>
<p>(â—•â€¿â—•)ï¾‰bye bye~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Canvaså­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7573738017988640811</link>    <guid>https://juejin.cn/post/7573738017988640811</guid>    <pubDate>2025-11-18T09:49:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988640811" data-draft-id="7573855399716470803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Canvaså­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Canvas"/> <meta itemprop="datePublished" content="2025-11-18T09:49:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æ˜¯é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1704656590610676"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Canvaså­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1704656590610676/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æ˜¯é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:49:33.000Z" title="Tue Nov 18 2025 09:49:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ Canvas</h3>
<p>Canvas æ˜¯ HTML5 ä¸­æ–°å¢çš„ä¸€ç§æ ‡ç­¾ï¼Œè¡¨ç¤ºä¸€ä¸ªç”»å¸ƒï¼Œåªæ˜¯å›¾å½¢å®¹å™¨ï¼Œç»˜åˆ¶åŠŸèƒ½å¿…é¡»ä½¿ç”¨jsæ¥å®ç°ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;!doctype html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åŸºç¡€çš„HTML5é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"canvas"</span>&gt;</span>
            è¿™é‡Œæ˜¯canvasæ ‡ç­¾ï¼Œå½“ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒcanvasæ—¶ï¼Œä¼šæ˜¾ç¤ºè¿™è¡Œæ–‡å­—
	<span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span> 

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</span></code></pre>
<p>æ‰“å¼€åä¼šæ˜¯ä¸€ä¸ªå®Œå…¨ç©ºç™½çš„ç”»é¢ï¼Œå› ä¸ºcanvasæœ¬æ„å°±æ˜¯ä¸€å—ç”»å¸ƒï¼Œç”»å¸ƒåœ¨html5ä¸­æ˜¯é€æ˜çš„ï¼Œä¸å¯è§çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/646cf23d6a26415c90537a193f6ecaac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=zzyq3cyC2ZfdAXRL51Jr6L%2FArbo%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">ç»˜åˆ¶å‰çš„å‡†å¤‡</h3>
<h5 data-id="heading-2">è·å– Canvas å¯¹è±¡ï¼š</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'canvas'</span>);
</code></pre>
<h5 data-id="heading-3">è·å–ç”»ç¬”</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> context = canvas.<span class="hljs-title function_">getContext</span>(contextType, contextAttributes?);
<span class="hljs-keyword">const</span> context = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>, {
  <span class="hljs-attr">alpha</span>: <span class="hljs-literal">true</span>,          <span class="hljs-comment">// å¯ç”¨é€æ˜é€šé“ï¼ˆé»˜è®¤å°±æ˜¯trueï¼‰</span>
});
</code></pre>
<p><code>getContext</code>æ–¹æ³•ç”¨äºè·å– Canvas å…ƒç´ çš„ç»˜å›¾ä¸Šä¸‹æ–‡ï¼Œæ¥å¯¹ Canvas å…ƒç´ è¿›è¡Œç»˜åˆ¶æ“ä½œï¼Œé€šå¸¸æ˜¯ 2D ç±»å‹ï¼Œç”¨äºäºŒç»´ç»˜å›¾ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¿…é¡»ä¼ çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨é…ç½®ä¸Šä¸‹æ–‡çš„è¡Œä¸ºï¼Œä¸åŒçš„ä¸Šä¸‹æ–‡çš„é…ç½®å±æ€§ä¸åŒã€‚</p>
<ul>
<li><code>2d</code></li>
</ul>






























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>alpha</code></td><td>æ˜¯å¦åŒ…å«alphaé€šé“ï¼ˆé€æ˜åº¦ï¼‰</td><td><code>true</code></td></tr><tr><td><code>colorSpace</code></td><td>æŒ‡å®šæ¸²æŸ“ä¸Šä¸‹æ–‡çš„è‰²å½©ç©ºé—´ï¼ˆ<code>srgb</code>æˆ–<code>display-p3</code>ï¼‰</td><td><code>srgb</code></td></tr><tr><td><code>desynchronized</code></td><td>æ˜¯å¦å°†ç”»å¸ƒç»˜åˆ¶å‘¨æœŸä¸äº‹ä»¶å¾ªç¯è§£è€¦ä»¥å‡å°‘å»¶è¿Ÿ</td><td><code>false</code></td></tr><tr><td><code>willReadFrequently</code></td><td>æ˜¯å¦é¢‘ç¹è¯»å–åƒç´ ï¼ˆç”¨äºä¼˜åŒ–<code>getImageData()</code>æ€§èƒ½ï¼‰</td><td><code>false</code></td></tr></tbody></table>
<ul>
<li><code>webgl</code></li>
</ul>


















































<table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>alpha</code></td><td>æ˜¯å¦åŒ…å«alphaé€šé“</td><td>å’Œ2Dä¸€æ ·</td></tr><tr><td><code>antialias</code></td><td>æ˜¯å¦å¼€å¯æŠ—é”¯é½¿</td><td>è®©å›¾å½¢è¾¹ç¼˜æ›´å¹³æ»‘</td></tr><tr><td><code>depth</code></td><td>æ˜¯å¦åŒ…å«æ·±åº¦ç¼“å†²åŒº</td><td>ç”¨äº3Dåœºæ™¯çš„æ·±åº¦æ£€æµ‹</td></tr><tr><td><code>failIfMajorPerformanceCaveat</code></td><td>æ€§èƒ½ä½æ—¶æ˜¯å¦åˆ›å»ºä¸Šä¸‹æ–‡</td><td><code>true</code>ï¼šæ€§èƒ½å·®æ—¶å¤±è´¥</td></tr><tr><td><code>powerPreference</code></td><td>GPUç”µæºåå¥½</td><td><code>default</code>/<code>high-performance</code>/<code>low-power</code></td></tr><tr><td><code>premultipliedAlpha</code></td><td>æ˜¯å¦é¢„æ··åˆalpha</td><td>ç”¨äºå›¾åƒåˆæˆ</td></tr><tr><td><code>preserveDrawingBuffer</code></td><td>æ˜¯å¦ä¿å­˜ç¼“å†²åŒº</td><td><code>true</code>ï¼šå¯ä»¥å¤šæ¬¡è¯»å–</td></tr><tr><td><code>stencil</code></td><td>æ˜¯å¦åŒ…å«æ¨¡ç‰ˆç¼“å†²åŒº</td><td>ç”¨äºå¤æ‚é®ç½©æ•ˆæœ</td></tr></tbody></table>
<p>å°ç»“ä¸€ä¸‹ï¼šå‡†å¤‡å·¥ä½œå°±åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li><strong>å¸ƒç½®ç”»å¸ƒï¼šé€šè¿‡æ·»åŠ </strong><code> &lt;canvas&gt; </code><strong>æ ‡ç­¾ï¼Œæ·»åŠ canvaså…ƒç´ </strong></li>
<li><strong>è·å–ç”»å¸ƒï¼šé€šè¿‡</strong><code> &lt;canvas&gt; </code><strong>æ ‡ç­¾çš„idï¼Œè·å¾—canvaså¯¹è±¡</strong></li>
<li><strong>è·å¾—ç”»ç¬”ï¼šé€šè¿‡canvaså¯¹è±¡çš„</strong><code>getContext("2d") </code><strong>æ–¹æ³•ï¼Œè·å¾—2Dç¯å¢ƒ</strong></li>
</ol>
<hr/>
<h3 data-id="heading-4"><strong>ç»˜åˆ¶çº¿æ®µï¼š</strong></h3>
<p>åœ¨Canvasä¸­ï¼Œ<strong>æ˜¯åŸºäºçŠ¶æ€çš„ç»˜åˆ¶</strong>ï¼Œæ‰€ä»¥å‰é¢å‡ æ­¥éƒ½æ˜¯åœ¨ç¡®å®šçŠ¶æ€ï¼Œç›´åˆ°æœ€åä¸€æ­¥æ‰ä¼šå…·ä½“ç»˜åˆ¶ã€‚</p>
<p>ç»˜ç”»æ­¥éª¤å’Œç°å®ä¸­ç”»ç”»å·®ä¸å¤šï¼Œå¯ä»¥åˆ†ä¸ºå››æ­¥ï¼š</p>
<h6 data-id="heading-5">1.  é¦–å…ˆç§»åŠ¨ç”»ç¬”è‡³ç»˜ç”»çš„èµ·å§‹ä½ç½®</h6>
<pre><code class="hljs language-js" lang="js">context.<span class="hljs-title function_">moveTo</span>(x, y)
<span class="hljs-comment">// å°†ç¬”ç”»ç§»è‡³ x, y è¿™ä¸ªä½ç½®ï¼Œcanvasä¸­æ˜¯ä»¥ç”»å¸ƒçš„å·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œxè½´çš„æ­£æ–¹å‘å‘å³ï¼Œyè½´çš„æ­£æ–¹å‘å‘ä¸‹</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eddbf10a40c648e79bca69ee62fc8c79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=KQQcZApygxHa46214P6J2b6iVxE%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-6">2.  ç¡®å®šç¬¬ä¸€ç¬”çš„åœæ­¢ç‚¹</h6>
<pre><code class="hljs language-js" lang="js">context.<span class="hljs-title function_">lineTo</span>(x, y)
<span class="hljs-comment">// ä»ä¸Šä¸€ä¸ªç¬”çš„åœæ­¢ç‚¹ï¼Œç§»åŠ¨è‡³xï¼Œyè¿™é‡Œ</span>
</code></pre>
<h6 data-id="heading-7">3.  è§„åˆ’å¥½è·¯çº¿åï¼Œé€‰æ‹©ç”»ç¬”ï¼ˆç²—ç»†ï¼Œé¢œè‰²ï¼Œçº¿æ¡ç­‰ï¼‰</h6>
<p>å› ä¸º Canvas æ˜¯åŸºäºçŠ¶æ€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é€‰æ‹©ç”»ç¬”ç²—ç»†å’Œé¢œè‰²çš„åŒæ—¶ï¼Œå…¶å®ä¹Ÿæ˜¯é€‰æ‹©äº†çº¿æ¡çš„ç²—ç»†å’Œé¢œè‰²ã€‚</p>









































<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>context.lineWidth</code></td><td><strong>çº¿æ¡ç²—ç»†ï¼ˆå®½åº¦ï¼‰</strong> ï¼Œå•ä½æ˜¯åƒç´ </td><td><code>1.0</code></td><td><code>ctx.lineWidth = 5;</code></td></tr><tr><td><code>context.strokeStyle</code></td><td><strong>æè¾¹é¢œè‰²/æ ·å¼</strong>ï¼ˆå¯ä¸ºé¢œè‰²ã€æ¸å˜ã€å›¾æ¡ˆï¼‰</td><td><code>#000000</code>ï¼ˆé»‘è‰²ï¼‰</td><td><code>ctx.strokeStyle = "#AA394C";``ctx.strokeStyle = "red";``ctx.strokeStyle = gradient;</code></td></tr><tr><td><code>context.lineCap</code></td><td><strong>çº¿æ®µæœ«ç«¯æ ·å¼</strong></td><td><code>"butt"</code></td><td><code>"butt"</code>ï¼ˆå¹³å¤´ï¼‰ <code>"round"</code>ï¼ˆåœ†å¤´ï¼‰ <code>"square"</code>ï¼ˆæ–¹å¤´ï¼‰</td></tr><tr><td><code>context.lineJoin</code></td><td><strong>ä¸¤æ¡çº¿ç›¸äº¤å¤„çš„è¿æ¥æ ·å¼</strong></td><td><code>"miter"</code></td><td><code>"miter"</code>ï¼ˆå°–è§’ï¼‰ <code>"round"</code>ï¼ˆåœ†è§’ï¼‰ <code>"bevel"</code>ï¼ˆæ–œè§’ï¼‰</td></tr><tr><td><code>context.miterLimit</code></td><td><strong>å°–è§’ï¼ˆmiterï¼‰çš„æœ€å¤§é•¿åº¦é™åˆ¶</strong>ï¼ˆé˜²æ­¢è¿‡é•¿å°–è§’ï¼‰</td><td><code>10</code></td><td><code>ctx.miterLimit = 5;</code></td></tr></tbody></table>
<h6 data-id="heading-8">4. è¿›è¡Œç»˜åˆ¶</h6>
<p>ç¡®å®šç»˜åˆ¶æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js">context.<span class="hljs-title function_">fill</span>() <span class="hljs-comment">// å¡«å……</span>
context.<span class="hljs-title function_">stroke</span>() <span class="hljs-comment">// æè¾¹</span>
</code></pre>
<h6 data-id="heading-9">5. ç”»ä¸€ä¸ªçº¿æ¡ï¼</h6>
<pre><code class="hljs language-js" lang="js">&lt;body&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myCanvas"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid black;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>);
        <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
        
        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);

        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'red'</span>;

        ctx.<span class="hljs-title function_">stroke</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
&lt;/body&gt;
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4110ef73c4114e18963318062516e274~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=SsyKWdVRHvhf3uKvPmm1xVknuCs%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸€æ¡çº¢è‰²çš„çº¿æ¡å°±ç”»å¥½äº†ã€‚ä½†æ˜¯æˆ‘ä»¬ç°åœ¨åªç»™ Canvas è®¾ç½®äº†è¾¹æ¡†ï¼Œé‚£å®ƒçš„å®½é«˜æ˜¯ä»å“ªæ¥çš„å‘¢ï¼Ÿ</p>
<p>è¿™æ˜¯æµè§ˆå™¨é»˜è®¤ç»™ Canvas åˆ†é…çš„å°ºå¯¸ 300x150 åƒç´ çš„ç”»å¸ƒã€‚å¦‚æœæˆ‘ä»¬è¦è‡ªå·±è®¾ç½® Canvas å®½é«˜çš„è¯æœ‰ä¸¤ç§æ–¹æ³•</p>
<ol>
<li>é€šè¿‡æ ‡ç­¾å†…éƒ¨è®¾ç½®</li>
</ol>
<pre><code class="hljs language-js" lang="js"> &lt;canvas id=<span class="hljs-string">"myCanvas"</span> style=<span class="hljs-string">"border: 1px solid black;"</span> width = <span class="hljs-string">"500"</span> height = <span class="hljs-string">"500"</span>&gt;&lt;/canvas&gt;
</code></pre>
<ol start="2">
<li>é€šè¿‡ JS è®¾ç½®</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>);

canvas.<span class="hljs-property">width</span> = <span class="hljs-number">500</span>;
canvas.<span class="hljs-property">height</span> = <span class="hljs-number">500</span>;
</code></pre>
<p>è¿™ä¸¤ç§æ–¹å¼è®¾ç½®çš„å®½é«˜æ˜¯ç­‰æ•ˆçš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d52a13df55f64a10a2d554ccc2758a14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=0l8dw4moyAx3C8OT5wiXS5r5%2FtE%3D" alt="image.png" loading="lazy"/>
<strong>è¿™é‡Œæœ‰ä¸€ä¸ªç‰¹åˆ«éœ€è¦æ³¨æ„çš„ç‚¹ï¼šæˆ‘ä»¬è®¾ç½®çš„æ˜¯ç”»å¸ƒçš„ç‰©ç†å®½é«˜ï¼Œä¹Ÿå°±æ˜¯ Canvas å…ƒç´ çš„çœŸå®å®½é«˜ï¼Œå¹¶ä¸æ˜¯é€šè¿‡ Css è®¾ç½®çš„æ ·å¼å®½é«˜ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ Css è®¾ç½®äº† Canvas çš„å®½é«˜ï¼Œæ•ˆæœå…¶å®æ˜¯åœ¨ç‰©ç†å®½é«˜çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ç­‰æ¯”çš„ç¼©å°æˆ–è€…æ‹‰ä¼¸</strong></p>
<pre><code class="hljs language-js" lang="js">&lt;canvas id=<span class="hljs-string">"myCanvas"</span> 
    style=<span class="hljs-string">"border: 1px solid black; width: 100px; height: 100px;"</span> width=<span class="hljs-string">"500"</span> height=<span class="hljs-string">"500"</span>&gt;
&lt;/canvas&gt;
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/346e123667244b89b96c41c560b51a44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=OTkv5MMzOxJOhOSImkGHzDB0MXI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">çº¿æ¡ç»„æˆå›¾å½¢</h3>
<h6 data-id="heading-11">ç»˜åˆ¶æŠ˜çº¿</h6>
<p>å½“æˆ‘ä»¬å­¦ä¼šç»˜åˆ¶çº¿æ¡åï¼Œå°±å¯ä»¥ç”¨çº¿æ¡æ¥ç»„æˆå›¾å½¢äº†ï¼Œæ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å¤ç”¨ä¸Šæ–‡ç”¨è¿‡çš„<code>lineTo()</code> æ–¹æ³•å³å¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">    ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">100</span>);
    ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>);

    ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
    ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'red'</span>;

    ctx.<span class="hljs-title function_">stroke</span>();
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acfa8e95b0114d508c7c6a1f1a012e8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=NR5MR5V6tN24HE1jz6s2JlGVWxo%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-12">ç»˜åˆ¶å¤šæ¡æŠ˜çº¿</h6>
<p>å¦‚æœéœ€è¦ç»˜åˆ¶å¤šæ¡ä¸è¿æ¥çš„çº¿æ¡ï¼Œåªéœ€åœ¨ç»˜åˆ¶å®Œä¸€æ¬¡åï¼Œå†é‡æ–°ç§»åŠ¨ç”»ç¬”ï¼Œé‡æ–°ç»˜åˆ¶ä¸€æ¬¡å³å¯</p>
<pre><code class="hljs language-js" lang="js">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'red'</span>;
        ctx.<span class="hljs-title function_">stroke</span>();

        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'blue'</span>;
        ctx.<span class="hljs-title function_">stroke</span>(); 
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c6c2b8f523e4707b5718d1f60ca827a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=bA3T3WYG186JmI5Hm7yMfhgCOco%3D" alt="image.png" loading="lazy"/>
è¯¶ï¼Ÿè¿™æ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ªï¼Œæ˜æ˜æ˜¯å…ˆçº¢è‰²å†è“è‰²ï¼Œä¸ºä»€ä¹ˆå°±å…¨å˜ä¸ºè“è‰²äº†å‘¢ï¼Ÿ<strong>æ˜¯å› ä¸ºä¸Šæ–‡è¯´è¿‡çš„ Canvas æ˜¯åŸºäºçŠ¶æ€ç»˜åˆ¶çš„ã€‚æˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨<code>stroke()</code> æ—¶ï¼Œå®ƒéƒ½ä¼šæŠŠä¹‹å‰è®¾ç½®çš„çŠ¶æ€å†æ¬¡ç»˜åˆ¶ä¸€éï¼Œç¬¬ä¸€æ¬¡<code>stroke</code>æ—¶ä¼šç»˜åˆ¶ä¸€æ¡çº¢è‰²æŠ˜çº¿ï¼Œç¬¬äºŒæ¬¡<code>stroke</code>æ—¶ï¼Œä¼šå†æ¬¡é‡æ–°ç»˜åˆ¶ä¹‹å‰é‚£æ¡çº¢è‰²çš„æŠ˜çº¿ï¼Œä½†æ˜¯ç”»ç¬”å·²ç»å˜ä¸ºè“è‰²çš„äº†ï¼Œæ‰€ä»¥ç”»å‡ºçš„æŠ˜çº¿å…¨æ˜¯è“è‰²çš„</strong>ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡é‡æ–°ç»˜åˆ¶æ—¶åŠ ä¸Š<code>beginPath()</code>ï¼Œè¿™ä¸ª API ä»£è¡¨ä¸‹æ¬¡ç»˜åˆ¶çš„èµ·å§‹å¤„ä¸º<code>beginPath()</code>ä¹‹åçš„ä»£ç ã€‚</p>
<pre><code class="hljs language-js" lang="js">        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>, <span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'red'</span>;
        ctx.<span class="hljs-title function_">stroke</span>();
        
        ctx.<span class="hljs-title function_">beginPath</span>(); <span class="hljs-comment">// é‡æ–°å®šä¹‰èµ·å§‹ä½ç½®</span>
        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">0</span>);
        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'blue'</span>;
        ctx.<span class="hljs-title function_">stroke</span>(); 
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2051424865964361add06983e8ced723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=qfI07s%2Bfueduzns526hUJ1ojnZ4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">ç»˜åˆ¶çŸ©å½¢</h3>
<p>æˆ‘ä»¬å…ˆä½¿ç”¨ç»˜åˆ¶çº¿æ¡çš„æ–¹å¼ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢</p>
<pre><code class="hljs language-js" lang="js">        <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢</span>
        ctx.<span class="hljs-title function_">beginPath</span>();
        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);

        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">"black"</span>;

        ctx.<span class="hljs-title function_">stroke</span>();   
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/411bf8c2bde24ccc82a179d3ae34b4a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=JK89zyVVV7gQSVQmvVxRxJO1AGE%3D" alt="image.png" loading="lazy"/>
ä¼šå‘ç°æ­¤æ—¶æœ€åä¸€ç¬”ç”»æ—¶æœ‰ä¸€ä¸ªå°ç¼ºå£ï¼Œè¿™ç§æƒ…å†µæ˜¯å› ä¸ºæˆ‘ä»¬è®¾ç½®äº†<code>lineWidth</code>å¯¼è‡´çš„ï¼Œå¦‚æœæ˜¯é»˜è®¤ç¬”è§¦ä¸º1çš„è¯æ˜¯ä¸ä¼šæœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœç¬”è§¦è¶Šå¤§ï¼Œçº¿æ¡è¶Šå®½ï¼Œè¿™ä¸ªå°ç¼ºå£å°±ä¼šè¶Šæ˜æ˜¾ã€‚æ­¤æ—¶éœ€è¦ä½¿ç”¨<code>closePath()</code>é—­åˆå›¾å½¢ã€‚</p>
<pre><code class="hljs language-js" lang="js">        <span class="hljs-comment">// ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢</span>
        ctx.<span class="hljs-title function_">beginPath</span>();
        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">100</span>);
        <span class="hljs-comment">// ctx.lineTo(50,50); // æœ€åä¸€ç¬”å¯ä»¥ä¸ç”»</span>
        ctx.<span class="hljs-title function_">closePath</span>();
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbc42c23f5504718ab0fb038c009fabc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=ujspluWf9vSFLeIbu6xk2SsdBfs%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨ç»˜åˆ¶å›¾å½¢æ—¶éœ€è¦ä½¿ç”¨<code>beginPath()</code>å’Œ <code>closePath()</code>åŒ…è£¹èµ·æ¥ã€‚</p>
<h6 data-id="heading-14">ç»™çŸ©å½¢ä¸Šè‰²</h6>
<p>ä¸Šæ–‡ä¸­æœ‰æè¿‡ç»˜åˆ¶çš„ä¸¤ç§æ–¹æ³•åˆ†åˆ«æ˜¯<code>stroke()</code>å’Œ<code>fill()</code>ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>fill()</code>æ–¹æ³•ç»™çŸ©å½¢ä¸Šè‰²ã€‚å’Œä½¿ç”¨<code>stroke</code>å‰ç›¸åŒï¼Œæˆ‘ä»¬éœ€è¦å…ˆç»™å®ƒè®¾ç½®å¥½å±æ€§ã€‚</p>
<pre><code class="hljs language-js" lang="js">        ctx.<span class="hljs-title function_">beginPath</span>();
        ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">50</span>,<span class="hljs-number">100</span>);
        ctx.<span class="hljs-title function_">closePath</span>();

        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">"black"</span>;

        ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"red"</span>;

        ctx.<span class="hljs-title function_">fill</span>();
        ctx.<span class="hljs-title function_">stroke</span>();   
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34d863746af641cf951ba66a6be6130f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=kLDHbM6wuZR2DRNNs9eTMRDR%2F5I%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-15">ä½¿ç”¨<code>rect()</code>æ–¹æ³•ç»˜åˆ¶çŸ©å½¢</h6>
<p>ç”±äºçŸ©å½¢æ˜¯å¸¸ç”¨çš„å›¾å½¢ï¼Œæ‰€ä»¥ Canvas API å°è£…å¥½äº†ä¸€ä¸ªå®šä¹‰çŸ©å½¢ä½ç½®ä¿¡æ¯çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºçŸ©å½¢çš„èµ·ç‚¹åæ ‡å’Œå®½é«˜ã€‚</p>
<pre><code class="hljs language-js" lang="js">        ctx.<span class="hljs-title function_">rect</span>(x,y,width,height);

        ctx.<span class="hljs-title function_">beginPath</span>();
        ctx.<span class="hljs-title function_">rect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);
        
        ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;
        ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">"black"</span>;
        ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"red"</span>;

        ctx.<span class="hljs-title function_">fill</span>();
        ctx.<span class="hljs-title function_">stroke</span>();
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46338e599a61409da3d39828c7175cb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5piv6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064172&amp;x-signature=rLsP6iePRQqqRkhjDjOr%2FcTtrZU%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ä»Šå¤© Canvas çš„å­¦ä¹ å°±åˆ°è¿™å•¦</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIè§†é¢‘è¿›å…¥â€œåŠ é€Ÿåº¦â€æ—¶ä»£ï¼š30%åŠ é€Ÿï¼‹ç»†èŠ‚éšæ‰‹Pï¼Œç­‰ç­‰å…šå’ŒæŠ½å¡å…šéƒ½æœ‰æ•‘äº†ï¼]]></title>    <link>https://juejin.cn/post/7573864324713054260</link>    <guid>https://juejin.cn/post/7573864324713054260</guid>    <pubDate>2025-11-18T09:13:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573864324713054260" data-draft-id="7573679820632670243" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIè§†é¢‘è¿›å…¥â€œåŠ é€Ÿåº¦â€æ—¶ä»£ï¼š30%åŠ é€Ÿï¼‹ç»†èŠ‚éšæ‰‹Pï¼Œç­‰ç­‰å…šå’ŒæŠ½å¡å…šéƒ½æœ‰æ•‘äº†ï¼"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-18T09:13:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIè§†é¢‘è¿›å…¥â€œåŠ é€Ÿåº¦â€æ—¶ä»£ï¼š30%åŠ é€Ÿï¼‹ç»†èŠ‚éšæ‰‹Pï¼Œç­‰ç­‰å…šå’ŒæŠ½å¡å…šéƒ½æœ‰æ•‘äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:13:05.000Z" title="Tue Nov 18 2025 09:13:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç­‰ç­‰å…šå’ŒæŠ½å¡å…šä»¬ï¼Œè¿™å›åšè§†é¢‘ç»ˆäºä¸ç”¨ç­‰ï¼åŠï¼å¤©ï¼äº†ï¼</p>
<p>ç›¸ä¿¡å¤§å®¶éƒ½æœ‰è¿™ç§æ„Ÿè§‰ï¼šæ¯æ¬¡ç”¨ AI ç”Ÿæˆè§†é¢‘ï¼ŒåˆšæŒ‰ä¸‹æŒ‰é’®ï¼Œå±å¹•å°±è·³å‡ºæ¥ä¸€å¥ â€œå‰æ–¹æ’é˜Ÿ xxx äººâ€ï¼Œç­‰å§ï¼Œå¥½ä¸å®¹æ˜“æ’åˆ°äº†ï¼Œç»“æœè¿˜å¾—å†ç£¨ä¸ªä¸¤ä¸‰åˆ†é’Ÿæ‰èƒ½å‡ºç‰‡â€¦â€¦</p>
<p>è€Œä¸”ç”Ÿæˆæ•ˆæœåˆ°åº•å’‹æ ·ï¼Œå‡ ä¹çº¯çœ‹è¿æ°”ï¼Œä¸æ»¡æ„è¿˜å¾—é‡æ–°æŠ½å¡ï¼Œè¿™æ¬¡ç»ˆäºä¸ä¸€æ ·äº†ï¼Œç­‰ç­‰å…šæœ‰æ•‘ï¼ŒæŠ½å¡å…šç¿»èº«ï½</p>
<p>ç°åœ¨ï¼Œä»ç‚¹å‡»ç”Ÿæˆåˆ°çœ‹åˆ°æˆç‰‡ï¼Œä¸åˆ°ä¸€åˆ†é’Ÿå°±èƒ½è½»æ¾äº§å‡ºä¸€æ¡ 5 ç§’çš„é«˜æ¸…è§†é¢‘å¤§ç‰‡ï¼Œç”»è´¨å¦¥å¦¥æ‹‰æ»¡ï¼Œæ•ˆæœ be likeï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36e4f0c5ddce482aacbdb67f120974a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=8Gagp56jI%2FWB8IcctaAdC4tY%2FSI%3D" alt="" loading="lazy"/></p>
<p>ä½ ä»¥ä¸ºè¿™å°±ç»“æŸäº†ï¼Ÿå¤§ NO ç‰¹ NOï¼ç°åœ¨ç¢°åˆ°ä¸æ»¡æ„çš„è§†é¢‘ä¹Ÿä¸ç”¨é‡æ–°æŠ½å¡ï¼Œç›´æ¥åœ¨çº¿ç²¾ä¿®ï¼Œæƒ³æ€ä¹ˆ P å°±æ€ä¹ˆ Pã€‚</p>
<p>å‘¨æœ«æ¥å¾—åˆšåˆšå¥½ï¼Œè’™å¨œä¸½èç‰µç€å…µé©¬ä¿‘èµ°è¿›äº†é­”éƒ½è¡—å¤´ï¼Œè¿™å›ä¸å½“æ–‡è‰ºå¥³ç¥ï¼Œå½“èµ·äº† â€œæ²ªä¸Šé˜¿å§¨â€ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c56f0070b564cee91e02ef9fda1fe3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=OmU%2FnaAs22qUU31u6veO9otmUYQ%3D" alt="" loading="lazy"/></p>
<p>emmâ€¦ äººéƒ½åˆ°ä¸Šæµ·äº†ï¼Œæ‰‹é‡Œå´è¿˜ä¸¾ç€æ¯å¯ä¹ï¼Œæ€ä¹ˆçœ‹éƒ½ä¸å¤ªå¯¹åŠ²ï¼Œäºæ˜¯æˆ‘é¡ºæ‰‹ä¸€æ”¹ï¼ŒæŠŠå¯ä¹ P æˆäº†å¥¶èŒ¶ï¼Œè¿™æ ·æ‰å¯¹å˜›ï¼Œå…¥ä¹¡éšä¿—å…¥ä¹¡éšä¿—ï½</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd37fd6660148db9cae3ae448dbe0d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=EnV7FObt5q5sN5BLx43qfl%2Fl6OE%3D" alt="" loading="lazy"/></p>
<p>ä¸å–å…³å­ï¼Œè¿™å°±æ˜¯ã€Œæ‹æˆ‘ AIã€ï¼ˆå³ PixVerseï¼‰é‡ç£…ä¸Šçº¿çš„å‡çº§ç‰ˆï¼šV5 Fastï¼Œè§†é¢‘ç”Ÿæˆé€Ÿåº¦æå‡è¶… <strong>30%</strong>ï¼Œæ­¤å¤–è¿˜ä¸Šçº¿äº†**ã€ŒModifyã€ç²¾ä¿®åŠŸèƒ½**ï¼Œæ”¯æŒç«¯åˆ°ç«¯è§†é¢‘ç¼–è¾‘ï¼Œç”Ÿæˆå®Œè¿˜èƒ½æ¥ç€æ”¹ï½</p>
<p>ä¸¤é¡¹å…³é”®èƒ½åŠ›ä¸€èµ·è½åœ°ï¼Œè®©è§†é¢‘åˆ›ä½œç¬¬ä¸€æ¬¡æœ‰äº† â€œå¿«ï¼‹å¯æ§â€ çš„å®Œæ•´ä½“éªŒï¼Œç›®å‰æ–°åŠŸèƒ½å·²åœ¨ã€Œæ‹æˆ‘ AIã€é‡ç£…ä¸Šçº¿ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œè·Ÿæˆ‘ä¸€èµ· roll èµ·æ¥å§ï¼</p>
<h2 data-id="heading-0">AI è§†é¢‘ä¹Ÿå®ç° P å›¾è‡ªç”±äº†</h2>
<p>è¿‡å»è¿™ä¸€å¹´ï¼ŒAI è§†é¢‘ä»åˆ›ä½œè€…å·¥å…·å˜æˆäº†å•†ä¸šåŒ–ç”Ÿäº§åŠ›ã€‚</p>
<p>å“ç‰Œåœ¨ç”¨å®ƒåš campaignï¼Œè‡ªåª’ä½“åœ¨æ‰‹æ“å„ç§ AIGC æ–°ç©æ³•ï¼Œå•†å®¶ç”¨å®ƒåšæ–°å“ç´ æï¼Œè€Œæ›´èƒ½æ„Ÿå—åˆ°å˜åŒ–çš„ï¼Œæ˜¯å¤§ä¼—åŒ–çš„ä½¿ç”¨åœºæ™¯â€”â€”</p>
<p>æ—…è¡Œæ—¶éšæ‰‹åšä¸ª vlogã€ç»™çŒ«çŒ«å‰ªæ®µæ—¥å¸¸ã€è®°å½•å°æœ‹å‹çš„æˆé•¿ç¬é—´â€¦â€¦ è¶Šæ¥è¶Šå¤šäººä¸å†åªæ˜¯çœ‹åˆ«äººç”¨ AI åšè§†é¢‘ï¼Œè€Œæ˜¯å¼€å§‹ç”¨ AI è®°å½•è‡ªå·±çš„ç”Ÿæ´»ã€è®²è‡ªå·±çš„æ•…äº‹ã€åˆ›ä½œå±äºè‡ªå·±çš„çµæ„Ÿã€‚</p>
<p>ç„¶è€Œï¼Œç°åœ¨å¸‚é¢ä¸Šç»å¤§å¤šæ•°çš„ AI è§†é¢‘å·¥å…·æ›´åƒæ˜¯ä¸€æ¬¡ç”Ÿæˆå®šç”Ÿæ­»ï¼Œä¸€æ—¦è¦æ”¹ï¼Œæµç¨‹ç«‹åˆ»å˜å¾—åˆæ…¢åˆä¸ç¡®å®šï¼š</p>
<p>ä¸€ä¸ªç»†èŠ‚çš„é”™ä½ã€ä¸€ä¸ªç”»é¢çš„è·³å¸§éƒ½å¯èƒ½è®©å…¨ç‰‡é‡æ¥ï¼Œè§’è‰²ä¸ç¨³è¦è¿”å·¥ï¼Œå…ƒç´ ä¹±è·³è¦é‡ç”Ÿï¼Œæç¤ºè¯ä¸å‡†åˆå¾—é‡æ–° rollï¼Œä¸“ä¸šå›¢é˜Ÿç„¦è™‘ï¼Œæ™®é€šç”¨æˆ·æ›´æ— ä»ä¸‹æ‰‹ï¼Œæ˜æ˜æ˜¯å°æ”¹åŠ¨ï¼Œæ—¶é—´ç²¾åŠ›çš„æŠ•å…¥æˆæœ¬å´å¾ˆå¤§ã€‚</p>
<p>è¿™ç›´æ¥å¸¦æ¥çš„å½±å“æ˜¯ï¼šå¯¹å†…å®¹å›¢é˜Ÿæ˜¯æµç¨‹å‰²è£‚ï¼Œå¯¹å•†ç”¨åˆ¶ä½œæ˜¯äº¤ä»˜é£é™©ï¼Œå¯¹æ™®é€šç”¨æˆ·æ›´æ˜¯ä¸€é“ä¸“ä¸šé—¨æ§›çš„å›°æ‰°ã€‚</p>
<p>å› æ­¤ï¼Œå¯ä¿®æ”¹æ€§ç›®å‰å·²ç»æˆä¸ºç°åœ¨ AI è§†é¢‘å¸‚åœºæœ€çœŸå®ã€ä¹Ÿæœ€è¿«åˆ‡çš„éœ€æ±‚ä¹‹ä¸€ã€‚</p>
<p>æ‹æˆ‘ AI çš„ <strong>Modify</strong> ç²¾ä¿®èƒ½åŠ›ï¼Œå°±æ˜¯é¡ºç€è¿™æ¡éœ€æ±‚çº¿è‡ªç„¶è¿›åŒ–å‡ºæ¥çš„ï¼Œå®ƒæ‰€ä»£è¡¨çš„æ˜¯ä¸€ç±»çœŸæ­£æ„ä¹‰ä¸Šçš„ã€Œå¸‚åœºåˆ›æ–°ã€ã€‚</p>
<p>å®ƒæŠŠå•å¸§ä¿®æ”¹å˜æˆäº†æ¨¡å‹å¯¹å…¨ç‰‡çš„é‡æ–°ç†è§£å’Œä¸€è‡´åŒ–å¤„ç†ï¼Œå®ç°è·¨å¸§æ¨ç†ã€ç»Ÿä¸€é£æ ¼ã€ä¸»ä½“ç¨³æ€ç­‰ä¸€ç³»åˆ—é«˜è¦æ±‚çš„æµç¨‹ã€‚</p>
<p>è¿™ç±»åº•å±‚æ¶æ„çš„ç²¾ä¿®æ–¹å¼ç›®å‰åœ¨ä¸šå†…æä¸ºç¨€ç¼ºï¼ŒåŸºæœ¬å±äºæ‹æˆ‘ AI çš„<strong>ç‹¬ç‰¹èƒ½åŠ›</strong>ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è®©åˆ›ä½œè€…çš„å·¥ä½œæµçœŸæ­£é—­ç¯ï¼Œä¹Ÿè®©æ™®é€šç”¨æˆ·ç¬¬ä¸€æ¬¡æ‹¥æœ‰äº†<strong>æ‹äº†è§†é¢‘è¿˜èƒ½éšæ‰‹æ”¹</strong>çš„è‡ªç”±åº¦ã€‚</p>
<p>AI è§†é¢‘ä» â€œèƒ½ç”Ÿæˆâ€ èµ°å‘ â€œèƒ½è¢«æ¯ä¸ªäººæŒæ§â€ è¿™ä¸€æ­¥ï¼Œç»ˆäºå˜å¾—å¯è¡Œäº†ã€‚</p>
<h4 data-id="heading-1">å…ƒç´ æ›¿æ¢ï¼šå®ç‰©çº§åˆ«çš„å¯æ§ç¼–è¾‘</h4>
<p>åœ¨è¿™æ¬¡å…¨æ–°æ¨å‡ºçš„ã€ŒModifyã€ç²¾ä¿®åŠŸèƒ½ä¸­ï¼Œæˆ‘ä»¬ä¸å¿…å†å› ä¸ºæŸä¸ªå…ƒç´ ç”Ÿæˆå¾—ä¸å¯¹ã€å“ªä¸€å¸§å‡ºäº†å°å·®é”™å°±ä»å¤´åå¤ç”Ÿæˆï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒæç¤ºè¯æ²¡å†™å‡†ã€æ²¡ç¼–è¾‘åˆ°ä½ä¼šå¯¼è‡´æ•´æ®µè§†é¢‘æ¨å€’é‡æ¥ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æƒ³æ”¹å“ªé‡Œå°±æ”¹å“ªé‡Œï¼ŒçœŸçš„åšåˆ°äº†<strong>ä¸‡ç‰©çš†å¯æ›¿æ¢</strong>ã€‚</p>
<p>å…ˆä»æˆ‘ä»¬åˆ›ä½œä¸­å‡ºç°é¢‘ç‡æœ€é«˜ã€éœ€æ±‚æœ€è¿«åˆ‡çš„<strong>ç‰©å“æ›¿æ¢</strong>èƒ½åŠ›è¯´èµ·ï¼Œæˆ‘å…ˆè®© V5 Fast å¸®æˆ‘ç”Ÿæˆäº†ä¸€æ®µ â€œç”·å­åœ¨ KTV æ”¾é£è‡ªæˆ‘å”±æ­Œâ€ çš„è§†é¢‘ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a40895ba5e1406489ad9bdfe17d58bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=aUpiZ8BYa816jsB01NbxPEFN5F4%3D" alt="" loading="lazy"/></p>
<p>æ¥ç€æˆ‘åœ¨ Modify é‡ŒæŠŠç”·å­æ¢æˆäº†ä¸€åªæ²‰æµ¸å¼é£™æ­Œçš„å°çŒ«ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/467861bb0a204018ae078c764552fa7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=KG0Yfsf7sSzoBuqvsj9oUEVrz1E%3D" alt="" loading="lazy"/></p>
<p>AI ä¸ä»…ä¿ç•™äº†åŸè§†é¢‘é‡Œäººç‰©çš„è‚¢ä½“å§¿åŠ¿ã€å£å‹èŠ‚å¥ï¼Œè¿æœè£…ç»†èŠ‚ä¹Ÿä¸€èµ· copy è¿‡å»äº†ï¼Œæœ€å…³é”®çš„æ˜¯æ•´ä¸ªåœºæ™¯ç¯å¢ƒéƒ½æ²¡å´©ï¼Œæ›¿æ¢å¾—éå¸¸è‡ªç„¶ã€‚</p>
<p>é™¤äº†èƒ½æ›¿æ¢ç‰©å“ã€äººç‰©å¤–ï¼ŒModify è¿˜èƒ½<strong>æ›¿æ¢èƒŒæ™¯</strong>ï¼Œæˆ‘æŠŠä¸€ä¸ªè¶…é£’å¥³å­©ç™»å±±çš„è§†é¢‘ä¸¢ç»™äº† AIï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb927405431d41269dfd0cc1240d5aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=X7IViWAan9op0LQMG4pLDI78hO0%3D" alt="" loading="lazy"/></p>
<p>å—¯â€¦ æ„Ÿè§‰è¿™èº«ä¸“ä¸šæˆ·å¤–è£…å¤‡ç”¨æ¥ç™»ä¸€åº§æ™®é€šå°å±±å¤šå°‘æœ‰ç‚¹ â€œæ€é¸¡ç”¨ç‰›åˆ€â€ï¼äºæ˜¯æˆ‘è®© Modify æŠŠèƒŒæ™¯æ¢æˆç§¯é›ªè¦†ç›–çš„é›ªå±±ï¼Œè¿™ä¸‹æ‰å¯¹å‘³å„¿å˜›ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddb71e6bb4924928bde989074baa6b64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=cHaj9aVtoYFlfkiux7ayi3mwxw0%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ›¿æ¢çš„éš¾ç‚¹åœ¨äºåŸè§†é¢‘çš„èƒŒæ™¯æ˜¯ç§»åŠ¨çš„ï¼Œä½† AI ä¸ä»…å®Œæˆäº†èƒŒæ™¯æ›¿æ¢ï¼Œè¿˜è‡ªåŠ¨è¡¥è¶³äº†æ¯ä¸€å¸§çš„åœºæ™¯ä¸€è‡´æ€§ï¼Œç”šè‡³è¿å¥³å­©å‘ä¸é€å‡ºçš„å…‰çº¿ï¼Œéƒ½å’Œé›ªå±±ç¯å¢ƒçš„å†·è‰²è°ƒå¯¹ä¸Šäº†ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸å‘¨åˆ°äº†ï½</p>
<p>è¿™ç§çº§åˆ«çš„å…ƒç´ æ›¿æ¢èƒ½åŠ›ï¼Œå®è´¨ä¸ŠæŠŠã€Œæ”¹è§†é¢‘ã€è¿™ä»¶äº‹ä»é«˜é—¨æ§›çš„ä¸“ä¸šæŠ€èƒ½ï¼Œé‡æ–°äº¤å›ç»™äº†æ‰€æœ‰ç”¨æˆ·ã€‚</p>
<p>æ— è®ºæ˜¯æ¢ç‰©ä»¶ã€è°ƒç¯å¢ƒï¼Œè¿˜æ˜¯ä¿®ä¸€ä¸ªä¸æ»¡æ„çš„ç»†èŠ‚ï¼Œéƒ½ç»ˆäºèƒ½ç®€å•åˆ°<strong>äººäººæ•¢ä¸‹æ‰‹ã€äººäººèƒ½åšå¥½</strong>ã€‚</p>
<h4 data-id="heading-2">å±€éƒ¨ä¿®æ”¹ï¼šä»é£æ ¼åˆ°è´¨æ„Ÿéƒ½èƒ½è°ƒ</h4>
<p>é™¤äº†èƒ½ä¿®æ”¹é‚£äº› â€œçœ‹å¾—è§æ‘¸å¾—ç€â€ çš„è§†é¢‘å…ƒç´ å¤–ï¼Œä¸€äº›æ›´æŠ½è±¡ã€æ›´ç»†å¾®çš„å±€éƒ¨å˜åŒ–ï¼Œæ¯”å¦‚å…‰å½±ã€è´¨æ„Ÿã€æ•´ä½“æ°›å›´è¿™ç§éå®ä½“çš„ç»†èŠ‚ï¼ŒModify ä¹Ÿå®Œå…¨ hold å¾—ä½ã€‚</p>
<p>è¿™ç±»éœ€æ±‚åœ¨è¡Œä¸šé‡Œä¸€ç›´æ˜¯ç—›ç‚¹ï¼šå…ƒç´ æ›¿æ¢å®¹æ˜“é‡åŒ–ï¼Œä½†<strong>æ— å½¢çš„å±€éƒ¨</strong>å¾€å¾€æœ€éš¾æ”¹ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šç ´åæ•´æ®µè§†é¢‘çš„è¿è´¯æ€§ã€‚</p>
<p>å’±ä»¬ä¸èµ°ç®€å•è·¯çº¿ï¼Œç›´æ¥ä¸Šç‚¹éš¾åº¦ï¼Œå…ˆæ¥è€ƒéªŒä¸€ä¸‹ AI çš„<strong>é£æ ¼ä¿®æ”¹</strong>èƒ½åŠ›ã€‚</p>
<p>ç°åœ¨æ‰“å·¥äººçš„æ€¨æ°”æ˜¯çœŸè¶Šæ¥è¶Šé‡äº†ï¼Œçœ‹ä¸‹é¢è¿™ä½å°å“¥ï¼Œå·¥ä½œå´©æºƒåˆ°æƒ³ç›´æ¥æ€’ç ¸é”®ç›˜ï¼ˆä½†è¿˜æ˜¯å¿ä½äº†ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f981dfabd0b43039252c5ced7a78698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=BgYgVpsuNaJIl1Py%2FfOlSdtC8BQ%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å°±ç”¨ Modify ç»™ä»–æ¢ä¸ªç”»é£ï¼Œè¯•è¯•æŠŠè¿™åœº â€œç¤¾ç•œå´©æºƒç°åœºâ€ é‡ç»˜æˆã€Œç¾å¼æ¼«ç”»ã€é£æ ¼ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4a9066cd85245778efd51a6a2cd4752~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=dBsTYYye4FjJbgYS6NN05tIhwBs%3D" alt="" loading="lazy"/></p>
<p>ä¸å…‰æ˜¯æ•´ä½“é£æ ¼åˆ‡å¾—å¹²å‡€ï¼Œè¿è¡£æœçš„è¤¶çš±ã€è‚¢ä½“åŠ¨ä½œã€æƒ…ç»ªå¼ åŠ›éƒ½è¢« 1:1 ä¿ç•™ä¸‹æ¥ï¼Œé£æ ¼æƒ³æ€ä¹ˆæ”¹å°±æ€ä¹ˆæ”¹ï¼Œè¿˜èƒ½ä¿æŒåŠ¨ä½œä¸€è‡´æ€§ï¼Œè¿™æ‰å«çœŸæ­£çš„ â€œå¯æ§é£æ ¼æ›¿æ¢â€ï½</p>
<p>ä¸ä»…å¦‚æ­¤ï¼ŒModify è¿˜èƒ½å¯¹ç‰©å“çš„ã€Œ<strong>æè´¨</strong>ã€è¿›è¡Œç²¾ç¡®ä¿®æ”¹ï¼Œæˆ‘å…ˆæ˜¯ç”¨ V5 Fast ç”Ÿæˆäº†ä¸€æ®µé»‘è‰²äº®é¢è·‘è½¦é©°éª‹åœ¨å…¬è·¯ä¸Šçš„è§†é¢‘ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddc961159f4f4067a57d1dd80d57d24e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=GkinEkCGN7h7f809%2BpO1a7wPwMc%3D" alt="" loading="lazy"/></p>
<p>éšåè®© Modify æŠŠè½¦èº«æè´¨æ›¿æ¢æˆçº¢è‰²å“‘å…‰ï¼Œåœ¨é•œå¤´è¿åŠ¨ä¸å˜ã€å…‰å½±ä¸€è‡´çš„å‰æä¸‹ï¼ŒAI ä¾ç„¶ç¨³ç¨³å®Œæˆäº†æ›¿æ¢ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2399481002414d61bce5bd81cd535e69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=xR0tlAIyOEAxmqhMB6zI4ESZoYU%3D" alt="" loading="lazy"/></p>
<p>äº®é¢æ¢å“‘å…‰ã€é‡‘å±æ¢å¡‘æ–™ã€çš®é©æ¢ç»‡ç‰©ï¼Œçœ‹ä¼¼åªæ˜¯è´¨æ„Ÿå˜åŒ–ï¼Œä½†ç‰µæ¶‰å…‰å½±åå°„ã€è¡¨é¢ç»†èŠ‚ã€é•œå¤´è½¨è¿¹ï¼Œä¸€æ—¦å¤„ç†ä¸åˆ°ä½å°±ä¼šç«‹åˆ»ç©¿å¸®ã€‚</p>
<p>è€Œ Modify æ—¢åšåˆ°äº†æ›¿æ¢æè´¨ï¼Œåˆä¿è¯æ¯å¸§è§†è§‰é€»è¾‘éƒ½æˆç«‹ã€‚</p>
<p>é™¤äº†èƒ½ä¿®æ”¹é£æ ¼å’Œæè´¨ï¼ŒModify è¿˜èƒ½åŒæ­¥ä¿®æ”¹ã€Œ<strong>å…‰çº¿</strong>ã€ã€ã€Œ<strong>è‰²è°ƒ</strong>ã€ç­‰éå®ä½“ç»†èŠ‚ï¼Œé‚£äº›åœ¨ä¼ ç»Ÿè§†é¢‘åˆ¶ä½œé‡Œæœ€è´¹åŠ›ã€æœ€è€ƒéªŒçœ¼åŠ›çš„éƒ¨åˆ†ï¼Œä¹Ÿç»ˆäºèƒ½äº¤ç»™ AI æ¥ç¨³ç¨³æå®šã€‚</p>
<h4 data-id="heading-3">äººç‰©ç¼–è¾‘ï¼šè·Ÿä¿®å›¾çƒ¦æ¼è¯´ bye bye</h4>
<p>ç»å¸¸æ‹ç…§çš„äººåº”è¯¥éƒ½æœ‰è¿™ç§ç—›è‹¦ä½“éªŒâ€”â€”ç»™è§†é¢‘ã€Œ<strong>äººç‰©ä¿®å›¾</strong>ã€çœŸçš„å¤ªã€å¤ªã€å¤ªéº»çƒ¦äº†ï¼</p>
<p>æ¯•ç«Ÿå›¾ç‰‡æƒ³æ€ä¹ˆä¿®å°±æ€ä¹ˆä¿®ï¼Œå¯è§†é¢‘ä¸€æ—¦è¦æ”¹å°±éº»çƒ¦å¾—å¤šï¼Œè¿‡å»é‚£äº›åœ¨ä¿®å›¾è½¯ä»¶é‡Œæ‹–ä¸€æ‹–ã€ç‚¹ä¸¤ä¸‹å°±èƒ½è§£å†³çš„å°è°ƒæ•´ï¼Œæ”¾åˆ°è§†é¢‘é‡Œå¾€å¾€å¾—é‡åšæ•´æ¡ã€‚</p>
<p>è¿™æ¬¡ Modify ä¹ŸæŠŠè¿™ä¸ªç°å®ç—›ç‚¹è€ƒè™‘è¿›å»äº†ï¼š</p>
<p>è§†é¢‘äººç‰©ä¸ä»…èƒ½ç”¨ä¸€å¥æç¤ºè¯ç›´æ¥æ”¹ï¼Œè¿˜èƒ½è‡ªç”±è°ƒæ•´å¹´é¾„ã€æœè£…ã€æ°”è´¨ï¼Œç”šè‡³åšåˆ° â€œæ•´ä¸ªçŠ¶æ€â€ ä¸€èµ·åŒæ­¥å˜åŒ–ã€‚</p>
<p>è¿™æ˜¯æˆ‘å–‚ç»™ Modify çš„ä¸€å¼ æ¸¸å®¢ç…§ï¼Œä¸€ä¸ªå’Œé•¿é¢ˆé¹¿åˆå½±çš„å°ç”·å­©ï¼Œå› ä¸ºæ‹æ‘„è§’åº¦çš„åŸå› ï¼Œç”·å­©çš„çœ¼ç›æ˜¾å¾—æœ‰ç‚¹å°ï¼Œçš®è‚¤ä¹Ÿæœ‰äº›å°ç‘•ç–µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ba29df1842f48c5857abc7d62d99622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=MMTmRLhdbwSQfrJcKV9ndbj%2BjBs%3D" alt="" loading="lazy"/></p>
<p>äºæ˜¯ä¹ï¼Œæˆ‘ç»™ AI ä¸‹çš„æŒ‡ä»¤æ˜¯ï¼Œè®©ç”·å­©çœ¼ç›æ›´å¤§ä¸€ç‚¹ã€çš®è‚¤æ›´å¹³æ»‘ä¸€ç‚¹ï¼ŒModify ç«‹åˆ»å°±ç»™å‡ºäº†æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c41c55113754497cb9bcb0c19f3a2302~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=WivAVx21hvpoep7uQ056n1cutt4%3D" alt="" loading="lazy"/></p>
<p>çœ¼ç›è‚‰çœ¼å¯è§åœ°æ”¾å¤§ï¼Œçš®è‚¤ä¹Ÿæœ‰äº†æ˜æ˜¾çš„ç£¨çš®æ•ˆæœï¼Œä¸å¾—ä¸è¯´ï¼Œè¿™æ³¢ P å›¾åŠŸåº•ç¡®å®æœ‰ç‚¹ä¸œè¥¿ï½</p>
<p>å†æ¥ç©ç‚¹æœ‰æ„æ€çš„ï¼Œæ¥è¯•è¯• AI é‚ªä¿®æœ¯ä¹‹â€”â€”<strong>å¹´é¾„ä¿®æ”¹</strong>ï¼æˆ‘å…ˆå–‚ç»™ AI ä¸€æ®µè€å¥¶å¥¶çš„è§†é¢‘ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/179148cbc6ac4b77860defcd8d75583d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=NyLQJ0qRGXEMTTZgiXe3K7zfrGs%3D" alt="" loading="lazy"/></p>
<p>ç„¶ååªå¯¹ Modify è¯´äº†ä¸‰ä¸ªå­—â€”â€”å˜ï¼å¹´ï¼è½»ï¼ç»“æœè€å¥¶å¥¶ç›´æ¥å¹´è½»äº†ä¸‰åå²ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a63380038dc9461eb47de73fb87db17f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=pW6e13nWqhlk5fBG%2FX0TPINCbu0%3D" alt="" loading="lazy"/></p>
<p>äººç‰©èƒ½è¢«è‡ªç”±ä¿®æ”¹ï¼Œå¹¶ä¸åªæ˜¯åˆ›æ„ç©æ³•ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¡Œä¸šå¾—åˆ°äº†æ›´å¯æ§çš„åˆ›ä½œèƒ½åŠ›ï¼Œä½†å¯¹æ™®é€šäººè€Œè¨€ï¼Œæ›´å¤§çš„ä»·å€¼åœ¨äºï¼š<strong>å½±åƒä¸å†åªèƒ½è®°å½•å½“ä¸‹ï¼Œå®ƒè¿˜èƒ½è®°å½• â€œå¯èƒ½çš„æ ·å­â€</strong>ã€‚</p>
<p>çˆ·çˆ·å¥¶å¥¶å¯ä»¥çœ‹çœ‹å¹´è½»æ—¶çš„æ¨¡æ ·ï¼Œæ™®é€šäººä¹Ÿå¯ä»¥çœ‹åˆ°è‡ªå·±ç†æƒ³ä¸­çš„è‡ªå·±ï¼ŒAI è§†é¢‘è®©å½±åƒå˜å¾—æ›´æ¸©æŸ”ã€æ›´æœ‰æƒ³è±¡åŠ›ã€‚</p>
<p>æ­¤å¤–ï¼ŒModify è¿˜å…·å¤‡ã€Œ<strong>å°ºå¯¸ä¿®æ”¹</strong>ã€èƒ½åŠ›ï¼Œå“ªæ€•ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„æ¯”ä¾‹ä¸å¤ªå¯¹ï¼Œä¹Ÿèƒ½ç”¨ä¸€å¥æç¤ºè¯éšå¿ƒè°ƒæ•´ï¼Œå½»åº•æ‘†è„± â€œå°ºå¯¸é”™äº†åªèƒ½é‡ç”Ÿâ€ çš„éº»çƒ¦äº‹å„¿ã€‚</p>
<p>éšç€ Modify æŠŠã€Œå¯ç¼–è¾‘æ€§ã€è¡¥é½ï¼ŒAI è§†é¢‘ç»ˆäºä»ä¸€æ¬¡æ€§ç”Ÿæˆçš„æ¨¡å‹èƒ½åŠ›ï¼Œèµ°å‘å¯åå¤æ‰“ç£¨çš„åˆ›ä½œå·¥å…·ã€‚</p>
<p>è¿™ä¸ä»…è®©ä¸“ä¸šå†…å®¹ç”Ÿäº§æ›´å¯æ§ï¼Œä¹Ÿè®©æ™®é€šäººæ‹¥æœ‰äº†<strong>çœŸæ­£æŒæ§åŠ¨æ€å½±åƒçš„æƒåˆ©</strong>ï¼Œæœªæ¥çš„è§†é¢‘åˆ›ä½œï¼Œä¸å†ç”±æ¨¡å‹å†³å®šï¼Œè€Œæ˜¯ç”±ä½¿ç”¨å®ƒçš„æ¯ä¸€ä¸ªäººå†³å®šã€‚</p>
<h2 data-id="heading-4">ç”Ÿæˆæé€Ÿ 30%ï¼Œå¤§ç‰‡ç¨³å‡ºä¸è¯¯äº‹</h2>
<p>ç”Ÿæˆé€Ÿåº¦ä¸€ç›´æ˜¯ AI è§†é¢‘åˆ›ä½œé‡Œç»•ä¸è¿‡å»çš„é—®é¢˜ã€‚</p>
<p>æ— è®ºæ˜¯å†…å®¹å›¢é˜Ÿã€çŸ­è§†é¢‘åˆ›ä½œè€…ï¼Œè¿˜æ˜¯éœ€è¦é¢‘ç¹éªŒè¯æƒ³æ³•çš„å“ç‰Œæ–¹ï¼Œéƒ½é¢ä¸´åŒä¸€ä¸ªå›°æ‰°ï¼š</p>
<p>ç›®å‰ç»å¤§å¤šæ•° AI è§†é¢‘çš„ç”Ÿæˆé€Ÿåº¦ï¼Œèµ¶ä¸ä¸Šç”¨æˆ·å†…å®¹äº¤ä»˜çš„èŠ‚å¥ï¼Œä¹Ÿèµ¶ä¸ä¸Šç”¨æˆ·çµæ„Ÿå¢é•¿çš„é€Ÿåº¦ã€‚</p>
<p>å›¢é˜Ÿéœ€è¦é«˜é¢‘å®æ—¶äº§å‡ºï¼ŒçŸ­è§†é¢‘åˆ›ä½œè€…éœ€è¦å¿«é€Ÿ AB æµ‹è¯•ï¼Œå“ç‰Œæ–¹åˆ™éœ€è¦åœ¨çŸ­å‘¨æœŸå†…éªŒè¯åˆ›æ„æƒ³æ³•ï¼Œåªè¦ç”Ÿæˆä¸€æ…¢ï¼Œæ‰€æœ‰é“¾è·¯å°±ä¸€èµ·è¢«å¡ä½ã€‚</p>
<p>è¿™æ¬¡çˆ±è¯—ç§‘æŠ€ä¸Šçº¿çš„æ‹æˆ‘ AIï¼ˆPixVerseï¼‰V5 Fastï¼Œå°±æ˜¯åœ¨è¿™ä¸ªç°å®ç—›ç‚¹ä¸Šåšäº†æ˜æ˜¾ä¼˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c571786de4094611baa9dcd473e57536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764061985&amp;x-signature=DfMlm3TvEtiRfKXxjh4JgTx5sfE%3D" alt="" loading="lazy"/></p>
<p>ç›¸æ¯”ä¸Šä¸€ä»£ V5 æ¨¡å‹ï¼ŒV5 Fast ç”Ÿæˆé€Ÿåº¦æå‡äº† 30%+ï¼Œä¸¾ä¸ªç›´è§‚çš„ä¾‹å­å°±æ˜¯ï¼ŒåŸæœ¬ 5 ç§’çš„é«˜æ¸…è§†é¢‘è¦ç­‰ 1ï½2 åˆ†é’Ÿï¼Œç°åœ¨åªéœ€è¦åœ¨ 1 åˆ†é’Ÿä»¥å†…å°±èƒ½çœ‹åˆ°æˆç‰‡ã€‚</p>
<p>åŸå› å¾ˆç®€å•ï¼Œä»¥å‰çš„ Soraã€è§†é¢‘ç‰ˆ Stable Diffusion éƒ½æ˜¯ç›´æ¥ç”¨ä¸€ä¸ªè¶…çº§å¤§çš„æ¨¡å‹ä¸€æ¬¡æ€§é¢„æµ‹å‡ åä¸Šç™¾å¸§ï¼Œæ¨¡å‹çœ‹å¾—å¤ªå¤šå¤ªè¿œï¼Œç®—å¾—ç‰¹åˆ«æ…¢ã€‚</p>
<p>è€Œ V5 Fast è®©æ¨¡å‹æ¨ç†ç»“æ„å˜å¾—è½»é‡åŒ–ã€å¸§é—´è®¡ç®—ä¾èµ–è¢«ç¼©çŸ­ï¼Œé«˜åˆ†è¾¨ç‡çš„è§†é¢‘ç”Ÿæˆä¸å†æ˜¯ â€œå€é€Ÿå˜æ…¢â€ çš„ç“¶é¢ˆç¯èŠ‚ã€‚</p>
<p>çœ‹ä¼¼è¿˜æ˜¯é‚£æ¡æ¨ç†é“¾ï¼Œä½†åŠ é€Ÿç‚¹éå¸ƒæ¯ä¸€ä¸ªè§†é¢‘èŠ‚ç‚¹ï¼Œé€Ÿåº¦è‡ªç„¶å°±æå‡å¾—éå¸¸æ˜æ˜¾ã€‚</p>
<p>æœ€å…³é”®çš„æ˜¯ï¼Œé€Ÿåº¦æä¸Šæ¥äº†ï¼Œæ•ˆæœä¹Ÿæ²¡æ‰é“¾å­ï¼ŒåŠ¨ä½œç»†èŠ‚å’Œé£æ ¼ä¾æ—§åœ¨çº¿ï¼Œå¯¹å†…å®¹åˆ›ä½œè€…æ¥è¯´ï¼Œè¿™ç§ â€œèµ¶å¾—ä¸Šç‚¹â€ çš„ç”Ÿæˆé€Ÿåº¦ï¼Œæ‰æ˜¯çœŸæ­£èƒ½ç”¨èµ·æ¥çš„èŠ‚å¥ã€‚</p>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å¯¹æ¯”ï¼Œæˆ‘ä»¬æµ‹è¯•äº†æ‹æˆ‘ AIï¼ˆPixVerseï¼‰V5 Fast ä¸å¸‚é¢ä¸»æµäº§å“åœ¨ç›¸åŒæç¤ºè¯ &amp; å‚æ•°æ¡ä»¶ä¸‹çš„è¡¨ç°ï¼Œæ²¡è§è¿‡æ¯”è¿™æ›´å¿«çš„ï¼š</p>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">è§†é¢‘è¯¦æƒ…</a></p>
<p>æ‹æˆ‘ AI(PixVerse) V5 Fast çº¦ 40 ç§’å³å¯ç”Ÿæˆå®Œæˆ 1080P çš„ 5 ç§’è§†é¢‘ï¼Œç­‰å¾…è¿‡ç¨‹æ›´çŸ­ã€ç”Ÿæˆä½“éªŒæ›´è¿è´¯ã€‚ç¬¦åˆç¤¾äº¤å¹³å°ä¼ æ’­çš„ 360P å’Œ 720P ç”Ÿæˆé€Ÿåº¦æ›´å¿«ï¼Œæ•°ç§’ä¹Ÿå°±å®Œæˆäº†ã€‚</p>
<p>ä» Modify ç²¾ä¿®åŠŸèƒ½åˆ° V5 Fast æé€Ÿæ¨¡å‹ï¼ŒèƒŒåæ˜¯ã€Œçˆ±è¯—ç§‘æŠ€ã€åœ¨ AI è§†é¢‘ç”Ÿæˆé¢†åŸŸæŒç»­çš„æŠ€æœ¯æŠ•å…¥ä¸äº§å“æ‰“ç£¨ã€‚</p>
<p>ä»Šå¹´ 10 æœˆï¼Œçˆ±è¯—ç§‘æŠ€å®Œæˆäº† 1 äº¿å…ƒäººæ°‘å¸çš„ B+ è½®èèµ„ï¼Œä»…ç”¨ä¸¤å¹´æ—¶é—´å°±å®Œæˆäº†äº”æ¬¡æ¨¡å‹è¿­ä»£ã€å…«ä¸ªç‰ˆæœ¬æ›´æ–°ï¼Œç‡å…ˆåœ¨è¡Œä¸šå†…å®ç°äº† DiT æ¶æ„ã€å‡†å®æ—¶ç”Ÿæˆã€è§’è‰²é©±åŠ¨è§†é¢‘ç­‰å…³é”®çªç ´ã€‚</p>
<p>æ›´å€¼å¾—æ³¨æ„çš„ï¼Œçˆ±è¯—è¿˜æ˜¯æœ€æ—©åœ¨ V3.5 ç ´ 10 ç§’å¤§å…³çš„ï¼ˆå»å¹´ 12 æœˆï¼‰ã€‚è¿›å…¥ 2025 å¹´ 1 æœˆï¼ŒV4 è¿›å…¥ 5 ç§’å‡†å®æ—¶ç”Ÿæˆæ—¶ä»£çš„å¹³å°ï¼Œåœ¨å…¨çƒå·²å…·è§„æ¨¡çš„è§†é¢‘ç”Ÿæˆå¹³å°ä¸­ç”Ÿæˆé€Ÿåº¦æœ€å¿«ã€‚</p>
<p>ä½œä¸ºå…¶æ——ä¸‹æ ¸å¿ƒäº§å“ï¼Œæµ·å¤–ç‰ˆ PixVerse ä¸å›½å†…ç‰ˆã€Œæ‹æˆ‘ AIã€ç´¯è®¡æœåŠ¡è¶…è¿‡ä¸€äº¿ç”¨æˆ·ï¼Œæœˆæ´»çªç ´ 1600 ä¸‡ï¼Œè‡ªå»å¹´å¯åŠ¨å•†ä¸šåŒ–ä»¥æ¥ï¼Œæ”¶å…¥å¢é•¿è¶… 10 å€ï¼Œæˆä¸ºå…¨çƒå¢é•¿æœ€å¿«çš„ AI è§†é¢‘å¹³å°ä¹‹ä¸€ã€‚</p>
<p>è¿™æ¬¡å‘å¸ƒçš„ V5 Fast æ¨¡å¼ä¸ Modify ç²¾ä¿®åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥é™ä½äº† AI è§†é¢‘çš„åˆ›ä½œé—¨æ§›ï¼Œæå‡äº†åˆ›ä½œè‡ªç”±åº¦ï¼Œè§†é¢‘ç”Ÿæˆä¸å†å› ã€Œæ…¢ã€å’Œã€Œä¸€æ¬¡å®šç”Ÿæ­»ã€è€Œè¢«å¡ä½ã€‚</p>
<p>ç”Ÿæˆèƒ½è·Ÿä¸ŠèŠ‚å¥ï¼Œä¿®æ”¹èƒ½éšæ‰‹å®Œæˆï¼ŒAI è§†é¢‘åˆ›ä½œçš„å·¥ä½œæµæ‰çœŸæ­£å®Œæ•´èµ·æ¥ã€‚çµæ„Ÿä¸å†è¢«é€Ÿåº¦æ‹–ä½ï¼Œè§†é¢‘ä¹Ÿä¸å†æ˜¯ä¸€é”¤å­ä¹°å–ï¼Œè€Œæ˜¯æˆä¸ºäººäººéƒ½èƒ½æ‰“ç£¨ã€èƒ½è°ƒæ•´ã€èƒ½åå¤åˆ©ç”¨çš„åˆ›æ„è½½ä½“ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œé‚£äº›å¹³æ—¶ä¸å¤ªè¢«æ³¨æ„ã€å´è·Ÿæ—¥å¸¸ç”Ÿæ´»è´´å¾—å¾ˆç´§çš„å°éœ€æ±‚ï¼Œä¹Ÿèƒ½è¢«çœ‹åˆ°ã€è¢«é‡è§†ã€è¢«æ»¡è¶³ï¼ŒAI ä¹Ÿä¸å†é«˜é«˜åœ¨ä¸Šï¼Œè€Œæ˜¯å¼€å§‹è´´ç€æˆ‘ä»¬çš„æ—¥å¸¸éœ€æ±‚å»è·‘ï¼Œè´´ç€æ¯ä¸€ä¸ªç»†å¾®çš„å°åŠ¨ä½œå»åšã€‚</p>
<p>è¿™æ¬¡ã€Œæ‹æˆ‘ AIã€æ–°åŠŸèƒ½ä¸Šçº¿çš„æ„ä¹‰ï¼Œä¹Ÿæ­£æ˜¯åœ¨è¿™é‡Œï¼š</p>
<p>æ¯ä¸€ä¸ªäººéƒ½å¯ä»¥æ— å·®åˆ«äº«å—å…ˆè¿› AI æŠ€æœ¯çš„ä¹è¶£ã€‚</p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android U è‡ªç”±çª—å£(æµ®çª—)â€”â€”å¯åŠ¨æµç¨‹ï¼ˆsystem_serverä¾§æµç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7573708620870844468</link>    <guid>https://juejin.cn/post/7573708620870844468</guid>    <pubDate>2025-11-18T09:51:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573708620870844468" data-draft-id="7573708620870811700" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android U è‡ªç”±çª—å£(æµ®çª—)â€”â€”å¯åŠ¨æµç¨‹ï¼ˆsystem_serverä¾§æµç¨‹ï¼‰"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-18T09:51:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yiè¯ºåƒé‡‘"/> <meta itemprop="url" content="https://juejin.cn/user/4464480371870584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android U è‡ªç”±çª—å£(æµ®çª—)â€”â€”å¯åŠ¨æµç¨‹ï¼ˆsystem_serverä¾§æµç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4464480371870584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yiè¯ºåƒé‡‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:51:42.000Z" title="Tue Nov 18 2025 09:51:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ <a href="https://juejin.cn/editor/drafts/7566064705879867419" target="_blank" title="https://juejin.cn/editor/drafts/7566064705879867419">juejin.cn/editor/drafâ€¦</a></p>
<h2 data-id="heading-0">system_serverä¾§æµç¨‹</h2>
<p>ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/ActivityTaskManagerService.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-title function_">startActivityFromRecents</span><span class="hljs-params">(<span class="hljs-type">int</span> taskId, Bundle bOptions)</span> {
        mAmInternal.enforceCallingPermission(START_TASKS_FROM_RECENTS,
                <span class="hljs-string">"startActivityFromRecents()"</span>);
        <span class="hljs-comment">//è·å–</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">callingPid</span> <span class="hljs-operator">=</span> Binder.getCallingPid();
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">callingUid</span> <span class="hljs-operator">=</span> Binder.getCallingUid();
        <span class="hljs-comment">//å°è£…options</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">SafeActivityOptions</span> <span class="hljs-variable">safeOptions</span> <span class="hljs-operator">=</span> SafeActivityOptions.fromBundle(bOptions);
        <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">origId</span> <span class="hljs-operator">=</span> Binder.clearCallingIdentity();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> mTaskSupervisor.startActivityFromRecents(callingPid, callingUid, taskId,
                    safeOptions);
        } <span class="hljs-keyword">finally</span> {
            Binder.restoreCallingIdentity(origId);
        }
    }
</code></pre>
<p>è¿™é‡Œ<code>callingPid</code>å’Œ<code>callingUid</code>ä¸ºæ¡Œé¢<strong>pid</strong>å’Œ<strong>uid</strong>ï¼Œåç»­ä¼ é€’å‚æ•°ç»§ç»­è°ƒç”¨åˆ°ActivityTaskSupervisor.startActivityFromRecentsã€‚</p>
<p>ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/ActivityTaskSupervisor.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * Start the given task from the recent tasks. Do not hold WM global lock when calling this
     * method to avoid potential deadlock or permission deny by UriGrantsManager when resolving
     * activity (see {<span class="hljs-doctag">@link</span> ActivityStarter.Request#resolveActivity} and
     * {<span class="hljs-doctag">@link</span> com.android.server.am.ContentProviderHelper#checkContentProviderUriPermission}).
     *
     * <span class="hljs-doctag">@return</span> The result code of starter.
     */</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">startActivityFromRecents</span><span class="hljs-params">(<span class="hljs-type">int</span> callingPid, <span class="hljs-type">int</span> callingUid, <span class="hljs-type">int</span> taskId,
            SafeActivityOptions options)</span> {
        <span class="hljs-keyword">final</span> Task task;
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> taskCallingUid;
        <span class="hljs-keyword">final</span> String callingPackage;
        <span class="hljs-keyword">final</span> String callingFeatureId;
        <span class="hljs-keyword">final</span> Intent intent;
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> userId;
        <span class="hljs-comment">//è·å–ä¼ é€’è¿‡æ¥çš„options</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">ActivityOptions</span> <span class="hljs-variable">activityOptions</span> <span class="hljs-operator">=</span> options != <span class="hljs-literal">null</span>
                ? options.getOptions(<span class="hljs-built_in">this</span>)
                : <span class="hljs-literal">null</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">moveHomeTaskForward</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">synchronized</span> (mService.mGlobalLock) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isCallerRecents</span> <span class="hljs-operator">=</span> mRecentTasks.isCallerRecents(callingUid);
            <span class="hljs-type">int</span> <span class="hljs-variable">activityType</span> <span class="hljs-operator">=</span> ACTIVITY_TYPE_UNDEFINED;
            <span class="hljs-keyword">if</span> (activityOptions != <span class="hljs-literal">null</span>) {
                activityType = activityOptions.getLaunchActivityType();
                <span class="hljs-comment">//è¿™é‡Œä¸»è¦å°±æ˜¯åˆ¤æ–­æ˜¯å¦è¦ å†»ç»“å½“å‰æœ€è¿‘çš„ä»»åŠ¡åˆ—è¡¨é¡ºåºï¼Œç›´åˆ°ç”¨æˆ·ä¸å½“å‰åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’æˆ–å‘ç”Ÿè¶…æ—¶ã€‚</span>
                <span class="hljs-keyword">if</span> (activityOptions.freezeRecentTasksReordering() &amp;&amp; (isCallerRecents
                        || ActivityTaskManagerService.checkPermission(MANAGE_ACTIVITY_TASKS,
                                callingPid, callingUid) == PERMISSION_GRANTED)) {
                    mRecentTasks.setFreezeTaskListReordering();
                }
                <span class="hljs-comment">//ä¼ é€’è¿‡æ¥optionsä¸­æ²¡æœ‰è®¾ç½®è¿‡mLaunchRootTaskï¼Œå› æ­¤getLaunchRootTask()çš„å€¼ä¸ºç©º</span>
                <span class="hljs-keyword">if</span> (activityOptions.getLaunchRootTask() != <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// Don't move home activity forward if there is a launch root set.</span>
                    moveHomeTaskForward = <span class="hljs-literal">false</span>;
                }
            }
            <span class="hljs-comment">//åˆ¤æ–­å½“å‰activityç±»å‹çš„åˆæ³•æ€§</span>
            <span class="hljs-keyword">if</span> (activityType == ACTIVITY_TYPE_HOME || activityType == ACTIVITY_TYPE_RECENTS) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"startActivityFromRecents: Task "</span>
                        + taskId + <span class="hljs-string">" can't be launch in the home/recents root task."</span>);
            }

            <span class="hljs-type">boolean</span> <span class="hljs-variable">shouldStartActivity</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-comment">//å»¶è¿Ÿçª—å£å¸ƒå±€</span>
            mService.deferWindowLayout();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">//æ ¹æ®taskIdè·å–Taskå¯¹è±¡</span>
                task = mRootWindowContainer.anyTaskForId(taskId,
                        MATCH_ATTACHED_TASK_OR_RECENT_TASKS_AND_RESTORE, activityOptions, ON_TOP);
                <span class="hljs-comment">//taskä¸ºç©ºæ—¶ï¼Œåšçª—å£ç»˜åˆ¶å¤„ç†å¹¶æŠ›å‡ºå¼‚å¸¸</span>
                <span class="hljs-keyword">if</span> (task == <span class="hljs-literal">null</span>) {
                    mWindowManager.executeAppTransition();
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(
                            <span class="hljs-string">"startActivityFromRecents: Task "</span> + taskId + <span class="hljs-string">" not found."</span>);
                }

                <span class="hljs-keyword">if</span> (moveHomeTaskForward) {
                    <span class="hljs-comment">// We always want to return to the home activity instead of the recents</span>
                    <span class="hljs-comment">// activity from whatever is started from the recents activity, so move</span>
                    <span class="hljs-comment">// the home root task forward.</span>
                    <span class="hljs-comment">// TODO (b/115289124): Multi-display supports for recents.</span>
                    <span class="hljs-comment">//moveHomeRootTaskToFrontä¼šè·å–æ¡Œé¢rootTaskï¼Œç„¶åå°†å…¶ç§»è‡³æœ€å‰å°</span>
                    mRootWindowContainer.getDefaultTaskDisplayArea().moveHomeRootTaskToFront(
                            <span class="hljs-string">"startActivityFromRecents"</span>);
                }

                <span class="hljs-comment">// If the user must confirm credentials (e.g. when first launching a work</span>
                <span class="hljs-comment">// app and the Work Challenge is present) let startActivityInPackage handle</span>
                <span class="hljs-comment">// the intercepting.</span>
                
                <span class="hljs-comment">//android 13ä¹‹å‰çš„çš„ç‰ˆæœ¬å¯èƒ½ä¼šè¿›å…¥è¯¥æµç¨‹ï¼Œ</span>
                <span class="hljs-comment">//æœ¬åœ°ä½¿ç”¨çš„android 14ï¼Œtask.getRootActivity()ä¸ºnullï¼Œå› æ­¤ä¸è¿›å…¥æ­¤æµç¨‹</span>
                <span class="hljs-keyword">if</span> (!mService.mAmInternal.shouldConfirmCredentials(task.mUserId)
                        &amp;&amp; task.getRootActivity() != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">final</span> <span class="hljs-type">ActivityRecord</span> <span class="hljs-variable">targetActivity</span> <span class="hljs-operator">=</span> task.getTopNonFinishingActivity();
                    ......
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-comment">//è¿™é‡Œæ˜¯æŠŠè‡ªç”±çª—å£çš„Taskç§»åˆ°æœ€é¡¶éƒ¨å‰ç«¯</span>
                        mService.moveTaskToFrontLocked(<span class="hljs-literal">null</span> <span class="hljs-comment">/* appThread */</span>,
                                <span class="hljs-literal">null</span> <span class="hljs-comment">/* callingPackage */</span>, task.mTaskId, <span class="hljs-number">0</span>, options);
                        ......
                    } <span class="hljs-keyword">finally</span> {
                        mActivityMetricsLogger.notifyActivityLaunched(launchingState,
                                START_TASK_TO_FRONT, <span class="hljs-literal">false</span> <span class="hljs-comment">/* newActivityCreated */</span>,
                                targetActivity, activityOptions);
                    }

                    mService.getActivityStartController().postStartActivityProcessingForLastStarter(
                            task.getTopNonFinishingActivity(), ActivityManager.START_TASK_TO_FRONT,
                            task.getRootTask());

                    <span class="hljs-comment">// As it doesn't go to ActivityStarter.executeRequest() path, we need to resume</span>
                    <span class="hljs-comment">// app switching here also.</span>
                    mService.resumeAppSwitches();
                    <span class="hljs-keyword">return</span> ActivityManager.START_TASK_TO_FRONT;
                }
                <span class="hljs-comment">// The task is empty or needs to show the confirmation for credential.</span>
                shouldStartActivity = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-keyword">if</span> (!shouldStartActivity) {
                    <span class="hljs-comment">//ç»§ç»­çª—å£å¸ƒå±€ï¼Œä¸å‰é¢mService.deferWindowLayout()å»¶è¿Ÿçª—å£å¸ƒå±€ç›¸å‘¼åº”ã€‚</span>
                    mService.continueWindowLayout();
                }
            }
            ......
        }
        <span class="hljs-comment">// ActivityStarter will acquire the lock where the places need, so execute the request</span>
        <span class="hljs-comment">// outside of the lock.</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// We need to temporarily disable the explicit intent filter matching enforcement</span>
            <span class="hljs-comment">// because Task does not store the resolved type of the intent data, causing filter</span>
            <span class="hljs-comment">// mismatch in certain cases. (b/240373119)</span>
            PackageManagerServiceUtils.DISABLE_ENFORCE_INTENTS_TO_MATCH_INTENT_FILTERS.set(<span class="hljs-literal">true</span>);
            <span class="hljs-comment">//é€šè¿‡startActivityInPackageå¯åŠ¨ç›¸åº”çš„Taskä¸­å¯¹åº”Activityå¹¶å°†å…¶ç§»è‡³æœ€å‰å°ï¼Œä¼ é€’optionsã€taskç­‰å…³é”®å‚æ•°ã€‚</span>
            <span class="hljs-keyword">return</span> mService.getActivityStartController().startActivityInPackage(taskCallingUid,
                    callingPid, callingUid, callingPackage, callingFeatureId, intent, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>,
                    <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, options, userId, task, <span class="hljs-string">"startActivityFromRecents"</span>,
                    <span class="hljs-literal">false</span> <span class="hljs-comment">/* validateIncomingUser */</span>, <span class="hljs-literal">null</span> <span class="hljs-comment">/* originatingPendingIntent */</span>,
                    BackgroundStartPrivileges.NONE);
        } <span class="hljs-keyword">finally</span> {
            PackageManagerServiceUtils.DISABLE_ENFORCE_INTENTS_TO_MATCH_INTENT_FILTERS.set(<span class="hljs-literal">false</span>);
            <span class="hljs-keyword">synchronized</span> (mService.mGlobalLock) {
                <span class="hljs-comment">//ç»§ç»­çª—å£å¸ƒå±€ï¼Œä¸å‰é¢mService.deferWindowLayout()å»¶è¿Ÿçª—å£å¸ƒå±€ç›¸å‘¼åº”ã€‚</span>
                mService.continueWindowLayout();
            }
        }
    }
</code></pre>
<p>startActivityFromRecentsæ–¹æ³•ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>anyTaskForId</code>æ–¹æ³•ï¼Œé€šè¿‡taskIdæ‰¾åˆ°å¯¹åº”çš„Taskå¹¶è®¾ç½®å…¶windowingModeã€‚</li>
<li>é€šè¿‡<code>startActivityInPackage</code>æ–¹æ³•ï¼Œå¯åŠ¨Taskä¸­å¯¹åº”Activityå¹¶å°†å…¶ç§»è‡³æœ€å‰å°ã€‚</li>
</ol>
<h3 data-id="heading-1">é€šè¿‡taskIdæ‰¾åˆ°å¯¹åº”çš„Taskå¹¶è®¾ç½®å…¶windowingMode</h3>
<pre><code class="hljs language-java" lang="java">task = mRootWindowContainer.anyTaskForId(taskId,
        MATCH_ATTACHED_TASK_OR_RECENT_TASKS_AND_RESTORE, activityOptions, ON_TOP);
</code></pre>
<p>è¿™é‡Œä¸»è¦ä¼ é€’åº”ç”¨taskIdå’ŒactivityOptionsï¼ˆæºå¸¦éœ€è¦è®¾ç½®çš„è‡ªç”±çª—å£ç›¸å…³å‚æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-2">RootWindowContainer.anyTaskForId</h4>
<p>ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/RootWindowContainer.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * Returns a {<span class="hljs-doctag">@link</span> Task} for the input id if available. {<span class="hljs-doctag">@code</span> null} otherwise.
     *
     * <span class="hljs-doctag">@param</span> id        Id of the task we would like returned.
     * <span class="hljs-doctag">@param</span> matchMode The mode to match the given task id in.
     * <span class="hljs-doctag">@param</span> aOptions  The activity options to use for restoration. Can be null.
     * <span class="hljs-doctag">@param</span> onTop     If the root task for the task should be the topmost on the display.
     */</span>
    Task <span class="hljs-title function_">anyTaskForId</span><span class="hljs-params">(<span class="hljs-type">int</span> id, <span class="hljs-meta">@RootWindowContainer</span>.AnyTaskForIdMatchTaskMode <span class="hljs-type">int</span> matchMode,
            <span class="hljs-meta">@Nullable</span> ActivityOptions aOptions, <span class="hljs-type">boolean</span> onTop)</span> {
        <span class="hljs-comment">// If options are set, ensure that we are attempting to actually restore a task</span>
        <span class="hljs-keyword">if</span> (matchMode != MATCH_ATTACHED_TASK_OR_RECENT_TASKS_AND_RESTORE &amp;&amp; aOptions != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Should not specify activity options for non-restore"</span>
                    + <span class="hljs-string">" lookup"</span>);
        }

        <span class="hljs-comment">//ç®€å•è¯´å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ª task -&gt; task.isTaskId(id) çš„lamdaè¡¨è¾¾å¼</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">PooledPredicate</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> PooledLambda.obtainPredicate(
                Task::isTaskId, PooledLambda.__(Task.class), id);
        <span class="hljs-comment">//æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„task</span>
        <span class="hljs-type">Task</span> <span class="hljs-variable">task</span> <span class="hljs-operator">=</span> getTask(p);
        <span class="hljs-comment">//å°† PooledPredicate å¯¹è±¡å›æ”¶åˆ°å¯¹è±¡æ± ä¸­ï¼Œä»¥ä¾¿é‡ç”¨ï¼Œé¿å…é¢‘ç¹çš„åƒåœ¾å›æ”¶</span>
        p.recycle();

        <span class="hljs-keyword">if</span> (task != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (aOptions != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// Resolve the root task the task should be placed in now based on options</span>
                <span class="hljs-comment">// and reparent if needed.</span>
                <span class="hljs-comment">// TODO(b/229927851) For split-screen, setLaunchRootTask is no longer the "root"</span>
                <span class="hljs-comment">// task, consider to rename methods like "parentTask" instead of "rootTask".</span>
                <span class="hljs-comment">//æ‰¾åˆ°rootTask</span>
                <span class="hljs-keyword">final</span> <span class="hljs-type">Task</span> <span class="hljs-variable">targetRootTask</span> <span class="hljs-operator">=</span>
                        getOrCreateRootTask(<span class="hljs-literal">null</span>, aOptions, task, onTop);
                <span class="hljs-comment">// When launch with ActivityOptions#getLaunchRootTask, the "root task" just mean the</span>
                <span class="hljs-comment">// parent of current launch, not the "root task" in hierarchy.</span>
                <span class="hljs-comment">//è¿™é‡Œæ˜¯åˆ¤æ–­å½“å‰Taskçš„è·å–åˆ°çš„rootTaskä¸å…¶task.getRootTask()çš„åœºæ™¯</span>
                <span class="hljs-comment">//æˆ‘ä»¬ä¸€èˆ¬å¯åŠ¨åº”ç”¨æ—¶æƒ…å†µå¦‚ä¸‹ï¼š</span>
                <span class="hljs-comment">//targetRootTask != null,true</span>
                <span class="hljs-comment">//task.getRootTask() != targetRootTaskï¼Œfalse</span>
                <span class="hljs-comment">//task.getParent() != targetRootTaskï¼Œfalse</span>
                <span class="hljs-comment">//å› æ­¤æˆ‘ä»¬è¿™é‡Œä¸ºfalse</span>
                <span class="hljs-comment">//è¿™ä¸ªåœºæ™¯ä¸€èˆ¬æ˜¯taskå‚æ•°åœ¨ç‰¹æ®Šæƒ…å†µå˜nullæ—¶ï¼ŒgetOrCreateRootTaskä¸­ä¼šé‡æ–°åˆ›å»ºTask</span>
                <span class="hljs-keyword">if</span> (targetRootTask != <span class="hljs-literal">null</span> &amp;&amp; task.getRootTask() != targetRootTask
                        &amp;&amp; task.getParent() != targetRootTask) {
                    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">reparentMode</span> <span class="hljs-operator">=</span> onTop
                            ? REPARENT_MOVE_ROOT_TASK_TO_FRONT : REPARENT_LEAVE_ROOT_TASK_IN_PLACE;
                    task.reparent(targetRootTask, onTop, reparentMode, ANIMATE, DEFER_RESUME,
                            <span class="hljs-string">"anyTaskForId"</span>);
                }
            }
            <span class="hljs-comment">//è¿”å›è·å–åˆ°çš„task</span>
            <span class="hljs-keyword">return</span> task;
        }

        <span class="hljs-comment">//taskä¸ºç©ºçš„å…¶ä»–æƒ…å†µï¼Œçœç•¥</span>
        ......
        
        <span class="hljs-keyword">if</span> (DEBUG_RECENTS) Slog.w(TAG_RECENTS, <span class="hljs-string">"Restored task id="</span> + id + <span class="hljs-string">" from in recents"</span>);
        <span class="hljs-keyword">return</span> task;
    }
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šå°±æ˜¯é€šè¿‡getOrCreateRootTaskåšä¸€äº›æ“ä½œï¼Œç„¶åè¿”å›ç»™targetRootTaskï¼Œåšåç»­çš„æ¡ä»¶åˆ¤æ–­å¤„ç†ã€‚
åœ¨ä»£ç æˆ‘ä»¬åˆ†æäº†åé¢çš„æµç¨‹ä¸€èˆ¬æƒ…å†µä¸ä¼šå»èµ°ï¼Œå› æ­¤æš‚ä¸è€ƒè™‘ã€‚è¿™é‡Œæœ€åreturn é€šè¿‡<code>getTask(p)</code>è·å–åˆ°çš„taskã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é‡ç‚¹åˆ†æä¸‹getOrCreateRootTaskæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-java" lang="java">                <span class="hljs-keyword">final</span> <span class="hljs-type">Task</span> <span class="hljs-variable">targetRootTask</span> <span class="hljs-operator">=</span>
                        getOrCreateRootTask(<span class="hljs-literal">null</span>, aOptions, task, onTop);
</code></pre>
<p>è¿™é‡Œä¼ é€’äº†ä»taskIdä¸­æ‰¾åˆ°çš„å¯¹åº”taskï¼Œä»¥åŠå‰é¢åˆ›å»ºoptionsï¼Œå…¶ä¸­å‚æ•°<code>null</code>è¡¨ç¤ºActivityRecordä¸ºç©ºã€‚</p>
<h4 data-id="heading-3">RootWindowContainer.getOrCreateRootTask</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * Returns the right root task to use for launching factoring in all the input parameters.
     *
     * <span class="hljs-doctag">@param</span> r              The activity we are trying to launch. Can be null.
     * <span class="hljs-doctag">@param</span> options        The activity options used to the launch. Can be null.
     * <span class="hljs-doctag">@param</span> candidateTask  The possible task the activity might be launched in. Can be null.
     * <span class="hljs-doctag">@param</span> sourceTask     The task requesting to start activity. Can be null.
     * <span class="hljs-doctag">@param</span> launchParams   The resolved launch params to use.
     * <span class="hljs-doctag">@param</span> launchFlags    The launch flags for this launch.
     * <span class="hljs-doctag">@param</span> realCallingPid The pid from {<span class="hljs-doctag">@link</span> ActivityStarter#setRealCallingPid}
     * <span class="hljs-doctag">@param</span> realCallingUid The uid from {<span class="hljs-doctag">@link</span> ActivityStarter#setRealCallingUid}
     * <span class="hljs-doctag">@return</span> The root task to use for the launch.
     */</span>
    Task <span class="hljs-title function_">getOrCreateRootTask</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ActivityRecord r,
            <span class="hljs-meta">@Nullable</span> ActivityOptions options, <span class="hljs-meta">@Nullable</span> Task candidateTask,
            <span class="hljs-meta">@Nullable</span> Task sourceTask, <span class="hljs-type">boolean</span> onTop,
            <span class="hljs-meta">@Nullable</span> LaunchParamsController.LaunchParams launchParams, <span class="hljs-type">int</span> launchFlags)</span> {
        <span class="hljs-comment">// First preference goes to the launch root task set in the activity options.</span>
        <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">//è¿™è¾¹ä¼ é€’è¿‡æ¥çš„optionsæ²¡æœ‰è®¾ç½®è¿‡mLaunchRootTask</span>
            <span class="hljs-comment">//å› æ­¤options.getLaunchRootTask()ä¸ºnullï¼Œå› æ­¤ä¸è¿›å…¥æ­¤æµç¨‹</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">Task</span> <span class="hljs-variable">candidateRoot</span> <span class="hljs-operator">=</span> Task.fromWindowContainerToken(options.getLaunchRootTask());
            <span class="hljs-keyword">if</span> (candidateRoot != <span class="hljs-literal">null</span> &amp;&amp; canLaunchOnDisplay(r, candidateRoot)) {
                <span class="hljs-keyword">return</span> candidateRoot;
            }
        }

        <span class="hljs-comment">// Next preference goes to the task id set in the activity options.</span>
        <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">//options.getLaunchRootTask()ä¸ºnullï¼Œå› æ­¤ä¸è¿›å…¥æ­¤æµç¨‹</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">candidateTaskId</span> <span class="hljs-operator">=</span> options.getLaunchTaskId();
            <span class="hljs-keyword">if</span> (candidateTaskId != INVALID_TASK_ID) {
                ......
            }
        }

        <span class="hljs-comment">// Next preference goes to the TaskDisplayArea candidate from launchParams</span>
        <span class="hljs-comment">// or activity options.</span>
        <span class="hljs-type">TaskDisplayArea</span> <span class="hljs-variable">taskDisplayArea</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-comment">//launchParamsä¼ é€’è¿‡æ¥çš„å€¼ä¸ºnull</span>
        <span class="hljs-keyword">if</span> (launchParams != <span class="hljs-literal">null</span> &amp;&amp; launchParams.mPreferredTaskDisplayArea != <span class="hljs-literal">null</span>) {
            taskDisplayArea = launchParams.mPreferredTaskDisplayArea;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {<span class="hljs-comment">//optionsä¸ä¸ºç©ºï¼Œè¿›å…¥æ­¤æµç¨‹ç»™taskDisplayAreaèµ‹å€¼</span>
            <span class="hljs-comment">//å½“å‰çš„optionsä¸­æ²¡æœ‰è®¾ç½®ï¼Œå› æ­¤options.getLaunchTaskDisplayArea()å€¼ä¸ºç©º</span>
            <span class="hljs-comment">//å³taskDisplayAreaè·å–çš„å€¼ä¸ºnullã€‚</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">WindowContainerToken</span> <span class="hljs-variable">daToken</span> <span class="hljs-operator">=</span> options.getLaunchTaskDisplayArea();
            taskDisplayArea = daToken != <span class="hljs-literal">null</span>
                    ? (TaskDisplayArea) WindowContainer.fromBinder(daToken.asBinder()) : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (taskDisplayArea == <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">//options.getLaunchDisplayId()ä¸ºnullï¼Œå› æ­¤ä¸è¿›å…¥æ­¤æµç¨‹</span>
                <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">launchDisplayId</span> <span class="hljs-operator">=</span> options.getLaunchDisplayId();
                <span class="hljs-keyword">if</span> (launchDisplayId != INVALID_DISPLAY) {
                    <span class="hljs-keyword">final</span> <span class="hljs-type">DisplayContent</span> <span class="hljs-variable">displayContent</span> <span class="hljs-operator">=</span> getDisplayContent(launchDisplayId);
                    <span class="hljs-keyword">if</span> (displayContent != <span class="hljs-literal">null</span>) {
                        taskDisplayArea = displayContent.getDefaultTaskDisplayArea();
                    }
                }
            }
        }

        <span class="hljs-comment">//è·å–activityType</span>
        <span class="hljs-comment">//æˆ‘ä»¬è¿™é‡Œrå³ActivityRecordä¸ºç©ºï¼Œå› æ­¤è·å–candidateTaskçš„type</span>
        <span class="hljs-comment">//å³activityTypeä¸ºACTIVITY_TYPE_STANDARD</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">activityType</span> <span class="hljs-operator">=</span> resolveActivityType(r, options, candidateTask);
        <span class="hljs-comment">//æ­¤æ—¶taskDisplayAreaä»ç„¶ä¸ºç©º</span>
        <span class="hljs-keyword">if</span> (taskDisplayArea != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (canLaunchOnDisplay(r, taskDisplayArea.getDisplayId())) {
                <span class="hljs-keyword">return</span> taskDisplayArea.getOrCreateRootTask(r, options, candidateTask,
                        sourceTask, launchParams, launchFlags, activityType, onTop);
            } <span class="hljs-keyword">else</span> {
                taskDisplayArea = <span class="hljs-literal">null</span>;
            }
        }

        <span class="hljs-comment">// Give preference to the root task and display of the input task and activity if they</span>
        <span class="hljs-comment">// match the mode we want to launch into.</span>
        <span class="hljs-type">Task</span> <span class="hljs-variable">rootTask</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-comment">//ä¼ é€’è¿‡æ¥çš„candidateTaskä¸ä¸ºç©ºï¼Œå› æ­¤è·å–å…¶rootTask</span>
        <span class="hljs-keyword">if</span> (candidateTask != <span class="hljs-literal">null</span>) {
            rootTask = candidateTask.getRootTask();
        }
        <span class="hljs-comment">//rootTaskä¸ºç©ºä¸”ActivityRecordä¸ä¸ºç©ºçš„æƒ…å†µï¼Œé€šè¿‡ActivityRecordè·å–rootTask</span>
        <span class="hljs-keyword">if</span> (rootTask == <span class="hljs-literal">null</span> &amp;&amp; r != <span class="hljs-literal">null</span>) {
            rootTask = r.getRootTask();
        }
        <span class="hljs-comment">//launchParamsä¸ºnullï¼Œæ­¤æ—¶windowingModeä¸ºWINDOWING_MODE_UNDEFINED</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">windowingMode</span> <span class="hljs-operator">=</span> launchParams != <span class="hljs-literal">null</span> ? launchParams.mWindowingMode
                : WindowConfiguration.WINDOWING_MODE_UNDEFINED;
        <span class="hljs-keyword">if</span> (rootTask != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">//è·å–rootTaskå¯¹åº”çš„taskDisplayArea</span>
            taskDisplayArea = rootTask.getDisplayArea();
            <span class="hljs-comment">//æ­¤æ—¶taskDisplayAreaä¸ä¸ºnull</span>
            <span class="hljs-comment">//canLaunchOnDisplayä¸­ä¼ é€’çš„rï¼ˆActivityRecordï¼‰å’ŒDisplayContentçš„DisplayId</span>
            <span class="hljs-comment">//å…¶ä¸­ActivityRecordä¸ºç©ºï¼Œä»canLaunchOnDisplayæ–¹æ³•æµç¨‹ä¸­å¯ä»¥å¾—çŸ¥è¯¥æƒ…å†µè¿”å›ä¸ºtrue</span>
            <span class="hljs-keyword">if</span> (taskDisplayArea != <span class="hljs-literal">null</span>
                    &amp;&amp; canLaunchOnDisplay(r, taskDisplayArea.mDisplayContent.mDisplayId)) {
                <span class="hljs-comment">//æ­¤æ—¶windowingModeä¸ºWINDOWING_MODE_UNDEFINED</span>
                <span class="hljs-keyword">if</span> (windowingMode == WindowConfiguration.WINDOWING_MODE_UNDEFINED) {
                    <span class="hljs-comment">//è¯¥æ–¹æ³•é€šè¿‡options.getLaunchWindowingMode()è·å–äº†è‡ªç”±çª—å£çš„windowingModeï¼Œå…¶å€¼ä¸ºWINDOWING_MODE_FREEFORM</span>
                    windowingMode = taskDisplayArea.resolveWindowingMode(r, options, candidateTask);
                }
                <span class="hljs-comment">// Always allow organized tasks that created by organizer since the activity type</span>
                <span class="hljs-comment">// of an organized task is decided by the activity type of its top child, which</span>
                <span class="hljs-comment">// could be incompatible with the given windowing mode and activity type.</span>
                <span class="hljs-comment">//rootTask.isCompatible(windowingMode, activityType)ï¼Œåˆ¤æ–­å½“å‰åº”ç”¨çš„windowingModeå’ŒactivityType</span>
                <span class="hljs-comment">//å’Œæ–°è®¾ç½®çš„windowingModeå’ŒactivityTypeæ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´åˆ™è¿”å›trueï¼Œä¸ä¸€è‡´åˆ™è¿”å›false</span>
                <span class="hljs-comment">//ç®€å•æ¥è¯´è¿™ä¸ªæ–¹æ³•å°±æ˜¯åˆ¤æ–­windowingModeå’ŒactivityTypeæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚æœéœ€è¦æ›´æ–°å°±ç»§ç»­åé¢çš„æµç¨‹ã€‚</span>
                <span class="hljs-comment">//rootTask.mCreatedByOrganizerä»ä»£ç ä¸Šçœ‹æ¶‰åŠTaskFragmentæ‰ä¼šæœ‰trueçš„æƒ…å†µ</span>
                <span class="hljs-keyword">if</span> (rootTask.isCompatible(windowingMode, activityType)
                        || rootTask.mCreatedByOrganizer) {
                    <span class="hljs-comment">//ç›´æ¥è¿”å›å½“å‰rootTask</span>
                    <span class="hljs-keyword">return</span> rootTask;
                }
            } <span class="hljs-keyword">else</span> {
                taskDisplayArea = <span class="hljs-literal">null</span>;
            }

        }

        <span class="hljs-comment">// Falling back to default task container</span>
        <span class="hljs-comment">//taskDisplayAreaä¸ºç©ºæ—¶ï¼Œç›´æ¥è·å–é»˜è®¤çš„taskDisplayArea</span>
        <span class="hljs-keyword">if</span> (taskDisplayArea == <span class="hljs-literal">null</span>) {
            taskDisplayArea = getDefaultTaskDisplayArea();
        }
        <span class="hljs-comment">//åœ¨taskDisplayAreaä¸­è°ƒç”¨getOrCreateRootTask</span>
        <span class="hljs-keyword">return</span> taskDisplayArea.getOrCreateRootTask(r, options, candidateTask, sourceTask,
                launchParams, launchFlags, activityType, onTop);
    }
</code></pre>
<p>æœ¬æ¬¡å¯åŠ¨è‡ªç”±çª—å£æ—¶ï¼Œ<code>rootTask = candidateTask.getRootTask();</code>ä¸ä¸ºnullï¼Œå› æ­¤è¿›å…¥åˆ°<code>rootTask != null</code>çš„æµç¨‹ã€‚
è¿™é‡Œcom.android.messagingè¿›å…¥è‡ªç”±çª—å£ä¸ºä¾‹ï¼Œä½¿ç”¨dumpå‘½ä»¤<code>adb shell dumpsys activity containers</code>ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d8573140ff04da0b3fc3cab074d401d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWnor7rljYPph5E=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764064301&amp;x-signature=hv%2FHvj9tcFTviO9NxDlmhvukHdE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
ä»dumpä¸­å¯ä»¥çœ‹åˆ°com.android.messagingçš„taskä¸º1226ï¼Œåœ¨å…¶ä¹‹ä¸Šæ²¡æœ‰åˆ«çš„taskï¼Œå› æ­¤rootTaskå®é™…ä¸Šå°±æ˜¯candidateTaskå®ƒæœ¬èº«ã€‚</p>
<p>åœ¨<code>rootTask.isCompatible(windowingMode, activityType) || rootTask.mCreatedByOrganizer</code>æ¡ä»¶ä¸­ï¼Œè¿”å›çš„æ˜¯falseï¼Œå› æ­¤ä¸ä¼šç›´æ¥è¿”å›<code>rootTask</code>ã€‚
è¿™é‡Œæˆ‘ä»¬ä¸»è¦å…ˆè®²è§£ä¸‹<code>rootTask.isCompatible(windowingMode, activityType)</code>
ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/Task.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isCompatible</span><span class="hljs-params">(<span class="hljs-type">int</span> windowingMode, <span class="hljs-type">int</span> activityType)</span> {
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Should we just move this to ConfigurationContainer?</span>
        <span class="hljs-keyword">if</span> (activityType == ACTIVITY_TYPE_UNDEFINED) {
            <span class="hljs-comment">// Undefined activity types end up in a standard root task once the root task is</span>
            <span class="hljs-comment">// created on a display, so they should be considered compatible.</span>
            activityType = ACTIVITY_TYPE_STANDARD;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.isCompatible(windowingMode, activityType);
    }
</code></pre>
<p>åˆ¤æ–­activityTypeç±»å‹æ˜¯å¦æ˜¯<code>ACTIVITY_TYPE_UNDEFINED</code>ï¼Œå¦‚æœæ˜¯åˆ™æ”¹ä¸º<code>ACTIVITY_TYPE_STANDARD</code>ï¼Œä¹‹åè°ƒç”¨å…¶çˆ¶ç±»ConfigurationContainer.isCompatibleæ–¹æ³•
ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/ConfigurationContainer.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * Returns true if this container is compatible with the input windowing mode and activity type.
     * The container is compatible:
     * - If {<span class="hljs-doctag">@param</span> activityType} and {<span class="hljs-doctag">@param</span> windowingMode} match this container activity type and
     * windowing mode.
     * - If {<span class="hljs-doctag">@param</span> activityType} is {<span class="hljs-doctag">@link</span> WindowConfiguration#ACTIVITY_TYPE_UNDEFINED} or
     * {<span class="hljs-doctag">@link</span> WindowConfiguration#ACTIVITY_TYPE_STANDARD} and this containers activity type is also
     * standard or undefined and its windowing mode matches {<span class="hljs-doctag">@param</span> windowingMode}.
     * - If {<span class="hljs-doctag">@param</span> activityType} isn't {<span class="hljs-doctag">@link</span> WindowConfiguration#ACTIVITY_TYPE_UNDEFINED} or
     * {<span class="hljs-doctag">@link</span> WindowConfiguration#ACTIVITY_TYPE_STANDARD} or this containers activity type isn't
     * also standard or undefined and its activity type matches {<span class="hljs-doctag">@param</span> activityType} regardless of
     * if {<span class="hljs-doctag">@param</span> windowingMode} matches the containers windowing mode.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isCompatible</span><span class="hljs-params">(<span class="hljs-type">int</span> windowingMode, <span class="hljs-type">int</span> activityType)</span> {
        <span class="hljs-comment">//è·å–å½“å‰activityTypeå’ŒwindowingMode</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">thisActivityType</span> <span class="hljs-operator">=</span> getActivityType();
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">thisWindowingMode</span> <span class="hljs-operator">=</span> getWindowingMode();
        <span class="hljs-comment">//æ¯”è¾ƒå½“å‰activityTypeå’ŒwindowingModeå’Œä¼ é€’è¿‡æ¥çš„activityTypeå’ŒwindowingMode</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">sameActivityType</span> <span class="hljs-operator">=</span> thisActivityType == activityType;
        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">sameWindowingMode</span> <span class="hljs-operator">=</span> thisWindowingMode == windowingMode;
        
        <span class="hljs-comment">//activityTypeå’ŒwindowingModeå‡æœªå‘ç”Ÿå˜åŒ–</span>
        <span class="hljs-keyword">if</span> (sameActivityType &amp;&amp; sameWindowingMode) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

        <span class="hljs-comment">//activityTypeå‘ç”Ÿäº†å˜åŒ–</span>
        <span class="hljs-keyword">if</span> ((activityType != ACTIVITY_TYPE_UNDEFINED &amp;&amp; activityType != ACTIVITY_TYPE_STANDARD)
                || !isActivityTypeStandardOrUndefined()) {
            <span class="hljs-comment">// Only activity type need to match for non-standard activity types that are defined.</span>
            <span class="hljs-keyword">return</span> sameActivityType;
        }

        <span class="hljs-comment">// Otherwise we are compatible if the windowing mode is the same.</span>
        <span class="hljs-comment">//windowingModeå‘ç”Ÿäº†å˜åŒ–</span>
        <span class="hljs-keyword">return</span> sameWindowingMode;
    }
</code></pre>
<p>é€šè¿‡getActivityType()å’ŒgetWindowingMode()åˆ†åˆ«è·å–äº†å½“å‰activityTypeå’ŒwindowingModeï¼Œç„¶åè¿›è¡Œå˜åŒ–ï¼Œå¦‚æœä¸¤è€…ä¹‹ä¸€å‡ºç°å˜åŒ–åˆ™è¿”å›falseã€‚</p>
<p>å› æ­¤æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰ç›´æ¥è¿”å›rootTaskï¼Œè€Œæ˜¯è°ƒç”¨åˆ°äº†taskDisplayArea.getOrCreateRootTaskã€‚</p>
<pre><code class="hljs language-java" lang="java">        <span class="hljs-keyword">return</span> taskDisplayArea.getOrCreateRootTask(r, options, candidateTask, sourceTask,
                launchParams, launchFlags, activityType, onTop);
</code></pre>
<p>è¿™é‡Œå…ˆå›é¡¾è¯´æ˜ä¸‹ä¼ é€’çš„å‚æ•°ï¼š
<code>r</code>ï¼šActivityRecordç±»å‹ï¼Œå…¶å€¼ç”±RootWindowContainer.anyTaskForIdä¸­ä¼ é€’è¿‡æ¥ï¼Œå€¼ä¸º<code>null</code>ã€‚</p>
<p><code>options</code>ï¼šActivityOptionsç±»å‹ï¼Œå…¶å€¼ä»æœ€åˆæ¡Œé¢ä¾§FreeformSystemShortcut.startActivityè°ƒç”¨startActivityFromRecentsä¼ é€’è¿‡æ¥ï¼ŒåŒ…å«æ¥è®¾ç½® <strong>çª—å£æ¨¡å¼(<code>mLaunchWindowingMode</code>)</strong> å’Œ <strong>çª—å£å¤§å°(<code>mLaunchBounds</code>)</strong> å‚æ•°ã€‚</p>
<p><code>candidateTask</code>ï¼šTaskç±»å‹ï¼Œå…¶å€¼ç”±RootWindowContainer.anyTaskForIdä¸­ä¼ é€’è¿‡æ¥ï¼Œå€¼ä¸º<code>æ¡Œé¢ä¾§ä¼ é€’è¿‡æ¥taskIdå¯¹åº”çš„Task</code>ã€‚</p>
<p><code>sourceTask</code>ï¼šTaskç±»å‹ï¼Œå…¶å€¼ç”±RootWindowContainer.getOrCreateRootTaskä¼ é€’ï¼Œå€¼ä¸º<code>null</code>ã€‚</p>
<p><code>activityType</code>ï¼šå…¶å€¼ç”±RootWindowContainer.getOrCreateRootTaskè·å–å¹¶ä¼ é€’ï¼Œå€¼ä¸º<code>ACTIVITY_TYPE_STANDARD</code>å³<code>1</code>ã€‚</p>
<p><code>launchParams</code>ï¼šLaunchParamsController.LaunchParamsç±»å‹ï¼Œå…¶å€¼ç”±RootWindowContainer.getOrCreateRootTaskä¼ é€’ï¼Œå€¼ä¸º<code>null</code>ã€‚</p>
<p><code>launchFlags</code>ï¼šintç±»å‹ï¼Œå…¶å€¼ç”±RootWindowContainer.getOrCreateRootTaskä¼ é€’ï¼Œå€¼ä¸º<code>0</code>ã€‚</p>
<p><code>onTop</code>ï¼šbooleanç±»å‹ï¼Œå…¶å€¼ç”±ActivityTaskSupervisor.startActivityFromRecentsçš„anyTaskForIdä¸­ä¼ é€’è¿‡æ¥ï¼Œå€¼ä¸º
<code>ActivityTaskSupervisor.ON_TOP</code>å³<code>true</code>ã€‚</p>
<h4 data-id="heading-4">TaskDisplayArea.getOrCreateRootTask</h4>
<p>ä»£ç è·¯å¾„ï¼šframeworks/base/services/core/java/com/android/server/wm/TaskDisplayArea.java</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * Returns an existing root task compatible with the input params or creates one
     * if a compatible root task doesn't exist.
     *
     * <span class="hljs-doctag">@see</span> #getOrCreateRootTask(int, int, boolean)
     */</span>
    Task <span class="hljs-title function_">getOrCreateRootTask</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ActivityRecord r, <span class="hljs-meta">@Nullable</span> ActivityOptions options,
            <span class="hljs-meta">@Nullable</span> Task candidateTask, <span class="hljs-meta">@Nullable</span> Task sourceTask,
            <span class="hljs-meta">@Nullable</span> LaunchParams launchParams, <span class="hljs-type">int</span> launchFlags, <span class="hljs-type">int</span> activityType, <span class="hljs-type">boolean</span> onTop)</span> {
        <span class="hljs-comment">//è®¾ç½®windowingModeåˆå§‹å€¼ä¸ºWINDOWING_MODE_UNDEFINED</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">windowingMode</span> <span class="hljs-operator">=</span> WINDOWING_MODE_UNDEFINED;
        <span class="hljs-keyword">if</span> (launchParams != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// If launchParams isn't null, windowing mode is already resolved.</span>
            windowingMode = launchParams.mWindowingMode;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// If launchParams is null and options isn't let's use the windowing mode in the</span>
            <span class="hljs-comment">// options.</span>
            <span class="hljs-comment">//è¿™é‡Œoptionsä¸ä¸ºç©ºï¼Œoptions.getLaunchWindowingMode()å€¼ä¸ºWINDOWING_MODE_FREEFORM</span>
            windowingMode = options.getLaunchWindowingMode();
        }
        <span class="hljs-comment">// Validate that our desired windowingMode will work under the current conditions.</span>
        <span class="hljs-comment">// UNDEFINED windowing mode is a valid result and means that the new root task will inherit</span>
        <span class="hljs-comment">// it's display's windowing mode.</span>
        <span class="hljs-comment">//åˆ¤æ–­windowingModeæœ‰æ•ˆæ€§ï¼Œå¹¶èµ‹å€¼</span>
        windowingMode = validateWindowingMode(windowingMode, r, candidateTask);
        <span class="hljs-comment">//ç»§ç»­ä¼ é€’å‚æ•°</span>
        <span class="hljs-keyword">return</span> getOrCreateRootTask(windowingMode, activityType, onTop, candidateTask, sourceTask,
                options, launchFlags);
    }
</code></pre>
<p>è¿™é‡Œä¸»è¦å°±æ˜¯é€šè¿‡<code>options.getLaunchWindowingMode()</code>è·å–äº†<code>windowingMode (WINDOWING_MODE_FREEFORM)</code>ï¼Œåœ¨å°†å…¶ä¼ é€’åˆ°getOrCreateRootTaskæ–¹æ³•ä¸­ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * When two level tasks are required for given windowing mode and activity type, returns an
     * existing compatible root task or creates a new one.
     * For one level task, the candidate task would be reused to also be the root task or create
     * a new root task if no candidate task.
     *
     * <span class="hljs-doctag">@param</span> windowingMode The windowing mode the root task should be created in.
     * <span class="hljs-doctag">@param</span> activityType  The activityType the root task should be created in.
     * <span class="hljs-doctag">@param</span> onTop         If true the root task will be created at the top of the display,
     *                      else at the bottom.
     * <span class="hljs-doctag">@param</span> candidateTask The possible task the activity might be launched in. Can be null.
     * <span class="hljs-doctag">@param</span> sourceTask    The task requesting to start activity. Used to determine which of the
     *                      adjacent roots should be launch root of the new task. Can be null.
     * <span class="hljs-doctag">@param</span> options       The activity options used to the launch. Can be null.
     * <span class="hljs-doctag">@param</span> launchFlags   The launch flags for this launch.
     * <span class="hljs-doctag">@return</span> The root task to use for the launch.
     * <span class="hljs-doctag">@see</span> #getRootTask(int, int)
     */</span>
    Task <span class="hljs-title function_">getOrCreateRootTask</span><span class="hljs-params">(<span class="hljs-type">int</span> windowingMode, <span class="hljs-type">int</span> activityType, <span class="hljs-type">boolean</span> onTop,
            <span class="hljs-meta">@Nullable</span> Task candidateTask, <span class="hljs-meta">@Nullable</span> Task sourceTask,
            <span class="hljs-meta">@Nullable</span> ActivityOptions options, <span class="hljs-type">int</span> launchFlags)</span> {
        <span class="hljs-comment">//æˆ‘ä»¬è¿™é‡ŒwindowingModeä¼ é€’çš„æ˜¯WINDOWING_MODE_FREEFORMï¼Œ</span>
        <span class="hljs-comment">//å› æ­¤resolvedWindowingModeä¸ºWINDOWING_MODE_FREEFORM</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">resolvedWindowingMode</span> <span class="hljs-operator">=</span>
                windowingMode == WINDOWING_MODE_UNDEFINED ? getWindowingMode() : windowingMode;
        <span class="hljs-comment">// Need to pass in a determined windowing mode to see if a new root task should be created,</span>
        <span class="hljs-comment">// so use its parent's windowing mode if it is undefined.</span>
        <span class="hljs-comment">//æˆ‘ä»¬è¿™é‡ŒresolvedWindowingModeæ˜¯WINDOWING_MODE_FREEFORM</span>
        <span class="hljs-comment">//activityTypeæ˜¯ACTIVITY_TYPE_STANDARDï¼Œå› æ­¤alwaysCreateRootTaskä¸ºtrue</span>
        <span class="hljs-comment">//è¿™å–åä¸ºfalseï¼Œå› æ­¤ä¸è¿›å…¥è¯¥é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (!alwaysCreateRootTask(resolvedWindowingMode, activityType)) {
            <span class="hljs-type">Task</span> <span class="hljs-variable">rootTask</span> <span class="hljs-operator">=</span> getRootTask(resolvedWindowingMode, activityType);
            <span class="hljs-keyword">if</span> (rootTask != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> rootTask;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (candidateTask != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">position</span> <span class="hljs-operator">=</span> onTop ? POSITION_TOP : POSITION_BOTTOM;
            <span class="hljs-comment">//è¿™é‡ŒgetLaunchRootTaskæ˜¯åŒoptionsè·å–ï¼Œæˆ‘ä»¬è¿™é‡Œoptionsæ²¡æœ‰è®¾ç½®è¿‡mLaunchRootTaskï¼Œå› æ­¤ä¸ºnull</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">Task</span> <span class="hljs-variable">launchParentTask</span> <span class="hljs-operator">=</span> getLaunchRootTask(resolvedWindowingMode, activityType,
                    options, sourceTask, launchFlags, candidateTask);
            <span class="hljs-comment">//launchParentTaskä¸ºnullä¸è¿›å…¥è¯¥æµç¨‹</span>
            <span class="hljs-keyword">if</span> (launchParentTask != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (candidateTask.getParent() == <span class="hljs-literal">null</span>) {
                    launchParentTask.addChild(candidateTask, position);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (candidateTask.getParent() != launchParentTask) {
                    candidateTask.reparent(launchParentTask, position);
                }
            <span class="hljs-comment">//candidateTask.getDisplayArea()å’Œthiséƒ½æ˜¯é»˜è®¤çš„TaskDisplayAreaï¼Œå³DefaultTaskDisplayArea</span>
            <span class="hljs-comment">//ä¸¤è€…ç›¸åŒï¼Œå³candidateTask.getDisplayArea() != this ä¸ºfalseï¼Œå› æ­¤ä¸è¿›å…¥è¯¥æµç¨‹</span>
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (candidateTask.getDisplayArea() != <span class="hljs-built_in">this</span> 
                    || candidateTask.getRootTask().mReparentLeafTaskIfRelaunch) {
                <span class="hljs-keyword">if</span> (candidateTask.getParent() == <span class="hljs-literal">null</span>) {
                    addChild(candidateTask, position);
                } <span class="hljs-keyword">else</span> {
                    candidateTask.reparent(<span class="hljs-built_in">this</span>, onTop);
                }
            }
            <span class="hljs-comment">// Update windowing mode if necessary, e.g. launch into a different windowing mode.</span>
            <span class="hljs-comment">//windowingModeä¼ é€’çš„æ˜¯WINDOWING_MODE_FREEFORM</span>
            <span class="hljs-comment">//candidateTaskè‡ªèº«å°±æ˜¯rootTask</span>
            <span class="hljs-comment">//candidateTaskå‰åwindowingModeæœ‰å‘ç”Ÿå˜åŒ–</span>
            <span class="hljs-keyword">if</span> (windowingMode != WINDOWING_MODE_UNDEFINED &amp;&amp; candidateTask.isRootTask()
                    &amp;&amp; candidateTask.getWindowingMode() != windowingMode) {
                <span class="hljs-comment">//ShellTransitionsè°ƒç”¨collectå¤„ç†</span>
                candidateTask.mTransitionController.collect(candidateTask);
                <span class="hljs-comment">//è®¾ç½®taskçª—å£æ¨¡å¼</span>
                candidateTask.setWindowingMode(windowingMode);
            }
            <span class="hljs-comment">//è¿”å›candidateTaskçš„rootTask</span>
            <span class="hljs-keyword">return</span> candidateTask.getRootTask();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>.Builder(mAtmService)
                .setWindowingMode(windowingMode)
                .setActivityType(activityType)
                .setOnTop(onTop)
                .setParent(<span class="hljs-built_in">this</span>)
                .setSourceTask(sourceTask)
                .setActivityOptions(options)
                .setLaunchFlags(launchFlags)
                .build();
    }
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬é‡ç‚¹çœ‹è¿™ä¸€æ®µ</p>
<pre><code class="hljs language-java" lang="java">            <span class="hljs-keyword">if</span> (windowingMode != WINDOWING_MODE_UNDEFINED &amp;&amp; candidateTask.isRootTask()
                    &amp;&amp; candidateTask.getWindowingMode() != windowingMode) {
                candidateTask.mTransitionController.collect(candidateTask);
                candidateTask.setWindowingMode(windowingMode);
            }
            <span class="hljs-keyword">return</span> candidateTask.getRootTask();
</code></pre>
<p>å…ˆè§£æä¸‹è¿™ä¸ªæ¡ä»¶</p>
<ul>
<li>
<p><code>windowingMode != WINDOWING_MODE_UNDEFINED</code>
windowingModeä¼ é€’çš„æ˜¯WINDOWING_MODE_FREEFORMï¼Œå› æ­¤è¯¥æ¡ä»¶ä¸ºtrueã€‚</p>
</li>
<li>
<p><code>candidateTask.isRootTask()</code>
åˆ¤æ–­candidateTaskæ˜¯å¦æ˜¯rootTaskï¼Œå…³äºè¿™ç‚¹å‰é¢æœ‰è®²åˆ°ï¼Œå½“å‰candidateTaskå°±æ˜¯rootTaskï¼Œå› æ­¤è¯¥æ¡ä»¶ä¸ºtrueã€‚</p>
</li>
<li>
<p><code>candidateTask.getWindowingMode() != windowingMode)</code>
è·å–å½“å‰candidateTaskçš„windowingModeï¼Œåˆ¤æ–­è¯¥windowingModeå’Œä¼ é€’è¿‡æ¥çš„windowingModeæ˜¯å¦ä¸€è‡´ï¼Œæˆ‘ä»¬è¿™é‡Œè¿˜æ²¡æœ‰å¯åŠ¨åˆ°è‡ªç”±çª—å£ï¼Œå› æ­¤candidateTask.getWindowingMode()ä¸æ˜¯WINDOWING_MODE_FREEFORMï¼Œæ‰€ä»¥ä¸ä¸€è‡´ï¼Œå³è¯¥æ¡ä»¶ä¸ºtrueã€‚</p>
</li>
</ul>
<p>ç»¼ä¸Šï¼Œæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ï¼Œæ‰€æœ‰è¿›å…¥è¯¥æ¡ä»¶ã€‚
å…¶ä¸­<code>candidateTask.mTransitionController.collect(candidateTask);</code>æ¶‰åŠShellTransitionsï¼Œè¿™é‡Œä¸æ¶‰åŠï¼Œæš‚ä¸è®²è§£ã€‚</p>
<p>æœ€ç»ˆé€šè¿‡<code>candidateTask.setWindowingMode(windowingMode)</code>æ–¹æ³•ç»™candidateTaskçš„windowingModeè®¾ç½®æˆäº†WINDOWING_MODE_FREEFORMã€‚</p>
<h4 data-id="heading-5">æ€»ç»“</h4>
<p>ä»<code>mRootWindowContainer.anyTaskForId</code>å¼€å§‹åˆ°<code>TaskDisplayArea.getOrCreateRootTask</code>ç»“æŸï¼Œç®€å•æ¦‚æ‹¬ä¸ºä¸€å¥è¯å°±æ˜¯<strong>é€šè¿‡taskIdè·å–å¯¹åº”taskå¹¶è®¾ç½®è¯¥taskçš„windowingModeä¸ºWINDOWING_MODE_FREEFORMï¼ˆè‡ªç”±çª—å£ï¼‰</strong>ã€‚</p>
<h3 data-id="heading-6">å¯åŠ¨Taskä¸­å¯¹åº”Activityå¹¶å°†å…¶ç§»è‡³æœ€å‰å°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">return</span> mService.getActivityStartController().startActivityInPackage(taskCallingUid,
        callingPid, callingUid, callingPackage, callingFeatureId, intent, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>,
        <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, options, userId, task, <span class="hljs-string">"startActivityFromRecents"</span>,
        <span class="hljs-literal">false</span> <span class="hljs-comment">/* validateIncomingUser */</span>, <span class="hljs-literal">null</span> <span class="hljs-comment">/* originatingPendingIntent */</span>,
        BackgroundStartPrivileges.NONE);
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆï¼šä»ä¸šåŠ¡åœºæ™¯åˆ°æŠ€æœ¯è½åœ°çš„å®Œæ•´è®¾è®¡æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573886599433191475</link>    <guid>https://juejin.cn/post/7573886599433191475</guid>    <pubDate>2025-11-18T09:59:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573886599433191475" data-draft-id="7573899782802522158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆï¼šä»ä¸šåŠ¡åœºæ™¯åˆ°æŠ€æœ¯è½åœ°çš„å®Œæ•´è®¾è®¡æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-11-18T09:59:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆï¼šä»ä¸šåŠ¡åœºæ™¯åˆ°æŠ€æœ¯è½åœ°çš„å®Œæ•´è®¾è®¡æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T09:59:50.000Z" title="Tue Nov 18 2025 09:59:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆï¼šä»ä¸šåŠ¡åœºæ™¯åˆ°æŠ€æœ¯è½åœ°çš„å®Œæ•´è®¾è®¡æ–¹æ¡ˆ</h2>
<p>åœ¨ç”µå•†ã€å¤–å–ã€ç¥¨åŠ¡ç­‰ä¸šåŠ¡ä¸­ï¼Œâ€œè®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆâ€ æ˜¯ä¿éšœèµ„æºé«˜æ•ˆåˆ©ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ â€”â€” æ¯”å¦‚ç”¨æˆ·ä¸‹å•å 30 åˆ†é’Ÿæœªæ”¯ä»˜ï¼Œè‹¥ä¸è‡ªåŠ¨å–æ¶ˆï¼Œä¼šå¯¼è‡´å•†å“åº“å­˜è¢«é•¿æœŸå ç”¨ï¼Œå…¶ä»–ç”¨æˆ·æ— æ³•è´­ä¹°ï¼›å¤–å–è®¢å• 15 åˆ†é’Ÿæœªæ¥å•ï¼Œè‹¥ä¸å–æ¶ˆï¼Œä¼šè®©ç”¨æˆ·é•¿æ—¶é—´ç­‰å¾…ã€‚ä½†å½“è®¢å•é‡è¾¾ç™¾ä¸‡çº§ã€è¶…æ—¶åœºæ™¯å¤šæ ·æ—¶ï¼Œç®€å•çš„ â€œå®šæ—¶éå†æ•°æ®åº“â€ ä¼šå½»åº•å¤±æ•ˆï¼Œéœ€è®¾è®¡ä¸€å¥—é€‚é…é«˜å¹¶å‘ã€ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„æ–¹æ¡ˆã€‚</p>
<p>æœ¬æ–‡ä» â€œä¸šåŠ¡åœºæ™¯â†’æ ¸å¿ƒéœ€æ±‚â†’æŠ€æœ¯æ–¹æ¡ˆâ†’å·¥ç¨‹è½åœ°â€ å››å±‚ï¼Œå®Œæ•´è®²è§£è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆçš„è®¾è®¡æ€è·¯ï¼Œè¦†ç›–ä¸åŒä¸šåŠ¡è§„æ¨¡çš„é€‰å‹ä¸é¿å‘ç‚¹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆæ˜ç¡®ï¼šå“ªäº›è®¢å•éœ€è¦ â€œè¶…æ—¶è‡ªåŠ¨å–æ¶ˆâ€ï¼Ÿ</h3>
<p>ä¸åŒä¸šåŠ¡åœºæ™¯çš„è¶…æ—¶è§„åˆ™å·®å¼‚æå¤§ï¼Œè®¾è®¡å‰éœ€å…ˆåˆ†ç±»æ¢³ç†ï¼Œé¿å… â€œä¸€åˆ€åˆ‡â€ çš„æ–¹æ¡ˆæ— æ³•é€‚é…å®é™…éœ€æ±‚ï¼š</p>









































<table><thead><tr><th>è®¢å•ç±»å‹</th><th>è¶…æ—¶åœºæ™¯</th><th>è¶…æ—¶æ—¶é—´</th><th>æ ¸å¿ƒç—›ç‚¹ï¼ˆä¸å–æ¶ˆçš„åæœï¼‰</th></tr></thead><tbody><tr><td>ç”µå•†æ™®é€šè®¢å•</td><td>ä¸‹å•åæœªæ”¯ä»˜</td><td>30 åˆ†é’Ÿ</td><td>åº“å­˜å ç”¨ï¼Œå•†å“æ— æ³•å–ç»™å…¶ä»–ç”¨æˆ·</td></tr><tr><td>ç”µå•†é¢„å”®è®¢å•</td><td>ä»˜å®šé‡‘åæœªä»˜å°¾æ¬¾</td><td>24 å°æ—¶</td><td>é¢„å”®åº“å­˜é”å®šï¼Œå½±å“åç»­è¡¥è´§è®¡åˆ’</td></tr><tr><td>å¤–å–è®¢å•</td><td>å•†å®¶æœªæ¥å• / éª‘æ‰‹æœªå–é¤</td><td>15 åˆ†é’Ÿ / 30 åˆ†é’Ÿ</td><td>ç”¨æˆ·é•¿æ—¶é—´ç­‰å¾…ï¼ŒæŠ•è¯‰ç‡å‡é«˜</td></tr><tr><td>é…’åº— / ç¥¨åŠ¡è®¢å•</td><td>é¢„è®¢åæœªæ”¯ä»˜</td><td>1 å°æ—¶</td><td>æˆ¿é—´ / åº§ä½é”å®šï¼Œé”™å¤±æ½œåœ¨å®¢æˆ·</td></tr><tr><td>å”®åè®¢å•</td><td>é€€æ¬¾ç”³è¯·åæœªä¸Šä¼ å‡­è¯</td><td>72 å°æ—¶</td><td>å”®åæµç¨‹å¡é¡¿ï¼Œç”¨æˆ·ä½“éªŒå·®</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå…±æ€§</strong>ï¼šæ‰€æœ‰è¶…æ—¶åœºæ™¯éƒ½éœ€è§£å†³ â€œ<strong>çŠ¶æ€é—­ç¯</strong>â€ï¼ˆè¶…æ—¶åè®¢å•ä» â€œå¾…æ”¯ä»˜ / å¾…æ¥å•â€ è½¬ä¸º â€œå·²å–æ¶ˆâ€ï¼‰å’Œ â€œ<strong>èµ„æºå›è¡¥</strong>â€ï¼ˆå¦‚åº“å­˜ã€ä¼˜æƒ åˆ¸ã€åº§ä½é‡Šæ”¾ï¼‰ä¸¤å¤§é—®é¢˜ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒéœ€æ±‚æ‹†è§£ï¼šä¸æ­¢ â€œè‡ªåŠ¨å–æ¶ˆâ€ï¼Œè¿˜è¦ â€œå¯é â€</h3>
<p>è®¾è®¡æ–¹æ¡ˆæ—¶ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹åŠŸèƒ½æ€§ä¸éåŠŸèƒ½æ€§éœ€æ±‚ï¼Œå¦åˆ™ä¼šå‡ºç° â€œå–æ¶ˆå¤±è´¥å¯¼è‡´èµ„æŸâ€â€œå»¶è¿Ÿå¤ªä¹…å¼•å‘æŠ•è¯‰â€ ç­‰é—®é¢˜ï¼š</p>
<h4 data-id="heading-3">1. åŠŸèƒ½æ€§éœ€æ±‚</h4>
<ul>
<li><strong>è¶…æ—¶æ—¶é—´å¯é…ç½®</strong>ï¼šæ”¯æŒä¸åŒè®¢å•ç±»å‹è®¾ç½®ä¸åŒè¶…æ—¶æ—¶é—´ï¼ˆå¦‚æ™®é€šè®¢å• 30 åˆ†é’Ÿï¼Œé¢„å”®è®¢å• 24 å°æ—¶ï¼‰ï¼Œä¸”æ”¯æŒåŠ¨æ€ä¿®æ”¹ï¼ˆå¦‚å¤§ä¿ƒæœŸé—´ä¸´æ—¶å°†æœªæ”¯ä»˜è¶…æ—¶æ”¹ä¸º 15 åˆ†é’Ÿï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>çŠ¶æ€æ ¡éªŒä¸¥æ ¼</strong>ï¼šå–æ¶ˆå‰å¿…é¡»ç¡®è®¤è®¢å•ä»å¤„äº â€œå¾…è¶…æ—¶çŠ¶æ€â€ï¼ˆå¦‚ç”¨æˆ·åœ¨è¶…æ—¶å‰ 1 ç§’æ”¯ä»˜äº†ï¼Œä¸èƒ½å†å–æ¶ˆï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>èµ„æºå›è¡¥å®Œæ•´</strong>ï¼šå–æ¶ˆåéœ€åŒæ­¥å›è¡¥å…³è”èµ„æºï¼ˆå¦‚é‡Šæ”¾åº“å­˜ã€è¿”è¿˜ä¼˜æƒ åˆ¸ã€è§£é”åº§ä½ï¼‰ï¼Œä¸”å›è¡¥å¿…é¡»æˆåŠŸï¼ˆä¸èƒ½å‡ºç° â€œè®¢å•å–æ¶ˆäº†ä½†åº“å­˜æ²¡å›æ¥â€ çš„æƒ…å†µï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>é€šçŸ¥è§¦è¾¾</strong>ï¼šå–æ¶ˆåéœ€å‘ŠçŸ¥ç”¨æˆ·ï¼ˆå¦‚çŸ­ä¿¡ã€APP æ¨é€ï¼‰ï¼Œè¯´æ˜å–æ¶ˆåŸå› ï¼ˆâ€œè®¢å•è¶…æ—¶æœªæ”¯ä»˜å·²è‡ªåŠ¨å–æ¶ˆâ€ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">2. éåŠŸèƒ½æ€§éœ€æ±‚</h4>
<ul>
<li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼š100% ç¡®ä¿ â€œè¯¥å–æ¶ˆçš„è®¢å•å¿…é¡»å–æ¶ˆï¼Œä¸è¯¥å–æ¶ˆçš„ç»ä¸å–æ¶ˆâ€ï¼Œä¸å…è®¸å‡ºç° â€œé‡å¤å–æ¶ˆâ€ï¼ˆå¯¼è‡´åº“å­˜å¤šå›è¡¥ï¼‰æˆ– â€œæ¼å–æ¶ˆâ€ï¼ˆå¯¼è‡´åº“å­˜é•¿æœŸå ç”¨ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å®æ—¶æ€§</strong>ï¼šè¶…æ—¶åéœ€åœ¨åˆç†æ—¶é—´å†…å–æ¶ˆï¼ˆå¦‚è¶…æ—¶å 1 åˆ†é’Ÿå†…ï¼‰ï¼Œä¸èƒ½å»¶è¿Ÿå¤ªä¹…ï¼ˆç”¨æˆ·å‘ç°è®¢å•è¿˜åœ¨ â€œå¾…æ”¯ä»˜â€ï¼Œä½†å®é™…å·²è¶…æ—¶ï¼Œä¼šå›°æƒ‘ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>é«˜å¹¶å‘æ”¯æ’‘</strong>ï¼šå¤§ä¿ƒæœŸé—´è®¢å•é‡è¾¾ç™¾ä¸‡çº§ï¼Œæ–¹æ¡ˆéœ€æ”¯æ’‘æ¯ç§’æ•°ç™¾æ¬¡çš„å–æ¶ˆè¯·æ±‚ï¼Œä¸”ä¸å½±å“æ ¸å¿ƒä¸‹å•æµç¨‹ï¼›</li>
</ul>

<ul>
<li><strong>å¯ç›‘æ§å¯è¿½æº¯</strong>ï¼šéœ€è®°å½•æ¯ç¬”è®¢å•çš„ â€œè¶…æ—¶æ—¶é—´ã€å–æ¶ˆæ—¶é—´ã€å–æ¶ˆç»“æœã€å›è¡¥çŠ¶æ€â€ï¼Œæ–¹ä¾¿é—®é¢˜æ’æŸ¥ï¼ˆå¦‚ç”¨æˆ·åé¦ˆ â€œè®¢å•æ²¡å–æ¶ˆä½†æ‰£äº†ä¼˜æƒ åˆ¸â€ï¼Œèƒ½å¿«é€Ÿå®šä½åŸå› ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”ï¼š3 ç§ä¸»æµæ–¹æ¡ˆçš„ä¼˜åŠ£ä¸é€‰å‹</h3>
<p>ç›®å‰è¡Œä¸šå†…å®ç°è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆçš„æ–¹æ¡ˆä¸»è¦æœ‰ 3 ç§ï¼Œéœ€æ ¹æ®ä¸šåŠ¡è§„æ¨¡ã€å®æ—¶æ€§è¦æ±‚é€‰æ‹©é€‚é…æ–¹æ¡ˆï¼š</p>





































<table><thead><tr><th>æ–¹æ¡ˆç±»å‹</th><th>æ ¸å¿ƒåŸç†</th><th>å®æ—¶æ€§</th><th>ä¸€è‡´æ€§</th><th>å¹¶å‘æ”¯æ’‘</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</td><td>å®šæ—¶éå†æ•°æ®åº“ / ç¼“å­˜ï¼Œç­›é€‰è¶…æ—¶è®¢å•</td><td>ä¸­ï¼ˆåˆ†é’Ÿçº§ï¼‰</td><td>é«˜ï¼ˆéœ€åŠ é”ï¼‰</td><td>ä¸­ï¼ˆç™¾ä¸‡çº§è®¢å•ï¼‰</td><td>ç”µå•†å¤§ä¿ƒã€åº“å­˜å ç”¨æ•æ„Ÿåœºæ™¯</td></tr><tr><td>å»¶è¿Ÿé˜Ÿåˆ—</td><td>è®¢å•åˆ›å»ºæ—¶å‘é€å»¶è¿Ÿæ¶ˆæ¯ï¼Œè¶…æ—¶åæ¶ˆè´¹</td><td>é«˜ï¼ˆç§’çº§ï¼‰</td><td>é«˜ï¼ˆæ¶ˆæ¯å¯é ï¼‰</td><td>é«˜ï¼ˆåƒä¸‡çº§è®¢å•ï¼‰</td><td>å¤–å–ã€ç¥¨åŠ¡ç­‰å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯</td></tr><tr><td>Redis è¿‡æœŸå›è°ƒ</td><td>è®¢å• ID ä½œä¸º Redis Keyï¼Œè¿‡æœŸåè§¦å‘å›è°ƒ</td><td>ä½ï¼ˆç§’ - åˆ†é’Ÿçº§ï¼Œä¾èµ– Redis è¿‡æœŸç­–ç•¥ï¼‰</td><td>ä¸­ï¼ˆå¯èƒ½æ¼å›è°ƒï¼‰</td><td>ä½ï¼ˆåä¸‡çº§è®¢å•ï¼‰</td><td>ä¸­å°ä¸šåŠ¡ã€å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯</td></tr></tbody></table>
<h4 data-id="heading-6">æ–¹æ¡ˆ 1ï¼šåˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼ˆé€‚åˆæµ·é‡è®¢å•ï¼Œä¸€è‡´æ€§ä¼˜å…ˆï¼‰</h4>
<h5 data-id="heading-7">1. åŸç†</h5>
<ul>
<li>è®¢å•åˆ›å»ºæ—¶ï¼Œè®°å½• â€œè®¢å•åˆ›å»ºæ—¶é—´â€ å’Œ â€œè¶…æ—¶æ—¶é—´â€ï¼ˆå¦‚create_time=1688888888ï¼Œtimeout=1800ç§’ï¼‰ï¼›</li>
</ul>

<ul>
<li>ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æ¡†æ¶ï¼ˆå¦‚ XXL-Jobã€Elastic-Jobï¼‰æŒ‰å›ºå®šé¢‘ç‡ï¼ˆå¦‚æ¯åˆ†é’Ÿï¼‰æ‰§è¡Œä»»åŠ¡ï¼Œç­›é€‰å‡º â€œå½“å‰æ—¶é—´ - create_time â‰¥ timeoutâ€ ä¸”çŠ¶æ€ä¸º â€œå¾…æ”¯ä»˜â€ çš„è®¢å•ï¼›</li>
</ul>

<ul>
<li>å¯¹ç­›é€‰å‡ºçš„è®¢å•æ‰§è¡Œå–æ¶ˆé€»è¾‘ï¼ˆçŠ¶æ€ä¿®æ”¹ + èµ„æºå›è¡¥ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-8">2. å…³é”®å®ç°ç»†èŠ‚</h5>
<ul>
<li><strong>ç­›é€‰ä¼˜åŒ–</strong>ï¼šé¿å…å…¨è¡¨æ‰«æï¼Œåœ¨create_timeå’Œorder_statusä¸Šå»ºç«‹è”åˆç´¢å¼•ï¼ˆå¦‚idx_create_status (order_status, create_time)ï¼‰ï¼ŒæŸ¥è¯¢ SQL ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> order_id <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">WHERE</span> order_status <span class="hljs-operator">=</span> <span class="hljs-string">'PENDING_PAY'</span>  <span class="hljs-comment">-- å¾…æ”¯ä»˜çŠ¶æ€</span>
  <span class="hljs-keyword">AND</span> create_time <span class="hljs-operator">+</span> timeout <span class="hljs-operator">&lt;=</span> UNIX_TIMESTAMP(NOW())  <span class="hljs-comment">-- å·²è¶…æ—¶</span>
LIMIT <span class="hljs-number">1000</span>;  <span class="hljs-comment">-- åˆ†æ‰¹å¤„ç†ï¼Œé¿å…ä¸€æ¬¡å¤„ç†å¤ªå¤šè®¢å•</span>
</code></pre>
<ul>
<li><strong>å¹¶å‘æ§åˆ¶</strong>ï¼šç”¨åˆ†å¸ƒå¼é”ï¼ˆå¦‚ Redis é”ï¼‰é˜²æ­¢åŒä¸€è®¢å•è¢«å¤šä¸ªå®šæ—¶ä»»åŠ¡å®ä¾‹é‡å¤å¤„ç†ï¼Œé” Key ä¸ºorder:cancel:lock:{order_id}ï¼ŒæŒæœ‰æ—¶é—´è®¾ä¸º 30 ç§’ï¼ˆè¶³å¤Ÿå®Œæˆä¸€æ¬¡å–æ¶ˆæµç¨‹ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å¤±è´¥é‡è¯•</strong>ï¼šå¤„ç†å¤±è´¥çš„è®¢å•ï¼ˆå¦‚èµ„æºå›è¡¥å¤±è´¥ï¼‰ï¼ŒåŠ å…¥é‡è¯•é˜Ÿåˆ—ï¼ˆå¦‚ Redis Listï¼‰ï¼Œå•ç‹¬ç”¨ä¸€ä¸ªå®šæ—¶ä»»åŠ¡é‡è¯•ï¼ˆé‡è¯•æ¬¡æ•° 3 æ¬¡ï¼Œæ¯æ¬¡é—´éš” 5 åˆ†é’Ÿï¼‰ï¼Œä»å¤±è´¥åˆ™è§¦å‘äººå·¥å‘Šè­¦ã€‚</li>
</ul>
<h5 data-id="heading-9">3. ä¼˜åŠ£åŠ¿</h5>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šä¸ä¾èµ–å¤æ‚ä¸­é—´ä»¶ï¼Œå®ç°ç®€å•ï¼›æ”¯æŒæµ·é‡è®¢å•ç­›é€‰ï¼Œé€‚åˆå¤§ä¿ƒåœºæ™¯ï¼›</li>
</ul>

<ul>
<li><strong>åŠ£åŠ¿</strong>ï¼šå®æ—¶æ€§ä¸­ç­‰ï¼ˆä¾èµ–å®šæ—¶é¢‘ç‡ï¼Œæœ€å¿«æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œè¶…æ—¶åå¯èƒ½å»¶è¿Ÿ 1 åˆ†é’Ÿæ‰å–æ¶ˆï¼‰ï¼›å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶ä¼šå¯¹æ•°æ®åº“é€ æˆä¸€å®šå‹åŠ›ï¼ˆéœ€æ§åˆ¶åˆ†æ‰¹å¤§å°ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-10">4. é€‰å‹å»ºè®®</h5>
<p>é€‚åˆ â€œè®¢å•é‡ç™¾ä¸‡çº§ +ï¼Œå®æ—¶æ€§è¦æ±‚ä¸æè‡´ï¼ˆå…è®¸ 1 åˆ†é’Ÿå»¶è¿Ÿï¼‰â€ çš„åœºæ™¯ï¼Œå¦‚ç”µå•†æ™®é€šè®¢å•ã€é¢„å”®è®¢å•ã€‚</p>
<h4 data-id="heading-11">æ–¹æ¡ˆ 2ï¼šå»¶è¿Ÿé˜Ÿåˆ—ï¼ˆé€‚åˆå®æ—¶æ€§é«˜ï¼Œä¸­é«˜å¹¶å‘ï¼‰</h4>
<h5 data-id="heading-12">1. åŸç†</h5>
<ul>
<li>è®¢å•åˆ›å»ºæ—¶ï¼Œä¸ç›´æ¥å†™å…¥æ•°æ®åº“ç›‘æ§ï¼Œè€Œæ˜¯å‘å»¶è¿Ÿé˜Ÿåˆ—å‘é€ä¸€æ¡ â€œå»¶è¿Ÿæ¶ˆæ¯â€ï¼Œæ¶ˆæ¯å†…å®¹åŒ…å«order_idï¼Œå»¶è¿Ÿæ—¶é—´è®¾ä¸ºè®¢å•çš„è¶…æ—¶æ—¶é—´ï¼ˆå¦‚ 30 åˆ†é’Ÿï¼‰ï¼›</li>
</ul>

<ul>
<li>å»¶è¿Ÿé˜Ÿåˆ—åœ¨æ¶ˆæ¯è¾¾åˆ°å»¶è¿Ÿæ—¶é—´åï¼Œå°†æ¶ˆæ¯æŠ•é€’åˆ° â€œå–æ¶ˆæ¶ˆè´¹é˜Ÿåˆ—â€ï¼›</li>
</ul>

<ul>
<li>æ¶ˆè´¹ç«¯ç›‘å¬ â€œå–æ¶ˆæ¶ˆè´¹é˜Ÿåˆ—â€ï¼Œæ”¶åˆ°æ¶ˆæ¯åæ‰§è¡Œè®¢å•å–æ¶ˆé€»è¾‘ã€‚</li>
</ul>
<h5 data-id="heading-13">2. ä¸»æµå»¶è¿Ÿé˜Ÿåˆ—å®ç°å¯¹æ¯”</h5>





























<table><thead><tr><th>ä¸­é—´ä»¶</th><th>å®ç°æ–¹å¼</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>RabbitMQ</td><td>åŸºäº â€œæ­»ä¿¡é˜Ÿåˆ— + TTLâ€ï¼ˆæ¶ˆæ¯è¿‡æœŸåè¿›å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼‰</td><td>è½»é‡ï¼Œæ˜“é›†æˆï¼Œæ”¯æŒæ¶ˆæ¯æŒä¹…åŒ–</td><td>ä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹å»¶è¿Ÿæ—¶é—´ï¼›å»¶è¿Ÿç²¾åº¦ä¸­ç­‰ï¼ˆç§’çº§ï¼‰</td></tr><tr><td>RocketMQ</td><td>åŸç”Ÿæ”¯æŒå®šæ—¶æ¶ˆæ¯ï¼ˆå»¶è¿Ÿçº§åˆ«æˆ–è‡ªå®šä¹‰æ—¶é—´ï¼‰</td><td>å»¶è¿Ÿç²¾åº¦é«˜ï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œæ”¯æŒæµ·é‡æ¶ˆæ¯</td><td>ä¾èµ– RocketMQï¼Œéƒ¨ç½²æˆæœ¬ç¨é«˜ï¼›è‡ªå®šä¹‰å»¶è¿Ÿæ—¶é—´éœ€é…ç½®</td></tr><tr><td>Kafka</td><td>åŸºäº â€œæ—¶é—´è½® + ä¸»é¢˜åˆ†åŒºâ€ï¼ˆå¦‚ Kafka Streamsï¼‰</td><td>é«˜ååï¼Œé€‚åˆåƒä¸‡çº§è®¢å•</td><td>å®ç°å¤æ‚ï¼Œéœ€è‡ªå®šä¹‰æ—¶é—´è½®é€»è¾‘ï¼›ä¸æ”¯æŒæ¶ˆæ¯é‡è¯•</td></tr></tbody></table>
<h5 data-id="heading-14">3. å…³é”®å®ç°ç»†èŠ‚ï¼ˆä»¥ RocketMQ ä¸ºä¾‹ï¼‰</h5>
<ul>
<li><strong>æ¶ˆæ¯å‘é€</strong>ï¼šè®¢å•åˆ›å»ºæ—¶å‘é€å®šæ—¶æ¶ˆæ¯ï¼ŒæŒ‡å®šå»¶è¿Ÿæ—¶é—´ä¸ºè®¢å•è¶…æ—¶æ—¶é—´ï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// RocketMQå‘é€å®šæ—¶æ¶ˆæ¯ç¤ºä¾‹ï¼ˆJavaï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">sendDelayMsg</span><span class="hljs-params">(<span class="hljs-type">String</span> orderId, <span class="hljs-type">long</span> timeoutSeconds)</span> </span>{
    Message msg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Message</span>(<span class="hljs-string">"order_timeout_topic"</span>,  <span class="hljs-comment">// ä¸»é¢˜</span>
                              <span class="hljs-string">"cancel_tag"</span>,           <span class="hljs-comment">// æ ‡ç­¾</span>
                              orderId.<span class="hljs-built_in">getBytes</span>());    <span class="hljs-comment">// æ¶ˆæ¯ä½“ï¼ˆè®¢å•IDï¼‰</span>
    <span class="hljs-comment">// è®¾ç½®å®šæ—¶æ—¶é—´ï¼štimeoutSecondsç§’åæŠ•é€’ï¼ˆRocketMQæ”¯æŒè‡ªå®šä¹‰æ¯«ç§’çº§å»¶è¿Ÿï¼‰</span>
    msg.<span class="hljs-built_in">setDelayTimeMs</span>(timeoutSeconds * <span class="hljs-number">1000</span>);
    <span class="hljs-comment">// å‘é€æ¶ˆæ¯ï¼ˆå¼€å¯äº‹åŠ¡ï¼Œç¡®ä¿â€œè®¢å•åˆ›å»ºæˆåŠŸâ€å’Œâ€œæ¶ˆæ¯å‘é€æˆåŠŸâ€åŸå­æ€§ï¼‰</span>
    rocketMQTemplate.<span class="hljs-built_in">send</span>(msg);
}
</code></pre>
<ul>
<li><strong>äº‹åŠ¡ä¿éšœ</strong>ï¼šç”¨ â€œæœ¬åœ°äº‹åŠ¡è¡¨ + æ¶ˆæ¯ç¡®è®¤â€ ç¡®ä¿ â€œè®¢å•åˆ›å»ºâ€ å’Œ â€œå»¶è¿Ÿæ¶ˆæ¯å‘é€â€ çš„åŸå­æ€§ï¼ˆé¿å… â€œè®¢å•åˆ›å»ºäº†ä½†æ¶ˆæ¯æ²¡å‘å‡ºå»ï¼Œå¯¼è‡´æ¼å–æ¶ˆâ€ï¼‰ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>è®¢å•åˆ›å»ºæ—¶ï¼Œå…ˆå†™å…¥ â€œè®¢å•è¡¨â€ å’Œ â€œæœ¬åœ°äº‹åŠ¡è¡¨â€ï¼ˆè®°å½•order_idå’Œmsg_status=UNSENTï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>å‘é€å»¶è¿Ÿæ¶ˆæ¯ï¼Œè‹¥å‘é€æˆåŠŸï¼Œæ›´æ–° â€œæœ¬åœ°äº‹åŠ¡è¡¨â€msg_status=SENTï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼Œæ‰«æ â€œæœ¬åœ°äº‹åŠ¡è¡¨â€ ä¸­msg_status=UNSENTçš„è®¢å•ï¼Œé‡æ–°å‘é€æ¶ˆæ¯ã€‚</li>
</ol>
</li>
</ol>
<ul>
<li><strong>æ¶ˆè´¹é€»è¾‘</strong>ï¼šæ¶ˆè´¹ç«¯æ”¶åˆ°æ¶ˆæ¯åï¼Œå…ˆæŸ¥è®¢å•çŠ¶æ€ï¼Œå†æ‰§è¡Œå–æ¶ˆï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@RocketMQMessageListener</span>(topic = <span class="hljs-string">"order_timeout_topic"</span>, consumerGroup = <span class="hljs-string">"cancel_consumer_group"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCancelConsumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RocketMQListener</span>&lt;<span class="hljs-title class_">String</span>&gt; {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderService</span> orderService;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) {
        <span class="hljs-comment">// 1. æŸ¥è®¢å•å½“å‰çŠ¶æ€ï¼ˆå¿…é¡»åŠ é”ï¼Œé˜²æ­¢å¹¶å‘æ”¯ä»˜ï¼‰</span>
        <span class="hljs-title class_">OrderDO</span> order = orderService.<span class="hljs-title function_">getOrderWithLock</span>(orderId);
        <span class="hljs-keyword">if</span> (order == <span class="hljs-literal">null</span> || !<span class="hljs-string">"PENDING_PAY"</span>.<span class="hljs-title function_">equals</span>(order.<span class="hljs-title function_">getStatus</span>())) {
            <span class="hljs-keyword">return</span>; <span class="hljs-comment">// è®¢å•ä¸å­˜åœ¨æˆ–å·²æ”¯ä»˜ï¼Œä¸å–æ¶ˆ</span>
        }
        
        <span class="hljs-comment">// 2. æ‰§è¡Œå–æ¶ˆé€»è¾‘ï¼ˆçŠ¶æ€ä¿®æ”¹+èµ„æºå›è¡¥ï¼‰</span>
        <span class="hljs-built_in">boolean</span> cancelSuccess = orderService.<span class="hljs-title function_">cancelOrder</span>(order);
        <span class="hljs-keyword">if</span> (!cancelSuccess) {
            <span class="hljs-comment">// 3. å–æ¶ˆå¤±è´¥ï¼Œå‘é€é‡è¯•æ¶ˆæ¯ï¼ˆå»¶è¿Ÿ5åˆ†é’Ÿåé‡è¯•ï¼‰</span>
            <span class="hljs-title function_">sendDelayMsg</span>(orderId, <span class="hljs-number">300</span>);
        }
    }
}
</code></pre>
<h5 data-id="heading-15">4. ä¼˜åŠ£åŠ¿</h5>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šå®æ—¶æ€§é«˜ï¼ˆè¶…æ—¶åç§’çº§å†…å–æ¶ˆï¼‰ï¼›æ¶ˆæ¯æŒä¹…åŒ–ï¼Œä¸æ‹…å¿ƒæ¼å–æ¶ˆï¼›æ”¯æŒé«˜å¹¶å‘ï¼ˆRocketMQ æ¯ç§’å¯å¤„ç†æ•°ä¸‡æ¡æ¶ˆæ¯ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>åŠ£åŠ¿</strong>ï¼šä¾èµ–ä¸­é—´ä»¶ï¼ˆå¦‚ RocketMQï¼‰ï¼Œéœ€ç»´æŠ¤ä¸­é—´ä»¶é›†ç¾¤ï¼›åŠ¨æ€ä¿®æ”¹è¶…æ—¶æ—¶é—´è¾ƒå¤æ‚ï¼ˆéœ€å…ˆåˆ é™¤æ—§æ¶ˆæ¯ï¼Œå†å‘æ–°æ¶ˆæ¯ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-16">5. é€‰å‹å»ºè®®</h5>
<p>é€‚åˆ â€œå®æ—¶æ€§è¦æ±‚é«˜ï¼ˆå¦‚å¤–å–ã€ç¥¨åŠ¡ï¼‰ã€è®¢å•é‡ä¸­é«˜ï¼ˆåä¸‡ - åƒä¸‡çº§ï¼‰â€ çš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-17">æ–¹æ¡ˆ 3ï¼šRedis è¿‡æœŸå›è°ƒï¼ˆé€‚åˆä¸­å°ä¸šåŠ¡ï¼Œå¿«é€Ÿè½åœ°ï¼‰</h4>
<h5 data-id="heading-18">1. åŸç†</h5>
<ul>
<li>è®¢å•åˆ›å»ºæ—¶ï¼Œå°†order_idä½œä¸º Redis Keyï¼Œå€¼ä¸ºè®¢å•çŠ¶æ€ï¼ˆå¦‚PENDING_PAYï¼‰ï¼Œå¹¶è®¾ç½® Key çš„è¿‡æœŸæ—¶é—´ä¸ºè®¢å•è¶…æ—¶æ—¶é—´ï¼ˆå¦‚ 30 åˆ†é’Ÿï¼‰ï¼›</li>
</ul>

<ul>
<li>å¼€å¯ Redis çš„keyspace notificationsï¼ˆé”®ç©ºé—´é€šçŸ¥ï¼‰ï¼Œå½“ Key è¿‡æœŸæ—¶ï¼ŒRedis ä¼šå‘é€ â€œKey è¿‡æœŸäº‹ä»¶â€ï¼›</li>
</ul>

<ul>
<li>åº”ç”¨ç«¯ç›‘å¬ Redis è¿‡æœŸäº‹ä»¶ï¼Œæ”¶åˆ°äº‹ä»¶åæ‰§è¡Œè®¢å•å–æ¶ˆé€»è¾‘ã€‚</li>
</ul>
<h5 data-id="heading-19">2. å…³é”®å®ç°ç»†èŠ‚</h5>
<ul>
<li><strong>å¼€å¯ Redis é€šçŸ¥</strong>ï¼šåœ¨ Redis é…ç½®æ–‡ä»¶ä¸­å¼€å¯è¿‡æœŸé€šçŸ¥ï¼ˆnotify-keyspace-events "Ex"ï¼‰ï¼Œæˆ–é€šè¿‡å‘½ä»¤ä¸´æ—¶å¼€å¯ï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">config set notify-keyspace-events Ex
</code></pre>
<ul>
<li><strong>ç›‘å¬è¿‡æœŸäº‹ä»¶</strong>ï¼šç”¨ Redis å®¢æˆ·ç«¯ï¼ˆå¦‚ Redissonï¼‰ç›‘å¬äº‹ä»¶ï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// Redissonç›‘å¬Redisè¿‡æœŸäº‹ä»¶ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">listenRedisExpireEvent</span><span class="hljs-params">()</span> </span>{
    RPatternTopic topic = redissonClient.<span class="hljs-built_in">getPatternTopic</span>(<span class="hljs-string">"__keyevent@0__:expired"</span>);
    topic.<span class="hljs-built_in">addListener</span>(<span class="hljs-type">String</span>.<span class="hljs-keyword">class</span>, (channel, orderId) -&gt; {
        <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºè®¢å•è¶…æ—¶Keyï¼ˆé¿å…ç›‘å¬æ— å…³Keyï¼‰</span>
        <span class="hljs-keyword">if</span> (orderId.<span class="hljs-built_in">startsWith</span>(<span class="hljs-string">"order:timeout:"</span>)) {
            <span class="hljs-type">String</span> realOrderId = orderId.<span class="hljs-built_in">replace</span>(<span class="hljs-string">"order:timeout:"</span>, <span class="hljs-string">""</span>);
            <span class="hljs-comment">// æ‰§è¡Œå–æ¶ˆé€»è¾‘ï¼ˆåŒå»¶è¿Ÿé˜Ÿåˆ—æ¶ˆè´¹é€»è¾‘ï¼‰</span>
            orderService.<span class="hljs-built_in">handleTimeoutCancel</span>(realOrderId);
        }
    });
}
</code></pre>
<ul>
<li><strong>è§„é¿ Redis è¿‡æœŸå»¶è¿Ÿ</strong>ï¼šRedis çš„è¿‡æœŸåˆ é™¤é‡‡ç”¨ â€œæƒ°æ€§åˆ é™¤ + å®šæœŸåˆ é™¤â€ ç­–ç•¥ï¼Œå¯èƒ½å¯¼è‡´ Key è¿‡æœŸåå‡ ç§’ç”šè‡³å‡ åˆ†é’Ÿæ‰è§¦å‘å›è°ƒï¼Œéœ€åœ¨å–æ¶ˆé€»è¾‘ä¸­å†æ¬¡æ ¡éªŒè®¢å•æ˜¯å¦çœŸçš„è¶…æ—¶ï¼š</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">public void handleTimeoutCancel(String orderId) {
    OrderDO <span class="hljs-attr">order</span> = orderService.getOrder(orderId)<span class="hljs-comment">;</span>
    if (<span class="hljs-attr">order</span> == null) return<span class="hljs-comment">;</span>
    // äºŒæ¬¡æ ¡éªŒï¼šå½“å‰æ—¶é—´æ˜¯å¦çœŸçš„è¶…è¿‡è®¢å•è¶…æ—¶æ—¶é—´ï¼ˆé¿å…Rediså›è°ƒå»¶è¿Ÿå¯¼è‡´è¯¯åˆ¤ï¼‰
    long <span class="hljs-attr">currentTime</span> = System.currentTimeMillis() / <span class="hljs-number">1000</span><span class="hljs-comment">;</span>
    long <span class="hljs-attr">timeoutTime</span> = order.getCreateTime() + order.getTimeoutSeconds()<span class="hljs-comment">;</span>
    if (currentTime &lt; timeoutTime || !"PENDING_PAY".equals(order.getStatus())) {
        return<span class="hljs-comment">;</span>
    }
    // æ‰§è¡Œå–æ¶ˆé€»è¾‘
    orderService.cancelOrder(order)<span class="hljs-comment">;</span>
}
</code></pre>
<h5 data-id="heading-20">3. ä¼˜åŠ£åŠ¿</h5>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šå®ç°ç®€å•ï¼Œæ— éœ€ä¾èµ–å¤æ‚ä¸­é—´ä»¶ï¼›å¼€å‘æˆæœ¬ä½ï¼Œé€‚åˆä¸­å°å›¢é˜Ÿï¼›</li>
</ul>

<ul>
<li><strong>åŠ£åŠ¿</strong>ï¼šå®æ—¶æ€§ä½ï¼ˆä¾èµ– Redis è¿‡æœŸç­–ç•¥ï¼Œå¯èƒ½å»¶è¿Ÿå‡ åˆ†é’Ÿï¼‰ï¼›Redis é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œè¿‡æœŸäº‹ä»¶å¯èƒ½ä¸¢å¤±ï¼ˆéƒ¨åˆ†å®¢æˆ·ç«¯ä¸æ”¯æŒé›†ç¾¤ç›‘å¬ï¼‰ï¼›ä¸é€‚åˆæµ·é‡è®¢å•ï¼ˆRedis å¤„ç†è¿‡æœŸäº‹ä»¶çš„èƒ½åŠ›æœ‰é™ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-21">4. é€‰å‹å»ºè®®</h5>
<p>é€‚åˆ â€œä¸­å°ä¸šåŠ¡ã€è®¢å•é‡åä¸‡çº§ä»¥å†…ã€å®æ—¶æ€§è¦æ±‚ä¸é«˜â€ çš„åœºæ™¯ï¼ˆå¦‚å°å‹ç”µå•†ã€å†…éƒ¨è®¢å•ç³»ç»Ÿï¼‰ã€‚</p>
<h3 data-id="heading-22">å››ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼šå–æ¶ˆæµç¨‹çš„ â€œé¿å‘æŒ‡å—â€</h3>
<p>æ— è®ºé€‰æ‹©å“ªç§æŠ€æœ¯æ–¹æ¡ˆï¼Œè®¢å•å–æ¶ˆçš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘éƒ½éœ€ä¸¥æ ¼éµå¾ª â€œ<strong>æ ¡éªŒâ†’å–æ¶ˆâ†’å›è¡¥â†’é€šçŸ¥</strong>â€ å››æ­¥ï¼Œä¸”æ¯ä¸€æ­¥éƒ½è¦å¤„ç†å¼‚å¸¸ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´ï¼š</p>
<h4 data-id="heading-23">1. ç¬¬ä¸€æ­¥ï¼šè®¢å•çŠ¶æ€ä¸¥æ ¼æ ¡éªŒï¼ˆé˜²è¯¯å–æ¶ˆï¼‰</h4>
<p>å–æ¶ˆå‰å¿…é¡»ç”¨ â€œ<strong>æ’ä»–é”</strong>â€ é”å®šè®¢å•ï¼Œé˜²æ­¢ç”¨æˆ·åœ¨å–æ¶ˆè¿‡ç¨‹ä¸­æ”¯ä»˜ï¼ˆå¦‚ç”¨æˆ·è¶…æ—¶å‰ 1 ç§’æ”¯ä»˜ï¼ŒåŒæ—¶ç³»ç»Ÿåœ¨æ‰§è¡Œå–æ¶ˆï¼‰ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">// ç”¨æ•°æ®åº“è¡Œé”é”å®šè®¢å•ï¼ˆ<span class="hljs-keyword">SELECT</span> ... <span class="hljs-keyword">FOR</span> UPDATEï¼‰
@Transactional
<span class="hljs-keyword">public</span> OrderDO getOrderWithLock(<span class="hljs-type">String</span> orderId) {
    <span class="hljs-keyword">return</span> orderMapper.selectByOrderIdForUpdate(orderId);
}
// æ ¡éªŒé€»è¾‘
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> checkCanCancel(OrderDO <span class="hljs-keyword">order</span>) {
    // <span class="hljs-number">1</span>. è®¢å•çŠ¶æ€å¿…é¡»æ˜¯â€œå¾…æ”¯ä»˜/å¾…æ¥å•â€ç­‰å¯å–æ¶ˆçŠ¶æ€
    <span class="hljs-keyword">if</span> (!Arrays.asList(<span class="hljs-string">"PENDING_PAY"</span>, <span class="hljs-string">"PENDING_ACCEPT"</span>).contains(<span class="hljs-keyword">order</span>.getStatus())) {
        log.info(<span class="hljs-string">"è®¢å•{}çŠ¶æ€ä¸º{}ï¼Œä¸å¯å–æ¶ˆ"</span>, <span class="hljs-keyword">order</span>.getOrderId(), <span class="hljs-keyword">order</span>.getStatus());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    // <span class="hljs-number">2</span>. è®¢å•ç¡®å®å·²è¶…æ—¶ï¼ˆäºŒæ¬¡æ ¡éªŒï¼Œé¿å…å®šæ—¶ä»»åŠ¡/Rediså›è°ƒå»¶è¿Ÿï¼‰
    <span class="hljs-type">long</span> currentTime = System.currentTimeMillis() / <span class="hljs-number">1000</span>;
    <span class="hljs-type">long</span> timeoutTime = <span class="hljs-keyword">order</span>.getCreateTime() + <span class="hljs-keyword">order</span>.getTimeoutSeconds();
    <span class="hljs-keyword">if</span> (currentTime &lt; timeoutTime) {
        log.info(<span class="hljs-string">"è®¢å•{}æœªè¶…æ—¶ï¼ˆå½“å‰æ—¶é—´{}ï¼Œè¶…æ—¶æ—¶é—´{}ï¼‰ï¼Œä¸å¯å–æ¶ˆ"</span>, 
                 <span class="hljs-keyword">order</span>.getOrderId(), currentTime, timeoutTime);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-24">2. ç¬¬äºŒæ­¥ï¼šè®¢å•çŠ¶æ€ä¿®æ”¹ï¼ˆåŸå­æ€§ï¼‰</h4>
<p>ä¿®æ”¹è®¢å•çŠ¶æ€å¿…é¡»åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œç¡®ä¿ â€œçŠ¶æ€ä¿®æ”¹â€ ä¸ â€œèµ„æºå›è¡¥â€ è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼š</p>
<pre><code class="hljs language-php" lang="php">@Transactional
<span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title function_ invoke__">cancelOrder</span>(OrderDO order) {
    <span class="hljs-comment">// 1. å†æ¬¡æ ¡éªŒï¼ˆé˜²æ­¢äº‹åŠ¡ç­‰å¾…æœŸé—´çŠ¶æ€å˜åŒ–ï¼‰</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">checkCanCancel</span>(order)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// 2. ä¿®æ”¹è®¢å•çŠ¶æ€ä¸ºâ€œå·²å–æ¶ˆâ€</span>
    <span class="hljs-keyword">int</span> updateCount = orderMapper.<span class="hljs-title function_ invoke__">updateStatus</span>(order.<span class="hljs-title function_ invoke__">getOrderId</span>(), <span class="hljs-string">"CANCELED"</span>, <span class="hljs-string">"TIMEOUT"</span>);
    <span class="hljs-keyword">if</span> (updateCount != <span class="hljs-number">1</span>) {
        log.<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"è®¢å•{}ä¿®æ”¹çŠ¶æ€å¤±è´¥ï¼Œå½±å“è¡Œæ•°{}"</span>, order.<span class="hljs-title function_ invoke__">getOrderId</span>(), updateCount);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">"è®¢å•çŠ¶æ€ä¿®æ”¹å¤±è´¥"</span>); <span class="hljs-comment">// è§¦å‘äº‹åŠ¡å›æ»š</span>
    }
    
    <span class="hljs-comment">// 3. å›è¡¥å…³è”èµ„æºï¼ˆåº“å­˜ã€ä¼˜æƒ åˆ¸ã€åº§ä½ç­‰ï¼‰</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å›è¡¥åº“å­˜</span>
        inventoryService.<span class="hljs-title function_ invoke__">releaseInventory</span>(order.<span class="hljs-title function_ invoke__">getSkuId</span>(), order.<span class="hljs-title function_ invoke__">getQuantity</span>());
        <span class="hljs-comment">// å›è¡¥ä¼˜æƒ åˆ¸ï¼ˆå¦‚æœä¸‹å•æ—¶é”å®šäº†ä¼˜æƒ åˆ¸ï¼‰</span>
        <span class="hljs-keyword">if</span> (order.<span class="hljs-title function_ invoke__">getCouponId</span>() != <span class="hljs-literal">null</span>) {
            couponService.<span class="hljs-title function_ invoke__">unlockCoupon</span>(order.<span class="hljs-title function_ invoke__">getUserId</span>(), order.<span class="hljs-title function_ invoke__">getCouponId</span>());
        }
        <span class="hljs-comment">// å›è¡¥åº§ä½/æˆ¿é—´ï¼ˆç¥¨åŠ¡/é…’åº—è®¢å•ï¼‰</span>
        <span class="hljs-keyword">if</span> (order.<span class="hljs-title function_ invoke__">getOrderType</span>().<span class="hljs-title function_ invoke__">equals</span>(<span class="hljs-string">"TICKET"</span>)) {
            ticketService.<span class="hljs-title function_ invoke__">unlockSeat</span>(order.<span class="hljs-title function_ invoke__">getSeatId</span>());
        }
    } <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> e) {
        log.<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"è®¢å•{}èµ„æºå›è¡¥å¤±è´¥"</span>, order.<span class="hljs-title function_ invoke__">getOrderId</span>(), e);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">"èµ„æºå›è¡¥å¤±è´¥"</span>); <span class="hljs-comment">// è§¦å‘äº‹åŠ¡å›æ»šï¼Œè®¢å•çŠ¶æ€æ¢å¤ä¸ºå¾…æ”¯ä»˜</span>
    }
    
    <span class="hljs-comment">// 4. è®°å½•å–æ¶ˆæ—¥å¿—ï¼ˆç”¨äºé—®é¢˜æ’æŸ¥ï¼‰</span>
    orderLogService.<span class="hljs-title function_ invoke__">recordLog</span>(order.<span class="hljs-title function_ invoke__">getOrderId</span>(), <span class="hljs-string">"ORDER_CANCELED"</span>, <span class="hljs-string">"è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆ"</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-25">3. ç¬¬ä¸‰æ­¥ï¼šç”¨æˆ·é€šçŸ¥ï¼ˆæå‡ä½“éªŒï¼‰</h4>
<p>å–æ¶ˆåéœ€é€šè¿‡å¤šæ¸ é“é€šçŸ¥ç”¨æˆ·ï¼Œè¯´æ˜åŸå› å’Œåç»­æ“ä½œï¼ˆå¦‚ â€œè®¢å•å·²å–æ¶ˆï¼Œåº“å­˜å·²é‡Šæ”¾ï¼Œå¯é‡æ–°ä¸‹å•â€ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">sendCancelNotice</span>(OrderDO order) {
    <span class="hljs-comment">// 1. çŸ­ä¿¡é€šçŸ¥ï¼ˆæ ¸å¿ƒæ¸ é“ï¼Œç¡®ä¿ç”¨æˆ·èƒ½æ”¶åˆ°ï¼‰</span>
    <span class="hljs-selector-tag">smsService</span><span class="hljs-selector-class">.send</span>(order.<span class="hljs-built_in">getPhone</span>(), String.<span class="hljs-built_in">format</span>(
        <span class="hljs-string">"ã€XXå¹³å°ã€‘æ‚¨çš„è®¢å•%så› è¶…æ—¶æœªæ”¯ä»˜å·²è‡ªåŠ¨å–æ¶ˆï¼Œåº“å­˜å·²é‡Šæ”¾ï¼Œå¯é‡æ–°ä¸‹å•ã€‚"</span>, 
        order.<span class="hljs-built_in">getOrderId</span>()
    ));
    
    <span class="hljs-comment">// 2. APPæ¨é€ï¼ˆé’ˆå¯¹å·²å®‰è£…APPçš„ç”¨æˆ·ï¼‰</span>
    <span class="hljs-selector-tag">pushService</span><span class="hljs-selector-class">.send</span>(order.<span class="hljs-built_in">getUserId</span>(), <span class="hljs-string">"è®¢å•å–æ¶ˆé€šçŸ¥"</span>, 
        String.<span class="hljs-built_in">format</span>(<span class="hljs-string">"è®¢å•%så·²è‡ªåŠ¨å–æ¶ˆï¼ŒåŸå› ï¼šè¶…æ—¶æœªæ”¯ä»˜"</span>, order.<span class="hljs-built_in">getOrderId</span>()));
    
    <span class="hljs-comment">// 3. ç«™å†…ä¿¡ï¼ˆè¡¥å……æ¸ é“ï¼‰</span>
    <span class="hljs-selector-tag">messageService</span><span class="hljs-selector-class">.sendInboxMsg</span>(order.<span class="hljs-built_in">getUserId</span>(), <span class="hljs-string">"è®¢å•å–æ¶ˆ"</span>, 
        String.<span class="hljs-built_in">format</span>(<span class="hljs-string">"è®¢å•%säº%så› è¶…æ—¶æœªæ”¯ä»˜è‡ªåŠ¨å–æ¶ˆï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»å®¢æœã€‚"</span>, 
        order.<span class="hljs-built_in">getOrderId</span>(), new <span class="hljs-built_in">SimpleDateFormat</span>(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>).<span class="hljs-built_in">format</span>(new <span class="hljs-built_in">Date</span>())));
}
</code></pre>
<h3 data-id="heading-26">äº”ã€å·¥ç¨‹è½åœ°ï¼šç›‘æ§ä¸è¿ç»´ä¸å¯å°‘</h3>
<p>å³ä½¿æ–¹æ¡ˆè®¾è®¡å®Œå–„ï¼Œä¹Ÿéœ€é…å¥—ç›‘æ§ä¸è¿ç»´æªæ–½ï¼Œé¿å… â€œé—®é¢˜å‘ç”Ÿåæ‰å‘ç°â€ï¼š</p>
<h4 data-id="heading-27">1. æ ¸å¿ƒç›‘æ§æŒ‡æ ‡</h4>









































<table><thead><tr><th>æŒ‡æ ‡åç§°</th><th>ç›‘æ§é¢‘ç‡</th><th>é˜ˆå€¼å»ºè®®</th><th>å‘Šè­¦æ–¹å¼</th></tr></thead><tbody><tr><td>è¶…æ—¶è®¢å•æ€»é‡</td><td>1 åˆ†é’Ÿ</td><td>æ— ï¼ˆéœ€è§‚å¯Ÿè¶‹åŠ¿ï¼‰</td><td>æ— ï¼ˆç”¨äºä¸šåŠ¡åˆ†æï¼‰</td></tr><tr><td>å–æ¶ˆæˆåŠŸç‡</td><td>1 åˆ†é’Ÿ</td><td>&lt;99.9%</td><td>çŸ­ä¿¡ + é’‰é’‰å‘Šè­¦</td></tr><tr><td>å–æ¶ˆå»¶è¿Ÿæ—¶é—´</td><td>1 åˆ†é’Ÿ</td><td>&gt;3 åˆ†é’Ÿï¼ˆè¶…æ—¶ååˆ°å–æ¶ˆçš„æ—¶é—´ï¼‰</td><td>çŸ­ä¿¡å‘Šè­¦</td></tr><tr><td>èµ„æºå›è¡¥å¤±è´¥ç‡</td><td>1 åˆ†é’Ÿ</td><td>&gt;0.1%</td><td>ç”µè¯ + çŸ­ä¿¡å‘Šè­¦</td></tr><tr><td>å®šæ—¶ä»»åŠ¡ / å»¶è¿Ÿé˜Ÿåˆ—å †ç§¯æ•°</td><td>10 ç§’</td><td>&gt;1000 æ¡</td><td>é’‰é’‰ + é‚®ä»¶å‘Šè­¦</td></tr></tbody></table>
<h4 data-id="heading-28">2. æ—¥å¿—ä¸è¿½æº¯</h4>
<ul>
<li>æ¯ç¬”è®¢å•çš„å–æ¶ˆæµç¨‹éœ€è®°å½•å®Œæ•´æ—¥å¿—ï¼ŒåŒ…å« â€œè®¢å• IDã€è§¦å‘æ–¹å¼ï¼ˆå®šæ—¶ä»»åŠ¡ / å»¶è¿Ÿé˜Ÿåˆ—ï¼‰ã€å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€çŠ¶æ€ã€å›è¡¥èµ„æºåˆ—è¡¨ã€å¤±è´¥åŸå› ï¼ˆå¦‚æœ‰ï¼‰â€ï¼›</li>
</ul>

<ul>
<li>ç”¨ ELKï¼ˆElasticsearch+Logstash+Kibanaï¼‰å­˜å‚¨å’ŒæŸ¥è¯¢æ—¥å¿—ï¼Œæ”¯æŒæŒ‰ â€œè®¢å• IDã€æ—¶é—´èŒƒå›´ã€å¤±è´¥åŸå› â€ æ£€ç´¢ï¼Œæ–¹ä¾¿å¿«é€Ÿæ’æŸ¥é—®é¢˜ï¼ˆå¦‚ç”¨æˆ·åé¦ˆ â€œè®¢å•æ²¡å–æ¶ˆâ€ï¼Œè¾“å…¥è®¢å• ID å³å¯æŸ¥çœ‹å–æ¶ˆæ—¥å¿—ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-29">3. åº”æ€¥æ–¹æ¡ˆ</h4>
<ul>
<li><strong>å–æ¶ˆå¤±è´¥åº”æ€¥</strong>ï¼šé’ˆå¯¹ â€œå–æ¶ˆå¤±è´¥ä¸”é‡è¯•å¤šæ¬¡ä»å¤±è´¥â€ çš„è®¢å•ï¼Œè§¦å‘äººå·¥ä»‹å…¥æµç¨‹ï¼ˆå¦‚å‘é€å·¥å•ç»™è¿è¥ï¼Œæ‰‹åŠ¨å–æ¶ˆå¹¶å›è¡¥èµ„æºï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>ä¸­é—´ä»¶æ•…éšœåº”æ€¥</strong>ï¼šè‹¥å»¶è¿Ÿé˜Ÿåˆ— / Redis æ•…éšœï¼Œä¸´æ—¶åˆ‡æ¢ä¸º â€œåˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡â€ æ–¹æ¡ˆï¼Œç¡®ä¿å–æ¶ˆåŠŸèƒ½ä¸ä¸­æ–­ï¼›</li>
</ul>

<ul>
<li><strong>å¤§ä¿ƒå³°å€¼åº”æ€¥</strong>ï¼šå¤§ä¿ƒæœŸé—´æå‰æ‰©å®¹å®šæ—¶ä»»åŠ¡ / å»¶è¿Ÿé˜Ÿåˆ—çš„èŠ‚ç‚¹ï¼Œé¿å…å› å¹¶å‘è¿‡é«˜å¯¼è‡´å †ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-30">å…­ã€æ–¹æ¡ˆé€‰å‹é€ŸæŸ¥è¡¨</h3>





























<table><thead><tr><th>ä¸šåŠ¡è§„æ¨¡</th><th>å®æ—¶æ€§è¦æ±‚</th><th>æ¨èæ–¹æ¡ˆ</th><th>å…³é”®æ³¨æ„ç‚¹</th></tr></thead><tbody><tr><td>ä¸­å°ä¸šåŠ¡ï¼ˆ&lt;10 ä¸‡å• / å¤©ï¼‰</td><td>ä½ï¼ˆå…è®¸ 5 åˆ†é’Ÿå»¶è¿Ÿï¼‰</td><td>Redis è¿‡æœŸå›è°ƒ</td><td>å¼€å¯ Redis é€šçŸ¥ï¼ŒäºŒæ¬¡æ ¡éªŒè¶…æ—¶æ—¶é—´</td></tr><tr><td>ä¸­ä¸šåŠ¡ï¼ˆ10 ä¸‡ - 100 ä¸‡å• / å¤©ï¼‰</td><td>ä¸­ï¼ˆå…è®¸ 1 åˆ†é’Ÿå»¶è¿Ÿï¼‰</td><td>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼ˆXXL-Jobï¼‰</td><td>åˆ†æ‰¹å¤„ç†ï¼ŒåŠ åˆ†å¸ƒå¼é”é˜²é‡å¤å–æ¶ˆ</td></tr><tr><td>å¤§ä¸šåŠ¡ï¼ˆ&gt;100 ä¸‡å• / å¤©ï¼‰</td><td>é«˜ï¼ˆç§’çº§ï¼‰</td><td>å»¶è¿Ÿé˜Ÿåˆ—ï¼ˆRocketMQï¼‰</td><td>æ¶ˆæ¯æŒä¹…åŒ–ï¼Œäº‹åŠ¡ä¿éšœè®¢å•ä¸æ¶ˆæ¯ä¸€è‡´æ€§</td></tr></tbody></table>
<h3 data-id="heading-31">æ€»ç»“</h3>
<p>è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆåŠŸèƒ½çš„è®¾è®¡ï¼Œæ ¸å¿ƒä¸æ˜¯ â€œé€‰å“ªç§æŠ€æœ¯æ–¹æ¡ˆâ€ï¼Œè€Œæ˜¯ â€œ<strong>ç¡®ä¿ä¸€è‡´æ€§ä¸å¯é æ€§</strong>â€â€”â€” æ— è®ºç”¨å®šæ—¶ä»»åŠ¡ã€å»¶è¿Ÿé˜Ÿåˆ—è¿˜æ˜¯ Redisï¼Œéƒ½éœ€åšåˆ°ï¼š</p>
<ol>
<li>å–æ¶ˆå‰ä¸¥æ ¼æ ¡éªŒè®¢å•çŠ¶æ€ï¼Œé˜²è¯¯åˆ¤ï¼›</li>
</ol>

<ol start="2">
<li>å–æ¶ˆä¸­ç”¨äº‹åŠ¡ä¿éšœ â€œçŠ¶æ€ä¿®æ”¹ + èµ„æºå›è¡¥â€ åŸå­æ€§ï¼Œé˜²èµ„æŸï¼›</li>
</ol>

<ol start="3">
<li>å–æ¶ˆåå®Œå–„ç›‘æ§ä¸æ—¥å¿—ï¼Œé˜²é—®é¢˜ä¸å¯è¿½æº¯ã€‚</li>
</ol>
<p>æœ€ç»ˆï¼Œæ–¹æ¡ˆéœ€é€‚é…è‡ªèº«ä¸šåŠ¡è§„æ¨¡ä¸å®æ—¶æ€§è¦æ±‚ï¼šä¸­å°ä¸šåŠ¡ç”¨ Redis å¿«é€Ÿè½åœ°ï¼Œä¸­å¤§è§„æ¨¡ç”¨å®šæ—¶ä»»åŠ¡æˆ–å»¶è¿Ÿé˜Ÿåˆ—ä¿éšœå¯é ï¼Œæ ¸å¿ƒæ˜¯ â€œä¸è¿½æ±‚æœ€å¤æ‚çš„æŠ€æœ¯ï¼Œåªé€‰æœ€é€‚åˆçš„æ–¹æ¡ˆâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¼ å›¾ + äº”æ¡æ—¶é—´çº¿ï¼Œå½»åº•æ‹†é€ StarRocks ä¸»é”®è¡¨ UPSERT é“¾è·¯]]></title>    <link>https://juejin.cn/post/7573708620870926388</link>    <guid>https://juejin.cn/post/7573708620870926388</guid>    <pubDate>2025-11-18T10:02:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573708620870926388" data-draft-id="7573864324713431092" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¼ å›¾ + äº”æ¡æ—¶é—´çº¿ï¼Œå½»åº•æ‹†é€ StarRocks ä¸»é”®è¡¨ UPSERT é“¾è·¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T10:02:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="shengjk1"/> <meta itemprop="url" content="https://juejin.cn/user/2647279732524957"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¼ å›¾ + äº”æ¡æ—¶é—´çº¿ï¼Œå½»åº•æ‹†é€ StarRocks ä¸»é”®è¡¨ UPSERT é“¾è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2647279732524957/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    shengjk1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T10:02:41.000Z" title="Tue Nov 18 2025 10:02:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="gruvbox-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#282828}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#ebdbb2}.hljs-deletion,.hljs-formula,.hljs-keyword,.hljs-link,.hljs-selector-tag{color:#fb4934}.hljs-built_in,.hljs-emphasis,.hljs-name,.hljs-quote,.hljs-strong,.hljs-title,.hljs-variable{color:#83a598}.hljs-attr,.hljs-params,.hljs-template-tag,.hljs-type{color:#fabd2f}.hljs-builtin-name,.hljs-doctag,.hljs-literal,.hljs-number{color:#8f3f71}.hljs-code,.hljs-meta,.hljs-regexp,.hljs-selector-id,.hljs-template-variable{color:#fe8019}.hljs-addition,.hljs-meta-string,.hljs-section,.hljs-selector-attr,.hljs-selector-class,.hljs-string,.hljs-symbol{color:#b8bb26}.hljs-attribute,.hljs-bullet,.hljs-class,.hljs-function,.hljs-function .hljs-keyword,.hljs-meta-keyword,.hljs-selector-pseudo,.hljs-tag{color:#8ec07c}.hljs-comment{color:#928374}.hljs-link_label,.hljs-literal,.hljs-number{color:#d3869b}.hljs-comment,.hljs-emphasis{font-style:italic}.hljs-section,.hljs-strong,.hljs-tag{font-weight:700}</style><p>ä½ å¥½ï¼Œæˆ‘æ˜¯ shengjk1ï¼Œå¤šå¹´å¤§å‚ç»éªŒï¼ŒåŠªåŠ›æ„å»º é€šä¿—æ˜“æ‡‚çš„ã€å¥½ç©çš„ç¼–ç¨‹è¯­è¨€æ•™ç¨‹ã€‚ æ¬¢è¿å…³æ³¨ï¼ä½ ä¼šæœ‰å¦‚ä¸‹æ”¶ç›Šï¼š</p>
<ol>
<li>äº†è§£å¤§å‚ç»éªŒ</li>
<li>æ‹¥æœ‰å’Œå¤§å‚ç›¸åŒ¹é…çš„æŠ€æœ¯ç­‰</li>
</ol>
<p>å¸Œæœ›çœ‹ä»€ä¹ˆï¼Œè¯„è®ºæˆ–è€…ç§ä¿¡å‘Šè¯‰æˆ‘ï¼</p>
<h2 data-id="heading-0">ä¸€ã€ å‰è¨€</h2>
<p>â€œä¸ºä»€ä¹ˆ StarRocks ä¸»é”®è¡¨å¯ä»¥æ¯«ç§’çº§ UPSERTï¼Œè¿˜èƒ½ä¿è¯ç‚¹æŸ¥æ€§èƒ½ä¸å´©ï¼Œæ•°æ®ä¸ä¸¢ï¼Ÿâ€<br/>
ç¤¾åŒºé‡Œ 90% çš„è°ƒä¼˜è¸©å‘ï¼Œå½’æ ¹ç»“åº•æ˜¯æ²¡æŠŠ <strong>dump</strong> å’Œ <strong>apply</strong> è¿™ä¸¤ä»¶äº‹åˆ†å¼€ã€‚<br/>
ä»Šå¤©ç”¨â€œä¸€å¼ å›¾ + äº”æ¡æ—¶é—´çº¿â€æŠŠå®Œæ•´è¯»å†™é“¾è·¯æ‹†åˆ°ä»£ç çº§ï¼Œè®©ä½  10 åˆ†é’Ÿå˜æˆâ€œä¸»é”®è¡¨æ‡‚ç‹â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ é¸Ÿç°å›¾ï¼šæŠŠ 4 ä¸ªæ ¸å¿ƒç»„ä»¶å…ˆå°åœ¨è„‘å­é‡Œ</h2>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  <span class="hljs-number">1</span>  write  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  <span class="hljs-number">2</span>  dump   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flink<span class="hljs-operator">/</span>Java â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ Memory       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ Disk       â”‚
â”‚ Clients    â”‚  <span class="hljs-keyword">INSERT</span><span class="hljs-operator">/</span>   â”‚ DeltaBuffer  â”‚  Memâ†’Disk  â”‚ Delta RS <span class="hljs-operator">*</span> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  <span class="hljs-keyword">UPDATE</span><span class="hljs-operator">/</span>   â”‚ (è·³è¡¨<span class="hljs-operator">+</span>ç´¢å¼•)  â”‚            â”‚ (å°šæœªåˆå¹¶) â”‚
              <span class="hljs-keyword">DELETE</span>      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                                                        â”‚ <span class="hljs-number">3</span>  apply
                                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  <span class="hljs-number">4</span>  read   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">SQL</span>        â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ Index        â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ Base RS      â”‚
â”‚ <span class="hljs-keyword">SELECT</span>     â”‚            â”‚ PrimaryKey   â”‚            â”‚ (å·²åˆå¹¶)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ <span class="hljs-operator">+</span> DelVec     â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>ä¸€å¥è¯æ³¨è§£ï¼š<br/>
<strong>å†™åªç¢° DeltaBuffer â†’ dump åªè½ç›˜ä¸åˆå¹¶ â†’ apply æ‰çœŸæ­£æŠŠ Delta åˆå¹¶è¿› Base â†’ è¯»æ°¸è¿œä¸‰è·¯å½’å¹¶ã€‚</strong><br/>
æŠŠè¿™å¼ å›¾æˆªå±å½“æ¡Œé¢ï¼Œåé¢æ‰€æœ‰æ¦‚å¿µéƒ½èƒ½ä¸€ä¸€æ˜ å°„å›æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-2">2 äº”æ¡æ—¶é—´çº¿ï¼šå†™ â†’ dump â†’ apply â†’ è¯» â†’ åå°ç»´æŠ¤</h2>
<h3 data-id="heading-3">2.1 å†™å…¥ï¼šå†…å­˜é‡Œå®Œæˆ UPSERTï¼Œä¸åˆ° 1 ms</h3>






























<table><thead><tr><th>æ­¥éª¤</th><th>åŠ¨ä½œ</th><th>å¹¶å‘ä¿è¯</th></tr></thead><tbody><tr><td>â‘  Write Ahead Log</td><td>è¿½åŠ å†™ <code>_wal/xxx.log</code></td><td>å´©æºƒåå¯é‡æ”¾</td></tr><tr><td>â‘¡ DeltaBuffer æ’å…¥</td><td>è·³è¡¨ï¼ˆskiplistï¼‰æŒ‰ pk æ’åºï¼ŒåŒ key è¦†ç›–</td><td>è¡Œçº§é”ä»…æ€¼è·³è¡¨ï¼Œæ—  IO</td></tr><tr><td>â‘¢ æ›´æ–° PK Index</td><td>å†…å­˜ B+ æ ‘ç›´æ¥è¦†ç›– RowLocation</td><td>æ— é” CAS</td></tr><tr><td>â‘£ è¿”å›å®¢æˆ·ç«¯</td><td>çº¯å†…å­˜ï¼Œå»¶è¿Ÿ P99 &lt; 1 ms</td><td>â€”</td></tr></tbody></table>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>è·³è¡¨åªä¿ç•™ <strong>æœ€æ–°ç‰ˆæœ¬</strong>ï¼Œå¤©ç„¶ UPSERTã€‚</li>
<li><strong>Base æ•°æ®æ–‡ä»¶é›¶å†™å…¥</strong>ï¼Œå› æ­¤æ²¡æœ‰éšæœºå†™æ”¾å¤§ã€‚</li>
</ul>
<h3 data-id="heading-4">2.2 dumpï¼šå†…å­˜ â†’ ç£ç›˜ï¼Œ<strong>åªå†™ä¸åˆå¹¶</strong></h3>
<p>è§¦å‘ä¸‰ä»¶å¥—ï¼š</p>
<ol>
<li>æ—¶é—´é—´éš”ï¼š<code>pk_dump_interval_seconds</code>ï¼ˆé»˜è®¤ 1 hï¼‰ã€‚</li>
<li>å†…å­˜æ°´ä½ï¼š<code>update_memory_limit_percent</code> 30%ã€‚</li>
<li>æ–‡ä»¶ä¸ªæ•°ï¼šDelta Rowset â‰¥ 1000ã€‚</li>
</ol>
<p>å†…éƒ¨ä¸‰æ­¥ï¼š</p>
<ol>
<li>æŠŠè·³è¡¨é¡ºåºæ‰«ä¸€é â†’ æŒ‰ä¸»é”®æ’å¥½åºçš„åˆ—å­˜å—ï¼ˆå« DELETE æ ‡è®°ï¼‰ã€‚</li>
<li>å†™ä¸´æ—¶æ–‡ä»¶ <code>.dat/.idx</code> â†’ åŸå­ rename æˆ <code>DeltaRowsetID</code>ã€‚</li>
<li>é‡Šæ”¾æ•´å— DeltaBufferï¼Œå†…å­˜ç¬é—´æ‰å› 0ã€‚</li>
</ol>
<p>ç»“æœï¼š</p>
<ul>
<li>æŸ¥è¯¢éœ€è¦ <strong>Union æ‰€æœ‰ Delta RS + æ®‹ç•™å†…å­˜</strong>ã€‚</li>
<li><strong>ä¸ä¼šå»é‡ Base</strong>ï¼Œæ‰€ä»¥ dump è¶Šå¿«ï¼Œæ–‡ä»¶è¶Šç¢ï¼Œè¯»æ”¾å¤§è¶Šé«˜ã€‚</li>
</ul>
<h3 data-id="heading-5">2.3 applyï¼šç£ç›˜ Delta + Base â†’ æ–° Baseï¼Œ<strong>çœŸæ­£åˆå¹¶</strong></h3>
<p>StarRocks é‡Œå« <strong>update compaction</strong>ã€‚<br/>
è§¦å‘é˜ˆå€¼ï¼š</p>
<ul>
<li>æ€» Delta å¤§å° â‰¥ 256 MBï¼ˆ<code>update_compaction_size_threshold</code>ï¼‰ã€‚</li>
<li>Delta æ–‡ä»¶æ•° â‰¥ 1000ã€‚</li>
<li>æ‰‹åŠ¨ <code>ADMIN COMPACT TABLE tbl;</code></li>
</ul>
<p>å››æ­¥å®Œæˆï¼š</p>
<ol>
<li><strong>é€‰é›†</strong>ï¼šæŒ‘ä¸€ä¸ª Base + è‹¥å¹² Deltaï¼ˆä¸»é”®åŒºé—´å¯¹é½ï¼‰ã€‚</li>
<li><strong>å¤šè·¯å½’å¹¶</strong>ï¼šé¡ºåºæ‰«æï¼ŒåŒ key åªä¿ç•™æœ€æ–°ä¸€æ¡ï¼›é‡åˆ° DELETE å°±ä¸¢å¼ƒã€‚</li>
<li><strong>å†™æ–° Base</strong>ï¼šå…¨æ–° <code>.dat/.idx/.col/.del</code> å››ä»¶å¥—ã€‚</li>
<li><strong>åŸå­åˆ‡æ¢</strong>ï¼šå…ƒæ•°æ®ç‰ˆæœ¬å· +1ï¼Œè€æ–‡ä»¶å¼•ç”¨è®¡æ•°å‡ 1ï¼ŒGC çº¿ç¨‹ 5 min åç‰©ç†åˆ é™¤ã€‚</li>
</ol>
<p>å‰¯ä½œç”¨ï¼š</p>
<ul>
<li>CPU å¯†é›† + è¯»æ”¾å¤§ï¼ˆè¦è¯»æ—§ Baseï¼‰ï¼Œä½† <strong>æŸ¥è¯¢æ— é˜»å¡</strong>ï¼ˆå¿«ç…§éš”ç¦»ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-6">2.4 è¯»å–ï¼šç‚¹æŸ¥ / èŒƒå›´æ‰«éƒ½é â€œä¸‰è·¯å½’å¹¶â€</h3>
<p>å¯è§æ€§é¡ºåºï¼ˆä»æ–°åˆ°æ—§ï¼‰ï¼š</p>
<pre><code class="hljs">å†…å­˜ DeltaBuffer â†’ ç£ç›˜ Delta RS â†’ Base RS
</code></pre>
<p>ç‚¹æŸ¥æµç¨‹ï¼š</p>
<ol>
<li>PK Index å…ˆå®šä½ &lt;RowSetId, RowId&gt;ã€‚</li>
<li>æŒ‰ç±»å‹å–è¡Œï¼š
<ul>
<li>DeltaBuffer â†’ ç›´æ¥è¿”å›ã€‚</li>
<li>Delta RS â†’ è¯»ä¸»é”®ç´¢å¼•é¡µè§£æã€‚</li>
<li>Base RS â†’ å…ˆæŸ¥ DelVecï¼Œbit=1 è¡¨ç¤ºå·²åˆ ï¼Œå¦åˆ™è¿”å›ã€‚<br/>
èŒƒå›´æ‰«ï¼šå¯¹ä¸‰è·¯å»ºè¿­ä»£å™¨ â†’ å°é¡¶å †å½’å¹¶ â†’ è¾“å‡ºæœ€æ–°ç‰ˆæœ¬ã€‚</li>
</ul>
</li>
</ol>
<p>æ€§èƒ½å…³é”®ï¼š</p>
<ul>
<li>PK Index å…¨å†…å­˜ï¼Œç‚¹æŸ¥ <strong>O(logN)</strong> æ¯«ç§’çº§ã€‚</li>
<li>Delta RS è¶Šå¤šï¼Œå †å½’å¹¶å±‚æ•°è¶Šé«˜ â†’ èŒƒå›´æŸ¥è¯¢ CPU é£™å‡ï¼›<strong>å› æ­¤éœ€è¦ apply</strong>ã€‚</li>
</ul>
<h3 data-id="heading-7">2.5 åå°ç»´æŠ¤ï¼šDelVec / GC / PIndex é‡å»º</h3>
<ul>
<li><strong>DelVec</strong><br/>
æ¯ä»½ Base ä¸€ä»½ä½å›¾ï¼Œapply æ—¶æŠŠåˆ é™¤æ ‡è®°åˆå¹¶è¿›æ–° Baseï¼Œæ—§ DelVec ç›´æ¥æ‰”ã€‚</li>
<li><strong>GC</strong><br/>
å¼•ç”¨è®¡æ•°ä¸º 0 åå»¶è¿Ÿ 5 min åˆ é™¤ï¼Œä¿è¯æ­£åœ¨è·‘çš„æŸ¥è¯¢å¿«ç…§ä¸è¸©ç©ºã€‚</li>
<li><strong>PK Index é‡å»º</strong><br/>
è€ç‰ˆæœ¬ï¼šBE é‡å¯è¦æ‰« <strong>å…¨é‡ Base + Delta</strong> é‡å»º B+ æ ‘ï¼Œ10 äº¿è¡Œâ‰ˆ5 minã€‚<br/>
3.1+ï¼šæ”¯æŒ <strong>æŒä¹…åŒ– pindex å¿«ç…§</strong>ï¼Œé‡å¯å¢é‡æ¢å¤ï¼Œ<strong>ç§’çº§</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€ dump vs apply å¯¹ç…§è¡¨ï¼šåˆ«å†æ··æ·†ï¼</h2>





























<table><thead><tr><th>è¯¯åŒº</th><th>çœŸç›¸</th></tr></thead><tbody><tr><td>dump å°±æ˜¯åˆå¹¶</td><td>âŒ åªè½ç›˜ï¼Œ<strong>ä¸å»é‡</strong> Base</td></tr><tr><td>dump è¶Šé¢‘ç¹è¶Šå¥½</td><td>âŒ æ–‡ä»¶æ›´ç¢ï¼Œè¯»æ”¾å¤§ï¼ŒIOPS çˆ†ç‚¸</td></tr><tr><td>apply ä¼šé”è¡¨</td><td>âŒ å¿«ç…§éš”ç¦»ï¼Œ<strong>è¯»å†™æ— é”</strong></td></tr><tr><td>DelVec ä¼šæ— é™è†¨èƒ€</td><td>âŒ æ¯æ¬¡ apply ç”Ÿæˆæ–° Baseï¼Œæ—§ä½å›¾ä¸¢å¼ƒ</td></tr><tr><td>ä¸»é”®è¡¨å†™æ”¾å¤§ä¸¥é‡</td><td>âŒ å†™åªè¿›å†…å­˜ï¼Œ<strong>é›¶éšæœºå†™ Base</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">å››ã€ ä¸€å¼ æ—¶åºå›¾å†ä¸²ä¸€éï¼ˆæ–‡å­—ç‰ˆï¼‰</h2>
<pre><code class="hljs language-ini" lang="ini">æ—¶é—´è½´ â”€â”€â–º
| å†™å…¥ â”€â”                    â”Œâ”€ dump â”€â”               â”Œâ”€ apply â”€â”
|       â”‚ DeltaBuffer        â”‚ æ–° Delta RS            â”‚ æ–° Base RS
| <span class="hljs-attr">key</span>=<span class="hljs-number">1</span> â”‚ v1 â†’ v2 â†’ v3       â”‚ v3 è½ç›˜                â”‚ v3 è¿› Base
| <span class="hljs-attr">key</span>=<span class="hljs-number">2</span> â”‚ delete             â”‚ delete æ ‡è®°è½ç›˜        â”‚ ä¸¢å¼ƒ key=<span class="hljs-number">2</span>
| æŸ¥è¯¢  â”‚ çœ‹ v3              â”‚ çœ‹ v3                   â”‚ ä»çœ‹ v3ï¼ˆæ— é”åˆ‡æ¢ï¼‰
</code></pre>
<h2 data-id="heading-10">äº”ã€ æ€»ç»“</h2>
<p>StarRocks ä¸»é”®è¡¨ = <strong>å†…å­˜ DeltaBuffer + ç£ç›˜ Delta/Base + å†…å­˜ PKIndex + DelVec</strong> å››ä»¶å¥—ï¼š<br/>
<strong>å†™åªè¿›å†…å­˜ï¼Œdump ä¸è½åŸºçº¿ï¼Œapply çœŸæ­£åˆå¹¶ï¼Œè¯»ä¸‰è·¯å½’å¹¶ï¼Œå…¨ç¨‹æ— é”ã€‚</strong></p>
<p>æŠŠ <strong>dumpï¼ˆè½ç›˜ï¼‰ vs applyï¼ˆåˆå¹¶ï¼‰</strong> è¿™æ¡åˆ†ç•Œçº¿åˆ»è¿›è„‘å­ï¼Œ<br/>
ä»¥åä»»ä½•â€œUPSERT å»¶è¿Ÿé«˜ / ç‚¹æŸ¥æ¯›åˆº / ç£ç›˜ IOPS çˆ†ç‚¸â€çš„æŠ¥è­¦ï¼Œ<br/>
ä½ éƒ½èƒ½ 30 ç§’å†…è¯´å‡ºæ ¹å› å’Œå‚æ•°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573776814948237331</link>    <guid>https://juejin.cn/post/7573776814948237331</guid>    <pubDate>2025-11-18T08:15:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573776814948237331" data-draft-id="7573855399716814867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:15:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:15:29.000Z" title="Tue Nov 18 2025 08:15:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Milvus æ˜¯ä¸€æ¬¾ä¸“ä¸ºäººå·¥æ™ºèƒ½æ—¶ä»£è®¾è®¡çš„<strong>å¼€æºå‘é‡æ•°æ®åº“</strong>ï¼Œæ ¸å¿ƒä½¿å‘½æ˜¯é«˜æ•ˆå¤„ç†ç”±éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å›¾åƒã€æ–‡æœ¬ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰ç”Ÿæˆçš„<strong>åµŒå…¥å‘é‡</strong>ï¼Œå¹¶æä¾›é«˜æ•ˆçš„ç›¸ä¼¼æ€§æœç´¢ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°†éç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºè®¡ç®—æœºå¯ç†è§£çš„å¤šç»´å‘é‡ï¼Œå¹¶èƒ½åœ¨æµ·é‡æ•°æ®ä¸­å¿«é€Ÿæ‰¾åˆ°æœ€ç›¸ä¼¼çš„å†…å®¹ ã€‚</p>
<p>ä¸‹è¡¨æ¸…æ™°åœ°å±•ç¤ºäº†Milvusä¸å…¶ä»–ä¸»æµå‘é‡æ•°æ®åº“çš„æ ¸å¿ƒå·®å¼‚ï¼Œå¸®åŠ©æ‚¨ç†è§£å…¶ç‹¬ç‰¹å®šä½ã€‚</p>









































<table><thead><tr><th>æ•°æ®åº“åç§°</th><th>ç±»å‹</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>å…¸å‹é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Milvus</strong>â€‹</td><td>å¼€æº/æ‰˜ç®¡</td><td><strong>é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§æå¼º</strong>ï¼Œæ”¯æŒå¤šç§ç´¢å¼•å’Œåˆ†å¸ƒå¼æ¶æ„</td><td>å¤§è§„æ¨¡å›¾åƒ/è§†é¢‘æ£€ç´¢ã€æ¨èç³»ç»Ÿã€RAGç³»ç»Ÿ</td></tr><tr><td><strong>Pinecone</strong>â€‹</td><td>å…¨æ‰˜ç®¡</td><td><strong>å¼€ç®±å³ç”¨ï¼Œæ˜“ä¸Šæ‰‹</strong>ï¼Œæ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½</td><td>å¿«é€ŸåŸå‹å¼€å‘ã€å®æ—¶æ¨èã€è¯­ä¹‰æœç´¢</td></tr><tr><td><strong>ChromaDB</strong>â€‹</td><td>åµŒå…¥å¼</td><td><strong>è½»é‡çº§ï¼Œæ˜“ç”¨</strong>ï¼Œé€‚åˆæœ¬åœ°å¼€å‘å’Œè½»é‡çº§åº”ç”¨</td><td>è½»é‡çº§AIåº”ç”¨ã€RAGç³»ç»Ÿã€åŸå‹è®¾è®¡</td></tr><tr><td><strong>Weaviate</strong>â€‹</td><td>å¼€æº/æ‰˜ç®¡</td><td><strong>æ”¯æŒæ··åˆæœç´¢</strong>ï¼ˆå‘é‡+å…³é”®å­—ï¼‰ï¼Œå†…ç½®æ¨¡å—åŒ–è®¾è®¡</td><td>çŸ¥è¯†å›¾è°±ã€æ··åˆæœç´¢åº”ç”¨</td></tr><tr><td><strong>PgVector</strong>â€‹</td><td>PostgreSQLæ‰©å±•</td><td><strong>ä¸PostgreSQLæ— ç¼é›†æˆ</strong>ï¼Œå¯ä½¿ç”¨æ ‡å‡†SQLæŸ¥è¯¢</td><td>å·²æœ‰PostgreSQLåŸºç¡€è®¾æ–½çš„ä¸­å°è§„æ¨¡AIåº”ç”¨</td></tr></tbody></table>
<h3 data-id="heading-0">ğŸ”„ æ ¸å¿ƒå·¥ä½œåŸç†ï¼šä»æ•°æ®åˆ°ç»“æœ</h3>
<p>Milvus çš„å·¥ä½œæµç¨‹å¯ä»¥æ¸…æ™°åœ°åˆ’åˆ†ä¸ºä»¥ä¸‹å››ä¸ªå…³é”®æ­¥éª¤ï¼Œä¸‹å›¾å±•ç¤ºäº†ä»æ•°æ®æ³¨å…¥åˆ°è¿”å›ç»“æœçš„å®Œæ•´è·¯å¾„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b2af55162d41f68972b1f722b88776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058528&amp;x-signature=Ez%2Bcnts2KfI3PFphi%2FFejreKFNU%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p><strong>æ•°æ®å‘é‡åŒ–</strong>ï¼šåˆ©ç”¨ Embedding æ¨¡å‹ï¼ˆå¦‚ BERTã€ResNetï¼‰å°†å›¾ç‰‡ã€æ–‡æœ¬ç­‰éç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºé«˜ç»´å‘é‡ ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å­˜å‚¨ä¸ç´¢å¼•</strong>ï¼šå°†è¿™äº›å‘é‡åŠå…¶å¯¹åº”çš„å…ƒæ•°æ®ï¼ˆå¦‚IDã€æè¿°ï¼‰æ’å…¥Milvusã€‚Milvusä¼šä¸ºå‘é‡æ„å»ºé«˜æ•ˆçš„ç´¢å¼•ï¼ˆå¦‚HNSWã€IVF_FLATï¼‰ï¼Œå°†æœç´¢ä»â€œå¤§æµ·æé’ˆâ€å˜ä¸ºâ€œæŸ¥å›¾ç´¢éª¥â€ï¼Œè¿™æ˜¯å®ç°é«˜é€Ÿæ£€ç´¢çš„å…³é”® ã€‚</p>
</li>
<li>
<p><strong>ç›¸ä¼¼æ€§æœç´¢</strong>ï¼šå½“è¾“å…¥æŸ¥è¯¢ï¼ˆä¾‹å¦‚ä¸€æ®µé—®é¢˜æ–‡æœ¬ï¼‰æ—¶ï¼Œå…ˆå°†å…¶è½¬æ¢ä¸ºæŸ¥è¯¢å‘é‡ã€‚Milvusä¼šåœ¨ç´¢å¼•ä¸­å¿«é€Ÿè®¡ç®—è¯¥æŸ¥è¯¢å‘é‡ä¸åº“ä¸­æ‰€æœ‰å‘é‡çš„è·ç¦»ï¼ˆå¦‚æ¬§æ°è·ç¦»L2ã€å†…ç§¯IPï¼‰ ã€‚</p>
</li>
<li>
<p><strong>è¿”å›ç»“æœ</strong>ï¼šæœ€åï¼Œæ ¹æ®è·ç¦»è¿œè¿‘ï¼ˆä»£è¡¨ç›¸ä¼¼åº¦é«˜ä½ï¼‰ï¼Œè¿”å›æœ€ç›¸ä¼¼çš„è‹¥å¹²ä¸ªå‘é‡åŠå…¶å…³è”çš„åŸå§‹æ•°æ®ï¼ˆå¦‚æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µï¼‰ä½œä¸ºç»“æœ ã€‚</p>
</li>
</ol>
<h3 data-id="heading-1">ğŸ› ï¸ å®æˆ˜ï¼šæ„å»ºRAGçŸ¥è¯†åº“çš„æ ¸å¿ƒæ­¥éª¤</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ Python æ„å»º RAG çŸ¥è¯†åº“çš„å®Œæ•´ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-2">æ­¥éª¤ä¸€ï¼šç¯å¢ƒå‡†å¤‡ä¸è¿æ¥</h4>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„åº“ï¼Œå¹¶åˆå§‹åŒ– Milvus å®¢æˆ·ç«¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">from</span> pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType, utility

<span class="hljs-meta"># è¿æ¥åˆ° Milvus æœåŠ¡å™¨ï¼ˆä»¥å•æœºç‰ˆä¸ºä¾‹ï¼‰</span>
connections.connect(<span class="hljs-keyword">alias</span>=<span class="hljs-string">"default"</span>, host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-string">'19530'</span>)
</code></pre>
<h4 data-id="heading-3">æ­¥éª¤äºŒï¼šè®¾è®¡æ•°æ®è¡¨ï¼ˆCollection Schemaï¼‰</h4>
<p>æ ¹æ®ä½ çš„æ•°æ®ç‰¹å¾å®šä¹‰è¡¨ç»“æ„ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªç”¨äºå­˜å‚¨çŸ¥è¯†åº“æ–‡æ¡£ç‰‡æ®µçš„é›†åˆå¯èƒ½éœ€è¦ä»¥ä¸‹å­—æ®µï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®šä¹‰å­—æ®µ</span>
<span class="hljs-attr">fields</span> = [
    FieldSchema(name=<span class="hljs-string">"id"</span>, dtype=DataType.VARCHAR, is_primary=<span class="hljs-literal">True</span>, max_length=<span class="hljs-number">100</span>),  <span class="hljs-comment"># ä¸»é”®</span>
    FieldSchema(name=<span class="hljs-string">"doc_id"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">100</span>),  <span class="hljs-comment"># æ–‡æ¡£ID</span>
    FieldSchema(name=<span class="hljs-string">"content"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">1000</span>),  <span class="hljs-comment"># æ–‡æ¡£å†…å®¹æ–‡æœ¬</span>
    FieldSchema(name=<span class="hljs-string">"vector"</span>, dtype=DataType.FLOAT_VECTOR, dim=<span class="hljs-number">768</span>)  <span class="hljs-comment"># å‘é‡å­—æ®µï¼Œç»´åº¦éœ€ä¸æ¨¡å‹åŒ¹é…</span>
]
<span class="hljs-comment"># åˆ›å»ºé›†åˆSchema</span>
<span class="hljs-attr">schema</span> = CollectionSchema(fields=fields, description=<span class="hljs-string">"RAG knowledge base collection"</span>)
<span class="hljs-comment"># åˆ›å»ºé›†åˆ</span>
<span class="hljs-attr">rag_collection</span> = Collection(name=<span class="hljs-string">"rag_kb"</span>, schema=schema)
</code></pre>
<h4 data-id="heading-4">æ­¥éª¤ä¸‰ï¼šé…ç½®ç´¢å¼•</h4>
<p>ä¸ºå‘é‡å­—æ®µåˆ›å»ºç´¢å¼•æ˜¯ä¿è¯é«˜æ•ˆæŸ¥è¯¢çš„å…³é”®ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># é…ç½®ç´¢å¼•å‚æ•°ï¼ˆä»¥IVF_FLATç´¢å¼•ä¸ºä¾‹ï¼‰</span>
index_params = {
    <span class="hljs-string">"index_type"</span>: <span class="hljs-string">"IVF_FLAT"</span>,
    <span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>,  <span class="hljs-comment"># ä½¿ç”¨æ¬§æ°è·ç¦»ä½œä¸ºç›¸ä¼¼åº¦åº¦é‡</span>
    <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nlist"</span>: 1024}  <span class="hljs-comment"># èšç±»ä¸­å¿ƒæ•°é‡ï¼Œå€¼è¶Šå¤§ï¼Œç²¾åº¦è¶Šé«˜ï¼Œæœç´¢è¶Šæ…¢</span>
}
<span class="hljs-comment"># ä¸ºå‘é‡å­—æ®µåˆ›å»ºç´¢å¼•</span>
rag_collection.create_index(field_name=<span class="hljs-string">"vector"</span>, index_params=index_params)
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤å››ï¼šæ’å…¥æ•°æ®</h4>
<p>å°†æ–‡æ¡£å‘é‡åŠå…¶å…ƒæ•°æ®å­˜å…¥é›†åˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å‡è®¾ documents æ˜¯åŒ…å«æ–‡æ¡£æ–‡æœ¬å’Œå¯¹åº”å‘é‡çš„åˆ—è¡¨</span>
<span class="hljs-comment"># ç¤ºä¾‹æ•°æ®</span>
<span class="hljs-attr">documents</span> = [
    {<span class="hljs-string">"doc_id"</span>: <span class="hljs-string">"doc1"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒé¢†åŸŸä¹‹ä¸€..."</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, ..., <span class="hljs-number">0.768</span>]},
    {<span class="hljs-string">"doc_id"</span>: <span class="hljs-string">"doc2"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ·±åº¦å­¦ä¹ æ˜¯åŸºäºç¥ç»ç½‘ç»œçš„æŠ€æœ¯..."</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.3</span>, <span class="hljs-number">0.4</span>, ..., <span class="hljs-number">0.768</span>]},
    <span class="hljs-comment"># ... æ›´å¤šæ•°æ®</span>
]

<span class="hljs-comment"># å‡†å¤‡æ’å…¥çš„æ•°æ®åˆ—è¡¨</span>
<span class="hljs-attr">data</span> = [
    [doc[<span class="hljs-string">"doc_id"</span>] for doc in documents],  <span class="hljs-comment"># IDåˆ—è¡¨ï¼Œè¿™é‡Œç®€å•ä½¿ç”¨doc_id</span>
    [doc[<span class="hljs-string">"doc_id"</span>] for doc in documents],  <span class="hljs-comment"># æ–‡æ¡£IDåˆ—è¡¨</span>
    [doc[<span class="hljs-string">"content"</span>] for doc in documents],  <span class="hljs-comment"># å†…å®¹åˆ—è¡¨</span>
    [doc[<span class="hljs-string">"vector"</span>] for doc in documents]   <span class="hljs-comment"># å‘é‡åˆ—è¡¨</span>
]

<span class="hljs-comment"># æ’å…¥æ•°æ®</span>
<span class="hljs-attr">insert_result</span> = rag_collection.insert(data)
rag_collection.flush()  <span class="hljs-comment"># ç¡®ä¿æ•°æ®è¢«æŒä¹…åŒ–</span>
print(f"å·²æ’å…¥ {len(insert_result.primary_keys)} æ¡æ•°æ®ã€‚")
</code></pre>
<h4 data-id="heading-6">æ­¥éª¤äº”ï¼šæ‰§è¡Œç›¸ä¼¼æ€§æœç´¢</h4>
<p>ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå…ˆå°†å…¶å‘é‡åŒ–ï¼Œç„¶ååœ¨ Milvus ä¸­æœç´¢ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># 1. åŠ è½½é›†åˆåˆ°å†…å­˜ï¼ˆé¦–æ¬¡æœç´¢å‰éœ€è¦ï¼‰</span>
rag_collection.load()

<span class="hljs-comment"># 2. å‡†å¤‡æœç´¢å‚æ•°ï¼ˆéœ€ä¸ç´¢å¼•å‚æ•°åŒ¹é…ï¼‰</span>
<span class="hljs-attr">search_params</span> = {<span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>, <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nprobe"</span>: <span class="hljs-number">10</span>}}  <span class="hljs-comment"># nprobeå®šä¹‰æœç´¢çš„èšç±»ä¸­å¿ƒæ•°é‡</span>

<span class="hljs-comment"># 3. æ‰§è¡Œæœç´¢ï¼ˆå‡è®¾ query_vector æ˜¯ç”¨æˆ·æŸ¥è¯¢è½¬æ¢åçš„å‘é‡ï¼‰</span>
<span class="hljs-attr">results</span> = rag_collection.search(
    <span class="hljs-attr">data</span>=[query_vector],
    <span class="hljs-attr">anns_field</span>=<span class="hljs-string">"vector"</span>,  <span class="hljs-comment"># åœ¨å“ªä¸ªå­—æ®µä¸Šæœç´¢</span>
    <span class="hljs-attr">param</span>=search_params,
    <span class="hljs-attr">limit</span>=<span class="hljs-number">3</span>,  <span class="hljs-comment"># è¿”å›æœ€ç›¸ä¼¼çš„3ä¸ªç»“æœ</span>
    <span class="hljs-attr">output_fields</span>=[<span class="hljs-string">"id"</span>, <span class="hljs-string">"doc_id"</span>, <span class="hljs-string">"content"</span>]  <span class="hljs-comment"># æŒ‡å®šè¿”å›å“ªäº›å…ƒæ•°æ®å­—æ®µ</span>
)

<span class="hljs-comment"># 4. å¤„ç†ç»“æœ</span>
for hits in results:
    for hit in hits:
        print(f"ID: {hit.id}, ç›¸ä¼¼åº¦è·ç¦»: {hit.distance}")
        print(f"å†…å®¹: {hit.entity.get('content')}")
        print("---")
</code></pre>
<h3 data-id="heading-7">ğŸ’¡ æ ¸å¿ƒæŠ€å·§ä¸ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li>
<p><strong>ç´¢å¼•é€‰æ‹©ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>
<p><strong>HNSW</strong>ï¼šé€‚ç”¨äº<strong>é«˜å¬å›ç‡ã€ä½å»¶è¿Ÿ</strong>çš„æœç´¢åœºæ™¯ï¼Œä½†å†…å­˜å ç”¨è¾ƒé«˜ ã€‚</p>
</li>
<li>
<p><strong>IVF_FLAT/IVF_PQ</strong>ï¼š<strong>å¹³è¡¡ç²¾åº¦ã€å†…å­˜å’Œé€Ÿåº¦</strong>çš„é€šç”¨é€‰æ‹©ã€‚IVF_PQé€šè¿‡é‡åŒ–å‹ç¼©å‘é‡ï¼Œèƒ½æ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ï¼Œé€‚åˆè¶…å¤§è§„æ¨¡æ•°æ®é›†ï¼Œä½†ä¼šå¸¦æ¥å°‘é‡ç²¾åº¦æŸå¤± ã€‚</p>
</li>
<li>
<p><strong>CAGRA</strong>ï¼šMilvus 2.4 æ–°å¢ï¼Œä¸º<strong>GPUåŠ é€Ÿ</strong>è®¾è®¡ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æè‡´æ€§èƒ½çš„ç”Ÿæˆå¼AIåº”ç”¨ ã€‚</p>
</li>
<li>
<p><strong>FLAT</strong>ï¼š<strong>ç²¾åº¦100%ä¿è¯</strong>ï¼Œé€‚ç”¨äºæ•°æ®é‡å°ï¼ˆå¦‚ä¸‡çº§ï¼‰æˆ–éœ€è¦ç»å¯¹ç²¾ç¡®ç»“æœçš„åœºæ™¯ ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½è°ƒä¼˜å‚æ•°</strong>ï¼š</p>
<ul>
<li>
<p><strong><code>nlist</code>å’Œ <code>nprobe</code></strong>ï¼šåœ¨IVFç´¢å¼•ä¸­ï¼Œ<code>nlist</code>æ˜¯èšç±»ä¸­å¿ƒæ•°ï¼Œ<code>nprobe</code>æ˜¯æœç´¢æ—¶æ¶‰åŠçš„èšç±»ä¸­å¿ƒæ•°ã€‚å¢åŠ  <code>nprobe</code>èƒ½æé«˜å¬å›ç‡ï¼Œä½†ä¼šé™ä½æœç´¢é€Ÿåº¦ï¼Œéœ€è¦åœ¨ä¸¤è€…é—´æƒè¡¡ ã€‚</p>
</li>
<li>
<p><strong><code>ef</code></strong>ï¼šåœ¨HNSWç´¢å¼•ä¸­ï¼Œæ§åˆ¶æœç´¢æ·±åº¦ï¼Œå€¼è¶Šå¤§ï¼Œç»“æœè¶Šç²¾ç¡®ï¼Œä½†é€Ÿåº¦è¶Šæ…¢ ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æŒä¹…åŒ–ä¸é«˜å¯ç”¨</strong>ï¼šå¯¹äºç”Ÿäº§ç¯å¢ƒï¼ŒåŠ¡å¿…ä½¿ç”¨<strong>åˆ†å¸ƒå¼éƒ¨ç½²</strong>æ¨¡å¼ï¼Œå¹¶ä¾èµ– etcd ç®¡ç†å…ƒæ•°æ®ï¼Œä½¿ç”¨ MinIO æˆ– SSOä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼Œé€šè¿‡ Pulsar ç­‰ç®¡ç†æ—¥å¿—ï¼Œä»¥ç¡®ä¿æ•°æ®å¯é å’ŒæœåŠ¡é«˜å¯ç”¨ ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573738017988149291</link>    <guid>https://juejin.cn/post/7573738017988149291</guid>    <pubDate>2025-11-18T08:17:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988149291" data-draft-id="7573776814948253715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:17:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:17:04.000Z" title="Tue Nov 18 2025 08:17:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ChromaDB æ˜¯ä¸€æ¬¾ä¸“ä¸ºAIåº”ç”¨è®¾è®¡çš„å¼€æºå‘é‡æ•°æ®åº“ï¼Œå®ƒè®©æœºå™¨èƒ½å¤ŸçœŸæ­£â€œç†è§£â€æ•°æ®çš„è¯­ä¹‰ï¼Œè€Œä¸ä»…ä»…æ˜¯åŒ¹é…å…³é”®è¯ã€‚ä¸‹é¢è¿™å¼ å›¾èƒ½å¸®ä½ å¿«é€ŸæŠŠæ¡å®ƒçš„æ ¸å¿ƒè¿ä½œæœºåˆ¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14812f12de8d4a24852a00ccb004d9af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058666&amp;x-signature=X9vn3ngfUanfXb5wlqNT8aqEZ%2Bw%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢ï¼Œæˆ‘å°†å¸¦ä½ æ·±å…¥äº†è§£å¦‚ä½•ç”¨å®ƒè§£å†³å®é™…é—®é¢˜ã€‚</p>
<h3 data-id="heading-0">ğŸ”„ ChromaDB æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>ç†è§£ä»¥ä¸‹å‡ ä¸ªå…³é”®æ¦‚å¿µæ˜¯ç†Ÿç»ƒä½¿ç”¨ChromaDBçš„åŸºç¡€ ï¼š</p>
<ul>
<li>
<p><strong>é›†åˆï¼ˆCollectionï¼‰</strong> ï¼šç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„â€œè¡¨â€ï¼Œæ˜¯å­˜å‚¨ç›¸å…³æ•°æ®çš„åŸºæœ¬å•å…ƒã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£ï¼ˆDocumentï¼‰</strong> ï¼šä½ æƒ³è¦å­˜å‚¨å’Œæœç´¢çš„åŸå§‹æ•°æ®æœ¬èº«ï¼Œæ¯”å¦‚ä¸€æ®µæ–‡æœ¬ã€‚</p>
</li>
<li>
<p><strong>åµŒå…¥å‘é‡ï¼ˆEmbeddingï¼‰</strong> ï¼šæ–‡æ¡£ç»è¿‡Embeddingæ¨¡å‹è½¬æ¢åå¾—åˆ°çš„ä¸€ä¸²é«˜ç»´æ•°å­—ï¼Œä»£è¡¨äº†å…¶è¯­ä¹‰ç‰¹å¾ã€‚è¿™æ˜¯ChromaDBæ“ä½œçš„çœŸæ­£å¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>å…ƒæ•°æ®ï¼ˆMetadataï¼‰</strong> ï¼šä¸æ–‡æ¡£ç›¸å…³çš„é™„åŠ ä¿¡æ¯ï¼ˆå¦‚ä½œè€…ã€åˆ†ç±»ã€æ¥æºï¼‰ï¼Œå¯ç”¨äºç²¾ç¡®è¿‡æ»¤ã€‚</p>
</li>
<li>
<p><strong>åµŒå…¥å‡½æ•°ï¼ˆEmbedding Functionï¼‰</strong> ï¼šè´Ÿè´£å°†æ–‡æ¡£è½¬æ¢ä¸ºå‘é‡çš„æ¨¡å‹ã€‚ChromaDBæ”¯æŒå¤šç§å†…ç½®åŠè‡ªå®šä¹‰æ¨¡å‹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½ä¸å®æˆ˜åº”ç”¨</h3>
<h4 data-id="heading-2">1. ç¯å¢ƒé…ç½®ä¸å¿«é€Ÿå¼€å§‹</h4>
<p>é¦–å…ˆå®‰è£…ChromaDBï¼Œå¹¶æ ¹æ®ä½ çš„ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„å®¢æˆ·ç«¯ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®‰è£…</span>
pip install chromadb

<span class="hljs-comment"># åœºæ™¯1: å®éªŒè°ƒè¯• - ä½¿ç”¨å†…å­˜å®¢æˆ·ç«¯ï¼ˆæ•°æ®ä¸ä¿å­˜ï¼‰</span>
<span class="hljs-attr">client</span> = chromadb.Client()

<span class="hljs-comment"># åœºæ™¯2: æœ¬åœ°åº”ç”¨ - ä½¿ç”¨æŒä¹…åŒ–å®¢æˆ·ç«¯ï¼ˆæ•°æ®ä¿å­˜åˆ°ç£ç›˜ï¼‰</span>
<span class="hljs-attr">client</span> = chromadb.PersistentClient(path=<span class="hljs-string">"./chroma_db"</span>)

<span class="hljs-comment"># åœºæ™¯3: ç”Ÿäº§ç¯å¢ƒ - è¿æ¥è¿œç¨‹æœåŠ¡å™¨ </span>
<span class="hljs-comment"># é¦–å…ˆç”¨ Docker å¯åŠ¨æœåŠ¡ç«¯: docker run -p 8000:8000 chromadb/chroma</span>
<span class="hljs-attr">client</span> = chromadb.HttpClient(host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-number">8000</span>)
</code></pre>
<h4 data-id="heading-3">2. åˆ›å»ºé›†åˆå¹¶æ·»åŠ æ•°æ®</h4>
<p>åˆ›å»ºä¸€ä¸ªé›†åˆæ¥ç®¡ç†ä½ çš„æ•°æ®ã€‚å…³é”®æ˜¯é€‰æ‹©åˆé€‚çš„<strong>åµŒå…¥å‡½æ•°ï¼ˆEmbedding Functionï¼‰</strong> ï¼Œå®ƒç›´æ¥å½±å“å‘é‡åŒ–è´¨é‡å’Œæœç´¢æ•ˆæœ ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import chromadb
from chromadb.utils import embedding_functions

<span class="hljs-comment"># è¿æ¥å®¢æˆ·ç«¯</span>
<span class="hljs-attr">client</span> = chromadb.PersistentClient(path=<span class="hljs-string">"./my_chroma_db"</span>)

<span class="hljs-comment"># é€‰æ‹©åµŒå…¥å‡½æ•° - ä»¥ Sentence Transformer ä¸ºä¾‹ï¼ˆæœ¬åœ°è¿è¡Œï¼Œå…è´¹ï¼‰</span>
<span class="hljs-attr">sentence_transformer_ef</span> = embedding_functions.SentenceTransformerEmbeddingFunction(model_name=<span class="hljs-string">"all-MiniLM-L6-v2"</span>)

<span class="hljs-comment"># åˆ›å»ºé›†åˆæ—¶æŒ‡å®šåµŒå…¥å‡½æ•°</span>
<span class="hljs-attr">collection</span> = client.get_or_create_collection(
    <span class="hljs-attr">name</span>=<span class="hljs-string">"my_knowledge_base"</span>,
    <span class="hljs-attr">embedding_function</span>=sentence_transformer_ef <span class="hljs-comment"># æŒ‡å®šåµŒå…¥å‡½æ•°</span>
)

<span class="hljs-comment"># å‡†å¤‡å¹¶æ·»åŠ æ•°æ®</span>
<span class="hljs-attr">documents</span> = [
    <span class="hljs-string">"ChromaDBæ˜¯ä¸€ä¸ªå¼€æºçš„å‘é‡æ•°æ®åº“ã€‚"</span>,
    <span class="hljs-string">"ç†ŠçŒ«æ˜¯ä¸­å›½çš„å›½å®ï¼Œä¸»è¦ä»¥ç«¹å­ä¸ºé£Ÿã€‚"</span>,
    <span class="hljs-string">"å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­è¡¨ç°å‡ºè‰²ã€‚"</span>,
    <span class="hljs-string">"åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½ï¼Œæ˜¯ä¸€åº§å†å²æ‚ ä¹…çš„åŸå¸‚ã€‚"</span>
]
<span class="hljs-attr">metadatas</span> = [
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"database"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"animal"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"nature"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"AI"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"city"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"geography"</span>}
]
<span class="hljs-attr">ids</span> = [<span class="hljs-string">"doc1"</span>, <span class="hljs-string">"doc2"</span>, <span class="hljs-string">"doc3"</span>, <span class="hljs-string">"doc4"</span>]

<span class="hljs-comment"># æ·»åŠ æ•°æ®åˆ°é›†åˆï¼ŒChromaDBä¼šè‡ªåŠ¨è°ƒç”¨åµŒå…¥å‡½æ•°å°†æ–‡æ¡£è½¬ä¸ºå‘é‡</span>
collection.add(
    <span class="hljs-attr">documents</span>=documents,
    <span class="hljs-attr">metadatas</span>=metadatas,
    <span class="hljs-attr">ids</span>=ids
)
print("æ•°æ®æ·»åŠ æˆåŠŸï¼")
</code></pre>
<h4 data-id="heading-4">3. æ‰§è¡Œè¯­ä¹‰æœç´¢ä¸è¿‡æ»¤</h4>
<p>è¿™æ˜¯ChromaDBçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œå®ƒèƒ½æ‰¾åˆ°è¯­ä¹‰ä¸Šæœ€ç›¸è¿‘çš„ç»“æœï¼Œè€Œä¸ä»…ä»…æ˜¯å…³é”®è¯åŒ¹é…ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åŸºç¡€è¯­ä¹‰æœç´¢ï¼šç›´æ¥ä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢</span>
<span class="hljs-attr">results</span> = collection.query(
    <span class="hljs-attr">query_texts</span>=[<span class="hljs-string">"ä¸€ç§åƒç«¹å­çš„åŠ¨ç‰©"</span>], <span class="hljs-comment"># æŸ¥è¯¢æ–‡æœ¬æ˜¯â€œç†ŠçŒ«â€çš„å¦ä¸€ç§è¯´æ³•</span>
    <span class="hljs-attr">n_results</span>=<span class="hljs-number">2</span>
)

print("è¯­ä¹‰æœç´¢ç»“æœæ˜¾ç¤ºå®ƒèƒ½ç†è§£å«ä¹‰:")
for i, doc in enumerate(results<span class="hljs-section">['documents']</span><span class="hljs-section">[0]</span>):
    print(f"{i+1}. {doc} (ID: {results<span class="hljs-section">['ids']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>})")
    print(f"   å…ƒæ•°æ®: {results<span class="hljs-section">['metadatas']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>}")
    print(f"   ç›¸ä¼¼åº¦è·ç¦»: {results<span class="hljs-section">['distances']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>:.4f}") <span class="hljs-comment"># è·ç¦»è¶Šå°è¶Šç›¸ä¼¼</span>

<span class="hljs-comment"># ç»„åˆè¿‡æ»¤æŸ¥è¯¢ï¼šè¯­ä¹‰æœç´¢ + å…ƒæ•°æ®æ¡ä»¶ </span>
print("\nç»“åˆå…ƒæ•°æ®è¿‡æ»¤åçš„ç»“æœï¼ˆåªæœç´¢æŠ€æœ¯ç±»æ–‡æ¡£ï¼‰:")
<span class="hljs-attr">filtered_results</span> = collection.query(
    <span class="hljs-attr">query_texts</span>=[<span class="hljs-string">"ä¸€ç§å¼€æºçš„æ•°æ®åº“æŠ€æœ¯"</span>],
    <span class="hljs-attr">n_results</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">where</span>={<span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>} <span class="hljs-comment"># å…ƒæ•°æ®è¿‡æ»¤æ¡ä»¶ï¼šåªè¿”å› type ä¸º tech çš„æ–‡æ¡£</span>
)
for i, doc in enumerate(filtered_results<span class="hljs-section">['documents']</span><span class="hljs-section">[0]</span>):
    print(f"{i+1}. {doc}")
</code></pre>
<h4 data-id="heading-5">4. å®æˆ˜æ¡ˆä¾‹ï¼šä¸ºAI Agentæ·»åŠ é•¿æœŸè®°å¿†</h4>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„åº”ç”¨åœºæ™¯ ã€‚æ™®é€šçš„AIå¯¹è¯æœºå™¨äººæ²¡æœ‰è®°å¿†ï¼Œæ¯æ¬¡å¯¹è¯éƒ½æ˜¯æ–°çš„å¼€å§‹ã€‚åˆ©ç”¨ChromaDBï¼Œæˆ‘ä»¬å¯ä»¥è®©å®ƒè®°ä½ä¹‹å‰çš„å¯¹è¯å†…å®¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentMemory</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, persist_directory=<span class="hljs-string">"./agent_memory"</span></span>):
        self.client = chromadb.PersistentClient(path=persist_directory)
        <span class="hljs-comment"># ä½¿ç”¨ä¸€ä¸ªèƒ½ç†è§£ä¸­æ–‡çš„åµŒå…¥æ¨¡å‹</span>
        self.embedding_function = embedding_functions.SentenceTransformerEmbeddingFunction(model_name=<span class="hljs-string">"paraphrase-multilingual-MiniLM-L12-v2"</span>)
        self.collection = self.client.get_or_create_collection(
            name=<span class="hljs-string">"conversation_history"</span>,
            embedding_function=self.embedding_function
        )
        self._next_id = <span class="hljs-number">1</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">remember</span>(<span class="hljs-params">self, conversation_text, metadata=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""è®°ä½ä¸€æ®µå¯¹è¯"""</span>
        doc_id = <span class="hljs-string">f"memory_<span class="hljs-subst">{self._next_id}</span>"</span>
        self._next_id += <span class="hljs-number">1</span>
        self.collection.add(
            documents=[conversation_text],
            metadatas=[metadata] <span class="hljs-keyword">if</span> metadata <span class="hljs-keyword">else</span> [{}],
            ids=[doc_id]
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Agent å·²è®°ä½ä¸€æ®µå¯¹è¯ (ID: <span class="hljs-subst">{doc_id}</span>)"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">recall_relevant_memories</span>(<span class="hljs-params">self, current_query, n_results=<span class="hljs-number">3</span></span>):
        <span class="hljs-string">"""æ ¹æ®å½“å‰é—®é¢˜ï¼Œå›å¿†ç›¸å…³çš„å†å²å¯¹è¯"""</span>
        results = self.collection.query(
            query_texts=[current_query],
            n_results=n_results
        )
        <span class="hljs-keyword">return</span> results

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
agent_brain = AgentMemory()

<span class="hljs-comment"># æ¨¡æ‹Ÿä¸€äº›å†å²å¯¹è¯</span>
agent_brain.remember(<span class="hljs-string">"ç”¨æˆ·æ˜¨å¤©è¯´å–œæ¬¢ç§‘å¹»ç”µå½±ï¼Œç‰¹åˆ«æ˜¯å…³äºæ—¶é—´æ—…è¡Œçš„ã€‚"</span>, metadata={<span class="hljs-string">"date"</span>: <span class="hljs-string">"2024-11-17"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"preference"</span>})
agent_brain.remember(<span class="hljs-string">"æˆ‘ä»¬ä¸Šå‘¨è®¨è®ºè¿‡ã€Šä¸‰ä½“ã€‹è¿™æœ¬ä¹¦çš„é»‘æš—æ£®æ—æ³•åˆ™ã€‚"</span>, metadata={<span class="hljs-string">"date"</span>: <span class="hljs-string">"2024-11-10"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"discussion"</span>})

<span class="hljs-comment"># ä»Šå¤©ç”¨æˆ·æå‡ºäº†ä¸€ä¸ªæ–°é—®é¢˜</span>
today_question = <span class="hljs-string">"æœ‰æ²¡æœ‰ç±»ä¼¼ã€Šä¸‰ä½“ã€‹é‚£æ ·æœ‰æ·±åº¦è®¾å®šçš„ç”µå½±æ¨èï¼Ÿ"</span>
relevant_memories = agent_brain.recall_relevant_memories(today_question)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨æˆ·å½“å‰é—®é¢˜:"</span>, today_question)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nAgent å›å¿†èµ·çš„ç›¸å…³å†å²å¯¹è¯ï¼š"</span>)
<span class="hljs-keyword">for</span> i, memory <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(relevant_memories[<span class="hljs-string">'documents'</span>][<span class="hljs-number">0</span>]):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>. <span class="hljs-subst">{memory}</span>"</span>)
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ä½ é—®å‡ºæ–°é—®é¢˜æ—¶ï¼ŒAI Agentä¸å†æ˜¯â€œå¤±å¿†â€çš„ã€‚å®ƒä¼šè‡ªåŠ¨ä»ChromaDBä¸­æ‰¾å‡ºè¯­ä¹‰ä¸Šæœ€ç›¸å…³çš„å†å²å¯¹è¯ï¼Œä»è€Œç»™å‡ºæ›´å…·è¿ç»­æ€§ã€æ›´ä¸ªæ€§åŒ–çš„å›ç­”ã€‚è¿™æ­£æ˜¯<strong>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰</strong> â€‹ ç³»ç»Ÿçš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ ã€‚</p>
<h3 data-id="heading-6">ğŸ’¡ æœ€ä½³å®è·µä¸æ€»ç»“</h3>






























<table><thead><tr><th>ç‰¹æ€§/åœºæ™¯</th><th>æ¨èåšæ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åµŒå…¥æ¨¡å‹é€‰æ‹©</strong>â€‹</td><td><strong>èµ·æ­¥/æœ¬åœ°å¼€å‘</strong>ï¼š<code>all-MiniLM-L6-v2</code> <strong>ç”Ÿäº§/é‡è´¨é‡</strong>ï¼š<code>text-embedding-ada-002</code>(OpenAI) <strong>å¤šè¯­è¨€/ä¸­æ–‡</strong>ï¼š<code>text2vec-base-chinese</code></td><td>æ¨¡å‹é€‰æ‹©ç›´æ¥å½±å“æœç´¢ç²¾åº¦ï¼Œä¸­æ–‡åº”ç”¨åŠ¡å¿…é€‰æ”¯æŒä¸­æ–‡çš„æ¨¡å‹ã€‚</td></tr><tr><td><strong>å…ƒæ•°æ®è®¾è®¡</strong>â€‹</td><td>æå‰è§„åˆ’å¥½è¦è®°å½•çš„å­—æ®µï¼Œå¦‚ <code>source</code>, <code>category</code>, <code>author</code>, <code>timestamp</code>ã€‚</td><td>ä¸°å¯Œçš„å…ƒæ•°æ®æ˜¯å®ç°ç²¾å‡†è¿‡æ»¤å’Œé«˜æ•ˆç®¡ç†çš„å…³é”® ã€‚</td></tr><tr><td><strong>éƒ¨ç½²æ¨¡å¼</strong>â€‹</td><td><strong>å¼€å‘æµ‹è¯•</strong>ï¼šå†…å­˜æ¨¡å¼æˆ–æŒä¹…åŒ–æ¨¡å¼ <strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼ï¼ˆå¦‚Dockeréƒ¨ç½²ï¼‰</td><td>ç”Ÿäº§ç¯å¢ƒä¸€å®šè¦ç”¨æœåŠ¡ç«¯æ¨¡å¼ï¼Œä¿è¯ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚</td></tr><tr><td><strong>æ€§èƒ½ä¼˜åŒ–</strong>â€‹</td><td>å¯¹å¤§è§„æ¨¡æ•°æ®é›†ï¼Œå¯è°ƒæ•´HNSWç´¢å¼•å‚æ•°æˆ–åœ¨åº”ç”¨å±‚æ·»åŠ ç¼“å­˜ç­–ç•¥ ã€‚</td><td>æ ¹æ®æ•°æ®é‡å’Œæ€§èƒ½è¦æ±‚è¿›è¡Œè°ƒä¼˜ã€‚</td></tr></tbody></table>
<p><strong>ChromaDBçš„æ ¸å¿ƒä»·å€¼</strong>åœ¨äºï¼Œå®ƒä»¥ä¸€ç§å¼€å‘è€…å‹å¥½ï¼ˆAPIç®€å•ï¼‰ä¸”èµ„æºå‹å¥½ï¼ˆè½»é‡çº§ï¼‰çš„æ–¹å¼ï¼Œå°†å¼ºå¤§çš„è¯­ä¹‰æœç´¢èƒ½åŠ›å¸¦ç»™äº†æ¯ä¸€ä½å¼€å‘è€…ï¼Œæå¤§åœ°é™ä½äº†æ„å»ºæ™ºèƒ½åº”ç”¨çš„é—¨æ§› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573669819029209098</link>    <guid>https://juejin.cn/post/7573669819029209098</guid>    <pubDate>2025-11-18T08:16:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819029209098" data-draft-id="7573669819029176330" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-18T08:16:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ™šæ«"/> <meta itemprop="url" content="https://juejin.cn/user/2327002779758760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2327002779758760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ™šæ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:16:22.000Z" title="Tue Nov 18 2025 08:16:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802ed047c120429a98105172c4ae2d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5pma5p6r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058582&amp;x-signature=WlKy41c0uGmX0id4N4%2Bi29rOMvg%3D" alt="image.png" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜æ™šæ«ã€‚</p>
<p>æœ€è¿‘æœ‰äº†[AIç¼–ç¨‹]ï¼ŒPythonçš„çƒ­åº¦é™ä½äº†ï¼Œæˆ‘ä¹Ÿç»ˆäºæœ‰æ—¶é—´å…³æ³¨ä¸€ç›´æ„Ÿå…´è¶£çš„Pythonè¯é¢˜ï¼Œè€Œä¸æ˜¯å›ç­”Pythonæ€ä¹ˆå®‰è£…è¿™ç§å…¥é—¨é—®é¢˜äº†ã€‚</p>
<p>æˆ‘å¯¹äºPythonå…´è¶£çš„æ¢ç´¢ï¼Œä¸»è¦åŸºäºä¸¤æœ¬ä¹¦ï¼šã€Šæµç•…çš„Pythonã€‹ã€ã€ŠPythoné«˜æ€§èƒ½ç¼–ç¨‹ã€‹ã€‚è¶Šæ·±å…¥äº†è§£Pythoné«˜çº§è¯­æ³•ï¼Œè¶Šèƒ½æ·±å…¥ç†è§£è¿™é—¨è¯­è¨€è®¾è®¡çš„ç²¾å¦™ä¹‹å¤„ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠPythonä¸–ç•Œä¸­é‚£äº›å½¢å½¢è‰²è‰²çš„æ–‡ä»¶ç±»å‹ã€‚</p>
<blockquote>
<p>ä½œä¸ºä¸€ä¸ªPythonå¼€å‘è€…ï¼Œä½ è‚¯å®šç»å¸¸è·Ÿ<code>.py</code>æ–‡ä»¶æ‰“äº¤é“ã€‚ä½†Pythonç”Ÿæ€ä¸­å…¶å®è¿˜æœ‰å¾ˆå¤šå…¶ä»–é‡è¦çš„æ–‡ä»¶ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç”¨é€”ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ğŸ“ Pythonæ ¸å¿ƒæ–‡ä»¶ç±»å‹</h2>





















































<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ä¸»è¦ç”¨é€”</th><th>æ˜¯å¦å¯è¯»</th><th>ç”Ÿæˆæ–¹å¼</th></tr></thead><tbody><tr><td><strong>.py</strong></td><td>Pythonæºä»£ç </td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr><tr><td><strong>.pyc</strong></td><td>ç¼–è¯‘åçš„å­—èŠ‚ç </td><td>âŒ å¦</td><td>Pythonè‡ªåŠ¨ç”Ÿæˆ</td></tr><tr><td><strong>.pyo</strong></td><td>ä¼˜åŒ–åçš„å­—èŠ‚ç </td><td>âŒ å¦</td><td>Pythonå¸¦-Oå‚æ•°ç”Ÿæˆ</td></tr><tr><td><strong>.pyd</strong></td><td>WindowsåŠ¨æ€é“¾æ¥åº“</td><td>âŒ å¦</td><td>Cython/Cæ‰©å±•ç¼–è¯‘</td></tr><tr><td><strong>.so</strong></td><td>Linux/MacåŠ¨æ€åº“</td><td>âŒ å¦</td><td>Cython/Cæ‰©å±•ç¼–è¯‘</td></tr><tr><td><strong>.pyw</strong></td><td>æ— æ§åˆ¶å°Pythonè„šæœ¬</td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr><tr><td><strong>.pyx</strong></td><td>Cythonæºä»£ç </td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr></tbody></table>
<p>æœ‰ä¸€äº›æ–‡ä»¶ç±»å‹ä½ å¯èƒ½æ²¡è§è¿‡ï¼Œæœ‰2ç§åŸå› ï¼š</p>
<ul>
<li>ä½ æ²¡æœ‰è¿™ä¹ˆå¤æ‚çš„å·¥ä½œåœºæ™¯ï¼Œä¾‹å¦‚soæ–‡ä»¶çš„ä½¿ç”¨</li>
<li>éƒ¨åˆ†ç±»å‹è¢«ç¼–è¾‘å™¨ç»™è‡ªåŠ¨å±è”½äº†ï¼Œä¾‹å¦‚ï¼špycæ–‡ä»¶</li>
</ul>
<h2 data-id="heading-1">ğŸ”§ è¯¦ç»†è§£æ</h2>
<h3 data-id="heading-2">1. .py - Pythonæºä»£ç æ–‡ä»¶</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„Pythonæ–‡ä»¶ï¼ŒåŒ…å«äººç±»å¯è¯»çš„Pythonä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># hello.py</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(greet(<span class="hljs-string">"Pythonå¼€å‘è€…: ç¨‹åºå‘˜æ™šæ«"</span>))
</code></pre>
<h3 data-id="heading-3">2. .pyc - ç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶</h3>
<p>Pythonè§£é‡Šå™¨å°†.pyæ–‡ä»¶ç¼–è¯‘æˆå­—èŠ‚ç ï¼ŒåŠ é€Ÿåç»­æ‰§è¡Œã€‚</p>
<p><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Pythonä¼šè‡ªåŠ¨åœ¨__pycache__ç›®å½•ç”Ÿæˆ.pycæ–‡ä»¶</span>
python -m py_compile hello.py
</code></pre>
<p><strong>æ–‡ä»¶ç»“æ„</strong>ï¼š</p>
<ul>
<li>ä½äº<code>__pycache__</code>ç›®å½•</li>
<li>å‘½åæ ¼å¼ï¼š<code>hello.cpython-39.pyc</code></li>
<li>åŒ…å«Pythonå­—èŠ‚ç ï¼Œä¸æ˜¯æœºå™¨ç </li>
</ul>
<h3 data-id="heading-4">3. .pyd - WindowsåŠ¨æ€é“¾æ¥åº“</h3>
<p><code>.pyd</code>æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯DLLæ–‡ä»¶ï¼Œä½†å¯ä»¥è¢«Pythonç›´æ¥å¯¼å…¥ã€‚</p>
<blockquote>
<p>è¿™ç§ç±»å‹ï¼Œå¯ä»¥ç†è§£ä¸ºjavaä¸­çš„jaråŒ…æ ¼å¼ï¼Œå¯ä»¥æ‰“åŒ…åç»™åˆ«äººä½¿ç”¨ã€‚</p>
</blockquote>
<p><strong>åˆ›å»ºç¤ºä¾‹</strong>ï¼ˆä½¿ç”¨Cythonï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…Cython</span>
pip install cython

<span class="hljs-comment"># åˆ›å»ºCythonæ–‡ä»¶</span>
<span class="hljs-comment"># hello.pyx</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cython_greet</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello from Cython, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-comment"># setup.py</span>
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup
<span class="hljs-keyword">from</span> Cython.Build <span class="hljs-keyword">import</span> cythonize

setup(ext_modules=cythonize(<span class="hljs-string">"hello.pyx"</span>))

<span class="hljs-comment"># ç¼–è¯‘ç”Ÿæˆ.pyd</span>
python setup.py build_ext --inplace
</code></pre>
<p><strong>ä½¿ç”¨.pydæ–‡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åƒæ™®é€šæ¨¡å—ä¸€æ ·å¯¼å…¥</span>
<span class="hljs-keyword">import</span> hello
<span class="hljs-built_in">print</span>(hello.cython_greet(<span class="hljs-string">"ç¨‹åºå‘˜æ™šæ«"</span>))
</code></pre>
<h3 data-id="heading-5">4. .pyx - Cythonæºä»£ç æ–‡ä»¶</h3>
<p>Cythonæ˜¯Pythonçš„è¶…é›†ï¼Œå…è®¸ç¼–å†™Cæ‰©å±•ã€‚</p>
<pre><code class="hljs language-cython" lang="cython"># fastmath.pyx
def fibonacci(int n):
    cdef int i
    cdef double a = 0.0, b = 1.0
    for i in range(n):
        a, b = b, a + b
    return a
</code></pre>
<h3 data-id="heading-6">5. .pyw - æ— æ§åˆ¶å°è„šæœ¬</h3>
<p>åœ¨Windowsä¸Šï¼Œ<code>.pyw</code>æ–‡ä»¶è¿è¡Œæ—¶ä¸ä¼šæ˜¾ç¤ºæ§åˆ¶å°çª—å£ï¼Œé€‚åˆGUIåº”ç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># my_app.pyw</span>
<span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk

root = tk.Tk()
root.title(<span class="hljs-string">"æ— æ§åˆ¶å°åº”ç”¨"</span>)
root.mainloop()
</code></pre>
<h2 data-id="heading-7">ğŸ“¦ åŒ…ä¸åˆ†å‘æ–‡ä»¶</h2>
<h3 data-id="heading-8">åŒ…ç›¸å…³æ–‡ä»¶</h3>

















<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong><strong>init</strong>.py</strong></td><td>åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼ˆPython 3.3+å¯é€‰ï¼‰</td></tr><tr><td><strong><strong>main</strong>.py</strong></td><td>åŒ…ä½œä¸ºè„šæœ¬æ‰§è¡Œæ—¶çš„å…¥å£</td></tr></tbody></table>
<h3 data-id="heading-9">åˆ†å‘ä¸å®‰è£…</h3>

































<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.whl</strong></td><td>PythonåŒ…çš„åˆ†å‘æ ¼å¼ï¼ˆwheelï¼‰</td></tr><tr><td><strong>.egg</strong></td><td>æ—§ç‰ˆåŒ…åˆ†å‘æ ¼å¼</td></tr><tr><td><strong>setup.py</strong></td><td>åŒ…å®‰è£…è„šæœ¬</td></tr><tr><td><strong>setup.cfg</strong></td><td>åŒ…é…ç½®</td></tr><tr><td><strong>pyproject.toml</strong></td><td>ç°ä»£åŒ…é…ç½®</td></tr><tr><td><strong>requirements.txt</strong></td><td>ä¾èµ–åˆ—è¡¨</td></tr></tbody></table>
<h2 data-id="heading-10">ğŸ› ï¸ é…ç½®æ–‡ä»¶ç±»å‹</h2>
<h3 data-id="heading-11">é¡¹ç›®é…ç½®</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># pyproject.tomlï¼ˆç°ä»£Pythoné¡¹ç›®ï¼‰</span>
[build-system]
requires = [<span class="hljs-string">"setuptools"</span>, <span class="hljs-string">"wheel"</span>]

[project]
name = <span class="hljs-string">"my-project"</span>
version = <span class="hljs-string">"0.1.0"</span>

<span class="hljs-comment"># setup.cfgï¼ˆä¼ ç»Ÿé…ç½®ï¼‰</span>
[metadata]
name = my-project
version = <span class="hljs-number">0.1</span><span class="hljs-number">.0</span>

<span class="hljs-comment"># requirements.txt</span>
requests&gt;=<span class="hljs-number">2.25</span><span class="hljs-number">.0</span>
pandas&gt;=<span class="hljs-number">1.3</span><span class="hljs-number">.0</span>
</code></pre>
<h3 data-id="heading-12">ç¯å¢ƒä¸å·¥å…·é…ç½®</h3>

























<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.python-version</strong></td><td>pyenvç‰ˆæœ¬æ–‡ä»¶</td></tr><tr><td><strong>Pipfile</strong></td><td>pipenvä¾èµ–ç®¡ç†</td></tr><tr><td><strong>Pipfile.lock</strong></td><td>ä¾èµ–é”æ–‡ä»¶</td></tr><tr><td><strong>environment.yml</strong></td><td>condaç¯å¢ƒé…ç½®</td></tr></tbody></table>
<h2 data-id="heading-13">ğŸ” ç‰¹æ®Šç”¨é€”æ–‡ä»¶</h2>
<h3 data-id="heading-14">1. .pyi - å­˜æ ¹æ–‡ä»¶</h3>
<p>ç”¨äºç±»å‹æç¤ºï¼Œä¸åŒ…å«å®ç°ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># math.pyi</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sqrt</span>(<span class="hljs-params">x: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">float</span>: ...
<span class="hljs-keyword">def</span> <span class="hljs-title function_">pow</span>(<span class="hljs-params">x: <span class="hljs-built_in">float</span>, y: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">float</span>: ...
</code></pre>
<h3 data-id="heading-15">2. .pth - è·¯å¾„é…ç½®æ–‡ä»¶</h3>
<p>åœ¨Pythonè·¯å¾„ä¸­æ·»åŠ è‡ªå®šä¹‰è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># my_paths.pth</span>
/home/user/my_python_libs
../relative/path/to/modules
</code></pre>
<h3 data-id="heading-16">3. .pyz - è‡ªåŒ…å«åº”ç”¨</h3>
<p>åŒ…å«æ‰€æœ‰ä¾èµ–çš„zipåº”ç”¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º.pyzæ–‡ä»¶</span>
python -m zipapp my_app -o app.pyz

<span class="hljs-comment"># è¿è¡Œ</span>
python app.pyz
</code></pre>
<h2 data-id="heading-17">ğŸ’» å¼€å‘å·¥å…·æ–‡ä»¶</h2>
<h3 data-id="heading-18">æµ‹è¯•ç›¸å…³</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># test_example.py</span>
<span class="hljs-keyword">import</span> pytest

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_addition</span>():
    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">2</span>

<span class="hljs-comment"># conftest.pyï¼ˆpytesté…ç½®ï¼‰</span>
<span class="hljs-keyword">import</span> pytest

<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_data</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"key"</span>: <span class="hljs-string">"value"</span>}
</code></pre>
<h3 data-id="heading-19">ä»£ç è´¨é‡</h3>

























<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.pylintrc</strong></td><td>Pylinté…ç½®</td></tr><tr><td><strong>.flake8</strong></td><td>Flake8é…ç½®</td></tr><tr><td><strong>.coveragerc</strong></td><td>æµ‹è¯•è¦†ç›–ç‡é…ç½®</td></tr><tr><td><strong>.pre-commit-config.yaml</strong></td><td>Gité’©å­é…ç½®</td></tr></tbody></table>
<h2 data-id="heading-20">ğŸ¯ å®é™…é¡¹ç›®ç¤ºä¾‹</h2>
<p>ä¸€ä¸ªå…¸å‹çš„Pythoné¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css">my_project/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ __init__<span class="hljs-selector-class">.py</span>
â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.py</span>
â”‚   â””â”€â”€ utils<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__<span class="hljs-selector-class">.py</span>
â”‚   â””â”€â”€ test_main<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ conf<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ <span class="hljs-selector-class">.python-version</span>
â”œâ”€â”€ pyproject<span class="hljs-selector-class">.toml</span>
â”œâ”€â”€ requirements<span class="hljs-selector-class">.txt</span>
â”œâ”€â”€ setup<span class="hljs-selector-class">.py</span>
â””â”€â”€ README<span class="hljs-selector-class">.md</span>
</code></pre>
<h2 data-id="heading-21">ğŸ’¡ å®ç”¨æŠ€å·§</h2>
<h3 data-id="heading-22">1. æŸ¥çœ‹.pycæ–‡ä»¶å†…å®¹</h3>
<pre><code class="hljs language-bash" lang="bash">python -m dis hello.pyc
</code></pre>
<h3 data-id="heading-23">2. å°†PythonåŒ…ç¼–è¯‘æˆ.pyd</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨Cythonæ‰¹é‡ç¼–è¯‘</span>
<span class="hljs-keyword">from</span> Cython.Build <span class="hljs-keyword">import</span> cythonize
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup, Extension

extensions = [
    Extension(<span class="hljs-string">"my_module"</span>, [<span class="hljs-string">"my_module.pyx"</span>])
]

setup(ext_modules=cythonize(extensions))
</code></pre>
<h3 data-id="heading-24">3. åˆ›å»ºä¸“ä¸šçš„åˆ†å‘åŒ…</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># setup.py</span>
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup, find_packages

setup(
    name=<span class="hljs-string">"my-package"</span>,
    version=<span class="hljs-string">"1.0.0"</span>,
    packages=find_packages(),
    install_requires=[
        <span class="hljs-string">"requests&gt;=2.25.0"</span>,
    ],
    entry_points={
        <span class="hljs-string">'console_scripts'</span>: [
            <span class="hljs-string">'my-command=my_package.cli:main'</span>,
        ],
    },
)
</code></pre>
<h2 data-id="heading-25">ğŸš€ æ€§èƒ½å¯¹æ¯”ï¼š.py vs .pyd</h2>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œç¼–è¯‘æˆ.pydå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ€§èƒ½æµ‹è¯•ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> timeit

<span class="hljs-comment"># Pythonç‰ˆæœ¬</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">python_fib</span>(<span class="hljs-params">n</span>):
    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> n
    <span class="hljs-keyword">return</span> python_fib(n-<span class="hljs-number">1</span>) + python_fib(n-<span class="hljs-number">2</span>)

<span class="hljs-comment"># Cythonç¼–è¯‘ç‰ˆæœ¬ï¼ˆå‡è®¾å·²ç¼–è¯‘ä¸º.pydï¼‰</span>
<span class="hljs-keyword">from</span> cython_fib <span class="hljs-keyword">import</span> cython_fib

<span class="hljs-comment"># æµ‹è¯•æ€§èƒ½</span>
n = <span class="hljs-number">35</span>
python_time = timeit.timeit(<span class="hljs-keyword">lambda</span>: python_fib(n), number=<span class="hljs-number">1</span>)
cython_time = timeit.timeit(<span class="hljs-keyword">lambda</span>: cython_fib(n), number=<span class="hljs-number">1</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Python: <span class="hljs-subst">{python_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Cython: <span class="hljs-subst">{cython_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŠ é€Ÿæ¯”: <span class="hljs-subst">{python_time/cython_time:<span class="hljs-number">.1</span>f}</span>x"</span>)
</code></pre>
<h2 data-id="heading-26">ğŸ“Š æ€»ç»“</h2>
<p>Pythonçš„æ–‡ä»¶ç”Ÿæ€ç³»ç»Ÿéå¸¸ä¸°å¯Œï¼Œä»æºä»£ç åˆ°ç¼–è¯‘æ–‡ä»¶ï¼Œä»é…ç½®åˆ°åˆ†å‘ï¼Œæ¯ç§æ–‡ä»¶ç±»å‹éƒ½æœ‰å…¶ç‰¹å®šç”¨é€”ï¼š</p>
<ul>
<li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šä¸»è¦ä½¿ç”¨<code>.py</code>ã€<code>.pyx</code></li>
<li><strong>è¿è¡Œé˜¶æ®µ</strong>ï¼šæ¶‰åŠ<code>.pyc</code>ã€<code>.pyd</code>ã€<code>.so</code></li>
<li><strong>åˆ†å‘é˜¶æ®µ</strong>ï¼šä½¿ç”¨<code>.whl</code>ã€<code>.egg</code></li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šå„ç§é…ç½®æ–‡ä»¶</li>
</ul>
<p>æŒæ¡è¿™äº›æ–‡ä»¶ç±»å‹çš„ç‰¹ç‚¹å’Œç”¨é€”ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç»„ç»‡é¡¹ç›®ã€ä¼˜åŒ–æ€§èƒ½å’Œç®¡ç†ä¾èµ–ã€‚</p>
<hr/>
<p><strong>äº’åŠ¨è¯é¢˜</strong>ï¼šä½ åœ¨é¡¹ç›®ä¸­è¿˜é‡åˆ°è¿‡å“ªäº›ç‰¹æ®Šçš„Pythonæ–‡ä»¶ç±»å‹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573669819029028874</link>    <guid>https://juejin.cn/post/7573669819029028874</guid>    <pubDate>2025-11-18T07:56:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819029028874" data-draft-id="7573710392212881435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:56:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Function66"/> <meta itemprop="url" content="https://juejin.cn/user/2436173499477623"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173499477623/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Function66
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:56:57.000Z" title="Tue Nov 18 2025 07:56:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„è·¨åŸŸé—®é¢˜ï¼šBåŸŸåçš„ç½‘é¡µè¢«åµŒå…¥åœ¨AåŸŸåå†…éƒ¨ï¼ŒBåŸŸåçš„æ¥å£è¯·æ±‚ä¹Ÿå‡ºç°äº†è·¨åŸŸé”™è¯¯ã€‚å°½ç®¡åç«¯åŒå­¦å·²ç»é…ç½®äº†<code>Access-Control-Allow-Origin</code>ç­‰CORSç›¸å…³å¤´éƒ¨ï¼Œä½†æ§åˆ¶å°ä»ç„¶æŒç»­æŠ¥è·¨åŸŸé”™è¯¯ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜æ’æŸ¥è¿‡ç¨‹</h2>
<h3 data-id="heading-2">åˆæ­¥æ’æŸ¥</h3>
<p>ä¸€å¼€å§‹æˆ‘ä»¬æŒ‰ç…§å¸¸è§„è·¨åŸŸé—®é¢˜çš„æ’æŸ¥æ€è·¯ï¼š</p>
<ul>
<li>æ£€æŸ¥åç«¯CORSé…ç½®æ˜¯å¦æ­£ç¡®</li>
<li>éªŒè¯<code>Access-Control-Allow-Origin</code>å¤´æ˜¯å¦åŒ…å«AåŸŸå</li>
<li>ç¡®è®¤<code>Access-Control-Allow-Credentials</code>è®¾ç½®ä¸ºtrue</li>
</ul>
<p>ä½†æ‰€æœ‰è¿™äº›é…ç½®éƒ½æ­£ç¡®ï¼Œé—®é¢˜ä¾ç„¶å­˜åœ¨ã€‚</p>
<h3 data-id="heading-3">æ·±å…¥åˆ†æ</h3>
<p>ç»è¿‡ä»”ç»†æ’æŸ¥ï¼Œå‘ç°äº†é—®é¢˜çš„æœ¬è´¨ï¼š<strong>BåŸŸåæ²¡æœ‰æˆåŠŸæºå¸¦AåŸŸåçš„Cookie</strong>ï¼Œå¯¼è‡´è¯·æ±‚è¢«æœåŠ¡ç«¯çš„passportæƒé™æ‹¦æˆªä¸­é—´ä»¶æ‹¦æˆªï¼Œä»è€Œè§¦å‘äº†è·¨åŸŸé”™è¯¯ã€‚</p>
<p>è¿™é‡Œçš„å…³é”®ç‚¹æ˜¯ï¼šå³ä½¿åç«¯æ­£ç¡®é…ç½®äº†CORSï¼Œå¦‚æœè¯·æ±‚å› ä¸ºæƒé™é—®é¢˜è¢«å‰ç«¯ä¸­é—´ä»¶æ‹¦æˆªï¼ŒåŒæ ·ä¼šè¡¨ç°ä¸ºè·¨åŸŸé”™è¯¯ã€‚</p>
<h2 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-5">æ–¹æ¡ˆä¸€ï¼šç§æ¤Cookieæ–¹æ¡ˆ</h3>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Bé¡µé¢ä¸­çš„è¯·æ±‚å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">makeRequest</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
  
  <span class="hljs-comment">// å…³é”®ï¼šæ·»åŠ x-requested-withå¤´ï¼Œé˜»æ­¢æµè§ˆå™¨è‡ªåŠ¨å¤„ç†302é‡å®šå‘</span>
  xhr.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">'x-requested-with'</span>, <span class="hljs-string">'XMLHttpRequest'</span>);
  
  xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) {
      <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">302</span>) {
        <span class="hljs-comment">// æ‰‹åŠ¨å¤„ç†302é‡å®šå‘</span>
        <span class="hljs-keyword">const</span> redirectUrl = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>;
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-string">`/sso/logon?redirectUrl=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(redirectUrl)}</span>`</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
        <span class="hljs-comment">// æ­£å¸¸å¤„ç†å“åº”</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯·æ±‚æˆåŠŸ'</span>, xhr.<span class="hljs-property">responseText</span>);
      }
    }
  };
  
  xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'/api/data'</span>, <span class="hljs-literal">true</span>);
  xhr.<span class="hljs-title function_">send</span>();
}
</code></pre>
<p><strong>åç«¯é…åˆè°ƒæ•´ï¼š</strong></p>
<p>java</p>
<pre><code class="hljs language-vbscript" lang="vbscript">// å½“æ£€æµ‹åˆ°x-requested-<span class="hljs-keyword">with</span>å¤´æ—¶ï¼Œä¸è‡ªåŠ¨é‡å®šå‘
<span class="hljs-keyword">if</span> (<span class="hljs-string">"XMLHttpRequest"</span>.equals(<span class="hljs-built_in">request</span>.getHeader(<span class="hljs-string">"x-requested-with"</span>))) {
    <span class="hljs-built_in">response</span>.setStatus(<span class="hljs-number">302</span>);
    <span class="hljs-built_in">response</span>.setHeader(<span class="hljs-string">"Location"</span>, <span class="hljs-string">""</span>); // æ¸…ç©ºæˆ–ä¸è®¾ç½®Locationå¤´
    // é€šè¿‡å…¶ä»–æ–¹å¼ä¼ é€’é‡å®šå‘URLï¼Œå¦‚å“åº”ä½“
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">response</span>.sendRedirect(<span class="hljs-string">"/sso/logon?redirectUrl="</span> + url);
}
</code></pre>
<p><strong>æ–¹æ¡ˆç¼ºé™·ï¼š</strong></p>
<ul>
<li>éƒ¨åˆ†æµè§ˆå™¨å‡ºäºå®‰å…¨ç­–ç•¥è€ƒè™‘ï¼Œç¦æ­¢è·¨åŸŸåç§æ¤Cookie</li>
<li>å®ç°ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦å‰åç«¯ååŒè°ƒæ•´</li>
</ul>
<h3 data-id="heading-6">æ–¹æ¡ˆäºŒï¼šåŒæºéƒ¨ç½²æ–¹æ¡ˆï¼ˆæ¨èï¼‰</h3>
<p>å°†Bé¡µé¢çš„æ¨¡æ¿ç›´æ¥éƒ¨ç½²åˆ°AåŸŸåçš„æœåŠ¡å™¨ä¸Šï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤è·¨åŸŸé—®é¢˜ã€‚</p>
<p><strong>å®æ–½æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å°†Bé¡µé¢çš„å‰ç«¯èµ„æºæ‰“åŒ…éƒ¨ç½²åˆ°AåŸŸåæœåŠ¡</li>
<li>è°ƒæ•´è·¯ç”±é…ç½®ï¼Œç¡®ä¿Bé¡µé¢çš„è®¿é—®è·¯å¾„åœ¨AåŸŸåä¸‹</li>
<li>æ›´æ–°æ‰€æœ‰ç›¸å…³çš„èµ„æºå¼•ç”¨è·¯å¾„</li>
</ol>
<p>nginx</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Nginxé…ç½®ç¤ºä¾‹</span>
server {
    listen 80;
    server_name a-domain.com;
    
    location /b-page/ {
        <span class="hljs-comment"># ä»£ç†åˆ°Bé¡µé¢æœåŠ¡æˆ–ç›´æ¥æœåŠ¡é™æ€èµ„æº</span>
        proxy_pass http://b-service/;
        <span class="hljs-comment"># æˆ–è€…ç›´æ¥æœåŠ¡æœ¬åœ°æ–‡ä»¶</span>
        root /path/to/b-page-static-files;
    }
    
    location /api/ {
        proxy_pass http://b-api-service/;
    }
}
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å½»åº•è§£å†³è·¨åŸŸé—®é¢˜</li>
<li>Cookieè‡ªç„¶å…±äº«ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†</li>
<li>æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ</li>
</ul>
<h2 data-id="heading-7">æŠ€æœ¯è¦ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-8">1. CORSä¸Cookieçš„å…³ç³»</h3>
<ul>
<li>è·¨åŸŸè¯·æ±‚é»˜è®¤ä¸æºå¸¦Cookie</li>
<li>éœ€è¦è®¾ç½®<code>withCredentials: true</code>ï¼ˆå‰ç«¯ï¼‰å’Œ<code>Access-Control-Allow-Credentials: true</code>ï¼ˆåç«¯ï¼‰</li>
<li><code>Access-Control-Allow-Origin</code>ä¸èƒ½ä¸º<code>*</code>ï¼Œå¿…é¡»æŒ‡å®šå…·ä½“åŸŸå</li>
</ul>
<h3 data-id="heading-9">2. 302é‡å®šå‘çš„Ajaxå¤„ç†</h3>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¤„ç†302é‡å®šå‘ï¼Œå‰ç«¯æ— æ³•æ‹¦æˆª</li>
<li>é€šè¿‡<code>x-requested-with: XMLHttpRequest</code>å¤´å‘ŠçŸ¥åç«¯éœ€è¦ç‰¹æ®Šå¤„ç†</li>
<li>åç«¯æ®æ­¤å†³å®šæ˜¯å¦è®©å‰ç«¯æ‰‹åŠ¨å¤„ç†é‡å®šå‘</li>
</ul>
<h3 data-id="heading-10">3. è·¨åŸŸé—®é¢˜çš„æœ¬è´¨</h3>
<p>è·¨åŸŸé—®é¢˜ä¸ä»…ä»…æ˜¯æŠ€æœ¯é…ç½®é—®é¢˜ï¼Œæ›´æ˜¯å®‰å…¨ç­–ç•¥çš„ä½“ç°ã€‚æµè§ˆå™¨çš„åŒæºç­–ç•¥æ˜¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·æ•°æ®å®‰å…¨ã€‚</p>
<h2 data-id="heading-11">ç»éªŒæ•™è®­</h2>
<ol>
<li><strong>ä¸è¦ç›²ç›®ç›¸ä¿¡é”™è¯¯ä¿¡æ¯</strong>ï¼šè·¨åŸŸé”™è¯¯å¯èƒ½æ˜¯å…¶ä»–é—®é¢˜çš„è¡¨è±¡</li>
<li><strong>ç³»ç»ŸåŒ–æ’æŸ¥</strong>ï¼šä»å‰ç«¯åˆ°åç«¯ï¼Œä»ç½‘ç»œåˆ°å®‰å…¨ç­–ç•¥å…¨é¢æ’æŸ¥</li>
<li><strong>ä¼˜å…ˆé€‰æ‹©æ ¹æœ¬è§£å†³æ–¹æ¡ˆ</strong>ï¼šç›¸æ¯”å„ç§workaroundï¼Œä»æ¶æ„å±‚é¢è§£å†³é—®é¢˜æ›´å¯é </li>
</ol>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p>è·¨åŸŸé—®é¢˜æ˜¯å‰ç«¯å¼€å‘ä¸­çš„å¸¸è§æŒ‘æˆ˜ï¼Œç†è§£å…¶èƒŒåçš„åŸç†å’Œæµè§ˆå™¨å®‰å…¨ç­–ç•¥è‡³å…³é‡è¦ã€‚é€šè¿‡è¿™æ¬¡é—®é¢˜çš„è§£å†³ï¼Œæˆ‘ä»¬ä¸ä»…ä¿®å¤äº†bugï¼Œæ›´é‡è¦çš„æ˜¯åŠ æ·±äº†å¯¹Webå®‰å…¨æœºåˆ¶çš„ç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573968791202381870</link>    <guid>https://juejin.cn/post/7573968791202381870</guid>    <pubDate>2025-11-18T08:10:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573968791202381870" data-draft-id="7573694361474646043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="React Native,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:10:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="konh"/> <meta itemprop="url" content="https://juejin.cn/user/1345407452197118"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345407452197118/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    konh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:10:55.000Z" title="Tue Nov 18 2025 08:10:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ğŸ“ <strong>React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</strong></h2>
<blockquote>
<p>é€‚ç”¨<br/>
âœ” React Nativeï¼ˆ0.71+ï¼‰<br/>
âœ” Expoï¼ˆæ‰€æœ‰ç‰ˆæœ¬ï¼‰<br/>
âœ” iOS + Android<br/>
âœ” è‡ªå®šä¹‰å­—ä½“ï¼ˆTTF / OTFï¼‰</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ“Œ ä¸€ã€é—®é¢˜èƒŒæ™¯</h2>
<p>å½“é¡¹ç›®ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“ï¼ˆä»è®¾è®¡å¸ˆé‚£æ‹¿çš„ TTF/OTFï¼‰æ—¶ï¼ŒText å’Œ TextInput å¸¸ä¼šå‡ºç°è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>æ–‡å­—åä¸Š / åä¸‹</li>
<li>placeholder å’Œè¾“å…¥çš„æ–‡å­—ä¸å¯¹é½</li>
<li>lineHeight è®¾ç½®äº†ä½†ä¸ç”Ÿæ•ˆ</li>
<li>iOS çœ‹ä¼¼æ­£å¸¸ï¼ŒAndroid å®Œå…¨å</li>
<li>åŒä¸€ä¸ªå­—ä½“åœ¨ä¸åŒç»„ä»¶é—´é«˜åº¦ä¸ä¸€è‡´</li>
</ul>
<p>è¿™äº›é—®é¢˜åœ¨ç³»ç»Ÿå­—ä½“ä¸‹ä¸ä¼šå‡ºç°ï¼Œä½†æ˜¯æ¢æˆè‡ªå®šä¹‰å­—ä½“åå‡ ä¹å¿…ç°ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ“Œ äºŒã€ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿâ€”â€”å…³é”®å› ç´ æ˜¯ <strong>å­—ä½“åº¦é‡ï¼ˆFont Metricsï¼‰</strong></h2>
<p>æ¯ä¸ªå­—ä½“å†…éƒ¨éƒ½å¸¦æœ‰ä¸€å¥—å…³é”®æ•°æ®ï¼š</p>
<ul>
<li><strong>ascent</strong>ï¼šå­—ä½“å‘ä¸Šçš„é«˜åº¦</li>
<li><strong>descent</strong>ï¼šå­—ä½“å‘ä¸‹çš„é«˜åº¦</li>
<li><strong>lineGap</strong>ï¼šå­—ä½“æ¨èçš„è¡Œé—´è·</li>
<li><strong>unitsPerEm</strong>ï¼šå­—ä½“çš„â€œå•ä½ä½“ç³»â€ï¼Œå†³å®šæ¯”ä¾‹</li>
<li><strong>baseline</strong>ï¼šæ–‡å­—çœŸå®æ‘†æ”¾çš„ä½ç½®</li>
</ul>
<p>React Native çš„ Text / TextInput ä¼šæ ¹æ®è¿™äº› metrics æ¥æ’ç‰ˆæ–‡å­—ã€‚</p>
<p>è€Œè‡ªå®šä¹‰å­—ä½“å¸¸å¸¸å­˜åœ¨ï¼š</p>
<ul>
<li>ascent ç‰¹åˆ«é«˜</li>
<li>descent å¤ªå¤§</li>
<li>lineGap &gt; 0ï¼ˆè®¾è®¡å¸ˆå­—ä½“å¸¸è§ï¼‰</li>
<li>unitsPerEm ä¸æ˜¯ç³»ç»Ÿå¸¸ç”¨çš„ 1000 / 2048</li>
<li>baseline åç§»</li>
</ul>
<p>ğŸ” <strong>ç»“æœï¼šæ–‡å­—åœ¨ç»„ä»¶å†…éƒ¨çš„ä½ç½®å‘ç”Ÿåç§»</strong></p>
<p>ä¸ºä»€ä¹ˆç³»ç»Ÿå­—ä½“æ²¡é—®é¢˜ï¼Ÿ<br/>
å› ä¸ºç³»ç»Ÿå­—ä½“ï¼ˆSan Francisco / Robotoï¼‰å¯¹ç§»åŠ¨ç«¯åšè¿‡ç‰¹æ®Šä¼˜åŒ–ï¼Œè€Œè‡ªå®šä¹‰å­—ä½“æ²¡æœ‰ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ“Œ ä¸‰ã€å¹³å°å·®å¼‚ï¼ˆéå¸¸å…³é”®ï¼‰</h2>
<h4 data-id="heading-4"><strong>iOSï¼šæ¯”è¾ƒå®½å®¹</strong></h4>
<ul>
<li>ä¼šè‡ªåŠ¨å¹³æ»‘ baseline</li>
<li>ä¼šäººä¸ºä¿®æ­£éƒ¨åˆ† ascent/descent</li>
<li>æ‰€ä»¥é—®é¢˜ä¸æ˜æ˜¾</li>
</ul>
<h4 data-id="heading-5"><strong>Androidï¼šéå¸¸ä¸¥æ ¼</strong></h4>
<ul>
<li>ç»å¯¹ä½¿ç”¨å­—ä½“çœŸå® fontMetrics</li>
<li>lineHeight å¿…é¡»ç”± dev æ˜ç¡®æŒ‡å®š</li>
<li>ä¸è‡ªåŠ¨å±…ä¸­ TextInput æ–‡å­—</li>
</ul>
<p>ğŸ‘‰ æ‰€ä»¥å¤§éƒ¨åˆ†â€œæ–‡å­—åä¸Šâ€çš„é—®é¢˜éƒ½å‡ºç°åœ¨ Androidã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸ“Œ å››ã€ç»ˆæè§£å†³æ–¹æ¡ˆï¼ˆæŒ‰æ•ˆæœæ’åºï¼‰</h2>
<hr/>
<h3 data-id="heading-7">âœ… <strong>æ–¹æ¡ˆ 1ï¼šä¸ºè‡ªå®šä¹‰å­—ä½“è®¾ç½®åˆç†çš„ lineHeightï¼ˆæœ€æ¨èï¼‰</strong></h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">&lt;TextInput</span>
  <span class="hljs-string">style={{</span>
    <span class="hljs-attr">fontFamily:</span> <span class="hljs-string">"YourFont"</span><span class="hljs-string">,</span>
    <span class="hljs-attr">fontSize:</span> <span class="hljs-number">16</span><span class="hljs-string">,</span>
    <span class="hljs-attr">lineHeight:</span> <span class="hljs-number">20</span><span class="hljs-string">,</span> <span class="hljs-string">//</span> <span class="hljs-string">å¸¸ç”¨:</span> <span class="hljs-string">fontSize</span> <span class="hljs-string">*</span> <span class="hljs-number">1.25</span>
  <span class="hljs-string">}}</span>
<span class="hljs-string">/&gt;</span>
</code></pre>
<p>ç»éªŒå…¬å¼ï¼š</p>
<h4 data-id="heading-8">iOSï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lineHeight</span> = fontSize * <span class="hljs-number">1.2</span>
</code></pre>
<h4 data-id="heading-9">Androidï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lineHeight</span> = fontSize * <span class="hljs-number">1.3</span>
</code></pre>
<p>ğŸ‘‰ è¿™æ˜¯èƒ½è§£å†³ <strong>90%</strong> è‡ªå®šä¹‰å­—ä½“é—®é¢˜çš„æ–¹æ¡ˆã€‚</p>
<hr/>
<h3 data-id="heading-10">âœ… <strong>æ–¹æ¡ˆ 2ï¼šç»™ TextInput å¤–é¢å¥—ä¸€å±‚ View å¹¶æ§åˆ¶å‚ç›´å±…ä¸­</strong></h3>
<p>å› ä¸º TextInput è‡ªå·±ä¸æ“…é•¿å¯¹é½ â€”â€” å°¤å…¶æ˜¯ Androidã€‚</p>
<pre><code class="hljs language-less" lang="less">&lt;<span class="hljs-selector-tag">View</span> <span class="hljs-selector-tag">style</span>={{ <span class="hljs-attribute">height</span>: <span class="hljs-number">48</span>, <span class="hljs-attribute">justifyContent</span>: <span class="hljs-string">"center"</span> }}&gt;
  &lt;<span class="hljs-selector-tag">TextInput</span>
    <span class="hljs-selector-tag">style</span>={{
      fontFamily: "YourFont",
      fontSize: 16,
      lineHeight: 20,
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attribute">textAlignVertical</span>: <span class="hljs-string">"center"</span>, <span class="hljs-comment">// Android å¿…é¡»åŠ </span>
    }}
  /&gt;
&lt;/<span class="hljs-selector-tag">View</span>&gt;
</code></pre>
<p>âš ï¸ å…³é”®ç‚¹ï¼š</p>
<ul>
<li><strong>padding å¿…é¡»è®¾ä¸º 0</strong>ï¼ˆå¦åˆ™ Android ä¼šé¢å¤–åŠ ï¼‰</li>
<li><strong>textAlignVertical=center</strong>ï¼ˆAndroid ä¸åŠ å°±ä¼šåï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-11">âœ… <strong>æ–¹æ¡ˆ 3ï¼šç»Ÿä¸€ placeholder ä¸æ–‡å­—è¡Œé«˜</strong></h3>
<p>React Native çš„ placeholder ä¸è·Ÿéšæ–‡å­—è¡Œé«˜ï¼ˆå°¤å…¶ Androidï¼‰ã€‚</p>
<p>å¼ºåˆ¶åŒæ­¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">placeholderTextColor</span>=<span class="hljs-string">"#888"</span>
</code></pre>
<p>å¹¶ä¿æŒåŒæ ·é«˜åº¦çš„ wrapperï¼š</p>
<pre><code class="hljs language-less" lang="less">&lt;<span class="hljs-selector-tag">View</span> <span class="hljs-selector-tag">style</span>={{ <span class="hljs-attribute">height</span>: <span class="hljs-number">48</span>, <span class="hljs-attribute">justifyContent</span>: <span class="hljs-string">"center"</span> }}&gt;
  &lt;<span class="hljs-selector-tag">TextInput</span>
    <span class="hljs-comment">// same styles as above</span>
  /&gt;
&lt;/<span class="hljs-selector-tag">View</span>&gt;
</code></pre>
<hr/>
<h3 data-id="heading-12">ğŸ”§ <strong>æ–¹æ¡ˆ 4ï¼ˆé‡é‡ä½†æœ€å½»åº•ï¼‰ï¼šä¿®å¤å­—ä½“æ–‡ä»¶çš„ metrics</strong></h3>
<p>å¦‚æœä¸€ä¸ªå­—ä½“æ€ä¹ˆè°ƒéƒ½ä¸å¯¹é½ï¼Œé‚£å®ƒå°±æ˜¯ <em>æœ¬èº«åº¦é‡æœ‰é—®é¢˜</em>ã€‚</p>
<p>å¯ä»¥ç”¨å­—ä½“ç¼–è¾‘å™¨ä¿®ï¼š</p>
<ul>
<li>FontForgeï¼ˆå…è´¹ï¼‰</li>
<li>Glyphsï¼ˆmacOSï¼‰</li>
<li>FontToolsï¼ˆCLIï¼‰</li>
</ul>
<p>éœ€è¦ä¿®çš„å­—æ®µï¼š</p>
<ol>
<li>ascent â†’ è°ƒæ•´åˆ°åˆç†æ¯”ä¾‹</li>
<li>descent â†’ è°ƒæ•´åˆ°åˆç†æ¯”ä¾‹</li>
<li>lineGap â†’ è®¾ä¸º 0ï¼ˆç§»åŠ¨ç«¯æœ€ä½³å®è·µï¼‰</li>
<li>unitsPerEm â†’ 1000 æˆ– 2048ï¼ˆå¸¸ç”¨è§„èŒƒï¼‰</li>
</ol>
<p>å¯¼å‡ºå RN çš„ Text/TextInput é«˜åº¦ç«‹å³æ­£å¸¸ã€‚</p>
<hr/>
<h2 data-id="heading-13">ğŸ“Œ äº”ã€æœ€ä½³å®è·µç»„ä»¶ï¼ˆå¯ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Platform</span>, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">TextInput</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Input</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> lineHeight = <span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">"android"</span> ? <span class="hljs-number">22</span> : <span class="hljs-number">20</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">48</span>, <span class="hljs-attr">justifyContent:</span> "<span class="hljs-attr">center</span>" }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span>
        {<span class="hljs-attr">...props</span>}
        <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          {
            <span class="hljs-attr">fontFamily:</span> "<span class="hljs-attr">YourFont</span>",
            <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">16</span>,
            <span class="hljs-attr">lineHeight</span>,
            <span class="hljs-attr">padding:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">textAlignVertical:</span> "<span class="hljs-attr">center</span>",
          },
          <span class="hljs-attr">props.style</span>,
        ]}
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-14">ğŸ“Œ å…­ã€å¿«é€Ÿåˆ¤æ–­æ˜¯å“ªç§é—®é¢˜ï¼ˆæ’æŸ¥è¡¨ï¼‰</h2>








































<table><thead><tr><th>ç°è±¡</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ–‡å­—åä¸Š</td><td>ascent å¤ªå¤§</td><td>å¢åŠ  lineHeight</td></tr><tr><td>placeholder åä½ç½®</td><td>TextInput baseline å˜åŒ–</td><td>åŒ… wrapper</td></tr><tr><td>Android å®Œå…¨ä¸å¯¹é½</td><td>ä¸æ”¯æŒè‡ªåŠ¨ baseline</td><td>åŠ  textAlignVertical</td></tr><tr><td>iOS æ­£å¸¸ã€Android ä¸æ­£å¸¸</td><td>Android ç”¨çœŸå® metrics</td><td>ç»Ÿä¸€ lineHeight</td></tr><tr><td>ä¸åŒè®¾å¤‡çœ‹èµ·æ¥ä¸ä¸€æ ·</td><td>å­—ä½“ degree scaling ä¸ä¸€è‡´</td><td>wrapper + lineHeight</td></tr><tr><td>æ€ä¹ˆè°ƒéƒ½ä¸å¯¹</td><td>å­—ä½“æ–‡ä»¶æœ¬èº«é”™è¯¯</td><td>ä¿®å­—ä½“ metrics</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ğŸ“Œ ä¸ƒã€æ€»ç»“</h2>
<p>React Native ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“åé«˜åº¦/å¯¹é½å¼‚å¸¸ <strong>ä¸æ˜¯ RN çš„ bug</strong>ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰å­—ä½“åº¦é‡ä¸è§„èŒƒ</li>
<li>RN å¿…é¡»éµå®ˆå­—ä½“çœŸå® metrics</li>
<li>Android æ›´ä¸¥æ ¼</li>
<li>TextInput æœ¬èº«å¯¹è¡Œé«˜å¤„ç†ç®€å•</li>
</ul>
<p>æœ€æœ‰æ•ˆçš„åŠæ³•æ˜¯ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€ lineHeight</strong></li>
<li><strong>å¤–åŒ… wrapper</strong></li>
<li><strong>Android åŠ  textAlignVertical=center</strong></li>
<li>ä¸è¡Œå°± <strong>ä¿®å­—ä½“åº¦é‡</strong></li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573738017988247595</link>    <guid>https://juejin.cn/post/7573738017988247595</guid>    <pubDate>2025-11-18T08:31:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988247595" data-draft-id="7573855399716716563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-18T08:31:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:31:15.000Z" title="Tue Nov 18 2025 08:31:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªæ¯”è¯†åˆ«è‰²å½©ã€å½¢çŠ¶æ›´æ·±å±‚ã€æ›´å¤æ‚çš„é—®é¢˜ï¼Œå®ƒè§¦åŠäº†ç¥ç»ç§‘å­¦ã€å¿ƒç†å­¦ã€è¿›åŒ–ç”Ÿç‰©å­¦ç”šè‡³å“²å­¦çš„äº¤å‰é¢†åŸŸã€‚å¤§è„‘å¹¶æ²¡æœ‰ä¸€ä¸ªä¸“é—¨çš„â€œç¾ä¸‘ä¸­å¿ƒâ€ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªåŠ¨æ€çš„ã€å¤šå±‚æ¬¡çš„<strong>è¯„ä¼°ç³»ç»Ÿ</strong>æ¥ç»¼åˆåˆ¤æ–­ç¾ä¸‘ã€‚</p>
<p>è¿™ä¸ªç³»ç»Ÿå¯ä»¥æ¦‚æ‹¬ä¸ºä¸‰ä¸ªä¸»è¦å±‚é¢çš„äº¤äº’ä½œç”¨ï¼š</p>
<h3 data-id="heading-0">å±‚é¢ä¸€ï¼šç”Ÿç‰©å­¦ä¸è¿›åŒ–æœ¬èƒ½â€”â€”â€œç¡¬è¿çº¿â€çš„åå¥½</h3>
<p>è¿™æ˜¯æˆ‘ä»¬ä¸ç”Ÿä¿±æ¥çš„å®¡ç¾åŸºç¡€ï¼Œæºäºè¿›åŒ–ä¸­å¯¹ç”Ÿå­˜å’Œç¹è¡æœ‰åˆ©çš„ç‰¹è´¨çš„åå¥½ã€‚</p>
<ol>
<li>
<p><strong>å¯¹ç§°æ€§</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> åœ¨è‡ªç„¶ç•Œä¸­ï¼Œèº«ä½“å¯¹ç§°æ€§é€šå¸¸æ˜¯å‘è‚²å¥åº·ã€åŸºå› ä¼˜è‰¯ã€æŠ—ç—…èƒ½åŠ›å¼ºçš„ä¸€ä¸ªæ ‡å¿—ã€‚ä¸å¯¹ç§°å¯èƒ½æ„å‘³ç€ç–¾ç—…æˆ–åŸºå› ç¼ºé™·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å¤§è„‘ä¼šæ— æ„è¯†åœ°è¢«å¯¹ç§°çš„è„¸åºå’Œèº«ä½“æ‰€å¸å¼•ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šå¤§é‡ç ”ç©¶è¡¨æ˜ï¼Œæ— è®ºæ˜¯äººè„¸è¿˜æ˜¯åŠ¨ç‰©ï¼Œäººä»¬æ™®éè®¤ä¸ºå¯¹ç§°çš„ä¸ªä½“æ›´å…·å¸å¼•åŠ›ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¹³å‡åŒ–</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> â€œå¹³å‡â€çš„é¢å­”æ„å‘³ç€åŸºå› å¤šæ ·æ€§ã€è¿œç¦»æç«¯ç‰¹å¾ï¼Œä»è€Œé¢„ç¤ºç€æ›´ç¨³å®šã€æ›´å¥åº·çš„åŸºå› ã€‚è®¡ç®—æœºåˆæˆçš„ã€å°†å¤šå¼ é¢å­”èåˆè€Œæˆçš„â€œå¹³å‡è„¸â€é€šå¸¸è¢«è®¤ä¸ºæ¯”ä»»ä½•ä¸€å¼ åŸå§‹ç…§ç‰‡éƒ½æ›´å…·å¸å¼•åŠ›ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™ä¸ªç°è±¡åœ¨è·¨æ–‡åŒ–ç ”ç©¶ä¸­éƒ½å¾—åˆ°äº†éªŒè¯ï¼Œè¯´æ˜å®ƒæ˜¯ä¸€ç§æ™®éçš„æœ¬èƒ½ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¸…æ™°è‚¤è‰²ä¸ç‰¹å®šè…°è‡€æ¯”ï¼ˆå¥³æ€§ï¼‰/è‚©è…°æ¯”ï¼ˆç”·æ€§ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> å…‰æ»‘ã€æ´å‡€çš„çš®è‚¤æ˜¯å¥åº·å’Œå¹´è½»çš„é‡è¦ä¿¡å·ã€‚å¯¹äºå¥³æ€§ï¼Œ0.7å·¦å³çš„è…°è‡€æ¯”è¢«è§†ä¸ºç”Ÿè‚²èƒ½åŠ›å¼ºçš„æ ‡å¿—ï¼›å¯¹äºç”·æ€§ï¼Œå€’ä¸‰è§’å½¢çš„èº«æï¼ˆè‚©å®½è…°ç»†ï¼‰åˆ™è±¡å¾ç€åŠ›é‡å’Œå¥åº·ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™äº›åå¥½å…·æœ‰è·¨æ–‡åŒ–çš„ä¸€è‡´æ€§ï¼Œå¼ºçƒˆæš—ç¤ºäº†å…¶è¿›åŒ–æ ¹æºã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰¹å®šç¯å¢ƒåå¥½</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> æˆ‘ä»¬ç¥–å…ˆèµ–ä»¥ç”Ÿå­˜çš„ç¯å¢ƒå¡‘é€ äº†æˆ‘ä»¬å¯¹é£æ™¯çš„å®¡ç¾ã€‚æˆ‘ä»¬æœ¬èƒ½åœ°å–œæ¬¢æœ‰æ°´æºã€å¼€é˜”çš„è‰åŸã€æ•£è½çš„æ ‘æœ¨ï¼ˆå¯æä¾›åº‡æŠ¤ï¼‰å’Œä¸€å®šè§†é‡çš„é£æ™¯ï¼Œå› ä¸ºè¿™æ ·çš„ç¯å¢ƒèƒ½æä¾›ç”Ÿå­˜æ‰€éœ€çš„èµ„æºå’Œå®‰å…¨ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™ç±»é£æ™¯ç”»å’Œå…¬å›­è®¾è®¡æ™®éè®©äººæ„Ÿåˆ°æ„‰æ‚¦å’Œæ”¾æ¾ã€‚</li>
</ul>
</li>
</ol>
<p><strong>å°ç»“ï¼š</strong> è¿™ä¸ªå±‚é¢æ˜¯<strong>å¿«é€Ÿã€è‡ªåŠ¨ã€æ— æ„è¯†</strong>çš„ï¼Œä¸»è¦ç”±å¤§è„‘çš„å¥–èµç³»ç»Ÿï¼ˆå¦‚è…¹ä¾§è¢«ç›–åŒºã€ä¼éš”æ ¸ï¼‰åœ¨æ¥æ”¶åˆ°è¿™äº›â€œå¥½ä¿¡å·â€åé‡Šæ”¾å¤šå·´èƒºï¼Œè®©æˆ‘ä»¬äº§ç”Ÿæ„‰æ‚¦æ„Ÿï¼Œä»è€Œå®šä¹‰ä¸ºâ€œç¾â€ã€‚</p>
<hr/>
<h3 data-id="heading-1">å±‚é¢äºŒï¼šæ–‡åŒ–ä¸å­¦ä¹ â€”â€”â€œè½¯ä»¶â€çš„å¡‘é€ </h3>
<p>å¦‚æœè¯´ç”Ÿç‰©å­¦æœ¬èƒ½æ˜¯ç¡¬ä»¶ï¼Œé‚£ä¹ˆæ–‡åŒ–å°±æ˜¯å®‰è£…åœ¨ä¸Šé¢çš„è½¯ä»¶ï¼Œå®ƒæ·±åˆ»å½±å“ç€æˆ‘ä»¬è®¤ä¸ºä»€ä¹ˆæ˜¯ç¾çš„ã€‚</p>
<ol>
<li>
<p><strong>ç¤¾ä¼šè§„èŒƒä¸æ—¶å°š</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> ä¸åŒæ–‡åŒ–ã€ä¸åŒæ—¶ä»£å¯¹ç¾çš„æ ‡å‡†å·®å¼‚å·¨å¤§ã€‚æ¯”å¦‚ï¼Œå”ä»£ä»¥èƒ–ä¸ºç¾ï¼Œè€Œç°ä»£å¤šä»¥ç˜¦ä¸ºç¾ï¼›æŸäº›éƒ¨è½ä»¥é•¿è„–å­ã€åšå”‡ç›˜ä¸ºç¾ã€‚è¿™äº›æ ‡å‡†é€šè¿‡åª’ä½“ã€è‰ºæœ¯å’Œç¤¾äº¤ä¸æ–­å¼ºåŒ–ï¼Œå†…åŒ–ä¸ºæˆ‘ä»¬ä¸ªäººçš„å®¡ç¾ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°<strong>å‰é¢å¶çš®å±‚</strong>ï¼ˆè´Ÿè´£ç¤¾ä¼šè®¤çŸ¥ã€ç†è§£å’Œå†…åŒ–è§„åˆ™ï¼‰å’Œ<strong>é•œåƒç¥ç»å…ƒç³»ç»Ÿ</strong>ï¼ˆå¸®åŠ©æˆ‘ä»¬æ¨¡ä»¿å’Œå­¦ä¹ ä»–äººçš„åå¥½ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç†Ÿæ‚‰åº¦ä¸æ›å…‰æ•ˆåº”</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> æˆ‘ä»¬å€¾å‘äºå–œæ¬¢è‡ªå·±ç†Ÿæ‚‰çš„äº‹ç‰©ã€‚ä»…ä»…å› ä¸ºåå¤çœ‹åˆ°æŸä¸ªé¢å­”ã€æŸç§è®¾è®¡é£æ ¼ï¼Œæˆ‘ä»¬å°±ä¼šå¯¹å®ƒäº§ç”Ÿæ›´ç§¯æçš„æƒ…æ„Ÿã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸¸å¸¸ä¼šè§‰å¾—â€œè¶Šçœ‹è¶Šé¡ºçœ¼â€ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šæ›å…‰æ•ˆåº”é™ä½äº†å¤§è„‘<strong>æä»æ ¸</strong>ï¼ˆä¸ææƒ§å’Œä¸ç¡®å®šæ€§ç›¸å…³ï¼‰çš„ååº”ï¼Œä»è€Œå¢åŠ äº†èˆ’é€‚æ„Ÿå’Œåå¥½ã€‚</li>
</ul>
</li>
<li>
<p><strong>çŸ¥è¯†ä¸èƒŒæ™¯æ•…äº‹</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> äº†è§£ä¸€ä¸ªè‰ºæœ¯å“èƒŒåçš„æ•…äº‹ã€åˆ›ä½œèƒŒæ™¯ã€æŠ€æœ¯éš¾åº¦ï¼Œä¼šæå¤§åœ°å½±å“æˆ‘ä»¬å¯¹å®ƒçš„å®¡ç¾åˆ¤æ–­ã€‚ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„ç°ä»£è‰ºæœ¯ä½œå“ï¼Œä¸€æ—¦ä½ çŸ¥é“å®ƒè•´å«çš„æ·±åˆ»ç†å¿µï¼Œå¯èƒ½ä¼šç¬é—´è§‰å¾—å®ƒâ€œç¾â€äº†èµ·æ¥ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™æ¶‰åŠåˆ°<strong>é«˜çº§è®¤çŸ¥åŒºåŸŸ</strong>çš„æ·±åº¦ä»‹å…¥ï¼Œå°†ç†æ€§çŸ¥è¯†è½¬åŒ–ä¸ºæƒ…æ„Ÿä½“éªŒã€‚</li>
</ul>
</li>
</ol>
<p><strong>å°ç»“ï¼š</strong> æ–‡åŒ–å±‚é¢æ˜¯<strong>çµæ´»ã€å¯å˜çš„</strong>ï¼Œå®ƒè§£é‡Šäº†ä¸ºä»€ä¹ˆå®¡ç¾å…·æœ‰å¤šæ ·æ€§å’Œæ—¶ä»£æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-2">å±‚é¢ä¸‰ï¼šä¸ªä½“ç»éªŒä¸æƒ…æ„Ÿâ€”â€”â€œç§äººå®šåˆ¶â€çš„æ»¤é•œ</h3>
<p>è¿™æ˜¯æœ€ä¸ªäººåŒ–çš„å±‚é¢ï¼Œå°†ç¾ä¸æˆ‘ä»¬çš„è‡ªèº«ç»å†å’Œæƒ…æ„Ÿç´§å¯†ç›¸è¿ã€‚</p>
<ol>
<li>
<p><strong>æƒ…æ„Ÿå…³è”</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> æˆ‘ä»¬ä¼šå¯¹ä¸ç¾å¥½å›å¿†ç›¸å…³è”çš„äººã€ç‰©ã€åœ°æ–¹äº§ç”Ÿç‰¹æ®Šçš„å®¡ç¾åå¥½ã€‚æ¯”å¦‚ï¼Œä¸€é¦–è€æ­Œå› ä¸ºå…³è”ç€ä½ çš„åˆæ‹è€Œå˜å¾—æ— æ¯”åŠ¨å¬ï¼›ä¸€ä¸ªæ—§ç‰©ä»¶å› ä¸ºæ‰¿è½½ç€å®¶ä¹¡çš„è®°å¿†è€Œæ˜¾å¾—æ ¼å¤–çè´µã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼š<strong>æµ·é©¬ä½“</strong>ï¼ˆè®°å¿†ä¸­å¿ƒï¼‰å’Œ<strong>æä»æ ¸</strong>ï¼ˆæƒ…ç»ªä¸­å¿ƒï¼‰ä¸å¥–èµç³»ç»Ÿå¼ºçƒˆäº’åŠ¨ï¼Œä¸ºä¸­æ€§åˆºæ¿€èµ‹äºˆäº†ç§¯æçš„æƒ…æ„Ÿä»·å€¼ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§æ ¼ä¸ä»·å€¼è§‚</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> ä¸€ä¸ªè¿½æ±‚åˆºæ¿€çš„äººå¯èƒ½è§‰å¾—æé™è¿åŠ¨å¾ˆç¾ï¼Œè€Œä¸€ä¸ªæ€§æ ¼æ¬é™çš„äººå¯èƒ½è§‰å¾—é™è°§çš„å±±æ°´å¾ˆç¾ã€‚æˆ‘ä»¬çš„å†…åœ¨æ€§æ ¼å†³å®šäº†æˆ‘ä»¬è¢«ä½•ç§ç‰¹è´¨å¸å¼•ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™ä¸ä¸ªäººçš„ç¥ç»é€’è´¨åŸºç¡€ï¼ˆå¦‚å¤šå·´èƒºæ°´å¹³ï¼‰å’Œå¤§è„‘æ´»åŠ¨çš„æ•´ä½“æ¨¡å¼æœ‰å…³ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">æ€»ç»“ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ</h3>
<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªç²¾å½©çš„<strong>ç¥ç»äº¤å“ä¹</strong>ï¼š</p>
<ol>
<li><strong>æ„ŸçŸ¥è¾“å…¥</strong>ï¼šè§†è§‰ã€å¬è§‰ç­‰ä¿¡æ¯è¿›å…¥å¤§è„‘ã€‚</li>
<li><strong>ç‰¹å¾å¤„ç†</strong>ï¼šåœ¨è§†è§‰çš®å±‚ç­‰åŒºåŸŸè¿›è¡ŒåŸºç¡€å¤„ç†ï¼ˆå¦‚è¯†åˆ«å½¢çŠ¶ã€é¢œè‰²ï¼‰ã€‚</li>
<li><strong>å¤šç³»ç»Ÿè¯„ä¼°</strong>ï¼šä¿¡æ¯è¢«åŒæ—¶å‘é€åˆ°å¤šä¸ªè„‘åŒºè¿›è¡Œè¯„ä¼°ï¼š
<ul>
<li><strong>å¥–èµç³»ç»Ÿ</strong>ï¼šè¯„ä¼°å…¶ç”Ÿç‰©å­¦ä»·å€¼ï¼ˆâ€œå®ƒçœ‹èµ·æ¥å¥åº·å—ï¼Ÿâ€ï¼‰ã€‚</li>
<li><strong>å‰é¢å¶çš®å±‚</strong>ï¼šè¯„ä¼°å…¶æ–‡åŒ–å’Œç¤¾ä¼šæ„ä¹‰ï¼ˆâ€œå®ƒç¬¦åˆæ½®æµå’Œè§„èŒƒå—ï¼Ÿâ€ï¼‰ã€‚</li>
<li><strong>è®°å¿†ä¸æƒ…ç»ªç³»ç»Ÿ</strong>ï¼šè¯„ä¼°å…¶ä¸ªäººæƒ…æ„Ÿä»·å€¼ï¼ˆâ€œå®ƒå¯¹æˆ‘æœ‰ç‰¹æ®Šæ„ä¹‰å—ï¼Ÿâ€ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è¾¾æˆå…±è¯†ä¸äº§ç”Ÿä½“éªŒ</strong>ï¼šå½“è¿™äº›ç³»ç»Ÿç»™å‡ºçš„ç§¯æä¿¡å·è¶³å¤Ÿå¼ºå¤§ä¸”åè°ƒä¸€è‡´æ—¶ï¼Œå¤§è„‘å°±ä¼šäº§ç”Ÿä¸€ç§<strong>æ„‰æ‚¦ã€å¸å¼•ã€æ²‰æµ¸</strong>çš„ä½“éªŒâ€”â€”è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„â€œç¾â€çš„æ„Ÿè§‰ã€‚åä¹‹ï¼Œå¦‚æœä¿¡å·æ˜¯æ¶ˆæçš„ï¼ˆå¦‚ä¸å¯¹ç§°ã€ä¸ç†Ÿæ‚‰ã€å¼•å‘åå›å¿†ï¼‰ï¼Œæˆ‘ä»¬å°±ä¼šæ„Ÿåˆ°â€œä¸‘â€æˆ–ä¸æ‚¦ã€‚</li>
</ol>
<p><strong>ä¸€ä¸ªå…³é”®ç°è±¡ï¼šâ€œä¸‘â€ä¸ºä½•æœ‰æ—¶ä¹Ÿå¸å¼•äººï¼Ÿ</strong></p>
<p>æœ‰æ—¶ï¼Œä¸€ä¸ªå¯¹è±¡å¯èƒ½è¿åäº†æœ¬èƒ½å±‚é¢çš„â€œç¾â€ï¼ˆæ¯”å¦‚æ€ªå¼‚çš„è‰ºæœ¯ï¼‰ï¼Œä½†å´åœ¨æ–‡åŒ–æˆ–ä¸ªä½“å±‚é¢å¼•å‘äº†å¼ºçƒˆçš„å…´è¶£å’Œæ·±åº¦æ€è€ƒã€‚è¿™ç§è®¤çŸ¥ä¸Šçš„æŒ‘æˆ˜å’Œè§£å†³ï¼Œæœ¬èº«ä¹Ÿèƒ½æ¿€æ´»å¥–èµç³»ç»Ÿï¼Œäº§ç”Ÿä¸€ç§ä¸åŒäºçº¯ç²¹â€œæ¼‚äº®â€çš„ã€æ›´å¤æ‚çš„å®¡ç¾ä½“éªŒã€‚</p>
<p>å› æ­¤ï¼Œè¾¨åˆ«ç¾ä¸‘ï¼Œæ˜¯å¤§è„‘å°†<strong>æœ¬èƒ½ã€æ•™å…»å’Œè‡ªæˆ‘</strong>ä¸‰è€…èåˆåï¼Œæ‰€åšçš„ä¸€ä¸ªç¬é—´çš„ã€æ•´ä½“çš„æƒ…æ„Ÿåˆ¤æ–­ã€‚å®ƒæ—¢æ˜¯æ™®éçš„ï¼Œåˆæ˜¯æœ€ç§å¯†çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive]]></title>    <link>https://juejin.cn/post/7573694361474793499</link>    <guid>https://juejin.cn/post/7573694361474793499</guid>    <pubDate>2025-11-18T08:32:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474793499" data-draft-id="7572961448537571355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-18T08:32:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘æ«æ™–"/> <meta itemprop="url" content="https://juejin.cn/user/835284567331021"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284567331021/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘æ«æ™–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:32:36.000Z" title="Tue Nov 18 2025 08:32:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿˜è®°å¾—ç¬¬ä¸€æ¬¡ä½¿ç”¨ Vue æ—¶çš„é‚£ç§æƒŠè‰³å—ï¼Ÿæ•°æ®å˜äº†ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°ï¼Œå°±åƒé­”æ³•ä¸€æ ·ï¼ä½†ä½œä¸ºä¸€åæœ‰è¿½æ±‚çš„å‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬ä¸èƒ½åªåœç•™åœ¨"ä¼šç”¨"çš„å±‚é¢ï¼Œæ›´è¦æ·±å…¥ç†è§£èƒŒåçš„åŸç†ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°†å¸¦ä½ ä»é›¶å®ç°ä¸€ä¸ª Vue3 çš„å“åº”å¼ç³»ç»Ÿï¼Œ<strong>æ‰‹å†™ä»£ç ä¸åˆ° 200 è¡Œ</strong>ï¼Œå´èƒ½è¦†ç›–æ ¸å¿ƒåŸç†ã€‚è¯»å®Œæœ¬æ–‡ï¼Œä½ å°†å½»åº•æ˜ç™½ï¼š</p>
<ul>
<li>ğŸ¤”Â <strong>ä¸ºä»€ä¹ˆ Vue3 æ”¾å¼ƒ Object.defineProperty é€‰æ‹© Proxyï¼Ÿ</strong></li>
<li>ğŸ”¥Â <strong>ä¾èµ–æ”¶é›†å’Œè§¦å‘æ›´æ–°çš„ç²¾å¦™è®¾è®¡</strong></li>
<li>ğŸ¯Â <strong>æ•°ç»„æ–¹æ³•çš„é‡å†™èƒŒåéšè—çš„æ™ºæ…§</strong></li>
<li>ğŸ’¡Â <strong>Vue3 å“åº”å¼ç›¸æ¯” Vue2 çš„æ€§èƒ½ä¼˜åŠ¿</strong></li>
</ul>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼Œå“åº”å¼æ˜¯<strong>å½“æ•°æ®å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œä¾èµ–æ•°æ®çš„ä»£ç </strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> });
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`countå€¼å˜åŒ–ï¼š<span class="hljs-subst">${state.count}</span>`</span>);
});
state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// countå€¼å˜åŒ–ï¼š1</span>
state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// countå€¼å˜åŒ–ï¼š2</span>
</code></pre>
<h3 data-id="heading-2">vue2å’Œvue3å“åº”å¼åŒºåˆ«</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>vue2(Object.defineProperty)</th><th>vue3(proxy)</th></tr></thead><tbody><tr><td>å¯¹è±¡æ–°å¢å±æ€§</td><td>$set apiå®ç°å“åº”å¼</td><td>ç›´æ¥æ”¯æŒ</td></tr><tr><td>å¯¹è±¡åˆ é™¤å±æ€§</td><td>$delete api å®ç°å“åº”å¼</td><td>ç›´æ¥æ”¯æŒ</td></tr><tr><td>æ•°ç»„æ‹¦æˆª</td><td>æ”¹å†™æ•°ç»„åŸå‹æ–¹æ³•</td><td>åŸç”Ÿæ”¯æŒï¼Œé‡æ–°åŒ…è£…</td></tr><tr><td>æ€§èƒ½</td><td>é€’å½’éå†æ‰€æœ‰å±æ€§</td><td>æ‡’ä»£ç†ï¼Œè®¿é—®æ—¶æ‰ä»£ç†</td></tr></tbody></table>
<p>ç»¼ä¸Šæ‰€è¿°Proxyçš„ä¼˜åŠ¿éå¸¸çš„æ˜æ˜¾ï¼Œè¿™å°±æ˜¯Vue3é€‰æ‹©é‡æ„å“åº”å¼ç³»ç»Ÿçš„æ ¹æœ¬åŸå› ã€‚</p>
<h2 data-id="heading-3">æ‰‹å†™å®ç°ï¼šä»é›¶æ„å»ºå“åº”å¼</h2>
<h3 data-id="heading-4">1. é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">â”œâ”€â”€ reactive.js           // reactive æ ¸å¿ƒ
â”œâ”€â”€ effect.js             // å‰¯ä½œç”¨ç®¡ç†
â”œâ”€â”€ baseHandler.js        // Proxy å¤„ç†å™¨
â”œâ”€â”€ arrayInstrumentations.js // æ•°ç»„æ–¹æ³•é‡å†™
â”œâ”€â”€ utils.js              // å·¥å…·å‡½æ•°
â””â”€â”€ index.js              // å…¥å£æ–‡ä»¶
</code></pre>
<h2 data-id="heading-5">å“åº”å¼å…¥å£</h2>
<p>æˆ‘ä»¬å…ˆä»<code>reactive</code>å‡½æ•°ç€æ‰‹ï¼Œä½¿ç”¨è¿‡<code>vue3</code>åº”è¯¥å¯¹<code>reactive</code>å¹¶ä¸é™Œç”Ÿã€‚æ­¤å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// reactive.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
      <span class="hljs-comment">// åç»­æ”¶é›†ä¾èµ–</span>
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
      <span class="hljs-keyword">const</span> oldValue = target[key];
      <span class="hljs-keyword">if</span> (oldValue != value) {
        <span class="hljs-comment">// åç»­è§¦å‘æ›´æ–°</span>
      }
    }
  })
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<p>ç›®å‰å·²ç»æ­å»ºäº†<code>reactive</code>å‡½æ•°çš„æ¡†æ¶ï¼Œä½†æ˜¯ç›®å‰è¿˜æœ‰äº›é—®é¢˜ï¼š</p>
<ol>
<li>åŒä¸€ä¸ªå¯¹è±¡ä»£ç†å¤šæ¬¡ï¼Œä¼šè¿”å›ä¸åŒçš„ä»£ç†å¯¹è±¡ï¼Œè¿™æ ·æ€§èƒ½ä¸Šå¸¦æ¥ä¸å¿…è¦çš„å¼€é”€ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> originalObj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue'</span>, <span class="hljs-attr">version</span>: <span class="hljs-number">3</span> }; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨ reactive </span>
<span class="hljs-keyword">const</span> proxy1 = <span class="hljs-title function_">reactive</span>(originalObj); <span class="hljs-comment">// ç¬¬äºŒæ¬¡è°ƒç”¨ reactiveï¼ˆä¼ å…¥åŒä¸€ä¸ªå¯¹è±¡)</span>
<span class="hljs-keyword">const</span> proxy2 = <span class="hljs-title function_">reactive</span>(originalObj); <span class="hljs-comment">// éªŒè¯ä¸¤ä¸ªä»£ç†æ˜¯åŒä¸€ä¸ªå®ä¾‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy1 === proxy2); <span class="hljs-comment">// false</span>
</code></pre>
<p>å¯ä»¥é€šè¿‡ç¼“å­˜ä»£ç†å¯¹è±¡è§£å†³æ­¤ç±»é—®é¢˜ï¼Œé‡‡ç”¨<code>WeakMap</code>æ¥ç¼“å­˜ä»£ç†å¯¹è±¡ï¼Œ<code>key</code>ä¸º<code>target</code>,<code>value</code>ä¸ºä»£ç†å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡ï¼Œé¿å…é‡å¤ä»£ç†</span>
<span class="hljs-keyword">const</span> reactiveMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-comment">/* æ­¤å¤„æš‚æ—¶çœç•¥ */</span>
  })
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveMap.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<blockquote>
<p>ğŸ’¡ æç¤º <br/>
åœ¨ä¸Šè¿°ä»£ç ä¸­ä¹‹æ‰€ä»¥é‡‡ç”¨<code>WeakMap</code>ä¸»è¦è€ƒè™‘<code>key</code>æ˜¯ä¸€ä¸ªå¯¹è±¡å¹¶ä¸”<code>WeakMap</code>å¯ä»¥å½“<code>target</code>ä¸å†å¼•ç”¨æ—¶ä¼šè‡ªåŠ¨æ¸…ç†ã€‚</p>
</blockquote>
<ol start="2">
<li>å½“å·²ç»è¢«<code>reactive</code>å¤„ç†åï¼Œå†æ¬¡è°ƒç”¨<code>reactive</code>æ—¶ï¼Œåˆè¢«ä»£ç†ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> originalObj = { <span class="hljs-attr">count</span>: <span class="hljs-number">1</span> }; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡åˆ›å»ºå“åº”å¼å¯¹è±¡ </span>
<span class="hljs-keyword">const</span> proxy1 = <span class="hljs-title function_">reactive</span>(originalObj);
<span class="hljs-keyword">const</span> proxy2 = <span class="hljs-title function_">reactive</span>(proxy1); <span class="hljs-comment">// å°†ä»£ç†å¯¹è±¡å†æ¬¡ä»£ç†</span>
</code></pre>
<p>åœ¨<code>Vue3</code>çš„æºç ä¸­é€šè¿‡<code>__v_isReactive</code>æ ‡è®°æ¥åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactiveFlags</span> = {
  <span class="hljs-attr">IS_REACTIVE</span>: <span class="hljs-string">"__v_isReactive"</span>,
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// é¿å…é‡å¤ä»£ç†</span>
  <span class="hljs-keyword">if</span> (target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>]) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
      <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
    },
    <span class="hljs-comment">/* æ­¤å¤„æš‚æ—¶çœç•¥ */</span>
  })
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveProxy.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<ul>
<li>å½“ç¬¬ä¸€æ¬¡è°ƒç”¨<code>reactive</code>æ—¶ï¼Œæ£€æŸ¥<code>target</code>ä¸­æ˜¯å¦å·²ç»å­˜åœ¨<code>__v_isReactive</code>æ ‡è®°ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯<code>undefined</code>ï¼Œè¿”å›ä¸€ä¸ª<code>Proxy</code>ä»£ç†å¯¹è±¡ã€‚</li>
<li>å¦‚æœå°†è¿”å›çš„<code>Proxy</code>ä»£ç†å¯¹è±¡ï¼Œå†æ¬¡è°ƒç”¨<code>reactive</code>å‡½æ•°ï¼Œå†æ¬¡æ£€æŸ¥<code>__v_isReactive</code>æ˜¯å¦å­˜åœ¨ï¼Œå°†ä¼šè¿›å…¥<code>Proxy</code>ä»£ç†å¯¹è±¡çš„<code>get</code>æ–¹æ³•ä¸­ï¼Œè¿›å…¥åˆ¤æ–­è¿”å›<code>true</code>ã€‚ä»è€Œè¾¾åˆ°æ— è®ºå°†ç›¸åŒä»£ç†å¯¹è±¡è°ƒç”¨å¤šå°‘æ¬¡<code>reactive</code>éƒ½ä¸ä¼šäº§ç”Ÿå¤šå±‚ä»£ç†å¯¹è±¡åµŒå¥—ã€‚</li>
</ul>
<p>åœ¨<code>Vue3</code>ä¸­<code>get</code>å’Œ<code>set</code>åŒ…è£¹çš„å¯¹è±¡æ˜¯æŠ½ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶<code>baseHandlers</code>ä¸­çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¿›è¡Œç›¸åŒè°ƒæ•´ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandlers.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>; 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// 1. å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">/* åç»­å®ç°ä¾èµ–æ”¶é›† */</span>
  },

  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">if</span> (oldValue !== value) {
     <span class="hljs-comment">// åç»­è§¦å‘æ›´æ–°</span>
    }
  },
};
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// reactive.js</span>
<span class="hljs-keyword">import</span> { mutableHandlers } <span class="hljs-keyword">from</span> <span class="hljs-string">"./baseHandler.js"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactiveFlags</span> = {
  <span class="hljs-attr">IS_REACTIVE</span>: <span class="hljs-string">"__v_isReactive"</span>,
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// é¿å…é‡å¤ä»£ç†</span>
  <span class="hljs-keyword">if</span> (target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>]) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, mutableHandlers)
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveProxy.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<h2 data-id="heading-6">å‰¯ä½œç”¨ç®¡ç†</h2>
<p>åœ¨<code>Vue3</code>ä¸­æä¾›äº†ä¸€ä¸ª<code>effect</code>å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæä¾›ç»™ç”¨æˆ·è·å–æ•°æ®æ¸²æŸ“è§†å›¾ï¼Œæ•°æ®å˜åŒ–åå†æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ›´æ–°è§†å›¾ã€‚<code>effect</code>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å½“å‰å“åº”å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> activeEffect;
<span class="hljs-comment">// æ¸…ç†ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanupEffect</span>(<span class="hljs-params">effect</span>) {
  effect.<span class="hljs-property">deps</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">dep</span>) =&gt;</span> {
    dep.<span class="hljs-title function_">delete</span>(effect);
  });
  effect.<span class="hljs-property">deps</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactiveEffect</span> {
  active = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ˜¯å¦æ¿€æ´»çŠ¶æ€</span>
  deps = []; <span class="hljs-comment">// ä¾èµ–é›†åˆæ•°ç»„</span>
  parent = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// çˆ¶çº§effect å¤„ç†åµŒå¥—effect</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">fn, scheduler</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span> = fn; <span class="hljs-comment">// ç”¨æˆ·æä¾›çš„å‡½æ•°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scheduler</span> = scheduler <span class="hljs-comment">// è°ƒåº¦å™¨ï¼ˆç”¨äºcomputedã€watchï¼‰</span>
  }
  <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fn</span>();
    }
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å»ºç«‹effectçš„çˆ¶å­å…³ç³» ç¡®ä¿ä¾èµ–æ”¶é›†çš„å‡†ç¡®æ€§</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = activeEffect;
      activeEffect = <span class="hljs-variable language_">this</span>;
      <span class="hljs-comment">// æ¸…é™¤æ—§ä¾èµ– é¿å…ä¸å¿…è¦çš„æ›´æ–°</span>
      <span class="hljs-title function_">cleanupEffect</span>(<span class="hljs-variable language_">this</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fn</span>();
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// æ¢å¤çˆ¶çº§effect</span>
      activeEffect = <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = <span class="hljs-literal">undefined</span>;
    }
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">effect</span>(<span class="hljs-params">fn, options = {}</span>) {
  <span class="hljs-keyword">const</span> e = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactiveEffect</span>(fn, options.<span class="hljs-property">scheduler</span>);
  e.<span class="hljs-title function_">run</span>();
  <span class="hljs-comment">// ç»™åˆ°ç”¨æˆ·è‡ªè¡Œæ§åˆ¶å“åº”</span>
  <span class="hljs-keyword">const</span> runner = e.<span class="hljs-property">run</span>.<span class="hljs-title function_">bind</span>(e); <span class="hljs-comment">// ç¡®ä¿thisçš„æŒ‡å‘</span>
  runner.<span class="hljs-property">effect</span> = e;
  <span class="hljs-keyword">return</span> runner;
}
<span class="hljs-comment">// æ”¶é›†ä¾èµ–å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {}
<span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {}
</code></pre>
<h3 data-id="heading-7">å®ç°æ”¶é›†ä¾èµ–</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'jim '</span>});
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'app'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`<span class="hljs-subst">${state.name}</span>`</span>;
})
</code></pre>
<p>å½“è°ƒç”¨<code>effect</code>å‡½æ•°æ—¶ï¼Œå°†ä¼šæ‰§è¡Œç”¨æˆ·æä¾›çš„å‡½æ•°é€»è¾‘ï¼Œå¦‚ä¸Šè¿°ä»£ç æ‰§è¡Œ<code>state.name</code>æ—¶å°†ä¼šè¿›å…¥ä»£ç†å¯¹è±¡çš„<code>get</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸­è¿›è¡Œä¾èµ–æ”¶é›†ã€‚å³è°ƒç”¨<code>track</code>å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandler.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">// æ”¶é›†ä¾èµ–ï¼ˆæ‰€æœ‰å±æ€§è®¿é—®éƒ½éœ€è¦è¿½è¸ªï¼‰</span>
    <span class="hljs-title function_">track</span>(target, key);
    <span class="hljs-comment">// æ‰§è¡ŒåŸç”Ÿ get æ“ä½œ </span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
    <span class="hljs-comment">// æ·±å±‚å“åº”å¼ï¼šåµŒå¥—å¯¹è±¡/æ•°ç»„è‡ªåŠ¨è½¬ä¸ºå“åº”å¼ï¼ˆVue3 æ‡’ä»£ç†ç‰¹æ€§ï¼‰</span>
    <span class="hljs-keyword">if</span> (result &amp;&amp; <span class="hljs-title function_">isObject</span>(result)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
    }

    <span class="hljs-keyword">return</span> result;
  },
  <span class="hljs-comment">/* setæ–¹æ³•åœ¨æ­¤çœç•¥ */</span>
};
</code></pre>
<p>åœ¨<code>effect.js</code>ä¸­<code>track</code>å‡½æ•°ä¸­å®ç°ä¾èµ–æ”¶é›†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å½“å‰å“åº”å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> activeEffect;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>(); <span class="hljs-comment">//  æ”¶é›†ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) {
    targetMap.<span class="hljs-title function_">set</span>(target, (depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()));
  }
  <span class="hljs-keyword">let</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (!dep) {
    depsMap.<span class="hljs-title function_">set</span>(key, (dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>())); <span class="hljs-comment">// Vue3å†…éƒ¨æ˜¯ä¸€ä¸ªDepç±»</span>
  }
  <span class="hljs-title function_">trackEffects</span>(dep);
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackEffects</span>(<span class="hljs-params">dep</span>) {
  <span class="hljs-keyword">let</span> shouldTrack = !dep.<span class="hljs-title function_">has</span>(activeEffect);
  <span class="hljs-keyword">if</span> (shouldTrack) {
    dep.<span class="hljs-title function_">add</span>(activeEffect);
    activeEffect.<span class="hljs-property">deps</span>.<span class="hljs-title function_">push</span>(dep); <span class="hljs-comment">// åŒå‘è®°å½•</span>
  }
}
</code></pre>
<p>æ”¶é›†å®Œæ¯•åçš„ä¾èµ–å…³ç³»ç»“æ„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">WeakMap</span> {
  <span class="hljs-attr">target1</span>: <span class="hljs-title class_">Map</span> {
    <span class="hljs-attr">key1</span>: <span class="hljs-title class_">Set</span>[effect1, effect2],
    <span class="hljs-attr">key2</span>: <span class="hljs-title class_">Set</span>[effect3]
  },
  <span class="hljs-attr">target2</span>: <span class="hljs-title class_">Map</span> { ... }
}
</code></pre>
<h3 data-id="heading-8">å®ç°è§¦å‘ä¾èµ–</h3>
<p>å½“ç”¨æˆ·å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹æ—¶ï¼Œéœ€è¦æ ¹æ®æ”¶é›†çš„ä¾èµ–è‡ªåŠ¨å¯¹åº”æ‰§è¡Œ<code>effect</code>çš„ç”¨æˆ·å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js">state.<span class="hljs-property">name</span> = <span class="hljs-string">'tom'</span>
</code></pre>
<p>åœ¨<code>baseHandle.js</code>ä¸­è°ƒç”¨<code>trigger</code>å‡½æ•°ã€‚è¯¥å‡½æ•°å®ç°å…·ä½“çš„è§¦å‘ä¾èµ–</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandle.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track, trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-comment">/* getæ–¹æ³•å®ç°çœç•¥ */</span>
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">const</span> success = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
    <span class="hljs-comment">// 7. åªæœ‰å€¼å˜åŒ–ä¸”æ˜¯è‡ªèº«å±æ€§æ—¶ï¼Œæ‰è§¦å‘æ›´æ–°ï¼ˆé¿å…åŸå‹é“¾å¹²æ‰°ï¼‰</span>
    <span class="hljs-keyword">if</span> (success &amp;&amp; oldValue !== value) {
      <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
    }
    <span class="hljs-keyword">return</span> success;
  },
};
</code></pre>
<p>åœ¨<code>effect.js</code>ä¸­å®ç°<code>trigger</code>å‡½æ•°çš„å®ç°</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">let</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (dep) <span class="hljs-title function_">triggerEffects</span>(dep);
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">triggerEffects</span>(<span class="hljs-params">dep</span>) {
  <span class="hljs-keyword">const</span> effects = [...dep]; <span class="hljs-comment">// é¿å…åœ¨éå† Set è¿‡ç¨‹ä¸­ä¿®æ”¹ Set æœ¬èº«å¯¼è‡´çš„è¿­ä»£å™¨å¼‚å¸¸é—®é¢˜</span>
  effects.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">effect</span>) =&gt;</span> {
    <span class="hljs-comment">// é¿å…æ— é™é€’å½’ï¼šå½“å‰æ­£åœ¨æ‰§è¡Œçš„effectä¸å†æ¬¡è§¦å‘</span>
    <span class="hljs-keyword">if</span> (effect != activeEffect) {
      <span class="hljs-keyword">if</span> (!effect.<span class="hljs-property">scheduler</span>) {
        effect.<span class="hljs-title function_">run</span>();
      } <span class="hljs-keyword">else</span> {
        effect.<span class="hljs-title function_">scheduler</span>();
      }
    }
  });
}
</code></pre>
<h2 data-id="heading-9">å¯¹æ•°ç»„å“åº”å¼å¤„ç†</h2>
<p>åœ¨<code>Vue3</code>æºç ä¸­å•ç‹¬ä¸€ä¸ªæ–‡ä»¶<code>arrayInstrumentations</code>å¯¹æ•°ç»„çš„æ–¹æ³•é‡æ–°åŒ…è£…äº†ä¸€ä¸‹ã€‚æˆ‘çš„å¤„ç†ä¸æºç æœ‰ç‚¹ä¸åŒæ¯•ç«Ÿæ˜¯ç®€æ˜“ç‰ˆæœ¬ï¼Œä½†æ˜¯åŸç†éƒ½æ˜¯ä¸€æ ·çš„</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// arrayInstrumentations.js</span>
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">import</span> { isArray } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;

<span class="hljs-comment">// éœ€è¦ç‰¹æ®Šå¤„ç†çš„æ•°ç»„ä¿®æ”¹æ–¹æ³•ï¼ˆVue3 æºç ä¸­ä¹Ÿæ˜¯ç”¨ Set å­˜å‚¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> arrayInstrumentations = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([
  <span class="hljs-string">"push"</span>,
  <span class="hljs-string">"pop"</span>,
  <span class="hljs-string">"shift"</span>,
  <span class="hljs-string">"unshift"</span>,
  <span class="hljs-string">"splice"</span>,
  <span class="hljs-string">"sort"</span>,
  <span class="hljs-string">"reverse"</span>,
]);

<span class="hljs-comment">/**
 * åŒ…è£…æ•°ç»„ä¿®æ”¹æ–¹æ³•ï¼Œæ·»åŠ å“åº”å¼èƒ½åŠ›
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">method</span> - æ•°ç»„æ–¹æ³•å
 * <span class="hljs-doctag">@returns</span> åŒ…è£…åçš„å‡½æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createArrayMethod</span>(<span class="hljs-params">method</span>) {
  <span class="hljs-comment">// è·å–åŸç”Ÿæ•°ç»„æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> originalMethod = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[method];

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-comment">// 1. æ‰§è¡ŒåŸç”Ÿæ•°ç»„æ–¹æ³•ï¼ˆä¿è¯åŸæœ‰åŠŸèƒ½ä¸å˜ï¼‰</span>
    <span class="hljs-keyword">const</span> result = originalMethod.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);

    <span class="hljs-comment">// 2. å¤„ç†æ–°å¢å…ƒç´ çš„å“åº”å¼è½¬æ¢ï¼ˆpush/unshift/splice å¯èƒ½æ·»åŠ æ–°å…ƒç´ ï¼‰</span>
    <span class="hljs-keyword">let</span> inserted;
    <span class="hljs-keyword">switch</span> (method) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">"push"</span>:
      <span class="hljs-keyword">case</span> <span class="hljs-string">"unshift"</span>:
        inserted = args; <span class="hljs-comment">// è¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°å°±æ˜¯æ–°å¢å…ƒç´ </span>
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">"splice"</span>:
        inserted = args.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// splice ç¬¬ä¸‰ä¸ªå‚æ•°åŠä»¥åæ˜¯æ–°å¢å…ƒç´ </span>
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-comment">// æ–°å¢å…ƒç´ è½¬ä¸ºå“åº”å¼ï¼ˆé€’å½’å¤„ç†å¯¹è±¡/æ•°ç»„ï¼‰</span>
    <span class="hljs-keyword">if</span> (inserted) {
      inserted.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> item === <span class="hljs-string">"object"</span> &amp;&amp; item !== <span class="hljs-literal">null</span>) {
          <span class="hljs-title function_">reactive</span>(item);
        }
      });
    }

    <span class="hljs-comment">// 3. è§¦å‘ä¾èµ–æ›´æ–°ï¼ˆVue3 æºç ä¸­ä¼šè§¦å‘ length å’Œå¯¹åº”ç´¢å¼•çš„æ›´æ–°ï¼‰</span>
    <span class="hljs-title function_">trigger</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"length"</span>);
    <span class="hljs-keyword">return</span> result;
  };
}

<span class="hljs-comment">// ç”Ÿæˆæ‰€æœ‰åŒ…è£…åçš„æ•°ç»„æ–¹æ³•ï¼ˆé”®ï¼šæ–¹æ³•åï¼Œå€¼ï¼šåŒ…è£…å‡½æ•°ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> arrayMethods = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
arrayInstrumentations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">method</span>) =&gt;</span> {
  arrayMethods[method] = <span class="hljs-title function_">createArrayMethod</span>(method);
});

<span class="hljs-comment">/**
 * åˆ¤æ–­æ˜¯å¦æ˜¯éœ€è¦æ‹¦æˆªçš„æ•°ç»„æ–¹æ³•
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">unknown</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">key</span> - å±æ€§å/æ–¹æ³•å
 * <span class="hljs-doctag">@returns</span> <span class="hljs-variable">boolean</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isArrayInstrumentation</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">isArray</span>(target) &amp;&amp; arrayInstrumentations.<span class="hljs-title function_">has</span>(key);
}
</code></pre>
<p>ç„¶ååœ¨<code>baseHandler</code>ä¸­æ·»åŠ æ•°ç»„æƒ…å†µä¸‹çš„é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandler.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track, trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-comment">// å¼•å…¥æŠ½ç¦»çš„æ•°ç»„å·¥å…·</span>
<span class="hljs-keyword">import</span> { isArrayInstrumentation, arrayMethods } <span class="hljs-keyword">from</span> <span class="hljs-string">"./arrayInstrumentations"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// 1. å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">// 2. æ”¶é›†ä¾èµ–ï¼ˆæ‰€æœ‰å±æ€§è®¿é—®éƒ½éœ€è¦è¿½è¸ªï¼‰</span>
    <span class="hljs-title function_">track</span>(target, key);
    <span class="hljs-comment">// 3. æ‰§è¡ŒåŸç”Ÿ get æ“ä½œ</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
    <span class="hljs-comment">// 4. æ•°ç»„æ–¹æ³•æ‹¦æˆªï¼šå¦‚æœæ˜¯éœ€è¦å¤„ç†çš„æ•°ç»„æ–¹æ³•ï¼Œè¿”å›åŒ…è£…åçš„å‡½æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isArrayInstrumentation</span>(target, key)) {
      <span class="hljs-comment">// ç»‘å®š this ä¸ºç›®æ ‡æ•°ç»„ï¼Œç¡®ä¿åŸç”Ÿæ–¹æ³•æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡æ­£ç¡®</span>
      <span class="hljs-keyword">return</span> arrayMethods[key].<span class="hljs-title function_">bind</span>(target);
    }
    <span class="hljs-comment">// 5. æ·±å±‚å“åº”å¼ï¼šåµŒå¥—å¯¹è±¡/æ•°ç»„è‡ªåŠ¨è½¬ä¸ºå“åº”å¼ï¼ˆVue3 æ‡’ä»£ç†ç‰¹æ€§ï¼‰</span>
    <span class="hljs-keyword">if</span> (result &amp;&amp; <span class="hljs-title function_">isObject</span>(result)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
    }

    <span class="hljs-keyword">return</span> result;
  },

  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">const</span> isArrayTarget = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(target);
    <span class="hljs-comment">// 6. æ‰§è¡ŒåŸç”Ÿ set æ“ä½œ</span>
    <span class="hljs-keyword">const</span> success = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
    <span class="hljs-comment">// 7. åªæœ‰å€¼å˜åŒ–ä¸”æ˜¯è‡ªèº«å±æ€§æ—¶ï¼Œæ‰è§¦å‘æ›´æ–°ï¼ˆé¿å…åŸå‹é“¾å¹²æ‰°ï¼‰</span>
    <span class="hljs-keyword">if</span> (success &amp;&amp; oldValue !== value) {
      <span class="hljs-comment">// æ•°ç»„ç´¢å¼•è®¾ç½®ï¼šè§¦å‘å¯¹åº”ç´¢å¼•å’Œ length æ›´æ–°ï¼ˆVue3 æºç é€»è¾‘ï¼‰</span>
      <span class="hljs-keyword">if</span> (isArrayTarget &amp;&amp; key !== <span class="hljs-string">"length"</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-title class_">Number</span>(key);
        <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; target.<span class="hljs-property">length</span>) {
          <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ç´¢å¼•æ›´æ–°</span>
          <span class="hljs-title function_">trigger</span>(target, <span class="hljs-string">"length"</span>); <span class="hljs-comment">// è§¦å‘é•¿åº¦æ›´æ–°</span>
          <span class="hljs-keyword">return</span> success;
        }
      }
      <span class="hljs-comment">// æ™®é€šå¯¹è±¡/æ•°ç»„ length è®¾ç½®ï¼šè§¦å‘å¯¹åº” key æ›´æ–°</span>
      <span class="hljs-title function_">trigger</span>(target, key);
    }
    <span class="hljs-keyword">return</span> success;
  },
};
</code></pre>
<h2 data-id="heading-10">å®Œæ•´ä»£ç ä½¿ç”¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { reactive, effect } <span class="hljs-keyword">from</span> <span class="hljs-string">"./packages/index"</span>;
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"vue"</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.4.5"</span>,
  <span class="hljs-attr">author</span>: <span class="hljs-string">"vue team"</span>,
  <span class="hljs-attr">friends</span>: [<span class="hljs-string">"jake"</span>, <span class="hljs-string">"james"</span>],
});
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  app.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
    &lt;div&gt; Welcome <span class="hljs-subst">${state.name}</span> !&lt;/div&gt;
    &lt;div&gt; <span class="hljs-subst">${state.friends}</span> &lt;/div&gt;
  `</span>;
});
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  state.<span class="hljs-property">name</span> = <span class="hljs-string">"vue3"</span>; 
  state.<span class="hljs-property">friends</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">"jimmy"</span>);
}, <span class="hljs-number">1000</span>);
<span class="hljs-comment">// ä¸€å¼€å§‹æ˜¾ç¤º:</span>
<span class="hljs-comment">//    Welcome vue </span>
<span class="hljs-comment">//    'jake,james'</span>
<span class="hljs-comment">// 1ç§’é’Ÿåï¼š</span>
<span class="hljs-comment">//    Welcome vue3</span>
<span class="hljs-comment">//    'jake,james,jimmy'</span>
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ 200 è¡Œä»£ç ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„ Vue3 å“åº”å¼ç³»ç»Ÿæ ¸å¿ƒï¼š</p>
<ul>
<li>âœ… <strong>å“åº”å¼ä»£ç†</strong>: åŸºäº Proxy çš„æ‡’ä»£ç†æœºåˆ¶</li>
<li>âœ… <strong>ä¾èµ–æ”¶é›†</strong>: ç²¾å‡†çš„ effect è¿½è¸ª</li>
<li>âœ… <strong>æ‰¹é‡æ›´æ–°</strong>: é¿å…é‡å¤æ‰§è¡Œçš„è°ƒåº¦æœºåˆ¶</li>
<li>âœ… <strong>æ•°ç»„å¤„ç†</strong>: é‡å†™æ•°ç»„æ–¹æ³•ä¿æŒå“åº”æ€§</li>
<li>âœ… <strong>åµŒå¥—æ”¯æŒ</strong>: è‡ªåŠ¨çš„æ·±å±‚å“åº”å¼è½¬æ¢</li>
</ul>
<p><strong>å®Œæ•´ä»£ç å’Œèµ„æº</strong>
æœ¬æ–‡æ‰€æœ‰ä»£ç å·²å¼€æºï¼ŒåŒ…å«è¯¦ç»†æ³¨é‡Šå’Œæµ‹è¯•ç”¨ä¾‹ï¼š</p>
<p><strong>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgardenia83%2Fvue-source-code.git" target="_blank" title="https://github.com/gardenia83/vue-source-code.git" ref="nofollow noopener noreferrer">github.com/gardenia83/â€¦</a></strong></p>
<p>è¿™ä¸ºæˆ‘ä»¬ç†è§£ Vue3 çš„å“åº”å¼åŸç†æä¾›äº†åšå®çš„åŸºç¡€ï¼Œä¹Ÿä¸ºå­¦ä¹ æ›´é«˜çº§çš„ç‰¹æ€§å¦‚ computedã€watch ç­‰æ‰“ä¸‹äº†åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ]]></title>    <link>https://juejin.cn/post/7573687816431353866</link>    <guid>https://juejin.cn/post/7573687816431353866</guid>    <pubDate>2025-11-18T08:18:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816431353866" data-draft-id="7573968791202349102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ"/> <meta itemprop="keywords" content="Agent,LangChain,Python"/> <meta itemprop="datePublished" content="2025-11-18T08:18:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FreeCode"/> <meta itemprop="url" content="https://juejin.cn/user/1282499717900794"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282499717900794/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FreeCode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:18:06.000Z" title="Tue Nov 18 2025 08:18:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">LangSmithç®€ä»‹</h2>
<p>LangSmithæä¾›ç”¨äºå¼€å‘ã€è°ƒè¯•å’Œéƒ¨ç½²å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚å®ƒèƒ½å¸®åŠ©ä½ åœ¨åŒä¸€ä¸ªå¹³å°ä¸­å®Œæˆè¯·æ±‚è¿½è¸ªã€è¾“å‡ºè¯„ä¼°ã€æç¤ºè¯æµ‹è¯•ä»¥åŠéƒ¨ç½²ç®¡ç†ç­‰æ“ä½œã€‚
LangSmithä¸ä¾èµ–ç‰¹å®šæ¡†æ¶ï¼Œå› æ­¤æ— è®ºä½ æ˜¯å¦ä½¿ç”¨LangChainçš„å¼€æºåº“ï¼ˆlangchainå’Œlanggraphï¼‰ï¼Œéƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨è¯¥å·¥å…·ã€‚ä½ å¯ä»¥å…ˆåœ¨æœ¬åœ°è¿›è¡ŒåŸå‹å¼€å‘ï¼Œéšåæ— ç¼è¿‡æ¸¡åˆ°ç”Ÿäº§ç¯å¢ƒï¼›åŒæ—¶ï¼Œå€ŸåŠ©å…¶é›†æˆçš„ç›‘æ§ä¸è¯„ä¼°åŠŸèƒ½ï¼Œèƒ½å¤Ÿæ„å»ºå‡ºæ›´å¯é çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<h2 data-id="heading-1">å¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰</h2>
<p>å¯¹äºä½¿ç”¨å¤§æ¨¡å‹ï¼ˆLLMï¼‰æ„å»ºçš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰æ˜¯ä¸€é¡¹å…³é”®éœ€æ±‚ã€‚LLMå…·æœ‰éç¡®å®šæ€§ç‰¹å¾ï¼Œè¿™æ„å‘³ç€ç›¸åŒçš„æç¤ºè¯å¯èƒ½ä¼šç”Ÿæˆä¸åŒçš„å“åº”ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—LLMåº”ç”¨çš„è°ƒè¯•ä¸ç›‘æ§å·¥ä½œï¼Œæ¯”ä¼ ç»Ÿè½¯ä»¶æ›´å…·æŒ‘æˆ˜æ€§ã€‚</p>
<p>LangSmithä¸ºè§£å†³è¿™ä¸€é—®é¢˜æä¾›äº†æ–¹æ¡ˆï¼šå®ƒèƒ½è®©ä½ ç«¯åˆ°ç«¯åœ°æŒæ¡åº”ç”¨ç¨‹åºå¤„ç†è¯·æ±‚çš„å®Œæ•´è¿‡ç¨‹ã€‚æ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šç”Ÿæˆä¸€æ¡è¿½è¸ªè®°å½•ï¼ˆtraceï¼‰ï¼Œè¯¥è®°å½•ä¼šå®Œæ•´æ•æ‰æ•´ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶ã€‚ä¸€æ¡è¿½è¸ªè®°å½•åŒ…å«å¤šä¸ªç‹¬ç«‹è¿è¡Œå•å…ƒï¼ˆrunsï¼‰â€”â€” å³åº”ç”¨ç¨‹åºæ‰§è¡Œçš„å…·ä½“æ“ä½œï¼Œä¾‹å¦‚ä¸€æ¬¡LLMè°ƒç”¨æˆ–ä¸€ä¸ªä¿¡æ¯æ£€ç´¢æ­¥éª¤ã€‚é€šè¿‡å¯¹è¿™äº›è¿è¡Œå•å…ƒè¿›è¡Œè¿½è¸ªï¼Œä½ å¯ä»¥æ£€æŸ¥ã€è°ƒè¯•å¹¶éªŒè¯åº”ç”¨ç¨‹åºçš„è¿è¡Œè¡Œä¸ºã€‚</p>
<p>æœ¬æ–‡å°†æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„RAGåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸ºå…¶æ·»åŠ LangSmithè¿½è¸ªåŠŸèƒ½ã€‚å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>é…ç½®ä½ çš„ç¯å¢ƒã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªå¯æ£€ç´¢ä¸Šä¸‹æ–‡å¹¶è°ƒç”¨LLMçš„åº”ç”¨ç¨‹åºã€‚</li>
<li>å¯ç”¨è¿½è¸ªåŠŸèƒ½ï¼Œä»¥åŒæ—¶æ•æ‰æ£€ç´¢æ­¥éª¤å’ŒLLMè°ƒç”¨è¿‡ç¨‹ã€‚</li>
<li>åœ¨LangSmithç•Œé¢ä¸­æŸ¥çœ‹ç”Ÿæˆçš„è¿½è¸ªè®°å½•ã€‚</li>
</ul>
<h2 data-id="heading-2">å‡†å¤‡</h2>
<p>ä½ éœ€è¦ï¼š</p>
<ul>
<li>ä¸€ä¸ªLangSmithè´¦å·ï¼šå¯åœ¨smith.langchain.comæ³¨å†Œæˆ–ç™»å½•ã€‚</li>
<li>ä¸€ä¸ªLangSmith APIå¯†é’¥ï¼šè¯·å‚è€ƒã€Šåˆ›å»ºAPIå¯†é’¥æŒ‡å—ã€‹æ“ä½œã€‚</li>
<li>å®‰è£…langsmith</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">pip install -U langsmith
</code></pre>
<ul>
<li>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> LANGSMITH_TRACING=<span class="hljs-literal">true</span>
<span class="hljs-built_in">export</span> LANGSMITH_API_KEY=<span class="hljs-string">"&lt;your-langsmith-api-key&gt;"</span>
<span class="hljs-built_in">export</span> LANGSMITH_WORKSPACE_ID=<span class="hljs-string">"&lt;your-workspace-id&gt;"</span>

</code></pre>
<h2 data-id="heading-3">æ„å»ºæ™ºèƒ½ä½“åº”ç”¨</h2>
<p>å¯ä»¥ä½¿ç”¨æœ¬æ­¥éª¤ä¸­åˆ—å‡ºçš„ç¤ºä¾‹åº”ç”¨ä»£ç ï¼Œä¸ºä¸€ä¸ªRAGåº”ç”¨ç¨‹åºæ·»åŠ åŸ‹ç‚¹ç›‘æµ‹ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨ä½ è‡ªå·±åŒ…å«å¤§æ¨¡å‹è°ƒç”¨é€»è¾‘çš„åº”ç”¨ä»£ç ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€å°åŒ–çš„RAGåº”ç”¨ç¨‹åºï¼Œå®ƒç›´æ¥ä½¿ç”¨OpenAI SDKï¼Œæš‚æœªæ·»åŠ ä»»ä½•LangSmithè¿½è¸ªåŠŸèƒ½ã€‚è¯¥åº”ç”¨åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ul>
<li>æ£€ç´¢å™¨å‡½æ•°ï¼ˆRetriever functionï¼‰ï¼šæ¨¡æ‹Ÿæ–‡æ¡£æ£€ç´¢è¿‡ç¨‹ï¼Œä¸”å§‹ç»ˆè¿”å›ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚</li>
<li>OpenAI å®¢æˆ·ç«¯ï¼ˆOpenAI clientï¼‰ï¼šåˆå§‹åŒ–ä¸€ä¸ªåŸºç¡€çš„ OpenAI å®¢æˆ·ç«¯ï¼Œç”¨äºå‘é€èŠå¤©è¡¥å…¨è¯·æ±‚ã€‚</li>
<li>RAG å‡½æ•°ï¼ˆRAG functionï¼‰ï¼šå°†æ£€ç´¢åˆ°çš„æ–‡æ¡£ä¸ç”¨æˆ·çš„é—®é¢˜ç»“åˆï¼Œæ„å»ºç³»ç»Ÿæç¤ºè¯ï¼›è°ƒç”¨ chat.completions.create() æ¥å£ï¼›å¹¶è¿”å›åŠ©æ‰‹çš„å“åº”ç»“æœã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># Minimal example retriever</span>
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

<span class="hljs-comment"># OpenAI client call (no wrapping yet)</span>
client = OpenAI()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )

    <span class="hljs-comment"># This call is not traced yet</span>
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-4">è¿½è¸ªLLMè°ƒç”¨</h2>
<p>è¿½è¸ªæ‰€æœ‰çš„å¤§æ¨¡å‹è°ƒç”¨ï¼ŒLangSmithæä¾›äº†å¯¹åº”çš„åŒ…è£…å™¨ï¼ˆwrapperï¼‰ï¼š</p>
<ul>
<li>Pythonè¯­è¨€ï¼šwrap_openai</li>
<li>TypeScriptè¯­è¨€ï¼šwrapOpenAI</li>
</ul>
<p>æ­¤ä»£ç ç‰‡æ®µä¼šå¯¹OpenAIå®¢æˆ·ç«¯è¿›è¡ŒåŒ…è£…ï¼Œè¿™æ ·åç»­æ¯ä¸€æ¬¡æ¨¡å‹è°ƒç”¨éƒ½ä¼šè¢«è‡ªåŠ¨è®°å½•ï¼Œå¹¶ä½œä¸ºLangSmithä¸­ä¸€æ¡è¿½è¸ªè®°å½•çš„å­è¿è¡Œå•å…ƒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">from</span> langsmith.wrappers <span class="hljs-keyword">import</span> wrap_openai  <span class="hljs-comment"># traces openai calls</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

client = wrap_openai(OpenAI())  <span class="hljs-comment"># log traces by wrapping the model calls</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-5">è¿½è¸ªæ•´ä¸ªåº”ç”¨</h2>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨traceableè£…é¥°å™¨ï¼Œæ¥è¿½è¸ªæ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œè€Œä¸åªæ˜¯ä»…ä»…è¿½è¸ªå¤§å‹è¯­è¨€æ¨¡å‹çš„è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">from</span> langsmith.wrappers <span class="hljs-keyword">import</span> wrap_openai
<span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> traceable

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

client = wrap_openai(OpenAI())  <span class="hljs-comment"># keep this to capture the prompt and response from the LLM</span>

<span class="hljs-meta">@traceable</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-6">è¿½è¸ªLangChainåº”ç”¨</h2>
<ul>
<li>è‡ªåŠ¨è¿½è¸ª</li>
</ul>
<p>LangSmithå¯ä¸LangChainæ— ç¼é›†æˆï¼Œä½ åªéœ€è¦é…ç½®LangSmithçš„ç¯å¢ƒå˜é‡ï¼Œå³å¯è‡ªåŠ¨è¿½è¸ªLangChainåº”ç”¨çš„è¿è¡Œã€‚</p>
<ul>
<li>é€‰æ‹©æ€§è·Ÿè¸ª</li>
</ul>
<p>æœ‰æ—¶å€™ä½ å¹¶ä¸éœ€è¦è¿½è¸ªæ™ºèƒ½ä½“æ‰€æœ‰çš„è¡Œä¸ºã€‚ä½ å¯èƒ½å¸Œæœ›é€‰æ‹©æ€§çš„è¿½è¸ªä¸€äº›è¡Œä¸ºã€‚ä½¿ç”¨tracing_contextä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥å®ç°é€‰æ‹©æ€§çš„è¿½è¸ªã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># You can opt-in to specific invocations..</span>
<span class="hljs-keyword">import</span> langsmith <span class="hljs-keyword">as</span> ls

<span class="hljs-keyword">with</span> ls.tracing_context(enabled=<span class="hljs-literal">True</span>):
    chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I using a callback?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm using a callback"</span>})

<span class="hljs-comment"># This will NOT be traced (assuming LANGSMITH_TRACING is not set)</span>
chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I being traced?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm not being traced"</span>})

<span class="hljs-comment"># This would not be traced, even if LANGSMITH_TRACING=true</span>
<span class="hljs-keyword">with</span> ls.tracing_context(enabled=<span class="hljs-literal">False</span>):
    chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I being traced?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm not being traced"</span>})
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573738017988165675</link>    <guid>https://juejin.cn/post/7573738017988165675</guid>    <pubDate>2025-11-18T08:18:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988165675" data-draft-id="7573588675638345743" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜"/> <meta itemprop="keywords" content="API,Vue.js"/> <meta itemprop="datePublished" content="2025-11-18T08:18:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jason_yang"/> <meta itemprop="url" content="https://juejin.cn/user/2972704795802653"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2972704795802653/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jason_yang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:18:29.000Z" title="Tue Nov 18 2025 08:18:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    33
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”±äºåœ°åŸŸé™åˆ¶ï¼Œä¸€èˆ¬åœ¨ä¿„è¯­åŒºåªèƒ½ä½¿ç”¨Yandexåšåœ°å›¾å±•ç¤ºï¼Œè¿™é‡Œä»‹ç»yandex å¸¸ç”¨çš„ä¸€äº›api</p>
<blockquote>
<p>ç”±äºå¾ˆå¤šèµ„æ–™å’Œaiéƒ½æ˜¯2.1çš„ç‰ˆæœ¬ï¼Œæ•…æ­¤é€‰æ‹©äº†è¾ƒè€çš„ç‰ˆæœ¬2.1åšå¼€å‘ï¼Œæœ€æ–°æ›´æ–°åˆ°v3çš„ç‰ˆæœ¬</p>
</blockquote>
<h2 data-id="heading-0">1.åˆå§‹åŒ–</h2>
<p>å¼•å…¥èµ„æº</p>
<pre><code class="hljs language-js" lang="js">&lt;script src=<span class="hljs-string">"https://api-maps.yandex.ru/2.1/?lang=zh_CN&amp;onload=initMap"</span> defer&gt;&lt;/script&gt;
 <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"map"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> 
</code></pre>
<p>åˆå§‹åŒ–</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºdivçš„id</li>
</ul>
<pre><code class="hljs language-js" lang="js">     <span class="hljs-keyword">let</span> map;
     
    <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">initMap</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> mapCenter = [<span class="hljs-number">31.0</span>, <span class="hljs-number">114.0</span>]; <span class="hljs-comment">// ä¸­å›½ä¸­å—éƒ¨ï¼Œè®©å¤šä¸ªåŸå¸‚å¯è§</span>
      map = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(<span class="hljs-string">"map"</span>, {
        <span class="hljs-attr">center</span>: mapCenter,
        <span class="hljs-attr">zoom</span>: <span class="hljs-number">5</span>
      });
    } 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d2e31877ffe4cd1a878530c27024d2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=TkVareLnso9gPeyt%2BYtFbzlYaz8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">å°è£…åˆå§‹åŒ–</h3>
<p>ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ï¼Œæˆ‘ä»¬å°è£…ä¸€ä¸‹ yandexçš„åˆå§‹åŒ–ã€‚</p>
<p>è¿™é‡Œé€šè¿‡åŠ¨æ€æ’å…¥jsæ–¹å¼åˆå§‹åŒ–</p>
<blockquote>
<p>æ³¨æ„åŸæ¥çš„onload é€šè¿‡è¿™ç§æ–¹å¼æ— æ³•æ­£å¸¸è§¦å‘ã€‚å¯ä»¥æ­£å¸¸åŒæ­¥æ–¹æ³•ç¼–å†™ä»£ç å³å¯ã€‚å¦‚åœ¨ï¼š<code>map = new (window as any).ymaps.Map(...)</code>åˆå§‹åŒ–åä¸‹é¢æ¥ç€å†™éœ€è¦åˆå§‹åŒ–çš„é€»è¾‘</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
  <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">15</span>
 

    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 
    
    <span class="hljs-comment">// åœ¨è¿™é‡Œæ­£å¸¸å†™åŒæ­¥çš„ä»£ç </span>
  }

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">2.æ ‡è®°</h2>
<h3 data-id="heading-3">ç³»ç»Ÿè‡ªå¸¦æ ‡è®°</h3>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåæ ‡</li>
<li>ç¬¬äºŒä¸ªä¸ºå¼¹æ¡†å†…å®¹</li>
</ul>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
         [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
          { <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">'&lt;h3&gt;åŒ—äº¬ç«™ç‚¹&lt;/h3&gt;&lt;p&gt;è¿™æ˜¯é¦–éƒ½æ ¸å¿ƒç«™ç‚¹ï¼ŒåŠŸèƒ½é½å…¨ã€‚&lt;/p&gt;'</span> }, 
        );
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8d00b31ee24434990fdd8c1bd342216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=Zk6Ral3kOrRcd0JEJtvVtaDkuec%3D" alt="image.png" loading="lazy"/></p>
<p>ç‚¹å‡»æ•ˆæœ
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fb2ddd225fb47a699fe88e87ad2fae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=AWijn1ce0uY%2FjbvtM6QRAyWFT3k%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">è‡ªå®šä¹‰æ ‡è®°å›¾æ ‡</h3>
<p>ç”±äºè‡ªå¸¦çš„å›¾æ ‡å¥½ä¸‘ï¼Œä¸€èˆ¬ä½¿ç”¨ç¾å·¥è®¾è®¡çš„iconã€‚</p>
<ul>
<li>é€šè¿‡å‚æ•°iconLayout æŒ‡å®šæ¸²æŸ“ç±»å‹</li>
<li>é€šè¿‡å‚æ•°iconImageHref è®¾ç½®å¯¹åº”çš„å›¾ç‰‡</li>
</ul>
<pre><code class="hljs language-js" lang="js">   myPlacemarkWithContent = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
           [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
            {
                <span class="hljs-attr">hintContent</span>: <span class="hljs-string">"A custom placemark icon with contents"</span>,
                <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">"This one â€” for Christmas"</span>, 
            },
            { 
                <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">"default#imageWithContent"</span>, 
                <span class="hljs-attr">iconImageHref</span>: <span class="hljs-string">"dashboard/local1.png"</span>, <span class="hljs-comment">// è‡ªå®šä¹‰å›¾ç‰‡</span>
                <span class="hljs-comment">// The size of the placemark.</span>
                <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">46</span>], 
                <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">24</span>, -<span class="hljs-number">24</span>], 
                <span class="hljs-attr">iconContentOffset</span>: [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>],  
            }
        );
        
    map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(myPlacemarkWithContent);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86b120666e104c50aa91ab8a0b6c9acd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=RhxnuXu0PX0w63uGO%2FymSDtGgg4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">å›¾æ ‡è¿½åŠ ä¿¡æ¯æ˜¾ç¤º</h3>
<p>é€šè¿‡ymaps.templateLayoutFactory.createClass æˆ‘ä»¬å¯ä»¥åœ¨å›¾æ ‡åŸºç¡€ä¸Šè¿½åŠ ä¿¡æ¯</p>
<pre><code class="hljs language-js" lang="js">
        <span class="hljs-title class_">MyIconContentLayout</span> = ymaps.<span class="hljs-property">templateLayoutFactory</span>.<span class="hljs-title function_">createClass</span>(
            <span class="hljs-string">'&lt;div style="color: #FFFFFF; font-weight: bold;"&gt;$[properties.iconContent]&lt;/div&gt;'</span>
        ), 
        myPlacemarkWithContent = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
           [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
            {
                <span class="hljs-attr">hintContent</span>: <span class="hljs-string">"A custom placemark icon with contents"</span>,
                <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">"This one â€” for Christmas"</span>,
                <span class="hljs-attr">iconContent</span>: <span class="hljs-string">"M"</span>,
            },
            { 
                <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">"default#imageWithContent"</span>,
                <span class="hljs-comment">// Custom image for the placemark icon.</span>
                <span class="hljs-attr">iconImageHref</span>: <span class="hljs-string">"dashboard/local1.png"</span>,
                <span class="hljs-comment">// The size of the placemark.</span>
                <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">46</span>], 
                <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">24</span>, -<span class="hljs-number">24</span>], 
                <span class="hljs-attr">iconContentOffset</span>: [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>], 
                <span class="hljs-attr">iconContentLayout</span>: <span class="hljs-title class_">MyIconContentLayout</span>,
            }
        );
        map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(myPlacemarkWithContent);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2778f6319840421b94505f77a602b44b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=fgVLRCDj0qcDx1ISVCKGqFwdRB4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">3.æ±‡æ€»æ˜¾ç¤º</h2>
<h3 data-id="heading-7">ç³»ç»Ÿè‡ªå¸¦Clusterer</h3>
<p>ç³»ç»Ÿè‡ªåŠ¨Clusterer</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myMap = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(
            <span class="hljs-string">"map"</span>,
            {
                <span class="hljs-attr">center</span>: [<span class="hljs-number">55.751574</span>, <span class="hljs-number">37.573856</span>],
                <span class="hljs-attr">zoom</span>: <span class="hljs-number">9</span>,
            },
            {
                <span class="hljs-attr">searchControlProvider</span>: <span class="hljs-string">"yandex#search"</span>,
            }
        ),
        clusterer = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Clusterer</span>({
            <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#invertedVioletClusterIcons"</span>,
            <span class="hljs-attr">clusterHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">geoObjectHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
        });

 

    <span class="hljs-keyword">var</span> getPointData = <span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">balloonContentBody</span>:
                    <span class="hljs-string">"placemark &lt;strong&gt;balloon "</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
                <span class="hljs-attr">clusterCaption</span>: <span class="hljs-string">"placemark &lt;strong&gt;"</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
            };
        },
        getPointOptions = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#violetIcon"</span>,
            };
        },
        points = [
            [<span class="hljs-number">55.831903</span>, <span class="hljs-number">37.411961</span>],
            [<span class="hljs-number">55.763338</span>, <span class="hljs-number">37.565466</span>],
            [<span class="hljs-number">55.763338</span>, <span class="hljs-number">37.565466</span>],
            [<span class="hljs-number">55.744522</span>, <span class="hljs-number">37.616378</span>],
            [<span class="hljs-number">55.780898</span>, <span class="hljs-number">37.642889</span>],
            [<span class="hljs-number">55.793559</span>, <span class="hljs-number">37.435983</span>],
            [<span class="hljs-number">55.800584</span>, <span class="hljs-number">37.675638</span>],
            [<span class="hljs-number">55.716733</span>, <span class="hljs-number">37.589988</span>],
            [<span class="hljs-number">55.775724</span>, <span class="hljs-number">37.56084</span>],
            [<span class="hljs-number">55.822144</span>, <span class="hljs-number">37.433781</span>],
            [<span class="hljs-number">55.87417</span>, <span class="hljs-number">37.669838</span>],
            [<span class="hljs-number">55.71677</span>, <span class="hljs-number">37.482338</span>],
            [<span class="hljs-number">55.78085</span>, <span class="hljs-number">37.75021</span>],
            [<span class="hljs-number">55.810906</span>, <span class="hljs-number">37.654142</span>],
            [<span class="hljs-number">55.865386</span>, <span class="hljs-number">37.713329</span>],
            [<span class="hljs-number">55.847121</span>, <span class="hljs-number">37.525797</span>],
            [<span class="hljs-number">55.778655</span>, <span class="hljs-number">37.710743</span>],
            [<span class="hljs-number">55.623415</span>, <span class="hljs-number">37.717934</span>],
            [<span class="hljs-number">55.863193</span>, <span class="hljs-number">37.737</span>],
            [<span class="hljs-number">55.86677</span>, <span class="hljs-number">37.760113</span>],
            [<span class="hljs-number">55.698261</span>, <span class="hljs-number">37.730838</span>],
            [<span class="hljs-number">55.6338</span>, <span class="hljs-number">37.564769</span>],
            [<span class="hljs-number">55.639996</span>, <span class="hljs-number">37.5394</span>],
            [<span class="hljs-number">55.69023</span>, <span class="hljs-number">37.405853</span>],
            [<span class="hljs-number">55.77597</span>, <span class="hljs-number">37.5129</span>],
            [<span class="hljs-number">55.775777</span>, <span class="hljs-number">37.44218</span>],
            [<span class="hljs-number">55.811814</span>, <span class="hljs-number">37.440448</span>],
            [<span class="hljs-number">55.751841</span>, <span class="hljs-number">37.404853</span>],
            [<span class="hljs-number">55.627303</span>, <span class="hljs-number">37.728976</span>],
            [<span class="hljs-number">55.816515</span>, <span class="hljs-number">37.597163</span>],
            [<span class="hljs-number">55.664352</span>, <span class="hljs-number">37.689397</span>],
            [<span class="hljs-number">55.679195</span>, <span class="hljs-number">37.600961</span>],
            [<span class="hljs-number">55.673873</span>, <span class="hljs-number">37.658425</span>],
            [<span class="hljs-number">55.681006</span>, <span class="hljs-number">37.605126</span>],
            [<span class="hljs-number">55.876327</span>, <span class="hljs-number">37.431744</span>],
            [<span class="hljs-number">55.843363</span>, <span class="hljs-number">37.778445</span>],
            [<span class="hljs-number">55.875445</span>, <span class="hljs-number">37.549348</span>],
            [<span class="hljs-number">55.662903</span>, <span class="hljs-number">37.702087</span>],
            [<span class="hljs-number">55.746099</span>, <span class="hljs-number">37.434113</span>],
            [<span class="hljs-number">55.83866</span>, <span class="hljs-number">37.712326</span>],
            [<span class="hljs-number">55.774838</span>, <span class="hljs-number">37.415725</span>],
            [<span class="hljs-number">55.871539</span>, <span class="hljs-number">37.630223</span>],
            [<span class="hljs-number">55.657037</span>, <span class="hljs-number">37.571271</span>],
            [<span class="hljs-number">55.691046</span>, <span class="hljs-number">37.711026</span>],
            [<span class="hljs-number">55.803972</span>, <span class="hljs-number">37.65961</span>],
            [<span class="hljs-number">55.616448</span>, <span class="hljs-number">37.452759</span>],
            [<span class="hljs-number">55.781329</span>, <span class="hljs-number">37.442781</span>],
            [<span class="hljs-number">55.844708</span>, <span class="hljs-number">37.74887</span>],
            [<span class="hljs-number">55.723123</span>, <span class="hljs-number">37.406067</span>],
            [<span class="hljs-number">55.858585</span>, <span class="hljs-number">37.48498</span>],
        ],
        geoObjects = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
        geoObjects[i] = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
            points[i],
            <span class="hljs-title function_">getPointData</span>(i),
            <span class="hljs-title function_">getPointOptions</span>()
        );
    }

    clusterer.<span class="hljs-title function_">add</span>(geoObjects);
    myMap.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(clusterer);

    myMap.<span class="hljs-title function_">setBounds</span>(clusterer.<span class="hljs-title function_">getBounds</span>(), {
        <span class="hljs-attr">checkZoomRange</span>: <span class="hljs-literal">true</span>,
    });
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ae5718772104892b86d4585c5081bf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=Fhn8vPr4BDy9Oy3z6DKgXMIQjBE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bc93823be3d46158ac8f48d403c378d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=yZOSe1sUk41L%2F0vqBCA3Z9%2BcpHY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e346afd08bf540e7a5ffe053f417443e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=iizC3y7tJ28U4LdaPL0Acb9c1tM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c432457589b64e468b433e5d26bb1cbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=QBybwgtkCVd6T2Kjq8e8WfKEkEs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">éªŒè¯è‡ªå¸¦clustererçš„ç“¶é¢ˆ</h3>
<p>é€šè¿‡éšæœºæ–¹æ³•åˆ›å»º4wèŠ‚ç‚¹</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomData</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COUNT</span> = <span class="hljs-number">40000</span> <span class="hljs-comment">// 300000</span>
    <span class="hljs-keyword">const</span> locations = [] 
    <span class="hljs-comment">// æ·±åœ³å¸‚ä¸­å¿ƒåæ ‡èŒƒå›´ï¼ˆå¤§è‡´ï¼‰</span>
    <span class="hljs-keyword">const</span> baseLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">const</span> baseLng = <span class="hljs-number">37.618423</span>
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable constant_">COUNT</span>; i++) {
      <span class="hljs-keyword">const</span> lat = baseLat + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">30.5</span> <span class="hljs-comment">// +-0.25èŒƒå›´</span>
      <span class="hljs-keyword">const</span> lng = baseLng + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">100.5</span>
  
      locations.<span class="hljs-title function_">push</span>([ <span class="hljs-built_in">parseFloat</span>(lat.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>)),
        <span class="hljs-built_in">parseFloat</span>(lng.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>))])
    }
    <span class="hljs-keyword">return</span> locations
  }  <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">15</span>
 

    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 

       <span class="hljs-keyword">let</span> clusterer =  <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Clusterer</span>({
            <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#invertedVioletClusterIcons"</span>,
            <span class="hljs-attr">clusterHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">geoObjectHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
        }); 
    <span class="hljs-keyword">let</span> getPointData = <span class="hljs-keyword">function</span> (<span class="hljs-params">index:number</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">balloonContentBody</span>:
                    <span class="hljs-string">"placemark &lt;strong&gt;balloon "</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
                <span class="hljs-attr">clusterCaption</span>: <span class="hljs-string">"placemark &lt;strong&gt;"</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
            };
        },
        getPointOptions = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#violetIcon"</span>,
            };
        };
    <span class="hljs-keyword">let</span>    points = <span class="hljs-title function_">getRandomData</span>()
    <span class="hljs-keyword">let</span>    geoObjects = []

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
        geoObjects[i] = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
            points[i],
            <span class="hljs-title function_">getPointData</span>(i),
            <span class="hljs-title function_">getPointOptions</span>()
        );
    }

    clusterer.<span class="hljs-title function_">add</span>(geoObjects);
    map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(clusterer);

    map.<span class="hljs-title function_">setBounds</span>(clusterer.<span class="hljs-title function_">getBounds</span>(), {
        <span class="hljs-attr">checkZoomRange</span>: <span class="hljs-literal">true</span>,
    });

  }
  

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
 

  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3edbbcd56de4725b418e0ea3661f66f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=bLtkWB5ItteZfTmIlvBL%2FKmjuxk%3D" alt="image.png" loading="lazy"/>
åœ¨æ¸²æŸ“æ—¶å·²ç»å¼€å§‹å¡äº†ã€‚</p>
<p>è¿™é‡Œå¯ä»¥å‚è€ƒä¹‹å‰è°·æ­Œåœ°å›¾çš„ä¼˜åŒ–æ–¹æ¡ˆ
<a href="https://juejin.cn/post/7501119171796615219" target="_blank" title="https://juejin.cn/post/7501119171796615219">juejin.cn/post/750111â€¦</a></p>
<p>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ä¸ç›´æ¥ä½¿ç”¨è‡ªå¸¦çš„clusterï¼Œæˆ‘ä»¬é€šè¿‡åå°è®¡ç®—ï¼Œå‰å°è‡ªå®šä¹‰æ¸²æŸ“è¿”å›çš„æ±‡æ€»æ•°æ®</p>
<h3 data-id="heading-9">è‡ªå®šä¹‰æ¸²æŸ“åå°æ±‡æ€»æ•°æ®</h3>
<p>é€šè¿‡åªç»˜åˆ¶å°‘é‡çš„æ±‡æ€»æ ‡è®°ï¼Œæ¥æå‡æ¸²æŸ“æ•ˆç‡</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomData</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COUNT</span> = <span class="hljs-number">10</span> <span class="hljs-comment">// 300000</span>
    <span class="hljs-keyword">const</span> locations = []
  
    <span class="hljs-comment">// æ·±åœ³å¸‚ä¸­å¿ƒåæ ‡èŒƒå›´ï¼ˆå¤§è‡´ï¼‰</span>
    <span class="hljs-keyword">const</span> baseLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">const</span> baseLng = <span class="hljs-number">37.618423</span>
 
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable constant_">COUNT</span>; i++) {
      <span class="hljs-keyword">const</span> lat = baseLat + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">35</span> <span class="hljs-comment">// +-0.25èŒƒå›´</span>
      <span class="hljs-keyword">const</span> lng = baseLng + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">35</span>
  
      locations.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">id</span>: <span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>`</span>,
        <span class="hljs-attr">type</span>: i % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>,
        <span class="hljs-attr">total</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>,
        <span class="hljs-attr">lat</span>: <span class="hljs-built_in">parseFloat</span>(lat.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>)),
        <span class="hljs-attr">lng</span>: <span class="hljs-built_in">parseFloat</span>(lng.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>))
      })
    }
    <span class="hljs-keyword">return</span> locations
  }

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">createClusterIcon</span> = (<span class="hljs-params">count: number, type: string, size: number = <span class="hljs-number">40</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> color = type === <span class="hljs-string">'green'</span> ? <span class="hljs-string">'#00BD24'</span> : <span class="hljs-string">'#E0312C'</span>
    <span class="hljs-keyword">const</span> svg = <span class="hljs-string">`
    &lt;svg width="<span class="hljs-subst">${size}</span>" height="<span class="hljs-subst">${size}</span>" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"&gt;
      &lt;g opacity="0.280000"&gt;
        &lt;circle id="æ¤­åœ† 201" cx="20" cy="20" r="20" fill="<span class="hljs-subst">${color}</span>" /&gt;
      &lt;/g&gt;
      &lt;g opacity="0.520000"&gt;
        &lt;circle id="æ¤­åœ† 202" cx="20" cy="20" r="17" fill="<span class="hljs-subst">${color}</span>"  /&gt;
      &lt;/g&gt;
      &lt;circle id="æ¤­åœ† 203" cx="20" cy="20" r="14" fill="<span class="hljs-subst">${color}</span>" /&gt;
      &lt;text x="20" y="25" font-size="10" fill="#fff" text-anchor="middle" dominant-baseline="top"&gt;
        <span class="hljs-subst">${count}</span>
      &lt;/text&gt;
    &lt;/svg&gt;
  `</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`data:image/svg+xml;charset=utf-8,<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(svg)}</span>`</span>
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createCluster</span> = (<span class="hljs-params">title:string,own:number,total:number,lat:number,lng:number</span>) =&gt; {
      <span class="hljs-keyword">const</span> color = own === <span class="hljs-number">1</span> ? <span class="hljs-string">'green'</span> : <span class="hljs-string">'red'</span>
      <span class="hljs-comment">// åˆ›å»ºSVGæ ¼å¼çš„åœ†å½¢å›¾æ ‡</span>
      <span class="hljs-keyword">const</span> iconHref = <span class="hljs-title function_">createClusterIcon</span>(total, color, <span class="hljs-number">40</span>)

      <span class="hljs-comment">// åˆ›å»ºæ ‡è®°</span>
      <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Placemark</span>(
        [lat, lng],
        {
          <span class="hljs-attr">hintContent</span>: title, 
          <span class="hljs-comment">// ä¿å­˜å®Œæ•´çš„æ ‡è®°æ•°æ®</span>
          <span class="hljs-attr">markerData</span>: {
            <span class="hljs-attr">title</span>: title,
          },
        },
        {
          <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">'default#image'</span>, <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤å›¾ç‰‡å¸ƒå±€</span>
          <span class="hljs-attr">iconImageHref</span>: iconHref, <span class="hljs-comment">// å¼•ç”¨ SVG çš„ Data URI</span>
          <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">40</span>], <span class="hljs-comment">// å›¾æ ‡æ˜¾ç¤ºå°ºå¯¸</span>
          <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">40</span> / <span class="hljs-number">2</span>, -<span class="hljs-number">40</span> / <span class="hljs-number">2</span>], <span class="hljs-comment">// åç§»é‡ï¼ˆä¸­å¿ƒç‚¹å¯¹é½åæ ‡ï¼‰</span>
        },
      ) 
      <span class="hljs-comment">// å°†æ ‡è®°æ·»åŠ åˆ°åœ°å›¾</span>
      map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(placemark)
      <span class="hljs-keyword">return</span> placemark
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">5</span> 
    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 
 
    <span class="hljs-keyword">let</span> points = <span class="hljs-title function_">getRandomData</span>() 

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
      <span class="hljs-keyword">const</span> obj = points[i]
      <span class="hljs-title function_">createCluster</span>(obj.<span class="hljs-property">id</span>,obj.<span class="hljs-property">type</span>, obj.<span class="hljs-property">total</span>, obj.<span class="hljs-property">lat</span>,obj.<span class="hljs-property">lng</span>) 
    }  
  }
  

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
 

  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd54c26589e489696a43640777ea806~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=4b5SaYdqIpEhtl5SRpvujWiJa%2FA%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç°åœ¨æ±‡æ€»çš„åªæ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¹¶æ²¡æœ‰å®Œå…¨åœ¨åœ°å›¾å…¨éƒ¨ç”Ÿæˆã€‚</p>
<h2 data-id="heading-10">4.è‡ªå®šä¹‰å¼¹æ¡†</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d35e9d96918c4c4a9e730d6904b88117~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=NC0Hsu0qqbQxCMpHvbjUMZcR9EA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>é€šè¿‡å‚æ•°balloonLayout è‡ªå®šä¹‰å¼¹æ¡†å†…å®¹</li>
<li>é€šè¿‡placemark.options.set('iconImageHref'ï¼Œâ€˜xxxâ€™) å®æ—¶ä¿®æ”¹åŸæ¥è‡ªå®šä¹‰çš„æ ‡è®°å›¾ç‰‡</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-selector-id">#map</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
    }

    <span class="hljs-comment">/* æ°”æ³¡å®¹å™¨ - ç”¨äºä¸‰è§’å®šä½ */</span>
    <span class="hljs-selector-class">.balloon-wrapper</span> {
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">overflow</span>: visible;
      <span class="hljs-comment">/* ç¡®ä¿ä¸‰è§’ä¸è¢«è£å‰ª */</span>
    }

    <span class="hljs-comment">/* æ°”æ³¡å†…å®¹åŒºåŸŸ */</span>
    <span class="hljs-selector-class">.custom-balloon</span> {
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">3px</span> <span class="hljs-number">14px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">/* å·¦ä¸Šè§’ä¸‰è§’ - æŒ‡å‘å·¦ä¾§æ ‡è®° */</span>
    <span class="hljs-selector-class">.balloon-triangle</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-comment">/* è·ç¦»æ°”æ³¡é¡¶éƒ¨20px */</span>
      <span class="hljs-attribute">left</span>: -<span class="hljs-number">10px</span>;
      <span class="hljs-comment">/* è¶…å‡ºæ°”æ³¡å·¦ä¾§10px */</span>
      <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
      <span class="hljs-comment">/* ä¸‰è§’å½¢æŒ‡å‘å·¦ä¾§ï¼ˆå³å‘ä¸‰è§’å½¢ï¼‰ */</span>
      <span class="hljs-attribute">border-top</span>: <span class="hljs-number">8px</span> solid transparent;
      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">8px</span> solid transparent;
      <span class="hljs-attribute">border-right</span>: <span class="hljs-number">10px</span> solid <span class="hljs-number">#fff</span>;
      <span class="hljs-comment">/* ä¸æ°”æ³¡èƒŒæ™¯åŒè‰² */</span>
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-comment">/* å³ä¾§é˜´å½±å¢å¼ºç«‹ä½“æ„Ÿ */</span>
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
    }

    <span class="hljs-comment">/* åŠ è½½çŠ¶æ€æ ·å¼ */</span>
    <span class="hljs-selector-class">.loading</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-comment">/* é”™è¯¯çŠ¶æ€æ ·å¼ */</span>
    <span class="hljs-selector-class">.error</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#e74c3c</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-comment">/* æ°”æ³¡å¤´éƒ¨æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-header</span> {
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
      <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.balloon-title</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">0</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
    }

    <span class="hljs-comment">/* å›¾ç‰‡æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-image</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-comment">/* ç»Ÿè®¡ä¿¡æ¯æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-stats</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"map"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- å¼•å…¥ Yandex Maps API --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://api-maps.yandex.ru/2.1/?lang=zh_CN&amp;onload=initMap"</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// åŸºç¡€æ ‡è®°æ•°æ®</span>
    <span class="hljs-keyword">const</span> markersData = [
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"åŒ—äº¬"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"bj001"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">31.2304</span>, <span class="hljs-number">121.4737</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"ä¸Šæµ·"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"sh002"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">23.1291</span>, <span class="hljs-number">113.2644</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"å¹¿å·"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"gz003"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">22.3193</span>, <span class="hljs-number">114.1694</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"æ·±åœ³"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"sz004"</span> }
    ];

    <span class="hljs-keyword">let</span> map;
    <span class="hljs-keyword">let</span> placemarks = [];
    <span class="hljs-keyword">let</span> dynamicBalloonLayout;
    <span class="hljs-keyword">let</span> activePlacemark = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">INITIAL_ZOOM</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_COLOR</span> = <span class="hljs-string">'#3498db'</span>; <span class="hljs-comment">// é»˜è®¤æ ‡è®°é¢œè‰²</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ACTIVE_COLOR</span> = <span class="hljs-string">'#e74c3c'</span>;  <span class="hljs-comment">// æ¿€æ´»çŠ¶æ€é¢œè‰²</span>

    <span class="hljs-comment">// ç”Ÿæˆå¸¦æ•°å­—çš„åœ†å½¢å›¾æ ‡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateCircleIconWithNumber</span>(<span class="hljs-params">num, color = DEFAULT_COLOR</span>) {
      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
      <span class="hljs-keyword">const</span> size = <span class="hljs-number">50</span>; <span class="hljs-comment">// å›¾æ ‡å¤§å°</span>
      canvas.<span class="hljs-property">width</span> = size;
      canvas.<span class="hljs-property">height</span> = size;

      <span class="hljs-comment">// ç™½è‰²å¡«å……</span>
      ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#ffffff'</span>;
      ctx.<span class="hljs-title function_">beginPath</span>();
      ctx.<span class="hljs-title function_">arc</span>(size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span> - <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);
      ctx.<span class="hljs-title function_">fill</span>();

      <span class="hljs-comment">// è¾¹æ¡†é¢œè‰²</span>
      ctx.<span class="hljs-property">strokeStyle</span> = color;
      ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span>;
      ctx.<span class="hljs-title function_">stroke</span>();

      <span class="hljs-comment">// æ•°å­—é¢œè‰²</span>
      ctx.<span class="hljs-property">fillStyle</span> = color;
      ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'bold 16px Arial'</span>;
      ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;
      ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span>;
      ctx.<span class="hljs-title function_">fillText</span>(num.<span class="hljs-title function_">toString</span>(), size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span>);

      <span class="hljs-keyword">return</span> canvas.<span class="hljs-title function_">toDataURL</span>();
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸAPIè¯·æ±‚è·å–è¯¦ç»†æ•°æ®</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchMarkerDetails</span>(<span class="hljs-params">markerId</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">const</span> mockData = {
            <span class="hljs-string">"bj001"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½ï¼Œæ”¿æ²»ã€æ–‡åŒ–å’Œå›½é™…äº¤æµä¸­å¿ƒã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦2154ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"16,410.54å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1016/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"18Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:00"</span>
            },
            <span class="hljs-string">"sh002"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"ä¸Šæµ·æ˜¯ä¸­å›½çš„ç»æµã€é‡‘èä¸­å¿ƒï¼Œå›½é™…åŒ–å¤§éƒ½å¸‚ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦2487ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"6,340.5å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1015/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"20Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:10"</span>
            },
            <span class="hljs-string">"gz003"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"å¹¿å·æ˜¯åå—åœ°åŒºçš„ç»æµä¸­å¿ƒå’Œäº¤é€šæ¢çº½ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦1530ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"7,434.4å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1018/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"25Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:05"</span>
            },
            <span class="hljs-string">"sz004"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"æ·±åœ³æ˜¯ä¸­å›½çš„ç§‘æŠ€åˆ›æ–°ä¸­å¿ƒï¼Œæ–°å…´ä¸€çº¿åŸå¸‚ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦1303ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"1,997.47å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1019/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"24Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:15"</span>
            }
          };
          <span class="hljs-title function_">resolve</span>(mockData[markerId]);
        }, <span class="hljs-number">800</span>);
      });
    }

    <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ°”æ³¡å¸ƒå±€ï¼ˆå·¦ä¸Šè§’ä¸‰è§’ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createDynamicBalloonLayout</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> ymaps.<span class="hljs-property">templateLayoutFactory</span>.<span class="hljs-title function_">createClass</span>(
        <span class="hljs-comment">// æ°”æ³¡ç»“æ„ï¼šå¤–å±‚å®¹å™¨ -&gt; å†…å®¹åŒº + å·¦ä¸Šè§’ä¸‰è§’</span>
        <span class="hljs-string">'&lt;div class="balloon-wrapper"&gt;'</span> +
        <span class="hljs-string">'&lt;div id="dynamic-balloon-content" class="custom-balloon"&gt;&lt;/div&gt;'</span> +
        <span class="hljs-string">'&lt;div class="balloon-triangle"&gt;&lt;/div&gt;'</span> + <span class="hljs-comment">// å·¦ä¸Šè§’ä¸‰è§’</span>
        <span class="hljs-string">'&lt;/div&gt;'</span>,
        {
          <span class="hljs-comment">// æ„å»ºæ°”æ³¡æ—¶è§¦å‘</span>
          <span class="hljs-attr">build</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">superclass</span>.<span class="hljs-property">build</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);

            <span class="hljs-keyword">const</span> properties = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getData</span>().<span class="hljs-property">properties</span>;
            <span class="hljs-keyword">const</span> contentContainer = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'dynamic-balloon-content'</span>);

            <span class="hljs-comment">// æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>
            contentContainer.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
              &lt;div class="loading"&gt;
                &lt;p&gt;æ­£åœ¨åŠ è½½<span class="hljs-subst">${properties.get(<span class="hljs-string">'title'</span>)}</span>çš„è¯¦ç»†ä¿¡æ¯...&lt;/p&gt;
                &lt;div style="margin-top:10px;"&gt;â³&lt;/div&gt;
              &lt;/div&gt;
            `</span>;

            <span class="hljs-comment">// åŠ è½½å¹¶æ¸²æŸ“æ•°æ®</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadAndRenderData</span>(properties.<span class="hljs-title function_">get</span>(<span class="hljs-string">'id'</span>), contentContainer);
          },

          <span class="hljs-comment">// åŠ è½½æ•°æ®å¹¶æ¸²æŸ“å†…å®¹</span>
          <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadAndRenderData</span>(<span class="hljs-params">markerId, container</span>) {
            <span class="hljs-keyword">try</span> {
              <span class="hljs-keyword">const</span> details = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchMarkerDetails</span>(markerId);
              <span class="hljs-keyword">const</span> baseInfo = markersData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === markerId);

              <span class="hljs-comment">// æ¸²æŸ“æ°”æ³¡å†…å®¹</span>
              container.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
                &lt;div class="balloon-header"&gt;
                  &lt;h3 class="balloon-title"&gt;<span class="hljs-subst">${baseInfo.title}</span>&lt;/h3&gt;
                  &lt;small&gt;æ•°æ®æ›´æ–°äº: <span class="hljs-subst">${details.updateTime}</span>&lt;/small&gt;
                &lt;/div&gt;
                &lt;img src="<span class="hljs-subst">${details.image}</span>" class="balloon-image" /&gt;
                &lt;p&gt;<span class="hljs-subst">${details.description}</span>&lt;/p&gt;
                &lt;div class="balloon-stats"&gt;
                  &lt;div&gt;äººå£: <span class="hljs-subst">${details.population}</span>&lt;/div&gt;
                  &lt;div&gt;é¢ç§¯: <span class="hljs-subst">${details.area}</span>&lt;/div&gt;
                &lt;/div&gt;
                &lt;div&gt;å½“å‰æ¸©åº¦: <span class="hljs-subst">${details.temperature}</span>&lt;/div&gt;
                &lt;button onclick="handleBalloonAction('<span class="hljs-subst">${markerId}</span>')" style="margin-top:15px;padding:6px 12px;background:#3498db;color:white;border:none;border-radius:4px;cursor:pointer;"&gt;
                  æŸ¥çœ‹æ›´å¤šä¿¡æ¯
                &lt;/button&gt;
              `</span>;
            } <span class="hljs-keyword">catch</span> (error) {
              <span class="hljs-comment">// é”™è¯¯çŠ¶æ€</span>
              container.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
                &lt;div class="error"&gt;
                  &lt;p&gt;åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•&lt;/p&gt; 
                &lt;/div&gt;
              `</span>;
            }
          },

          <span class="hljs-comment">// æ¸…é™¤æ°”æ³¡æ—¶è§¦å‘</span>
          <span class="hljs-attr">clear</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">superclass</span>.<span class="hljs-property">clear</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
          }
        }
      );
    }

    <span class="hljs-comment">// é‡ç½®æ‰€æœ‰æ ‡è®°ä¸ºé»˜è®¤æ ·å¼</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">resetAllMarkers</span>(<span class="hljs-params"/>) {
      placemarks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">placemark, index</span>) =&gt;</span> {
        placemark.<span class="hljs-property">options</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'iconImageHref'</span>,
          <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>, <span class="hljs-variable constant_">DEFAULT_COLOR</span>));
      });
      activePlacemark = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// è®¾ç½®æ ‡è®°ä¸ºæ¿€æ´»çŠ¶æ€ï¼ˆçº¢è‰²ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setMarkerActive</span>(<span class="hljs-params">placemark, index</span>) {
      <span class="hljs-title function_">resetAllMarkers</span>();
      placemark.<span class="hljs-property">options</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'iconImageHref'</span>,
        <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>, <span class="hljs-variable constant_">ACTIVE_COLOR</span>));
      activePlacemark = placemark;
    }

    <span class="hljs-comment">// é‡è¯•åŠ è½½æ•°æ® </span>

    <span class="hljs-comment">// æ°”æ³¡å†…æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">handleBalloonAction</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">markerId</span>) {
      <span class="hljs-keyword">const</span> marker = markersData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === markerId);
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨ç‚¹å‡»äº†<span class="hljs-subst">${marker.title}</span>çš„"æŸ¥çœ‹æ›´å¤šä¿¡æ¯"æŒ‰é’®ï¼ŒID: <span class="hljs-subst">${markerId}</span>`</span>);
    };

    <span class="hljs-comment">// å…³é—­æ‰€æœ‰æ°”æ³¡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">closeAllBalloons</span>(<span class="hljs-params"/>) {
      placemarks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">placemark</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (placemark.<span class="hljs-property">balloon</span>.<span class="hljs-title function_">isOpen</span>()) {
          placemark.<span class="hljs-property">balloon</span>.<span class="hljs-title function_">close</span>();
        }
      });
      <span class="hljs-title function_">resetAllMarkers</span>();
    }

    <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">initMap</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> mapCenter = [<span class="hljs-number">31.0</span>, <span class="hljs-number">114.0</span>];
      map = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(<span class="hljs-string">"map"</span>, {
        <span class="hljs-attr">center</span>: mapCenter,
        <span class="hljs-attr">zoom</span>: <span class="hljs-variable constant_">INITIAL_ZOOM</span>
      });

      <span class="hljs-comment">// ç‚¹å‡»åœ°å›¾ç©ºç™½å¤„å…³é—­æ°”æ³¡</span>
      map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> target = e.<span class="hljs-title function_">get</span>(<span class="hljs-string">'target'</span>);
        <span class="hljs-keyword">if</span> (target === map) {
          <span class="hljs-title function_">closeAllBalloons</span>();
        }
      });

      <span class="hljs-title function_">createCustomMarkers</span>();
    }

    <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ ‡è®°</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createCustomMarkers</span>(<span class="hljs-params"/>) {
      dynamicBalloonLayout = <span class="hljs-title function_">createDynamicBalloonLayout</span>();

      markersData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">data, index</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
          data.<span class="hljs-property">coords</span>,
          {
            <span class="hljs-attr">title</span>: data.<span class="hljs-property">title</span>,
            <span class="hljs-attr">id</span>: data.<span class="hljs-property">id</span>
          },
          {
            <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">'default#image'</span>,
            <span class="hljs-attr">iconImageHref</span>: <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>),
            <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">50</span>],
            <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">25</span>, -<span class="hljs-number">25</span>], <span class="hljs-comment">// å›¾æ ‡ä¸­å¿ƒç‚¹å¯¹å‡†åæ ‡ç‚¹</span>
            <span class="hljs-attr">balloonLayout</span>: dynamicBalloonLayout,
            <span class="hljs-comment">// æ°”æ³¡åç§»é‡ï¼šå‘å³ç§»åŠ¨100pxï¼Œå‘ä¸Šå¾®è°ƒ20pxï¼ˆç¡®ä¿ä¸‰è§’æŒ‡å‘æ ‡è®°ï¼‰</span>
            <span class="hljs-attr">balloonOffset</span>: [<span class="hljs-number">20</span>, -<span class="hljs-number">20</span>],
            <span class="hljs-attr">balloonShadow</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ç¦ç”¨é»˜è®¤é˜´å½±ï¼Œä½¿ç”¨è‡ªå®šä¹‰é˜´å½±</span>
            <span class="hljs-attr">hideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>
          }
        );

        <span class="hljs-comment">// æ ‡è®°ç‚¹å‡»äº‹ä»¶</span>
        placemark.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
          <span class="hljs-title function_">setMarkerActive</span>(placemark, index);
        });

        map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(placemark);
        placemarks.<span class="hljs-title function_">push</span>(placemark);
      });
    }

  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-11">5.è¸©å‘äº‹é¡¹</h2>
<h3 data-id="heading-12">ç¼©æ”¾ä¸ç§»åŠ¨ç»Ÿä¸€äº‹ä»¶</h3>
<p>map.events.add('boundschange' å¯ä»¥ç”¨æ¥ç»Ÿä¸€ç›‘å¬ç¼©æ”¾ä¸ç§»åŠ¨é€»è¾‘ï¼Œä¸å»ºè®®äº‹æƒ…å…¶ä»–è‡ªå¸¦é˜²æ­¢å†²çª</p>
<pre><code class="hljs language-js" lang="js">    map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'boundschange'</span>, <span class="hljs-function">(<span class="hljs-params">event: any</span>) =&gt;</span> { 
      <span class="hljs-keyword">if</span> (event.<span class="hljs-title function_">get</span>(<span class="hljs-string">'newZoom'</span>) !== event.<span class="hljs-title function_">get</span>(<span class="hljs-string">'oldZoom'</span>)) { <span class="hljs-comment">// ç¼©æ”¾äº†</span>
        <span class="hljs-comment">//  console.log('è¿›å…¥ç¼©æ”¾äº‹ä»¶', event)</span>
        
      } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// åªæ˜¯ç§»åŠ¨ </span>
        <span class="hljs-comment">//  console.log('è¿›å…¥ç§»åŠ¨äº‹ä»¶', event)  </span>
      }
    })
</code></pre>
<h3 data-id="heading-13">æµè§ˆå™¨å®½åº¦å˜åŒ–ï¼Œåœ°å›¾ä¸èƒ½è¯†åˆ«</h3>
<p>googleå¯ä»¥è‡ªå·±è‡ªé€‚åº”ï¼Œyandexæ²¡æœ‰ï¼Œéœ€è¦å®æ—¶ç›‘å¬å®¹å™¨å˜åŒ–</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-comment">// åˆ›å»º ResizeObserver ç›‘å¬å®¹å™¨å°ºå¯¸å˜åŒ–</span>
    <span class="hljs-keyword">const</span> resizeObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResizeObserver</span>(
      <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">entries: any</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span>(!mapContainer.<span class="hljs-property">value</span>) {
          <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> entries) { 
          <span class="hljs-keyword">if</span>(mapContainer.<span class="hljs-property">value</span> === entry.<span class="hljs-property">target</span>) { 
            map.<span class="hljs-property">container</span>.<span class="hljs-title function_">fitToViewport</span>()
            <span class="hljs-keyword">break</span>;
          } 
        }
      }, <span class="hljs-number">1000</span>),
    )

    <span class="hljs-comment">// å¼€å§‹ç›‘å¬å®¹å™¨</span>
    resizeObserver.<span class="hljs-title function_">observe</span>(mapContainer.<span class="hljs-property">value</span>)
</code></pre>
<h3 data-id="heading-14">åŠ¨æ€ä¿®æ”¹  marker.options.set('iconImageSize','xx'),å†æ¬¡è®¿é—®å¼‚å¸¸</h3>
<p>yandexå½“é€šè¿‡marker.options.set('iconImageSize','xx')åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ç‰©ç†æ¸²æŸ“ä¿¡æ¯æ—¶å€™ï¼Œä¼šä¿®æ”¹åŸæ¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸èƒ½é€šè¿‡ å…¨å±€å¼•ç”¨çš„å¯¹è±¡ä¿ç•™ï¼Œéœ€è¦é‡æ–°éå†ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> selectedMarker = ref&lt;any | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// å¦‚å…¨å±€è®°å½•äº†ä¸Šæ¬¡é€‰ä¸­å¯¹è±¡</span>
  
  selectedMarker = xxx <span class="hljs-comment">// ç‚¹å‡»é€‰ä¸­èµ‹å€¼</span>
  selectedMarker.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {})  <span class="hljs-comment">// è¿™é‡Œä¼šæŠ¥é”™</span>
  
    <span class="hljs-keyword">if</span> (selectedMarker &amp;&amp; selectedMarker.<span class="hljs-property">value</span>) {
      <span class="hljs-keyword">const</span> storeId = <span class="hljs-title function_">getStoreIdByMarker</span>(selectedMarker.<span class="hljs-property">value</span>) 
      <span class="hljs-keyword">let</span> marker = <span class="hljs-title function_">findMarkerByStoreId</span>(storeId)  <span class="hljs-comment">// æ¯æ¬¡é‡æ–°å†æŸ¥æ‰¾ä¸€é</span>
      <span class="hljs-keyword">if</span> (marker) {
          marker.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {}) 
      }
    }
 
</code></pre>
<h3 data-id="heading-15">ç§»åŠ¨å’Œæ”¾å¤§æ—¶å€™ä¸boundschangeäº‹ä»¶å†²çª</h3>
<p>ç³»ç»Ÿè‡ªå¸¦map.panTo(ï¼‰æ¥å®ç°ç§»åŠ¨å’Œæ”¾å¤§ï¼Œä½†æ˜¯ä¼šå¯¼è‡´è§¦å‘boundschangeäº‹ä»¶çš„äº‹ä»¶ã€‚å¯ä»¥é€šè¿‡å…¨å±€çŠ¶æ€ä½æ¥æ§åˆ¶é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js">
  <span class="hljs-keyword">let</span> isPanToNow = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">myPanTo</span> = (<span class="hljs-params">targetCoords: any</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      isPanToNow = <span class="hljs-literal">true</span>
      <span class="hljs-comment">// å¹³æ»‘ç§»åŠ¨</span>
      map.<span class="hljs-title function_">panTo</span>(targetCoords, { <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span> , <span class="hljs-attr">flying</span>: <span class="hljs-literal">true</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å†å¹³æ»‘ç§»åŠ¨</span>
        isPanToNow = <span class="hljs-literal">false</span>
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>)
      })
    })
  }
  
 <span class="hljs-comment">// æ·»åŠ ç¼©æ”¾ + æ‹–æ‹½ äº‹ä»¶ç›‘å¬</span>
    map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'boundschange'</span>, <span class="hljs-function">(<span class="hljs-params">event: any</span>) =&gt;</span> { 
      <span class="hljs-keyword">if</span> (isPanToNow) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'isPanToNow ä¸º true'</span>, isPanToNow)
        <span class="hljs-keyword">return</span>
      }
     
    })
  
</code></pre>
<h3 data-id="heading-16">ä¸»åŠ¨è§¦å‘æ ‡è®°ç‚¹å‡»äº‹ä»¶</h3>
<p>é€šè¿‡<code>marker.events.fire('click', {})</code> ä¸»åŠ¨è§¦å‘ï¼Œæ³¨æ„æ ‡è®°å¿…é¡»æ˜¯æ¸²æŸ“å®Œæˆçš„ï¼Œç›®å‰æ²¡æ‰¾åˆ°ç¨³å®šçš„å›è°ƒæ¸²æŸ“æ–¹æ³•é’©å­ï¼Œæš‚æ—¶åŠ settimoutå†ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯é‡Œå†è§¦å‘ç¡®ä¿å·²ç»æ¸²æŸ“</p>
<pre><code class="hljs language-js" lang="js"> marker.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {}) 
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡æå‰åŠ è½½å›¾ç‰‡ï¼Œç¡®ä¿æ¸²æŸ“æ ‡è®°æ—¶å€™ä¸ä¼šé˜»å¡</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> customIconUrl1 = <span class="hljs-string">"/dashboard/local1.png"</span>; 
<span class="hljs-keyword">const</span> customIconUrl2 = <span class="hljs-string">"/dashboard/local2.png"</span>; 
<span class="hljs-comment">// é¢„å…ˆåŠ è½½å›¾æ ‡å›¾ç‰‡çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadIconImage</span>(<span class="hljs-params">url:string</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
    img.<span class="hljs-property">src</span> = url;
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(url); <span class="hljs-comment">// å›¾ç‰‡åŠ è½½å®Œæˆ</span>
    img.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-string">"å›¾æ ‡åŠ è½½å¤±è´¥"</span>);
  });
}
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>() 
       <span class="hljs-comment">// ç­‰å¾…å›¾æ ‡åŠ è½½å®Œæˆ</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadIconImage</span>(customIconUrl1);
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadIconImage</span>(customIconUrl2);

      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      mapLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯æ—¶ä¹Ÿå…³é—­åŠ è½½çŠ¶æ€</span>
    }
  })

</code></pre>
<h2 data-id="heading-17">6.æºç åœ°å€</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmjsong07%2Fyandex-map-vue3-cluster" target="_blank" title="https://github.com/mjsong07/yandex-map-vue3-cluster" ref="nofollow noopener noreferrer">github.com/mjsong07/yaâ€¦</a></p>
<h2 data-id="heading-18">7.èµ„æ–™å‚è€ƒ</h2>
<p>å®˜æ–¹apiæ–‡æ¡£ v2.1
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fdev%2Fjsapi-v2-1%2Fdoc%2Fen%2F" target="_blank" title="https://yandex.com/dev/jsapi-v2-1/doc/en/" ref="nofollow noopener noreferrer">yandex.com/dev/jsapi-vâ€¦</a></p>
<p>ä¾‹å­
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fdev%2Fjsapi-v2-1%2Fdoc%2Fen%2Fv2-1%2Fexamples%2F" target="_blank" title="https://yandex.com/dev/jsapi-v2-1/doc/en/v2-1/examples/" ref="nofollow noopener noreferrer">yandex.com/dev/jsapi-vâ€¦</a></p>
<p>å®˜æ–¹apiæ–‡æ¡£ v3Â 
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fmaps-api%2Fdocs%2Fjs-api%2Findex.html%3Flang%3Den" target="_blank" title="https://yandex.com/maps-api/docs/js-api/index.html?lang=en" ref="nofollow noopener noreferrer">yandex.com/maps-api/doâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573680361990275112</link>    <guid>https://juejin.cn/post/7573680361990275112</guid>    <pubDate>2025-11-18T08:05:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573680361990275112" data-draft-id="7573617944518950912" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—"/> <meta itemprop="keywords" content="AIGC,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:05:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‘å¢¨"/> <meta itemprop="url" content="https://juejin.cn/user/3069492194710797"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3069492194710797/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‘å¢¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:05:09.000Z" title="Tue Nov 18 2025 08:05:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æœ¬ç¯‡ä»¥Cursor æç¤ºè¯ä¸ºä¾‹å­</strong>ï¼Œä¸»è¦ä»‹ç»æç¤ºè¯çš„åŸºç¡€æ¦‚å¿µã€é‡è¦æ€§å’ŒåŸºæœ¬ç»“æ„ã€‚å…¶å®å„ä¸ªaiäº§å“æç¤ºè¯éƒ½å·®ä¸å¤šï¼Œä¸»è¦è¿˜æ˜¯è¾¹ç•Œå’Œåœºæ™¯ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯æç¤ºè¯ï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼šæç¤ºè¯å°±æ˜¯æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼Œè®© AI ç…§åšã€‚ä½ è´Ÿè´£å‘Šè¯‰å®ƒâ€œè¦ä»€ä¹ˆã€æ€ä¹ˆåšã€æœ‰å“ªäº›é™åˆ¶ã€å‚è€ƒå“ªä¸ªæ–‡ä»¶â€ï¼ŒAI æ‰èƒ½ç»™ä½ é è°±çš„ç»“æœã€‚</p>
<p>å†æ·±å…¥ä¸€ç‚¹ï¼Œæç¤ºè¯å°±æ˜¯<strong>å’Œå¤§æ¨¡å‹äº¤æµçš„åè®®</strong>ã€‚æ¨¡å‹åªä¼šæ ¹æ®ä½ ç»™çš„æ–‡æœ¬æ¥é¢„æµ‹ç­”æ¡ˆï¼Œè¯­ä¹‰è¶Šæ˜ç¡®ã€ç»†èŠ‚è¶Šè¶³ï¼Œè¾“å‡ºå°±è¶Šæ¥è¿‘ä½ æƒ³è¦çš„æ ·å­ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ Cursor çš„æç¤ºè¯ç‰¹åˆ«é‡è¦ï¼Ÿ</h3>
<p>Cursor ä½¿ç”¨çš„æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œè¿™äº›æ¨¡å‹æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>ä¸Šä¸‹æ–‡çª—å£æœ‰é™</strong>ï¼šè™½ç„¶ Cursor èƒ½è¯»å–é¡¹ç›®æ–‡ä»¶ï¼Œä½†æ¨¡å‹èƒ½"è®°ä½"çš„ä¸Šä¸‹æ–‡æ˜¯æœ‰é™çš„ã€‚å¥½çš„æç¤ºè¯èƒ½æœ€å¤§åŒ–åˆ©ç”¨è¿™ä¸ªä¸Šä¸‹æ–‡çª—å£ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å¼åŒ¹é…æœºåˆ¶</strong>ï¼šæ¨¡å‹é€šè¿‡åŒ¹é…è®­ç»ƒæ•°æ®ä¸­çš„æ¨¡å¼æ¥ç”Ÿæˆä»£ç ã€‚å¦‚æœä½ çš„æç¤ºè¯èƒ½è§¦å‘æ­£ç¡®çš„æ¨¡å¼ï¼Œå°±èƒ½å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚</p>
</li>
<li>
<p><strong>å¤šè½®å¯¹è¯èƒ½åŠ›</strong>ï¼šCursor æ”¯æŒå¤šè½®å¯¹è¯ï¼Œä½†æ¯è½®å¯¹è¯çš„è´¨é‡ä¼šå½±å“åç»­å¯¹è¯ã€‚ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å¥½ï¼Œåç»­ä¼˜åŒ–å°±å®¹æ˜“ã€‚</p>
</li>
<li>
<p><strong>ä»£ç æ„ŸçŸ¥èƒ½åŠ›</strong>ï¼šCursor èƒ½ç†è§£é¡¹ç›®ç»“æ„ï¼Œä½†ä½ éœ€è¦æ˜ç¡®å‘Šè¯‰å®ƒè¦å…³æ³¨å“ªäº›æ–‡ä»¶ã€å“ªäº›æ¨¡å¼ã€‚</p>
</li>
</ol>
<h3 data-id="heading-2">æç¤ºè¯çš„å·¥ä½œåŸç†ï¼ˆæŠ€æœ¯å±‚é¢ï¼‰</h3>
<p>å½“ä½ è¾“å…¥æç¤ºè¯æ—¶ï¼ŒCursor ä¼šï¼š</p>
<ol>
<li><strong>è§£ææç¤ºè¯</strong>ï¼šæå–å…³é”®ä¿¡æ¯ï¼ˆä»»åŠ¡ã€çº¦æŸã€ä¸Šä¸‹æ–‡ï¼‰</li>
<li><strong>æ£€ç´¢ç›¸å…³ä»£ç </strong>ï¼šæ ¹æ®æç¤ºè¯ä¸­çš„æ–‡ä»¶å¼•ç”¨å’Œå…³é”®è¯ï¼Œä»é¡¹ç›®ä¸­æ£€ç´¢ç›¸å…³ä»£ç </li>
<li><strong>æ„å»ºä¸Šä¸‹æ–‡</strong>ï¼šå°†ä½ çš„æç¤ºè¯ã€æ£€ç´¢åˆ°çš„ä»£ç ã€é¡¹ç›®ç»“æ„ç»„åˆæˆå®Œæ•´çš„ä¸Šä¸‹æ–‡</li>
<li><strong>è°ƒç”¨ AI æ¨¡å‹</strong>ï¼šå°†ä¸Šä¸‹æ–‡å‘é€ç»™ AI æ¨¡å‹ï¼Œæ¨¡å‹ç”Ÿæˆä»£ç </li>
<li><strong>åå¤„ç†</strong>ï¼šå¯¹ç”Ÿæˆçš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–ã€éªŒè¯ç­‰å¤„ç†</li>
</ol>
<p>è¿™ä¸ªè¿‡ç¨‹å†³å®šäº†ï¼š<strong>æç¤ºè¯ä¸­çš„æ¯ä¸ªç»†èŠ‚éƒ½å¯èƒ½å½±å“æœ€ç»ˆç»“æœ</strong>ã€‚</p>
<h3 data-id="heading-3">Cursor é‡Œæç¤ºè¯èƒ½å¹²å•¥ï¼Ÿ</h3>
<p>æˆ‘ç”¨ Cursor åšçš„é«˜é¢‘æ“ä½œåªæœ‰å‡ ç±»ï¼šå†™ä»£ç ã€æ”¹ä»£ç ã€ä¿® bugã€è§£é‡Šä»£ç ã€å†™æ–‡æ¡£/æµ‹è¯•ã€åšå®¡æŸ¥æˆ–æ€§èƒ½ä¼˜åŒ–â€”â€”åŸºæœ¬ä¸ŠæŠŠè¿™äº›åœºæ™¯çš„æç¤ºè¯å†™å¥½ï¼Œå°±èƒ½æŠŠå®ƒå½“å¼ºåŠ›é˜Ÿå‹ã€‚</p>
<h3 data-id="heading-4">Cursor åˆ°åº•å¼ºåœ¨å“ªï¼Ÿ</h3>
<p>è¯´å®è¯ï¼Œæˆ‘ç”¨è¿‡ä¸å°‘ AI ä»£ç åŠ©æ‰‹ï¼ŒCursor ç¡®å®æœ‰å®ƒçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨ç†è§£ä¸Šä¸‹æ–‡</strong>ï¼šä½ æ‰“å¼€çš„æ–‡ä»¶ã€æ­£åœ¨å†™çš„ä»£ç ï¼Œå®ƒéƒ½èƒ½çœ‹åˆ°ï¼Œä¸ç”¨ä½ ä¸€ééè§£é‡Š</li>
<li><strong>ç†è§£æ•´ä¸ªé¡¹ç›®</strong>ï¼šå®ƒä¸åªæ˜¯çœ‹å½“å‰æ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„ä»£ç åº“å®ƒéƒ½èƒ½ç†è§£</li>
<li><strong>æ™ºèƒ½è¡¥å…¨</strong>ï¼šå†™ä»£ç çš„æ—¶å€™ï¼Œå®ƒä¼šæ ¹æ®ä¸Šä¸‹æ–‡ç»™ä½ å»ºè®®</li>
<li><strong>å¤šæ–‡ä»¶ç¼–è¾‘</strong>ï¼šä¸€æ¬¡å¯ä»¥æ”¹å¥½å‡ ä¸ªç›¸å…³æ–‡ä»¶ï¼Œç‰¹åˆ«æ–¹ä¾¿</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆæç¤ºè¯è¿™ä¹ˆé‡è¦ï¼Ÿ</h2>
<h3 data-id="heading-6">æç¤ºè¯å†™å¾—å¥½ï¼Œäº‹åŠåŠŸå€</h3>
<p>æˆ‘åˆšç”¨ Cursor æ—¶æ€»æ˜¯â€œå†™ä¸ª xxxâ€å°±é€’è¿‡å»ï¼Œç»“æœè¦è°ƒå¥½å‡ è½®æ‰å‹‰å¼ºå¯ç”¨ï¼›åæ¥æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼ŒåŸºæœ¬ä¸€æ¬¡æˆå‹ã€‚ç»éªŒå°±æ˜¯ï¼š<strong>æç¤ºè¯è¶Šå…·ä½“ï¼Œè¿”å·¥è¶Šå°‘</strong>ã€‚</p>
<h3 data-id="heading-7">ä¸€ä¸ªå¯¹æ¯”ä½ å°±æ˜ç™½äº†</h3>
<p><strong>âŒ è¿™æ ·å†™ï¼ˆå¤ªç®€å•ï¼‰ï¼š</strong></p>
<pre><code class="hljs">å†™ä¸ªå‡½æ•°
</code></pre>
<p><strong>âœ… è¿™æ ·å†™ï¼ˆæ¸…æ™°å…·ä½“ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">åˆ›å»ºä¸€ä¸ª TypeScript å‡½æ•°ï¼Œç”¨äºéªŒè¯é‚®ç®±æ ¼å¼ã€‚
å‡½æ•°åï¼švalidateEmail
å‚æ•°ï¼šemail (string)
è¿”å›å€¼ï¼š<span class="hljs-type">boolean</span>
è¦æ±‚ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œæ”¯æŒå¸¸è§é‚®ç®±æ ¼å¼ï¼ˆå¦‚ <span class="hljs-keyword">user</span><span class="hljs-variable">@example</span>.comï¼‰
</code></pre>
<p>åŒºåˆ«ä¸€çœ¼å¯è§ï¼šç¬¬äºŒç§æç¤ºè¯æŠŠè¯­è¨€ã€æ¥å£ã€è¦æ±‚è¯´æ¸…æ¥šï¼Œæ¨¡å‹è‡ªç„¶ä¸éœ€è¦çŒœã€‚</p>
<h3 data-id="heading-8">æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å·®å¼‚ï¼Ÿ</h3>
<p>æ ¸å¿ƒåŸå› å°±ä¸‰ç‚¹ï¼š</p>
<p><strong>1. Token æ¦‚ç‡åˆ†å¸ƒ</strong></p>
<p>å½“ä½ åªå†™"å†™ä¸ªå‡½æ•°"æ—¶ï¼Œæ¨¡å‹çœ‹åˆ°çš„æ˜¯ï¼š</p>
<ul>
<li>å¯èƒ½çš„è¯­è¨€ï¼šJavaScriptã€Pythonã€TypeScriptã€Java...ï¼ˆæ¦‚ç‡åˆ†æ•£ï¼‰</li>
<li>å¯èƒ½çš„åŠŸèƒ½ï¼šä»»ä½•åŠŸèƒ½ï¼ˆæ¦‚ç‡æåº¦åˆ†æ•£ï¼‰</li>
<li>å¯èƒ½çš„é£æ ¼ï¼šä»»ä½•é£æ ¼ï¼ˆæ¦‚ç‡åˆ†æ•£ï¼‰</li>
</ul>
<p>ç»“æœå°±æ˜¯æ¨¡å‹"çŒœ"çš„æˆåˆ†å¾ˆå¤§ï¼Œå®¹æ˜“ç”Ÿæˆä¸ç¬¦åˆé¢„æœŸçš„ä»£ç ã€‚</p>
<p>å½“ä½ å†™è¯¦ç»†æç¤ºè¯æ—¶ï¼š</p>
<ul>
<li>è¯­è¨€æ˜ç¡®ï¼šTypeScriptï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
<li>åŠŸèƒ½æ˜ç¡®ï¼šé‚®ç®±éªŒè¯ï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
<li>è¦æ±‚æ˜ç¡®ï¼šæ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
</ul>
<p>æ¨¡å‹å°±èƒ½å‡†ç¡®é¢„æµ‹å‡ºä½ æƒ³è¦çš„ä»£ç æ¨¡å¼ã€‚</p>
<p><strong>2. ä¸Šä¸‹æ–‡æ£€ç´¢</strong></p>
<p>Cursor ä¼šæ ¹æ®æç¤ºè¯ä¸­çš„å…³é”®è¯æ£€ç´¢ç›¸å…³ä»£ç ã€‚å¦‚æœæç¤ºè¯å¤ªç®€å•ï¼š</p>
<ul>
<li>æ£€ç´¢åˆ°çš„ä»£ç å¯èƒ½ä¸ç›¸å…³</li>
<li>æ¨¡å‹å¯èƒ½å‚è€ƒé”™è¯¯çš„ä»£ç æ¨¡å¼</li>
<li>ç”Ÿæˆçš„ä»£ç é£æ ¼ä¸ä¸€è‡´</li>
</ul>
<p>è¯¦ç»†çš„æç¤ºè¯èƒ½å¸®åŠ© Cursorï¼š</p>
<ul>
<li>å‡†ç¡®æ£€ç´¢åˆ°ç›¸å…³çš„ä»£ç æ–‡ä»¶</li>
<li>ç†è§£é¡¹ç›®çš„ä»£ç é£æ ¼å’Œæ¶æ„</li>
<li>ç”Ÿæˆç¬¦åˆé¡¹ç›®è§„èŒƒçš„ä»£ç </li>
</ul>
<p><strong>3. å¤šè½®å¯¹è¯</strong></p>
<p>ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å¥½ï¼š</p>
<ul>
<li>ç”Ÿæˆçš„ä»£ç åŸºç¡€å¥½</li>
<li>åç»­ä¼˜åŒ–åªéœ€è¦å¾®è°ƒ</li>
<li>å¯¹è¯ä¸Šä¸‹æ–‡è´¨é‡é«˜</li>
</ul>
<p>ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å·®ï¼š</p>
<ul>
<li>ç”Ÿæˆçš„ä»£ç éœ€è¦å¤§é‡ä¿®æ”¹</li>
<li>åç»­å¯¹è¯éœ€è¦ä¸æ–­çº æ­£</li>
<li>ä¸Šä¸‹æ–‡è¢«"æ±¡æŸ“"ï¼Œå½±å“åç»­ç”Ÿæˆ</li>
</ul>
<h3 data-id="heading-9">å®é™…æ•°æ®å¯¹æ¯”</h3>
<p>æˆ‘åšè¿‡ä¸€ä¸ªç®€å•çš„æµ‹è¯•ï¼ŒåŒæ ·çš„åŠŸèƒ½ï¼Œç”¨ä¸åŒè´¨é‡çš„æç¤ºè¯ï¼š</p>





























<table><thead><tr><th>æç¤ºè¯è´¨é‡</th><th>é¦–æ¬¡ç”Ÿæˆå‡†ç¡®ç‡</th><th>å¹³å‡å¯¹è¯è½®æ•°</th><th>æœ€ç»ˆä»£ç è´¨é‡</th></tr></thead><tbody><tr><td>ç®€å•ï¼ˆ1-2å¥è¯ï¼‰</td><td>20%</td><td>5-8è½®</td><td>ä¸­ç­‰</td></tr><tr><td>ä¸­ç­‰ï¼ˆåŸºæœ¬è¦æ±‚ï¼‰</td><td>60%</td><td>2-3è½®</td><td>è‰¯å¥½</td></tr><tr><td>è¯¦ç»†ï¼ˆå®Œæ•´è§„èŒƒï¼‰</td><td>90%</td><td>1è½®</td><td>ä¼˜ç§€</td></tr></tbody></table>
<p><strong>ç»“è®ºå¾ˆæ˜æ˜¾ï¼šèŠ±æ—¶é—´å†™å¥½æç¤ºè¯ï¼Œç»å¯¹å€¼å¾—ã€‚</strong></p>
<hr/>
<h2 data-id="heading-10">å¥½æç¤ºè¯é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h2>
<p>ä¸€ä¸ªé è°±çš„æç¤ºè¯é€šå¸¸åŒ…å« 5 ä¸ªè¦ç´ ï¼š</p>
<h3 data-id="heading-11">1. è§’è‰²å®šä¹‰ï¼ˆå¯é€‰ï¼Œä½†æœ‰æ—¶å€™å¾ˆæœ‰ç”¨ï¼‰</h3>
<p>è™½ç„¶ Cursor æœ¬èº«å°±æ˜¯ä»£ç åŠ©æ‰‹ï¼Œä½†æœ‰æ—¶å€™å‘Šè¯‰å®ƒä½ çš„ä¸“ä¸šé¢†åŸŸï¼Œå®ƒä¼šæ›´æ‡‚ä½ çš„éœ€æ±‚ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs">ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ React å¼€å‘å·¥ç¨‹å¸ˆï¼Œæ“…é•¿æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µã€‚
</code></pre>
<p>å¸¸è§„å‰ç«¯/åç«¯å…¶å®ä¸ç”¨å¼ºè°ƒè§’è‰²ï¼Œä½†è·¨é¢†åŸŸï¼ˆæ¯”å¦‚è®©å®ƒå†™æ•°æ®ç®¡é“ã€å®¡å®‰å…¨ï¼‰æœ€å¥½é™å®šä¸€ä¸‹èº«ä»½ã€‚</p>
<p><strong>æ·±å…¥ç†è§£ï¼šè§’è‰²å®šä¹‰çš„ä½œç”¨æœºåˆ¶</strong></p>
<p>è§’è‰²å®šä¹‰å…¶å®æ˜¯åœ¨è°ƒæ•´æ¨¡å‹çš„"æ³¨æ„åŠ›åˆ†å¸ƒ"ã€‚å½“ä½ æŒ‡å®šè§’è‰²æ—¶ï¼š</p>
<ol>
<li>
<p><strong>æ¿€æ´»ç›¸å…³æ¨¡å¼</strong>ï¼šæ¨¡å‹ä¼šä¼˜å…ˆæ¿€æ´»ä¸è¿™ä¸ªè§’è‰²ç›¸å…³çš„è®­ç»ƒæ•°æ®æ¨¡å¼</p>
<ul>
<li>"React å·¥ç¨‹å¸ˆ" â†’ æ¿€æ´» React æœ€ä½³å®è·µã€Hooksã€æ€§èƒ½ä¼˜åŒ–ç­‰æ¨¡å¼</li>
<li>"æ•°æ®ç§‘å­¦å®¶" â†’ æ¿€æ´»æ•°æ®å¤„ç†ã€ç»Ÿè®¡åˆ†æã€æœºå™¨å­¦ä¹ ç­‰æ¨¡å¼</li>
</ul>
</li>
<li>
<p><strong>è°ƒæ•´è¾“å‡ºé£æ ¼</strong>ï¼šä¸åŒè§’è‰²çš„ä»£ç é£æ ¼ä¸åŒ</p>
<ul>
<li>å‰ç«¯å·¥ç¨‹å¸ˆï¼šæ›´å…³æ³¨ç”¨æˆ·ä½“éªŒã€å“åº”å¼è®¾è®¡</li>
<li>åç«¯å·¥ç¨‹å¸ˆï¼šæ›´å…³æ³¨æ€§èƒ½ã€å®‰å…¨æ€§ã€å¯æ‰©å±•æ€§</li>
</ul>
</li>
<li>
<p><strong>å½±å“æŠ€æœ¯é€‰æ‹©</strong>ï¼šæ¨¡å‹ä¼šæ ¹æ®è§’è‰²é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ</p>
<ul>
<li>å‰ç«¯ï¼šReactã€Vueã€Angular</li>
<li>åç«¯ï¼šNode.jsã€Pythonã€Go</li>
</ul>
</li>
</ol>
<p><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è§’è‰²å®šä¹‰ï¼Ÿ</strong></p>
<ul>
<li>âœ… è·¨é¢†åŸŸé¡¹ç›®ï¼šå‰ç«¯åšåç«¯åŠŸèƒ½ï¼Œéœ€è¦æ˜ç¡®è§’è‰²</li>
<li>âœ… ç‰¹å®šé¢†åŸŸï¼šæ•°æ®ç§‘å­¦ã€DevOpsã€åµŒå…¥å¼ç­‰ä¸“ä¸šé¢†åŸŸ</li>
<li>âœ… ä»£ç å®¡æŸ¥ï¼šéœ€è¦ç‰¹å®šè§†è§’ï¼ˆæ¶æ„å¸ˆã€å®‰å…¨ä¸“å®¶ç­‰ï¼‰</li>
<li>âŒ å¸¸è§„å¼€å‘ï¼šæ™®é€šçš„å‰ç«¯/åç«¯å¼€å‘ï¼ŒCursor å·²ç»è¶³å¤Ÿæ™ºèƒ½</li>
</ul>
<p><strong>é«˜çº§æŠ€å·§ï¼šç»„åˆè§’è‰²</strong></p>
<p>å¯¹äºå¤æ‚é¡¹ç›®ï¼Œå¯ä»¥ç»„åˆå¤šä¸ªè§’è‰²ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä½ æ˜¯ä¸€ä½èµ„æ·±çš„å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆï¼ŒåŒæ—¶å…·å¤‡ï¼š
<span class="hljs-deletion">- å‰ç«¯ï¼šReact æ€§èƒ½ä¼˜åŒ–ä¸“å®¶</span>
<span class="hljs-deletion">- åç«¯ï¼šNode.js å¾®æœåŠ¡æ¶æ„å¸ˆ</span>
<span class="hljs-deletion">- DevOpsï¼šå®¹å™¨åŒ–å’Œ CI/CD å®è·µè€…</span>
</code></pre>
<h3 data-id="heading-12">2. ä»»åŠ¡æè¿°ï¼ˆè¿™ä¸ªå¿…é¡»æ¸…æ¥šï¼‰</h3>
<p>ä½ å¾—æ˜ç¡®å‘Šè¯‰ AI è¦åšä»€ä¹ˆã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼Œä½¿ç”¨ React Hooks æ›¿ä»£ç±»ç»„ä»¶ï¼Œå¹¶ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šä»»åŠ¡æè¿°çš„å±‚æ¬¡ç»“æ„</strong></p>
<p>ä¸€æ®µä»»åŠ¡æè¿°æœ€å¥½åŒæ—¶å‘Šè¯‰å®ƒï¼š</p>
<p><strong>å±‚æ¬¡ 1ï¼šæ ¸å¿ƒä»»åŠ¡ï¼ˆå¿…é¡»ï¼‰</strong></p>
<ul>
<li>åšä»€ä¹ˆï¼šé‡æ„ã€åˆ›å»ºã€ä¿®å¤ã€ä¼˜åŒ–</li>
<li>å¯¹è±¡ï¼šå“ªä¸ªç»„ä»¶ã€å“ªä¸ªå‡½æ•°ã€å“ªä¸ªæ–‡ä»¶</li>
</ul>
<p><strong>å±‚æ¬¡ 2ï¼šå…·ä½“ç›®æ ‡ï¼ˆé‡è¦ï¼‰</strong></p>
<ul>
<li>ä¸ºä»€ä¹ˆï¼šæé«˜æ€§èƒ½ã€æ”¹å–„å¯è¯»æ€§ã€ä¿®å¤ bug</li>
<li>æ€ä¹ˆåšï¼šä½¿ç”¨ Hooksã€æ·»åŠ ç¼“å­˜ã€ä¼˜åŒ–ç®—æ³•</li>
</ul>
<p><strong>å±‚æ¬¡ 3ï¼šè´¨é‡æ ‡å‡†ï¼ˆåŠ åˆ†ï¼‰</strong></p>
<ul>
<li>æ€§èƒ½æŒ‡æ ‡ï¼šæ—¶é—´å¤æ‚åº¦ã€æ¸²æŸ“æ¬¡æ•°</li>
<li>ä»£ç è´¨é‡ï¼šå¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§</li>
</ul>
<p><strong>ç¤ºä¾‹å¯¹æ¯”ï¼š</strong></p>
<p><strong>âŒ åªæœ‰å±‚æ¬¡ 1ï¼š</strong></p>
<pre><code class="hljs">é‡æ„è¿™ä¸ªç»„ä»¶
</code></pre>
<p><strong>âœ… åŒ…å«å±‚æ¬¡ 1+2ï¼š</strong></p>
<pre><code class="hljs">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼Œä½¿ç”¨ React Hooks æ›¿ä»£ç±»ç»„ä»¶ï¼Œå¹¶ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚
</code></pre>
<p><strong>âœ…âœ… åŒ…å«æ‰€æœ‰å±‚æ¬¡ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼š
<span class="hljs-deletion">- æ ¸å¿ƒä»»åŠ¡ï¼šå°†ç±»ç»„ä»¶è½¬æ¢ä¸ºå‡½æ•°ç»„ä»¶</span>
<span class="hljs-deletion">- å…·ä½“æ–¹æ³•ï¼šä½¿ç”¨ React Hooksï¼ˆuseState, useEffect, useCallbackï¼‰</span>
<span class="hljs-deletion">- æ€§èƒ½ç›®æ ‡ï¼šå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œç›®æ ‡æ¸²æŸ“æ¬¡æ•° &lt; 3æ¬¡/ç”¨æˆ·æ“ä½œ</span>
<span class="hljs-deletion">- è´¨é‡æ ‡å‡†ï¼šä¿æŒåŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡æ‰€æœ‰ç°æœ‰æµ‹è¯•ï¼Œä»£ç å¯è¯»æ€§æå‡</span>
</code></pre>
<p><strong>ä»»åŠ¡æè¿°çš„å¸¸è§é™·é˜±ï¼š</strong></p>
<ol>
<li><strong>åŠ¨è¯ä¸æ˜ç¡®</strong>ï¼š"ä¼˜åŒ–"ã€"æ”¹è¿›"å¤ªæ¨¡ç³Šï¼Œåº”è¯¥ç”¨"å‡å°‘æ¸²æŸ“"ã€"é™ä½æ—¶é—´å¤æ‚åº¦"</li>
<li><strong>ç›®æ ‡å†²çª</strong>ï¼šåŒæ—¶è¦æ±‚"å¿«é€Ÿå®ç°"å’Œ"å®Œç¾ä»£ç "ï¼Œåº”è¯¥æ˜ç¡®ä¼˜å…ˆçº§</li>
<li><strong>ç¼ºå°‘éªŒè¯æ ‡å‡†</strong>ï¼šåªè¯´"ä¼˜åŒ–æ€§èƒ½"ï¼Œä¸è¯´å¦‚ä½•éªŒè¯ï¼ŒAI ä¸çŸ¥é“åšåˆ°ä»€ä¹ˆç¨‹åº¦</li>
</ol>
<h3 data-id="heading-13">3. ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå¾ˆé‡è¦ï¼ï¼‰</h3>
<p>ä¸Šä¸‹æ–‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯â€œåˆšå¥½å¤Ÿç”¨â€ã€‚æ¨èæŒ‰å±‚æ¬¡æ¥ç»™ï¼š</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">å½“å‰é¡¹ç›®ä½¿ç”¨ TypeScript + React <span class="hljs-number">18</span>ï¼ŒçŠ¶æ€ç®¡ç†ä½¿ç”¨ Redux Toolkitã€‚
ä»¥ä¸‹æ˜¯éœ€è¦é‡æ„çš„ç»„ä»¶ä»£ç ï¼š
<span class="hljs-selector-attr">[ä»£ç ç‰‡æ®µ]</span>
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šä¸Šä¸‹æ–‡ä¿¡æ¯çš„å±‚æ¬¡</strong></p>
<p>ä¸Šä¸‹æ–‡ä¿¡æ¯åº”è¯¥åŒ…å«å¤šä¸ªå±‚æ¬¡ï¼š</p>
<p><strong>å±‚æ¬¡ 1ï¼šé¡¹ç›®çº§ä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰</strong></p>
<ul>
<li>æŠ€æœ¯æ ˆï¼šæ¡†æ¶ã€è¯­è¨€ã€ç‰ˆæœ¬</li>
<li>é¡¹ç›®ç»“æ„ï¼šç›®å½•ç»„ç»‡ã€å‘½åè§„èŒƒ</li>
<li>ä¾èµ–å…³ç³»ï¼šä½¿ç”¨çš„åº“ã€å·¥å…·</li>
</ul>
<p><strong>å±‚æ¬¡ 2ï¼šæ–‡ä»¶çº§ä¸Šä¸‹æ–‡ï¼ˆé‡è¦ï¼‰</strong></p>
<ul>
<li>ç›¸å…³æ–‡ä»¶ï¼šå¯¼å…¥çš„æ–‡ä»¶ã€è¢«å¯¼å…¥çš„æ–‡ä»¶</li>
<li>ä»£ç é£æ ¼ï¼šç¼©è¿›ã€å‘½åã€æ³¨é‡Šé£æ ¼</li>
<li>æ¶æ„æ¨¡å¼ï¼šè®¾è®¡æ¨¡å¼ã€ä»£ç ç»„ç»‡æ–¹å¼</li>
</ul>
<p><strong>å±‚æ¬¡ 3ï¼šè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ˆåŠ åˆ†ï¼‰</strong></p>
<ul>
<li>ç¯å¢ƒä¿¡æ¯ï¼šæµè§ˆå™¨ç‰ˆæœ¬ã€Node ç‰ˆæœ¬</li>
<li>æ€§èƒ½è¦æ±‚ï¼šå“åº”æ—¶é—´ã€å†…å­˜é™åˆ¶</li>
<li>ä¸šåŠ¡é€»è¾‘ï¼šåŠŸèƒ½éœ€æ±‚ã€ç”¨æˆ·åœºæ™¯</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šå®Œæ•´çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">é¡¹ç›®ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript 5.0 + React 18.2 + Redux Toolkit 1.9
<span class="hljs-bullet">-</span> æ„å»ºå·¥å…·ï¼šVite 4.0
<span class="hljs-bullet">-</span> ä»£ç è§„èŒƒï¼šESLint + Prettierï¼Œéµå¾ª Airbnb è§„èŒƒ
<span class="hljs-bullet">-</span> é¡¹ç›®ç»“æ„ï¼šfeatures-based æ¶æ„ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹

æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> å½“å‰æ–‡ä»¶ï¼šsrc/features/user/components/UserProfile.tsx
<span class="hljs-bullet">-</span> ç›¸å…³æ–‡ä»¶ï¼š
<span class="hljs-bullet">  *</span> src/features/user/types.tsï¼ˆç±»å‹å®šä¹‰ï¼‰
<span class="hljs-bullet">  *</span> src/features/user/hooks/useUser.tsï¼ˆè‡ªå®šä¹‰ Hookï¼‰
<span class="hljs-bullet">  *</span> src/shared/components/Button.tsxï¼ˆå‚è€ƒç»„ä»¶ï¼‰
<span class="hljs-bullet">-</span> ä»£ç é£æ ¼ï¼šå‡½æ•°å¼ç»„ä»¶ï¼Œä½¿ç”¨ Hooksï¼ŒTypeScript ä¸¥æ ¼æ¨¡å¼

è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> ç›®æ ‡æµè§ˆå™¨ï¼šChrome 90+, Safari 14+, Firefox 88+
<span class="hljs-bullet">-</span> æ€§èƒ½è¦æ±‚ï¼šé¦–å±æ¸²æŸ“ &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100ms
<span class="hljs-bullet">-</span> ä¸šåŠ¡åœºæ™¯ï¼šç”¨æˆ·èµ„æ–™å±•ç¤ºï¼Œæ”¯æŒç¼–è¾‘å’Œä¿å­˜
</code></pre>
<p><strong>Cursor çš„è‡ªåŠ¨ä¸Šä¸‹æ–‡ vs æ‰‹åŠ¨ä¸Šä¸‹æ–‡</strong></p>
<p>Cursor ä¼šè‡ªåŠ¨è¯»å–ï¼š</p>
<ul>
<li>âœ… å½“å‰æ‰“å¼€çš„æ–‡ä»¶</li>
<li>âœ… é¡¹ç›®ç»“æ„</li>
<li>âœ… æœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶</li>
</ul>
<p>ä½†ä½ éœ€è¦æ‰‹åŠ¨æä¾›ï¼š</p>
<ul>
<li>âš ï¸ ä¸šåŠ¡é€»è¾‘å’Œéœ€æ±‚èƒŒæ™¯</li>
<li>âš ï¸ æ€§èƒ½è¦æ±‚å’Œçº¦æŸ</li>
<li>âš ï¸ ä»£ç é£æ ¼åå¥½</li>
<li>âš ï¸ æ¶æ„å†³ç­–å’Œè®¾è®¡åŸåˆ™</li>
</ul>
<p><strong>æŠ€å·§ï¼šåˆ©ç”¨æ–‡ä»¶å¼•ç”¨</strong></p>
<p>åœ¨æç¤ºè¯ä¸­ç›´æ¥å¼•ç”¨æ–‡ä»¶ï¼ŒCursor ä¼šè‡ªåŠ¨è¯»å–ï¼š</p>
<pre><code class="hljs language-css" lang="css">å‚è€ƒ <span class="hljs-attribute">src</span>/components/<span class="hljs-selector-tag">Button</span><span class="hljs-selector-class">.tsx</span> çš„å®ç°æ–¹å¼ï¼Œ
åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„ <span class="hljs-selector-tag">Input</span> ç»„ä»¶ã€‚
è¦æ±‚ä¿æŒä¸€è‡´çš„ï¼š
- TypeScript æ¥å£å®šä¹‰é£æ ¼
- é”™è¯¯å¤„ç†æ¨¡å¼
- æµ‹è¯•è¦†ç›–æ–¹å¼
</code></pre>
<h3 data-id="heading-14">4. çº¦æŸæ¡ä»¶ï¼ˆé¿å… AI ä¹±æ¥ï¼‰</h3>
<p>æ˜ç¡®å‘Šè¯‰ AI ä»€ä¹ˆå¿…é¡»åšï¼Œä»€ä¹ˆä¸èƒ½åšã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¦æ±‚ï¼š
<span class="hljs-deletion">- å¿…é¡»ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-deletion">- éµå¾ª ESLint è§„åˆ™</span>
<span class="hljs-deletion">- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-deletion">- åŒ…å« JSDoc æ³¨é‡Š</span>
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šçº¦æŸæ¡ä»¶çš„åˆ†ç±»</strong></p>
<p>å¸¸è§çº¦æŸå¯ä»¥åˆ†è¿™å‡ ç±»ï¼š</p>
<p><strong>1. æŠ€æœ¯çº¦æŸï¼ˆå¿…é¡»éµå®ˆï¼‰</strong></p>
<ul>
<li>è¯­è¨€ç‰ˆæœ¬ï¼šTypeScript 5.0 strict mode</li>
<li>æ¡†æ¶ç‰ˆæœ¬ï¼šReact 18.2ï¼Œä¸èƒ½ä½¿ç”¨å·²åºŸå¼ƒçš„ API</li>
<li>å·¥å…·é™åˆ¶ï¼šå¿…é¡»é€šè¿‡ ESLintï¼Œä¸èƒ½ä½¿ç”¨ any ç±»å‹</li>
</ul>
<p><strong>2. æ¶æ„çº¦æŸï¼ˆä¿æŒä¸€è‡´æ€§ï¼‰</strong></p>
<ul>
<li>ä»£ç ç»„ç»‡ï¼šéµå¾ªé¡¹ç›®çš„ features-based æ¶æ„</li>
<li>è®¾è®¡æ¨¡å¼ï¼šä½¿ç”¨é¡¹ç›®ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†æ¨¡å¼</li>
<li>æ¥å£è§„èŒƒï¼šéµå¾ªé¡¹ç›®çš„ API æ¥å£è§„èŒƒ</li>
</ul>
<p><strong>3. æ€§èƒ½çº¦æŸï¼ˆé‡åŒ–æŒ‡æ ‡ï¼‰</strong></p>
<ul>
<li>æ¸²æŸ“æ€§èƒ½ï¼šç»„ä»¶é‡æ–°æ¸²æŸ“æ¬¡æ•° &lt; 3æ¬¡/ç”¨æˆ·æ“ä½œ</li>
<li>åŠ è½½æ€§èƒ½ï¼šé¦–å±åŠ è½½æ—¶é—´ &lt; 1s</li>
<li>å†…å­˜é™åˆ¶ï¼šä¸èƒ½åˆ›å»ºè¶…è¿‡ 1000 ä¸ª DOM èŠ‚ç‚¹</li>
</ul>
<p><strong>4. å®‰å…¨çº¦æŸï¼ˆé˜²æ­¢æ¼æ´ï¼‰</strong></p>
<ul>
<li>è¾“å…¥éªŒè¯ï¼šæ‰€æœ‰ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œè½¬ä¹‰</li>
<li>æƒé™æ£€æŸ¥ï¼šæ•æ„Ÿæ“ä½œå¿…é¡»æ£€æŸ¥æƒé™</li>
<li>æ•°æ®ä¿æŠ¤ï¼šä¸èƒ½åœ¨å‰ç«¯å­˜å‚¨æ•æ„Ÿä¿¡æ¯</li>
</ul>
<p><strong>5. å…¼å®¹æ€§çº¦æŸï¼ˆç¡®ä¿å¯ç”¨æ€§ï¼‰</strong></p>
<ul>
<li>æµè§ˆå™¨æ”¯æŒï¼šChrome 90+, Safari 14+, Firefox 88+</li>
<li>å“åº”å¼è®¾è®¡ï¼šæ”¯æŒç§»åŠ¨ç«¯ï¼ˆ320px+ï¼‰å’Œæ¡Œé¢ç«¯ï¼ˆ1920px+ï¼‰</li>
<li>å¯è®¿é—®æ€§ï¼šç¬¦åˆ WCAG 2.1 AA æ ‡å‡†</li>
</ul>
<p><strong>é«˜çº§æŠ€å·§ï¼šçº¦æŸæ¡ä»¶çš„ä¼˜å…ˆçº§</strong></p>
<p>å½“çº¦æŸæ¡ä»¶å†²çªæ—¶ï¼Œæ˜ç¡®ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">çº¦æŸæ¡ä»¶ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰ï¼š
<span class="hljs-bullet">1.</span> P0ï¼ˆå¿…é¡»ï¼‰ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œé€šè¿‡æ‰€æœ‰æµ‹è¯•
<span class="hljs-bullet">2.</span> P1ï¼ˆé‡è¦ï¼‰ï¼šæ€§èƒ½è¦æ±‚ï¼Œä»£ç å¯è¯»æ€§
<span class="hljs-bullet">3.</span> P2ï¼ˆå¯é€‰ï¼‰ï¼šä»£ç æ³¨é‡Šï¼Œæ–‡æ¡£å®Œæ•´æ€§

å¦‚æœ P0 å’Œ P1 å†²çªï¼Œä¼˜å…ˆæ»¡è¶³ P0ã€‚
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šçº¦æŸæ¡ä»¶å¤ªå®½æ³›</strong></p>
<p><strong>âŒ å¤ªå®½æ³›ï¼š</strong></p>
<pre><code class="hljs">è¦æ±‚ï¼šä»£ç è´¨é‡è¦é«˜
</code></pre>
<p><strong>âœ… å…·ä½“æ˜ç¡®ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¦æ±‚ï¼š
<span class="hljs-deletion">- ä»£ç è´¨é‡ï¼šé€šè¿‡ ESLint æ£€æŸ¥ï¼Œæ—  warning</span>
<span class="hljs-deletion">- ç±»å‹å®‰å…¨ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œæ—  any ç±»å‹</span>
<span class="hljs-deletion">- æµ‹è¯•è¦†ç›–ï¼šå•å…ƒæµ‹è¯•è¦†ç›–ç‡ &gt; 80%</span>
<span class="hljs-deletion">- æ€§èƒ½æŒ‡æ ‡ï¼šç»„ä»¶æ¸²æŸ“æ—¶é—´ &lt; 16msï¼ˆ60fpsï¼‰</span>
</code></pre>
<h3 data-id="heading-15">5. è¾“å‡ºæ ¼å¼ï¼ˆè®©ç»“æœæ›´æ¸…æ™°ï¼‰</h3>
<p>å‘Šè¯‰ AI ä½ å¸Œæœ›å®ƒæ€ä¹ˆå›ç­”ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·ä»¥ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š
<span class="hljs-bullet">1.</span> é‡æ„åçš„ä»£ç 
<span class="hljs-bullet">2.</span> æ”¹åŠ¨è¯´æ˜
<span class="hljs-bullet">3.</span> æ€§èƒ½ä¼˜åŒ–ç‚¹
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šè¾“å‡ºæ ¼å¼çš„é‡è¦æ€§</strong></p>
<p>æ˜ç¡®çš„è¾“å‡ºæ ¼å¼æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<p><strong>1. ç»“æ„åŒ–ä¿¡æ¯ï¼Œä¾¿äºç†è§£</strong></p>
<ul>
<li>ä»£ç å’Œè¯´æ˜åˆ†ç¦»ï¼Œå®¹æ˜“é˜…è¯»</li>
<li>æ”¹åŠ¨ç‚¹æ¸…æ™°ï¼Œä¾¿äºå®¡æŸ¥</li>
<li>æ€§èƒ½æ•°æ®é‡åŒ–ï¼Œä¾¿äºéªŒè¯</li>
</ul>
<p><strong>2. ä¾¿äºåç»­å¤„ç†</strong></p>
<ul>
<li>å¯ä»¥ç›´æ¥å¤åˆ¶ä»£ç ä½¿ç”¨</li>
<li>æ”¹åŠ¨è¯´æ˜å¯ä»¥ç”¨äºä»£ç å®¡æŸ¥</li>
<li>æ€§èƒ½æ•°æ®å¯ä»¥ç”¨äºæŠ¥å‘Š</li>
</ul>
<p><strong>3. å‡å°‘æ­§ä¹‰</strong></p>
<ul>
<li>æ˜ç¡®å‘Šè¯‰ AI è¦è¾“å‡ºä»€ä¹ˆ</li>
<li>é¿å… AI ç”Ÿæˆä¸å¿…è¦çš„å†…å®¹</li>
<li>ç¡®ä¿å…³é”®ä¿¡æ¯ä¸é—æ¼</li>
</ul>
<p><strong>é«˜çº§è¾“å‡ºæ ¼å¼ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š

<span class="hljs-comment">## 1. é‡æ„åçš„ä»£ç </span>
<span class="hljs-section">[å®Œæ•´çš„ä»£ç ï¼ŒåŒ…å«æ‰€æœ‰æ–‡ä»¶]</span>

<span class="hljs-comment">## 2. æ”¹åŠ¨è¯´æ˜</span>
<span class="hljs-comment">### 2.1 ä¸»è¦æ”¹åŠ¨</span>
- <span class="hljs-section">[æ”¹åŠ¨1]</span>ï¼šè¯´æ˜åŸå› å’Œå½±å“
- <span class="hljs-section">[æ”¹åŠ¨2]</span>ï¼šè¯´æ˜åŸå› å’Œå½±å“

<span class="hljs-comment">### 2.2 æ€§èƒ½ä¼˜åŒ–</span>
- <span class="hljs-section">[ä¼˜åŒ–1]</span>ï¼šä¼˜åŒ–å‰ vs ä¼˜åŒ–åçš„æ•°æ®å¯¹æ¯”
- <span class="hljs-section">[ä¼˜åŒ–2]</span>ï¼šä¼˜åŒ–å‰ vs ä¼˜åŒ–åçš„æ•°æ®å¯¹æ¯”

<span class="hljs-comment">### 2.3 æ½œåœ¨é£é™©</span>
- <span class="hljs-section">[é£é™©1]</span>ï¼šè¯´æ˜å’Œç¼“è§£æªæ–½
- <span class="hljs-section">[é£é™©2]</span>ï¼šè¯´æ˜å’Œç¼“è§£æªæ–½

<span class="hljs-comment">## 3. æµ‹è¯•å»ºè®®</span>
- <span class="hljs-section">[æµ‹è¯•ç”¨ä¾‹1]</span>ï¼šéœ€è¦æµ‹è¯•çš„åœºæ™¯
- <span class="hljs-section">[æµ‹è¯•ç”¨ä¾‹2]</span>ï¼šéœ€è¦æµ‹è¯•çš„åœºæ™¯

<span class="hljs-comment">## 4. åç»­ä¼˜åŒ–å»ºè®®</span>
- <span class="hljs-section">[å»ºè®®1]</span>ï¼šå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç‚¹
- <span class="hljs-section">[å»ºè®®2]</span>ï¼šå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç‚¹
</code></pre>
<p><strong>è¾“å‡ºæ ¼å¼çš„å¸¸è§é—®é¢˜ï¼š</strong></p>
<ol>
<li><strong>æ ¼å¼å¤ªç®€å•</strong>ï¼šåªè¯´"è¾“å‡ºä»£ç "ï¼Œæ²¡æœ‰è¯´æ˜ã€æ²¡æœ‰æ”¹åŠ¨ç‚¹</li>
<li><strong>æ ¼å¼å¤ªå¤æ‚</strong>ï¼šè¦æ±‚å¤ªå¤šç»†èŠ‚ï¼ŒAI å¯èƒ½é—æ¼</li>
<li><strong>æ ¼å¼ä¸åŒ¹é…éœ€æ±‚</strong>ï¼šä»£ç å®¡æŸ¥å’Œä»£ç ç”Ÿæˆçš„æ ¼å¼åº”è¯¥ä¸åŒ</li>
</ol>
<p><strong>æŠ€å·§ï¼šæ ¹æ®ä»»åŠ¡è°ƒæ•´æ ¼å¼</strong></p>
<ul>
<li><strong>ä»£ç ç”Ÿæˆ</strong>ï¼šä»£ç  + ä½¿ç”¨è¯´æ˜ + æ³¨æ„äº‹é¡¹</li>
<li><strong>ä»£ç é‡æ„</strong>ï¼šä»£ç  + æ”¹åŠ¨è¯´æ˜ + æ€§èƒ½å¯¹æ¯”</li>
<li><strong>Bug ä¿®å¤</strong>ï¼šä¿®å¤æ–¹æ¡ˆ + åŸå› åˆ†æ + é¢„é˜²æªæ–½</li>
<li><strong>ä»£ç å®¡æŸ¥</strong>ï¼šé—®é¢˜æ¸…å• + ä¸¥é‡ç¨‹åº¦ + æ”¹è¿›å»ºè®®</li>
</ul>
<hr/>
<h2 data-id="heading-16">å†™æç¤ºè¯çš„å‡ ä¸ªé»„é‡‘æ³•åˆ™</h2>
<h3 data-id="heading-17">æ³•åˆ™ 1ï¼šè¶Šå…·ä½“è¶Šå¥½</h3>
<p><strong>âŒ å¤ªæ¨¡ç³Šï¼š</strong></p>
<pre><code class="hljs">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°
</code></pre>
<p><strong>âœ… å…·ä½“æ˜ç¡®ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°çš„æ€§èƒ½ï¼Œå°†æ—¶é—´å¤æ‚åº¦ä» <span class="hljs-built_in">O</span>(nÂ²) é™ä½åˆ° <span class="hljs-built_in">O</span>(n log n)ï¼Œ
ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•ï¼Œå¹¶æ·»åŠ é€‚å½“çš„ç¼“å­˜æœºåˆ¶ã€‚
</code></pre>
<p>AI ä¸æ˜¯äººï¼Œå®ƒä¸ä¼šçŒœä½ çš„æ„æ€ã€‚ä½ è¯´å¾—è¶Šå…·ä½“ï¼Œå®ƒè¶Šèƒ½ç†è§£ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šå…·ä½“æ€§çš„ç»´åº¦</strong></p>
<p>"å…·ä½“"ä¸åªæ˜¯è¯´æ›´å¤šç»†èŠ‚ï¼Œè€Œæ˜¯è¦åœ¨å…³é”®ç»´åº¦ä¸Šæ˜ç¡®ï¼š</p>
<p><strong>ç»´åº¦ 1ï¼šæŠ€æœ¯ç»´åº¦</strong></p>
<ul>
<li>âŒ "ä¼˜åŒ–æ€§èƒ½" â†’ âœ… "å°†æ—¶é—´å¤æ‚åº¦ä» O(nÂ²) é™åˆ° O(n log n)"</li>
<li>âŒ "ç”¨æ›´å¥½çš„æ–¹æ³•" â†’ âœ… "ä½¿ç”¨ Map æ•°æ®ç»“æ„æ›¿ä»£æ•°ç»„æŸ¥æ‰¾"</li>
<li>âŒ "å¤„ç†é”™è¯¯" â†’ âœ… "æ•è·å¼‚å¸¸å¹¶è¿”å› { error: string, data: null }"</li>
</ul>
<p><strong>ç»´åº¦ 2ï¼šåŠŸèƒ½ç»´åº¦</strong></p>
<ul>
<li>âŒ "åšä¸ªæœç´¢" â†’ âœ… "å®ç°å®æ—¶æœç´¢ï¼Œæ”¯æŒä¸­æ–‡æ‹¼éŸ³åŒ¹é…ï¼Œé«˜äº®æ˜¾ç¤ºç»“æœ"</li>
<li>âŒ "åŠ ä¸ªæŒ‰é’®" â†’ âœ… "æ·»åŠ ä¸»è¦æ“ä½œæŒ‰é’®ï¼Œæ”¯æŒ loading çŠ¶æ€ï¼Œç‚¹å‡»åè°ƒç”¨ API"</li>
</ul>
<p><strong>ç»´åº¦ 3ï¼šè´¨é‡ç»´åº¦</strong></p>
<ul>
<li>âŒ "ä»£ç è¦å¥½" â†’ âœ… "é€šè¿‡ ESLint æ£€æŸ¥ï¼ŒTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œæµ‹è¯•è¦†ç›–ç‡ &gt; 80%"</li>
<li>âŒ "æ€§èƒ½è¦å¥½" â†’ âœ… "é¦–å±æ¸²æŸ“ &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100msï¼Œå†…å­˜å ç”¨ &lt; 50MB"</li>
</ul>
<p><strong>ç»´åº¦ 4ï¼šè¾¹ç•Œç»´åº¦</strong></p>
<ul>
<li>âŒ "å¤„ç†å¼‚å¸¸" â†’ âœ… "å¤„ç†ç½‘ç»œé”™è¯¯ï¼ˆè¶…æ—¶ã€æ–­ç½‘ï¼‰ã€æœåŠ¡å™¨é”™è¯¯ï¼ˆ4xxã€5xxï¼‰ã€æ•°æ®æ ¼å¼é”™è¯¯"</li>
<li>âŒ "æ”¯æŒç§»åŠ¨ç«¯" â†’ âœ… "æ”¯æŒ 320px-1920px å®½åº¦ï¼Œè§¦æ‘¸æ“ä½œï¼Œæ¨ªç«–å±åˆ‡æ¢"</li>
</ul>
<p><strong>å®æˆ˜æŠ€å·§ï¼šä½¿ç”¨é‡åŒ–æŒ‡æ ‡</strong></p>
<p>æŠŠæ¨¡ç³Šçš„è¦æ±‚å˜æˆå¯æµ‹é‡çš„æŒ‡æ ‡ï¼š</p>

























<table><thead><tr><th>æ¨¡ç³Šè¦æ±‚</th><th>é‡åŒ–æŒ‡æ ‡</th></tr></thead><tbody><tr><td>"æ€§èƒ½å¥½"</td><td>"æ¸²æŸ“æ—¶é—´ &lt; 16msï¼Œå†…å­˜ &lt; 100MB"</td></tr><tr><td>"ä»£ç è´¨é‡é«˜"</td><td>"ESLint 0 warningï¼Œæµ‹è¯•è¦†ç›–ç‡ &gt; 80%"</td></tr><tr><td>"ç”¨æˆ·ä½“éªŒå¥½"</td><td>"é¦–å± &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100ms"</td></tr><tr><td>"å…¼å®¹æ€§å¥½"</td><td>"Chrome 90+, Safari 14+, Firefox 88+"</td></tr></tbody></table>
<p><strong>å¸¸è§é™·é˜±ï¼šå‡å…·ä½“</strong></p>
<p>çœ‹èµ·æ¥å…·ä½“ï¼Œå®é™…ä¸Šè¿˜æ˜¯æ¨¡ç³Šï¼š</p>
<p><strong>âŒ å‡å…·ä½“ï¼š</strong></p>
<pre><code class="hljs">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°ï¼Œè®©å®ƒæ›´å¿«ã€æ›´å¥½ã€æ›´ç¨³å®š
</code></pre>
<p><strong>âœ… çœŸå…·ä½“ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°ï¼š
- æ€§èƒ½ï¼šæ—¶é—´å¤æ‚åº¦ä» <span class="hljs-built_in">O</span>(nÂ²) é™åˆ° <span class="hljs-built_in">O</span>(n log n)
- ç¨³å®šæ€§ï¼šæ·»åŠ è¾“å…¥éªŒè¯ï¼Œå¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆç©ºæ•°ç»„ã€nullã€undefinedï¼‰
- å¯ç»´æŠ¤æ€§ï¼šæ·»åŠ  JSDoc æ³¨é‡Šï¼Œæå–å¯å¤ç”¨é€»è¾‘
</code></pre>
<h3 data-id="heading-18">æ³•åˆ™ 2ï¼šç»™è¶³ä¸Šä¸‹æ–‡</h3>
<p><strong>âŒ ç¼ºå°‘ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs">ä¿®å¤è¿™ä¸ª bug
</code></pre>
<p><strong>âœ… æä¾›ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">åœ¨ç”¨æˆ·ç™»å½•åŠŸèƒ½ä¸­ï¼Œå½“è¾“å…¥é”™è¯¯çš„å¯†ç æ—¶ï¼Œé¡µé¢ä¼šå´©æºƒã€‚
é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºï¼š<span class="hljs-string">'Cannot read property '</span>token<span class="hljs-string">' of undefined'</span>ã€‚
è¯·æ£€æŸ¥ç™»å½• API è°ƒç”¨çš„é”™è¯¯å¤„ç†é€»è¾‘ã€‚
</code></pre>
<p>æ²¡æœ‰ä¸Šä¸‹æ–‡ï¼ŒAI æ ¹æœ¬ä¸çŸ¥é“ä½ åœ¨è¯´ä»€ä¹ˆã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šä¸Šä¸‹æ–‡çš„å±‚æ¬¡å’Œä¼˜å…ˆçº§</strong></p>
<p>ä¸Šä¸‹æ–‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯è¦<strong>ç›¸å…³ä¸”å¿…è¦</strong>ã€‚æˆ‘æ€»ç»“äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ä¼˜å…ˆçº§æ¨¡å‹ï¼š</p>
<p><strong>P0 ä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰ï¼š</strong></p>
<ul>
<li>å½“å‰ä»£ç ï¼šæ­£åœ¨å¤„ç†çš„ä»£ç ç‰‡æ®µ</li>
<li>é”™è¯¯ä¿¡æ¯ï¼šå…·ä½“çš„é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆ</li>
<li>å¤ç°æ­¥éª¤ï¼šå¦‚ä½•è§¦å‘é—®é¢˜</li>
</ul>
<p><strong>P1 ä¸Šä¸‹æ–‡ï¼ˆé‡è¦ï¼‰ï¼š</strong></p>
<ul>
<li>ç›¸å…³æ–‡ä»¶ï¼šå¯¼å…¥çš„æ–‡ä»¶ã€è¢«å¯¼å…¥çš„æ–‡ä»¶</li>
<li>æŠ€æœ¯æ ˆï¼šä½¿ç”¨çš„æ¡†æ¶ã€åº“ã€ç‰ˆæœ¬</li>
<li>ä¸šåŠ¡é€»è¾‘ï¼šåŠŸèƒ½éœ€æ±‚å’Œç”¨æˆ·åœºæ™¯</li>
</ul>
<p><strong>P2 ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰ï¼š</strong></p>
<ul>
<li>é¡¹ç›®ç»“æ„ï¼šæ•´ä½“æ¶æ„å’Œç»„ç»‡æ–¹å¼</li>
<li>å†å²èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</li>
<li>æœªæ¥è®¡åˆ’ï¼šåç»­å¯èƒ½çš„å˜åŒ–</li>
</ul>
<p><strong>å®æˆ˜æŠ€å·§ï¼šä¸Šä¸‹æ–‡çš„é€‰æ‹©ç­–ç•¥</strong></p>
<ol>
<li>
<p><strong>ç›¸å…³æ€§åŸåˆ™</strong>ï¼šåªæä¾›ä¸å½“å‰ä»»åŠ¡ç›¸å…³çš„ä¸Šä¸‹æ–‡</p>
<ul>
<li>Bug ä¿®å¤ â†’ é”™è¯¯ä¿¡æ¯ã€ç›¸å…³ä»£ç ã€å¤ç°æ­¥éª¤</li>
<li>ä»£ç é‡æ„ â†’ å½“å‰ä»£ç ã€ç›¸å…³æ–‡ä»¶ã€æ¶æ„æ¨¡å¼</li>
<li>æ€§èƒ½ä¼˜åŒ– â†’ æ€§èƒ½æ•°æ®ã€ç“¶é¢ˆåˆ†æã€ä¼˜åŒ–ç›®æ ‡</li>
</ul>
</li>
<li>
<p><strong>æœ€å°åŒ–åŸåˆ™</strong>ï¼šæä¾›æœ€å°‘çš„å¿…è¦ä¸Šä¸‹æ–‡</p>
<ul>
<li>ä¸è¦å¤åˆ¶æ•´ä¸ªæ–‡ä»¶ï¼Œåªå¤åˆ¶ç›¸å…³éƒ¨åˆ†</li>
<li>ä¸è¦åˆ—å‡ºæ‰€æœ‰ä¾èµ–ï¼Œåªåˆ—å‡ºå…³é”®ä¾èµ–</li>
<li>ä¸è¦æè¿°æ•´ä¸ªé¡¹ç›®ï¼Œåªæè¿°ç›¸å…³æ¨¡å—</li>
</ul>
</li>
<li>
<p><strong>ç»“æ„åŒ–åŸåˆ™</strong>ï¼šç”¨ç»“æ„åŒ–çš„æ–¹å¼ç»„ç»‡ä¸Šä¸‹æ–‡</p>
<pre><code class="hljs language-ini" lang="ini">ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š

<span class="hljs-comment">## å½“å‰é—®é¢˜</span>
<span class="hljs-section">[é—®é¢˜æè¿°]</span>

<span class="hljs-comment">## ç›¸å…³ä»£ç </span>
<span class="hljs-section">[ä»£ç ç‰‡æ®µ]</span>

<span class="hljs-comment">## é”™è¯¯ä¿¡æ¯</span>
<span class="hljs-section">[é”™è¯¯è¯¦æƒ…]</span>

<span class="hljs-comment">## ç¯å¢ƒä¿¡æ¯</span>
<span class="hljs-section">[æŠ€æœ¯æ ˆã€ç‰ˆæœ¬ç­‰]</span>
</code></pre>
</li>
</ol>
<p><strong>é«˜çº§æŠ€å·§ï¼šåŠ¨æ€ä¸Šä¸‹æ–‡</strong></p>
<p>æ ¹æ®å¯¹è¯è¿›å±•ï¼ŒåŠ¨æ€è°ƒæ•´ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€è½®</strong>ï¼šæä¾›åŸºç¡€ä¸Šä¸‹æ–‡ï¼Œè®© AI ç†è§£é—®é¢˜</li>
<li><strong>ç¬¬äºŒè½®</strong>ï¼šå¦‚æœ AI ç†è§£æœ‰åå·®ï¼Œè¡¥å……æ›´å…·ä½“çš„ä¸Šä¸‹æ–‡</li>
<li><strong>ç¬¬ä¸‰è½®</strong>ï¼šé’ˆå¯¹ AI çš„é—®é¢˜ï¼Œæä¾›ç²¾ç¡®çš„ä¸Šä¸‹æ–‡</li>
</ul>
<p><strong>å¸¸è§é™·é˜±ï¼šä¸Šä¸‹æ–‡è¿‡è½½</strong></p>
<p>æä¾›å¤ªå¤šä¸ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼Œåè€Œä¼šå¹²æ‰° AIï¼š</p>
<p><strong>âŒ ä¸Šä¸‹æ–‡è¿‡è½½ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ä¿®å¤è¿™ä¸ª bugã€‚é¡¹ç›®æ˜¯ç”¨ React <span class="hljs-number">18</span> + TypeScript <span class="hljs-number">5.0</span> + Vite <span class="hljs-number">4.0</span> æ„å»ºçš„ï¼Œ
ä½¿ç”¨äº† Redux Toolkit åšçŠ¶æ€ç®¡ç†ï¼ŒTailwind CSS åšæ ·å¼ï¼ŒJest åšæµ‹è¯•ï¼Œ
ESLint åšä»£ç æ£€æŸ¥ï¼ŒPrettier åšæ ¼å¼åŒ–ï¼ŒGitHub Actions åš CI/CD...
<span class="hljs-selector-attr">[ç„¶åæ‰è¯´å®é™…çš„ bug]</span>
</code></pre>
<p><strong>âœ… ç²¾å‡†ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python">ä¿®å¤ä»¥ä¸‹ bugï¼š
- é—®é¢˜ï¼šç”¨æˆ·ç™»å½•åï¼Œé¡µé¢æ˜¾ç¤ºç©ºç™½
- é”™è¯¯ï¼šæ§åˆ¶å°æ˜¾ç¤º <span class="hljs-string">'Cannot read property '</span>use<span class="hljs-string">r' of undefined'</span>
- ä½ç½®ï¼šsrc/features/auth/components/LoginForm.tsx:<span class="hljs-number">45</span>
- ç›¸å…³ä»£ç ï¼š[åªåŒ…å«ç›¸å…³çš„ä»£ç ç‰‡æ®µ]
</code></pre>
<h3 data-id="heading-19">æ³•åˆ™ 3ï¼šå¤æ‚ä»»åŠ¡åˆ†æ­¥éª¤</h3>
<p>é‡åˆ°å¤æ‚çš„åŠŸèƒ½ï¼Œåˆ«ä¸€æ¬¡æ€§è¯´å®Œï¼Œåˆ†æ­¥éª¤æ¥ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼š
<span class="hljs-bullet">1.</span> åˆ›å»ºç™»å½•è¡¨å•ç»„ä»¶ï¼ˆåŒ…å«é‚®ç®±å’Œå¯†ç è¾“å…¥ï¼‰
<span class="hljs-bullet">2.</span> å®ç°è¡¨å•éªŒè¯é€»è¾‘
<span class="hljs-bullet">3.</span> é›†æˆè®¤è¯ API
<span class="hljs-bullet">4.</span> å¤„ç†æˆåŠŸå’Œå¤±è´¥åœºæ™¯
<span class="hljs-bullet">5.</span> æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º
</code></pre>
<p>è¿™æ · AI æ›´å®¹æ˜“ç†è§£ï¼Œä½ ä¹Ÿèƒ½ä¸€æ­¥æ­¥ç¡®è®¤ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šåˆ†æ­¥éª¤çš„ç­–ç•¥</strong></p>
<p>åˆ†æ­¥éª¤ä¸æ˜¯ç®€å•çš„"1ã€2ã€3"ï¼Œè€Œæ˜¯è¦éµå¾ªä¸€å®šçš„ç­–ç•¥ï¼š</p>
<p><strong>ç­–ç•¥ 1ï¼šä¾èµ–å…³ç³»ä¼˜å…ˆ</strong></p>
<ul>
<li>å…ˆåšåŸºç¡€åŠŸèƒ½ï¼Œå†åšå¢å¼ºåŠŸèƒ½</li>
<li>å…ˆåšæ ¸å¿ƒé€»è¾‘ï¼Œå†åšè¾¹ç¼˜æƒ…å†µ</li>
<li>å…ˆåšåŠŸèƒ½å®ç°ï¼Œå†åšæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<p><strong>ç­–ç•¥ 2ï¼šå¯éªŒè¯æ€§ä¼˜å…ˆ</strong></p>
<ul>
<li>æ¯ä¸ªæ­¥éª¤éƒ½èƒ½ç‹¬ç«‹éªŒè¯</li>
<li>æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ˜ç¡®çš„å®Œæˆæ ‡å‡†</li>
<li>æ¯ä¸ªæ­¥éª¤éƒ½èƒ½çœ‹åˆ°å®é™…æ•ˆæœ</li>
</ul>
<p><strong>ç­–ç•¥ 3ï¼šé£é™©æ§åˆ¶ä¼˜å…ˆ</strong></p>
<ul>
<li>é«˜é£é™©æ­¥éª¤å…ˆåšï¼Œæ—©å‘ç°é—®é¢˜</li>
<li>å…³é”®è·¯å¾„å…ˆåšï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½</li>
<li>ä¾èµ–å¤–éƒ¨ç³»ç»Ÿçš„æ­¥éª¤ååšï¼Œå‡å°‘é˜»å¡</li>
</ul>
<p><strong>é«˜çº§åˆ†æ­¥éª¤ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

<span class="hljs-section">## é˜¶æ®µ 1ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆå¿…é¡»å®Œæˆï¼‰</span>
<span class="hljs-bullet">1.</span> åˆ›å»ºç™»å½•è¡¨å• UI
<span class="hljs-bullet">   -</span> è¾“å…¥æ¡†ï¼šé‚®ç®±ã€å¯†ç 
<span class="hljs-bullet">   -</span> æŒ‰é’®ï¼šç™»å½•ã€æ³¨å†Œ
<span class="hljs-bullet">   -</span> éªŒè¯ï¼šå‰ç«¯åŸºç¡€éªŒè¯ï¼ˆéç©ºã€æ ¼å¼ï¼‰
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šè¡¨å•èƒ½æ­£å¸¸æ˜¾ç¤ºå’Œè¾“å…¥

<span class="hljs-bullet">2.</span> å®ç° API é›†æˆ
<span class="hljs-bullet">   -</span> åˆ›å»º API æœåŠ¡å‡½æ•°
<span class="hljs-bullet">   -</span> å¤„ç†è¯·æ±‚/å“åº”
<span class="hljs-bullet">   -</span> é”™è¯¯å¤„ç†ï¼šç½‘ç»œé”™è¯¯ã€æœåŠ¡å™¨é”™è¯¯
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šèƒ½æˆåŠŸè°ƒç”¨ APIï¼Œå¤„ç†é”™è¯¯

<span class="hljs-section">## é˜¶æ®µ 2ï¼šå¢å¼ºåŠŸèƒ½ï¼ˆé‡è¦ï¼‰</span>
<span class="hljs-bullet">3.</span> å®Œå–„è¡¨å•éªŒè¯
<span class="hljs-bullet">   -</span> é‚®ç®±æ ¼å¼éªŒè¯
<span class="hljs-bullet">   -</span> å¯†ç å¼ºåº¦éªŒè¯
<span class="hljs-bullet">   -</span> å®æ—¶åé¦ˆ
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šæ‰€æœ‰éªŒè¯è§„åˆ™ç”Ÿæ•ˆ

<span class="hljs-bullet">4.</span> çŠ¶æ€ç®¡ç†
<span class="hljs-bullet">   -</span> ç”¨æˆ·çŠ¶æ€å­˜å‚¨
<span class="hljs-bullet">   -</span> ç™»å½•çŠ¶æ€æŒä¹…åŒ–
<span class="hljs-bullet">   -</span> è·¯ç”±ä¿æŠ¤
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç™»å½•çŠ¶æ€æ­£ç¡®ä¿å­˜å’Œæ¢å¤

<span class="hljs-section">## é˜¶æ®µ 3ï¼šä¼˜åŒ–å’Œå¢å¼ºï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-bullet">5.</span> ç”¨æˆ·ä½“éªŒä¼˜åŒ–
<span class="hljs-bullet">   -</span> åŠ è½½çŠ¶æ€
<span class="hljs-bullet">   -</span> é”™è¯¯æç¤º
<span class="hljs-bullet">   -</span> æˆåŠŸåé¦ˆ
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç”¨æˆ·æ“ä½œæœ‰æ˜ç¡®åé¦ˆ

<span class="hljs-bullet">6.</span> å®‰å…¨æ€§å¢å¼º
<span class="hljs-bullet">   -</span> Token åˆ·æ–°
<span class="hljs-bullet">   -</span> è‡ªåŠ¨ç™»å‡º
<span class="hljs-bullet">   -</span> å®‰å…¨å­˜å‚¨
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç¬¦åˆå®‰å…¨æœ€ä½³å®è·µ
</code></pre>
<p><strong>æŠ€å·§ï¼šä½¿ç”¨æ£€æŸ¥ç‚¹</strong></p>
<p>åœ¨æ¯ä¸ªæ­¥éª¤åè®¾ç½®æ£€æŸ¥ç‚¹ï¼Œç¡®ä¿è´¨é‡ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æ­¥éª¤ 1ï¼šåˆ›å»ºåŸºç¡€ç»„ä»¶
<span class="hljs-deletion">- å®Œæˆæ ‡å‡†ï¼šç»„ä»¶èƒ½æ­£å¸¸æ¸²æŸ“</span>
<span class="hljs-deletion">- æ£€æŸ¥ç‚¹ï¼šé€šè¿‡ TypeScript ç¼–è¯‘ï¼Œæ—  ESLint é”™è¯¯</span>
<span class="hljs-deletion">- ä¸‹ä¸€æ­¥ï¼šç¡®è®¤åå†ç»§ç»­</span>

æ­¥éª¤ 2ï¼šæ·»åŠ åŠŸèƒ½é€»è¾‘
<span class="hljs-deletion">- å®Œæˆæ ‡å‡†ï¼šåŠŸèƒ½æ­£å¸¸å·¥ä½œ</span>
<span class="hljs-deletion">- æ£€æŸ¥ç‚¹ï¼šé€šè¿‡å•å…ƒæµ‹è¯•ï¼Œæ‰‹åŠ¨æµ‹è¯•é€šè¿‡</span>
<span class="hljs-deletion">- ä¸‹ä¸€æ­¥ï¼šç¡®è®¤åå†ç»§ç»­</span>
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šæ­¥éª¤åˆ’åˆ†ä¸å½“</strong></p>
<ol>
<li><strong>æ­¥éª¤å¤ªç»†</strong>ï¼šæ¯ä¸ªå°æ”¹åŠ¨éƒ½ç®—ä¸€æ­¥ï¼Œå¯¼è‡´æ­¥éª¤è¿‡å¤š</li>
<li><strong>æ­¥éª¤å¤ªç²—</strong>ï¼šä¸€ä¸ªæ­¥éª¤åŒ…å«å¤ªå¤šå†…å®¹ï¼Œéš¾ä»¥éªŒè¯</li>
<li><strong>æ­¥éª¤æ— åº</strong>ï¼šæ²¡æœ‰è€ƒè™‘ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´æ— æ³•æ‰§è¡Œ</li>
<li><strong>ç¼ºå°‘éªŒè¯</strong>ï¼šæ²¡æœ‰æ˜ç¡®çš„å®Œæˆæ ‡å‡†ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ç®—å®Œæˆ</li>
</ol>
<h3 data-id="heading-20">æ³•åˆ™ 4ï¼šç»™ç¤ºä¾‹æœ€ç®¡ç”¨</h3>
<p>æœ‰æ—¶å€™è¯´å†å¤šï¼Œä¸å¦‚ç»™ä¸ªä¾‹å­ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">åˆ›å»ºä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œç”¨äºæ ¼å¼åŒ–æ—¥æœŸã€‚
è¾“å…¥ç¤ºä¾‹ï¼š<span class="hljs-string">'2024-01-15'</span>
è¾“å‡ºç¤ºä¾‹ï¼š<span class="hljs-string">'2024å¹´1æœˆ15æ—¥'</span>
</code></pre>
<p>çœ‹åˆ°ä¾‹å­ï¼ŒAI ç«‹é©¬å°±çŸ¥é“ä½ è¦ä»€ä¹ˆæ ¼å¼äº†ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šç¤ºä¾‹çš„ç±»å‹å’Œä½œç”¨</strong></p>
<p>ç¤ºä¾‹ä¸åªæ˜¯"è¾“å…¥è¾“å‡º"ï¼Œæœ‰å¤šç§ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ä½œç”¨ï¼š</p>
<p><strong>ç±»å‹ 1ï¼šè¾“å…¥è¾“å‡ºç¤ºä¾‹ï¼ˆæœ€å¸¸ç”¨ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæ˜ç¡®æ•°æ®æ ¼å¼å’Œè½¬æ¢è§„åˆ™</li>
<li>é€‚ç”¨ï¼šå·¥å…·å‡½æ•°ã€æ•°æ®è½¬æ¢ã€æ ¼å¼åŒ–</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">åˆ›å»ºä¸€ä¸ªæ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ï¼š
è¾“å…¥ï¼š<span class="hljs-string">'2024-01-15'</span> â†’ è¾“å‡ºï¼š<span class="hljs-string">'2024å¹´1æœˆ15æ—¥'</span>
è¾“å…¥ï¼š<span class="hljs-string">'2024-12-25'</span> â†’ è¾“å‡ºï¼š<span class="hljs-string">'2024å¹´12æœˆ25æ—¥'</span>
</code></pre>
<p><strong>ç±»å‹ 2ï¼šä»£ç é£æ ¼ç¤ºä¾‹ï¼ˆä¿æŒä¸€è‡´æ€§ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šå±•ç¤ºæœŸæœ›çš„ä»£ç é£æ ¼å’Œæ¨¡å¼</li>
<li>é€‚ç”¨ï¼šä»£ç é‡æ„ã€æ–°åŠŸèƒ½å¼€å‘</li>
</ul>
<pre><code class="hljs language-css" lang="css">å‚è€ƒä»¥ä¸‹ä»£ç é£æ ¼åˆ›å»ºæ–°ç»„ä»¶ï¼š
<span class="hljs-selector-attr">[ç¤ºä¾‹ä»£ç ï¼šå±•ç¤ºå‘½åã€ç»“æ„ã€æ³¨é‡Šé£æ ¼]</span>

è¦æ±‚æ–°ç»„ä»¶ä¿æŒç›¸åŒçš„é£æ ¼ã€‚
</code></pre>
<p><strong>ç±»å‹ 3ï¼šè¡Œä¸ºç¤ºä¾‹ï¼ˆæ˜ç¡®äº¤äº’ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæè¿°ç”¨æˆ·äº¤äº’å’Œç³»ç»Ÿå“åº”</li>
<li>é€‚ç”¨ï¼šUI ç»„ä»¶ã€äº¤äº’åŠŸèƒ½</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">å®ç°æœç´¢åŠŸèƒ½ï¼š
- ç”¨æˆ·è¾“å…¥ <span class="hljs-string">"react"</span> â†’ æ˜¾ç¤ºåŒ¹é…ç»“æœï¼Œé«˜äº® <span class="hljs-string">"react"</span>
- ç”¨æˆ·è¾“å…¥ç©ºå­—ç¬¦ä¸² â†’ æ˜¾ç¤ºæ‰€æœ‰ç»“æœ
- ç”¨æˆ·è¾“å…¥ä¸å­˜åœ¨çš„å…³é”®è¯ â†’ æ˜¾ç¤º <span class="hljs-string">"æœªæ‰¾åˆ°ç»“æœ"</span>
</code></pre>
<p><strong>ç±»å‹ 4ï¼šè¾¹ç•Œæƒ…å†µç¤ºä¾‹ï¼ˆå¤„ç†å¼‚å¸¸ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæ˜ç¡®å¦‚ä½•å¤„ç†è¾¹ç•Œå’Œå¼‚å¸¸æƒ…å†µ</li>
<li>é€‚ç”¨ï¼šé”™è¯¯å¤„ç†ã€æ•°æ®éªŒè¯</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">å¤„ç†ç”¨æˆ·è¾“å…¥ï¼š
- æ­£å¸¸è¾“å…¥ï¼š<span class="hljs-string">"user@example.com"</span> â†’ é€šè¿‡éªŒè¯
- è¾¹ç•Œæƒ…å†µï¼š<span class="hljs-string">""</span> â†’ è¿”å›é”™è¯¯ <span class="hljs-string">"é‚®ç®±ä¸èƒ½ä¸ºç©º"</span>
- å¼‚å¸¸æƒ…å†µï¼š<span class="hljs-literal">null</span> â†’ è¿”å›é”™è¯¯ <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span>
</code></pre>
<p><strong>ç±»å‹ 5ï¼šå®Œæ•´åœºæ™¯ç¤ºä¾‹ï¼ˆç«¯åˆ°ç«¯ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šå±•ç¤ºå®Œæ•´çš„ä½¿ç”¨åœºæ™¯</li>
<li>é€‚ç”¨ï¼šå¤æ‚åŠŸèƒ½ã€ç³»ç»Ÿé›†æˆ</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> ç”¨æˆ·å¡«å†™è¡¨å•ï¼ˆé‚®ç®±ã€å¯†ç ã€ç¡®è®¤å¯†ç ï¼‰
<span class="hljs-bullet">2.</span> ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
<span class="hljs-bullet">3.</span> æ˜¾ç¤ºåŠ è½½çŠ¶æ€
<span class="hljs-bullet">4.</span> è°ƒç”¨æ³¨å†Œ API
<span class="hljs-bullet">5.</span> æˆåŠŸï¼šæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ï¼Œè·³è½¬ç™»å½•é¡µ
<span class="hljs-bullet">6.</span> å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ï¼Œä¿æŒè¡¨å•æ•°æ®
</code></pre>
<p><strong>é«˜çº§æŠ€å·§ï¼šå¤šç¤ºä¾‹å¯¹æ¯”</strong></p>
<p>ç”¨å¤šä¸ªç¤ºä¾‹å±•ç¤ºä¸åŒçš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">åˆ›å»ºè¡¨å•éªŒè¯å‡½æ•°ï¼Œæ”¯æŒä»¥ä¸‹åœºæ™¯ï¼š</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">1</span><span class="hljs-string">ï¼šæ­£å¸¸æƒ…å†µ</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"user@example.com"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"Password123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> {} <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">2</span><span class="hljs-string">ï¼šé‚®ç®±æ ¼å¼é”™è¯¯</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"invalid-email"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"Password123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">email:</span> <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span> } <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">3</span><span class="hljs-string">ï¼šå¯†ç å¤ªçŸ­</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"user@example.com"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">password:</span> <span class="hljs-string">"å¯†ç è‡³å°‘8ä½"</span> } <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">4</span><span class="hljs-string">ï¼šå¤šä¸ªé”™è¯¯</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"invalid"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">email:</span> <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span>, <span class="hljs-attr">password:</span> <span class="hljs-string">"å¯†ç è‡³å°‘8ä½"</span> } <span class="hljs-string">}</span>
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šç¤ºä¾‹ä¸å……åˆ†</strong></p>
<ol>
<li><strong>åªæœ‰æ­£å¸¸æƒ…å†µ</strong>ï¼šæ²¡æœ‰è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸å¤„ç†</li>
<li><strong>ç¤ºä¾‹å¤ªå°‘</strong>ï¼šåªæœ‰ä¸€ä¸ªç¤ºä¾‹ï¼Œæ— æ³•è¦†ç›–æ‰€æœ‰åœºæ™¯</li>
<li><strong>ç¤ºä¾‹ä¸å…¸å‹</strong>ï¼šé€‰æ‹©äº†ä¸å¸¸è§çš„åœºæ™¯ï¼Œè¯¯å¯¼ AI</li>
<li><strong>ç¤ºä¾‹è¿‡æ—¶</strong>ï¼šä½¿ç”¨äº†æ—§ç‰ˆæœ¬çš„ API æˆ–æ¨¡å¼</li>
</ol>
<h3 data-id="heading-21">æ³•åˆ™ 5ï¼šæ˜ç¡®è¾¹ç•Œ</h3>
<p>å‘Šè¯‰ AI ä»€ä¹ˆè¯¥åšï¼Œä»€ä¹ˆä¸è¯¥åšã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">å®ç°ä¸€ä¸ªæœç´¢åŠŸèƒ½ï¼š
<span class="hljs-deletion">- åº”è¯¥ï¼šæ”¯æŒæ¨¡ç³Šæœç´¢ã€å®æ—¶æœç´¢ã€é«˜äº®åŒ¹é…ç»“æœ</span>
<span class="hljs-deletion">- ä¸åº”è¯¥ï¼šä¿®æ”¹ç°æœ‰çš„æ•°æ®æ¨¡å‹ã€å½±å“å…¶ä»–åŠŸèƒ½</span>
</code></pre>
<p>è¿™æ · AI å°±ä¸ä¼šä¹±æ”¹ä½ çš„ä»£ç äº†ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šè¾¹ç•Œçš„å¤šä¸ªç»´åº¦</strong></p>
<p>è¾¹ç•Œä¸åªæ˜¯"åº”è¯¥"å’Œ"ä¸åº”è¯¥"ï¼Œè¦ä»å¤šä¸ªç»´åº¦æ˜ç¡®ï¼š</p>
<p><strong>ç»´åº¦ 1ï¼šåŠŸèƒ½è¾¹ç•Œ</strong></p>
<ul>
<li>åšä»€ä¹ˆï¼šæ˜ç¡®è¦å®ç°çš„åŠŸèƒ½</li>
<li>ä¸åšä»€ä¹ˆï¼šæ˜ç¡®ä¸è¦å®ç°çš„åŠŸèƒ½</li>
<li>åšåˆ°ä»€ä¹ˆç¨‹åº¦ï¼šæ˜ç¡®åŠŸèƒ½çš„å®Œæ•´æ€§å’Œæ·±åº¦</li>
</ul>
<p><strong>ç»´åº¦ 2ï¼šä»£ç è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥ä¿®æ”¹ï¼šå“ªäº›æ–‡ä»¶å¯ä»¥æ”¹</li>
<li>ä¸èƒ½ä¿®æ”¹ï¼šå“ªäº›æ–‡ä»¶ä¸èƒ½åŠ¨</li>
<li>å¯ä»¥æ–°å¢ï¼šå¯ä»¥åˆ›å»ºå“ªäº›æ–°æ–‡ä»¶</li>
<li>ä¸èƒ½æ–°å¢ï¼šä¸èƒ½åˆ›å»ºå“ªäº›æ–‡ä»¶</li>
</ul>
<p><strong>ç»´åº¦ 3ï¼šå½±å“è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥å½±å“ï¼šå“ªäº›åŠŸèƒ½å¯ä»¥å—å½±å“</li>
<li>ä¸èƒ½å½±å“ï¼šå“ªäº›åŠŸèƒ½å¿…é¡»ä¿æŒä¸å˜</li>
<li>å…¼å®¹æ€§è¦æ±‚ï¼šå¿…é¡»ä¿æŒå‘åå…¼å®¹</li>
</ul>
<p><strong>ç»´åº¦ 4ï¼šæŠ€æœ¯è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥ä½¿ç”¨ï¼šå“ªäº›æŠ€æœ¯ã€åº“ã€API</li>
<li>ä¸èƒ½ä½¿ç”¨ï¼šå“ªäº›æŠ€æœ¯è¢«ç¦æ­¢</li>
<li>ç‰ˆæœ¬é™åˆ¶ï¼šå¿…é¡»ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬</li>
</ul>
<p><strong>é«˜çº§è¾¹ç•Œå®šä¹‰ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°æœç´¢åŠŸèƒ½ï¼Œè¾¹ç•Œå¦‚ä¸‹ï¼š

<span class="hljs-section">## åŠŸèƒ½è¾¹ç•Œ</span>
åº”è¯¥å®ç°ï¼š
<span class="hljs-bullet">-</span> âœ… å®æ—¶æœç´¢ï¼ˆè¾“å…¥æ—¶å³æ—¶æ˜¾ç¤ºç»“æœï¼‰
<span class="hljs-bullet">-</span> âœ… æ¨¡ç³ŠåŒ¹é…ï¼ˆæ”¯æŒéƒ¨åˆ†å…³é”®è¯åŒ¹é…ï¼‰
<span class="hljs-bullet">-</span> âœ… ç»“æœé«˜äº®ï¼ˆé«˜äº®åŒ¹é…çš„å…³é”®è¯ï¼‰
<span class="hljs-bullet">-</span> âœ… ç©ºçŠ¶æ€å¤„ç†ï¼ˆæ— ç»“æœæ—¶æ˜¾ç¤ºæç¤ºï¼‰

ä¸åº”è¯¥å®ç°ï¼š
<span class="hljs-bullet">-</span> âŒ æœç´¢å†å²ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰
<span class="hljs-bullet">-</span> âŒ æœç´¢å»ºè®®ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰
<span class="hljs-bullet">-</span> âŒ é«˜çº§ç­›é€‰ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰

<span class="hljs-section">## ä»£ç è¾¹ç•Œ</span>
å¯ä»¥ä¿®æ”¹ï¼š
<span class="hljs-bullet">-</span> âœ… src/features/search/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
<span class="hljs-bullet">-</span> âœ… src/shared/components/SearchInput.tsxï¼ˆå¦‚æœå­˜åœ¨ï¼‰

ä¸èƒ½ä¿®æ”¹ï¼š
<span class="hljs-bullet">-</span> âŒ src/features/user/ ç›®å½•ï¼ˆç”¨æˆ·ç›¸å…³åŠŸèƒ½ï¼‰
<span class="hljs-bullet">-</span> âŒ src/api/ ç›®å½•ï¼ˆAPI æ¥å£å®šä¹‰ï¼‰
<span class="hljs-bullet">-</span> âŒ src/types/ ç›®å½•ï¼ˆå…¨å±€ç±»å‹å®šä¹‰ï¼‰

å¯ä»¥æ–°å¢ï¼š
<span class="hljs-bullet">-</span> âœ… src/features/search/components/ ä¸‹çš„æ–°ç»„ä»¶
<span class="hljs-bullet">-</span> âœ… src/features/search/hooks/ ä¸‹çš„æ–° Hook

<span class="hljs-section">## å½±å“è¾¹ç•Œ</span>
å¯ä»¥å½±å“ï¼š
<span class="hljs-bullet">-</span> âœ… æœç´¢ç»“æœå±•ç¤ºåŒºåŸŸ
<span class="hljs-bullet">-</span> âœ… æœç´¢è¾“å…¥æ¡†çš„äº¤äº’

ä¸èƒ½å½±å“ï¼š
<span class="hljs-bullet">-</span> âŒ å…¶ä»–åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨
<span class="hljs-bullet">-</span> âŒ ç°æœ‰çš„æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†
<span class="hljs-bullet">-</span> âŒ é¡µé¢çš„å…¶ä»–éƒ¨åˆ†

å…¼å®¹æ€§è¦æ±‚ï¼š
<span class="hljs-bullet">-</span> âœ… å¿…é¡»ä¿æŒç°æœ‰ API æ¥å£ä¸å˜
<span class="hljs-bullet">-</span> âœ… å¿…é¡»ä¿æŒç°æœ‰ç»„ä»¶æ¥å£ä¸å˜

<span class="hljs-section">## æŠ€æœ¯è¾¹ç•Œ</span>
å¿…é¡»ä½¿ç”¨ï¼š
<span class="hljs-bullet">-</span> âœ… React 18.2ï¼ˆé¡¹ç›®å½“å‰ç‰ˆæœ¬ï¼‰
<span class="hljs-bullet">-</span> âœ… TypeScript 5.0 strict mode
<span class="hljs-bullet">-</span> âœ… é¡¹ç›®ç°æœ‰çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ

ä¸èƒ½ä½¿ç”¨ï¼š
<span class="hljs-bullet">-</span> âŒ æ–°çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆé™¤éå¿…è¦ä¸”ç»è¿‡æ‰¹å‡†ï¼‰
<span class="hljs-bullet">-</span> âŒ å®éªŒæ€§çš„ API æˆ–ç‰¹æ€§
<span class="hljs-bullet">-</span> âŒ å·²åºŸå¼ƒçš„ API
</code></pre>
<p><strong>æŠ€å·§ï¼šä½¿ç”¨ç™½åå•å’Œé»‘åå•</strong></p>
<p>ç”¨ç™½åå•ï¼ˆå…è®¸ï¼‰å’Œé»‘åå•ï¼ˆç¦æ­¢ï¼‰æ˜ç¡®è¾¹ç•Œï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ç™½åå•ï¼ˆå…è®¸ï¼‰</span>
<span class="hljs-bullet">-</span> å¯ä»¥ä½¿ç”¨çš„æŠ€æœ¯ï¼šReact Hooks, TypeScript, Tailwind CSS
<span class="hljs-bullet">-</span> å¯ä»¥ä¿®æ”¹çš„æ–‡ä»¶ï¼šsrc/components/Search/
<span class="hljs-bullet">-</span> å¯ä»¥å®ç°çš„åŠŸèƒ½ï¼šæœç´¢ã€é«˜äº®ã€è¿‡æ»¤

<span class="hljs-section">## é»‘åå•ï¼ˆç¦æ­¢ï¼‰</span>
<span class="hljs-bullet">-</span> ä¸èƒ½ä½¿ç”¨çš„æŠ€æœ¯ï¼šjQuery, class ç»„ä»¶
<span class="hljs-bullet">-</span> ä¸èƒ½ä¿®æ”¹çš„æ–‡ä»¶ï¼šsrc/api/, src/types/
<span class="hljs-bullet">-</span> ä¸èƒ½å®ç°çš„åŠŸèƒ½ï¼šæœç´¢å†å²ã€é«˜çº§ç­›é€‰
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šè¾¹ç•Œä¸æ˜ç¡®</strong></p>
<ol>
<li><strong>åªè¯´"åº”è¯¥"ï¼Œä¸è¯´"ä¸åº”è¯¥"</strong>ï¼šAI å¯èƒ½å®ç°å¤šä½™çš„åŠŸèƒ½</li>
<li><strong>è¾¹ç•Œå¤ªå®½æ³›</strong>ï¼š"ä¸å½±å“å…¶ä»–åŠŸèƒ½"å¤ªæ¨¡ç³Šï¼Œåº”è¯¥å…·ä½“è¯´æ˜</li>
<li><strong>è¾¹ç•Œå†²çª</strong>ï¼šåŒæ—¶è¯´"å¯ä»¥ä¿®æ”¹"å’Œ"ä¸èƒ½ä¿®æ”¹"åŒä¸€æ–‡ä»¶</li>
<li><strong>ç¼ºå°‘éªŒè¯</strong>ï¼šæ²¡æœ‰è¯´æ˜å¦‚ä½•éªŒè¯è¾¹ç•Œæ˜¯å¦è¢«éµå®ˆ</li>
</ol>
<hr/>
<h2 data-id="heading-22">æ€»ç»“</h2>
<ol>
<li><strong>æç¤ºè¯çš„æœ¬è´¨</strong>ï¼šæ˜¯ä¸ AI æ¨¡å‹çš„äº¤äº’åè®®ï¼Œè´¨é‡ç›´æ¥å½±å“è¾“å‡º</li>
<li><strong>æç¤ºè¯çš„é‡è¦æ€§</strong>ï¼šå¥½çš„æç¤ºè¯èƒ½å¤§å¹…æé«˜å¼€å‘æ•ˆç‡</li>
<li><strong>æç¤ºè¯çš„ç»“æ„</strong>ï¼šåŒ…å«è§’è‰²ã€ä»»åŠ¡ã€ä¸Šä¸‹æ–‡ã€çº¦æŸã€è¾“å‡ºæ ¼å¼ 5 ä¸ªéƒ¨åˆ†</li>
<li><strong>é»„é‡‘æ³•åˆ™</strong>ï¼šå…·ä½“æ˜ç¡®ã€ç»™è¶³ä¸Šä¸‹æ–‡ã€åˆ†æ­¥éª¤ã€ç»™ç¤ºä¾‹ã€æ˜ç¡®è¾¹ç•Œ</li>
</ol>
<p>æŒæ¡äº†è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œä½ å°±å¯ä»¥å¼€å§‹å†™æœ‰æ•ˆçš„æç¤ºè¯äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ]]></title>    <link>https://juejin.cn/post/7573617944519147520</link>    <guid>https://juejin.cn/post/7573617944519147520</guid>    <pubDate>2025-11-18T08:38:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573617944519147520" data-draft-id="7573670400153501748" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:38:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢¦é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360628462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360628462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢¦é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:38:29.000Z" title="Tue Nov 18 2025 08:38:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">éœ€æ±‚æè¿°</h3>
<p>element-uiçš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3Del-autocomplete%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=el-autocomplete&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">el-autocomplete</a>Â ç»„ä»¶æ”¯æŒè¿œç¨‹æœç´¢è¾“å…¥å»ºè®®ï¼Œä¸è¿‡ä¸èƒ½ç¿»é¡µï¼Œåªèƒ½æœç´¢åˆ°é¦–é¡µå†…å®¹</p>
<p>è¦æ±‚å®ç°ä¸‹æ»‘åˆ°åº•éƒ¨çš„æ—¶å€™ï¼Œè§¦å‘ç¿»é¡µè¯·æ±‚ï¼ŒæŸ¥çœ‹æ›´å¤šç»“æœ</p>
<h3 data-id="heading-1">å®ç°æ€è·¯</h3>
<p>æƒ³åŠæ³•ç›‘å¬åˆ°æ»šåŠ¨äº‹ä»¶ï¼Œå°±èƒ½åˆ¤æ–­æ˜¯å¦åˆ°è¾¾åº•éƒ¨ï¼Œç„¶åè¿›è¡Œ<code>page++</code>Â æœç´¢</p>
<p>é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3D%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589%25E6%258C%2587%25E4%25BB%25A4%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰æŒ‡ä»¤</a><code>v-autocomplete-scroll</code>Â æ¥ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œéœ€è¦æ³¨æ„äº‹ä»¶çš„ç›‘å¬ä¸ç§»é™¤ç›‘å¬</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-autocomplete</span>
    <span class="hljs-attr">popper-class</span>=<span class="hljs-string">"mo-autocomplete"</span>
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"keyword"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px"</span>
    <span class="hljs-attr">:fetch-suggestions</span>=<span class="hljs-string">"querySearch"</span>
    <span class="hljs-attr">:debounce</span>=<span class="hljs-string">"800"</span>
    <span class="hljs-attr">ref</span>=<span class="hljs-string">"autocomplete"</span>
    <span class="hljs-attr">v-autocomplete-scroll</span>=<span class="hljs-string">"handleScroll"</span>
    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æœç´¢"</span>
    @<span class="hljs-attr">blur</span>=<span class="hljs-string">"handleBlur"</span>
  &gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-autocomplete</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> apiData <span class="hljs-keyword">from</span> <span class="hljs-string">'./data.json'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,

  <span class="hljs-attr">props</span>: {},

  <span class="hljs-attr">computed</span>: {},

  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">size</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">keyword</span>: <span class="hljs-string">''</span>,
    }
  },

  <span class="hljs-attr">directives</span>: {
    <span class="hljs-string">'autocomplete-scroll'</span>: {
      <span class="hljs-title function_">bind</span>(<span class="hljs-params">el, binding, vnode</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bind'</span>)

        <span class="hljs-comment">// æ­¤å¤„ä¸ºäº†ç®€å•ï¼Œç›´æ¥åˆ¤æ–­è§¦åº•äº†</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params">e</span>) {
          <span class="hljs-keyword">let</span> isBottom =
            e.<span class="hljs-property">target</span>.<span class="hljs-property">clientHeight</span> + e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span> == e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollHeight</span>
          <span class="hljs-keyword">if</span> (isBottom &amp;&amp; !vnode.<span class="hljs-property">context</span>.<span class="hljs-property">loading</span>) {
            binding.<span class="hljs-title function_">value</span>()
          }
        }

        <span class="hljs-comment">// ç›‘å¬æ»šåŠ¨</span>
        <span class="hljs-keyword">let</span> wrapDom = el.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.el-autocomplete-suggestion__wrap'</span>)
        el.<span class="hljs-property">__handleScroll__</span> = handleScroll
        el.<span class="hljs-property">__wrapDom__</span> = wrapDom
        wrapDom.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, <span class="hljs-literal">false</span>)
      },

      <span class="hljs-title function_">unbind</span>(<span class="hljs-params">el, binding, vnode</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'unbind'</span>)
        <span class="hljs-comment">// è§£é™¤äº‹ä»¶ç›‘å¬</span>
        el.<span class="hljs-property">__wrapDom__</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, el.<span class="hljs-property">__handleScroll__</span>, <span class="hljs-literal">false</span>)
      },
    },
  },

  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// åˆ†é¡µæœç´¢</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">keywords</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'page'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span>)
      <span class="hljs-keyword">let</span> start = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> - <span class="hljs-number">1</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>
      <span class="hljs-keyword">let</span> end = start + <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>
      <span class="hljs-keyword">return</span> apiData.<span class="hljs-title function_">slice</span>(start, end)
    },

    <span class="hljs-comment">// ç„¦ç‚¹è§¦å‘æœç´¢ç¬¬ä¸€é¡µ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">querySearch</span>(<span class="hljs-params">queryString, cb</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> = <span class="hljs-number">1</span>
      <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">search</span>(queryString)

      <span class="hljs-comment">// è°ƒç”¨ callback è¿”å›å»ºè®®åˆ—è¡¨çš„æ•°æ®</span>
      <span class="hljs-title function_">cb</span>(list)
    },

    <span class="hljs-comment">// æ»šåŠ¨è§¦å‘ç¿»é¡µ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'handleScroll'</span>)

      <span class="hljs-comment">// é™åˆ¶ç¿»é¡µé™åº¦</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> &gt; <span class="hljs-number">20</span>) {
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span>++

      <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">search</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>)

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-title function_">push</span>(...list)
    },

    <span class="hljs-title function_">handleBlur</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'handleBlur'</span>)
      <span class="hljs-comment">// é¿å…ä¸Šæ¬¡æ•°æ®å½±å“</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-title function_">splice</span>(
        <span class="hljs-number">0</span>,
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-property">length</span>
      )
    },
  },

  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {},
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>



</code></pre>
<p>æµ‹è¯•æ•°æ®Â data.json</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"ä¸‰å…¨é²œé£Ÿï¼ˆåŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ–°æ¸”è·¯144å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Hot honey é¦–å°”ç‚¸é¸¡ï¼ˆä»™éœè·¯ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºæ·è™¹è·¯661å·"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ–°æ—ºè§’èŒ¶é¤å…"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºçœŸåŒ—è·¯988å·åˆ›é‚‘é‡‘æ²™è°·6å·æ¥¼113"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ³·åƒå®¶(å¤©å±±è¥¿è·¯åº—)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯438å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"èƒ–ä»™å¥³çº¸æ¯è›‹ç³•ï¼ˆä¸Šæµ·å‡Œç©ºåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·1å¹¢18å·æ¥¼ä¸€å±‚å•†é“º18-101"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"è´¡èŒ¶"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯633å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"è±ªå¤§å¤§é¦™é¸¡æ’è¶…çº§å¥¶çˆ¸"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºæ›¹å®‰å…¬è·¯æ›¹å®‰è·¯1685å·"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"èŒ¶èŠå…°ï¼ˆå¥¶èŒ¶ï¼Œæ‰‹æŠ“é¥¼ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºåŒæ™®è·¯1435å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åäºŒæ³·ç”º"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚åŒ—ç¿Ÿè·¯1444å¼„81å·Bå¹¢-107"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ˜Ÿç§»æµ“ç¼©å’–å•¡"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºæ–°éƒè·¯817å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é˜¿å§¨å¥¶èŒ¶/è±ªå¤§å¤§"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ›¹å®‰è·¯1611å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ–°éº¦ç”œå››å­£ç”œå“ç‚¸é¸¡"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ›¹å®‰å…¬è·¯2383å¼„55å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Monicaæ‘©æ‰˜ä¸»é¢˜å’–å•¡åº—"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ±Ÿæ¡¥é•‡æ›¹å®‰å…¬è·¯2409å·1Fï¼Œ2383å¼„62å·1F"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æµ®ç”Ÿè‹¥èŒ¶ï¼ˆå‡Œç©ºsohoåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·é•¿å®åŒºé‡‘é’Ÿè·¯968å·9å·æ¥¼åœ°ä¸‹ä¸€å±‚"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"NONO JUICE  é²œæ¦¨æœæ±"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯119å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"CoCoéƒ½å¯(åŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºä»™éœè¥¿è·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¿«ä¹æŸ æª¬ï¼ˆç¥å·æ™ºæ…§åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯567å·1å±‚R117å·åº—é“º"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Merci Paul cafe"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºå…‰å¤è¥¿è·¯ä¸¹å·´è·¯28å¼„6å·æ¥¼819"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"çŒ«å±±ç‹ï¼ˆè¥¿éƒŠç™¾è”åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºä»™éœè¥¿è·¯88å·ç¬¬ä¸€å±‚G05-F01-1-306"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æªä¼šå±±"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºæ£•æ¦ˆè·¯"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çºµé£Ÿ"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å…ƒä¸°å¤©å±±èŠ±å›­(ä¸œé—¨) åŒæµè·¯267å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é’±è®°"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å£¹æ¯åŠ "</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé€šåè·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å”¦å“‡å˜€å’–"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºæ–°æ³¾é•‡é‡‘é’Ÿè·¯999å·2å¹¢ï¼ˆBå¹¢ï¼‰ç¬¬01å±‚ç¬¬1-02Aå•å…ƒ"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çˆ±èŒœèŒœé‡Œ(è¥¿éƒŠç™¾è”)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯88å·1305å®¤"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"çˆ±èŒœèŒœé‡Œ(è¿‘é“å¹¿åœº)"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºçœŸåŒ—è·¯818å·è¿‘é“åŸå¸‚å¹¿åœºåŒ—åŒºåœ°ä¸‹äºŒæ¥¼N-B2-O2-Cå•†é“º"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é²œæœæ¦¨æ±ï¼ˆé‡‘æ²™æ±Ÿè·¯å’Œç¾å¹¿åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯2239å·é‡‘æ²™å’Œç¾å¹¿åœºB1-10-6"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¼€å¿ƒä¸½æœï¼ˆç¼¤è°·åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¨å®è·¯å¤©å±±è·¯341å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"è¶…çº§é¸¡è½¦ï¼ˆä¸°åº„è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºä¸°åº„è·¯240å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¦™ç”Ÿæ´»æœå›­ï¼ˆåŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ–°æ¸”è·¯144å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é¦™å®œåº¦éº»è¾£é¦™é”…"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ·è™¹è·¯148å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å‡¡ä»”æ±‰å ¡ï¼ˆè€çœŸåŒ—è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºè€çœŸåŒ—è·¯160å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ¸¯å¼å°é“º"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·15æ¥¼15-105å®¤"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"èœ€é¦™æºéº»è¾£é¦™é”…ï¼ˆå‰‘æ²³è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å‰‘æ²³è·¯443-1"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åŒ—äº¬é¥ºå­é¦†"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºåŒ—æ–°æ³¾è¡—é“å¤©å±±è¥¿è·¯490-1å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é¥­å…¸*æ–°ç®€é¤ï¼ˆå‡Œç©ºSOHOåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·9å·æ¥¼åœ°ä¸‹ä¸€å±‚9-83å®¤"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"ç„¦è€³Â·å·å¼å¿«é¤ï¼ˆé‡‘é’Ÿè·¯åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é‡‘é’Ÿè·¯633å·åœ°ä¸‹ä¸€å±‚ç”²éƒ¨"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åŠ¨åŠ›é¸¡è½¦"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯299å¼„3å·101B"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æµé˜³è’¸èœ"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯430å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å››æµ·æ¸¸é¾™ï¼ˆå¤©å±±è¥¿è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ¨±èŠ±é£Ÿå ‚ï¼ˆå‡Œç©ºåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·15æ¥¼15-105å®¤"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å£¹åˆ†ç±³å®¢å®¶ä¼ ç»Ÿè°ƒåˆ¶ç±³ç²‰(å¤©å±±åº—)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯428å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"ç¦è£ç¥¥çƒ§è…Šï¼ˆå¹³æºªè·¯åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºåå’Œè·¯ç¦æ³‰è·¯255å¼„57-73å·"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é€Ÿè®°é»„ç„–é¸¡ç±³é¥­"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºåŒ—æ–°æ³¾è¡—é“é‡‘é’Ÿè·¯180å·1å±‚01å·æ‘Šä½"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çº¢è¾£æ¤’éº»è¾£çƒ«"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯492å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"(å°æ¨ç”Ÿç…)è¥¿éƒŠç™¾è”é¤å…"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯88å·ç™¾è”2æ¥¼"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é˜³é˜³éº»è¾£çƒ«"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯389å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å—æ‹³å¦ˆå¦ˆé¾™è™¾ç›–æµ‡é¥­"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯1699å·é‘«ä¹æƒ ç¾é£Ÿå¹¿åœºA13"</span>  }]</span>


</code></pre>
<p>å‚è€ƒ<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_43877368%2Farticle%2Fdetails%2F123273563" target="_blank" title="https://blog.csdn.net/weixin_43877368/article/details/123273563" ref="nofollow noopener noreferrer">el-autocomplete æ»šåŠ¨åˆ°åº•éƒ¨åŠ è½½æ•°æ®</a><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.runoob.com%2Fjsref%2Fmet-element-removeeventlistener.html" target="_blank" title="https://www.runoob.com/jsref/met-element-removeeventlistener.html" ref="nofollow noopener noreferrer">www.runoob.com/jsref/met-eâ€¦</a><br/>
<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.3qphp.com%2Fweb%2Fjavascript%2F4961.html" target="_blank" title="http://www.3qphp.com/web/javascript/4961.html" ref="nofollow noopener noreferrer">vue è§£é™¤é¼ æ ‡çš„ç›‘å¬äº‹ä»¶çš„æ–¹æ³•</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7573855399717060627</link>    <guid>https://juejin.cn/post/7573855399717060627</guid>    <pubDate>2025-11-18T08:55:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399717060627" data-draft-id="7573776814947811347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:55:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:55:58.000Z" title="Tue Nov 18 2025 08:55:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡æ–‡ç« ä»ç¨‹åºå‘˜è§†è§’ï¼Œç±»æ¯”ç†è§£ LLM çš„åº•å±‚åŸç†ã€‚</p>
<h2 data-id="heading-0">é˜¶æ®µä¸€ï¼šè®¾è®¡è“å›¾</h2>
<p>LLM ç°åœ¨éƒ½ç”¨ Transformer æ¶æ„ï¼Œæœ€å¼€å§‹ä¹Ÿè¦è®¾ç½®ä¸€äº›é¢å¤–çš„å‚æ•°ã€‚</p>
<h3 data-id="heading-1">d_modle</h3>
<p>æ¯”å¦‚ 4096ï¼Œæ˜¯ 2 çš„ n æ¬¡æ–¹ã€‚ä»£è¡¨å†…éƒ¨å‘é‡çš„ç»´åº¦ï¼Œå¸¸è§çš„ xy è½´å°±æ˜¯äºŒç»´çš„ï¼Œå·¦è¾¹ä»£è¡¨æ¯”å¦‚ [1,2]ï¼Œ4096 ç»´åº¦å°±ç”¨ [1,2,3....] ä¸€å…±æœ‰ 4096 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ä¸éœ€è¦æƒ³è±¡å‡º 4096 ç»´åœ¨ç°å®ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·çš„ç»“æ„ï¼Œæˆ‘ä»¬ç”¨æ•°å­¦ä¸­çš„çŸ©é˜µè¡¨ç¤ºä»–ä»¬ã€‚</p>
<p>ç»´åº¦ä»£è¡¨äº†æ€è€ƒçš„å¹¿åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬ä»å„ä¸ªè§’åº¦åˆ¤æ–­ä¸€ä¸ªäººï¼Œèº«é«˜ã€ä½“é‡ã€æ€§åˆ«ç­‰ç­‰ï¼Œæ¯ä¸€ä¸ªè§’åº¦éƒ½ç±»æ¯”ä¸€ä¸ªç»´åº¦ã€‚</p>
<h3 data-id="heading-2">Layers</h3>
<p>æ¯”å¦‚ 96 å±‚ï¼Œæ¯ä¸ª 4096 çš„çŸ©é˜µä»£è¡¨ä¸€å±‚ï¼Œæ¯å±‚é‡Œé¢æœ‰å¤šä¸ª 4096 çš„çŸ©é˜µï¼Œæœ‰ä¸åŒçš„å«ä¹‰ã€‚åé¢ä¼šè¯¦ç»†è§£é‡Šã€‚</p>
<p>Layers ä»£è¡¨æ€è€ƒçš„æ·±åº¦ã€‚</p>
<h3 data-id="heading-3">Vocab Size</h3>
<p>æ¯”å¦‚ 128kï¼Œè¿™ä¸ªæ˜¯è¯æ±‡è¡¨å¤§å°ï¼Œè¯æ±‡è¡¨é…ç½®äº† LLM æœ‰å¤šå°‘ä¸ª tokenã€‚</p>
<p><strong>Token</strong> æ˜¯ <strong>Tokenizer</strong> æ ¹æ®ç»Ÿè®¡è§„å¾‹åˆ‡åˆ†å‡ºæ¥çš„ï¼Œä¸å®Œå…¨ç­‰åŒäºä¸­æ–‡çš„æ¯ä¸ªå­—æˆ–è€…å› ä¸ºçš„æ¯ä¸ªå•è¯ï¼Œè¿˜åŒ…æ‹¬æ ‡ç‚¹ç¬¦å·ã€è¯ã€æˆ–çŸ­è¯­ï¼Œå–å†³äº Tokenizer æ˜¯å¦‚ä½•åˆ‡åˆ†çš„ï¼Œæ¯”å¦‚å®ƒå‘ç° â€œå¥¥åˆ©ç»™â€ ç»å¸¸å‡ºç°åœ¨ä¸€èµ·ï¼Œä¹Ÿä¼šæŠŠè¿™ä¸ªè¯æ ‡è®°ä¸ºä¸€ä¸ª tokenã€‚</p>
<p>è¿™äº› token å’Œå¯¹åº”çš„å‘é‡åæ ‡å­˜åœ¨ Vocab Map å’Œ Embedding Table ä¸­ï¼ŒMap çš„æ•°æ®æ˜¯ token å’Œ Id çš„å¯¹åº”ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// Vocab Map</span>
<span class="hljs-punctuation">{</span>
   <span class="hljs-attr">"apple"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">501</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"cat"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">882</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"Java"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">998</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"love"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Embedding Table ä¸­å­˜çš„æ˜¯ Id å’Œå‘é‡åæ ‡ï¼Œ<strong>å½¢çŠ¶</strong>æ˜¯[ VocabSize, d_modle]ï¼Œå³ [128k,4096]ã€‚</p>
<p>è¿™é‡Œè¦é‡ç‚¹è§£é‡Šä¸‹å½¢çŠ¶å’Œå‘é‡ã€‚</p>
<h3 data-id="heading-4">Shape å½¢çŠ¶å’Œ Vector å‘é‡</h3>
<p>å½¢çŠ¶çš„ [128k,4096] è¡¨ç¤º 128k è¡Œï¼Œ4096 åˆ—çš„çŸ©é˜µã€‚</p>
<p>å‘é‡çš„ [128k,4096] è¡¨ç¤ºä¸€ä¸ªç‚¹åœ¨äºŒç»´åæ ‡ç³»çš„æ–¹å‘å’Œå¤§å°ï¼Œå…ˆæ‰¾åˆ°è¿™ä¸ªç‚¹çš„åæ ‡ï¼Œå†ä»åŸç‚¹å½“èµ·ç‚¹ç”»æ¡çº¿è¿æ¥ä¸Šè¿™ä¸ªç‚¹ï¼Œå°±æ˜¯å‘é‡ã€‚è¿™ä¸ªå‘é‡çš„å½¢çŠ¶æ˜¯ [1,2]ï¼Œå› ä¸ºæ˜¯ 1 è¡Œ 2 åˆ—ã€‚</p>
<p>åç»­æˆ‘éƒ½ä¼šä¸¥æ ¼çš„åŒºåˆ†å½¢çŠ¶å’Œå‘é‡ï¼Œå¯ä»¥åœé¡¿ä¸‹ç†è§£ä¸¤è€…çš„åŒºåˆ«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbd81567e5c04312932a3a9462f1d000~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=s%2FqyWbBcBBpRPVftGIyXM7EQCPI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">é˜¶æ®µäºŒï¼šé¢„è®­ç»ƒ</h2>
<p>åœ¨é˜¶æ®µä¸€ä¸­è®¾ç½®å¥½æ‰€æœ‰å‚æ•°ï¼Œé˜¶æ®µäºŒå°±æ˜¯é€šè¿‡æµ·é‡æ•°æ®å­¦ä¹ ï¼Œé…ç½®è¿™äº›å‚æ•°ï¼ˆçŸ©é˜µï¼‰ã€‚</p>
<p>æˆ‘ä»¬è¯´çš„ LLM å¥½ä¸å¥½ç”¨ï¼Œå°±æ˜¯å–å†³äºè¿™äº› token åœ¨å‘é‡çš„åæ ‡åœ°å€ã€çŸ©é˜µçš„è½¬æ¢ç­‰ç­‰æ˜¯å¦åˆç†ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚åœ¨é˜¶æ®µ 1 å®šä¹‰äº† 2 ä¸ªå‚æ•°ï¼ˆå®é™…ä¸Š LLM è¦å¤šå¾—å¤šï¼Œå…‰ GPT3 å°±æœ‰  1760 äº¿ï¼‰ï¼Œç±»æ¯”ä»£ç ä¸­æ–°å»ºä¸€ä¸ªå¯¹è±¡ <code>new Person()</code> æœ‰èº«é«˜å’Œä½“é‡ä¸¤ä¸ªå‚æ•°ã€‚</p>
<p>ç»è¿‡é˜¶æ®µäºŒåï¼Œè¿™ä¸ªå¯¹è±¡å°±è¢«é»˜è®¤èµ‹å€¼èº«é«˜ 170ï¼Œä½“é‡ 70kgï¼ˆé»˜è®¤å‘é‡åœ°å€ï¼‰ã€‚</p>
<p>è€Œå½“ä¸Šä¸‹æ–‡å‡ºç°ç”·å­—åï¼Œè¿™ä¸ªå±æ€§å°±å˜æˆäº† 175 å’Œ 75kgï¼Œå‡ºç°å¥³å­—å°±å˜æˆ 165 å’Œ 55kgï¼ˆçŸ©é˜µè½¬æ¢ï¼‰ã€‚</p>
<h3 data-id="heading-6">å‘é‡çš„ä½ç½®</h3>
<p>è¿˜è®°å¾—é˜¶æ®µä¸€è¯´çš„ Embedding Table æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º [128k,4096] çš„çŸ©é˜µå—ï¼Ÿé€šè¿‡ Transformer è®­ç»ƒåï¼ŒLLM å†³å®šæŠŠ â€œäººâ€ è¿™ä¸ª Token æ”¾åˆ°ä¸€ä¸ªç‰¹å®šçš„åæ ‡ [1.3,0,4...]ä¸€å…± 4096 ä½ã€‚</p>
<p>æˆ‘ä»¬ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªåæ ‡ï¼Œè¿™æ˜¯ LLM é»‘ç›’çš„åœ°æ–¹ï¼Œæ—¢ä¸çŸ¥é“ Why ä½†çŸ¥é“ Howï¼ˆTransformer è®­ç»ƒï¼‰ã€‚</p>
<p>â€œäººâ€ è¿™ä¸ªå­—åœ¨ä¸­æ–‡é‡Œæœ‰å¤ªå¤šå«ä¹‰ï¼Œç”·äººã€å¥³äººã€å¥½äººã€å¥½äººç­‰ç­‰ï¼Œè¿™äº›è¯åˆæ˜¯ä¸åŒçš„å‘é‡ï¼Œå‘é‡æ­£æ˜¯è¿™äº›å‘é‡åˆå¹¶çš„å‡å€¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/045de90c66454098a94828b6459ed234~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=L5IwbqMuX1M4s%2F7BrXH0t5hRvmc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">çŸ©é˜µè½¬æ¢</h3>
<p>å¦‚æœä¸Šä¸‹æ–‡æœ‰ â€œç”·â€ è¿™ä¸ªå­—ï¼Œæ•´å¥è¯ï¼ˆå…¶å®æ˜¯æœ€åä¸€å¥è¯æœ€åä¸€ä¸ª token çš„å‘é‡ï¼Œåé¢å†è§£é‡Šï¼‰çš„å‘é‡å°±ä¼šæœç€ â€œç”·äººâ€ è¿™ä¸ª token çš„ä½ç½®åä¸€ç‚¹ã€‚</p>
<p>è½¬æ¢çš„æ–¹å¼ï¼Œå°±æ˜¯ç”¨çš„<strong>çŸ©é˜µä¹˜æ³•</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­è§£é‡Šè¿™ç§è½¬æ¢ï¼Œå‡è®¾å…¬å¸æœ‰ 5 ä¸ªåˆçº§ 3 ä¸ªä¸­çº§ 1 ä¸ªé«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼Œç”¨ä¸€ä¸ªå½¢çŠ¶ä¸º [3,1] çš„çŸ©é˜µè¡¨ç¤ºï¼ŒçŸ©é˜µå†…å®¹æ˜¯<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">v_{in} = \begin{bmatrix} 5 \\ 3 \\ 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span>ã€‚</p>
<p>å¦‚æœæƒ³çŸ¥é“ä»–ä»¬çš„æ€»è–ªèµ„æˆæœ¬å’Œæ€»ä»£ç é‡ï¼Œè¿™æ˜¯ä¸ªå½¢çŠ¶ä¸º [2,1] çš„çŸ©é˜µï¼Œå¦‚ä½•è½¬æ¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ä¸€ä¸ªå½¢çŠ¶ä¸º [2,3] çš„è§„åˆ™çŸ©é˜µï¼Œè¿™é‡Œé¢å®šä¹‰äº†ä¸åŒçº§åˆ«å·¥ç¨‹å¸ˆçš„è–ªèµ„å’Œä»£ç é‡ã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>20</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>50</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>200</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>500</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1000</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M = \begin{bmatrix} 
10 &amp; 20 &amp; 50 \\ 
200 &amp; 500 &amp; 1000 
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">10</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">200</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">20</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">500</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">50</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1000</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>M è§„åˆ™çŸ©é˜µè¡¨ç¤ºåˆçº§çš„è–ªèµ„ æ˜¯ 10 ä»£ç é‡æ˜¯ 200ï¼Œä¸­çº§æ˜¯ 20 å’Œ 500ï¼Œé«˜çº§æ˜¯ 50 å’Œ 1000ã€‚</p>
<p>ç„¶åä½¿ç”¨çŸ©é˜µä¹˜æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ae5309bfeb748919e29fcb6e14502de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=csFzeM8l0Hij2KEGiap0Xs1p4Hk%3D" alt="image.png" loading="lazy"/></p>
<p>çŸ©é˜µä¹˜æ³•å°±æ˜¯ç”¨å‰ä¸€ä¸ªçŸ©é˜µæ¨ªè¡Œæ¯ä¸€ä¸ªå€¼ï¼Œä¹˜ä»¥ç¬¬äºŒä¸ªçŸ©é˜µçºµåˆ—æ¯ä¸€ä¸ªå€¼ï¼Œå³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>Ã—</mo><mn>5</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>20</mn><mo>Ã—</mo><mn>3</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>50</mn><mo>Ã—</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>160</mn></mrow><annotation encoding="application/x-tex">(10 \times 5) + (20 \times 3) + (50 \times 1)= 160</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">50</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">160</span></span></span></span></span>ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>200</mn><mo>Ã—</mo><mn>5</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>500</mn><mo>Ã—</mo><mn>3</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1000</mn><mo>Ã—</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3500</mn></mrow><annotation encoding="application/x-tex">(200 \times 5) + (500 \times 3) + (1000 \times 1) = 3500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">200</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">500</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">3500</span></span></span></span></span>ï¼Œè¿™å°±æ˜¯<strong>ç‚¹ç§¯</strong>ã€‚</p>
<p>ç®€çŸ­è§£é‡Šä¸‹ç‚¹ç§¯ï¼Œç‚¹ç§¯æ˜¯è®¡ç®—ä¸¤ä¸ªå‘é‡ç›¸ä¼¼åº¦çš„ã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A = [a_1, a_2, a_3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">B = [b_1, b_2, b_3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>â‹…</mo><mi>B</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>3</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A \cdot B = (a_1 \times b_1) + (a_2 \times b_2) + (a_3 \times b_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>å€¼ä¸ºæ­£æ•°è¯´æ˜ç›¸ä¼¼åº¦å¾ˆå¤§ï¼Œä¸º 0 è¯´æ˜å‚ç›´ï¼ˆæ­£äº¤ï¼‰æ²¡æœ‰å…³ç³»ï¼Œä¸ºè´Ÿæ•°è¯´æ˜æ–¹å‘ç›¸åã€‚</p>
<p>å›åˆ°çŸ©é˜µä¹˜æ³•ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œè§„åˆ™çŸ©é˜µ M æ˜¯æ”¾åœ¨å‰é¢çš„ï¼Œä¸èƒ½åè¿‡æ¥ï¼ŒçŸ©é˜µä¹˜æ³•ä¸­ç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°å¿…é¡»ç­‰äºç¬¬äºŒä¸ªçŸ©é˜µçš„åˆ—æ•°ï¼Œä¸Šé¢çš„è®¡ç®—ç”¨å½¢çŠ¶è¡¨ç¤ºå°±æ˜¯ [2,3] * [3,1] = [2,1]ã€‚</p>
<p>ç°åœ¨åº”è¯¥å¯¹çŸ©é˜µä¹˜æ³•æœ‰ä¸ªå¤§è‡´è®¤çŸ¥äº†å§ï¼Œè§„åˆ™çŸ©é˜µ * åŸå§‹å€¼çŸ©é˜µ = ç»“æœçŸ©é˜µï¼Œå°±æ˜¯è¿™ä¹ˆå›äº‹ï¼Œä¸ç”¨å¤ªåœ¨æ„æ˜¯æ€ä¹ˆä¹˜åˆ°åº•æ€ä¹ˆç®—ï¼Œåªéœ€è¦è®°ä½ä»–ä»¬å¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•è½¬æ¢ã€‚</p>
<p>LLM ä¸­å¤§é‡ç”¨åˆ°çš„è¿™ç§è½¬åŒ–ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åˆšåˆšè¯´ â€œäººâ€ çš„å‘é‡ä¼šåå‘ â€œç”·äººâ€ çš„åŸå› ï¼Œä½†å®é™…ä¸Šæ›´å¤æ‚å’Œç²¾å¦™ï¼Œè®©æˆ‘ä»¬æ­£å¼è¿›å…¥ Transfer æ¶æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾]]></title>    <link>https://juejin.cn/post/7573694361474957339</link>    <guid>https://juejin.cn/post/7573694361474957339</guid>    <pubDate>2025-11-18T08:52:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474957339" data-draft-id="7573694361474220059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-18T08:52:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç±³å…°å°é“åŒ 17"/> <meta itemprop="url" content="https://juejin.cn/user/3201392514434440"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3201392514434440/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç±³å…°å°é“åŒ 17
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:52:08.000Z" title="Tue Nov 18 2025 08:52:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
a.<span class="hljs-property">name</span>=<span class="hljs-string">"abc"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­Aå°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨newåˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡a</p>
<h3 data-id="heading-1">prototype</h3>
<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span>=<span class="hljs-string">"å¼ ä¸‰"</span>
<span class="hljs-keyword">let</span> a1=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-keyword">let</span> a2=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a1.<span class="hljs-property">name</span>,a2.<span class="hljs-property">name</span>)
</code></pre>
<blockquote>
<p>prototypeæŒ‡å‘çš„æ˜¯è°ƒç”¨è¯¥å‡½æ•°åˆ›å»ºçš„å®ä¾‹çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ä¾‹å­ä¸­a1,a2çš„åŸå‹ã€‚
æ¯ä¸€ä¸ªå¯¹è±¡ï¼ˆnullé™¤å¤–ï¼‰åˆ›å»ºçš„æ—¶å€™ï¼Œéƒ½ä¼šå…³è”å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯åŸå‹ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€œç»§æ‰¿â€å±æ€§</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86dd12c7a8c340cdacfb5c749ebd69a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=RsCI3zACxDbeFicsil7OSMVCg8o%3D" alt="3bdfe951-d6de-4e73-ae8b-8db05e5d54bf.jpeg" loading="lazy"/></p>
<h3 data-id="heading-2">_<em>proto</em>_</h3>
<p>æ¯ä¸ªå¯¹è±¡ï¼ˆé™¤äº†nullï¼‰éƒ½æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">__proto__</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d3d535b7475465bbf6d6440ffd5ece8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=oQjCdEHII0%2FKSMsqKUF%2FyB%2FDy1s%3D" alt="a8d6b4f1-e328-44f6-8c7b-421bcfe8ac22.jpeg" loading="lazy"/></p>
<h3 data-id="heading-3">constructor</h3>
<p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>===A)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76f12e22807d406ca2a19477115867b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=iUnWbGFhDDs15oc32MiSw5Gc67E%3D" alt="4e507f00-af31-4942-bf0a-ffc0c89cd49c.jpeg" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>===A)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">__proto__</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">contructor</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>)
<span class="hljs-comment">// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(a) === A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
</code></pre>
<p>å½“è¯»å–å®ä¾‹å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šä»ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°å°±ä¼šæŸ¥æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span>=<span class="hljs-string">"test"</span>;
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
a.<span class="hljs-property">name</span>=<span class="hljs-string">"aaa"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);<span class="hljs-comment">//aaa</span>
<span class="hljs-keyword">delete</span> a.<span class="hljs-property">name</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);<span class="hljs-comment">//test</span>
</code></pre>
<p>åŸå‹çš„åŸå‹ï¼Œå…¶å®æ˜¯æœ‰Objectæ„é€ å‡½æ•°ç”Ÿæˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd6eb3c1fd644a7cae5a9014559c6043~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=SheS5ZlbjF5Csvl0ak%2FC8v2iAyg%3D" alt="a15399d7-b5ff-4fbc-afa3-9026ca9cddb7.jpeg" loading="lazy"/></p>
<h3 data-id="heading-4">åŸå‹é“¾</h3>
<p>çº¢è‰²éƒ¨åˆ†å°±ä»£è¡¨äº†åŸå‹é“¾çš„å½¢æˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34de0d66541d4771b21afeceb67f80ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=JcYxwRAMDypdI7nLoZg2NozLSDs%3D" alt="dd4ff7f1-95d8-4007-9c1e-551d3ea83545.jpeg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573694361474072603</link>    <guid>https://juejin.cn/post/7573694361474072603</guid>    <pubDate>2025-11-18T07:13:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474072603" data-draft-id="7573710392212553755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-18T07:13:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kfyty725"/> <meta itemprop="url" content="https://juejin.cn/user/2685462482255984"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2685462482255984/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kfyty725
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:13:13.000Z" title="Tue Nov 18 2025 07:13:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>loveqq-framework ä½œä¸ºç½‘å…³æ¡†æ¶ä½¿ç”¨æ—¶ï¼Œä¿®æ”¹å“åº”ä½“æ˜¯ä¸€ä¸ªååˆ†å¸¸è§çš„éœ€æ±‚ã€‚</p>
<p>è€Œä½œä¸ºä¸€ä¸ªä½¿ç”¨è¿‡ spring gateway çš„ä½œè€…ï¼Œæˆ‘è§‰å¾— spring gateway ä¸­ä¿®æ”¹å“åº”ä½“å®åœ¨æ˜¯å¤æ‚ï¼Œå› æ­¤ loveqq æ¡†æ¶åœ¨å®ç°ä¿®æ”¹å“åº”ä½“æ—¶ï¼Œåˆ™åŠ›æ±‚ç®€æ´æ˜“ç”¨ã€‚</p>
<h3 data-id="heading-1">å¦‚ä½•å®ç°ï¼Ÿ</h3>
<p>Â loveqq æ¡†æ¶ä¿®æ”¹å“åº”ä½“æ˜¯åŸºäºç½‘å…³è¿‡æ»¤å™¨ï¼ˆGatewayFilterï¼‰å®ç°çš„ï¼Œå› æ­¤è¦å®ç°ä¿®æ”¹å“åº”ä½“åªéœ€ä¸¤æ­¥ï¼š</p>
<p>1ã€è‡ªå®šä¹‰ç½‘å…³è¿‡æ»¤å™¨</p>
<p>2ã€ç»™æŒ‡å®šçš„è·¯ç”±é…ç½®è¿™ä¸ªè¿‡æ»¤å™¨</p>
<p>ä¸‹é¢ç»™å‡ºç›¸åº”çš„ç¤ºä¾‹ï¼š</p>
<p>ç½‘å…³è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * è¿™é‡Œæ‰‹åŠ¨è®¾ç½® bean name ä¸ºï¼šFormatResponseBody
     * åé¢é…ç½®æ—¶ä¼šç”¨åˆ°ï¼Œå½“ç„¶è‡ªåŠ¨ç”Ÿæˆçš„ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯åç§°æ¯”è¾ƒé•¿è€Œå·²
     * &lt;p&gt;
     * æ³¨æ„ï¼šè¿™é‡Œè®¾ç½®è¿‡æ»¤å™¨ä¼˜å…ˆçº§ä¸ºæœ€ä½çº§åˆ«ï¼Œå› ä¸ºéœ€è¦è½¬å‘è¯·æ±‚ä¹‹åæ‰èƒ½è·å–ä¸‹æ¸¸å“åº”ä½“ï¼Œè€Œè½¬å‘è¿‡æ»¤å™¨é»˜è®¤çš„çº§åˆ«æ¯”è¾ƒä½
     */</span>
    <span class="hljs-meta">@Order(Integer.MAX_VALUE)</span>
    <span class="hljs-meta">@Component("FormatResponseBody")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FormatResponseBodyGatewayFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">GatewayFilter</span> {

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Mono&lt;Void&gt; <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServerRequest request, ServerResponse response, GatewayFilterChain chain)</span> {
            <span class="hljs-keyword">return</span> chain.doFilter(request, response)
                    .then(Mono.defer(response::getAggregateBody))               <span class="hljs-comment">// å¯ä»¥ç›´æ¥è·å–èšåˆåçš„å“åº”ä½“ï¼Œé¿å… Flux åˆ†æ®µå¤„ç†æ•°æ®</span>
                    .map(e -&gt; {
                        <span class="hljs-type">byte</span>[] bytes = NIOUtil.read(e);
                        <span class="hljs-type">JSON</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>();
                        json.put(<span class="hljs-string">"data"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes));
                        json.put(<span class="hljs-string">"code"</span>, <span class="hljs-number">0</span>);
                        <span class="hljs-keyword">return</span> NIOUtil.from(json.toString());                   <span class="hljs-comment">// ä¿®æ”¹å“åº”ä½“</span>
                    })
                    .flatMap(json -&gt; response.writeBody(Flux.just(json)))       <span class="hljs-comment">// å“åº”ä½“å†™å…¥å“åº”</span>
                    .then();
        }
    }
</code></pre>
<p>åº”ç”¨è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">k:</span>
  <span class="hljs-attr">server:</span>
    <span class="hljs-attr">gateway:</span>
      <span class="hljs-attr">routes:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">uri:</span> <span class="hljs-string">lb://demo</span>
          <span class="hljs-attr">predicates:</span> <span class="hljs-string">Path=/api/demo/**</span>
          <span class="hljs-attr">filters:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">StripPrefix</span>               <span class="hljs-comment"># å»é™¤ /api</span>
              <span class="hljs-attr">args:</span>
                <span class="hljs-attr">stripPrefix:</span> <span class="hljs-number">1</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">FormatResponseBody</span>        <span class="hljs-comment"># ä¿®æ”¹å“åº”ä½“</span>
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥äº†ã€‚</p>
<h4 data-id="heading-2">å“åº”ä½“æ ¡éªŒä¸é€šè¿‡æƒ³æŠ›å‡ºå¼‚å¸¸ï¼Ÿ</h4>
<p>å¾ˆç®€å•ï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Mono&lt;Void&gt; <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServerRequest request, ServerResponse response, GatewayFilterChain chain)</span> {
            <span class="hljs-keyword">return</span> chain.doFilter(request, response)
                    .then(Mono.defer(response::getAggregateBody))               <span class="hljs-comment">// å¯ä»¥ç›´æ¥è·å–èšåˆåçš„å“åº”ä½“ï¼Œé¿å… Flux åˆ†æ®µå¤„ç†æ•°æ®</span>
                    .map(e -&gt; {
                        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(NIOUtil.read(e));
                        <span class="hljs-keyword">if</span> (body.charAt(<span class="hljs-number">0</span>) != <span class="hljs-string">'{'</span> || body.charAt(<span class="hljs-number">0</span>) != <span class="hljs-string">'['</span>) {
                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResolvableException</span>(<span class="hljs-string">"not json"</span>);
                        }
                        <span class="hljs-type">JSON</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>();
                        json.put(<span class="hljs-string">"data"</span>, body);
                        json.put(<span class="hljs-string">"code"</span>, <span class="hljs-number">0</span>);
                        <span class="hljs-keyword">return</span> NIOUtil.from(json.toString());                   <span class="hljs-comment">// ä¿®æ”¹å“åº”ä½“</span>
                    })
                    .flatMap(json -&gt; response.writeBody(Flux.just(json)))       <span class="hljs-comment">// å“åº”ä½“å†™å…¥å“åº”</span>
                    .then();
        }
</code></pre>
<h4 data-id="heading-3">è¿™æ ·çš„è¯ï¼Œç½‘å…³ä¼šè¾“å‡ºæ­£å¸¸çš„é”™è¯¯ä¿¡æ¯å—ï¼Ÿ</h4>
<p>å½“ç„¶å¯ä»¥ï¼Œå› ä¸ºç½‘å…³å¼‚å¸¸åŒæ ·å¯ä»¥èµ° mvc æ¨¡å¼çš„å…¨å±€å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestControllerAdvice(supportAny = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    <span class="hljs-comment">/**
     * å¼‚å¸¸å¤„ç†
     *
     * <span class="hljs-doctag">@param</span> request æŠ½è±¡çš„ç»Ÿä¸€çš„è¯·æ±‚å¯¹è±¡
     * <span class="hljs-doctag">@param</span> e       å¼‚å¸¸
     * <span class="hljs-doctag">@return</span> è¿”å›é”™è¯¯ä¿¡æ¯
     */</span>
    <span class="hljs-meta">@ExceptionHandler</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">onException</span><span class="hljs-params">(ServerRequest request, Exception e)</span> {
        <span class="hljs-keyword">return</span> e.getClass().getName() + <span class="hljs-string">":"</span> + e.getMessage();
    }
}
</code></pre>
<p>çœ‹èµ·æ¥ç›¸å½“ç®€æ´ï¼Œå‡ ä¹å’Œä¿®æ”¹è¯·æ±‚ä½“æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯ spring gateway ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“æƒ³å¿…åšè¿‡çš„å„ä½æ‡‚çš„éƒ½æ‡‚ã€‚</p>
<p>æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å°è¯•ä¸€ä¸‹ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®]]></title>    <link>https://juejin.cn/post/7573699930259570714</link>    <guid>https://juejin.cn/post/7573699930259570714</guid>    <pubDate>2025-11-18T07:16:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573699930259570714" data-draft-id="7573687816430698506" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®"/> <meta itemprop="keywords" content="cesium,GIS"/> <meta itemprop="datePublished" content="2025-11-18T07:16:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GisCoder"/> <meta itemprop="url" content="https://juejin.cn/user/3968552295476428"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3968552295476428/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GisCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:16:08.000Z" title="Tue Nov 18 2025 07:16:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬å­¦ä¹ ç³»åˆ—å°†ä»¥Cesium + Vue3 + Vite +Typescript+elementplusä½œä¸ºä¸»è¦æŠ€æœ¯æ ˆå±•å¼€ï¼Œåç»­ä¼šå¾ªåºæ¸è¿›ï¼ŒæŒç»­æ¢ç´¢Cesiumçš„é«˜çº§åŠŸèƒ½ï¼Œç›¸å…³æºç å…¨éƒ¨<strong>å…è´¹å…¬å¼€</strong>ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹åŸæ–‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fh0bzCJwupHpDjwXXscH5hA" target="_blank" title="https://mp.weixin.qq.com/s/h0bzCJwupHpDjwXXscH5hA" ref="nofollow noopener noreferrer">Cesium+Vue3å­¦ä¹ ç³»åˆ—ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®</a></p>
<p>1ã€geojsonæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
//geojsonæµ‹è¯•æ•°æ®
<span class="hljs-built_in">export</span> const geojsonTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.GEOMSON_TEST,
    name: <span class="hljs-string">"geojsonTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"geojson"</span>,
    url: <span class="hljs-string">"/testdata/line.geojson"</span>,
    layer: <span class="hljs-string">"geojsonTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">case</span> <span class="hljs-string">'geojson'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.GeoJsonDataSource.load(item.url!, {
                    clampToGround: <span class="hljs-keyword">true</span>,
                });
                (handle <span class="hljs-keyword">as</span> Cesium.GeoJsonDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>;
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                <span class="hljs-comment">//è§†è§’</span>
                <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c1e6ab9e2042bb932ac58944b49eac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=iyL2wDXR8Np%2BNcjM2M9KblQODKw%3D" alt="" loading="lazy"/></p>
<p>2ã€kmlæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
//kmlæµ‹è¯•æ•°æ®
<span class="hljs-built_in">export</span> const kmlTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.KML_TEST,
    name: <span class="hljs-string">"kmlTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"kml"</span>,
    url: <span class="hljs-string">"/testdata/gdpPerCapita2008.kmz"</span>,
    layer: <span class="hljs-string">"kmlTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
            <span class="hljs-keyword">case</span> <span class="hljs-string">'kml'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.KmlDataSource.load(item.url!, {
                    clampToGround: <span class="hljs-keyword">true</span>,
                });
                (handle <span class="hljs-keyword">as</span> Cesium.KmlDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p>3ã€glbæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-string">//glbæµ‹è¯•æ•°æ®</span>
<span class="hljs-string">export</span> <span class="hljs-string">const</span> <span class="hljs-string">glbTestInfo:ILayerItem</span> <span class="hljs-string">=</span> {
    <span class="hljs-attr">id:</span> <span class="hljs-string">LayerIdFlag.GLB_TEST</span>,
    <span class="hljs-attr">name:</span> <span class="hljs-string">"glbTest"</span>,
    <span class="hljs-attr">type:</span> <span class="hljs-string">"glb"</span>,
    <span class="hljs-attr">url:</span> <span class="hljs-string">"/testdata/CesiumMilkTruck.glb"</span>,
    <span class="hljs-attr">layer:</span> <span class="hljs-string">"glbTest"</span>,
    <span class="hljs-attr">scale:</span> <span class="hljs-number">5</span>,
    <span class="hljs-attr">lon:</span> <span class="hljs-number">114.314521</span>,
    <span class="hljs-attr">lat:</span> <span class="hljs-number">22.543062</span>,
    <span class="hljs-attr">height:</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">heading:45</span>,
    <span class="hljs-attr">pitch:</span> <span class="hljs-number">0</span>,
    <span class="hljs-attr">roll:</span> <span class="hljs-number">0</span>   
}
</code></pre>
<pre><code class="hljs language-ini" lang="ini">
            case 'glb':
                let <span class="hljs-attr">position</span> = Cesium.Cartesian3.fromDegrees(item.lon, item.lat, item.height || <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
                // è®¾ç½®æ¨¡å‹æ–¹å‘
                let <span class="hljs-attr">hpRoll</span> = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(item.heading || <span class="hljs-number">45</span>), Cesium.Math.toRadians(item.pitch || <span class="hljs-number">0</span>), Cesium.Math.toRadians(item.roll || <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
                // ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»ä»¥æä¾›çš„åŸç‚¹ä¸ºä¸­å¿ƒçš„å‚è€ƒå¸§åˆ°æä¾›çš„æ¤­åœ†ä½“çš„å›ºå®šå‚è€ƒå¸§è®¡ç®—4x4å˜æ¢çŸ©é˜µã€‚
                let <span class="hljs-attr">fixedFrame</span> = Cesium.Transforms.localFrameToFixedFrameGenerator(<span class="hljs-string">'north'</span>, <span class="hljs-string">'west'</span>)<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle</span> = await Cesium.Model.fromGltfAsync({
                    url: item.url!,
                    modelMatrix: Cesium.Transforms.headingPitchRollToFixedFrame(position, hpRoll, Cesium.Ellipsoid.WGS84, fixedFrame),
                    scale: item.scale || 1,
                })<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle.show</span> = show<span class="hljs-comment">;</span>
                this.viewer.scene.primitives.add(handle)
                this.viewer.camera.flyTo({
                    destination: Cesium.Cartesian3.fromDegrees(item.lon, item.lat, 100),
                    duration: 2
                })
                break<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842198e367ec427cbbc4956a8d0e313f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=DbB%2FAkeffqnQYOzKGBeWF3QmP0A%3D" alt="" loading="lazy"/></p>
<p>4ã€3dtilesé…ç½®ä¸åŠ è½½æ–¹å¼ã€‚ç”±äºæœ¬ç¤ºä¾‹ä¸­çš„3dtiles æ•°æ®é«˜åº¦è¾ƒä½ï¼Œè¿™é‡Œéœ€è¦å°†å…¶é«˜åº¦æå‡äº†500ç±³ã€‚åç»­ä¼šå‡ºä¸€ä¸ªåŠ¨æ€è°ƒæ•´3dtilesä½ç½®çš„ç« èŠ‚ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">
<span class="hljs-comment">//3dtileæµ‹è¯•æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> model3dtilesTestInfo:ILayerItem = {
    id: LayerIdFlag.MODEL_3DTILES_TEST,
    name: <span class="hljs-string">"model3dtilesTest"</span>,
    type: <span class="hljs-string">"3dtiles"</span>,
    url: <span class="hljs-string">"/testdata/dayanta/tileset.json"</span>,
    layer: <span class="hljs-string">"model3dtilesTest"</span>
}
</code></pre>
<pre><code class="hljs language-ini" lang="ini">
 case '3dtiles':
                <span class="hljs-attr">handle</span> = await Cesium.Cesium3DTileset.fromUrl(item.url!)<span class="hljs-comment">;                </span>
                (handle as Cesium.Cesium3DTileset).<span class="hljs-attr">show</span> = show<span class="hljs-comment">;</span>
                this.viewer.scene.primitives.add(handle)
                this.viewer.zoomTo(handle, new Cesium.HeadingPitchRange(0.0, -0.3, 0.0))
               
                let <span class="hljs-attr">cartographic</span> = Cesium.Cartographic.fromCartesian(
                    handle.boundingSphere.center
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">surface</span> = Cesium.Cartesian3.fromRadians(
                    cartographic.longitude,
                    cartographic.latitude,
                    0.0
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">offset</span> = Cesium.Cartesian3.fromRadians(
                    cartographic.longitude,
                    cartographic.latitude,
                    500.0
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">translation</span> = Cesium.Cartesian3.subtract(
                    offset,
                    surface,
                    new Cesium.Cartesian3()
                )<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle.modelMatrix</span> = Cesium.Matrix4.fromTranslation(translation)<span class="hljs-comment">;</span>
                break
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9282b311254e33aea1f56e13e8d592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=a7nUbeJf1bUltbdqcfk7HvbVjq4%3D" alt="" loading="lazy"/></p>
<p>5ã€czmlæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-built_in">export</span> const czmlTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.CZML_TEST,
    name: <span class="hljs-string">"czmlTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"czml"</span>,
    url: <span class="hljs-string">"/testdata/simple.czml"</span>,
    layer: <span class="hljs-string">"czmlTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
          <span class="hljs-keyword">case</span> <span class="hljs-string">'czml'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.CzmlDataSource.load(item.url!);
                (handle <span class="hljs-keyword">as</span> Cesium.CzmlDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                 <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5440b5268bf849a893f470ffb8fd515e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=mkVZ2eiWJn1l%2BWtLW8XoErSP9XE%3D" alt="" loading="lazy"/></p>
<p>6ã€æ•°æ®åˆ é™¤ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">    Remove(id: <span class="hljs-built_in">string</span>): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">const</span> item = <span class="hljs-keyword">this</span>.layersIdMap.<span class="hljs-keyword">get</span>(id)
        <span class="hljs-keyword">if</span> (!item) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">const</span> { type, handle } = item;
        <span class="hljs-keyword">switch</span> (type) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_wms'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_wmts'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_xyz'</span>:
                <span class="hljs-keyword">this</span>.viewer.imageryLayers.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'terrain'</span>:
                <span class="hljs-comment">// å›åˆ°é»˜è®¤æ¤­çƒ</span>
                <span class="hljs-keyword">this</span>.viewer.terrainProvider = <span class="hljs-keyword">new</span> Cesium.EllipsoidTerrainProvider()
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'geojson'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'kml'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'czml'</span>:
                <span class="hljs-keyword">this</span>.viewer.dataSources.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'3dtiles'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'glb'</span>:
                <span class="hljs-keyword">this</span>.viewer.scene.primitives.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">this</span>.layersIdMap.delete(id);
    }
</code></pre>
<p>7ã€å‰ç«¯å®ç°ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-data-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-data-title"</span>&gt;</span> è‡ªå®šä¹‰æ•°æ® <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"text-align: left;"</span>&gt;</span>
           
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"data-items"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å›¾å±‚ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"geojsonChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"geojson"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeGeojson"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"kmlChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"KML"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeKml"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"glbChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"glb"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeGlb"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model3dtilesChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"3dtiles"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeModel3dtiles"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"czmlChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"czml"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeCzml"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { czmlTestInfo, geojsonTestInfo, glbTestInfo, kmlTestInfo, <span class="hljs-title class_">LayerIdFlag</span>, model3dtilesTestInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/system/LayerManager/LayerConfig'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LayerManager</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/system/LayerManager/LayerManager'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CesiumViewer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/Viewer/CesiumViewer'</span>
<span class="hljs-keyword">const</span> viewer = <span class="hljs-title class_">CesiumViewer</span>.<span class="hljs-property">viewer</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">mLayerManager</span>: <span class="hljs-title class_">LayerManager</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>
<span class="hljs-keyword">const</span> geojsonChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> kmlChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> glbChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> model3dtilesChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> czmlChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
    mLayerManager = <span class="hljs-title class_">LayerManager</span>.<span class="hljs-title function_">getInstance</span>(viewer!)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeGeojson</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½geojsonå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(geojsonTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤geojsonå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">GEOMSON_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeKml</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½kmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(kmlTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤kmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">KML_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeGlb</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½glbå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(glbTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤glbå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">GLB_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeModel3dtiles</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½3dtileså›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(model3dtilesTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤3dtileså›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">MODEL_3DTILES_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeCzml</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½czmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(czmlTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤czmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">CZML_TEST</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.custom-data-container</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-selector-class">.custom-data-title</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
        <span class="hljs-attribute">font-weight</span>: bold;
        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
    }
    
    <span class="hljs-selector-class">.data-items</span> {
        <span class="hljs-selector-class">.el-checkbox</span> {
            <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;
        }
        :<span class="hljs-built_in">deep</span>(.el-checkbox__label) {
            <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">206</span>, <span class="hljs-number">194</span>, <span class="hljs-number">194</span>);
        }
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>æ›´å¤šä»£ç è¯·æŸ¥çœ‹åŸæ–‡</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fh0bzCJwupHpDjwXXscH5hA" target="_blank" title="https://mp.weixin.qq.com/s/h0bzCJwupHpDjwXXscH5hA" ref="nofollow noopener noreferrer">Cesium+Vue3å­¦ä¹ ç³»åˆ—ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX]]></title>    <link>https://juejin.cn/post/7573617944518606848</link>    <guid>https://juejin.cn/post/7573617944518606848</guid>    <pubDate>2025-11-18T06:50:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573617944518606848" data-draft-id="7573670400153059380" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX"/> <meta itemprop="keywords" content="Android,Android Jetpack,Kotlin"/> <meta itemprop="datePublished" content="2025-11-18T06:50:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— çŸ¥çš„å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2410561882569933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2410561882569933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— çŸ¥çš„å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:50:32.000Z" title="Tue Nov 18 2025 06:50:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µï¼šä¸€å¥è¯æ¦‚æ‹¬</h3>
<ul>
<li><strong>Jetpack</strong>ï¼šÂ <strong>ä¸€å¥—ç»„ä»¶ã€å·¥å…·å’ŒæŒ‡å—çš„é›†åˆ</strong>ã€‚å®ƒçš„ç›®çš„æ˜¯å¸®åŠ©å¼€å‘è€…éµå¾ªæœ€ä½³å®è·µï¼Œå‡å°‘æ ·æ¿ä»£ç ï¼Œå¹¶è®©åº”ç”¨åœ¨å„ç§ Android ç‰ˆæœ¬å’Œè®¾å¤‡ä¸Šéƒ½èƒ½ä¸€è‡´åœ°å·¥ä½œã€‚</li>
<li><strong>AndroidX</strong>ï¼šÂ <strong>Jetpack ç»„ä»¶çš„</strong>Â  <strong>â€œåŒ…è£…â€å’Œâ€œå‘½åç©ºé—´â€</strong> ã€‚å®ƒæ˜¯ Android æ”¯æŒåº“çš„é‡æ–°è®¾è®¡å’Œæ›¿ä»£å“ï¼Œæ‰€æœ‰ Jetpack ç»„ä»¶éƒ½å­˜æ”¾åœ¨Â <code>androidx</code>Â è¿™ä¸ªå‘½åç©ºé—´ä¸‹ã€‚</li>
</ul>
<p>å¯ä»¥æŠŠå®ƒä»¬çš„å…³ç³»ç†è§£ä¸ºï¼š<br/>
<strong>Jetpack æ˜¯ä¸€ä¸ªâ€œå“ç‰Œâ€æˆ–â€œç”Ÿæ€â€ï¼Œè€Œ AndroidX æ˜¯è¿™ä¸ªå“ç‰Œä¸‹æ‰€æœ‰äº§å“çš„â€œåŒ…è£…è§„æ ¼â€å’Œâ€œå‡ºå‚æ ‡å‡†â€ã€‚</strong></p>
<hr/>
<h3 data-id="heading-1">2. è¯¦ç»†ä»‹ç»</h3>
<h4 data-id="heading-2">AndroidX</h4>
<p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
AndroidX æ˜¯å¯¹åŸå§‹ Android æ”¯æŒåº“ï¼ˆAndroid Support Libraryï¼‰çš„é‡å¤§æ”¹è¿›å’Œæ›¿ä»£ã€‚åœ¨ AndroidX å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…ä½¿ç”¨åƒÂ <code>com.android.support:appcompat-v7</code>Â è¿™æ ·çš„æ”¯æŒåº“ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></p>
<ol>
<li><strong>ç»Ÿä¸€çš„å‘½åç©ºé—´</strong>ï¼š æ—§çš„æ”¯æŒåº“åŒ…åæ··ä¹±ï¼ˆ<code>com.android.support.*</code>ï¼‰ï¼Œä¸ Android æ“ä½œç³»ç»Ÿæœ¬èº«çš„åŒ…åï¼ˆ<code>android.*</code>ï¼‰å®¹æ˜“æ··æ·†ã€‚AndroidX å°†æ‰€æœ‰åº“éƒ½è¿ç§»åˆ°æ¸…æ™°çš„Â <code>androidx.*</code>Â å‘½åç©ºé—´ä¸‹ã€‚</li>
<li><strong>ç‹¬ç«‹çš„ç‰ˆæœ¬æ§åˆ¶</strong>ï¼š AndroidX ä¸‹çš„æ¯ä¸ªåº“ï¼ˆå¦‚Â <code>androidx.appcompat</code>ï¼ŒÂ <code>androidx.lifecycle</code>ï¼‰éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç‰ˆæœ¬å·ï¼Œä¸å†ä¸ Android å¹³å°ç‰ˆæœ¬ç»‘å®šã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥å•ç‹¬æ›´æ–°æŸä¸ªåº“ï¼Œè€Œä¸å¿…ç­‰å¾…æ•´ä¸ªç³»ç»Ÿæ›´æ–°ã€‚</li>
<li><strong>æ›´å¥½çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬</strong>ï¼š éµå¾ªä¸¥æ ¼çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œè®©å¼€å‘è€…æ›´æ¸…æ¥šåœ°äº†è§£ç‰ˆæœ¬å‡çº§å¸¦æ¥çš„å˜åŒ–ã€‚</li>
<li><strong>æ›´å¥½çš„æ‰“åŒ…å’Œæ¨¡å—åŒ–</strong>ï¼š åº“è¢«æ‹†åˆ†å¾—æ›´ç»†ï¼Œä½ å¯ä»¥åªå¼•å…¥ä½ éœ€è¦çš„éƒ¨åˆ†ï¼Œå‡å°‘åº”ç”¨ä½“ç§¯ã€‚</li>
</ol>
<p><strong>æ€»ç»“ï¼šAndroidX æ˜¯ä¸€ä¸ªåŸºç¡€è®¾æ–½å±‚é¢çš„æ”¹è¿›ï¼Œä¸º Jetpack ç»„ä»¶æä¾›äº†ç»Ÿä¸€çš„â€œå®¶â€ã€‚</strong></p>
<h4 data-id="heading-3">Jetpack</h4>
<p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
Jetpack æ˜¯ä¸€ä¸ªç”± Google ç²¾å¿ƒç­–åˆ’çš„ç»„ä»¶é›†åˆï¼Œæ—¨åœ¨åŠ é€Ÿ Android åº”ç”¨å¼€å‘ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„åº“ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œå…¨å®¶æ¡¶â€ï¼Œæ¶µç›–äº†åº”ç”¨å¼€å‘çš„å„ä¸ªæ–¹é¢ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></p>
<ol>
<li><strong>éµå¾ªæœ€ä½³å®è·µ</strong>ï¼š Jetpack ç»„ä»¶å†…ç½®äº† Google æ¨èçš„æœ€ä½³æ¶æ„å’Œå®è·µï¼ˆå¦‚ MVVMï¼‰ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºå¥å£®ã€å¯æµ‹è¯•å’Œå¯ç»´æŠ¤çš„åº”ç”¨ã€‚</li>
<li><strong>æ¶ˆé™¤æ ·æ¿ä»£ç </strong>ï¼š ä¾‹å¦‚ï¼Œ<code>ViewModel</code>Â å’ŒÂ <code>LiveData</code>Â å¯ä»¥å¸®ä½ ä»¥ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥çš„æ–¹å¼ç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ç”Ÿå‘½å‘¨æœŸå¸¦æ¥çš„å„ç§é—®é¢˜ã€‚</li>
<li><strong>ä¿è¯å‘åå…¼å®¹</strong>ï¼š Jetpack ç»„ä»¶é€šå¸¸ä¼šåœ¨æ—§ç‰ˆ Android ç³»ç»Ÿä¸Šæä¾›æ–°åŠŸèƒ½çš„å®ç°ï¼Œè®©ä½ èƒ½è½»æ¾ä½¿ç”¨æ–° APIï¼Œè€Œæ— éœ€æ‹…å¿ƒç³»ç»Ÿç‰ˆæœ¬ç¢ç‰‡åŒ–ã€‚</li>
<li><strong>ç®€åŒ–å¤æ‚ä»»åŠ¡</strong>ï¼š ä¾‹å¦‚ï¼Œä½¿ç”¨Â <code>Room</code>Â åº“æ“ä½œ SQLite æ•°æ®åº“ï¼Œä½¿ç”¨Â <code>WorkManager</code>Â ç®¡ç†åå°ä»»åŠ¡ï¼Œéƒ½æ¯”ä½¿ç”¨åŸç”Ÿ API ç®€å•å¾—å¤šã€‚</li>
</ol>
<p><strong>Jetpack çš„ç»„æˆéƒ¨åˆ†ï¼š</strong><br/>
Jetpack è¢«åˆ†ä¸ºå››ä¸ªå¤§ç±»ï¼š</p>
<ol>
<li>
<p><strong>æ¶æ„ç»„ä»¶ï¼ˆArchitectureï¼‰</strong> ï¼š æ„å»ºç¨³å¥ã€å¯æµ‹è¯•ã€å¯ç»´æŠ¤åº”ç”¨çš„æ ¸å¿ƒã€‚</p>
<ul>
<li><code>Data Binding</code>ï¼š ä»¥å£°æ˜æ–¹å¼å°†å¸ƒå±€ç•Œé¢ç»„ä»¶ç»‘å®šåˆ°åº”ç”¨ä¸­çš„æ•°æ®æºã€‚</li>
<li><code>Lifecycle</code>ï¼š ç®¡ç† Activity å’Œ Fragment çš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><code>LiveData</code>ï¼š åœ¨åº•å±‚æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥è§†å›¾çš„å¯è§‚å¯Ÿæ•°æ®æŒæœ‰è€…ã€‚</li>
<li><code>ViewModel</code>ï¼š ä»¥æ³¨é‡ç”Ÿå‘½å‘¨æœŸçš„æ–¹å¼å­˜å‚¨å’Œç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ã€‚</li>
<li><code>Room</code>ï¼š SQLite æ•°æ®åº“çš„æŠ½è±¡å±‚ï¼Œæä¾›ç¼–è¯‘æ—¶æ ¡éªŒå’Œä¾¿åˆ©çš„ APIã€‚</li>
<li><code>Navigation</code>ï¼š å¤„ç†åº”ç”¨å†…å¯¼èˆªã€‚</li>
<li><code>Paging</code>ï¼š é€æ­¥ä»æ•°æ®æºåŠ è½½ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç•Œé¢ç»„ä»¶ï¼ˆUIï¼‰</strong> ï¼š æä¾›å„ç§ç•Œé¢æ§ä»¶å’Œè¾…åŠ©å·¥å…·ã€‚</p>
<ul>
<li><code>Fragment</code>ï¼š æ¨¡å—åŒ–çš„ç•Œé¢ç»„ä»¶ã€‚</li>
<li><code>Layout</code>ï¼š ç”¨äºæ’åˆ—è§†å›¾çš„ XML å¸ƒå±€ã€‚</li>
<li><code>AppCompat</code>ï¼š è®©åº”ç”¨åœ¨æ–°ç‰ˆ Android ä¸Šä¹Ÿèƒ½æ‹¥æœ‰ Material Design å¤–è§‚ã€‚</li>
<li><code>Emoji</code>ï¼š ç¡®ä¿è®¾å¤‡åœ¨ç³»ç»Ÿæœªæ›´æ–°æ—¶ä¹Ÿèƒ½æ˜¾ç¤ºæœ€æ–°çš„ emojiã€‚</li>
<li><code>Transition</code>ï¼š å¤„ç†ç•Œé¢ä¹‹é—´çš„åŠ¨ç”»è¿‡æ¸¡ã€‚</li>
<li><code>Palette</code>ï¼š ä»å›¾ç‰‡ä¸­æå–æœ‰æ„ä¹‰çš„é¢œè‰²ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¡Œä¸ºç»„ä»¶ï¼ˆBehaviorï¼‰</strong> ï¼š ä¸æ ‡å‡† Android æœåŠ¡é›†æˆã€‚</p>
<ul>
<li><code>Download Manager</code>ï¼š å¤„ç†é•¿æ—¶é—´è¿è¡Œçš„ HTTP æ–‡ä»¶ä¸‹è½½ã€‚</li>
<li><code>Media &amp; Playback</code>ï¼š ç”¨äºåª’ä½“æ’­æ”¾å’Œè·¯ç”±ï¼ˆå‘åå…¼å®¹ï¼‰ã€‚</li>
<li><code>Notifications</code>ï¼š æä¾›å‘åå…¼å®¹çš„é€šçŸ¥ APIã€‚</li>
<li><code>Permissions</code>ï¼š ç”¨äºæ£€æŸ¥å’Œè¯·æ±‚åº”ç”¨æƒé™ã€‚</li>
<li><code>Sharing</code>ï¼š æä¾›å…±äº«æ“ä½œï¼ˆå¦‚Â <code>ShareActionProvider</code>ï¼‰ã€‚</li>
<li><code>Slices</code>ï¼š åœ¨ Google æœç´¢ç­‰åœ°æ–¹å±•ç¤ºåº”ç”¨çš„äº¤äº’å¼å†…å®¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŸºç¡€ç»„ä»¶ï¼ˆFoundationï¼‰</strong> ï¼š æä¾›æ¨ªå‘åŠŸèƒ½ï¼Œå¦‚å‘åå…¼å®¹ã€æµ‹è¯•å’Œ Kotlin è¯­è¨€æ”¯æŒã€‚</p>
<ul>
<li><code>AppCompat</code>ï¼š ä¸ºæ—§ç‰ˆ Android æä¾› Material Design çš„å®ç°ã€‚</li>
<li><code>Android KTX</code>ï¼š æä¾›äº†ä¸€ç³»åˆ— Kotlin æ‰©å±•å‡½æ•°ï¼Œè®©ä»£ç æ›´ç®€æ´ã€æ›´åœ°é“ã€‚</li>
<li><code>Multidex</code>ï¼š ä¸ºæ–¹æ³•æ•°è¶…è¿‡ 64K çš„åº”ç”¨æä¾›æ”¯æŒã€‚</li>
<li><code>Test</code>ï¼š ç”¨äºè¿›è¡Œå•å…ƒæµ‹è¯•å’Œä»ªå™¨æµ‹è¯•çš„æ¡†æ¶ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">3. åŒºåˆ«ä¸è”ç³»</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Jetpack</th><th>AndroidX</th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td><strong>ä¸€å¥—ç»„ä»¶ã€å·¥å…·å’ŒæŒ‡å—çš„é›†åˆ</strong>ï¼ˆä¸€ä¸ªâ€œç”Ÿæ€â€æˆ–â€œå“ç‰Œâ€ï¼‰ã€‚</td><td><strong>Jetpack ç»„ä»¶çš„å®˜æ–¹å‘½åç©ºé—´å’ŒåŒ…ç»“æ„</strong>ï¼ˆä¸€ä¸ªâ€œåŒ…è£…æ ‡å‡†â€ï¼‰ã€‚</td></tr><tr><td><strong>èŒƒå›´</strong></td><td>å¹¿æ³›ï¼ŒåŒ…å«æ¶æ„ã€UIã€è¡Œä¸ºã€åŸºç¡€ç­‰è¶…è¿‡ 100 ä¸ªåº“ã€‚</td><td>å…·ä½“ï¼Œæ˜¯æ‰€æœ‰ Jetpack åº“çš„åŒ…åå‰ç¼€ã€‚</td></tr><tr><td><strong>å…³ç³»</strong></td><td><strong>å†…å®¹</strong>ã€‚Jetpack å®šä¹‰äº†â€œæœ‰ä»€ä¹ˆåº“â€å’Œâ€œè¿™äº›åº“èƒ½åšä»€ä¹ˆâ€ã€‚</td><td><strong>å½¢å¼</strong>ã€‚AndroidX å®šä¹‰äº†â€œè¿™äº›åº“å«ä»€ä¹ˆâ€å’Œâ€œå¦‚ä½•è¢«å¼•å…¥é¡¹ç›®â€ã€‚</td></tr><tr><td><strong>ç±»æ¯”</strong></td><td>å¦‚åŒÂ  <strong>â€œå®œå®¶å®¶å±…â€</strong> Â è¿™ä¸ªå“ç‰Œï¼Œå®ƒæä¾›å§å®¤ã€å¨æˆ¿ã€å®¢å…ç­‰å„ç§ç³»åˆ—çš„å®¶å…·ã€‚</td><td>å¦‚åŒå®œå®¶æ‰€æœ‰äº§å“éƒ½éµå¾ªçš„Â  <strong>â€œå¹³æ¿åŒ…è£…â€å’Œâ€œAllen Key ç»„è£…â€</strong> Â æ ‡å‡†ã€‚</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒè”ç³»ï¼š</strong><br/>
<strong>æ‰€æœ‰ Jetpack ç»„ä»¶éƒ½ä½¿ç”¨ AndroidX å‘½åç©ºé—´ã€‚</strong> Â å½“ä½ ä½¿ç”¨ Jetpack æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨ä½¿ç”¨Â <code>androidx.*</code>Â åŒ…ä¸‹çš„åº“ã€‚</p>
<hr/>
<h3 data-id="heading-5">4. ç”¨æ³•ç¤ºä¾‹</h3>
<h4 data-id="heading-6">1. åœ¨é¡¹ç›®ä¸­é…ç½®</h4>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„é¡¹ç›®çš„Â <code>build.gradle</code>Â æ–‡ä»¶ä¸­ï¼Œç¡®ä¿å·²ç»é…ç½®äº† AndroidXï¼š</p>
<p>gradle</p>
<pre><code class="hljs language-ini" lang="ini">// åœ¨ gradle.properties æ–‡ä»¶ä¸­ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ ï¼‰
<span class="hljs-attr">android.useAndroidX</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">android.enableJetifier</span>=<span class="hljs-literal">true</span> // è¿™ä¸ªæ ‡å¿—è¡¨ç¤ºè‡ªåŠ¨è¿ç§»æ—§çš„ä¾èµ–åˆ° AndroidX
</code></pre>
<h4 data-id="heading-7">2. æ·»åŠ ä¾èµ–</h4>
<p>ç„¶åï¼Œåœ¨ä½ çš„ App æ¨¡å—çš„Â <code>build.gradle</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä½ éœ€è¦çš„ Jetpack ç»„ä»¶ï¼ˆå³ AndroidX åº“ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ ViewModel å’Œ LiveDataï¼ˆæ¶æ„ç»„ä»¶ï¼‰</strong></p>
<p>gradle</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    def lifecycle_version = <span class="hljs-string">"2.6.2"</span>

    <span class="hljs-comment">// ViewModel</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-viewmodel-ktx:<span class="hljs-variable">$lifecycle_version</span>"</span>
    <span class="hljs-comment">// LiveData</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-livedata-ktx:<span class="hljs-variable">$lifecycle_version</span>"</span>
    <span class="hljs-comment">// å¯é€‰ - ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ç»„ä»¶ï¼Œå¦‚é»˜è®¤çš„ LifecycleObserver</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-common-java8:<span class="hljs-variable">$lifecycle_version</span>"</span>
}
</code></pre>
<p><strong>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</strong></p>
<p>kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-comment">// é€šè¿‡ ViewModelProvider è·å– ViewModel å®ä¾‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> viewModel: MainViewModel <span class="hljs-keyword">by</span> viewModels()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// è§‚å¯Ÿ LiveDataï¼Œå½“æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–° UI</span>
        viewModel.myData.observe(<span class="hljs-keyword">this</span>) { <span class="hljs-keyword">data</span> -&gt;
            <span class="hljs-comment">// æ›´æ–° TextView æˆ–å…¶ä»– UI ç»„ä»¶</span>
            textView.text = <span class="hljs-keyword">data</span>
        }
    }
}

<span class="hljs-comment">// MainViewModel.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-comment">// ä½¿ç”¨ MutableLiveData æ¥æŒæœ‰å¯ä»¥è¢«æ”¹å˜çš„æ•°æ®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _myData = MutableLiveData&lt;String&gt;()
    <span class="hljs-comment">// å¯¹å¤–æš´éœ²ä¸å¯å˜çš„ LiveDataï¼Œé˜²æ­¢å¤–éƒ¨ä¿®æ”¹</span>
    <span class="hljs-keyword">val</span> myData: LiveData&lt;String&gt; = _myData

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateData</span><span class="hljs-params">(newData: <span class="hljs-type">String</span>)</span></span> {
        _myData.value = newData
    }
}
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼šä½¿ç”¨ Roomï¼ˆæ¶æ„ç»„ä»¶ï¼‰</strong></p>
<p>gradle</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    def room_version = <span class="hljs-string">"2.5.2"</span>

    implementation <span class="hljs-string">"androidx.room:room-runtime:<span class="hljs-variable">$room_version</span>"</span>
    kapt <span class="hljs-string">"androidx.room:room-compiler:<span class="hljs-variable">$room_version</span>"</span> <span class="hljs-comment">// å¯¹äº Kotlinï¼Œä½¿ç”¨ kaptã€‚Java ç”¨ annotationProcessor</span>
    <span class="hljs-comment">// å¯é€‰ - Kotlin æ‰©å±•å’Œåç¨‹æ”¯æŒ</span>
    implementation <span class="hljs-string">"androidx.room:room-ktx:<span class="hljs-variable">$room_version</span>"</span>
}
</code></pre>
<p><strong>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</strong></p>
<p>kotlin</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// 1. å®šä¹‰æ•°æ®å®ä½“ï¼ˆEntityï¼‰</span>
<span class="hljs-variable">@Entity</span>
data class <span class="hljs-built_in">User</span>(
    <span class="hljs-variable">@PrimaryKey</span> val <span class="hljs-attribute">uid</span>: Int,
    <span class="hljs-variable">@ColumnInfo</span>(name = <span class="hljs-string">"first_name"</span>) val <span class="hljs-attribute">firstName</span>: String?,
    <span class="hljs-variable">@ColumnInfo</span>(name = <span class="hljs-string">"last_name"</span>) val <span class="hljs-attribute">lastName</span>: String?
)

<span class="hljs-comment">// 2. å®šä¹‰æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰</span>
<span class="hljs-variable">@Dao</span>
interface UserDao {
    <span class="hljs-variable">@Query</span>(<span class="hljs-string">"SELECT * FROM user"</span>)
    fun <span class="hljs-built_in">getAll</span>(): List&lt;User&gt;

    <span class="hljs-variable">@Insert</span>
    fun <span class="hljs-built_in">insertAll</span>(vararg <span class="hljs-attribute">users</span>: User)
}

<span class="hljs-comment">// 3. å®šä¹‰æ•°æ®åº“ï¼ˆDatabaseï¼‰</span>
<span class="hljs-variable">@Database</span>(entities = [<span class="hljs-attribute">User</span>::class], version = <span class="hljs-number">1</span>)
abstract class <span class="hljs-attribute">AppDatabase </span>: <span class="hljs-built_in">RoomDatabase</span>() {
    <span class="hljs-selector-tag">abstract</span> <span class="hljs-selector-tag">fun</span> <span class="hljs-selector-tag">userDao</span>(): <span class="hljs-selector-tag">UserDao</span>
}

<span class="hljs-comment">// åœ¨ Activity æˆ– Application ä¸­åˆ›å»ºæ•°æ®åº“å®ä¾‹</span>
<span class="hljs-selector-tag">val</span> <span class="hljs-selector-tag">db</span> = <span class="hljs-selector-tag">Room</span><span class="hljs-selector-class">.databaseBuilder</span>(
    applicationContext,
    <span class="hljs-attribute">AppDatabase</span>::class.java, <span class="hljs-string">"database-name"</span>
)<span class="hljs-selector-class">.build</span>()

<span class="hljs-comment">// ä½¿ç”¨ DAO</span>
<span class="hljs-selector-tag">val</span> <span class="hljs-selector-tag">users</span> = <span class="hljs-selector-tag">db</span><span class="hljs-selector-class">.userDao</span>()<span class="hljs-selector-class">.getAll</span>()
</code></pre>
<hr/>
<h3 data-id="heading-8">æ€»ç»“</h3>
<ul>
<li><strong>AndroidX</strong>Â æ˜¯<strong>åŸºç¡€è®¾æ–½</strong>ï¼Œæ˜¯æ‰€æœ‰ç°ä»£ Android æ”¯æŒåº“çš„<strong>æ–°å®¶ï¼ˆ<code>androidx.*</code>Â åŒ…åï¼‰</strong> ã€‚</li>
<li><strong>Jetpack</strong>Â æ˜¯å»ºç«‹åœ¨ AndroidX ä¹‹ä¸Šçš„<strong>ä¸€å¥—å¼ºå¤§çš„å¼€å‘å·¥å…·é›†</strong>ï¼Œå®ƒæä¾›äº†æ„å»ºä¼˜ç§€åº”ç”¨æ‰€éœ€çš„å„ç§ç»„ä»¶å’Œæ¶æ„æŒ‡å¯¼ã€‚</li>
</ul>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œ<strong>ä½ ä¸éœ€è¦åœ¨â€œä½¿ç”¨ AndroidXâ€å’Œâ€œä½¿ç”¨ Jetpackâ€ä¹‹é—´åšé€‰æ‹©</strong>ã€‚å½“ä½ å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼ŒAndroid Studio é»˜è®¤ä¼šä½¿ç”¨ AndroidXã€‚è€Œå½“ä½ å¼•å…¥ä»»ä½•ä¸€ä¸ªÂ <code>androidx.*</code>Â åŒ…ä¸‹çš„åº“æ—¶ï¼Œä½ å°±åœ¨ä½¿ç”¨ Jetpackã€‚å®ƒä»¬æ˜¯ç°ä»£ Android å¼€å‘çš„åŸºçŸ³ï¼Œå¼ºçƒˆå»ºè®®æ‰€æœ‰æ–°é¡¹ç›®éƒ½åŸºäºå®ƒä»¬è¿›è¡Œå¼€å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–]]></title>    <link>https://juejin.cn/post/7573687816430862346</link>    <guid>https://juejin.cn/post/7573687816430862346</guid>    <pubDate>2025-11-18T07:25:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816430862346" data-draft-id="7573669819028635658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–"/> <meta itemprop="keywords" content="MCP"/> <meta itemprop="datePublished" content="2025-11-18T07:25:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€å…‹èŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/2596366815072922"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2596366815072922/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€å…‹èŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:25:56.000Z" title="Tue Nov 18 2025 07:25:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œä¹˜é£è€Œè¡Œï¼Œæˆ‘æ˜¯è€å…‹ã€‚ä»Šå¤©ä¸ºå¤§å®¶åˆ†äº«ä¸€æ¬¾MCPåº”ç”¨ï¼ŒPlaywright MCPã€‚é€šè¿‡è¿™ä¸ªMCPï¼Œä½ å¯ä»¥è®©Claudeç›´æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œè‡ªåŠ¨å®Œæˆç½‘é¡µæ“ä½œã€æ•°æ®æŠ“å–ã€è¡¨å•å¡«å†™ç­‰ä»»åŠ¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰è£…é…ç½®ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å±•ç¤ºå®ƒçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-0">Playwright MCPä¸‹è½½å®‰è£…</h3>
<h4 data-id="heading-1">ç¯å¢ƒå‡†å¤‡</h4>
<p>windows 11æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…nodejsï¼Œæˆ‘å·²ç»å®‰è£…äº†ç‰ˆæœ¬æ˜¯22.21.1ã€‚</p>
<h4 data-id="heading-2">å®‰è£…Playwright</h4>
<pre><code class="hljs">npm install -g playwright
</code></pre>
<p>é€šè¿‡Playwright å®‰è£…æµè§ˆå™¨</p>
<pre><code class="hljs">playwright install chromium
</code></pre>
<h4 data-id="heading-3">å®‰è£…Playwright MCP</h4>
<p>Playwright MCPçš„åœ¨githubä¸­çš„é¡¹ç›®åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexecuteautomation%2Fmcp-playwright" target="_blank" title="https://github.com/executeautomation/mcp-playwright" ref="nofollow noopener noreferrer">github.com/executeautoâ€¦</a> é€šè¿‡smitheryå®‰è£…Playwright MCP</p>
<pre><code class="hljs language-sql" lang="sql">npx <span class="hljs-operator">-</span>y <span class="hljs-variable">@smithery</span><span class="hljs-operator">/</span>cli<span class="hljs-variable">@latest</span> install <span class="hljs-variable">@executeautomation</span><span class="hljs-operator">/</span>playwright<span class="hljs-operator">-</span>mcp<span class="hljs-operator">-</span>server <span class="hljs-comment">--client claude --key d46d0ada-0f5c-4392-b731-3304a101d362</span>
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰“å¼€Claude Desktopå®¢æˆ·ç«¯ï¼Œåœ¨Settingsâ†’Developerä¸­å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…çš„Playwright MCPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3318a6d721ad4ed0844cc760edf9d378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=ZcE%2F9TnGESi8VRx3EEtTnd7Y9Gk%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šç”±äºplaywright-mcp-serverä¸­çš„å¯¹playwrightçš„æµè§ˆå™¨ä½ç½®ä½¿ç”¨çš„æ˜¯ç¡¬ç¼–ç ï¼Œplaywrightçš„æµè§ˆå™¨å¿…é¡»ä½¿ç”¨chromium-1179â€”â€”è¿™ä¸€ç‚¹å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼Œå®‰è£…å®ŒæˆPlaywright MCPï¼Œéœ€è¦å¯¹Playwrightä¸­æµè§ˆå™¨æ–‡ä»¶å¤¹è¿›è¡Œä¿®æ”¹ï¼Œæ‰¾åˆ°å®‰è£…ç›®å½•ï¼šC:\Users\DELL\AppData\Local\ms-playwright\ï¼Œæµè§ˆå™¨æ–‡ä»¶å¤¹ä¿®æ”¹ä¸ºchromium-1179</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c62c03ace4da4c3180381e3993ff13c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=KTx4stbF2%2BVaRTjjTSfZx3LJDsQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">å®æˆ˜ä¸€ï¼šç™¾åº¦çƒ­æœæŠ“å–</h3>
<p>æ¼”ç¤ºç›®æ ‡ï¼Œä½¿ç”¨ Playwright MCP è®¿é—®ç™¾åº¦ï¼Œè·å–å½“å¤©çš„çƒ­é—¨æœç´¢ä¿¡æ¯ã€‚</p>
<p><strong>1. å‘é€æŒ‡ä»¤ç»™ Claudeï¼š</strong></p>
<p><code>è¯·å¸®æˆ‘ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç™¾åº¦ï¼ˆwww.baidu.comï¼‰ï¼Œ æ‰¾åˆ°ä»Šå¤©çš„çƒ­æœæ¦œå•ï¼Œå¹¶æ•´ç†æˆåˆ—è¡¨è¿”å›ç»™æˆ‘ã€‚</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35677ca8f4a44d28b7f0f76e9332de05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=DoKEKh5cz7y54ebLo1eU2JzSFo4%3D" alt="image.png" loading="lazy"/></p>
<p>Playwrightæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®äº†ç™¾åº¦æµè§ˆå™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b61ca71273943f5a19d3a5523490ffa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=vrKvywuQQ10irVhn67iISSiAyPg%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è·å–æ•°æ®å’ŒåŸé¡µé¢ä¸­çš„å†…å®¹ä¸€è‡´ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å®Œæˆæ•°æ®é‡‡é›†å·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-5">å®æˆ˜æ¼”ç¤ºäºŒï¼šå¤æ‚è¡¨å•å¡«æŠ¥</h3>
<h4 data-id="heading-6"><strong>å‡†å¤‡å·¥ä½œï¼šåˆ›å»ºæµ‹è¯•è¡¨å•</strong></h4>
<p>æˆ‘åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªviteçš„vueé¡¹ç›®ï¼Œå°†index.htmlæ›¿æ¢ä¸ºè¡¨å•</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: Arial; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.form-group</span> { <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>; }
        <span class="hljs-selector-tag">label</span> { <span class="hljs-attribute">display</span>: block; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>; <span class="hljs-attribute">font-weight</span>: bold; }
        <span class="hljs-selector-tag">input</span>, select, <span class="hljs-selector-tag">textarea</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"employeeForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å§“å *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ€§åˆ« *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span>&gt;</span>ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span>&gt;</span>å¥³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å‡ºç”Ÿæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"birthday"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>è”ç³»ç”µè¯ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”µå­é‚®ç®± *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>éƒ¨é—¨ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"department"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©éƒ¨é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"tech"</span>&gt;</span>æŠ€æœ¯éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sales"</span>&gt;</span>é”€å”®éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"hr"</span>&gt;</span>äººåŠ›èµ„æºéƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"finance"</span>&gt;</span>è´¢åŠ¡éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>èŒä½ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"position"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å…¥èŒæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hireDate"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ•™è‚²ç¨‹åº¦ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"education"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"bachelor"</span>&gt;</span>æœ¬ç§‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"master"</span>&gt;</span>ç¡•å£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"phd"</span>&gt;</span>åšå£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"other"</span>&gt;</span>å…¶ä»–<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŠ€èƒ½ç‰¹é•¿<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"skills"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·æè¿°æ‚¨çš„ä¸“ä¸šæŠ€èƒ½å’Œç‰¹é•¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"agreement"</span> <span class="hljs-attr">required</span>&gt;</span>
                æˆ‘å·²é˜…è¯»å¹¶åŒæ„å…¬å¸ç›¸å…³è§„å®š
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'employeeForm'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
            e.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¡¨å•æäº¤æˆåŠŸï¼'</span>);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>å¯åŠ¨é¡¹ç›®ï¼Œé€šè¿‡<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F%25E8%25AE%25BF%25E9%2597%25AE%25E8%25A1%25A8%25E5%258D%2595" target="_blank" title="http://localhost:5173/%E8%AE%BF%E9%97%AE%E8%A1%A8%E5%8D%95" ref="nofollow noopener noreferrer">http://localhost:5173/è®¿é—®è¡¨å•</a></p>
<h4 data-id="heading-7">æ¼”ç¤ºæ“ä½œ</h4>
<h5 data-id="heading-8">1.æ‰“å¼€è¡¨å•</h5>
<p>å‘Šè¯‰claude æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F" target="_blank" title="http://localhost:5173/" ref="nofollow noopener noreferrer">http://localhost:5173/</a></p>
<h5 data-id="heading-9">2.å¡«å†™è¡¨å•å†…å®¹</h5>
<p>å‘Šè¯‰claudeï¼Œå¡«å†™è¡¨å•å†…å®¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·å¸®æˆ‘å¡«å†™è¿™ä¸ªå‘˜å·¥ç™»è®°è¡¨å•ï¼ˆfile:///path/to/complex-form.htmlï¼‰ï¼Œ
ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ï¼š
<span class="hljs-deletion">- å§“åï¼šå¼ å°æ˜</span>
<span class="hljs-deletion">- æ€§åˆ«ï¼šç”·</span>
<span class="hljs-deletion">- å‡ºç”Ÿæ—¥æœŸï¼š1990-05-15</span>
<span class="hljs-deletion">- è”ç³»ç”µè¯ï¼š13800138000</span>
<span class="hljs-deletion">- ç”µå­é‚®ç®±ï¼šzhangxiaoming@example.com</span>
<span class="hljs-deletion">- éƒ¨é—¨ï¼šæŠ€æœ¯éƒ¨</span>
<span class="hljs-deletion">- èŒä½ï¼šé«˜çº§å·¥ç¨‹å¸ˆ</span>
<span class="hljs-deletion">- å…¥èŒæ—¥æœŸï¼š2024-01-15</span>
<span class="hljs-deletion">- æ•™è‚²ç¨‹åº¦ï¼šç¡•å£«</span>
<span class="hljs-deletion">- æŠ€èƒ½ç‰¹é•¿ï¼šç²¾é€šPythonã€JavaScriptï¼Œ5å¹´å…¨æ ˆå¼€å‘ç»éªŒ</span>

ç„¶åå‹¾é€‰åŒæ„æ¡æ¬¾ï¼Œå¹¶æäº¤è¡¨å•ã€‚
</code></pre>
<p>å¤§å®¶å¥½ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œä¹˜é£è€Œè¡Œï¼Œæˆ‘æ˜¯è€å…‹ã€‚ä»Šå¤©ä¸ºå¤§å®¶åˆ†äº«ä¸€æ¬¾MCPåº”ç”¨ï¼ŒPlaywright MCPã€‚é€šè¿‡è¿™ä¸ªMCPï¼Œä½ å¯ä»¥è®©Claudeç›´æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œè‡ªåŠ¨å®Œæˆç½‘é¡µæ“ä½œã€æ•°æ®æŠ“å–ã€è¡¨å•å¡«å†™ç­‰ä»»åŠ¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰è£…é…ç½®ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å±•ç¤ºå®ƒçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-10">Playwright MCPä¸‹è½½å®‰è£…</h3>
<h4 data-id="heading-11">ç¯å¢ƒå‡†å¤‡</h4>
<p>windows 11æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…nodejsï¼Œæˆ‘å·²ç»å®‰è£…äº†ç‰ˆæœ¬æ˜¯22.21.1ã€‚</p>
<h4 data-id="heading-12">å®‰è£…Playwright</h4>
<pre><code class="hljs">npm install -g playwright
</code></pre>
<p>é€šè¿‡Playwright å®‰è£…æµè§ˆå™¨</p>
<pre><code class="hljs">playwright install chromium
</code></pre>
<h4 data-id="heading-13">å®‰è£…Playwright MCP</h4>
<p>Playwright MCPçš„åœ¨githubä¸­çš„é¡¹ç›®åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexecuteautomation%2Fmcp-playwright" target="_blank" title="https://github.com/executeautomation/mcp-playwright" ref="nofollow noopener noreferrer">github.com/executeautoâ€¦</a> é€šè¿‡smitheryå®‰è£…Playwright MCP</p>
<pre><code class="hljs language-sql" lang="sql">npx <span class="hljs-operator">-</span>y <span class="hljs-variable">@smithery</span><span class="hljs-operator">/</span>cli<span class="hljs-variable">@latest</span> install <span class="hljs-variable">@executeautomation</span><span class="hljs-operator">/</span>playwright<span class="hljs-operator">-</span>mcp<span class="hljs-operator">-</span>server <span class="hljs-comment">--client claude --key d46d0ada-0f5c-4392-b731-3304a101d362</span>
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰“å¼€Claude Desktopå®¢æˆ·ç«¯ï¼Œåœ¨Settingsâ†’Developerä¸­å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…çš„Playwright MCPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b0135e46fcf4b3489da269d12db8f06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=VJrYXrZn%2FhhoR%2BTKByYpZuc6b2k%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šç”±äºplaywright-mcp-serverä¸­çš„å¯¹playwrightçš„æµè§ˆå™¨ä½ç½®ä½¿ç”¨çš„æ˜¯ç¡¬ç¼–ç ï¼Œplaywrightçš„æµè§ˆå™¨å¿…é¡»ä½¿ç”¨chromium-1179â€”â€”è¿™ä¸€ç‚¹å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼Œå®‰è£…å®ŒæˆPlaywright MCPï¼Œéœ€è¦å¯¹Playwrightä¸­æµè§ˆå™¨æ–‡ä»¶å¤¹è¿›è¡Œä¿®æ”¹ï¼Œæ‰¾åˆ°å®‰è£…ç›®å½•ï¼šC:\Users\DELL\AppData\Local\ms-playwright\ï¼Œæµè§ˆå™¨æ–‡ä»¶å¤¹ä¿®æ”¹ä¸ºchromium-1179</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b298a180bc3040eaa67b6232caa41cf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=teEOxz55dpuxEd5Hw2S%2B4CYU8HQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">å®æˆ˜ä¸€ï¼šç™¾åº¦çƒ­æœæŠ“å–</h3>
<p>æ¼”ç¤ºç›®æ ‡ï¼Œä½¿ç”¨ Playwright MCP è®¿é—®ç™¾åº¦ï¼Œè·å–å½“å¤©çš„çƒ­é—¨æœç´¢ä¿¡æ¯ã€‚</p>
<p><strong>1. å‘é€æŒ‡ä»¤ç»™ Claudeï¼š</strong></p>
<p><code>è¯·å¸®æˆ‘ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç™¾åº¦ï¼ˆwww.baidu.comï¼‰ï¼Œ æ‰¾åˆ°ä»Šå¤©çš„çƒ­æœæ¦œå•ï¼Œå¹¶æ•´ç†æˆåˆ—è¡¨è¿”å›ç»™æˆ‘ã€‚</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3dcc316350847a9ba48b851cac05444~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=bRgWFHcVD9utcrUDFPotOv8aVyI%3D" alt="image.png" loading="lazy"/></p>
<p>Playwrightæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®äº†ç™¾åº¦æµè§ˆå™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fd4f203395d49e2ad61cdc08aeebf4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=3p98t4okYZga%2BW%2F9nVitvhsoIL4%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è·å–æ•°æ®å’ŒåŸé¡µé¢ä¸­çš„å†…å®¹ä¸€è‡´ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å®Œæˆæ•°æ®é‡‡é›†å·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-15">å®æˆ˜æ¼”ç¤ºäºŒï¼šå¤æ‚è¡¨å•å¡«æŠ¥</h3>
<h4 data-id="heading-16"><strong>å‡†å¤‡å·¥ä½œï¼šåˆ›å»ºæµ‹è¯•è¡¨å•</strong></h4>
<p>æˆ‘åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªviteçš„vueé¡¹ç›®ï¼Œå°†index.htmlæ›¿æ¢ä¸ºè¡¨å•</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: Arial; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.form-group</span> { <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>; }
        <span class="hljs-selector-tag">label</span> { <span class="hljs-attribute">display</span>: block; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>; <span class="hljs-attribute">font-weight</span>: bold; }
        <span class="hljs-selector-tag">input</span>, select, <span class="hljs-selector-tag">textarea</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"employeeForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å§“å *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ€§åˆ« *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span>&gt;</span>ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span>&gt;</span>å¥³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å‡ºç”Ÿæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"birthday"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>è”ç³»ç”µè¯ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”µå­é‚®ç®± *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>éƒ¨é—¨ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"department"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©éƒ¨é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"tech"</span>&gt;</span>æŠ€æœ¯éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sales"</span>&gt;</span>é”€å”®éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"hr"</span>&gt;</span>äººåŠ›èµ„æºéƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"finance"</span>&gt;</span>è´¢åŠ¡éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>èŒä½ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"position"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å…¥èŒæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hireDate"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ•™è‚²ç¨‹åº¦ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"education"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"bachelor"</span>&gt;</span>æœ¬ç§‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"master"</span>&gt;</span>ç¡•å£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"phd"</span>&gt;</span>åšå£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"other"</span>&gt;</span>å…¶ä»–<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŠ€èƒ½ç‰¹é•¿<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"skills"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·æè¿°æ‚¨çš„ä¸“ä¸šæŠ€èƒ½å’Œç‰¹é•¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"agreement"</span> <span class="hljs-attr">required</span>&gt;</span>
                æˆ‘å·²é˜…è¯»å¹¶åŒæ„å…¬å¸ç›¸å…³è§„å®š
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'employeeForm'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
            e.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¡¨å•æäº¤æˆåŠŸï¼'</span>);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>å¯åŠ¨é¡¹ç›®ï¼Œé€šè¿‡<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F%25E8%25AE%25BF%25E9%2597%25AE%25E8%25A1%25A8%25E5%258D%2595" target="_blank" title="http://localhost:5173/%E8%AE%BF%E9%97%AE%E8%A1%A8%E5%8D%95" ref="nofollow noopener noreferrer">http://localhost:5173/è®¿é—®è¡¨å•</a></p>
<h4 data-id="heading-17">æ¼”ç¤ºæ“ä½œ</h4>
<h5 data-id="heading-18">1.æ‰“å¼€è¡¨å•</h5>
<p>å‘Šè¯‰claude æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F" target="_blank" title="http://localhost:5173/" ref="nofollow noopener noreferrer">http://localhost:5173/</a></p>
<h5 data-id="heading-19">2.å¡«å†™è¡¨å•å†…å®¹</h5>
<p>å‘Šè¯‰claudeï¼Œå¡«å†™è¡¨å•å†…å®¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·å¸®æˆ‘å¡«å†™è¿™ä¸ªå‘˜å·¥ç™»è®°è¡¨å•ï¼ˆfile:///path/to/complex-form.htmlï¼‰ï¼Œ
ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ï¼š
<span class="hljs-deletion">- å§“åï¼šå¼ å°æ˜</span>
<span class="hljs-deletion">- æ€§åˆ«ï¼šç”·</span>
<span class="hljs-deletion">- å‡ºç”Ÿæ—¥æœŸï¼š1990-05-15</span>
<span class="hljs-deletion">- è”ç³»ç”µè¯ï¼š13800138000</span>
<span class="hljs-deletion">- ç”µå­é‚®ç®±ï¼šzhangxiaoming@example.com</span>
<span class="hljs-deletion">- éƒ¨é—¨ï¼šæŠ€æœ¯éƒ¨</span>
<span class="hljs-deletion">- èŒä½ï¼šé«˜çº§å·¥ç¨‹å¸ˆ</span>
<span class="hljs-deletion">- å…¥èŒæ—¥æœŸï¼š2024-01-15</span>
<span class="hljs-deletion">- æ•™è‚²ç¨‹åº¦ï¼šç¡•å£«</span>
<span class="hljs-deletion">- æŠ€èƒ½ç‰¹é•¿ï¼šç²¾é€šPythonã€JavaScriptï¼Œ5å¹´å…¨æ ˆå¼€å‘ç»éªŒ</span>

ç„¶åå‹¾é€‰åŒæ„æ¡æ¬¾ï¼Œå¹¶æäº¤è¡¨å•ã€‚
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/130773aca5bf48b0b6cea8c853147595~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=N29AlOZnhWDcBxhNWp7WKyFSnIs%3D" alt="image3.png" loading="lazy"/></p>
<p>ClaudeæŒ‰ç…§æŒ‡ä»¤ä¸€æ­¥æ­¥çš„å°†è¡¨å•å†…å®¹å¡«å†™å®Œå–„ï¼Œå¡«å†™ç»“æœå®Œå…¨ç¬¦åˆé¢„æœŸï¼Œéå¸¸å¥½ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dace789e8516411ca91dc46aae5b1bce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=AX1KIWo5nXz8XHV6Mb8qsFHzKjU%3D" alt="after_submit-2025-11-18T03-02-53-324Z.png" loading="lazy"/></p>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>Playwright MCPè®©æ™®é€šäººåœ¨æ— éœ€ç¼–ç¨‹ï¼Œåªç”¨è‡ªç„¶è¯­è¨€æè¿°å°±å¯ä»¥çš„æƒ…å†µä¸‹å°±å¯ä»¥é€šè¿‡æµè§ˆå™¨å®Œæˆä¿¡æ¯é‡‡é›†å’Œå¡«æŠ¥çš„è‡ªåŠ¨åŒ–å·¥ä½œã€‚åº”ç”¨åœºæ™¯æœ‰ï¼Œä¿¡æ¯é‡‡é›†å’Œç›‘æ§ã€è‡ªåŠ¨åŒ–è¡¨å•å¡«æŠ¥ã€ç½‘ç«™åŠŸèƒ½æµ‹è¯•ã€æ•°æ®æ‰¹é‡å¤„ç†ã€å®šæ—¶ä»»åŠ¡æ‰§è¡Œã€‚</p>
<p>å¦‚æœè¿™ä¸ªè§†é¢‘å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä¸€ä¸ªå…è´¹çš„èµ,å…³æ³¨æˆ‘çš„è´¦å·ï¼æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å›å¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7572997791451201574</link>    <guid>https://juejin.cn/post/7572997791451201574</guid>    <pubDate>2025-11-17T01:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791451201574" data-draft-id="7572048000301629481" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="Java,Spring,Python"/> <meta itemprop="datePublished" content="2025-11-17T01:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T01:54:20.000Z" title="Mon Nov 17 2025 01:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">FastAPI ä¸­ Depends åº”ç”¨çº§ä½¿ç”¨</h2>
<p>é™¤äº†å•ä¸ªå‡½æ•°æ–¹æ³•çš„ Depends å¤–ï¼Œè¿˜æœ‰æ•´ä¸ªåº”ç”¨å±‚çº§çš„ Depends yieldï¼Œä»¥ Redis åˆå§‹åŒ–è¿æ¥æ± ä¸ºä¾‹ã€‚</p>
<p>è¿æ¥æ± åªåœ¨åº”ç”¨çš„å¯åŠ¨çš„æ—¶å€™åˆ›å»ºï¼Œåœæ­¢æ—¶å…³é—­ã€‚å¯ä»¥ç”¨ @app.on_event("startup") å’Œ @app.on_event("shutdown")ï¼Œä½†æ›´æ¨èç”¨ lifespanã€‚</p>
<p>è€ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># é€»è¾‘è¢«æ‹†åˆ†åœ¨ä¸¤ä¸ªä¸åŒçš„å‡½æ•°é‡Œ</span>
<span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"startup"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">startup_event</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- å¯åŠ¨ï¼šåˆ›å»ºè¿æ¥æ±  ---"</span>)
    app.state.db_pool = <span class="hljs-keyword">await</span> create_db_pool()

<span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"shutdown"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">shutdown_event</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- å…³é—­ï¼šé”€æ¯è¿æ¥æ±  ---"</span>)
    <span class="hljs-keyword">await</span> app.state.db_pool.close()

app = FastAPI()
</code></pre>
<p>æ–°ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># --- å¯åŠ¨æ—¶ ---</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Lifespan) åˆ›å»ºæ•°æ®åº“è¿æ¥æ±  (Engine)... ---"</span>)
    db_pool_engine = <span class="hljs-keyword">await</span> create_db_pool() <span class="hljs-comment"># æ˜‚è´µçš„æ“ä½œï¼Œåªåšä¸€æ¬¡</span>
    
    <span class="hljs-comment"># å…³é”®ï¼šæŠŠ 'æ± ' æŒ‚è½½åˆ° app.state ä¸Š</span>
    app.state.db_pool = db_pool_engine
    
    <span class="hljs-keyword">yield</span>
    
    <span class="hljs-comment"># --- å…³é—­æ—¶ ---</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Lifespan) å…³é—­æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
    <span class="hljs-keyword">await</span> app.state.db_pool.close()

<span class="hljs-comment"># æ³¨å†Œ lifespan</span>
app = FastAPI(lifespan=lifespan)
</code></pre>
<p>app.state æ˜¯ FastAPI æä¾›çš„ä¸€ä¸ªå…¨å±€çŠ¶æ€å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨ Redisã€MySQL è¿æ¥æ± ç­‰æ¯”è¾ƒé‡çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Request, Depends

<span class="hljs-comment"># è¿™æ˜¯ä½ çš„ 'Depends' ä¾èµ–é¡¹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_session</span>(<span class="hljs-params">request: Request</span>):
    <span class="hljs-comment"># 1. ä» 'request' ä¸­æ‹¿åˆ° 'app'ï¼Œå†æ‹¿åˆ° 'state'</span>
    db_pool = request.app.state.db_pool
    
    <span class="hljs-comment"># 2. ä» 'æ± ' ä¸­è·å–ä¸€ä¸ª 'è¿æ¥'</span>
    <span class="hljs-comment">#    'async with' è¯­å¥ä¼šè‡ªåŠ¨ 'å€Ÿ' å’Œ 'è¿˜'</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> db_pool.acquire() <span class="hljs-keyword">as</span> connection:
        <span class="hljs-comment"># 3. åŸºäºè¿™ä¸ªè¿æ¥ï¼Œåˆ›å»ºäº‹åŠ¡</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> connection.begin() <span class="hljs-keyword">as</span> transaction:
            <span class="hljs-comment"># 4. åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ Session</span>
            <span class="hljs-comment">#    (æ³¨æ„ï¼šä¸åŒDBåº“å®ç°ä¸åŒï¼Œè¿™é‡Œæ˜¯æ¦‚å¿µ)</span>
            session = create_session(connection, transaction) 
            
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># 5. 'yield' è¿™ä¸ª session ç»™è·¯ç”±</span>
                <span class="hljs-keyword">yield</span> session
                <span class="hljs-comment"># 6. è·¯ç”±æˆåŠŸï¼Œäº‹åŠ¡è‡ªåŠ¨ commit</span>
            <span class="hljs-keyword">except</span> Exception:
                <span class="hljs-comment"># 7. è·¯ç”±å¤±è´¥ï¼Œäº‹åŠ¡è‡ªåŠ¨ rollback</span>
                <span class="hljs-keyword">await</span> transaction.rollback()
                <span class="hljs-keyword">raise</span>
</code></pre>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># 'Depends' ä¼šè‡ªåŠ¨æ‰§è¡Œç¬¬ 2 æ­¥</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_db_session</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªè¢« 'yield' å‡ºæ¥çš„ã€å¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>æ€»ç»“ï¼š lifespan (å¯åŠ¨) -&gt; app.state (å…¨å±€å­˜å‚¨) -&gt; Request (ä¼ é€’ app) -&gt; Depends (è¯»å– app.state) -&gt; yield (æ³¨å…¥è·¯ç”±)ã€‚</p>
<h2 data-id="heading-1">èµ„æºè¿æ¥æ± å…¨å±€ä½¿ç”¨</h2>
<p>å› ä¸ºæ˜¯ FastAPI çš„ï¼Œæ„å‘³ç€å¿…é¡»åœ¨ http ç¯å¢ƒå†…æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æœåœ¨é http ç¯å¢ƒä½¿ç”¨ï¼Œéœ€è¦è¿™æ ·æ”¹é€ ã€‚</p>
<p>å…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€å…±ç”¨çš„ db_core.pyã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># db_core.py</span>
<span class="hljs-keyword">from</span> sqlalchemy.ext.asyncio <span class="hljs-keyword">import</span> create_async_engine, AsyncSession, AsyncEngine
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> sessionmaker
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager

<span class="hljs-comment"># 1. åœ¨æ¨¡å—çš„é¡¶å±‚å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ (æˆ‘ä»¬çš„â€œå•ä¾‹â€)</span>
<span class="hljs-comment">#    å®ƒåœ¨æ‰€æœ‰å¯¼å…¥æ­¤æ¨¡å—çš„æ–‡ä»¶ä¸­æ˜¯ *å…±äº«* çš„</span>
db_engine: AsyncEngine | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>
_async_session_maker = <span class="hljs-literal">None</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_db_pool</span>():
    <span class="hljs-keyword">global</span> db_engine, _async_session_maker
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Core) æ­£åœ¨åˆ›å»ºå…¨å±€æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
    db_engine = create_async_engine(
        <span class="hljs-string">"mysql+aiomysql://..."</span>, 
        pool_size=<span class="hljs-number">10</span>, 
        max_overflow=<span class="hljs-number">5</span>
    )
    _async_session_maker = sessionmaker(
        db_engine, class_=AsyncSession, expire_on_commit=<span class="hljs-literal">False</span>
    )

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">close_db_pool</span>():
    <span class="hljs-keyword">global</span> db_engine
    <span class="hljs-keyword">if</span> db_engine:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Core) æ­£åœ¨å…³é—­å…¨å±€æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
        <span class="hljs-keyword">await</span> db_engine.dispose()

<span class="hljs-comment"># 2. è¿™å°±æ˜¯ä½ çš„â€œäº‹åŠ¡â€ä¾èµ–é¡¹ï¼</span>
<span class="hljs-comment">#    æ³¨æ„ï¼šå®ƒç°åœ¨ *ä¸* éœ€è¦ 'request: Request' äº†ï¼</span>
<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_session</span>():
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _async_session_maker:
        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æ± æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆè°ƒç”¨ create_db_pool()"</span>)

    <span class="hljs-comment"># _async_session_maker() ä¼šè‡ªåŠ¨ä» 'db_engine' (æ± ) ä¸­è·å–è¿æ¥</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> _async_session_maker() <span class="hljs-keyword">as</span> session:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">yield</span> session
            <span class="hljs-keyword">await</span> session.commit()
        <span class="hljs-keyword">except</span> Exception:
            <span class="hljs-keyword">await</span> session.rollback()
            <span class="hljs-keyword">raise</span>
</code></pre>
<p>åœ¨ FastAPI ä¸­ä½¿ç”¨ lifespan åŒ…è£¹ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager
<span class="hljs-keyword">from</span> db_core <span class="hljs-keyword">import</span> create_db_pool, close_db_pool, get_db_session

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># 'lifespan' è´Ÿè´£è§¦å‘å…¨å±€å•ä¾‹çš„åˆå§‹åŒ–</span>
    <span class="hljs-keyword">await</span> create_db_pool()
    <span class="hljs-keyword">yield</span>
    <span class="hljs-keyword">await</span> close_db_pool()

app = FastAPI(lifespan=lifespan)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># é­”æ³•ï¼'get_db_session' ç°åœ¨æ˜¯ä¸€ä¸ªâ€œé€šç”¨â€ä¾èµ–é¡¹</span>
    <span class="hljs-comment"># FastAPI ä¼šè‡ªåŠ¨å¤„ç† @asynccontextmanager</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_DBSession</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªå¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>åœ¨é http ç¯å¢ƒä¸­ï¼Œåˆ™è‡ªå·±ç»´æŠ¤ç”Ÿå‘½å‘¨æœŸã€‚æ¯”å¦‚ Kafka æ¶ˆè´¹ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager
<span class="hljs-keyword">from</span> db_core <span class="hljs-keyword">import</span> create_db_pool, close_db_pool, get_db_session

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># 'lifespan' è´Ÿè´£è§¦å‘å…¨å±€å•ä¾‹çš„åˆå§‹åŒ–</span>
    <span class="hljs-keyword">await</span> create_db_pool()
    <span class="hljs-keyword">yield</span>
    <span class="hljs-keyword">await</span> close_db_pool()

app = FastAPI(lifespan=lifespan)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># é­”æ³•ï¼'get_db_session' ç°åœ¨æ˜¯ä¸€ä¸ªâ€œé€šç”¨â€ä¾èµ–é¡¹</span>
    <span class="hljs-comment"># FastAPI ä¼šè‡ªåŠ¨å¤„ç† @asynccontextmanager</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_DBSession</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªå¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>ç”¨å“ªç§å–å†³äºé¡¹ç›®ï¼Œçº¯ http API é¡¹ç›®å…¨åœ¨ FastAPI é‡Œé¢é…åˆ BackgroundTasks å°±å¤Ÿäº†ï¼Œå¦‚æœè¿˜æœ‰é http å…¥å£çš„å¤„ç†ï¼Œæ¯”å¦‚å®šæ—¶ä»»åŠ¡ã€Kafka æ¶ˆè´¹ç­‰ï¼Œåˆ™ç”¨ç¬¬äºŒç§ã€‚</p>
<p>BackgroundTasks çš„ä½œç”¨å’Œå¼‚æ­¥çº¿ç¨‹ç±»ä¼¼ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†ŒæˆåŠŸåè¦å‘ä¸ªé‚®ä»¶é€šçŸ¥ï¼Œè¿™å°±å¯ä»¥ç”¨ BackgroundTasks åšï¼Œåªä¸è¿‡åŸç†ä¸æ˜¯çœŸçš„æœ‰ä¸ªå¼‚æ­¥çº¿ç¨‹æ± ï¼Œè€Œæ˜¯ FastAPI å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª list åˆ—è¡¨ä¿å­˜è¿™äº›ä»»åŠ¡ï¼Œåœ¨ http å¤„ç†å®Œæ¯•åï¼Œå°† list ç»™ Ready Queue æ‰§è¡Œï¼Œä¾‹å¦‚ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, BackgroundTasks

app = FastAPI()

<span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„ã€'async' çš„é‚®ä»¶å‘é€å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_welcome_email</span>(<span class="hljs-params">email: <span class="hljs-built_in">str</span>, name: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># æ¨¡æ‹Ÿ 2 ç§’é’Ÿçš„ I/O å»¶è¿Ÿ</span>
    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- [åå°ä»»åŠ¡]ï¼šé‚®ä»¶å·²å‘é€ç»™ <span class="hljs-subst">{email}</span> (å§“å: <span class="hljs-subst">{name}</span>) ---"</span>)
    
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">
    email: <span class="hljs-built_in">str</span>,
    name: <span class="hljs-built_in">str</span>,
    background_tasks: BackgroundTasks  <span class="hljs-comment"># 1. åœ¨è¿™é‡Œå£°æ˜</span>
</span>):
    <span class="hljs-comment"># ... ä½ çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“ ...</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- (è·¯ç”±) æ­£åœ¨åˆ›å»ºç”¨æˆ· <span class="hljs-subst">{name}</span> ... ---"</span>)
    
    <span class="hljs-comment"># 2. æ·»åŠ åå°ä»»åŠ¡</span>
    <span class="hljs-comment"># å®ƒä¸ä¼šç«‹å³æ‰§è¡Œï¼</span>
    background_tasks.add_task(
        send_welcome_email,  <span class="hljs-comment"># ä½ è¦è°ƒç”¨çš„å‡½æ•°</span>
        email,               <span class="hljs-comment"># ä½ç½®å‚æ•°</span>
        name=name            <span class="hljs-comment"># å…³é”®å­—å‚æ•°</span>
    )
    
    <span class="hljs-comment"># 3. ç«‹å³è¿”å›å“åº”</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- (è·¯ç”±) ç«‹å³è¿”å›å“åº”ç»™ç”¨æˆ· ---"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">f"ç”¨æˆ· <span class="hljs-subst">{name}</span> åˆ›å»ºæˆåŠŸï¼Œæ¬¢è¿é‚®ä»¶å°†åœ¨åå°å‘é€ã€‚"</span>}
</code></pre>
<h3 data-id="heading-2">é‡åˆ° CPU å¯†é›†å‹ä»»åŠ¡æ€ä¹ˆåŠï¼Ÿ</h3>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡Œé¢è¯¦ç»†è¯´è¿‡ï¼Œä¸ºäº†æ–¹ä¾¿åšå†…å­˜å›æ”¶ï¼ŒPython ç”¨ GLC ä¿è¯åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°é”ï¼Œio ä»»åŠ¡é™¤å¤–ã€‚</p>
<p>æ‰€ä»¥ Python æ²¡æœ‰å¤šçº¿ç¨‹ï¼Œå³ä½¿ç”¨ asyncio.to_thread æ‰§è¡Œï¼Œä¹Ÿä¼šå ç”¨ GLCã€‚</p>
<p>è¦çœŸæ­£çš„è¿è¡Œ CPU å¯†é›†å‹ä»»åŠ¡ï¼Œåªèƒ½ç”¨å¤šè¿›ç¨‹ã€‚æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„ GLCï¼Œç›¸äº’ä¸å¹²æ‰°ï¼Œå³æ–°å¯ä¸€ä¸ª Python ç¨‹åºã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ProcessPoolExecutor

<span class="hljs-keyword">def</span> <span class="hljs-title function_">my_cpu_heavy_task</span>():
    <span class="hljs-comment"># ... (5 ç§’é’Ÿçš„ CPU å¯†é›†å‹è®¡ç®—) ...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Done"</span>

<span class="hljs-comment"># ä½ éœ€è¦è‡ªå·±ç®¡ç†è¿™ä¸ªè¿›ç¨‹æ± </span>
cpu_pool = ProcessPoolExecutor()

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/cpu-task"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_cpu_task</span>():
    loop = asyncio.get_running_loop()
    
    <span class="hljs-comment"># å‘Šè¯‰äº‹ä»¶å¾ªç¯ï¼š</span>
    <span class="hljs-comment"># "è¯·åœ¨ 'cpu_pool' (ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹) é‡Œè¿è¡Œè¿™ä¸ªä»»åŠ¡"</span>
    result = <span class="hljs-keyword">await</span> loop.run_in_executor(
        cpu_pool,  <span class="hljs-comment"># &lt;--- ä½¿ç”¨è¿›ç¨‹æ± ï¼Œè€Œä¸æ˜¯çº¿ç¨‹æ± </span>
        my_cpu_heavy_task
    )
    
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: result}
</code></pre>
<h2 data-id="heading-3">yield çš„åŸç†</h2>
<p>yield æ˜¯æš‚åœä¸€ä¸ªå‡½æ•°ï¼Œreturn æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚yield æŠŠä¸€ä¸ªæ™®é€šå‡½æ•°å˜ä¸ºäº†ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_generator</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 1. ç”Ÿæˆå™¨å¼€å§‹ ---"</span>)
    <span class="hljs-keyword">yield</span> <span class="hljs-string">"Hello"</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 2. æˆ‘ä» 'Hello' ä¹‹åè¢«å”¤é†’äº† ---"</span>)
    <span class="hljs-keyword">yield</span> <span class="hljs-string">"World"</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 3. æˆ‘ä» 'World' ä¹‹åè¢«å”¤é†’äº† ---"</span>)
    <span class="hljs-comment"># æ²¡æœ‰æ›´å¤šçš„ yieldï¼Œå‡½æ•°è‡ªåŠ¨ç»“æŸ</span>
</code></pre>
<p>ç±»ä¼¼ Java ä¸­ Iteratorï¼Œæ¯ä¸€ä¸ª yield éƒ½æ˜¯ next()ï¼Œå…ˆåˆ¤æ–­ hasNext()ï¼Œå†æ‰§è¡Œã€‚</p>
<p>åœ¨å †æ ˆå±‚é¢ï¼Œæ™®é€šçš„ return æ‰§è¡Œåï¼Œå †æ ˆé‡Œé¢çš„ä¸´æ—¶å˜é‡éƒ½é”€æ¯ï¼Œè€Œ yield ç›¸å½“äºæš‚åœæ“ä½œï¼Œä¿ç•™å†…å­˜ä¸­çš„æ•°æ®ï¼Œç”Ÿå‘½å‘¨æœŸæ˜¯åˆ›å»º -&gt; æš‚åœ -&gt; æ¢å¤ -&gt; ... -&gt; æ­»äº¡ã€‚</p>
<h2 data-id="heading-4">å…³é”®è¯å’Œç»„ä»¶åŒºåˆ†</h2>
<p>Python çš„è¯­è¨€å…³é”®è¯æœ‰ï¼šasync def / awaitã€yieldã€with/async withï¼Œè¯­è¨€ç‰¹æ€§æœ‰ @...ï¼ˆåªæ˜¯æä¾›@ç¬¦å·ï¼‰ï¼ŒType Hintsã€è£…é¥°å™¨ï¼ˆå°†å‡½æ•°å˜ä¸ºæ–¹æ³•å…¥å‚ï¼Œç±»ä¼¼ Spring çš„ç¯ç»•é€šçŸ¥ï¼‰ï¼Œæ ‡å‡†åº“æœ‰ asyncioã€contextlibã€typingã€‚</p>
<p>FastAPI çš„æœ‰ Dependsï¼ˆå’Œ yield æ­é…ä¸€èµ·ç”¨ï¼‰ï¼Œ@app.getã€ @app.postã€@app.on_event("startup") ç­‰æ¡†æ¶è£…é¥°å™¨ï¼Œlifespan http åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼ŒPydanticï¼ˆç”¨ Type Hints åšæ ¡éªŒå’Œç±»å‹è½¬æ¢ï¼‰ï¼ŒUvicornï¼ˆç±»ä¼¼ Tomcat å®¹å™¨ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7573632156884271155</link>    <guid>https://juejin.cn/post/7573632156884271155</guid>    <pubDate>2025-11-18T07:32:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573632156884271155" data-draft-id="7573687816430960650" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,NoSQL"/> <meta itemprop="datePublished" content="2025-11-18T07:32:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:32:50.000Z" title="Tue Nov 18 2025 07:32:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç”µå•†ç‚¹å‡»/è®¢å•æµå…¥ Kafkaï¼ŒDruid è¿›è¡Œå®æ—¶åˆ†æä¸å¯è§†åŒ–ã€‚</li>
<li>ç»“è®ºï¼šåµŒå¥— JSON éœ€é¢„å¤„ç†æ‹‰å¹³ï¼›Kafka Indexing Service è®¾â€œä»æœ€æ—©ä½ç‚¹â€ä¸ç¦ç”¨ Rollup æ›´ç¨³ã€‚</li>
<li>äº§å‡ºï¼šScala Producerâ†’Druid æ‘„å–â†’SQL æŒ‡æ ‡ï¼ˆè®¢å•/ç”¨æˆ·/æ”¯ä»˜/TopNï¼‰è·‘é€šä¸å¸¸è§å‘ä½æ¸…å•ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e3b98f8e0045dab35bca37731c0e0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=tmzytXLsKta1xtUbCYpNQLrdABM%3D" alt="å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79b3c8efd2754e8d802efa7441b9de26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=160VrMjbh3DJpZLiLNaFBRzZETA%3D" alt="Apache Druid" loading="lazy"/></p>
<h2 data-id="heading-1">æ•´ä½“æµç¨‹</h2>
<ul>
<li>Kafka æ•°æ®æº: Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ï¼Œè´Ÿè´£æ¥æ”¶ã€å­˜å‚¨å¹¶ä¼ è¾“æ•°æ®ã€‚å®ƒæ”¯æŒä»å„ç±»åº”ç”¨ã€æ—¥å¿—ã€ä¼ æ„Ÿå™¨ç­‰è®¾å¤‡é‡‡é›†å®æ—¶æ•°æ®ï¼Œå°†æ•°æ®åˆ’åˆ†ä¸ºå¤šä¸ªä¸»é¢˜ï¼ˆTopicï¼‰ï¼Œå¹¶å°†æ¶ˆæ¯åˆ†å‘ç»™æ¶ˆè´¹è€…ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼ŒKafka æ˜¯ Druid çš„æ•°æ®æºã€‚</li>
<li>Kafka Producer: æ•°æ®ç”Ÿäº§è€…ï¼ˆProducerï¼‰è´Ÿè´£å°†æ•°æ®å‘é€åˆ° Kafka çš„ä¸»é¢˜ä¸­ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å‘ Kafka å†™å…¥æ—¥å¿—ã€ç”¨æˆ·è¡Œä¸ºæ•°æ®ã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰ã€‚æ¯æ¡æ¶ˆæ¯å¯ä»¥æ˜¯ JSONã€Avro ç­‰æ ¼å¼çš„æ•°æ®è®°å½•ã€‚</li>
<li>Druid Kafka Ingestion: Druid æä¾›äº†å¯¹ Kafka çš„åŸç”Ÿæ”¯æŒã€‚é€šè¿‡ Kafka Indexing Serviceï¼ŒDruid å¯ä»¥æŒç»­ä» Kafka çš„æŸä¸ªä¸»é¢˜ä¸­æ¶ˆè´¹æ•°æ®ï¼Œå®æ—¶åœ°å°†è¿™äº›æ•°æ®æ‘„å–åˆ° Druid ä¸­ã€‚æ‘„å–è¿‡ç¨‹ä¸­ï¼ŒDruid ä¼šå°†æ•°æ®æ‹†è§£ä¸ºå°çš„æ®µï¼ˆSegmentï¼‰ï¼Œå¹¶å°†è¿™äº›æ®µå­˜å‚¨åœ¨ Druid é›†ç¾¤çš„æ·±åº¦å­˜å‚¨ä¸­ï¼ˆå¦‚ HDFSã€S3 ç­‰ï¼‰ã€‚</li>
<li>å®æ—¶æ•°æ®æ‘„å–å’Œç´¢å¼•: Druid çš„ Kafka æ‘„å–ä»»åŠ¡ä¼šç›‘å¬ Kafka çš„åˆ†åŒºï¼ŒæŒ‰ç…§æµæ•°æ®çš„åˆ°è¾¾é¡ºåºæ¶ˆè´¹æ•°æ®ï¼Œå¹¶åœ¨å†…éƒ¨åˆ›å»ºç´¢å¼•ã€‚è¿™äº›ç´¢å¼•ç»“æ„åŒ–å­˜å‚¨äº†æ•°æ®ï¼Œå¹¶é€šè¿‡åˆ†ç‰‡å’Œåˆ†åŒºæœºåˆ¶ï¼Œä¿è¯äº†æŸ¥è¯¢çš„é«˜æ•ˆæ€§å’Œæ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚</li>
<li>Druid æŸ¥è¯¢å±‚: Druid æä¾›äº†éå¸¸å¼ºå¤§çš„æŸ¥è¯¢èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡ SQL æŸ¥è¯¢æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œä¹Ÿæ”¯æŒå¤šç»´æŸ¥è¯¢ã€èšåˆæŸ¥è¯¢ç­‰ã€‚è¿™äº›æŸ¥è¯¢å¯ä»¥æ˜¯ä½å»¶è¿Ÿçš„å®æ—¶æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥å¯¹å†å²æ•°æ®è¿›è¡Œå¤æ‚çš„åˆ†æã€‚ç”¨æˆ·é€šè¿‡ Druid æŸ¥è¯¢æ¥å£æˆ– BI å·¥å…·ï¼ˆå¦‚ Apache Supersetã€Tableau ç­‰ï¼‰å‘é›†ç¾¤å‘é€æŸ¥è¯¢ã€‚</li>
<li>Kafka æ¶ˆè´¹è€… Offset ç®¡ç†: Druid ä½¿ç”¨ Kafka æ¶ˆè´¹è€…æ¨¡å‹ï¼Œå®æ—¶æ¶ˆè´¹æ¶ˆæ¯å¹¶ç®¡ç† Offsetï¼ˆåç§»é‡ï¼‰ï¼Œç¡®ä¿æ•°æ®ä¸ä¸¢å¤±æˆ–é‡å¤æ‘„å–ã€‚Offset ä¼šè¢«å®šæœŸæäº¤åˆ° Kafka ä¸­ï¼Œä¿è¯å³ä½¿ä»»åŠ¡é‡å¯ï¼Œæ‘„å–è¿›åº¦ä¹Ÿèƒ½ä»ä¸Šä¸€æ¬¡çš„ä½ç½®ç»§ç»­ã€‚</li>
<li>æŒä¹…åŒ–å’Œæ•°æ®å­˜å‚¨: æ•°æ®åœ¨ç»è¿‡æ‘„å–å’Œç´¢å¼•åï¼ŒDruid ä¼šå®šæœŸå°†æ•°æ®æ®µï¼ˆSegmentï¼‰æŒä¹…åŒ–åˆ°æ·±åº¦å­˜å‚¨ä¸­ï¼Œå¹¶å¯¹æ—§æ•°æ®è¿›è¡Œåˆå¹¶å’Œå‹ç¼©ï¼Œå‡å°‘å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚Druid çš„é›†ç¾¤æ¶æ„æ”¯æŒåˆ†å¸ƒå¼å­˜å‚¨å’ŒæŸ¥è¯¢ï¼Œå¹¶èƒ½æ ¹æ®æ•°æ®è§„æ¨¡è¿›è¡Œè‡ªåŠ¨æ‰©å±•ã€‚</li>
</ul>
<h2 data-id="heading-2">æ¡ˆä¾‹å‡è®¾</h2>
<p>å‡è®¾æˆ‘ä»¬åœ¨æ„å»ºä¸€ä¸ªç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿï¼Œé€šè¿‡ Kafka é‡‡é›†ç”¨æˆ·ç‚¹å‡»æ—¥å¿—ï¼Œå¹¶é€šè¿‡ Druid å®æ—¶åˆ†æç”¨æˆ·è¡Œä¸ºã€‚</p>
<ul>
<li>Kafka æ•°æ®ç”Ÿäº§: ç”µå•†å¹³å°çš„åº”ç”¨ç¨‹åºä¼šå°†æ¯æ¬¡ç”¨æˆ·ç‚¹å‡»äº§ç”Ÿçš„æ—¥å¿—è®°å½•ï¼ˆä¾‹å¦‚ç‚¹å‡»å•†å“ã€é¡µé¢æµè§ˆç­‰ï¼‰å‘é€åˆ° Kafka ä¸­çš„ user-clicks ä¸»é¢˜ã€‚æ¯æ¡è®°å½•éƒ½åŒ…å«ç”¨æˆ·IDã€å•†å“IDã€æ—¶é—´æˆ³ã€é¡µé¢ä¿¡æ¯ç­‰ã€‚</li>
<li>Druid æ•°æ®æ‘„å–: é…ç½® Druid çš„ Kafka Indexing Serviceï¼Œä» user-clicks ä¸»é¢˜æ¶ˆè´¹æ•°æ®ã€‚æ•°æ®ä¼šå®æ—¶æµå…¥ Druid ä¸­ï¼ŒDruid å°†æ•°æ®æŒ‰ç…§æ—¶é—´èŒƒå›´åˆ‡åˆ†ä¸ºæ®µï¼Œå¹¶å­˜å‚¨åˆ°å…¶æ·±åº¦å­˜å‚¨ä¸­ã€‚</li>
<li>å®æ—¶æ•°æ®æŸ¥è¯¢ä¸åˆ†æ: ä¸šåŠ¡æ–¹å¯ä»¥é€šè¿‡ SQL æŸ¥è¯¢æˆ–å¤šç»´æŸ¥è¯¢æ¥å£ï¼Œå®æ—¶åˆ†æç”¨æˆ·çš„ç‚¹å‡»è¡Œä¸ºã€‚æŸ¥è¯¢çš„ä¾‹å­å¯èƒ½æ˜¯ç»Ÿè®¡æ¯ä¸ªå°æ—¶çš„é¡µé¢æµè§ˆé‡ã€åˆ†æä¸åŒå•†å“çš„å—æ¬¢è¿ç¨‹åº¦ç­‰ã€‚è¿™äº›æŸ¥è¯¢å¯ä»¥ç›´æ¥åæ˜ ç”¨æˆ·çš„å½“å‰è¡Œä¸ºï¼Œå¸®åŠ©ä¸šåŠ¡æ–¹åšå‡ºå¿«é€Ÿå†³ç­–ã€‚</li>
<li>å¯è§†åŒ–å’ŒæŠ¥è¡¨: Druid çš„æŸ¥è¯¢ç»“æœå¯ä»¥é€šè¿‡ Apache Superset ç­‰å·¥å…·è¿›è¡Œå¯è§†åŒ–å±•ç¤ºï¼Œåˆ›å»ºå®æ—¶ä»ªè¡¨ç›˜ï¼Œå±•ç¤ºç”¨æˆ·è¡Œä¸ºçš„å„ç§å…³é”®æŒ‡æ ‡ã€‚æ•°æ®åˆ†æå¸ˆå’Œè¿è¥äººå‘˜å¯ä»¥åœ¨å¯è§†åŒ–å¹³å°ä¸Šç›´è§‚åœ°çœ‹åˆ°å½“å‰ç³»ç»Ÿçš„è¿è¥çŠ¶æ€ã€‚</li>
</ul>
<h2 data-id="heading-3">éœ€æ±‚åˆ†æ</h2>
<h3 data-id="heading-4">åœºæ™¯åˆ†æ</h3>
<ul>
<li>æ•°æ®é‡å¤§ï¼Œéœ€è¦åœ¨è¿™äº›æ•°æ®ä¸­æ ¹æ®ä¸šåŠ¡éœ€è¦çµæ´»æŸ¥è¯¢</li>
<li>å®æ—¶æ€§è¦æ±‚é«˜</li>
<li>æ•°æ®å®æ—¶çš„æ¨è¿‡æ¥ï¼Œè¦åœ¨ç§’çº§å¯¹æ•°æ®è¿›è¡Œåˆ†æå¹¶æŸ¥è¯¢å‡ºç»“æœ</li>
</ul>
<h3 data-id="heading-5">æ•°æ®æè¿°</h3>
<pre><code class="hljs language-shell" lang="shell">{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","products":
[{"productId":"102163","productName":"è´åˆxxx+ç²‰","price":18.7,"productNum":3,"categoryid":"10360","catname1":"å¨å«æ¸…æ´ã€çº¸åˆ¶ç”¨å“","catname2":"ç”Ÿæ´»æ—¥ç”¨","catname3":"æµ´å®¤ç”¨å“"},{"productId":"100349","productName":"COxxx0C","price":877.8,"productNum":1,"categoryid":"10302","catname1":"æ¯å©´ã€ç©å…·ä¹å™¨","catname2":"è¥¿æ´‹å¼¦ä¹å™¨","catname3":"å‰ä»–"}]}
</code></pre>
<ul>
<li>ts äº¤æ˜“æ—¶é—´</li>
<li>orderId è®¢å•ç¼–å·</li>
<li>userId ç”¨æˆ·id</li>
<li>orderStatusId è®¢å•çŠ¶æ€Id</li>
<li>orderStatus è®¢å•çŠ¶æ€ 0-11ï¼šæœªæ”¯ä»˜,å·²æ”¯ä»˜,å‘è´§ä¸­,å·²å‘è´§,å‘è´§å¤±è´¥,å·²é€€æ¬¾,å·²å…³å•,è®¢å•è¿‡æœŸ,è®¢å•å·²å¤±æ•ˆ,äº§å“å·²å¤±æ•ˆ,ä»£ä»˜æ‹’ç»,æ”¯ä»˜ä¸­</li>
<li>payModelId æ”¯ä»˜æ–¹å¼id</li>
<li>payMode æ”¯ä»˜æ–¹å¼ï¼š0-6ï¼šå¾®ä¿¡,æ”¯ä»˜å®,ä¿¡ç”¨å¡,é“¶è”,è´§åˆ°ä»˜æ¬¾,ç°é‡‘,å…¶ä»–</li>
<li>paymentï¼šæ”¯ä»˜é‡‘é¢</li>
<li>productsï¼šè´­ä¹°å•†å“ ï¼ˆä¸€ä¸ªè®¢å•å¯èƒ½åŒ…å«å¤šä¸ªå•†å“ï¼Œè¿™é‡Œæ˜¯åµŒå¥—ç»“æ„ï¼‰</li>
<li>productId å•†å“Id</li>
<li>productName å•†å“åç§°</li>
<li>price å•ä»·</li>
<li>productNum è´­ä¹°æ•°é‡</li>
<li>categoryid å•†å“åˆ†ç±»Id</li>
<li>catname1 å•†å“ä¸€çº§åˆ†ç±»åç§°</li>
<li>catname2 å•†å“äºŒçº§åˆ†ç±»åç§°</li>
<li>catname3 å•†å“ä¸‰çº§åˆ†ç±»åç§°</li>
</ul>
<p>ä»¥ä¸Šçš„åµŒå¥—çš„jsonæ•°æ®æ ¼å¼ï¼ŒDruidä¸å¥½å¤„ç†ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œå°†æ•°æ®æ‹‰å¹³ï¼Œå¤„ç†åçš„æ•°æ®æ ¼å¼ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","product":
{"productId":"102163","productName":"è´åˆxxx+ç²‰","price":18.7,"productNum":3,"categoryid":"10360","catname1":"å¨å«æ¸…æ´ã€çº¸åˆ¶ç”¨å“","catname2":"ç”Ÿæ´»æ—¥ç”¨","catname3":"æµ´å®¤ç”¨å“"}}
{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","product":
{"productId":"100349","productName":"COxxx0C","price":877.8,"productNum":1,"categoryid":"10302","catname1":"æ¯å©´ã€ç©å…·ä¹å™¨","catname2":"è¥¿æ´‹å¼¦ä¹å™¨","catname3":"å‰ä»–"}}
</code></pre>
<h2 data-id="heading-6">Kafkaç”Ÿäº§è€…</h2>
<p>å¥½ä¹…æ²¡ç”¨Scalaäº†ï¼Œç”¨Scalaå†™ä¸€ä¸ªï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> icu.wzk.kafka

<span class="hljs-keyword">import</span> org.apache.kafka.clients.producer.{<span class="hljs-type">KafkaProducer</span>, <span class="hljs-type">ProducerConfig</span>, <span class="hljs-type">ProducerRecord</span>}
<span class="hljs-keyword">import</span> org.apache.kafka.common.serialization.<span class="hljs-type">StringSerializer</span>

<span class="hljs-keyword">import</span> java.util.<span class="hljs-type">Properties</span>
<span class="hljs-keyword">import</span> scala.io.<span class="hljs-type">BufferedSource</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">KafkaProducerForDruid</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-keyword">val</span> brokers = <span class="hljs-string">"h121.wzk.icu:9092"</span>
    <span class="hljs-keyword">val</span> topic = <span class="hljs-string">"druid2"</span>
    <span class="hljs-keyword">val</span> prop = <span class="hljs-keyword">new</span> <span class="hljs-type">Properties</span>()
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">BOOTSTRAP_SERVERS_CONFIG</span>, brokers)
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">KEY_SERIALIZER_CLASS_CONFIG</span>, classOf[<span class="hljs-type">StringSerializer</span>])
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">VALUE_SERIALIZER_CLASS_CONFIG</span>, classOf[<span class="hljs-type">StringSerializer</span>])

    <span class="hljs-keyword">val</span> producer = <span class="hljs-keyword">new</span> <span class="hljs-type">KafkaProducer</span>[<span class="hljs-type">String</span>, <span class="hljs-type">String</span>](prop);
    <span class="hljs-keyword">val</span> source: <span class="hljs-type">BufferedSource</span> = scala.io.<span class="hljs-type">Source</span>.fromFile(<span class="hljs-string">"orders1.json"</span>)
    <span class="hljs-keyword">val</span> iter: <span class="hljs-type">Iterator</span>[<span class="hljs-type">String</span>] = source.getLines();
    iter.foreach {
      line =&gt; <span class="hljs-keyword">val</span> msg = <span class="hljs-keyword">new</span> <span class="hljs-type">ProducerRecord</span>[<span class="hljs-type">String</span>, <span class="hljs-type">String</span>](topic, line);
        producer.send(msg)
        println(msg)
        <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">10</span>)
    }
    producer.close()
    source.close()
  }
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8adbe8be8b24d618eb695883a5cfa4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=YEkBpMeNO4WQyhejzdWg1uCNz2Y%3D" alt="Druid Kafka Producer" loading="lazy"/></p>
<h2 data-id="heading-7">Druidå¯¼å…¥æ•°æ®</h2>
<p>è¿™é‡Œå°±ä¸è¯¦ç»†æè¿°äº†ï¼Œä¹‹å‰å…¥é—¨é˜¶æ®µå·²ç»èµ°è¿‡å®Œæ•´çš„æµç¨‹äº†ï¼š</p>
<ul>
<li>JSONæ•°æ®è¦æ‹‰å¹³</li>
<li>ä¸å®šä¹‰ RollUp</li>
</ul>
<p>åŠ è½½æ•°æ®æºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1008894294984deea9332757d29231f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=S03d53ZQB7r0RpOM2bPqK21gCZc%3D" alt="Druid æŸ¥çœ‹æ•°æ®" loading="lazy"/>
JSON æ‹‰å¹³ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cd1473c441a4173af7379263d732923~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=WYplXTf6idWHnI75jdvzcS5iQ%2Fs%3D" alt="Druid å±•ç¤ºæ•°æ®" loading="lazy"/>
æ—¶é—´æˆ³ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c6aa34e43c4266ad2302f9b7bb3b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=hHgwzwVP37SD60fkNXCCmKYrRvQ%3D" alt="Druid æ•°æ®æ—¶é—´æˆ³" loading="lazy"/>
ä¸è¦è¿›è¡Œ RollUpï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4947ec0a0733417fbcd9a3348db174ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=mmcVxVKqHW5ym6ziriMAxR3dwDM%3D" alt="Druid ä¸è¿›è¡Œ Roll Up" loading="lazy"/>
æœ€ç»ˆç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4167f58fad5a4be7899084c5e8dcf2ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=rTXZx66y0mbEG55eKPYO6ttTvFk%3D" alt="Druid JSON æ•°æ®å±•ç¤º" loading="lazy"/>
è®¡ç®—ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a05bfed8a5641d49a86cd68bcf68290~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=qB20PHA5mShyr1LfPY1jlWEvEA0%3D" alt="Druid è®¡ç®—ç»“æœ" loading="lazy"/>
è¿è¡Œæµ‹è¯•çš„SQLï¼Œä¸€åˆ‡æ­£å¸¸ï¼
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05def1636abe4311a9de6200dfd3f5b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=5l9yJ7wXhplXUSHXSRzxnRmZZrM%3D" alt="Druid SQL è¿è¡Œç»“æœ" loading="lazy"/></p>
<h2 data-id="heading-8">æŸ¥è¯¢è®¡ç®—</h2>
<h3 data-id="heading-9">è®¢å•æ€»æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢è®¢å•æ€»æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">distinct</span> orderId) <span class="hljs-keyword">as</span> orderscount
<span class="hljs-keyword">FROM</span> druid2
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef56f55e67ef40be82ebf203223660f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=5E6ugYRl1nsB4MV5IiRnFLQ82yI%3D" alt="Druid SQL æ‰§è¡Œç•Œé¢" loading="lazy"/></p>
<h3 data-id="heading-10">ç”¨æˆ·æ€»æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢ç”¨æˆ·æ€»æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">distinct</span> userId) <span class="hljs-keyword">as</span> usercount
<span class="hljs-keyword">FROM</span> druid2
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eea20f1e6e36451dbe398ac53431449a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=EQ93CnjJAzevu2oDAaYMZpEW%2F4U%3D" alt="Druid æŸ¥è¯¢ç”¨æˆ·çš„æ€»æ•°" loading="lazy"/></p>
<h3 data-id="heading-11">ç»Ÿè®¡ç»“æœçŠ¶æ€è®¢å•æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç»Ÿè®¡å„ç§è®¢å•çŠ¶æ€çš„è®¢å•æ•°</span>
<span class="hljs-keyword">SELECT</span> orderStatus, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> orderId, orderStatus
  <span class="hljs-keyword">FROM</span> druid2
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, orderStatus
)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderStatus
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6636a79402cf4eafb0830139a326c7f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=Mp5VmRAHWx08tt%2Fi65I0ZHQDQTc%3D" alt="Druid è¿›è¡Œèšåˆçš„ç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-12">ç»Ÿè®¡å„ç§æ”¯ä»˜æ–¹å¼çš„è®¢å•æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç»Ÿè®¡å„ç§æ”¯ä»˜æ–¹å¼è®¢å•æ•°</span>
<span class="hljs-keyword">SELECT</span> payMode, <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> orderId, payMode
  <span class="hljs-keyword">FROM</span> druid2
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, payMode
)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> payMode
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8da696a6b254c88800c8fdd21460503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=jIT%2FPUa2LIGB7XGE3A1vKQ%2Bp9nI%3D" alt="Druid èšåˆç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-13">è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å</span>
<span class="hljs-keyword">SELECT</span> orderId, payment, <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> productcount, <span class="hljs-built_in">sum</span>("product.productNum") <span class="hljs-keyword">as</span> products
<span class="hljs-keyword">FROM</span> druid2
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, payment
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60cb3756a8244551a435aac14f9b778a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=CQ4j1xSrJTzv11pmynvJLV5G90A%3D" alt="Druid è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å" loading="lazy"/></p>
<h2 data-id="heading-14">æ¡ˆä¾‹å°èŠ‚</h2>
<ul>
<li>åœ¨é…ç½®æ‘„å…¥æºæ—¶è¦è®¾ç½®ä¸ºTrueä»æµçš„å¼€å§‹è¿›è¡Œæ¶ˆè´¹æ•°æ®ï¼Œå¦åˆ™åœ¨æ•°æ®æºä¸­å¯èƒ½æŸ¥ä¸åˆ°æ•°æ®</li>
<li>Druidçš„JOINèƒ½åŠ›éå¸¸æœ‰é™ï¼Œåˆ†ç»„æˆ–è€…èšåˆå¤šçš„åœºæ™¯æ¨èä½¿ç”¨</li>
<li>SQLæ”¯æŒèƒ½åŠ›éå¸¸å—é™</li>
<li>æ•°æ®çš„åˆ†åŒºç»„ç»‡åªæœ‰æ—¶é—´åºåˆ—ä¸€ç§æ–¹å¼</li>
</ul>
<h2 data-id="heading-15">é”™è¯¯é€ŸæŸ¥</h2>






































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>Druid è¡¨æ— æ•°æ®/å¾ˆå°‘æ¶ˆè´¹</td><td>ä½ç‚¹ä» latest å¼€å§‹ï¼Œå†å²æœªæ‰«</td><td>æŸ¥ä»»åŠ¡æ—¥å¿—ä¸ Kafka Lagï¼›åœ¨ ingestion spec è®¾ useEarliestOffset: true æˆ–ç­‰ä»·å‚æ•°ï¼Œé‡è·‘ä»»åŠ¡</td></tr><tr><td>æ—¶é—´ç­›é€‰æŸ¥ä¸åˆ°æ•°æ®</td><td>ts å•ä½/æ—¶åŒºä¸ç¬¦</td><td>SELECT __time FROM ... LIMIT 10ï¼›æ ¡æ­£ timestampSpecï¼ˆæ ¼å¼/æ—¶åŒº/å•ä½ï¼‰ï¼Œç¡®ä¿ tsâ†’__time æ­£ç¡®</td></tr><tr><td>æ•°å€¼åˆ—è¢«å½“ä½œå­—ç¬¦ä¸²</td><td>JSON å­—æ®µç±»å‹ä¸ä¸€è‡´</td><td>æŸ¥è¯¢ EXPLAIN/æ ·ä¾‹è¡Œï¼›åœ¨é¢„å¤„ç†ç»Ÿä¸€ç±»å‹ï¼›æˆ– Druid schema ä¸­è®¾æ­£ç¡®ç±»å‹å¹¶åŠ è½¬æ¢</td></tr><tr><td>è®¡æ•°ç»“æœå¼‚å¸¸</td><td>å¯ç”¨/è¯¯ç”¨ Rollup æˆ–é‡å¤å±•å¼€</td><td>æŸ¥ ingestionSpec ä¸æ ·ä¾‹æ˜ç»†ï¼›åˆ†æå…³ Rollupï¼›æ•°ç»„å±•å¼€ä»…ä¸€å¤„è¿›è¡Œï¼Œé¿å…é‡å¤</td></tr><tr><td>è®¢å•æ•°ä¸è¡Œæ•°ä¸ç­‰</td><td>æ¯ä¸ª product æ‹†è¡Œå¯¼è‡´é‡å¤ orderId</td><td>COUNT(DISTINCT orderId)ï¼›è§£é‡Šå£å¾„å·®å¼‚ï¼›ç»´åº¦å£å¾„ç”¨ distinct/order ç²’åº¦å­æŸ¥è¯¢</td></tr><tr><td>æ‘„å–ä»»åŠ¡å¡ä½ PENDING</td><td>MiddleManager/Indexer èµ„æºæ§½ä¸è¶³</td><td>Overlord UI/ä»»åŠ¡æ—¥å¿—ï¼›æ‰©å®¹ task slots æˆ–é™ä½å¹¶å‘ï¼›æ£€æŸ¥ YARN/K8s èµ„æº</td></tr><tr><td>Kafka Lag ä¸æ–­å‡é«˜</td><td>ä»»åŠ¡å¹¶å‘ &lt; åˆ†åŒºæ•° / å•æ¡å¤ªå¤§</td><td>Kafka åˆ†åŒºä¸ä»»åŠ¡å¹¶å‘å¯¹æ¯”ï¼›ä»»åŠ¡æ•°â‰¥åˆ†åŒºæ•°ï¼›è°ƒå¤§ maxRowsInMemory/æ‰¹é‡ä¸å‹ç¼©</td></tr><tr><td>æŸ¥è¯¢è¶…æ—¶</td><td>Segment è¿‡ç¢/å†å²èŠ‚ç‚¹å‹åŠ›å¤§</td><td>Broker/Historical æŒ‡æ ‡ï¼›è°ƒæ•´ segmentGranularityã€åˆå¹¶æ®µã€åŠ ç¼“å­˜ä¸å¹¶è¡Œåº¦/æ‰©å®¹</td></tr><tr><td>æ—¶é—´åˆ—ä¸ºç©ºæˆ–å…¨ 1970</td><td>æ—¶é—´è§£æå¤±è´¥</td><td>ä»»åŠ¡æ—¥å¿—ä¸­ timestamp é”™è¯¯ï¼›ä¿®æ­£æ—¶é—´æ ¼å¼æˆ–å•ä½ï¼ˆms/ç§’ï¼‰ï¼›å¿…è¦æ—¶é¢„å¤„ç†è½¬æ ‡å‡† ISO8601</td></tr><tr><td>ç»´åº¦è¿‡å¤šå¯¼è‡´æ…¢</td><td>é«˜åŸºæ•°ç»´åº¦æœªä¼˜åŒ–</td><td>CARDINALITY æŒ‡æ ‡ï¼›ä¸ºé«˜åŸºæ•°ç»´åº¦å¯ç”¨ç´¢å¼•/å­—å…¸å‹ç¼©ï¼›å¿…è¦æ—¶ä¸‹æ¨åˆ°ç¦»çº¿å±‚</td></tr><tr><td>SQL æŠ¥å¤šå€¼èšåˆé”™è¯¯</td><td>å¤šå€¼åˆ—ç”¨ä¸æ”¯æŒçš„èšåˆ</td><td>æŠ¥é”™å †æ ˆï¼›ä½¿ç”¨ array_length/UNNEST/åˆé€‚èšåˆï¼Œæˆ–é¢„å¤„ç†æˆå•å€¼</td></tr><tr><td>ä»»åŠ¡é¢‘ç¹é‡å¯</td><td>Offsets æäº¤/ç»„ ID é…ç½®ä¸å½“</td><td>Kafka æ¶ˆè´¹ç»„æ—¥å¿—ï¼›å›ºå®š consumerProperties ä¸ç»„ IDï¼›å¯ç”¨ç¨³å®šçš„æäº¤ç­–ç•¥</td></tr></tbody></table>
<h2 data-id="heading-16">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-17">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-127 Qwen2.5-Omni æ·±è§£ï¼šThinker-Talker åŒæ ¸ã€TMRoPE ä¸æµå¼è¯­éŸ³</strong>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12794137.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12794137.html" ref="nofollow noopener noreferrer">ğŸ”— AIæ¨¡å—ç›´è¾¾é“¾æ¥ </a></p>
<h3 data-id="heading-18">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-174 FastFDS ä»å•æœºåˆ°åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼šå®æˆ˜ä¸æ¶æ„å–èˆ</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS æ­£åœ¨æ›´æ–°ï¼Œæ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12833348.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12833348.html" ref="nofollow noopener noreferrer">ğŸ”— Javaæ¨¡å—ç›´è¾¾é“¾æ¥</a></p>
<h3 data-id="heading-19">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12713819.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12713819.html" ref="nofollow noopener noreferrer">ğŸ”— å¤§æ•°æ®æ¨¡å—ç›´è¾¾é“¾æ¥</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572997791452020774</link>    <guid>https://juejin.cn/post/7572997791452020774</guid>    <pubDate>2025-11-17T03:29:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791452020774" data-draft-id="7571729676344033343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Chrome"/> <meta itemprop="datePublished" content="2025-11-17T03:29:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡³ç®€ç®€"/> <meta itemprop="url" content="https://juejin.cn/user/4212984286819384"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984286819384/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡³ç®€ç®€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:29:00.000Z" title="Mon Nov 17 2025 03:29:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æµè§ˆå™¨æ‰©å±•</h2>
<p>æµè§ˆå™¨æ‰©å±•ï¼ˆBrowser Extensionï¼‰æ˜¯ä¸€ç§å¯ä»¥ä¿®æ”¹å’Œå¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„å°å‹è½¯ä»¶ç¨‹åºã€‚å®ƒä»¬ä½¿ç”¨ Web æŠ€æœ¯ï¼ˆHTMLã€CSSã€JavaScriptï¼‰å¼€å‘ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶æä¾›é¢å¤–åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">å…¸å‹åº”ç”¨åœºæ™¯</h3>








































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æŠ€æœ¯è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>å†…å®¹å¢å¼º</strong></td><td>å¹¿å‘Šæ‹¦æˆªå™¨ï¼ˆAdBlockï¼‰ã€è¯­æ³•æ£€æŸ¥ï¼ˆGrammarlyï¼‰</td><td>Content Scriptsã€DOM æ“ä½œ</td></tr><tr><td><strong>ç”Ÿäº§åŠ›å·¥å…·</strong></td><td>å¯†ç ç®¡ç†å™¨ã€ç¬”è®°å·¥å…·ã€æˆªå›¾å·¥å…·</td><td>Storage APIã€Context Menu</td></tr><tr><td><strong>æ•°æ®è·å–</strong></td><td>ä»·æ ¼è¿½è¸ªã€å¤©æ°”æŸ¥è¯¢ã€æ–°é—»è®¢é˜…</td><td>Fetch APIã€å®šæ—¶ä»»åŠ¡</td></tr><tr><td><strong>é¡µé¢ä¿®æ”¹</strong></td><td>æš—é»‘æ¨¡å¼ã€å­—ä½“æ›¿æ¢ã€æ ·å¼è°ƒæ•´</td><td>CSS æ³¨å…¥ã€åŠ¨æ€ DOM</td></tr><tr><td><strong>å¼€å‘å·¥å…·</strong></td><td>React DevToolsã€Vue DevTools</td><td>DevTools APIã€æ¶ˆæ¯ä¼ é€’</td></tr><tr><td><strong>æ ‡ç­¾ç®¡ç†</strong></td><td>OneTabã€Session Buddy</td><td>Tabs APIã€Bookmarks API</td></tr></tbody></table>
<h3 data-id="heading-2">æ‰©å±•çš„ä¼˜åŠ¿</h3>
<ul>
<li>âœ… <strong>ç›´æ¥è®¿é—®æµè§ˆå™¨ API</strong>ï¼šæ¯”ç½‘é¡µåº”ç”¨æœ‰æ›´å¼ºçš„èƒ½åŠ›</li>
<li>âœ… <strong>æ— éœ€æœåŠ¡å™¨</strong>ï¼šå¯ä»¥å®Œå…¨ç¦»çº¿è¿è¡Œ</li>
<li>âœ… <strong>è·¨é¡µé¢å·¥ä½œ</strong>ï¼šå¯ä»¥åœ¨æ‰€æœ‰æ ‡ç­¾é¡µä¸­ç”Ÿæ•ˆ</li>
<li>âœ… <strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šä½¿ç”¨æµè§ˆå™¨æä¾›çš„å­˜å‚¨ API</li>
<li>âœ… <strong>ç”¨æˆ·åŸºæ•°å¤§</strong>ï¼šChrome Web Store å’Œ Firefox Add-ons æœ‰åºå¤§ç”¨æˆ·ç¾¤</li>
</ul>
<h2 data-id="heading-3">æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-4">1. Manifest æ–‡ä»¶ï¼šæ‰©å±•çš„èº«ä»½è¯</h3>
<p>Manifest æ˜¯æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†æ‰©å±•çš„æ‰€æœ‰ä¿¡æ¯ã€æƒé™å’Œè¡Œä¸ºã€‚</p>
<p><strong>åŸºç¡€ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‚¹å‡»æ‰“å¼€"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Manifestä¸»è¦æœ‰v2å’Œv3ä¸¤ç§ï¼Œç°åœ¨ä»¥ v3 ä¸ºä¸»</p>
<p><strong>Manifest V2 vs V3 ä¸»è¦å·®å¼‚ï¼š</strong></p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Manifest V2</th><th>Manifest V3</th></tr></thead><tbody><tr><td>åå°è„šæœ¬</td><td><code>background.page</code> / <code>background.scripts</code></td><td><code>background.service_worker</code></td></tr><tr><td>ç½‘ç»œè¯·æ±‚</td><td><code>webRequest</code> APIï¼ˆåŒæ­¥é˜»å¡ï¼‰</td><td><code>declarativeNetRequest</code>ï¼ˆå£°æ˜å¼ï¼‰</td></tr><tr><td>ä»£ç æ‰§è¡Œ</td><td><code>executeScript</code></td><td><code>scripting.executeScript</code></td></tr><tr><td>è¿œç¨‹ä»£ç </td><td>å…è®¸</td><td>ç¦æ­¢ï¼ˆå¿…é¡»æ‰“åŒ…åœ¨æ‰©å±•å†…ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>ä¸€èˆ¬</td><td>æ›´å¼ºï¼ˆCSP æ›´ä¸¥æ ¼ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">2. äº”å¤§æ ¸å¿ƒç»„ä»¶è¯¦è§£</h3>
<h4 data-id="heading-6">ç»„ä»¶æ¶æ„å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca126b36fd614f3fb5946616794b929a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iez566A566A:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954940&amp;x-signature=GYU%2FazDjFUfHAOAho8DxpNq7uOA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>Background Script (åå°è„šæœ¬):</strong> Â æ‰©å±•çš„æ ¸å¿ƒï¼ŒæŒç»­è¿è¡Œåœ¨åå°ï¼Œå¤„ç†äº‹ä»¶å’Œåè°ƒå…¶ä»–ç»„ä»¶</li>
<li><strong>Popup (å¼¹çª—UI):</strong> Â ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶æ˜¾ç¤ºçš„ç•Œé¢</li>
<li><strong>Content Script (å†…å®¹è„šæœ¬):</strong> Â æ³¨å…¥åˆ°ç½‘é¡µä¸­çš„è„šæœ¬ï¼Œå¯ä»¥è®¿é—®å’Œä¿®æ”¹é¡µé¢DOM</li>
<li><strong>Options Page (é€‰é¡¹é¡µé¢):</strong> Â æ‰©å±•çš„è®¾ç½®é¡µé¢ï¼Œç”¨äºé…ç½®é€‰é¡¹</li>
<li><strong>Web Page DOM:</strong> Â å®é™…ç½‘é¡µçš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ŒContent Scriptå¯ä»¥ç›´æ¥æ“ä½œ</li>
</ul>
<h4 data-id="heading-7">ç»„ä»¶å¯¹æ¯”è¡¨</h4>





















































<table><thead><tr><th>ç»„ä»¶</th><th>è¿è¡Œç¯å¢ƒ</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>èƒ½è®¿é—® DOM</th><th>èƒ½ä½¿ç”¨ Chrome API</th><th>é€šä¿¡æ–¹å¼</th></tr></thead><tbody><tr><td><strong>Background</strong></td><td>ç‹¬ç«‹ä¸Šä¸‹æ–‡</td><td>é•¿æœŸ/äº‹ä»¶è§¦å‘</td><td>âŒ</td><td>âœ… å…¨éƒ¨</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Content Script</strong></td><td>ç½‘é¡µä¸Šä¸‹æ–‡</td><td>éšé¡µé¢åŠ è½½</td><td>âœ… é¡µé¢ DOM</td><td>âš ï¸ éƒ¨åˆ†</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Popup</strong></td><td>ç‹¬ç«‹çª—å£</td><td>å¼¹çª—æ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>Options</strong></td><td>ç‹¬ç«‹é¡µé¢</td><td>è®¾ç½®é¡µæ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>DevTools</strong></td><td>DevTools é¢æ¿</td><td>DevTools æ‰“å¼€æ—¶</td><td>âš ï¸ é€šè¿‡ inspectedWindow</td><td>âœ… éƒ¨åˆ†</td><td><code>runtime.connect</code></td></tr></tbody></table>
<h3 data-id="heading-8">3. æƒé™ç³»ç»Ÿ</h3>
<h4 data-id="heading-9">æƒé™ç±»å‹</h4>
<p><strong>åŸºæœ¬æƒé™ï¼ˆpermissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ä½¿ç”¨ chrome.storage API</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// è®¿é—®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ</span>
    <span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// è®¿é—®æ ‡ç­¾é¡µä¿¡æ¯ï¼ˆURLã€æ ‡é¢˜ç­‰ï¼‰</span>
    <span class="hljs-string">"notifications"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥</span>
    <span class="hljs-string">"alarms"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å®šæ—¶ä»»åŠ¡</span>
    <span class="hljs-string">"contextMenus"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å³é”®èœå•</span>
    <span class="hljs-string">"cookies"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// è®¿é—® Cookie</span>
    <span class="hljs-string">"downloads"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¸‹è½½</span>
    <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¹¦ç­¾</span>
    <span class="hljs-string">"history"</span>        <span class="hljs-comment">// è®¿é—®å†å²è®°å½•</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ä¸»æœºæƒé™ï¼ˆhost_permissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ç‰¹å®šåŸŸå</span>
    <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span>                 <span class="hljs-comment">// æ‰€æœ‰ HTTPS ç½‘ç«™</span>
    <span class="hljs-string">"&lt;all_urls&gt;"</span>                   <span class="hljs-comment">// æ‰€æœ‰ç½‘ç«™ï¼ˆéœ€è°¨æ…ï¼‰</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-10">æƒé™æœ€å°åŒ–åŸåˆ™</h4>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šåªè¯·æ±‚å¿…è¦çš„æƒé™ï¼Œè¿‡å¤šæƒé™ä¼šï¼š</p>
<ul>
<li>é™ä½ç”¨æˆ·ä¿¡ä»»åº¦</li>
<li>å¢åŠ å®¡æ ¸éš¾åº¦</li>
<li>å½±å“å•†åº—æ’å</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šè¯·æ±‚äº†ä¸å¿…è¦çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"history"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… å¥½ï¼šåªè¯·æ±‚å®é™…ä½¿ç”¨çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-11">é¡¹ç›®æ¶æ„ä¸æŠ€æœ¯æ ˆ</h2>
<h3 data-id="heading-12">æŠ€æœ¯é€‰å‹</h3>
<p>ç¬”è€…æ¨èç›´æ¥ä½¿ç”¨ç°æˆçš„å¼€å‘æ¨¡æ¿ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJohnBra%2Fvite-web-extension" target="_blank" title="https://github.com/JohnBra/vite-web-extension" ref="nofollow noopener noreferrer">github.com/JohnBra/vitâ€¦</a></p>
<h2 data-id="heading-13">ä»¥ vite-web-extension æ¨¡æ¿å¼€å‘çš„æ¯æ—¥é‡‘ä»·å°ä¾‹å­</h2>
<h3 data-id="heading-14">1. å‰ç½®è¦æ±‚</h3>
<ul>
<li><strong>Node.js</strong>: &gt;= 16.xï¼ˆæ¨è 18.x æˆ– 20.xï¼‰</li>
<li><strong>åŒ…ç®¡ç†å™¨</strong>: npm / yarn / pnpmï¼ˆæ¨è pnpmï¼‰</li>
<li><strong>æµè§ˆå™¨</strong>: Chrome æˆ– Firefox æœ€æ–°ç‰ˆ</li>
</ul>
<p>æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --version   <span class="hljs-comment"># v20.x.x</span>
npm --version    <span class="hljs-comment"># 10.x.x</span>
</code></pre>
<h3 data-id="heading-15">2. é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®æˆ–ä½¿ç”¨æ¨¡æ¿</span>
git <span class="hljs-built_in">clone</span> https://github.com/JohnBra/vite-web-extension

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># æˆ–ä½¿ç”¨ npm</span>
npm install
</code></pre>
<h3 data-id="heading-16">3. å¼€å‘æ¨¡å¼å¯åŠ¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome å¼€å‘æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</span>
pnpm dev
<span class="hljs-comment"># æˆ–</span>
pnpm dev:chrome

<span class="hljs-comment"># Firefox å¼€å‘æ¨¡å¼</span>
pnpm dev:firefox
</code></pre>
<p><strong>å¼€å‘æ¨¡å¼ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>âœ… è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–</li>
<li>âœ… çƒ­é‡è½½ï¼ˆnodemon è‡ªåŠ¨é‡æ–°æ„å»ºï¼‰</li>
<li>âœ… Source Map æ”¯æŒ</li>
<li>âœ… å¼€å‘ç¯å¢ƒä¸“ç”¨å›¾æ ‡</li>
<li>âœ… è¯¦ç»†çš„é”™è¯¯æ—¥å¿—</li>
</ul>
<h3 data-id="heading-17">4. åŠ è½½æ‰©å±•åˆ°æµè§ˆå™¨</h3>
<h4 data-id="heading-18">Chrome / Edge</h4>
<ol>
<li>
<p>æ‰“å¼€æ‰©å±•ç®¡ç†é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>chrome://extensions</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šæ›´å¤šå·¥å…· â†’ æ‰©å±•ç¨‹åº</li>
</ul>
</li>
<li>
<p>å¼€å¯<strong>å¼€å‘è€…æ¨¡å¼</strong>ï¼ˆå³ä¸Šè§’å¼€å…³ï¼‰</p>
</li>
<li>
<p>ç‚¹å‡» <strong>"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</strong></p>
</li>
<li>
<p>é€‰æ‹©é¡¹ç›®çš„ <code>dist_chrome</code> æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°å¼€å‘ç‰ˆå›¾æ ‡</p>
</li>
</ol>
<p><strong>å¸¸è§é—®é¢˜ï¼š</strong></p>
<ul>
<li>âš ï¸ å¦‚æœä¿®æ”¹äº† Manifestï¼Œéœ€è¦ç‚¹å‡»åˆ·æ–°æŒ‰é’®</li>
<li>âš ï¸ Content Script ä¿®æ”¹åï¼Œéœ€è¦åˆ·æ–°ç›®æ ‡ç½‘é¡µ</li>
<li>âš ï¸ Popup å’Œ Options é¡µé¢å¯ä»¥ç›´æ¥åˆ·æ–°</li>
</ul>
<h4 data-id="heading-19">Firefox</h4>
<ol>
<li>
<p>æ‰“å¼€è°ƒè¯•é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>about:debugging#/runtime/this-firefox</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šé™„åŠ ç»„ä»¶å’Œä¸»é¢˜ â†’ ç®¡ç†æ‰©å±• â†’ è°ƒè¯•é™„åŠ ç»„ä»¶</li>
</ul>
</li>
<li>
<p>ç‚¹å‡» <strong>"ä¸´æ—¶è½½å…¥é™„åŠ ç»„ä»¶"</strong></p>
</li>
<li>
<p>é€‰æ‹© <code>dist_firefox</code> æ–‡ä»¶å¤¹ä¸­çš„ <code>manifest.json</code> æ–‡ä»¶</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸ</p>
</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>âš ï¸ Firefox çš„ä¸´æ—¶æ‰©å±•åœ¨æµè§ˆå™¨å…³é—­åä¼šè¢«å¸è½½</li>
<li>âš ï¸ æ¯æ¬¡é‡å¯æµè§ˆå™¨éœ€è¦é‡æ–°åŠ è½½</li>
</ul>
<h3 data-id="heading-20">5. éªŒè¯å®‰è£…</h3>
<p>åŠ è½½æ‰©å±•åï¼ŒéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ‰“å¼€ Popup</span>
<span class="hljs-comment">//    ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œåº”è¯¥çœ‹åˆ°é»„é‡‘ä»·æ ¼æŸ¥è¯¢ç•Œé¢</span>

<span class="hljs-comment">// 2. æŸ¥çœ‹ Background Script æ—¥å¿—</span>
<span class="hljs-comment">//    åœ¨æ‰©å±•ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»"service worker"æˆ–"èƒŒæ™¯é¡µ"</span>
<span class="hljs-comment">//    æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š'background script loaded'</span>

<span class="hljs-comment">// 3. æŸ¥çœ‹ Content Script</span>
<span class="hljs-comment">//    è®¿é—®ä»»æ„ç½‘ç«™ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·</span>
<span class="hljs-comment">//    åº”è¯¥çœ‹åˆ°é¡µé¢å·¦ä¸‹è§’æœ‰é»„è‰²æç¤ºï¼š"content script loaded"</span>

<span class="hljs-comment">// 4. æ‰“å¼€ Options é¡µé¢</span>
<span class="hljs-comment">//    å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡ â†’ é€‰é¡¹</span>
<span class="hljs-comment">//    åº”è¯¥æ˜¾ç¤ºè®¾ç½®é¡µé¢</span>
</code></pre>
<hr/>
<h2 data-id="heading-21">Manifest é…ç½®è¯¦è§£</h2>
<h3 data-id="heading-22">å®Œæ•´é…ç½®æ–‡ä»¶</h3>
<p>æœ¬é¡¹ç›®çš„ <code>manifest.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/popup/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æŸ¥çœ‹é»„é‡‘ä»·æ ¼"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"background"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"service_worker"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/background/index.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"http://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/pages/content/index.tsx"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"activeTab"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://chatbot-be-omega.vercel.app/*"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"options_ui"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/options/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"open_in_tab"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"chrome_url_overrides"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"newtab"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/newtab/index.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"devtools_page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/devtools/index.html"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-128.png"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-32.png"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-23">å­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-24">åŸºç¡€ä¿¡æ¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å¿…é¡»æ˜¯ 3ï¼ˆæ–°ç‰ˆï¼‰</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•åç§°"</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// æœ€å¤š 45 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•æè¿°"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// æœ€å¤š 132 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½œè€…å"</span>            <span class="hljs-comment">// å¯é€‰</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">å›¾æ ‡é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•é¡µé¢çš„ favicon</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•ç®¡ç†é¡µé¢</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>     <span class="hljs-comment">// å®‰è£…å’Œ Chrome Web Store</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å›¾æ ‡è®¾è®¡å»ºè®®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ç®€æ´ã€å¯è¯†åˆ«çš„è®¾è®¡</li>
<li>PNG æ ¼å¼ï¼Œé€æ˜èƒŒæ™¯</li>
<li>ä¸åŒå°ºå¯¸ä¿æŒä¸€è‡´æ€§</li>
<li>é¿å…æ–‡å­—ï¼ˆå¤ªå°çœ‹ä¸æ¸…ï¼‰</li>
</ul>
<h4 data-id="heading-26">Actionï¼ˆå·¥å…·æ å›¾æ ‡ï¼‰</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ç‚¹å‡»å›¾æ ‡æ‰“å¼€çš„é¡µé¢</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¼ æ ‡æ‚¬åœæç¤ºæ–‡å­—"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>åŠ¨æ€ä¿®æ”¹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿®æ”¹å›¾æ ‡</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setIcon</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">"new-icon.png"</span> });

<span class="hljs-comment">// ä¿®æ”¹æ ‡é¢˜</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setTitle</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">"æ–°æ ‡é¢˜"</span> });

<span class="hljs-comment">// ä¿®æ”¹å¾½ç« </span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"99+"</span> });
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeBackgroundColor</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">"#FF0000"</span> });
</code></pre>
<h4 data-id="heading-27">Content Scripts é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://www.example.com/*"</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// åŒ¹é…æ¨¡å¼</span>
        <span class="hljs-string">"https://*.google.com/*"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.js"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>             <span class="hljs-comment">// JavaScript æ–‡ä»¶</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// CSS æ–‡ä»¶</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// æ³¨å…¥æ—¶æœº</span>
      <span class="hljs-attr">"all_frames"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>              <span class="hljs-comment">// æ˜¯å¦æ³¨å…¥åˆ° iframe</span>
      <span class="hljs-attr">"match_about_blank"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>        <span class="hljs-comment">// æ˜¯å¦åŒ¹é… about:blank</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>run_at é€‰é¡¹ï¼š</strong></p>
<ul>
<li><code>document_start</code>: DOM æ„å»ºä¹‹å‰ï¼ˆæœ€æ—©ï¼‰</li>
<li><code>document_end</code>: DOM æ„å»ºå®Œæˆå</li>
<li><code>document_idle</code>: é¡µé¢ç©ºé—²æ—¶ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰</li>
</ul>
<h4 data-id="heading-28">Web Accessible Resources</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"images/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"styles.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://example.com/*"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç”¨é€”ï¼š</strong> å…è®¸ç½‘é¡µè®¿é—®æ‰©å±•å†…çš„èµ„æºæ–‡ä»¶</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ Content Script ä¸­ä½¿ç”¨æ‰©å±•èµ„æº</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/logo.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
img.<span class="hljs-property">src</span> = imageUrl;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(img);
</code></pre>
<hr/>
<h2 data-id="heading-29">æ ¸å¿ƒç»„ä»¶å¼€å‘å®è·µ</h2>
<h3 data-id="heading-30">1. Background Scriptï¼ˆåå°è„šæœ¬ï¼‰</h3>
<p>Background Script æ˜¯æ‰©å±•çš„"å¤§è„‘"ï¼Œè´Ÿè´£å¤„ç†äº‹ä»¶ã€ç®¡ç†çŠ¶æ€ã€åè°ƒå„ç»„ä»¶ã€‚</p>
<h4 data-id="heading-31">Manifest V3 çš„å˜åŒ–</h4>
<p>åœ¨ Manifest V3 ä¸­ï¼ŒBackground Page è¢« <strong>Service Worker</strong> å–ä»£ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Background Page (V2)</th><th>Service Worker (V3)</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>æŒç»­è¿è¡Œ</td><td>äº‹ä»¶é©±åŠ¨ï¼Œç©ºé—²æ—¶ä¼‘çœ </td></tr><tr><td>DOM è®¿é—®</td><td>æœ‰ DOM</td><td>æ—  DOM</td></tr><tr><td>å®šæ—¶å™¨</td><td>setTimeout/setInterval</td><td>chrome.alarms API</td></tr><tr><td>å­˜å‚¨</td><td>å˜é‡æŒä¹…åŒ–</td><td>éœ€è¦ä½¿ç”¨ chrome.storage</td></tr></tbody></table>
<h4 data-id="heading-32">åŸºç¡€ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/background/index.ts</span>

<span class="hljs-comment">// ç›‘å¬æ‰©å±•å®‰è£…æˆ–æ›´æ–°</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">details</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'install'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•é¦–æ¬¡å®‰è£…'</span>);
    <span class="hljs-comment">// åˆå§‹åŒ–é»˜è®¤è®¾ç½®</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">settings</span>: {
        <span class="hljs-attr">refreshInterval</span>: <span class="hljs-number">30</span>,
        <span class="hljs-attr">notifications</span>: <span class="hljs-literal">true</span>
      }
    });
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'update'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•å·²æ›´æ–°åˆ°'</span>, chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getManifest</span>().<span class="hljs-property">version</span>);
  }
});

<span class="hljs-comment">// ç›‘å¬æ¥è‡ªå…¶ä»–ç»„ä»¶çš„æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ª:'</span>, sender.<span class="hljs-property">tab</span> ? <span class="hljs-string">`æ ‡ç­¾é¡µ <span class="hljs-subst">${sender.tab.id}</span>`</span> : <span class="hljs-string">'æ‰©å±•é¡µé¢'</span>);
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'getGoldPrice'</span>) {
    <span class="hljs-comment">// å¼‚æ­¥å¤„ç†</span>
    <span class="hljs-title function_">fetchGoldPrice</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, data });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'openOptionsPage'</span>) {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openOptionsPage</span>();
  }
});

<span class="hljs-comment">// ç›‘å¬æ ‡ç­¾é¡µæ›´æ–°</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-property">onUpdated</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">tabId, changeInfo, tab</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changeInfo.<span class="hljs-property">status</span> === <span class="hljs-string">'complete'</span> &amp;&amp; tab.<span class="hljs-property">url</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¡µé¢åŠ è½½å®Œæˆ:'</span>, tab.<span class="hljs-property">url</span>);
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ³¨å…¥ Content Script æˆ–æ‰§è¡Œå…¶ä»–æ“ä½œ</span>
  }
});

<span class="hljs-comment">// ä½¿ç”¨ Alarms API å®ç°å®šæ—¶ä»»åŠ¡</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'fetchGoldPrice'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>  <span class="hljs-comment">// æ¯ 30 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'fetchGoldPrice'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶è·å–é»„é‡‘ä»·æ ¼'</span>);
    <span class="hljs-title function_">fetchGoldPrice</span>();
  }
});

<span class="hljs-comment">// æ•°æ®è·å–å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchGoldPrice</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/gold-price'</span>);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    
    <span class="hljs-comment">// ä¿å­˜åˆ° storage</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: data });
    
    <span class="hljs-comment">// æ›´æ–°å¾½ç« </span>
    chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ 
      <span class="hljs-attr">text</span>: data.<span class="hljs-property">price</span>.<span class="hljs-title function_">toString</span>() 
    });
    
    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ•°æ®å¤±è´¥:'</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
}
</code></pre>
<h4 data-id="heading-33">é«˜çº§ç”¨æ³•ï¼šé•¿è¿æ¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å»ºç«‹è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯</span>
    port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">response</span>: <span class="hljs-string">'processed'</span> });
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>);
  });
});

<span class="hljs-comment">// Popup æˆ– Content Script</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'my-channel'</span> });
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span> });
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¨é€:'</span>, message);
});
</code></pre>
<h3 data-id="heading-34">2. Content Scriptï¼ˆå†…å®¹è„šæœ¬ï¼‰</h3>
<p>Content Script è¿è¡Œåœ¨ç½‘é¡µä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥è¯»å–å’Œä¿®æ”¹é¡µé¢ DOMï¼Œä½†æœ‰ç‹¬ç«‹çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚</p>
<h4 data-id="heading-35">ç‰¹æ€§ä¸é™åˆ¶</h4>
<p><strong>å¯ä»¥åšï¼š</strong></p>
<ul>
<li>âœ… è®¿é—®å’Œä¿®æ”¹é¡µé¢ DOM</li>
<li>âœ… ç›‘å¬é¡µé¢äº‹ä»¶</li>
<li>âœ… ä½¿ç”¨éƒ¨åˆ† Chrome APIï¼ˆruntimeã€storageã€i18n ç­‰ï¼‰</li>
<li>âœ… ä¸ Background Script é€šä¿¡</li>
</ul>
<p><strong>ä¸èƒ½åšï¼š</strong></p>
<ul>
<li>âŒ è®¿é—®é¡µé¢çš„ JavaScript å˜é‡å’Œå‡½æ•°</li>
<li>âŒ ä½¿ç”¨å¤§éƒ¨åˆ† Chrome APIï¼ˆtabsã€windowsã€bookmarks ç­‰ï¼‰</li>
<li>âŒ è·¨åŸŸè¯·æ±‚ï¼ˆéœ€è¦é€šè¿‡ Backgroundï¼‰</li>
</ul>
<h4 data-id="heading-36">React é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/content/index.tsx</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>;

<span class="hljs-comment">// åˆ›å»ºå®¹å™¨</span>
<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
container.<span class="hljs-property">id</span> = <span class="hljs-string">'gold-price-extension-root'</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(container);

<span class="hljs-comment">// React ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoldPriceWidget</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [price, setPrice] = useState&lt;<span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [visible, setVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ä» storage è·å–ä»·æ ¼</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPrice'</span>], <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(result.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">price</span>);
      }
    });
    
    <span class="hljs-comment">// ç›‘å¬ storage å˜åŒ–</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>.<span class="hljs-property">price</span>);
      }
    });
  }, []);
  
  <span class="hljs-keyword">if</span> (!visible) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-toggle"</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setVisible(true)}
      &gt;
        ğŸ’°
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    );
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-widget"</span>&gt;</span>
                // ã€‚ã€‚ã€‚
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(container);
root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoldPriceWidget</span> /&gt;</span></span>);

<span class="hljs-comment">// ç›‘å¬é¡µé¢ DOM å˜åŒ–</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
  mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">mutation</span>) =&gt;</span> {
    <span class="hljs-comment">// æ£€æµ‹ç‰¹å®šå…ƒç´ å¹¶è¿›è¡Œå¤„ç†</span>
    <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> === <span class="hljs-string">'childList'</span>) {
      <span class="hljs-keyword">const</span> targetElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.target-class'</span>);
      <span class="hljs-keyword">if</span> (targetElement) {
        <span class="hljs-comment">// åœ¨ç›®æ ‡å…ƒç´ ä¸Šæ·»åŠ åŠŸèƒ½</span>
        <span class="hljs-title function_">addCustomFeature</span>(targetElement);
      }
    }
  });
});

observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, {
  <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// è‡ªå®šä¹‰åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addCustomFeature</span>(<span class="hljs-params">element: Element</span>) {
  <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
  button.<span class="hljs-property">textContent</span> = <span class="hljs-string">'æŸ¥çœ‹é‡‘ä»·'</span>;
  button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'openPopup'</span> });
  });
  element.<span class="hljs-title function_">appendChild</span>(button);
}
</code></pre>
<h4 data-id="heading-37">CSS éš”ç¦»</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/pages/content/style.css */</span>

<span class="hljs-comment">/* ä½¿ç”¨å”¯ä¸€çš„ç±»åå‰ç¼€ï¼Œé¿å…ä¸é¡µé¢æ ·å¼å†²çª */</span>
<span class="hljs-selector-class">.gold-price-extension-root</span> {
  <span class="hljs-attribute">all</span>: initial; <span class="hljs-comment">/* é‡ç½®æ‰€æœ‰æ ·å¼ */</span>
  <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, sans-serif;
}

<span class="hljs-selector-class">.gold-price-widget</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.15</span>);
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999999</span>; <span class="hljs-comment">/* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
}

<span class="hljs-comment">/* ä½¿ç”¨ CSS-in-JS ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹© */</span>
</code></pre>
<h4 data-id="heading-38">ä¸é¡µé¢è„šæœ¬é€šä¿¡</h4>
<p>Content Script å’Œé¡µé¢è„šæœ¬è¿è¡Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œéœ€è¦é€šè¿‡ <code>window.postMessage</code> é€šä¿¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script â†’ é¡µé¢</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'FROM_EXTENSION'</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
}, <span class="hljs-string">'*'</span>);

<span class="hljs-comment">// é¡µé¢ â†’ Content Script</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">source</span> !== <span class="hljs-variable language_">window</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'FROM_PAGE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
    
    <span class="hljs-comment">// è½¬å‘åˆ° Background</span>
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(event.<span class="hljs-property">data</span>);
  }
});
</code></pre>
<h3 data-id="heading-39">3. Popupï¼ˆå¼¹çª—é¡µé¢ï¼‰</h3>
<p>Popup æ˜¯ç”¨æˆ·ä¸æ‰©å±•äº¤äº’çš„ä¸»è¦ç•Œé¢ï¼Œç‚¹å‡»å·¥å…·æ å›¾æ ‡æ—¶å¼¹å‡ºã€‚</p>
<h4 data-id="heading-40">ç‰¹ç‚¹</h4>
<ul>
<li>â±ï¸ <strong>ä¸´æ—¶æ€§</strong>ï¼šå…³é—­åé¡µé¢å’ŒçŠ¶æ€ä¼šè¢«é”€æ¯</li>
<li>ğŸ“ <strong>å°ºå¯¸é™åˆ¶</strong>ï¼šæœ€å° 25x25pxï¼Œæœ€å¤§ 800x600px</li>
<li>âš¡ <strong>å¿«é€ŸåŠ è½½</strong>ï¼šåº”è¯¥åœ¨ 1 ç§’å†…å®Œæˆåˆå§‹åŒ–</li>
</ul>
<h4 data-id="heading-41">å®Œæ•´ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/Popup.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GoldPriceData</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;
<span class="hljs-keyword">import</span> { fetchGoldPriceData, refreshGoldPriceData } <span class="hljs-keyword">from</span> <span class="hljs-string">"./services/goldPriceService"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/JewelryCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/BankCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LoadingSpinner</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/LoadingSpinner"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Popup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [data, setData] = useState&lt;<span class="hljs-title class_">GoldPriceData</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [refreshing, setRefreshing] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [activeTab, setActiveTab] = useState&lt;<span class="hljs-string">"jewelry"</span> | <span class="hljs-string">"bank"</span>&gt;(<span class="hljs-string">"jewelry"</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">loadData</span>();
  }, []);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRefresh</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">refreshGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åˆ·æ–°æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] flex items-center justify-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LoadingSpinner</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 flex flex-col"</span>&gt;</span>
      {/* å¤´éƒ¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/60 backdrop-blur-md shadow-sm px-4 py-3 flex items-center justify-between"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold"</span>&gt;</span>æ¯æ—¥é‡‘ä»·<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleRefresh}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{refreshing}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"p-1.5 rounded-full hover:bg-amber-100/50 transition-colors"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">RefreshIcon</span> <span class="hljs-attr">spinning</span>=<span class="hljs-string">{refreshing}</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

      {/* æ ‡ç­¾åˆ‡æ¢ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex border-b border-amber-100"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("jewelry")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "jewelry" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é‡‘é¥°å“
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("bank")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "bank" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é“¶è¡Œé‡‘æ¡
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* å†…å®¹åŒºåŸŸ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex-1 overflow-y-auto p-3"</span>&gt;</span>
        {activeTab === "jewelry" ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"grid grid-cols-2 gap-2"</span>&gt;</span>
            {data?.jewelryBrands.map((brand) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">JewelryCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{brand.id}</span> <span class="hljs-attr">brand</span>=<span class="hljs-string">{brand}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-2"</span>&gt;</span>
            {data?.bankGoldBars.map((bank) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">BankCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{bank.id}</span> <span class="hljs-attr">bank</span>=<span class="hljs-string">{bank}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* åº•éƒ¨ä¿¡æ¯ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 text-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500"</span>&gt;</span>æ›´æ–°æ—¶é—´: {data?.lastUpdate}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>Popup è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>å•ä¸€ç›®æ ‡</strong>ï¼šæ¯ä¸ª Popup åº”è¯¥æœ‰æ˜ç¡®çš„ç”¨é€”</li>
<li>âš¡ <strong>å¿«é€Ÿå“åº”</strong>ï¼šä¼˜å…ˆæ˜¾ç¤ºç¼“å­˜æ•°æ®ï¼Œåå°åˆ·æ–°</li>
<li>ğŸ“± <strong>ç®€æ´ UI</strong>ï¼šç©ºé—´æœ‰é™ï¼Œé¿å…å¤æ‚äº¤äº’</li>
<li>ğŸ’¾ <strong>çŠ¶æ€ç®¡ç†</strong>ï¼šä½¿ç”¨ <code>chrome.storage</code> æŒä¹…åŒ–é‡è¦çŠ¶æ€</li>
</ul>
<hr/>
<h2 data-id="heading-42">ç»„ä»¶é—´é€šä¿¡æœºåˆ¶</h2>
<p>æµè§ˆå™¨æ‰©å±•çš„å„ä¸ªç»„ä»¶ä¹‹é—´éœ€è¦é¢‘ç¹é€šä¿¡ï¼ŒChrome æä¾›äº†å¤šç§é€šä¿¡æ–¹å¼ã€‚</p>
<h3 data-id="heading-43">1. ä¸€æ¬¡æ€§æ¶ˆæ¯ä¼ é€’</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼</p>
<h4 data-id="heading-44">Content Script â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>, <span class="hljs-attr">item</span>: <span class="hljs-string">'gold'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼:'</span>, response.<span class="hljs-property">data</span>);
    }
  }
);

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'getPrice'</span>) {
    <span class="hljs-title function_">fetchPrice</span>(request.<span class="hljs-property">item</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">data</span>: price });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// å¿…é¡»è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<h4 data-id="heading-45">Popup â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Popup</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
});

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ callback</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
  }
);
</code></pre>
<h4 data-id="heading-46">Background â†’ Content Script</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background: å‘ç‰¹å®šæ ‡ç­¾é¡µå‘é€æ¶ˆæ¯</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(
  tabId,
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'updatePrice'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">520</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Content Script å“åº”:'</span>, response);
  }
);

<span class="hljs-comment">// Background: å‘æ‰€æœ‰æ ‡ç­¾é¡µå¹¿æ’­</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({}, <span class="hljs-function">(<span class="hljs-params">tabs</span>) =&gt;</span> {
  tabs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">tab</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (tab.<span class="hljs-property">id</span>) {
      chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(tab.<span class="hljs-property">id</span>, { <span class="hljs-attr">action</span>: <span class="hljs-string">'refresh'</span> });
    }
  });
});

<span class="hljs-comment">// Content Script: ç›‘å¬æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'updatePrice'</span>) {
    <span class="hljs-title function_">updatePriceDisplay</span>(request.<span class="hljs-property">price</span>);
    <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">updated</span>: <span class="hljs-literal">true</span> });
  }
});
</code></pre>
<h3 data-id="heading-47">2. é•¿è¿æ¥ï¼ˆLong-lived Connectionsï¼‰</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> éœ€è¦æŒç»­é€šä¿¡ã€å®æ—¶æ¨é€æ•°æ®</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script: å»ºç«‹è¿æ¥</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'price-updates'</span> });

<span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span>, <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> });

<span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ›´æ–°:'</span>, message);
  <span class="hljs-title function_">updateUI</span>(message.<span class="hljs-property">price</span>);
});

<span class="hljs-comment">// ç›‘å¬æ–­å¼€</span>
port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>);
});

<span class="hljs-comment">// Background Script: ç›‘å¬è¿æ¥</span>
<span class="hljs-keyword">const</span> connections = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–°è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  connections.<span class="hljs-title function_">set</span>(port.<span class="hljs-property">name</span>, port);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'subscribe'</span>) {
      <span class="hljs-comment">// å¼€å§‹æ¨é€æ•°æ®</span>
      <span class="hljs-title function_">startPriceUpdates</span>(port, message.<span class="hljs-property">symbol</span>);
    }
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    connections.<span class="hljs-title function_">delete</span>(port.<span class="hljs-property">name</span>);
  });
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startPriceUpdates</span>(<span class="hljs-params">port, <span class="hljs-built_in">symbol</span></span>) {
  <span class="hljs-keyword">const</span> intervalId = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchPrice</span>(<span class="hljs-built_in">symbol</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        port.<span class="hljs-title function_">postMessage</span>({ price, <span class="hljs-built_in">symbol</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// ç«¯å£å·²æ–­å¼€</span>
        <span class="hljs-built_in">clearInterval</span>(intervalId);
      }
    });
  }, <span class="hljs-number">5000</span>);
}
</code></pre>
<h3 data-id="heading-48">3. Storage å˜åŒ–ç›‘å¬</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šè®¾ç½®æ•°æ®</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: <span class="hljs-number">520</span> });

<span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šç›‘å¬å˜åŒ–</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (areaName === <span class="hljs-string">'local'</span> &amp;&amp; changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ—§å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">oldValue</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ–°å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
    
    <span class="hljs-comment">// æ›´æ–° UI</span>
    <span class="hljs-title function_">updatePriceDisplay</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-49">4. æ¶ˆæ¯ä¼ é€’æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ¶ˆæ¯ç±»å‹ï¼ˆTypeScriptï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Message</span> {
  <span class="hljs-attr">action</span>: <span class="hljs-built_in">string</span>;
  data?: <span class="hljs-built_in">any</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  data?: <span class="hljs-built_in">any</span>;
  error?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// å°è£…æ¶ˆæ¯å‘é€</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">message: Message</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(message, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>) {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>.<span class="hljs-property">message</span>));
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(response);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendMessage</span>({
    <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>,
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> }
  });
  
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);
  }
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é€šä¿¡å¤±è´¥:'</span>, error);
}
</code></pre>
<hr/>
<h2 data-id="heading-50">æ•°æ®å­˜å‚¨æ–¹æ¡ˆ</h2>
<h3 data-id="heading-51">1. chrome.storage API</h3>
<p>Chrome Extension æä¾›äº†ä¸“é—¨çš„å­˜å‚¨ APIï¼Œæ¯” <code>localStorage</code> æ›´å¼ºå¤§ã€‚</p>
<h4 data-id="heading-52">å­˜å‚¨ç±»å‹å¯¹æ¯”</h4>





























<table><thead><tr><th>å­˜å‚¨ç±»å‹</th><th>å®¹é‡</th><th>åŒæ­¥</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>storage.local</code></td><td>10 MB</td><td>âŒ</td><td>æœ¬åœ°æ•°æ®ç¼“å­˜</td></tr><tr><td><code>storage.sync</code></td><td>100 KB</td><td>âœ…</td><td>ç”¨æˆ·è®¾ç½®ï¼ˆè·¨è®¾å¤‡åŒæ­¥ï¼‰</td></tr><tr><td><code>storage.session</code></td><td>10 MB</td><td>âŒ</td><td>ä¸´æ—¶ä¼šè¯æ•°æ®ï¼ˆMV3ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-53">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  <span class="hljs-attr">settings</span>: { <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span> },
  <span class="hljs-attr">prices</span>: [<span class="hljs-number">520</span>, <span class="hljs-number">530</span>, <span class="hljs-number">525</span>]
});

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'user'</span>, <span class="hljs-string">'settings'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">user</span>);      <span class="hljs-comment">// { name: 'John', age: 30 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">settings</span>);  <span class="hljs-comment">// { theme: 'dark' }</span>

<span class="hljs-comment">// è¯»å–æ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">const</span> allData = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'user'</span>]);

<span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">clear</span>();

<span class="hljs-comment">// è·å–å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>([<span class="hljs-string">'prices'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½¿ç”¨äº† <span class="hljs-subst">${bytes}</span> å­—èŠ‚`</span>);
</code></pre>
<h4 data-id="heading-54">å°è£… Storage å·¥å…·ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/storage.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageManager</span> {
  <span class="hljs-keyword">async</span> get&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(key);
    <span class="hljs-keyword">return</span> result[key] ?? <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">async</span> set&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: T): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ [key]: value });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">remove</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(key);
  }

  <span class="hljs-keyword">async</span> getMultiple&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt;(
    <span class="hljs-attr">keys</span>: <span class="hljs-built_in">string</span>[]
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Partial</span>&lt;T&gt;&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(keys);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">setMultiple</span>(<span class="hljs-attr">items</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(items);
  }

  <span class="hljs-title function_">onChange</span>(<span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span>, areaName: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(callback);
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> storage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StorageManager</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { storage } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/storage'</span>;

<span class="hljs-comment">// ä¿å­˜</span>
<span class="hljs-keyword">await</span> storage.<span class="hljs-title function_">set</span>(<span class="hljs-string">'goldPrice'</span>, { <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });

<span class="hljs-comment">// è¯»å–</span>
<span class="hljs-keyword">const</span> goldPrice = <span class="hljs-keyword">await</span> storage.<span class="hljs-property">get</span>&lt;{ <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span> }&gt;(<span class="hljs-string">'goldPrice'</span>);

<span class="hljs-comment">// ç›‘å¬å˜åŒ–</span>
storage.<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-55">2. IndexedDBï¼ˆå¤§é‡æ•°æ®ï¼‰</h3>
<p>å¯¹äºéœ€è¦å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ IndexedDBã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/indexedDB.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoldPriceDB</span> {
  <span class="hljs-keyword">private</span> dbName = <span class="hljs-string">'GoldPriceExtension'</span>;
  <span class="hljs-keyword">private</span> version = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">db</span>: <span class="hljs-title class_">IDBDatabase</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span>);

      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = request.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>();
      };

      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = (event.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">IDBOpenDBRequest</span>).<span class="hljs-property">result</span>;
        
        <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡å­˜å‚¨</span>
        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'prices'</span>)) {
          <span class="hljs-keyword">const</span> store = db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'prices'</span>, {
            <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span>,
            <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span>
          });
          
          <span class="hljs-comment">// åˆ›å»ºç´¢å¼•</span>
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'timestamp'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'brand'</span>, <span class="hljs-string">'brand'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
        }
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addPrice</span>(<span class="hljs-attr">price</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readwrite'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(price);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPrices</span>(limit = <span class="hljs-number">100</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>(<span class="hljs-literal">undefined</span>, limit);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'brand'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">getAll</span>(brand);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> goldPriceDB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GoldPriceDB</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">init</span>();
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">addPrice</span>({
  <span class="hljs-attr">brand</span>: <span class="hljs-string">'å‘¨å¤§ç¦'</span>,
  <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
});

<span class="hljs-keyword">const</span> prices = <span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-string">'å‘¨å¤§ç¦'</span>);
</code></pre>
<hr/>
<h2 data-id="heading-56">å®æˆ˜æ¡ˆä¾‹ï¼šé»„é‡‘ä»·æ ¼æŸ¥è¯¢æ‰©å±•</h2>
<p>è®©æˆ‘ä»¬æ·±å…¥åˆ†ææœ¬é¡¹ç›®çš„å®Œæ•´å®ç°ã€‚</p>
<h3 data-id="heading-57">1. é¡¹ç›®æ¶æ„</h3>
<pre><code class="hljs">æ•°æ®æµå‘ï¼š
API â†’ Service Layer â†’ Storage â†’ UI Components
 â†“         â†“             â†“          â†“
å¤–éƒ¨æ•°æ®  ä¸šåŠ¡é€»è¾‘     ç¼“å­˜å±‚    ç”¨æˆ·ç•Œé¢
</code></pre>
<h3 data-id="heading-58">2. ç±»å‹å®šä¹‰ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/types.ts</span>

<span class="hljs-comment">/** é‡‘é¥°å“å“ç‰Œä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryBrand</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// å“ç‰Œåç§°</span>
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// ä»·æ ¼ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é“¶è¡Œé‡‘æ¡ä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankGoldBar</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">bankName</span>: <span class="hljs-built_in">string</span>;    <span class="hljs-comment">// é“¶è¡Œåç§°</span>
  <span class="hljs-attr">buyPrice</span>: <span class="hljs-built_in">number</span>;    <span class="hljs-comment">// ä¹°å…¥ä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">sellPrice</span>: <span class="hljs-built_in">number</span>;   <span class="hljs-comment">// å–å‡ºä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é»„é‡‘ä»·æ ¼æ•°æ® */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GoldPriceData</span> {
  <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[];
  <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[];
  <span class="hljs-attr">lastUpdate</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/** API å“åº”ç±»å‹ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BrandPriceData</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">goldPrice</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">platinumPrice</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PriceResponse</span> {
  <span class="hljs-attr">status</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">BrandPriceData</span>[];
}
</code></pre>
<h3 data-id="heading-59">3. Service Layerå®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/services/goldPriceService.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">"https://chatbot-be-omega.vercel.app/api/goldPrice"</span>;

<span class="hljs-comment">// å®šä¹‰å“ç‰Œåˆ†ç±»</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span> = [
  <span class="hljs-string">"å‘¨å¤§ç¦"</span>, <span class="hljs-string">"è€å‡¤ç¥¥"</span>, <span class="hljs-string">"å‘¨å…­ç¦"</span>, <span class="hljs-string">"å‘¨ç”Ÿç”Ÿ"</span>, 
  <span class="hljs-string">"å…­ç¦ç å®"</span>, <span class="hljs-string">"è€åº™"</span>, <span class="hljs-string">"é‡‘è‡³å°Š"</span>, <span class="hljs-string">"èœç™¾"</span>
  <span class="hljs-comment">// ... æ›´å¤šå“ç‰Œ</span>
];

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BANK_BRANDS</span> = [<span class="hljs-string">"ä¸­å›½é»„é‡‘"</span>, <span class="hljs-string">"é«˜èµ›å°”"</span>];

<span class="hljs-comment">/**
 * ä» API è·å–é»„é‡‘ä»·æ ¼æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceFromAPI = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PriceResponse</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">API_URL</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
    });

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`API è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    }

    <span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">PriceResponse</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">status</span> !== <span class="hljs-string">"ok"</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"API è¿”å›çŠ¶æ€å¼‚å¸¸"</span>);
    }

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–é»„é‡‘ä»·æ ¼å¤±è´¥:"</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å°† API æ•°æ®è½¬æ¢ä¸ºåº”ç”¨æ ¼å¼
 */</span>
<span class="hljs-keyword">const</span> transformAPIData = (<span class="hljs-attr">apiResponse</span>: <span class="hljs-title class_">PriceResponse</span>): <span class="hljs-function"><span class="hljs-params">GoldPriceData</span> =&gt;</span> {
  <span class="hljs-comment">// è½¬æ¢é‡‘é¥°å“æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`jewelry-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">name</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">price</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-comment">// è½¬æ¢é“¶è¡Œé‡‘æ¡æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">BANK_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`bank-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">bankName</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">buyPrice</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">sellPrice</span>: <span class="hljs-keyword">typeof</span> item.<span class="hljs-property">platinumPrice</span> === <span class="hljs-string">"number"</span> 
        ? item.<span class="hljs-property">platinumPrice</span> 
        : item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-keyword">const</span> lastUpdate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
    <span class="hljs-attr">year</span>: <span class="hljs-string">"numeric"</span>,
    <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
  });

  <span class="hljs-keyword">return</span> { jewelryBrands, bankGoldBars, lastUpdate };
};

<span class="hljs-comment">/**
 * è·å–é»„é‡‘ä»·æ ¼æ•°æ®ï¼ˆå¯¹å¤–æ¥å£ï¼‰
 * å¸¦ç¼“å­˜æœºåˆ¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å…ˆå°è¯•ä»ç¼“å­˜è¯»å–</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>, <span class="hljs-string">'cacheTime'</span>]);
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> cacheAge = now - (cached.<span class="hljs-property">cacheTime</span> || <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// ç¼“å­˜æœ‰æ•ˆæœŸï¼š5 åˆ†é’Ÿ</span>
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span> &amp;&amp; cacheAge &lt; <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ç¼“å­˜æ•°æ®'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }

    <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸï¼Œé‡æ–°è·å–</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–æ–°æ•°æ®'</span>);
    <span class="hljs-keyword">const</span> apiResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceFromAPI</span>();
    <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">transformAPIData</span>(apiResponse);

    <span class="hljs-comment">// ä¿å­˜åˆ°ç¼“å­˜</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">goldPriceData</span>: data,
      <span class="hljs-attr">cacheTime</span>: now
    });

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–å¹¶è½¬æ¢é»„é‡‘ä»·æ ¼æ•°æ®å¤±è´¥:"</span>, error);
    
    <span class="hljs-comment">// å¦‚æœæœ‰ç¼“å­˜æ•°æ®ï¼Œå³ä½¿è¿‡æœŸä¹Ÿè¿”å›</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>]);
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'API å¤±è´¥ï¼Œä½¿ç”¨è¿‡æœŸç¼“å­˜'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }
    
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å¼ºåˆ¶åˆ·æ–°æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> refreshGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-comment">// æ¸…é™¤ç¼“å­˜æ—¶é—´ï¼Œå¼ºåˆ¶é‡æ–°è·å–</span>
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'cacheTime'</span>]);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
};
</code></pre>
<h3 data-id="heading-60">4. UI ç»„ä»¶å®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/JewelryCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryBrand</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryCardProps</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-title class_">JewelryBrand</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">JewelryCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">JewelryCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ brand }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = brand.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* å“ç‰Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{brand.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {brand.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{brand.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä»·æ ¼æ˜¾ç¤º */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-baseline"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xl font-semibold text-amber-600"</span>&gt;</span>
          Â¥{brand.price}
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 ml-1"</span>&gt;</span>/å…‹<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-1 text-xs text-gray-400"</span>&gt;</span>
        {brand.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/BankCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankGoldBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankCardProps</span> {
  <span class="hljs-attr">bank</span>: <span class="hljs-title class_">BankGoldBar</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">BankCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">BankCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ bank }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = bank.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* é“¶è¡Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{bank.bankName}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {bank.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{bank.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä¹°å…¥/å–å‡ºä»·æ ¼ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex justify-between items-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>ä¹°å…¥<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-blue-600"</span>&gt;</span>
            Â¥{bank.buyPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"h-6 w-px bg-gray-200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col items-end"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>å–å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-purple-600"</span>&gt;</span>
            Â¥{bank.sellPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-2 text-xs text-gray-400 text-center"</span>&gt;</span>
        {bank.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h3 data-id="heading-61">5. å…³é”®æŠ€æœ¯ç‚¹</h3>
<h4 data-id="heading-62">é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šå±‚æ¬¡çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, retries = <span class="hljs-number">3</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; retries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">return</span> response;
      
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> error;
      
      <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, i) * <span class="hljs-number">1000</span>));
    }
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Max retries reached'</span>);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-variable constant_">API_URL</span>);
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-comment">// é™çº§åˆ°ç¼“å­˜æ•°æ®</span>
  <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCachedData</span>();
  <span class="hljs-keyword">if</span> (cached) <span class="hljs-keyword">return</span> cached;
  
  <span class="hljs-comment">// æ˜¾ç¤ºé”™è¯¯æç¤º</span>
  <span class="hljs-title function_">showErrorNotification</span>(error);
}
</code></pre>
<h4 data-id="heading-63">æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. é˜²æŠ–åˆ·æ–°</span>
<span class="hljs-keyword">function</span> debounce&lt;T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">func</span>: T,
  <span class="hljs-attr">wait</span>: <span class="hljs-built_in">number</span>
): <span class="hljs-function">(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">timeout</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) {
    <span class="hljs-built_in">clearTimeout</span>(timeout);
    timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">func</span>(...args), wait);
  };
}

<span class="hljs-keyword">const</span> debouncedRefresh = <span class="hljs-title function_">debounce</span>(refreshGoldPriceData, <span class="hljs-number">1000</span>);

<span class="hljs-comment">// 2. æ•°æ®é¢„åŠ è½½</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å®‰è£…æ—¶é¢„å…ˆè·å–æ•°æ®</span>
  <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
});

<span class="hljs-comment">// 3. åå°å®šæ—¶æ›´æ–°</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'updatePrices'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'updatePrices'</span>) {
    <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-64">è·¨æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†</h2>
<h3 data-id="heading-65">1. ä½¿ç”¨ webextension-polyfill</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®‰è£…</span>
npm install webextension-polyfill
npm install --save-dev <span class="hljs-meta">@types</span>/webextension-polyfill

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Browser</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'webextension-polyfill'</span>;

<span class="hljs-comment">// ç»Ÿä¸€çš„ Promise é£æ ¼ API</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'key'</span>);
<span class="hljs-keyword">const</span> tabs = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// è‡ªåŠ¨å¤„ç†å›è°ƒè½¬ Promise</span>
<span class="hljs-title class_">Browser</span>.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'test'</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response))
  .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error));
</code></pre>
<h3 data-id="heading-66">2. Vite é…ç½®å·®å¼‚</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.chrome.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">service_worker</span>: <span class="hljs-string">'src/pages/background/index.ts'</span>,  <span class="hljs-comment">// Chrome: Service Worker</span>
          <span class="hljs-attr">type</span>: <span class="hljs-string">'module'</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'chrome'</span>,
    })
  ],
});

<span class="hljs-comment">// vite.config.firefox.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">scripts</span>: [<span class="hljs-string">'src/pages/background/index.ts'</span>]  <span class="hljs-comment">// Firefox: Scripts Array</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'firefox'</span>,
    })
  ],
});
</code></pre>
<h3 data-id="heading-67">3. æµè§ˆå™¨ç‰¹æ€§æ£€æµ‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/browser.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getBrowserInfo</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> userAgent = navigator.<span class="hljs-property">userAgent</span>;
  
  <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Edg/'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Edge'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Chrome'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Firefox'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Firefox'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Safari'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Safari'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  }
  
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Unknown'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
};

<span class="hljs-comment">// æ ¹æ®æµè§ˆå™¨è°ƒæ•´è¡Œä¸º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isSidePanel <span class="hljs-title class_">Supported</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { name } = <span class="hljs-title function_">getBrowserInfo</span>();
  <span class="hljs-keyword">return</span> name === <span class="hljs-string">'Chrome'</span> || name === <span class="hljs-string">'Edge'</span>;
};

<span class="hljs-comment">// æ¡ä»¶æ€§ä½¿ç”¨ API</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">'sidePanel'</span> <span class="hljs-keyword">in</span> chrome) {
  chrome.<span class="hljs-property">sidePanel</span>.<span class="hljs-title function_">setOptions</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">'panel.html'</span> });
}
</code></pre>
<hr/>
<h2 data-id="heading-68">è°ƒè¯•æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-69">1. è°ƒè¯•å·¥å…·</h3>
<h4 data-id="heading-70">Background Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. æ‰“å¼€ chrome://extensions
2. æ‰¾åˆ°ä½ çš„æ‰©å±•
3. ç‚¹å‡» <span class="hljs-string">"service worker"</span> æˆ– <span class="hljs-string">"èƒŒæ™¯é¡µ"</span>
4. æ‰“å¼€ DevTools æ§åˆ¶å°

<span class="hljs-comment"># Firefox</span>
1. æ‰“å¼€ about:debugging
2. ç‚¹å‡» <span class="hljs-string">"æ£€æŸ¥"</span>
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
</code></pre>
<h4 data-id="heading-71">Content Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥åœ¨ç½‘é¡µä¸­è°ƒè¯•</span>
1. æ‰“å¼€ç›®æ ‡ç½‘é¡µ
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åœ¨ Console ä¸­å¯ä»¥çœ‹åˆ° Content Script çš„æ—¥å¿—
4. åœ¨ Sources/Debugger æ ‡ç­¾å¯ä»¥æ‰¾åˆ°æ³¨å…¥çš„è„šæœ¬
</code></pre>
<h4 data-id="heading-72">Popup è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"æ£€æŸ¥å¼¹å‡ºå†…å®¹"</span>
3. DevTools ä¼šé™„åŠ åˆ° Popup

<span class="hljs-comment"># Firefox</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"è°ƒè¯•æ­¤æ‰©å±•"</span>
</code></pre>
<h3 data-id="heading-73">2. æ—¥å¿—ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/logger.ts</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">LogLevel</span> {
  <span class="hljs-variable constant_">DEBUG</span> = <span class="hljs-number">0</span>,
  <span class="hljs-variable constant_">INFO</span> = <span class="hljs-number">1</span>,
  <span class="hljs-variable constant_">WARN</span> = <span class="hljs-number">2</span>,
  <span class="hljs-variable constant_">ERROR</span> = <span class="hljs-number">3</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">level</span>: <span class="hljs-title class_">LogLevel</span> = <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">prefix</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">prefix: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> = <span class="hljs-string">`[<span class="hljs-subst">${prefix}</span>]`</span>;
  }

  <span class="hljs-title function_">setLevel</span>(<span class="hljs-params">level: LogLevel</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> = level;
  }

  <span class="hljs-title function_">debug</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">DEBUG</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[DEBUG]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">info</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[INFO]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">warn</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">WARN</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[WARN]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">error</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">ERROR</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[ERROR]'</span>, ...args);
    }
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Logger</span>(<span class="hljs-string">'GoldPrice'</span>);

<span class="hljs-comment">// ä½¿ç”¨</span>
logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è·å–ä»·æ ¼æ•°æ®'</span>);
logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'API è¯·æ±‚å¤±è´¥'</span>, error);
</code></pre>
<h3 data-id="heading-74">3. æ€§èƒ½ç›‘æ§</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ€§èƒ½è®¡æ—¶</span>
<span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
<span class="hljs-keyword">const</span> endTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${(endTime - startTime).toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>);

<span class="hljs-comment">// ä½¿ç”¨ Performance API</span>
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-start'</span>);
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-end'</span>);
performance.<span class="hljs-title function_">measure</span>(<span class="hljs-string">'fetch-duration'</span>, <span class="hljs-string">'fetch-start'</span>, <span class="hljs-string">'fetch-end'</span>);

<span class="hljs-keyword">const</span> measures = performance.<span class="hljs-title function_">getEntriesByName</span>(<span class="hljs-string">'fetch-duration'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${measures[<span class="hljs-number">0</span>].duration}</span>ms`</span>);
</code></pre>
<hr/>
<h2 data-id="heading-75">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-76">1. Content Script ä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šé˜»å¡ä¸»çº¿ç¨‹</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-comment">// å¤§é‡ DOM æ“ä½œ</span>
  item.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
});

<span class="hljs-comment">// âœ… å¥½ï¼šæ‰¹é‡æ“ä½œï¼Œä½¿ç”¨ DocumentFragment</span>
<span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> newElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  newElement.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
  fragment.<span class="hljs-title function_">appendChild</span>(newElement);
});
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(fragment);

<span class="hljs-comment">// âœ… æ›´å¥½ï¼šä½¿ç”¨ IntersectionObserver å»¶è¿ŸåŠ è½½</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
      <span class="hljs-title function_">enhanceElement</span>(entry.<span class="hljs-property">target</span>);
      observer.<span class="hljs-title function_">unobserve</span>(entry.<span class="hljs-property">target</span>);
    }
  });
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  observer.<span class="hljs-title function_">observe</span>(item);
});
</code></pre>
<h3 data-id="heading-77">2. èµ„æºä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»£ç åˆ†å‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadHeavyFeature</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./heavy-feature'</span>);
  <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">initialize</span>();
};

<span class="hljs-comment">// å›¾ç‰‡æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/large-image.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">loading</span> = <span class="hljs-string">'lazy'</span>;
img.<span class="hljs-property">src</span> = imageUrl;

<span class="hljs-comment">// å‹ç¼©æ•°æ®</span>
<span class="hljs-keyword">import</span> pako <span class="hljs-keyword">from</span> <span class="hljs-string">'pako'</span>;

<span class="hljs-comment">// ä¿å­˜æ—¶å‹ç¼©</span>
<span class="hljs-keyword">const</span> compressed = pako.<span class="hljs-title function_">deflate</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(largeData));
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">data</span>: compressed });

<span class="hljs-comment">// è¯»å–æ—¶è§£å‹</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'data'</span>);
<span class="hljs-keyword">const</span> decompressed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(pako.<span class="hljs-title function_">inflate</span>(data, { <span class="hljs-attr">to</span>: <span class="hljs-string">'string'</span> }));
</code></pre>
<h3 data-id="heading-78">3. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŠæ—¶æ¸…ç†ç›‘å¬å™¨</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">listener</span>: (<span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>) | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startMonitoring</span>(<span class="hljs-params"/>) {
  listener = <span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Storage changed:'</span>, changes);
  };
  chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(listener);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">stopMonitoring</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (listener) {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">removeListener</span>(listener);
    listener = <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addToCache</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>) || {};
  <span class="hljs-keyword">const</span> cacheKeys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(cache);
  
  <span class="hljs-comment">// æœ€å¤šä¿ç•™ 100 æ¡</span>
  <span class="hljs-keyword">if</span> (cacheKeys.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">100</span>) {
    <span class="hljs-keyword">const</span> oldest = cacheKeys[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">delete</span> cache[oldest];
  }
  
  cache[key] = data;
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}
</code></pre>
<hr/>
<h2 data-id="heading-79">æ‰“åŒ…æ„å»ºä¸å‘å¸ƒ</h2>
<h3 data-id="heading-80">1. ç”Ÿäº§æ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»º Chrome ç‰ˆæœ¬</span>
npm run build:chrome

<span class="hljs-comment"># æ„å»º Firefox ç‰ˆæœ¬</span>
npm run build:firefox

<span class="hljs-comment"># è¾“å‡ºç›®å½•</span>
<span class="hljs-comment"># dist_chrome/   # Chrome æ‰©å±•æ–‡ä»¶</span>
<span class="hljs-comment"># dist_firefox/  # Firefox æ‰©å±•æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-81">2. æ‰“åŒ…ä¸º ZIP</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰‹åŠ¨æ‰“åŒ…</span>
<span class="hljs-built_in">cd</span> dist_chrome
zip -r ../extension-chrome.zip *

<span class="hljs-built_in">cd</span> ../dist_firefox
zip -r ../extension-firefox.zip *

<span class="hljs-comment"># æˆ–ä½¿ç”¨è„šæœ¬</span>
npm install --save-dev archiver

// scripts/zip.js
const archiver = require(<span class="hljs-string">'archiver'</span>);
const fs = require(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">function</span> zipDirectory(<span class="hljs-built_in">source</span>, out) {
  const archive = archiver(<span class="hljs-string">'zip'</span>, { zlib: { level: 9 } });
  const stream = fs.createWriteStream(out);

  <span class="hljs-built_in">return</span> new Promise((resolve, reject) =&gt; {
    archive
      .directory(source, false)
      .on('error', reject)
      .pipe(stream);

    stream.on('close', resolve);
    archive.finalize();
  });
}

zipDirectory('./dist_chrome', './extension-chrome.zip');
</code></pre>
<h3 data-id="heading-82">3. å‘å¸ƒåˆ° Chrome Web Store</h3>
<h4 data-id="heading-83">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œå¼€å‘è€…è´¦å·</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdevconsole%2F" target="_blank" title="https://chrome.google.com/webstore/devconsole/" ref="nofollow noopener noreferrer">Chrome Web Store Developer Dashboard</a></li>
<li>æ”¯ä»˜ $5 ä¸€æ¬¡æ€§æ³¨å†Œè´¹</li>
</ul>
</li>
<li>
<p><strong>å‡†å¤‡èµ„æ–™</strong></p>
<ul>
<li>æ‰©å±• ZIP æ–‡ä»¶</li>
<li>å›¾æ ‡ï¼ˆ128x128pxï¼‰</li>
<li>æˆªå›¾ï¼ˆè‡³å°‘ 1 å¼ ï¼Œ1280x800 æˆ– 640x400ï¼‰</li>
<li>æ¨å¹¿å›¾ç‰‡ï¼ˆå¯é€‰ï¼Œ440x280pxï¼‰</li>
<li>è¯¦ç»†æè¿°ï¼ˆè‹±æ–‡ï¼Œæœ€å¤š 132 å­—ç¬¦ç®€ä»‹ + è¯¦ç»†è¯´æ˜ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-84">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Dashboard
2. ç‚¹å‡» <span class="hljs-string">"New Item"</span>
3. ä¸Šä¼  ZIP æ–‡ä»¶
4. å¡«å†™å•†åº—ä¿¡æ¯ï¼š
   - åç§°å’Œæè¿°
   - ç±»åˆ«å’Œè¯­è¨€
   - æˆªå›¾å’Œå›¾æ ‡
   - éšç§æ”¿ç­–ï¼ˆå¦‚æœä½¿ç”¨äº†ç”¨æˆ·æ•°æ®ï¼‰
5. å®šä»·å’Œåˆ†å‘ï¼š
   - å…è´¹æˆ–ä»˜è´¹
   - å‘å¸ƒåœ°åŒº
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> é€šå¸¸ 1-3 å¤©</p>
<h3 data-id="heading-85">4. å‘å¸ƒåˆ° Firefox Add-ons</h3>
<h4 data-id="heading-86">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Faddons.mozilla.org%2Fdevelopers%2F" target="_blank" title="https://addons.mozilla.org/developers/" ref="nofollow noopener noreferrer">Firefox Add-on Developer Hub</a></li>
</ul>
</li>
<li>
<p><strong>ç­¾åè¦æ±‚</strong></p>
<ul>
<li>Firefox è¦æ±‚æ‰€æœ‰æ‰©å±•å¿…é¡»ç­¾å</li>
<li>å¯ä»¥é€‰æ‹©è‡ªåŠ¨ç­¾åï¼ˆä¸ä¸Šæ¶ï¼‰æˆ–å®Œæ•´å®¡æ ¸ï¼ˆä¸Šæ¶ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-87">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Hub
2. Submit a New Add-on
3. é€‰æ‹©åˆ†å‘æ–¹å¼ï¼š
   - On this site (å®Œæ•´å®¡æ ¸ï¼Œå…¬å¼€å‘å¸ƒ)
   - On your own (è‡ªåŠ¨ç­¾åï¼Œè‡ªè¡Œåˆ†å‘)
4. ä¸Šä¼  ZIP æ–‡ä»¶
5. å¡«å†™ä¿¡æ¯ï¼š
   - åç§°ã€æè¿°ã€åˆ†ç±»
   - ç‰ˆæœ¬è¯´æ˜
   - è®¸å¯è¯
   - éšç§æ”¿ç­–
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> äººå·¥å®¡æ ¸é€šå¸¸ 1-5 å¤©</p>
<h3 data-id="heading-88">5. GitHub Actions è‡ªåŠ¨åŒ–</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/release.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Release</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">tags:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'v*'</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-string">'20'</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Chrome</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:chrome</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Firefox</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:firefox</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">ZIP</span> <span class="hljs-string">files</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          cd dist_chrome &amp;&amp; zip -r ../extension-chrome.zip * &amp;&amp; cd ..
          cd dist_firefox &amp;&amp; zip -r ../extension-firefox.zip * &amp;&amp; cd ..
</span>      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">Release</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">softprops/action-gh-release@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">files:</span> <span class="hljs-string">|
            extension-chrome.zip
            extension-firefox.zip
</span>        <span class="hljs-attr">env:</span>
          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
</code></pre>
<hr/>
<h2 data-id="heading-89">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-90">1. Manifest é”™è¯¯</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Manifest version 3 is not supported</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<ul>
<li>ç¡®ä¿ Chrome ç‰ˆæœ¬ &gt;= 88</li>
<li>Firefox éœ€è¦ç‰¹æ®Šé…ç½®æ”¯æŒ MV3</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong> <code>Permission 'tabs' is not recognized</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ é”™è¯¯</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-91">2. Content Script é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> Content Script æ— æ³•è®¿é—®é¡µé¢å˜é‡</p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸èƒ½ç›´æ¥è®¿é—®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>);

<span class="hljs-comment">// âœ… é€šè¿‡ postMessage é€šä¿¡</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'GET_DATA'</span> }, <span class="hljs-string">'*'</span>);
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'DATA_RESPONSE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">data</span>.<span class="hljs-property">value</span>);
  }
});

<span class="hljs-comment">// é¡µé¢è„šæœ¬</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'GET_DATA'</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">'DATA_RESPONSE'</span>,
      <span class="hljs-attr">value</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>
    }, <span class="hljs-string">'*'</span>);
  }
});
</code></pre>
<h3 data-id="heading-92">3. CORS é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Fetch API cannot load due to CORS policy</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// manifest.json æ·»åŠ  host_permissions</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æˆ–åœ¨ Background Script ä¸­ä»£ç†è¯·æ±‚</span>
<span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'fetch'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://api.example.com/data'</span>
}, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
});

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'fetch'</span>) {
    <span class="hljs-title function_">fetch</span>(request.<span class="hljs-property">url</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>(data))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> }));
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¼‚æ­¥å“åº”</span>
  }
});
</code></pre>
<h3 data-id="heading-93">4. Storage é…é¢é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>QUOTA_BYTES quota exceeded</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æŸ¥å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å·²ä½¿ç”¨: <span class="hljs-subst">${bytes}</span> / <span class="hljs-subst">${chrome.storage.local.QUOTA_BYTES}</span>`</span>);

<span class="hljs-comment">// å®šæœŸæ¸…ç†æ—§æ•°æ®</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> all = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(all);
  
  <span class="hljs-comment">// åˆ é™¤è¶…è¿‡ 7 å¤©çš„æ•°æ®</span>
  <span class="hljs-keyword">const</span> sevenDaysAgo = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">const</span> toRemove = keys.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> item = all[key];
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">timestamp</span> &amp;&amp; item.<span class="hljs-property">timestamp</span> &lt; sevenDaysAgo;
  });
  
  <span class="hljs-keyword">if</span> (toRemove.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(toRemove);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ¸…ç†äº† <span class="hljs-subst">${toRemove.length}</span> æ¡è¿‡æœŸæ•°æ®`</span>);
  }
}
</code></pre>
<h3 data-id="heading-94">5. Service Worker ç”Ÿå‘½å‘¨æœŸ</h3>
<p><strong>é—®é¢˜ï¼š</strong> Background Service Worker æ„å¤–ä¼‘çœ </p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸è¦ä¾èµ–å…¨å±€å˜é‡</span>
<span class="hljs-keyword">let</span> cache = {};  <span class="hljs-comment">// Service Worker ä¼‘çœ åä¼šä¸¢å¤±</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.storage</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCache</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>);
  <span class="hljs-keyword">return</span> result.<span class="hljs-property">cache</span> || {};
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCache</span>(<span class="hljs-params">cache</span>) {
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}

<span class="hljs-comment">// âŒ ä¸è¦ä½¿ç”¨ setTimeout</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">doSomething</span>();
}, <span class="hljs-number">60000</span>);  <span class="hljs-comment">// å¯èƒ½ä¸ä¼šæ‰§è¡Œ</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.alarms</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'task'</span>, { <span class="hljs-attr">delayInMinutes</span>: <span class="hljs-number">1</span> });
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'task'</span>) {
    <span class="hljs-title function_">doSomething</span>();
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-95">å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-96">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.chrome.com%2Fdocs%2Fextensions%2F" target="_blank" title="https://developer.chrome.com/docs/extensions/" ref="nofollow noopener noreferrer">Chrome Extensions æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions" target="_blank" title="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" ref="nofollow noopener noreferrer">MDN Web Extensions</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fextensionworkshop.com%2F" target="_blank" title="https://extensionworkshop.com/" ref="nofollow noopener noreferrer">Firefox Extension Workshop</a></li>
</ul>
<h3 data-id="heading-97">å·¥å…·å’Œåº“</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcrxjs.dev%2Fvite-plugin" target="_blank" title="https://crxjs.dev/vite-plugin" ref="nofollow noopener noreferrer">@crxjs/vite-plugin</a> - Vite æ’ä»¶</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmozilla%2Fwebextension-polyfill" target="_blank" title="https://github.com/mozilla/webextension-polyfill" ref="nofollow noopener noreferrer">webextension-polyfill</a> - æµè§ˆå™¨å…¼å®¹å±‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped%2Ftree%2Fmaster%2Ftypes%2Fchrome" target="_blank" title="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/chrome" ref="nofollow noopener noreferrer">Chrome Types</a> - TypeScript ç±»å‹å®šä¹‰</li>
</ul>
<h3 data-id="heading-98">ç¤¾åŒºèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fchrome-extensions-samples" target="_blank" title="https://github.com/GoogleChrome/chrome-extensions-samples" ref="nofollow noopener noreferrer">Chrome Extension Samples</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffregante%2FAwesome-WebExtensions" target="_blank" title="https://github.com/fregante/Awesome-WebExtensions" ref="nofollow noopener noreferrer">Awesome Browser Extensions</a></li>
</ul>
<h2 data-id="heading-99">æ¯æ—¥é‡‘ä»·ä»“åº“åœ°å€æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Filcherry%2Fdaily-gold-price" target="_blank" title="https://github.com/ilcherry/daily-gold-price" ref="nofollow noopener noreferrer">github.com/ilcherry/daâ€¦</a></h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹]]></title>    <link>https://juejin.cn/post/7573855399716519955</link>    <guid>https://juejin.cn/post/7573855399716519955</guid>    <pubDate>2025-11-18T07:34:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399716519955" data-draft-id="7573738017987887147" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:34:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="00åç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1159358440539900"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1159358440539900/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    00åç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:34:50.000Z" title="Tue Nov 18 2025 07:34:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œâ€œApp Store ä¸Šæ¶ Appâ€ å¾€å¾€æ˜¯æœ€å®¹æ˜“è®©å¼€å‘è€…ç´§å¼ çš„ä¸€æ­¥ã€‚
æ— è®ºæ˜¯é¦–æ¬¡ä¸Šæ¶çš„æ–°é¡¹ç›®ï¼Œè¿˜æ˜¯è¿­ä»£æ›´æ–°çš„å•†ä¸š Appï¼Œåªè¦æ¶‰åŠè¯ä¹¦ä½“ç³»ã€IPA æ„å»ºã€å®¡æ ¸æµç¨‹ï¼Œå°±å¸¸å¸¸ä¼šé‡åˆ°å„ç§é—®é¢˜â€”â€”è¯ä¹¦æ— æ•ˆã€ä¸Šä¼ å¤±è´¥ã€æˆªå›¾ä¸åˆè§„ã€å®¡æ ¸è¢«æ‹’â€¦â€¦</p>
<p>ä½†ä¸Šæ¶æµç¨‹æœ¬èº«å¹¶ä¸ç¥ç§˜ï¼Œåªè¦ç†è§£è‹¹æœçš„è§„èŒƒå’Œå·¥å…·é“¾ï¼Œå°±èƒ½ç³»ç»ŸåŒ–åœ°å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚
æœ¬æ–‡å°†ç«™åœ¨å¼€å‘è€…çš„è§’åº¦ï¼Œç»™å‡ºä¸€ä»½ <strong>é€‚ç”¨äº macOS / Windows / Linux çš„å®Œæ•´ä¸Šæ¶æ–¹æ¡ˆ</strong>ï¼Œé‡ç‚¹ä»‹ç» App Store ä¸Šæ¶çš„å…³é”®æµç¨‹ä¸å¯é€‰æ‹©çš„å·¥å…·ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€App Store ä¸Šæ¶æµç¨‹ä¸€è§ˆ</h2>
<p>æ— è®ºæ˜¯åŸç”Ÿå¼€å‘è¿˜æ˜¯è·¨å¹³å°å¼€å‘ï¼Œè¦ä¸Šæ¶ App Store éƒ½å¿…é¡»å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºå¼€å‘è€…è´¦å·ï¼ˆApple Developer Programï¼‰</li>
<li>å‡†å¤‡ App IDã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶</li>
<li>æ„å»ºå¹¶ç­¾å IPA åŒ…</li>
<li>ä¸Šä¼  IPA åˆ° App Store Connect</li>
<li>å¡«å†™åº”ç”¨ä¿¡æ¯ã€æˆªå›¾ã€éšç§æ”¿ç­–</li>
<li>æäº¤å®¡æ ¸å¹¶ç­‰å¾…ç»“æœ</li>
</ol>
<p>è™½ç„¶æ­¥éª¤å›ºå®šï¼Œä½†å®é™…æ“ä½œå—å·¥å…·å’Œå¹³å°å½±å“å¾ˆå¤§ï¼Œå› æ­¤çµæ´»é€‰æ‹©å·¥å…·æ˜¯æå‡æ•ˆç‡çš„å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¸Šæ¶å‰çš„åŸºç¡€å‡†å¤‡ï¼šè´¦å·ä¸åº”ç”¨èµ„æ–™</h2>
<h3 data-id="heading-2">1. å¼€å‘è€…è´¦å·</h3>
<p>æ‰€æœ‰ App Store ä¸Šæ¶éƒ½å¿…é¡»ä½¿ç”¨ä»˜è´¹å¼€å‘è€…è´¦å·ï¼ˆ$99 / å¹´ï¼‰ã€‚
è´¦å·æ³¨å†Œåå¯ä»¥ä½¿ç”¨ï¼š</p>
<ul>
<li>App Store Connectï¼ˆåº”ç”¨ç®¡ç†ï¼‰</li>
<li>è¯ä¹¦ç”Ÿæˆä¸ç­¾åç³»ç»Ÿ</li>
<li>TestFlight æµ‹è¯•</li>
<li>åº”ç”¨å®¡æ ¸æµç¨‹</li>
</ul>
<h3 data-id="heading-3">2. åº”ç”¨èµ„æ–™æ¸…å•</h3>
<p>åœ¨ä¸Šä¼  IPA å‰ï¼Œéœ€è¦æå‰å‡†å¤‡ï¼š</p>
<ul>
<li>åº”ç”¨åç§°ã€ç®€ä»‹ã€å…³é”®è¯</li>
<li>App å›¾æ ‡ï¼ˆ1024Ã—1024ï¼‰</li>
<li>éšç§æ”¿ç­–é“¾æ¥</li>
<li>åº”ç”¨æˆªå›¾ï¼ˆ6.5 å¯¸ã€5.5 å¯¸ã€iPad å°ºå¯¸ç­‰ï¼‰</li>
<li>æƒé™ç”¨é€”è¯´æ˜ï¼ˆéº¦å…‹é£ã€ç›¸æœºã€å®šä½ç­‰ï¼‰</li>
</ul>
<p>è¿™äº›å†…å®¹å°†åœ¨ App Store Connect ä¸­å¡«å†™ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è¯ä¹¦ä½“ç³»ï¼šä¸Šæ¶æœ€å®¹æ˜“å‡ºé—®é¢˜çš„éƒ¨åˆ†</h2>
<p>è‹¹æœé€šè¿‡è¯ä¹¦ä½“ç³»ç¡®ä¿ä¸Šä¼ è€…èº«ä»½çœŸå®å¯ä¿¡ã€‚
å¿…é¡»å‡†å¤‡çš„è¯ä¹¦åŒ…æ‹¬ï¼š</p>

















<table><thead><tr><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>iOS Distribution</td><td>ç”¨äºå‘å¸ƒåˆ° App Store</td></tr><tr><td>Provisioning Profile</td><td>åŒ…å« Bundle IDã€è¯ä¹¦ç­‰ä¿¡æ¯ï¼Œæ§åˆ¶ IPA ç­¾å</td></tr></tbody></table>
<p>è¿‡å»å¿…é¡»ä½¿ç”¨ Mac çš„é’¥åŒ™ä¸²åŠ©æ‰‹ç”Ÿæˆè¯ä¹¦ï¼Œä½†å¦‚ä»Šå·²ç»æœ‰è·¨å¹³å°æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-5">å››ã€è·¨å¹³å°è¯ä¹¦ç”Ÿæˆï¼šé€‚ç”¨äºæ²¡æœ‰ Mac çš„å¼€å‘è€…</h2>
<p>å¯¹äº Windows / Linux ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨è·¨å¹³å°å·¥å…·ç”Ÿæˆè¯ä¹¦ï¼Œä¾‹å¦‚ï¼š</p>
<h3 data-id="heading-6"><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploader CLIï¼‰ç”Ÿæˆè¯ä¹¦</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f838c2971bf54c1a8a84811672b1b8be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=Fwq98fnMk68ccTm7r0f8PAhe2xA%3D" alt="è¯ä¹¦" loading="lazy"/></p>
<p>ç”Ÿæˆå†…å®¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>p12 è¯ä¹¦</li>
<li>æè¿°æ–‡ä»¶</li>
<li>ä¸ Apple è´¦å·ç»‘å®šçš„ç­¾åæ–‡ä»¶</li>
</ul>
<p>è¯ä¹¦å¯è·¨ç”µè„‘å…±äº«ï¼Œé€‚åˆå›¢é˜Ÿåä½œï¼Œä¹Ÿé€‚åˆæ—  Mac ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-7">äº”ã€æ„å»º IPA åŒ…ï¼šæ ¹æ®å¼€å‘æ–¹å¼é€‰æ‹©å¯¹åº”å·¥å…·</h2>
<p>ä¸åŒå¼€å‘æ–¹å¼å¯¹åº”ä¸åŒæ„å»ºæ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-8">1. åŸç”Ÿå¼€å‘ï¼ˆSwift / Objective-Cï¼‰</h3>
<p>ä½¿ç”¨ Mac + Xcode æ„å»ºï¼š</p>
<pre><code class="hljs">Product â†’ Archive â†’ Export IPA
</code></pre>
<h3 data-id="heading-9">2. uni-app</h3>
<p>ä½¿ç”¨ HBuilderX äº‘æ‰“åŒ…å³å¯è·å¾— IPAï¼Œæ— éœ€å®‰è£… Xcodeã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebce08b202b64163a1efca069494d333~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=pukjxor%2BEO2ctKymdso1XQNY0AY%3D" alt="hbæ‰“åŒ…" loading="lazy"/></p>
<h3 data-id="heading-10">3. Flutter</h3>
<p>å¯ä½¿ç”¨ä»¥ä¸‹äº‘æ„å»ºæœåŠ¡ï¼š</p>
<ul>
<li>Codemagic</li>
<li>Bitrise</li>
<li>GitHub Actionsï¼ˆè¿œç¨‹ Mac Runnerï¼‰</li>
</ul>
<h3 data-id="heading-11">4. React Native / Ionic / Capacitor</h3>
<p>å¯ä½¿ç”¨ï¼š</p>
<ul>
<li>Expo Cloud Build</li>
<li>ç¬¬ä¸‰æ–¹ CI å¹³å°æ„å»º</li>
</ul>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼Œåªè¦æœ€ç»ˆå¾—åˆ° <strong>ç­¾åæ­£ç¡®çš„ IPA æ–‡ä»¶</strong> å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…­ã€ä¸Šä¼  IPA åˆ° App Storeï¼šå·¥å…·å¯¹æ¯”ä¸æœ€ä½³è§£æ³•</h2>
<p>è‹¹æœå®˜æ–¹æä¾›çš„ä¸Šä¼ æ–¹å¼åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>å·¥å…·</th><th>å¹³å°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>Xcode Organizer</td><td>macOS</td><td>å®˜æ–¹ã€ä½†å®Œå…¨ä¾èµ– Mac</td></tr><tr><td>Transporter</td><td>macOS</td><td>å›¾å½¢åŒ–ä¸Šä¼ ï¼Œä¸æ”¯æŒè‡ªåŠ¨åŒ–</td></tr><tr><td>altool</td><td>macOS</td><td>å·²å¼ƒç”¨</td></tr></tbody></table>
<p>å¯¹äº Windows æˆ– Linux å¼€å‘è€…æ¥è¯´ï¼Œè¿™äº›æ–¹å¼ä¸å¯ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¸ƒã€è·¨å¹³å°ä¸Šä¼  IPA çš„è§£å†³æ–¹æ¡ˆï¼šå‘½ä»¤è¡Œä¸Šä¼ </h2>
<p>æœ€çµæ´»çš„ IPA ä¸Šä¼ æ–¹å¼æ˜¯ä½¿ç”¨è·¨å¹³å°çš„ CLI å·¥å…·ï¼Œä¾‹å¦‚æ–°ç‰ˆï¼š</p>
<h3 data-id="heading-14"><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰å‘½ä»¤è¡Œå·¥å…·</strong></h3>
<p>ç¤ºä¾‹ä¸Šä¼ å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u ios@team.com -p xxx-xxx-xxx-xxx -c 2 -f ./build/MyApp.ipa
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>

























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-u</code></td><td>Apple ID</td></tr><tr><td><code>-p</code></td><td>App ä¸“ç”¨å¯†ç </td></tr><tr><td><code>-c</code></td><td>ä¸Šä¼ é€šé“ï¼ˆ1 æ—§åè®®ã€2 æ–°åè®®ï¼‰</td></tr><tr><td><code>-f</code></td><td>IPA æ–‡ä»¶</td></tr></tbody></table>
<p>CLI ä¸Šä¼ çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ”¯æŒ Windows / Linux / macOS</li>
<li>å¯é›†æˆåˆ° CI/CD æµæ°´çº¿</li>
<li>ä¸Šä¼ æ—¥å¿—ä¸é”™è¯¯ä¿¡æ¯æ˜ç¡®</li>
<li>ä¸ä¾èµ– Mac</li>
<li>é€‚åˆè‡ªåŠ¨åŒ–å‘å¸ƒä¸å›¢é˜Ÿåä½œ</li>
</ul>
<p>ä¸Šä¼ å®Œæˆåï¼Œæ„å»ºä¼šè‡ªåŠ¨å‡ºç°åœ¨ï¼š</p>
<ul>
<li>TestFlight</li>
<li>App Store Connect â†’ æ„å»ºç‰ˆæœ¬</li>
</ul>
<hr/>
<h2 data-id="heading-15">å…«ã€åœ¨ App Store Connect ä¸­é…ç½®å…ƒæ•°æ®ä¸å®¡æ ¸æäº¤</h2>
<p>å®Œæˆ IPA ä¸Šä¼ åï¼Œè¿˜éœ€é…ç½®ï¼š</p>
<ul>
<li>åº”ç”¨æˆªå›¾</li>
<li>åŠŸèƒ½ä»‹ç»</li>
<li>éšç§æƒé™è¯´æ˜</li>
<li>å¹´é¾„åˆ†çº§</li>
<li>å…³é”®è¯</li>
<li>è”ç³»æ–¹å¼</li>
<li>æ³•åŠ¡å†…å®¹ï¼ˆéšç§æ”¿ç­–é“¾æ¥ï¼‰</li>
</ul>
<p>æœ€åé€‰æ‹©æ„å»ºç‰ˆæœ¬ï¼Œæäº¤å®¡æ ¸ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c8d6567aff74c7aac684a0685500efe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=ZWiqsqJhvOZE9zr5w1cqS4DHww4%3D" alt="asc" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-16">ä¹ã€å®¡æ ¸å¸¸è§é—®é¢˜ä¸æœ€ç»ˆä¸Šçº¿</h2>
<p>App Store å®¡æ ¸ä¸¥æ ¼ï¼Œå¸¸è§æ‹’ç»åŸå› åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æƒé™ç”¨é€”æè¿°ä¸å®Œæ•´</td><td>ç¼ºå°‘ NSCameraUsageDescription ç­‰å­—æ®µ</td></tr><tr><td>æˆªå›¾ä¸åŠŸèƒ½ä¸ä¸€è‡´</td><td>å¿…é¡»çœŸå®å±•ç¤ºåº”ç”¨ç•Œé¢</td></tr><tr><td>App é—ªé€€</td><td>åˆå§‹åŒ–é˜¶æ®µæœªå¤„ç†å¥½è®¾å¤‡æƒé™</td></tr><tr><td>è´¦å·ç™»å½•æœºåˆ¶å¼‚å¸¸</td><td>ä¸ç¬¦åˆ Apple ç™»å½•è¦æ±‚</td></tr></tbody></table>
<p>é€šå¸¸æ­£å¸¸ App çš„å®¡æ ¸æ—¶é—´ï¼š</p>
<ul>
<li>é¦–æ¬¡ä¸Šæ¶ï¼š2â€“7 å¤©</li>
<li>ç‰ˆæœ¬æ›´æ–°ï¼š1â€“3 å¤©</li>
</ul>
<hr/>
<p>â€œApp Store ä¸Šæ¶ Appâ€ çœ‹ä¼¼å¤æ‚ï¼Œä½†æµç¨‹æœ¬è´¨æ˜¯æ¸…æ™°çš„ï¼šå‡†å¤‡ â†’ æ„å»º â†’ ç­¾å â†’ ä¸Šä¼  â†’ é…ç½® â†’ å®¡æ ¸ã€‚</p>
<p>å¦‚ä»Šæ— è®ºä½ æ˜¯å¦æ‹¥æœ‰ Macï¼Œéƒ½èƒ½é€šè¿‡äº‘æ‰“åŒ… + è·¨å¹³å°è¯ä¹¦ç®¡ç† + è·¨ç³»ç»Ÿ IPA ä¸Šä¼ å·¥å…·ï¼Œå®Œæˆå®Œæ•´çš„ä¸Šæ¶æµç¨‹ã€‚</p>
<p>å¯¹å¼€å‘è€…è€Œè¨€ï¼Œå…³é”®ä¸æ˜¯å¹³å°ï¼Œè€Œæ˜¯æ˜¯å¦æŒæ¡äº†æ­£ç¡®çš„æµç¨‹ä¸åˆé€‚çš„å·¥å…·ç»„åˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainåˆ›å»ºæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7572844326390382626</link>    <guid>https://juejin.cn/post/7572844326390382626</guid>    <pubDate>2025-11-17T04:13:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390382626" data-draft-id="7552505922577236003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainåˆ›å»ºæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,OpenAI"/> <meta itemprop="datePublished" content="2025-11-17T04:13:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uccs"/> <meta itemprop="url" content="https://juejin.cn/user/2664871915435550"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainåˆ›å»ºæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2664871915435550/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uccs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:13:59.000Z" title="Mon Nov 17 2025 04:13:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AgentType</h2>
<p><code>LangChain</code> æä¾›äº†å¤šç§æ™ºèƒ½ä½“ç±»å‹ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚å¸¸è§çš„æ™ºèƒ½ä½“ç±»å‹åŒ…æ‹¬ï¼š</p>






















































<table><thead><tr><th align="left">AgentType</th><th align="left">æ ¸å¿ƒæœºåˆ¶</th><th align="left">é€‚ç”¨åœºæ™¯</th><th align="left">ä¼˜ç‚¹</th><th align="left">ç¼ºç‚¹</th></tr></thead><tbody><tr><td align="left"><code>ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left"><code>ReAct</code> + å·¥å…·æè¿°</td><td align="left">ç®€å•ä»»åŠ¡ + å·¥å…·ç»„åˆ</td><td align="left">å¿«é€Ÿé›†æˆã€æ— éœ€è®­ç»ƒæ•°æ®</td><td align="left">è¾“å‡ºæ ¼å¼è‡ªç”±ï¼Œå¯æ§æ€§è¾ƒä½</td></tr><tr><td align="left"><code>STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left">ç»“æ„åŒ–è¾“å‡º + <code>ReAct</code></td><td align="left">ç»“æ„åŒ–å·¥å…·è°ƒç”¨</td><td align="left">é«˜å¯æ§æ€§ï¼Œæ ¼å¼ä¸¥æ ¼</td><td align="left">ä¾èµ–å·¥å…·æè¿°æ¸…æ™°åº¦</td></tr><tr><td align="left"><code>OPENAI_FUNCTIONS</code></td><td align="left">OpenAI å‡½æ•°è°ƒç”¨</td><td align="left">OPENAI æ¨¡å‹åœºæ™¯</td><td align="left">é«˜æ•ˆï¼Œå¼ºè€¦åˆ OPENAI</td><td align="left">ä»…é™ OPENAI æ¨¡å‹</td></tr><tr><td align="left"><code>CONVERSATIONS_REACT_DESCRIPTION</code></td><td align="left">å¤šè½®å¯¹è¯ + <code>ReAct</code></td><td align="left">å¤šè½®äº¤äº’ä»»åŠ¡</td><td align="left">ä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€çµæ´»æ€§é«˜</td><td align="left">éœ€é…ç½®è®°å¿†æ¨¡å—</td></tr><tr><td align="left"><code>AUTO_GPT</code></td><td align="left">è‡ªä¸»ä»£ç†å¾ªç¯</td><td align="left">å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–</td><td align="left">è‡ªä¸»å†³ç­–ã€é•¿æœŸç›®æ ‡</td><td align="left">å®éªŒæ€§ï¼Œç¨³å®šæ€§å¾…éªŒè¯</td></tr><tr><td align="left"><code>STRUCTURED_CHAT</code></td><td align="left">ä¸¥æ ¼ç»“æ„åŒ–è¾“å‡º</td><td align="left">æ•°æ®æå–ã€è¡¨å•å¡«å†™</td><td align="left">æ ¼å¼æ ‡å‡†åŒ–ã€å¯æ§æ€§å¼º</td><td align="left">çµæ´»æ€§ä½</td></tr></tbody></table>
<h2 data-id="heading-1">åˆå§‹åŒ–æ™ºèƒ½ä½“</h2>
<p>æ™ºèƒ½ä½“æ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·æ¥å®Œæˆä»»åŠ¡çš„ç³»ç»Ÿã€‚<code>initialize_agent</code> ç”¨äºåˆ›å»ºä¸€ä¸ªæ™ºèƒ½ä½“(agent)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·(tools)æ¥å®Œæˆä»»åŠ¡ã€‚æ™ºèƒ½ä½“é€šè¿‡ä¸è¯­è¨€æ¨¡å‹(LLM)äº¤äº’ï¼Œå†³å®šä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·</p>
<p><code>initialize_agent</code> æ¥è‡ªäº <code>langchain</code> è¿™ä¸ªåŒ…</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType

agent = initialize_agent(
    tools=create_calc_tools(),
    llm=llm,
    agent=AgentType.STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>, <span class="hljs-comment"># æ‰“å¼€è°ƒè¯•</span>
)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š"</span>, resp)
</code></pre>
<p>ä¼ å…¥ <code>verbose=True</code> å¯ä»¥æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œçœ‹åˆ°æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹</p>
<p><code>Thought</code> æ˜¯æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹ï¼Œ<code>Action</code> æ˜¯æ™ºèƒ½ä½“å†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·ä»¥åŠä¼ å…¥ä»€ä¹ˆå‚æ•°ï¼Œ<code>Observation</code> æ˜¯å·¥å…·å‡½æ•°çš„è¿”å›ç»“æœ</p>
<pre><code class="hljs language-bash" lang="bash">&gt; Entering new AgentExecutor chain...
Thought: éœ€è¦ä½¿ç”¨åŠ æ³•å·¥å…·æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œã€‚
Action:
</code></pre>
<p>{ "action": "add", "action_input": { "a": 100, "b": 100 } }</p>
<pre><code class="hljs language-css" lang="css">
Observation: <span class="hljs-number">200</span>


&gt; Finished chain.
å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š {'<span class="hljs-selector-tag">input</span>': <span class="hljs-string">'100+100=?'</span>, <span class="hljs-string">'output'</span>: <span class="hljs-number">200</span>}
</code></pre>
<h2 data-id="heading-2">ç»“æ„åŒ–è¿”å›</h2>
<p>æˆ‘ä»¬ç°åœ¨è¿”å›çš„æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬ï¼Œæˆ‘ä»¬å¸Œæœ›è¿”å›çš„æ˜¯ä¸€ä¸ª <code>json</code>ï¼Œå› ä¸º <code>json</code> åœ¨å¤„ç†å¤§æ¨¡å‹ä¹‹é—´çš„è°ƒç”¨æ—¶æ›´ä¸ºé«˜æ•ˆå’Œçµæ´»</p>
<p><code>JsonOutputParser</code> å¯ä»¥å°†å¤§æ¨¡å‹çš„è¾“å‡ºè§£æä¸º <code>json</code> æ ¼å¼</p>
<p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ª <code>output_schema</code>ï¼Œå‘Šè¯‰ <code>JsonOutputParser</code> æˆ‘ä»¬å¸Œæœ›è¿”å›çš„ <code>json</code> æ ¼å¼</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> JsonOutputParser

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Output</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    args: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¾“å…¥çš„å‚æ•°"</span>)
    output: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¿”å›çš„ç»“æœ"</span>)
    think: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ€è€ƒè¿‡ç¨‹"</span>)


parser = JsonOutputParser(pydantic_object=Output)
format_instructions = parser.get_format_instructions()

prompt = chat_prompt_template.format_messages(
    role=<span class="hljs-string">"è®¡ç®—"</span>,
    domain=<span class="hljs-string">"ä½¿ç”¨å·¥å…·è¿›è¡Œæ•°å­¦è®¡ç®—"</span>,
    question=<span class="hljs-string">f"""
    è¯·é˜…è¯»ä¸‹é¢çš„é—®é¢˜ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸¥æ ¼çš„ JSON å¯¹è±¡ï¼Œä¸è¦ä½¿ç”¨ Markdown ä»£ç å—åŒ…è£¹
    æ ¼å¼è¦æ±‚ï¼š
    <span class="hljs-subst">{format_instructions}</span>

é—®é¢˜ï¼š
100+100=?
"""</span>,
)
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F4fa8c5287c1706a6620421cf68a9fcf77ae275f4%2Fbailian%2Fbailian_agent.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/4fa8c5287c1706a6620421cf68a9fcf77ae275f4/bailian/bailian_agent.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-3">PythonREPL</h2>
<p>ä¹‹å‰å¼€å‘çš„ <code>add</code> å·¥å…·å‡½æ•°åªèƒ½è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œåœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼Œè‚¯å®šä¸å¯èƒ½è¿™ä¹ˆç®€å•</p>
<p>ä½†æ˜¯æˆ‘ä»¬åˆä¸å¯èƒ½å»å¼€å‘æ‰€æœ‰çš„å·¥å…·å‡½æ•°ï¼Œè¿™æ ·å·¥ä½œé‡å¤ªå¤§</p>
<p><code>PythonREPL</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å·¥å…·ï¼Œå¯ä»¥è®©å¤§æ¨¡å‹ç›´æ¥æ‰§è¡Œ <code>Python</code> ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool

python_repl = PythonREPLTool()
ret = python_repl.run(<span class="hljs-string">"print(1 + 1)"</span>)

<span class="hljs-built_in">print</span>(ret)  <span class="hljs-comment"># è¾“å‡º 2</span>
</code></pre>
<p>åœ¨ä½ ä½¿ç”¨ <code>PythonREPL</code> å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…å°å¿ƒï¼Œå› ä¸ºå®ƒå…è®¸æ‰§è¡Œä»»æ„çš„ <code>Python</code> ä»£ç ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é£é™©</p>
<pre><code class="hljs language-bash" lang="bash">Python REPL can execute arbitrary code. Use with caution.
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F01bfa5ecb31d22656182108a6441306579db0a09%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/01bfa5ecb31d22656182108a6441306579db0a09/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-4">ç”¨æ™ºèƒ½ä½“ç¼–å†™ä¸€ä¸ªç½‘ç«™</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> PromptTemplate
<span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm


tools = [PythonREPLTool()]
tool_names = [<span class="hljs-string">"PythonREPLTool"</span>]

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>,
)

prompt_template = PromptTemplate.from_template(
    template=<span class="hljs-string">"""
å°½ä½ æ‰€èƒ½å›ç­”ä»¥ä¸‹é—®é¢˜æˆ–æ‰§è¡Œç”¨æˆ·å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·: [${tool_names}]
--
è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿›è¡Œæ€è€ƒï¼š
\```
# æ€è€ƒçš„è¿‡ç¨‹
- é—®é¢˜ï¼šä½ å¿…é¡»å›ç­”çš„é—®é¢˜
- æ€è€ƒï¼šä½ è€ƒè™‘åº”è¯¥æ€ä¹ˆåš
- è¡ŒåŠ¨ï¼šè¦é‡‡å–è¡ŒåŠ¨ï¼Œåº”è¯¥æ˜¯[{tool_names}]ä¸­çš„ä¸€ä¸ª
- è¡ŒåŠ¨è¾“å…¥ï¼šè¡ŒåŠ¨çš„è¾“å…¥
- è§‚å¯Ÿï¼šè¡ŒåŠ¨çš„ç»“æœ
...(è¿™ä¸ªæ€è€ƒ/è¡ŒåŠ¨/è¡ŒåŠ¨è¾“å…¥/è§‚å¯Ÿå¯ä»¥é‡å¤Næ¬¡)
# æœ€ç»ˆç­”æ¡ˆ
å¯¹åŸå§‹è¾“å…¥é—®é¢˜çš„æœ€ç»ˆç­”æ¡ˆ
\```
--
æ³¨æ„ï¼š
- PythonREPLTool å·¥å…·çš„å…¥å‚æ˜¯pythonä»£ç ï¼Œä¸å…è®¸æ·»åŠ  ```python æˆ– ```py ç­‰æ ‡è®°
--
è¦æ±‚ï¼š{input}
"""</span>
)

prompt = prompt_template.<span class="hljs-built_in">format</span>(
    tool_names=<span class="hljs-string">", "</span>.join(tool_names),
    <span class="hljs-built_in">input</span>=<span class="hljs-string">"""
    è¦æ±‚ï¼š
    1. å‘ /Users/uccs/Desktop/project/ai/ai-agent/.tmp ä¸‹å†™å…¥ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œåç§°ä¸º index.html
    2. å†™ä¸€ä¸ªåœ¨çº¿æ•™è‚²äº§å“çš„å®˜ç½‘ï¼ŒåŒ…å«3ä¸ªtabï¼Œåˆ†åˆ«æ˜¯ é¦–é¡µã€å®æˆ˜è¯¾ã€ä½“ç³»è¯¾å’Œå…³äºæˆ‘ä»¬
    3. é¦–é¡µåŒ…å«3ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ï¼šçƒ­é—¨è¯¾ç¨‹ã€ä¸Šæ–°è¯¾ç¨‹ã€çˆ†æ¬¾è¯¾ç¨‹
    4. å…³äºæˆ‘ä»¬å±•ç¤ºå¹³å°çš„è”ç³»æ–¹å¼ç­‰åŸºæœ¬ä¿¡æ¯
    """</span>,
)

agent.invoke({<span class="hljs-string">"input"</span>: prompt})
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F3584bda65b0089f157676059fc2e7ac3f0dc209f%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/3584bda65b0089f157676059fc2e7ac3f0dc209f/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-5">è§£æå™¨</h2>
<p><code>LangChain</code> è¾“å‡ºè§£æå™¨ï¼ˆ<code>Output Parsers</code>ï¼‰æ˜¯å°†å¤§è¯­è¨€æ¨¡å‹ï¼ˆ<code>LLM</code>ï¼‰çš„åŸå§‹æ–‡æœ¬å“åº”è½¬æ¢ä¸ºç»“æ„åŒ–ã€å¯æ“ä½œæ•°æ®çš„å…³é”®ç»„ä»¶ã€‚è¾“å‡ºè§£æå™¨é€šè¿‡æä¾›æ ¼å¼åŒ–æŒ‡ä»¤å¹¶è§£ææ¨¡å‹è¾“å‡ºï¼Œå®ç°æ–‡æœ¬åˆ°ç»“æ„åŒ–æ•°æ®çš„é«˜æ•ˆè½¬æ¢ã€‚</p>
<h3 data-id="heading-6">åŸºç¡€è§£æå™¨</h3>
<p>åŸºç¡€è§£æå™¨å¤„ç†æœ€ç®€å•çš„æ•°æ®æ ¼å¼è½¬æ¢ï¼š</p>
<ul>
<li><code>StrOutputParser</code>ï¼šç›´æ¥æå–æ¨¡å‹è¿”å›çš„åŸå§‹æ–‡æœ¬ï¼Œä¸åšä»»ä½•ç»“æ„åŒ–å¤„ç†</li>
<li><code>CommaSeparatedListOutputParser</code>ï¼šå°†é€—å·åˆ†éš”çš„æ–‡æœ¬è½¬æ¢ä¸º <code>Python</code> åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œå°† <code>"apples, bananas, oranges"</code> è§£æä¸º <code>['apples', 'bananas', 'oranges']</code></li>
<li><code>BooleanOutputParser</code>ï¼šè§£ææ–‡æœ¬ä¸ºå¸ƒå°”å€¼ <code>ï¼ˆTrue/Falseï¼‰</code>ã€‚æ¨¡å‹è¾“å‡ºå¿…é¡»æ˜¯ <code>"yes"</code> æˆ– <code>"no"</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œè§£æå™¨ä¼šç»Ÿä¸€è½¬ä¸ºå¤§å†™ååˆ¤æ–­</li>
<li><code>SimpleJsonOutputParser</code>ï¼šå°†æ–‡æœ¬ç®€å•å¤„ç†åè½¬æ¢ä¸º <code>JSON</code> æ ¼å¼ï¼Œé€šå¸¸ç”¨äºæ¨¡å‹å·²ç»æ­£ç¡®è¾“å‡º <code>JSON</code> çš„æƒ…å†µ</li>
</ul>
<h4 data-id="heading-7">StrOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> StrOutputParser

parser = StrOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100+200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 100 + 200 = **300**</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Fca6c4c270e77c9d5cca7a4a55d06cd76e078aefc%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/ca6c4c270e77c9d5cca7a4a55d06cd76e078aefc/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h4 data-id="heading-8">CommaSeparatedListOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> CommaSeparatedListOutputParser

parser = CommaSeparatedListOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100*200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># ['100ä¹˜ä»¥200ç­‰äº20000ã€‚å› æ­¤ï¼Œ$100 \\times 200 = 20000$ã€‚']</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Ff735cf42a7acf7d23b0429176a41a3fc0087e43b%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/f735cf42a7acf7d23b0429176a41a3fc0087e43b/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-9">Pydantic è§£æå™¨</h3>
<p><code>Pydantic</code> è§£æå™¨é€šè¿‡ <code>Pydantic</code> æ¨¡å‹å®šä¹‰å¤æ‚ç»“æ„ï¼Œæä¾›æ›´ä¸¥æ ¼çš„éªŒè¯å’Œæ•°æ®æ ¡éªŒï¼š</p>
<ul>
<li><code>PydanticOutputParser</code>ï¼šå°†æ¨¡å‹è¾“å‡ºè§£æä¸º <code>Pydantic</code> å®šä¹‰çš„æ¨¡å‹å¯¹è±¡ã€‚éœ€è¦é¢„å…ˆå®šä¹‰ <code>Pydantic</code> æ¨¡å‹ï¼Œæ”¯æŒåµŒå¥—æ•°æ®ç»“æ„å’Œç±»å‹éªŒè¯</li>
<li><code>PydanticToolsParser</code>ï¼šä¸“é—¨å¤„ç†OpenAIå·¥å…·è°ƒç”¨ä¸­çš„ <code>Pydantic</code> å¯¹è±¡ï¼Œå°†å·¥å…·è°ƒç”¨å‚æ•°è§£æä¸º <code>Pydantic</code> æ¨¡å‹</li>
</ul>
<p><code>Pydantic</code> è§£æå™¨é€‚åˆéœ€è¦ä¸¥æ ¼éªŒè¯çš„æ•°æ®ç»“æ„ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•è¯¦æƒ…ç­‰ï¼Œç¡®ä¿è¾“å‡ºçš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§</p>
<h3 data-id="heading-10">å‡½æ•°è°ƒç”¨è§£æå™¨</h3>
<p>å‡½æ•°è°ƒç”¨è§£æå™¨å¤„ç†æ”¯æŒOpenAIå‡½æ•°è°ƒç”¨çš„æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰çš„å“åº”ï¼š</p>
<ul>
<li><code>OutputFunctionsParser</code>ï¼šè§£ææ¨¡å‹è¿”å›çš„å‡½æ•°è°ƒç”¨å‚æ•°ï¼Œé€šå¸¸è¿”å›JSONæ ¼å¼çš„å‡½æ•°å‚æ•°</li>
<li><code>JsonOutputFunctionsParser</code>ï¼šæå–å‡½æ•°è°ƒç”¨ä¸­çš„JSONå‚æ•°</li>
</ul>
<p>è¿™äº›è§£æå™¨ä¸“ä¸ºéœ€è¦è°ƒç”¨ç‰¹å®šå‡½æ•°æˆ–å·¥å…·çš„åœºæ™¯è®¾è®¡ï¼Œå¸¸è§äºAgentç³»ç»Ÿæˆ–å¤æ‚ä»»åŠ¡å¤„ç†</p>
<h3 data-id="heading-11">æ—¶é—´/æšä¸¾è§£æå™¨</h3>
<p>å¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ï¼š</p>
<ul>
<li><code>DatetimeOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ˆ<code>"%Y-%m-%dT%H:%M:%S.%fZ"</code>ï¼‰</li>
<li><code>EnumOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºé¢„å®šä¹‰çš„æšä¸¾å€¼ï¼Œé€‚ç”¨äºéœ€è¦ä¸¥æ ¼é™åˆ¶è¾“å‡ºé€‰é¡¹çš„åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-12">DatetimeOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm
<span class="hljs-keyword">from</span> langchain.output_parsers <span class="hljs-keyword">import</span> DatetimeOutputParser
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

parser = DatetimeOutputParser()
instructions = parser.get_format_instructions()
prompt = ChatPromptTemplate.from_messages(
    [
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">f"å¿…é¡»æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿”å›æ—¥æœŸæ—¶é—´ï¼š<span class="hljs-subst">{instructions}</span>"</span>),
        (<span class="hljs-string">"human"</span>, <span class="hljs-string">"è¯·å°†ä»¥ä¸‹è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼š{text}"</span>),
    ]
)
chain = prompt | llm | parser
resp = chain.invoke({<span class="hljs-string">"text"</span>: <span class="hljs-string">"äºŒå¹´é›¶äºŒäº”å¹´äº”æœˆä¸€æ—¥ä¸‹åˆåç‚¹ååˆ†"</span>})
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 2025-05-01 22:10:00</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Ftree%2Fb9b7de835edb63bb532be00392bab420b50f91fb" target="_blank" title="https://github.com/astak16/langchain-demo/tree/b9b7de835edb63bb532be00392bab420b50f91fb" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-13">æ­£åˆ™è§£æå™¨</h3>
<p>é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–ç‰¹å®šæ¨¡å¼çš„æ•°æ®ï¼š</p>
<ul>
<li><code>RegexParser</code>ï¼šå•å­—æ®µæ­£åˆ™åŒ¹é…ã€‚</li>
<li><code>RegexDictParser</code>ï¼šå¤šå­—æ®µæ­£åˆ™æå–ä¸ºå­—å…¸ã€‚</li>
<li>æ­£åˆ™è§£æå™¨é€‚åˆéœ€è¦çµæ´»åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„åœºæ™¯ï¼Œå¦‚æå–ç”µè¯å·ç ã€é‚®ç®±åœ°å€ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-14">å¤åˆè§£æå™¨</h3>
<p>å¤„ç†å¤æ‚æˆ–å¤šéƒ¨åˆ†çš„è¾“å‡ºï¼š</p>
<ul>
<li><code>CombiningOutputParser</code>ï¼šç»„åˆå¤šä¸ªè§£æå™¨ï¼Œå°†æ–‡æœ¬é€šè¿‡åˆ†éš”ç¬¦æ‹†åˆ†ååˆ†åˆ«è§£æã€‚</li>
<li><code>RetryWithErrorOutputParser</code>ï¼šåœ¨è§£æå¤±è´¥æ—¶é‡è¯•å¹¶å°è¯•ä¿®å¤è¾“å‡ºã€‚</li>
<li>å¤åˆè§£æå™¨æä¾›äº†æ›´å¼ºå¤§çš„å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥åº”å¯¹å¤æ‚æˆ–å¤šä»»åŠ¡çš„è¾“å‡ºåœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-15">å¼ºæ ¡éªŒè§£æå™¨</h3>
<p>æä¾›æ›´ä¸¥æ ¼çš„è¾“å‡ºéªŒè¯ï¼š</p>
<ul>
<li><code>GuardrailsOutputParser</code>ï¼šåŸºäº <code>Guardrails</code> åº“ï¼Œå¯¹è¾“å‡ºè¿›è¡Œå¼ºæ ¡éªŒï¼Œæ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼ˆå¦‚è¿‡æ»¤ä¸å½“å†…å®¹ã€æ ¡éªŒæ•°æ®æ ¼å¼ï¼‰ã€‚</li>
</ul>
<p><code>Guardrails</code> è§£æå™¨ç‰¹åˆ«é€‚åˆå®‰å…¨æ•æ„Ÿåœºæ™¯ï¼Œç¡®ä¿è¾“å‡ºå†…å®¹ç¬¦åˆé¢„è®¾è§„åˆ™å’Œæ ‡å‡†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†"ç»„åˆä¼˜äºç»§æ‰¿"]]></title>    <link>https://juejin.cn/post/7573508048141893641</link>    <guid>https://juejin.cn/post/7573508048141893641</guid>    <pubDate>2025-11-17T13:47:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573508048141893641" data-draft-id="7573528564026212398" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†&quot;ç»„åˆä¼˜äºç»§æ‰¿&quot;"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-17T13:47:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†"ç»„åˆä¼˜äºç»§æ‰¿"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T13:47:59.000Z" title="Mon Nov 17 2025 13:47:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸ç®¡æ˜¯çœ‹äº›åšå®¢ï¼Œæ–‡ç« è¿˜æ˜¯å•¥ï¼Œç»å¸¸ä¼šçœ‹åˆ°"ç»„åˆä¼˜äºç»§æ‰¿"è¿™å¥è¯ï¼Œå¿ƒé‡Œæƒ³çš„æ˜¯ï¼šå•¥ç©æ„å„¿ï¼Ÿç»§æ‰¿å¤šå¥½ç”¨å•Šï¼Œextendsä¸€ä¸‹å°±å®Œäº‹äº†ï¼Œè¿˜èƒ½å¤ç”¨ä»£ç ï¼Œå¤šé¦™ã€‚ä¹Ÿæ²¡å»è¯¦ç»†æƒ³è¿‡ç›¸å…³çš„é—®é¢˜ã€‚</p>
<p>ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘æ¥æ‰‹äº†ä¸€ä¸ª"ç¥–ä¼ "é¡¹ç›®ï¼Œçœ‹åˆ°äº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mammal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mammal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GuideDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Dog</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">GuideDog</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TherapyDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ServiceDog</span> {}

<span class="hljs-comment">// æˆ‘ï¼š???è¿™æ˜¯ä»€ä¹ˆå¥—å¨ƒç°åœº</span>
</code></pre>
<p>ç„¶åäº§å“ç»ç†è¯´ï¼šæˆ‘ä»¬è¦åŠ ä¸ªä¼šé£çš„ç‹—ã€‚</p>
<p>æˆ‘ï¼š......</p>
<p>è¿™æ—¶å€™æ‰æ˜ç™½ï¼ŒåŸæ¥ç»§æ‰¿ä¸æ˜¯ä¸‡èƒ½çš„ã€‚ä»Šå¤©å°±æ¥èŠèŠä¸ºä»€ä¹ˆ"ç»„åˆä¼˜äºç»§æ‰¿"ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»§æ‰¿ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»„åˆã€‚</p>
<h2 data-id="heading-1">ç»§æ‰¿çš„é—®é¢˜åˆ°åº•åœ¨å“ª</h2>
<h3 data-id="heading-2">é—®é¢˜1ï¼šç±»å±‚æ¬¡å¤ªè„†å¼±</h3>
<p>ç»§æ‰¿æœ€å¤§çš„é—®é¢˜æ˜¯ï¼š<strong>ä½ çš„å­ç±»å’Œçˆ¶ç±»ç»‘æ­»äº†</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bird</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
  }

  <span class="hljs-title function_">layEggs</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> laid eggs`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Penguin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span> {
  <span class="hljs-comment">// é—®é¢˜æ¥äº†ï¼šä¼é¹…ä¸ä¼šé£</span>
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Penguins cannot fly!'</span>);
  }
}

<span class="hljs-keyword">const</span> penguin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Penguin</span>(<span class="hljs-string">'æ³¢æ³¢'</span>);
penguin.<span class="hljs-title function_">fly</span>(); <span class="hljs-comment">// ğŸ’¥ æŠ›é”™äº†</span>
</code></pre>
<p>ä½ çœ‹ï¼Œä¼é¹…ç¡®å®æ˜¯é¸Ÿï¼Œä½†å®ƒä¸ä¼šé£ã€‚å¦‚æœç”¨ç»§æ‰¿ï¼Œè¦ä¹ˆï¼š</p>
<ol>
<li>åœ¨å­ç±»é‡Œè¦†ç›–æ–¹æ³•æŠ›é”™ï¼ˆä½†è¿™è¿åäº†é‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰</li>
<li>æŠŠçˆ¶ç±»æ‹†æˆæ›´ç»†çš„ç±»ï¼ˆä½†è¿™åˆå¯¼è‡´ç±»çˆ†ç‚¸ï¼‰</li>
</ol>
<p>è¿™å°±æ˜¯æ‰€è°“çš„"è„†å¼±åŸºç±»é—®é¢˜"ï¼ˆFragile Base Class Problemï¼‰ã€‚çˆ¶ç±»æ”¹ä¸€ç‚¹ä¸œè¥¿ï¼Œæ‰€æœ‰å­ç±»éƒ½å¯èƒ½æŒ‚ã€‚</p>
<h3 data-id="heading-3">é—®é¢˜2ï¼šå¤šç»§æ‰¿çš„å›°å¢ƒ</h3>
<p>JavaScriptåªæ”¯æŒå•ç»§æ‰¿ï¼Œä½†ç°å®ä¸–ç•Œå¾ˆå¤šä¸œè¥¿éœ€è¦å¤šç§èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æˆ‘æƒ³è¦ä¸€ä¸ªä¼šé£åˆä¼šæ¸¸æ³³çš„é¸­å­</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span>, <span class="hljs-title class_">Fish</span> {  <span class="hljs-comment">// âŒ è¯­æ³•é”™è¯¯ï¼ŒJSä¸æ”¯æŒå¤šç»§æ‰¿</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>æœ‰äººè¯´ï¼Œé‚£æˆ‘ç”¨Mixinå•Šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span> {}
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Duck</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-title class_">Swimmable</span>, <span class="hljs-title class_">Diveable</span>);
</code></pre>
<p>ä½†è¿™åˆå¼•å…¥äº†æ–°é—®é¢˜ï¼š</p>
<ul>
<li>Mixinçš„æ–¹æ³•å¯èƒ½å†²çª</li>
<li>æ²¡æœ‰ç±»å‹æ£€æŸ¥</li>
<li>åŸå‹é“¾å˜å¾—æ··ä¹±</li>
</ul>
<h3 data-id="heading-4">é—®é¢˜3ï¼šé€»è¾‘æ•£è½åœ¨ç»§æ‰¿é“¾ä¸­</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> += <span class="hljs-number">10</span>;  <span class="hljs-comment">// ç­‰ç­‰ï¼Œenergyåœ¨å“ªå®šä¹‰çš„ï¼Ÿ</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mammal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> = <span class="hljs-number">100</span>;  <span class="hljs-comment">// åŸæ¥åœ¨è¿™</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mammal</span> {
  <span class="hljs-title function_">bark</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">20</span>) {  <span class="hljs-comment">// è¦ç†è§£è¿™ä¸ªé€»è¾‘ï¼Œå¾—ç¿»ä¸‰å±‚ç»§æ‰¿é“¾</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to bark'</span>;
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">5</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Woof!'</span>;
  }
}
</code></pre>
<p>è¦ç†è§£<code>Dog.bark()</code>çš„å®Œæ•´é€»è¾‘ï¼Œä½ å¾—ï¼š</p>
<ol>
<li>çœ‹Dogç±»çš„barkæ–¹æ³•</li>
<li>å¾€ä¸Šç¿»Mammalçš„æ„é€ å‡½æ•°ï¼ˆæ‰¾energyå®šä¹‰ï¼‰</li>
<li>å†å¾€ä¸Šç¿»Animalçš„eatæ–¹æ³•ï¼ˆçœ‹energyæ€ä¹ˆå˜åŒ–ï¼‰</li>
</ol>
<p>è¿™å°±æ˜¯"çŸ¥è¯†æ•£è½"é—®é¢˜ã€‚ç»§æ‰¿é“¾ä¸€é•¿ï¼Œä»£ç å°±åƒä¾¦æ¢å°è¯´ï¼Œåˆ°å¤„æ‰¾çº¿ç´¢ã€‚</p>
<h2 data-id="heading-5">ç»„åˆæ˜¯ä»€ä¹ˆ</h2>
<p>ç»„åˆçš„æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼š<strong>æŠŠåŠŸèƒ½æ‹†æˆç‹¬ç«‹çš„å°å—ï¼Œéœ€è¦ä»€ä¹ˆå°±ç»„è£…ä»€ä¹ˆ</strong>ã€‚</p>
<p>å°±åƒæ­ä¹é«˜ï¼š</p>
<ul>
<li>ç»§æ‰¿ï¼šä¹°äº†ä¸ª"åŸå ¡å¥—è£…"ï¼Œæƒ³æ”¹æˆ"å¤ªç©ºç«™"ï¼Œå¾—æŠŠå¡”æ¥¼é”¯æ‰ï¼Œå¾ˆéº»çƒ¦</li>
<li>ç»„åˆï¼šä¹°äº†ä¸€å †ç§¯æœ¨ï¼Œæƒ³æ­å•¥æ­å•¥</li>
</ul>
<h3 data-id="heading-6">æœ€ç®€å•çš„ç»„åˆä¾‹å­</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŠŠèƒ½åŠ›å®šä¹‰æˆç‹¬ç«‹çš„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> canFly = {
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.flySpeed}</span> km/h`</span>;
  }
};

<span class="hljs-keyword">const</span> canSwim = {
  <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.swimSpeed}</span> km/h`</span>;
  }
};

<span class="hljs-keyword">const</span> canWalk = {
  <span class="hljs-title function_">walk</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is walking at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.walkSpeed}</span> km/h`</span>;
  }
};

<span class="hljs-comment">// é¸­å­ï¼šä¼šé£ã€ä¼šæ¸¸ã€ä¼šèµ°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDuck</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-keyword">const</span> duck = {
    name,
    <span class="hljs-attr">flySpeed</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">walkSpeed</span>: <span class="hljs-number">3</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(duck, canFly, canSwim, canWalk);
}

<span class="hljs-comment">// ä¼é¹…ï¼šåªä¼šæ¸¸ã€ä¼šèµ°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPenguin</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-keyword">const</span> penguin = {
    name,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">walkSpeed</span>: <span class="hljs-number">2</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(penguin, canSwim, canWalk);
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-title function_">createDuck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(duck.<span class="hljs-title function_">fly</span>());   <span class="hljs-comment">// âœ… å”è€é¸­ is flying at 50 km/h</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(duck.<span class="hljs-title function_">swim</span>());  <span class="hljs-comment">// âœ… å”è€é¸­ is swimming at 5 km/h</span>

<span class="hljs-keyword">const</span> penguin = <span class="hljs-title function_">createPenguin</span>(<span class="hljs-string">'æ³¢æ³¢'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(penguin.<span class="hljs-title function_">swim</span>()); <span class="hljs-comment">// âœ… æ³¢æ³¢ is swimming at 30 km/h</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(penguin.<span class="hljs-property">fly</span>);    <span class="hljs-comment">// âœ… undefined - ä¼é¹…æœ¬æ¥å°±ä¸ä¼šé£</span>
</code></pre>
<p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿ</p>
<ul>
<li>ç”¨ç»§æ‰¿ï¼šä¼é¹…ç»§æ‰¿äº†Birdï¼Œä½†å¾—è¦†ç›–flyæ–¹æ³•æŠ›é”™</li>
<li>ç”¨ç»„åˆï¼šä¼é¹…å‹æ ¹ä¸ç»„è£…flyèƒ½åŠ›ï¼Œè‡ªç„¶å°±ä¸ä¼šé£</li>
</ul>
<h2 data-id="heading-7">ç»„åˆçš„å‡ ç§å®ç°æ–¹å¼</h2>
<h3 data-id="heading-8">æ–¹å¼1ï¼šå·¥å‚å‡½æ•° + Object.assign</h3>
<p>è¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œä¸Šé¢å·²ç»å±•ç¤ºè¿‡äº†ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ç›´æ¥ï¼Œç¼ºç‚¹æ˜¯æ²¡æœ‰ç±»å‹æç¤ºã€‚</p>
<h3 data-id="heading-9">æ–¹å¼2ï¼šç±»ç»„åˆï¼ˆClass Compositionï¼‰</h3>
<p>å¦‚æœä½ å–œæ¬¢classè¯­æ³•ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-comment">// æŠŠèƒ½åŠ›å®šä¹‰æˆè£…é¥°å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">withFlying</span>(<span class="hljs-params">Base</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
    }
  };
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">withSwimming</span>(<span class="hljs-params">Base</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
    }
  };
}

<span class="hljs-comment">// ç»„è£…èƒ½åŠ›</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">withSwimming</span>(<span class="hljs-title function_">withFlying</span>(<span class="hljs-title class_">Animal</span>)) {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name);
  }
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">fly</span>();   <span class="hljs-comment">// âœ…</span>
duck.<span class="hljs-title function_">swim</span>();  <span class="hljs-comment">// âœ…</span>
duck <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Animal</span>; <span class="hljs-comment">// âœ… true</span>
</code></pre>
<p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>ä¿ç•™äº†classçš„è¯­æ³•</li>
<li>instanceofæ£€æŸ¥ä»ç„¶æœ‰æ•ˆ</li>
<li>IDEèƒ½æä¾›ä»£ç è¡¥å…¨</li>
</ul>
<h3 data-id="heading-10">æ–¹å¼3ï¼šä¾èµ–æ³¨å…¥</h3>
<p>æ›´é«˜çº§çš„åšæ³•æ˜¯æŠŠèƒ½åŠ›æ³¨å…¥è¿›å»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bird</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, abilities = []</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;

    <span class="hljs-comment">// æ³¨å…¥èƒ½åŠ›</span>
    abilities.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ability</span> =&gt;</span> {
      ability.<span class="hljs-title function_">attachTo</span>(<span class="hljs-variable language_">this</span>);
    });
  }
}

<span class="hljs-comment">// å®šä¹‰èƒ½åŠ›æ¨¡å—</span>
<span class="hljs-keyword">const</span> flyingAbility = {
  <span class="hljs-title function_">attachTo</span>(<span class="hljs-params">target</span>) {
    target.<span class="hljs-property">flySpeed</span> = <span class="hljs-number">50</span>;
    target.<span class="hljs-property">fly</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.flySpeed}</span> km/h`</span>;
    };
  }
};

<span class="hljs-keyword">const</span> swimmingAbility = {
  <span class="hljs-title function_">attachTo</span>(<span class="hljs-params">target</span>) {
    target.<span class="hljs-property">swimSpeed</span> = <span class="hljs-number">10</span>;
    target.<span class="hljs-property">swim</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.swimSpeed}</span> km/h`</span>;
    };
  }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bird</span>(<span class="hljs-string">'å”è€é¸­'</span>, [flyingAbility, swimmingAbility]);
<span class="hljs-keyword">const</span> penguin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bird</span>(<span class="hljs-string">'æ³¢æ³¢'</span>, [swimmingAbility]);

duck.<span class="hljs-title function_">fly</span>();    <span class="hljs-comment">// âœ…</span>
penguin.<span class="hljs-property">fly</span>;   <span class="hljs-comment">// âœ… undefined</span>
</code></pre>
<p>è¿™ç§æ–¹å¼æ›´çµæ´»ï¼Œèƒ½åŠ›æ¨¡å—å¯ä»¥æœ‰è‡ªå·±çš„åˆå§‹åŒ–é€»è¾‘ã€‚</p>
<h2 data-id="heading-11">å®æˆ˜æ¡ˆä¾‹ï¼šé‡æ„ç»§æ‰¿ä»£ç </h2>
<p>æ¥çœ‹ä¸ªçœŸå®åœºæ™¯ã€‚å‡è®¾æˆ‘ä»¬è¦åšä¸€ä¸ªæ¸¸æˆè§’è‰²ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-12">ç”¨ç»§æ‰¿å®ç°ï¼ˆä¸€å›¢ç³Ÿï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Character</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, hp, mp</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> = hp;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> = mp;
  }

  <span class="hljs-title function_">attack</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> attacks!`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Character</span> {
  <span class="hljs-title function_">castSpell</span>(<span class="hljs-params">spellName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Not enough MP!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> casts <span class="hljs-subst">${spellName}</span>!`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Warrior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Character</span> {
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
}

<span class="hljs-comment">// ç°åœ¨äº§å“è¯´ï¼šæˆ‘ä»¬è¦åŠ ä¸ª"é­”å‰‘å£«"ï¼Œæ—¢èƒ½æ–½æ³•åˆèƒ½ç”¨æˆ˜æŠ€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpellBlade</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mage</span> {  <span class="hljs-comment">// ç»§æ‰¿æ³•å¸ˆ</span>
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {  <span class="hljs-comment">// å¤åˆ¶ç²˜è´´æˆ˜å£«çš„ä»£ç </span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
}

<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// 1. SpellBladeå¤åˆ¶äº†Warriorçš„ä»£ç ï¼ˆè¿åDRYåŸåˆ™ï¼šDRY - Don't Repeat Yourselfï¼ˆä¸è¦é‡å¤è‡ªå·±ï¼‰ï¼‰</span>
<span class="hljs-comment">// 2. å¦‚æœWarriorçš„useSkillæ”¹äº†ï¼ŒSpellBladeä¹Ÿå¾—æ”¹</span>
<span class="hljs-comment">// 3. ç»§æ‰¿Mageè¿˜æ˜¯Warriorï¼Ÿè¿™æ˜¯ä¸ªå“²å­¦é—®é¢˜</span>
</code></pre>
<h3 data-id="heading-13">ç”¨ç»„åˆé‡æ„ï¼ˆæ¸…çˆ½ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŠŠèƒ½åŠ›æ‹†æˆç‹¬ç«‹æ¨¡å—</span>
<span class="hljs-keyword">const</span> combatAbility = {
  <span class="hljs-title function_">attack</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> attacks for <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.attackPower}</span> damage!`</span>;
  }
};

<span class="hljs-keyword">const</span> magicAbility = {
  <span class="hljs-title function_">castSpell</span>(<span class="hljs-params">spellName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Not enough MP!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> casts <span class="hljs-subst">${spellName}</span>!`</span>;
  }
};

<span class="hljs-keyword">const</span> skillAbility = {
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
};

<span class="hljs-comment">// å·¥å‚å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCharacter</span>(<span class="hljs-params">name, hp, mp, abilities</span>) {
  <span class="hljs-keyword">const</span> character = {
    name,
    hp,
    mp,
    <span class="hljs-attr">attackPower</span>: <span class="hljs-number">50</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(character, ...abilities);
}

<span class="hljs-comment">// åˆ›å»ºä¸åŒèŒä¸š</span>
<span class="hljs-keyword">const</span> mage = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'ç”˜é“å¤«'</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, [combatAbility, magicAbility]);
<span class="hljs-keyword">const</span> warrior = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'é˜¿æ‹‰è´¡'</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, [combatAbility, skillAbility]);
<span class="hljs-keyword">const</span> spellBlade = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'å¡å°”è¾¾'</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>, [combatAbility, magicAbility, skillAbility]);

mage.<span class="hljs-title function_">castSpell</span>(<span class="hljs-string">'ç«çƒæœ¯'</span>);        <span class="hljs-comment">// âœ…</span>
warrior.<span class="hljs-title function_">useSkill</span>(<span class="hljs-string">'ç‹‚æˆ˜å£«ä¹‹æ€’'</span>);   <span class="hljs-comment">// âœ…</span>
spellBlade.<span class="hljs-title function_">castSpell</span>(<span class="hljs-string">'é›·ç”µæœ¯'</span>);  <span class="hljs-comment">// âœ…</span>
spellBlade.<span class="hljs-title function_">useSkill</span>(<span class="hljs-string">'å‰‘æ°”æ–©'</span>);   <span class="hljs-comment">// âœ…</span>
</code></pre>
<p>ç”¨ç»„åˆçš„å¥½å¤„ï¼š</p>
<ol>
<li>ä»£ç ä¸é‡å¤ï¼Œæ¯ä¸ªèƒ½åŠ›åªå®šä¹‰ä¸€æ¬¡</li>
<li>èƒ½åŠ›å¯ä»¥éšæ„ç»„åˆï¼Œæƒ³è¦ä»€ä¹ˆç»„è£…ä»€ä¹ˆ</li>
<li>æ–°å¢èŒä¸šè¶…ç®€å•ï¼Œæ”¹ä¸€ä¸‹èƒ½åŠ›åˆ—è¡¨å°±è¡Œ</li>
</ol>
<h2 data-id="heading-14">ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»§æ‰¿</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šç»„åˆçš„å¥½å¤„ï¼Œéš¾é“ç»§æ‰¿å°±å®Œå…¨æ²¡ç”¨äº†å—ï¼Ÿ</p>
<p>ä¹Ÿä¸æ˜¯ã€‚ç»§æ‰¿é€‚åˆè¿™äº›åœºæ™¯ï¼š</p>
<h3 data-id="heading-15">åœºæ™¯1ï¼šä¸¥æ ¼çš„"is-a"å…³ç³»</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'TypeError'</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReferenceError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'ReferenceError'</span>;
  }
}
</code></pre>
<p>TypeError <strong>ç¡®å®æ˜¯</strong> Errorçš„ä¸€ç§ï¼Œè¿™ç§å…³ç³»å¾ˆç¨³å®šï¼Œä¸ä¼šå˜ã€‚ç”¨ç»§æ‰¿æ²¡æ¯›ç—…ã€‚</p>
<h3 data-id="heading-16">åœºæ™¯2ï¼šéœ€è¦åˆ©ç”¨å¤šæ€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å­ç±»å¿…é¡»å®ç°getAreaæ–¹æ³•'</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Shape</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">radius</span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> = radius;
  }

  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> ** <span class="hljs-number">2</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Shape</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">width, height</span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;
  }

  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>;
  }
}

<span class="hljs-comment">// åˆ©ç”¨å¤šæ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateTotalArea</span>(<span class="hljs-params">shapes</span>) {
  <span class="hljs-keyword">return</span> shapes.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, shape</span>) =&gt;</span> sum + shape.<span class="hljs-title function_">getArea</span>(), <span class="hljs-number">0</span>);
}

<span class="hljs-keyword">const</span> shapes = [
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-number">5</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-number">3</span>)
];

<span class="hljs-title function_">calculateTotalArea</span>(shapes); <span class="hljs-comment">// ç»Ÿä¸€è°ƒç”¨getAreaï¼Œä¸ç”¨ç®¡å…·ä½“ç±»å‹</span>
</code></pre>
<p>è¿™ç§æƒ…å†µç»§æ‰¿çš„ä¼˜åŠ¿å¾ˆæ˜æ˜¾ï¼šæ‰€æœ‰å½¢çŠ¶éƒ½æœ‰getAreaæ–¹æ³•ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç†ã€‚</p>
<h3 data-id="heading-17">åœºæ™¯3ï¼šæ¡†æ¶è¦æ±‚</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Reactç»„ä»¶å¿…é¡»ç»§æ‰¿React.Component</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}

<span class="hljs-comment">// è™½ç„¶ç°åœ¨æœ‰äº†å‡½æ•°ç»„ä»¶ï¼Œä½†ç±»ç»„ä»¶æ—¶ä»£å°±æ˜¯è¿™æ ·</span>
</code></pre>
<p>æ¡†æ¶è§„å®šäº†ç»§æ‰¿ï¼Œé‚£å°±æ²¡åŠæ³•ï¼Œå¾—ç”¨ã€‚</p>
<h2 data-id="heading-18">ç»„åˆå’Œç»§æ‰¿çš„æ··åˆä½¿ç”¨</h2>
<p>å®é™…é¡¹ç›®ä¸­ï¼Œå¾€å¾€æ˜¯ç»„åˆå’Œç»§æ‰¿æ··ç€ç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨ç»§æ‰¿è¡¨è¾¾"is-a"å…³ç³»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, energy</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> = energy;
  }

  <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> += <span class="hljs-number">10</span>;
  }
}

<span class="hljs-comment">// ç”¨ç»„åˆæ·»åŠ èƒ½åŠ›</span>
<span class="hljs-keyword">const</span> canFly = {
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to fly'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
  }
};

<span class="hljs-keyword">const</span> canSwim = {
  <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">5</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to swim'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">5</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
  }
};

<span class="hljs-comment">// é¸­å­æ˜¯åŠ¨ç‰©ï¼ˆç»§æ‰¿ï¼‰ï¼Œä¼šé£ä¼šæ¸¸ï¼ˆç»„åˆï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name, <span class="hljs-number">100</span>);
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-variable language_">this</span>, canFly, canSwim);
  }
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">eat</span>();    <span class="hljs-comment">// ç»§æ‰¿è‡ªAnimal</span>
duck.<span class="hljs-title function_">fly</span>();    <span class="hljs-comment">// ç»„åˆçš„èƒ½åŠ›</span>
duck.<span class="hljs-title function_">swim</span>();   <span class="hljs-comment">// ç»„åˆçš„èƒ½åŠ›</span>
</code></pre>
<p>è¿™æ ·æ—¢ä¿ç•™äº†ç»§æ‰¿çš„å¤šæ€æ€§ï¼Œåˆæœ‰äº†ç»„åˆçš„çµæ´»æ€§ã€‚</p>
<h2 data-id="heading-19">TypeScriptä¸­çš„ç»„åˆ</h2>
<p>åœ¨TSé‡Œï¼Œç»„åˆçš„ç±»å‹å®‰å…¨æ€§æ›´å¥½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰èƒ½åŠ›æ¥å£</span>
interface <span class="hljs-title class_">Flyable</span> {
  <span class="hljs-attr">flySpeed</span>: number;
  <span class="hljs-title function_">fly</span>(): string;
}

interface <span class="hljs-title class_">Swimmable</span> {
  <span class="hljs-attr">swimSpeed</span>: number;
  <span class="hljs-title function_">swim</span>(): string;
}

<span class="hljs-comment">// ç»„åˆç±»å‹</span>
type <span class="hljs-title class_">Duck</span> = {
  <span class="hljs-attr">name</span>: string;
} &amp; <span class="hljs-title class_">Flyable</span> &amp; <span class="hljs-title class_">Swimmable</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDuck</span>(<span class="hljs-params">name: string</span>): <span class="hljs-title class_">Duck</span> {
  <span class="hljs-keyword">return</span> {
    name,
    <span class="hljs-attr">flySpeed</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">10</span>,
    <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
    },
    <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
    }
  };
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-title function_">createDuck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">fly</span>();   <span class="hljs-comment">// âœ… ç±»å‹å®‰å…¨</span>
duck.<span class="hljs-title function_">walk</span>();  <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šDuckæ²¡æœ‰walkæ–¹æ³•</span>
</code></pre>
<p>TSçš„ç±»å‹ç³»ç»Ÿå¤©ç„¶æ”¯æŒç»„åˆï¼Œç”¨èµ·æ¥æ¯”ç»§æ‰¿èˆ’æœå¤šäº†ã€‚</p>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>"ç»„åˆä¼˜äºç»§æ‰¿"ä¸æ˜¯è¯´ç»§æ‰¿ä¸€æ— æ˜¯å¤„ï¼Œè€Œæ˜¯è¯´ï¼š</p>
<ol>
<li><strong>ä¼˜å…ˆè€ƒè™‘ç»„åˆ</strong>ï¼šå¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œç»„åˆæ›´çµæ´»ã€æ›´å¥½ç»´æŠ¤</li>
<li><strong>ç»§æ‰¿ä¹Ÿæœ‰ç”¨</strong>ï¼šä¸¥æ ¼çš„is-aå…³ç³»ã€éœ€è¦å¤šæ€ã€æ¡†æ¶è¦æ±‚ç­‰åœºæ™¯ä¸‹ç»§æ‰¿æ›´åˆé€‚</li>
<li><strong>ä¸¤è€…ç»“åˆ</strong>ï¼šå®é™…é¡¹ç›®ä¸­å¾€å¾€æ˜¯ç»„åˆ + ç»§æ‰¿æ··ç”¨</li>
</ol>
<p>è®°ä½ä¸€ä¸ªåŸåˆ™ï¼š<strong>å¦‚æœä½ åœ¨çº ç»“è¯¥ä¸è¯¥ç”¨ç»§æ‰¿ï¼Œé‚£å¤§æ¦‚ç‡åº”è¯¥ç”¨ç»„åˆ</strong>ã€‚</p>
<p>æœ€åç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<ul>
<li>ç»§æ‰¿æ˜¯"ä½ æ˜¯ä»€ä¹ˆ"ï¼ˆyou are what you areï¼‰</li>
<li>ç»„åˆæ˜¯"ä½ èƒ½åšä»€ä¹ˆ"ï¼ˆyou are what you doï¼‰</li>
</ul>
<p>ä¸–ç•Œæ˜¯ç”±èƒ½åŠ›ç»„æˆçš„ï¼Œä¸æ˜¯ç”±è¡€ç»Ÿç»„æˆçš„ã€‚ä»£ç ä¹Ÿä¸€æ ·ã€‚</p>
<hr/>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FComposition_over_inheritance" target="_blank" title="https://en.wikipedia.org/wiki/Composition_over_inheritance" ref="nofollow noopener noreferrer">Composition over inheritance - Wikipedia</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FDesign_Patterns" target="_blank" title="https://en.wikipedia.org/wiki/Design_Patterns" ref="nofollow noopener noreferrer">ã€Šè®¾è®¡æ¨¡å¼ã€‹- Gang of Four</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.info%2Fmixins" target="_blank" title="https://javascript.info/mixins" ref="nofollow noopener noreferrer">Functional Mixins in JavaScript</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼]]></title>    <link>https://juejin.cn/post/7573273271799103528</link>    <guid>https://juejin.cn/post/7573273271799103528</guid>    <pubDate>2025-11-17T09:00:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573273271799103528" data-draft-id="7572539461478531115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,VibeCoding"/> <meta itemprop="datePublished" content="2025-11-17T09:00:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAé˜¿giao"/> <meta itemprop="url" content="https://juejin.cn/user/473218785740627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/473218785740627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAé˜¿giao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:00:45.000Z" title="Mon Nov 17 2025 09:00:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿæ›¾æƒ³è¿‡ï¼šè¦æ˜¯èƒ½è‡ªå·±åšä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œä¸€é”®æŠŠç½‘é¡µå˜æˆâ€œç»¿å·¨äººâ€é£æ ¼è¯¥å¤šé…·ï¼Ÿä½†ä¸€æƒ³åˆ°è¦å†™ä»£ç ã€é…æƒé™ã€è°ƒæ ·å¼â€¦â€¦å°±æœ›è€Œå´æ­¥äº†ï¼Ÿåˆ«æ‹…å¿ƒï¼ç°åœ¨ï¼Œæœ‰äº†æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ Traeï¼Œå¼€å‘ Chrome æ‰©å±•ä¸å†æ˜¯ç¨‹åºå‘˜çš„ä¸“å±æŠ€èƒ½ã€‚åªè¦ä½ ä¼šæè¿°æƒ³æ³•ã€ä¼šç”»ä¸ªè‰å›¾ã€ä¼šå†™å‡ è¡Œè¯´æ˜æ–‡æ¡£ï¼ŒTrae å°±èƒ½å¸®ä½ æŠŠåˆ›æ„å˜æˆçœŸå®å¯ç”¨çš„æ’ä»¶ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œç”¨â€œæ–‡æ¡£é©±åŠ¨ + æ™ºèƒ½åä½œâ€çš„æ–°æ–¹å¼ï¼Œè½»æ¾æ‰“é€ å±äºä½ çš„ Hulk æµè§ˆå™¨æ‰©å±•â€”â€”æ— éœ€æ·±åšç¼–ç åŠŸåº•ï¼Œä¹Ÿèƒ½ç©è½¬å¼€å‘ï¼</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ Traeï¼Ÿä¸ºä»€ä¹ˆå®ƒæ”¹å˜äº†å¼€å‘èŒƒå¼ï¼Ÿ</h2>
<p>Trae æ˜¯ä¸€ä¸ªåŸºäºå¤§æ¨¡å‹çš„æ™ºèƒ½ coding agentï¼ˆç¼–ç¨‹ä»£ç†ï¼‰ï¼Œå®ƒèƒ½å¤Ÿç†è§£è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œå¹¶æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨ç”Ÿæˆç»“æ„æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´çš„ä»£ç ã€‚ä¸ä¼ ç»Ÿ IDE æˆ–ä»£ç è¡¥å…¨å·¥å…·ä¸åŒï¼ŒTrae ä¸ä»…èƒ½å†™å‡½æ•°ï¼Œè¿˜èƒ½ç†è§£é¡¹ç›®æ•´ä½“æ¶æ„ã€ç”¨æˆ·äº¤äº’é€»è¾‘å’Œå¹³å°è§„èŒƒã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>Trae çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºâ€œä¸Šä¸‹æ–‡æ„ŸçŸ¥â€</strong> ã€‚å¦‚æœä½ åªè¯´â€œå¸®æˆ‘å†™ä¸ªæŒ‰é’®â€ï¼Œå®ƒå¯èƒ½æ— æ³•å‡†ç¡®è¾“å‡ºï¼›ä½†å¦‚æœä½ æä¾›ä¸€ä»½æ¸…æ™°çš„ <code>instruction.txt</code>ï¼Œé™„ä¸Š UX è®¾è®¡å›¾ï¼ˆå¦‚ <code>ux.jpg</code>ï¼‰ã€ç›®å½•ç»“æ„é¢„æœŸã€åŠŸèƒ½æè¿°ç”šè‡³é”™è¯¯å¤„ç†éœ€æ±‚ï¼ŒTrae å°±èƒ½åƒä¸€ä½ç»éªŒä¸°å¯Œçš„å…¨æ ˆå¼€å‘è€…ä¸€æ ·ï¼Œä¸ºä½ ç”Ÿæˆé«˜åº¦è´´åˆéœ€æ±‚çš„ä»£ç ã€‚</p>
<p>è¿™ç§â€œVibe Codingâ€ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰æ¨¡å¼æ­£åœ¨é¢ è¦†ä¼ ç»Ÿå¼€å‘æµç¨‹ï¼š</p>
<ul>
<li><strong>ä»£ç ä¸å†æ˜¯èµ·ç‚¹ï¼Œè€Œæ˜¯ç»“æœ</strong>ï¼›</li>
<li><strong>æ–‡æ¡£ã€è®¾è®¡ç¨¿ã€çº¿æ¡†å›¾æˆä¸ºæ–°çš„â€œæºä»£ç â€</strong> ï¼›</li>
<li><strong>äººç±»è´Ÿè´£åˆ›æ„ã€ç›‘ç£ä¸å†³ç­–ï¼ŒAI è´Ÿè´£æ‰§è¡Œä¸å®ç°</strong>ã€‚</li>
</ul>
<p>è¿™æ­£æ˜¯æ™®é€šäººä¹Ÿèƒ½å‚ä¸äº§å“åˆ›é€ çš„æ—¶ä»£çº¢åˆ©ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€Hulk æ‰©å±•ï¼šä¸€ä¸ªæç®€ä½†å®Œæ•´çš„ Chrome æ’ä»¶æ¡ˆä¾‹</h2>
<h3 data-id="heading-3">åŠŸèƒ½ç›®æ ‡</h3>
<p>Hulk æ˜¯ä¸€ä¸ªè½»é‡çº§ Chrome æ‰©å±•ï¼Œæ ¸å¿ƒåŠŸèƒ½åªæœ‰ä¸€ä¸ªï¼š<strong>ç‚¹å‡»æ‰©å±•å›¾æ ‡ â†’ å¼¹å‡ºçª—å£ â†’ ç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’® â†’ å½“å‰ç½‘é¡µèƒŒæ™¯å˜ä¸ºç»¿è‰²</strong>ã€‚è™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†å®ƒå®Œæ•´è¦†ç›–äº† Chrome æ‰©å±•çš„ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ol>
<li><strong>Popupï¼ˆå¼¹å‡ºç•Œé¢ï¼‰</strong> ï¼šç”¨æˆ·äº¤äº’å…¥å£ï¼›</li>
<li><strong>Content Scriptï¼ˆå†…å®¹è„šæœ¬ï¼‰</strong> ï¼šæ“ä½œå½“å‰ç½‘é¡µ DOMï¼›</li>
<li><strong>Manifestï¼ˆæ¸…å•æ–‡ä»¶ï¼‰</strong> ï¼šå£°æ˜æƒé™ä¸èµ„æºã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€é¡¹ç›®ç»“æ„è¯¦è§£ï¼š<code>green_land</code> â€”â€” ç»¿è‰²ä¸»é¢˜ Chrome æ‰©å±•</h2>
<pre><code class="hljs language-bash" lang="bash">green_land/
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â”œâ”€â”€ instruction.txt               <span class="hljs-comment"># ç»™ Trae çš„ä»»åŠ¡è¯´æ˜ä¹¦</span>
â”œâ”€â”€ manifest.json                 <span class="hljs-comment"># æ‰©å±•é…ç½®æ–‡ä»¶ï¼ˆManifest V3ï¼‰</span>
â”œâ”€â”€ popup.html                    <span class="hljs-comment"># å¼¹å‡ºçª—å£ç•Œé¢</span>
â”œâ”€â”€ popup.js                      <span class="hljs-comment"># å¼¹å‡ºçª—å£é€»è¾‘</span>
â”œâ”€â”€ readme.md                     <span class="hljs-comment"># é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰</span>
â””â”€â”€ ux.jpg                        <span class="hljs-comment"># UX è®¾è®¡å‚è€ƒå›¾</span>
</code></pre>
<blockquote>
<p>âœ… <strong>æ€»è§ˆ</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Chrome æ‰©å±•é¡¹ç›®ï¼Œæ— éœ€é¢å¤–ä¾èµ–ï¼Œæ‰€æœ‰èµ„æºæœ¬åœ°åŒ–ï¼Œç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œéƒ¨ç½²ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">1. <code>icons/</code> æ–‡ä»¶å¤¹ â€”â€” å›¾æ ‡ç³»ç»Ÿ</h3>
<pre><code class="hljs">icons/
â”œâ”€â”€ icon16.png    â†’ ç”¨äºåœ°å€æ å°å›¾æ ‡ï¼ˆ16x16ï¼‰
â”œâ”€â”€ icon48.png    â†’ ç”¨äºæ‰©å±•ç®¡ç†é¡µï¼ˆ48x48ï¼‰
â””â”€â”€ icon128.png   â†’ ç”¨äºåº”ç”¨å•†åº—æˆ–é«˜åˆ†è¾¨ç‡æ˜¾ç¤ºï¼ˆ128x128ï¼‰
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong></p>
<p>Chrome è¦æ±‚ä¸åŒå°ºå¯¸çš„å›¾æ ‡ä»¥é€‚åº”ä¸åŒåœºæ™¯ã€‚è¿™äº› PNG å›¾åƒå¿…é¡»ä¸ºæ­£æ–¹å½¢ã€é€æ˜èƒŒæ™¯ï¼Œä¸”æ— è¾¹æ¡†ã€‚</p>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨å·¥å…·å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.iconverticons.com%2F" title="https://www.iconverticons.com/" target="_blank" ref="nofollow noopener noreferrer">www.iconverticons.com</a> æˆ– Photoshop åˆ¶ä½œä¸€å¥—ç»Ÿä¸€é£æ ¼çš„å›¾æ ‡ï¼›</li>
<li>ä¸»é¢˜é¢œè‰²å»ºè®®ä¸ºç»¿è‰²ç³»ï¼ˆå‘¼åº”â€œHulkâ€æˆ–â€œGreen Landâ€æ¦‚å¿µï¼‰ï¼Œå¢å¼ºå“ç‰Œè¯†åˆ«åº¦ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">2. <code>instruction.txt</code> â€”â€” ç»™ Trae çš„â€œæŒ‡ä»¤æ‰‹å†Œâ€</h3>
<p>è¿™æ˜¯æ•´ä¸ªé¡¹ç›®çš„â€œçµé­‚æ–‡ä»¶â€ã€‚Trae ä¼šè¯»å–å®ƒæ¥ç†è§£ä½ çš„éœ€æ±‚ï¼Œå¹¶ç”Ÿæˆå…¶ä»–ä»£ç æ–‡ä»¶ã€‚</p>
<p><strong>ç¤ºä¾‹å†…å®¹ï¼š</strong></p>
<pre><code class="hljs">ä½ æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„Chrome æ‰©å±•ç¨‹åºå¼€å‘è€…ï¼Œè¯·å¸®æˆ‘å¼€å‘ä¸€ä¸ªåä¸ºHulkçš„æ‰©å±•ç¨‹åº
UX è®¾è®¡å›¾å‚è€ƒux.jpg

å…·ä½“äº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
Step1ï¼šç‚¹å‡»ç¨‹åºå›¾æ ‡æ‰“å¼€å¼¹å‡ºçª—å£ï¼Œåœ¨çª—å£ä¸­é»˜è®¤æç¤ºï¼šâ€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€ï¼Œâ€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²â€å’Œä¸€ä¸ªâ€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ã€‚

Step2ï¼šç‚¹å‡»æŒ‰é’®ï¼Œç½‘é¡µèƒŒæ™¯æ”¹å˜ä¸ºç»¿è‰²

æ³¨æ„ä»¥ä¸‹ï¼š
è¯·ä½¿ç”¨iconsæ–‡ä»¶å¤¹çš„å›¾æ ‡ä½œä¸ºåº”ç”¨ç¨‹åºçš„å›¾æ ‡
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ</strong></p>
<ul>
<li>å®ƒæ˜¯ Trae çš„â€œè¾“å…¥æºâ€ï¼›</li>
<li>å†³å®šäº†ç”Ÿæˆä»£ç çš„è´¨é‡å’Œå‡†ç¡®æ€§ï¼›</li>
<li>æ”¯æŒè‡ªç„¶è¯­è¨€æè¿°ï¼Œé€‚åˆéç¨‹åºå‘˜è¡¨è¾¾æƒ³æ³•ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">3. <code>manifest.json</code> â€”â€” æ‰©å±•çš„èº«ä»½è¯æ˜</h3>
<p>è¿™æ˜¯ Chrome æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†åç§°ã€ç‰ˆæœ¬ã€æƒé™ã€å…¥å£ç­‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hulk"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸€ä¸ªç®€å•çš„èƒŒæ™¯é¢œè‰²ä¿®æ”¹æ‰©å±•ç¨‹åº"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"scripting"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">4. <code>popup.html</code> â€”â€” ç”¨æˆ·äº¤äº’ç•Œé¢</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hulk - æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
      <span class="hljs-attribute">text-align</span>: center;
    }
    <span class="hljs-selector-tag">h2</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
    }
    <span class="hljs-selector-tag">p</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.4</span>;
    }
    <span class="hljs-selector-tag">button</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;
      <span class="hljs-attribute">color</span>: white;
      <span class="hljs-attribute">border</span>: none;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">text-decoration</span>: none;
      <span class="hljs-attribute">display</span>: inline-block;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">4px</span> <span class="hljs-number">2px</span>;
      <span class="hljs-attribute">cursor</span>: pointer;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
    }
    <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#45a049</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"changeColorBtn"</span>&gt;</span>æ”¹å˜é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"popup.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼›</li>
<li>å¼•å…¥ CSS å®ç°ç¾åŒ–ï¼›</li>
<li>æŒ‰é’®ç»‘å®šäº‹ä»¶å¤„ç†ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">5. <code>popup.js</code> â€”â€” äº¤äº’é€»è¾‘å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·å–æŒ‰é’®å…ƒç´ </span>
<span class="hljs-keyword">const</span> changeColorBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'changeColorBtn'</span>);

<span class="hljs-comment">// ä¸ºæŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨</span>
changeColorBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è·å–å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ</span>
    <span class="hljs-keyword">const</span> [tab] = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span> });
    
    <span class="hljs-comment">// å‘å½“å‰é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œç›´æ¥ä¿®æ”¹èƒŒæ™¯é¢œè‰²</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>({
      <span class="hljs-attr">target</span>: { <span class="hljs-attr">tabId</span>: tab.<span class="hljs-property">id</span> },
      <span class="hljs-attr">function</span>: <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// ä¿®æ”¹é¡µé¢èƒŒæ™¯é¢œè‰²ä¸ºç»¿è‰²</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'#4CAF50'</span>;
      }
    });
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¿®æ”¹èƒŒæ™¯é¢œè‰²æ—¶å‡ºé”™:'</span>, error);
  }
});
</code></pre>
<p><strong>åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>æŸ¥è¯¢å½“å‰æ¿€æ´»æ ‡ç­¾é¡µï¼›</li>
<li>å‘é€æ¶ˆæ¯ç»™å†…å®¹è„šæœ¬ï¼ˆcontent scriptï¼‰ï¼›</li>
<li>è§¦å‘é¡µé¢å˜è‰²æ“ä½œã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">6. <code>readme.md</code> â€”â€” é¡¹ç›®è¯´æ˜æ–‡æ¡£</h3>
<p>è™½ç„¶ä¸æ˜¯å¿…é¡»ï¼Œä½†å¼ºçƒˆæ¨èæ·»åŠ ï¼Œä¾¿äºå›¢é˜Ÿåä½œæˆ–æœªæ¥ç»´æŠ¤ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Green Land Chrome Extension</span>

<span class="hljs-section">## åŠŸèƒ½</span>
<span class="hljs-bullet">-</span> ç‚¹å‡»å›¾æ ‡ â†’ æ˜¾ç¤ºå¼¹çª—
<span class="hljs-bullet">-</span> ç‚¹å‡»â€œç‚¹äº®ç»¿è‰²â€ â†’ å½“å‰é¡µé¢èƒŒæ™¯å˜ä¸ºç»¿è‰²

<span class="hljs-section">## æŠ€æœ¯æ ˆ</span>
<span class="hljs-bullet">-</span> Chrome Extensions API
<span class="hljs-bullet">-</span> Manifest V3
<span class="hljs-bullet">-</span> JavaScript + HTML + CSS

<span class="hljs-section">## ä½¿ç”¨æ–¹æ³•</span>
<span class="hljs-bullet">1.</span> è§£å‹æ–‡ä»¶å¤¹
<span class="hljs-bullet">2.</span> åœ¨ Chrome æµè§ˆå™¨ä¸­è¿›å…¥ <span class="hljs-code">`chrome://extensions/`</span>
<span class="hljs-bullet">3.</span> å¯ç”¨å¼€å‘è€…æ¨¡å¼
<span class="hljs-bullet">4.</span> ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€
<span class="hljs-bullet">5.</span> é€‰æ‹© green<span class="hljs-emphasis">_land æ–‡ä»¶å¤¹

## ä½œè€…
@VibeCoder
</span></code></pre>
<hr/>
<h3 data-id="heading-11">7. <code>ux.jpg</code> â€”â€” UI è®¾è®¡å‚è€ƒå›¾</h3>
<p><strong>è¿™å¼ å›¾ç‰‡æ˜¯ä½ è®¾è®¡çš„åŸå‹å›¾ï¼Œå¯ä»¥æ˜¯ï¼š</strong></p>
<ul>
<li>æ‰‹ç»˜çº¿æ¡†å›¾ï¼›</li>
<li>Figma æˆ– Sketch å¯¼å‡ºçš„æˆªå›¾ï¼›</li>
<li>æˆ–ç®€å•çš„ PPT é¡µé¢å¸ƒå±€ã€‚</li>
</ul>
<p><strong>å¯¹ Trae çš„ä»·å€¼ï¼š</strong></p>
<ul>
<li>æä¾›è§†è§‰ä¸Šä¸‹æ–‡ï¼›</li>
<li>å¸®åŠ© Trae ç†è§£æ’ç‰ˆã€é¢œè‰²ã€å­—ä½“å¤§å°ç­‰ç»†èŠ‚ï¼›</li>
<li>å‡å°‘æ­§ä¹‰ï¼Œæå‡ç”Ÿæˆè´¨é‡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">å››ã€å¦‚ä½•ç”¨ Trae è‡ªåŠ¨ç”Ÿæˆè¿™äº›æ–‡ä»¶ï¼Ÿ</h2>
<p>åªéœ€ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>åˆ›å»ºç©ºæ–‡ä»¶å¤¹ <code>green_land</code>ï¼›</p>
</li>
<li>
<p>æ·»åŠ  <code>instruction.txt</code> å’Œ <code>ux.jpg</code>ï¼›</p>
</li>
<li>
<p>åœ¨å¯¹è¯åŠŸèƒ½æ¡†ä¸­å¯¹Traeå¼•ç”¨ <code>instruction.txt</code>Â å¹¶å‘å‡ºæŒ‡ä»¤å¼€å§‹ç”Ÿæˆ</p>
</li>
<li>
<p>Trae å°†è‡ªåŠ¨ï¼š</p>
<ul>
<li>åˆ†æéœ€æ±‚ï¼›</li>
<li>ç”Ÿæˆ <code>manifest.json</code>ï¼›</li>
<li>åˆ›å»º <code>popup.html</code> å’Œ <code>popup.js</code>ï¼›</li>
<li>è¾“å‡ºç»“æ„åŒ–çš„é¡¹ç›®ç›®å½•ï¼›</li>
</ul>
</li>
<li>
<p>ä½ åªéœ€æ£€æŸ¥ã€æµ‹è¯•ã€æ‰“åŒ…å³å¯ï¼</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-13">äº”ã€åœ¨ Chrome ä¸­å®‰è£… Hulk æ‰©å±•</h2>
<p><strong>1. æ‰“å¼€ Chrome æµè§ˆå™¨</strong>ï¼Œè®¿é—® <code>chrome://extensions/</code>ï¼›</p>
<p><strong>2. å¼€å¯å³ä¸Šè§’â€œå¼€å‘è€…æ¨¡å¼â€</strong> ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f28647b17afa48968ba7189a77efcccf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=Q1ERJldHUMu37w%2Bd0hEUbvlaSVk%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>ç‚¹å‡» <strong>â€œåŠ è½½æœªæ‰“åŒ…çš„æ‰©å±•ç¨‹åºâ€</strong> ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/116bdef2b3404575a344227eaac482f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=x6iiSOmSDWdmHlhAYkAwvvTurgo%3D" alt="" loading="lazy"/></p>
<ol start="4">
<li>é€‰æ‹©ä½ çš„ <code>hulk-extension</code> æ–‡ä»¶å¤¹ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33baa15d128843adbf36093c2e6fcbe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=%2FwifnTEuZFrIFVJ%2B1UZB2ZY8j9U%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…æˆåŠŸï¼åœ°å€æ å³ä¾§ä¼šå‡ºç° Hulk å›¾æ ‡ï¼ˆæ­¤å¤„ç”¨çš„æ˜¯vueçš„å›¾æ ‡ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f39a21569e248d0b37bf65c977229fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=aEsuktmgyTfDCzMqvrQHeWfLMpI%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºï¼šå¦‚æœå›¾æ ‡æœªæ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ <code>icons/</code> æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”è·¯å¾„æ­£ç¡®ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">è¿è¡Œæ•ˆæœå±•ç¤º</h2>
<p><strong>ç‚¹å‡»æŒ‰é’®åçš„ç½‘é¡µå˜åŒ–</strong><br/>
ä»»æ„æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼ˆå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.baidu.com%2F" title="https://www.baidu.com/" target="_blank" ref="nofollow noopener noreferrer">www.baidu.com/</a>ï¼‰ï¼Œç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ï¼Œæ•´ä¸ªé¡µé¢ç¬é—´è¢«é²œç»¿è‰²è¦†ç›–ï¼Œä»¿ä½›è¢«ç»¿å·¨äººæµ©å…‹é™„ä½“ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53743ecb0cc3467dbbcdb1cfc0c67428~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=42q6FNkXanL%2BRSpyk3Ncil0YC84%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»æ”¹å˜é¢œè‰²</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/619cea60f0f94b5ca0b4561ab579087d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=h%2BTmBzxdY%2FGt56JoOUY6gNIfWG0%3D" alt="" loading="lazy"/></p>
<p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/938ed07b20f54005a420c3b51cc226be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=m67EnY1wznRosN8Pm4aLo4OHxmo%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">ä¸ Trae åä½œçš„å¿ƒå¾—ï¼šæ–‡æ¡£å³ç”Ÿäº§åŠ›</h2>
<p>åœ¨æ•´ä¸ª Hulk é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹æ²¡æœ‰æ‰‹å†™ä¸€è¡Œä»£ç â€”â€”æ‰€æœ‰æ–‡ä»¶å‡ç”± Trae æ ¹æ® <code>instruction.txt</code> å’Œé¡¹ç›®ç»“æ„è‡ªåŠ¨ç”Ÿæˆã€‚è¿™è®©æˆ‘ä»¬æ·±åˆ»ä½“ä¼šåˆ°ï¼š</p>
<ul>
<li><strong>æ¸…æ™°çš„éœ€æ±‚ &gt; å®Œç¾çš„è¯­æ³•</strong>ï¼šTrae æ›´åœ¨æ„ä½ â€œæƒ³åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆå†™ JavaScriptâ€ï¼›</li>
<li><strong>è®¾è®¡ç¨¿æ˜¯æ²Ÿé€šæ¡¥æ¢</strong>ï¼šå“ªæ€•æ˜¯ä¸€å¼ æ‰‹ç»˜çº¿æ¡†å›¾ï¼ˆux.jpgï¼‰ï¼Œä¹Ÿèƒ½æå¤§æå‡ç”Ÿæˆå‡†ç¡®ç‡ï¼›</li>
<li><strong>è¿­ä»£æ¯”å®Œç¾æ›´é‡è¦</strong>ï¼šç¬¬ä¸€æ¬¡ç”Ÿæˆå¯èƒ½æœ‰å° bugï¼Œä½†é€šè¿‡è¡¥å……è¯´æ˜ï¼ˆå¦‚â€œæŒ‰é’®è¦åœ†è§’â€ã€â€œå­—ä½“åŠ å¤§â€ï¼‰ï¼ŒTrae èƒ½å¿«é€Ÿä¿®æ­£ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-16">ç»“è¯­</h2>
<p>è°è¯´åš Chrome æ‰©å±•ä¸€å®šè¦ç²¾é€š JavaScript æˆ–ç¿»çƒ‚å®˜æ–¹æ–‡æ¡£ï¼Ÿåœ¨ Vibe Coding çš„æ—¶ä»£ï¼Œæ¸…æ™°çš„è¡¨è¾¾ã€ç»“æ„åŒ–çš„æ–‡æ¡£å’Œä¸€ç‚¹ç‚¹åˆ›æ„ï¼Œæ‰æ˜¯çœŸæ­£çš„â€œè¶…èƒ½åŠ›â€ã€‚å€ŸåŠ© Trae è¿™æ ·çš„æ™ºèƒ½ç¼–ç¨‹ä¼™ä¼´ï¼Œä½ ä¸å†åªæ˜¯ç”¨æˆ·ï¼Œè€Œæ˜¯åˆ›é€ è€…ã€‚Hulk æ’ä»¶åªæ˜¯ä¸€ä¸ªèµ·ç‚¹â€”â€”ä¸‹ä¸€æ¬¡ï¼Œä¹Ÿè®¸æ˜¯ä½ è‡ªå·±çš„çµæ„Ÿç«èŠ±ï¼Œç‚¹ç‡ƒä¸‹ä¸€ä¸ªçˆ†æ¬¾æ‰©å±•ã€‚ç°åœ¨å°±åŠ¨æ‰‹è¯•è¯•å§ï¼Œè®© Trae æˆä¸ºä½ å¼€å‘è·¯ä¸Šçš„â€œå¤–æŒ‚å¤§è„‘â€ï¼Œä¸€èµ·æŠŠæƒ³æ³•å˜æˆç°å®ï¼</p>
<blockquote>
<p>ğŸš€ <strong>è¡ŒåŠ¨å»ºè®®</strong>ï¼šå¤åˆ¶æœ¬æ–‡çš„ <code>instruction.txt</code>ï¼Œé…ä¸Šä½ å–œæ¬¢çš„å›¾æ ‡å’Œä¸€å¥æ–°åŠŸèƒ½æè¿°ï¼ˆæ¯”å¦‚â€œæŠŠæ–‡å­—å˜æˆç´«è‰²â€ï¼‰ï¼Œè®© Trae ä¸ºä½ ç”Ÿæˆç¬¬äºŒä¸ªæ‰©å±•ï¼ç¼–ç¨‹ï¼Œä»æœªå¦‚æ­¤æœ‰è¶£ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7573738017987952683</link>    <guid>https://juejin.cn/post/7573738017987952683</guid>    <pubDate>2025-11-18T07:43:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017987952683" data-draft-id="7573855399716552723" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T07:43:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:43:15.000Z" title="Tue Nov 18 2025 07:43:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ä¸€ã€AIå¤§æ¨¡å‹çš„å®šä¹‰ä¸åˆ†ç±»</strong></p>
<p>AIå¤§æ¨¡å‹(Large AI Models / Large-scale AI Models) æ˜¯æŒ‡æ‹¥æœ‰äº¿çº§ä»¥ä¸Šå‚æ•°çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>
<p>AIå¤§æ¨¡å‹åˆ©ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•å’Œäººå·¥ç¥ç»ç½‘ç»œæŠ€æœ¯ç­‰AIæŠ€æœ¯ï¼Œé€šè¿‡å­¦ä¹ å¤§é‡çš„æ•°æ®æå‡é¢„æµ‹èƒ½åŠ›ï¼Œå…¶æ€§èƒ½ä¸æ¨¡å‹çš„å‚æ•°è§„æ¨¡ã€æ•°æ®é›†å¤§å°å’Œè®­ç»ƒç”¨çš„è®¡ç®—é‡ä¹‹é—´å­˜åœ¨å¹‚å¾‹å…³ç³»ã€‚</p>
<p>ä»åº”ç”¨é¢†åŸŸè§’åº¦åˆ†ç±»ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºé€šç”¨å¤§æ¨¡å‹ã€å‚ç›´å¤§æ¨¡å‹ï¼›æŒ‰è¾“å…¥æ•°æ®ç±»å‹ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºå•æ¨¡æ€å¤§æ¨¡å‹ã€å¤šæ¨¡æ€å¤§æ¨¡å‹ ï¼›æŒ‰å¼€æ”¾æ€§åˆ†ç±»ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºå¼€æºå¤§æ¨¡å‹ã€é—­æºå¤§æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c948918128d74d5eb82545c820185f83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=KmA0Z55R5%2FN41E%2Fs6uZdZDcI1c0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äºŒã€AI Agentçš„å®šä¹‰ä¸åˆ†ç±»</strong></p>
<p>AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ˜¯ä¸€ç§å…·å¤‡ç¯å¢ƒæ„ŸçŸ¥ã€è‡ªä¸»å†³ç­–ä¸è¡ŒåŠ¨æ‰§è¡Œèƒ½åŠ›çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<p>å…¶æ ¸å¿ƒèƒ½åŠ›æ¶æ„åŒ…å«å››ä¸ªå…³é”®ç»´åº¦ï¼š</p>
<p>æ„ŸçŸ¥èƒ½åŠ›ï¼ˆPerceptionï¼‰-è§£æã€ç†è§£ç¯å¢ƒä¿¡æ¯ä¸ç”¨æˆ·è¾“å…¥ã€è¿›è¡ŒçŸ¥è¯†æ¨ç†ã€ç”Ÿæˆæ–‡æœ¬ï¼›</p>
<p>è§„åˆ’èƒ½åŠ›ï¼ˆPlanningï¼‰-åˆ¶å®šç›®æ ‡å¯¼å‘çš„ä»»åŠ¡ç­–ç•¥ï¼›</p>
<p>è¡ŒåŠ¨èƒ½åŠ›ï¼ˆAction/Tool Useï¼‰-è°ƒç”¨å·¥å…·æˆ–APIæ‰§è¡Œæ“ä½œï¼›</p>
<p>è®°å¿†èƒ½åŠ›ï¼ˆMemoryï¼‰- å­˜å‚¨å¹¶å…³è”å†å²äº¤äº’ä¸çŸ¥è¯†ã€‚</p>
<p>AIå‘å±•å¯åˆ’åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šL1èŠå¤©æœºå™¨äººã€L2æ¨ç†è€…ï¼ŒL3æ™ºèƒ½ä½“ã€L4åˆ›æ–°è€…ã€L5ç»„ç»‡è€…ï¼Œæ™ºèƒ½ä½“å¤„åœ¨ç¬¬ä¸‰é˜¶æ®µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0789d57ab4e40d09cc172b0161a39d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=arGxfM3B5jNz2JldDHzPya1OTT8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p>
<p><strong>ä¸‰ã€AI Agentçš„å‘å±•å†ç¨‹ï¼šä»ä¼ ç»Ÿæ¶æ„åˆ°ç°ä»£èŒƒå¼</strong></p>
<p>AI Agentçš„å‘å±•å¯åˆ†ä¸ºä¸¤å¤§é˜¶æ®µã€‚2017å¹´ä¹‹å‰å¯è§†ä¸ºä¼ ç»Ÿæ¶æ„æ—¶æœŸï¼Œä»éº¦å¡é”¡çš„â€œå»ºè®®æ¥å—è€…â€è®¾æƒ³ï¼Œåˆ°åŒ…å®¹æ¶æ„ã€BDIæ¶æ„ã€æ··åˆæ¶æ„ï¼Œè¯¥é˜¶æ®µçš„ç ”ç©¶ä¸ºAgentå¥ å®šäº†åˆæ­¥çš„ç†è®ºä¸æ¶æ„åŸºç¡€ã€‚</p>
<p>2017å¹´ä¹‹åï¼Œéšç€Transformeræ¶æ„çš„æå‡ºï¼ŒAI Agentè¿›å…¥ç°ä»£èŒƒå¼é˜¶æ®µã€‚å¤§è¯­è¨€æ¨¡å‹å¦‚GPT-3æ‰®æ¼”äº†â€œå¤§è„‘â€è§’è‰²ï¼Œçªç ´äº†ä¼ ç»Ÿç³»ç»Ÿçš„èƒ½åŠ›é™åˆ¶ã€‚</p>
<p>å·¥å…·è°ƒç”¨ä¸å¤–éƒ¨APIé›†æˆä½¿Agentè·å¾—â€œæ‰‹è„šâ€ï¼Œå®ç°ä¸ç°å®ä¸–ç•Œçš„é«˜æ•ˆäº¤äº’ã€‚å¤šæ¨¡æ€æ¨¡å‹å’Œæ ‡å‡†åŒ–å·¥å…·åè®®è¿›ä¸€æ­¥æ‰©å±•äº†å…¶æ„ŸçŸ¥ä¸æ‰§è¡Œèƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b8b5b312df64b8f9ff701e7e97fec58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=IAnZQwozO%2FP8Gs0eksnRNzYiBj4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Agent = å¤§æ¨¡å‹+è§„åˆ’èƒ½åŠ›+è®°å¿†èƒ½åŠ›+è¡ŒåŠ¨èƒ½åŠ›</strong></p>
<p>AI Agentæ˜¯â€œæ•°å­—äººâ€ï¼Œå¤§æ¨¡å‹æ˜¯â€œæ•°å­—äººçš„å¤§è„‘â€ã€‚</p>
<p>å¤§æ¨¡å‹æ˜¯AI Agentçš„æ ¸å¿ƒé©±åŠ¨åŠ›ä¸æ™ºèƒ½åŸºç¡€ï¼Œå®ƒä¸ºAgentæä¾›äº†å…³é”®çš„æ„ŸçŸ¥ä¸è®¤çŸ¥èƒ½åŠ›ï¼ŒåŒ…æ‹¬ç†è§£ä¿¡æ¯ã€è¿›è¡ŒçŸ¥è¯†æ¨ç†ã€ç”Ÿæˆæ–‡æœ¬ä»¥åŠå±•ç°åˆ›é€ æ€§æ€ç»´ï¼Œå¦‚åŒèµ‹äºˆAgentä¸€ä¸ªå¼ºå¤§çš„â€œå¤§è„‘â€ã€‚</p>
<p>AI Agentæ˜¯åœ¨å¤§æ¨¡å‹çš„åŸºç¡€ä¸Šæ•´åˆäº†ä¸‰å¤§å…³é”®èƒ½åŠ›ç»„ä»¶æ„æˆçš„æ›´é«˜çº§æ¶æ„ï¼šè§„åˆ’ï¼ˆPlanningï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰å’Œå·¥å…·ä½¿ç”¨ï¼ˆTool Useï¼‰ã€‚</p>
<p>è¿™ç§ç»“åˆäº†å¤§æ¨¡å‹æ™ºèƒ½ä¸è¡ŒåŠ¨èƒ½åŠ›çš„æ¶æ„ï¼Œä»£è¡¨äº†å½“å‰å¤§æ¨¡å‹åº”ç”¨çš„æœ€é«˜é˜¶å½¢æ€ï¼Œå®ç°äº†ä»è¢«åŠ¨å“åº”åˆ°ä¸»åŠ¨è§„åˆ’å’Œæ‰§è¡Œçš„è·ƒè¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/763a24e3be1a40f2ba9dca7d09152770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=NG5bAnW7M9GgU5x1rFiWhDl9Uwk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å››ã€é€šå¾€AGIçš„é“è·¯ï¼šAI Agentä¸‰çº§è·ƒè¿ï¼Œäº§å“å½¢æ€ä¸æŠ€æœ¯èƒ½åŠ›çš„ååŒæ¼”è¿›</strong></p>
<p>Agentæ˜¯AIè¿ˆå‘AGIï¼ˆé€šç”¨äººå·¥æ™ºèƒ½ï¼‰çš„å…³é”®ç¯èŠ‚ä¹‹ä¸€ã€‚</p>
<p>å…¶å‘å±•å¯åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œæ—¢ä½“ç°äº§å“å½¢æ€çš„æ¼”è¿›ï¼Œä¹Ÿæ ‡å¿—ç€æŠ€æœ¯èƒ½åŠ›çš„è·ƒå‡ï¼š</p>
<p>åˆçº§é˜¶æ®µçš„æ™ºèƒ½ä½“ä¾§é‡äºäººæœºæ·±åº¦äº¤äº’ï¼Œæ ¸å¿ƒèƒ½åŠ›æ„å»ºäºå¤§è¯­è¨€æ¨¡å‹ã€æç¤ºè¯å·¥ç¨‹å’Œå‘é‡æ•°æ®åº“ç­‰æŠ€æœ¯ä¹‹ä¸Šï¼Œå®ç°L1éƒ¨åˆ†è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¸­çº§é˜¶æ®µå‘å±•ä¸ºä»»åŠ¡é©±åŠ¨å‹æ™ºèƒ½ä½“ï¼Œéœ€çªç ´å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ã€å¤æ‚ä»»åŠ¡è§„åˆ’ä¸è®°å¿†ç®¡ç†ç­‰æŠ€æœ¯ï¼Œèƒ½å¤Ÿåœ¨å°‘é‡äººå·¥å¹²é¢„ä¸‹å®Œæˆå¤šæ­¥éª¤å¤æ‚ä»»åŠ¡ï¼Œè¾¾åˆ°L2æœ‰æ¡ä»¶è‡ªåŠ¨åŒ–è‡³L3é«˜åº¦è‡ªåŠ¨åŒ–ã€‚</p>
<p>é«˜çº§é˜¶æ®µå°†å®ç°çº¯ç²¹çš„AGIæ™ºèƒ½ä½“ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ï¼Œè¾¾æˆL4å®Œå…¨è‡ªåŠ¨åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09b5e82caa864e4791026703fcfc3052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=4jWFmYuDsUdSACrbUaEJSOf42D8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äº”ã€MCPæ™®åŠçªç ´ä¼ ç»ŸAgentå­˜åœ¨çš„é—®é¢˜ï¼Œå¢å¼ºAgentä¸å·¥å…·é—´çš„äº’è”äº’é€šèƒ½åŠ›</strong></p>
<p>æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆModel Context Protocolï¼ŒMCPï¼‰ï¼Œæ˜¯ç”±Anthropicæ¨å‡ºçš„å¼€æºåè®®ï¼Œæ—¨åœ¨å®ç°å¤§è¯­è¨€æ¨¡å‹/Agentä¸å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·çš„é›†æˆã€‚</p>
<p>ä¸ä¼ ç»Ÿçš„å·¥å…·è°ƒç”¨æ–¹å¼ï¼ˆå¦‚Function Callingã€A2Aç­‰ï¼‰ç›¸æ¯”ï¼ŒMCPå…·å¤‡é€šç”¨æ€§å¼ºã€äº’æ“ä½œæ€§é«˜ã€ä½¿ç”¨é—¨æ§›ä½ç­‰çªå‡ºä¼˜åŠ¿ï¼Œé€šè¿‡æä¾›å¼€æ”¾ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†ï¼Œæœ‰æ•ˆè§£å†³äº†Agentä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’è¿‡ç¨‹ä¸­å­˜åœ¨çš„ç”Ÿæ€ç¢ç‰‡åŒ–å’Œé›†æˆæˆæœ¬é«˜æ˜‚ç­‰é—®é¢˜ã€‚</p>
<p>MCPçš„å¹¿æ³›åº”ç”¨å°†æ˜¾è‘—é™ä½ç³»ç»Ÿé›†æˆå¤æ‚åº¦ï¼Œå¢å¼ºAgentä¸å·¥å…·ä¹‹é—´çš„äº’è”äº’é€šèƒ½åŠ›ï¼Œå½¢æˆæ›´åŠ ç¹è£ã€å¼€æ”¾å’ŒååŒçš„Agentç”Ÿæ€ç³»ç»Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e67baf646b24abbb20d56824c7d27c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=bD2keys6waM%2FsjZJPS4xR31pyPk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23047df68e304e7fbb2b6515b957d446~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=piu2CF%2BFcMJTYbCD87AlaERQZ74%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…­ã€ä¸æ˜¯æ‰€æœ‰AIæ¨¡å‹/äº§å“éƒ½æ˜¯Agentï¼Œå…³é”®åœ¨äº"å·¥å…·è°ƒç”¨èƒ½åŠ›"</strong></p>
<p>å¤§å¤šæ•°AIäº§å“ï¼ˆå¦‚æ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆæ¨¡å‹ï¼‰æ˜¯è¢«åŠ¨å“åº”çš„â€œå¤§è„‘â€ï¼Œæ˜¯å…·å¤‡â€œç†è§£ä¸ç”Ÿæˆâ€èƒ½åŠ›çš„æŠ€æœ¯åº•åº§ï¼Œä»…èƒ½å®Œæˆæ–‡æœ¬åˆ›ä½œã€ä¿¡æ¯é—®ç­”ç­‰å•ä¸€ã€å°é—­çš„è¾“å‡ºä»»åŠ¡ï¼Œå®ƒä»¬æ¥å—è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºï¼Œä½†æ— æ³•å½±å“å¤–éƒ¨ä¸–ç•Œã€‚</p>
<p>è€ŒAI Agentåˆ™åŒæ—¶å…·å¤‡â€œæ„ŸçŸ¥èƒ½åŠ›ã€è®°å¿†èƒ½åŠ›ã€å·¥å…·è°ƒç”¨èƒ½åŠ›ã€è§„åˆ’èƒ½åŠ›â€å››å¤§èƒ½åŠ›ï¼Œå…¶æ ¸å¿ƒå·®å¼‚åœ¨äºæ˜¯å¦å…·å¤‡å·¥å…·è°ƒç”¨ï¼ˆTool Useï¼‰èƒ½åŠ›ï¼Œå³ä¸»åŠ¨è°ƒç”¨å¤–éƒ¨å·¥å…·ä»¥æ‹“å±•èƒ½åŠ›è¾¹ç•Œã€è¾¾æˆå¤æ‚ç›®æ ‡çš„èƒ½åŠ›ï¼Œå®ç°äº†ä»â€œè§£ç­”é—®é¢˜â€åˆ°â€œè§£å†³é—®é¢˜â€çš„è·¨è¶Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d752ecf61e464397bd20684ab4e8b950~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=7cfA5jnSwpnqYjAfKVVggKm2GlM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a17d18fe66bb4565809dc664069d57b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=rGmojU%2BiwamxlEOpMdmBkO9t5Gs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸ƒã€AI Agentåº”ç”¨åœºæ™¯æ·±åº¦åˆ†åŒ–ï¼šæ™ºèƒ½å®¢æœæ¸—é€ç‡æœ€é«˜ï¼Œæ•°æ®åˆ†ææˆä¸ºç¬¬äºŒå¢é•¿æ›²çº¿</strong></p>
<p>æ ¹æ®ç¬¬ä¸€æ–°å£°æ™ºåº“å¯¹äº’è”ç½‘ã€é‡‘èã€é€šä¿¡ã€åŒ»ç–—ã€å·¥ä¸š/åˆ¶é€ ã€æ•™è‚²å…­å¤§è¡Œä¸šè¿‘70å®¶ä¼ä¸šè°ƒç ”åˆ†æï¼Œå°†å…­å¤§è¡Œä¸šä¸‹AI Agentåº”ç”¨çš„36ä¸ªç»†åˆ†åœºæ™¯æŒ‰â€œæ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆçº§â€ï¼ˆå³åœºæ™¯æœ€æ ¸å¿ƒçš„ç›®æ ‡æ˜¯å“ªç±»åŠŸèƒ½ï¼‰åˆ’åˆ†ä¸ºå®¢æœã€æ•°æ®åˆ†æã€è¥é”€ ã€ç ”å‘ã€çŸ¥è¯†åŠ©æ‰‹äº”å¤§ç±»ã€‚</p>
<p>AI Agentçš„åº”ç”¨å‘ˆç°åœºæ™¯æ·±åº¦åˆ†åŒ–çš„æ˜¾è‘—ç‰¹å¾ï¼šæ™ºèƒ½å®¢æœä»¥è¶…70%çš„æ¸—é€ç‡æˆä¸ºæˆç†Ÿæ ‡æ†ï¼›æ•°æ®åˆ†æåœºæ™¯æ¸—é€ç‡è¾¾60%ç´§éšå…¶åï¼Œæˆä¸ºä¸šåŠ¡å†³ç­–çš„æ ¸å¿ƒæ”¯æ’‘ï¼›ç ”å‘ã€è¥é”€ã€çŸ¥è¯†åŠ©æ‰‹åœºæ™¯å­•è‚²ç€ä¸‹ä¸€è½®çˆ†å‘ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6580006ecebf419ca4a5d63b15fd172b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=7KeCRYBk%2B6puMbvup7K39IqRams%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6f7d525657a4b178c26d4ef356cb64f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=J%2F8vinEAxFhzzPfv4kFZmTfHZEY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1061b5009e84b8ea4094b30b400f9e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=cKPLSFag6yMyQWUGigFQtZC7gvA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d70f4dd6db14638a289f84788dcf53f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=vmDYZ2ynebgvfH%2Btwf9xyB29qIY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…«ã€å‚ç›´AI Agenté‡æ„SaaSè¡Œä¸šï¼šä»æ•ˆç‡æå‡åˆ°ä»·å€¼åˆ›é€ </strong></p>
<p>AI Agentå¯¹SaaSè¡Œä¸šçš„é‡æ„æ˜¯ä¸€åœºä»åº•å±‚é€»è¾‘åˆ°ç”¨æˆ·ä½“éªŒçš„èŒƒå¼é©å‘½ï¼Œå½»åº•é¢ è¦†äº†ä¼ ç»Ÿè½¯ä»¶"äººæ“ä½œå·¥å…·"çš„åä½œæ¨¡å¼ã€‚</p>
<p>è¿™ç§é‡æ„ä¸æ˜¯ç®€å•çš„åŠŸèƒ½å¢å¼ºï¼Œè€Œæ˜¯å½»åº•æ”¹å˜äº†äººæœºåä½œçš„æœ¬è´¨ï¼šç”¨æˆ·ä»æ“ä½œè€…å‡çº§ä¸ºæŒ‡æŒ¥å®˜ï¼Œè½¯ä»¶ä»æ‰§è¡Œè€…èœ•å˜ä¸ºåä½œè€…ã€‚</p>
<p>è¿™ç§é‡æ„æ¨åŠ¨SaaSä»·å€¼ä»"æå‡æ•ˆç‡"è·ƒè¿è‡³"åˆ›é€ æ”¶ç›Š"â€”â€”Salesforceé›†æˆAgentåé”€å”®çº¿ç´¢è½¬åŒ–å‘¨æœŸç¼©çŸ­40%ï¼Œæ ‡å¿—ç€è½¯ä»¶æ­£å¼è¿›å…¥"ç›®æ ‡é©±åŠ¨ã€äººæœºå…±åˆ›"çš„æ–°çºªå…ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54d1d4324a404ccd90172effa6d28b52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=nALl3nxMFPPIqvmFd0Nttlijaj8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¹ã€AI Agentä¼˜ç§€å‚å•†æ¡ˆä¾‹åˆ†æ</strong></p>
<p><strong>1.é˜¿é‡Œäº‘ï¼šé€šä¹‰åƒé—®Agentï¼Œæ€æ·±ã€è¡Œé€Ÿï¼Œæ»¡è¶³å¤šåœºæ™¯AIåº”ç”¨æ„å»ºéœ€æ±‚</strong></p>
<p>é˜¿é‡Œäº‘é€šä¹‰åƒé—®Agentç³»ç»Ÿå±•ç°äº†ä¼ä¸šçº§é€šç”¨Agentçš„å…¸å‹å®è·µï¼Œé€šè¿‡å¤§æ¨¡å‹ä¸å·¥å…·è°ƒç”¨èåˆï¼Œå®ç°å¤æ‚ä»»åŠ¡çš„è‡ªè§„åˆ’ä¸æ‰§è¡Œã€‚</p>
<p>é€šä¹‰åƒé—®Agentç³»ç»Ÿå®šä½ä¼ä¸šçº§æ™ºèƒ½åä½œä¸­æ¢ï¼Œå…·å¤‡å¤šæ™ºèƒ½ä½“åä½œä¸è®°å¿†è¿›åŒ–èƒ½åŠ›ï¼Œæ”¯æŒä¼ä¸šé€‚é…ä¸šåŠ¡æµç¨‹ã€‚</p>
<p>æ ¸å¿ƒä¼˜åŠ¿åœ¨äºæ·±åº¦èåˆé˜¿é‡Œç”Ÿæ€å·¥å…·ä¸ä¼ä¸šä¸šåŠ¡ç³»ç»Ÿï¼Œæ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ã€‚</p>
<p>å•†ä¸šæ¨¡å¼ä»¥â€œåŸºç¡€æœåŠ¡è´¹ + å®šåˆ¶åŒ–å¼€å‘è´¹â€ä¸ºä¸»ï¼Œå·²åœ¨é›¶å”®ã€ç‰©æµã€é‡‘èç­‰é¢†åŸŸè½åœ°ã€‚</p>
<p>é˜¿é‡Œäº‘é€šä¹‰åƒé—®Agenté€šè¿‡ç«¯åˆ°ç«¯ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œå¸®åŠ©ä¼ä¸šé™ä½è¿è¥æˆæœ¬ï¼Œç›®å‰æœåŠ¡è¶…2000å®¶ä¼ä¸šï¼Œæ˜¯é˜¿é‡Œæ¨è¿›äº§ä¸šAIåŒ–çš„å…³é”®è½½ä½“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdda91505147487fa2a16ad0beb96b8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=brjZcW6DaghCeCF%2BOdoQnKjtnVY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba1bf49d85842f483a08f94b6a968e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=ovpGV9h1GRzho3wBF4EyA6XTuRw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2.è…¾è®¯äº‘ï¼šæ™ºèƒ½ä½“å¼€å‘å¹³å°åŠ©åŠ›å¤šè¡Œä¸šã€å¤šåœºæ™¯æ™ºèƒ½ä½“æ­å»º</strong></p>
<p>è…¾è®¯äº‘æ™ºèƒ½ä½“å¼€å‘å¹³å°ï¼ˆTencent Cloud Agent Development Platformï¼Œç®€ç§°Tencent Cloud ADPï¼‰æ˜¯åŸºäºå¤§æ¨¡å‹æŠ€æœ¯æ„å»ºçš„ä¸€ç«™å¼æ™ºèƒ½ä½“å¼€å‘ä¸éƒ¨ç½²å¹³å°ã€‚</p>
<p>è¯¥å¹³å°æ•´åˆäº†å¤šç§å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¡†æ¶ä¸å·¥å…·ï¼Œå¸®åŠ©ä¼ä¸šé«˜æ•ˆã€çµæ´»åœ°æ‰“é€ è´´åˆä¸šåŠ¡åœºæ™¯çš„æ™ºèƒ½ä½“åº”ç”¨ï¼Œå®ç°å¯¹å†…å¯¹å¤–æœåŠ¡çš„æ™ºèƒ½åŒ–å‡çº§ã€‚</p>
<p>ä¾æ‰˜è…¾è®¯äº‘é›„åšçš„å¤§æ¨¡å‹åŸºç¡€ä¸è‡ªç ”æŠ€æœ¯ï¼ŒADPæä¾›åŒ…æ‹¬ LLM + RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€Workflowï¼ˆå·¥ä½œæµå¼•æ“ï¼‰ã€ Multi-agentï¼ˆå¤šæ™ºèƒ½ä½“ååŒï¼‰ç­‰æ ¸å¿ƒå¼€å‘æ¡†æ¶ï¼Œæœ‰æ•ˆé™ä½å¼€å‘é—¨æ§›ï¼Œæå‡æ™ºèƒ½åº”ç”¨çš„æ„å»ºæ•ˆç‡ä¸è´¨é‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4eaf191a27e6407fb254c9efc34e8ce4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=spUNQ6oSpZGkX2mgEic4dRaryko%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae191e6cbc8c450280adee9a6e024ef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=q7lcfY4wOSOrBzDuVsIzxxwTKnw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3.æ™ºè°±ï¼šAutoGLMæ²‰æ€ï¼Œæ¨åŠ¨æ™ºèƒ½ä½“è¿›å…¥â€œè¾¹æƒ³è¾¹å¹²â€çš„é˜¶æ®µ</strong></p>
<p>æ™ºè°±å‘å¸ƒçš„AutoGLMæ²‰æ€æ˜¯å…¨çƒé¦–ä¸ªèƒ½æ“ä½œæ‰‹æœºå’Œç”µè„‘çš„é€šç”¨Agentï¼Œç”±æ™ºè°±è‡ªç ”çš„çº¯å›½äº§æ¨¡å‹GLM-4.5ä¸GLM-4.5Vé©±åŠ¨ï¼Œæ”¯æŒå¤æ‚ä»»åŠ¡é“¾æ‰§è¡Œã€å¤šè½®å¯¹è¯ã€å·¥å…·è°ƒç”¨ã€çŸ¥è¯†åº“å¢å¼ºç­‰é«˜çº§åŠŸèƒ½ï¼Œåœ¨ç›¸å…³åŸºå‡†æµ‹è¯•ä¸­æ€§èƒ½è¡¨ç°å‡ºè‰² ã€‚</p>
<p>å…¶æœ€å¤§äº®ç‚¹æ˜¯èƒ½æˆä¸ºç”¨æˆ·çš„â€œæ‰§è¡Œå‹åŠ©æ‰‹â€ï¼Œåªéœ€ç”¨æˆ·ä¸€å¥è¯ï¼Œå®ƒå°±èƒ½æ“ä½œæ‰‹æœºã€ç”µè„‘ï¼Œåœ¨40å¤šä¸ªé«˜é¢‘æ‰‹æœºåº”ç”¨åŠç”µè„‘è½¯ä»¶ä¸­æ— ç¼åˆ‡æ¢ï¼Œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p>æ— è®ºæ˜¯ç”¨äºä¼ä¸šçº§çš„ä¸šåŠ¡èµ‹èƒ½ã€å†…å®¹åˆ›ä½œï¼Œè¿˜æ˜¯ä¸ªäººçš„å­¦ä¹ å’Œæ•ˆç‡å·¥å…·ï¼ŒAutoGLMéƒ½æä¾›äº†ä¸€ä¸ªé«˜æ•ˆä¸”å¯é çš„æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44735b6752be4bdeb1d493e3af0b9bc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=p5NRtiNnPfuW28%2F2ganGtO1i0bo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16829122b0584f4fb1b330efe571de6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=PL75rybH%2FgAul%2FnAP16Isc%2FmT98%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åã€è¶‹åŠ¿ä¸å±•æœ›</strong></p>
<p><strong>1.AIæ–°å‹ç”Ÿäº§åŠ›ï¼šä»"AIè¾…åŠ©äººç±»(Copilot)"åˆ°"AIè‡ªä¸»æœåŠ¡(Autopilot)"</strong></p>
<p>AI Agentä½œä¸ºâ€œæ–°å‹ç”Ÿäº§åŠ›â€çš„æ ¸å¿ƒè½½ä½“ ï¼Œæ­£åœ¨å°†AIåº”ç”¨ä»â€œCopilotâ€ï¼ˆè¾…åŠ©è€…ï¼‰æ¨å‘â€œAutopilotâ€ï¼ˆè‡ªä¸»æœåŠ¡è€…ï¼‰çš„æ–°é«˜åº¦ã€‚</p>
<p>è¿™ç§ä»â€œè¾…åŠ©â€åˆ°â€œè‡ªä¸»â€çš„è·ƒè¿ï¼Œä¸ä»…ä»…æ˜¯æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡ï¼Œæ›´é¢„ç¤ºç€æœªæ¥å·¥ä½œæ¨¡å¼å’ŒæœåŠ¡å½¢æ€çš„æ ¹æœ¬æ€§é‡å¡‘â€”â€”AIå°†ä»â€œææ•ˆå·¥å…·â€é€æ­¥è¿›åŒ–ä¸ºèƒ½ä¸»åŠ¨æ€è€ƒã€å†³ç­–å¹¶è§£å†³é—®é¢˜çš„â€œæ–°å‹ç”Ÿäº§åŠ›â€ã€‚</p>
<p>æœªæ¥éšç€æŠ€æœ¯çš„æˆç†Ÿå’Œåº”ç”¨åœºæ™¯çš„æ·±åŒ–ï¼ŒAIçš„è‡ªä¸»æœåŠ¡èƒ½åŠ›å°†æ›´å¹¿æ³›åœ°æ¸—é€åˆ°å„è¡Œå„ä¸šçš„æ ¸å¿ƒç¯èŠ‚ï¼Œæ·±åˆ»æ”¹å˜ä»·å€¼é“¾æ„æˆï¼Œå¹¶æœ€ç»ˆé‡æ–°å®šä¹‰äººæœºåä½œçš„è¾¹ç•Œä¸æ¨¡å¼ï¼Œå¼€å¯æ™ºèƒ½ç»æµçš„æ–°ç¯‡ç« ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca7bbc70835440c1ac24dfffeac33014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=RNKQLA2f4BSm7o%2FBmcZi8zY%2F0h0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2.Agent+æœºå™¨äººï¼šä¸ºå…·èº«æ™ºèƒ½èµ‹äºˆâ€œå¤§è„‘â€çš„å…³é”®ä»·å€¼</strong></p>
<p>å…·èº«æ™ºèƒ½ï¼ˆEmbodied Intelligenceï¼‰é€šè¿‡å°†æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ä¸ç‰©ç†å®ä½“ç»“åˆï¼Œå®ç°äº†äººå·¥æ™ºèƒ½ä»è™šæ‹Ÿä¸–ç•Œå‘ç‰©ç†ä¸–ç•Œçš„å»¶ä¼¸ã€‚</p>
<p>å¤§æ¨¡å‹èµ‹äºˆçš„è®¤çŸ¥ã€æ¨ç†èƒ½åŠ›åµŒå…¥æœºå™¨äººç¡¬ä»¶åï¼Œä½¿å…¶åœ¨æ„ŸçŸ¥äº¤äº’ã€ä»»åŠ¡æ‰§è¡Œä¸ååŒè¿›åŒ–å±‚é¢å®ç°çªç ´ï¼Œä¸ºæœºå™¨äººé¢†åŸŸå¼€è¾Ÿå…¨æ–°å¸‚åœºç©ºé—´ã€‚</p>
<p>è¿™ä¸€ç»“åˆä¹Ÿæ¨åŠ¨æ™ºèƒ½ä½“ä»å•ä¸€åŠŸèƒ½æ‰§è¡Œå‘å…¨åœºæ™¯è‡ªä¸»å†³ç­–è·¨è¶Šå¼å‡çº§ã€‚éšç€å…·èº«æ™ºèƒ½å‘å±•ï¼Œâ€œæœºå™¨äºº+Agentâ€å°†é€æ­¥æ¶ˆèç‰©ç†ä¸æ•°å­—ä¸–ç•Œçš„ç•Œé™ï¼Œæˆä¸ºé‡æ„ç”Ÿäº§åŠ›ç½‘ç»œçš„è¶…çº§èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49b312fe02e3469a8a924aee8dbb1727~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=mEQz%2FudaRrBSYhVvTvw1C0aC2oA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13d931d77cfb4317993775429944d332~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=VupORBxJhVf54YR5FqcOws7Gc44%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3.é€šç”¨Agentæµé‡å…¥å£ï¼šé¢ è¦†ä¼ ç»Ÿæœç´¢å¼•æ“</strong></p>
<p>å‚ç›´Agenté‡æ„ä¸šåŠ¡æ¨¡å¼ï¼Œé€šç”¨Agenté‡æ„æµé‡æ¨¡å¼ã€‚AI Agentå¯¹ç°æœ‰äº’è”ç½‘æµé‡å…¥å£çš„å½±å“æ˜¯æ·±è¿œä¸”é¢ è¦†æ€§çš„ï¼šæœªæ¥ï¼Œäº’è”ç½‘æµé‡å…¥å£å¯èƒ½å‘å°‘æ•°é€šç”¨Agenté›†ä¸­ï¼Œä»·å€¼é“¾é¢ä¸´é‡æ„ã€‚</p>
<p>ä¼ ç»Ÿæµé‡åˆ†å‘å…¥å£ï¼ˆæœç´¢å¼•æ“ã€åº”ç”¨å•†åº—ï¼‰å—åˆ°ä¸¥å³»æŒ‘æˆ˜ï¼Œç”¨æˆ·ä¿¡æ¯è·å–çš„æ–¹å¼å°†è¢«é¢ è¦†ï¼Œä¼ ç»Ÿæœç´¢å¼•æ“æµé‡å…¥å£çš„ä»·å€¼ä»â€œæµé‡åˆ†å‘â€è½¬å‘â€œç›´æ¥æ»¡è¶³éœ€æ±‚â€ï¼Œèƒ½ç›´æ¥å®Œæˆä»»åŠ¡çš„Agentå¹³å°å°†å æ®æ›´å¤§ä»·å€¼ã€‚</p>
<p>æ®ç¬¬ä¸€æ–°å£°æ™ºåº“ç ”ç©¶é¢„æµ‹ï¼Œå›´ç»•â€œé€šç”¨å…¥å£çº§Agentâ€çš„å¤§æˆ˜å°†åœ¨2025å¹´åº•å¼€å§‹é€æ¸æ‹‰å¼€å¸·å¹•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9210e28f24cc41aa90bafeab6e86b7a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=oiWBkxhlSW%2FEu0vOiEWrak40zqQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b81cb574931c4654a5c0886f5674633b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=Pvm5E8sRZQX1U0qEWokyVxLh%2FOc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹]]></title>    <link>https://juejin.cn/post/7573776814948073491</link>    <guid>https://juejin.cn/post/7573776814948073491</guid>    <pubDate>2025-11-18T07:47:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573776814948073491" data-draft-id="7573855399716601875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-18T07:47:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªåŠ¨åŒ–BUGåˆ¶é€ å™¨"/> <meta itemprop="url" content="https://juejin.cn/user/4072246798985848"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246798985848/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªåŠ¨åŒ–BUGåˆ¶é€ å™¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:47:58.000Z" title="Tue Nov 18 2025 07:47:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨é˜…è¯»å®˜æ–¹çº¿ç¨‹æ¦‚è¿°æ–‡æ¡£æ—¶ï¼Œæœ‰ä»¥ä¸‹æè¿°ï¼š</p>
<h4 data-id="heading-0">çº¿ç¨‹æ³¨è§£</h4>
<p>çº¿ç¨‹æ³¨è§£å¯ä»¥æ£€æŸ¥æŸä¸ªæ–¹æ³•æ˜¯å¦ä»ç‰¹å®šç±»å‹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fguide%2Fcomponents%2Fprocesses-and-threads%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/guide/components/processes-and-threads?hl=zh-cn" ref="nofollow noopener noreferrer">çº¿ç¨‹</a>è°ƒç”¨ã€‚æ”¯æŒä»¥ä¸‹çº¿ç¨‹æ³¨è§£ï¼š</p>
<ul>
<li><code>@MainThread</code></li>
<li><code>@UiThread</code></li>
<li><code>@WorkerThread</code></li>
<li><code>@BinderThread</code></li>
<li><code>@AnyThread</code></li>
</ul>
<p>æ„å»ºå·¥å…·ä¼šå°† <code>@MainThread</code> å’Œ <code>@UiThread</code> æ³¨è§£è§†ä¸ºå¯äº’æ¢ï¼Œå› æ­¤æ‚¨å¯ä»¥ä» <code>@MainThread</code> æ–¹æ³•è°ƒç”¨ <code>@UiThread</code> æ–¹æ³•ï¼Œåä¹‹äº¦ç„¶ã€‚ä¸è¿‡ï¼Œ<strong>å¦‚æœç³»ç»Ÿåº”ç”¨æœ‰å¤šä¸ªè§†å›¾åœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šï¼Œé‚£ä¹ˆç•Œé¢çº¿ç¨‹å¯èƒ½ä¼šä¸ä¸»çº¿ç¨‹ä¸åŒã€‚</strong> å› æ­¤ï¼Œæ‚¨åº”ä½¿ç”¨ <code>@UiThread</code> ä¸ºä¸åº”ç”¨çš„è§†å›¾å±‚æ¬¡ç»“æ„å…³è”çš„æ–¹æ³•æ·»åŠ æ³¨è§£ï¼Œå¹¶ä½¿ç”¨ <code>@MainThread</code> ä»…ä¸ºä¸åº”ç”¨ç”Ÿå‘½å‘¨æœŸå…³è”çš„æ–¹æ³•æ·»åŠ æ³¨è§£ã€‚</p>
<p>å¦‚æœæŸä¸ªç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•å…·æœ‰ç›¸åŒçš„çº¿ç¨‹è¦æ±‚ï¼Œæ‚¨å¯ä¸ºè¯¥ç±»æ·»åŠ ä¸€ä¸ªçº¿ç¨‹æ³¨è§£ï¼Œä»¥éªŒè¯è¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•æ˜¯å¦ä»åŒä¸€ç±»å‹çš„çº¿ç¨‹è°ƒç”¨ã€‚</p>
<p>çº¿ç¨‹æ³¨è§£çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯éªŒè¯æ³¨è§£ä¸º <code>@WorkerThread</code> çš„æ–¹æ³•æˆ–ç±»ï¼Œå¹¶ä¸”æ­¤ç±»æ³¨è§£ä»…ä¼šé€šè¿‡ç›¸åº”çš„åå°çº¿ç¨‹è°ƒç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹ï¼Ÿ</h3>
<p>åœ¨ Android ä¸­ï¼Œé€šå¸¸æƒ…å†µä¸‹<strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> å’Œ<strong>UI çº¿ç¨‹ï¼ˆUI Threadï¼‰</strong> æ˜¯åŒä¸€ä¸ªçº¿ç¨‹ â€”â€” åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºçš„ä¸»çº¿ç¨‹è´Ÿè´£å¤„ç† UI ç»˜åˆ¶ã€ç”¨æˆ·äº¤äº’ç­‰æ“ä½œï¼Œå› æ­¤ä¸»çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸º UI çº¿ç¨‹ã€‚ä½†åœ¨<strong>ç³»ç»Ÿåº”ç”¨</strong>æˆ–ç‰¹æ®Šåœºæ™¯ä¸­ï¼Œä¸¤è€…å¯èƒ½åˆ†ç¦»ï¼Œæ ¸å¿ƒåŸå› æ˜¯ï¼š<strong>UI çº¿ç¨‹çš„æœ¬è´¨æ˜¯ â€œè´Ÿè´£ç®¡ç†æŸä¸ªè§†å›¾å±‚æ¬¡ï¼ˆView Hierarchyï¼‰ç»˜åˆ¶å’Œäº¤äº’çš„çº¿ç¨‹â€ï¼Œè€Œä¸»çº¿ç¨‹æ˜¯ â€œåº”ç”¨è¿›ç¨‹å¯åŠ¨æ—¶åˆ›å»ºçš„ä¸»è¦çº¿ç¨‹â€</strong> ï¼Œå½“ä¸€ä¸ªåº”ç”¨éœ€è¦ç®¡ç†å¤šä¸ªç‹¬ç«‹çš„è§†å›¾å±‚æ¬¡ä¸”å¸Œæœ›å®ƒä»¬ä¸äº’ç›¸é˜»å¡æ—¶ï¼Œå¯èƒ½ä¼šä¸ºä¸åŒçš„è§†å›¾å±‚æ¬¡åˆ†é…ä¸åŒçš„çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹å°±æ˜¯å„è‡ªè§†å›¾çš„ â€œUI çº¿ç¨‹â€ï¼Œä½†å¹¶éåº”ç”¨çš„ä¸»çº¿ç¨‹ã€‚</p>
<h3 data-id="heading-2">ä¸¾ä¾‹è¯´æ˜ï¼šç³»ç»Ÿçº§å¤šçª—å£åº”ç”¨çš„åœºæ™¯</h3>
<p>å‡è®¾ Android ç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªè´Ÿè´£ç®¡ç†å¤šä»»åŠ¡çª—å£çš„ç³»ç»Ÿåº”ç”¨ï¼ˆå¦‚ç³»ç»Ÿçš„ â€œåˆ†å±ç®¡ç†å™¨â€ï¼‰ï¼Œå…¶åŠŸèƒ½æ˜¯åŒæ—¶æ˜¾ç¤ºå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨çª—å£ï¼ˆå¦‚å·¦ä¾§ä¸€ä¸ªè§†é¢‘çª—å£ã€å³ä¾§ä¸€ä¸ªæ–‡æ¡£çª—å£ï¼‰ï¼Œå¹¶å…è®¸ç”¨æˆ·åˆ†åˆ«ä¸ä¸¤ä¸ªçª—å£äº¤äº’ã€‚</p>
<ul>
<li>
<p>è¯¥ç³»ç»Ÿåº”ç”¨çš„<strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> è´Ÿè´£å¤„ç†å…¨å±€é€»è¾‘ï¼šå¦‚çª—å£çš„åˆ›å»º / é”€æ¯ã€ä½ç½®è°ƒæ•´ã€ç³»ç»Ÿäº‹ä»¶ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰çš„åˆ†å‘ç­‰ï¼Œè¿™æ˜¯åº”ç”¨è¿›ç¨‹å¯åŠ¨æ—¶çš„æ ¸å¿ƒçº¿ç¨‹ã€‚</p>
</li>
<li>
<p>ç”±äºä¸¤ä¸ªçª—å£éœ€è¦é«˜é¢‘åˆ·æ–°ï¼ˆå¦‚è§†é¢‘çª—å£æ¯ç§’ 30 å¸§ç»˜åˆ¶ï¼‰ï¼Œå¦‚æœéƒ½ç”±ä¸»çº¿ç¨‹å¤„ç†ï¼Œå¯èƒ½å¯¼è‡´ä¸»çº¿ç¨‹é˜»å¡ï¼ˆä¾‹å¦‚è§†é¢‘ç»˜åˆ¶è€—æ—¶å½±å“æ–‡æ¡£çª—å£çš„è¾“å…¥å“åº”ï¼‰ã€‚å› æ­¤ï¼Œç³»ç»Ÿåº”ç”¨ä¸ºæ¯ä¸ªçª—å£çš„è§†å›¾å±‚æ¬¡ï¼ˆView Treeï¼‰å•ç‹¬åˆ›å»ºäº†<strong>ä¸¤ä¸ªç‹¬ç«‹çš„åå°çº¿ç¨‹</strong>ï¼š</p>
<ul>
<li>çº¿ç¨‹ Aï¼šä¸“é—¨è´Ÿè´£å·¦ä¾§è§†é¢‘çª—å£çš„è§†å›¾ç»˜åˆ¶ï¼ˆå¦‚è§£ç åçš„å¸§æ¸²æŸ“ï¼‰ã€è§¦æ‘¸äº‹ä»¶å¤„ç†ï¼ˆå¦‚æ‹–åŠ¨è¿›åº¦æ¡ï¼‰ï¼Œå®ƒæ˜¯<strong>è§†é¢‘çª—å£çš„ UI çº¿ç¨‹</strong>ã€‚</li>
<li>çº¿ç¨‹ Bï¼šä¸“é—¨è´Ÿè´£å³ä¾§æ–‡æ¡£çª—å£çš„è§†å›¾ç»˜åˆ¶ï¼ˆå¦‚æ–‡å­—æ»šåŠ¨ï¼‰ã€è¾“å…¥äº‹ä»¶å¤„ç†ï¼ˆå¦‚é”®ç›˜è¾“å…¥ï¼‰ï¼Œå®ƒæ˜¯<strong>æ–‡æ¡£çª—å£çš„ UI çº¿ç¨‹</strong>ã€‚</li>
</ul>
</li>
</ul>
<p>æ­¤æ—¶ï¼Œçº¿ç¨‹ A å’Œçº¿ç¨‹ B éƒ½æ˜¯å„è‡ªè§†å›¾çš„ â€œUI çº¿ç¨‹â€ï¼ˆå› ä¸ºå®ƒä»¬ç›´æ¥ç®¡ç†è§†å›¾çš„ç»˜åˆ¶å’Œäº¤äº’ï¼‰ï¼Œä½†å®ƒä»¬éƒ½ä¸æ˜¯ç³»ç»Ÿåº”ç”¨çš„ â€œä¸»çº¿ç¨‹â€ï¼ˆä¸»çº¿ç¨‹åœ¨å¤„ç†å…¨å±€é€»è¾‘ï¼‰ã€‚å› æ­¤ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œ<strong>UI çº¿ç¨‹ï¼ˆçº¿ç¨‹ Aã€Bï¼‰ä¸ä¸»çº¿ç¨‹ï¼ˆç³»ç»Ÿåº”ç”¨çš„æ ¸å¿ƒçº¿ç¨‹ï¼‰æ˜¯ä¸åŒçš„çº¿ç¨‹</strong>ã€‚</p>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆæ™®é€šåº”ç”¨ä¸­ä¸¤è€…é€šå¸¸ä¸€è‡´ï¼Ÿ</h3>
<p>æ™®é€šåº”ç”¨çš„è§†å›¾å±‚æ¬¡ï¼ˆå¦‚ Activity çš„å¸ƒå±€ï¼‰é»˜è®¤ç»‘å®šåˆ°ä¸»çº¿ç¨‹ï¼Œä¸” Android æ¡†æ¶å¯¹æ™®é€šåº”ç”¨çš„ UI æ“ä½œåšäº†ä¸¥æ ¼é™åˆ¶ï¼ˆå¦‚éä¸»çº¿ç¨‹æ“ä½œ UI ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œç›®çš„æ˜¯ç®€åŒ–å¼€å‘å¹¶é¿å…å¤šçº¿ç¨‹æ“ä½œ UI å¯¼è‡´çš„åŒæ­¥é—®é¢˜ã€‚è€Œç³»ç»Ÿåº”ç”¨ç”±äºåŠŸèƒ½å¤æ‚ï¼ˆå¦‚éœ€è¦ç®¡ç†å¤šä¸ªç‹¬ç«‹è§†å›¾ï¼‰ï¼Œå¯èƒ½é€šè¿‡åº•å±‚æœºåˆ¶ç»•è¿‡è¿™äº›é™åˆ¶ï¼Œä¸ºä¸åŒè§†å›¾åˆ†é…ç‹¬ç«‹çš„ UI çº¿ç¨‹ï¼Œå› æ­¤ä¼šå‡ºç° â€œUI çº¿ç¨‹â‰ ä¸»çº¿ç¨‹â€ çš„æƒ…å†µã€‚</p>
<p>ç»¼ä¸Šï¼Œâ€œUI çº¿ç¨‹â€ çš„å®šä¹‰ä¾èµ–äº â€œå“ªä¸ªçº¿ç¨‹åœ¨ç®¡ç†è§†å›¾çš„ç»˜åˆ¶å’Œäº¤äº’â€ï¼Œè€Œ â€œä¸»çº¿ç¨‹â€ æ˜¯åº”ç”¨è¿›ç¨‹çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œä¸¤è€…åœ¨ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚ç³»ç»Ÿåº”ç”¨çš„å¤šè§†å›¾ç®¡ç†ï¼‰ä¸­å¯èƒ½åˆ†ç¦»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit]]></title>    <link>https://juejin.cn/post/7573631442313838598</link>    <guid>https://juejin.cn/post/7573631442313838598</guid>    <pubDate>2025-11-18T07:40:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573631442313838598" data-draft-id="7573855399716503571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-18T07:40:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HarmonyOS_SDK"/> <meta itemprop="url" content="https://juejin.cn/user/3245414492430023"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3245414492430023/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HarmonyOS_SDK
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:40:21.000Z" title="Tue Nov 18 2025 07:40:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>1.é—®é¢˜æè¿°ï¼š</strong></p>
<p>è·å–åº”ç”¨æ˜¯å¦å¼€å¯äº†å…è®¸é€šçŸ¥æƒé™åï¼Œå¦‚ä½•å¼•å¯¼è·³è½¬å¼€å¯æƒé™é€šçŸ¥çš„è®¾ç½®é¡µé¢ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>é€šè¿‡isNotificationEnabledæ–¹æ³•æŸ¥è¯¢é€šçŸ¥æ˜¯å¦æˆæƒï¼Œå‚è€ƒisNotificationEnabledç”¨æ³•ã€‚</li>
</ol>
<p>2.è‹¥ç”³è¯·é€šçŸ¥æƒé™è¢«æ‹’ç»åï¼Œåç»­è°ƒç”¨requestEnableNotification()æ–¹æ³•ä¸å†å¼¹çª—ï¼ŒåŒæ—¶ä¼šè¿”å›é”™è¯¯ï¼Œé”™è¯¯ç æ˜¯1600004ã€‚å…·ä½“å‚è€ƒè¯·æ±‚é€šçŸ¥æˆæƒã€‚</p>
<p>3.å¦‚æœæƒ³äºŒæ¬¡æˆæƒï¼Œå¯ä»¥è°ƒç”¨openNotificationSettingsç”³è¯·æˆæƒï¼Œæ‹‰èµ·é€šçŸ¥ç®¡ç†å¼¹çª—æˆ–è€…å¼•å¯¼ç”¨æˆ·è·³è½¬åº”ç”¨è®¾ç½®é¡µé¢å¼€å¯æƒé™ã€‚</p>
<p>å®Œæ•´ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">
<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;


<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationPage</span> {

  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

    notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>().<span class="hljs-title function_">then</span>((<span class="hljs-attr">data</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"isNotificationEnabled success, data: "</span> + data);

      <span class="hljs-keyword">if</span> (!data) {

        <span class="hljs-keyword">let</span> requestEnableNotificationCallback = (<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>): <span class="hljs-built_in">void</span> =&amp;gt; {

          <span class="hljs-keyword">if</span> (err) {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`requestEnableNotification failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

          } <span class="hljs-keyword">else</span> {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`requestEnableNotification success`</span>);

          }

        };

        notificationManager.<span class="hljs-title function_">requestEnableNotification</span>(context, requestEnableNotificationCallback);

      }

    }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`isNotificationEnabled fail, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

    });

  }


  <span class="hljs-comment">// å‘å¸ƒåŸºæœ¬ç±»å‹é€šçŸ¥</span>

  <span class="hljs-title function_">publishBasicNotification</span>(<span class="hljs-params"/>) {


    <span class="hljs-keyword">let</span> <span class="hljs-attr">notificationRequest</span>: notificationManager.<span class="hljs-property">NotificationRequest</span> = {

      <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,

      <span class="hljs-attr">notificationSlotType</span>: notificationManager.<span class="hljs-property">SlotType</span>.<span class="hljs-property">SOCIAL_COMMUNICATION</span>,

      <span class="hljs-attr">content</span>: {

        <span class="hljs-attr">notificationContentType</span>: notificationManager.<span class="hljs-property">ContentType</span>.<span class="hljs-property">NOTIFICATION_CONTENT_BASIC_TEXT</span>, <span class="hljs-comment">// æ™®é€šæ–‡æœ¬ç±»å‹é€šçŸ¥</span>

        <span class="hljs-attr">normal</span>: {

          <span class="hljs-attr">title</span>: <span class="hljs-string">'åŸºæœ¬å‹æ¶ˆæ¯é€šçŸ¥'</span>,

          <span class="hljs-attr">text</span>: <span class="hljs-string">'é€šçŸ¥å†…å®¹XXXXXXX'</span>,

          <span class="hljs-attr">additionalText</span>: <span class="hljs-string">'TextXXXXXXX'</span>,

        }

      }

    };


    notificationManager.<span class="hljs-title function_">publish</span>(notificationRequest, (<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-keyword">if</span> (err) {

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish notification. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

        <span class="hljs-keyword">return</span>;

      }

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in publishing notification.'</span>);

    });

    notificationManager.<span class="hljs-title function_">setBadgeNumber</span>(<span class="hljs-number">1</span>)

  }


  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'åŸºæœ¬é€šçŸ¥'</span>)

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">publishBasicNotification</span>()

        })

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'äºŒæ¬¡æˆæƒ'</span>)

        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`openNotificationSettings success`</span>);

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`openNotificationSettings failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

          });

        })

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'ç‚¹å‡»è¿›å…¥åº”ç”¨è®¾ç½®é¡µé¢'</span>)

        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          <span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {

            <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.huawei.hmos.settings'</span>,

            <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.huawei.hmos.settings.MainAbility'</span>,

            <span class="hljs-attr">uri</span>: <span class="hljs-string">'application_info_entry'</span>,

            <span class="hljs-attr">parameters</span>: {

              <span class="hljs-attr">pushParams</span>: <span class="hljs-string">"com.example.myapplication"</span> <span class="hljs-comment">// é…ç½®åº”ç”¨åŒ…å</span>

            }

          };

          context.<span class="hljs-title function_">startAbility</span>(want).<span class="hljs-title function_">then</span>(() =&amp;gt; {

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>)

          });

        })


    }

    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)

  }

}

</code></pre>
<p><strong>2.é—®é¢˜æè¿°ï¼š</strong></p>
<p>ä½¿ç”¨notificationManager.openNotificationSettingsæ¥å£æ‰“å¼€çš„å¼¹çª—ï¼Œå¦‚ä½•ç›‘å¬å¼¹çª—å…³é—­äº‹ä»¶ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>åœ¨é¡µé¢æ‰“å¼€åº”ç”¨é€šçŸ¥è®¾ç½®é¡µã€‚</p>
<p><code>openNotificationSettings</code>æ¥å£æ‹‰èµ·çš„è®¾ç½®é¡µé¢ï¼Œé¡µé¢å…³é—­çš„æ—¶å€™æ²¡æœ‰å›è°ƒæ–¹æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯è¯¥æ¥å£æ‹‰èµ·çš„é¡µé¢å…³é—­çš„æ—¶å€™ï¼Œä¼šè§¦å‘å…¶ä»–é¡µé¢èšç„¦çš„å›è°ƒï¼Œåœ¨è¿™ä¸ªé¡µé¢çš„æ ¹ç»„ä»¶ä¸Šæ³¨å†Œçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fts-universal-focus-event%23onfocus" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-focus-event#onfocus" ref="nofollow noopener noreferrer">onfocus</a>äº‹ä»¶ï¼Œåœ¨è¯¥å›è°ƒå†…è‡ªå®šä¹‰ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è°ƒç”¨isNotificationEnabledSync()æ¥æŸ¥è¯¢åº”ç”¨é€šçŸ¥çš„å¼€å¯çŠ¶æ€ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;


<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationManagerDemo</span> {

  <span class="hljs-comment">// ç»„ä»¶èšç„¦çŠ¶æ€</span>

  <span class="hljs-meta">@State</span> <span class="hljs-attr">focusState</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>


  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'æ‰“å¼€å¼¹çª—'</span>)

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          <span class="hljs-comment">// æ‹‰èµ·åº”ç”¨é€šçŸ¥è®¾ç½®é¡µé¢</span>

          notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é¡µé¢æ‹‰èµ·æˆåŠŸ'</span>)

            <span class="hljs-comment">// æ‹‰èµ·æˆåŠŸï¼Œæ”¹å˜é¡µé¢èšç„¦çŠ¶æ€</span>

            <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span> = <span class="hljs-literal">false</span>

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é¡µé¢æ‹‰èµ·å¤±è´¥'</span>)

          });

        })

    }

    .<span class="hljs-title function_">onFocus</span>(() =&amp;gt; {

      <span class="hljs-comment">// ç»„ä»¶èšç„¦çš„å›è°ƒ</span>

      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span>) {

        <span class="hljs-comment">// åšä¸€äº›è‡ªå·±çš„æ“ä½œ</span>

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'åº”ç”¨é€šçŸ¥é¡µé¢å…³é—­'</span>)

        <span class="hljs-comment">// æŸ¥è¯¢é€šçŸ¥å¼€å…³æ˜¯å¦å¼€å¯</span>

        <span class="hljs-keyword">let</span> res = notificationManager.<span class="hljs-title function_">isNotificationEnabledSync</span>()

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`æ˜¯å¦å¼€å¯åº”ç”¨é€šçŸ¥ï¼š<span class="hljs-subst">${res}</span>`</span>)

        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">`æ˜¯å¦å¼€å¯åº”ç”¨é€šçŸ¥ï¼š<span class="hljs-subst">${res}</span>`</span> })


        <span class="hljs-comment">// é‡ç½®ç»„ä»¶èšç„¦çŠ¶æ€</span>

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span>

      }

    })

  }

}

</code></pre>
<p><strong>3.é—®é¢˜æè¿°ï¼š</strong></p>
<p>notificationManager.openNotificationSettingså”¤èµ·åŠæ¨¡æ€æ¡†ï¼Œå¦‚ä½•ç›‘å¬æ¶ˆå¤±å¹¶è¯»å–æœ€æ–°é€šçŸ¥å¼€å¯çŠ¶æ€ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>å°è£…é€šçŸ¥ç®¡ç†å·¥å…·ç±»ï¼Œå…¨å±€ä½¿ç”¨ã€‚</p>
<ol>
<li>åˆ›å»ºé€šçŸ¥ç®¡ç†å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-comment">// NotificationUtil.ts</span>

<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;

 

<span class="hljs-comment">/**

 * é€šçŸ¥ç®¡ç†å·¥å…·ç±»

 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NotificationUtil</span> {

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">NotificationUtil</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-attr">focusStateCallbacks</span>: <span class="hljs-title class_">Array</span>&amp;lt;(<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>&amp;gt; = [];

 

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {

  }

 

  <span class="hljs-comment">/**

   * è·å–å•ä¾‹å®ä¾‹

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">getInstance</span>(): <span class="hljs-title class_">NotificationUtil</span> {

    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span>) {

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationUtil</span>();

    }

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span>;

  }

 

  <span class="hljs-comment">/**

   * åˆå§‹åŒ–å·¥å…·ç±»ï¼ˆå¿…é¡»åœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨ï¼‰

   * <span class="hljs-doctag">@param</span> context UIAbilityä¸Šä¸‹æ–‡

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span> = context;

  }

 

  <span class="hljs-comment">/**

   * æ‰“å¼€é€šçŸ¥è®¾ç½®é¡µé¢

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; æ˜¯å¦æˆåŠŸæ‰“å¼€

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">openNotificationSettings</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>) {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'NotificationUtil æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆè°ƒç”¨ initialize æ–¹æ³•'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

 

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">await</span> notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é€šçŸ¥è®¾ç½®é¡µé¢æ‹‰èµ·æˆåŠŸ'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`é€šçŸ¥è®¾ç½®é¡µé¢æ‹‰èµ·å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ£€æŸ¥é€šçŸ¥æ˜¯å¦å¼€å¯ï¼ˆåŒæ­¥ï¼‰

   * <span class="hljs-doctag">@returns</span> boolean é€šçŸ¥æ˜¯å¦å¼€å¯

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">isNotificationEnabled</span>(): <span class="hljs-built_in">boolean</span> {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">return</span> notificationManager.<span class="hljs-title function_">isNotificationEnabledSync</span>();

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`æ£€æŸ¥é€šçŸ¥çŠ¶æ€å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ£€æŸ¥é€šçŸ¥æ˜¯å¦å¼€å¯ï¼ˆå¼‚æ­¥ï¼‰

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; é€šçŸ¥æ˜¯å¦å¼€å¯

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">isNotificationEnabledAsync</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>();

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å¼‚æ­¥æ£€æŸ¥é€šçŸ¥çŠ¶æ€å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ³¨å†Œé¡µé¢èšç„¦çŠ¶æ€å›è°ƒ

   * <span class="hljs-doctag">@param</span> callback å›è°ƒå‡½æ•°

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">registerFocusCallback</span>(<span class="hljs-attr">callback</span>: (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">push</span>(callback);

  }

 

  <span class="hljs-comment">/**

   * æ³¨é”€é¡µé¢èšç„¦çŠ¶æ€å›è°ƒ

   * <span class="hljs-doctag">@param</span> callback å›è°ƒå‡½æ•°

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">unregisterFocusCallback</span>(<span class="hljs-attr">callback</span>: (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">indexOf</span>(callback);

    <span class="hljs-keyword">if</span> (index &amp;gt; -<span class="hljs-number">1</span>) {

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);

    }

  }

 

  <span class="hljs-comment">/**

   * å¤„ç†é¡µé¢èšç„¦äº‹ä»¶ï¼ˆéœ€è¦åœ¨é¡µé¢onFocusä¸­è°ƒç”¨ï¼‰

   * <span class="hljs-doctag">@param</span> isFocused æ˜¯å¦èšç„¦

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">forEach</span>(callback =&amp;gt; {

      <span class="hljs-keyword">try</span> {

        <span class="hljs-title function_">callback</span>(isFocused);

      } <span class="hljs-keyword">catch</span> (err) {

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç„¦ç‚¹çŠ¶æ€å›è°ƒæ‰§è¡Œå¤±è´¥:'</span>, err);

      }

    });

  }

 

  <span class="hljs-comment">/**

   * å®Œæ•´çš„æ‰“å¼€é€šçŸ¥è®¾ç½®å¹¶ç›‘å¬è¿”å›çš„æµç¨‹

   * <span class="hljs-doctag">@param</span> onReturnCallback è¿”å›æ—¶çš„å›è°ƒå‡½æ•°

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; æ˜¯å¦æˆåŠŸæ‰§è¡Œ

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">openSettingsAndListenReturn</span>(onReturnCallback?: (<span class="hljs-attr">isEnabled</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>) {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'NotificationUtil æœªåˆå§‹åŒ–'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

 

    <span class="hljs-keyword">const</span> success = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">openNotificationSettings</span>();

    <span class="hljs-keyword">if</span> (success &amp;amp;&amp;amp; onReturnCallback) {

      <span class="hljs-comment">// æ³¨å†Œä¸€æ¬¡æ€§å›è°ƒ</span>

      <span class="hljs-keyword">const</span> tempCallback = (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

        <span class="hljs-keyword">if</span> (isFocused) {

          <span class="hljs-keyword">const</span> isEnabled = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isNotificationEnabled</span>();

          <span class="hljs-title function_">onReturnCallback</span>(isEnabled);

          <span class="hljs-comment">// æ‰§è¡Œåç«‹å³æ³¨é”€</span>

          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unregisterFocusCallback</span>(tempCallback);

        }

      };

 

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerFocusCallback</span>(tempCallback);

    }

 

    <span class="hljs-keyword">return</span> success;

  }

}

 

<span class="hljs-comment">// å¯¼å‡ºé»˜è®¤å®ä¾‹</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">getInstance</span>();

 

</code></pre>
<ol start="2">
<li>åœ¨åº”ç”¨å…¥å£åˆå§‹åŒ–å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-title function_">setColorMode</span>(<span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">COLOR_MODE_NOT_SET</span>);

 

      <span class="hljs-comment">// åˆå§‹åŒ–é€šçŸ¥å·¥å…·ç±»</span>

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);

 

    } <span class="hljs-keyword">catch</span> (err) {

      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to set colorMode. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));

    }

    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);

  }

</code></pre>
<ol start="3">
<li>ä½¿ç”¨å°è£…åçš„å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotificationUtil</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./NotificationUtil'</span>;

 

<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationManagerDemo</span> {

  <span class="hljs-meta">@State</span> <span class="hljs-attr">focusState</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>

 

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

 

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'æ‰“å¼€åº”ç”¨é€šçŸ¥è®¾ç½®é¡µ'</span>)

        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&amp;gt; {

          <span class="hljs-keyword">await</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">openSettingsAndListenReturn</span>((<span class="hljs-attr">isEnabled</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ä»è®¾ç½®é¡µé¢è¿”å›ï¼Œé€šçŸ¥çŠ¶æ€:'</span>, isEnabled);

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({

              <span class="hljs-attr">message</span>: <span class="hljs-string">`é€šçŸ¥çŠ¶æ€: <span class="hljs-subst">${isEnabled ? <span class="hljs-string">'å·²å¼€å¯'</span> : <span class="hljs-string">'å·²å…³é—­'</span>}</span>`</span>

            });

          });

        })

 

    }

    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">onFocus</span>(() =&amp;gt; {

      <span class="hljs-comment">// å°†ç„¦ç‚¹å˜åŒ–ä¼ é€’ç»™å·¥å…·ç±»</span>

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-literal">true</span>);

    })

    .<span class="hljs-title function_">onBlur</span>(() =&amp;gt; {

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-literal">false</span>);

    })

  }

}

</code></pre>
<p><strong>4.é—®é¢˜æè¿°ï¼š</strong></p>
<p>å¦‚ä½•ç›´æ¥ä»¥å¼¹çª—æ–¹å¼æ‰“å¼€é€šçŸ¥ç®¡ç†é¡µé¢ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>
<p>é€šè¿‡isNotificationEnabledæ–¹æ³•æŸ¥è¯¢é€šçŸ¥æ˜¯å¦æˆæƒï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanagerisnotificationenabled11-1" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanagerisnotificationenabled11-1" ref="nofollow noopener noreferrer">isNotificationEnabledç”¨æ³•</a>ã€‚</p>
</li>
<li>
<p>è‹¥ç”³è¯·é€šçŸ¥æƒé™è¢«æ‹’ç»åï¼Œåç»­è°ƒç”¨requestEnableNotification()æ–¹æ³•ä¸å†å¼¹çª—ï¼ŒåŒæ—¶ä¼šè¿”å›é”™è¯¯ï¼Œé”™è¯¯ç æ˜¯1600004ã€‚å…·ä½“å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fnotification-enable" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/notification-enable" ref="nofollow noopener noreferrer">è¯·æ±‚é€šçŸ¥æˆæƒ</a>ã€‚</p>
</li>
</ol>
<p>å¦‚æœæƒ³äºŒæ¬¡æˆæƒï¼Œå¯ä»¥è°ƒç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanageropennotificationsettings13" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanageropennotificationsettings13" ref="nofollow noopener noreferrer">openNotificationSettings</a>ç”³è¯·æˆæƒï¼Œæ‹‰èµ·é€šçŸ¥ç®¡ç†å¼¹çª—ã€‚æˆ–è€…å¼•å¯¼ç”¨æˆ·è·³è½¬åº”ç”¨è®¾ç½®é¡µé¢å¼€å¯æƒé™ï¼Œè·³è½¬è®¾ç½®é¡µé¢æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-keyword">let</span> context = <span class="hljs-title function_">getContext</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

<span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {

  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.huawei.hmos.settings'</span>,

  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.huawei.hmos.settings.MainAbility'</span>,

  <span class="hljs-attr">uri</span>: <span class="hljs-string">'application_info_entry'</span>,

  <span class="hljs-attr">parameters</span>: {

    <span class="hljs-attr">pushParams</span>: <span class="hljs-string">"bundleName"</span> <span class="hljs-comment">// é…ç½®åº”ç”¨åŒ…å</span>

  }

};

context.<span class="hljs-title function_">startAbility</span>(want).<span class="hljs-title function_">then</span>(() =&amp;gt; {

}).<span class="hljs-keyword">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>)

});

</code></pre>
<p><strong>5.é—®é¢˜æè¿°ï¼š</strong></p>
<p>notificationManager.requestEnableNotification err.codeï¼š1600013ï¼ŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>ã€èƒŒæ™¯çŸ¥è¯†ã€‘</p>
<p>åº”ç”¨éœ€è¦è·å–ç”¨æˆ·æˆæƒæ‰èƒ½å‘é€é€šçŸ¥ã€‚åœ¨é€šçŸ¥å‘å¸ƒå‰è°ƒç”¨requestEnableNotification()æ–¹æ³•ï¼Œå¼¹çª—è®©ç”¨æˆ·é€‰æ‹©æ˜¯å¦å…è®¸å‘é€é€šçŸ¥ï¼Œåç»­å†æ¬¡è°ƒç”¨requestEnableNotification()æ–¹æ³•æ—¶ï¼Œåˆ™ä¸å†å¼¹çª—ã€‚å¯å‚è€ƒæ–‡æ¡£<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fnotification-enable" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/notification-enable" ref="nofollow noopener noreferrer">è¯·æ±‚é€šçŸ¥æƒé™</a>ã€‚</p>
<p>ã€é—®é¢˜å®šä½ã€‘</p>
<ol>
<li>
<p>æƒé™è¯·æ±‚æ—¶æœºé—®é¢˜ï¼Œéœ€è¦åœ¨UIåŠ è½½åå†ç”³è¯·ã€‚</p>
</li>
<li>
<p>æ˜¯å¦ç»‘å®šUiAbilityContextï¼Œcontextæ˜¯å¦æ­£å¸¸åˆå§‹åŒ–ã€‚</p>
</li>
<li>
<p>ä»¥å‰æœ‰å¼‚å¸¸å¼¹å‡ºçš„åœºæ™¯ï¼Œäº§ç”Ÿäº†è„æ•°æ®ã€‚</p>
</li>
<li>
<p>æ£€æŸ¥ç›¸å…³å‚æ•°HashMapä½¿ç”¨æ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ol>
<p>ã€åˆ†æç»“è®ºã€‘</p>
<ol>
<li>
<p>1600013ï¼Œè‹¥çª—å£æœªåŠ è½½å®Œæˆå°±è¯·æ±‚äº†é€šçŸ¥ï¼Œå¯¼è‡´æ¸²æŸ“å¼‚å¸¸ï¼Œå†æ¬¡è¯·æ±‚å°±ä¼šæŠ¥è¿™ä¸ªé”™ï¼Œå°½é‡åœ¨çª—å£åˆ›å»ºå¹¶æ¸²æŸ“åå†è°ƒç”¨ã€‚</p>
</li>
<li>
<p>å»ºè®®åœ¨entryAbilityä¸­è°ƒç”¨ï¼Œæˆ–æ˜¯åœ¨å¯¹åº”çš„é¡µé¢ä¸­è°ƒç”¨ï¼Œä¸å»ºè®®åœ¨æˆæƒæ—¶åˆ‡æ¢é¡µé¢ã€‚</p>
</li>
</ol>
<p>ã€ä¿®æ”¹å»ºè®®ã€‘</p>
<p>é’ˆå¯¹æŠ¥é”™codeï¼š1600013ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>æ‰§è¡Œé‡å¯æ‰‹æœºã€åˆ é™¤åº”ç”¨çš„æ“ä½œï¼Œæ¸…ç†è„æ•°æ®åå†æ¬¡å®‰è£…åº”ç”¨å°è¯•ã€‚ç”³è¯·é€šçŸ¥æƒé™ä»£ç æ”¹ä¸ºåœ¨uiåŠ è½½åå†ç”³è¯·ã€‚ä»£ç ç¤ºä¾‹ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, (err) =&amp;gt; {

     <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {

       hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);

       <span class="hljs-keyword">return</span>;

     }

 

     notificationManager.<span class="hljs-title function_">requestEnableNotification</span>().<span class="hljs-title function_">then</span>(() =&amp;gt; {

       hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'â€™testTag'</span>, <span class="hljs-string">'requestEnableNotification success'</span>);

     })

       .<span class="hljs-keyword">catch</span>((<span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

         hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'requestEnableNotification error : %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error))

       })

     hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content.'</span>);

   });

</code></pre>
<ol start="2">
<li>
<p>ç»‘å®šUiAbilityContextä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanagerrequestenablenotification10" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanagerrequestenablenotification10" ref="nofollow noopener noreferrer">æ¨¡æ€å¼¹çª—</a>æ–¹å¼ï¼Œåˆå§‹åŒ–contextã€‚ä»£ç ç¤ºä¾‹ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">let</span> context = <span class="hljs-title function_">getContext</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>().<span class="hljs-title function_">then</span>((<span class="hljs-attr">data</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"isNotificationEnabled success, data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));

  <span class="hljs-keyword">if</span>(!data){

    notificationManager.<span class="hljs-title function_">requestEnableNotification</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification success`</span>);

    }).<span class="hljs-keyword">catch</span>((err : <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-keyword">if</span>(<span class="hljs-number">1600004</span> == err.<span class="hljs-property">code</span>){

        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification refused, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

      } <span class="hljs-keyword">else</span> {

        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

      }

    });

  }

}).<span class="hljs-keyword">catch</span>((err : <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`isNotificationEnabled fail: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);

});

</code></pre>
<ul>
<li>ä¸åœ¨æˆæƒæ—¶åˆ‡æ¢é¡µé¢ï¼Œå»ºè®®åœ¨window.loadContentå›è°ƒä¸­è¯·æ±‚æƒé™ã€‚</li>
</ul>
<p/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰]]></title>    <link>https://juejin.cn/post/7573699930259849242</link>    <guid>https://juejin.cn/post/7573699930259849242</guid>    <pubDate>2025-11-18T07:43:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573699930259849242" data-draft-id="7573632156884205619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰"/> <meta itemprop="keywords" content="React.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:43:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ç‚¹é˜³å…‰"/> <meta itemprop="url" content="https://juejin.cn/user/4336129592794407"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129592794407/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ç‚¹é˜³å…‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:43:16.000Z" title="Tue Nov 18 2025 07:43:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>React Router v7 å·²ç»æ­£å¼æˆä¸ºç°ä»£ React åº”ç”¨çš„é»˜è®¤è·¯ç”±æ–¹æ¡ˆã€‚ç›¸æ¯”è¿‡å»çš„ç‰ˆæœ¬ï¼Œv7 åœ¨æ•°æ®åŠ è½½ã€è·¯ç”±æ‡’åŠ è½½ã€é”™è¯¯è¾¹ç•Œã€è·¯ç”±æ¨¡å—åŒ–ç­‰æ–¹é¢åšäº†æ›´ç»Ÿä¸€ã€æ›´ç°ä»£åŒ–çš„è®¾è®¡ã€‚</p>
<p>æœ¬æ–‡å¸¦ä½ å¿«é€ŸæŒæ¡ <strong>åŸºç¡€ç”¨æ³• + é«˜çº§ç”¨æ³•</strong>ï¼Œé€‚åˆä» v5/v6 å‡çº§æˆ–æ–°é¡¹ç›®ä½¿ç”¨</p>
<h2 data-id="heading-0"><strong>ä¸€ã€æ ¸å¿ƒç†å¿µä¸å˜åŒ–æ¦‚è§ˆ</strong></h2>
<p>React Router v7 ä¸»è¦å›´ç»•ä¸‰ä¸ªå…³é”®è¯ï¼š</p>
<h4 data-id="heading-1"><strong>1. è·¯ç”±æ˜¯ UI çš„ä¸€éƒ¨åˆ†</strong></h4>
<p>-router æ˜¯ç»„ä»¶</p>
<ul>
<li>ä¸å†æ˜¯é…ç½®å¼ä¸ºä¸»ï¼Œç»„ä»¶å¼æ›´è‡ªç„¶</li>
<li>Layout + Outlet æˆä¸ºä¸»æµ</li>
</ul>
<h4 data-id="heading-2"><strong>2. æ•°æ®è·¯ç”±ï¼ˆData Routerï¼‰ç»Ÿä¸€åŒ–</strong></h4>
<p>æä¾›ç»Ÿä¸€ APIï¼š</p>
<ul>
<li><code>loader</code> æ•°æ®åŠ è½½</li>
<li><code>action</code> æ•°æ®æäº¤</li>
<li><code>lazy</code> æ‡’åŠ è½½è·¯ç”±èµ„æº</li>
<li><code>errorElement</code> é”™è¯¯è¾¹ç•Œ</li>
</ul>
<h4 data-id="heading-3"><strong>3. ç»„ä»¶å³è·¯ç”±</strong></h4>
<p>v7 ä¿ç•™äº† v6 çš„ <code>createBrowserRouter</code>ã€<code>RouterProvider</code>ï¼Œå¹¶ç»§ç»­å¼ºåŒ–åµŒå¥—è·¯ç”±çš„æ¦‚å¿µ</p>
<h2 data-id="heading-4"><strong>äºŒã€åŸºç¡€ç”¨æ³•</strong></h2>
<h3 data-id="heading-5"><strong>1. å®‰è£…</strong></h3>
<pre><code class="hljs">npm install react-router-dom
</code></pre>
<h3 data-id="heading-6"/>
<h3 data-id="heading-7"><strong>2. æœ€ç®€è·¯ç”±ç»“æ„</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createBrowserRouter, <span class="hljs-title class_">RouterProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomePage</span> /&gt;</span></span>,
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/about"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AboutPage</span> /&gt;</span></span>,
  },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}</span> /&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-8"/>
<h3 data-id="heading-9"><strong>3. Layout + Outletï¼ˆåµŒå¥—è·¯ç”±ï¼‰</strong></h3>
<p>Layout æ˜¯ v7 å¼ºè°ƒçš„æœ€ä½³å®è·µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Outlet</span>, <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Layout</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/profile"</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span> {/* å­è·¯ç”±åœ¨è¿™é‡Œæ¸²æŸ“ */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      { <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomePage</span> /&gt;</span></span> },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">"profile"</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProfilePage</span> /&gt;</span></span> },
    ],
  },
]);
</code></pre>
<h2 data-id="heading-10"><strong>ä¸‰ã€æ‡’åŠ è½½ï¼ˆasync lazyï¼‰â€”â€”å¼ºçƒˆæ¨èå†™æ³•</strong></h2>
<p>React Router v7 å®˜æ–¹æ¨èä½¿ç”¨ <code>async lazy()</code> æ¥è¿›è¡Œè·¯ç”±çº§æŒ‰éœ€åŠ è½½ã€‚</p>
<h4 data-id="heading-11"><strong>ğŸ”¥ æ¨èå†™æ³•ï¼šasync lazy()</strong></h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    path: <span class="hljs-string">"/"</span>,
    <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
      <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Layout"</span>)).<span class="hljs-literal">default</span>;
      <span class="hljs-keyword">return</span> { Component };
    },
    children: [
      {
        index: <span class="hljs-literal">true</span>,
        <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
          <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Home"</span>)).<span class="hljs-literal">default</span>;
          <span class="hljs-keyword">return</span> { Component };
        },
      },
      {
        path: <span class="hljs-string">"profile"</span>,
        <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
          <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Profile"</span>)).<span class="hljs-literal">default</span>;
          <span class="hljs-keyword">return</span> { Component };
        },
      },
    ],
  },
]);
</code></pre>
<p>ä¼˜åŠ¿ï¼š<br/>
âœ” è¯­æ³•å¹²å‡€<br/>
âœ” å’Œ Data Router å®Œæ•´å…¼å®¹<br/>
âœ” è‡ªåŠ¨ Suspense<br/>
âœ” æ”¯æŒ SSRï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰<br/>
âœ” å¤§å‹é¡¹ç›®ç»“æ„æ¸…æ™°</p>
<h2 data-id="heading-12"><strong>å››ã€è·³è½¬ä¸å‚æ•°è¯»å–</strong></h2>
<h3 data-id="heading-13"><strong>1. è·³è½¬</strong></h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">navigate</span> = useNavigate()<span class="hljs-comment">;</span>
navigate("/profile")<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-14"><strong>2. è·å–è·¯å¾„å‚æ•°</strong></h3>
<pre><code class="hljs language-scss" lang="scss">const { id } = <span class="hljs-built_in">useParams</span>();
</code></pre>
<h3 data-id="heading-15"><strong>3. è·å–æŸ¥è¯¢å‚æ•°</strong></h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[searchParams]</span> = useSearchParams()<span class="hljs-comment">;</span>
const <span class="hljs-attr">keyword</span> = searchParams.get(<span class="hljs-string">"keyword"</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-16"/>
<h2 data-id="heading-17"><strong>äº”ã€è·³è½¬ä¸å‚æ•°è¯»å–ï¼ˆåŠ å¼ºç‰ˆï¼‰</strong></h2>
<p>è¿™ä¸€éƒ¨åˆ†å¾ˆå¤šäººç”¨å¾—ä¸å…¨ï¼Œè¿™é‡Œè®² <strong>è·³è½¬æ–¹å¼ã€è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€çŠ¶æ€ä¼ å‚</strong> 4 å¤§ç±»ã€‚</p>
<hr/>
<h2 data-id="heading-18"><strong>ğŸ“Œ 1. è·³è½¬å¯¼èˆª</strong></h2>
<h4 data-id="heading-19"><strong>ï¼ˆ1ï¼‰useNavigateï¼šæœ€å¸¸ç”¨è·³è½¬</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> nav = <span class="hljs-title function_">useNavigate</span>();

<span class="hljs-title function_">nav</span>(<span class="hljs-string">"/profile"</span>);                 <span class="hljs-comment">// æ™®é€šè·³è½¬</span>
<span class="hljs-title function_">nav</span>(-<span class="hljs-number">1</span>);                         <span class="hljs-comment">// è¿”å›ä¸Šä¸€é¡µ</span>
<span class="hljs-title function_">nav</span>(<span class="hljs-string">"/login"</span>, { <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> }); <span class="hljs-comment">// ä¸ç•™å†å²è®°å½•</span>
</code></pre>
<hr/>
<h4 data-id="heading-20"><strong>ï¼ˆ2ï¼‰é“¾æ¥è·³è½¬ Link</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
</code></pre>
<hr/>
<h4 data-id="heading-21"><strong>ï¼ˆ3ï¼‰æŒ‰é’®è·³è½¬ Navigate ç»„ä»¶</strong></h4>
<p>é€‚åˆæ¡ä»¶è·³è½¬ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">{ isLogin ? &lt;Dashboard /&gt; : &lt;Navigate <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> replace /&gt; }
</code></pre>
<hr/>
<h2 data-id="heading-22"><strong>ğŸ“Œ 2. è·¯å¾„å‚æ•°ï¼ˆURL Paramsï¼‰</strong></h2>
<p>ä¾‹å¦‚è®¿é—®ï¼š<br/>
<code>/user/123</code></p>
<p>å®šä¹‰è·¯ç”±ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  path: <span class="hljs-string">"user/:id"</span>,
  element: &lt;UserDetail /&gt;
}
</code></pre>
<p>è¯»å–å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

const { <span class="hljs-built_in">id</span> } = useParams(); // <span class="hljs-built_in">id</span> === <span class="hljs-string">"123"</span>
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>params ä¸€å®šæ˜¯å­—ç¬¦ä¸²ç±»å‹</li>
<li>å¯ç”¨ Zod/Number() åšè½¬æ¢</li>
</ul>
<hr/>
<h2 data-id="heading-23"><strong>ğŸ“Œ 3. æŸ¥è¯¢å‚æ•°ï¼ˆSearch Paramsï¼‰</strong></h2>
<p>ä¾‹å¦‚è®¿é—®ï¼š<br/>
<code>/list?page=2&amp;keyword=test</code></p>
<p>è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useSearchParams } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-section">[search]</span> = useSearchParams()<span class="hljs-comment">;</span>

const <span class="hljs-attr">page</span> = search.get(<span class="hljs-string">"page"</span>)<span class="hljs-comment">; </span>
const <span class="hljs-attr">keyword</span> = search.get(<span class="hljs-string">"keyword"</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[search, setSearch]</span> = <span class="hljs-built_in">useSearchParams</span>();

<span class="hljs-built_in">setSearch</span>({ page: <span class="hljs-number">3</span> });
</code></pre>
<p>æ”¯æŒ appendï¼š</p>
<pre><code class="hljs language-go" lang="go">search.<span class="hljs-built_in">append</span>(<span class="hljs-string">"type"</span>, <span class="hljs-string">"A"</span>);
setSearch(search);
</code></pre>
<hr/>
<h2 data-id="heading-24"><strong>ğŸ“Œ 4. è·³è½¬æ—¶æºå¸¦ stateï¼ˆé URLï¼‰</strong></h2>
<p>ç±»ä¼¼ history.push çš„ stateï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">nav</span>("/detail", {
  state: { <span class="hljs-selector-tag">from</span>: <span class="hljs-string">"list"</span>, id: <span class="hljs-number">123</span> }
});
</code></pre>
<p>è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useLocation } from "react-router-dom"<span class="hljs-comment">;</span>

const { state } = useLocation()<span class="hljs-comment">;</span>
// <span class="hljs-attr">state.from</span> === <span class="hljs-string">"list"</span>
</code></pre>
<p>ç”¨æ³•ï¼š</p>
<ul>
<li>æœç´¢åˆ—è¡¨ â†’ è¯¦æƒ…</li>
<li>è·¨é¡µé¢ä¸´æ—¶æ•°æ®</li>
<li>ä¸æ±¡æŸ“ URL</li>
<li>ä»…ä¼šè¯å†…æœ‰æ•ˆ</li>
</ul>
<hr/>
<h2 data-id="heading-25"/>
<h2 data-id="heading-26"><strong>å…­ã€Data Routerï¼šloader ä¸ actionï¼ˆé«˜çº§ï¼‰</strong></h2>
<h2 data-id="heading-27"><strong>ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ Data Routerï¼Ÿ</strong></h2>
<p>ä¼ ç»Ÿ SPA æ•°æ®åŠ è½½æµç¨‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">æ¸²æŸ“ç»„ä»¶ â†’ useEffect â†’ <span class="hljs-keyword">fetch</span> æ•°æ® â†’ setState â†’å†æ¸²æŸ“
</code></pre>
<p>ä½†è¿™æœ‰å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>å¤šå±‚åµŒå¥—æ—¶ useEffect éå¸¸ä¹±</li>
<li>SSRã€é¢„åŠ è½½ã€åˆ‡æ¢é¡µé¢æ—¶ä¸èƒ½ä¿è¯ä¸€è‡´æ€§</li>
<li>å¼‚æ­¥é”™è¯¯å¾ˆéš¾é›†ä¸­å¤„ç†</li>
<li>é¦–å±æ¸²æŸ“è¿‡æ…¢</li>
<li>React æ¸²æŸ“åæ‰è¯·æ±‚æ•°æ®ï¼Œç™½å±æ—¶é—´æ›´é•¿</li>
</ul>
<p>React Router v7 å¼•å…¥ Data Router åï¼Œæµç¨‹å˜æˆï¼š</p>
<pre><code class="hljs">è¿›å…¥æŸä¸ªè·¯ç”± â†’ æ‰§è¡Œ loader â†’ æ•°æ®å‡†å¤‡å¥½ â†’ å†æ¸²æŸ“ç»„ä»¶
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>é¡µé¢æ¸²æŸ“ <strong>ä¹‹å‰</strong> å°±æ‹¿åˆ°æ•°æ®ï¼ˆé¦–å±æ›´å¿«ï¼‰</li>
<li>æ•°æ®é€»è¾‘ä» UI åˆ†ç¦»</li>
<li>é”™è¯¯è‡ªåŠ¨èµ°è·¯ç”± errorElement</li>
<li>å¤šä¸ª loader å¹¶è¡Œæ‰§è¡Œ</li>
<li>æ”¯æŒè‡ªåŠ¨ revalidateï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰</li>
<li>SSR &amp; CSR ç»Ÿä¸€å¼€å‘ä½“éªŒ</li>
</ul>
<hr/>
<h2 data-id="heading-28"><strong>ğŸ“Œ 1. loaderï¼šåŠ è½½é¡µé¢æ•°æ®</strong></h2>
<p>loader æ˜¯è·¯ç”±çº§æ•°æ®åŠ è½½å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/detail/:id"</span>,
  <span class="hljs-attr">loader</span>: <span class="hljs-keyword">async</span> ({ params, request }) =&gt; {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/detail/<span class="hljs-subst">${params.id}</span>`</span>);
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DetailPage</span> /&gt;</span></span>
}
</code></pre>
<p>ç»„ä»¶å†…è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useLoaderData } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-attr">data</span> = useLoaderData()<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-29"><strong>2. actionï¼šè¡¨å•æäº¤é€»è¾‘</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/create"</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> form = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">formData</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createItem</span>(form);
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CreatePage</span> /&gt;</span></span>
}
</code></pre>
<p>é…åˆ <code>&lt;Form&gt;</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"title"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-30"><strong>ä¸ƒã€é”™è¯¯è¾¹ç•Œ errorElement</strong></h2>
<p>v7 æ”¯æŒè·¯ç”±çº§é”™è¯¯ UIï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,
  <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorPage</span> /&gt;</span></span>,
}
</code></pre>
<p>è¯»å–å¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">err</span> = useRouteError()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-31"><strong>å…«ã€handleï¼šè·¯ç”±å…ƒä¿¡æ¯ï¼ˆmetaï¼‰</strong></h2>
<p>å¯ç”¨äºï¼š</p>
<ul>
<li>é¡µé¢æ ‡é¢˜</li>
<li>é¢åŒ…å±‘</li>
<li>æƒé™</li>
<li>è·¯ç”±æè¿°</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">{
  <span class="hljs-attr">path:</span> <span class="hljs-string">"settings"</span>,
  <span class="hljs-attr">handle:</span> { <span class="hljs-attr">title:</span> <span class="hljs-string">"ç³»ç»Ÿè®¾ç½®"</span>, <span class="hljs-attr">auth:</span> <span class="hljs-literal">true</span> },
  <span class="hljs-attr">element:</span> <span class="hljs-string">&lt;SettingsPage</span> <span class="hljs-string">/&gt;</span>
}
</code></pre>
<p>è¯»å–æ‰€æœ‰åŒ¹é…è·¯ç”±çš„ handleï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useMatches } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-attr">matches</span> = useMatches()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-32"><strong>ä¹ã€æ¨¡å—åŒ–è·¯ç”±ï¼ˆå¤§å‹é¡¹ç›®æœ€ä½³å®è·µï¼‰</strong></h2>
<p>å‡è®¾æœ‰ä¸‰ä¸ªæ¨¡å—ï¼š<strong>Dashboardã€Userã€Project</strong></p>
<h4 data-id="heading-33"><strong>1ï¸âƒ£ Dashboard æ¨¡å—</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/dashboard.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> dashboardRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"dashboard"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Dashboard"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
    <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"Dashboard"</span> },
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-34"><strong>2ï¸âƒ£ User æ¨¡å—ï¼ˆå¸¦ loader/actionï¼‰</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/user.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"user"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/User/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/User/List"</span>)).<span class="hljs-property">default</span>;
          <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
        },
        <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"ç”¨æˆ·åˆ—è¡¨"</span> },
      },
    ],
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-35"><strong>3ï¸âƒ£ Project æ¨¡å—</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/project.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> projectRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"project"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Project/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Project/List"</span>)).<span class="hljs-property">default</span>;
          <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
        },
        <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"é¡¹ç›®åˆ—è¡¨"</span> },
      },
     
    ],
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-36"><strong>4ï¸âƒ£ ä¸»è·¯ç”±ç»Ÿä¸€æ•´åˆ</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/index.ts</span>
<span class="hljs-keyword">import</span> { createBrowserRouter } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> { dashboardRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./dashboard.routes"</span>;
<span class="hljs-keyword">import</span> { userRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./user.routes"</span>;
<span class="hljs-keyword">import</span> { projectRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./project.routes"</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      ...dashboardRoutes,
      ...userRoutes,
      ...projectRoutes,
    ],
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/login"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Login"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"*"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/NotFound"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
  },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<hr/>
<h2 data-id="heading-37"><strong>åã€æƒé™æ§åˆ¶ï¼ˆç»“åˆ loader + handleï¼‰</strong></h2>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"admin"</span>,
  <span class="hljs-attr">handle</span>: { <span class="hljs-attr">auth</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">loader</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> login = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkLogin</span>();
    <span class="hljs-keyword">if</span> (!login) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">redirect</span>(<span class="hljs-string">"/login"</span>);
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> /&gt;</span></span>
}
</code></pre>
<p>æ»¡è¶³æ‰€æœ‰æƒé™åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-38"><strong>ç»“è¯­</strong></h2>
<p>React Router v7 æ˜¯ç›®å‰ React ç”Ÿæ€æœ€å…¨é¢çš„ SPA/SSR è·¯ç”±æ–¹æ¡ˆï¼Œå®ƒçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç»Ÿä¸€çš„é¡µé¢åŠ è½½æ–¹å¼</li>
<li>æŒ‰éœ€åŠ è½½ï¼ˆlazyï¼‰</li>
<li>æ¨¡å—åŒ–è·¯ç”±</li>
<li>çœŸæ­£æ„ä¹‰çš„è·¯ç”±æ•°æ®å±‚</li>
<li>å¼ºå¤§çš„é”™è¯¯è¾¹ç•Œå’Œ handle</li>
</ul>
<p>æ— è®ºæ˜¯å°é¡¹ç›®è¿˜æ˜¯å¤§å‹ç®¡ç†åå°ï¼Œå®ƒéƒ½è¶³å¤Ÿå¯æ§ä¸”å¯æ‰©å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–]]></title>    <link>https://juejin.cn/post/7573687816431058954</link>    <guid>https://juejin.cn/post/7573687816431058954</guid>    <pubDate>2025-11-18T07:38:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816431058954" data-draft-id="7573699930259701786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-11-18T07:38:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—‹è½¬çš„é©¬é“ƒè–¯å¹²"/> <meta itemprop="url" content="https://juejin.cn/user/2138965292615177"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2138965292615177/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—‹è½¬çš„é©¬é“ƒè–¯å¹²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:38:03.000Z" title="Tue Nov 18 2025 07:38:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€æœŸæˆ‘ä»¬è®²äº†æ ·æœ¬ç›¸å…³æ€§åˆ†æçš„ä¸€äº›å¯è§†åŒ–ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬æ¥åšå·®å¼‚åˆ†æçš„çƒ­å›¾å’Œç«å±±å›¾ã€‚</p>
<p><strong>ç«å±±å›¾</strong></p>
<p>ç«å±±å›¾ï¼ˆVolcano Plotï¼‰RNA-seqç­‰åˆ†ææ—¶å¸¸ç”¨çš„ä¸€ç§å›¾ï¼Œå®ƒèƒ½å¤Ÿæ¸…æ™°åœ°å±•ç¤ºæ˜¾è‘—ä¸Šè°ƒå’Œä¸‹è°ƒçš„åŸºå› ï¼Œå› ä½œå‡ºæ¥çš„å›¾å½¢å¦‚ç«å±±å–·å‘ï¼Œæ•…è€Œå¾—åã€‚</p>
<p>ä¾‹å¦‚å›¾ä¸­ï¼ŒXè½´ä¸€èˆ¬è¡¨ç¤ºlog2çš„å€æ•°å˜åŒ–ï¼ŒYè½´ä¸€èˆ¬è¡¨ç¤º-log10(p-value)ï¼Œä¸åŒé¢œè‰²çš„ç‚¹è¡¨ç¤ºæ»¡è¶³ä¸åŒæ¡ä»¶çš„åŸºå› ã€‚<br/>
çº¢è‰²è¡¨ç¤ºä¸Šè°ƒåŸºå› ï¼ˆP&lt;0.05, Fold change &gt;=2ï¼‰ï¼Œè“è‰²è¡¨ç¤ºä¸‹è°ƒåŸºå› ï¼Œç°è‰²è¡¨ç¤ºä¸æ˜¾è‘—çš„åŸºå› ï¼ˆå³è¦ä¹ˆFold changeä¸æ»¡è¶³é˜ˆå€¼ï¼Œè¦ä¹ˆPvalueä¸æ»¡è¶³é˜ˆå€¼ï¼Œè¦ä¹ˆFold changeå’ŒPvalueéƒ½ä¸æ»¡è¶³é˜ˆå€¼ï¼‰ï¼Œä¸¤æ¡å‚ç›´è™šçº¿è¡¨ç¤ºFold changeï¼ˆè¿™é‡Œé»˜è®¤2å€ï¼Œå³log2(2)=1ï¼‰ï¼Œä¸€æ¡æ°´å¹³çº¿è¡¨ç¤ºPvalueé˜ˆå€¼ï¼ˆé»˜è®¤0.05ï¼‰</p>
<pre><code class="hljs language-ini" lang="ini">DE &lt;- read.delim("Rworkspace/de_result") <span class="hljs-comment">#å¯¼å…¥å·®å¼‚åˆ†æç»“æœ</span>
library(ggrepel)
my_palette &lt;- c('<span class="hljs-comment">#4DBBD5FF', '#999999','#E64B35FF' )</span>
library(ggplot2) 
ggplot(<span class="hljs-attr">data</span> = DE, aes(x = log2FoldChange, y = -log10(padj))) + 
geom_point(aes(<span class="hljs-attr">color</span> = direction, size = abs(log2FoldChange))) + 
geom_hline(<span class="hljs-attr">yintercept</span> = -log10(<span class="hljs-number">0.05</span>), linetype = <span class="hljs-string">'dashed'</span>, color = <span class="hljs-string">'red'</span>) + Â Â geom_vline(xinterceptÂ =Â c(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>),Â linetypeÂ =Â <span class="hljs-string">'dashed'</span>)Â +  
scale_color_manual(<span class="hljs-attr">values</span> = my_palette) +  
scale_size(<span class="hljs-attr">range</span> = c(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.5</span>)) + 
guides(<span class="hljs-attr">size</span> = <span class="hljs-literal">FALSE</span>) + 
labs(<span class="hljs-attr">x</span> = <span class="hljs-string">'log2 fold change'</span>,    
<span class="hljs-attr">y</span> = <span class="hljs-string">'-log10(pvalue)'</span> ,   
<span class="hljs-attr">title</span> = <span class="hljs-string">'Vocano plot'</span>,    
<span class="hljs-attr">size</span> = <span class="hljs-string">'log2 fold change'</span>) +    
theme_bw()   
<span class="hljs-attr">legend.background</span> = element_blank())
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ac409cb87144af80a33669d0df331e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056283&amp;x-signature=8%2FjIs8UwWrpbm54cSUWBK9fhLGI%3D" alt="image.png" loading="lazy"/></p>
<p>ç”¨é¢œè‰²ä»£è¡¨æ•°å­—ï¼Œè®©æ•°æ®å‘ˆç°æ›´ç›´è§‚ï¼Œå¯¹æ¯”æ›´æ˜æ˜¾ã€‚<br/>
ç›´è§‚å‘ˆç°å¤šæ ·æœ¬å¤šä¸ªåŸºå› çš„å…¨å±€è¡¨è¾¾é‡å˜åŒ–ã€‚</p>
<p>å‘ˆç°å¤šæ ·æœ¬å¤šåŸºå› è¡¨è¾¾é‡çš„èšç±»å…³ç³»ã€‚</p>
<p>èšç±»æ˜¯æŠŠç›¸ä¼¼çš„å¯¹è±¡é€šè¿‡é™æ€åˆ†ç±»çš„æ–¹æ³•åˆ†æˆä¸åŒçš„ç»„åˆ«æˆ–è€…æ›´å¤šçš„å­é›†ï¼Œè¿™æ ·è®©åœ¨åŒä¸€ä¸ªå­é›†ä¸­çš„æˆå‘˜å¯¹è±¡éƒ½æœ‰ç›¸ä¼¼çš„ä¸€äº›å±æ€§ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">library</span>(tidyverse)
de_result &lt;- <span class="hljs-attribute">filter</span>(DE, abs(log2FoldChange) &gt; <span class="hljs-number">1</span> &amp; padj &lt; <span class="hljs-number">0.05</span>) %&gt;%
<span class="hljs-built_in">mutate</span>(FC = <span class="hljs-number">2</span> **log2FoldChange) %&gt;%  <span class="hljs-built_in">mutate</span>(direction = if_else( 
padj &gt; <span class="hljs-number">0.05</span>, 'ns', if_else(  
abs(log2FoldChange) &lt; <span class="hljs-number">1</span>, 'ns', <span class="hljs-built_in">if_else</span>(   
log2FoldChange &gt;= <span class="hljs-number">1</span>, 'up', 'down')))) %&gt;%
<span class="hljs-built_in">left_join</span>(gene_info, by = c('GID' = 'ID')) %&gt;% 
<span class="hljs-built_in">left_join</span>(rownames_to_column(genes_exp, var = 'GID'), 
by = 'GID') %&gt;%Â Â dplyr::<span class="hljs-built_in">select</span>(<span class="hljs-built_in">-c</span>(<span class="hljs-number">8</span>:<span class="hljs-number">9</span>))#logFC&gt;<span class="hljs-number">2</span>,padi&lt;<span class="hljs-number">0.05</span>ç­›é€‰å·®å¼‚åŸºå› ï¼Œå¹¶å…³è”åŸºå› ä¿¡æ¯è¡¨å’Œè¡¨è¾¾çŸ©é˜µpheatmap_de &lt;- <span class="hljs-built_in">select</span>(de_result, <span class="hljs-built_in">-c</span>(<span class="hljs-number">2</span>:<span class="hljs-number">15</span>)) %&gt;% 
<span class="hljs-built_in">column_to_rownames</span>(var = <span class="hljs-string">'GID'</span>)<span class="hljs-built_in">pheatmap</span>(<span class="hljs-built_in">log10</span>(pheatmap_deÂ ),Â cluster_rowsÂ =Â TRUE,Â          show_rownames = F,       
annotation_col = <span class="hljs-built_in">select</span>(sample_info, group),         cutree_rows =<span class="hljs-number">2</span>,         cutree_cols =<span class="hljs-number">2</span> )#ç”»å›¾å¹¶æ·»åŠ æ³¨é‡Šä¿¡æ¯
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ]]></title>    <link>https://juejin.cn/post/7573669819028963338</link>    <guid>https://juejin.cn/post/7573669819028963338</guid>    <pubDate>2025-11-18T07:46:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819028963338" data-draft-id="7573694361474383899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-11-18T07:46:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—‹è½¬çš„é©¬é“ƒè–¯å¹²"/> <meta itemprop="url" content="https://juejin.cn/user/2138965292615177"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2138965292615177/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—‹è½¬çš„é©¬é“ƒè–¯å¹²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:46:33.000Z" title="Tue Nov 18 2025 07:46:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€æœŸæˆ‘ä»¬è®²äº†æ ·æœ¬ç›¸å…³æ€§åˆ†æçš„ä¸€äº›å¯è§†åŒ–ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬æ¥åšå·®å¼‚åˆ†æçš„çƒ­å›¾å’Œç«å±±å›¾ã€‚
<strong>æ„å»ºOrgDB</strong></p>
<p>OrgDBæ˜¯bioconductorä¸­å­˜å‚¨ä¸åŒæ•°æ®åº“åŸºå› IDä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠåŸºå› ä¸GOç­‰æ³¨é‡Šçš„å¯¹åº”å…³ç³»çš„Rè½¯ä»¶åŒ…ã€‚å…±æœ‰19ä¸ªç‰©ç§ï¼Œå¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼šBioconductor - BiocViews<br/>
æ²¡æœ‰OrgDBçš„ç‰©ç§å¯ä»¥é€šè¿‡AnnotationForgeè‡ªå·±æ„å»ºä½¿ç”¨eggnog-mapperçš„æ³¨é‡Šç»“æœæ„å»ºOrgDBï¼ˆç§èŠæˆ‘è·å–æ„å»ºOrgDBè„šæœ¬ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d665e88305a1420898fdae0db26b8ca0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=ElwVNHTZO75qhja%2FU2eiNIx0YRw%3D" alt="image.png" loading="lazy"/></p>
<p>GOå¯Œé›†ï¼ˆå·²æœ‰OrgDB,æ‹Ÿå—èŠ¥ä¸ºä¾‹ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83d7c21655a5458a84fa3d19955db9b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=JoG9YnEg99wkHV1TYr0rHJL3Qrg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab541bb7007042d39545dd8abafa9103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=P9ojN%2BO0yZjUAxeJxaMGkM5bHKs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8d811494d294a27ae1fb6a1ef3989b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=6dSOYE3kgUun%2BYxif1N2MfOYKgI%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/109009a3f69648d98debdda8ef26e8e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=Djv%2F0xAxn%2FIauJESrMSFMkQ96%2Bg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25030ccc1a714ae885b6801e7b6b232a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=wQFclwvYWwXnOE5Cai8vNi62pvQ%3D" alt="image.png" loading="lazy"/></p>
<p>KEGGå¯Œé›†åˆ†æï¼ˆä¸å¸¸è§ç‰©ç§ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbc2e793554a416dbbcd6bbb401c1171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=Zszu596Xt1YKWCEHmyfoWPGx%2F4s%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e776190ea85942599e90b77a0cbb45f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=EHgoxP9BCD3QhWxoXuXKXPQde%2BY%3D" alt="image.png" loading="lazy"/></p>
<p>KEGGå¯Œé›†åˆ†æï¼ˆå¸¸è§ç‰©ç§,æ‹Ÿå—èŠ¥ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffacbc9be2414603aefb41702bfcefbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=iGJxWZmVKNtWsvrR3T16wECCjYs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a79ab4a4ec544eb0b7db01a76f091aef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=j4zWKkZhMVkwkaR46zdERX3HLgM%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>